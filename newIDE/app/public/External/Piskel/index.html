<html>
<head>
  <title>Gdevelop Piskel Editor</title>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
   <span id="label">Status: null </span>
  <script>
  const electron = require('electron');
  const ipcRenderer = electron.ipcRenderer ;
  const path = require('path');
  const fs = require('fs');

  // var editorFrameEl = document.querySelector(".editor-frame");
  // const pskl = document.querySelector(".editor-frame").contentWindow.pskl;

  ipcRenderer.on('piskelAnimation',(event,imageFrames) => {
    var editorFrameEl = document.querySelector(".editor-frame");
    var pskl = editorFrameEl.contentWindow.pskl;
    let label = document.getElementById("label");
    label.innerHTML = 'errrrrrrrr ' 
    // log.info("I GOT EM");
    // log.info(imageFrames);
    // alert("HALELUJAH");
    // if (pskl) {
 
      label.innerHTML = "count "+ String(imageFrames.length);

      for (var i = 0; i < imageFrames.length; i++) {
        var image = imageFrames[i];
        label.innerHTML = "loop "+ String(i);
        // pskl.utils.FrameUtils.addImageToFrame(i, image, 5, 5);
        // pskl.utils.FrameUtils.createFromImage(image, true);
        // pskl.utils.PiskelFileUtils.readFile(image, ()=>{});
        
        // pskl.model.Frame.fromPixelGrid(framePixelGrid)
        console.log("tried to load");
        console.log(image);
      };
      pskl.service.ImportService.prototype.createPiskelFromImages_(imageFrames, "foo",55, 55, false);
      // console.log(imageFrames);
    // };
    
  });
  </script>
  <iframe class="editor-frame" src="editor/index.html"></iframe>
  <script type="text/javascript" src="script.js"></script>
  
</body>
</html>