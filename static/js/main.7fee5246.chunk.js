(this["webpackJsonpgdevelop-ide"]=this["webpackJsonpgdevelop-ide"]||[]).push([[56],[,,,function(e,t,n){(function(t){const r=n(64)();e.exports=(e,n={rethrowException:!1})=>{try{return t.require?t.require(e):r?r(e):null}catch(o){if(n.rethrowException)throw o;return null}}}).call(this,n(1))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(3),o=n.n(r),i=n(33),s=n.n(i),a=n(24);const c=o()("electron"),u=c?c.shell:null,l=c?c.remote.dialog:null,d="_";let h=null;class p{static setTitle(e){if(c)try{c.remote.getCurrentWindow().setTitle(e)}catch(t){console.error("Caught an error while calling browserWindow.setTitle",t)}else document.title=e}static setTitleBarColor(e){if(c)return;if(h===e)return;const t=document.querySelector('meta[name="theme-color"]');t&&(t.setAttribute("content",e),h=e)}static setBounds(e,t,n,r){if(!c)return;let o=1;if(Object(a.g)()){const i={x:e,y:t,width:n,height:r};o=c.remote.screen.getDisplayMatching(i).scaleFactor}const i=c.remote.getCurrentWindow();try{i.setBounds({x:Math.round(e/o),y:Math.round(t/o),width:Math.round(n/o),height:Math.round(r/o)})}catch(s){console.warn("Unable to change window bounds",s)}this.show()}static quit(){if(!c)return;c.remote.app.quit()}static show(){if(!c)return;const e=c.remote.getCurrentWindow();e.showInactive(),e.setAlwaysOnTop(!0)}static hide(e=!1){if(!c)return;const t=c.remote.getCurrentWindow();t.isFocused()&&!e||(t.setAlwaysOnTop(!1),t.hide())}static onFocus(e){if(c)return c.remote.getCurrentWindow().on("focus",e)}static onBlur(e){if(c)return c.remote.getCurrentWindow().on("blur",e)}static onClose(e){if(c)return c.remote.getCurrentWindow().on("close",e)}static getArguments(){if(c)return c.remote.getGlobal("args");const e={};return new s.a(window.location.search).forEach((t,n)=>e[n]=t),e[d]=e.project?[e.project]:[],e}static showMessageBox(e,t){if(!l||!c)return void alert(e);const n=c.remote.getCurrentWindow();l.showMessageBoxSync(n,{message:e,type:t,buttons:["OK"]})}static showConfirmDialog(e,t){if(!l||!c)return confirm(e);const n=c.remote.getCurrentWindow();return 0===l.showMessageBoxSync(n,{message:e,type:t,buttons:["OK","Cancel"]})}static setUpContextMenu(){if(c){var e=c.remote.require("electron-editor-context-menu");window.addEventListener("contextmenu",(function(t){if(t.target.closest('textarea, input, [contenteditable="true"]')){var n=e();setTimeout((function(){n.popup({window:c.remote.getCurrentWindow()})}),30)}}))}else document&&document.addEventListener("contextmenu",(function(e){return!!e.target.closest('textarea, input, [contenteditable="true"]')||(e.preventDefault(),!1)}))}static openExternalURL(e){c?u&&u.openExternal(e):window.open(e,"_blank")}static isFullscreen(){return!!document.fullscreenElement}static requestFullscreen(){const e=document.documentElement;e&&(e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())}static hasMainMenu(){return!!c}static isDev(){if(!c)return!1;try{return c.remote.require("electron-is").dev()}catch(e){return console.error("Caught an error while calling electron.remote.require('electron-is').dev",e),!1}}}},,,function(e,t,n){"use strict";var r=n(7),o=n.n(r),i=n(5),s=n(12);n(13);const a=()=>{try{const e=localStorage.getItem("".concat("gd-local-stats","-program-opening"));if(null!==e)return parseInt(e,10)}catch(e){console.warn("Unable to load stored program opening count",e)}return 0};var c=n(31),u=n(9);n.d(t,"a",(function(){return p})),n.d(t,"i",(function(){return g})),n.d(t,"d",(function(){return f})),n.d(t,"h",(function(){return m})),n.d(t,"n",(function(){return w})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"c",(function(){return E})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return A})),n.d(t,"l",(function(){return U})),n.d(t,"m",(function(){return S})),n.d(t,"b",(function(){return k})),n.d(t,"e",(function(){return C}));const l=i.b.isDev();let d=null,h=null;const p=e=>{if(l)return void console.info("Development build - Analytics disabled");const t=Object(u.b)(),n=Object(u.c)(),r=o.a.utils.cookie("visitor-stats"),i=o.a.utils.timer();i.start(),d=new o.a({projectId:"593d9f0595cfc907a1f8126a",writeKey:"B917F1DB50EE4C8949DBB374D2962845A22838B425AA43322A37138691A5270EB0358AEE45A4F61AFA7713B9765B4980517A1E276D4973A2E546EA851BF7757523706367ED430C041D2728A63BF61B5D1B2079C75E455DDDFAAC4324128AC2DB"}),d.extendEvents((function(){const u=e.getUserProfileSync();return h=h||Object(c.a)(),{user:{uuid:Object(s.a)(),uid:u?u.uid:void 0,providerId:u?u.providerId:void 0,email:u?u.email:void 0,emailVerified:u?u.emailVerified:void 0},localStats:{programOpeningCount:a()},versionMetadata:{version:t,versionWithHash:n},startupTimesSummary:h,page:{title:document.title,url:document.location.href},referrer:{url:document.referrer},tech:{browser:o.a.helpers.getBrowserProfile(),ip:"${keen.ip}",ua:"${keen.user_agent}"},time:o.a.helpers.getDatetimeIndex(),visitor:{id:r.get("user_id"),time_on_page:i.value()},keen:{timestamp:(new Date).toISOString(),addons:[{name:"keen:ip_to_geo",input:{ip:"tech.ip"},output:"geo"},{name:"keen:ua_parser",input:{ua_string:"tech.ua"},output:"tech.info"},{name:"keen:url_parser",input:{url:"page.url"},output:"page.info"},{name:"keen:referrer_parser",input:{page_url:"page.url",referrer_url:"referrer.url"},output:"referrer.info"}]}}}))},g=()=>{!l&&d&&((()=>{const e=a()+1;try{localStorage.setItem("".concat("gd-local-stats","-program-opening"),""+e)}catch(t){console.warn("Unable to store program opening count",t)}})(),d.recordEvent("program_opening"))},f=e=>{!l&&d&&d.recordEvent("export_launched",{platform:"GDevelop JS Platform",exportKind:e})},m=e=>{!l&&d&&d.recordEvent("new_game_creation",{platform:"GDevelop JS Platform",templateName:e})},w=e=>{!l&&d&&d.recordEvent("tutorial_opened",{tutorialName:e})},v=()=>{!l&&d&&d.recordEvent("help_finder_opened",{})},b=e=>{console.log("sendHelpSearch",e),!l&&d&&d.recordEvent("help_search",{searchText:e})},E=(e,t,n)=>{!l&&d&&d.recordEvent("error_message",{message:e,type:t,rawError:n})},y=e=>{!l&&d&&d.recordEvent("signup",{email:e})},A=({mode:e,id:t})=>{!l&&d&&d.recordEvent("subscription-check-dialog-shown",{mode:e,title:t})},U=()=>{!l&&d&&d.recordEvent("subscription-check-dialog-dismiss")},S=()=>{!l&&d&&d.recordEvent("subscription-dialog-shown",{})},k=e=>{!l&&d&&d.recordEvent("choose-plan-click",{planId:e})},C=e=>{!l&&d&&d.recordEvent("open_external_editor",{editorName:e})}},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n(10),o=n.n(r);const i=()=>o.a.version,s=()=>o.a.versionWithHash;let a="";const c=()=>{if(a)return a;const t=e.gd;return a=t?t.VersionWrapper.fullString():"Unknown",a}}).call(this,n(1))},function(e,t){e.exports={version:"5.0.0-beta93",gitHash:"d59541ac2c853c3aeca749b458f8ab53f41fa2b5",versionWithHash:"5.0.0-beta93-d59541ac2c853c3aeca749b458f8ab53f41fa2b5"}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const r=e=>e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,r),o=()=>{try{const e=localStorage.getItem("gd-user-uuid");if(e)return e}catch(t){console.warn("Unable to load stored user UUID",t)}const e=r();try{localStorage.setItem("gd-user-uuid",e)}catch(t){console.warn("Unable to save user UUID",t)}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),o=(n(47),n(22));class i{constructor(){this.user=null,this._onUserChangeCb=null,this.onUserChange=e=>{this._onUserChangeCb=e},this.createAccount=e=>r.auth().createUserWithEmailAndPassword(e.email,e.password).then(e=>{this.user=e.user}).catch(e=>{throw console.error("Error while creating account:",e),e}),this.login=e=>r.auth().signInWithEmailAndPassword(e.email,e.password).then(e=>{this.user=e.user}).catch(e=>{throw console.error("Error while login:",e),e}),this.forgotPassword=e=>r.auth().sendPasswordResetEmail(e.email),this.getUserProfile=e=>{if(!this.isAuthenticated())return e({unauthenticated:!0});e(null,this.user)},this.getUserProfileSync=()=>this.user,this.logout=()=>{r.auth().signOut().then(()=>{console.log("Logout successful")}).catch(e=>{console.log("An error happened during logout",e)})},this.getAuthorizationHeader=()=>this.user?this.user.getIdToken().then(e=>"Bearer ".concat(e)):Promise.reject(new Error("User is not authenticated")),this.isAuthenticated=()=>!!this.user,r.initializeApp(o.c),r.auth().onAuthStateChanged(e=>{this.user=e||null,this._onUserChangeCb&&this._onUserChangeCb()})}}},,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return a}));var r=n(5),o=n(8);const i=e=>{r.b.showMessageBox(e,"info")},s=(e,t)=>{r.b.showMessageBox(e,"error"),Object(o.c)(e,"error",t),console.error(e,"raw error:",t)},a=(e,t)=>{r.b.showMessageBox(e,"warning"),console.warn(e,"raw error:",t)}},,function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return c}));const r={baseUrl:"http://game-previews.gdevelop-app.com/"},o={baseUrl:"https://api.gdevelop-app.com/build"},i={apiKey:"AIzaSyAnX9QMacrIl3yo4zkVFEVhDppGVDDewBc",authDomain:"gdevelop-services.firebaseapp.com",databaseURL:"https://gdevelop-services.firebaseio.com",projectId:"gdevelop-services",storageBucket:"gdevelop-services.appspot.com",messagingSenderId:"44882707384"},s={baseUrl:"https://api.gdevelop-app.com/usage"},a={baseUrl:"https://api.gdevelop-app.com/release"},c={baseUrl:"https://raw.githubusercontent.com/4ian/GDevelop-extensions/master"}},,function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return g})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return m}));var r=n(3),o=n.n(r);const i=o()("electron"),s=o()("process");let a=!1;i&&(a=i.remote.require("electron-is").windows());const c=!("undefined"===typeof navigator||!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)),u=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test("undefined"!==typeof navigator?navigator.userAgent:""),l=()=>"undefined"!==typeof navigator?navigator.userAgent||"Unknown navigator":"Unknown (not a navigator)",d=()=>s?s.arch||"Unknown architecture":"Unknown architecture (web-app)",h=()=>s&&s.getSystemVersion?s.getSystemVersion()||"Unknown system version":"Unknown system version (web-app)",p=()=>s?s.platform||"Unknown platform":("undefined"!==typeof navigator?navigator.platform:"")||"Unknown platform (web-app)",g=()=>a,f=()=>c,m=()=>u},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>new Promise((t,n)=>{if("undefined"===typeof document)return void n(new Error("loadScript is only supported in a browser environment."));const r=document.body;if(!r)return void n(new Error("loadScript is only supported in a browser environment."));const o=document.createElement("script");o.type="text/javascript",o.src=e,o.onload=()=>t(),o.onerror=e=>n(e),o.onabort=e=>n(e),r.appendChild(o)})},,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));const r=e.GD_STARTUP_TIMES;r||console.error("Could not find GD_STARTUP_TIMES array. Have you declared it in index.html, in a synchronous script?");const o=()=>{let e=["<init>",0];return{steps:r.map(t=>{const n={stepName:t[0],time:t[1],elapsedTime:t[1]-e[1]};return e=t,n}),totalStartupTime:e[1]}}}).call(this,n(1))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(35),o=n.n(r),i=n(12),s=n(9);const a=()=>{o.a.config("https://e10c176ee68f432199cd292ba181e03b@sentry.io/233519",{release:Object(s.c)()}).install().setUserContext({id:Object(i.a)()})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e){if("serviceWorker"in navigator){const t=new URL(".",window.location.href);if(t.origin!==window.location.origin)return void console.log("The origin in PUBLIC_URL (".concat(t.origin,") is different than the current origin (").concat(window.location.origin,") - Service Worker disabled"));window.addEventListener("load",()=>{const t="".concat(".","/service-worker.js");r?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(n=>{const r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):i(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):i(t,e)})}else console.log("Development build (or unsupported browser) - Service Worker disabled")}function i(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}},function(e,t,n){},function(e,t,n){e.exports=n(39)},function(e,t,n){"use strict";n.r(t),function(e){n(40);var t=n(2),r=n.n(t),o=n(21),i=n.n(o),s=n(13),a=n(8),c=n(34),u=n(36),l=(n(37),n(3)),d=n.n(l),h=n(25),p=n(20),g=n(10),f=n.n(g);const m=e.GD_STARTUP_TIMES||[],w=d()("electron"),v={loadingMessage:{position:"absolute",top:"calc(50% + 80px)",left:15,right:15,fontSize:20,fontFamily:"sans-serif",color:"darkgray",textAlign:"center",animation:"text-focus-in 0.5s cubic-bezier(0.215, 0.610, 0.355, 1.000) both"}};class b extends t.Component{constructor(...e){super(...e),this.state={loadingMessage:"Loading the editor...",App:null},this.authentification=new s.a}componentDidMount(){Object(a.a)(this.authentification),Object(c.a)(),m.push(["bootstrapperComponentDidMount",performance.now()]),Object(h.a)("./libGD.js?cache-buster=".concat(f.a.versionWithHash)).then(()=>{m.push(["libGDLoadedTime",performance.now()]);const t=e.initializeGDevelopJs;t?t().then(t=>{e.gd=t,m.push(["libGD.js initialization done",performance.now()]),w?Promise.all([n.e(0),n.e(1),n.e(4)]).then(n.bind(null,70)).then(e=>this.setState({App:e.create(this.authentification),loadingMessage:""})).catch(this.handleEditorLoadError):Promise.all([n.e(0),n.e(60),n.e(1),n.e(3)]).then(n.bind(null,71)).then(e=>this.setState({App:e.create(this.authentification),loadingMessage:""})).catch(this.handleEditorLoadError)}):this.handleEditorLoadError(new Error("Missing initializeGDevelopJs in libGD.js"))},this.handleEditorLoadError)}handleEditorLoadError(e){const t=w?"Please restart the application or reinstall the latest version if the problem persists.":"Please check your internet connectivity, close the tab and reopen it.";this.setState({loadingMessage:"Unable to load GDevelop. ".concat(t)}),Object(p.a)("Unable to load GDevelop. ".concat(t),e)}render(){const e=this.state,t=e.App,n=e.loadingMessage;return r.a.createElement(r.a.Fragment,null,t,n&&r.a.createElement("div",{style:v.loadingMessage},n))}}const E=document.getElementById("root");E?(m.push(["reactDOMRenderCall",performance.now()]),i.a.render(r.a.createElement(b,null),E)):console.error("No root element defined in index.html"),Object(u.a)(),Object(a.i)()}.call(this,n(1))}],[[38,57,59]]]);
//# sourceMappingURL=main.7fee5246.chunk.js.map