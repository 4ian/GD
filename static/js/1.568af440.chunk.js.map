{"version":3,"sources":["ProjectCreation/Tutorials.js","ProjectCreation/CreateProjectDialog.js","MainFrame/Toolbar.js","MainFrame/ProjectTitlebar.js","MainFrame/Preferences/PreferencesDialog.js","MainFrame/AboutDialog.js","VariablesList/VariableRow.js","VariablesList/EditVariableRow.js","Utils/SelectionHandler.js","VariablesList/ClipboardKind.js","PlatformSpecificAssetsEditor/PlatformSpecificAssetsDialog.js","PlatformSpecificAssetsEditor/ImageResizer.js","UI/LoaderModal.js","UI/CloseConfirmDialog.js","UI/Tabs.js","MainFrame/EditorTabsHandler.js","EventsSheet/EventsTree/index.js","EventsSheet/EventsTree/Renderers/StandardEvent.js","EventsSheet/EventsTree/Instruction.js","EventsSheet/ParameterFields/RelationalOperatorField.js","EventsSheet/ParameterFields/OperatorField.js","EventsSheet/ParameterFields/MouseField.js","EventsSheet/ParameterFields/KeyField.js","ObjectsRendering/Renderers/RenderedUnknownInstance.js","ObjectsRendering/Renderers/RenderedSpriteInstance.js","ObjectsRendering/Renderers/RenderedTiledSpriteInstance.js","ObjectsRendering/Renderers/RenderedPanelSpriteInstance.js","ObjectsRendering/Renderers/RenderedTextInstance.js","ObjectsRendering/Renderers/RenderedShapePainterInstance.js","ObjectsRendering/Renderers/RenderedTextEntryInstance.js","ObjectsRendering/Renderers/RenderedParticleEmitterInstance.js","Utils/FontFaceLoader.js","EventsSheet/ParameterFields/YesNoField.js","EventsSheet/ParameterFields/TrueFalseField.js","EventsSheet/ParameterFields/ExpressionField.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/ExpressionSelector.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/EnumerateExpressions.js","EventsSheet/ParameterFields/GenericExpressionField/FormatExpressionCall.js","EventsSheet/ParameterFields/GenericExpressionField/BackgroundHighlighting.js","EventsSheet/ParameterFields/StringField.js","EventsSheet/ParameterFields/StringWithSelectorField.js","EventsSheet/ParameterFields/BehaviorField.js","EventsSheet/ParameterFields/SceneVariableField.js","EventsSheet/ParameterFields/GlobalVariableField.js","EventsSheet/ParameterFields/ObjectVariableField.js","EventsSheet/ParameterFields/LayerField.js","EventsSheet/ParameterFields/AudioResourceField.js","EventsSheet/ParameterFields/VideoResourceField.js","EventsSheet/ParameterFields/JsonResourceField.js","EventsSheet/ParameterFields/ColorExpressionField.js","EventsSheet/ParameterFields/ForceMultiplierField.js","EventsSheet/ParameterFields/SceneNameField.js","EventsSheet/EventsTree/InvalidParameterValue.js","EventsSheet/EventsTree/Renderers/GroupEvent.js","EventsSheet/EventsTree/Renderers/CommentEvent.js","EventsSheet/EventsTree/Renderers/ForEachEvent.js","EventsSheet/EventsTree/Renderers/RepeatEvent.js","EventsSheet/EventsTree/Renderers/WhileEvent.js","EventsSheet/EventsTree/Renderers/LinkEvent.js","EventsSheet/ParameterFields/ExternalEventsField.js","EventsSheet/EventsTree/Renderers/JsCodeEvent.js","EventsSheet/EventsTree/EventHeightsCache.js","EventsSheet/InstructionEditor/NewInstructionEditorDialog.js","Utils/CaseSensitiveSlug.js","UI/Reponsive/SelectColumns.js","UI/Reponsive/ReponsiveWidthMeasurer.js","EventsSheet/Toolbar.js","EventsSheet/InlineParameterEditor.js","EventsSheet/EmptyEventsPlaceholder.js","EventsSheet/OnceInstructionSanitizer.js","EventsSheet/EventsContextAnalyzerDialog.js","EventsSheet/SearchPanel.js","EventsSheet/EventsSearcher.js","EventsSheet/ContainsSubInstruction.js","UI/Grid.js","EventsSheet/EnumerateEventsMetadata.js","EventsSheet/EventsFunctionExtractor/EventsFunctionExtractorDialog.js","Utils/GetObjectGroupByName.js","BehaviorTypeSelector/index.js","UI/Dialog/index.js","UI/EmptyMessage.js","Utils/MapFor.js","EventsFunctionsExtensionEditor/index.js","ObjectGroupEditor/index.js","EventsFunctionsExtensionEditor/OptionsEditorDialog.js","EventsBasedBehaviorEditor/EventsBasedBehaviorEditorDialog.js","EventsBasedBehaviorEditor/index.js","EventsBasedBehaviorEditor/EventsBasedBehaviorPropertiesEditor.js","InstancesEditor/InstancesRenderer/LayerRenderer.js","InstancesEditor/SelectionRectangle.js","InstancesEditor/InstancePropertiesEditor/index.js","InstancesEditor/InstancesList/index.js","LayersList/LayerRemoveDialog.js","ObjectEditor/ObjectEditorDialog.js","ObjectEditor/Editors/TextEditor.js","ObjectEditor/Editors/TiledSpriteEditor.js","ObjectEditor/Editors/PanelSpriteEditor.js","ObjectEditor/Editors/SpriteEditor/index.js","ObjectEditor/Editors/SpriteEditor/SpritesList.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/index.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/PointsList.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/PointRow.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/AddPointRow.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/PointsPreview.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/index.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/PolygonsList.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/VerticeRow.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/PolygonRow.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/AddVerticeRow.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/AddPolygonRow.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/CollisionMasksPreview.js","ObjectEditor/Editors/EmptyEditor.js","ObjectEditor/Editors/ShapePainterEditor.js","ObjectEditor/Editors/ParticleEmitterEditor.js","ObjectEditor/Editors/ObjectPropertiesEditor.js","BehaviorsEditor/index.js","UI/HelpIcon/index.js","BehaviorsEditor/NewBehaviorDialog.js","BehaviorsEditor/BehaviorsHelpPagePaths.js","SceneEditor/InstancesSelection.js","SceneEditor/SetupGridDialog.js","SceneEditor/ScenePropertiesDialog.js","SceneEditor/Toolbar.js","UI/FullSizeMeasurer.js","InstancesEditor/ScrollbarContainer.js","UI/EditorMosaic/TagsButton.js","ResourcesList/index.js","ResourcesList/EnumerateResources.js","UI/ErrorBoundary.js","UI/HelpButton/index.js","Profile/SubscriptionDialog.js","MainFrame/Preferences/LanguageDialog.js","locales/LocalesMetadata.js","ProjectCreation/ExamplesSearchbar.js","ProjectCreation/ExamplesInformation.js","ResourcesLoader/index.js","Utils/i18n/GDI18nProvider.js","locales lazy /^/.//.*//messages$/ groupOptions: {} namespace object","UI/SemiControlledTextField.js","Utils/Serializer.js","EventsSheet/EventsTree/ClassNames.js","UI/Theme/ThemeConsumer.js","Utils/NewNameGenerator.js","UI/Menu/IconMenu.js","UI/PlaceholderLoader.js","UI/ListIcon.js","Utils/DragDropHelpers/SimpleDropTarget.js","InstancesEditor/InstancesRenderer/index.js","Utils/TransformRect.js","InstancesEditor/SelectedInstances.js","InstancesEditor/HighlightedInstance.js","InstancesEditor/InstancesResizer.js","InstancesEditor/InstancesRotator.js","InstancesEditor/InstancesMover.js","InstancesEditor/Grid.js","InstancesEditor/WindowBorder.js","InstancesEditor/WindowMask.js","InstancesEditor/DropHandler.js","InstancesEditor/BackgroundColor.js","InstancesEditor/FpsLimiter.js","Utils/PIXITicker.js","InstancesEditor/StatusBar.js","InstancesEditor/CanvasCursor.js","InstancesEditor/index.js","UI/CustomSvgIcons/Behaviors/Create.js","UI/CustomSvgIcons/Behaviors/Step.js","UI/CustomSvgIcons/Behaviors/Destroy.js","UI/CustomSvgIcons/Behaviors/Function.js","UI/CustomSvgIcons/Behaviors/Activate.js","UI/CustomSvgIcons/Behaviors/Deactivate.js","EventsFunctionsExtensionEditor/BehaviorMethodSelectorDialog.js","ObjectsList/ClipboardKind.js","ObjectsList/ObjectRow.js","ObjectsList/NewObjectDialog.js","UI/EditTagsDialog.js","ObjectsList/index.js","UI/GravatarUrl.js","Profile/ProfileDetails.js","Profile/UsagesDetails.js","Profile/SubscriptionDetails.js","Profile/ProfileDialog.js","BehaviorsEditor/Editors/BehaviorPropertiesEditor.js","BehaviorsEditor/Editors/Physics2Editor/ShapePreview.js","BehaviorsEditor/Editors/Physics2Editor/PolygonEditor.js","BehaviorsEditor/Editors/Physics2Editor/index.js","BehaviorsEditor/BehaviorsEditorService.js","LayersList/styles.js","LayersList/LayerRow.js","LayersList/AddLayerRow.js","LayersList/index.js","MainFrame/Editors/StartPage/GDevelopLogo.js","MainFrame/Editors/StartPage/ScrollBackground.js","MainFrame/Editors/StartPage/index.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/InstructionSelector.js","EventsSheet/InstructionEditor/index.js","EventsSheet/InstructionEditor/InstructionEditorDialog.js","EventsSheet/InstructionEditor/InstructionOrObjectSelector.js","EventsSheet/InstructionEditor/SelectorListItems/SelectorObjectListItem.js","EventsSheet/InstructionEditor/SelectorListItems/SelectorGroupObjectsListItem.js","ProjectManager/ProjectPropertiesDialog.js","ExtensionsSearch/ExtensionsSearchDialog.js","ProjectManager/index.js","EventsFunctionsList/index.js","EventsFunctionsList/EnumerateEventsFunctions.js","EventsBasedBehaviorsList/index.js","EventsBasedBehaviorsList/EnumerateEventsBasedBehaviors.js","EventsSheet/EventsTree/Renderers/UnknownEvent.js","EventsSheet/EventsTree/EventsRenderingService.js","MainFrame/Changelog/ChangelogDialog.js","MainFrame/Changelog/ChangelogDialogContainer.js","ObjectGroupsList/ObjectGroupsListWithObjectGroupEditor.js","EventsFunctionsExtensionEditor/EventsFunctionConfigurationEditor/index.js","HelpFinder/DocSearchArea.js","HelpFinder/index.js","CodeEditor/LocalCodeEditorAutocompletions.js","CodeEditor/index.js","EventsSheet/ParameterFields/GenericExpressionField/ExpressionParametersEditor.js","EventsSheet/ParameterFields/GenericExpressionField/ExpressionParametersEditorDialog.js","ObjectEditor/Editors/SpriteEditor/AnimationPreview/index.js","ObjectEditor/Editors/SpriteEditor/DirectionTools.js","UI/Background.js","MainFrame/Preferences/PreferencesContext.js","UI/SearchBar.js","UI/SemiControlledAutoComplete.js","Export/LocalExporters/LocalGDJSFinder.js","UI/AlertMessage.js","Utils/Clipboard.js","ObjectsRendering/ObjectsRenderingService.js","ObjectsRendering/Renderers/RenderedInstance.js","MainFrame/Editors/BaseEditor.js","Profile/UserProfileContext.js","Utils/HelpLink.js","ResourcesList/ResourceSelector.js","ObjectsList/EnumerateObjects.js","Utils/TagsHelper.js","UI/MiniToolbar.js","VariablesList/VariablesEditorDialog.js","ResourcesList/ResourceUtils.js","EventsSheet/InstructionEditor/SelectorListItems/Keys.js","EventsFunctionsExtensionsLoader/index.js","UI/PlaceholderMessage.js","UI/ToolbarIcon.js","UI/ToolbarSeparator.js","ProjectManager/ProjectErrorsChecker.js","EventsFunctionsExtensionsLoader/EventsFunctionsExtensionsContext.js","EventsSheet/EventsTree/InstructionsList.js","Utils/ColorTransformer.js","EventsSheet/InlinePopover.js","PropertiesEditor/index.js","PropertiesEditor/PropertiesMapToSchema.js","ResourcesList/ResourcePreview/ImagePreview.js","ObjectEditor/Editors/SpriteEditor/Utils/SpriteObjectHelper.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/styles.js","UI/ListCommonItem.js","ProjectManager/EnumerateProjectItems.js","EventsSheet/SelectionHandler.js","EventsSheet/ParameterFields/GenericExpressionField/index.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/EnumerateInstructions.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/CreateTree.js","Utils/GetObjectByName.js","Hints/index.js","EventsFunctionsExtensionsLoader/MetadataDeclarationHelpers.js","UI/EditorMosaic/index.js","ObjectEditor/ObjectsEditorService.js","Utils/GDevelopServices/Build.js","ResourcesList/ResourceThumbnail/index.js","ResourcesList/ResourceSelectorWithThumbnail.js","MainFrame/index.js","UI/BackgroundText.js","Version/index.js","Utils/SerializableObjectEditorContainer.js","UI/DragHandle.js","VariablesList/styles.js","Profile/SubscriptionChecker.js","UI/DismissableAlertMessage.js","UI/LeftLoader.js","Profile/CreateProfile.js","EventsSheet/index.js","EventsSheet/ParameterRenderingService.js","EventsSheet/ParameterFields/ObjectField.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/index.js","UI/ScrollView.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/EnumeratedInstructionOrExpressionMetadata.js","UI/ColorField/ColorPicker.js","UI/Menu/ContextMenu.js","UI/InlineCheckbox.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/styles.js","UI/ColorField/index.js","Utils/TimeFunction.js","Utils/TimestampedId.js","Utils/Delay.js","Export/Builds/BuildsWatcher.js","UI/SortableVirtualizedItemList/ItemRow.js","UI/SortableVirtualizedItemList/index.js","EventsSheet/ParameterFields/EnumerateVariables.js","EventsSheet/ParameterFields/VariableField.js","UI/Menu/ElectronMenuImplementation.js","UI/Menu/MaterialUIMenuImplementation.js","UI/AcceleratorString.js","MainFrame/UpdaterTools.js","VariablesList/index.js","UI/TreeTable/index.js","UI/SearchbarWithChips.js","Utils/FuzzyOrEmptyFilter.js","ResourcesList/ResourceThumbnail/ImageThumbnail.js","UI/EditorBar.js","MainFrame/Editors/EventsEditor.js","EventsSheet/EventsTree/DropIndicator.js","EventsSheet/ParameterFields/DefaultField.js","ObjectsList/ObjectSelector.js","ObjectsRendering/Renderers/RenderedIconInstance.js","ObjectsRendering/PixiResourcesLoader.js","EventsSheet/ParameterFields/ParameterFieldCommons.js","EventsSheet/InstructionEditor/SelectorListItems/SelectorInstructionOrExpressionListItem.js","EventsSheet/InstructionEditor/SelectorListItems/SelectorInstructionsTreeListItem.js","EventsSheet/ParameterFields/ParameterMetadataTools.js","Utils/StringHelpers.js","EventsSheet/ClipboardKind.js","EventsSheet/InstructionEditor/InstructionParametersEditor.js","UI/TagChips.js","UI/KeyboardShortcuts/index.js","Utils/History.js","EventsSheet/EventsFunctionExtractor/index.js","EventsFunctionsExtensionEditor/EventsFunctionConfigurationEditor/EventsFunctionParametersEditor.js","ObjectTypeSelector/index.js","BehaviorsEditor/EnumerateBehaviorsMetadata.js","EventsFunctionsExtensionEditor/EventsFunctionConfigurationEditor/EventsFunctionPropertiesEditor.js","UI/EditorMosaic/CloseButton.js","MainFrame/Editors/EventsFunctionsExtensionEditor.js","ObjectGroupEditor/ObjectGroupEditorDialog.js","MainFrame/Editors/ExternalEventsEditor.js","MainFrame/Editors/LayoutChooserDialog.js","MainFrame/Editors/ExternalLayoutEditor.js","SceneEditor/index.js","InstancesEditor/ViewPosition.js","Utils/GridHelpers.js","LayersList/EnumerateLayers.js","ObjectEditor/Editors/SpriteEditor/Utils/SpriteSelector.js","Utils/IsNullPtr.js","UI/Messages/InfoBar.js","MainFrame/Editors/SceneEditor.js","Utils/WatchPromiseInState.js","Utils/GDevelopServices/Usage.js","Utils/i18n/getTranslationFunction.js","Export/Builds/BuildProgress.js","ProjectCreation/ExamplesList.js","UI/CustomSvgIcons/Facebook.js","UI/CustomSvgIcons/Cordova.js","UI/CustomSvgIcons/Chrome.js","JsExtensionsLoader/index.js","Debugger/Toolbar.js","Debugger/InspectorsList.js","Debugger/Inspectors/VariablesContainerInspector.js","Debugger/Inspectors/RuntimeObjectInspector.js","Debugger/Inspectors/RuntimeSceneInspector.js","Debugger/GDJSInspectorDescriptions.js","Debugger/Inspectors/RawContentInspector.js","Debugger/Profiler/MeasuresTable.js","Debugger/Profiler/index.js","Debugger/DebuggerContent.js","Debugger/DebuggerSelector.js","Debugger/index.js","MainFrame/Editors/DebuggerEditor.js","CodeEditor/Theme/TomorrowNight.js","CodeEditor/Theme/Monokai.js","CodeEditor/Theme/Tomorrow.js","CodeEditor/Theme/SolarizedDark.js","CodeEditor/Theme/SolarizedLight.js","CodeEditor/Theme/VibrantInk.js","CodeEditor/Theme/GitHub.js","CodeEditor/Theme/index.js","Utils/DragDropHelpers/DragDropContextProvider.js","UI/RightLoader.js","Profile/LoginDialog.js","Profile/UserProfileProvider.js","MainFrame/Preferences/PreferencesProvider.js","EventsFunctionsExtensionsLoader/EventsFunctionsExtensionsProvider.js","MainFrame/Providers.js","ResourcesList/ResourcePreview/GenericIconPreview.js","ResourcesList/ResourcePreview/index.js","ResourcesEditor/ResourcePropertiesEditor/index.js","ResourcesEditor/Toolbar.js","ResourcesEditor/index.js","MainFrame/Editors/ResourcesEditor.js","Export/Builds/BuildsList.js","Export/Builds/index.js","Export/Builds/BuildsDialog.js","Export/ExportDialog.js","Utils/GDevelopServices/Extension.js","UI/PlaceholderError.js","ExtensionsSearch/ExtensionInstallDialog.js","ExtensionsSearch/index.js","UI/Theme/DarkTheme/index.js","UI/Theme/DefaultTheme/index.js","UI/Theme/index.js","MainFrame/Changelog/ChangelogRenderer.js","Utils/GDevelopServices/Release.js","MainFrame/Changelog/index.js","ObjectGroupsList/GroupRow.js","ObjectGroupsList/index.js"],"names":["Tutorials","node_modules_react_default","a","createElement","Grid","noMargin","react","id","expand","List","primaryText","secondaryText","onClick","sendTutorialOpened","Window","openExternalURL","getHelpLink","index_es","secondaryTextLines","PureComponent","CreateProjectDialog","state","currentTab","_onChangeTab","newTab","_this","setState","_showExamples","_onExamplesLoaded","forceUpdate","_this$props","this","props","open","onClose","onOpen","onCreate","ExamplesComponent","examplesComponent","StartersComponent","startersComponent","node_modules_react","Dialog","title","actions","FlatButton_default","label","primary","onRequestClose","autoScrollBodyContent","Tabs","value","onChange","onShowExamples","onExamplesLoaded","Tutorials_Tutorials","React","styles","toolbar","flexShrink","overflowX","overflowY","MainFrameToolbar","_PureComponent","_getPrototypeOf2","Object","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_len","arguments","length","args","Array","_key","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","apply","concat","editorToolbar","isDev","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","_lingui_react__WEBPACK_IMPORTED_MODULE_11__","_ref","i18n","material_ui_Toolbar__WEBPACK_IMPORTED_MODULE_6__","style","firstChild","showProjectIcons","_UI_ToolbarIcon__WEBPACK_IMPORTED_MODULE_7__","toggleProjectManager","src","disabled","hasProject","tooltip","_","exportProject","_UI_Menu_IconMenu__WEBPACK_IMPORTED_MODULE_9__","iconButtonElement","buildMenuTemplate","requestUpdate","click","simulateUpdateDownloaded","simulateUpdateAvailable","_UI_ToolbarSeparator__WEBPACK_IMPORTED_MODULE_8__","ProjectTitlebar","project","titleElements","push","getProjectFile","getName","setTitle","join","Component","PreferencesDialog","react__WEBPACK_IMPORTED_MODULE_6___default","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_8___default","_lingui_react__WEBPACK_IMPORTED_MODULE_5__","_UI_Dialog__WEBPACK_IMPORTED_MODULE_11__","_PreferencesContext__WEBPACK_IMPORTED_MODULE_17__","Consumer","identifiers","values","setThemeName","setCodeEditorThemeName","setAutoDownloadUpdates","showAlertMessage","setAutoDisplayChangelog","setEventsSheetShowObjectThumbnails","setAutosaveOnPreview","setUseNewInstructionEditorDialog","dismissedAlertMessages","hiddenAlertMessages","keys","map","identifier","filter","Boolean","_UI_Grid__WEBPACK_IMPORTED_MODULE_13__","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_7___default","floatingLabelText","themeName","e","i","themes","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_9___default","codeEditorThemeName","getAllThemes","codeEditorTheme","name","createTheme","material_ui_Toggle__WEBPACK_IMPORTED_MODULE_10___default","onToggle","check","toggled","autoDownloadUpdates","labelPosition","autoDisplayChangelog","eventsSheetShowObjectThumbnails","autosaveOnPreview","useNewInstructionEditorDialog","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_12__","contributors","description","link","AboutDialog","_openContributePage","_openLink","updateStatus","updateStatusString","getUpdateStatusLabel","status","updateButtonLabel","getUpdateButtonLabel","_UI_Dialog__WEBPACK_IMPORTED_MODULE_8__","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_9___default","contentStyle","maxWidth","_Preferences_PreferencesContext__WEBPACK_IMPORTED_MODULE_15__","checkUpdates","_UI_Grid__WEBPACK_IMPORTED_MODULE_11__","alt","width","height","material_ui_Tabs__WEBPACK_IMPORTED_MODULE_10__","0","getIDEVersion","1","getGDCoreVersion","justifyContent","canDownloadUpdate","_Changelog__WEBPACK_IMPORTED_MODULE_17__","material_ui_List__WEBPACK_IMPORTED_MODULE_7__","contributor","rightIconButton","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_13___default","material_ui_svg_icons_action_open_in_new__WEBPACK_IMPORTED_MODULE_14___default","alignItems","Indent","react__WEBPACK_IMPORTED_MODULE_2__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","indent","material_ui_svg_icons_navigation_subdirectory_arrow_right__WEBPACK_IMPORTED_MODULE_8___default","color","indentIconColor","InlineCheckbox","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_6___default","assign","VariableRow","muiThemeable","_ref2","variable","depth","errorText","onBlur","onAddChild","onRemove","onChangeValue","onResetToDefaultValue","children","muiTheme","showHandle","showSelectionCheckbox","isSelected","onSelect","origin","isStructure","limitEditing","columns","_UI_TreeTable__WEBPACK_IMPORTED_MODULE_3__","tableChildIndentation","_UI_DragHandle__WEBPACK_IMPORTED_MODULE_4__","checked","onCheck","material_ui_TextField__WEBPACK_IMPORTED_MODULE_9___default","fontStyle","fullWidth","defaultValue","fadedButton","undefined","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_5__","commitOnBlur","getString","text","multiLine","toolColumn","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_10___default","_lingui_react__WEBPACK_IMPORTED_MODULE_1__","material_ui_svg_icons_av_replay__WEBPACK_IMPORTED_MODULE_11___default","tooltipPosition","material_ui_svg_icons_content_add_circle__WEBPACK_IMPORTED_MODULE_7___default","backgroundColor","list","itemsBackgroundColor","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_UI_TreeTable__WEBPACK_IMPORTED_MODULE_1__","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_2__","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_2___default","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_3__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_3___default","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_4__","material_ui_svg_icons_content_content_copy__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_content_content_copy__WEBPACK_IMPORTED_MODULE_5___default","material_ui_svg_icons_content_content_paste__WEBPACK_IMPORTED_MODULE_6__","material_ui_svg_icons_content_content_paste__WEBPACK_IMPORTED_MODULE_6___default","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_7__","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_7___default","_styles__WEBPACK_IMPORTED_MODULE_8__","EditVariableRow","onAdd","onCopy","hasSelection","onPaste","hasClipboard","onDeleteSelection","toolColumnHeader","addVariableMessage","getInitialSelection","getSelection","selection","addToSelection","object","select","console","log","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","ptr","d","__webpack_exports__","CLIPBOARD_KIND","path","optionalRequire","gd","global","desktopSizes","androidSizes","iosSizes","PlatformSpecificAssetsDialog","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","_generateFromFile","resourceSources","onChooseResource","sources","source","kind","then","resources","resourcesManager","getResourcesManager","projectPath","dirname","fullPath","resolve","getFile","forEach","resource","delete","Promise","all","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","size","resizeImage","results","indexOf","allResourcesNames","resourceName","hasResource","getResource","setFile","imageResource","ImageResource","setName","addResource","ResourcesLoader","burstUrlsCacheForResources","setTimeout","desktopIconResourceNames","androidIconResourceNames","iosIconResourceNames","showErrorBox","_onApply","_this$state","index","getPlatformSpecificAssets","set","onApply","_loadFrom","get","newProps","react__WEBPACK_IMPORTED_MODULE_7__","_lingui_react__WEBPACK_IMPORTED_MODULE_6__","keyboardFocused","_this$props2","resourceExternalEditors","_this$state2","_UI_Dialog__WEBPACK_IMPORTED_MODULE_10__","isResizeSupported","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_9___default","_ResourcesList_ResourceSelectorWithThumbnail__WEBPACK_IMPORTED_MODULE_13__","resourceKind","newIcons","_Utils_OptionalRequire__WEBPACK_IMPORTED_MODULE_0__","Jimp","inputFile","outputFile","read","jimpImage","contain","write","catch","err","error","material_ui_RefreshIndicator__WEBPACK_IMPORTED_MODULE_1__","material_ui_RefreshIndicator__WEBPACK_IMPORTED_MODULE_1___default","position","top","left","right","bottom","zIndex","pointerEvents","show","display","marginTop","marginLeft","electron","CloseConfirmDialog","_delayElectronClose","_setup","shouldPrompt","message","window","onbeforeunload","confirm","remote","getCurrentWindow","close","returnValue","tabsContainerStyle","flex","flexDirection","tabTemplateStyle","textAlign","TabTemplate","nextProps","selected","templateStyle","react__WEBPACK_IMPORTED_MODULE_7___default","ThemableTabs","_Component2","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","hideLabels","tabsProps","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","tabItemContainerStyle","closableTabs","contentContainerStyle","material_ui_Tabs__WEBPACK_IMPORTED_MODULE_8__","tabTemplate","inkBarStyle","muiName","ThemableTab","_this$props3","closable","tabProps","truncatedLabel","closeButtonWidth","marginRight","overflow","textOverflow","buttonStyle","selectedBackgroundColor","selectedTextColor","textColor","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10___default","hoverColor","borderRadius","minWidth","icon","material_ui_svg_icons_navigation_close__WEBPACK_IMPORTED_MODULE_9___default","Tab","getEditorTabsInitialState","editors","openEditorTab","renderEditor","dontFocusTab","existingEditorId","findIndex","editor","editorTab","render","isCurrentTab","isActive","editorRef","changeCurrentTab","newTabId","Math","max","min","closeEditorTab","getEditors","getCurrentTabIndex","getCurrentTab","closeProjectTabs","editorProject","getProject","saveUiSettings","closeLayoutTabs","layout","editorLayout","getLayout","closeExternalLayoutTabs","externalLayout","ExternalLayoutEditor","getExternalLayout","closeExternalEventsTabs","externalEvents","ExternalEventsEditor","getExternalEvents","closeEventsFunctionsExtensionTabs","eventsFunctionsExtension","EventsFunctionsExtensionEditorWrapper","getEventsFunctionsExtension","getEventsFunctionsExtensionEditor","tabIndex","getThumbnail","ObjectsRenderingService","bind","indentWidth","container","EventContainer","_onEventUpdated","_onEventContextMenu","domEvent","preventDefault","onEventContextMenu","clientX","clientY","_container","offsetHeight","eventsHeightsCache","setEventHeight","event","scope","EventComponent","EventsRenderingService","getEventComponent","react__WEBPACK_IMPORTED_MODULE_10___default","ref","onEventClick","onContextMenu","globalObjectsContainer","objectsContainer","isEventSelected","leftIndentWidth","onUpdate","onAddNewInstruction","onPasteInstructions","onMoveToInstruction","onMoveToInstructionsList","onInstructionClick","onInstructionDoubleClick","onInstructionContextMenu","onInstructionsListContextMenu","onParameterClick","onOpenExternalEvents","onOpenLayout","renderObjectThumbnail","getNodeKey","treeIndex","SortableTree","className","otherProps","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__","react_sortable_tree__WEBPACK_IMPORTED_MODULE_13__","eventsTree","eventsSheetRootClassName","noop","ThemableEventsTree","_this3","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__","_eventsToTreeData","eventsList","flatData","parentDisabled","treeData","mapFor","getEventsCount","getEventAt","isDisabled","_renderEvent","indexInList","expanded","isFolded","getSubEvents","_onMoveNode","_ref3","node","targetPath","slice","targetNode","getNodeAtPath","targetEventsList","events","targetPosition","newEvent","clone","removeEvent","insertEvent","forceEventsUpdate","onEventMoved","_canDrop","_ref4","nextParent","canHaveSubEvents","_onVisibilityToggle","_ref5","setFolded","_renderObjectThumbnail","objectName","_this3$props","showObjectThumbnails","getObjectByName","classNames","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","_ref6","isCondition","x","y","_treeSearchMethod","_ref7","searchResults","searchQuery","find","highlightedEvent","compare","EventHeightsCache","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__","onHeightsChanged","cb","_this4","_list","wrappedInstance","current","recomputeRowHeights","_this5","row","_getEventRow","scrollToRow","EventsListUnfolder","unfoldWhenContaining","searchedEvent","_this6","scaffoldBlockPxWidth","onVisibilityToggle","onMoveNode","canDrop","rowHeight","_ref8","getEventHeight","searchMethod","searchFocusOffset","eventsTreeWithSearchResults","reactVirtualizedListProps","defaultProps","actionsList","StandardEvent","_classNames","standardEvent","asStandardEvent","conditionsListSyle","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","largeSelectableArea","largeSelectedArea","executableEventContainer","_InstructionsList__WEBPACK_IMPORTED_MODULE_8__","instrsList","getConditions","areConditions","getActions","instrFormatter","InstructionSentenceFormatter","loadTypesFormattingFromConfig","whiteSpace","wordWrap","cursor","marginBottom","Instruction","_renderInstructionText","metadata","instruction","formattedTexts","getAsFormattedText","parametersCount","getParametersCount","disabledText","_classNames2","parameterIndex","getTextFormatting","getUserData","parameterMetadata","getParameter","parameterType","getType","selectableArea","instructionParameter","ParameterRenderingService","renderInlineParameter","InvalidParameterValue","_classNames3","connectDragSource","connectDropTarget","isOver","MetadataProvider","getConditionMetadata","JsPlatform","getActionMetadata","instructionDiv","selectedArea","stopPropagation","onDoubleClick","isInverted","getSmallIconFilename","canHaveSubInstructions","_InstructionsList__WEBPACK_IMPORTED_MODULE_11__","extraClassName","subInstructionsContainer","getSubInstructions","onAddNewSubInstruction","onPasteSubInstructions","onMoveToSubInstruction","onMoveToSubInstructionsList","onSubInstructionClick","onSubInstructionDoubleClick","onSubInstructionContextMenu","onSubInstructionsListContextMenu","onSubParameterClick","addButtonLabel","_DropIndicator__WEBPACK_IMPORTED_MODULE_13__","reactDndInstructionType","DragSource","beginDrag","connect","monitor","dragSource","DropTarget","getItem","drop","didDrop","dropTarget","shallow","RelationalOperatorField","_field","focus","getDescription","field","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_8___default","renderInlineRelationalOperator","OperatorField","renderInlineMouse","isEmpty","keyNames","isKeyValid","KeyField","isInline","_UI_SemiControlledAutoComplete__WEBPACK_IMPORTED_MODULE_7__","dataSource","keyName","openOnFocus","renderInlineKey","_RenderedInstance__WEBPACK_IMPORTED_MODULE_0__","pixi_js__WEBPACK_IMPORTED_MODULE_1__","RenderedUnknownInstance","instance","associatedObject","pixiContainer","pixiResourcesLoader","RenderedInstance","_pixiObject","PIXI","_pixiContainer","addChild","hasCustomSize","getCustomWidth","getCustomHeight","beginFill","lineStyle","moveTo","lineTo","endFill","prototype","create","resourcesLoader","update","_instance","getX","getY","rotation","getAngle","PI","RenderedSpriteInstance","_renderedAnimation","_renderedDirection","_centerX","_centerY","_originX","_originY","_pixiResourcesLoader","getInvalidPIXITexture","updatePIXITexture","updatePIXISprite","spriteObject","asSpriteObject","getAnimationsCount","getAnimation","getDirectionsCount","getDirection","getSpritesCount","imageName","getSprite","getImageName","getResourceFullUrl","anchor","texture","frame","_shouldNotRotate","toRad","scale","abs","updateSprite","_sprite","_associatedObject","hasNoAnimations","getRawFloatProperty","animation","hasNoDirections","useMultipleDirections","normalizedAngle","floor","round","direction","getPIXITexture","_project","getOrigin","isDefaultCenterPoint","noFrame","that","on","off","center","getCenter","getOriginX","getOriginY","getDefaultWidth","getDefaultHeight","RenderedTiledSpriteInstance","tiledSprite","asTiledSpriteObject","_texture","getTexture","TilingSprite","getWidth","getHeight","RenderedPanelSpriteInstance","makeObjects","updateTexture","panelSprite","asPanelSpriteObject","isTiled","_tiled","_textureName","updateAngle","updatePosition","oldWidth","_width","oldHeight","_height","updateWidthHeight","StretchedSprite","_centerSprite","_borderSprites","removeChildren","_updateLocalPositions","extraPixels","getLeftMargin","getTopMargin","getRightMargin","getBottomMargin","_updateSpritesAndTexturesSize","_wasRendered","cacheAsBitmap","renderer","makeInsideTexture","rect","pivot","RenderedTextInstance","textObject","asTextObject","align","_styleFontDirty","_fontFamily","getFontFamily","getFontName","isItalic","_isItalic","isBold","_isBold","getCharacterSize","_characterSize","_wrapping","_wrappingWidth","_fontName","loadFontFamily","fontFamily","warn","fontSize","fontWeight","wordWrapWidth","breakWords","dirty","getColorR","_colorR","getColorG","_colorG","getColorB","_colorB","fill","_RenderedIconInstance__WEBPACK_IMPORTED_MODULE_0__","makeRenderer","_Utils_ColorTransformer__WEBPACK_IMPORTED_MODULE_2__","RenderedParticleEmitterInstance","updateGraphics","particleEmitterObject","asParticleEmitterObject","clear","emitterAngle","sprayConeAngle","getConeSprayAngle","line1Angle","line2Angle","rgbToHexNumber","getParticleRed2","getParticleGreen2","getParticleBlue2","cos","sin","getParticleRed1","getParticleGreen1","getParticleBlue1","drawCircle","loadFontFace","fontfaceobserver__WEBPACK_IMPORTED_MODULE_0__","fontfaceobserver__WEBPACK_IMPORTED_MODULE_0___default","descriptors","FontFace","fontFace","document","fonts","add","load","newStyle","appendChild","createTextNode","head","FontFaceObserver","button","margin","YesNoField","effectiveValue","getParameterValueOrDefault","_UI_Grid__WEBPACK_IMPORTED_MODULE_8__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_7___default","renderInlineYesNo","TrueFalseField","renderInlineTrueFalse","ExpressionField","_GenericExpressionField__WEBPACK_IMPORTED_MODULE_6__","expressionType","ExpressionSelector","instructionsInfo","filterEnumeratedInstructionOrExpressionMetadataByScope","enumerateExpressions","allExpressions","instructionsInfoTree","createTree","_index__WEBPACK_IMPORTED_MODULE_8__","iconSize","enumerateExtensionExpressions","prefix","expressions","expressionsTypes","j","exprMetadata","isShown","parameters","objectMetadata","behaviorMetadata","isCodeOnly","displayedName","getFullName","groupName","getGroup","iconFilename","fullGroupName","type","isPrivate","freeExpressions","objectsExpressions","behaviorsExpressions","allExtensions","asPlatform","getAllPlatformExtensions","extension","allObjectsTypes","getExtensionObjectsTypes","allBehaviorsTypes","getBehaviorsTypes","allFreeExpressionsGetter","getAllExpressions","allObjectExpressionsGetter","getAllExpressionsForObject","allBehaviorExpressionsGetter","getAllExpressionsForBehavior","getAllStrExpressions","getAllStrExpressionsForObject","getAllStrExpressionsForBehavior","objectType","getObjectMetadata","k","behaviorType","getBehaviorMetadata","formatExpressionCall","filterOutCodeOnlyParameters","array","expressionMetadata","firstParameterIndex","parameter","expressionInfo","parameterValues","functionName","functionArgs","behaviorName","defaultStyle","highlightedText","borderSizing","borderBottom","sortedHighlights","highlights","sort","highlight1","highlight2","begin","elements","lastPos","highlight","startPos","react__WEBPACK_IMPORTED_MODULE_1__","substring","end","StringField","getChoices","JSON","parse","getExtraInfo","exception","StringWithSelectorField","_UI_SemiControlledAutoComplete__WEBPACK_IMPORTED_MODULE_6__","choice","BehaviorField","_behaviorNames","_getError","_doValidation","_forceChooseBehavior","_description","_behaviorTypeAllowed","instructionMetadata","expression","getLastObjectParameterValue","getBehaviorsOfObject","toJSArray","getTypeOfBehavior","_updateBehaviorsList","noBehaviorErrorText","react__WEBPACK_IMPORTED_MODULE_6__","_UI_SemiControlledAutoComplete__WEBPACK_IMPORTED_MODULE_9__","currentTarget","SceneVariableField","editorOpen","react__WEBPACK_IMPORTED_MODULE_5__","_VariableField__WEBPACK_IMPORTED_MODULE_6__","variablesContainer","getVariables","onOpenDialog","_VariablesList_VariablesEditorDialog__WEBPACK_IMPORTED_MODULE_7__","onCancel","emptyExplanationMessage","emptyExplanationSecondMessage","renderInlineSceneVariable","renderVariableWithIcon","GlobalVariableField","renderInlineGlobalVariable","ObjectVariableField","hasObjectNamed","getObject","renderInlineObjectVariable","LayerField","layerNames","getLayersCount","getLayerAt","layerName","hintText","AudioResourceField","_ResourcesList_ResourceSelector__WEBPACK_IMPORTED_MODULE_7__","initialResourceName","VideoResourceField","JsonResourceField","parseColor","rgbColor","colors","replace","split","r","parseInt","g","b","ParameterColorField","renderExtraButton","_UI_ColorField_ColorPicker__WEBPACK_IMPORTED_MODULE_7__","disableAlpha","onChangeComplete","rgb","ForceMultiplierField","showDeprecatedNumericValue","makeNonBreakable","Fragment","_UI_BackgroundText__WEBPACK_IMPORTED_MODULE_11__","_GenericExpressionField__WEBPACK_IMPORTED_MODULE_10__","renderInlineForceMultiplier","SceneNameField","layoutNames","enumerateLayouts","layoutName","_ClassNames__WEBPACK_IMPORTED_MODULE_1__","instructionInvalidParameter","padding","GroupEvent","editing","_textField","edit","endEditing","groupEvent","asGroupEvent","getBackgroundColorR","getBackgroundColorG","getBackgroundColorB","react__WEBPACK_IMPORTED_MODULE_8__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_10___default","textField","_lingui_react__WEBPACK_IMPORTED_MODULE_7__","inputStyle","WebkitTextFillColor","underlineFocusStyle","borderColor","minHeight","boxSizing","CommentEvent","input","ReactDOM","findDOMNode","_input","asCommentEvent","getComment","commentEvent","setComment","_getCommentHTML","rgbToHex","getBackgroundColorRed","getBackgroundColorGreen","getBackgroundColorBlue","getTextColorRed","getTextColorGreen","getTextColorBlue","dangerouslySetInnerHTML","__html","instructionsContainer","ForEachEvent","anchorEl","forEachEvent","asForEachEvent","getObjectToPick","_InstructionsList_js__WEBPACK_IMPORTED_MODULE_8__","_InlinePopover__WEBPACK_IMPORTED_MODULE_11__","_ParameterFields_ObjectField__WEBPACK_IMPORTED_MODULE_12__","setObjectToPick","RepeatEvent","repeatEvent","asRepeatEvent","getRepeatExpression","_ParameterFields_DefaultField__WEBPACK_IMPORTED_MODULE_12__","setRepeatExpression","whileEvent","asWhileEvent","getWhileConditions","LinkEvent","_externalEventsField","openTarget","target","asLinkEvent","getTarget","hasExternalEventsNamed","hasLayoutNamed","showWarningBox","linkEvent","linkContainer","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_9___default","material_ui_svg_icons_action_open_in_new__WEBPACK_IMPORTED_MODULE_8___default","_InlinePopover__WEBPACK_IMPORTED_MODULE_12__","_ParameterFields_ExternalEventsField__WEBPACK_IMPORTED_MODULE_13__","setTarget","externalEventsField","getList","enumerateExternalEvents","layouts","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__","ExternalEventsField","_UI_SemiControlledAutoComplete__WEBPACK_IMPORTED_MODULE_8__","wrappingText","paddingLeft","paddingRight","comment","commentLink","textDecoration","JsCodeEvent","editingObject","asJsCodeEvent","getInlineCode","jsCodeEvent","setInlineCode","newValue","editObject","endObjectEditing","parameterObjects","getParameterObjects","objects","eventsFunctionContext","eventsFunction","functionStart","functionEnd","href","rel","react_measure__WEBPACK_IMPORTED_MODULE_13___default","onMeasure","_CodeEditor__WEBPACK_IMPORTED_MODULE_14__","onEditorMounted","_InlinePopover__WEBPACK_IMPORTED_MODULE_9__","_ParameterFields_ObjectField__WEBPACK_IMPORTED_MODULE_10__","setParameterObjects","component","eventHeights","updateTimeoutId","cachedHeight","_notifyComponent","dialogContent","dialogBody","findInstruction","instructionType","NewInstructionEditorDialog","_getInitialState","_chooseFreeInstruction","setType","chosenObjectName","chosenObjectInstructionsInfo","chosenObjectInstructionsInfoTree","_stepToParameters","_chooseObjectInstruction","_stepBackFrom","step","_instructionParametersEditor","_getInstructionMetadata","getCurrentPlatform","isNewInstruction","allInstructions","enumerateInstructions","_chooseObject","currentInstructionOrObjectSelectorTab","discardInstructionTypeIfNotInObjectInstructions","enumerateObjectInstructions","_this$props4","onSubmit","instructionHelpPage","getHelpPath","renderInstructionOrObjectSelector","_UI_Background__WEBPACK_IMPORTED_MODULE_18__","noFullHeight","_InstructionOrObjectSelector__WEBPACK_IMPORTED_MODULE_11__","onChangeTab","chosenInstructionType","onChooseInstruction","onChooseObject","focusOnMount","onSearchStartOrReset","renderParameters","_UI_Grid__WEBPACK_IMPORTED_MODULE_12__","_InstructionParametersEditor__WEBPACK_IMPORTED_MODULE_10__","openInstructionOrExpression","instructionParametersEditor","noHelpButton","renderObjectInstructionSelector","_InstructionOrExpressionSelector__WEBPACK_IMPORTED_MODULE_15__","onChoose","selectedType","useSubheaders","searchBarHintText","_UI_Reponsive_ReponsiveWidthMeasurer__WEBPACK_IMPORTED_MODULE_20__","secondaryActions","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_17__","helpPagePath","bodyStyle","_UI_Reponsive_SelectColumns__WEBPACK_IMPORTED_MODULE_19__","columnsRenderer","instruction-or-object-selector","object-instruction-selector","getColumns","caseSensitiveSlug","incString","separator","preserved","p","s","RegExp","SelectColumns","_Grid__WEBPACK_IMPORTED_MODULE_1__","columnName","ResponsiveWidthMeasurer","innerWidth","Toolbar","t","str","lastChild","showPreviewButton","_UI_ToolbarIcon__WEBPACK_IMPORTED_MODULE_8__","onPreview","showNetworkPreviewButton","onNetworkPreview","onOpenDebugger","_UI_ToolbarSeparator__WEBPACK_IMPORTED_MODULE_7__","onAddStandardEvent","onAddSubEvent","canAddSubEvent","onAddCommentEvent","allEventsMetadata","fullName","onAddEvent","canRemove","undo","canUndo","redo","canRedo","onToggleSearchPanel","adaptAcceleratorString","onOpenSettings","InlineParameterEditor","ParameterComponent","_loadComponentFromInstruction","_unload","getParameterComponent","_InlinePopover__WEBPACK_IMPORTED_MODULE_6__","parameterRenderingService","EmptyEventsPlaceholder","_UI_PlaceholderMessage__WEBPACK_IMPORTED_MODULE_2__","_lingui_react__WEBPACK_IMPORTED_MODULE_0__","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_3__","ensureSingleOnceInstructions","instructionsList","hasEndingOnceInstruction","hasInvalidOnce","removeAt","onceInstruction","insert","toEventsContextResult","eventsContext","objectsNames","getObjectNames","toNewVectorString","objectOrGroupNames","getReferencedObjectOrGroupNames","objectOrGroupBehaviorNames","objectOrGroupName","behaviorNames","getBehaviorNamesOfObjectOrGroup","EventsContextAnalyzerDialog","eventsContextResult","_UI_Dialog__WEBPACK_IMPORTED_MODULE_7__","SearchPanel","searchText","replaceText","matchCase","searchInActions","searchInConditions","searchInSelection","searchTextField","launchSearch","onSearchInEvents","launchReplace","onReplaceInEvents","resultsCount","hasEventSelected","onGoToPreviousSearchResult","onGoToNextSearchResult","_this$state3","material_ui_Paper__WEBPACK_IMPORTED_MODULE_7___default","_UI_Grid__WEBPACK_IMPORTED_MODULE_9__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_8___default","_searchTextField","_UI_InlineCheckbox__WEBPACK_IMPORTED_MODULE_14__","material_ui_svg_icons_navigation_chevron_left__WEBPACK_IMPORTED_MODULE_11___default","material_ui_svg_icons_navigation_chevron_right__WEBPACK_IMPORTED_MODULE_12___default","EventsSearcher","eventsSearchResults","_resultEvents","_doReplaceInEvents","EventsRefactorer","replaceStringInEvents","_doSearchInEvents","newEventsSearchResults","searchInEvents","_updateListOfResultEvents","resultEventsWithDuplicates","eventsSearchResult","at","isEventValid","getEvent","uniqBy","_goToSearchResults","newSearchFocusOffset","_goToPreviousSearchResult","_goToNextSearchResult","eventsSearchResultEvents","replaceInEvents","goToNextSearchResult","goToPreviousSearchResult","containsSubInstructions","subInstructionsList","Line","Column","Spacer","marginsSize","enumerateEventsMetadata","lodash_flatten__WEBPACK_IMPORTED_MODULE_0__","lodash_flatten__WEBPACK_IMPORTED_MODULE_0___default","_Utils_MapFor__WEBPACK_IMPORTED_MODULE_1__","flatten","extensionEvents","getAllEvents","EventsFunctionExtractorDialog","extensionName","createNewExtension","serializedEvents","EventsFunction","setupFunctionFromEvents","enumerateEventsFunctionsExtensions","eventsFunctionsExtensions","hasLotsOfParameters","functionHasLotsOfParameters","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_20__","canCreateEventsFunction","_UI_Grid__WEBPACK_IMPORTED_MODULE_10__","_UI_DismissableAlertMessage__WEBPACK_IMPORTED_MODULE_17__","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_12___default","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_13___default","material_ui_Divider__WEBPACK_IMPORTED_MODULE_14___default","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_11__","validateExtensionNameUniqueness","validateExtensionName","validateEventsFunctionNameUniqueness","validateEventsFunctionName","_UI_AlertMessage__WEBPACK_IMPORTED_MODULE_16__","_EventsFunctionsExtensionEditor_EventsFunctionConfigurationEditor_EventsFunctionPropertiesEditor__WEBPACK_IMPORTED_MODULE_19__","eventsBasedBehavior","onConfigurationUpdated","freezeEventsFunctionType","_EventsFunctionsExtensionEditor_EventsFunctionConfigurationEditor_EventsFunctionParametersEditor__WEBPACK_IMPORTED_MODULE_18__","onParametersUpdated","freezeParameters","getObjectGroupByName","objectGroupName","getObjectGroups","has","BehaviorTypeSelector","enumerateBehaviorsMetadata","valueIsListed","floatingLabelFixed","defaultBody","noMarginBody","actionsContainer","actionsContainerWithSecondaryActions","dialogActions","react__WEBPACK_IMPORTED_MODULE_1___default","material_ui_Dialog__WEBPACK_IMPORTED_MODULE_2___default","actionsContainerStyle","EmptyMessage","_Theme_ThemeConsumer__WEBPACK_IMPORTED_MODULE_2__","_BackgroundText__WEBPACK_IMPORTED_MODULE_3__","messageStyle","start","func","result","module","exports","mapReverseFor","mapVector","cppVector","EventsFunctionsExtensionEditor","selectedEventsFunction","selectedEventsBasedBehavior","editedEventsBasedBehavior","editOptionsDialogOpen","behaviorMethodSelectorDialogOpen","onAddEventsFunctionCb","_loadEventsFunctionFrom","_globalObjectsContainer","ObjectsContainer","_objectsContainer","EventsFunctionTools","eventsFunctionToObjectsContainer","selectEventsFunctionByName","eventsBasedBehaviors","getEventsBasedBehaviors","behaviorEventsFunctions","getEventsFunctions","hasEventsFunctionNamed","_selectEventsFunction","getEventsFunction","updateToolbar","_makeRenameFreeEventsFunction","newName","done","Project","validateObjectName","WholeProjectRefactorer","renameEventsFunction","_makeRenameBehaviorEventsFunction","isBehaviorLifecycleFunction","renameBehaviorEventsFunction","_onDeleteEventsFunction","_selectEventsBasedBehavior","_editors","openEditor","_makeRenameEventsBasedBehavior","renameEventsBasedBehavior","_onEventsBasedBehaviorRenamed","onBehaviorEdited","_onDeleteEventsBasedBehavior","_onAddFreeEventsFunction","_onAddBehaviorEventsFunction","_onCloseBehaviorMethodSelectorDialog","doAdd","_onBehaviorEventsFunctionAdded","ensureBehaviorEventsFunctionsProperParameters","_onBehaviorPropertyRenamed","oldName","renameBehaviorProperty","_editOptions","_editBehavior","initiallyFocusedFunctionName","initiallyFocusedBehaviorName","setToolbar","_this$props5","_UI_EditorMosaic__WEBPACK_IMPORTED_MODULE_8__","toolbarControls","_UI_Background__WEBPACK_IMPORTED_MODULE_13__","_EventsFunctionConfigurationEditor__WEBPACK_IMPORTED_MODULE_10__","onParametersOrGroupsUpdated","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_9__","events-sheet","_EventsSheet__WEBPACK_IMPORTED_MODULE_7__","getEvents","options","onCreateEventsFunction","free-functions-list","_EventsFunctionsList__WEBPACK_IMPORTED_MODULE_11__","eventsFunctionsContainer","onSelectEventsFunction","onDeleteEventsFunction","canRename","onRenameEventsFunction","onAddEventsFunction","onEventsFunctionAdded","renderHeader","_UI_Grid__WEBPACK_IMPORTED_MODULE_20__","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_19___default","material_ui_Divider__WEBPACK_IMPORTED_MODULE_21___default","behavior-functions-list","behaviors-list","_EventsBasedBehaviorsList__WEBPACK_IMPORTED_MODULE_12__","eventsBasedBehaviorsList","onSelectEventsBasedBehavior","onDeleteEventsBasedBehavior","onRenameEventsBasedBehavior","onEventsBasedBehaviorRenamed","onEditProperties","initialNodes","first","second","splitPercentage","_OptionsEditorDialog__WEBPACK_IMPORTED_MODULE_14__","_BehaviorMethodSelectorDialog__WEBPACK_IMPORTED_MODULE_17__","_EventsBasedBehaviorEditor_EventsBasedBehaviorEditorDialog__WEBPACK_IMPORTED_MODULE_16__","onRenameProperty","ObjectGroupEditor","newObjectName","removeObject","group","onSizeUpdated","addObject","getAllObjectsNames","getTypeOfObject","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_11__","_renderExplanation","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_8___default","material_ui_svg_icons_content_remove__WEBPACK_IMPORTED_MODULE_9___default","_ObjectsList_ObjectSelector__WEBPACK_IMPORTED_MODULE_10__","noGroups","openGitHubIssue","encodeURIComponent","OptionsEditorDialog","exportDialogOpen","_EventsFunctionsExtensionsLoader_EventsFunctionsExtensionsContext__WEBPACK_IMPORTED_MODULE_13__","eventsFunctionsExtensionsState","eventsFunctionsExtensionWriter","getEventsFunctionsExtensionWriter","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_12__","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_7___default","material_ui_svg_icons_file_cloud_upload__WEBPACK_IMPORTED_MODULE_9___default","setFullName","getShortDescription","setShortDescription","rows","rowsMax","setDescription","getVersion","setVersion","getTags","setTags","getAuthor","setAuthor","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_14___default","chooseEventsFunctionExtensionFile","pathOrUrl","writeEventsFunctionsExtension","reject","Error","exportExtension","EventsBasedBehaviorEditorDialog","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_10__","modal","_index__WEBPACK_IMPORTED_MODULE_9__","onTabChanged","onPropertiesUpdated","EventsBasedBehaviorEditor","_allObjectTypes","getAllObjectTypesUsingEventsBasedBehavior","_changeTab","material_ui_Tabs__WEBPACK_IMPORTED_MODULE_11__","_UI_DismissableAlertMessage__WEBPACK_IMPORTED_MODULE_12__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_7___default","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_9__","_ObjectTypeSelector__WEBPACK_IMPORTED_MODULE_10__","getObjectType","setObjectType","allowedObjectTypes","_UI_AlertMessage__WEBPACK_IMPORTED_MODULE_13__","getEventsFunctionsCount","_EventsBasedBehaviorPropertiesEditor__WEBPACK_IMPORTED_MODULE_14__","propertiesContainer","EventsBasedBehaviorPropertiesEditor","_addProperty","properties","getPropertyDescriptors","newNameGenerator","insertNew","getCount","_removeProperty","remove","_moveProperty","oldIndex","newIndex","move","_UI_Grid__WEBPACK_IMPORTED_MODULE_7__","property","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_17__","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_16__","validatePropertyName","_UI_InlineCheckbox__WEBPACK_IMPORTED_MODULE_20__","isHidden","setHidden","checkedIcon","material_ui_svg_icons_action_visibility__WEBPACK_IMPORTED_MODULE_21___default","uncheckedIcon","material_ui_svg_icons_action_visibility_off__WEBPACK_IMPORTED_MODULE_22___default","_UI_Menu_IconMenu__WEBPACK_IMPORTED_MODULE_14__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_12___default","material_ui_svg_icons_navigation_more_vert__WEBPACK_IMPORTED_MODULE_15___default","enabled","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_8___default","getValue","setValue","getLabel","setLabel","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_13__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_11___default","LayerRenderer","layer","viewPosition","instances","onInstanceClicked","onOverInstance","onOutInstance","onMoveInstance","onMoveInstanceEnd","onDownInstance","getInstanceLeft","renderedInstances","getInstanceTop","getInstanceWidth","getInstanceHeight","getRendererOfInstance","renderedInstance","associatedObjectName","getObjectName","createNewInstanceRenderer","interactive","gesture","panable","deltaX","deltaY","viewTopLeft","viewBottomRight","instancesRenderer","InitialInstanceJSFunctor","invoke","instancePtr","wrapPointer","InitialInstance","pixiObject","getPixiObject","zOrder","getZOrder","isLocked","isVisible","_isInstanceVisible","visible","wasUsed","toSceneCoordinates","_computeViewBounds","iterateOverInstancesWithZOrdering","_updatePixiObjectsZOrder","_updateVisibility","_cleanRenderers","getVisibility","hasOwnProperty","getInstance","instanceRemovedFromScene","SelectionRectangle","instanceMeasurer","toCanvasCoordinates","makeSelectionRectangle","lastX","lastY","selectionRectangleStart","selectionRectangleEnd","endSelectionRectangle","_instancesInSelectionRectangle","tmp","iterateOverInstances","selector","pixiRectangle","hitArea","instanceHeight","instanceWidth","selectionSceneStart","selectionSceneEnd","x1","y1","x2","y2","fillAlpha","alpha","drawRect","InstancePropertiesEditor","_instanceVariablesList","schema","valueType","setObjectName","onEditButtonClick","onEditObjectByName","setX","setY","setAngle","setLocked","setZOrder","enumerateLayers","getLayer","setLayer","setCustomWidth","setCustomHeight","setHasCustomSize","getCustomProperties","instanceSchema","propertiesMapToSchema","updateCustomProperty","_UI_Grid__WEBPACK_IMPORTED_MODULE_15__","_PropertiesEditor__WEBPACK_IMPORTED_MODULE_10__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_14___default","editInstanceVariables","material_ui_svg_icons_action_open_in_new__WEBPACK_IMPORTED_MODULE_16___default","_VariablesList__WEBPACK_IMPORTED_MODULE_12__","inheritedVariablesContainer","_UI_Background__WEBPACK_IMPORTED_MODULE_7__","_renderInstancesProperties","_renderEmpty","InstancesList","_onRowClick","renderedRows","onSelectInstances","_rowGetter","_rowClassName","selectedInstances","freezeUpdate","table","forceUpdateGrid","instanceRowRenderer","locked","toFixed","angle","tableKey","_UI_Theme_ThemeConsumer__WEBPACK_IMPORTED_MODULE_8__","react_virtualized__WEBPACK_IMPORTED_MODULE_7__","headerHeight","tableRootClassName","headerClassName","rowCount","rowGetter","onRowClick","rowClassName","dataKey","VariablesEditorDialog","selectedLayer","layersContainer","secondary","choices","layerRemoved","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_10___default","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_9___default","titleContainer","ObjectEditorDialog","_Component","onRename","EditorComponent","editorComponent","_UI_Dialog__WEBPACK_IMPORTED_MODULE_9__","material_ui_Tabs__WEBPACK_IMPORTED_MODULE_12__","titleStyle","_UI_Grid__WEBPACK_IMPORTED_MODULE_14__","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_15__","canRenameObject","_BehaviorsEditor__WEBPACK_IMPORTED_MODULE_11__","ObjectEditorDialogContainer","dialogComponent","castToObjectType","editorConfiguration","ObjectsEditorService","getEditorConfiguration","withSerializableObject","propName","newObjectCreator","createNewObject","useProjectToUnserialize","EditorDialog","toolbarItemStyle","sizeTextField","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","toolbarItem","checkbox","TextEditor","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_11__","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_14__","setCharacterSize","_UI_ColorField_ColorPicker__WEBPACK_IMPORTED_MODULE_10__","setColor","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_8___default","setBold","setItalic","_ResourcesList_ResourceSelector__WEBPACK_IMPORTED_MODULE_12__","setFontName","setString","TiledSpriteEditor","tiledSpriteObject","_ResourcesList_ResourceSelectorWithThumbnail__WEBPACK_IMPORTED_MODULE_9__","setTexture","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_7__","setWidth","setHeight","PanelSpriteEditor","panelSpriteObject","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_7___default","setTiled","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_10__","setTopMargin","setBottomMargin","setLeftMargin","setRightMargin","gridList","animationTitle","animationTools","lastLine","addAnimation","addAnimationText","AddAnimationLine","extraTools","react__WEBPACK_IMPORTED_MODULE_9__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_22__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_15___default","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_13___default","Animation","onSpriteContextMenu","selectedSprites","onSelectSprite","onReplaceDirection","onChangeName","animationName","material_ui_GridList__WEBPACK_IMPORTED_MODULE_10__","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_23__","smallest","_UI_DragHandle__WEBPACK_IMPORTED_MODULE_24__","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_19__","_lingui_react__WEBPACK_IMPORTED_MODULE_8__","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_14___default","_SpritesList__WEBPACK_IMPORTED_MODULE_12__","onReplaceByDirection","newDirection","SortableAnimation","SortableElement","SortableAnimationsList","SortableContainer","onAddAnimation","onRemoveAnimation","onChangeAnimationName","extraBottomTools","cellHeight","cols","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","directionId","AnimationsListContainer","onSortEnd","moveAnimation","emptyAnimation","setDirectionsCount","removeAnimation","changeAnimationName","otherNames","deleteSelection","deleteSpritesFromAnimation","duplicateSelection","duplicateSpritesInAnimation","openSpriteContextMenu","sprite","selectSprite","spriteContextMenu","replaceDirection","animationId","setDirection","helperClass","useDragHandle","lockAxis","axis","_UI_Menu_ContextMenu__WEBPACK_IMPORTED_MODULE_25__","SpriteEditor","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","pointsEditorOpen","collisionMasksEditorOpen","openPointsEditor","openCollisionMasksEditor","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_17___default","_UI_Dialog__WEBPACK_IMPORTED_MODULE_20__","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_16___default","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_21__","_PointsEditor__WEBPACK_IMPORTED_MODULE_28__","onPointsUpdated","_CollisionMasksEditor__WEBPACK_IMPORTED_MODULE_29__","onCollisionMasksUpdated","require","spritesList","thumbnailExtraStyle","addSpriteButton","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_6__","thumbnailContainerStyle","background","spriteThumbnailImage","maxHeight","verticalAlign","AddSpriteButton","displayHint","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_11___default","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_10___default","SortableSpriteThumbnail","_ResourcesList_ResourceThumbnail_ImageThumbnail__WEBPACK_IMPORTED_MODULE_14__","selectable","SortableList","onAddSprite","spritesCount","checkDirectionPointsAndCollisionsMasks","allDirectionSpritesHaveSamePoints","allDirectionSpritesHaveSameCollisionMasks","allDirectionSpritesHaveSamePointsAs","allDirectionSpritesHaveSameCollisionMasksAs","SpritesList","moveSprite","_checkDirectionPoints","applyResourceDefaults","Sprite","setImageName","copySpritePoints","copySpritePolygons","addSprite","editWith","externalEditor","resourceNames","_checkDirectionPoints2","externalEditorData","metadataRaw","getMetadata","singleFrame","extraOptions","fps","getTimeBetweenFrames","basename","extname","isLooping","onChangesSaved","newAnimationName","Direction","setTimeBetweenFrames","setLoop","originalIndex","originalSprite","setMetadata","stringify","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_13__","_DirectionTools__WEBPACK_IMPORTED_MODULE_12__","onEditWith","PointsEditor","animationIndex","directionIndex","spriteIndex","samePointsForAnimations","samePointsForSprites","_updatePoints","_getCurrentElements","getCurrentElements","otherAnimation","copyAnimationsSpritePoints","chooseAnimation","_updateSamePointsToggles","chooseDirection","chooseSprite","_getCurrentElements2","every","allSpritesHaveSamePointsAs","_setSamePointsForAllAnimations","enable","_setSamePointsForAllSprites","_getCurrentElements3","hasValidSprite","_ResourcesList_ResourcePreview_ImagePreview__WEBPACK_IMPORTED_MODULE_12__","renderOverlay","imageWidth","imageHeight","imageZoomFactor","_PointsPreview__WEBPACK_IMPORTED_MODULE_11__","pointsContainer","_Utils_SpriteSelector__WEBPACK_IMPORTED_MODULE_14__","sameForAllAnimations","sameForAllSprites","setSameForAllAnimations","setSameForAllSprites","setSameForAllAnimationsLabel","setSameForAllSpritesLabel","_PointsList__WEBPACK_IMPORTED_MODULE_10__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_7__","SortableAddPointRow","AddPointRow","SortablePointRow","PointRow","PointsListBody","nameErrors","updateOriginPointX","_onPointsUpdated","updateOriginPointY","updateCenterPointX","updateCenterPointY","updatePointX","point","updatePointY","nonDefaultPoints","getAllNonDefaultPoints","pointsRows","pointName","react__WEBPACK_IMPORTED_MODULE_8___default","pointX","pointY","onChangePointX","onChangePointY","nameError","success","hasPoint","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","delPoint","originPoint","centerPoint","originRow","centerRow","isAutomatic","onEdit","setDefaultCenterPoint","addRow","Point","addPoint","material_ui_Table__WEBPACK_IMPORTED_MODULE_9__","displayRowCheckbox","deselectOnClickaway","showRowHover","SortablePointsListBody","PointsList","displaySelectAll","adjustForCheckbox","handleColumn","coordinateColumn","lockToContainerEdges","material_ui_Table__WEBPACK_IMPORTED_MODULE_2__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_6___default","parseFloat","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_4___default","material_ui_svg_icons_editor_mode_edit__WEBPACK_IMPORTED_MODULE_5___default","material_ui_Table__WEBPACK_IMPORTED_MODULE_1__","_styles__WEBPACK_IMPORTED_MODULE_4__","pointKindIdentifiers","NORMAL","ORIGIN","CENTER","PointsPreview","draggedPoint","draggedPointKind","_onStartDragPoint","_onEndDragPoint","draggingWasDone","_onMouseMove","containerBoundingRect","getBoundingClientRect","xOnContainer","yOnContainer","_renderPoint","imageSrc","transform","onPointerDown","points","automaticCenterPosition","onPointerMove","onPointerUp","CollisionMasksEditor","sameCollisionMasksForAnimations","sameCollisionMasksForSprites","spriteWidth","spriteHeight","_updateCollisionMasks","copyAnimationsSpriteCollisionMasks","_updateSameCollisionMasksToggles","allSpritesHaveSameCollisionMasksAs","_onSetCollisionMaskAutomatic","automatic","setCollisionMaskAutomatic","_setSameCollisionMasksForAllAnimations","_setSameCollisionMasksForAllSprites","_setCurrentSpriteSize","_this$state4","_getCurrentElements4","_ResourcesList_ResourcePreview_ImagePreview__WEBPACK_IMPORTED_MODULE_13__","onSize","_CollisionMasksPreview__WEBPACK_IMPORTED_MODULE_12__","isDefaultBoundingBox","isCollisionMaskAutomatic","polygons","getCustomCollisionMask","onPolygonsUpdated","_Utils_SpriteSelector__WEBPACK_IMPORTED_MODULE_15__","_PolygonsList__WEBPACK_IMPORTED_MODULE_11__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_8__","SortableAddPolygonRow","AddPolygonRow","SortableAddVerticeRow","AddVerticeRow","SortableVerticeRow","VerticeRow","SortablePolygonRow","PolygonRow","PolygonsListBody","updateVerticeX","vertice","set_x","_onPolygonUpdated","updateVerticeY","set_y","polygonRows","polygon","vertices","getVertices","isConvex","removeFromVectorPolygon2d","verticesCount","verticeX","get_x","verticeY","get_y","onChangeVerticeX","onChangeVerticeY","removeFromVectorVector2f","hasWarning","newVertice","Vector2f","push_back","newPolygon","Polygon2d","createRectangle","material_ui_Table__WEBPACK_IMPORTED_MODULE_8__","SortablePolygonsListBody","PolygonsList","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_2__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_2___default","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_3__","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_3___default","material_ui_TextField__WEBPACK_IMPORTED_MODULE_4__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_4___default","material_ui_svg_icons_alert_warning__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_alert_warning__WEBPACK_IMPORTED_MODULE_5___default","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_6__","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_6___default","_styles__WEBPACK_IMPORTED_MODULE_7__","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_4__","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_4___default","_styles__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_content_add_circle__WEBPACK_IMPORTED_MODULE_2__","material_ui_svg_icons_content_add_circle__WEBPACK_IMPORTED_MODULE_2___default","svg","vertexCircle","CollisionMasksPreview","draggedVertex","_onStartDragVertex","_onEndDragVertex","_onPointerMove","pointOnScreen","_svg","createSVGPoint","screenToSvgMatrix","getScreenCTM","inverse","pointOnSvg","matrixTransform","stroke","strokeWidth","fileRule","vertex","cx","cy","_renderBoundingBox","_renderPolygons","EmptyEditor","shapePainterObject","asShapePainterObject","areCoordinatesAbsolute","setCoordinatesRelative","setCoordinatesAbsolute","_UI_ColorField__WEBPACK_IMPORTED_MODULE_9__","getOutlineColorR","getOutlineColorG","getOutlineColorB","setOutlineColor","getOutlineOpacity","setOutlineOpacity","getOutlineSize","setOutlineSize","getFillColorR","getFillColorG","getFillColorB","setFillColor","getFillOpacity","setFillOpacity","ParticleEmitterEditor","getRendererType","setRendererType","ParticleEmitterObject","Quad","setParticleTexture","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_12__","getRendererParam1","setRendererParam1","getRendererParam2","setRendererParam2","getParticleTexture","_UI_ColorField__WEBPACK_IMPORTED_MODULE_11__","setParticleRed1","setParticleGreen1","setParticleBlue1","getParticleAlpha1","setParticleAlpha1","setParticleRed2","setParticleGreen2","setParticleBlue2","getParticleAlpha2","setParticleAlpha2","isRenderingAdditive","setRenderingAdditive","setRenderingAlpha","getDestroyWhenNoParticles","setDestroyWhenNoParticles","getMaxParticleNb","setMaxParticleNb","getTank","setTank","getFlow","setFlow","getEmitterForceMin","setEmitterForceMin","getEmitterForceMax","setEmitterForceMax","setConeSprayAngle","getZoneRadius","setZoneRadius","getParticleGravityX","setParticleGravityX","getParticleGravityY","setParticleGravityY","getFriction","setFriction","getParticleLifeTimeMin","setParticleLifeTimeMin","getParticleLifeTimeMax","setParticleLifeTimeMax","getParticleSize1","setParticleSize1","getParticleSize2","setParticleSize2","getParticleAngle1","setParticleAngle1","getParticleAngle2","setParticleAngle2","ObjectPropertiesEditor","getProperties","propertiesSchema","updateProperty","extraInformation","getExtraObjectsInformation","_UI_AlertMessage__WEBPACK_IMPORTED_MODULE_12__","_PropertiesEditor__WEBPACK_IMPORTED_MODULE_7__","addBehaviorLine","addBehaviorText","behaviorTitle","behaviorTools","AddBehaviorLine","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_8___default","BehaviorsEditor","chooseNewBehavior","newBehaviorDialogOpen","_hasBehaviorWithType","getAllBehaviorNames","getBehavior","behavior","getTypeName","addBehavior","defaultName","hasBehaviorNamed","addNewBehavior","_onChangeBehaviorName","behaviorContent","renameBehavior","_onRemoveBehavior","removeBehavior","allBehaviorNames","isNullPtr","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_12__","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_9___default","BehaviorComponent","BehaviorsEditorService","getEditor","_UI_HelpIcon__WEBPACK_IMPORTED_MODULE_13__","getBehaviorHelpPagePath","_NewBehaviorDialog__WEBPACK_IMPORTED_MODULE_15__","material_ui_svg_icons_action_help_outline__WEBPACK_IMPORTED_MODULE_1__","material_ui_svg_icons_action_help_outline__WEBPACK_IMPORTED_MODULE_1___default","_Utils_HelpLink__WEBPACK_IMPORTED_MODULE_3__","_Utils_Window__WEBPACK_IMPORTED_MODULE_4__","disabledItem","opacity","BehaviorListItem","material_ui_List__WEBPACK_IMPORTED_MODULE_14__","leftAvatar","material_ui_Avatar__WEBPACK_IMPORTED_MODULE_12___default","NewBehaviorDialog","showDeprecated","_searchBar","createRef","_showDeprecated","_onNewExtensionInstalled","platform","deprecatedBehaviorsInformation","getDeprecatedBehaviorsInformation","filteredBehaviorMetadata","filterEnumeratedBehaviorMetadata","behaviors","deprecatedBehaviors","chooseBehavior","showMessageBox","warning","canBehaviorBeUsed","hasSearchNoResult","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_9__","material_ui_Tabs__WEBPACK_IMPORTED_MODULE_13__","_UI_SearchBar__WEBPACK_IMPORTED_MODULE_23__","onRequestSearch","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_24__","material_ui_Subheader__WEBPACK_IMPORTED_MODULE_11___default","_UI_Grid__WEBPACK_IMPORTED_MODULE_18__","material_ui_svg_icons_action_visibility_off__WEBPACK_IMPORTED_MODULE_16___default","material_ui_svg_icons_action_visibility__WEBPACK_IMPORTED_MODULE_15___default","material_ui_svg_icons_content_create__WEBPACK_IMPORTED_MODULE_17___default","_ExtensionsSearch__WEBPACK_IMPORTED_MODULE_25__","onNewExtensionInstalled","showOnlyWithBehaviors","InstancesSelection","getSelectedInstances","multiselect","layersVisibility","isInstanceSelected","unselectInstance","clearSelection","selectInstance","splice","SetupGridDialog","gridWidth","gridHeight","gridOffsetX","gridOffsetY","gridOptions","ScenePropertiesDialog","setWindowDefaultTitle","windowTitle","setStopSoundsOnStartup","shouldStopSoundsOnStartup","setBackgroundColor","getWindowDefaultTitle","stopSoundsOnStartup","propertiesEditors","getAllBehaviorSharedDataNames","sharedDataContent","getBehaviorSharedData","behaviorSharedData","getBehaviorSharedDatas","getContent","_PropertiesEditor__WEBPACK_IMPORTED_MODULE_13__","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_16___default","onEditVariables","some","onOpenMoreSettings","showObjectsList","openObjectsList","openObjectGroupsList","openProperties","instancesSelection","toggleInstancesList","toggleLayersList","isWindowMaskShown","toggleWindowMask","isGridShown","toggleGrid","openSetupGrid","zoomIn","accelerator","zoomOut","centerView","setZoomFactor","flexContainer","absoluteContainer","passFullSize","WrappedComponent","useFlex","FullSizeMeasurer","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","wrappedComponentRef","react_measure__WEBPACK_IMPORTED_MODULE_7___default","xScrollbar","xSliderStyle","yScrollbar","ySliderStyle","addScrollbars","ScrollbarContainer","_editor","xValue","yValue","xMin","xMax","yMin","yMax","_handleXChange","scrollTo","_handleYChange","_setAndAdjust","_handleViewPositionChange","throttle","getViewX","getViewY","leading","trailing","getViewPosition","wrappedEditorRef","onViewPositionChanged","material_ui_Slider__WEBPACK_IMPORTED_MODULE_7___default","sliderStyle","TagsButton","_Menu_IconMenu__WEBPACK_IMPORTED_MODULE_8__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_6___default","material_ui_svg_icons_content_filter_list__WEBPACK_IMPORTED_MODULE_7___default","glob","hasElectron","listContainer","ResourcesList","renamedResource","resourcesWithErrors","_deleteResource","onDeleteResource","_locateResourceFile","resourceFolderPath","getLocalResourceFullPath","shell","openItem","_openResourceFile","resourceFilePath","_copyResourceFilePath","clipboard","writeText","_scanForNewResources","extensions","createResource","res","pathFound","fileName","relative","createOrUpdateResource","info","_removeUnusedResources","resourceType","ProjectResourcesAdder","getAllUseless","removeAllUseless","_removeAllResourcesWithInvalidPath","getAllResourceNames","getResourceFilePathStatus","removeResource","_editName","sortableList","getWrappedInstance","_rename","onRenameResource","doRename","_move","moveResource","forceUpdateList","_renderResourceMenuTemplate","_index","RESOURCE_EXTENSIONS","image","audio","AudioResource","font","FontResource","video","VideoResource","checkMissingPaths","nextState","selectedResource","onSelectResource","allResourcesList","filteredList","filterResourcesList","listKey","_UI_Background__WEBPACK_IMPORTED_MODULE_8__","react_virtualized__WEBPACK_IMPORTED_MODULE_6__","_UI_SortableVirtualizedItemList__WEBPACK_IMPORTED_MODULE_7__","fullList","selectedItem","onItemSelected","renamedItem","distance","erroredItems","_UI_SearchBar__WEBPACK_IMPORTED_MODULE_9__","lowercaseSearchText","toLowerCase","errorHandler","componentStack","sendErrorMessage","ErrorFallbackComponent","_PlaceholderMessage__WEBPACK_IMPORTED_MODULE_4__","material_ui_svg_icons_action_bug_report__WEBPACK_IMPORTED_MODULE_3___default","material_ui_Divider__WEBPACK_IMPORTED_MODULE_5___default","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_6___default","body","stack","ErrorBoundary","react_error_boundary__WEBPACK_IMPORTED_MODULE_2___default","FallbackComponent","onError","HelpButton","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_2___default","material_ui_svg_icons_action_help_outline__WEBPACK_IMPORTED_MODULE_3___default","descriptionText","card","bulletIcon","bulletText","SubscriptionDialog","isLoading","choosePlan","userProfile","plan","getAuthorizationHeader","subscription","profile","sendChoosePlanClicked","planId","stripeCustomerId","changeUserSubscription","uid","handleNewSubscriptionSuccess","handleNewSubscriptionFailure","stripeCheckout","StripeCheckout","stripeCheckoutHandler","configure","StripeCheckoutConfig","locale","token","stripeToken","currency","email","amount","monthlyPriceInEuros","onRefreshUserProfile","_isLoading","sendSubscriptionDialogShown","_UserProfileContext__WEBPACK_IMPORTED_MODULE_10__","getSubscriptionPlans","material_ui_Card__WEBPACK_IMPORTED_MODULE_7__","_renderPrice","subtitle","smallDescription","descriptionBullets","material_ui_svg_icons_action_check_circle__WEBPACK_IMPORTED_MODULE_15___default","extraDescription","_UI_LeftLoader__WEBPACK_IMPORTED_MODULE_18__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_16__","authenticated","_UI_PlaceholderMessage__WEBPACK_IMPORTED_MODULE_19__","onLogin","displayLocaleMetadata","localeMetadata","languageCode","renderLanguageMenuItem","translationRatio","percent","isStarted","languageNativeName","languageName","LanguageDialog","languageDidChange","localesToDisplay","LocalesMetadata","goodProgressLocales","startedLocales","_lingui_react__WEBPACK_IMPORTED_MODULE_15__","_PreferencesContext__WEBPACK_IMPORTED_MODULE_12__","setLanguage","isLoadingLanguage","language","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_6___default","material_ui_Divider__WEBPACK_IMPORTED_MODULE_16___default","ExamplesSearchbar","_chips","isBuiltin","chosenExtensionName","onExtensionNameChosen","_UI_SearchbarWithChips__WEBPACK_IMPORTED_MODULE_8__","chips","chosenChip","onChooseChip","admob","usedExtensions","advanced-shape-based-painter","animation-speed-scale","asteroids","basic-ai-with-pathfinding","basic-artificial-intelligence","basic-topdown-car-driving","betabox-basics-learning-experience","bomb-the-crate","bouncing-ball-and-rope","breakout","buttons","car-physics","center-object-within-another","change-position-of-object","change-scale-of-sprites","change-sprite-animation","change-sprite-color","character-selection","create-object-with-mouseclick","custom-font","custom-mouse-pointer","customize-keys-with-lastpressedkey","device-orientation-ballgame","device-orientation-compass","device-vibration","downhill-bike-physics-demo","drag-camera-with-mouse","drop-collect-items-from-storage","endless-up-runner","exit-app","facebook-instant-game","filesystem-create-directory","find-diagonals","geodash","health-bar","infinite-scrolling-background","inventory-system","isometric-game","javascript-blocks-in-platformer","keyboard-practice","level-editor","load-image-from-url","magnet","manipulate-text-object","menu-with-functions-and-text-effects","move-camera-to-position","move-object-back-and-forth","move-object-in-circle","move-object-toward-position","move-object-with-mouse-joint","move-object-with-physics","multiplayer-platformer-with-gamepads","multitouch","object-gravity","object-selection","objects-timers","open-url-in-browser","pairs","parallax","parallax-scrolling","parse-json-from-api","parse-json-string","particles-explosions","particles-various-effects","pathfinding","pathfinding-basics","physics","physics-joints-demo","physics-joints-settings-demo","pin-object-to-another","pin-object-to-another-multiple-parents","pixel-perfect-platform-game","plane-and-clouds","platformer","platformer-double-jump","play-music-on-mobile","play-stop-sprite-animation","racing-game","ragdoll","rain","random-color-picker","rotate-toward-mouse","rotate-toward-position","rotate-with-keypress","save-load","screen-shake","shoot-bullet-in-parabola","shoot-bullets","shooting-bullets-explanation","simple-space-shooter","snap-object-to-grid","space-invaders","space-shooter","splash-screen","sprite-fade-in-out","take-screenshot","text-entry-object","text-fade-in-out","text-to-speech","toggle-music-play-sound","type-on-text-effect","video-player","z-depth","zombie-laser","UrlsCache","projectCache","cache","filename","_getProjectCache","url","systemFilename","disableCacheBurst","Date","now","resourcesNames","_cache","burstUrl","cachedUrl","getCachedUrl","isLocalFile","file","resourceAbsolutePath","cacheLocalFileUrl","cacheUrl","resourceRelativePath","getFullUrl","GDI18nProvider","catalogs","_loadCatalog","catalog","_loadLanguage","prevProps","setupI18n","getTranslation","getTranslationFunction","./af_ZA/messages","./ar_SA/messages","./az_AZ/messages","./bg_BG/messages","./bn_BD/messages","./ca_ES/messages","./cs_CZ/messages","./da_DK/messages","./de_DE/messages","./el_GR/messages","./en/messages","./eo_UY/messages","./es_ES/messages","./fa_IR/messages","./fi_FI/messages","./fil_PH/messages","./fr_FR/messages","./ha_HG/messages","./he_IL/messages","./hi_IN/messages","./hu_HU/messages","./id_ID/messages","./it_IT/messages","./ja_JP/messages","./ko_KR/messages","./lt_LT/messages","./mr_IN/messages","./ms_MY/messages","./my_MM/messages","./nl_NL/messages","./no_NO/messages","./pl_PL/messages","./pseudo_LOCALE/messages","./pt_BR/messages","./pt_PT/messages","./ro_RO/messages","./ru_RU/messages","./sk_SK/messages","./sr_CS/messages","./sr_SP/messages","./sv_SE/messages","./th_TH/messages","./tr_TR/messages","./uk_UA/messages","./ur_PK/messages","./yo_NG/messages","./zh_CN/messages","./zh_TW/messages","webpackAsyncContext","req","ids","code","SemiControlledTextField","focused","getInputNode","onFocus","serializeToJSObject","unserializeFromJSObject","serializable","methodName","serializedElement","SerializerElement","Serializer","toJSON","optionalProject","fromJSObject","conditionsContainer","dropIndicator","cantDropIndicator","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_0__","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_0___default","exists","potentialName","GDIconMenu","iconMenu","menuImplementation","buildFromTemplate","showMenu","_onClick","ElectronMenuImplementation","MaterialUIMenuImplementation","iconMenuProps","material_ui_IconMenu__WEBPACK_IMPORTED_MODULE_7___default","desktop","disableAutoFocus","getMenuProps","material_ui_CircularProgress__WEBPACK_IMPORTED_MODULE_2___default","ListIcon","isGDevelopIcon","_Theme_ThemeConsumer__WEBPACK_IMPORTED_MODULE_8__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_7___default","iconStyle","gdevelopIconsCSSFilter","crossOrigin","SimpleDropTarget","NativeTypes","TEXT","item","isOverCurrent","itemType","getItemType","InstancesRenderer","classCallCheck","layersRenderers","layerRenderer","getInstanceRect","getPixiContainer","resetRenderersFor","removeChild","transformRect","transformPoint","endPos","onResize","onResizeEnd","onRotate","onRotateEnd","rectanglesContainer","selectedRectangles","resizeButton","resizeIcon","fromImage","rightResizeButton","bottomResizeButton","rotateButton","_makeButton","objectButton","onMove","onEnd","buttonMode","buttonObject","canvasPosition","shape","newRectangle","instanceRect","selectionRectangle","pop","resizeButtonPos","rightResizeButtonPos","bottomResizeButtonPos","rotateButtonPos","buttonPadding","_renderButton","highlightedInstance","highlightRectangle","tooltipBackground","tooltipText","tooltipInfo","drawRoundedRect","InstancesResizer","instanceSizes","totalDeltaX","totalDeltaY","snap","grid","proportional","initialSize","selectedInstance","_roundWidth","_getSizeDeltaX","_roundHeight","_getSizeDeltaY","InstancesRotator","instanceAngles","initialAngle","atan2","_getNewAngle","InstancesMover","instancePositions","noGridSnap","roundPosition","followAxis","initialPosition","_roundXPosition","_getMoveDeltaX","_roundYPosition","_getMoveDeltaY","pixiGrid","sceneStartPoint","sceneEndPoint","startXPos","startYPos","endXPos","ceil","endYPos","Xpos","Ypos","WindowBorder","windowRectangle","getMainWindowDefaultWidth","getMainWindowDefaultHeight","displayedRectangle","windowMask","DropHandler","canvas","onDrop","ondragover","ondrop","ev","dataTransfer","dropEffect","canvasRect","getData","BackgroundColor","pixiRenderer","FpsLimiter","maxFps","_lastFrameTime","_interval","_forceUpdate","delta","stopPIXITicker","ticker","shared","stop","startPIXITicker","StatusBar","getLastCursorPosition","_getLastCursorPosition","_statusBarContainer","_statusBarBackground","_statusBarText","resize","_this$_getLastCursorP","_this$_getLastCursorP2","slicedToArray","CanvasCursor","shouldMoveView","canvasArea","dropCursor","InstancesEditorContainer","possibleConstructorReturn","getPrototypeOf","lastCursorX","lastCursorY","_onBackgroundClicked","view","keyboardShortcuts","shouldMultiSelect","onInstancesSelected","_onPanMove","sceneDeltaX","getZoomFactor","sceneDeltaY","scrollBy","_getLayersVisibility","_onPanEnd","hasStartedSelectionRectangle","instancesSelected","selectInstances","_onInstanceClicked","_onOverInstance","setInstance","_onDownInstance","shouldCloneInstances","initialInstances","insertInitialInstance","_onOutInstance","_onMoveInstance","instancesMover","moveBy","shouldFollowAxis","shouldNotSnapToGrid","_onMoveInstanceEnd","endMove","onInstancesMoved","_onResize","instancesResizer","resizeBy","shouldResizeProportionally","_onResizeEnd","endResize","onInstancesResized","_onRotate","instancesRotator","rotateBy","_onRotateEnd","endRotate","onInstancesRotated","_onDrop","newPos","onAddInstance","clearHighlightedInstance","moveSelection","getLastContextMenuPosition","lastContextMenuX","lastContextMenuY","_renderScene","_unmounted","_renderingPaused","fpsLimiter","shouldUpdate","canvasCursor","windowBorder","statusBar","nextFrame","requestAnimationFrame","pauseSceneRendering","cancelAnimationFrame","restartSceneRendering","_initializeCanvasAndRenderer","antialias","addEventListener","offsetX","offsetY","onPointerOver","onPointerOut","onmousewheel","shouldZoom","zoomBy","wheelDelta","shouldScrollHorizontally","setAttribute","blur","backgroundArea","data","ViewPosition","initialViewX","initialViewY","KeyboardShortcuts","onDelete","onCut","onUndo","onRedo","onZoomOut","onZoomIn","dropHandler","_mountEditorComponents","getInstanceMeasurer","SelectedInstances","HighlightedInstance","WindowMask","unmount","forceNextUpdate","setOptions","pauseRendering","zoomFactor","onChangeOptions","scrollToInstance","react_default","DragDropHelpers_SimpleDropTarget","objectSpread","showDropCursor","Create","SvgIcon_default","viewBox","fillRule","Step","Destroy","Function","Activate","Deactivate","MethodListItem","leftIcon","BehaviorMethodSelectorDialog","eventsFunctions","Subheader_default","BehaviorMethodSelectorDialog_MethodListItem","getPasteLabel","isGlobalObject","clipboardObjectName","Clipboard","clipboardContent","ThemableObjectRow","_onContextMenu","_iconMenu","IconMenu","IconButton_default","more_vert_default","submenu","buildTagsMenuTemplate","noTagLabel","getAllTags","getAllObjectTags","selectedTags","getTagsFromString","objectTags","onChangeTags","editTagsLabel","onEditTags","onEditName","onSetAsGlobalObject","onAddNewObject","onCopyObject","onCutObject","onPasteObject","onDuplicateObject","editingName","TextField_default","onKeyPress","charCode","listItem","itemStyle","separatorColor","_renderObjectMenu","onObjectSelected","ObjectRow","ObjectListItem","Avatar_default","NewObjectDialog","showExperimental","_showExperimental","enumerateObjectTypes","experimentalObjectsInformation","getExperimentalObjects","experimentalObjects","NewObjectDialog_ObjectListItem","visibility_off_default","visibility_default","EditTagsDialog","tagsString","_tagsField","tags","AddObjectRow","makeAddItem","ListItem","SortableObjectRow","objectWithoutProperties","ObjectsList_ObjectRow","SortableAddObjectRow","ObjectsList","selectedObjectNames","es","rowRenderer","objectWithContext","nameBeingEdited","renamedObjectWithContext","onEditObject","SortableObjectsList","withRef","ObjectsListContainer","_displayedObjectsList","newObjectDialogOpen","variablesEditedObject","tagEditedObject","_this2$props","onObjectCreated","insertNewObject","getObjectsCount","getStringFromTags","selectedObjectTags","_deleteObject","_this2$props2","onDeleteObject","doRemove","_copyObject","_cutObject","_duplicateObject","_pasteAndRename","_paste","pasteObject","_Clipboard$get","copiedObject","_this2$props3","onObjectPasted","newObject","getObjectPosition","_editVariables","onRenameObject","canMoveObjects","_this2$props4","movedObjectWithContext","destinationObjectWithContext","moveObject","_onStartDraggingObject","draggedObjectWithContext","onStartDraggingObject","_setAsGlobalObject","_this2$props5","moveObjectToAnotherContainer","_openEditTagDialog","_changeObjectTags","lists","enumerateObjects","filterObjectsList","allObjectsList","Background","TagChips","onChangeSelectedObjectTags","onSortStart","onEndDraggingObject","SearchBar","NewObjectDialog_NewObjectDialog","EditTagsDialog_EditTagsDialog","getGravatarUrl","hash","md5","trim","lineHeight","ProfileDetails","PlaceholderLoader","UsagesDetails","usages","Table","usage","format","createdAt","SubscriptionDetails","onChangeSubscription","RaisedButton_default","ProfileDialog","UserProfileContext","onLogout","CreateProfile","BehaviorPropertiesEditor","PropertiesEditor","ShapePreview","draggedIndex","_onVertexDown","_onMouseUp","onMoveVertex","polygonOrigin","dimensionA","dimensionB","fixedWidth","fixedHeight","halfLength","filerule","_renderBox","_renderCircle","_renderEdge","_renderPolygon","PolygonEditor","edges","v1","v2","zProductIsPositive","alignedX","alignedY","onChangeVertexX","onChangeVertexY","_isPolygonConvex","warning_default","toString","delete_default","add_circle_default","NumericProperty","propertyName","BitProperty","pos","spacing","Checkbox_default","Physics2Editor","bitsValue","bits","layersValues","masksValues","SelectField_default","MenuItem_default","ImagePreview","ShapePreview_ShapePreview","newX","newY","ResourceSelector","BackgroundText","PolygonEditor_PolygonEditor","_isBitEnabled","_enableBit","components","Physics2::Physics2Behavior","visibleColumn","LayerRow","onChangeVisibility","DragHandle","AddLayerRow","add_default","SortableAddLayerRow","SortableLayerRow","LayersListBody","layersCount","containerLayersList","hasLayerNamed","onRenameLayer","defineProperty","onRemoveLayer","removeLayer","setVisibility","insertNewLayer","SortableLayersListBody","LayersList","moveLayer","logo","GDevelopLogo","ScrollBackground","palette","canvasColor","innerContainer","centerContainer","logoPaper","buttonsPaper","StartPage","aboutDialogOpen","canOpen","onOpenProjectManager","onCloseProject","onOpenAboutDialog","onOpenHelpFinder","onOpenLanguageDialog","StartPage_ScrollBackground","Paper_default","zDepth","StartPage_GDevelopLogo","language_default","iconClassName","BaseEditor","InstructionSelector","InstructionOrExpressionSelector","parametersEditor","InstructionEditor","chooseType","InstructionSelector_InstructionSelector","rounded","InstructionParametersEditor","InstructionEditorDialog","InstructionEditor_InstructionEditor","searchBar","SelectableList","makeSelectable","InstructionOrObjectSelector","enumerateFreeInstructions","_getAllObjectTags","tagsSet","Set","tag","from","_buildObjectTagsMenuTemplate","_enumerateObjectsAndG","enumerateObjectsAndGroups","allGroupsList","displayedObjectsList","displayedObjectGroupsList","filterGroupsList","displayedInstructionsList","filterInstructionsList","isSearching","hasResults","onSubmitSearch","ThemeConsumer","oldSearchText","ScrollView","getObjectOrObjectGroupListItemKey","getInstructionListItemKey","renderObjectListItem","groupWithContext","renderGroupObjectsListItem","renderInstructionOrExpressionListItem","instructionOrExpressionMetadata","renderInstructionTree","instructionTreeNode","ProjectPropertiesDialog","_subscriptionChecker","windowDefaultWidth","windowDefaultHeight","author","version","packageName","orientation","adMobAppId","scaleMode","sizeOnStartupMode","showGDevelopSplash","minFPS","maxFPS","isFolderProject","setDefaultWidth","setDefaultHeight","setPackageName","setOrientation","setAdMobAppId","setScaleMode","setSizeOnStartupMode","setMinimumFPS","setMaximumFPS","getLoadingScreen","setFolderProject","displayProjectErrorsBox","getErrors","getPackageName","getOrientation","getAdMobAppId","getScaleMode","getSizeOnStartupMode","isGDevelopSplashShown","getMinimumFPS","getMaximumFPS","DismissableAlertMessage","validatePackageName","checkHasSubscription","SubscriptionChecker","subscriptionChecker","mode","ExtensionsSearchDialog","EventsFunctionsExtensionsContext","eventsFunctionsExtensionOpener","getEventsFunctionsExtensionOpener","cloud_download_default","readEventsFunctionExtensionFile","serializedExtension","hasEventsFunctionsExtensionNamed","addSerializedExtensionToProject","importExtension","ExtensionsSearch","onRegistryLoaded","LAYOUT_CLIPBOARD_KIND","EXTERNAL_LAYOUT_CLIPBOARD_KIND","EXTERNAL_EVENTS_CLIPBOARD_KIND","EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND","projectStructureItemNestedList","itemName","itemTextField","ProjectStructureItem","onRefresh","groupBackgroundColor","nestedListStyle","refresh_default","Item","canPaste","canMoveUp","onMoveUp","canMoveDown","onMoveDown","AddItem","SearchItem","makeSearchItem","ProjectManager","renamedItemKind","renamedItemName","projectPropertiesDialogOpen","variablesEditorOpen","extensionsSearchDialogOpen","_onEditName","_copyLayout","_cutLayout","onDeleteLayout","_pasteLayout","copiedLayout","newLayout","insertNewLayout","updateBehaviorsSharedData","_moveUpLayout","swapLayouts","_moveDownLayout","getLayoutsCount","_copyExternalEvents","_cutExternalEvents","onDeleteExternalEvents","_pasteExternalEvents","_Clipboard$get2","copiedExternalEvents","newExternalEvents","insertNewExternalEvents","_moveUpExternalEvents","swapExternalEvents","_moveDownExternalEvents","getExternalEventsCount","_copyExternalLayout","_cutExternalLayout","onDeleteExternalLayout","_pasteExternalLayout","_Clipboard$get3","copiedExternalLayout","hasExternalLayoutNamed","newExternalLayout","insertNewExternalLayout","_moveUpExternalLayout","swapExternalLayouts","_moveDownExternalLayout","getExternalLayoutsCount","_copyEventsFunctionsExtension","_cutEventsFunctionsExtension","onDeleteEventsFunctionsExtension","_pasteEventsFunctionsExtension","_Clipboard$get4","copiedEventsFunctionsExtension","newEventsFunctionsExtension","insertNewEventsFunctionsExtension","onReloadEventsFunctionsExtensions","_moveUpEventsFunctionsExtension","swapEventsFunctionsExtensions","_moveDownEventsFunctionsExtension","getEventsFunctionsExtensionsCount","hasMainMenu","ProjectManager_ProjectStructureItem","initiallyOpen","primaryTogglesNestedList","autoGenerateNestedIndicator","nestedItems","onSaveProject","onExportProject","onOpenPreferences","eventsFunctionsExtensionsError","forceOpen","_renderMenu","onOpenPlatformSpecificAssets","onOpenResources","filterProjectItemsList","ProjectManager_Item","onRenameLayout","onAddLayout","onRenameExternalEvents","onAddExternalEvents","enumerateExternalLayouts","onOpenExternalLayout","onRenameExternalLayout","onAddExternalLayout","onOpenEventsFunctionsExtension","onRenameEventsFunctionsExtension","onAddEventsFunctionsExtension","ProjectManager_ProjectPropertiesDialog","ExtensionsSearchDialog_ExtensionsSearchDialog","EVENTS_FUNCTION_CLIPBOARD_KIND","EventsFunctionsList","renamedEventsFunction","_deleteEventsFunction","askForConfirmation","removeEventsFunction","moveEventsFunction","_copyEventsFunction","_cutEventsFunction","_pasteEventsFunction","copiedEventsFunction","newEventsFunction","insertNewEventsFunction","_renderEventsFunctionMenuTemplate","_addNewEventsFunction","eventsFunctionName","toConsumableArray","filterEventFunctionsList","getEventsFunctionAt","enumerateEventsFunctions","SortableVirtualizedItemList","onAddNewItem","addNewItemLabel","EVENTS_BASED_BEHAVIOR_CLIPBOARD_KIND","EventsBasedBehaviorsList","renamedEventsBasedBehavior","_deleteEventsBasedBehavior","_copyEventsBasedBehavior","_cutEventsBasedBehavior","_pasteEventsBasedBehavior","copiedEventsBasedBehavior","newEventsBasedBehavior","_renderEventsBasedBehaviorMenuTemplate","_addNewEventsBasedBehavior","filterEventsBasedBehaviorsList","UnknownEvent","unknownEvent","BuiltinCommonInstructions::Standard","BuiltinCommonInstructions::Group","BuiltinCommonInstructions::Comment","BuiltinCommonInstructions::ForEach","BuiltinCommonInstructions::Repeat","BuiltinCommonInstructions::While","WhileEvent","BuiltinCommonInstructions::Link","BuiltinCommonInstructions::JsCode","registerEvent","eventType","renderFunction","ChangelogDialog","_lingui_react","Changelog","onUpdated","ChangelogDialogContainer","defaultOpen","ChangelogDialog_ChangelogDialog","PreferencesContext","verifyIfIsNewVersion","ChangelogDialogContainer_ChangelogDialogContainer","ObjectGroupsListWithObjectGroupEditor","editedGroup","_onDeleteGroup","groupWithScope","_onRenameGroup","editGroup","objectGroups","globalObjectGroups","ObjectGroupsList","onEditGroup","onDeleteGroup","onRenameGroup","onGroupAdded","onGroupsUpdated","onGroupRemoved","onGroupRenamed","ObjectGroupEditorDialog","EventsFunctionConfigurationEditor","_chooseTab","renderConfigurationHeader","EventsFunctionPropertiesEditor","EventsFunctionParametersEditor","ObjectGroupsListWithObjectGroupEditor_ObjectGroupsListWithObjectGroupEditor","dropdownMenuContainer","poweredByText","indexName","appId","apiKey","algoliaOptions","hitsPerPage","DocSearchArea","client","algoliasearch","_handleSearchTextChange","_launchSearchRequest","debounce","search","query","params","hits","_renderResult","hierarchy","lvl0","lvl1","lvl2","lvl3","lvl4","lvl5","lvl6","objectID","content","visibility","HelpFinder","_sendHelpSearch","sendHelpSearch","sendHelpFinderOpened","DocSearchArea_DocSearchArea","fs","setupAutocompletions","monaco","importAllJsFilesFromFolder","folderPath","readdir","filenames","endsWith","readFile","fileError","languages","typescript","javascriptDefaults","addExtraLib","findGDJS","gdjsRoot","runtimePath","extensionsPath","eventToolsPath","folderNames","folderName","monacoEditorOptions","scrollBeyondLastLine","minimap","monacoCompletionsInitialized","monacoThemesInitialized","CodeEditor","_React$Component","MonacoEditor","setupEditorThemes","themeData","defineTheme","setupEditorCompletions","setCompilerOptions","ScriptTarget","ES6","allowNonTsExtensions","allowJs","checkJs","_handleContextMenu","inherits","createClass","loadMonacoEditor","default","handleLoadError","theme","editorWillMount","editorDidMount","ExpressionParametersEditor","onChangeParameter","getNonCodeOnlyParametersCount","ExpressionParametersEditorDialog","onDone","ExpressionParametersEditor_ExpressionParametersEditor","editedIndex","oldValue","timeField","timeIcon","AnimationPreview","currentFrameIndex","currentFrameElapsedTime","paused","timeBetweenFrames","nextUpdate","replay","play","pause","_updateAnimation","spritesContainer","newFrameIndex","newFrameElapsedTime","count","onChangeTimeBetweenFrames","autoFocus","timer_default","time","precision","replay_default","play_arrow_default","pause_default","repeatContainer","repeatLabel","spacer","formatTime","Number","DirectionTools","timeError","previewOpen","saveTimeBetweenFrames","newTime","newTimeIsValid","isNaN","setLooping","openPreview","displayName","brush_default","repeat_default","labelStyle","AnimationPreview_AnimationPreview","material_ui_Paper__WEBPACK_IMPORTED_MODULE_2___default","initialPreferences","create_react_context__WEBPACK_IMPORTED_MODULE_0__","lastLaunchedVersion","createReactContext","active","handleFocus","handleBlur","handleInput","handleCancel","handleKeyPressed","nonEmpty","root","iconButtonClose","transition","iconButtonSearch","iconButtonFilter","searchContainer","getStyles","material_ui_Paper__WEBPACK_IMPORTED_MODULE_10___default","placeholder","onKeyUp","underlineShow","_Menu_IconMenu__WEBPACK_IMPORTED_MODULE_14__","material_ui_svg_icons_content_filter_list__WEBPACK_IMPORTED_MODULE_13___default","material_ui_svg_icons_action_search__WEBPACK_IMPORTED_MODULE_12___default","material_ui_svg_icons_navigation_close__WEBPACK_IMPORTED_MODULE_11___default","defaultAutocompleteProps","textFieldStyle","menuProps","popoverProps","canAutoPosition","fuzzyOrEmptyFilter","SemiControlledAutoComplete","material_ui_AutoComplete__WEBPACK_IMPORTED_MODULE_7___default","onUpdateInput","onNewRequest","material_ui_Divider__WEBPACK_IMPORTED_MODULE_8___default","rightIcon","renderRightIcon","renderLeftIcon","app","process","isDarwin","test","tryPath","onExists","onNoAccess","access","constants","R_OK","appPath","getAppPath","cwd","pathToRoot","rootPath","devPath","AlertMessage","onHide","_Grid__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_action_info__WEBPACK_IMPORTED_MODULE_3___default","material_ui_svg_icons_alert_warning__WEBPACK_IMPORTED_MODULE_4___default","material_ui__WEBPACK_IMPORTED_MODULE_6__","electronClipboard","internalClipboard","mangleClipboardKind","000kind","readText","_Renderers_RenderedUnknownInstance__WEBPACK_IMPORTED_MODULE_0__","_Renderers_RenderedSpriteInstance__WEBPACK_IMPORTED_MODULE_1__","_Renderers_RenderedTiledSpriteInstance__WEBPACK_IMPORTED_MODULE_2__","_Renderers_RenderedPanelSpriteInstance__WEBPACK_IMPORTED_MODULE_3__","_Renderers_RenderedTextInstance__WEBPACK_IMPORTED_MODULE_4__","_Renderers_RenderedShapePainterInstance__WEBPACK_IMPORTED_MODULE_5__","_Renderers_RenderedTextEntryInstance__WEBPACK_IMPORTED_MODULE_6__","_Renderers_RenderedParticleEmitterInstance__WEBPACK_IMPORTED_MODULE_7__","_PixiResourcesLoader__WEBPACK_IMPORTED_MODULE_8__","_ResourcesLoader__WEBPACK_IMPORTED_MODULE_9__","_Renderers_RenderedInstance__WEBPACK_IMPORTED_MODULE_10__","pixi_js__WEBPACK_IMPORTED_MODULE_11__","renderers","unknownObjectType","TiledSpriteObject::TiledSprite","PanelSpriteObject::PanelSprite","TextObject::Text","PrimitiveDrawing::Drawer","RenderedShapePainterInstance","TextEntryObject::TextEntry","RenderedTextEntryInstance","ParticleSystem::ParticleEmitter","PixiResourcesLoader","registerInstanceRenderer","_layout","angleInDegrees","layers","initialUserProfile","limits","_addFrom","_onChangeResourceName","notExistingError","_editWith","resourceExternalEditor","initialResourceMetadata","initialResourceMetadataRaw","externalEditorOptions","newResourceData","newResourceName","_autoComplete","getKind","resourceSourceItems","_getResourceSourceItems","resourceItems","autoCompleteData","externalEditors","_UI_SemiControlledAutoComplete__WEBPACK_IMPORTED_MODULE_13__","autoComplete","_UI_Menu_IconMenu__WEBPACK_IMPORTED_MODULE_10__","material_ui_svg_icons_image_brush__WEBPACK_IMPORTED_MODULE_9___default","enumerateGroups","_Utils_MapFor__WEBPACK_IMPORTED_MODULE_0__","lodash_flatten__WEBPACK_IMPORTED_MODULE_1__","lodash_flatten__WEBPACK_IMPORTED_MODULE_1___default","_Utils_TagsHelper__WEBPACK_IMPORTED_MODULE_2__","filterObject","containerObjectsList","getObjectAt","projectObjectsList","extensionsList","getIconFilename","hasStringAllTags","getAt","filterGroup","containerGroups","containerGroupsList","projectGroups","projectGroupsList","removeTag","selectedTag","allTags","footerMenuItems","includes","newTags","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","return","ThemableMiniToolbar","toolbarTextStyle","MiniToolbarText","onEditObjectVariables","_index__WEBPACK_IMPORTED_MODULE_10__","VariablesContainer","isPathInProjectFolder","copyAllToProjectFolder","_ResourcesLoader__WEBPACK_IMPORTED_MODULE_0__","_Utils_OptionalRequire_js__WEBPACK_IMPORTED_MODULE_1__","_Utils_OptionalRequire_js__WEBPACK_IMPORTED_MODULE_1___default","newlyCreatedResource","resourcePath","lastIndexOf","resourcePaths","resourceBasename","resourceNewPath","copyFile","normalize","existsSync","newResource","setSmooth","getSubheaderListItemKey","objectOrObjectGroupName","subheader","mangleName","loadProjectEventsFunctionsExtensions","eventsFunctionCodeWriter","loadProjectEventsFunctionsExtension","getEventsFunctionsExtensionAt","skipCodeGeneration","generateEventsFunctionExtension","addNewExtension","PlatformExtension","declareExtension","codeNamespacePrefix","declareBehaviorMetadata","codeNamespace","setIncludeFile","getIncludeFileFor","behaviorMethodMangledNames","MapStringString","declareBehaviorPropertiesInstructionAndExpressions","eventsFunctionMangledName","instructionOrExpression","declareBehaviorInstructionOrExpressionMetadata","declareEventsFunctionParameters","getCodeExtraInformation","setFunctionName","includeFiles","SetString","behaviorCodeGenerator","BehaviorCodeGenerator","generateRuntimeBehaviorCompleteCode","includeFile","addIncludeFile","writeBehaviorCode","generateBehavior","generateFreeFunction","extensionOrBehaviorMetadata","eventsFunctionsExtensionOrEventsBasedBehavior","declareInstructionOrExpressionMetadata","addCodeOnlyParameter","codeExtraInformation","EventsCodeGenerator","generateEventsFunctionCode","writeFunctionCode","unloadProjectEventsFunctionsExtensions","removeExtension","isAnEventFunctionMetadata","getFunctionNameFromType","parts","getFreeEventsFunctionType","getParametersIndexOffset","isEventsBasedBehaviorMethod","material_ui_Paper__WEBPACK_IMPORTED_MODULE_1__","material_ui_Paper__WEBPACK_IMPORTED_MODULE_1___default","ToolbarIcon","material_ui_Toolbar__WEBPACK_IMPORTED_MODULE_1__","_UI_Messages_MessageBox__WEBPACK_IMPORTED_MODULE_0__","lodash_values__WEBPACK_IMPORTED_MODULE_1__","lodash_values__WEBPACK_IMPORTED_MODULE_1___default","errors","addError","extraExplanation","defaultState","reloadProjectEventsFunctionsExtensions","addButton","InstructionsList","_onPasteInstructions","instructions","instructionContext","_Instruction__WEBPACK_IMPORTED_MODULE_7__","isInstructionSelected","instructionsListContext","addButtonDefaultLabel","_DropIndicator__WEBPACK_IMPORTED_MODULE_12__","onPointerEnter","hasClipboardConditions","hasClipboardActions","onPointerLeave","popover","paddingBottom","contentContainer","InlinePopover","material_ui_Popover__WEBPACK_IMPORTED_MODULE_6___default","anchorOrigin","horizontal","vertical","targetOrigin","columnContainer","rowContainer","fieldContainer","subPropertiesEditorContainer","subHeader","getFieldValue","getFieldLabel","_onInstancesModified","onInstancesModified","_renderInputField","_UI_InlineCheckbox__WEBPACK_IMPORTED_MODULE_7__","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_6__","material_ui_svg_icons_image_edit__WEBPACK_IMPORTED_MODULE_14___default","_renderSelectField","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_11___default","_renderResourceField","_ResourcesList_ResourceSelector__WEBPACK_IMPORTED_MODULE_8__","material_ui_Subheader__WEBPACK_IMPORTED_MODULE_10___default","onUpdateProperty","propertyNames","charAt","toUpperCase","MAX_ZOOM_FACTOR","MIN_ZOOM_FACTOR","imagePreviewContainer","border","box","errored","_handleImageError","_handleImageLoaded","imgElement","naturalWidth","clientWidth","naturalHeight","clientHeight","_zoomBy","imageZoomFactorDelta","_zoomTo","imageSource","react_measure__WEBPACK_IMPORTED_MODULE_8___default","dimensions","containerWidth","_this2$state","imageLoaded","imagePositionLeft","imageStyle","overlayStyle","imagePositionTop","material_ui_svg_icons_action_zoom_in__WEBPACK_IMPORTED_MODULE_13___default","material_ui_svg_icons_action_zoom_out__WEBPACK_IMPORTED_MODULE_14___default","material_ui_svg_icons_maps_zoom_out_map__WEBPACK_IMPORTED_MODULE_15___default","onWheel","metaKey","ctrlKey","onLoad","lodash_every__WEBPACK_IMPORTED_MODULE_1__","lodash_every__WEBPACK_IMPORTED_MODULE_1___default","hasValidAnimation","hasValidDirection","copyPoint","originalPoint","destinationPoint","destinationSprite","isSamePoint","point1","point2","sprite1","sprite2","sprite1Point","getPoint","originalPolygon","haveSameCollisionMasks","sprite1CollisionMask","sprite2CollisionMask","sprite1Polygon","polygon1","polygon2","polygon1Vertices","polygon2Vertices","isSamePolygon","spritePtrs","spritesToDelete","removeSprite","spritesToDuplicate","spriteToDuplicate","newSprite","makeCommonItem","Icon","rest","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2___default","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_6__","Add","Search","getLayoutAt","getExternalEventsAt","getExternalLayoutAt","selectedInstructions","selectedEvents","selectedInstructionsLists","getSelectedEvents","eventContext","getSelectedEventContexts","getSelectedInstructions","getSelectedInstructionsContexts","getSelectedInstructionsListsContexts","hasInstructionSelected","hasSelectedAtLeastOneCondition","hasInstructionsListSelected","hasSomethingSelected","selectEvent","multiSelection","existingSelection","selectInstruction","selectInstructionsList","isInstructionsListSelected","textFieldContainer","textFieldAndHightlightContainer","expressionSelectorPopoverContent","backgroundHighlighting","backgroundHighlightingWithDescription","functionsButton","functionsButtonWithDescription","_fieldElement","_inputElement","popoverOpen","parametersDialogOpen","selectedExpressionInfo","validatedValue","errorHighlights","_openExpressionPopover","_handleFocus","_handleRequestClose","_handleChange","_enqueueValidation","_handleBlur","cancel","_handleMenuMouseDown","_handleExpressionChosen","insertExpression","cursorPosition","selectionStart","functionCall","substr","setSelectionRange","parser","ExpressionParser2","expressionNode","parseExpression","expressionValidator","ExpressionValidator","visit","getStartPosition","getEndPosition","getMessage","hasMultipleErrors","popoverStyle","backgroundHighlightingStyle","_BackgroundHighlighting__WEBPACK_IMPORTED_MODULE_16__","material_ui_Popover__WEBPACK_IMPORTED_MODULE_8___default","useLayerForClickAway","_InstructionEditor_InstructionOrExpressionSelector_ExpressionSelector__WEBPACK_IMPORTED_MODULE_13__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_10___default","material_ui_svg_icons_editor_functions__WEBPACK_IMPORTED_MODULE_9___default","_ExpressionParametersEditorDialog__WEBPACK_IMPORTED_MODULE_14__","enumerateExtensionInstructions","instructionsTypes","instrMetadata","getAllConditions","getAllActions","getAllConditionsForObject","getAllActionsForObject","getAllConditionsForBehavior","getAllActionsForBehavior","objectBehaviorNames","objectBehaviorTypes","_loop","hasObjectType","hasBaseObjectType","behaviorTypes","noGroupInstructions","instructionsWithGroups","orderFirstInstructionsWithoutGroup","allFreeInstructions","lowercaseSearch","exactMatch","unshift","favorExactMatch","enumeratedInstructionOrExpressionMetadata","tree","pathInTree","compact","groupInfo","existingGroupInfo","getExtraInstructionInformation","PhysicsBehavior::PhysicsBehavior","Video::VideoObject","setExtensionInformation","generatedBehavior","BehaviorJsImplementation","propertyFound","element","propertyType","setStringValue","setDoubleValue","setBoolValue","behaviorProperties","MapStringPropertyDescriptor","newProperty","toPropertyDescriptor","hasChild","getChild","getStringValue","getDoubleValue","getBoolValue","initializeContent","BehaviorsSharedData","functionType","getFunctionType","Expression","addExpression","StringExpression","addStrExpression","Condition","addCondition","getSentence","addAction","addScopedCondition","addScopedAction","addObjectAndBehaviorParameters","addParameter","setExtraInfo","setPrivate","getterName","getBehaviorPropertyGetterName","setterName","getBehaviorPropertySetterName","propertyLabel","EventsBasedBehavior","getPropertyExpressionName","getPropertyConditionName","setManipulatedType","getPropertyActionName","setGetter","getParameters","isOptional","addRightNode","currentNode","newNode","defaultToolbarControls","_CloseButton__WEBPACK_IMPORTED_MODULE_8__","renderMosaicWindowPreview","MosaicWindow","react_mosaic_component__WEBPACK_IMPORTED_MODULE_7__","renderPreview","EditorMosaic","editorName","getLeaves","mosaicNode","_onChange","_Theme_ThemeConsumer__WEBPACK_IMPORTED_MODULE_9__","mosaicRootClassName","renderTile","cloneElement","_Editors_TextEditor__WEBPACK_IMPORTED_MODULE_0__","_Editors_TiledSpriteEditor__WEBPACK_IMPORTED_MODULE_1__","_Editors_PanelSpriteEditor__WEBPACK_IMPORTED_MODULE_2__","_Editors_SpriteEditor__WEBPACK_IMPORTED_MODULE_3__","_Editors_EmptyEditor__WEBPACK_IMPORTED_MODULE_4__","_Editors_ShapePainterEditor__WEBPACK_IMPORTED_MODULE_5__","_Editors_ParticleEmitterEditor__WEBPACK_IMPORTED_MODULE_6__","_Editors_ObjectPropertiesEditor__WEBPACK_IMPORTED_MODULE_7__","editorConfigurations","registerEditorConfiguration","getDefaultObjectJsImplementationPropertiesEditor","asObjectJsImplementation","release","SpriteObject","TiledSpriteObject","PanelSpriteObject","TextObject","ShapePainterEditor","ShapePainterObject","TextEntryObject","asTextEntryObject","getUrl","buildElectron","buildCordovaAndroid","getBuild","getBuilds","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","_ApiConfigs__WEBPACK_IMPORTED_MODULE_1__","userId","targets","authorizationHeader","axios","post","GDevelopBuildApi","baseUrl","headers","Authorization","response","buildId","ResourceThumbnail","ImageThumbnail","ResourceSelectorWithThumbnail","ResourceThumbnail_ResourceThumbnail","drawerContent","MainFrame","createDialogOpen","introDialogOpen","saveDialogOpen","genericDialogOpen","loadingProject","previewLoading","currentProject","projectManagerOpen","editorTabs","genericDialog","snackMessage","snackMessageOpen","preferencesDialogOpen","languageDialogOpen","profileDialogOpen","subscriptionDialogOpen","platformSpecificAssetsDialogOpen","helpFinderDialogOpen","_resourceSourceDialogs","_previewLauncher","_providers","_loadExtensions","extensionsLoader","loadAllExtensions","getNotNullTranslationFunction","loadingResults","successLoadingResults","loadingResult","failLoadingResults","dangerous","dangerousLoadingResults","loadFromSerializedProject","serializedProject","timeFunction","newProject","ProjectHelper","createNewGDJSProject","unserializeFrom","closeProject","loadFromProject","burstAllUrlsCache","openFromPathOrURL","shouldOpenAutosave","projectFilePath","autoSavePath","onReadFromPathOrURL","projectObject","setProjectFile","openSceneOrProjectManager","openProjectManager","getSerializedElements","refs","setEditorToolbar","addLayout","addExternalLayout","addExternalEvents","addEventsFunctionsExtension","deleteLayout","removeLayout","deleteExternalLayout","removeExternalLayout","deleteExternalEvents","removeExternalEvents","deleteEventsFunctionsExtension","removeEventsFunctionsExtension","renameLayout","renameExternalLayout","renameExternalEvents","renameEventsFunctionsExtension","_launchLayoutPreview","watchPromiseInState","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","_handlePreviewResult","launchLayoutPreview","_launchExternalLayoutPreview","launchExternalLayoutPreview","previewPromise","openLayout","_ref$openEventsEditor","openEventsEditor","_ref$openSceneEditor","openSceneEditor","onAutoSaveProject","sceneEditorOptions","_Preferences_PreferencesContext__WEBPACK_IMPORTED_MODULE_48__","_Editors_SceneEditor__WEBPACK_IMPORTED_MODULE_34__","previewLauncher","canDoNetworkPreview","openDebugger","integratedEditor","_onChooseResource","eventsEditorOptions","_Editors_EventsEditor__WEBPACK_IMPORTED_MODULE_32__","openExternalEvents","_openInstructionOrExpression","_onCreateEventsFunction","tabsWithSceneEditor","tabsWithSceneAndEventsEditors","_Editors_ExternalEventsEditor__WEBPACK_IMPORTED_MODULE_33__","externalEventsName","openExternalLayout","_Editors_ExternalLayoutEditor__WEBPACK_IMPORTED_MODULE_35__","externalLayoutName","openEventsFunctionsExtension","_ref9","_Editors_EventsFunctionsExtensionEditor__WEBPACK_IMPORTED_MODULE_36__","eventsFunctionsExtensionName","onLoadEventsFunctionsExtensions","openResources","_ref10","_Editors_ResourcesEditor__WEBPACK_IMPORTED_MODULE_38__","openStartPage","_ref11","_Editors_StartPage__WEBPACK_IMPORTED_MODULE_37__","onChooseProject","chooseProject","openCreateDialog","askToCloseProject","openAboutDialog","openHelpFinderDialog","openLanguage","_ref12","_Editors_DebuggerEditor__WEBPACK_IMPORTED_MODULE_31__","openSubscription","foundTab","insertEventsFunction","filepath","save","saveDialog","_openSaveDialog","_showSnackMessage","saveAs","onSaveProjectAs","saveDone","openExportDialog","_openIntroDialog","_openGenericDialog","openPreferences","openProfile","_onChangeEditorTab","_onEditorTabActive","_onCloseEditorTab","sourceName","resourceSourceDialog","chooseResources","openPlatformSpecificAssets","setUpdateStatus","notificationTitle","getUpdateNotificationTitle","notificationBody","getUpdateNotificationBody","Notification","onclick","releaseName","_closeSnackMessage","initialPathsOrURLsToOpen","introDialog","reloadBuiltinExtensions","exportDialog","createDialog","authentification","showLoader","loading","_ProjectTitlebar__WEBPACK_IMPORTED_MODULE_14__","material_ui_Drawer__WEBPACK_IMPORTED_MODULE_10___default","containerStyle","_UI_EditorBar__WEBPACK_IMPORTED_MODULE_20__","showMenuIconButton","iconElementRight","material_ui_svg_icons_navigation_close__WEBPACK_IMPORTED_MODULE_12___default","_ProjectManager__WEBPACK_IMPORTED_MODULE_17__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_44__","_Toolbar__WEBPACK_IMPORTED_MODULE_13__","_UI_Tabs__WEBPACK_IMPORTED_MODULE_25__","onActive","_UI_ErrorBoundary__WEBPACK_IMPORTED_MODULE_39__","_UI_LoaderModal__WEBPACK_IMPORTED_MODULE_19__","_HelpFinder__WEBPACK_IMPORTED_MODULE_30__","material_ui_Snackbar__WEBPACK_IMPORTED_MODULE_11___default","autoHideDuration","_PlatformSpecificAssetsEditor_PlatformSpecificAssetsDialog__WEBPACK_IMPORTED_MODULE_18__","onExport","resourceSource","dialog","_Profile_ProfileDialog__WEBPACK_IMPORTED_MODULE_22__","_Profile_SubscriptionDialog__WEBPACK_IMPORTED_MODULE_40__","_Preferences_PreferencesDialog__WEBPACK_IMPORTED_MODULE_15__","_Preferences_LanguageDialog__WEBPACK_IMPORTED_MODULE_47__","languageChanged","_languageDidChange","_AboutDialog__WEBPACK_IMPORTED_MODULE_16__","_UI_CloseConfirmDialog__WEBPACK_IMPORTED_MODULE_21__","_Changelog_ChangelogDialogContainer__WEBPACK_IMPORTED_MODULE_45__","textShadow","emptyMessage","shadowColor","gdCoreVersionString","VersionWrapper","fullString","ideVersionString","_temp","_apply","serializableObject","serializeTo","_cancel","_objectSpread2","material_ui_svg_icons_editor_drag_handle__WEBPACK_IMPORTED_MODULE_1__","material_ui_svg_icons_editor_drag_handle__WEBPACK_IMPORTED_MODULE_1___default","react_sortable_hoc__WEBPACK_IMPORTED_MODULE_2__","handle","handleColor","SortableHandle","emptyExplanation","iconText","thanksText","SubscriptionCheckDialog","_closeDialog","sendSubscriptionCheckDismiss","sendSubscriptionCheckDialogShown","material_ui_svg_icons_toggle_star__WEBPACK_IMPORTED_MODULE_10___default","material_ui_svg_icons_action_favorite__WEBPACK_IMPORTED_MODULE_11___default","_dialog","_UserProfileContext__WEBPACK_IMPORTED_MODULE_12__","_MainFrame_Preferences_PreferencesContext__WEBPACK_IMPORTED_MODULE_1__","_AlertMessage__WEBPACK_IMPORTED_MODULE_2__","material_ui_CircularProgress__WEBPACK_IMPORTED_MODULE_1__","material_ui_CircularProgress__WEBPACK_IMPORTED_MODULE_1___default","progress","orDivider","_UI_Grid__WEBPACK_IMPORTED_MODULE_4__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_3___default","EventsSheet","_keyboardShortcuts","inlineEditing","editedInstruction","copySelection","cutSelection","pasteEventsOrInstructions","onSearch","_toggleSearchPanel","history","getHistoryInitialState","historyMaxSize","editedParameter","inlineEditingAnchorEl","inlineEditingChangesMade","analyzedEventsContextResult","serializedEventsToExtract","showSearchPanel","_eventSearcher","reset","_searchPanel","addSubEvents","insertNewEvent","_saveChangesToHistory","_eventsTree","_selectionCanHaveSubEvents","_selectionCanToggleDisabled","isExecutable","addNewEvent","context","hasEventsSelected","newEvents","selectedEvent","scrollToEvent","openInstructionEditor","moveSelectionToInstruction","destinationContext","moveSelectionToInstructionsList","destinationIndex","deleteEvents","multiSelect","openEventContextMenu","eventContextMenu","openInstructionContextMenu","instructionContextMenu","openInstructionsListContextMenu","instructionsListContextMenu","openParameterEditor","parameterContext","closeParameterEditor","toggleDisabled","setDisabled","_ref$deleteInstructio","deleteInstructions","_ref$deleteEvents","eventsRemover","EventsRemover","addEventToRemove","addInstructionToRemove","launch","copySelectionToClipboard","pasteEvents","pasteEventsFromClipboardInSelection","pasteInstructions","pasteInstructionsFromClipboardInSelection","pasteInstructionsInInstructionsList","pasteInstructionsFromClipboardInInstructionsList","_invertSelectedConditions","setInverted","saveToHistory","newHistory","_openEventsContextAnalyzer","eventsContextAnalyzer","EventsContextAnalyzer","EventsList","getEventsContext","_closeEventsContextAnalyzer","extractEventsToFunction","_replaceSelectionByEventsFunction","contexts","action","createNewInstructionForEventsFunction","_ensureEventUnfolded","unfoldForEvent","_replaceInEvents","doReplaceInEvents","inputs","_searchInEvents","doSearchInEvents","_onEventMoved","_renderInstructionEditorDialog","newInstructionEditorDialog","closeInstructionEditor","_this$state$editedIns","_Toolbar__WEBPACK_IMPORTED_MODULE_9__","networkPreview","saveChanges","_MainFrame_Preferences_PreferencesContext__WEBPACK_IMPORTED_MODULE_23__","_EventsSearcher__WEBPACK_IMPORTED_MODULE_20__","eventSearcher","_EventsTree__WEBPACK_IMPORTED_MODULE_6__","onAddNewEvent","_SearchPanel__WEBPACK_IMPORTED_MODULE_19__","searchPanel","_EmptyEventsPlaceholder__WEBPACK_IMPORTED_MODULE_16__","_InlineParameterEditor__WEBPACK_IMPORTED_MODULE_11__","_this4$state$editedPa","setParameter","_UI_Menu_ContextMenu__WEBPACK_IMPORTED_MODULE_12__","hasClipboardEvents","_EventsContextAnalyzerDialog__WEBPACK_IMPORTED_MODULE_18__","_EventsFunctionExtractor_EventsFunctionExtractorDialog__WEBPACK_IMPORTED_MODULE_24__","_ParameterFields_DefaultField__WEBPACK_IMPORTED_MODULE_1__","_ParameterFields_RelationalOperatorField__WEBPACK_IMPORTED_MODULE_2__","_ParameterFields_OperatorField__WEBPACK_IMPORTED_MODULE_3__","_ParameterFields_MouseField__WEBPACK_IMPORTED_MODULE_4__","_ParameterFields_KeyField__WEBPACK_IMPORTED_MODULE_5__","_ParameterFields_ObjectField__WEBPACK_IMPORTED_MODULE_6__","_ParameterFields_YesNoField__WEBPACK_IMPORTED_MODULE_7__","_ParameterFields_TrueFalseField__WEBPACK_IMPORTED_MODULE_8__","_ParameterFields_ExpressionField__WEBPACK_IMPORTED_MODULE_9__","_ParameterFields_StringField__WEBPACK_IMPORTED_MODULE_10__","_ParameterFields_StringWithSelectorField__WEBPACK_IMPORTED_MODULE_11__","_ParameterFields_BehaviorField__WEBPACK_IMPORTED_MODULE_12__","_ParameterFields_SceneVariableField__WEBPACK_IMPORTED_MODULE_13__","_ParameterFields_GlobalVariableField__WEBPACK_IMPORTED_MODULE_14__","_ParameterFields_ObjectVariableField__WEBPACK_IMPORTED_MODULE_15__","_ParameterFields_LayerField__WEBPACK_IMPORTED_MODULE_16__","_ParameterFields_AudioResourceField__WEBPACK_IMPORTED_MODULE_17__","_ParameterFields_VideoResourceField__WEBPACK_IMPORTED_MODULE_18__","_ParameterFields_JsonResourceField__WEBPACK_IMPORTED_MODULE_19__","_ParameterFields_ColorExpressionField__WEBPACK_IMPORTED_MODULE_20__","_ParameterFields_ForceMultiplierField__WEBPACK_IMPORTED_MODULE_21__","_ParameterFields_SceneNameField__WEBPACK_IMPORTED_MODULE_22__","DefaultField","mouse","MouseField","ObjectField","relationalOperator","operator","yesorno","trueorfalse","string","stringWithSelector","scenevar","globalvar","objectvar","musicfile","soundfile","videoResource","jsonResource","ColorExpressionField","police","joyaxis","forceMultiplier","sceneName","inlineRenderers","renderInlineObjectWithThumbnail","fieldType","ParameterMetadata","isObject","rawType","_allowedObjectType","_ObjectsList_ObjectSelector__WEBPACK_IMPORTED_MODULE_7__","allowedObjectType","errorTextIfInvalid","_UI_Theme_ThemeConsumer__WEBPACK_IMPORTED_MODULE_9__","_UI_SearchBar__WEBPACK_IMPORTED_MODULE_8__","_UI_ScrollView__WEBPACK_IMPORTED_MODULE_14__","getNamespaceSeparator","swatch","boxShadow","cover","ColorPicker","displayColorPicker","handleClick","handleClose","displayedColor","react_color__WEBPACK_IMPORTED_MODULE_8__","MaterialUIContextMenu","anchorX","anchorY","_onClose","material_ui_Popover__WEBPACK_IMPORTED_MODULE_7___default","material_ui_Menu__WEBPACK_IMPORTED_MODULE_6___default","ElectronContextMenu","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_1__","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_1___default","picker","ColorField","_ColorPicker__WEBPACK_IMPORTED_MODULE_9__","fn","onResult","t0","performance","makeTimestampedId","random","delay","ms","BuildsWatcher","runningWatchers","nextWatcherId","_pollBuild","_callee","waitTime","watcherId","build","_this$userProfile","regenerator_default","wrap","_context","prev","abrupt","sent","onBuildUpdated","builds","ThemableItemRow","errorStatus","selectedErrorBackgroundColor","selectedWarningBackgroundColor","errorTextColor","warningTextColor","_renderItemMenu","ItemRow","AddItemRow","SortableItemRow","SortableVirtualizedItemList_ItemRow","SortableAddItemRow","ItemsList","SortableItemsList","enumerateVariables","enumerateVariableAndChildrenNames","names","getAllChildrenNames","childName","getNameAt","moreButton","VariableField","variableName","open_in_new_default","iconPath","template","menuTemplate","Menu","browserWindow","menu","popup","async","material_ui_Divider__WEBPACK_IMPORTED_MODULE_4___default","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_3___default","insetChildren","material_ui_svg_icons_navigation_arrow_drop_right__WEBPACK_IMPORTED_MODULE_6___default","menuItems","_Utils_Platform__WEBPACK_IMPORTED_MODULE_0__","isMobile","isMacLike","SortableVariableRow","SortableAddVariableRow","VariablesListBody","SortableVariablesListBody","VariablesList","selectedVariables","_selectVariable","variableAndName","serializedVariable","paste","newVariable","Variable","otherVariableAndName","contains","removeRecursively","_updateOrDefineVariable","_getVariableOrigin","parentVariable","_renderVariableAndChildrenRows","parentOrigin","renameChild","rename","_renderVariableChildren","containerInheritedVariablesTree","containerVariablesTree","editRow","TreeTableRow","TreeTableCell","chip","chipsList","flexWrap","SearchbarWithChips","_UI_SearchBar__WEBPACK_IMPORTED_MODULE_10__","material_ui_Chip__WEBPACK_IMPORTED_MODULE_6___default","labelColor","randomColor","seed","luminosity","material_ui_AutoComplete__WEBPACK_IMPORTED_MODULE_0__","material_ui_AutoComplete__WEBPACK_IMPORTED_MODULE_0___default","AutoComplete","fuzzyFilter","SPRITE_SIZE","spriteThumbnail","checkboxContainer","imageThumbnail","selectedBorderColor","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_2___default","material_ui_AppBar__WEBPACK_IMPORTED_MODULE_1__","material_ui_AppBar__WEBPACK_IMPORTED_MODULE_1___default","iconStyleLeft","iconStyleRight","EventsEditor","getLayoutSerializedElements","DropIndicator","ObjectSelector","objectAndGroups","_UI_ListIcon__WEBPACK_IMPORTED_MODULE_11__","groups","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__","getObjectsAndGroupsDataSource","hasValidChoice","_UI_SemiControlledAutoComplete__WEBPACK_IMPORTED_MODULE_10__","_RenderedInstance","RenderedIconInstance","loadedFontFamilies","loadedTextures","invalidTexture","asImageResource","isSmooth","baseTexture","NEAREST","onProgress","onComplete","loader","removeAllListeners","allResources","totalCount","loadingCount","once","loadedResources","_initializeTexture","fromVideo","LINEAR","slugs","fullFilename","loadedFace","getDefaultValue","material_ui_List__WEBPACK_IMPORTED_MODULE_1__","_UI_ListIcon__WEBPACK_IMPORTED_MODULE_2__","_Keys__WEBPACK_IMPORTED_MODULE_3__","material_ui_Subheader__WEBPACK_IMPORTED_MODULE_3__","material_ui_Subheader__WEBPACK_IMPORTED_MODULE_3___default","lodash_flatten__WEBPACK_IMPORTED_MODULE_4__","lodash_flatten__WEBPACK_IMPORTED_MODULE_4___default","_Keys__WEBPACK_IMPORTED_MODULE_5__","groupListItemNestedList","instructionOrGroup","instructionInformation","groupOfInstructionInformation","objectParameterIndex","ParameterMetadataTools","getObjectParameterIndexFor","shortenString","maxLength","_Utils_Clipboard__WEBPACK_IMPORTED_MODULE_0__","_SelectionHandler__WEBPACK_IMPORTED_MODULE_1__","_Utils_Serializer__WEBPACK_IMPORTED_MODULE_2__","eventsCount","conditionsCount","actionsCount","conditionsList","insertEvents","insertInstructions","emptyContainer","parametersContainer","invertToggle","isParameterVisible","_firstVisibleField","isDirty","_openExtension","getExtensionAndConditionMetadata","getExtension","getExtensionAndActionMetadata","_getVisibleParametersCount","helpPage","instructionExtraInformation","setParametersCount","setupInstruction","parameterFieldIndex","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_19___default","material_ui_svg_icons_action_open_in_new__WEBPACK_IMPORTED_MODULE_18___default","_UI_AlertMessage__WEBPACK_IMPORTED_MODULE_15__","parameterMetadataType","isFirstVisibleParameterField","material_ui_Toggle__WEBPACK_IMPORTED_MODULE_9___default","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_13__","_Utils_TagsHelper__WEBPACK_IMPORTED_MODULE_1__","material_ui_Chip__WEBPACK_IMPORTED_MODULE_2__","material_ui_Chip__WEBPACK_IMPORTED_MODULE_2___default","chipContainer","onRequestDelete","CTRL_KEY","SHIFT_KEY","LEFT_KEY","UP_KEY","RIGHT_KEY","DOWN_KEY","BACKSPACE_KEY","SPACE_KEY","DELETE_KEY","EQUAL_KEY","MINUS_KEY","NUMPAD_ADD","NUMPAD_SUBSTRACT","C_KEY","F_KEY","V_KEY","X_KEY","Y_KEY","Z_KEY","MID_MOUSE_BUTTON","_isControlPressed","metaPressed","rawCtrlPressed","_onKeyDown","evt","isFocused","altKey","altPressed","which","shiftPressed","spacePressed","closest","_onKeyUp","_onMouseDown","mouseMidButtonPressed","_onKeyPress","_noop","mount","removeEventListener","undoHistory","redoHistory","maxSize","newUndoHistory","newCurrent","setFunctionType","Action","objectNames","parameterGroups","referencedObjectOrGroupName","parameterGroupNames","parameterObjectNames","newParameter","_addParameter","_removeParameter","removeFromVectorParameterMetadata","isParameterDisabled","isParameterDescriptionAndTypeShown","parametersIndexOffset","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_18__","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_17__","validateParameterName","_ObjectTypeSelector__WEBPACK_IMPORTED_MODULE_20__","_BehaviorTypeSelector__WEBPACK_IMPORTED_MODULE_21__","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_16__","ObjectTypeSelector","getDefaultName","getSentenceErrorText","sentence","missingParameters","isBehavior","expectedString","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_14__","setSentence","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_11__","CloseButton","react_mosaic_component__WEBPACK_IMPORTED_MODULE_8__","mosaicActions","mosaicWindowActions","getPath","material_ui_svg_icons_navigation_close__WEBPACK_IMPORTED_MODULE_7___default","_onBehaviorEdited","_EventsFunctionsExtensionEditor__WEBPACK_IMPORTED_MODULE_6__","___WEBPACK_IMPORTED_MODULE_8__","ObjectGroup","layoutChooserOpen","setAssociatedLayout","openLayoutChooser","getAssociatedLayout","_EventsSheet__WEBPACK_IMPORTED_MODULE_8__","_UI_PlaceholderMessage__WEBPACK_IMPORTED_MODULE_11__","_LayoutChooserDialog__WEBPACK_IMPORTED_MODULE_13__","helpText","LayoutChooserDialog","selectedLayoutName","material_ui_RadioButton__WEBPACK_IMPORTED_MODULE_8__","valueSelected","chooseLayout","getAssociatedSettings","getUiSettings","getInitialInstances","uiSettings","_SceneEditor__WEBPACK_IMPORTED_MODULE_9__","initialUiSettings","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_8___default","INSTANCES_CLIPBOARD_KIND","FullSizeInstancesEditor","InstancesEditor","SceneEditor","editorMosaic","showObjectsListInfoBar","showPropertiesInfoBar","instancesListOpen","layersListOpen","setupGridOpen","openSceneProperties","scenePropertiesDialogOpen","openObjectEditor","hasSelectedInstances","selectedInstanceObjectName","editObjectByName","variablesEditedInstance","editObjectVariables","editLayoutVariables","layoutVariablesDialogOpen","editedObject","editedObjectWithContext","_onStartDraggingObjectFromList","objectDraggedFromList","_onEndDraggingObjectFromList","canDropDraggedObject","_onPointerOverInstancesEditor","_onPointerOutInstancesEditor","_onPointerUpInstancesEditor","_addInstance","setUiSettings","forceRemount","_onObjectSelected","selectedObjectName","_createNewObjectAndInstanceUnderCursor","newObjectInstancePosition","_objectsList","_onAddInstanceUnderCursor","objectSelected","insertNewInitialInstance","zOrderFinder","getHighestZOrder","_onInstancesSelected","uniq","forceUpdatePropertiesEditor","_onInstancesMoved","_onInstancesResized","_onInstancesRotated","_onSelectInstances","centerViewOn","_addNewObjectInstance","_onRemoveLayer","layerRemoveDialogOpen","onCloseLayerRemoveDialog","newLayer","removeAllInstancesOnLayer","moveInstancesToLayer","_onRenameLayer","_onDeleteObject","answer","globalObjectRemoved","objectRemovedInLayout","_canObjectUseNewName","_onRenameEditedObject","_onRenameObject","globalObjectRenamed","objectRenamedInLayout","removeInstance","contextMenu","useLastCursorPosition","serializedSelection","serializedInstance","forceUpdateObjectsList","_propertiesEditor","reloadResourcesFor","resourcesInUse","ResourcesInUseHelper","exposeResources","objectResourceNames","getAllImages","loadTextures","_this$props6","objectsListOpen","HighestZOrderFinder","_Toolbar__WEBPACK_IMPORTED_MODULE_23__","_this$props7","_UI_EditorMosaic__WEBPACK_IMPORTED_MODULE_31__","_InstancesEditor_InstancePropertiesEditor__WEBPACK_IMPORTED_MODULE_13__","propertiesEditor","instances-editor","objects-list","_UI_EditorMosaic_TagsButton__WEBPACK_IMPORTED_MODULE_42__","_UI_EditorMosaic_CloseButton__WEBPACK_IMPORTED_MODULE_43__","_ObjectsList__WEBPACK_IMPORTED_MODULE_9__","objectsList","object-groups-list","_ObjectGroupsList__WEBPACK_IMPORTED_MODULE_10__","_ObjectEditor_ObjectEditorDialog__WEBPACK_IMPORTED_MODULE_18__","tryName","_ObjectGroupEditor_ObjectGroupEditorDialog__WEBPACK_IMPORTED_MODULE_19__","material_ui_Drawer__WEBPACK_IMPORTED_MODULE_28___default","openSecondary","_UI_EditorBar__WEBPACK_IMPORTED_MODULE_32__","iconElementLeft","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_29___default","material_ui_svg_icons_navigation_close__WEBPACK_IMPORTED_MODULE_30___default","_InstancesEditor_InstancesList__WEBPACK_IMPORTED_MODULE_14__","_LayersList__WEBPACK_IMPORTED_MODULE_15__","_UI_Messages_InfoBar__WEBPACK_IMPORTED_MODULE_33__","_SetupGridDialog__WEBPACK_IMPORTED_MODULE_21__","_VariablesList_VariablesEditorDialog__WEBPACK_IMPORTED_MODULE_17__","_LayersList_LayerRemoveDialog__WEBPACK_IMPORTED_MODULE_16__","_ScenePropertiesDialog__WEBPACK_IMPORTED_MODULE_22__","_UI_Menu_ContextMenu__WEBPACK_IMPORTED_MODULE_34__","viewX","viewY","viewRotation","gridSize","gridOffset","SpriteSelector","getPointer","InfoBar","handleGotIt","messageId","localStorage","setItem","dismissed","hidden","material_ui_Snackbar__WEBPACK_IMPORTED_MODULE_7___default","onActionClick","SceneEditorContainer","_SceneEditor__WEBPACK_IMPORTED_MODULE_7__","stateField","getUserUsages","getUserLimits","getUserSubscription","GDevelopUsageApi","newSubscriptionDetails","i18nModule","buildTypesConfig","cordova-build","estimatedTimeInSeconds","completeDescription","electron-build","onDownload","config","secondsSinceLastUpdate","difference_in_seconds","updatedAt","estimatedRemainingTime","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_2___default","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_5__","material_ui_LinearProgress__WEBPACK_IMPORTED_MODULE_7___default","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_3___default","searchableExamplesInformation","ExamplesInformation","exampleName","exampleInformation","searchableDescription","LocalExamples","changeSearchText","chooseExtensionName","_ExamplesSearchbar__WEBPACK_IMPORTED_MODULE_12__","material_ui_List__WEBPACK_IMPORTED_MODULE_10__","exampleNames","extensionUsage","exampleFullName","getExampleInformation","onCreateFromExample","_UI_PlaceholderLoader__WEBPACK_IMPORTED_MODULE_11__","_submitExample","material_ui_SvgIcon__WEBPACK_IMPORTED_MODULE_1__","material_ui_SvgIcon__WEBPACK_IMPORTED_MODULE_1___default","runExtensionSanityTests","jsExtensionModule","testResults","rawError","loadExtension","createExtension","ex","testsResult","_React$PureComponent","onPlay","onPause","canPlay","canPause","onOpenProfiler","material_ui_Toolbar","ToolbarSeparator","InspectorsList","gameData","getInspectorDescriptions","inspectorDescription","fullInspectorPath","getSubInspectors","_renderInspectorList","onChooseInspector","transformVariable","_isStructure","_children","mapValues","_stringDirty","_value","_str","VariablesContainerInspector","main_default","collapsed","_variables","items","enableClipboard","displayDataTypes","displayObjectSize","onCall","namespace","new_value","handleEdit","groupArraysAfterLength","RuntimeObjectInspector","runtimeObject","X position","Y position","Angle","Layer","Z order","Is hidden?","transformLayer","Camera rotation (in deg)","_cameraRotation","Camera zoom","_zoomFactor","Layer is hidden","_hidden","Camera X position","_cameraX","Camera Y position","_cameraY","Time scale","_timeScale","runtimeScene","_timeManager","Layers","_layers","RuntimeSceneInspector","_objects","gdjsRuntimeGame","renderInspector","gdjsStack","_name","RuntimeSceneInspector_RuntimeSceneInspector","instancesList","RawContentInspector","MeasuresTable","collapsedPaths","_convertToDataRows","parentSection","section","profilerMeasures","parentPercent","totalPercent","isCollapsed","_isSectionCollapsed","hasSubsections","subsections","flatMap","subsection","subsectionName","_toggleSection","_renderSectionNameCell","rowData","chevron_right_default","expand_more_default","dataRows","cellRenderer","tableContainer","Profiler","onStart","onStop","profilerOutput","profilingInProgress","stats","framesCount","RaisedButton_RaisedButton_default","LinearProgress_default","MeasuresTable_MeasuresTable","framesAverageMeasures","DebuggerContent","selectedInspector","selectedInspectorFullPath","rawMode","openProfiler","onStartProfiler","onStopProfiler","inspectors","InspectorsList_InspectorsList","selected-inspector","flash_on_default","flash_off_default","profiler","Profiler_Profiler","DebuggerSelector","hasDebuggers","debuggerIds","selectedId","onChooseDebugger","ipcRenderer","Debugger","debuggerServerStarted","debuggerServerError","debuggerGameData","profilerOutputs","_debuggerContents","_removeServerListeners","_startServer","remainingDebuggerIds","debuggerId","_handleMessage","send","command","payload","_play","_pause","_refresh","_edit","_call","_startProfiler","_stopProfiler","_hasSelectedDebugger","Debugger_Toolbar","PlaceholderMessage","DebuggerSelector_DebuggerSelector","DebuggerContent_DebuggerContent","debuggerContent","DebuggerEditor","subscriptionChecked","_checkHasSubscription","Debugger_Debugger","TomorrowNight","base","inherit","rules","foreground","editor.foreground","editor.background","editor.selectionBackground","editor.lineHighlightBackground","editorCursor.foreground","editorWhitespace.foreground","Monokai","editorIndentGuide.activeBackground","editor.selectionHighlightBorder","Tomorrow","SolarizedDark","SolarizedLight","VibrantInk","GitHub","DragDropContextProvider","DragDropContext","HTML5Backend","RightLoader","CircularProgress_default","getEmailErrorText","getPasswordErrorText","LoginDialog","form","password","_onLogin","_onCreateAccount","onCreateAccount","_onForgotPassword","onForgotPassword","createAccountInProgress","loginInProgress","resetPasswordDialogOpen","onCloseResetPasswordDialog","forgotPasswordInProgress","LeftLoader","UserProfileProvider","loginDialogOpen","loginError","_fetchUserProfile","getUserProfile","unauthenticated","_doLogout","logout","_resetUserProfile","_doLogin","assertThisInitialized","login","openLogin","_doCreateAccount","createAccount","sendSignupDone","_doForgotPassword","forgotPassword","openResetPassword","onUserChange","Provider","LoginDialog_LoginDialog","PreferencesProvider","_loadValuesFromLocalStorage","_setLanguage","_setThemeName","_setCodeEditorThemeName","_setAutoDownloadUpdates","_checkUpdates","_setAutoDisplayChangelog","_showAlertMessage","_verifyIfIsNewVersion","_setEventsSheetShowObjectThumbnails","_setAutosaveOnPreview","_setUseNewInstructionEditorDialog","_persistValuesToLocalStorage","_this7","_this8","_this9","_this10","forceDownload","disableCheckForUpdates","_this11","currentVersion","_this12","persistedState","preferences","EventsFunctionsExtensionsProvider","_loadProjectEventsFunctionsExtensions","_unloadProjectEventsFunctionsExtensions","_reloadProjectEventsFunctionsExtensions","Providers","DragDropHelpers_DragDropContextProvider","PreferencesProvider_PreferencesProvider","MuiThemeProvider_default","getTheme","UserProfileProvider_UserProfileProvider","EventsFunctionsExtensionsProvider_EventsFunctionsExtensionsProvider","previewContainer","GenericIconPreview","renderIcon","ResourcePreview","audiotrack_default","insert_drive_file_default","video_library_default","font_download_default","imagePreview","ResourcePropertiesEditor","_chooseResourcePath","onResourcePathUpdated","resourceSchema","ResourcePreview_ResourcePreview","_renderPreview","_renderResourcesProperties","canDelete","onOpenProjectFolder","onOpenProperties","ResourcesEditor","_resourcesList","deleteResource","openProjectFolder","_onResourceSelected","ResourcesEditor_Toolbar","ResourcePropertiesEditor_ResourcePropertiesEditor","resources-list","resourcesList","ResourcesEditor_ResourcesEditor","buildContainer","BuildsList","isOld","difference_in_calendar_days","BuildProgress","Builds","buildsWatcher","_startBuildsWatcher","newBuild","oldBuild","_refreshBuilds","_this$props$userProfi","onBuildsUpdated","_download","BuildsContainer","Builds_Builds","BuildsDialog","_onBuildsUpdated","Export_Builds","ExportDialog","chosenExporterKey","buildsDialogOpen","chooseExporter","_openBuildsDialog","_renderExporterListItem","exporter","exporters","advanced","experimental","ExportComponent","onOpenBuildsDialog","BuildsDialog_BuildsDialog","resolveExtensionUrl","trimmedUrl","GDevelopExtensionApi","getExtensionsRegistry","getExtensionHeader","extensionShortHeader","headerUrl","extensionHeader","PlaceholderError","onRetry","ExtensionInstallDialog","_loadExtensionheader","isInstalling","onInstall","alreadyInstalled","react_markdown_default","escapeHtml","markdownRootClassName","shortDescription","extensionsRegistry","selectedExtensionShortHeader","chosenTag","_loadExtensionsRegistry","_install","extensionShortHeaders","behaviorsFilteredHeaders","eventsBasedBehaviorsCount","filterExtensionShortHeaders","ExtensionInstallDialog_ExtensionInstallDialog","primary1Color","primary2Color","accent1Color","secondaryTextColor","alternateTextColor","disabledColor","pickerHeaderColor","clockCircleColor","avatar","tabs","menuHoverColor","menuItem","dataHeight","appBar","iconButtonSize","snackbar","actionColor","stepper","raisedButton","primaryTextColor","groupTextColor","deprecatedGroupTextColor","getMuiTheme","GDevelop default","DefaultTheme","Dark","DarkTheme","ChangelogRenderer","releases","currentReleaseName","openReleaseNote","currentRelease","findRelease","currentVersionHasBreakingChange","_onUpdated","GDevelopReleaseApi","last","Changelog_ChangelogRenderer","ThemableGroupRow","isGlobalGroup","onSetAsGlobalGroup","_renderGroupMenu","AddGroupRow","SortableGroupRow","GroupRow_ThemableGroupRow","SortableAddGroupRow","GroupsList","onAddGroup","renamedGroupWithScope","SortableGroupsList","GroupsListContainer","objectGroupsList","globalObjectGroupsList","addGroup","_onDelete","_onRename","_onMove","globalObjectGroupsOldIndex","globalObjectGroupsNewIndex","_setAsGlobalGroup"],"mappings":"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EAAA,MAAD,CAAAjH,GAAA,kEA1ByC6G,aA2CxC0mB,EAAoB,SAAAxoB,GAGG,IAFlCnC,EAEkCmC,EAFlCnC,MACAwnB,EACkCrlB,EADlCqlB,sBAEA,OAAOxnB,GAGLmE,EAAApH,EAAAC,cAACwqB,EAAD,CAAuBoD,SAAO,GAC5BzmB,EAAApH,EAAAC,cAACqH,EAAA,MAAD,CAAAjH,GAAA,6MClDAytB,EAAW,CACf,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,WACA,WACA,YACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,QACA,SACA,OACA,MACA,SACA,WACA,MACA,OACA,SACA,SACA,MACA,WACA,WACA,SACA,OACA,QACA,KACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,QACA,WACA,WACA,OACA,OACA,SACA,UAGIC,EAAa,SAAC/oB,GAAD,OAA4C,IAA3B8oB,EAASpZ,QAAQ1P,IAEhCgpB,kLAIbnsB,KAAKwrB,QAAQxrB,KAAKwrB,OAAOC,yCAGtB,IAAA/rB,EAAAM,KAAAD,EACkDC,KAAKC,MAAtDmB,EADDrB,EACCqB,MAAOC,EADRtB,EACQsB,SAAU+qB,EADlBrsB,EACkBqsB,SAAUhE,EAD5BroB,EAC4BqoB,kBAEnC,OACE7iB,EAAApH,EAAAC,cAACiuB,EAAA,EAAD,CACErlB,kBACEohB,EAAoBA,EAAkBsD,sBAAmBve,EAE3D/L,MAAOA,EACPC,SAAUA,EACVirB,WAAYL,EAASvlB,IAAI,SAAA6lB,GAAO,MAAK,CACnChf,KAAMgf,EACNnrB,MAAOmrB,KAETC,aAAcJ,EACd1N,IAAK,SAAAiN,GAAK,OAAKjsB,EAAK8rB,OAASG,GAC7BlgB,UACGrK,EAEI8qB,EAAW9qB,QAGd+L,EAFA5H,E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","file":"static/js/1.568af440.chunk.js","sourcesContent":["import { Trans } from '@lingui/macro';\nimport React, { PureComponent } from 'react';\nimport { Column, Line } from '../UI/Grid';\nimport { sendTutorialOpened } from '../Utils/Analytics/EventSender';\nimport Window from '../Utils/Window';\nimport { getHelpLink } from '../Utils/HelpLink';\nimport { List, ListItem } from 'material-ui/List';\nimport { Subheader } from 'material-ui';\n\nexport default class Tutorials extends PureComponent {\n  render() {\n    return (\n      <Column noMargin>\n        <Line>\n          <Column>\n            <p>\n              <Trans>\n                Tutorials are available on GDevelop wiki. Choose a tutorial to\n                read:\n              </Trans>\n            </p>\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <List>\n              <ListItem\n                primaryText={<Trans>Platformer Tutorial</Trans>}\n                secondaryText={\n                  <p>\n                    <Trans>Make a platform game from scratch.</Trans>\n                  </p>\n                }\n                onClick={() => {\n                  sendTutorialOpened('Platformer');\n                  Window.openExternalURL(\n                    getHelpLink('/tutorials/platform-game/start')\n                  );\n                }}\n              />\n              <ListItem\n                primaryText={<Trans>Tank Shooter Tutorial</Trans>}\n                secondaryText={\n                  <p>\n                    <Trans>Make a simple tank shooter game from scratch.</Trans>\n                  </p>\n                }\n                onClick={() => {\n                  sendTutorialOpened('Tank Shooter');\n                  Window.openExternalURL(\n                    getHelpLink('/tutorials/tank-shooter')\n                  );\n                }}\n              />\n              <Subheader>\n                <Trans>Community Tutorials</Trans>\n              </Subheader>\n              <ListItem\n                primaryText={<Trans>Endless Runner Tutorial</Trans>}\n                secondaryText={\n                  <p>\n                    <Trans>\n                      Make a simple game where the player must jump on platforms\n                      for as long as possible.\n                    </Trans>\n                  </p>\n                }\n                secondaryTextLines={2}\n                onClick={() => {\n                  sendTutorialOpened('Endless Runner');\n                  Window.openExternalURL(\n                    getHelpLink('/tutorials/endless-runner')\n                  );\n                }}\n              />\n              <ListItem\n                primaryText={<Trans>Endless Car Game Tutorial</Trans>}\n                secondaryText={\n                  <p>\n                    <Trans>\n                      Create a simple game where you must dodge the cars on the\n                      road.\n                    </Trans>\n                  </p>\n                }\n                secondaryTextLines={2}\n                onClick={() => {\n                  sendTutorialOpened('Endless Car Game');\n                  Window.openExternalURL(getHelpLink('/tutorials/roadrider'));\n                }}\n              />\n              <ListItem\n                primaryText={<Trans>Breakout Tutorial</Trans>}\n                secondaryText={\n                  <p>\n                    <Trans>\n                      Create a simple breakout game where you must destroy all\n                      the bricks on the screen.\n                    </Trans>\n                  </p>\n                }\n                secondaryTextLines={2}\n                onClick={() => {\n                  sendTutorialOpened('Breakout');\n                  Window.openExternalURL(getHelpLink('/tutorials/breakout'));\n                }}\n              />\n            </List>\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport Tutorials from './Tutorials';\n\ntype State = {|\n  currentTab: 'starters' | 'examples' | 'tutorials',\n|};\n\ntype Props = {|\n  startersComponent: any,\n  examplesComponent: any,\n  open?: boolean,\n  onClose?: () => void,\n  onOpen?: (path: string) => void,\n  onCreate?: (project: gdProject) => void,\n|};\n\nexport default class CreateProjectDialog extends React.Component<Props, State> {\n  state = {\n    currentTab: 'starters',\n  };\n\n  _onChangeTab = (newTab: 'starters' | 'examples' | 'tutorials') => {\n    this.setState({\n      currentTab: newTab,\n    });\n  };\n\n  _showExamples = () => this._onChangeTab('examples');\n\n  _onExamplesLoaded = () => {\n    // Force an update to ensure dialog is properly positioned.\n    this.forceUpdate();\n  };\n\n  render() {\n    const { open, onClose, onOpen, onCreate } = this.props;\n    if (!open) return null;\n\n    const ExamplesComponent = this.props.examplesComponent;\n    const StartersComponent = this.props.startersComponent;\n\n    return (\n      <Dialog\n        title={<Trans>Create a new game</Trans>}\n        actions={[\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        onRequestClose={onClose}\n        open={open}\n        noMargin\n        autoScrollBodyContent\n      >\n        <Tabs value={this.state.currentTab} onChange={this._onChangeTab}>\n          <Tab label={<Trans>Starters</Trans>} value=\"starters\">\n            <StartersComponent\n              onOpen={onOpen}\n              onCreate={onCreate}\n              onShowExamples={this._showExamples}\n            />\n          </Tab>\n          <Tab label={<Trans>Examples</Trans>} value=\"examples\">\n            <ExamplesComponent\n              onOpen={onOpen}\n              onCreate={onCreate}\n              onExamplesLoaded={this._onExamplesLoaded}\n            />\n          </Tab>\n          <Tab label={<Trans>Tutorials</Trans>} value=\"tutorials\">\n            <Tutorials />\n          </Tab>\n        </Tabs>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport React, { PureComponent } from 'react';\nimport { Toolbar, ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport Window from '../Utils/Window';\nimport { I18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nconst styles = {\n  toolbar: {\n    flexShrink: 0, // Toolbar height should never be reduced\n    overflowX: 'auto',\n    overflowY: 'hidden',\n  },\n};\n\ntype Props = {\n  showProjectIcons: boolean,\n  hasProject: boolean,\n  toggleProjectManager: () => void,\n  requestUpdate: ?() => void,\n  simulateUpdateDownloaded: ?() => void,\n  simulateUpdateAvailable: ?() => void,\n  exportProject: Function,\n};\n\ntype State = {\n  editorToolbar: any,\n};\n\nexport class MainFrameToolbar extends PureComponent<Props, State> {\n  state = {\n    editorToolbar: null,\n  };\n\n  isDev = Window.isDev();\n\n  setEditorToolbar(editorToolbar: any) {\n    this.setState({\n      editorToolbar,\n    });\n  }\n\n  render() {\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Toolbar style={styles.toolbar}>\n            <ToolbarGroup firstChild={true}>\n              {this.props.showProjectIcons && (\n                <ToolbarIcon\n                  onClick={this.props.toggleProjectManager}\n                  src=\"res/ribbon_default/projectManager32.png\"\n                  disabled={!this.props.hasProject}\n                  tooltip={i18n._(t`Project manager`)}\n                />\n              )}\n              {this.props.showProjectIcons && (\n                <ToolbarIcon\n                  onClick={this.props.exportProject}\n                  src=\"res/ribbon_default/export32.png\"\n                  disabled={!this.props.hasProject}\n                  tooltip={i18n._(t`Export the game (Web, Android, iOS...)`)}\n                />\n              )}\n              {this.isDev && (\n                <IconMenu\n                  iconButtonElement={\n                    <ToolbarIcon src=\"res/ribbon_default/bug32.png\" />\n                  }\n                  buildMenuTemplate={() => [\n                    {\n                      label: i18n._(t`Request update from external editor`),\n                      disabled: !this.props.requestUpdate,\n                      click: () =>\n                        this.props.requestUpdate && this.props.requestUpdate(),\n                    },\n                    {\n                      label: i18n._(t`Simulate update downloaded`),\n                      disabled: !this.props.simulateUpdateDownloaded,\n                      click: () =>\n                        this.props.simulateUpdateDownloaded &&\n                        this.props.simulateUpdateDownloaded(),\n                    },\n                    {\n                      label: i18n._(t`Simulate update available`),\n                      disabled: !this.props.simulateUpdateAvailable,\n                      click: () =>\n                        this.props.simulateUpdateAvailable &&\n                        this.props.simulateUpdateAvailable(),\n                    },\n                  ]}\n                />\n              )}\n              <ToolbarSeparator />\n            </ToolbarGroup>\n            {this.state.editorToolbar || <ToolbarGroup />}\n          </Toolbar>\n        )}\n      </I18n>\n    );\n  }\n}\n\nexport default MainFrameToolbar;\n","import { Component } from 'react';\nimport Window from '../Utils/Window';\n\nexport default class ProjectTitlebar extends Component {\n  render() {\n    const { project } = this.props;\n    const titleElements = ['GDevelop 5'];\n    if (project)\n      titleElements.push(project.getProjectFile() || project.getName());\n\n    Window.setTitle(titleElements.join(' - '));\n    return null;\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport FlatButton from 'material-ui/FlatButton';\nimport MenuItem from 'material-ui/MenuItem';\nimport Toggle from 'material-ui/Toggle';\nimport Dialog from '../../UI/Dialog';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { Column, Line } from '../../UI/Grid';\nimport { themes } from '../../UI/Theme';\nimport { getAllThemes } from '../../CodeEditor/Theme';\nimport Window from '../../Utils/Window';\nimport PreferencesContext, {\n  type AlertMessageIdentifier,\n} from './PreferencesContext';\n\ntype Props = {|\n  open: boolean,\n  onClose: Function,\n|};\n\ntype State = {||};\n\nconst getDismissedAlertMessages = (identifiers: {\n  [AlertMessageIdentifier]: boolean,\n}): Array<AlertMessageIdentifier> => {\n  return Object.keys(identifiers)\n    .map(identifier => {\n      return identifiers[identifier] ? identifier : null;\n    })\n    .filter(Boolean);\n};\n\nexport default class PreferencesDialog extends Component<Props, State> {\n  createTheme() {\n    Window.openExternalURL(\n      'https://github.com/4ian/GDevelop/tree/master/newIDE#theming'\n    );\n  }\n\n  render() {\n    const { open, onClose } = this.props;\n    const actions = [\n      <FlatButton\n        key=\"close\"\n        label={<Trans>Close</Trans>}\n        primary={false}\n        onClick={onClose}\n      />,\n    ];\n\n    return (\n      <Dialog\n        actions={actions}\n        onRequestClose={onClose}\n        open={open}\n        title={<Trans>GDevelop preferences</Trans>}\n      >\n        <PreferencesContext.Consumer>\n          {({\n            values,\n            setThemeName,\n            setCodeEditorThemeName,\n            setAutoDownloadUpdates,\n            showAlertMessage,\n            setAutoDisplayChangelog,\n            setEventsSheetShowObjectThumbnails,\n            setAutosaveOnPreview,\n            setUseNewInstructionEditorDialog,\n          }) => {\n            const dismissedAlertMessages = getDismissedAlertMessages(\n              values.hiddenAlertMessages\n            );\n\n            return (\n              <Column noMargin>\n                <Line noMargin>\n                  <SelectField\n                    floatingLabelText={<Trans>UI Theme</Trans>}\n                    value={values.themeName}\n                    onChange={(e, i, value) => setThemeName(value)}\n                  >\n                    {Object.keys(themes).map(themeName => (\n                      <MenuItem\n                        value={themeName}\n                        primaryText={themeName}\n                        key={themeName}\n                      />\n                    ))}\n                  </SelectField>\n                  <SelectField\n                    floatingLabelText={<Trans>Code editor Theme</Trans>}\n                    value={values.codeEditorThemeName}\n                    onChange={(e, i, value) => setCodeEditorThemeName(value)}\n                  >\n                    {getAllThemes().map(codeEditorTheme => (\n                      <MenuItem\n                        value={codeEditorTheme.themeName}\n                        primaryText={codeEditorTheme.name}\n                        key={codeEditorTheme.themeName}\n                      />\n                    ))}\n                  </SelectField>\n                </Line>\n                <Line noMargin>\n                  <p>\n                    You can contribute and create your own themes:{' '}\n                    <FlatButton\n                      label={<Trans>Learn more</Trans>}\n                      onClick={this.createTheme}\n                    />{' '}\n                  </p>\n                </Line>\n                <Line>\n                  <Toggle\n                    onToggle={(e, check) => setAutoDownloadUpdates(check)}\n                    toggled={values.autoDownloadUpdates}\n                    labelPosition=\"right\"\n                    label={\n                      <Trans>\n                        Auto download and install updates (recommended)\n                      </Trans>\n                    }\n                  />\n                </Line>\n                <Line>\n                  <Toggle\n                    onToggle={(e, check) => setAutoDisplayChangelog(check)}\n                    toggled={values.autoDisplayChangelog}\n                    labelPosition=\"right\"\n                    label={\n                      <Trans>\n                        Display What's New when a new version is launched\n                        (recommended)\n                      </Trans>\n                    }\n                  />\n                </Line>\n                <Line>\n                  <Toggle\n                    onToggle={(e, check) =>\n                      setEventsSheetShowObjectThumbnails(check)\n                    }\n                    toggled={values.eventsSheetShowObjectThumbnails}\n                    labelPosition=\"right\"\n                    label={\n                      <Trans>Display object thumbnails in Events Sheets</Trans>\n                    }\n                  />\n                </Line>\n                <Line>\n                  <Toggle\n                    onToggle={(e, check) => setAutosaveOnPreview(check)}\n                    toggled={values.autosaveOnPreview}\n                    labelPosition=\"right\"\n                    label={<Trans>Auto-save project on Preview</Trans>}\n                  />\n                </Line>\n                <Line>\n                  <Toggle\n                    onToggle={(e, check) =>\n                      setUseNewInstructionEditorDialog(check)\n                    }\n                    toggled={values.useNewInstructionEditorDialog}\n                    labelPosition=\"right\"\n                    label={<Trans>Use the new action/condition editor</Trans>}\n                  />\n                </Line>\n                <Line>\n                  {dismissedAlertMessages.length ? (\n                    <Column noMargin>\n                      <p>\n                        <Trans>\n                          You have dismissed some hints. Click to enable them\n                          again:\n                        </Trans>\n                      </p>\n                      {dismissedAlertMessages.map(name => (\n                        <FlatButton\n                          label={name}\n                          onClick={() => showAlertMessage(name, true)}\n                        />\n                      ))}\n                    </Column>\n                  ) : (\n                    <EmptyMessage>\n                      <Trans>\n                        If you dismiss some hints, they will be shown here in\n                        case you want to enable them again.\n                      </Trans>\n                    </EmptyMessage>\n                  )}\n                </Line>\n              </Column>\n            );\n          }}\n        </PreferencesContext.Consumer>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { PureComponent } from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport { Column, Line } from '../UI/Grid';\nimport Window from '../Utils/Window';\nimport IconButton from 'material-ui/IconButton';\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\nimport PreferencesContext from './Preferences/PreferencesContext';\nimport {\n  getUpdateStatusLabel,\n  getUpdateButtonLabel,\n  canDownloadUpdate,\n  type UpdateStatus,\n} from './UpdaterTools';\nimport Changelog from './Changelog';\nimport { getIDEVersion, getGDCoreVersion } from '../Version';\n\ntype Props = {\n  open: boolean,\n  onClose: Function,\n  updateStatus: UpdateStatus,\n};\n\n// There must be missing tons of people.\n// If you contributed to GDevelop but you're not in the list, please\n// send a Pull Request on GitHub or open an issue ;)\nconst contributors = [\n  // GitHub contributors\n  {\n    name: 'Victor Levasseur',\n    description:\n      'Numerous contributions to GDevelop core and various extensions',\n  },\n  {\n    name: 'Lizard-13',\n    description:\n      'Numerous contributions to GDevelop (particle engine, bugfixes, new conditions, examples, tutorials...)',\n  },\n  {\n    name: \"Christina 'Castpixel' Antoinette Neofotistou\",\n    description: 'Art and assets for the 8-bit Space Shooter example.',\n    link: 'https://www.patreon.com/castpixel',\n  },\n  { name: 'ale26reg', description: 'Contributions to GDevelop' },\n  { name: 'dos1', description: 'Contributions to GDevelop' },\n  { name: 'Bouh', description: 'Contributions to GDevelop' },\n  {\n    name: 'Todor Imreorov',\n    description:\n      'Numerous contributions to GDevelop, added Piskel sprite editor and jfxr',\n  },\n  { name: 'brylie', description: 'Contributions to GDevelop' },\n  { name: 'Nnarol', description: 'Contributions to GDevelop' },\n  { name: 'wild-master', description: 'Contributions to GDevelop' },\n  { name: 'RandomShaper', description: 'Contributions to GDevelop' },\n  { name: 'RyanNerd', description: 'Contributions to GDevelop' },\n  { name: 'greater', description: 'Contributions to GDevelop' },\n  { name: 'triptych', description: 'Contributions to GDevelop' },\n  {\n    name: 'Wend1go',\n    description: 'Contributions to GDevelop, Tutorials, Examples',\n  },\n  { name: 'mattiascibien', description: 'Contributions to GDevelop' },\n  { name: 'araujo921', description: 'Contributions to GDevelop' },\n  { name: 'ronnystandtke', description: 'Contributions to GDevelop' },\n  {\n    name: 'Thomas Flecy',\n    description: 'Contributions to GDevelop (original sound object extension)',\n  },\n\n  // Community members:\n  {\n    name: 'ddabrahim',\n    description: 'Lots of examples bundled with GDevelop',\n    link: 'https://gametemplates.itch.io/',\n  },\n  {\n    name: 'Gametemplates',\n    description: 'Examples bundled with GDevelop',\n    link: 'https://gametemplates.itch.io/',\n  },\n  { name: 'Mats', description: 'Tutorials, Examples' },\n  { name: 'erdo', description: 'Tutorials, Examples' },\n  { name: 'Jubileuksen3', description: 'Tutorials, Examples' },\n  { name: 'LucaTexas', description: 'Tutorials, Examples' },\n  { name: 'Kink', description: 'Forum moderator, tutorials, Examples' },\n  { name: 'RicoTrooper', description: 'Tutorials' },\n  { name: 'kalel', description: 'Tutorials' },\n  { name: 'mtarzaim', description: 'Tutorials' },\n  { name: 'Darkhog', description: 'Examples' },\n  { name: 'Ricardo Graca', description: 'Tutorials, Examples' },\n  { name: 'Diego Schiavon', description: 'Indiegogo Ubuntu contributor' },\n  { name: 'conceptgame', description: 'Indiegogo super contributor' },\n  {\n    name: 'Jose David Coartas Correa',\n    description:\n      'Author of Digitopolis (a book on how to make games with GDevelop4)',\n  },\n\n  {\n    name: 'François Dumortier',\n    description: 'GDevelop logo design',\n    link: 'http://www.fdumortier.com',\n  },\n  {\n    name: 'Constantine Shvetsov',\n    description: 'Design of all the awesome icons',\n  },\n  {\n    name: 'MillionthVector',\n    description: 'Assets of various examples',\n  },\n];\n\nexport default class AboutDialog extends PureComponent<Props, *> {\n  _openContributePage = () => {\n    Window.openExternalURL('https://gdevelop-app.com/contribute/');\n  };\n\n  _openLink = (link: string) => {\n    if (!link) return;\n\n    Window.openExternalURL(link);\n  };\n\n  render() {\n    const { open, onClose, updateStatus } = this.props;\n    if (!open) return null;\n\n    const updateStatusString = getUpdateStatusLabel(updateStatus.status);\n    const updateButtonLabel = getUpdateButtonLabel(updateStatus.status);\n\n    return (\n      <Dialog\n        actions={[\n          <FlatButton\n            label={<Trans>GDevelop Website</Trans>}\n            primary={false}\n            onClick={() => Window.openExternalURL('http://gdevelop-app.com')}\n          />,\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        onRequestClose={onClose}\n        open={open}\n        contentStyle={{\n          maxWidth: 535,\n        }}\n        noMargin\n        autoScrollBodyContent\n      >\n        <PreferencesContext.Consumer>\n          {({ values, checkUpdates }) => (\n            <Column noMargin>\n              <img\n                src=\"res/GD-logo.png\"\n                alt=\"GDevelop logo\"\n                width=\"535\"\n                height=\"283\"\n              />\n              <Tabs onChange={() => this.forceUpdate()}>\n                <Tab label={<Trans>About GDevelop</Trans>} value=\"about\">\n                  <Column>\n                    <Line>\n                      <Trans>\n                        GDevelop {getIDEVersion()} based on GDevelop.js{' '}\n                        {getGDCoreVersion()}\n                      </Trans>\n                    </Line>\n                    <Line>{updateStatusString}</Line>\n                    <Line justifyContent=\"center\">\n                      {!!updateStatusString && (\n                        <FlatButton\n                          label={updateButtonLabel}\n                          onClick={() =>\n                            checkUpdates(canDownloadUpdate(updateStatus.status))\n                          }\n                        />\n                      )}\n                    </Line>\n                  </Column>\n                </Tab>\n                <Tab label={<Trans>What's new?</Trans>} value=\"changelog\">\n                  <Column>\n                    <Changelog />\n                  </Column>\n                </Tab>\n                <Tab label={<Trans>Contributors</Trans>} value=\"contributors\">\n                  <Column>\n                    <p>\n                      <Trans>\n                        GDevelop was created by Florian \"4ian\" Rival.\n                      </Trans>\n                    </p>\n                    <p>\n                      <Trans>Contributors, in no particular order:</Trans>\n                    </p>\n                  </Column>\n                  <List>\n                    {contributors.map(contributor => (\n                      <ListItem\n                        key={contributor.name}\n                        primaryText={contributor.name}\n                        secondaryText={<p>{contributor.description}</p>}\n                        secondaryTextLines={\n                          contributor.description.length < 30 ? 1 : 2\n                        }\n                        rightIconButton={\n                          contributor.link ? (\n                            <IconButton\n                              onClick={() =>\n                                this._openLink(contributor.link || '')\n                              }\n                            >\n                              <OpenInNew />\n                            </IconButton>\n                          ) : null\n                        }\n                      />\n                    ))}\n                  </List>\n                  <Column expand>\n                    <p>\n                      <Trans>\n                        Thanks to all users of GDevelop! There must be missing\n                        tons of people, please send your name if you've\n                        contributed and you're not listed.\n                      </Trans>\n                    </p>\n                    <Line alignItems=\"center\" justifyContent=\"center\">\n                      <FlatButton\n                        label={<Trans>Contribute to GDevelop</Trans>}\n                        onClick={this._openContributePage}\n                      />\n                    </Line>\n                  </Column>\n                </Tab>\n              </Tabs>\n            </Column>\n          )}\n        </PreferencesContext.Consumer>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { TreeTableRow, TreeTableCell } from '../UI/TreeTable';\nimport DragHandle from '../UI/DragHandle';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport Checkbox from 'material-ui/Checkbox';\nimport AddCircle from 'material-ui/svg-icons/content/add-circle';\nimport SubdirectoryArrowRight from 'material-ui/svg-icons/navigation/subdirectory-arrow-right';\nimport TextField from 'material-ui/TextField';\nimport IconButton from 'material-ui/IconButton';\nimport Reset from 'material-ui/svg-icons/av/replay';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport styles from './styles';\nimport { type VariableOrigin } from './VariablesList.flow';\n\n//TODO: Refactor into TreeTable?\nconst Indent = ({ width }) => (\n  <div style={{ ...styles.indent, width }}>\n    <SubdirectoryArrowRight color={styles.indentIconColor} />\n  </div>\n);\n\nconst InlineCheckbox = props => <Checkbox {...props} style={{ width: 32 }} />;\n\ntype Props = {|\n  name: string,\n  variable: gdVariable,\n  depth: number,\n  errorText?: ?string,\n  onBlur: () => void,\n  onRemove: () => void,\n  onAddChild: () => void,\n  onChangeValue: string => void,\n  onResetToDefaultValue: () => void,\n  children?: React.Node,\n  muiTheme: Object,\n  showHandle: boolean,\n  showSelectionCheckbox: boolean,\n  isSelected: boolean,\n  onSelect: boolean => void,\n  origin: VariableOrigin,\n|};\n\nconst ThemableVariableRow = ({\n  name,\n  variable,\n  depth,\n  errorText,\n  onBlur,\n  onRemove,\n  onAddChild,\n  onChangeValue,\n  onResetToDefaultValue,\n  children,\n  muiTheme,\n  showHandle,\n  showSelectionCheckbox,\n  isSelected,\n  onSelect,\n  origin,\n}: Props) => {\n  const isStructure = variable.isStructure();\n  const key = '' + depth + name;\n\n  const limitEditing = origin === 'parent' || origin === 'inherited';\n\n  const columns = [\n    <TreeTableCell key=\"name\">\n      {depth > 0 && (\n        <Indent width={(depth + 1) * styles.tableChildIndentation} />\n      )}\n      {depth === 0 && showHandle && <DragHandle />}\n      {showSelectionCheckbox && !limitEditing && (\n        <InlineCheckbox\n          checked={isSelected}\n          onCheck={(e, checked) => onSelect(checked)}\n        />\n      )}\n      <TextField\n        style={{\n          fontStyle: origin !== 'inherited' ? 'normal' : 'italic',\n        }}\n        fullWidth\n        name={key + 'name'}\n        defaultValue={name}\n        errorText={errorText}\n        onBlur={onBlur}\n        disabled={origin === 'parent'}\n      />\n    </TreeTableCell>,\n  ];\n  if (!isStructure) {\n    columns.push(\n      <TreeTableCell key=\"value\">\n        <SemiControlledTextField\n          commitOnBlur\n          fullWidth\n          name={key + 'value'}\n          value={variable.getString()}\n          onChange={text => {\n            if (variable.getString() !== text) {\n              onChangeValue(text);\n            }\n          }}\n          multiLine\n          disabled={origin === 'parent' && depth !== 0}\n        />\n      </TreeTableCell>\n    );\n  } else {\n    columns.push(\n      <TreeTableCell\n        key=\"value\"\n        style={limitEditing ? styles.fadedButton : undefined}\n      >\n        (Structure)\n      </TreeTableCell>\n    );\n  }\n  columns.push(\n    <TreeTableCell key=\"tools\" style={styles.toolColumn}>\n      {origin === 'inherited' && depth === 0 && (\n        <IconButton\n          onClick={onResetToDefaultValue}\n          style={isStructure ? undefined : styles.fadedButton}\n          tooltip={<Trans>Reset</Trans>}\n        >\n          <Reset />\n        </IconButton>\n      )}\n      {!(origin === 'inherited' && depth === 0) && origin !== 'parent' && (\n        <IconButton\n          onClick={onAddChild}\n          style={isStructure ? undefined : styles.fadedButton}\n          tooltip={<Trans>Add child variable</Trans>}\n          tooltipPosition=\"bottom-left\"\n        >\n          <AddCircle />\n        </IconButton>\n      )}\n    </TreeTableCell>\n  );\n\n  return (\n    <div>\n      <TreeTableRow\n        style={{ backgroundColor: muiTheme.list.itemsBackgroundColor }}\n      >\n        {columns}\n      </TreeTableRow>\n      {children}\n    </div>\n  );\n};\n\nconst VariableRow = muiThemeable()(ThemableVariableRow);\nexport default VariableRow;\n","import React from 'react';\nimport { TreeTableRow, TreeTableCell } from '../UI/TreeTable';\nimport Add from 'material-ui/svg-icons/content/add';\nimport IconButton from 'material-ui/IconButton';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport ContentCopy from 'material-ui/svg-icons/content/content-copy';\nimport ContentPaste from 'material-ui/svg-icons/content/content-paste';\nimport Delete from 'material-ui/svg-icons/action/delete';\n\nimport styles from './styles';\n\nconst EditVariableRow = ({\n  onAdd,\n  onCopy,\n  hasSelection,\n  onPaste,\n  hasClipboard,\n  onDeleteSelection,\n}) => (\n  <TreeTableRow>\n    <TreeTableCell style={styles.toolColumnHeader}>\n      <IconButton onClick={onCopy} disabled={!hasSelection}>\n        <ContentCopy />\n      </IconButton>\n      <IconButton onClick={onPaste} disabled={!hasClipboard}>\n        <ContentPaste />\n      </IconButton>\n      <IconButton onClick={onDeleteSelection} disabled={!hasSelection}>\n        <Delete />\n      </IconButton>\n    </TreeTableCell>\n\n    <TreeTableCell>\n      <EmptyMessage style={styles.addVariableMessage} />\n    </TreeTableCell>\n\n    <TreeTableCell style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </TreeTableCell>\n  </TreeTableRow>\n);\n\nexport default EditVariableRow;\n","// @flow\n/**\n * Export functions to manipulate a selection of objects.\n */\n\nimport values from 'lodash/values';\n\ntype ObjectType = { ptr: number };\n\ntype SelectionState<T> = {\n  [number]: ?T,\n};\n\nexport const getInitialSelection = () => ({});\n\nexport const clearSelection = () => getInitialSelection();\n\nexport const getSelection = <T: ObjectType>(\n  selection: SelectionState<T>\n): Array<T> => values(selection).filter(value => !!value);\n\nexport const addToSelection = <T: ObjectType>(\n  selection: SelectionState<T>,\n  object: T,\n  select: boolean = true\n): SelectionState<T> => {\n  console.log(object, select);\n  return {\n    ...selection,\n    [object.ptr]: select ? object : null,\n  };\n};\n\nexport const isSelected = <T: ObjectType>(\n  selection: SelectionState<T>,\n  object: T\n): boolean => !!selection[object.ptr];\n\nexport const hasSelection = <T: ObjectType>(\n  selection: SelectionState<T>\n): boolean => {\n  return !!values(selection).filter(value => !!value).length;\n};\n","export const CLIPBOARD_KIND = 'Variables';\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Dialog from '../UI/Dialog';\nimport { Line } from '../UI/Grid';\nimport ResourcesLoader from '../ResourcesLoader';\nimport ResourceSelectorWithThumbnail from '../ResourcesList/ResourceSelectorWithThumbnail';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport { resizeImage, isResizeSupported } from './ImageResizer';\nimport { showErrorBox } from '../UI/Messages/MessageBox';\nimport optionalRequire from '../Utils/OptionalRequire';\nconst path = optionalRequire('path');\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  open: boolean,\n  onClose: Function,\n  onApply: Function,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n|};\n\ntype State = {|\n  desktopIconResourceNames: Array<string>,\n  androidIconResourceNames: Array<string>,\n  iosIconResourceNames: Array<string>,\n|};\n\nconst desktopSizes = [512];\nconst androidSizes = [192, 144, 96, 72, 48, 36];\nconst iosSizes = [\n  180,\n  167,\n  152,\n  144,\n  120,\n  114,\n  100,\n  80,\n  76,\n  72,\n  60,\n  58,\n  57,\n  50,\n  40,\n  29,\n];\n\nexport default class PlatformSpecificAssetsDialog extends React.Component<\n  Props,\n  State\n> {\n  constructor(props: Props) {\n    super(props);\n    this.state = this._loadFrom(props.project);\n  }\n\n  _loadFrom(project: gdProject): State {\n    return {\n      desktopIconResourceNames: desktopSizes.map(size =>\n        project.getPlatformSpecificAssets().get('desktop', `icon-${size}`)\n      ),\n      androidIconResourceNames: androidSizes.map(size =>\n        project.getPlatformSpecificAssets().get('android', `icon-${size}`)\n      ),\n      iosIconResourceNames: iosSizes.map(size =>\n        project.getPlatformSpecificAssets().get('ios', `icon-${size}`)\n      ),\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.project !== newProps.project)\n    ) {\n      this.setState(this._loadFrom(newProps.project));\n    }\n  }\n\n  _generateFromFile = () => {\n    const { project, resourceSources, onChooseResource } = this.props;\n\n    const sources = resourceSources.filter(source => source.kind === 'image');\n    if (!sources.length) return;\n\n    onChooseResource(sources[0].name, false).then(resources => {\n      if (!resources.length || !path) {\n        return;\n      }\n\n      const resourcesManager = project.getResourcesManager();\n      const projectPath = path.dirname(project.getProjectFile());\n      const fullPath = path.resolve(projectPath, resources[0].getFile());\n\n      // Important, we are responsible for deleting the resources that were given to us.\n      // Otherwise we have a memory leak.\n      resources.forEach(resource => resource.delete());\n\n      Promise.all([\n        ...desktopSizes.map(size =>\n          resizeImage(\n            fullPath,\n            path.join(projectPath, `desktop-icon-${size}.png`),\n            {\n              width: size,\n              height: size,\n            }\n          )\n        ),\n        ...androidSizes.map(size =>\n          resizeImage(\n            fullPath,\n            path.join(projectPath, `android-icon-${size}.png`),\n            {\n              width: size,\n              height: size,\n            }\n          )\n        ),\n        ...iosSizes.map(size =>\n          resizeImage(\n            fullPath,\n            path.join(projectPath, `ios-icon-${size}.png`),\n            {\n              width: size,\n              height: size,\n            }\n          )\n        ),\n      ]).then(results => {\n        if (results.indexOf(false) !== -1) {\n          showErrorBox('Some icons could not be generated!');\n          return;\n        }\n\n        // Add resources to the game\n        const allResourcesNames = [\n          ...desktopSizes.map(size => `desktop-icon-${size}.png`),\n          ...androidSizes.map(size => `android-icon-${size}.png`),\n          ...iosSizes.map(size => `ios-icon-${size}.png`),\n        ];\n        allResourcesNames.forEach(resourceName => {\n          if (!resourcesManager.hasResource(resourceName)) {\n            const imageResource = new gd.ImageResource();\n            imageResource.setFile(resourceName);\n            imageResource.setName(resourceName);\n\n            resourcesManager.addResource(imageResource);\n\n            // Important, we are responsible for deleting the resources that we created\n            // Otherwise we have a memory leak, as calling addResource is making a copy of the resource.\n            imageResource.delete();\n          } else {\n            resourcesManager.getResource(resourceName).setFile(resourceName);\n          }\n        });\n\n        // Make sure the resources are (re)loaded.\n        ResourcesLoader.burstUrlsCacheForResources(project, allResourcesNames);\n        setTimeout(() => {\n          this.setState({\n            desktopIconResourceNames: desktopSizes.map(\n              size => `desktop-icon-${size}.png`\n            ),\n            androidIconResourceNames: androidSizes.map(\n              size => `android-icon-${size}.png`\n            ),\n            iosIconResourceNames: iosSizes.map(size => `ios-icon-${size}.png`),\n          });\n        }, 200 /* Let a bit of time so that image files can be found */);\n      });\n    });\n  };\n\n  _onApply = () => {\n    const { project } = this.props;\n    const {\n      desktopIconResourceNames,\n      androidIconResourceNames,\n      iosIconResourceNames,\n    } = this.state;\n\n    desktopSizes.forEach((size, index) => {\n      project\n        .getPlatformSpecificAssets()\n        .set('desktop', `icon-${size}`, desktopIconResourceNames[index]);\n    });\n    androidSizes.forEach((size, index) => {\n      project\n        .getPlatformSpecificAssets()\n        .set('android', `icon-${size}`, androidIconResourceNames[index]);\n    });\n    iosSizes.forEach((size, index) => {\n      project\n        .getPlatformSpecificAssets()\n        .set('ios', `icon-${size}`, iosIconResourceNames[index]);\n    });\n\n    this.props.onApply();\n  };\n\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={this.props.onClose}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={this._onApply}\n      />,\n    ];\n    const {\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const {\n      desktopIconResourceNames,\n      androidIconResourceNames,\n      iosIconResourceNames,\n    } = this.state;\n\n    return (\n      <Dialog\n        actions={actions}\n        open={this.props.open}\n        onRequestClose={this.props.onClose}\n        autoScrollBodyContent\n      >\n        <Line justifyContent=\"center\">\n          {isResizeSupported() ? (\n            <RaisedButton\n              primary\n              label={<Trans>Generate icons from a file</Trans>}\n              onClick={this._generateFromFile}\n            />\n          ) : (\n            <p>\n              <Trans>\n                Download GDevelop desktop version to generate the Android and\n                iOS icons of your game.\n              </Trans>\n            </p>\n          )}\n        </Line>\n        <p>\n          <Trans>Desktop (Windows, macOS and Linux) icon:</Trans>\n        </p>\n        {desktopSizes.map((size, index) => (\n          <ResourceSelectorWithThumbnail\n            key={size}\n            floatingLabelText={`Desktop icon (${size}x${size} px)`}\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n            resourceKind=\"image\"\n            resourceName={desktopIconResourceNames[index]}\n            onChange={resourceName => {\n              const newIcons = [...desktopIconResourceNames];\n              newIcons[index] = resourceName;\n              this.setState({\n                desktopIconResourceNames: newIcons,\n              });\n            }}\n          />\n        ))}\n        <p>\n          <Trans>Android icons:</Trans>\n        </p>\n        {androidSizes.map((size, index) => (\n          <ResourceSelectorWithThumbnail\n            key={size}\n            floatingLabelText={`Android icon (${size}x${size} px)`}\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n            resourceKind=\"image\"\n            resourceName={androidIconResourceNames[index]}\n            onChange={resourceName => {\n              const newIcons = [...androidIconResourceNames];\n              newIcons[index] = resourceName;\n              this.setState({\n                androidIconResourceNames: newIcons,\n              });\n            }}\n          />\n        ))}\n        <p>\n          <Trans>iOS (iPhone and iPad) icons:</Trans>\n        </p>\n        {iosSizes.map((size, index) => (\n          <ResourceSelectorWithThumbnail\n            key={size}\n            floatingLabelText={`iOS icon (${size}x${size} px)`}\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceKind=\"image\"\n            resourceName={iosIconResourceNames[index]}\n            resourceExternalEditors={resourceExternalEditors}\n            onChange={resourceName => {\n              const newIcons = [...iosIconResourceNames];\n              newIcons[index] = resourceName;\n              this.setState({\n                iosIconResourceNames: newIcons,\n              });\n            }}\n          />\n        ))}\n      </Dialog>\n    );\n  }\n}\n","//@flow\nimport optionalRequire from '../Utils/OptionalRequire';\nconst Jimp = optionalRequire('jimp');\n\nexport const isResizeSupported = () => !!Jimp;\n\nexport const resizeImage = (\n  inputFile: string,\n  outputFile: string,\n  { width, height }: { width: number, height: number }\n): Promise<any> => {\n  if (!Jimp) return Promise.resolve(false);\n\n  return Jimp.read(inputFile)\n    .then(function(jimpImage) {\n      return jimpImage.contain(width, height).write(outputFile);\n    })\n    .then(() => {\n      return true;\n    })\n    .catch(function(err) {\n      console.error(err);\n      return false;\n    });\n};\n","import React from 'react';\nimport RefreshIndicator from 'material-ui/RefreshIndicator';\n\nconst loaderSize = 50;\n\nexport default props => {\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        zIndex: 1000,\n        pointerEvents: props.show ? 'cursor' : 'none',\n        display: props.show ? 'block' : 'none',\n      }}\n    >\n      <div\n        style={{\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          marginTop: -loaderSize / 2,\n          marginLeft: -loaderSize / 2,\n          width: loaderSize,\n          height: loaderSize,\n        }}\n      >\n        {props.show /* Don't render RefreshIndicator to avoid it to use a timeout that would wake regularly the CPU  */ && (\n          <RefreshIndicator\n            size={loaderSize}\n            left={0}\n            top={0}\n            status={'loading'}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport optionalRequire from '../Utils/OptionalRequire';\nimport Window from '../Utils/Window';\nconst electron = optionalRequire('electron');\n\ntype Props = {|\n  shouldPrompt: boolean,\n|};\n\nexport default class CloseConfirmDialog extends React.Component<Props, *> {\n  _delayElectronClose = true;\n\n  componentDidMount() {\n    this._setup(this.props);\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (newProps.shouldPrompt !== this.props.shouldPrompt)\n      this._setup(newProps);\n  }\n\n  _setup(props: Props) {\n    if (Window.isDev()) return; // Don't prevent live-reload in development\n\n    const { shouldPrompt } = props;\n    const message =\n      'Are you sure you want to quit GDevelop? Any unsaved changes will be lost.';\n\n    if (electron) {\n      window.onbeforeunload = e => {\n        if (this._delayElectronClose && shouldPrompt) {\n          // Use setTimeout to avoiding blocking the thread with the \"confirm\" dialog,\n          // which would make Electron to close the window for some weird reason.\n          // See https://github.com/electron/electron/issues/7977\n          setTimeout(() => {\n            //eslint-disable-next-line\n            const answer = confirm(message);\n            if (answer) {\n              // If answer is positive, re-trigger the close\n              this._delayElectronClose = false;\n              electron.remote.getCurrentWindow().close();\n            }\n          }, 10);\n\n          // Prevents closing the window immediately. See https://github.com/electron/electron/blob/master/docs/api/browser-window.md#event-close\n          e.returnValue = true; //\"It is recommended to always set the event.returnValue explicitly, instead of only returning a value, as the former works more consistently within Electron.\"\"\n          return false; //\"In Electron, returning any value other than undefined would cancel the close\"\n        } else {\n          // Returning undefined will let the window close\n        }\n      };\n    } else if (window) {\n      if (shouldPrompt) {\n        window.onbeforeunload = () => message;\n      } else {\n        window.onbeforeunload = null;\n      }\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n","import React, { Component } from 'react';\nimport { Tabs as MaterialUITabs, Tab as MaterialUITab } from 'material-ui/Tabs';\nimport Close from 'material-ui/svg-icons/navigation/close';\nimport FlatButton from 'material-ui/FlatButton';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst styles = {\n  tabsContainerStyle: {\n    maxWidth: '100%',\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  tabTemplateStyle: {\n    width: '100%',\n    position: 'relative',\n    textAlign: 'initial',\n    height: '100%',\n  },\n};\n\n/**\n * This is to override the default material-ui tab template used to wrap the content of each tab element.\n * 2 changes (**please port them to your new implementation if you change the tabs**):\n *\n * 1) Instead of setting the \"height\" of hidden tabs to \"0\", we set \"display\" to \"none\" to avoid\n * messing with components (in particular components where you can scroll: when collapsed because of height=0,\n * they will lose they scrolling position).\n *\n * 2) shouldComponentUpdate is used to avoid updating the content of a tab that is not selected.\n *\n * Rest of the implementation is the same.\n */\nclass TabTemplate extends Component {\n  shouldComponentUpdate(nextProps) {\n    return this.props.selected || nextProps.selected;\n  }\n\n  render() {\n    const { children, selected, style } = this.props;\n    const templateStyle = { ...styles.tabTemplateStyle, ...style };\n    if (!selected) {\n      templateStyle.display = 'none';\n    }\n\n    return <div style={templateStyle}>{children}</div>;\n  }\n}\n\nexport class ThemableTabs extends Component {\n  render() {\n    const { muiTheme, hideLabels, ...tabsProps } = this.props;\n    const tabItemContainerStyle = {\n      maxWidth: '100%', // Tabs should take all width\n      flexShrink: 0, // Tabs height should never be reduced\n      overflowX: 'auto',\n      display: hideLabels ? 'none' : 'block',\n      backgroundColor: muiTheme.closableTabs.backgroundColor,\n    };\n\n    const contentContainerStyle = {\n      overflowY: 'hidden',\n      height: hideLabels\n        ? '100%'\n        : `calc(100% - ${muiTheme.closableTabs.height}px)`,\n    };\n\n    return (\n      <MaterialUITabs\n        style={styles.tabsContainerStyle}\n        tabTemplate={TabTemplate}\n        contentContainerStyle={contentContainerStyle}\n        tabItemContainerStyle={tabItemContainerStyle}\n        inkBarStyle={{ display: 'none' }}\n        {...tabsProps}\n      />\n    );\n  }\n}\n\nexport const Tabs = muiThemeable()(ThemableTabs);\nTabs.muiName = 'Tabs';\n\nclass ThemableTab extends Component {\n  static muiName = 'Tab';\n\n  render() {\n    const {\n      muiTheme,\n      selected,\n      onClose,\n      label,\n      closable,\n      ...tabProps\n    } = this.props;\n\n    const truncatedLabel = (\n      <span\n        style={{\n          width:\n            muiTheme.closableTabs.width -\n            muiTheme.closableTabs.closeButtonWidth * 1.5,\n          marginRight: muiTheme.closableTabs.closeButtonWidth,\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n        }}\n      >\n        {label}\n      </span>\n    );\n\n    return (\n      <span\n        style={{\n          position: 'relative',\n          width: muiTheme.closableTabs.width,\n          display: 'inline-block',\n        }}\n      >\n        <MaterialUITab\n          {...tabProps}\n          label={truncatedLabel}\n          selected={selected}\n          buttonStyle={{\n            height: muiTheme.closableTabs.height,\n            backgroundColor: selected\n              ? muiTheme.closableTabs.selectedBackgroundColor\n              : muiTheme.closableTabs.backgroundColor,\n            color: selected\n              ? muiTheme.closableTabs.selectedTextColor\n              : muiTheme.closableTabs.textColor,\n          }}\n          style={{\n            height: '100%',\n            width: '100%',\n          }}\n        />\n        {closable && (\n          <FlatButton\n            backgroundColor=\"transparent\"\n            hoverColor={muiTheme.selectedBackgroundColor}\n            onClick={onClose}\n            style={{\n              position: 'absolute',\n              right: 0,\n              top: 0,\n              bottom: 0,\n              borderRadius: 0,\n              width: muiTheme.closableTabs.closeButtonWidth,\n              minWidth: muiTheme.closableTabs.closeButtonWidth,\n            }}\n            icon={\n              <Close\n                color={\n                  selected\n                    ? muiTheme.closableTabs.selectedTextColor\n                    : muiTheme.closableTabs.textColor\n                }\n                style={{\n                  width: muiTheme.closableTabs.height / 2,\n                  height: muiTheme.closableTabs.height / 2,\n                }}\n              />\n            }\n          />\n        )}\n      </span>\n    );\n  }\n}\n\nexport const Tab = muiThemeable()(ThemableTab);\nTab.muiName = 'Tab';\n","// @flow\nimport findIndex from 'lodash/findIndex';\nimport EventsEditor from './Editors/EventsEditor';\nimport DebuggerEditor from './Editors/DebuggerEditor';\nimport EventsFunctionsExtensionEditorWrapper from './Editors/EventsFunctionsExtensionEditor';\nimport ExternalEventsEditor from './Editors/ExternalEventsEditor';\nimport ExternalLayoutEditor from './Editors/ExternalLayoutEditor';\nimport ResourcesEditor from './Editors/ResourcesEditor';\nimport SceneEditor from './Editors/SceneEditor';\n\n// Supported editors\ntype EditorRef =\n  | DebuggerEditor\n  | EventsEditor\n  | EventsFunctionsExtensionEditorWrapper\n  | ExternalEventsEditor\n  | ExternalLayoutEditor\n  | ResourcesEditor\n  | SceneEditor;\n\nexport type EditorTab = {|\n  render: (isCurrentTab: boolean) => React$Element<*>,\n  editorRef: ?EditorRef,\n  name: string,\n  key: string,\n  closable: boolean,\n|};\n\nexport type EditorTabsState = {\n  editors: Array<EditorTab>,\n  currentTab: number,\n};\n\nexport const getEditorTabsInitialState = (): EditorTabsState => {\n  return {\n    editors: [],\n    currentTab: 0,\n  };\n};\n\ntype renderEditorProps = {|\n  isActive: boolean,\n  editorRef: Function,\n|};\n\nexport const openEditorTab = (\n  state: EditorTabsState,\n  {\n    name,\n    renderEditor,\n    key,\n    dontFocusTab,\n    closable,\n  }: {\n    name: string,\n    renderEditor: (props: renderEditorProps) => React$Element<*>,\n    key: string,\n    dontFocusTab?: boolean,\n    closable?: boolean,\n  }\n): EditorTabsState => {\n  const existingEditorId = findIndex(\n    state.editors,\n    editor => editor.key === key\n  );\n  if (existingEditorId !== -1) {\n    return {\n      ...state,\n      currentTab: dontFocusTab ? state.currentTab : existingEditorId,\n    };\n  }\n\n  const editorTab: EditorTab = {\n    render: (isCurrentTab: boolean) =>\n      renderEditor({\n        isActive: isCurrentTab,\n        editorRef: editorRef => (editorTab.editorRef = editorRef),\n      }),\n    editorRef: null,\n    name,\n    key,\n    closable: typeof closable === 'undefined' ? true : !!closable,\n  };\n\n  return {\n    ...state,\n    editors: [...state.editors, editorTab],\n    currentTab: dontFocusTab ? state.currentTab : state.editors.length,\n  };\n};\n\nexport const changeCurrentTab = (\n  state: EditorTabsState,\n  newTabId: number\n): EditorTabsState => {\n  return {\n    ...state,\n    currentTab: Math.max(0, Math.min(newTabId, state.editors.length - 1)),\n  };\n};\n\nexport const closeAll = (): EditorTabsState => {\n  return getEditorTabsInitialState();\n};\n\nexport const closeEditorTab = (\n  state: EditorTabsState,\n  editorTab: EditorTab\n): EditorTabsState => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(e => e !== editorTab),\n    },\n    state.currentTab\n  );\n};\n\nexport const getEditors = (state: EditorTabsState): Array<EditorTab> => {\n  return state.editors;\n};\n\nexport const getCurrentTabIndex = (state: EditorTabsState): number => {\n  return state.currentTab;\n};\n\nexport const getCurrentTab = (state: EditorTabsState): EditorTab => {\n  return state.editors[state.currentTab];\n};\n\nexport const closeProjectTabs = (\n  state: EditorTabsState,\n  project: ?gdProject\n) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editorProject =\n          editorTab.editorRef && editorTab.editorRef.getProject();\n        return !editorProject || editorProject !== project;\n      }),\n    },\n    state.currentTab\n  );\n};\n\n/*\n * Ask the editors to persist their UI settings\n * to the project.\n */\nexport const saveUiSettings = (state: EditorTabsState) => {\n  state.editors.forEach(editorTab => {\n    if (editorTab.editorRef && editorTab.editorRef.saveUiSettings) {\n      editorTab.editorRef.saveUiSettings();\n    }\n  });\n};\n\nexport const closeLayoutTabs = (state: EditorTabsState, layout: gdLayout) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editorLayout =\n          editorTab.editorRef && editorTab.editorRef.getLayout();\n        return !editorLayout || editorLayout !== layout;\n      }),\n    },\n    state.currentTab\n  );\n};\n\nexport const closeExternalLayoutTabs = (\n  state: EditorTabsState,\n  externalLayout: gdExternalLayout\n) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editor = editorTab.editorRef;\n\n        if (editor instanceof ExternalLayoutEditor) {\n          return (\n            !editor.getExternalLayout() ||\n            editor.getExternalLayout() !== externalLayout\n          );\n        }\n\n        return true;\n      }),\n    },\n    state.currentTab\n  );\n};\n\nexport const closeExternalEventsTabs = (\n  state: EditorTabsState,\n  externalEvents: gdExternalEvents\n) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editor = editorTab.editorRef;\n        if (editor instanceof ExternalEventsEditor) {\n          return (\n            !editor.getExternalEvents() ||\n            editor.getExternalEvents() !== externalEvents\n          );\n        }\n\n        return true;\n      }),\n    },\n    state.currentTab\n  );\n};\n\nexport const closeEventsFunctionsExtensionTabs = (\n  state: EditorTabsState,\n  eventsFunctionsExtension: gdEventsFunctionsExtension\n) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editor = editorTab.editorRef;\n        if (editor instanceof EventsFunctionsExtensionEditorWrapper) {\n          return (\n            !editor.getEventsFunctionsExtension() ||\n            editor.getEventsFunctionsExtension() !== eventsFunctionsExtension\n          );\n        }\n\n        return true;\n      }),\n    },\n    state.currentTab\n  );\n};\n\nexport const getEventsFunctionsExtensionEditor = (\n  state: EditorTabsState,\n  eventsFunctionsExtension: gdEventsFunctionsExtension\n): ?{| editor: EventsFunctionsExtensionEditorWrapper, tabIndex: number |} => {\n  for (let tabIndex = 0; tabIndex < state.editors.length; ++tabIndex) {\n    const editor = state.editors[tabIndex].editorRef;\n    if (\n      editor instanceof EventsFunctionsExtensionEditorWrapper &&\n      editor.getEventsFunctionsExtension() === eventsFunctionsExtension\n    ) {\n      return { editor, tabIndex };\n    }\n  }\n\n  return null;\n};\n","// @flow\nimport React, { Component, type Node } from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport findIndex from 'lodash/findIndex';\nimport {\n  SortableTreeWithoutDndContext,\n  getNodeAtPath,\n} from 'react-sortable-tree';\nimport { mapFor } from '../../Utils/MapFor';\nimport { getInitialSelection, isEventSelected } from '../SelectionHandler';\nimport EventsRenderingService from './EventsRenderingService';\nimport EventHeightsCache from './EventHeightsCache';\nimport classNames from 'classnames';\nimport { eventsTree, eventsTreeWithSearchResults, icon } from './ClassNames';\nimport {\n  type SelectionState,\n  type EventContext,\n  type InstructionsListContext,\n  type InstructionContext,\n  type ParameterContext,\n} from '../SelectionHandler';\nimport { type EventsScope } from '../EventsScope.flow';\nimport getObjectByName from '../../Utils/GetObjectByName';\nimport ObjectsRenderingService from '../../ObjectsRendering/ObjectsRenderingService';\n\n// Import default style of react-sortable-tree and the override made for EventsSheet.\nimport 'react-sortable-tree/style.css';\nimport './style.css';\n\nconst getThumbnail = ObjectsRenderingService.getThumbnail.bind(\n  ObjectsRenderingService\n);\n\nconst gd = global.gd;\n\nconst indentWidth = 22;\n\nconst styles = {\n  container: { flex: 1 },\n};\n\ntype EventsContainerProps = {|\n  eventsHeightsCache: EventHeightsCache,\n  event: gdBaseEvent,\n  leftIndentWidth: number,\n  disabled: boolean,\n  project: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  selection: SelectionState,\n  onAddNewInstruction: InstructionsListContext => void,\n  onPasteInstructions: InstructionsListContext => void,\n  onMoveToInstruction: (destinationContext: InstructionContext) => void,\n  onMoveToInstructionsList: (\n    destinationContext: InstructionsListContext\n  ) => void,\n  onInstructionClick: InstructionContext => void,\n  onInstructionDoubleClick: InstructionContext => void,\n  onInstructionContextMenu: (x: number, y: number, InstructionContext) => void,\n  onInstructionsListContextMenu: (\n    x: number,\n    y: number,\n    InstructionsListContext\n  ) => void,\n  onParameterClick: ParameterContext => void,\n\n  onEventClick: (eventContext: EventContext) => void,\n  onEventContextMenu: (x: number, y: number) => void,\n  onOpenExternalEvents: string => void,\n  onOpenLayout: string => void,\n  renderObjectThumbnail: string => Node,\n|};\n\n/**\n * The component containing an event.\n * It will report the rendered event height so that the EventsTree can\n * update accordingly.\n */\nclass EventContainer extends Component<EventsContainerProps, {||}> {\n  _container: ?any;\n  componentDidMount() {\n    const height = this._container ? this._container.offsetHeight : 0;\n    this.props.eventsHeightsCache.setEventHeight(this.props.event, height);\n  }\n\n  componentDidUpdate() {\n    const height = this._container ? this._container.offsetHeight : 0;\n    this.props.eventsHeightsCache.setEventHeight(this.props.event, height);\n  }\n\n  _onEventUpdated = () => {\n    this.forceUpdate();\n  };\n\n  _onEventContextMenu = (domEvent: any) => {\n    domEvent.preventDefault();\n    this.props.onEventContextMenu(domEvent.clientX, domEvent.clientY);\n  };\n\n  render() {\n    const { event, project, scope, disabled } = this.props;\n    const EventComponent = EventsRenderingService.getEventComponent(event);\n\n    return (\n      <div\n        ref={container => (this._container = container)}\n        onClick={this.props.onEventClick}\n        onContextMenu={this._onEventContextMenu}\n      >\n        {EventComponent && (\n          <EventComponent\n            project={project}\n            scope={scope}\n            event={event}\n            globalObjectsContainer={this.props.globalObjectsContainer}\n            objectsContainer={this.props.objectsContainer}\n            selected={isEventSelected(this.props.selection, event)}\n            selection={this.props.selection}\n            leftIndentWidth={this.props.leftIndentWidth}\n            onUpdate={this._onEventUpdated}\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onPasteInstructions={this.props.onPasteInstructions}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            onOpenExternalEvents={this.props.onOpenExternalEvents}\n            onOpenLayout={this.props.onOpenLayout}\n            disabled={\n              disabled /* Use disabled (not event.disabled) as it is true if a parent event is disabled*/\n            }\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nconst getNodeKey = ({ treeIndex }) => treeIndex;\n\nconst ThemableSortableTree = ({ muiTheme, className, ...otherProps }) => (\n  <SortableTreeWithoutDndContext\n    className={`${eventsTree} ${\n      muiTheme.eventsSheetRootClassName\n    } ${className}`}\n    {...otherProps}\n  />\n);\nconst SortableTree = muiThemeable()(ThemableSortableTree);\n\nconst noop = () => {};\n\ntype EventsTreeProps = {|\n  events: gdEventsList,\n  project: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  selection: SelectionState,\n  onAddNewInstruction: InstructionsListContext => void,\n  onPasteInstructions: InstructionsListContext => void,\n  onMoveToInstruction: (destinationContext: InstructionContext) => void,\n  onMoveToInstructionsList: (\n    destinationContext: InstructionsListContext\n  ) => void,\n  onInstructionClick: InstructionContext => void,\n  onInstructionDoubleClick: InstructionContext => void,\n  onInstructionContextMenu: (x: number, y: number, InstructionContext) => void,\n  onInstructionsListContextMenu: (\n    x: number,\n    y: number,\n    InstructionsListContext\n  ) => void,\n  onParameterClick: ParameterContext => void,\n\n  onEventClick: (eventContext: EventContext) => void,\n  onEventContextMenu: (\n    x: number,\n    y: number,\n    eventContext: EventContext\n  ) => void,\n  onAddNewEvent: (eventContext: EventContext) => void,\n  onOpenExternalEvents: string => void,\n  onOpenLayout: string => void,\n  showObjectThumbnails: boolean,\n\n  searchResults: ?Array<gdBaseEvent>,\n  searchFocusOffset: ?number,\n\n  onEventMoved: () => void,\n|};\n\ntype SortableTreeNode = {\n  eventsList: gdEventsList,\n  event: gdBaseEvent,\n  depth: number,\n  disabled: boolean,\n  isCondition: boolean,\n  indexInList: number,\n};\n\n/**\n * Display a tree of event. Builtin on react-sortable-tree so that event\n * can be drag'n'dropped and events rows are virtualized.\n */\nexport default class ThemableEventsTree extends Component<EventsTreeProps, *> {\n  static defaultProps = {\n    selection: getInitialSelection(),\n  };\n  _list: ?any;\n  eventsHeightsCache: EventHeightsCache;\n\n  constructor(props: EventsTreeProps) {\n    super(props);\n\n    this.eventsHeightsCache = new EventHeightsCache(this);\n    this.state = {\n      ...this._eventsToTreeData(props.events),\n    };\n  }\n\n  componentDidMount() {\n    this.onHeightsChanged();\n  }\n\n  /**\n   * Should be called whenever an event height has changed\n   */\n  onHeightsChanged(cb: ?() => void) {\n    this.forceUpdate(() => {\n      if (this._list && this._list.wrappedInstance.current) {\n        this._list.wrappedInstance.current.recomputeRowHeights();\n      }\n      if (cb) cb();\n    });\n  }\n\n  /**\n   * Should be called whenever events changed (new event...)\n   * from outside this component.\n   */\n  forceEventsUpdate(cb: ?() => void) {\n    this.setState(this._eventsToTreeData(this.props.events), () => {\n      if (this._list && this._list.wrappedInstance.current) {\n        this._list.wrappedInstance.current.recomputeRowHeights();\n      }\n      if (cb) cb();\n    });\n  }\n\n  scrollToEvent(event: gdBaseEvent) {\n    const row = this._getEventRow(event);\n    if (row !== -1) {\n      if (this._list && this._list.wrappedInstance.current) {\n        this._list.wrappedInstance.current.scrollToRow(row);\n      }\n    }\n  }\n\n  /**\n   * Unfold events so that the given one is visible\n   */\n  unfoldForEvent(event: gdBaseEvent) {\n    gd.EventsListUnfolder.unfoldWhenContaining(this.props.events, event);\n    this.forceEventsUpdate();\n  }\n\n  _getEventRow(searchedEvent: gdBaseEvent) {\n    // TODO: flatData could be replaced by a hashmap of events to row index\n    return findIndex(\n      this.state.flatData,\n      event => event.ptr === searchedEvent.ptr\n    );\n  }\n\n  _eventsToTreeData = (\n    eventsList: gdEventsList,\n    flatData: Array<gdBaseEvent> = [],\n    depth: number = 0,\n    parentDisabled: boolean = false\n  ) => {\n    const treeData = mapFor<any>(0, eventsList.getEventsCount(), i => {\n      const event = eventsList.getEventAt(i);\n      flatData.push(event);\n\n      const disabled = parentDisabled || event.isDisabled();\n\n      return {\n        title: this._renderEvent,\n        event,\n        eventsList,\n        indexInList: i,\n        expanded: !event.isFolded(),\n        disabled,\n        depth,\n        key: event.ptr, //TODO: useless?\n        children: this._eventsToTreeData(\n          event.getSubEvents(),\n          // flatData is a flat representation of events, one for each line.\n          // Hence it should not contain the folded events.\n          !event.isFolded() ? flatData : [],\n          depth + 1,\n          disabled\n        ).treeData,\n      };\n    });\n\n    return {\n      treeData,\n      flatData,\n    };\n  };\n\n  _onMoveNode = ({\n    treeData,\n    path,\n    node,\n  }: {\n    treeData: any,\n    path: Array<any>,\n    node: SortableTreeNode,\n  }) => {\n    // Get the event list where the event should be moved to.\n    const targetPath = path.slice(0, -1);\n    const target = getNodeAtPath({\n      getNodeKey,\n      treeData: treeData,\n      path: targetPath,\n    });\n    const targetNode = target.node;\n    const targetEventsList =\n      targetNode && targetNode.event\n        ? targetNode.event.getSubEvents()\n        : this.props.events;\n    const targetPosition =\n      targetNode && targetNode.children ? targetNode.children.indexOf(node) : 0;\n\n    // Get the moved event and its list from the moved node.\n    const { event, eventsList } = node;\n\n    // Do the move\n    const newEvent = event.clone();\n    eventsList.removeEvent(event);\n    targetEventsList.insertEvent(newEvent, targetPosition);\n    newEvent.delete();\n\n    this.forceEventsUpdate();\n    this.props.onEventMoved();\n  };\n\n  _canDrop = ({ nextParent }: { nextParent: ?SortableTreeNode }) => {\n    if (nextParent && nextParent.event)\n      return nextParent.event.canHaveSubEvents();\n\n    return true;\n  };\n\n  _onVisibilityToggle = ({ node }: { node: SortableTreeNode }) => {\n    const { event } = node;\n\n    event.setFolded(!event.isFolded());\n    this.forceEventsUpdate();\n  };\n\n  _renderObjectThumbnail = (objectName: string) => {\n    const { project, scope, showObjectThumbnails } = this.props;\n    if (!showObjectThumbnails) return null;\n\n    const object = getObjectByName(project, scope.layout, objectName);\n    if (!object) return null;\n\n    return (\n      <img\n        className={classNames({\n          [icon]: true,\n        })}\n        alt=\"\"\n        src={getThumbnail(project, object)}\n      />\n    );\n  };\n\n  _renderEvent = ({ node }: { node: SortableTreeNode }) => {\n    const { event, depth, disabled } = node;\n\n    return (\n      <EventContainer\n        project={this.props.project}\n        scope={this.props.scope}\n        globalObjectsContainer={this.props.globalObjectsContainer}\n        objectsContainer={this.props.objectsContainer}\n        event={event}\n        key={event.ptr}\n        eventsHeightsCache={this.eventsHeightsCache}\n        selection={this.props.selection}\n        leftIndentWidth={depth * indentWidth}\n        onAddNewInstruction={this.props.onAddNewInstruction}\n        onPasteInstructions={this.props.onPasteInstructions}\n        onMoveToInstruction={this.props.onMoveToInstruction}\n        onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n        onInstructionClick={this.props.onInstructionClick}\n        onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n        onParameterClick={this.props.onParameterClick}\n        onEventClick={() =>\n          this.props.onEventClick({\n            eventsList: node.eventsList,\n            event: node.event,\n            indexInList: node.indexInList,\n            isCondition: node.isCondition,\n          })\n        }\n        onEventContextMenu={(x, y) =>\n          this.props.onEventContextMenu(x, y, {\n            eventsList: node.eventsList,\n            event: node.event,\n            indexInList: node.indexInList,\n            isCondition: node.isCondition,\n          })\n        }\n        onInstructionContextMenu={this.props.onInstructionContextMenu}\n        onInstructionsListContextMenu={this.props.onInstructionsListContextMenu}\n        onOpenExternalEvents={this.props.onOpenExternalEvents}\n        onOpenLayout={this.props.onOpenLayout}\n        disabled={\n          disabled /* Use node.disabled (not event.disabled) as it is true if a parent event is disabled*/\n        }\n        renderObjectThumbnail={this._renderObjectThumbnail}\n      />\n    );\n  };\n\n  _treeSearchMethod = ({\n    node,\n    searchQuery,\n  }: {\n    node: SortableTreeNode,\n    searchQuery: ?Array<gdBaseEvent>,\n  }) => {\n    const searchResults = searchQuery;\n    if (!searchResults) return false;\n    const { event } = node;\n\n    return searchResults.find(highlightedEvent =>\n      gd.compare(highlightedEvent, event)\n    );\n  };\n\n  render() {\n    // react-sortable-tree does the rendering by transforming treeData\n    // into a flat array, the result being memoized. This hack forces\n    // a re-rendering of events, by discarding the memoized flat array\n    // (otherwise, no re-rendering would be done).\n    const treeData = this.state.treeData ? [...this.state.treeData] : null;\n\n    return (\n      <div style={styles.container}>\n        <SortableTree\n          treeData={treeData}\n          scaffoldBlockPxWidth={indentWidth}\n          onChange={noop}\n          onVisibilityToggle={this._onVisibilityToggle}\n          onMoveNode={this._onMoveNode}\n          canDrop={this._canDrop}\n          rowHeight={({ node }: { node: SortableTreeNode }) => {\n            if (!node.event) return 0;\n\n            return this.eventsHeightsCache.getEventHeight(node.event);\n          }}\n          searchMethod={this._treeSearchMethod}\n          searchQuery={this.props.searchResults}\n          searchFocusOffset={this.props.searchFocusOffset}\n          className={\n            this.props.searchResults ? eventsTreeWithSearchResults : ''\n          }\n          reactVirtualizedListProps={{\n            ref: list => (this._list = list),\n          }}\n        />\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport InstructionsList from '../InstructionsList';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  executableEventContainer,\n} from '../ClassNames';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n  },\n  actionsList: {\n    flex: 1,\n  },\n};\n\nexport default class StandardEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  render() {\n    var standardEvent = gd.asStandardEvent(this.props.event);\n\n    const conditionsListSyle = {\n      width: `calc(35vw - ${this.props.leftIndentWidth}px)`,\n    };\n\n    return (\n      <div\n        style={styles.container}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n          [executableEventContainer]: true,\n        })}\n      >\n        <InstructionsList\n          instrsList={standardEvent.getConditions()}\n          style={conditionsListSyle}\n          selection={this.props.selection}\n          areConditions\n          onAddNewInstruction={this.props.onAddNewInstruction}\n          onPasteInstructions={this.props.onPasteInstructions}\n          onMoveToInstruction={this.props.onMoveToInstruction}\n          onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n          onInstructionClick={this.props.onInstructionClick}\n          onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n          onInstructionContextMenu={this.props.onInstructionContextMenu}\n          onInstructionsListContextMenu={\n            this.props.onInstructionsListContextMenu\n          }\n          onParameterClick={this.props.onParameterClick}\n          disabled={this.props.disabled}\n          renderObjectThumbnail={this.props.renderObjectThumbnail}\n        />\n        <InstructionsList\n          instrsList={standardEvent.getActions()}\n          style={\n            {\n              ...styles.actionsList,\n            } /* TODO: Use a new object to force update - somehow updates are not always propagated otherwise */\n          }\n          selection={this.props.selection}\n          areConditions={false}\n          onAddNewInstruction={this.props.onAddNewInstruction}\n          onPasteInstructions={this.props.onPasteInstructions}\n          onMoveToInstruction={this.props.onMoveToInstruction}\n          onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n          onInstructionClick={this.props.onInstructionClick}\n          onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n          onInstructionContextMenu={this.props.onInstructionContextMenu}\n          onInstructionsListContextMenu={\n            this.props.onInstructionsListContextMenu\n          }\n          onParameterClick={this.props.onParameterClick}\n          disabled={this.props.disabled}\n          renderObjectThumbnail={this.props.renderObjectThumbnail}\n        />\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { mapFor } from '../../Utils/MapFor';\nimport classNames from 'classnames';\nimport {\n  selectedArea,\n  selectableArea,\n  subInstructionsContainer,\n  instructionParameter,\n  disabledText,\n  icon,\n} from './ClassNames';\nimport {\n  type InstructionsListContext,\n  type InstructionContext,\n} from '../SelectionHandler';\nimport InstructionsList from './InstructionsList';\nimport {\n  DragSource,\n  type DragSourceMonitor,\n  type DragSourceConnector,\n  type ConnectDragSource,\n  DropTarget,\n  type DropTargetMonitor,\n  type DropTargetConnector,\n  type ConnectDropTarget,\n} from 'react-dnd';\nimport DropIndicator from './DropIndicator';\nimport ParameterRenderingService from '../ParameterRenderingService';\nimport InvalidParameterValue from './InvalidParameterValue';\nconst gd = global.gd;\nconst instrFormatter = gd.InstructionSentenceFormatter.get();\ninstrFormatter.loadTypesFormattingFromConfig();\n\nconst styles = {\n  container: {\n    whiteSpace: 'normal',\n    wordWrap: 'break-word',\n    cursor: 'pointer',\n    marginBottom: 1,\n  },\n};\n\ntype DragSourceProps = {|\n  connectDragSource: ConnectDragSource,\n|};\n\ntype DropTargetProps = {|\n  connectDropTarget: ConnectDropTarget,\n  isOver: boolean,\n  canDrop: boolean,\n|};\n\ntype Props = {|\n  instruction: gdInstruction,\n  isCondition: boolean,\n  onClick: Function,\n  selected: boolean,\n  disabled: boolean,\n  onDoubleClick: () => void,\n  onContextMenu: (x: number, y: number) => void,\n  onMoveToInstruction: () => void,\n\n  ...DragSourceProps,\n  ...DropTargetProps,\n\n  // For potential sub-instructions list:\n  selection: Object,\n  onAddNewSubInstruction: InstructionsListContext => void,\n  onPasteSubInstructions: InstructionsListContext => void,\n  onMoveToSubInstruction: (destinationContext: InstructionContext) => void,\n  onMoveToSubInstructionsList: (\n    destinationContext: InstructionsListContext\n  ) => void,\n  onSubInstructionClick: InstructionContext => void,\n  onSubInstructionDoubleClick: InstructionContext => void,\n  onSubInstructionsListContextMenu: (\n    x: number,\n    y: number,\n    instructionsListContext: InstructionsListContext\n  ) => void,\n  onSubParameterClick: Function,\n  onSubInstructionContextMenu: (\n    x: number,\n    y: number,\n    instructionContext: InstructionContext\n  ) => void,\n  onParameterClick: (event: any, parameterIndex: number) => void,\n  renderObjectThumbnail: string => React.Node,\n|};\n\nclass Instruction extends React.Component<Props, *> {\n  /**\n   * Render the different parts of the text of the instruction.\n   * Parameter can have formatting, be hovered and clicked. The rest\n   * has not particular styling.\n   */\n  _renderInstructionText = (metadata: gdInstructionMetadata) => {\n    const { instruction, disabled, renderObjectThumbnail } = this.props;\n    const formattedTexts = instrFormatter.getAsFormattedText(\n      instruction,\n      metadata\n    );\n    const parametersCount = metadata.getParametersCount();\n\n    return (\n      <span\n        className={classNames({\n          [disabledText]: disabled,\n        })}\n      >\n        {mapFor(0, formattedTexts.size(), i => {\n          const formatting = formattedTexts.getTextFormatting(i);\n          const parameterIndex = formatting.getUserData();\n          const isParameter =\n            parameterIndex >= 0 && parameterIndex < parametersCount;\n\n          if (!isParameter)\n            return <span key={i}>{formattedTexts.getString(i)}</span>;\n\n          const parameterMetadata = metadata.getParameter(parameterIndex);\n          const parameterType = parameterMetadata.getType();\n          return (\n            <span\n              key={i}\n              className={classNames({\n                [selectableArea]: true,\n                [instructionParameter]: true,\n                [parameterType]: true,\n              })}\n              onClick={domEvent =>\n                this.props.onParameterClick(domEvent, parameterIndex)\n              }\n            >\n              {ParameterRenderingService.renderInlineParameter({\n                value: formattedTexts.getString(i),\n                parameterMetadata,\n                renderObjectThumbnail,\n                InvalidParameterValue,\n              })}\n            </span>\n          );\n        })}\n      </span>\n    );\n  };\n\n  render() {\n    const { instruction, isCondition } = this.props;\n    const {\n      connectDragSource,\n      connectDropTarget,\n      isOver,\n      canDrop,\n    } = this.props;\n\n    //TODO: Metadata could be cached for performance boost.\n    const metadata = isCondition\n      ? gd.MetadataProvider.getConditionMetadata(\n          gd.JsPlatform.get(),\n          instruction.getType()\n        )\n      : gd.MetadataProvider.getActionMetadata(\n          gd.JsPlatform.get(),\n          instruction.getType()\n        );\n\n    const instructionDiv = connectDropTarget(\n      // $FlowFixMe\n      connectDragSource(\n        <div\n          style={styles.container}\n          className={classNames({\n            [selectableArea]: true,\n            [selectedArea]: this.props.selected,\n          })}\n          onClick={e => {\n            e.stopPropagation();\n            this.props.onClick();\n          }}\n          onDoubleClick={e => {\n            e.stopPropagation();\n            this.props.onDoubleClick();\n          }}\n          onContextMenu={e => {\n            e.stopPropagation();\n            this.props.onContextMenu(e.clientX, e.clientY);\n          }}\n        >\n          {instruction.isInverted() && (\n            <img\n              className={classNames({\n                [icon]: true,\n              })}\n              src=\"res/contraire.png\"\n              alt=\"Condition is negated\"\n            />\n          )}\n          <img\n            className={classNames({\n              [icon]: true,\n            })}\n            src={metadata.getSmallIconFilename()}\n            alt=\"\"\n          />\n          {this._renderInstructionText(metadata)}\n          {metadata.canHaveSubInstructions() && (\n            <InstructionsList\n              style={\n                {} /* TODO: Use a new object to force update - somehow updates are not always propagated otherwise */\n              }\n              extraClassName={subInstructionsContainer}\n              instrsList={instruction.getSubInstructions()}\n              areConditions={this.props.isCondition}\n              selection={this.props.selection}\n              onAddNewInstruction={this.props.onAddNewSubInstruction}\n              onPasteInstructions={this.props.onPasteSubInstructions}\n              onMoveToInstruction={this.props.onMoveToSubInstruction}\n              onMoveToInstructionsList={this.props.onMoveToSubInstructionsList}\n              onInstructionClick={this.props.onSubInstructionClick}\n              onInstructionDoubleClick={this.props.onSubInstructionDoubleClick}\n              onInstructionContextMenu={this.props.onSubInstructionContextMenu}\n              onInstructionsListContextMenu={\n                this.props.onSubInstructionsListContextMenu\n              }\n              onParameterClick={this.props.onSubParameterClick}\n              addButtonLabel={<Trans>Add a sub-condition</Trans>}\n              disabled={this.props.disabled}\n              renderObjectThumbnail={this.props.renderObjectThumbnail}\n            />\n          )}\n        </div>\n      )\n    );\n\n    return isOver ? (\n      <React.Fragment>\n        <DropIndicator canDrop={canDrop} />\n        {instructionDiv}\n      </React.Fragment>\n    ) : (\n      instructionDiv || null\n    );\n  }\n}\n\n// Drag'n'drop support:\n\nexport const reactDndInstructionType = 'GD_DRAGGED_INSTRUCTION';\n\ntype InstructionSourceProps = {\n  onClick: () => void,\n  isCondition: boolean,\n};\n\nconst instructionSource = {\n  beginDrag(props: InstructionSourceProps) {\n    props.onClick(); // Select the dragged instruction\n    return {\n      // No need to save here what is being dragged,\n      // as its the entire selection that is considered to be dragged.\n      isCondition: props.isCondition,\n    };\n  },\n};\n\nfunction sourceCollect(\n  connect: DragSourceConnector,\n  monitor: DragSourceMonitor\n): DragSourceProps {\n  return {\n    connectDragSource: connect.dragSource(),\n  };\n}\n\nconst instructionTarget = {\n  canDrop(props: Props, monitor: DropTargetMonitor) {\n    return (\n      monitor.getItem() && monitor.getItem().isCondition === props.isCondition\n    );\n  },\n  drop(props: Props, monitor: DropTargetMonitor) {\n    if (monitor.didDrop()) {\n      return; // Drop already handled by a subinstruction\n    }\n    props.onMoveToInstruction();\n  },\n};\n\nfunction targetCollect(\n  connect: DropTargetConnector,\n  monitor: DropTargetMonitor\n): DropTargetProps {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n  };\n}\n\n// $FlowFixMe - Typing of DragSource/DropTarget is a pain to get correctly\nexport default DragSource(\n  reactDndInstructionType,\n  instructionSource,\n  sourceCollect\n)(\n  DropTarget(reactDndInstructionType, instructionTarget, targetCollect)(\n    Instruction\n  )\n);\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nexport default class RelationalOperatorField extends Component {\n  focus() {\n    if (this._field && this._field.focus) this._field.focus();\n  }\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <SelectField\n        fullWidth\n        floatingLabelText={description}\n        value={this.props.value}\n        onChange={(e, i, value) => this.props.onChange(value)}\n        ref={field => (this._field = field)}\n      >\n        <MenuItem value=\"=\" primaryText={<Trans>= (equal to)</Trans>} />\n        <MenuItem value=\"<\" primaryText={<Trans>&lt; (less than)</Trans>} />\n        <MenuItem value=\">\" primaryText={<Trans>&gt; (greater than)</Trans>} />\n        <MenuItem\n          value=\"<=\"\n          primaryText={<Trans>&le; (less or equal to)</Trans>}\n        />\n        <MenuItem\n          value=\">=\"\n          primaryText={<Trans>&ge; (greater or equal to)</Trans>}\n        />\n        <MenuItem value=\"!=\" primaryText={<Trans>&ne; (not equal to)</Trans>} />\n      </SelectField>\n    );\n  }\n}\n\nexport const renderInlineRelationalOperator = ({\n  value,\n}: ParameterInlineRendererProps) => {\n  if (value === '<=') return '\\u2264';\n  if (value === '>=') return '\\u2265';\n  else if (value === '!=') return '\\u2260';\n\n  return value;\n};\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nexport default class OperatorField extends Component {\n  focus() {\n    if (this._field && this._field.focus) this._field.focus();\n  }\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <SelectField\n        fullWidth\n        floatingLabelText={description}\n        value={this.props.value}\n        onChange={(e, i, value) => this.props.onChange(value)}\n        ref={field => (this._field = field)}\n      >\n        <MenuItem value=\"=\" primaryText={<Trans>= (set to)</Trans>} />\n        <MenuItem value=\"+\" primaryText={<Trans>+ (add)</Trans>} />\n        <MenuItem value=\"-\" primaryText={<Trans>- (subtract)</Trans>} />\n        <MenuItem value=\"*\" primaryText={<Trans>* (multiply by)</Trans>} />\n        <MenuItem value=\"/\" primaryText={<Trans>/ (divide by)</Trans>} />\n      </SelectField>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nexport default class RelationalOperatorField extends Component {\n  focus() {}\n\n  render() {\n    const { parameterMetadata, value } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <SelectField\n        fullWidth\n        floatingLabelText={description}\n        value={value}\n        ref={field => (this._field = field)}\n        onChange={(e, i, value) => this.props.onChange(value)}\n        errorText={value ? undefined : <Trans>You must select a button</Trans>}\n      >\n        <MenuItem value=\"Left\" primaryText={<Trans>Left (primary)</Trans>} />\n        <MenuItem\n          value=\"Right\"\n          primaryText={<Trans>Right (secondary)</Trans>}\n        />\n        <MenuItem\n          value=\"Middle\"\n          primaryText={\n            <Trans>Middle (Auxiliary button, usually the wheel button)</Trans>\n          }\n        />\n        {/* TODO: Add support for these buttons in the game engine\n         <MenuItem\n          value=\"XButton1\"\n          primaryText={<Trans>Special button #1</Trans>}\n        />\n        <MenuItem\n          value=\"XButton2\"\n          primaryText={<Trans>Special button #2</Trans>}\n        /> */}\n      </SelectField>\n    );\n  }\n}\n\nexport const renderInlineMouse = ({\n  value,\n  InvalidParameterValue,\n}: ParameterInlineRendererProps) => {\n  return value ? (\n    value\n  ) : (\n    <InvalidParameterValue isEmpty>\n      <Trans>Choose a mouse button</Trans>\n    </InvalidParameterValue>\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport React, { Component } from 'react';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport SemiControlledAutoComplete from '../../UI/SemiControlledAutoComplete';\n\nconst keyNames = [\n  'Num0',\n  'Num1',\n  'Num2',\n  'Num3',\n  'Num4',\n  'Num5',\n  'Num6',\n  'Num7',\n  'Num8',\n  'Num9',\n  'a',\n  'b',\n  'c',\n  'd',\n  'e',\n  'f',\n  'g',\n  'h',\n  'i',\n  'j',\n  'k',\n  'l',\n  'm',\n  'n',\n  'o',\n  'p',\n  'q',\n  'r',\n  's',\n  't',\n  'u',\n  'v',\n  'w',\n  'x',\n  'y',\n  'z',\n  'LBracket',\n  'RBracket',\n  'SemiColon',\n  'Numpad0',\n  'Numpad1',\n  'Numpad2',\n  'Numpad3',\n  'Numpad4',\n  'Numpad5',\n  'Numpad6',\n  'Numpad7',\n  'Numpad8',\n  'Numpad9',\n  'Escape',\n  'Space',\n  'Return',\n  'Back',\n  'Tab',\n  'PageUp',\n  'PageDown',\n  'End',\n  'Home',\n  'Insert',\n  'Delete',\n  'Add',\n  'Subtract',\n  'Multiply',\n  'Divide',\n  'Left',\n  'Right',\n  'Up',\n  'Down',\n  'F1',\n  'F2',\n  'F3',\n  'F4',\n  'F5',\n  'F6',\n  'F7',\n  'F8',\n  'F9',\n  'F10',\n  'F11',\n  'F12',\n  'Pause',\n  'RControl',\n  'LControl',\n  'RAlt',\n  'LAlt',\n  'RShift',\n  'LShift',\n];\n\nconst isKeyValid = (key: string) => keyNames.indexOf(key) !== -1;\n\nexport default class KeyField extends Component<ParameterFieldProps, {||}> {\n  _field: ?any;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { value, onChange, isInline, parameterMetadata } = this.props;\n\n    return (\n      <SemiControlledAutoComplete\n        floatingLabelText={\n          parameterMetadata ? parameterMetadata.getDescription() : undefined\n        }\n        value={value}\n        onChange={onChange}\n        dataSource={keyNames.map(keyName => ({\n          text: keyName,\n          value: keyName,\n        }))}\n        openOnFocus={!isInline}\n        ref={field => (this._field = field)}\n        errorText={\n          !value ? (\n            <Trans>You must select a key.</Trans>\n          ) : !isKeyValid(value) ? (\n            <Trans>You must select a valid key. \"{value}\" is not valid.</Trans>\n          ) : (\n            undefined\n          )\n        }\n      />\n    );\n  }\n}\n\nexport const renderInlineKey = ({\n  value,\n  InvalidParameterValue,\n}: ParameterInlineRendererProps) => {\n  if (!value) {\n    return (\n      <InvalidParameterValue isEmpty>\n        <Trans>Choose a key</Trans>\n      </InvalidParameterValue>\n    );\n  }\n\n  return isKeyValid(value) ? (\n    value\n  ) : (\n    <InvalidParameterValue>{value}</InvalidParameterValue>\n  );\n};\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\n\n/**\n * Objects with an unknown type are rendered with a placeholder rectangle.\n *\n * @extends RenderedInstance\n * @class RenderedUnknownInstance\n * @constructor\n */\nfunction RenderedUnknownInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  //This renderer show a placeholder for the object:\n  this._pixiObject = new PIXI.Graphics();\n  this._pixiContainer.addChild(this._pixiObject);\n\n  var width = instance.hasCustomSize() ? instance.getCustomWidth() : 32;\n  var height = instance.hasCustomSize() ? instance.getCustomHeight() : 32;\n\n  this._pixiObject.beginFill(0x0033ff);\n  this._pixiObject.lineStyle(1, 0xffd900, 1);\n  this._pixiObject.moveTo(0, 0);\n  this._pixiObject.lineTo(width, 0);\n  this._pixiObject.lineTo(width, height);\n  this._pixiObject.lineTo(0, height);\n  this._pixiObject.endFill();\n}\nRenderedUnknownInstance.prototype = Object.create(RenderedInstance.prototype);\nRenderedUnknownInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  return 'res/unknown32.png';\n};\n\nRenderedUnknownInstance.prototype.update = function() {\n  this._pixiObject.position.x = this._instance.getX();\n  this._pixiObject.position.y = this._instance.getY();\n  this._pixiObject.rotation = (this._instance.getAngle() * Math.PI) / 180.0;\n};\n\nexport default RenderedUnknownInstance;\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * Renderer for gd.SpriteObject\n *\n * @extends RenderedInstance\n * @class RenderedSpriteInstance\n * @constructor\n */\nfunction RenderedSpriteInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  this._renderedAnimation = 0;\n  this._renderedDirection = 0;\n  this._centerX = 0;\n  this._centerY = 0;\n  this._originX = 0;\n  this._originY = 0;\n\n  //Setup the PIXI object:\n  this._pixiObject = new PIXI.Sprite(\n    this._pixiResourcesLoader.getInvalidPIXITexture()\n  );\n  this._pixiContainer.addChild(this._pixiObject);\n  this.updatePIXITexture();\n  this.updatePIXISprite();\n}\nRenderedSpriteInstance.prototype = Object.create(RenderedInstance.prototype);\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedSpriteInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  const spriteObject = gd.asSpriteObject(object);\n\n  if (\n    spriteObject.getAnimationsCount() > 0 &&\n    spriteObject.getAnimation(0).getDirectionsCount() > 0 &&\n    spriteObject\n      .getAnimation(0)\n      .getDirection(0)\n      .getSpritesCount() > 0\n  ) {\n    const imageName = spriteObject\n      .getAnimation(0)\n      .getDirection(0)\n      .getSprite(0)\n      .getImageName();\n    return resourcesLoader.getResourceFullUrl(project, imageName);\n  }\n\n  return 'res/unknown32.png';\n};\n\nRenderedSpriteInstance.prototype.updatePIXISprite = function() {\n  this._pixiObject.anchor.x =\n    this._centerX / this._pixiObject.texture.frame.width;\n  this._pixiObject.anchor.y =\n    this._centerY / this._pixiObject.texture.frame.height;\n  this._pixiObject.rotation = this._shouldNotRotate\n    ? 0\n    : RenderedInstance.toRad(this._instance.getAngle());\n  if (this._instance.hasCustomSize()) {\n    this._pixiObject.scale.x =\n      this._instance.getCustomWidth() / this._pixiObject.texture.frame.width;\n    this._pixiObject.scale.y =\n      this._instance.getCustomHeight() / this._pixiObject.texture.frame.height;\n  } else {\n    this._pixiObject.scale.x = 1;\n    this._pixiObject.scale.y = 1;\n  }\n  this._pixiObject.position.x =\n    this._instance.getX() +\n    (this._centerX - this._originX) * Math.abs(this._pixiObject.scale.x);\n  this._pixiObject.position.y =\n    this._instance.getY() +\n    (this._centerY - this._originY) * Math.abs(this._pixiObject.scale.y);\n};\n\nRenderedSpriteInstance.prototype.updateSprite = function() {\n  this._sprite = null;\n  this._shouldNotRotate = false;\n\n  const spriteObject = gd.asSpriteObject(this._associatedObject);\n  if (spriteObject.hasNoAnimations()) return false;\n\n  this._renderedAnimation = this._instance.getRawFloatProperty('animation');\n  if (this._renderedAnimation >= spriteObject.getAnimationsCount())\n    this._renderedAnimation = 0;\n\n  const animation = spriteObject.getAnimation(this._renderedAnimation);\n  if (animation.hasNoDirections()) return false;\n\n  this._renderedDirection = 0;\n  if (animation.useMultipleDirections()) {\n    let normalizedAngle = Math.floor(this._instance.getAngle()) % 360;\n    if (normalizedAngle < 0) normalizedAngle += 360;\n\n    this._renderedDirection = Math.round(normalizedAngle / 45) % 8;\n  }\n\n  if (this._renderedDirection >= animation.getDirectionsCount())\n    this._renderedDirection = 0;\n\n  const direction = animation.getDirection(this._renderedDirection);\n\n  if (direction.getSpritesCount() === 0) return false;\n\n  this._shouldNotRotate = animation.useMultipleDirections();\n  this._sprite = direction.getSprite(0);\n  return true;\n};\n\nRenderedSpriteInstance.prototype.updatePIXITexture = function() {\n  this.updateSprite();\n  if (!this._sprite) return;\n\n  this._pixiObject.texture = this._pixiResourcesLoader.getPIXITexture(\n    this._project,\n    this._sprite.getImageName()\n  );\n\n  const origin = this._sprite.getOrigin();\n  this._originX = origin.getX();\n  this._originY = origin.getY();\n\n  if (this._sprite.isDefaultCenterPoint()) {\n    if (this._pixiObject.texture.noFrame) {\n      var that = this;\n      // We might have to wait for the texture to load\n      this._pixiObject.texture.on('update', function() {\n        that._centerX = that._pixiObject.texture.width / 2;\n        that._centerY = that._pixiObject.texture.height / 2;\n        that._pixiObject.texture.off('update', this);\n      });\n    } else {\n      this._centerX = this._pixiObject.texture.width / 2;\n      this._centerY = this._pixiObject.texture.height / 2;\n    }\n  } else {\n    const center = this._sprite.getCenter();\n    this._centerX = center.getX();\n    this._centerY = center.getY();\n  }\n};\n\nRenderedSpriteInstance.prototype.update = function() {\n  const animation = this._instance.getRawFloatProperty('animation');\n  if (this._renderedAnimation !== animation) this.updatePIXITexture();\n\n  this.updatePIXISprite();\n};\n\nRenderedSpriteInstance.prototype.getOriginX = function() {\n  if (!this._sprite || !this._pixiObject) return 0;\n\n  return this._sprite.getOrigin().getX() * this._pixiObject.scale.x;\n};\n\nRenderedSpriteInstance.prototype.getOriginY = function() {\n  if (!this._sprite || !this._pixiObject) return 0;\n\n  return this._sprite.getOrigin().getY() * this._pixiObject.scale.y;\n};\n\nRenderedSpriteInstance.prototype.getDefaultWidth = function() {\n  return Math.abs(this._pixiObject.width);\n};\n\nRenderedSpriteInstance.prototype.getDefaultHeight = function() {\n  return Math.abs(this._pixiObject.height);\n};\n\nexport default RenderedSpriteInstance;\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * Renderer for gd.TiledSpriteObject\n *\n * @extends RenderedInstance\n * @class RenderedTiledSpriteInstance\n * @constructor\n */\nfunction RenderedTiledSpriteInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  //Setup the PIXI object:\n  var tiledSprite = gd.asTiledSpriteObject(associatedObject);\n  this._texture = tiledSprite.getTexture();\n  this._pixiObject = new PIXI.extras.TilingSprite(\n    this._pixiResourcesLoader.getPIXITexture(project, tiledSprite.getTexture()),\n    tiledSprite.getWidth(),\n    tiledSprite.getHeight()\n  );\n  this._pixiObject.anchor.x = 0.5;\n  this._pixiObject.anchor.y = 0.5;\n  this._pixiContainer.addChild(this._pixiObject);\n}\nRenderedTiledSpriteInstance.prototype = Object.create(\n  RenderedInstance.prototype\n);\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedTiledSpriteInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  var tiledSprite = gd.asTiledSpriteObject(object);\n\n  return resourcesLoader.getResourceFullUrl(project, tiledSprite.getTexture());\n};\n\nRenderedTiledSpriteInstance.prototype.update = function() {\n  var tiledSprite = gd.asTiledSpriteObject(this._associatedObject);\n  if (this._instance.hasCustomSize()) {\n    this._pixiObject.width = this._instance.getCustomWidth();\n    this._pixiObject.height = this._instance.getCustomHeight();\n  } else {\n    this._pixiObject.width = tiledSprite.getWidth();\n    this._pixiObject.height = tiledSprite.getHeight();\n  }\n\n  if (this._texture !== tiledSprite.getTexture()) {\n    this._texture = tiledSprite.getTexture();\n    this._pixiObject.texture = this._pixiResourcesLoader.getPIXITexture(\n      this._project,\n      tiledSprite.getTexture()\n    );\n  }\n\n  this._pixiObject.x = this._instance.getX() + this._pixiObject.width / 2;\n  this._pixiObject.y = this._instance.getY() + this._pixiObject.height / 2;\n  this._pixiObject.rotation = RenderedInstance.toRad(this._instance.getAngle());\n};\n\nRenderedTiledSpriteInstance.prototype.getDefaultWidth = function() {\n  var tiledSprite = gd.asTiledSpriteObject(this._associatedObject);\n  return tiledSprite.getWidth();\n};\n\nRenderedTiledSpriteInstance.prototype.getDefaultHeight = function() {\n  var tiledSprite = gd.asTiledSpriteObject(this._associatedObject);\n  return tiledSprite.getHeight();\n};\n\nexport default RenderedTiledSpriteInstance;\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * Renderer for gd.PanelSpriteObject\n *\n * Heavily inspired from the GDJS PIXI renderer for PanelSprite objects.\n * TODO: Find a way to factor GDJS objects and IDE instances renderers.\n *\n * @extends RenderedInstance\n * @class RenderedPanelSpriteInstance\n * @constructor\n */\nfunction RenderedPanelSpriteInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  this.makeObjects();\n  this.updateTexture();\n}\nRenderedPanelSpriteInstance.prototype = Object.create(\n  RenderedInstance.prototype\n);\n\nRenderedPanelSpriteInstance.prototype.update = function() {\n  //TODO\n  // if (this._pixiObject.visible && this._wasRendered) {\n  //   this._pixiObject.cacheAsBitmap = true;\n  // }\n  // this._wasRendered = true;\n\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  if (panelSprite.isTiled() !== this._tiled) {\n    this.makeObjects();\n  }\n  if (panelSprite.getTexture() !== this._textureName) {\n    this.updateTexture();\n  }\n\n  this.updateAngle();\n  this.updatePosition();\n\n  const oldWidth = this._width;\n  const oldHeight = this._height;\n  if (this._instance.hasCustomSize()) {\n    this._width = this._instance.getCustomWidth();\n    this._height = this._instance.getCustomHeight();\n  } else {\n    var tiledSprite = gd.asPanelSpriteObject(this._associatedObject);\n    this._width = tiledSprite.getWidth();\n    this._height = tiledSprite.getHeight();\n  }\n\n  if (this._width !== oldWidth || this._height !== oldHeight) {\n    this.updateWidthHeight();\n  }\n};\n\nRenderedPanelSpriteInstance.prototype.makeObjects = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  this._textureName = panelSprite.getTexture();\n  const texture = this._pixiResourcesLoader.getPIXITexture(\n    this._project,\n    this._textureName\n  );\n\n  this._tiled = panelSprite.isTiled();\n  var StretchedSprite = !this._tiled ? PIXI.Sprite : PIXI.extras.TilingSprite;\n\n  if (!this._pixiObject) {\n    this._pixiObject = new PIXI.Container();\n    this._pixiContainer.addChild(this._pixiObject);\n  }\n  this._centerSprite = new StretchedSprite(new PIXI.Texture(texture));\n  this._borderSprites = [\n    new StretchedSprite(new PIXI.Texture(texture)), //Right\n    new PIXI.Sprite(texture), //Top-Right\n    new StretchedSprite(new PIXI.Texture(texture)), //Top\n    new PIXI.Sprite(texture), //Top-Left\n    new StretchedSprite(new PIXI.Texture(texture)), //Left\n    new PIXI.Sprite(texture), //Bottom-Left\n    new StretchedSprite(new PIXI.Texture(texture)), //Bottom\n    new PIXI.Sprite(texture), //Bottom-Right\n  ];\n\n  this._pixiObject.removeChildren();\n  this._pixiObject.addChild(this._centerSprite);\n  for (var i = 0; i < this._borderSprites.length; ++i) {\n    this._pixiObject.addChild(this._borderSprites[i]);\n  }\n};\n\nRenderedPanelSpriteInstance.prototype.updateAngle = function() {\n  this._pixiObject.rotation = RenderedInstance.toRad(this._instance.getAngle());\n};\n\nRenderedPanelSpriteInstance.prototype.updatePosition = function() {\n  this._pixiObject.x = this._instance.getX() + this._width / 2;\n  this._pixiObject.y = this._instance.getY() + this._height / 2;\n};\n\nRenderedPanelSpriteInstance.prototype._updateLocalPositions = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  var extraPixels = panelSprite.isTiled() ? 1 : 0;\n\n  this._centerSprite.position.x = panelSprite.getLeftMargin();\n  this._centerSprite.position.y = panelSprite.getTopMargin();\n  this._borderSprites[0].position.x =\n    this._width - panelSprite.getRightMargin() - extraPixels * 2;\n  this._borderSprites[0].position.y = panelSprite.getTopMargin();\n\n  this._borderSprites[1].position.x =\n    this._width - this._borderSprites[1].width - extraPixels * 2;\n  this._borderSprites[1].position.y = 0;\n\n  this._borderSprites[2].position.x = panelSprite.getLeftMargin();\n  this._borderSprites[2].position.y = 0;\n\n  this._borderSprites[3].position.x = 0;\n  this._borderSprites[3].position.y = 0;\n\n  this._borderSprites[4].position.x = 0;\n  this._borderSprites[4].position.y = panelSprite.getTopMargin();\n\n  this._borderSprites[5].position.x = 0;\n  this._borderSprites[5].position.y =\n    this._height - this._borderSprites[5].height - extraPixels * 2;\n\n  this._borderSprites[6].position.x = panelSprite.getLeftMargin();\n  this._borderSprites[6].position.y =\n    this._height - panelSprite.getBottomMargin() - extraPixels * 3; //FIXME: 1 more extra pixel is somewhat needed for pixel perfect alignment\n\n  this._borderSprites[7].position.x =\n    this._width - this._borderSprites[7].width - extraPixels * 2;\n  this._borderSprites[7].position.y =\n    this._height - this._borderSprites[7].height - extraPixels * 2;\n};\n\nRenderedPanelSpriteInstance.prototype._updateSpritesAndTexturesSize = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  this._centerSprite.width = Math.max(\n    this._width - panelSprite.getRightMargin() - panelSprite.getLeftMargin(),\n    0\n  );\n  this._centerSprite.height = Math.max(\n    this._height - panelSprite.getTopMargin() - panelSprite.getBottomMargin(),\n    0\n  );\n\n  //Top, Bottom, Right, Left borders:\n  this._borderSprites[0].width = panelSprite.getRightMargin();\n  this._borderSprites[0].height = Math.max(\n    this._height - panelSprite.getTopMargin() - panelSprite.getBottomMargin(),\n    0\n  );\n\n  this._borderSprites[2].height = panelSprite.getTopMargin();\n  this._borderSprites[2].width = Math.max(\n    this._width - panelSprite.getRightMargin() - panelSprite.getLeftMargin(),\n    0\n  );\n\n  this._borderSprites[4].width = panelSprite.getLeftMargin();\n  this._borderSprites[4].height = Math.max(\n    this._height - panelSprite.getTopMargin() - panelSprite.getBottomMargin(),\n    0\n  );\n\n  this._borderSprites[6].height = panelSprite.getBottomMargin();\n  this._borderSprites[6].width = Math.max(\n    this._width - panelSprite.getRightMargin() - panelSprite.getLeftMargin(),\n    0\n  );\n\n  this._wasRendered = true;\n  this._pixiObject.cacheAsBitmap = false;\n};\n\nRenderedPanelSpriteInstance.prototype.updateTexture = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  this._textureName = panelSprite.getTexture();\n  const texture = this._pixiResourcesLoader.getPIXITexture(\n    this._project,\n    this._textureName\n  );\n\n  if (texture.noFrame) {\n    //Post pone texture update if texture is not loaded\n    const renderer = this;\n    texture.on('update', function() {\n      renderer.updateTexture();\n      texture.off('update', this);\n    });\n\n    return;\n  }\n\n  console.log('Updating PanelSprite instance texture');\n  function makeInsideTexture(rect) {\n    if (rect.width < 0) rect.width = 0;\n    if (rect.height < 0) rect.height = 0;\n    if (rect.x < 0) rect.x = 0;\n    if (rect.y < 0) rect.y = 0;\n    if (rect.x > texture.width) rect.x = texture.width;\n    if (rect.y > texture.height) rect.y = texture.height;\n    if (rect.x + rect.width > texture.width)\n      rect.width = texture.width - rect.x;\n    if (rect.y + rect.height > texture.height)\n      rect.height = texture.height - rect.y;\n\n    return rect;\n  }\n\n  this._centerSprite.texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        panelSprite.getLeftMargin(),\n        panelSprite.getTopMargin(),\n        texture.width -\n          panelSprite.getLeftMargin() -\n          panelSprite.getRightMargin(),\n        texture.height -\n          panelSprite.getTopMargin() -\n          panelSprite.getBottomMargin()\n      )\n    )\n  );\n\n  //Top, Bottom, Right, Left borders:\n  this._borderSprites[0].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        texture.width - panelSprite.getRightMargin() - 1,\n        panelSprite.getTopMargin(),\n        panelSprite.getRightMargin() + 1,\n        texture.height -\n          panelSprite.getTopMargin() -\n          panelSprite.getBottomMargin()\n      )\n    )\n  );\n  this._borderSprites[2].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        panelSprite.getLeftMargin(),\n        0,\n        texture.width -\n          panelSprite.getLeftMargin() -\n          panelSprite.getRightMargin(),\n        panelSprite.getTopMargin() + 1\n      )\n    )\n  );\n  this._borderSprites[4].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        0,\n        panelSprite.getTopMargin(),\n        panelSprite.getLeftMargin() + 1,\n        texture.height -\n          panelSprite.getTopMargin() -\n          panelSprite.getBottomMargin()\n      )\n    )\n  );\n  this._borderSprites[6].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        panelSprite.getLeftMargin(),\n        texture.height - panelSprite.getBottomMargin() - 1,\n        texture.width -\n          panelSprite.getLeftMargin() -\n          panelSprite.getRightMargin(),\n        panelSprite.getBottomMargin() + 1\n      )\n    )\n  );\n\n  this._borderSprites[1].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        this._borderSprites[1].width - panelSprite.getRightMargin(),\n        0,\n        panelSprite.getRightMargin(),\n        panelSprite.getTopMargin()\n      )\n    )\n  );\n  this._borderSprites[3].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        0,\n        0,\n        panelSprite.getLeftMargin(),\n        panelSprite.getTopMargin()\n      )\n    )\n  );\n  this._borderSprites[5].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        0,\n        this._borderSprites[5].height - panelSprite.getBottomMargin(),\n        panelSprite.getLeftMargin(),\n        panelSprite.getBottomMargin()\n      )\n    )\n  );\n  this._borderSprites[7].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        this._borderSprites[7].width - panelSprite.getRightMargin(),\n        this._borderSprites[7].height - panelSprite.getBottomMargin(),\n        panelSprite.getRightMargin(),\n        panelSprite.getBottomMargin()\n      )\n    )\n  );\n\n  this._updateSpritesAndTexturesSize();\n  this._updateLocalPositions();\n  this.updatePosition();\n};\n\nRenderedPanelSpriteInstance.prototype.updateWidthHeight = function() {\n  this._pixiObject.pivot.x = this._width / 2;\n  this._pixiObject.pivot.y = this._height / 2;\n  this._updateSpritesAndTexturesSize();\n  this._updateLocalPositions();\n  this.updatePosition();\n};\n\nRenderedPanelSpriteInstance.prototype.getDefaultWidth = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  return panelSprite.getWidth();\n};\n\nRenderedPanelSpriteInstance.prototype.getDefaultHeight = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  return panelSprite.getHeight();\n};\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedPanelSpriteInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  const panelSprite = gd.asPanelSpriteObject(object);\n\n  return resourcesLoader.getResourceFullUrl(project, panelSprite.getTexture());\n};\n\nexport default RenderedPanelSpriteInstance;\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * Renderer for a Text object.\n *\n * @extends RenderedInstance\n * @class RenderedTextInstance\n * @constructor\n */\nfunction RenderedTextInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  //Setup the PIXI object:\n  const textObject = gd.asTextObject(this._associatedObject);\n  this._pixiObject = new PIXI.Text(' ', { align: 'left' });\n  this._pixiObject.anchor.x = 0.5;\n  this._pixiObject.anchor.y = 0.5;\n  this._pixiContainer.addChild(this._pixiObject);\n  this._styleFontDirty = true;\n  this._fontFamily = this._pixiResourcesLoader.getFontFamily(\n    this._project,\n    textObject.getFontName()\n  );\n  this.update();\n}\nRenderedTextInstance.prototype = Object.create(RenderedInstance.prototype);\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedTextInstance.getThumbnail = function(project, resourcesLoader, object) {\n  return 'CppPlatform/Extensions/texticon24.png';\n};\n\nRenderedTextInstance.prototype.update = function() {\n  const textObject = gd.asTextObject(this._associatedObject);\n  this._pixiObject.text = textObject.getString();\n\n  //Update style, only if needed to avoid destroying text rendering performances\n  if (\n    textObject.isItalic() !== this._isItalic ||\n    textObject.isBold() !== this._isBold ||\n    textObject.getCharacterSize() !== this._characterSize ||\n    this._instance.hasCustomSize() !== this._wrapping ||\n    (this._instance.getCustomWidth() !== this._wrappingWidth && this._wrapping)\n  ) {\n    this._isItalic = textObject.isItalic();\n    this._isBold = textObject.isBold();\n    this._characterSize = textObject.getCharacterSize();\n    this._wrapping = this._instance.hasCustomSize();\n    this._wrappingWidth = this._instance.getCustomWidth();\n    this._styleFontDirty = true;\n  }\n\n  if (this._fontName !== textObject.getFontName()) {\n    //Avoid calling loadFontFamily if the font didn't changed.\n    this._fontName = textObject.getFontName();\n    this._pixiResourcesLoader\n      .loadFontFamily(this._project, textObject.getFontName())\n      .then(fontFamily => {\n        // Once the font is loaded, we can use the given fontFamily.\n        this._fontFamily = fontFamily;\n        this._styleFontDirty = true;\n      })\n      .catch(err => {\n        // Ignore errors\n        console.warn('Unable to load font family', err);\n      });\n  }\n\n  if (this._styleFontDirty) {\n    this._pixiObject.style.fontFamily = this._fontFamily || 'Arial';\n    this._pixiObject.style.fontSize = this._characterSize + 'px';\n    this._pixiObject.style.fontStyle = this._isItalic ? 'italic' : 'normal';\n    this._pixiObject.style.fontWeight = this._isBold ? 'bold' : 'normal';\n    this._pixiObject.style.wordWrap = this._wrapping;\n    this._pixiObject.style.wordWrapWidth =\n      this._wrappingWidth <= 1 ? 1 : this._wrappingWidth;\n    this._pixiObject.style.breakWords = true;\n\n    // Manually ask the PIXI object to re-render as we changed a style property\n    // see http://www.html5gamedevs.com/topic/16924-change-text-style-post-render/\n    this._pixiObject.dirty = true;\n    this._styleFontDirty = false;\n  }\n\n  if (\n    textObject.getColorR() !== this._colorR ||\n    textObject.getColorG() !== this._colorG ||\n    textObject.getColorB() !== this._colorB\n  ) {\n    this._colorR = textObject.getColorR();\n    this._colorG = textObject.getColorG();\n    this._colorB = textObject.getColorB();\n    this._pixiObject.style.fill =\n      'rgb(' + this._colorR + ',' + this._colorG + ',' + this._colorB + ')';\n\n    // Manually ask the PIXI object to re-render as we changed a style property\n    // see http://www.html5gamedevs.com/topic/16924-change-text-style-post-render/\n    this._pixiObject.dirty = true;\n  }\n\n  this._pixiObject.position.x =\n    this._instance.getX() + this._pixiObject.width / 2;\n  this._pixiObject.position.y =\n    this._instance.getY() + this._pixiObject.height / 2;\n  this._pixiObject.rotation = RenderedInstance.toRad(this._instance.getAngle());\n};\n\nRenderedTextInstance.prototype.getDefaultWidth = function() {\n  return this._pixiObject.width;\n};\n\nRenderedTextInstance.prototype.getDefaultHeight = function() {\n  return this._pixiObject.height;\n};\n\nexport default RenderedTextInstance;\n","import makeRenderer from './RenderedIconInstance';\nexport default makeRenderer('CppPlatform/Extensions/primitivedrawingicon.png');\n","import makeRenderer from './RenderedIconInstance';\nexport default makeRenderer('CppPlatform/Extensions/textentry.png');\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\nimport { rgbToHexNumber } from '../../Utils/ColorTransformer';\nconst gd = global.gd;\n\n/**\n * Renderer for an ParticleEmitter object.\n *\n * @extends RenderedInstance\n * @class RenderedParticleEmitterInstance\n * @constructor\n */\nfunction RenderedParticleEmitterInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  this._pixiObject = new PIXI.Graphics();\n  this._pixiContainer.addChild(this._pixiObject);\n  this.updateGraphics();\n}\nRenderedParticleEmitterInstance.prototype = Object.create(\n  RenderedInstance.prototype\n);\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedParticleEmitterInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  return 'CppPlatform/Extensions/particleSystemicon.png';\n};\n\nRenderedParticleEmitterInstance.prototype.update = function() {\n  this._pixiObject.position.x = this._instance.getX();\n  this._pixiObject.position.y = this._instance.getY();\n  this.updateGraphics();\n};\n\n/**\n * Render the preview of the particle emitter according to the setup of the object\n */\nRenderedParticleEmitterInstance.prototype.updateGraphics = function() {\n  const particleEmitterObject = gd.asParticleEmitterObject(\n    this._associatedObject\n  );\n\n  this._pixiObject.clear();\n\n  const emitterAngle = (this._instance.getAngle() / 180) * 3.14159;\n  const sprayConeAngle = particleEmitterObject.getConeSprayAngle();\n  const line1Angle = emitterAngle - (sprayConeAngle / 2.0 / 180.0) * 3.14159;\n  const line2Angle = emitterAngle + (sprayConeAngle / 2.0 / 180.0) * 3.14159;\n  const length = 64;\n\n  this._pixiObject.beginFill(0, 0);\n  this._pixiObject.lineStyle(\n    3,\n    rgbToHexNumber(\n      particleEmitterObject.getParticleRed2(),\n      particleEmitterObject.getParticleGreen2(),\n      particleEmitterObject.getParticleBlue2()\n    ),\n    1\n  );\n  this._pixiObject.moveTo(0, 0);\n  this._pixiObject.lineTo(\n    Math.cos(line1Angle) * length,\n    Math.sin(line1Angle) * length\n  );\n  this._pixiObject.moveTo(0, 0);\n  this._pixiObject.lineTo(\n    Math.cos(line2Angle) * length,\n    Math.sin(line2Angle) * length\n  );\n  this._pixiObject.endFill();\n\n  this._pixiObject.lineStyle(0, 0x000000, 1);\n  this._pixiObject.beginFill(\n    rgbToHexNumber(\n      particleEmitterObject.getParticleRed1(),\n      particleEmitterObject.getParticleGreen1(),\n      particleEmitterObject.getParticleBlue1()\n    )\n  );\n  this._pixiObject.drawCircle(0, 0, 8);\n  this._pixiObject.endFill();\n};\n\nRenderedParticleEmitterInstance.prototype.getDefaultWidth = function() {\n  return 128;\n};\n\nRenderedParticleEmitterInstance.prototype.getDefaultHeight = function() {\n  return 128;\n};\n\nRenderedParticleEmitterInstance.prototype.getOriginX = function() {\n  return 64;\n};\n\nRenderedParticleEmitterInstance.prototype.getOriginY = function() {\n  return 64;\n};\n\nexport default RenderedParticleEmitterInstance;\n","import FontFaceObserver from 'fontfaceobserver';\n\n/**\n * A simple wrapper around FontFace (if supported) or @font-face + FontFaceObserver\n * to load a font from an url and be notified when loading is done (or failed).\n * @param {*} fontFamily\n * @param {*} src\n * @param {*} descriptors\n */\nexport const loadFontFace = (fontFamily, src, descriptors = {}) => {\n  if (typeof FontFace !== 'undefined') {\n    // Load the given font using CSS Font Loading API.\n    const fontFace = new FontFace(fontFamily, src, descriptors);\n    document.fonts.add(fontFace);\n    return fontFace.load();\n  } else {\n    // Add @font-face and use FontFaceObserver to be notified when the\n    // font is ready.\n    const newStyle = document.createElement('style');\n    newStyle.appendChild(\n      document.createTextNode(\n        `@font-face {\n          font-family: ${fontFamily};\n          src: ${src};\n        }`\n      )\n    );\n\n    document.head.appendChild(newStyle);\n    return new FontFaceObserver(fontFamily, descriptors).load().catch(err => {\n      console.warn(`Error while loading font ${fontFamily}`, err);\n\n      throw err;\n    });\n  }\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport React, { Component } from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Line, Column } from '../../UI/Grid';\nimport {\n  type ParameterFieldProps,\n  getParameterValueOrDefault,\n} from './ParameterFieldCommons';\n\nconst styles = {\n  button: {\n    margin: 5,\n  },\n  description: {\n    display: 'inline-block',\n    marginRight: 5,\n  },\n};\n\nexport default class YesNoField extends Component<ParameterFieldProps, void> {\n  focus() {}\n\n  render() {\n    const { parameterMetadata, value } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n    const effectiveValue = getParameterValueOrDefault(value, parameterMetadata);\n\n    return (\n      <Line>\n        <p style={styles.description}>{description}</p>\n        <Column noMargin>\n          <RaisedButton\n            style={styles.button}\n            label={<Trans>Yes</Trans>}\n            primary={effectiveValue === 'yes'}\n            onClick={() => this.props.onChange('yes')}\n          />\n        </Column>\n        <Column noMargin>\n          <RaisedButton\n            style={styles.button}\n            label={<Trans>No</Trans>}\n            primary={effectiveValue !== 'yes'}\n            onClick={() => this.props.onChange('no')}\n          />\n        </Column>\n      </Line>\n    );\n  }\n}\n\nexport const renderInlineYesNo = ({\n  value,\n  parameterMetadata,\n}: ParameterInlineRendererProps) => {\n  if (getParameterValueOrDefault(value, parameterMetadata) === 'yes') {\n    return <Trans>yes</Trans>;\n  } else {\n    return <Trans>no</Trans>;\n  }\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport React, { Component } from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Line, Column } from '../../UI/Grid';\nimport {\n  type ParameterFieldProps,\n  getParameterValueOrDefault,\n} from './ParameterFieldCommons';\n\nconst styles = {\n  button: {\n    margin: 5,\n  },\n  description: {\n    display: 'inline-block',\n    marginRight: 5,\n  },\n};\n\nexport default class TrueFalseField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  focus() {}\n\n  render() {\n    const { parameterMetadata, value } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n    const effectiveValue = getParameterValueOrDefault(value, parameterMetadata);\n\n    return (\n      <Line>\n        <p style={styles.description}>{description}</p>\n        <Column noMargin>\n          <RaisedButton\n            style={styles.button}\n            label={<Trans>True</Trans>}\n            primary={effectiveValue === 'True'}\n            onClick={() => this.props.onChange('True')}\n          />\n        </Column>\n        <Column noMargin>\n          <RaisedButton\n            style={styles.button}\n            label={<Trans>False</Trans>}\n            primary={effectiveValue !== 'True'}\n            onClick={() => this.props.onChange('False')}\n          />\n        </Column>\n      </Line>\n    );\n  }\n}\n\nexport const renderInlineTrueFalse = ({\n  value,\n  parameterMetadata,\n}: ParameterInlineRendererProps) => {\n  if (getParameterValueOrDefault(value, parameterMetadata) === 'True') {\n    return <Trans>true</Trans>;\n  } else {\n    return <Trans>false</Trans>;\n  }\n};\n","// @flow\nimport React, { Component } from 'react';\nimport GenericExpressionField from './GenericExpressionField';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\n\nexport default class ExpressionField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?GenericExpressionField;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <GenericExpressionField\n        expressionType=\"number\"\n        ref={field => (this._field = field)}\n        {...this.props}\n      />\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport { enumerateExpressions } from './EnumerateExpressions';\nimport InstructionOrExpressionSelector from './index';\nimport { createTree, type InstructionOrExpressionTreeNode } from './CreateTree';\nimport {\n  type EnumeratedInstructionOrExpressionMetadata,\n  filterEnumeratedInstructionOrExpressionMetadataByScope,\n} from './EnumeratedInstructionOrExpressionMetadata.js';\nimport { type EventsScope } from '../../EventsScope.flow';\n\ntype Props = {|\n  expressionType: string,\n  focusOnMount?: boolean,\n  selectedType: string,\n  onChoose: (type: string, EnumeratedInstructionOrExpressionMetadata) => void,\n  scope: EventsScope,\n|};\n\nexport default class ExpressionSelector extends Component<Props, {||}> {\n  instructionsInfo: Array<EnumeratedInstructionOrExpressionMetadata> = filterEnumeratedInstructionOrExpressionMetadataByScope(\n    enumerateExpressions(this.props.expressionType).allExpressions,\n    this.props.scope\n  );\n  instructionsInfoTree: InstructionOrExpressionTreeNode = createTree(\n    this.instructionsInfo\n  );\n\n  render() {\n    const { expressionType, scope, ...otherProps } = this.props;\n    return (\n      <InstructionOrExpressionSelector\n        instructionsInfo={this.instructionsInfo}\n        instructionsInfoTree={this.instructionsInfoTree}\n        iconSize={16}\n        {...otherProps}\n      />\n    );\n  }\n}\n","// @flow\nimport {\n  type EnumeratedInstructionOrExpressionMetadata,\n  type InstructionOrExpressionScope,\n} from './EnumeratedInstructionOrExpressionMetadata.js';\nconst gd = global.gd;\n\nconst GROUP_DELIMITER = '/';\n\nconst enumerateExtensionExpressions = (\n  prefix: string,\n  expressions: gdMapStringExpressionMetadata,\n  scope: InstructionOrExpressionScope\n): Array<EnumeratedInstructionOrExpressionMetadata> => {\n  const allExpressions = [];\n\n  //Get the map containing the metadata of the expression provided by the extension...\n  var expressionsTypes = expressions.keys();\n\n  //... and add each instruction\n  for (var j = 0; j < expressionsTypes.size(); ++j) {\n    var exprMetadata = expressions.get(expressionsTypes.get(j));\n    if (!exprMetadata.isShown()) {\n      //Skip hidden expressions\n      continue;\n    }\n\n    var parameters = [];\n    for (var i = 0; i < exprMetadata.getParametersCount(); i++) {\n      if (scope.objectMetadata && i === 0) continue;\n      if (scope.behaviorMetadata && i <= 1) continue; //Skip object and behavior parameters\n      if (exprMetadata.getParameter(i).isCodeOnly()) continue;\n\n      parameters.push(exprMetadata.getParameter(i));\n    }\n\n    const displayedName = exprMetadata.getFullName();\n    const groupName = exprMetadata.getGroup();\n    const iconFilename = exprMetadata.getSmallIconFilename();\n    const fullGroupName = prefix + groupName;\n\n    allExpressions.push({\n      type: expressionsTypes.get(j),\n      name: expressionsTypes.get(j),\n      displayedName,\n      fullGroupName,\n      iconFilename,\n      metadata: exprMetadata,\n      parameters: parameters,\n      scope,\n      isPrivate: exprMetadata.isPrivate(),\n    });\n  }\n\n  return allExpressions;\n};\n\nexport const enumerateExpressions = (type: string) => {\n  const freeExpressions = [];\n  const objectsExpressions = [];\n  const behaviorsExpressions = [];\n\n  const allExtensions = gd\n    .asPlatform(gd.JsPlatform.get())\n    .getAllPlatformExtensions();\n  for (var i = 0; i < allExtensions.size(); ++i) {\n    var extension = allExtensions.get(i);\n    var allObjectsTypes = extension.getExtensionObjectsTypes();\n    var allBehaviorsTypes = extension.getBehaviorsTypes();\n\n    let prefix = '';\n    if (allObjectsTypes.size() > 0 || allBehaviorsTypes.size() > 0) {\n      prefix =\n        extension.getName() === 'BuiltinObject'\n          ? 'Common expressions for all objects'\n          : extension.getFullName();\n      prefix += GROUP_DELIMITER;\n    }\n\n    //Check which type of expression we want to autocomplete.\n    var allFreeExpressionsGetter = extension.getAllExpressions;\n    var allObjectExpressionsGetter = extension.getAllExpressionsForObject;\n    var allBehaviorExpressionsGetter = extension.getAllExpressionsForBehavior;\n    if (type === 'string') {\n      allFreeExpressionsGetter = extension.getAllStrExpressions;\n      allObjectExpressionsGetter = extension.getAllStrExpressionsForObject;\n      allBehaviorExpressionsGetter = extension.getAllStrExpressionsForBehavior;\n    }\n\n    //Free expressions\n    freeExpressions.push.apply(\n      freeExpressions,\n      enumerateExtensionExpressions(\n        prefix,\n        allFreeExpressionsGetter.call(extension),\n        {\n          objectMetadata: undefined,\n          behaviorMetadata: undefined,\n        }\n      )\n    );\n\n    //Objects expressions:\n    for (var j = 0; j < allObjectsTypes.size(); ++j) {\n      const objectType = allObjectsTypes.get(j);\n      const objectMetadata = extension.getObjectMetadata(objectType);\n      objectsExpressions.push.apply(\n        objectsExpressions,\n        enumerateExtensionExpressions(\n          prefix,\n          allObjectExpressionsGetter.call(extension, objectType),\n          { objectMetadata }\n        )\n      );\n    }\n\n    //Behaviors expressions:\n    for (var k = 0; k < allBehaviorsTypes.size(); ++k) {\n      const behaviorType = allBehaviorsTypes.get(k);\n      const behaviorMetadata = extension.getBehaviorMetadata(behaviorType);\n      behaviorsExpressions.push.apply(\n        behaviorsExpressions,\n        enumerateExtensionExpressions(\n          prefix,\n          allBehaviorExpressionsGetter.call(extension, behaviorType),\n          { behaviorMetadata }\n        )\n      );\n    }\n  }\n\n  return {\n    allExpressions: [\n      ...freeExpressions,\n      ...objectsExpressions,\n      ...behaviorsExpressions,\n    ],\n    freeExpressions,\n    objectsExpressions,\n    behaviorsExpressions,\n  };\n};\n\nexport const filterExpressions = (\n  list: Array<EnumeratedInstructionOrExpressionMetadata>,\n  searchText: string\n): Array<EnumeratedInstructionOrExpressionMetadata> => {\n  if (!searchText) return list;\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter(enumeratedExpression => {\n    return (\n      enumeratedExpression.type.toLowerCase().indexOf(lowercaseSearchText) !==\n      -1\n    );\n  });\n};\n","//@flow\nimport { type EnumeratedInstructionOrExpressionMetadata } from '../../InstructionEditor/InstructionOrExpressionSelector/EnumeratedInstructionOrExpressionMetadata.js';\nimport { type ParameterValues } from './ExpressionParametersEditorDialog';\n\nconst filterOutCodeOnlyParameters = (\n  array: Array<string>,\n  expressionMetadata: Object,\n  firstParameterIndex: number\n) => {\n  const parametersCount = expressionMetadata.getParametersCount();\n\n  return array.filter((parameter, index) => {\n    if (index < firstParameterIndex) return false;\n\n    return (\n      index < parametersCount &&\n      !expressionMetadata.getParameter(index).isCodeOnly()\n    );\n  });\n};\n\nexport const formatExpressionCall = (\n  expressionInfo: EnumeratedInstructionOrExpressionMetadata,\n  parameterValues: ParameterValues\n): string => {\n  const functionName = expressionInfo.name || '';\n\n  if (expressionInfo.scope.objectMetadata) {\n    const objectName = parameterValues[0];\n\n    const functionArgs = filterOutCodeOnlyParameters(\n      parameterValues,\n      expressionInfo.metadata,\n      1\n    ).join(', ');\n    return `${objectName}.${functionName}(${functionArgs})`;\n  } else if (expressionInfo.scope.behaviorMetadata) {\n    const objectName = parameterValues[0];\n    const behaviorName = parameterValues[1];\n\n    const functionArgs = filterOutCodeOnlyParameters(\n      parameterValues,\n      expressionInfo.metadata,\n      2\n    ).join(', ');\n    return `${objectName}.${behaviorName}::${functionName}(${functionArgs})`;\n  } else {\n    const functionArgs = filterOutCodeOnlyParameters(\n      parameterValues,\n      expressionInfo.metadata,\n      0\n    ).join(', ');\n    return `${functionName}(${functionArgs})`;\n  }\n};\n","// @flow\nimport * as React from 'react';\n\nexport type Highlight = {|\n  begin: number,\n  end: number,\n  type?: 'error',\n  message: string,\n|};\n\ntype Props = {|\n  value: string,\n  style: Object,\n  highlights: Array<Highlight>,\n|};\n\nconst defaultStyle = {\n  width: '100%',\n  position: 'absolute',\n  whiteSpace: 'pre-wrap',\n  wordWrap: 'break-word',\n  color: 'transparent',\n};\n\nconst highlightedText = {\n  backgroundColor: 'rgba(244, 67, 54, 0.15)',\n  borderSizing: 'border-box',\n  borderBottom: '3px solid rgba(244, 67, 54, 0.7)',\n};\n\nexport default ({ value, style, highlights }: Props) => {\n  const sortedHighlights = highlights\n    .slice()\n    .sort((highlight1, highlight2) => highlight1.begin - highlight2.begin);\n\n  const elements = [];\n  let lastPos = 0;\n\n  sortedHighlights.forEach((highlight, i) => {\n    const startPos = Math.max(highlight.begin, lastPos);\n    if (startPos !== lastPos) {\n      elements.push(\n        <span key={`defaultText-${i}`}>\n          {value.substring(lastPos, startPos)}\n        </span>\n      );\n    }\n\n    if (lastPos < highlight.end) {\n      elements.push(\n        <span key={`highlightedText-${i}`} style={highlightedText}>\n          {value.substring(startPos, highlight.end)}\n        </span>\n      );\n      lastPos = highlight.end;\n    }\n  });\n  if (lastPos < value.length) {\n    elements.push(\n      <span key={`defaultText-end`}>{value.substring(lastPos)}</span>\n    );\n  }\n\n  return <div style={{ ...defaultStyle, ...style }}>{elements}</div>;\n};\n","// @flow\nimport React, { Component } from 'react';\nimport GenericExpressionField from './GenericExpressionField';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\n\nexport default class StringField extends Component<ParameterFieldProps, void> {\n  _field: ?GenericExpressionField;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <GenericExpressionField\n        expressionType=\"string\"\n        ref={field => (this._field = field)}\n        {...this.props}\n      />\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport SemiControlledAutoComplete from '../../UI/SemiControlledAutoComplete';\n\nconst getChoices = (parameterMetadata: ?gdParameterMetadata) => {\n  if (!parameterMetadata) {\n    return [];\n  }\n\n  try {\n    return JSON.parse(parameterMetadata.getExtraInfo());\n  } catch (exception) {\n    console.error(\n      'The parameter seems misconfigured, as an array of choices could not be extracted - verify that your properly wrote a list of choices in JSON format. Full exception is:',\n      exception\n    );\n  }\n\n  return [];\n};\n\nexport default class StringWithSelectorField extends Component<\n  ParameterFieldProps,\n  {||}\n> {\n  _field: ?any;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { value, onChange, isInline, parameterMetadata } = this.props;\n\n    return (\n      <SemiControlledAutoComplete\n        floatingLabelText={\n          parameterMetadata ? parameterMetadata.getDescription() : undefined\n        }\n        value={value}\n        onChange={onChange}\n        dataSource={getChoices(parameterMetadata).map(choice => ({\n          text: choice,\n          value: '\"' + choice + '\"',\n        }))}\n        openOnFocus={!isInline}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport { getLastObjectParameterValue } from './ParameterMetadataTools';\nimport SemiControlledAutoComplete from '../../UI/SemiControlledAutoComplete';\nconst gd = global.gd;\n\ntype State = {|\n  errorText: ?string,\n|};\n\nexport default class BehaviorField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  state = { errorText: null };\n  _description: ?string;\n  _behaviorTypeAllowed: ?string;\n  _behaviorNames: Array<string> = [];\n  _field: ?AutoComplete;\n\n  constructor(props: ParameterFieldProps) {\n    super(props);\n\n    const { parameterMetadata } = this.props;\n    this._description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    this._behaviorTypeAllowed = parameterMetadata\n      ? parameterMetadata.getExtraInfo()\n      : undefined;\n  }\n\n  _updateBehaviorsList() {\n    const {\n      instructionMetadata,\n      instruction,\n      expressionMetadata,\n      expression,\n      parameterIndex,\n    } = this.props;\n\n    const objectName = getLastObjectParameterValue({\n      instructionMetadata,\n      instruction,\n      expressionMetadata,\n      expression,\n      parameterIndex,\n    });\n    if (!objectName) return;\n\n    this._behaviorNames = gd\n      .getBehaviorsOfObject(\n        this.props.globalObjectsContainer,\n        this.props.objectsContainer,\n        objectName,\n        true\n      )\n      .toJSArray()\n      .filter(behaviorName => {\n        return (\n          !this._behaviorTypeAllowed ||\n          gd.getTypeOfBehavior(\n            this.props.globalObjectsContainer,\n            this.props.objectsContainer,\n            behaviorName\n          ) === this._behaviorTypeAllowed\n        );\n      });\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  _getError = (value?: string) => {\n    if (!value && !this.props.value) return null;\n\n    const isValidChoice =\n      this._behaviorNames.filter(choice => this.props.value === choice)\n        .length !== 0;\n\n    if (!isValidChoice) return 'This behavior is not attached to the object';\n\n    return null;\n  };\n\n  _doValidation = (value?: string) => {\n    this.setState({ errorText: this._getError(value) });\n  };\n\n  _forceChooseBehavior = () => {\n    // This is a bit hacky:\n    // force the behavior selection if there is only one selectable behavior\n    if (this._behaviorNames.length === 1) {\n      if (this.props.value !== this._behaviorNames[0]) {\n        this.props.onChange(this._behaviorNames[0]);\n      }\n    }\n  };\n\n  componentDidUpdate() {\n    this._forceChooseBehavior();\n  }\n\n  componentDidMount() {\n    this._forceChooseBehavior();\n  }\n\n  render() {\n    this._updateBehaviorsList();\n\n    const noBehaviorErrorText =\n      this._behaviorTypeAllowed !== '' ? (\n        <Trans>\n          The behavior is not attached to this object. Please select another\n          object or add this behavior.\n        </Trans>\n      ) : (\n        <Trans>\n          This object has no behaviors: please add this behavior to the object\n          first.\n        </Trans>\n      );\n\n    return (\n      <SemiControlledAutoComplete\n        floatingLabelText={this._description}\n        errorText={\n          !this._behaviorNames.length\n            ? noBehaviorErrorText\n            : this.state.errorText\n        }\n        value={this.props.value}\n        onChange={this.props.onChange}\n        onBlur={event => {\n          this._doValidation(event.currentTarget.value);\n        }}\n        dataSource={this._behaviorNames.map(behaviorName => ({\n          text: behaviorName,\n          value: behaviorName,\n        }))}\n        openOnFocus={!this.props.isInline}\n        disabled={this._behaviorNames.length <= 1}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport VariableField, { renderVariableWithIcon } from './VariableField';\nimport VariablesEditorDialog from '../../VariablesList/VariablesEditorDialog';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\n\ntype State = {|\n  editorOpen: boolean,\n|};\n\nexport default class SceneVariableField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  _field: ?VariableField;\n  state = {\n    editorOpen: false,\n  };\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { scope } = this.props;\n    const { layout } = scope;\n\n    return (\n      <React.Fragment>\n        <VariableField\n          variablesContainer={layout ? layout.getVariables() : null}\n          parameterMetadata={this.props.parameterMetadata}\n          value={this.props.value}\n          onChange={this.props.onChange}\n          isInline={this.props.isInline}\n          ref={field => (this._field = field)}\n          onOpenDialog={() => this.setState({ editorOpen: true })}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n          scope={scope}\n        />\n        {this.state.editorOpen && layout && (\n          <VariablesEditorDialog\n            open={this.state.editorOpen}\n            variablesContainer={layout.getVariables()}\n            onCancel={() => this.setState({ editorOpen: false })}\n            onApply={() => {\n              this.setState({ editorOpen: false });\n            }}\n            emptyExplanationMessage=\"Scene variables can be used to store any value or text during the game.\"\n            emptyExplanationSecondMessage=\"For example, you can have a variable called Score representing the current score of the player.\"\n          />\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport const renderInlineSceneVariable = ({\n  value,\n}: ParameterInlineRendererProps) => {\n  return renderVariableWithIcon(\n    value,\n    'res/types/scenevar.png',\n    'scene variable'\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport VariableField, { renderVariableWithIcon } from './VariableField';\nimport VariablesEditorDialog from '../../VariablesList/VariablesEditorDialog';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\n\ntype State = {|\n  editorOpen: boolean,\n|};\n\nexport default class GlobalVariableField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  _field: ?VariableField;\n  state = {\n    editorOpen: false,\n  };\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { project, scope } = this.props;\n\n    return (\n      <div>\n        <VariableField\n          variablesContainer={project ? project.getVariables() : null}\n          parameterMetadata={this.props.parameterMetadata}\n          value={this.props.value}\n          onChange={this.props.onChange}\n          isInline={this.props.isInline}\n          ref={field => (this._field = field)}\n          onOpenDialog={() => this.setState({ editorOpen: true })}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n          scope={scope}\n        />\n        {this.state.editorOpen && project && (\n          <VariablesEditorDialog\n            open={this.state.editorOpen}\n            variablesContainer={project.getVariables()}\n            onCancel={() => this.setState({ editorOpen: false })}\n            onApply={() => {\n              this.setState({ editorOpen: false });\n            }}\n            emptyExplanationMessage=\"Global variables are variables that are persisted across the scenes during the game.\"\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport const renderInlineGlobalVariable = ({\n  value,\n}: ParameterInlineRendererProps) => {\n  return renderVariableWithIcon(\n    value,\n    'res/types/globalvar.png',\n    'global variable'\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport VariableField, { renderVariableWithIcon } from './VariableField';\nimport VariablesEditorDialog from '../../VariablesList/VariablesEditorDialog';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport { getLastObjectParameterValue } from './ParameterMetadataTools';\n\ntype State = {|\n  editorOpen: boolean,\n|};\n\nexport default class ObjectVariableField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  _field: ?VariableField;\n  state = {\n    editorOpen: false,\n  };\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const {\n      project,\n      scope,\n      instructionMetadata,\n      instruction,\n      expressionMetadata,\n      expression,\n      parameterIndex,\n    } = this.props;\n\n    const objectName = getLastObjectParameterValue({\n      instructionMetadata,\n      instruction,\n      expressionMetadata,\n      expression,\n      parameterIndex,\n    });\n\n    let variablesContainer = null;\n    if (objectName) {\n      const { layout } = scope;\n      if (layout && layout.hasObjectNamed(objectName)) {\n        variablesContainer = layout.getObject(objectName).getVariables();\n      } else if (project && project.hasObjectNamed(objectName)) {\n        variablesContainer = project.getObject(objectName).getVariables();\n      }\n    }\n\n    return (\n      <div>\n        <VariableField\n          variablesContainer={variablesContainer}\n          parameterMetadata={this.props.parameterMetadata}\n          value={this.props.value}\n          onChange={this.props.onChange}\n          isInline={this.props.isInline}\n          ref={field => (this._field = field)}\n          onOpenDialog={() => this.setState({ editorOpen: true })}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n          scope={scope}\n        />\n        {this.state.editorOpen && variablesContainer && (\n          <VariablesEditorDialog\n            open={this.state.editorOpen}\n            variablesContainer={variablesContainer}\n            onCancel={() => this.setState({ editorOpen: false })}\n            onApply={() => {\n              this.setState({ editorOpen: false });\n            }}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport const renderInlineObjectVariable = ({\n  value,\n}: ParameterInlineRendererProps) => {\n  return renderVariableWithIcon(\n    value,\n    'res/types/objectvar.png',\n    'object variable'\n  );\n};\n","// @flow\nimport React, { Component } from 'react';\nimport { mapFor } from '../../Utils/MapFor';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport SemiControlledAutoComplete from '../../UI/SemiControlledAutoComplete';\n\nexport default class LayerField extends Component<ParameterFieldProps, {||}> {\n  _field: ?SemiControlledAutoComplete;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { value, onChange, isInline, scope, parameterMetadata } = this.props;\n    const { layout } = scope;\n    const layerNames = layout\n      ? mapFor(0, layout.getLayersCount(), i => {\n          const layer = layout.getLayerAt(i);\n          return layer.getName();\n        })\n      : [];\n\n    return (\n      <SemiControlledAutoComplete\n        floatingLabelText={\n          parameterMetadata ? parameterMetadata.getDescription() : undefined\n        }\n        value={value}\n        onChange={onChange}\n        openOnFocus={isInline}\n        dataSource={layerNames.map(layerName => ({\n          text: layerName || '(Base layer)',\n          value: `\"${layerName}\"`,\n        }))}\n        hintText={'\"\"'}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport ResourceSelector from '../../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\n\nexport default class AudioResourceField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?ResourceSelector;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    if (\n      !this.props.resourceSources ||\n      !this.props.onChooseResource ||\n      !this.props.resourceExternalEditors ||\n      !this.props.project\n    ) {\n      console.error(\n        'Missing project, resourceSources, onChooseResource or resourceExternalEditors for AudioResourceField'\n      );\n      return null;\n    }\n\n    return (\n      <ResourceSelector\n        project={this.props.project}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        resourcesLoader={ResourcesLoader}\n        resourceKind=\"audio\"\n        fullWidth\n        initialResourceName={this.props.value}\n        onChange={this.props.onChange}\n        floatingLabelText={<Trans>Choose the audio file to use</Trans>}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport ResourceSelector from '../../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\n\nexport default class VideoResourceField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?ResourceSelector;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    if (\n      !this.props.resourceSources ||\n      !this.props.onChooseResource ||\n      !this.props.resourceExternalEditors ||\n      !this.props.project\n    ) {\n      console.error(\n        'Missing project, resourceSources, onChooseResource or resourceExternalEditors for VideoResourceField'\n      );\n      return null;\n    }\n\n    return (\n      <ResourceSelector\n        project={this.props.project}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        resourcesLoader={ResourcesLoader}\n        resourceKind=\"video\"\n        fullWidth\n        initialResourceName={this.props.value}\n        onChange={this.props.onChange}\n        floatingLabelText={<Trans>Choose the video file to use</Trans>}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport ResourceSelector from '../../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\n\nexport default class JsonResourceField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?ResourceSelector;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    if (\n      !this.props.resourceSources ||\n      !this.props.onChooseResource ||\n      !this.props.resourceExternalEditors ||\n      !this.props.project\n    ) {\n      console.error(\n        'Missing project, resourceSources, onChooseResource or resourceExternalEditors for JsonResourceField'\n      );\n      return null;\n    }\n\n    return (\n      <ResourceSelector\n        project={this.props.project}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        resourcesLoader={ResourcesLoader}\n        resourceKind=\"json\"\n        fullWidth\n        initialResourceName={this.props.value}\n        onChange={this.props.onChange}\n        floatingLabelText={<Trans>Choose the json file to use</Trans>}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport GenericExpressionField from './GenericExpressionField';\nimport ColorPicker from '../../UI/ColorField/ColorPicker';\n\nconst parseColor = (rgbColor: string) => {\n  const colors = rgbColor.replace(/\"/g, '').split(';');\n  if (colors.length !== 3) {\n    return null;\n  }\n\n  const r = parseInt(colors[0], 10);\n  const g = parseInt(colors[1], 10);\n  const b = parseInt(colors[2], 10);\n\n  // Check if parsing of number was done properly (if not,\n  // we receive NaN which is not equal to itself).\n  // eslint-disable-next-line\n  if (r !== r || g !== g || b !== b) return null;\n\n  return {\n    r,\n    g,\n    b,\n    a: 255,\n  };\n};\n\nexport default class ParameterColorField extends Component<ParameterFieldProps> {\n  _field: ?GenericExpressionField;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <GenericExpressionField\n        expressionType=\"string\"\n        ref={field => (this._field = field)}\n        renderExtraButton={({ style }) => (\n          <ColorPicker\n            style={style}\n            disableAlpha\n            color={parseColor(this.props.value)}\n            onChangeComplete={color => {\n              this.props.onChange(\n                '\"' + color.rgb.r + ';' + color.rgb.g + ';' + color.rgb.b + '\"'\n              );\n            }}\n          />\n        )}\n        {...this.props}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport React, { Component } from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Line, Column } from '../../UI/Grid';\nimport { makeNonBreakable } from '../../Utils/StringHelpers';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport GenericExpressionField from './GenericExpressionField';\nimport BackgroundText from '../../UI/BackgroundText';\n\ntype State = {|\n  showDeprecatedNumericValue: boolean,\n|};\n\nexport default class ForceMultiplierField extends Component<\n  ParameterFieldProps,\n  State\n> {\n  state = {\n    showDeprecatedNumericValue:\n      this.props.value !== '' &&\n      this.props.value !== '1' &&\n      this.props.value !== '0',\n  };\n\n  focus() {}\n\n  render() {\n    const { showDeprecatedNumericValue } = this.state;\n    return (\n      <Column expand noMargin>\n        <Line expand alignItems=\"center\">\n          <Column>\n            <RaisedButton\n              label={makeNonBreakable('Instant')}\n              primary={this.props.value === '' || this.props.value === '0'}\n              onClick={() => this.props.onChange('0')}\n            />\n          </Column>\n          <Column>\n            <p>\n              <Trans>\n                The force will only push the object during the time of one\n                frame. Typically used in an event with no conditions or with\n                conditions that stay valid for a certain amount of time.\n              </Trans>\n            </p>\n          </Column>\n        </Line>\n        <Line expand alignItems=\"center\">\n          <Column>\n            <RaisedButton\n              label={<Trans>Permanent</Trans>}\n              primary={this.props.value === '1'}\n              onClick={() => this.props.onChange('1')}\n            />\n          </Column>\n          <Column>\n            <p>\n              <Trans>\n                The force will push the object forever, unless you use the\n                action \"Stop the object\". Typically used in an event with\n                conditions that are only true once, or with a \"Trigger Once\"\n                condition.\n              </Trans>\n            </p>\n          </Column>\n        </Line>\n        {showDeprecatedNumericValue && (\n          <React.Fragment>\n            <BackgroundText>\n              <Trans>or</Trans>\n            </BackgroundText>\n            <Line expand>\n              <Column expand>\n                <GenericExpressionField\n                  expressionType=\"number\"\n                  {...this.props}\n                />\n              </Column>\n            </Line>\n            <BackgroundText>\n              <Trans>\n                The usage of a number or expression is deprecated. Please now\n                use only \"Permanent\" or \"Instant\" for configuring forces.\n              </Trans>\n            </BackgroundText>\n          </React.Fragment>\n        )}\n      </Column>\n    );\n  }\n}\n\nexport const renderInlineForceMultiplier = ({\n  value,\n}: ParameterInlineRendererProps) => {\n  if (value === '1') return 'a permanent';\n  else if (value === '0' || value === '') return 'an instant';\n\n  return 'a (multiplier: ' + value + ')';\n};\n","// @flow\nimport React, { Component } from 'react';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport SemiControlledAutoComplete from '../../UI/SemiControlledAutoComplete';\nimport { enumerateLayouts } from '../../ProjectManager/EnumerateProjectItems';\n\nexport default class SceneNameField extends Component<\n  ParameterFieldProps,\n  {||}\n> {\n  _field: ?SemiControlledAutoComplete;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const {\n      value,\n      onChange,\n      isInline,\n      project,\n      parameterMetadata,\n    } = this.props;\n    const layoutNames = project\n      ? enumerateLayouts(project).map(layout => layout.getName())\n      : [];\n\n    return (\n      <SemiControlledAutoComplete\n        floatingLabelText={\n          parameterMetadata ? parameterMetadata.getDescription() : undefined\n        }\n        value={value}\n        onChange={onChange}\n        openOnFocus={isInline}\n        dataSource={layoutNames.map(layoutName => ({\n          text: layoutName,\n          value: `\"${layoutName}\"`,\n        }))}\n        hintText={'\"\"'}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { instructionInvalidParameter } from './ClassNames';\n\ntype Props = {| children: React.Node, isEmpty?: boolean |};\n\n/**\n * Displayed when a parameter is invalid\n */\nexport default ({ children, isEmpty }: Props) =>\n  isEmpty ? (\n    <span className={instructionInvalidParameter}>&lt; {children} &gt;</span>\n  ) : (\n    <span className={instructionInvalidParameter}>{children}</span>\n  );\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport TextField from 'material-ui/TextField';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n  disabledText,\n} from '../ClassNames';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    height: 40,\n    display: 'flex',\n    alignItems: 'center',\n    padding: 5,\n    overflow: 'hidden',\n  },\n  title: {\n    fontSize: 18,\n  },\n};\n\nexport default class GroupEvent extends React.Component<EventRendererProps, *> {\n  state = {\n    editing: false,\n  };\n  _textField: ?TextField = null;\n\n  edit = () => {\n    this.setState(\n      {\n        editing: true,\n      },\n      () => {\n        if (this._textField) this._textField.focus();\n      }\n    );\n  };\n\n  endEditing = () => {\n    this.setState({\n      editing: false,\n    });\n  };\n\n  render() {\n    var groupEvent = gd.asGroupEvent(this.props.event);\n\n    const r = groupEvent.getBackgroundColorR(),\n      g = groupEvent.getBackgroundColorG(),\n      b = groupEvent.getBackgroundColorB();\n\n    const textColor = (r + g + b) / 3 > 200 ? 'black' : 'white';\n\n    return (\n      <div\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n        })}\n        style={{\n          ...styles.container,\n          backgroundColor: `rgb(${r}, ${g}, ${b})`,\n        }}\n        onClick={this.edit}\n      >\n        {this.state.editing ? (\n          <TextField\n            ref={textField => (this._textField = textField)}\n            value={groupEvent.getName()}\n            hintText={<Trans>&lt;Enter group name&gt;</Trans>}\n            onBlur={this.endEditing}\n            onChange={(e, text) => {\n              groupEvent.setName(text);\n              this.forceUpdate();\n            }}\n            style={styles.title}\n            inputStyle={{\n              color: textColor,\n              WebkitTextFillColor: textColor,\n            }}\n            underlineFocusStyle={{\n              borderColor: textColor,\n            }}\n            fullWidth\n            id=\"group-title\"\n          />\n        ) : (\n          <span\n            className={classNames({\n              [selectableArea]: true,\n              [disabledText]: this.props.disabled,\n            })}\n            style={{ ...styles.title, color: textColor }}\n          >\n            {groupEvent.getName() || '<Enter group name>'}\n          </span>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\nimport { type EventRendererProps } from './EventRenderer.flow';\nimport { rgbToHex } from '../../../Utils/ColorTransformer';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n} from '../ClassNames';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    minHeight: 30,\n    display: 'flex',\n    backgroundColor: '#fbf3d9',\n  },\n  text: {\n    flex: 1,\n    whiteSpace: 'pre-line',\n    margin: 0,\n    padding: 5,\n  },\n  textArea: {\n    padding: 5,\n    flex: 1,\n    boxSizing: 'border-box',\n    width: '100%',\n    fontSize: 14,\n  },\n};\n\ntype State = {|\n  editing: boolean,\n  height: number,\n|};\n\nexport default class CommentEvent extends React.Component<\n  EventRendererProps,\n  State\n> {\n  state = {\n    editing: false,\n    height: 0,\n  };\n\n  _container: ?any;\n  _input: ?any;\n\n  edit = () => {\n    if (!this._container) return;\n\n    this.setState(\n      {\n        editing: true,\n        height: this._container.offsetHeight,\n      },\n      () => {\n        // $FlowFixMe\n        const input: ?HTMLInputElement = ReactDOM.findDOMNode(this._input);\n        if (input) {\n          input.focus();\n          input.value = gd.asCommentEvent(this.props.event).getComment();\n        }\n      }\n    );\n  };\n\n  endEditing = () => {\n    const commentEvent = gd.asCommentEvent(this.props.event);\n\n    // $FlowFixMe\n    const input: ?HTMLInputElement = ReactDOM.findDOMNode(this._input);\n    if (input) commentEvent.setComment(input.value);\n\n    this.setState(\n      {\n        editing: false,\n      },\n      () => this.props.onUpdate()\n    );\n  };\n\n  _getCommentHTML = () => {\n    const commentEvent = gd.asCommentEvent(this.props.event);\n    return commentEvent\n      .getComment()\n      .replace(/&/g, '&amp;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;')\n      .replace(/\\n/g, '<br>');\n  };\n\n  render() {\n    const commentEvent = gd.asCommentEvent(this.props.event);\n    const color = rgbToHex(\n      commentEvent.getBackgroundColorRed(),\n      commentEvent.getBackgroundColorGreen(),\n      commentEvent.getBackgroundColorBlue()\n    );\n    const textColor = rgbToHex(\n      commentEvent.getTextColorRed(),\n      commentEvent.getTextColorGreen(),\n      commentEvent.getTextColorBlue()\n    );\n\n    return (\n      <div\n        style={{ ...styles.container, backgroundColor: `#${color}` }}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n        })}\n        ref={container => (this._container = container)}\n      >\n        {!this.state.editing ? (\n          <p\n            className={classNames({\n              [selectableArea]: true,\n            })}\n            onClick={this.edit}\n            key=\"p\"\n            style={{ ...styles.text, color: `#${textColor}` }}\n            dangerouslySetInnerHTML={{\n              __html: this._getCommentHTML(),\n            }}\n          />\n        ) : (\n          <textarea\n            key=\"textarea\"\n            type=\"text\"\n            style={{ ...styles.textArea, height: this.state.height }}\n            onBlur={this.endEditing}\n            ref={input => (this._input = input)}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport InstructionsList from '../InstructionsList.js';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n  executableEventContainer,\n  disabledText,\n} from '../ClassNames';\nimport InlinePopover from '../../InlinePopover';\nimport ObjectField from '../../ParameterFields/ObjectField';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  instructionsContainer: {\n    display: 'flex',\n  },\n  actionsList: {\n    flex: 1,\n  },\n};\n\nexport default class ForEachEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  state = {\n    editing: false,\n    anchorEl: null,\n  };\n\n  edit = (domEvent: any) => {\n    this.setState({\n      editing: true,\n      anchorEl: domEvent.currentTarget,\n    });\n  };\n\n  endEditing = () => {\n    this.setState({\n      editing: false,\n      anchorEl: null,\n    });\n  };\n\n  render() {\n    var forEachEvent = gd.asForEachEvent(this.props.event);\n\n    const conditionsListSyle = {\n      width: `calc(35vw - ${this.props.leftIndentWidth}px)`,\n    };\n\n    const objectName = forEachEvent.getObjectToPick();\n    return (\n      <div\n        style={styles.container}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n          [executableEventContainer]: true,\n        })}\n      >\n        <div\n          className={classNames({\n            [selectableArea]: true,\n            [disabledText]: this.props.disabled,\n          })}\n          onClick={this.edit}\n        >\n          {objectName ? (\n            `Repeat for each ${objectName} object:`\n          ) : (\n            <i>Click to choose for which objects this event will be repeated</i>\n          )}\n        </div>\n        <div style={styles.instructionsContainer}>\n          <InstructionsList\n            instrsList={forEachEvent.getConditions()}\n            style={conditionsListSyle}\n            selection={this.props.selection}\n            areConditions\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onPasteInstructions={this.props.onPasteInstructions}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n          <InstructionsList\n            instrsList={forEachEvent.getActions()}\n            style={\n              {\n                ...styles.actionsList,\n              } /* TODO: Use a new object to force update - somehow updates are not always propagated otherwise */\n            }\n            selection={this.props.selection}\n            areConditions={false}\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onPasteInstructions={this.props.onPasteInstructions}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n        </div>\n        <InlinePopover\n          open={this.state.editing}\n          anchorEl={this.state.anchorEl}\n          onRequestClose={this.endEditing}\n        >\n          <ObjectField\n            project={this.props.project}\n            scope={this.props.scope}\n            globalObjectsContainer={this.props.globalObjectsContainer}\n            objectsContainer={this.props.objectsContainer}\n            value={objectName}\n            onChange={text => {\n              forEachEvent.setObjectToPick(text);\n              this.props.onUpdate();\n            }}\n            isInline\n          />\n        </InlinePopover>\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport InstructionsList from '../InstructionsList.js';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n  executableEventContainer,\n  disabledText,\n} from '../ClassNames';\nimport InlinePopover from '../../InlinePopover';\nimport DefaultField from '../../ParameterFields/DefaultField';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  instructionsContainer: {\n    display: 'flex',\n  },\n  actionsList: {\n    flex: 1,\n  },\n};\n\nexport default class RepeatEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  state = {\n    editing: false,\n    anchorEl: null,\n  };\n\n  edit = (domEvent: any) => {\n    this.setState({\n      editing: true,\n      anchorEl: domEvent.currentTarget,\n    });\n  };\n\n  endEditing = () => {\n    this.setState({\n      editing: false,\n      anchorEl: null,\n    });\n  };\n\n  render() {\n    var repeatEvent = gd.asRepeatEvent(this.props.event);\n\n    const conditionsListSyle = {\n      width: `calc(35vw - ${this.props.leftIndentWidth}px)`,\n    };\n\n    const expression = repeatEvent.getRepeatExpression();\n    return (\n      <div\n        style={styles.container}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n          [executableEventContainer]: true,\n        })}\n      >\n        <div\n          className={classNames({\n            [selectableArea]: true,\n            [disabledText]: this.props.disabled,\n          })}\n          onClick={this.edit}\n        >\n          {expression ? (\n            `Repeat ${expression} times:`\n          ) : (\n            <i>Click to choose how many times will be repeated</i>\n          )}\n        </div>\n        <div style={styles.instructionsContainer}>\n          <InstructionsList\n            instrsList={repeatEvent.getConditions()}\n            style={conditionsListSyle}\n            selection={this.props.selection}\n            areConditions\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onPasteInstructions={this.props.onPasteInstructions}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n          <InstructionsList\n            instrsList={repeatEvent.getActions()}\n            style={\n              {\n                ...styles.actionsList,\n              } /* TODO: Use a new object to force update - somehow updates are not always propagated otherwise */\n            }\n            selection={this.props.selection}\n            areConditions={false}\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onPasteInstructions={this.props.onPasteInstructions}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n        </div>\n        <InlinePopover\n          open={this.state.editing}\n          anchorEl={this.state.anchorEl}\n          onRequestClose={this.endEditing}\n        >\n          <DefaultField\n            project={this.props.project}\n            scope={this.props.scope}\n            globalObjectsContainer={this.props.globalObjectsContainer}\n            objectsContainer={this.props.objectsContainer}\n            value={expression}\n            onChange={text => {\n              repeatEvent.setRepeatExpression(text);\n              this.props.onUpdate();\n            }}\n            isInline\n          />\n        </InlinePopover>\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport InstructionsList from '../InstructionsList';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  executableEventContainer,\n  disabledText,\n} from '../ClassNames';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  instructionsContainer: {\n    display: 'flex',\n  },\n  actionsList: {\n    flex: 1,\n  },\n};\n\nexport default class ForEachEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  render() {\n    var whileEvent = gd.asWhileEvent(this.props.event);\n\n    const conditionsListSyle = {\n      width: `calc(35vw - ${this.props.leftIndentWidth}px)`,\n    };\n\n    return (\n      <div\n        style={styles.container}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n          [executableEventContainer]: true,\n        })}\n      >\n        <div\n          className={classNames({\n            [disabledText]: this.props.disabled,\n          })}\n        >\n          While these conditions are true:\n        </div>\n        <InstructionsList\n          instrsList={whileEvent.getWhileConditions()}\n          style={\n            {} /* TODO: Use a new object to force update - somehow updates are not always propagated otherwise */\n          }\n          selection={this.props.selection}\n          areConditions\n          onAddNewInstruction={this.props.onAddNewInstruction}\n          onPasteInstructions={this.props.onPasteInstructions}\n          onMoveToInstruction={this.props.onMoveToInstruction}\n          onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n          onInstructionClick={this.props.onInstructionClick}\n          onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n          onInstructionContextMenu={this.props.onInstructionContextMenu}\n          onInstructionsListContextMenu={\n            this.props.onInstructionsListContextMenu\n          }\n          onParameterClick={this.props.onParameterClick}\n          disabled={this.props.disabled}\n          renderObjectThumbnail={this.props.renderObjectThumbnail}\n        />\n        <div\n          className={classNames({\n            [disabledText]: this.props.disabled,\n          })}\n        >\n          Repeat these:\n        </div>\n        <div style={styles.instructionsContainer}>\n          <InstructionsList\n            instrsList={whileEvent.getConditions()}\n            style={conditionsListSyle}\n            selection={this.props.selection}\n            areConditions\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onPasteInstructions={this.props.onPasteInstructions}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n          <InstructionsList\n            instrsList={whileEvent.getActions()}\n            style={\n              {\n                ...styles.actionsList,\n              } /* TODO: Use a new object to force update - somehow updates are not always propagated otherwise */\n            }\n            selection={this.props.selection}\n            areConditions={false}\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onPasteInstructions={this.props.onPasteInstructions}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\nimport IconButton from 'material-ui/IconButton';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n  linkContainer,\n  disabledText,\n} from '../ClassNames';\nimport InlinePopover from '../../InlinePopover';\nimport ExternalEventsField from '../../ParameterFields/ExternalEventsField';\nimport { showWarningBox } from '../../../UI/Messages/MessageBox';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    height: 60,\n    display: 'flex',\n    alignItems: 'center',\n    padding: 5,\n  },\n  title: {\n    fontSize: 18,\n  },\n};\n\nexport default class LinkEvent extends React.Component<EventRendererProps, *> {\n  _externalEventsField = null;\n\n  state = {\n    editing: false,\n    anchorEl: null,\n  };\n\n  edit = (domEvent: any) => {\n    this.setState(\n      {\n        editing: true,\n        anchorEl: domEvent.currentTarget,\n      },\n      () => {\n        if (this._externalEventsField) this._externalEventsField.focus();\n      }\n    );\n  };\n\n  openTarget = (i18n: I18nType) => {\n    const { project, event, onOpenLayout, onOpenExternalEvents } = this.props;\n    const linkEvent = gd.asLinkEvent(event);\n    const target = linkEvent.getTarget();\n\n    if (project.hasExternalEventsNamed(target)) {\n      onOpenExternalEvents(target);\n    } else if (project.hasLayoutNamed(target)) {\n      onOpenLayout(target);\n    } else {\n      showWarningBox(\n        i18n._(\n          t`The specified external events do not exist in the game. Be sure that the name is correctly spelled or create them using the project manager.`\n        )\n      );\n    }\n  };\n\n  endEditing = () => {\n    this.setState({\n      editing: false,\n      anchorEl: null,\n    });\n  };\n\n  render() {\n    const linkEvent = gd.asLinkEvent(this.props.event);\n    const target = linkEvent.getTarget();\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <div\n            className={classNames({\n              [largeSelectableArea]: true,\n              [largeSelectedArea]: this.props.selected,\n              [linkContainer]: true,\n            })}\n            style={styles.container}\n          >\n            <span\n              style={styles.title}\n              className={classNames({\n                [disabledText]: this.props.disabled,\n              })}\n            >\n              <Trans>Include events from</Trans>{' '}\n              <i\n                className={classNames({\n                  [selectableArea]: true,\n                })}\n                onClick={this.edit}\n              >\n                {target || (\n                  <Trans>&lt; Enter the name of external events &gt;</Trans>\n                )}\n              </i>\n            </span>\n            <IconButton\n              onClick={() => this.openTarget(i18n)}\n              disabled={!target}\n            >\n              <OpenInNew />\n            </IconButton>\n            <InlinePopover\n              open={this.state.editing}\n              anchorEl={this.state.anchorEl}\n              onRequestClose={this.endEditing}\n            >\n              <ExternalEventsField\n                project={this.props.project}\n                scope={this.props.scope}\n                globalObjectsContainer={this.props.globalObjectsContainer}\n                objectsContainer={this.props.objectsContainer}\n                value={target}\n                onChange={text => {\n                  linkEvent.setTarget(text);\n                  this.props.onUpdate();\n                }}\n                isInline\n                ref={externalEventsField =>\n                  (this._externalEventsField = externalEventsField)\n                }\n              />\n            </InlinePopover>\n          </div>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport {\n  enumerateLayouts,\n  enumerateExternalEvents,\n} from '../../ProjectManager/EnumerateProjectItems';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport SemiControlledAutoComplete, {\n  type DataSource,\n} from '../../UI/SemiControlledAutoComplete';\n\nconst getList = (project: ?gdProject): DataSource => {\n  if (!project) {\n    return [];\n  }\n\n  const externalEvents = enumerateExternalEvents(project).map(\n    externalEvents => ({\n      text: externalEvents.getName(),\n      value: externalEvents.getName(),\n    })\n  );\n  const layouts = enumerateLayouts(project).map(layout => ({\n    text: layout.getName(),\n    value: layout.getName(),\n  }));\n  return [...externalEvents, { type: 'separator' }, ...layouts];\n};\n\nexport default class ExternalEventsField extends React.Component<\n  ParameterFieldProps,\n  {||}\n> {\n  _field: ?any;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const {\n      value,\n      onChange,\n      isInline,\n      project,\n      parameterMetadata,\n    } = this.props;\n\n    return (\n      <SemiControlledAutoComplete\n        floatingLabelText={\n          parameterMetadata ? parameterMetadata.getDescription() : undefined\n        }\n        id=\"external-events-field\"\n        value={value}\n        onChange={onChange}\n        dataSource={getList(project)}\n        openOnFocus={!isInline}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\nimport InlinePopover from '../../InlinePopover';\nimport ObjectField from '../../ParameterFields/ObjectField';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n} from '../ClassNames';\nimport { getHelpLink } from '../../../Utils/HelpLink';\nimport { type EventRendererProps } from './EventRenderer.flow';\nimport Measure from 'react-measure';\nimport { CodeEditor } from '../../../CodeEditor';\nconst gd = global.gd;\n\nconst fontFamily = '\"Lucida Console\", Monaco, monospace';\n\nconst styles = {\n  container: {\n    minHeight: 30,\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: '#1e1e1e',\n  },\n  wrappingText: {\n    fontFamily,\n    fontSize: '12px',\n    paddingLeft: 5,\n    paddingRight: 5,\n    margin: 0,\n    backgroundColor: '#1e1e1e',\n    color: '#d4d4d4',\n    overflowX: 'hidden',\n    maxWidth: '100%',\n  },\n  comment: {\n    color: '#777',\n  },\n  commentLink: {\n    cursor: 'pointer',\n    color: '#777',\n    textDecoration: 'underline',\n  },\n};\n\ntype State = {|\n  width: number,\n  editing: boolean,\n  editingObject: boolean,\n  anchorEl: ?any,\n|};\n\nexport default class JsCodeEvent extends React.Component<\n  EventRendererProps,\n  State\n> {\n  state = {\n    width: 0,\n    editing: false,\n    editingObject: false,\n    anchorEl: null,\n  };\n\n  _input: ?any;\n  _container: ?any;\n\n  edit = () => {\n    if (!this._container) return;\n\n    this.setState(\n      {\n        editing: true,\n      },\n      () => {\n        // $FlowFixMe\n        const input: ?HTMLInputElement = ReactDOM.findDOMNode(this._input);\n        if (input) {\n          input.focus();\n          input.value = gd.asJsCodeEvent(this.props.event).getInlineCode();\n        }\n      }\n    );\n  };\n\n  endEditing = () => {\n    const jsCodeEvent = gd.asJsCodeEvent(this.props.event);\n\n    // $FlowFixMe\n    const input: ?HTMLInputElement = ReactDOM.findDOMNode(this._input);\n    if (input) jsCodeEvent.setInlineCode(input.value);\n\n    this.setState(\n      {\n        editing: false,\n      },\n      () => this.props.onUpdate()\n    );\n  };\n\n  onChange = (newValue: string) => {\n    const jsCodeEvent = gd.asJsCodeEvent(this.props.event);\n    jsCodeEvent.setInlineCode(newValue);\n  };\n\n  editObject = (domEvent: any) => {\n    this.setState({\n      editingObject: true,\n      anchorEl: domEvent.currentTarget,\n    });\n  };\n\n  endObjectEditing = () => {\n    this.setState({\n      editingObject: false,\n      anchorEl: null,\n    });\n  };\n\n  render() {\n    const jsCodeEvent = gd.asJsCodeEvent(this.props.event);\n    const parameterObjects = jsCodeEvent.getParameterObjects();\n    const objects = (\n      <span\n        className={classNames({\n          [selectableArea]: true,\n        })}\n        onClick={this.editObject}\n      >\n        {parameterObjects\n          ? `, objects /*${parameterObjects}*/`\n          : ' /* Click here to choose objects to pass to JavaScript */'}\n      </span>\n    );\n\n    const eventsFunctionContext = this.props.scope.eventsFunction ? (\n      <span>, eventsFunctionContext</span>\n    ) : null;\n\n    const functionStart = (\n      <p style={styles.wrappingText}>\n        <span>{'(function(runtimeScene'}</span>\n        {objects}\n        {eventsFunctionContext}\n        <span>{') {'}</span>\n      </p>\n    );\n    const functionEnd = (\n      <p style={styles.wrappingText}>\n        <span>{'})(runtimeScene'}</span>\n        {objects}\n        {eventsFunctionContext}\n        <span>{');'}</span>\n        <span style={styles.comment}>\n          {' // '}\n          <a\n            href={getHelpLink('/events/js-code')}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            style={styles.commentLink}\n          >\n            Read the documentation and help\n          </a>\n        </span>\n      </p>\n    );\n\n    return (\n      <Measure onMeasure={({ width }) => this.setState({ width })}>\n        <div\n          style={styles.container}\n          className={classNames({\n            [largeSelectableArea]: true,\n            [largeSelectedArea]: this.props.selected,\n          })}\n          ref={container => (this._container = container)}\n        >\n          {functionStart}\n          <CodeEditor\n            value={jsCodeEvent.getInlineCode()}\n            onChange={this.onChange}\n            width={this.state.width}\n            onEditorMounted={() => this.props.onUpdate()}\n          />\n          {functionEnd}\n          <InlinePopover\n            open={this.state.editingObject}\n            anchorEl={this.state.anchorEl}\n            onRequestClose={this.endObjectEditing}\n          >\n            <ObjectField\n              project={this.props.project}\n              scope={this.props.scope}\n              globalObjectsContainer={this.props.globalObjectsContainer}\n              objectsContainer={this.props.objectsContainer}\n              value={parameterObjects}\n              onChange={text => {\n                jsCodeEvent.setParameterObjects(text);\n                this.props.onUpdate();\n              }}\n              isInline\n            />\n          </InlinePopover>\n        </div>\n      </Measure>\n    );\n  }\n}\n","// @flow\n\ntype WatchedComponent = {\n  +onHeightsChanged: Function => void,\n};\n\n/**\n * Store the height of events and notify a component whenever\n * heights have changed.\n * Needed for EventsTree as we need to tell it when heights have changed\n * so it can recompute the internal row heights of the react-virtualized List.\n */\nexport default class EventHeightsCache {\n  eventHeights = {};\n  updateTimeoutId: ?TimeoutID = null;\n  component: ?WatchedComponent = null;\n\n  constructor(component: WatchedComponent) {\n    this.component = component;\n  }\n\n  _notifyComponent() {\n    if (this.updateTimeoutId) {\n      return; // An update is already scheduled.\n    }\n\n    // Notify the component, on the next tick, that heights have changed\n    this.updateTimeoutId = setTimeout(() => {\n      if (this.component) {\n        this.component.onHeightsChanged(() => (this.updateTimeoutId = null));\n      } else {\n        this.updateTimeoutId = null;\n      }\n    }, 0);\n  }\n\n  setEventHeight(event: gdBaseEvent, height: number) {\n    const cachedHeight = this.eventHeights[event.ptr];\n    if (cachedHeight === undefined || cachedHeight !== height) {\n      // console.log(event.ptr, 'has a new height', height, 'old:', cachedHeight);\n      this._notifyComponent();\n    }\n\n    this.eventHeights[event.ptr] = height;\n  }\n\n  getEventHeight(event: gdBaseEvent): number {\n    return this.eventHeights[event.ptr] || 60;\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../ResourcesList/ResourceExternalEditor.flow';\nimport InstructionParametersEditor from './InstructionParametersEditor';\nimport InstructionOrObjectSelector, {\n  type TabName,\n} from './InstructionOrObjectSelector';\nimport { Column } from '../../UI/Grid';\nimport {\n  createTree,\n  type InstructionOrExpressionTreeNode,\n} from './InstructionOrExpressionSelector/CreateTree';\nimport {\n  type EnumeratedInstructionOrExpressionMetadata,\n  filterEnumeratedInstructionOrExpressionMetadataByScope,\n} from './InstructionOrExpressionSelector/EnumeratedInstructionOrExpressionMetadata.js';\nimport InstructionOrExpressionSelector from './InstructionOrExpressionSelector';\nimport {\n  enumerateObjectInstructions,\n  enumerateInstructions,\n} from './InstructionOrExpressionSelector/EnumerateInstructions';\nimport HelpButton from '../../UI/HelpButton';\nimport Background from '../../UI/Background';\nimport { type EventsScope } from '../EventsScope.flow';\nimport { SelectColumns } from '../../UI/Reponsive/SelectColumns';\nimport {\n  ResponsiveWidthMeasurer,\n  type WidthType,\n} from '../../UI/Reponsive/ReponsiveWidthMeasurer';\nconst gd = global.gd;\n\nconst styles = {\n  dialogContent: {\n    width: 'calc(100% - 16px)',\n    maxWidth: 'none',\n  },\n  dialogBody: {\n    padding: 0,\n    display: 'flex',\n    flexDirection: 'row',\n  },\n};\n\ntype StepName =\n  | 'object-or-free-instructions'\n  | 'object-instructions'\n  | 'parameters';\n\ntype Props = {|\n  project: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  instruction: gdInstruction,\n  isCondition: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  style?: Object,\n  isNewInstruction: boolean,\n  onCancel: () => void,\n  onSubmit: () => void,\n  open: boolean,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n|};\ntype State = {|\n  step: StepName,\n  chosenObjectName: ?string,\n  chosenObjectInstructionsInfo: ?Array<EnumeratedInstructionOrExpressionMetadata>,\n  chosenObjectInstructionsInfoTree: ?InstructionOrExpressionTreeNode,\n  currentInstructionOrObjectSelectorTab: TabName,\n|};\n\nconst findInstruction = (\n  list: Array<EnumeratedInstructionOrExpressionMetadata>,\n  instructionType: string\n): ?EnumeratedInstructionOrExpressionMetadata => {\n  return list.find(({ type }) => type === instructionType);\n};\n\nexport default class NewInstructionEditorDialog extends React.Component<\n  Props,\n  State\n> {\n  state = this._getInitialState();\n  _instructionParametersEditor: ?InstructionParametersEditor;\n\n  _getInitialState(): State {\n    const { isNewInstruction, isCondition, instruction } = this.props;\n\n    if (!isNewInstruction) {\n      // Check if the instruction is an object/behavior instruction. If yes\n      // select the object, which is the first parameter of the instruction.\n      const allInstructions = enumerateInstructions(isCondition);\n      const instructionType: string = instruction.getType();\n      const instructionMetadata = findInstruction(\n        allInstructions,\n        instructionType\n      );\n      if (\n        instructionMetadata &&\n        (instructionMetadata.scope.objectMetadata ||\n          instructionMetadata.scope.behaviorMetadata) &&\n        instruction.getParametersCount() > 0\n      ) {\n        return {\n          ...this._chooseObject(\n            instruction.getParameter(0),\n            false /* Even if the instruction is invalid for the object, show it as it's what we have already */\n          ),\n          step: isNewInstruction ? 'object-or-free-instructions' : 'parameters',\n          currentInstructionOrObjectSelectorTab: 'objects',\n        };\n      }\n    }\n\n    // We're either making a new instruction or editing a free instruction.\n    return {\n      chosenObjectName: null,\n      chosenObjectInstructionsInfo: null,\n      chosenObjectInstructionsInfoTree: null,\n      step: isNewInstruction ? 'object-or-free-instructions' : 'parameters',\n      currentInstructionOrObjectSelectorTab: isNewInstruction\n        ? 'objects'\n        : 'free-instructions',\n    };\n  }\n\n  _chooseFreeInstruction = (type: string) => {\n    const { instruction } = this.props;\n    instruction.setType(type);\n    this.setState(\n      {\n        chosenObjectName: null,\n        chosenObjectInstructionsInfo: null,\n        chosenObjectInstructionsInfoTree: null,\n      },\n      () => this._stepToParameters()\n    );\n  };\n\n  _chooseObject(\n    objectName: string,\n    discardInstructionTypeIfNotInObjectInstructions: boolean\n  ): State {\n    const {\n      globalObjectsContainer,\n      objectsContainer,\n      isCondition,\n      scope,\n      instruction,\n    } = this.props;\n\n    const chosenObjectInstructionsInfo = filterEnumeratedInstructionOrExpressionMetadataByScope(\n      enumerateObjectInstructions(\n        isCondition,\n        globalObjectsContainer,\n        objectsContainer,\n        objectName\n      ),\n      scope\n    );\n\n    // As we changed to a new object, verify if the instruction is still valid for this object. If not,\n    // discard the chosen instruction - this is to avoid the user creating invalid instructions.\n    if (\n      instruction.getType() &&\n      discardInstructionTypeIfNotInObjectInstructions\n    ) {\n      const instructionMetadata = findInstruction(\n        chosenObjectInstructionsInfo,\n        instruction.getType()\n      );\n      if (!instructionMetadata) {\n        instruction.setType('');\n      }\n    }\n\n    return {\n      step: 'object-instructions',\n      chosenObjectName: objectName,\n      chosenObjectInstructionsInfo,\n      chosenObjectInstructionsInfoTree: createTree(\n        chosenObjectInstructionsInfo\n      ),\n      currentInstructionOrObjectSelectorTab: 'objects',\n    };\n  }\n\n  _chooseObjectInstruction = (type: string) => {\n    const { instruction } = this.props;\n    instruction.setType(type);\n    this._stepToParameters();\n  };\n\n  _stepBackFrom = (origin: StepName, width: WidthType) => {\n    if (origin === 'parameters' && this.state.chosenObjectName) {\n      return this.setState({\n        // \"medium\" displays 2 columns, so \"Back\" button should go back to the first screen.\n        step:\n          width === 'medium'\n            ? 'object-or-free-instructions'\n            : 'object-instructions',\n      });\n    } else {\n      return this.setState({\n        step: 'object-or-free-instructions',\n      });\n    }\n  };\n\n  _stepToParameters = () => {\n    this.setState(\n      {\n        step: 'parameters',\n      },\n      () => {\n        if (this._instructionParametersEditor) {\n          this._instructionParametersEditor.focus();\n        }\n      }\n    );\n  };\n\n  // TODO: This was copied from InstructionParametersEditor. Move this to a helper\n  // or pass it down.\n  _getInstructionMetadata = (): ?gdInstructionMetadata => {\n    const { instruction, isCondition, project } = this.props;\n    const type = instruction.getType();\n    if (!type) return null;\n\n    return isCondition\n      ? gd.MetadataProvider.getConditionMetadata(\n          project.getCurrentPlatform(),\n          type\n        )\n      : gd.MetadataProvider.getActionMetadata(\n          project.getCurrentPlatform(),\n          type\n        );\n  };\n\n  render() {\n    const {\n      project,\n      scope,\n      globalObjectsContainer,\n      objectsContainer,\n      onCancel,\n      onSubmit,\n      open,\n      instruction,\n      isCondition,\n    } = this.props;\n    const {\n      step,\n      chosenObjectName,\n      chosenObjectInstructionsInfo,\n      chosenObjectInstructionsInfoTree,\n      currentInstructionOrObjectSelectorTab,\n    } = this.state;\n    const instructionType: string = instruction.getType();\n\n    const instructionMetadata = this._getInstructionMetadata();\n    const instructionHelpPage = instructionMetadata\n      ? instructionMetadata.getHelpPath()\n      : undefined;\n\n    const renderInstructionOrObjectSelector = () => (\n      <Background noFullHeight key=\"instruction-or-object-selector\">\n        <InstructionOrObjectSelector\n          style={{ flex: 1, display: 'flex', flexDirection: 'column' }}\n          project={project}\n          currentTab={currentInstructionOrObjectSelectorTab}\n          onChangeTab={currentInstructionOrObjectSelectorTab =>\n            this.setState({\n              currentInstructionOrObjectSelectorTab,\n            })\n          }\n          globalObjectsContainer={globalObjectsContainer}\n          objectsContainer={objectsContainer}\n          isCondition={isCondition}\n          chosenInstructionType={instructionType}\n          onChooseInstruction={this._chooseFreeInstruction}\n          chosenObjectName={chosenObjectName}\n          onChooseObject={objectName => {\n            this.setState(this._chooseObject(objectName, true));\n          }}\n          focusOnMount={!instructionType}\n          onSearchStartOrReset={() => {\n            this.forceUpdate(); /*Force update to ensure dialog is properly positioned*/\n          }}\n        />\n      </Background>\n    );\n\n    const renderParameters = () => (\n      <Column expand justifyContent=\"center\" key=\"parameters\">\n        <InstructionParametersEditor\n          project={project}\n          scope={scope}\n          globalObjectsContainer={globalObjectsContainer}\n          objectsContainer={objectsContainer}\n          objectName={chosenObjectName}\n          isCondition={isCondition}\n          instruction={instruction}\n          resourceSources={this.props.resourceSources}\n          onChooseResource={this.props.onChooseResource}\n          resourceExternalEditors={this.props.resourceExternalEditors}\n          openInstructionOrExpression={this.props.openInstructionOrExpression}\n          ref={instructionParametersEditor =>\n            (this._instructionParametersEditor = instructionParametersEditor)\n          }\n          focusOnMount={!!instructionType}\n          noHelpButton\n        />\n      </Column>\n    );\n\n    const renderObjectInstructionSelector = () =>\n      chosenObjectInstructionsInfoTree && chosenObjectInstructionsInfo ? (\n        <Background noFullHeight key=\"object-instruction-selector\">\n          <InstructionOrExpressionSelector\n            instructionsInfo={chosenObjectInstructionsInfo}\n            instructionsInfoTree={chosenObjectInstructionsInfoTree}\n            iconSize={24}\n            onChoose={this._chooseObjectInstruction}\n            selectedType={instructionType}\n            useSubheaders\n            focusOnMount={!instructionType}\n            searchBarHintText={\n              isCondition ? (\n                <Trans>Search {chosenObjectName} conditions</Trans>\n              ) : (\n                <Trans>Search {chosenObjectName} actions</Trans>\n              )\n            }\n          />\n        </Background>\n      ) : null;\n\n    return (\n      <ResponsiveWidthMeasurer>\n        {width => (\n          <Dialog\n            actions={[\n              <FlatButton\n                label={<Trans>Cancel</Trans>}\n                primary={false}\n                onClick={onCancel}\n                key=\"cancel\"\n              />,\n              <FlatButton\n                label={<Trans>Ok</Trans>}\n                primary={true}\n                keyboardFocused={false}\n                disabled={!instructionType}\n                onClick={onSubmit}\n                key=\"ok\"\n              />,\n            ]}\n            secondaryActions={[\n              width !== 'large' && step !== 'object-or-free-instructions' ? (\n                <FlatButton\n                  label={<Trans>Back</Trans>}\n                  primary={false}\n                  onClick={() => this._stepBackFrom(step, width)}\n                  key=\"back\"\n                />\n              ) : null,\n              <HelpButton\n                key=\"help\"\n                helpPagePath={instructionHelpPage || '/events'}\n                label={\n                  !instructionHelpPage ||\n                  (width === 'small' &&\n                    step === 'object-or-free-instructions') ? (\n                    <Trans>Help</Trans>\n                  ) : this.props.isCondition ? (\n                    <Trans>Help for this condition</Trans>\n                  ) : (\n                    <Trans>Help for this action</Trans>\n                  )\n                }\n              />,\n            ]}\n            open={open}\n            onRequestClose={onCancel}\n            contentStyle={styles.dialogContent}\n            bodyStyle={styles.dialogBody}\n          >\n            <SelectColumns\n              columnsRenderer={{\n                'instruction-or-object-selector': renderInstructionOrObjectSelector,\n                'object-instruction-selector': renderObjectInstructionSelector,\n                parameters: renderParameters,\n              }}\n              getColumns={() => {\n                if (width === 'large') {\n                  if (chosenObjectName) {\n                    return [\n                      'instruction-or-object-selector',\n                      'object-instruction-selector',\n                      'parameters',\n                    ];\n                  } else {\n                    return ['instruction-or-object-selector', 'parameters'];\n                  }\n                } else if (width === 'medium') {\n                  if (step === 'object-or-free-instructions') {\n                    return ['instruction-or-object-selector'];\n                  } else {\n                    if (chosenObjectName) {\n                      return ['object-instruction-selector', 'parameters'];\n                    } else {\n                      return ['parameters'];\n                    }\n                  }\n                } else {\n                  if (step === 'object-or-free-instructions') {\n                    return ['instruction-or-object-selector'];\n                  } else if (step === 'object-instructions') {\n                    return ['object-instruction-selector'];\n                  } else {\n                    return ['parameters'];\n                  }\n                }\n              }}\n            />\n          </Dialog>\n        )}\n      </ResponsiveWidthMeasurer>\n    );\n  }\n}\n","// @flow\n\n/*\n * Case Sensitive Slug method\n * Inspired by Aaron Stannard module (https://github.com/Aaronontheweb/node-slugs)\n */\nexport const caseSensitiveSlug = (\n  incString: string,\n  separator?: string,\n  preserved?: Array<string>\n): string => {\n  var p = ['.', '=', '-'];\n  var s = '-';\n\n  if (typeof preserved != 'undefined') {\n    p = preserved;\n  }\n\n  if (typeof separator != 'undefined') {\n    s = separator;\n  }\n\n  return incString\n    .replace(/ü/g, 'ue')\n    .replace(/ä/g, 'ae')\n    .replace(/ö/g, 'oe')\n    .replace(/ß/g, 'ss')\n    .replace(new RegExp('[' + p.join('') + ']', 'g'), ' ') //  replace preserved characters with spaces\n    .replace(/-{2,}/g, ' ') //  remove duplicate spaces\n    .replace(/^\\s\\s*/, '')\n    .replace(/\\s\\s*$/, '') //  trim both sides of string\n    .replace(/[^\\w ]/gi, '') //  replaces all non-alphanumeric with empty string\n    .replace(/[ ]/gi, s); //  Convert spaces to dashes\n};\n","// @flow\nimport * as React from 'react';\nimport { Line } from '../Grid';\n\ntype Props<TColumnName> = {|\n  columnsRenderer: { [TColumnName]: () => React.Node },\n  getColumns: () => Array<TColumnName>,\n|};\n\nexport const SelectColumns = (props: Props<string>) => {\n  const columns = props.getColumns();\n  return (\n    <Line noMargin expand>\n      {columns.map(columnName =>\n        props.columnsRenderer[columnName]\n          ? props.columnsRenderer[columnName]()\n          : null\n      )}\n    </Line>\n  );\n};\n","// @flow\nimport * as React from 'react';\n\nexport type WidthType = 'small' | 'medium' | 'large';\n\ntype Props = {|\n  children: (width: WidthType) => React.Node,\n|};\n\n/**\n * Pass the proper width to the children according to the window width.\n * Could be improved with react-measure to only compute the available width\n * for the component.\n */\nexport const ResponsiveWidthMeasurer = ({ children }: Props) => {\n  if (typeof window === 'undefined') {\n    return children('medium');\n  }\n\n  return children(\n    window.innerWidth < 750\n      ? 'small'\n      : window.innerWidth < 1150\n      ? 'medium'\n      : 'large'\n  );\n};\n","import React, { PureComponent } from 'react';\nimport { ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport { adaptAcceleratorString } from '../UI/AcceleratorString';\n\nexport class Toolbar extends PureComponent {\n  render() {\n    const t = str => str; //TODO\n\n    return (\n      <ToolbarGroup lastChild>\n        {this.props.showPreviewButton && (\n          <ToolbarIcon\n            onClick={this.props.onPreview}\n            src=\"res/ribbon_default/preview32.png\"\n            tooltip={t('Launch a preview of the scene')}\n          />\n        )}\n        {this.props.showNetworkPreviewButton && (\n          <IconMenu\n            iconButtonElement={\n              <ToolbarIcon\n                src=\"res/ribbon_default/bug32.png\"\n                tooltip={t(\n                  'Advanced preview options (debugger, network preview...)'\n                )}\n              />\n            }\n            buildMenuTemplate={() => [\n              {\n                label: 'Network preview (Preview over WiFi/LAN)',\n                click: () => this.props.onNetworkPreview(),\n              },\n              { type: 'separator' },\n              {\n                label: 'Preview with debugger and performance profiler',\n                click: () => this.props.onOpenDebugger(),\n              },\n            ]}\n          />\n        )}\n        {this.props.showPreviewButton && <ToolbarSeparator />}\n        <ToolbarIcon\n          onClick={this.props.onAddStandardEvent}\n          src=\"res/ribbon_default/eventadd32.png\"\n          tooltip={t('Add a new empty event')}\n        />\n        <ToolbarIcon\n          onClick={this.props.onAddSubEvent}\n          src=\"res/ribbon_default/subeventadd32.png\"\n          disabled={!this.props.canAddSubEvent}\n          tooltip={t('Add a sub-event to the selected event')}\n        />\n        <ToolbarIcon\n          onClick={this.props.onAddCommentEvent}\n          src=\"res/ribbon_default/commentaireadd32.png\"\n          tooltip={t('Add a comment')}\n        />\n        <IconMenu\n          iconButtonElement={\n            <ToolbarIcon\n              src=\"res/ribbon_default/add32.png\"\n              tooltip={t('Choose and add an event')}\n            />\n          }\n          buildMenuTemplate={() =>\n            this.props.allEventsMetadata.map(metadata => {\n              return {\n                label: metadata.fullName,\n                click: () => this.props.onAddEvent(metadata.type),\n              };\n            })\n          }\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.onRemove}\n          src=\"res/ribbon_default/deleteselected32.png\"\n          disabled={!this.props.canRemove}\n          tooltip={t('Delete the selected event(s)')}\n        />\n        <ToolbarIcon\n          onClick={this.props.undo}\n          src=\"res/ribbon_default/undo32.png\"\n          disabled={!this.props.canUndo}\n          tooltip={t('Undo the last changes')}\n        />\n        <ToolbarIcon\n          onClick={this.props.redo}\n          src=\"res/ribbon_default/redo32.png\"\n          disabled={!this.props.canRedo}\n          tooltip={t('Redo the last changes')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={() => this.props.onToggleSearchPanel()}\n          src=\"res/ribbon_default/search32.png\"\n          tooltip={`${t('Search in events')} ${adaptAcceleratorString(\n            'CmdOrCtrl+F'\n          )}`}\n        />\n        {this.props.onOpenSettings && <ToolbarSeparator />}\n        {this.props.onOpenSettings && (\n          <ToolbarIcon\n            onClick={this.props.onOpenSettings}\n            src=\"res/ribbon_default/pref32.png\"\n            tooltip={t('Open settings')}\n          />\n        )}\n      </ToolbarGroup>\n    );\n  }\n}\n\nexport default Toolbar;\n","// @flow\nimport * as React from 'react';\nimport InlinePopover from './InlinePopover';\nimport ParameterRenderingService from './ParameterRenderingService';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport { type EventsScope } from './EventsScope.flow';\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n\n  open: boolean,\n  onRequestClose: () => void,\n  onChange: string => void,\n\n  instruction: ?gdInstruction,\n  isCondition: boolean,\n  parameterIndex: number,\n\n  anchorEl: ?any,\n\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n|};\n\ntype State = {|\n  parameterMetadata: ?gdParameterMetadata,\n  instructionMetadata: ?gdInstructionMetadata,\n  ParameterComponent: ?any,\n|};\n\nexport default class InlineParameterEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    parameterMetadata: null,\n    instructionMetadata: null,\n    ParameterComponent: null,\n  };\n\n  _field: ?any;\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (newProps.open && !this.props.open) ||\n      newProps.instruction !== this.props.instruction\n    ) {\n      this._loadComponentFromInstruction(newProps);\n    }\n  }\n\n  _unload() {\n    this.setState({\n      ParameterComponent: null,\n      parameterMetadata: null,\n      instructionMetadata: null,\n    });\n  }\n\n  _loadComponentFromInstruction(props: Props) {\n    const { project, isCondition, instruction, parameterIndex } = props;\n    if (!instruction) return this._unload();\n\n    const type = instruction.getType();\n    const instructionMetadata = isCondition\n      ? gd.MetadataProvider.getConditionMetadata(\n          project.getCurrentPlatform(),\n          type\n        )\n      : gd.MetadataProvider.getActionMetadata(\n          project.getCurrentPlatform(),\n          type\n        );\n\n    if (parameterIndex >= instructionMetadata.getParametersCount())\n      return this._unload();\n\n    const parameterMetadata = instructionMetadata.getParameter(parameterIndex);\n    const ParameterComponent = ParameterRenderingService.getParameterComponent(\n      parameterMetadata.getType()\n    );\n    this.setState(\n      {\n        ParameterComponent,\n        parameterMetadata,\n        instructionMetadata,\n      },\n      () => {\n        if (this._field && this._field.focus) this._field.focus();\n      }\n    );\n  }\n\n  render() {\n    if (!this.state.ParameterComponent || !this.props.open) return null;\n    const instruction = this.props.instruction;\n    if (!instruction) return null;\n\n    const { ParameterComponent } = this.state;\n\n    return (\n      <InlinePopover\n        open={this.props.open}\n        anchorEl={this.props.anchorEl}\n        onRequestClose={this.props.onRequestClose}\n      >\n        <ParameterComponent\n          instruction={instruction}\n          instructionMetadata={this.state.instructionMetadata}\n          parameterMetadata={this.state.parameterMetadata}\n          parameterIndex={this.props.parameterIndex}\n          value={instruction.getParameter(this.props.parameterIndex)}\n          onChange={this.props.onChange}\n          project={this.props.project}\n          scope={this.props.scope}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n          key={instruction.ptr}\n          ref={field => (this._field = field)}\n          parameterRenderingService={ParameterRenderingService}\n          isInline\n          resourceSources={this.props.resourceSources}\n          onChooseResource={this.props.onChooseResource}\n          resourceExternalEditors={this.props.resourceExternalEditors}\n        />\n      </InlinePopover>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport PlaceholderMessage from '../UI/PlaceholderMessage';\nimport HelpButton from '../UI/HelpButton';\n\nconst EmptyEventsPlaceholder = () => (\n  <PlaceholderMessage>\n    <p>\n      <Trans>\n        There are no events here. Events are composed of conditions and actions.\n      </Trans>\n    </p>\n    <p>\n      <Trans>\n        Add your first event using the first buttons of the toolbar.\n      </Trans>\n    </p>\n    <HelpButton helpPagePath=\"/events\" />\n  </PlaceholderMessage>\n);\n\nexport default EmptyEventsPlaceholder;\n","//@flow\nconst gd = global.gd;\n\nexport const ensureSingleOnceInstructions = (\n  instructionsList: gdInstructionsList\n) => {\n  let hasEndingOnceInstruction = false;\n  let hasInvalidOnce = false;\n  for (let i = instructionsList.size() - 1; i >= 0; --i) {\n    const instruction = instructionsList.get(i);\n    if (i === instructionsList.size() - 1) {\n      if (instruction.getType() === 'BuiltinCommonInstructions::Once') {\n        hasEndingOnceInstruction = true;\n      }\n    } else {\n      if (instruction.getType() === 'BuiltinCommonInstructions::Once') {\n        instructionsList.removeAt(i);\n        hasInvalidOnce = true;\n      }\n    }\n  }\n\n  if (hasInvalidOnce && !hasEndingOnceInstruction) {\n    const onceInstruction = new gd.Instruction();\n    onceInstruction.setType('BuiltinCommonInstructions::Once');\n    instructionsList.insert(onceInstruction, instructionsList.size());\n    onceInstruction.delete();\n  }\n\n  return hasInvalidOnce;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\n\nexport type EventsContextResult = {|\n  objectsNames: Array<string>,\n  objectOrGroupNames: Array<string>,\n  objectOrGroupBehaviorNames: {\n    [string]: Array<string>,\n  },\n|};\n\n// Store in a EventsContextResult the content of a gd.EventsContext.\n// In theory not necessary, but easier than storing,\n// passing around, and properly delete a gd.EventsContext.\nexport const toEventsContextResult = (\n  eventsContext: gdEventsContext\n): EventsContextResult => {\n  const objectsNames = eventsContext\n    .getObjectNames()\n    .toNewVectorString()\n    .toJSArray();\n  const objectOrGroupNames = eventsContext\n    .getReferencedObjectOrGroupNames()\n    .toNewVectorString()\n    .toJSArray();\n\n  const objectOrGroupBehaviorNames = {};\n  objectOrGroupNames.forEach(objectOrGroupName => {\n    const behaviorNames = eventsContext\n      .getBehaviorNamesOfObjectOrGroup(objectOrGroupName)\n      .toNewVectorString()\n      .toJSArray();\n\n    if (behaviorNames.length) {\n      objectOrGroupBehaviorNames[objectOrGroupName] = behaviorNames;\n    }\n  });\n\n  return {\n    objectsNames,\n    objectOrGroupNames,\n    objectOrGroupBehaviorNames,\n  };\n};\n\ntype Props = {|\n  onClose: () => void,\n  eventsContextResult: EventsContextResult,\n|};\n\nexport default class EventsContextAnalyzerDialog extends React.Component<\n  Props,\n  {}\n> {\n  render() {\n    const { onClose, eventsContextResult } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        primary={true}\n        onClick={this.props.onClose}\n      />,\n    ];\n\n    return (\n      <Dialog actions={actions} open onRequestClose={onClose}>\n        <p>\n          <Trans>\n            Objects or groups being directly referenced in the events:{' '}\n            {eventsContextResult.objectOrGroupNames.join(', ')}\n          </Trans>\n        </p>\n        <p>\n          <Trans>\n            All objects potentially used in events:{' '}\n            {eventsContextResult.objectsNames.join(', ')}\n          </Trans>\n        </p>\n        <p>\n          <Trans>All behaviors being directly referenced in the events:</Trans>{' '}\n          {Object.keys(eventsContextResult.objectOrGroupBehaviorNames).map(\n            objectOrGroupName => {\n              return (\n                <Trans key={objectOrGroupName}>\n                  Behaviors of {objectOrGroupName}:{' '}\n                  {eventsContextResult.objectOrGroupBehaviorNames[\n                    objectOrGroupName\n                  ].join(', ')}\n                  ;{' '}\n                </Trans>\n              );\n            }\n          )}\n        </p>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { PureComponent } from 'react';\nimport Paper from 'material-ui/Paper';\nimport TextField from 'material-ui/TextField';\nimport { Line, Column } from '../UI/Grid';\nimport FlatButton from 'material-ui/FlatButton';\nimport ChevronLeft from 'material-ui/svg-icons/navigation/chevron-left';\nimport ChevronRight from 'material-ui/svg-icons/navigation/chevron-right';\nimport IconButton from 'material-ui/IconButton';\nimport InlineCheckbox from '../UI/InlineCheckbox';\nimport {\n  type SearchInEventsInputs,\n  type ReplaceInEventsInputs,\n} from './EventsSearcher';\n\ntype Props = {|\n  onSearchInEvents: SearchInEventsInputs => void,\n  onReplaceInEvents: ReplaceInEventsInputs => void,\n  resultsCount: ?number,\n  hasEventSelected: boolean,\n  onGoToPreviousSearchResult: () => ?gdBaseEvent,\n  onGoToNextSearchResult: () => ?gdBaseEvent,\n|};\ntype State = {|\n  searchText: string,\n  replaceText: string,\n  matchCase: boolean,\n  searchInActions: boolean,\n  searchInConditions: boolean,\n  searchInSelection: boolean,\n|};\n\nexport default class SearchPanel extends PureComponent<Props, State> {\n  searchTextField: ?TextField;\n  state = {\n    searchText: '',\n    replaceText: '',\n    matchCase: false,\n    searchInActions: true,\n    searchInConditions: true,\n    searchInSelection: false,\n  };\n\n  focus = () => {\n    if (this.searchTextField) {\n      this.searchTextField.focus();\n    }\n  };\n\n  launchSearch = () => {\n    const {\n      searchText,\n      searchInSelection,\n      matchCase,\n      searchInActions,\n      searchInConditions,\n    } = this.state;\n    this.props.onSearchInEvents({\n      searchInSelection,\n      searchText,\n      matchCase,\n      searchInActions,\n      searchInConditions,\n    });\n  };\n\n  launchReplace = () => {\n    const {\n      searchText,\n      replaceText,\n      searchInSelection,\n      matchCase,\n      searchInActions,\n      searchInConditions,\n    } = this.state;\n\n    this.launchSearch();\n\n    this.props.onReplaceInEvents({\n      searchInSelection,\n      searchText,\n      replaceText,\n      matchCase,\n      searchInActions,\n      searchInConditions,\n    });\n  };\n\n  render() {\n    const {\n      resultsCount,\n      hasEventSelected,\n      onGoToPreviousSearchResult,\n      onGoToNextSearchResult,\n    } = this.props;\n    const { searchText, replaceText, searchInSelection } = this.state;\n\n    return (\n      <Paper>\n        <Column>\n          <Line alignItems=\"baseline\">\n            <TextField\n              ref={_searchTextField =>\n                (this.searchTextField = _searchTextField)\n              }\n              hintText={<Trans>Text to search</Trans>}\n              onChange={(e, searchText) => this.setState({ searchText })}\n              value={searchText}\n              fullWidth\n            />\n            <FlatButton\n              disabled={!searchText}\n              primary\n              label={<Trans>Search</Trans>}\n              onClick={this.launchSearch}\n            />\n          </Line>\n          <Line alignItems=\"baseline\">\n            <TextField\n              hintText={<Trans>Text to replace</Trans>}\n              onChange={(e, replaceText) => this.setState({ replaceText })}\n              value={replaceText}\n              fullWidth\n            />\n            <FlatButton\n              disabled={\n                !replaceText ||\n                !searchText ||\n                (!hasEventSelected && searchInSelection)\n              }\n              label={<Trans>Replace</Trans>}\n              onClick={this.launchReplace}\n            />\n          </Line>\n          <Line noMargin alignItems=\"center\" justifyContent=\"space-between\">\n            <Line noMargin alignItems=\"center\">\n              <InlineCheckbox\n                label={<Trans>Case insensitive</Trans>}\n                checked={!this.state.matchCase}\n                onCheck={(e, checked) => this.setState({ matchCase: !checked })}\n              />\n              <p>\n                <Trans>Filter by</Trans>\n              </p>\n              <InlineCheckbox\n                label={<Trans>Conditions</Trans>}\n                checked={this.state.searchInConditions}\n                onCheck={(e, checked) =>\n                  this.setState({ searchInConditions: checked })\n                }\n              />\n              <InlineCheckbox\n                label={<Trans>Actions</Trans>}\n                checked={this.state.searchInActions}\n                onCheck={(e, checked) =>\n                  this.setState({ searchInActions: checked })\n                }\n              />\n              {/* <InlineCheckbox //TODO: Implement search/replace in selection\n                label={<Trans>Replace in selection</Trans>}\n                checked={this.state.searchInSelection}\n                onCheck={(e, checked) =>\n                  this.setState({ searchInSelection: checked })}\n              /> */}\n            </Line>\n            <Line noMargin alignItems=\"center\">\n              <p>\n                {resultsCount === null || resultsCount === undefined\n                  ? ''\n                  : resultsCount !== 0\n                  ? `${resultsCount} results`\n                  : `No results`}\n              </p>\n              <IconButton\n                disabled={!resultsCount}\n                onClick={() => onGoToPreviousSearchResult()}\n              >\n                <ChevronLeft />\n              </IconButton>\n              <IconButton\n                disabled={!resultsCount}\n                onClick={() => onGoToNextSearchResult()}\n              >\n                <ChevronRight />\n              </IconButton>\n            </Line>\n          </Line>\n        </Column>\n      </Paper>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { type SelectionState } from './SelectionHandler';\nimport { mapFor } from '../Utils/MapFor';\nimport uniqBy from 'lodash/uniqBy';\nconst gd = global.gd;\n\nexport type SearchInEventsInputs = {|\n  searchInSelection: boolean,\n  searchText: string,\n  matchCase: boolean,\n  searchInConditions: boolean,\n  searchInActions: boolean,\n|};\n\nexport type ReplaceInEventsInputs = {|\n  searchInSelection: boolean,\n  searchText: string,\n  replaceText: ?string,\n  matchCase: boolean,\n  searchInConditions: boolean,\n  searchInActions: boolean,\n|};\n\ntype State = {|\n  eventsSearchResults: ?gdVectorEventsSearchResult,\n  searchFocusOffset: ?number,\n|};\n\ntype Props = {|\n  globalObjectsContainer: gdProject,\n  objectsContainer: gdLayout,\n  events: gdEventsList,\n  selection: SelectionState,\n  children: (props: {|\n    eventsSearchResultEvents: ?Array<gdBaseEvent>,\n    searchFocusOffset: ?number,\n    searchInEvents: (SearchInEventsInputs, cb: () => void) => void,\n    replaceInEvents: ReplaceInEventsInputs => void,\n    goToNextSearchResult: () => ?gdBaseEvent,\n    goToPreviousSearchResult: () => ?gdBaseEvent,\n  |}) => React.Node,\n|};\n\n/**\n * Component allowing to do search in events and pass the results\n * to its children components, as well as methods to browse the results.\n */\nexport default class EventsSearcher extends React.Component<Props, State> {\n  state = {\n    eventsSearchResults: null, // The list of results\n    searchFocusOffset: null,\n  };\n\n  // The list containing the raw events results. Should be derived from this.state.eventsSearchResults using\n  // this._updateListOfResultEvents before being used.\n  _resultEvents: ?Array<gdBaseEvent> = null;\n\n  componentWillUnmount() {\n    if (this.state.eventsSearchResults) this.state.eventsSearchResults.delete();\n  }\n\n  reset() {\n    if (this.state.eventsSearchResults) this.state.eventsSearchResults.delete();\n\n    this._resultEvents = null;\n    this.setState({\n      eventsSearchResults: null,\n      searchFocusOffset: null,\n    });\n  }\n\n  _doReplaceInEvents = ({\n    searchInSelection,\n    searchText,\n    replaceText,\n    matchCase,\n    searchInConditions,\n    searchInActions,\n  }: ReplaceInEventsInputs) => {\n    const { globalObjectsContainer, objectsContainer, events } = this.props;\n\n    if (searchInSelection) {\n      // Replace in selection is a bit tricky to implement as it requires to have a list\n      // of events (gd.EventsList) pointing to the same events. Need some workaround/helper\n      // function to be done in C++.\n      console.error('Replace in selection is not implemented yet');\n    }\n\n    gd.EventsRefactorer.replaceStringInEvents(\n      globalObjectsContainer,\n      objectsContainer,\n      events,\n      searchText,\n      replaceText,\n      matchCase,\n      searchInConditions,\n      searchInActions\n    );\n  };\n\n  _doSearchInEvents = (\n    {\n      searchInSelection,\n      searchText,\n      matchCase,\n      searchInConditions,\n      searchInActions,\n    }: SearchInEventsInputs,\n    cb: () => void\n  ) => {\n    const { globalObjectsContainer, objectsContainer, events } = this.props;\n\n    if (searchInSelection) {\n      // Search in selection is a bit tricky to implement as it requires to have a list\n      // of events (gd.EventsList) pointing to the same events. Need some workaround/helper\n      // function to be done in C++.\n      console.error('Search in selection is not implemented yet');\n    }\n\n    const newEventsSearchResults = gd.EventsRefactorer.searchInEvents(\n      globalObjectsContainer,\n      objectsContainer,\n      events,\n      searchText,\n      matchCase,\n      searchInConditions,\n      searchInActions\n    );\n\n    if (this.state.eventsSearchResults) {\n      this.state.eventsSearchResults.delete();\n    }\n    this.setState(\n      {\n        eventsSearchResults: newEventsSearchResults.clone(),\n        searchFocusOffset: null,\n      },\n      () => {\n        this._updateListOfResultEvents();\n        cb();\n      }\n    );\n  };\n\n  _updateListOfResultEvents = () => {\n    const { eventsSearchResults } = this.state;\n    if (!eventsSearchResults) {\n      this._resultEvents = null;\n      return;\n    }\n\n    const resultEventsWithDuplicates = mapFor(\n      0,\n      eventsSearchResults.size(),\n      i => {\n        const eventsSearchResult = eventsSearchResults.at(i);\n        return eventsSearchResult.isEventValid()\n          ? eventsSearchResult.getEvent()\n          : null;\n      }\n    ).filter(Boolean);\n\n    // Store a list of unique events, because browsing for results in the events\n    // tree is made event by event.\n    this._resultEvents = uniqBy(resultEventsWithDuplicates, event => event.ptr);\n  };\n\n  _goToSearchResults = (step: number): ?gdBaseEvent => {\n    this._updateListOfResultEvents();\n    if (!this._resultEvents || this._resultEvents.length === 0) {\n      this.setState({ searchFocusOffset: null });\n      return null;\n    }\n\n    let newSearchFocusOffset =\n      this.state.searchFocusOffset === null\n        ? 0\n        : ((this.state.searchFocusOffset || 0) + step) %\n          this._resultEvents.length;\n    if (newSearchFocusOffset < 0)\n      newSearchFocusOffset += this._resultEvents.length;\n\n    const event = this._resultEvents[newSearchFocusOffset];\n    setTimeout(\n      // Change the offset on next tick to give a chance to children to unfold events before focusing it.\n      () => this.setState({ searchFocusOffset: newSearchFocusOffset }),\n      0\n    );\n    return event;\n  };\n\n  _goToPreviousSearchResult = (): ?gdBaseEvent => {\n    return this._goToSearchResults(-1);\n  };\n\n  _goToNextSearchResult = (): ?gdBaseEvent => {\n    return this._goToSearchResults(+1);\n  };\n\n  render() {\n    return this.props.children({\n      eventsSearchResultEvents: this._resultEvents,\n      searchFocusOffset: this.state.searchFocusOffset,\n      searchInEvents: this._doSearchInEvents,\n      replaceInEvents: this._doReplaceInEvents,\n      goToNextSearchResult: this._goToNextSearchResult,\n      goToPreviousSearchResult: this._goToPreviousSearchResult,\n    });\n  }\n}\n","const gd = global.gd;\n\nexport const containsSubInstructions = (\n  instruction: gdInstruction,\n  instructionsList: gdInstructionsList\n) => {\n  const subInstructionsList = instruction.getSubInstructions();\n  if (gd.compare(subInstructionsList, instructionsList)) return true;\n\n  for (let i = 0; i < subInstructionsList.size(); ++i) {\n    const subInstruction = subInstructionsList.get(i);\n    if (containsSubInstructions(subInstruction, instructionsList)) return true;\n  }\n\n  return false;\n};\n","import React from 'react';\nconst marginsSize = 4;\n\nexport const Line = props => (\n  <div\n    style={{\n      display: 'flex',\n      marginTop: props.noMargin ? 0 : marginsSize,\n      marginBottom: props.noMargin ? 0 : marginsSize,\n      alignItems: props.alignItems,\n      justifyContent: props.justifyContent,\n      flex: props.expand ? 1 : undefined,\n    }}\n  >\n    {props.children}\n  </div>\n);\n\nexport const Column = props => (\n  <div\n    style={{\n      display: 'flex',\n      marginLeft: props.noMargin ? 0 : marginsSize * 2,\n      marginRight: props.noMargin ? 0 : marginsSize * 2,\n      flexDirection: 'column',\n      alignItems: props.alignItems || 'stretch',\n      justifyContent: props.justifyContent,\n      flex: props.expand ? 1 : undefined,\n    }}\n  >\n    {props.children}\n  </div>\n);\n\nexport const Spacer = props => (\n  <span\n    style={{\n      width: props.expand ? '100%' : marginsSize,\n      height: marginsSize,\n    }}\n  />\n);\n","// @flow\n\nimport flatten from 'lodash/flatten';\nimport { mapFor } from '../Utils/MapFor';\nconst gd = global.gd;\n\nexport type EventMetadata = {|\n  type: string,\n  fullName: string,\n  description: string,\n|};\n\nexport const enumerateEventsMetadata = (): Array<EventMetadata> => {\n  const allExtensions = gd\n    .asPlatform(gd.JsPlatform.get())\n    .getAllPlatformExtensions();\n\n  return flatten(\n    mapFor(0, allExtensions.size(), i => {\n      const extension = allExtensions.get(i);\n      const extensionEvents = extension.getAllEvents();\n\n      return extensionEvents\n        .keys()\n        .toJSArray()\n        .map(type => {\n          const metadata = extensionEvents.get(type);\n          return {\n            type,\n            fullName: metadata.getFullName(),\n            description: metadata.getDescription(),\n          };\n        });\n    })\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport { enumerateEventsFunctionsExtensions } from '../../ProjectManager/EnumerateProjectItems';\nimport { Line, Column, Spacer } from '../../UI/Grid';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport Divider from 'material-ui/Divider';\nimport {\n  setupFunctionFromEvents,\n  canCreateEventsFunction,\n  functionHasLotsOfParameters,\n  validateExtensionNameUniqueness,\n  validateExtensionName,\n  validateEventsFunctionNameUniqueness,\n  validateEventsFunctionName,\n} from '.';\nimport AlertMessage from '../../UI/AlertMessage';\nimport DismissableAlertMessage from '../../UI/DismissableAlertMessage';\nimport EventsFunctionParametersEditor from '../../EventsFunctionsExtensionEditor/EventsFunctionConfigurationEditor/EventsFunctionParametersEditor';\nimport EventsFunctionPropertiesEditor from '../../EventsFunctionsExtensionEditor/EventsFunctionConfigurationEditor/EventsFunctionPropertiesEditor';\nimport HelpButton from '../../UI/HelpButton';\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  serializedEvents: Object,\n  onClose: () => void,\n  onCreate: (extensionName: string, eventsFunction: gdEventsFunction) => void,\n|};\n\ntype State = {|\n  eventsFunction: ?gdEventsFunction,\n  extensionName: string,\n  createNewExtension: boolean,\n|};\n\nconst CREATE_NEW_EXTENSION_PLACEHOLDER = '<create a new extension>';\n\nexport default class EventsFunctionExtractorDialog extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    eventsFunction: null,\n    extensionName: '',\n    createNewExtension: false,\n  };\n\n  componentDidMount() {\n    const {\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      serializedEvents,\n    } = this.props;\n\n    // Set up the function\n    const eventsFunction = new gd.EventsFunction();\n    setupFunctionFromEvents({\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      serializedEvents,\n      eventsFunction,\n    });\n    this.setState({\n      eventsFunction,\n    });\n\n    // Prepopulate the form\n    const eventsFunctionsExtensions = enumerateEventsFunctionsExtensions(\n      project\n    );\n    if (eventsFunctionsExtensions.length === 0) {\n      this.setState({\n        createNewExtension: true,\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    const { eventsFunction } = this.state;\n    if (eventsFunction) eventsFunction.delete();\n  }\n\n  render() {\n    const { project, onClose, onCreate } = this.props;\n    const { eventsFunction, extensionName, createNewExtension } = this.state;\n    if (!eventsFunction) return null;\n\n    const eventsFunctionsExtensions = enumerateEventsFunctionsExtensions(\n      project\n    );\n    const hasLotsOfParameters = functionHasLotsOfParameters(eventsFunction);\n\n    return (\n      <Dialog\n        title={<Trans>Extract the events in a function</Trans>}\n        secondaryActions={\n          <HelpButton helpPagePath=\"/events/functions/extract-events\" />\n        }\n        actions={[\n          <FlatButton\n            key=\"cancel\"\n            label={<Trans>Cancel</Trans>}\n            onClick={onClose}\n          />,\n          <FlatButton\n            key=\"create\"\n            label={<Trans>Create</Trans>}\n            primary\n            disabled={\n              !canCreateEventsFunction(project, extensionName, eventsFunction)\n            }\n            onClick={() => onCreate(extensionName, eventsFunction)}\n          />,\n        ]}\n        open\n        onRequestClose={onClose}\n        autoScrollBodyContent\n        noMargin\n      >\n        <Column noMargin>\n          <Column>\n            <DismissableAlertMessage\n              identifier=\"function-extractor-explanation\"\n              kind=\"info\"\n            >\n              After creating a function, it will be usable in the events sheet.\n              Functions are grouped by extensions. Choose, or enter the name of\n              a new extension, and a function name, then configure the function\n              and its parameters.\n            </DismissableAlertMessage>\n            <Line noMargin>\n              <Column noMargin expand>\n                <SelectField\n                  floatingLabelText={\n                    <Trans>Extension (storing the function)</Trans>\n                  }\n                  value={\n                    createNewExtension\n                      ? CREATE_NEW_EXTENSION_PLACEHOLDER\n                      : extensionName\n                  }\n                  onChange={(e, index, extensionName) => {\n                    if (extensionName === CREATE_NEW_EXTENSION_PLACEHOLDER) {\n                      this.setState({\n                        createNewExtension: true,\n                        extensionName: '',\n                      });\n                    } else {\n                      this.setState({\n                        createNewExtension: false,\n                        extensionName,\n                      });\n                    }\n                  }}\n                  fullWidth\n                >\n                  {eventsFunctionsExtensions.map(eventsFunctionsExtension => (\n                    <MenuItem\n                      key={eventsFunctionsExtension.getName()}\n                      value={eventsFunctionsExtension.getName()}\n                      primaryText={eventsFunctionsExtension.getFullName()}\n                    />\n                  ))}\n                  <Divider />\n                  <MenuItem\n                    value={CREATE_NEW_EXTENSION_PLACEHOLDER}\n                    primaryText={<Trans>&lt;Create a New Extension&gt;</Trans>}\n                  />\n                </SelectField>\n              </Column>\n              {createNewExtension ? (\n                <Column noMargin expand>\n                  <SemiControlledTextField\n                    commitOnBlur\n                    value={extensionName}\n                    floatingLabelText={<Trans>New extension name</Trans>}\n                    onChange={(extensionName: string) =>\n                      this.setState({ extensionName })\n                    }\n                    fullWidth\n                    errorText={\n                      !validateExtensionNameUniqueness(\n                        project,\n                        extensionName\n                      ) ? (\n                        <Trans>\n                          This name is already taken by another extension.\n                        </Trans>\n                      ) : !validateExtensionName(extensionName) ? (\n                        <Trans>\n                          This name is not valid. Only use alphanumeric\n                          characters (0-9, a-z) and underscores.\n                        </Trans>\n                      ) : (\n                        undefined\n                      )\n                    }\n                  />\n                </Column>\n              ) : null}\n            </Line>\n            <Line>\n              <SemiControlledTextField\n                commitOnBlur\n                value={eventsFunction.getName()}\n                floatingLabelText={<Trans>Function name</Trans>}\n                onChange={(functionName: string) => {\n                  eventsFunction.setName(functionName);\n                  this.forceUpdate();\n                }}\n                fullWidth\n                errorText={\n                  !validateEventsFunctionNameUniqueness(\n                    project,\n                    extensionName,\n                    eventsFunction\n                  ) ? (\n                    <Trans>\n                      This name is already taken by another function. Choose\n                      another name.\n                    </Trans>\n                  ) : !validateEventsFunctionName(eventsFunction.getName()) ? (\n                    <Trans>\n                      This name is not valid. Only use alphanumeric characters\n                      (0-9, a-z) and underscores.\n                    </Trans>\n                  ) : (\n                    undefined\n                  )\n                }\n              />\n            </Line>\n            {hasLotsOfParameters ? (\n              <Line>\n                <AlertMessage kind=\"warning\">\n                  <Trans>\n                    This function will have a lot of parameters. Consider\n                    creating groups or functions for a smaller set of objects so\n                    that the function is easier to reuse.\n                  </Trans>\n                </AlertMessage>\n              </Line>\n            ) : null}\n          </Column>\n          <EventsFunctionPropertiesEditor\n            eventsFunction={eventsFunction}\n            eventsBasedBehavior={null}\n            onConfigurationUpdated={() => {\n              // Force re-running logic to see if Create button is disabled.\n              this.forceUpdate();\n            }}\n            freezeEventsFunctionType\n          />\n          <Spacer />\n          <EventsFunctionParametersEditor\n            project={project}\n            eventsFunction={eventsFunction}\n            eventsBasedBehavior={null}\n            onParametersUpdated={() => {\n              // Force the dialog to adapt its size\n              this.forceUpdate();\n            }}\n            freezeParameters\n          />\n        </Column>\n      </Dialog>\n    );\n  }\n}\n","// @flow\n\nexport default function getObjectGroupByName(\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  objectGroupName: string\n): ?gdObjectGroup {\n  if (objectsContainer.getObjectGroups().has(objectGroupName)) {\n    return objectsContainer.getObjectGroups().get(objectGroupName);\n  } else if (globalObjectsContainer.getObjectGroups().has(objectGroupName)) {\n    return globalObjectsContainer.getObjectGroups().get(objectGroupName);\n  }\n\n  return null;\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport {\n  type EnumeratedBehaviorMetadata,\n  enumerateBehaviorsMetadata,\n} from '../BehaviorsEditor/EnumerateBehaviorsMetadata';\n\ntype Props = {|\n  project: gdProject,\n  value: string,\n  onChange: string => void,\n  disabled?: boolean,\n|};\ntype State = {|\n  behaviorMetadata: Array<EnumeratedBehaviorMetadata>,\n|};\n\nexport default class BehaviorTypeSelector extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    behaviorMetadata: enumerateBehaviorsMetadata(\n      this.props.project.getCurrentPlatform(),\n      this.props.project\n    ),\n  };\n\n  render() {\n    const { disabled, value, onChange } = this.props;\n    const { behaviorMetadata } = this.state;\n\n    // If the behavior type is not in the list, we'll still\n    // add a menu item for it so that the value is displayed\n    // on screen.\n    const valueIsListed = !!behaviorMetadata.find(({ type }) => type === value);\n\n    return (\n      <SelectField\n        floatingLabelText={<Trans>Behavior type</Trans>}\n        floatingLabelFixed\n        value={value}\n        onChange={(e, i, value) => {\n          onChange(value);\n        }}\n        disabled={disabled}\n        fullWidth\n      >\n        {behaviorMetadata.map((metadata: EnumeratedBehaviorMetadata) => (\n          <MenuItem\n            key={metadata.type}\n            value={metadata.type}\n            primaryText={metadata.fullName}\n          />\n        ))}\n        {!valueIsListed && value && (\n          <MenuItem value={value} primaryText={value} />\n        )}\n      </SelectField>\n    );\n  }\n}\n","import React from 'react';\nimport Dialog from 'material-ui/Dialog';\n\nconst styles = {\n  defaultBody: {\n    overflowX: 'hidden',\n  },\n  noMarginBody: {\n    padding: 0,\n    overflowX: 'hidden',\n  },\n  actionsContainer: {},\n  actionsContainerWithSecondaryActions: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n};\n\n/**\n * A enhanced material-ui Dialog that can have optional secondary actions\n * and no margins if required.\n */\nexport default props => {\n  const { secondaryActions, actions, noMargin, title, ...otherProps } = props;\n  const dialogActions = secondaryActions\n    ? [\n        <div key=\"secondary-actions\">{secondaryActions}</div>,\n        <div key=\"actions\">{actions}</div>,\n      ]\n    : actions;\n\n  return (\n    <Dialog\n      bodyStyle={noMargin ? styles.noMarginBody : styles.defaultBody}\n      actionsContainerStyle={\n        secondaryActions\n          ? styles.actionsContainerWithSecondaryActions\n          : styles.actionsContainer\n      }\n      actions={dialogActions}\n      title={title ? <h3>{title}</h3> : null} // Explictly pass a h3 like done in default implementation https://github.com/mui-org/material-ui/blob/v0.x/src/Dialog/Dialog.js#L315\n      // This is done to support passing translated strings (<Trans>) as title\n      {...otherProps}\n    />\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport ThemeConsumer from './Theme/ThemeConsumer';\nimport BackgroundText from './BackgroundText';\n// No i18n in this file\n\nconst styles = {\n  containerStyle: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flex: 1,\n    padding: 10,\n  },\n};\n\ntype Props = {|\n  style?: Object,\n  messageStyle?: Object,\n  children: ?React.Node,\n|};\n\nconst EmptyMessage = (props: Props) => (\n  <ThemeConsumer>\n    {muiTheme => (\n      <div style={{ ...styles.containerStyle, ...props.style }}>\n        <BackgroundText style={props.messageStyle}>\n          {props.children}\n        </BackgroundText>\n      </div>\n    )}\n  </ThemeConsumer>\n);\n\nexport default EmptyMessage;\n","// @flow\n// Note: this file does not use export/imports and use Flow comments to allow its usage from Node.js\n\nconst mapFor = /*:: <T>*/ (\n  start /*: number */,\n  end /*: number */,\n  func /*: (number) => T */\n) /*:Array<T> */ => {\n  const result = [];\n  for (let i = start; i < end; i++) {\n    result.push(func(i));\n  }\n  return result;\n};\n\nconst mapReverseFor = /*:: <T>*/ (\n  start /*: number */,\n  end /*: number */,\n  func /*: (number) => T */\n) /*:Array<T> */ => {\n  const result = [];\n  for (let i = end - 1; i >= start; i--) {\n    result.push(func(i));\n  }\n  return result;\n};\n\n/*flow-include\ntype CppVector<T> = {\n  size: () => number,\n  at: (number) => T,\n}\n*/\n\nconst mapVector = /*:: <T, U>*/ (\n  cppVector /*: CppVector<T> */,\n  func /*: (T, number) => U */\n) /*:Array<U> */ => {\n  return mapFor(0, cppVector.size(), i => func(cppVector.at(i), i));\n};\n\nmodule.exports = {\n  mapFor,\n  mapReverseFor,\n  mapVector,\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport EventsSheet from '../EventsSheet';\nimport EditorMosaic, { MosaicWindow } from '../UI/EditorMosaic';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport EventsFunctionConfigurationEditor from './EventsFunctionConfigurationEditor';\nimport EventsFunctionsList from '../EventsFunctionsList';\nimport EventsBasedBehaviorsList from '../EventsBasedBehaviorsList';\nimport Background from '../UI/Background';\nimport OptionsEditorDialog from './OptionsEditorDialog';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport EventsBasedBehaviorEditorDialog from '../EventsBasedBehaviorEditor/EventsBasedBehaviorEditorDialog';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport BehaviorMethodSelectorDialog from './BehaviorMethodSelectorDialog';\nimport { isBehaviorLifecycleFunction } from '../EventsFunctionsExtensionsLoader/MetadataDeclarationHelpers';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Line } from '../UI/Grid';\nimport Divider from 'material-ui/Divider';\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  setToolbar: (?React.Node) => void,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n  onCreateEventsFunction: (\n    extensionName: string,\n    eventsFunction: gdEventsFunction\n  ) => void,\n  onBehaviorEdited?: () => void,\n  initiallyFocusedFunctionName: ?string,\n  initiallyFocusedBehaviorName: ?string,\n|};\n\ntype State = {|\n  selectedEventsFunction: ?gdEventsFunction,\n  selectedEventsBasedBehavior: ?gdEventsBasedBehavior,\n  editedEventsBasedBehavior: ?gdEventsBasedBehavior,\n  editOptionsDialogOpen: boolean,\n  behaviorMethodSelectorDialogOpen: boolean,\n  onAddEventsFunctionCb: ?(doAdd: boolean, name: ?string) => void,\n|};\n\nexport default class EventsFunctionsExtensionEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    selectedEventsFunction: null,\n    selectedEventsBasedBehavior: null,\n    editedEventsBasedBehavior: null,\n    editOptionsDialogOpen: false,\n    behaviorMethodSelectorDialogOpen: false,\n    onAddEventsFunctionCb: null,\n  };\n  editor: ?EventsSheet;\n  _editors: ?EditorMosaic;\n  _globalObjectsContainer: ?gdObjectsContainer;\n  _objectsContainer: ?gdObjectsContainer;\n\n  componentDidMount() {\n    if (this.props.initiallyFocusedFunctionName) {\n      this.selectEventsFunctionByName(\n        this.props.initiallyFocusedFunctionName,\n        this.props.initiallyFocusedBehaviorName\n      );\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._globalObjectsContainer) this._globalObjectsContainer.delete();\n    if (this._objectsContainer) this._objectsContainer.delete();\n  }\n\n  _loadEventsFunctionFrom = (\n    project: gdProject,\n    eventsFunction: gdEventsFunction\n  ) => {\n    // Create an empty \"context\" of objects.\n    // Avoid recreating containers if they were already created, so that\n    // we keep the same objects in memory and avoid remounting components\n    // (like ObjectGroupsList) because objects \"ptr\" changed.\n    if (!this._globalObjectsContainer) {\n      this._globalObjectsContainer = new gd.ObjectsContainer();\n    }\n\n    if (!this._objectsContainer) {\n      this._objectsContainer = new gd.ObjectsContainer();\n    }\n\n    // Initialize this \"context\" of objects with the function\n    // (as done during code generation).\n    gd.EventsFunctionTools.eventsFunctionToObjectsContainer(\n      project,\n      eventsFunction,\n      this._globalObjectsContainer,\n      this._objectsContainer\n    );\n  };\n\n  updateToolbar() {\n    if (this.editor) {\n      this.editor.updateToolbar();\n    } else {\n      this.props.setToolbar(<div />);\n    }\n  }\n\n  selectEventsFunctionByName = (\n    functionName: string,\n    behaviorName: ?string\n  ) => {\n    const { eventsFunctionsExtension } = this.props;\n\n    if (behaviorName) {\n      // Behavior function\n      const eventsBasedBehaviors = eventsFunctionsExtension.getEventsBasedBehaviors();\n      if (eventsBasedBehaviors.has(behaviorName)) {\n        const eventsBasedBehavior = eventsBasedBehaviors.get(behaviorName);\n        const behaviorEventsFunctions = eventsBasedBehavior.getEventsFunctions();\n        if (behaviorEventsFunctions.hasEventsFunctionNamed(functionName)) {\n          this._selectEventsFunction(\n            behaviorEventsFunctions.getEventsFunction(functionName),\n            eventsBasedBehavior\n          );\n        }\n      }\n    } else {\n      // Free function\n      if (eventsFunctionsExtension.hasEventsFunctionNamed(functionName)) {\n        this._selectEventsFunction(\n          eventsFunctionsExtension.getEventsFunction(functionName),\n          null\n        );\n      }\n    }\n  };\n\n  _selectEventsFunction = (\n    selectedEventsFunction: ?gdEventsFunction,\n    selectedEventsBasedBehavior: ?gdEventsBasedBehavior\n  ) => {\n    if (!selectedEventsFunction) {\n      this.setState(\n        {\n          selectedEventsFunction: null,\n          selectedEventsBasedBehavior,\n        },\n        () => this.updateToolbar()\n      );\n      return;\n    }\n\n    this._loadEventsFunctionFrom(this.props.project, selectedEventsFunction);\n    this.setState(\n      {\n        selectedEventsFunction,\n        selectedEventsBasedBehavior,\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  _makeRenameFreeEventsFunction = (i18n: I18nType) => (\n    eventsFunction: gdEventsFunction,\n    newName: string,\n    done: boolean => void\n  ) => {\n    if (!gd.Project.validateObjectName(newName)) {\n      showWarningBox(\n        i18n._(\n          t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your function name.`\n        )\n      );\n      return;\n    }\n\n    const { project, eventsFunctionsExtension } = this.props;\n    gd.WholeProjectRefactorer.renameEventsFunction(\n      project,\n      eventsFunctionsExtension,\n      eventsFunction.getName(),\n      newName\n    );\n\n    done(true);\n  };\n\n  _makeRenameBehaviorEventsFunction = (i18n: I18nType) => (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    eventsFunction: gdEventsFunction,\n    newName: string,\n    done: boolean => void\n  ) => {\n    if (!gd.Project.validateObjectName(newName)) {\n      showWarningBox(\n        i18n._(\n          t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your function name.`\n        )\n      );\n      return done(false);\n    }\n    if (isBehaviorLifecycleFunction(newName)) {\n      showWarningBox(\n        i18n._(\n          t`This name is reserved for a lifecycle method of the behavior. Choose another name for your custom function.`\n        )\n      );\n      return done(false);\n    }\n\n    const { project, eventsFunctionsExtension } = this.props;\n    gd.WholeProjectRefactorer.renameBehaviorEventsFunction(\n      project,\n      eventsFunctionsExtension,\n      eventsBasedBehavior,\n      eventsFunction.getName(),\n      newName\n    );\n\n    done(true);\n  };\n\n  _onDeleteEventsFunction = (\n    eventsFunction: gdEventsFunction,\n    cb: boolean => void\n  ) => {\n    if (\n      this.state.selectedEventsFunction &&\n      gd.compare(eventsFunction, this.state.selectedEventsFunction)\n    ) {\n      this._selectEventsFunction(null, this.state.selectedEventsBasedBehavior);\n    }\n\n    cb(true);\n  };\n\n  _selectEventsBasedBehavior = (\n    selectedEventsBasedBehavior: ?gdEventsBasedBehavior\n  ) => {\n    this.setState(\n      {\n        selectedEventsBasedBehavior,\n        selectedEventsFunction: null,\n      },\n      () => {\n        this.updateToolbar();\n        if (selectedEventsBasedBehavior) {\n          if (this._editors)\n            this._editors.openEditor('behavior-functions-list');\n        }\n      }\n    );\n  };\n\n  _makeRenameEventsBasedBehavior = (i18n: I18nType) => (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    newName: string,\n    done: boolean => void\n  ) => {\n    if (!gd.Project.validateObjectName(newName)) {\n      showWarningBox(\n        i18n._(\n          t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your function name.`\n        )\n      );\n      return;\n    }\n\n    const { project, eventsFunctionsExtension } = this.props;\n    gd.WholeProjectRefactorer.renameEventsBasedBehavior(\n      project,\n      eventsFunctionsExtension,\n      eventsBasedBehavior.getName(),\n      newName\n    );\n\n    done(true);\n  };\n\n  _onEventsBasedBehaviorRenamed = () => {\n    // Name of a behavior changed, so notify parent\n    // that a behavior was edited (to trigger reload of extensions)\n    if (this.props.onBehaviorEdited) this.props.onBehaviorEdited();\n\n    // Reload the selected events function, if any, as the behavior was\n    // changed so objects containers need to be re-created (otherwise,\n    // objects from objects containers will still refer to the old behavior name,\n    // done before the call to gd.WholeProjectRefactorer.renameEventsBasedBehavior).\n    if (this.state.selectedEventsFunction) {\n      this._loadEventsFunctionFrom(\n        this.props.project,\n        this.state.selectedEventsFunction\n      );\n    }\n  };\n\n  _onDeleteEventsBasedBehavior = (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    cb: boolean => void\n  ) => {\n    if (\n      this.state.selectedEventsBasedBehavior &&\n      gd.compare(eventsBasedBehavior, this.state.selectedEventsBasedBehavior)\n    ) {\n      this._selectEventsBasedBehavior(null);\n    }\n\n    cb(true);\n  };\n\n  _onAddFreeEventsFunction = (cb: (doAdd: boolean, name: ?string) => void) => {\n    cb(true, null); // Proceed with the an autogenerated name\n  };\n\n  _onAddBehaviorEventsFunction = (\n    onAddEventsFunctionCb: (doAdd: boolean, name: ?string) => void\n  ) => {\n    this.setState({\n      behaviorMethodSelectorDialogOpen: true,\n      onAddEventsFunctionCb,\n    });\n  };\n\n  _onCloseBehaviorMethodSelectorDialog = (doAdd: boolean, name: ?string) => {\n    const { onAddEventsFunctionCb } = this.state;\n    this.setState(\n      {\n        behaviorMethodSelectorDialogOpen: false,\n        onAddEventsFunctionCb: null,\n      },\n      () => {\n        if (onAddEventsFunctionCb) onAddEventsFunctionCb(doAdd, name);\n      }\n    );\n  };\n\n  _onBehaviorEventsFunctionAdded = (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    eventsFunction: gdEventsFunction\n  ) => {\n    // This will create the mandatory parameters for the newly added function.\n    gd.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(\n      this.props.eventsFunctionsExtension,\n      eventsBasedBehavior\n    );\n  };\n\n  _onBehaviorPropertyRenamed = (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    oldName: string,\n    newName: string\n  ) => {\n    const { project, eventsFunctionsExtension } = this.props;\n    gd.WholeProjectRefactorer.renameBehaviorProperty(\n      project,\n      eventsFunctionsExtension,\n      eventsBasedBehavior,\n      oldName,\n      newName\n    );\n  };\n\n  _editOptions = (open: boolean = true) => {\n    this.setState({\n      editOptionsDialogOpen: open,\n    });\n  };\n\n  _editBehavior = (editedEventsBasedBehavior: ?gdEventsBasedBehavior) => {\n    this.setState(\n      state => {\n        // If we're closing the properties of a behavior, ensure parameters\n        // are up-to-date in all event functions of the behavior (the object\n        // type might have changed).\n        if (state.editedEventsBasedBehavior && !editedEventsBasedBehavior) {\n          gd.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(\n            this.props.eventsFunctionsExtension,\n            state.editedEventsBasedBehavior\n          );\n        }\n\n        return {\n          editedEventsBasedBehavior,\n        };\n      },\n      () => {\n        // If we're closing the properties of a behavior, notify parent\n        // that a behavior was edited (to trigger reload of extensions)\n        if (!editedEventsBasedBehavior && this.props.onBehaviorEdited)\n          this.props.onBehaviorEdited();\n      }\n    );\n  };\n\n  render() {\n    const { project, eventsFunctionsExtension } = this.props;\n    const {\n      selectedEventsFunction,\n      selectedEventsBasedBehavior,\n      editOptionsDialogOpen,\n      behaviorMethodSelectorDialogOpen,\n      editedEventsBasedBehavior,\n    } = this.state;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <React.Fragment>\n            <EditorMosaic\n              ref={editors => (this._editors = editors)}\n              editors={{\n                parameters: (\n                  <MosaicWindow\n                    title={<Trans>Function Configuration</Trans>}\n                    toolbarControls={[]}\n                    // /!\\ Force re-rendering if selectedEventsFunction, globalObjectsContainer\n                    // or objectsContainer change,\n                    // otherwise we risk using deleted objects (because of the shouldComponentUpdate\n                    // optimization in MosaicWindow).\n                    selectedEventsFunction={selectedEventsFunction}\n                    selectedEventsBasedBehavior={selectedEventsBasedBehavior}\n                    globalObjectsContainer={this._globalObjectsContainer}\n                    objectsContainer={this._objectsContainer}\n                  >\n                    <Background>\n                      {selectedEventsFunction &&\n                      this._globalObjectsContainer &&\n                      this._objectsContainer ? (\n                        <EventsFunctionConfigurationEditor\n                          project={project}\n                          eventsFunction={selectedEventsFunction}\n                          eventsBasedBehavior={selectedEventsBasedBehavior}\n                          globalObjectsContainer={this._globalObjectsContainer}\n                          objectsContainer={this._objectsContainer}\n                          helpPagePath={\n                            !!selectedEventsBasedBehavior\n                              ? '/behaviors/events-based-behaviors'\n                              : '/events/functions'\n                          }\n                          onParametersOrGroupsUpdated={() => {\n                            this._loadEventsFunctionFrom(\n                              project,\n                              selectedEventsFunction\n                            );\n                            this.forceUpdate();\n                          }}\n                        />\n                      ) : (\n                        <EmptyMessage>\n                          <Trans>\n                            Choose a function, or a function of a behavior, to\n                            set the parameters that it accepts.\n                          </Trans>\n                        </EmptyMessage>\n                      )}\n                    </Background>\n                  </MosaicWindow>\n                ),\n                'events-sheet':\n                  selectedEventsFunction &&\n                  this._globalObjectsContainer &&\n                  this._objectsContainer ? (\n                    <EventsSheet\n                      key={selectedEventsFunction.ptr}\n                      ref={editor => (this.editor = editor)}\n                      project={project}\n                      scope={{\n                        layout: null,\n                        eventsFunctionsExtension,\n                        eventsBasedBehavior: selectedEventsBasedBehavior,\n                        eventsFunction: selectedEventsFunction,\n                      }}\n                      globalObjectsContainer={this._globalObjectsContainer}\n                      objectsContainer={this._objectsContainer}\n                      events={selectedEventsFunction.getEvents()}\n                      showPreviewButton={false}\n                      onPreview={options => {}}\n                      showNetworkPreviewButton={false}\n                      onOpenExternalEvents={() => {}}\n                      onOpenLayout={() => {}}\n                      resourceSources={this.props.resourceSources}\n                      onChooseResource={this.props.onChooseResource}\n                      resourceExternalEditors={\n                        this.props.resourceExternalEditors\n                      }\n                      openInstructionOrExpression={\n                        this.props.openInstructionOrExpression\n                      }\n                      setToolbar={this.props.setToolbar}\n                      onOpenDebugger={() => {}}\n                      onCreateEventsFunction={this.props.onCreateEventsFunction}\n                      onOpenSettings={this._editOptions} //TODO: Move this extra toolbar outside of EventsSheet toolbar\n                    />\n                  ) : (\n                    <Background>\n                      <EmptyMessage>\n                        <Trans>\n                          Choose a function, or a function of a behavior, to\n                          edit its events.\n                        </Trans>\n                      </EmptyMessage>\n                    </Background>\n                  ),\n                'free-functions-list': (\n                  <MosaicWindow\n                    title={<Trans>Functions</Trans>}\n                    toolbarControls={[]}\n                    selectedEventsFunction={selectedEventsFunction}\n                  >\n                    <EventsFunctionsList\n                      project={project}\n                      eventsFunctionsContainer={eventsFunctionsExtension}\n                      selectedEventsFunction={selectedEventsFunction}\n                      onSelectEventsFunction={selectedEventsFunction =>\n                        this._selectEventsFunction(selectedEventsFunction, null)\n                      }\n                      onDeleteEventsFunction={this._onDeleteEventsFunction}\n                      canRename={() => true}\n                      onRenameEventsFunction={this._makeRenameFreeEventsFunction(\n                        i18n\n                      )}\n                      onAddEventsFunction={this._onAddFreeEventsFunction}\n                      onEventsFunctionAdded={() => {}}\n                      renderHeader={() => (\n                        <React.Fragment>\n                          <Line justifyContent=\"center\">\n                            <FlatButton\n                              label={<Trans>Edit extension options</Trans>}\n                              primary\n                              onClick={() => this._editOptions()}\n                            />\n                          </Line>\n                          <Divider />\n                        </React.Fragment>\n                      )}\n                    />\n                  </MosaicWindow>\n                ),\n                'behavior-functions-list': selectedEventsBasedBehavior ? (\n                  <MosaicWindow\n                    title={<Trans>Behavior functions</Trans>}\n                    selectedEventsBasedBehavior={selectedEventsBasedBehavior}\n                    selectedEventsFunction={selectedEventsFunction}\n                  >\n                    <EventsFunctionsList\n                      project={project}\n                      eventsFunctionsContainer={selectedEventsBasedBehavior.getEventsFunctions()}\n                      selectedEventsFunction={selectedEventsFunction}\n                      onSelectEventsFunction={selectedEventsFunction =>\n                        this._selectEventsFunction(\n                          selectedEventsFunction,\n                          selectedEventsBasedBehavior\n                        )\n                      }\n                      onDeleteEventsFunction={this._onDeleteEventsFunction}\n                      canRename={(eventsFunction: gdEventsFunction) => {\n                        return !isBehaviorLifecycleFunction(\n                          eventsFunction.getName()\n                        );\n                      }}\n                      onRenameEventsFunction={(\n                        eventsFunction: gdEventsFunction,\n                        newName: string,\n                        done: boolean => void\n                      ) =>\n                        this._makeRenameBehaviorEventsFunction(i18n)(\n                          selectedEventsBasedBehavior,\n                          eventsFunction,\n                          newName,\n                          done\n                        )\n                      }\n                      onAddEventsFunction={this._onAddBehaviorEventsFunction}\n                      onEventsFunctionAdded={eventsFunction =>\n                        this._onBehaviorEventsFunctionAdded(\n                          selectedEventsBasedBehavior,\n                          eventsFunction\n                        )\n                      }\n                      renderHeader={() => (\n                        <React.Fragment>\n                          <Line justifyContent=\"center\">\n                            <FlatButton\n                              label={<Trans>Edit behavior properties</Trans>}\n                              primary\n                              onClick={() =>\n                                this._editBehavior(selectedEventsBasedBehavior)\n                              }\n                            />\n                          </Line>\n                          <Divider />\n                        </React.Fragment>\n                      )}\n                    />\n                  </MosaicWindow>\n                ) : (\n                  <Background>\n                    <EmptyMessage>\n                      <Trans>\n                        Select a behavior to display the functions inside this\n                        behavior.\n                      </Trans>\n                    </EmptyMessage>\n                  </Background>\n                ),\n\n                'behaviors-list': (\n                  <MosaicWindow\n                    title={<Trans>Behaviors</Trans>}\n                    toolbarControls={[]}\n                    selectedEventsBasedBehavior={selectedEventsBasedBehavior}\n                  >\n                    <EventsBasedBehaviorsList\n                      project={project}\n                      eventsBasedBehaviorsList={eventsFunctionsExtension.getEventsBasedBehaviors()}\n                      selectedEventsBasedBehavior={selectedEventsBasedBehavior}\n                      onSelectEventsBasedBehavior={\n                        this._selectEventsBasedBehavior\n                      }\n                      onDeleteEventsBasedBehavior={\n                        this._onDeleteEventsBasedBehavior\n                      }\n                      onRenameEventsBasedBehavior={this._makeRenameEventsBasedBehavior(\n                        i18n\n                      )}\n                      onEventsBasedBehaviorRenamed={\n                        this._onEventsBasedBehaviorRenamed\n                      }\n                      onEditProperties={this._editBehavior}\n                    />\n                  </MosaicWindow>\n                ),\n              }}\n              initialNodes={{\n                direction: 'row',\n                first: {\n                  direction: 'column',\n                  first: 'free-functions-list',\n                  second: 'behaviors-list',\n                  splitPercentage: 50,\n                },\n                second: {\n                  direction: 'column',\n                  first: 'parameters',\n                  second: 'events-sheet',\n                  splitPercentage: 25,\n                },\n                splitPercentage: 25,\n              }}\n            />\n            {editOptionsDialogOpen && (\n              <OptionsEditorDialog\n                eventsFunctionsExtension={eventsFunctionsExtension}\n                open\n                onClose={() => this._editOptions(false)}\n              />\n            )}\n            {behaviorMethodSelectorDialogOpen &&\n              selectedEventsBasedBehavior && (\n                <BehaviorMethodSelectorDialog\n                  eventsBasedBehavior={selectedEventsBasedBehavior}\n                  onCancel={() =>\n                    this._onCloseBehaviorMethodSelectorDialog(false, null)\n                  }\n                  onChoose={name =>\n                    this._onCloseBehaviorMethodSelectorDialog(true, name)\n                  }\n                />\n              )}\n            {editedEventsBasedBehavior && (\n              <EventsBasedBehaviorEditorDialog\n                project={project}\n                eventsFunctionsExtension={eventsFunctionsExtension}\n                eventsBasedBehavior={editedEventsBasedBehavior}\n                onApply={() => this._editBehavior(null)}\n                onRenameProperty={(oldName, newName) =>\n                  this._onBehaviorPropertyRenamed(\n                    editedEventsBasedBehavior,\n                    oldName,\n                    newName\n                  )\n                }\n              />\n            )}\n          </React.Fragment>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport IconButton from 'material-ui/IconButton';\nimport Remove from 'material-ui/svg-icons/content/remove';\nimport ObjectSelector from '../ObjectsList/ObjectSelector';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport { Column } from '../UI/Grid';\nconst gd = global.gd;\n\ntype Props = {|\n  project: ?gdProject,\n  group: gdObjectGroup,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  onSizeUpdated?: () => void,\n|};\n\ntype State = {|\n  newObjectName: string,\n|};\n\nexport default class ObjectGroupEditor extends React.Component<Props, State> {\n  state = {\n    newObjectName: '',\n  };\n\n  removeObject = (objectName: string) => {\n    const { group, onSizeUpdated } = this.props;\n\n    group.removeObject(objectName);\n\n    this.forceUpdate();\n    if (onSizeUpdated) onSizeUpdated();\n  };\n\n  addObject = (objectName: string) => {\n    const { group, onSizeUpdated } = this.props;\n\n    group.addObject(objectName);\n    this.setState({\n      newObjectName: '',\n    });\n    if (onSizeUpdated) onSizeUpdated();\n  };\n\n  _renderExplanation() {\n    const { group, globalObjectsContainer, objectsContainer } = this.props;\n\n    let type = undefined;\n    group\n      .getAllObjectsNames()\n      .toJSArray()\n      .forEach(objectName => {\n        const objectType = gd.getTypeOfObject(\n          globalObjectsContainer,\n          objectsContainer,\n          objectName,\n          false\n        );\n        if (type === undefined || objectType === type) type = objectType;\n        else type = '';\n      });\n\n    let message = '';\n    if (type === undefined) {\n      message = 'This group is empty';\n    } else if (type === '') {\n      message =\n        \"This group contains objects of different kinds. You'll only be able to use actions and conditions common to all objects with this group.\";\n    } else {\n      message = `This group contains objects of the same kind (${type}). You can use actions and conditions related to this kind of objects in events with this group.`;\n    }\n\n    return <EmptyMessage>{message}</EmptyMessage>;\n  }\n\n  render() {\n    const {\n      project,\n      group,\n      globalObjectsContainer,\n      objectsContainer,\n    } = this.props;\n\n    return (\n      <div>\n        {this._renderExplanation()}\n        <List>\n          {group\n            .getAllObjectsNames()\n            .toJSArray()\n            .map(objectName => {\n              return (\n                <ListItem\n                  key={objectName}\n                  primaryText={objectName}\n                  rightIconButton={\n                    <IconButton onClick={() => this.removeObject(objectName)}>\n                      <Remove />\n                    </IconButton>\n                  }\n                />\n              );\n            })}\n        </List>\n        <Column>\n          <ObjectSelector\n            project={project}\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            value={this.state.newObjectName}\n            onChange={name => this.setState({ newObjectName: name })}\n            onChoose={this.addObject}\n            openOnFocus\n            noGroups\n            hintText={<Trans>Choose an object to add to the group</Trans>}\n            fullWidth\n          />\n        </Column>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport TextField from 'material-ui/TextField';\nimport CloudUpload from 'material-ui/svg-icons/file/cloud-upload';\nimport { Column, Line } from '../UI/Grid';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\nimport EventsFunctionsExtensionsContext, {\n  type EventsFunctionsExtensionsState,\n} from '../EventsFunctionsExtensionsLoader/EventsFunctionsExtensionsContext';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Window from '../Utils/Window';\n\ntype Props = {|\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  onClose: () => void,\n  open: boolean,\n|};\ntype State = {|\n  exportDialogOpen: boolean,\n|};\n\nconst exportExtension = (\n  eventsFunctionsExtensionsState: EventsFunctionsExtensionsState,\n  eventsFunctionsExtension: gdEventsFunctionsExtension\n) => {\n  const eventsFunctionsExtensionWriter = eventsFunctionsExtensionsState.getEventsFunctionsExtensionWriter();\n  if (!eventsFunctionsExtensionWriter)\n    return Promise.reject(new Error('Not supported'));\n\n  return eventsFunctionsExtensionWriter\n    .chooseEventsFunctionExtensionFile()\n    .then(pathOrUrl => {\n      if (!pathOrUrl) return;\n\n      eventsFunctionsExtensionWriter\n        .writeEventsFunctionsExtension(eventsFunctionsExtension, pathOrUrl)\n        .then();\n    });\n};\n\nconst openGitHubIssue = () => {\n  const body = `\n**⚠️ Please edit and complete this before submitting your extension:**\n\n## Describe the extension\nA clear and concise description of what the extension is, how useful it is.\n\n## Checklist\n\n- [ ] Extension has a proper name and description.\n- [ ] Extension has tags (for example: \"platform, brick, breakable\").\n- [ ] All behaviors have a description.\n- [ ] All functions (actions, conditions, expressions) have descriptions.\n- [ ] I confirm that this extension can be intergrated to this GitHub repository, distributed and MIT licensed.\n\n## Extension file\n\nFinally, attach the .json file of your extension here.\n\nYou also may have to create an account on GitHub before posting.\nIf your extension is high quality and useful, it will be added to the list of GDevelop community extensions.\nWhen you're ready, remove this last paragraph and click on \"Submit new issue\". Thanks 🙌`;\n  Window.openExternalURL(\n    `https://github.com/4ian/GDevelop-extensions/issues/new?body=${encodeURIComponent(\n      body\n    )}&title=New%20extension`\n  );\n};\n\nexport default class OptionsEditorDialog extends React.Component<Props, State> {\n  state = {\n    exportDialogOpen: false,\n  };\n\n  render() {\n    const { eventsFunctionsExtension } = this.props;\n    const { exportDialogOpen } = this.state;\n\n    return (\n      <EventsFunctionsExtensionsContext.Consumer>\n        {eventsFunctionsExtensionsState => {\n          const eventsFunctionsExtensionWriter = eventsFunctionsExtensionsState.getEventsFunctionsExtensionWriter();\n          return (\n            <Dialog\n              secondaryActions={[\n                <HelpButton key=\"help\" helpPagePath=\"/extensions/create\" />,\n                eventsFunctionsExtensionWriter ? (\n                  <FlatButton\n                    icon={<CloudUpload />}\n                    key=\"export\"\n                    label={<Trans>Export extension</Trans>}\n                    onClick={() => this.setState({ exportDialogOpen: true })}\n                  />\n                ) : null,\n              ]}\n              actions={[\n                <FlatButton\n                  label={<Trans>Close</Trans>}\n                  primary={true}\n                  keyboardFocused={true}\n                  onClick={() => this.props.onClose()}\n                  key={'close'}\n                />,\n              ]}\n              open={this.props.open}\n              title={<Trans>Edit Extension Options</Trans>}\n              onRequestClose={this.props.onClose}\n              autoScrollBodyContent={true}\n            >\n              <Column>\n                <TextField\n                  floatingLabelText={<Trans>Name</Trans>}\n                  value={eventsFunctionsExtension.getName()}\n                  disabled\n                  fullWidth\n                />\n                <TextField\n                  floatingLabelText={<Trans>Name displayed in editor</Trans>}\n                  value={eventsFunctionsExtension.getFullName()}\n                  onChange={(e, text) => {\n                    eventsFunctionsExtension.setFullName(text);\n                    this.forceUpdate();\n                  }}\n                  fullWidth\n                />\n                <TextField\n                  floatingLabelText={<Trans>Short description</Trans>}\n                  value={eventsFunctionsExtension.getShortDescription()}\n                  onChange={(e, text) => {\n                    eventsFunctionsExtension.setShortDescription(text);\n                    this.forceUpdate();\n                  }}\n                  multiLine\n                  fullWidth\n                  rows={2}\n                  rowsMax={2}\n                />\n                <TextField\n                  floatingLabelText={\n                    <Trans>Description (markdown supported)</Trans>\n                  }\n                  value={eventsFunctionsExtension.getDescription()}\n                  onChange={(e, text) => {\n                    eventsFunctionsExtension.setDescription(text);\n                    this.forceUpdate();\n                  }}\n                  multiLine\n                  fullWidth\n                  rows={5}\n                  rowsMax={5}\n                />\n                <TextField\n                  floatingLabelText={<Trans>Version</Trans>}\n                  value={eventsFunctionsExtension.getVersion()}\n                  onChange={(e, text) => {\n                    eventsFunctionsExtension.setVersion(text);\n                    this.forceUpdate();\n                  }}\n                  fullWidth\n                />\n                <TextField\n                  floatingLabelText={<Trans>Tags (comma separated)</Trans>}\n                  value={eventsFunctionsExtension.getTags()}\n                  onChange={(e, text) => {\n                    eventsFunctionsExtension.setTags(text);\n                    this.forceUpdate();\n                  }}\n                  fullWidth\n                />\n                <TextField\n                  floatingLabelText={\n                    <Trans>Author (Name, email or GitHub handle)</Trans>\n                  }\n                  value={eventsFunctionsExtension.getAuthor()}\n                  onChange={(e, text) => {\n                    eventsFunctionsExtension.setAuthor(text);\n                    this.forceUpdate();\n                  }}\n                  fullWidth\n                />\n              </Column>\n              {exportDialogOpen && (\n                <Dialog\n                  secondaryActions={[\n                    <HelpButton key=\"help\" helpPagePath=\"/extensions/share\" />,\n                  ]}\n                  actions={[\n                    <FlatButton\n                      label={<Trans>Close</Trans>}\n                      keyboardFocused={true}\n                      onClick={() => this.setState({ exportDialogOpen: false })}\n                      key={'close'}\n                    />,\n                  ]}\n                  open\n                  onRequestClose={() =>\n                    this.setState({ exportDialogOpen: false })\n                  }\n                >\n                  <Column expand>\n                    <Line>\n                      <p>\n                        <Trans>\n                          You can export the extension to a file to easily\n                          import it in another project. If your extension is\n                          providing useful and reusable functions or behaviors,\n                          consider sharing it with the GDevelop community!\n                        </Trans>\n                      </p>\n                    </Line>\n                    <Line>\n                      <RaisedButton\n                        icon={<CloudUpload />}\n                        primary\n                        label={<Trans>Export to a file</Trans>}\n                        onClick={() =>\n                          exportExtension(\n                            eventsFunctionsExtensionsState,\n                            eventsFunctionsExtension\n                          )\n                        }\n                      />\n                      <FlatButton\n                        label={<Trans>Submit extension to the community</Trans>}\n                        onClick={openGitHubIssue}\n                      />\n                    </Line>\n                  </Column>\n                </Dialog>\n              )}\n            </Dialog>\n          );\n        }}\n      </EventsFunctionsExtensionsContext.Consumer>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport EventsBasedBehaviorEditor from './index';\nimport HelpButton from '../UI/HelpButton';\n\ntype Props = {|\n  onApply: () => void,\n  project: gdProject,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  eventsBasedBehavior: gdEventsBasedBehavior,\n  onRenameProperty: (oldName: string, newName: string) => void,\n|};\n\nexport default class EventsBasedBehaviorEditorDialog extends React.Component<\n  Props,\n  {||}\n> {\n  render() {\n    const {\n      onApply,\n      eventsBasedBehavior,\n      eventsFunctionsExtension,\n      project,\n    } = this.props;\n\n    return (\n      <Dialog\n        noMargin\n        secondaryActions={[\n          <HelpButton\n            key=\"help\"\n            helpPagePath=\"/behaviors/events-based-behaviors\"\n          />,\n        ]}\n        actions={[\n          <FlatButton\n            label={<Trans>Apply</Trans>}\n            primary\n            keyboardFocused\n            onClick={onApply}\n            key={'Apply'}\n          />,\n        ]}\n        modal\n        open\n        onRequestClose={onApply}\n        autoScrollBodyContent\n        title={<Trans>Edit the behavior</Trans>}\n      >\n        <EventsBasedBehaviorEditor\n          project={project}\n          eventsFunctionsExtension={eventsFunctionsExtension}\n          eventsBasedBehavior={eventsBasedBehavior}\n          onTabChanged={\n            () =>\n              this.forceUpdate() /*Force update to ensure dialog is properly positioned*/\n          }\n          onPropertiesUpdated={\n            () =>\n              this.forceUpdate() /*Force update to ensure dialog is properly positioned*/\n          }\n          onRenameProperty={this.props.onRenameProperty}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\nimport { Column, Spacer } from '../UI/Grid';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport ObjectTypeSelector from '../ObjectTypeSelector';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport DismissableAlertMessage from '../UI/DismissableAlertMessage';\nimport AlertMessage from '../UI/AlertMessage';\nimport EventsBasedBehaviorPropertiesEditor from './EventsBasedBehaviorPropertiesEditor';\nconst gd = global.gd;\n\ntype TabName = 'configuration' | 'properties';\n\ntype Props = {|\n  project: gdProject,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  eventsBasedBehavior: gdEventsBasedBehavior,\n  onPropertiesUpdated: () => void,\n  onRenameProperty: (oldName: string, newName: string) => void,\n  onTabChanged: () => void,\n|};\n\ntype State = {|\n  currentTab: TabName,\n|};\n\nexport default class EventsBasedBehaviorEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    currentTab: 'configuration',\n  };\n\n  // An array containing all the object types that are using the behavior\n  _allObjectTypes: Array<string> = gd.WholeProjectRefactorer.getAllObjectTypesUsingEventsBasedBehavior(\n    this.props.project,\n    this.props.eventsFunctionsExtension,\n    this.props.eventsBasedBehavior\n  )\n    .toNewVectorString()\n    .toJSArray();\n\n  _changeTab = (newTab: TabName) =>\n    this.setState(\n      {\n        currentTab: newTab,\n      },\n      () => this.props.onTabChanged()\n    );\n\n  render() {\n    const { currentTab } = this.state;\n    const { eventsBasedBehavior, project } = this.props;\n\n    return (\n      <Tabs value={currentTab} onChange={this._changeTab}>\n        <Tab label={<Trans>Configuration</Trans>} value=\"configuration\">\n          <Column>\n            <DismissableAlertMessage\n              identifier=\"events-based-behavior-explanation\"\n              kind=\"info\"\n            >\n              This is the configuration of your behavior. Make sure to choose a\n              proper internal name as it's hard to change it later. Enter a\n              description explaining what the behavior is doing to the object.\n            </DismissableAlertMessage>\n            <TextField\n              floatingLabelText={<Trans>Internal Name</Trans>}\n              value={eventsBasedBehavior.getName()}\n              disabled\n              fullWidth\n            />\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={<Trans>Name displayed in editor</Trans>}\n              value={eventsBasedBehavior.getFullName()}\n              onChange={text => {\n                eventsBasedBehavior.setFullName(text);\n                this.forceUpdate();\n              }}\n              fullWidth\n            />\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={<Trans>Description</Trans>}\n              floatingLabelFixed\n              hintText={\n                <Trans>\n                  The description of the behavior should explain what the\n                  behavior is doing to the object, and, briefly, how to use it.\n                </Trans>\n              }\n              value={eventsBasedBehavior.getDescription()}\n              onChange={text => {\n                eventsBasedBehavior.setDescription(text);\n                this.forceUpdate();\n              }}\n              multiLine\n              fullWidth\n              rows={3}\n            />\n            <ObjectTypeSelector\n              floatingLabelText={\n                <Trans>Object on which this behavior can be used</Trans>\n              }\n              project={project}\n              value={eventsBasedBehavior.getObjectType()}\n              onChange={(objectType: string) => {\n                eventsBasedBehavior.setObjectType(objectType);\n                this.forceUpdate();\n              }}\n              allowedObjectTypes={\n                this._allObjectTypes.length === 0\n                  ? undefined /* Allow anything as the behavior is not used */\n                  : this._allObjectTypes.length === 1\n                  ? [\n                      '',\n                      this._allObjectTypes[0],\n                    ] /* Allow only the type of the objects using the behavior */\n                  : [\n                      '',\n                    ] /* More than one type of object are using the behavior. Only \"any object\" can be used on this behavior */\n              }\n            />\n            {this._allObjectTypes.length > 1 && (\n              <AlertMessage kind=\"info\">\n                <Trans>\n                  This behavior is being used by multiple types of objects.\n                  Thus, you can't restrict its usage to any particular object\n                  type. All the object types using this behavior are listed\n                  here:\n                  {this._allObjectTypes.join(', ')}\n                </Trans>\n              </AlertMessage>\n            )}\n            {eventsBasedBehavior\n              .getEventsFunctions()\n              .getEventsFunctionsCount() === 0 && (\n              <DismissableAlertMessage\n                identifier=\"empty-events-based-behavior-explanation\"\n                kind=\"info\"\n              >\n                <Trans>\n                  Once you're done, close this dialog and start adding some\n                  functions to the behavior. Then, test the behavior by adding\n                  it to an object in a scene.\n                </Trans>\n              </DismissableAlertMessage>\n            )}\n            <Spacer />\n          </Column>\n        </Tab>\n        <Tab label={<Trans>Properties</Trans>} value=\"properties\">\n          <EventsBasedBehaviorPropertiesEditor\n            project={project}\n            eventsBasedBehavior={eventsBasedBehavior}\n            onPropertiesUpdated={this.props.onPropertiesUpdated}\n            onRenameProperty={this.props.onRenameProperty}\n          />\n        </Tab>\n      </Tabs>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\nimport * as React from 'react';\nimport { Column, Line } from '../UI/Grid';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { mapVector } from '../Utils/MapFor';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport IconButton from 'material-ui/IconButton';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport MiniToolbar from '../UI/MiniToolbar';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport InlineCheckbox from '../UI/InlineCheckbox';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\n\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  eventsBasedBehavior: gdEventsBasedBehavior,\n  onPropertiesUpdated: () => void,\n  onRenameProperty: (oldName: string, newName: string) => void,\n|};\n\nconst styles = {\n  propertiesContainer: {\n    flex: 1,\n  },\n};\n\nconst validatePropertyName = (\n  i18n: I18nType,\n  properties: gdNamedPropertyDescriptorsList,\n  newName: string\n) => {\n  if (!newName) {\n    showWarningBox(i18n._(t`The name of a property cannot be empty.`));\n    return false;\n  }\n  if (newName === 'name' || newName === 'type') {\n    showWarningBox(\n      i18n._(\n        t`The name of a property cannot be \"name\" or \"type\", as they are used by GDevelop internally.`\n      )\n    );\n    return false;\n  }\n  if (properties.has(newName)) {\n    showWarningBox(\n      i18n._(\n        t`This name is already used by another property. Choose a unique name for each property.`\n      )\n    );\n    return false;\n  }\n  if (!gd.Project.validateObjectName(newName)) {\n    showWarningBox(\n      i18n._(\n        t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your parameter name.`\n      )\n    );\n    return false;\n  }\n\n  return true;\n};\n\nexport default class EventsBasedBehaviorPropertiesEditor extends React.Component<\n  Props,\n  {||}\n> {\n  _addProperty = () => {\n    const { eventsBasedBehavior } = this.props;\n    const properties = eventsBasedBehavior.getPropertyDescriptors();\n\n    const newName = newNameGenerator('Property', name => properties.has(name));\n    const property = properties.insertNew(newName, properties.getCount());\n    property.setType('Number');\n    this.forceUpdate();\n    this.props.onPropertiesUpdated();\n  };\n\n  _removeProperty = (name: string) => {\n    const { eventsBasedBehavior } = this.props;\n    const properties = eventsBasedBehavior.getPropertyDescriptors();\n\n    properties.remove(name);\n    this.forceUpdate();\n    this.props.onPropertiesUpdated();\n  };\n\n  _moveProperty = (oldIndex: number, newIndex: number) => {\n    const { eventsBasedBehavior } = this.props;\n    const properties = eventsBasedBehavior.getPropertyDescriptors();\n\n    properties.move(oldIndex, newIndex);\n    this.forceUpdate();\n    this.props.onPropertiesUpdated();\n  };\n\n  render() {\n    const { eventsBasedBehavior } = this.props;\n\n    const properties = eventsBasedBehavior.getPropertyDescriptors();\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Column noMargin>\n            <Line noMargin>\n              <div style={styles.propertiesContainer}>\n                {mapVector(\n                  properties,\n                  (property: gdNamedPropertyDescriptor, i: number) => (\n                    <React.Fragment key={i}>\n                      <MiniToolbar>\n                        <Column expand noMargin>\n                          <SemiControlledTextField\n                            commitOnBlur\n                            hintText={<Trans>Enter the property name</Trans>}\n                            value={property.getName()}\n                            onChange={newName => {\n                              if (newName === property.getName()) return;\n                              if (\n                                !validatePropertyName(i18n, properties, newName)\n                              )\n                                return;\n\n                              this.props.onRenameProperty(\n                                property.getName(),\n                                newName\n                              );\n\n                              property.setName(newName);\n                              this.forceUpdate();\n                              this.props.onPropertiesUpdated();\n                            }}\n                            fullWidth\n                          />\n                        </Column>\n                        <InlineCheckbox\n                          label={\n                            property.isHidden() ? (\n                              <Trans>Hidden</Trans>\n                            ) : (\n                              <Trans>Visible in editor</Trans>\n                            )\n                          }\n                          checked={!property.isHidden()}\n                          onCheck={(e, checked) => {\n                            property.setHidden(!checked);\n                            this.forceUpdate();\n                            this.props.onPropertiesUpdated();\n                          }}\n                          checkedIcon={<Visibility />}\n                          uncheckedIcon={<VisibilityOff />}\n                        />\n                        <IconMenu\n                          iconButtonElement={\n                            <IconButton>\n                              <MoreVertIcon />\n                            </IconButton>\n                          }\n                          buildMenuTemplate={() => [\n                            {\n                              label: i18n._(t`Delete`),\n                              click: () =>\n                                this._removeProperty(property.getName()),\n                            },\n                            { type: 'separator' },\n                            {\n                              label: i18n._(t`Move up`),\n                              click: () => this._moveProperty(i, i - 1),\n                              enabled: i - 1 >= 0,\n                            },\n                            {\n                              label: i18n._(t`Move down`),\n                              click: () => this._moveProperty(i, i + 1),\n                              enabled: i + 1 < properties.getCount(),\n                            },\n                          ]}\n                        />\n                      </MiniToolbar>\n                      <Line expand noMargin>\n                        <Column expand>\n                          <SelectField\n                            floatingLabelText={<Trans>Type</Trans>}\n                            value={property.getType()}\n                            onChange={(e, i, value) => {\n                              property.setType(value);\n                              this.forceUpdate();\n                              this.props.onPropertiesUpdated();\n                            }}\n                            fullWidth\n                          >\n                            <MenuItem\n                              value=\"Number\"\n                              primaryText={<Trans>Number</Trans>}\n                            />\n                            <MenuItem\n                              value=\"String\"\n                              primaryText={<Trans>String</Trans>}\n                            />\n                            <MenuItem\n                              value=\"Boolean\"\n                              primaryText={<Trans>Boolean (checkbox)</Trans>}\n                            />\n                          </SelectField>\n                        </Column>\n                        <Column expand>\n                          {(property.getType() === 'String' ||\n                            property.getType() === 'Number') && (\n                            <SemiControlledTextField\n                              commitOnBlur\n                              floatingLabelText={<Trans>Default value</Trans>}\n                              hintText={\n                                property.getType() === 'Number' ? '123' : 'ABC'\n                              }\n                              value={property.getValue()}\n                              onChange={newValue => {\n                                property.setValue(newValue);\n                                this.forceUpdate();\n                                this.props.onPropertiesUpdated();\n                              }}\n                              fullWidth\n                            />\n                          )}\n                          {property.getType() === 'Boolean' && (\n                            <SelectField\n                              floatingLabelText={<Trans>Default value</Trans>}\n                              value={\n                                property.getValue() === 'true'\n                                  ? 'true'\n                                  : 'false'\n                              }\n                              onChange={(e, i, value) => {\n                                property.setValue(value);\n                                this.forceUpdate();\n                                this.props.onPropertiesUpdated();\n                              }}\n                              fullWidth\n                            >\n                              <MenuItem\n                                value=\"true\"\n                                primaryText={<Trans>True (checked)</Trans>}\n                              />\n                              <MenuItem\n                                value=\"false\"\n                                primaryText={<Trans>False (not checked)</Trans>}\n                              />\n                            </SelectField>\n                          )}\n                        </Column>\n                      </Line>\n                      <Line expand noMargin>\n                        <Column expand>\n                          <SemiControlledTextField\n                            commitOnBlur\n                            floatingLabelText={\n                              <Trans>Label, shown in the editor</Trans>\n                            }\n                            hintText={\n                              <Trans>\n                                This should make the purpose of the property\n                                easy to understand\n                              </Trans>\n                            }\n                            floatingLabelFixed\n                            value={property.getLabel()}\n                            onChange={text => {\n                              property.setLabel(text);\n                              this.forceUpdate();\n                            }}\n                            fullWidth\n                          />\n                        </Column>\n                      </Line>\n                    </React.Fragment>\n                  )\n                )}\n                {properties.getCount() === 0 ? (\n                  <EmptyMessage>\n                    <Trans>\n                      No properties for this behavior. Add one to store data\n                      inside this behavior (for example: health, ammo, speed,\n                      etc...)\n                    </Trans>\n                  </EmptyMessage>\n                ) : null}\n                <Line justifyContent=\"center\">\n                  <RaisedButton\n                    primary\n                    label={<Trans>Add a property</Trans>}\n                    onClick={this._addProperty}\n                  />\n                </Line>\n              </div>\n            </Line>\n          </Column>\n        )}\n      </I18n>\n    );\n  }\n}\n","import gesture from 'pixi-simple-gesture';\nimport ObjectsRenderingService from '../../ObjectsRendering/ObjectsRenderingService';\nimport getObjectByName from '../../Utils/GetObjectByName';\n\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\nexport default class LayerRenderer {\n  constructor({\n    project,\n    layout,\n    layer,\n    viewPosition,\n    instances,\n    onInstanceClicked,\n    onOverInstance,\n    onOutInstance,\n    onMoveInstance,\n    onMoveInstanceEnd,\n    onDownInstance,\n  }) {\n    this.project = project;\n    this.instances = instances;\n    this.layout = layout;\n    this.layer = layer; // /!\\ Don't store any other reference.\n    // `layer` can be changed at any moment (see InstancesRenderer).\n    this.viewPosition = viewPosition;\n    this.onInstanceClicked = onInstanceClicked;\n    this.onOverInstance = onOverInstance;\n    this.onOutInstance = onOutInstance;\n    this.onMoveInstance = onMoveInstance;\n    this.onMoveInstanceEnd = onMoveInstanceEnd;\n    this.onDownInstance = onDownInstance;\n\n    this.viewTopLeft = [0, 0]; // Used for instances culling on rendering\n    this.viewBottomRight = [0, 0]; // Used for instances culling on rendering\n\n    this.renderedInstances = {};\n    this.pixiContainer = new PIXI.Container();\n\n    // Functor used to render an instance\n    this.instancesRenderer = new gd.InitialInstanceJSFunctor();\n    this.instancesRenderer.invoke = instancePtr => {\n      const instance = gd.wrapPointer(instancePtr, gd.InitialInstance);\n\n      //Get the \"RendereredInstance\" object associated to the instance and tell it to update.\n      var renderedInstance = this.getRendererOfInstance(instance);\n      if (!renderedInstance) return;\n\n      const pixiObject = renderedInstance.getPixiObject();\n      if (pixiObject) pixiObject.zOrder = instance.getZOrder();\n      if (pixiObject) pixiObject.interactive = !instance.isLocked();\n\n      // \"Culling\" improves rendering performance of large levels\n      const isVisible = this._isInstanceVisible(instance);\n      if (pixiObject) pixiObject.visible = isVisible;\n      if (isVisible) renderedInstance.update();\n\n      renderedInstance.wasUsed = true;\n    };\n  }\n\n  getPixiContainer() {\n    return this.pixiContainer;\n  }\n\n  getInstanceLeft = instance => {\n    return (\n      instance.getX() -\n      (this.renderedInstances[instance.ptr]\n        ? this.renderedInstances[instance.ptr].getOriginX()\n        : 0)\n    );\n  };\n\n  getInstanceTop = instance => {\n    return (\n      instance.getY() -\n      (this.renderedInstances[instance.ptr]\n        ? this.renderedInstances[instance.ptr].getOriginY()\n        : 0)\n    );\n  };\n\n  getInstanceWidth = instance => {\n    if (instance.hasCustomSize()) return instance.getCustomWidth();\n\n    return this.renderedInstances[instance.ptr]\n      ? this.renderedInstances[instance.ptr].getDefaultWidth()\n      : 0;\n  };\n\n  getInstanceHeight = instance => {\n    if (instance.hasCustomSize()) return instance.getCustomHeight();\n\n    return this.renderedInstances[instance.ptr]\n      ? this.renderedInstances[instance.ptr].getDefaultHeight()\n      : 0;\n  };\n\n  getRendererOfInstance = instance => {\n    var renderedInstance = this.renderedInstances[instance.ptr];\n    if (renderedInstance === undefined) {\n      //No renderer associated yet, the instance must have been just created!...\n      const associatedObjectName = instance.getObjectName();\n      const associatedObject = getObjectByName(\n        this.project,\n        this.layout,\n        associatedObjectName\n      );\n      if (!associatedObject) return;\n\n      //...so let's create a renderer.\n      renderedInstance = this.renderedInstances[\n        instance.ptr\n      ] = ObjectsRenderingService.createNewInstanceRenderer(\n        this.project,\n        this.layout,\n        instance,\n        associatedObject,\n        this.pixiContainer\n      );\n\n      renderedInstance._pixiObject.interactive = true;\n      gesture.panable(renderedInstance._pixiObject);\n      renderedInstance._pixiObject.on('click', () => {\n        this.onInstanceClicked(instance);\n      });\n      renderedInstance._pixiObject.on('mouseover', () => {\n        this.onOverInstance(instance);\n      });\n      renderedInstance._pixiObject.on('mousedown', () => {\n        this.onDownInstance(instance);\n      });\n      renderedInstance._pixiObject.on('touchstart', () => {\n        this.onDownInstance(instance);\n      });\n      renderedInstance._pixiObject.on('mouseout', () => {\n        this.onOutInstance(instance);\n      });\n      renderedInstance._pixiObject.on('panmove', event => {\n        this.onMoveInstance(instance, event.deltaX, event.deltaY);\n      });\n      renderedInstance._pixiObject.on('panend', event => {\n        this.onMoveInstanceEnd();\n      });\n    }\n\n    return renderedInstance;\n  };\n\n  /**\n   * This returns true if an instance is visible according to the viewPosition.\n   * The approach is a naive bounding box testing but save rendering time on large\n   * levels.\n   * @param {*} instance\n   */\n  _isInstanceVisible(instance) {\n    //TODO: Properly handle rotation\n    const left = this.getInstanceLeft(instance);\n    const top = this.getInstanceTop(instance);\n    if (\n      left + this.getInstanceWidth(instance) < this.viewTopLeft[0] ||\n      top + this.getInstanceHeight(instance) < this.viewTopLeft[1] ||\n      left > this.viewBottomRight[0] ||\n      top > this.viewBottomRight[1]\n    )\n      return false;\n\n    return true;\n  }\n\n  _computeViewBounds() {\n    // Add a margin of 100 pixels around the view. Culling will hide PIXI objects,\n    // and hidden objects won't respond to events. Hence, a margin allow the cursor to go\n    // slightly out of the canvas when moving an instance, and still have the instance\n    // to follow the cursor.\n    const margin = 100;\n    this.viewTopLeft = this.viewPosition.toSceneCoordinates(-margin, -margin);\n    this.viewBottomRight = this.viewPosition.toSceneCoordinates(\n      this.viewPosition.getWidth() + margin,\n      this.viewPosition.getHeight() + margin\n    );\n  }\n\n  render() {\n    this._computeViewBounds();\n    this.instances.iterateOverInstancesWithZOrdering(\n      this.instancesRenderer,\n      this.layer.getName()\n    );\n    this._updatePixiObjectsZOrder();\n    this._updateVisibility();\n    this._cleanRenderers();\n  }\n\n  _updatePixiObjectsZOrder() {\n    this.pixiContainer.children.sort((a, b) => {\n      a.zOrder = a.zOrder || 0;\n      b.zOrder = b.zOrder || 0;\n      return a.zOrder - b.zOrder;\n    });\n  }\n\n  _updateVisibility() {\n    this.pixiContainer.visible = this.layer.getVisibility();\n  }\n\n  /**\n   * Delete instance renderers of the specified objects, which will then be recreated during\n   * the next render.\n   * @param {string} objectName The name of the object for which instance must be re-rendered.\n   */\n  resetRenderersFor(objectName) {\n    for (let i in this.renderedInstances) {\n      if (this.renderedInstances.hasOwnProperty(i)) {\n        const renderedInstance = this.renderedInstances[i];\n        if (renderedInstance.getInstance().getObjectName() === objectName) {\n          renderedInstance.instanceRemovedFromScene();\n          delete this.renderedInstances[i];\n        }\n      }\n    }\n  }\n\n  /**\n   * Clean up rendered instances that are not associated to any instance anymore\n   * (this can happen after an instance has been deleted).\n   */\n  _cleanRenderers() {\n    for (let i in this.renderedInstances) {\n      if (this.renderedInstances.hasOwnProperty(i)) {\n        const renderedInstance = this.renderedInstances[i];\n        if (!renderedInstance.wasUsed) {\n          renderedInstance.instanceRemovedFromScene();\n          delete this.renderedInstances[i];\n        } else renderedInstance.wasUsed = false;\n      }\n    }\n  }\n\n  delete() {\n    this.instancesRenderer.delete();\n  }\n}\n","import * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\nexport default class SelectionRectangle {\n  constructor({\n    instances,\n    instanceMeasurer,\n    toSceneCoordinates,\n    toCanvasCoordinates,\n  }) {\n    this.instances = instances;\n    this.instanceMeasurer = instanceMeasurer;\n    this.toSceneCoordinates = toSceneCoordinates;\n\n    this.pixiRectangle = new PIXI.Graphics();\n    this.pixiRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n    this.selectionRectangleStart = null;\n    this.selectionRectangleEnd = null;\n    this._instancesInSelectionRectangle = [];\n\n    this.selector = new gd.InitialInstanceJSFunctor();\n    this.selector.invoke = instancePtr => {\n      const instance = gd.wrapPointer(instancePtr, gd.InitialInstance);\n      const x = this.instanceMeasurer.getInstanceLeft(instance);\n      const y = this.instanceMeasurer.getInstanceTop(instance);\n      const instanceHeight = this.instanceMeasurer.getInstanceHeight(instance);\n      const instanceWidth = this.instanceMeasurer.getInstanceWidth(instance);\n\n      if (!this.selectionRectangleStart || !this.selectionRectangleEnd) return;\n\n      const selectionSceneStart = toSceneCoordinates(\n        this.selectionRectangleStart.x,\n        this.selectionRectangleStart.y\n      );\n      const selectionSceneEnd = toSceneCoordinates(\n        this.selectionRectangleEnd.x,\n        this.selectionRectangleEnd.y\n      );\n\n      if (\n        selectionSceneStart[0] <= x &&\n        x + instanceWidth <= selectionSceneEnd[0] &&\n        selectionSceneStart[1] <= y &&\n        y + instanceHeight <= selectionSceneEnd[1]\n      ) {\n        this._instancesInSelectionRectangle.push(instance);\n      }\n    };\n  }\n\n  hasStartedSelectionRectangle() {\n    return this.selectionRectangleStart;\n  }\n\n  makeSelectionRectangle = (lastX, lastY) => {\n    if (!this.selectionRectangleStart)\n      this.selectionRectangleStart = { x: lastX, y: lastY };\n\n    this.selectionRectangleEnd = { x: lastX, y: lastY };\n  };\n\n  endSelectionRectangle = () => {\n    if (!this.selectionRectangleStart) return [];\n\n    this._instancesInSelectionRectangle.length = 0;\n    if (this.selectionRectangleStart.x > this.selectionRectangleEnd.x) {\n      const tmp = this.selectionRectangleStart.x;\n      this.selectionRectangleStart.x = this.selectionRectangleEnd.x;\n      this.selectionRectangleEnd.x = tmp;\n    }\n    if (this.selectionRectangleStart.y > this.selectionRectangleEnd.y) {\n      const tmp = this.selectionRectangleStart.y;\n      this.selectionRectangleStart.y = this.selectionRectangleEnd.y;\n      this.selectionRectangleEnd.y = tmp;\n    }\n\n    this.instances.iterateOverInstances(this.selector);\n\n    this.selectionRectangleStart = null;\n    return this._instancesInSelectionRectangle;\n  };\n\n  getPixiObject() {\n    return this.pixiRectangle;\n  }\n\n  render() {\n    if (!this.selectionRectangleStart) {\n      this.pixiRectangle.visible = false;\n      return;\n    }\n\n    let x1 = this.selectionRectangleStart.x;\n    let y1 = this.selectionRectangleStart.y;\n    let x2 = this.selectionRectangleEnd.x;\n    let y2 = this.selectionRectangleEnd.y;\n\n    this.pixiRectangle.visible = true;\n    this.pixiRectangle.clear();\n    this.pixiRectangle.beginFill(0x6868e8);\n    this.pixiRectangle.lineStyle(1, 0x6868e8, 1);\n    this.pixiRectangle.fillAlpha = 0.1;\n    this.pixiRectangle.alpha = 0.8;\n    this.pixiRectangle.drawRect(\n      Math.min(x1, x2),\n      Math.min(y1, y2),\n      Math.abs(x2 - x1),\n      Math.abs(y2 - y1)\n    );\n    this.pixiRectangle.endFill();\n  }\n\n  delete() {\n    this.selector.delete();\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport Background from '../../UI/Background';\nimport enumerateLayers from '../../LayersList/EnumerateLayers';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport PropertiesEditor from '../../PropertiesEditor';\nimport propertiesMapToSchema from '../../PropertiesEditor/PropertiesMapToSchema';\nimport { type Schema } from '../../PropertiesEditor';\nimport VariablesList from '../../VariablesList';\nimport getObjectByName from '../../Utils/GetObjectByName';\nimport IconButton from 'material-ui/IconButton';\nimport { Line, Column } from '../../UI/Grid';\n\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\n\ntype Props = {|\n  project: gdProject,\n  layout: gdLayout,\n  instances: Array<gdInitialInstance>,\n  onEditObjectByName: string => void,\n  editObjectVariables: (?gdObject) => void,\n  editInstanceVariables: gdInitialInstance => void,\n|};\n\nexport default class InstancePropertiesEditor extends React.Component<Props> {\n  _instanceVariablesList: { current: null | VariablesList } = React.createRef();\n  schema: Schema = [\n    {\n      name: 'Object name',\n      valueType: 'string',\n      disabled: true,\n      getValue: (instance: gdInitialInstance) => instance.getObjectName(),\n      setValue: (instance: gdInitialInstance, newValue: string) =>\n        instance.setObjectName(newValue),\n      onEditButtonClick: (instance: gdInitialInstance) =>\n        this.props.onEditObjectByName(instance.getObjectName()),\n    },\n    {\n      name: 'Position',\n      type: 'row',\n      children: [\n        {\n          name: 'X',\n          valueType: 'number',\n          getValue: (instance: gdInitialInstance) => instance.getX(),\n          setValue: (instance: gdInitialInstance, newValue: number) =>\n            instance.setX(newValue),\n        },\n        {\n          name: 'Y',\n          valueType: 'number',\n          getValue: (instance: gdInitialInstance) => instance.getY(),\n          setValue: (instance: gdInitialInstance, newValue: number) =>\n            instance.setY(newValue),\n        },\n      ],\n    },\n    {\n      name: 'Angle',\n      valueType: 'number',\n      getValue: (instance: gdInitialInstance) => instance.getAngle(),\n      setValue: (instance: gdInitialInstance, newValue: number) =>\n        instance.setAngle(newValue),\n    },\n    {\n      name: 'Lock position/angle in the editor',\n      valueType: 'boolean',\n      getValue: (instance: gdInitialInstance) => instance.isLocked(),\n      setValue: (instance: gdInitialInstance, newValue: boolean) =>\n        instance.setLocked(newValue),\n    },\n    {\n      name: 'Z Order',\n      valueType: 'number',\n      getValue: (instance: gdInitialInstance) => instance.getZOrder(),\n      setValue: (instance: gdInitialInstance, newValue: number) =>\n        instance.setZOrder(newValue),\n    },\n    {\n      name: 'Layer',\n      valueType: 'string',\n      getChoices: () => enumerateLayers(this.props.layout),\n      getValue: (instance: gdInitialInstance) => instance.getLayer(),\n      setValue: (instance: gdInitialInstance, newValue: string) =>\n        instance.setLayer(newValue),\n    },\n    {\n      name: 'Custom size',\n      type: 'row',\n      children: [\n        {\n          name: 'Width',\n          valueType: 'number',\n          getValue: (instance: gdInitialInstance) => instance.getCustomWidth(),\n          setValue: (instance: gdInitialInstance, newValue: number) =>\n            instance.setCustomWidth(newValue),\n        },\n        {\n          name: 'Height',\n          valueType: 'number',\n          getValue: (instance: gdInitialInstance) => instance.getCustomHeight(),\n          setValue: (instance: gdInitialInstance, newValue: number) =>\n            instance.setCustomHeight(newValue),\n        },\n      ],\n    },\n    {\n      name: 'Custom size?',\n      valueType: 'boolean',\n      getValue: (instance: gdInitialInstance) => instance.hasCustomSize(),\n      setValue: (instance: gdInitialInstance, newValue: boolean) =>\n        instance.setHasCustomSize(newValue),\n    },\n  ];\n\n  _renderEmpty() {\n    return (\n      <EmptyMessage>\n        <Trans>\n          Click on an instance in the scene to display its properties\n        </Trans>\n      </EmptyMessage>\n    );\n  }\n\n  _renderInstancesProperties() {\n    const { project, layout, instances } = this.props;\n    const instance = instances[0];\n    const associatedObjectName = instance.getObjectName();\n    const object = getObjectByName(project, layout, associatedObjectName);\n    //TODO: multiple instances support\n    const properties = instance.getCustomProperties(project, layout);\n    const instanceSchema = propertiesMapToSchema(\n      properties,\n      (instance: gdInitialInstance) =>\n        instance.getCustomProperties(project, layout),\n      (instance: gdInitialInstance, name, value) =>\n        instance.updateCustomProperty(name, value, project, layout)\n    );\n\n    return (\n      <div\n        style={{ overflowY: 'scroll', overflowX: 'hidden' }}\n        key={instances\n          .map((instance: gdInitialInstance) => '' + instance.ptr)\n          .join(';')}\n      >\n        <Column>\n          <PropertiesEditor\n            schema={this.schema.concat(instanceSchema)}\n            instances={instances}\n          />\n          <Line alignItems=\"center\">\n            <Trans>Instance Variables</Trans>\n            <IconButton\n              onClick={() => {\n                this.props.editInstanceVariables(instance);\n              }}\n            >\n              <OpenInNew />\n            </IconButton>\n          </Line>\n        </Column>\n        <VariablesList\n          inheritedVariablesContainer={object ? object.getVariables() : null}\n          variablesContainer={instance.getVariables()}\n          onSizeUpdated={\n            () =>\n              this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n          }\n          ref={this._instanceVariablesList}\n        />\n      </div>\n    );\n  }\n\n  render() {\n    const { instances } = this.props;\n\n    return (\n      <Background>\n        {!instances || !instances.length\n          ? this._renderEmpty()\n          : this._renderInstancesProperties()}\n      </Background>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport { AutoSizer, Table, Column } from 'react-virtualized';\nimport ThemeConsumer from '../../UI/Theme/ThemeConsumer';\nconst gd = global.gd;\n\nexport default class InstancesList extends Component {\n  shouldComponentUpdate(nextProps) {\n    // Rendering the component is costly as it iterates over\n    // every instances, so the prop freezeUpdate allows to ask the component to stop\n    // updating, for example when hidden.\n    return !nextProps.freezeUpdate;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // If the component was frozen and is now allowed to update,\n    // force the table to be refreshed to reflect changes (new instances,\n    // or selection changes).\n    if (!nextProps.freezeUpdate && this.props.freezeUpdate) {\n      if (this.table) this.table.forceUpdateGrid();\n    }\n  }\n\n  componentWillMount() {\n    this.renderedRows = [];\n\n    // Functor used to display an instance row\n    this.instanceRowRenderer = new gd.InitialInstanceJSFunctor();\n    this.instanceRowRenderer.invoke = instancePtr => {\n      const instance = gd.wrapPointer(instancePtr, gd.InitialInstance);\n\n      this.renderedRows.push({\n        instance,\n        name: instance.getObjectName(),\n        locked: instance.isLocked() ? '🔒' : '',\n        x: instance.getX().toFixed(2),\n        y: instance.getY().toFixed(2),\n        angle: instance.getAngle().toFixed(2),\n        layer: instance.getLayer(),\n        zOrder: instance.getZOrder(),\n      });\n    };\n  }\n\n  componentWillUnmount() {\n    this.instanceRowRenderer.delete();\n  }\n\n  _onRowClick = ({ index }) => {\n    if (!this.renderedRows[index]) return;\n    this.props.onSelectInstances([this.renderedRows[index].instance]);\n  };\n\n  _rowGetter = ({ index }) => {\n    return this.renderedRows[index];\n  };\n\n  _rowClassName = ({ index }) => {\n    if (index < 0) {\n      return 'tableHeaderRow';\n    } else {\n      const row = this.renderedRows[index];\n      if (row && this.props.selectedInstances.indexOf(row.instance) !== -1)\n        return 'tableSelectedRow';\n\n      return index % 2 === 0 ? 'tableEvenRow' : 'tableOddRow';\n    }\n  };\n\n  render() {\n    const { instances } = this.props;\n\n    this.renderedRows.length = 0;\n    instances.iterateOverInstances(this.instanceRowRenderer);\n\n    // Force Table component to be mounted again if instances\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const tableKey = instances.ptr;\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <AutoSizer>\n            {({ height, width }) => (\n              <Table\n                ref={table => (this.table = table)}\n                key={tableKey}\n                headerHeight={30}\n                height={height}\n                className={muiTheme.tableRootClassName}\n                headerClassName={'tableHeaderColumn'}\n                rowCount={this.renderedRows.length}\n                rowGetter={this._rowGetter}\n                rowHeight={35}\n                onRowClick={this._onRowClick}\n                rowClassName={this._rowClassName}\n                width={width}\n              >\n                <Column\n                  label={<Trans>Object name</Trans>}\n                  dataKey=\"name\"\n                  width={width * 0.35}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label=\"\"\n                  dataKey=\"locked\"\n                  width={width * 0.05}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>X</Trans>}\n                  dataKey=\"x\"\n                  width={width * 0.1}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>Y</Trans>}\n                  dataKey=\"y\"\n                  width={width * 0.1}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>Angle</Trans>}\n                  dataKey=\"angle\"\n                  width={width * 0.1}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>Layer</Trans>}\n                  dataKey=\"layer\"\n                  width={width * 0.2}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>Z Order</Trans>}\n                  dataKey=\"zOrder\"\n                  width={width * 0.1}\n                  className={'tableColumn'}\n                />\n              </Table>\n            )}\n          </AutoSizer>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport enumerateLayers from './EnumerateLayers';\n\nexport default class VariablesEditorDialog extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedLayer: '',\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (!this.props.open && newProps.open) {\n      this.setState({\n        selectedLayer: '',\n      });\n    }\n  }\n\n  render() {\n    if (!this.props.layersContainer || !this.props.open) return null;\n\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        secondary={true}\n        keyboardFocused={true}\n        onClick={() => this.props.onClose(false)}\n      />,\n      <FlatButton\n        label={<Trans>Remove objects</Trans>}\n        secondary={true}\n        onClick={() => this.props.onClose(true, null)}\n      />,\n      <FlatButton\n        label={<Trans>Move objects</Trans>}\n        primary={true}\n        onClick={() => this.props.onClose(true, this.state.selectedLayer)}\n      />,\n    ];\n\n    const layers = enumerateLayers(this.props.layersContainer);\n    const choices = layers\n      .filter(({ value }) => {\n        return value !== this.props.layerRemoved;\n      })\n      .map(({ value, label }) => (\n        <MenuItem key={value} value={value} primaryText={label} />\n      ));\n\n    return (\n      <Dialog\n        title={<Trans>Objects on {this.props.layerRemoved}</Trans>}\n        actions={actions}\n        modal={true}\n        open={this.props.open}\n        onRequestClose={this.props.onCancel}\n      >\n        <div>\n          <Trans>Move objects on layer {this.props.layerRemoved} to:</Trans>\n        </div>\n        <SelectField\n          value={this.state.selectedLayer}\n          onChange={(event, index, newValue) => {\n            this.setState({ selectedLayer: newValue });\n          }}\n        >\n          {choices}\n        </SelectField>\n      </Dialog>\n    );\n  }\n}\n","// @flow weak\nimport { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport ObjectsEditorService from './ObjectsEditorService';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\nimport BehaviorsEditor from '../BehaviorsEditor';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport { withSerializableObject } from '../Utils/SerializableObjectEditorContainer';\n\nimport { Column, Line } from '../UI/Grid';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\n\nconst styles = {\n  titleContainer: {\n    padding: 0,\n  },\n};\n\ntype StateType = {|\n  currentTab: string,\n  newObjectName: string,\n|};\n\nexport class ObjectEditorDialog extends Component<*, StateType> {\n  state = {\n    currentTab: 'properties',\n    newObjectName: this.props.objectName,\n  };\n\n  _onChangeTab = (value: string) => {\n    this.setState({\n      currentTab: value,\n    });\n  };\n\n  render() {\n    const actions = [\n      <FlatButton\n        key=\"cancel\"\n        label={<Trans>Cancel</Trans>}\n        onClick={this.props.onCancel}\n      />,\n      <FlatButton\n        key=\"apply\"\n        label={<Trans>Apply</Trans>}\n        primary\n        keyboardFocused\n        onClick={() => {\n          this.props.onApply();\n          // Do the renaming *after* applying changes, as \"withSerializableObject\"\n          // HOC will unserialize the object to apply modifications, which will\n          // override the name.\n          this.props.onRename(this.state.newObjectName);\n        }}\n      />,\n    ];\n\n    const EditorComponent = this.props.editorComponent;\n    const { currentTab } = this.state;\n\n    return (\n      <Dialog\n        key={this.props.object && this.props.object.ptr}\n        secondaryActions={<HelpButton helpPagePath={this.props.helpPagePath} />}\n        actions={actions}\n        autoScrollBodyContent\n        noMargin\n        modal\n        onRequestClose={this.props.onCancel}\n        open={this.props.open}\n        title={\n          <div>\n            <Tabs value={currentTab} onChange={this._onChangeTab}>\n              <Tab\n                label={<Trans>Properties</Trans>}\n                value={'properties'}\n                key={'properties'}\n              />\n              <Tab\n                label={<Trans>Behaviors</Trans>}\n                value={'behaviors'}\n                key={'behaviors'}\n              />\n            </Tabs>\n          </div>\n        }\n        titleStyle={styles.titleContainer}\n      >\n        <Line alignItems=\"baseline\">\n          <Column>Object Name:</Column>\n          <Column expand>\n            <SemiControlledTextField\n              fullWidth\n              commitOnBlur\n              value={this.state.newObjectName}\n              hintText={<Trans>Object Name</Trans>}\n              onChange={text => {\n                if (this.props.canRenameObject(text)) {\n                  this.setState({ newObjectName: text });\n                }\n              }}\n            />\n          </Column>\n        </Line>\n        {currentTab === 'properties' && EditorComponent && (\n          <EditorComponent\n            object={this.props.object}\n            project={this.props.project}\n            resourceSources={this.props.resourceSources}\n            onChooseResource={this.props.onChooseResource}\n            resourceExternalEditors={this.props.resourceExternalEditors}\n            onSizeUpdated={\n              () =>\n                this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n            }\n            objectName={this.props.objectName}\n          />\n        )}\n        {currentTab === 'behaviors' && (\n          <BehaviorsEditor\n            object={this.props.object}\n            project={this.props.project}\n            resourceSources={this.props.resourceSources}\n            onChooseResource={this.props.onChooseResource}\n            resourceExternalEditors={this.props.resourceExternalEditors}\n            onSizeUpdated={\n              () =>\n                this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n            }\n          />\n        )}\n      </Dialog>\n    );\n  }\n}\n\ntype ContainerStateType = {|\n  dialogComponent: ?Class<*>,\n  editorComponent: ?Class<*>,\n  castToObjectType: ?Function,\n  helpPagePath: ?string,\n  objectName: string,\n|};\n\nexport default class ObjectEditorDialogContainer extends Component<*, *> {\n  state: ContainerStateType = {\n    dialogComponent: null,\n    editorComponent: null,\n    castToObjectType: null,\n    helpPagePath: null,\n    objectName: '',\n  };\n\n  componentWillMount() {\n    this._loadFrom(this.props.object);\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.object !== newProps.object)\n    ) {\n      this._loadFrom(newProps.object);\n    }\n  }\n\n  _loadFrom(object) {\n    if (!object) return;\n\n    const editorConfiguration = ObjectsEditorService.getEditorConfiguration(\n      object.getType()\n    );\n    if (!editorConfiguration) {\n      return this.setState({\n        dialogComponent: null,\n        editorComponent: null,\n        castToObjectType: null,\n      });\n    }\n\n    this.setState({\n      dialogComponent: withSerializableObject(ObjectEditorDialog, {\n        propName: 'object',\n        newObjectCreator: () => editorConfiguration.createNewObject(object),\n        useProjectToUnserialize: true,\n      }),\n      editorComponent: editorConfiguration.component,\n      helpPagePath: editorConfiguration.helpPagePath,\n      castToObjectType: editorConfiguration.castToObjectType,\n      objectName: object.getName(),\n    });\n  }\n\n  render() {\n    if (\n      !this.props.object ||\n      !this.state.dialogComponent ||\n      !this.state.castToObjectType\n    )\n      return null;\n\n    const EditorDialog: Class<*> = this.state.dialogComponent;\n    const { editorComponent, castToObjectType, helpPagePath } = this.state;\n\n    return (\n      <EditorDialog\n        editorComponent={editorComponent}\n        key={this.props.object && this.props.object.ptr}\n        helpPagePath={helpPagePath}\n        {...this.props}\n        object={castToObjectType(this.props.object)}\n        objectName={this.state.objectName}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\nimport { Line, Column } from '../../UI/Grid';\nimport ColorPicker from '../../UI/ColorField/ColorPicker';\nimport MiniToolbar, { MiniToolbarText } from '../../UI/MiniToolbar';\nimport ResourceSelector from '../../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type EditorProps } from './EditorProps.flow';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nconst gd = global.gd;\n\nconst toolbarItemStyle = {\n  marginRight: 10,\n};\n\nconst styles = {\n  sizeTextField: {\n    width: 90,\n    ...toolbarItemStyle,\n  },\n  toolbarItem: toolbarItemStyle,\n  checkbox: {\n    width: 'auto',\n    ...toolbarItemStyle,\n  },\n};\n\nexport default class TextEditor extends React.Component<EditorProps, void> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const textObject = gd.asTextObject(object);\n\n    return (\n      <Column noMargin>\n        <MiniToolbar>\n          <MiniToolbarText>\n            <Trans>Size:</Trans>\n          </MiniToolbarText>\n          <SemiControlledTextField\n            commitOnBlur\n            type=\"number\"\n            style={styles.sizeTextField}\n            value={textObject.getCharacterSize()}\n            onChange={value => {\n              textObject.setCharacterSize(parseInt(value, 10) || 0);\n              this.forceUpdate();\n            }}\n          />\n          <MiniToolbarText>\n            <Trans>Color:</Trans>\n          </MiniToolbarText>\n          <ColorPicker\n            style={styles.sizeTextField}\n            disableAlpha\n            color={{\n              r: textObject.getColorR(),\n              g: textObject.getColorG(),\n              b: textObject.getColorB(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              textObject.setColor(color.rgb.r, color.rgb.g, color.rgb.b);\n              this.forceUpdate();\n            }}\n          />\n          <Checkbox\n            label={<Trans>Bold</Trans>}\n            checked={textObject.isBold()}\n            onCheck={(e, checked) => {\n              textObject.setBold(checked);\n              this.forceUpdate();\n            }}\n            style={styles.checkbox}\n          />\n          <Checkbox\n            label={<Trans>Italic</Trans>}\n            checked={textObject.isItalic()}\n            onCheck={(e, checked) => {\n              textObject.setItalic(checked);\n              this.forceUpdate();\n            }}\n            style={styles.checkbox}\n          />\n          <ResourceSelector\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n            resourcesLoader={ResourcesLoader}\n            resourceKind=\"font\"\n            fullWidth\n            initialResourceName={textObject.getFontName()}\n            onChange={resourceName => {\n              textObject.setFontName(resourceName);\n              this.forceUpdate();\n            }}\n            hintText={<Trans>Choose a font</Trans>}\n          />\n        </MiniToolbar>\n        <Line noMargin>\n          <Column expand>\n            <Line>\n              <SemiControlledTextField\n                commitOnBlur\n                hintText={\n                  <Trans>Enter the text to be displayed by the object</Trans>\n                }\n                fullWidth\n                multiLine\n                rows={8}\n                rowsMax={8}\n                value={textObject.getString()}\n                onChange={value => {\n                  textObject.setString(value);\n                  this.forceUpdate();\n                  this.props.onSizeUpdated();\n                }}\n              />\n            </Line>\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport { Line, Column } from '../../UI/Grid';\nimport ResourceSelectorWithThumbnail from '../../ResourcesList/ResourceSelectorWithThumbnail';\nimport { type EditorProps } from './EditorProps.flow';\nconst gd = global.gd;\n\nexport default class TiledSpriteEditor extends React.Component<\n  EditorProps,\n  void\n> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const tiledSpriteObject = gd.asTiledSpriteObject(object);\n\n    return (\n      <Column>\n        <Line>\n          <ResourceSelectorWithThumbnail\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceKind=\"image\"\n            resourceName={tiledSpriteObject.getTexture()}\n            resourceExternalEditors={resourceExternalEditors}\n            onChange={resourceName => {\n              tiledSpriteObject.setTexture(resourceName);\n              this.forceUpdate();\n            }}\n            floatingLabelText={<Trans>Select an image</Trans>}\n          />\n        </Line>\n        <Line>\n          <SemiControlledTextField\n            commitOnBlur\n            floatingLabelText={<Trans>Default width (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={tiledSpriteObject.getWidth()}\n            onChange={value => {\n              tiledSpriteObject.setWidth(parseInt(value, 10) || 0);\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            commitOnBlur\n            floatingLabelText={<Trans>Default height (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={tiledSpriteObject.getHeight()}\n            onChange={value => {\n              tiledSpriteObject.setHeight(parseInt(value, 10) || 0);\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\nimport { Line, Column } from '../../UI/Grid';\nimport ResourceSelectorWithThumbnail from '../../ResourcesList/ResourceSelectorWithThumbnail';\nimport { type EditorProps } from './EditorProps.flow';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nconst gd = global.gd;\n\nexport default class PanelSpriteEditor extends React.Component<\n  EditorProps,\n  void\n> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const panelSpriteObject = gd.asPanelSpriteObject(object);\n\n    return (\n      <Column>\n        <Line>\n          <ResourceSelectorWithThumbnail\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n            resourceKind=\"image\"\n            resourceName={panelSpriteObject.getTexture()}\n            onChange={resourceName => {\n              panelSpriteObject.setTexture(resourceName);\n              this.forceUpdate();\n            }}\n            floatingLabelText={<Trans>Select an image</Trans>}\n          />\n        </Line>\n        <Line>\n          <Checkbox\n            label={\n              <Trans>\n                Repeat borders and center textures (instead of stretching them)\n              </Trans>\n            }\n            checked={panelSpriteObject.isTiled()}\n            onCheck={(e, checked) => {\n              panelSpriteObject.setTiled(checked);\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <SemiControlledTextField\n            commitOnBlur\n            floatingLabelText={<Trans>Top margin</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getTopMargin()}\n            onChange={value => {\n              panelSpriteObject.setTopMargin(parseInt(value, 10) || 0);\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            commitOnBlur\n            floatingLabelText={<Trans>Bottom margin</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getBottomMargin()}\n            onChange={value => {\n              panelSpriteObject.setBottomMargin(parseInt(value, 10) || 0);\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <SemiControlledTextField\n            commitOnBlur\n            floatingLabelText={<Trans>Left margin</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getLeftMargin()}\n            onChange={value => {\n              panelSpriteObject.setLeftMargin(parseInt(value, 10) || 0);\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            commitOnBlur\n            floatingLabelText={<Trans>Right margin</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getRightMargin()}\n            onChange={value => {\n              panelSpriteObject.setRightMargin(parseInt(value, 10) || 0);\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <SemiControlledTextField\n            commitOnBlur\n            floatingLabelText={<Trans>Default width (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getWidth()}\n            onChange={value => {\n              panelSpriteObject.setWidth(parseInt(value, 10) || 0);\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            commitOnBlur\n            floatingLabelText={<Trans>Default height (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getHeight()}\n            onChange={value => {\n              panelSpriteObject.setHeight(parseInt(value, 10) || 0);\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { GridList, GridTile } from 'material-ui/GridList';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport SpritesList from './SpritesList';\nimport Add from 'material-ui/svg-icons/content/add';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport IconButton from 'material-ui/IconButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { mapFor } from '../../../Utils/MapFor';\nimport SemiControlledTextField from '../../../UI/SemiControlledTextField';\nimport Dialog from '../../../UI/Dialog';\nimport HelpButton from '../../../UI/HelpButton';\nimport EmptyMessage from '../../../UI/EmptyMessage';\nimport MiniToolbar from '../../../UI/MiniToolbar';\nimport DragHandle from '../../../UI/DragHandle';\nimport ContextMenu from '../../../UI/Menu/ContextMenu';\nimport { showWarningBox } from '../../../UI/Messages/MessageBox';\nimport ResourcesLoader from '../../../ResourcesLoader';\nimport PointsEditor from './PointsEditor';\nimport CollisionMasksEditor from './CollisionMasksEditor';\nimport {\n  deleteSpritesFromAnimation,\n  duplicateSpritesInAnimation,\n} from './Utils/SpriteObjectHelper';\nimport { type EditorProps } from '../EditorProps.flow';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../../ResourcesList/ResourceExternalEditor.flow';\n\nconst gd = global.gd;\n\nconst styles = {\n  gridList: {\n    overflowY: 'auto',\n  },\n  animationTitle: {\n    flex: 1,\n  },\n  animationTools: {\n    flexShrink: 0,\n  },\n  lastLine: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  addAnimation: {\n    display: 'flex',\n  },\n  addAnimationText: {\n    justifyContent: 'flex-end',\n  },\n};\n\nconst AddAnimationLine = ({ onAdd, extraTools }) => (\n  <div style={styles.lastLine}>\n    {extraTools}\n    <div style={styles.addAnimation}>\n      <EmptyMessage style={styles.addAnimationText}>\n        Click to add an animation:\n      </EmptyMessage>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </div>\n  </div>\n);\n\ntype AnimationProps = {|\n  animation: gdAnimation,\n  id: number,\n  project: gdProject,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  onRemove: () => void,\n  resourcesLoader: typeof ResourcesLoader,\n  onSpriteContextMenu: (x: number, y: number, sprite: gdSprite) => void,\n  selectedSprites: {\n    [number]: boolean,\n  },\n  onSelectSprite: (sprite: gdSprite, selected: boolean) => void,\n  onReplaceDirection: (\n    directionIndex: number,\n    newDirection: gdDirection\n  ) => void,\n  objectName: string,\n  onChangeName: string => void,\n|};\n\nclass Animation extends React.Component<AnimationProps, void> {\n  render() {\n    const {\n      animation,\n      id,\n      project,\n      resourceSources,\n      onRemove,\n      onChooseResource,\n      resourceExternalEditors,\n      resourcesLoader,\n      onSpriteContextMenu,\n      selectedSprites,\n      onSelectSprite,\n      onReplaceDirection,\n      objectName,\n      onChangeName,\n    } = this.props;\n\n    const animationName = animation.getName();\n    return (\n      <GridTile>\n        <MiniToolbar smallest>\n          <DragHandle />\n          <span style={styles.animationTitle}>\n            Animation #{id}{' '}\n            <SemiControlledTextField\n              commitOnBlur\n              value={animation.getName()}\n              hintText={<Trans>Optional animation name</Trans>}\n              onChange={text => onChangeName(text)}\n            />\n          </span>\n          <span style={styles.animationTools}>\n            <IconButton onClick={onRemove}>\n              <Delete />\n            </IconButton>\n          </span>\n        </MiniToolbar>\n        {mapFor(0, animation.getDirectionsCount(), i => {\n          const direction = animation.getDirection(i);\n          return (\n            <SpritesList\n              direction={direction}\n              key={i}\n              project={project}\n              resourcesLoader={resourcesLoader}\n              resourceSources={resourceSources}\n              onChooseResource={onChooseResource}\n              resourceExternalEditors={resourceExternalEditors}\n              onSpriteContextMenu={onSpriteContextMenu}\n              selectedSprites={selectedSprites}\n              onSelectSprite={onSelectSprite}\n              onReplaceByDirection={newDirection =>\n                onReplaceDirection(i, newDirection)\n              }\n              objectName={objectName}\n              animationName={animationName}\n              onChangeName={onChangeName}\n            />\n          );\n        })}\n      </GridTile>\n    );\n  }\n}\n\nconst SortableAnimation = SortableElement(Animation);\n\nconst SortableAnimationsList = SortableContainer(\n  ({\n    spriteObject,\n    objectName,\n    onAddAnimation,\n    onRemoveAnimation,\n    onChangeAnimationName,\n    project,\n    resourcesLoader,\n    resourceSources,\n    onChooseResource,\n    resourceExternalEditors,\n    extraBottomTools,\n    onSpriteContextMenu,\n    selectedSprites,\n    onSelectSprite,\n    onReplaceDirection,\n  }) => {\n    return (\n      <GridList style={styles.gridList} cellHeight=\"auto\" cols={1}>\n        {[\n          ...mapFor(0, spriteObject.getAnimationsCount(), i => {\n            const animation = spriteObject.getAnimation(i);\n            return (\n              <SortableAnimation\n                key={i}\n                index={i}\n                id={i}\n                animation={animation}\n                project={project}\n                resourcesLoader={resourcesLoader}\n                resourceSources={resourceSources}\n                onChooseResource={onChooseResource}\n                resourceExternalEditors={resourceExternalEditors}\n                onRemove={() => onRemoveAnimation(i)}\n                onChangeName={newName => onChangeAnimationName(i, newName)}\n                onSpriteContextMenu={onSpriteContextMenu}\n                selectedSprites={selectedSprites}\n                onSelectSprite={onSelectSprite}\n                onReplaceDirection={(directionId, newDirection) =>\n                  onReplaceDirection(i, directionId, newDirection)\n                }\n                objectName={objectName}\n              />\n            );\n          }),\n          <AddAnimationLine\n            onAdd={onAddAnimation}\n            key=\"add-animation-line\"\n            disabled\n            index={spriteObject.getAnimationsCount()}\n            extraTools={extraBottomTools}\n          />,\n        ]}\n      </GridList>\n    );\n  }\n);\n\ntype AnimationsListContainerProps = {|\n  spriteObject: gdSpriteObject,\n  project: gdProject,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  resourcesLoader: typeof ResourcesLoader,\n  extraBottomTools: React.Node,\n  onSizeUpdated: () => void,\n  objectName: string,\n|};\n\ntype AnimationsListContainerState = {|\n  selectedSprites: {\n    [number]: boolean,\n  },\n|};\n\nclass AnimationsListContainer extends React.Component<\n  AnimationsListContainerProps,\n  AnimationsListContainerState\n> {\n  state = {\n    selectedSprites: {},\n  };\n  spriteContextMenu: ?ContextMenu;\n\n  onSortEnd = ({ oldIndex, newIndex }) => {\n    this.props.spriteObject.moveAnimation(oldIndex, newIndex);\n    this.forceUpdate();\n  };\n\n  addAnimation = () => {\n    const emptyAnimation = new gd.Animation();\n    emptyAnimation.setDirectionsCount(1);\n    this.props.spriteObject.addAnimation(emptyAnimation);\n    this.forceUpdate();\n    this.props.onSizeUpdated();\n  };\n\n  removeAnimation = i => {\n    //eslint-disable-next-line\n    const answer = confirm('Are you sure you want to remove this animation?');\n\n    if (answer) {\n      this.props.spriteObject.removeAnimation(i);\n      this.forceUpdate();\n      this.props.onSizeUpdated();\n    }\n  };\n\n  changeAnimationName = (i, newName) => {\n    const { spriteObject } = this.props;\n\n    const otherNames = mapFor(0, spriteObject.getAnimationsCount(), index => {\n      return index === i\n        ? undefined // Don't check the current animation name as we're changing it.\n        : spriteObject.getAnimation(index).getName();\n    });\n\n    if (newName !== '' && otherNames.filter(name => name === newName).length) {\n      showWarningBox(\n        'Another animation with this name already exists. Please use another name.'\n      );\n      return;\n    }\n\n    spriteObject.getAnimation(i).setName(newName);\n    this.forceUpdate();\n  };\n\n  deleteSelection = () => {\n    const { spriteObject } = this.props;\n\n    mapFor(0, spriteObject.getAnimationsCount(), index => {\n      const animation = spriteObject.getAnimation(index);\n      deleteSpritesFromAnimation(animation, this.state.selectedSprites);\n    });\n\n    this.setState({\n      selectedSprites: {},\n    });\n  };\n\n  duplicateSelection = () => {\n    const { spriteObject } = this.props;\n\n    mapFor(0, spriteObject.getAnimationsCount(), index => {\n      const animation = spriteObject.getAnimation(index);\n      duplicateSpritesInAnimation(animation, this.state.selectedSprites);\n    });\n\n    this.setState({\n      selectedSprites: {},\n    });\n  };\n\n  openSpriteContextMenu = (x, y, sprite, index) => {\n    this.selectSprite(sprite, true);\n    if (this.spriteContextMenu) this.spriteContextMenu.open(x, y);\n  };\n\n  selectSprite = (sprite, selected) => {\n    this.setState({\n      selectedSprites: {\n        ...this.state.selectedSprites,\n        [sprite.ptr]: selected,\n      },\n    });\n  };\n\n  replaceDirection = (animationId, directionId, newDirection) => {\n    this.props.spriteObject\n      .getAnimation(animationId)\n      .setDirection(newDirection, directionId);\n    this.forceUpdate();\n  };\n\n  render() {\n    return (\n      <div>\n        <SortableAnimationsList\n          spriteObject={this.props.spriteObject}\n          objectName={this.props.objectName}\n          helperClass=\"sortable-helper\"\n          project={this.props.project}\n          onSortEnd={this.onSortEnd}\n          onAddAnimation={this.addAnimation}\n          onChangeAnimationName={this.changeAnimationName}\n          onRemoveAnimation={this.removeAnimation}\n          onReplaceDirection={this.replaceDirection}\n          onSpriteContextMenu={this.openSpriteContextMenu}\n          selectedSprites={this.state.selectedSprites}\n          onSelectSprite={this.selectSprite}\n          resourcesLoader={this.props.resourcesLoader}\n          resourceSources={this.props.resourceSources}\n          resourceExternalEditors={this.props.resourceExternalEditors}\n          onChooseResource={this.props.onChooseResource}\n          extraBottomTools={this.props.extraBottomTools}\n          useDragHandle\n          lockAxis=\"y\"\n          axis=\"y\"\n        />\n        <ContextMenu\n          ref={spriteContextMenu =>\n            (this.spriteContextMenu = spriteContextMenu)\n          }\n          buildMenuTemplate={() => [\n            {\n              label: 'Delete selection',\n              click: () => this.deleteSelection(),\n            },\n            {\n              label: 'Duplicate selection',\n              click: () => this.duplicateSelection(),\n            },\n          ]}\n        />\n      </div>\n    );\n  }\n}\n\ntype State = {|\n  pointsEditorOpen: boolean,\n  collisionMasksEditorOpen: boolean,\n|};\n\nexport default class SpriteEditor extends React.Component<EditorProps, State> {\n  state = {\n    pointsEditorOpen: false,\n    collisionMasksEditorOpen: false,\n  };\n\n  resourcesLoader: typeof ResourcesLoader;\n\n  constructor(props: EditorProps) {\n    super(props);\n\n    this.resourcesLoader = ResourcesLoader;\n  }\n\n  openPointsEditor = (open: boolean = true) => {\n    this.setState({\n      pointsEditorOpen: open,\n    });\n  };\n\n  openCollisionMasksEditor = (open: boolean = true) => {\n    this.setState({\n      collisionMasksEditorOpen: open,\n    });\n  };\n\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n      onSizeUpdated,\n      objectName,\n    } = this.props;\n    const spriteObject = gd.asSpriteObject(object);\n\n    return (\n      <div>\n        <AnimationsListContainer\n          spriteObject={spriteObject}\n          resourcesLoader={this.resourcesLoader}\n          resourceSources={resourceSources}\n          onChooseResource={onChooseResource}\n          resourceExternalEditors={resourceExternalEditors}\n          project={project}\n          objectName={objectName}\n          onSizeUpdated={onSizeUpdated}\n          extraBottomTools={\n            <div>\n              <RaisedButton\n                label={<Trans>Edit hitboxes</Trans>}\n                primary={false}\n                onClick={() => this.openCollisionMasksEditor(true)}\n                disabled={spriteObject.getAnimationsCount() === 0}\n              />\n              <RaisedButton\n                label={<Trans>Edit points</Trans>}\n                primary={false}\n                onClick={() => this.openPointsEditor(true)}\n                disabled={spriteObject.getAnimationsCount() === 0}\n              />\n            </div>\n          }\n        />\n        {this.state.pointsEditorOpen && (\n          <Dialog\n            actions={\n              <FlatButton\n                label={<Trans>Close</Trans>}\n                primary\n                onClick={() => this.openPointsEditor(false)}\n              />\n            }\n            secondaryActions={[\n              <HelpButton\n                helpPagePath=\"/objects/sprite/edit-points\"\n                key=\"help\"\n              />,\n            ]}\n            autoScrollBodyContent\n            noMargin\n            modal\n            onRequestClose={() => this.openPointsEditor(false)}\n            open={this.state.pointsEditorOpen}\n          >\n            <PointsEditor\n              object={spriteObject}\n              resourcesLoader={this.resourcesLoader}\n              project={project}\n              onPointsUpdated={\n                () =>\n                  this.forceUpdate() /*Force update to ensure dialog is properly positioned*/\n              }\n            />\n          </Dialog>\n        )}\n        {this.state.collisionMasksEditorOpen && (\n          <Dialog\n            actions={\n              <FlatButton\n                label={<Trans>Close</Trans>}\n                primary\n                onClick={() => this.openCollisionMasksEditor(false)}\n              />\n            }\n            secondaryActions={[\n              <HelpButton\n                helpPagePath=\"/objects/sprite/collision-mask\"\n                key=\"help\"\n              />,\n            ]}\n            autoScrollBodyContent\n            noMargin\n            modal\n            onRequestClose={() => this.openCollisionMasksEditor(false)}\n            open={this.state.collisionMasksEditorOpen}\n          >\n            <CollisionMasksEditor\n              object={spriteObject}\n              resourcesLoader={this.resourcesLoader}\n              project={project}\n              onCollisionMasksUpdated={\n                () =>\n                  this.forceUpdate() /*Force update to ensure dialog is properly positioned*/\n              }\n            />\n          </Dialog>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\r\nimport React, { Component } from 'react';\r\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\r\nimport { mapFor } from '../../../Utils/MapFor';\r\nimport Add from 'material-ui/svg-icons/content/add';\r\nimport IconButton from 'material-ui/IconButton';\r\nimport DirectionTools from './DirectionTools';\r\nimport MiniToolbar from '../../../UI/MiniToolbar';\r\nimport ImageThumbnail, {\r\n  thumbnailContainerStyle,\r\n} from '../../../ResourcesList/ResourceThumbnail/ImageThumbnail';\r\nimport {\r\n  copySpritePoints,\r\n  copySpritePolygons,\r\n  allDirectionSpritesHaveSamePointsAs,\r\n  allDirectionSpritesHaveSameCollisionMasksAs,\r\n} from './Utils/SpriteObjectHelper';\r\nimport ResourcesLoader from '../../../ResourcesLoader';\r\nimport {\r\n  type ResourceSource,\r\n  type ChooseResourceFunction,\r\n} from '../../../ResourcesList/ResourceSource.flow';\r\nimport { type ResourceExternalEditor } from '../../../ResourcesList/ResourceExternalEditor.flow';\r\nimport { applyResourceDefaults } from '../../../ResourcesList/ResourceUtils';\r\nconst gd = global.gd;\r\nconst path = require('path');\r\n\r\nconst SPRITE_SIZE = 100; //TODO: Factor with Thumbnail\r\n\r\nconst styles = {\r\n  spritesList: {\r\n    whiteSpace: 'nowrap',\r\n    overflowY: 'hidden',\r\n  },\r\n  thumbnailExtraStyle: {\r\n    marginRight: 10,\r\n  },\r\n  addSpriteButton: {\r\n    ...thumbnailContainerStyle,\r\n    background: '#FFF',\r\n  },\r\n  spriteThumbnailImage: {\r\n    maxWidth: SPRITE_SIZE,\r\n    maxHeight: SPRITE_SIZE,\r\n    verticalAlign: 'middle',\r\n  },\r\n};\r\n\r\nconst AddSpriteButton = SortableElement(({ displayHint, onAdd }) => {\r\n  return (\r\n    <div style={styles.addSpriteButton}>\r\n      <IconButton onClick={onAdd} style={styles.spriteThumbnailImage}>\r\n        <Add />\r\n      </IconButton>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst SortableSpriteThumbnail = SortableElement(\r\n  ({ sprite, project, resourcesLoader, selected, onSelect, onContextMenu }) => {\r\n    return (\r\n      <ImageThumbnail\r\n        selectable\r\n        selected={selected}\r\n        onSelect={onSelect}\r\n        onContextMenu={onContextMenu}\r\n        resourceName={sprite.getImageName()}\r\n        resourcesLoader={resourcesLoader}\r\n        project={project}\r\n        style={styles.thumbnailExtraStyle}\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\nconst SortableList = SortableContainer(\r\n  ({\r\n    direction,\r\n    project,\r\n    resourcesLoader,\r\n    onAddSprite,\r\n    selectedSprites,\r\n    onSelectSprite,\r\n    onSpriteContextMenu,\r\n  }) => {\r\n    const spritesCount = direction.getSpritesCount();\r\n    return (\r\n      <div style={styles.spritesList}>\r\n        {[\r\n          ...mapFor(0, spritesCount, i => {\r\n            const sprite = direction.getSprite(i);\r\n            return (\r\n              <SortableSpriteThumbnail\r\n                sprite={sprite}\r\n                key={sprite.ptr}\r\n                index={i}\r\n                selected={!!selectedSprites[sprite.ptr]}\r\n                onContextMenu={(x, y) => onSpriteContextMenu(x, y, sprite)}\r\n                onSelect={selected => onSelectSprite(sprite, selected)}\r\n                resourcesLoader={resourcesLoader}\r\n                project={project}\r\n              />\r\n            );\r\n          }),\r\n          <AddSpriteButton\r\n            displayHint={!direction.getSpritesCount()}\r\n            key=\"add-sprite-button\"\r\n            disabled\r\n            index={spritesCount}\r\n            onAdd={onAddSprite}\r\n          />,\r\n        ]}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n/**\r\n * Check if all sprites of the given direction have the same points and collision masks\r\n */\r\nconst checkDirectionPointsAndCollisionsMasks = (direction: gdDirection) => {\r\n  let allDirectionSpritesHaveSamePoints = false;\r\n  let allDirectionSpritesHaveSameCollisionMasks = false;\r\n  if (direction.getSpritesCount() !== 0) {\r\n    allDirectionSpritesHaveSamePoints = allDirectionSpritesHaveSamePointsAs(\r\n      direction.getSprite(0),\r\n      direction\r\n    );\r\n    allDirectionSpritesHaveSameCollisionMasks = allDirectionSpritesHaveSameCollisionMasksAs(\r\n      direction.getSprite(0),\r\n      direction\r\n    );\r\n  }\r\n\r\n  return {\r\n    allDirectionSpritesHaveSamePoints,\r\n    allDirectionSpritesHaveSameCollisionMasks,\r\n  };\r\n};\r\n\r\ntype Props = {|\r\n  direction: gdDirection,\r\n  project: gdProject,\r\n  resourcesLoader: typeof ResourcesLoader,\r\n  resourceSources: Array<ResourceSource>,\r\n  resourceExternalEditors: Array<ResourceExternalEditor>,\r\n  onChooseResource: ChooseResourceFunction,\r\n  onSpriteContextMenu: (x: number, y: number, sprite: gdSprite) => void,\r\n  selectedSprites: {\r\n    [number]: boolean,\r\n  },\r\n  onSelectSprite: (sprite: gdSprite, selected: boolean) => void,\r\n  onReplaceByDirection: (newDirection: gdDirection) => void,\r\n  onChangeName: (newAnimationName: string) => void, // Used by piskel to set the name, if there is no name\r\n  objectName: string, // This is used for the default name of images created with Piskel.\r\n  animationName: string, // This is used for the default name of images created with Piskel.\r\n|};\r\n\r\nexport default class SpritesList extends Component<Props, void> {\r\n  onSortEnd = ({\r\n    oldIndex,\r\n    newIndex,\r\n  }: {\r\n    oldIndex: number,\r\n    newIndex: number,\r\n  }) => {\r\n    this.props.direction.moveSprite(oldIndex, newIndex);\r\n    this.forceUpdate();\r\n  };\r\n\r\n  onAddSprite = () => {\r\n    const {\r\n      resourceSources,\r\n      onChooseResource,\r\n      project,\r\n      direction,\r\n    } = this.props;\r\n    if (!resourceSources) return;\r\n    const sources = resourceSources.filter(source => source.kind === 'image');\r\n    if (!sources.length) return;\r\n\r\n    const {\r\n      allDirectionSpritesHaveSameCollisionMasks,\r\n      allDirectionSpritesHaveSamePoints,\r\n    } = checkDirectionPointsAndCollisionsMasks(direction);\r\n\r\n    onChooseResource(sources[0].name).then(resources => {\r\n      resources.forEach(resource => {\r\n        applyResourceDefaults(project, resource);\r\n        project.getResourcesManager().addResource(resource);\r\n\r\n        const sprite = new gd.Sprite();\r\n        sprite.setImageName(resource.getName());\r\n        if (allDirectionSpritesHaveSamePoints) {\r\n          copySpritePoints(direction.getSprite(0), sprite);\r\n        }\r\n        if (allDirectionSpritesHaveSameCollisionMasks) {\r\n          copySpritePolygons(direction.getSprite(0), sprite);\r\n        }\r\n        direction.addSprite(sprite);\r\n      });\r\n\r\n      // Important, we are responsible for deleting the resources that were given to us.\r\n      // Otherwise we have a memory leak, as calling addResource is making a copy of the resource.\r\n      resources.forEach(resource => resource.delete());\r\n\r\n      this.forceUpdate();\r\n    });\r\n  };\r\n\r\n  editWith = (externalEditor: ResourceExternalEditor) => {\r\n    const {\r\n      project,\r\n      direction,\r\n      resourcesLoader,\r\n      onReplaceByDirection,\r\n      onChangeName,\r\n      objectName,\r\n      animationName,\r\n    } = this.props;\r\n    const resourceNames = mapFor(0, direction.getSpritesCount(), i => {\r\n      return direction.getSprite(i).getImageName();\r\n    });\r\n\r\n    const {\r\n      allDirectionSpritesHaveSameCollisionMasks,\r\n      allDirectionSpritesHaveSamePoints,\r\n    } = checkDirectionPointsAndCollisionsMasks(direction);\r\n\r\n    let externalEditorData = {};\r\n    const metadataRaw = direction.getMetadata();\r\n    if (metadataRaw) {\r\n      try {\r\n        externalEditorData = JSON.parse(metadataRaw);\r\n      } catch (e) {\r\n        console.error('Malformed metadata', e);\r\n      }\r\n    }\r\n\r\n    externalEditor.edit({\r\n      project,\r\n      resourcesLoader,\r\n      singleFrame: false,\r\n      resourceNames,\r\n      extraOptions: {\r\n        fps:\r\n          direction.getTimeBetweenFrames() > 0\r\n            ? 1 / direction.getTimeBetweenFrames()\r\n            : 1,\r\n        name:\r\n          animationName ||\r\n          (resourceNames.length > 0\r\n            ? path.basename(resourceNames[0], path.extname(resourceNames[0]))\r\n            : objectName),\r\n        isLooping: direction.isLooping(),\r\n        externalEditorData,\r\n      },\r\n      onChangesSaved: (resources, newAnimationName, metadata) => {\r\n        const newDirection = new gd.Direction();\r\n        newDirection.setTimeBetweenFrames(direction.getTimeBetweenFrames());\r\n        newDirection.setLoop(direction.isLooping());\r\n        resources.forEach(resource => {\r\n          const sprite = new gd.Sprite();\r\n          sprite.setImageName(resource.name);\r\n          // Restore collision masks and points\r\n          if (resource.originalIndex !== undefined) {\r\n            const originalSprite = direction.getSprite(resource.originalIndex);\r\n            copySpritePoints(originalSprite, sprite);\r\n            copySpritePolygons(originalSprite, sprite);\r\n          } else {\r\n            if (allDirectionSpritesHaveSamePoints) {\r\n              copySpritePoints(direction.getSprite(0), sprite);\r\n            }\r\n            if (allDirectionSpritesHaveSameCollisionMasks) {\r\n              copySpritePolygons(direction.getSprite(0), sprite);\r\n            }\r\n          }\r\n          newDirection.addSprite(sprite);\r\n          sprite.delete();\r\n        });\r\n\r\n        // set metadata if there is such on the direction\r\n        if (metadata) {\r\n          newDirection.setMetadata(JSON.stringify(metadata));\r\n        }\r\n\r\n        // Burst the ResourcesLoader cache to force images to be reloaded (and not cached by the browser).\r\n        resourcesLoader.burstUrlsCacheForResources(project, resourceNames);\r\n        onReplaceByDirection(newDirection);\r\n        // Set optional animation name if the user hasn't done so\r\n        if (animationName.length === 0) {\r\n          onChangeName(newAnimationName);\r\n        }\r\n        newDirection.delete();\r\n      },\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <MiniToolbar justifyContent=\"flex-end\" smallest>\r\n          <DirectionTools\r\n            direction={this.props.direction}\r\n            resourcesLoader={this.props.resourcesLoader}\r\n            project={this.props.project}\r\n            resourceExternalEditors={this.props.resourceExternalEditors}\r\n            onEditWith={this.editWith}\r\n          />\r\n        </MiniToolbar>\r\n        <SortableList\r\n          resourcesLoader={this.props.resourcesLoader}\r\n          direction={this.props.direction}\r\n          project={this.props.project}\r\n          onSortEnd={this.onSortEnd}\r\n          onAddSprite={this.onAddSprite}\r\n          selectedSprites={this.props.selectedSprites}\r\n          onSelectSprite={this.props.onSelectSprite}\r\n          onSpriteContextMenu={this.props.onSpriteContextMenu}\r\n          helperClass=\"sortable-helper\"\r\n          lockAxis=\"x\"\r\n          axis=\"x\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport EmptyMessage from '../../../../UI/EmptyMessage';\nimport { Line, Column } from '../../../../UI/Grid';\nimport { mapFor } from '../../../../Utils/MapFor';\nimport PointsList from './PointsList';\nimport PointsPreview from './PointsPreview';\nimport ImagePreview from '../../../../ResourcesList/ResourcePreview/ImagePreview';\nimport {\n  getCurrentElements,\n  allSpritesHaveSamePointsAs,\n  copyAnimationsSpritePoints,\n} from '../Utils/SpriteObjectHelper';\nimport SpriteSelector from '../Utils/SpriteSelector';\nimport every from 'lodash/every';\nconst gd = global.gd;\n\nexport default class PointsEditor extends Component {\n  state = {\n    animationIndex: 0,\n    directionIndex: 0,\n    spriteIndex: 0,\n    samePointsForAnimations: true,\n    samePointsForSprites: true,\n  };\n\n  componentDidMount() {\n    this._updateSamePointsToggles();\n  }\n\n  _updatePoints = () => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { animation, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    if (animation && sprite) {\n      if (this.state.samePointsForAnimations) {\n        mapFor(0, spriteObject.getAnimationsCount(), i => {\n          const otherAnimation = spriteObject.getAnimation(i);\n          copyAnimationsSpritePoints(sprite, otherAnimation);\n        });\n      } else if (this.state.samePointsForSprites) {\n        copyAnimationsSpritePoints(sprite, animation);\n      }\n    }\n\n    this.forceUpdate(); // Refresh the preview\n    if (this.props.onPointsUpdated) this.props.onPointsUpdated();\n  };\n\n  chooseAnimation = index => {\n    this.setState(\n      {\n        animationIndex: index,\n        directionIndex: 0,\n        spriteIndex: 0,\n      },\n      () => this._updateSamePointsToggles()\n    );\n  };\n\n  chooseDirection = index => {\n    this.setState({\n      directionIndex: index,\n      spriteIndex: 0,\n    });\n  };\n\n  chooseSprite = index => {\n    this.setState({\n      spriteIndex: index,\n    });\n  };\n\n  _updateSamePointsToggles = () => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { animation, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n    if (!animation || !sprite) return;\n\n    this.setState({\n      samePointsForAnimations: every(\n        mapFor(0, spriteObject.getAnimationsCount(), i => {\n          const otherAnimation = spriteObject.getAnimation(i);\n          return allSpritesHaveSamePointsAs(sprite, otherAnimation);\n        })\n      ),\n      samePointsForSprites: allSpritesHaveSamePointsAs(sprite, animation),\n    });\n  };\n\n  _setSamePointsForAllAnimations = enable => {\n    if (enable) {\n      // eslint-disable-next-line\n      const answer = confirm(\n        \"Having the same points for all animations will erase and reset all the other animations points. This can't be undone. Are you sure you want to share these points amongst all the animations of the object?\"\n      );\n      if (!answer) return;\n    }\n\n    this.setState(\n      {\n        samePointsForAnimations: enable,\n        samePointsForSprites: enable ? true : this.state.samePointsForSprites,\n      },\n      () => {\n        this._updatePoints();\n      }\n    );\n  };\n\n  _setSamePointsForAllSprites = enable => {\n    if (enable) {\n      // eslint-disable-next-line\n      const answer = confirm(\n        \"Having the same points for all frames will erase and reset all the other frames points. This can't be undone. Are you sure you want to share these points amongst all the frames of the animation?\"\n      );\n      if (!answer) return;\n    }\n\n    this.setState(\n      {\n        samePointsForAnimations: enable\n          ? this.state.samePointsForAnimations\n          : false,\n        samePointsForSprites: enable,\n      },\n      () => {\n        this._updatePoints();\n      }\n    );\n  };\n\n  render() {\n    const { object, resourcesLoader, project } = this.props;\n    const {\n      samePointsForAnimations,\n      samePointsForSprites,\n      animationIndex,\n      directionIndex,\n      spriteIndex,\n    } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    if (!object.getAnimationsCount()) return null;\n    const { hasValidSprite, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    return (\n      <div>\n        <ImagePreview\n          resourceName={hasValidSprite ? sprite.getImageName() : ''}\n          resourcesLoader={resourcesLoader}\n          project={project}\n          renderOverlay={({ imageWidth, imageHeight, imageZoomFactor }) =>\n            hasValidSprite && (\n              <PointsPreview\n                imageWidth={imageWidth}\n                imageHeight={imageHeight}\n                imageZoomFactor={imageZoomFactor}\n                pointsContainer={sprite}\n                onPointsUpdated={this._updatePoints}\n              />\n            )\n          }\n        />\n        <Line>\n          <Column expand>\n            <SpriteSelector\n              spriteObject={spriteObject}\n              animationIndex={animationIndex}\n              directionIndex={directionIndex}\n              spriteIndex={spriteIndex}\n              chooseAnimation={this.chooseAnimation}\n              chooseDirection={this.chooseDirection}\n              chooseSprite={this.chooseSprite}\n              sameForAllAnimations={samePointsForAnimations}\n              sameForAllSprites={samePointsForSprites}\n              setSameForAllAnimations={this._setSamePointsForAllAnimations}\n              setSameForAllSprites={this._setSamePointsForAllSprites}\n              setSameForAllAnimationsLabel={\n                <Trans>Share same points for all animations</Trans>\n              }\n              setSameForAllSpritesLabel={\n                <Trans>\n                  Share same points for all sprites of this animation\n                </Trans>\n              }\n            />\n          </Column>\n        </Line>\n        {!!sprite && (\n          <PointsList\n            pointsContainer={sprite}\n            onPointsUpdated={this._updatePoints}\n          />\n        )}\n        {!sprite && (\n          <EmptyMessage>\n            <Trans>Choose an animation and frame to edit the points</Trans>\n          </EmptyMessage>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport newNameGenerator from '../../../../Utils/NewNameGenerator';\nimport { mapVector } from '../../../../Utils/MapFor';\nimport styles from './styles';\nimport PointRow from './PointRow';\nimport AddPointRow from './AddPointRow';\nconst gd = global.gd;\n\nconst SortableAddPointRow = SortableElement(AddPointRow);\nconst SortablePointRow = SortableElement(PointRow);\n\nclass PointsListBody extends Component {\n  state = {\n    nameErrors: {},\n  };\n\n  _onPointsUpdated() {\n    this.forceUpdate();\n    this.props.onPointsUpdated();\n  }\n\n  updateOriginPointX = newValue => {\n    this.props.pointsContainer.getOrigin().setX(newValue);\n    this._onPointsUpdated();\n  };\n\n  updateOriginPointY = newValue => {\n    this.props.pointsContainer.getOrigin().setY(newValue);\n    this._onPointsUpdated();\n  };\n\n  updateCenterPointX = newValue => {\n    this.props.pointsContainer.getCenter().setX(newValue);\n    this._onPointsUpdated();\n  };\n\n  updateCenterPointY = newValue => {\n    this.props.pointsContainer.getCenter().setY(newValue);\n    this._onPointsUpdated();\n  };\n\n  updatePointX = (point, newValue) => {\n    point.setX(newValue);\n    this._onPointsUpdated();\n  };\n\n  updatePointY = (point, newValue) => {\n    point.setY(newValue);\n    this._onPointsUpdated();\n  };\n\n  render() {\n    const { pointsContainer } = this.props;\n\n    const nonDefaultPoints = pointsContainer.getAllNonDefaultPoints();\n    const pointsRows = mapVector(nonDefaultPoints, (point, i) => {\n      const pointName = point.getName();\n\n      return (\n        <SortablePointRow\n          index={i}\n          disabled\n          key={'point-' + pointName}\n          pointX={point.getX()}\n          pointY={point.getY()}\n          onChangePointX={newValue => this.updatePointX(point, newValue)}\n          onChangePointY={newValue => this.updatePointY(point, newValue)}\n          pointName={pointName}\n          nameError={this.state.nameErrors[pointName]}\n          onBlur={event => {\n            const newName = event.target.value;\n            if (pointName === newName) return;\n\n            let success = true;\n            if (pointsContainer.hasPoint(newName)) {\n              success = false;\n            } else {\n              point.setName(newName);\n            }\n\n            this.setState({\n              nameErrors: {\n                ...this.state.nameErrors,\n                [pointName]: !success,\n              },\n            });\n          }}\n          onRemove={() => {\n            //eslint-disable-next-line\n            const answer = confirm(\n              \"Are you sure you want to remove this point? This can't be undone.\"\n            );\n            if (!answer) return;\n\n            pointsContainer.delPoint(pointName);\n            this._onPointsUpdated();\n          }}\n        />\n      );\n    });\n\n    const originPoint = pointsContainer.getOrigin();\n    const centerPoint = pointsContainer.getCenter();\n\n    const originRow = (\n      <SortablePointRow\n        index={0}\n        key={'origin-point-row'}\n        pointName=\"Origin\"\n        pointX={originPoint.getX()}\n        pointY={originPoint.getY()}\n        onChangePointX={this.updateOriginPointX}\n        onChangePointY={this.updateOriginPointY}\n        disabled\n      />\n    );\n    const centerRow = (\n      <SortablePointRow\n        index={1}\n        key={'center-point-row'}\n        pointName=\"Center\"\n        isAutomatic={pointsContainer.isDefaultCenterPoint()}\n        pointX={centerPoint.getX()}\n        pointY={centerPoint.getY()}\n        onChangePointX={this.updateCenterPointX}\n        onChangePointY={this.updateCenterPointY}\n        disabled\n        onEdit={\n          pointsContainer.isDefaultCenterPoint()\n            ? () => {\n                pointsContainer.setDefaultCenterPoint(false);\n                this._onPointsUpdated();\n              }\n            : null\n        }\n        onRemove={\n          !pointsContainer.isDefaultCenterPoint()\n            ? () => {\n                pointsContainer.setDefaultCenterPoint(true);\n                this._onPointsUpdated();\n              }\n            : null\n        }\n      />\n    );\n\n    const addRow = (\n      <SortableAddPointRow\n        index={0}\n        key={'add-point-row'}\n        disabled\n        onAdd={() => {\n          const name = newNameGenerator('Point', name =>\n            pointsContainer.hasPoint(name)\n          );\n          const point = new gd.Point(name);\n          pointsContainer.addPoint(point);\n          point.delete();\n          this._onPointsUpdated();\n        }}\n      />\n    );\n\n    return (\n      <TableBody\n        displayRowCheckbox={false}\n        deselectOnClickaway={true}\n        showRowHover={true}\n      >\n        {[originRow, centerRow, ...pointsRows, addRow]}\n      </TableBody>\n    );\n  }\n}\n\nconst SortablePointsListBody = SortableContainer(PointsListBody);\nSortablePointsListBody.muiName = 'TableBody';\n\nexport default class PointsList extends Component {\n  render() {\n    return (\n      <Table selectable={false}>\n        <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n          <TableRow>\n            <TableHeaderColumn style={styles.handleColumn} />\n            <TableHeaderColumn>Point name</TableHeaderColumn>\n            <TableHeaderColumn style={styles.coordinateColumn}>\n              X\n            </TableHeaderColumn>\n            <TableHeaderColumn style={styles.coordinateColumn}>\n              Y\n            </TableHeaderColumn>\n            <TableRowColumn style={styles.toolColumn} />\n          </TableRow>\n        </TableHeader>\n        <SortablePointsListBody\n          pointsContainer={this.props.pointsContainer}\n          onPointsUpdated={this.props.onPointsUpdated}\n          onSortEnd={({ oldIndex, newIndex }) => {\n            // Reordering points is not supported for now\n          }}\n          helperClass=\"sortable-helper\"\n          useDragHandle\n          lockToContainerEdges\n        />\n      </Table>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport ModeEdit from 'material-ui/svg-icons/editor/mode-edit';\nimport TextField from 'material-ui/TextField';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport styles from './styles';\n\nconst ThemablePointRow = ({\n  pointName,\n  nameError,\n  onBlur,\n  onRemove,\n  pointX,\n  pointY,\n  onChangePointX,\n  onChangePointY,\n  onEdit,\n  isAutomatic,\n  muiTheme,\n}) => (\n  <TableRow\n    style={{\n      backgroundColor: muiTheme.list.itemsBackgroundColor,\n    }}\n  >\n    <TableRowColumn style={styles.handleColumn}>\n      {/* <DragHandle /> Reordering point is not supported for now */}\n    </TableRowColumn>\n    <TableRowColumn>\n      <TextField\n        defaultValue={pointName || 'Base layer'}\n        id={pointName}\n        fullWidth\n        errorText={nameError ? 'This name is already taken' : undefined}\n        disabled={!onBlur}\n        onBlur={onBlur}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.coordinateColumn}>\n      {!isAutomatic ? (\n        <TextField\n          value={pointX}\n          type=\"number\"\n          id=\"point-x\"\n          onChange={(e, value) => onChangePointX(parseFloat(value || 0, 10))}\n        />\n      ) : (\n        <p>\n          <Trans>(auto)</Trans>\n        </p>\n      )}\n    </TableRowColumn>\n    <TableRowColumn style={styles.coordinateColumn}>\n      {!isAutomatic ? (\n        <TextField\n          value={pointY}\n          type=\"number\"\n          id=\"point-y\"\n          onChange={(e, value) => onChangePointY(parseFloat(value || 0, 10))}\n        />\n      ) : (\n        <p>\n          <Trans>(auto)</Trans>\n        </p>\n      )}\n    </TableRowColumn>\n    <TableRowColumn style={styles.toolColumn}>\n      {!!onRemove && (\n        <IconButton onClick={onRemove}>\n          <Delete />\n        </IconButton>\n      )}\n      {!!onEdit && (\n        <IconButton onClick={onEdit}>\n          <ModeEdit />\n        </IconButton>\n      )}\n    </TableRowColumn>\n  </TableRow>\n);\n\nconst PointRow = muiThemeable()(ThemablePointRow);\nexport default PointRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport Add from 'material-ui/svg-icons/content/add';\nimport IconButton from 'material-ui/IconButton';\nimport styles from './styles';\n\nconst AddPointRow = ({ onAdd }) => (\n  <TableRow>\n    <TableRowColumn style={styles.handleColumn} />\n    <TableRowColumn />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nexport default AddPointRow;\n","// @flow\nimport React from 'react';\nimport { mapVector } from '../../../../Utils/MapFor';\n\nconst styles = {\n  container: {\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n  },\n};\n\nconst pointKindIdentifiers = {\n  NORMAL: 1,\n  ORIGIN: 2,\n  CENTER: 3,\n};\ntype PointKind = 1 | 2 | 3;\n\ntype Props = {|\n  pointsContainer: gdSprite, // Could potentially be generalized to other things than Sprite in the future.\n  imageWidth: number,\n  imageHeight: number,\n  imageZoomFactor: number,\n  onPointsUpdated: () => void,\n|};\n\ntype State = {|\n  draggedPoint: ?gdPoint,\n  draggedPointKind: ?PointKind,\n|};\n\nexport default class PointsPreview extends React.Component<Props, State> {\n  _container: ?any;\n  state = {\n    draggedPoint: null,\n    draggedPointKind: null,\n  };\n\n  _onStartDragPoint = (draggedPoint: gdPoint, draggedPointKind: PointKind) => {\n    if (this.state.draggedPoint) return;\n\n    this.setState({\n      draggedPoint,\n      draggedPointKind,\n    });\n  };\n\n  _onEndDragPoint = () => {\n    const draggingWasDone = !!this.state.draggedPoint;\n    this.setState(\n      {\n        draggedPoint: null,\n        draggedPointKind: null,\n      },\n      () => {\n        if (draggingWasDone) this.props.onPointsUpdated();\n      }\n    );\n  };\n\n  /**\n   * Move a point with the mouse. A similar dragging implementation is done in\n   * CollisionMasksPreview (but with svg elements).\n   *\n   * TODO: This could be optimized by avoiding the forceUpdate (not sure if worth it though).\n   */\n  _onMouseMove = (event: any) => {\n    const { draggedPoint, draggedPointKind } = this.state;\n    if (!draggedPoint || !this._container) return;\n\n    const containerBoundingRect = this._container.getBoundingClientRect();\n    const xOnContainer = event.clientX - containerBoundingRect.left;\n    const yOnContainer = event.clientY - containerBoundingRect.top;\n\n    if (draggedPointKind === pointKindIdentifiers.CENTER) {\n      this.props.pointsContainer.setDefaultCenterPoint(false);\n    }\n    draggedPoint.setX(xOnContainer / this.props.imageZoomFactor);\n    draggedPoint.setY(yOnContainer / this.props.imageZoomFactor);\n    this.forceUpdate();\n  };\n\n  _renderPoint = (\n    name: string,\n    x: number,\n    y: number,\n    kind: PointKind,\n    point: gdPoint\n  ) => {\n    const imageSrc =\n      kind === pointKindIdentifiers.ORIGIN\n        ? 'res/originPoint.png'\n        : kind === pointKindIdentifiers.CENTER\n        ? 'res/centerPoint.png'\n        : 'res/point.png';\n    return (\n      <img\n        src={imageSrc}\n        style={{\n          position: 'absolute',\n          left: x,\n          top: y,\n          transform: 'translate(-6px, -5px)',\n          cursor: 'move',\n        }}\n        alt=\"\"\n        key={name}\n        onPointerDown={() => {\n          this._onStartDragPoint(point, kind);\n        }}\n      />\n    );\n  };\n\n  render() {\n    const {\n      pointsContainer,\n      imageWidth,\n      imageHeight,\n      imageZoomFactor,\n    } = this.props;\n    const nonDefaultPoints = pointsContainer.getAllNonDefaultPoints();\n    const points = mapVector(nonDefaultPoints, (point, i) =>\n      this._renderPoint(\n        point.getName(),\n        point.getX() * imageZoomFactor,\n        point.getY() * imageZoomFactor,\n        pointKindIdentifiers.NORMAL,\n        point\n      )\n    );\n\n    const originPoint = pointsContainer.getOrigin();\n    const centerPoint = pointsContainer.getCenter();\n    const automaticCenterPosition = pointsContainer.isDefaultCenterPoint();\n\n    return (\n      <div\n        style={styles.container}\n        onPointerMove={this._onMouseMove}\n        onPointerUp={this._onEndDragPoint}\n        ref={container => (this._container = container)}\n      >\n        {points}\n        {this._renderPoint(\n          'Origin',\n          originPoint.getX() * imageZoomFactor,\n          originPoint.getY() * imageZoomFactor,\n          pointKindIdentifiers.ORIGIN,\n          originPoint\n        )}\n        {this._renderPoint(\n          'Center',\n          (!automaticCenterPosition ? centerPoint.getX() : imageWidth / 2) *\n            imageZoomFactor,\n          (!automaticCenterPosition ? centerPoint.getY() : imageHeight / 2) *\n            imageZoomFactor,\n          pointKindIdentifiers.CENTER,\n          centerPoint\n        )}\n      </div>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport EmptyMessage from '../../../../UI/EmptyMessage';\nimport { Line, Column } from '../../../../UI/Grid';\nimport { mapFor } from '../../../../Utils/MapFor';\nimport PolygonsList from './PolygonsList';\nimport CollisionMasksPreview from './CollisionMasksPreview';\nimport ImagePreview from '../../../../ResourcesList/ResourcePreview/ImagePreview';\nimport {\n  getCurrentElements,\n  allSpritesHaveSameCollisionMasksAs,\n  copyAnimationsSpriteCollisionMasks,\n} from '../Utils/SpriteObjectHelper';\nimport SpriteSelector from '../Utils/SpriteSelector';\nimport every from 'lodash/every';\nconst gd = global.gd;\n\nexport default class CollisionMasksEditor extends Component {\n  state = {\n    animationIndex: 0,\n    directionIndex: 0,\n    spriteIndex: 0,\n    sameCollisionMasksForAnimations: true,\n    sameCollisionMasksForSprites: true,\n    spriteWidth: 0,\n    spriteHeight: 0,\n  };\n\n  componentDidMount() {\n    this._updateSameCollisionMasksToggles();\n  }\n\n  _updateCollisionMasks = () => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { animation, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    if (animation && sprite) {\n      if (this.state.sameCollisionMasksForAnimations) {\n        mapFor(0, spriteObject.getAnimationsCount(), i => {\n          const otherAnimation = spriteObject.getAnimation(i);\n          copyAnimationsSpriteCollisionMasks(sprite, otherAnimation);\n        });\n      } else if (this.state.sameCollisionMasksForSprites) {\n        copyAnimationsSpriteCollisionMasks(sprite, animation);\n      }\n    }\n\n    this.forceUpdate(); // Refresh the preview and the list\n    if (this.props.onCollisionMasksUpdated)\n      this.props.onCollisionMasksUpdated();\n  };\n\n  chooseAnimation = index => {\n    this.setState(\n      {\n        animationIndex: index,\n        directionIndex: 0,\n        spriteIndex: 0,\n      },\n      () => this._updateSameCollisionMasksToggles()\n    );\n  };\n\n  chooseDirection = index => {\n    this.setState({\n      directionIndex: index,\n      spriteIndex: 0,\n    });\n  };\n\n  chooseSprite = index => {\n    this.setState({\n      spriteIndex: index,\n    });\n  };\n\n  _updateSameCollisionMasksToggles = () => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { animation, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n    if (!animation || !sprite) return;\n\n    this.setState({\n      sameCollisionMasksForAnimations: every(\n        mapFor(0, spriteObject.getAnimationsCount(), i => {\n          const otherAnimation = spriteObject.getAnimation(i);\n          return allSpritesHaveSameCollisionMasksAs(sprite, otherAnimation);\n        })\n      ),\n      sameCollisionMasksForSprites: allSpritesHaveSameCollisionMasksAs(\n        sprite,\n        animation\n      ),\n    });\n  };\n\n  _onSetCollisionMaskAutomatic = (automatic: boolean = true) => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n    if (!sprite) return;\n\n    sprite.setCollisionMaskAutomatic(automatic);\n    this._updateCollisionMasks();\n  };\n\n  _setSameCollisionMasksForAllAnimations = enable => {\n    if (enable) {\n      // eslint-disable-next-line\n      const answer = confirm(\n        \"Having the same collision masks for all animations will erase and reset all the other animations collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the animations of the object?\"\n      );\n      if (!answer) return;\n    }\n\n    this.setState(\n      {\n        sameCollisionMasksForAnimations: enable,\n        sameCollisionMasksForSprites: enable\n          ? true\n          : this.state.sameCollisionMasksForSprites,\n      },\n      () => {\n        this._updateCollisionMasks();\n      }\n    );\n  };\n\n  _setSameCollisionMasksForAllSprites = enable => {\n    if (enable) {\n      // eslint-disable-next-line\n      const answer = confirm(\n        \"Having the same collision masks for all frames will erase and reset all the other frames collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the frames of the animation?\"\n      );\n      if (!answer) return;\n    }\n\n    this.setState(\n      {\n        sameCollisionMasksForAnimations: enable\n          ? this.state.sameCollisionMasksForAnimations\n          : false,\n        sameCollisionMasksForSprites: enable,\n      },\n      () => {\n        this._updateCollisionMasks();\n      }\n    );\n  };\n\n  _setCurrentSpriteSize = (spriteWidth: number, spriteHeight: number) => {\n    this.setState({\n      spriteWidth,\n      spriteHeight,\n    });\n  };\n\n  render() {\n    const { object, resourcesLoader, project } = this.props;\n    const {\n      sameCollisionMasksForAnimations,\n      sameCollisionMasksForSprites,\n      animationIndex,\n      directionIndex,\n      spriteIndex,\n      spriteWidth,\n      spriteHeight,\n    } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    if (!object.getAnimationsCount()) return null;\n    const { hasValidSprite, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    return (\n      <div>\n        <ImagePreview\n          resourceName={hasValidSprite ? sprite.getImageName() : ''}\n          resourcesLoader={resourcesLoader}\n          project={project}\n          onSize={this._setCurrentSpriteSize}\n          renderOverlay={({ imageWidth, imageHeight, imageZoomFactor }) =>\n            hasValidSprite && (\n              <CollisionMasksPreview\n                imageWidth={imageWidth}\n                imageHeight={imageHeight}\n                imageZoomFactor={imageZoomFactor}\n                isDefaultBoundingBox={sprite.isCollisionMaskAutomatic()}\n                polygons={sprite.getCustomCollisionMask()}\n                onPolygonsUpdated={this._updateCollisionMasks}\n              />\n            )\n          }\n        />\n        <Line>\n          <Column expand>\n            <SpriteSelector\n              spriteObject={spriteObject}\n              animationIndex={animationIndex}\n              directionIndex={directionIndex}\n              spriteIndex={spriteIndex}\n              chooseAnimation={this.chooseAnimation}\n              chooseDirection={this.chooseDirection}\n              chooseSprite={this.chooseSprite}\n              sameForAllAnimations={sameCollisionMasksForAnimations}\n              sameForAllSprites={sameCollisionMasksForSprites}\n              setSameForAllAnimations={\n                this._setSameCollisionMasksForAllAnimations\n              }\n              setSameForAllSprites={this._setSameCollisionMasksForAllSprites}\n              setSameForAllAnimationsLabel={\n                <Trans>Share same collision masks for all animations</Trans>\n              }\n              setSameForAllSpritesLabel={\n                <Trans>\n                  Share same collision masks for all sprites of this animation\n                </Trans>\n              }\n            />\n          </Column>\n        </Line>\n        {!!sprite && !sprite.isCollisionMaskAutomatic() && (\n          <React.Fragment>\n            <PolygonsList\n              polygons={sprite.getCustomCollisionMask()}\n              onPolygonsUpdated={this._updateCollisionMasks}\n              spriteWidth={spriteWidth}\n              spriteHeight={spriteHeight}\n            />\n            <Line justifyContent=\"center\">\n              <FlatButton\n                label={<Trans>Restore the default collision mask</Trans>}\n                primary={false}\n                onClick={() => this._onSetCollisionMaskAutomatic(true)}\n              />\n            </Line>\n          </React.Fragment>\n        )}\n        {!!sprite && sprite.isCollisionMaskAutomatic() && (\n          <React.Fragment>\n            <EmptyMessage>\n              <Trans>\n                This sprite uses the default collision mask, a rectangle that is\n                as large as the sprite.\n              </Trans>\n            </EmptyMessage>\n            <Line justifyContent=\"center\">\n              <FlatButton\n                label={<Trans>Use a custom collision mask</Trans>}\n                primary={false}\n                onClick={() => this._onSetCollisionMaskAutomatic(false)}\n              />\n            </Line>\n          </React.Fragment>\n        )}\n        {!sprite && (\n          <EmptyMessage>\n            <Trans>\n              Choose an animation and frame to edit the collision masks\n            </Trans>\n          </EmptyMessage>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport flatten from 'lodash/flatten';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { mapVector } from '../../../../Utils/MapFor';\nimport styles from './styles';\nimport VerticeRow from './VerticeRow';\nimport PolygonRow from './PolygonRow';\nimport AddVerticeRow from './AddVerticeRow';\nimport AddPolygonRow from './AddPolygonRow';\nconst gd = global.gd;\n\nconst SortableAddPolygonRow = SortableElement(AddPolygonRow);\nconst SortableAddVerticeRow = SortableElement(AddVerticeRow);\nconst SortableVerticeRow = SortableElement(VerticeRow);\nconst SortablePolygonRow = SortableElement(PolygonRow);\n\ntype PolygonsListBodyProps = {|\n  polygons: gdVectorPolygon2d,\n  onPolygonsUpdated: () => void,\n\n  // Sprite size is useful to make sure polygon vertices\n  // are not put outside the sprite bounding box, which is not supported:\n  spriteWidth: number,\n  spriteHeight: number,\n|};\n\nclass PolygonsListBody extends Component<PolygonsListBodyProps, void> {\n  _onPolygonUpdated() {\n    this.forceUpdate();\n    this.props.onPolygonsUpdated();\n  }\n\n  updateVerticeX = (vertice, newValue) => {\n    // Ensure vertice stays inside the sprite bounding box.\n    vertice.set_x(Math.min(this.props.spriteWidth, Math.max(newValue, 0)));\n    this._onPolygonUpdated();\n  };\n\n  updateVerticeY = (vertice, newValue) => {\n    // Ensure vertice stays inside the sprite bounding box.\n    vertice.set_y(Math.min(this.props.spriteHeight, Math.max(newValue, 0)));\n    this._onPolygonUpdated();\n  };\n\n  render() {\n    const { polygons } = this.props;\n\n    const polygonRows = flatten(\n      mapVector(polygons, (polygon, i) => {\n        const vertices = polygon.getVertices();\n        const isConvex = polygon.isConvex();\n\n        return [\n          <SortablePolygonRow\n            index={i}\n            disabled\n            key={'polygon-' + i}\n            polygon={polygon}\n            onRemove={() => {\n              gd.removeFromVectorPolygon2d(polygons, i);\n              this._onPolygonUpdated();\n            }}\n            isConvex={isConvex}\n            verticesCount={vertices.size()}\n          />,\n          mapVector(vertices, (vertice, j) => (\n            <SortableVerticeRow\n              index={i}\n              disabled\n              key={`polygon-${i}-vertice-${j}`}\n              verticeX={vertice.get_x()}\n              verticeY={vertice.get_y()}\n              onChangeVerticeX={newValue =>\n                this.updateVerticeX(vertice, newValue)\n              }\n              onChangeVerticeY={newValue =>\n                this.updateVerticeY(vertice, newValue)\n              }\n              onRemove={() => {\n                gd.removeFromVectorVector2f(polygon.getVertices(), j);\n                this._onPolygonUpdated();\n              }}\n              canRemove={vertices.size() > 3}\n              hasWarning={!isConvex}\n            />\n          )),\n          <SortableAddVerticeRow\n            index={0}\n            key={`polygon-${i}-add-vertice-row`}\n            disabled\n            onAdd={() => {\n              const newVertice = new gd.Vector2f();\n              polygon.getVertices().push_back(newVertice);\n              newVertice.delete();\n\n              this._onPolygonUpdated();\n            }}\n          />,\n        ];\n      })\n    );\n\n    const addRow = (\n      <SortableAddPolygonRow\n        index={0}\n        key={'add-polygon-row'}\n        disabled\n        onAdd={() => {\n          const newPolygon = gd.Polygon2d.createRectangle(32, 32);\n          newPolygon.move(\n            this.props.spriteWidth / 2,\n            this.props.spriteHeight / 2\n          );\n          polygons.push_back(newPolygon);\n\n          this._onPolygonUpdated();\n        }}\n      />\n    );\n\n    return (\n      <TableBody\n        displayRowCheckbox={false}\n        deselectOnClickaway={true}\n        showRowHover={true}\n      >\n        {[...polygonRows, addRow]}\n      </TableBody>\n    );\n  }\n}\n\nconst SortablePolygonsListBody = SortableContainer(PolygonsListBody);\nSortablePolygonsListBody.muiName = 'TableBody';\n\ntype Props = {|\n  polygons: gdVectorPolygon2d,\n  onPolygonsUpdated: () => void,\n  spriteWidth: number,\n  spriteHeight: number,\n|};\n\nexport default class PolygonsList extends Component<Props, void> {\n  render() {\n    return (\n      <Table selectable={false}>\n        <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n          <TableRow>\n            <TableHeaderColumn style={styles.handleColumn} />\n            <TableHeaderColumn>Polygon</TableHeaderColumn>\n            <TableHeaderColumn style={styles.coordinateColumn}>\n              X\n            </TableHeaderColumn>\n            <TableHeaderColumn style={styles.coordinateColumn}>\n              Y\n            </TableHeaderColumn>\n            <TableRowColumn style={styles.toolColumn} />\n          </TableRow>\n        </TableHeader>\n        <SortablePolygonsListBody\n          polygons={this.props.polygons}\n          onPolygonsUpdated={this.props.onPolygonsUpdated}\n          spriteWidth={this.props.spriteWidth}\n          spriteHeight={this.props.spriteHeight}\n          onSortEnd={({ oldIndex, newIndex }) => {\n            // Reordering polygons is not supported for now\n          }}\n          helperClass=\"sortable-helper\"\n          useDragHandle\n          lockToContainerEdges\n        />\n      </Table>\n    );\n  }\n}\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport TextField from 'material-ui/TextField';\nimport Warning from 'material-ui/svg-icons/alert/warning';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport styles from './styles';\n\nconst ThemableVerticeRow = ({\n  hasWarning,\n  canRemove,\n  onRemove,\n  verticeX,\n  verticeY,\n  onChangeVerticeX,\n  onChangeVerticeY,\n  muiTheme,\n}) => (\n  <TableRow\n    style={{\n      backgroundColor: muiTheme.list.itemsBackgroundColor,\n    }}\n  >\n    <TableRowColumn style={styles.handleColumn}>\n      {/* <DragHandle /> Reordering vertices is not supported for now */}\n    </TableRowColumn>\n    <TableRowColumn>{hasWarning && <Warning />}</TableRowColumn>\n    <TableRowColumn style={styles.coordinateColumn}>\n      <TextField\n        value={verticeX}\n        type=\"number\"\n        id=\"vertice-x\"\n        onChange={(e, value) => onChangeVerticeX(parseFloat(value || 0, 10))}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.coordinateColumn}>\n      <TextField\n        value={verticeY}\n        type=\"number\"\n        id=\"vertice-y\"\n        onChange={(e, value) => onChangeVerticeY(parseFloat(value || 0, 10))}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.toolColumn}>\n      {!!onRemove && (\n        <IconButton onClick={onRemove} disabled={!canRemove}>\n          <Delete />\n        </IconButton>\n      )}\n    </TableRowColumn>\n  </TableRow>\n);\n\nconst PointRow = muiThemeable()(ThemableVerticeRow);\nexport default PointRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport styles from './styles';\n\nconst ThemablePolygonRow = ({\n  onRemove,\n  isConvex,\n  verticesCount,\n  muiTheme,\n}) => {\n  return (\n    <TableRow\n      style={{\n        backgroundColor: muiTheme.list.itemsBackgroundColor,\n      }}\n    >\n      <TableRowColumn style={styles.handleColumn}>\n        {/* <DragHandle /> Reordering polygons is not supported for now */}\n      </TableRowColumn>\n      {isConvex && (\n        <TableRowColumn>\n          {verticesCount === 3 && `Triangle`}\n          {verticesCount === 4 && `Quadrilateral`}\n          {verticesCount >= 5 && `Polygon with ${verticesCount} vertices`}\n        </TableRowColumn>\n      )}\n      {!isConvex && <TableRowColumn>Polygon is not convex!</TableRowColumn>}\n      <TableRowColumn style={styles.coordinateColumn} />\n      <TableRowColumn style={styles.coordinateColumn} />\n      <TableRowColumn style={styles.toolColumn}>\n        {!!onRemove && (\n          <IconButton onClick={onRemove}>\n            <Delete />\n          </IconButton>\n        )}\n      </TableRowColumn>\n    </TableRow>\n  );\n};\n\nconst PointRow = muiThemeable()(ThemablePolygonRow);\nexport default PointRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport AddCircle from 'material-ui/svg-icons/content/add-circle';\nimport IconButton from 'material-ui/IconButton';\nimport styles from './styles';\n\nconst AddVerticeRow = ({ onAdd }) => (\n  <TableRow>\n    <TableRowColumn style={styles.handleColumn} />\n    <TableRowColumn />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <AddCircle />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nexport default AddVerticeRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport Add from 'material-ui/svg-icons/content/add';\nimport IconButton from 'material-ui/IconButton';\nimport styles from './styles';\n\nconst AddPolygonRow = ({ onAdd }) => (\n  <TableRow>\n    <TableRowColumn style={styles.handleColumn} />\n    <TableRowColumn />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nexport default AddPolygonRow;\n","// @flow\nimport * as React from 'react';\nimport { mapVector } from '../../../../Utils/MapFor';\n\nconst styles = {\n  container: {\n    position: 'relative',\n  },\n  svg: {\n    width: '100%',\n    height: '100%',\n  },\n  vertexCircle: {\n    cursor: 'move',\n  },\n};\n\ntype Props = {|\n  polygons: gdVectorPolygon2d,\n  isDefaultBoundingBox: boolean,\n  imageWidth: number,\n  imageHeight: number,\n  imageZoomFactor: number,\n  onPolygonsUpdated: () => void,\n|};\n\ntype State = {|\n  draggedVertex: ?gdVector2f,\n|};\n\nexport default class CollisionMasksPreview extends React.Component<\n  Props,\n  State\n> {\n  _svg: any;\n  state = {\n    draggedVertex: null,\n  };\n\n  _onStartDragVertex = (draggedVertex: gdVector2f) => {\n    if (this.state.draggedVertex) return;\n\n    this.setState({\n      draggedVertex,\n    });\n  };\n\n  _onEndDragVertex = () => {\n    const draggingWasDone = !!this.state.draggedVertex;\n    this.setState(\n      {\n        draggedVertex: null,\n      },\n      () => {\n        if (draggingWasDone) this.props.onPolygonsUpdated();\n      }\n    );\n  };\n\n  /**\n   * Move a vertex with the mouse. A similar dragging implementation is done in\n   * PointsPreview (but with div and img elements).\n   *\n   * TODO: This could be optimized by avoiding the forceUpdate (not sure if worth it though).\n   */\n  _onPointerMove = (event: any) => {\n    const { draggedVertex } = this.state;\n    if (!draggedVertex) return;\n\n    const pointOnScreen = this._svg.createSVGPoint();\n    pointOnScreen.x = event.clientX;\n    pointOnScreen.y = event.clientY;\n    const screenToSvgMatrix = this._svg.getScreenCTM().inverse();\n    const pointOnSvg = pointOnScreen.matrixTransform(screenToSvgMatrix);\n\n    draggedVertex.set_x(pointOnSvg.x / this.props.imageZoomFactor);\n    draggedVertex.set_y(pointOnSvg.y / this.props.imageZoomFactor);\n    this.forceUpdate();\n  };\n\n  _renderBoundingBox() {\n    const { imageWidth, imageHeight, imageZoomFactor } = this.props;\n\n    return (\n      <polygon\n        fill=\"rgba(255,0,0,0.2)\"\n        stroke=\"rgba(255,0,0,0.5)\"\n        strokeWidth={1}\n        fileRule=\"evenodd\"\n        points={`0,0 ${imageWidth * imageZoomFactor},0 ${imageWidth *\n          imageZoomFactor},${imageHeight * imageZoomFactor} 0,${imageHeight *\n          imageZoomFactor}`}\n      />\n    );\n  }\n\n  _renderPolygons() {\n    const { polygons, imageZoomFactor } = this.props;\n\n    return (\n      <React.Fragment>\n        {mapVector(polygons, (polygon, i) => {\n          const vertices = polygon.getVertices();\n          return (\n            <polygon\n              key={`polygon-${i}`}\n              fill=\"rgba(255,0,0,0.2)\"\n              stroke=\"rgba(255,0,0,0.5)\"\n              strokeWidth={1}\n              fileRule=\"evenodd\"\n              points={mapVector(\n                vertices,\n                (vertex, j) =>\n                  `${vertex.get_x() * imageZoomFactor},${vertex.get_y() *\n                    imageZoomFactor}`\n              ).join(' ')}\n            />\n          );\n        })}\n        {mapVector(polygons, (polygon, i) => {\n          const vertices = polygon.getVertices();\n          return mapVector(vertices, (vertex, j) => (\n            <circle\n              onPointerDown={event => this._onStartDragVertex(vertex)}\n              key={`polygon-${i}-vertex-${j}`}\n              fill=\"rgba(255,0,0,0.75)\"\n              strokeWidth={1}\n              cx={vertex.get_x() * imageZoomFactor}\n              cy={vertex.get_y() * imageZoomFactor}\n              r={5}\n              style={styles.vertexCircle}\n            />\n          ));\n        })}\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    const { isDefaultBoundingBox } = this.props;\n\n    return (\n      <svg\n        onPointerMove={this._onPointerMove}\n        onPointerUp={this._onEndDragVertex}\n        width={this.props.imageWidth * this.props.imageZoomFactor}\n        height={this.props.imageHeight * this.props.imageZoomFactor}\n        style={styles.svg}\n        ref={svg => (this._svg = svg)}\n      >\n        {isDefaultBoundingBox && this._renderBoundingBox()}\n        {!isDefaultBoundingBox && this._renderPolygons()}\n      </svg>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { type EditorProps } from './EditorProps.flow';\nimport { Line, Column } from '../../UI/Grid';\nimport EmptyMessage from '../../UI/EmptyMessage';\n\nexport default class EmptyEditor extends React.Component<EditorProps, void> {\n  render() {\n    return (\n      <Column>\n        <Line>\n          <EmptyMessage>\n            <Trans>\n              This object does not have any specific configuration. Add it on\n              the scene and use events to interact with it.\n            </Trans>\n          </EmptyMessage>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\nimport { Line, Column, Spacer } from '../../UI/Grid';\nimport ColorField from '../../UI/ColorField';\nimport { type EditorProps } from './EditorProps.flow';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nconst gd = global.gd;\n\nexport default class PanelSpriteEditor extends React.Component<\n  EditorProps,\n  void\n> {\n  render() {\n    const { object } = this.props;\n    const shapePainterObject = gd.asShapePainterObject(object);\n\n    return (\n      <Column>\n        <Line>\n          <Checkbox\n            label={\n              <Trans>\n                Draw the shapes relative to the object position on the scene\n              </Trans>\n            }\n            checked={!shapePainterObject.areCoordinatesAbsolute()}\n            onCheck={(e, checked) => {\n              if (!checked) shapePainterObject.setCoordinatesAbsolute();\n              else shapePainterObject.setCoordinatesRelative();\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <ColorField\n            floatingLabelText={<Trans>Outline color</Trans>}\n            disableAlpha\n            fullWidth\n            color={{\n              r: shapePainterObject.getOutlineColorR(),\n              g: shapePainterObject.getOutlineColorG(),\n              b: shapePainterObject.getOutlineColorB(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              shapePainterObject.setOutlineColor(\n                color.rgb.r,\n                color.rgb.g,\n                color.rgb.b\n              );\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            commitOnBlur\n            floatingLabelText={<Trans>Outline opacity (0-255)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={shapePainterObject.getOutlineOpacity()}\n            onChange={value => {\n              shapePainterObject.setOutlineOpacity(parseInt(value, 10) || 0);\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            commitOnBlur\n            floatingLabelText={<Trans>Outline size (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={shapePainterObject.getOutlineSize()}\n            onChange={value => {\n              shapePainterObject.setOutlineSize(parseInt(value, 10) || 0);\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <ColorField\n            floatingLabelText={<Trans>Fill color</Trans>}\n            disableAlpha\n            fullWidth\n            color={{\n              r: shapePainterObject.getFillColorR(),\n              g: shapePainterObject.getFillColorG(),\n              b: shapePainterObject.getFillColorB(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              shapePainterObject.setFillColor(\n                color.rgb.r,\n                color.rgb.g,\n                color.rgb.b\n              );\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            commitOnBlur\n            floatingLabelText={<Trans>Fill opacity (0-255)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={shapePainterObject.getFillOpacity()}\n            onChange={(e, value) => {\n              shapePainterObject.setFillOpacity(parseInt(value, 10) || 0);\n              this.forceUpdate();\n            }}\n          />\n          <Spacer expand />\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { Line, Column } from '../../UI/Grid';\nimport ColorField from '../../UI/ColorField';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport { type EditorProps } from './EditorProps.flow';\nimport ResourceSelectorWithThumbnail from '../../ResourcesList/ResourceSelectorWithThumbnail';\nconst gd = global.gd;\n\nexport default class ParticleEmitterEditor extends React.Component<\n  EditorProps,\n  void\n> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const particleEmitterObject = gd.asParticleEmitterObject(object);\n\n    return (\n      <Column>\n        <Line>\n          <Column expand noMargin>\n            <SelectField\n              fullWidth\n              floatingLabelText={<Trans>Particles kind</Trans>}\n              value={particleEmitterObject.getRendererType()}\n              onChange={(e, i, value) => {\n                particleEmitterObject.setRendererType(value);\n                if (value !== gd.ParticleEmitterObject.Quad) {\n                  particleEmitterObject.setParticleTexture('');\n                }\n                this.forceUpdate();\n              }}\n            >\n              <MenuItem\n                value={gd.ParticleEmitterObject.Point}\n                primaryText={<Trans>Point</Trans>}\n              />\n              <MenuItem\n                value={gd.ParticleEmitterObject.Line}\n                primaryText={<Trans>Line</Trans>}\n              />\n              <MenuItem\n                value={gd.ParticleEmitterObject.Quad}\n                primaryText={<Trans>Textured</Trans>}\n              />\n            </SelectField>\n          </Column>\n        </Line>\n        {particleEmitterObject.getRendererType() ===\n          gd.ParticleEmitterObject.Point && (\n          <Line>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                commitOnBlur\n                floatingLabelText={<Trans>Size</Trans>}\n                fullWidth\n                type=\"number\"\n                value={particleEmitterObject.getRendererParam1()}\n                onChange={value => {\n                  particleEmitterObject.setRendererParam1(parseFloat(value));\n                  this.forceUpdate();\n                }}\n              />\n            </Column>\n          </Line>\n        )}\n        {particleEmitterObject.getRendererType() ===\n          gd.ParticleEmitterObject.Line && (\n          <Line>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                commitOnBlur\n                floatingLabelText={<Trans>Lines length</Trans>}\n                fullWidth\n                type=\"number\"\n                value={particleEmitterObject.getRendererParam1()}\n                onChange={value => {\n                  particleEmitterObject.setRendererParam1(parseFloat(value));\n                  this.forceUpdate();\n                }}\n              />\n            </Column>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                commitOnBlur\n                floatingLabelText={<Trans>Lines thickness</Trans>}\n                fullWidth\n                type=\"number\"\n                value={particleEmitterObject.getRendererParam2()}\n                onChange={value => {\n                  particleEmitterObject.setRendererParam2(parseFloat(value));\n                  this.forceUpdate();\n                }}\n              />\n            </Column>\n          </Line>\n        )}\n        {particleEmitterObject.getRendererType() ===\n          gd.ParticleEmitterObject.Quad && (\n          <React.Fragment>\n            <Line>\n              <ResourceSelectorWithThumbnail\n                project={project}\n                resourceSources={resourceSources}\n                onChooseResource={onChooseResource}\n                resourceKind=\"image\"\n                resourceName={particleEmitterObject.getParticleTexture()}\n                resourceExternalEditors={resourceExternalEditors}\n                onChange={resourceName => {\n                  particleEmitterObject.setParticleTexture(resourceName);\n                  this.forceUpdate();\n                }}\n                floatingLabelText={<Trans>Select an image</Trans>}\n              />\n            </Line>\n            <Line>\n              <Column expand noMargin>\n                <SemiControlledTextField\n                  commitOnBlur\n                  floatingLabelText={<Trans>Particles start width</Trans>}\n                  fullWidth\n                  type=\"number\"\n                  value={particleEmitterObject.getRendererParam1()}\n                  onChange={value => {\n                    particleEmitterObject.setRendererParam1(\n                      Math.max(0, parseFloat(value))\n                    );\n                    this.forceUpdate();\n                  }}\n                />\n              </Column>\n              <Column expand noMargin>\n                <SemiControlledTextField\n                  commitOnBlur\n                  floatingLabelText={<Trans>Particles start height</Trans>}\n                  fullWidth\n                  type=\"number\"\n                  value={particleEmitterObject.getRendererParam2()}\n                  onChange={value => {\n                    particleEmitterObject.setRendererParam2(\n                      Math.max(0, parseFloat(value))\n                    );\n                    this.forceUpdate();\n                  }}\n                />\n              </Column>\n            </Line>\n          </React.Fragment>\n        )}\n        <Line>\n          <ColorField\n            floatingLabelText={<Trans>Particles start color</Trans>}\n            disableAlpha\n            fullWidth\n            color={{\n              r: particleEmitterObject.getParticleRed1(),\n              g: particleEmitterObject.getParticleGreen1(),\n              b: particleEmitterObject.getParticleBlue1(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              particleEmitterObject.setParticleRed1(color.rgb.r);\n              particleEmitterObject.setParticleGreen1(color.rgb.g);\n              particleEmitterObject.setParticleBlue1(color.rgb.b);\n\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            commitOnBlur\n            floatingLabelText={<Trans>Start opacity (0-255)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={particleEmitterObject.getParticleAlpha1()}\n            onChange={value => {\n              particleEmitterObject.setParticleAlpha1(parseInt(value, 10) || 0);\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <ColorField\n            floatingLabelText={<Trans>Particles end color</Trans>}\n            disableAlpha\n            fullWidth\n            color={{\n              r: particleEmitterObject.getParticleRed2(),\n              g: particleEmitterObject.getParticleGreen2(),\n              b: particleEmitterObject.getParticleBlue2(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              particleEmitterObject.setParticleRed2(color.rgb.r);\n              particleEmitterObject.setParticleGreen2(color.rgb.g);\n              particleEmitterObject.setParticleBlue2(color.rgb.b);\n\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            commitOnBlur\n            floatingLabelText={<Trans>End opacity (0-255)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={particleEmitterObject.getParticleAlpha2()}\n            onChange={value => {\n              particleEmitterObject.setParticleAlpha2(parseInt(value, 10) || 0);\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <Checkbox\n            label={<Trans>Additive rendering</Trans>}\n            checked={particleEmitterObject.isRenderingAdditive()}\n            onCheck={(e, checked) => {\n              if (checked) particleEmitterObject.setRenderingAdditive();\n              else particleEmitterObject.setRenderingAlpha();\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <Checkbox\n            label={<Trans>Delete when out of particles</Trans>}\n            checked={particleEmitterObject.getDestroyWhenNoParticles()}\n            onCheck={(e, checked) => {\n              particleEmitterObject.setDestroyWhenNoParticles(checked);\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={\n                <Trans>Maximum number of particles displayed</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getMaxParticleNb()}\n              onChange={value => {\n                particleEmitterObject.setMaxParticleNb(\n                  parseInt(value, 10) || 0\n                );\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={\n                <Trans>Number of particles in tank (-1 for infinite)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getTank()}\n              onChange={value => {\n                particleEmitterObject.setTank(parseInt(value, 10) || 0);\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={\n                <Trans>Flow of particles (particles/seconds)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getFlow()}\n              onChange={value => {\n                particleEmitterObject.setFlow(parseInt(value, 10) || 0);\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={\n                <Trans>Minimum emitter force applied on particles</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getEmitterForceMin()}\n              onChange={value => {\n                particleEmitterObject.setEmitterForceMin(\n                  parseInt(value, 10) || 0\n                );\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={\n                <Trans>Maximum emitter force applied on particles</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getEmitterForceMax()}\n              onChange={value => {\n                particleEmitterObject.setEmitterForceMax(\n                  parseInt(value, 10) || 0\n                );\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={<Trans>Spray cone angle (in degrees)</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getConeSprayAngle()}\n              onChange={value => {\n                particleEmitterObject.setConeSprayAngle(\n                  parseInt(value, 10) || 0\n                );\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={<Trans>Radius of the emitter</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getZoneRadius()}\n              onChange={value => {\n                particleEmitterObject.setZoneRadius(parseInt(value, 10) || 0);\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={<Trans>Gravity on particles on X axis</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleGravityX()}\n              onChange={value => {\n                particleEmitterObject.setParticleGravityX(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={<Trans>Gravity on particles on Y axis</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleGravityY()}\n              onChange={value => {\n                particleEmitterObject.setParticleGravityY(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={<Trans>Friction on particles</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getFriction()}\n              onChange={value => {\n                particleEmitterObject.setFriction(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={\n                <Trans>Particle minimum lifetime (in seconds)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleLifeTimeMin()}\n              onChange={value => {\n                particleEmitterObject.setParticleLifeTimeMin(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={\n                <Trans>Particle maximum lifetime (in seconds)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleLifeTimeMax()}\n              onChange={value => {\n                particleEmitterObject.setParticleLifeTimeMax(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={\n                <Trans>Particle start size (in percents)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleSize1()}\n              onChange={value => {\n                particleEmitterObject.setParticleSize1(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={<Trans>Particle end size (in percents)</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleSize2()}\n              onChange={value => {\n                particleEmitterObject.setParticleSize2(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={\n                <Trans>Particle minimum rotation speed (degrees/second)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleAngle1()}\n              onChange={value => {\n                particleEmitterObject.setParticleAngle1(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={\n                <Trans>Particle maximum rotation speed (degrees/second)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleAngle2()}\n              onChange={value => {\n                particleEmitterObject.setParticleAngle2(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\n\nimport * as React from 'react';\nimport PropertiesEditor from '../../PropertiesEditor';\nimport propertiesMapToSchema from '../../PropertiesEditor/PropertiesMapToSchema';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { type EditorProps } from './EditorProps.flow';\nimport { Column, Line } from '../../UI/Grid';\nimport { getExtraObjectsInformation } from '../../Hints';\nimport AlertMessage from '../../UI/AlertMessage';\n\ntype Props = EditorProps;\n\nexport default class ObjectPropertiesEditor extends React.Component<Props> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const properties = object.getProperties(project);\n\n    const propertiesSchema = propertiesMapToSchema(\n      properties,\n      object => object.getProperties(project),\n      (object, name, value) => object.updateProperty(name, value, project)\n    );\n\n    const extraInformation = getExtraObjectsInformation()[object.getType()];\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Column>\n            {propertiesSchema.length ? (\n              <React.Fragment>\n                {extraInformation ? (\n                  <Line>\n                    <Column noMargin>\n                      {extraInformation.map(({ kind, message }, index) => (\n                        <AlertMessage kind={kind} key={index}>\n                          {i18n._(message)}\n                        </AlertMessage>\n                      ))}\n                    </Column>\n                  </Line>\n                ) : null}\n                <PropertiesEditor\n                  schema={propertiesSchema}\n                  instances={[object]}\n                  project={project}\n                  resourceSources={resourceSources}\n                  onChooseResource={onChooseResource}\n                  resourceExternalEditors={resourceExternalEditors}\n                />\n              </React.Fragment>\n            ) : (\n              <EmptyMessage>\n                <Trans>\n                  There is nothing to configure for this object. You can still\n                  use events to interact with the object.\n                </Trans>\n              </EmptyMessage>\n            )}\n          </Column>\n        )}\n      </I18n>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport TextField from 'material-ui/TextField';\nimport Add from 'material-ui/svg-icons/content/add';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport IconButton from 'material-ui/IconButton';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport MiniToolbar from '../UI/MiniToolbar';\nimport HelpIcon from '../UI/HelpIcon';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport NewBehaviorDialog from './NewBehaviorDialog';\nimport { getBehaviorHelpPagePath } from './BehaviorsHelpPagePaths';\nimport BehaviorsEditorService from './BehaviorsEditorService';\nimport { isNullPtr } from '../Utils/IsNullPtr';\nconst gd = global.gd;\n\nconst styles = {\n  addBehaviorLine: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  addBehaviorText: {\n    justifyContent: 'flex-end',\n  },\n  behaviorTitle: {\n    flex: 1,\n  },\n  behaviorTools: {\n    flexShrink: 0,\n  },\n};\nconst AddBehaviorLine = ({ onAdd }) => (\n  <div style={styles.addBehaviorLine}>\n    <EmptyMessage style={styles.addBehaviorText}>\n      Click to add a behavior to the object:\n    </EmptyMessage>\n    <IconButton onClick={onAdd}>\n      <Add />\n    </IconButton>\n  </div>\n);\n\nexport default class BehaviorsEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { newBehaviorDialogOpen: false };\n  }\n\n  componentWillMount() {\n    this._loadFrom(this.props.object);\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (this.props.object !== newProps.object) {\n      this._loadFrom(newProps.object);\n    }\n  }\n\n  _loadFrom(object) {\n    if (!object) return;\n  }\n\n  chooseNewBehavior = () => {\n    this.setState({\n      newBehaviorDialogOpen: true,\n    });\n  };\n\n  _hasBehaviorWithType = type => {\n    const { object } = this.props;\n    const allBehaviorNames = object.getAllBehaviorNames().toJSArray();\n\n    return allBehaviorNames\n      .map(behaviorName => object.getBehavior(behaviorName))\n      .map(behavior => behavior.getTypeName())\n      .filter(behaviorType => behaviorType === type).length;\n  };\n\n  addBehavior = (type, defaultName) => {\n    const { object, project } = this.props;\n\n    this.setState(\n      {\n        newBehaviorDialogOpen: false,\n      },\n      () => {\n        if (this._hasBehaviorWithType(type)) {\n          //eslint-disable-next-line\n          const answer = confirm(\n            \"There is already a behavior of this type attached to the object. It's possible to add again this behavior but it's unusual and may not be always supported properly. Are you sure you want to add again this behavior?\"\n          );\n\n          if (!answer) return;\n        }\n\n        const name = newNameGenerator(defaultName, name =>\n          object.hasBehaviorNamed(name)\n        );\n        object.addNewBehavior(project, type, name);\n\n        this.forceUpdate();\n        if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n      }\n    );\n  };\n\n  _onChangeBehaviorName = (behaviorContent, newName) => {\n    // TODO: This is disabled for now as there is no proper refactoring\n    // of events after a behavior renaming. Once refactoring is available,\n    // the text field can be enabled again and refactoring calls added here\n    // (or in a parent).\n    // Renaming a behavior is something that is really rare anyway! :)\n\n    const { object } = this.props;\n    if (object.hasBehaviorNamed(newName)) return;\n\n    object.renameBehavior(behaviorContent.getName(), newName);\n    this.forceUpdate();\n  };\n\n  _onRemoveBehavior = behaviorName => {\n    const { object } = this.props;\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this behavior? This can't be undone.\"\n    );\n\n    if (answer) {\n      object.removeBehavior(behaviorName);\n      this.forceUpdate();\n      if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n    }\n  };\n\n  render() {\n    const { object, project } = this.props;\n    const allBehaviorNames = object.getAllBehaviorNames().toJSArray();\n\n    return (\n      <div>\n        {allBehaviorNames\n          .map((behaviorName, index) => {\n            const behaviorContent = object.getBehavior(behaviorName);\n            const behavior = gd.JsPlatform.get().getBehavior(\n              behaviorContent.getTypeName()\n            );\n            if (isNullPtr(gd, behavior)) {\n              return (\n                <div key={index}>\n                  <MiniToolbar>\n                    <span style={styles.behaviorTitle}>\n                      <Trans>Unknown behavior</Trans>{' '}\n                      <TextField value={behaviorName} disabled />\n                    </span>\n                    <span style={styles.behaviorTools}>\n                      <IconButton\n                        onClick={() => this._onRemoveBehavior(behaviorName)}\n                      >\n                        <Delete />\n                      </IconButton>\n                    </span>\n                  </MiniToolbar>\n                  <EmptyMessage>\n                    This behavior is unknown. It might be a behavior that was\n                    defined in an extension and that was later removed. You\n                    should delete it.\n                  </EmptyMessage>\n                </div>\n              );\n            }\n\n            const BehaviorComponent = BehaviorsEditorService.getEditor(\n              behaviorContent.getTypeName()\n            );\n\n            return (\n              <div key={index}>\n                <MiniToolbar>\n                  <span style={styles.behaviorTitle}>\n                    <Trans>Behavior</Trans>{' '}\n                    <TextField\n                      value={behaviorName}\n                      hintText={<Trans>Behavior name</Trans>}\n                      disabled\n                      onChange={(e, text) =>\n                        this._onChangeBehaviorName(behaviorContent, text)\n                      }\n                    />\n                  </span>\n                  <span style={styles.behaviorTools}>\n                    <IconButton\n                      onClick={() => this._onRemoveBehavior(behaviorName)}\n                    >\n                      <Delete />\n                    </IconButton>\n                    <HelpIcon\n                      helpPagePath={getBehaviorHelpPagePath(behavior)}\n                    />\n                  </span>\n                </MiniToolbar>\n                <BehaviorComponent\n                  behavior={behavior}\n                  behaviorContent={behaviorContent}\n                  project={project}\n                  resourceSources={this.props.resourceSources}\n                  onChooseResource={this.props.onChooseResource}\n                  resourceExternalEditors={this.props.resourceExternalEditors}\n                />\n              </div>\n            );\n          })\n          .concat(\n            <AddBehaviorLine\n              key=\"add-behavior-line\"\n              onAdd={this.chooseNewBehavior}\n            />\n          )}\n        {this.state.newBehaviorDialogOpen && (\n          <NewBehaviorDialog\n            open={this.state.newBehaviorDialogOpen}\n            objectType={object.getType()}\n            onClose={() => this.setState({ newBehaviorDialogOpen: false })}\n            onChoose={this.addBehavior}\n            project={project}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport React from 'react';\nimport HelpOutline from 'material-ui/svg-icons/action/help-outline';\nimport IconButton from 'material-ui/IconButton';\nimport { getHelpLink } from '../../Utils/HelpLink';\nimport Window from '../../Utils/Window';\n\ntype PropsType = {\n  helpPagePath: ?string,\n};\n\n/**\n * The icon that can be used in any dialog to open a help page\n */\nexport default (props: PropsType) => {\n  const { helpPagePath } = props;\n  if (!helpPagePath) return null;\n\n  return (\n    <IconButton\n      onClick={() => Window.openExternalURL(getHelpLink(helpPagePath))}\n    >\n      <HelpOutline />\n    </IconButton>\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport Subheader from 'material-ui/Subheader';\nimport Avatar from 'material-ui/Avatar';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport { List, ListItem } from 'material-ui/List';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\nimport Create from 'material-ui/svg-icons/content/create';\nimport { Line } from '../UI/Grid';\nimport { showMessageBox } from '../UI/Messages/MessageBox';\nimport { getDeprecatedBehaviorsInformation } from '../Hints';\nimport { getHelpLink } from '../Utils/HelpLink';\nimport {\n  type EnumeratedBehaviorMetadata,\n  enumerateBehaviorsMetadata,\n  filterEnumeratedBehaviorMetadata,\n} from './EnumerateBehaviorsMetadata';\nimport SearchBar from '../UI/SearchBar';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport ExtensionsSearch from '../ExtensionsSearch';\nimport Window from '../Utils/Window';\n\nconst styles = {\n  icon: { borderRadius: 0 },\n  disabledItem: { opacity: 0.6 },\n};\n\nconst BehaviorListItem = ({\n  behaviorMetadata,\n  onClick,\n  disabled,\n}: {|\n  behaviorMetadata: EnumeratedBehaviorMetadata,\n  onClick: () => void,\n  disabled: boolean,\n|}) => (\n  <ListItem\n    leftAvatar={\n      <Avatar src={behaviorMetadata.iconFilename} style={styles.icon} />\n    }\n    key={behaviorMetadata.type}\n    primaryText={behaviorMetadata.fullName}\n    secondaryText={<p>{behaviorMetadata.description}</p>}\n    secondaryTextLines={2}\n    onClick={onClick}\n    style={disabled ? styles.disabledItem : undefined}\n    disabled={disabled}\n  />\n);\n\ntype TabName = 'installed' | 'search';\n\ntype Props = {|\n  project: gdProject,\n  objectType: string,\n  open: boolean,\n  onClose: () => void,\n  onChoose: (type: string, defaultName: string) => void,\n|};\ntype State = {|\n  behaviorMetadata: Array<EnumeratedBehaviorMetadata>,\n  showDeprecated: boolean,\n  searchText: string,\n  currentTab: TabName,\n|};\n\nexport default class NewBehaviorDialog extends Component<Props, State> {\n  state = {\n    ...this._loadFrom(this.props.project),\n    showDeprecated: false,\n    searchText: '',\n    currentTab: 'installed',\n  };\n  _searchBar = React.createRef<SearchBar>();\n\n  componentDidMount() {\n    setTimeout(() => {\n      if (this._searchBar.current) this._searchBar.current.focus();\n    }, 20 /* Be sure that the search bar is shown */);\n  }\n\n  _loadFrom(\n    project: gdProject\n  ): {| behaviorMetadata: Array<EnumeratedBehaviorMetadata> |} {\n    const platform = project.getCurrentPlatform();\n    return {\n      behaviorMetadata:\n        project && platform\n          ? enumerateBehaviorsMetadata(platform, project)\n          : [],\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.project !== newProps.project)\n    ) {\n      this.setState(this._loadFrom(newProps.project));\n    }\n  }\n\n  _showDeprecated = (showDeprecated: boolean = true) => {\n    this.setState({\n      showDeprecated,\n    });\n  };\n\n  _onNewExtensionInstalled = () => {\n    // Reload behaviors\n    this.setState(this._loadFrom(this.props.project), () => {\n      this._changeTab('installed');\n    });\n  };\n\n  _changeTab = (newTab: TabName) =>\n    this.setState({\n      currentTab: newTab,\n    });\n\n  render() {\n    const { project, open, onClose, objectType } = this.props;\n    const {\n      showDeprecated,\n      behaviorMetadata,\n      searchText,\n      currentTab,\n    } = this.state;\n    if (!open || !project) return null;\n\n    const deprecatedBehaviorsInformation = getDeprecatedBehaviorsInformation();\n\n    const filteredBehaviorMetadata = filterEnumeratedBehaviorMetadata(\n      behaviorMetadata,\n      searchText\n    );\n    const behaviors = filteredBehaviorMetadata.filter(\n      ({ type }) => !deprecatedBehaviorsInformation[type]\n    );\n    const deprecatedBehaviors = filteredBehaviorMetadata.filter(\n      ({ type }) => !!deprecatedBehaviorsInformation[type]\n    );\n\n    const chooseBehavior = (\n      i18n: I18nType,\n      { type, defaultName }: EnumeratedBehaviorMetadata\n    ) => {\n      if (deprecatedBehaviorsInformation[type]) {\n        showMessageBox(i18n._(deprecatedBehaviorsInformation[type].warning));\n      }\n\n      return this.props.onChoose(type, defaultName);\n    };\n\n    const canBehaviorBeUsed = (\n      behaviorMetadata: EnumeratedBehaviorMetadata\n    ) => {\n      // An empty object type means the base object, i.e: any object.\n      return (\n        behaviorMetadata.objectType === '' ||\n        behaviorMetadata.objectType === objectType\n      );\n    };\n\n    const hasSearchNoResult =\n      !!searchText && !behaviors.length && !deprecatedBehaviors.length;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Dialog\n            title={<Trans>Add a new behavior to the object</Trans>}\n            actions={[\n              <FlatButton\n                key=\"close\"\n                label={<Trans>Close</Trans>}\n                primary={false}\n                onClick={onClose}\n              />,\n            ]}\n            secondaryActions={<HelpButton helpPagePath=\"/behaviors\" />}\n            open={open}\n            noMargin\n            autoScrollBodyContent\n          >\n            <Tabs value={currentTab} onChange={this._changeTab}>\n              <Tab label={<Trans>Installed Behaviors</Trans>} value=\"installed\">\n                <SearchBar\n                  value={searchText}\n                  onRequestSearch={() => {\n                    if (behaviors.length) {\n                      chooseBehavior(i18n, behaviors[0]);\n                    } else if (showDeprecated && deprecatedBehaviors.length) {\n                      chooseBehavior(i18n, deprecatedBehaviors[0]);\n                    }\n                  }}\n                  onChange={text =>\n                    this.setState({\n                      searchText: text,\n                    })\n                  }\n                  ref={this._searchBar}\n                />\n                {hasSearchNoResult && (\n                  <EmptyMessage>\n                    <Trans>\n                      No behavior found for your search. Try another search, or\n                      search for new behaviors to install.\n                    </Trans>\n                  </EmptyMessage>\n                )}\n                <List>\n                  {behaviors.map((behaviorMetadata, index) => (\n                    <BehaviorListItem\n                      key={index}\n                      behaviorMetadata={behaviorMetadata}\n                      onClick={() => chooseBehavior(i18n, behaviorMetadata)}\n                      disabled={!canBehaviorBeUsed(behaviorMetadata)}\n                    />\n                  ))}\n                  {showDeprecated && !!deprecatedBehaviors.length && (\n                    <Subheader>\n                      Deprecated (old, prefer not to use anymore)\n                    </Subheader>\n                  )}\n                  {showDeprecated &&\n                    deprecatedBehaviors.map((behaviorMetadata, index) => (\n                      <BehaviorListItem\n                        key={index}\n                        behaviorMetadata={behaviorMetadata}\n                        onClick={() => chooseBehavior(i18n, behaviorMetadata)}\n                        disabled={!canBehaviorBeUsed(behaviorMetadata)}\n                      />\n                    ))}\n                </List>\n                <Line justifyContent=\"center\" alignItems=\"center\">\n                  {!showDeprecated ? (\n                    <FlatButton\n                      key=\"toggle-experimental\"\n                      icon={<Visibility />}\n                      primary={false}\n                      onClick={() => this._showDeprecated(true)}\n                      label={<Trans>Show deprecated (old) behaviors</Trans>}\n                    />\n                  ) : (\n                    <FlatButton\n                      key=\"toggle-experimental\"\n                      icon={<VisibilityOff />}\n                      primary={false}\n                      onClick={() => this._showDeprecated(false)}\n                      label={<Trans>Show deprecated (old) behaviors</Trans>}\n                    />\n                  )}\n                </Line>\n                <Line justifyContent=\"center\" alignItems=\"center\">\n                  <FlatButton\n                    icon={<Create />}\n                    primary={false}\n                    onClick={() =>\n                      Window.openExternalURL(\n                        getHelpLink('/behaviors/events-based-behaviors')\n                      )\n                    }\n                    label={<Trans>Create your own behavior</Trans>}\n                  />\n                </Line>\n              </Tab>\n              <Tab label={<Trans>Search New Behaviors</Trans>} value=\"search\">\n                <ExtensionsSearch\n                  project={project}\n                  onNewExtensionInstalled={this._onNewExtensionInstalled}\n                  showOnlyWithBehaviors\n                />\n              </Tab>\n            </Tabs>\n          </Dialog>\n        )}\n      </I18n>\n    );\n  }\n}\n","/**\n * Return the help page for the given behavior\n * @param {*} behavior\n */\nexport const getBehaviorHelpPagePath = behavior => {\n  if (!behavior) return null;\n\n  switch (behavior.getTypeName()) {\n    case 'DraggableBehavior::Draggable':\n      return '/behaviors/draggable';\n    case 'PlatformBehavior::PlatformerObjectBehavior':\n      return '/behaviors/platformer';\n    case 'PlatformBehavior::PlatformBehavior':\n      return '/behaviors/platformer';\n    default:\n      return '';\n  }\n};\n","// @flow\nconst gd = global.gd;\n\nexport default class InstancesSelection {\n  selection: Array<gdInitialInstance> = [];\n\n  hasSelectedInstances() {\n    return !!this.getSelectedInstances().length;\n  }\n\n  getSelectedInstances() {\n    return this.selection;\n  }\n\n  isInstanceSelected(instance: gdInitialInstance) {\n    for (var i = 0; i < this.selection.length; i++) {\n      if (gd.compare(this.selection[i], instance)) return true;\n    }\n\n    return false;\n  }\n\n  clearSelection() {\n    this.selection.length = 0;\n  }\n\n  selectInstance(\n    instance: gdInitialInstance,\n    multiselect: boolean,\n    layersVisibility: ?{ [string]: boolean } = null\n  ) {\n    if (this.isInstanceSelected(instance)) {\n      if (multiselect) this.unselectInstance(instance);\n\n      return;\n    }\n\n    if (!multiselect) this.clearSelection();\n\n    if (!layersVisibility || layersVisibility[instance.getLayer()]) {\n      this.selection.push(instance);\n    }\n  }\n\n  selectInstances(\n    instances: Array<gdInitialInstance>,\n    multiselect: boolean,\n    layersVisibility: ?{ [string]: boolean } = null\n  ) {\n    if (!multiselect) this.clearSelection();\n\n    instances.forEach(instance =>\n      this.selectInstance(instance, true, layersVisibility)\n    );\n  }\n\n  unselectInstance(instance: gdInitialInstance) {\n    if (this.isInstanceSelected(instance)) {\n      var i = this.selection.length - 1;\n      while (i >= -1 && this.selection[i].ptr !== instance.ptr) {\n        --i;\n      }\n\n      this.selection.splice(i, 1);\n    }\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport TextField from 'material-ui/TextField';\nimport Dialog from '../UI/Dialog';\n\nexport default class SetupGridDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...props.gridOptions };\n  }\n\n  _onApply = () => {\n    this.props.onApply({\n      gridWidth: this.state.gridWidth,\n      gridHeight: this.state.gridHeight,\n      gridOffsetX: this.state.gridOffsetX,\n      gridOffsetY: this.state.gridOffsetY,\n    });\n  };\n\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={this.props.onCancel}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={this._onApply}\n      />,\n    ];\n\n    return (\n      <Dialog\n        actions={actions}\n        open={this.props.open}\n        onRequestClose={this.props.onCancel}\n        autoScrollBodyContent={true}\n      >\n        <TextField\n          floatingLabelText={<Trans>Cell width (in pixels)</Trans>}\n          type=\"number\"\n          value={this.state.gridWidth}\n          onChange={(e, value) =>\n            this.setState({ gridWidth: parseInt(value, 10) })\n          }\n        />\n        <TextField\n          floatingLabelText={<Trans>Cell height (in pixels)</Trans>}\n          type=\"number\"\n          value={this.state.gridHeight}\n          onChange={(e, value) =>\n            this.setState({ gridHeight: parseInt(value, 10) })\n          }\n        />\n        <TextField\n          floatingLabelText={<Trans>X offset (in pixels)</Trans>}\n          type=\"number\"\n          value={this.state.gridOffsetX}\n          onChange={(e, value) =>\n            this.setState({ gridOffsetX: parseInt(value, 10) })\n          }\n        />\n        <TextField\n          floatingLabelText={<Trans>Y offset (in pixels)</Trans>}\n          type=\"number\"\n          value={this.state.gridOffsetY}\n          onChange={(e, value) =>\n            this.setState({ gridOffsetY: parseInt(value, 10) })\n          }\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport TextField from 'material-ui/TextField';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Dialog from '../UI/Dialog';\nimport ColorField from '../UI/ColorField';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport PropertiesEditor from '../PropertiesEditor';\nimport propertiesMapToSchema from '../PropertiesEditor/PropertiesMapToSchema';\nimport some from 'lodash/some';\nimport Checkbox from 'material-ui/Checkbox';\nimport { isNullPtr } from '../Utils/IsNullPtr';\nconst gd = global.gd;\n\ntype Props = {|\n  open: boolean,\n  layout: gdLayout,\n  project: gdProject,\n  onApply?: () => void,\n  onClose: () => void,\n  onOpenMoreSettings: () => void,\n  onEditVariables: () => void,\n|};\n\ntype State = {|\n  windowTitle: string,\n  shouldStopSoundsOnStartup: boolean,\n  backgroundColor: {\n    r: number,\n    g: number,\n    b: number,\n    a: number,\n  },\n|};\n\nexport default class ScenePropertiesDialog extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = this._loadFrom(props.layout);\n  }\n\n  _loadFrom(layout: gdLayout): State {\n    return {\n      windowTitle: layout.getWindowDefaultTitle(),\n      shouldStopSoundsOnStartup: layout.stopSoundsOnStartup(),\n      backgroundColor: {\n        r: layout.getBackgroundColorRed(),\n        g: layout.getBackgroundColorGreen(),\n        b: layout.getBackgroundColorBlue(),\n        a: 1,\n      },\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.layout !== newProps.layout)\n    ) {\n      this.setState(this._loadFrom(newProps.layout));\n    }\n  }\n\n  _onApply = () => {\n    this.props.layout.setWindowDefaultTitle(this.state.windowTitle);\n    this.props.layout.setStopSoundsOnStartup(\n      this.state.shouldStopSoundsOnStartup\n    );\n    this.props.layout.setBackgroundColor(\n      this.state.backgroundColor.r,\n      this.state.backgroundColor.g,\n      this.state.backgroundColor.b\n    );\n    if (this.props.onApply) this.props.onApply();\n  };\n\n  render() {\n    const { layout, project } = this.props;\n    const actions = [\n      // TODO: Add support for cancelling modifications made to BehaviorSharedData\n      // (either by enhancing a function like propertiesMapToSchema or using copies)\n      // and then re-enable cancel button.\n      // <FlatButton\n      //   label={<Trans>Cancel</Trans>}\n      //   primary={false}\n      //   onClick={this.props.onClose}\n      // />,\n      <FlatButton\n        label={<Trans>Ok</Trans>}\n        key=\"ok\"\n        primary={true}\n        keyboardFocused={true}\n        onClick={this._onApply}\n      />,\n    ];\n\n    const allBehaviorSharedDataNames = layout\n      .getAllBehaviorSharedDataNames()\n      .toJSArray();\n\n    const propertiesEditors = allBehaviorSharedDataNames\n      .map(name => {\n        const sharedDataContent = layout.getBehaviorSharedData(name);\n        const type = sharedDataContent.getTypeName();\n\n        const behaviorSharedData = gd.JsPlatform.get().getBehaviorSharedDatas(\n          type\n        );\n        if (isNullPtr(gd, behaviorSharedData)) return null;\n\n        const properties = behaviorSharedData.getProperties(\n          sharedDataContent.getContent(),\n          project\n        );\n        const propertiesSchema = propertiesMapToSchema(\n          properties,\n          sharedDataContent =>\n            behaviorSharedData.getProperties(\n              sharedDataContent.getContent(),\n              project\n            ),\n          (sharedDataContent, name, value) =>\n            behaviorSharedData.updateProperty(\n              sharedDataContent.getContent(),\n              name,\n              value,\n              project\n            )\n        );\n\n        return (\n          !!propertiesSchema.length && (\n            <PropertiesEditor\n              key={name}\n              schema={propertiesSchema}\n              instances={[sharedDataContent]}\n            />\n          )\n        );\n      })\n      .filter(Boolean);\n\n    return (\n      <Dialog\n        actions={actions}\n        open={this.props.open}\n        onRequestClose={this.props.onClose}\n        autoScrollBodyContent={true}\n        contentStyle={{ width: '350px' }}\n      >\n        <TextField\n          floatingLabelText={<Trans>Window title</Trans>}\n          fullWidth\n          type=\"text\"\n          value={this.state.windowTitle}\n          onChange={(e, value) => this.setState({ windowTitle: value })}\n        />\n        <Checkbox\n          checked={this.state.shouldStopSoundsOnStartup}\n          label={<Trans>Stop musics and sounds on startup</Trans>}\n          onCheck={(e, check) =>\n            this.setState({\n              shouldStopSoundsOnStartup: check,\n            })\n          }\n        />\n        <ColorField\n          floatingLabelText={<Trans>Scene background color</Trans>}\n          fullWidth\n          disableAlpha\n          color={this.state.backgroundColor}\n          onChangeComplete={color =>\n            this.setState({ backgroundColor: color.rgb })\n          }\n        />\n        <RaisedButton\n          label={<Trans>Edit scene variables</Trans>}\n          fullWidth\n          onClick={() => {\n            this.props.onEditVariables();\n            this.props.onClose();\n          }}\n        />\n        {!some(propertiesEditors) && (\n          <EmptyMessage>\n            <Trans>\n              Any additional properties will appear here if you add behaviors to\n              objects, like Physics behavior.\n            </Trans>\n          </EmptyMessage>\n        )}\n        {propertiesEditors}\n        {this.props.onOpenMoreSettings && (\n          <RaisedButton\n            label={<Trans>Open advanced settings</Trans>}\n            fullWidth\n            onClick={() => {\n              this.props.onOpenMoreSettings();\n              this.props.onClose();\n            }}\n          />\n        )}\n      </Dialog>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport IconMenu from '../UI/Menu/IconMenu';\n\nconst t = str => str; //TODO\n\nexport class Toolbar extends PureComponent {\n  render() {\n    return (\n      <ToolbarGroup lastChild>\n        {this.props.showPreviewButton && (\n          <ToolbarIcon\n            onClick={this.props.onPreview}\n            src=\"res/ribbon_default/preview32.png\"\n            tooltip={t('Launch a preview of the scene')}\n          />\n        )}\n        {this.props.showNetworkPreviewButton && (\n          <IconMenu\n            iconButtonElement={\n              <ToolbarIcon\n                src=\"res/ribbon_default/bug32.png\"\n                tooltip={t(\n                  'Advanced preview options (debugger, network preview...)'\n                )}\n              />\n            }\n            buildMenuTemplate={() => [\n              {\n                label: 'Network preview (Preview over WiFi/LAN)',\n                click: () => this.props.onNetworkPreview(),\n              },\n              { type: 'separator' },\n              {\n                label: 'Preview with debugger and performance profiler',\n                click: () => this.props.onOpenDebugger(),\n              },\n            ]}\n          />\n        )}\n        {this.props.showPreviewButton && <ToolbarSeparator />}\n        {this.props.showObjectsList && (\n          <ToolbarIcon\n            onClick={this.props.openObjectsList}\n            src=\"res/ribbon_default/objects64.png\"\n            tooltip={t('Open the objects editor')}\n          />\n        )}\n        {this.props.showObjectsList && (\n          <ToolbarIcon\n            onClick={this.props.openObjectGroupsList}\n            src={'res/ribbon_default/objectsgroups64.png'}\n            tooltip={t('Open the objects groups editor')}\n          />\n        )}\n        <ToolbarIcon\n          onClick={this.props.openProperties}\n          src=\"res/ribbon_default/editprop32.png\"\n          tooltip={t('Open the properties panel')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.undo}\n          src=\"res/ribbon_default/undo32.png\"\n          disabled={!this.props.canUndo}\n          tooltip={t('Undo the last changes')}\n        />\n        <ToolbarIcon\n          onClick={this.props.redo}\n          src=\"res/ribbon_default/redo32.png\"\n          disabled={!this.props.canRedo}\n          tooltip={t('Redo the last changes')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.deleteSelection}\n          src=\"res/ribbon_default/deleteselected32.png\"\n          disabled={\n            !this.props.instancesSelection.getSelectedInstances().length\n          }\n          tooltip={t('Delete the selected instances from the scene')}\n        />\n        <ToolbarIcon\n          onClick={this.props.toggleInstancesList}\n          src=\"res/ribbon_default/ObjectsPositionsList32.png\"\n          tooltip={t('Open the list of instances')}\n        />\n        <ToolbarIcon\n          onClick={this.props.toggleLayersList}\n          src=\"res/ribbon_default/layers32.png\"\n          tooltip={t('Open the layers editor')}\n        />\n        <ToolbarSeparator />\n        <IconMenu\n          iconButtonElement={\n            <ToolbarIcon\n              src=\"res/ribbon_default/grid32.png\"\n              tooltip={t('Toggle/edit grid')}\n            />\n          }\n          buildMenuTemplate={() => [\n            {\n              type: 'checkbox',\n              label: 'Show Mask',\n              checked: this.props.isWindowMaskShown(),\n              click: () => this.props.toggleWindowMask(),\n            },\n            {\n              type: 'checkbox',\n              label: 'Show grid',\n              checked: this.props.isGridShown(),\n              click: () => this.props.toggleGrid(),\n            },\n            { type: 'separator' },\n            {\n              label: 'Setup grid',\n              click: () => this.props.openSetupGrid(),\n            },\n          ]}\n        />\n        <IconMenu\n          iconButtonElement={\n            <ToolbarIcon\n              src=\"res/ribbon_default/zoom32.png\"\n              tooltip={t('Change editor zoom')}\n            />\n          }\n          buildMenuTemplate={() => [\n            {\n              label: 'Zoom in',\n              click: this.props.zoomIn,\n              accelerator: 'CmdOrCtrl++',\n            },\n            {\n              label: 'Zoom out',\n              click: this.props.zoomOut,\n              accelerator: 'CmdOrCtrl+-',\n            },\n            {\n              label: 'Center View',\n              click: () => this.props.centerView(),\n            },\n            { type: 'separator' },\n            { label: '5%', click: () => this.props.setZoomFactor(0.05) },\n            { label: '10%', click: () => this.props.setZoomFactor(0.1) },\n            { label: '25%', click: () => this.props.setZoomFactor(0.25) },\n            { label: '50%', click: () => this.props.setZoomFactor(0.5) },\n            { label: '100%', click: () => this.props.setZoomFactor(1.0) },\n            { label: '150%', click: () => this.props.setZoomFactor(1.5) },\n            { label: '200%', click: () => this.props.setZoomFactor(2.0) },\n            { label: '400%', click: () => this.props.setZoomFactor(4.0) },\n          ]}\n        />\n      </ToolbarGroup>\n    );\n  }\n}\n\nexport default Toolbar;\n","import React, { Component } from 'react';\nimport Measure from 'react-measure';\n\nconst styles = {\n  flexContainer: { display: 'flex', flex: 1, position: 'relative' },\n  absoluteContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflowY: 'hidden',\n  },\n};\n\n/**\n * Take a component and pass the maximum size that the component can take\n * as width and height props.\n * @param {*} WrappedComponent\n * @param {*} options\n */\nexport const passFullSize = (WrappedComponent, { useFlex }) => {\n  return class FullSizeMeasurer extends Component {\n    state = {\n      width: undefined,\n      height: undefined,\n    };\n\n    render() {\n      const { wrappedComponentRef, ...otherProps } = this.props;\n\n      return (\n        <Measure\n          onMeasure={({ width, height }) => this.setState({ width, height })}\n        >\n          <div\n            style={useFlex ? styles.flexContainer : styles.absoluteContainer}\n          >\n            {this.state.width !== undefined &&\n              this.state.height !== undefined && (\n                <WrappedComponent\n                  width={this.state.width}\n                  height={this.state.height}\n                  ref={ref => wrappedComponentRef && wrappedComponentRef(ref)}\n                  {...otherProps}\n                />\n              )}\n          </div>\n        </Measure>\n      );\n    }\n  };\n};\n","// @flow\nimport React, { Component } from 'react';\nimport Slider from 'material-ui/Slider';\nimport ViewPosition from './ViewPosition';\nimport throttle from 'lodash/throttle';\n\nconst MATERIAL_UI_SLIDER_WIDTH = 18;\n\nconst styles = {\n  container: {\n    overflow: 'hidden',\n  },\n  xScrollbar: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n  },\n  xSliderStyle: {\n    marginTop: -MATERIAL_UI_SLIDER_WIDTH / 2 + 1,\n    marginBottom: 0,\n  },\n  yScrollbar: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n  },\n  ySliderStyle: {\n    marginTop: 0,\n    marginLeft: -MATERIAL_UI_SLIDER_WIDTH / 2,\n  },\n};\n\ntype ScrollableComponent = {\n  scrollTo: (number, number) => void,\n  getViewPosition: () => ?ViewPosition,\n};\n\ntype Props = {\n  wrappedEditorRef: ?(?ScrollableComponent) => void,\n};\n\ntype State = {\n  xValue: number,\n  yValue: number,\n  xMin: number,\n  xMax: number,\n  yMin: number,\n  yMax: number,\n};\n\n/**\n * Add scrollbars that track the viewPosition of the wrapped component\n * @param {*} WrappedComponent\n * @param {*} options\n */\nexport const addScrollbars = (WrappedComponent: any) => {\n  return class ScrollbarContainer extends Component<Props, State> {\n    _editor: ?ScrollableComponent = null;\n\n    state: State = {\n      xValue: 0,\n      yValue: 0,\n      xMin: -5000,\n      xMax: +5000,\n      yMin: -5000,\n      yMax: +5000,\n    };\n\n    componentDidMount() {\n      if (this._editor) {\n        this._handleViewPositionChange(this._editor.getViewPosition());\n      }\n    }\n\n    _handleXChange = (e: any, value: number) => {\n      this.setState(\n        {\n          xValue: value,\n        },\n        () => {\n          if (this._editor) {\n            this._editor.scrollTo(this.state.xValue, this.state.yValue);\n          }\n        }\n      );\n    };\n\n    _handleYChange = (e: any, value: number) => {\n      this.setState(\n        {\n          yValue: value,\n        },\n        () => {\n          if (this._editor) {\n            this._editor.scrollTo(this.state.xValue, this.state.yValue);\n          }\n        }\n      );\n    };\n\n    _setAndAdjust = ({\n      xValue,\n      yValue,\n    }: {\n      xValue: number,\n      yValue: number,\n    }) => {\n      const xMax = Math.max(Math.abs(xValue) + 100, this.state.xMax);\n      const yMax = Math.max(Math.abs(yValue) + 100, this.state.yMax);\n\n      this.setState({\n        xMax,\n        yMax,\n        xMin: -xMax,\n        yMin: -yMax,\n        xValue,\n        yValue,\n      });\n    };\n\n    _handleViewPositionChange = throttle(\n      (viewPosition: ?ViewPosition) => {\n        if (!viewPosition) return;\n\n        this._setAndAdjust({\n          xValue: viewPosition.getViewX(),\n          yValue: viewPosition.getViewY(),\n        });\n      },\n      500, // Throttle the updates after a scroll to avoid make lots of updates in a row that would kill CPU\n      { leading: false, trailing: true }\n    );\n\n    render() {\n      const { wrappedEditorRef, ...otherProps } = this.props;\n\n      return (\n        <div style={styles.container}>\n          <WrappedComponent\n            onViewPositionChanged={this._handleViewPositionChange}\n            ref={(editorRef: ?ScrollableComponent) => {\n              wrappedEditorRef && wrappedEditorRef(editorRef);\n              this._editor = editorRef;\n            }}\n            {...otherProps}\n          />\n          <Slider\n            value={this.state.xValue}\n            min={this.state.xMin}\n            max={this.state.xMax}\n            onChange={this._handleXChange}\n            style={styles.xScrollbar}\n            sliderStyle={styles.xSliderStyle}\n            axis=\"x\"\n          />\n          <Slider\n            value={this.state.yValue}\n            min={this.state.yMin}\n            max={this.state.yMax}\n            onChange={this._handleYChange}\n            style={styles.yScrollbar}\n            sliderStyle={styles.ySliderStyle}\n            axis=\"y-reverse\"\n          />\n        </div>\n      );\n    }\n  };\n};\n","// @flow\nimport React, { Component } from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport FilterList from 'material-ui/svg-icons/content/filter-list';\nimport IconMenu from '../Menu/IconMenu';\n\nconst styles = {\n  container: {\n    padding: 0,\n    width: 32,\n    height: 32,\n  },\n};\n\ntype Props = {\n  buildMenuTemplate: () => Array<any>,\n};\n\nexport default class TagsButton extends Component<Props, {||}> {\n  render() {\n    return (\n      <IconMenu\n        iconButtonElement={\n          <IconButton style={styles.container}>\n            <FilterList color=\"white\" />\n          </IconButton>\n        }\n        buildMenuTemplate={this.props.buildMenuTemplate}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { AutoSizer } from 'react-virtualized';\nimport SortableVirtualizedItemList from '../UI/SortableVirtualizedItemList';\nimport Background from '../UI/Background';\nimport SearchBar from '../UI/SearchBar';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { filterResourcesList } from './EnumerateResources';\nimport optionalRequire from '../Utils/OptionalRequire.js';\nimport {\n  createOrUpdateResource,\n  getLocalResourceFullPath,\n  getResourceFilePathStatus,\n  RESOURCE_EXTENSIONS,\n} from './ResourceUtils.js';\nimport { type ResourceKind } from './ResourceSource.flow';\n\nconst path = optionalRequire('path');\nconst glob = optionalRequire('glob');\nconst electron = optionalRequire('electron');\nconst hasElectron = electron ? true : false;\n\nconst gd = global.gd;\n\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\ntype State = {|\n  renamedResource: ?gdResource,\n  searchText: string,\n  resourcesWithErrors: { [string]: '' | 'error' | 'warning' },\n|};\n\ntype Props = {|\n  project: gdProject,\n  selectedResource: ?gdResource,\n  onSelectResource: (resource: gdResource) => void,\n  onDeleteResource: (resource: gdResource) => void,\n  onRenameResource: (\n    resource: gdResource,\n    newName: string,\n    cb: (boolean) => void\n  ) => void,\n|};\n\nexport default class ResourcesList extends React.Component<Props, State> {\n  sortableList: any;\n  state: State = {\n    renamedResource: null,\n    searchText: '',\n    resourcesWithErrors: {},\n  };\n\n  shouldComponentUpdate(nextProps: Props, nextState: State) {\n    // The component is costly to render, so avoid any re-rendering as much\n    // as possible.\n    // We make the assumption that no changes to resources list is made outside\n    // from the component.\n    // If a change is made, the component won't notice it: you have to manually\n    // call forceUpdate.\n\n    if (\n      this.state.renamedResource !== nextState.renamedResource ||\n      this.state.searchText !== nextState.searchText\n    )\n      return true;\n\n    if (\n      this.props.project !== nextProps.project ||\n      this.props.selectedResource !== nextProps.selectedResource\n    )\n      return true;\n\n    return false;\n  }\n\n  _deleteResource = (resource: gdResource) => {\n    this.props.onDeleteResource(resource);\n  };\n\n  _locateResourceFile = (resource: gdResource) => {\n    const resourceFolderPath = path.dirname(\n      getLocalResourceFullPath(this.props.project, resource.getName())\n    );\n    electron.shell.openItem(resourceFolderPath);\n  };\n\n  _openResourceFile = (resource: gdResource) => {\n    const resourceFilePath = getLocalResourceFullPath(\n      this.props.project,\n      resource.getName()\n    );\n    electron.shell.openItem(resourceFilePath);\n  };\n\n  _copyResourceFilePath = (resource: gdResource) => {\n    const resourceFilePath = getLocalResourceFullPath(\n      this.props.project,\n      resource.getName()\n    );\n    electron.clipboard.writeText(resourceFilePath);\n  };\n\n  _scanForNewResources = (\n    extensions: string,\n    createResource: () => gdResource\n  ) => {\n    const project = this.props.project;\n    const resourcesManager = project.getResourcesManager();\n    const projectPath = path.dirname(project.getProjectFile());\n\n    const getDirectories = (src, callback) => {\n      glob(src + '/**/*.{' + extensions + '}', callback);\n    };\n    getDirectories(projectPath, (err, res) => {\n      if (err) {\n        console.error('Error loading ', err);\n      } else {\n        res.forEach(pathFound => {\n          const fileName = path.relative(projectPath, pathFound);\n          if (!resourcesManager.hasResource(fileName)) {\n            createOrUpdateResource(project, createResource(), fileName);\n            console.info(`${fileName} added to project.`);\n          }\n        });\n      }\n      this.forceUpdate();\n    });\n  };\n\n  _removeUnusedResources = (resourceType: ResourceKind) => {\n    const { project } = this.props;\n    gd.ProjectResourcesAdder.getAllUseless(project, resourceType)\n      .toJSArray()\n      .forEach(resourceName => {\n        console.info(\n          `Removing unused` + resourceType + ` resource: ${resourceName}`\n        );\n      });\n    gd.ProjectResourcesAdder.removeAllUseless(project, resourceType);\n    this.forceUpdate();\n  };\n\n  _removeAllResourcesWithInvalidPath = () => {\n    const { project } = this.props;\n    const resourcesManager = project.getResourcesManager();\n    resourcesManager\n      .getAllResourceNames()\n      .toJSArray()\n      .forEach(resourceName => {\n        if (getResourceFilePathStatus(project, resourceName) === 'error') {\n          resourcesManager.removeResource(resourceName);\n          console.info('Removed due to invalid path: ' + resourceName);\n        }\n      });\n    this.forceUpdate();\n  };\n\n  _editName = (resource: ?gdResource) => {\n    this.setState(\n      {\n        renamedResource: resource,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _rename = (resource: gdResource, newName: string) => {\n    const { project } = this.props;\n    this.setState({\n      renamedResource: null,\n    });\n\n    if (resource.getName() === newName) return;\n\n    if (project.getResourcesManager().hasResource(newName)) {\n      showWarningBox('Another resource with this name already exists');\n      return;\n    }\n\n    // eslint-disable-next-line\n    const answer = confirm(\n      'Are you sure you want to rename this resource? \\nGame objects using the old name will no longer be able to find it!'\n    );\n    if (!answer) return;\n\n    this.props.onRenameResource(resource, newName, doRename => {\n      if (!doRename) return;\n      resource.setName(newName);\n      this.forceUpdate();\n    });\n  };\n\n  _move = (oldIndex: number, newIndex: number) => {\n    const { project } = this.props;\n\n    project.getResourcesManager().moveResource(oldIndex, newIndex);\n    this.forceUpdateList();\n  };\n\n  forceUpdateList = () => {\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  _renderResourceMenuTemplate = (resource: gdResource, _index: number) => {\n    return [\n      {\n        label: 'Rename',\n        click: () => this._editName(resource),\n      },\n      {\n        label: 'Remove',\n        click: () => this._deleteResource(resource),\n      },\n      { type: 'separator' },\n      {\n        label: 'Open File',\n        click: () => this._openResourceFile(resource),\n        enabled: hasElectron,\n      },\n      {\n        label: 'Locate File',\n        click: () => this._locateResourceFile(resource),\n        enabled: hasElectron,\n      },\n      {\n        label: 'Copy File Path',\n        click: () => this._copyResourceFilePath(resource),\n        enabled: hasElectron,\n      },\n      { type: 'separator' },\n      {\n        label: 'Scan for Images',\n        click: () => {\n          this._scanForNewResources(\n            RESOURCE_EXTENSIONS.image,\n            () => new gd.ImageResource()\n          );\n        },\n        enabled: hasElectron,\n      },\n      {\n        label: 'Scan for Audio',\n        click: () => {\n          this._scanForNewResources(\n            RESOURCE_EXTENSIONS.audio,\n            () => new gd.AudioResource()\n          );\n        },\n        enabled: hasElectron,\n      },\n      {\n        label: 'Scan for Fonts',\n        click: () => {\n          this._scanForNewResources(\n            RESOURCE_EXTENSIONS.font,\n            () => new gd.FontResource()\n          );\n        },\n        enabled: hasElectron,\n      },\n      {\n        label: 'Scan for Videos',\n        click: () => {\n          this._scanForNewResources(\n            RESOURCE_EXTENSIONS.video,\n            () => new gd.VideoResource()\n          );\n        },\n        enabled: hasElectron,\n      },\n      { type: 'separator' },\n      {\n        label: 'Remove Unused Images',\n        click: () => {\n          this._removeUnusedResources('image');\n        },\n      },\n      {\n        label: 'Remove Unused Audio',\n        click: () => {\n          this._removeUnusedResources('audio');\n        },\n      },\n      {\n        label: 'Remove Unused Fonts',\n        click: () => {\n          this._removeUnusedResources('font');\n        },\n      },\n      {\n        label: 'Remove Resources with Invalid Path',\n        click: () => {\n          this._removeAllResourcesWithInvalidPath();\n        },\n        enabled: hasElectron,\n      },\n    ];\n  };\n\n  checkMissingPaths = () => {\n    const { project } = this.props;\n    const resourcesManager = project.getResourcesManager();\n    const resourceNames = resourcesManager.getAllResourceNames().toJSArray();\n    const resourcesWithErrors = {};\n    resourceNames.forEach(resourceName => {\n      resourcesWithErrors[resourceName] = getResourceFilePathStatus(\n        project,\n        resourceName\n      );\n    });\n    this.setState({ resourcesWithErrors });\n    this.forceUpdateList();\n  };\n\n  componentDidMount() {\n    this.checkMissingPaths();\n  }\n\n  render() {\n    const { project, selectedResource, onSelectResource } = this.props;\n    const { searchText } = this.state;\n\n    const resourcesManager = project.getResourcesManager();\n    const allResourcesList = resourcesManager\n      .getAllResourceNames()\n      .toJSArray()\n      .map(resourceName => resourcesManager.getResource(resourceName));\n    const filteredList = filterResourcesList(allResourcesList, searchText);\n\n    // Force List component to be mounted again if project\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = project.ptr;\n\n    return (\n      <Background>\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableVirtualizedItemList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={filteredList}\n                width={width}\n                height={height}\n                selectedItem={selectedResource}\n                onItemSelected={onSelectResource}\n                renamedItem={this.state.renamedResource}\n                onRename={this._rename}\n                onSortEnd={({ oldIndex, newIndex }) =>\n                  this._move(oldIndex, newIndex)\n                }\n                buildMenuTemplate={this._renderResourceMenuTemplate}\n                helperClass=\"sortable-helper\"\n                distance={20}\n                erroredItems={this.state.resourcesWithErrors}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n      </Background>\n    );\n  }\n}\n","// @flow\n\nexport const filterResourcesList = (\n  list: Array<gdResource>,\n  searchText: string\n): Array<gdResource> => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter((resource: gdResource) => {\n    return (\n      resource\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n    );\n  });\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ReactErrorBoundary from 'react-error-boundary';\nimport BugReport from 'material-ui/svg-icons/action/bug-report';\nimport PlaceholderMessage from './PlaceholderMessage';\nimport Divider from 'material-ui/Divider';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { sendErrorMessage } from '../Utils/Analytics/EventSender';\nimport Window from '../Utils/Window';\n\nconst errorHandler = (error: Error, componentStack: string) => {\n  console.error('Error catched by Boundary:', error, componentStack);\n  sendErrorMessage('Error catched by error boundary', 'error-boundary', {\n    error,\n    componentStack,\n  });\n};\n\nconst styles = {\n  title: {\n    fontSize: 24,\n  },\n};\n\nexport const ErrorFallbackComponent = ({\n  componentStack,\n  error,\n}: {\n  componentStack: string,\n  error: Error,\n}) => (\n  <PlaceholderMessage>\n    <p style={styles.title}>\n      <BugReport /> This editor encountered a problem.\n    </p>\n    <Divider />\n    <p>\n      Something wrong happened :(\n      <br />\n      Please <b>backup your game file</b> and save your game to ensure that you\n      don't lose anything.\n    </p>\n    <p>\n      The error was automatically reported.\n      <br />\n      To make sure it's fixed, you may report it on GitHub, the platform where\n      GDevelop is developed:\n    </p>\n    <RaisedButton\n      label={<Trans>Report the issue on GitHub</Trans>}\n      onClick={() => {\n        const body = `\n=> Please write here a short description of when the error occured and how to reproduce it.\nYou also may have to create an account on GitHub before posting.\n\nWhen you're ready, click on \"Submit new issue\". Don't change the rest of the message. Thanks!\n\n## Error stack (don't write anything here)\n\\`\\`\\`\n${error ? error.stack : 'No error found'}\n\\`\\`\\`\n\n## Component stack (don't write anything here)\n\\`\\`\\`\n${componentStack || 'No component stack found'}\n\\`\\`\\`\n        `;\n        Window.openExternalURL(\n          `https://github.com/4ian/GDevelop/issues/new?body=${encodeURIComponent(\n            body\n          )}&title=Crash%20while%20using%20an%20editor`\n        );\n      }}\n    />\n  </PlaceholderMessage>\n);\n\ntype Props = {|\n  children: React.Node,\n|};\n\nconst ErrorBoundary = (props: Props) => (\n  <ReactErrorBoundary\n    FallbackComponent={ErrorFallbackComponent}\n    onError={errorHandler}\n  >\n    {props.children}\n  </ReactErrorBoundary>\n);\n\nexport default ErrorBoundary;\n","// @flow\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport HelpOutline from 'material-ui/svg-icons/action/help-outline';\nimport Window from '../../Utils/Window';\nimport { getHelpLink } from '../../Utils/HelpLink';\nimport { Trans } from '@lingui/macro';\n\ntype PropsType = {\n  helpPagePath: ?string,\n  label?: React.Node,\n};\n\n/**\n * The button that can be used in any dialog to open a help page\n */\nconst HelpButton = (props: PropsType) => {\n  if (!props.helpPagePath) return null;\n\n  return (\n    <FlatButton\n      onClick={() => {\n        if (props.helpPagePath) {\n          Window.openExternalURL(getHelpLink(props.helpPagePath));\n        }\n      }}\n      target=\"_blank\"\n      label={props.label || <Trans>Help</Trans>}\n      icon={<HelpOutline />}\n    />\n  );\n};\n\nexport default HelpButton;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { Card, CardActions, CardHeader } from 'material-ui/Card';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport UserProfileContext, { UserProfile } from './UserProfileContext';\nimport { Column, Line } from '../UI/Grid';\nimport {\n  getSubscriptionPlans,\n  type PlanDetails,\n  changeUserSubscription,\n} from '../Utils/GDevelopServices/Usage';\nimport { StripeCheckoutConfig } from '../Utils/GDevelopServices/ApiConfigs';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport CheckCircle from 'material-ui/svg-icons/action/check-circle';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport { showMessageBox, showErrorBox } from '../UI/Messages/MessageBox';\nimport LeftLoader from '../UI/LeftLoader';\nimport PlaceholderMessage from '../UI/PlaceholderMessage';\nimport {\n  sendSubscriptionDialogShown,\n  sendChoosePlanClicked,\n} from '../Utils/Analytics/EventSender';\n\nconst styles = {\n  descriptionText: {\n    marginLeft: 16,\n    marginRight: 16,\n    marginTop: 8,\n    marginBottom: 8,\n  },\n  card: {\n    margin: 16,\n  },\n  actions: {\n    textAlign: 'right',\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  bulletIcon: { width: 20, height: 20, marginLeft: 15, marginRight: 10 },\n  bulletText: { flex: 1, marginTop: 5, marginBottom: 5 },\n};\n\ntype Props = {|\n  open: boolean,\n  onClose: Function,\n|};\n\ntype State = {|\n  isLoading: boolean,\n|};\n\nexport default class SubscriptionDialog extends Component<Props, State> {\n  state = { isLoading: false };\n  stripeCheckoutHandler: null;\n\n  componentDidMount() {\n    if (this.props.open) {\n      sendSubscriptionDialogShown();\n    }\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (!this.props.open && newProps.open) {\n      sendSubscriptionDialogShown();\n    }\n  }\n\n  choosePlan = (userProfile: UserProfile, plan: PlanDetails) => {\n    const { getAuthorizationHeader, subscription, profile } = userProfile;\n    if (!profile || !subscription) return;\n    sendChoosePlanClicked(plan.planId);\n\n    if (subscription.stripeCustomerId) {\n      //eslint-disable-next-line\n      const answer = confirm(\n        'Are you sure you want to subscribe to this new plan?'\n      );\n      if (!answer) return;\n\n      // We already have a stripe customer, change the subscription without\n      // asking for the user card.\n      this.setState({ isLoading: true });\n      changeUserSubscription(getAuthorizationHeader, profile.uid, {\n        planId: plan.planId,\n      }).then(\n        () => this.handleNewSubscriptionSuccess(userProfile, plan),\n        this.handleNewSubscriptionFailure\n      );\n    } else {\n      // No existing customer, we need to get the user card so that the API\n      // can create the customer.\n      const stripeCheckout = global.StripeCheckout;\n      if (stripeCheckout) {\n        this.stripeCheckoutHandler = stripeCheckout.configure({\n          key: StripeCheckoutConfig.key,\n          image: StripeCheckoutConfig.image,\n          locale: 'auto',\n          token: stripeToken => {\n            this.setState({ isLoading: true });\n            changeUserSubscription(getAuthorizationHeader, profile.uid, {\n              planId: plan.planId,\n              stripeToken,\n            }).then(\n              () => this.handleNewSubscriptionSuccess(userProfile, plan),\n              this.handleNewSubscriptionFailure\n            );\n          },\n        });\n\n        this.stripeCheckoutHandler.open({\n          name: plan.name,\n          description: 'Monthly subscription',\n          currency: 'eur',\n          email: profile.email,\n          amount: plan.monthlyPriceInEuros * 100,\n        });\n      }\n    }\n  };\n\n  handleNewSubscriptionSuccess = (\n    userProfile: UserProfile,\n    plan: PlanDetails\n  ) => {\n    userProfile.onRefreshUserProfile();\n    this.setState({ isLoading: false });\n    if (plan.planId) {\n      showMessageBox(\n        'Congratulations, your new subscription is now active!\\n\\nYou can now use the services unlocked with this plan.'\n      );\n    } else {\n      showMessageBox(\n        'Your subscription was properly cancelled. Sorry to see you go!'\n      );\n    }\n  };\n\n  handleNewSubscriptionFailure = (err: any) => {\n    this.setState({ isLoading: false });\n    showErrorBox(\n      'Your subscription could not be updated. Please try again later!',\n      err\n    );\n  };\n\n  _renderPrice(plan: PlanDetails) {\n    return !plan.monthlyPriceInEuros\n      ? 'Free'\n      : `${plan.monthlyPriceInEuros}€/month`;\n  }\n\n  _isLoading = (userProfile: UserProfile) =>\n    !userProfile.subscription || !userProfile.profile || this.state.isLoading;\n\n  render() {\n    const { open, onClose } = this.props;\n\n    return (\n      <UserProfileContext.Consumer>\n        {(userProfile: UserProfile) => (\n          <Dialog\n            actions={[\n              <FlatButton\n                label={<Trans>Close</Trans>}\n                key=\"close\"\n                primary={false}\n                onClick={onClose}\n              />,\n            ]}\n            onRequestClose={onClose}\n            open={open}\n            noMargin\n            autoScrollBodyContent\n          >\n            <Column>\n              <Line>\n                <p>\n                  <Trans>\n                    Get a subscription to package your games for Android,\n                    Windows, macOS and Linux, use live preview over wifi and\n                    more. With a subscription, you're also supporting the\n                    development of GDevelop, which is an open-source software.\n                  </Trans>\n                </p>\n              </Line>\n            </Column>\n            {getSubscriptionPlans().map(plan => (\n              <Card key={plan.planId || ''} style={styles.card}>\n                <CardHeader\n                  title={\n                    <span>\n                      <b>{plan.name}</b> - {this._renderPrice(plan)}\n                    </span>\n                  }\n                  subtitle={plan.smallDescription}\n                />\n                {plan.descriptionBullets.map((bulletText, index) => (\n                  <Column key={index} expand>\n                    <Line noMargin alignItems=\"center\">\n                      <CheckCircle style={styles.bulletIcon} />\n                      <p style={styles.bulletText}>{bulletText}</p>\n                    </Line>\n                  </Column>\n                ))}\n                <p style={styles.descriptionText}>\n                  {plan.extraDescription || ''}\n                </p>\n                <CardActions style={styles.actions}>\n                  {userProfile.subscription &&\n                  userProfile.subscription.planId === plan.planId ? (\n                    <FlatButton\n                      disabled\n                      label={<Trans>This is your current plan</Trans>}\n                      onClick={() => this.choosePlan(userProfile, plan)}\n                    />\n                  ) : plan.planId ? (\n                    <LeftLoader isLoading={this._isLoading(userProfile)}>\n                      <RaisedButton\n                        primary\n                        disabled={this._isLoading(userProfile)}\n                        label={<Trans>Choose this plan</Trans>}\n                        onClick={() => this.choosePlan(userProfile, plan)}\n                      />\n                    </LeftLoader>\n                  ) : (\n                    <LeftLoader isLoading={this._isLoading(userProfile)}>\n                      <FlatButton\n                        label={<Trans>Choose</Trans>}\n                        onClick={() => this.choosePlan(userProfile, plan)}\n                      />\n                    </LeftLoader>\n                  )}\n                </CardActions>\n              </Card>\n            ))}\n            <Column>\n              <Line>\n                <EmptyMessage>\n                  <Trans>\n                    Subscriptions can be stopped at any time. GDevelop uses\n                    Stripe.com for secure payment. No credit card data is stored\n                    by GDevelop: everything is managed by Stripe secure\n                    infrastructure.\n                  </Trans>\n                </EmptyMessage>\n              </Line>\n            </Column>\n            {!userProfile.authenticated && (\n              <PlaceholderMessage>\n                <p>\n                  <Trans>\n                    Create a GDevelop account to continue. It's free and you'll\n                    be able to access to online services like one-click build\n                    for Android:\n                  </Trans>\n                </p>\n                <RaisedButton\n                  label={<Trans>Create my account</Trans>}\n                  primary\n                  onClick={userProfile.onLogin}\n                />\n                <FlatButton\n                  label={<Trans>Not now, thanks</Trans>}\n                  onClick={onClose}\n                />\n              </PlaceholderMessage>\n            )}\n          </Dialog>\n        )}\n      </UserProfileContext.Consumer>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport FlatButton from 'material-ui/FlatButton';\nimport MenuItem from 'material-ui/MenuItem';\nimport Dialog from '../../UI/Dialog';\nimport { Column, Line } from '../../UI/Grid';\nimport Window from '../../Utils/Window';\nimport PreferencesContext from './PreferencesContext';\nimport AlertMessage from '../../UI/AlertMessage';\nimport LocalesMetadata from '../../locales/LocalesMetadata';\nimport { I18n } from '@lingui/react';\nimport Divider from 'material-ui/Divider';\n\ntype Props = {|\n  open: boolean,\n  onClose: (languageDidChange: boolean) => void,\n|};\n\ntype State = {|\n  languageDidChange: boolean,\n|};\n\nconst displayLocaleMetadata = localeMetadata => {\n  if (localeMetadata.languageCode === 'en') return false;\n  if (localeMetadata.languageCode === 'pseudo_LOCALE') return Window.isDev();\n\n  return true;\n};\n\nconst renderLanguageMenuItem = localeMetadata => {\n  const translationRatio = localeMetadata.translationRatio || 0;\n  const percent = (100 * localeMetadata.translationRatio).toFixed(0);\n  const isStarted = translationRatio > 0;\n\n  return (\n    <MenuItem\n      value={localeMetadata.languageCode}\n      primaryText={\n        localeMetadata.languageNativeName +\n        ' (' +\n        localeMetadata.languageName +\n        ')' +\n        (isStarted ? ` - ~${percent}%` : '')\n      }\n      disabled={!isStarted}\n      key={localeMetadata.languageCode}\n    />\n  );\n};\n\nexport default class LanguageDialog extends Component<Props, State> {\n  state = {\n    languageDidChange: false,\n  };\n\n  render() {\n    const { open, onClose } = this.props;\n    if (!open) return null;\n\n    const localesToDisplay = LocalesMetadata.filter(displayLocaleMetadata);\n    const goodProgressLocales = localesToDisplay.filter(\n      localeMetadata => localeMetadata.translationRatio > 0.5\n    );\n    const startedLocales = localesToDisplay.filter(\n      localeMetadata => localeMetadata.translationRatio < 0.5\n    );\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <PreferencesContext.Consumer>\n            {({ values, setLanguage }) => {\n              const isLoadingLanguage = i18n.language !== values.language;\n\n              return (\n                <Dialog\n                  actions={[\n                    <FlatButton\n                      label={\n                        isLoadingLanguage ? (\n                          <Trans>Loading...</Trans>\n                        ) : (\n                          <Trans>Close</Trans>\n                        )\n                      }\n                      primary={false}\n                      onClick={onClose}\n                      disabled={isLoadingLanguage}\n                    />,\n                  ]}\n                  secondaryActions={[\n                    <FlatButton\n                      label={<Trans>Report a wrong translation</Trans>}\n                      key=\"report-wrong-translation\"\n                      primary={false}\n                      onClick={() =>\n                        Window.openExternalURL(\n                          'https://github.com/4ian/GDevelop/issues/969'\n                        )\n                      }\n                    />,\n                  ]}\n                  onRequestClose={() => onClose(this.state.languageDidChange)}\n                  open={open}\n                  title={<Trans>Language</Trans>}\n                >\n                  <Column>\n                    <Line>\n                      <AlertMessage kind=\"info\">\n                        <Trans>\n                          Support for translations is still new and in beta.\n                          GDevelop needs your help to be translated in your\n                          language!\n                        </Trans>\n                      </AlertMessage>\n                    </Line>\n                    <Line expand>\n                      <SelectField\n                        floatingLabelText={\n                          <Trans>Choose GDevelop language</Trans>\n                        }\n                        value={values.language}\n                        onChange={(e, i, value) => {\n                          setLanguage(value);\n                          this.setState({\n                            languageDidChange: true,\n                          });\n                        }}\n                        fullWidth\n                      >\n                        <MenuItem value=\"en\" primaryText=\"English (default)\" />\n                        {goodProgressLocales.map(localeMetadata =>\n                          renderLanguageMenuItem(localeMetadata)\n                        )}\n                        <Divider />\n                        {startedLocales.map(localeMetadata =>\n                          renderLanguageMenuItem(localeMetadata)\n                        )}\n                      </SelectField>\n                    </Line>\n                    <Line expand>\n                      <FlatButton\n                        primary\n                        label={\n                          <Trans>Help to translate GD in your language</Trans>\n                        }\n                        onClick={() =>\n                          Window.openExternalURL(\n                            'https://crowdin.com/project/gdevelop'\n                          )\n                        }\n                        fullWidth\n                      />\n                    </Line>\n                  </Column>\n                </Dialog>\n              );\n            }}\n          </PreferencesContext.Consumer>\n        )}\n      </I18n>\n    );\n  }\n}\n","// This file is generated by compile-translations.js script\n// prettier-ignore\nmodule.exports = [\n  {\n    \"languageCode\": \"af_ZA\",\n    \"languageName\": \"Afrikaans\",\n    \"languageNativeName\": \"Afrikaans\",\n    \"translationRatio\": 0.007181328545781018\n  },\n  {\n    \"languageCode\": \"ar_SA\",\n    \"languageName\": \"Arabic\",\n    \"languageNativeName\": \"اللغة العربية\",\n    \"translationRatio\": 0.1426006668376507\n  },\n  {\n    \"languageCode\": \"az_AZ\",\n    \"languageName\": \"Azerbaijani\",\n    \"languageNativeName\": \"azərbaycan dili\",\n    \"translationRatio\": 0.023852269812772553\n  },\n  {\n    \"languageCode\": \"bg_BG\",\n    \"languageName\": \"Bulgarian\",\n    \"languageNativeName\": \"български език\",\n    \"translationRatio\": 0.07437804565273143\n  },\n  {\n    \"languageCode\": \"bn_BD\",\n    \"languageName\": \"Bengali\",\n    \"languageNativeName\": \"বাংলা\",\n    \"translationRatio\": 0.03565016670941268\n  },\n  {\n    \"languageCode\": \"ca_ES\",\n    \"languageName\": \"Catalan\",\n    \"languageNativeName\": \"català\",\n    \"translationRatio\": 0.10566812003077708\n  },\n  {\n    \"languageCode\": \"cs_CZ\",\n    \"languageName\": \"Czech\",\n    \"languageNativeName\": \"čeština\",\n    \"translationRatio\": 0.11413182867401894\n  },\n  {\n    \"languageCode\": \"da_DK\",\n    \"languageName\": \"Danish\",\n    \"languageNativeName\": \"dansk\",\n    \"translationRatio\": 0.030264170300076998\n  },\n  {\n    \"languageCode\": \"de_DE\",\n    \"languageName\": \"German\",\n    \"languageNativeName\": \"Deutsch\",\n    \"translationRatio\": 0.8804821749166453\n  },\n  {\n    \"languageCode\": \"el_GR\",\n    \"languageName\": \"Greek\",\n    \"languageNativeName\": \"Ελληνικά\",\n    \"translationRatio\": 0.26468325211592714\n  },\n  {\n    \"languageCode\": \"en\",\n    \"languageName\": \"English\",\n    \"languageNativeName\": \"English\",\n    \"translationRatio\": 0.04057971014492756\n  },\n  {\n    \"languageCode\": \"eo_UY\",\n    \"languageName\": \"Esperanto\",\n    \"languageNativeName\": \"Esperanto\",\n    \"translationRatio\": 0.009233136701718436\n  },\n  {\n    \"languageCode\": \"es_ES\",\n    \"languageName\": \"Spanish\",\n    \"languageNativeName\": \"Español\",\n    \"translationRatio\": 0.981277250577071\n  },\n  {\n    \"languageCode\": \"fa_IR\",\n    \"languageName\": \"Persian\",\n    \"languageNativeName\": \"فارسی\",\n    \"translationRatio\": 0.3185432162092844\n  },\n  {\n    \"languageCode\": \"fi_FI\",\n    \"languageName\": \"Finnish\",\n    \"languageNativeName\": \"suomi\",\n    \"translationRatio\": 0.4383175173121313\n  },\n  {\n    \"languageCode\": \"fil_PH\",\n    \"languageName\": \"Filipino\",\n    \"languageNativeName\": \"Mga Filipino\",\n    \"translationRatio\": 0.8414978199538343\n  },\n  {\n    \"languageCode\": \"fr_FR\",\n    \"languageName\": \"French\",\n    \"languageNativeName\": \"Français\",\n    \"translationRatio\": 0.8312387791741472\n  },\n  {\n    \"languageCode\": \"ha_HG\",\n    \"languageName\": \"Hausa\",\n    \"languageNativeName\": \"هَوُسَ\",\n    \"translationRatio\": 0.007181328545781018\n  },\n  {\n    \"languageCode\": \"he_IL\",\n    \"languageName\": \"Hebrew\",\n    \"languageNativeName\": \"עברית\",\n    \"translationRatio\": 0.011541420877147934\n  },\n  {\n    \"languageCode\": \"hi_IN\",\n    \"languageName\": \"Hindi\",\n    \"languageNativeName\": \"हिन्दी\",\n    \"translationRatio\": 0.04847396768402157\n  },\n  {\n    \"languageCode\": \"hu_HU\",\n    \"languageName\": \"Hungarian\",\n    \"languageNativeName\": \"magyar\",\n    \"translationRatio\": 0.07950756604257503\n  },\n  {\n    \"languageCode\": \"id_ID\",\n    \"languageName\": \"Indonesian\",\n    \"languageNativeName\": \"Indonesian\",\n    \"translationRatio\": 0.494229289561426\n  },\n  {\n    \"languageCode\": \"it_IT\",\n    \"languageName\": \"Italian\",\n    \"languageNativeName\": \"Italiano\",\n    \"translationRatio\": 0.7722492946909464\n  },\n  {\n    \"languageCode\": \"ja_JP\",\n    \"languageName\": \"Japanese\",\n    \"languageNativeName\": \"日本語\",\n    \"translationRatio\": 0.09566555527058218\n  },\n  {\n    \"languageCode\": \"ko_KR\",\n    \"languageName\": \"Korean\",\n    \"languageNativeName\": \"한국어\",\n    \"translationRatio\": 0.06411900487304434\n  },\n  {\n    \"languageCode\": \"lt_LT\",\n    \"languageName\": \"Lithuanian\",\n    \"languageNativeName\": \"lietuvių kalba\",\n    \"translationRatio\": 0.008976660682226245\n  },\n  {\n    \"languageCode\": \"mr_IN\",\n    \"languageName\": \"Marathi\",\n    \"languageNativeName\": \"मराठी\",\n    \"translationRatio\": 0.00795075660425748\n  },\n  {\n    \"languageCode\": \"ms_MY\",\n    \"languageName\": \"Malay\",\n    \"languageNativeName\": \"هاس ملايو‎\",\n    \"translationRatio\": 0.060784816619646076\n  },\n  {\n    \"languageCode\": \"my_MM\",\n    \"languageName\": \"Burmese\",\n    \"languageNativeName\": \"ဗမာစာ\",\n    \"translationRatio\": 0.00795075660425748\n  },\n  {\n    \"languageCode\": \"nl_NL\",\n    \"languageName\": \"Dutch\",\n    \"languageNativeName\": \"Nederlands\",\n    \"translationRatio\": 0.5280841241343934\n  },\n  {\n    \"languageCode\": \"no_NO\",\n    \"languageName\": \"Norwegian\",\n    \"languageNativeName\": \"Norsk\",\n    \"translationRatio\": 0.04847396768402157\n  },\n  {\n    \"languageCode\": \"pl_PL\",\n    \"languageName\": \"Polish\",\n    \"languageNativeName\": \"język polski\",\n    \"translationRatio\": 0.6057963580405232\n  },\n  {\n    \"languageCode\": \"pseudo_LOCALE\",\n    \"languageName\": \"for development only\",\n    \"languageNativeName\": \"Pseudolocalization\",\n    \"translationRatio\": 0.9956521739130435\n  },\n  {\n    \"languageCode\": \"pt_BR\",\n    \"languageName\": \"Brazilian Portuguese\",\n    \"languageNativeName\": \"Português brasileiro\",\n    \"translationRatio\": 0.9825596306745319\n  },\n  {\n    \"languageCode\": \"pt_PT\",\n    \"languageName\": \"Portuguese\",\n    \"languageNativeName\": \"Português\",\n    \"translationRatio\": 0.8850987432675045\n  },\n  {\n    \"languageCode\": \"ro_RO\",\n    \"languageName\": \"Romanian\",\n    \"languageNativeName\": \"Română\",\n    \"translationRatio\": 0.026673506027186433\n  },\n  {\n    \"languageCode\": \"ru_RU\",\n    \"languageName\": \"Russian\",\n    \"languageNativeName\": \"Русский\",\n    \"translationRatio\": 0.9848679148499615\n  },\n  {\n    \"languageCode\": \"sk_SK\",\n    \"languageName\": \"Slovak\",\n    \"languageNativeName\": \"slovenčina\",\n    \"translationRatio\": 0.018979225442421144\n  },\n  {\n    \"languageCode\": \"sr_CS\",\n    \"languageName\": \"Serbian (Latin)\",\n    \"languageNativeName\": \"srpski\",\n    \"translationRatio\": 0.4742241600410362\n  },\n  {\n    \"languageCode\": \"sr_SP\",\n    \"languageName\": \"Serbian\",\n    \"languageNativeName\": \"српски језик\",\n    \"translationRatio\": 0.9833290587330085\n  },\n  {\n    \"languageCode\": \"sv_SE\",\n    \"languageName\": \"Swedish\",\n    \"languageNativeName\": \"svenska\",\n    \"translationRatio\": 0.19363939471659397\n  },\n  {\n    \"languageCode\": \"th_TH\",\n    \"languageName\": \"Thai\",\n    \"languageNativeName\": \"ไทย\",\n    \"translationRatio\": 0.03334188253398307\n  },\n  {\n    \"languageCode\": \"tr_TR\",\n    \"languageName\": \"Turkish\",\n    \"languageNativeName\": \"Türkçe\",\n    \"translationRatio\": 0.5091048986919723\n  },\n  {\n    \"languageCode\": \"uk_UA\",\n    \"languageName\": \"Ukrainian\",\n    \"languageNativeName\": \"Українська\",\n    \"translationRatio\": 0.025134649910233398\n  },\n  {\n    \"languageCode\": \"ur_PK\",\n    \"languageName\": \"Urdu\",\n    \"languageNativeName\": \"اردو\",\n    \"translationRatio\": 0.016670941266991535\n  },\n  {\n    \"languageCode\": \"yo_NG\",\n    \"languageName\": \"Yoruba\",\n    \"languageNativeName\": \"Yorùbá\",\n    \"translationRatio\": 0.9304949987176199\n  },\n  {\n    \"languageCode\": \"zh_CN\",\n    \"languageName\": \"Chinese Simplified\",\n    \"languageNativeName\": \"简化字\",\n    \"translationRatio\": 0.6973582969992306\n  },\n  {\n    \"languageCode\": \"zh_TW\",\n    \"languageName\": \"Chinese Traditional\",\n    \"languageNativeName\": \"正體字\",\n    \"translationRatio\": 0.06873557322390356\n  }\n];\n","// @flow\nimport React, { Component } from 'react';\nimport { mapVector } from '../Utils/MapFor';\nimport TextField from 'material-ui/TextField';\nimport SearchbarWithChips from '../UI/SearchbarWithChips';\nconst gd = global.gd;\n\ntype Props = {|\n  value: string,\n  onChange: string => void,\n  chosenExtensionName: string,\n  onExtensionNameChosen: string => void,\n|};\n\nexport default class ExamplesSearchbar extends Component<Props> {\n  _chips: Array<{| text: string, value: string |}> = [];\n  _textField: ?TextField;\n\n  constructor(props: Props) {\n    super(props);\n\n    const extensions = gd.JsPlatform.get().getAllPlatformExtensions();\n    this._chips = mapVector(extensions, extension => {\n      if (\n        extension.isBuiltin() ||\n        extension.getFullName().indexOf('(deprecated)') !== -1\n      )\n        return null;\n\n      return {\n        text: extension.getFullName(),\n        value: extension.getName(),\n      };\n    }).filter(Boolean);\n  }\n\n  render() {\n    const {\n      chosenExtensionName,\n      onExtensionNameChosen,\n      value,\n      onChange,\n    } = this.props;\n    return (\n      <SearchbarWithChips\n        value={value}\n        onChange={onChange}\n        chips={this._chips}\n        chosenChip={chosenExtensionName}\n        onChooseChip={onExtensionNameChosen}\n        onRequestSearch={() => {}}\n      />\n    );\n  }\n}\n","// This file is generated by update-examples-extensions-usage-from-resources-examples.js script\n// prettier-ignore\nmodule.exports = {\n  \"admob\": {\n    \"description\": \"Demonstrate how to show ads from AdMob in your game: banners, interstitial screen or reward videos. Also useful to test that your AdMob account is working properly.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"AdMob\",\n        \"name\": \"AdMob\"\n      }\n    ]\n  },\n  \"advanced-shape-based-painter\": {\n    \"description\": \"Show how to use Shape Painter objects to create a simple drawing app.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"animation-speed-scale\": {\n    \"description\": \"Change the speed of the animation of an object according to its movement speed.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"asteroids\": {\n    \"description\": \"An adptation of the classic arcade game Asteroids with GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"basic-ai-with-pathfinding\": {\n    \"description\": \"Show how to use pathfinding to make enemies chase the player.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Pathfinding behavior\",\n        \"name\": \"PathfindingBehavior\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"basic-artificial-intelligence\": {\n    \"description\": \"Show how to create enemies looking at the player and chasing him when spotted.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"basic-topdown-car-driving\": {\n    \"description\": \"Show how to create a car that can be controlled by the player.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"betabox-basics-learning-experience\": {\n    \"description\": \"Example level for teaching basic programming skills with extra features and assets.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"bomb-the-crate\": {\n    \"description\": \"A basic bomberman like game, where the player can move on the map, drop bombs and destroy crates on the map.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"bouncing-ball-and-rope\": {\n    \"description\": \"Simulate a bouncing ball with ropes that can be created to move the ball around anchors.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Advanced control features\",\n        \"name\": \"BuiltinAdvanced\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      }\n    ]\n  },\n  \"breakout\": {\n    \"description\": \"The classic Breakout arcade game adapted in GDevelop. Read the tutorial about it to learn how to make a game like this.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"External layouts\",\n        \"name\": \"BuiltinExternalLayouts\"\n      }\n    ]\n  },\n  \"buttons\": {\n    \"description\": \"Learn how to make buttons for the menus in your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      }\n    ]\n  },\n  \"car-physics\": {\n    \"description\": \"A fun, physics based driving game\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"center-object-within-another\": {\n    \"description\": \"How to put an object on the center of another\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"change-position-of-object\": {\n    \"description\": \"Show how to move an object by changing its X and Y position.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"change-scale-of-sprites\": {\n    \"description\": \"Show how to change the scale of a sprite (to make a zoom effect for example).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"change-sprite-animation\": {\n    \"description\": \"Learn how to change the animation of a Sprite object (useful for animating almost all objects in your game: characters, enemies, items...)\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"change-sprite-color\": {\n    \"description\": \"Learn how to change the color of a Sprite object - useful to achieve effects like invincibility with a blue tint or taking damage with a red effect. \",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"character-selection\": {\n    \"description\": \"Example showing how to remember the character selected by the player and use it in other scenes.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"create-object-with-mouseclick\": {\n    \"description\": \"Show how to create an object at the position of the click.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"custom-font\": {\n    \"description\": \"Example showing a text with a custom font applied on it.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      }\n    ]\n  },\n  \"custom-mouse-pointer\": {\n    \"description\": \"Learn how to replace the mouse cursor by a custom image.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"customize-keys-with-lastpressedkey\": {\n    \"description\": \"This explains how to remember the last key that was pressed and customize the inputs of your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"device-orientation-ballgame\": {\n    \"description\": \"Example showing how to use the device sensors to move a ball in a maze.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Device sensors\",\n        \"name\": \"DeviceSensors\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"device-orientation-compass\": {\n    \"description\": \"This shows how to use the device sensors to create a compass like app.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Device sensors\",\n        \"name\": \"DeviceSensors\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"device-vibration\": {\n    \"description\": \"Show how to make the device vibrate.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Device vibration\",\n        \"name\": \"DeviceVibration\"\n      }\n    ]\n  },\n  \"downhill-bike-physics-demo\": {\n    \"description\": \"A fun demo, using the Physics Engine to build an advanced simulation of a bike, with a person pedaling on it. Try to cross the finish line without falling and as fast as possible!\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Advanced control features\",\n        \"name\": \"BuiltinAdvanced\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      },\n      {\n        \"fullName\": \"Device vibration\",\n        \"name\": \"DeviceVibration\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"drag-camera-with-mouse\": {\n    \"description\": \"This shows how to allow the user to move on a map with the mouse.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"drop-collect-items-from-storage\": {\n    \"description\": \"Show how to make the player collect objects from boxes on the map.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"endless-up-runner\": {\n    \"description\": \"A game where the player have to jump on platforms and avoid falling down as the screen goes up. With special objects (spring, rocks), score and Game Over handling!\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"exit-app\": {\n    \"description\": \"Simple example showing how to close your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      }\n    ]\n  },\n  \"facebook-instant-game\": {\n    \"description\": \"Learn how to use the various Facebook Instant Games APIs to get information about the player, share their scores and have a leaderboard!\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Facebook Instant Games\",\n        \"name\": \"FacebookInstantGames\"\n      }\n    ]\n  },\n  \"filesystem-create-directory\": {\n    \"description\": \"Show how to ask the user for a folder name and create it on the disk.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Text entry object\",\n        \"name\": \"TextEntryObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Filesystem\",\n        \"name\": \"FileSystem\"\n      }\n    ]\n  },\n  \"find-diagonals\": {\n    \"description\": \"Show how to delete objects that are located at the diagonals of the click of the player in a board game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"geodash\": {\n    \"description\": \"A fast paced game where you must jump and avoid obstacles.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      }\n    ]\n  },\n  \"health-bar\": {\n    \"description\": \"The platform example game adapted to add a health bar to the player, that is decreased when the player touches an enemy.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"infinite-scrolling-background\": {\n    \"description\": \"Learn how to create a background that is scolling infinitely.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"inventory-system\": {\n    \"description\": \"Learn how to display an inventory, with object that can be addded or removed, and how to persist it in storage.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Inventory\",\n        \"name\": \"Inventory\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      },\n      {\n        \"fullName\": \"Storage\",\n        \"name\": \"BuiltinFile\"\n      }\n    ]\n  },\n  \"isometric-game\": {\n    \"description\": \"Example of making an isometric 2D game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Top-down movement\",\n        \"name\": \"TopDownMovementBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"javascript-blocks-in-platformer\": {\n    \"description\": \"This shows how to reproduce the Platformer example using JavaScript code instead of events.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"keyboard-practice\": {\n    \"description\": \"A simple game where the player must press the right keys on the keyboard as fast as possible.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"level-editor\": {\n    \"description\": \"Example showing a basic level editor, where you can save and load positions of objects put on the scene during the game. Also shows how to use simple functions.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Storage\",\n        \"name\": \"BuiltinFile\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      }\n    ]\n  },\n  \"load-image-from-url\": {\n    \"description\": \"Advanced example showing how to use JavaScript to load an image from an external URL.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"magnet\": {\n    \"description\": \"Show how to move a ball like if it's attracted by a magnet.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"manipulate-text-object\": {\n    \"description\": \"This shows how to change the text of a Text object displayed on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"menu-with-functions-and-text-effects\": {\n    \"description\": \"How to implement the same menu across multiple scenes using functions and text effects for hover/active states.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      }\n    ]\n  },\n  \"move-camera-to-position\": {\n    \"description\": \"This shows how to move the camera to the position of an object on a map.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"move-object-back-and-forth\": {\n    \"description\": \"Use events to move objects back and forth vertically or horizontally.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      }\n    ]\n  },\n  \"move-object-in-circle\": {\n    \"description\": \"This shows how to make an object move in circle around some point.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"move-object-toward-position\": {\n    \"description\": \"This shows how to have an object move to a given position on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"move-object-with-mouse-joint\": {\n    \"description\": \"Show how to use physics engine to move an object around with the mouse and realistic movements.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"move-object-with-physics\": {\n    \"description\": \"This shows how to use the forces built in GDevelop to move an object.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"multiplayer-platformer-with-gamepads\": {\n    \"description\": \"Example showing how to use the Gamepads extension to read the state of gamepads (or controllers), for 2 players.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      }\n    ]\n  },\n  \"multitouch\": {\n    \"description\": \"This show how to create multiple markers when the player touches the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"object-gravity\": {\n    \"description\": \"Use the physics engine to simulate an object moving on a small planet.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      }\n    ]\n  },\n  \"object-selection\": {\n    \"description\": \"Simple example showing how the engine of GDevelop select objects to be used in conditions and actions.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"objects-timers\": {\n    \"description\": \"Example showing various usage of objects timers (timers that are stored into instances of objects on the scene, as opposed to scene timers which are stored by the scene).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      }\n    ]\n  },\n  \"open-url-in-browser\": {\n    \"description\": \"This shows how to open a website on the system default browser.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Storage\",\n        \"name\": \"BuiltinFile\"\n      }\n    ]\n  },\n  \"pairs\": {\n    \"description\": \"Find all matching pairs of cards in this relaxing game. Use tweens to create smooth, natural animations with a few events.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Tween animation\",\n        \"name\": \"Tween\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"parallax\": {\n    \"description\": \"Shows how to have multiple layers with a parallax effect (where the background layers move slower than the foreground).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"parallax-scrolling\": {\n    \"description\": \"Another example showing how to have multiple layers with a parallax effect (where the background layers move slower than the foreground).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"parse-json-from-api\": {\n    \"description\": \"Advanced example where JSON content is fetched from a website and information extracted from it.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Basic internet features\",\n        \"name\": \"BuiltinNetwork\"\n      }\n    ]\n  },\n  \"parse-json-string\": {\n    \"description\": \"Advanced example showing how to extract information from a JSON formatted string.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Basic internet features\",\n        \"name\": \"BuiltinNetwork\"\n      }\n    ]\n  },\n  \"particles-explosions\": {\n    \"description\": \"Create explosion effects with the particles engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"particles-various-effects\": {\n    \"description\": \"Create various effects with the particles engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"pathfinding\": {\n    \"description\": \"This show how to have an object moving from its position to another automatically avoiding obstacles.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Pathfinding behavior\",\n        \"name\": \"PathfindingBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"pathfinding-basics\": {\n    \"description\": \"Simpler example showing how to get started with Pathfinding, to have an object automatically find its way around obstacles.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Pathfinding behavior\",\n        \"name\": \"PathfindingBehavior\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"physics\": {\n    \"description\": \"Example showing various capabilities of the physics engine integrated to GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"physics-joints-demo\": {\n    \"description\": \"A demo of all the joints that can be created using the Physics engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"physics-joints-settings-demo\": {\n    \"description\": \"A demo of all the joints, and the way they can be customized, using the Physics engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"pin-object-to-another\": {\n    \"description\": \"Example showing how to have objects \\\"pinned\\\" to another, meaning that they will move/rotate and follow the object they are pinned too.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"pin-object-to-another-multiple-parents\": {\n    \"description\": \"Example showing how to have objects \\\"pinned\\\" to multiple other objects, meaning that they will move/rotate and follow the object they are pinned too.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      }\n    ]\n  },\n  \"pixel-perfect-platform-game\": {\n    \"description\": \"Very simple example showing the settings to have a pixel-perfect platform game (also applicable to other kind of games).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      }\n    ]\n  },\n  \"plane-and-clouds\": {\n    \"description\": \"Show how to randomly generate clouds to create an infinite sky.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"platformer\": {\n    \"description\": \"An example of a basic platformer (Mario-like) game made with GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"platformer-double-jump\": {\n    \"description\": \"The Platformer example modified to allow the player to do a double jump.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"play-music-on-mobile\": {\n    \"description\": \"This show how to properly launch a music on a game on mobile.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"play-stop-sprite-animation\": {\n    \"description\": \"This shows how to pause the animation of a Sprite object.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"racing-game\": {\n    \"description\": \"A top-down racing game made using the Physics engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"ragdoll\": {\n    \"description\": \"Example of creating a ragdoll with physics joints.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Advanced control features\",\n        \"name\": \"BuiltinAdvanced\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"rain\": {\n    \"description\": \"Show how to simulate a rain effect by creating several objects.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      }\n    ]\n  },\n  \"random-color-picker\": {\n    \"description\": \"This shows how to create a grid with random color, and let the player choose one.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"rotate-toward-mouse\": {\n    \"description\": \"Show how to rotate an object so that it looks toward the player cursor.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"rotate-toward-position\": {\n    \"description\": \"Show how to rotate an object so that it looks toward a specified position on the scene.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"rotate-with-keypress\": {\n    \"description\": \"Basic example showing how to rotate an object.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"save-load\": {\n    \"description\": \"Advanced example showing how to persist data and then reload them from storage (useful to store game progress, or save the state of some objects in a game).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Storage\",\n        \"name\": \"BuiltinFile\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"screen-shake\": {\n    \"description\": \"Make the screen shake when some event occurs.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"shoot-bullet-in-parabola\": {\n    \"description\": \"Show how to use various mathematical expressions to move an object following a parabola shape\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      }\n    ]\n  },\n  \"shoot-bullets\": {\n    \"description\": \"Basic example showing how to shoot bullets from an object.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"shooting-bullets-explanation\": {\n    \"description\": \"Basic example showing how to shoot bullets from one or multiple objects at the same time.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"simple-space-shooter\": {\n    \"description\": \"An older, simple space shooter demo, made without any behaviors from extensions. Prefer taking a look at the Space Shooter starter to learn about useful behaviors and patterns for making your games.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Top-down movement\",\n        \"name\": \"TopDownMovementBehavior\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"snap-object-to-grid\": {\n    \"description\": \"Example showing how to create a grid and have objects snapped to the grid.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"space-invaders\": {\n    \"description\": \"A Space Invaders-like game, where you have a turret and shoot on enemies coming from the sky.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      }\n    ]\n  },\n  \"space-shooter\": {\n    \"description\": \"A beautiful, retro side-scrolling shooter where you must defeat incoming enemies with your mecha transforming spaceship. Huge boss included!\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      },\n      {\n        \"fullName\": \"Top-down movement\",\n        \"name\": \"TopDownMovementBehavior\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"splash-screen\": {\n    \"description\": \"Show how to create a splashscreen at the beginning of your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"sprite-fade-in-out\": {\n    \"description\": \"This shows how to make a sprite fade in and out on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"take-screenshot\": {\n    \"description\": \"Show how to save a screenshot of the game on the disk (on Windows/macOS/Linux only).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Screenshot\",\n        \"name\": \"Screenshot\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"text-entry-object\": {\n    \"description\": \"This shows how to use the Text Entry object to capture what is written on the keyboard.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text entry object\",\n        \"name\": \"TextEntryObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      }\n    ]\n  },\n  \"text-fade-in-out\": {\n    \"description\": \"This shows how to make a text fade in and out on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"text-to-speech\": {\n    \"description\": \"Advanced example showing how to use JavaScript and HTML5 api to make a text read by your computer.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text entry object\",\n        \"name\": \"TextEntryObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"toggle-music-play-sound\": {\n    \"description\": \"Example showing how to play a music and add controls on the screen to pause it, change the volume or mute the sounds totally.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"type-on-text-effect\": {\n    \"description\": \"This show how to create an effect where a text is progressively typed on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"video-player\": {\n    \"description\": \"An example of a complete video player with controls to play/pause, change the volume, jump to a position in the video...\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Video\",\n        \"name\": \"Video\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Tween animation\",\n        \"name\": \"Tween\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Advanced control features\",\n        \"name\": \"BuiltinAdvanced\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      }\n    ]\n  },\n  \"z-depth\": {\n    \"description\": \"Example where the player can move a character on a map, and the character is displayed behind or in front of other objects according to its position.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"zombie-laser\": {\n    \"description\": \"Simple game where the player must use his laser powered gun to destroy zombies running at him.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Pathfinding behavior\",\n        \"name\": \"PathfindingBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  }\n};\n","// @flow\nimport optionalRequire from '../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\nconst path = optionalRequire('path');\n\nclass UrlsCache {\n  projectCache = {};\n\n  _getProjectCache(project: gdProject) {\n    const cache = this.projectCache[project.ptr];\n    if (!cache) {\n      return (this.projectCache[project.ptr] = {});\n    }\n\n    return cache;\n  }\n\n  getCachedUrl(project: gdProject, filename: string) {\n    const cache = this._getProjectCache(project);\n    return cache[filename];\n  }\n\n  cacheUrl(project: gdProject, url: string) {\n    const cache = this._getProjectCache(project);\n    return (cache[url] = url);\n  }\n\n  burstUrl(project: gdProject, url: string) {\n    const cache = this._getProjectCache(project);\n    delete cache[url];\n  }\n\n  cacheLocalFileUrl(\n    project: gdProject,\n    filename: string,\n    systemFilename: string,\n    disableCacheBurst: boolean\n  ) {\n    const cache = this._getProjectCache(project);\n\n    if (!disableCacheBurst) {\n      // The URL is cached with an extra \"cache-bursting\" parameter.\n      // If the cache is emptied or changed, local files will have another\n      // value for this parameter, forcing the browser to reload the images.\n      return (cache[filename] = `${systemFilename}?cache=${Date.now()}`);\n    } else {\n      return (cache[filename] = systemFilename);\n    }\n  }\n}\n\n/**\n * A class globally used in the whole IDE to get URLs to resources of games\n * (notably images).\n */\nexport default class ResourcesLoader {\n  static _cache = new UrlsCache();\n\n  static isLocalFile(filename: string): boolean {\n    return (\n      filename.indexOf('data:') !== 0 &&\n      filename.indexOf('http://') !== 0 &&\n      filename.indexOf('https://') !== 0 &&\n      filename.indexOf('ftp://') !== 0\n    );\n  }\n\n  /**\n   * Remove the specified resources resolved URLs from the cache. Useful if the\n   * file represented by these resources has changed. This force these local files to be loaded again.\n   */\n  static burstUrlsCacheForResources(\n    project: gdProject,\n    resourcesNames: Array<string>\n  ) {\n    const resourcesManager = project.getResourcesManager();\n    resourcesNames.forEach(resourceName => {\n      if (resourcesManager.hasResource(resourceName)) {\n        ResourcesLoader._cache.burstUrl(\n          project,\n          resourcesManager.getResource(resourceName).getFile()\n        );\n      }\n    });\n  }\n\n  /**\n   * Re-create a new cache for URLs. Call this to force local\n   * file to be loaded again.\n   */\n  static burstAllUrlsCache() {\n    ResourcesLoader._cache = new UrlsCache();\n  }\n\n  /**\n   * Get the fully qualified URL/filename for a filename relative to the project.\n   */\n  static getFullUrl(\n    project: gdProject,\n    filename: string,\n    disableCacheBurst: boolean = false\n  ) {\n    const cachedUrl = ResourcesLoader._cache.getCachedUrl(project, filename);\n    if (cachedUrl) return cachedUrl;\n\n    if (electron && ResourcesLoader.isLocalFile(filename)) {\n      // Support local filesystem with Electron\n      const file = project.getProjectFile();\n      const projectPath = path.dirname(file);\n      const resourceAbsolutePath = path\n        .resolve(projectPath, filename)\n        .replace(/\\\\/g, '/');\n\n      console.info('Caching resolved local filename:', resourceAbsolutePath);\n      return this._cache.cacheLocalFileUrl(\n        project,\n        filename,\n        'file://' + resourceAbsolutePath,\n        disableCacheBurst\n      );\n    }\n\n    // URLs to non local files are unchanged\n    return this._cache.cacheUrl(project, filename);\n  }\n\n  /**\n   * Get the fully qualified URL/filename associated with the given resource.\n   */\n  static getResourceFullUrl(\n    project: gdProject,\n    resourceName: string,\n    disableCacheBurst: boolean = false\n  ) {\n    if (project.getResourcesManager().hasResource(resourceName)) {\n      const resourceRelativePath = project\n        .getResourcesManager()\n        .getResource(resourceName)\n        .getFile();\n      return ResourcesLoader.getFullUrl(\n        project,\n        resourceRelativePath,\n        disableCacheBurst\n      );\n    }\n\n    return resourceName;\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { I18nProvider } from '@lingui/react';\nimport { setupI18n } from '@lingui/core';\nimport { getTranslationFunction } from './getTranslationFunction';\nimport { type I18n as I18nType } from '@lingui/core';\nconst gd = global.gd;\n\ntype Catalog = any;\ntype Catalogs = {\n  [string]: Catalog,\n};\n\ntype Props = {|\n  language: string,\n  children: React.Node,\n|};\n\ntype State = {\n  language: string,\n  i18n: ?I18nType,\n  catalogs: Catalogs,\n};\n\nexport default class GDI18nProvider extends React.Component<Props, State> {\n  state = {\n    language: 'en',\n    catalogs: {},\n    i18n: null,\n  };\n\n  componentDidMount() {\n    this._loadLanguage(this.props.language);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.language !== this.props.language) {\n      this._loadLanguage(this.props.language);\n    }\n  }\n\n  _loadCatalog = (language: string): Promise<Catalogs> => {\n    if (this.state.catalogs[language]) {\n      return Promise.resolve(this.state.catalogs);\n    }\n\n    return import(/* webpackMode: \"lazy\", webpackChunkName: \"locales-[request]\" */\n    `../../locales/${language}/messages`).then(\n      catalog => {\n        return { ...this.state.catalogs, [language]: catalog };\n      },\n      (error: Error) => {\n        console.error('Error while loading language=' + language, error);\n        return this.state.catalogs;\n      }\n    );\n  };\n\n  _loadLanguage(language: string) {\n    this._loadCatalog(language).then(catalogs => {\n      this.setState(\n        {\n          language,\n          catalogs,\n          i18n: setupI18n({\n            language: language,\n            catalogs,\n          }),\n        },\n        () => {\n          const { i18n } = this.state;\n          gd.getTranslation = getTranslationFunction(i18n);\n          console.info(`Loaded \"${language}\" language`);\n        }\n      );\n    });\n  }\n\n  render() {\n    // Use language from the state, as it is synchronized with the catalogs,\n    // while the language from props is the \"target language\", and sometime\n    // can be a language for which the catalog is not loaded yet (which would\n    // create warning and a \"flash\" effect when changing language).\n    const { i18n, catalogs, language } = this.state;\n    const { children } = this.props;\n\n    if (!i18n) return null; // Skip rendering when catalog isn't loaded.\n\n    return (\n      <I18nProvider i18n={i18n} language={language} catalogs={catalogs}>\n        {children}\n      </I18nProvider>\n    );\n  }\n}\n","var map = {\n\t\"./af_ZA/messages\": [\n\t\t2371,\n\t\t5\n\t],\n\t\"./ar_SA/messages\": [\n\t\t2372,\n\t\t6\n\t],\n\t\"./az_AZ/messages\": [\n\t\t2373,\n\t\t7\n\t],\n\t\"./bg_BG/messages\": [\n\t\t2374,\n\t\t8\n\t],\n\t\"./bn_BD/messages\": [\n\t\t2375,\n\t\t9\n\t],\n\t\"./ca_ES/messages\": [\n\t\t2376,\n\t\t10\n\t],\n\t\"./cs_CZ/messages\": [\n\t\t2377,\n\t\t11\n\t],\n\t\"./da_DK/messages\": [\n\t\t2378,\n\t\t12\n\t],\n\t\"./de_DE/messages\": [\n\t\t2379,\n\t\t13\n\t],\n\t\"./el_GR/messages\": [\n\t\t2380,\n\t\t14\n\t],\n\t\"./en/messages\": [\n\t\t2381,\n\t\t15\n\t],\n\t\"./eo_UY/messages\": [\n\t\t2382,\n\t\t16\n\t],\n\t\"./es_ES/messages\": [\n\t\t2383,\n\t\t17\n\t],\n\t\"./fa_IR/messages\": [\n\t\t2384,\n\t\t18\n\t],\n\t\"./fi_FI/messages\": [\n\t\t2385,\n\t\t19\n\t],\n\t\"./fil_PH/messages\": [\n\t\t2386,\n\t\t20\n\t],\n\t\"./fr_FR/messages\": [\n\t\t2387,\n\t\t21\n\t],\n\t\"./ha_HG/messages\": [\n\t\t2388,\n\t\t22\n\t],\n\t\"./he_IL/messages\": [\n\t\t2389,\n\t\t23\n\t],\n\t\"./hi_IN/messages\": [\n\t\t2390,\n\t\t24\n\t],\n\t\"./hu_HU/messages\": [\n\t\t2391,\n\t\t25\n\t],\n\t\"./id_ID/messages\": [\n\t\t2392,\n\t\t26\n\t],\n\t\"./it_IT/messages\": [\n\t\t2393,\n\t\t27\n\t],\n\t\"./ja_JP/messages\": [\n\t\t2394,\n\t\t28\n\t],\n\t\"./ko_KR/messages\": [\n\t\t2395,\n\t\t29\n\t],\n\t\"./lt_LT/messages\": [\n\t\t2396,\n\t\t30\n\t],\n\t\"./mr_IN/messages\": [\n\t\t2397,\n\t\t31\n\t],\n\t\"./ms_MY/messages\": [\n\t\t2398,\n\t\t32\n\t],\n\t\"./my_MM/messages\": [\n\t\t2399,\n\t\t33\n\t],\n\t\"./nl_NL/messages\": [\n\t\t2400,\n\t\t34\n\t],\n\t\"./no_NO/messages\": [\n\t\t2401,\n\t\t35\n\t],\n\t\"./pl_PL/messages\": [\n\t\t2402,\n\t\t36\n\t],\n\t\"./pseudo_LOCALE/messages\": [\n\t\t2403,\n\t\t37\n\t],\n\t\"./pt_BR/messages\": [\n\t\t2404,\n\t\t38\n\t],\n\t\"./pt_PT/messages\": [\n\t\t2405,\n\t\t39\n\t],\n\t\"./ro_RO/messages\": [\n\t\t2406,\n\t\t40\n\t],\n\t\"./ru_RU/messages\": [\n\t\t2407,\n\t\t41\n\t],\n\t\"./sk_SK/messages\": [\n\t\t2408,\n\t\t42\n\t],\n\t\"./sr_CS/messages\": [\n\t\t2409,\n\t\t43\n\t],\n\t\"./sr_SP/messages\": [\n\t\t2410,\n\t\t44\n\t],\n\t\"./sv_SE/messages\": [\n\t\t2411,\n\t\t45\n\t],\n\t\"./th_TH/messages\": [\n\t\t2412,\n\t\t46\n\t],\n\t\"./tr_TR/messages\": [\n\t\t2413,\n\t\t47\n\t],\n\t\"./uk_UA/messages\": [\n\t\t2414,\n\t\t48\n\t],\n\t\"./ur_PK/messages\": [\n\t\t2415,\n\t\t49\n\t],\n\t\"./yo_NG/messages\": [\n\t\t2416,\n\t\t50\n\t],\n\t\"./zh_CN/messages\": [\n\t\t2417,\n\t\t51\n\t],\n\t\"./zh_TW/messages\": [\n\t\t2418,\n\t\t52\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 2183;\nmodule.exports = webpackAsyncContext;","// @flow\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\n\ntype State = {|\n  focused: boolean,\n  text: ?string,\n|};\n\ntype Props = {|\n  onChange: string => void,\n  value: string,\n  commitOnBlur?: boolean,\n  onFocus?: ({\n    currentTarget: {\n      value: string,\n    },\n    preventDefault: () => void,\n  }) => void,\n  onBlur?: ({\n    currentTarget: {\n      value: string,\n    },\n  }) => void,\n\n  // Some TextField props that can be reused:\n  disabled?: boolean,\n  errorText?: React.Node,\n  floatingLabelFixed?: boolean,\n  floatingLabelText?: React.Node,\n  fullWidth?: boolean,\n  hintText?: React.Node,\n  id?: string,\n  inputStyle?: Object,\n  max?: number,\n  min?: number,\n  multiLine?: boolean,\n  name?: string,\n  step?: number,\n  style?: Object,\n  type?: string,\n  rows?: number,\n  rowsMax?: number,\n|};\n\n/**\n * This component works like a material-ui TextField, except that\n * the value passed as props is not forced into the text field when the user\n * is typing. This is useful if the parent component can do modifications on the value:\n * the user won't be interrupted or have the value changed until he blurs the field.\n */\nexport default class SemiControlledTextField extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    focused: false,\n    text: null,\n  };\n\n  _field: ?any = null;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  getInputNode() {\n    if (this._field) return this._field.getInputNode();\n  }\n\n  render() {\n    const {\n      value,\n      onChange,\n      commitOnBlur,\n      onFocus,\n      onBlur,\n      ...otherProps\n    } = this.props;\n\n    return (\n      <TextField\n        {...otherProps}\n        ref={field => (this._field = field)}\n        value={this.state.focused ? this.state.text : value}\n        onFocus={event => {\n          this.setState({\n            focused: true,\n            text: this.props.value,\n          });\n\n          if (onFocus) onFocus(event);\n        }}\n        onChange={(event, newValue) => {\n          this.setState({\n            text: newValue,\n          });\n\n          if (!commitOnBlur) onChange(newValue);\n        }}\n        onBlur={event => {\n          onChange(event.currentTarget.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n\n          if (onBlur) onBlur(event);\n        }}\n      />\n    );\n  }\n}\n","// @flow\n\nconst gd = global.gd;\n\n/**\n * Tool function to save a serializable object to a JS object.\n * Most gd.* objects are \"serializable\", meaning they have a serializeTo\n * and unserializeFrom method.\n *\n * @param {*} serializable\n * @param {*} methodName The name of the serialization method. \"unserializeFrom\" by default\n */\nexport function serializeToJSObject(\n  serializable: gdSerializable,\n  methodName: string = 'serializeTo'\n) {\n  const serializedElement = new gd.SerializerElement();\n  serializable[methodName](serializedElement);\n  const object = JSON.parse(gd.Serializer.toJSON(serializedElement));\n  serializedElement.delete();\n\n  return object;\n}\n\n/**\n * Tool function to restore a serializable object from a JS object.\n * Most gd.* objects are \"serializable\", meaning they have a serializeTo\n * and unserializeFrom method.\n * @param {*} serializable A gd.* object to restore\n * @param {*} object The JS object to be used to restore the serializable.\n * @param {*} methodName The name of the unserialization method. \"unserializeFrom\" by default\n * @param {*} optionalProject The project to pass as argument for unserialization\n */\nexport function unserializeFromJSObject(\n  serializable: gdSerializable,\n  object: Object,\n  methodName: string = 'unserializeFrom',\n  optionalProject: ?gdProject = undefined\n) {\n  const serializedElement = gd.Serializer.fromJSObject(object);\n  if (!optionalProject) {\n    serializable[methodName](serializedElement);\n  } else {\n    // It's not uncommon for unserializeFrom methods of gd.* classes\n    // to require the project to be passed as first argument.\n    serializable[methodName](optionalProject, serializedElement);\n  }\n  serializedElement.delete();\n}\n","// @flow\nexport const selectableArea = 'selectable';\nexport const selectedArea = 'selected';\nexport const icon = 'icon';\n\nexport const largeSelectableArea = 'large-selectable';\nexport const largeSelectedArea = 'large-selected';\n\nexport const executableEventContainer = 'executable-event-container';\nexport const actionsContainer = 'actions-container';\nexport const conditionsContainer = 'conditions-container';\nexport const subInstructionsContainer = 'sub-instructions-container';\nexport const instructionParameter = 'instruction-parameter';\nexport const instructionInvalidParameter = 'instruction-invalid-parameter';\nexport const disabledText = 'disabled-text';\n\nexport const background = 'background';\n\nexport const eventsTree = 'events-tree';\nexport const eventsTreeWithSearchResults = 'with-search-results';\n\nexport const dropIndicator = 'drop-indicator';\nexport const cantDropIndicator = 'cant-drop-indicator';\n\nexport const linkContainer = 'link-container';\n","import muiThemeable from 'material-ui/styles/muiThemeable';\n\n/**\n * Expose the Material UI theme.\n * TODO: All components using muiThemeable HOC should be migrated to\n * use this component instead (will ease any future migration).\n */\nconst ThemeConsumer = props => props.children(props.muiTheme);\n\nexport default muiThemeable()(ThemeConsumer);\n","// @flow\n\nexport default (\n  name /*:string */,\n  exists /*:(string) => boolean */,\n  prefix /*: string */ = ''\n) => {\n  if (!exists(name)) return name;\n\n  let potentialName = prefix + name;\n  for (let i = 2; exists(potentialName); ++i) {\n    potentialName = prefix + name + i;\n  }\n\n  return potentialName;\n};\n","import React, { Component } from 'react';\nimport IconMenu from 'material-ui/IconMenu';\nimport ReactDOM from 'react-dom';\nimport ElectronMenuImplementation from './ElectronMenuImplementation';\nimport MaterialUIMenuImplementation from './MaterialUIMenuImplementation';\nimport optionalRequire from '../../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\nexport default class GDIconMenu extends Component {\n  constructor() {\n    super();\n    this.state = {\n      children: undefined,\n    };\n    this.menuImplementation = electron\n      ? new ElectronMenuImplementation()\n      : new MaterialUIMenuImplementation({ onClose: () => {} });\n  }\n\n  open = event => {\n    if (!this.iconMenu) return;\n\n    const node = ReactDOM.findDOMNode(this.iconMenu);\n    if (!node) return;\n\n    this.setState({\n      children: this.menuImplementation.buildFromTemplate(\n        this.props.buildMenuTemplate()\n      ),\n    });\n    this.menuImplementation.showMenu(node.getBoundingClientRect());\n\n    this.iconMenu.open('unknown', event);\n  };\n\n  _onClick = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (!this.iconMenu) return;\n\n    const node = ReactDOM.findDOMNode(this.iconMenu);\n    if (!node) return;\n\n    this.setState({\n      children: this.menuImplementation.buildFromTemplate(\n        this.props.buildMenuTemplate()\n      ),\n    });\n    this.menuImplementation.showMenu(node.getBoundingClientRect());\n  };\n\n  render() {\n    const { buildMenuTemplate, ...iconMenuProps } = this.props; //eslint-disable-line\n\n    // Use disableAutoFocus to avoid making TextField lose focus.\n    // See material-ui bug: https://github.com/callemall/material-ui/issues/4387\n    return (\n      <IconMenu\n        {...iconMenuProps}\n        onClick={this._onClick}\n        ref={iconMenu => (this.iconMenu = iconMenu)}\n        desktop\n        disableAutoFocus\n        {...this.menuImplementation.getMenuProps()}\n      >\n        {this.state.children}\n      </IconMenu>\n    );\n  }\n}\n","import React from 'react';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nconst styles = {\n  containerStyle: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flex: 1,\n    padding: 10,\n  },\n};\n\nexport default props => (\n  <div style={{ ...styles.containerStyle, ...props.style }}>\n    <CircularProgress size={40} />\n  </div>\n);\n","// @flow\nimport React, { PureComponent } from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport ThemeConsumer from './Theme/ThemeConsumer';\n// No i18n in this file\n\ntype Props = {\n  src: string,\n  tooltip?: string,\n  disabled?: boolean,\n  isGDevelopIcon?: boolean,\n  iconSize: number,\n};\n\n/**\n * An icon that can be used as the leftIcon of a material-ui ListItem.\n * See also ToolbarIcon.\n */\nexport default class ListIcon extends PureComponent<Props> {\n  render() {\n    const {\n      src,\n      tooltip,\n      disabled,\n      isGDevelopIcon,\n      iconSize,\n      ...otherProps\n    } = this.props;\n\n    const margin = -iconSize / 2;\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <IconButton\n            {...otherProps}\n            iconStyle={{\n              //Properly align icons with the rest of the list\n              marginLeft: margin,\n              marginTop: margin,\n              maxWidth: iconSize,\n              maxHeight: iconSize,\n              filter: !isGDevelopIcon\n                ? undefined\n                : disabled\n                ? 'grayscale(100%)'\n                : muiTheme.gdevelopIconsCSSFilter,\n            }}\n          >\n            <img\n              title={tooltip}\n              alt={tooltip}\n              src={src}\n              crossOrigin=\"anonymous\"\n            />\n          </IconButton>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","import { Component } from 'react';\nimport { NativeTypes } from 'react-dnd-html5-backend';\nimport { DropTarget } from 'react-dnd';\n\nclass SimpleDropTarget extends Component {\n  render() {\n    const { connectDropTarget } = this.props;\n    return connectDropTarget(this.props.children);\n  }\n}\n\nfunction collect(connect, monitor) {\n  return {\n    // Call this function inside render()\n    // to let React DnD handle the drag events:\n    connectDropTarget: connect.dropTarget(),\n    // You can ask the monitor about the current drag state:\n    isOver: monitor.isOver(),\n    isOverCurrent: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n    itemType: monitor.getItemType(),\n  };\n}\nconst spec = {\n  drop(props, monitor, component) {\n    if (monitor.didDrop()) {\n      // If you want, you can check whether some nested\n      // target already handled drop\n      return;\n    }\n\n    const item = monitor.getItem();\n    return { item };\n  },\n};\n\nexport default DropTarget(NativeTypes.TEXT, spec, collect)(SimpleDropTarget);\n","import LayerRenderer from './LayerRenderer';\nimport * as PIXI from 'pixi.js';\n\nexport default class InstancesRenderer {\n  constructor({\n    project,\n    layout,\n    instances,\n    viewPosition,\n    onInstanceClicked,\n    onOverInstance,\n    onOutInstance,\n    onMoveInstance,\n    onMoveInstanceEnd,\n    onDownInstance,\n  }) {\n    this.project = project;\n    this.instances = instances;\n    this.layout = layout;\n    this.viewPosition = viewPosition;\n    this.onInstanceClicked = onInstanceClicked;\n    this.onOverInstance = onOverInstance;\n    this.onOutInstance = onOutInstance;\n    this.onMoveInstance = onMoveInstance;\n    this.onMoveInstanceEnd = onMoveInstanceEnd;\n    this.onDownInstance = onDownInstance;\n\n    this.layersRenderers = {};\n\n    this.pixiContainer = new PIXI.Container();\n    this.instanceMeasurer = {\n      getInstanceLeft: instance => {\n        const layerName = instance.getLayer();\n        const layerRenderer = this.layersRenderers[layerName];\n        if (!layerRenderer) return instance.getX();\n\n        return layerRenderer.getInstanceLeft(instance);\n      },\n      getInstanceTop: instance => {\n        const layerName = instance.getLayer();\n        const layerRenderer = this.layersRenderers[layerName];\n        if (!layerRenderer) return instance.getY();\n\n        return layerRenderer.getInstanceTop(instance);\n      },\n      getInstanceWidth: instance => {\n        if (instance.hasCustomSize()) return instance.getCustomWidth();\n\n        const layerName = instance.getLayer();\n        const layerRenderer = this.layersRenderers[layerName];\n        if (!layerRenderer) return 0;\n\n        return layerRenderer.getInstanceWidth(instance);\n      },\n\n      getInstanceHeight: instance => {\n        if (instance.hasCustomSize()) return instance.getCustomHeight();\n\n        const layerName = instance.getLayer();\n        const layerRenderer = this.layersRenderers[layerName];\n        if (!layerRenderer) return 0;\n\n        return layerRenderer.getInstanceHeight(instance);\n      },\n      getInstanceRect: instance => {\n        return {\n          x: this.instanceMeasurer.getInstanceLeft(instance),\n          y: this.instanceMeasurer.getInstanceTop(instance),\n          width: this.instanceMeasurer.getInstanceWidth(instance),\n          height: this.instanceMeasurer.getInstanceHeight(instance),\n        };\n      },\n    };\n  }\n\n  getPixiContainer() {\n    return this.pixiContainer;\n  }\n\n  getInstanceMeasurer() {\n    return this.instanceMeasurer;\n  }\n\n  render() {\n    for (let i = 0; i < this.layout.getLayersCount(); i++) {\n      const layer = this.layout.getLayerAt(i);\n      const layerName = layer.getName();\n\n      let layerRenderer = this.layersRenderers[layerName];\n      if (!layerRenderer) {\n        this.layersRenderers[layerName] = layerRenderer = new LayerRenderer({\n          project: this.project,\n          layout: this.layout,\n          instances: this.instances,\n          viewPosition: this.viewPosition,\n          layer: layer,\n          onInstanceClicked: this.onInstanceClicked,\n          onOverInstance: this.onOverInstance,\n          onOutInstance: this.onOutInstance,\n          onMoveInstance: this.onMoveInstance,\n          onMoveInstanceEnd: this.onMoveInstanceEnd,\n          onDownInstance: this.onDownInstance,\n        });\n        this.pixiContainer.addChild(layerRenderer.getPixiContainer());\n      }\n\n      // /!\\ Objects representing layers can be deleted at any moment and replaced\n      // by new one, for example when two layers are swapped.\n      // We update the layer object of the renderer so that the renderer always has\n      // a valid layer object that can be used.\n      layerRenderer.layer = layer;\n      layerRenderer.wasUsed = true;\n      layerRenderer.getPixiContainer().zOrder = i;\n      layerRenderer.render();\n    }\n\n    this._updatePixiObjectsZOrder();\n    this._cleanRenderers();\n  }\n\n  _updatePixiObjectsZOrder() {\n    this.pixiContainer.children.sort((a, b) => {\n      a.zOrder = a.zOrder || 0;\n      b.zOrder = b.zOrder || 0;\n      return a.zOrder - b.zOrder;\n    });\n  }\n\n  /**\n   * Delete instance renderers of the specified objects, which will then be recreated during\n   * the next render.\n   * @param {string} objectName The name of the object for which instance must be re-rendered.\n   */\n  resetRenderersFor(objectName) {\n    for (let i in this.layersRenderers) {\n      if (this.layersRenderers.hasOwnProperty(i)) {\n        const layerRenderer = this.layersRenderers[i];\n        layerRenderer.resetRenderersFor(objectName);\n      }\n    }\n  }\n\n  /**\n   * Clean up rendered layers that are not existing anymore\n   */\n  _cleanRenderers() {\n    for (let i in this.layersRenderers) {\n      if (this.layersRenderers.hasOwnProperty(i)) {\n        const layerRenderer = this.layersRenderers[i];\n        if (!layerRenderer.wasUsed) {\n          this.pixiContainer.removeChild(layerRenderer.getPixiContainer());\n          layerRenderer.delete();\n          delete this.layersRenderers[i];\n        } else layerRenderer.wasUsed = false;\n      }\n    }\n  }\n\n  delete() {\n    for (let i in this.layersRenderers) {\n      if (this.layersRenderers.hasOwnProperty(i)) {\n        this.layersRenderers[i].delete();\n      }\n    }\n  }\n}\n","export default function transformRect(transformPoint, { x, y, width, height }) {\n  const startPos = transformPoint(x, y);\n  const endPos = transformPoint(x + width, y + height);\n  return {\n    x: startPos[0],\n    y: startPos[1],\n    width: endPos[0] - startPos[0],\n    height: endPos[1] - startPos[1],\n  };\n}\n","import gesture from 'pixi-simple-gesture';\nimport transformRect from '../Utils/TransformRect';\nimport * as PIXI from 'pixi.js';\n\nconst buttonSize = 10;\nconst smallButtonSize = 8;\nconst buttonPadding = 5;\n\nconst RECTANGLE_BUTTON_SHAPE = 0;\nconst CIRCLE_BUTTON_SHAPE = 1;\n\nexport default class InstancesSelection {\n  constructor({\n    instancesSelection,\n    instanceMeasurer,\n    onResize,\n    onResizeEnd,\n    onRotate,\n    onRotateEnd,\n    toCanvasCoordinates,\n  }) {\n    this.instanceMeasurer = instanceMeasurer;\n    this.onResize = onResize;\n    this.onResizeEnd = onResizeEnd;\n    this.onRotate = onRotate;\n    this.onRotateEnd = onRotateEnd;\n    this.toCanvasCoordinates = toCanvasCoordinates;\n    this.instancesSelection = instancesSelection;\n\n    this.pixiContainer = new PIXI.Container();\n    this.rectanglesContainer = new PIXI.Container();\n    this.selectedRectangles = [];\n    this.pixiContainer.addChild(this.rectanglesContainer);\n\n    this.resizeButton = new PIXI.Graphics();\n    this.resizeIcon = new PIXI.Sprite.fromImage('res/actions/direction.png');\n    this.rightResizeButton = new PIXI.Graphics();\n    this.bottomResizeButton = new PIXI.Graphics();\n    this.rotateButton = new PIXI.Graphics();\n    this._makeButton(\n      this.resizeButton,\n      event => {\n        this.onResize(event.deltaX, event.deltaY);\n      },\n      () => {\n        this.onResizeEnd();\n      },\n      'nwse-resize'\n    );\n    this._makeButton(\n      this.rightResizeButton,\n      event => {\n        this.onResize(event.deltaX, 0);\n      },\n      () => {\n        this.onResizeEnd();\n      },\n      'ew-resize'\n    );\n    this._makeButton(\n      this.bottomResizeButton,\n      event => {\n        this.onResize(0, event.deltaY);\n      },\n      () => {\n        this.onResizeEnd();\n      },\n      'ns-resize'\n    );\n    this._makeButton(\n      this.rotateButton,\n      event => {\n        this.onRotate(event.deltaX, event.deltaY);\n      },\n      () => {\n        this.onRotateEnd();\n      },\n      'url(\"res/actions/rotate24.png\"),auto'\n    );\n  }\n\n  _makeButton(objectButton, onMove, onEnd, cursor) {\n    objectButton.interactive = true;\n    objectButton.buttonMode = true;\n    objectButton.cursor = cursor;\n    gesture.panable(objectButton);\n    objectButton.on('panmove', onMove);\n    objectButton.on('panend', onEnd);\n    this.pixiContainer.addChild(objectButton);\n  }\n\n  getPixiContainer() {\n    return this.pixiContainer;\n  }\n\n  _renderButton(\n    show,\n    buttonObject,\n    canvasPosition,\n    size,\n    shape = RECTANGLE_BUTTON_SHAPE\n  ) {\n    buttonObject.clear();\n    if (!show) {\n      buttonObject.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n      return;\n    }\n\n    buttonObject.beginFill(0xffffff);\n    buttonObject.lineStyle(1, 0x6868e8, 1);\n    buttonObject.fillAlpha = 0.9;\n    if (shape === RECTANGLE_BUTTON_SHAPE) {\n      buttonObject.drawRect(canvasPosition[0], canvasPosition[1], size, size);\n    } else if (shape === CIRCLE_BUTTON_SHAPE) {\n      buttonObject.drawCircle(\n        canvasPosition[0] + size / 2,\n        canvasPosition[1] + size / 2,\n        size / 2\n      );\n    }\n\n    buttonObject.endFill();\n    buttonObject.hitArea = new PIXI.Rectangle(\n      canvasPosition[0],\n      canvasPosition[1],\n      size,\n      size\n    );\n  }\n\n  render() {\n    const selection = this.instancesSelection.getSelectedInstances();\n    let x1;\n    let y1;\n    let x2;\n    let y2;\n\n    //Update the selection rectangle of each instance\n    for (var i = 0; i < selection.length; i++) {\n      if (this.selectedRectangles.length === i) {\n        const newRectangle = new PIXI.Graphics();\n        newRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n        this.selectedRectangles.push(newRectangle);\n        this.rectanglesContainer.addChild(newRectangle);\n      }\n\n      const instance = selection[i];\n      const instanceRect = this.instanceMeasurer.getInstanceRect(instance);\n      const selectionRectangle = transformRect(\n        this.toCanvasCoordinates,\n        instanceRect\n      );\n\n      this.selectedRectangles[i].clear();\n      this.selectedRectangles[i].beginFill(0x6868e8);\n      this.selectedRectangles[i].lineStyle(1, 0x6868e8, 1);\n      this.selectedRectangles[i].fillAlpha = 0.3;\n      this.selectedRectangles[i].alpha = 0.8;\n      this.selectedRectangles[i].drawRect(\n        selectionRectangle.x,\n        selectionRectangle.y,\n        selectionRectangle.width,\n        selectionRectangle.height\n      );\n      this.selectedRectangles[i].endFill();\n\n      if (x1 === undefined || instanceRect.x < x1) x1 = instanceRect.x;\n      if (y1 === undefined || instanceRect.y < y1) y1 = instanceRect.y;\n      if (x2 === undefined || instanceRect.x + instanceRect.width > x2)\n        x2 = instanceRect.x + instanceRect.width;\n      if (y2 === undefined || instanceRect.y + instanceRect.height > y2)\n        y2 = instanceRect.y + instanceRect.height;\n    }\n\n    while (this.selectedRectangles.length > selection.length) {\n      this.rectanglesContainer.removeChild(this.selectedRectangles.pop());\n    }\n\n    //Position the resize button.\n    const show = selection.length !== 0;\n    const resizeButtonPos = this.toCanvasCoordinates(x2, y2);\n    resizeButtonPos[0] += buttonPadding;\n    resizeButtonPos[1] += buttonPadding;\n\n    const rightResizeButtonPos = this.toCanvasCoordinates(\n      x2,\n      y1 + (y2 - y1) / 2\n    );\n    rightResizeButtonPos[0] += buttonPadding;\n    rightResizeButtonPos[1] -= -smallButtonSize / 2;\n\n    const bottomResizeButtonPos = this.toCanvasCoordinates(\n      x1 + (x2 - x1) / 2,\n      y2\n    );\n    bottomResizeButtonPos[0] -= -smallButtonSize / 2;\n    bottomResizeButtonPos[1] += buttonPadding;\n\n    const rotateButtonPos = this.toCanvasCoordinates(x1 + (x2 - x1) / 2, y1);\n    rotateButtonPos[0] -= -smallButtonSize / 2;\n    rotateButtonPos[1] -= buttonPadding * 4;\n\n    this._renderButton(show, this.resizeButton, resizeButtonPos, buttonSize);\n    this._renderButton(\n      show,\n      this.rightResizeButton,\n      rightResizeButtonPos,\n      smallButtonSize\n    );\n    this._renderButton(\n      show,\n      this.bottomResizeButton,\n      bottomResizeButtonPos,\n      smallButtonSize\n    );\n    this._renderButton(\n      show,\n      this.rotateButton,\n      rotateButtonPos,\n      smallButtonSize,\n      CIRCLE_BUTTON_SHAPE\n    );\n  }\n}\n","import transformRect from '../Utils/TransformRect';\nimport * as PIXI from 'pixi.js';\n\nexport default class InstancesSelection {\n  constructor({ instanceMeasurer, toCanvasCoordinates }) {\n    this.instanceMeasurer = instanceMeasurer;\n    this.toCanvasCoordinates = toCanvasCoordinates;\n\n    this.highlightedInstance = null;\n    this.highlightRectangle = new PIXI.Graphics();\n    this.highlightRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n\n    this.tooltipBackground = new PIXI.Graphics();\n    this.tooltipText = new PIXI.Text('', {\n      fontSize: 15,\n      fill: 0xffffff,\n      align: 'center',\n    });\n    this.highlightRectangle.addChild(this.tooltipBackground);\n    this.highlightRectangle.addChild(this.tooltipText);\n  }\n\n  setInstance(instance) {\n    this.highlightedInstance = instance;\n  }\n\n  getInstance() {\n    return this.highlightedInstance;\n  }\n\n  getPixiObject(instance) {\n    return this.highlightRectangle;\n  }\n\n  render() {\n    if (this.highlightedInstance === null) {\n      this.highlightRectangle.visible = false;\n      return;\n    }\n\n    const highlightRectangle = transformRect(\n      this.toCanvasCoordinates,\n      this.instanceMeasurer.getInstanceRect(this.highlightedInstance)\n    );\n\n    this.highlightRectangle.visible = true;\n    this.highlightRectangle.clear();\n    this.highlightRectangle.beginFill(0xeeeeff);\n    this.highlightRectangle.fillAlpha = 0.1;\n    this.highlightRectangle.alpha = 0.8;\n    this.highlightRectangle.lineStyle(1, 0x000000, 1);\n    this.highlightRectangle.drawRect(\n      highlightRectangle.x,\n      highlightRectangle.y,\n      highlightRectangle.width,\n      highlightRectangle.height\n    );\n    this.highlightRectangle.endFill();\n\n    const tooltipInfo =\n      this.highlightedInstance.getObjectName() +\n      '\\n' +\n      'X: ' +\n      parseInt(this.highlightedInstance.getX()) +\n      '  Y: ' +\n      parseInt(this.highlightedInstance.getY()) +\n      '\\n' +\n      'Layer: ' +\n      this.highlightedInstance.getLayer() +\n      '  Z: ' +\n      this.highlightedInstance.getZOrder() +\n      '\\n';\n    this.tooltipText.text = tooltipInfo;\n\n    this.tooltipText.x = Math.round(\n      highlightRectangle.x -\n        this.tooltipText.width / 2 +\n        highlightRectangle.width / 2\n    );\n    this.tooltipText.y = Math.round(\n      highlightRectangle.y - this.tooltipText.height\n    );\n\n    const padding = 5;\n    this.tooltipBackground.clear();\n    this.tooltipBackground.beginFill(0x000000, 0.8);\n    this.tooltipBackground.drawRoundedRect(\n      this.tooltipText.x - padding,\n      this.tooltipText.y - padding,\n      this.tooltipText.width + padding * 2,\n      this.tooltipText.height - padding,\n      4\n    );\n    this.tooltipBackground.endFill();\n  }\n}\n","export default class InstancesResizer {\n  constructor({ instanceMeasurer, options }) {\n    this.instanceMeasurer = instanceMeasurer;\n    this.options = options;\n    this.instanceSizes = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  _roundWidth(width) {\n    if (!this.options.snap || !this.options.grid || this.options.gridWidth <= 0)\n      return Math.max(Math.round(width), 1);\n\n    return Math.max(\n      Math.round(width / this.options.gridWidth) * this.options.gridWidth,\n      1\n    );\n  }\n\n  _roundHeight(height) {\n    if (\n      !this.options.snap ||\n      !this.options.grid ||\n      this.options.gridHeight <= 0\n    )\n      return Math.max(Math.round(height), 1);\n\n    return Math.max(\n      Math.round(height / this.options.gridHeight) * this.options.gridHeight,\n      1\n    );\n  }\n\n  _getSizeDeltaX(proportional, initialSize) {\n    if (proportional && Math.abs(this.totalDeltaX) < Math.abs(this.totalDeltaY))\n      return (initialSize.width / initialSize.height) * this.totalDeltaY;\n\n    return this.totalDeltaX;\n  }\n\n  _getSizeDeltaY(proportional, initialSize) {\n    if (proportional && Math.abs(this.totalDeltaY) < Math.abs(this.totalDeltaX))\n      return (initialSize.height / initialSize.width) * this.totalDeltaX;\n\n    return this.totalDeltaY;\n  }\n\n  resizeBy(instances, deltaX, deltaY, proportional) {\n    this.totalDeltaX += deltaX;\n    this.totalDeltaY += deltaY;\n\n    for (let i = 0; i < instances.length; i++) {\n      const selectedInstance = instances[i];\n\n      if (!selectedInstance.hasCustomSize()) {\n        selectedInstance.setCustomWidth(\n          this.instanceMeasurer.getInstanceWidth(selectedInstance)\n        );\n        selectedInstance.setCustomHeight(\n          this.instanceMeasurer.getInstanceHeight(selectedInstance)\n        );\n      }\n\n      let initialSize = this.instanceSizes[selectedInstance.ptr];\n      if (!initialSize) {\n        initialSize = this.instanceSizes[selectedInstance.ptr] = {\n          width: selectedInstance.getCustomWidth(),\n          height: selectedInstance.getCustomHeight(),\n        };\n      }\n\n      selectedInstance.setHasCustomSize(true);\n      selectedInstance.setCustomWidth(\n        this._roundWidth(\n          initialSize.width + this._getSizeDeltaX(proportional, initialSize)\n        )\n      );\n      selectedInstance.setCustomHeight(\n        this._roundHeight(\n          initialSize.height + this._getSizeDeltaY(proportional, initialSize)\n        )\n      );\n    }\n  }\n\n  endResize() {\n    this.instanceSizes = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n}\n","export default class InstancesRotator {\n  constructor() {\n    this.instanceAngles = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n\n  _getNewAngle(proportional: boolean, initialAngle: number) {\n    const angle =\n      (Math.atan2(this.totalDeltaY, this.totalDeltaX) * 180) / Math.PI +\n      initialAngle;\n    return proportional ? Math.round(angle / 15) * 15 : angle;\n  }\n\n  rotateBy(instances, deltaX, deltaY, proportional) {\n    this.totalDeltaX += deltaX;\n    this.totalDeltaY += deltaY;\n\n    for (let i = 0; i < instances.length; i++) {\n      const selectedInstance = instances[i];\n      let initialAngle = this.instanceAngles[selectedInstance.ptr];\n      if (initialAngle === undefined) {\n        initialAngle = this.instanceAngles[\n          selectedInstance.ptr\n        ] = selectedInstance.getAngle();\n      }\n      selectedInstance.setAngle(this._getNewAngle(proportional, initialAngle));\n    }\n  }\n\n  endRotate() {\n    this.instanceAngles = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n}\n","import { roundPosition } from '../Utils/GridHelpers';\n\nexport default class InstancesMover {\n  constructor({ instanceMeasurer, options }) {\n    this.instanceMeasurer = instanceMeasurer;\n    this.options = options;\n    this.instancePositions = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  _roundXPosition(x, noGridSnap) {\n    if (!this.options.snap || !this.options.grid || noGridSnap)\n      return Math.round(x);\n\n    return roundPosition(x, this.options.gridWidth, this.options.gridOffsetX);\n  }\n\n  _roundYPosition(y, noGridSnap) {\n    if (!this.options.snap || !this.options.grid || noGridSnap)\n      return Math.round(y);\n\n    return roundPosition(y, this.options.gridHeight, this.options.gridOffsetY);\n  }\n\n  _getMoveDeltaX(followAxis) {\n    if (followAxis && Math.abs(this.totalDeltaX) < Math.abs(this.totalDeltaY))\n      return 0;\n\n    return this.totalDeltaX;\n  }\n\n  _getMoveDeltaY(followAxis) {\n    if (followAxis && Math.abs(this.totalDeltaY) < Math.abs(this.totalDeltaX))\n      return 0;\n\n    return this.totalDeltaY;\n  }\n\n  moveBy(instances, deltaX, deltaY, followAxis, noGridSnap) {\n    this.totalDeltaX += deltaX;\n    this.totalDeltaY += deltaY;\n\n    for (var i = 0; i < instances.length; i++) {\n      const selectedInstance = instances[i];\n\n      let initialPosition = this.instancePositions[selectedInstance.ptr];\n      if (!initialPosition) {\n        initialPosition = this.instancePositions[selectedInstance.ptr] = {\n          x: selectedInstance.getX(),\n          y: selectedInstance.getY(),\n        };\n      }\n\n      selectedInstance.setX(\n        this._roundXPosition(\n          initialPosition.x + this._getMoveDeltaX(followAxis),\n          noGridSnap\n        )\n      );\n      selectedInstance.setY(\n        this._roundYPosition(\n          initialPosition.y + this._getMoveDeltaY(followAxis),\n          noGridSnap\n        )\n      );\n    }\n  }\n\n  endMove() {\n    this.instancePositions = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n}\n","import * as PIXI from 'pixi.js';\n\nexport default class SelectionRectangle {\n  constructor({ viewPosition, options }) {\n    this.viewPosition = viewPosition;\n    this.options = options;\n\n    this.pixiGrid = new PIXI.Graphics();\n    this.pixiGrid.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  getPixiObject() {\n    return this.pixiGrid;\n  }\n\n  render() {\n    const options = this.options;\n\n    if (!options.grid) {\n      this.pixiGrid.visible = false;\n      return;\n    }\n\n    this.pixiGrid.visible = true;\n    this.pixiGrid.clear();\n    this.pixiGrid.beginFill(0x6868e8);\n    this.pixiGrid.lineStyle(1, 0x6868e8, 1);\n    this.pixiGrid.fillAlpha = 0.1;\n    this.pixiGrid.alpha = 0.8;\n\n    const sceneStartPoint = this.viewPosition.toSceneCoordinates(0, 0);\n    const sceneEndPoint = this.viewPosition.toSceneCoordinates(\n      this.viewPosition.getWidth(),\n      this.viewPosition.getHeight()\n    );\n\n    const startXPos =\n      Math.floor(sceneStartPoint[0] / options.gridWidth) * options.gridWidth;\n    const startYPos =\n      Math.floor(sceneStartPoint[1] / options.gridHeight) * options.gridHeight;\n\n    const endXPos =\n      Math.ceil(sceneEndPoint[0] / options.gridWidth) * options.gridWidth;\n    const endYPos =\n      Math.ceil(sceneEndPoint[1] / options.gridHeight) * options.gridHeight;\n\n    for (\n      let Xpos = startXPos + options.gridOffsetX;\n      Xpos < endXPos;\n      Xpos += options.gridWidth\n    ) {\n      const start = this.viewPosition.toCanvasCoordinates(Xpos, startYPos);\n      const end = this.viewPosition.toCanvasCoordinates(Xpos, endYPos);\n\n      this.pixiGrid.moveTo(start[0], start[1]);\n      this.pixiGrid.lineTo(end[0], end[1]);\n    }\n\n    for (\n      let Ypos = startYPos + options.gridOffsetY;\n      Ypos < endYPos;\n      Ypos += options.gridHeight\n    ) {\n      const start = this.viewPosition.toCanvasCoordinates(startXPos, Ypos);\n      const end = this.viewPosition.toCanvasCoordinates(endXPos, Ypos);\n\n      this.pixiGrid.moveTo(start[0], start[1]);\n      this.pixiGrid.lineTo(end[0], end[1]);\n    }\n\n    this.pixiGrid.endFill();\n  }\n}\n","import * as PIXI from 'pixi.js';\nimport transformRect from '../Utils/TransformRect';\nimport { rgbToHexNumber } from '../Utils/ColorTransformer';\n\nexport default class WindowBorder {\n  constructor({ project, layout, toCanvasCoordinates }) {\n    this.project = project;\n    this.layout = layout;\n    this.toCanvasCoordinates = toCanvasCoordinates;\n\n    this.pixiRectangle = new PIXI.Graphics();\n    this.pixiRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n    this.windowRectangle = {\n      x: 0,\n      y: 0,\n      width: this.project.getMainWindowDefaultWidth(),\n      height: this.project.getMainWindowDefaultHeight(),\n    };\n  }\n\n  getPixiObject() {\n    return this.pixiRectangle;\n  }\n\n  render() {\n    const displayedRectangle = transformRect(\n      this.toCanvasCoordinates,\n      this.windowRectangle\n    );\n\n    this.pixiRectangle.clear();\n    this.pixiRectangle.beginFill(0x000000);\n    this.pixiRectangle.lineStyle(\n      1,\n      rgbToHexNumber(\n        128 + (this.layout.getBackgroundColorRed() % 256),\n        128 + (this.layout.getBackgroundColorBlue() % 256),\n        128 + (this.layout.getBackgroundColorGreen() % 256)\n      ),\n      1\n    );\n    this.pixiRectangle.alpha = 1;\n    this.pixiRectangle.fillAlpha = 0;\n    this.pixiRectangle.drawRect(\n      displayedRectangle.x,\n      displayedRectangle.y,\n      displayedRectangle.width,\n      displayedRectangle.height\n    );\n    this.pixiRectangle.endFill();\n  }\n}\n","import * as PIXI from 'pixi.js';\nimport transformRect from '../Utils/TransformRect';\n\nexport default class WindowBorder {\n  constructor({ project, viewPosition, options }) {\n    this.project = project;\n    this.viewPosition = viewPosition;\n    this.options = options;\n\n    this.pixiRectangle = new PIXI.Graphics();\n    this.pixiRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n    this.windowRectangle = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n    };\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  getPixiObject() {\n    return this.pixiRectangle;\n  }\n\n  render() {\n    const options = this.options;\n\n    if (!options.windowMask) {\n      this.pixiRectangle.visible = false;\n      return;\n    }\n\n    const width = this.project.getMainWindowDefaultWidth();\n    const height = this.project.getMainWindowDefaultHeight();\n    this.windowRectangle.x = this.viewPosition.getViewX() - width / 2;\n    this.windowRectangle.y = this.viewPosition.getViewY() - height / 2;\n    this.windowRectangle.width = width;\n    this.windowRectangle.height = height;\n\n    const displayedRectangle = transformRect(\n      this.viewPosition.toCanvasCoordinates,\n      this.windowRectangle\n    );\n\n    this.pixiRectangle.visible = true;\n    this.pixiRectangle.clear();\n    this.pixiRectangle.beginFill(0x000000);\n    this.pixiRectangle.lineStyle(1, 0x000000, 1);\n    this.pixiRectangle.alpha = 1;\n    this.pixiRectangle.fillAlpha = 0;\n    this.pixiRectangle.drawRect(\n      displayedRectangle.x,\n      displayedRectangle.y,\n      displayedRectangle.width,\n      displayedRectangle.height\n    );\n    this.pixiRectangle.endFill();\n  }\n}\n","export default class DropHandler {\n  constructor({ canvas, onDrop }) {\n    canvas.ondragover = canvas.ondrop = ev => {\n      ev.dataTransfer.dropEffect = 'copy';\n      ev.preventDefault();\n    };\n\n    canvas.ondrop = ev => {\n      const canvasRect = canvas.getBoundingClientRect();\n      const name = ev.dataTransfer.getData('text');\n      if (name)\n        onDrop(ev.clientX - canvasRect.left, ev.clientY - canvasRect.top, name);\n\n      ev.preventDefault();\n    };\n  }\n}\n","// @flow\nimport * as PIXI from 'pixi.js';\nimport { rgbToHex } from '../Utils/ColorTransformer';\n\ntype Props = {|\n  layout: gdLayout,\n  pixiRenderer: PIXI.Renderer,\n|};\n\nexport default class BackgroundColor {\n  layout: gdLayout;\n  pixiRenderer: PIXI.Renderer;\n\n  constructor({ layout, pixiRenderer }: Props) {\n    this.layout = layout;\n    this.pixiRenderer = pixiRenderer;\n  }\n\n  render() {\n    this.pixiRenderer.backgroundColor = parseInt(\n      parseInt(\n        rgbToHex(\n          this.layout.getBackgroundColorRed(),\n          this.layout.getBackgroundColorGreen(),\n          this.layout.getBackgroundColorBlue()\n        ),\n        16\n      ),\n      10\n    );\n  }\n}\n","// @flow\n\n/**\n * Provide a method shouldUpdate that can be called in a game loop or in\n * a method used in renderAnimationFrame, and which indicate if the rendering/update\n * of the scene should be done according to the desired framerate.\n */\nexport default class FpsLimiter {\n  _lastFrameTime: number;\n  _interval: number;\n  _forceUpdate: boolean;\n\n  constructor(maxFps: number) {\n    this._lastFrameTime = Date.now();\n    this._interval = 1000 / maxFps;\n    this._forceUpdate = false;\n  }\n\n  shouldUpdate() {\n    const now = Date.now();\n    const delta = now - this._lastFrameTime;\n\n    if (delta > this._interval || this._forceUpdate) {\n      this._lastFrameTime = now - (delta % this._interval);\n      this._forceUpdate = false;\n      return true;\n    }\n\n    return false;\n  }\n\n  forceNextUpdate() {\n    this._forceUpdate = true;\n  }\n}\n","import * as PIXI from 'pixi.js';\n\n// PIXI has a ticker that is used by PIXI InteractionManager, and which\n// frequently check if interaction happened. We may want to disable it\n// when it's useless to do these interaction checks to save CPU usage.\n\n/**\n *  Stop the PIXI Ticker used to monitor interactions\n */\nexport const stopPIXITicker = () => {\n  const ticker = PIXI.ticker && PIXI.ticker.shared;\n  if (ticker) ticker.stop();\n};\n\n/**\n * Start the PIXI Ticker used to monitor interactions\n */\nexport const startPIXITicker = () => {\n  // Timeout ensure that the ticker is started even if other components\n  // call stopPIXITicker during the same tick (for example, when switching\n  // between SceneEditor tabs).\n  setTimeout(() => {\n    const ticker = PIXI.ticker && PIXI.ticker.shared;\n    if (ticker) ticker.start();\n  }, 50);\n};\n","// @flow\nimport * as PIXI from 'pixi.js';\n\ntype Props = {\n  getLastCursorPosition: () => [number, number],\n  width: number,\n  height: number,\n};\n\nexport default class StatusBar {\n  _width: number;\n  _height: number;\n  _getLastCursorPosition: () => [number, number];\n  _statusBarContainer: PIXI.Container;\n  _statusBarBackground: PIXI.Graphics;\n  _statusBarText: PIXI.Text;\n\n  constructor({ getLastCursorPosition, width, height }: Props) {\n    this._getLastCursorPosition = getLastCursorPosition;\n    this._statusBarContainer = new PIXI.Container();\n    this._statusBarContainer.alpha = 0.8;\n    this._statusBarContainer.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n    this._statusBarBackground = new PIXI.Graphics();\n    this._statusBarText = new PIXI.Text('', {\n      fontSize: 15,\n      fill: 0xffffff,\n      align: 'left',\n    });\n    this._statusBarContainer.addChild(this._statusBarBackground);\n    this._statusBarContainer.addChild(this._statusBarText);\n    this.resize(width, height);\n  }\n\n  resize(width: number, height: number) {\n    this._width = width;\n    this._height = height;\n  }\n\n  getPixiObject(): PIXI.Container {\n    return this._statusBarContainer;\n  }\n\n  render() {\n    const padding = 5;\n    const borderRadius = 4;\n    const [x, y] = this._getLastCursorPosition();\n    this._statusBarText.text = `${x.toFixed(0)};${y.toFixed(0)}`;\n    this._statusBarText.position.x = 0 + padding;\n    this._statusBarText.position.y = Math.round(\n      this._height - padding - this._statusBarText.height\n    );\n\n    this._statusBarBackground.clear();\n    this._statusBarBackground.beginFill(0x000000, 0.8);\n    this._statusBarBackground.drawRoundedRect(\n      0 - borderRadius,\n      this._height - padding * 2 - this._statusBarText.height,\n      this._statusBarText.width + padding * 2 + borderRadius,\n      this._statusBarText.height + padding * 2 + borderRadius,\n      borderRadius\n    );\n    this._statusBarBackground.endFill();\n  }\n}\n","// @flow\n\ntype Props = {|\n  canvas: HTMLDivElement,\n  shouldMoveView: () => boolean,\n|};\n\n/**\n * Change the cursor displayed when hovering the canvas.\n *\n * Some elements on the canvas (for example, resize buttons)\n * can also set their own cursor - this class is only for the canvas.\n */\nexport default class CanvasCursor {\n  canvas: HTMLDivElement;\n  shouldMoveView: () => boolean;\n\n  constructor({ canvas, shouldMoveView }: Props) {\n    this.canvas = canvas;\n    this.shouldMoveView = shouldMoveView;\n  }\n\n  render() {\n    if (this.shouldMoveView()) {\n      this.canvas.style.cursor = 'grab';\n      if (this.canvas.style.cursor !== 'grab') {\n        this.canvas.style.cursor = '-webkit-grab';\n      }\n      return;\n    }\n\n    this.canvas.style.cursor = 'default';\n  }\n}\n","import React, { Component } from 'react';\nimport gesture from 'pixi-simple-gesture';\nimport KeyboardShortcuts from '../UI/KeyboardShortcuts';\nimport SimpleDropTarget from '../Utils/DragDropHelpers/SimpleDropTarget';\nimport InstancesRenderer from './InstancesRenderer';\nimport ViewPosition from './ViewPosition';\nimport SelectedInstances from './SelectedInstances';\nimport HighlightedInstance from './HighlightedInstance';\nimport SelectionRectangle from './SelectionRectangle';\nimport InstancesResizer from './InstancesResizer';\nimport InstancesRotator from './InstancesRotator';\nimport InstancesMover from './InstancesMover';\nimport Grid from './Grid';\nimport WindowBorder from './WindowBorder';\nimport WindowMask from './WindowMask';\nimport DropHandler from './DropHandler';\nimport BackgroundColor from './BackgroundColor';\nimport * as PIXI from 'pixi.js';\nimport FpsLimiter from './FpsLimiter';\nimport { startPIXITicker, stopPIXITicker } from '../Utils/PIXITicker';\nimport StatusBar from './StatusBar';\nimport CanvasCursor from './CanvasCursor';\n\nconst styles = {\n  canvasArea: { flex: 1, position: 'absolute', overflow: 'hidden' },\n  dropCursor: { cursor: 'copy' },\n};\n\nexport default class InstancesEditorContainer extends Component {\n  constructor() {\n    super();\n\n    this.lastContextMenuX = 0;\n    this.lastContextMenuY = 0;\n    this.lastCursorX = 0;\n    this.lastCursorY = 0;\n\n    this.fpsLimiter = new FpsLimiter(28);\n  }\n\n  componentDidMount() {\n    // Initialize the PIXI renderer, if possible\n    if (this.canvasArea && !this.pixiRenderer) {\n      this._initializeCanvasAndRenderer();\n    }\n  }\n\n  componentDidUpdate() {\n    // Initialize the PIXI renderer, if not already done.\n    // This can happen if canvasArea was not rendered\n    // just after the mount (depends on react-dnd versions?).\n    if (this.canvasArea && !this.pixiRenderer) {\n      this._initializeCanvasAndRenderer();\n    }\n  }\n\n  _initializeCanvasAndRenderer() {\n    // project can be used here for initializing stuff, but don't keep references to it.\n    // Instead, create editors in _mountEditorComponents (as they will be destroyed/recreated\n    // if the project changes).\n    const { project } = this.props;\n\n    this.pixiRenderer = PIXI.autoDetectRenderer(\n      this.props.width,\n      this.props.height,\n      { antialias: true } //fixes jaggy edges\n    );\n    this.canvasArea.appendChild(this.pixiRenderer.view);\n    this.pixiRenderer.view.addEventListener('contextmenu', e => {\n      e.preventDefault();\n\n      this.lastContextMenuX = e.offsetX;\n      this.lastContextMenuY = e.offsetY;\n      if (this.props.onContextMenu)\n        this.props.onContextMenu(e.clientX, e.clientY);\n\n      return false;\n    });\n    this.pixiRenderer.view.addEventListener('pointerup', event => {\n      this.props.onPointerUp();\n    });\n    this.pixiRenderer.view.addEventListener('pointerover', event => {\n      this.props.onPointerOver();\n    });\n    this.pixiRenderer.view.addEventListener('pointerout', event => {\n      this.props.onPointerOut();\n    });\n    this.pixiRenderer.view.onmousewheel = event => {\n      if (this.keyboardShortcuts.shouldZoom()) {\n        this.zoomBy(event.wheelDelta / 5000);\n      } else if (this.keyboardShortcuts.shouldScrollHorizontally()) {\n        this.viewPosition.scrollBy(-event.wheelDelta / 10, 0);\n      } else {\n        this.viewPosition.scrollBy(event.deltaX / 10, event.deltaY / 10);\n      }\n\n      if (this.props.onViewPositionChanged) {\n        this.props.onViewPositionChanged(this.viewPosition);\n      }\n      event.preventDefault();\n    };\n    this.pixiRenderer.view.setAttribute('tabIndex', -1);\n    this.pixiRenderer.view.addEventListener('focus', e => {\n      this.keyboardShortcuts.focus();\n    });\n    this.pixiRenderer.view.addEventListener('blur', e => {\n      this.keyboardShortcuts.blur();\n    });\n    this.pixiRenderer.view.addEventListener('mouseover', e => {\n      this.keyboardShortcuts.focus();\n    });\n    this.pixiRenderer.view.addEventListener('mouseout', e => {\n      this.keyboardShortcuts.blur();\n    });\n\n    this.pixiContainer = new PIXI.Container();\n\n    this.backgroundArea = new PIXI.Container();\n    this.backgroundArea.hitArea = new PIXI.Rectangle(\n      0,\n      0,\n      this.props.width,\n      this.props.height\n    );\n    gesture.panable(this.backgroundArea);\n    this.backgroundArea.on('mousedown', event =>\n      this._onBackgroundClicked(event.data.global.x, event.data.global.y)\n    );\n    this.backgroundArea.on('touchstart', event =>\n      this._onBackgroundClicked(event.data.global.x, event.data.global.y)\n    );\n    this.backgroundArea.on('mousemove', event =>\n      this._onMouseMove(event.data.global.x, event.data.global.y)\n    );\n    this.backgroundArea.on('panmove', event =>\n      this._onPanMove(\n        event.deltaX,\n        event.deltaY,\n        event.data.global.x,\n        event.data.global.y\n      )\n    );\n    this.backgroundArea.on('panend', event => this._onPanEnd());\n    this.pixiContainer.addChild(this.backgroundArea);\n\n    this.viewPosition = new ViewPosition({\n      initialViewX: project ? project.getMainWindowDefaultWidth() / 2 : 0,\n      initialViewY: project ? project.getMainWindowDefaultHeight() / 2 : 0,\n      width: this.props.width,\n      height: this.props.height,\n      options: this.props.options,\n    });\n    this.pixiContainer.addChild(this.viewPosition.getPixiContainer());\n\n    this.grid = new Grid({\n      viewPosition: this.viewPosition,\n      options: this.props.options,\n    });\n    this.pixiContainer.addChild(this.grid.getPixiObject());\n\n    this.keyboardShortcuts = new KeyboardShortcuts({\n      onDelete: this.props.onDeleteSelection,\n      onMove: this.moveSelection,\n      onCopy: this.props.onCopy,\n      onCut: this.props.onCut,\n      onPaste: this.props.onPaste,\n      onUndo: this.props.onUndo,\n      onRedo: this.props.onRedo,\n      onZoomOut: this.props.onZoomOut,\n      onZoomIn: this.props.onZoomIn,\n    });\n\n    this.dropHandler = new DropHandler({\n      canvas: this.canvasArea,\n      onDrop: this._onDrop,\n    });\n\n    this.canvasCursor = new CanvasCursor({\n      canvas: this.canvasArea,\n      shouldMoveView: () => this.keyboardShortcuts.shouldMoveView(),\n    });\n\n    this._mountEditorComponents(this.props);\n    this._renderScene();\n  }\n\n  /**\n   * Force the internal InstancesRenderer to be destroyed and recreated\n   * (as well as other components holding references to instances). Call\n   * this when the initial instances were recreated to ensure that there\n   * is not mismatch between renderers and the instances that were updated.\n   */\n  forceRemount() {\n    this._mountEditorComponents(this.props);\n  }\n\n  _mountEditorComponents(props) {\n    //Remove and delete any existing editor component\n    if (this.highlightedInstance) {\n      this.pixiContainer.removeChild(this.highlightedInstance.getPixiObject());\n    }\n    if (this.selectedInstances) {\n      this.pixiContainer.removeChild(this.selectedInstances.getPixiContainer());\n    }\n    if (this.instancesRenderer) {\n      this.viewPosition\n        .getPixiContainer()\n        .removeChild(this.instancesRenderer.getPixiContainer());\n      this.instancesRenderer.delete();\n    }\n    if (this.selectionRectangle) {\n      this.pixiContainer.removeChild(this.selectionRectangle.getPixiObject());\n      this.selectionRectangle.delete();\n    }\n    if (this.windowBorder) {\n      this.pixiContainer.removeChild(this.windowBorder.getPixiObject());\n    }\n    if (this.windowMask) {\n      this.pixiContainer.removeChild(this.windowMask.getPixiObject());\n    }\n    if (this.statusBar) {\n      this.pixiContainer.removeChild(this.statusBar.getPixiObject());\n    }\n\n    this.backgroundColor = new BackgroundColor({\n      layout: props.layout,\n      pixiRenderer: this.pixiRenderer,\n    });\n    this.instancesRenderer = new InstancesRenderer({\n      project: props.project,\n      layout: props.layout,\n      instances: props.initialInstances,\n      viewPosition: this.viewPosition,\n      onOverInstance: this._onOverInstance,\n      onMoveInstance: this._onMoveInstance,\n      onMoveInstanceEnd: this._onMoveInstanceEnd,\n      onDownInstance: this._onDownInstance,\n      onOutInstance: this._onOutInstance,\n      onInstanceClicked: this._onInstanceClicked,\n    });\n    this.selectionRectangle = new SelectionRectangle({\n      instances: props.initialInstances,\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      toSceneCoordinates: this.viewPosition.toSceneCoordinates,\n    });\n    this.selectedInstances = new SelectedInstances({\n      instancesSelection: this.props.instancesSelection,\n      onResize: this._onResize,\n      onResizeEnd: this._onResizeEnd,\n      onRotate: this._onRotate,\n      onRotateEnd: this._onRotateEnd,\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      toCanvasCoordinates: this.viewPosition.toCanvasCoordinates,\n    });\n    this.highlightedInstance = new HighlightedInstance({\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      toCanvasCoordinates: this.viewPosition.toCanvasCoordinates,\n    });\n    this.instancesResizer = new InstancesResizer({\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      options: this.props.options,\n    });\n    this.instancesRotator = new InstancesRotator();\n    this.instancesMover = new InstancesMover({\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      options: this.props.options,\n    });\n    this.windowBorder = new WindowBorder({\n      project: props.project,\n      layout: props.layout,\n      toCanvasCoordinates: this.viewPosition.toCanvasCoordinates,\n    });\n    this.windowMask = new WindowMask({\n      project: props.project,\n      viewPosition: this.viewPosition,\n      options: this.props.options,\n    });\n    this.statusBar = new StatusBar({\n      width: this.props.width,\n      height: this.props.height,\n      getLastCursorPosition: this.getLastCursorPosition,\n    });\n\n    this.pixiContainer.addChild(this.selectionRectangle.getPixiObject());\n    this.viewPosition\n      .getPixiContainer()\n      .addChild(this.instancesRenderer.getPixiContainer());\n    this.pixiContainer.addChild(this.windowBorder.getPixiObject());\n    this.pixiContainer.addChild(this.windowMask.getPixiObject());\n    this.pixiContainer.addChild(this.selectedInstances.getPixiContainer());\n    this.pixiContainer.addChild(this.highlightedInstance.getPixiObject());\n    this.pixiContainer.addChild(this.statusBar.getPixiObject());\n  }\n\n  componentWillUnmount() {\n    // This is an antipattern and is theorically not needed, but help\n    // to protect against renders after the component is unmounted.\n    this._unmounted = true;\n\n    this.keyboardShortcuts.unmount();\n    this.selectionRectangle.delete();\n    this.instancesRenderer.delete();\n    if (this.nextFrame) cancelAnimationFrame(this.nextFrame);\n    stopPIXITicker();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (\n      nextProps.width !== this.props.width ||\n      nextProps.height !== this.props.height\n    ) {\n      this.pixiRenderer.resize(nextProps.width, nextProps.height);\n      this.viewPosition.resize(nextProps.width, nextProps.height);\n      this.statusBar.resize(nextProps.width, nextProps.height);\n      this.backgroundArea.hitArea = new PIXI.Rectangle(\n        0,\n        0,\n        nextProps.width,\n        nextProps.height\n      );\n\n      // Avoid flickering that could happen while waiting for next animation frame.\n      this.fpsLimiter.forceNextUpdate();\n      this._renderScene();\n    }\n\n    if (nextProps.options !== this.props.options) {\n      this.grid.setOptions(nextProps.options);\n      this.instancesMover.setOptions(nextProps.options);\n      this.instancesResizer.setOptions(nextProps.options);\n      this.windowMask.setOptions(nextProps.options);\n      this.viewPosition.setOptions(nextProps.options);\n    }\n\n    if (\n      this.props.layout !== nextProps.layout ||\n      this.props.initialInstances !== nextProps.initialInstances ||\n      this.props.project !== nextProps.project\n    ) {\n      this._mountEditorComponents(nextProps);\n    }\n\n    // For avoiding useless renderings, which is costly for CPU/GPU, when the editor\n    // is not displayed, `pauseRendering` prop can be set to true.\n    if (nextProps.pauseRendering && !this.props.pauseRendering)\n      this.pauseSceneRendering();\n\n    if (!nextProps.pauseRendering && this.props.pauseRendering)\n      this.restartSceneRendering();\n  }\n\n  /**\n   * Delete instance renderers of the specified objects, which will then be recreated during\n   * the next render. Call this when an object resources may have changed (for example, a modified image),\n   * and you want the instances of objects to reflect the changes.\n   * See also ResourcesLoader and PixiResourcesLoader.\n   * @param {string} objectName The name of the object for which instance must be re-rendered.\n   */\n  resetRenderersFor(objectName) {\n    if (this.instancesRenderer)\n      this.instancesRenderer.resetRenderersFor(objectName);\n  }\n\n  zoomBy(value) {\n    this.setZoomFactor(this.getZoomFactor() + value);\n  }\n\n  getZoomFactor() {\n    return this.props.options.zoomFactor;\n  }\n\n  setZoomFactor(zoomFactor) {\n    this.props.onChangeOptions({\n      zoomFactor: Math.max(Math.min(zoomFactor, 10), 0.01),\n    });\n  }\n\n  _onMouseMove = (x, y) => {\n    this.lastCursorX = x;\n    this.lastCursorY = y;\n  };\n\n  _onBackgroundClicked = (x, y) => {\n    this.lastCursorX = x;\n    this.lastCursorY = y;\n    this.pixiRenderer.view.focus();\n\n    if (\n      !this.keyboardShortcuts.shouldMultiSelect() &&\n      !this.keyboardShortcuts.shouldMoveView()\n    ) {\n      this.props.instancesSelection.clearSelection();\n      this.props.onInstancesSelected([]);\n    }\n  };\n\n  _onPanMove = (deltaX, deltaY, x, y) => {\n    if (this.keyboardShortcuts.shouldMoveView()) {\n      const sceneDeltaX = deltaX / this.getZoomFactor();\n      const sceneDeltaY = deltaY / this.getZoomFactor();\n\n      this.viewPosition.scrollBy(-sceneDeltaX, -sceneDeltaY);\n\n      if (this.props.onViewPositionChanged) {\n        this.props.onViewPositionChanged(this.viewPosition);\n      }\n    } else {\n      this.selectionRectangle.makeSelectionRectangle(x, y);\n    }\n  };\n\n  _getLayersVisibility = () => {\n    const { layout } = this.props;\n    const layersVisibility = {};\n    for (let i = 0; i < layout.getLayersCount(); i++) {\n      layersVisibility[layout.getLayerAt(i).getName()] = layout\n        .getLayerAt(i)\n        .getVisibility();\n    }\n    return layersVisibility;\n  };\n\n  _onPanEnd = () => {\n    // When a pan is ended, this can be that either the user was making\n    // a selection, or that the user was moving the view.\n    if (this.selectionRectangle.hasStartedSelectionRectangle()) {\n      let instancesSelected = this.selectionRectangle.endSelectionRectangle();\n\n      this.props.instancesSelection.selectInstances(\n        instancesSelected,\n        this.keyboardShortcuts.shouldMultiSelect(),\n        this._getLayersVisibility()\n      );\n      instancesSelected = this.props.instancesSelection.getSelectedInstances();\n      this.props.onInstancesSelected(instancesSelected);\n    }\n  };\n\n  _onInstanceClicked = instance => {\n    this.pixiRenderer.view.focus();\n  };\n\n  _onOverInstance = instance => {\n    this.highlightedInstance.setInstance(instance);\n  };\n\n  _onDownInstance = instance => {\n    if (this.keyboardShortcuts.shouldMoveView()) {\n      // If the user wants to move the view, discard the click on an instance:\n      // it's just the beginning of the user panning the view.\n      return;\n    }\n\n    if (this.keyboardShortcuts.shouldCloneInstances()) {\n      const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n      for (var i = 0; i < selectedInstances.length; i++) {\n        const instance = selectedInstances[i];\n        this.props.initialInstances.insertInitialInstance(instance);\n      }\n    } else {\n      this.props.instancesSelection.selectInstance(\n        instance,\n        this.keyboardShortcuts.shouldMultiSelect(),\n        this._getLayersVisibility()\n      );\n\n      if (this.props.onInstancesSelected) {\n        this.props.onInstancesSelected(\n          this.props.instancesSelection.getSelectedInstances()\n        );\n      }\n    }\n  };\n\n  _onOutInstance = instance => {\n    if (instance === this.highlightedInstance.getInstance())\n      this.highlightedInstance.setInstance(null);\n  };\n\n  _onMoveInstance = (instance, deltaX, deltaY) => {\n    const sceneDeltaX = deltaX / this.getZoomFactor();\n    const sceneDeltaY = deltaY / this.getZoomFactor();\n\n    // It is possible for the user to start moving an instance, then press the button\n    // to move the view, move it, then unpress it and continue to move the instance.\n    // This means that while we're in \"_onMoveInstance\", we must handle view moving.\n    if (this.keyboardShortcuts.shouldMoveView()) {\n      this.viewPosition.scrollBy(-sceneDeltaX, -sceneDeltaY);\n\n      if (this.props.onViewPositionChanged) {\n        this.props.onViewPositionChanged(this.viewPosition);\n      }\n      return;\n    }\n\n    if (!this.props.instancesSelection.isInstanceSelected(instance)) {\n      this._onInstanceClicked(instance);\n    }\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.instancesMover.moveBy(\n      selectedInstances,\n      sceneDeltaX,\n      sceneDeltaY,\n      this.keyboardShortcuts.shouldFollowAxis(),\n      this.keyboardShortcuts.shouldNotSnapToGrid()\n    );\n  };\n\n  _onMoveInstanceEnd = () => {\n    this.instancesMover.endMove();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.props.onInstancesMoved(selectedInstances);\n  };\n\n  _onResize = (deltaX, deltaY) => {\n    const sceneDeltaX = deltaX / this.getZoomFactor();\n    const sceneDeltaY = deltaY / this.getZoomFactor();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.instancesResizer.resizeBy(\n      selectedInstances,\n      sceneDeltaX,\n      sceneDeltaY,\n      this.keyboardShortcuts.shouldResizeProportionally()\n    );\n  };\n\n  _onResizeEnd = () => {\n    this.instancesResizer.endResize();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.props.onInstancesResized(selectedInstances);\n  };\n\n  _onRotate = (deltaX, deltaY) => {\n    const sceneDeltaX = deltaX / this.getZoomFactor();\n    const sceneDeltaY = deltaY / this.getZoomFactor();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.instancesRotator.rotateBy(\n      selectedInstances,\n      sceneDeltaX,\n      sceneDeltaY,\n      this.keyboardShortcuts.shouldResizeProportionally()\n    );\n  };\n\n  _onRotateEnd = () => {\n    this.instancesRotator.endRotate();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.props.onInstancesRotated(selectedInstances);\n  };\n\n  _onDrop = (x, y, objectName) => {\n    const newPos = this.viewPosition.toSceneCoordinates(x, y);\n    if (this.props.onAddInstance) {\n      this.props.onAddInstance(newPos[0], newPos[1], objectName);\n    }\n  };\n\n  clearHighlightedInstance = () => {\n    this.highlightedInstance.setInstance(null);\n  };\n\n  moveSelection = (x, y) => {\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    selectedInstances.forEach(instance => {\n      instance.setX(instance.getX() + x);\n      instance.setY(instance.getY() + y);\n    });\n    this.props.onInstancesMoved(selectedInstances);\n  };\n\n  scrollTo(x, y) {\n    this.viewPosition.scrollTo(x, y);\n  }\n\n  centerView() {\n    const x = this.props.project.getMainWindowDefaultWidth() / 2;\n    const y = this.props.project.getMainWindowDefaultHeight() / 2;\n    this.viewPosition.scrollTo(x, y);\n  }\n\n  centerViewOn(instances) {\n    if (!instances.length) return;\n\n    this.viewPosition.scrollToInstance(instances[instances.length - 1]);\n    if (this.props.onViewPositionChanged) {\n      this.props.onViewPositionChanged(this.viewPosition);\n    }\n  }\n\n  getLastContextMenuPosition = () => {\n    return this.viewPosition.toSceneCoordinates(\n      this.lastContextMenuX,\n      this.lastContextMenuY\n    );\n  };\n\n  getLastCursorPosition = () => {\n    return this.viewPosition.toSceneCoordinates(\n      this.lastCursorX,\n      this.lastCursorY\n    );\n  };\n\n  getViewPosition = () /*: ?ViewPosition */ => {\n    return this.viewPosition;\n  };\n\n  _renderScene = () => {\n    // Protect against rendering scheduled after the component is unmounted.\n    if (this._unmounted) return;\n    if (this._renderingPaused) return;\n\n    // Avoid killing the CPU by limiting the rendering calls.\n    if (this.fpsLimiter.shouldUpdate()) {\n      this.backgroundColor.render();\n      this.viewPosition.render();\n      this.canvasCursor.render();\n      this.grid.render();\n      this.instancesRenderer.render();\n      this.highlightedInstance.render();\n      this.selectedInstances.render();\n      this.selectionRectangle.render();\n      this.windowBorder.render();\n      this.windowMask.render();\n      this.statusBar.render();\n      this.pixiRenderer.render(this.pixiContainer);\n    }\n    this.nextFrame = requestAnimationFrame(this._renderScene);\n  };\n\n  pauseSceneRendering = () => {\n    if (this.nextFrame) cancelAnimationFrame(this.nextFrame);\n    this._renderingPaused = true;\n\n    stopPIXITicker();\n  };\n\n  restartSceneRendering = () => {\n    this._renderingPaused = false;\n    this._renderScene();\n\n    startPIXITicker();\n  };\n\n  render() {\n    if (!this.props.project) return null;\n\n    return (\n      <SimpleDropTarget>\n        <div\n          ref={canvasArea => (this.canvasArea = canvasArea)}\n          style={{\n            ...styles.canvasArea,\n            ...(this.props.showDropCursor ? styles.dropCursor : undefined),\n          }}\n        />\n      </SimpleDropTarget>\n    );\n  }\n}\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props} viewBox=\"0 -3 24 24\">\n    <g id=\"Page-1\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n      <g id=\"Create\" fillRule=\"nonzero\">\n        <polygon\n          id=\"Shape\"\n          fill=\"#2B3990\"\n          points=\"24 8 18 2 18 6 14 6 14 10 18 10 18 14\"\n        />\n        <g id=\"Group-2\" fill=\"#27AAE1\">\n          <rect\n            id=\"Rectangle-path\"\n            transform=\"translate(2.999518, 3.574897) rotate(-45.000000) translate(-2.999518, -3.574897) \"\n            x=\"1.58553176\"\n            y=\"0.746924118\"\n            width=\"2.82797288\"\n            height=\"5.65594576\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            transform=\"translate(10.999518, 11.574897) rotate(-45.000000) translate(-10.999518, -11.574897) \"\n            x=\"9.58553176\"\n            y=\"8.74692412\"\n            width=\"2.82797288\"\n            height=\"5.65594576\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            transform=\"translate(2.999518, 11.574897) rotate(-135.000000) translate(-2.999518, -11.574897) \"\n            x=\"1.58553176\"\n            y=\"8.74692412\"\n            width=\"2.82797288\"\n            height=\"5.65594576\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            transform=\"translate(10.999518, 3.574897) rotate(-135.000000) translate(-10.999518, -3.574897) \"\n            x=\"9.58553176\"\n            y=\"0.746924118\"\n            width=\"2.82797288\"\n            height=\"5.65594576\"\n          />\n        </g>\n      </g>\n    </g>\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props} viewBox=\"0 -6 24 24\">\n    <g id=\"Page-1\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n      <g id=\"Step\" fillRule=\"nonzero\">\n        <polygon\n          id=\"Shape\"\n          fill=\"#2B3990\"\n          points=\"7.5 4.5 3 0 3 3 0 3 0 6 3 6 3 9\"\n        />\n        <circle id=\"Oval\" fill=\"#27AAE1\" cx=\"12\" cy=\"4.5\" r=\"3\" />\n        <circle id=\"Oval\" fill=\"#FFFFFF\" cx=\"12\" cy=\"4.5\" r=\"1.5\" />\n        <polygon\n          id=\"Shape\"\n          fill=\"#2B3990\"\n          points=\"24 4.5 19.5 0 19.5 3 16.5 3 16.5 6 19.5 6 19.5 9\"\n        />\n      </g>\n    </g>\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props} viewBox=\"0 -3 24 24\">\n    <g id=\"Page-1\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n      <g\n        id=\"Destroy\"\n        transform=\"translate(0.000000, -1.000000)\"\n        fillRule=\"nonzero\"\n      >\n        <g id=\"Group\" transform=\"translate(0.000000, 1.000000)\">\n          <polygon\n            id=\"Shape\"\n            fill=\"#2B3990\"\n            points=\"9.92307692 7.07692308 4.38461538 1.53846154 4.38461538 5.23076923 0.692307692 5.23076923 0.692307692 8.92307692 4.38461538 8.92307692 4.38461538 12.6153846\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#27AAE1\"\n            transform=\"translate(10.845138, 3.385446) rotate(-45.000000) translate(-10.845138, -3.385446) \"\n            x=\"9.53992021\"\n            y=\"0.77500965\"\n            width=\"2.6104365\"\n            height=\"5.22087301\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#27AAE1\"\n            transform=\"translate(18.229754, 10.770062) rotate(-45.000000) translate(-18.229754, -10.770062) \"\n            x=\"16.9245356\"\n            y=\"8.15962503\"\n            width=\"2.6104365\"\n            height=\"5.22087301\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#27AAE1\"\n            transform=\"translate(10.846985, 10.770246) rotate(-135.000000) translate(-10.846985, -10.770246) \"\n            x=\"9.54176636\"\n            y=\"8.15980965\"\n            width=\"2.6104365\"\n            height=\"5.22087301\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#27AAE1\"\n            transform=\"translate(18.231600, 3.385631) rotate(-135.000000) translate(-18.231600, -3.385631) \"\n            x=\"16.9263817\"\n            y=\"0.775194265\"\n            width=\"2.6104365\"\n            height=\"5.22087301\"\n          />\n        </g>\n        <g id=\"Group\" opacity=\"0.1\" transform=\"translate(2.538462, 0.692308)\">\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#000000\"\n            transform=\"translate(7.616400, 11.768538) rotate(135.000000) translate(-7.616400, -11.768538) \"\n            x=\"5.98441565\"\n            y=\"10.4633202\"\n            width=\"3.2639687\"\n            height=\"2.6104365\"\n          />\n          <polygon\n            id=\"Shape\"\n            fill=\"#FFFFFF\"\n            points=\"7.38461538 7.38461538 1.83645766 1.87268753 1.83645766 3.7132995 6.46153846 8.30769231\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#FFFFFF\"\n            transform=\"translate(8.308523, 3.693323) rotate(-135.000000) translate(-8.308523, -3.693323) \"\n            x=\"5.69808657\"\n            y=\"2.38810482\"\n            width=\"5.22087301\"\n            height=\"2.6104365\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#FFFFFF\"\n            transform=\"translate(15.693138, 11.077938) rotate(-135.000000) translate(-15.693138, -11.077938) \"\n            x=\"13.082702\"\n            y=\"9.77272021\"\n            width=\"5.22087301\"\n            height=\"2.6104365\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#FFFFFF\"\n            transform=\"translate(9.460009, 9.922714) rotate(45.000000) translate(-9.460009, -9.922714) \"\n            x=\"8.15479058\"\n            y=\"8.94333902\"\n            width=\"2.6104365\"\n            height=\"1.95875045\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#FFFFFF\"\n            transform=\"translate(15.693138, 3.693323) rotate(-135.000000) translate(-15.693138, -3.693323) \"\n            x=\"14.3879202\"\n            y=\"1.08288657\"\n            width=\"2.6104365\"\n            height=\"5.22087301\"\n          />\n        </g>\n      </g>\n    </g>\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props}>\n    <g id=\"Page-1\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n      <g id=\"Function\" fillRule=\"nonzero\">\n        <path\n          d=\"M24,14.5714286 L24,9.42857143 L21.948,9.42857143 C21.7045714,8.48742857 21.336,7.59942857 20.8525714,6.78342857 L22.3028571,5.33314286 L18.6668571,1.69542857 L17.2165714,3.14571429 C16.4005714,2.664 15.5125714,2.29371429 14.5714286,2.05028571 L14.5714286,0 L9.42857143,0 L9.42857143,2.052 C8.48742857,2.29542857 7.59942857,2.664 6.78342857,3.14742857 L5.33314286,1.69714286 L1.69714286,5.33314286 L3.14742857,6.78342857 C2.66571429,7.59942857 2.29542857,8.48742857 2.052,9.42857143 L0,9.42857143 L0,14.5714286 L2.052,14.5714286 C2.29542857,15.5125714 2.664,16.4005714 3.14742857,17.2165714 L1.69714286,18.6668571 L5.33314286,22.3045714 L6.78342857,20.8542857 C7.59942857,21.336 8.48742857,21.7062857 9.42857143,21.9497143 L9.42857143,24 L14.5714286,24 L14.5714286,21.948 C15.5125714,21.7045714 16.4005714,21.336 17.2165714,20.8525714 L18.6668571,22.3028571 L22.3028571,18.6651429 L20.8525714,17.2148571 C21.3342857,16.3988571 21.7045714,15.5108571 21.948,14.5697143 L24,14.5697143 L24,14.5714286 Z\"\n          id=\"Shape\"\n          fill=\"#27AAE1\"\n        />\n        <polygon\n          id=\"Shape\"\n          fill=\"#2B3990\"\n          points=\"17.1428571 7.71428571 10.2857143 11.1428571 10.2857143 12 12 12.8571429 15.4285714 11.1428571 15.4285714 13.7142857 12 15.456 8.57142857 13.7142857 8.57142857 10.2857143 12 8.57142857 15.4285714 6.85714286 12 5.14285714 5.14285714 8.57142857 5.14285714 15.4285714 12 18.8571429 17.5714286 16.0714286 18.8571429 15.4285714 18.8571429 15 18.8571429 8.57142857\"\n        />\n        <g id=\"Group\" opacity=\"0.1\">\n          <path\n            d=\"M3.14571429,6.78342857 C2.664,7.59942857 2.29371429,8.48742857 2.05028571,9.42857143 L0,9.42857143 L0,14.5714286 L2.052,14.5714286 C2.29542857,15.5125714 2.664,16.4005714 3.14742857,17.2165714 L1.69714286,18.6668571 L5.33314286,22.3045714 L6.78342857,20.8542857 C7.59942857,21.336 8.48742857,21.7062857 9.42857143,21.9497143 L9.42857143,24 L14.5714286,24 L14.5714286,21.948 C15.5125714,21.7045714 16.4005714,21.336 17.2165714,20.8525714 L18.6668571,22.3028571 L20.4857143,20.484 L3.51428571,3.51428571 L1.69714286,5.33314286 L3.14571429,6.78342857 Z\"\n            id=\"Shape\"\n            fill=\"#000000\"\n          />\n          <path\n            d=\"M22.3028571,18.6668571 L20.8525714,17.2165714 C21.3342857,16.4005714 21.7045714,15.5125714 21.948,14.5714286 L24,14.5714286 L24,9.42857143 L21.948,9.42857143 C21.7045714,8.48742857 21.336,7.59942857 20.8525714,6.78342857 L22.3028571,5.33314286 L18.6668571,1.69542857 L17.2165714,3.14571429 C16.4005714,2.664 15.5125714,2.29371429 14.5714286,2.05028571 L14.5714286,0 L9.42857143,0 L9.42857143,2.052 C8.48742857,2.29542857 7.59942857,2.664 6.78342857,3.14742857 L5.33314286,1.69714286 L3.51428571,3.51428571 L20.484,20.484 L22.3028571,18.6668571 Z\"\n            id=\"Shape\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      </g>\n    </g>\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props} viewBox=\"0 -6 24 24\">\n    <g id=\"Page-1\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n      <g id=\"Activate\" fillRule=\"nonzero\">\n        <rect\n          id=\"Rectangle-path\"\n          fill=\"#27AAE1\"\n          x=\"0\"\n          y=\"0\"\n          width=\"24\"\n          height=\"10.2857143\"\n        />\n        <rect\n          id=\"Rectangle-path\"\n          fill=\"#2B3990\"\n          x=\"1.71428571\"\n          y=\"1.71428571\"\n          width=\"10.2857143\"\n          height=\"6.85714286\"\n        />\n        <polygon\n          id=\"Shape\"\n          fill=\"#FFFFFF\"\n          points=\"20.5710245 1.71428571 18.8571429 3.42897546 17.1432612 5.14285714 15.4285714 6.85673883 17.1432612 8.57142857 18.8571429 6.85673883 20.5710245 5.14285714 22.2857143 3.42897546\"\n        />\n        <polygon\n          id=\"Shape\"\n          fill=\"#FFFFFF\"\n          points=\"18.8567388 3.42857143 17.1428571 5.14326117 15.4289755 3.42857143 13.7142857 5.14326117 15.4289755 6.85714286 18.8567388 6.85714286 20.5714286 5.14326117\"\n        />\n      </g>\n    </g>\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props} viewBox=\"0 -6 24 24\">\n    <g id=\"Page-1\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n      <g id=\"Deactivate\" fillRule=\"nonzero\">\n        <rect\n          id=\"Rectangle-path\"\n          fill=\"#2B3990\"\n          x=\"0\"\n          y=\"0\"\n          width=\"24\"\n          height=\"10.2857143\"\n        />\n        <polygon\n          id=\"Shape\"\n          fill=\"#FFFFFF\"\n          points=\"6.85673883 1.71428571 5.14285714 3.42897546 3.42897546 1.71428571 1.71428571 3.42897546 3.42897546 5.14285714 1.71428571 6.85673883 3.42897546 8.57142857 5.14285714 6.85673883 6.85673883 8.57142857 8.57142857 6.85673883 6.85673883 5.14285714 8.57142857 3.42897546\"\n        />\n        <rect\n          id=\"Rectangle-path\"\n          fill=\"#27AAE1\"\n          x=\"12\"\n          y=\"1.71428571\"\n          width=\"10.2857143\"\n          height=\"6.85714286\"\n        />\n      </g>\n    </g>\n  </SvgIcon>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Subheader from 'material-ui/Subheader';\nimport { List, ListItem } from 'material-ui/List';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\nimport Create from '../UI/CustomSvgIcons/Behaviors/Create';\nimport Step from '../UI/CustomSvgIcons/Behaviors/Step';\nimport Destroy from '../UI/CustomSvgIcons/Behaviors/Destroy';\nimport Function from '../UI/CustomSvgIcons/Behaviors/Function';\nimport Activate from '../UI/CustomSvgIcons/Behaviors/Activate';\nimport Deactivate from '../UI/CustomSvgIcons/Behaviors/Deactivate';\n\ntype Props = {|\n  eventsBasedBehavior: gdEventsBasedBehavior,\n  onCancel: () => void,\n  onChoose: (functionName: ?string) => void,\n|};\ntype State = {||};\n\nconst styles = {\n  icon: { width: 40, height: 40 },\n  disabledItem: { opacity: 0.6 },\n};\n\nconst MethodListItem = ({\n  icon,\n  disabled,\n  onChoose,\n  name,\n  description,\n}: {|\n  icon: React.Node,\n  disabled: boolean,\n  onChoose: string => void,\n  name: string,\n  description: React.Node,\n|}) => {\n  return (\n    <ListItem\n      leftIcon={icon}\n      primaryText={name}\n      secondaryText={<p>{description}</p>}\n      secondaryTextLines={2}\n      onClick={() => onChoose(name)}\n      style={disabled ? styles.disabledItem : undefined}\n      disabled={disabled}\n    />\n  );\n};\n\nexport default class BehaviorMethodSelectorDialog extends React.Component<\n  Props,\n  State\n> {\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        keyboardFocused={true}\n        onClick={() => this.props.onCancel()}\n        key={'close'}\n      />,\n    ];\n\n    const { eventsBasedBehavior, onChoose } = this.props;\n    const eventsFunctions = eventsBasedBehavior.getEventsFunctions();\n\n    return (\n      <Dialog\n        secondaryActions={[\n          <HelpButton\n            key=\"help\"\n            helpPagePath=\"/behaviors/events-based-behaviors\"\n          />,\n        ]}\n        actions={actions}\n        open\n        noMargin\n        title={<Trans>Choose a new behavior function (\"method\")</Trans>}\n        onRequestClose={this.props.onCancel}\n        autoScrollBodyContent={true}\n      >\n        <List>\n          <Subheader>\n            <Trans>Main lifecycle methods</Trans>\n          </Subheader>\n          <MethodListItem\n            icon={<Create style={styles.icon} />}\n            name={'onCreated'}\n            disabled={eventsFunctions.hasEventsFunctionNamed('onCreated')}\n            onChoose={onChoose}\n            description={\n              <Trans>\n                Events that will be run once, when an object is created with\n                this behavior being attached to it.\n              </Trans>\n            }\n          />\n          <MethodListItem\n            icon={<Step style={styles.icon} />}\n            name={'doStepPreEvents'}\n            disabled={eventsFunctions.hasEventsFunctionNamed('doStepPreEvents')}\n            onChoose={onChoose}\n            description={\n              <Trans>\n                Events that will be run at every frame (roughly 60 times per\n                second), for every object that has the behavior attached, before\n                the events from the events sheet are launched.\n              </Trans>\n            }\n          />\n          <MethodListItem\n            icon={<Destroy style={styles.icon} />}\n            name={'onDestroy'}\n            disabled={\n              eventsFunctions.hasEventsFunctionNamed(\n                'onOwnerRemovedFromScene'\n              ) || eventsFunctions.hasEventsFunctionNamed('onDestroy')\n            }\n            onChoose={onChoose}\n            description={\n              <Trans>\n                Events that will be run once, after the object is removed from\n                the scene and before it is entirely removed from memory.\n              </Trans>\n            }\n          />\n          <Subheader>\n            <Trans>Other lifecycle methods</Trans>\n          </Subheader>\n          <MethodListItem\n            icon={<Deactivate style={styles.icon} />}\n            name={'onDeActivate'}\n            disabled={eventsFunctions.hasEventsFunctionNamed('onDeActivate')}\n            onChoose={onChoose}\n            description={\n              <Trans>\n                Events that will be run when the behavior is deactivated on an\n                object (step events won't be run until the behavior is activated\n                again).\n              </Trans>\n            }\n          />\n          <MethodListItem\n            icon={<Activate style={styles.icon} />}\n            name={'onActivate'}\n            disabled={eventsFunctions.hasEventsFunctionNamed('onActivate')}\n            onChoose={onChoose}\n            description={\n              <Trans>\n                Events that will be run when the behavior is re-activated on an\n                object (after it was previously deactivated).\n              </Trans>\n            }\n          />\n          <MethodListItem\n            icon={<Step style={styles.icon} />}\n            name={'doStepPostEvents'}\n            disabled={eventsFunctions.hasEventsFunctionNamed(\n              'doStepPostEvents'\n            )}\n            onChoose={onChoose}\n            description={\n              <Trans>\n                Events that will be run at every frame (roughly 60 times per\n                second), for every object that has the behavior attached, after\n                the events from the events sheet.\n              </Trans>\n            }\n          />\n          <Subheader>\n            <Trans>Custom</Trans>\n          </Subheader>\n          <ListItem\n            leftIcon={<Function style={styles.icon} />}\n            primaryText={\n              <Trans>Custom (action, condition or expression)</Trans>\n            }\n            secondaryText={\n              <p>\n                <Trans>\n                  An action, condition or expression that can be used on objects\n                  that have the behavior attached to them. Use it from the\n                  events sheet as any other action/condition/expression.\n                </Trans>\n              </p>\n            }\n            secondaryTextLines={2}\n            onClick={() => onChoose(null)}\n          />\n        </List>\n      </Dialog>\n    );\n  }\n}\n","export const CLIPBOARD_KIND = 'Object';\n","import React from 'react';\nimport { ListItem } from 'material-ui/List';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport ListIcon from '../UI/ListIcon';\nimport IconButton from 'material-ui/IconButton';\nimport TextField from 'material-ui/TextField';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport Clipboard from '../Utils/Clipboard';\nimport { CLIPBOARD_KIND } from './ClipboardKind';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport { buildTagsMenuTemplate, getTagsFromString } from '../Utils/TagsHelper';\n\nconst LEFT_MOUSE_BUTTON = 0;\n\nconst styles = {\n  objectName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  textField: {\n    top: -16,\n  },\n};\n\nconst getPasteLabel = isGlobalObject => {\n  let clipboardObjectName = '';\n  if (Clipboard.has(CLIPBOARD_KIND)) {\n    const clipboardContent = Clipboard.get(CLIPBOARD_KIND);\n    if (clipboardContent) {\n      clipboardObjectName = clipboardContent.name;\n    }\n  }\n\n  return isGlobalObject\n    ? 'Paste ' + clipboardObjectName + ' as a Global Object'\n    : 'Paste ' + clipboardObjectName;\n};\n\nclass ThemableObjectRow extends React.Component {\n  _renderObjectMenu(object) {\n    return (\n      <IconMenu\n        ref={iconMenu => (this._iconMenu = iconMenu)}\n        iconButtonElement={\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        }\n        buildMenuTemplate={() => [\n          {\n            label: 'Edit object',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onEdit(object),\n          },\n          {\n            label: 'Edit object variables',\n            enabled: !!this.props.onEditVariables,\n            click: () => this.props.onEditVariables(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Tags',\n            submenu: buildTagsMenuTemplate({\n              noTagLabel: 'No tags',\n              getAllTags: this.props.getAllObjectTags,\n              selectedTags: getTagsFromString(object.getTags()),\n              onChange: objectTags => {\n                this.props.onChangeTags(objectTags);\n              },\n              editTagsLabel: 'Add/edit tags...',\n              onEditTags: this.props.onEditTags,\n            }),\n          },\n          {\n            label: 'Rename',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onEditName(),\n          },\n          {\n            label: 'Set as a global object',\n            enabled: !!this.props.onSetAsGlobalObject,\n            click: () => this.props.onSetAsGlobalObject(),\n          },\n          {\n            label: 'Delete',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onDelete(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Add a new object...',\n            click: () => this.props.onAddNewObject(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Copy',\n            click: () => this.props.onCopyObject(),\n          },\n          {\n            label: 'Cut',\n            click: () => this.props.onCutObject(),\n          },\n          {\n            label: getPasteLabel(this.props.isGlobalObject),\n            enabled: Clipboard.has(CLIPBOARD_KIND),\n            click: () => this.props.onPasteObject(),\n          },\n          {\n            label: 'Duplicate',\n            click: () => this.props.onDuplicateObject(),\n          },\n        ]}\n      />\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editingName && this.props.editingName) {\n      setTimeout(() => {\n        if (this.textField) this.textField.focus();\n      }, 100);\n    }\n  }\n\n  _onContextMenu = event => {\n    if (this._iconMenu) this._iconMenu.open(event);\n  };\n\n  render() {\n    const {\n      project,\n      object,\n      selected,\n      isGlobalObject,\n      style,\n      muiTheme,\n    } = this.props;\n\n    const objectName = object.getName();\n    const label = this.props.editingName ? (\n      <TextField\n        id=\"rename-object-field\"\n        ref={textField => (this.textField = textField)}\n        defaultValue={objectName}\n        onBlur={e => this.props.onRename(e.target.value)}\n        onKeyPress={event => {\n          if (event.charCode === 13) {\n            // enter key pressed\n            this.textField.blur();\n          }\n        }}\n        fullWidth\n        style={styles.textField}\n      />\n    ) : (\n      <div\n        style={{\n          ...styles.objectName,\n          color: selected ? muiTheme.listItem.selectedTextColor : undefined,\n          fontStyle: isGlobalObject ? 'italic' : undefined,\n          fontWeight: isGlobalObject ? 'bold' : 'normal',\n        }}\n      >\n        {objectName}\n      </div>\n    );\n\n    const itemStyle = {\n      borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n      backgroundColor: selected\n        ? muiTheme.listItem.selectedBackgroundColor\n        : undefined,\n    };\n\n    return (\n      <ListItem\n        style={{ ...itemStyle, ...style }}\n        onContextMenu={this._onContextMenu}\n        primaryText={label}\n        leftIcon={\n          <ListIcon\n            iconSize={32}\n            src={this.props.getThumbnail(project, object)}\n          />\n        }\n        rightIconButton={this._renderObjectMenu(object)}\n        onClick={() => {\n          if (!this.props.onObjectSelected) return;\n          if (this.props.editingName) return;\n          this.props.onObjectSelected(selected ? '' : objectName);\n        }}\n        onDoubleClick={event => {\n          if (event.button !== LEFT_MOUSE_BUTTON) return;\n          if (!this.props.onEdit) return;\n          if (this.props.editingName) return;\n\n          this.props.onObjectSelected('');\n          this.props.onEdit(object);\n        }}\n      />\n    );\n  }\n}\n\nconst ObjectRow = muiThemeable()(ThemableObjectRow);\nexport default ObjectRow;\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport Avatar from 'material-ui/Avatar';\nimport Subheader from 'material-ui/Subheader';\nimport { List, ListItem } from 'material-ui/List';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\nimport {\n  enumerateObjectTypes,\n  type EnumeratedObjectMetadata,\n} from './EnumerateObjects';\nimport HelpButton from '../UI/HelpButton';\nimport { getExperimentalObjects } from '../Hints';\nimport { Line } from '../UI/Grid';\n\nconst styles = {\n  icon: { borderRadius: 0 },\n};\n\nconst ObjectListItem = ({\n  objectMetadata,\n  onClick,\n}: {|\n  objectMetadata: EnumeratedObjectMetadata,\n  onClick: () => void,\n|}) => {\n  if (objectMetadata.name === '') {\n    // Base object is an \"abstract\" object\n    return null;\n  }\n\n  return (\n    <ListItem\n      leftAvatar={\n        <Avatar src={objectMetadata.iconFilename} style={styles.icon} />\n      }\n      key={objectMetadata.name}\n      primaryText={objectMetadata.fullName}\n      secondaryText={<p>{objectMetadata.description}</p>}\n      secondaryTextLines={2}\n      onClick={onClick}\n    />\n  );\n};\n\ntype Props = {|\n  project: gdProject,\n  open: boolean,\n  onClose: () => void,\n  onChoose: string => void,\n|};\n\ntype State = {|\n  objectMetadata: Array<EnumeratedObjectMetadata>,\n  showExperimental: boolean,\n|};\n\nexport default class NewObjectDialog extends Component<Props, State> {\n  state = { ...this._loadFrom(this.props.project), showExperimental: false };\n\n  _loadFrom(project: gdProject) {\n    if (!project || !project.getCurrentPlatform()) {\n      return { objectMetadata: [] };\n    }\n\n    return {\n      objectMetadata: enumerateObjectTypes(project),\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.project !== newProps.project)\n    ) {\n      this.setState(this._loadFrom(newProps.project));\n    }\n  }\n\n  _showExperimental = (showExperimental: boolean = true) => {\n    this.setState({\n      showExperimental,\n    });\n  };\n\n  render() {\n    const { project, open, onClose, onChoose } = this.props;\n    const { objectMetadata, showExperimental } = this.state;\n    if (!open || !project) return null;\n\n    const experimentalObjectsInformation = getExperimentalObjects();\n\n    const objects = objectMetadata.filter(\n      ({ name }) => !experimentalObjectsInformation[name]\n    );\n    const experimentalObjects = objectMetadata.filter(\n      ({ name }) => !!experimentalObjectsInformation[name]\n    );\n\n    return (\n      <Dialog\n        title={<Trans>Add a new object</Trans>}\n        secondaryActions={<HelpButton helpPagePath=\"/objects\" />}\n        actions={\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            primary={false}\n            onClick={onClose}\n          />\n        }\n        onRequestClose={onClose}\n        open={open}\n        noMargin\n        autoScrollBodyContent\n      >\n        <List>\n          {objects.map(objectMetadata => (\n            <ObjectListItem\n              key={objectMetadata.name}\n              objectMetadata={objectMetadata}\n              onClick={() => onChoose(objectMetadata.name)}\n            />\n          ))}\n          {showExperimental && (\n            <Subheader>\n              Experimental (make sure to read the documentation page)\n            </Subheader>\n          )}\n          {showExperimental &&\n            experimentalObjects.map(objectMetadata => (\n              <ObjectListItem\n                key={objectMetadata.name}\n                objectMetadata={objectMetadata}\n                onClick={() => onChoose(objectMetadata.name)}\n              />\n            ))}\n        </List>\n        <Line justifyContent=\"center\" alignItems=\"center\">\n          {!showExperimental ? (\n            <FlatButton\n              key=\"toggle-experimental\"\n              icon={<Visibility />}\n              primary={false}\n              onClick={() => this._showExperimental(true)}\n              label={<Trans>Show experimental objects</Trans>}\n            />\n          ) : (\n            <FlatButton\n              key=\"toggle-experimental\"\n              icon={<VisibilityOff />}\n              primary={false}\n              onClick={() => this._showExperimental(false)}\n              label={<Trans>Hide experimental objects</Trans>}\n            />\n          )}\n        </Line>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport Dialog from './Dialog';\nimport { TextField } from 'material-ui';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Trans } from '@lingui/macro';\nimport { type Tags, getTagsFromString } from '../Utils/TagsHelper';\n\ntype Props = {|\n  tagsString: string,\n  onCancel: () => void,\n  onEdit: (tags: Tags) => void,\n|};\n\ntype State = {|\n  tagsString: string,\n|};\n\n/**\n * Dialog to edit tags, with keyboard support (auto focus of tags field,\n * enter to validate, esc to dismiss dialog).\n */\nexport default class EditTagsDialog extends React.Component<Props, State> {\n  state = {\n    tagsString: this.props.tagsString,\n  };\n  _tagsField = React.createRef<TextField>();\n\n  componentDidMount() {\n    setTimeout(() => {\n      if (this._tagsField && this._tagsField.current) {\n        this._tagsField.current.focus();\n      }\n    }, 10);\n  }\n\n  render() {\n    const { onCancel, onEdit } = this.props;\n    const { tagsString } = this.state;\n\n    const tags = getTagsFromString(tagsString);\n\n    return (\n      <Dialog\n        actions={[\n          <FlatButton\n            key=\"close\"\n            label={<Trans>Cancel</Trans>}\n            primary={false}\n            onClick={onCancel}\n          />,\n          <FlatButton\n            key=\"add\"\n            label={\n              this.props.tagsString && !tags.length ? (\n                <Trans>Remove all tags</Trans>\n              ) : (\n                <Trans>Add/update {tags.length} tag(s)</Trans>\n              )\n            }\n            primary\n            onClick={() => onEdit(tags)}\n            disabled={!this.props.tagsString && !tags.length}\n          />,\n        ]}\n        open\n        onRequestClose={onCancel}\n      >\n        <TextField\n          fullWidth\n          value={tagsString}\n          onChange={(e, tagsString) =>\n            this.setState({\n              tagsString,\n            })\n          }\n          floatingLabelText=\"Tag(s) (comma-separated)\"\n          hintText={<Trans>For example: player, spaceship, inventory...</Trans>}\n          onKeyPress={event => {\n            if (event.key === 'Enter') {\n              onEdit(tags);\n            }\n          }}\n          ref={this._tagsField}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { AutoSizer, List } from 'react-virtualized';\nimport { ListItem } from 'material-ui/List';\nimport Background from '../UI/Background';\nimport SearchBar from '../UI/SearchBar';\nimport ObjectRow from './ObjectRow';\nimport NewObjectDialog from './NewObjectDialog';\nimport VariablesEditorDialog from '../VariablesList/VariablesEditorDialog';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { makeAddItem } from '../UI/ListCommonItem';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { enumerateObjects, filterObjectsList } from './EnumerateObjects';\nimport type {\n  ObjectWithContextList,\n  ObjectWithContext,\n} from '../ObjectsList/EnumerateObjects';\nimport { CLIPBOARD_KIND } from './ClipboardKind';\nimport TagChips from '../UI/TagChips';\nimport EditTagsDialog from '../UI/EditTagsDialog';\nimport { type Tags, getStringFromTags } from '../Utils/TagsHelper';\n\nconst listItemHeight = 48;\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\nconst AddObjectRow = makeAddItem(ListItem);\n\nconst SortableObjectRow = SortableElement(props => {\n  const { style, ...otherProps } = props;\n  return (\n    <div style={style}>\n      <ObjectRow {...otherProps} />\n    </div>\n  );\n});\n\nconst SortableAddObjectRow = SortableElement(props => {\n  return <AddObjectRow {...props} />;\n});\n\nclass ObjectsList extends Component<*, *> {\n  list: any;\n\n  forceUpdateGrid() {\n    if (this.list) this.list.forceUpdateGrid();\n  }\n\n  render() {\n    let { height, width, fullList, project, selectedObjectNames } = this.props;\n\n    return (\n      <List\n        ref={list => (this.list = list)}\n        height={height}\n        rowCount={fullList.length}\n        rowHeight={listItemHeight}\n        rowRenderer={({ index, key, style }) => {\n          const objectWithContext = fullList[index];\n          if (objectWithContext.key === 'add-objects-row') {\n            return (\n              <SortableAddObjectRow\n                index={fullList.length}\n                key={key}\n                style={style}\n                disabled\n                onClick={this.props.onAddNewObject}\n                primaryText={<Trans>Click to add an object</Trans>}\n              />\n            );\n          }\n\n          const nameBeingEdited =\n            this.props.renamedObjectWithContext &&\n            this.props.renamedObjectWithContext.object ===\n              objectWithContext.object &&\n            this.props.renamedObjectWithContext.global ===\n              objectWithContext.global;\n\n          return (\n            <SortableObjectRow\n              index={index}\n              key={objectWithContext.object.ptr}\n              project={project}\n              object={objectWithContext.object}\n              isGlobalObject={objectWithContext.global}\n              style={style}\n              onEdit={\n                this.props.onEditObject\n                  ? () => this.props.onEditObject(objectWithContext.object)\n                  : undefined\n              }\n              onEditVariables={() =>\n                this.props.onEditVariables(objectWithContext.object)\n              }\n              onEditName={() => this.props.onEditName(objectWithContext)}\n              onDelete={() => this.props.onDelete(objectWithContext)}\n              onCopyObject={() => this.props.onCopyObject(objectWithContext)}\n              onCutObject={() => this.props.onCutObject(objectWithContext)}\n              onDuplicateObject={() =>\n                this.props.onDuplicateObject(objectWithContext)\n              }\n              onPasteObject={() => this.props.onPasteObject(objectWithContext)}\n              onRename={newName =>\n                this.props.onRename(objectWithContext, newName)\n              }\n              onSetAsGlobalObject={\n                objectWithContext.global\n                  ? undefined\n                  : () => this.props.onSetAsGlobalObject(objectWithContext)\n              }\n              onAddNewObject={this.props.onAddNewObject}\n              editingName={nameBeingEdited}\n              getThumbnail={this.props.getThumbnail}\n              getAllObjectTags={this.props.getAllObjectTags}\n              onObjectSelected={this.props.onObjectSelected}\n              onEditTags={() => this.props.onEditTags(objectWithContext.object)}\n              onChangeTags={objectTags =>\n                this.props.onChangeTags(objectWithContext.object, objectTags)\n              }\n              selected={\n                selectedObjectNames.indexOf(\n                  objectWithContext.object.getName()\n                ) !== -1\n              }\n            />\n          );\n        }}\n        width={width}\n      />\n    );\n  }\n}\n\nconst SortableObjectsList = SortableContainer(ObjectsList, { withRef: true });\n\ntype StateType = {|\n  newObjectDialogOpen: boolean,\n  renamedObjectWithContext: ?ObjectWithContext,\n  variablesEditedObject: ?gdObject,\n  searchText: string,\n  tagEditedObject: ?gdObject,\n|};\n\nexport default class ObjectsListContainer extends React.Component<\n  *,\n  StateType\n> {\n  static defaultProps = {\n    onDeleteObject: (objectWithContext: ObjectWithContext, cb: Function) =>\n      cb(true),\n    onRenameObject: (\n      objectWithContext: ObjectWithContext,\n      newName: string,\n      cb: Function\n    ) => cb(true),\n  };\n\n  sortableList: any;\n  _displayedObjectsList: ObjectWithContextList = [];\n  state: StateType = {\n    newObjectDialogOpen: false,\n    renamedObjectWithContext: null,\n    variablesEditedObject: null,\n    searchText: '',\n    tagEditedObject: null,\n  };\n\n  shouldComponentUpdate(nextProps: *, nextState: StateType) {\n    // The component is costly to render, so avoid any re-rendering as much\n    // as possible.\n    // We make the assumption that no changes to objects list is made outside\n    // from the component.\n    // If a change is made, the component won't notice it: you have to manually\n    // call forceUpdate.\n\n    if (\n      this.state.newObjectDialogOpen !== nextState.newObjectDialogOpen ||\n      this.state.renamedObjectWithContext !==\n        nextState.renamedObjectWithContext ||\n      this.state.variablesEditedObject !== nextState.variablesEditedObject ||\n      this.state.searchText !== nextState.searchText ||\n      this.state.tagEditedObject !== nextState.tagEditedObject\n    )\n      return true;\n\n    if (\n      this.props.selectedObjectNames !== nextProps.selectedObjectNames ||\n      this.props.selectedObjectTags !== nextProps.selectedObjectTags\n    )\n      return true;\n\n    if (\n      this.props.project !== nextProps.project ||\n      this.props.objectsContainer !== nextProps.objectsContainer\n    )\n      return true;\n\n    return false;\n  }\n\n  addObject = (objectType: string) => {\n    const {\n      project,\n      objectsContainer,\n      onEditObject,\n      onObjectCreated,\n      onObjectSelected,\n    } = this.props;\n\n    const name = newNameGenerator(\n      'NewObject',\n      name =>\n        objectsContainer.hasObjectNamed(name) || project.hasObjectNamed(name)\n    );\n\n    const object = objectsContainer.insertNewObject(\n      project,\n      objectType,\n      name,\n      objectsContainer.getObjectsCount()\n    );\n    object.setTags(getStringFromTags(this.props.selectedObjectTags));\n\n    this.setState(\n      {\n        newObjectDialogOpen: false,\n      },\n      () => {\n        if (onEditObject) {\n          onEditObject(object);\n          onObjectCreated(name);\n          onObjectSelected(name);\n        }\n      }\n    );\n  };\n\n  onAddNewObject = () => {\n    this.setState({ newObjectDialogOpen: true });\n  };\n\n  _deleteObject = (objectWithContext: ObjectWithContext) => {\n    const { object, global } = objectWithContext;\n    const { project, objectsContainer } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this object? This can't be undone.\"\n    );\n    if (!answer) return;\n\n    // It's important to call onDeleteObject, because the parent might\n    // have to do some refactoring/clean up work before the object is deleted\n    // (typically, the SceneEditor will remove instances refering to the object,\n    // leading to the removal of their renderer - which can keep a reference to\n    // the object).\n    this.props.onDeleteObject(objectWithContext, doRemove => {\n      if (!doRemove) return;\n\n      if (global) {\n        project.removeObject(object.getName());\n      } else {\n        objectsContainer.removeObject(object.getName());\n      }\n\n      this.forceUpdate();\n    });\n  };\n\n  _copyObject = (objectWithContext: ObjectWithContext) => {\n    const { object } = objectWithContext;\n    Clipboard.set(CLIPBOARD_KIND, {\n      type: object.getType(),\n      name: object.getName(),\n      object: serializeToJSObject(object),\n    });\n  };\n\n  _cutObject = (objectWithContext: ObjectWithContext) => {\n    this._copyObject(objectWithContext);\n    this._deleteObject(objectWithContext);\n  };\n\n  _duplicateObject = (objectWithContext: ObjectWithContext) => {\n    this._copyObject(objectWithContext);\n    this._pasteAndRename(objectWithContext);\n  };\n\n  _pasteAndRename = (objectWithContext: ObjectWithContext) => {\n    this._editName(this._paste(objectWithContext));\n  };\n\n  _paste = (objectWithContext: ObjectWithContext): ?ObjectWithContext => {\n    if (!Clipboard.has(CLIPBOARD_KIND)) return null;\n\n    const { object: pasteObject, global } = objectWithContext;\n    const { object: copiedObject, type, name } = Clipboard.get(CLIPBOARD_KIND);\n    const { project, objectsContainer, onObjectPasted } = this.props;\n\n    const newName = newNameGenerator(\n      name,\n      name =>\n        objectsContainer.hasObjectNamed(name) || project.hasObjectNamed(name),\n      ''\n    );\n\n    const newObject = global\n      ? project.insertNewObject(\n          project,\n          type,\n          newName,\n          project.getObjectPosition(pasteObject.getName())\n        )\n      : objectsContainer.insertNewObject(\n          project,\n          type,\n          newName,\n          objectsContainer.getObjectPosition(pasteObject.getName())\n        );\n\n    unserializeFromJSObject(\n      newObject,\n      copiedObject,\n      'unserializeFrom',\n      project\n    );\n    newObject.setName(newName); // Unserialization has overwritten the name.\n\n    this.forceUpdate();\n    if (onObjectPasted) onObjectPasted(newObject);\n\n    return { object: newObject, global };\n  };\n\n  _editName = (objectWithContext: ?ObjectWithContext) => {\n    this.setState(\n      {\n        renamedObjectWithContext: objectWithContext,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _editVariables = (object: ?gdObject) => {\n    this.setState({\n      variablesEditedObject: object,\n    });\n  };\n\n  _rename = (objectWithContext: ObjectWithContext, newName: string) => {\n    const { object } = objectWithContext;\n\n    this.setState({\n      renamedObjectWithContext: null,\n    });\n\n    if (this.props.canRenameObject(objectWithContext, newName)) {\n      this.props.onRenameObject(objectWithContext, newName, doRename => {\n        if (!doRename) return;\n\n        object.setName(newName);\n        this.forceUpdate();\n      });\n    }\n  };\n\n  _move = (oldIndex: number, newIndex: number) => {\n    // Moving objects can be discarded by the parent (this is used to allow\n    // dropping objects on the scene editor).\n    if (!this.props.canMoveObjects) return;\n\n    const { project, objectsContainer } = this.props;\n\n    const movedObjectWithContext = this._displayedObjectsList[oldIndex];\n    const destinationObjectWithContext = this._displayedObjectsList[newIndex];\n    if (!movedObjectWithContext || !destinationObjectWithContext) return;\n\n    if (movedObjectWithContext.global !== destinationObjectWithContext.global) {\n      // Can't move an object from the objects container to the global objects\n      // or vice-versa.\n      return;\n    }\n\n    const container: gdObjectsContainer = movedObjectWithContext.global\n      ? project\n      : objectsContainer;\n    container.moveObject(\n      container.getObjectPosition(movedObjectWithContext.object.getName()),\n      container.getObjectPosition(destinationObjectWithContext.object.getName())\n    );\n\n    this.forceUpdateList();\n  };\n\n  _onStartDraggingObject = ({ index }: { index: number }) => {\n    const draggedObjectWithContext = this._displayedObjectsList[index];\n    if (!draggedObjectWithContext) {\n      return;\n    }\n\n    this.props.onStartDraggingObject(draggedObjectWithContext.object);\n  };\n\n  _setAsGlobalObject = (objectWithContext: ObjectWithContext) => {\n    const { object } = objectWithContext;\n    const { project, objectsContainer } = this.props;\n\n    const objectName = object.getName();\n    if (!objectsContainer.hasObjectNamed(objectName)) return;\n\n    if (project.hasObjectNamed(objectName)) {\n      showWarningBox(\n        'A global object with this name already exists. Please change the object name before setting it as a global object'\n      );\n      return;\n    }\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"This object will be loaded and available in all the scenes. This is only recommended for objects that you reuse a lot and can't be undone. Make this object global?\"\n    );\n    if (!answer) return;\n\n    // It's safe to call moveObjectToAnotherContainer because it does not invalidate the\n    // references to the object in memory - so other editors like InstancesRenderer can\n    // continue to work.\n    objectsContainer.moveObjectToAnotherContainer(\n      objectName,\n      project,\n      project.getObjectsCount()\n    );\n\n    this.forceUpdateList();\n  };\n\n  forceUpdateList = () => {\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  _openEditTagDialog = (tagEditedObject: ?gdObject) => {\n    this.setState({\n      tagEditedObject,\n    });\n  };\n\n  _changeObjectTags = (object: gdObject, tags: Tags) => {\n    object.setTags(getStringFromTags(tags));\n\n    // Force update the list as it's possible that user removed a tag\n    // from an object, that should then not be shown anymore in the list.\n    this.forceUpdateList();\n  };\n\n  render() {\n    const { project, objectsContainer, selectedObjectTags } = this.props;\n    const { searchText, tagEditedObject } = this.state;\n\n    const lists = enumerateObjects(project, objectsContainer);\n    this._displayedObjectsList = filterObjectsList(lists.allObjectsList, {\n      searchText,\n      selectedTags: selectedObjectTags,\n    });\n    const fullList = this._displayedObjectsList.concat({\n      key: 'add-objects-row',\n      object: null,\n    });\n\n    // Force List component to be mounted again if project or objectsContainer\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = project.ptr + ';' + objectsContainer.ptr;\n\n    return (\n      <Background maxWidth>\n        <TagChips\n          tags={this.props.selectedObjectTags}\n          onChange={this.props.onChangeSelectedObjectTags}\n        />\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableObjectsList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={fullList}\n                project={project}\n                width={width}\n                height={height}\n                renamedObjectWithContext={this.state.renamedObjectWithContext}\n                getThumbnail={this.props.getThumbnail}\n                getAllObjectTags={this.props.getAllObjectTags}\n                onEditTags={this._openEditTagDialog}\n                onChangeTags={this._changeObjectTags}\n                selectedObjectNames={this.props.selectedObjectNames}\n                onObjectSelected={this.props.onObjectSelected}\n                onEditObject={this.props.onEditObject}\n                onCopyObject={this._copyObject}\n                onCutObject={this._cutObject}\n                onDuplicateObject={this._duplicateObject}\n                onSetAsGlobalObject={this._setAsGlobalObject}\n                onPasteObject={this._pasteAndRename}\n                onAddNewObject={this.onAddNewObject}\n                onEditName={this._editName}\n                onEditVariables={this._editVariables}\n                onDelete={this._deleteObject}\n                onRename={this._rename}\n                onSortStart={this._onStartDraggingObject}\n                onSortEnd={({ oldIndex, newIndex }) => {\n                  this.props.onEndDraggingObject();\n                  this._move(oldIndex, newIndex);\n                }}\n                helperClass=\"sortable-helper\"\n                distance={20}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n        {this.state.newObjectDialogOpen && (\n          <NewObjectDialog\n            open={this.state.newObjectDialogOpen}\n            onClose={() =>\n              this.setState({\n                newObjectDialogOpen: false,\n              })\n            }\n            onChoose={this.addObject}\n            project={project}\n          />\n        )}\n        {this.state.variablesEditedObject && (\n          <VariablesEditorDialog\n            open\n            variablesContainer={\n              this.state.variablesEditedObject &&\n              this.state.variablesEditedObject.getVariables()\n            }\n            onCancel={() => this._editVariables(null)}\n            onApply={() => this._editVariables(null)}\n            title=\"Object Variables\"\n            emptyExplanationMessage=\"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it.\"\n            emptyExplanationSecondMessage=\"For example, you can have a variable called Life representing the health of the object.\"\n          />\n        )}\n        {tagEditedObject && (\n          <EditTagsDialog\n            tagsString={tagEditedObject.getTags()}\n            onEdit={tags => {\n              this._changeObjectTags(tagEditedObject, tags);\n              this._openEditTagDialog(null);\n            }}\n            onCancel={() => this._openEditTagDialog(null)}\n          />\n        )}\n      </Background>\n    );\n  }\n}\n","// @flow\nimport md5 from 'blueimp-md5';\n\nexport const getGravatarUrl = (\n  email: string,\n  { size }: { size: number } = { size: 40 }\n): string => {\n  const hash = md5(email.trim().toLowerCase());\n  return `https://www.gravatar.com/avatar/${hash}?s=${size}&d=retro`;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Avatar from 'material-ui/Avatar';\nimport { Column, Line } from '../UI/Grid';\nimport { type Profile } from '../Utils/GDevelopServices/Authentification';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport { getGravatarUrl } from '../UI/GravatarUrl';\n\nconst styles = {\n  title: {\n    fontSize: 25,\n    lineHeight: '40px',\n    marginLeft: 10,\n  },\n};\n\ntype Props = {\n  profile: ?Profile,\n};\n\nexport default ({ profile }: Props) =>\n  profile ? (\n    <Column>\n      <Line alignItems=\"center\">\n        <Avatar src={getGravatarUrl(profile.email || '', { size: 40 })} />\n        <span style={styles.title}>You are connected as {profile.email}</span>\n      </Line>\n      <Line>\n        <p>\n          <Trans>\n            An account allows you to access GDevelop services online.\n          </Trans>\n        </p>\n      </Line>\n    </Column>\n  ) : (\n    <PlaceholderLoader />\n  );\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { type Usages } from '../Utils/GDevelopServices/Usage';\nimport { Column, Line } from '../UI/Grid';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport format from 'date-fns/format';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\n\ntype Props = { usages: ?Usages };\n\nexport default ({ usages }: Props) => (\n  <Column noMargin>\n    <Line>\n      {!usages ? (\n        <PlaceholderLoader />\n      ) : usages.length === 0 ? (\n        <EmptyMessage>\n          <Trans>You don't have any usage of the online services for now</Trans>\n        </EmptyMessage>\n      ) : (\n        <Table selectable={false}>\n          <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n            <TableRow>\n              <TableHeaderColumn>Date</TableHeaderColumn>\n              <TableHeaderColumn>Type</TableHeaderColumn>\n            </TableRow>\n          </TableHeader>\n          <TableBody displayRowCheckbox={false}>\n            {usages.map(usage => (\n              <TableRow key={usage.id}>\n                <TableRowColumn>\n                  {format(usage.createdAt, 'YYYY-MM-DD HH:mm:ss')}\n                </TableRowColumn>\n                <TableRowColumn>{usage.type}</TableRowColumn>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      )}\n    </Line>\n  </Column>\n);\n","// @flow\nimport * as React from 'react';\nimport { Column, Line } from '../UI/Grid';\nimport { type Subscription } from '../Utils/GDevelopServices/Usage';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Trans } from '@lingui/macro';\n\ntype Props = {\n  subscription: ?Subscription,\n  onChangeSubscription: Function,\n};\n\nexport default ({ subscription, onChangeSubscription }: Props) =>\n  subscription && subscription.planId ? (\n    <Column>\n      <Line>\n        <p>\n          <Trans>\n            You are subscribed to {subscription.planId}. Congratulations! You\n            have access to more online services, including building your game\n            for Android, Windows, macOS and Linux in one click!\n          </Trans>\n        </p>\n      </Line>\n      <Line justifyContent=\"center\">\n        <RaisedButton\n          label={<Trans>Upgrade/change</Trans>}\n          primary\n          onClick={onChangeSubscription}\n        />\n      </Line>\n    </Column>\n  ) : subscription && !subscription.planId ? (\n    <Column>\n      <Line>\n        <p>\n          <Trans>\n            If you don't have a subscription, consider getting one now. Accounts\n            allow you to access all of the online services. With just one click,\n            you can build your game for Android, Windows, macOS and Linux!\n          </Trans>\n        </p>\n      </Line>\n      <Line justifyContent=\"center\">\n        <RaisedButton\n          label={<Trans>Choose a subscription</Trans>}\n          primary\n          onClick={onChangeSubscription}\n        />\n      </Line>\n    </Column>\n  ) : (\n    <PlaceholderLoader />\n  );\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport Dialog from '../UI/Dialog';\nimport { Column } from '../UI/Grid';\nimport CreateProfile from './CreateProfile';\nimport ProfileDetails from './ProfileDetails';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport HelpButton from '../UI/HelpButton';\nimport UsagesDetails from './UsagesDetails';\nimport SubscriptionDetails from './SubscriptionDetails';\nimport UserProfileContext, { type UserProfile } from './UserProfileContext';\n\ntype Props = {|\n  open: boolean,\n  onClose: Function,\n  onChangeSubscription: Function,\n|};\n\ntype State = {|\n  currentTab: string,\n|};\n\nexport default class ProfileDialog extends Component<Props, State> {\n  state = {\n    currentTab: 'profile',\n  };\n\n  _onChangeTab = (newTab: string) =>\n    this.setState({\n      currentTab: newTab,\n    });\n\n  render() {\n    const { open, onClose } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        key=\"close\"\n        primary={false}\n        onClick={onClose}\n      />,\n    ];\n\n    return (\n      <UserProfileContext.Consumer>\n        {(userProfile: UserProfile) => (\n          <Dialog\n            actions={actions}\n            secondaryActions={[\n              <HelpButton key=\"help\" helpPagePath=\"/interface/profile\" />,\n              userProfile.authenticated && userProfile.profile && (\n                <FlatButton\n                  label={<Trans>Logout</Trans>}\n                  key=\"logout\"\n                  onClick={userProfile.onLogout}\n                />\n              ),\n            ]}\n            onRequestClose={onClose}\n            open={open}\n            noMargin\n            autoScrollBodyContent\n          >\n            <Tabs value={this.state.currentTab} onChange={this._onChangeTab}>\n              <Tab label={<Trans>My Profile</Trans>} value=\"profile\">\n                {userProfile.authenticated ? (\n                  <Column noMargin>\n                    <ProfileDetails profile={userProfile.profile} />\n                    <SubscriptionDetails\n                      subscription={userProfile.subscription}\n                      onChangeSubscription={this.props.onChangeSubscription}\n                    />\n                  </Column>\n                ) : (\n                  <Column>\n                    <CreateProfile onLogin={userProfile.onLogin} />\n                  </Column>\n                )}\n              </Tab>\n              <Tab label={<Trans>Online services usage</Trans>} value=\"usage\">\n                {userProfile.authenticated ? (\n                  <Column noMargin>\n                    <UsagesDetails usages={userProfile.usages} />\n                  </Column>\n                ) : (\n                  <EmptyMessage>\n                    <Trans>\n                      Register to see the usage that you've made of the online\n                      services\n                    </Trans>\n                  </EmptyMessage>\n                )}\n              </Tab>\n            </Tabs>\n          </Dialog>\n        )}\n      </UserProfileContext.Consumer>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport PropertiesEditor from '../../PropertiesEditor';\nimport propertiesMapToSchema from '../../PropertiesEditor/PropertiesMapToSchema';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { Column } from '../../UI/Grid';\nimport { type BehaviorEditorProps } from './BehaviorEditorProps.flow';\n\ntype Props = BehaviorEditorProps;\n\nexport default class BehaviorPropertiesEditor extends React.Component<Props> {\n  render() {\n    const { behavior, behaviorContent, project } = this.props;\n    const properties = behavior.getProperties(\n      behaviorContent.getContent(),\n      project\n    );\n\n    const propertiesSchema = propertiesMapToSchema(\n      properties,\n      behaviorContent =>\n        behavior.getProperties(behaviorContent.getContent(), project),\n      (behaviorContent, name, value) =>\n        behavior.updateProperty(\n          behaviorContent.getContent(),\n          name,\n          value,\n          project\n        )\n    );\n\n    return (\n      <Column>\n        {propertiesSchema.length ? (\n          <PropertiesEditor\n            schema={propertiesSchema}\n            instances={[behaviorContent]}\n          />\n        ) : (\n          <EmptyMessage>\n            <Trans>\n              There is nothing to configure for this behavior. You can still use\n              events to interact with the object and this behavior.\n            </Trans>\n          </EmptyMessage>\n        )}\n      </Column>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { type Vertex } from './PolygonEditor';\n\ntype Props = {|\n  shape: string,\n  dimensionA: number,\n  dimensionB: number,\n  offsetX: number,\n  offsetY: number,\n  polygonOrigin: string,\n  vertices: Array<Vertex>,\n  width: number,\n  height: number,\n  zoomFactor: number,\n  onMoveVertex: (index: number, newX: number, newY: number) => void,\n|};\n\ntype State = {|\n  draggedVertex: ?Vertex,\n  draggedIndex: number,\n|};\n\nexport default class ShapePreview extends React.Component<Props, State> {\n  state = { draggedVertex: null, draggedIndex: -1 };\n  _svg: any;\n\n  _onVertexDown = (vertex: Vertex, index: number) => {\n    if (this.state.draggedVertex) return;\n    this.setState({ draggedVertex: vertex, draggedIndex: index });\n  };\n\n  _onMouseUp = () => {\n    const draggingWasDone = !!this.state.draggedVertex;\n    const { draggedVertex, draggedIndex } = this.state;\n    this.setState(\n      {\n        draggedVertex: null,\n      },\n      () => {\n        if (draggingWasDone)\n          this.props.onMoveVertex(\n            draggedIndex,\n            Math.round(draggedVertex ? draggedVertex.x : 0),\n            Math.round(draggedVertex ? draggedVertex.y : 0)\n          );\n      }\n    );\n  };\n\n  _onMouseMove = (event: any) => {\n    const {\n      offsetX,\n      offsetY,\n      polygonOrigin,\n      width,\n      height,\n      zoomFactor,\n    } = this.props;\n    const { draggedVertex } = this.state;\n    if (!draggedVertex) return;\n\n    const pointOnScreen = this._svg.createSVGPoint();\n    pointOnScreen.x = event.clientX;\n    pointOnScreen.y = event.clientY;\n    const screenToSvgMatrix = this._svg.getScreenCTM().inverse();\n    const pointOnSvg = pointOnScreen.matrixTransform(screenToSvgMatrix);\n\n    draggedVertex.x =\n      pointOnSvg.x / zoomFactor -\n      offsetX -\n      (polygonOrigin === 'Center' ? width / 2 : 0);\n    draggedVertex.y =\n      pointOnSvg.y / zoomFactor -\n      offsetY -\n      (polygonOrigin === 'Center' ? height / 2 : 0);\n\n    this.forceUpdate();\n  };\n\n  _renderBox() {\n    const {\n      dimensionA,\n      dimensionB,\n      width,\n      height,\n      offsetX,\n      offsetY,\n      zoomFactor,\n    } = this.props;\n    const fixedWidth = dimensionA > 0 ? dimensionA : width > 0 ? width : 1;\n    const fixedHeight = dimensionB > 0 ? dimensionB : height > 0 ? height : 1;\n\n    return (\n      <rect\n        key={'boxShape'}\n        fill=\"rgba(255,0,0,0.75)\"\n        strokeWidth={1}\n        x={(offsetX + width / 2 - fixedWidth / 2) * zoomFactor}\n        y={(offsetY + height / 2 - fixedHeight / 2) * zoomFactor}\n        width={fixedWidth * zoomFactor}\n        height={fixedHeight * zoomFactor}\n      />\n    );\n  }\n\n  _renderCircle() {\n    const {\n      dimensionA,\n      width,\n      height,\n      offsetX,\n      offsetY,\n      zoomFactor,\n    } = this.props;\n\n    return (\n      <circle\n        key={'circleShape'}\n        fill=\"rgba(255,0,0,0.75)\"\n        strokeWidth={1}\n        cx={(offsetX + width / 2) * zoomFactor}\n        cy={(offsetY + height / 2) * zoomFactor}\n        r={\n          (dimensionA > 0\n            ? dimensionA\n            : width + height > 0\n            ? (width + height) / 4\n            : 1) * zoomFactor\n        }\n      />\n    );\n  }\n\n  _renderEdge() {\n    const {\n      dimensionA,\n      dimensionB,\n      width,\n      height,\n      offsetX,\n      offsetY,\n      zoomFactor,\n    } = this.props;\n    const halfLength =\n      (dimensionA > 0 ? dimensionA : width > 0 ? width : 1) / 2;\n    const cos = Math.cos((dimensionB * Math.PI) / 180);\n    const sin = Math.sin((dimensionB * Math.PI) / 180);\n\n    return (\n      <line\n        key={'edgeShape'}\n        stroke=\"rgba(255,0,0,0.75)\"\n        strokeWidth={2}\n        x1={(offsetX + width / 2 - halfLength * cos) * zoomFactor}\n        y1={(offsetY + height / 2 - halfLength * sin) * zoomFactor}\n        x2={(offsetX + width / 2 + halfLength * cos) * zoomFactor}\n        y2={(offsetY + height / 2 + halfLength * sin) * zoomFactor}\n      />\n    );\n  }\n\n  _renderPolygon() {\n    const {\n      vertices,\n      polygonOrigin,\n      width,\n      height,\n      offsetX,\n      offsetY,\n      zoomFactor,\n    } = this.props;\n\n    return (\n      <React.Fragment>\n        <polygon\n          key={'polygonShape'}\n          fill=\"rgba(255,0,0,0.75)\"\n          strokeWidth={1}\n          filerule=\"evenodd\"\n          points={vertices\n            .map(\n              vertex =>\n                `${(vertex.x +\n                  offsetX +\n                  (polygonOrigin === 'Center' ? width / 2 : 0)) *\n                  zoomFactor},${(vertex.y +\n                  offsetY +\n                  (polygonOrigin === 'Center' ? height / 2 : 0)) *\n                  zoomFactor}`\n            )\n            .join(' ')}\n        />\n        {vertices.map((vertex, index) => (\n          <circle\n            onPointerDown={event => this._onVertexDown(vertex, index)}\n            key={`vertex-${index}`}\n            fill=\"rgba(150,0,0,0.75)\"\n            strokeWidth={1}\n            style={{\n              cursor: 'move',\n            }}\n            cx={\n              (vertex.x +\n                offsetX +\n                (polygonOrigin === 'Center' ? width / 2 : 0)) *\n              zoomFactor\n            }\n            cy={\n              (vertex.y +\n                offsetY +\n                (polygonOrigin === 'Center' ? height / 2 : 0)) *\n              zoomFactor\n            }\n            r={5}\n          />\n        ))}\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    const { shape } = this.props;\n\n    return (\n      <svg\n        onPointerMove={this._onMouseMove}\n        onPointerUp={this._onMouseUp}\n        ref={svg => (this._svg = svg)}\n        width=\"100%\"\n        height=\"100%\"\n      >\n        {shape === 'Box' && this._renderBox()}\n        {shape === 'Circle' && this._renderCircle()}\n        {shape === 'Edge' && this._renderEdge()}\n        {shape === 'Polygon' && this._renderPolygon()}\n      </svg>\n    );\n  }\n}\n","// @flow\r\nimport * as React from 'react';\r\nimport {\r\n  Table,\r\n  TableRow,\r\n  TableRowColumn,\r\n  TableBody,\r\n  TableHeader,\r\n  TableHeaderColumn,\r\n} from 'material-ui/Table';\r\nimport SemiControlledTextField from '../../../UI/SemiControlledTextField';\r\nimport Warning from 'material-ui/svg-icons/alert/warning';\r\nimport IconButton from 'material-ui/IconButton';\r\nimport AddCircle from 'material-ui/svg-icons/content/add-circle';\r\nimport Delete from 'material-ui/svg-icons/action/delete';\r\n\r\nexport type Vertex = {|\r\n  x: number,\r\n  y: number,\r\n|};\r\n\r\ntype Props = {|\r\n  vertices: Array<Vertex>,\r\n  onChangeVertexX: (newValue: number, index: number) => void,\r\n  onChangeVertexY: (newValue: number, index: number) => void,\r\n  onAdd: () => void,\r\n  onRemove: (index: number) => void,\r\n|};\r\n\r\nexport default class PolygonEditor extends React.Component<Props> {\r\n  _isPolygonConvex(vertices: Array<Vertex>) {\r\n    // Get edges\r\n    let edges = [];\r\n    let v1 = null;\r\n    let v2 = null;\r\n    for (let i = 0; i < vertices.length; i++) {\r\n      v1 = vertices[i];\r\n      if (i + 1 >= vertices.length) v2 = vertices[0];\r\n      else v2 = vertices[i + 1];\r\n      edges.push({ x: v2.x - v1.x, y: v2.y - v1.y });\r\n    }\r\n\r\n    // Check convexity\r\n    if (edges.length < 3) return false;\r\n\r\n    const zProductIsPositive =\r\n      edges[0].x * edges[0 + 1].y - edges[0].y * edges[0 + 1].x > 0;\r\n\r\n    for (let i = 1; i < edges.length - 1; ++i) {\r\n      let zCrossProduct =\r\n        edges[i].x * edges[i + 1].y - edges[i].y * edges[i + 1].x;\r\n      let zCrossProductIsPositive = zCrossProduct > 0;\r\n      if (zCrossProductIsPositive !== zProductIsPositive) return false;\r\n    }\r\n\r\n    let lastZCrossProduct =\r\n      edges[edges.length - 1].x * edges[0].y -\r\n      edges[edges.length - 1].y * edges[0].x;\r\n    let lastZCrossProductIsPositive = lastZCrossProduct > 0;\r\n    if (lastZCrossProductIsPositive !== zProductIsPositive) return false;\r\n\r\n    // Check for repeated vertices (would crash Box2D during the game)\r\n    for (let i = 0; i < vertices.length - 1; ++i) {\r\n      for (let j = i + 1; j < vertices.length; ++j) {\r\n        if (vertices[i].x === vertices[j].x && vertices[i].y === vertices[j].y)\r\n          return false;\r\n      }\r\n    }\r\n\r\n    // Check if all vertices are aligned (would crash Box2D during the game)\r\n    let alignedX = true;\r\n    let alignedY = true;\r\n    for (let i = 0; i < vertices.length - 1; ++i) {\r\n      if (vertices[i].x !== vertices[i + 1].x) alignedX = false;\r\n      if (vertices[i].y !== vertices[i + 1].y) alignedY = false;\r\n    }\r\n    if (alignedX || alignedY) return false;\r\n\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      vertices,\r\n      onChangeVertexX,\r\n      onChangeVertexY,\r\n      onAdd,\r\n      onRemove,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Table>\r\n        <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\r\n          <TableRow>\r\n            <TableHeaderColumn />\r\n            <TableHeaderColumn>X</TableHeaderColumn>\r\n            <TableHeaderColumn>Y</TableHeaderColumn>\r\n            <TableRowColumn />\r\n          </TableRow>\r\n        </TableHeader>\r\n        <TableBody\r\n          displayRowCheckbox={false}\r\n          deselectOnClickaway={true}\r\n          showRowHover={false}\r\n        >\r\n          {vertices.map((value, index) => {\r\n            return (\r\n              <TableRow key={`vertexRow${index}`}>\r\n                <TableRowColumn>\r\n                  {!this._isPolygonConvex(vertices) && <Warning />}\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <SemiControlledTextField\r\n                    value={value.x.toString(10)}\r\n                    onChange={newValue =>\r\n                      onChangeVertexX(parseFloat(newValue) || 0, index)\r\n                    }\r\n                    type=\"number\"\r\n                  />\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <SemiControlledTextField\r\n                    value={value.y.toString(10)}\r\n                    onChange={newValue =>\r\n                      onChangeVertexY(parseFloat(newValue) || 0, index)\r\n                    }\r\n                    type=\"number\"\r\n                  />\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <IconButton onClick={() => onRemove(index)}>\r\n                    <Delete />\r\n                  </IconButton>\r\n                </TableRowColumn>\r\n              </TableRow>\r\n            );\r\n          })}\r\n          <TableRow>\r\n            <TableRowColumn />\r\n            <TableRowColumn />\r\n            <TableRowColumn />\r\n            <TableRowColumn>\r\n              <IconButton onClick={onAdd}>\r\n                <AddCircle />\r\n              </IconButton>\r\n            </TableRowColumn>\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n","// @flow\r\nimport { Trans } from '@lingui/macro';\r\n\r\nimport * as React from 'react';\r\nimport { Line, Column } from '../../../UI/Grid';\r\nimport Checkbox from 'material-ui/Checkbox';\r\nimport SelectField from 'material-ui/SelectField';\r\nimport MenuItem from 'material-ui/MenuItem';\r\nimport SemiControlledTextField from '../../../UI/SemiControlledTextField';\r\nimport ImagePreview from '../../../ResourcesList/ResourcePreview/ImagePreview';\r\nimport ResourceSelector from '../../../ResourcesList/ResourceSelector';\r\nimport ResourcesLoader from '../../../ResourcesLoader';\r\nimport BackgroundText from '../../../UI/BackgroundText';\r\nimport ShapePreview from './ShapePreview.js';\r\nimport PolygonEditor from './PolygonEditor.js';\r\nimport { type BehaviorEditorProps } from '../BehaviorEditorProps.flow';\r\n\r\ntype Props = BehaviorEditorProps;\r\n\r\ntype State = {|\r\n  image: string,\r\n|};\r\n\r\nfunction NumericProperty(props: {|\r\n  properties: gdMapStringPropertyDescriptor,\r\n  propertyName: string,\r\n  step: number,\r\n  onUpdate: (newValue: string) => void,\r\n|}) {\r\n  const { properties, propertyName, step, onUpdate } = props;\r\n\r\n  return (\r\n    <SemiControlledTextField\r\n      value={properties.get(propertyName).getValue()}\r\n      key={propertyName}\r\n      floatingLabelText={properties.get(propertyName).getLabel()}\r\n      floatingLabelFixed\r\n      step={step}\r\n      onChange={onUpdate}\r\n      type=\"number\"\r\n    />\r\n  );\r\n}\r\n\r\nfunction BitProperty(props: {|\r\n  enabled: boolean,\r\n  propertyName: string,\r\n  pos: number,\r\n  spacing: boolean,\r\n  onUpdate: (enabled: boolean) => void,\r\n|}) {\r\n  const { enabled, propertyName, pos, spacing, onUpdate } = props;\r\n\r\n  return (\r\n    <div style={{ width: spacing ? '7.5%' : '5%' }}>\r\n      {\r\n        <Checkbox\r\n          checked={enabled}\r\n          onCheck={(e, checked) => onUpdate(checked)}\r\n        />\r\n      }\r\n      {spacing && (\r\n        <div\r\n          style={{ width: '33%' }}\r\n          key={propertyName + '-space' + pos.toString(10)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default class Physics2Editor extends React.Component<Props, State> {\r\n  resourcesLoader = ResourcesLoader;\r\n\r\n  state = {\r\n    image: '',\r\n  };\r\n\r\n  _isBitEnabled(bitsValue: number, pos: number) {\r\n    return !!(bitsValue & (1 << pos));\r\n  }\r\n\r\n  _enableBit(bitsValue: number, pos: number, enable: boolean) {\r\n    if (enable) bitsValue |= 1 << pos;\r\n    else bitsValue &= ~(1 << pos);\r\n    return bitsValue;\r\n  }\r\n\r\n  render() {\r\n    const { behavior, behaviorContent, project } = this.props;\r\n\r\n    const properties = behavior.getProperties(\r\n      behaviorContent.getContent(),\r\n      project\r\n    );\r\n    const bits = Array(16).fill(null);\r\n    const shape = properties.get('shape').getValue();\r\n    const layersValues = parseInt(properties.get('layers').getValue(), 10);\r\n    const masksValues = parseInt(properties.get('masks').getValue(), 10);\r\n\r\n    return (\r\n      <Column>\r\n        <Line>\r\n          <SelectField\r\n            key={'bodyType'}\r\n            floatingLabelText={properties.get('bodyType').getLabel()}\r\n            floatingLabelFixed\r\n            value={properties.get('bodyType').getValue()}\r\n            onChange={(e, index, newValue) => {\r\n              behavior.updateProperty(\r\n                behaviorContent.getContent(),\r\n                'bodyType',\r\n                newValue,\r\n                project\r\n              );\r\n              this.forceUpdate();\r\n            }}\r\n          >\r\n            {[\r\n              <MenuItem\r\n                key={'dynamic'}\r\n                value={'Dynamic'}\r\n                primaryText={<Trans>Dynamic</Trans>}\r\n              />,\r\n              <MenuItem\r\n                key={'static'}\r\n                value={'Static'}\r\n                primaryText={<Trans>Static</Trans>}\r\n              />,\r\n              <MenuItem\r\n                key={'kinematic'}\r\n                value={'Kinematic'}\r\n                primaryText={<Trans>Kinematic</Trans>}\r\n              />,\r\n            ]}\r\n          </SelectField>\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <Checkbox\r\n              label={properties.get('bullet').getLabel()}\r\n              checked={properties.get('bullet').getValue() === 'true'}\r\n              onCheck={(e, checked) => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'bullet',\r\n                  checked ? '1' : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <Checkbox\r\n              label={properties.get('fixedRotation').getLabel()}\r\n              checked={properties.get('fixedRotation').getValue() === 'true'}\r\n              onCheck={(e, checked) => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'fixedRotation',\r\n                  checked ? '1' : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <Checkbox\r\n              label={properties.get('canSleep').getLabel()}\r\n              checked={properties.get('canSleep').getValue() === 'true'}\r\n              onCheck={(e, checked) => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'canSleep',\r\n                  checked ? '1' : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n        </Line>\r\n        <Line>\r\n          <SelectField\r\n            floatingLabelText={properties.get('shape').getLabel()}\r\n            floatingLabelFixed\r\n            value={properties.get('shape').getValue()}\r\n            onChange={(e, index, newValue) => {\r\n              behavior.updateProperty(\r\n                behaviorContent.getContent(),\r\n                'shape',\r\n                newValue,\r\n                project\r\n              );\r\n              this.forceUpdate();\r\n            }}\r\n          >\r\n            <MenuItem\r\n              key={'box'}\r\n              value={'Box'}\r\n              primaryText={<Trans>Box</Trans>}\r\n            />\r\n            <MenuItem\r\n              key={'circle'}\r\n              value={'Circle'}\r\n              primaryText={<Trans>Circle</Trans>}\r\n            />\r\n            <MenuItem\r\n              key={'edge'}\r\n              value={'Edge'}\r\n              primaryText={<Trans>Edge</Trans>}\r\n            />\r\n            <MenuItem\r\n              key={'polygon'}\r\n              value={'Polygon'}\r\n              primaryText={<Trans>Polygon</Trans>}\r\n            />\r\n          </SelectField>\r\n        </Line>\r\n        <Line>\r\n          {shape !== 'Polygon' && (\r\n            <SemiControlledTextField\r\n              value={properties\r\n                .get(shape === 'Polygon' ? 'PolygonOriginX' : 'shapeDimensionA')\r\n                .getValue()}\r\n              key={'shapeDimensionA'}\r\n              floatingLabelText={\r\n                shape === 'Circle'\r\n                  ? 'Radius'\r\n                  : shape === 'Edge'\r\n                  ? 'Length'\r\n                  : 'Width'\r\n              }\r\n              floatingLabelFixed\r\n              min={0}\r\n              onChange={newValue => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  shape === 'Polygon' ? 'PolygonOriginX' : 'shapeDimensionA',\r\n                  newValue,\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              type=\"number\"\r\n            />\r\n          )}\r\n          {shape !== 'Polygon' && shape !== 'Circle' && (\r\n            <SemiControlledTextField\r\n              value={properties\r\n                .get(shape === 'Polygon' ? 'PolygonOriginY' : 'shapeDimensionB')\r\n                .getValue()}\r\n              key={'shapeDimensionB'}\r\n              floatingLabelText={shape === 'Edge' ? 'Angle' : 'Height'}\r\n              floatingLabelFixed\r\n              min={shape === 'Edge' ? undefined : 0}\r\n              onChange={newValue => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  shape === 'Polygon' ? 'PolygonOriginY' : 'shapeDimensionB',\r\n                  newValue,\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              type=\"number\"\r\n            />\r\n          )}\r\n          {shape === 'Polygon' && (\r\n            <SelectField\r\n              floatingLabelText={properties.get('polygonOrigin').getLabel()}\r\n              floatingLabelFixed\r\n              value={properties.get('polygonOrigin').getValue()}\r\n              onChange={(e, index, newValue) => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'polygonOrigin',\r\n                  newValue,\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            >\r\n              {[\r\n                <MenuItem\r\n                  key={'center'}\r\n                  value={'Center'}\r\n                  primaryText={<Trans>Center</Trans>}\r\n                />,\r\n                <MenuItem\r\n                  key={'origin'}\r\n                  value={'Origin'}\r\n                  primaryText={<Trans>Origin</Trans>}\r\n                />,\r\n                <MenuItem\r\n                  key={'topLeft'}\r\n                  value={'TopLeft'}\r\n                  primaryText={<Trans>Top-Left</Trans>}\r\n                />,\r\n              ]}\r\n            </SelectField>\r\n          )}\r\n          <NumericProperty\r\n            properties={properties}\r\n            propertyName={'shapeOffsetX'}\r\n            step={1}\r\n            onUpdate={newValue => {\r\n              behavior.updateProperty(\r\n                behaviorContent.getContent(),\r\n                'shapeOffsetX',\r\n                newValue,\r\n                project\r\n              );\r\n              this.forceUpdate();\r\n            }}\r\n          />\r\n          <NumericProperty\r\n            properties={properties}\r\n            propertyName={'shapeOffsetY'}\r\n            step={1}\r\n            onUpdate={newValue => {\r\n              this.props.behavior.updateProperty(\r\n                behaviorContent.getContent(),\r\n                'shapeOffsetY',\r\n                newValue,\r\n                this.props.project\r\n              );\r\n              this.forceUpdate();\r\n            }}\r\n          />\r\n        </Line>\r\n        <Line>\r\n          <div\r\n            style={{\r\n              width:\r\n                '100%' /* This div prevents ImagePreview to overflow outside the parent */,\r\n            }}\r\n          >\r\n            <ImagePreview\r\n              resourceName={this.state.image}\r\n              project={this.props.project}\r\n              resourcesLoader={this.resourcesLoader}\r\n              renderOverlay={({ imageWidth, imageHeight, imageZoomFactor }) => (\r\n                <ShapePreview\r\n                  shape={properties.get('shape').getValue()}\r\n                  dimensionA={parseFloat(\r\n                    properties.get('shapeDimensionA').getValue()\r\n                  )}\r\n                  dimensionB={parseFloat(\r\n                    properties.get('shapeDimensionB').getValue()\r\n                  )}\r\n                  offsetX={parseFloat(\r\n                    properties.get('shapeOffsetX').getValue()\r\n                  )}\r\n                  offsetY={parseFloat(\r\n                    properties.get('shapeOffsetY').getValue()\r\n                  )}\r\n                  polygonOrigin={properties.get('polygonOrigin').getValue()}\r\n                  vertices={JSON.parse(properties.get('vertices').getValue())}\r\n                  width={imageWidth}\r\n                  height={imageHeight}\r\n                  zoomFactor={imageZoomFactor}\r\n                  onMoveVertex={(index, newX, newY) => {\r\n                    let vertices = JSON.parse(\r\n                      properties.get('vertices').getValue()\r\n                    );\r\n                    vertices[index].x = newX;\r\n                    vertices[index].y = newY;\r\n                    behavior.updateProperty(\r\n                      behaviorContent.getContent(),\r\n                      'vertices',\r\n                      JSON.stringify(vertices),\r\n                      project\r\n                    );\r\n                    this.forceUpdate();\r\n                  }}\r\n                />\r\n              )}\r\n            />\r\n          </div>\r\n        </Line>\r\n        <Line alignItems=\"center\">\r\n          <ResourceSelector\r\n            project={this.props.project}\r\n            resourceSources={this.props.resourceSources}\r\n            onChooseResource={this.props.onChooseResource}\r\n            resourceExternalEditors={this.props.resourceExternalEditors}\r\n            resourcesLoader={this.resourcesLoader}\r\n            resourceKind={'image'}\r\n            initialResourceName={''}\r\n            fullWidth={false}\r\n            onChange={resourceName => {\r\n              this.setState({ image: resourceName });\r\n              this.forceUpdate();\r\n            }}\r\n          />\r\n          <BackgroundText>\r\n            An temporary image to help you visualize the shape/polygon\r\n          </BackgroundText>\r\n        </Line>\r\n        {shape === 'Polygon' && (\r\n          <Line>\r\n            <PolygonEditor\r\n              vertices={JSON.parse(properties.get('vertices').getValue())}\r\n              onChangeVertexX={(newValue, index) => {\r\n                let vertices = JSON.parse(\r\n                  properties.get('vertices').getValue()\r\n                );\r\n                vertices[index].x = newValue;\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'vertices',\r\n                  JSON.stringify(vertices),\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              onChangeVertexY={(newValue, index) => {\r\n                let vertices = JSON.parse(\r\n                  properties.get('vertices').getValue()\r\n                );\r\n                vertices[index].y = newValue;\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'vertices',\r\n                  JSON.stringify(vertices),\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              onAdd={() => {\r\n                let vertices = JSON.parse(\r\n                  properties.get('vertices').getValue()\r\n                );\r\n                if (vertices.length >= 8) return;\r\n                vertices.push({ x: 0, y: 0 });\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'vertices',\r\n                  JSON.stringify(vertices),\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              onRemove={index => {\r\n                let vertices = JSON.parse(\r\n                  properties.get('vertices').getValue()\r\n                );\r\n                vertices.splice(index, 1);\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'vertices',\r\n                  JSON.stringify(vertices),\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Line>\r\n        )}\r\n        <Line>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'density'}\r\n              step={0.1}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'density',\r\n                  parseFloat(newValue) > 0 ? newValue : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'gravityScale'}\r\n              step={0.1}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'gravityScale',\r\n                  newValue,\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'friction'}\r\n              step={0.1}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'friction',\r\n                  parseFloat(newValue) > 0 ? newValue : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'restitution'}\r\n              step={0.1}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'restitution',\r\n                  parseFloat(newValue) > 0 ? newValue : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'linearDamping'}\r\n              step={0.05}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'linearDamping',\r\n                  newValue,\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'angularDamping'}\r\n              step={0.05}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'angularDamping',\r\n                  newValue,\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n        </Line>\r\n        <Line>\r\n          <label style={{ width: '10%' }}>\r\n            {properties.get('layers').getLabel()}\r\n          </label>\r\n          {bits.map((value, index) => {\r\n            return (\r\n              <BitProperty\r\n                enabled={this._isBitEnabled(layersValues, index)}\r\n                propertyName={'layers'}\r\n                pos={index}\r\n                spacing={index === 7}\r\n                onUpdate={enabled => {\r\n                  const newValue = this._enableBit(\r\n                    layersValues,\r\n                    index,\r\n                    enabled\r\n                  );\r\n                  this.props.behavior.updateProperty(\r\n                    behaviorContent.getContent(),\r\n                    'layers',\r\n                    newValue.toString(10),\r\n                    this.props.project\r\n                  );\r\n                  this.forceUpdate();\r\n                }}\r\n                key={`layer${index}`}\r\n              />\r\n            );\r\n          })}\r\n        </Line>\r\n        <Line>\r\n          <label style={{ width: '10%' }}>\r\n            {properties.get('masks').getLabel()}\r\n          </label>\r\n          {bits.map((value, index) => {\r\n            return (\r\n              <BitProperty\r\n                enabled={this._isBitEnabled(masksValues, index)}\r\n                propertyName={'masks'}\r\n                pos={index}\r\n                spacing={index === 7}\r\n                onUpdate={enabled => {\r\n                  const newValue = this._enableBit(masksValues, index, enabled);\r\n                  this.props.behavior.updateProperty(\r\n                    behaviorContent.getContent(),\r\n                    'masks',\r\n                    newValue.toString(10),\r\n                    this.props.project\r\n                  );\r\n                  this.forceUpdate();\r\n                }}\r\n                key={`mask${index}`}\r\n              />\r\n            );\r\n          })}\r\n        </Line>\r\n      </Column>\r\n    );\r\n  }\r\n}\r\n","// @flow\nimport BehaviorPropertiesEditor from './Editors/BehaviorPropertiesEditor';\nimport Physics2Editor from './Editors/Physics2Editor';\n\n/**\n * A service returning editor components for each behavior type.\n */\nexport default {\n  getEditor(behaviorType: string) {\n    if (!this.components[behaviorType]) {\n      return BehaviorPropertiesEditor; // Default properties editor\n    }\n    return this.components[behaviorType].component; // Custom  behavior editor\n  },\n  components: {\n    'Physics2::Physics2Behavior': {\n      component: Physics2Editor,\n    },\n  },\n};\n","//TODO: Factor with styles.js from PointsEditor.\nexport default {\n  handleColumn: {\n    width: 24,\n    paddingLeft: 8,\n    paddingRight: 0,\n  },\n  visibleColumn: {\n    width: 48,\n  },\n  toolColumn: {\n    width: 48,\n  },\n};\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport Checkbox from 'material-ui/Checkbox';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport TextField from 'material-ui/TextField';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport DragHandle from '../UI/DragHandle';\nimport styles from './styles';\n\nconst ThemableLayerRow = ({\n  layerName,\n  nameError,\n  onBlur,\n  onRemove,\n  isVisible,\n  onChangeVisibility,\n  muiTheme,\n}) => (\n  <TableRow\n    style={{\n      backgroundColor: muiTheme.list.itemsBackgroundColor,\n    }}\n  >\n    <TableRowColumn style={styles.handleColumn}>\n      <DragHandle />\n    </TableRowColumn>\n    <TableRowColumn>\n      <TextField\n        defaultValue={layerName || 'Base layer'}\n        id={layerName}\n        errorText={nameError ? 'This name is already taken' : undefined}\n        disabled={!layerName}\n        onBlur={onBlur}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.visibleColumn}>\n      <Checkbox\n        checked={isVisible}\n        checkedIcon={<Visibility />}\n        uncheckedIcon={<VisibilityOff />}\n        onCheck={onChangeVisibility}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onRemove} disabled={!layerName}>\n        <Delete />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nconst LayerRow = muiThemeable()(ThemableLayerRow);\nexport default LayerRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport Add from 'material-ui/svg-icons/content/add';\nimport IconButton from 'material-ui/IconButton';\nimport styles from './styles';\n\nconst AddLayerRow = ({ onAdd }) => (\n  <TableRow key=\"add-row\">\n    <TableRowColumn style={styles.handleColumn} />\n    <TableRowColumn />\n    <TableRowColumn style={styles.visibleColumn} />\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nexport default AddLayerRow;\n","import React, { Component } from 'react';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport { mapReverseFor } from '../Utils/MapFor';\nimport styles from './styles';\nimport LayerRow from './LayerRow';\nimport AddLayerRow from './AddLayerRow';\n\nconst SortableAddLayerRow = SortableElement(AddLayerRow);\nconst SortableLayerRow = SortableElement(LayerRow);\n\nclass LayersListBody extends Component {\n  constructor() {\n    super();\n    this.state = {\n      nameErrors: {},\n    };\n  }\n\n  render() {\n    const { layersContainer } = this.props;\n\n    const layersCount = layersContainer.getLayersCount();\n    const containerLayersList = mapReverseFor(0, layersCount, i => {\n      const layer = layersContainer.getLayerAt(i);\n      const layerName = layer.getName();\n\n      return (\n        <SortableLayerRow\n          index={layersCount - 1 - i}\n          key={'layer-' + layerName}\n          layer={layer}\n          layerName={layerName}\n          nameError={this.state.nameErrors[layerName]}\n          onBlur={event => {\n            const newName = event.target.value;\n            if (layerName === newName) return;\n\n            let success = true;\n            if (layersContainer.hasLayerNamed(newName)) {\n              success = false;\n            } else {\n              this.props.onRenameLayer(layerName, newName, doRename => {\n                if (doRename)\n                  layersContainer.getLayer(layerName).setName(newName);\n              });\n            }\n\n            this.setState({\n              nameErrors: {\n                ...this.state.nameErrors,\n                [layerName]: !success,\n              },\n            });\n          }}\n          onRemove={() => {\n            this.props.onRemoveLayer(layerName, doRemove => {\n              if (!doRemove) return;\n\n              layersContainer.removeLayer(layerName);\n              this.forceUpdate();\n            });\n          }}\n          isVisible={layer.getVisibility()}\n          onChangeVisibility={(e, visible) => {\n            layer.setVisibility(visible);\n            this.forceUpdate();\n          }}\n        />\n      );\n    });\n\n    const addRow = (\n      <SortableAddLayerRow\n        index={layersContainer.getLayersCount()}\n        key={'add-layer-row'}\n        disabled\n        onAdd={() => {\n          const name = newNameGenerator('Layer', name =>\n            layersContainer.hasLayerNamed(name)\n          );\n          layersContainer.insertNewLayer(\n            name,\n            layersContainer.getLayersCount()\n          );\n          this.forceUpdate();\n        }}\n      />\n    );\n\n    return (\n      <TableBody\n        displayRowCheckbox={false}\n        deselectOnClickaway={true}\n        showRowHover={true}\n      >\n        {containerLayersList.concat(addRow)}\n      </TableBody>\n    );\n  }\n}\n\nconst SortableLayersListBody = SortableContainer(LayersListBody);\nSortableLayersListBody.muiName = 'TableBody';\n\nexport default class LayersList extends Component {\n  shouldComponentUpdate(nextProps) {\n    // Rendering the component can be costly as it iterates over\n    // every layers, so the prop freezeUpdate allow to ask the component to stop\n    // updating, for example when hidden.\n    return !nextProps.freezeUpdate;\n  }\n\n  render() {\n    // Force the list to be mounted again if layersContainer\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = this.props.layersContainer.ptr;\n\n    return (\n      <Table selectable={false}>\n        <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n          <TableRow>\n            <TableHeaderColumn style={styles.handleColumn} />\n            <TableHeaderColumn>Layer name</TableHeaderColumn>\n            <TableHeaderColumn style={styles.visibleColumn}>\n              Visible\n            </TableHeaderColumn>\n            <TableRowColumn style={styles.toolColumn} />\n          </TableRow>\n        </TableHeader>\n        <SortableLayersListBody\n          key={listKey}\n          layersContainer={this.props.layersContainer}\n          onRemoveLayer={this.props.onRemoveLayer}\n          onRenameLayer={this.props.onRenameLayer}\n          onSortEnd={({ oldIndex, newIndex }) => {\n            const layersCount = this.props.layersContainer.getLayersCount();\n            this.props.layersContainer.moveLayer(\n              layersCount - 1 - oldIndex,\n              layersCount - 1 - newIndex\n            );\n            this.forceUpdate();\n          }}\n          helperClass=\"sortable-helper\"\n          useDragHandle\n          lockToContainerEdges\n        />\n      </Table>\n    );\n  }\n}\n\nLayersList.defaultProps = {\n  onRemoveLayer: (layerName, cb) => cb(true),\n  onRenameLayer: (oldName, newName, cb) => cb(true),\n};\n","// @flow\nimport * as React from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst styles = {\n  logo: {\n    width: '100%',\n  },\n};\n\nconst ThemableGDevelopLogo = ({ muiTheme }) => (\n  <img src={muiTheme.logo.src} alt=\"\" style={styles.logo} />\n);\n\nconst GDevelopLogo = muiThemeable()(ThemableGDevelopLogo);\nexport default GDevelopLogo;\n","// @flow\nimport * as React from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst styles = {\n  scrollContainer: {\n    flex: 1,\n    display: 'flex',\n    overflowY: 'scroll',\n  },\n};\n\nconst ThemableScrollBackground = ({ muiTheme, children }) => (\n  <div\n    style={{\n      ...styles.scrollContainer,\n      backgroundColor: muiTheme.palette.canvasColor,\n    }}\n  >\n    {children}\n  </div>\n);\n\nconst ScrollBackground = muiThemeable()(ThemableScrollBackground);\nexport default ScrollBackground;\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\n\nimport React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Paper from 'material-ui/Paper';\nimport IconButton from 'material-ui/IconButton';\nimport Language from 'material-ui/svg-icons/action/language';\nimport BaseEditor from '../BaseEditor';\nimport Window from '../../../Utils/Window';\nimport { Line } from '../../../UI/Grid';\nimport GDevelopLogo from './GDevelopLogo';\nimport ScrollBackground from './ScrollBackground';\nimport RaisedButton from 'material-ui/RaisedButton';\n\nconst styles = {\n  innerContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    minHeight: 350,\n  },\n  centerContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    maxWidth: 400,\n  },\n  logoPaper: {\n    margin: 10,\n    padding: 5,\n    width: '100%',\n    textAlign: 'center',\n  },\n  buttonsPaper: {\n    width: '100%',\n  },\n};\n\nclass StartPage extends BaseEditor {\n  constructor() {\n    super();\n\n    this.state = {\n      aboutDialogOpen: false,\n    };\n  }\n\n  getProject() {\n    return undefined;\n  }\n\n  updateToolbar() {\n    if (this.props.setToolbar) this.props.setToolbar(null);\n  }\n\n  render() {\n    const {\n      project,\n      canOpen,\n      onOpen,\n      onCreate,\n      onOpenProjectManager,\n      onCloseProject,\n      onOpenAboutDialog,\n      onOpenHelpFinder,\n      onOpenLanguageDialog,\n    } = this.props;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <ScrollBackground>\n            <div style={styles.innerContainer}>\n              <Line expand justifyContent=\"center\">\n                <div style={styles.centerContainer}>\n                  <Paper\n                    zDepth={1}\n                    style={{\n                      ...styles.logoPaper,\n                    }}\n                  >\n                    <GDevelopLogo />\n                    <p>\n                      <Trans>\n                        GDevelop is an easy-to-use game creator with no\n                        programming language to learn.\n                      </Trans>\n                    </p>\n                  </Paper>\n                  {!project && canOpen && (\n                    <RaisedButton\n                      label={<Trans>Open a project</Trans>}\n                      fullWidth\n                      onClick={onOpen}\n                      primary\n                    />\n                  )}\n                  {!project && (\n                    <RaisedButton\n                      label={<Trans>Create a new project</Trans>}\n                      fullWidth\n                      onClick={onCreate}\n                      primary\n                    />\n                  )}\n                  {!!project && (\n                    <RaisedButton\n                      label={<Trans>Open Project Manager</Trans>}\n                      fullWidth\n                      onClick={onOpenProjectManager}\n                      primary\n                    />\n                  )}\n                  {!!project && (\n                    <FlatButton\n                      label={<Trans>Close project</Trans>}\n                      fullWidth\n                      onClick={onCloseProject}\n                    />\n                  )}\n                  {\n                    <FlatButton\n                      label={<Trans>Search the documentation</Trans>}\n                      fullWidth\n                      onClick={onOpenHelpFinder}\n                    />\n                  }\n                </div>\n              </Line>\n              <Line alignItems=\"center\" justifyContent=\"space-between\">\n                <Line>\n                  <FlatButton\n                    label={<Trans>About GDevelop</Trans>}\n                    onClick={onOpenAboutDialog}\n                  />\n                  <FlatButton\n                    label={<Trans>GDevelop Forums</Trans>}\n                    onClick={() =>\n                      Window.openExternalURL('https://forum.gdevelop-app.com')\n                    }\n                  />\n                  <FlatButton\n                    label={<Trans>Help and tutorials</Trans>}\n                    onClick={() =>\n                      Window.openExternalURL(\n                        'http://wiki.compilgames.net/doku.php/gdevelop5/start'\n                      )\n                    }\n                  />\n                </Line>\n                <Line alignItems=\"center\">\n                  <FlatButton\n                    label={i18n.language}\n                    onClick={onOpenLanguageDialog}\n                    icon={<Language />}\n                  />\n                  <IconButton\n                    iconClassName=\"icon-facebook\"\n                    onClick={() =>\n                      Window.openExternalURL(\n                        'https://www.facebook.com/GDevelopApp'\n                      )\n                    }\n                  />\n                  <IconButton\n                    iconClassName=\"icon-twitter\"\n                    onClick={() =>\n                      Window.openExternalURL('https://twitter.com/GDevelopApp')\n                    }\n                  />\n                </Line>\n              </Line>\n            </div>\n          </ScrollBackground>\n        )}\n      </I18n>\n    );\n  }\n}\n\nexport default StartPage;\n","// @flow\nimport React, { Component } from 'react';\nimport InstructionOrExpressionSelector from './index';\nimport { createTree, type InstructionOrExpressionTreeNode } from './CreateTree';\nimport { enumerateInstructions } from './EnumerateInstructions';\nimport {\n  type EnumeratedInstructionOrExpressionMetadata,\n  filterEnumeratedInstructionOrExpressionMetadataByScope,\n} from './EnumeratedInstructionOrExpressionMetadata.js';\nimport { type EventsScope } from '../../EventsScope.flow';\n\ntype Props = {|\n  isCondition: boolean,\n  focusOnMount?: boolean,\n  selectedType: string,\n  onChoose: (type: string, EnumeratedInstructionOrExpressionMetadata) => void,\n  scope: EventsScope,\n|};\n\nexport default class InstructionSelector extends Component<Props, {||}> {\n  instructionsInfo: Array<EnumeratedInstructionOrExpressionMetadata> = filterEnumeratedInstructionOrExpressionMetadataByScope(\n    enumerateInstructions(this.props.isCondition),\n    this.props.scope\n  );\n  instructionsInfoTree: InstructionOrExpressionTreeNode = createTree(\n    this.instructionsInfo\n  );\n\n  render() {\n    const { isCondition, scope, ...otherProps } = this.props;\n    return (\n      <InstructionOrExpressionSelector\n        instructionsInfo={this.instructionsInfo}\n        instructionsInfoTree={this.instructionsInfoTree}\n        iconSize={24}\n        {...otherProps}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\nimport InstructionSelector from './InstructionOrExpressionSelector/InstructionSelector.js';\nimport InstructionParametersEditor from './InstructionParametersEditor.js';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../ResourcesList/ResourceExternalEditor.flow';\nimport { type EventsScope } from '../EventsScope.flow';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n  },\n  parametersEditor: {\n    flex: 2,\n    display: 'flex',\n    paddingLeft: 16,\n    paddingRight: 16,\n    zIndex: 1, // Put the Paper shadow on the type selector\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  instruction: gdInstruction,\n  isCondition: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  style?: Object,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n|};\ntype State = {||};\n\nexport default class InstructionEditor extends React.Component<Props, State> {\n  _instructionParametersEditor: ?InstructionParametersEditor;\n\n  chooseType = (type: string) => {\n    const { instruction } = this.props;\n    instruction.setType(type);\n    this.forceUpdate(() => {\n      if (this._instructionParametersEditor) {\n        this._instructionParametersEditor.focus();\n      }\n    });\n  };\n\n  render() {\n    const {\n      instruction,\n      isCondition,\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      scope,\n    } = this.props;\n\n    return (\n      <div style={styles.container}>\n        <InstructionSelector\n          isCondition={isCondition}\n          selectedType={instruction.getType()}\n          onChoose={this.chooseType}\n          focusOnMount={!instruction.getType()}\n          scope={scope}\n        />\n        <Paper style={styles.parametersEditor} rounded={false} zDepth={2}>\n          <InstructionParametersEditor\n            project={project}\n            scope={scope}\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            isCondition={isCondition}\n            instruction={instruction}\n            resourceSources={this.props.resourceSources}\n            onChooseResource={this.props.onChooseResource}\n            resourceExternalEditors={this.props.resourceExternalEditors}\n            openInstructionOrExpression={this.props.openInstructionOrExpression}\n            ref={instructionParametersEditor =>\n              (this._instructionParametersEditor = instructionParametersEditor)\n            }\n            focusOnMount={instruction.getType()}\n          />\n        </Paper>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport InstructionEditor from './index.js';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../ResourcesList/ResourceExternalEditor.flow';\nimport { type EventsScope } from '../EventsScope.flow';\n\nconst styles = {\n  dialogContent: {\n    width: 'calc(100% - 16px)',\n    maxWidth: 'none',\n  },\n  dialogBody: {\n    padding: 0,\n    display: 'flex',\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  instruction: gdInstruction,\n  isCondition: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  style?: Object,\n  isNewInstruction: boolean,\n  onCancel: () => void,\n  onSubmit: () => void,\n  open: boolean,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n|};\ntype State = {||};\n\nexport default class InstructionEditorDialog extends React.Component<\n  Props,\n  State\n> {\n  render() {\n    const {\n      isNewInstruction,\n      onCancel,\n      onSubmit,\n      open,\n      ...otherProps\n    } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={onCancel}\n      />,\n      <FlatButton\n        label={<Trans>Ok</Trans>}\n        primary={true}\n        keyboardFocused={false}\n        onClick={onSubmit}\n      />,\n    ];\n\n    return (\n      <Dialog\n        actions={actions}\n        open={open}\n        onRequestClose={onCancel}\n        contentStyle={styles.dialogContent}\n        bodyStyle={styles.dialogBody}\n      >\n        <InstructionEditor {...otherProps} />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\nimport { t } from '@lingui/macro';\n\nimport * as React from 'react';\nimport {\n  createTree,\n  type InstructionOrExpressionTreeNode,\n} from './InstructionOrExpressionSelector/CreateTree';\nimport {\n  enumerateFreeInstructions,\n  filterInstructionsList,\n} from './InstructionOrExpressionSelector/EnumerateInstructions';\nimport { type EnumeratedInstructionOrExpressionMetadata } from './InstructionOrExpressionSelector/EnumeratedInstructionOrExpressionMetadata.js';\nimport { List, makeSelectable } from 'material-ui/List';\nimport SearchBar from '../../UI/SearchBar';\nimport ThemeConsumer from '../../UI/Theme/ThemeConsumer';\nimport ScrollView from '../../UI/ScrollView';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport { Subheader } from 'material-ui';\nimport {\n  enumerateObjectsAndGroups,\n  filterObjectsList,\n  filterGroupsList,\n  enumerateObjects,\n} from '../../ObjectsList/EnumerateObjects';\nimport TagChips from '../../UI/TagChips';\nimport { renderGroupObjectsListItem } from './SelectorListItems/SelectorGroupObjectsListItem';\nimport { renderObjectListItem } from './SelectorListItems/SelectorObjectListItem';\nimport { renderInstructionOrExpressionListItem } from './SelectorListItems/SelectorInstructionOrExpressionListItem';\nimport { renderInstructionTree } from './SelectorListItems/SelectorInstructionsTreeListItem';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport {\n  buildTagsMenuTemplate,\n  getTagsFromString,\n} from '../../Utils/TagsHelper';\nimport {\n  getObjectOrObjectGroupListItemKey,\n  getInstructionListItemKey,\n} from './SelectorListItems/Keys';\n\nconst styles = {\n  searchBar: {\n    flexShrink: 0,\n  },\n};\n\nconst SelectableList = makeSelectable(List);\n\nexport type TabName = 'objects' | 'free-instructions';\n\ntype State = {|\n  searchText: string,\n\n  // State for tags of objects:\n  selectedObjectTags: Array<string>,\n|};\n\ntype Props = {|\n  project: gdProject,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  currentTab: TabName,\n  onChangeTab: TabName => void,\n  isCondition: boolean,\n  focusOnMount?: boolean,\n  chosenInstructionType: ?string,\n  onChooseInstruction: (\n    type: string,\n    EnumeratedInstructionOrExpressionMetadata\n  ) => void,\n  chosenObjectName: ?string,\n  onChooseObject: (objectName: string) => void,\n  onSearchStartOrReset?: () => void,\n  style?: Object,\n|};\n\nconst iconSize = 24;\nconst minHeight = 400; // Avoid a super small list in empty scenes. 400 is enough to be displayed on an iPhone SE.\n\nexport default class InstructionOrObjectSelector extends React.Component<\n  Props,\n  State\n> {\n  state = { searchText: '', selectedObjectTags: [] };\n  _searchBar = React.createRef<SearchBar>();\n\n  instructionsInfo: Array<EnumeratedInstructionOrExpressionMetadata> = enumerateFreeInstructions(\n    this.props.isCondition\n  );\n  instructionsInfoTree: InstructionOrExpressionTreeNode = createTree(\n    this.instructionsInfo\n  );\n\n  componentDidMount() {\n    if (this.props.focusOnMount && this._searchBar.current) {\n      this._searchBar.current.focus();\n    }\n  }\n\n  _getAllObjectTags = (): Array<string> => {\n    const { globalObjectsContainer, objectsContainer } = this.props;\n\n    const tagsSet: Set<string> = new Set();\n    enumerateObjects(\n      globalObjectsContainer,\n      objectsContainer\n    ).allObjectsList.forEach(({ object }) => {\n      getTagsFromString(object.getTags()).forEach(tag => tagsSet.add(tag));\n    });\n\n    return Array.from(tagsSet);\n  };\n\n  _buildObjectTagsMenuTemplate = (i18n: I18nType): Array<any> => {\n    const { selectedObjectTags } = this.state;\n\n    return buildTagsMenuTemplate({\n      noTagLabel: i18n._(t`No tags - add a tag to an object first`),\n      getAllTags: this._getAllObjectTags,\n      selectedTags: selectedObjectTags,\n      onChange: selectedObjectTags => {\n        this.setState({ selectedObjectTags });\n      },\n    });\n  };\n\n  render() {\n    const {\n      style,\n      globalObjectsContainer,\n      objectsContainer,\n      project,\n      chosenInstructionType,\n      onChooseInstruction,\n      chosenObjectName,\n      onChooseObject,\n      isCondition,\n      currentTab,\n      onChangeTab,\n      onSearchStartOrReset,\n    } = this.props;\n    const { searchText, selectedObjectTags } = this.state;\n\n    const { allObjectsList, allGroupsList } = enumerateObjectsAndGroups(\n      globalObjectsContainer,\n      objectsContainer\n    );\n    const displayedObjectsList = filterObjectsList(allObjectsList, {\n      searchText,\n      selectedTags: selectedObjectTags,\n    });\n    const displayedObjectGroupsList = selectedObjectTags.length\n      ? []\n      : filterGroupsList(allGroupsList, searchText);\n    const displayedInstructionsList = filterInstructionsList(\n      this.instructionsInfo,\n      { searchText }\n    );\n    const isSearching = !!searchText;\n    const hasResults =\n      !isSearching ||\n      !!displayedObjectsList.length ||\n      !!displayedObjectGroupsList.length ||\n      !!displayedInstructionsList.length;\n\n    const onSubmitSearch = () => {\n      if (!isSearching) return;\n\n      if (displayedObjectsList.length > 0) {\n        onChooseObject(displayedObjectsList[0].object.getName());\n      } else if (displayedObjectGroupsList.length > 0) {\n        onChooseObject(displayedObjectGroupsList[0].group.getName());\n      } else if (displayedInstructionsList.length > 0) {\n        onChooseInstruction(\n          displayedInstructionsList[0].type,\n          displayedInstructionsList[0]\n        );\n      }\n    };\n\n    return (\n      <I18n key=\"tags\">\n        {({ i18n }) => (\n          <ThemeConsumer>\n            {muiTheme => (\n              <div\n                style={{\n                  backgroundColor: muiTheme.list.itemsBackgroundColor,\n                  minHeight,\n                  ...style,\n                }}\n              >\n                <SearchBar\n                  value={searchText}\n                  onChange={searchText => {\n                    const oldSearchText = this.state.searchText;\n                    this.setState({\n                      searchText,\n                    });\n\n                    // Notify if needed that we started or cleared a search\n                    if (\n                      (!oldSearchText && searchText) ||\n                      (oldSearchText && !searchText)\n                    ) {\n                      if (onSearchStartOrReset) onSearchStartOrReset();\n                    }\n                  }}\n                  onRequestSearch={onSubmitSearch}\n                  buildTagsMenuTemplate={() =>\n                    this._buildObjectTagsMenuTemplate(i18n)\n                  }\n                  style={styles.searchBar}\n                  ref={this._searchBar}\n                />\n                {!isSearching && (\n                  <Tabs value={currentTab} onChange={onChangeTab}>\n                    <Tab\n                      label={<Trans>Objects</Trans>}\n                      value={('objects': TabName)}\n                    />\n                    <Tab\n                      label={\n                        isCondition ? (\n                          <Trans>Other conditions</Trans>\n                        ) : (\n                          <Trans>Other actions</Trans>\n                        )\n                      }\n                      value={('free-instructions': TabName)}\n                    >\n                      {/* Manually display tabs to support flex */}\n                    </Tab>\n                  </Tabs>\n                )}\n                <ScrollView>\n                  {!isSearching && currentTab === 'objects' && (\n                    <TagChips\n                      tags={selectedObjectTags}\n                      onChange={selectedObjectTags =>\n                        this.setState({\n                          selectedObjectTags,\n                        })\n                      }\n                    />\n                  )}\n                  {hasResults && (\n                    <SelectableList\n                      value={\n                        chosenObjectName\n                          ? getObjectOrObjectGroupListItemKey(chosenObjectName)\n                          : chosenInstructionType\n                          ? getInstructionListItemKey(chosenInstructionType)\n                          : ''\n                      }\n                    >\n                      {(isSearching || currentTab === 'objects') &&\n                        displayedObjectsList.map(objectWithContext =>\n                          renderObjectListItem({\n                            project: project,\n                            objectWithContext: objectWithContext,\n                            iconSize: iconSize,\n                            onClick: () =>\n                              onChooseObject(\n                                objectWithContext.object.getName()\n                              ),\n                          })\n                        )}\n                      {(isSearching || currentTab === 'objects') &&\n                        displayedObjectGroupsList.length > 0 && (\n                          <Subheader>\n                            <Trans>Object groups</Trans>\n                          </Subheader>\n                        )}\n                      {(isSearching || currentTab === 'objects') &&\n                        displayedObjectGroupsList.map(groupWithContext =>\n                          renderGroupObjectsListItem({\n                            groupWithContext: groupWithContext,\n                            iconSize: iconSize,\n                            onClick: () =>\n                              onChooseObject(groupWithContext.group.getName()),\n                          })\n                        )}\n                      {isSearching && displayedInstructionsList.length > 0 && (\n                        <Subheader>\n                          {isCondition ? (\n                            <Trans>Non-objects and other conditions</Trans>\n                          ) : (\n                            <Trans>Non-objects and other actions</Trans>\n                          )}\n                        </Subheader>\n                      )}\n                      {isSearching &&\n                        displayedInstructionsList.map(instructionMetadata =>\n                          renderInstructionOrExpressionListItem({\n                            instructionOrExpressionMetadata: instructionMetadata,\n                            iconSize: iconSize,\n                            onClick: () =>\n                              onChooseInstruction(\n                                instructionMetadata.type,\n                                instructionMetadata\n                              ),\n                          })\n                        )}\n                      {!isSearching &&\n                        currentTab === 'free-instructions' &&\n                        renderInstructionTree({\n                          instructionTreeNode: this.instructionsInfoTree,\n                          onChoose: onChooseInstruction,\n                          iconSize,\n                        })}\n                    </SelectableList>\n                  )}\n                  {!isSearching &&\n                    currentTab === 'objects' &&\n                    !allObjectsList.length && (\n                      <EmptyMessage>\n                        <Trans>\n                          There is no object in your game or in this scene.\n                          Start by adding an new object in the scene editor,\n                          using the objects list.\n                        </Trans>\n                      </EmptyMessage>\n                    )}\n                  {!hasResults && (\n                    <EmptyMessage>\n                      <Trans>\n                        Nothing corresponding to your search. Choose an object\n                        first or browse the list of actions/conditions.\n                      </Trans>\n                    </EmptyMessage>\n                  )}\n                </ScrollView>\n              </div>\n            )}\n          </ThemeConsumer>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { ListItem } from 'material-ui/List';\nimport ListIcon from '../../../UI/ListIcon';\nimport ObjectsRenderingService from '../../../ObjectsRendering/ObjectsRenderingService';\nimport type { ObjectWithContext } from '../../../ObjectsList/EnumerateObjects';\nimport { getObjectOrObjectGroupListItemKey } from './Keys';\n\ntype Props = {|\n  project: gdProject,\n  objectWithContext: ObjectWithContext,\n  iconSize: number,\n  onClick: () => void,\n|};\n\nexport const renderObjectListItem = ({\n  project,\n  objectWithContext,\n  iconSize,\n  onClick,\n}: Props) => {\n  const objectName: string = objectWithContext.object.getName();\n  return (\n    <ListItem\n      key={\n        getObjectOrObjectGroupListItemKey(objectName) +\n        (objectWithContext.global ? '-global' : '')\n      }\n      value={getObjectOrObjectGroupListItemKey(objectName)}\n      primaryText={objectName}\n      leftIcon={\n        <ListIcon\n          iconSize={iconSize}\n          src={ObjectsRenderingService.getThumbnail(\n            project,\n            objectWithContext.object\n          )}\n        />\n      }\n      onClick={onClick}\n    />\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport { ListItem } from 'material-ui/List';\nimport ListIcon from '../../../UI/ListIcon';\nimport type { GroupWithContext } from '../../../ObjectsList/EnumerateObjects';\nimport { getObjectOrObjectGroupListItemKey } from './Keys';\n\ntype Props = {|\n  groupWithContext: GroupWithContext,\n  iconSize: number,\n  onClick: () => void,\n|};\n\nexport const renderGroupObjectsListItem = ({\n  groupWithContext,\n  iconSize,\n  onClick,\n}: Props) => {\n  const groupName: string = groupWithContext.group.getName();\n  return (\n    <ListItem\n      key={\n        getObjectOrObjectGroupListItemKey(groupName) +\n        (groupWithContext.global ? '-global' : '')\n      }\n      value={getObjectOrObjectGroupListItemKey(groupName)}\n      primaryText={groupName}\n      leftIcon={\n        <ListIcon\n          iconSize={iconSize}\n          src=\"res/ribbon_default/objectsgroups64.png\"\n        />\n      }\n      onClick={onClick}\n    />\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Checkbox from 'material-ui/Checkbox';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport Dialog from '../UI/Dialog';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport SubscriptionChecker from '../Profile/SubscriptionChecker';\nimport {\n  getErrors,\n  displayProjectErrorsBox,\n  validatePackageName,\n} from './ProjectErrorsChecker';\nimport DismissableAlertMessage from '../UI/DismissableAlertMessage';\nimport { Line, Column } from '../UI/Grid';\nimport HelpButton from '../UI/HelpButton';\n\ntype Props = {|\n  project: gdProject,\n  open: boolean,\n  onClose: Function,\n  onApply: Function,\n  onChangeSubscription: () => void,\n|};\n\ntype State = {|\n  windowDefaultWidth: number,\n  windowDefaultHeight: number,\n  name: string,\n  author: string,\n  version: string,\n  packageName: string,\n  orientation: string,\n  adMobAppId: string,\n  scaleMode: 'linear' | 'nearest',\n  sizeOnStartupMode: string,\n  showGDevelopSplash: boolean,\n  minFPS: number,\n  maxFPS: number,\n  isFolderProject: boolean,\n|};\n\nclass ProjectPropertiesDialog extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = this._loadFrom(props.project);\n  }\n\n  _subscriptionChecker: ?SubscriptionChecker = null;\n\n  _loadFrom(project: gdProject): State {\n    return {\n      windowDefaultWidth: project.getMainWindowDefaultWidth(),\n      windowDefaultHeight: project.getMainWindowDefaultHeight(),\n      name: project.getName(),\n      author: project.getAuthor(),\n      version: project.getVersion(),\n      packageName: project.getPackageName(),\n      orientation: project.getOrientation(),\n      adMobAppId: project.getAdMobAppId(),\n      scaleMode: project.getScaleMode(),\n      sizeOnStartupMode: project.getSizeOnStartupMode(),\n      showGDevelopSplash: project.getLoadingScreen().isGDevelopSplashShown(),\n      minFPS: project.getMinimumFPS(),\n      maxFPS: project.getMaximumFPS(),\n      isFolderProject: project.isFolderProject(),\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.project !== newProps.project)\n    ) {\n      this.setState(this._loadFrom(newProps.project));\n    }\n  }\n\n  _onApply = () => {\n    const t = str => str; //TODO\n    const { project } = this.props;\n    const {\n      windowDefaultWidth,\n      windowDefaultHeight,\n      name,\n      author,\n      version,\n      packageName,\n      orientation,\n      adMobAppId,\n      scaleMode,\n      sizeOnStartupMode,\n      showGDevelopSplash,\n      minFPS,\n      maxFPS,\n      isFolderProject,\n    } = this.state;\n    project.setDefaultWidth(windowDefaultWidth);\n    project.setDefaultHeight(windowDefaultHeight);\n    project.setName(name);\n    project.setAuthor(author);\n    project.setVersion(version);\n    project.setPackageName(packageName);\n    project.setOrientation(orientation);\n    project.setAdMobAppId(adMobAppId);\n    project.setScaleMode(scaleMode);\n    project.setSizeOnStartupMode(sizeOnStartupMode);\n    project.setMinimumFPS(minFPS);\n    project.setMaximumFPS(maxFPS);\n    project.getLoadingScreen().showGDevelopSplash(showGDevelopSplash);\n    project.setFolderProject(isFolderProject);\n\n    if (!displayProjectErrorsBox(t, getErrors(t, project))) return;\n\n    this.props.onApply();\n  };\n\n  render() {\n    const {\n      name,\n      windowDefaultWidth,\n      windowDefaultHeight,\n      author,\n      version,\n      packageName,\n      orientation,\n      adMobAppId,\n      scaleMode,\n      sizeOnStartupMode,\n      showGDevelopSplash,\n      minFPS,\n      maxFPS,\n      isFolderProject,\n    } = this.state;\n\n    const defaultPackageName = 'com.example.mygame';\n    const admobHint = 'ca-app-pub-XXXXXXXXXXXXXXXX/YYYYYYYYYY';\n    const defaultVersion = '1.0.0';\n\n    return (\n      <React.Fragment>\n        <Dialog\n          actions={[\n            <FlatButton\n              label={<Trans>Cancel</Trans>}\n              primary={false}\n              onClick={this.props.onClose}\n              key=\"cancel\"\n            />,\n            <FlatButton\n              label={<Trans>Apply</Trans>}\n              primary={true}\n              keyboardFocused={true}\n              onClick={this._onApply}\n              key=\"apply\"\n            />,\n          ]}\n          secondaryActions={[\n            <HelpButton\n              helpPagePath=\"/interface/project-manager/properties\"\n              key=\"help\"\n            />,\n          ]}\n          open={this.props.open}\n          onRequestClose={this.props.onClose}\n          autoScrollBodyContent={true}\n        >\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Game name</Trans>}\n            fullWidth\n            type=\"text\"\n            value={name}\n            onChange={value => this.setState({ name: value })}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Game's window width</Trans>}\n            fullWidth\n            type=\"number\"\n            value={'' + windowDefaultWidth}\n            onChange={value =>\n              this.setState({\n                windowDefaultWidth: Math.max(0, parseInt(value, 10)),\n              })\n            }\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Game's window height</Trans>}\n            fullWidth\n            type=\"number\"\n            value={'' + windowDefaultHeight}\n            onChange={value =>\n              this.setState({\n                windowDefaultHeight: Math.max(0, parseInt(value, 10)),\n              })\n            }\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Author name</Trans>}\n            fullWidth\n            hintText={<Trans>Your name</Trans>}\n            type=\"text\"\n            value={author}\n            onChange={value => this.setState({ author: value })}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Version number (X.Y.Z)</Trans>}\n            fullWidth\n            hintText={defaultVersion}\n            type=\"text\"\n            value={version}\n            onChange={value => this.setState({ version: value })}\n          />\n          <SelectField\n            fullWidth\n            floatingLabelText={<Trans>Project file type</Trans>}\n            value={isFolderProject}\n            onChange={(e, i, value) =>\n              this.setState({ isFolderProject: value })\n            }\n          >\n            <MenuItem\n              value={false}\n              primaryText={<Trans>Single file (default)</Trans>}\n            />\n            <MenuItem\n              value={true}\n              primaryText={\n                <Trans>\n                  Multiple files, saved in folder next to the main file\n                </Trans>\n              }\n            />\n          </SelectField>\n          <Line noMargin>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                floatingLabelText={<Trans>Minimum FPS</Trans>}\n                fullWidth\n                type=\"number\"\n                value={'' + minFPS}\n                onChange={value =>\n                  this.setState({\n                    minFPS: Math.max(0, parseInt(value, 10)),\n                  })\n                }\n              />\n            </Column>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                floatingLabelText={<Trans>Maximum FPS (0 to disable)</Trans>}\n                fullWidth\n                type=\"number\"\n                value={'' + maxFPS}\n                onChange={value =>\n                  this.setState({\n                    maxFPS: Math.max(0, parseInt(value, 10)),\n                  })\n                }\n              />\n            </Column>\n          </Line>\n          {maxFPS > 0 && maxFPS < 60 && (\n            <DismissableAlertMessage\n              identifier=\"maximum-fps-too-low\"\n              kind=\"warning\"\n            >\n              <Trans>\n                Most monitors have a refresh rate of 60 FPS. Setting a maximum\n                number of FPS under 60 will force the game to skip frames, and\n                the real number of FPS will be way below 60, making the game\n                laggy and impacting the gameplay negatively. Consider putting 60\n                or more for the maximum number or FPS, or disable it by setting\n                0.\n              </Trans>\n            </DismissableAlertMessage>\n          )}\n          {minFPS < 20 && (\n            <DismissableAlertMessage\n              identifier=\"minimum-fps-too-low\"\n              kind=\"warning\"\n            >\n              <Trans>\n                Setting the minimum number of FPS below 20 will increase a lot\n                the time that is allowed between the simulation of two frames of\n                the game. If case of a sudden slowdown, or on slow computers,\n                this can create buggy behaviors like objects passing beyond a\n                wall. Consider setting 20 as the minimum FPS.\n              </Trans>\n            </DismissableAlertMessage>\n          )}\n          <SemiControlledTextField\n            floatingLabelText={\n              <Trans>Package name (for iOS and Android)</Trans>\n            }\n            fullWidth\n            hintText={defaultPackageName}\n            type=\"text\"\n            value={packageName}\n            onChange={value => this.setState({ packageName: value })}\n            errorText={\n              validatePackageName(packageName) ? (\n                undefined\n              ) : (\n                <Trans>\n                  The package name is containing invalid characters or not\n                  following the convention \"xxx.yyy.zzz\" (numbers allowed after\n                  a letter only).\n                </Trans>\n              )\n            }\n          />\n          <SelectField\n            fullWidth\n            floatingLabelText={\n              <Trans>Device orientation (for iOS and Android)</Trans>\n            }\n            value={orientation}\n            onChange={(e, i, value) => this.setState({ orientation: value })}\n          >\n            <MenuItem\n              value=\"default\"\n              primaryText={<Trans>Platform default</Trans>}\n            />\n            <MenuItem\n              value=\"landscape\"\n              primaryText={<Trans>Landscape</Trans>}\n            />\n            <MenuItem value=\"portrait\" primaryText={<Trans>Portrait</Trans>} />\n          </SelectField>\n          <SelectField\n            fullWidth\n            floatingLabelText={\n              <Trans>Scale mode (also called \"Sampling\")</Trans>\n            }\n            floatingLabelFixed\n            value={scaleMode}\n            onChange={(e, i, value) => this.setState({ scaleMode: value })}\n          >\n            <MenuItem\n              value=\"linear\"\n              primaryText={\n                <Trans>\n                  Linear (antialiased rendering, good for most games)\n                </Trans>\n              }\n            />\n            <MenuItem\n              value=\"nearest\"\n              primaryText={\n                <Trans>\n                  Nearest (no antialiasing, good for pixel perfect games)\n                </Trans>\n              }\n            />\n          </SelectField>\n          {scaleMode === 'nearest' && (\n            <DismissableAlertMessage\n              identifier=\"use-non-smoothed-textures\"\n              kind=\"info\"\n            >\n              <Trans>\n                To obtain the best pixel-perfect effect possible, go in the\n                resources editor and disable the Smoothing for all images of\n                your game. It will be done automatically for new images added\n                from now.\n              </Trans>\n            </DismissableAlertMessage>\n          )}\n          <SelectField\n            fullWidth\n            floatingLabelText={<Trans>Fullscreen/game size mode</Trans>}\n            floatingLabelFixed\n            value={sizeOnStartupMode}\n            onChange={(e, i, value) =>\n              this.setState({ sizeOnStartupMode: value })\n            }\n          >\n            <MenuItem\n              value=\"\"\n              primaryText={<Trans>No changes to the game size</Trans>}\n            />\n            <MenuItem\n              value=\"adaptWidth\"\n              primaryText={<Trans>Change width to fit the screen</Trans>}\n            />\n            <MenuItem\n              value=\"adaptHeight\"\n              primaryText={<Trans>Change height to fit the screen</Trans>}\n            />\n          </SelectField>\n          <SemiControlledTextField\n            floatingLabelText={\n              <Trans>AdMob application ID (for iOS and Android)</Trans>\n            }\n            fullWidth\n            hintText={admobHint}\n            type=\"text\"\n            value={adMobAppId}\n            onChange={value => this.setState({ adMobAppId: value })}\n          />\n          <Checkbox\n            label={\n              <Trans>\n                Display GDevelop splash at startup (in exported game)\n              </Trans>\n            }\n            checked={showGDevelopSplash}\n            onCheck={(e, checked) => {\n              if (!checked) {\n                if (\n                  this._subscriptionChecker &&\n                  !this._subscriptionChecker.checkHasSubscription()\n                )\n                  return;\n              }\n\n              this.setState({\n                showGDevelopSplash: checked,\n              });\n            }}\n          />\n        </Dialog>\n        <SubscriptionChecker\n          ref={subscriptionChecker =>\n            (this._subscriptionChecker = subscriptionChecker)\n          }\n          onChangeSubscription={() => {\n            this.props.onClose();\n            this.props.onChangeSubscription();\n          }}\n          mode=\"mandatory\"\n          id=\"Disable GDevelop splash at startup\"\n          title={<Trans>Disable GDevelop splash at startup</Trans>}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ProjectPropertiesDialog;\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport CloudDownload from 'material-ui/svg-icons/file/cloud-download';\nimport ExtensionsSearch, { addSerializedExtensionToProject } from '.';\nimport EventsFunctionsExtensionsContext, {\n  type EventsFunctionsExtensionsState,\n} from '../EventsFunctionsExtensionsLoader/EventsFunctionsExtensionsContext';\nimport HelpButton from '../UI/HelpButton';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\n\ntype Props = {|\n  project: gdProject,\n  onClose: () => void,\n|};\n\nconst importExtension = (\n  i18n: I18nType,\n  eventsFunctionsExtensionsState: EventsFunctionsExtensionsState,\n  project: gdProject\n) => {\n  const eventsFunctionsExtensionOpener = eventsFunctionsExtensionsState.getEventsFunctionsExtensionOpener();\n  if (!eventsFunctionsExtensionOpener) return;\n\n  return eventsFunctionsExtensionOpener\n    .chooseEventsFunctionExtensionFile()\n    .then(pathOrUrl => {\n      if (!pathOrUrl) return;\n\n      return eventsFunctionsExtensionOpener\n        .readEventsFunctionExtensionFile(pathOrUrl)\n        .then(serializedExtension => {\n          if (\n            project.hasEventsFunctionsExtensionNamed(serializedExtension.name)\n          ) {\n            //eslint-disable-next-line\n            const answer = confirm(\n              i18n._(\n                t`An extension with this name already exists in the project. Importing this extension will replace it: are you sure you want to continue?`\n              )\n            );\n            if (!answer) return;\n          }\n\n          return addSerializedExtensionToProject(\n            eventsFunctionsExtensionsState,\n            project,\n            serializedExtension\n          );\n        });\n    })\n    .catch(error => {\n      showWarningBox(\n        i18n._(\n          t`An error happened while loading this extension. Please check that it is a proper extension file and compatible with this version of GDevelop`,\n          error\n        )\n      );\n    });\n};\n\nexport default class ExtensionsSearchDialog extends Component<Props, {||}> {\n  render() {\n    const { project, onClose } = this.props;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <EventsFunctionsExtensionsContext.Consumer>\n            {eventsFunctionsExtensionsState => {\n              const eventsFunctionsExtensionOpener = eventsFunctionsExtensionsState.getEventsFunctionsExtensionOpener();\n              return (\n                <Dialog\n                  title={<Trans>Search for New Extensions</Trans>}\n                  actions={[\n                    <FlatButton\n                      key=\"close\"\n                      label={<Trans>Close</Trans>}\n                      primary\n                      onClick={onClose}\n                    />,\n                  ]}\n                  secondaryActions={[\n                    <HelpButton key=\"help\" helpPagePath=\"/extensions/search\" />,\n                    eventsFunctionsExtensionOpener ? (\n                      <FlatButton\n                        icon={<CloudDownload />}\n                        key=\"import\"\n                        label={<Trans>Import extension</Trans>}\n                        onClick={() =>\n                          importExtension(\n                            i18n,\n                            eventsFunctionsExtensionsState,\n                            project\n                          )\n                        }\n                      />\n                    ) : null,\n                  ]}\n                  open\n                  autoScrollBodyContent\n                  noMargin\n                  onRequestClose={onClose}\n                >\n                  <ExtensionsSearch\n                    project={project}\n                    onNewExtensionInstalled={() => {}}\n                    onRegistryLoaded={() => {\n                      this.forceUpdate(); // Force update to ensure dialog is properly positioned.\n                    }}\n                    showOnlyWithBehaviors={false}\n                  />\n                </Dialog>\n              );\n            }}\n          </EventsFunctionsExtensionsContext.Consumer>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport TextField from 'material-ui/TextField';\nimport SearchBar from '../UI/SearchBar';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport RefreshIcon from 'material-ui/svg-icons/navigation/refresh';\nimport WarningIcon from 'material-ui/svg-icons/alert/warning';\nimport IconButton from 'material-ui/IconButton';\nimport ListIcon from '../UI/ListIcon';\nimport { makeAddItem, makeSearchItem } from '../UI/ListCommonItem';\nimport Window from '../Utils/Window';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport VariablesEditorDialog from '../VariablesList/VariablesEditorDialog';\nimport ProjectPropertiesDialog from './ProjectPropertiesDialog';\nimport {\n  enumerateLayouts,\n  enumerateExternalEvents,\n  enumerateExternalLayouts,\n  enumerateEventsFunctionsExtensions,\n  filterProjectItemsList,\n} from './EnumerateProjectItems';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport ThemeConsumer from '../UI/Theme/ThemeConsumer';\nimport ExtensionsSearchDialog from '../ExtensionsSearch/ExtensionsSearchDialog';\n\nconst LAYOUT_CLIPBOARD_KIND = 'Layout';\nconst EXTERNAL_LAYOUT_CLIPBOARD_KIND = 'External layout';\nconst EXTERNAL_EVENTS_CLIPBOARD_KIND = 'External events';\nconst EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND = 'Events Functions Extension';\n\nconst styles = {\n  container: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  list: {\n    flex: 1,\n    overflowY: 'scroll',\n    padding: 0,\n  },\n  projectStructureItemNestedList: {\n    padding: 0,\n  },\n  itemName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  itemTextField: {\n    top: -16,\n  },\n};\n\ntype ProjectStructureItemProps = {|\n  autoGenerateNestedIndicator: boolean,\n  initiallyOpen: boolean,\n  leftIcon: React$Element<any>,\n  nestedItems: Array<React$Element<any>>,\n  primaryText: React.Node,\n  primaryTogglesNestedList: boolean,\n  error?: ?Error,\n  onRefresh?: () => void,\n  open?: boolean,\n|};\n\nconst ProjectStructureItem = ({\n  onRefresh,\n  ...props\n}: ProjectStructureItemProps) => (\n  <ThemeConsumer>\n    {muiTheme => (\n      <ListItem\n        style={{\n          backgroundColor: muiTheme.listItem.groupBackgroundColor,\n          borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n        }}\n        nestedListStyle={styles.projectStructureItemNestedList}\n        {...props}\n        leftIcon={props.error ? <WarningIcon /> : props.leftIcon}\n        rightIconButton={\n          props.error ? (\n            <IconButton\n              tooltip={`An error has occured in functions. Click to reload them.`}\n              tooltipPosition=\"bottom-left\"\n              onClick={onRefresh}\n            >\n              <RefreshIcon />\n            </IconButton>\n          ) : (\n            undefined\n          )\n        }\n      />\n    )}\n  </ThemeConsumer>\n);\n\ntype ItemProps = {|\n  primaryText: string,\n  editingName: boolean,\n  onEdit: () => void,\n  onDelete: () => void,\n  onRename: string => void,\n  onEditName: () => void,\n  onCopy: () => void,\n  onCut: () => void,\n  onPaste: () => void,\n  canPaste: () => boolean,\n  canMoveUp: boolean,\n  onMoveUp: () => void,\n  canMoveDown: boolean,\n  onMoveDown: () => void,\n  rightIconButton?: ?React.Node,\n  style?: ?Object,\n|};\n\nclass Item extends React.Component<ItemProps, {||}> {\n  textField: ?Object;\n  _iconMenu: ?Object;\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editingName && this.props.editingName) {\n      setTimeout(() => {\n        if (this.textField) this.textField.focus();\n      }, 100);\n    }\n  }\n\n  _onContextMenu = event => {\n    if (this._iconMenu) this._iconMenu.open(event);\n  };\n\n  render() {\n    const rightIconButton = this.props.rightIconButton || (\n      <IconMenu\n        ref={iconMenu => (this._iconMenu = iconMenu)}\n        iconButtonElement={\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        }\n        buildMenuTemplate={() => [\n          {\n            label: 'Edit',\n            click: () => this.props.onEdit(),\n          },\n          {\n            label: 'Rename',\n            click: () => this.props.onEditName(),\n          },\n          {\n            label: 'Delete',\n            click: () => this.props.onDelete(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Copy',\n            click: () => this.props.onCopy(),\n          },\n          {\n            label: 'Cut',\n            click: () => this.props.onCut(),\n          },\n          {\n            label: 'Paste',\n            enabled: this.props.canPaste(),\n            click: () => this.props.onPaste(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Move up',\n            enabled: this.props.canMoveUp,\n            click: () => this.props.onMoveUp(),\n          },\n          {\n            label: 'Move down',\n            enabled: this.props.canMoveDown,\n            click: () => this.props.onMoveDown(),\n          },\n        ]}\n      />\n    );\n    const label = this.props.editingName ? (\n      <TextField\n        id=\"rename-item-field\"\n        ref={textField => (this.textField = textField)}\n        defaultValue={this.props.primaryText}\n        onBlur={e => this.props.onRename(e.target.value)}\n        onKeyPress={event => {\n          if (event.charCode === 13) {\n            // enter key pressed\n            if (this.textField) this.textField.blur();\n          }\n        }}\n        fullWidth\n        style={styles.itemTextField}\n      />\n    ) : (\n      <div style={styles.itemName}>{this.props.primaryText}</div>\n    );\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <ListItem\n            style={{\n              borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n              ...this.props.style,\n            }}\n            onContextMenu={this._onContextMenu}\n            primaryText={label}\n            rightIconButton={rightIconButton}\n            onClick={() => {\n              // It's essential to discard clicks when editing the name,\n              // to avoid weird opening of an editor (accompanied with a\n              // closing of the project manager) when clicking on the text\n              // field.\n              if (!this.props.editingName) this.props.onEdit();\n            }}\n          />\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n\nconst AddItem = makeAddItem(ListItem);\nconst SearchItem = makeSearchItem(ListItem);\n\ntype Props = {|\n  project: gdProject,\n  onDeleteLayout: gdLayout => void,\n  onDeleteExternalEvents: gdExternalEvents => void,\n  onDeleteExternalLayout: gdExternalLayout => void,\n  onDeleteEventsFunctionsExtension: gdEventsFunctionsExtension => void,\n  onRenameLayout: (string, string) => void,\n  onRenameExternalEvents: (string, string) => void,\n  onRenameExternalLayout: (string, string) => void,\n  onRenameEventsFunctionsExtension: (string, string) => void,\n  onOpenLayout: string => void,\n  onOpenExternalEvents: string => void,\n  onOpenExternalLayout: string => void,\n  onOpenEventsFunctionsExtension: string => void,\n  onSaveProject: () => void,\n  onCloseProject: () => void,\n  onExportProject: () => void,\n  onOpenPreferences: () => void,\n  onOpenResources: () => void,\n  onAddLayout: () => void,\n  onAddExternalEvents: () => void,\n  onAddExternalLayout: () => void,\n  onAddEventsFunctionsExtension: () => void,\n  onOpenPlatformSpecificAssets: () => void,\n  onChangeSubscription: () => void,\n  eventsFunctionsExtensionsError: ?Error,\n  onReloadEventsFunctionsExtensions: () => void,\n  freezeUpdate: boolean,\n|};\n\ntype State = {|\n  renamedItemKind: ?string,\n  renamedItemName: string,\n  searchText: string,\n  projectPropertiesDialogOpen: boolean,\n  variablesEditorOpen: boolean,\n  extensionsSearchDialogOpen: boolean,\n|};\n\nexport default class ProjectManager extends React.Component<Props, State> {\n  _searchBar: ?SearchBar;\n\n  state = {\n    renamedItemKind: null,\n    renamedItemName: '',\n    searchText: '',\n    projectPropertiesDialogOpen: false,\n    variablesEditorOpen: false,\n    extensionsSearchDialogOpen: false,\n  };\n\n  shouldComponentUpdate(nextProps: Props) {\n    // Rendering the component is (super) costly (~20ms) as it iterates over\n    // every project layouts/external layouts/external events,\n    // so the prop freezeUpdate allow to ask the component to stop\n    // updating, for example when hidden.\n    return !nextProps.freezeUpdate;\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    // Typical usage (don't forget to compare props):\n    if (!this.props.freezeUpdate && prevProps.freezeUpdate) {\n      if (this._searchBar) this._searchBar.focus();\n    }\n  }\n\n  _onEditName = (kind: ?string, name: string) => {\n    this.setState({\n      renamedItemKind: kind,\n      renamedItemName: name,\n    });\n  };\n\n  _copyLayout = (layout: gdLayout) => {\n    Clipboard.set(LAYOUT_CLIPBOARD_KIND, {\n      layout: serializeToJSObject(layout),\n      name: layout.getName(),\n    });\n  };\n\n  _cutLayout = (layout: gdLayout) => {\n    this._copyLayout(layout);\n    this.props.onDeleteLayout(layout);\n  };\n\n  _pasteLayout = (index: number) => {\n    if (!Clipboard.has(LAYOUT_CLIPBOARD_KIND)) return;\n\n    const { layout: copiedLayout, name } = Clipboard.get(LAYOUT_CLIPBOARD_KIND);\n    const { project } = this.props;\n\n    const newName = newNameGenerator(name, name =>\n      project.hasLayoutNamed(name)\n    );\n\n    const newLayout = project.insertNewLayout(newName, index);\n\n    unserializeFromJSObject(\n      newLayout,\n      copiedLayout,\n      'unserializeFrom',\n      project\n    );\n    newLayout.setName(newName); // Unserialization has overwritten the name.\n    newLayout.updateBehaviorsSharedData(project);\n\n    this.forceUpdate();\n  };\n\n  _moveUpLayout = (index: number) => {\n    const { project } = this.props;\n    if (index <= 0) return;\n\n    project.swapLayouts(index, index - 1);\n    this.forceUpdate();\n  };\n\n  _moveDownLayout = (index: number) => {\n    const { project } = this.props;\n    if (index >= project.getLayoutsCount() - 1) return;\n\n    project.swapLayouts(index, index + 1);\n    this.forceUpdate();\n  };\n\n  _copyExternalEvents = (externalEvents: gdExternalEvents) => {\n    Clipboard.set(EXTERNAL_EVENTS_CLIPBOARD_KIND, {\n      externalEvents: serializeToJSObject(externalEvents),\n      name: externalEvents.getName(),\n    });\n  };\n\n  _cutExternalEvents = (externalEvents: gdExternalEvents) => {\n    this._copyExternalEvents(externalEvents);\n    this.props.onDeleteExternalEvents(externalEvents);\n  };\n\n  _pasteExternalEvents = (index: number) => {\n    if (!Clipboard.has(EXTERNAL_EVENTS_CLIPBOARD_KIND)) return;\n\n    const { externalEvents: copiedExternalEvents, name } = Clipboard.get(\n      EXTERNAL_EVENTS_CLIPBOARD_KIND\n    );\n    const { project } = this.props;\n\n    const newName = newNameGenerator(name, name =>\n      project.hasExternalEventsNamed(name)\n    );\n\n    const newExternalEvents = project.insertNewExternalEvents(newName, index);\n\n    unserializeFromJSObject(\n      newExternalEvents,\n      copiedExternalEvents,\n      'unserializeFrom',\n      project\n    );\n    newExternalEvents.setName(newName); // Unserialization has overwritten the name.\n\n    this.forceUpdate();\n  };\n\n  _moveUpExternalEvents = (index: number) => {\n    const { project } = this.props;\n    if (index <= 0) return;\n\n    project.swapExternalEvents(index, index - 1);\n    this.forceUpdate();\n  };\n\n  _moveDownExternalEvents = (index: number) => {\n    const { project } = this.props;\n    if (index >= project.getExternalEventsCount() - 1) return;\n\n    project.swapExternalEvents(index, index + 1);\n    this.forceUpdate();\n  };\n\n  _copyExternalLayout = (externalLayout: gdExternalLayout) => {\n    Clipboard.set(EXTERNAL_LAYOUT_CLIPBOARD_KIND, {\n      externalLayout: serializeToJSObject(externalLayout),\n      name: externalLayout.getName(),\n    });\n  };\n\n  _cutExternalLayout = (externalLayout: gdExternalLayout) => {\n    this._copyExternalLayout(externalLayout);\n    this.props.onDeleteExternalLayout(externalLayout);\n  };\n\n  _pasteExternalLayout = (index: number) => {\n    if (!Clipboard.has(EXTERNAL_LAYOUT_CLIPBOARD_KIND)) return;\n\n    const { externalLayout: copiedExternalLayout, name } = Clipboard.get(\n      EXTERNAL_LAYOUT_CLIPBOARD_KIND\n    );\n    const { project } = this.props;\n\n    const newName = newNameGenerator(name, name =>\n      project.hasExternalLayoutNamed(name)\n    );\n\n    const newExternalLayout = project.insertNewExternalLayout(newName, index);\n\n    unserializeFromJSObject(newExternalLayout, copiedExternalLayout);\n    newExternalLayout.setName(newName); // Unserialization has overwritten the name.\n\n    this.forceUpdate();\n  };\n\n  _moveUpExternalLayout = (index: number) => {\n    const { project } = this.props;\n    if (index <= 0) return;\n\n    project.swapExternalLayouts(index, index - 1);\n    this.forceUpdate();\n  };\n\n  _moveDownExternalLayout = (index: number) => {\n    const { project } = this.props;\n    if (index >= project.getExternalLayoutsCount() - 1) return;\n\n    project.swapExternalLayouts(index, index + 1);\n    this.forceUpdate();\n  };\n\n  _copyEventsFunctionsExtension = (\n    eventsFunctionsExtension: gdEventsFunctionsExtension\n  ) => {\n    Clipboard.set(EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND, {\n      eventsFunctionsExtension: serializeToJSObject(eventsFunctionsExtension),\n      name: eventsFunctionsExtension.getName(),\n    });\n  };\n\n  _cutEventsFunctionsExtension = (\n    eventsFunctionsExtension: gdEventsFunctionsExtension\n  ) => {\n    this._copyEventsFunctionsExtension(eventsFunctionsExtension);\n    this.props.onDeleteEventsFunctionsExtension(eventsFunctionsExtension);\n  };\n\n  _pasteEventsFunctionsExtension = (index: number) => {\n    if (!Clipboard.has(EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND)) return;\n\n    const {\n      eventsFunctionsExtension: copiedEventsFunctionsExtension,\n      name,\n    } = Clipboard.get(EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND);\n    const { project } = this.props;\n\n    const newName = newNameGenerator(name, name =>\n      project.hasEventsFunctionsExtensionNamed(name)\n    );\n\n    const newEventsFunctionsExtension = project.insertNewEventsFunctionsExtension(\n      newName,\n      index\n    );\n\n    unserializeFromJSObject(\n      newEventsFunctionsExtension,\n      copiedEventsFunctionsExtension,\n      'unserializeFrom',\n      project\n    );\n    newEventsFunctionsExtension.setName(newName); // Unserialization has overwritten the name.\n\n    this.forceUpdate();\n    this.props.onReloadEventsFunctionsExtensions();\n  };\n\n  _moveUpEventsFunctionsExtension = (index: number) => {\n    const { project } = this.props;\n    if (index <= 0) return;\n\n    project.swapEventsFunctionsExtensions(index, index - 1);\n    this.forceUpdate();\n  };\n\n  _moveDownEventsFunctionsExtension = (index: number) => {\n    const { project } = this.props;\n    if (index >= project.getEventsFunctionsExtensionsCount() - 1) return;\n\n    project.swapEventsFunctionsExtensions(index, index + 1);\n    this.forceUpdate();\n  };\n\n  _renderMenu() {\n    // If there is already a main menu (as the native one made with\n    // Electron), don't show it in the Project Manager.\n    if (Window.hasMainMenu()) return null;\n\n    return (\n      <ProjectStructureItem\n        primaryText={<Trans>Menu</Trans>}\n        leftIcon={\n          <ListIcon\n            iconSize={32}\n            isGDevelopIcon\n            src=\"res/ribbon_default/new32.png\"\n          />\n        }\n        initiallyOpen={true}\n        primaryTogglesNestedList={true}\n        autoGenerateNestedIndicator={true}\n        nestedItems={[\n          <ListItem\n            key=\"save\"\n            primaryText={<Trans>Save</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/save32.png\"\n              />\n            }\n            onClick={() => this.props.onSaveProject()}\n          />,\n          <ListItem\n            key=\"close\"\n            primaryText={<Trans>Close</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/close32.png\"\n              />\n            }\n            onClick={() => this.props.onCloseProject()}\n          />,\n          <ListItem\n            key=\"export\"\n            primaryText={<Trans>Export</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/export32.png\"\n              />\n            }\n            onClick={() => this.props.onExportProject()}\n          />,\n          <ListItem\n            key=\"preferences\"\n            primaryText={<Trans>Preferences</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/pref32.png\"\n              />\n            }\n            onClick={() => this.props.onOpenPreferences()}\n          />,\n        ]}\n      />\n    );\n  }\n\n  render() {\n    const {\n      project,\n      eventsFunctionsExtensionsError,\n      onReloadEventsFunctionsExtensions,\n    } = this.props;\n    const { renamedItemKind, renamedItemName, searchText } = this.state;\n\n    const forceOpen = searchText !== '' ? true : undefined;\n\n    return (\n      <div style={styles.container}>\n        <List style={styles.list}>\n          {this._renderMenu()}\n          <ProjectStructureItem\n            primaryText={<Trans>Game settings</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/projectManager32.png\"\n              />\n            }\n            initiallyOpen={false}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={true}\n            nestedItems={[\n              <ListItem\n                key=\"properties\"\n                primaryText={<Trans>Properties</Trans>}\n                leftIcon={\n                  <ListIcon\n                    iconSize={32}\n                    isGDevelopIcon\n                    src=\"res/ribbon_default/editprop32.png\"\n                  />\n                }\n                onClick={() =>\n                  this.setState({ projectPropertiesDialogOpen: true })\n                }\n              />,\n              <ListItem\n                key=\"global-variables\"\n                primaryText={<Trans>Global variables</Trans>}\n                leftIcon={\n                  <ListIcon\n                    iconSize={32}\n                    isGDevelopIcon\n                    src=\"res/ribbon_default/editname32.png\"\n                  />\n                }\n                onClick={() => this.setState({ variablesEditorOpen: true })}\n              />,\n              <ListItem\n                key=\"icons\"\n                primaryText={<Trans>Icons</Trans>}\n                leftIcon={\n                  <ListIcon\n                    iconSize={32}\n                    isGDevelopIcon\n                    src=\"res/ribbon_default/image32.png\"\n                  />\n                }\n                onClick={() => this.props.onOpenPlatformSpecificAssets()}\n              />,\n              <ListItem\n                key=\"resources\"\n                primaryText={<Trans>Resources</Trans>}\n                leftIcon={\n                  <ListIcon\n                    iconSize={32}\n                    isGDevelopIcon\n                    src=\"res/ribbon_default/image32.png\"\n                  />\n                }\n                onClick={() => {\n                  this.props.onOpenResources();\n                }}\n              />,\n            ]}\n          />\n          <ProjectStructureItem\n            primaryText={<Trans>Scenes</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/sceneadd32.png\"\n              />\n            }\n            initiallyOpen={true}\n            open={forceOpen}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={!forceOpen}\n            nestedItems={filterProjectItemsList(\n              enumerateLayouts(project),\n              searchText\n            )\n              .map((layout: gdLayout, i: number) => {\n                const name = layout.getName();\n                return (\n                  <Item\n                    key={i}\n                    primaryText={name}\n                    editingName={\n                      renamedItemKind === 'layout' && renamedItemName === name\n                    }\n                    onEdit={() => this.props.onOpenLayout(name)}\n                    onDelete={() => this.props.onDeleteLayout(layout)}\n                    onRename={newName => {\n                      this.props.onRenameLayout(name, newName);\n                      this._onEditName(null, '');\n                    }}\n                    onEditName={() => this._onEditName('layout', name)}\n                    onCopy={() => this._copyLayout(layout)}\n                    onCut={() => this._cutLayout(layout)}\n                    onPaste={() => this._pasteLayout(i)}\n                    canPaste={() => Clipboard.has(LAYOUT_CLIPBOARD_KIND)}\n                    canMoveUp={i !== 0}\n                    onMoveUp={() => this._moveUpLayout(i)}\n                    canMoveDown={i !== project.getLayoutsCount() - 1}\n                    onMoveDown={() => this._moveDownLayout(i)}\n                  />\n                );\n              })\n              .concat(\n                <AddItem\n                  key={'add-scene'}\n                  onClick={this.props.onAddLayout}\n                  primaryText={<Trans>Click to add a scene</Trans>}\n                />\n              )}\n          />\n          <ProjectStructureItem\n            primaryText={<Trans>External events</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/externalevents32.png\"\n              />\n            }\n            initiallyOpen={false}\n            open={forceOpen}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={!forceOpen}\n            nestedItems={filterProjectItemsList(\n              enumerateExternalEvents(project),\n              searchText\n            )\n              .map((externalEvents, i) => {\n                const name = externalEvents.getName();\n                return (\n                  <Item\n                    key={i}\n                    primaryText={name}\n                    editingName={\n                      renamedItemKind === 'external-events' &&\n                      renamedItemName === name\n                    }\n                    onEdit={() => this.props.onOpenExternalEvents(name)}\n                    onDelete={() =>\n                      this.props.onDeleteExternalEvents(externalEvents)\n                    }\n                    onRename={newName => {\n                      this.props.onRenameExternalEvents(name, newName);\n                      this._onEditName(null, '');\n                    }}\n                    onEditName={() => this._onEditName('external-events', name)}\n                    onCopy={() => this._copyExternalEvents(externalEvents)}\n                    onCut={() => this._cutExternalEvents(externalEvents)}\n                    onPaste={() => this._pasteExternalEvents(i)}\n                    canPaste={() =>\n                      Clipboard.has(EXTERNAL_EVENTS_CLIPBOARD_KIND)\n                    }\n                    canMoveUp={i !== 0}\n                    onMoveUp={() => this._moveUpExternalEvents(i)}\n                    canMoveDown={i !== project.getExternalEventsCount() - 1}\n                    onMoveDown={() => this._moveDownExternalEvents(i)}\n                  />\n                );\n              })\n              .concat(\n                <AddItem\n                  key={'add-external-events'}\n                  primaryText={<Trans>Click to add external events</Trans>}\n                  onClick={this.props.onAddExternalEvents}\n                />\n              )}\n          />\n          <ProjectStructureItem\n            primaryText={<Trans>External layouts</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/externallayout32.png\"\n              />\n            }\n            initiallyOpen={false}\n            open={forceOpen}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={!forceOpen}\n            nestedItems={filterProjectItemsList(\n              enumerateExternalLayouts(project),\n              searchText\n            )\n              .map((externalLayout, i) => {\n                const name = externalLayout.getName();\n                return (\n                  <Item\n                    key={i}\n                    primaryText={name}\n                    editingName={\n                      renamedItemKind === 'external-layout' &&\n                      renamedItemName === name\n                    }\n                    onEdit={() => this.props.onOpenExternalLayout(name)}\n                    onDelete={() =>\n                      this.props.onDeleteExternalLayout(externalLayout)\n                    }\n                    onRename={newName => {\n                      this.props.onRenameExternalLayout(name, newName);\n                      this._onEditName(null, '');\n                    }}\n                    onEditName={() => this._onEditName('external-layout', name)}\n                    onCopy={() => this._copyExternalLayout(externalLayout)}\n                    onCut={() => this._cutExternalLayout(externalLayout)}\n                    onPaste={() => this._pasteExternalLayout(i)}\n                    canPaste={() =>\n                      Clipboard.has(EXTERNAL_LAYOUT_CLIPBOARD_KIND)\n                    }\n                    canMoveUp={i !== 0}\n                    onMoveUp={() => this._moveUpExternalLayout(i)}\n                    canMoveDown={i !== project.getExternalLayoutsCount() - 1}\n                    onMoveDown={() => this._moveDownExternalLayout(i)}\n                  />\n                );\n              })\n              .concat(\n                <AddItem\n                  key={'add-external-layout'}\n                  primaryText={<Trans>Click to add an external layout</Trans>}\n                  onClick={this.props.onAddExternalLayout}\n                />\n              )}\n          />\n          <ProjectStructureItem\n            primaryText={<Trans>Functions/Behaviors</Trans>}\n            error={eventsFunctionsExtensionsError}\n            onRefresh={onReloadEventsFunctionsExtensions}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/function32.png\"\n              />\n            }\n            initiallyOpen={false}\n            open={forceOpen}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={\n              !forceOpen && !eventsFunctionsExtensionsError\n            }\n            nestedItems={filterProjectItemsList(\n              enumerateEventsFunctionsExtensions(project),\n              searchText\n            )\n              .map((eventsFunctionsExtension, i) => {\n                const name = eventsFunctionsExtension.getName();\n                return (\n                  <Item\n                    key={i}\n                    primaryText={name}\n                    editingName={\n                      renamedItemKind === 'events-functions-extension' &&\n                      renamedItemName === name\n                    }\n                    onEdit={() =>\n                      this.props.onOpenEventsFunctionsExtension(name)\n                    }\n                    onDelete={() =>\n                      this.props.onDeleteEventsFunctionsExtension(\n                        eventsFunctionsExtension\n                      )\n                    }\n                    onRename={newName => {\n                      this.props.onRenameEventsFunctionsExtension(\n                        name,\n                        newName\n                      );\n                      this._onEditName(null, '');\n                    }}\n                    onEditName={() =>\n                      this._onEditName('events-functions-extension', name)\n                    }\n                    onCopy={() =>\n                      this._copyEventsFunctionsExtension(\n                        eventsFunctionsExtension\n                      )\n                    }\n                    onCut={() =>\n                      this._cutEventsFunctionsExtension(\n                        eventsFunctionsExtension\n                      )\n                    }\n                    onPaste={() => this._pasteEventsFunctionsExtension(i)}\n                    canPaste={() =>\n                      Clipboard.has(EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND)\n                    }\n                    canMoveUp={i !== 0}\n                    onMoveUp={() => this._moveUpEventsFunctionsExtension(i)}\n                    canMoveDown={\n                      i !== project.getEventsFunctionsExtensionsCount() - 1\n                    }\n                    onMoveDown={() => this._moveDownEventsFunctionsExtension(i)}\n                  />\n                );\n              })\n              .concat(\n                <AddItem\n                  key={'add-events-functions-extension'}\n                  primaryText={\n                    <Trans>Click to add functions and behaviors</Trans>\n                  }\n                  onClick={this.props.onAddEventsFunctionsExtension}\n                />\n              )\n              .concat(\n                <SearchItem\n                  key={'extensions-search'}\n                  primaryText={<Trans>Search for new extensions</Trans>}\n                  onClick={() =>\n                    this.setState({ extensionsSearchDialogOpen: true })\n                  }\n                />\n              )}\n          />\n        </List>\n        <SearchBar\n          ref={searchBar => (this._searchBar = searchBar)}\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n        {this.state.variablesEditorOpen && (\n          <VariablesEditorDialog\n            open={this.state.variablesEditorOpen}\n            variablesContainer={project.getVariables()}\n            onCancel={() => this.setState({ variablesEditorOpen: false })}\n            onApply={() => this.setState({ variablesEditorOpen: false })}\n            emptyExplanationMessage=\"Global variables are variables that are shared amongst all the scenes of the game.\"\n            emptyExplanationSecondMessage=\"For example, you can have a variable called UnlockedLevelsCount representing the number of levels unlocked by the player.\"\n          />\n        )}\n        {this.state.projectPropertiesDialogOpen && (\n          <ProjectPropertiesDialog\n            open={this.state.projectPropertiesDialogOpen}\n            project={project}\n            onClose={() =>\n              this.setState({ projectPropertiesDialogOpen: false })\n            }\n            onApply={() =>\n              this.setState({ projectPropertiesDialogOpen: false })\n            }\n            onChangeSubscription={this.props.onChangeSubscription}\n          />\n        )}\n        {this.state.extensionsSearchDialogOpen && (\n          <ExtensionsSearchDialog\n            project={project}\n            onClose={() => this.setState({ extensionsSearchDialogOpen: false })}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { AutoSizer } from 'react-virtualized';\nimport SortableVirtualizedItemList from '../UI/SortableVirtualizedItemList';\nimport SearchBar from '../UI/SearchBar';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport Background from '../UI/Background';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport {\n  enumerateEventsFunctions,\n  filterEventFunctionsList,\n} from './EnumerateEventsFunctions';\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\n\nconst EVENTS_FUNCTION_CLIPBOARD_KIND = 'Events Function';\n\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\ntype State = {|\n  renamedEventsFunction: ?gdEventsFunction,\n  searchText: string,\n|};\n\ntype Props = {|\n  project: gdProject,\n  eventsFunctionsContainer: gdEventsFunctionsContainer,\n  selectedEventsFunction: ?gdEventsFunction,\n  onSelectEventsFunction: (eventsFunction: ?gdEventsFunction) => void,\n  onDeleteEventsFunction: (\n    eventsFunction: gdEventsFunction,\n    cb: (boolean) => void\n  ) => void,\n  canRename: (eventsFunction: gdEventsFunction) => boolean,\n  onRenameEventsFunction: (\n    eventsFunction: gdEventsFunction,\n    newName: string,\n    cb: (boolean) => void\n  ) => void,\n  onAddEventsFunction: ((doAdd: boolean, name: ?string) => void) => void,\n  onEventsFunctionAdded: (eventsFunction: gdEventsFunction) => void,\n  renderHeader?: () => React.Node,\n|};\n\nexport default class EventsFunctionsList extends React.Component<Props, State> {\n  static defaultProps = {\n    onDeleteEventsFunction: (\n      eventsFunction: gdEventsFunction,\n      cb: boolean => void\n    ) => cb(true),\n    onRenameEventsFunction: (\n      eventsFunction: gdEventsFunction,\n      newName: string,\n      cb: boolean => void\n    ) => cb(true),\n  };\n\n  sortableList: any;\n  state: State = {\n    renamedEventsFunction: null,\n    searchText: '',\n  };\n\n  _deleteEventsFunction = (\n    eventsFunction: gdEventsFunction,\n    { askForConfirmation }: {| askForConfirmation: boolean |}\n  ) => {\n    const { eventsFunctionsContainer } = this.props;\n\n    if (askForConfirmation) {\n      //eslint-disable-next-line\n      const answer = confirm(\n        \"Are you sure you want to remove this function? This can't be undone.\"\n      );\n      if (!answer) return;\n    }\n\n    this.props.onDeleteEventsFunction(eventsFunction, doRemove => {\n      if (!doRemove) return;\n\n      eventsFunctionsContainer.removeEventsFunction(eventsFunction.getName());\n      this.forceUpdate();\n    });\n  };\n\n  _editName = (eventsFunction: ?gdEventsFunction) => {\n    this.setState(\n      {\n        renamedEventsFunction: eventsFunction,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _rename = (eventsFunction: gdEventsFunction, newName: string) => {\n    const { eventsFunctionsContainer } = this.props;\n    this.setState({\n      renamedEventsFunction: null,\n    });\n\n    if (eventsFunction.getName() === newName) return;\n\n    if (eventsFunctionsContainer.hasEventsFunctionNamed(newName)) {\n      showWarningBox('Another function with this name already exists.');\n      return;\n    }\n\n    this.props.onRenameEventsFunction(eventsFunction, newName, doRename => {\n      if (!doRename) return;\n      eventsFunction.setName(newName);\n      this.forceUpdate();\n    });\n  };\n\n  _move = (oldIndex: number, newIndex: number) => {\n    const { eventsFunctionsContainer } = this.props;\n    eventsFunctionsContainer.moveEventsFunction(oldIndex, newIndex);\n\n    this.forceUpdateList();\n  };\n\n  forceUpdateList = () => {\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  _copyEventsFunction = (eventsFunction: gdEventsFunction) => {\n    Clipboard.set(EVENTS_FUNCTION_CLIPBOARD_KIND, {\n      eventsFunction: serializeToJSObject(eventsFunction),\n      name: eventsFunction.getName(),\n    });\n  };\n\n  _cutEventsFunction = (eventsFunction: gdEventsFunction) => {\n    this._copyEventsFunction(eventsFunction);\n    this._deleteEventsFunction(eventsFunction, { askForConfirmation: false });\n  };\n\n  _pasteEventsFunction = (index: number) => {\n    if (!Clipboard.has(EVENTS_FUNCTION_CLIPBOARD_KIND)) return;\n\n    const { eventsFunction: copiedEventsFunction, name } = Clipboard.get(\n      EVENTS_FUNCTION_CLIPBOARD_KIND\n    );\n    const { project, eventsFunctionsContainer } = this.props;\n\n    const newName = newNameGenerator(name, name =>\n      eventsFunctionsContainer.hasEventsFunctionNamed(name)\n    );\n\n    const newEventsFunction = eventsFunctionsContainer.insertNewEventsFunction(\n      newName,\n      index\n    );\n\n    unserializeFromJSObject(\n      newEventsFunction,\n      copiedEventsFunction,\n      'unserializeFrom',\n      project\n    );\n    newEventsFunction.setName(newName);\n    this.props.onEventsFunctionAdded(newEventsFunction);\n\n    this.forceUpdate();\n  };\n\n  _renderEventsFunctionMenuTemplate = (\n    eventsFunction: gdEventsFunction,\n    index: number\n  ) => {\n    return [\n      {\n        label: 'Rename',\n        click: () => this._editName(eventsFunction),\n        enabled: this.props.canRename(eventsFunction),\n      },\n      {\n        label: 'Remove',\n        click: () =>\n          this._deleteEventsFunction(eventsFunction, {\n            askForConfirmation: true,\n          }),\n      },\n      {\n        type: 'separator',\n      },\n      {\n        label: 'Copy',\n        click: () => this._copyEventsFunction(eventsFunction),\n      },\n      {\n        label: 'Cut',\n        click: () => this._cutEventsFunction(eventsFunction),\n      },\n      {\n        label: 'Paste',\n        enabled: Clipboard.has(EVENTS_FUNCTION_CLIPBOARD_KIND),\n        click: () => this._pasteEventsFunction(index),\n      },\n    ];\n  };\n\n  _addNewEventsFunction = () => {\n    const { eventsFunctionsContainer } = this.props;\n\n    this.props.onAddEventsFunction((doAdd: boolean, name: ?string) => {\n      if (!doAdd) {\n        return;\n      }\n\n      const eventsFunctionName =\n        name ||\n        newNameGenerator('Function', name =>\n          eventsFunctionsContainer.hasEventsFunctionNamed(name)\n        );\n\n      const eventsFunction = eventsFunctionsContainer.insertNewEventsFunction(\n        eventsFunctionName,\n        eventsFunctionsContainer.getEventsFunctionsCount()\n      );\n      this.props.onEventsFunctionAdded(eventsFunction);\n      this.forceUpdate();\n    });\n  };\n\n  render() {\n    const {\n      project,\n      eventsFunctionsContainer,\n      selectedEventsFunction,\n      onSelectEventsFunction,\n      renderHeader,\n    } = this.props;\n    const { searchText } = this.state;\n\n    const list = [\n      ...filterEventFunctionsList(\n        enumerateEventsFunctions(eventsFunctionsContainer),\n        searchText\n      ),\n      {\n        key: 'add-item-row',\n      },\n    ];\n\n    // Force List component to be mounted again if project or objectsContainer\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = project.ptr + ';' + eventsFunctionsContainer.ptr;\n\n    return (\n      <Background>\n        {renderHeader ? renderHeader() : null}\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableVirtualizedItemList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={list}\n                width={width}\n                height={height}\n                onAddNewItem={this._addNewEventsFunction}\n                addNewItemLabel={<Trans>Add a new function</Trans>}\n                selectedItem={selectedEventsFunction}\n                onItemSelected={onSelectEventsFunction}\n                renamedItem={this.state.renamedEventsFunction}\n                onRename={this._rename}\n                onSortEnd={({ oldIndex, newIndex }) =>\n                  this._move(oldIndex, newIndex)\n                }\n                buildMenuTemplate={this._renderEventsFunctionMenuTemplate}\n                helperClass=\"sortable-helper\"\n                distance={20}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n      </Background>\n    );\n  }\n}\n","//@flow\nimport { mapFor } from '../Utils/MapFor';\n\nexport const enumerateEventsFunctions = (\n  eventsFunctionsContainer: gdEventsFunctionsExtension\n): Array<gdEventsFunction> =>\n  mapFor(0, eventsFunctionsContainer.getEventsFunctionsCount(), i =>\n    eventsFunctionsContainer.getEventsFunctionAt(i)\n  );\n\nexport const filterEventFunctionsList = (\n  list: Array<gdEventsFunction>,\n  searchText: string\n): Array<gdEventsFunction> => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter(\n    (item: any) =>\n      item\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { AutoSizer } from 'react-virtualized';\nimport SortableVirtualizedItemList from '../UI/SortableVirtualizedItemList';\nimport SearchBar from '../UI/SearchBar';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport Background from '../UI/Background';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport {\n  enumerateEventsBasedBehaviors,\n  filterEventsBasedBehaviorsList,\n} from './EnumerateEventsBasedBehaviors';\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\n\nconst EVENTS_BASED_BEHAVIOR_CLIPBOARD_KIND = 'Events Based Behavior';\n\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\ntype State = {|\n  renamedEventsBasedBehavior: ?gdEventsBasedBehavior,\n  searchText: string,\n|};\n\ntype Props = {|\n  project: gdProject,\n  eventsBasedBehaviorsList: gdEventsBasedBehaviorsList,\n  selectedEventsBasedBehavior: ?gdEventsBasedBehavior,\n  onSelectEventsBasedBehavior: (\n    eventsBasedBehavior: ?gdEventsBasedBehavior\n  ) => void,\n  onDeleteEventsBasedBehavior: (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    cb: (boolean) => void\n  ) => void,\n  onRenameEventsBasedBehavior: (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    newName: string,\n    cb: (boolean) => void\n  ) => void,\n  onEventsBasedBehaviorRenamed: (\n    eventsBasedBehavior: gdEventsBasedBehavior\n  ) => void,\n  onEditProperties: (eventsBasedBehavior: gdEventsBasedBehavior) => void,\n|};\n\nexport default class EventsBasedBehaviorsList extends React.Component<\n  Props,\n  State\n> {\n  static defaultProps = {\n    onDeleteEventsBasedBehavior: (\n      eventsBasedBehavior: gdEventsBasedBehavior,\n      cb: boolean => void\n    ) => cb(true),\n    onRenameEventsBasedBehavior: (\n      eventsBasedBehavior: gdEventsBasedBehavior,\n      newName: string,\n      cb: boolean => void\n    ) => cb(true),\n  };\n\n  sortableList: any;\n  state: State = {\n    renamedEventsBasedBehavior: null,\n    searchText: '',\n  };\n\n  _deleteEventsBasedBehavior = (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    { askForConfirmation }: {| askForConfirmation: boolean |}\n  ) => {\n    const { eventsBasedBehaviorsList } = this.props;\n\n    if (askForConfirmation) {\n      //eslint-disable-next-line\n      const answer = confirm(\n        \"Are you sure you want to remove this behavior? This can't be undone.\"\n      );\n      if (!answer) return;\n    }\n\n    this.props.onDeleteEventsBasedBehavior(eventsBasedBehavior, doRemove => {\n      if (!doRemove) return;\n\n      eventsBasedBehaviorsList.remove(eventsBasedBehavior.getName());\n      this.forceUpdate();\n    });\n  };\n\n  _editName = (renamedEventsBasedBehavior: ?gdEventsBasedBehavior) => {\n    this.setState(\n      {\n        renamedEventsBasedBehavior,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _rename = (eventsBasedBehavior: gdEventsBasedBehavior, newName: string) => {\n    const { eventsBasedBehaviorsList } = this.props;\n    this.setState({\n      renamedEventsBasedBehavior: null,\n    });\n\n    if (eventsBasedBehavior.getName() === newName) return;\n\n    if (eventsBasedBehaviorsList.has(newName)) {\n      showWarningBox('Another behavior with this name already exists.');\n      return;\n    }\n\n    this.props.onRenameEventsBasedBehavior(\n      eventsBasedBehavior,\n      newName,\n      doRename => {\n        if (!doRename) return;\n        eventsBasedBehavior.setName(newName);\n        this.forceUpdate();\n        this.props.onEventsBasedBehaviorRenamed(eventsBasedBehavior);\n      }\n    );\n  };\n\n  _move = (oldIndex: number, newIndex: number) => {\n    const { eventsBasedBehaviorsList } = this.props;\n    eventsBasedBehaviorsList.move(oldIndex, newIndex);\n\n    this.forceUpdateList();\n  };\n\n  forceUpdateList = () => {\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  _copyEventsBasedBehavior = (eventsBasedBehavior: gdEventsBasedBehavior) => {\n    Clipboard.set(EVENTS_BASED_BEHAVIOR_CLIPBOARD_KIND, {\n      eventsBasedBehavior: serializeToJSObject(eventsBasedBehavior),\n      name: eventsBasedBehavior.getName(),\n    });\n  };\n\n  _cutEventsBasedBehavior = (eventsBasedBehavior: gdEventsBasedBehavior) => {\n    this._copyEventsBasedBehavior(eventsBasedBehavior);\n    this._deleteEventsBasedBehavior(eventsBasedBehavior, {\n      askForConfirmation: false,\n    });\n  };\n\n  _pasteEventsBasedBehavior = (index: number) => {\n    if (!Clipboard.has(EVENTS_BASED_BEHAVIOR_CLIPBOARD_KIND)) return;\n\n    const {\n      eventsBasedBehavior: copiedEventsBasedBehavior,\n      name,\n    } = Clipboard.get(EVENTS_BASED_BEHAVIOR_CLIPBOARD_KIND);\n    const { project, eventsBasedBehaviorsList } = this.props;\n\n    const newName = newNameGenerator(name, name =>\n      eventsBasedBehaviorsList.has(name)\n    );\n\n    const newEventsBasedBehavior = eventsBasedBehaviorsList.insertNew(\n      newName,\n      index\n    );\n\n    unserializeFromJSObject(\n      newEventsBasedBehavior,\n      copiedEventsBasedBehavior,\n      'unserializeFrom',\n      project\n    );\n    newEventsBasedBehavior.setName(newName);\n\n    this.forceUpdate();\n  };\n\n  _renderEventsBasedBehaviorMenuTemplate = (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    index: number\n  ) => {\n    return [\n      {\n        label: 'Properties',\n        click: () => this.props.onEditProperties(eventsBasedBehavior),\n      },\n      {\n        type: 'separator',\n      },\n      {\n        label: 'Rename',\n        click: () => this._editName(eventsBasedBehavior),\n      },\n      {\n        label: 'Remove',\n        click: () =>\n          this._deleteEventsBasedBehavior(eventsBasedBehavior, {\n            askForConfirmation: true,\n          }),\n      },\n      {\n        type: 'separator',\n      },\n      {\n        label: 'Copy',\n        click: () => this._copyEventsBasedBehavior(eventsBasedBehavior),\n      },\n      {\n        label: 'Cut',\n        click: () => this._cutEventsBasedBehavior(eventsBasedBehavior),\n      },\n      {\n        label: 'Paste',\n        enabled: Clipboard.has(EVENTS_BASED_BEHAVIOR_CLIPBOARD_KIND),\n        click: () => this._pasteEventsBasedBehavior(index),\n      },\n    ];\n  };\n\n  _addNewEventsBasedBehavior = () => {\n    const { eventsBasedBehaviorsList } = this.props;\n\n    const name = newNameGenerator('MyBehavior', name =>\n      eventsBasedBehaviorsList.has(name)\n    );\n    eventsBasedBehaviorsList.insertNew(\n      name,\n      eventsBasedBehaviorsList.getCount()\n    );\n    this.forceUpdate();\n  };\n\n  render() {\n    const {\n      project,\n      eventsBasedBehaviorsList,\n      selectedEventsBasedBehavior,\n      onSelectEventsBasedBehavior,\n    } = this.props;\n    const { searchText } = this.state;\n\n    const list = [\n      ...filterEventsBasedBehaviorsList(\n        enumerateEventsBasedBehaviors(eventsBasedBehaviorsList),\n        searchText\n      ),\n      {\n        key: 'add-item-row',\n      },\n    ];\n\n    // Force List component to be mounted again if project or eventsBasedBehaviorsList\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = project.ptr + ';' + eventsBasedBehaviorsList.ptr;\n\n    return (\n      <Background>\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableVirtualizedItemList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={list}\n                width={width}\n                height={height}\n                onAddNewItem={this._addNewEventsBasedBehavior}\n                addNewItemLabel={<Trans>Add a new behavior</Trans>}\n                selectedItem={selectedEventsBasedBehavior}\n                onItemSelected={onSelectEventsBasedBehavior}\n                renamedItem={this.state.renamedEventsBasedBehavior}\n                onRename={this._rename}\n                onSortEnd={({ oldIndex, newIndex }) =>\n                  this._move(oldIndex, newIndex)\n                }\n                buildMenuTemplate={this._renderEventsBasedBehaviorMenuTemplate}\n                helperClass=\"sortable-helper\"\n                distance={20}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n      </Background>\n    );\n  }\n}\n","//@flow\nimport { mapVector } from '../Utils/MapFor';\n\nexport const enumerateEventsBasedBehaviors = (\n  eventsFunctionsContainer: gdEventsBasedBehaviorsList\n): Array<gdEventsBasedBehavior> =>\n  mapVector(\n    eventsFunctionsContainer,\n    eventsBasedBehavior => eventsBasedBehavior\n  );\n\nexport const filterEventsBasedBehaviorsList = (\n  list: Array<gdEventsBasedBehavior>,\n  searchText: string\n): Array<gdEventsBasedBehavior> => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter(\n    (item: any) =>\n      item\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { largeSelectedArea, largeSelectableArea } from '../ClassNames';\nimport { type EventRendererProps } from './EventRenderer.flow';\n\nexport default class UnknownEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  render() {\n    return (\n      <p\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n        })}\n      >\n        {'Unknown event of type ' + this.props.event.getType()}\n      </p>\n    );\n  }\n}\n","import UnknownEvent from './Renderers/UnknownEvent';\nimport StandardEvent from './Renderers/StandardEvent';\nimport GroupEvent from './Renderers/GroupEvent';\nimport CommentEvent from './Renderers/CommentEvent';\nimport ForEachEvent from './Renderers/ForEachEvent';\nimport RepeatEvent from './Renderers/RepeatEvent';\nimport WhileEvent from './Renderers/WhileEvent';\nimport LinkEvent from './Renderers/LinkEvent';\nimport JsCodeEvent from './Renderers/JsCodeEvent';\n\nexport default {\n  components: {\n    unknownEvent: UnknownEvent,\n    'BuiltinCommonInstructions::Standard': StandardEvent,\n    'BuiltinCommonInstructions::Group': GroupEvent,\n    'BuiltinCommonInstructions::Comment': CommentEvent,\n    'BuiltinCommonInstructions::ForEach': ForEachEvent,\n    'BuiltinCommonInstructions::Repeat': RepeatEvent,\n    'BuiltinCommonInstructions::While': WhileEvent,\n    'BuiltinCommonInstructions::Link': LinkEvent,\n    'BuiltinCommonInstructions::JsCode': JsCodeEvent,\n  },\n  getEventComponent: function(event) {\n    if (this.components.hasOwnProperty(event.getType()))\n      return this.components[event.getType()];\n    else return this.components.unknownEvent;\n  },\n  registerEvent: function(eventType, renderFunction) {\n    if (!this.components.hasOwnProperty(eventType)) {\n      console.warn(\n        'Tried to register renderer for events \"' +\n          eventType +\n          '\", but a renderer already exists.'\n      );\n      return;\n    }\n\n    this.components[eventType] = renderFunction;\n  },\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport Changelog from '.';\n\ntype Props = {|\n  open: boolean,\n  onClose: () => void,\n|};\n\ntype State = {||};\n\nexport default class ChangelogDialog extends React.Component<Props, State> {\n  render() {\n    const { open, onClose } = this.props;\n    if (!open) {\n      // Don't render anything, to avoid in particular sending useless requests.\n      return null;\n    }\n\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        primary={true}\n        onClick={onClose}\n      />,\n    ];\n\n    return (\n      <Dialog\n        title={<Trans>What's new in GDevelop?</Trans>}\n        actions={actions}\n        open={open}\n        onRequestClose={onClose}\n        autoScrollBodyContent\n        modal\n      >\n        <p>\n          <Trans>\n            GDevelop was upgraded to a new version! Check out the changes.\n          </Trans>\n        </p>\n        <Changelog\n          onUpdated={() => {\n            this.forceUpdate(); /*Force update to ensure dialog is properly positionned*/\n          }}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ChangelogDialog from './ChangelogDialog';\nimport PreferencesContext from '../Preferences/PreferencesContext';\n\ntype ContainerProps = {|\n  defaultOpen: boolean,\n|};\n\ntype ContainerState = {|\n  open: boolean,\n|};\n\nclass ChangelogDialogContainer extends React.Component<\n  ContainerProps,\n  ContainerState\n> {\n  state = {\n    open: this.props.defaultOpen,\n  };\n\n  render() {\n    const { open } = this.state;\n    return (\n      <ChangelogDialog\n        open={open}\n        onClose={() =>\n          this.setState({\n            open: false,\n          })\n        }\n      />\n    );\n  }\n}\n\n/**\n * The container showing the ChangelogDialog only if a a new version\n * of GDevelop is detected.\n */\nexport default (props: {||}) => (\n  <PreferencesContext.Consumer>\n    {({ values, verifyIfIsNewVersion }) => (\n      <ChangelogDialogContainer\n        defaultOpen={verifyIfIsNewVersion() && values.autoDisplayChangelog}\n      />\n    )}\n  </PreferencesContext.Consumer>\n);\n","// @flow\nimport * as React from 'react';\nimport ObjectGroupsList from '.';\nimport { ObjectGroupEditorDialog } from '../ObjectGroupEditor/ObjectGroupEditorDialog';\nimport { type GroupWithContext } from '../ObjectsList/EnumerateObjects';\n\ntype Props = {|\n  project: ?gdProject,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  globalObjectGroups: gdObjectGroupsContainer,\n  objectGroups: gdObjectGroupsContainer,\n  onGroupsUpdated?: () => void,\n|};\n\ntype State = {|\n  editedGroup: ?gdObjectGroup,\n|};\n\n/**\n * Helper showing the list of groups and embedding the editor to edit a group.\n */\nexport default class ObjectGroupsListWithObjectGroupEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    editedGroup: null,\n  };\n\n  _onDeleteGroup = (\n    groupWithScope: GroupWithContext,\n    done: boolean => void\n  ) => {\n    //TODO: implement and launch refactoring (using gd.WholeProjectRefactorer)\n    done(true);\n  };\n\n  _onRenameGroup = (\n    groupWithScope: GroupWithContext,\n    newName: string,\n    done: boolean => void\n  ) => {\n    //TODO: implement and launch refactoring (using gd.WholeProjectRefactorer)\n    done(true);\n  };\n\n  editGroup = (editedGroup: ?gdObjectGroup) => this.setState({ editedGroup });\n\n  render() {\n    const {\n      project,\n      objectsContainer,\n      globalObjectsContainer,\n      objectGroups,\n      globalObjectGroups,\n    } = this.props;\n\n    return (\n      <React.Fragment>\n        <ObjectGroupsList\n          globalObjectGroups={globalObjectGroups}\n          objectGroups={objectGroups}\n          onEditGroup={this.editGroup}\n          onDeleteGroup={this._onDeleteGroup}\n          onRenameGroup={this._onRenameGroup}\n          onGroupAdded={this.props.onGroupsUpdated}\n          onGroupRemoved={this.props.onGroupsUpdated}\n          onGroupRenamed={this.props.onGroupsUpdated}\n        />\n        <ObjectGroupEditorDialog\n          project={project}\n          key={globalObjectsContainer.ptr + ';' + objectsContainer.ptr}\n          open={!!this.state.editedGroup}\n          group={this.state.editedGroup}\n          globalObjectsContainer={globalObjectsContainer}\n          objectsContainer={objectsContainer}\n          onCancel={() => this.editGroup(null)}\n          onApply={() => {\n            if (this.props.onGroupsUpdated) this.props.onGroupsUpdated();\n            this.editGroup(null);\n          }}\n        />\n      </React.Fragment>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ObjectGroupsListWithObjectGroupEditor from '../../ObjectGroupsList/ObjectGroupsListWithObjectGroupEditor';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport EventsFunctionParametersEditor from './EventsFunctionParametersEditor';\nimport EventsFunctionPropertiesEditor from './EventsFunctionPropertiesEditor';\nimport ScrollView from '../../UI/ScrollView';\nimport { Column } from '../../UI/Grid';\n\ntype Props = {|\n  project: gdProject,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  eventsFunction: gdEventsFunction,\n  eventsBasedBehavior: ?gdEventsBasedBehavior,\n  onParametersOrGroupsUpdated: () => void,\n  helpPagePath?: string,\n  onConfigurationUpdated?: () => void,\n  renderConfigurationHeader?: () => React.Node,\n  freezeParameters?: boolean,\n  freezeEventsFunctionType?: boolean,\n|};\n\ntype TabNames = 'config' | 'parameters' | 'groups';\n\ntype State = {|\n  currentTab: TabNames,\n|};\n\nexport default class EventsFunctionConfigurationEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    currentTab: 'config',\n  };\n\n  _chooseTab = (currentTab: TabNames) =>\n    this.setState({\n      currentTab,\n    });\n\n  render() {\n    const {\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      eventsFunction,\n      eventsBasedBehavior,\n      freezeEventsFunctionType,\n      onConfigurationUpdated,\n      onParametersOrGroupsUpdated,\n      freezeParameters,\n      helpPagePath,\n      renderConfigurationHeader,\n    } = this.props;\n\n    return (\n      <Column expand noMargin>\n        <Tabs value={this.state.currentTab} onChange={this._chooseTab}>\n          <Tab\n            label={<Trans>Configuration</Trans>}\n            value={('config': TabNames)}\n          />\n          <Tab\n            label={<Trans>Parameters</Trans>}\n            value={('parameters': TabNames)}\n          />\n          <Tab\n            label={<Trans>Object groups</Trans>}\n            value={('groups': TabNames)}\n          >\n            {/* Manually display tabs to support flex */}\n          </Tab>\n        </Tabs>\n        {this.state.currentTab === 'config' ? (\n          <ScrollView>\n            <EventsFunctionPropertiesEditor\n              eventsFunction={eventsFunction}\n              eventsBasedBehavior={eventsBasedBehavior}\n              helpPagePath={helpPagePath}\n              onConfigurationUpdated={onConfigurationUpdated}\n              renderConfigurationHeader={renderConfigurationHeader}\n              freezeEventsFunctionType={freezeEventsFunctionType}\n            />\n          </ScrollView>\n        ) : null}\n        {this.state.currentTab === 'parameters' ? (\n          <ScrollView>\n            <EventsFunctionParametersEditor\n              project={project}\n              eventsFunction={eventsFunction}\n              eventsBasedBehavior={eventsBasedBehavior}\n              onParametersUpdated={onParametersOrGroupsUpdated}\n              helpPagePath={helpPagePath}\n              freezeParameters={freezeParameters}\n            />\n          </ScrollView>\n        ) : null}\n        {this.state.currentTab === 'groups' ? (\n          <ObjectGroupsListWithObjectGroupEditor\n            project={project}\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            globalObjectGroups={globalObjectsContainer.getObjectGroups()}\n            objectGroups={eventsFunction.getObjectGroups()}\n            onGroupsUpdated={onParametersOrGroupsUpdated}\n          />\n        ) : null}\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\nimport FlatButton from 'material-ui/FlatButton';\nimport Window from '../Utils/Window';\nimport { List, ListItem } from 'material-ui/List';\nimport { Column } from '../UI/Grid';\nimport algoliasearch from 'algoliasearch/lite';\nimport debounce from 'lodash/debounce';\n\nconst styles = {\n  dropdownMenuContainer: {\n    maxHeight: 300,\n    overflowY: 'scroll',\n  },\n  poweredByText: {\n    textAlign: 'right',\n    opacity: 0.8,\n  },\n};\n\ntype Props = {|\n  onChange: string => void,\n  value: string,\n|};\n\ntype AlgoliaResult = {|\n  content: string,\n  url: string,\n  hierarchy: {|\n    lvl0: ?string,\n    lvl1: ?string,\n    lvl2: ?string,\n    lvl3: ?string,\n    lvl4: ?string,\n    lvl5: ?string,\n    lvl6: ?string,\n  |},\n  objectID: string,\n|};\n\ntype State = {|\n  results: ?Array<AlgoliaResult>,\n|};\n\nconst indexName = 'gdevelop';\nconst appId = 'BH4D9OD16A';\nconst apiKey = '69c73fc1a710bb79543d4b91f6b81c08';\nconst algoliaOptions = { hitsPerPage: 5 };\n\nexport default class DocSearchArea extends React.Component<Props, State> {\n  // $FlowFixMe\n  client = algoliasearch(appId, apiKey, algoliaOptions);\n  state = {\n    results: null,\n  };\n\n  _handleSearchTextChange = (searchText: string) => {\n    this.props.onChange(searchText);\n  };\n\n  _launchSearchRequest = debounce(() => {\n    if (this.props.value) {\n      this.client\n        // $FlowFixMe\n        .search([\n          {\n            indexName: indexName,\n            query: this.props.value,\n            params: algoliaOptions,\n          },\n        ])\n        .then(data => {\n          let hits = data.results[0].hits;\n          console.log(hits);\n\n          this.setState({\n            results: hits,\n          });\n        });\n    }\n  }, 200);\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.value !== this.props.value && this.props.value) {\n      this._launchSearchRequest();\n    }\n  }\n\n  _renderResult = (result: AlgoliaResult) => {\n    const primaryText =\n      result.hierarchy.lvl0 ||\n      result.hierarchy.lvl1 ||\n      result.hierarchy.lvl2 ||\n      result.hierarchy.lvl3 ||\n      result.hierarchy.lvl4 ||\n      result.hierarchy.lvl5 ||\n      result.hierarchy.lvl6;\n\n    const secondaryText = [\n      result.hierarchy.lvl0,\n      result.hierarchy.lvl1,\n      result.hierarchy.lvl2,\n      result.hierarchy.lvl3,\n      result.hierarchy.lvl4,\n      result.hierarchy.lvl5,\n      result.hierarchy.lvl6,\n    ]\n      .filter(text => !!text)\n      .filter(text => text !== primaryText)\n      .join(' - ')\n      .replace(/&quot;/g, '\"');\n\n    return (\n      <ListItem\n        key={result.objectID}\n        primaryText={primaryText}\n        secondaryText={result.content || secondaryText}\n        secondaryTextLines={2}\n        onClick={() => {\n          Window.openExternalURL(result.url);\n        }}\n      />\n    );\n  };\n\n  render() {\n    return (\n      <div>\n        <TextField\n          id={'help-finder-search-bar'}\n          fullWidth\n          hintText={<Trans>Enter what you want to build.</Trans>}\n          value={this.props.value}\n          onChange={(e, text) => this.props.onChange(text)}\n        />\n        <div\n          id=\"help-finder-dropdown-menu-container\"\n          className=\"algolia-autocomplete\"\n          style={{\n            ...styles.dropdownMenuContainer,\n            visibility: !this.props.value ? 'hidden' : undefined,\n          }}\n        />\n        {this.state.results ? (\n          <List>\n            {this.state.results.map(result => this._renderResult(result))}\n          </List>\n        ) : (\n          <React.Fragment>\n            <p>\n              <Trans>Examples:</Trans>\n            </p>\n            <Column expand>\n              <p>\n                Coins in platformer\n                <br />\n                Export on Android\n                <br />\n                Add a score\n                <br />\n                Move enemies\n                <br />\n                ...\n                <br />\n              </p>\n            </Column>\n          </React.Fragment>\n        )}\n        <p style={styles.poweredByText}>\n          This search is powered by{' '}\n          <FlatButton\n            onClick={() => Window.openExternalURL('http://algolia.com/')}\n            label={'Algolia'}\n          />\n        </p>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport Window from '../Utils/Window';\nimport DocSearchArea from './DocSearchArea';\nimport debounce from 'lodash/debounce';\nimport {\n  sendHelpFinderOpened,\n  sendHelpSearch,\n} from '../Utils/Analytics/EventSender';\n\ntype Props = {|\n  open: boolean,\n  onClose: () => void,\n|};\n\ntype State = {|\n  searchText: string,\n|};\n\nexport default class HelpFinder extends React.PureComponent<Props, State> {\n  state = {\n    searchText: '',\n  };\n\n  componentWillReceiveProps(newProps: Props) {\n    if (newProps.open && !this.props.open) {\n      sendHelpFinderOpened();\n    }\n  }\n\n  _handleSearchTextChange = (searchText: string) => {\n    this.setState({\n      searchText,\n    });\n    this._sendHelpSearch();\n  };\n\n  _sendHelpSearch = debounce(() => {\n    if (this.state.searchText) sendHelpSearch(this.state.searchText.trim());\n  }, 2900);\n\n  render() {\n    const { open, onClose } = this.props;\n\n    return (\n      <Dialog\n        title={<Trans>Help!</Trans>}\n        onRequestClose={onClose}\n        actions={[\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            key=\"close\"\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        secondaryActions={[\n          <FlatButton\n            key=\"forum\"\n            primary={false}\n            onClick={() => {\n              Window.openExternalURL('https://forum.gdevelop-app.com');\n            }}\n            label={<Trans>Community forum</Trans>}\n          />,\n          <FlatButton\n            key=\"wiki\"\n            primary={false}\n            onClick={() => {\n              Window.openExternalURL(\n                'http://wiki.compilgames.net/doku.php/gdevelop5/start'\n              );\n            }}\n            label={<Trans>Wiki</Trans>}\n          />,\n        ]}\n        open={open}\n      >\n        <DocSearchArea\n          value={this.state.searchText}\n          onChange={this._handleSearchTextChange}\n        />\n      </Dialog>\n    );\n  }\n}\n","//@flow\nimport { findGDJS } from '../Export/LocalExporters/LocalGDJSFinder';\nimport optionalRequire from '../Utils/OptionalRequire';\nconst fs = optionalRequire('fs');\nconst path = optionalRequire('path');\n\nexport const setupAutocompletions = (monaco: any) => {\n  const importAllJsFilesFromFolder = (folderPath: string) =>\n    fs.readdir(folderPath, (error: ?Error, filenames: Array<string>) => {\n      if (error) {\n        console.error(\n          'Unable to read GDJS files for setting up autocompletions:',\n          error\n        );\n        return;\n      }\n\n      filenames.forEach(filename => {\n        if (filename.endsWith('.js')) {\n          const fullPath = path.join(folderPath, filename);\n          fs.readFile(fullPath, 'utf8', (fileError, content) => {\n            if (fileError) {\n              console.error(\n                `Unable to read ${fullPath} for setting up autocompletions:`,\n                fileError\n              );\n              return;\n            }\n\n            monaco.languages.typescript.javascriptDefaults.addExtraLib(\n              content,\n              fullPath\n            );\n          });\n        }\n      });\n    });\n\n  findGDJS(gdjsRoot => {\n    const runtimePath = path.join(gdjsRoot, 'Runtime');\n    const extensionsPath = path.join(runtimePath, 'Extensions');\n    const eventToolsPath = path.join(runtimePath, 'events-tools');\n\n    importAllJsFilesFromFolder(runtimePath);\n    importAllJsFilesFromFolder(eventToolsPath);\n    fs.readdir(extensionsPath, (error: ?Error, folderNames: Array<string>) => {\n      if (error) {\n        console.error(\n          'Unable to read Extensions folders for setting up autocompletions:',\n          error\n        );\n        return;\n      }\n\n      folderNames\n        .filter(\n          folderName =>\n            !folderName.endsWith('.txt') &&\n            !folderName.endsWith('.md') &&\n            !folderName.endsWith('.gitignore')\n        )\n        .forEach(folderName =>\n          importAllJsFilesFromFolder(path.join(extensionsPath, folderName))\n        );\n    });\n\n    monaco.languages.typescript.javascriptDefaults.addExtraLib(\n      `\n/** Represents the scene being played. */\nvar runtimeScene = new gdjs.RuntimeScene();\n\n/** The instances of objects that are passed to your JavaScript function.\n * @type {gdjs.RuntimeObject[]}\n */\nvar objects = new gdjs.RuntimeScene();\n\n/**\n * Get the list of instances of the specified object.\n *\n * @callback GetObjectsFunction\n * @param {string} objectName The name of the object for which instances must be returned.\n * @return {gdjs.RuntimeObject[]} Instances of the specified object.\n */\n\n/**\n * Create a new object from its name. The object is added to the instances\n * living on the scene.\n *\n * @callback CreateObjectFunction\n * @param {string} objectName The name of the object to be created\n * @return {gdjs.RuntimeObject} The created object\n */\n\n/**\n * Get the \"real\" behavior name, that can be used with \\`getBehavior\\`. For example:\n * \\`object.getBehavior(eventsFunctionContext.getBehaviorName(\"MyBehavior\"))\\`\n *\n * @callback GetBehaviorNameFunction\n * @param {string} behaviorName The name of the behavior, as specified in the parameters of the function.\n * @return {string} The name that can be passed to \\`getBehavior\\`.\n */\n\n/**\n * Get the value (string or number) of an argument that was passed to the events function.\n * To get objects, use \\`getObjects\\`.\n *\n * @callback GetArgumentFunction\n * @param {string} argumentName The name of the argument, as specified in the parameters of the function.\n * @return {string|number} The string or number passed for this argument\n */\n\n/** Represents the context of the events function (or the behavior method),\n * if any. If the JS code is running in a scene, this will be undefined (so you can't use this in a scene).\n *\n * @type {?{getObjects: GetObjectsFunction, getBehaviorName: GetBehaviorNameFunction, createObject: CreateObjectFunction, getArgument: GetArgumentFunction, returnValue: boolean | number | string}}\n */\nvar eventsFunctionContext = {};\n`,\n      'this-mock-the-context-of-events.js'\n    );\n  });\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { setupAutocompletions } from './LocalCodeEditorAutocompletions';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport PreferencesContext from '../MainFrame/Preferences/PreferencesContext';\nimport { getAllThemes } from './Theme';\n\nexport type State = {|\n  MonacoEditor: ?any,\n  error: ?Error,\n|};\nexport type Props = {|\n  value: string,\n  onChange: string => void,\n  width: number,\n  onEditorMounted?: () => void,\n|};\n\nconst monacoEditorOptions = {\n  scrollBeyondLastLine: false,\n  minimap: {\n    enabled: false,\n  },\n};\n\n// There is only a single instance of monaco living, keep track\n// of if its initialized or not.\nlet monacoCompletionsInitialized = false;\nlet monacoThemesInitialized = false;\n\nexport class CodeEditor extends React.Component<Props, State> {\n  state = {\n    MonacoEditor: null,\n    error: null,\n  };\n\n  setupEditorThemes = (monaco: any) => {\n    if (!monacoThemesInitialized) {\n      monacoThemesInitialized = true;\n\n      getAllThemes().forEach(codeEditorTheme => {\n        // Builtin themes don't have themeData, don't redefine them.\n        if (codeEditorTheme.themeData) {\n          monaco.editor.defineTheme(\n            codeEditorTheme.themeName,\n            codeEditorTheme.themeData\n          );\n        }\n      });\n    }\n  };\n\n  setupEditorCompletions = (editor: any, monaco: any) => {\n    if (!monacoCompletionsInitialized) {\n      monacoCompletionsInitialized = true;\n\n      monaco.languages.typescript.javascriptDefaults.setCompilerOptions({\n        // noLib: true,\n        target: monaco.languages.typescript.ScriptTarget.ES6,\n        allowNonTsExtensions: true,\n        allowJs: true,\n        checkJs: true,\n      });\n      setupAutocompletions(monaco);\n    }\n\n    if (this.props.onEditorMounted) this.props.onEditorMounted();\n  };\n\n  componentDidMount() {\n    this.loadMonacoEditor();\n  }\n\n  handleLoadError(error: Error) {\n    this.setState({\n      error,\n    });\n  }\n\n  loadMonacoEditor() {\n    this.setState({\n      error: null,\n    });\n    import(/* webpackChunkName: \"react-monaco-editor\" */ 'react-monaco-editor')\n      .then(module =>\n        this.setState({\n          MonacoEditor: module.default,\n        })\n      )\n      .catch(this.handleLoadError);\n  }\n\n  _handleContextMenu = (event: SyntheticEvent<>) => {\n    // Prevent right click to bubble up and trigger the context menu\n    // of the event.\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  render() {\n    const { MonacoEditor, error } = this.state;\n    if (error) {\n      return (\n        <React.Fragment>\n          <p>\n            <Trans>Unable to load the code editor</Trans>\n          </p>\n          <RaisedButton\n            label={<Trans>Retry</Trans>}\n            onClick={this.loadMonacoEditor}\n          />\n        </React.Fragment>\n      );\n    }\n\n    if (!MonacoEditor) {\n      return <PlaceholderLoader />;\n    }\n\n    return (\n      <div onContextMenu={this._handleContextMenu}>\n        <PreferencesContext.Consumer>\n          {({ values }) => (\n            <MonacoEditor\n              width={this.props.width || 600}\n              height=\"400\"\n              language=\"javascript\"\n              theme={values.codeEditorThemeName}\n              value={this.props.value}\n              onChange={this.props.onChange}\n              editorWillMount={this.setupEditorThemes}\n              editorDidMount={this.setupEditorCompletions}\n              options={monacoEditorOptions}\n            />\n          )}\n        </PreferencesContext.Consumer>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { type EventsScope } from '../../EventsScope.flow';\nimport * as React from 'react';\nimport { mapFor } from '../../../Utils/MapFor';\nimport EmptyMessage from '../../../UI/EmptyMessage';\n\nexport type ParameterValues = Array<string>;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1,\n  },\n};\n\ntype Props = {|\n  project?: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  expressionMetadata: gdExpressionMetadata,\n  parameterValues: ParameterValues,\n  onChangeParameter: (index: number, value: string) => void,\n  parameterRenderingService?: {\n    components: any,\n    getParameterComponent: (type: string) => any,\n  },\n|};\ntype State = {||};\n\nexport default class ExpressionParametersEditor extends React.Component<\n  Props,\n  State\n> {\n  static getNonCodeOnlyParametersCount(\n    expressionMetadata: gdExpressionMetadata\n  ) {\n    return mapFor(0, expressionMetadata.getParametersCount(), i => {\n      const parameterMetadata = expressionMetadata.getParameter(i);\n      return !parameterMetadata.isCodeOnly();\n    }).filter(isVisible => isVisible).length;\n  }\n\n  render() {\n    const {\n      expressionMetadata,\n      parameterValues,\n      project,\n      scope,\n      globalObjectsContainer,\n      objectsContainer,\n      parameterRenderingService,\n    } = this.props;\n\n    if (!parameterRenderingService) {\n      console.error(\n        'Missing parameterRenderingService for ExpressionParametersEditor'\n      );\n      return null;\n    }\n\n    // Create an object mimicking Instruction interface so that it can be used by\n    // ParameterFields components.\n    const parametersCount = expressionMetadata.getParametersCount();\n    const expression = {\n      getParametersCount: () => parametersCount,\n      getParameter: index => {\n        return parameterValues[index] || '';\n      },\n    };\n\n    return (\n      <div style={styles.container}>\n        {mapFor(0, expressionMetadata.getParametersCount(), i => {\n          const parameterMetadata = expressionMetadata.getParameter(i);\n          const ParameterComponent = parameterRenderingService.getParameterComponent(\n            parameterMetadata.getType()\n          );\n\n          if (parameterMetadata.isCodeOnly()) return null;\n          return (\n            <ParameterComponent\n              expressionMetadata={expressionMetadata}\n              expression={expression}\n              parameterMetadata={parameterMetadata}\n              parameterIndex={i}\n              value={parameterValues[i]}\n              onChange={value => this.props.onChangeParameter(i, value)}\n              project={project}\n              scope={scope}\n              globalObjectsContainer={globalObjectsContainer}\n              objectsContainer={objectsContainer}\n              key={i}\n              parameterRenderingService={parameterRenderingService}\n            />\n          );\n        })}\n        {ExpressionParametersEditor.getNonCodeOnlyParametersCount(\n          expressionMetadata\n        ) === 0 && (\n          <EmptyMessage>\n            <Trans>There is nothing to configure.</Trans>\n          </EmptyMessage>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { type EventsScope } from '../../EventsScope.flow';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport ExpressionParametersEditor from './ExpressionParametersEditor';\nimport Dialog from '../../../UI/Dialog';\n\nexport type ParameterValues = Array<string>;\n\ntype Props = {\n  project?: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  expressionMetadata: Object,\n  onDone: ParameterValues => void,\n  onRequestClose: () => void,\n  open: boolean,\n  parameterRenderingService?: {\n    components: any,\n    getParameterComponent: (type: string) => any,\n  },\n};\n\ntype State = {\n  parameterValues: ParameterValues,\n};\n\nexport default class ExpressionParametersEditorDialog extends Component<\n  Props,\n  State\n> {\n  state = {\n    parameterValues: [],\n  };\n\n  componentWillMount() {\n    this.setState({\n      parameterValues: Array(\n        this.props.expressionMetadata.getParametersCount()\n      ).fill(''),\n    });\n  }\n\n  render() {\n    const {\n      project,\n      scope,\n      globalObjectsContainer,\n      objectsContainer,\n      expressionMetadata,\n      parameterRenderingService,\n    } = this.props;\n\n    return (\n      <Dialog\n        open={this.props.open}\n        actions={\n          <FlatButton\n            key=\"apply\"\n            label={<Trans>Apply</Trans>}\n            primary\n            onClick={() => this.props.onDone(this.state.parameterValues)}\n          />\n        }\n        modal\n        onRequestClose={this.props.onRequestClose}\n        autoScrollBodyContent\n      >\n        <ExpressionParametersEditor\n          project={project}\n          scope={scope}\n          globalObjectsContainer={globalObjectsContainer}\n          objectsContainer={objectsContainer}\n          expressionMetadata={expressionMetadata}\n          parameterValues={this.state.parameterValues}\n          onChangeParameter={(editedIndex, value) => {\n            this.setState({\n              parameterValues: this.state.parameterValues.map(\n                (oldValue, index) => (index === editedIndex ? value : oldValue)\n              ),\n            });\n          }}\n          parameterRenderingService={parameterRenderingService}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { Line } from '../../../../UI/Grid';\nimport ImagePreview from '../../../../ResourcesList/ResourcePreview/ImagePreview';\nimport Replay from 'material-ui/svg-icons/av/replay';\nimport PlayArrow from 'material-ui/svg-icons/av/play-arrow';\nimport Pause from 'material-ui/svg-icons/av/pause';\nimport Timer from 'material-ui/svg-icons/image/timer';\nimport TextField from 'material-ui/TextField';\nimport { FlatButton } from 'material-ui';\n\ntype Props = {|\n  spritesContainer: Object,\n  resourcesLoader: Object,\n  project: Object,\n  timeBetweenFrames: number,\n  onChangeTimeBetweenFrames: number => void,\n|};\n\ntype State = {|\n  currentFrameIndex: number,\n  currentFrameElapsedTime: number,\n  paused: boolean,\n  fps: number,\n|};\n\nconst styles = {\n  timeField: {\n    width: 75,\n  },\n  timeIcon: {\n    paddingLeft: 6,\n    paddingRight: 8,\n  },\n};\n\nexport default class AnimationPreview extends Component<Props, State> {\n  state = {\n    currentFrameIndex: 0,\n    currentFrameElapsedTime: 0,\n    paused: false,\n    fps: Math.round(1 / this.props.timeBetweenFrames),\n  };\n\n  nextUpdate = null;\n\n  componentDidMount() {\n    this.nextUpdate = requestAnimationFrame(this._updateAnimation);\n  }\n\n  componentWillUnmount() {\n    if (this.nextUpdate) cancelAnimationFrame(this.nextUpdate);\n  }\n\n  replay = () =>\n    this.setState({\n      currentFrameIndex: 0,\n      currentFrameElapsedTime: 0,\n      paused: false,\n    });\n\n  play = () =>\n    this.setState({\n      paused: false,\n    });\n\n  pause = () =>\n    this.setState({\n      paused: true,\n    });\n\n  _updateAnimation = () => {\n    const animationSpeedScale = 1;\n\n    const { spritesContainer, timeBetweenFrames } = this.props;\n    const { currentFrameIndex, currentFrameElapsedTime, paused } = this.state;\n\n    const elapsedTime = 1 / 60;\n    let newFrameIndex = currentFrameIndex;\n    let newFrameElapsedTime = currentFrameElapsedTime;\n    newFrameElapsedTime += paused ? 0 : elapsedTime * animationSpeedScale;\n\n    if (newFrameElapsedTime > timeBetweenFrames) {\n      const count = Math.floor(newFrameElapsedTime / timeBetweenFrames);\n      newFrameIndex += count;\n      newFrameElapsedTime = newFrameElapsedTime - count * timeBetweenFrames;\n      if (newFrameElapsedTime < 0) newFrameElapsedTime = 0;\n    }\n\n    if (newFrameIndex >= spritesContainer.getSpritesCount()) {\n      newFrameIndex = spritesContainer.isLooping()\n        ? newFrameIndex % spritesContainer.getSpritesCount()\n        : spritesContainer.getSpritesCount() - 1;\n    }\n    if (newFrameIndex < 0) newFrameIndex = 0; //May happen if there is no frame.\n\n    this.setState({\n      currentFrameIndex: newFrameIndex,\n      currentFrameElapsedTime: newFrameElapsedTime,\n    });\n    this.nextUpdate = requestAnimationFrame(this._updateAnimation);\n  };\n\n  render() {\n    const {\n      spritesContainer,\n      resourcesLoader,\n      project,\n      timeBetweenFrames,\n      onChangeTimeBetweenFrames,\n    } = this.props;\n    const { currentFrameIndex, paused, fps } = this.state;\n\n    const hasValidSprite =\n      currentFrameIndex < spritesContainer.getSpritesCount();\n    const sprite = hasValidSprite\n      ? spritesContainer.getSprite(currentFrameIndex)\n      : null;\n\n    return (\n      <div>\n        <ImagePreview\n          resourceName={sprite ? sprite.getImageName() : ''}\n          resourcesLoader={resourcesLoader}\n          project={project}\n        />\n        <Line noMargin alignItems=\"center\">\n          <span style={styles.timeIcon}>FPS:</span>\n          <TextField\n            value={fps}\n            onChange={(e, text) => {\n              const fps = parseFloat(text);\n              if (fps > 0) {\n                this.setState({ fps });\n                onChangeTimeBetweenFrames(parseFloat((1 / fps).toFixed(4)));\n                this.replay();\n              }\n            }}\n            id=\"direction-time-between-frames\"\n            type=\"number\"\n            step={1}\n            min={1}\n            max={100}\n            style={styles.timeField}\n            autoFocus={true}\n          />\n          <Timer style={styles.timeIcon} />\n          <TextField\n            value={timeBetweenFrames}\n            onChange={(e, text) => {\n              const time = parseFloat(text);\n              if (time > 0) {\n                this.setState({ fps: Math.round(1 / time) });\n                onChangeTimeBetweenFrames(time);\n                this.replay();\n              }\n            }}\n            id=\"direction-time-between-frames\"\n            type=\"number\"\n            step={0.005}\n            precision={2}\n            min={0.01}\n            max={5}\n            style={styles.timeField}\n          />\n          <FlatButton\n            icon={<Replay />}\n            label={<Trans>Replay</Trans>}\n            onClick={this.replay}\n          />\n          <FlatButton\n            icon={paused ? <PlayArrow /> : <Pause />}\n            label={paused ? 'Play' : 'Pause'}\n            onClick={paused ? this.play : this.pause}\n          />\n        </Line>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport Timer from 'material-ui/svg-icons/image/timer';\nimport FlatButton from 'material-ui/FlatButton';\nimport Checkbox from 'material-ui/Checkbox';\nimport Repeat from 'material-ui/svg-icons/av/repeat';\nimport Brush from 'material-ui/svg-icons/image/brush';\nimport PlayArrow from 'material-ui/svg-icons/av/play-arrow';\nimport TextField from 'material-ui/TextField';\nimport Dialog from '../../../UI/Dialog';\nimport AnimationPreview from './AnimationPreview';\nimport ResourcesLoader from '../../../ResourcesLoader';\nimport { type ResourceExternalEditor } from '../../../ResourcesList/ResourceExternalEditor.flow';\n\nconst styles = {\n  container: {\n    paddingLeft: 12,\n    paddingRight: 12,\n    display: 'flex',\n    alignItems: 'center',\n  },\n  timeField: {\n    width: 75,\n  },\n  timeIcon: {\n    paddingLeft: 6,\n    paddingRight: 6,\n  },\n  repeatContainer: {\n    width: 130,\n  },\n  repeatLabel: {\n    whiteSpace: 'nowrap',\n  },\n  spacer: {\n    width: 16,\n  },\n};\n\nconst formatTime = time => Number(time.toFixed(6));\n\ntype Props = {|\n  direction: gdDirection,\n  resourcesLoader: typeof ResourcesLoader,\n  project: gdProject,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  onEditWith: ResourceExternalEditor => void,\n|};\n\ntype State = {|\n  timeBetweenFrames: number,\n  timeError: boolean,\n  previewOpen: boolean,\n|};\n\nexport default class DirectionTools extends Component<Props, State> {\n  state = {\n    timeBetweenFrames: formatTime(this.props.direction.getTimeBetweenFrames()),\n    timeError: false,\n    previewOpen: false,\n  };\n\n  componentWillReceiveProps(newProps: Props) {\n    this.setState({\n      timeBetweenFrames: formatTime(\n        this.props.direction.getTimeBetweenFrames()\n      ),\n      timeError: false,\n    });\n  }\n\n  saveTimeBetweenFrames = () => {\n    const { direction } = this.props;\n\n    const newTime = Math.max(parseFloat(this.state.timeBetweenFrames), 0.00001);\n    const newTimeIsValid = !isNaN(newTime);\n\n    if (newTimeIsValid) direction.setTimeBetweenFrames(newTime);\n    this.setState({\n      timeBetweenFrames: formatTime(\n        this.props.direction.getTimeBetweenFrames()\n      ),\n      timeError: newTimeIsValid,\n    });\n  };\n\n  setLooping = (check: boolean) => {\n    const { direction } = this.props;\n\n    direction.setLoop(!!check);\n    this.forceUpdate();\n  };\n\n  openPreview = (open: boolean) => {\n    this.setState({\n      previewOpen: open,\n    });\n    if (!open) {\n      this.saveTimeBetweenFrames();\n    }\n  };\n\n  render() {\n    const {\n      direction,\n      resourcesLoader,\n      project,\n      resourceExternalEditors,\n      onEditWith,\n    } = this.props;\n\n    return (\n      <div style={styles.container}>\n        {!!resourceExternalEditors.length && (\n          <FlatButton\n            label={resourceExternalEditors[0].displayName}\n            icon={<Brush />}\n            onClick={() => onEditWith(resourceExternalEditors[0])}\n          />\n        )}\n        <FlatButton\n          label={<Trans>Preview</Trans>}\n          icon={<PlayArrow />}\n          onClick={() => this.openPreview(true)}\n        />\n        <Timer style={styles.timeIcon} />\n        <TextField\n          value={this.state.timeBetweenFrames}\n          onChange={(e, text) => this.setState({ timeBetweenFrames: text })}\n          onBlur={() => this.saveTimeBetweenFrames()}\n          id=\"direction-time-between-frames\"\n          style={styles.timeField}\n          type=\"number\"\n          step={0.005}\n          precision={2}\n          min={0.01}\n          max={5}\n        />\n        <span style={styles.spacer} />\n        <div style={styles.repeatContainer}>\n          <Checkbox\n            checkedIcon={<Repeat />}\n            uncheckedIcon={<Repeat />}\n            checked={direction.isLooping()}\n            label={direction.isLooping() ? 'Loop' : \"Don't loop\"}\n            onCheck={(e, check) => this.setLooping(check)}\n            labelStyle={styles.repeatLabel}\n          />\n        </div>\n        {this.state.previewOpen && (\n          <Dialog\n            actions={\n              <FlatButton\n                label={<Trans>OK</Trans>}\n                primary\n                onClick={() => this.openPreview(false)}\n              />\n            }\n            autoScrollBodyContent\n            noMargin\n            modal\n            onRequestClose={() => this.openPreview(false)}\n            open={this.state.previewOpen}\n          >\n            <AnimationPreview\n              spritesContainer={direction}\n              resourcesLoader={resourcesLoader}\n              project={project}\n              timeBetweenFrames={this.state.timeBetweenFrames}\n              onChangeTimeBetweenFrames={text =>\n                this.setState({ timeBetweenFrames: text })\n              }\n            />\n          </Dialog>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\n\nconst styles = {\n  container: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  maxWidth: {\n    maxWidth: '100%',\n  },\n};\n\ntype Props = {|\n  children: ?React.Node,\n  maxWidth?: boolean,\n  width?: number | string,\n  noFullHeight?: boolean,\n|};\n\n/**\n * This is the component to be used to display the standard\n * background of editor/windows/dialogs.\n *\n * TODO: All usage of material-ui Paper in other components should be\n * removed in favor of using this component.\n */\nconst Background = (props: Props) => (\n  <Paper\n    style={{\n      ...styles.container,\n      height: props.noFullHeight ? undefined : '100%',\n      width: props.width ? props.width : undefined,\n      ...(props.maxWidth ? styles.maxWidth : undefined),\n    }}\n  >\n    {props.children}\n  </Paper>\n);\n\nexport default Background;\n","// @flow\nimport createReactContext, { type Context } from 'create-react-context';\n\nexport type AlertMessageIdentifier =\n  | 'use-non-smoothed-textures'\n  | 'use-nearest-scale-mode'\n  | 'maximum-fps-too-low'\n  | 'minimum-fps-too-low'\n  | 'function-extractor-explanation'\n  | 'events-based-behavior-explanation'\n  | 'empty-events-based-behavior-explanation';\n\nexport type PreferencesValues = {|\n  language: string,\n  autoDownloadUpdates: boolean,\n  themeName: string,\n  codeEditorThemeName: string,\n  hiddenAlertMessages: { [AlertMessageIdentifier]: boolean },\n  autoDisplayChangelog: boolean,\n  lastLaunchedVersion: ?string,\n  eventsSheetShowObjectThumbnails: boolean,\n  autosaveOnPreview: boolean,\n  useNewInstructionEditorDialog: boolean,\n|};\n\nexport type Preferences = {|\n  values: PreferencesValues,\n  setLanguage: (language: string) => void,\n  setThemeName: (themeName: string) => void,\n  setCodeEditorThemeName: (codeEditorThemeName: string) => void,\n  setAutoDownloadUpdates: (enabled: boolean) => void,\n  checkUpdates: (forceDownload?: boolean) => void,\n  setAutoDisplayChangelog: (enabled: boolean) => void,\n  showAlertMessage: (identifier: AlertMessageIdentifier, show: boolean) => void,\n  verifyIfIsNewVersion: () => boolean,\n  setEventsSheetShowObjectThumbnails: (enabled: boolean) => void,\n  setAutosaveOnPreview: (enabled: boolean) => void,\n  setUseNewInstructionEditorDialog: (enabled: boolean) => void,\n|};\n\nexport const initialPreferences = {\n  values: {\n    language: 'en',\n    autoDownloadUpdates: true,\n    themeName: 'GDevelop default',\n    codeEditorThemeName: 'vs-dark',\n    hiddenAlertMessages: {},\n    autoDisplayChangelog: true,\n    lastLaunchedVersion: undefined,\n    eventsSheetShowObjectThumbnails: true,\n    autosaveOnPreview: true,\n    useNewInstructionEditorDialog: false,\n  },\n  setLanguage: () => {},\n  setThemeName: () => {},\n  setCodeEditorThemeName: () => {},\n  setAutoDownloadUpdates: () => {},\n  checkUpdates: () => {},\n  setAutoDisplayChangelog: () => {},\n  showAlertMessage: (identifier: AlertMessageIdentifier, show: boolean) => {},\n  verifyIfIsNewVersion: () => false,\n  setEventsSheetShowObjectThumbnails: () => {},\n  setAutosaveOnPreview: () => {},\n  setUseNewInstructionEditorDialog: (enabled: boolean) => {},\n};\n\nconst PreferencesContext: Context<Preferences> = createReactContext(\n  initialPreferences\n);\n\nexport default PreferencesContext;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport TextField from 'material-ui/TextField';\nimport Paper from 'material-ui/Paper';\nimport Close from 'material-ui/svg-icons/navigation/close';\nimport Search from 'material-ui/svg-icons/action/search';\nimport FilterList from 'material-ui/svg-icons/content/filter-list';\nimport IconMenu from './Menu/IconMenu';\n\ntype Props = {|\n  /** Disables text field. */\n  disabled?: boolean,\n  /** Sets placeholder for the embedded text field. */\n  placeholder?: ?React.Node,\n  /** Fired when the text value changes. */\n  onChange?: string => void,\n  /** Fired when the search icon is clicked. */\n  onRequestSearch: string => void,\n  /** Override the inline-styles of the root element. */\n  style?: Object,\n  /** The value of the text field. */\n  value: string,\n  /** If tags are supported, the function to list the tags menu */\n  buildTagsMenuTemplate?: () => any,\n|};\n\ntype State = {|\n  focus: boolean,\n  value: string,\n  active: boolean,\n|};\n\nconst getStyles = (props: Props, state: State) => {\n  const { disabled } = props;\n  const { value } = state;\n  const nonEmpty = value.length > 0;\n\n  return {\n    root: {\n      height: 48,\n      display: 'flex',\n      justifyContent: 'space-between',\n    },\n    iconButtonClose: {\n      style: {\n        opacity: !disabled ? 0.54 : 0.38,\n        transform: nonEmpty ? 'scale(1, 1)' : 'scale(0, 0)',\n        transition: 'transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1)',\n      },\n      iconStyle: {\n        opacity: nonEmpty ? 1 : 0,\n        transition: 'opacity 200ms cubic-bezier(0.4, 0.0, 0.2, 1)',\n      },\n    },\n    iconButtonSearch: {\n      style: {\n        opacity: !disabled ? 0.54 : 0.38,\n        transform: nonEmpty ? 'scale(0, 0)' : 'scale(1, 1)',\n        transition: 'transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1)',\n        marginRight: -48,\n      },\n      iconStyle: {\n        opacity: nonEmpty ? 0 : 1,\n        transition: 'opacity 200ms cubic-bezier(0.4, 0.0, 0.2, 1)',\n      },\n    },\n    iconButtonFilter: {\n      style: {\n        opacity: !disabled ? 0.54 : 0.38,\n      },\n      iconStyle: {},\n    },\n    input: {\n      width: '100%',\n    },\n    searchContainer: {\n      margin: 'auto 16px',\n      width: '100%',\n    },\n  };\n};\n\n/**\n * Material design search bar,\n * inspired from https://github.com/TeamWertarbyte/material-ui-search-bar\n *\n * Customized to add optional tags button.\n */\nexport default class SearchBar extends React.Component<Props, State> {\n  state = {\n    focus: false,\n    value: this.props.value,\n    active: false,\n  };\n  _textField = React.createRef<TextField>();\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (this.props.value !== nextProps.value) {\n      this.setState({ ...this.state, value: nextProps.value });\n    }\n  }\n\n  focus = () => {\n    if (this._textField.current) {\n      this._textField.current.focus();\n    }\n  };\n\n  blur = () => {\n    if (this._textField.current) {\n      this._textField.current.blur();\n    }\n  };\n\n  handleFocus = () => {\n    this.setState({ focus: true });\n  };\n\n  handleBlur = () => {\n    this.setState({ focus: false });\n    if (this.state.value.trim().length === 0) {\n      this.setState({ value: '' });\n    }\n  };\n\n  handleInput = (e: { target: { value: string } }) => {\n    this.setState({ value: e.target.value });\n    this.props.onChange && this.props.onChange(e.target.value);\n  };\n\n  handleCancel = () => {\n    this.setState({ active: false, value: '' });\n    this.props.onChange && this.props.onChange('');\n  };\n\n  handleKeyPressed = (e: { charCode: number, key: string }) => {\n    if (e.charCode === 13 || e.key === 'Enter') {\n      this.props.onRequestSearch(this.state.value);\n    }\n  };\n\n  render() {\n    const styles = getStyles(this.props, this.state);\n    const { value } = this.state;\n    const { disabled, style, buildTagsMenuTemplate } = this.props;\n\n    return (\n      <Paper\n        style={{\n          ...styles.root,\n          ...style,\n        }}\n      >\n        <div style={styles.searchContainer}>\n          <TextField\n            hintText={this.props.placeholder || <Trans>Search</Trans>}\n            onBlur={this.handleBlur}\n            value={value}\n            onChange={this.handleInput}\n            onKeyUp={this.handleKeyPressed}\n            onFocus={this.handleFocus}\n            fullWidth\n            style={styles.input}\n            underlineShow={false}\n            disabled={disabled}\n            ref={this._textField}\n          />\n        </div>\n        {buildTagsMenuTemplate && (\n          <IconMenu\n            iconButtonElement={\n              <IconButton\n                style={styles.iconButtonFilter.style}\n                disabled={disabled}\n              >\n                <FilterList style={styles.iconButtonFilter.iconStyle} />\n              </IconButton>\n            }\n            buildMenuTemplate={buildTagsMenuTemplate}\n          />\n        )}\n        <IconButton style={styles.iconButtonSearch.style} disabled={disabled}>\n          <Search style={styles.iconButtonSearch.iconStyle} />\n        </IconButton>\n        <IconButton\n          onClick={this.handleCancel}\n          style={styles.iconButtonClose.style}\n          disabled={disabled}\n        >\n          <Close style={styles.iconButtonClose.iconStyle} />\n        </IconButton>\n      </Paper>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport Divider from 'material-ui/Divider';\nimport MenuItem from 'material-ui/MenuItem';\nimport ListIcon from './ListIcon';\nimport { fuzzyOrEmptyFilter } from '../Utils/FuzzyOrEmptyFilter';\n\ntype State = {|\n  focused: boolean,\n  text: ?string,\n|};\n\nexport type DataSource = Array<\n  | {|\n      type: 'separator',\n    |}\n  | {|\n      text: string, // The text used for filtering\n      value: string, // The value to show on screen\n      onClick?: () => void, // If defined, will be called when the item is clicked. onChange/onChoose won't be called.\n      renderLeftIcon?: ?() => React.Element<typeof ListIcon>,\n      renderRightIcon?: ?() => React.Element<typeof ListIcon>,\n    |}\n>;\n\ntype Props = {|\n  value: string,\n  onChange: string => void,\n  onChoose?: string => void, // Optionally called when Enter pressed or item clicked.\n  dataSource: DataSource,\n\n  // Some AutoComplete props that can be reused:\n  id?: string,\n  onBlur?: (event: {|\n    currentTarget: {|\n      value: string,\n    |},\n  |}) => void,\n  errorText?: React.Node,\n  disabled?: boolean,\n  floatingLabelText?: ?React.Node,\n  hintText?: React.Node,\n  fullWidth?: boolean,\n  textFieldStyle?: Object,\n  menuProps?: {|\n    maxHeight?: number,\n  |},\n  popoverProps?: {\n    canAutoPosition?: boolean,\n  },\n  filter?: (string, string) => boolean,\n  openOnFocus?: boolean,\n|};\n\n/**\n * Provides props for material-ui AutoComplete components that specify\n * sensible defaults for size and popover size/positioning.\n */\nconst defaultAutocompleteProps = {\n  fullWidth: true,\n  textFieldStyle: {\n    minWidth: 300,\n  },\n  menuProps: {\n    maxHeight: 250,\n  },\n  popoverProps: {\n    // Ensure that the Popover menu is always visible on screen\n    canAutoPosition: true,\n  },\n  filter: fuzzyOrEmptyFilter,\n};\n\n/**\n * This component works like a material-ui AutoComplete, except that\n * the value passed as props is not forced into the text field when the user\n * is typing. This is useful if the parent component can do modifications on the value:\n * the user won't be interrupted or have the value changed until he blurs the field.\n */\nexport default class SemiControlledAutoComplete extends React.Component<\n  Props,\n  State\n> {\n  state = { focused: false, text: null };\n  _field: ?AutoComplete;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const {\n      floatingLabelText,\n      value,\n      onChange,\n      onChoose,\n      dataSource,\n      onBlur,\n      ...otherProps\n    } = this.props;\n\n    return (\n      <AutoComplete\n        {...defaultAutocompleteProps}\n        {...otherProps}\n        floatingLabelText={floatingLabelText}\n        searchText={this.state.focused ? this.state.text : value}\n        onFocus={() => {\n          this.setState({\n            focused: true,\n            text: value,\n          });\n        }}\n        onUpdateInput={value => {\n          this.setState({\n            focused: true,\n            text: value,\n          });\n        }}\n        onBlur={event => {\n          onChange(event.currentTarget.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n\n          if (onBlur) onBlur(event);\n        }}\n        onNewRequest={data => {\n          if (data.onClick) {\n            data.onClick();\n            return;\n          } else if (\n            data.value &&\n            data.value.props &&\n            typeof data.value.props.value === 'string'\n          ) {\n            const callback = onChoose || onChange;\n            callback(data.value.props.value);\n          } else {\n            console.error(\n              'SemiControlledAutoComplete internal error: no value could be found. This must be fixed and can be due to an upgrade in Material UI or the way data source is created'\n            );\n          }\n          this.focus(); // Keep the focus after choosing an item\n        }}\n        dataSource={dataSource.map(item => {\n          if (item.type === 'separator') {\n            return {\n              text: '',\n              value: <Divider />,\n            };\n          }\n\n          // Encapsulate everything in a MenuItem\n          // (which is what material-ui is doing anyway),\n          // to get a consistent experience.\n          return {\n            text: item.text,\n            value: (\n              <MenuItem\n                primaryText={item.value}\n                rightIcon={\n                  item.renderRightIcon ? item.renderRightIcon() : undefined\n                }\n                leftIcon={\n                  item.renderLeftIcon ? item.renderLeftIcon() : undefined\n                }\n                value={item.value}\n              />\n            ),\n            onClick: item.onClick,\n          };\n        })}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// Note: this file don't use export/imports nor Flow to allow its usage from Node.js\n\nconst optionalRequire = require('../../Utils/OptionalRequire.js');\nconst electron = optionalRequire('electron');\nconst app = electron ? electron.remote.app : null;\nconst fs = optionalRequire('fs');\nconst path = optionalRequire('path');\nconst process = optionalRequire('process');\nvar isDarwin = process && /^darwin/.test(process.platform);\n\nconst tryPath = (\n  path /*: string*/,\n  onExists /*: string => void*/,\n  onNoAccess /*: Function*/\n) =>\n  fs.access(path, fs.constants.R_OK, err => {\n    if (!err) onExists(path);\n    else onNoAccess();\n  });\n\nconst findGDJS = (cb /*: (?string) => void*/) => {\n  if (!path || !process || !fs) return '';\n\n  const appPath = app ? app.getAppPath() : process.cwd();\n\n  // The app path is [...]/*.app/Contents/Resources/app.asar on macOS\n  // and [...]/resources/app.asar on other OSes.\n  const pathToRoot = isDarwin ? '../../../../' : path.join('..', '..');\n  const rootPath = path.join(appPath, pathToRoot);\n\n  // First try to find GDJS in the parent folder (when newIDE is inside IDE)\n  tryPath(path.join(rootPath, '..', 'JsPlatform'), cb, () => {\n    // Or in the resources (for a standalone newIDE)\n    tryPath(path.join(appPath, '..', 'GDJS'), cb, () => {\n      // Or in the resources when developing with Electron\n      const devPath = path.join(\n        appPath,\n        '..',\n        '..',\n        'app',\n        'resources',\n        'GDJS'\n      );\n      tryPath(devPath, cb, () => {\n        cb(null);\n      });\n    });\n  });\n};\n\nmodule.exports = {\n  findGDJS,\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\nimport Info from 'material-ui/svg-icons/action/info';\nimport Warning from 'material-ui/svg-icons/alert/warning';\nimport { Line } from './Grid';\nimport { FlatButton } from 'material-ui';\n\nconst styles = {\n  icon: { width: 28, height: 28, marginRight: 10, marginLeft: 10 },\n  content: { flex: 1 },\n};\n\ntype Props = {|\n  kind: 'info' | 'warning',\n  children: React.Node,\n  onHide?: () => void,\n|};\n\n/**\n * Show an hint, warning or other message. If you want to allow the user\n * to permanently hide the hint/alert/message, see DismissableAlertMessage.\n */\nconst AlertMessage = ({ kind, children, onHide }: Props) => (\n  <Paper>\n    <Line noMargin alignItems=\"center\">\n      {kind === 'info' && <Info style={styles.icon} />}\n      {kind === 'warning' && <Warning style={styles.icon} />}\n      <p style={styles.content}>{children}</p>\n      {onHide && (\n        <FlatButton label={<Trans>Hide</Trans>} onClick={() => onHide()} />\n      )}\n    </Line>\n  </Paper>\n);\n\nexport default AlertMessage;\n","// @flow\nimport optionalRequire from './OptionalRequire.js';\nconst electron = optionalRequire('electron');\nconst electronClipboard = electron ? electron.clipboard : null;\n\nexport type ClipboardKind = string;\n\nlet internalClipboard = '';\n\nconst mangleClipboardKind = (kind: ClipboardKind): string => {\n  // Mangle the name with GDevelop specific strings and random\n  // characters so that the probability that something that is not\n  // a valid GDevelop clipboard content is recognized as valid is almost 0.\n  return 'GDEVELOP_' + kind + '_CLIPBOARD_KIND-jsBdHbLy912y8Rc';\n};\n\nexport default class Clipboard {\n  static set(kind: ClipboardKind, object: any) {\n    const text = JSON.stringify({\n      '000kind': mangleClipboardKind(kind), /// 000 to ensure the key is written first.\n      content: object,\n    });\n\n    if (electronClipboard) {\n      electronClipboard.writeText(text);\n    } else {\n      internalClipboard = text;\n    }\n  }\n\n  static has(kind: ClipboardKind): boolean {\n    let text = '';\n    if (electronClipboard) {\n      text = electronClipboard.readText();\n    } else {\n      text = internalClipboard;\n    }\n\n    return text.indexOf(mangleClipboardKind(kind)) === 12; /// 12 is the position of '000kind' value\n  }\n\n  static get(kind: ClipboardKind): any {\n    if (!Clipboard.has(kind)) return null;\n\n    let text = '';\n    if (electronClipboard) {\n      text = electronClipboard.readText();\n    } else {\n      text = internalClipboard;\n    }\n\n    try {\n      const parsedText = JSON.parse(text);\n      return parsedText.content;\n    } catch (e) {\n      console.warn('The clipboard content is not valid JSON');\n      return null;\n    }\n  }\n}\n","// @flow\nimport RenderedUnknownInstance from './Renderers/RenderedUnknownInstance';\nimport RenderedSpriteInstance from './Renderers/RenderedSpriteInstance';\nimport RenderedTiledSpriteInstance from './Renderers/RenderedTiledSpriteInstance';\nimport RenderedPanelSpriteInstance from './Renderers/RenderedPanelSpriteInstance';\nimport RenderedTextInstance from './Renderers/RenderedTextInstance';\nimport RenderedShapePainterInstance from './Renderers/RenderedShapePainterInstance';\nimport RenderedTextEntryInstance from './Renderers/RenderedTextEntryInstance';\nimport RenderedParticleEmitterInstance from './Renderers/RenderedParticleEmitterInstance';\nimport PixiResourcesLoader from './PixiResourcesLoader';\nimport ResourcesLoader from '../ResourcesLoader';\nimport RenderedInstance from './Renderers/RenderedInstance';\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * A service containing functions that are called to render instances\n * of objects in a PIXI.Container.\n */\nexport default {\n  renderers: {\n    unknownObjectType: RenderedUnknownInstance,\n    Sprite: RenderedSpriteInstance,\n    'TiledSpriteObject::TiledSprite': RenderedTiledSpriteInstance,\n    'PanelSpriteObject::PanelSprite': RenderedPanelSpriteInstance,\n    'TextObject::Text': RenderedTextInstance,\n    'PrimitiveDrawing::Drawer': RenderedShapePainterInstance,\n    'TextEntryObject::TextEntry': RenderedTextEntryInstance,\n    'ParticleSystem::ParticleEmitter': RenderedParticleEmitterInstance,\n  },\n  getThumbnail: function(project: gdProject, object: gdObject) {\n    var objectType = object.getType();\n    if (this.renderers.hasOwnProperty(objectType))\n      return this.renderers[objectType].getThumbnail(\n        project,\n        ResourcesLoader,\n        object\n      );\n    else\n      return this.renderers['unknownObjectType'].getThumbnail(\n        project,\n        ResourcesLoader,\n        object\n      );\n  },\n  createNewInstanceRenderer: function(\n    project: gdProject,\n    layout: gdLayout,\n    instance: gdInitialInstance,\n    associatedObject: gdObject,\n    pixiContainer: any\n  ) {\n    var objectType = associatedObject.getType();\n    if (this.renderers.hasOwnProperty(objectType))\n      return new this.renderers[objectType](\n        project,\n        layout,\n        instance,\n        associatedObject,\n        pixiContainer,\n        PixiResourcesLoader\n      );\n    else {\n      console.warn(\n        `Object with type ${objectType} has no instance renderer registered. Please use registerInstanceRenderer to register your renderer.`\n      );\n      return new this.renderers['unknownObjectType'](\n        project,\n        layout,\n        instance,\n        associatedObject,\n        pixiContainer,\n        PixiResourcesLoader\n      );\n    }\n  },\n  registerInstanceRenderer: function(objectType: string, renderer: any) {\n    if (!renderer.getThumbnail) {\n      console.warn(\n        `Tried to register renderer for object \"${objectType}\", but getThumbnail is not defined.`\n      );\n      return;\n    }\n\n    if (this.renderers.hasOwnProperty(objectType)) {\n      console.warn(\n        `Tried to register renderer for object \"${objectType}\", but a renderer already exists.`\n      );\n      return;\n    }\n\n    console.info(`Properly registered renderer for object \"${objectType}\".`);\n    this.renderers[objectType] = renderer;\n  },\n  gd, // Expose gd so that it can be used by renderers\n  PIXI, // Expose PIXI so that it can be used by renderers\n  RenderedInstance, // Expose the base class for renderers so that it can be used by renderers\n};\n","/**\n * RenderedInstance is the base class used for creating renderers of instances,\n * which display on the scene editor, using Pixi.js, the instance of an object (see InstancesEditor).\n *\n * @class RenderedInstance\n * @constructor\n */\nfunction RenderedInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  this._pixiObject = null;\n  this._instance = instance;\n  this._associatedObject = associatedObject;\n  this._pixiContainer = pixiContainer;\n  this._project = project;\n  this._layout = layout;\n  this._pixiResourcesLoader = pixiResourcesLoader;\n  this.wasUsed = true; //Used by InstancesRenderer to track rendered instance that are not used anymore.\n}\n\n/**\n * Convert an angle from degrees to radians.\n */\nRenderedInstance.toRad = function(angleInDegrees) {\n  return (angleInDegrees / 180) * 3.14159;\n};\n\n/**\n * Called when the scene editor is rendered.\n */\nRenderedInstance.prototype.update = function() {\n  //Nothing to do.\n};\n\nRenderedInstance.prototype.getPixiObject = function() {\n  return this._pixiObject;\n};\n\nRenderedInstance.prototype.getInstance = function() {\n  return this._instance;\n};\n\n/**\n * Called to notify the instance renderer that its associated instance was removed from\n * the scene. The PIXI object should probably be removed from the container: This is what\n * the default implementation of the method does.\n */\nRenderedInstance.prototype.instanceRemovedFromScene = function() {\n  if (\n    this._pixiObject !== null &&\n    this._pixiContainer.children.indexOf(this._pixiObject) !== -1\n  )\n    this._pixiContainer.removeChild(this._pixiObject);\n};\n\nRenderedInstance.prototype.getOriginX = function() {\n  return 0;\n};\n\nRenderedInstance.prototype.getOriginY = function() {\n  return 0;\n};\n\n/**\n * Return the width of the instance when the instance doesn't have a custom size.\n */\nRenderedInstance.prototype.getDefaultWidth = function() {\n  return 32;\n};\n\n/**\n * Return the height of the instance when the instance doesn't have a custom size.\n */\nRenderedInstance.prototype.getDefaultHeight = function() {\n  return 32;\n};\n\nexport default RenderedInstance;\n","// @flow\nimport * as React from 'react';\nimport { serializeToJSObject } from '../../Utils/Serializer';\nimport { rgbToHexNumber } from '../../Utils/ColorTransformer';\n\n//TODO: try BaseEditor<Props,State>\nexport default class BaseEditor extends React.Component<*, *> {\n  static defaultProps = {\n    setToolbar: () => {},\n  };\n\n  getProject(): ?gdProject {\n    return this.props.project;\n  }\n\n  getLayout(): ?gdLayout {\n    return null;\n  }\n\n  saveUiSettings = () => {\n    // Implement in the editor, if needed.\n  };\n\n  shouldComponentUpdate(nextProps: *) {\n    // Prevent any update to the editor if the editor is not active,\n    // and so not visible to the user. For editors that do special work when isActive\n    // is set to false (for example to disable PIXI rendering), shouldComponentUpdate\n    // should be overriden with a proper implementation.\n    if (!nextProps.isActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  updateToolbar() {\n    console.warn('No toolbar defined for this editor');\n\n    if (this.props.setToolbar) this.props.setToolbar(null);\n  }\n\n  getSerializedElements() {\n    throw new Error(\n      'The editor has not implemented getSerializedElements to return what should be serialized'\n    );\n  }\n\n  static getLayoutSerializedElements(layout: ?gdLayout) {\n    if (!layout) return {};\n\n    return {\n      windowTitle: layout.getWindowDefaultTitle(),\n      layers: serializeToJSObject(layout, 'serializeLayersTo'),\n      backgroundColor:\n        '' +\n        rgbToHexNumber(\n          layout.getBackgroundColorRed(),\n          layout.getBackgroundColorGreen(),\n          layout.getBackgroundColorBlue()\n        ),\n    };\n  }\n}\n","// TODO: add flow\nimport createReactContext, { type Context } from 'create-react-context';\n\nexport type UserProfile = {|\n  authenticated: boolean,\n  profile: ?Profile,\n  limits: ?Limits,\n  usages: ?Usages,\n  subscription: ?Subscription,\n  onLogout: () => void,\n  onLogin: () => void,\n  onRefreshUserProfile: () => void,\n|};\n\nexport const initialUserProfile = {\n  authenticated: false,\n  profile: null,\n  subscription: null,\n  usages: null,\n  limits: null,\n  onLogout: () => {},\n  onLogin: () => {},\n  onRefreshUserProfile: () => {},\n};\n\nconst UserProfileContext: Context<UserProfile> = createReactContext(\n  initialUserProfile\n);\n\nexport default UserProfileContext;\n","// @flow\n\nexport const getHelpLink = (path: string): string =>\n  `http://wiki.compilgames.net/doku.php/gdevelop5${path}?utm_source=gdevelop&utm_medium=help-link`;\n","// @flow\nimport * as React from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport Add from 'material-ui/svg-icons/content/add';\nimport Brush from 'material-ui/svg-icons/image/brush';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n  type ResourceKind,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport ResourcesLoader from '../ResourcesLoader';\nimport { applyResourceDefaults } from './ResourceUtils';\nimport SemiControlledAutoComplete, {\n  type DataSource,\n} from '../UI/SemiControlledAutoComplete';\n\ntype Props = {|\n  project: gdProject,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  resourcesLoader: typeof ResourcesLoader,\n  resourceKind: ResourceKind,\n  fullWidth?: boolean,\n  initialResourceName: string,\n  onChange: string => void,\n  floatingLabelText?: React.Node,\n  hintText?: React.Node,\n|};\n\ntype State = {|\n  notExistingError: boolean,\n  resourceName: string,\n|};\n\nconst styles = {\n  container: { display: 'flex', flex: 1, alignItems: 'baseline' },\n};\n\nexport default class ResourceSelector extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      notExistingError: false,\n      resourceName: props.initialResourceName || '',\n    };\n\n    const { project } = props;\n    if (project) {\n      this._loadFrom(project.getResourcesManager());\n    }\n  }\n\n  allResourcesNames: Array<string>;\n  autoCompleteData: DataSource;\n  _autoComplete: ?SemiControlledAutoComplete;\n\n  focus() {\n    if (this._autoComplete) this._autoComplete.focus();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.initialResourceName !== this.props.initialResourceName) {\n      this.setState({\n        resourceName: nextProps.initialResourceName || '',\n      });\n    }\n  }\n\n  _getResourceSourceItems(): DataSource {\n    const sources = this.props.resourceSources || [];\n    return [\n      ...sources\n        .filter(source => source.kind === this.props.resourceKind)\n        .map(source => ({\n          text: '',\n          value: source.displayName,\n          renderRightIcon: () => <Add />,\n          onClick: () => this._addFrom(source),\n        })),\n      {\n        type: 'separator',\n      },\n    ];\n  }\n\n  _loadFrom(resourcesManager: gdResourcesManager) {\n    this.allResourcesNames = resourcesManager.getAllResourceNames().toJSArray();\n    if (this.props.resourceKind) {\n      this.allResourcesNames = this.allResourcesNames.filter(resourceName => {\n        return (\n          resourcesManager.getResource(resourceName).getKind() ===\n          this.props.resourceKind\n        );\n      });\n    }\n    const resourceSourceItems = this._getResourceSourceItems();\n    const resourceItems = this.allResourcesNames.map(resourceName => ({\n      text: resourceName,\n      value: resourceName,\n    }));\n    this.autoCompleteData = [...resourceSourceItems, ...resourceItems];\n  }\n\n  _addFrom = (source: ResourceSource) => {\n    if (!source) return;\n\n    const { project, onChooseResource } = this.props;\n    onChooseResource(source.name, false)\n      .then(resources => {\n        if (!resources.length) return;\n        const resource = resources[0];\n        applyResourceDefaults(project, resource);\n\n        // addResource will check if a resource with the same name exists, and if it is\n        // the case, no new resource will be added.\n        project.getResourcesManager().addResource(resource);\n\n        this._loadFrom(project.getResourcesManager());\n        this._onChangeResourceName(resource.getName());\n\n        // Important, we are responsible for deleting the resources that were given to us.\n        // Otherwise we have a memory leak, as calling addResource is making a copy of the resource.\n        resources.forEach(resource => resource.delete());\n      })\n      .catch(err => {\n        // TODO: Display an error message\n        console.error('Unable to choose a resource', err);\n      });\n  };\n\n  _onChangeResourceName = (resourceName: string) => {\n    this.setState(\n      {\n        resourceName,\n        notExistingError: this.allResourcesNames.indexOf(resourceName) === -1,\n      },\n      () => {\n        if (!this.state.notExistingError) {\n          if (this.props.onChange) this.props.onChange(resourceName);\n        }\n      }\n    );\n  };\n\n  _editWith = (resourceExternalEditor: ResourceExternalEditor) => {\n    const { project, resourcesLoader, resourceKind } = this.props;\n    const { resourceName } = this.state;\n    const resourcesManager = project.getResourcesManager();\n    const initialResource = resourcesManager.getResource(resourceName);\n\n    let initialResourceMetadata = {};\n    const initialResourceMetadataRaw = initialResource.getMetadata();\n    if (initialResourceMetadataRaw) {\n      try {\n        initialResourceMetadata = JSON.parse(initialResourceMetadataRaw);\n      } catch (e) {\n        console.error('Malformed metadata', e);\n      }\n    }\n\n    if (resourceKind === 'image') {\n      const resourceNames = [];\n      if (resourcesManager.hasResource(resourceName)) {\n        resourceNames.push(resourceName);\n      }\n      const externalEditorOptions = {\n        project,\n        resourcesLoader,\n        singleFrame: true,\n        resourceNames,\n        extraOptions: {\n          fps: 0,\n          name: resourceName,\n          isLooping: false,\n          externalEditorData: initialResourceMetadata,\n        },\n        onChangesSaved: resources => {\n          if (!resources.length) return;\n\n          // Burst the ResourcesLoader cache to force images to be reloaded (and not cached by the browser).\n          resourcesLoader.burstUrlsCacheForResources(project, [\n            resources[0].name,\n          ]);\n          this.props.onChange(resources[0].name);\n        },\n      };\n      resourceExternalEditor.edit(externalEditorOptions);\n    } else if (resourceKind === 'audio') {\n      const externalEditorOptions = {\n        project,\n        resourcesLoader,\n        resourceNames: [resourceName],\n        extraOptions: {\n          initialResourceMetadata,\n        },\n        onChangesSaved: (newResourceData, newResourceName) => {\n          // Burst the ResourcesLoader cache to force audio to be reloaded (and not cached by the browser).\n          resourcesLoader.burstUrlsCacheForResources(project, [\n            newResourceName,\n          ]);\n          this.props.onChange(newResourceName);\n        },\n      };\n      resourceExternalEditor.edit(externalEditorOptions);\n    }\n  };\n\n  render() {\n    const errorText = this.state.notExistingError\n      ? 'This resource does not exist in the game'\n      : null;\n\n    const externalEditors = this.props.resourceExternalEditors.filter(\n      externalEditor => externalEditor.kind === this.props.resourceKind\n    );\n\n    return (\n      <div style={styles.container}>\n        <SemiControlledAutoComplete\n          floatingLabelText={this.props.floatingLabelText}\n          hintText={this.props.hintText}\n          openOnFocus\n          dataSource={this.autoCompleteData || []}\n          value={this.state.resourceName}\n          onChange={this._onChangeResourceName}\n          errorText={errorText}\n          fullWidth={this.props.fullWidth}\n          ref={autoComplete => (this._autoComplete = autoComplete)}\n        />\n        {!!externalEditors.length && (\n          <IconMenu\n            iconButtonElement={\n              <IconButton>\n                <Brush />\n              </IconButton>\n            }\n            buildMenuTemplate={() =>\n              externalEditors.map(externalEditor => ({\n                label: externalEditor.displayName,\n                click: () => this._editWith(externalEditor),\n              }))\n            }\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport { mapFor } from '../Utils/MapFor';\nimport flatten from 'lodash/flatten';\nimport { type SelectedTags, hasStringAllTags } from '../Utils/TagsHelper';\nconst gd = global.gd;\n\nexport type EnumeratedObjectMetadata = {|\n  extension: gdPlatformExtension,\n  objectMetadata: gdObjectMetadata,\n  name: string,\n  fullName: string,\n  description: string,\n  iconFilename: string,\n|};\n\nexport type ObjectWithContext = {|\n  object: gdObject,\n  global: boolean,\n|};\n\nexport type GroupWithContext = {|\n  group: gdObjectGroup,\n  global: boolean,\n|};\n\nexport type ObjectWithContextList = Array<ObjectWithContext>;\nexport type GroupWithContextList = Array<GroupWithContext>;\n\nexport const enumerateObjects = (\n  project: gdProject,\n  objectsContainer: gdObjectsContainer,\n  type: ?string = undefined\n) => {\n  const filterObject = (object: gdObject): boolean => {\n    return (\n      !type ||\n      gd.getTypeOfObject(project, objectsContainer, object.getName(), false) ===\n        type\n    );\n  };\n\n  const containerObjectsList: ObjectWithContextList = mapFor(\n    0,\n    objectsContainer.getObjectsCount(),\n    i => objectsContainer.getObjectAt(i)\n  )\n    .filter(filterObject)\n    .map((object: gdObject): ObjectWithContext => ({ object, global: false }));\n\n  const projectObjectsList: ObjectWithContextList =\n    project === objectsContainer\n      ? []\n      : mapFor(0, project.getObjectsCount(), i => project.getObjectAt(i))\n          .filter(filterObject)\n          .map(\n            (object: gdObject): ObjectWithContext => ({\n              object,\n              global: true,\n            })\n          );\n\n  const allObjectsList: ObjectWithContextList = containerObjectsList.concat(\n    projectObjectsList\n  );\n\n  return {\n    containerObjectsList,\n    projectObjectsList,\n    allObjectsList,\n  };\n};\n\nexport const enumerateObjectTypes = (\n  project: gdProject\n): Array<EnumeratedObjectMetadata> => {\n  const platform = project.getCurrentPlatform();\n  const extensionsList = platform.getAllPlatformExtensions();\n\n  return flatten(\n    mapFor(0, extensionsList.size(), i => {\n      const extension = extensionsList.at(i);\n\n      return extension\n        .getExtensionObjectsTypes()\n        .toJSArray()\n        .map(objectType => extension.getObjectMetadata(objectType))\n        .map(objectMetadata => ({\n          extension,\n          objectMetadata,\n          name: objectMetadata.getName(),\n          fullName: objectMetadata.getFullName(),\n          description: objectMetadata.getDescription(),\n          iconFilename: objectMetadata.getIconFilename(),\n        }));\n    })\n  );\n};\n\nexport type ObjectFilteringOptions = {|\n  searchText: string,\n  selectedTags: SelectedTags,\n|};\n\nexport const filterObjectsList = (\n  list: ObjectWithContextList,\n  { searchText, selectedTags }: ObjectFilteringOptions\n): ObjectWithContextList => {\n  if (!searchText && !selectedTags.length) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list\n    .filter((objectWithContext: ObjectWithContext) => {\n      if (!selectedTags.length) return true;\n\n      const objectTags = objectWithContext.object.getTags();\n      return hasStringAllTags(objectTags, selectedTags);\n    })\n    .filter((objectWithContext: ObjectWithContext) => {\n      return (\n        objectWithContext.object\n          .getName()\n          .toLowerCase()\n          .indexOf(lowercaseSearchText) !== -1\n      );\n    });\n};\n\nexport const filterGroupsList = (\n  list: GroupWithContextList,\n  searchText: string\n): GroupWithContextList => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter((groupWithContext: GroupWithContext) => {\n    return (\n      groupWithContext.group\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n    );\n  });\n};\n\nexport const enumerateGroups = (\n  objectGroups: gdObjectGroupsContainer\n): Array<gdObjectGroup> => {\n  return mapFor(0, objectGroups.count(), i => {\n    return objectGroups.getAt(i);\n  });\n};\n\nexport const enumerateObjectsAndGroups = (\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  type: ?string = undefined\n) => {\n  const filterObject = (object: gdObject): boolean => {\n    return (\n      !type ||\n      gd.getTypeOfObject(\n        globalObjectsContainer,\n        objectsContainer,\n        object.getName(),\n        false\n      ) === type\n    );\n  };\n  const filterGroup = (group: gdObjectGroup): boolean => {\n    return (\n      !type ||\n      gd.getTypeOfObject(\n        globalObjectsContainer,\n        objectsContainer,\n        group.getName(),\n        true\n      ) === type\n    );\n  };\n\n  const containerObjectsList: ObjectWithContextList = mapFor(\n    0,\n    objectsContainer.getObjectsCount(),\n    i => objectsContainer.getObjectAt(i)\n  )\n    .filter(filterObject)\n    .map(object => ({ object, global: false }));\n\n  const containerGroups = objectsContainer.getObjectGroups();\n  const containerGroupsList: GroupWithContextList = enumerateGroups(\n    containerGroups\n  )\n    .filter(filterGroup)\n    .map(group => ({ group, global: false }));\n\n  const projectObjectsList: ObjectWithContextList =\n    globalObjectsContainer === objectsContainer\n      ? []\n      : mapFor(0, globalObjectsContainer.getObjectsCount(), i =>\n          globalObjectsContainer.getObjectAt(i)\n        )\n          .filter(filterObject)\n          .map(object => ({ object, global: true }));\n\n  const projectGroups = globalObjectsContainer.getObjectGroups();\n  const projectGroupsList: GroupWithContextList =\n    globalObjectsContainer === objectsContainer\n      ? []\n      : enumerateGroups(projectGroups)\n          .filter(filterGroup)\n          .map(group => ({ group, global: true }));\n\n  const allObjectsList: ObjectWithContextList = containerObjectsList.concat(\n    projectObjectsList\n  );\n  const allGroupsList: GroupWithContextList = containerGroupsList.concat(\n    projectGroupsList\n  );\n\n  return {\n    containerObjectsList,\n    projectObjectsList,\n    allObjectsList,\n    containerGroupsList,\n    projectGroupsList,\n    allGroupsList,\n  };\n};\n","// @flow\n\n// Helpers to manipulate tags. See also EditTagsDialog.js\n\nexport type Tags = Array<string>;\nexport type SelectedTags = Tags;\n\nexport const removeTag = (tags: Tags, tag: string): Tags => {\n  return tags.filter(selectedTag => selectedTag !== tag);\n};\n\nexport const addTags = (tags: Tags, newTags: Tags): Tags => {\n  return Array.from(new Set([...tags, ...newTags]));\n};\n\nexport type BuildTagsMenuTemplateOptions = {|\n  noTagLabel: string,\n  getAllTags: () => Array<string>,\n  selectedTags: SelectedTags,\n  onChange: SelectedTags => void,\n  onEditTags?: () => void,\n  editTagsLabel?: string,\n|};\n\nexport const buildTagsMenuTemplate = ({\n  noTagLabel,\n  getAllTags,\n  selectedTags,\n  onChange,\n  onEditTags,\n  editTagsLabel,\n}: BuildTagsMenuTemplateOptions): Array<any> => {\n  const allTags = getAllTags();\n  const footerMenuItems =\n    onEditTags && editTagsLabel\n      ? [\n          {\n            type: 'separator',\n          },\n          {\n            label: editTagsLabel,\n            click: onEditTags,\n          },\n        ]\n      : [];\n\n  if (!allTags.length) {\n    return [\n      {\n        label: noTagLabel,\n        enabled: false,\n      },\n      ...footerMenuItems,\n    ];\n  }\n\n  return allTags\n    .map(tag => ({\n      type: 'checkbox',\n      label: tag,\n      checked: selectedTags.includes(tag),\n      click: () => {\n        if (selectedTags.includes(tag)) {\n          onChange(removeTag(selectedTags, tag));\n        } else {\n          onChange(addTags(selectedTags, [tag]));\n        }\n      },\n    }))\n    .concat(footerMenuItems);\n};\n\nexport const getTagsFromString = (tagsString: string): Tags => {\n  if (tagsString.trim() === '') return [];\n\n  return tagsString.split(',').map(tag => tag.trim());\n};\n\nexport const getStringFromTags = (tags: Tags): string => {\n  return tags.join(', ');\n};\n\nexport const hasStringAllTags = (tagsString: string, tags: Tags) => {\n  for (const tag of tags) {\n    if (tagsString.indexOf(tag) === -1) return false;\n  }\n\n  return true;\n};\n","import React, { Component } from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst style = {\n  display: 'flex',\n  alignItems: 'center',\n  paddingLeft: 8,\n  paddingRight: 8,\n};\n\nclass ThemableMiniToolbar extends Component {\n  render() {\n    const { muiTheme, justifyContent, smallest } = this.props;\n\n    return (\n      <div\n        style={{\n          ...style,\n          height: smallest ? 34 : 48,\n          backgroundColor: muiTheme.toolbar.backgroundColor,\n          justifyContent,\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nconst toolbarTextStyle = {\n  marginRight: 5,\n};\n\nexport const MiniToolbarText = ({ children }) => (\n  <p style={toolbarTextStyle}>{children}</p>\n);\n\nexport default muiThemeable()(ThemableMiniToolbar);\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport { withSerializableObject } from '../Utils/SerializableObjectEditorContainer';\nimport VariablesList from './index';\n\nconst gd = global.gd;\n\nexport class VariablesEditorDialog extends Component {\n  render() {\n    const {\n      onCancel,\n      onApply,\n      open,\n      onEditObjectVariables,\n      title,\n      emptyExplanationMessage,\n      emptyExplanationSecondMessage,\n      variablesContainer,\n    } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        onClick={this.props.onCancel}\n        key={'Cancel'}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary\n        keyboardFocused\n        onClick={onApply}\n        key={'Apply'}\n      />,\n    ];\n    const secondaryActions = onEditObjectVariables ? (\n      <FlatButton\n        label={<Trans>Edit Object Variables</Trans>}\n        primary={false}\n        onClick={onEditObjectVariables}\n      />\n    ) : null;\n\n    return (\n      <Dialog\n        noMargin\n        actions={actions}\n        modal\n        open={open}\n        onRequestClose={onCancel}\n        autoScrollBodyContent\n        secondaryActions={secondaryActions}\n        title={title}\n      >\n        <VariablesList\n          variablesContainer={variablesContainer}\n          emptyExplanationMessage={emptyExplanationMessage}\n          emptyExplanationSecondMessage={emptyExplanationSecondMessage}\n          onSizeUpdated={\n            () =>\n              this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n          }\n        />\n      </Dialog>\n    );\n  }\n}\n\nexport default withSerializableObject(VariablesEditorDialog, {\n  newObjectCreator: () => new gd.VariablesContainer(),\n  propName: 'variablesContainer',\n});\n","// @flow\nimport ResourcesLoader from '../ResourcesLoader';\nimport optionalRequire from '../Utils/OptionalRequire.js';\nconst fs = optionalRequire('fs');\nconst path = optionalRequire('path');\nconst gd = global.gd;\n\nexport const RESOURCE_EXTENSIONS = {\n  image: 'png,jpg,jpeg,PNG,JPG,JPEG',\n  audio: 'wav,mp3,ogg,WAV,MP3,OGG',\n  font: 'ttf,ttc,otf,TTF,TTC,OTF',\n  video: 'mp4,MP4',\n};\n\nexport const createOrUpdateResource = (\n  project: gdProject,\n  newlyCreatedResource: gdResource,\n  resourceName: string\n) => {\n  const resourcesManager = project.getResourcesManager();\n  if (resourcesManager.hasResource(resourceName)) {\n    resourcesManager.removeResource(resourceName);\n  }\n  newlyCreatedResource.setFile(resourceName);\n  newlyCreatedResource.setName(resourceName);\n  applyResourceDefaults(project, newlyCreatedResource);\n\n  // Important, we are responsible for deleting the resources that was given to us.\n  // Otherwise we have a memory leak.\n  resourcesManager.addResource(newlyCreatedResource);\n\n  newlyCreatedResource.delete();\n};\n\n/**\n * Get the local path of a resource. This works by asking the ResourcesLoader\n * for the resource URL, then stripping anything that is specific to a URL.\n */\nexport const getLocalResourceFullPath = (\n  project: gdProject,\n  resourceName: string\n) => {\n  let resourcePath = ResourcesLoader.getResourceFullUrl(\n    project,\n    resourceName\n  ).substring(7 /* Remove \"file://\" from the URL to get a local path */);\n\n  if (resourcePath.indexOf('?cache=') !== -1) {\n    // Remove, if needed, the cache bursting argument from the URL.\n    resourcePath = resourcePath.substring(\n      0,\n      resourcePath.lastIndexOf('?cache=')\n    );\n  }\n  return resourcePath;\n};\n\nexport const isPathInProjectFolder = (\n  project: gdProject,\n  resourcePath: string\n) => {\n  const projectPath = path.dirname(project.getProjectFile());\n  return resourcePath.includes(projectPath);\n};\n\nexport const copyAllToProjectFolder = (\n  project: gdProject,\n  resourcePaths: Array<string>\n): Promise<Array<string>> => {\n  if (!fs || !path) {\n    return Promise.resolve(resourcePaths);\n  }\n\n  const projectPath = path.dirname(project.getProjectFile());\n\n  return Promise.all(\n    resourcePaths.map(resourcePath => {\n      if (isPathInProjectFolder(project, resourcePath)) {\n        return resourcePath;\n      }\n\n      const resourceBasename = path.basename(resourcePath);\n      const resourceNewPath = path.join(projectPath, resourceBasename);\n\n      return new Promise(resolve => {\n        fs.copyFile(resourcePath, resourceNewPath, err => {\n          if (err) {\n            return resolve(resourcePath);\n          }\n\n          return resolve(resourceNewPath);\n        });\n      });\n    })\n  );\n};\n\nexport const getResourceFilePathStatus = (\n  project: gdProject,\n  resourceName: string\n) => {\n  if (!fs) return 0;\n  const resourcePath = path.normalize(\n    getLocalResourceFullPath(project, resourceName)\n  );\n\n  // The resource path doesn't exist\n  if (!fs.existsSync(resourcePath)) return 'error';\n\n  // The resource path is outside of the project folder\n  if (!isPathInProjectFolder(project, resourcePath)) return 'warning';\n\n  // The resource path seems ok\n  return '';\n};\n\nexport const applyResourceDefaults = (\n  project: gdProject,\n  newResource: gdResource\n) => {\n  if (newResource instanceof gd.ImageResource) {\n    newResource.setSmooth(project.getScaleMode() !== 'nearest');\n  }\n};\n","// @flow\n\n// ListItem created must have consistent keys that include their type\n// (object, group, instruction) to allow them to be living\n// in the same list (in search results) and be selected.\n\nexport const getObjectOrObjectGroupListItemKey = (\n  objectOrObjectGroupName: string\n) => `object-or-object-group-${objectOrObjectGroupName}`;\nexport const getInstructionListItemKey = (instructionType: string) =>\n  `instruction-${instructionType}`;\nexport const getSubheaderListItemKey = (subheader: string) =>\n  `subheader-${subheader}`;\n","// @flow\nimport { type I18n as I18nType } from '@lingui/core';\nimport { mapVector, mapFor } from '../Utils/MapFor';\nimport { caseSensitiveSlug } from '../Utils/CaseSensitiveSlug';\nimport {\n  declareInstructionOrExpressionMetadata,\n  declareBehaviorInstructionOrExpressionMetadata,\n  declareEventsFunctionParameters,\n  declareBehaviorMetadata,\n  declareExtension,\n  isBehaviorLifecycleFunction,\n  declareBehaviorPropertiesInstructionAndExpressions,\n} from './MetadataDeclarationHelpers';\n\nconst gd = global.gd;\n\nexport type EventsFunctionCodeWriter = {|\n  getIncludeFileFor: (functionName: string) => string,\n  writeFunctionCode: (functionName: string, code: string) => Promise<void>,\n  writeBehaviorCode: (behaviorName: string, code: string) => Promise<void>,\n|};\n\ntype Options = {|\n  skipCodeGeneration?: boolean,\n  eventsFunctionCodeWriter: EventsFunctionCodeWriter,\n  i18n: I18nType,\n|};\n\nconst mangleName = (name: string) => {\n  return caseSensitiveSlug(name, '_', []);\n};\n\n/**\n * Load all events functions of a project in extensions\n */\nexport const loadProjectEventsFunctionsExtensions = (\n  project: gdProject,\n  eventsFunctionCodeWriter: EventsFunctionCodeWriter,\n  i18n: I18nType\n): Promise<Array<void>> => {\n  return Promise.all(\n    // First pass: generate extensions from the events functions extensions,\n    // without writing code for the functions. This is useful as events in functions\n    // could be using other functions, which would not yet be available as\n    // extensions.\n    mapFor(0, project.getEventsFunctionsExtensionsCount(), i => {\n      return loadProjectEventsFunctionsExtension(\n        project,\n        project.getEventsFunctionsExtensionAt(i),\n        { skipCodeGeneration: true, eventsFunctionCodeWriter, i18n }\n      );\n    })\n  ).then(() =>\n    Promise.all(\n      // Second pass: generate extensions, including code.\n      mapFor(0, project.getEventsFunctionsExtensionsCount(), i => {\n        return loadProjectEventsFunctionsExtension(\n          project,\n          project.getEventsFunctionsExtensionAt(i),\n          {\n            skipCodeGeneration: false,\n            eventsFunctionCodeWriter,\n            i18n,\n          }\n        );\n      })\n    )\n  );\n};\n\nconst loadProjectEventsFunctionsExtension = (\n  project: gdProject,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  options: Options\n): Promise<void> => {\n  return generateEventsFunctionExtension(\n    project,\n    eventsFunctionsExtension,\n    options\n  ).then(extension => {\n    gd.JsPlatform.get().addNewExtension(extension);\n    extension.delete();\n  });\n};\n\n/**\n * Generate the code for the events based extension\n */\nconst generateEventsFunctionExtension = (\n  project: gdProject,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  options: Options\n): Promise<gdEventsFunctionsExtension> => {\n  const extension = new gd.PlatformExtension();\n  declareExtension(extension, eventsFunctionsExtension);\n\n  const codeNamespacePrefix =\n    'gdjs.evtsExt__' + mangleName(eventsFunctionsExtension.getName());\n\n  return Promise.all(\n    // Generate all behaviors and their functions\n    mapVector(\n      eventsFunctionsExtension.getEventsBasedBehaviors(),\n      eventsBasedBehavior => {\n        return generateBehavior(\n          project,\n          extension,\n          eventsFunctionsExtension,\n          eventsBasedBehavior,\n          {\n            ...options,\n            codeNamespacePrefix,\n          }\n        );\n      }\n    )\n  )\n    .then(() =>\n      // Generate all free functions\n      Promise.all(\n        mapFor(0, eventsFunctionsExtension.getEventsFunctionsCount(), i => {\n          const eventsFunction = eventsFunctionsExtension.getEventsFunctionAt(\n            i\n          );\n          generateFreeFunction(\n            project,\n            extension,\n            eventsFunctionsExtension,\n            eventsFunction,\n            {\n              ...options,\n              codeNamespacePrefix,\n            }\n          );\n        })\n      )\n    )\n    .then(() => extension);\n};\n\nconst generateFreeFunction = (\n  project: gdProject,\n  extensionOrBehaviorMetadata: gdPlatformExtension | gdBehaviorMetadata,\n  eventsFunctionsExtensionOrEventsBasedBehavior:\n    | gdEventsFunctionsExtension\n    | gdEventsBasedBehavior,\n  eventsFunction: gdEventsFunction,\n  {\n    skipCodeGeneration,\n    eventsFunctionCodeWriter,\n    codeNamespacePrefix,\n  }: {| ...Options, codeNamespacePrefix: string |}\n) => {\n  const instructionOrExpression = declareInstructionOrExpressionMetadata(\n    extensionOrBehaviorMetadata,\n    eventsFunctionsExtensionOrEventsBasedBehavior,\n    eventsFunction\n  );\n  // By convention, first parameter is always the Runtime Scene.\n  instructionOrExpression.addCodeOnlyParameter('currentScene', '');\n  declareEventsFunctionParameters(eventsFunction, instructionOrExpression);\n\n  const codeNamespace =\n    codeNamespacePrefix + '__' + mangleName(eventsFunction.getName());\n  const functionName = codeNamespace + '.func';\n\n  const codeExtraInformation = instructionOrExpression.getCodeExtraInformation();\n  codeExtraInformation\n    .setIncludeFile(eventsFunctionCodeWriter.getIncludeFileFor(functionName))\n    .setFunctionName(functionName);\n\n  if (!skipCodeGeneration) {\n    const includeFiles = new gd.SetString();\n    const code = gd.EventsCodeGenerator.generateEventsFunctionCode(\n      project,\n      eventsFunction,\n      codeNamespace,\n      includeFiles,\n      // For now, always generate functions for runtime (this disables\n      // generation of profiling for groups (see EventsCodeGenerator))\n      // as extensions generated can be used either for preview or export.\n      true\n    );\n\n    // Add any include file required by the function to the list\n    // of include files for this function (so that when used, the \"dependencies\"\n    // are transitively included).\n    includeFiles\n      .toNewVectorString()\n      .toJSArray()\n      .forEach((includeFile: string) => {\n        codeExtraInformation.addIncludeFile(includeFile);\n      });\n\n    includeFiles.delete();\n\n    return eventsFunctionCodeWriter.writeFunctionCode(functionName, code);\n  } else {\n    // Skip code generation if no events function writer is provided.\n    // This is the case during the \"first pass\", where all events functions extensions\n    // are loaded as extensions but not code generated, as events in functions could\n    // themselves be using functions that are not yet available in extensions.\n  }\n};\n\nfunction generateBehavior(\n  project: gdProject,\n  extension: gdPlatformExtension,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  eventsBasedBehavior: gdEventsBasedBehavior,\n  options: {| ...Options, codeNamespacePrefix: string |}\n) {\n  const behaviorMetadata = declareBehaviorMetadata(\n    extension,\n    eventsBasedBehavior\n  );\n\n  const eventsFunctionsContainer = eventsBasedBehavior.getEventsFunctions();\n  const codeNamespace =\n    options.codeNamespacePrefix +\n    '__' +\n    mangleName(eventsBasedBehavior.getName());\n\n  behaviorMetadata.setIncludeFile(\n    options.eventsFunctionCodeWriter.getIncludeFileFor(codeNamespace)\n  );\n\n  return Promise.resolve().then(() => {\n    const behaviorMethodMangledNames = new gd.MapStringString();\n\n    // Declare the instructions/expressions for properties\n    declareBehaviorPropertiesInstructionAndExpressions(\n      options.i18n,\n      behaviorMetadata,\n      eventsBasedBehavior\n    );\n\n    // Declare all the behavior functions\n    mapFor(0, eventsFunctionsContainer.getEventsFunctionsCount(), i => {\n      const eventsFunction = eventsFunctionsContainer.getEventsFunctionAt(i);\n\n      const eventsFunctionMangledName = mangleName(eventsFunction.getName());\n      behaviorMethodMangledNames.set(\n        eventsFunction.getName(),\n        eventsFunctionMangledName\n      );\n\n      const instructionOrExpression = declareBehaviorInstructionOrExpressionMetadata(\n        behaviorMetadata,\n        eventsBasedBehavior,\n        eventsFunction\n      );\n      declareEventsFunctionParameters(eventsFunction, instructionOrExpression);\n\n      // Hide \"lifecycle\" methods as they are called automatically by\n      // the game engine.\n      if (isBehaviorLifecycleFunction(eventsFunction.getName())) {\n        instructionOrExpression.setHidden();\n      }\n\n      const codeExtraInformation = instructionOrExpression.getCodeExtraInformation();\n      codeExtraInformation\n        .setIncludeFile(\n          options.eventsFunctionCodeWriter.getIncludeFileFor(\n            eventsFunctionMangledName\n          )\n        )\n        .setFunctionName(eventsFunctionMangledName);\n    });\n\n    // Generate code for the behavior and its methods\n    if (!options.skipCodeGeneration) {\n      const includeFiles = new gd.SetString();\n      const behaviorCodeGenerator = new gd.BehaviorCodeGenerator(project);\n      const code = behaviorCodeGenerator.generateRuntimeBehaviorCompleteCode(\n        eventsFunctionsExtension.getName(),\n        eventsBasedBehavior,\n        codeNamespace,\n        behaviorMethodMangledNames,\n        includeFiles,\n\n        // For now, always generate functions for runtime (this disables\n        // generation of profiling for groups (see EventsCodeGenerator))\n        // as extensions generated can be used either for preview or export.\n        true\n      );\n      behaviorCodeGenerator.delete();\n      behaviorMethodMangledNames.delete();\n\n      // Add any include file required by the functions to the list\n      // of include files for this behavior (so that when used, the \"dependencies\"\n      // are transitively included).\n      includeFiles\n        .toNewVectorString()\n        .toJSArray()\n        .forEach((includeFile: string) => {\n          behaviorMetadata.addIncludeFile(includeFile);\n        });\n\n      includeFiles.delete();\n\n      return options.eventsFunctionCodeWriter.writeBehaviorCode(\n        codeNamespace,\n        code\n      );\n    } else {\n      // Skip code generation\n      behaviorMethodMangledNames.delete();\n      return Promise.resolve();\n    }\n  });\n}\n\n/**\n * Unload all extensions providing events functions of a project\n */\nexport const unloadProjectEventsFunctionsExtensions = (\n  project: gdProject\n): Promise<Array<void>> => {\n  return Promise.all(\n    mapFor(0, project.getEventsFunctionsExtensionsCount(), i => {\n      gd.JsPlatform.get().removeExtension(\n        project.getEventsFunctionsExtensionAt(i).getName()\n      );\n    })\n  );\n};\n\n/**\n * Given metadata about an instruction or an expression, tells if this was created\n * from an event function.\n */\nexport const isAnEventFunctionMetadata = (\n  instructionOrExpression: gdInstructionMetadata | gdExpressionMetadata\n) => {\n  const parametersCount = instructionOrExpression.getParametersCount();\n  if (parametersCount <= 0) return false;\n\n  return (\n    instructionOrExpression.getParameter(parametersCount - 1).getType() ===\n    'eventsFunctionContext'\n  );\n};\n\n/**\n * Get back the name a function from its type.\n * See also getFreeEventsFunctionType for the reverse operation.\n */\nexport const getFunctionNameFromType = (type: string) => {\n  const parts = type.split('::');\n  if (!parts.length)\n    return {\n      name: '',\n      behaviorName: '',\n      extensionName: '',\n    };\n\n  return {\n    name: parts[parts.length - 1],\n    behaviorName: parts.length > 2 ? parts[1] : undefined,\n    extensionName: parts[0],\n  };\n};\n\n/**\n * Get the type of a Events Function.\n * See also getFunctionNameFromType for the reverse operation.\n */\nexport const getFreeEventsFunctionType = (\n  extensionName: string,\n  eventsFunction: gdEventsFunction\n) => {\n  return extensionName + '::' + eventsFunction.getName();\n};\n\n/**\n * Return the index of the first parameter to be shown to the user:\n * * 0 for a behavior \"method\",\n * * 1 for a free function (as the first parameter is by convention the runtimeScene).\n */\nexport const getParametersIndexOffset = (\n  isEventsBasedBehaviorMethod: boolean\n) => {\n  return isEventsBasedBehaviorMethod\n    ? 0 /*In the case of a behavior events function, the first two parameters are by convention the \"Object\" and \"Behavior\" */\n    : 1; /*In the case of a free events function (i.e: not tied to a behavior), the first parameter is by convention the current scene and is not shown.*/\n};\n","// @flow\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\n\ntype Props = {|\n  children: React.Node,\n|};\n\nexport default (props: Props) => {\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      <Paper\n        zDepth={3}\n        style={{\n          padding: 10,\n          margin: 5,\n        }}\n      >\n        {props.children}\n      </Paper>\n    </div>\n  );\n};\n","import React, { Component } from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport ThemeConsumer from './Theme/ThemeConsumer';\n\n/**\n * An icon that can be used in a ToolbarGroup of material-ui Toolbar.\n * See also ListIcon.\n */\nexport default class ToolbarIcon extends Component {\n  render() {\n    const { src, tooltip, disabled, ...otherProps } = this.props;\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <IconButton\n            {...otherProps}\n            iconStyle={{\n              //Properly align icons with the rest of the toolbar\n              marginLeft: -4,\n              marginTop: -4,\n              filter: disabled\n                ? 'grayscale(100%)'\n                : muiTheme.gdevelopIconsCSSFilter,\n            }}\n          >\n            <img\n              title={tooltip}\n              alt={tooltip}\n              src={src}\n              width={32}\n              height={32}\n            />\n          </IconButton>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","import React from 'react';\nimport { ToolbarSeparator } from 'material-ui/Toolbar';\n\nexport default props => {\n  return (\n    <ToolbarSeparator\n      style={{\n        marginLeft: 0,\n      }}\n      {...props}\n    />\n  );\n};\n","// @flow\nimport { showErrorBox } from '../UI/Messages/MessageBox';\nimport values from 'lodash/values';\n\nexport type ProjectError = {\n  type: 'error' | 'warning',\n  message: string,\n  extraExplanation: string,\n};\n\nexport type ProjectErrors = {\n  [string]: Array<ProjectError>,\n};\n\nexport const validatePackageName = (packageName: string) => {\n  const pattern = /^([A-Za-z]{1}[A-Za-z\\d_]*\\.)+[A-Za-z][A-Za-z\\d_]*$/i;\n\n  return pattern.test(packageName);\n};\n\ntype TFunction = string => string; //TODO\n\nexport const getErrors = (t: TFunction, project: gdProject): ProjectErrors => {\n  const errors: ProjectErrors = {};\n\n  const addError = (\n    propertyName: string,\n    type: 'error' | 'warning',\n    message: string,\n    extraExplanation: string = ''\n  ) => {\n    if (!errors[propertyName]) errors[propertyName] = [];\n\n    errors[propertyName].push({\n      type,\n      message,\n      extraExplanation,\n    });\n  };\n\n  if (!project.getPackageName()) {\n    addError(\n      'packageName',\n      'error',\n      t('The package name is empty.'),\n      t('Choose and enter a package name in the game properties.')\n    );\n  } else if (project.getPackageName().length >= 255) {\n    addError(\n      'packageName',\n      'error',\n      t('The package name is too long.'),\n      t('Change the package name in the game properties.')\n    );\n  } else if (!validatePackageName(project.getPackageName())) {\n    addError(\n      'packageName',\n      'error',\n      t(\n        'The package name is containing invalid characters or not following the convention \"xxx.yyy.zzz\" (numbers allowed after a letter only).'\n      ),\n      t('Change the package name in the game properties.')\n    );\n  }\n\n  if (!project.getName()) {\n    addError(\n      'name',\n      'error',\n      t('The name of your game is too long.'),\n      t('Change the name in the game properties.')\n    );\n  }\n\n  if (!project.getVersion() || project.getVersion().split('.').length < 3) {\n    addError(\n      'packageName',\n      'error',\n      t(\"The version that you've set for the game is invalid.\"),\n      t('Enter a version in the game properties.')\n    );\n  }\n\n  return errors;\n};\n\nexport const displayProjectErrorsBox = (\n  t: TFunction,\n  errors: ProjectErrors\n): boolean => {\n  if (!Object.keys(errors).length) return true;\n\n  showErrorBox(\n    t(\n      'Your game has some invalid elements, please fix these before continuing:'\n    ) +\n      '\\n\\n' +\n      values(errors)\n        .map(errors =>\n          errors.map((error: ProjectError) => `- ${error.message}`).join('\\n')\n        )\n        .join('\\n')\n  );\n\n  return false;\n};\n","// @flow\nimport createReactContext, { type Context } from 'create-react-context';\nimport {\n  type EventsFunctionsExtensionWriter,\n  type EventsFunctionsExtensionOpener,\n} from './Storage';\n\nexport type EventsFunctionsExtensionsState = {|\n  eventsFunctionsExtensionsError: ?Error,\n  loadProjectEventsFunctionsExtensions: (project: ?gdProject) => Promise<void>,\n  unloadProjectEventsFunctionsExtensions: (project: gdProject) => void,\n  reloadProjectEventsFunctionsExtensions: (\n    project: ?gdProject\n  ) => Promise<void>,\n  getEventsFunctionsExtensionWriter: () => ?EventsFunctionsExtensionWriter,\n  getEventsFunctionsExtensionOpener: () => ?EventsFunctionsExtensionOpener,\n|};\n\nconst defaultState = {\n  eventsFunctionsExtensionsError: null,\n  loadProjectEventsFunctionsExtensions: () =>\n    Promise.reject(new Error('Use a provider')),\n  unloadProjectEventsFunctionsExtensions: () => {},\n  reloadProjectEventsFunctionsExtensions: () =>\n    Promise.reject(new Error('Use a provider')),\n  getEventsFunctionsExtensionWriter: () => null,\n  getEventsFunctionsExtensionOpener: () => null,\n};\n\nconst EventsFunctionsExtensionsContext: Context<EventsFunctionsExtensionsState> = createReactContext(\n  defaultState\n);\n\nexport default EventsFunctionsExtensionsContext;\n","// @flow\nimport * as React from 'react';\nimport Instruction, { reactDndInstructionType } from './Instruction';\nimport { mapFor } from '../../Utils/MapFor';\nimport {\n  isInstructionSelected,\n  type InstructionsListContext,\n  type InstructionContext,\n  type ParameterContext,\n} from '../SelectionHandler';\nimport { actionsContainer, conditionsContainer } from './ClassNames';\nimport {\n  DropTarget,\n  type DropTargetMonitor,\n  type DropTargetConnector,\n  type ConnectDropTarget,\n} from 'react-dnd';\nimport DropIndicator from './DropIndicator';\nimport { Trans } from '@lingui/macro';\nimport { hasClipboardConditions, hasClipboardActions } from '../ClipboardKind';\n\nconst styles = {\n  addButton: {\n    cursor: 'pointer',\n  },\n};\n\ntype DropTargetProps = {|\n  connectDropTarget: ConnectDropTarget,\n  isOver: boolean,\n  canDrop: boolean,\n|};\n\ntype Props = {\n  instrsList: gdInstructionsList,\n  areConditions: boolean,\n  onAddNewInstruction: InstructionsListContext => void,\n  onPasteInstructions: InstructionsListContext => void,\n  onMoveToInstruction: (destinationContext: InstructionContext) => void,\n  onMoveToInstructionsList: (\n    destinationContext: InstructionsListContext\n  ) => void,\n  onInstructionClick: InstructionContext => void,\n  onInstructionDoubleClick: InstructionContext => void,\n  onInstructionContextMenu: (x: number, y: number, InstructionContext) => void,\n  onInstructionsListContextMenu: (\n    x: number,\n    y: number,\n    InstructionsListContext\n  ) => void,\n  onParameterClick: ParameterContext => void,\n  selection: any,\n  addButtonLabel?: React.Node,\n  extraClassName?: string,\n  style?: Object,\n  disabled: boolean,\n  renderObjectThumbnail: string => React.Node,\n  ...DropTargetProps,\n};\n\ntype State = {|\n  canPaste: boolean,\n|};\n\nclass InstructionsList extends React.Component<Props, State> {\n  state = { canPaste: false };\n\n  onAddNewInstruction = () => {\n    if (this.props.onAddNewInstruction)\n      this.props.onAddNewInstruction({\n        instrsList: this.props.instrsList,\n        isCondition: this.props.areConditions,\n      });\n  };\n\n  _onPasteInstructions = () => {\n    this.props.onPasteInstructions({\n      instrsList: this.props.instrsList,\n      isCondition: this.props.areConditions,\n    });\n  };\n\n  render() {\n    const { canPaste } = this.state;\n    const {\n      addButtonLabel,\n      areConditions,\n      extraClassName,\n      instrsList,\n      onAddNewInstruction,\n      onPasteInstructions,\n      onMoveToInstruction,\n      onMoveToInstructionsList,\n      onInstructionClick,\n      onInstructionContextMenu,\n      onInstructionDoubleClick,\n      onInstructionsListContextMenu,\n      onParameterClick,\n      selection,\n      style,\n      disabled,\n    } = this.props;\n\n    const { connectDropTarget, isOver, canDrop } = this.props;\n\n    const instructions = mapFor(0, instrsList.size(), i => {\n      const instruction = instrsList.get(i);\n      const instructionContext = {\n        isCondition: areConditions,\n        instrsList: instrsList,\n        instruction,\n        indexInList: i,\n      };\n\n      return (\n        // $FlowFixMe - Flow don't see that DropTarget hoc is being used in instructions?\n        <Instruction\n          instruction={instruction}\n          isCondition={areConditions}\n          key={instruction.ptr}\n          selected={isInstructionSelected(selection, instruction)}\n          onMoveToInstruction={() => onMoveToInstruction(instructionContext)}\n          onClick={() => onInstructionClick(instructionContext)}\n          onDoubleClick={() => onInstructionDoubleClick(instructionContext)}\n          onContextMenu={(x, y) =>\n            onInstructionContextMenu(x, y, instructionContext)\n          }\n          onParameterClick={(domEvent, parameterIndex) =>\n            onParameterClick({\n              isCondition: instructionContext.isCondition,\n              instrsList: instructionContext.instrsList,\n              instruction: instructionContext.instruction,\n              indexInList: instructionContext.indexInList,\n              parameterIndex,\n              domEvent,\n            })\n          }\n          selection={selection}\n          onAddNewSubInstruction={onAddNewInstruction}\n          onPasteSubInstructions={onPasteInstructions}\n          onMoveToSubInstruction={onMoveToInstruction}\n          onMoveToSubInstructionsList={onMoveToInstructionsList}\n          onSubInstructionClick={onInstructionClick}\n          onSubInstructionDoubleClick={onInstructionDoubleClick}\n          onSubInstructionContextMenu={onInstructionContextMenu}\n          onSubInstructionsListContextMenu={onInstructionsListContextMenu}\n          onSubParameterClick={onParameterClick}\n          disabled={disabled}\n          renderObjectThumbnail={this.props.renderObjectThumbnail}\n        />\n      );\n    });\n\n    const instructionsListContext = {\n      isCondition: areConditions,\n      instrsList: instrsList,\n    };\n    const addButtonDefaultLabel = areConditions ? (\n      <Trans>Add condition</Trans>\n    ) : (\n      <Trans>Add action</Trans>\n    );\n    const instructionsList = connectDropTarget(\n      <div\n        className={`${\n          areConditions ? conditionsContainer : actionsContainer\n        } ${extraClassName || ''}`}\n        style={style}\n      >\n        {instructions}\n        {isOver && <DropIndicator canDrop={canDrop} />}\n        <span\n          onPointerEnter={() => {\n            const canPaste =\n              (areConditions && hasClipboardConditions()) ||\n              (!areConditions && hasClipboardActions());\n            this.setState({ canPaste });\n          }}\n          onPointerLeave={() => this.setState({ canPaste: false })}\n        >\n          <button\n            style={styles.addButton}\n            className=\"add-link\"\n            onClick={this.onAddNewInstruction}\n            onContextMenu={e => {\n              e.stopPropagation();\n              onInstructionsListContextMenu(\n                e.clientX,\n                e.clientY,\n                instructionsListContext\n              );\n            }}\n          >\n            {addButtonLabel || addButtonDefaultLabel}\n          </button>\n          {canPaste && (\n            <span>\n              {' '}\n              <button\n                style={styles.addButton}\n                className=\"add-link\"\n                onClick={this._onPasteInstructions}\n              >\n                {areConditions ? (\n                  <Trans>(or paste conditions)</Trans>\n                ) : (\n                  <Trans>(or paste actions)</Trans>\n                )}\n              </button>\n            </span>\n          )}\n        </span>\n      </div>\n    );\n\n    return instructionsList || null;\n  }\n}\n\n// Drag'n'drop support:\n\nconst instructionsListTarget = {\n  canDrop(props: Props, monitor: DropTargetMonitor) {\n    return (\n      monitor.getItem() && monitor.getItem().isCondition === props.areConditions\n    );\n  },\n  drop(props: Props, monitor: DropTargetMonitor) {\n    if (monitor.didDrop()) {\n      return; // Drop already handled by an instruction\n    }\n    props.onMoveToInstructionsList({\n      isCondition: props.areConditions,\n      instrsList: props.instrsList,\n    });\n  },\n};\n\nfunction targetCollect(\n  connect: DropTargetConnector,\n  monitor: DropTargetMonitor\n): DropTargetProps {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n  };\n}\n\n// $FlowFixMe - Typing of DragSource/DropTarget is a pain to get correctly\nexport default DropTarget(\n  reactDndInstructionType,\n  instructionsListTarget,\n  targetCollect\n)(InstructionsList);\n","// @flow\n\n/**\n * Convert a rgb color value to a string hex value.\n * @note No \"#\" or \"0x\" are added.\n */\nexport const rgbToHex = (r: number, g: number, b: number) =>\n  '' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n/**\n * Convert a rgb color value to a hex value.\n */\nexport const rgbToHexNumber = (r: number, g: number, b: number) =>\n  (r << 16) + (g << 8) + b;\n","import React, { Component } from 'react';\nimport Popover from 'material-ui/Popover';\n\nconst styles = {\n  popover: {\n    paddingBottom: 10,\n    paddingLeft: 5,\n    paddingRight: 5,\n    maxWidth: 600,\n    height: 80,\n    overflowY: 'hidden',\n  },\n  contentContainer: {\n    overflow: 'hidden',\n  },\n};\n\nexport default class InlinePopover extends Component {\n  render() {\n    return (\n      <Popover\n        open={this.props.open}\n        anchorEl={this.props.anchorEl}\n        style={styles.popover}\n        anchorOrigin={{ horizontal: 'middle', vertical: 'bottom' }}\n        targetOrigin={{ horizontal: 'middle', vertical: 'top' }}\n        onRequestClose={this.props.onRequestClose}\n      >\n        <div style={styles.contentContainer}>{this.props.children}</div>\n      </Popover>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport InlineCheckbox from '../UI/InlineCheckbox';\nimport ResourceSelector from '../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../ResourcesLoader';\nimport Subheader from 'material-ui/Subheader';\nimport FlatButton from 'material-ui/FlatButton';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport Edit from 'material-ui/svg-icons/image/edit';\nimport IconButton from 'material-ui/IconButton';\nimport {\n  type ResourceKind,\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\n\n// An \"instance\" here is the objects for which properties are shown\nexport type Instance = Object; // This could be improved using generics.\nexport type Instances = Array<Instance>;\n\n// \"Value\" fields are fields displayed in the properties.\nexport type ValueFieldCommonProperties = {|\n  name: string,\n  getLabel?: Instance => string,\n  disabled?: boolean,\n  onEditButtonClick?: Instance => void,\n  onClick?: Instance => void,\n|};\n\n// \"Primitive\" value fields are \"simple\" fields.\nexport type PrimitiveValueField =\n  | {|\n      valueType: 'number',\n      getValue: Instance => number,\n      setValue: (instance: Instance, newValue: number) => void,\n      ...ValueFieldCommonProperties,\n    |}\n  | {|\n      valueType: 'string',\n      getValue: Instance => string,\n      setValue: (instance: Instance, newValue: string) => void,\n      getChoices?: ?() => Array<{| value: string, label: string |}>,\n      ...ValueFieldCommonProperties,\n    |}\n  | {|\n      valueType: 'boolean',\n      getValue: Instance => boolean,\n      setValue: (instance: Instance, newValue: boolean) => void,\n      ...ValueFieldCommonProperties,\n    |};\n\n// \"Resource\" fields are showing a resource selector.\ntype ResourceField = {|\n  valueType: 'resource',\n  resourceKind: ResourceKind,\n  getValue: Instance => string,\n  setValue: (instance: Instance, newValue: string) => void,\n  ...ValueFieldCommonProperties,\n|};\n\n// A value field is a primitive or a resource.\nexport type ValueField = PrimitiveValueField | ResourceField;\n\n// A field can be a primitive, a resource or a list of fields\nexport type Field =\n  | PrimitiveValueField\n  | ResourceField\n  | {|\n      name: string,\n      type: 'row' | 'column',\n      children: Array<Object>,\n    |};\n\n// The schema is the tree of all fields.\nexport type Schema = Array<Field>;\n\n// Mandatory props in any case when using the component\ntype MandatoryProps = {|\n  onInstancesModified?: Instances => void,\n  instances: Instances,\n  schema: Schema,\n  mode?: 'column' | 'row',\n|};\n\ntype Props =\n  // Mandatory props in all cases:\n  | MandatoryProps\n  // Props to be used when you want to display resources:\n  | {|\n      ...MandatoryProps,\n      project: gdProject,\n      resourceSources: Array<ResourceSource>,\n      onChooseResource: ChooseResourceFunction,\n      resourceExternalEditors: Array<ResourceExternalEditor>,\n    |};\n\nconst styles = {\n  columnContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  rowContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'baseline',\n  },\n  fieldContainer: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'baseline',\n  },\n  field: {\n    flex: 1,\n    width: 'auto',\n  },\n  subPropertiesEditorContainer: {\n    marginLeft: 15,\n  },\n  subHeader: {\n    paddingLeft: 0,\n  },\n};\n\nconst getFieldValue = (\n  instances: Instances,\n  field: ValueField,\n  defaultValue?: any\n): any => {\n  if (!instances[0]) {\n    console.log(\n      'getFieldValue was called with an empty list of instances (or containing undefined). This is a bug that should be fixed'\n    );\n    return defaultValue;\n  }\n\n  let value = field.getValue(instances[0]);\n  for (var i = 1; i < instances.length; ++i) {\n    if (value !== field.getValue(instances[i])) {\n      if (typeof defaultValue !== 'undefined') value = defaultValue;\n      break;\n    }\n  }\n\n  return value;\n};\n\nconst getFieldLabel = (instances: Instances, field: ValueField): any => {\n  if (!instances[0]) {\n    console.log(\n      'PropertiesEditor._getFieldLabel was called with an empty list of instances (or containing undefined). This is a bug that should be fixed'\n    );\n    return field.name;\n  }\n\n  if (field.getLabel) return field.getLabel(instances[0]);\n\n  return field.name;\n};\n\nexport default class PropertiesEditor extends React.Component<Props, {||}> {\n  _onInstancesModified = (instances: Instances) => {\n    // This properties editor is dealing with fields that are\n    // responsible to update their state (see field.setValue).\n\n    if (this.props.onInstancesModified)\n      this.props.onInstancesModified(instances);\n    else this.forceUpdate();\n  };\n\n  _renderInputField = (field: ValueField) => {\n    if (field.name === 'PLEASE_ALSO_SHOW_EDIT_BUTTON_THANKS') return null; // This special property was used in GDevelop 4 IDE to ask for a Edit button to be shown, ignore it.\n\n    if (field.valueType === 'boolean') {\n      const { setValue } = field;\n      return (\n        <InlineCheckbox\n          label={getFieldLabel(this.props.instances, field)}\n          key={field.name}\n          checked={getFieldValue(this.props.instances, field)}\n          onCheck={(event, newValue) => {\n            this.props.instances.forEach(i => setValue(i, !!newValue));\n            this._onInstancesModified(this.props.instances);\n          }}\n          disabled={field.disabled}\n        />\n      );\n    } else if (field.valueType === 'number') {\n      const { setValue } = field;\n      return (\n        <SemiControlledTextField\n          value={getFieldValue(this.props.instances, field)}\n          key={field.name}\n          id={field.name}\n          floatingLabelText={getFieldLabel(this.props.instances, field)}\n          floatingLabelFixed\n          onChange={newValue => {\n            this.props.instances.forEach(i =>\n              setValue(i, parseFloat(newValue) || 0)\n            );\n            this._onInstancesModified(this.props.instances);\n          }}\n          type=\"number\"\n          style={styles.field}\n          disabled={field.disabled}\n        />\n      );\n    } else {\n      const { onEditButtonClick, setValue } = field;\n      return (\n        <div style={styles.fieldContainer} key={field.name}>\n          <SemiControlledTextField\n            value={getFieldValue(\n              this.props.instances,\n              field,\n              '(Multiple values)'\n            )}\n            id={field.name}\n            floatingLabelText={getFieldLabel(this.props.instances, field)}\n            floatingLabelFixed\n            onChange={newValue => {\n              this.props.instances.forEach(i => setValue(i, newValue || ''));\n              this._onInstancesModified(this.props.instances);\n            }}\n            style={styles.field}\n            disabled={field.disabled}\n          />\n          {onEditButtonClick && (\n            <IconButton\n              disabled={this.props.instances.length !== 1}\n              onClick={() => onEditButtonClick(this.props.instances[0])}\n            >\n              <Edit />\n            </IconButton>\n          )}\n        </div>\n      );\n    }\n  };\n\n  _renderSelectField = (field: ValueField) => {\n    if (!field.getChoices || !field.getValue) return;\n\n    const children = field\n      .getChoices()\n      .map(({ value, label }) => (\n        <MenuItem key={value} value={value} primaryText={label} />\n      ));\n\n    if (field.valueType === 'number') {\n      const { setValue } = field;\n      return (\n        <SelectField\n          value={getFieldValue(this.props.instances, field)}\n          key={field.name}\n          floatingLabelText={getFieldLabel(this.props.instances, field)}\n          floatingLabelFixed\n          onChange={(event, index, newValue) => {\n            this.props.instances.forEach(i =>\n              setValue(i, parseFloat(newValue) || 0)\n            );\n            this._onInstancesModified(this.props.instances);\n          }}\n          style={styles.field}\n          disabled={field.disabled}\n        >\n          {children}\n        </SelectField>\n      );\n    } else {\n      return (\n        <SelectField\n          value={getFieldValue(\n            this.props.instances,\n            field,\n            '(Multiple values)'\n          )}\n          key={field.name}\n          floatingLabelText={getFieldLabel(this.props.instances, field)}\n          floatingLabelFixed\n          onChange={(event, index, newValue) => {\n            this.props.instances.forEach(i =>\n              field.setValue(i, newValue || '')\n            );\n            this._onInstancesModified(this.props.instances);\n          }}\n          style={styles.field}\n          disabled={field.disabled}\n        >\n          {children}\n        </SelectField>\n      );\n    }\n  };\n\n  _renderButton = (field: ValueField) => {\n    //TODO: multi selection handling\n    return (\n      <FlatButton\n        key={field.name}\n        fullWidth\n        primary\n        label={getFieldLabel(this.props.instances, field)}\n        onClick={() => {\n          if (field.onClick) field.onClick(this.props.instances[0]);\n        }}\n      />\n    );\n  };\n\n  _renderResourceField = (field: ResourceField) => {\n    if (!this.props.project) {\n      console.error(\n        'You tried to display a resource field in a PropertiesEditor that does not support display resources. If you need to display resources, pass additional props (project, resourceSources, etc...)'\n      );\n      return;\n    }\n\n    const { setValue } = field;\n    return (\n      <ResourceSelector\n        key={field.name}\n        project={this.props.project}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        resourcesLoader={ResourcesLoader}\n        resourceKind={field.resourceKind}\n        fullWidth\n        initialResourceName={getFieldValue(\n          this.props.instances,\n          field,\n          '(Multiple values)' //TODO\n        )}\n        onChange={newValue => {\n          this.props.instances.forEach(i => setValue(i, newValue));\n          this._onInstancesModified(this.props.instances);\n        }}\n        floatingLabelText={getFieldLabel(this.props.instances, field)}\n      />\n    );\n  };\n\n  render() {\n    const { mode } = this.props;\n\n    return (\n      <div\n        style={mode === 'row' ? styles.rowContainer : styles.columnContainer}\n      >\n        {this.props.schema.map(field => {\n          if (field.children) {\n            if (field.type === 'row') {\n              return (\n                <PropertiesEditor\n                  key={field.name}\n                  schema={field.children}\n                  instances={this.props.instances}\n                  mode=\"row\"\n                />\n              );\n            }\n\n            return (\n              <div key={field.name}>\n                <Subheader style={styles.subHeader}>{field.name}</Subheader>\n                <div style={styles.subPropertiesEditorContainer}>\n                  <PropertiesEditor\n                    schema={field.children}\n                    instances={this.props.instances}\n                    mode=\"column\"\n                  />\n                </div>\n              </div>\n            );\n          } else if (field.valueType === 'resource') {\n            return this._renderResourceField(field);\n          } else {\n            if (field.getChoices && field.getValue)\n              return this._renderSelectField(field);\n            if (field.getValue) return this._renderInputField(field);\n            if (field.onClick) return this._renderButton(field);\n          }\n\n          return null;\n        })}\n      </div>\n    );\n  }\n}\n","// @flow\nimport { mapFor } from '../Utils/MapFor';\nimport { type Schema, type Instance } from '.';\n\n/**\n * Transform a MapStringPropertyDescriptor to a schema that can be used in PropertiesEditor.\n *\n * @param {gdMapStringPropertyDescriptor} properties The properties to use\n * @param {*} getProperties The function called to read again the properties\n * @param {*} onUpdateProperty The function called to update a property of an object\n */\nexport default (\n  properties: gdMapStringPropertyDescriptor,\n  getProperties: (instance: Instance) => any,\n  onUpdateProperty: (\n    instance: Instance,\n    propertyName: string,\n    newValue: string\n  ) => void\n): Schema => {\n  const propertyNames = properties.keys();\n  const propertyFields = mapFor(0, propertyNames.size(), i => {\n    const name = propertyNames.at(i);\n    const property = properties.get(name);\n    const valueType = property.getType().toLowerCase();\n    const getLabel = (instance: Instance) => {\n      const propertyName = getProperties(instance)\n        .get(name)\n        .getLabel();\n      if (propertyName) return propertyName;\n      return (\n        name.charAt(0).toUpperCase() +\n        name\n          .slice(1)\n          .split(/(?=[A-Z])/)\n          .join(' ')\n      );\n    };\n\n    if (property.isHidden()) return null;\n\n    if (valueType === 'number') {\n      return {\n        name,\n        valueType,\n        getValue: (instance: Instance): number => {\n          return parseFloat(\n            getProperties(instance)\n              .get(name)\n              .getValue()\n          );\n        },\n        setValue: (instance: Instance, newValue: number) => {\n          onUpdateProperty(instance, name, '' + newValue);\n        },\n        getLabel,\n      };\n    } else if (valueType === 'string' || valueType === '') {\n      return {\n        name,\n        valueType: 'string',\n        getValue: (instance: Instance): string => {\n          return getProperties(instance)\n            .get(name)\n            .getValue();\n        },\n        setValue: (instance: Instance, newValue: string) => {\n          onUpdateProperty(instance, name, newValue);\n        },\n        getLabel,\n      };\n    } else if (valueType === 'boolean') {\n      return {\n        name,\n        valueType,\n        getValue: (instance: Instance): boolean => {\n          return (\n            getProperties(instance)\n              .get(name)\n              .getValue() === 'true'\n          );\n        },\n        setValue: (instance: Instance, newValue: boolean) => {\n          onUpdateProperty(instance, name, newValue ? '1' : '0');\n        },\n        getLabel,\n      };\n    } else if (valueType === 'choice') {\n      // Choice is a \"string\" (with a selector for the user in the UI)\n      const choices = property\n        .getExtraInfo()\n        .toJSArray()\n        .map(value => ({ value, label: value }));\n      return {\n        name,\n        valueType: 'string',\n        getChoices: () => choices,\n        getValue: (instance: Instance): string => {\n          return getProperties(instance)\n            .get(name)\n            .getValue();\n        },\n        setValue: (instance: Instance, newValue: string) => {\n          onUpdateProperty(instance, name, newValue);\n        },\n        getLabel,\n      };\n    } else if (valueType === 'resource') {\n      // Resource is a \"string\" (with a selector in the UI)\n      const kind = property.getExtraInfo().toJSArray()[0] || '';\n      return {\n        name,\n        valueType: 'resource',\n        resourceKind: kind,\n        getValue: (instance: Instance): string => {\n          return getProperties(instance)\n            .get(name)\n            .getValue();\n        },\n        setValue: (instance: Instance, newValue: string) => {\n          onUpdateProperty(instance, name, newValue);\n        },\n        getLabel,\n      };\n    } else {\n      console.error(\n        `A property with type=${valueType} could not be mapped to a field. Ensure that this type is correct and understood by the IDE.`\n      );\n      return null;\n    }\n  }).filter(Boolean);\n\n  return propertyFields;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport IconButton from 'material-ui/IconButton';\nimport Measure from 'react-measure';\nimport * as React from 'react';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { Column } from '../../UI/Grid';\nimport MiniToolbar from '../../UI/MiniToolbar';\nimport ZoomIn from 'material-ui/svg-icons/action/zoom-in';\nimport ZoomOut from 'material-ui/svg-icons/action/zoom-out';\nimport ZoomOutMap from 'material-ui/svg-icons/maps/zoom-out-map';\n\nconst MARGIN = 50;\nconst MAX_ZOOM_FACTOR = 10;\nconst MIN_ZOOM_FACTOR = 0.1;\n\nconst styles = {\n  imagePreviewContainer: {\n    position: 'relative',\n    display: 'inline-block',\n    width: '100%',\n    border: '#AAAAAA 1px solid',\n    overflow: 'scroll',\n    height: 200,\n    background: 'url(\"res/transparentback.png\") repeat',\n  },\n  spriteThumbnailImage: {\n    position: 'relative',\n    pointerEvents: 'none',\n    margin: MARGIN,\n  },\n  box: {\n    border: '1px solid black',\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  resourceName: string,\n  resourcePath?: string,\n  resourcesLoader: typeof ResourcesLoader,\n  renderOverlay?: ({|\n    imageWidth: number,\n    imageHeight: number,\n    imageZoomFactor: number,\n  |}) => React.Node,\n  style?: Object,\n  onSize?: (number, number) => void,\n|};\n\ntype State = {|\n  errored: boolean,\n  imageWidth: ?number,\n  imageHeight: ?number,\n  imageSource: ?string,\n  imageZoomFactor: number,\n|};\n\n/**\n * Display the preview for a resource of a project with kind \"image\".\n */\nexport default class ImagePreview extends React.Component<Props, State> {\n  _container: ?HTMLDivElement = null;\n\n  state = {\n    errored: false,\n    imageWidth: null,\n    imageHeight: null,\n    imageZoomFactor: 1,\n    ...this._loadFrom(this.props),\n  };\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      newProps.resourceName !== this.props.resourceName ||\n      newProps.project !== this.props.project ||\n      newProps.resourcesLoader !== this.props.resourcesLoader ||\n      newProps.resourcePath !== this.props.resourcePath\n    ) {\n      this.setState(this._loadFrom(newProps));\n    }\n  }\n\n  _loadFrom(props: Props): {| errored: boolean, imageSource: ?string |} {\n    const { project, resourceName, resourcesLoader } = props;\n    return {\n      errored: false,\n      imageSource: resourcesLoader.getResourceFullUrl(project, resourceName),\n    };\n  }\n\n  _handleImageError = () => {\n    this.setState({\n      errored: true,\n    });\n  };\n\n  _handleImageLoaded = (e: any) => {\n    const imgElement = e.target;\n\n    const imageWidth = imgElement\n      ? imgElement.naturalWidth || imgElement.clientWidth\n      : 0;\n    const imageHeight = imgElement\n      ? imgElement.naturalHeight || imgElement.clientHeight\n      : 0;\n    this.setState({\n      imageWidth,\n      imageHeight,\n    });\n    if (this.props.onSize) this.props.onSize(imageWidth, imageHeight);\n  };\n\n  _zoomBy = (imageZoomFactorDelta: number) => {\n    this._zoomTo(this.state.imageZoomFactor + imageZoomFactorDelta);\n  };\n\n  _zoomTo = (imageZoomFactor: number) => {\n    this.setState(state => ({\n      imageZoomFactor: Math.min(\n        MAX_ZOOM_FACTOR,\n        Math.max(MIN_ZOOM_FACTOR, imageZoomFactor)\n      ),\n    }));\n  };\n\n  render() {\n    return (\n      <Measure>\n        {dimensions => {\n          const containerWidth = dimensions.width;\n          const { resourceName, style, renderOverlay } = this.props;\n          const {\n            imageHeight,\n            imageWidth,\n            imageSource,\n            imageZoomFactor,\n          } = this.state;\n\n          const imageLoaded = !!imageWidth && !!imageHeight;\n\n          const imagePositionTop = 0;\n          const imagePositionLeft = Math.max(\n            0,\n            containerWidth / 2 -\n              ((imageWidth || 0) * imageZoomFactor) / 2 -\n              MARGIN\n          );\n\n          const imageStyle = {\n            ...styles.spriteThumbnailImage,\n            top: imagePositionTop,\n            left: imagePositionLeft,\n            width: imageWidth ? imageWidth * imageZoomFactor : undefined,\n            height: imageHeight ? imageHeight * imageZoomFactor : undefined,\n            visibility: imageLoaded ? undefined : 'hidden', // TODO: Loader\n          };\n\n          const overlayStyle = {\n            position: 'absolute',\n            top: imagePositionTop + MARGIN,\n            left: imagePositionLeft + MARGIN,\n            width: imageWidth ? imageWidth * imageZoomFactor : undefined,\n            height: imageHeight ? imageHeight * imageZoomFactor : undefined,\n            visibility: imageLoaded ? undefined : 'hidden', // TODO: Loader\n          };\n\n          return (\n            <Column expand noMargin>\n              <MiniToolbar>\n                <IconButton\n                  onClick={() => this._zoomBy(+0.2)}\n                  tooltip={\n                    <Trans>Zoom in (you can also use Ctrl + Mouse wheel)</Trans>\n                  }\n                  tooltipPosition=\"bottom-right\"\n                >\n                  <ZoomIn />\n                </IconButton>\n                <IconButton\n                  onClick={() => this._zoomBy(-0.2)}\n                  tooltip={\n                    <Trans>\n                      Zoom out (you can also use Ctrl + Mouse wheel)\n                    </Trans>\n                  }\n                  tooltipPosition=\"bottom-right\"\n                >\n                  <ZoomOut />\n                </IconButton>\n                <IconButton\n                  onClick={() => this._zoomTo(1)}\n                  tooltip={<Trans>Restore original size</Trans>}\n                  tooltipPosition=\"bottom-right\"\n                >\n                  <ZoomOutMap />\n                </IconButton>\n              </MiniToolbar>\n              <div\n                style={{ ...styles.imagePreviewContainer, ...style }}\n                ref={container => (this._container = container)}\n                onWheel={event => {\n                  const { deltaY } = event;\n                  //TODO: Use KeyboardShortcuts\n                  if (event.metaKey || event.ctrlKey) {\n                    this._zoomBy(deltaY / 500);\n                    event.preventDefault();\n                    event.stopPropagation();\n                  } else {\n                    // Let the usual, native vertical or horizontal scrolling happen.\n                  }\n                }}\n              >\n                {!!this.state.errored && (\n                  <p>\n                    <Trans>Unable to load the image</Trans>\n                  </p>\n                )}\n                {!this.state.errored && (\n                  <img\n                    style={imageStyle}\n                    alt={resourceName}\n                    src={imageSource}\n                    onError={this._handleImageError}\n                    onLoad={this._handleImageLoaded}\n                    crossOrigin=\"anonymous\"\n                  />\n                )}\n                {imageLoaded && renderOverlay && (\n                  <div style={{ ...overlayStyle, ...styles.box }} />\n                )}\n                {imageLoaded && renderOverlay && (\n                  <div style={overlayStyle}>\n                    {renderOverlay({\n                      imageWidth: imageWidth || 0,\n                      imageHeight: imageHeight || 0,\n                      imageZoomFactor,\n                    })}\n                  </div>\n                )}\n              </div>\n            </Column>\n          );\n        }}\n      </Measure>\n    );\n  }\n}\n","import { mapVector, mapFor } from '../../../../Utils/MapFor';\nimport every from 'lodash/every';\nconst gd = global.gd;\n\n/**\n * Return the specified animation, direction and sprite for a SpriteObject.\n * Returns null for these elements if the specified choice is not valid.\n * @param {*} object\n * @param {*} animationIndex\n * @param {*} directionIndex\n * @param {*} spriteIndex\n */\nexport const getCurrentElements = (\n  object,\n  animationIndex,\n  directionIndex,\n  spriteIndex\n) => {\n  const hasValidAnimation = animationIndex < object.getAnimationsCount();\n  const animation = hasValidAnimation\n    ? object.getAnimation(animationIndex)\n    : null;\n  const hasValidDirection =\n    !!animation && directionIndex < animation.getDirectionsCount();\n  const direction = hasValidDirection\n    ? animation.getDirection(directionIndex)\n    : null;\n  const hasValidSprite =\n    !!direction && spriteIndex < direction.getSpritesCount();\n  const sprite = hasValidSprite ? direction.getSprite(spriteIndex) : null;\n\n  return {\n    hasValidAnimation,\n    animation,\n    hasValidDirection,\n    direction,\n    hasValidSprite,\n    sprite,\n  };\n};\n\nexport const copyPoint = (originalPoint, destinationPoint) => {\n  destinationPoint.setX(originalPoint.getX());\n  destinationPoint.setY(originalPoint.getY());\n  destinationPoint.setName(originalPoint.getName());\n};\n\nexport const copySpritePoints = (originalSprite, destinationSprite) => {\n  if (originalSprite.ptr === destinationSprite.ptr) return;\n\n  copyPoint(originalSprite.getCenter(), destinationSprite.getCenter());\n  copyPoint(originalSprite.getOrigin(), destinationSprite.getOrigin());\n  destinationSprite.setDefaultCenterPoint(\n    originalSprite.isDefaultCenterPoint()\n  );\n\n  destinationSprite.getAllNonDefaultPoints().clear();\n  mapVector(originalSprite.getAllNonDefaultPoints(), originalPoint => {\n    destinationSprite.addPoint(originalPoint);\n  });\n};\n\nexport const copyAnimationsSpritePoints = (originalSprite, animation) => {\n  mapFor(0, animation.getDirectionsCount(), i => {\n    const direction = animation.getDirection(i);\n\n    mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n      copySpritePoints(originalSprite, sprite);\n    });\n  });\n};\n\nexport const isSamePoint = (point1, point2) => {\n  return (\n    point1.getX() === point2.getX() &&\n    point1.getY() === point2.getY() &&\n    point1.getName() === point2.getName()\n  );\n};\n\nexport const haveSamePoints = (sprite1, sprite2) => {\n  if (!isSamePoint(sprite1.getCenter(), sprite2.getCenter())) return false;\n  if (!isSamePoint(sprite1.getOrigin(), sprite2.getOrigin())) return false;\n  if (sprite1.isDefaultCenterPoint() !== sprite2.isDefaultCenterPoint())\n    return false;\n\n  if (\n    sprite1.getAllNonDefaultPoints().size() !==\n    sprite2.getAllNonDefaultPoints().size()\n  )\n    return false;\n\n  return every(\n    mapVector(sprite1.getAllNonDefaultPoints(), sprite1Point => {\n      if (!sprite2.hasPoint(sprite1Point.getName())) return false;\n\n      return isSamePoint(\n        sprite1Point,\n        sprite2.getPoint(sprite1Point.getName())\n      );\n    })\n  );\n};\n\nexport const allDirectionSpritesHaveSamePointsAs = (\n  originalSprite,\n  direction\n) => {\n  return every(\n    mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n      return haveSamePoints(sprite, originalSprite);\n    })\n  );\n};\n\nexport const allSpritesHaveSamePointsAs = (originalSprite, animation) => {\n  return every(\n    mapFor(0, animation.getDirectionsCount(), i => {\n      const direction = animation.getDirection(i);\n      return allDirectionSpritesHaveSamePointsAs(originalSprite, direction);\n    })\n  );\n};\n\nexport const copySpritePolygons = (originalSprite, destinationSprite) => {\n  if (originalSprite.ptr === destinationSprite.ptr) return;\n\n  destinationSprite.setCollisionMaskAutomatic(\n    originalSprite.isCollisionMaskAutomatic()\n  );\n\n  destinationSprite.getCustomCollisionMask().clear();\n  mapVector(originalSprite.getCustomCollisionMask(), originalPolygon => {\n    destinationSprite.getCustomCollisionMask().push_back(originalPolygon);\n  });\n};\n\nexport const copyAnimationsSpriteCollisionMasks = (\n  originalSprite,\n  animation\n) => {\n  mapFor(0, animation.getDirectionsCount(), i => {\n    const direction = animation.getDirection(i);\n\n    mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n      copySpritePolygons(originalSprite, sprite);\n    });\n  });\n};\n\nexport const isSamePolygon = (polygon1, polygon2) => {\n  const polygon1Vertices = polygon1.getVertices();\n  const polygon2Vertices = polygon2.getVertices();\n\n  if (polygon1Vertices.size() !== polygon2Vertices.size()) return false;\n\n  return every(\n    mapVector(polygon1Vertices, (point1, index) => {\n      const point2 = polygon2Vertices.at(index);\n      return (\n        point1.get_x() === point2.get_x() && point1.get_y() === point2.get_y()\n      );\n    })\n  );\n};\n\nexport const haveSameCollisionMasks = (sprite1, sprite2) => {\n  if (sprite1.isCollisionMaskAutomatic() !== sprite2.isCollisionMaskAutomatic())\n    return false;\n\n  if (sprite1.isCollisionMaskAutomatic() && sprite2.isCollisionMaskAutomatic())\n    return true;\n\n  const sprite1CollisionMask = sprite1.getCustomCollisionMask();\n  const sprite2CollisionMask = sprite2.getCustomCollisionMask();\n\n  if (sprite1CollisionMask.size() !== sprite2CollisionMask.size()) return false;\n\n  return every(\n    mapVector(sprite1CollisionMask, (sprite1Polygon, index) => {\n      return isSamePolygon(sprite1Polygon, sprite2CollisionMask.at(index));\n    })\n  );\n};\n\nexport const allDirectionSpritesHaveSameCollisionMasksAs = (\n  originalSprite,\n  direction\n) => {\n  return every(\n    mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n      return haveSameCollisionMasks(sprite, originalSprite);\n    })\n  );\n};\n\nexport const allSpritesHaveSameCollisionMasksAs = (\n  originalSprite,\n  animation\n) => {\n  return every(\n    mapFor(0, animation.getDirectionsCount(), i => {\n      const direction = animation.getDirection(i);\n      return allDirectionSpritesHaveSameCollisionMasksAs(\n        originalSprite,\n        direction\n      );\n    })\n  );\n};\n\nexport const deleteSpritesFromAnimation = (animation, spritePtrs) => {\n  mapFor(0, animation.getDirectionsCount(), i => {\n    const direction = animation.getDirection(i);\n\n    const spritesToDelete = mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n\n      return !!spritePtrs[sprite.ptr];\n    });\n\n    // Iterate from the end to the beginning to avoid invalidating indexes.\n    for (\n      let spriteIndex = direction.getSpritesCount() - 1;\n      spriteIndex >= 0;\n      spriteIndex--\n    ) {\n      if (spritesToDelete[spriteIndex]) direction.removeSprite(spriteIndex);\n    }\n  });\n};\n\nexport const duplicateSpritesInAnimation = (animation, spritePtrs) => {\n  mapFor(0, animation.getDirectionsCount(), i => {\n    const direction = animation.getDirection(i);\n\n    const spritesToDuplicate = mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n\n      return !!spritePtrs[sprite.ptr];\n    });\n\n    // Iterate from the end to the beginning to avoid invalidating indexes.\n    for (\n      let spriteIndex = direction.getSpritesCount() - 1;\n      spriteIndex >= 0;\n      spriteIndex--\n    ) {\n      if (spritesToDuplicate[spriteIndex]) {\n        const spriteToDuplicate = direction.getSprite(spriteIndex);\n        const newSprite = new gd.Sprite();\n        newSprite.setImageName(spriteToDuplicate.getImageName());\n        copySpritePoints(spriteToDuplicate, newSprite);\n        copySpritePolygons(spriteToDuplicate, newSprite);\n\n        direction.addSprite(newSprite);\n        direction.moveSprite(direction.getSpritesCount() - 1, spriteIndex);\n      }\n    }\n  });\n};\n","//TODO: Factor with styles.js from LayersList.\nexport default {\n  handleColumn: {\n    width: 24,\n    paddingLeft: 8,\n    paddingRight: 0,\n  },\n  coordinateColumn: {\n    width: 48,\n  },\n  toolColumn: {\n    width: 48,\n  },\n};\n","import React from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport Add from 'material-ui/svg-icons/content/add';\nimport Search from 'material-ui/svg-icons/action/search';\nimport EmptyMessage from '../UI/EmptyMessage';\n// No i18n in this file\n\nconst styles = {\n  item: { height: 48 },\n  message: { padding: 0 },\n};\n\nexport const makeCommonItem = (Item, Icon) => ({\n  onClick,\n  primaryText,\n  style,\n  ...rest\n}) => {\n  return (\n    <Item\n      primaryText={\n        <EmptyMessage style={styles.message}>{primaryText}</EmptyMessage>\n      }\n      style={{ ...styles.item, ...style }}\n      rightIconButton={\n        <IconButton>\n          <Icon\n            onClick={event => {\n              event.stopPropagation();\n              onClick();\n            }}\n          />\n        </IconButton>\n      }\n      onClick={onClick}\n      {...rest}\n    />\n  );\n};\n\n/**\n * An Higher-order component that create an item that must be put at the\n * end of a list to allow the user to add a new item.\n * @param Item The component to wrap. Should act as a material-ui ListItem.\n */\nexport const makeAddItem = Item => makeCommonItem(Item, Add);\n\n/**\n * An Higher-order component that create an item that must be put at the\n * end of a list to allow the user to add a new item.\n * @param Item The component to wrap. Should act as a material-ui ListItem.\n */\nexport const makeSearchItem = Item => makeCommonItem(Item, Search);\n","// @flow\nimport { mapFor } from '../Utils/MapFor';\n\nexport const enumerateLayouts = (project: gdProject): Array<gdLayout> =>\n  mapFor(0, project.getLayoutsCount(), i => project.getLayoutAt(i));\n\nexport const enumerateExternalEvents = (\n  project: gdProject\n): Array<gdExternalEvents> =>\n  mapFor(0, project.getExternalEventsCount(), i =>\n    project.getExternalEventsAt(i)\n  );\n\nexport const enumerateExternalLayouts = (\n  project: gdProject\n): Array<gdExternalLayout> =>\n  mapFor(0, project.getExternalLayoutsCount(), i =>\n    project.getExternalLayoutAt(i)\n  );\n\nexport const enumerateEventsFunctionsExtensions = (\n  project: gdProject\n): Array<gdEventsFunction> =>\n  mapFor(0, project.getEventsFunctionsExtensionsCount(), i =>\n    project.getEventsFunctionsExtensionAt(i)\n  );\n\nexport const filterProjectItemsList = <T>(\n  list: Array<T>,\n  searchText: string\n): Array<T> => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter(\n    (item: any) =>\n      item\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n  );\n};\n","// @flow\n\nimport values from 'lodash/values';\n\nexport type InstructionsListContext = {|\n  isCondition: boolean,\n  instrsList: gdInstructionsList,\n|};\n\nexport type InstructionContext = {|\n  isCondition: boolean,\n  instrsList: gdInstructionsList,\n  instruction: gdInstruction,\n  indexInList: number,\n|};\n\nexport type ParameterContext = {|\n  isCondition: boolean,\n  instrsList: gdInstructionsList,\n  instruction: gdInstruction,\n  indexInList: number,\n  parameterIndex: number,\n  domEvent?: any,\n|};\n\nexport type EventContext = {|\n  isCondition: boolean,\n  eventsList: gdEventsList,\n  event: gdBaseEvent,\n  indexInList: number,\n|};\n\nexport type SelectionState = {\n  selectedInstructions: { [number]: InstructionContext },\n  selectedInstructionsLists: { [number]: InstructionsListContext },\n  selectedEvents: { [number]: EventContext },\n};\n\nexport const getInitialSelection = () => {\n  return {\n    selectedInstructions: {},\n    selectedEvents: {},\n    selectedInstructionsLists: {},\n  };\n};\n\nexport const getSelectedEvents = (selection: SelectionState): Array<Object> => {\n  return values(selection.selectedEvents).map(\n    (eventContext: EventContext) => eventContext.event\n  );\n};\n\nexport const getSelectedEventContexts = (\n  selection: SelectionState\n): Array<EventContext> => {\n  return values(selection.selectedEvents);\n};\n\nexport const getSelectedInstructions = (\n  selection: SelectionState\n): Array<gdInstruction> => {\n  return values(selection.selectedInstructions).map(\n    (instructionContext: InstructionContext) => instructionContext.instruction\n  );\n};\n\nexport const getSelectedInstructionsContexts = (\n  selection: SelectionState\n): Array<InstructionContext> => {\n  return values(selection.selectedInstructions);\n};\n\nexport const getSelectedInstructionsListsContexts = (\n  selection: SelectionState\n): Array<InstructionContext> => {\n  return values(selection.selectedInstructionsLists);\n};\n\nexport const isEventSelected = (\n  selection: SelectionState,\n  event: Object\n): boolean => {\n  return !!selection.selectedEvents[event.ptr];\n};\n\nexport const isInstructionSelected = (\n  selection: SelectionState,\n  instruction: gdInstruction\n): boolean => {\n  return !!selection.selectedInstructions[instruction.ptr];\n};\n\nexport const isInstructionsListSelected = (\n  selection: SelectionState,\n  instructionsList: gdInstructionsList\n): boolean => {\n  return !!selection.selectedInstructionsLists[instructionsList.ptr];\n};\n\nexport const hasEventSelected = (selection: SelectionState): boolean => {\n  return !!Object.keys(selection.selectedEvents).length;\n};\n\nexport const hasInstructionSelected = (selection: SelectionState): boolean => {\n  return !!Object.keys(selection.selectedInstructions).length;\n};\n\nexport const hasSelectedAtLeastOneCondition = (\n  selection: SelectionState\n): boolean => {\n  for (let instructionContext of getSelectedInstructionsContexts(selection)) {\n    if (instructionContext.isCondition) {\n      return true;\n    }\n  }\n  return false;\n};\n\nexport const hasInstructionsListSelected = (\n  selection: SelectionState\n): boolean => {\n  return !!Object.keys(selection.selectedInstructionsLists).length;\n};\n\nexport const hasSomethingSelected = (selection: SelectionState): boolean => {\n  return (\n    hasInstructionSelected(selection) ||\n    hasInstructionsListSelected(selection) ||\n    hasEventSelected(selection)\n  );\n};\n\nexport const clearSelection = (): SelectionState => {\n  return getInitialSelection();\n};\n\nexport const selectEvent = (\n  selection: SelectionState,\n  eventContext: EventContext,\n  multiSelection: boolean = false\n): SelectionState => {\n  const event = eventContext.event;\n  if (isEventSelected(selection, event)) return selection;\n\n  const existingSelection = multiSelection ? selection : clearSelection();\n  return {\n    ...existingSelection,\n    selectedEvents: {\n      ...existingSelection.selectedEvents,\n      [event.ptr]: eventContext,\n    },\n  };\n};\n\nexport const selectInstruction = (\n  selection: SelectionState,\n  instructionContext: InstructionContext,\n  multiSelection: boolean = false\n): SelectionState => {\n  const instruction: gdInstruction = instructionContext.instruction;\n  if (isInstructionSelected(selection, instruction)) return selection;\n\n  const existingSelection = multiSelection ? selection : clearSelection();\n  return {\n    ...existingSelection,\n    selectedInstructions: {\n      ...existingSelection.selectedInstructions,\n      [instruction.ptr]: instructionContext,\n    },\n  };\n};\n\nexport const selectInstructionsList = (\n  selection: SelectionState,\n  instructionsListContext: InstructionsListContext,\n  multiSelection: boolean = false\n): SelectionState => {\n  const instructionsList: gdInstructionsList =\n    instructionsListContext.instrsList;\n  if (isInstructionsListSelected(selection, instructionsList)) return selection;\n\n  const existingSelection = multiSelection ? selection : clearSelection();\n  return {\n    ...existingSelection,\n    selectedInstructionsLists: {\n      ...existingSelection.selectedInstructionsLists,\n      [instructionsList.ptr]: instructionsListContext,\n    },\n  };\n};\n","// @flow\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport Popover from 'material-ui/Popover';\nimport Functions from 'material-ui/svg-icons/editor/functions';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport SemiControlledTextField from '../../../UI/SemiControlledTextField';\nimport { mapVector } from '../../../Utils/MapFor';\nimport ExpressionSelector from '../../InstructionEditor/InstructionOrExpressionSelector/ExpressionSelector';\nimport ExpressionParametersEditorDialog, {\n  type ParameterValues,\n} from './ExpressionParametersEditorDialog';\nimport { formatExpressionCall } from './FormatExpressionCall';\nimport { type EnumeratedInstructionOrExpressionMetadata } from '../../InstructionEditor/InstructionOrExpressionSelector/EnumeratedInstructionOrExpressionMetadata.js';\nimport { type ParameterFieldProps } from '../ParameterFieldCommons';\nimport BackgroundHighlighting, {\n  type Highlight,\n} from './BackgroundHighlighting';\nimport debounce from 'lodash/debounce';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    alignItems: 'flex-start',\n  },\n  textFieldContainer: {\n    flex: 1,\n    minWidth: 300,\n  },\n  textFieldAndHightlightContainer: {\n    position: 'relative',\n  },\n  expressionSelectorPopoverContent: {\n    display: 'flex',\n    maxHeight: 350,\n  },\n  input: {\n    fontFamily: '\"Lucida Console\", Monaco, monospace',\n    lineHeight: 1.4,\n  },\n  backgroundHighlighting: {\n    marginTop: 12, //Properly align with the text field\n  },\n  backgroundHighlightingWithDescription: {\n    marginTop: 38, //Properly align with the text field\n  },\n  functionsButton: {\n    marginTop: 7, //Properly align with the text field\n    marginLeft: 10,\n  },\n  functionsButtonWithDescription: {\n    marginTop: 33, //Properly align with the text field\n    marginLeft: 10,\n  },\n};\n\ntype State = {|\n  popoverOpen: boolean,\n  parametersDialogOpen: boolean,\n  selectedExpressionInfo: ?EnumeratedInstructionOrExpressionMetadata,\n  validatedValue: string,\n  errorText: ?string,\n  errorHighlights: Array<Highlight>,\n|};\n\ntype Props = {|\n  expressionType: 'number' | 'string',\n  renderExtraButton?: ({|\n    style: Object,\n  |}) => React.Node,\n  ...ParameterFieldProps,\n|};\n\nexport default class ExpressionField extends React.Component<Props, State> {\n  _field: ?any = null;\n  _fieldElement: ?any = null;\n  _inputElement = null;\n\n  state = {\n    popoverOpen: false,\n    parametersDialogOpen: false,\n    selectedExpressionInfo: null,\n\n    validatedValue: '',\n    errorText: null,\n    errorHighlights: [],\n  };\n\n  componentDidMount() {\n    if (this._field) {\n      this._fieldElement = ReactDOM.findDOMNode(this._field);\n      this._inputElement = this._field ? this._field.getInputNode() : null;\n    }\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  _openExpressionPopover = () => {\n    this.setState({\n      popoverOpen: true,\n    });\n  };\n\n  _handleFocus = (event: { preventDefault: () => void }) => {\n    // This prevents ghost click.\n    event.preventDefault();\n  };\n\n  _handleRequestClose = () => {\n    this.setState({\n      popoverOpen: false,\n    });\n  };\n\n  _handleChange = (value: string) => {\n    this.setState(\n      {\n        validatedValue: value,\n      },\n      () => this._enqueueValidation()\n    );\n  };\n\n  _handleBlur = (event: { currentTarget: { value: string } }) => {\n    const value = event.currentTarget.value;\n    if (this.props.onChange) this.props.onChange(value);\n    this.setState(\n      {\n        validatedValue: value,\n      },\n      () => {\n        this._enqueueValidation.cancel();\n        this._doValidation();\n      }\n    );\n  };\n\n  _handleMenuMouseDown = (event: any) => {\n    // Keep the TextField focused\n    event.preventDefault();\n  };\n\n  _handleExpressionChosen = (\n    expressionInfo: EnumeratedInstructionOrExpressionMetadata\n  ) => {\n    this.setState({\n      popoverOpen: false,\n      parametersDialogOpen: true,\n      selectedExpressionInfo: expressionInfo,\n    });\n  };\n\n  insertExpression = (\n    expressionInfo: EnumeratedInstructionOrExpressionMetadata,\n    parameterValues: ParameterValues\n  ) => {\n    if (!this._inputElement) return;\n    const cursorPosition = this._inputElement.selectionStart;\n\n    const functionCall = formatExpressionCall(expressionInfo, parameterValues);\n\n    const { value } = this.props;\n    const newValue =\n      value.substr(0, cursorPosition) +\n      functionCall +\n      value.substr(cursorPosition);\n\n    if (this.props.onChange) this.props.onChange(newValue);\n    setTimeout(() => {\n      if (this._field) this._field.focus();\n\n      setTimeout(() => {\n        if (this._inputElement)\n          this._inputElement.setSelectionRange(\n            cursorPosition,\n            cursorPosition + functionCall.length\n          );\n      }, 5);\n    }, 5);\n  };\n\n  _enqueueValidation = debounce(() => {\n    this._doValidation();\n  }, 500);\n\n  _doValidation = () => {\n    const {\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      expressionType,\n    } = this.props;\n    if (!project) return null;\n\n    // Validation can be time consuming (~1ms for simple expression,\n    // a few milliseconds for complex ones).\n\n    const parser = new gd.ExpressionParser2(\n      gd.JsPlatform.get(),\n      globalObjectsContainer,\n      objectsContainer\n    );\n    const expression = this.state.validatedValue;\n    const expressionNode = parser\n      .parseExpression(expressionType, expression)\n      .get();\n\n    const expressionValidator = new gd.ExpressionValidator();\n    expressionNode.visit(expressionValidator);\n    const errors = expressionValidator.getErrors();\n\n    const errorHighlights: Array<Highlight> = mapVector(errors, error => ({\n      begin: error.getStartPosition(),\n      end: error.getEndPosition() + 1,\n      message: error.getMessage(),\n      type: 'error',\n    }));\n    const hasMultipleErrors = errorHighlights.length > 1;\n    const errorText = errorHighlights\n      .map(\n        (highlight, i) =>\n          (hasMultipleErrors ? `[${i + 1}] ` : '') + highlight.message\n      )\n      .join(' ');\n\n    expressionValidator.delete();\n    parser.delete();\n\n    this.setState({ errorText, errorHighlights });\n  };\n\n  render() {\n    const {\n      value,\n      expressionType,\n      parameterMetadata,\n      project,\n      scope,\n      globalObjectsContainer,\n      objectsContainer,\n      parameterRenderingService,\n    } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    const popoverStyle = {\n      width: this._fieldElement ? this._fieldElement.clientWidth : 'auto',\n    };\n\n    const backgroundHighlightingStyle = description\n      ? styles.backgroundHighlightingWithDescription\n      : styles.backgroundHighlighting;\n\n    return (\n      <div style={styles.container}>\n        <div style={styles.textFieldContainer}>\n          <div style={styles.textFieldAndHightlightContainer}>\n            <BackgroundHighlighting\n              value={this.state.validatedValue}\n              style={{ ...styles.input, ...backgroundHighlightingStyle }}\n              highlights={this.state.errorHighlights}\n            />\n            <SemiControlledTextField\n              value={value}\n              floatingLabelText={description}\n              hintText={expressionType === 'string' ? '\"\"' : undefined}\n              inputStyle={styles.input}\n              onChange={this._handleChange}\n              onBlur={this._handleBlur}\n              ref={field => (this._field = field)}\n              onFocus={this._handleFocus}\n              errorText={this.state.errorText}\n              multiLine\n              fullWidth\n            />\n          </div>\n          {this._fieldElement && (\n            <Popover\n              style={popoverStyle}\n              open={this.state.popoverOpen}\n              canAutoPosition={false}\n              anchorEl={this._fieldElement}\n              useLayerForClickAway={false}\n              anchorOrigin={{ horizontal: 'left', vertical: 'bottom' }}\n              targetOrigin={{ horizontal: 'left', vertical: 'top' }}\n              onRequestClose={this._handleRequestClose}\n            >\n              <div style={styles.expressionSelectorPopoverContent}>\n                <ExpressionSelector\n                  selectedType=\"\"\n                  onChoose={(type, expression) => {\n                    this._handleExpressionChosen(expression);\n                  }}\n                  expressionType={expressionType}\n                  focusOnMount\n                  scope={scope}\n                />\n              </div>\n            </Popover>\n          )}\n        </div>\n        {!this.props.isInline &&\n          this.props.renderExtraButton &&\n          this.props.renderExtraButton({\n            style: description\n              ? styles.functionsButtonWithDescription\n              : styles.functionsButton,\n          })}\n        {!this.props.isInline && (\n          <RaisedButton\n            icon={<Functions />}\n            label={\n              expressionType === 'string'\n                ? '\"ABC\"'\n                : expressionType === 'number'\n                ? '123'\n                : ''\n            }\n            primary\n            style={\n              description\n                ? styles.functionsButtonWithDescription\n                : styles.functionsButton\n            }\n            onClick={this._openExpressionPopover}\n          />\n        )}\n        {this.state.parametersDialogOpen && this.state.selectedExpressionInfo && (\n          <ExpressionParametersEditorDialog\n            open={true}\n            project={project}\n            scope={scope}\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            expressionMetadata={this.state.selectedExpressionInfo.metadata}\n            onDone={parameterValues => {\n              if (!this.state.selectedExpressionInfo) return;\n\n              this.insertExpression(\n                this.state.selectedExpressionInfo,\n                parameterValues\n              );\n              this.setState({\n                parametersDialogOpen: false,\n                selectedExpressionInfo: null,\n              });\n            }}\n            onRequestClose={() => {\n              this.setState({\n                parametersDialogOpen: false,\n                selectedExpressionInfo: null,\n              });\n            }}\n            parameterRenderingService={parameterRenderingService}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport {\n  type EnumeratedInstructionOrExpressionMetadata,\n  type InstructionOrExpressionScope,\n} from './EnumeratedInstructionOrExpressionMetadata.js';\nconst gd = global.gd;\n\nconst GROUP_DELIMITER = '/';\n\nconst enumerateExtensionInstructions = (\n  prefix: string,\n  instructions: gdMapStringInstructionMetadata,\n  scope: InstructionOrExpressionScope\n): Array<EnumeratedInstructionOrExpressionMetadata> => {\n  //Get the map containing the metadata of the instructions provided by the extension...\n  const instructionsTypes = instructions.keys();\n  const allInstructions = [];\n\n  //... and add each instruction\n  for (let j = 0; j < instructionsTypes.size(); ++j) {\n    const instrMetadata = instructions.get(instructionsTypes.get(j));\n    if (instrMetadata.isHidden()) continue;\n\n    const displayedName = instrMetadata.getFullName();\n    const groupName = instrMetadata.getGroup();\n    const iconFilename = instrMetadata.getIconFilename();\n    const fullGroupName = prefix + groupName;\n\n    allInstructions.push({\n      type: instructionsTypes.get(j),\n      metadata: instrMetadata,\n      iconFilename,\n      displayedName,\n      fullGroupName,\n      scope,\n      isPrivate: instrMetadata.isPrivate(),\n    });\n  }\n\n  return allInstructions;\n};\n\nexport const enumerateInstructions = (\n  isCondition: boolean\n): Array<EnumeratedInstructionOrExpressionMetadata> => {\n  let allInstructions = [];\n\n  const allExtensions = gd\n    .asPlatform(gd.JsPlatform.get())\n    .getAllPlatformExtensions();\n  for (let i = 0; i < allExtensions.size(); ++i) {\n    const extension = allExtensions.get(i);\n    const allObjectsTypes = extension.getExtensionObjectsTypes();\n    const allBehaviorsTypes = extension.getBehaviorsTypes();\n\n    let prefix = '';\n    if (allObjectsTypes.size() > 0 || allBehaviorsTypes.size() > 0) {\n      prefix =\n        extension.getName() === 'BuiltinObject'\n          ? 'Common ' +\n            (isCondition ? 'conditions' : 'actions') +\n            ' for all objects'\n          : extension.getFullName();\n      prefix += GROUP_DELIMITER;\n    }\n\n    //Free instructions\n    allInstructions = [\n      ...allInstructions,\n      ...enumerateExtensionInstructions(\n        prefix,\n        isCondition ? extension.getAllConditions() : extension.getAllActions(),\n        {\n          objectMetadata: undefined,\n          behaviorMetadata: undefined,\n        }\n      ),\n    ];\n\n    //Objects instructions:\n    for (let j = 0; j < allObjectsTypes.size(); ++j) {\n      const objectType = allObjectsTypes.get(j);\n      const objectMetadata = extension.getObjectMetadata(objectType);\n      allInstructions = [\n        ...allInstructions,\n        ...enumerateExtensionInstructions(\n          prefix,\n          isCondition\n            ? extension.getAllConditionsForObject(objectType)\n            : extension.getAllActionsForObject(objectType),\n          { objectMetadata }\n        ),\n      ];\n    }\n\n    //Behaviors instructions:\n    for (let j = 0; j < allBehaviorsTypes.size(); ++j) {\n      const behaviorType = allBehaviorsTypes.get(j);\n      const behaviorMetadata = extension.getBehaviorMetadata(behaviorType);\n      allInstructions = [\n        ...allInstructions,\n        ...enumerateExtensionInstructions(\n          prefix,\n          isCondition\n            ? extension.getAllConditionsForBehavior(behaviorType)\n            : extension.getAllActionsForBehavior(behaviorType),\n          { behaviorMetadata }\n        ),\n      ];\n    }\n  }\n\n  return allInstructions;\n};\n\nconst orderFirstInstructionsWithoutGroup = (\n  allInstructions: Array<EnumeratedInstructionOrExpressionMetadata>\n) => {\n  const noGroupInstructions = allInstructions.filter(\n    instructionMetadata => instructionMetadata.fullGroupName.length === 0\n  );\n  const instructionsWithGroups = allInstructions.filter(\n    instructionMetadata => instructionMetadata.fullGroupName.length !== 0\n  );\n\n  return [...noGroupInstructions, ...instructionsWithGroups];\n};\n\n/**\n * List all the instructions that can be used for the given object,\n * in the given context. This includes instructions for the behaviors\n * attached to the object.\n */\nexport const enumerateObjectInstructions = (\n  isCondition: boolean,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  objectName: string\n): Array<EnumeratedInstructionOrExpressionMetadata> => {\n  let allInstructions = [];\n\n  const objectType: string = gd.getTypeOfObject(\n    globalObjectsContainer,\n    objectsContainer,\n    objectName,\n    true\n  );\n  const objectBehaviorNames: Array<string> = gd\n    .getBehaviorsOfObject(\n      globalObjectsContainer,\n      objectsContainer,\n      objectName,\n      true\n    )\n    .toJSArray();\n  const objectBehaviorTypes = new Set(\n    objectBehaviorNames.map(behaviorName =>\n      gd.getTypeOfBehavior(\n        globalObjectsContainer,\n        objectsContainer,\n        behaviorName\n      )\n    )\n  );\n\n  const allExtensions = gd\n    .asPlatform(gd.JsPlatform.get())\n    .getAllPlatformExtensions();\n  for (let i = 0; i < allExtensions.size(); ++i) {\n    const extension = allExtensions.get(i);\n    const hasObjectType =\n      extension\n        .getExtensionObjectsTypes()\n        .toJSArray()\n        .indexOf(objectType) !== -1;\n    const hasBaseObjectType =\n      extension\n        .getExtensionObjectsTypes()\n        .toJSArray()\n        .indexOf('' /* An empty string means the base object */) !== -1;\n    const behaviorTypes = extension\n      .getBehaviorsTypes()\n      .toJSArray()\n      .filter(behaviorType => objectBehaviorTypes.has(behaviorType));\n\n    if (!hasObjectType && !hasBaseObjectType && behaviorTypes.length === 0) {\n      continue;\n    }\n\n    const prefix = '';\n\n    //Objects instructions:\n    if (hasObjectType) {\n      const objectMetadata = extension.getObjectMetadata(objectType);\n      allInstructions = [\n        ...allInstructions,\n        ...enumerateExtensionInstructions(\n          prefix,\n          isCondition\n            ? extension.getAllConditionsForObject(objectType)\n            : extension.getAllActionsForObject(objectType),\n          { objectMetadata }\n        ),\n      ];\n    }\n\n    if (hasBaseObjectType) {\n      const objectMetadata = extension.getObjectMetadata('');\n      allInstructions = [\n        ...allInstructions,\n        ...enumerateExtensionInstructions(\n          prefix,\n          isCondition\n            ? extension.getAllConditionsForObject(\n                '' /* An empty string means the base object */\n              )\n            : extension.getAllActionsForObject(\n                '' /* An empty string means the base object */\n              ),\n          { objectMetadata }\n        ),\n      ];\n    }\n\n    //Behaviors instructions (show them at the top of the list):\n    // eslint-disable-next-line\n    behaviorTypes.forEach(behaviorType => {\n      const behaviorMetadata = extension.getBehaviorMetadata(behaviorType);\n      allInstructions = [\n        ...enumerateExtensionInstructions(\n          prefix,\n          isCondition\n            ? extension.getAllConditionsForBehavior(behaviorType)\n            : extension.getAllActionsForBehavior(behaviorType),\n          { behaviorMetadata }\n        ),\n        ...allInstructions,\n      ];\n    });\n  }\n\n  return orderFirstInstructionsWithoutGroup(allInstructions);\n};\n\n/**\n * Enumerate all the instructions that are not directly tied\n * to an object.\n */\nexport const enumerateFreeInstructions = (\n  isCondition: boolean\n): Array<EnumeratedInstructionOrExpressionMetadata> => {\n  let allFreeInstructions = [];\n\n  const allExtensions = gd\n    .asPlatform(gd.JsPlatform.get())\n    .getAllPlatformExtensions();\n  for (let i = 0; i < allExtensions.size(); ++i) {\n    const extension = allExtensions.get(i);\n    const allObjectsTypes = extension.getExtensionObjectsTypes();\n    const allBehaviorsTypes = extension.getBehaviorsTypes();\n\n    let prefix = '';\n    if (allObjectsTypes.size() > 0 || allBehaviorsTypes.size() > 0) {\n      prefix =\n        extension.getName() === 'BuiltinObject' ? '' : extension.getFullName();\n      prefix += GROUP_DELIMITER;\n    }\n\n    //Free instructions\n    allFreeInstructions = [\n      ...allFreeInstructions,\n      ...enumerateExtensionInstructions(\n        prefix,\n        isCondition ? extension.getAllConditions() : extension.getAllActions(),\n        {\n          objectMetadata: undefined,\n          behaviorMetadata: undefined,\n        }\n      ),\n    ];\n  }\n\n  return allFreeInstructions;\n};\n\nexport type InstructionFilteringOptions = {|\n  searchText: string,\n|};\n\nexport const filterInstructionsList = (\n  list: Array<EnumeratedInstructionOrExpressionMetadata>,\n  { searchText }: InstructionFilteringOptions\n): Array<EnumeratedInstructionOrExpressionMetadata> => {\n  if (!searchText === '') {\n    return list;\n  }\n\n  const lowercaseSearch = searchText.toLowerCase();\n\n  const matchCritera = (\n    enumeratedInstructionOrExpressionMetadata: EnumeratedInstructionOrExpressionMetadata\n  ) => {\n    const {\n      displayedName,\n      fullGroupName,\n    } = enumeratedInstructionOrExpressionMetadata;\n    return (\n      displayedName.toLowerCase().indexOf(lowercaseSearch) !== -1 ||\n      fullGroupName.toLowerCase().indexOf(lowercaseSearch) !== -1\n    );\n  };\n\n  const favorExactMatch = (\n    list: Array<EnumeratedInstructionOrExpressionMetadata>\n  ): Array<EnumeratedInstructionOrExpressionMetadata> => {\n    if (!searchText) {\n      return list;\n    }\n\n    for (var i = 0; i < list.length; ++i) {\n      if (list[i].displayedName.toLowerCase() === lowercaseSearch) {\n        const exactMatch = list[i];\n        list.splice(i, 1);\n        list.unshift(exactMatch);\n      }\n    }\n\n    return list;\n  };\n\n  return favorExactMatch(list.filter(matchCritera));\n};\n","// @flow\nimport update from 'lodash/update';\nimport compact from 'lodash/compact';\nimport { type EnumeratedInstructionOrExpressionMetadata } from './EnumeratedInstructionOrExpressionMetadata.js';\n\nconst GROUP_DELIMITER = '/';\n\nexport type InstructionOrExpressionTreeNode =\n  | EnumeratedInstructionOrExpressionMetadata\n  | {\n      [string]: InstructionOrExpressionTreeNode,\n    };\n\nexport const createTree = (\n  allExpressions: Array<EnumeratedInstructionOrExpressionMetadata>\n): InstructionOrExpressionTreeNode => {\n  const tree = {};\n  allExpressions.forEach(\n    (expressionInfo: EnumeratedInstructionOrExpressionMetadata) => {\n      let pathInTree = compact(\n        expressionInfo.fullGroupName.split(GROUP_DELIMITER)\n      );\n      if (!pathInTree.length) {\n        // Group items without a group in an empty group\n        pathInTree = [''];\n      }\n\n      update(tree, pathInTree, groupInfo => {\n        const existingGroupInfo = groupInfo || {};\n        return {\n          ...existingGroupInfo,\n          [expressionInfo.displayedName]: expressionInfo,\n        };\n      });\n    }\n  );\n\n  return tree;\n};\n","// @flow\n\nexport default function getObjectByName(\n  project: gdProject,\n  layout?: ?gdLayout,\n  associatedObjectName: string\n): ?gdObject {\n  let associatedObject = null;\n  if (layout && layout.hasObjectNamed(associatedObjectName))\n    associatedObject = layout.getObject(associatedObjectName);\n  else if (project.hasObjectNamed(associatedObjectName))\n    associatedObject = project.getObject(associatedObjectName);\n  return associatedObject;\n}\n","// @flow\nimport { t } from '@lingui/macro';\n\nexport type Hint = {| kind: 'warning' | 'info', message: string |};\n\nexport const getDeprecatedBehaviorsInformation = (): {\n  [string]: {| warning: string |},\n} => ({\n  'PhysicsBehavior::PhysicsBehavior': {\n    warning: t`A new physics engine (Physics Engine 2.0) is now available. You should prefer using it for new game. For existing games, note that the two behaviors are not compatible, so you should only use one of them with your objects.`,\n  },\n});\n\nexport const getExperimentalObjects = (): {\n  [string]: boolean,\n} => ({\n  'Video::VideoObject': true,\n});\n\nexport const getExtraObjectsInformation = (): {\n  [string]: Array<Hint>,\n} => ({\n  'Video::VideoObject': [\n    {\n      kind: 'warning',\n      message: t`Most browsers will require the user to have interacted with your game before allowing any video to play. Make sure that the player click/touch the screen at the beginning of the game before starting any video.`,\n    },\n    {\n      kind: 'warning',\n      message: t`For a given video resource, only one video will be played in memory and displayed. If you put this object multiple times on the scene, all the instances will be displaying the exact same video (with the same timing and paused/played/stopped state).`,\n    },\n    {\n      kind: 'info',\n      message: t`Video format supported can vary according to devices and browsers. For maximum compatibility, use H.264/mp4 file format (and AAC for audio).`,\n    },\n  ],\n});\n\nexport const getExtraInstructionInformation = (type: string): ?Hint => {\n  if (type.indexOf('PhysicsBehavior::') === 0) {\n    return {\n      kind: 'warning',\n      message: t`This action is deprecated and should not be used anymore. Instead,\n  use for all your objects the behavior called \"Physics2\" and the\n  associated actions (in this case, all objects must be set up to use\n  Physics2, you can't mix the behaviors).`,\n    };\n  }\n  if (type === 'TextObject::Size') {\n    return {\n      kind: 'warning',\n      message: t`This action will create a new texture and re-render the text each time it is called, which is expensive and can reduce performances. Prefer to avoid changing a lot the character size of a text.`,\n    };\n  }\n  if (type === 'PlayMusicCanal' || type === 'PlayMusic') {\n    return {\n      kind: 'warning',\n      message: t`Musics will only be played if the user has interacted with the game before (by clicking/touching it or pressing a key on the keyboard). This is due to browser limitations. Make sure to have the user interact with the game before using this action.`,\n    };\n  }\n\n  return null;\n};\n","// @flow\nimport { type I18n as I18nType } from '@lingui/core';\nimport { t } from '@lingui/macro';\nimport { mapVector } from '../Utils/MapFor';\nconst gd = global.gd;\n\n// This file contains the logic to declare extension metadata from\n// events functions or events based behaviors.\n// These are basically adapters from EventsFunctionsExtension, and children, to a\n// real extension declaration (like in `JsExtension.js` or `Extension.cpp` files).\n\n/**\n * Declare an extension from an events based extension.\n */\nexport const declareExtension = (\n  extension: gdPlatformExtension,\n  eventsFunctionsExtension: gdEventsFunctionsExtension\n) => {\n  extension.setExtensionInformation(\n    eventsFunctionsExtension.getName(),\n    eventsFunctionsExtension.getFullName() ||\n      eventsFunctionsExtension.getName(),\n    eventsFunctionsExtension.getDescription(),\n    '',\n    ''\n  );\n};\n\n/**\n * Declare the behavior for the given\n * events based behavior.\n */\nexport const declareBehaviorMetadata = (\n  extension: gdPlatformExtension,\n  eventsBasedBehavior: gdEventsBasedBehavior\n): gdBehaviorMetadata => {\n  const generatedBehavior = new gd.BehaviorJsImplementation();\n\n  // The functions below are keeping a reference to eventsBasedBehavior.\n  // This should be safe as if eventsBasedBehavior is deleted (i.e: the behavior\n  // is removed from its extension), then extension will be re-generated.\n\n  // Declare the properties of the behavior\n  generatedBehavior.updateProperty = function(\n    behaviorContent: gdBehaviorContent,\n    propertyName: string,\n    newValue: string\n  ) {\n    let propertyFound = false;\n    mapVector(eventsBasedBehavior.getPropertyDescriptors(), property => {\n      if (property.getName() === propertyName) {\n        propertyFound = true;\n        const element = behaviorContent.addChild(propertyName);\n        const propertyType: string = property.getType();\n\n        if (propertyType === 'String' || propertyType === 'Choice') {\n          element.setStringValue(newValue);\n        } else if (propertyType === 'Number') {\n          element.setDoubleValue(parseFloat(newValue));\n        } else if (propertyType === 'Boolean') {\n          element.setBoolValue(newValue === '1');\n        }\n      }\n    });\n\n    return propertyFound;\n  };\n\n  generatedBehavior.getProperties = function(behaviorContent) {\n    var behaviorProperties = new gd.MapStringPropertyDescriptor();\n    mapVector(eventsBasedBehavior.getPropertyDescriptors(), property => {\n      const newProperty = property.toPropertyDescriptor();\n      const propertyType: string = newProperty.getType();\n\n      if (behaviorContent.hasChild(property.getName())) {\n        if (propertyType === 'String' || propertyType === 'Choice') {\n          newProperty.setValue(\n            behaviorContent.getChild(property.getName()).getStringValue()\n          );\n        } else if (propertyType === 'Number') {\n          newProperty.setValue(\n            '' + behaviorContent.getChild(property.getName()).getDoubleValue()\n          );\n        } else if (propertyType === 'Boolean') {\n          newProperty.setValue(\n            behaviorContent.getChild(property.getName()).getBoolValue()\n              ? 'true'\n              : 'false'\n          );\n        }\n      } else {\n        // No value was serialized for this property. `newProperty`\n        // will have the default value coming from `property`.\n      }\n\n      behaviorProperties.set(property.getName(), newProperty);\n    });\n\n    return behaviorProperties;\n  };\n\n  generatedBehavior.initializeContent = function(behaviorContent) {\n    mapVector(eventsBasedBehavior.getPropertyDescriptors(), property => {\n      const element = behaviorContent.addChild(property.getName());\n      const propertyType: string = property.getType();\n\n      if (propertyType === 'String' || propertyType === 'Choice') {\n        element.setStringValue(property.getValue());\n      } else if (propertyType === 'Number') {\n        element.setDoubleValue(parseFloat(property.getValue()) || 0);\n      } else if (propertyType === 'Boolean') {\n        element.setBoolValue(property.getValue() === 'true');\n      }\n    });\n  };\n\n  return extension\n    .addBehavior(\n      eventsBasedBehavior.getName(),\n      eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n      eventsBasedBehavior.getName(), // Default name is the name\n      eventsBasedBehavior.getDescription(),\n      '',\n      'res/function24.png',\n      eventsBasedBehavior.getName(), // Class name is the name, actually unused\n      generatedBehavior,\n      new gd.BehaviorsSharedData()\n    )\n    .setObjectType(eventsBasedBehavior.getObjectType());\n};\n\n/**\n * Check if the name of the function is the name of a lifecycle function,\n * that will be called automatically by the game engine.\n */\nexport const isBehaviorLifecycleFunction = (functionName: string) => {\n  return (\n    [\n      'onCreated',\n      'onActivate',\n      'onDeActivate',\n      'doStepPreEvents',\n      'doStepPostEvents',\n      'onDestroy',\n      // Compatibility with GD <= 5.0 beta 75\n      'onOwnerRemovedFromScene',\n      // end of compatibility code\n    ].indexOf(functionName) !== -1\n  );\n};\n\n/**\n * Declare the instruction (action/condition) or expression for the given\n * (free) events function.\n */\nexport const declareInstructionOrExpressionMetadata = (\n  extension: gdPlatformExtension,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  eventsFunction: gdEventsFunction\n): gdInstructionMetadata | gdExpressionMetadata => {\n  const functionType = eventsFunction.getFunctionType();\n  if (functionType === gd.EventsFunction.Expression) {\n    return extension.addExpression(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription() || eventsFunction.getFullName(),\n      eventsFunctionsExtension.getFullName() ||\n        eventsFunctionsExtension.getName(),\n      'res/function.png'\n    );\n  } else if (functionType === gd.EventsFunction.StringExpression) {\n    return extension.addStrExpression(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription() || eventsFunction.getFullName(),\n      eventsFunctionsExtension.getFullName() ||\n        eventsFunctionsExtension.getName(),\n      'res/function.png'\n    );\n  } else if (functionType === gd.EventsFunction.Condition) {\n    return extension.addCondition(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription() || eventsFunction.getFullName(),\n      eventsFunction.getSentence(),\n      eventsFunctionsExtension.getFullName() ||\n        eventsFunctionsExtension.getName(),\n      'res/function.png',\n      'res/function24.png'\n    );\n  } else {\n    return extension.addAction(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription() || eventsFunction.getFullName(),\n      eventsFunction.getSentence(),\n      eventsFunctionsExtension.getFullName() ||\n        eventsFunctionsExtension.getName(),\n      'res/function.png',\n      'res/function24.png'\n    );\n  }\n};\n\n/**\n * Declare the instruction (action/condition) or expression for the given\n * behavior events function.\n */\nexport const declareBehaviorInstructionOrExpressionMetadata = (\n  behaviorMetadata: gdBehaviorMetadata,\n  eventsBasedBehavior: gdEventsBasedBehavior,\n  eventsFunction: gdEventsFunction\n): gdInstructionMetadata | gdExpressionMetadata => {\n  const functionType = eventsFunction.getFunctionType();\n  if (functionType === gd.EventsFunction.Expression) {\n    return behaviorMetadata.addExpression(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription() || eventsFunction.getFullName(),\n      eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n      'res/function.png'\n    );\n  } else if (functionType === gd.EventsFunction.StringExpression) {\n    return behaviorMetadata.addStrExpression(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription() || eventsFunction.getFullName(),\n      eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n      'res/function.png'\n    );\n  } else if (functionType === gd.EventsFunction.Condition) {\n    // Use the new \"scoped\" way to declare an instruction, because\n    // we want to prevent any conflict between free functions and\n    // behaviors (that can totally have functions with the same name).\n    return behaviorMetadata.addScopedCondition(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription() || eventsFunction.getFullName(),\n      eventsFunction.getSentence(),\n      eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n      'res/function.png',\n      'res/function24.png'\n    );\n  } else {\n    // Use the new \"scoped\" way to declare an instruction, because\n    // we want to prevent any conflict between free functions and\n    // behaviors (that can totally have functions with the same name).\n    return behaviorMetadata.addScopedAction(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription() || eventsFunction.getFullName(),\n      eventsFunction.getSentence(),\n      eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n      'res/function.png',\n      'res/function24.png'\n    );\n  }\n};\n\n/**\n * Declare the instructions (actions/conditions) and expressions for the\n * properties of the given events based behavior.\n * This is akin to what would happen by manually declaring a JS extension\n * (see `JsExtension.js` files of extensions).\n */\nexport const declareBehaviorPropertiesInstructionAndExpressions = (\n  i18n: I18nType,\n  behaviorMetadata: gdBehaviorMetadata,\n  eventsBasedBehavior: gdEventsBasedBehavior\n): void => {\n  const addObjectAndBehaviorParameters = (\n    instructionOrExpression: gdInstructionMetadata | gdExpressionMetadata\n  ) => {\n    // By convention, first parameter is always the object:\n    instructionOrExpression.addParameter(\n      'object',\n      'Object',\n      '', // See below for adding the extra information\n      false\n    );\n\n    // Manually add the \"extra info\" without relying on addParameter\n    // as this method is prefixing the value passed with the extension namespace (this\n    // was done to ease extension declarations when dealing with object).\n    instructionOrExpression\n      .getParameter(instructionOrExpression.getParametersCount() - 1)\n      .setExtraInfo(eventsBasedBehavior.getObjectType());\n\n    // By convention, second parameter is always the behavior:\n    instructionOrExpression.addParameter(\n      'behavior',\n      'Behavior',\n      eventsBasedBehavior.getName(),\n      false\n    );\n\n    // All property actions/conditions/expressions are private, meaning\n    // they can only be used from the behavior events.\n    instructionOrExpression.setPrivate();\n\n    return instructionOrExpression;\n  };\n\n  mapVector(eventsBasedBehavior.getPropertyDescriptors(), property => {\n    const propertyType = property.getType();\n    const propertyName = property.getName();\n    const getterName = gd.BehaviorCodeGenerator.getBehaviorPropertyGetterName(\n      propertyName\n    );\n    const setterName = gd.BehaviorCodeGenerator.getBehaviorPropertySetterName(\n      propertyName\n    );\n    const propertyLabel =\n      property.getLabel() || i18n._(t`${propertyName} property`);\n\n    if (propertyType === 'String' || propertyType === 'Choice') {\n      addObjectAndBehaviorParameters(\n        behaviorMetadata.addStrExpression(\n          gd.EventsBasedBehavior.getPropertyExpressionName(propertyName),\n          propertyLabel,\n          propertyLabel,\n          eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n          'res/function.png'\n        )\n      )\n        .getCodeExtraInformation()\n        .setFunctionName(getterName);\n\n      addObjectAndBehaviorParameters(\n        behaviorMetadata.addScopedCondition(\n          gd.EventsBasedBehavior.getPropertyConditionName(propertyName),\n          propertyLabel,\n          i18n._(t`Compare the content of ${propertyLabel}`),\n          i18n._(t`Property ${propertyName} of _PARAM0_ is _PARAM2__PARAM3_`),\n          eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n          'res/function.png'\n        )\n      )\n        .addParameter(\n          'relationalOperator',\n          i18n._(t`Sign of the test`),\n          '',\n          false\n        )\n        .addParameter('string', i18n._(t`String to compare against`), '', false)\n        .getCodeExtraInformation()\n        .setFunctionName(getterName)\n        .setManipulatedType('string');\n\n      addObjectAndBehaviorParameters(\n        behaviorMetadata.addScopedAction(\n          gd.EventsBasedBehavior.getPropertyActionName(propertyName),\n          propertyLabel,\n          i18n._(t`Update the content of ${propertyLabel}`),\n          i18n._(\n            t`Do _PARAM2__PARAM3_ to property ${propertyName} of _PARAM0_`\n          ),\n          eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n          'res/function.png'\n        )\n      )\n        .addParameter('operator', i18n._(t`Modification's sign`), '', false)\n        .addParameter('string', i18n._(t`New value`), '', false)\n        .getCodeExtraInformation()\n        .setFunctionName(setterName)\n        .setManipulatedType('string')\n        .setGetter(getterName);\n    } else if (propertyType === 'Number') {\n      addObjectAndBehaviorParameters(\n        behaviorMetadata.addExpression(\n          gd.EventsBasedBehavior.getPropertyExpressionName(propertyName),\n          propertyLabel,\n          propertyLabel,\n          eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n          'res/function.png'\n        )\n      )\n        .getCodeExtraInformation()\n        .setFunctionName(getterName);\n\n      addObjectAndBehaviorParameters(\n        behaviorMetadata.addScopedCondition(\n          gd.EventsBasedBehavior.getPropertyConditionName(propertyName),\n          propertyLabel,\n          i18n._(t`Compare the value of ${propertyLabel}`),\n          i18n._(t`Property ${propertyName} of _PARAM0_ is _PARAM2__PARAM3_`),\n          eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n          'res/function.png'\n        )\n      )\n        .addParameter(\n          'relationalOperator',\n          i18n._(t`Sign of the test`),\n          '',\n          false\n        )\n        .addParameter(\n          'expression',\n          i18n._(t`Value to compare against`),\n          '',\n          false\n        )\n        .getCodeExtraInformation()\n        .setFunctionName(getterName)\n        .setManipulatedType('number');\n\n      addObjectAndBehaviorParameters(\n        behaviorMetadata.addScopedAction(\n          gd.EventsBasedBehavior.getPropertyActionName(propertyName),\n          propertyLabel,\n          i18n._(t`Update the value of ${propertyLabel}`),\n          i18n._(\n            t`Do _PARAM2__PARAM3_ to property ${propertyName} of _PARAM0_`\n          ),\n          eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n          'res/function.png'\n        )\n      )\n        .addParameter('operator', i18n._(t`Modification's sign`), '', false)\n        .addParameter('expression', i18n._(t`New value`), '', false)\n        .getCodeExtraInformation()\n        .setFunctionName(setterName)\n        .setManipulatedType('number')\n        .setGetter(getterName);\n    } else if (propertyType === 'Boolean') {\n      addObjectAndBehaviorParameters(\n        behaviorMetadata.addScopedCondition(\n          gd.EventsBasedBehavior.getPropertyConditionName(propertyName),\n          propertyLabel,\n          i18n._(t`Check the value of ${propertyLabel}`),\n          i18n._(t`Property ${propertyName} of _PARAM0_ is true`),\n          eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n          'res/function.png',\n          'res/function24.png'\n        )\n      )\n        .getCodeExtraInformation()\n        .setFunctionName(getterName);\n\n      addObjectAndBehaviorParameters(\n        behaviorMetadata.addScopedAction(\n          gd.EventsBasedBehavior.getPropertyActionName(propertyName),\n          propertyLabel,\n          i18n._(t`Update the value of ${propertyLabel}`),\n          i18n._(t`Set property ${propertyName} of _PARAM0_ to _PARAM2_`),\n          eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n          'res/function.png'\n        )\n      )\n        .addParameter('yesorno', i18n._(t`New value to set`), '', false)\n        .getCodeExtraInformation()\n        .setFunctionName(setterName);\n    }\n  });\n};\n\n/**\n * Add to the instruction (action/condition) or expression the parameters\n * expected by the events function.\n */\nexport const declareEventsFunctionParameters = (\n  eventsFunction: gdEventsFunction,\n  instructionOrExpression: gdInstructionMetadata | gdExpressionMetadata\n) => {\n  mapVector(\n    eventsFunction.getParameters(),\n    (parameter: gdParameterMetadata) => {\n      if (!parameter.isCodeOnly()) {\n        instructionOrExpression.addParameter(\n          parameter.getType(),\n          parameter.getDescription(),\n          '', // See below for adding the extra information\n          parameter.isOptional()\n        );\n      } else {\n        instructionOrExpression.addCodeOnlyParameter(\n          parameter.getType(),\n          '' // See below for adding the extra information\n        );\n      }\n      // Manually add the \"extra info\" without relying on addParameter (or addCodeOnlyParameter)\n      // as these methods are prefixing the value passed with the extension namespace (this\n      // was done to ease extension declarations when dealing with object).\n      instructionOrExpression\n        .getParameter(instructionOrExpression.getParametersCount() - 1)\n        .setExtraInfo(parameter.getExtraInfo());\n    }\n  );\n\n  // By convention, latest parameter is always the eventsFunctionContext of the calling function\n  // (if any).\n  instructionOrExpression.addCodeOnlyParameter('eventsFunctionContext', '');\n};\n","import React, { Component } from 'react';\nimport {\n  MosaicWindow as RMMosaicWindow,\n  MosaicWithoutDragDropContext,\n  getLeaves,\n} from 'react-mosaic-component';\nimport CloseButton from './CloseButton';\nimport ThemeConsumer from '../Theme/ThemeConsumer';\n\n// EditorMosaic default styling:\nimport 'react-mosaic-component/react-mosaic-component.css';\nimport './style.css';\n\nconst addRightNode = (\n  currentNode,\n  newNode,\n  splitPercentage,\n  direction = 'row'\n) => {\n  if (currentNode.second && typeof currentNode.second !== 'string') {\n    return {\n      ...currentNode,\n      second: addRightNode(currentNode.second, newNode, splitPercentage),\n    };\n  }\n\n  return {\n    direction,\n    first: currentNode,\n    second: newNode,\n    splitPercentage,\n  };\n};\n\nconst defaultToolbarControls = [<CloseButton key=\"close\" />];\n\nconst renderMosaicWindowPreview = props => (\n  <div className=\"mosaic-preview\">\n    <div className=\"mosaic-window-toolbar\">\n      <div className=\"mosaic-window-title\">{props.title}</div>\n    </div>\n    <div className=\"mosaic-window-body\" />\n  </div>\n);\n\n/**\n * A window that can be used in a EditorMosaic, with a close button\n * by default in the toolbarControls and a preview when the window is\n * dragged.\n */\nexport const MosaicWindow = props => (\n  <RMMosaicWindow\n    {...props}\n    toolbarControls={props.toolbarControls || defaultToolbarControls}\n    renderPreview={renderMosaicWindowPreview}\n  />\n);\n\n/**\n * @class EditorMosaic\n *\n * Can be used to create a mosaic of resizable editors.\n * Must be used inside a component wrapped in a DragDropContext.\n */\nexport default class EditorMosaic extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      mosaicNode: props.initialNodes,\n    };\n  }\n\n  openEditor = editorName => {\n    if (getLeaves(this.state.mosaicNode).indexOf(editorName) !== -1) {\n      return false;\n    }\n\n    this.setState({\n      mosaicNode: addRightNode(this.state.mosaicNode, editorName, 75),\n    });\n    return true;\n  };\n\n  _onChange = mosaicNode => this.setState({ mosaicNode });\n\n  render() {\n    const { editors } = this.props;\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <MosaicWithoutDragDropContext\n            className={`${\n              muiTheme.mosaicRootClassName\n            } mosaic-blueprint-theme mosaic-gd-theme`}\n            renderTile={(editorName, path) =>\n              React.cloneElement(editors[editorName], { path })\n            }\n            value={this.state.mosaicNode}\n            onChange={this._onChange}\n          />\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","import TextEditor from './Editors/TextEditor';\nimport TiledSpriteEditor from './Editors/TiledSpriteEditor';\nimport PanelSpriteEditor from './Editors/PanelSpriteEditor';\nimport SpriteEditor from './Editors/SpriteEditor';\nimport EmptyEditor from './Editors/EmptyEditor';\nimport ShapePainterEditor from './Editors/ShapePainterEditor';\nimport ParticleEmitterEditor from './Editors/ParticleEmitterEditor';\nimport ObjectPropertiesEditor from './Editors/ObjectPropertiesEditor';\nconst gd = global.gd;\n\n/**\n * A service returning editor components for each object type.\n */\nexport default {\n  getEditorConfiguration(objectType: string) {\n    if (!this.editorConfigurations[objectType]) {\n      console.warn(\n        `Object with type ${objectType} has no editor configuration registered. Please use registerEditorConfiguration to register your editor.`\n      );\n    }\n\n    return this.editorConfigurations[objectType];\n  },\n  registerEditorConfiguration: function(objectType, editorConfiguration) {\n    if (!editorConfiguration.component) {\n      console.warn(\n        `Tried to register editor configuration for object \"${objectType}\", but \"component\" property is not defined.`\n      );\n      return;\n    }\n    if (!editorConfiguration.createNewObject) {\n      console.warn(\n        `Tried to register editor configuration for object \"${objectType}\", but \"createNewObject\" property is not defined.`\n      );\n      return;\n    }\n    if (!editorConfiguration.castToObjectType) {\n      console.warn(\n        `Tried to register editor configuration for object \"${objectType}\", but \"castToObjectType\" property is not defined.`\n      );\n      return;\n    }\n\n    if (this.editorConfigurations.hasOwnProperty(objectType)) {\n      console.warn(\n        `Tried to register editor configuration for object \"${objectType}\", but an editor configuration already exists.`\n      );\n      return;\n    }\n\n    console.info(\n      `Properly registered editor configuration for object \"${objectType}\".`\n    );\n    this.editorConfigurations[objectType] = editorConfiguration;\n  },\n  getDefaultObjectJsImplementationPropertiesEditor() {\n    return {\n      component: ObjectPropertiesEditor,\n      createNewObject: object =>\n        gd\n          .asObjectJsImplementation(object)\n          .clone()\n          .release(),\n      castToObjectType: object => gd.asObjectJsImplementation(object),\n    };\n  },\n  editorConfigurations: {\n    Sprite: {\n      component: SpriteEditor,\n      createNewObject: () => new gd.SpriteObject(''),\n      castToObjectType: object => gd.asSpriteObject(object),\n      helpPagePath: '/objects/sprite',\n    },\n    'TiledSpriteObject::TiledSprite': {\n      component: TiledSpriteEditor,\n      createNewObject: () => new gd.TiledSpriteObject(''),\n      castToObjectType: object => gd.asTiledSpriteObject(object),\n      helpPagePath: '/objects/tiled_sprite',\n    },\n    'PanelSpriteObject::PanelSprite': {\n      component: PanelSpriteEditor,\n      createNewObject: () => new gd.PanelSpriteObject(''),\n      castToObjectType: object => gd.asPanelSpriteObject(object),\n      helpPagePath: '/objects/panel_sprite',\n    },\n    'TextObject::Text': {\n      component: TextEditor,\n      createNewObject: () => new gd.TextObject(''),\n      castToObjectType: object => gd.asTextObject(object),\n      helpPagePath: '/objects/text',\n    },\n    'PrimitiveDrawing::Drawer': {\n      component: ShapePainterEditor,\n      createNewObject: () => new gd.ShapePainterObject(''),\n      castToObjectType: object => gd.asShapePainterObject(object),\n      helpPagePath: '/objects/shape_painter',\n    },\n    'TextEntryObject::TextEntry': {\n      component: EmptyEditor,\n      createNewObject: () => new gd.TextEntryObject(''),\n      castToObjectType: object => gd.asTextEntryObject(object),\n      helpPagePath: '/objects/text_entry',\n    },\n    'ParticleSystem::ParticleEmitter': {\n      component: ParticleEmitterEditor,\n      createNewObject: () => new gd.ParticleEmitterObject(''),\n      castToObjectType: object => gd.asParticleEmitterObject(object),\n      helpPagePath: '/objects/particles_emitter',\n    },\n  },\n};\n","// @flow\nimport axios from 'axios';\nimport { GDevelopBuildApi } from './ApiConfigs';\n\nexport const getUrl = (key: string) =>\n  `https://s3-eu-west-1.amazonaws.com/gd-build/${key}`;\n\nexport type TargetName = 'winExe' | 'winZip' | 'macZip' | 'linuxAppImage';\n\nexport type Build = {\n  id: string,\n  userId: string,\n  bucket?: string,\n  logsKey?: string,\n  apkKey?: string,\n  windowsExeKey?: string,\n  windowsZipKey?: string,\n  macosZipKey?: string,\n  linuxAppImageKey?: string,\n  status: 'pending' | 'complete' | 'error',\n  type: 'cordova-build' | 'electron-build',\n  targets?: Array<TargetName>,\n  createdAt: number,\n  updatedAt: number,\n};\n\nexport const buildElectron = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string,\n  key: string,\n  targets: Array<TargetName>\n): Promise<Build> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.post(\n        `${GDevelopBuildApi.baseUrl}/build?userId=${encodeURIComponent(\n          userId\n        )}&key=${encodeURIComponent(\n          key\n        )}&type=electron-build&targets=${encodeURIComponent(\n          targets.join(',')\n        )}`,\n        null,\n        {\n          params: {},\n          headers: {\n            Authorization: authorizationHeader,\n          },\n        }\n      )\n    )\n    .then(response => response.data);\n};\n\nexport const buildCordovaAndroid = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string,\n  key: string\n): Promise<Build> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.post(\n        `${GDevelopBuildApi.baseUrl}/build?userId=${encodeURIComponent(\n          userId\n        )}&key=${encodeURIComponent(key)}&type=cordova-build`,\n        null,\n        {\n          params: {},\n          headers: {\n            Authorization: authorizationHeader,\n          },\n        }\n      )\n    )\n    .then(response => response.data);\n};\n\nexport const getBuild = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string,\n  buildId: string\n): Promise<Build> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopBuildApi.baseUrl}/build/${buildId}`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data);\n};\n\nexport const getBuilds = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string\n): Promise<Array<Build>> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopBuildApi.baseUrl}/build`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data);\n};\n","// @flow\nimport * as React from 'react';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ResourceKind } from '../ResourceSource.flow';\nimport ImageThumbnail from './ImageThumbnail';\n\ntype Props = {|\n  project: gdProject,\n  resourceName: string,\n  resourcesLoader: typeof ResourcesLoader,\n  children?: any,\n  style?: Object,\n  onSize?: (number, number) => void,\n  selectable?: boolean,\n  selected?: boolean,\n  onSelect?: boolean => void,\n  onContextMenu?: (number, number) => void,\n|};\n\ntype State = {|\n  resourceKind: ?ResourceKind,\n|};\n\n/**\n * Display the right thumbnail for any given resource of a project\n */\nexport default class ResourceThumbnail extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = this._loadFrom(props);\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      newProps.resourceName !== this.props.resourceName ||\n      newProps.project !== this.props.project\n    ) {\n      this.setState(this._loadFrom(newProps));\n    }\n  }\n\n  _loadFrom(props: Props): State {\n    const { project, resourceName } = props;\n    const resourcesManager = project.getResourcesManager();\n    const resourceKind = resourcesManager.hasResource(resourceName)\n      ? resourcesManager.getResource(resourceName).getKind()\n      : null;\n\n    return {\n      resourceKind,\n    };\n  }\n\n  render() {\n    const { resourceKind } = this.state;\n\n    switch (resourceKind) {\n      case 'image':\n        return (\n          <ImageThumbnail\n            project={this.props.project}\n            resourceName={this.props.resourceName}\n            resourcesLoader={this.props.resourcesLoader}\n            children={this.props.children}\n            style={this.props.style}\n            onSize={this.props.onSize}\n            selectable={this.props.selectable}\n            selected={this.props.selected}\n            onSelect={this.props.onSelect}\n            onContextMenu={this.props.onContextMenu}\n          />\n        );\n      default:\n        return null;\n    }\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ResourcesLoader from '../ResourcesLoader';\nimport ResourceSelector from '../ResourcesList/ResourceSelector';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n  type ResourceKind,\n} from '../ResourcesList/ResourceSource.flow';\nimport ResourceThumbnail from './ResourceThumbnail';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\n\ntype Props = {|\n  project: gdProject,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  resourceKind: ResourceKind,\n  resourceName: string,\n  onChange: string => void,\n  floatingLabelText?: React.Node,\n  hintText?: React.Node,\n|};\n\nconst ResourceSelectorWithThumbnail = ({\n  project,\n  resourceSources,\n  onChooseResource,\n  resourceExternalEditors,\n  resourceKind,\n  resourceName,\n  onChange,\n  floatingLabelText,\n  hintText,\n}: Props) => {\n  return (\n    <div style={{ flex: 1, display: 'flex', alignItems: 'flex-end' }}>\n      <div style={{ flex: 1 }}>\n        <ResourceSelector\n          project={project}\n          resourceSources={resourceSources}\n          onChooseResource={onChooseResource}\n          resourceExternalEditors={resourceExternalEditors}\n          resourcesLoader={ResourcesLoader}\n          resourceKind={resourceKind}\n          fullWidth\n          initialResourceName={resourceName}\n          onChange={onChange}\n          floatingLabelText={floatingLabelText}\n          hintText={hintText}\n        />\n      </div>\n      <ResourceThumbnail\n        resourceName={resourceName}\n        resourcesLoader={ResourcesLoader}\n        project={project}\n        style={{ marginLeft: 10 }}\n      />\n    </div>\n  );\n};\n\nexport default ResourceSelectorWithThumbnail;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport './MainFrame.css';\nimport IconButton from 'material-ui/IconButton';\nimport Drawer from 'material-ui/Drawer';\nimport Snackbar from 'material-ui/Snackbar';\nimport NavigationClose from 'material-ui/svg-icons/navigation/close';\nimport Toolbar from './Toolbar';\nimport ProjectTitlebar from './ProjectTitlebar';\nimport PreferencesDialog from './Preferences/PreferencesDialog';\nimport AboutDialog from './AboutDialog';\nimport ProjectManager from '../ProjectManager';\nimport PlatformSpecificAssetsDialog from '../PlatformSpecificAssetsEditor/PlatformSpecificAssetsDialog';\nimport LoaderModal from '../UI/LoaderModal';\nimport EditorBar from '../UI/EditorBar';\nimport CloseConfirmDialog from '../UI/CloseConfirmDialog';\nimport ProfileDialog from '../Profile/ProfileDialog';\nimport Window from '../Utils/Window';\nimport { showErrorBox } from '../UI/Messages/MessageBox';\nimport { Tabs, Tab } from '../UI/Tabs';\nimport {\n  getEditorTabsInitialState,\n  openEditorTab,\n  closeEditorTab,\n  changeCurrentTab,\n  getEditors,\n  getCurrentTabIndex,\n  getCurrentTab,\n  closeProjectTabs,\n  closeLayoutTabs,\n  closeExternalLayoutTabs,\n  closeExternalEventsTabs,\n  closeEventsFunctionsExtensionTabs,\n  saveUiSettings,\n  type EditorTabsState,\n  type EditorTab,\n  getEventsFunctionsExtensionEditor,\n} from './EditorTabsHandler';\nimport { watchPromiseInState } from '../Utils/WatchPromiseInState';\nimport { timeFunction } from '../Utils/TimeFunction';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport HelpFinder from '../HelpFinder';\n\n// Editors:\nimport DebuggerEditor from './Editors/DebuggerEditor';\nimport EventsEditor from './Editors/EventsEditor';\nimport ExternalEventsEditor from './Editors/ExternalEventsEditor';\nimport SceneEditor from './Editors/SceneEditor';\nimport ExternalLayoutEditor from './Editors/ExternalLayoutEditor';\nimport EventsFunctionsExtensionEditor from './Editors/EventsFunctionsExtensionEditor';\nimport StartPage from './Editors/StartPage';\nimport ResourcesEditor from './Editors/ResourcesEditor';\nimport ErrorBoundary from '../UI/ErrorBoundary';\nimport SubscriptionDialog from '../Profile/SubscriptionDialog';\nimport ResourcesLoader from '../ResourcesLoader/index';\nimport Authentification from '../Utils/GDevelopServices/Authentification';\nimport {\n  type PreviewLauncher,\n  type PreviewOptions,\n} from '../Export/PreviewLauncher.flow';\nimport { type ResourceSource } from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport { type JsExtensionsLoader } from '../JsExtensionsLoader';\nimport { type EventsFunctionsExtensionsState } from '../EventsFunctionsExtensionsLoader/EventsFunctionsExtensionsContext';\nimport {\n  getUpdateNotificationTitle,\n  getUpdateNotificationBody,\n  type UpdateStatus,\n} from './UpdaterTools';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport ChangelogDialogContainer from './Changelog/ChangelogDialogContainer';\nimport { getNotNullTranslationFunction } from '../Utils/i18n/getTranslationFunction';\nimport { type I18n } from '@lingui/core';\nimport { t } from '@lingui/macro';\nimport LanguageDialog from './Preferences/LanguageDialog';\nimport PreferencesContext from './Preferences/PreferencesContext';\nimport { getFunctionNameFromType } from '../EventsFunctionsExtensionsLoader';\n\nconst gd = global.gd;\n\nconst styles = {\n  drawerContent: {\n    overflowX: 'hidden',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n};\n\ntype State = {|\n  createDialogOpen: boolean,\n  exportDialogOpen: boolean,\n  introDialogOpen: boolean,\n  saveDialogOpen: boolean,\n  genericDialogOpen: boolean,\n  loadingProject: boolean,\n  previewLoading: boolean,\n  currentProject: ?gdProject,\n  projectManagerOpen: boolean,\n  editorTabs: EditorTabsState,\n  genericDialog: null,\n  snackMessage: string,\n  snackMessageOpen: boolean,\n  preferencesDialogOpen: boolean,\n  languageDialogOpen: boolean,\n  profileDialogOpen: boolean,\n  subscriptionDialogOpen: boolean,\n  updateStatus: UpdateStatus,\n  aboutDialogOpen: boolean,\n  platformSpecificAssetsDialogOpen: boolean,\n  helpFinderDialogOpen: boolean,\n  eventsFunctionsExtensionsError: ?Error,\n|};\n\ntype Props = {\n  integratedEditor?: boolean,\n  introDialog?: React.Element<*>,\n  onReadFromPathOrURL: (url: string) => Promise<any>,\n  previewLauncher?: React.Element<PreviewLauncher>,\n  onEditObject?: gdObject => void,\n  resourceSources: Array<ResourceSource>,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  onChooseProject?: () => Promise<?string>,\n  saveDialog?: React.Element<*>,\n  onSaveProject?: gdProject => Promise<any>,\n  onSaveProjectAs?: gdProject => Promise<any>,\n  onAutoSaveProject?: (project: gdProject) => void,\n  shouldOpenAutosave?: (\n    filePath: string,\n    autoSavePath: string,\n    compareLastModified: boolean\n  ) => boolean,\n  loading?: boolean,\n  requestUpdate?: () => void,\n  exportDialog?: React.Element<*>,\n  createDialog?: React.Element<*>,\n  authentification: Authentification,\n  extensionsLoader?: JsExtensionsLoader,\n  initialPathsOrURLsToOpen: ?Array<string>,\n  eventsFunctionsExtensionsState: EventsFunctionsExtensionsState,\n  i18n: I18n,\n};\n\nclass MainFrame extends React.Component<Props, State> {\n  state = {\n    createDialogOpen: false,\n    exportDialogOpen: false,\n    introDialogOpen: false,\n    saveDialogOpen: false,\n    genericDialogOpen: false,\n    loadingProject: false,\n    previewLoading: false,\n    currentProject: null,\n    projectManagerOpen: false,\n    editorTabs: getEditorTabsInitialState(),\n    genericDialog: null,\n    snackMessage: '',\n    snackMessageOpen: false,\n    preferencesDialogOpen: false,\n    languageDialogOpen: false,\n    profileDialogOpen: false,\n    subscriptionDialogOpen: false,\n    updateStatus: { message: '', status: 'unknown' },\n    aboutDialogOpen: false,\n    platformSpecificAssetsDialogOpen: false,\n    helpFinderDialogOpen: false,\n    eventsFunctionsExtensionsError: null,\n  };\n  toolbar = null;\n  _resourceSourceDialogs = {};\n  _previewLauncher: ?PreviewLauncher = null;\n  _providers = null;\n\n  componentWillMount() {\n    if (!this.props.integratedEditor) this.openStartPage();\n  }\n\n  componentDidMount() {\n    const { initialPathsOrURLsToOpen } = this.props;\n\n    this._loadExtensions();\n    if (initialPathsOrURLsToOpen && initialPathsOrURLsToOpen[0]) {\n      this.openFromPathOrURL(initialPathsOrURLsToOpen[0], () =>\n        this.openSceneOrProjectManager()\n      );\n    } else if (this.props.introDialog && !Window.isDev())\n      this._openIntroDialog(true);\n  }\n\n  _languageDidChange() {\n    // A change in the language will automatically be applied\n    // on all React components, as it's handled by GDI18nProvider.\n    // We still have this method that will be called when the language\n    // dialog is closed after a language change. We then reload GDevelop\n    // extensions so that they declare all objects/actions/condition/etc...\n    // using the new language.\n    gd.JsPlatform.get().reloadBuiltinExtensions();\n    this._loadExtensions();\n  }\n\n  _loadExtensions = () => {\n    const { extensionsLoader, i18n } = this.props;\n    if (!extensionsLoader) {\n      console.info(\n        'No extensions loader specified, skipping extensions loading.'\n      );\n      return;\n    }\n\n    extensionsLoader\n      .loadAllExtensions(getNotNullTranslationFunction(i18n))\n      .then(loadingResults => {\n        const successLoadingResults = loadingResults.filter(\n          loadingResult => !loadingResult.result.error\n        );\n        const failLoadingResults = loadingResults.filter(\n          loadingResult =>\n            loadingResult.result.error && !loadingResult.result.dangerous\n        );\n        const dangerousLoadingResults = loadingResults.filter(\n          loadingResult =>\n            loadingResult.result.error && loadingResult.result.dangerous\n        );\n        console.info(`Loaded ${successLoadingResults.length} JS extensions.`);\n        if (failLoadingResults.length) {\n          console.error(\n            `⚠️ Unable to load ${\n              failLoadingResults.length\n            } JS extensions. Please check these errors:`,\n            failLoadingResults\n          );\n        }\n        if (dangerousLoadingResults.length) {\n          console.error(\n            `💣 Dangerous exceptions while loading ${\n              dangerousLoadingResults.length\n            } JS extensions. 🔥 Please check these errors as they will CRASH GDevelop:`,\n            dangerousLoadingResults\n          );\n        }\n      });\n  };\n\n  loadFromSerializedProject = (\n    serializedProject: gdSerializerElement,\n    cb: Function\n  ) => {\n    timeFunction(\n      () => {\n        const newProject = gd.ProjectHelper.createNewGDJSProject();\n        newProject.unserializeFrom(serializedProject);\n\n        this.closeProject(() => this.loadFromProject(newProject, cb));\n      },\n      time => console.info(`Unserialization took ${time} ms`)\n    );\n  };\n\n  loadFromProject = (project: gdProject, cb: Function) => {\n    const { eventsFunctionsExtensionsState } = this.props;\n    this.closeProject(() => {\n      // Make sure that the ResourcesLoader cache is emptied, so that\n      // the URL to a resource with a name in the old project is not re-used\n      // for another resource with the same name in the new project.\n      ResourcesLoader.burstAllUrlsCache();\n      // TODO: Pixi cache should also be burst\n\n      this.setState(\n        {\n          currentProject: project,\n        },\n        () => {\n          // Load all the EventsFunctionsExtension when the game is loaded. If they are modified,\n          // their editor will take care of reloading them.\n          eventsFunctionsExtensionsState.loadProjectEventsFunctionsExtensions(\n            this.state.currentProject\n          );\n          cb();\n        }\n      );\n    });\n  };\n\n  openFromPathOrURL = (url: string, cb: Function) => {\n    const { i18n, shouldOpenAutosave } = this.props;\n\n    const projectFilePath = url;\n    const autoSavePath = url + '.autosave';\n    if (shouldOpenAutosave && shouldOpenAutosave(url, autoSavePath, true)) {\n      //eslint-disable-next-line\n      const answer = confirm(\n        i18n._(\n          t`An autosave file (backup made automatically by GDevelop) that is newer than the project file exists. Would you like to load it instead?`\n        )\n      );\n      if (answer) url = autoSavePath;\n    }\n\n    this.props.onReadFromPathOrURL(url).then(\n      projectObject => {\n        this.setState({ loadingProject: true }, () =>\n          setTimeout(() => {\n            const serializedProject = gd.Serializer.fromJSObject(projectObject);\n\n            this.loadFromSerializedProject(serializedProject, () => {\n              serializedProject.delete();\n\n              if (this.state.currentProject) {\n                this.state.currentProject.setProjectFile(projectFilePath);\n              }\n\n              this.setState(\n                {\n                  loadingProject: false,\n                },\n                cb\n              );\n            });\n          })\n        );\n      },\n      err => {\n        if (\n          shouldOpenAutosave &&\n          shouldOpenAutosave(projectFilePath, autoSavePath, false)\n        ) {\n          //eslint-disable-next-line\n          const answer = confirm(\n            i18n._(\n              t`The project file appears to be malformed, but an autosave file exists (backup made automatically by GDevelop). Would you like to try to load it instead?`\n            )\n          );\n          if (answer) {\n            this.openFromPathOrURL(autoSavePath, () =>\n              this.openSceneOrProjectManager()\n            );\n          }\n        } else {\n          showErrorBox(\n            i18n._(\n              t`Unable to open this project. Check that the path/URL is correct, that you selected a file that is a game file created with GDevelop and that is was not removed.`\n            ),\n            err\n          );\n          return;\n        }\n      }\n    );\n  };\n\n  closeProject = (cb: Function) => {\n    const { currentProject } = this.state;\n    const { eventsFunctionsExtensionsState } = this.props;\n    if (!currentProject) return cb();\n\n    this.openProjectManager(false);\n    this.setState(\n      {\n        editorTabs: closeProjectTabs(this.state.editorTabs, currentProject),\n      },\n      () => {\n        eventsFunctionsExtensionsState.unloadProjectEventsFunctionsExtensions(\n          currentProject\n        );\n        currentProject.delete();\n        this.setState(\n          {\n            currentProject: null,\n          },\n          () => {\n            this.updateToolbar();\n            cb();\n          }\n        );\n      }\n    );\n  };\n\n  getSerializedElements = () => {\n    const editorTab = getCurrentTab(this.state.editorTabs);\n    if (!editorTab || !editorTab.editorRef) {\n      console.warn('No active editor or reference to the editor');\n      return {};\n    }\n\n    return editorTab.editorRef.getSerializedElements();\n  };\n\n  toggleProjectManager = () => {\n    if (!this.refs.toolbar)\n      this.setState({\n        projectManagerOpen: !this.state.projectManagerOpen,\n      });\n  };\n\n  openProjectManager = (open: boolean = true) => {\n    this.setState({\n      projectManagerOpen: open,\n    });\n  };\n\n  setEditorToolbar = (editorToolbar: any) => {\n    if (!this.toolbar) return;\n\n    this.toolbar.setEditorToolbar(editorToolbar);\n  };\n\n  addLayout = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const name = newNameGenerator('NewScene', name =>\n      currentProject.hasLayoutNamed(name)\n    );\n    const newLayout = currentProject.insertNewLayout(\n      name,\n      currentProject.getLayoutsCount()\n    );\n    newLayout.updateBehaviorsSharedData(currentProject);\n    this.forceUpdate();\n  };\n\n  addExternalLayout = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const name = newNameGenerator('NewExternalLayout', name =>\n      currentProject.hasExternalLayoutNamed(name)\n    );\n    currentProject.insertNewExternalLayout(\n      name,\n      currentProject.getExternalLayoutsCount()\n    );\n    this.forceUpdate();\n  };\n\n  addExternalEvents = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const name = newNameGenerator('NewExternalEvents', name =>\n      currentProject.hasExternalEventsNamed(name)\n    );\n    currentProject.insertNewExternalEvents(\n      name,\n      currentProject.getExternalEventsCount()\n    );\n    this.forceUpdate();\n  };\n\n  addEventsFunctionsExtension = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const name = newNameGenerator('NewExtension', name =>\n      currentProject.hasEventsFunctionsExtensionNamed(name)\n    );\n    currentProject.insertNewEventsFunctionsExtension(\n      name,\n      currentProject.getEventsFunctionsExtensionsCount()\n    );\n    this.forceUpdate();\n  };\n\n  deleteLayout = (layout: gdLayout) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Are you sure you want to remove this scene? This can't be undone.`\n      )\n    );\n    if (!answer) return;\n\n    this.setState(\n      {\n        editorTabs: closeLayoutTabs(this.state.editorTabs, layout),\n      },\n      () => {\n        currentProject.removeLayout(layout.getName());\n        this.forceUpdate();\n      }\n    );\n  };\n\n  deleteExternalLayout = (externalLayout: gdExternalLayout) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Are you sure you want to remove this external layout? This can't be undone.`\n      )\n    );\n    if (!answer) return;\n\n    this.setState(\n      {\n        editorTabs: closeExternalLayoutTabs(\n          this.state.editorTabs,\n          externalLayout\n        ),\n      },\n      () => {\n        currentProject.removeExternalLayout(externalLayout.getName());\n        this.forceUpdate();\n      }\n    );\n  };\n\n  deleteExternalEvents = (externalEvents: gdExternalEvents) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Are you sure you want to remove these external events? This can't be undone.`\n      )\n    );\n    if (!answer) return;\n\n    this.setState(\n      {\n        editorTabs: closeExternalEventsTabs(\n          this.state.editorTabs,\n          externalEvents\n        ),\n      },\n      () => {\n        currentProject.removeExternalEvents(externalEvents.getName());\n        this.forceUpdate();\n      }\n    );\n  };\n\n  deleteEventsFunctionsExtension = (\n    externalLayout: gdEventsFunctionsExtension\n  ) => {\n    const { currentProject } = this.state;\n    const { i18n, eventsFunctionsExtensionsState } = this.props;\n    if (!currentProject) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Are you sure you want to remove this extension? This can't be undone.`\n      )\n    );\n    if (!answer) return;\n\n    this.setState(\n      {\n        editorTabs: closeEventsFunctionsExtensionTabs(\n          this.state.editorTabs,\n          externalLayout\n        ),\n      },\n      () => {\n        currentProject.removeEventsFunctionsExtension(externalLayout.getName());\n        this.forceUpdate();\n      }\n    );\n\n    // Reload extensions to make sure the deleted extension is removed\n    // from the platform\n    eventsFunctionsExtensionsState.reloadProjectEventsFunctionsExtensions(\n      currentProject\n    );\n  };\n\n  renameLayout = (oldName: string, newName: string) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    if (!currentProject.hasLayoutNamed(oldName) || newName === oldName) return;\n\n    if (currentProject.hasLayoutNamed(newName)) {\n      showWarningBox(i18n._(t`Another scene with this name already exists.`));\n      return;\n    }\n\n    const layout = currentProject.getLayout(oldName);\n    this.setState(\n      {\n        editorTabs: closeLayoutTabs(this.state.editorTabs, layout),\n      },\n      () => {\n        layout.setName(newName);\n        this.forceUpdate();\n      }\n    );\n  };\n\n  renameExternalLayout = (oldName: string, newName: string) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    if (!currentProject.hasExternalLayoutNamed(oldName) || newName === oldName)\n      return;\n\n    if (currentProject.hasExternalLayoutNamed(newName)) {\n      showWarningBox(\n        i18n._(t`Another external layout with this name already exists.`)\n      );\n      return;\n    }\n\n    const externalLayout = currentProject.getExternalLayout(oldName);\n    this.setState(\n      {\n        editorTabs: closeExternalLayoutTabs(\n          this.state.editorTabs,\n          externalLayout\n        ),\n      },\n      () => {\n        externalLayout.setName(newName);\n        this.forceUpdate();\n      }\n    );\n  };\n\n  renameExternalEvents = (oldName: string, newName: string) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    if (!currentProject.hasExternalEventsNamed(oldName) || newName === oldName)\n      return;\n\n    if (currentProject.hasExternalEventsNamed(newName)) {\n      showWarningBox(\n        i18n._(t`Other external events with this name already exist.`)\n      );\n      return;\n    }\n\n    const externalEvents = currentProject.getExternalEvents(oldName);\n    this.setState(\n      {\n        editorTabs: closeExternalEventsTabs(\n          this.state.editorTabs,\n          externalEvents\n        ),\n      },\n      () => {\n        externalEvents.setName(newName);\n        this.forceUpdate();\n      }\n    );\n  };\n\n  renameEventsFunctionsExtension = (oldName: string, newName: string) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    const { eventsFunctionsExtensionsState } = this.props;\n    if (!currentProject) return;\n\n    if (\n      !currentProject.hasEventsFunctionsExtensionNamed(oldName) ||\n      newName === oldName\n    )\n      return;\n\n    if (currentProject.hasEventsFunctionsExtensionNamed(newName)) {\n      showWarningBox(\n        i18n._(t`Another extension with this name already exists.`)\n      );\n      return;\n    }\n\n    if (!gd.Project.validateObjectName(newName)) {\n      showWarningBox(\n        i18n._(\n          t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your extension name.`\n        )\n      );\n      return;\n    }\n\n    const eventsFunctionsExtension = currentProject.getEventsFunctionsExtension(\n      oldName\n    );\n    this.setState(\n      {\n        editorTabs: closeEventsFunctionsExtensionTabs(\n          this.state.editorTabs,\n          eventsFunctionsExtension\n        ),\n      },\n      () => {\n        // Refactor the project to update the instructions (and later expressions)\n        // of this extension:\n        gd.WholeProjectRefactorer.renameEventsFunctionsExtension(\n          currentProject,\n          eventsFunctionsExtension,\n          oldName,\n          newName\n        );\n        eventsFunctionsExtension.setName(newName);\n        eventsFunctionsExtensionsState.reloadProjectEventsFunctionsExtensions(\n          currentProject\n        );\n\n        this.forceUpdate();\n      }\n    );\n  };\n\n  _launchLayoutPreview = (\n    project: gdProject,\n    layout: gdLayout,\n    options: PreviewOptions\n  ) =>\n    watchPromiseInState(this, 'previewLoading', () =>\n      this._handlePreviewResult(\n        this._previewLauncher &&\n          this._previewLauncher.launchLayoutPreview(project, layout, options)\n      )\n    );\n\n  _launchExternalLayoutPreview = (\n    project: gdProject,\n    layout: gdLayout,\n    externalLayout: gdExternalLayout,\n    options: PreviewOptions\n  ) =>\n    watchPromiseInState(this, 'previewLoading', () =>\n      this._handlePreviewResult(\n        this._previewLauncher &&\n          this._previewLauncher.launchExternalLayoutPreview(\n            project,\n            layout,\n            externalLayout,\n            options\n          )\n      )\n    );\n\n  _handlePreviewResult = (previewPromise: ?Promise<any>): Promise<void> => {\n    if (!previewPromise) return Promise.reject();\n    const { i18n } = this.props;\n\n    return previewPromise.then(\n      (result: any) => {},\n      (err: any) => {\n        showErrorBox(i18n._(t`Unable to launch the preview!`), err);\n      }\n    );\n  };\n\n  openLayout = (\n    name: string,\n    {\n      openEventsEditor = true,\n      openSceneEditor = true,\n    }: { openEventsEditor: boolean, openSceneEditor: boolean } = {}\n  ) => {\n    const { i18n, onAutoSaveProject } = this.props;\n    const sceneEditorOptions = {\n      name,\n      renderEditor: ({ isActive, editorRef }) => (\n        <PreferencesContext.Consumer>\n          {({ values }) => (\n            <SceneEditor\n              project={this.state.currentProject}\n              layoutName={name}\n              setToolbar={this.setEditorToolbar}\n              onPreview={(project, layout, options) => {\n                this._launchLayoutPreview(project, layout, options);\n                if (values.autosaveOnPreview && onAutoSaveProject) {\n                  onAutoSaveProject(project);\n                }\n              }}\n              showPreviewButton={!!this.props.previewLauncher}\n              showNetworkPreviewButton={\n                this._previewLauncher &&\n                this._previewLauncher.canDoNetworkPreview()\n              }\n              onOpenDebugger={this.openDebugger}\n              onEditObject={this.props.onEditObject}\n              showObjectsList={!this.props.integratedEditor}\n              resourceSources={this.props.resourceSources}\n              onChooseResource={this._onChooseResource}\n              resourceExternalEditors={this.props.resourceExternalEditors}\n              isActive={isActive}\n              ref={editorRef}\n            />\n          )}\n        </PreferencesContext.Consumer>\n      ),\n      key: 'layout ' + name,\n    };\n    const eventsEditorOptions = {\n      name: name + ' ' + i18n._(t`(Events)`),\n      renderEditor: ({ isActive, editorRef }) => (\n        <PreferencesContext.Consumer>\n          {({ values }) => (\n            <EventsEditor\n              project={this.state.currentProject}\n              layoutName={name}\n              setToolbar={this.setEditorToolbar}\n              onPreview={(project, layout, options) => {\n                this._launchLayoutPreview(project, layout, options);\n                if (values.autosaveOnPreview && onAutoSaveProject) {\n                  onAutoSaveProject(project);\n                }\n              }}\n              showPreviewButton={!!this.props.previewLauncher}\n              showNetworkPreviewButton={\n                this._previewLauncher &&\n                this._previewLauncher.canDoNetworkPreview()\n              }\n              onOpenDebugger={this.openDebugger}\n              onOpenExternalEvents={this.openExternalEvents}\n              onOpenLayout={name =>\n                this.openLayout(name, {\n                  openEventsEditor: true,\n                  openSceneEditor: false,\n                })\n              }\n              resourceSources={this.props.resourceSources}\n              onChooseResource={this._onChooseResource}\n              resourceExternalEditors={this.props.resourceExternalEditors}\n              openInstructionOrExpression={this._openInstructionOrExpression}\n              onCreateEventsFunction={this._onCreateEventsFunction}\n              isActive={isActive}\n              ref={editorRef}\n            />\n          )}\n        </PreferencesContext.Consumer>\n      ),\n      key: 'layout events ' + name,\n      dontFocusTab: openSceneEditor,\n    };\n\n    const tabsWithSceneEditor = openSceneEditor\n      ? openEditorTab(this.state.editorTabs, sceneEditorOptions)\n      : this.state.editorTabs;\n    const tabsWithSceneAndEventsEditors = openEventsEditor\n      ? openEditorTab(tabsWithSceneEditor, eventsEditorOptions)\n      : tabsWithSceneEditor;\n\n    this.setState({ editorTabs: tabsWithSceneAndEventsEditors }, () =>\n      this.updateToolbar()\n    );\n    this.openProjectManager(false);\n  };\n\n  openExternalEvents = (name: string) => {\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name,\n          renderEditor: ({ isActive, editorRef }) => (\n            <ExternalEventsEditor\n              project={this.state.currentProject}\n              externalEventsName={name}\n              setToolbar={this.setEditorToolbar}\n              onOpenExternalEvents={this.openExternalEvents}\n              onOpenLayout={name =>\n                this.openLayout(name, {\n                  openEventsEditor: true,\n                  openSceneEditor: false,\n                })\n              }\n              resourceSources={this.props.resourceSources}\n              onChooseResource={this._onChooseResource}\n              resourceExternalEditors={this.props.resourceExternalEditors}\n              openInstructionOrExpression={this._openInstructionOrExpression}\n              onCreateEventsFunction={this._onCreateEventsFunction}\n              isActive={isActive}\n              ref={editorRef}\n            />\n          ),\n          key: 'external events ' + name,\n        }),\n      },\n      () => this.updateToolbar()\n    );\n    this.openProjectManager(false);\n  };\n\n  openExternalLayout = (name: string) => {\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name,\n          renderEditor: ({ isActive, editorRef }) => (\n            <PreferencesContext.Consumer>\n              {({ values }) => (\n                <ExternalLayoutEditor\n                  project={this.state.currentProject}\n                  externalLayoutName={name}\n                  setToolbar={this.setEditorToolbar}\n                  onPreview={(project, layout, externalLayout, options) => {\n                    this._launchExternalLayoutPreview(\n                      project,\n                      layout,\n                      externalLayout,\n                      options\n                    );\n                    if (\n                      values.autosaveOnPreview &&\n                      this.props.onAutoSaveProject\n                    ) {\n                      this.props.onAutoSaveProject(project);\n                    }\n                  }}\n                  showPreviewButton={!!this.props.previewLauncher}\n                  showNetworkPreviewButton={\n                    this._previewLauncher &&\n                    this._previewLauncher.canDoNetworkPreview()\n                  }\n                  onOpenDebugger={this.openDebugger}\n                  onEditObject={this.props.onEditObject}\n                  showObjectsList={!this.props.integratedEditor}\n                  resourceSources={this.props.resourceSources}\n                  onChooseResource={this._onChooseResource}\n                  resourceExternalEditors={this.props.resourceExternalEditors}\n                  isActive={isActive}\n                  ref={editorRef}\n                />\n              )}\n            </PreferencesContext.Consumer>\n          ),\n          key: 'external layout ' + name,\n        }),\n      },\n      () => this.updateToolbar()\n    );\n    this.openProjectManager(false);\n  };\n\n  openEventsFunctionsExtension = (\n    name: string,\n    initiallyFocusedFunctionName?: string,\n    initiallyFocusedBehaviorName?: ?string\n  ) => {\n    const { eventsFunctionsExtensionsState } = this.props;\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name,\n          renderEditor: ({ isActive, editorRef }) => (\n            <EventsFunctionsExtensionEditor\n              project={this.state.currentProject}\n              eventsFunctionsExtensionName={name}\n              setToolbar={this.setEditorToolbar}\n              resourceSources={this.props.resourceSources}\n              onChooseResource={this._onChooseResource}\n              resourceExternalEditors={this.props.resourceExternalEditors}\n              isActive={isActive}\n              initiallyFocusedFunctionName={initiallyFocusedFunctionName}\n              initiallyFocusedBehaviorName={initiallyFocusedBehaviorName}\n              openInstructionOrExpression={this._openInstructionOrExpression}\n              onCreateEventsFunction={this._onCreateEventsFunction}\n              ref={editorRef}\n              onLoadEventsFunctionsExtensions={() => {\n                eventsFunctionsExtensionsState.loadProjectEventsFunctionsExtensions(\n                  this.state.currentProject\n                );\n              }}\n            />\n          ),\n          key: 'events functions extension ' + name,\n        }),\n      },\n      () => this.updateToolbar()\n    );\n    this.openProjectManager(false);\n  };\n\n  openResources = () => {\n    const { i18n } = this.props;\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name: i18n._(t`Resources`),\n          renderEditor: ({ isActive, editorRef }) => (\n            <ResourcesEditor\n              project={this.state.currentProject}\n              setToolbar={this.setEditorToolbar}\n              onDeleteResource={(resource: gdResource, cb: boolean => void) => {\n                // TODO: Project wide refactoring of objects/events using the resource\n                cb(true);\n              }}\n              onRenameResource={(\n                resource: gdResource,\n                newName: string,\n                cb: boolean => void\n              ) => {\n                // TODO: Project wide refactoring of objects/events using the resource\n                cb(true);\n              }}\n              isActive={isActive}\n              ref={editorRef}\n              onChooseResource={this._onChooseResource}\n              resourceSources={this.props.resourceSources}\n            />\n          ),\n          key: 'resources',\n        }),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openStartPage = () => {\n    const { i18n } = this.props;\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name: i18n._(t`Start Page`),\n          renderEditor: ({ isActive, editorRef }) => (\n            <StartPage\n              project={this.state.currentProject}\n              setToolbar={this.setEditorToolbar}\n              canOpen={!!this.props.onChooseProject}\n              onOpen={this.chooseProject}\n              onCreate={() => this.openCreateDialog()}\n              onOpenProjectManager={() => this.openProjectManager()}\n              onCloseProject={() => this.askToCloseProject()}\n              onOpenAboutDialog={() => this.openAboutDialog()}\n              onOpenHelpFinder={() => this.openHelpFinderDialog()}\n              onOpenLanguageDialog={() => this.openLanguage()}\n              isActive={isActive}\n              ref={editorRef}\n            />\n          ),\n          key: 'start page',\n          closable: false,\n        }),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openDebugger = () => {\n    const { i18n } = this.props;\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name: i18n._(t`Debugger`),\n          renderEditor: ({ isActive, editorRef }) => (\n            <DebuggerEditor\n              project={this.state.currentProject}\n              setToolbar={this.setEditorToolbar}\n              isActive={isActive}\n              ref={editorRef}\n              onChangeSubscription={() => this.openSubscription(true)}\n            />\n          ),\n          key: 'debugger',\n        }),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  _openInstructionOrExpression = (\n    extension: gdPlatformExtension,\n    type: string\n  ) => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const extensionName = extension.getName();\n    if (currentProject.hasEventsFunctionsExtensionNamed(extensionName)) {\n      // It's an events functions extension, open the editor for it.\n      const eventsFunctionsExtension = currentProject.getEventsFunctionsExtension(\n        extensionName\n      );\n      const functionName = getFunctionNameFromType(type);\n\n      const foundTab = getEventsFunctionsExtensionEditor(\n        this.state.editorTabs,\n        eventsFunctionsExtension\n      );\n      if (foundTab) {\n        // Open the given function and focus the tab\n        foundTab.editor.selectEventsFunctionByName(\n          functionName.name,\n          functionName.behaviorName\n        );\n        this.setState(state => ({\n          editorTabs: changeCurrentTab(state.editorTabs, foundTab.tabIndex),\n        }));\n      } else {\n        // Open a new editor for the extension and the given function\n        this.openEventsFunctionsExtension(\n          extensionName,\n          functionName.name,\n          functionName.behaviorName\n        );\n      }\n    } else {\n      // It's not an events functions extension, we should not be here.\n      console.warn(\n        `Extension with name=${extensionName} can not be opened (no editor for this)`\n      );\n    }\n  };\n\n  _onCreateEventsFunction = (\n    extensionName: string,\n    eventsFunction: gdEventsFunction\n  ) => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n    const { eventsFunctionsExtensionsState } = this.props;\n\n    // Names are assumed to be already validated\n    const createNewExtension = !currentProject.hasEventsFunctionsExtensionNamed(\n      extensionName\n    );\n    const extension = createNewExtension\n      ? currentProject.insertNewEventsFunctionsExtension(extensionName, 0)\n      : currentProject.getEventsFunctionsExtension(extensionName);\n\n    if (createNewExtension) {\n      extension.setFullName(extensionName);\n      extension.setDescription(\n        'Originally automatically extracted from events of the project'\n      );\n    }\n\n    extension.insertEventsFunction(eventsFunction, 0);\n    eventsFunctionsExtensionsState.loadProjectEventsFunctionsExtensions(\n      currentProject\n    );\n  };\n\n  openCreateDialog = (open: boolean = true) => {\n    this.setState({\n      createDialogOpen: open,\n    });\n  };\n\n  chooseProject = () => {\n    if (!this.props.onChooseProject) return;\n\n    this.props\n      .onChooseProject()\n      .then(filepath => {\n        if (!filepath) return;\n\n        this.openFromPathOrURL(filepath, () =>\n          this.openSceneOrProjectManager()\n        );\n      })\n      .catch(() => {});\n  };\n\n  save = () => {\n    saveUiSettings(this.state.editorTabs);\n\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n    const { i18n } = this.props;\n\n    if (this.props.saveDialog) {\n      this._openSaveDialog();\n    } else if (this.props.onSaveProject) {\n      this.props.onSaveProject(currentProject).then(\n        () => {\n          this._showSnackMessage(i18n._(t`Project properly saved`));\n        },\n        err => {\n          showErrorBox(\n            i18n._(\n              t`Unable to save the project! Please try again by choosing another location.`\n            ),\n            err\n          );\n        }\n      );\n    }\n  };\n\n  saveAs = () => {\n    saveUiSettings(this.state.editorTabs);\n\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n    const { i18n } = this.props;\n\n    if (this.props.saveDialog) {\n      this._openSaveDialog();\n    } else if (this.props.onSaveProjectAs) {\n      this.props.onSaveProjectAs(currentProject).then(\n        saveDone => {\n          if (saveDone)\n            this._showSnackMessage(i18n._(t`Project properly saved`));\n        },\n        err => {\n          showErrorBox(\n            i18n._(\n              t`Unable to save as the project! Please try again by choosing another location.`\n            ),\n            err\n          );\n        }\n      );\n    }\n  };\n\n  askToCloseProject = (cb: ?Function) => {\n    if (!this.state.currentProject) return;\n    const { i18n } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Close the project? Any changes that have not been saved will be lost.`\n      )\n    );\n    if (!answer) return;\n\n    const noop = () => {};\n    this.closeProject(cb || noop);\n  };\n\n  openSceneOrProjectManager = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    if (currentProject.getLayoutsCount() === 1) {\n      this.openLayout(currentProject.getLayoutAt(0).getName(), {\n        openSceneEditor: true,\n        openEventsEditor: true,\n      });\n    } else {\n      this.openProjectManager();\n    }\n  };\n\n  openExportDialog = (open: boolean = true) => {\n    this.setState({\n      exportDialogOpen: open,\n    });\n  };\n\n  _openIntroDialog = (open: boolean = true) => {\n    this.setState({\n      introDialogOpen: open,\n    });\n  };\n\n  _openSaveDialog = (open: boolean = true) => {\n    this.setState({\n      saveDialogOpen: open,\n    });\n  };\n\n  _openGenericDialog = (open: boolean = true) => {\n    this.setState({\n      genericDialogOpen: open,\n      genericDialog: null,\n    });\n  };\n\n  openPreferences = (open: boolean = true) => {\n    this.setState({\n      preferencesDialogOpen: open,\n    });\n  };\n\n  openLanguage = (open: boolean = true) => {\n    this.setState({\n      languageDialogOpen: open,\n    });\n  };\n\n  openProfile = (open: boolean = true) => {\n    this.setState({\n      profileDialogOpen: open,\n    });\n  };\n\n  openSubscription = (open: boolean = true) => {\n    this.setState({\n      subscriptionDialogOpen: open,\n    });\n  };\n\n  _onChangeEditorTab = (value: number) => {\n    this.setState(\n      {\n        editorTabs: changeCurrentTab(this.state.editorTabs, value),\n      },\n      () => this._onEditorTabActive(getCurrentTab(this.state.editorTabs))\n    );\n  };\n\n  _onEditorTabActive = (editorTab: EditorTab) => {\n    this.updateToolbar();\n  };\n\n  _onCloseEditorTab = (editorTab: EditorTab) => {\n    saveUiSettings(this.state.editorTabs);\n    this.setState(\n      {\n        editorTabs: closeEditorTab(this.state.editorTabs, editorTab),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  _onChooseResource = (\n    sourceName: string,\n    multiSelection: boolean = true\n  ): Promise<Array<any>> => {\n    const { currentProject } = this.state;\n    const resourceSourceDialog = this._resourceSourceDialogs[sourceName];\n    if (!resourceSourceDialog) return Promise.resolve([]);\n\n    return resourceSourceDialog.chooseResources(currentProject, multiSelection);\n  };\n\n  updateToolbar() {\n    const editorTab = getCurrentTab(this.state.editorTabs);\n    if (!editorTab || !editorTab.editorRef) {\n      this.setEditorToolbar(null);\n      return;\n    }\n\n    editorTab.editorRef.updateToolbar();\n  }\n\n  openAboutDialog = (open: boolean = true) => {\n    this.setState({\n      aboutDialogOpen: open,\n    });\n  };\n\n  openPlatformSpecificAssets = (open: boolean = true) => {\n    this.setState({\n      platformSpecificAssetsDialogOpen: open,\n    });\n  };\n\n  openHelpFinderDialog = (open: boolean = true) => {\n    this.setState({\n      helpFinderDialogOpen: open,\n    });\n  };\n\n  setUpdateStatus = (updateStatus: UpdateStatus) => {\n    this.setState({\n      updateStatus,\n    });\n\n    const notificationTitle = getUpdateNotificationTitle(updateStatus);\n    const notificationBody = getUpdateNotificationBody(updateStatus);\n    if (notificationTitle) {\n      const notification = new window.Notification(notificationTitle, {\n        body: notificationBody,\n      });\n      notification.onclick = () => this.openAboutDialog(true);\n    }\n  };\n\n  simulateUpdateDownloaded = () =>\n    this.setUpdateStatus({\n      status: 'update-downloaded',\n      message: 'update-downloaded',\n      info: {\n        releaseName: 'Fake update',\n      },\n    });\n\n  simulateUpdateAvailable = () =>\n    this.setUpdateStatus({\n      status: 'update-available',\n      message: 'Update available',\n    });\n\n  _showSnackMessage = (snackMessage: string) =>\n    this.setState({\n      snackMessage,\n      snackMessageOpen: true,\n    });\n\n  _closeSnackMessage = () =>\n    this.setState({\n      snackMessageOpen: false,\n    });\n\n  render() {\n    const {\n      currentProject,\n      genericDialog,\n      projectManagerOpen,\n      profileDialogOpen,\n      subscriptionDialogOpen,\n      updateStatus,\n      aboutDialogOpen,\n      helpFinderDialogOpen,\n      eventsFunctionsExtensionsError,\n    } = this.state;\n    const {\n      exportDialog,\n      createDialog,\n      introDialog,\n      saveDialog,\n      resourceSources,\n      authentification,\n      previewLauncher,\n      resourceExternalEditors,\n      eventsFunctionsExtensionsState,\n      i18n,\n    } = this.props;\n    const showLoader =\n      this.state.loadingProject ||\n      this.state.previewLoading ||\n      this.props.loading;\n\n    return (\n      <div className=\"main-frame\">\n        <ProjectTitlebar project={currentProject} />\n        <Drawer\n          open={projectManagerOpen}\n          containerStyle={styles.drawerContent}\n          width={320}\n        >\n          <EditorBar\n            title={currentProject ? currentProject.getName() : 'No project'}\n            showMenuIconButton={false}\n            iconElementRight={\n              <IconButton onClick={this.toggleProjectManager}>\n                <NavigationClose />\n              </IconButton>\n            }\n          />\n          {currentProject && (\n            <ProjectManager\n              project={currentProject}\n              onOpenExternalEvents={this.openExternalEvents}\n              onOpenLayout={this.openLayout}\n              onOpenExternalLayout={this.openExternalLayout}\n              onOpenEventsFunctionsExtension={this.openEventsFunctionsExtension}\n              onAddLayout={this.addLayout}\n              onAddExternalLayout={this.addExternalLayout}\n              onAddEventsFunctionsExtension={this.addEventsFunctionsExtension}\n              onAddExternalEvents={this.addExternalEvents}\n              onDeleteLayout={this.deleteLayout}\n              onDeleteExternalLayout={this.deleteExternalLayout}\n              onDeleteEventsFunctionsExtension={\n                this.deleteEventsFunctionsExtension\n              }\n              onDeleteExternalEvents={this.deleteExternalEvents}\n              onRenameLayout={this.renameLayout}\n              onRenameExternalLayout={this.renameExternalLayout}\n              onRenameEventsFunctionsExtension={\n                this.renameEventsFunctionsExtension\n              }\n              onRenameExternalEvents={this.renameExternalEvents}\n              onSaveProject={this.save}\n              onCloseProject={this.askToCloseProject}\n              onExportProject={this.openExportDialog}\n              onOpenPreferences={() => this.openPreferences(true)}\n              onOpenResources={() => {\n                this.openResources();\n                this.openProjectManager(false);\n              }}\n              onOpenPlatformSpecificAssets={() =>\n                this.openPlatformSpecificAssets()\n              }\n              onChangeSubscription={() => this.openSubscription(true)}\n              eventsFunctionsExtensionsError={eventsFunctionsExtensionsError}\n              onReloadEventsFunctionsExtensions={() => {\n                // Check if load is sufficient\n                eventsFunctionsExtensionsState.reloadProjectEventsFunctionsExtensions(\n                  currentProject\n                );\n              }}\n              freezeUpdate={!projectManagerOpen}\n            />\n          )}\n          {!currentProject && (\n            <EmptyMessage>\n              <Trans>To begin, open or create a new project.</Trans>\n            </EmptyMessage>\n          )}\n        </Drawer>\n        <Toolbar\n          ref={toolbar => (this.toolbar = toolbar)}\n          showProjectIcons={!this.props.integratedEditor}\n          hasProject={!!this.state.currentProject}\n          toggleProjectManager={this.toggleProjectManager}\n          exportProject={() => this.openExportDialog(true)}\n          requestUpdate={this.props.requestUpdate}\n          simulateUpdateDownloaded={this.simulateUpdateDownloaded}\n          simulateUpdateAvailable={this.simulateUpdateAvailable}\n        />\n        <Tabs\n          value={getCurrentTabIndex(this.state.editorTabs)}\n          onChange={this._onChangeEditorTab}\n          hideLabels={!!this.props.integratedEditor}\n        >\n          {getEditors(this.state.editorTabs).map((editorTab, id) => {\n            const isCurrentTab =\n              getCurrentTabIndex(this.state.editorTabs) === id;\n            return (\n              <Tab\n                label={editorTab.name}\n                value={id}\n                key={editorTab.key}\n                onActive={() => this._onEditorTabActive(editorTab)}\n                onClose={() => this._onCloseEditorTab(editorTab)}\n                closable={editorTab.closable}\n              >\n                <div style={{ display: 'flex', flex: 1, height: '100%' }}>\n                  <ErrorBoundary>\n                    {editorTab.render(isCurrentTab)}\n                  </ErrorBoundary>\n                </div>\n              </Tab>\n            );\n          })}\n        </Tabs>\n        <LoaderModal show={showLoader} />\n        <HelpFinder\n          open={helpFinderDialogOpen}\n          onClose={() => this.openHelpFinderDialog(false)}\n        />\n        <Snackbar\n          open={this.state.snackMessageOpen}\n          message={this.state.snackMessage}\n          autoHideDuration={3000}\n          onRequestClose={this._closeSnackMessage}\n        />\n        {!!exportDialog &&\n          React.cloneElement(exportDialog, {\n            open: this.state.exportDialogOpen,\n            onClose: () => this.openExportDialog(false),\n            onChangeSubscription: () => {\n              this.openExportDialog(false);\n              this.openSubscription(true);\n            },\n            project: this.state.currentProject,\n            authentification,\n          })}\n        {!!createDialog &&\n          React.cloneElement(createDialog, {\n            open: this.state.createDialogOpen,\n            onClose: () => this.openCreateDialog(false),\n            onOpen: filepath => {\n              this.openCreateDialog(false);\n              this.openFromPathOrURL(filepath, () =>\n                this.openSceneOrProjectManager()\n              );\n            },\n            onCreate: project => {\n              this.openCreateDialog(false);\n              this.loadFromProject(project, () =>\n                this.openSceneOrProjectManager()\n              );\n            },\n          })}\n        {!!introDialog &&\n          React.cloneElement(introDialog, {\n            open: this.state.introDialogOpen,\n            onClose: () => this._openIntroDialog(false),\n          })}\n        {!!saveDialog &&\n          React.cloneElement(saveDialog, {\n            project: this.state.currentProject,\n            open: this.state.saveDialogOpen,\n            onClose: () => this._openSaveDialog(false),\n          })}\n        {!!this.state.currentProject && (\n          <PlatformSpecificAssetsDialog\n            project={this.state.currentProject}\n            open={this.state.platformSpecificAssetsDialogOpen}\n            onApply={() => this.openPlatformSpecificAssets(false)}\n            onClose={() => this.openPlatformSpecificAssets(false)}\n            resourceSources={resourceSources}\n            onChooseResource={this._onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n          />\n        )}\n        {!!genericDialog &&\n          React.cloneElement(genericDialog, {\n            open: this.state.genericDialogOpen,\n            onClose: () => this._openGenericDialog(false),\n          })}\n        {!!previewLauncher &&\n          React.cloneElement(previewLauncher, {\n            ref: (previewLauncher: ?PreviewLauncher) =>\n              (this._previewLauncher = previewLauncher),\n            onExport: () => this.openExportDialog(true),\n            onChangeSubscription: () => this.openSubscription(true),\n          })}\n        {resourceSources.map(\n          (resourceSource, index): React.Node => {\n            const Component = resourceSource.component;\n            return (\n              <Component\n                key={resourceSource.name}\n                ref={dialog =>\n                  (this._resourceSourceDialogs[resourceSource.name] = dialog)\n                }\n                i18n={i18n}\n              />\n            );\n          }\n        )}\n        <ProfileDialog\n          open={profileDialogOpen}\n          onClose={() => this.openProfile(false)}\n          onChangeSubscription={() => this.openSubscription(true)}\n        />\n        <SubscriptionDialog\n          onClose={() => {\n            this.openSubscription(false);\n          }}\n          open={subscriptionDialogOpen}\n        />\n        <PreferencesDialog\n          open={this.state.preferencesDialogOpen}\n          onClose={() => this.openPreferences(false)}\n        />\n        <LanguageDialog\n          open={this.state.languageDialogOpen}\n          onClose={languageChanged => {\n            this.openLanguage(false);\n            if (languageChanged) {\n              this._languageDidChange();\n            }\n          }}\n        />\n        <AboutDialog\n          open={aboutDialogOpen}\n          onClose={() => this.openAboutDialog(false)}\n          updateStatus={updateStatus}\n        />\n        <CloseConfirmDialog shouldPrompt={!!this.state.currentProject} />\n        <ChangelogDialogContainer />\n      </div>\n    );\n  }\n}\n\nexport default MainFrame;\n","import * as React from 'react';\nimport ThemeConsumer from './Theme/ThemeConsumer';\n// No i18n in this file\n\nconst styles = {\n  messageStyle: {\n    opacity: 0.4,\n    textAlign: 'center',\n    fontSize: '13px',\n  },\n};\n\ntype Props = {|\n  tooltipText?: string,\n  style?: Object,\n  children: React.Node,\n|};\n\nconst BackgroundText = (props: Props) => (\n  <ThemeConsumer>\n    {muiTheme => (\n      <span\n        style={{\n          ...styles.messageStyle,\n          textShadow: `1px 1px 0px ${muiTheme.emptyMessage.shadowColor}`,\n          ...props.style,\n        }}\n        title={props.tooltipText}\n      >\n        {props.children}\n      </span>\n    )}\n  </ThemeConsumer>\n);\n\nexport default BackgroundText;\n","// @flow\nimport optionalRequire from '../Utils/OptionalRequire';\nconst electron = optionalRequire('electron');\nconst app = electron ? electron.remote.app : null;\nconst gd = global.gd;\n\nconst gdCoreVersionString: string = gd\n  ? gd.VersionWrapper.fullString()\n  : 'Unknown';\nconst ideVersionString: string = app ? app.getVersion() : '5';\n\nexport const getIDEVersion = () => ideVersionString;\nexport const getGDCoreVersion = () => gdCoreVersionString;\n","import React, { Component } from 'react';\nconst gd = global.gd;\n\n/**\n * Wrap the specified component so that it is able to modify a\n * copy of the serializable object passed as its props (with the prop name\n * being the one specified by propName) and then apply the changes (in which\n * case the original serializable object is modified) or cancel the changes\n * (in which case the original serializable object remains intact).\n */\nexport const withSerializableObject = (\n  WrappedComponent,\n  { newObjectCreator, propName, useProjectToUnserialize } //TODO: Refactor\n) => {\n  return class extends Component {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        serializableObject: newObjectCreator(),\n      };\n      this._loadFrom(props[propName]);\n    }\n\n    componentWillUnmount() {\n      this.state.serializableObject.delete();\n    }\n\n    componentWillReceiveProps(newProps) {\n      if (\n        (!this.props.open && newProps.open) ||\n        (newProps.open && this.props[propName] !== newProps[propName])\n      ) {\n        this._loadFrom(newProps[propName]);\n      }\n    }\n\n    _loadFrom(serializableObject) {\n      if (!serializableObject) return;\n\n      const serializedElement = new gd.SerializerElement();\n      serializableObject.serializeTo(serializedElement);\n      if (!useProjectToUnserialize) {\n        this.state.serializableObject.unserializeFrom(serializedElement);\n      } else {\n        this.state.serializableObject.unserializeFrom(\n          this.props.project,\n          serializedElement\n        );\n      }\n      serializedElement.delete();\n    }\n\n    _apply = () => {\n      if (!this.props[propName]) return;\n\n      const serializedElement = new gd.SerializerElement();\n      this.state.serializableObject.serializeTo(serializedElement);\n      if (!useProjectToUnserialize) {\n        this.props[propName].unserializeFrom(serializedElement);\n      } else {\n        this.props[propName].unserializeFrom(\n          this.props.project,\n          serializedElement\n        );\n      }\n      serializedElement.delete();\n\n      if (this.props.onApply) this.props.onApply();\n    };\n\n    _cancel = () => {\n      if (this.props.onCancel) this.props.onCancel();\n    };\n\n    render() {\n      const props = this.props;\n\n      return React.createElement(WrappedComponent, {\n        ...props,\n        [propName]: this.state.serializableObject,\n        onCancel: this._cancel,\n        onApply: this._apply,\n      });\n    }\n  };\n};\n","import React from 'react';\nimport DragHandleIcon from 'material-ui/svg-icons/editor/drag-handle';\nimport { SortableHandle } from 'react-sortable-hoc';\n\nconst styles = {\n  handle: {\n    cursor: 'move',\n    marginRight: 4,\n  },\n  handleColor: '#DDD',\n};\n\nconst DragHandle = SortableHandle(() => (\n  <span style={styles.handle}>\n    <DragHandleIcon color={styles.handleColor} />\n  </span>\n));\nexport default DragHandle;\n","export default {\n  toolColumnHeader: {\n    textAlign: 'left',\n    paddingRight: 4,\n  },\n  toolColumn: {\n    minWidth: 48,\n    flex: 0,\n    justifyContent: 'flex-end',\n  },\n  tableChildIndentation: 24,\n  indent: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n  },\n  indentIconColor: '#DDD', //TODO: Use theme color instead\n  addVariableMessage: {\n    justifyContent: 'flex-end',\n  },\n  emptyExplanation: {\n    justifyContent: 'flex-start',\n  },\n  emptyExplanationMessage: {\n    textAlign: 'left',\n  },\n  fadedButton: {\n    opacity: 0.7,\n  },\n};\n","// @flow\n\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport Star from 'material-ui/svg-icons/toggle/star';\nimport Favorite from 'material-ui/svg-icons/action/favorite';\nimport UserProfileContext, { type UserProfile } from './UserProfileContext';\nimport { Column, Line } from '../UI/Grid';\nimport {\n  sendSubscriptionCheckDialogShown,\n  sendSubscriptionCheckDismiss,\n} from '../Utils/Analytics/EventSender';\nimport { Trans } from '@lingui/macro';\n\ntype Props = {|\n  title: React.Node,\n  id: string,\n  onChangeSubscription?: () => void,\n  mode: 'try' | 'mandatory',\n|};\n\ntype DialogProps = {|\n  userProfile: UserProfile,\n  ...$Exact<Props>,\n|};\n\ntype DialogState = {|\n  open: boolean,\n|};\n\nconst styles = {\n  icon: { width: 40, height: 40, marginRight: 20 },\n  iconText: { flex: 1 },\n  thanksText: { textAlign: 'right', marginRight: 20, marginBottom: 0 },\n};\n\nexport class SubscriptionCheckDialog extends React.Component<\n  DialogProps,\n  DialogState\n> {\n  state = { open: false };\n\n  checkHasSubscription() {\n    const { userProfile, mode, id } = this.props;\n    if (userProfile.subscription) {\n      const hasPlan = !!userProfile.subscription.planId;\n      if (hasPlan) {\n        this.setState({\n          open: false,\n        });\n        return true;\n      }\n    }\n\n    this.setState({\n      open: true,\n    });\n    sendSubscriptionCheckDialogShown({ mode, id });\n\n    return false;\n  }\n\n  _closeDialog = () => {\n    sendSubscriptionCheckDismiss();\n    this.setState({ open: false });\n  };\n\n  render() {\n    const { open } = this.state;\n    const { onChangeSubscription, mode } = this.props;\n    if (!open) return null;\n\n    return (\n      <Dialog\n        actions={[\n          onChangeSubscription && (\n            <RaisedButton\n              label={<Trans>Get a subscription or login</Trans>}\n              key=\"subscribe\"\n              primary\n              onClick={() => {\n                this.setState({ open: false });\n                onChangeSubscription();\n              }}\n            />\n          ),\n        ]}\n        secondaryActions={[\n          <FlatButton\n            label={\n              mode === 'try' ? (\n                <Trans>Continue anyway</Trans>\n              ) : (\n                <Trans>Not now, thanks!</Trans>\n              )\n            }\n            key=\"close\"\n            primary={false}\n            onClick={this._closeDialog}\n          />,\n        ]}\n        onRequestClose={this._closeDialog}\n        open={open}\n        autoScrollBodyContent\n        title={this.props.title}\n      >\n        <Column noMargin>\n          <Line noMargin alignItems=\"center\">\n            {mode === 'try' ? (\n              <p>\n                <Trans>\n                  You can try this feature, but if you're using it regularly, we\n                  ask you to get a subscription to GDevelop.\n                </Trans>\n              </p>\n            ) : (\n              <p>\n                <Trans>\n                  To use this feature, we ask you to get a subscription to\n                  GDevelop.\n                </Trans>\n              </p>\n            )}\n          </Line>\n          <Line noMargin alignItems=\"center\">\n            <Star style={styles.icon} />\n            <p style={styles.iconText}>\n              <Trans>\n                Having a subscription allows you to use the one-click export for\n                Android, Windows, macOS and Linux, launch live previews over\n                wifi, disable the GDevelop splashscreen during loading and more!\n              </Trans>\n            </p>\n          </Line>\n          <Line noMargin alignItems=\"center\">\n            <Favorite style={styles.icon} />\n            <p style={styles.iconText}>\n              <Trans>\n                You're also supporting the development of GDevelop, an\n                open-source software! In the future, more online services will\n                be available for users with a subscription.\n              </Trans>\n            </p>\n          </Line>\n          <p style={styles.thanksText}>\n            <b>\n              <Trans>Thanks!</Trans>\n            </b>\n          </p>\n        </Column>\n      </Dialog>\n    );\n  }\n}\n\nclass SubscriptionChecker extends React.Component<Props, {}> {\n  _dialog: ?SubscriptionCheckDialog = null;\n\n  checkHasSubscription() {\n    if (this._dialog) {\n      return this._dialog.checkHasSubscription();\n    }\n\n    return false;\n  }\n\n  render() {\n    return (\n      <UserProfileContext.Consumer>\n        {(userProfile: UserProfile) => (\n          <SubscriptionCheckDialog\n            userProfile={userProfile}\n            ref={dialog => (this._dialog = dialog)}\n            onChangeSubscription={this.props.onChangeSubscription}\n            id={this.props.id}\n            title={this.props.title}\n            mode={this.props.mode}\n          />\n        )}\n      </UserProfileContext.Consumer>\n    );\n  }\n}\n\nexport default SubscriptionChecker;\n","// @flow\nimport * as React from 'react';\nimport PreferencesContext, {\n  type AlertMessageIdentifier,\n} from '../MainFrame/Preferences/PreferencesContext';\nimport AlertMessage from './AlertMessage';\n\ntype Props = {|\n  kind: 'info' | 'warning',\n  children: React.Node,\n  identifier: AlertMessageIdentifier,\n|};\n\n/**\n * Show an alert that can be permanently hidden. Hidden messages\n * will be stored in preferences.\n */\nconst DismissableAlertMessage = ({ identifier, kind, children }: Props) => (\n  <PreferencesContext.Consumer>\n    {({ values, showAlertMessage }) =>\n      !values.hiddenAlertMessages[identifier] && (\n        <AlertMessage\n          kind={kind}\n          children={children}\n          onHide={() => {\n            //eslint-disable-next-line\n            const answer = confirm(\n              \"Are you sure you want to hide this hint? You won't see it again, unless you re-activate it from the preferences.\"\n            );\n\n            if (!answer) return;\n\n            showAlertMessage(identifier, false);\n          }}\n        />\n      )\n    }\n  </PreferencesContext.Consumer>\n);\n\nexport default DismissableAlertMessage;\n","// @flow\nimport * as React from 'react';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nconst styles = {\n  progress: { marginRight: 8, verticalAlign: 'middle' },\n};\n\nexport default ({\n  children,\n  isLoading,\n}: {\n  children: React.Node,\n  isLoading: ?boolean,\n}) => (\n  <span>\n    {isLoading && <CircularProgress size={20} style={styles.progress} />}\n    {children}\n  </span>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Column, Line } from '../UI/Grid';\n\nconst styles = {\n  orDivider: {\n    marginLeft: 15,\n    marginTop: 2,\n  },\n};\n\ntype Props = {\n  message?: string,\n  onLogin: Function,\n};\n\nexport default ({ message, onLogin }: Props) => (\n  <Column noMargin>\n    <Line>\n      <p>\n        {message ||\n          'You are not connected. Create an account and connect to access to GDevelop online services, like building your game for Android in one click!'}\n      </p>\n    </Line>\n    <Line justifyContent=\"center\" alignItems=\"center\">\n      <RaisedButton\n        label={<Trans>Create my account</Trans>}\n        onClick={onLogin}\n        primary\n      />\n      <span style={styles.orDivider}>or</span>\n      <FlatButton label={<Trans>Login</Trans>} onClick={onLogin} />\n    </Line>\n  </Column>\n);\n","// @flow\nimport * as React from 'react';\nimport EventsTree from './EventsTree';\nimport NewInstructionEditorDialog from './InstructionEditor/NewInstructionEditorDialog';\nimport InstructionEditorDialog from './InstructionEditor/InstructionEditorDialog';\nimport Toolbar from './Toolbar';\nimport KeyboardShortcuts from '../UI/KeyboardShortcuts';\nimport InlineParameterEditor from './InlineParameterEditor';\nimport ContextMenu from '../UI/Menu/ContextMenu';\nimport { type PreviewOptions } from '../Export/PreviewLauncher.flow';\nimport { serializeToJSObject } from '../Utils/Serializer';\nimport {\n  type HistoryState,\n  undo,\n  redo,\n  canUndo,\n  canRedo,\n  getHistoryInitialState,\n  saveToHistory,\n} from '../Utils/History';\nimport {\n  type SelectionState,\n  type EventContext,\n  type InstructionsListContext,\n  type InstructionContext,\n  type ParameterContext,\n  getInitialSelection,\n  selectEvent,\n  selectInstruction,\n  hasSomethingSelected,\n  hasEventSelected,\n  hasInstructionSelected,\n  hasSelectedAtLeastOneCondition,\n  hasInstructionsListSelected,\n  getSelectedEvents,\n  getSelectedInstructions,\n  clearSelection,\n  getSelectedEventContexts,\n  getSelectedInstructionsContexts,\n  selectInstructionsList,\n} from './SelectionHandler';\nimport EmptyEventsPlaceholder from './EmptyEventsPlaceholder';\nimport { ensureSingleOnceInstructions } from './OnceInstructionSanitizer';\nimport EventsContextAnalyzerDialog, {\n  type EventsContextResult,\n  toEventsContextResult,\n} from './EventsContextAnalyzerDialog';\nimport SearchPanel from './SearchPanel';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport EventsSearcher, {\n  type ReplaceInEventsInputs,\n  type SearchInEventsInputs,\n} from './EventsSearcher';\nimport { containsSubInstructions } from './ContainsSubInstruction';\nimport {\n  enumerateEventsMetadata,\n  type EventMetadata,\n} from './EnumerateEventsMetadata';\nimport PreferencesContext from '../MainFrame/Preferences/PreferencesContext';\nimport EventsFunctionExtractorDialog from './EventsFunctionExtractor/EventsFunctionExtractorDialog';\nimport { createNewInstructionForEventsFunction } from './EventsFunctionExtractor';\nimport { type EventsScope } from './EventsScope.flow';\nimport {\n  pasteEventsFromClipboardInSelection,\n  copySelectionToClipboard,\n  pasteInstructionsFromClipboardInSelection,\n  hasClipboardEvents,\n  hasClipboardActions,\n  hasClipboardConditions,\n  pasteInstructionsFromClipboardInInstructionsList,\n} from './ClipboardKind';\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  events: gdEventsList,\n  setToolbar: (?React.Node) => void,\n  showPreviewButton: boolean,\n  showNetworkPreviewButton: boolean,\n  onPreview: (options: PreviewOptions) => void,\n  onOpenDebugger: () => void,\n  onOpenSettings?: ?() => void,\n  onOpenExternalEvents: string => void,\n  onOpenLayout: string => void,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n  onCreateEventsFunction: (\n    extensionName: string,\n    eventsFunction: gdEventsFunction\n  ) => void,\n|};\ntype State = {|\n  history: HistoryState,\n\n  editedInstruction: {\n    //TODO: This could be adapted to be a InstructionContext\n    isCondition: boolean,\n    instruction: ?gdInstruction,\n    instrsList: ?gdInstructionsList,\n    indexInList: ?number,\n  },\n  editedParameter: {\n    // TODO: This could be adapted to be a ParameterContext\n    isCondition: boolean,\n    instruction: ?gdInstruction,\n    instrsList: ?gdInstructionsList,\n    parameterIndex: number,\n  },\n\n  selection: SelectionState,\n\n  inlineEditing: boolean,\n  inlineEditingAnchorEl: ?any,\n  inlineEditingChangesMade: boolean,\n\n  analyzedEventsContextResult: ?EventsContextResult,\n\n  serializedEventsToExtract: ?Object,\n\n  showSearchPanel: boolean,\n  searchResults: ?Array<gdBaseEvent>,\n  searchFocusOffset: ?number,\n\n  allEventsMetadata: Array<EventMetadata>,\n|};\n\nconst styles = {\n  container: {\n    display: 'flex',\n    width: '100%',\n    flexDirection: 'column',\n  },\n};\n\nexport default class EventsSheet extends React.Component<Props, State> {\n  _eventsTree: ?EventsTree;\n  _eventSearcher: ?EventsSearcher;\n  _searchPanel: ?SearchPanel;\n  _keyboardShortcuts = new KeyboardShortcuts({\n    onDelete: () => {\n      if (this.state.inlineEditing || this.state.editedInstruction.instruction)\n        return;\n\n      this.deleteSelection();\n    },\n    onCopy: () => this.copySelection(),\n    onCut: () => this.cutSelection(),\n    onPaste: () => this.pasteEventsOrInstructions(),\n    onSearch: () => this._toggleSearchPanel(),\n    onUndo: () => this.undo(),\n    onRedo: () => this.redo(),\n  });\n\n  eventContextMenu: ContextMenu;\n  instructionContextMenu: ContextMenu;\n  instructionsListContextMenu: ContextMenu;\n\n  state = {\n    history: getHistoryInitialState(this.props.events, { historyMaxSize: 50 }),\n\n    editedInstruction: {\n      isCondition: true,\n      instruction: null,\n      instrsList: null,\n      indexInList: 0,\n    },\n    editedParameter: {\n      isCondition: true,\n      instruction: null,\n      instrsList: null,\n      parameterIndex: 0,\n    },\n\n    selection: getInitialSelection(),\n\n    inlineEditing: false,\n    inlineEditingAnchorEl: null,\n    inlineEditingChangesMade: false,\n\n    analyzedEventsContextResult: null,\n\n    serializedEventsToExtract: null,\n\n    showSearchPanel: false,\n    searchResults: null,\n    searchFocusOffset: null,\n\n    allEventsMetadata: [],\n  };\n\n  componentDidMount() {\n    this.setState({ allEventsMetadata: enumerateEventsMetadata() });\n  }\n\n  componentWillUnmount() {\n    this._keyboardShortcuts.unmount();\n  }\n\n  updateToolbar() {\n    if (!this.props.setToolbar) return;\n\n    this.props.setToolbar(\n      <Toolbar\n        allEventsMetadata={this.state.allEventsMetadata}\n        onAddStandardEvent={() =>\n          this.addNewEvent('BuiltinCommonInstructions::Standard')\n        }\n        onAddSubEvent={this.addSubEvents}\n        canAddSubEvent={hasEventSelected(this.state.selection)}\n        onAddCommentEvent={() =>\n          this.addNewEvent('BuiltinCommonInstructions::Comment')\n        }\n        onAddEvent={this.addNewEvent}\n        canRemove={hasSomethingSelected(this.state.selection)}\n        onRemove={this.deleteSelection}\n        showPreviewButton={this.props.showPreviewButton}\n        showNetworkPreviewButton={this.props.showNetworkPreviewButton}\n        onPreview={() => this.props.onPreview({})}\n        onNetworkPreview={() => this.props.onPreview({ networkPreview: true })}\n        onOpenDebugger={() => {\n          this.props.onOpenDebugger();\n          this.props.onPreview({});\n        }}\n        canUndo={canUndo(this.state.history)}\n        canRedo={canRedo(this.state.history)}\n        undo={this.undo}\n        redo={this.redo}\n        onOpenSettings={this.props.onOpenSettings}\n        onToggleSearchPanel={this._toggleSearchPanel}\n      />\n    );\n  }\n\n  _toggleSearchPanel = () => {\n    this.setState(\n      state => {\n        const show = !state.showSearchPanel;\n        if (!show) {\n          if (this._eventSearcher) this._eventSearcher.reset();\n        }\n\n        return {\n          showSearchPanel: show,\n        };\n      },\n      () => {\n        if (this.state.showSearchPanel && this._searchPanel) {\n          this._searchPanel.focus();\n        }\n      }\n    );\n  };\n\n  addSubEvents = () => {\n    const { project } = this.props;\n\n    getSelectedEvents(this.state.selection).forEach(event => {\n      if (event.canHaveSubEvents()) {\n        event\n          .getSubEvents()\n          .insertNewEvent(\n            project,\n            'BuiltinCommonInstructions::Standard',\n            event.getSubEvents().getEventsCount()\n          );\n      }\n    });\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  _selectionCanHaveSubEvents = () => {\n    return getSelectedEvents(this.state.selection).some(event => {\n      return event.canHaveSubEvents();\n    });\n  };\n\n  _selectionCanToggleDisabled = () => {\n    return getSelectedEvents(this.state.selection).some(event => {\n      return event.isExecutable();\n    });\n  };\n\n  addNewEvent = (type: string, context: ?EventContext): Array<gdBaseEvent> => {\n    const { project } = this.props;\n    const hasEventsSelected = hasEventSelected(this.state.selection);\n\n    let insertions: Array<{\n      eventsList: gdEventsList,\n      indexInList: number,\n    }> = [];\n    if (context) {\n      insertions = [context];\n    } else if (hasEventsSelected) {\n      insertions = getSelectedEventContexts(this.state.selection).map(\n        selectedEvent => ({\n          eventsList: selectedEvent.eventsList,\n          indexInList: selectedEvent.indexInList,\n        })\n      );\n    } else {\n      insertions = [\n        {\n          eventsList: this.props.events,\n          indexInList: this.props.events.getEventsCount(),\n        },\n      ];\n    }\n\n    const newEvents = insertions.map(\n      (context: { eventsList: gdEventsList, indexInList: number }) => {\n        return context.eventsList.insertNewEvent(\n          project,\n          type,\n          context.indexInList + 1\n        );\n      }\n    );\n\n    this._saveChangesToHistory(() => {\n      const eventsTree = this._eventsTree;\n      if (!eventsTree) return;\n\n      eventsTree.forceEventsUpdate(() => {\n        if (!context && !hasEventsSelected) {\n          eventsTree.scrollToEvent(newEvents[0]);\n        }\n      });\n    });\n\n    return newEvents;\n  };\n\n  openInstructionEditor = (\n    instructionContext: InstructionContext | InstructionsListContext\n  ) => {\n    if (this.state.editedInstruction.instruction) {\n      this.state.editedInstruction.instruction.delete();\n      console.warn(\n        'state.editedInstruction.instruction was containing an instruction - deleting it. Verify the logic handling the state in EventsSheet because that should not happen.'\n      );\n    }\n\n    this.setState({\n      editedInstruction: {\n        instrsList: instructionContext.instrsList,\n        isCondition: instructionContext.isCondition,\n        instruction: instructionContext.instruction\n          ? instructionContext.instruction.clone()\n          : new gd.Instruction(),\n        indexInList:\n          instructionContext.indexInList !== undefined\n            ? instructionContext.indexInList\n            : undefined,\n      },\n    });\n  };\n\n  closeInstructionEditor(saveChanges: boolean = false) {\n    const { instruction } = this.state.editedInstruction;\n    this.setState(\n      {\n        editedInstruction: {\n          isCondition: true,\n          instruction: null,\n          instrsList: null,\n          indexInList: 0,\n        },\n      },\n      () => {\n        // Delete from memory the instruction being edited, *after* resetting\n        // editedInstruction and after the re-rendering, in an effort to be\n        // sure that instruction is not used after deletion.\n        if (instruction) {\n          instruction.delete();\n        }\n        if (saveChanges) {\n          this._saveChangesToHistory();\n        }\n      }\n    );\n  }\n\n  moveSelectionToInstruction = (destinationContext: InstructionContext) => {\n    this.moveSelectionToInstructionsList(\n      {\n        instrsList: destinationContext.instrsList,\n        isCondition: destinationContext.isCondition,\n      },\n      destinationContext.indexInList\n    );\n  };\n\n  moveSelectionToInstructionsList = (\n    destinationContext: InstructionsListContext,\n    indexInList: ?number = undefined\n  ) => {\n    const selectedInstructions = getSelectedInstructions(this.state.selection);\n    const destinationIndex =\n      indexInList === undefined\n        ? destinationContext.instrsList.size()\n        : indexInList;\n\n    const isTryingToDragAnInstructionIntoItsOwnNestedInstructions = !!selectedInstructions.filter(\n      instruction =>\n        containsSubInstructions(instruction, destinationContext.instrsList)\n    ).length;\n\n    if (isTryingToDragAnInstructionIntoItsOwnNestedInstructions) return;\n\n    selectedInstructions.forEach(instruction =>\n      destinationContext.instrsList.insert(instruction, destinationIndex)\n    );\n\n    if (!this._keyboardShortcuts.shouldCloneInstances()) {\n      this.deleteSelection({ deleteEvents: false });\n    } else {\n      this._saveChangesToHistory();\n    }\n  };\n\n  selectEvent = (eventContext: EventContext) => {\n    const multiSelect = this._keyboardShortcuts.shouldMultiSelect();\n    this.setState(\n      {\n        selection: selectEvent(this.state.selection, eventContext, multiSelect),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openEventContextMenu = (x: number, y: number, eventContext: EventContext) => {\n    const multiSelect = this._keyboardShortcuts.shouldMultiSelect();\n    this.setState(\n      {\n        selection: selectEvent(this.state.selection, eventContext, multiSelect),\n      },\n      () => {\n        this.updateToolbar();\n        this.eventContextMenu.open(x, y);\n      }\n    );\n  };\n\n  openInstructionContextMenu = (\n    x: number,\n    y: number,\n    instructionContext: InstructionContext\n  ) => {\n    const multiSelect = this._keyboardShortcuts.shouldMultiSelect();\n    this.setState(\n      {\n        selection: selectInstruction(\n          this.state.selection,\n          instructionContext,\n          multiSelect\n        ),\n      },\n      () => {\n        this.updateToolbar();\n        this.instructionContextMenu.open(x, y);\n      }\n    );\n  };\n\n  openInstructionsListContextMenu = (\n    x: number,\n    y: number,\n    instructionsListContext: InstructionsListContext\n  ) => {\n    this.setState(\n      {\n        selection: selectInstructionsList(\n          this.state.selection,\n          instructionsListContext,\n          false\n        ),\n      },\n      () => {\n        this.updateToolbar();\n        this.instructionsListContextMenu.open(x, y);\n      }\n    );\n  };\n\n  selectInstruction = (instructionContext: InstructionContext) => {\n    const multiSelect = this._keyboardShortcuts.shouldMultiSelect();\n    this.setState(\n      {\n        selection: selectInstruction(\n          this.state.selection,\n          instructionContext,\n          multiSelect\n        ),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openParameterEditor = (parameterContext: ParameterContext) => {\n    // $FlowFixMe\n    this.setState({\n      editedParameter: parameterContext,\n      inlineEditing: true,\n      inlineEditingAnchorEl: parameterContext.domEvent\n        ? parameterContext.domEvent.currentTarget\n        : null,\n      inlineEditingChangesMade: false,\n    });\n  };\n\n  closeParameterEditor = () => {\n    if (this.state.inlineEditingChangesMade) {\n      this._saveChangesToHistory();\n    }\n\n    this.setState({\n      inlineEditing: false,\n      inlineEditingAnchorEl: null,\n      inlineEditingChangesMade: false,\n    });\n  };\n\n  toggleDisabled = () => {\n    getSelectedEvents(this.state.selection).forEach(event =>\n      event.setDisabled(!event.isDisabled())\n    );\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  deleteSelection = ({\n    deleteInstructions = true,\n    deleteEvents = true,\n  }: { deleteInstructions?: boolean, deleteEvents?: boolean } = {}) => {\n    const { events } = this.props;\n    const eventsRemover = new gd.EventsRemover();\n    if (deleteEvents) {\n      getSelectedEvents(this.state.selection).forEach(event =>\n        eventsRemover.addEventToRemove(event)\n      );\n    }\n    if (deleteInstructions) {\n      getSelectedInstructions(this.state.selection).forEach(instruction =>\n        eventsRemover.addInstructionToRemove(instruction)\n      );\n    }\n\n    eventsRemover.launch(events);\n\n    // /!\\ Events were changed, so any reference to an existing event can now\n    // be invalid. Make sure to immediately trigger a forced update before\n    // any re-render that could use a deleted/invalid event.\n    if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n\n    this.setState(\n      {\n        selection: clearSelection(),\n        inlineEditing: false,\n        inlineEditingAnchorEl: null,\n      },\n      () => this._saveChangesToHistory()\n    );\n  };\n\n  copySelection = () => {\n    copySelectionToClipboard(this.state.selection);\n  };\n\n  cutSelection = () => {\n    this.copySelection();\n    this.deleteSelection();\n  };\n\n  pasteEvents = () => {\n    if (\n      !pasteEventsFromClipboardInSelection(\n        this.props.project,\n        this.state.selection\n      )\n    ) {\n      return;\n    }\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  pasteInstructions = () => {\n    if (\n      !pasteInstructionsFromClipboardInSelection(\n        this.props.project,\n        this.state.selection\n      )\n    ) {\n      return;\n    }\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  pasteEventsOrInstructions = () => {\n    if (hasEventSelected(this.state.selection)) this.pasteEvents();\n    else if (hasInstructionSelected(this.state.selection))\n      this.pasteInstructions();\n    else if (hasInstructionsListSelected(this.state.selection))\n      this.pasteInstructions();\n  };\n\n  pasteInstructionsInInstructionsList = (\n    instructionsListContext: InstructionsListContext\n  ) => {\n    if (\n      !pasteInstructionsFromClipboardInInstructionsList(\n        this.props.project,\n        instructionsListContext\n      )\n    ) {\n      return;\n    }\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  _invertSelectedConditions = () => {\n    getSelectedInstructionsContexts(this.state.selection).forEach(\n      instructionContext => {\n        if (instructionContext.isCondition) {\n          instructionContext.instruction.setInverted(\n            !instructionContext.instruction.isInverted()\n          );\n        }\n      }\n    );\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  _saveChangesToHistory = (cb: ?Function) => {\n    this.setState(\n      {\n        history: saveToHistory(this.state.history, this.props.events),\n      },\n      () => {\n        this.updateToolbar();\n        if (cb) cb();\n      }\n    );\n  };\n\n  undo = () => {\n    if (!canUndo(this.state.history)) return;\n\n    const { events, project } = this.props;\n    const newHistory = undo(this.state.history, events, project);\n\n    // /!\\ Events were changed, so any reference to an existing event can now\n    // be invalid. Make sure to immediately trigger a forced update before\n    // any re-render that could use a deleted/invalid event.\n    if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n\n    this.setState({ history: newHistory }, () => this.updateToolbar());\n  };\n\n  redo = () => {\n    if (!canRedo(this.state.history)) return;\n\n    const { events, project } = this.props;\n    const newHistory = redo(this.state.history, events, project);\n\n    // /!\\ Events were changed, so any reference to an existing event can now\n    // be invalid. Make sure to immediately trigger a forced update before\n    // any re-render that could use a deleted/invalid event.\n    if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n\n    this.setState({ history: newHistory }, () => this.updateToolbar());\n  };\n\n  _openEventsContextAnalyzer = () => {\n    const { globalObjectsContainer, objectsContainer } = this.props;\n    const eventsContextAnalyzer = new gd.EventsContextAnalyzer(\n      gd.JsPlatform.get(),\n      globalObjectsContainer,\n      objectsContainer\n    );\n\n    const eventsList = new gd.EventsList();\n    getSelectedEvents(this.state.selection).forEach(event =>\n      eventsList.insertEvent(event, eventsList.getEventsCount())\n    );\n\n    eventsContextAnalyzer.launch(eventsList);\n    eventsList.delete();\n\n    this.setState({\n      analyzedEventsContextResult: toEventsContextResult(\n        eventsContextAnalyzer.getEventsContext()\n      ),\n    });\n    eventsContextAnalyzer.delete();\n  };\n\n  _closeEventsContextAnalyzer = () => {\n    this.setState({\n      analyzedEventsContextResult: null,\n    });\n  };\n\n  extractEventsToFunction = () => {\n    const eventsList = new gd.EventsList();\n\n    getSelectedEvents(this.state.selection).forEach(event =>\n      eventsList.insertEvent(event, eventsList.getEventsCount())\n    );\n\n    this.setState({\n      serializedEventsToExtract: serializeToJSObject(eventsList),\n    });\n\n    eventsList.delete();\n  };\n\n  _replaceSelectionByEventsFunction = (\n    extensionName: string,\n    eventsFunction: gdEventsFunction\n  ) => {\n    const contexts = getSelectedEventContexts(this.state.selection);\n    if (!contexts.length) return;\n\n    const newEvents = this.addNewEvent(\n      'BuiltinCommonInstructions::Standard',\n      contexts[0]\n    );\n    if (!newEvents.length) {\n      console.error('A new event should have been created');\n      return;\n    }\n\n    const action = createNewInstructionForEventsFunction(\n      extensionName,\n      eventsFunction\n    );\n    const standardEvt = gd.asStandardEvent(newEvents[0]);\n    standardEvt.getActions().push_back(action);\n    action.delete();\n\n    this.deleteSelection({ deleteInstructions: false });\n  };\n\n  _ensureEventUnfolded = (cb: () => ?gdBaseEvent) => {\n    const event = cb();\n    if (event && this._eventsTree) {\n      this._eventsTree.unfoldForEvent(event);\n    }\n  };\n\n  _replaceInEvents = (\n    doReplaceInEvents: (inputs: ReplaceInEventsInputs) => void,\n    inputs: ReplaceInEventsInputs\n  ) => {\n    doReplaceInEvents(inputs);\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  _searchInEvents = (\n    doSearchInEvents: (inputs: SearchInEventsInputs, cb: () => void) => void,\n    inputs: SearchInEventsInputs\n  ) => {\n    doSearchInEvents(inputs, () => {\n      this.forceUpdate(() => {\n        if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n      });\n    });\n  };\n\n  _onEventMoved = () => {\n    // Move of the event in the list is handled by EventsTree.\n    // This could be refactored and put here if the drag'n'drop of events\n    // is reworked at some point.\n    this._saveChangesToHistory();\n  };\n\n  _renderInstructionEditorDialog = (newInstructionEditorDialog: boolean) => {\n    const {\n      project,\n      scope,\n      globalObjectsContainer,\n      objectsContainer,\n    } = this.props;\n\n    const Dialog = newInstructionEditorDialog\n      ? NewInstructionEditorDialog\n      : InstructionEditorDialog;\n\n    return this.state.editedInstruction.instruction ? (\n      <Dialog\n        project={project}\n        scope={scope}\n        globalObjectsContainer={globalObjectsContainer}\n        objectsContainer={objectsContainer}\n        instruction={this.state.editedInstruction.instruction}\n        isCondition={this.state.editedInstruction.isCondition}\n        isNewInstruction={\n          this.state.editedInstruction.indexInList === undefined\n        }\n        open={true}\n        onCancel={() => this.closeInstructionEditor()}\n        onSubmit={() => {\n          const {\n            instrsList,\n            instruction,\n            indexInList,\n          } = this.state.editedInstruction;\n          if (!instrsList) return;\n\n          if (indexInList !== undefined) {\n            // Replace an existing instruction\n            instrsList.set(indexInList, instruction);\n          } else {\n            // Add a new instruction\n            instrsList.insert(instruction, instrsList.size());\n          }\n\n          this.closeInstructionEditor(true);\n          ensureSingleOnceInstructions(instrsList);\n          if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n        }}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        openInstructionOrExpression={(extension, type) => {\n          this.closeInstructionEditor();\n          this.props.openInstructionOrExpression(extension, type);\n        }}\n      />\n    ) : (\n      undefined\n    );\n  };\n\n  render() {\n    const {\n      project,\n      scope,\n      events,\n      onOpenExternalEvents,\n      onOpenLayout,\n      globalObjectsContainer,\n      objectsContainer,\n    } = this.props;\n    if (!project) return null;\n\n    return (\n      <PreferencesContext.Consumer>\n        {({ values }) => (\n          <EventsSearcher\n            key={events.ptr}\n            ref={eventSearcher => (this._eventSearcher = eventSearcher)}\n            events={events}\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            selection={this.state.selection}\n          >\n            {({\n              eventsSearchResultEvents,\n              searchFocusOffset,\n              searchInEvents,\n              replaceInEvents,\n              goToPreviousSearchResult,\n              goToNextSearchResult,\n            }) => (\n              <div\n                className=\"gd-events-sheet\"\n                style={styles.container}\n                onFocus={() => this._keyboardShortcuts.focus()}\n                onBlur={() => this._keyboardShortcuts.blur()}\n                tabIndex={1}\n              >\n                <EventsTree\n                  ref={eventsTree => (this._eventsTree = eventsTree)}\n                  key={events.ptr}\n                  events={events}\n                  project={project}\n                  scope={scope}\n                  globalObjectsContainer={globalObjectsContainer}\n                  objectsContainer={objectsContainer}\n                  selection={this.state.selection}\n                  onInstructionClick={this.selectInstruction}\n                  onInstructionDoubleClick={this.openInstructionEditor}\n                  onInstructionContextMenu={this.openInstructionContextMenu}\n                  onInstructionsListContextMenu={\n                    this.openInstructionsListContextMenu\n                  }\n                  onAddNewInstruction={this.openInstructionEditor}\n                  onPasteInstructions={this.pasteInstructionsInInstructionsList}\n                  onMoveToInstruction={this.moveSelectionToInstruction}\n                  onMoveToInstructionsList={\n                    this.moveSelectionToInstructionsList\n                  }\n                  onParameterClick={this.openParameterEditor}\n                  onEventClick={this.selectEvent}\n                  onEventContextMenu={this.openEventContextMenu}\n                  onAddNewEvent={context => {\n                    this.addNewEvent(\n                      'BuiltinCommonInstructions::Standard',\n                      context\n                    );\n                  }}\n                  onOpenExternalEvents={onOpenExternalEvents}\n                  onOpenLayout={onOpenLayout}\n                  searchResults={eventsSearchResultEvents}\n                  searchFocusOffset={searchFocusOffset}\n                  onEventMoved={this._onEventMoved}\n                  showObjectThumbnails={values.eventsSheetShowObjectThumbnails}\n                />\n                {this.state.showSearchPanel && (\n                  <SearchPanel\n                    ref={searchPanel => (this._searchPanel = searchPanel)}\n                    onSearchInEvents={inputs =>\n                      this._searchInEvents(searchInEvents, inputs)\n                    }\n                    onReplaceInEvents={inputs =>\n                      this._replaceInEvents(replaceInEvents, inputs)\n                    }\n                    resultsCount={\n                      eventsSearchResultEvents\n                        ? eventsSearchResultEvents.length\n                        : null\n                    }\n                    hasEventSelected={hasEventSelected(this.state.selection)}\n                    onGoToPreviousSearchResult={() =>\n                      this._ensureEventUnfolded(goToPreviousSearchResult)\n                    }\n                    onGoToNextSearchResult={() =>\n                      this._ensureEventUnfolded(goToNextSearchResult)\n                    }\n                  />\n                )}\n                {events && events.getEventsCount() === 0 && (\n                  <EmptyEventsPlaceholder />\n                )}\n                <InlineParameterEditor\n                  open={this.state.inlineEditing}\n                  anchorEl={this.state.inlineEditingAnchorEl}\n                  onRequestClose={this.closeParameterEditor}\n                  project={project}\n                  scope={scope}\n                  globalObjectsContainer={globalObjectsContainer}\n                  objectsContainer={objectsContainer}\n                  isCondition={this.state.editedParameter.isCondition}\n                  instruction={this.state.editedParameter.instruction}\n                  parameterIndex={this.state.editedParameter.parameterIndex}\n                  onChange={value => {\n                    const {\n                      instruction,\n                      parameterIndex,\n                    } = this.state.editedParameter;\n                    if (!instruction) return;\n                    instruction.setParameter(parameterIndex, value);\n                    this.setState({\n                      inlineEditingChangesMade: true,\n                    });\n                  }}\n                  resourceSources={this.props.resourceSources}\n                  onChooseResource={this.props.onChooseResource}\n                  resourceExternalEditors={this.props.resourceExternalEditors}\n                />\n                <ContextMenu\n                  ref={eventContextMenu =>\n                    (this.eventContextMenu = eventContextMenu)\n                  }\n                  buildMenuTemplate={() => [\n                    {\n                      label: 'Copy',\n                      click: () => this.copySelection(),\n                      accelerator: 'CmdOrCtrl+C',\n                    },\n                    {\n                      label: 'Cut',\n                      click: () => this.cutSelection(),\n                      accelerator: 'CmdOrCtrl+X',\n                    },\n                    {\n                      label: 'Paste',\n                      click: () => this.pasteEvents(),\n                      enabled: hasClipboardEvents(),\n                      accelerator: 'CmdOrCtrl+V',\n                    },\n                    {\n                      label: 'Delete',\n                      click: () => this.deleteSelection(),\n                      accelerator: 'Delete',\n                    },\n                    {\n                      label: 'Toggle disabled',\n                      click: () => this.toggleDisabled(),\n                      enabled: this._selectionCanToggleDisabled(),\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Add New Event Below',\n                      click: () =>\n                        this.addNewEvent('BuiltinCommonInstructions::Standard'),\n                    },\n                    {\n                      label: 'Add Sub Event',\n                      click: () => this.addSubEvents(),\n                      enabled: this._selectionCanHaveSubEvents(),\n                    },\n                    {\n                      label: 'Add Other',\n                      submenu: this.state.allEventsMetadata.map(metadata => {\n                        return {\n                          label: metadata.fullName,\n                          click: () => this.addNewEvent(metadata.type),\n                        };\n                      }),\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Undo',\n                      click: this.undo,\n                      enabled: canUndo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Z',\n                    },\n                    {\n                      label: 'Redo',\n                      click: this.redo,\n                      enabled: canRedo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Shift+Z',\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Extract Events to a Function',\n                      click: () => this.extractEventsToFunction(),\n                    },\n                    {\n                      label: 'Analyze Objects Used in this Event',\n                      click: this._openEventsContextAnalyzer,\n                    },\n                  ]}\n                />\n                <ContextMenu\n                  ref={instructionContextMenu =>\n                    (this.instructionContextMenu = instructionContextMenu)\n                  }\n                  buildMenuTemplate={() => [\n                    {\n                      label: 'Copy',\n                      click: () => this.copySelection(),\n                      accelerator: 'CmdOrCtrl+C',\n                    },\n                    {\n                      label: 'Cut',\n                      click: () => this.cutSelection(),\n                      accelerator: 'CmdOrCtrl+X',\n                    },\n                    {\n                      label: 'Paste',\n                      click: () => this.pasteInstructions(),\n                      enabled:\n                        hasClipboardConditions() || hasClipboardActions(),\n                      accelerator: 'CmdOrCtrl+V',\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Delete',\n                      click: () => this.deleteSelection(),\n                      accelerator: 'Delete',\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Undo',\n                      click: this.undo,\n                      enabled: canUndo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Z',\n                    },\n                    {\n                      label: 'Redo',\n                      click: this.redo,\n                      enabled: canRedo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Shift+Z',\n                    },\n                    {\n                      label: 'Invert Condition',\n                      click: () => this._invertSelectedConditions(),\n                      visible: hasSelectedAtLeastOneCondition(\n                        this.state.selection\n                      ),\n                    },\n                  ]}\n                />\n                <ContextMenu\n                  ref={instructionsListContextMenu =>\n                    (this.instructionsListContextMenu = instructionsListContextMenu)\n                  }\n                  buildMenuTemplate={() => [\n                    {\n                      label: 'Paste',\n                      click: () => this.pasteInstructions(),\n                      enabled:\n                        hasClipboardConditions() || hasClipboardActions(),\n                      accelerator: 'CmdOrCtrl+V',\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Undo',\n                      click: this.undo,\n                      enabled: canUndo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Z',\n                    },\n                    {\n                      label: 'Redo',\n                      click: this.redo,\n                      enabled: canRedo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Shift+Z',\n                    },\n                  ]}\n                />\n                {this._renderInstructionEditorDialog(\n                  values.useNewInstructionEditorDialog\n                )}\n                {this.state.analyzedEventsContextResult && (\n                  <EventsContextAnalyzerDialog\n                    onClose={this._closeEventsContextAnalyzer}\n                    eventsContextResult={this.state.analyzedEventsContextResult}\n                  />\n                )}\n                {this.state.serializedEventsToExtract && (\n                  <EventsFunctionExtractorDialog\n                    project={project}\n                    globalObjectsContainer={globalObjectsContainer}\n                    objectsContainer={objectsContainer}\n                    onClose={() =>\n                      this.setState({\n                        serializedEventsToExtract: null,\n                      })\n                    }\n                    serializedEvents={this.state.serializedEventsToExtract}\n                    onCreate={(extensionName, eventsFunction) => {\n                      this.props.onCreateEventsFunction(\n                        extensionName,\n                        eventsFunction\n                      );\n                      this._replaceSelectionByEventsFunction(\n                        extensionName,\n                        eventsFunction\n                      );\n                      this.setState({\n                        serializedEventsToExtract: null,\n                      });\n                    }}\n                  />\n                )}\n              </div>\n            )}\n          </EventsSearcher>\n        )}\n      </PreferencesContext.Consumer>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport {\n  type ParameterInlineRenderer,\n  type ParameterInlineRendererProps,\n} from './ParameterFields/ParameterInlineRenderer.flow';\nimport DefaultField from './ParameterFields/DefaultField';\nimport RelationalOperatorField, {\n  renderInlineRelationalOperator,\n} from './ParameterFields/RelationalOperatorField';\nimport OperatorField from './ParameterFields/OperatorField';\nimport MouseField, { renderInlineMouse } from './ParameterFields/MouseField';\nimport KeyField, { renderInlineKey } from './ParameterFields/KeyField';\nimport ObjectField, {\n  renderInlineObjectWithThumbnail,\n} from './ParameterFields/ObjectField';\nimport YesNoField, { renderInlineYesNo } from './ParameterFields/YesNoField';\nimport TrueFalseField, {\n  renderInlineTrueFalse,\n} from './ParameterFields/TrueFalseField';\nimport ExpressionField from './ParameterFields/ExpressionField';\nimport StringField from './ParameterFields/StringField';\nimport StringWithSelectorField from './ParameterFields/StringWithSelectorField';\nimport BehaviorField from './ParameterFields/BehaviorField';\nimport SceneVariableField, {\n  renderInlineSceneVariable,\n} from './ParameterFields/SceneVariableField';\nimport GlobalVariableField, {\n  renderInlineGlobalVariable,\n} from './ParameterFields/GlobalVariableField';\nimport ObjectVariableField, {\n  renderInlineObjectVariable,\n} from './ParameterFields/ObjectVariableField';\nimport LayerField from './ParameterFields/LayerField';\nimport AudioResourceField from './ParameterFields/AudioResourceField';\nimport VideoResourceField from './ParameterFields/VideoResourceField';\nimport JsonResourceField from './ParameterFields/JsonResourceField';\nimport ColorExpressionField from './ParameterFields/ColorExpressionField';\nimport ForceMultiplierField, {\n  renderInlineForceMultiplier,\n} from './ParameterFields/ForceMultiplierField';\nimport SceneNameField from './ParameterFields/SceneNameField';\nconst gd = global.gd;\n\nconst components = {\n  default: DefaultField,\n  mouse: MouseField,\n  object: ObjectField,\n  relationalOperator: RelationalOperatorField,\n  operator: OperatorField,\n  yesorno: YesNoField,\n  trueorfalse: TrueFalseField,\n  expression: ExpressionField,\n  string: StringField,\n  stringWithSelector: StringWithSelectorField,\n  behavior: BehaviorField,\n  scenevar: SceneVariableField,\n  globalvar: GlobalVariableField,\n  objectvar: ObjectVariableField,\n  layer: LayerField,\n  key: KeyField,\n  file: DefaultField, //TODO\n  musicfile: AudioResourceField,\n  soundfile: AudioResourceField,\n  videoResource: VideoResourceField,\n  jsonResource: JsonResourceField,\n  color: ColorExpressionField,\n  police: DefaultField, //TODO\n  joyaxis: DefaultField, //TODO\n  forceMultiplier: ForceMultiplierField,\n  sceneName: SceneNameField,\n};\nconst inlineRenderers: { [string]: ParameterInlineRenderer } = {\n  forceMultiplier: renderInlineForceMultiplier,\n  globalvar: renderInlineGlobalVariable,\n  scenevar: renderInlineSceneVariable,\n  objectvar: renderInlineObjectVariable,\n  key: renderInlineKey,\n  mouse: renderInlineMouse,\n  object: renderInlineObjectWithThumbnail,\n  yesorno: renderInlineYesNo,\n  trueorfalse: renderInlineTrueFalse,\n  relationalOperator: renderInlineRelationalOperator,\n};\n\nexport default {\n  components,\n  getParameterComponent: (type: string) => {\n    const fieldType = gd.ParameterMetadata.isObject(type) ? 'object' : type;\n\n    if (components.hasOwnProperty(fieldType)) return components[fieldType];\n    else return components.default;\n  },\n  renderInlineParameter: (props: ParameterInlineRendererProps): React.Node => {\n    const rawType = props.parameterMetadata.getType();\n    const fieldType = gd.ParameterMetadata.isObject(rawType)\n      ? 'object'\n      : rawType;\n\n    return inlineRenderers[fieldType]\n      ? inlineRenderers[fieldType](props)\n      : props.value;\n  },\n};\n","// @flow\nimport * as React from 'react';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport ObjectSelector from '../../ObjectsList/ObjectSelector';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport { Trans } from '@lingui/macro';\n\nexport default class ObjectField extends React.Component<\n  ParameterFieldProps,\n  {||}\n> {\n  _description: ?string;\n  _allowedObjectType: ?string;\n  _field: ?ObjectSelector;\n\n  constructor(props: ParameterFieldProps) {\n    super(props);\n\n    const { parameterMetadata } = this.props;\n\n    this._description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    this._allowedObjectType = parameterMetadata\n      ? parameterMetadata.getExtraInfo()\n      : undefined;\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <ObjectSelector\n        project={this.props.project}\n        value={this.props.value}\n        onChange={this.props.onChange}\n        allowedObjectType={this._allowedObjectType}\n        globalObjectsContainer={this.props.globalObjectsContainer}\n        objectsContainer={this.props.objectsContainer}\n        floatingLabelText={this._description}\n        fullWidth\n        errorTextIfInvalid={\n          this._allowedObjectType ? (\n            <Trans>The object does not exist or can't be used here.</Trans>\n          ) : (\n            <Trans>Enter the name of an object.</Trans>\n          )\n        }\n        openOnFocus={\n          !this.props\n            .value /* Only force showing the list if no object is entered, see https://github.com/4ian/GDevelop/issues/859 */\n        }\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n\nexport const renderInlineObjectWithThumbnail = ({\n  value,\n  renderObjectThumbnail,\n}: ParameterInlineRendererProps) => {\n  return (\n    <span title={value}>\n      {renderObjectThumbnail(value)}\n      {value}\n    </span>\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { List, makeSelectable } from 'material-ui/List';\nimport SearchBar from '../../../UI/SearchBar';\nimport { type EnumeratedInstructionOrExpressionMetadata } from './EnumeratedInstructionOrExpressionMetadata.js';\nimport { type InstructionOrExpressionTreeNode } from './CreateTree';\nimport ThemeConsumer from '../../../UI/Theme/ThemeConsumer';\nimport { filterInstructionsList } from './EnumerateInstructions';\nimport { renderInstructionOrExpressionListItem } from '../SelectorListItems/SelectorInstructionOrExpressionListItem';\nimport { renderInstructionTree } from '../SelectorListItems/SelectorInstructionsTreeListItem';\nimport EmptyMessage from '../../../UI/EmptyMessage';\nimport ScrollView from '../../../UI/ScrollView';\nimport { Column, Line } from '../../../UI/Grid';\nimport { getInstructionListItemKey } from '../SelectorListItems/Keys';\n\nconst SelectableList = makeSelectable(List);\n\nconst styles = {\n  searchBar: {\n    backgroundColor: 'transparent',\n    flexShrink: 0,\n    zIndex: 1, // Put the SearchBar in front of the list, to display the shadow\n  },\n};\n\ntype Props = {|\n  focusOnMount?: boolean,\n  instructionsInfo: Array<EnumeratedInstructionOrExpressionMetadata>,\n  instructionsInfoTree: InstructionOrExpressionTreeNode,\n  selectedType: string,\n  onChoose: (type: string, EnumeratedInstructionOrExpressionMetadata) => void,\n  iconSize: number,\n  useSubheaders?: boolean,\n  searchBarHintText?: React.Node,\n|};\ntype State = {|\n  searchText: string,\n  searchResults: Array<EnumeratedInstructionOrExpressionMetadata>,\n|};\n\nexport default class InstructionOrExpressionSelector extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    searchText: '',\n    searchResults: [],\n  };\n  _searchBar: ?SearchBar;\n\n  componentDidMount() {\n    if (this.props.focusOnMount && this._searchBar) {\n      this._searchBar.focus();\n    }\n  }\n\n  focus = () => {\n    if (this._searchBar) this._searchBar.focus();\n  };\n\n  render() {\n    const {\n      selectedType,\n      iconSize,\n      instructionsInfoTree,\n      onChoose,\n      searchBarHintText,\n      useSubheaders,\n    } = this.props;\n    const { searchText } = this.state;\n    const displayedInstructionsList = searchText\n      ? filterInstructionsList(this.props.instructionsInfo, { searchText })\n      : [];\n    const hasResults = !searchText || !!displayedInstructionsList.length;\n\n    const onSubmitSearch = () => {\n      if (!displayedInstructionsList.length) return;\n\n      onChoose(displayedInstructionsList[0].type, displayedInstructionsList[0]);\n    };\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <Column noMargin expand>\n            <SearchBar\n              value={searchText}\n              onChange={searchText =>\n                this.setState({\n                  searchText,\n                })\n              }\n              onRequestSearch={onSubmitSearch}\n              style={styles.searchBar}\n              placeholder={searchBarHintText}\n              ref={searchBar => (this._searchBar = searchBar)}\n            />\n            <ScrollView\n              style={{ backgroundColor: muiTheme.list.itemsBackgroundColor }}\n            >\n              {hasResults && (\n                <SelectableList value={getInstructionListItemKey(selectedType)}>\n                  {searchText\n                    ? displayedInstructionsList.map(\n                        enumeratedInstructionOrExpressionMetadata =>\n                          renderInstructionOrExpressionListItem({\n                            instructionOrExpressionMetadata: enumeratedInstructionOrExpressionMetadata,\n                            iconSize: iconSize,\n                            onClick: () =>\n                              onChoose(\n                                enumeratedInstructionOrExpressionMetadata.type,\n                                enumeratedInstructionOrExpressionMetadata\n                              ),\n                          })\n                      )\n                    : renderInstructionTree({\n                        instructionTreeNode: instructionsInfoTree,\n                        iconSize,\n                        onChoose,\n                        useSubheaders,\n                      })}\n                </SelectableList>\n              )}\n              {!hasResults && (\n                <Line>\n                  <EmptyMessage>\n                    <Trans>\n                      Nothing corresponding to your search. Try browsing the\n                      list instead.\n                    </Trans>\n                  </EmptyMessage>\n                </Line>\n              )}\n            </ScrollView>\n          </Column>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\n\nconst styles = {\n  container: {\n    overflowY: 'scroll',\n    flex: 1,\n  },\n};\n\ntype Props = {| children: React.Node, style?: ?Object |};\n\nexport default ({ children, style }: Props) => (\n  <div style={{ ...styles.container, ...style }}>{children}</div>\n);\n","//@flow\nimport { type EventsScope } from '../../EventsScope.flow';\nconst gd = global.gd;\n\nexport type InstructionOrExpressionScope = {|\n  objectMetadata?: ?gdObjectMetadata,\n  behaviorMetadata?: ?gdBehaviorMetadata,\n|};\n\n// An object representing InstructionMetadata or ExpressionMetadata.\n// Allow to use most information without paying the cost to call the\n// InstructionMetadata/ExpressionMetadata methods. In theory,\n// this type and objects are redundant with InstructionMetadata and ExpressionMetadata.\nexport type EnumeratedInstructionOrExpressionMetadata = {|\n  type: string,\n  displayedName: string,\n  fullGroupName: string,\n  iconFilename: string,\n  metadata: gdInstructionMetadata | gdExpressionMetadata,\n  scope: InstructionOrExpressionScope,\n  isPrivate: boolean,\n\n  name?: string, // For expressions\n  parameters?: Array<any>, // For expressions\n|};\n\nexport const filterEnumeratedInstructionOrExpressionMetadataByScope = (\n  list: Array<EnumeratedInstructionOrExpressionMetadata>,\n  scope: EventsScope\n): Array<EnumeratedInstructionOrExpressionMetadata> => {\n  // This is copied from gd::WholeProjectRefactorer (see GetBehaviorFullType)\n  // Could be factored into a single C++ function in gd::PlatformExtension?\n  const separator = gd.PlatformExtension.getNamespaceSeparator();\n  const getBehaviorFullType = (extensionName: string, behaviorName: string) => {\n    return extensionName + separator + behaviorName;\n  };\n\n  return list.filter(enumeratedInstructionOrExpressionMetadata => {\n    if (!enumeratedInstructionOrExpressionMetadata.isPrivate) return true;\n\n    const {\n      behaviorMetadata,\n    } = enumeratedInstructionOrExpressionMetadata.scope;\n    const { eventsBasedBehavior, eventsFunctionsExtension } = scope;\n\n    if (\n      behaviorMetadata &&\n      eventsBasedBehavior &&\n      eventsFunctionsExtension &&\n      getBehaviorFullType(\n        eventsFunctionsExtension.getName(),\n        eventsBasedBehavior.getName()\n      ) === behaviorMetadata.getName()\n    ) {\n      return true;\n    }\n\n    return false;\n  });\n};\n","// @flow\r\n// Inspired by https://github.com/LoicMahieu/material-ui-color-picker\r\n\r\nimport * as React from 'react';\r\nimport { SketchPicker } from 'react-color';\r\n\r\ntype RGBColor = {|\r\n  r: number,\r\n  g: number,\r\n  b: number,\r\n  a?: number,\r\n|};\r\n\r\ntype ColorResult = {\r\n  rgb: RGBColor,\r\n};\r\n\r\ntype ColorChangeHandler = (color: ColorResult) => void;\r\n\r\ntype Props = {|\r\n  color: ?RGBColor,\r\n  style?: Object,\r\n  onChange?: ColorChangeHandler,\r\n  onChangeComplete?: ColorChangeHandler,\r\n  disableAlpha?: boolean,\r\n|};\r\n\r\ntype State = {|\r\n  displayColorPicker: boolean,\r\n|};\r\n\r\nconst styles = {\r\n  color: {\r\n    width: '36px',\r\n    height: '14px',\r\n    borderRadius: '2px',\r\n    textAlign: 'center',\r\n    fontSize: '10px',\r\n  },\r\n  swatch: {\r\n    padding: '5px',\r\n    background: '#fff',\r\n    borderRadius: '1px',\r\n    boxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n    display: 'inline-block',\r\n    cursor: 'pointer',\r\n  },\r\n  popover: {\r\n    position: 'fixed',\r\n    zIndex: '2',\r\n    transform: 'translateX(-174px)',\r\n  },\r\n  cover: {\r\n    position: 'fixed',\r\n    top: '0px',\r\n    right: '0px',\r\n    bottom: '0px',\r\n    left: '0px',\r\n  },\r\n};\r\n\r\nclass ColorPicker extends React.Component<Props, State> {\r\n  state = {\r\n    displayColorPicker: false,\r\n  };\r\n\r\n  open = () => {\r\n    this.setState({ displayColorPicker: true });\r\n  };\r\n\r\n  handleClick = () => {\r\n    this.setState({ displayColorPicker: !this.state.displayColorPicker });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ displayColorPicker: false });\r\n  };\r\n\r\n  render() {\r\n    const { style, color, ...otherProps } = this.props;\r\n\r\n    const displayedColor = color\r\n      ? color\r\n      : {\r\n          r: 200,\r\n          g: 200,\r\n          b: 200,\r\n          a: 1,\r\n        };\r\n\r\n    return (\r\n      <div style={style}>\r\n        <div style={styles.swatch} onClick={this.handleClick}>\r\n          <div\r\n            style={{\r\n              ...styles.color,\r\n              background: `rgba(${displayedColor.r}, ${displayedColor.g}, ${\r\n                displayedColor.b\r\n              }, ${displayedColor.a || 1})`,\r\n            }}\r\n          >\r\n            {color ? null : '?'}\r\n          </div>\r\n        </div>\r\n        {this.state.displayColorPicker ? (\r\n          <div style={styles.popover}>\r\n            <div style={styles.cover} onClick={this.handleClose} />\r\n            <SketchPicker color={displayedColor} {...otherProps} />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ColorPicker;\r\n","import React from 'react';\nimport Menu from 'material-ui/Menu';\nimport Popover from 'material-ui/Popover';\nimport ElectronMenuImplementation from './ElectronMenuImplementation';\nimport MaterialUIMenuImplementation from './MaterialUIMenuImplementation';\nimport optionalRequire from '../../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\nclass MaterialUIContextMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n    };\n    this.menuImplementation = new MaterialUIMenuImplementation({\n      onClose: this._onClose,\n    });\n  }\n\n  open = (x, y) => {\n    this.setState(\n      {\n        anchorX: x,\n        anchorY: y,\n      },\n      () => {\n        this.setState({\n          open: true,\n        });\n      }\n    );\n  };\n\n  _onClose = () => {\n    this.setState({\n      open: false,\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <div\n          ref={element => (this.anchorEl = element)}\n          style={{\n            position: 'fixed',\n            pointerEvents: 'none',\n            left: this.state.anchorX,\n            top: this.state.anchorY,\n          }}\n        />\n        <Popover\n          open={this.state.open}\n          anchorEl={this.anchorEl}\n          onRequestClose={this._onClose}\n          {...this.menuImplementation.getMenuProps()}\n        >\n          <Menu desktop width={256}>\n            {this.menuImplementation.buildFromTemplate(\n              this.props.buildMenuTemplate()\n            )}\n          </Menu>\n        </Popover>\n      </div>\n    );\n  }\n}\n\nclass ElectronContextMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.menuImplementation = new ElectronMenuImplementation();\n  }\n\n  open = (x, y) => {\n    this.menuImplementation.buildFromTemplate(this.props.buildMenuTemplate());\n    this.menuImplementation.showMenu({\n      left: x || 0,\n      top: y || 0,\n      width: 0,\n      height: 0,\n    });\n  };\n\n  render() {\n    return null;\n  }\n}\n\nexport default (electron ? ElectronContextMenu : MaterialUIContextMenu);\n","// @flow\nimport * as React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\n\nconst styles = {\n  root: {\n    width: 'auto',\n    marginRight: 16,\n  },\n  label: {\n    width: 'auto',\n  },\n};\n\ntype Props = {|\n  label: React.Node,\n  checked: boolean,\n  onCheck?: (e: {||}, checked: boolean) => void,\n  checkedIcon?: React.Node,\n  uncheckedIcon?: React.Node,\n  disabled?: boolean,\n|};\n\n/**\n * A checkbox based on Material-UI Checkbox, but that can be displayed\n * without having it taking the full width of its container.\n */\nexport default (props: Props) => (\n  <Checkbox style={styles.root} labelStyle={styles.label} {...props} />\n);\n","//TODO: Factor with styles.js from LayersList.\nexport default {\n  handleColumn: {\n    width: 24,\n    paddingLeft: 8,\n    paddingRight: 0,\n  },\n  coordinateColumn: {\n    width: 48,\n  },\n  toolColumn: {\n    width: 48,\n  },\n};\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport TextField from 'material-ui/TextField';\nimport ColorPicker from './ColorPicker';\n\nconst styles = {\n  container: {\n    position: 'relative',\n    display: 'inline-block',\n  },\n  picker: {\n    position: 'absolute',\n    right: '8px',\n    bottom: '12px',\n  },\n};\n\nexport default class ColorField extends Component {\n  onClick = () => {\n    if (this.textField) this.textField.blur();\n    if (this.picker) this.picker.open();\n  };\n\n  render() {\n    return (\n      <div\n        style={{\n          ...styles.container,\n          width: this.props.fullWidth ? '100%' : undefined,\n        }}\n      >\n        <TextField\n          fullWidth\n          floatingLabelText={this.props.floatingLabelText}\n          floatingLabelFixed\n          type=\"text\"\n          hintText={<Trans>Click to choose</Trans>}\n          onClick={this.onClick}\n          onFocus={this.onClick}\n          value=\"\"\n          ref={textField => (this.textField = textField)}\n        />\n        <div style={styles.picker}>\n          <ColorPicker {...this.props} ref={picker => (this.picker = picker)} />\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\n\nexport const timeFunction = (fn: Function, onResult: number => void) => {\n  var t0 = performance.now();\n  fn();\n  var t1 = performance.now();\n  onResult(t1 - t0);\n};\n","// @flow\n\nexport const makeTimestampedId = () =>\n  '' + Date.now() + '-' + Math.floor(Math.random() * 1000000);\n","//@flow\nexport const delay = (ms: number): Promise<void> =>\n  new Promise(res => setTimeout(res, ms));\n","// @flow\nimport { type Build, getBuild } from '../../Utils/GDevelopServices/Build';\nimport { delay } from '../../Utils/Delay';\nimport { type UserProfile } from '../../Profile/UserProfileContext';\n\nconst waitTime = 1500;\nconst bulkWaitTime = 5000;\n\nexport default class BuildsWatcher {\n  runningWatchers: { [string]: boolean } = {};\n  nextWatcherId = 0;\n  onBuildUpdated: ?(build: Build) => void;\n  userProfile: ?UserProfile;\n\n  start({\n    userProfile,\n    builds,\n    onBuildUpdated,\n  }: {\n    userProfile: UserProfile,\n    builds: Array<Build>,\n    onBuildUpdated: (build: Build) => void,\n  }) {\n    this.stop();\n    this.userProfile = userProfile;\n    this.onBuildUpdated = onBuildUpdated;\n\n    builds.forEach(build => {\n      if (build.status === 'pending') {\n        this._pollBuild(build.id, builds.length > 1 ? bulkWaitTime : waitTime);\n      }\n    });\n  }\n\n  stop() {\n    this.runningWatchers = {};\n  }\n\n  _pollBuild = async (buildId: string, waitTime: number) => {\n    const watcherId = this.nextWatcherId.toString();\n    this.nextWatcherId++;\n\n    this.runningWatchers[watcherId] = true;\n\n    let build = null;\n    do {\n      if (!this.userProfile) return;\n      const { getAuthorizationHeader, profile } = this.userProfile;\n      try {\n        console.info(`Checking progress of build ${buildId}...`);\n        build = await getBuild(getAuthorizationHeader, profile.uid, buildId);\n        if (this.onBuildUpdated) this.onBuildUpdated(build);\n      } catch (e) {\n        console.warn('Error while watching build progress:', e);\n      }\n\n      await delay(waitTime);\n      if (!this.runningWatchers[watcherId]) {\n        console.info(`Stopping watch of build ${buildId}.`);\n        return;\n      }\n    } while (build && build.status === 'pending');\n\n    console.info(`Watch of build ${buildId} finished.`);\n  };\n}\n","import React from 'react';\nimport { ListItem } from 'material-ui/List';\nimport IconMenu from '../Menu/IconMenu';\nimport ListIcon from '../ListIcon';\nimport IconButton from 'material-ui/IconButton';\nimport TextField from 'material-ui/TextField';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport { type Item } from '.';\n\nconst styles = {\n  itemName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  textField: {\n    top: -16,\n  },\n};\n\ntype Props = {\n  index: number,\n  item: Item,\n  onRename: string => void,\n  editingName: boolean,\n  getThumbnail?: () => string,\n  selected: true,\n  onItemSelected: () => void,\n  errorStatus: '' | 'error' | 'warning',\n  buildMenuTemplate: () => Array<any>,\n};\n\nclass ThemableItemRow extends React.Component<Props, *> {\n  _renderItemMenu(item) {\n    return (\n      <IconMenu\n        ref={iconMenu => (this._iconMenu = iconMenu)}\n        iconButtonElement={\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        }\n        buildMenuTemplate={this.props.buildMenuTemplate}\n      />\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editingName && this.props.editingName) {\n      setTimeout(() => {\n        if (this.textField) this.textField.focus();\n      }, 100);\n    }\n  }\n\n  _onContextMenu = event => {\n    if (this._iconMenu) this._iconMenu.open(event);\n  };\n\n  render() {\n    const {\n      item,\n      selected,\n      style,\n      getThumbnail,\n      errorStatus,\n      muiTheme,\n    } = this.props;\n\n    const itemName = item.getName();\n    const label = this.props.editingName ? (\n      <TextField\n        id=\"rename-item-field\"\n        ref={textField => (this.textField = textField)}\n        defaultValue={itemName}\n        onBlur={e => this.props.onRename(e.target.value)}\n        onKeyPress={event => {\n          if (event.charCode === 13) {\n            // enter key pressed\n            this.textField.blur();\n          }\n        }}\n        fullWidth\n        style={styles.textField}\n      />\n    ) : (\n      <div\n        style={{\n          ...styles.itemName,\n          color: selected ? muiTheme.listItem.selectedTextColor : undefined,\n        }}\n      >\n        {itemName}\n      </div>\n    );\n\n    const itemStyle = {\n      borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n      backgroundColor: selected\n        ? errorStatus === ''\n          ? muiTheme.listItem.selectedBackgroundColor\n          : errorStatus === 'error'\n          ? muiTheme.listItem.selectedErrorBackgroundColor\n          : muiTheme.listItem.selectedWarningBackgroundColor\n        : undefined,\n      color:\n        errorStatus === ''\n          ? undefined\n          : errorStatus === 'error'\n          ? muiTheme.listItem.errorTextColor\n          : muiTheme.listItem.warningTextColor,\n    };\n\n    return (\n      <ListItem\n        style={{ ...itemStyle, ...style }}\n        onContextMenu={this._onContextMenu}\n        primaryText={label}\n        leftIcon={\n          getThumbnail && <ListIcon iconSize={32} src={getThumbnail()} />\n        }\n        rightIconButton={this._renderItemMenu(item)}\n        onClick={() => {\n          if (!this.props.onItemSelected) return;\n          if (this.props.editingName) return;\n\n          this.props.onItemSelected(selected ? null : item);\n        }}\n      />\n    );\n  }\n}\n\nconst ItemRow = muiThemeable()(ThemableItemRow);\nexport default ItemRow;\n","// @flow\nimport * as React from 'react';\nimport { List } from 'react-virtualized';\nimport { ListItem } from 'material-ui/List';\nimport ItemRow from './ItemRow';\nimport { makeAddItem } from '../ListCommonItem';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\n\nconst listItemHeight = 48; // TODO: Move this into theme?\n\nconst AddItemRow = makeAddItem(ListItem);\n\nconst SortableItemRow = SortableElement(props => {\n  const { style, ...otherProps } = props;\n  return (\n    <div style={style}>\n      <ItemRow {...otherProps} />\n    </div>\n  );\n});\n\nconst SortableAddItemRow = SortableElement(props => {\n  return <AddItemRow {...props} />;\n});\n\nexport type Item = {\n  key: string | number,\n  getName: () => string,\n};\n\ntype ItemsListProps = {\n  height: number,\n  width: number,\n  fullList: Array<Item>,\n  selectedItem: ?Item,\n  onAddNewItem?: () => void,\n  onRename: (Item, string) => void,\n  getThumbnail?: Item => string,\n  onItemSelected: (?Item) => void,\n  renamedItem: ?Item,\n  addNewItemLabel: React.Node | string,\n  erroredItems?: { [string]: '' | 'error' | 'warning' },\n  buildMenuTemplate: (Item, index: number) => any,\n};\n\nclass ItemsList extends React.Component<ItemsListProps, *> {\n  list: any;\n\n  forceUpdateGrid() {\n    if (this.list) this.list.forceUpdateGrid();\n  }\n\n  render() {\n    const {\n      height,\n      width,\n      fullList,\n      selectedItem,\n      addNewItemLabel,\n      renamedItem,\n      getThumbnail,\n      erroredItems,\n    } = this.props;\n\n    return (\n      <List\n        ref={list => (this.list = list)}\n        height={height}\n        rowCount={fullList.length}\n        rowHeight={listItemHeight}\n        rowRenderer={({ index, key, style }) => {\n          const item = fullList[index];\n          if (item.key === 'add-item-row') {\n            return (\n              <SortableAddItemRow\n                index={fullList.length}\n                key={key}\n                style={style}\n                disabled\n                onClick={this.props.onAddNewItem}\n                primaryText={addNewItemLabel}\n              />\n            );\n          }\n\n          const nameBeingEdited = renamedItem === item;\n\n          return (\n            <SortableItemRow\n              index={index}\n              key={key}\n              item={item}\n              style={style}\n              onRename={newName => this.props.onRename(item, newName)}\n              editingName={nameBeingEdited}\n              getThumbnail={getThumbnail ? () => getThumbnail(item) : undefined}\n              selected={item === selectedItem}\n              onItemSelected={this.props.onItemSelected}\n              errorStatus={\n                erroredItems ? erroredItems[item.getName()] || '' : ''\n              }\n              buildMenuTemplate={() =>\n                this.props.buildMenuTemplate(item, index)\n              }\n            />\n          );\n        }}\n        width={width}\n      />\n    );\n  }\n}\n\nconst SortableItemsList = SortableContainer(ItemsList, { withRef: true });\nexport default SortableItemsList;\n","// @flow\nimport flatten from 'lodash/flatten';\nimport { mapFor } from '../../Utils/MapFor';\n\nexport const enumerateVariables = (\n  variablesContainer: ?gdVariablesContainer\n): Array<string> => {\n  if (!variablesContainer) {\n    return [];\n  }\n\n  const enumerateVariableAndChildrenNames = (\n    fullName: string,\n    variable: gdVariable\n  ): Array<string> => {\n    const names = [fullName];\n    if (!variable.isStructure()) return names;\n\n    variable\n      .getAllChildrenNames()\n      .toJSArray()\n      .forEach(childName => {\n        enumerateVariableAndChildrenNames(\n          `${fullName}.${childName}`,\n          variable.getChild(childName)\n        ).forEach(name => {\n          names.push(name);\n        });\n      });\n\n    return names;\n  };\n\n  return flatten(\n    mapFor(0, variablesContainer.count(), i => {\n      if (!variablesContainer) return [];\n\n      return enumerateVariableAndChildrenNames(\n        variablesContainer.getNameAt(i),\n        variablesContainer.getAt(i)\n      );\n    })\n  );\n};\n","// @flow\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\nimport React, { Component } from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { enumerateVariables } from './EnumerateVariables';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport classNames from 'classnames';\nimport { icon } from '../EventsTree/ClassNames';\nimport SemiControlledAutoComplete from '../../UI/SemiControlledAutoComplete';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    alignItems: 'baseline',\n  },\n  moreButton: {\n    marginLeft: 10,\n  },\n};\n\ntype Props = {\n  ...ParameterFieldProps,\n  variablesContainer: ?gdVariablesContainer,\n  onOpenDialog: ?() => void,\n};\n\nexport default class VariableField extends Component<Props, {||}> {\n  _field: ?AutoComplete;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const {\n      value,\n      onChange,\n      isInline,\n      onOpenDialog,\n      parameterMetadata,\n      variablesContainer,\n    } = this.props;\n\n    return (\n      <div style={styles.container}>\n        <SemiControlledAutoComplete\n          floatingLabelText={\n            parameterMetadata ? parameterMetadata.getDescription() : undefined\n          }\n          value={value}\n          onChange={onChange}\n          dataSource={enumerateVariables(variablesContainer).map(\n            variableName => ({\n              text: variableName,\n              value: variableName,\n            })\n          )}\n          openOnFocus={!isInline}\n          ref={field => (this._field = field)}\n        />\n        {onOpenDialog && !isInline && (\n          <RaisedButton\n            icon={<OpenInNew />}\n            disabled={!this.props.variablesContainer}\n            primary\n            style={styles.moreButton}\n            onClick={onOpenDialog}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport const renderVariableWithIcon = (\n  value: string,\n  iconPath: string,\n  tooltip: string = ''\n) => {\n  return (\n    <span title={tooltip}>\n      <img\n        className={classNames({\n          [icon]: true,\n        })}\n        src={iconPath}\n        alt=\"\"\n      />\n      {value}\n    </span>\n  );\n};\n","import optionalRequire from '../../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\n/**\n * Wraps an Electron Menu\n */\nexport default class ElectronMenuImplementation {\n  buildFromTemplate(template) {\n    this.menuTemplate = template;\n    return undefined;\n  }\n\n  showMenu(dimensions) {\n    if (!electron) return;\n\n    const { Menu } = electron.remote;\n    const browserWindow = electron.remote.getCurrentWindow();\n    this.menu = Menu.buildFromTemplate(this.menuTemplate);\n    this.menu.popup({\n      window: browserWindow,\n      x: Math.round(dimensions.left),\n      y: Math.round(dimensions.top + dimensions.height),\n      async: true, // Ensure the UI is not blocked on macOS.\n    });\n  }\n\n  getMenuProps() {\n    return {\n      open: false,\n    };\n  }\n}\n","import React from 'react';\nimport MenuItem from 'material-ui/MenuItem';\nimport Divider from 'material-ui/Divider';\nimport { adaptAcceleratorString } from '../AcceleratorString';\nimport ArrowDropRight from 'material-ui/svg-icons/navigation-arrow-drop-right';\n\n/**\n * Construct items for material-ui's Menu, using a template which\n * is partially supporting the Electron Menu API (https://github.com/electron/electron/blob/master/docs/api/menu-item.md).\n *\n * Supported options are:\n *  - click\n *  - visible\n *  - type ('separator' and 'checkbox')\n *  - label\n *  - accelerator\n *  - enabled\n *  - checked (when `type` is 'checkbox')\n *  - submenu\n */\nexport default class MaterialUIMenuImplementation {\n  constructor({ onClose }) {\n    this._onClose = onClose;\n  }\n\n  buildFromTemplate(template) {\n    return template\n      .map((item, id) => {\n        if (item.visible === false) return null;\n\n        if (item.type === 'separator') {\n          return <Divider key={'separator' + id} />;\n        } else if (item.type === 'checkbox') {\n          return (\n            <MenuItem\n              key={item.label}\n              primaryText={item.label}\n              secondaryText={\n                item.accelerator\n                  ? adaptAcceleratorString(item.accelerator)\n                  : undefined\n              }\n              checked={item.checked}\n              insetChildren={!item.checked}\n              disabled={item.enabled === false}\n              onClick={() => {\n                if (item.click) {\n                  item.click();\n                  this._onClose();\n                }\n              }}\n              rightIcon={item.submenu ? <ArrowDropRight /> : undefined}\n              menuItems={\n                item.submenu ? this.buildFromTemplate(item.submenu) : undefined\n              }\n            />\n          );\n        } else {\n          return (\n            <MenuItem\n              key={item.label}\n              primaryText={item.label}\n              secondaryText={\n                item.accelerator\n                  ? adaptAcceleratorString(item.accelerator)\n                  : undefined\n              }\n              disabled={item.enabled === false}\n              onClick={() => {\n                if (item.click) {\n                  item.click();\n                  this._onClose();\n                }\n              }}\n              rightIcon={item.submenu ? <ArrowDropRight /> : undefined}\n              menuItems={\n                item.submenu ? this.buildFromTemplate(item.submenu) : undefined\n              }\n            />\n          );\n        }\n      })\n      .filter(Boolean);\n  }\n\n  showMenu() {\n    // Automatically done by IconMenu\n  }\n\n  getMenuProps() {\n    return {\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'left',\n      },\n    };\n  }\n}\n","// @flow\nimport { isMacLike, isMobile } from '../Utils/Platform';\n\nexport const adaptAcceleratorString = (accelerator: string): string => {\n  if (isMobile()) {\n    return ''; // Do not display accelerators on mobile devices\n  } else if (isMacLike()) {\n    return accelerator\n      .replace(/CmdOrCtrl\\+/, '⌘')\n      .replace(/CommandOrControl\\+/, '⌘')\n      .replace(/Super\\+/, '⌘')\n      .replace(/Shift\\+/, '⇧')\n      .replace(/Alt\\+/, '⌥')\n      .replace(/Option\\+/, '⌥')\n      .replace(/Delete/, '⌦')\n      .replace(/Backspace/, '⌫');\n  } else {\n    return accelerator\n      .replace(/CmdOrCtrl\\+/, 'Ctrl+')\n      .replace(/CommandOrControl\\+/, 'Ctrl+')\n      .replace(/Super\\+/, 'Win+')\n      .replace(/Option\\+/, 'Alt+')\n      .replace(/Delete/, 'DEL');\n  }\n};\n","// @flow\n// See ElectronEventsBridge, AboutDialog and electron-app/main.js for handling the updates.\n\nexport type UpdateStatus = {\n  message: string,\n  status:\n    | 'checking-for-update'\n    | 'update-available'\n    | 'update-not-available'\n    | 'error'\n    | 'download-progress'\n    | 'update-downloaded'\n    | 'unknown',\n};\n\nexport const getUpdateNotificationTitle = (updateStatus: UpdateStatus) => {\n  if (updateStatus.status === 'update-available')\n    return 'A new update is available!';\n\n  return '';\n};\n\nexport const getUpdateNotificationBody = (updateStatus: UpdateStatus) => {\n  if (updateStatus.status === 'update-available')\n    return 'It will be downloaded and installed automatically (unless you deactivated this in preferences)';\n\n  return '';\n};\n\nexport const getUpdateStatusLabel = (status: string) => {\n  if (status === 'checking-for-update') return 'Checking for update...';\n  if (status === 'update-available') return 'A new update is available!';\n  if (status === 'update-not-available')\n    return \"No update available. You're using the latest version!\";\n  if (status === 'error') return 'Error while checking update';\n  if (status === 'download-progress')\n    return 'A new update is being downloaded...';\n  if (status === 'update-downloaded')\n    return 'A new update will be installed after you quit and relaunch GDevelop';\n  return '';\n};\n\nexport const getUpdateButtonLabel = (status: string) => {\n  if (status === 'update-available') return 'Update GDevelop to latest version';\n  return 'Check again for new updates';\n};\n\nexport const canDownloadUpdate = (status: string) => {\n  return status === 'update-available';\n};\n","// @flow\nimport * as React from 'react';\nimport {\n  Table,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n} from 'material-ui/Table';\nimport flatten from 'lodash/flatten';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { mapFor } from '../Utils/MapFor';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport VariableRow from './VariableRow';\nimport EditVariableRow from './EditVariableRow';\nimport styles from './styles';\nimport {\n  getInitialSelection,\n  hasSelection,\n  addToSelection,\n  getSelection,\n} from '../Utils/SelectionHandler';\nimport { CLIPBOARD_KIND } from './ClipboardKind';\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport { type VariableOrigin } from './VariablesList.flow';\n\nconst gd = global.gd;\n\nconst SortableVariableRow = SortableElement(VariableRow);\nconst SortableAddVariableRow = SortableElement(EditVariableRow);\n\nclass VariablesListBody extends React.Component<*, *> {\n  render() {\n    return <div>{this.props.children}</div>;\n  }\n}\n\nconst SortableVariablesListBody = SortableContainer(VariablesListBody);\nSortableVariablesListBody.muiName = 'TableBody';\n\ntype VariableAndName = {| name: string, ptr: number, variable: gdVariable |};\n\ntype Props = {|\n  variablesContainer: gdVariablesContainer,\n  inheritedVariablesContainer?: ?gdVariablesContainer,\n  emptyExplanationMessage?: string,\n  emptyExplanationSecondMessage?: string,\n  onSizeUpdated?: () => void,\n|};\ntype State = {|\n  nameErrors: { [string]: string },\n  selectedVariables: { [number]: ?VariableAndName },\n  mode: 'select' | 'move',\n|};\n\nexport default class VariablesList extends React.Component<Props, State> {\n  state = {\n    nameErrors: {},\n    selectedVariables: getInitialSelection(),\n    mode: 'select',\n  };\n\n  _selectVariable = (variableAndName: VariableAndName, select: boolean) => {\n    this.setState({\n      selectedVariables: addToSelection(\n        this.state.selectedVariables,\n        variableAndName,\n        select\n      ),\n    });\n  };\n\n  copySelection = () => {\n    Clipboard.set(\n      CLIPBOARD_KIND,\n      getSelection(this.state.selectedVariables).map(({ name, variable }) => ({\n        name,\n        serializedVariable: serializeToJSObject(variable),\n      }))\n    );\n  };\n\n  paste = () => {\n    const { variablesContainer, inheritedVariablesContainer } = this.props;\n    if (!Clipboard.has(CLIPBOARD_KIND)) return;\n\n    const variables = Clipboard.get(CLIPBOARD_KIND);\n    variables.forEach(({ name, serializedVariable }) => {\n      const newName = newNameGenerator(\n        name,\n        name =>\n          inheritedVariablesContainer\n            ? inheritedVariablesContainer.has(name) ||\n              variablesContainer.has(name)\n            : variablesContainer.has(name),\n        'CopyOf'\n      );\n      const newVariable = new gd.Variable();\n      unserializeFromJSObject(newVariable, serializedVariable);\n      variablesContainer.insert(\n        newName,\n        newVariable,\n        variablesContainer.count()\n      );\n      newVariable.delete();\n    });\n    this.forceUpdate();\n  };\n\n  deleteSelection = () => {\n    const { variablesContainer } = this.props;\n    const selection: Array<VariableAndName> = getSelection(\n      this.state.selectedVariables\n    );\n\n    // Only delete ancestor variables, as selection can be composed of variables\n    // that are contained inside others.\n    const ancestorOnlyVariables = selection.filter(variableAndName => {\n      // Make sure that the variable has no ancestor containing it\n      return !selection.find(\n        otherVariableAndName =>\n          variableAndName !== otherVariableAndName &&\n          otherVariableAndName.variable.contains(\n            variableAndName.variable,\n            /*recursive=*/ true\n          )\n      );\n    });\n\n    // We don't want to ever manipulate/access to variables that have been deleted (by removeRecursively):\n    // that's why it's important to only delete ancestor variables.\n    ancestorOnlyVariables.forEach(({ variable }: VariableAndName) =>\n      variablesContainer.removeRecursively(variable)\n    );\n    this.clearSelection();\n  };\n\n  clearSelection = () => {\n    this.setState({\n      selectedVariables: getInitialSelection(),\n    });\n  };\n\n  _updateOrDefineVariable = (\n    name: string,\n    variable: gdVariable,\n    newValue: string,\n    index: number,\n    origin: ?VariableOrigin\n  ) => {\n    const { variablesContainer, inheritedVariablesContainer } = this.props;\n\n    if (inheritedVariablesContainer && origin === 'parent') {\n      const serializedVariable = serializeToJSObject(\n        inheritedVariablesContainer.get(name)\n      );\n      const newVariable = new gd.Variable();\n      unserializeFromJSObject(newVariable, serializedVariable);\n      variablesContainer.insert(name, newVariable, index);\n      newVariable.delete();\n\n      variablesContainer.get(name).setString(newValue);\n    } else {\n      variable.setString(newValue);\n    }\n  };\n\n  _renderVariableChildren(\n    name: string,\n    parentVariable: gdVariable,\n    depth: number,\n    origin: VariableOrigin\n  ): Array<React.Node> {\n    const names = parentVariable.getAllChildrenNames().toJSArray();\n\n    return flatten(\n      names.map((name, index) => {\n        const variable = parentVariable.getChild(name);\n        return this._renderVariableAndChildrenRows(\n          name,\n          variable,\n          depth + 1,\n          index,\n          parentVariable,\n          origin\n        );\n      })\n    );\n  }\n\n  _getVariableOrigin = (name: string) => {\n    const { variablesContainer, inheritedVariablesContainer } = this.props;\n\n    if (!inheritedVariablesContainer || !inheritedVariablesContainer.has(name))\n      return '';\n    return variablesContainer.has(name) ? 'inherited' : 'parent';\n  };\n\n  _renderVariableAndChildrenRows(\n    name: string,\n    variable: gdVariable,\n    depth: number,\n    index: number,\n    parentVariable: ?gdVariable,\n    parentOrigin: ?VariableOrigin = null\n  ) {\n    const { variablesContainer } = this.props;\n    const isStructure = variable.isStructure();\n\n    const origin = parentOrigin ? parentOrigin : this._getVariableOrigin(name);\n\n    return (\n      <SortableVariableRow\n        name={name}\n        index={index}\n        key={'variable-' + name}\n        variable={variable}\n        disabled={depth !== 0}\n        depth={depth}\n        origin={origin}\n        errorText={\n          this.state.nameErrors[variable.ptr]\n            ? 'This name is already taken'\n            : undefined\n        }\n        onChangeValue={text => {\n          this._updateOrDefineVariable(name, variable, text, index, origin);\n\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        onResetToDefaultValue={() => {\n          variablesContainer.removeRecursively(variable);\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        onBlur={event => {\n          const text = event.target.value;\n          if (name === text) return;\n\n          let success = true;\n          if (!parentVariable) {\n            success = variablesContainer.rename(name, text);\n          } else {\n            success = parentVariable.renameChild(name, text);\n          }\n\n          this.setState({\n            nameErrors: {\n              ...this.state.nameErrors,\n              [variable.ptr]: !success,\n            },\n          });\n        }}\n        onRemove={() => {\n          if (!parentVariable) {\n            variablesContainer.remove(name);\n          } else {\n            parentVariable.removeChild(name);\n          }\n\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        onAddChild={() => {\n          const name = newNameGenerator('ChildVariable', name =>\n            variable.hasChild(name)\n          );\n          variable.getChild(name).setString('');\n\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        children={\n          isStructure\n            ? this._renderVariableChildren(name, variable, depth, origin)\n            : null\n        }\n        showHandle={this.state.mode === 'move'}\n        showSelectionCheckbox={this.state.mode === 'select'}\n        isSelected={!!this.state.selectedVariables[variable.ptr]}\n        onSelect={select =>\n          this._selectVariable({ name, ptr: variable.ptr, variable }, select)\n        }\n      />\n    );\n  }\n\n  _renderEmpty() {\n    return (\n      !!this.props.emptyExplanationMessage && (\n        <div>\n          <EmptyMessage\n            style={styles.emptyExplanation}\n            messageStyle={styles.emptyExplanationMessage}\n          >\n            {this.props.emptyExplanationMessage}\n          </EmptyMessage>\n          <EmptyMessage\n            style={styles.emptyExplanation}\n            messageStyle={styles.emptyExplanationMessage}\n          >\n            {this.props.emptyExplanationSecondMessage}\n          </EmptyMessage>\n        </div>\n      )\n    );\n  }\n\n  render() {\n    const { variablesContainer, inheritedVariablesContainer } = this.props;\n    if (!variablesContainer) return null;\n\n    // Display inherited variables, if any\n    const containerInheritedVariablesTree = inheritedVariablesContainer\n      ? mapFor(0, inheritedVariablesContainer.count(), index => {\n          const name = inheritedVariablesContainer.getNameAt(index);\n          if (!variablesContainer.has(name)) {\n            // Show only variables from parent container that are not redefined\n            const variable = inheritedVariablesContainer.getAt(index);\n            return this._renderVariableAndChildrenRows(\n              name,\n              variable,\n              0,\n              index,\n              undefined,\n              'parent'\n            );\n          }\n        })\n      : [];\n\n    const containerVariablesTree = mapFor(\n      0,\n      variablesContainer.count(),\n      index => {\n        const variable = variablesContainer.getAt(index);\n        const name = variablesContainer.getNameAt(index);\n\n        return this._renderVariableAndChildrenRows(\n          name,\n          variable,\n          0,\n          index,\n          undefined\n        );\n      }\n    );\n\n    const editRow = (\n      <SortableAddVariableRow\n        index={0}\n        key={'add-variable-row'}\n        disabled\n        onAdd={() => {\n          const variable = new gd.Variable();\n          variable.setString('');\n          const name = newNameGenerator('Variable', name =>\n            inheritedVariablesContainer\n              ? inheritedVariablesContainer.has(name) ||\n                variablesContainer.has(name)\n              : variablesContainer.has(name)\n          );\n          variablesContainer.insert(name, variable, variablesContainer.count());\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        onCopy={this.copySelection}\n        onPaste={this.paste}\n        onDeleteSelection={this.deleteSelection}\n        hasSelection={hasSelection(this.state.selectedVariables)}\n        hasClipboard={Clipboard.has(CLIPBOARD_KIND)}\n      />\n    );\n\n    return (\n      <div>\n        <Table selectable={false}>\n          <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n            <TableRow>\n              <TableHeaderColumn>Name</TableHeaderColumn>\n              <TableHeaderColumn>Value</TableHeaderColumn>\n              <TableHeaderColumn style={styles.toolColumnHeader} />\n            </TableRow>\n          </TableHeader>\n        </Table>\n        <SortableVariablesListBody\n          variablesContainer={this.props.variablesContainer}\n          onSortEnd={({ oldIndex, newIndex }) => {\n            this.props.variablesContainer.move(oldIndex, newIndex);\n            this.forceUpdate();\n          }}\n          helperClass=\"sortable-helper\"\n          useDragHandle\n          lockToContainerEdges\n        >\n          {!!containerInheritedVariablesTree.length &&\n            containerInheritedVariablesTree}\n          {!containerVariablesTree.length && this._renderEmpty()}\n          {!!containerVariablesTree.length && containerVariablesTree}\n          {editRow}\n        </SortableVariablesListBody>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nconst styles = {\n  row: {\n    display: 'flex',\n  },\n  cell: {\n    display: 'flex',\n    flex: 1,\n    alignItems: 'center',\n    paddingLeft: 8,\n    paddingRight: 8,\n  },\n};\n\nexport const TreeTable = props => <div>{props.children}</div>;\n\nexport const TreeTableRow = props => (\n  <div style={{ ...styles.row, ...props.style }}>{props.children}</div>\n);\n\nexport const TreeTableCell = props => (\n  <div style={{ ...styles.cell, ...props.style }}>{props.children}</div>\n);\n","// @flow\nimport React, { Component } from 'react';\nimport Chip from 'material-ui/Chip';\nimport TextField from 'material-ui/TextField';\nimport { Column, Line } from '../UI/Grid';\nimport randomColor from 'randomcolor';\nimport SearchBar from '../UI/SearchBar';\n\ntype Props = {|\n  value: string,\n  onChange: string => void,\n  chosenChip: string,\n  onChooseChip: string => void,\n  chips: ?Array<{| text: string, value: string |}>,\n  onRequestSearch: () => void,\n|};\n\nconst styles = {\n  chip: {\n    margin: 2,\n  },\n  chipsList: {\n    marginTop: 4,\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n};\n\nconst getChipColor = (tag: string) => {\n  return randomColor({\n    seed: tag,\n    luminosity: 'light',\n  });\n};\n\nexport default class SearchbarWithChips extends Component<Props> {\n  _textField: ?TextField;\n\n  componentDidMount() {\n    if (this._textField) this._textField.focus();\n  }\n\n  render() {\n    const {\n      chosenChip,\n      onChooseChip,\n      value,\n      onChange,\n      onRequestSearch,\n      chips,\n    } = this.props;\n\n    return (\n      <Column noMargin>\n        <SearchBar\n          value={value}\n          onRequestSearch={onRequestSearch}\n          onChange={value => {\n            onChange(value);\n          }}\n          ref={textField => (this._textField = textField)}\n        />\n        <Line>\n          <Column>\n            <div style={styles.chipsList}>\n              {chips &&\n                chips.map(({ text, value }) => (\n                  <Chip\n                    key={value}\n                    labelColor={\n                      !chosenChip || chosenChip === value ? 'black' : undefined\n                    }\n                    backgroundColor={\n                      !chosenChip || chosenChip === value\n                        ? getChipColor(value)\n                        : undefined\n                    }\n                    style={styles.chip}\n                    onClick={() =>\n                      onChooseChip(chosenChip === value ? '' : value)\n                    }\n                  >\n                    {text}\n                  </Chip>\n                ))}\n            </div>\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport AutoComplete from 'material-ui/AutoComplete';\n\n/**\n * A filter that can be used with Material-UI Autocomplete to have a fuzzy\n * filter that still return the items with an empty key.\n * @param {*} searchText\n * @param {*} key\n */\nexport const fuzzyOrEmptyFilter = (searchText: string, key: string) => {\n  return !key || AutoComplete.fuzzyFilter(searchText, key);\n};\n","import React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst SPRITE_SIZE = 100;\nexport const thumbnailContainerStyle = {\n  position: 'relative',\n  display: 'inline-block',\n  width: SPRITE_SIZE,\n  height: SPRITE_SIZE,\n  justifyContent: 'center',\n  alignItems: 'center',\n  lineHeight: SPRITE_SIZE + 'px',\n  textAlign: 'center',\n  border: '#AAAAAA 1px solid',\n  borderColor: '#AAAAAA',\n};\n\nconst styles = {\n  spriteThumbnail: {\n    ...thumbnailContainerStyle,\n    background: 'url(\"res/transparentback.png\") repeat',\n  },\n  spriteThumbnailImage: {\n    maxWidth: SPRITE_SIZE,\n    maxHeight: SPRITE_SIZE,\n    verticalAlign: 'middle',\n    pointerEvents: 'none',\n  },\n  checkboxContainer: {\n    textAlign: 'initial',\n    position: 'absolute',\n    width: 24, // Used to position the checkbox near the right border with a proper margin\n    bottom: 0,\n    right: 0,\n  },\n};\n\nconst ThemableImageThumbnail = ({\n  project,\n  resourceName,\n  resourcesLoader,\n  style,\n  selectable,\n  selected,\n  onSelect,\n  onContextMenu,\n  muiTheme,\n}) => {\n  return (\n    <div\n      title={resourceName}\n      style={{\n        ...styles.spriteThumbnail,\n        borderColor: selected\n          ? muiTheme.imageThumbnail.selectedBorderColor\n          : undefined,\n        ...style,\n      }}\n      onContextMenu={e => {\n        e.stopPropagation();\n        if (onContextMenu) onContextMenu(e.clientX, e.clientY);\n      }}\n    >\n      <img\n        style={styles.spriteThumbnailImage}\n        alt={resourceName}\n        src={resourcesLoader.getResourceFullUrl(project, resourceName)}\n        crossOrigin=\"anonymous\"\n      />\n      {selectable && (\n        <div style={styles.checkboxContainer}>\n          <Checkbox\n            checked={selected}\n            onCheck={(e, check) => onSelect(check)}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst ImageThumbnail = muiThemeable()(ThemableImageThumbnail);\nexport default ImageThumbnail;\n","import React from 'react';\nimport AppBar from 'material-ui/AppBar';\n\nexport default props => {\n  return (\n    <AppBar\n      style={{\n        paddingLeft: 8,\n        paddingRight: 8,\n        flexShrink: 0,\n      }}\n      titleStyle={{\n        height: 32,\n        fontSize: '15px',\n        lineHeight: '31px',\n      }}\n      iconStyleLeft={{\n        marginTop: -8,\n        marginBottom: -16,\n        marginRight: 4,\n        marginLeft: -16,\n      }}\n      iconStyleRight={{\n        marginTop: -8,\n        marginBottom: -16,\n      }}\n      {...props}\n    />\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport EventsSheet from '../../EventsSheet';\nimport { serializeToJSObject } from '../../Utils/Serializer';\nimport BaseEditor from './BaseEditor';\n\nexport default class EventsEditor extends BaseEditor {\n  editor: ?EventsSheet;\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  getSerializedElements() {\n    const layout = this.getLayout();\n    if (!layout) return {};\n\n    return {\n      ...BaseEditor.getLayoutSerializedElements(layout),\n      events: serializeToJSObject(layout.getEvents()),\n    };\n  }\n\n  getLayout(): ?gdLayout {\n    const { project, layoutName } = this.props;\n    if (!project || !project.hasLayoutNamed(layoutName)) return null;\n\n    return project.getLayout(layoutName);\n  }\n\n  render() {\n    const { project, layoutName } = this.props;\n    const layout = this.getLayout();\n    if (!layout) {\n      //TODO: Error component\n      return <div>No layout called {layoutName} found!</div>;\n    }\n\n    return (\n      <EventsSheet\n        {...this.props}\n        ref={editor => (this.editor = editor)}\n        project={project}\n        scope={{\n          layout,\n        }}\n        globalObjectsContainer={project}\n        objectsContainer={layout}\n        events={layout.getEvents()}\n        onPreview={options => this.props.onPreview(project, layout, options)}\n        onOpenExternalEvents={this.props.onOpenExternalEvents}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        openInstructionOrExpression={this.props.openInstructionOrExpression}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { dropIndicator, cantDropIndicator } from './ClassNames';\n\nexport default function DropIndicator({ canDrop }: {| canDrop: boolean |}) {\n  return <div className={canDrop ? dropIndicator : cantDropIndicator} />;\n}\n","// @flow\nimport * as React from 'react';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\n\nexport default class DefaultField extends React.Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?any = null;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <SemiControlledTextField\n        commitOnBlur\n        value={this.props.value}\n        floatingLabelText={description}\n        onChange={(text: string) => this.props.onChange(text)}\n        ref={field => (this._field = field)}\n        fullWidth\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { enumerateObjectsAndGroups } from './EnumerateObjects';\nimport SemiControlledAutoComplete, {\n  type DataSource,\n} from '../UI/SemiControlledAutoComplete';\nimport ListIcon from '../UI/ListIcon';\nimport ObjectsRenderingService from '../ObjectsRendering/ObjectsRenderingService';\n\ntype Props = {|\n  project: ?gdProject,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  allowedObjectType?: ?string,\n  noGroups?: boolean,\n\n  onChoose?: string => void,\n  onChange: string => void,\n  value: string,\n  errorTextIfInvalid?: React.Node,\n\n  fullWidth?: boolean,\n  floatingLabelText?: ?string,\n  openOnFocus?: boolean,\n  hintText?: ?React.Node,\n|};\n\nconst iconSize = 24;\n\nconst getObjectsAndGroupsDataSource = ({\n  project,\n  globalObjectsContainer,\n  objectsContainer,\n  noGroups,\n  allowedObjectType,\n}: {|\n  project: ?gdProject,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  noGroups: ?boolean,\n  allowedObjectType: ?string,\n|}): DataSource => {\n  const list = enumerateObjectsAndGroups(\n    globalObjectsContainer,\n    objectsContainer,\n    allowedObjectType || undefined\n  );\n  const objects = list.allObjectsList.map(({ object }) => {\n    return {\n      text: object.getName(),\n      value: object.getName(),\n      renderLeftIcon: project\n        ? () => (\n            <ListIcon\n              iconSize={iconSize}\n              src={ObjectsRenderingService.getThumbnail(project, object)}\n            />\n          )\n        : undefined,\n    };\n  });\n  const groups = noGroups\n    ? []\n    : list.allGroupsList.map(({ group }) => {\n        return {\n          text: group.getName(),\n          value: group.getName(),\n        };\n      });\n\n  return [...objects, { type: 'separator' }, ...groups];\n};\n\nexport default class ObjectSelector extends React.Component<Props, {||}> {\n  _field: ?SemiControlledAutoComplete;\n\n  // Don't add a componentWillUnmount that would call onChange. This can lead to\n  // calling callbacks that would then update a deleted instruction parameters.\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const {\n      value,\n      onChange,\n      onChoose,\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      allowedObjectType,\n      noGroups,\n      errorTextIfInvalid,\n      ...rest\n    } = this.props;\n\n    const objectAndGroups = getObjectsAndGroupsDataSource({\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      noGroups,\n      allowedObjectType,\n    });\n    const hasValidChoice =\n      objectAndGroups.filter(\n        choice => choice.text !== undefined && value === choice.text\n      ).length !== 0;\n\n    return (\n      <SemiControlledAutoComplete\n        hintText={<Trans>Choose an object</Trans>}\n        value={value}\n        onChange={onChange}\n        onChoose={onChoose}\n        dataSource={objectAndGroups}\n        errorText={hasValidChoice ? undefined : errorTextIfInvalid}\n        ref={field => (this._field = field)}\n        {...rest}\n      />\n    );\n  }\n}\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\n\n/**\n * Create a renderer for an type of object displayed as an icon\n *\n * @extends RenderedInstance\n * @class RenderedIconInstance\n * @constructor\n */\nexport default function makeRenderer(iconPath) {\n  class RenderedIconInstance extends RenderedInstance {\n    constructor(\n      project,\n      layout,\n      instance,\n      associatedObject,\n      pixiContainer,\n      pixiResourcesLoader\n    ) {\n      super(\n        project,\n        layout,\n        instance,\n        associatedObject,\n        pixiContainer,\n        pixiResourcesLoader\n      );\n\n      this._pixiObject = new PIXI.Sprite(PIXI.Texture.fromImage(iconPath));\n      this._pixiContainer.addChild(this._pixiObject);\n    }\n\n    update() {\n      this._pixiObject.position.x = this._instance.getX();\n      this._pixiObject.position.y = this._instance.getY();\n      this._pixiObject.rotation = (this._instance.getAngle() * Math.PI) / 180.0;\n    }\n\n    static getThumbnail(project, resourcesLoader, object) {\n      return iconPath;\n    }\n  }\n\n  return RenderedIconInstance;\n}\n","// @flow\nimport slugs from 'slugs';\nimport * as PIXI from 'pixi.js';\nimport ResourcesLoader from '../ResourcesLoader';\nimport { loadFontFace } from '../Utils/FontFaceLoader';\nconst gd = global.gd;\n\nconst loadedFontFamilies = {};\nconst loadedTextures = {};\nconst invalidTexture = PIXI.Texture.fromImage('res/error48.png');\n\n/**\n * Expose functions to load PIXI textures or fonts, given the names of\n * resources and a gd.Project.\n *\n * This internally uses ResourcesLoader to get the URL of the resources.\n */\nexport default class PixiResourcesLoader {\n  static _initializeTexture(resource: gdResource, texture: any) {\n    if (resource.getKind() !== 'image') return;\n\n    const imageResource = gd.asImageResource(resource);\n    if (!imageResource.isSmooth()) {\n      texture.baseTexture.scaleMode = PIXI.SCALE_MODES.NEAREST;\n    }\n  }\n\n  /**\n   * (Re)load the PIXI texture represented by the given resources.\n   */\n  static loadTextures(\n    project: gdProject,\n    resourceNames: Array<string>,\n    onProgress: (number, number) => void,\n    onComplete: () => void\n  ) {\n    const resourcesManager = project.getResourcesManager();\n    const loader = PIXI.loader;\n    loader.reset();\n    loader.removeAllListeners();\n\n    const allResources = {};\n    resourceNames.forEach(resourceName => {\n      const resource = resourcesManager.getResource(resourceName);\n      const filename = ResourcesLoader.getResourceFullUrl(\n        project,\n        resourceName\n      );\n      loader.add(resourceName, filename);\n      allResources[resourceName] = resource;\n    });\n\n    const totalCount = resourceNames.length;\n    if (!totalCount) {\n      onComplete();\n      return;\n    }\n\n    let loadingCount = 0;\n    loader.once('complete', function(loader, loadedResources) {\n      //Store the loaded textures so that they are ready to use.\n      for (const resourceName in loadedResources) {\n        if (loadedResources.hasOwnProperty(resourceName)) {\n          const resource = resourcesManager.getResource(resourceName);\n          if (resource.getKind() !== 'image') continue;\n\n          loadedTextures[resourceName] = loadedResources[resourceName].texture;\n          PixiResourcesLoader._initializeTexture(\n            resource,\n            loadedTextures[resourceName]\n          );\n        }\n      }\n\n      onComplete();\n    });\n    loader.on('progress', function() {\n      loadingCount++;\n      onProgress(loadingCount, totalCount);\n    });\n\n    loader.load();\n  }\n\n  /**\n   * Return the PIXI texture represented by the given resource.\n   * If not loaded, it will load it.\n   * @returns The PIXI.Texture to be used. It can be loading, so you\n   * should listen to PIXI.Texture `update` event, and refresh your object\n   * if this event is triggered.\n   */\n  static getPIXITexture(project: gdProject, resourceName: string) {\n    if (loadedTextures[resourceName]) {\n      return loadedTextures[resourceName];\n    }\n\n    if (!project.getResourcesManager().hasResource(resourceName))\n      return invalidTexture;\n\n    const resource = project.getResourcesManager().getResource(resourceName);\n    if (resource.getKind() !== 'image') return invalidTexture;\n\n    loadedTextures[resourceName] = PIXI.Texture.fromImage(\n      ResourcesLoader.getResourceFullUrl(project, resourceName),\n      true /* Treats request as cross-origin */\n    );\n\n    PixiResourcesLoader._initializeTexture(\n      resource,\n      loadedTextures[resourceName]\n    );\n    return loadedTextures[resourceName];\n  }\n\n  /**\n   * Return the PIXI video texture represented by the given resource.\n   * If not loaded, it will load it.\n   * @returns The PIXI.Texture to be used. It can be loading, so you\n   * should listen to PIXI.Texture `update` event, and refresh your object\n   * if this event is triggered.\n   */\n  static getPIXIVideoTexture(project: gdProject, resourceName: string) {\n    if (loadedTextures[resourceName]) {\n      return loadedTextures[resourceName];\n    }\n\n    if (!project.getResourcesManager().hasResource(resourceName))\n      return invalidTexture;\n\n    const resource = project.getResourcesManager().getResource(resourceName);\n    if (resource.getKind() !== 'video') return invalidTexture;\n\n    loadedTextures[resourceName] = PIXI.Texture.fromVideo(\n      ResourcesLoader.getResourceFullUrl(\n        project,\n        resourceName,\n        true /* Disable cache bursting for video because it prevent the video to be recognized as such? */\n      ),\n      PIXI.SCALE_MODES.LINEAR,\n      true /* Treats request as cross-origin */,\n      false /* autoplay */\n    );\n\n    return loadedTextures[resourceName];\n  }\n\n  /**\n   * Load the given font from its url/filename.\n   * @returns a Promise that resolves with the font-family to be used\n   * to render a text with the font.\n   */\n  static loadFontFamily(\n    project: gdProject,\n    resourceName: string\n  ): Promise<string> {\n    // Avoid reloading a font if it's already cached\n    if (loadedFontFamilies[resourceName]) {\n      return Promise.resolve(loadedFontFamilies[resourceName]);\n    }\n\n    const fontFamily = slugs(resourceName);\n    let fullFilename = null;\n    if (project.getResourcesManager().hasResource(resourceName)) {\n      const resource = project.getResourcesManager().getResource(resourceName);\n      if (resource.getKind() === 'font') {\n        fullFilename = ResourcesLoader.getResourceFullUrl(\n          project,\n          resourceName\n        );\n      }\n    } else {\n      // Compatibility with GD <= 5.0-beta56\n      // Assume resourceName is just the filename to the font\n      fullFilename = ResourcesLoader.getFullUrl(project, resourceName);\n      // end of compatibility code\n    }\n\n    if (!fullFilename) {\n      // If no resource is found/resource is not a font, default to Arial,\n      // as done by the game engine too.\n      return Promise.resolve('Arial');\n    }\n\n    return loadFontFace(fontFamily, `url(\"${fullFilename}\")`, {}).then(\n      loadedFace => {\n        loadedFontFamilies[resourceName] = fontFamily;\n\n        return fontFamily;\n      }\n    );\n  }\n\n  /**\n   * Get the font family name for the given font resource.\n   * The font won't be loaded.\n   * @returns The font-family to be used to render a text with the font.\n   */\n  static getFontFamily(project: gdProject, resourceName: string) {\n    if (loadedFontFamilies[resourceName]) {\n      return loadedFontFamilies[resourceName];\n    }\n\n    const fontFamily = slugs(resourceName);\n    return fontFamily;\n  }\n\n  static getInvalidPIXITexture() {\n    return invalidTexture;\n  }\n}\n","// @flow\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../ResourcesList/ResourceExternalEditor.flow';\nimport { type EventsScope } from '../EventsScope.flow';\n\ntype CommonProps = {|\n  // The parameter\n  parameterMetadata?: gdParameterMetadata,\n  onChange: string => void,\n  value: string,\n\n  // Context\n  project?: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  isInline?: boolean,\n  resourceSources?: Array<ResourceSource>,\n  onChooseResource?: ChooseResourceFunction,\n  resourceExternalEditors?: Array<ResourceExternalEditor>,\n\n  // Pass the ParameterRenderingService to allow to render nested parameters\n  parameterRenderingService?: {\n    components: any,\n    getParameterComponent: (type: string) => any,\n  },\n|};\n\nexport type ExpressionParameters = {|\n  getParametersCount: () => number,\n  getParameter: (index: number) => string,\n|};\n\nexport type ParameterFieldProps = {|\n  ...CommonProps,\n\n  // Instruction in which the parameter is.\n  instruction?: gdInstruction,\n  // Metadata of the instruction in which the parameter is.\n  instructionMetadata?: gdInstructionMetadata,\n  // Expression in which the parameter is.\n  expression?: ExpressionParameters,\n  // Metadata of the instruction in which the parameter is.\n  expressionMetadata?: gdExpressionMetadata,\n\n  // The index of the parameter in the instruction or expression.\n  parameterIndex?: number,\n|};\n\nexport const getParameterValueOrDefault = (\n  value: string,\n  parameterMetadata: ?gdParameterMetadata\n) => {\n  const defaultValue =\n    parameterMetadata && parameterMetadata.isOptional()\n      ? parameterMetadata.getDefaultValue()\n      : '';\n  return value ? value : defaultValue;\n};\n","// @flow\nimport * as React from 'react';\nimport { ListItem } from 'material-ui/List';\nimport ListIcon from '../../../UI/ListIcon';\nimport { type EnumeratedInstructionOrExpressionMetadata } from '../InstructionOrExpressionSelector/EnumeratedInstructionOrExpressionMetadata.js';\nimport { getInstructionListItemKey } from './Keys';\n\ntype Props = {|\n  instructionOrExpressionMetadata: EnumeratedInstructionOrExpressionMetadata,\n  iconSize: number,\n  onClick: () => void,\n|};\n\nexport const renderInstructionOrExpressionListItem = ({\n  instructionOrExpressionMetadata,\n  iconSize,\n  onClick,\n}: Props) => {\n  return (\n    <ListItem\n      key={getInstructionListItemKey(instructionOrExpressionMetadata.type)}\n      value={getInstructionListItemKey(instructionOrExpressionMetadata.type)}\n      primaryText={instructionOrExpressionMetadata.displayedName}\n      secondaryText={instructionOrExpressionMetadata.fullGroupName}\n      leftIcon={\n        <ListIcon\n          iconSize={iconSize}\n          src={instructionOrExpressionMetadata.iconFilename}\n        />\n      }\n      onClick={onClick}\n    />\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport { ListItem } from 'material-ui/List';\nimport ListIcon from '../../../UI/ListIcon';\nimport { type InstructionOrExpressionTreeNode } from '../InstructionOrExpressionSelector/CreateTree';\nimport { type EnumeratedInstructionOrExpressionMetadata } from '../InstructionOrExpressionSelector/EnumeratedInstructionOrExpressionMetadata.js';\nimport Subheader from 'material-ui/Subheader';\nimport flatten from 'lodash/flatten';\nimport { getSubheaderListItemKey, getInstructionListItemKey } from './Keys';\n\ntype Props = {|\n  instructionTreeNode: InstructionOrExpressionTreeNode,\n  onChoose: (type: string, EnumeratedInstructionOrExpressionMetadata) => void,\n  iconSize: number,\n  useSubheaders?: boolean,\n|};\n\nconst styles = {\n  groupListItemNestedList: {\n    padding: 0,\n  },\n};\n\nexport const renderInstructionTree = ({\n  instructionTreeNode,\n  onChoose,\n  iconSize,\n  useSubheaders,\n}: Props): Array<ListItem> => {\n  return flatten(\n    Object.keys(instructionTreeNode).map(key => {\n      // In theory, we should have a way to distinguish\n      // between instruction (leaf nodes) and group (nodes). We use\n      // the \"type\" properties, but this will fail if a group is called \"type\"\n      // (hence the flow errors, which are valid warnings)\n      const instructionOrGroup = instructionTreeNode[key];\n      if (!instructionOrGroup) return null;\n\n      if (typeof instructionOrGroup.type === 'string') {\n        // $FlowFixMe - see above\n        const instructionInformation: EnumeratedInstructionOrExpressionMetadata = instructionOrGroup;\n        const value = getInstructionListItemKey(instructionOrGroup.type);\n        return (\n          <ListItem\n            key={value}\n            primaryText={key}\n            value={value}\n            leftIcon={\n              <ListIcon\n                iconSize={iconSize}\n                src={instructionInformation.iconFilename}\n              />\n            }\n            onClick={() => {\n              onChoose(instructionInformation.type, instructionInformation);\n            }}\n          />\n        );\n      } else {\n        // $FlowFixMe - see above\n        const groupOfInstructionInformation: InstructionOrExpressionTreeNode = instructionOrGroup;\n        if (useSubheaders) {\n          return [\n            <Subheader key={getSubheaderListItemKey(key)}>{key}</Subheader>,\n          ].concat(\n            renderInstructionTree({\n              instructionTreeNode: groupOfInstructionInformation,\n              onChoose,\n              iconSize,\n              useSubheaders: false,\n            })\n          );\n        } else {\n          return (\n            <ListItem\n              key={key}\n              nestedListStyle={styles.groupListItemNestedList}\n              primaryText={key}\n              primaryTogglesNestedList={true}\n              autoGenerateNestedIndicator={true}\n              nestedItems={renderInstructionTree({\n                instructionTreeNode: groupOfInstructionInformation,\n                onChoose,\n                iconSize,\n              })}\n            />\n          );\n        }\n      }\n    })\n  );\n};\n","// @flow\nimport { type ExpressionParameters } from './ParameterFieldCommons';\nconst gd = global.gd;\n\n/**\n * Given an instruction or an expression and a parameter number,\n * return the name of the object that this parameter (usually, a \"behavior\" or a \"objectvar\") should use.\n *\n * This is an extension to ParameterMetadataTools.cpp and ParameterMetadataTools.h.\n * It's only here to ease to search of the object name in fields like BehaviorField or\n * ObjectVariableField.\n */\nexport const getLastObjectParameterValue = ({\n  instructionMetadata,\n  instruction,\n  expressionMetadata,\n  expression,\n  parameterIndex,\n}: {|\n  instructionMetadata: ?gdInstructionMetadata,\n  instruction: ?gdInstruction,\n  expressionMetadata: ?gdExpressionMetadata,\n  expression: ?ExpressionParameters,\n  parameterIndex: ?number,\n|}): ?string => {\n  if (parameterIndex === undefined || parameterIndex == null) {\n    // No parameter index given: the parameter is not even in a list of parameters\n    return null;\n  }\n\n  let objectName = null;\n  if (instructionMetadata && instruction) {\n    const objectParameterIndex = gd.ParameterMetadataTools.getObjectParameterIndexFor(\n      instructionMetadata.getParameters(),\n      parameterIndex\n    );\n    if (\n      objectParameterIndex >= 0 &&\n      objectParameterIndex < instruction.getParametersCount()\n    ) {\n      objectName = instruction.getParameter(objectParameterIndex);\n    }\n  } else if (expressionMetadata && expression) {\n    const objectParameterIndex = gd.ParameterMetadataTools.getObjectParameterIndexFor(\n      expressionMetadata.getParameters(),\n      parameterIndex\n    );\n    if (\n      objectParameterIndex >= 0 &&\n      objectParameterIndex < expression.getParametersCount()\n    ) {\n      objectName = expression.getParameter(objectParameterIndex);\n    }\n  }\n\n  return objectName;\n};\n","// @flow\n\nexport const shortenString = (str: string, maxLength: number) => {\n  return str.length > maxLength ? str.substring(0, maxLength) + '...' : str;\n};\n\nexport const makeNonBreakable = (str: string) => {\n  return str.replace(/\\s/g, '\\xa0'); // Non-breakable space is char 0xa0 (160 dec)\n};\n","// @flow\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  type SelectionState,\n  getSelectedEvents,\n  hasEventSelected,\n  getSelectedEventContexts,\n  hasInstructionSelected,\n  hasInstructionsListSelected,\n  getSelectedInstructionsContexts,\n  getSelectedInstructionsListsContexts,\n  type InstructionsListContext,\n} from './SelectionHandler';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nconst gd = global.gd;\n\nexport const CLIPBOARD_KIND = 'EventsAndInstructions';\n\nexport const hasClipboardEvents = () => {\n  return (\n    Clipboard.has(CLIPBOARD_KIND) &&\n    Clipboard.get(CLIPBOARD_KIND).eventsCount > 0\n  );\n};\n\nexport const hasClipboardConditions = () => {\n  return (\n    Clipboard.has(CLIPBOARD_KIND) &&\n    Clipboard.get(CLIPBOARD_KIND).conditionsCount > 0\n  );\n};\n\nexport const hasClipboardActions = () => {\n  return (\n    Clipboard.has(CLIPBOARD_KIND) &&\n    Clipboard.get(CLIPBOARD_KIND).actionsCount > 0\n  );\n};\n\nexport const copySelectionToClipboard = (selection: SelectionState) => {\n  const eventsList = new gd.EventsList();\n  const actionsList = new gd.InstructionsList();\n  const conditionsList = new gd.InstructionsList();\n\n  getSelectedEvents(selection).forEach(event =>\n    eventsList.insertEvent(event, eventsList.getEventsCount())\n  );\n  getSelectedInstructionsContexts(selection).forEach(instructionContext => {\n    if (instructionContext.isCondition) {\n      conditionsList.insert(\n        instructionContext.instruction,\n        conditionsList.size()\n      );\n    } else {\n      actionsList.insert(instructionContext.instruction, actionsList.size());\n    }\n  });\n\n  Clipboard.set(CLIPBOARD_KIND, {\n    eventsList: serializeToJSObject(eventsList),\n    eventsCount: eventsList.getEventsCount(),\n    actionsList: serializeToJSObject(actionsList),\n    actionsCount: actionsList.size(),\n    conditionsList: serializeToJSObject(conditionsList),\n    conditionsCount: conditionsList.size(),\n  });\n\n  eventsList.delete();\n  actionsList.delete();\n  conditionsList.delete();\n};\n\nexport const pasteEventsFromClipboardInSelection = (\n  project: gdProject,\n  selection: SelectionState\n): boolean => {\n  if (!hasEventSelected(selection) || !hasClipboardEvents()) return false;\n\n  const eventsList = new gd.EventsList();\n  unserializeFromJSObject(\n    eventsList,\n    Clipboard.get(CLIPBOARD_KIND).eventsList,\n    'unserializeFrom',\n    project\n  );\n  getSelectedEventContexts(selection).forEach(eventContext => {\n    eventContext.eventsList.insertEvents(\n      eventsList,\n      0,\n      eventsList.getEventsCount(),\n      eventContext.indexInList\n    );\n  });\n  eventsList.delete();\n\n  return true;\n};\n\nexport const pasteInstructionsFromClipboardInSelection = (\n  project: gdProject,\n  selection: SelectionState\n): boolean => {\n  if (\n    (!hasInstructionSelected(selection) &&\n      !hasInstructionsListSelected(selection)) ||\n    (!hasClipboardConditions() && !hasClipboardActions())\n  )\n    return false;\n\n  const clipboardContent = Clipboard.get(CLIPBOARD_KIND);\n  const actionsList = new gd.InstructionsList();\n  const conditionsList = new gd.InstructionsList();\n  unserializeFromJSObject(\n    actionsList,\n    clipboardContent.actionsList,\n    'unserializeFrom',\n    project\n  );\n  unserializeFromJSObject(\n    conditionsList,\n    clipboardContent.conditionsList,\n    'unserializeFrom',\n    project\n  );\n  getSelectedInstructionsContexts(selection).forEach(instructionContext => {\n    if (instructionContext.isCondition) {\n      instructionContext.instrsList.insertInstructions(\n        conditionsList,\n        0,\n        conditionsList.size(),\n        instructionContext.indexInList\n      );\n    } else {\n      instructionContext.instrsList.insertInstructions(\n        actionsList,\n        0,\n        actionsList.size(),\n        instructionContext.indexInList\n      );\n    }\n  });\n  getSelectedInstructionsListsContexts(selection).forEach(\n    instructionsListContext => {\n      if (instructionsListContext.isCondition) {\n        instructionsListContext.instrsList.insertInstructions(\n          conditionsList,\n          0,\n          conditionsList.size(),\n          instructionsListContext.instrsList.size()\n        );\n      } else {\n        instructionsListContext.instrsList.insertInstructions(\n          actionsList,\n          0,\n          actionsList.size(),\n          instructionsListContext.instrsList.size()\n        );\n      }\n    }\n  );\n  conditionsList.delete();\n  actionsList.delete();\n\n  return true;\n};\n\nexport const pasteInstructionsFromClipboardInInstructionsList = (\n  project: gdProject,\n  instructionsListContext: InstructionsListContext\n) => {\n  if (!hasClipboardConditions() && !hasClipboardActions()) return false;\n\n  const clipboardContent = Clipboard.get(CLIPBOARD_KIND);\n  const actionsList = new gd.InstructionsList();\n  const conditionsList = new gd.InstructionsList();\n  unserializeFromJSObject(\n    actionsList,\n    clipboardContent.actionsList,\n    'unserializeFrom',\n    project\n  );\n  unserializeFromJSObject(\n    conditionsList,\n    clipboardContent.conditionsList,\n    'unserializeFrom',\n    project\n  );\n\n  if (instructionsListContext.isCondition) {\n    instructionsListContext.instrsList.insertInstructions(\n      conditionsList,\n      0,\n      conditionsList.size(),\n      instructionsListContext.instrsList.size()\n    );\n  } else {\n    instructionsListContext.instrsList.insertInstructions(\n      actionsList,\n      0,\n      actionsList.size(),\n      instructionsListContext.instrsList.size()\n    );\n  }\n  conditionsList.delete();\n  actionsList.delete();\n\n  return true;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport Divider from 'material-ui/Divider';\nimport Toggle from 'material-ui/Toggle';\nimport { mapFor } from '../../Utils/MapFor';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport ParameterRenderingService from '../ParameterRenderingService';\nimport HelpButton from '../../UI/HelpButton';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../ResourcesList/ResourceExternalEditor.flow';\nimport { Line } from '../../UI/Grid';\nimport AlertMessage from '../../UI/AlertMessage';\nimport { getExtraInstructionInformation } from '../../Hints';\nimport { isAnEventFunctionMetadata } from '../../EventsFunctionsExtensionsLoader';\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\nimport IconButton from 'material-ui/IconButton';\nimport { type EventsScope } from '../EventsScope.flow';\nconst gd = global.gd;\n\nconst styles = {\n  // When displaying parameters, take all the height:\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1,\n  },\n  // When displaying the empty message, center the message:\n  emptyContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  parametersContainer: {\n    flex: 1,\n    overflowY: 'auto',\n  },\n  icon: {\n    width: 24,\n    height: 24,\n    marginRight: 8,\n    flexShrink: 0,\n  },\n  invertToggle: {\n    marginTop: 8,\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  objectName?: ?string,\n  instruction: gdInstruction,\n  isCondition: boolean,\n  focusOnMount?: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  style?: Object,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n  noHelpButton?: boolean,\n|};\ntype State = {|\n  isDirty: boolean,\n|};\n\nconst setupInstruction = (\n  instruction: gdInstruction,\n  instructionMetadata: gdInstructionMetadata,\n  objectName: ?string\n) => {\n  instruction.setParametersCount(instructionMetadata.getParametersCount());\n\n  if (objectName) {\n    if (\n      instructionMetadata.getParametersCount() === 0 ||\n      instructionMetadata.getParameter(0).getType() !== 'object'\n    ) {\n      console.error(\n        `Instruction \"${instructionMetadata.getFullName()}\" is used for an object, but does not have an object as first parameter`\n      );\n      return;\n    }\n\n    instruction.setParameter(0, objectName);\n  }\n};\n\nconst isParameterVisible = (\n  parameterMetadata: gdParameterMetadata,\n  parameterIndex: number,\n  objectName: ?string\n) => {\n  // Hide parameters that are used only for code generation\n  if (parameterMetadata.isCodeOnly()) return false;\n\n  // For objects, hide the first parameter, which is by convention the object name.\n  if (objectName && parameterIndex === 0) return false;\n\n  return true;\n};\n\nexport default class InstructionParametersEditor extends React.Component<\n  Props,\n  State\n> {\n  _firstVisibleField: ?any = {};\n  state = {\n    isDirty: false,\n  };\n\n  componentDidMount() {\n    if (this.props.focusOnMount) {\n      setTimeout(() => {\n        this.focus();\n      }, 300); // Let the time to the dialog that is potentially containing the InstructionParametersEditor to finish its transition.\n    }\n  }\n\n  focus() {\n    // Verify that there is a field to focus.\n    if (\n      this._getVisibleParametersCount(\n        this._getInstructionMetadata(),\n        this.props.objectName\n      ) !== 0\n    ) {\n      if (this._firstVisibleField && this._firstVisibleField.focus) {\n        this._firstVisibleField.focus();\n      }\n    }\n  }\n\n  _getVisibleParametersCount(\n    instructionMetadata: ?gdInstructionMetadata,\n    objectName: ?string\n  ) {\n    if (!instructionMetadata) return 0;\n\n    return mapFor(0, instructionMetadata.getParametersCount(), i => {\n      if (!instructionMetadata) return false;\n      const parameterMetadata = instructionMetadata.getParameter(i);\n\n      return isParameterVisible(parameterMetadata, i, objectName);\n    }).filter(isVisible => isVisible).length;\n  }\n\n  _getInstructionMetadata = (): ?gdInstructionMetadata => {\n    const { instruction, isCondition, project } = this.props;\n    const type = instruction.getType();\n    if (!type) return null;\n\n    return isCondition\n      ? gd.MetadataProvider.getConditionMetadata(\n          project.getCurrentPlatform(),\n          type\n        )\n      : gd.MetadataProvider.getActionMetadata(\n          project.getCurrentPlatform(),\n          type\n        );\n  };\n\n  _openExtension = (i18n: I18nType) => {\n    if (this.state.isDirty) {\n      //eslint-disable-next-line\n      const answer = confirm(\n        i18n._(\n          t`You've made some changes here. Are you sure you want to discard them and open the function?`\n        )\n      );\n      if (!answer) return;\n    }\n\n    const { instruction, isCondition, project } = this.props;\n    const type = instruction.getType();\n    if (!type) return null;\n\n    const extension = isCondition\n      ? gd.MetadataProvider.getExtensionAndConditionMetadata(\n          project.getCurrentPlatform(),\n          type\n        ).getExtension()\n      : gd.MetadataProvider.getExtensionAndActionMetadata(\n          project.getCurrentPlatform(),\n          type\n        ).getExtension();\n\n    this.props.openInstructionOrExpression(extension, type);\n  };\n\n  _renderEmpty() {\n    return (\n      <div style={{ ...styles.emptyContainer, ...this.props.style }}>\n        <EmptyMessage>\n          {this.props.isCondition\n            ? 'Choose a condition (or an object then a condition) on the left'\n            : 'Choose an action (or an object then an action) on the left'}\n        </EmptyMessage>\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      instruction,\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      noHelpButton,\n      objectName,\n      scope,\n    } = this.props;\n\n    const type = instruction.getType();\n    const instructionMetadata = this._getInstructionMetadata();\n    if (!instructionMetadata) return this._renderEmpty();\n\n    const helpPage = instructionMetadata.getHelpPath();\n    const instructionExtraInformation = getExtraInstructionInformation(type);\n\n    setupInstruction(instruction, instructionMetadata, objectName);\n\n    let parameterFieldIndex = 0;\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <div style={styles.container}>\n            <Line alignItems=\"center\">\n              <img\n                src={instructionMetadata.getIconFilename()}\n                alt=\"\"\n                style={styles.icon}\n              />\n              <p>{instructionMetadata.getDescription()}</p>\n              {isAnEventFunctionMetadata(instructionMetadata) && (\n                <IconButton onClick={() => this._openExtension(i18n)}>\n                  <OpenInNew />\n                </IconButton>\n              )}\n            </Line>\n            {instructionExtraInformation && (\n              <Line>\n                <AlertMessage kind={instructionExtraInformation.kind}>\n                  {i18n._(instructionExtraInformation.message)}\n                </AlertMessage>\n              </Line>\n            )}\n            <Divider />\n            <div key={type} style={styles.parametersContainer}>\n              {mapFor(0, instructionMetadata.getParametersCount(), i => {\n                const parameterMetadata = instructionMetadata.getParameter(i);\n                if (!isParameterVisible(parameterMetadata, i, objectName))\n                  return null;\n\n                const parameterMetadataType = parameterMetadata.getType();\n                const ParameterComponent = ParameterRenderingService.getParameterComponent(\n                  parameterMetadataType\n                );\n\n                // Track the field count on screen, to affect the ref to the\n                // first visible field.\n                const isFirstVisibleParameterField = parameterFieldIndex === 0;\n                parameterFieldIndex++;\n\n                return (\n                  <ParameterComponent\n                    instructionMetadata={instructionMetadata}\n                    instruction={instruction}\n                    parameterMetadata={parameterMetadata}\n                    parameterIndex={i}\n                    value={instruction.getParameter(i)}\n                    onChange={value => {\n                      if (instruction.getParameter(i) !== value) {\n                        instruction.setParameter(i, value);\n                        this.setState({\n                          isDirty: true,\n                        });\n                      }\n                    }}\n                    project={project}\n                    scope={scope}\n                    globalObjectsContainer={globalObjectsContainer}\n                    objectsContainer={objectsContainer}\n                    key={i}\n                    parameterRenderingService={ParameterRenderingService}\n                    resourceSources={this.props.resourceSources}\n                    onChooseResource={this.props.onChooseResource}\n                    resourceExternalEditors={this.props.resourceExternalEditors}\n                    ref={field => {\n                      if (isFirstVisibleParameterField) {\n                        this._firstVisibleField = field;\n                      }\n                    }}\n                  />\n                );\n              })}\n              {this._getVisibleParametersCount(\n                instructionMetadata,\n                objectName\n              ) === 0 && (\n                <EmptyMessage>\n                  <Trans>There is nothing to configure.</Trans>\n                </EmptyMessage>\n              )}\n              {this.props.isCondition && (\n                <Toggle\n                  label={<Trans>Invert condition</Trans>}\n                  labelPosition=\"right\"\n                  toggled={instruction.isInverted()}\n                  style={styles.invertToggle}\n                  onToggle={(e, enabled) => {\n                    instruction.setInverted(enabled);\n                    this.forceUpdate();\n                  }}\n                />\n              )}\n            </div>\n            <Line>\n              {!noHelpButton && helpPage && (\n                <HelpButton\n                  helpPagePath={instructionMetadata.getHelpPath()}\n                  label={\n                    this.props.isCondition ? (\n                      <Trans>Help for this condition</Trans>\n                    ) : (\n                      <Trans>Help for this action</Trans>\n                    )\n                  }\n                />\n              )}\n            </Line>\n          </div>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport React from 'react';\nimport { type Tags, removeTag } from '../Utils/TagsHelper';\nimport Chip from 'material-ui/Chip';\n\nconst styles = {\n  chipContainer: {\n    display: 'flex',\n    overflowX: 'auto',\n    margin: 4,\n  },\n  chip: {\n    marginLeft: 2,\n    marginRight: 2,\n  },\n};\n\ntype Props = {|\n  tags: Tags,\n  onChange: Tags => void,\n|};\n\nexport default ({ tags, onChange }: Props) => {\n  if (!tags.length) return null;\n\n  return (\n    <div style={styles.chipContainer}>\n      {tags.map(tag => (\n        <Chip\n          key={tag}\n          style={styles.chip}\n          onRequestDelete={() => onChange(removeTag(tags, tag))}\n        >\n          {tag}\n        </Chip>\n      ))}\n    </div>\n  );\n};\n","import { isMacLike } from '../../Utils/Platform';\n\nconst CTRL_KEY = 17;\nconst SHIFT_KEY = 16;\nconst LEFT_KEY = 37;\nconst UP_KEY = 38;\nconst RIGHT_KEY = 39;\nconst DOWN_KEY = 40;\nconst BACKSPACE_KEY = 8;\nconst SPACE_KEY = 32;\nconst DELETE_KEY = 46;\nconst EQUAL_KEY = 187;\nconst MINUS_KEY = 189;\nconst NUMPAD_ADD = 107;\nconst NUMPAD_SUBSTRACT = 109;\nconst C_KEY = 67;\nconst F_KEY = 70;\nconst V_KEY = 86;\nconst X_KEY = 88;\nconst Y_KEY = 89;\nconst Z_KEY = 90;\nconst MID_MOUSE_BUTTON = 1;\n\nexport default class KeyboardShortcuts {\n  constructor({\n    onDelete,\n    onMove,\n    onCopy,\n    onCut,\n    onPaste,\n    onUndo,\n    onRedo,\n    onSearch,\n    onZoomOut,\n    onZoomIn,\n  }) {\n    this.onDelete = onDelete || this._noop;\n    this.onMove = onMove || this._noop;\n    this.onCopy = onCopy || this._noop;\n    this.onCut = onCut || this._noop;\n    this.onPaste = onPaste || this._noop;\n    this.onUndo = onUndo || this._noop;\n    this.onRedo = onRedo || this._noop;\n    this.onZoomOut = onZoomOut || this._noop;\n    this.onZoomIn = onZoomIn || this._noop;\n    this.onSearch = onSearch || this._noop;\n    this.isFocused = false;\n    this.shiftPressed = false;\n    this.rawCtrlPressed = false;\n    this.metaPressed = false;\n    this.spacePressed = false;\n    this.mouseMidButtonPressed = false;\n    this.mount();\n  }\n\n  shouldCloneInstances() {\n    return this._isControlPressed();\n  }\n\n  shouldMultiSelect() {\n    return this.shiftPressed;\n  }\n\n  shouldFollowAxis() {\n    return this.shiftPressed;\n  }\n\n  shouldNotSnapToGrid() {\n    return this.altPressed;\n  }\n\n  shouldResizeProportionally() {\n    return this.shiftPressed;\n  }\n\n  shouldScrollHorizontally() {\n    return this.altPressed;\n  }\n\n  shouldZoom() {\n    if (isMacLike()) {\n      return this._isControlPressed();\n    } else {\n      if (!this._isControlPressed() && !this.altPressed && !this.shiftPressed) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }\n\n  shouldMoveView() {\n    return this.spacePressed || this.mouseMidButtonPressed;\n  }\n\n  _isControlPressed = () => {\n    // On macOS, meta key (Apple/Command key) acts as Control key on Windows/Linux.\n    return this.metaPressed || this.rawCtrlPressed;\n  };\n\n  _onKeyDown = evt => {\n    if (!this.isFocused) return;\n    if (evt.metaKey) this.metaPressed = true;\n    if (evt.altKey) this.altPressed = true;\n    if (evt.which === CTRL_KEY) this.rawCtrlPressed = true;\n    if (evt.which === SHIFT_KEY) this.shiftPressed = true;\n    if (evt.which === SPACE_KEY) this.spacePressed = true;\n\n    const textEditorSelectors = 'textarea, input, [contenteditable=\"true\"]';\n    if (evt.target && evt.target.closest(textEditorSelectors)) {\n      return; // Something else is currently being edited.\n    }\n\n    if (this.onMove) {\n      if (evt.which === UP_KEY) {\n        this.onMove(0, -1);\n      } else if (evt.which === DOWN_KEY) {\n        this.onMove(0, 1);\n      } else if (evt.which === LEFT_KEY) {\n        this.onMove(-1, 0);\n      } else if (evt.which === RIGHT_KEY) {\n        this.onMove(1, 0);\n      }\n    }\n    if (evt.which === BACKSPACE_KEY || evt.which === DELETE_KEY) {\n      this.onDelete();\n    }\n    if (this._isControlPressed() && evt.which === C_KEY) {\n      this.onCopy();\n    }\n    if (this._isControlPressed() && evt.which === X_KEY) {\n      this.onCut();\n    }\n    if (this._isControlPressed() && evt.which === V_KEY) {\n      this.onPaste();\n    }\n    if (this._isControlPressed() && evt.which === Z_KEY) {\n      this.onUndo();\n    }\n    if (this._isControlPressed() && this.shiftPressed && evt.which === Z_KEY) {\n      this.onRedo();\n    }\n    if (this._isControlPressed() && evt.which === Y_KEY) {\n      this.onRedo();\n    }\n    if (this._isControlPressed() && evt.which === F_KEY) {\n      this.onSearch();\n    }\n\n    if (isMacLike()) {\n      //Mac specific shortcuts -- zooming done differently on windows and linux\n      if (this._isControlPressed() && evt.which === MINUS_KEY) {\n        this.onZoomOut();\n      }\n      if (this._isControlPressed() && evt.which === EQUAL_KEY) {\n        this.onZoomIn();\n      }\n      if (evt.which === NUMPAD_SUBSTRACT) {\n        this.onZoomOut();\n      }\n      if (evt.which === NUMPAD_ADD) {\n        this.onZoomIn();\n      }\n    }\n  };\n\n  _onKeyUp = evt => {\n    // Always handle key up event, even if we don't have the focus,\n    // for modifier keys to ensure we don't lose track of their pressed/unpressed status.\n\n    if (!evt.metaKey) this.metaPressed = false;\n    if (!evt.altKey) this.altPressed = false;\n    if (evt.which === CTRL_KEY) this.rawCtrlPressed = false;\n    if (evt.which === SHIFT_KEY) this.shiftPressed = false;\n    if (evt.which === SPACE_KEY) this.spacePressed = false;\n  };\n\n  _onMouseDown = evt => {\n    if (!this.isFocused) return;\n\n    if (!isMacLike()) {\n      if (evt.button === MID_MOUSE_BUTTON) {\n        this.mouseMidButtonPressed = true;\n      } else {\n        this.mouseMidButtonPressed = false;\n      }\n    }\n  };\n\n  _onMouseUp = evt => {\n    if (!this.isFocused) return;\n\n    if (!isMacLike() && evt.button === MID_MOUSE_BUTTON) {\n      this.mouseMidButtonPressed = false;\n    }\n  };\n\n  _onKeyPress = evt => {};\n\n  _noop = () => {};\n\n  focus() {\n    this.isFocused = true;\n  }\n\n  blur() {\n    this.isFocused = false;\n  }\n\n  mount() {\n    if (typeof document === 'undefined') return;\n\n    document.addEventListener('keydown', this._onKeyDown, true);\n    document.addEventListener('keyup', this._onKeyUp, true);\n    document.addEventListener('keypress', this._onKeyPress, true);\n    document.addEventListener('mousedown', this._onMouseDown, true);\n    document.addEventListener('mouseup', this._onMouseUp, true);\n  }\n\n  unmount() {\n    if (typeof document === 'undefined') return;\n\n    document.removeEventListener('keydown', this._onKeyDown, true);\n    document.removeEventListener('keyup', this._onKeyUp, true);\n    document.removeEventListener('keypress', this._onKeyPress, true);\n    document.removeEventListener('mousedown', this._onMouseDown, true);\n    document.removeEventListener('mouseup', this._onMouseUp, true);\n  }\n}\n","// @flow\nimport { serializeToJSObject, unserializeFromJSObject } from './Serializer';\n\n// Tools function to keep track of the history of changes made\n// on a serializable object from libGD.js\n\nexport type HistoryState = {|\n  undoHistory: Array<Object>,\n  current: Object,\n  redoHistory: Array<Object>,\n  maxSize: number,\n|};\n\n/**\n * Return the initial state of the history\n * @param {*} serializableObject\n */\nexport const getHistoryInitialState = (\n  serializableObject: gdSerializable,\n  { historyMaxSize }: { historyMaxSize: number }\n): HistoryState => {\n  return {\n    undoHistory: [],\n    current: serializeToJSObject(serializableObject),\n    redoHistory: [],\n    maxSize: historyMaxSize,\n  };\n};\n\n/**\n * Return true if redo can be applied for the given history\n * @param {*} history\n */\nexport const canRedo = (history: HistoryState): boolean => {\n  return !!history.redoHistory.length;\n};\n\n/**\n * Return true if undo can be applied for the given history\n * @param {*} history\n */\nexport const canUndo = (history: HistoryState): boolean => {\n  return !!history.undoHistory.length;\n};\n\n/**\n * Save a new state of the given serializableObject to the history\n * @param {*} history\n * @param {*} serializableObject\n */\nexport const saveToHistory = (\n  history: HistoryState,\n  serializableObject: gdSerializable\n): HistoryState => {\n  const newUndoHistory = [...history.undoHistory, history.current];\n  if (newUndoHistory.length > history.maxSize) {\n    newUndoHistory.splice(0, newUndoHistory.length - history.maxSize);\n  }\n\n  return {\n    undoHistory: newUndoHistory,\n    current: serializeToJSObject(serializableObject),\n    redoHistory: [],\n    maxSize: history.maxSize,\n  };\n};\n\n/**\n * Update the serializableObject to undo the last changes.\n * /!\\ This mutates the serializableObject and there could be objects owned by it\n * deleted or becoming invalid. Be sure to drop/refresh any reference to them.\n *\n * @param {*} history\n * @param {*} serializableObject\n */\nexport const undo = (\n  history: HistoryState,\n  serializableObject: gdSerializable,\n  project: ?gdProject = undefined\n): HistoryState => {\n  if (!history.undoHistory.length) {\n    return history;\n  }\n\n  const newCurrent = history.undoHistory[history.undoHistory.length - 1];\n  unserializeFromJSObject(\n    serializableObject,\n    newCurrent,\n    'unserializeFrom',\n    project\n  );\n\n  return {\n    undoHistory: history.undoHistory.slice(0, -1),\n    current: newCurrent,\n    redoHistory: [...history.redoHistory, history.current],\n    maxSize: history.maxSize,\n  };\n};\n\n/**\n * Update the serializableObject to undo the last changes.\n * /!\\ This mutates the serializableObject and there could be objects owned by it\n * deleted or becoming invalid. Be sure to drop/refresh any reference to them.\n *\n * @param {*} history\n * @param {*} serializableObject\n */\nexport const redo = (\n  history: HistoryState,\n  serializableObject: gdSerializable,\n  project: ?gdProject = undefined\n): HistoryState => {\n  if (!history.redoHistory.length) {\n    return history;\n  }\n\n  const newCurrent = history.redoHistory[history.redoHistory.length - 1];\n  unserializeFromJSObject(\n    serializableObject,\n    newCurrent,\n    'unserializeFrom',\n    project\n  );\n\n  return {\n    undoHistory: [...history.undoHistory, history.current],\n    current: newCurrent,\n    redoHistory: history.redoHistory.slice(0, -1),\n    maxSize: history.maxSize,\n  };\n};\n","// @flow\nimport { unserializeFromJSObject } from '../../Utils/Serializer';\nimport { mapVector } from '../../Utils/MapFor';\nimport { getFreeEventsFunctionType } from '../../EventsFunctionsExtensionsLoader';\nimport getObjectGroupByName from '../../Utils/GetObjectGroupByName';\nconst gd = global.gd;\n\n/**\n * Set up an events function with the given serialized events,\n * so that the function contains these events, expecting the objects\n * as parameters.\n */\nexport const setupFunctionFromEvents = ({\n  globalObjectsContainer,\n  objectsContainer,\n  serializedEvents,\n  project,\n  eventsFunction,\n}: {\n  project: gdProject,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  serializedEvents: Object,\n  eventsFunction: gdEventsFunction,\n}) => {\n  // Set up the function\n  eventsFunction.setName('MyFunction');\n  eventsFunction.setFunctionType(gd.EventsFunction.Action);\n  unserializeFromJSObject(\n    eventsFunction.getEvents(),\n    serializedEvents,\n    'unserializeFrom',\n    project\n  );\n\n  // Analyze events...\n  const eventsContextAnalyzer = new gd.EventsContextAnalyzer(\n    gd.JsPlatform.get(),\n    globalObjectsContainer,\n    objectsContainer\n  );\n  eventsContextAnalyzer.launch(eventsFunction.getEvents());\n  const eventsContext = eventsContextAnalyzer.getEventsContext();\n\n  // ...to extract objects and groups\n  const objectOrGroupNames: Array<string> = eventsContext\n    .getReferencedObjectOrGroupNames()\n    .toNewVectorString()\n    .toJSArray();\n  const objectNames: Array<string> = eventsContext\n    .getObjectNames()\n    .toNewVectorString()\n    .toJSArray();\n  const groups: Array<gdObjectGroup> = objectOrGroupNames\n    // Filter to only keep groups\n    .filter(\n      (objectOrGroupName: string) =>\n        objectNames.indexOf(objectOrGroupName) === -1\n    )\n    .map(groupName =>\n      getObjectGroupByName(globalObjectsContainer, objectsContainer, groupName)\n    )\n    .filter(Boolean);\n\n  // Compute what the parameters should be:\n  // 1) The groups, but only the ones that have no object directly referenced.\n  const parameterGroups: Array<gdObjectGroup> = groups.filter(group => {\n    return !objectOrGroupNames.some(referencedObjectOrGroupName =>\n      group.find(referencedObjectOrGroupName)\n    );\n  });\n  const parameterGroupNames: Array<string> = parameterGroups.map(group =>\n    group.getName()\n  );\n\n  // 2) The objects, but only the ones that are already in the groups in parameters\n  const parameterObjectNames: Array<string> = objectNames.filter(objectName => {\n    return !parameterGroups.some(group => group.find(objectName));\n  });\n\n  // Create parameters for these objects (or these groups without any object directly referenced)\n  const parameters = eventsFunction.getParameters();\n  parameters.clear();\n  [...parameterGroupNames, ...parameterObjectNames].forEach(objectName => {\n    const newParameter = new gd.ParameterMetadata();\n    newParameter.setType('objectList');\n    newParameter.setName(objectName);\n    newParameter.setExtraInfo(\n      gd.getTypeOfObject(\n        globalObjectsContainer,\n        objectsContainer,\n        objectName,\n        true\n      )\n    );\n    parameters.push_back(newParameter);\n\n    const behaviorNames: Array<string> = eventsContext\n      .getBehaviorNamesOfObjectOrGroup(objectName)\n      .toNewVectorString()\n      .toJSArray();\n\n    behaviorNames.forEach(behaviorName => {\n      const newParameter = new gd.ParameterMetadata();\n      newParameter.setType('behavior');\n      newParameter.setName(behaviorName);\n      newParameter.setExtraInfo(\n        gd.getTypeOfBehavior(\n          globalObjectsContainer,\n          objectsContainer,\n          behaviorName\n        )\n      );\n      parameters.push_back(newParameter);\n    });\n  });\n\n  // Import groups that are used in events, but are not in parameters,\n  // inside the events function groups.\n  groups\n    .filter(group => !parameterGroupNames.includes(group.getName()))\n    .forEach(group => {\n      if (group) {\n        eventsFunction.getObjectGroups().insert(group, 0);\n      }\n    });\n\n  eventsContextAnalyzer.delete();\n};\n\n/**\n * Create an instruction to call the given events function\n */\nexport const createNewInstructionForEventsFunction = (\n  extensionName: string,\n  eventsFunction: gdEventsFunction\n): gdInstruction => {\n  const action = new gd.Instruction(); //Add a simple action\n  const runtimeSceneParameterCount = 1; // By convention, first parameter is always the Runtime Scene.\n  const contextParameterCount = 1; // By convention, latest parameter is always the eventsFunctionContext of the calling function (if any).\n\n  action.setType(getFreeEventsFunctionType(extensionName, eventsFunction));\n  action.setParametersCount(\n    eventsFunction.getParameters().size() +\n      runtimeSceneParameterCount +\n      contextParameterCount\n  );\n\n  mapVector(eventsFunction.getParameters(), (parameterMetadata, index) => {\n    action.setParameter(\n      runtimeSceneParameterCount + index,\n      parameterMetadata.getName()\n    );\n  });\n\n  return action;\n};\n\n/**\n * Validate that a function name is valid.\n */\nexport const validateEventsFunctionName = (functionName: string) => {\n  return gd.Project.validateObjectName(functionName);\n};\n\n/**\n * Validate that an events functions extension name is valid.\n */\nexport const validateExtensionName = (extensionName: string) => {\n  return gd.Project.validateObjectName(extensionName);\n};\n\n/**\n * Validate that an events functions extension name is unique in a project.\n */\nexport const validateExtensionNameUniqueness = (\n  project: gdProject,\n  extensionName: string\n) => {\n  return !project.hasEventsFunctionsExtensionNamed(extensionName);\n};\n\n/**\n * Validate that an events function name is unique in a project extension.\n */\nexport const validateEventsFunctionNameUniqueness = (\n  project: gdProject,\n  extensionName: string,\n  eventsFunction: gdEventsFunction\n) => {\n  if (project.hasEventsFunctionsExtensionNamed(extensionName)) {\n    const eventsFunctionsExtension = project.getEventsFunctionsExtension(\n      extensionName\n    );\n\n    return !eventsFunctionsExtension.hasEventsFunctionNamed(\n      eventsFunction.getName()\n    );\n  }\n\n  return true;\n};\n\n/**\n * Return true if the events function can be added to the given extension\n * without any conflict/invalid name.\n */\nexport const canCreateEventsFunction = (\n  project: gdProject,\n  extensionName: string,\n  eventsFunction: gdEventsFunction\n) => {\n  return (\n    extensionName !== '' &&\n    validateExtensionName(extensionName) &&\n    eventsFunction.getName() !== '' &&\n    validateEventsFunctionName(eventsFunction.getName()) &&\n    validateEventsFunctionNameUniqueness(\n      project,\n      extensionName,\n      eventsFunction\n    ) &&\n    eventsFunction.getFullName() !== '' &&\n    eventsFunction.getSentence() !== ''\n  );\n};\n\n/**\n * Return true if the function is considered to have more parameters than usual.\n */\nexport const functionHasLotsOfParameters = (\n  eventsFunction: gdEventsFunction\n) => {\n  return eventsFunction.getParameters().size() > 7;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\nimport * as React from 'react';\nimport { Column, Line, Spacer } from '../../UI/Grid';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { mapVector } from '../../Utils/MapFor';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport IconButton from 'material-ui/IconButton';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport IconMenu from '../../UI/Menu/IconMenu';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport HelpButton from '../../UI/HelpButton';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport MiniToolbar, { MiniToolbarText } from '../../UI/MiniToolbar';\nimport { showWarningBox } from '../../UI/Messages/MessageBox';\nimport ObjectTypeSelector from '../../ObjectTypeSelector';\nimport BehaviorTypeSelector from '../../BehaviorTypeSelector';\nimport { isBehaviorLifecycleFunction } from '../../EventsFunctionsExtensionsLoader/MetadataDeclarationHelpers';\nimport { getParametersIndexOffset } from '../../EventsFunctionsExtensionsLoader';\n\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  eventsFunction: gdEventsFunction,\n  eventsBasedBehavior: ?gdEventsBasedBehavior,\n  onParametersUpdated: () => void,\n  helpPagePath?: string,\n  freezeParameters?: boolean,\n|};\n\nconst styles = {\n  parametersContainer: {\n    flex: 1,\n  },\n};\n\nconst validateParameterName = (i18n: I18nType, newName: string) => {\n  if (!gd.Project.validateObjectName(newName)) {\n    showWarningBox(\n      i18n._(\n        t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your parameter name.`\n      )\n    );\n    return false;\n  }\n\n  return true;\n};\n\nexport default class EventsFunctionParametersEditor extends React.Component<\n  Props,\n  {||}\n> {\n  _addParameter = () => {\n    const { eventsFunction } = this.props;\n    const parameters = eventsFunction.getParameters();\n\n    const newParameter = new gd.ParameterMetadata();\n    newParameter.setType('objectList');\n    parameters.push_back(newParameter);\n    newParameter.delete();\n    this.forceUpdate();\n    this.props.onParametersUpdated();\n  };\n\n  _removeParameter = (index: number) => {\n    const { eventsFunction } = this.props;\n    const parameters = eventsFunction.getParameters();\n\n    gd.removeFromVectorParameterMetadata(parameters, index);\n    this.forceUpdate();\n    this.props.onParametersUpdated();\n  };\n\n  render() {\n    const {\n      project,\n      eventsFunction,\n      eventsBasedBehavior,\n      freezeParameters,\n      helpPagePath,\n    } = this.props;\n\n    const parameters = eventsFunction.getParameters();\n    const isABehaviorLifecycleFunction =\n      !!eventsBasedBehavior &&\n      isBehaviorLifecycleFunction(eventsFunction.getName());\n    if (isABehaviorLifecycleFunction) {\n      return (\n        <EmptyMessage>\n          This is a \"lifecycle method\". It will be called automatically by the\n          game engine and has two parameters: \"Object\" (the object the behavior\n          is acting on) and \"Behavior\" (the behavior itself).\n        </EmptyMessage>\n      );\n    }\n\n    const isParameterDisabled = index => {\n      return !!freezeParameters || (!!eventsBasedBehavior && index < 2);\n    };\n    const isParameterDescriptionAndTypeShown = index => {\n      // The first two parameters of a behavior method should not be changed at all,\n      // so we even hide their description and type to avoid cluttering the interface.\n      return !eventsBasedBehavior || index >= 2;\n    };\n    const parametersIndexOffset = getParametersIndexOffset(\n      !!eventsBasedBehavior\n    );\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Column noMargin>\n            <Line noMargin>\n              <div style={styles.parametersContainer}>\n                {mapVector(\n                  parameters,\n                  (parameter: gdParameterMetadata, i: number) => (\n                    <React.Fragment key={i}>\n                      <MiniToolbar>\n                        <MiniToolbarText>\n                          <Trans>Parameter #{i + parametersIndexOffset}:</Trans>\n                        </MiniToolbarText>\n                        <Column expand noMargin>\n                          <SemiControlledTextField\n                            commitOnBlur\n                            hintText={<Trans>Enter the parameter name</Trans>}\n                            value={parameter.getName()}\n                            onChange={text => {\n                              if (!validateParameterName(i18n, text)) return;\n\n                              parameter.setName(text);\n                              this.forceUpdate();\n                              this.props.onParametersUpdated();\n                            }}\n                            disabled={isParameterDisabled(i)}\n                            errorText={\n                              parameter.getName() ? null : (\n                                <Trans>\n                                  Name of the parameter is mandatory.\n                                </Trans>\n                              )\n                            }\n                            fullWidth\n                          />\n                        </Column>\n                        <IconMenu\n                          iconButtonElement={\n                            <IconButton>\n                              <MoreVertIcon />\n                            </IconButton>\n                          }\n                          buildMenuTemplate={() => [\n                            {\n                              label: i18n._(t`Delete`),\n                              enabled: !isParameterDisabled(i),\n                              click: () => this._removeParameter(i),\n                            },\n                          ]}\n                        />\n                      </MiniToolbar>\n                      <Line expand noMargin>\n                        {isParameterDescriptionAndTypeShown(i) && (\n                          <Column expand>\n                            <SelectField\n                              floatingLabelText={<Trans>Type</Trans>}\n                              value={parameter.getType()}\n                              onChange={(e, i, value) => {\n                                parameter.setType(value);\n                                this.forceUpdate();\n                                this.props.onParametersUpdated();\n                              }}\n                              disabled={isParameterDisabled(i)}\n                              fullWidth\n                            >\n                              <MenuItem\n                                value=\"objectList\"\n                                primaryText={<Trans>Objects</Trans>}\n                              />\n                              <MenuItem\n                                value=\"behavior\"\n                                primaryText={\n                                  <Trans>\n                                    Behavior (for the previous object)\n                                  </Trans>\n                                }\n                              />\n                              <MenuItem\n                                value=\"expression\"\n                                primaryText={<Trans>Number</Trans>}\n                              />\n                              <MenuItem\n                                value=\"string\"\n                                primaryText={<Trans>String (text)</Trans>}\n                              />\n                              <MenuItem\n                                value=\"key\"\n                                primaryText={<Trans>Keyboard Key (text)</Trans>}\n                              />\n                              <MenuItem\n                                value=\"mouse\"\n                                primaryText={<Trans>Mouse button (text)</Trans>}\n                              />\n                              <MenuItem\n                                value=\"color\"\n                                primaryText={<Trans>Color (text)</Trans>}\n                              />\n                              <MenuItem\n                                value=\"layer\"\n                                primaryText={<Trans>Layer (text)</Trans>}\n                              />\n                              <MenuItem\n                                value=\"sceneName\"\n                                primaryText={<Trans>Scene name (text)</Trans>}\n                              />\n                            </SelectField>\n                          </Column>\n                        )}\n                        {gd.ParameterMetadata.isObject(parameter.getType()) && (\n                          <Column expand>\n                            <ObjectTypeSelector\n                              project={project}\n                              value={parameter.getExtraInfo()}\n                              onChange={(value: string) => {\n                                parameter.setExtraInfo(value);\n                                this.forceUpdate();\n                                this.props.onParametersUpdated();\n                              }}\n                              disabled={isParameterDisabled(i)}\n                            />\n                          </Column>\n                        )}\n                        {parameter.getType() === 'behavior' && (\n                          <Column expand>\n                            <BehaviorTypeSelector\n                              project={project}\n                              value={parameter.getExtraInfo()}\n                              onChange={(value: string) => {\n                                parameter.setExtraInfo(value);\n                                this.forceUpdate();\n                                this.props.onParametersUpdated();\n                              }}\n                              disabled={isParameterDisabled(i)}\n                            />\n                          </Column>\n                        )}\n                      </Line>\n                      {isParameterDescriptionAndTypeShown(i) && (\n                        <Line expand noMargin>\n                          <Column expand>\n                            <SemiControlledTextField\n                              commitOnBlur\n                              floatingLabelText={<Trans>Description</Trans>}\n                              floatingLabelFixed\n                              value={parameter.getDescription()}\n                              onChange={text => {\n                                parameter.setDescription(text);\n                                this.forceUpdate();\n                              }}\n                              fullWidth\n                              disabled={\n                                false /* Description, if shown, can always be changed */\n                              }\n                            />\n                          </Column>\n                        </Line>\n                      )}\n                    </React.Fragment>\n                  )\n                )}\n                {parameters.size() === 0 ? (\n                  <EmptyMessage>\n                    <Trans>No parameters for this function.</Trans>\n                  </EmptyMessage>\n                ) : null}\n                <Line justifyContent=\"center\">\n                  {!freezeParameters && (\n                    <RaisedButton\n                      primary\n                      label={<Trans>Add a parameter</Trans>}\n                      onClick={this._addParameter}\n                    />\n                  )}\n                </Line>\n              </div>\n            </Line>\n            {helpPagePath ? (\n              <Line>\n                <HelpButton helpPagePath={helpPagePath} />\n              </Line>\n            ) : (\n              <Spacer />\n            )}\n          </Column>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport {\n  enumerateObjectTypes,\n  type EnumeratedObjectMetadata,\n} from '../ObjectsList/EnumerateObjects';\n\ntype Props = {|\n  project: gdProject,\n  floatingLabelText?: React.Node,\n  value: string,\n  onChange: string => void,\n  disabled?: boolean,\n  allowedObjectTypes?: ?Array<string>,\n|};\ntype State = {|\n  objectMetadata: Array<EnumeratedObjectMetadata>,\n|};\n\nexport default class ObjectTypeSelector extends React.Component<Props, State> {\n  state = {\n    objectMetadata: enumerateObjectTypes(this.props.project),\n  };\n\n  render() {\n    const {\n      disabled,\n      value,\n      onChange,\n      floatingLabelText,\n      allowedObjectTypes,\n    } = this.props;\n    const { objectMetadata } = this.state;\n\n    const isDisabled = (type: string) => {\n      if (!allowedObjectTypes) return false;\n\n      return allowedObjectTypes.indexOf(type) === -1;\n    };\n\n    return (\n      <SelectField\n        floatingLabelText={floatingLabelText || <Trans>Object type</Trans>}\n        floatingLabelFixed\n        value={value}\n        onChange={(e, i, value) => {\n          onChange(value);\n        }}\n        disabled={disabled}\n        fullWidth\n      >\n        <MenuItem\n          value=\"\"\n          primaryText={<Trans>Any object</Trans>}\n          disabled={isDisabled('')}\n        />\n        {objectMetadata.map((metadata: EnumeratedObjectMetadata) => {\n          if (metadata.name === '') {\n            // Base object is an \"abstract\" object\n            return null;\n          }\n\n          return (\n            <MenuItem\n              key={metadata.name}\n              value={metadata.name}\n              primaryText={metadata.fullName}\n              disabled={isDisabled(metadata.name)}\n            />\n          );\n        })}\n      </SelectField>\n    );\n  }\n}\n","// @flow\nimport { mapFor } from '../Utils/MapFor';\nimport flatten from 'lodash/flatten';\n\nexport type EnumeratedBehaviorMetadata = {|\n  extension: gdPlatformExtension,\n  behaviorMetadata: gdBehaviorMetadata,\n  type: string,\n  objectType: string,\n  defaultName: string,\n  fullName: string,\n  description: string,\n  iconFilename: string,\n|};\n\nexport const enumerateBehaviorsMetadata = (\n  platform: gdPlatform,\n  project: gdProject\n): Array<EnumeratedBehaviorMetadata> => {\n  const extensionsList = platform.getAllPlatformExtensions();\n\n  return flatten(\n    mapFor(0, extensionsList.size(), i => {\n      const extension = extensionsList.at(i);\n\n      return extension\n        .getBehaviorsTypes()\n        .toJSArray()\n        .map(behaviorType => ({\n          behaviorType,\n          behaviorMetadata: extension.getBehaviorMetadata(behaviorType),\n        }))\n        .map(({ behaviorType, behaviorMetadata }) => ({\n          extension,\n          behaviorMetadata,\n          type: behaviorType,\n          defaultName: behaviorMetadata.getDefaultName(),\n          fullName: behaviorMetadata.getFullName(),\n          description: behaviorMetadata.getDescription(),\n          iconFilename: behaviorMetadata.getIconFilename(),\n          objectType: behaviorMetadata.getObjectType(),\n        }));\n    })\n  );\n};\n\nexport const filterEnumeratedBehaviorMetadata = (\n  list: Array<EnumeratedBehaviorMetadata>,\n  searchText: string\n): Array<EnumeratedBehaviorMetadata> => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter(enumerateBehaviorsMetadata => {\n    return (\n      enumerateBehaviorsMetadata.fullName\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1 ||\n      enumerateBehaviorsMetadata.description\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n    );\n  });\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport { Column, Line, Spacer } from '../../UI/Grid';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { mapVector } from '../../Utils/MapFor';\nimport HelpButton from '../../UI/HelpButton';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport { isBehaviorLifecycleFunction } from '../../EventsFunctionsExtensionsLoader/MetadataDeclarationHelpers';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { getParametersIndexOffset } from '../../EventsFunctionsExtensionsLoader';\n\nconst gd = global.gd;\n\ntype Props = {|\n  eventsFunction: gdEventsFunction,\n  eventsBasedBehavior: ?gdEventsBasedBehavior,\n  helpPagePath?: string,\n  onConfigurationUpdated?: () => void,\n  renderConfigurationHeader?: () => React.Node,\n  freezeEventsFunctionType?: boolean,\n|};\n\ntype State = {||};\n\nconst styles = {\n  icon: {\n    width: 32,\n    height: 32,\n    marginRight: 8,\n  },\n};\n\nconst getSentenceErrorText = (\n  i18n: I18nType,\n  eventsBasedBehavior: ?gdEventsBasedBehavior,\n  eventsFunction: gdEventsFunction\n) => {\n  const sentence = eventsFunction.getSentence();\n  if (!sentence)\n    return i18n._(\n      t`Enter the sentence that will be displayed in the events sheet`\n    );\n\n  const parametersIndexOffset = getParametersIndexOffset(!!eventsBasedBehavior);\n\n  const missingParameters = mapVector(\n    eventsFunction.getParameters(),\n    (parameter, index) => {\n      if (gd.ParameterMetadata.isBehavior(parameter.getType())) {\n        return null; // Behaviors are usually not shown in sentences.\n      }\n\n      const expectedString = `_PARAM${index + parametersIndexOffset}_`;\n      if (sentence.indexOf(expectedString) === -1) return expectedString;\n\n      return null;\n    }\n  ).filter(Boolean);\n\n  if (missingParameters.length) {\n    return (\n      i18n._(t`The sentence is probably missing this/these parameter(s):`) +\n      missingParameters.join(', ')\n    );\n  }\n\n  return undefined;\n};\n\nexport default class EventsFunctionPropertiesEditor extends React.Component<\n  Props,\n  State\n> {\n  render() {\n    const {\n      eventsFunction,\n      freezeEventsFunctionType,\n      onConfigurationUpdated,\n      helpPagePath,\n      renderConfigurationHeader,\n      eventsBasedBehavior,\n    } = this.props;\n\n    const type = eventsFunction.getFunctionType();\n    const isABehaviorLifecycleFunction =\n      !!eventsBasedBehavior &&\n      isBehaviorLifecycleFunction(eventsFunction.getName());\n    if (isABehaviorLifecycleFunction) {\n      return (\n        <EmptyMessage>\n          This is a \"lifecycle method\". It will be called automatically by the\n          game engine.\n        </EmptyMessage>\n      );\n    }\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Column>\n            {renderConfigurationHeader ? renderConfigurationHeader() : null}\n            <Line alignItems=\"center\">\n              <img src=\"res/function32.png\" alt=\"\" style={styles.icon} />\n              <Column expand>\n                <SelectField\n                  value={type}\n                  fullWidth\n                  disabled={!!freezeEventsFunctionType}\n                  onChange={(e, i, value) => {\n                    eventsFunction.setFunctionType(value);\n                    if (onConfigurationUpdated) onConfigurationUpdated();\n                    this.forceUpdate();\n                  }}\n                >\n                  <MenuItem\n                    value={gd.EventsFunction.Action}\n                    primaryText={<Trans>Action</Trans>}\n                  />\n                  <MenuItem\n                    value={gd.EventsFunction.Condition}\n                    primaryText={<Trans>Condition</Trans>}\n                  />\n                  <MenuItem\n                    value={gd.EventsFunction.Expression}\n                    primaryText={<Trans>Expression</Trans>}\n                  />\n                  <MenuItem\n                    value={gd.EventsFunction.StringExpression}\n                    primaryText={<Trans>String Expression</Trans>}\n                  />\n                </SelectField>\n              </Column>\n              <Column expand>\n                <SemiControlledTextField\n                  commitOnBlur\n                  hintText={<Trans>Full name displayed in editor</Trans>}\n                  value={eventsFunction.getFullName()}\n                  onChange={text => {\n                    eventsFunction.setFullName(text);\n                    if (onConfigurationUpdated) onConfigurationUpdated();\n                    this.forceUpdate();\n                  }}\n                  fullWidth\n                />\n              </Column>\n            </Line>\n            <Line noMargin>\n              <SemiControlledTextField\n                commitOnBlur\n                hintText={<Trans>Description, displayed in editor</Trans>}\n                fullWidth\n                multiLine\n                value={eventsFunction.getDescription()}\n                onChange={text => {\n                  eventsFunction.setDescription(text);\n                  if (onConfigurationUpdated) onConfigurationUpdated();\n                  this.forceUpdate();\n                }}\n              />\n            </Line>\n            <Line>\n              {type === gd.EventsFunction.Action ||\n              type === gd.EventsFunction.Condition ? (\n                <SemiControlledTextField\n                  commitOnBlur\n                  hintText={\n                    <Trans>\n                      Sentence in Events Sheet (write _PARAMx_ for parameters,\n                      e.g: _PARAM1_)\n                    </Trans>\n                  }\n                  fullWidth\n                  value={eventsFunction.getSentence()}\n                  onChange={text => {\n                    eventsFunction.setSentence(text);\n                    if (onConfigurationUpdated) onConfigurationUpdated();\n                    this.forceUpdate();\n                  }}\n                  errorText={getSentenceErrorText(\n                    i18n,\n                    eventsBasedBehavior,\n                    eventsFunction\n                  )}\n                />\n              ) : null}\n            </Line>\n            {helpPagePath ? (\n              <Line>\n                <HelpButton helpPagePath={helpPagePath} />\n              </Line>\n            ) : (\n              <Spacer />\n            )}\n          </Column>\n        )}\n      </I18n>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport Close from 'material-ui/svg-icons/navigation/close';\nimport { MosaicWindowContext, MosaicContext } from 'react-mosaic-component';\n\nconst styles = {\n  container: {\n    padding: 0,\n    width: 32,\n    height: 32,\n  },\n};\n\nexport default class CloseButton extends Component {\n  render() {\n    return (\n      <MosaicContext.Consumer>\n        {({ mosaicActions }) => (\n          <MosaicWindowContext.Consumer>\n            {({ mosaicWindowActions }) => (\n              <IconButton\n                onClick={() => {\n                  mosaicActions.remove(mosaicWindowActions.getPath());\n                }}\n                style={styles.container}\n              >\n                <Close color=\"white\" />\n              </IconButton>\n            )}\n          </MosaicWindowContext.Consumer>\n        )}\n      </MosaicContext.Consumer>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport EventsFunctionsExtensionEditor from '../../EventsFunctionsExtensionEditor';\nimport BaseEditor from './BaseEditor';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n  },\n};\n\nexport default class EventsFunctionsExtensionEditorWrapper extends BaseEditor {\n  editor: ?EventsFunctionsExtensionEditor;\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  shouldComponentUpdate(nextProps: *) {\n    // This optimization is a bit more cautious than the one is BaseEditor,\n    // to still be notified when isActive goes from true to false.\n    if (!this.props.isActive && !nextProps.isActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  componentDidUpdate(prevProps: *) {\n    if (prevProps.isActive && !this.props.isActive) {\n      this.props.onLoadEventsFunctionsExtensions();\n    }\n  }\n\n  _onBehaviorEdited = () => {\n    // Immediately trigger the reload/regeneration of extensions\n    // as a change in the properties of a behavior can create changes\n    // in actions/conditions/expressions to manipulate these properties.\n    this.props.onLoadEventsFunctionsExtensions();\n  };\n\n  getEventsFunctionsExtension(): ?gdEventsFunctionsExtension {\n    const { project, eventsFunctionsExtensionName } = this.props;\n    if (\n      !project.hasEventsFunctionsExtensionNamed(eventsFunctionsExtensionName)\n    ) {\n      return null;\n    }\n    return project.getEventsFunctionsExtension(eventsFunctionsExtensionName);\n  }\n\n  selectEventsFunctionByName(\n    eventsFunctionName: string,\n    behaviorName: ?string\n  ) {\n    if (this.editor)\n      this.editor.selectEventsFunctionByName(eventsFunctionName, behaviorName);\n  }\n\n  render() {\n    const { project, eventsFunctionsExtensionName } = this.props;\n    const eventsFunctionsExtension = this.getEventsFunctionsExtension();\n\n    if (!eventsFunctionsExtension) {\n      //TODO: Error component\n      return (\n        <div>No extension called {eventsFunctionsExtensionName} found!</div>\n      );\n    }\n\n    return (\n      <div style={styles.container}>\n        <EventsFunctionsExtensionEditor\n          key={eventsFunctionsExtension.ptr}\n          project={project}\n          eventsFunctionsExtension={eventsFunctionsExtension}\n          setToolbar={this.props.setToolbar}\n          resourceSources={this.props.resourceSources}\n          onChooseResource={this.props.onChooseResource}\n          resourceExternalEditors={this.props.resourceExternalEditors}\n          openInstructionOrExpression={this.props.openInstructionOrExpression}\n          onCreateEventsFunction={this.props.onCreateEventsFunction}\n          initiallyFocusedFunctionName={this.props.initiallyFocusedFunctionName}\n          initiallyFocusedBehaviorName={this.props.initiallyFocusedBehaviorName}\n          onBehaviorEdited={this._onBehaviorEdited}\n          ref={editor => (this.editor = editor)}\n        />\n      </div>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport ObjectGroupEditor from '.';\nimport Dialog from '../UI/Dialog';\nimport { withSerializableObject } from '../Utils/SerializableObjectEditorContainer';\nconst gd = global.gd;\n\nexport class ObjectGroupEditorDialog extends Component {\n  render() {\n    const { project, group } = this.props;\n    if (!group) return null;\n\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        keyboardFocused\n        onClick={this.props.onCancel}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary\n        keyboardFocused\n        onClick={this.props.onApply}\n      />,\n    ];\n\n    return (\n      <Dialog\n        key={group.ptr}\n        actions={actions}\n        autoScrollBodyContent\n        noMargin\n        modal\n        onRequestClose={this.props.onCancel}\n        open={this.props.open}\n        title={`Edit ${group.getName()} group`}\n      >\n        <ObjectGroupEditor\n          project={project}\n          group={group}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n          onSizeUpdated={\n            () =>\n              this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n          }\n        />\n      </Dialog>\n    );\n  }\n}\n\nexport default withSerializableObject(ObjectGroupEditorDialog, {\n  newObjectCreator: () => new gd.ObjectGroup(),\n  propName: 'group',\n});\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport React from 'react';\nimport EventsSheet from '../../EventsSheet';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { serializeToJSObject } from '../../Utils/Serializer';\nimport PlaceholderMessage from '../../UI/PlaceholderMessage';\nimport BaseEditor from './BaseEditor';\nimport LayoutChooserDialog from './LayoutChooserDialog';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n  },\n};\n\nexport default class ExternalEventsEditor extends BaseEditor {\n  editor: ?EventsSheet;\n\n  state = {\n    layoutChooserOpen: false,\n  };\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  getSerializedElements() {\n    const externalEvents = this.getExternalEvents();\n    const layout = this.getLayout();\n    if (!externalEvents) return {};\n\n    return {\n      ...BaseEditor.getLayoutSerializedElements(layout),\n      events: serializeToJSObject(externalEvents),\n    };\n  }\n\n  getExternalEvents(): ?gdExternalEvents {\n    const { project, externalEventsName } = this.props;\n    if (!project.hasExternalEventsNamed(externalEventsName)) {\n      return null;\n    }\n    return project.getExternalEvents(externalEventsName);\n  }\n\n  getLayout() {\n    const { project } = this.props;\n\n    const externalEvents = this.getExternalEvents();\n    if (!externalEvents) return null;\n\n    const layoutName = externalEvents.getAssociatedLayout();\n    if (!project.hasLayoutNamed(layoutName)) {\n      return null;\n    }\n    return project.getLayout(layoutName);\n  }\n\n  setAssociatedLayout = (layoutName: string) => {\n    const externalEvents = this.getExternalEvents();\n    if (!externalEvents) return;\n\n    externalEvents.setAssociatedLayout(layoutName);\n    this.setState(\n      {\n        layoutChooserOpen: false,\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openLayoutChooser = () => {\n    this.setState({\n      layoutChooserOpen: true,\n    });\n  };\n\n  render() {\n    const { project, externalEventsName } = this.props;\n    const externalEvents = this.getExternalEvents();\n    const layout = this.getLayout();\n\n    if (!externalEvents) {\n      //TODO: Error component\n      return <div>No external events called {externalEventsName} found!</div>;\n    }\n\n    return (\n      <div style={styles.container}>\n        {layout && (\n          <EventsSheet\n            {...this.props}\n            ref={editor => (this.editor = editor)}\n            project={project}\n            scope={{\n              layout,\n            }}\n            globalObjectsContainer={project}\n            objectsContainer={layout}\n            events={externalEvents.getEvents()}\n            onPreview={() => this.props.onPreview(project, layout)}\n            onOpenSettings={this.openLayoutChooser}\n            onOpenExternalEvents={this.props.onOpenExternalEvents}\n            resourceSources={this.props.resourceSources}\n            onChooseResource={this.props.onChooseResource}\n            resourceExternalEditors={this.props.resourceExternalEditors}\n            openInstructionOrExpression={this.props.openInstructionOrExpression}\n          />\n        )}\n        {!layout && (\n          <PlaceholderMessage>\n            To edit the external events, choose the scene in which it will be\n            included:\n            <RaisedButton\n              label={<Trans>Choose the scene</Trans>}\n              primary\n              onClick={this.openLayoutChooser}\n            />\n          </PlaceholderMessage>\n        )}\n        <LayoutChooserDialog\n          title={<Trans>Choose the associated scene</Trans>}\n          helpText=\"You still need to add a Link event in the scene to import the external events\"\n          open={this.state.layoutChooserOpen}\n          project={project}\n          onChoose={this.setAssociatedLayout}\n          onClose={() => this.setState({ layoutChooserOpen: false })}\n        />\n      </div>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport { RadioButton, RadioButtonGroup } from 'material-ui/RadioButton';\nimport Dialog from '../../UI/Dialog';\nimport { mapFor } from '../../Utils/MapFor';\n\nexport default class LayoutChooserDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedLayoutName: props.layoutName,\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.layoutName !== this.props.layoutName) {\n      this.setState({\n        selectedLayoutName: newProps.layoutName,\n      });\n    }\n  }\n\n  chooseLayout(layoutName) {\n    this.setState({\n      selectedLayoutName: layoutName,\n    });\n  }\n\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={this.props.onClose}\n      />,\n      <FlatButton\n        label={<Trans>Choose</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={() => this.props.onChoose(this.state.selectedLayoutName)}\n        disabled={!this.state.selectedLayoutName}\n      />,\n    ];\n\n    const { project } = this.props;\n    const { selectedLayoutName } = this.state;\n    const layoutNames = mapFor(0, project.getLayoutsCount(), i => {\n      return project.getLayoutAt(i).getName();\n    });\n\n    return (\n      <Dialog\n        actions={actions}\n        open={this.props.open}\n        title={this.props.title}\n        onRequestClose={this.props.onClose}\n        autoScrollBodyContent={true}\n        contentStyle={{ width: '350px' }}\n      >\n        {this.props.helpText && <p>{this.props.helpText}</p>}\n        <RadioButtonGroup\n          name=\"associated-layout\"\n          valueSelected={selectedLayoutName}\n          onChange={(e, layoutName) => this.chooseLayout(layoutName)}\n        >\n          {layoutNames.map(name => (\n            <RadioButton value={name} label={name} key={name} />\n          ))}\n        </RadioButtonGroup>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport SceneEditor from '../../SceneEditor';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../../Utils/Serializer';\nimport PlaceholderMessage from '../../UI/PlaceholderMessage';\nimport BaseEditor from './BaseEditor';\nimport LayoutChooserDialog from './LayoutChooserDialog';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n  },\n};\n\nexport default class ExternalLayoutEditor extends BaseEditor {\n  editor: ?SceneEditor;\n  state = {\n    layoutChooserOpen: false,\n  };\n\n  shouldComponentUpdate(nextProps: *) {\n    // This optimization is a bit more cautious than the one is BaseEditor, to still allow\n    // children, and in particular SceneEditor and InstancesEditor, to be notified when isActive\n    // goes from true to false (in which case PIXI rendering is halted). If isActive was false\n    // and remains false, it's safe to stop update here (PIXI rendering is already halted).\n    if (!this.props.isActive && !nextProps.isActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  getSerializedElements() {\n    const externalLayout = this.getExternalLayout();\n    const layout = this.getLayout();\n    if (!externalLayout || !layout) return {};\n\n    return {\n      ...BaseEditor.getLayoutSerializedElements(layout),\n      instances: serializeToJSObject(externalLayout.getInitialInstances()),\n      uiSettings: this.editor ? this.editor.getUiSettings() : {},\n    };\n  }\n\n  getExternalLayout(): ?gdExternalLayout {\n    const { project, externalLayoutName } = this.props;\n    if (!project.hasExternalLayoutNamed(externalLayoutName)) {\n      return null;\n    }\n    return project.getExternalLayout(externalLayoutName);\n  }\n\n  getLayout(): ?gdLayout {\n    const { project } = this.props;\n\n    const externalLayout = this.getExternalLayout();\n    if (!externalLayout) return null;\n\n    const layoutName = externalLayout.getAssociatedLayout();\n    if (!project.hasLayoutNamed(layoutName)) {\n      return null;\n    }\n    return project.getLayout(layoutName);\n  }\n\n  setAssociatedLayout = (layoutName: string) => {\n    const externalLayout = this.getExternalLayout();\n    if (!externalLayout) return;\n\n    externalLayout.setAssociatedLayout(layoutName);\n    this.setState(\n      {\n        layoutChooserOpen: false,\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openLayoutChooser = () => {\n    this.setState({\n      layoutChooserOpen: true,\n    });\n  };\n\n  saveUiSettings = () => {\n    const layout = this.getExternalLayout();\n    const editor = this.editor;\n\n    if (editor && layout) {\n      unserializeFromJSObject(\n        layout.getAssociatedSettings(),\n        editor.getUiSettings()\n      );\n    }\n  };\n\n  render() {\n    const { project, externalLayoutName, isActive } = this.props;\n    const externalLayout = this.getExternalLayout();\n    const layout = this.getLayout();\n\n    if (!externalLayout) {\n      //TODO: Error component\n      return <div>No external layout called {externalLayoutName} found!</div>;\n    }\n\n    return (\n      <div style={styles.container}>\n        {layout && (\n          <SceneEditor\n            {...this.props}\n            ref={editor => (this.editor = editor)}\n            project={project}\n            layout={layout}\n            initialInstances={externalLayout.getInitialInstances()}\n            initialUiSettings={serializeToJSObject(\n              externalLayout.getAssociatedSettings()\n            )}\n            onPreview={options =>\n              this.props.onPreview(project, layout, externalLayout, options)\n            }\n            onOpenDebugger={this.props.onOpenDebugger}\n            onOpenMoreSettings={this.openLayoutChooser}\n            isActive={isActive}\n          />\n        )}\n        {!layout && (\n          <PlaceholderMessage>\n            To edit the external layout, choose the scene in which it will be\n            included:\n            <RaisedButton\n              label={<Trans>Choose the scene</Trans>}\n              primary\n              onClick={this.openLayoutChooser}\n            />\n          </PlaceholderMessage>\n        )}\n        <LayoutChooserDialog\n          title={<Trans>Choose the associated scene</Trans>}\n          open={this.state.layoutChooserOpen}\n          project={project}\n          onChoose={this.setAssociatedLayout}\n          onClose={() => this.setState({ layoutChooserOpen: false })}\n        />\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\nimport { t } from '@lingui/macro';\n\nimport * as React from 'react';\nimport uniq from 'lodash/uniq';\nimport ObjectsList from '../ObjectsList';\nimport ObjectGroupsList from '../ObjectGroupsList';\nimport ObjectsRenderingService from '../ObjectsRendering/ObjectsRenderingService';\nimport InstancesEditor from '../InstancesEditor';\nimport InstancePropertiesEditor from '../InstancesEditor/InstancePropertiesEditor';\nimport InstancesList from '../InstancesEditor/InstancesList';\nimport LayersList from '../LayersList';\nimport LayerRemoveDialog from '../LayersList/LayerRemoveDialog';\nimport VariablesEditorDialog from '../VariablesList/VariablesEditorDialog';\nimport ObjectEditorDialog from '../ObjectEditor/ObjectEditorDialog';\nimport ObjectGroupEditorDialog from '../ObjectGroupEditor/ObjectGroupEditorDialog';\nimport InstancesSelection from './InstancesSelection';\nimport SetupGridDialog from './SetupGridDialog';\nimport ScenePropertiesDialog from './ScenePropertiesDialog';\nimport Toolbar from './Toolbar';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport Clipboard from '../Utils/Clipboard';\nimport { passFullSize } from '../UI/FullSizeMeasurer';\nimport { addScrollbars } from '../InstancesEditor/ScrollbarContainer';\nimport { type PreviewOptions } from '../Export/PreviewLauncher.flow';\nimport Drawer from 'material-ui/Drawer';\nimport IconButton from 'material-ui/IconButton';\nimport NavigationClose from 'material-ui/svg-icons/navigation/close';\nimport EditorMosaic, { MosaicWindow } from '../UI/EditorMosaic';\nimport EditorBar from '../UI/EditorBar';\nimport InfoBar from '../UI/Messages/InfoBar';\nimport ContextMenu from '../UI/Menu/ContextMenu';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { shortenString } from '../Utils/StringHelpers';\nimport { roundPosition } from '../Utils/GridHelpers';\nimport getObjectByName from '../Utils/GetObjectByName';\n\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport {\n  type HistoryState,\n  undo,\n  redo,\n  canUndo,\n  canRedo,\n  getHistoryInitialState,\n  saveToHistory,\n} from '../Utils/History';\nimport PixiResourcesLoader from '../ObjectsRendering/PixiResourcesLoader';\nimport {\n  type ObjectWithContext,\n  type GroupWithContext,\n  enumerateObjects,\n} from '../ObjectsList/EnumerateObjects';\nimport TagsButton from '../UI/EditorMosaic/TagsButton';\nimport CloseButton from '../UI/EditorMosaic/CloseButton';\nimport { buildTagsMenuTemplate, getTagsFromString } from '../Utils/TagsHelper';\nconst gd = global.gd;\n\nconst INSTANCES_CLIPBOARD_KIND = 'Instances';\n\nconst FullSizeInstancesEditor = passFullSize(addScrollbars(InstancesEditor), {\n  useFlex: true,\n});\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n};\n\ntype Props = {|\n  initialInstances: gdInitialInstancesContainer,\n  initialUiSettings: Object,\n  layout: gdLayout,\n  onEditObject: (object: gdObject) => void,\n  onOpenDebugger: () => void,\n  onOpenMoreSettings: () => void,\n  onPreview: (options: PreviewOptions) => void,\n  project: gdProject,\n  setToolbar: (?React.Node) => void,\n  showNetworkPreviewButton: boolean,\n  showObjectsList: boolean,\n  showPreviewButton: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  isActive: boolean,\n|};\n\ntype State = {|\n  objectsListOpen: boolean,\n  instancesListOpen: boolean,\n  setupGridOpen: boolean,\n  scenePropertiesDialogOpen: boolean,\n  layersListOpen: boolean,\n  layerRemoveDialogOpen: boolean,\n  onCloseLayerRemoveDialog: ?(doRemove: boolean, newLayer: string) => void,\n  layerRemoved: ?string,\n  editedObjectWithContext: ?ObjectWithContext,\n  variablesEditedInstance: ?gdInitialInstance,\n  variablesEditedObject: ?gdObject,\n  selectedObjectNames: Array<string>,\n  newObjectInstancePosition: ?[number, number],\n\n  editedGroup: ?gdObjectGroup,\n\n  // State for \"drag'n'dropping\" from the objects list to the instances editor:\n  objectDraggedFromList: ?gdObject,\n  canDropDraggedObject: boolean,\n\n  uiSettings: Object,\n  history: HistoryState,\n\n  showObjectsListInfoBar: boolean,\n  layoutVariablesDialogOpen: boolean,\n  showPropertiesInfoBar: boolean,\n\n  // State for tags of objects:\n  selectedObjectTags: Array<string>,\n|};\n\ntype CopyCutPasteOptions = { useLastCursorPosition?: boolean };\n\nexport default class SceneEditor extends React.Component<Props, State> {\n  static defaultProps = {\n    showObjectsList: true,\n    setToolbar: () => {},\n  };\n\n  zOrderFinder: ?gd.HighestZOrderFinder;\n  instancesSelection: InstancesSelection;\n  editor: ?InstancesEditor;\n  contextMenu: ?ContextMenu;\n  editorMosaic: ?EditorMosaic;\n  _objectsList: ?ObjectsList;\n  _propertiesEditor: ?InstancePropertiesEditor;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.instancesSelection = new InstancesSelection();\n    this.state = {\n      objectsListOpen: false,\n      instancesListOpen: false,\n      setupGridOpen: false,\n      scenePropertiesDialogOpen: false,\n      layersListOpen: false,\n      layerRemoveDialogOpen: false,\n      onCloseLayerRemoveDialog: null,\n      layerRemoved: null,\n      editedObjectWithContext: null,\n      variablesEditedInstance: null,\n      variablesEditedObject: null,\n      selectedObjectNames: [],\n      newObjectInstancePosition: null,\n      editedGroup: null,\n\n      // State for \"drag'n'dropping\" from the objects list to the instances editor:\n      objectDraggedFromList: null,\n      canDropDraggedObject: false,\n\n      uiSettings: props.initialUiSettings,\n      history: getHistoryInitialState(props.initialInstances, {\n        historyMaxSize: 50,\n      }),\n\n      showObjectsListInfoBar: false,\n      layoutVariablesDialogOpen: false,\n      showPropertiesInfoBar: false,\n\n      selectedObjectTags: [],\n    };\n  }\n\n  componentWillMount() {\n    this.zOrderFinder = new gd.HighestZOrderFinder();\n  }\n\n  getUiSettings() {\n    return this.state.uiSettings;\n  }\n\n  updateToolbar() {\n    this.props.setToolbar(\n      <Toolbar\n        showPreviewButton={this.props.showPreviewButton}\n        onPreview={() => this.props.onPreview({})}\n        showNetworkPreviewButton={this.props.showNetworkPreviewButton}\n        onNetworkPreview={() => this.props.onPreview({ networkPreview: true })}\n        onOpenDebugger={() => {\n          this.props.onOpenDebugger();\n          this.props.onPreview({});\n        }}\n        showObjectsList={this.props.showObjectsList}\n        instancesSelection={this.instancesSelection}\n        openObjectsList={this.openObjectsList}\n        openObjectGroupsList={this.openObjectGroupsList}\n        openProperties={this.openProperties}\n        deleteSelection={this.deleteSelection}\n        toggleInstancesList={this.toggleInstancesList}\n        toggleLayersList={this.toggleLayersList}\n        toggleWindowMask={this.toggleWindowMask}\n        toggleGrid={this.toggleGrid}\n        isGridShown={() => !!this.state.uiSettings.grid}\n        isWindowMaskShown={() => !!this.state.uiSettings.windowMask}\n        openSetupGrid={this.openSetupGrid}\n        setZoomFactor={this.setZoomFactor}\n        centerView={this.centerView}\n        canUndo={canUndo(this.state.history)}\n        canRedo={canRedo(this.state.history)}\n        undo={this.undo}\n        redo={this.redo}\n        zoomIn={this.zoomIn}\n        zoomOut={this.zoomOut}\n        onOpenSettings={this.openSceneProperties}\n      />\n    );\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (\n      this.props.layout !== nextProps.layout ||\n      this.props.initialInstances !== nextProps.initialInstances ||\n      this.props.project !== nextProps.project\n    ) {\n      this.instancesSelection.clearSelection();\n      this.openSetupGrid(false);\n      this.editInstanceVariables(null);\n      this.openSceneProperties(false);\n    }\n  }\n\n  openObjectsList = () => {\n    if (!this.editorMosaic) return;\n    if (!this.editorMosaic.openEditor('objects-list')) {\n      this.setState({\n        showObjectsListInfoBar: true,\n      });\n    }\n  };\n\n  openProperties = () => {\n    if (!this.editorMosaic) return;\n    if (!this.editorMosaic.openEditor('properties')) {\n      this.setState({\n        showPropertiesInfoBar: true,\n      });\n    }\n  };\n\n  openObjectGroupsList = () => {\n    if (!this.editorMosaic) return;\n    this.editorMosaic.openEditor('object-groups-list');\n  };\n\n  toggleInstancesList = () => {\n    this.setState({ instancesListOpen: !this.state.instancesListOpen });\n  };\n\n  toggleLayersList = () => {\n    this.setState({ layersListOpen: !this.state.layersListOpen });\n  };\n\n  toggleWindowMask = () => {\n    this.setState({\n      uiSettings: {\n        ...this.state.uiSettings,\n        windowMask: !this.state.uiSettings.windowMask,\n      },\n    });\n  };\n\n  toggleGrid = () => {\n    this.setState({\n      uiSettings: {\n        ...this.state.uiSettings,\n        grid: !this.state.uiSettings.grid,\n        snap: !this.state.uiSettings.grid,\n      },\n    });\n  };\n\n  openSetupGrid = (open: boolean = true) => {\n    this.setState({ setupGridOpen: open });\n  };\n\n  openSceneProperties = (open: boolean = true) => {\n    this.setState({ scenePropertiesDialogOpen: open });\n  };\n\n  openObjectEditor = () => {\n    if (!this.instancesSelection.hasSelectedInstances()) {\n      return;\n    }\n    const selectedInstanceObjectName = this.instancesSelection\n      .getSelectedInstances()[0]\n      .getObjectName();\n    this.editObjectByName(selectedInstanceObjectName);\n  };\n\n  editInstanceVariables = (instance: ?gdInitialInstance) => {\n    this.setState({ variablesEditedInstance: instance });\n  };\n\n  editObjectVariables = (object: ?gdObject) => {\n    this.setState({ variablesEditedObject: object });\n  };\n\n  editLayoutVariables = (open: boolean = true) => {\n    this.setState({ layoutVariablesDialogOpen: open });\n  };\n\n  editObject = (editedObject: ?gdObject) => {\n    const { project } = this.props;\n    if (editedObject) {\n      this.setState({\n        editedObjectWithContext: {\n          object: editedObject,\n          global: project.hasObjectNamed(editedObject.getName()),\n        },\n      });\n    } else {\n      this.setState({\n        editedObjectWithContext: null,\n      });\n    }\n  };\n\n  editObjectByName = (objectName: string) => {\n    const { project, layout } = this.props;\n    if (layout.hasObjectNamed(objectName))\n      this.editObject(layout.getObject(objectName));\n    else if (project.hasObjectNamed(objectName))\n      this.editObject(project.getObject(objectName));\n  };\n\n  /**\n   * Called when an object is started to be dragged from the object list.\n   * See `_onPointerOverInstancesEditor`, `_onPointerOutInstancesEditor` and\n   * `_onPointerUpInstancesEditor` for the drag'n'drop workflow.\n   */\n  _onStartDraggingObjectFromList = (object: gdObject) => {\n    // \"Hijack\" the name of the object that is dragged in the objects list.\n    // We'll then listen to \"pointer over\" events to see if the object\n    // is the dragged on the instances editor.\n    this.setState({\n      objectDraggedFromList: object,\n    });\n  };\n\n  _onEndDraggingObjectFromList = () => {\n    // If the dragged object is not being dropped on the instances editor,\n    // clear the dragged object so that we don't keep it the state (otherwise\n    // we could think later that a dragging is still occuring when cursor\n    // is over the instances editor).\n    if (!this.state.canDropDraggedObject) {\n      this.setState({\n        objectDraggedFromList: null,\n      });\n    }\n  };\n\n  _onPointerOverInstancesEditor = () => {\n    // If an object is dragged, and cursor is over the instances editor,\n    // mark in the state that we can drop an instance of this object.\n    if (this.state.objectDraggedFromList && !this.state.canDropDraggedObject) {\n      this.setState({\n        canDropDraggedObject: true,\n      });\n    }\n  };\n\n  _onPointerOutInstancesEditor = () => {\n    // If cursor is going out of the instances editor,\n    // mark in the state that we cannot drop an instance anymore.\n    if (this.state.canDropDraggedObject) {\n      this.setState({\n        canDropDraggedObject: false,\n      });\n    }\n  };\n\n  _onPointerUpInstancesEditor = () => {\n    if (this.state.canDropDraggedObject) {\n      if (this.editor) {\n        const cursorPosition = this.editor.getLastCursorPosition();\n\n        if (this.state.objectDraggedFromList)\n          this._addInstance(\n            cursorPosition[0],\n            cursorPosition[1],\n            this.state.objectDraggedFromList.getName()\n          );\n      }\n      // Wait 30ms after dropping the object before reseting the canDropDraggedObject state boolean\n      // to ensure ObjectsList will be prevented to actually move object in the list.\n      setTimeout(\n        () =>\n          this.setState({\n            canDropDraggedObject: false,\n            objectDraggedFromList: null,\n          }),\n        30 // This value is very conservative, and timeout may not be needed at all\n      );\n    }\n  };\n\n  editGroup = (group: ?gdObjectGroup) => {\n    this.setState({ editedGroup: group });\n  };\n\n  setUiSettings = (uiSettings: Object) => {\n    this.setState({\n      uiSettings: {\n        ...this.state.uiSettings,\n        ...uiSettings,\n      },\n    });\n  };\n\n  undo = () => {\n    this.instancesSelection.clearSelection();\n    this.setState(\n      {\n        history: undo(this.state.history, this.props.initialInstances),\n      },\n      () => {\n        // /!\\ Force the instances editor to destroy and mount again the\n        // renderers to avoid keeping any references to existing instances\n        if (this.editor) this.editor.forceRemount();\n        this.updateToolbar();\n      }\n    );\n  };\n\n  redo = () => {\n    this.instancesSelection.clearSelection();\n    this.setState(\n      {\n        history: redo(this.state.history, this.props.initialInstances),\n      },\n      () => {\n        // /!\\ Force the instances editor to destroy and mount again the\n        // renderers to avoid keeping any references to existing instances\n        if (this.editor) this.editor.forceRemount();\n        this.updateToolbar();\n      }\n    );\n  };\n\n  _onObjectSelected = (selectedObjectName: string) => {\n    if (!selectedObjectName) {\n      this.setState({\n        selectedObjectNames: [],\n      });\n    } else {\n      this.setState({\n        selectedObjectNames: [selectedObjectName],\n      });\n    }\n  };\n\n  _createNewObjectAndInstanceUnderCursor = () => {\n    if (!this.editor) {\n      return;\n    }\n\n    // Remember where to create the instance, when the object will be created\n    this.setState({\n      newObjectInstancePosition: this.editor.getLastCursorPosition(),\n    });\n\n    if (this._objectsList)\n      this._objectsList.setState({ newObjectDialogOpen: true });\n  };\n\n  _onAddInstanceUnderCursor = () => {\n    if (!this.state.selectedObjectNames.length || !this.editor) {\n      return;\n    }\n\n    const objectSelected = this.state.selectedObjectNames[0];\n    const cursorPosition = this.editor.getLastCursorPosition();\n    this._addInstance(cursorPosition[0], cursorPosition[1], objectSelected);\n    this.setState({\n      selectedObjectNames: [objectSelected],\n    });\n  };\n\n  _addInstance = (x: number, y: number, objectName: string) => {\n    if (!objectName) return;\n\n    const instance = this.props.initialInstances.insertNewInitialInstance();\n    instance.setObjectName(objectName);\n    if (this.state.uiSettings.grid) {\n      x = roundPosition(\n        x,\n        this.state.uiSettings.gridWidth,\n        this.state.uiSettings.gridOffsetX\n      );\n      y = roundPosition(\n        y,\n        this.state.uiSettings.gridHeight,\n        this.state.uiSettings.gridOffsetY\n      );\n    }\n    instance.setX(x);\n    instance.setY(y);\n    this.props.initialInstances.iterateOverInstances(this.zOrderFinder);\n    if (this.zOrderFinder) {\n      instance.setZOrder(this.zOrderFinder.getHighestZOrder() + 1);\n    }\n    this.setState(\n      {\n        selectedObjectNames: [],\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  _onInstancesSelected = (instances: Array<gdInitialInstance>) => {\n    this.setState({\n      selectedObjectNames: uniq(\n        instances.map(instance => instance.getObjectName())\n      ),\n    });\n    this.forceUpdatePropertiesEditor();\n    this.updateToolbar();\n  };\n\n  _onInstancesMoved = (instances: Array<gdInitialInstance>) => {\n    this.setState(\n      {\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => this.forceUpdatePropertiesEditor()\n    );\n  };\n\n  _onInstancesResized = (instances: Array<gdInitialInstance>) => {\n    this.setState(\n      {\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => this.forceUpdatePropertiesEditor()\n    );\n  };\n\n  _onInstancesRotated = (instances: Array<gdInitialInstance>) => {\n    this.setState(\n      {\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => this.forceUpdatePropertiesEditor()\n    );\n  };\n\n  _onInstancesModified = (instances: Array<gdInitialInstance>) => {\n    this.forceUpdate();\n    //TODO: Save for redo with debounce (and cancel on unmount)\n  };\n\n  _onSelectInstances = (\n    instances: Array<gdInitialInstance>,\n    centerView: boolean = true\n  ) => {\n    this.instancesSelection.selectInstances(instances, false);\n\n    if (centerView) {\n      if (this.editor) this.editor.centerViewOn(instances);\n    }\n    this.forceUpdatePropertiesEditor();\n    this.updateToolbar();\n  };\n\n  /**\n   * Create an instance of the given object, at the position\n   * previously chosen (see `newObjectInstancePosition`).\n   */\n  _addNewObjectInstance = (newObjectName: string) => {\n    const { newObjectInstancePosition } = this.state;\n    if (!newObjectInstancePosition) {\n      return;\n    }\n\n    this._addInstance(\n      newObjectInstancePosition[0],\n      newObjectInstancePosition[1],\n      newObjectName\n    );\n    this.setState({ newObjectInstancePosition: null });\n  };\n\n  _onRemoveLayer = (layerName: string, done: boolean => void) => {\n    this.setState({\n      layerRemoveDialogOpen: true,\n      layerRemoved: layerName,\n      onCloseLayerRemoveDialog: (doRemove, newLayer) => {\n        this.setState(\n          {\n            layerRemoveDialogOpen: false,\n          },\n          () => {\n            if (doRemove) {\n              if (newLayer === null) {\n                this.props.initialInstances.removeAllInstancesOnLayer(\n                  layerName\n                );\n              } else {\n                this.props.initialInstances.moveInstancesToLayer(\n                  layerName,\n                  newLayer\n                );\n              }\n            }\n\n            done(doRemove);\n            // /!\\ Force the instances editor to destroy and mount again the\n            // renderers to avoid keeping any references to existing instances\n            if (this.editor) this.editor.forceRemount();\n            this.updateToolbar();\n          }\n        );\n      },\n    });\n  };\n\n  _onRenameLayer = (\n    oldName: string,\n    newName: string,\n    done: boolean => void\n  ) => {\n    this.props.initialInstances.moveInstancesToLayer(oldName, newName);\n    done(true);\n  };\n\n  _onDeleteObject = (\n    objectWithContext: ObjectWithContext,\n    done: boolean => void\n  ) => {\n    const { object, global } = objectWithContext;\n    const { project, layout } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      'Do you want to remove all references to this object in groups and events (actions and conditions using the object)?'\n    );\n\n    if (global) {\n      gd.WholeProjectRefactorer.globalObjectRemoved(\n        project,\n        object.getName(),\n        !!answer\n      );\n    } else {\n      gd.WholeProjectRefactorer.objectRemovedInLayout(\n        project,\n        layout,\n        object.getName(),\n        !!answer\n      );\n    }\n    done(true);\n  };\n\n  _canObjectUseNewName = (\n    objectWithContext: ObjectWithContext,\n    newName: string\n  ) => {\n    const { project, layout } = this.props;\n    const { object } = objectWithContext;\n\n    if (object.getName() === newName) {\n      return true;\n    } else if (\n      layout.hasObjectNamed(newName) ||\n      project.hasObjectNamed(newName)\n    ) {\n      showWarningBox('Another object with this name already exists.');\n      return false;\n    } else if (!gd.Project.validateObjectName(newName)) {\n      showWarningBox(\n        'This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your object name.'\n      );\n      return false;\n    }\n\n    return true;\n  };\n\n  _onRenameEditedObject = (newName: string) => {\n    const { editedObjectWithContext } = this.state;\n\n    if (editedObjectWithContext) {\n      this._onRenameObject(editedObjectWithContext, newName, () => {});\n    }\n  };\n\n  _onRenameObject = (\n    objectWithContext: ObjectWithContext,\n    newName: string,\n    done: boolean => void\n  ) => {\n    const { object, global } = objectWithContext;\n    const { project, layout } = this.props;\n\n    if (!gd.Project.validateObjectName(newName)) {\n      done(false);\n      return;\n    }\n\n    // Avoid triggering renaming refactoring if name has not really changed\n    if (object.getName() !== newName) {\n      if (global) {\n        gd.WholeProjectRefactorer.globalObjectRenamed(\n          project,\n          object.getName(),\n          newName\n        );\n      } else {\n        gd.WholeProjectRefactorer.objectRenamedInLayout(\n          project,\n          layout,\n          object.getName(),\n          newName\n        );\n      }\n    }\n\n    object.setName(newName);\n    done(true);\n  };\n\n  _onDeleteGroup = (\n    groupWithScope: GroupWithContext,\n    done: boolean => void\n  ) => {\n    //TODO: implement and launch refactoring (using gd.WholeProjectRefactorer)\n    done(true);\n  };\n\n  _onRenameGroup = (\n    groupWithScope: GroupWithContext,\n    newName: string,\n    done: boolean => void\n  ) => {\n    //TODO: implement and launch refactoring (using gd.WholeProjectRefactorer)\n    done(true);\n  };\n\n  deleteSelection = () => {\n    const selectedInstances = this.instancesSelection.getSelectedInstances();\n    selectedInstances.map(instance =>\n      this.props.initialInstances.removeInstance(instance)\n    );\n\n    this.instancesSelection.clearSelection();\n    if (this.editor) this.editor.clearHighlightedInstance();\n\n    this.setState(\n      {\n        selectedObjectNames: [],\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => {\n        this.updateToolbar();\n        this.forceUpdatePropertiesEditor();\n      }\n    );\n  };\n\n  centerView = () => {\n    if (this.editor) this.editor.centerView();\n  };\n\n  setZoomFactor = (zoomFactor: number) => {\n    if (this.editor) this.editor.setZoomFactor(zoomFactor);\n  };\n\n  zoomIn = () => {\n    if (this.editor) this.editor.zoomBy(0.1);\n  };\n\n  zoomOut = () => {\n    if (this.editor) this.editor.zoomBy(-0.1);\n  };\n\n  _onContextMenu = (x: number, y: number) => {\n    if (this.contextMenu) this.contextMenu.open(x, y);\n  };\n\n  copySelection = ({ useLastCursorPosition }: CopyCutPasteOptions = {}) => {\n    const serializedSelection = this.instancesSelection\n      .getSelectedInstances()\n      .map(instance => serializeToJSObject(instance));\n\n    if (this.editor) {\n      const position = useLastCursorPosition\n        ? this.editor.getLastCursorPosition()\n        : this.editor.getLastContextMenuPosition();\n      Clipboard.set(INSTANCES_CLIPBOARD_KIND, {\n        x: position[0],\n        y: position[1],\n        instances: serializedSelection,\n      });\n    }\n  };\n\n  cutSelection = (options: CopyCutPasteOptions = {}) => {\n    this.copySelection(options);\n    this.deleteSelection();\n  };\n\n  paste = ({ useLastCursorPosition }: CopyCutPasteOptions = {}) => {\n    const clipboardContent = Clipboard.get(INSTANCES_CLIPBOARD_KIND);\n    if (!clipboardContent || !this.editor) return;\n\n    const position = useLastCursorPosition\n      ? this.editor.getLastCursorPosition()\n      : this.editor.getLastContextMenuPosition();\n    const { x, y } = clipboardContent;\n    clipboardContent.instances\n      .map(serializedInstance => {\n        const instance = new gd.InitialInstance();\n        unserializeFromJSObject(instance, serializedInstance);\n        return instance;\n      })\n      .forEach(instance => {\n        instance.setX(instance.getX() - x + position[0]);\n        instance.setY(instance.getY() - y + position[1]);\n        this.props.initialInstances.insertInitialInstance(instance);\n        instance.delete();\n      });\n  };\n\n  updateBehaviorsSharedData = () => {\n    const { layout, project } = this.props;\n    layout.updateBehaviorsSharedData(project);\n  };\n\n  forceUpdateObjectsList = () => {\n    if (this._objectsList) this._objectsList.forceUpdateList();\n  };\n\n  forceUpdatePropertiesEditor = () => {\n    if (this._propertiesEditor) this._propertiesEditor.forceUpdate();\n  };\n\n  reloadResourcesFor = (object: gdObject) => {\n    const { project } = this.props;\n\n    const resourcesInUse = new gd.ResourcesInUseHelper();\n    object.exposeResources(resourcesInUse);\n    const objectResourceNames = resourcesInUse\n      .getAllImages()\n      .toNewVectorString()\n      .toJSArray();\n\n    PixiResourcesLoader.loadTextures(\n      project,\n      objectResourceNames,\n      () => {},\n      () => {\n        if (this.editor) this.editor.resetRenderersFor(object.getName());\n      }\n    );\n  };\n\n  _getAllObjectTags = (): Array<string> => {\n    const { project, layout } = this.props;\n\n    const tagsSet: Set<string> = new Set();\n    enumerateObjects(project, layout).allObjectsList.forEach(({ object }) => {\n      getTagsFromString(object.getTags()).forEach(tag => tagsSet.add(tag));\n    });\n\n    return Array.from(tagsSet);\n  };\n\n  _buildObjectTagsMenuTemplate = (i18n: I18nType): Array<any> => {\n    const { selectedObjectTags } = this.state;\n\n    return buildTagsMenuTemplate({\n      noTagLabel: i18n._(t`No tags - add a tag to an object first`),\n      getAllTags: this._getAllObjectTags,\n      selectedTags: selectedObjectTags,\n      onChange: selectedObjectTags => {\n        this.setState({ selectedObjectTags });\n      },\n    });\n  };\n\n  render() {\n    const {\n      project,\n      layout,\n      initialInstances,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n      isActive,\n    } = this.props;\n    const selectedInstances = this.instancesSelection.getSelectedInstances();\n\n    const editors = {\n      properties: (\n        <MosaicWindow title={<Trans>Properties</Trans>}>\n          <InstancePropertiesEditor\n            project={project}\n            layout={layout}\n            instances={selectedInstances}\n            editInstanceVariables={this.editInstanceVariables}\n            editObjectVariables={this.editObjectVariables}\n            onEditObjectByName={this.editObjectByName}\n            ref={propertiesEditor =>\n              (this._propertiesEditor = propertiesEditor)\n            }\n          />\n        </MosaicWindow>\n      ),\n      'instances-editor': (\n        <FullSizeInstancesEditor\n          project={project}\n          layout={layout}\n          initialInstances={initialInstances}\n          onAddInstance={this._addInstance}\n          options={this.state.uiSettings}\n          onChangeOptions={this.setUiSettings}\n          instancesSelection={this.instancesSelection}\n          onDeleteSelection={this.deleteSelection}\n          onInstancesSelected={this._onInstancesSelected}\n          onInstancesMoved={this._onInstancesMoved}\n          onInstancesResized={this._onInstancesResized}\n          onInstancesRotated={this._onInstancesRotated}\n          onPointerUp={this._onPointerUpInstancesEditor}\n          onPointerOver={this._onPointerOverInstancesEditor}\n          onPointerOut={this._onPointerOutInstancesEditor}\n          onContextMenu={this._onContextMenu}\n          onCopy={() => this.copySelection({ useLastCursorPosition: true })}\n          onCut={() => this.cutSelection({ useLastCursorPosition: true })}\n          onPaste={() => this.paste({ useLastCursorPosition: true })}\n          onUndo={this.undo}\n          onRedo={this.redo}\n          onZoomOut={this.zoomOut}\n          onZoomIn={this.zoomIn}\n          showDropCursor={this.state.canDropDraggedObject}\n          wrappedEditorRef={editor => (this.editor = editor)}\n          pauseRendering={!isActive}\n        />\n      ),\n      'objects-list': (\n        <MosaicWindow\n          title={<Trans>Objects</Trans>}\n          toolbarControls={[\n            <I18n key=\"tags\">\n              {({ i18n }) => (\n                <TagsButton\n                  buildMenuTemplate={() =>\n                    this._buildObjectTagsMenuTemplate(i18n)\n                  }\n                />\n              )}\n            </I18n>,\n            <CloseButton key=\"close\" />,\n          ]}\n          // TODO: Outdated\n          selectedObjectNames={\n            this.state\n              .selectedObjectNames /*Ensure MosaicWindow content is updated when selectedObjectNames changes*/\n          }\n          canDropDraggedObject={\n            this.state\n              .canDropDraggedObject /*Ensure MosaicWindow content is updated when canDropDraggedObject changes*/\n          }\n          selectedObjectTags={\n            this.state\n              .selectedObjectTags /*Ensure MosaicWindow content is updated when selectedObjectTags changes*/\n          }\n        >\n          <ObjectsList\n            getThumbnail={ObjectsRenderingService.getThumbnail.bind(\n              ObjectsRenderingService\n            )}\n            project={project}\n            objectsContainer={layout}\n            selectedObjectNames={this.state.selectedObjectNames}\n            onEditObject={this.props.onEditObject || this.editObject}\n            onDeleteObject={this._onDeleteObject}\n            canRenameObject={(\n              objectWithContext: ObjectWithContext,\n              newName: string\n            ) => {\n              return this._canObjectUseNewName(objectWithContext, newName);\n            }}\n            onObjectCreated={this._addNewObjectInstance}\n            onObjectSelected={this._onObjectSelected}\n            onRenameObject={this._onRenameObject}\n            onObjectPasted={() => this.updateBehaviorsSharedData()}\n            onStartDraggingObject={this._onStartDraggingObjectFromList}\n            onEndDraggingObject={this._onEndDraggingObjectFromList}\n            canMoveObjects={!this.state.canDropDraggedObject}\n            selectedObjectTags={this.state.selectedObjectTags}\n            onChangeSelectedObjectTags={selectedObjectTags =>\n              this.setState({\n                selectedObjectTags,\n              })\n            }\n            getAllObjectTags={this._getAllObjectTags}\n            ref={objectsList => (this._objectsList = objectsList)}\n          />\n        </MosaicWindow>\n      ),\n      'object-groups-list': (\n        <MosaicWindow title={<Trans>Object Groups</Trans>}>\n          <ObjectGroupsList\n            globalObjectGroups={project.getObjectGroups()}\n            objectGroups={layout.getObjectGroups()}\n            onEditGroup={this.editGroup}\n            onDeleteGroup={this._onDeleteGroup}\n            onRenameGroup={this._onRenameGroup}\n          />\n        </MosaicWindow>\n      ),\n    };\n    return (\n      <div style={styles.container}>\n        <EditorMosaic\n          editors={editors}\n          ref={editorMosaic => (this.editorMosaic = editorMosaic)}\n          initialNodes={{\n            direction: 'row',\n            first: 'properties',\n            splitPercentage: 23,\n            second: {\n              direction: 'row',\n              first: 'instances-editor',\n              second: this.props.showObjectsList ? 'objects-list' : null,\n              splitPercentage: 77,\n            },\n          }}\n        />\n        {this.state.editedObjectWithContext && (\n          <ObjectEditorDialog\n            open\n            object={this.state.editedObjectWithContext.object}\n            project={project}\n            resourceSources={resourceSources}\n            resourceExternalEditors={resourceExternalEditors}\n            onChooseResource={onChooseResource}\n            onCancel={() => {\n              if (this.state.editedObjectWithContext) {\n                this.reloadResourcesFor(\n                  this.state.editedObjectWithContext.object\n                );\n              }\n              this.editObject(null);\n            }}\n            canRenameObject={tryName => {\n              return (\n                this.state.editedObjectWithContext &&\n                this._canObjectUseNewName(\n                  this.state.editedObjectWithContext,\n                  tryName\n                )\n              );\n            }}\n            onRename={newName => {\n              this._onRenameEditedObject(newName);\n            }}\n            onApply={() => {\n              if (this.state.editedObjectWithContext) {\n                this.reloadResourcesFor(\n                  this.state.editedObjectWithContext.object\n                );\n              }\n              this.editObject(null);\n              this.updateBehaviorsSharedData();\n              this.forceUpdateObjectsList();\n            }}\n          />\n        )}\n        <ObjectGroupEditorDialog\n          project={project}\n          open={!!this.state.editedGroup}\n          group={this.state.editedGroup}\n          objectsContainer={layout}\n          globalObjectsContainer={project}\n          onCancel={() => this.editGroup(null)}\n          onApply={() => this.editGroup(null)}\n        />\n        <Drawer\n          open={this.state.instancesListOpen}\n          width={500}\n          openSecondary={true}\n          containerStyle={{ overflow: 'hidden' }}\n        >\n          <EditorBar\n            title={<Trans>Instances</Trans>}\n            iconElementLeft={\n              <IconButton onClick={this.toggleInstancesList}>\n                <NavigationClose />\n              </IconButton>\n            }\n          />\n          <InstancesList\n            freezeUpdate={!this.state.instancesListOpen}\n            instances={initialInstances}\n            selectedInstances={selectedInstances}\n            onSelectInstances={this._onSelectInstances}\n          />\n        </Drawer>\n        <Drawer\n          open={this.state.layersListOpen}\n          width={400}\n          openSecondary={true}\n        >\n          <EditorBar\n            title={<Trans>Layers</Trans>}\n            iconElementLeft={\n              <IconButton onClick={this.toggleLayersList}>\n                <NavigationClose />\n              </IconButton>\n            }\n          />\n          <LayersList\n            freezeUpdate={!this.state.layersListOpen}\n            onRemoveLayer={this._onRemoveLayer}\n            onRenameLayer={this._onRenameLayer}\n            layersContainer={layout}\n          />\n        </Drawer>\n        <InfoBar\n          message={\n            <Trans>\n              Drag and Drop the object to the scene or use the right click menu\n              to add an instance of it.\n            </Trans>\n          }\n          show={!!this.state.selectedObjectNames.length}\n        />\n        <InfoBar\n          message={\n            <Trans>\n              Objects panel is already opened: use it to add and edit objects.\n            </Trans>\n          }\n          show={!!this.state.showObjectsListInfoBar}\n        />\n        <InfoBar\n          message={<Trans>Properties panel is already opened.</Trans>}\n          show={!!this.state.showPropertiesInfoBar}\n        />\n        <SetupGridDialog\n          open={this.state.setupGridOpen}\n          gridOptions={this.state.uiSettings}\n          onCancel={() => this.openSetupGrid(false)}\n          onApply={gridOptions => {\n            this.setUiSettings(gridOptions);\n            this.openSetupGrid(false);\n          }}\n        />\n        <VariablesEditorDialog\n          open={!!this.state.variablesEditedInstance}\n          variablesContainer={\n            this.state.variablesEditedInstance &&\n            this.state.variablesEditedInstance.getVariables()\n          }\n          onCancel={() => this.editInstanceVariables(null)}\n          onApply={() => this.editInstanceVariables(null)}\n          emptyExplanationMessage=\"Instance variables will override the default values of the variables of the object.\"\n          title=\"Instance Variables\"\n          onEditObjectVariables={() => {\n            if (!this.instancesSelection.hasSelectedInstances()) {\n              return;\n            }\n            const associatedObjectName = this.instancesSelection\n              .getSelectedInstances()[0]\n              .getObjectName();\n            const object = getObjectByName(\n              project,\n              layout,\n              associatedObjectName\n            );\n            if (object) {\n              this.editObjectVariables(object);\n              this.editInstanceVariables(null);\n            }\n          }}\n        />\n        <VariablesEditorDialog\n          open={!!this.state.variablesEditedObject}\n          variablesContainer={\n            this.state.variablesEditedObject &&\n            this.state.variablesEditedObject.getVariables()\n          }\n          onCancel={() => this.editObjectVariables(null)}\n          onApply={() => this.editObjectVariables(null)}\n          emptyExplanationMessage=\"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it.\"\n          title=\"Object Variables\"\n        />\n        <LayerRemoveDialog\n          open={!!this.state.layerRemoveDialogOpen}\n          layersContainer={layout}\n          layerRemoved={this.state.layerRemoved}\n          onClose={this.state.onCloseLayerRemoveDialog}\n        />\n        {this.state.scenePropertiesDialogOpen && (\n          <ScenePropertiesDialog\n            open\n            project={project}\n            layout={layout}\n            onClose={() => this.openSceneProperties(false)}\n            onApply={() => this.openSceneProperties(false)}\n            onEditVariables={() => this.editLayoutVariables(true)}\n            onOpenMoreSettings={this.props.onOpenMoreSettings}\n          />\n        )}\n        <VariablesEditorDialog\n          open={!!this.state.layoutVariablesDialogOpen}\n          variablesContainer={layout.getVariables()}\n          onCancel={() => this.editLayoutVariables(false)}\n          onApply={() => this.editLayoutVariables(false)}\n          title=\"Scene variables\"\n          emptyExplanationMessage=\"Scene variables can be used to store any value or text during the game.\"\n          emptyExplanationSecondMessage=\"For example, you can have a variable called Score representing the current score of the player.\"\n        />\n        <ContextMenu\n          ref={contextMenu => (this.contextMenu = contextMenu)}\n          buildMenuTemplate={() => [\n            {\n              label: this.state.selectedObjectNames.length\n                ? 'Add an Instance of ' +\n                  shortenString(this.state.selectedObjectNames[0], 7)\n                : '',\n              click: () => this._onAddInstanceUnderCursor(),\n              visible: this.state.selectedObjectNames.length > 0,\n            },\n            {\n              label: 'Insert a New Object',\n              click: () => this._createNewObjectAndInstanceUnderCursor(),\n              visible: this.state.selectedObjectNames.length === 0,\n            },\n            {\n              label: this.state.selectedObjectNames.length\n                ? 'Edit Object ' +\n                  shortenString(this.state.selectedObjectNames[0], 14)\n                : '',\n              click: () =>\n                this.editObjectByName(this.state.selectedObjectNames[0]),\n              visible: this.state.selectedObjectNames.length > 0,\n            },\n            {\n              label: 'Scene properties',\n              click: () => this.openSceneProperties(true),\n            },\n            { type: 'separator' },\n            {\n              label: 'Copy',\n              click: () => this.copySelection(),\n              enabled: this.instancesSelection.hasSelectedInstances(),\n              accelerator: 'CmdOrCtrl+C',\n            },\n            {\n              label: 'Cut',\n              click: () => this.cutSelection(),\n              enabled: this.instancesSelection.hasSelectedInstances(),\n              accelerator: 'CmdOrCtrl+X',\n            },\n            {\n              label: 'Paste',\n              click: () => this.paste(),\n              enabled: Clipboard.has(INSTANCES_CLIPBOARD_KIND),\n              accelerator: 'CmdOrCtrl+V',\n            },\n            { type: 'separator' },\n            {\n              label: 'Undo',\n              click: this.undo,\n              enabled: canUndo(this.state.history),\n              accelerator: 'CmdOrCtrl+Z',\n            },\n            {\n              label: 'Redo',\n              click: this.redo,\n              enabled: canRedo(this.state.history),\n              accelerator: 'CmdOrCtrl+Shift+Z',\n            },\n            {\n              label: 'Delete',\n              click: () => this.deleteSelection(),\n              enabled: this.instancesSelection.hasSelectedInstances(),\n            },\n          ]}\n        />\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as PIXI from 'pixi.js';\n\ntype Props = {|\n  initialViewX: number,\n  initialViewY: number,\n  width: number,\n  height: number,\n  options: any,\n|};\n\nexport default class ViewPosition {\n  viewX: number = 0;\n  viewY: number = 0;\n  _width: number;\n  _height: number;\n  options: any;\n  _pixiContainer = new PIXI.Container();\n\n  constructor({ initialViewX, initialViewY, width, height, options }: Props) {\n    this.viewX = initialViewX;\n    this.viewY = initialViewY;\n    this.options = options;\n    this.resize(width, height);\n  }\n\n  setOptions(options: any) {\n    this.options = options;\n  }\n\n  resize(width: number, height: number) {\n    this._width = width;\n    this._height = height;\n  }\n\n  getWidth() {\n    return this._width;\n  }\n\n  getHeight() {\n    return this._height;\n  }\n\n  /**\n   * Convert a point from the canvas coordinates (for example, the mouse position) to the\n   * \"world\" coordinates.\n   */\n  toSceneCoordinates = (x: number, y: number): [number, number] => {\n    x -= this._width / 2;\n    y -= this._height / 2;\n    x /= Math.abs(this._pixiContainer.scale.x);\n    y /= Math.abs(this._pixiContainer.scale.y);\n\n    var viewRotation = 0;\n    var tmp = x;\n    x =\n      Math.cos((viewRotation / 180) * Math.PI) * x -\n      Math.sin((viewRotation / 180) * Math.PI) * y;\n    y =\n      Math.sin((viewRotation / 180) * Math.PI) * tmp +\n      Math.cos((viewRotation / 180) * Math.PI) * y;\n\n    return [x + this.viewX, y + this.viewY];\n  };\n\n  /**\n   * Convert a point from the \"world\" coordinates (for example, an object position) to the\n   * canvas coordinates.\n   */\n  toCanvasCoordinates = (x: number, y: number): [number, number] => {\n    x -= this.viewX;\n    y -= this.viewY;\n\n    var viewRotation = -0;\n    var tmp = x;\n    x =\n      Math.cos((viewRotation / 180) * Math.PI) * x -\n      Math.sin((viewRotation / 180) * Math.PI) * y;\n    y =\n      Math.sin((viewRotation / 180) * Math.PI) * tmp +\n      Math.cos((viewRotation / 180) * Math.PI) * y;\n\n    x *= Math.abs(this._pixiContainer.scale.x);\n    y *= Math.abs(this._pixiContainer.scale.y);\n\n    return [x + this._width / 2, y + this._height / 2];\n  };\n\n  scrollBy(x: number, y: number) {\n    this.viewX += x;\n    this.viewY += y;\n  }\n\n  scrollTo(x: number, y: number) {\n    this.viewX = x;\n    this.viewY = y;\n  }\n\n  scrollToInstance(instance: gdInitialInstance) {\n    this.viewX = instance.getX();\n    this.viewY = instance.getY();\n  }\n\n  getViewX() {\n    return this.viewX;\n  }\n\n  getViewY() {\n    return this.viewY;\n  }\n\n  getPixiContainer() {\n    return this._pixiContainer;\n  }\n\n  render() {\n    this._pixiContainer.position.x = -this.viewX * this.options.zoomFactor;\n    this._pixiContainer.position.y = -this.viewY * this.options.zoomFactor;\n    this._pixiContainer.position.x += this._width / 2;\n    this._pixiContainer.position.y += this._height / 2;\n    this._pixiContainer.scale.x = this.options.zoomFactor;\n    this._pixiContainer.scale.y = this.options.zoomFactor;\n  }\n}\n","// @flow\n\nexport const roundPosition = (\n  pos: number,\n  gridSize: number,\n  gridOffset: number\n) => {\n  if (gridSize <= 0) {\n    return Math.round(pos);\n  }\n  return Math.floor((pos - gridOffset) / gridSize) * gridSize + gridOffset;\n};\n","import { mapFor } from '../Utils/MapFor';\n\nexport default layersContainer =>\n  mapFor(0, layersContainer.getLayersCount(), i => {\n    return {\n      value: layersContainer.getLayerAt(i).getName(),\n      label: layersContainer.getLayerAt(i).getName() || 'Base layer',\n    };\n  });\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nimport Toggle from 'material-ui/Toggle';\nimport { Line } from '../../../../UI/Grid';\nimport { mapFor } from '../../../../Utils/MapFor';\nimport { getCurrentElements } from './SpriteObjectHelper';\n\ntype Props = {|\n  spriteObject: gdSpriteObject,\n\n  animationIndex: number,\n  directionIndex: number,\n  spriteIndex: number,\n\n  chooseAnimation: number => void,\n  chooseDirection: number => void,\n  chooseSprite: number => void,\n\n  sameForAllAnimations: boolean,\n  sameForAllSprites: boolean,\n\n  setSameForAllAnimations: boolean => void,\n  setSameForAllSprites: number => void,\n\n  setSameForAllAnimationsLabel: string,\n  setSameForAllSpritesLabel: string,\n|};\n\n/**\n * A component that displays selector to browse the animations/directions/sprite\n * of a Sprite object. Also have toggles so that the user can choose if the edited property\n * (typically, the points or the collision masks of the sprite) should be shared between\n * all sprites of an animation, or between all sprites of all animations of the object.\n */\nexport default class SpriteSelector extends React.Component<Props, void> {\n  render() {\n    const {\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex,\n      sameForAllAnimations,\n      sameForAllSprites,\n      chooseAnimation,\n      chooseDirection,\n      chooseSprite,\n      setSameForAllAnimations,\n      setSameForAllSprites,\n      setSameForAllAnimationsLabel,\n      setSameForAllSpritesLabel,\n    } = this.props;\n\n    const {\n      hasValidAnimation,\n      animation,\n      hasValidDirection,\n      direction,\n    } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    return (\n      <React.Fragment>\n        <Line>\n          <SelectField\n            floatingLabelText={<Trans>Animation</Trans>}\n            value={this.props.animationIndex}\n            onChange={(e, i, value) => chooseAnimation(value)}\n          >\n            {mapFor(0, spriteObject.getAnimationsCount(), i => {\n              const animation = spriteObject.getAnimation(i);\n              return (\n                <MenuItem\n                  key={i}\n                  value={i}\n                  primaryText={`Animation #${i} ${animation.getName()}`}\n                />\n              );\n            })}\n          </SelectField>\n          {hasValidAnimation && animation.getDirectionsCount() > 1 && (\n            <SelectField\n              floatingLabelText={<Trans>Direction</Trans>}\n              value={this.props.directionIndex}\n              onChange={(e, i, value) => chooseDirection(value)}\n            >\n              {mapFor(0, animation.getDirectionsCount(), i => {\n                return (\n                  <MenuItem value={i} key={i} primaryText={`Direction #${i}`} />\n                );\n              })}\n            </SelectField>\n          )}\n          {hasValidDirection && (\n            <SelectField\n              floatingLabelText={<Trans>Frame</Trans>}\n              value={this.props.spriteIndex}\n              onChange={(e, i, value) => chooseSprite(value)}\n            >\n              {mapFor(0, direction.getSpritesCount(), i => {\n                return (\n                  <MenuItem value={i} key={i} primaryText={`Frame #${i}`} />\n                );\n              })}\n            </SelectField>\n          )}\n        </Line>\n        <Toggle\n          label={setSameForAllAnimationsLabel}\n          labelPosition=\"right\"\n          toggled={sameForAllAnimations}\n          onToggle={(e, checked) => setSameForAllAnimations(checked)}\n        />\n        <Toggle\n          label={setSameForAllSpritesLabel}\n          labelPosition=\"right\"\n          toggled={sameForAllSprites}\n          onToggle={(e, checked) => setSameForAllSprites(checked)}\n        />\n      </React.Fragment>\n    );\n  }\n}\n","// @flow\nexport const isNullPtr = (\n  gd: libGDevelop,\n  object: gdEmscriptenObject\n): boolean => gd.getPointer(object) === 0;\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport Snackbar from 'material-ui/Snackbar';\n\nexport default class InfoBar extends Component {\n  constructor() {\n    super();\n    this.state = {\n      dismissed: false,\n    };\n  }\n\n  handleGotIt = () => {\n    if (this.props.messageId) {\n      localStorage.setItem(\n        `gdevelop.hiddenMessages.${this.props.messageId}`,\n        true\n      );\n    }\n    this.setState({ dismissed: true });\n  };\n\n  componentWillReceiveProps(newProps) {\n    if (this.props.message !== newProps.message) {\n      this.setState({ dismissed: false });\n    }\n  }\n\n  render() {\n    const hidden =\n      this.props.messageId &&\n      localStorage.getItem(`gdevelop.hiddenMessages.${this.props.messageId}`);\n\n    return (\n      <Snackbar\n        open={this.props.show && !hidden && !this.state.dismissed}\n        message={this.props.message}\n        onRequestClose={() => this.setState({ dismissed: true })}\n        action={<Trans>Got it</Trans>}\n        onActionClick={this.handleGotIt}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport SceneEditor from '../../SceneEditor';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../../Utils/Serializer';\nimport BaseEditor from './BaseEditor';\nimport { type PreviewOptions } from '../../Export/PreviewLauncher.flow';\n\nexport default class SceneEditorContainer extends BaseEditor {\n  editor: ?SceneEditor;\n\n  shouldComponentUpdate(nextProps: *) {\n    // This optimization is a bit more cautious than the one is BaseEditor, to still allow\n    // children, and in particular SceneEditor and InstancesEditor, to be notified when isActive\n    // goes from true to false (in which case PIXI rendering is halted). If isActive was false\n    // and remains false, it's safe to stop update here (PIXI rendering is already halted).\n    if (!this.props.isActive && !nextProps.isActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  getSerializedElements() {\n    const layout = this.getLayout();\n    if (!layout) return {};\n\n    return {\n      ...BaseEditor.getLayoutSerializedElements(layout),\n      instances: serializeToJSObject(layout.getInitialInstances()),\n      uiSettings: this.editor ? this.editor.getUiSettings() : {},\n    };\n  }\n\n  getLayout(): ?gdLayout {\n    const { project, layoutName } = this.props;\n    if (!project || !project.hasLayoutNamed(layoutName)) return null;\n\n    return project.getLayout(layoutName);\n  }\n\n  saveUiSettings = () => {\n    const layout = this.getLayout();\n    const editor = this.editor;\n\n    if (editor && layout) {\n      unserializeFromJSObject(\n        layout.getAssociatedSettings(),\n        editor.getUiSettings()\n      );\n    }\n  };\n\n  render() {\n    const { project, layoutName, isActive } = this.props;\n    const layout = this.getLayout();\n    if (!layout) {\n      //TODO: Error component\n      return <div>No layout called {layoutName} found!</div>;\n    }\n\n    return (\n      <SceneEditor\n        {...this.props}\n        ref={editor => (this.editor = editor)}\n        project={project}\n        layout={layout}\n        initialInstances={layout.getInitialInstances()}\n        initialUiSettings={serializeToJSObject(layout.getAssociatedSettings())}\n        onPreview={(options: PreviewOptions) =>\n          this.props.onPreview(project, layout, options)\n        }\n        onOpenDebugger={this.props.onOpenDebugger}\n        isActive={isActive}\n      />\n    );\n  }\n}\n","// @flow\nimport React from 'react';\n\nexport const watchPromiseInState = (\n  component: React.Component<*, *>,\n  stateField: string,\n  fn: () => Promise<any>\n) => {\n  component.setState({\n    [stateField]: true,\n  });\n  return fn()\n    .then(value => {\n      component.setState({\n        [stateField]: false,\n      });\n      return value;\n    })\n    .catch(err => {\n      component.setState({\n        [stateField]: false,\n      });\n      throw err;\n    });\n};\n","// @flow\nimport axios from 'axios';\nimport { GDevelopUsageApi } from './ApiConfigs';\n\nexport type Usage = {\n  id: string,\n  userId: string,\n  type: string,\n  createdAt: number,\n};\nexport type Usages = Array<Usage>;\n\nexport type Subscription = {|\n  userId: string,\n  planId: string | null,\n  createdAt: number,\n  updatedAt: number,\n  stripeSubscriptionId?: string,\n  stripeCustomerId?: string,\n|};\n\nexport type Limit = {|\n  limitReached: boolean,\n  current: number,\n  max: number,\n|};\n\nexport type Limits = {\n  [string]: Limit,\n};\n\nexport type PlanDetails = {\n  planId: string | null,\n  name: string,\n  monthlyPriceInEuros: number,\n  smallDescription: string,\n  descriptionBullets: Array<string>,\n  extraDescription?: string,\n};\n\nexport const getSubscriptionPlans = (): Array<PlanDetails> => [\n  {\n    planId: 'gdevelop_pro',\n    name: 'GDevelop Pro',\n    monthlyPriceInEuros: 7,\n    smallDescription: 'Ideal for advanced game makers',\n    descriptionBullets: [\n      'Package your game for Android up to 70 times a day.',\n      'One-click packaging for Windows, macOS and Linux up to 70 times a day.',\n      'Use Live Preview over Wifi to quickly test your game on mobiles and tablets.',\n      'Use the Debugger to find and solve issues in your games.',\n      'Immerse your players by removing GDevelop logo when the game loads.',\n    ],\n    extraDescription:\n      \"You'll also have access to online packaging for iOS or other services when they are released.\",\n  },\n  {\n    planId: 'gdevelop_indie',\n    name: 'GDevelop Indie',\n    monthlyPriceInEuros: 2,\n    smallDescription: 'Ideal for beginners',\n    descriptionBullets: [\n      'Package your game for Android up to 10 times a day.',\n      'One-click packaging for Windows, macOS and Linux up to 10 times a day.',\n      'Use Live Preview over Wifi to quickly test your game on mobiles and tablets',\n      'Use the Debugger to find and solve issues in your games.',\n      'Immerse your players by removing GDevelop logo when the game loads',\n    ],\n    extraDescription:\n      \"You'll also have access to online packaging for iOS or other services when they are released.\",\n  },\n  {\n    planId: null,\n    name: 'No subscription',\n    monthlyPriceInEuros: 0,\n    smallDescription: '',\n    descriptionBullets: [\n      'You can use GDevelop for free! Online packaging for Android, Windows, macOS and Linux is limited to twice a day to avoid overloading the services.',\n    ],\n  },\n];\n\nexport const getUserUsages = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string\n): Promise<Usages> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopUsageApi.baseUrl}/usage`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data);\n};\n\nexport const getUserLimits = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string\n): Promise<Limits> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopUsageApi.baseUrl}/limits`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data.limits);\n};\n\nexport const getUserSubscription = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string\n): Promise<Subscription> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopUsageApi.baseUrl}/subscription`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data);\n};\n\nexport const changeUserSubscription = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string,\n  newSubscriptionDetails: { planId: string | null, stripeToken?: any }\n): Promise<Subscription> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.post(\n        `${GDevelopUsageApi.baseUrl}/subscription`,\n        newSubscriptionDetails,\n        {\n          params: {\n            userId,\n          },\n          headers: {\n            Authorization: authorizationHeader,\n          },\n        }\n      )\n    )\n    .then(response => response.data);\n};\n","// @flow\nimport { type I18n } from '@lingui/core';\n\ntype TranslationFunction = (string => string) | null;\ntype NotNullTranslationFunction = string => string;\n\n/**\n * Given the i18n object, return the function that can be used\n * to translate strings. Useful for wiring i18n to extensions\n * and libGD.js, where translations is done with a simple string\n * to string function.\n */\nexport const getTranslationFunction = (i18n: ?I18n): TranslationFunction => {\n  const i18nModule = i18n; // Make flow happy, ensure i18nModule is const.\n  if (i18nModule) {\n    return (str: string) => i18nModule._(str);\n  }\n\n  return null;\n};\n\n/**\n * Given the i18n object, return the function that can be used\n * to translate strings. Useful for wiring i18n to extensions\n * and libGD.js, where translations is done with a simple string\n * to string function.\n */\nexport const getNotNullTranslationFunction = (\n  i18n: ?I18n\n): NotNullTranslationFunction => {\n  const i18nModule = i18n; // Make flow happy, ensure i18nModule is const.\n  if (i18nModule) {\n    return (str: string) => i18nModule._(str);\n  }\n\n  return (str: string) => str;\n};\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Spacer, Line } from '../../UI/Grid';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport difference_in_seconds from 'date-fns/difference_in_seconds';\nimport LinearProgress from 'material-ui/LinearProgress';\n\nconst buildTypesConfig = {\n  'cordova-build': {\n    estimatedTimeInSeconds: () => 300,\n    completeDescription:\n      'You can download it on your Android phone and install it.',\n  },\n  'electron-build': {\n    estimatedTimeInSeconds: (build: Build) =>\n      150 * (build.targets ? build.targets.length : 0),\n    completeDescription: '',\n  },\n};\n\ntype Props = {|\n  build: Build,\n  onDownload: (key: string) => void,\n|};\n\n/**\n * Show an estimate of the progress of a build or the button\n * to download the artifacts.\n */\nexport default ({ build, onDownload }: Props) => {\n  const buttons = [\n    {\n      displayName: 'Download',\n      key: 'apkKey',\n    },\n    {\n      displayName: 'Windows (zip)',\n      key: 'windowsZipKey',\n    },\n    {\n      displayName: 'Windows (exe)',\n      key: 'windowsExeKey',\n    },\n    {\n      displayName: 'macOS (zip)',\n      key: 'macosZipKey',\n    },\n    {\n      displayName: 'Linux (AppImage)',\n      key: 'linuxAppImageKey',\n    },\n  ];\n\n  const config = buildTypesConfig[build.type];\n  const secondsSinceLastUpdate = Math.abs(\n    difference_in_seconds(build.updatedAt, Date.now())\n  );\n  const estimatedRemainingTime = Math.max(\n    config ? config.estimatedTimeInSeconds(build) - secondsSinceLastUpdate : 0,\n    0\n  );\n\n  return build.status === 'error' ? (\n    <React.Fragment>\n      <Line alignItems=\"center\">\n        <p>\n          <Trans>Something wrong happened :(</Trans>\n        </p>\n        <Spacer />\n        <RaisedButton\n          label={<Trans>See logs</Trans>}\n          onClick={() => onDownload('logsKey')}\n        />\n      </Line>\n      <Line alignItems=\"center\">\n        <EmptyMessage>\n          <Trans>\n            Check the logs to see if there is an explanation about what went\n            wrong, or try again later.\n          </Trans>\n        </EmptyMessage>\n      </Line>\n    </React.Fragment>\n  ) : build.status === 'pending' ? (\n    <Line alignItems=\"center\" expand>\n      <LinearProgress\n        style={{ flex: 1 }}\n        max={config.estimatedTimeInSeconds(build)}\n        value={config.estimatedTimeInSeconds(build) - estimatedRemainingTime}\n        mode={estimatedRemainingTime > 0 ? 'determinate' : 'indeterminate'}\n      />\n      <Spacer />\n      {estimatedRemainingTime > 0 ? (\n        <p>\n          <Trans>~{Math.round(estimatedRemainingTime / 60)} minutes.</Trans>\n        </p>\n      ) : (\n        <p>\n          <Trans>Should finish soon.</Trans>\n        </p>\n      )}\n    </Line>\n  ) : build.status === 'complete' ? (\n    <React.Fragment>\n      <Line expand>\n        {buttons\n          .filter(button => !!build[button.key])\n          .map((button, index) => (\n            <React.Fragment key={button.key}>\n              {index !== 0 && <Spacer />}\n              <RaisedButton\n                label={button.displayName}\n                primary\n                onClick={() => onDownload(button.key)}\n              />\n            </React.Fragment>\n          ))}\n        <FlatButton\n          label={<Trans>See logs</Trans>}\n          onClick={() => onDownload('logsKey')}\n        />\n      </Line>\n      <Line expand>{config && config.completeDescription}</Line>\n    </React.Fragment>\n  ) : (\n    <Line>\n      <Trans>Unknown status</Trans>\n    </Line>\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Column, Line } from '../UI/Grid';\nimport { List, ListItem } from 'material-ui/List';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport ExamplesSearchbar from './ExamplesSearchbar';\nimport ExamplesInformation from './ExamplesInformation';\nimport Window from '../Utils/Window';\nimport { fuzzyOrEmptyFilter } from '../Utils/FuzzyOrEmptyFilter';\nimport optionalRequire from '../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\ntype ExtensionUsage = Array<{\n  fullName: string,\n  name: string,\n}>;\n\ntype ExampleInformation = {|\n  description: string,\n  usedExtensions: ExtensionUsage,\n|};\n\ntype SearchEnhancedExampleInformation = {|\n  ...ExampleInformation,\n  searchableDescription: string,\n|};\n\ntype Props = {|\n  exampleNames: ?Array<string>,\n  onCreateFromExample: string => void,\n|};\n\ntype State = {|\n  searchText: string,\n  chosenExtensionName: string,\n|};\n\nconst searchableExamplesInformation: {\n  [string]: SearchEnhancedExampleInformation,\n} = {};\nObject.keys(ExamplesInformation).forEach(exampleName => {\n  const exampleInformation = ExamplesInformation[exampleName];\n  searchableExamplesInformation[exampleName] = {\n    ...exampleInformation,\n    searchableDescription: exampleInformation.description\n      .replace(/ /g, '')\n      .toLowerCase(),\n  };\n});\n\nconst formatExampleName = (name: string) => {\n  if (!name.length) return '';\n\n  return name[0].toUpperCase() + name.substr(1).replace(/-/g, ' ');\n};\n\nconst getExampleInformation = (\n  name: string\n): SearchEnhancedExampleInformation => {\n  return (\n    searchableExamplesInformation[name] || {\n      description: '',\n      searchableDescription: '',\n      usedExtensions: [],\n    }\n  );\n};\n\nconst isUsingExtension = (\n  extensionUsage: ?ExtensionUsage,\n  extensionName: string\n) => {\n  return (\n    !extensionName ||\n    (extensionUsage &&\n      !!extensionUsage.find(usage => usage.name === extensionName))\n  );\n};\n\nexport default class LocalExamples extends React.Component<Props, State> {\n  state = {\n    searchText: '',\n    chosenExtensionName: '',\n  };\n\n  changeSearchText = (searchText: string) => {\n    this.setState({\n      searchText,\n      chosenExtensionName: '',\n    });\n  };\n\n  chooseExtensionName = (chosenExtensionName: string) => {\n    this.setState({\n      searchText: '',\n      chosenExtensionName,\n    });\n  };\n\n  _submitExample() {\n    const body = `Hi!\n\n  I'd like to submit a new example to be added to GDevelop.\n  Here is the link to download it: **INSERT the link to your game here, or add it as an attachment**.\n\n  I confirm that any assets can be used freely by anybody, including for commercial usage.\n  `;\n    Window.openExternalURL(\n      `https://github.com/4ian/GDevelop/issues/new?body=${encodeURIComponent(\n        body\n      )}&title=New%20example`\n    );\n  }\n\n  render() {\n    const { searchText, chosenExtensionName } = this.state;\n    const lowercaseSearchText = searchText.toLowerCase();\n\n    return (\n      <Column noMargin>\n        <Line noMargin>\n          <ExamplesSearchbar\n            value={searchText}\n            onChange={this.changeSearchText}\n            chosenExtensionName={chosenExtensionName}\n            onExtensionNameChosen={this.chooseExtensionName}\n          />\n        </Line>\n        <Line noMargin>\n          <Column expand noMargin>\n            <List>\n              {this.props.exampleNames &&\n                this.props.exampleNames.map(exampleName => {\n                  const exampleFullName = formatExampleName(exampleName);\n                  const exampleInformation = getExampleInformation(exampleName);\n                  if (\n                    (searchText &&\n                      (!fuzzyOrEmptyFilter(searchText, exampleFullName) &&\n                        exampleInformation.searchableDescription.indexOf(\n                          lowercaseSearchText\n                        ) === -1)) ||\n                    !isUsingExtension(\n                      exampleInformation.usedExtensions,\n                      chosenExtensionName\n                    )\n                  ) {\n                    return null;\n                  }\n\n                  return (\n                    <ListItem\n                      key={exampleName}\n                      primaryText={exampleFullName}\n                      secondaryText={exampleInformation.description}\n                      secondaryTextLines={2}\n                      onClick={() =>\n                        this.props.onCreateFromExample(exampleName)\n                      }\n                    />\n                  );\n                })}\n              {!this.props.exampleNames && <PlaceholderLoader />}\n            </List>\n            {!!electron && (\n              <Column expand>\n                <p>\n                  <Trans>Want to contribute to the examples?</Trans>\n                </p>\n                <Line alignItems=\"center\" justifyContent=\"center\">\n                  <RaisedButton\n                    label={<Trans>Submit your example</Trans>}\n                    onClick={this._submitExample}\n                  />\n                </Line>\n              </Column>\n            )}\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props}>\n    <path d=\"M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M18,5H15.5A3.5,3.5 0 0,0 12,8.5V11H10V14H12V21H15V14H18V11H15V9A1,1 0 0,1 16,8H18V5Z\" />\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props}>\n    <path d=\"M20.18,21.55H16.94L17.17,18.82H15.58L15.35,21.55H8.65L8.42,18.82H6.83L7.06,21.55H3.82L2,9.73L6.55,2.45H17.45L22,9.73L20.18,21.55M16.55,6.09H13.62L13.82,7.45H10.18L10.38,6.09H7.45L5.64,9.73L6.55,17H17.45L18.36,9.73L16.55,6.09M14.95,14.59C14.7,14.59 14.5,13.83 14.5,12.9C14.5,11.96 14.7,11.2 14.95,11.2C15.21,11.2 15.41,11.96 15.41,12.9C15.41,13.83 15.21,14.59 14.95,14.59M9.22,14.73C8.96,14.73 8.76,13.97 8.76,13.04C8.76,12.1 8.96,11.35 9.22,11.35C9.47,11.35 9.67,12.1 9.67,13.04C9.67,13.97 9.47,14.73 9.22,14.73Z\" />\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props}>\n    <path d=\"M12,20L15.46,14H15.45C15.79,13.4 16,12.73 16,12C16,10.8 15.46,9.73 14.62,9H19.41C19.79,9.93 20,10.94 20,12A8,8 0 0,1 12,20M4,12C4,10.54 4.39,9.18 5.07,8L8.54,14H8.55C9.24,15.19 10.5,16 12,16C12.45,16 12.88,15.91 13.29,15.77L10.89,19.91C7,19.37 4,16.04 4,12M15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9A3,3 0 0,1 15,12M12,4C14.96,4 17.54,5.61 18.92,8H12C10.06,8 8.45,9.38 8.08,11.21L5.7,7.08C7.16,5.21 9.44,4 12,4M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\" />\n  </SvgIcon>\n);\n","// @flow\n// Note: this file does not use export/imports and use Flow comments to allow its usage from Node.js\n\nconst some = require('lodash/some');\n/*flow-include \nexport type TranslationFunction = (string) => string;\n\nexport type JsExtensionModule = {\n  createExtension(_: TranslationFunction, gd: any): gdPlatformExtension,\n  runExtensionSanityTests(gd: any, extension: gdPlatformExtension): Array<string>,\n};\n\nexport type ExtensionLoadingResult = {\n  error: boolean,\n  message: string,\n  dangerous?: boolean,\n  rawError?: any,\n};\n\nexport interface JsExtensionsLoader {\n  loadAllExtensions(_: TranslationFunction): Promise<\n    Array<{ extensionModulePath: string, result: ExtensionLoadingResult }>\n  >,\n}\n*/\n\n/**\n * Run extensions tests and check for any non-empty results.\n */\nconst runExtensionSanityTests = (\n  gd /*: any */,\n  extension /*: gdPlatformExtension*/,\n  jsExtensionModule /*: JsExtensionModule*/\n) /*: ExtensionLoadingResult*/ => {\n  if (!jsExtensionModule.runExtensionSanityTests) {\n    return {\n      error: true,\n      message:\n        'Missing runExtensionSanityTests in the extension module exports',\n    };\n  }\n\n  const testResults = jsExtensionModule.runExtensionSanityTests(gd, extension);\n  if (some(testResults)) {\n    return {\n      error: true,\n      message: 'One or more tests are failing for the extension (see rawError)',\n      rawError: testResults,\n    };\n  }\n\n  return {\n    error: false,\n    message: 'Tests passed successfully',\n  };\n};\n\n/**\n * Load an extension from the specified JavaScript module, which is supposed\n * to contain a \"createExtension\" function returning a gd.PlatformExtension.\n */\nconst loadExtension = (\n  _ /*: TranslationFunction */,\n  gd /*: any */,\n  platform /*: gdPlatform*/,\n  jsExtensionModule /*: JsExtensionModule*/\n) /*: ExtensionLoadingResult*/ => {\n  if (!jsExtensionModule.createExtension) {\n    return {\n      message:\n        'Extension module found, but no createExtension method is exported',\n      error: true,\n    };\n  }\n\n  let extension = null;\n  try {\n    extension = jsExtensionModule.createExtension(_, gd);\n    if (!extension) {\n      return {\n        message: `createExtension did not return any extension. Did you forget to return the extension created?`,\n        error: true,\n      };\n    }\n  } catch (ex) {\n    return {\n      message: `🚨 Exception caught while running createExtension. 💣 Please fix this error as this will make GDevelop crash at some point.`,\n      error: true,\n      dangerous: true,\n      rawError: ex,\n    };\n  }\n\n  try {\n    const testsResult = runExtensionSanityTests(\n      gd,\n      extension,\n      jsExtensionModule\n    );\n    if (testsResult.error) {\n      extension.delete();\n      return testsResult;\n    }\n  } catch (ex) {\n    return {\n      message: `🚨 Exception caught while running runExtensionSanityTests. 💣 Please fix this error as this will make GDevelop crash at some point.`,\n      error: true,\n      dangerous: true,\n      rawError: ex,\n    };\n  }\n\n  platform.addNewExtension(extension);\n  extension.delete(); // Release the extension as it was copied inside gd.JsPlatform\n\n  return {\n    message: '✅ Successfully loaded the extension.',\n    error: false,\n  };\n};\n\nmodule.exports = {\n  runExtensionSanityTests,\n  loadExtension,\n};\n","// @flow\nimport * as React from 'react';\nimport { ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\nimport { I18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\ntype Props = {|\n  onPlay: () => void,\n  canPlay: boolean,\n  onPause: () => void,\n  canPause: boolean,\n  onOpenProfiler: () => void,\n|};\n\nexport class Toolbar extends React.PureComponent<Props> {\n  render() {\n    const { onPlay, onPause, canPlay, canPause, onOpenProfiler } = this.props;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <ToolbarGroup lastChild>\n            <ToolbarIcon\n              onClick={onPlay}\n              src=\"res/ribbon_default/preview32.png\"\n              disabled={!canPlay}\n              tooltip={i18n._(t`Play the game`)}\n            />\n            <ToolbarIcon\n              onClick={onPause}\n              src=\"res/ribbon_default/pause32.png\"\n              disabled={!canPause}\n              tooltip={i18n._(t`Pause the game`)}\n            />\n            <ToolbarSeparator />\n            <ToolbarIcon\n              onClick={onOpenProfiler}\n              src=\"res/ribbon_default/profiler32.png\"\n              tooltip={i18n._(t`Open the performance profiler`)}\n            />\n          </ToolbarGroup>\n        )}\n      </I18n>\n    );\n  }\n}\n\nexport default Toolbar;\n","// @flow\nimport * as React from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport get from 'lodash/get';\nimport {\n  type InspectorDescription,\n  type InspectorDescriptionsGetter,\n  type GameData,\n} from './GDJSInspectorDescriptions';\n\ntype Props = {|\n  gameData: GameData,\n  getInspectorDescriptions: InspectorDescriptionsGetter,\n  onChooseInspector: (\n    InspectorDescription,\n    fullInspectorPath: Array<string>\n  ) => void,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    display: 'flex',\n  },\n  list: {\n    overflowY: 'scroll',\n    flex: 1,\n  },\n};\n\n/**\n * Generate a visual list of inspectors, using gameData and getInspectorDescriptions\n */\nexport default class InspectorsList extends React.Component<Props, void> {\n  _renderInspectorList(\n    gameData: GameData,\n    getInspectorDescriptions: InspectorDescriptionsGetter,\n    path: Array<string>\n  ): Array<React.Node> {\n    return getInspectorDescriptions(gameData).map(inspectorDescription => {\n      if (!inspectorDescription) return null;\n      const fullInspectorPath = path.concat(inspectorDescription.key);\n\n      const getSubInspectors = inspectorDescription.getSubInspectors;\n      const nestedItems = getSubInspectors\n        ? this._renderInspectorList(\n            get(gameData, inspectorDescription.key, null),\n            getSubInspectors,\n            fullInspectorPath\n          )\n        : undefined;\n\n      return (\n        <ListItem\n          key={fullInspectorPath.join('.')}\n          primaryText={inspectorDescription.label}\n          initiallyOpen={!!inspectorDescription.initiallyOpen}\n          onClick={() =>\n            this.props.onChooseInspector(\n              inspectorDescription,\n              fullInspectorPath\n            )\n          }\n          nestedItems={nestedItems}\n          primaryTogglesNestedList\n        />\n      );\n    });\n  }\n\n  render() {\n    return this.props.gameData ? (\n      <List style={styles.list}>\n        {this._renderInspectorList(\n          this.props.gameData,\n          this.props.getInspectorDescriptions,\n          []\n        )}\n      </List>\n    ) : null;\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ReactJsonView from 'react-json-view';\nimport {\n  type GameData,\n  type EditFunction,\n  type CallFunction,\n} from '../GDJSInspectorDescriptions';\nimport mapValues from 'lodash/mapValues';\n\ntype Props = {|\n  variablesContainer: GameData,\n  onCall: CallFunction,\n  onEdit: EditFunction,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n};\n\nconst transformVariable = variable => {\n  if (!variable) return null;\n\n  if (!variable._isStructure) {\n    return variable._stringDirty ? variable._value : variable._str;\n  } else {\n    if (!variable._children) return null;\n\n    return mapValues(variable._children, transformVariable);\n  }\n};\n\nconst transform = variablesContainer => {\n  if (\n    !variablesContainer ||\n    !variablesContainer._variables ||\n    !variablesContainer._variables.items\n  )\n    return null;\n\n  return mapValues(variablesContainer._variables.items, transformVariable);\n};\n\nconst handleEdit = (edit, { onCall, onEdit }: Props) => {\n  // Reconstruct the path to the variable to edit\n  const path = ['_variables', 'items'];\n  edit.namespace.forEach(variableName => {\n    path.push(variableName);\n    path.push('_children');\n  });\n  path.push(edit.name);\n\n  // Guess the type of the new value (number or string)\n  if (parseFloat(edit.new_value).toString() === edit.new_value) {\n    path.push('setNumber');\n    onCall(path, [parseFloat(edit.new_value)]);\n  } else {\n    path.push('setString');\n    onCall(path, ['' + edit.new_value]);\n  }\n\n  return true;\n};\n\nexport default (props: Props) => (\n  <div style={styles.container}>\n    <ReactJsonView\n      collapsed={false}\n      name={false}\n      src={\n        props.variablesContainer ? transform(props.variablesContainer) : null\n      }\n      enableClipboard={false}\n      displayDataTypes={false}\n      displayObjectSize={false}\n      onEdit={edit => handleEdit(edit, props)}\n      groupArraysAfterLength={50}\n      theme=\"monokai\"\n    />\n  </div>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ReactJsonView from 'react-json-view';\nimport {\n  type GameData,\n  type EditFunction,\n  type CallFunction,\n} from '../GDJSInspectorDescriptions';\nimport VariablesContainerInspector from './VariablesContainerInspector';\n\ntype Props = {|\n  runtimeObject: GameData,\n  onCall: CallFunction,\n  onEdit: EditFunction,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n};\n\nconst transform = runtimeObject => {\n  if (!runtimeObject) return null;\n  return {\n    'X position': runtimeObject.x,\n    'Y position': runtimeObject.y,\n    Angle: runtimeObject.angle,\n    Layer: runtimeObject.layer,\n    'Z order': runtimeObject.zOrder,\n    'Is hidden?': runtimeObject.hidden,\n  };\n};\n\nconst handleEdit = (edit, { onCall, onEdit }: Props) => {\n  if (edit.name === 'X position') {\n    onCall(['setX'], [parseFloat(edit.new_value)]);\n  } else if (edit.name === 'Y position') {\n    onCall(['setY'], [parseFloat(edit.new_value)]);\n  } else if (edit.name === 'Angle') {\n    onCall(['setAngle'], [parseFloat(edit.new_value)]);\n  } else if (edit.name === 'Layer') {\n    onCall(['setLayer'], [edit.new_value]);\n  } else if (edit.name === 'Z order') {\n    onCall(['setZOrder'], [parseFloat(edit.new_value)]);\n  } else if (edit.name === 'Is hidden?') {\n    onCall(['hide'], [!!edit.new_value]);\n  } else return false;\n\n  return true;\n};\n\nexport default (props: Props) => (\n  <div style={styles.container}>\n    <p>\n      <Trans>General:</Trans>\n    </p>\n    <ReactJsonView\n      collapsed={false}\n      name={false}\n      src={transform(props.runtimeObject)}\n      enableClipboard={false}\n      displayDataTypes={false}\n      displayObjectSize={false}\n      onEdit={edit => handleEdit(edit, props)}\n      groupArraysAfterLength={50}\n      theme=\"monokai\"\n    />\n    <p>\n      <Trans>Instance variables:</Trans>\n    </p>\n    <VariablesContainerInspector\n      variablesContainer={\n        props.runtimeObject ? props.runtimeObject._variables : null\n      }\n      // TODO: onEdit and onCall could benefit from a \"forward\" utility function\n      // (can also be applied in DebuggerContent.js)\n      onEdit={(path, newValue) =>\n        props.onEdit(['_variables'].concat(path), newValue)\n      }\n      onCall={(path, args) => props.onCall(['_variables'].concat(path), args)}\n    />\n  </div>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ReactJsonView from 'react-json-view';\nimport {\n  type GameData,\n  type EditFunction,\n  type CallFunction,\n} from '../GDJSInspectorDescriptions';\nimport { Line } from '../../UI/Grid';\nimport mapValues from 'lodash/mapValues';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport SemiControlledAutoComplete from '../../UI/SemiControlledAutoComplete';\n\ntype Props = {|\n  runtimeScene: GameData,\n  onCall: CallFunction,\n  onEdit: EditFunction,\n|};\n\ntype State = {|\n  newObjectName: string,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n};\n\nconst transformLayer = layer => {\n  if (!layer) return null;\n  return {\n    'Camera rotation (in deg)': layer._cameraRotation,\n    'Camera zoom': layer._zoomFactor,\n    'Layer is hidden': !!layer._hidden,\n    'Camera X position': layer._cameraX,\n    'Camera Y position': layer._cameraY,\n    'Time scale': layer._timeScale,\n  };\n};\n\nconst transform = runtimeScene => {\n  if (!runtimeScene) return null;\n\n  return {\n    'Time scale': runtimeScene._timeManager\n      ? runtimeScene._timeManager._timeScale\n      : null,\n    Layers:\n      runtimeScene._layers && runtimeScene._layers.items\n        ? mapValues(runtimeScene._layers.items, transformLayer)\n        : null,\n  };\n};\n\nconst handleEdit = (edit, { onCall, onEdit }: Props) => {\n  if (edit.namespace.length === 0 && edit.name === 'Time scale') {\n    onCall(['_timeManager', 'setTimeScale'], [parseFloat(edit.new_value)]);\n  } else if (edit.namespace.length >= 2) {\n    if (edit.namespace[0] === 'Layers') {\n      if (edit.name === 'Camera rotation (in deg)') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setCameraRotation'],\n          [parseFloat(edit.new_value)]\n        );\n      } else if (edit.name === 'Camera zoom') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setCameraZoom'],\n          [parseFloat(edit.new_value)]\n        );\n      } else if (edit.name === 'Layer is hidden') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'show'],\n          [!edit.new_value]\n        );\n      } else if (edit.name === 'Camera X position') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setCameraX'],\n          [parseFloat(edit.new_value)]\n        );\n      } else if (edit.name === 'Camera Y position') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setCameraY'],\n          [parseFloat(edit.new_value)]\n        );\n      } else if (edit.name === 'Time scale') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setTimeScale'],\n          [parseFloat(edit.new_value)]\n        );\n      }\n    }\n  } else return false;\n\n  return true;\n};\n\nexport default class RuntimeSceneInspector extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    newObjectName: '',\n  };\n\n  render() {\n    const { runtimeScene, onCall } = this.props;\n    if (!runtimeScene) return null;\n\n    return (\n      <div style={styles.container}>\n        <p>\n          <Trans>Layers:</Trans>\n        </p>\n        <ReactJsonView\n          collapsed={false}\n          name={false}\n          src={transform(runtimeScene)}\n          enableClipboard={false}\n          displayDataTypes={false}\n          displayObjectSize={false}\n          onEdit={edit => handleEdit(edit, this.props)}\n          groupArraysAfterLength={50}\n          theme=\"monokai\"\n        />\n        <p>\n          <Trans>\n            Create a new instance on the scene (will be at position 0;0):\n          </Trans>\n        </p>\n        {runtimeScene._objects && runtimeScene._objects.items && (\n          <Line noMargin alignItems=\"baseline\">\n            <SemiControlledAutoComplete\n              hintText={<Trans>Enter the name of the object</Trans>}\n              value={this.state.newObjectName}\n              onChange={value => {\n                this.setState({\n                  newObjectName: value,\n                });\n              }}\n              dataSource={Object.keys(runtimeScene._objects.items).map(\n                objectName => ({\n                  text: objectName,\n                  value: objectName,\n                })\n              )}\n              openOnFocus\n            />\n            <RaisedButton\n              label={<Trans>Create</Trans>}\n              primary\n              onClick={() =>\n                onCall(['createObject'], [this.state.newObjectName])\n              }\n            />\n          </Line>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport RuntimeObjectInspector from './Inspectors/RuntimeObjectInspector';\nimport VariablesContainerInspector from './Inspectors/VariablesContainerInspector';\nimport RuntimeSceneInspector from './Inspectors/RuntimeSceneInspector';\n\nexport type GameData = any;\nexport type EditFunction = (path: Array<string>, newValue: any) => boolean;\nexport type CallFunction = (path: Array<string>, args: Array<any>) => boolean;\n\nexport type InspectorDescriptionsGetter = (\n  gameData: GameData\n) => Array<InspectorDescription>; //eslint-disable-line\n\nexport type InspectorDescription = {|\n  label: string,\n  key: string | Array<string>,\n  renderInspector: (\n    gameData: GameData,\n    {\n      onCall: CallFunction,\n      onEdit: EditFunction,\n    }\n  ) => React.Node,\n  getSubInspectors?: InspectorDescriptionsGetter,\n  initiallyOpen?: boolean,\n|};\n\n/**\n * Returns the list of inspectors, given the data coming from a GDJS RuntimeGame.\n * @param {*} gdjsRuntimeGame\n */\nexport const getInspectorDescriptions = (\n  gdjsRuntimeGame: GameData\n): Array<InspectorDescription> => {\n  return [\n    {\n      label: 'Global variables',\n      key: '_variables',\n      renderInspector: (gameData, { onCall, onEdit }) => (\n        <VariablesContainerInspector\n          variablesContainer={gameData}\n          onCall={onCall}\n          onEdit={onEdit}\n        />\n      ),\n    },\n    {\n      label: 'Scenes',\n      key: ['_sceneStack', '_stack'],\n      renderInspector: () => null,\n      initiallyOpen: true,\n      getSubInspectors: gdjsStack => {\n        if (!gdjsStack) return [];\n\n        return gdjsStack.map((runtimeScene, index) => ({\n          label: runtimeScene._name,\n          key: index,\n          renderInspector: (gameData, { onCall, onEdit }) => (\n            <RuntimeSceneInspector\n              runtimeScene={gameData}\n              onCall={onCall}\n              onEdit={onEdit}\n            />\n          ),\n          initiallyOpen: true,\n          getSubInspectors: runtimeScene => [\n            {\n              label: 'Scene variables',\n              key: `_variables`,\n              renderInspector: (gameData, { onCall, onEdit }) => (\n                <VariablesContainerInspector\n                  variablesContainer={gameData}\n                  onCall={onCall}\n                  onEdit={onEdit}\n                />\n              ),\n            },\n            {\n              label: 'Instances',\n              key: `_instances`,\n              renderInspector: () => null,\n              initiallyOpen: true,\n              getSubInspectors: instances => {\n                if (!instances || !instances.items) return [];\n\n                return Object.keys(instances.items).map(objectName => {\n                  if (\n                    !instances.items[objectName] ||\n                    typeof instances.items[objectName].length === undefined\n                  )\n                    return null;\n\n                  return {\n                    label: `${objectName} (${\n                      instances.items[objectName].length\n                    })`,\n                    key: ['items', objectName],\n                    renderInspector: () => null,\n                    getSubInspectors: instancesList =>\n                      instancesList\n                        ? instancesList\n                            .filter(runtimeObject => !!runtimeObject)\n                            .map((runtimeObject, index) => {\n                              return {\n                                label: `#${runtimeObject.id}`,\n                                key: index,\n                                renderInspector: (\n                                  gameData,\n                                  { onCall, onEdit }\n                                ) => (\n                                  <RuntimeObjectInspector\n                                    runtimeObject={gameData}\n                                    onCall={onCall}\n                                    onEdit={onEdit}\n                                  />\n                                ),\n                              };\n                            })\n                        : [],\n                  };\n                });\n              },\n            },\n          ],\n        }));\n      },\n    },\n  ];\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ReactJsonView from 'react-json-view';\nimport { type GameData } from '../GDJSInspectorDescriptions';\nimport EmptyMessage from '../../UI/EmptyMessage';\n\ntype Props = {|\n  gameData: GameData,\n  onEdit: (path: Array<string>, newValue: any) => boolean,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n};\n\n/**\n * A very simple inspector that display the raw information given by the gameData\n * object.\n */\nexport default ({ gameData, onEdit }: Props) => (\n  <div style={styles.container}>\n    <EmptyMessage>\n      <Trans>\n        You are in raw mode. You can edit the fields, but be aware that this can\n        lead to unexpected results or even crash the debugged game!\n      </Trans>\n    </EmptyMessage>\n    <ReactJsonView\n      collapsed={1}\n      name={false}\n      src={gameData}\n      onEdit={edit => {\n        return onEdit(edit.namespace.concat(edit.name), edit.new_value);\n      }}\n      groupArraysAfterLength={50}\n      theme=\"monokai\"\n    />\n  </div>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { AutoSizer, Table, Column } from 'react-virtualized';\nimport ThemeConsumer from '../../UI/Theme/ThemeConsumer';\nimport flatMap from 'lodash/flatMap';\nimport { type ProfilerMeasuresSection } from '..';\nimport IconButton from 'material-ui/IconButton';\nimport ExpandMore from 'material-ui/svg-icons/navigation/expand-more';\nimport ChevronRight from 'material-ui/svg-icons/navigation/chevron-right';\n\nconst styles = {\n  indent: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n};\n\ntype Props = {|\n  profilerMeasures: ?ProfilerMeasuresSection,\n|};\n\ntype ProfilerRowData = {|\n  name: string,\n  time: string,\n  parentPercent: string,\n  totalPercent: string,\n  depth: number,\n  hasSubsections: boolean,\n  path: string,\n  isCollapsed: boolean,\n|};\n\ntype State = {|\n  collapsedPaths: { [string]: boolean },\n|};\n\nexport default class MeasuresTable extends React.Component<Props, State> {\n  state = {\n    collapsedPaths: {},\n  };\n\n  _convertToDataRows = (\n    name: string,\n    parentSection: ?ProfilerMeasuresSection,\n    section: ProfilerMeasuresSection,\n    depth: number = 0,\n    path: string = ''\n  ): Array<ProfilerRowData> => {\n    const { profilerMeasures } = this.props;\n\n    const parentPercent =\n      parentSection && section.time && parentSection.time !== 0\n        ? (section.time / parentSection.time) * 100\n        : 100;\n    const totalPercent =\n      profilerMeasures && section.time && profilerMeasures.time !== 0\n        ? (section.time / profilerMeasures.time) * 100\n        : 100;\n    const isCollapsed = this._isSectionCollapsed(path);\n\n    return [\n      {\n        name,\n        time: section.time ? `${section.time.toFixed(2)}ms` : '?',\n        parentPercent: `${parentPercent.toFixed(2)}%`,\n        totalPercent: `${totalPercent.toFixed(2)}%`,\n        depth,\n        hasSubsections: !!Object.keys(section.subsections).length,\n        path,\n        isCollapsed,\n      },\n      ...(isCollapsed\n        ? []\n        : flatMap(section.subsections, (subsection, subsectionName) =>\n            this._convertToDataRows(\n              subsectionName,\n              section,\n              subsection,\n              depth + 1,\n              `${path}>${depth}.${subsectionName}`\n            )\n          )),\n    ];\n  };\n\n  _isSectionCollapsed = (path: string) => {\n    return this.state.collapsedPaths[path];\n  };\n\n  _toggleSection = (path: string) => {\n    this.setState(state => ({\n      collapsedPaths: {\n        ...state.collapsedPaths,\n        [path]: !state.collapsedPaths[path],\n      },\n    }));\n  };\n\n  _rowClassName = ({ index }: { index: number }) => {\n    if (index < 0) {\n      return 'tableHeaderRow';\n    } else {\n      return index % 2 === 0 ? 'tableEvenRow' : 'tableOddRow';\n    }\n  };\n\n  _renderSectionNameCell = ({ rowData }: { rowData: ProfilerRowData }) => {\n    return (\n      <div style={styles.indent}>\n        <div style={{ width: rowData.depth * 8 }} />\n        {rowData.hasSubsections ? (\n          <IconButton onClick={() => this._toggleSection(rowData.path)}>\n            {rowData.isCollapsed ? <ChevronRight /> : <ExpandMore />}\n          </IconButton>\n        ) : (\n          <div style={{ width: 24 }} />\n        )}\n        {rowData.name}\n      </div>\n    );\n  };\n\n  render() {\n    const { profilerMeasures } = this.props;\n    if (!profilerMeasures) return null;\n\n    const dataRows = this._convertToDataRows('All', null, profilerMeasures);\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <AutoSizer>\n            {({ height, width }) => (\n              <Table\n                headerHeight={30}\n                height={height}\n                className={muiTheme.tableRootClassName}\n                headerClassName={'tableHeaderColumn'}\n                rowCount={dataRows.length}\n                rowGetter={({ index }) => dataRows[index]}\n                rowHeight={35}\n                onRowClick={() => {}}\n                rowClassName={this._rowClassName}\n                width={width}\n              >\n                <Column\n                  label={<Trans>Section name</Trans>}\n                  dataKey=\"name\"\n                  width={width * 0.4}\n                  className={'tableColumn'}\n                  cellRenderer={this._renderSectionNameCell}\n                />\n                <Column\n                  label={<Trans>Time (ms)</Trans>}\n                  dataKey=\"time\"\n                  width={width * 0.2}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>% of parent</Trans>}\n                  dataKey=\"parentPercent\"\n                  width={width * 0.2}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>% of total</Trans>}\n                  dataKey=\"totalPercent\"\n                  width={width * 0.2}\n                  className={'tableColumn'}\n                />\n              </Table>\n            )}\n          </AutoSizer>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport MeasuresTable from './MeasuresTable';\nimport { type ProfilerOutput } from '..';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { Line } from '../../UI/Grid';\nimport Background from '../../UI/Background';\nimport LinearProgress from 'material-ui/LinearProgress';\n\nconst styles = {\n  tableContainer: {\n    flex: 1,\n  },\n};\n\ntype Props = {|\n  onStart: () => void,\n  onStop: () => void,\n  profilerOutput: ?ProfilerOutput,\n  profilingInProgress: boolean,\n|};\n\nexport default class Profiler extends React.Component<Props, void> {\n  render() {\n    const { onStart, onStop, profilerOutput, profilingInProgress } = this.props;\n\n    return (\n      <Background>\n        <Line alignItems=\"center\" justifyContent=\"center\">\n          {!profilingInProgress && profilerOutput && (\n            <p>\n              <Trans>\n                Last run collected on {profilerOutput.stats.framesCount} frames.\n              </Trans>\n            </p>\n          )}\n          {!profilingInProgress && profilerOutput && (\n            <RaisedButton label={<Trans>Restart</Trans>} onClick={onStart} />\n          )}\n          {!profilingInProgress && !profilerOutput && (\n            <RaisedButton\n              label={<Trans>Start profiling</Trans>}\n              onClick={onStart}\n            />\n          )}\n          {profilingInProgress && (\n            <RaisedButton\n              label={<Trans>Stop profiling</Trans>}\n              onClick={onStop}\n            />\n          )}\n        </Line>\n        {profilingInProgress && (\n          <Line alignItems=\"center\">\n            <LinearProgress style={{ flex: 1 }} mode={'indeterminate'} />\n          </Line>\n        )}\n        <div style={styles.tableContainer}>\n          {profilerOutput && (\n            <MeasuresTable\n              profilerMeasures={profilerOutput.framesAverageMeasures}\n            />\n          )}\n          {!profilerOutput && (\n            <EmptyMessage>\n              <Trans>\n                Start profiling and then stop it after a few seconds to see the\n                results.\n              </Trans>\n            </EmptyMessage>\n          )}\n        </div>\n      </Background>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport EditorMosaic, { MosaicWindow } from '../UI/EditorMosaic';\nimport Background from '../UI/Background';\nimport get from 'lodash/get';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Column, Line } from '../UI/Grid';\nimport InspectorsList from './InspectorsList';\nimport {\n  getInspectorDescriptions,\n  type InspectorDescription,\n  type EditFunction,\n  type CallFunction,\n} from './GDJSInspectorDescriptions';\nimport RawContentInspector from './Inspectors/RawContentInspector';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport Checkbox from 'material-ui/Checkbox';\nimport Flash from 'material-ui/svg-icons/image/flash-on';\nimport FlashOff from 'material-ui/svg-icons/image/flash-off';\nimport HelpButton from '../UI/HelpButton';\nimport Profiler from './Profiler';\nimport { type ProfilerOutput } from '.';\n\ntype Props = {|\n  gameData: ?any,\n  onEdit: EditFunction,\n  onCall: CallFunction,\n  onPlay: () => void,\n  onPause: () => void,\n  onRefresh: () => void,\n  onStartProfiler: () => void,\n  onStopProfiler: () => void,\n  profilerOutput: ?ProfilerOutput,\n  profilingInProgress: boolean,\n|};\n\ntype State = {|\n  selectedInspector: ?InspectorDescription,\n  selectedInspectorFullPath: Array<string>,\n  rawMode: boolean,\n|};\n\n/**\n * The debugger interface: show the list of inspectors for a game, along with the\n * currently selected inspector.\n */\nexport default class DebuggerContent extends React.Component<Props, State> {\n  state = {\n    selectedInspector: null,\n    selectedInspectorFullPath: [],\n    rawMode: false,\n  };\n\n  _editors: ?EditorMosaic = null;\n\n  openProfiler = () => {\n    if (this._editors) this._editors.openEditor('profiler', 'bottom');\n  };\n\n  render() {\n    const {\n      gameData,\n      onRefresh,\n      onCall,\n      onEdit,\n      onStartProfiler,\n      onStopProfiler,\n      profilerOutput,\n      profilingInProgress,\n    } = this.props;\n    const {\n      selectedInspector,\n      selectedInspectorFullPath,\n      rawMode,\n    } = this.state;\n\n    return (\n      <EditorMosaic\n        ref={editors => (this._editors = editors)}\n        editors={{\n          inspectors: (\n            <MosaicWindow\n              title={<Trans>Inspectors</Trans>}\n              toolbarControls={[]}\n              gameData={gameData}\n            >\n              <Background>\n                <Column expand noMargin>\n                  <Line justifyContent=\"center\">\n                    <RaisedButton\n                      label={<Trans>Refresh</Trans>}\n                      onClick={onRefresh}\n                      primary\n                    />\n                  </Line>\n                  <Line expand noMargin>\n                    <InspectorsList\n                      gameData={gameData}\n                      getInspectorDescriptions={getInspectorDescriptions}\n                      onChooseInspector={(\n                        selectedInspector,\n                        selectedInspectorFullPath\n                      ) =>\n                        this.setState({\n                          selectedInspector,\n                          selectedInspectorFullPath,\n                        })\n                      }\n                    />\n                  </Line>\n                </Column>\n              </Background>\n            </MosaicWindow>\n          ),\n          'selected-inspector': (\n            <Column expand noMargin>\n              {' '}\n              {selectedInspector ? (\n                rawMode ? (\n                  <RawContentInspector\n                    gameData={get(gameData, selectedInspectorFullPath, null)}\n                    onEdit={(path, newValue) =>\n                      onEdit(selectedInspectorFullPath.concat(path), newValue)\n                    }\n                  />\n                ) : (\n                  selectedInspector.renderInspector(\n                    get(gameData, selectedInspectorFullPath, null),\n                    {\n                      onCall: (path, args) =>\n                        onCall(selectedInspectorFullPath.concat(path), args),\n                      onEdit: (path, newValue) =>\n                        onEdit(\n                          selectedInspectorFullPath.concat(path),\n                          newValue\n                        ),\n                    }\n                  ) || (\n                    <EmptyMessage>\n                      <Trans>\n                        No inspector, choose another element in the list or\n                        toggle the raw data view.\n                      </Trans>\n                    </EmptyMessage>\n                  )\n                )\n              ) : (\n                <EmptyMessage>\n                  {gameData\n                    ? 'Choose an element to inspect in the list'\n                    : 'Pause the game (from the toolbar) or hit refresh (on the left) to inspect the game'}\n                </EmptyMessage>\n              )}\n              <Column>\n                <Line justifyContent=\"space-between\" alignItems=\"center\">\n                  <HelpButton helpPagePath=\"/interface/debugger\" />\n                  <div>\n                    <Checkbox\n                      checkedIcon={<Flash />}\n                      uncheckedIcon={<FlashOff />}\n                      checked={rawMode}\n                      onCheck={(e, enabled) =>\n                        this.setState({\n                          rawMode: enabled,\n                        })\n                      }\n                    />\n                  </div>\n                </Line>\n              </Column>\n            </Column>\n          ),\n          profiler: (\n            <MosaicWindow\n              title={<Trans>Profiler</Trans>}\n              // Pass profilerOutput to force MosaicWindow update when profilerOutput is changed\n              profilerOutput={profilerOutput}\n              profilingInProgress={profilingInProgress}\n            >\n              <Profiler\n                onStart={onStartProfiler}\n                onStop={onStopProfiler}\n                profilerOutput={profilerOutput}\n                profilingInProgress={profilingInProgress}\n              />\n            </MosaicWindow>\n          ),\n        }}\n        initialNodes={{\n          direction: 'column',\n          first: {\n            direction: 'row',\n            first: 'inspectors',\n            second: 'selected-inspector',\n            splitPercentage: 25,\n          },\n          second: 'profiler',\n          splitPercentage: 65,\n        }}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { Column } from '../UI/Grid';\nimport { type DebuggerId } from '.';\n\ntype Props = {|\n  selectedId: DebuggerId,\n  debuggerIds: Array<DebuggerId>,\n  onChooseDebugger: DebuggerId => void,\n|};\n\nexport default class DebuggerSelector extends React.Component<Props, void> {\n  render() {\n    const hasDebuggers = !!this.props.debuggerIds.length;\n    return (\n      <Column>\n        <SelectField\n          fullWidth\n          value={hasDebuggers ? this.props.selectedId : 0}\n          onChange={(e, i, value) => this.props.onChooseDebugger(value)}\n          disabled={!hasDebuggers}\n        >\n          {this.props.debuggerIds.map(id => (\n            <MenuItem value={id} key={id} primaryText={'Game preview #' + id} />\n          ))}\n          {!hasDebuggers && (\n            <MenuItem\n              value={0}\n              primaryText={\n                'No preview running. Run a preview and you will be able to inspect it with the debugger'\n              }\n            />\n          )}\n        </SelectField>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Toolbar from './Toolbar';\nimport DebuggerContent from './DebuggerContent';\nimport DebuggerSelector from './DebuggerSelector';\nimport { Column } from '../UI/Grid';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport PlaceholderMessage from '../UI/PlaceholderMessage';\nimport Background from '../UI/Background';\nimport optionalRequire from '../Utils/OptionalRequire';\nimport EmptyMessage from '../UI/EmptyMessage';\nconst electron = optionalRequire('electron');\nconst ipcRenderer = electron ? electron.ipcRenderer : null;\n\n//Each game connected to the debugger server is identified by a unique number\nexport type DebuggerId = number;\n\nexport type ProfilerMeasuresSection = {|\n  time: number,\n  subsections: { [string]: ProfilerMeasuresSection },\n|};\n\nexport type ProfilerOutput = {|\n  framesAverageMeasures: ProfilerMeasuresSection,\n  stats: {\n    framesCount: number,\n  },\n|};\n\ntype Props = {|\n  project: gdProject,\n  setToolbar: React.Node => void,\n  isActive: boolean,\n|};\n\ntype State = {|\n  debuggerServerStarted: boolean,\n  debuggerServerError: ?any,\n\n  debuggerIds: Array<DebuggerId>,\n  debuggerGameData: { [DebuggerId]: any },\n  profilerOutputs: { [DebuggerId]: ProfilerOutput },\n  profilingInProgress: { [DebuggerId]: boolean },\n  selectedId: DebuggerId,\n|};\n\n/**\n * Start the debugger server, listen to commands received and issue commands to it.\n * This is only supported on Electron runtime for now.\n */\nexport default class Debugger extends React.Component<Props, State> {\n  state = {\n    debuggerServerStarted: false,\n    debuggerServerError: null,\n    debuggerIds: [],\n    debuggerGameData: {},\n    profilerOutputs: {},\n    profilingInProgress: {},\n    selectedId: 0,\n  };\n\n  _debuggerContents: { [DebuggerId]: ?DebuggerContent } = {};\n\n  updateToolbar() {\n    if (!this.props.isActive) return;\n\n    this.props.setToolbar(\n      <Toolbar\n        onPlay={() => this._play(this.state.selectedId)}\n        onPause={() => this._pause(this.state.selectedId)}\n        canPlay={this._hasSelectedDebugger()}\n        canPause={this._hasSelectedDebugger()}\n        onOpenProfiler={() => {\n          if (this._debuggerContents[this.state.selectedId])\n            this._debuggerContents[this.state.selectedId].openProfiler();\n        }}\n      />\n    );\n  }\n\n  componentDidMount() {\n    if (this.props.isActive) {\n      this._startServer();\n    }\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.isActive && !this.props.isActive) {\n      this._startServer();\n    }\n  }\n\n  componentWillUnmount() {\n    this._removeServerListeners();\n  }\n\n  _removeServerListeners = () => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.removeAllListeners('debugger-send-message-done');\n    ipcRenderer.removeAllListeners('debugger-error-received');\n    ipcRenderer.removeAllListeners('debugger-connection-closed');\n    ipcRenderer.removeAllListeners('debugger-connection-opened');\n    ipcRenderer.removeAllListeners('debugger-start-server-done');\n    ipcRenderer.removeAllListeners('debugger-message-received');\n  };\n\n  _startServer = () => {\n    if (!ipcRenderer) return;\n\n    this.setState({\n      debuggerServerStarted: false,\n    });\n    this._removeServerListeners();\n\n    ipcRenderer.on('debugger-error-received', (event, err) => {\n      this.setState(\n        {\n          debuggerServerError: err,\n        },\n        () => this.updateToolbar()\n      );\n    });\n\n    ipcRenderer.on('debugger-connection-closed', (event, { id }) => {\n      const { debuggerIds, selectedId } = this.state;\n      const remainingDebuggerIds = debuggerIds.filter(\n        debuggerId => debuggerId !== id\n      );\n      this.setState(\n        {\n          debuggerIds: remainingDebuggerIds,\n          selectedId:\n            selectedId !== id\n              ? selectedId\n              : remainingDebuggerIds.length\n              ? remainingDebuggerIds[remainingDebuggerIds.length - 1]\n              : selectedId,\n        },\n        () => this.updateToolbar()\n      );\n    });\n\n    ipcRenderer.on('debugger-connection-opened', (event, { id }) => {\n      this.setState(\n        {\n          debuggerIds: [...this.state.debuggerIds, id],\n          selectedId: id,\n        },\n        () => this.updateToolbar()\n      );\n    });\n\n    ipcRenderer.on('debugger-start-server-done', event => {\n      this.setState(\n        {\n          debuggerServerStarted: true,\n        },\n        () => this.updateToolbar()\n      );\n    });\n\n    ipcRenderer.on('debugger-message-received', (event, { id, message }) => {\n      console.log('Processing message received for debugger');\n      try {\n        const data = JSON.parse(message);\n        this._handleMessage(id, data);\n      } catch (e) {\n        console.warn(\n          'Error while parsing message received from debugger client:',\n          e\n        );\n      }\n    });\n    ipcRenderer.send('debugger-start-server');\n  };\n\n  _handleMessage = (id: DebuggerId, data: any) => {\n    if (data.command === 'dump') {\n      this.setState({\n        debuggerGameData: {\n          ...this.state.debuggerGameData,\n          [id]: data.payload,\n        },\n      });\n    } else if (data.command === 'profiler.output') {\n      this.setState({\n        profilerOutputs: {\n          ...this.state.profilerOutputs,\n          [id]: data.payload,\n        },\n      });\n    } else if (data.command === 'profiler.started') {\n      this.setState(state => ({\n        profilingInProgress: { ...state.profilingInProgress, [id]: true },\n      }));\n    } else if (data.command === 'profiler.stopped') {\n      this.setState(state => ({\n        profilingInProgress: { ...state.profilingInProgress, [id]: false },\n      }));\n    } else {\n      console.warn(\n        'Unknown command received from debugger client:',\n        data.command\n      );\n    }\n  };\n\n  _play = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"play\"}',\n    });\n  };\n\n  _pause = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"pause\"}',\n    });\n  };\n\n  _refresh = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"refresh\"}',\n    });\n  };\n\n  _edit = (id: DebuggerId, path: Array<string>, newValue: any) => {\n    if (!ipcRenderer) return false;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: JSON.stringify({\n        command: 'set',\n        path,\n        newValue,\n      }),\n    });\n\n    setTimeout(() => this._refresh(id), 100);\n    return true;\n  };\n\n  _call = (id: DebuggerId, path: Array<string>, args: Array<any>) => {\n    if (!ipcRenderer) return false;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: JSON.stringify({\n        command: 'call',\n        path,\n        args,\n      }),\n    });\n\n    setTimeout(() => this._refresh(id), 100);\n    return true;\n  };\n\n  _startProfiler = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"profiler.start\"}',\n    });\n  };\n\n  _stopProfiler = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"profiler.stop\"}',\n    });\n  };\n\n  _hasSelectedDebugger = () => {\n    const { selectedId, debuggerIds } = this.state;\n    return debuggerIds.indexOf(selectedId) !== -1;\n  };\n\n  render() {\n    const {\n      debuggerServerError,\n      debuggerServerStarted,\n      selectedId,\n      debuggerIds,\n      debuggerGameData,\n      profilerOutputs,\n      profilingInProgress,\n    } = this.state;\n\n    return (\n      <Background>\n        {!debuggerServerStarted && !debuggerServerError && (\n          <PlaceholderMessage>\n            <PlaceholderLoader />\n            <p>\n              <Trans>Debugger is starting...</Trans>\n            </p>\n          </PlaceholderMessage>\n        )}\n        {!debuggerServerStarted && debuggerServerError && (\n          <PlaceholderMessage>\n            <p>\n              <Trans>\n                Unable to start the debugger server! Make sure that you are\n                authorized to run servers on this computer.\n              </Trans>\n            </p>\n          </PlaceholderMessage>\n        )}\n        {debuggerServerStarted && (\n          <Column expand noMargin>\n            <DebuggerSelector\n              selectedId={selectedId}\n              debuggerIds={debuggerIds}\n              onChooseDebugger={id =>\n                this.setState({\n                  selectedId: id,\n                })\n              }\n            />\n            {this._hasSelectedDebugger() && (\n              <DebuggerContent\n                ref={debuggerContent =>\n                  (this._debuggerContents[selectedId] = debuggerContent)\n                }\n                gameData={debuggerGameData[selectedId]}\n                onPlay={() => this._play(selectedId)}\n                onPause={() => this._pause(selectedId)}\n                onRefresh={() => this._refresh(selectedId)}\n                onEdit={(path, args) => this._edit(selectedId, path, args)}\n                onCall={(path, args) => this._call(selectedId, path, args)}\n                onStartProfiler={() => this._startProfiler(selectedId)}\n                onStopProfiler={() => this._stopProfiler(selectedId)}\n                profilerOutput={profilerOutputs[selectedId]}\n                profilingInProgress={profilingInProgress[selectedId]}\n              />\n            )}\n            {!this._hasSelectedDebugger() && (\n              <EmptyMessage>\n                <Trans>\n                  Run a preview and you will be able to inspect it with the\n                  debugger.\n                </Trans>\n              </EmptyMessage>\n            )}\n          </Column>\n        )}\n      </Background>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Debugger from '../../Debugger';\nimport BaseEditor from './BaseEditor';\nimport SubscriptionChecker from '../../Profile/SubscriptionChecker';\n\nexport default class DebuggerEditor extends BaseEditor {\n  editor: ?Debugger;\n  _subscriptionChecker: ?SubscriptionChecker;\n  state = {\n    subscriptionChecked: false,\n  };\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  componentWillReceiveProps() {\n    this._checkHasSubscription();\n  }\n\n  componentDidMount() {\n    this._checkHasSubscription();\n  }\n\n  _checkHasSubscription() {\n    if (\n      this._subscriptionChecker &&\n      this.props.isActive &&\n      !this.state.subscriptionChecked\n    ) {\n      this._subscriptionChecker.checkHasSubscription();\n      this.setState({\n        subscriptionChecked: true,\n      });\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Debugger {...this.props} ref={editor => (this.editor = editor)} />\n        <SubscriptionChecker\n          ref={subscriptionChecker =>\n            (this._subscriptionChecker = subscriptionChecker)\n          }\n          onChangeSubscription={() => {\n            if (this.props.onChangeSubscription)\n              this.props.onChangeSubscription();\n          }}\n          id=\"Debugger\"\n          title={<Trans>Debugger</Trans>}\n          mode=\"try\"\n        />\n      </React.Fragment>\n    );\n  }\n}\n","const themeData = {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    {\n      foreground: '969896',\n      token: 'comment',\n    },\n    {\n      foreground: 'ced1cf',\n      token: 'keyword.operator.class',\n    },\n    {\n      foreground: 'ced1cf',\n      token: 'constant.other',\n    },\n    {\n      foreground: 'ced1cf',\n      token: 'source.php.embedded.line',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'variable',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'support.other.variable',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'string.other.link',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'meta.tag',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'declaration.tag',\n    },\n    {\n      foreground: 'de935f',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: 'de935f',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'de935f',\n      token: 'support.constant',\n    },\n    {\n      foreground: 'de935f',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'de935f',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: 'de935f',\n      token: 'punctuation.section.embedded',\n    },\n    {\n      foreground: 'de935f',\n      token: 'keyword.other.unit',\n    },\n    {\n      foreground: 'f0c674',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: 'f0c674',\n      token: 'entity.name.type.class',\n    },\n    {\n      foreground: 'f0c674',\n      token: 'support.type',\n    },\n    {\n      foreground: 'f0c674',\n      token: 'support.class',\n    },\n    {\n      foreground: 'b5bd68',\n      token: 'string',\n    },\n    {\n      foreground: 'b5bd68',\n      token: 'constant.other.symbol',\n    },\n    {\n      foreground: 'b5bd68',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: 'b5bd68',\n      token: 'markup.heading',\n    },\n    {\n      foreground: '8abeb7',\n      token: 'keyword.operator',\n    },\n    {\n      foreground: '8abeb7',\n      token: 'constant.other.color',\n    },\n    {\n      foreground: '81a2be',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '81a2be',\n      token: 'meta.function-call',\n    },\n    {\n      foreground: '81a2be',\n      token: 'support.function',\n    },\n    {\n      foreground: '81a2be',\n      token: 'keyword.other.special-method',\n    },\n    {\n      foreground: '81a2be',\n      token: 'meta.block-level',\n    },\n    {\n      foreground: 'b294bb',\n      token: 'keyword',\n    },\n    {\n      foreground: 'b294bb',\n      token: 'storage',\n    },\n    {\n      foreground: 'b294bb',\n      token: 'storage.type',\n    },\n    {\n      foreground: 'b294bb',\n      token: 'entity.name.tag.css',\n    },\n    {\n      foreground: 'ced2cf',\n      background: 'df5f5f',\n      token: 'invalid',\n    },\n    {\n      foreground: 'ced2cf',\n      background: '82a3bf',\n      token: 'meta.separator',\n    },\n    {\n      foreground: 'ced2cf',\n      background: 'b798bf',\n      token: 'invalid.deprecated',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#C5C8C6',\n    'editor.background': '#1D1F21',\n    'editor.selectionBackground': '#373B41',\n    'editor.lineHighlightBackground': '#282A2E',\n    'editorCursor.foreground': '#AEAFAD',\n    'editorWhitespace.foreground': '#4B4E55',\n  },\n};\n\nexport default {\n  name: 'Tomorrow-Night',\n  themeName: 'tomorrow-night',\n  themeData,\n};\n","const themeData = {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    {\n      foreground: '75715e',\n      token: 'comment',\n    },\n    {\n      foreground: 'e6db74',\n      token: 'string',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.other',\n    },\n    {\n      foreground: 'f92672',\n      token: 'keyword',\n    },\n    {\n      foreground: 'f92672',\n      token: 'storage',\n    },\n    {\n      foreground: '66d9ef',\n      fontStyle: 'italic',\n      token: 'storage.type',\n    },\n    {\n      foreground: 'a6e22e',\n      fontStyle: 'underline',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: 'a6e22e',\n      fontStyle: 'italic underline',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: 'a6e22e',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: 'fd971f',\n      fontStyle: 'italic',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: 'f92672',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: 'a6e22e',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: '66d9ef',\n      token: 'support.function',\n    },\n    {\n      foreground: '66d9ef',\n      token: 'support.constant',\n    },\n    {\n      foreground: '66d9ef',\n      fontStyle: 'italic',\n      token: 'support.type',\n    },\n    {\n      foreground: '66d9ef',\n      fontStyle: 'italic',\n      token: 'support.class',\n    },\n    {\n      foreground: 'f8f8f0',\n      background: 'f92672',\n      token: 'invalid',\n    },\n    {\n      foreground: 'f8f8f0',\n      background: 'ae81ff',\n      token: 'invalid.deprecated',\n    },\n    {\n      foreground: 'cfcfc2',\n      token: 'meta.structure.dictionary.json string.quoted.double.json',\n    },\n    {\n      foreground: '75715e',\n      token: 'meta.diff',\n    },\n    {\n      foreground: '75715e',\n      token: 'meta.diff.header',\n    },\n    {\n      foreground: 'f92672',\n      token: 'markup.deleted',\n    },\n    {\n      foreground: 'a6e22e',\n      token: 'markup.inserted',\n    },\n    {\n      foreground: 'e6db74',\n      token: 'markup.changed',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.numeric.line-number.find-in-files - match',\n    },\n    {\n      foreground: 'e6db74',\n      token: 'entity.name.filename.find-in-files',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#F8F8F2',\n    'editor.background': '#272822',\n    'editor.selectionBackground': '#49483E',\n    'editor.lineHighlightBackground': '#3E3D32',\n    'editorCursor.foreground': '#F8F8F0',\n    'editorWhitespace.foreground': '#3B3A32',\n    'editorIndentGuide.activeBackground': '#9D550F',\n    'editor.selectionHighlightBorder': '#222218',\n  },\n};\n\nexport default {\n  name: 'Monokai',\n  themeName: 'monokai',\n  themeData,\n};\n","const themeData = {\n  base: 'vs',\n  inherit: true,\n  rules: [\n    {\n      foreground: '8e908c',\n      token: 'comment',\n    },\n    {\n      foreground: '666969',\n      token: 'keyword.operator.class',\n    },\n    {\n      foreground: '666969',\n      token: 'constant.other',\n    },\n    {\n      foreground: '666969',\n      token: 'source.php.embedded.line',\n    },\n    {\n      foreground: 'c82829',\n      token: 'variable',\n    },\n    {\n      foreground: 'c82829',\n      token: 'support.other.variable',\n    },\n    {\n      foreground: 'c82829',\n      token: 'string.other.link',\n    },\n    {\n      foreground: 'c82829',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'c82829',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: 'c82829',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: 'c82829',\n      token: 'meta.tag',\n    },\n    {\n      foreground: 'c82829',\n      token: 'declaration.tag',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'support.constant',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'punctuation.section.embedded',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'keyword.other.unit',\n    },\n    {\n      foreground: 'c99e00',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: 'c99e00',\n      token: 'entity.name.type.class',\n    },\n    {\n      foreground: 'c99e00',\n      token: 'support.type',\n    },\n    {\n      foreground: 'c99e00',\n      token: 'support.class',\n    },\n    {\n      foreground: '718c00',\n      token: 'string',\n    },\n    {\n      foreground: '718c00',\n      token: 'constant.other.symbol',\n    },\n    {\n      foreground: '718c00',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: '718c00',\n      token: 'markup.heading',\n    },\n    {\n      foreground: '3e999f',\n      token: 'keyword.operator',\n    },\n    {\n      foreground: '3e999f',\n      token: 'constant.other.color',\n    },\n    {\n      foreground: '4271ae',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '4271ae',\n      token: 'meta.function-call',\n    },\n    {\n      foreground: '4271ae',\n      token: 'support.function',\n    },\n    {\n      foreground: '4271ae',\n      token: 'keyword.other.special-method',\n    },\n    {\n      foreground: '4271ae',\n      token: 'meta.block-level',\n    },\n    {\n      foreground: '8959a8',\n      token: 'keyword',\n    },\n    {\n      foreground: '8959a8',\n      token: 'storage',\n    },\n    {\n      foreground: '8959a8',\n      token: 'storage.type',\n    },\n    {\n      foreground: 'ffffff',\n      background: 'c82829',\n      token: 'invalid',\n    },\n    {\n      foreground: 'ffffff',\n      background: '4271ae',\n      token: 'meta.separator',\n    },\n    {\n      foreground: 'ffffff',\n      background: '8959a8',\n      token: 'invalid.deprecated',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#4D4D4C',\n    'editor.background': '#FFFFFF',\n    'editor.selectionBackground': '#D6D6D6',\n    'editor.lineHighlightBackground': '#EFEFEF',\n    'editorCursor.foreground': '#AEAFAD',\n    'editorWhitespace.foreground': '#D1D1D1',\n  },\n};\n\nexport default {\n  name: 'Tomorrow',\n  themeName: 'tomorrow',\n  themeData,\n};\n","const themeData = {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    {\n      foreground: '657b83',\n      fontStyle: 'italic',\n      token: 'comment',\n    },\n    {\n      foreground: '2aa198',\n      token: 'string',\n    },\n    {\n      foreground: 'd30102',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'd33682',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: '268bd2',\n      token: 'variable.language',\n    },\n    {\n      foreground: '268bd2',\n      token: 'variable.other',\n    },\n    {\n      foreground: '859900',\n      token: 'keyword',\n    },\n    {\n      foreground: '93a1a1',\n      fontStyle: 'bold',\n      token: 'storage',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'entity.name.type.class',\n    },\n    {\n      foreground: '268bd2',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '859900',\n      token: 'punctuation.definition.variable',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.section.embedded.begin',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.section.embedded.end',\n    },\n    {\n      foreground: 'b58900',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'b58900',\n      token: 'meta.preprocessor',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'support.function.construct',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'keyword.other.new',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'constant.other',\n    },\n    {\n      foreground: '6c71c4',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: '268bd2',\n      fontStyle: 'bold',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: '657b83',\n      token: 'punctuation.definition.tag',\n    },\n    {\n      foreground: '93a1a1',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: '268bd2',\n      token: 'support.function',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.separator.continuation',\n    },\n    {\n      foreground: '859900',\n      token: 'support.type',\n    },\n    {\n      foreground: '859900',\n      token: 'support.class',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'support.type.exception',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#93A1A1',\n    'editor.background': '#002B36',\n    'editor.selectionBackground': '#073642',\n    'editor.lineHighlightBackground': '#073642',\n    'editorCursor.foreground': '#D30102',\n    'editorWhitespace.foreground': '#93A1A1',\n  },\n};\n\nexport default {\n  name: 'Solarized-Dark',\n  themeName: 'solarized-dark',\n  themeData,\n};\n","const themeData = {\n  base: 'vs',\n  inherit: true,\n  rules: [\n    {\n      foreground: '93a1a1',\n      token: 'comment',\n    },\n    {\n      foreground: '2aa198',\n      token: 'string',\n    },\n    {\n      foreground: 'd30102',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'd33682',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: '268bd2',\n      token: 'variable.language',\n    },\n    {\n      foreground: '268bd2',\n      token: 'variable.other',\n    },\n    {\n      foreground: '859900',\n      token: 'keyword',\n    },\n    {\n      foreground: '073642',\n      fontStyle: 'bold',\n      token: 'storage',\n    },\n    {\n      foreground: '268bd2',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: '268bd2',\n      token: 'entity.name.type.class',\n    },\n    {\n      foreground: '268bd2',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '859900',\n      token: 'punctuation.definition.variable',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.section.embedded.begin',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.section.embedded.end',\n    },\n    {\n      foreground: 'b58900',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'b58900',\n      token: 'meta.preprocessor',\n    },\n    {\n      foreground: 'd30102',\n      token: 'support.function.construct',\n    },\n    {\n      foreground: 'd30102',\n      token: 'keyword.other.new',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'constant.other',\n    },\n    {\n      foreground: '268bd2',\n      fontStyle: 'bold',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: '93a1a1',\n      token: 'punctuation.definition.tag.begin',\n    },\n    {\n      foreground: '93a1a1',\n      token: 'punctuation.definition.tag.end',\n    },\n    {\n      foreground: '93a1a1',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: '268bd2',\n      token: 'support.function',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.separator.continuation',\n    },\n    {\n      foreground: '859900',\n      token: 'support.type',\n    },\n    {\n      foreground: '859900',\n      token: 'support.class',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'support.type.exception',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#586E75',\n    'editor.background': '#FDF6E3',\n    'editor.selectionBackground': '#073642',\n    'editor.lineHighlightBackground': '#EEE8D5',\n    'editorCursor.foreground': '#000000',\n    'editorWhitespace.foreground': '#93A1A1',\n  },\n};\n\nexport default {\n  name: 'Solarized-Light',\n  themeName: 'solarized-light',\n  themeData,\n};\n","const themeData = {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    {\n      foreground: 'ffffff',\n      background: '0f0f0f',\n      token: 'text',\n    },\n    {\n      background: '000000',\n      token: 'source.ruby.rails.embedded.html',\n    },\n    {\n      foreground: 'ffffff',\n      background: '101010',\n      token: 'text.html.ruby',\n    },\n    {\n      foreground: 'ccff33',\n      background: '000000',\n      token: 'invalid',\n    },\n    {\n      foreground: 'ccff33',\n      background: '000000',\n      token: 'invalid.deprecated',\n    },\n    {\n      foreground: '99cc99',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: 'ffffff',\n      background: '000000',\n      token: 'source',\n    },\n    {\n      foreground: '9933cc',\n      token: 'comment',\n    },\n    {\n      foreground: '339999',\n      token: 'constant',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'keyword',\n    },\n    {\n      foreground: 'edf8f9',\n      token: 'keyword.preprocessor',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'keyword.preprocessor directive',\n    },\n    {\n      foreground: 'ffcc00',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: 'ffcc00',\n      token: 'storage.type.function.js',\n    },\n    {\n      fontStyle: 'italic',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: '772cb7',\n      background: '070707',\n      token: 'source comment.block',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'variable.other',\n    },\n    {\n      foreground: 'ffcc00',\n      token: 'support.function',\n    },\n    {\n      foreground: '66ff00',\n      token: 'string',\n    },\n    {\n      foreground: 'aaaaaa',\n      token: 'string constant.character.escape',\n    },\n    {\n      foreground: '000000',\n      background: 'cccc33',\n      token: 'string.interpolated',\n    },\n    {\n      foreground: '44b4cc',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'cccc33',\n      token: 'string.literal',\n    },\n    {\n      foreground: '555555',\n      token: 'string.interpolated constant.character.escape',\n    },\n    {\n      fontStyle: 'underline',\n      token: 'entity.name.class',\n    },\n    {\n      fontStyle: 'underline',\n      token: 'support.class.js',\n    },\n    {\n      fontStyle: 'italic underline',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'meta.tag.inline.any.html',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'meta.tag.block.any.html',\n    },\n    {\n      foreground: '99cc99',\n      fontStyle: 'italic',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: 'dde93d',\n      token: 'keyword.other',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'meta.selector.css',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'entity.other.attribute-name.pseudo-class.css',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'entity.name.tag.wildcard.css',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'entity.other.attribute-name.id.css',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'entity.other.attribute-name.class.css',\n    },\n    {\n      foreground: '999966',\n      token: 'support.type.property-name.css',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'keyword.other.unit.css',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'constant.other.rgb-value.css',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'constant.numeric.css',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'support.function.event-handler.js',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'keyword.operator.js',\n    },\n    {\n      foreground: 'cccc66',\n      token: 'keyword.control.js',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'support.class.prototype.js',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'object.property.function.prototype.js',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#FFFFFF',\n    'editor.background': '#0F0F0F',\n    'editor.selectionBackground': '#6699CC',\n    'editor.lineHighlightBackground': '#333333',\n    'editorCursor.foreground': '#FFFFFF',\n    'editorWhitespace.foreground': '#404040',\n  },\n};\n\nexport default {\n  name: 'Vibrant Ink',\n  themeName: 'vibrant-ink',\n  themeData,\n};\n","const themeData = {\n  base: 'vs',\n  inherit: true,\n  rules: [\n    {\n      foreground: '999988',\n      fontStyle: 'italic',\n      token: 'comment',\n    },\n    {\n      foreground: '999999',\n      fontStyle: 'bold',\n      token: 'comment.block.preprocessor',\n    },\n    {\n      foreground: '999999',\n      fontStyle: 'bold italic',\n      token: 'comment.documentation',\n    },\n    {\n      foreground: '999999',\n      fontStyle: 'bold italic',\n      token: 'comment.block.documentation',\n    },\n    {\n      foreground: 'a61717',\n      background: 'e3d2d2',\n      token: 'invalid.illegal',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'keyword',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'storage',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'keyword.operator',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'constant.language',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'support.constant',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'storage.type',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'support.type',\n    },\n    {\n      foreground: '008080',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: '0086b3',\n      token: 'variable.other',\n    },\n    {\n      foreground: '999999',\n      token: 'variable.language',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'entity.name.type',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'support.class',\n    },\n    {\n      foreground: '008080',\n      token: 'variable.other.constant',\n    },\n    {\n      foreground: '800080',\n      token: 'constant.character.entity',\n    },\n    {\n      foreground: '990000',\n      token: 'entity.name.exception',\n    },\n    {\n      foreground: '990000',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '990000',\n      token: 'support.function',\n    },\n    {\n      foreground: '990000',\n      token: 'keyword.other.name-of-parameter',\n    },\n    {\n      foreground: '555555',\n      token: 'entity.name.section',\n    },\n    {\n      foreground: '000080',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: '008080',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: '008080',\n      token: 'support.variable',\n    },\n    {\n      foreground: '009999',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: '009999',\n      token: 'constant.other',\n    },\n    {\n      foreground: 'dd1144',\n      token: 'string - string source',\n    },\n    {\n      foreground: 'dd1144',\n      token: 'constant.character',\n    },\n    {\n      foreground: '009926',\n      token: 'string.regexp',\n    },\n    {\n      foreground: '990073',\n      token: 'constant.other.symbol',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'punctuation',\n    },\n    {\n      foreground: '000000',\n      background: 'ffdddd',\n      token: 'markup.deleted',\n    },\n    {\n      fontStyle: 'italic',\n      token: 'markup.italic',\n    },\n    {\n      foreground: 'aa0000',\n      token: 'markup.error',\n    },\n    {\n      foreground: '999999',\n      token: 'markup.heading.1',\n    },\n    {\n      foreground: '000000',\n      background: 'ddffdd',\n      token: 'markup.inserted',\n    },\n    {\n      foreground: '888888',\n      token: 'markup.output',\n    },\n    {\n      foreground: '888888',\n      token: 'markup.raw',\n    },\n    {\n      foreground: '555555',\n      token: 'markup.prompt',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'markup.bold',\n    },\n    {\n      foreground: 'aaaaaa',\n      token: 'markup.heading',\n    },\n    {\n      foreground: 'aa0000',\n      token: 'markup.traceback',\n    },\n    {\n      fontStyle: 'underline',\n      token: 'markup.underline',\n    },\n    {\n      foreground: '999999',\n      background: 'eaf2f5',\n      token: 'meta.diff.range',\n    },\n    {\n      foreground: '999999',\n      background: 'eaf2f5',\n      token: 'meta.diff.index',\n    },\n    {\n      foreground: '999999',\n      background: 'eaf2f5',\n      token: 'meta.separator',\n    },\n    {\n      foreground: '999999',\n      background: 'ffdddd',\n      token: 'meta.diff.header.from-file',\n    },\n    {\n      foreground: '999999',\n      background: 'ddffdd',\n      token: 'meta.diff.header.to-file',\n    },\n    {\n      foreground: '4183c4',\n      token: 'meta.link',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#000000',\n    'editor.background': '#F8F8FF',\n    'editor.selectionBackground': '#B4D5FE',\n    'editor.lineHighlightBackground': '#FFFEEB',\n    'editorCursor.foreground': '#666666',\n    'editorWhitespace.foreground': '#BBBBBB',\n  },\n};\n\nexport default {\n  name: 'GitHub',\n  themeName: 'github',\n  themeData,\n};\n","// @flow\nimport TomorrowNight from './TomorrowNight';\nimport Monokai from './Monokai';\nimport Tomorrow from './Tomorrow';\nimport SolarizedDark from './SolarizedDark';\nimport SolarizedLight from './SolarizedLight';\nimport VibrantInk from './VibrantInk';\nimport GitHub from './GitHub';\n\ntype CodeEditorTheme = {|\n  name: string,\n  themeName: string,\n  themeData?: any,\n|};\n\n// Want to add a new theme? Grab a theme made for Visual Studio Code (Monaco Editor)\n// (for example on https://bitwiser.in/monaco-themes/). Copy an existing file (like Monokai.js),\n// replace themeData, update the name, and finally add it to this list\n// (+import it at the top of the file):\nconst themes: Array<CodeEditorTheme> = [\n  // Built-in Monaco editor themes\n  {\n    name: 'Visual Studio',\n    themeName: 'vs',\n  },\n  {\n    name: 'Visual Studio Dark',\n    themeName: 'vs-dark',\n  },\n  // Third parties themes\n  GitHub,\n  Monokai,\n  SolarizedDark,\n  SolarizedLight,\n  Tomorrow,\n  TomorrowNight,\n  VibrantInk,\n];\n\nexport const getAllThemes = () => themes;\n","import { Component } from 'react';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport { DragDropContext } from 'react-dnd';\n\nclass DragDropContextProvider extends Component {\n  render() {\n    return this.props.children;\n  }\n}\n\nexport default DragDropContext(HTML5Backend)(DragDropContextProvider);\n","// @flow\nimport * as React from 'react';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nconst styles = {\n  progress: { marginLeft: 8, verticalAlign: 'middle' },\n};\n\nexport default ({\n  children,\n  isLoading,\n}: {\n  children: React.Node,\n  isLoading: ?boolean,\n}) => (\n  <span>\n    {children}\n    {isLoading && <CircularProgress size={20} style={styles.progress} />}\n  </span>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Dialog from '../UI/Dialog';\nimport { Column, Line, Spacer } from '../UI/Grid';\nimport TextField from 'material-ui/TextField/TextField';\nimport {\n  type LoginForm,\n  type LoginError,\n} from '../Utils/GDevelopServices/Authentification';\nimport RightLoader from '../UI/RightLoader';\nimport LeftLoader from '../UI/LeftLoader';\n\ntype Props = {|\n  open: boolean,\n  onClose: Function,\n  onLogin: (form: LoginForm) => void,\n  onCreateAccount: (form: LoginForm) => void,\n  onForgotPassword: (form: LoginForm) => void,\n  loginInProgress: boolean,\n  createAccountInProgress: boolean,\n  error: ?LoginError,\n  resetPasswordDialogOpen: boolean,\n  onCloseResetPasswordDialog: Function,\n  forgotPasswordInProgress: boolean,\n|};\n\ntype State = {|\n  form: LoginForm,\n|};\n\nconst getEmailErrorText = (error: ?LoginError) => {\n  if (!error) return undefined;\n\n  if (error.code === 'auth/invalid-email') return 'This email is invalid';\n  if (error.code === 'auth/user-disabled') return 'The user was disabled';\n  if (error.code === 'auth/user-not-found')\n    return 'This user was not found: have you created your account?';\n  if (error.code === 'auth/email-already-in-use')\n    return 'This email was already used for another account';\n  if (error.code === 'auth/operation-not-allowed')\n    return 'Service seems to be unavailable, please try again later';\n  return undefined;\n};\n\nconst getPasswordErrorText = (error: ?LoginError) => {\n  if (!error) return undefined;\n\n  if (error.code === 'auth/wrong-password') return 'The password is invalid';\n  if (error.code === 'auth/weak-password')\n    return 'This password is too weak: please use more letters and digits';\n  return undefined;\n};\n\nexport default class LoginDialog extends Component<Props, State> {\n  state = {\n    form: {\n      email: '',\n      password: '',\n    },\n  };\n\n  _onLogin = () => {\n    const { form } = this.state;\n    this.props.onLogin(form);\n  };\n\n  _onCreateAccount = () => {\n    const { form } = this.state;\n    this.props.onCreateAccount(form);\n  };\n\n  _onForgotPassword = () => {\n    const { form } = this.state;\n    this.props.onForgotPassword(form);\n  };\n\n  render() {\n    const {\n      open,\n      onClose,\n      createAccountInProgress,\n      loginInProgress,\n      error,\n      resetPasswordDialogOpen,\n      onCloseResetPasswordDialog,\n      forgotPasswordInProgress,\n    } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        key=\"close\"\n        primary={false}\n        onClick={onClose}\n      />,\n    ];\n\n    return (\n      <Dialog\n        title={<Trans>Login or create a GDevelop account</Trans>}\n        actions={actions}\n        secondaryActions={[\n          <RightLoader\n            isLoading={forgotPasswordInProgress}\n            key=\"forgot-password\"\n          >\n            <FlatButton\n              label={<Trans>I forgot my password</Trans>}\n              primary={false}\n              disabled={\n                loginInProgress ||\n                createAccountInProgress ||\n                forgotPasswordInProgress\n              }\n              onClick={this._onForgotPassword}\n            />\n          </RightLoader>,\n        ]}\n        onRequestClose={onClose}\n        open={open}\n        autoScrollBodyContent\n      >\n        <Column noMargin>\n          <TextField\n            value={this.state.form.email}\n            floatingLabelText={<Trans>Email</Trans>}\n            errorText={getEmailErrorText(error)}\n            fullWidth\n            onChange={(e, value) => {\n              this.setState({\n                form: {\n                  ...this.state.form,\n                  email: value,\n                },\n              });\n            }}\n          />\n          <TextField\n            value={this.state.form.password}\n            floatingLabelText={<Trans>Password</Trans>}\n            errorText={getPasswordErrorText(error)}\n            type=\"password\"\n            fullWidth\n            onChange={(e, value) => {\n              this.setState({\n                form: {\n                  ...this.state.form,\n                  password: value,\n                },\n              });\n            }}\n          />\n          <Spacer />\n          <Line expand justifyContent=\"space-between\">\n            <RightLoader isLoading={createAccountInProgress}>\n              <RaisedButton\n                label={<Trans>Create my account</Trans>}\n                disabled={\n                  loginInProgress ||\n                  createAccountInProgress ||\n                  forgotPasswordInProgress\n                }\n                onClick={this._onCreateAccount}\n              />\n            </RightLoader>\n\n            <LeftLoader isLoading={loginInProgress}>\n              <FlatButton\n                label={<Trans>Login</Trans>}\n                onClick={this._onLogin}\n                disabled={\n                  loginInProgress ||\n                  createAccountInProgress ||\n                  forgotPasswordInProgress\n                }\n              />\n            </LeftLoader>\n          </Line>\n        </Column>\n        <Dialog\n          open={resetPasswordDialogOpen}\n          title={<Trans>Reset your password</Trans>}\n          actions={[\n            <FlatButton\n              label={<Trans>Close</Trans>}\n              key=\"close\"\n              onClick={onCloseResetPasswordDialog}\n            />,\n          ]}\n        >\n          <Column noMargin>\n            <p>\n              <Trans>\n                You should have received an email containing instructions to\n                reset and set a new password. Once it's done, you can use your\n                new password in GDevelop.\n              </Trans>\n            </p>\n          </Column>\n        </Dialog>\n      </Dialog>\n    );\n  }\n}\n","// @flow\n\nimport * as React from 'react';\nimport {\n  getUserUsages,\n  getUserSubscription,\n  getUserLimits,\n} from '../Utils/GDevelopServices/Usage';\nimport Authentification, {\n  type Profile,\n  type LoginForm,\n  type LoginError,\n} from '../Utils/GDevelopServices/Authentification';\nimport LoginDialog from './LoginDialog';\nimport { watchPromiseInState } from '../Utils/WatchPromiseInState';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { sendSignupDone } from '../Utils/Analytics/EventSender';\nimport UserProfileContext, {\n  initialUserProfile,\n  type UserProfile,\n} from './UserProfileContext';\n\ntype Props = {\n  authentification: Authentification,\n  children: React.Node,\n};\n\ntype State = {|\n  userProfile: UserProfile,\n  loginDialogOpen: boolean,\n  loginInProgress: boolean,\n  createAccountInProgress: boolean,\n  loginError: ?LoginError,\n  resetPasswordDialogOpen: boolean,\n  forgotPasswordInProgress: boolean,\n|};\n\nexport default class UserProfileProvider extends React.Component<Props, State> {\n  state = {\n    userProfile: initialUserProfile,\n    loginDialogOpen: false,\n    loginInProgress: false,\n    createAccountInProgress: false,\n    loginError: null,\n    resetPasswordDialogOpen: false,\n    forgotPasswordInProgress: false,\n  };\n\n  componentDidMount() {\n    this._resetUserProfile();\n    this.props.authentification.onUserChange(this._fetchUserProfile);\n  }\n\n  _resetUserProfile() {\n    this.setState({\n      userProfile: {\n        ...initialUserProfile,\n        onLogout: this._doLogout,\n        onLogin: () => this.openLogin(true),\n        onRefreshUserProfile: this._fetchUserProfile,\n        getAuthorizationHeader: () =>\n          this.props.authentification.getAuthorizationHeader(),\n      },\n    });\n  }\n\n  _fetchUserProfile = () => {\n    const { authentification } = this.props;\n\n    authentification.getUserProfile((err, profile: ?Profile) => {\n      if (err && err.unauthenticated) {\n        return this.setState({\n          userProfile: {\n            ...this.state.userProfile,\n            authenticated: false,\n            profile: null,\n            usages: null,\n            limits: null,\n            subscription: null,\n          },\n        });\n      } else if (err || !profile) {\n        console.log('Unable to fetch user profile', err);\n        return;\n      }\n\n      this.setState(\n        {\n          userProfile: {\n            ...this.state.userProfile,\n            authenticated: true,\n            profile,\n          },\n        },\n        () => {\n          if (!profile) return;\n\n          getUserUsages(\n            authentification.getAuthorizationHeader,\n            profile.uid\n          ).then(usages =>\n            this.setState({\n              userProfile: {\n                ...this.state.userProfile,\n                usages,\n              },\n            })\n          );\n          getUserSubscription(\n            authentification.getAuthorizationHeader,\n            profile.uid\n          ).then(subscription =>\n            this.setState({\n              userProfile: {\n                ...this.state.userProfile,\n                subscription,\n              },\n            })\n          );\n          getUserLimits(\n            authentification.getAuthorizationHeader,\n            profile.uid\n          ).then(limits =>\n            this.setState({\n              userProfile: {\n                ...this.state.userProfile,\n                limits,\n              },\n            })\n          );\n        }\n      );\n    });\n  };\n\n  _doLogout = () => {\n    if (this.props.authentification) this.props.authentification.logout();\n    this._resetUserProfile();\n  };\n\n  _doLogin = (form: LoginForm) => {\n    const { authentification } = this.props;\n    if (!authentification) return;\n\n    watchPromiseInState(this, 'loginInProgress', () =>\n      authentification.login(form).then(\n        () => {\n          this._fetchUserProfile();\n          this.openLogin(false);\n        },\n        (loginError: LoginError) => {\n          this.setState({\n            loginError,\n          });\n        }\n      )\n    );\n  };\n\n  _doCreateAccount = (form: LoginForm) => {\n    const { authentification } = this.props;\n    if (!authentification) return;\n\n    watchPromiseInState(this, 'createAccountInProgress', () =>\n      authentification.createAccount(form).then(\n        () => {\n          this._fetchUserProfile();\n          this.openLogin(false);\n          sendSignupDone(form.email);\n        },\n        (loginError: LoginError) => {\n          this.setState({\n            loginError,\n          });\n        }\n      )\n    );\n  };\n\n  _doForgotPassword = (form: LoginForm) => {\n    const { authentification } = this.props;\n    if (!authentification) return;\n\n    watchPromiseInState(this, 'forgotPasswordInProgress', () =>\n      authentification.forgotPassword(form).then(\n        () => {\n          this.openResetPassword(true);\n        },\n        (loginError: LoginError) => {\n          this.setState({\n            loginError,\n          });\n          showWarningBox(\n            \"Unable to send you an email to reset your password. Please double-check that the email address that you've entered is valid.\"\n          );\n        }\n      )\n    );\n  };\n\n  openResetPassword = (open: boolean = true) => {\n    this.setState({\n      resetPasswordDialogOpen: open,\n    });\n  };\n\n  openLogin = (open: boolean = true) => {\n    this.setState({\n      loginDialogOpen: open,\n    });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <UserProfileContext.Provider value={this.state.userProfile}>\n          {this.props.children}\n        </UserProfileContext.Provider>\n        {this.state.loginDialogOpen && (\n          <LoginDialog\n            open={this.state.loginDialogOpen}\n            onClose={() => this.openLogin(false)}\n            onLogin={this._doLogin}\n            onCreateAccount={this._doCreateAccount}\n            loginInProgress={this.state.loginInProgress}\n            createAccountInProgress={this.state.createAccountInProgress}\n            error={this.state.loginError}\n            onForgotPassword={this._doForgotPassword}\n            resetPasswordDialogOpen={this.state.resetPasswordDialogOpen}\n            onCloseResetPasswordDialog={() => this.openResetPassword(false)}\n            forgotPasswordInProgress={this.state.forgotPasswordInProgress}\n          />\n        )}\n      </React.Fragment>\n    );\n  }\n}\n","// @flow\n\nimport * as React from 'react';\nimport PreferencesContext, {\n  initialPreferences,\n  type Preferences,\n  type PreferencesValues,\n  type AlertMessageIdentifier,\n} from './PreferencesContext';\nimport optionalRequire from '../../Utils/OptionalRequire';\nimport { getIDEVersion } from '../../Version';\nconst electron = optionalRequire('electron');\nconst ipcRenderer = electron ? electron.ipcRenderer : null;\n\ntype Props = {|\n  children: React.Node,\n  disableCheckForUpdates: boolean,\n|};\n\ntype State = Preferences;\n\nconst LocalStorageItem = 'gd-preferences';\n\nexport default class PreferencesProvider extends React.Component<Props, State> {\n  state = {\n    values: this._loadValuesFromLocalStorage() || initialPreferences.values,\n    setLanguage: this._setLanguage.bind(this),\n    setThemeName: this._setThemeName.bind(this),\n    setCodeEditorThemeName: this._setCodeEditorThemeName.bind(this),\n    setAutoDownloadUpdates: this._setAutoDownloadUpdates.bind(this),\n    checkUpdates: this._checkUpdates.bind(this),\n    setAutoDisplayChangelog: this._setAutoDisplayChangelog.bind(this),\n    showAlertMessage: this._showAlertMessage.bind(this),\n    verifyIfIsNewVersion: this._verifyIfIsNewVersion.bind(this),\n    setEventsSheetShowObjectThumbnails: this._setEventsSheetShowObjectThumbnails.bind(\n      this\n    ),\n    setAutosaveOnPreview: this._setAutosaveOnPreview.bind(this),\n    setUseNewInstructionEditorDialog: this._setUseNewInstructionEditorDialog.bind(\n      this\n    ),\n  };\n\n  componentDidMount() {\n    setTimeout(() => this._checkUpdates(), 10000);\n  }\n\n  _setLanguage(language: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          language,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setEventsSheetShowObjectThumbnails(\n    eventsSheetShowObjectThumbnails: boolean\n  ) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          eventsSheetShowObjectThumbnails,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutosaveOnPreview(autosaveOnPreview: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autosaveOnPreview,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setUseNewInstructionEditorDialog(useNewInstructionEditorDialog: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          useNewInstructionEditorDialog,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setThemeName(themeName: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          themeName,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setCodeEditorThemeName(codeEditorThemeName: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          codeEditorThemeName,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutoDownloadUpdates(autoDownloadUpdates: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autoDownloadUpdates,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutoDisplayChangelog(autoDisplayChangelog: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autoDisplayChangelog,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _checkUpdates(forceDownload?: boolean) {\n    // Checking for updates is only done on Electron.\n    // Note: This could be abstracted away later if other updates mechanisms\n    // should be supported.\n    const { disableCheckForUpdates } = this.props;\n    if (!ipcRenderer || disableCheckForUpdates) return;\n\n    if (!!forceDownload || this.state.values.autoDownloadUpdates) {\n      ipcRenderer.send('updates-check-and-download');\n    } else {\n      ipcRenderer.send('updates-check');\n    }\n  }\n\n  _verifyIfIsNewVersion() {\n    const currentVersion = getIDEVersion();\n    const { lastLaunchedVersion } = this.state.values;\n    if (lastLaunchedVersion === currentVersion) {\n      // This is not a new version\n      return false;\n    }\n\n    // This is a new version: store the version number\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          lastLaunchedVersion: currentVersion,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n\n    if (lastLaunchedVersion === undefined) {\n      // This is the first time GDevelop is launched, don't\n      // warn about this version being new.\n      return false;\n    }\n\n    return true;\n  }\n\n  _showAlertMessage(identifier: AlertMessageIdentifier, show: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          hiddenAlertMessages: {\n            ...state.values.hiddenAlertMessages,\n            [identifier]: !show,\n          },\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _loadValuesFromLocalStorage(): ?PreferencesValues {\n    try {\n      const persistedState = localStorage.getItem(LocalStorageItem);\n      if (!persistedState) return null;\n\n      const values = JSON.parse(persistedState);\n\n      // \"Migrate\" non existing properties to their default values\n      // (useful when upgrading the preferences to a new version where\n      // a new preference was added).\n      for (const key in initialPreferences.values) {\n        if (\n          initialPreferences.values.hasOwnProperty(key) &&\n          typeof values[key] === 'undefined'\n        ) {\n          values[key] = initialPreferences.values[key];\n        }\n      }\n\n      return values;\n    } catch (e) {\n      return null;\n    }\n  }\n\n  _persistValuesToLocalStorage(preferences: Preferences) {\n    try {\n      localStorage.setItem(\n        LocalStorageItem,\n        JSON.stringify(preferences.values)\n      );\n    } catch (e) {\n      console.warn('Unable to persist preferences', e);\n    }\n\n    return preferences;\n  }\n\n  render() {\n    return (\n      <PreferencesContext.Provider value={this.state}>\n        {this.props.children}\n      </PreferencesContext.Provider>\n    );\n  }\n}\n","// @flow\n\nimport * as React from 'react';\nimport EventsFunctionsExtensionsContext, {\n  type EventsFunctionsExtensionsState,\n} from './EventsFunctionsExtensionsContext';\nimport {\n  loadProjectEventsFunctionsExtensions,\n  type EventsFunctionCodeWriter,\n  unloadProjectEventsFunctionsExtensions,\n} from '.';\nimport {\n  type EventsFunctionsExtensionWriter,\n  type EventsFunctionsExtensionOpener,\n} from './Storage';\nimport { showErrorBox } from '../UI/Messages/MessageBox';\nimport { t } from '@lingui/macro';\nimport { type I18n as I18nType } from '@lingui/core';\n\ntype Props = {|\n  children: React.Node,\n  i18n: I18nType,\n  eventsFunctionCodeWriter: ?EventsFunctionCodeWriter,\n  eventsFunctionsExtensionWriter: ?EventsFunctionsExtensionWriter,\n  eventsFunctionsExtensionOpener: ?EventsFunctionsExtensionOpener,\n|};\n\ntype State = EventsFunctionsExtensionsState;\n\n/**\n * Allow children components to request the loading (or unloading) of\n * the events functions extensions of the project.\n * Useful when dealing with events functions extensions (new extension created,\n * removed, pasted, installed, etc...).\n */\nexport default class EventsFunctionsExtensionsProvider extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    eventsFunctionsExtensionsError: null,\n    loadProjectEventsFunctionsExtensions: this._loadProjectEventsFunctionsExtensions.bind(\n      this\n    ),\n    unloadProjectEventsFunctionsExtensions: this._unloadProjectEventsFunctionsExtensions.bind(\n      this\n    ),\n    reloadProjectEventsFunctionsExtensions: this._reloadProjectEventsFunctionsExtensions.bind(\n      this\n    ),\n    getEventsFunctionsExtensionWriter: () =>\n      this.props.eventsFunctionsExtensionWriter,\n    getEventsFunctionsExtensionOpener: () =>\n      this.props.eventsFunctionsExtensionOpener,\n  };\n\n  _loadProjectEventsFunctionsExtensions(project: ?gdProject): Promise<void> {\n    const { i18n, eventsFunctionCodeWriter } = this.props;\n    if (!project || !eventsFunctionCodeWriter) return Promise.resolve();\n\n    return loadProjectEventsFunctionsExtensions(\n      project,\n      eventsFunctionCodeWriter,\n      i18n\n    )\n      .then(() =>\n        this.setState({\n          eventsFunctionsExtensionsError: null,\n        })\n      )\n      .catch((eventsFunctionsExtensionsError: Error) => {\n        this.setState({\n          eventsFunctionsExtensionsError,\n        });\n        showErrorBox(\n          i18n._(\n            t`An error has occured during functions generation. If GDevelop is installed, verify that nothing is preventing GDevelop from writing on disk. If you're running GDevelop online, verify your internet connection and refresh functions from the Project Manager.`\n          ),\n          eventsFunctionsExtensionsError\n        );\n      });\n  }\n\n  _unloadProjectEventsFunctionsExtensions(project: gdProject) {\n    unloadProjectEventsFunctionsExtensions(project);\n  }\n\n  _reloadProjectEventsFunctionsExtensions(project: ?gdProject): Promise<void> {\n    if (project) {\n      this._unloadProjectEventsFunctionsExtensions(project);\n    }\n    return this._loadProjectEventsFunctionsExtensions(project);\n  }\n\n  render() {\n    return (\n      <EventsFunctionsExtensionsContext.Provider value={this.state}>\n        {this.props.children}\n      </EventsFunctionsExtensionsContext.Provider>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport DragDropContextProvider from '../Utils/DragDropHelpers/DragDropContextProvider';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport { getTheme } from '../UI/Theme';\nimport UserProfileProvider from '../Profile/UserProfileProvider';\nimport Authentification from '../Utils/GDevelopServices/Authentification';\nimport PreferencesProvider from './Preferences/PreferencesProvider';\nimport PreferencesContext from './Preferences/PreferencesContext';\nimport GDI18nProvider from '../Utils/i18n/GDI18nProvider';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\nimport EventsFunctionsExtensionsProvider from '../EventsFunctionsExtensionsLoader/EventsFunctionsExtensionsProvider';\nimport EventsFunctionsExtensionsContext, {\n  type EventsFunctionsExtensionsState,\n} from '../EventsFunctionsExtensionsLoader/EventsFunctionsExtensionsContext';\nimport { type EventsFunctionCodeWriter } from '../EventsFunctionsExtensionsLoader';\nimport {\n  type EventsFunctionsExtensionWriter,\n  type EventsFunctionsExtensionOpener,\n} from '../EventsFunctionsExtensionsLoader/Storage';\n\ntype Props = {|\n  authentification: Authentification,\n  disableCheckForUpdates: boolean,\n  eventsFunctionCodeWriter: ?EventsFunctionCodeWriter,\n  eventsFunctionsExtensionWriter: ?EventsFunctionsExtensionWriter,\n  eventsFunctionsExtensionOpener: ?EventsFunctionsExtensionOpener,\n  children: ({\n    i18n: I18nType,\n    eventsFunctionsExtensionsState: EventsFunctionsExtensionsState,\n  }) => React.Node,\n|};\n\n/**\n * Wrap the children with Drag and Drop, Material UI theme and i18n React providers,\n * so that these modules can be used in the children.\n */\nexport default class Providers extends React.Component<Props, {||}> {\n  render() {\n    const {\n      disableCheckForUpdates,\n      authentification,\n      children,\n      eventsFunctionCodeWriter,\n      eventsFunctionsExtensionWriter,\n      eventsFunctionsExtensionOpener,\n    } = this.props;\n    return (\n      <DragDropContextProvider>\n        <PreferencesProvider disableCheckForUpdates={disableCheckForUpdates}>\n          <PreferencesContext.Consumer>\n            {({ values }) => (\n              <GDI18nProvider language={values.language}>\n                <MuiThemeProvider muiTheme={getTheme(values.themeName)}>\n                  <UserProfileProvider authentification={authentification}>\n                    <I18n update>\n                      {({ i18n }) => (\n                        <EventsFunctionsExtensionsProvider\n                          i18n={i18n}\n                          eventsFunctionCodeWriter={eventsFunctionCodeWriter}\n                          eventsFunctionsExtensionWriter={\n                            eventsFunctionsExtensionWriter\n                          }\n                          eventsFunctionsExtensionOpener={\n                            eventsFunctionsExtensionOpener\n                          }\n                        >\n                          <EventsFunctionsExtensionsContext.Consumer>\n                            {eventsFunctionsExtensionsState =>\n                              children({ i18n, eventsFunctionsExtensionsState })\n                            }\n                          </EventsFunctionsExtensionsContext.Consumer>\n                        </EventsFunctionsExtensionsProvider>\n                      )}\n                    </I18n>\n                  </UserProfileProvider>\n                </MuiThemeProvider>\n              </GDI18nProvider>\n            )}\n          </PreferencesContext.Consumer>\n        </PreferencesProvider>\n      </DragDropContextProvider>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\n\nconst styles = {\n  previewContainer: {\n    display: 'flex',\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 200,\n    border: '#AAAAAA 1px solid',\n    background: 'url(\"res/transparentback.png\") repeat',\n  },\n  icon: { width: 60, height: 60 },\n};\n\ntype Props = {|\n  renderIcon: ({| style: Object |}) => React.Node,\n|};\n\n/**\n * Display a generic container to display an icon.\n */\nexport default ({ renderIcon }: Props) => (\n  <div style={styles.previewContainer}>\n    {renderIcon({ style: styles.icon })}\n  </div>\n);\n","// @flow\nimport * as React from 'react';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ResourceKind } from '../ResourceSource.flow';\nimport ImagePreview from './ImagePreview';\nimport GenericIconPreview from './GenericIconPreview';\nimport Audiotrack from 'material-ui/svg-icons/image/audiotrack';\nimport InsertDriveFile from 'material-ui/svg-icons/editor/insert-drive-file';\nimport VideoLibrary from 'material-ui/svg-icons/av/video-library';\nimport FontDownload from 'material-ui/svg-icons/content/font-download';\n\ntype Props = {|\n  project: gdProject,\n  resourceName: string,\n  resourcePath?: string,\n  resourcesLoader: typeof ResourcesLoader,\n  style?: Object,\n  onSize?: (number, number) => void,\n|};\n\ntype State = {|\n  resourceKind: ?ResourceKind,\n|};\n\n/**\n * Display the right preview for any given resource of a project\n */\nexport default class ResourcePreview extends React.Component<Props, State> {\n  state = this._loadFrom(this.props);\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      newProps.resourceName !== this.props.resourceName ||\n      newProps.project !== this.props.project ||\n      newProps.resourcePath !== this.props.resourcePath\n    ) {\n      this.setState(this._loadFrom(newProps));\n    }\n  }\n\n  _loadFrom(props: Props): State {\n    const { project, resourceName } = props;\n    const resourcesManager = project.getResourcesManager();\n    const resourceKind = resourcesManager.hasResource(resourceName)\n      ? resourcesManager.getResource(resourceName).getKind()\n      : null;\n\n    return {\n      resourceKind,\n    };\n  }\n\n  render() {\n    const { resourceKind } = this.state;\n\n    switch (resourceKind) {\n      case 'image':\n        return (\n          <ImagePreview\n            project={this.props.project}\n            resourceName={this.props.resourceName}\n            resourcesLoader={this.props.resourcesLoader}\n            style={this.props.style}\n            onSize={this.props.onSize}\n            resourcePath={this.props.resourcePath}\n          />\n        );\n      case 'audio':\n        return (\n          <GenericIconPreview renderIcon={props => <Audiotrack {...props} />} />\n        );\n      case 'json':\n        return (\n          <GenericIconPreview\n            renderIcon={props => <InsertDriveFile {...props} />}\n          />\n        );\n      case 'video':\n        return (\n          <GenericIconPreview\n            renderIcon={props => <VideoLibrary {...props} />}\n          />\n        );\n      case 'font':\n        return (\n          <GenericIconPreview\n            renderIcon={props => <FontDownload {...props} />}\n          />\n        );\n      default:\n        return null;\n    }\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Background from '../../UI/Background';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport PropertiesEditor from '../../PropertiesEditor';\nimport ResourcePreview from '../../ResourcesList/ResourcePreview';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport propertiesMapToSchema from '../../PropertiesEditor/PropertiesMapToSchema';\nimport { type Schema } from '../../PropertiesEditor';\n\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\n\nconst styles = {\n  imagePreview: { flex: 1 },\n  propertiesContainer: {\n    padding: 10,\n    overflowY: 'scroll',\n    overflowX: 'hidden',\n    flex: 2,\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  resourcesLoader: typeof ResourcesLoader,\n  resources: Array<gdResource>,\n  onResourcePathUpdated: () => void,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n|};\n\nexport default class ResourcePropertiesEditor extends React.Component<\n  Props,\n  {}\n> {\n  schema: Schema = [\n    {\n      name: 'Resource name',\n      valueType: 'string',\n      disabled: true,\n      getValue: (resource: gdResource) => resource.getName(),\n      setValue: (resource: gdResource, newValue: string) =>\n        resource.setName(newValue),\n    },\n    {\n      name: 'File',\n      valueType: 'string',\n      getValue: (resource: gdResource) => resource.getFile(),\n      setValue: (resource: gdResource, newValue: string) =>\n        resource.setFile(newValue),\n      onEditButtonClick: () => this._chooseResourcePath(),\n    },\n  ];\n\n  _renderEmpty() {\n    return (\n      <EmptyMessage>\n        <Trans>\n          Resources are automatically added to your project whenever you add an\n          image, a font or a video to an object or when you choose an audio file\n          in events. Choose a resource to display its properties.\n        </Trans>\n      </EmptyMessage>\n    );\n  }\n\n  _chooseResourcePath = () => {\n    const {\n      resources,\n      onResourcePathUpdated,\n      onChooseResource,\n      resourceSources,\n    } = this.props;\n    const resource = resources[0];\n    const sources = resourceSources.filter(\n      source => source.kind === resource.getKind()\n    );\n    if (!sources.length) return;\n    onChooseResource(sources[0].name).then(resources => {\n      if (!resources.length) return; // No path was chosen by the user.\n      resource.setFile(resources[0].getFile());\n\n      // Important, we are responsible for deleting the resources that were given to us.\n      // Otherwise we have a memory leak.\n      resources.forEach(resource => resource.delete());\n\n      onResourcePathUpdated();\n      this.forceUpdate();\n    });\n  };\n\n  _renderResourcesProperties() {\n    const { resources, project } = this.props;\n    //TODO: Multiple resources support\n    const properties = resources[0].getProperties(project);\n    const resourceSchema = propertiesMapToSchema(\n      properties,\n      resource => resource.getProperties(project),\n      (resource, name, value) => resource.updateProperty(name, value, project)\n    );\n\n    return (\n      <div\n        style={styles.propertiesContainer}\n        key={resources.map(resource => '' + resource.ptr).join(';')}\n      >\n        <PropertiesEditor\n          schema={this.schema.concat(resourceSchema)}\n          instances={resources}\n        />\n      </div>\n    );\n  }\n\n  _renderPreview() {\n    const { resources, project, resourcesLoader } = this.props;\n    if (!resources || !resources.length) return;\n\n    return (\n      <ResourcePreview\n        style={styles.imagePreview}\n        resourceName={resources[0].getName()}\n        resourcePath={resources[0].getFile()}\n        resourcesLoader={resourcesLoader}\n        project={project}\n      />\n    );\n  }\n\n  render() {\n    const { resources } = this.props;\n\n    return (\n      <Background maxWidth>\n        {this._renderPreview()}\n        {!resources || !resources.length\n          ? this._renderEmpty()\n          : this._renderResourcesProperties()}\n      </Background>\n    );\n  }\n}\n","// @flow\nimport React, { PureComponent } from 'react';\nimport { ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\n\ntype Props = {|\n  onOpenProjectFolder: () => void,\n  onDeleteSelection: () => void,\n  canDelete: boolean,\n  onOpenProperties: () => void,\n|};\n\ntype State = {||};\n\nexport class Toolbar extends PureComponent<Props, State> {\n  render() {\n    const t = str => str; //TODO\n    const { canDelete } = this.props;\n\n    return (\n      <ToolbarGroup lastChild>\n        <ToolbarIcon\n          onClick={this.props.onOpenProjectFolder}\n          src=\"res/ribbon_default/open32.png\"\n          tooltip={t('Open the project folder')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.onOpenProperties}\n          src=\"res/ribbon_default/editprop32.png\"\n          tooltip={t('Open the properties panel')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.onDeleteSelection}\n          src=\"res/ribbon_default/deleteselected32.png\"\n          disabled={!canDelete}\n          tooltip={t('Delete the selected resource')}\n        />\n      </ToolbarGroup>\n    );\n  }\n}\n\nexport default Toolbar;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ResourcesList from '../ResourcesList';\nimport ResourcePropertiesEditor from './ResourcePropertiesEditor';\nimport Toolbar from './Toolbar';\nimport EditorMosaic, { MosaicWindow } from '../UI/EditorMosaic';\nimport InfoBar from '../UI/Messages/InfoBar';\nimport ResourcesLoader from '../ResourcesLoader';\nimport optionalRequire from '../Utils/OptionalRequire';\n\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\n\nconst electron = optionalRequire('electron');\nconst shell = electron ? electron.shell : null;\nconst path = optionalRequire('path');\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n};\n\ntype State = {\n  showPropertiesInfoBar: boolean,\n  selectedResource: ?gdResource,\n};\n\ntype Props = {\n  setToolbar: React.Node => void,\n  project: gdProject,\n  onDeleteResource: (resource: gdResource, cb: (boolean) => void) => void,\n  onRenameResource: (\n    resource: gdResource,\n    newName: string,\n    cb: (boolean) => void\n  ) => void,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n};\n\nexport default class ResourcesEditor extends React.Component<Props, State> {\n  static defaultProps = {\n    setToolbar: () => {},\n  };\n\n  editorMosaic: ?EditorMosaic = null;\n  _propertiesEditor: ?ResourcePropertiesEditor = null;\n  _resourcesList: ?ResourcesList = null;\n  resourcesLoader = ResourcesLoader;\n  state = {\n    showPropertiesInfoBar: false,\n    selectedResource: null,\n  };\n\n  updateToolbar() {\n    this.props.setToolbar(\n      <Toolbar\n        onOpenProjectFolder={this.openProjectFolder}\n        onOpenProperties={this.openProperties}\n        canDelete={!!this.state.selectedResource}\n        onDeleteSelection={() =>\n          this.deleteResource(this.state.selectedResource)\n        }\n      />\n    );\n  }\n\n  deleteResource = (resource: ?gdResource) => {\n    const { project, onDeleteResource } = this.props;\n    if (!resource) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this resource? This can't be undone.\"\n    );\n    if (!answer) return;\n\n    onDeleteResource(resource, doRemove => {\n      if (!doRemove || !resource) return;\n\n      project.getResourcesManager().removeResource(resource.getName());\n      this.setState(\n        {\n          selectedResource: null,\n        },\n        () => {\n          if (this._resourcesList) this._resourcesList.forceUpdateList();\n          this.updateToolbar();\n        }\n      );\n    });\n  };\n\n  openProjectFolder = () => {\n    const project = this.props.project;\n    if (shell) shell.openItem(path.dirname(project.getProjectFile()));\n  };\n\n  openProperties = () => {\n    if (!this.editorMosaic) return;\n    if (!this.editorMosaic.openEditor('properties')) {\n      this.setState({\n        showPropertiesInfoBar: true,\n      });\n    }\n  };\n\n  _onResourceSelected = (selectedResource: ?gdResource) => {\n    this.setState(\n      {\n        selectedResource,\n      },\n      () => {\n        if (this._propertiesEditor) this._propertiesEditor.forceUpdate();\n        this.updateToolbar();\n      }\n    );\n  };\n\n  render() {\n    const {\n      project,\n      onRenameResource,\n      onChooseResource,\n      resourceSources,\n    } = this.props;\n    const { selectedResource } = this.state;\n\n    const editors = {\n      properties: (\n        <MosaicWindow\n          title={<Trans>Properties</Trans>}\n          // Pass resources to force MosaicWindow update when selectedResource is changed\n          resources={selectedResource ? [selectedResource] : []}\n        >\n          <ResourcePropertiesEditor\n            key={selectedResource ? selectedResource.ptr : undefined}\n            resources={selectedResource ? [selectedResource] : []}\n            project={project}\n            resourcesLoader={this.resourcesLoader}\n            ref={propertiesEditor =>\n              (this._propertiesEditor = propertiesEditor)\n            }\n            onResourcePathUpdated={() => {\n              if (this._resourcesList) {\n                this._resourcesList.checkMissingPaths();\n              }\n            }}\n            onChooseResource={onChooseResource}\n            resourceSources={resourceSources}\n          />\n        </MosaicWindow>\n      ),\n      'resources-list': (\n        <ResourcesList\n          project={project}\n          onDeleteResource={this.deleteResource}\n          onRenameResource={onRenameResource}\n          onSelectResource={this._onResourceSelected}\n          selectedResource={selectedResource}\n          ref={resourcesList => (this._resourcesList = resourcesList)}\n        />\n      ),\n    };\n\n    return (\n      <div style={styles.container}>\n        <EditorMosaic\n          editors={editors}\n          ref={editorMosaic => (this.editorMosaic = editorMosaic)}\n          initialNodes={{\n            direction: 'row',\n            first: 'properties',\n            second: 'resources-list',\n            splitPercentage: 75,\n          }}\n        />\n        <InfoBar\n          message={<Trans>Properties panel is already opened</Trans>}\n          show={!!this.state.showPropertiesInfoBar}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport BaseEditor from './BaseEditor';\nimport ResourcesFullEditor from '../../ResourcesEditor';\n\nexport default class ResourcesEditor extends BaseEditor {\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  render() {\n    const { project } = this.props;\n\n    return (\n      <ResourcesFullEditor\n        {...this.props}\n        ref={editor => (this.editor = editor)}\n        project={project}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\nimport { type Build } from '../../Utils/GDevelopServices/Build';\nimport { Column, Line } from '../../UI/Grid';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport PlaceholderLoader from '../../UI/PlaceholderLoader';\nimport BuildProgress from './BuildProgress';\nimport format from 'date-fns/format';\nimport difference_in_calendar_days from 'date-fns/difference_in_calendar_days';\n\ntype Props = {|\n  builds: ?Array<Build>,\n  onDownload: (build: Build, key: string) => void,\n|};\n\nconst styles = {\n  buildContainer: {\n    padding: 10,\n  },\n};\n\nexport default ({ builds, onDownload }: Props) => {\n  return (\n    <Column noMargin expand>\n      <Line>\n        <Column>\n          <EmptyMessage>\n            <Trans>\n              This is the list of builds that you've done. Note that you can\n              download games generated during to 7 days, after which they are\n              removed.\n            </Trans>\n          </EmptyMessage>\n        </Column>\n      </Line>\n      <Line>\n        {!builds ? (\n          <PlaceholderLoader />\n        ) : builds.length === 0 ? (\n          <EmptyMessage>\n            <Trans>\n              You don't have any builds on the online services for now\n            </Trans>\n          </EmptyMessage>\n        ) : (\n          <Column noMargin expand>\n            {builds.map((build: Build) => {\n              const isOld =\n                build &&\n                difference_in_calendar_days(Date.now(), build.updatedAt) > 6;\n\n              return (\n                <Paper style={styles.buildContainer} key={build.id}>\n                  <p>\n                    {build.type} - Last updated on{' '}\n                    {format(build.updatedAt, 'YYYY-MM-DD HH:mm:ss')}\n                  </p>\n                  {!isOld && (\n                    <BuildProgress\n                      build={build}\n                      onDownload={key => onDownload(build, key)}\n                    />\n                  )}\n                  {isOld && (\n                    <EmptyMessage>\n                      <Trans>\n                        This build is old and the generated games can't be\n                        downloaded anymore.\n                      </Trans>\n                    </EmptyMessage>\n                  )}\n                </Paper>\n              );\n            })}\n          </Column>\n        )}\n      </Line>\n    </Column>\n  );\n};\n","// @flow\nimport React, { Component } from 'react';\nimport UserProfileContext, {\n  type UserProfile,\n} from '../../Profile/UserProfileContext';\nimport BuildsList from './BuildsList';\nimport {\n  getBuilds,\n  type Build,\n  getUrl,\n} from '../../Utils/GDevelopServices/Build';\nimport Window from '../../Utils/Window';\nimport BuildsWatcher from './BuildsWatcher';\n\ntype ContainerProps = {|\n  onBuildsUpdated: ?() => void,\n|};\ntype Props = {|\n  onBuildsUpdated: ?() => void,\n  userProfile: UserProfile,\n|};\ntype State = {|\n  builds: ?Array<Build>,\n|};\n\nexport class Builds extends Component<Props, State> {\n  state = {\n    builds: null,\n  };\n  buildsWatcher = new BuildsWatcher();\n\n  componentDidMount() {\n    this._refreshBuilds();\n  }\n\n  componentWillUnmount() {\n    this.buildsWatcher.stop();\n  }\n\n  _startBuildsWatcher = () => {\n    if (!this.state.builds) return;\n\n    this.buildsWatcher.start({\n      userProfile: this.props.userProfile,\n      builds: this.state.builds,\n      onBuildUpdated: (newBuild: Build) => {\n        if (!this.state.builds) return;\n\n        this.setState({\n          builds: this.state.builds.map((oldBuild: Build) => {\n            if (newBuild.id === oldBuild.id) return newBuild;\n\n            return oldBuild;\n          }),\n        });\n      },\n    });\n  };\n\n  _refreshBuilds = () => {\n    const { getAuthorizationHeader, profile } = this.props.userProfile;\n    if (!profile) return;\n\n    getBuilds(getAuthorizationHeader, profile.uid).then(\n      builds => {\n        this.setState(\n          {\n            builds,\n          },\n          () => {\n            this._startBuildsWatcher();\n            if (this.props.onBuildsUpdated) this.props.onBuildsUpdated();\n          }\n        );\n      },\n      () => {\n        //TODO: Handle error\n      }\n    );\n  };\n\n  _download = (build: Build, key: string) => {\n    if (!build || !build[key]) return;\n\n    Window.openExternalURL(getUrl(build[key]));\n  };\n\n  render() {\n    return (\n      <BuildsList builds={this.state.builds} onDownload={this._download} />\n    );\n  }\n}\n\nconst BuildsContainer = (props: ContainerProps) => (\n  <UserProfileContext.Consumer>\n    {(userProfile: UserProfile) => (\n      <Builds\n        userProfile={userProfile}\n        onBuildsUpdated={props.onBuildsUpdated}\n      />\n    )}\n  </UserProfileContext.Consumer>\n);\n\nexport default BuildsContainer;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport Dialog from '../../UI/Dialog';\nimport HelpButton from '../../UI/HelpButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport Builds from '.';\n\ntype Props = {|\n  open: boolean,\n  onClose: () => void,\n|};\ntype State = {||};\n\nexport default class BuildsDialog extends Component<Props, State> {\n  _onBuildsUpdated = () => {\n    // Force the Dialog repositioning\n    this.forceUpdate();\n  };\n\n  render() {\n    const { open, onClose } = this.props;\n    if (!open) return null;\n\n    return (\n      <Dialog\n        title={<Trans>All your builds</Trans>}\n        onRequestClose={onClose}\n        actions={[\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            key=\"close\"\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        secondaryActions={[\n          <HelpButton key=\"help\" helpPagePath={'/publishing'} />,\n        ]}\n        open={open}\n        noMargin\n        autoScrollBodyContent\n      >\n        <Builds onBuildsUpdated={this._onBuildsUpdated} />\n      </Dialog>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport Subheader from 'material-ui/Subheader';\nimport { List, ListItem } from 'material-ui/List';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\nimport BuildsDialog from './Builds/BuildsDialog';\nimport { Line } from '../UI/Grid';\n\nconst styles = {\n  icon: { width: 40, height: 40 },\n  disabledItem: { opacity: 0.6 },\n  content: { padding: 24 },\n};\n\nexport default class ExportDialog extends Component {\n  state = {\n    chosenExporterKey: '',\n    showExperimental: false,\n    buildsDialogOpen: false,\n  };\n\n  chooseExporter = key => {\n    this.setState({\n      chosenExporterKey: key,\n    });\n  };\n\n  _showExperimental = (show = true) => {\n    this.setState({\n      showExperimental: show,\n    });\n  };\n\n  _openBuildsDialog = (open = true) => {\n    this.setState({\n      buildsDialogOpen: open,\n    });\n  };\n\n  _renderExporterListItem = (exporter, index) => {\n    return (\n      <ListItem\n        key={exporter.key}\n        disabled={exporter.disabled}\n        style={exporter.disabled ? styles.disabledItem : undefined}\n        leftAvatar={exporter.renderIcon({ style: styles.icon })}\n        primaryText={exporter.name}\n        secondaryText={<p>{exporter.description}</p>}\n        secondaryTextLines={2}\n        onClick={() => this.chooseExporter(exporter.key)}\n      />\n    );\n  };\n\n  render() {\n    const {\n      project,\n      open,\n      onClose,\n      authentification, //Still exist?\n      onChangeSubscription,\n      exporters,\n    } = this.props;\n    const { showExperimental, chosenExporterKey } = this.state;\n    if (!open || !project) return null;\n\n    const exporter = exporters.find(\n      exporter => exporter.key === chosenExporterKey\n    );\n\n    return (\n      <Dialog\n        title={<Trans>Export project to a standalone game</Trans>}\n        onRequestClose={onClose}\n        actions={[\n          chosenExporterKey && (\n            <FlatButton\n              label={<Trans>Back</Trans>}\n              key=\"back\"\n              primary={false}\n              onClick={() => this.chooseExporter('')}\n            />\n          ),\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            key=\"close\"\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        secondaryActions={[\n          <HelpButton\n            key=\"help\"\n            helpPagePath={(exporter && exporter.helpPage) || '/publishing'}\n          />,\n          <FlatButton\n            key=\"builds\"\n            label={<Trans>See all my builds</Trans>}\n            onClick={() => this._openBuildsDialog(true)}\n          />,\n        ]}\n        open={open}\n        noMargin\n        autoScrollBodyContent\n      >\n        {!exporter && (\n          <React.Fragment>\n            <List>\n              {exporters\n                .filter(\n                  exporter => !exporter.advanced && !exporter.experimental\n                )\n                .map((exporter, index) =>\n                  this._renderExporterListItem(exporter, index)\n                )}\n\n              <Subheader>Advanced</Subheader>\n              {exporters\n                .filter(exporter => exporter.advanced)\n                .map((exporter, index) =>\n                  this._renderExporterListItem(exporter, index)\n                )}\n\n              {showExperimental && <Subheader>Experimental</Subheader>}\n              {showExperimental &&\n                exporters\n                  .filter(exporter => exporter.experimental)\n                  .map((exporter, index) =>\n                    this._renderExporterListItem(exporter, index)\n                  )}\n            </List>\n            <Line justifyContent=\"center\" alignItems=\"center\">\n              {!showExperimental ? (\n                <FlatButton\n                  key=\"toggle-experimental\"\n                  icon={<Visibility />}\n                  primary={false}\n                  onClick={() => this._showExperimental(true)}\n                  label={<Trans>Show experimental exports</Trans>}\n                />\n              ) : (\n                <FlatButton\n                  key=\"toggle-experimental\"\n                  icon={<VisibilityOff />}\n                  primary={false}\n                  onClick={() => this._showExperimental(false)}\n                  label={<Trans>Hide experimental exports</Trans>}\n                />\n              )}\n            </Line>\n          </React.Fragment>\n        )}\n        {exporter && (\n          <div style={styles.content}>\n            <exporter.ExportComponent\n              project={project}\n              authentification={authentification} //Still exist?\n              onChangeSubscription={onChangeSubscription}\n              onOpenBuildsDialog={this._openBuildsDialog}\n            />\n          </div>\n        )}\n        <BuildsDialog\n          open={this.state.buildsDialogOpen}\n          onClose={() => this._openBuildsDialog(false)}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport axios from 'axios';\nimport { GDevelopExtensionApi } from './ApiConfigs';\n\nexport type ExtensionShortHeader = {|\n  shortDescription: string,\n  extensionNamespace: string,\n  fullName: string,\n  name: string,\n  version: string,\n  url: string,\n  headerUrl: string,\n  tags: string,\n  eventsBasedBehaviorsCount: number,\n  eventsFunctionsCount: number,\n|};\nexport type ExtensionHeader = {|\n  ...ExtensionShortHeader,\n  description: string,\n|};\n\nexport type SerializedExtension = {\n  ...ExtensionHeader,\n};\n\nexport type ExtensionsRegistry = {\n  version: string,\n  allTags: Array<string>,\n  extensionShortHeaders: Array<ExtensionShortHeader>,\n};\n\n// Handle urls to extension header or file. If the URL is not absolute and HTTPS,\n// it is assumed to be relative to the registry base url.\nconst resolveExtensionUrl = (url: string): string => {\n  const trimmedUrl = url.trim();\n  if (trimmedUrl.indexOf('https://') === 0) {\n    return trimmedUrl;\n  }\n\n  return `${GDevelopExtensionApi.baseUrl}/${trimmedUrl}`;\n};\n\nexport const getExtensionsRegistry = (): Promise<ExtensionsRegistry> => {\n  return axios\n    .get(`${GDevelopExtensionApi.baseUrl}/extensions-registry.json`)\n    .then(response => response.data);\n};\n\nexport const getExtensionHeader = (\n  extensionShortHeader: ExtensionShortHeader\n): Promise<ExtensionHeader> => {\n  return axios\n    .get(resolveExtensionUrl(extensionShortHeader.headerUrl))\n    .then(response => response.data);\n};\n\nexport const getExtension = (\n  extensionHeader: ExtensionShortHeader | ExtensionHeader\n): Promise<SerializedExtension> => {\n  return axios\n    .get(resolveExtensionUrl(extensionHeader.url))\n    .then(response => response.data);\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { Column, Line } from './Grid';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport EmptyMessage from './EmptyMessage';\n\ntype Props = {|\n  children: React.Node,\n  onRetry?: () => void,\n|};\n\nexport default ({ onRetry, children }: Props) => (\n  <Column expand alignItems=\"center\">\n    <EmptyMessage>{children}</EmptyMessage>\n    <Line>\n      {onRetry && (\n        <RaisedButton\n          primary\n          label={<Trans>Retry</Trans>}\n          onClick={() => onRetry()}\n        />\n      )}\n    </Line>\n  </Column>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport {\n  type ExtensionShortHeader,\n  type ExtensionHeader,\n  getExtensionHeader,\n} from '../Utils/GDevelopServices/Extension';\nimport LeftLoader from '../UI/LeftLoader';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport PlaceholderError from '../UI/PlaceholderError';\nimport ThemeConsumer from '../UI/Theme/ThemeConsumer';\nimport ReactMarkdown from 'react-markdown';\n\ntype Props = {|\n  extensionShortHeader: ExtensionShortHeader,\n  isInstalling: boolean,\n  onClose: () => void,\n  onInstall: (type: string, defaultName: string) => void,\n  alreadyInstalled: boolean,\n|};\ntype State = {|\n  extensionHeader: ?ExtensionHeader,\n  error: ?Error,\n|};\n\nexport default class ExtensionInstallDialog extends Component<Props, State> {\n  state = {\n    extensionHeader: null,\n    error: null,\n  };\n\n  componentDidMount() {\n    this._loadExtensionheader();\n  }\n\n  _loadExtensionheader = () => {\n    this.setState({\n      error: null,\n    });\n    getExtensionHeader(this.props.extensionShortHeader).then(\n      extensionHeader => {\n        this.setState({\n          extensionHeader,\n        });\n      },\n      error => {\n        this.setState({\n          error,\n        });\n      }\n    );\n  };\n\n  render() {\n    const {\n      isInstalling,\n      extensionShortHeader,\n      onClose,\n      onInstall,\n      alreadyInstalled,\n    } = this.props;\n    const { extensionHeader, error } = this.state;\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <Dialog\n            title={\n              extensionHeader\n                ? extensionHeader.fullName\n                : extensionShortHeader.fullName\n            }\n            actions={[\n              <FlatButton\n                key=\"close\"\n                label={<Trans>Back</Trans>}\n                primary={false}\n                onClick={onClose}\n                disabled={isInstalling}\n              />,\n              <LeftLoader isLoading={isInstalling}>\n                <FlatButton\n                  key=\"install\"\n                  label={\n                    alreadyInstalled ? (\n                      <Trans>Re-install/update</Trans>\n                    ) : (\n                      <Trans>Install in project</Trans>\n                    )\n                  }\n                  primary\n                  onClick={onInstall}\n                  disabled={isInstalling}\n                />\n              </LeftLoader>,\n            ]}\n            open\n            autoScrollBodyContent\n            onRequestClose={onClose}\n          >\n            {!extensionHeader ? (\n              extensionShortHeader.shortDescription\n            ) : (\n              <ReactMarkdown\n                escapeHtml\n                source={extensionHeader.description}\n                className={muiTheme.markdownRootClassName}\n              />\n            )}\n            {!extensionHeader && !error && <PlaceholderLoader />}\n            {!extensionHeader && error && (\n              <PlaceholderError onRetry={this._loadExtensionheader}>\n                <Trans>\n                  Can't load the extension registry. Verify your internet\n                  connection or try again later.\n                </Trans>\n              </PlaceholderError>\n            )}\n          </Dialog>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","// @flow\nimport { t } from '@lingui/macro';\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport React, { Component } from 'react';\nimport {\n  getExtensionsRegistry,\n  type ExtensionsRegistry,\n  type ExtensionShortHeader,\n  type SerializedExtension,\n  getExtension,\n} from '../Utils/GDevelopServices/Extension';\nimport { List, ListItem } from 'material-ui/List';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport ExtensionInstallDialog from './ExtensionInstallDialog';\nimport { unserializeFromJSObject } from '../Utils/Serializer';\nimport { showErrorBox } from '../UI/Messages/MessageBox';\nimport EventsFunctionsExtensionsContext, {\n  type EventsFunctionsExtensionsState,\n} from '../EventsFunctionsExtensionsLoader/EventsFunctionsExtensionsContext';\nimport PlaceholderError from '../UI/PlaceholderError';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport SearchbarWithChips from '../UI/SearchbarWithChips';\n\n/**\n * Add a serialized (JS object) events function extension to the project,\n * triggering reload of extensions.\n */\nexport const addSerializedExtensionToProject = (\n  eventsFunctionsExtensionsState: EventsFunctionsExtensionsState,\n  project: gdProject,\n  serializedExtension: SerializedExtension\n): Promise<void> => {\n  const { name } = serializedExtension;\n  if (!name)\n    return Promise.reject(new Error('Malformed extension (missing name).'));\n\n  const newEventsFunctionsExtension = project.hasEventsFunctionsExtensionNamed(\n    name\n  )\n    ? project.getEventsFunctionsExtension(name)\n    : project.insertNewEventsFunctionsExtension(name, 0);\n\n  unserializeFromJSObject(\n    newEventsFunctionsExtension,\n    serializedExtension,\n    'unserializeFrom',\n    project\n  );\n\n  return eventsFunctionsExtensionsState.loadProjectEventsFunctionsExtensions(\n    project\n  );\n};\n\ntype Props = {|\n  project: gdProject,\n  showOnlyWithBehaviors: boolean,\n  onNewExtensionInstalled: () => void,\n  onRegistryLoaded?: () => void,\n|};\n\ntype State = {|\n  isInstalling: boolean,\n  selectedExtensionShortHeader: ?ExtensionShortHeader,\n  searchText: string,\n  chosenTag: string,\n  extensionsRegistry: ?ExtensionsRegistry,\n  error: ?Error,\n|};\n\ntype FilteringOptions = {|\n  searchText: string,\n  chosenTag: string,\n  showOnlyWithBehaviors: boolean,\n|};\n\nconst filterExtensionShortHeaders = (\n  extensionShortHeaders: Array<ExtensionShortHeader>,\n  { searchText, chosenTag, showOnlyWithBehaviors }: FilteringOptions\n): Array<ExtensionShortHeader> => {\n  const behaviorsFilteredHeaders = extensionShortHeaders.filter(\n    ({ eventsBasedBehaviorsCount }) =>\n      !showOnlyWithBehaviors || eventsBasedBehaviorsCount > 0\n  );\n\n  if (!searchText && !chosenTag) return behaviorsFilteredHeaders;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n  return behaviorsFilteredHeaders\n    .filter(({ tags }) => !chosenTag || tags.indexOf(chosenTag) !== -1)\n    .filter(\n      ({ name, shortDescription }) =>\n        !searchText ||\n        (name.toLowerCase().indexOf(lowercaseSearchText) !== -1 ||\n          shortDescription.toLowerCase().indexOf(lowercaseSearchText) !== -1)\n    );\n};\n\nconst MAX_DISPLAYED_RESULTS = 20;\n\n/**\n * Display a list of extensions that the user can search in.\n * Can be used as is, or in a dialog (see ExtensionsSearchDialog).\n */\nexport default class ExtensionsSearch extends Component<Props, State> {\n  state = {\n    isInstalling: false,\n    extensionsRegistry: null,\n    selectedExtensionShortHeader: null,\n    searchText: '',\n    error: null,\n    chosenTag: '',\n  };\n\n  componentDidMount() {\n    this._loadExtensionsRegistry();\n  }\n\n  _loadExtensionsRegistry = () => {\n    this.setState({\n      error: null,\n    });\n    getExtensionsRegistry().then(\n      extensionsRegistry => {\n        this.setState(\n          {\n            extensionsRegistry,\n          },\n          () => {\n            if (this.props.onRegistryLoaded) {\n              this.props.onRegistryLoaded();\n            }\n          }\n        );\n      },\n      error => {\n        this.setState({\n          error,\n        });\n      }\n    );\n  };\n\n  _install = (\n    i18n: I18nType,\n    eventsFunctionsExtensionsState: EventsFunctionsExtensionsState,\n    extensionShortHeader: ExtensionShortHeader\n  ) => {\n    const { project } = this.props;\n\n    this.setState({\n      isInstalling: true,\n    });\n    getExtension(extensionShortHeader)\n      .then(\n        serializedExtension => {\n          return addSerializedExtensionToProject(\n            eventsFunctionsExtensionsState,\n            project,\n            serializedExtension\n          ).then(() => {\n            this.setState(\n              {\n                selectedExtensionShortHeader: null,\n              },\n              () => this.props.onNewExtensionInstalled()\n            );\n          });\n        },\n        err => {\n          showErrorBox(\n            i18n._(\n              t`Unable to download and install the extension. Verify that your internet connection is working or try again later.`\n            ),\n            err\n          );\n        }\n      )\n      .then(() => {\n        this.setState({\n          isInstalling: false,\n        });\n      });\n  };\n\n  render() {\n    const { project, showOnlyWithBehaviors } = this.props;\n    const {\n      selectedExtensionShortHeader,\n      extensionsRegistry,\n      searchText,\n      isInstalling,\n      error,\n      chosenTag,\n    } = this.state;\n\n    const extensionShortHeaders = extensionsRegistry\n      ? filterExtensionShortHeaders(extensionsRegistry.extensionShortHeaders, {\n          searchText,\n          chosenTag,\n          showOnlyWithBehaviors,\n        })\n      : [];\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <EventsFunctionsExtensionsContext.Consumer>\n            {eventsFunctionsExtensionsState => (\n              <React.Fragment>\n                <SearchbarWithChips\n                  value={searchText}\n                  onRequestSearch={() => {\n                    if (extensionShortHeaders.length) {\n                      this.setState({\n                        selectedExtensionShortHeader: extensionShortHeaders[0],\n                      });\n                    }\n                  }}\n                  onChange={searchText =>\n                    this.setState({\n                      searchText,\n                    })\n                  }\n                  chips={\n                    !!extensionsRegistry\n                      ? extensionsRegistry.allTags.map(tag => ({\n                          text: tag,\n                          value: tag,\n                        }))\n                      : null\n                  }\n                  chosenChip={chosenTag}\n                  onChooseChip={chosenTag =>\n                    this.setState({\n                      chosenTag,\n                    })\n                  }\n                />\n                <List>\n                  {!extensionsRegistry && !error && <PlaceholderLoader />}\n                  {!!extensionsRegistry &&\n                    extensionShortHeaders\n                      .slice(0, MAX_DISPLAYED_RESULTS)\n                      .map(extensionShortHeader => {\n                        const alreadyInstalled = project.hasEventsFunctionsExtensionNamed(\n                          extensionShortHeader.name\n                        );\n\n                        return (\n                          <ListItem\n                            key={extensionShortHeader.name}\n                            primaryText={\n                              <span>\n                                {extensionShortHeader.fullName}{' '}\n                                {alreadyInstalled && (\n                                  <Trans> (already installed)</Trans>\n                                )}\n                              </span>\n                            }\n                            secondaryText={\n                              <p>{extensionShortHeader.shortDescription}</p>\n                            }\n                            secondaryTextLines={2}\n                            onClick={() =>\n                              this.setState({\n                                selectedExtensionShortHeader: extensionShortHeader,\n                              })\n                            }\n                          />\n                        );\n                      })}\n                  {!!extensionsRegistry &&\n                    extensionShortHeaders.length > MAX_DISPLAYED_RESULTS && (\n                      <EmptyMessage>\n                        <Trans>\n                          There are other results not displayed. Enter more\n                          precise search criteria to find other extensions.\n                        </Trans>\n                      </EmptyMessage>\n                    )}\n                  {!extensionsRegistry && error && (\n                    <PlaceholderError onRetry={this._loadExtensionsRegistry}>\n                      <Trans>\n                        Can't load the extension registry. Verify your internet\n                        connection or try again later.\n                      </Trans>\n                    </PlaceholderError>\n                  )}\n                </List>\n                {!!selectedExtensionShortHeader && (\n                  <ExtensionInstallDialog\n                    isInstalling={isInstalling}\n                    extensionShortHeader={selectedExtensionShortHeader}\n                    alreadyInstalled={project.hasEventsFunctionsExtensionNamed(\n                      selectedExtensionShortHeader.name\n                    )}\n                    onInstall={() =>\n                      this._install(\n                        i18n,\n                        eventsFunctionsExtensionsState,\n                        selectedExtensionShortHeader\n                      )\n                    }\n                    onClose={() =>\n                      this.setState({\n                        selectedExtensionShortHeader: null,\n                      })\n                    }\n                  />\n                )}\n              </React.Fragment>\n            )}\n          </EventsFunctionsExtensionsContext.Consumer>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport { type Theme } from '../DefaultTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport './Mosaic.css';\nimport './EventsSheet.css';\nimport 'react-virtualized/styles.css'; // Styles for react-virtualized Table\nimport './Table.css';\nimport './Markdown.css';\n\nconst almostWhite = '#EEE';\nconst lightWhite = '#DDD';\nconst notSoWhite = '#CCC';\nconst gdevelopDarkBlue = '#3c4698';\nconst blue = '#2c6bf5';\n\nconst systemSelectionColor = '#4c92ff'; //OS X selection\n\nconst backgroundColor = '#252525';\nconst canvasColor = '#303030';\n\nconst theme: Theme = {\n  fontFamily: '-apple-system, BlinkMacSystemFont, sans-serif', //OS X font\n  palette: {\n    primary1Color: blue,\n    primary2Color: blue,\n    accent1Color: almostWhite,\n    canvasColor,\n    textColor: lightWhite,\n    secondaryTextColor: notSoWhite,\n    alternateTextColor: '#444',\n    borderColor: '#444444',\n    disabledColor: '#888888',\n    pickerHeaderColor: '#444444',\n    clockCircleColor: '#444444',\n  },\n  avatar: {\n    backgroundColor: 'transparent',\n  },\n  tabs: {\n    backgroundColor: gdevelopDarkBlue,\n    textColor: lightWhite,\n    selectedTextColor: almostWhite,\n  },\n  toolbar: {\n    backgroundColor: backgroundColor,\n    separatorColor: '#303030',\n    menuHoverColor: systemSelectionColor,\n    hoverColor: systemSelectionColor,\n  },\n  menuItem: {\n    dataHeight: 24,\n    height: 32,\n    hoverColor: systemSelectionColor,\n    selectedTextColor: systemSelectionColor,\n    padding: 8,\n  },\n  appBar: {\n    color: gdevelopDarkBlue,\n    textColor: almostWhite,\n  },\n  button: {\n    height: 32,\n    iconButtonSize: 24,\n  },\n  snackbar: {\n    actionColor: blue,\n  },\n  stepper: {\n    textColor: lightWhite,\n  },\n  raisedButton: {\n    primaryTextColor: notSoWhite,\n  },\n\n  // GDevelop specific variables:\n  closableTabs: {\n    backgroundColor: backgroundColor,\n    textColor: '#878787',\n    selectedBackgroundColor: gdevelopDarkBlue,\n    selectedTextColor: almostWhite,\n    width: 200,\n    height: 32,\n    closeButtonWidth: 24,\n  },\n  imageThumbnail: {\n    selectedBorderColor: systemSelectionColor,\n  },\n  list: {\n    itemsBackgroundColor: '#494949',\n  },\n  listItem: {\n    groupBackgroundColor: backgroundColor,\n    groupTextColor: '#AAA',\n    deprecatedGroupTextColor: '#888',\n    separatorColor: '#303030',\n    selectedBackgroundColor: systemSelectionColor,\n    selectedTextColor: almostWhite,\n    errorTextColor: '#ff2e16',\n    warningTextColor: '#ffb032',\n    selectedErrorBackgroundColor: '#ff2e16',\n    selectedWarningBackgroundColor: '#ffb032',\n  },\n  emptyMessage: {\n    shadowColor: '#000',\n  },\n  logo: {\n    src: 'res/GD-logo.png',\n  },\n  mosaicRootClassName: 'mosaic-gd-dark-theme', // See Mosaic.css\n  eventsSheetRootClassName: 'gd-events-sheet-dark-theme', // See EventsSheet.css\n  tableRootClassName: 'gd-table-dark-theme', // See Table.css\n  markdownRootClassName: 'gd-markdown-dark-theme', // See Markdown.css\n  gdevelopIconsCSSFilter: '',\n};\n\nexport default getMuiTheme(theme);\n","// @flow\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport './Mosaic.css';\nimport './EventsSheet.css';\nimport 'react-virtualized/styles.css'; // Styles for react-virtualized Table\nimport './Table.css';\nimport './Markdown.css';\n\nconst gdevelopPurple = '#9100ce';\nconst gdevelopLightBlue = '#4ab0e4';\nconst gdevelopDarkBlue = '#3c4698';\n\nconst systemSelectionColor = '#4c92ff'; //OS X selection\n\nconst backgroundColor = '#f7f7f7';\nconst canvasColor = '#f0f0f0';\n\nconst theme = {\n  fontFamily: '-apple-system, BlinkMacSystemFont, sans-serif', //OS X font\n  palette: {\n    primary1Color: gdevelopLightBlue,\n    primary2Color: gdevelopDarkBlue,\n    accent1Color: gdevelopPurple,\n    canvasColor,\n  },\n  avatar: {\n    backgroundColor: 'transparent',\n  },\n  tabs: {\n    backgroundColor: gdevelopLightBlue,\n  },\n  toolbar: {\n    backgroundColor: backgroundColor,\n    separatorColor: '#cecece',\n    menuHoverColor: systemSelectionColor,\n    hoverColor: systemSelectionColor,\n  },\n  menuItem: {\n    dataHeight: 24,\n    height: 32,\n    hoverColor: systemSelectionColor,\n    selectedTextColor: systemSelectionColor,\n    padding: 8,\n  },\n  appBar: {\n    color: gdevelopPurple,\n  },\n  button: {\n    height: 32,\n    iconButtonSize: 24,\n  },\n  snackbar: {\n    actionColor: gdevelopLightBlue,\n  },\n  stepper: {},\n  raisedButton: {\n    primaryTextColor: '#ffffff',\n  },\n\n  // GDevelop specific variables:\n  closableTabs: {\n    backgroundColor: backgroundColor,\n    textColor: '#878787',\n    selectedBackgroundColor: gdevelopLightBlue,\n    selectedTextColor: '#ffffff',\n    width: 200,\n    height: 32,\n    closeButtonWidth: 24,\n  },\n  imageThumbnail: {\n    selectedBorderColor: systemSelectionColor,\n  },\n  list: {\n    itemsBackgroundColor: '#FFFFFF',\n  },\n  listItem: {\n    groupBackgroundColor: backgroundColor,\n    groupTextColor: 'rgba(0,0,0,0.54)',\n    deprecatedGroupTextColor: 'rgba(0,0,0,0.30)',\n    separatorColor: '#e0e0e0',\n    selectedBackgroundColor: systemSelectionColor,\n    selectedTextColor: '#ffffff',\n    errorTextColor: '#ff2e16',\n    warningTextColor: '#ffb032',\n    selectedErrorBackgroundColor: '#ff2e16',\n    selectedWarningBackgroundColor: '#ffb032',\n  },\n  emptyMessage: {\n    shadowColor: '#FFFFFF',\n  },\n  logo: {\n    src: 'res/GD-logo-big.png',\n  },\n  mosaicRootClassName: 'mosaic-gd-default-theme', // See Mosaic.css\n  eventsSheetRootClassName: 'gd-events-sheet-default-theme', // See EventsSheet.css\n  tableRootClassName: 'gd-table-default-theme', // See Table.css\n  markdownRootClassName: 'gd-markdown-default-theme', // See Markdown.css\n  gdevelopIconsCSSFilter: '',\n};\n\nexport type Theme = $Exact<typeof theme>;\nexport default getMuiTheme(theme);\n","import DarkTheme from './DarkTheme';\nimport DefaultTheme from './DefaultTheme';\n\n// To add a new theme:\n// * copy the folder of an existing one (DefaultTheme for example),\n// * import it at the top of the file\n// * add it below:\nexport const themes = {\n  'GDevelop default': DefaultTheme,\n  Dark: DarkTheme,\n};\n\nexport const getTheme = themeName =>\n  themes[themeName] || themes['GDevelop default'];\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport {\n  type Release,\n  findRelease,\n} from '../../Utils/GDevelopServices/Release';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport PlaceholderLoader from '../../UI/PlaceholderLoader';\nimport ReactMarkdown from 'react-markdown';\nimport { Column, Line } from '../../UI/Grid';\nimport { FlatButton, RaisedButton } from 'material-ui';\nimport Window from '../../Utils/Window';\nimport { hasBreakingChange } from '../../Utils/GDevelopServices/Release';\nimport AlertMessage from '../../UI/AlertMessage';\nimport ThemeConsumer from '../../UI/Theme/ThemeConsumer';\n\ntype Props = {|\n  releases: ?Array<Release>,\n  error: ?Error,\n  currentReleaseName: string,\n|};\n\n/**\n * Display information about latest releases.\n */\nconst ChangelogRenderer = ({ releases, error, currentReleaseName }: Props) => {\n  const openReleaseNote = () =>\n    Window.openExternalURL('https://github.com/4ian/GDevelop/releases');\n\n  if (error) {\n    return (\n      <Column>\n        <Line>\n          <AlertMessage kind=\"warning\">\n            Please double check online the changes to make sure that you are\n            aware of anything new in this version that would require you to\n            adapt your project.\n          </AlertMessage>\n        </Line>\n        <Line>\n          <EmptyMessage>\n            <Trans>\n              Unable to load the information about the latest GDevelop releases.\n              Verify your internet connection or retry later.\n            </Trans>\n          </EmptyMessage>\n        </Line>\n        <Line justifyContent=\"center\">\n          <RaisedButton\n            label={<Trans>See the releases notes online</Trans>}\n            onClick={openReleaseNote}\n          />\n        </Line>\n      </Column>\n    );\n  }\n\n  if (!releases) {\n    return <PlaceholderLoader />;\n  }\n\n  const currentRelease = findRelease(releases, currentReleaseName);\n  const currentVersionHasBreakingChange =\n    !!currentRelease && hasBreakingChange(currentRelease);\n\n  return (\n    <ThemeConsumer>\n      {muiTheme => (\n        <Column>\n          {currentVersionHasBreakingChange && (\n            <AlertMessage kind=\"warning\">\n              This version of GDevelop has a breaking change. Please make sure\n              to read the changes below to understand if any change or\n              adaptation must be made to your project.\n            </AlertMessage>\n          )}\n          {releases.map(release =>\n            release.name ? (\n              <ReactMarkdown\n                key={release.name}\n                escapeHtml\n                source={\n                  '# Version ' +\n                  release.name +\n                  '\\n---\\n' +\n                  (release.description ||\n                    'Changes and new features description will be available soon.')\n                }\n                className={muiTheme.markdownRootClassName}\n              />\n            ) : null\n          )}\n          <Line justifyContent=\"center\">\n            <FlatButton\n              label={<Trans>See all the releases notes</Trans>}\n              onClick={openReleaseNote}\n            />\n          </Line>\n        </Column>\n      )}\n    </ThemeConsumer>\n  );\n};\n\nexport default ChangelogRenderer;\n","// @flow\nimport axios from 'axios';\nimport { GDevelopReleaseApi } from './ApiConfigs';\n\nexport type Release = {\n  name: ?string,\n  publishedAt: ?string,\n  description: ?string,\n};\n\nexport const getReleases = (): Promise<Array<Release>> => {\n  return axios\n    .get(`${GDevelopReleaseApi.baseUrl}/release`, {\n      params: {\n        last: 4,\n      },\n    })\n    .then(response => response.data);\n};\n\nexport const hasBreakingChange = (release: Release): boolean => {\n  return (\n    (release.description || '').toLowerCase().indexOf('breaking change') !== -1\n  );\n};\n\nexport const findRelease = (\n  releases: Array<Release>,\n  name: string\n): ?Release => {\n  return releases.find(release => release.name === name);\n};\n","// @flow\nimport * as React from 'react';\nimport {\n  getReleases,\n  type Release,\n} from '../../Utils/GDevelopServices/Release';\nimport ChangelogRenderer from './ChangelogRenderer';\nimport { getIDEVersion } from '../../Version';\n\ntype State = {|\n  releases: ?Array<Release>,\n  error: ?Error,\n|};\n\ntype Props = {|\n  onUpdated?: () => void,\n|};\n\n/**\n * Load information about latest releases and display them.\n */\nexport default class Changelog extends React.Component<Props, State> {\n  state = {\n    releases: null,\n    error: null,\n  };\n\n  _onUpdated = () => {\n    if (this.props.onUpdated) this.props.onUpdated();\n  };\n\n  componentDidMount() {\n    getReleases()\n      .then(releases =>\n        this.setState(\n          {\n            releases,\n            error: null,\n          },\n          this._onUpdated\n        )\n      )\n      .catch((error: ?Error) =>\n        this.setState(\n          {\n            error,\n          },\n          this._onUpdated\n        )\n      );\n  }\n\n  render() {\n    const { releases, error } = this.state;\n    return (\n      <ChangelogRenderer\n        releases={releases}\n        error={error}\n        currentReleaseName={getIDEVersion()}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport { ListItem } from 'material-ui/List';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport IconButton from 'material-ui/IconButton';\nimport TextField from 'material-ui/TextField';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport ThemeConsumer from '../UI/Theme/ThemeConsumer';\n\ntype Props = {|\n  group: gdObjectGroup,\n  style: Object,\n  onEdit: ?(gdObjectGroup) => void,\n  onEditName: () => void,\n  onDelete: () => void,\n  onRename: string => void,\n  editingName: boolean,\n  isGlobalGroup: boolean,\n|};\n\nconst styles = {\n  groupName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  textField: {\n    top: -16,\n  },\n};\n\nexport default class ThemableGroupRow extends React.Component<Props, {||}> {\n  _renderGroupMenu(group) {\n    return (\n      <IconMenu\n        ref={iconMenu => (this._iconMenu = iconMenu)}\n        iconButtonElement={\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        }\n        buildMenuTemplate={() => [\n          {\n            label: 'Edit group',\n            click: () => this.props.onEdit(group),\n          },\n          {\n            label: 'Set as Global group',\n            enabled: !this.props.isGlobalGroup,\n            click: () => this.props.onSetAsGlobalGroup(),\n          },\n          {\n            label: 'Rename',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onEditName(),\n          },\n          {\n            label: 'Delete',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onDelete(),\n          },\n        ]}\n      />\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editingName && this.props.editingName) {\n      setTimeout(() => {\n        if (this.textField) this.textField.focus();\n      }, 100);\n    }\n  }\n\n  _onContextMenu = event => {\n    if (this._iconMenu) this._iconMenu.open(event);\n  };\n\n  render() {\n    const { group, style, isGlobalGroup } = this.props;\n\n    const groupName = group.getName();\n    const label = this.props.editingName ? (\n      <TextField\n        id=\"rename-object-field\"\n        ref={textField => (this.textField = textField)}\n        defaultValue={groupName}\n        onBlur={e => this.props.onRename(e.target.value)}\n        onKeyPress={event => {\n          if (event.charCode === 13) {\n            // enter key pressed\n            this.textField.blur();\n          }\n        }}\n        fullWidth\n        style={styles.textField}\n      />\n    ) : (\n      <div\n        style={{\n          ...styles.groupName,\n          fontStyle: isGlobalGroup ? 'italic' : undefined,\n          fontWeight: isGlobalGroup ? 'bold' : 'normal',\n        }}\n      >\n        {groupName}\n      </div>\n    );\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <ListItem\n            style={{\n              borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n              ...style,\n            }}\n            onContextMenu={this._onContextMenu}\n            primaryText={label}\n            rightIconButton={this._renderGroupMenu(group)}\n            onClick={() => {\n              this.props.onEdit(group);\n            }}\n          />\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { AutoSizer, List } from 'react-virtualized';\nimport Background from '../UI/Background';\nimport SearchBar from '../UI/SearchBar';\nimport GroupRow from './GroupRow';\nimport { ListItem } from 'material-ui/List';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { makeAddItem } from '../UI/ListCommonItem';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport {\n  filterGroupsList,\n  enumerateGroups,\n} from '../ObjectsList/EnumerateObjects';\nimport type {\n  GroupWithContextList,\n  GroupWithContext,\n} from '../ObjectsList/EnumerateObjects';\n\nconst listItemHeight = 48;\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\nconst AddGroupRow = makeAddItem(ListItem);\n\nconst SortableGroupRow = SortableElement(props => {\n  const { style, ...otherProps } = props;\n  return (\n    <div style={style}>\n      <GroupRow {...otherProps} />\n    </div>\n  );\n});\n\nconst SortableAddGroupRow = SortableElement(props => {\n  return <AddGroupRow {...props} />;\n});\n\nclass GroupsList extends Component<*, *> {\n  list: ?List;\n\n  forceUpdateGrid() {\n    if (this.list) this.list.forceUpdateGrid();\n  }\n\n  render() {\n    const { height, width, fullList } = this.props;\n\n    return (\n      <List\n        ref={list => (this.list = list)}\n        height={height}\n        rowCount={fullList.length}\n        rowHeight={listItemHeight}\n        rowRenderer={({ index, key, style }) => {\n          const groupWithContext = fullList[index];\n          if (groupWithContext.key === 'add-groups-row') {\n            return (\n              <SortableAddGroupRow\n                index={fullList.length}\n                key={key}\n                style={style}\n                disabled\n                onClick={this.props.onAddGroup}\n                primaryText={<Trans>Click to add a group</Trans>}\n              />\n            );\n          }\n\n          const nameBeingEdited =\n            this.props.renamedGroupWithScope &&\n            this.props.renamedGroupWithScope.group === groupWithContext.group &&\n            this.props.renamedGroupWithScope.global === groupWithContext.global;\n\n          return (\n            <SortableGroupRow\n              index={index}\n              key={groupWithContext.group.ptr}\n              group={groupWithContext.group}\n              style={style}\n              onEdit={\n                this.props.onEditGroup\n                  ? () => this.props.onEditGroup(groupWithContext.group)\n                  : undefined\n              }\n              onEditName={() => this.props.onEditName(groupWithContext)}\n              onDelete={() => this.props.onDelete(groupWithContext)}\n              onRename={newName =>\n                this.props.onRename(groupWithContext, newName)\n              }\n              editingName={nameBeingEdited}\n              isGlobalGroup={groupWithContext.global}\n              onSetAsGlobalGroup={\n                groupWithContext.global\n                  ? undefined\n                  : () => this.props.onSetAsGlobalGroup(groupWithContext)\n              }\n            />\n          );\n        }}\n        width={width}\n      />\n    );\n  }\n}\n\nconst SortableGroupsList = SortableContainer(GroupsList, { withRef: true });\n\ntype State = {|\n  renamedGroupWithScope: ?GroupWithContext,\n  searchText: string,\n|};\n\ntype Props = {|\n  globalObjectGroups: gdObjectGroupsContainer,\n  objectGroups: gdObjectGroupsContainer,\n  onDeleteGroup: (groupWithContext: GroupWithContext, cb: Function) => void,\n  onEditGroup: gdObjectGroup => void,\n  onRenameGroup: (\n    groupWithContext: GroupWithContext,\n    newName: string,\n    cb: Function\n  ) => void,\n  onGroupAdded?: () => void,\n  onGroupRemoved?: () => void,\n  onGroupRenamed?: () => void,\n|};\n\nexport default class GroupsListContainer extends React.Component<Props, State> {\n  static defaultProps = {\n    onDeleteGroup: (groupWithContext: GroupWithContext, cb: Function) =>\n      cb(true),\n    onRenameGroup: (\n      groupWithContext: GroupWithContext,\n      newName: string,\n      cb: Function\n    ) => cb(true),\n  };\n\n  sortableList: any;\n  objectGroupsList: GroupWithContextList = [];\n  globalObjectGroupsList: GroupWithContextList = [];\n  state: State = {\n    renamedGroupWithScope: null,\n    searchText: '',\n  };\n\n  shouldComponentUpdate(nextProps: Props, nextState: State) {\n    // The component is costly to render, so avoid any re-rendering as much\n    // as possible.\n    // We make the assumption that no changes to groups list is made outside\n    // from the component.\n    // If a change is made, the component won't notice it: you have to manually\n    // call forceUpdate.\n\n    if (\n      this.state.renamedGroupWithScope !== nextState.renamedGroupWithScope ||\n      this.state.searchText !== nextState.searchText\n    )\n      return true;\n\n    if (\n      this.props.globalObjectGroups !== nextProps.globalObjectGroups ||\n      this.props.objectGroups !== nextProps.objectGroups\n    ) {\n      return true;\n    }\n\n    return false;\n  }\n\n  addGroup = () => {\n    const { globalObjectGroups, objectGroups } = this.props;\n\n    const name = newNameGenerator(\n      'Group',\n      name => objectGroups.has(name) || globalObjectGroups.has(name)\n    );\n\n    objectGroups.insertNew(name, objectGroups.count());\n    this.forceUpdate();\n\n    if (this.props.onGroupAdded) {\n      this.props.onGroupAdded();\n    }\n  };\n\n  _onDelete = (groupWithContext: GroupWithContext) => {\n    const { group, global } = groupWithContext;\n    const { globalObjectGroups, objectGroups } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this group? This can't be undone.\"\n    );\n    if (!answer) return;\n\n    this.props.onDeleteGroup(groupWithContext, doRemove => {\n      if (!doRemove) return;\n\n      if (global) {\n        globalObjectGroups.remove(group.getName());\n      } else {\n        objectGroups.remove(group.getName());\n      }\n\n      this.forceUpdate();\n      if (this.props.onGroupRemoved) {\n        this.props.onGroupRemoved();\n      }\n    });\n  };\n\n  _onEditName = (groupWithContext: GroupWithContext) => {\n    this.setState(\n      {\n        renamedGroupWithScope: groupWithContext,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _onRename = (groupWithContext: GroupWithContext, newName: string) => {\n    const { group } = groupWithContext;\n    const { globalObjectGroups, objectGroups } = this.props;\n\n    this.setState({\n      renamedGroupWithScope: null,\n    });\n\n    if (group.getName() === newName) return;\n\n    if (objectGroups.has(newName) || globalObjectGroups.has(newName)) {\n      showWarningBox('Another object with this name already exists');\n      return;\n    }\n\n    this.props.onRenameGroup(groupWithContext, newName, doRename => {\n      if (!doRename) return;\n\n      group.setName(newName);\n\n      this.forceUpdate();\n      if (this.props.onGroupRenamed) {\n        this.props.onGroupRenamed();\n      }\n    });\n  };\n\n  _onMove = (oldIndex: number, newIndex: number) => {\n    const { globalObjectGroups, objectGroups } = this.props;\n\n    const isInGroupsList = oldIndex < this.objectGroupsList.length;\n    if (isInGroupsList) {\n      objectGroups.move(\n        oldIndex,\n        Math.min(newIndex, this.objectGroupsList.length - 1)\n      );\n    } else {\n      const globalObjectGroupsOldIndex =\n        oldIndex - this.objectGroupsList.length;\n      const globalObjectGroupsNewIndex =\n        newIndex - this.objectGroupsList.length;\n\n      globalObjectGroups.move(\n        globalObjectGroupsOldIndex,\n        Math.min(\n          globalObjectGroupsNewIndex,\n          this.globalObjectGroupsList.length - 1\n        )\n      );\n    }\n\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  _setAsGlobalGroup = (groupWithContext: GroupWithContext) => {\n    const { group } = groupWithContext;\n    const { globalObjectGroups, objectGroups } = this.props;\n\n    const groupName = group.getName();\n\n    if (globalObjectGroups.has(groupName)) {\n      showWarningBox(\n        'A global object with this name already exists. Please change the object name before setting it as a global object'\n      );\n      return;\n    }\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"This group will be loaded and available in all the scenes. This is only recommended for groups that you reuse a lot and can't be undone. Make this group global?\"\n    );\n    if (!answer) return;\n\n    globalObjectGroups.insert(group, globalObjectGroups.count());\n    objectGroups.remove(groupName);\n    this.forceUpdate();\n  };\n\n  render() {\n    const { globalObjectGroups, objectGroups } = this.props;\n    const { searchText } = this.state;\n\n    const objectGroupsList: GroupWithContextList = enumerateGroups(\n      objectGroups\n    ).map(group => ({ group, global: false }));\n    const globalObjectGroupsList: GroupWithContextList = enumerateGroups(\n      globalObjectGroups\n    ).map(group => ({ group, global: true }));\n    this.objectGroupsList = filterGroupsList(objectGroupsList, searchText);\n    this.globalObjectGroupsList = filterGroupsList(\n      globalObjectGroupsList,\n      searchText\n    );\n    const allGroupsList = filterGroupsList(\n      [...objectGroupsList, ...globalObjectGroupsList],\n      searchText\n    );\n    const fullList = allGroupsList.concat({\n      key: 'add-groups-row',\n      object: null,\n    });\n\n    // Force List component to be mounted again if globalObjectGroups or objectGroups\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = objectGroups.ptr + ';' + globalObjectGroups.ptr;\n\n    return (\n      <Background>\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableGroupsList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={fullList}\n                width={width}\n                height={height}\n                renamedGroupWithScope={this.state.renamedGroupWithScope}\n                onEditGroup={this.props.onEditGroup}\n                onAddGroup={this.addGroup}\n                onEditName={this._onEditName}\n                onDelete={this._onDelete}\n                onRename={this._onRename}\n                onSetAsGlobalGroup={this._setAsGlobalGroup}\n                onSortEnd={({ oldIndex, newIndex }) =>\n                  this._onMove(oldIndex, newIndex)\n                }\n                helperClass=\"sortable-helper\"\n                distance={20}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n      </Background>\n    );\n  }\n}\n"],"sourceRoot":""}