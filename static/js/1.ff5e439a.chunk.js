(this["webpackJsonpgdevelop-ide"]=this["webpackJsonpgdevelop-ide"]||[]).push([[1],{1e3:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(4),r=n(224),o=n(5),i=n(356);function s({fileMetadata:e}){const t=a.useContext(r.a),n=a.useContext(i.b).hasUnsavedChanges;return a.useEffect(()=>{const a=["GDevelop 5",e?e.fileIdentifier+(n?" *":""):""].filter(Boolean).join(" - ");o.b.setTitle(a),o.b.setTitleBarColor(t.toolbar.backgroundColor)},[e,n,t.toolbar.backgroundColor]),null}},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(136),r=n(4),o=n(93);class i extends r.Component{constructor(...e){super(...e),this.state={focused:!1,text:null},this._field=null}forceSetValue(e){this.setState({text:e})}forceSetSelection(e,t){const n=this.getInputNode();n&&(n.selectionStart=e,n.selectionEnd=t)}focus(){this._field&&this._field.focus()}getInputNode(){if(this._field)return this._field.getInputNode()}render(){const e=this.props,t=e.value,n=e.onChange,i=e.commitOnBlur,s=e.onFocus,l=e.onBlur,c=e.type,u=Object(a.a)(e,["value","onChange","commitOnBlur","onFocus","onBlur","type"]);return r.createElement(o.b,Object.assign({},u,{type:c||"text",ref:e=>this._field=e,value:this.state.focused?this.state.text:t,onFocus:e=>{this.setState({focused:!0,text:this.props.value}),s&&s(e)},onChange:(e,t)=>{this.setState({text:t}),i||n(t)},onBlur:e=>{n(e.currentTarget.value),this.setState({focused:!1,text:null}),l&&l(e)}}))}}},106:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(81),i=n(639),s=n.n(i),l=n(5),c=n(200);t.a=e=>{if(!e.helpPagePath)return null;const t=Object(c.a)(e.helpPagePath);return t?r.createElement(o.a,{onClick:()=>{e.helpPagePath&&l.b.openExternalURL(t)},target:"_blank",label:e.label||r.createElement(a.Trans,{id:"Help"}),icon:r.createElement(s.a,null)}):null}},1080:function(e){e.exports=JSON.parse('{"GdevelopColorLightBlue":"#4ab0e4","GdevelopColorBlue":"#2c6bf5","GdevelopColorDarkBlue":"#3c4698","GdevelopColorPurple":"#9100ce","GdevelopColorContrastText":"#fff","GdevelopColorSelection":"#4c92ff","GdevelopFontFamily":"-apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen-Sans, Ubuntu, \'Helvetica Neue\', Helvetica, sans-serif, \'Apple Color Emoji\', \'Segoe UI Emoji\', \'Segoe UI Symbol\'","ThemePrimaryColor":"#2c6bf5","ThemePrimaryTextContrastColor":"#fff","ThemeSecondaryColor":"#EEE","ThemeSecondaryTextContrastColor":"#000","ThemeSurfaceWindowBackgroundColor":"#252525","ThemeSurfaceCanvasBackgroundColor":"#303030","ThemeSurfaceAlternateCanvasBackgroundColor":"#494949","ThemeSelectionBackgroundColor":"#4c92ff","ThemeSelectionColor":"white","ThemeTextDefaultColor":"#DDD","ThemeTextSecondaryColor":"#CCC","ThemeTextDisabledColor":"#888888","ThemeTextContrastColor":"#fff","ThemeMessageWarningColor":"#ffa500","ThemeMessageErrorColor":"#f00","ThemeMessageValidColor":"#00dd00","ThemeMessageEmptyShadowColor":"#000","ThemeToolbarSeparatorColor":"#4d4d4d","ThemeClosableTabsDefaultBackgroundColor":"#303030","ThemeClosableTabsDefaultColor":"#878787","ThemeClosableTabsSelectedBackgroundColor":"#3c4698","ThemeClosableTabsSelectedColor":"#EEE","ThemeListItemGroupTextColor":"#AAA","ThemeListItemGroupTextDeprecatedColor":"#888","ThemeListItemSeparatorColor":"#4d4d4d","ThemeListItemWarningColor":"#ffb032","ThemeListItemErrorColor":"#ff2e16","ThemeRightIconColor":"#fff","ThemePaletteBlack":"rgba(110, 42, 42, 1)","ThemePaletteWhite":"#fff","InputBorderBottomColor":"#444444","TabsBackgroundColor":"#3c4698","EventSheetEventTreeBackgroundColor":"#303030","EventSheetRstMoveHandleBackgroundColor":"#494949","EventSheetRstMoveHandleHoverBackgroundColor":"#767676","EventSheetRstLineBackgroundColor":"aaa","EventSheetRstRowContentsBackgroundColor":"#303030","EventSheetRstRowContentsColor":"rgb(209, 209, 209)","EventSheetRstRowSearchBorderColor":"#18dcf2","EventSheetRstRowSearchBorderLeftWidthMatch":"3px","EventSheetRstRowSearchBorderLeftWidthFocus":"5px","EventSheetRstWithResultsBackgroundColor":"#d3d3d3","EventSheetRstWithResultsBorder":"1px #d3d3d3 solid","EventSheetSelectableBackgroundColor":"rgba(0, 0, 0, 0.1)","EventSheetSelectableBorder":"1px #303030 solid","EventSheetSelectableSelectedBorder":"1px #4ab0e4 dashed","EventSheetConditionsBackgroundColor":"#494949","EventSheetConditionsBorderColor":"#494949","EventSheetConditionsBorder":"1px solid #494949","EventSheetConditionsColor":"rgb(209, 209, 209)","EventSheetConditionsBorderRightColor":"#494949","EventSheetConditionsBorderBottomColor":"black","EventSheetActionsBackgroundColor":"303030","EventSheetActionsColor":"rgb(209, 209, 209)","EventSheetSubInstructionsBorderColor":"#303030","EventSheetSubInstructionsBorder":"1px solid #303030","EventSheetInstructionParameterBaseColor":"#93e500","EventSheetInstructionParameterExpressionColor":"#e8dc59","EventSheetInstructionParameterObjectColor":"#b77cff","EventSheetInstructionParameterBehaviorColor":"#ff9200","EventSheetInstructionParameterOperatorColor":"#b77cff","EventSheetInstructionParameterVarColor":"#18dcf2","EventSheetInstructionParameterErrorColor":"#ff0000","EventSheetInstructionParameterErrorBackgroundColor":"rgba(238, 255, 0, 0.05)","EventSheetDropIndicatorCanDropBorderTopColor":"#18dcf2","EventSheetDropIndicatorCannotDropBorderTopColor":"#ff5c5c","EventSheetLinkContainerBackgroundColor":"#505050","EventSheetLinkContainerColor":"rgb(209, 209, 209)","EventSheetLinkSelectableLinkColor":"#b77cff","MarkdownBlockquoteBorderLeftColor":"rgba(221, 221, 221, 0.6)","MarkdownLinkColor":"rgb(221, 221, 221)","MosaicTitleColor":"white","MosaicLayoutBorderColor":"#888888","MosaicLayoutBackgroundColor":"#4d4d4d","MosaicToolbarBackgroundColor":"#3c4698","MosaicToolbarBorderColorHover":"#2b95d6","TableBorderColor":"#303030","TableTextColor":"#DDD","TableTextColorHeader":"rgb(158, 158, 158)","TableRowOddBackgroundColor":"#303030","TableRowEvenBackgroundColor":"#252525","TableRowSelectedBackgroundColor":"#4c92ff","TableRowSelectedColor":"white"}')},1081:function(e,t,n){},1082:function(e){e.exports=JSON.parse('{"GdevelopColorLightBlue":"#4ab0e4","GdevelopColorBlue":"#2c6bf5","GdevelopColorDarkBlue":"#3c4698","GdevelopColorPurple":"#9100ce","GdevelopColorContrastText":"#fff","GdevelopColorSelection":"#4c92ff","GdevelopFontFamily":"-apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen-Sans, Ubuntu, \'Helvetica Neue\', Helvetica, sans-serif, \'Apple Color Emoji\', \'Segoe UI Emoji\', \'Segoe UI Symbol\'","ThemePrimaryColor":"#88C0D0","ThemePrimaryTextContrastColor":"#fff","ThemeSecondaryColor":"#EEE","ThemeSecondaryTextContrastColor":"#000","ThemeSurfaceWindowBackgroundColor":"#2E3440","ThemeSurfaceCanvasBackgroundColor":"#3B4252","ThemeSurfaceAlternateCanvasBackgroundColor":"#4C566A","ThemeSelectionBackgroundColor":"#88C0D0","ThemeSelectionColor":"white","ThemeTextDefaultColor":"#ECEFF4","ThemeTextSecondaryColor":"#E5E9F0","ThemeTextDisabledColor":"#D8DEE9","ThemeTextContrastColor":"#E5E9F0","ThemeMessageWarningColor":"#D08770","ThemeMessageErrorColor":"#BF616A","ThemeMessageValidColor":"#A3BE8C","ThemeMessageEmptyShadowColor":"#000","ThemeToolbarSeparatorColor":"#D8DEE9","ThemeClosableTabsDefaultBackgroundColor":"#3B4252","ThemeClosableTabsDefaultColor":"#ECEFF4","ThemeClosableTabsSelectedBackgroundColor":"#88C0D0","ThemeClosableTabsSelectedColor":"#2E3440","ThemeListItemGroupTextColor":"#ECEFF4","ThemeListItemGroupTextDeprecatedColor":"#D8DEE9","ThemeListItemSeparatorColor":"#4C566A","ThemeListItemWarningColor":"#EBCB8B","ThemeListItemErrorColor":"#BF616A","ThemeRightIconColor":"#fff","ThemePaletteBlack":"rgba(110, 42, 42, 1)","ThemePaletteWhite":"#fff","InputBorderBottomColor":"#D8DEE9","TabsBackgroundColor":"#81A1C1","EventSheetEventTreeBackgroundColor":"#2E3440","EventSheetRstMoveHandleBackgroundColor":"#81A1C1","EventSheetRstMoveHandleHoverBackgroundColor":"#88C0D0","EventSheetRstLineBackgroundColor":"#D8DEE9","EventSheetRstRowContentsBackgroundColor":"#2E3440","EventSheetRstRowContentsColor":"#ECEFF4","EventSheetRstRowSearchBorderColor":"#88C0D0","EventSheetRstRowSearchBorderLeftWidthMatch":"3px","EventSheetRstRowSearchBorderLeftWidthFocus":"5px","EventSheetRstWithResultsBackgroundColor":"#d3d3d3","EventSheetRstWithResultsBorder":"1px #d3d3d3 solid","EventSheetSelectableBackgroundColor":"rgba(0, 0, 0, 0.2)","EventSheetSelectableBorder":"1px #2E3440 solid","EventSheetSelectableSelectedBorder":"1px #88C0D0 solid","EventSheetConditionsBackgroundColor":"#3B4252","EventSheetConditionsBorderColor":"#3B4252","EventSheetConditionsBorder":"1px solid #3B4252","EventSheetConditionsColor":"white","EventSheetConditionsBorderRightColor":"#3B4252","EventSheetConditionsBorderBottomColor":"#2E3440","EventSheetActionsBackgroundColor":"#2E3440","EventSheetActionsColor":"white","EventSheetSubInstructionsBorderColor":"#2E3440","EventSheetSubInstructionsBorder":"1px solid #2E3440","EventSheetInstructionParameterBaseColor":"#8FBCBB","EventSheetInstructionParameterExpressionColor":"#A3BE8C","EventSheetInstructionParameterObjectColor":"#5E81AC","EventSheetInstructionParameterBehaviorColor":"rgb(119, 119, 119)","EventSheetInstructionParameterOperatorColor":"#B48EAD","EventSheetInstructionParameterVarColor":"#D08770","EventSheetInstructionParameterErrorColor":"#BF616A","EventSheetInstructionParameterErrorBackgroundColor":"rgba(243, 0, 12, 0.15)","EventSheetDropIndicatorCanDropBorderTopColor":"#4C566A","EventSheetDropIndicatorCannotDropBorderTopColor":"#BF616A","EventSheetLinkContainerBackgroundColor":"#2E3440","EventSheetLinkContainerColor":"white","EventSheetLinkSelectableLinkColor":"#81A1C1","MarkdownBlockquoteBorderLeftColor":"#D8DEE9","MarkdownLinkColor":"#ECEFF4","MosaicTitleColor":"#ECEFF4","MosaicLayoutBorderColor":"#888888","MosaicLayoutBackgroundColor":"#3B4252","MosaicToolbarBackgroundColor":"#81A1C1","MosaicToolbarBorderColorHover":"#88C0D0","TableBorderColor":"#3B4252","TableTextColor":"#ECEFF4","TableTextColorHeader":"#D8DEE9","TableRowOddBackgroundColor":"#3B4252","TableRowEvenBackgroundColor":"#2E3440","TableRowSelectedBackgroundColor":"#88C0D0","TableRowSelectedColor":"#2E3440"}')},1083:function(e,t,n){},1084:function(e){e.exports=JSON.parse('{"GdevelopColorLightBlue":"#4ab0e4","GdevelopColorBlue":"#2c6bf5","GdevelopColorDarkBlue":"#3c4698","GdevelopColorPurple":"#9100ce","GdevelopColorContrastText":"#fff","GdevelopColorSelection":"#4c92ff","GdevelopFontFamily":"-apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen-Sans, Ubuntu, \'Helvetica Neue\', Helvetica, sans-serif, \'Apple Color Emoji\', \'Segoe UI Emoji\', \'Segoe UI Symbol\'","ThemePrimaryColor":"#047AA6","ThemePrimaryTextContrastColor":"#fff","ThemeSecondaryColor":"#EEE","ThemeSecondaryTextContrastColor":"#000","ThemeSurfaceWindowBackgroundColor":"#00212B","ThemeSurfaceCanvasBackgroundColor":"#002B36","ThemeSurfaceAlternateCanvasBackgroundColor":"#003847","ThemeSelectionBackgroundColor":"#047AA6","ThemeSelectionColor":"white","ThemeTextDefaultColor":"#DDD","ThemeTextSecondaryColor":"#CCC","ThemeTextDisabledColor":"#888888","ThemeTextContrastColor":"#fff","ThemeMessageWarningColor":"#ffa500","ThemeMessageErrorColor":"#f00","ThemeMessageValidColor":"#00db00","ThemeMessageEmptyShadowColor":"#000","ThemeToolbarSeparatorColor":"#003847","ThemeClosableTabsDefaultBackgroundColor":"#002B36","ThemeClosableTabsDefaultColor":"#878787","ThemeClosableTabsSelectedBackgroundColor":"#047AA6","ThemeClosableTabsSelectedColor":"#EEE","ThemeListItemGroupTextColor":"#AAA","ThemeListItemGroupTextDeprecatedColor":"#888","ThemeListItemSeparatorColor":"#003847","ThemeListItemWarningColor":"#ffb032","ThemeListItemErrorColor":"#ff2e16","ThemeRightIconColor":"#fff","ThemePaletteBlack":"rgba(110, 42, 42, 1)","ThemePaletteWhite":"#fff","InputBorderBottomColor":"#444444","TabsBackgroundColor":"#047AA6","EventSheetEventTreeBackgroundColor":"#00212B","EventSheetRstMoveHandleBackgroundColor":"#2799b9","EventSheetRstMoveHandleHoverBackgroundColor":"rgb(31, 116, 150)","EventSheetRstLineBackgroundColor":"#D8DEE9","EventSheetRstRowContentsBackgroundColor":"#00212B","EventSheetRstRowContentsColor":"rgb(209, 209, 209)","EventSheetRstRowSearchBorderColor":"#045e9e","EventSheetRstRowSearchBorderLeftWidthMatch":"4px","EventSheetRstRowSearchBorderLeftWidthFocus":"6px","EventSheetRstWithResultsBackgroundColor":"#d3d3d3","EventSheetRstWithResultsBorder":"1px #d3d3d3 solid","EventSheetSelectableBackgroundColor":"rgba(0, 0, 0, 0.2)","EventSheetSelectableBorder":"1px #00212B solid","EventSheetSelectableSelectedBorder":"1px #00aaff dashed","EventSheetConditionsBackgroundColor":"#002B36","EventSheetConditionsBorderColor":"#002B36","EventSheetConditionsBorder":"1px solid #002B36","EventSheetConditionsColor":"rgb(209, 209, 209)","EventSheetConditionsBorderRightColor":"#00212B","EventSheetConditionsBorderBottomColor":"#002B36","EventSheetActionsBackgroundColor":"#00212B","EventSheetActionsColor":"rgb(209, 209, 209)","EventSheetSubInstructionsBorderColor":"#00212B","EventSheetSubInstructionsBorder":"1px solid #00212B","EventSheetInstructionParameterBaseColor":"#219186","EventSheetInstructionParameterExpressionColor":"#859900","EventSheetInstructionParameterObjectColor":"#268BD2","EventSheetInstructionParameterBehaviorColor":"#586e75","EventSheetInstructionParameterOperatorColor":"#D33682","EventSheetInstructionParameterVarColor":"#cb4b16","EventSheetInstructionParameterErrorColor":"#dc322f","EventSheetInstructionParameterErrorBackgroundColor":"rgba(238, 255, 0, 0.05)","EventSheetDropIndicatorCanDropBorderTopColor":"#18dcf2","EventSheetDropIndicatorCannotDropBorderTopColor":"#BF616A","EventSheetLinkContainerBackgroundColor":"#00212B","EventSheetLinkContainerColor":"rgb(155, 155, 155)","EventSheetLinkSelectableLinkColor":"#268BD2","MarkdownBlockquoteBorderLeftColor":"#D8DEE9","MarkdownLinkColor":"#ECEFF4","MosaicTitleColor":"#ECEFF4","MosaicLayoutBorderColor":"rgb(92, 118, 126)","MosaicLayoutBackgroundColor":"#002B36","MosaicToolbarBackgroundColor":"#2799b9","MosaicToolbarBorderColorHover":"rgb(92, 118, 126)","TableBorderColor":"#002B36","TableTextColor":"#ECEFF4","TableTextColorHeader":"rgb(216, 233, 217)","TableRowOddBackgroundColor":"#002B36","TableRowEvenBackgroundColor":"#00212B","TableRowSelectedBackgroundColor":"#047AA6","TableRowSelectedColor":"#002B36"}')},1085:function(e,t,n){},1087:function(e,t,n){},1088:function(e,t,n){},1089:function(e,t,n){},1090:function(e,t,n){},1091:function(e,t,n){},1092:function(e,t,n){},1096:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(71),r=n(4),o=n.n(r),i=n(99),s=n(84),l=n(81),c=n(153),u=n(73),d=n(5),h=n(80),m=n(113),p=n(632),g=n(916),b=n(12);const f={logo:{width:"100%"}},E=[{name:"Victor Levasseur",description:"Numerous contributions to GDevelop core and various extensions"},{name:"Lizard-13",description:"Numerous contributions to GDevelop (particle engine, bugfixes, new conditions, examples, tutorials...)"},{name:"Christina 'Castpixel' Antoinette Neofotistou",description:"Art and assets for the 8-bit Space Shooter example.",link:"https://www.patreon.com/castpixel"},{name:"ale26reg",description:"Contributions to GDevelop"},{name:"dos1",description:"Contributions to GDevelop"},{name:"Aur\xe9lien Vivet",description:"Numerous contributions to GDevelop (Video extension, advanced shapes, bugfixes, new conditions, examples...)",link:"https://www.witly.fr"},{name:"Todor Imreorov",description:"Numerous contributions to GDevelop, added Piskel sprite editor and jfxr"},{name:"brylie",description:"Contributions to GDevelop"},{name:"Nnarol",description:"Contributions to GDevelop"},{name:"wild-master",description:"Contributions to GDevelop"},{name:"RandomShaper",description:"Contributions to GDevelop"},{name:"RyanNerd",description:"Contributions to GDevelop"},{name:"greater",description:"Contributions to GDevelop"},{name:"triptych",description:"Contributions to GDevelop"},{name:"Wend1go",description:"Contributions to GDevelop, Tutorials, Examples"},{name:"mattiascibien",description:"Contributions to GDevelop"},{name:"araujo921",description:"Contributions to GDevelop"},{name:"ronnystandtke",description:"Contributions to GDevelop"},{name:"Thomas Flecy",description:"Contributions to GDevelop (original sound object extension)"},{name:"Arthur Pacaud (arthuro555)",description:"Contributions to GDevelop and Moderation on the Forum",link:"https://forum.gdevelop-app.com/u/arthuro555/summary"},{name:"Tristan Rhodes (Victris Games)",description:"High quality extensions for GDevelop",link:"https://www.youtube.com/channel/UClbq1M-D83t_bYhfa1mfyEQ"},{name:"The Gem Dev",description:"Contributions to GDevelop and tutorials on Youtube",link:"https://www.youtube.com/channel/UCsZ4Ue8c94YLJDbGRafCI5Q"},{name:"ddabrahim",description:"Lots of examples bundled with GDevelop",link:"https://gametemplates.itch.io/"},{name:"Gametemplates",description:"Examples bundled with GDevelop",link:"https://gametemplates.itch.io/"},{name:"Mats",description:"Tutorials, Examples"},{name:"erdo",description:"Tutorials, Examples"},{name:"Jubileuksen3",description:"Tutorials, Examples"},{name:"LucaTexas",description:"Tutorials, Examples"},{name:"Kink",description:"Forum moderator, tutorials, Examples"},{name:"RicoTrooper",description:"Tutorials"},{name:"kalel",description:"Tutorials"},{name:"mtarzaim",description:"Tutorials"},{name:"Darkhog",description:"Examples"},{name:"Ricardo Graca",description:"Tutorials, Examples"},{name:"Diego Schiavon",description:"Indiegogo Ubuntu contributor"},{name:"conceptgame",description:"Indiegogo super contributor"},{name:"Jose David Cuartas Correa",description:"Author of Digitopolis (a book on how to make games with GDevelop4)"},{name:"Fran\xe7ois Dumortier",description:"GDevelop logo design",link:"http://www.fdumortier.com"},{name:"Constantine Shvetsov",description:"Design of all the awesome icons"},{name:"MillionthVector",description:"Assets of various examples"}];class v extends r.PureComponent{constructor(...e){super(...e),this.state={currentTab:"about"},this._openContributePage=()=>{d.b.openExternalURL("https://gdevelop-app.com/contribute/")},this._openLink=e=>{e&&d.b.openExternalURL(e)},this._changeTab=e=>{this.setState({currentTab:e})}}render(){const e=this.props,t=e.open,n=e.onClose,r=e.updateStatus,v=this.state.currentTab;if(!t)return null;const y=Object(p.e)(r.status),C=Object(p.b)(r.status);return o.a.createElement(s.a,{actions:[o.a.createElement(l.a,{key:"website",label:o.a.createElement(a.Trans,{id:"GDevelop Website"}),primary:!1,onClick:()=>d.b.openExternalURL("http://gdevelop-app.com")}),o.a.createElement(l.a,{key:"close",label:o.a.createElement(a.Trans,{id:"Close"}),primary:!1,onClick:n})],onRequestClose:n,cannotBeDismissed:!1,open:t,maxWidth:"sm",noMargin:!0},o.a.createElement(m.b.Consumer,null,({values:e,checkUpdates:t})=>o.a.createElement(u.a,{noMargin:!0},o.a.createElement("img",{src:"res/GD-logo.png",alt:"GDevelop logo",style:f.logo}),o.a.createElement(c.b,{value:v,onChange:this._changeTab},o.a.createElement(c.a,{label:o.a.createElement(a.Trans,{id:"About GDevelop"}),value:"about"}),o.a.createElement(c.a,{label:o.a.createElement(a.Trans,{id:"What's new?"}),value:"changelog"}),o.a.createElement(c.a,{label:o.a.createElement(a.Trans,{id:"Contributors"}),value:"contributors"})),"about"===v&&o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,null,o.a.createElement(u.b,null,o.a.createElement(h.a,null,o.a.createElement(a.Trans,{id:"GDevelop {0} based on GDevelop.js {1}",values:{0:Object(b.b)(),1:Object(b.a)()}}))),o.a.createElement(u.b,null,o.a.createElement(h.a,null,y)),o.a.createElement(u.b,{justifyContent:"center"},!!y&&o.a.createElement(l.a,{label:C,onClick:()=>t(Object(p.a)(r.status))})))),"changelog"===v&&o.a.createElement(u.a,null,o.a.createElement(g.a,null)),"contributors"===v&&o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,null,o.a.createElement(h.a,null,o.a.createElement(a.Trans,{id:'GDevelop was created by Florian "4ian" Rival.'})),o.a.createElement(h.a,null,o.a.createElement(a.Trans,{id:"Contributors, in no particular order:"}))),o.a.createElement(i.a,null,E.map(e=>o.a.createElement(i.b,{key:e.name,primaryText:e.name,secondaryText:e.description,secondaryTextLines:e.description.length<30?1:2,displayLinkButton:!!e.link,onOpenLink:()=>this._openLink(e.link||"")}))),o.a.createElement(u.a,{expand:!0},o.a.createElement(h.a,null,o.a.createElement(a.Trans,{id:"Thanks to all users of GDevelop! There must be missing tons of people, please send your name if you've contributed and you're not listed."})),o.a.createElement(u.b,{alignItems:"center",justifyContent:"center"},o.a.createElement(l.a,{label:o.a.createElement(a.Trans,{id:"Contribute to GDevelop"}),onClick:this._openContributePage})))))))}}},111:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(4),r=n(71),o=n(2478),i=n(93),s=n(211);class l extends a.Component{constructor(...e){super(...e),this._input=a.createRef()}focus(){this._input.current&&this._input.current.focus()}render(){const e=this.props,t=e.onChange||void 0;let n=!0;const l=a.Children.map(e.children,e=>null!==e&&e.props?e.props.value:null);l?n=0!==l.filter(t=>t===e.value).length:console.error("SelectField has been passed no or invalid children. Only SelectOption and null are supported.");const c=n?e.value:"",u=e.helperMarkdownText?a.createElement(s.a,{source:e.helperMarkdownText}):null;return a.createElement(r.I18n,null,({i18n:r})=>a.createElement(o.a,Object.assign({select:!0},Object(i.a)(e),{disabled:e.disabled,fullWidth:e.fullWidth,label:e.floatingLabelText,helperText:u,value:c,onChange:t?e=>{t(e,-1,e.target.value)}:void 0,InputLabelProps:{shrink:!0},SelectProps:{native:!0},style:e.style,inputRef:this._input}),n?null:a.createElement("option",{value:"",disabled:!0},e.hintText?r._(e.hintText):r._({id:"Choose an option"})),e.children))}}},112:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(4),r=n(71);class o extends a.Component{render(){return a.createElement(r.I18n,null,({i18n:e})=>a.createElement("option",{value:this.props.value,disabled:this.props.disabled},e._(this.props.primaryText)))}}},1120:function(e,t,n){"use strict";(function(e){var a=n(77),r=n(71),o=n(4),i=n(472),s=n(360),l=n(102),c=n(161),u=n(473),d=n.n(u),h=n(1124),m=n.n(h),p=n(1123),g=n.n(p),b=n(93),f=n(95),E=n(646),v=n.n(E),y=n(645),C=n(1122),x=n(80),j=n(138),O=n(171);const T=e.gd,S=o.memo(({width:e})=>o.createElement("div",{style:Object(a.a)(Object(a.a)({},y.a.indent),{},{width:e})},o.createElement(g.a,{htmlColor:y.a.indentIconColor})));t.a=({name:e,variable:t,depth:n,errorText:a,onChangeType:u,onBlur:h,commitVariableValueOnBlur:p,onRemove:g,onAddChild:E,onChangeValue:w,onResetToDefaultValue:k,children:N,showHandle:_,showSelectionCheckbox:P,isSelected:I,onSelect:B,origin:R,arrayElement:M})=>{const F=t.getType(),L=!T.Variable.isPrimitive(F),A=""+n+e,D="parent"===R||"inherited"===R,U=[o.createElement(i.a,{key:"name",expand:!0},n>0&&o.createElement(S,{width:(n+1)*y.a.tableChildIndentation}),0===n&&_&&o.createElement(s.a,null),P&&!D&&o.createElement(c.a,{checked:I,onCheck:(e,t)=>B(t)}),M?o.createElement(x.a,{noMargin:!0},e):o.createElement(b.b,{margin:"none",style:{fontStyle:"inherited"!==R?"normal":"italic"},fullWidth:!0,name:A+"name",defaultValue:e,errorText:a,onBlur:h,disabled:"parent"===R}))];return L?U.push(o.createElement(i.a,{expand:!0,key:"value",style:D?y.a.fadedButton:void 0},o.createElement(O.a,null,F===T.Variable.Structure?o.createElement(r.Trans,{id:"Structure"}):o.createElement(r.Trans,{id:"Array"})))):F!==T.Variable.Boolean?U.push(o.createElement(i.a,{key:"value",expand:!0},o.createElement(l.a,{margin:"none",type:F===T.Variable.String?"text":"number",commitOnBlur:p,fullWidth:!0,name:A+"value",value:F===T.Variable.String?t.getString():""+t.getValue(),onChange:e=>{(F===T.Variable.String?t.getString()!==e:t.getValue()!==e)&&w(e)},disabled:"parent"===R&&0!==n,multiline:F===T.Variable.String,inputStyle:F===T.Variable.String?y.a.noPaddingMultilineTextField:void 0}))):U.push(o.createElement(i.a,{key:"value",expand:!0},o.createElement(C.a,{value:t.getBool(),onChange:e=>{w(""+e)},disabled:"parent"===R&&0!==n}))),U.push(o.createElement(i.a,{key:"tools",style:y.a.toolColumn},"inherited"===R&&0===n?o.createElement(f.a,{size:"small",onClick:k,style:L?void 0:y.a.fadedButton,tooltip:{id:"Reset"}},o.createElement(v.a,null)):"parent"!==R&&o.createElement(o.Fragment,null,L?o.createElement(f.a,{size:"small",tooltip:{id:"Add child variable"},onClick:()=>E()},o.createElement(d.a,null)):o.createElement(f.a,{size:"small",style:y.a.fadedButton,tooltip:{id:"Convert the variable to a collection before adding children"}},o.createElement(d.a,null)),o.createElement(j.a,{element:o.createElement(f.a,{size:"small",tooltip:{id:"Change variable type"}},o.createElement(m.a,null)),buildMenuTemplate:e=>[{label:"Primitive types",submenu:[{visible:F!==T.Variable.String,label:e._({id:"Convert to string"}),click:()=>u("string")},{visible:F!==T.Variable.Number,label:e._({id:"Convert to number"}),click:()=>u("number")},{visible:F!==T.Variable.Boolean,label:e._({id:"Convert to boolean"}),click:()=>u("boolean")}]},{label:"Collection types",submenu:[{visible:F!==T.Variable.Structure,label:e._({id:"Convert to structure"}),click:()=>u("structure")},{visible:F!==T.Variable.Array,label:e._({id:"Convert to array"}),click:()=>u("array")}]}]})))),o.createElement(o.Fragment,null,o.createElement(i.b,null,U),N)}}).call(this,n(1))},1122:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n.n(r),i=n(83),s=n(73);const l={margin:5};t.a=({value:e,onChange:t,disabled:n})=>o.a.createElement(s.b,null,o.a.createElement(s.a,{noMargin:!0},o.a.createElement(i.a,{style:l,label:o.a.createElement(a.Trans,{id:"True"}),primary:e&&!n,onClick:()=>{e||n||t(!0)}})),o.a.createElement(s.a,{noMargin:!0},o.a.createElement(i.a,{style:l,label:o.a.createElement(a.Trans,{id:"False"}),primary:!e&&!n,onClick:()=>{e&&!n&&t(!1)}})))},1125:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c}));var a=n(77),r=n(361),o=n.n(r);const i=()=>({}),s=e=>o()(e).filter(e=>!!e),l=(e,t,n=!0)=>Object(a.a)(Object(a.a)({},e),{},{[t.ptr]:n?t:null}),c=e=>!!o()(e).filter(e=>!!e).length},113:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l}));var a=n(71),r=n(4),o=n(6);const i=n.n(o)()("electron"),s=[{key:"use-non-smoothed-textures",label:r.createElement(a.Trans,{id:"Using non smoothed textures"})},{key:"use-nearest-scale-mode",label:r.createElement(a.Trans,{id:"Using Nearest Scale Mode"})},{key:"maximum-fps-too-low",label:r.createElement(a.Trans,{id:"Maximum Fps is too low"})},{key:"minimum-fps-too-low",label:r.createElement(a.Trans,{id:"Minimum Fps is too low"})},{key:"function-extractor-explanation",label:r.createElement(a.Trans,{id:"Using function extractor"})},{key:"events-based-behavior-explanation",label:r.createElement(a.Trans,{id:"Using events based behavior"})},{key:"empty-events-based-behavior-explanation",label:r.createElement(a.Trans,{id:"Using empty events based behavior"})},{key:"too-much-effects",label:r.createElement(a.Trans,{id:"Using too much effects"})},{key:"effects-usage",label:r.createElement(a.Trans,{id:"Using effects"})},{key:"lighting-layer-usage",label:r.createElement(a.Trans,{id:"Using lighting layer"})},{key:"automatic-lighting-layer",label:r.createElement(a.Trans,{id:"Automatic creation of lighting layer"})},{key:"object-moved-in-lighting-layer",label:r.createElement(a.Trans,{id:"Light object automatically put in lighting layer"})},{key:"resource-properties-panel-explanation",label:r.createElement(a.Trans,{id:"Using the resource properties panel"})},{key:"instance-drag-n-drop-explanation",label:r.createElement(a.Trans,{id:"Using instance drag'n'drop"})},{key:"objects-panel-explanation",label:r.createElement(a.Trans,{id:"Using the objects panel"})},{key:"instance-properties-panel-explanation",label:r.createElement(a.Trans,{id:"Using the instance properties panel"})},{key:"layers-panel-explanation",label:r.createElement(a.Trans,{id:"Using the layers panel"})},{key:"instances-panel-explanation",label:r.createElement(a.Trans,{id:"Using the instances panel"})},{key:"physics2-shape-collisions",label:r.createElement(a.Trans,{id:"Collisions handling with the Physics engine"})},{key:"edit-instruction-explanation",label:r.createElement(a.Trans,{id:"How to edit instructions"})},{key:"lifecycle-events-function-included-only-if-extension-used",label:r.createElement(a.Trans,{id:"Lifecycle functions only included when extension used"})},{key:"p2p-broker-recommendation",label:r.createElement(a.Trans,{id:"Peer to peer broker server recommendation"})},{key:"command-palette-shortcut",label:r.createElement(a.Trans,{id:"Command palette keyboard shortcut"})},{key:"asset-installed-explanation",label:r.createElement(a.Trans,{id:"Explanation after an object is installed from the store"})},{key:"project-should-have-unique-package-name",label:r.createElement(a.Trans,{id:"Project package names should not begin with com.example"})}],l={values:{language:"en",autoDownloadUpdates:!0,themeName:"undefined"!==typeof window&&window.matchMedia("(prefers-color-scheme: dark)").matches?"Nord":"GDevelop default",codeEditorThemeName:"vs-dark",hiddenAlertMessages:{},hiddenTutorialHints:{},autoDisplayChangelog:!0,lastLaunchedVersion:void 0,eventsSheetShowObjectThumbnails:!0,autosaveOnPreview:!0,useNewInstructionEditorDialog:!0,useGDJSDevelopmentWatcher:!0,eventsSheetUseAssignmentOperators:!1,showEffectParameterNames:!1,projectLastUsedPaths:{},defaultEditorMosaicNodes:{},recentProjectFiles:[],autoOpenMostRecentProject:!0,hasProjectOpened:!1,userShortcutMap:{},newObjectDialogDefaultTab:i?"new-object":"asset-store",isMenuBarHiddenInPreview:!0},setLanguage:()=>{},setThemeName:()=>{},setCodeEditorThemeName:()=>{},setAutoDownloadUpdates:()=>{},checkUpdates:()=>{},setAutoDisplayChangelog:()=>{},showAlertMessage:(e,t)=>{},showTutorialHint:(e,t)=>{},verifyIfIsNewVersion:()=>!1,setEventsSheetShowObjectThumbnails:()=>{},setAutosaveOnPreview:()=>{},setUseNewInstructionEditorDialog:e=>{},setUseGDJSDevelopmentWatcher:e=>{},setEventsSheetUseAssignmentOperators:e=>{},setShowEffectParameterNames:e=>{},getLastUsedPath:(e,t)=>"",setLastUsedPath:(e,t,n)=>{},getDefaultEditorMosaicNode:e=>null,setDefaultEditorMosaicNode:(e,t)=>{},getRecentProjectFiles:()=>[],insertRecentProjectFile:e=>{},removeRecentProjectFile:e=>{},getAutoOpenMostRecentProject:()=>!0,setAutoOpenMostRecentProject:()=>{},hadProjectOpenedDuringLastSession:()=>!1,setHasProjectOpened:()=>{},resetShortcutsToDefault:()=>{},setShortcutForCommand:(e,t)=>{},getNewObjectDialogDefaultTab:()=>"asset-store",setNewObjectDialogDefaultTab:()=>{},getIsMenuBarHiddenInPreview:()=>!0,setIsMenuBarHiddenInPreview:()=>{}},c=r.createContext(l);t.b=c},1135:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="Variables"},114:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(6),r=n.n(a);const o=r()("electron"),i=r()("path");class s{constructor(){this.projectCache={}}_getProjectCache(e){const t=this.projectCache[e.ptr];return t||(this.projectCache[e.ptr]={})}getCachedUrl(e,t){return this._getProjectCache(e)[t]}cacheUrl(e,t){return this._getProjectCache(e)[t]=t}burstUrl(e,t){delete this._getProjectCache(e)[t]}cacheLocalFileUrl(e,t,n,a){const r=this._getProjectCache(e);return r[t]=a?n:"".concat(n,"?cache=").concat(Date.now())}}class l{static burstUrlsCacheForResources(e,t){const n=e.getResourcesManager();t.forEach(t=>{n.hasResource(t)&&l._cache.burstUrl(e,n.getResource(t).getFile())})}static burstAllUrlsCache(){l._cache=new s}static getFullUrl(e,t,{isResourceForPixi:n,disableCacheBurst:a}){if(o&&(e=>0!==e.indexOf("data:")&&0!==e.indexOf("http://")&&0!==e.indexOf("https://")&&0!==e.indexOf("ftp://"))(t)){const n=l._cache.getCachedUrl(e,t);if(n)return n;const r=e.getProjectFile(),o=i.dirname(r),s=i.resolve(o,t).replace(/\\/g,"/");return console.info("Caching resolved local filename:",s),this._cache.cacheLocalFileUrl(e,t,"file://"+s,!!a)}let r=t;n&&(r=((e,t,n)=>{const a=-1===e.indexOf("?")?"?":"&";return e+a+t+"="+n})(r,"gdUsage","pixi"));const s=l._cache.getCachedUrl(e,r);return s||(console.info("Caching resolved url:",r),this._cache.cacheUrl(e,r))}static getResourceFullUrl(e,t,n){if(e.getResourcesManager().hasResource(t)){const a=e.getResourcesManager().getResource(t).getFile();return l.getFullUrl(e,a,n)}return t}}l._cache=new s},115:function(e,t,n){"use strict";var a=n(77),r=n(4),o=n(2385);const i={container:{display:"flex",flexDirection:"column"},maxWidth:{maxWidth:"100%"}};t.a=e=>r.createElement(o.a,{square:!0,style:Object(a.a)(Object(a.a)({},i.container),{},{height:e.noFullHeight?void 0:"100%",width:e.width?e.width:void 0,flex:e.noExpand?void 0:1},e.maxWidth?i.maxWidth:void 0)},e.children)},122:function(e,t,n){"use strict";t.a=(e,t,n="")=>{if(!t(e))return e;let a=n+e;for(let r=2;t(a);++r)a=n+e+r;return a}},124:function(e,t,n){"use strict";var a=n(77),r=n(71),o=n(4),i=n(2385),s=n(1093),l=n.n(s),c=n(306),u=n.n(c),d=n(1094),h=n.n(d),m=n(73),p=n(81),g=n(80),b=n(224),f=n(88);const E={icon:{width:28,height:28,marginRight:10,marginLeft:10},content:{flex:1}};t.a=({kind:e,children:t,onHide:n,renderRightButton:s,renderLeftIcon:c})=>{const d=o.useContext(b.a);return o.createElement(i.a,{elevation:10,square:!0},o.createElement(m.a,{expand:!0},o.createElement(f.b,{alignItems:"center",justifyContent:"space-between",noMargin:!0},o.createElement(m.b,{noMargin:!0,alignItems:"center"},c?o.createElement(o.Fragment,null,c(),o.createElement(m.c,null),o.createElement(m.c,null)):o.createElement(o.Fragment,null,"info"===e&&o.createElement(l.a,{style:E.icon}),"warning"===e&&o.createElement(u.a,{style:Object(a.a)(Object(a.a)({},E.icon),{},{color:d.message.warning})}),"error"===e&&o.createElement(h.a,{style:Object(a.a)(Object(a.a)({},E.icon),{},{color:d.message.error})})),o.createElement(g.a,{style:E.content},t)),o.createElement(f.b,{noMargin:!0,alignItems:"center"},s&&s(),n&&o.createElement(p.a,{label:o.createElement(r.Trans,{id:"Hide"}),onClick:()=>n()})))))}},125:function(e,t,n){"use strict";var a=n(77),r=n(4),o=n.n(r),i=n(2403);const s={display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:10};t.a=e=>o.a.createElement("div",{style:Object(a.a)(Object(a.a)({},s),e.style)},o.a.createElement(i.a,{size:40}))},126:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s}));const a=e=>"Escape"===e.key,r=e=>"Enter"===e.key,o=e=>"Enter"===e.key||" "===e.key,i=e=>"Tab"===e.key&&!e.shiftKey,s=e=>"Tab"===e.key&&e.shiftKey},128:function(e,t,n){"use strict";n.d(t,"q",(function(){return a})),n.d(t,"r",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"m",(function(){return i})),n.d(t,"n",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"t",(function(){return d})),n.d(t,"s",(function(){return h})),n.d(t,"l",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return E})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"o",(function(){return C})),n.d(t,"p",(function(){return x}));const a="selectable",r="selected",o="icon",i="large-selectable",s="large-selected",l="executable-event-container",c="actions-container",u="conditions-container",d="sub-instructions-container",h="small-width-container",m="instruction-parameter",p="instruction-invalid-parameter",g="instruction-missing-parameter",b="disabled-text",f="events-tree",E="with-search-results",v="drop-indicator",y="cant-drop-indicator",C="link-container",x="name-and-icon-container"},129:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));const a=e.gd;function r(e,t="serializeTo"){const n=new a.SerializerElement;e[t](n);const r=JSON.parse(a.Serializer.toJSON(n));return n.delete(),r}function o(e,t="serializeTo"){const n=new a.SerializerElement;e[t](n);const r=a.Serializer.toJSON(n);return n.delete(),r}function i(e,t,n="unserializeFrom",r){const o=a.Serializer.fromJSObject(t);r?e[n](r,o):e[n](o),o.delete()}}).call(this,n(1))},138:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(77),r=n(136),o=n(4),i=n(23),s=n.n(i),l=n(340);class c extends o.Component{constructor(...e){super(...e),this.open=()=>{const e=this._contextMenu;if(!e)return;const t=s.a.findDOMNode(this._wrappedElement);if(t instanceof HTMLElement){const n=t.getBoundingClientRect();e.open(Math.round(n.left+n.width/2),Math.round(n.top+n.height))}}}render(){const e=this.props,t=e.element,n=e.buildMenuTemplate,i=e.openMenuWithSecondaryClick,s=e.passExtraProps,c=Object(r.a)(e,["element","buildMenuTemplate","openMenuWithSecondaryClick","passExtraProps"]);return o.createElement(o.Fragment,null,o.cloneElement(t,Object(a.a)(Object(a.a)({onContextMenu:this.open},i?{}:{onClick:this.open}),{},{ref:e=>this._wrappedElement=e},s?c:{})),o.createElement(l.a,{ref:e=>this._contextMenu=e,buildMenuTemplate:n}))}}},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return y}));var a=n(77),r=n(4),o=n(95),i=n(93),s=n(2385),l=n(310),c=n.n(l),u=n(630),d=n.n(u),h=n(640),m=n.n(h),p=n(138),g=n(97),b=n(638),f=n(213),E=n(126);class v extends r.PureComponent{constructor(...e){super(...e),this.state={focus:!1,value:this.props.value,active:!1},this._textField=r.createRef(),this.focus=()=>{this._textField.current&&this._textField.current.focus()},this.blur=()=>{this._textField.current&&this._textField.current.blur()},this.handleFocus=()=>{this.setState({focus:!0})},this.handleBlur=()=>{this.setState({focus:!1}),0===this.state.value.trim().length&&this.setState({value:""})},this.handleInput=e=>{this.setState({value:e.target.value}),this.props.onChange&&this.props.onChange(e.target.value)},this.handleCancel=()=>{this.setState({active:!1,value:""}),this.props.onChange&&this.props.onChange("")},this.handleKeyPressed=e=>{Object(E.e)(e)&&this.props.onRequestSearch(this.state.value)}}componentWillReceiveProps(e){this.props.value!==e.value&&this.setState(Object(a.a)(Object(a.a)({},this.state),{},{value:e.value}))}render(){const e=((e,t)=>{const n=e.disabled,a=t.value.length>0;return{root:{height:30,display:"flex",justifyContent:"space-between"},iconButtonClose:{style:{opacity:n?.38:.54,transform:a?"scale(1, 1)":"scale(0, 0)",transition:"transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"},iconStyle:{opacity:a?1:0,transition:"opacity 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"}},iconButtonSearch:{style:{opacity:n?.38:.54,transform:a?"scale(0, 0)":"scale(1, 1)",transition:"transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1)",marginRight:-30},iconStyle:{opacity:a?0:1,transition:"opacity 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"}},iconButtonFilter:{style:{opacity:n?.38:.54}},iconButtonHelp:{style:{opacity:n?.38:.54}},input:{width:"100%"},searchContainer:{top:-1,position:"relative",margin:"auto 8px",width:"100%"}}})(this.props,this.state),t=this.state.value,n=this.props,l=n.disabled,u=n.style,h=n.buildTagsMenuTemplate,f=n.helpPagePath;return r.createElement(g.a,null,n=>r.createElement(s.a,{style:Object(a.a)(Object(a.a)({backgroundColor:n.searchBar.backgroundColor},e.root),u),square:!0,elevation:1},r.createElement("div",{style:e.searchContainer},r.createElement(i.b,{margin:"none",hintText:this.props.placeholder||{id:"Search"},onBlur:this.handleBlur,value:t,onChange:this.handleInput,onKeyUp:this.handleKeyPressed,onFocus:this.handleFocus,fullWidth:!0,style:e.input,underlineShow:!1,disabled:l,ref:this._textField})),h&&r.createElement(p.a,{element:r.createElement(o.a,{style:e.iconButtonFilter.style,disabled:l,size:"small"},r.createElement(m.a,null)),buildMenuTemplate:h}),f&&r.createElement(b.a,{disabled:l,helpPagePath:f,style:e.iconButtonHelp.style,size:"small"}),r.createElement(o.a,{style:e.iconButtonSearch.style,disabled:l,size:"small"},r.createElement(d.a,{style:e.iconButtonSearch.iconStyle})),r.createElement(o.a,{onClick:this.handleCancel,style:e.iconButtonClose.style,disabled:l,size:"small"},r.createElement(c.a,{style:e.iconButtonClose.iconStyle}))))}}const y=()=>!("touch"===Object(f.b)())},144:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(168);const i=new Set,s=()=>i.forEach(e=>e());let l;window.addEventListener("resize",()=>{clearTimeout(l),l=setTimeout(s,200)});const c=e=>{r.a.useEffect(()=>(i.add(e),()=>{i.delete(e)}),[e])};n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));const u=({children:e})=>{c(Object(o.a)());return e(d())},d=()=>(c(Object(o.a)()),"undefined"===typeof window?"medium":window.innerWidth<750||window.innerHeight<350?"small":window.innerWidth<1150?"medium":"large")},148:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(201),i=n(224);const s=r.a.memo((function(e){const t=r.a.useContext(i.a),n=e.src,a=e.tooltip,s=e.disabled,l=e.isGDevelopIcon,c=e.cssAnimation,u=e.useExactIconSize,d=void 0!==e.iconWidth?e.iconWidth:e.iconSize,h=void 0!==e.iconHeight?e.iconHeight:e.iconSize,m=d>40?16:0,p={maxWidth:u?void 0:d,maxHeight:u?void 0:h,width:u?d:void 0,height:u?h:void 0,verticalAlign:"middle",animation:c,filter:l?s?"grayscale(100%)":t.gdevelopIconsCSSFilter:void 0};return r.a.createElement("div",{style:{width:d,height:h,lineHeight:"".concat(h,"px"),textAlign:"center",paddingRight:m}},l?r.a.createElement("img",{title:a,alt:a,src:n,style:p}):r.a.createElement(o.a,{title:a,alt:a,src:n,style:p}))}));t.a=s},149:function(e,t,n){"use strict";var a=n(4),r=n(2391);const o={paddingLeft:8};t.a=({children:e})=>e?a.createElement(r.a,{variant:"overline",style:o},e):null},1499:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a=n(71),r=n(4),o=n(81),i=n(83),s=n(84),l=n(73),c=n(114),u=n(431),d=n(1500),h=n(22),m=n(6),p=n.n(m),g=n(80),b=n(88);const f=p()("path"),E=e.gd,v=[512],y=[192,144,96,72,48,36],C=[1024,180,167,152,144,120,114,100,87,80,76,72,60,58,57,50,40,29,20];class x extends r.Component{constructor(e){super(e),this._generateFromFile=()=>{const e=this.props,t=e.project,n=e.resourceSources,a=e.onChooseResource,r=n.filter(e=>"image"===e.kind);r.length&&a(r[0].name,!1).then(e=>{if(!e.length||!f)return;const n=t.getResourcesManager(),a=f.dirname(t.getProjectFile()),r=f.resolve(a,e[0].getFile());e.forEach(e=>e.delete()),Promise.all([...v.map(e=>Object(d.b)(r,f.join(a,"desktop-icon-".concat(e,".png")),{width:e,height:e})),...y.map(e=>Object(d.b)(r,f.join(a,"android-icon-".concat(e,".png")),{width:e,height:e})),...C.map(e=>Object(d.b)(r,f.join(a,"ios-icon-".concat(e,".png")),{width:e,height:e}))]).then(e=>{if(-1!==e.indexOf(!1))return void Object(h.a)({message:"Some icons could not be generated!",rawError:void 0,errorId:"icon-generation-error",doNotReport:!0});const a=[...v.map(e=>"desktop-icon-".concat(e,".png")),...y.map(e=>"android-icon-".concat(e,".png")),...C.map(e=>"ios-icon-".concat(e,".png"))];a.forEach(e=>{if(n.hasResource(e))n.getResource(e).setFile(e);else{const t=new E.ImageResource;t.setFile(e),t.setName(e),n.addResource(t),t.delete()}}),c.a.burstUrlsCacheForResources(t,a),setTimeout(()=>{this.setState({desktopIconResourceNames:v.map(e=>"desktop-icon-".concat(e,".png")),androidIconResourceNames:y.map(e=>"android-icon-".concat(e,".png")),iosIconResourceNames:C.map(e=>"ios-icon-".concat(e,".png"))})},200)})})},this._onApply=()=>{const e=this.props.project,t=this.state,n=t.desktopIconResourceNames,a=t.androidIconResourceNames,r=t.iosIconResourceNames;v.forEach((t,a)=>{e.getPlatformSpecificAssets().set("desktop","icon-".concat(t),n[a])}),y.forEach((t,n)=>{e.getPlatformSpecificAssets().set("android","icon-".concat(t),a[n])}),C.forEach((t,n)=>{e.getPlatformSpecificAssets().set("ios","icon-".concat(t),r[n])}),this.props.onApply()},this.state=this._loadFrom(e.project)}_loadFrom(e){return{desktopIconResourceNames:v.map(t=>e.getPlatformSpecificAssets().get("desktop","icon-".concat(t))),androidIconResourceNames:y.map(t=>e.getPlatformSpecificAssets().get("android","icon-".concat(t))),iosIconResourceNames:C.map(t=>e.getPlatformSpecificAssets().get("ios","icon-".concat(t)))}}componentWillReceiveProps(e){(!this.props.open&&e.open||e.open&&this.props.project!==e.project)&&this.setState(this._loadFrom(e.project))}render(){const e=[r.createElement(o.a,{key:"cancel",label:r.createElement(a.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onClose}),r.createElement(o.a,{key:"apply",label:r.createElement(a.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:this._onApply})],t=this.props,n=t.project,c=t.resourceSources,h=t.onChooseResource,m=t.resourceExternalEditors,p=this.state,f=p.desktopIconResourceNames,E=p.androidIconResourceNames,x=p.iosIconResourceNames;return r.createElement(s.a,{title:r.createElement(a.Trans,{id:"Project icons"}),actions:e,open:this.props.open,cannotBeDismissed:!0,onRequestClose:this.props.onClose},r.createElement(b.a,{noMargin:!0},r.createElement(l.b,{justifyContent:"center"},Object(d.a)()?r.createElement(i.a,{primary:!0,label:r.createElement(a.Trans,{id:"Generate icons from a file"}),onClick:this._generateFromFile}):r.createElement(g.a,null,r.createElement(a.Trans,{id:"Download GDevelop desktop version to generate the Android and iOS icons of your game."}))),r.createElement(g.a,null,r.createElement(a.Trans,{id:"Desktop (Windows, macOS and Linux) icon:"})),v.map((e,t)=>r.createElement(u.a,{key:e,floatingLabelText:"Desktop icon (".concat(e,"x").concat(e," px)"),project:n,resourceSources:c,onChooseResource:h,resourceExternalEditors:m,resourceKind:"image",resourceName:f[t],onChange:e=>{const n=[...f];n[t]=e,this.setState({desktopIconResourceNames:n})}})),r.createElement(g.a,null,r.createElement(a.Trans,{id:"Android icons:"})),y.map((e,t)=>r.createElement(u.a,{key:e,floatingLabelText:"Android icon (".concat(e,"x").concat(e," px)"),project:n,resourceSources:c,onChooseResource:h,resourceExternalEditors:m,resourceKind:"image",resourceName:E[t],onChange:e=>{const n=[...E];n[t]=e,this.setState({androidIconResourceNames:n})}})),r.createElement(g.a,null,r.createElement(a.Trans,{id:"iOS (iPhone and iPad) icons:"})),C.map((e,t)=>r.createElement(u.a,{key:e,floatingLabelText:"iOS icon (".concat(e,"x").concat(e," px)"),project:n,resourceSources:c,onChooseResource:h,resourceKind:"image",resourceName:x[t],resourceExternalEditors:m,onChange:e=>{const n=[...x];n[t]=e,this.setState({iosIconResourceNames:n})}}))))}}}).call(this,n(1))},1500:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(520);const r=Object(a.a)("jimp"),o=()=>!!r(),i=(e,t,{width:n,height:a})=>{const o=r();return o?o.read(e).then((function(e){return e.contain(n,a).write(t)})).then(()=>!0).catch((function(e){return console.error(e),!1})):Promise.resolve(!1)}},1501:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(2403),i=n(2396),s=n(2399);const l={dialogContent:{padding:10,overflow:"hidden",display:"flex",flexDirection:"row"}},c={enter:0,exit:150};t.a=e=>r.a.createElement(i.a,{open:e.show,transitionDuration:c},r.a.createElement(s.a,{style:l.dialogContent},r.a.createElement(o.a,{style:l.circularProgress,size:50,disableShrink:!0})))},1502:function(e,t,n){"use strict";var a=n(4),r=n(2412),o=n(2413),i=n(2373),s=n(2391),l=n(310),c=n.n(l);const u={appBar:{height:32,minHeight:32},toolbar:{height:32,minHeight:32,paddingLeft:15,paddingRight:15},title:{fontSize:"15px",flexGrow:1}};t.a=e=>a.createElement(r.a,{position:"static",style:u.appBar,className:"safe-area-aware-top-margin",color:"primary"},a.createElement(o.a,{style:u.toolbar},e.displayLeftCloseButton&&a.createElement(i.a,{onClick:e.onClose,edge:"start",color:"inherit"},a.createElement(c.a,null)),a.createElement(s.a,{variant:"h6",style:u.title},e.title),e.displayRightCloseButton&&a.createElement(i.a,{onClick:e.onClose,edge:"end",color:"inherit"},a.createElement(c.a,null))))},1503:function(e,t,n){"use strict";var a=n(4),r=n(6),o=n.n(r),i=n(5);const s=o()("electron");t.a=a.memo((function({shouldPrompt:e,i18n:t,language:n,hasUnsavedChanges:r}){const o=a.useRef(!0);return a.useEffect(()=>{if(i.b.isDev())return;const n=[t._({id:"Are you sure you want to quit GDevelop?"}),r?t._({id:"Any unsaved changes in the project will be lost."}):""].filter(Boolean).join("\n");s?window.onbeforeunload=t=>{if(o.current&&e)return setTimeout(()=>{i.b.showConfirmDialog(n)&&(o.current=!1,s.remote.getCurrentWindow().close())},10),t.returnValue=!0,!1}:window&&(window.onbeforeunload=e?()=>n:null)},[e,t,n,r]),null}))},1505:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return f}));var a=n(77),r=n(4),o=n.n(r),i=n(310),s=n.n(i),l=n(2483),c=n(97),u=n(340),d=n(307);const h={width:"100%",position:"relative",textAlign:"initial",height:"100%",display:"flex",flex:1},m={maxWidth:400,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginTop:6,marginBottom:6,marginLeft:10,marginRight:10,fontSize:"15px"},p={marginTop:7,marginBottom:7,marginRight:5,marginLeft:5};class g extends r.Component{shouldComponentUpdate(e){return this.props.active||e.active}render(){const e=this.props,t=e.children,n=e.active;return o.a.createElement("div",{style:Object(a.a)(Object(a.a)({},h),n?void 0:{display:"none"})},t)}}class b extends r.Component{render(){const e=this.props,t=e.hideLabels,n=e.children;return o.a.createElement(c.a,null,e=>{const a={maxWidth:"100%",flexShrink:0,display:t?"none":"flex",flexWrap:"nowrap",overflowX:"auto",backgroundColor:e.closableTabs.containerBackgroundColor};return o.a.createElement("div",{style:a},n)})}}function f({active:e,onClose:t,onCloseOthers:n,onCloseAll:i,label:h,closable:g,onClick:b,onActivated:f}){Object(r.useEffect)(()=>{e&&f()},[e,f]);const E=Object(r.useRef)(null),v=e=>{e.stopPropagation(),E.current&&E.current.open(e.clientX,e.clientY)},y=Object(d.a)(o.a.useCallback(e=>{E.current&&E.current.open(e.clientX,e.clientY)},[E]));return o.a.createElement(c.a,null,r=>{const c=e?r.closableTabs.selectedTextColor:r.closableTabs.textColor;return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{style:{flexShrink:0,position:"relative",display:"inline-block",marginRight:1,backgroundColor:e?r.closableTabs.selectedBackgroundColor:r.closableTabs.backgroundColor}},o.a.createElement(l.a,Object.assign({onClick:b,onContextMenu:v},y,{focusRipple:!0}),o.a.createElement("span",{style:Object(a.a)(Object(a.a)({},m),{},{color:c,fontFamily:r.closableTabs.fontFamily})},h)),g&&o.a.createElement(l.a,Object.assign({onClick:t,onContextMenu:v},y,{focusRipple:!0}),o.a.createElement(s.a,{style:Object(a.a)(Object(a.a)({},p),{},{width:r.closableTabs.height/2,height:r.closableTabs.height/2}),htmlColor:c}))),o.a.createElement(u.a,{ref:E,buildMenuTemplate:e=>[{label:e._({id:"Close"}),click:t,enabled:g},{label:e._({id:"Close others"}),click:n},{label:e._({id:"Close all"}),click:i}]}))})}},1506:function(e,t,n){"use strict";n.d(t,"l",(function(){return d})),n.d(t,"p",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"h",(function(){return f})),n.d(t,"m",(function(){return E})),n.d(t,"k",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"i",(function(){return C})),n.d(t,"q",(function(){return x})),n.d(t,"o",(function(){return j})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return T})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return w})),n.d(t,"n",(function(){return k}));var a=n(77),r=(n(4),n(743)),o=n.n(r),i=n(745),s=(n(908),n(844)),l=n(858),c=n(861),u=(n(869),n(870));const d=()=>({editors:[],currentTab:0}),h=(e,{label:t,projectItemName:n,renderEditorContainer:r,key:i,extraEditorProps:s,dontFocusTab:l,closable:c})=>{const u=o()(e.editors,e=>e.key===i);if(-1!==u)return Object(a.a)(Object(a.a)({},e),{},{currentTab:l?e.currentTab:u});const d={label:t,projectItemName:n,renderEditorContainer:r,key:i,extraEditorProps:s,editorRef:null,closable:"undefined"===typeof c||!!c};return Object(a.a)(Object(a.a)({},e),{},{editors:[...e.editors,d],currentTab:l?e.currentTab:e.editors.length})},m=(e,t)=>Object(a.a)(Object(a.a)({},e),{},{currentTab:Math.max(0,Math.min(t,e.editors.length-1))}),p=(e,t)=>{const n=y(e),r=e.editors.filter(t);return m(Object(a.a)(Object(a.a)({},e),{},{editors:r}),r.indexOf(n)||0)},g=e=>p(e,e=>!e.closable),b=(e,t)=>p(e,e=>e!==t),f=(e,t)=>p(e,e=>!e.closable||e===t),E=e=>e.editors,v=e=>e.currentTab,y=e=>e.editors[e.currentTab],C=(e,t)=>p(e,e=>{const n=e.editorRef&&e.editorRef.getProject();return!n||n!==t}),x=e=>{e.editors.forEach(e=>{e.editorRef&&(e.editorRef instanceof u.a||e.editorRef instanceof c.a)&&e.editorRef.saveUiSettings()})},j=e=>{e.editors.forEach(e=>{const t=e.editorRef;t instanceof s.a&&t.previewWillStart()})},O=(e,t)=>p(e,e=>{const n=e.editorRef;if(n instanceof i.a||n instanceof l.a||n instanceof c.a||n instanceof u.a){const e=n.getLayout();return!e||e!==t}return!0}),T=(e,t)=>p(e,e=>{const n=e.editorRef;return!(n instanceof c.a)||(!n.getExternalLayout()||n.getExternalLayout()!==t)}),S=(e,t)=>p(e,e=>{const n=e.editorRef;return!(n instanceof l.a)||(!n.getExternalEvents()||n.getExternalEvents()!==t)}),w=(e,t)=>p(e,e=>{const n=e.editorRef;return!(n instanceof s.a)||(!n.getEventsFunctionsExtension()||n.getEventsFunctionsExtension()!==t)}),k=(e,t)=>{for(let n=0;n<e.editors.length;++n){const a=e.editors[n].editorRef;if(a instanceof s.a&&a.getEventsFunctionsExtension()===t)return{editor:a,tabIndex:n}}return null}},1509:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return P}));var a=n(77),r=n(136),o=n(4),i=n.n(o),s=n(743),l=n.n(s),c=n(2281),u=n(86),d=n(398),h=n(2308),m=n(1653),p=n(134),g=n.n(p),b=n(128),f=n(402),E=n(189),v=(n(1654),n(1655),n(97)),y=n(1656),C=n(1657),x=n(201);const j=e.gd,O=E.a.getThumbnail.bind(E.a),T={container:{flex:1},defaultEventContainer:{marginRight:10},smallEventContainer:{marginRight:0}},S=e=>"small"===e?11:22;class w extends o.Component{constructor(...e){super(...e),this._onEventUpdated=()=>{this.forceUpdate()},this._onEventContextMenu=e=>{e.preventDefault(),this.props.onEventContextMenu(e.clientX,e.clientY)}}componentDidMount(){const e=this._container?this._container.offsetHeight:0;this.props.eventsHeightsCache.setEventHeight(this.props.event,e)}componentDidUpdate(){const e=this._container?this._container.offsetHeight:0;this.props.eventsHeightsCache.setEventHeight(this.props.event,e)}render(){const e=this.props,t=e.event,n=e.project,a=e.scope,r=e.disabled,o=h.a.getEventComponent(t);return i.a.createElement("div",{ref:e=>this._container=e,onClick:this.props.onEventClick,onContextMenu:this._onEventContextMenu,style:(s=this.props.windowWidth,"small"===s?T.smallEventContainer:T.defaultEventContainer)},o&&i.a.createElement(o,{project:n,scope:a,event:t,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,selected:Object(d.m)(this.props.selection,t),selection:this.props.selection,leftIndentWidth:this.props.leftIndentWidth,onUpdate:this._onEventUpdated,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,onOpenExternalEvents:this.props.onOpenExternalEvents,onOpenLayout:this.props.onOpenLayout,disabled:r,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth,eventsSheetHeight:this.props.eventsSheetHeight}));var s}}const k=({treeIndex:e})=>e,N=e=>{let t=e.className,n=Object(r.a)(e,["className"]);return i.a.createElement(v.a,null,e=>i.a.createElement(c.a,Object.assign({className:"".concat(b.f," ").concat(e.eventsSheetRootClassName," ").concat(t)},n)))},_=()=>{};class P extends o.Component{constructor(e){super(e),this._eventsToTreeData=(e,t=[],n=0,a=!1)=>{const r=Object(u.mapFor)(0,e.getEventsCount(),r=>{const o=e.getEventAt(r);t.push(o);const i=a||o.isDisabled();return{title:this._renderEvent,event:o,eventsList:e,indexInList:r,expanded:!o.isFolded(),disabled:i,depth:n,key:o.ptr,children:this._eventsToTreeData(o.getSubEvents(),o.isFolded()?[]:t,n+1,i).treeData}}),o=[0===n?{title:()=>i.a.createElement(y.a,{onAddEvent:e=>this.props.onAddNewEvent(e,this.props.events)}),event:null,indexInList:e.getEventsCount(),disabled:!1,depth:0,fixedHeight:40,children:[]}:null,0===n&&0===e.getEventsCount()?{title:()=>i.a.createElement(C.a,null),event:null,indexInList:e.getEventsCount()+1,disabled:!1,depth:0,fixedHeight:300,children:[]}:null].filter(Boolean);return{treeData:o.length?r.concat(o):r,flatData:t}},this._onMoveNode=({treeData:e,path:t,node:n})=>{const a=n.event,r=n.eventsList;if(!a)return;const o=t.slice(0,-1),i=Object(c.b)({getNodeKey:k,treeData:e,path:o}).node,s=i&&i.event?i.event.getSubEvents():this.props.events,l=i&&i.children?i.children.indexOf(n):0;r.moveEventToAnotherEventsList(a,s,l),this.forceEventsUpdate(),this.props.onEventMoved()},this._canDrag=({node:e})=>!!e&&!!e.event,this._canDrop=({nextParent:e})=>!e||!e.event||e.event.canHaveSubEvents(),this._canNodeHaveChildren=e=>!(!e||!e.event)&&e.event.canHaveSubEvents(),this._onVisibilityToggle=({node:e})=>{const t=e.event;t&&(t.setFolded(!t.isFolded()),this.forceEventsUpdate())},this._renderObjectThumbnail=e=>{const t=this.props,n=t.project,a=t.scope;if(!t.showObjectThumbnails)return null;const r=Object(f.a)(n,a.layout,e);return r?i.a.createElement(x.a,{className:g()({[b.i]:!0}),alt:"",src:O(n,r)}):null},this._renderEvent=({node:e})=>{const t=e.event,n=e.depth,a=e.disabled;return t?i.a.createElement(w,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,event:t,key:t.ptr,eventsHeightsCache:this.eventsHeightsCache,selection:this.props.selection,leftIndentWidth:n*S(this.props.windowWidth),onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onParameterClick:this.props.onParameterClick,onEventClick:()=>this.props.onEventClick({eventsList:e.eventsList,event:t,indexInList:e.indexInList}),onEventContextMenu:(n,a)=>this.props.onEventContextMenu(n,a,{eventsList:e.eventsList,event:t,indexInList:e.indexInList}),onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onOpenExternalEvents:this.props.onOpenExternalEvents,onOpenLayout:this.props.onOpenLayout,disabled:a,renderObjectThumbnail:this._renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth,eventsSheetHeight:this.props.eventsSheetHeight}):null},this._isNodeHighlighted=({node:e,searchQuery:t})=>{const n=t;if(!n)return!1;const a=e.event;return!!a&&n.find(e=>j.compare(e,a))},this.eventsHeightsCache=new m.a(this),this.state=Object(a.a)({},this._eventsToTreeData(e.events))}componentDidMount(){this.onHeightsChanged()}onHeightsChanged(e){this.forceUpdate(()=>{this._list&&this._list.wrappedInstance.current&&this._list.wrappedInstance.current.recomputeRowHeights(),e&&e()})}forceEventsUpdate(e){this.setState(this._eventsToTreeData(this.props.events),()=>{this._list&&this._list.wrappedInstance.current&&this._list.wrappedInstance.current.recomputeRowHeights(),e&&e()})}scrollToEvent(e){const t=this._getEventRow(e);-1!==t&&this._list&&this._list.wrappedInstance.current&&this._list.wrappedInstance.current.scrollToRow(t)}unfoldForEvent(e){j.EventsListUnfolder.unfoldWhenContaining(this.props.events,e),this.forceEventsUpdate()}_getEventRow(e){return l()(this.state.flatData,t=>t.ptr===e.ptr)}render(){const e=this.state.treeData?[...this.state.treeData]:null;return i.a.createElement("div",{style:T.container},i.a.createElement(N,{treeData:e,scaffoldBlockPxWidth:S(this.props.windowWidth),onChange:_,onVisibilityToggle:this._onVisibilityToggle,onMoveNode:this._onMoveNode,canDrag:this._canDrag,canDrop:this._canDrop,canNodeHaveChildren:this._canNodeHaveChildren,rowHeight:({node:e})=>e.event?this.eventsHeightsCache.getEventHeight(e.event):e.fixedHeight||0,searchMethod:this._isNodeHighlighted,searchQuery:this.props.searchResults,searchFocusOffset:this.props.searchFocusOffset,className:this.props.searchResults?b.g:"",reactVirtualizedListProps:{ref:e=>this._list=e,onScroll:this.props.onScroll}}))}}P.defaultProps={selection:Object(d.b)()}}).call(this,n(1))},151:function(e,t,n){"use strict";var a=n(77),r=n(4),o=n(23),i=n.n(o);const s={flex:1};t.a=r.forwardRef(({children:e,autoHideScrollbar:t,style:n},o)=>{const l=r.useRef(null);return r.useImperativeHandle(o,()=>({scrollTo:e=>{const t=l.current;if(!t)return;const n=i.a.findDOMNode(e);if(n instanceof HTMLElement){const e=n.getBoundingClientRect().top,a=t.getBoundingClientRect().top;t.scrollTop+=e-a}else console.error("Tried to scroll to something that is not a HTMLElement")},scrollToBottom:()=>{const e=l.current;e&&(e.scrollTop=e.scrollHeight)}})),r.createElement("div",{style:Object(a.a)(Object(a.a)({},s),{},{overflowY:t?"auto":"scroll"},n),ref:l},e)})},153:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(4),r=n(2481),o=n(2401);class i extends a.Component{render(){return a.createElement(r.a,{variant:"fullWidth",textColor:"primary",value:this.props.value,onChange:(e,t)=>this.props.onChange(t)},this.props.children)}}class s extends a.Component{render(){return a.createElement(o.a,this.props)}}},156:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return p}));var a=n(4),r=n(2405),o=n(2406),i=n(2408),s=n(2407),l=n(2409);class c extends a.Component{render(){return a.createElement(r.a,Object.assign({size:"small"},this.props))}}class u extends a.Component{render(){return a.createElement(o.a,this.props)}}class d extends a.Component{render(){return a.createElement(s.a,this.props)}}class h extends a.Component{render(){return a.createElement(i.a,this.props)}}class m extends a.Component{render(){return a.createElement(l.a,this.props)}}class p extends a.Component{render(){return a.createElement(i.a,this.props)}}},1586:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var a=n(77),r=n(4),o=n(272),i=n(134),s=n.n(i),l=n(128),c=n(328);const u=e.gd,d={flex:1};class h extends r.Component{render(){var e=u.asStandardEvent(this.props.event);return r.createElement(c.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,className:s()({[l.m]:!0,[l.n]:this.props.selected,[l.h]:!0}),renderConditionsList:({style:t,className:n})=>r.createElement(o.a,{instrsList:e.getConditions(),style:t,className:n,selection:this.props.selection,areConditions:!0,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth}),renderActionsList:({className:t})=>r.createElement(o.a,{instrsList:e.getActions(),style:Object(a.a)({},d),className:t,selection:this.props.selection,areConditions:!1,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth})})}}}).call(this,n(1))},1587:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return C}));var a=n(71),r=n(4),o=n(86),i=n(134),s=n.n(i),l=n(128),c=n(272),u=n(771),d=n(525),h=n(1641),m=n(1642),p=n(787),g=n(213),b=n(113),f=n(307),E=n(126);const v=e.gd,y={container:{whiteSpace:"normal",wordWrap:"break-word",cursor:"pointer",marginBottom:1}},C="GD_DRAGGED_INSTRUCTION",x=Object(p.a)(C);t.a=e=>{const t=e.instruction,n=e.isCondition,i=e.onClick,p=e.onMoveToInstruction,C=e.onContextMenu,j=r.useMemo(()=>v.InstructionSentenceFormatter.get(),[]),O=r.useContext(b.b).values.eventsSheetUseAssignmentOperators,T=n?v.MetadataProvider.getConditionMetadata(v.JsPlatform.get(),t.getType()):v.MetadataProvider.getActionMetadata(v.JsPlatform.get(),t.getType()),S="touch"!==Object(g.b)(),w=Object(f.a)(r.useCallback(e=>{C(e.clientX,e.clientY)},[C]));return r.createElement(x,{beginDrag:()=>(i(),{isCondition:n}),canDrag:()=>S,canDrop:e=>e.isCondition===n,drop:()=>{p()}},({connectDragSource:n,connectDropTarget:i,isOver:p,canDrop:g})=>{const b=n(r.createElement("div",Object.assign({style:y.container,className:s()({[l.q]:!0,[l.r]:e.selected}),onClick:t=>{t.stopPropagation(),"touch"===e.screenType&&e.selected?e.onDoubleClick():e.onClick()},onDoubleClick:t=>{t.stopPropagation(),e.onDoubleClick()},onContextMenu:e=>{e.stopPropagation(),C(e.clientX,e.clientY)}},w,{onKeyPress:t=>{Object(E.e)(t)?(e.onDoubleClick(),t.stopPropagation(),t.preventDefault()):Object(E.a)(t)&&(e.onClick(),t.stopPropagation(),t.preventDefault())},tabIndex:0}),t.isInverted()&&r.createElement("img",{className:s()({[l.i]:!0}),src:"res/contraire.png",alt:"Condition is negated"}),r.createElement("img",{className:s()({[l.i]:!0}),src:T.getSmallIconFilename(),alt:""}),(t=>{const n=e.instruction,a=e.disabled,i=e.renderObjectThumbnail,c=j.getAsFormattedText(n,t),u=t.getParametersCount();return r.createElement("span",{className:s()({[l.d]:a})},Object(o.mapFor)(0,c.size(),n=>{const a=c.getTextFormatting(n).getUserData();if(!(a>=0&&a<u))return r.createElement("span",{key:n},0===n?(o=c.getString(n))?o[0].toUpperCase()+o.substr(1):"":c.getString(n));var o;const p=t.getParameter(a),g=p.getType();return r.createElement("span",{key:n,className:s()({[l.q]:!0,[l.l]:!0,[g]:!0}),onClick:t=>{e.onParameterClick(t,a),"touch"===e.screenType&&t.stopPropagation()},onKeyPress:t=>{Object(E.a)(t)&&(e.onParameterClick(t,a),t.stopPropagation(),t.preventDefault())},tabIndex:0},d.a.renderInlineParameter({value:c.getString(n),parameterMetadata:p,renderObjectThumbnail:i,InvalidParameterValue:h.a,MissingParameterValue:m.a,useAssignmentOperators:O}))}))})(T))),f=b?i(b):null;return r.createElement(r.Fragment,null,p&&r.createElement(u.a,{canDrop:g}),f,T.canHaveSubInstructions()&&r.createElement(c.a,{style:{},className:l.t,instrsList:t.getSubInstructions(),areConditions:e.isCondition,selection:e.selection,onAddNewInstruction:e.onAddNewSubInstruction,onPasteInstructions:e.onPasteSubInstructions,onMoveToInstruction:e.onMoveToSubInstruction,onMoveToInstructionsList:e.onMoveToSubInstructionsList,onInstructionClick:e.onSubInstructionClick,onInstructionDoubleClick:e.onSubInstructionDoubleClick,onInstructionContextMenu:e.onSubInstructionContextMenu,onAddInstructionContextMenu:e.onAddSubInstructionContextMenu,onParameterClick:e.onSubParameterClick,addButtonLabel:r.createElement(a.Trans,{id:"Add a sub-condition"}),disabled:e.disabled,renderObjectThumbnail:e.renderObjectThumbnail,screenType:e.screenType,windowWidth:e.windowWidth}))})}}).call(this,n(1))},1588:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(71),r=n(4),o=n.n(r),i=n(111),s=n(112);class l extends r.Component{focus(){this._field&&this._field.focus&&this._field.focus()}render(){const e=this.props.parameterMetadata,t=e?e.getDescription():void 0;return o.a.createElement(i.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:t,helperMarkdownText:e?e.getLongDescription():void 0,value:this.props.value,onChange:(e,t,n)=>this.props.onChange(n),ref:e=>this._field=e,hintText:{id:"Choose an operator"}},o.a.createElement(s.a,{value:"=",primaryText:{id:"= (equal to)"}}),o.a.createElement(s.a,{value:"<",primaryText:{id:"< (less than)"}}),o.a.createElement(s.a,{value:">",primaryText:{id:"> (greater than)"}}),o.a.createElement(s.a,{value:"<=",primaryText:{id:"\u2264 (less or equal to)"}}),o.a.createElement(s.a,{value:">=",primaryText:{id:"\u2265 (greater or equal to)"}}),o.a.createElement(s.a,{value:"!=",primaryText:{id:"\u2260 (not equal to)"}}))}}const c=({value:e,InvalidParameterValue:t})=>e?"="!==e&&"<"!==e&&">"!==e&&"<="!==e&&">="!==e&&"!="!==e?o.a.createElement(t,null,e):"<="===e?"\u2264":">="===e?"\u2265":"!="===e?"\u2260":e:o.a.createElement(t,{isEmpty:!0},o.a.createElement(a.Trans,{id:"Choose an operator"}))},1589:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(71),r=n(4),o=n.n(r),i=n(111),s=n(112);class l extends r.Component{focus(){this._field&&this._field.focus&&this._field.focus()}render(){const e=this.props.parameterMetadata,t=e?e.getDescription():void 0;return o.a.createElement(i.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:t,helperMarkdownText:e?e.getLongDescription():void 0,value:this.props.value,onChange:(e,t,n)=>this.props.onChange(n),ref:e=>this._field=e,hintText:{id:"Choose an operator"}},o.a.createElement(s.a,{value:"=",primaryText:{id:"= (set to)"}}),o.a.createElement(s.a,{value:"+",primaryText:{id:"+ (add)"}}),o.a.createElement(s.a,{value:"-",primaryText:{id:"- (subtract)"}}),o.a.createElement(s.a,{value:"*",primaryText:{id:"* (multiply by)"}}),o.a.createElement(s.a,{value:"/",primaryText:{id:"/ (divide by)"}}))}}const c=({value:e,InvalidParameterValue:t,useAssignmentOperators:n})=>{if(!e)return o.a.createElement(t,{isEmpty:!0},o.a.createElement(a.Trans,{id:"Choose an operator"}));if(n){if("="===e)return"=";if("+"===e)return"+=";if("-"===e)return"-=";if("/"===e)return"/=";if("*"===e)return"*="}else{if("="===e)return o.a.createElement(a.Trans,{id:"set to"});if("+"===e)return o.a.createElement(a.Trans,{id:"add"});if("-"===e)return o.a.createElement(a.Trans,{id:"subtract"});if("/"===e)return o.a.createElement(a.Trans,{id:"divide by"});if("*"===e)return o.a.createElement(a.Trans,{id:"multiply by"})}return o.a.createElement(t,null,e)}},1590:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(71),r=n(4),o=n.n(r),i=n(111),s=n(112);class l extends r.Component{focus(){}render(){const e=this.props,t=e.parameterMetadata,n=e.value,r=t?t.getDescription():void 0;return o.a.createElement(i.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:r,helperMarkdownText:t?t.getLongDescription():void 0,value:n,ref:e=>this._field=e,onChange:(e,t,n)=>this.props.onChange(n),errorText:n?void 0:o.a.createElement(a.Trans,{id:"You must select a button"})},o.a.createElement(s.a,{value:"Left",primaryText:{id:"Left (primary)"}}),o.a.createElement(s.a,{value:"Right",primaryText:{id:"Right (secondary)"}}),o.a.createElement(s.a,{value:"Middle",primaryText:{id:"Middle (Auxiliary button, usually the wheel button)"}}))}}const c=({value:e,InvalidParameterValue:t})=>e||o.a.createElement(t,{isEmpty:!0},o.a.createElement(a.Trans,{id:"Choose a mouse button"}))},1591:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(71),r=n(4),o=n.n(r),i=n(182);const s=["Num0","Num1","Num2","Num3","Num4","Num5","Num6","Num7","Num8","Num9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","LBracket","RBracket","SemiColon","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","Escape","Space","Return","Back","Tab","PageUp","PageDown","End","Home","Insert","Delete","Add","Subtract","Multiply","Divide","NumpadAdd","NumpadSubtract","NumpadMultiply","NumpadDivide","Left","Right","Up","Down","NumpadLeft","NumpadRight","NumpadUp","NumpadDown","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Pause","RControl","LControl","RAlt","LAlt","RShift","LShift"],l=e=>-1!==s.indexOf(e);class c extends r.Component{focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.value,n=e.onChange,r=e.isInline,c=e.parameterMetadata,u=e.onRequestClose;return o.a.createElement(i.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:c?c.getDescription():void 0,helperMarkdownText:c?c.getLongDescription():void 0,fullWidth:!0,value:t,onChange:n,dataSource:s.map(e=>({text:e,value:e})),openOnFocus:!r,onRequestClose:u,ref:e=>this._field=e,errorText:t?l(t)?void 0:o.a.createElement(a.Trans,{id:'You must select a valid key. "{value}" is not valid.',values:{value:t}}):o.a.createElement(a.Trans,{id:"You must select a key."})})}}const u=({value:e,InvalidParameterValue:t})=>e?l(e)?e:o.a.createElement(t,null,e):o.a.createElement(t,{isEmpty:!0},o.a.createElement(a.Trans,{id:"Choose a key"}))},1592:function(e,t,n){"use strict";var a=n(218),r=n(104);function o(e,t,n,o,i,s){a.a.call(this,e,t,n,o,i,s),this._pixiObject=new r.Graphics,this._pixiContainer.addChild(this._pixiObject);var l=n.hasCustomSize()?n.getCustomWidth():32,c=n.hasCustomSize()?n.getCustomHeight():32;this._pixiObject.beginFill(13311),this._pixiObject.lineStyle(1,16767232,1),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(l,0),this._pixiObject.lineTo(l,c),this._pixiObject.lineTo(0,c),this._pixiObject.endFill()}o.prototype=Object.create(a.a.prototype),o.getThumbnail=function(e,t,n){return"res/unknown32.png"},o.prototype.update=function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this._pixiObject.rotation=this._instance.getAngle()*Math.PI/180},t.a=o},1601:function(e,t,n){"use strict";(function(e){var a=n(218),r=n(104);const o=e.gd;function i(e,t,n,o,i,s){a.a.call(this,e,t,n,o,i,s),this._renderedAnimation=0,this._renderedDirection=0,this._centerX=0,this._centerY=0,this._originX=0,this._originY=0,this._pixiObject=new r.Sprite(this._pixiResourcesLoader.getInvalidPIXITexture()),this._pixiContainer.addChild(this._pixiObject),this.updatePIXITextureAndSprite()}i.prototype=Object.create(a.a.prototype),i.getThumbnail=function(e,t,n){const a=o.asSpriteObject(n);if(a.getAnimationsCount()>0&&a.getAnimation(0).getDirectionsCount()>0&&a.getAnimation(0).getDirection(0).getSpritesCount()>0){const n=a.getAnimation(0).getDirection(0).getSprite(0).getImageName();return t.getResourceFullUrl(e,n,{})}return"res/unknown32.png"},i.prototype.updatePIXISprite=function(){this._pixiObject.anchor.x=this._centerX/this._pixiObject.texture.frame.width,this._pixiObject.anchor.y=this._centerY/this._pixiObject.texture.frame.height,this._pixiObject.rotation=this._shouldNotRotate?0:a.a.toRad(this._instance.getAngle()),this._instance.hasCustomSize()?(this._pixiObject.scale.x=this._instance.getCustomWidth()/this._pixiObject.texture.frame.width,this._pixiObject.scale.y=this._instance.getCustomHeight()/this._pixiObject.texture.frame.height):(this._pixiObject.scale.x=1,this._pixiObject.scale.y=1),this._pixiObject.position.x=this._instance.getX()+(this._centerX-this._originX)*Math.abs(this._pixiObject.scale.x),this._pixiObject.position.y=this._instance.getY()+(this._centerY-this._originY)*Math.abs(this._pixiObject.scale.y)},i.prototype.updateSprite=function(){this._sprite=null,this._shouldNotRotate=!1;const e=o.asSpriteObject(this._associatedObject);if(e.hasNoAnimations())return!1;this._renderedAnimation=this._instance.getRawDoubleProperty("animation"),this._renderedAnimation>=e.getAnimationsCount()&&(this._renderedAnimation=0);const t=e.getAnimation(this._renderedAnimation);if(t.hasNoDirections())return!1;if(this._renderedDirection=0,t.useMultipleDirections()){let e=Math.floor(this._instance.getAngle())%360;e<0&&(e+=360),this._renderedDirection=Math.round(e/45)%8}this._renderedDirection>=t.getDirectionsCount()&&(this._renderedDirection=0);const n=t.getDirection(this._renderedDirection);return 0!==n.getSpritesCount()&&(this._shouldNotRotate=t.useMultipleDirections(),this._sprite=n.getSprite(0),!0)},i.prototype.updatePIXITextureAndSprite=function(){if(this.updateSprite(),!this._sprite)return;const e=this._pixiResourcesLoader.getPIXITexture(this._project,this._sprite.getImageName());if(this._pixiObject.texture=e,!e.baseTexture.valid)return void e.once("update",()=>this.updatePIXITextureAndSprite());const t=this._sprite.getOrigin();if(this._originX=t.getX(),this._originY=t.getY(),this._sprite.isDefaultCenterPoint())this._centerX=e.width/2,this._centerY=e.height/2;else{const e=this._sprite.getCenter();this._centerX=e.getX(),this._centerY=e.getY()}this.updatePIXISprite()},i.prototype.update=function(){const e=this._instance.getRawDoubleProperty("animation");this._renderedAnimation!==e?this.updatePIXITextureAndSprite():this.updatePIXISprite()},i.prototype.getOriginX=function(){return this._sprite&&this._pixiObject?this._sprite.getOrigin().getX()*this._pixiObject.scale.x:0},i.prototype.getOriginY=function(){return this._sprite&&this._pixiObject?this._sprite.getOrigin().getY()*this._pixiObject.scale.y:0},i.prototype.getDefaultWidth=function(){return Math.abs(this._pixiObject.width)},i.prototype.getDefaultHeight=function(){return Math.abs(this._pixiObject.height)},t.a=i}).call(this,n(1))},1602:function(e,t,n){"use strict";(function(e){var a=n(218),r=n(104);const o=e.gd;function i(e,t,n,i,s,l){a.a.call(this,e,t,n,i,s,l);var c=o.asTiledSpriteObject(i);this._texture=c.getTexture(),this._pixiObject=new r.TilingSprite(this._pixiResourcesLoader.getPIXITexture(e,c.getTexture()),c.getWidth(),c.getHeight()),this._pixiObject.anchor.x=.5,this._pixiObject.anchor.y=.5,this._pixiContainer.addChild(this._pixiObject)}i.prototype=Object.create(a.a.prototype),i.getThumbnail=function(e,t,n){var a=o.asTiledSpriteObject(n);return t.getResourceFullUrl(e,a.getTexture(),{})},i.prototype.update=function(){var e=o.asTiledSpriteObject(this._associatedObject);this._instance.hasCustomSize()?(this._pixiObject.width=this._instance.getCustomWidth(),this._pixiObject.height=this._instance.getCustomHeight()):(this._pixiObject.width=e.getWidth(),this._pixiObject.height=e.getHeight()),this._texture!==e.getTexture()&&(this._texture=e.getTexture(),this._pixiObject.texture=this._pixiResourcesLoader.getPIXITexture(this._project,e.getTexture())),this._pixiObject.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.y=this._instance.getY()+this._pixiObject.height/2,this._pixiObject.rotation=a.a.toRad(this._instance.getAngle())},i.prototype.getDefaultWidth=function(){return o.asTiledSpriteObject(this._associatedObject).getWidth()},i.prototype.getDefaultHeight=function(){return o.asTiledSpriteObject(this._associatedObject).getHeight()},t.a=i}).call(this,n(1))},1603:function(e,t,n){"use strict";(function(e){var a=n(218),r=n(104);const o=e.gd;function i(e,t,n,r,o,i){a.a.call(this,e,t,n,r,o,i),this.makeObjects(),this.updateTexture()}i.prototype=Object.create(a.a.prototype),i.prototype.update=function(){const e=o.asPanelSpriteObject(this._associatedObject);e.isTiled()!==this._tiled&&this.makeObjects(),e.getTexture()!==this._textureName&&this.updateTexture(),this.updateAngle(),this.updatePosition();const t=this._width,n=this._height;if(this._instance.hasCustomSize())this._width=this._instance.getCustomWidth(),this._height=this._instance.getCustomHeight();else{var a=o.asPanelSpriteObject(this._associatedObject);this._width=a.getWidth(),this._height=a.getHeight()}this._width===t&&this._height===n||this.updateWidthHeight()},i.prototype.makeObjects=function(){const e=o.asPanelSpriteObject(this._associatedObject);this._textureName=e.getTexture();const t=this._pixiResourcesLoader.getPIXITexture(this._project,this._textureName);this._tiled=e.isTiled();var n=this._tiled?r.TilingSprite:r.Sprite;this._pixiObject||(this._pixiObject=new r.Container,this._pixiContainer.addChild(this._pixiObject)),this._centerSprite=new n(new r.Texture(t)),this._borderSprites=[new n(new r.Texture(t)),new r.Sprite(t),new n(new r.Texture(t)),new r.Sprite(t),new n(new r.Texture(t)),new r.Sprite(t),new n(new r.Texture(t)),new r.Sprite(t)],this._pixiObject.removeChildren(),this._pixiObject.addChild(this._centerSprite);for(var a=0;a<this._borderSprites.length;++a)this._pixiObject.addChild(this._borderSprites[a])},i.prototype.updateAngle=function(){this._pixiObject.rotation=a.a.toRad(this._instance.getAngle())},i.prototype.updatePosition=function(){this._pixiObject.x=this._instance.getX()+this._width/2,this._pixiObject.y=this._instance.getY()+this._height/2},i.prototype._updateLocalPositions=function(){const e=o.asPanelSpriteObject(this._associatedObject);this._centerSprite.position.x=e.getLeftMargin(),this._centerSprite.position.y=e.getTopMargin(),this._borderSprites[0].position.x=this._width-e.getRightMargin(),this._borderSprites[0].position.y=e.getTopMargin(),this._borderSprites[1].position.x=this._width-this._borderSprites[1].width,this._borderSprites[1].position.y=0,this._borderSprites[2].position.x=e.getLeftMargin(),this._borderSprites[2].position.y=0,this._borderSprites[3].position.x=0,this._borderSprites[3].position.y=0,this._borderSprites[4].position.x=0,this._borderSprites[4].position.y=e.getTopMargin(),this._borderSprites[5].position.x=0,this._borderSprites[5].position.y=this._height-this._borderSprites[5].height,this._borderSprites[6].position.x=e.getLeftMargin(),this._borderSprites[6].position.y=this._height-e.getBottomMargin(),this._borderSprites[7].position.x=this._width-this._borderSprites[7].width,this._borderSprites[7].position.y=this._height-this._borderSprites[7].height},i.prototype._updateSpritesAndTexturesSize=function(){const e=o.asPanelSpriteObject(this._associatedObject);this._centerSprite.width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._centerSprite.height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[0].width=e.getRightMargin(),this._borderSprites[0].height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[2].height=e.getTopMargin(),this._borderSprites[2].width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._borderSprites[4].width=e.getLeftMargin(),this._borderSprites[4].height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[6].height=e.getBottomMargin(),this._borderSprites[6].width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._wasRendered=!0,this._pixiObject.cacheAsBitmap=!1},i.prototype.updateTexture=function(){const e=o.asPanelSpriteObject(this._associatedObject);this._textureName=e.getTexture();const t=this._pixiResourcesLoader.getPIXITexture(this._project,this._textureName);function n(e){return e.width<0&&(e.width=0),e.height<0&&(e.height=0),e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x>t.width&&(e.x=t.width),e.y>t.height&&(e.y=t.height),e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),e}t.baseTexture.valid?(console.log("Updating PanelSprite instance texture"),this._centerSprite.texture=new r.Texture(t,n(new r.Rectangle(e.getLeftMargin(),e.getTopMargin(),t.width-e.getLeftMargin()-e.getRightMargin(),t.height-e.getTopMargin()-e.getBottomMargin()))),this._borderSprites[0].texture=new r.Texture(t,n(new r.Rectangle(t.width-e.getRightMargin(),e.getTopMargin(),e.getRightMargin(),t.height-e.getTopMargin()-e.getBottomMargin()))),this._borderSprites[1].texture=new r.Texture(t,n(new r.Rectangle(t.width-e.getRightMargin(),0,e.getRightMargin(),e.getTopMargin()))),this._borderSprites[2].texture=new r.Texture(t,n(new r.Rectangle(e.getLeftMargin(),0,t.width-e.getLeftMargin()-e.getRightMargin(),e.getTopMargin()))),this._borderSprites[3].texture=new r.Texture(t,n(new r.Rectangle(0,0,e.getLeftMargin(),e.getTopMargin()))),this._borderSprites[4].texture=new r.Texture(t,n(new r.Rectangle(0,e.getTopMargin(),e.getLeftMargin(),t.height-e.getTopMargin()-e.getBottomMargin()))),this._borderSprites[5].texture=new r.Texture(t,n(new r.Rectangle(0,t.height-e.getBottomMargin(),e.getLeftMargin(),e.getBottomMargin()))),this._borderSprites[6].texture=new r.Texture(t,n(new r.Rectangle(e.getLeftMargin(),t.height-e.getBottomMargin(),t.width-e.getLeftMargin()-e.getRightMargin(),e.getBottomMargin()))),this._borderSprites[7].texture=new r.Texture(t,n(new r.Rectangle(t.width-e.getRightMargin(),t.height-e.getBottomMargin(),e.getRightMargin(),e.getBottomMargin()))),this._updateSpritesAndTexturesSize(),this._updateLocalPositions(),this.updatePosition()):t.once("update",()=>this.updateTexture())},i.prototype.updateWidthHeight=function(){this._pixiObject.pivot.x=this._width/2,this._pixiObject.pivot.y=this._height/2,this._updateSpritesAndTexturesSize(),this._updateLocalPositions(),this.updatePosition()},i.prototype.getDefaultWidth=function(){return o.asPanelSpriteObject(this._associatedObject).getWidth()},i.prototype.getDefaultHeight=function(){return o.asPanelSpriteObject(this._associatedObject).getHeight()},i.getThumbnail=function(e,t,n){const a=o.asPanelSpriteObject(n);return t.getResourceFullUrl(e,a.getTexture(),{})},t.a=i}).call(this,n(1))},1604:function(e,t,n){"use strict";(function(e){var a=n(218),r=n(104);const o=e.gd;function i(e,t,n,i,s,l){a.a.call(this,e,t,n,i,s,l);const c=o.asTextObject(this._associatedObject);this._pixiObject=new r.Text(" ",{align:"left"}),this._pixiObject.anchor.x=.5,this._pixiObject.anchor.y=.5,this._pixiContainer.addChild(this._pixiObject),this._styleFontDirty=!0,this._fontFamily=this._pixiResourcesLoader.getFontFamily(this._project,c.getFontName()),this.update()}i.prototype=Object.create(a.a.prototype),i.getThumbnail=function(e,t,n){return"CppPlatform/Extensions/texticon24.png"},i.prototype.update=function(){const e=o.asTextObject(this._associatedObject);this._pixiObject.text=e.getString(),(e.isItalic()!==this._isItalic||e.isBold()!==this._isBold||e.getCharacterSize()!==this._characterSize||this._instance.hasCustomSize()!==this._wrapping||this._instance.getCustomWidth()!==this._wrappingWidth&&this._wrapping)&&(this._isItalic=e.isItalic(),this._isBold=e.isBold(),this._characterSize=e.getCharacterSize(),this._wrapping=this._instance.hasCustomSize(),this._wrappingWidth=this._instance.getCustomWidth(),this._styleFontDirty=!0),this._fontName!==e.getFontName()&&(this._fontName=e.getFontName(),this._pixiResourcesLoader.loadFontFamily(this._project,e.getFontName()).then(e=>{this._fontFamily=e,this._styleFontDirty=!0}).catch(e=>{console.warn("Unable to load font family for RenderedTextInstance",e)})),this._styleFontDirty&&(this._pixiObject.style.fontFamily=this._fontFamily||"Arial",this._pixiObject.style.fontSize=Math.max(1,this._characterSize)+"px",this._pixiObject.style.fontStyle=this._isItalic?"italic":"normal",this._pixiObject.style.fontWeight=this._isBold?"bold":"normal",this._pixiObject.style.wordWrap=this._wrapping,this._pixiObject.style.wordWrapWidth=this._wrappingWidth<=1?1:this._wrappingWidth,this._pixiObject.style.breakWords=!0,this._pixiObject.dirty=!0,this._styleFontDirty=!1),e.getColorR()===this._colorR&&e.getColorG()===this._colorG&&e.getColorB()===this._colorB||(this._colorR=e.getColorR(),this._colorG=e.getColorG(),this._colorB=e.getColorB(),this._pixiObject.style.fill="rgb("+this._colorR+","+this._colorG+","+this._colorB+")",this._pixiObject.dirty=!0),this._pixiObject.position.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.position.y=this._instance.getY()+this._pixiObject.height/2,this._pixiObject.rotation=a.a.toRad(this._instance.getAngle())},i.prototype.getDefaultWidth=function(){return this._pixiObject.width},i.prototype.getDefaultHeight=function(){return this._pixiObject.height},t.a=i}).call(this,n(1))},1605:function(e,t,n){"use strict";var a=n(529);t.a=Object(a.a)("CppPlatform/Extensions/primitivedrawingicon.png")},1606:function(e,t,n){"use strict";var a=n(529);t.a=Object(a.a)("CppPlatform/Extensions/textentry.png")},1607:function(e,t,n){"use strict";(function(e){var a=n(218),r=n(104),o=n(263);const i=e.gd;function s(e,t,n,o,i,s){a.a.call(this,e,t,n,o,i,s),this._pixiObject=new r.Graphics,this._pixiContainer.addChild(this._pixiObject),this.updateGraphics()}s.prototype=Object.create(a.a.prototype),s.getThumbnail=function(e,t,n){return"CppPlatform/Extensions/particleSystemicon.png"},s.prototype.update=function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this.updateGraphics()},s.prototype.updateGraphics=function(){const e=i.asParticleEmitterObject(this._associatedObject);this._pixiObject.clear();const t=this._instance.getAngle()/180*3.14159,n=e.getConeSprayAngle(),a=t-n/2/180*3.14159,r=t+n/2/180*3.14159;this._pixiObject.beginFill(0,0),this._pixiObject.lineStyle(3,Object(o.d)(e.getParticleRed2(),e.getParticleGreen2(),e.getParticleBlue2()),1),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(64*Math.cos(a),64*Math.sin(a)),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(64*Math.cos(r),64*Math.sin(r)),this._pixiObject.endFill(),this._pixiObject.lineStyle(0,0,1),this._pixiObject.beginFill(Object(o.d)(e.getParticleRed1(),e.getParticleGreen1(),e.getParticleBlue1())),this._pixiObject.drawCircle(0,0,8),this._pixiObject.endFill()},s.prototype.getDefaultWidth=function(){return 128},s.prototype.getDefaultHeight=function(){return 128},s.prototype.getOriginX=function(){return 64},s.prototype.getOriginY=function(){return 64},t.a=s}).call(this,n(1))},1608:function(e,t,n){"use strict";var a=n(529);t.a=Object(a.a)("JsPlatform/Extensions/skeletonicon24.png")},1609:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1610),r=n.n(a);const o=(e,t,n={})=>{if("undefined"!==typeof FontFace){const a=new FontFace(e,t,n);return document.fonts.add(a),a.load()}{const a=document.createElement("style");return a.appendChild(document.createTextNode("@font-face {\n          font-family: ".concat(e,";\n          src: ").concat(t,";\n        }"))),document.head.appendChild(a),new r.a(e,n).load().catch(t=>{throw console.warn("Error while loading font ".concat(e),t),t})}}},161:function(e,t,n){"use strict";var a=n(4),r=n(2394),o=n(2487);t.a=e=>{const t=e.onCheck,n=a.createElement(o.a,{disabled:e.disabled,checked:e.checked,onChange:t?e=>t(e,e.target.checked):void 0,icon:e.uncheckedIcon,checkedIcon:e.checkedIcon,color:"primary",style:e.label?void 0:e.style});return e.label?a.createElement(r.a,{control:n,label:e.label,style:e.style}):n}},1611:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var a=n(71),r=n(4),o=n.n(r),i=n(83),s=n(73),l=n(779),c=n(530),u=n(80);const d={button:{margin:5},description:{marginRight:5}};class h extends r.Component{constructor(...e){super(...e),this._yesButton=o.a.createRef()}focus(){Object(c.a)(this._yesButton)}render(){const e=this.props,t=e.parameterMetadata,n=e.value,r=t?t.getDescription():void 0,c=Object(l.a)(n,t);return o.a.createElement(s.b,null,o.a.createElement(u.a,{style:d.description,displayInlineAsSpan:!0},r),o.a.createElement(s.a,{noMargin:!0},o.a.createElement(i.a,{style:d.button,label:o.a.createElement(a.Trans,{id:"Yes"}),primary:"yes"===c,onClick:()=>this.props.onChange("yes"),ref:this._yesButton})),o.a.createElement(s.a,{noMargin:!0},o.a.createElement(i.a,{style:d.button,label:o.a.createElement(a.Trans,{id:"No"}),primary:"yes"!==c,onClick:()=>this.props.onChange("no")})))}}const m=({value:e,parameterMetadata:t})=>"yes"===Object(l.a)(e,t)?o.a.createElement(a.Trans,{id:"yes"}):o.a.createElement(a.Trans,{id:"no"})},1612:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var a=n(71),r=n(4),o=n.n(r),i=n(83),s=n(73),l=n(779),c=n(530),u=n(80);const d={button:{margin:5},description:{marginRight:5}};class h extends r.Component{constructor(...e){super(...e),this._trueButton=o.a.createRef()}focus(){Object(c.a)(this._trueButton)}render(){const e=this.props,t=e.parameterMetadata,n=e.value,r=t?t.getDescription():void 0,c=Object(l.a)(n,t);return o.a.createElement(s.b,null,o.a.createElement(u.a,{style:d.description,displayInlineAsSpan:!0},r),o.a.createElement(s.a,{noMargin:!0},o.a.createElement(i.a,{style:d.button,label:o.a.createElement(a.Trans,{id:"True"}),primary:"True"===c,onClick:()=>this.props.onChange("True"),ref:this._trueButton})),o.a.createElement(s.a,{noMargin:!0},o.a.createElement(i.a,{style:d.button,label:o.a.createElement(a.Trans,{id:"False"}),primary:"True"!==c,onClick:()=>this.props.onChange("False")})))}}const m=({value:e,parameterMetadata:t})=>"True"===Object(l.a)(e,t)?o.a.createElement(a.Trans,{id:"true"}):o.a.createElement(a.Trans,{id:"false"})},1613:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(4),r=n.n(a),o=n(400);class i extends a.Component{focus(){this._field&&this._field.focus()}render(){return r.a.createElement(o.a,Object.assign({expressionType:"number",ref:e=>this._field=e},this.props))}}},1614:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(136),r=n(4),o=n.n(r),i=n(780),s=n(401),l=n(326),c=n(327);const u={flex:1,display:"flex",flexDirection:"column"};class d extends r.Component{constructor(...e){super(...e),this.instructionsInfo=Object(c.a)(Object(i.a)(this.props.expressionType),this.props.scope),this.instructionsInfoTree=Object(l.a)(this.instructionsInfo)}render(){const e=this.props,t=(e.expressionType,e.scope,Object(a.a)(e,["expressionType","scope"]));return o.a.createElement(s.a,Object.assign({style:u,instructionsInfo:this.instructionsInfo,instructionsInfoTree:this.instructionsInfoTree,iconSize:16,helpPagePath:"/all-features/expressions-reference"},t))}}},1620:function(e,t,n){"use strict";var a=n(77),r=n(4);const o={width:"100%",position:"absolute",whiteSpace:"pre-wrap",wordWrap:"break-word",color:"transparent"},i={backgroundColor:"rgba(244, 67, 54, 0.15)",borderSizing:"border-box",borderBottom:"3px solid rgba(244, 67, 54, 0.7)"};t.a=({value:e,style:t,highlights:n})=>{const s=n.slice().sort((e,t)=>e.begin-t.begin),l=[];let c=0;return s.forEach((t,n)=>{const a=Math.max(t.begin,c);a!==c&&l.push(r.createElement("span",{key:"defaultText-".concat(n)},e.substring(c,a))),c<t.end&&(l.push(r.createElement("span",{key:"highlightedText-".concat(n),style:i},e.substring(a,t.end))),c=t.end)}),c<e.length&&l.push(r.createElement("span",{key:"defaultText-end"},e.substring(c))),r.createElement("div",{style:Object(a.a)(Object(a.a)({},o),t)},l)}},1622:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var a=n(86),r=n(188),o=n(172),i=n.n(o),s=n(780),l=n(327),c=n(532);const u=(e,t,n)=>e.filter(e=>!n||e.type===t).map(e=>e.name&&e.parameters?{kind:"Expression",completion:e.name,enumeratedExpressionMetadata:e,addParenthesis:!0,addClosingParenthesis:0===Object(c.b)(e).length,isExact:n}:null).filter(Boolean),d=(e,t)=>{const n=e.gd;return i()(Object(a.mapVector)(t,t=>{const a=t.getCompletionKind();if(a===n.ExpressionCompletionDescription.Expression){const n=t.getObjectName();return t.getBehaviorName()?function(e,t){const n=t.getPrefix(),a=t.getType(),r=t.getBehaviorName(),o=t.isExact(),i=e.gd,c=e.globalObjectsContainer,d=e.objectsContainer,h=i.getTypeOfBehavior(c,d,r,!0),m=Object(s.b)(a,h),p=Object(l.a)(Object(s.e)(m,n),e.scope);return u(p,n,o)}(e,t):n?function(e,t){const n=t.getPrefix(),a=t.getType(),r=t.getObjectName(),o=t.isExact(),i=e.gd,c=e.globalObjectsContainer,d=e.objectsContainer,h=i.getTypeOfObject(c,d,r,!0),m=Object(s.d)(a,h),p=Object(l.a)(Object(s.e)(m,n),e.scope);return u(p,n,o)}(e,t):function(e,t){const n=t.getPrefix(),a=t.getType(),r=t.isExact(),o=Object(s.c)(a),i=Object(l.a)(Object(s.e)(o,n),e.scope);return u(i,n,r)}(e,t)}return a===n.ExpressionCompletionDescription.Object?function(e,t){const n=t.getPrefix(),a=t.getType(),o=e.gd,i=e.globalObjectsContainer,s=e.objectsContainer,l=Object(r.d)(i,s),c=l.allObjectsList,u=l.allGroupsList,d=Object(r.f)(c,{searchText:n,selectedTags:[]}),h=Object(r.e)(u,n),m=!o.ParameterMetadata.isObject(a);return[...d.map(({object:e})=>({kind:"Object",completion:e.getName(),object:e,addDot:m})),...h.map(({group:e})=>({kind:"Object",completion:e.getName(),addDot:m}))]}(e,t):a===n.ExpressionCompletionDescription.Behavior?function(e,t){const n=t.getPrefix(),a=t.isExact(),r=t.getObjectName(),o=e.gd,i=e.globalObjectsContainer,s=e.objectsContainer;return o.getBehaviorsOfObject(i,s,r,!0).toJSArray().filter(e=>-1!==e.indexOf(n)).map(e=>({kind:"Behavior",completion:e,addNamespaceSeparator:!0,isExact:a}))}(e,t):[]}))},h=({expression:e,caretLocation:t},n)=>{const a=e=>{const t=n.addDot?".":n.addNamespaceSeparator?"::":n.addParenthesis?n.addClosingParenthesis?"()":"(":"",a=!e||!t||e[0]!==t[0];return n.completion+(a?t:"")};if(t>e.length&&(t=e.length),0===t||!e){const t=a(void 0)+e;return{caretLocation:t.length,expression:t}}const r=t-1,o=e=>-1!==" .:+-/*=()<>[]@!?|\\^%#".indexOf(e);let i=r;if(o(e[i]))i++;else for(;i>0&&!o(e[i-1]);)i--;let s=r;for(;s<e.length&&!o(e[s+1]);)s++;const l=e[s+1],c=e.substring(0,i),u=a(l),d=e.substring(s+1);return{caretLocation:c.length+u.length,expression:c+u+d}}},1623:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c}));var a=n(77),r=n(126);const o=()=>({autocompletions:[],selectedCompletionIndex:0}),i=e=>Math.max(0,e.autocompletions.length-25),s=e=>0===i(e)?e.autocompletions:e.autocompletions.slice(0,25),l=(e,t)=>({autocompletions:t,selectedCompletionIndex:e.autocompletions.length!==t.length?0:e.selectedCompletionIndex}),c=(e,{event:t,onUpdateAutocompletions:n,onInsertAutocompletion:i})=>{if("ArrowDown"!==t.key&&"ArrowUp"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key||n(),!e.autocompletions.length)return e;const s=Math.min(25,e.autocompletions.length);if("ArrowDown"===t.key)return t.preventDefault(),Object(a.a)(Object(a.a)({},e),{},{selectedCompletionIndex:(e.selectedCompletionIndex+1)%s});if("ArrowUp"===t.key)return t.preventDefault(),Object(a.a)(Object(a.a)({},e),{},{selectedCompletionIndex:(s+e.selectedCompletionIndex-1)%s});if(Object(r.b)(t))return t.preventDefault(),t.stopPropagation(),o();if(Object(r.e)(t)||Object(r.c)(t)){const n=e.autocompletions[e.selectedCompletionIndex];n&&i(n),t.preventDefault()}return e}},1624:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(71),r=n(4),o=n(2379),i=n(2385),s=n(364),l=n.n(s),c=n(2483),u=n(80),d=n(151),h=n(532),m=n(73),p=n(189);const g={overflow:"hidden",overflowWrap:"break-word"},b=r.memo(({src:e})=>r.createElement("img",{alt:"",src:e,style:{maxWidth:16,maxHeight:16}})),f=(e,t,n)=>Object(h.b)(n).map(n=>{const a=e.getUserFriendlyTypeName(n);return a?t._(a):n}).join(", "),E=r.forwardRef(({expressionAutocompletion:e,isSelected:t,onClick:n,i18n:a,parameterRenderingService:o},i)=>{if(!e.enumeratedExpressionMetadata)return null;const s=t?r.createElement("b",null,e.completion):e.completion;return r.createElement(c.a,{style:x.button,onPointerDown:()=>{n()},ref:i},r.createElement(b,{src:e.enumeratedExpressionMetadata.iconFilename}),r.createElement(m.c,null),r.createElement(u.a,{style:g,noMargin:!0,align:"left"},s,"(",r.createElement("i",null,f(o,a,e.enumeratedExpressionMetadata)),")"))}),v=({expressionAutocompletion:e,i18n:t,parameterRenderingService:n})=>e.enumeratedExpressionMetadata?r.createElement(m.a,null,r.createElement(m.b,{noMargin:!0,expand:!0,alignItems:"center"},r.createElement(b,{src:e.enumeratedExpressionMetadata.iconFilename}),r.createElement(m.c,null),r.createElement(u.a,{style:g,noMargin:!0,align:"left"},r.createElement("b",null,e.completion),"(",r.createElement("i",null,f(n,t,e.enumeratedExpressionMetadata)),")")),r.createElement(u.a,{style:g,noMargin:!0,size:"body2"},e.enumeratedExpressionMetadata.metadata.getDescription())):null,y=r.forwardRef(({project:e,expressionAutocompletion:t,isSelected:n,onClick:a},o)=>{const i=e&&t.object?p.a.getThumbnail(e,t.object):"res/types/object.png",s=n?r.createElement("b",null,t.completion):t.completion;return r.createElement(c.a,{style:x.button,onPointerDown:()=>{a()},ref:o},r.createElement(b,{src:i}),r.createElement(m.c,null),r.createElement(u.a,{style:g,noMargin:!0,align:"left"},s))}),C=r.forwardRef(({expressionAutocompletion:e,isSelected:t,onClick:n},a)=>{const o=t?r.createElement("b",null,e.completion):e.completion;return r.createElement(c.a,{style:x.button,onPointerDown:()=>{n()},ref:a},r.createElement(b,{src:"res/types/behavior.png"}),r.createElement(m.c,null),r.createElement(u.a,{style:g,noMargin:!0,align:"left"},o))}),x={container:{width:370,maxHeight:150,display:"flex",overflowX:"hidden"},button:{width:"100%",paddingLeft:8,paddingRight:8,justifyContent:"flex-start"},tooManyTextContainer:{width:"100%"},popperStyle:{zIndex:l.a.tooltip+100}};function j({project:e,expressionAutocompletions:t,remainingCount:n,selectedCompletionIndex:s,anchorEl:l,onChoose:c,parameterRenderingService:h}){const p=r.useRef(null),g=r.useRef(null);return r.useEffect(()=>{p.current&&g.current&&p.current.scrollTo(g.current)},[p,g,s]),0===t.length?null:r.createElement(a.I18n,null,({i18n:a})=>r.createElement(o.a,{style:x.popperStyle,open:!0,anchorEl:l,placement:"bottom-start",disablePortal:!1},r.createElement(i.a,{variant:"outlined",square:!0,style:x.container},r.createElement(d.a,{autoHideScrollbar:!0,ref:p},t.map((t,n)=>{const o=s===n,i=o?g:void 0;return"Expression"===t.kind?t.isExact?r.createElement(v,{key:n,expressionAutocompletion:t,i18n:a,parameterRenderingService:h}):r.createElement(E,{key:n,expressionAutocompletion:t,onClick:()=>c(t),isSelected:o,i18n:a,parameterRenderingService:h,ref:i}):"Object"===t.kind?r.createElement(y,{key:n,project:e,expressionAutocompletion:t,onClick:()=>c(t),isSelected:o,ref:i}):"Behavior"===t.kind?r.createElement(C,{key:n,expressionAutocompletion:t,onClick:()=>c(t),isSelected:o,ref:i}):null}),n>0&&r.createElement(m.a,{justifyContent:"flex-start"},r.createElement(u.a,null,"And ",n," others..."))))))}},1626:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(4),r=n.n(a),o=n(400);class i extends a.Component{focus(){this._field&&this._field.focus()}render(){return r.a.createElement(o.a,Object.assign({expressionType:"string",ref:e=>this._field=e},this.props))}}},1627:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(4),r=n.n(a),o=n(182);const i=e=>{if(!e)return[];try{return JSON.parse(e.getExtraInfo())}catch(t){console.error("The parameter seems misconfigured, as an array of choices could not be extracted - verify that your properly wrote a list of choices in JSON format. Full exception is:",t)}return[]};class s extends a.Component{focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.value,n=e.onChange,a=e.isInline,s=e.parameterMetadata;return r.a.createElement(o.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:s?s.getDescription():void 0,helperMarkdownText:s?s.getLongDescription():void 0,fullWidth:!0,value:t,onChange:n,dataSource:i(s).map(e=>({text:'"'+e+'"',value:'"'+e+'"'})),openOnFocus:!a,ref:e=>this._field=e})}}},1628:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n(71),r=n(4),o=n(533),i=n(182);const s=e.gd;class l extends r.Component{constructor(e){super(e),this.state={errorText:null},this._behaviorNames=[],this._getError=e=>{if(!e&&!this.props.value)return null;return 0!==this._behaviorNames.filter(e=>this.props.value===e).length?null:"This behavior is not attached to the object"},this._doValidation=e=>{this.setState({errorText:this._getError(e)})},this._forceChooseBehavior=()=>{1===this._behaviorNames.length&&this.props.value!==this._behaviorNames[0]&&this.props.onChange(this._behaviorNames[0])};const t=this.props.parameterMetadata;this._description=t?t.getDescription():void 0,this._longDescription=t?t.getLongDescription():void 0,this._behaviorTypeAllowed=t?t.getExtraInfo():void 0}_updateBehaviorsList(){const e=this.props,t=e.instructionMetadata,n=e.instruction,a=e.expressionMetadata,r=e.expression,i=e.parameterIndex,l=Object(o.b)({instructionMetadata:t,instruction:n,expressionMetadata:a,expression:r,parameterIndex:i});l&&(this._behaviorNames=s.getBehaviorsOfObject(this.props.globalObjectsContainer,this.props.objectsContainer,l,!0).toJSArray().filter(e=>!this._behaviorTypeAllowed||s.getTypeOfBehavior(this.props.globalObjectsContainer,this.props.objectsContainer,e,!1)===this._behaviorTypeAllowed))}focus(){this._field&&this._field.focus()}componentDidUpdate(){this._forceChooseBehavior()}componentDidMount(){this._forceChooseBehavior()}render(){this._updateBehaviorsList();const e=""!==this._behaviorTypeAllowed?r.createElement(a.Trans,{id:"The behavior is not attached to this object. Please select another object or add this behavior."}):r.createElement(a.Trans,{id:"This object has no behaviors: please add this behavior to the object first."});return r.createElement(i.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:this._description,helperMarkdownText:this._longDescription,fullWidth:!0,errorText:this._behaviorNames.length?this.state.errorText:e,value:this.props.value,onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,onBlur:e=>{this._doValidation(e.currentTarget.value)},dataSource:this._behaviorNames.map(e=>({text:e,value:e})),openOnFocus:!this.props.isInline,disabled:this._behaviorNames.length<=1,ref:e=>this._field=e})}}}).call(this,n(1))},1629:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a=n(172),r=n.n(a),o=n(86),i=n(786),s=n.n(i);const l=e.gd,c=e=>{if(!e)return[];const t=(e,n)=>n.getType()===l.Variable.Structure?[e,...s()(n.getAllChildrenNames().toJSArray(),a=>t("".concat(e,".").concat(a),n.getChild(a)))]:n.getType()===l.Variable.Array?[e,...s()(new Array(n.getChildrenCount()).fill(""),(a,r)=>t("".concat(e,"[").concat(r,"]"),n.getAtIndex(r)))]:[e];return r()(Object(o.mapFor)(0,e.count(),n=>e?t(e.getNameAt(n),e.getAt(n)):[]))}}).call(this,n(1))},1632:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(71),r=n(4),o=n(534),i=n(230);class s extends r.Component{constructor(...e){super(...e),this.state={editorOpen:!1}}focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.project,n=e.scope;return r.createElement(r.Fragment,null,r.createElement(o.a,{variablesContainer:t?t.getVariables():null,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,onRequestClose:this.props.onRequestClose,ref:e=>this._field=e,onOpenDialog:()=>this.setState({editorOpen:!0}),globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:n}),this.state.editorOpen&&t&&r.createElement(i.a,{title:r.createElement(a.Trans,{id:"Global Variables"}),open:this.state.editorOpen,variablesContainer:t.getVariables(),onCancel:()=>this.setState({editorOpen:!1}),onApply:()=>{this.setState({editorOpen:!1})},emptyExplanationMessage:r.createElement(a.Trans,{id:"Global variables are variables that are persisted across the scenes during the game."})}))}}const l=e=>Object(o.b)(e,"res/types/globalvar.png","global variable")},1633:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(71),r=n(4),o=n(534),i=n(230),s=n(533);class l extends r.Component{constructor(...e){super(...e),this.state={editorOpen:!1}}focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.project,n=e.scope,l=e.instructionMetadata,c=e.instruction,u=e.expressionMetadata,d=e.expression,h=e.parameterIndex,m=Object(s.b)({instructionMetadata:l,instruction:c,expressionMetadata:u,expression:d,parameterIndex:h});let p=null;if(m){const e=n.layout;e&&e.hasObjectNamed(m)?p=e.getObject(m).getVariables():t&&t.hasObjectNamed(m)&&(p=t.getObject(m).getVariables())}return r.createElement(r.Fragment,null,r.createElement(o.a,{variablesContainer:p,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,onRequestClose:this.props.onRequestClose,ref:e=>this._field=e,onOpenDialog:()=>this.setState({editorOpen:!0}),globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:n}),this.state.editorOpen&&p&&r.createElement(i.a,{title:r.createElement(a.Trans,{id:"Object Variables"}),open:this.state.editorOpen,variablesContainer:p,onCancel:()=>this.setState({editorOpen:!1}),onApply:()=>{this.setState({editorOpen:!1})}}))}}const c=e=>Object(o.b)(e,"res/types/objectvar.png","object variable")},1634:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(4),r=n.n(a),o=n(86),i=n(182);class s extends a.Component{focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.value,n=e.onChange,a=e.isInline,s=e.scope,l=e.parameterMetadata,c=s.layout,u=c?Object(o.mapFor)(0,c.getLayersCount(),e=>c.getLayerAt(e).getName()):[];return r.a.createElement(i.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:l?l.getDescription():void 0,helperMarkdownText:l?l.getLongDescription():void 0,fullWidth:!0,value:t,onChange:n,onRequestClose:this.props.onRequestClose,openOnFocus:a,dataSource:u.map(e=>({text:e?'"'.concat(e,'"'):'"" (Base layer)',value:'"'.concat(e,'"')})),hintText:'""',ref:e=>this._field=e})}}},1635:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(71),r=n(4),o=n.n(r),i=n(248),s=n(114);class l extends r.Component{focus(){this._field&&this._field.focus()}render(){return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?o.a.createElement(i.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:s.a,resourceKind:"audio",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:o.a.createElement(a.Trans,{id:"Choose the audio file to use"}),onRequestClose:this.props.onRequestClose,ref:e=>this._field=e}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for AudioResourceField"),null)}}},1636:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(71),r=n(4),o=n.n(r),i=n(248),s=n(114);class l extends r.Component{focus(){this._field&&this._field.focus()}render(){return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?o.a.createElement(i.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:s.a,resourceKind:"video",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:o.a.createElement(a.Trans,{id:"Choose the video file to use"}),onRequestClose:this.props.onRequestClose,ref:e=>this._field=e}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for VideoResourceField"),null)}}},1637:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(71),r=n(4),o=n.n(r),i=n(248),s=n(114);class l extends r.Component{focus(){this._field&&this._field.focus()}render(){return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?o.a.createElement(i.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:s.a,resourceKind:"json",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:o.a.createElement(a.Trans,{id:"Choose the json file to use"}),onRequestClose:this.props.onRequestClose,ref:e=>this._field=e}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for JsonResourceField"),null)}}},1638:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(4),r=n.n(a),o=n(400),i=n(316);const s=e=>{const t=e.replace(/"/g,"").split(";");if(3!==t.length)return null;const n=parseInt(t[0],10),a=parseInt(t[1],10),r=parseInt(t[2],10);return n!==n||a!==a||r!==r?null:{r:n,g:a,b:r,a:255}};class l extends a.Component{focus(){this._field&&this._field.focus()}render(){return r.a.createElement(o.a,Object.assign({expressionType:"string",ref:e=>this._field=e,renderExtraButton:({style:e})=>r.a.createElement(i.a,{style:e,disableAlpha:!0,color:s(this.props.value),onChangeComplete:e=>{this.props.onChange('"'+e.rgb.r+";"+e.rgb.g+";"+e.rgb.b+'"')}})},this.props))}}},1639:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var a=n(71),r=n(4),o=n.n(r),i=n(83),s=n(73),l=n(400),c=n(171),u=n(530),d=n(80);class h extends r.Component{constructor(...e){super(...e),this._instantButton=o.a.createRef(),this.state={showDeprecatedNumericValue:""!==this.props.value&&"1"!==this.props.value&&"0"!==this.props.value}}focus(){Object(u.a)(this._instantButton)}render(){const e=this.state.showDeprecatedNumericValue;return o.a.createElement(s.a,{expand:!0,noMargin:!0},o.a.createElement(s.b,{expand:!0,alignItems:"center"},o.a.createElement(s.a,null,o.a.createElement(i.a,{label:o.a.createElement(a.Trans,{id:"Instant"}),primary:""===this.props.value||"0"===this.props.value,onClick:()=>this.props.onChange("0"),ref:this._instantButton})),o.a.createElement(s.a,null,o.a.createElement(d.a,null,o.a.createElement(a.Trans,{id:"The force will only push the object during the time of one frame. Typically used in an event with no conditions or with conditions that stay valid for a certain amount of time."})))),o.a.createElement(s.b,{expand:!0,alignItems:"center"},o.a.createElement(s.a,null,o.a.createElement(i.a,{label:o.a.createElement(a.Trans,{id:"Permanent"}),primary:"1"===this.props.value,onClick:()=>this.props.onChange("1")})),o.a.createElement(s.a,null,o.a.createElement(d.a,null,o.a.createElement(a.Trans,{id:'The force will push the object forever, unless you use the action "Stop the object". Typically used in an event with conditions that are only true once, or with a "Trigger Once" condition.'})))),e&&o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,null,o.a.createElement(a.Trans,{id:"or"})),o.a.createElement(s.b,{expand:!0},o.a.createElement(s.a,{expand:!0},o.a.createElement(l.a,Object.assign({expressionType:"number"},this.props)))),o.a.createElement(c.a,null,o.a.createElement(a.Trans,{id:'The usage of a number or expression is deprecated. Please now use only "Permanent" or "Instant" for configuring forces.'}))))}}const m=({value:e})=>"1"===e?o.a.createElement(a.Trans,{id:"a permanent"}):"0"===e||""===e?o.a.createElement(a.Trans,{id:"an instant"}):"a (multiplier: "+e+")"},1640:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(4),r=n.n(a),o=n(182),i=n(321);class s extends a.Component{focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.value,n=e.onChange,a=e.isInline,s=e.project,l=e.parameterMetadata,c=s?Object(i.d)(s).map(e=>e.getName()):[];return r.a.createElement(o.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:l?l.getDescription():void 0,helperMarkdownText:l?l.getLongDescription():void 0,fullWidth:!0,value:t,onChange:n,openOnFocus:a,dataSource:c.map(e=>({text:'"'.concat(e,'"'),value:'"'.concat(e,'"')})),hintText:'""',ref:e=>this._field=e})}}},1641:function(e,t,n){"use strict";var a=n(4),r=n(128);t.a=({children:e,isEmpty:t})=>t?a.createElement("span",{className:r.j},"< ",e," >"):a.createElement("span",{className:r.j},e)},1642:function(e,t,n){"use strict";var a=n(4),r=n(128);t.a=()=>a.createElement("span",{className:r.k})},1643:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a=n(77),r=n(71),o=n(4),i=n(134),s=n.n(i),l=n(93),c=n(128),u=n(126);const d=e.gd,h={container:{height:40,display:"flex",alignItems:"center",padding:5,overflow:"hidden"},title:{fontSize:18,width:"100%"}};class m extends o.Component{constructor(...e){super(...e),this.state={editing:!1},this._textField=null,this.edit=()=>{this.setState({editing:!0},()=>{this._textField&&this._textField.focus()})},this.endEditing=()=>{this.setState({editing:!1})}}render(){var e=d.asGroupEvent(this.props.event);const t=e.getBackgroundColorR(),n=e.getBackgroundColorG(),i=e.getBackgroundColorB(),m=(t+n+i)/3>200?"black":"white";return o.createElement("div",{className:s()({[c.m]:!0,[c.n]:this.props.selected}),style:Object(a.a)(Object(a.a)({},h.container),{},{backgroundColor:"rgb(".concat(t,", ").concat(n,", ").concat(i,")")}),onClick:this.edit,onKeyPress:e=>{Object(u.a)(e)&&this.edit()},tabIndex:0},this.state.editing?o.createElement(l.b,{ref:e=>this._textField=e,value:e.getName(),hintText:{id:"<Enter group name>"},onBlur:this.endEditing,onChange:(t,n)=>{e.setName(n),this.forceUpdate()},style:h.title,inputStyle:{color:m,WebkitTextFillColor:m},underlineFocusStyle:{borderColor:m},fullWidth:!0,id:"group-title",onKeyUp:e=>{Object(u.b)(e)&&this.endEditing()},onKeyPress:e=>{Object(u.e)(e)&&this.endEditing()}}):o.createElement("span",{className:s()({[c.q]:!0,[c.d]:this.props.disabled}),style:Object(a.a)(Object(a.a)({},h.title),{},{color:m})},e.getName()?e.getName():o.createElement(r.Trans,{id:"<Enter group name>"})))}}}).call(this,n(1))},1644:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a=n(77),r=n(4),o=n(134),i=n.n(o),s=n(93),l=n(263),c=n(128),u=n(126);const d=e.gd,h={width:"100%",fontSize:14},m={container:{display:"flex",flexWrap:"wrap",padding:5,overflow:"hidden",minHeight:35},commentTextField:h,commentSpan:Object(a.a)(Object(a.a)({},h),{},{boxSizing:"border-box",alignItems:"center",height:"100%",whiteSpace:"pre-wrap",lineHeight:1.5,border:1})};class p extends r.Component{constructor(...e){super(...e),this.state={editing:!1},this.edit=()=>{this.setState({editing:!0},()=>{this._textField&&this._textField.focus()})},this.onEvent=(e,t)=>{d.asCommentEvent(this.props.event).setComment(t),this.props.onUpdate(),this.forceUpdate()},this.endEditing=()=>{this._textField&&this.setState({editing:!1},()=>this.props.onUpdate())},this._getCommentHTML=()=>d.asCommentEvent(this.props.event).getComment().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")}render(){const e=d.asCommentEvent(this.props.event),t=Object(l.c)(e.getBackgroundColorRed(),e.getBackgroundColorGreen(),e.getBackgroundColorBlue()),n=Object(l.c)(e.getTextColorRed(),e.getTextColorGreen(),e.getTextColorBlue());return r.createElement("div",{className:i()({[c.m]:!0,[c.n]:this.props.selected}),style:Object(a.a)(Object(a.a)({},m.container),{},{backgroundColor:"#".concat(t)}),onClick:this.edit,onKeyPress:e=>{Object(u.a)(e)&&this.edit()},tabIndex:0},this.state.editing?r.createElement(s.b,{multiline:!0,margin:"none",ref:e=>this._textField=e,value:e.getComment(),hintText:{id:"<Enter comment>"},onBlur:this.endEditing,onChange:this.onEvent,style:m.commentTextField,inputStyle:{color:"#".concat(n),padding:0,lineHeight:1.5},underlineFocusStyle:{borderColor:"#".concat(n)},fullWidth:!0,id:"comment-title",onKeyUp:e=>{Object(u.b)(e)&&this.endEditing()}}):r.createElement("span",{ref:e=>this._selectable=e,className:i()({[c.q]:!0,[c.d]:this.props.disabled}),style:Object(a.a)(Object(a.a)({},m.commentSpan),{},{color:"#".concat(n)}),dangerouslySetInnerHTML:{__html:this._getCommentHTML()}}))}}}).call(this,n(1))},1645:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a=n(77),r=n(71),o=n(4),i=n(272),s=n(134),l=n.n(s),c=n(128),u=n(277),d=n(526),h=n(328),m=n(126);const p=e.gd,g={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}};class b extends o.Component{constructor(...e){super(...e),this._objectField=null,this.state={editing:!1,anchorEl:null},this.edit=e=>{const t=e.currentTarget;setTimeout(()=>this.setState({editing:!0,anchorEl:t},()=>{setTimeout(()=>{this._objectField&&this._objectField.focus()},10)}),10)},this.endEditing=()=>{const e=this.state.anchorEl;e&&e.focus(),this.setState({editing:!1,anchorEl:null})}}render(){var e=p.asForEachEvent(this.props.event);const t=e.getObjectToPick();return o.createElement("div",{style:g.container,className:l()({[c.m]:!0,[c.n]:this.props.selected,[c.h]:!0})},o.createElement("div",null,o.createElement("span",{className:l()({[c.q]:!0,[c.d]:this.props.disabled}),onClick:this.edit,onKeyPress:e=>{Object(m.a)(e)&&this.edit(e)},tabIndex:0},t?o.createElement(r.Trans,{id:"Repeat for each instance of {objectName}:",values:{objectName:t}}):o.createElement("i",null,o.createElement(r.Trans,{id:"Click to choose for which objects this event will be repeated"})))),o.createElement(h.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:({style:t,className:n})=>o.createElement(i.a,{instrsList:e.getConditions(),style:t,className:n,selection:this.props.selection,areConditions:!0,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth}),renderActionsList:({className:t})=>o.createElement(i.a,{instrsList:e.getActions(),style:Object(a.a)({},g.actionsList),className:t,selection:this.props.selection,areConditions:!1,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth})}),o.createElement(u.a,{open:this.state.editing,anchorEl:this.state.anchorEl,onRequestClose:this.endEditing},o.createElement(d.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:t,onChange:t=>{e.setObjectToPick(t),this.props.onUpdate()},isInline:!0,onRequestClose:this.endEditing,ref:e=>this._objectField=e})))}}}).call(this,n(1))},1646:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a=n(77),r=n(71),o=n(4),i=n(272),s=n(134),l=n.n(s),c=n(128),u=n(277),d=n(785),h=n(328),m=n(126);const p=e.gd,g={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1},variableContainer:{marginLeft:"3px",marginRight:"2px"},eventLabel:{marginLeft:"5px",whiteSpace:"normal",wordWrap:"break-word"}};class b extends o.Component{constructor(...e){super(...e),this._valueIteratorField=null,this._keyIteratorField=null,this._iterableField=null,this.state={editingValueIteratorVariableName:!1,editingKeyIteratorVariableName:!1,editingIterableVariableName:!1,anchorEl:null},this.edit=(e,t)=>{setTimeout(()=>this.setState({editingValueIteratorVariableName:"iteratorValue"===e,editingKeyIteratorVariableName:"iteratorKey"===e,editingIterableVariableName:"iterable"===e,anchorEl:t},()=>{setTimeout(()=>{const t="iterable"===e?this._iterableField:"iteratorValue"===e?this._valueIteratorField:this._keyIteratorField;t&&t.focus()},10)}),10)},this.endEditing=()=>{const e=this.state.anchorEl;e&&e.focus(),this.setState({editingKeyIteratorVariableName:!1,editingValueIteratorVariableName:!1,editingIterableVariableName:!1,anchorEl:null})}}render(){const e=p.asForEachChildVariableEvent(this.props.event),t=e.getValueIteratorVariableName(),n=e.getKeyIteratorVariableName(),s=e.getIterableVariableName();return o.createElement("div",{style:g.container,className:l()({[c.h]:!0,[c.m]:!0,[c.n]:this.props.selected})},o.createElement("div",{style:g.eventLabel},o.createElement(r.Trans,{id:"<0>For every child in<1><2/>{0}</1>, store the child in variable<3><4/>{1}</3>, the child name in<5><6/>{2}</5>and do:</0>",values:{0:0!==s.length?o.createElement("span",null,s):o.createElement("span",{className:"instruction-missing-parameter"},o.createElement(r.Trans,{id:"<Select a variable>"})),1:0!==t.length?o.createElement("span",null,t):o.createElement("span",null,o.createElement(r.Trans,{id:"<Select a variable> (optional)"})),2:0!==n.length?o.createElement("span",null,n):o.createElement("span",null,o.createElement(r.Trans,{id:"<Select a variable> (optional)"}))},components:[o.createElement("span",{className:l()({[c.d]:this.props.disabled}),tabIndex:0}),o.createElement("span",{className:l()({[c.q]:!0,[c.l]:!0,[c.p]:!0,scenevar:!0}),style:g.variableContainer,onClick:e=>this.edit("iterable",e.currentTarget),onKeyPress:e=>{Object(m.a)(e)&&this.edit("iterable",e.currentTarget)}}),o.createElement("img",{className:c.i,src:"res/types/scenevar.png",alt:"Scene variable"}),o.createElement("span",{className:l()({[c.q]:!0,[c.l]:!0,[c.p]:!0,scenevar:!0}),style:g.variableContainer,onClick:e=>this.edit("iteratorValue",e.currentTarget),onKeyPress:e=>{Object(m.a)(e)&&this.edit("iteratorValue",e.currentTarget)}}),o.createElement("img",{className:c.i,src:"res/types/scenevar.png",alt:"Scene variable"}),o.createElement("span",{className:l()({[c.q]:!0,[c.l]:!0,[c.p]:!0,scenevar:!0}),style:g.variableContainer,onClick:e=>this.edit("iteratorKey",e.currentTarget),onKeyPress:e=>{Object(m.a)(e)&&this.edit("iteratorKey",e.currentTarget)}}),o.createElement("img",{className:c.i,src:"res/types/scenevar.png",alt:"Scene variable"})]})),o.createElement(h.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:({style:t,className:n})=>o.createElement(i.a,{instrsList:e.getConditions(),style:t,className:n,selection:this.props.selection,areConditions:!0,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth}),renderActionsList:({className:t})=>o.createElement(i.a,{instrsList:e.getActions(),style:Object(a.a)({},g.actionsList),className:t,selection:this.props.selection,areConditions:!1,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth})}),o.createElement(u.a,{open:this.state.editingValueIteratorVariableName,anchorEl:this.state.anchorEl,onRequestClose:this.endEditing},o.createElement(d.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:t,onChange:t=>{e.setValueIteratorVariableName(t),this.props.onUpdate()},isInline:!0,onRequestClose:this.endEditing,ref:e=>this._valueIteratorField=e})),o.createElement(u.a,{open:this.state.editingKeyIteratorVariableName,anchorEl:this.state.anchorEl,onRequestClose:this.endEditing},o.createElement(d.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:n,onChange:t=>{e.setKeyIteratorVariableName(t),this.props.onUpdate()},isInline:!0,onRequestClose:this.endEditing,ref:e=>this._keyIteratorField=e})),o.createElement(u.a,{open:this.state.editingIterableVariableName,anchorEl:this.state.anchorEl,onRequestClose:this.endEditing},o.createElement(d.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:s,onChange:t=>{e.setIterableVariableName(t),this.props.onUpdate()},isInline:!0,onRequestClose:this.endEditing,ref:e=>this._iterableField=e})))}}}).call(this,n(1))},1647:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a=n(77),r=n(71),o=n(4),i=n(272),s=n(134),l=n.n(s),c=n(128),u=n(277),d=n(772),h=n(328),m=n(126);const p=e.gd,g={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}};class b extends o.Component{constructor(...e){super(...e),this._field=null,this.state={editing:!1,anchorEl:null},this.edit=e=>{const t=e.currentTarget;setTimeout(()=>this.setState({editing:!0,anchorEl:t},()=>{setTimeout(()=>{this._field&&this._field.focus()},10)}),10)},this.endEditing=()=>{const e=this.state.anchorEl;e&&e.focus(),this.setState({editing:!1,anchorEl:null})}}render(){var e=p.asRepeatEvent(this.props.event);const t=e.getRepeatExpression();return o.createElement("div",{style:g.container,className:l()({[c.m]:!0,[c.n]:this.props.selected,[c.h]:!0})},o.createElement("div",null,o.createElement("span",{className:l()({[c.q]:!0,[c.d]:this.props.disabled}),onClick:this.edit,onKeyPress:e=>{Object(m.a)(e)&&this.edit(e)},tabIndex:0},t?o.createElement(r.Trans,{id:"Repeat {expression} times:",values:{expression:t}}):o.createElement("i",null,o.createElement(r.Trans,{id:"Click to choose how many times will be repeated"})))),o.createElement(h.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:({style:t,className:n})=>o.createElement(i.a,{instrsList:e.getConditions(),style:t,className:n,selection:this.props.selection,areConditions:!0,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth}),renderActionsList:({className:t})=>o.createElement(i.a,{instrsList:e.getActions(),style:Object(a.a)({},g.actionsList),className:t,selection:this.props.selection,areConditions:!1,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth})}),o.createElement(u.a,{open:this.state.editing,anchorEl:this.state.anchorEl,onRequestClose:this.endEditing},o.createElement(d.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:t,onChange:t=>{e.setRepeatExpression(t),this.props.onUpdate()},isInline:!0,ref:e=>this._field=e})))}}}).call(this,n(1))},1648:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a=n(77),r=n(71),o=n(4),i=n(272),s=n(134),l=n.n(s),c=n(128),u=n(328);const d=e.gd,h={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}};class m extends o.Component{render(){var e=d.asWhileEvent(this.props.event);return o.createElement("div",{style:h.container,className:l()({[c.m]:!0,[c.n]:this.props.selected,[c.h]:!0})},o.createElement("div",{className:l()({[c.d]:this.props.disabled})},o.createElement(r.Trans,{id:"While these conditions are true:"})),o.createElement(i.a,{instrsList:e.getWhileConditions(),style:{},className:c.c,selection:this.props.selection,areConditions:!0,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth}),o.createElement("div",{className:l()({[c.d]:this.props.disabled})},o.createElement(r.Trans,{id:"Repeat these:"})),o.createElement(u.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:({style:t,className:n})=>o.createElement(i.a,{instrsList:e.getConditions(),style:t,className:n,selection:this.props.selection,areConditions:!0,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth}),renderActionsList:({className:t})=>o.createElement(i.a,{instrsList:e.getActions(),style:Object(a.a)({},h.actionsList),className:t,selection:this.props.selection,areConditions:!1,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth})}))}}}).call(this,n(1))},1649:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var a=n(71),r=n(4),o=n(309),i=n.n(o),s=n(95),l=n(134),c=n.n(l),u=n(128),d=n(277),h=n(1650),m=n(22),p=n(126);const g=e.gd,b={container:{height:60,display:"flex",alignItems:"center",padding:5},title:{fontSize:16,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}};class f extends r.Component{constructor(...e){super(...e),this._externalEventsField=null,this.state={editing:!1,anchorEl:null},this.edit=e=>{const t=e.currentTarget;setTimeout(()=>this.setState({editing:!0,anchorEl:t},()=>{setTimeout(()=>{this._externalEventsField&&this._externalEventsField.focus()},10)}),10)},this.openTarget=e=>{const t=this.props,n=t.project,a=t.event,r=t.onOpenLayout,o=t.onOpenExternalEvents,i=g.asLinkEvent(a).getTarget();n.hasExternalEventsNamed(i)?o(i):n.hasLayoutNamed(i)?r(i):Object(m.c)(e._({id:"The specified external events do not exist in the game. Be sure that the name is correctly spelled or create them using the project manager."}))},this.endEditing=()=>{const e=this.state.anchorEl;e&&e.focus(),this.setState({editing:!1,anchorEl:null})}}render(){const e=g.asLinkEvent(this.props.event),t=e.getTarget();return r.createElement(a.I18n,null,({i18n:n})=>r.createElement("div",{className:c()({[u.m]:!0,[u.n]:this.props.selected,[u.o]:!0}),style:b.container},r.createElement("span",{style:b.title,className:c()({[u.d]:this.props.disabled})},r.createElement(a.Trans,{id:"Include events from"})," ",r.createElement("i",{className:c()({[u.q]:!0}),onClick:this.edit,onKeyPress:e=>{Object(p.a)(e)&&this.edit(e)},tabIndex:0},t||r.createElement(a.Trans,{id:"<Enter the name of external events>"}))),r.createElement(s.a,{onClick:()=>this.openTarget(n),disabled:!t},r.createElement(i.a,null)),r.createElement(d.a,{open:this.state.editing,anchorEl:this.state.anchorEl,onRequestClose:this.endEditing},r.createElement(h.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:t,onChange:t=>{e.setTarget(t),this.props.onUpdate()},isInline:!0,onRequestClose:this.endEditing,ref:e=>this._externalEventsField=e}))))}}}).call(this,n(1))},1650:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(4),r=n(321),o=n(182);const i=e=>{if(!e)return[];return[...Object(r.b)(e).map(e=>({text:e.getName(),value:e.getName()})),{type:"separator"},...Object(r.d)(e).map(e=>({text:e.getName(),value:e.getName()}))]};class s extends a.Component{focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.value,n=e.onChange,r=e.onRequestClose,s=e.isInline,l=e.project,c=e.parameterMetadata;return a.createElement(o.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:c?c.getDescription():void 0,helperMarkdownText:c?c.getLongDescription():void 0,fullWidth:!0,id:"external-events-field",value:t,onChange:n,onRequestClose:r,dataSource:i(l),openOnFocus:!s,ref:e=>this._field=e})}}},1651:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var a=n(71),r=n(4),o=n(23),i=n.n(o),s=n(134),l=n.n(s),c=n(359),u=n.n(c),d=n(631),h=n.n(d),m=n(2393),p=n(277),g=n(526),b=n(128),f=n(200),E=n(535),v=n(2313),y=n(126);const C=e.gd,x={container:{minHeight:30,display:"flex",flexDirection:"column",backgroundColor:"#1e1e1e"},wrappingText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:"13px",paddingLeft:5,paddingRight:5,paddingTop:2,paddingBottom:2,margin:0,backgroundColor:"#1e1e1e",color:"#d4d4d4",overflowX:"hidden",maxWidth:"100%"},comment:{color:"#777"},commentLink:{cursor:"pointer",color:"#777",textDecoration:"underline"},expandIcon:{color:"#d4d4d4"}};class j extends r.Component{constructor(...e){super(...e),this._objectField=null,this.state={editing:!1,editingObject:!1,anchorEl:null},this.edit=()=>{this.setState({editing:!0},()=>{const e=i.a.findDOMNode(this._input);e&&(e.focus(),e.value=C.asJsCodeEvent(this.props.event).getInlineCode())})},this.endEditing=()=>{const e=C.asJsCodeEvent(this.props.event),t=i.a.findDOMNode(this._input);t&&e.setInlineCode(t.value),this.setState({editing:!1},()=>this.props.onUpdate())},this.onChange=e=>{C.asJsCodeEvent(this.props.event).setInlineCode(e)},this.editObject=e=>{const t=e.currentTarget;setTimeout(()=>this.setState({editingObject:!0,anchorEl:t},()=>{setTimeout(()=>{this._objectField&&this._objectField.focus()},10)}),10)},this.endObjectEditing=()=>{const e=this.state.anchorEl;e&&e.focus(),this.setState({editingObject:!1,anchorEl:null})},this.toggleExpanded=()=>{const e=C.asJsCodeEvent(this.props.event);e.setEventsSheetExpanded(!e.isEventsSheetExpanded())},this._getCodeEditorHeight=()=>{if(!C.asJsCodeEvent(this.props.event).isEventsSheetExpanded())return 200;const e=this.props.eventsSheetHeight-100;return Math.max(200,e)}}render(){const e=C.asJsCodeEvent(this.props.event),t=e.getParameterObjects(),n=this.props.disabled?x.comment:void 0,o=r.createElement("span",{className:l()({[b.q]:!0}),onClick:this.editObject,onKeyPress:e=>{Object(y.a)(e)&&this.editObject(e)},tabIndex:0,style:n},t?r.createElement(a.Trans,{id:", objects /*{parameterObjects}*/",values:{parameterObjects:t}}):r.createElement(r.Fragment,null," ",r.createElement(a.Trans,{id:"/* Click here to choose objects to pass to JavaScript */"}))),i=this.props.scope.eventsFunction?r.createElement("span",{style:n},", eventsFunctionContext"):null,s=r.createElement("p",{style:x.wrappingText},r.createElement("span",{style:n},this.props.disabled?"/*":"","(function(runtimeScene"),o,i,r.createElement("span",{style:n},") {")),c=r.createElement("p",{style:x.wrappingText},r.createElement("span",{style:n},"})(runtimeScene"),o,i,r.createElement("span",{style:n},");",this.props.disabled?"*/":""),r.createElement("span",{style:x.comment}," // ",r.createElement("a",{href:Object(f.a)("/events/js-code"),target:"_blank",rel:"noopener noreferrer",style:x.commentLink},"Read the documentation and help"))),d=r.createElement("div",{style:x.expandIcon},e.isEventsSheetExpanded()?r.createElement(h.a,{fontSize:"small",color:"inherit"}):r.createElement(u.a,{fontSize:"small",color:"inherit"}));return r.createElement(E.a,{bounds:!0},({measureRef:n,contentRect:a})=>r.createElement("div",{style:x.container,className:l()({[b.m]:!0,[b.n]:this.props.selected}),ref:n},s,r.createElement(v.a,{value:e.getInlineCode(),onChange:this.onChange,width:a.bounds.width-5,height:this._getCodeEditorHeight(),onEditorMounted:()=>this.props.onUpdate()}),c,r.createElement(m.a,{onClick:this.toggleExpanded,fullWidth:!0,size:"small"},d),r.createElement(p.a,{open:this.state.editingObject,anchorEl:this.state.anchorEl,onRequestClose:this.endObjectEditing},r.createElement(g.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:t,onChange:t=>{e.setParameterObjects(t),this.props.onUpdate()},isInline:!0,onRequestClose:this.endObjectEditing,ref:e=>this._objectField=e}))))}}}).call(this,n(1))},1653:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor(e){this.eventHeights={},this.updateTimeoutId=null,this.component=null,this.component=e}_notifyComponent(){this.updateTimeoutId||(this.updateTimeoutId=setTimeout(()=>{this.component?this.component.onHeightsChanged(()=>this.updateTimeoutId=null):this.updateTimeoutId=null},0))}setEventHeight(e,t){const n=this.eventHeights[e.ptr];void 0!==n&&n===t||this._notifyComponent(),this.eventHeights[e.ptr]=t}getEventHeight(e){return this.eventHeights[e.ptr]||60}}},1655:function(e,t,n){},1656:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(71),r=n(4),o=n(73),i=n(138),s=n(790);const l={addButton:{cursor:"pointer"}},c=e=>()=>Object(s.a)().map(t=>({label:t.fullName,click:()=>e(t.type)}));function u({onAddEvent:e}){return r.createElement(o.a,null,r.createElement(o.b,{justifyContent:"space-between"},r.createElement(i.a,{openMenuWithSecondaryClick:!0,element:r.createElement("button",{style:l.addButton,className:"add-link",onClick:()=>e("BuiltinCommonInstructions::Standard")},r.createElement(a.Trans,{id:"Add a new event"})),buildMenuTemplate:c(e)}),r.createElement(i.a,{element:r.createElement("button",{style:l.addButton,className:"add-link"},r.createElement(a.Trans,{id:"Add..."})),buildMenuTemplate:c(e)})))}},1657:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(106),i=n(80),s=n(2385),l=n(73);t.a=()=>r.createElement(l.a,{alignItems:"center"},r.createElement(s.a,{variant:"outlined",style:{maxWidth:"450px",whiteSpace:"normal"}},r.createElement(l.a,null,r.createElement(i.a,null,r.createElement(a.Trans,{id:"There are no events here."})),r.createElement(i.a,null,r.createElement(a.Trans,{id:"Events are composed of conditions (on the left of an event) and actions (on the right). When conditions are fulfilled, the actions are executed."})),r.createElement(i.a,null,r.createElement(a.Trans,{id:'Add your first event using the button "Add a new event".'})),r.createElement(l.b,{expand:!0,justifyContent:"flex-end"},r.createElement(o.a,{helpPagePath:"/events"})))))},1658:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(87),r=n(71),o=n(4),i=n(84),s=n(81),l=n(791),c=n(917),u=n(73),d=n(401),h=n(106),m=n(115),p=n(794),g=n(144),b=n(536),f=n(168);const E={fullHeightSelector:{flex:1,display:"flex",flexDirection:"column"}};function v({project:e,globalObjectsContainer:t,objectsContainer:n,onCancel:v,open:y,instruction:C,isCondition:x,isNewInstruction:j,scope:O,onSubmit:T,resourceSources:S,onChooseResource:w,resourceExternalEditors:k,openInstructionOrExpression:N}){const _=Object(f.a)(),P=Object(b.b)({instruction:C,isCondition:x,project:e,isNewInstruction:j,scope:O,globalObjectsContainer:t,objectsContainer:n}),I=Object(a.a)(P,2),B=I[0],R=I[1],M=B.chosenObjectName,F=B.chosenObjectInstructionsInfo,L=B.chosenObjectInstructionsInfoTree,A=R.chooseInstruction,D=R.chooseObject,U=R.chooseObjectInstruction,V=!!F&&!!L,W=o.useState(()=>(e=>e?"object-or-free-instructions":"parameters")(j)),G=Object(a.a)(W,2),z=G[0],H=G[1],K=o.useState(()=>((e,t)=>e||t?"objects":"free-instructions")(j,V)),Y=Object(a.a)(K,2),X=Y[0],J=Y[1],q=C.getType(),Z=o.useRef(null);o.useEffect(()=>{"parameters"===z&&Z.current&&Z.current.focus()},[z]);const Q=Object(b.a)({instructionType:q,isCondition:x,project:e}),$=Q?Q.getHelpPath():void 0,ee=()=>o.createElement(m.a,{noFullHeight:!0,key:"instruction-or-object-selector"},o.createElement(c.a,{style:E.fullHeightSelector,project:e,scope:O,currentTab:X,onChangeTab:J,globalObjectsContainer:t,objectsContainer:n,isCondition:x,chosenInstructionType:M?void 0:q,onChooseInstruction:e=>{A(e),H("parameters")},chosenObjectName:M,onChooseObject:e=>{D(e),H("object-instructions")},focusOnMount:!q,onSearchStartOrReset:_})),te=()=>o.createElement(u.a,{expand:!0,justifyContent:"center",key:"parameters"},o.createElement(l.a,{project:e,scope:O,globalObjectsContainer:t,objectsContainer:n,objectName:M,isCondition:x,instruction:C,resourceSources:S,onChooseResource:w,resourceExternalEditors:k,openInstructionOrExpression:N,ref:Z,focusOnMount:!!q,noHelpButton:!0})),ne=()=>L&&F?o.createElement(d.a,{key:"object-instruction-selector",style:E.fullHeightSelector,instructionsInfo:F,instructionsInfoTree:L,iconSize:24,onChoose:e=>{U(e),H("parameters")},selectedType:q,useSubheaders:!0,focusOnMount:!q,searchPlaceholderObjectName:M,searchPlaceholderIsCondition:x}):null;return o.createElement(g.a,null,e=>o.createElement(i.a,{actions:[o.createElement(s.a,{label:o.createElement(r.Trans,{id:"Cancel"}),primary:!1,onClick:v,key:"cancel"}),o.createElement(s.a,{label:o.createElement(r.Trans,{id:"Ok"}),primary:!0,keyboardFocused:!1,disabled:!q,onClick:T,key:"ok"})],secondaryActions:["large"!==e&&"object-or-free-instructions"!==z?o.createElement(s.a,{label:o.createElement(r.Trans,{id:"Back"}),primary:!1,onClick:()=>((e,t)=>{H("parameters"===e&&M?"medium"===t?"object-or-free-instructions":"object-instructions":"object-or-free-instructions")})(z,e),key:"back"}):null,o.createElement(h.a,{key:"help",helpPagePath:$||"/events",label:$&&"small"!==e&&"object-or-free-instructions"!==z?x?o.createElement(r.Trans,{id:"Help for this condition"}):o.createElement(r.Trans,{id:"Help for this action"}):o.createElement(r.Trans,{id:"Help"})})],open:y,onRequestClose:v,cannotBeDismissed:!0,maxWidth:!1,noMargin:!0,flexRowBody:!0},o.createElement(p.a,{columnsRenderer:{"instruction-or-object-selector":ee,"object-instruction-selector":ne,parameters:te},getColumns:()=>"large"===e?M?["instruction-or-object-selector","object-instruction-selector","parameters"]:["instruction-or-object-selector","parameters"]:"medium"===e?"object-or-free-instructions"===z?["instruction-or-object-selector"]:M?["object-instruction-selector","parameters"]:["parameters"]:"object-or-free-instructions"===z?["instruction-or-object-selector"]:"object-instructions"===z?["object-instruction-selector"]:["parameters"]})))}},1660:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t,n)=>{var a=[".","=","-"],r="-";return"undefined"!=typeof n&&(a=n),"undefined"!=typeof t&&(r=t),e.replace(/\xfc/g,"ue").replace(/\xe4/g,"ae").replace(/\xf6/g,"oe").replace(/\xdf/g,"ss").replace(new RegExp("["+a.join("")+"]","g")," ").replace(/-{2,}/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"").replace(/[^\w ]/gi,"").replace(/[ ]/gi,r)}},1661:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(86);const r=e=>Object(a.mapVector)(e,e=>({name:e.getName(),type:e.getType(),description:e.getDescription(),label:e.getLabel(),value:e.getValue(),extraInfo:e.getExtraInfo().toJSArray(),isHidden:e.isHidden()})),o=(e,t)=>(t.setType(e.type).setDescription(e.description).setLabel(e.label).setValue(e.value).setHidden(e.isHidden),e.extraInfo.forEach(e=>{t.addExtraInfo(e)}),t)},1662:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(87),r=n(71),o=n(2384),i=n(4),s=n(536),l=n(917),c=n(401),u=n(794),d=n(168),h=n(793),m=n(81),p=n(647),g=n(73);const b={fullHeightSelector:{flex:1,display:"flex",flexDirection:"column",height:"400px",width:"400px"}};function f({project:e,globalObjectsContainer:t,objectsContainer:n,onCancel:f,open:E,instruction:v,isCondition:y,isNewInstruction:C,anchorEl:x,scope:j,onSubmit:O,canPasteInstructions:T,onPasteInstructions:S}){const w=Object(d.a)(),k=Object(s.b)({instruction:v,isCondition:y,project:e,isNewInstruction:C,scope:j,globalObjectsContainer:t,objectsContainer:n}),N=Object(a.a)(k,2),_=N[0],P=N[1],I=_.chosenObjectName,B=_.chosenObjectInstructionsInfo,R=_.chosenObjectInstructionsInfoTree,M=P.chooseInstruction,F=P.chooseObject,L=P.chooseObjectInstruction,A=i.useState("object-or-free-instructions"),D=Object(a.a)(A,2),U=D[0],V=D[1],W=i.useState("objects"),G=Object(a.a)(W,2),z=G[0],H=G[1],K=v.getType(),Y=({instruction:a,chosenObjectName:r})=>{const o=Object(s.a)({instructionType:a.getType(),isCondition:y,project:e});o&&Object(h.a)(t,n,a,o,r),O()};return i.createElement(o.a,{open:E,onClose:f,anchorEl:x,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},i.createElement(u.a,{columnsRenderer:{"instruction-or-object-selector":()=>i.createElement(l.a,{key:"instruction-or-object-selector",style:b.fullHeightSelector,project:e,scope:j,currentTab:z,onChangeTab:H,globalObjectsContainer:t,objectsContainer:n,isCondition:y,chosenInstructionType:I?void 0:K,onChooseInstruction:e=>{const t=M(e),n=t.instruction,a=t.chosenObjectName;Y({instruction:n,chosenObjectName:a})},chosenObjectName:I,onChooseObject:e=>{F(e),V("object-instructions")},focusOnMount:!K,onSearchStartOrReset:w}),"object-instruction-selector":()=>R&&B?i.createElement(c.a,{key:"object-instruction-selector",style:b.fullHeightSelector,instructionsInfo:B,instructionsInfoTree:R,iconSize:24,onChoose:e=>{const t=L(e),n=t.instruction,a=t.chosenObjectName;Y({instruction:n,chosenObjectName:a})},selectedType:K,useSubheaders:!0,focusOnMount:!K,searchPlaceholderObjectName:I,searchPlaceholderIsCondition:y}):null},getColumns:()=>"object-or-free-instructions"===U?["instruction-or-object-selector"]:["object-instruction-selector"]}),i.createElement(g.b,{noMargin:!0,justifyContent:"flex-end"},i.createElement(m.a,{label:y?i.createElement(r.Trans,{id:"Paste condition(s)"}):i.createElement(r.Trans,{id:"Paste action(s)"}),icon:i.createElement(p.a,null),disabled:!T,onClick:()=>S()})))}},1663:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b}));var a=n(71),r=n(4),o=n(84),i=n(81),s=n(73),l=n(316),c=n(190),u=n(102);const d=e.gd,h={sizeTextField:{width:90}},m={r:255,g:255,b:255},p={r:0,g:0,b:0},g=e=>e.filter(e=>["BuiltinCommonInstructions::Group","BuiltinCommonInstructions::Comment"].includes(e.getType()));class b extends r.Component{constructor(...e){super(...e),this._applyChangesOnEvent=()=>{const e=this.props.event,t=this.state,n=t.textValue,a=t.textColor,r=t.backgroundColor,o=e.getType();if("BuiltinCommonInstructions::Comment"===o)d.asCommentEvent(e).setComment(n),d.asCommentEvent(e).setTextColor(a.r,a.g,a.b),d.asCommentEvent(e).setBackgroundColor(r.r,r.g,r.b);else if("BuiltinCommonInstructions::Group"===o)return d.asGroupEvent(e).setName(n),void d.asGroupEvent(e).setBackgroundColor(r.r,r.g,r.b)},this._getInitialStateFromEvent=()=>{const e=this.props.event,t=e.getType();let n="",a=p,r=p;if("BuiltinCommonInstructions::Comment"===t){const t=d.asCommentEvent(e);a={r:t.getTextColorRed(),g:t.getTextColorGreen(),b:t.getTextColorBlue()},r={r:t.getBackgroundColorRed(),g:t.getBackgroundColorGreen(),b:t.getBackgroundColorBlue()},n=d.asCommentEvent(e).getComment()}else if("BuiltinCommonInstructions::Group"===t){var o=d.asGroupEvent(e);a=(o.getBackgroundColorR()+o.getBackgroundColorG()+o.getBackgroundColorB())/3>200?p:m,r={r:o.getBackgroundColorR(),g:o.getBackgroundColorG(),b:o.getBackgroundColorB()},n=d.asGroupEvent(e).getName()}else console.error("Dialog was opened for an unsupported event type: "+t);return{textValue:n,textColor:a,backgroundColor:r}},this.state=this._getInitialStateFromEvent()}render(){const e=this.props,t=e.event,n=e.onApply,d=e.onClose,m=this.state,p=m.textValue,g=m.textColor,b=m.backgroundColor,f=t.getType();return r.createElement(o.a,{title:r.createElement(a.Trans,{id:"Edit the event text"}),onRequestClose:d,cannotBeDismissed:!0,open:!0,noMargin:!0,actions:[r.createElement(i.a,{key:"close",label:r.createElement(a.Trans,{id:"Cancel"}),primary:!1,onClick:d}),r.createElement(i.a,{key:"Apply",label:r.createElement(a.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:()=>{this._applyChangesOnEvent(),n()}})]},r.createElement(s.a,{noMargin:!0},r.createElement(c.b,null,r.createElement(c.a,null,r.createElement(a.Trans,{id:"Background color:"})),r.createElement(l.a,{style:h.sizeTextField,disableAlpha:!0,color:b,onChangeComplete:e=>{this.setState({backgroundColor:e.rgb})}}),"BuiltinCommonInstructions::Comment"===f&&r.createElement(r.Fragment,null,r.createElement(c.a,null,r.createElement(a.Trans,{id:"Text color:"})),r.createElement(l.a,{style:h.sizeTextField,disableAlpha:!0,color:g,onChangeComplete:e=>{this.setState({textColor:e.rgb})}}))),r.createElement(s.b,{noMargin:!0},r.createElement(s.a,{expand:!0},r.createElement(s.b,null,r.createElement(u.a,{commitOnBlur:!0,hintText:{id:"Enter the text to be displayed"},fullWidth:!0,multiline:!0,rows:8,rowsMax:30,value:p,onChange:e=>{this.setState({textValue:e})}}))))))}}}).call(this,n(1))},1664:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor({isActive:e,shortcutCallbacks:t}){this._shiftPressed=!1,this._ctrlPressed=!1,this._altPressed=!1,this._metaPressed=!1,this._updateModifiersFromEvent=e=>{this._metaPressed=e.metaKey,this._altPressed=e.altKey,this._ctrlPressed=e.ctrlKey,this._shiftPressed=e.shiftKey},this._isControlOrCmdPressed=()=>this._metaPressed||this._ctrlPressed,this.onDragOver=e=>{this._updateModifiersFromEvent(e)},this.onKeyUp=e=>{this._updateModifiersFromEvent(e)},this.onKeyDown=e=>{if(this._updateModifiersFromEvent(e),this._isActive&&!this._isActive())return;if(e.target&&e.target.closest('textarea, input, [contenteditable="true"]'))return;const t=this._shortcutCallbacks,n=t.onDelete,a=t.onMove,r=t.onCopy,o=t.onCut,i=t.onPaste,s=t.onUndo,l=t.onRedo,c=t.onSearch,u=t.onZoomOut,d=t.onZoomIn,h=t.onEscape;a&&(38===e.which?this._shiftPressed?a(0,-5):a(0,-1):40===e.which?this._shiftPressed?a(0,5):a(0,1):37===e.which?this._shiftPressed?a(-5,0):a(-1,0):39===e.which&&(this._shiftPressed?a(5,0):a(1,0))),!n||8!==e.which&&46!==e.which||n(),r&&this._isControlOrCmdPressed()&&67===e.which&&r(),o&&this._isControlOrCmdPressed()&&88===e.which&&o(),i&&this._isControlOrCmdPressed()&&86===e.which&&i(),s&&this._isControlOrCmdPressed()&&90===e.which&&s(),l&&this._isControlOrCmdPressed()&&e.shiftKey&&90===e.which&&l(),l&&this._isControlOrCmdPressed()&&89===e.which&&l(),c&&this._isControlOrCmdPressed()&&70===e.which&&c(),h&&27===e.which&&h(),u&&this._isControlOrCmdPressed()&&189===e.which&&u(),u&&109===e.which&&u(),d&&this._isControlOrCmdPressed()&&187===e.which&&d(),d&&107===e.which&&d()},this._shortcutCallbacks=t,this._isActive=e}shouldCloneInstances(){return this._isControlOrCmdPressed()}shouldMultiSelect(){return this._shiftPressed}}},1665:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(4),r=n(277),o=n(525);const i=e.gd;class s extends a.Component{constructor(...e){super(...e),this.state={parameterMetadata:null,instructionMetadata:null,ParameterComponent:null}}componentWillReceiveProps(e){(e.open&&!this.props.open||e.instruction!==this.props.instruction)&&this._loadComponentFromInstruction(e)}_unload(){this.setState({ParameterComponent:null,parameterMetadata:null,instructionMetadata:null})}_loadComponentFromInstruction(e){const t=e.project,n=e.isCondition,a=e.instruction,r=e.parameterIndex;if(!a)return this._unload();const s=a.getType(),l=n?i.MetadataProvider.getConditionMetadata(t.getCurrentPlatform(),s):i.MetadataProvider.getActionMetadata(t.getCurrentPlatform(),s);if(r>=l.getParametersCount())return this._unload();const c=l.getParameter(r),u=o.a.getParameterComponent(c.getType());this.setState({ParameterComponent:u,parameterMetadata:c,instructionMetadata:l},()=>{setTimeout(()=>{this._field&&this._field.focus&&this._field.focus()},10)})}render(){if(!this.state.ParameterComponent||!this.props.open)return null;const e=this.props.instruction;if(!e)return null;const t=this.state.ParameterComponent;return a.createElement(r.a,{open:this.props.open,anchorEl:this.props.anchorEl,onRequestClose:this.props.onRequestClose},a.createElement(t,{instruction:e,instructionMetadata:this.state.instructionMetadata,parameterMetadata:this.state.parameterMetadata,parameterIndex:this.props.parameterIndex,value:e.getParameter(this.props.parameterIndex),onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,key:e.ptr,ref:e=>this._field=e,parameterRenderingService:o.a,isInline:!0,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors}))}}}).call(this,n(1))},1666:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));const a=e.gd,r=e=>{let t=!1,n=!1;for(let a=e.size()-1;a>=0;--a){const r=e.get(a);a===e.size()-1?"BuiltinCommonInstructions::Once"===r.getType()&&(t=!0):"BuiltinCommonInstructions::Once"===r.getType()&&(e.removeAt(a),n=!0)}if(n&&!t){const t=new a.Instruction;t.setType("BuiltinCommonInstructions::Once"),e.insert(t,e.size()),t.delete()}return n}}).call(this,n(1))},1667:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var a=n(71),r=n(4),o=n(84),i=n(81),s=n(80);const l=e=>{const t=e.getObjectNames().toNewVectorString().toJSArray(),n=e.getReferencedObjectOrGroupNames().toNewVectorString().toJSArray(),a={};return n.forEach(t=>{const n=e.getBehaviorNamesOfObjectOrGroup(t).toNewVectorString().toJSArray();n.length&&(a[t]=n)}),{objectsNames:t,objectOrGroupNames:n,objectOrGroupBehaviorNames:a}};class c extends r.Component{render(){const e=this.props,t=e.onClose,n=e.eventsContextResult,l=[r.createElement(i.a,{key:"close",label:r.createElement(a.Trans,{id:"Close"}),primary:!0,onClick:this.props.onClose})];return r.createElement(o.a,{actions:l,cannotBeDismissed:!1,open:!0,onRequestClose:t},r.createElement(s.a,null,r.createElement(a.Trans,{id:"Objects or groups being directly referenced in the events: {0}",values:{0:n.objectOrGroupNames.join(", ")}})),r.createElement(s.a,null,r.createElement(a.Trans,{id:"All objects potentially used in events: {0}",values:{0:n.objectsNames.join(", ")}})),r.createElement(s.a,null,r.createElement(a.Trans,{id:"All behaviors being directly referenced in the events:"})," ",Object.keys(n.objectOrGroupBehaviorNames).map(e=>r.createElement(a.Trans,{key:e,id:"Behaviors of {objectOrGroupName}: {0} ;",values:{0:n.objectOrGroupBehaviorNames[e].join(", "),objectOrGroupName:e}}))))}}},1668:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(71),r=n(4),o=n.n(r),i=n(115),s=n(93),l=n(73),c=n(1669),u=n.n(c),d=n(405),h=n.n(d),m=n(95),p=n(81),g=n(258),b=n(80),f=n(83),E=n(88),v=n(126);class y extends r.PureComponent{constructor(...e){super(...e),this.state={searchText:"",replaceText:"",matchCase:!1,searchInActions:!0,searchInConditions:!0,searchInEventStrings:!0,searchInSelection:!1,searchResultsDirty:!1},this.focus=()=>{this.searchTextField&&this.searchTextField.focus()},this.markSearchResultsDirty=()=>{this.setState({searchResultsDirty:!0})},this.launchSearch=()=>{const e=this.state,t=e.searchText,n=e.searchInSelection,a=e.matchCase,r=e.searchInActions,o=e.searchInConditions,i=e.searchInEventStrings;this.props.onSearchInEvents({searchInSelection:n,searchText:t,matchCase:a,searchInActions:r,searchInConditions:o,searchInEventStrings:i})},this.launchReplace=()=>{const e=this.state,t=e.searchText,n=e.replaceText,a=e.searchInSelection,r=e.matchCase,o=e.searchInActions,i=e.searchInConditions,s=e.searchInEventStrings;this.launchSearch(),this.props.onReplaceInEvents({searchInSelection:a,searchText:t,replaceText:n,matchCase:r,searchInActions:o,searchInConditions:i,searchInEventStrings:s})},this.launchSearchIfResultsDirty=()=>{this.state.searchResultsDirty&&(this.launchSearch(),this.setState({searchResultsDirty:!1}))}}render(){const e=this.props,t=e.resultsCount,n=e.hasEventSelected,r=e.onGoToPreviousSearchResult,c=e.onGoToNextSearchResult,d=e.onCloseSearchPanel,y=this.state,C=y.searchText,x=y.replaceText,j=y.searchInSelection;return o.a.createElement(i.a,{noFullHeight:!0,noExpand:!0},o.a.createElement(E.a,null,o.a.createElement(l.b,{alignItems:"baseline",noMargin:!0},o.a.createElement(s.b,{margin:"dense",ref:e=>this.searchTextField=e,hintText:{id:"Text to search in parameters"},onChange:(e,t)=>{this.setState({searchText:t,searchResultsDirty:!0})},onKeyPress:e=>{Object(v.e)(e)&&this.launchSearchIfResultsDirty()},onKeyUp:e=>{Object(v.b)(e)&&d()},value:C,fullWidth:!0}),o.a.createElement(l.c,null),o.a.createElement(f.a,{disabled:!C,primary:!0,label:o.a.createElement(a.Trans,{id:"Search"}),onClick:()=>{this.state.searchResultsDirty?this.launchSearchIfResultsDirty():c()}})),o.a.createElement(l.b,{alignItems:"baseline",noMargin:!0},o.a.createElement(s.b,{margin:"dense",hintText:{id:"Text to replace in parameters"},onChange:(e,t)=>this.setState({replaceText:t}),onKeyPress:e=>{Object(v.e)(e)&&this.launchReplace()},onKeyUp:e=>{Object(v.b)(e)&&d()},value:x,fullWidth:!0}),o.a.createElement(l.c,null),o.a.createElement(f.a,{disabled:!x||!C||!n&&j,label:o.a.createElement(a.Trans,{id:"Replace"}),onClick:this.launchReplace})),o.a.createElement(l.b,{noMargin:!0,alignItems:"center",justifyContent:"space-between"},o.a.createElement(l.b,{noMargin:!0,alignItems:"center"},o.a.createElement(g.a,{label:o.a.createElement(a.Trans,{id:"Case insensitive"}),checked:!this.state.matchCase,onCheck:(e,t)=>this.setState({matchCase:!t,searchResultsDirty:!0})}),o.a.createElement(b.a,null,o.a.createElement(a.Trans,{id:"Search in:"})),o.a.createElement(l.c,null),o.a.createElement(g.a,{label:o.a.createElement(a.Trans,{id:"Conditions"}),checked:this.state.searchInConditions,onCheck:(e,t)=>this.setState({searchInConditions:t,searchResultsDirty:!0})}),o.a.createElement(g.a,{label:o.a.createElement(a.Trans,{id:"Actions"}),checked:this.state.searchInActions,onCheck:(e,t)=>this.setState({searchInActions:t,searchResultsDirty:!0})}),o.a.createElement(g.a,{label:o.a.createElement(a.Trans,{id:"Texts"}),checked:this.state.searchInEventStrings,onCheck:(e,t)=>this.setState({searchInEventStrings:t,searchResultsDirty:!0})})),o.a.createElement(l.b,{noMargin:!0,alignItems:"center"},o.a.createElement(b.a,null,null===t||void 0===t?"":0!==t?"".concat(t," results"):"No results"),o.a.createElement(m.a,{disabled:!t,onClick:()=>{r()}},o.a.createElement(u.a,null)),o.a.createElement(m.a,{disabled:!t,onClick:()=>{c()}},o.a.createElement(h.a,null)),o.a.createElement(p.a,{key:"close",label:o.a.createElement(a.Trans,{id:"Close"}),primary:!1,onClick:()=>{d()}})))))}}},1670:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n(4),r=n(86),o=n(721),i=n.n(o);const s=e.gd;class l extends a.Component{constructor(...e){super(...e),this.state={eventsSearchResults:null,searchFocusOffset:null},this._resultEvents=null,this._doReplaceInEvents=({searchInSelection:e,searchText:t,replaceText:n,matchCase:a,searchInConditions:r,searchInActions:o,searchInEventStrings:i})=>{const l=this.props,c=l.globalObjectsContainer,u=l.objectsContainer,d=l.events;e&&console.error("Replace in selection is not implemented yet"),n&&s.EventsRefactorer.replaceStringInEvents(c,u,d,t,n,a,r,o)},this._doSearchInEvents=({searchInSelection:e,searchText:t,matchCase:n,searchInConditions:a,searchInActions:r,searchInEventStrings:o},i)=>{const l=this.props,c=l.globalObjectsContainer,u=l.objectsContainer,d=l.events;e&&console.error("Search in selection is not implemented yet");const h=s.EventsRefactorer.searchInEvents(c,u,d,t,n,a,r,o);this.state.eventsSearchResults&&this.state.eventsSearchResults.delete(),this.setState({eventsSearchResults:h.clone(),searchFocusOffset:null},()=>{this._updateListOfResultEvents(),i()})},this._updateListOfResultEvents=()=>{const e=this.state.eventsSearchResults;if(!e)return void(this._resultEvents=null);const t=Object(r.mapFor)(0,e.size(),t=>{const n=e.at(t);return n.isEventValid()?n.getEvent():null}).filter(Boolean);this._resultEvents=i()(t,e=>e.ptr)},this._goToSearchResults=e=>{if(this._updateListOfResultEvents(),!this._resultEvents||0===this._resultEvents.length)return this.setState({searchFocusOffset:null}),null;let t=null===this.state.searchFocusOffset?0:((this.state.searchFocusOffset||0)+e)%this._resultEvents.length;t<0&&(t+=this._resultEvents.length);const n=this._resultEvents[t];return setTimeout(()=>this.setState({searchFocusOffset:t}),0),n},this._goToPreviousSearchResult=()=>this._goToSearchResults(-1),this._goToNextSearchResult=()=>this._goToSearchResults(1)}componentWillUnmount(){this.state.eventsSearchResults&&this.state.eventsSearchResults.delete()}reset(){this.state.eventsSearchResults&&this.state.eventsSearchResults.delete(),this._resultEvents=null,this.setState({eventsSearchResults:null,searchFocusOffset:null})}render(){return this.props.children({eventsSearchResultEvents:this._resultEvents,searchFocusOffset:this.state.searchFocusOffset,searchInEvents:this._doSearchInEvents,replaceInEvents:this._doReplaceInEvents,goToNextSearchResult:this._goToNextSearchResult,goToPreviousSearchResult:this._goToPreviousSearchResult})}}}).call(this,n(1))},1671:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));const a=e.gd,r=(e,t)=>{const n=e.getSubInstructions();if(a.compare(n,t))return!0;for(let a=0;a<n.size();++a){const e=n.get(a);if(r(e,t))return!0}return!1}}).call(this,n(1))},1672:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var a=n(71),r=n(4),o=n(84),i=n(81),s=n(321),l=n(73),c=n(102),u=n(111),d=n(112),h=n(796),m=n(124),p=n(169),g=n(797),b=n(800),f=n(106),E=n(88);const v=e.gd;class y extends r.Component{constructor(...e){super(...e),this.state={eventsFunction:null,extensionName:"",createNewExtension:!1}}componentDidMount(){const e=this.props,t=e.project,n=e.globalObjectsContainer,a=e.objectsContainer,r=e.serializedEvents,o=new v.EventsFunction;Object(h.d)({project:t,globalObjectsContainer:n,objectsContainer:a,serializedEvents:r,eventsFunction:o}),this.setState({eventsFunction:o});0===Object(s.a)(t).length&&this.setState({createNewExtension:!0})}componentWillUnmount(){const e=this.state.eventsFunction;e&&e.delete()}render(){const e=this.props,t=e.project,n=e.onClose,v=e.onCreate,y=this.state,C=y.eventsFunction,x=y.extensionName,j=y.createNewExtension;if(!C)return null;const O=Object(s.a)(t),T=Object(h.c)(C);return r.createElement(o.a,{title:r.createElement(a.Trans,{id:"Extract the events in a function"}),secondaryActions:r.createElement(f.a,{helpPagePath:"/events/functions/extract-events"}),actions:[r.createElement(i.a,{key:"cancel",label:r.createElement(a.Trans,{id:"Cancel"}),onClick:n}),r.createElement(i.a,{key:"create",label:r.createElement(a.Trans,{id:"Create"}),primary:!0,disabled:!Object(h.a)(t,x,C),onClick:()=>v(x,C)})],cannotBeDismissed:!0,open:!0,onRequestClose:n,noMargin:!0},r.createElement(l.a,{noMargin:!0},r.createElement(l.a,null,r.createElement(p.a,{identifier:"function-extractor-explanation",kind:"info"},"After creating a function, it will be usable in the events sheet. Functions are grouped by extensions. Choose, or enter the name of a new extension, and a function name, then configure the function and its parameters."),r.createElement(E.b,{noMargin:!0,expand:!0},r.createElement(u.a,{floatingLabelText:r.createElement(a.Trans,{id:"Extension (storing the function)"}),value:j?"<create a new extension>":x,onChange:(e,t,n)=>{"<create a new extension>"===n?this.setState({createNewExtension:!0,extensionName:""}):this.setState({createNewExtension:!1,extensionName:n})},fullWidth:!0},O.map(e=>r.createElement(d.a,{key:e.getName(),value:e.getName(),primaryText:e.getFullName()||e.getName()})),r.createElement(d.a,{value:"<create a new extension>",primaryText:{id:"<Create a New Extension>"}})),j?r.createElement(c.a,{commitOnBlur:!0,value:x,floatingLabelText:r.createElement(a.Trans,{id:"New extension name"}),onChange:e=>this.setState({extensionName:e}),fullWidth:!0,errorText:Object(h.h)(t,x)?Object(h.g)(x)?void 0:r.createElement(a.Trans,{id:"This name is not valid. Only use alphanumeric characters (0-9, a-z) and underscores."}):r.createElement(a.Trans,{id:"This name is already taken by another extension."})}):null),r.createElement(l.b,null,r.createElement(c.a,{commitOnBlur:!0,value:C.getName(),floatingLabelText:r.createElement(a.Trans,{id:"Function name"}),onChange:e=>{C.setName(e),this.forceUpdate()},fullWidth:!0,errorText:Object(h.f)(t,x,C)?Object(h.e)(C.getName())?void 0:r.createElement(a.Trans,{id:"This name is not valid. Only use alphanumeric characters (0-9, a-z) and underscores."}):r.createElement(a.Trans,{id:"This name is already taken by another function. Choose another name."})})),T?r.createElement(l.b,null,r.createElement(m.a,{kind:"warning"},r.createElement(a.Trans,{id:"This function will have a lot of parameters. Consider creating groups or functions for a smaller set of objects so that the function is easier to reuse."}))):null),r.createElement(b.a,{eventsFunction:C,eventsBasedBehavior:null,onConfigurationUpdated:()=>{this.forceUpdate()},freezeEventsFunctionType:!0}),r.createElement(l.c,null),r.createElement(g.a,{project:t,eventsFunction:C,eventsBasedBehavior:null,onParametersUpdated:()=>{this.forceUpdate()},freezeParameters:!0})))}}}).call(this,n(1))},1673:function(e,t,n){"use strict";function a(e,t,n){return t.getObjectGroups().has(n)?t.getObjectGroups().get(n):e.getObjectGroups().has(n)?e.getObjectGroups().get(n):null}n.d(t,"a",(function(){return a}))},1674:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(71),r=n(4),o=n(111),i=n(112),s=n(799);class l extends r.Component{constructor(...e){super(...e),this.state={behaviorMetadata:Object(s.a)(this.props.project.getCurrentPlatform(),this.props.project)}}render(){const e=this.props,t=e.disabled,n=e.objectType,s=e.value,l=e.onChange,c=this.state.behaviorMetadata,u=!!c.find(({type:e})=>e===s);return r.createElement(o.a,{floatingLabelText:r.createElement(a.Trans,{id:"Behavior type"}),value:s,onChange:(e,t,n)=>{l(n)},disabled:t,fullWidth:!0},c.map(e=>r.createElement(i.a,{key:e.type,value:e.type,primaryText:e.fullName,disabled:""!==e.objectType&&e.objectType!==n})),!u&&s&&r.createElement(i.a,{value:s,primaryText:s}))}}},168:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(87),r=n(4);function o(){const e=r.useState(),t=Object(a.a)(e,2)[1];return r.useCallback(()=>t({}),[])}},169:function(e,t,n){"use strict";var a=n(4),r=n(113),o=n(124),i=n(5);t.a=({identifier:e,kind:t,children:n})=>a.createElement(r.b.Consumer,null,({values:r,showAlertMessage:s})=>!r.hiddenAlertMessages[e]&&a.createElement(o.a,{kind:t,children:n,onHide:()=>{i.b.showConfirmDialog("Are you sure you want to hide this hint? You won't see it again, unless you re-activate it from the preferences.")&&s(e,!1)}}))},171:function(e,t,n){"use strict";var a=n(77),r=n(4),o=n(97),i=n(2391);t.a=e=>r.createElement(o.a,null,t=>r.createElement(i.a,{variant:"body2",align:"center",style:Object(a.a)({opacity:.6,textShadow:"1px 1px 0px ".concat(t.emptyMessage.shadowColor)},e.style),title:e.tooltipText},e.children))},174:function(e,t,n){const a=n(6),r=a("electron"),o=r?r.remote.app:null,i=a("fs"),s=a("path"),l=a("process");var c=l&&/^darwin/.test(l.platform);const u=(e,t,n)=>i.access(e,i.constants.R_OK,a=>{a?n():t(e)});e.exports={findGDJS:()=>{if(!s||!l||!i)return Promise.reject(new Error("Unsupported"));const e=o?o.getAppPath():l.cwd(),t=c?"../../../../":s.join("..",".."),n=s.join(e,t);return new Promise((t,a)=>{const r=e=>t({gdjsRoot:e}),o=()=>a(new Error("Could not find GDJS"));u(s.join(n,"..","JsPlatform"),r,()=>{u(s.join(e,"..","GDJS"),r,()=>{const t=s.join(e,"..","..","app","resources","GDJS");u(t,r,o)})})})}}},1815:function(e,t,n){},1817:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var a=n(71),r=n(4),o=n(521),i=n(406),s=n(92),l=n(1818),c=n(2301),u=n(2302),d=n(115),h=n(2288),m=n(22),p=n(1822),g=n(1825),b=n(1826),f=n(404),E=n(81),v=n(73),y=n(2388),C=n(144),x=n(1827),j=n(1829),O=n(1831),T=n.n(O),S=n(1830),w=n.n(S),k=n(113),N=n(242);const _=e.gd,P={direction:"row",first:{direction:"column",first:"free-functions-list",second:"behaviors-list",splitPercentage:50},second:{direction:"column",first:"parameters",second:"events-sheet",splitPercentage:25},splitPercentage:25};class I extends r.Component{constructor(...e){super(...e),this.state={selectedEventsFunction:null,selectedEventsBasedBehavior:null,editedEventsBasedBehavior:null,editOptionsDialogOpen:!1,behaviorMethodSelectorDialogOpen:!1,extensionFunctionSelectorDialogOpen:!1,onAddEventsFunctionCb:null},this._loadEventsFunctionFrom=(e,t)=>{this._globalObjectsContainer||(this._globalObjectsContainer=new _.ObjectsContainer),this._objectsContainer||(this._objectsContainer=new _.ObjectsContainer),_.EventsFunctionTools.eventsFunctionToObjectsContainer(e,t,this._globalObjectsContainer,this._objectsContainer)},this.updateToolbar=()=>{this.editor?this.editor.updateToolbar():this.props.setToolbar(r.createElement("div",null))},this.selectEventsFunctionByName=(e,t)=>{const n=this.props.eventsFunctionsExtension;if(t){const a=n.getEventsBasedBehaviors();if(a.has(t)){const n=a.get(t),r=n.getEventsFunctions();r.hasEventsFunctionNamed(e)&&this._selectEventsFunction(r.getEventsFunction(e),n)}}else n.hasEventsFunctionNamed(e)&&this._selectEventsFunction(n.getEventsFunction(e),null)},this._selectEventsFunction=(e,t)=>{e?(this._loadEventsFunctionFrom(this.props.project,e),this.setState({selectedEventsFunction:e,selectedEventsBasedBehavior:t},()=>{this.updateToolbar(),this._editorNavigator&&(e&&!e.getEvents().getEventsCount()?this._editorNavigator.openEditor("parameters"):this._editorNavigator.openEditor("events-sheet"))})):this.setState({selectedEventsFunction:null,selectedEventsBasedBehavior:t},()=>this.updateToolbar())},this._makeRenameFreeEventsFunction=e=>(t,n,a)=>{if(!_.Project.validateName(n))return void Object(m.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0});if(Object(f.h)(n))return Object(m.c)(e._({id:"This name is reserved for a lifecycle function of the extension. Choose another name for your function."}),{delayToNextTick:!0}),a(!1);const r=this.props,o=r.project,i=r.eventsFunctionsExtension;_.WholeProjectRefactorer.renameEventsFunction(o,i,t.getName(),n),a(!0)},this._makeRenameBehaviorEventsFunction=e=>(t,n,a,r)=>{if(!_.Project.validateName(a))return Object(m.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),r(!1);if(Object(f.g)(a))return Object(m.c)(e._({id:"This name is reserved for a lifecycle method of the behavior. Choose another name for your custom function."}),{delayToNextTick:!0}),r(!1);const o=this.props,i=o.project,s=o.eventsFunctionsExtension;_.WholeProjectRefactorer.renameBehaviorEventsFunction(i,s,t,n.getName(),a),r(!0)},this._makeMoveFreeEventsParameter=e=>(e,t,n,a)=>{const r=this.props,o=r.project,i=r.eventsFunctionsExtension;_.WholeProjectRefactorer.moveEventsFunctionParameter(o,i,e.getName(),t+Object(N.c)(!1),n+Object(N.c)(!1)),a(!0)},this._makeMoveBehaviorEventsParameter=e=>(e,t,n,a,r)=>{const o=this.props,i=o.project,s=o.eventsFunctionsExtension;_.WholeProjectRefactorer.moveBehaviorEventsFunctionParameter(i,s,e,t.getName(),n,a),r(!0)},this._onDeleteEventsFunction=(e,t)=>{this.state.selectedEventsFunction&&_.compare(e,this.state.selectedEventsFunction)&&this._selectEventsFunction(null,this.state.selectedEventsBasedBehavior),t(!0)},this._selectEventsBasedBehavior=e=>{this.setState({selectedEventsBasedBehavior:e,selectedEventsFunction:null},()=>{this.updateToolbar(),e&&(this._editorMosaic&&this._editorMosaic.openEditor("behavior-functions-list","end",75,"column"),this._editorNavigator&&this._editorNavigator.openEditor("behavior-functions-list"))})},this._makeRenameEventsBasedBehavior=e=>(t,n,a)=>{if(!_.Project.validateName(n))return void Object(m.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0});const r=this.props,o=r.project,i=r.eventsFunctionsExtension;_.WholeProjectRefactorer.renameEventsBasedBehavior(o,i,t.getName(),n),a(!0)},this._onEventsBasedBehaviorRenamed=()=>{this.props.onBehaviorEdited&&this.props.onBehaviorEdited(),this.state.selectedEventsFunction&&this._loadEventsFunctionFrom(this.props.project,this.state.selectedEventsFunction)},this._onDeleteEventsBasedBehavior=(e,t)=>{this.state.selectedEventsBasedBehavior&&_.compare(e,this.state.selectedEventsBasedBehavior)&&this._selectEventsBasedBehavior(null),t(!0)},this._onAddFreeEventsFunction=e=>{this.setState({extensionFunctionSelectorDialogOpen:!0,onAddEventsFunctionCb:e})},this._onCloseExtensionFunctionSelectorDialog=e=>{const t=this.state.onAddEventsFunctionCb;this.setState({extensionFunctionSelectorDialogOpen:!1,onAddEventsFunctionCb:null},()=>{t&&t(e)})},this._onAddBehaviorEventsFunction=e=>{this.setState({behaviorMethodSelectorDialogOpen:!0,onAddEventsFunctionCb:e})},this._onCloseBehaviorMethodSelectorDialog=e=>{const t=this.state.onAddEventsFunctionCb;this.setState({behaviorMethodSelectorDialogOpen:!1,onAddEventsFunctionCb:null},()=>{t&&t(e)})},this._onBehaviorEventsFunctionAdded=(e,t)=>{_.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(this.props.eventsFunctionsExtension,e)},this._onBehaviorPropertyRenamed=(e,t,n)=>{const a=this.props,r=a.project,o=a.eventsFunctionsExtension;_.WholeProjectRefactorer.renameBehaviorProperty(r,o,e,t,n)},this._editOptions=(e=!0)=>{this.setState({editOptionsDialogOpen:e})},this._editBehavior=e=>{this.setState(t=>(t.editedEventsBasedBehavior&&!e&&_.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(this.props.eventsFunctionsExtension,t.editedEventsBasedBehavior),{editedEventsBasedBehavior:e}),()=>{e||(this.props.onBehaviorEdited&&this.props.onBehaviorEdited(),this.state.selectedEventsFunction&&this._loadEventsFunctionFrom(this.props.project,this.state.selectedEventsFunction))})},this._openFreeFunctionsListEditor=()=>{this._editorNavigator&&this._editorNavigator.openEditor("free-functions-list")},this._openBehaviorsListEditor=()=>{this._editorNavigator&&this._editorNavigator.openEditor("behaviors-list")},this._onEditorNavigatorEditorChanged=e=>{this.updateToolbar(),"behaviors-list"===e?this._selectEventsBasedBehavior(null):"free-functions-list"!==e&&"behavior-functions-list"!==e||this._selectEventsFunction(null,this.state.selectedEventsBasedBehavior)}}componentDidMount(){this.props.initiallyFocusedFunctionName&&this.selectEventsFunctionByName(this.props.initiallyFocusedFunctionName,this.props.initiallyFocusedBehaviorName)}componentWillUnmount(){this._globalObjectsContainer&&this._globalObjectsContainer.delete(),this._objectsContainer&&this._objectsContainer.delete()}render(){const e=this.props,t=e.project,n=e.eventsFunctionsExtension,m=this.state,O=m.selectedEventsFunction,S=m.selectedEventsBasedBehavior,N=m.editOptionsDialogOpen,_=m.behaviorMethodSelectorDialogOpen,I=m.extensionFunctionSelectorDialogOpen,B=m.editedEventsBasedBehavior,R={"choose-editor":{type:"primary",noTitleBar:!0,renderEditor:()=>r.createElement(j.a,{eventsFunctionsExtension:n,onEditFreeFunctions:this._openFreeFunctionsListEditor,onEditBehaviors:this._openBehaviorsListEditor,onEditExtensionOptions:this._editOptions})},parameters:{type:"primary",title:{id:"Function Configuration"},toolbarControls:[],renderEditor:()=>r.createElement(a.I18n,null,({i18n:e})=>r.createElement(d.a,null,O&&this._globalObjectsContainer&&this._objectsContainer?r.createElement(l.a,{project:t,eventsFunction:O,eventsBasedBehavior:S,globalObjectsContainer:this._globalObjectsContainer,objectsContainer:this._objectsContainer,helpPagePath:S?"/behaviors/events-based-behaviors":"/events/functions",onParametersOrGroupsUpdated:()=>{this._loadEventsFunctionFrom(t,O),this.forceUpdate()},onMoveFreeEventsParameter:this._makeMoveFreeEventsParameter(e),onMoveBehaviorEventsParameter:this._makeMoveBehaviorEventsParameter(e),unsavedChanges:this.props.unsavedChanges}):r.createElement(s.a,null,r.createElement(a.Trans,{id:"Choose a function, or a function of a behavior, to set the parameters that it accepts."}))))},"events-sheet":{type:"primary",noTitleBar:!0,renderEditor:()=>O&&this._globalObjectsContainer&&this._objectsContainer?r.createElement(d.a,null,r.createElement(o.a,{key:O.ptr,ref:e=>this.editor=e,project:t,scope:{layout:null,eventsFunctionsExtension:n,eventsBasedBehavior:S,eventsFunction:O},globalObjectsContainer:this._globalObjectsContainer,objectsContainer:this._objectsContainer,events:O.getEvents(),onOpenExternalEvents:()=>{},onOpenLayout:()=>{},resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,setToolbar:this.props.setToolbar,onCreateEventsFunction:this.props.onCreateEventsFunction,onOpenSettings:this._editOptions,unsavedChanges:this.props.unsavedChanges})):r.createElement(d.a,null,r.createElement(s.a,null,r.createElement(a.Trans,{id:"Choose a function, or a function of a behavior, to edit its events."})))},"free-functions-list":{type:"primary",title:{id:"Functions"},toolbarControls:[],renderEditor:()=>r.createElement(a.I18n,null,({i18n:e})=>r.createElement(c.a,{project:t,eventsFunctionsContainer:n,selectedEventsFunction:O,onSelectEventsFunction:e=>this._selectEventsFunction(e,null),onDeleteEventsFunction:this._onDeleteEventsFunction,canRename:e=>!Object(f.h)(e.getName()),onRenameEventsFunction:this._makeRenameFreeEventsFunction(e),onAddEventsFunction:this._onAddFreeEventsFunction,onEventsFunctionAdded:()=>{},renderHeader:()=>r.createElement(r.Fragment,null,r.createElement(v.b,{justifyContent:"center"},r.createElement(E.a,{label:r.createElement(a.Trans,{id:"Edit extension options"}),primary:!0,onClick:()=>this._editOptions()})),r.createElement(y.a,null)),unsavedChanges:this.props.unsavedChanges}))},"behavior-functions-list":{type:"primary",title:{id:"Behavior functions"},renderEditor:()=>S?r.createElement(a.I18n,null,({i18n:e})=>r.createElement(c.a,{project:t,eventsFunctionsContainer:S.getEventsFunctions(),selectedEventsFunction:O,onSelectEventsFunction:e=>this._selectEventsFunction(e,S),onDeleteEventsFunction:this._onDeleteEventsFunction,canRename:e=>!Object(f.g)(e.getName()),onRenameEventsFunction:(t,n,a)=>this._makeRenameBehaviorEventsFunction(e)(S,t,n,a),onAddEventsFunction:this._onAddBehaviorEventsFunction,onEventsFunctionAdded:e=>this._onBehaviorEventsFunctionAdded(S,e),renderHeader:()=>r.createElement(r.Fragment,null,r.createElement(v.b,{justifyContent:"center"},r.createElement(E.a,{label:r.createElement(a.Trans,{id:"Edit behavior properties"}),primary:!0,onClick:()=>this._editBehavior(S)})),r.createElement(y.a,null)),unsavedChanges:this.props.unsavedChanges})):r.createElement(d.a,null,r.createElement(s.a,null,r.createElement(a.Trans,{id:"Select a behavior to display the functions inside this behavior."})))},"behaviors-list":{type:"secondary",title:{id:"Behaviors"},toolbarControls:[],renderEditor:()=>r.createElement(a.I18n,null,({i18n:e})=>r.createElement(u.a,{project:t,eventsBasedBehaviorsList:n.getEventsBasedBehaviors(),selectedEventsBasedBehavior:S,onSelectEventsBasedBehavior:this._selectEventsBasedBehavior,onDeleteEventsBasedBehavior:this._onDeleteEventsBasedBehavior,onRenameEventsBasedBehavior:this._makeRenameEventsBasedBehavior(e),onEventsBasedBehaviorRenamed:this._onEventsBasedBehaviorRenamed,onEditProperties:this._editBehavior,unsavedChanges:this.props.unsavedChanges}))}};return r.createElement(r.Fragment,null,r.createElement(C.a,null,e=>"small"===e?r.createElement(x.a,{ref:e=>this._editorNavigator=e,editors:R,initialEditorName:"choose-editor",transitions:{"behaviors-list":{previousEditor:"choose-editor"},"behavior-functions-list":{previousEditor:"behaviors-list"},"free-functions-list":{previousEditor:"choose-editor"},"events-sheet":{nextIcon:r.createElement(w.a,null),nextLabel:r.createElement(a.Trans,{id:"Parameters"}),nextEditor:"parameters",previousEditor:()=>S?"behavior-functions-list":"free-functions-list"},parameters:{nextIcon:r.createElement(T.a,null),nextLabel:r.createElement(a.Trans,{id:"Validate these parameters"}),nextEditor:"events-sheet"}},onEditorChanged:this._onEditorNavigatorEditorChanged}):r.createElement(k.b.Consumer,null,({getDefaultEditorMosaicNode:e,setDefaultEditorMosaicNode:t})=>r.createElement(i.a,{ref:e=>this._editorMosaic=e,editors:R,onPersistNodes:e=>t("events-functions-extension-editor",e),initialNodes:e("events-functions-extension-editor")||P}))),N&&r.createElement(h.a,{eventsFunctionsExtension:n,open:!0,onClose:()=>this._editOptions(!1)}),_&&S&&r.createElement(g.a,{eventsBasedBehavior:S,onCancel:()=>this._onCloseBehaviorMethodSelectorDialog(null),onChoose:e=>this._onCloseBehaviorMethodSelectorDialog(e)}),I&&n&&r.createElement(b.a,{eventsFunctionsExtension:n,onCancel:()=>this._onCloseExtensionFunctionSelectorDialog(null),onChoose:e=>this._onCloseExtensionFunctionSelectorDialog(e)}),B&&r.createElement(p.a,{project:t,eventsFunctionsExtension:n,eventsBasedBehavior:B,onApply:()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this._editBehavior(null)},onRenameProperty:(e,t)=>this._onBehaviorPropertyRenamed(B,e,t)}))}}}).call(this,n(1))},1818:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a=n(71),r=n(4),o=n(1819),i=n(153),s=n(797),l=n(800),c=n(151),u=n(73),d=n(22),h=n(5);const m=e.gd;class p extends r.Component{constructor(...e){super(...e),this.state={currentTab:"config"},this._canObjectOrGroupUseNewName=e=>{const t=this.props,n=t.objectsContainer,a=t.globalObjectsContainer;return n.hasObjectNamed(e)||a.hasObjectNamed(e)||n.getObjectGroups().has(e)||a.getObjectGroups().has(e)?(Object(d.c)("Another object or group with this name already exists in this function.",{delayToNextTick:!0}),!1):!!m.Project.validateName(e)||(Object(d.c)("This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character.",{delayToNextTick:!0}),!1)},this._onDeleteGroup=(e,t)=>{const n=e.group,a=this.props,r=a.project,o=a.eventsFunction,i=a.globalObjectsContainer,s=a.objectsContainer,l=h.b.showConfirmDialog("Do you want to remove all references to this group in events (actions and conditions using the group)?");m.WholeProjectRefactorer.objectOrGroupRemovedInEventsFunction(r,o,i,s,n.getName(),!0,!!l),t(!0)},this._onRenameGroup=(e,t,n)=>{const a=e.group,r=this.props,o=r.project,i=r.eventsFunction,s=r.globalObjectsContainer,l=r.objectsContainer;a.getName()!==t&&m.WholeProjectRefactorer.objectOrGroupRenamedInEventsFunction(o,i,s,l,a.getName(),t,!0),n(!0)},this._chooseTab=e=>this.setState({currentTab:e})}render(){const e=this.props,t=e.project,n=e.globalObjectsContainer,d=e.objectsContainer,h=e.eventsFunction,m=e.eventsBasedBehavior,p=e.freezeEventsFunctionType,g=e.onConfigurationUpdated,b=e.onParametersOrGroupsUpdated,f=e.freezeParameters,E=e.helpPagePath,v=e.renderConfigurationHeader,y=e.onMoveFreeEventsParameter,C=e.onMoveBehaviorEventsParameter;return r.createElement(u.a,{expand:!0,noMargin:!0,useFullHeight:!0},r.createElement(i.b,{value:this.state.currentTab,onChange:this._chooseTab},r.createElement(i.a,{label:r.createElement(a.Trans,{id:"Configuration"}),value:"config"}),r.createElement(i.a,{label:r.createElement(a.Trans,{id:"Parameters"}),value:"parameters"}),r.createElement(i.a,{label:r.createElement(a.Trans,{id:"Object groups"}),value:"groups"})),"config"===this.state.currentTab?r.createElement(c.a,null,r.createElement(u.b,null,r.createElement(l.a,{eventsFunction:h,eventsBasedBehavior:m,helpPagePath:E,onConfigurationUpdated:g,renderConfigurationHeader:v,freezeEventsFunctionType:p}))):null,"parameters"===this.state.currentTab?r.createElement(c.a,null,r.createElement(u.b,null,r.createElement(s.a,{project:t,eventsFunction:h,eventsBasedBehavior:m,onParametersUpdated:b,helpPagePath:E,freezeParameters:f,onMoveFreeEventsParameter:y,onMoveBehaviorEventsParameter:C}))):null,"groups"===this.state.currentTab?r.createElement(o.a,{project:t,globalObjectsContainer:n,objectsContainer:d,globalObjectGroups:n.getObjectGroups(),objectGroups:h.getObjectGroups(),canRenameGroup:this._canObjectOrGroupUseNewName,onRenameGroup:this._onRenameGroup,onDeleteGroup:this._onDeleteGroup,onGroupsUpdated:b,canSetAsGlobalGroup:!1,unsavedChanges:this.props.unsavedChanges}):null)}}}).call(this,n(1))},1819:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(4),r=n(921),o=n(845);class i extends a.Component{constructor(...e){super(...e),this.state={editedGroup:null},this.editGroup=e=>this.setState({editedGroup:e})}render(){const e=this.props,t=e.project,n=e.objectsContainer,i=e.globalObjectsContainer,s=e.objectGroups,l=e.globalObjectGroups;return a.createElement(a.Fragment,null,a.createElement(r.a,{globalObjectGroups:l,objectGroups:s,onEditGroup:this.editGroup,onDeleteGroup:this.props.onDeleteGroup,onRenameGroup:this.props.onRenameGroup,canRenameGroup:this.props.canRenameGroup,onGroupAdded:this.props.onGroupsUpdated,onGroupRemoved:this.props.onGroupsUpdated,onGroupRenamed:this.props.onGroupsUpdated,canSetAsGlobalGroup:this.props.canSetAsGlobalGroup,unsavedChanges:this.props.unsavedChanges}),this.state.editedGroup&&a.createElement(o.a,{project:t,key:i.ptr+";"+n.ptr,group:this.state.editedGroup,globalObjectsContainer:i,objectsContainer:n,onCancel:()=>this.editGroup(null),onApply:()=>{this.props.onGroupsUpdated&&this.props.onGroupsUpdated(),this.editGroup(null)}}))}}},182:function(e,t,n){"use strict";var a=n(87),r=n(77),o=n(136),i=n(4),s=n(71),l=n(2478),c=(n(148),n(2389)),u=n(211),d=n(2485),h=n(2383),m=n(93),p=n(2404),g=n(364),b=n.n(g),f=n(126);const E={container:{position:"relative",width:"100%"},listItem:{padding:0,margin:0,display:"inline-block",whiteSpace:"nowrap",width:"calc(100%)",overflow:"hidden",textOverflow:"ellipsis"}},v=Object(p.a)({option:{cursor:"default"},listbox:{padding:0,margin:0},input:{width:"auto",flexGrow:1},inputRoot:{flexWrap:"wrap"},popper:{zIndex:b.a.tooltip+100}}),y=(e,t)=>e.type&&"separator"===e.type?i.createElement(h.a,{divider:!0,disableGutters:!0,component:"div",style:E.listItem}):i.createElement(h.a,{component:"div",style:E.listItem},e.renderIcon&&i.createElement(c.a,null,e.renderIcon()),e.value),C=e=>"separator"===e.type;t.a=i.forwardRef((function(e,t){const n=i.useRef(null),c=Object(i.useState)(null),h=Object(a.a)(c,2),p=h[0],g=h[1],b=Object(i.useState)(!1),x=Object(a.a)(b,2),j=x[0],O=x[1],T=v();i.useImperativeHandle(t,()=>({focus:()=>{n.current&&n.current.focus()},forceInputValueTo:e=>{null!==p&&g(e)}}));const S=null!==p?p:e.value,w=e.helperMarkdownText?i.createElement(u.a,{source:e.helperMarkdownText}):null,k=(e,t,n)=>{g(t),j||O(!0)};return i.createElement(s.I18n,null,({i18n:t})=>i.createElement(d.a,{freeSolo:!0,classes:T,onChange:(t,a)=>{null!==a&&n.current&&(((e,t,n)=>{"separator"!==t.type&&(t.onClick?t.onClick():(e.value=t.value,n.onChoose?n.onChoose(t.value):n.onChange(t.value),n.onRequestClose&&n.onRequestClose()))})(n.current,a,e),g(null),O(!1))},open:j,style:Object(r.a)(Object(r.a)({},e.style),E.container),inputValue:S,value:S,onInputChange:k,options:e.dataSource,renderOption:y,getOptionDisabled:C,getOptionLabel:e=>((e,t)=>e.value?e.value:t)(e,S),filterOptions:(e,t)=>((e,t,n)=>{const a=n.toLowerCase(),r=e.filter(e=>"separator"===e.type||(!e.text||-1!==e.text.toLowerCase().indexOf(a)));if(!r.filter(e=>"separator"!==e.type&&e.value).length)return[];for(;void 0!==r[r.length-1]&&void 0!==r[r.length-1].type;)r.pop();for(;void 0!==r[0]&&void 0!==r[0].type;)r.shift();return r})(e,0,S),renderInput:a=>{const s=((e,t,n)=>{const a=e.InputProps,i=e.inputProps,s=(e.InputLabelProps,Object(o.a)(e,["InputProps","inputProps","InputLabelProps"]));return Object(r.a)(Object(r.a)({},s),{},{InputProps:Object(r.a)(Object(r.a)({},a),{},{className:null,endAdornment:null}),inputProps:Object(r.a)(Object(r.a)({},i),{},{className:null,disabled:n.disabled,onKeyDown:e=>{Object(f.b)(e)&&n.onRequestClose&&n.onRequestClose()}})})})(a,0,e),c=s.InputProps,u=s.inputProps,d=Object(o.a)(s,["InputProps","inputProps"]);return i.createElement(l.a,Object.assign({InputProps:Object(r.a)(Object(r.a)({},c),{},{placeholder:"string"===typeof e.hintText?e.hintText:t._(e.hintText)}),inputProps:Object(r.a)(Object(r.a)({},u),{},{onFocus:e=>{O(!0),n.current&&(n.current.selectionStart=n.current.value.length)},onBlur:t=>{g(null),O(!1),e.onChange(t.currentTarget.value),e.onBlur&&e.onBlur(t)},onMouseDown:e=>{n.current&&!n.current.value.length&&O(!j)}})},d,Object(m.a)(e),{style:e.textFieldStyle,label:e.floatingLabelText,inputRef:n,disabled:e.disabled,error:!!e.errorText,helperText:w||e.errorText,fullWidth:e.fullWidth}))}}))}))},1820:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a=n(4),r=n(99),o=n(773),i=n(92),s=n(73);const l=e.gd;class c extends a.Component{constructor(...e){super(...e),this.state={newObjectName:""},this.removeObject=e=>{const t=this.props,n=t.group,a=t.onSizeUpdated;n.removeObject(e),this.forceUpdate(),a&&a()},this.addObject=e=>{const t=this.props,n=t.group,a=t.onSizeUpdated;n.addObject(e),this.setState({newObjectName:""}),a&&a()}}_renderExplanation(){const e=this.props,t=e.group,n=e.globalObjectsContainer,r=e.objectsContainer;let o=void 0;t.getAllObjectsNames().toJSArray().forEach(e=>{const t=l.getTypeOfObject(n,r,e,!1);o=void 0===o||t===o?t:""});let s="";return s=void 0===o?"This group is empty":""===o?"This group contains objects of different kinds. You'll only be able to use actions and conditions common to all objects with this group.":"This group contains objects of the same kind (".concat(o,"). You can use actions and conditions related to this kind of objects in events with this group."),a.createElement(i.a,null,s)}render(){const e=this.props,t=e.project,n=e.group,i=e.globalObjectsContainer,l=e.objectsContainer;return a.createElement("div",null,this._renderExplanation(),a.createElement(r.a,null,n.getAllObjectsNames().toJSArray().map(e=>a.createElement(r.b,{key:e,primaryText:e,displayRemoveButton:!0,onRemove:()=>this.removeObject(e)}))),a.createElement(s.a,null,a.createElement(o.a,{project:t,globalObjectsContainer:i,objectsContainer:l,value:this.state.newObjectName,onChange:e=>this.setState({newObjectName:e}),onChoose:this.addObject,openOnFocus:!0,noGroups:!0,hintText:{id:"Choose an object to add to the group"},fullWidth:!0})))}}}).call(this,n(1))},1822:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(71),r=n(4),o=n(81),i=n(84),s=n(1823),l=n(106);class c extends r.Component{render(){const e=this.props,t=e.onApply,n=e.eventsBasedBehavior,c=e.eventsFunctionsExtension,u=e.project;return r.createElement(i.a,{noMargin:!0,secondaryActions:[r.createElement(l.a,{key:"help",helpPagePath:"/behaviors/events-based-behaviors"})],actions:[r.createElement(o.a,{label:r.createElement(a.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:t,key:"Apply"})],cannotBeDismissed:!0,open:!0,onRequestClose:t,title:r.createElement(a.Trans,{id:"Edit the behavior"})},r.createElement(s.a,{project:u,eventsFunctionsExtension:c,eventsBasedBehavior:n,onTabChanged:()=>this.forceUpdate(),onPropertiesUpdated:()=>this.forceUpdate(),onRenameProperty:this.props.onRenameProperty}))}}},1823:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a=n(71),r=n(4),o=n(93),i=n(102),s=n(798),l=n(153),c=n(169),u=n(124),d=n(1824),h=n(88);const m=e.gd;class p extends r.Component{constructor(...e){super(...e),this.state={currentTab:"configuration"},this._allObjectTypes=m.WholeProjectRefactorer.getAllObjectTypesUsingEventsBasedBehavior(this.props.project,this.props.eventsFunctionsExtension,this.props.eventsBasedBehavior).toNewVectorString().toJSArray(),this._changeTab=e=>this.setState({currentTab:e},()=>this.props.onTabChanged())}render(){const e=this.state.currentTab,t=this.props,n=t.eventsBasedBehavior,m=t.project;return r.createElement(r.Fragment,null,r.createElement(l.b,{value:e,onChange:this._changeTab},r.createElement(l.a,{label:r.createElement(a.Trans,{id:"Configuration"}),value:"configuration"}),r.createElement(l.a,{label:r.createElement(a.Trans,{id:"Properties"}),value:"properties"})),"configuration"===e&&r.createElement(h.a,{expand:!0},r.createElement(c.a,{identifier:"events-based-behavior-explanation",kind:"info"},r.createElement(a.Trans,{id:"This is the configuration of your behavior. Make sure to choose a proper internal name as it's hard to change it later. Enter a description explaining what the behavior is doing to the object."})),r.createElement(o.b,{floatingLabelText:r.createElement(a.Trans,{id:"Internal Name"}),value:n.getName(),disabled:!0,fullWidth:!0}),r.createElement(i.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Name displayed in editor"}),value:n.getFullName(),onChange:e=>{n.setFullName(e),this.forceUpdate()},fullWidth:!0}),r.createElement(i.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Description"}),floatingLabelFixed:!0,hintText:{id:"The description of the behavior should explain what the behavior is doing to the object, and, briefly, how to use it."},value:n.getDescription(),onChange:e=>{n.setDescription(e),this.forceUpdate()},multiline:!0,fullWidth:!0,rows:3}),r.createElement(s.a,{floatingLabelText:r.createElement(a.Trans,{id:"Object on which this behavior can be used"}),project:m,value:n.getObjectType(),onChange:e=>{n.setObjectType(e),this.forceUpdate()},allowedObjectTypes:0===this._allObjectTypes.length?void 0:1===this._allObjectTypes.length?["",this._allObjectTypes[0]]:[""]}),this._allObjectTypes.length>1&&r.createElement(u.a,{kind:"info"},r.createElement(a.Trans,{id:"This behavior is being used by multiple types of objects. Thus, you can't restrict its usage to any particular object type. All the object types using this behavior are listed here: {0}",values:{0:this._allObjectTypes.join(", ")}})),0===n.getEventsFunctions().getEventsFunctionsCount()&&r.createElement(c.a,{identifier:"empty-events-based-behavior-explanation",kind:"info"},r.createElement(a.Trans,{id:"Once you're done, close this dialog and start adding some functions to the behavior. Then, test the behavior by adding it to an object in a scene."}))),"properties"===e&&r.createElement(d.a,{project:m,eventsBasedBehavior:n,onPropertiesUpdated:this.props.onPropertiesUpdated,onRenameProperty:this.props.onRenameProperty}))}}}).call(this,n(1))},1824:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return N}));var a=n(71),r=n(4),o=n(73),i=n(111),s=n(112),l=n(86),c=n(83),u=n(95),d=n(92),h=n(138),m=n(308),p=n.n(m),g=n(102),b=n(190),f=n(22),E=n(122),v=n(258),y=n(279),C=n.n(y),x=n(280),j=n.n(x),O=n(147),T=n.n(O),S=n(88);const w=e.gd,k={propertiesContainer:{flex:1}};class N extends r.Component{constructor(...e){super(...e),this._addProperty=()=>{const e=this.props.eventsBasedBehavior.getPropertyDescriptors(),t=Object(E.a)("Property",t=>e.has(t));e.insertNew(t,e.getCount()).setType("Number"),this.forceUpdate(),this.props.onPropertiesUpdated()},this._removeProperty=e=>{this.props.eventsBasedBehavior.getPropertyDescriptors().remove(e),this.forceUpdate(),this.props.onPropertiesUpdated()},this._moveProperty=(e,t)=>{this.props.eventsBasedBehavior.getPropertyDescriptors().move(e,t),this.forceUpdate(),this.props.onPropertiesUpdated()}}render(){const e=this.props.eventsBasedBehavior.getPropertyDescriptors();return r.createElement(a.I18n,null,({i18n:t})=>r.createElement(o.a,{noMargin:!0},r.createElement(o.b,{noMargin:!0},r.createElement("div",{style:k.propertiesContainer},Object(l.mapVector)(e,(n,l)=>r.createElement(r.Fragment,{key:l},r.createElement(b.b,null,r.createElement(o.a,{expand:!0,noMargin:!0},r.createElement(g.a,{margin:"none",commitOnBlur:!0,hintText:{id:"Enter the property name"},value:n.getName(),onChange:a=>{a!==n.getName()&&((e,t,n)=>n?"name"===n||"type"===n?(Object(f.c)(e._({id:'The name of a property cannot be "name" or "type", as they are used by GDevelop internally.'}),{delayToNextTick:!0}),!1):t.has(n)?(Object(f.c)(e._({id:"This name is already used by another property. Choose a unique name for each property."}),{delayToNextTick:!0}),!1):!!w.Project.validateName(n)||(Object(f.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),!1):(Object(f.c)(e._({id:"The name of a property cannot be empty."}),{delayToNextTick:!0}),!1))(t,e,a)&&(this.props.onRenameProperty(n.getName(),a),n.setName(a),this.forceUpdate(),this.props.onPropertiesUpdated())},fullWidth:!0})),r.createElement(v.a,{label:n.isHidden()?r.createElement(a.Trans,{id:"Hidden"}):r.createElement(a.Trans,{id:"Visible in editor"}),checked:!n.isHidden(),onCheck:(e,t)=>{n.setHidden(!t),this.forceUpdate(),this.props.onPropertiesUpdated()},checkedIcon:r.createElement(C.a,null),uncheckedIcon:r.createElement(j.a,null)}),r.createElement(h.a,{element:r.createElement(u.a,null,r.createElement(p.a,null)),buildMenuTemplate:t=>[{label:t._({id:"Delete"}),click:()=>this._removeProperty(n.getName())},{type:"separator"},{label:t._({id:"Move up"}),click:()=>this._moveProperty(l,l-1),enabled:l-1>=0},{label:t._({id:"Move down"}),click:()=>this._moveProperty(l,l+1),enabled:l+1<e.getCount()}]})),r.createElement(o.b,null,r.createElement(S.a,{expand:!0},r.createElement(S.b,{noMargin:!0},r.createElement(i.a,{floatingLabelText:r.createElement(a.Trans,{id:"Type"}),value:n.getType(),onChange:(e,t,a)=>{n.setType(a),this.forceUpdate(),this.props.onPropertiesUpdated()},fullWidth:!0},r.createElement(s.a,{value:"Number",primaryText:{id:"Number"}}),r.createElement(s.a,{value:"String",primaryText:{id:"String"}}),r.createElement(s.a,{value:"Boolean",primaryText:{id:"Boolean (checkbox)"}})),("String"===n.getType()||"Number"===n.getType())&&r.createElement(g.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Default value"}),hintText:"Number"===n.getType()?"123":"ABC",value:n.getValue(),onChange:e=>{n.setValue(e),this.forceUpdate(),this.props.onPropertiesUpdated()},fullWidth:!0}),"Boolean"===n.getType()&&r.createElement(i.a,{floatingLabelText:r.createElement(a.Trans,{id:"Default value"}),value:"true"===n.getValue()?"true":"false",onChange:(e,t,a)=>{n.setValue(a),this.forceUpdate(),this.props.onPropertiesUpdated()},fullWidth:!0},r.createElement(s.a,{value:"true",primaryText:{id:"True (checked)"}}),r.createElement(s.a,{value:"false",primaryText:{id:"False (not checked)"}}))),r.createElement(g.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Label, shown in the editor"}),hintText:{id:"This should make the purpose of the property easy to understand"},floatingLabelFixed:!0,value:n.getLabel(),onChange:e=>{n.setLabel(e),this.forceUpdate()},fullWidth:!0}))))),0===e.getCount()?r.createElement(d.a,null,r.createElement(a.Trans,{id:"No properties for this behavior. Add one to store data inside this behavior (for example: health, ammo, speed, etc...)"})):null,r.createElement(o.a,null,r.createElement(o.b,{justifyContent:"flex-end",expand:!0},r.createElement(c.a,{primary:!0,label:r.createElement(a.Trans,{id:"Add a property"}),onClick:this._addProperty,icon:r.createElement(T.a,null)})))))))}}}).call(this,n(1))},1825:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var a=n(71),r=n(4),o=n(81),i=n(149),s=n(99),l=n(84),c=n(106),u=n(852),d=n(853),h=n(854),m=n(855),p=n(856),g=n(857);const b=e.gd,f={icon:{width:40,height:40},disabledItem:{opacity:.6}},E=({icon:e,disabled:t,onChoose:n,name:a,description:o})=>r.createElement(s.b,{leftIcon:e,primaryText:a,secondaryText:o,secondaryTextLines:2,onClick:()=>n({functionType:b.EventsFunction.Action,name:a}),style:t?f.disabledItem:void 0,disabled:t});class v extends r.Component{render(){const e=[r.createElement(o.a,{label:r.createElement(a.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:()=>this.props.onCancel(),key:"close"})],t=this.props,n=t.eventsBasedBehavior,v=t.onChoose,y=n.getEventsFunctions();return r.createElement(l.a,{secondaryActions:[r.createElement(c.a,{key:"help",helpPagePath:"/behaviors/events-based-behaviors"})],actions:e,cannotBeDismissed:!1,open:!0,noMargin:!0,title:r.createElement(a.Trans,{id:'Choose a new behavior function ("method")'}),onRequestClose:this.props.onCancel},r.createElement(s.a,null,r.createElement(i.a,null,r.createElement(a.Trans,{id:"Main lifecycle methods"})),r.createElement(E,{icon:r.createElement(u.a,{style:f.icon}),name:"onCreated",disabled:y.hasEventsFunctionNamed("onCreated"),onChoose:v,description:r.createElement(a.Trans,{id:"Events that will be run once, when an object is created with this behavior being attached to it."})}),r.createElement(E,{icon:r.createElement(d.a,{style:f.icon}),name:"doStepPreEvents",disabled:y.hasEventsFunctionNamed("doStepPreEvents"),onChoose:v,description:r.createElement(a.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), for every object that has the behavior attached, before the events from the events sheet are launched."})}),r.createElement(E,{icon:r.createElement(h.a,{style:f.icon}),name:"onDestroy",disabled:y.hasEventsFunctionNamed("onOwnerRemovedFromScene")||y.hasEventsFunctionNamed("onDestroy"),onChoose:v,description:r.createElement(a.Trans,{id:"Events that will be run once, after the object is removed from the scene and before it is entirely removed from memory."})}),r.createElement(i.a,null,r.createElement(a.Trans,{id:"Other lifecycle methods"})),r.createElement(E,{icon:r.createElement(g.a,{style:f.icon}),name:"onDeActivate",disabled:y.hasEventsFunctionNamed("onDeActivate"),onChoose:v,description:r.createElement(a.Trans,{id:"Events that will be run once when the behavior is deactivated on an object (step events won't be run until the behavior is activated again)."})}),r.createElement(E,{icon:r.createElement(p.a,{style:f.icon}),name:"onActivate",disabled:y.hasEventsFunctionNamed("onActivate"),onChoose:v,description:r.createElement(a.Trans,{id:"Events that will be run once when the behavior is re-activated on an object (after it was previously deactivated)."})}),r.createElement(E,{icon:r.createElement(d.a,{style:f.icon}),name:"doStepPostEvents",disabled:y.hasEventsFunctionNamed("doStepPostEvents"),onChoose:v,description:r.createElement(a.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), for every object that has the behavior attached, after the events from the events sheet."})}),r.createElement(i.a,null,r.createElement(a.Trans,{id:"Custom"})),r.createElement(s.b,{leftIcon:r.createElement(m.a,{style:f.icon}),primaryText:r.createElement(a.Trans,{id:"Custom (action, condition or expression)"}),secondaryText:r.createElement(a.Trans,{id:"An action, condition or expression that can be used on objects that have the behavior attached to them. Use it from the events sheet as any other action/condition/expression."}),secondaryTextLines:2,onClick:()=>v({functionType:b.EventsFunction.Action,name:null})})))}}}).call(this,n(1))},1826:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var a=n(87),r=n(71),o=n(4),i=n(81),s=n(149),l=n(99),c=n(84),u=n(106),d=n(852),h=n(853),m=n(854),p=n(855),g=n(856),b=n(857),f=n(279),E=n.n(f),v=n(280),y=n.n(v),C=n(73);const x=e.gd,j={icon:{width:40,height:40},disabledItem:{opacity:.6}},O=({icon:e,disabled:t,onChoose:n,name:a,description:r})=>o.createElement(l.b,{leftIcon:e,primaryText:a,secondaryText:r,secondaryTextLines:2,onClick:n,style:t?j.disabledItem:void 0,disabled:t});function T({eventsFunctionsExtension:e,onChoose:t,onCancel:n}){const f=o.useState(!1),v=Object(a.a)(f,2),T=v[0],S=v[1];return o.createElement(c.a,{secondaryActions:[o.createElement(u.a,{key:"help",helpPagePath:"/events/functions"})],actions:[o.createElement(i.a,{label:o.createElement(r.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:n,key:"close"})],cannotBeDismissed:!1,open:!0,noMargin:!0,title:o.createElement(r.Trans,{id:"Choose a new extension function"}),onRequestClose:n},o.createElement(l.a,null,o.createElement(O,{icon:o.createElement(p.a,{style:j.icon}),name:o.createElement(r.Trans,{id:"Action"}),onChoose:()=>t({functionType:x.EventsFunction.Action,name:null}),description:o.createElement(r.Trans,{id:"An action that can be used in other events sheet. You can define the action parameters: objects, texts, numbers, layers, etc..."})}),o.createElement(O,{icon:o.createElement(p.a,{style:j.icon}),name:o.createElement(r.Trans,{id:"Condition"}),onChoose:()=>t({functionType:x.EventsFunction.Condition,name:null}),description:o.createElement(r.Trans,{id:"A condition that can be used in other events sheet. You can define the conditions parameters: objects, texts, numbers, layers, etc..."})}),o.createElement(O,{icon:o.createElement(p.a,{style:j.icon}),name:o.createElement(r.Trans,{id:"Expression"}),onChoose:()=>t({functionType:x.EventsFunction.Expression,name:null}),description:o.createElement(r.Trans,{id:"An expression that can be used in formulas. Can either return a number or a string, and take some parameters."})}),T&&o.createElement(o.Fragment,null,o.createElement(s.a,null,o.createElement(r.Trans,{id:"Lifecycle functions (advanced)"})),o.createElement(O,{icon:o.createElement(d.a,{style:j.icon}),name:"onFirstSceneLoaded",disabled:e.hasEventsFunctionNamed("onFirstSceneLoaded"),onChoose:()=>t({functionType:x.EventsFunction.Action,name:"onFirstSceneLoaded"}),description:o.createElement(r.Trans,{id:"Events that will be run once when the first scene of the game is loaded, before any other events."})}),o.createElement(O,{icon:o.createElement(d.a,{style:j.icon}),name:"onSceneLoaded",disabled:e.hasEventsFunctionNamed("onSceneLoaded"),onChoose:()=>t({functionType:x.EventsFunction.Action,name:"onSceneLoaded"}),description:o.createElement(r.Trans,{id:"Events that will be run once when a scene of the game is loaded, before the scene events."})}),o.createElement(O,{icon:o.createElement(h.a,{style:j.icon}),name:"onScenePreEvents",disabled:e.hasEventsFunctionNamed("onScenePreEvents"),onChoose:()=>t({functionType:x.EventsFunction.Action,name:"onScenePreEvents"}),description:o.createElement(r.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), before the events from the events sheet of the scene."})}),o.createElement(O,{icon:o.createElement(h.a,{style:j.icon}),name:"onScenePostEvents",disabled:e.hasEventsFunctionNamed("onScenePostEvents"),onChoose:()=>t({functionType:x.EventsFunction.Action,name:"onScenePostEvents"}),description:o.createElement(r.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), after the events from the events sheet of the scene."})}),o.createElement(O,{icon:o.createElement(b.a,{style:j.icon}),name:"onScenePaused",disabled:e.hasEventsFunctionNamed("onScenePaused"),onChoose:()=>t({functionType:x.EventsFunction.Action,name:"onScenePaused"}),description:o.createElement(r.Trans,{id:"Events that will be run once when a scene is paused (another scene is run on top of it)."})}),o.createElement(O,{icon:o.createElement(g.a,{style:j.icon}),name:"onSceneResumed",disabled:e.hasEventsFunctionNamed("onSceneResumed"),onChoose:()=>t({functionType:x.EventsFunction.Action,name:"onSceneResumed"}),description:o.createElement(r.Trans,{id:"Events that will be run once when a scene is resumed (after it was previously paused)."})}),o.createElement(O,{icon:o.createElement(m.a,{style:j.icon}),name:"onSceneUnloading",disabled:e.hasEventsFunctionNamed("onSceneUnloading"),onChoose:()=>t({functionType:x.EventsFunction.Action,name:"onSceneUnloading"}),description:o.createElement(r.Trans,{id:"Events that will be run once when a scene is about to be unloaded from memory. The previous scene that was paused will be resumed after this."})}))),o.createElement(C.b,{justifyContent:"center",alignItems:"center"},T?o.createElement(i.a,{icon:o.createElement(y.a,null),primary:!1,onClick:()=>S(!1),label:o.createElement(r.Trans,{id:"Hide lifecycle functions (advanced)"})}):o.createElement(i.a,{icon:o.createElement(E.a,null),primary:!1,onClick:()=>S(!0),label:o.createElement(r.Trans,{id:"Show lifecycle functions (advanced)"})})))}}).call(this,n(1))},1827:function(e,t,n){"use strict";var a=n(87),r=n(71),o=n(4),i=n(73),s=n(81),l=n(1828),c=n.n(l),u=n(115);t.a=o.forwardRef(({initialEditorName:e,editors:t,transitions:n,onEditorChanged:l},d)=>{const h=o.useState(e),m=Object(a.a)(h,2),p=m[0],g=m[1];o.useImperativeHandle(d,()=>({openEditor:e=>{g(e)}})),o.useEffect(()=>{l(p)},[p,l]);const b=n[p];let f="space-between";return b&&(b.previousEditor&&!b.nextEditor&&(f="flex-start"),!b.previousEditor&&b.nextEditor&&(f="flex-end")),o.createElement(i.a,{noMargin:!0,expand:!0},b&&o.createElement(u.a,{maxWidth:!0,noExpand:!0,noFullHeight:!0},o.createElement(i.a,null,o.createElement(i.b,{justifyContent:f},b.previousEditor&&o.createElement(s.a,{label:o.createElement(r.Trans,{id:"Back"}),onClick:()=>{b.previousEditor&&g(b.previousEditor)},icon:o.createElement(c.a,null)}),b.nextLabel&&b.nextEditor&&o.createElement(s.a,{label:b.nextLabel,onClick:()=>{b.nextEditor&&g(b.nextEditor)},icon:b.nextIcon})))),t[p]?t[p].renderEditor():null)})},1829:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(115),i=n(73),s=n(80),l=n(83),c=n(81);t.a=e=>{const t=e.eventsFunctionsExtension.getEventsFunctionsCount(),n=e.eventsFunctionsExtension.getEventsBasedBehaviors().getCount();return r.createElement(a.I18n,null,({i18n:u})=>r.createElement(o.a,null,r.createElement(i.a,null,r.createElement(s.a,null,r.createElement(a.Trans,{id:"Extensions can provide functions (which can be actions, conditions or expressions) or new behaviors."})),r.createElement(l.a,{label:u._({id:"Edit functions (not attached to behaviors) ({eventsFunctionsCount})",values:{eventsFunctionsCount:t}}),onClick:e.onEditFreeFunctions,primary:!0}),r.createElement(i.c,null),r.createElement(l.a,{label:u._({id:"Edit behaviors ({eventsBasedBehaviorsCount})",values:{eventsBasedBehaviorsCount:n}}),onClick:e.onEditBehaviors,primary:!0}),r.createElement(i.c,null),r.createElement(c.a,{label:r.createElement(a.Trans,{id:"Edit extension options"}),onClick:e.onEditExtensionOptions}))))}},1835:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(568),r=n.n(a),o=n(189),i=n(402),s=n(104),l=n(863),c=n(1836);const u=e.gd;class d{constructor({project:e,layout:t,layer:n,viewPosition:a,instances:d,onInstanceClicked:h,onInstanceDoubleClicked:m,onOverInstance:p,onOutInstance:g,onMoveInstance:b,onMoveInstanceEnd:f,onDownInstance:E}){this.getInstanceLeft=e=>e.getX()-(this.renderedInstances[e.ptr]?this.renderedInstances[e.ptr].getOriginX():0),this.getInstanceTop=e=>e.getY()-(this.renderedInstances[e.ptr]?this.renderedInstances[e.ptr].getOriginY():0),this.getInstanceWidth=e=>e.hasCustomSize()?e.getCustomWidth():this.renderedInstances[e.ptr]?this.renderedInstances[e.ptr].getDefaultWidth():0,this.getInstanceHeight=e=>e.hasCustomSize()?e.getCustomHeight():this.renderedInstances[e.ptr]?this.renderedInstances[e.ptr].getDefaultHeight():0,this.getRendererOfInstance=e=>{var t=this.renderedInstances[e.ptr];if(void 0===t){const n=e.getObjectName(),a=Object(i.a)(this.project,this.layout,n);if(!a)return;(t=this.renderedInstances[e.ptr]=o.a.createNewInstanceRenderer(this.project,this.layout,e,a,this.pixiContainer))._pixiObject.interactive=!0,r.a.panable(t._pixiObject),Object(c.a)(t._pixiObject),t._pixiObject.on("click",()=>{this.onInstanceClicked(e)}),t._pixiObject.on("doubleclick",()=>{this.onInstanceDoubleClicked(e)}),t._pixiObject.on("mouseover",()=>{this.onOverInstance(e)}),t._pixiObject.on("mousedown",()=>{this.onDownInstance(e)}),t._pixiObject.on("touchstart",t=>{Object(l.b)(t.data&&t.data.originalEvent)||this.onDownInstance(e)}),t._pixiObject.on("mouseout",()=>{this.onOutInstance(e)}),t._pixiObject.on("panmove",t=>{Object(l.b)(t.data&&t.data.originalEvent)||this.onMoveInstance(e,t.deltaX,t.deltaY)}),t._pixiObject.on("panend",e=>{this.onMoveInstanceEnd()})}return t},this.project=e,this.instances=d,this.layout=t,this.layer=n,this.viewPosition=a,this.onInstanceClicked=h,this.onInstanceDoubleClicked=m,this.onOverInstance=p,this.onOutInstance=g,this.onMoveInstance=b,this.onMoveInstanceEnd=f,this.onDownInstance=E,this.viewTopLeft=[0,0],this.viewBottomRight=[0,0],this.renderedInstances={},this.pixiContainer=new s.Container,this.instancesRenderer=new u.InitialInstanceJSFunctor,this.instancesRenderer.invoke=e=>{const t=u.wrapPointer(e,u.InitialInstance);var n=this.getRendererOfInstance(t);if(!n)return;const a=n.getPixiObject();a&&(a.zOrder=t.getZOrder()),a&&(a.interactive=!t.isLocked());const r=this._isInstanceVisible(t);a&&(a.visible=r),r&&n.update(),n.wasUsed=!0}}getPixiContainer(){return this.pixiContainer}_isInstanceVisible(e){const t=this.getInstanceLeft(e),n=this.getInstanceTop(e);return!(t+this.getInstanceWidth(e)<this.viewTopLeft[0]||n+this.getInstanceHeight(e)<this.viewTopLeft[1]||t>this.viewBottomRight[0]||n>this.viewBottomRight[1])}_computeViewBounds(){this.viewTopLeft=this.viewPosition.toSceneCoordinates(-100,-100),this.viewBottomRight=this.viewPosition.toSceneCoordinates(this.viewPosition.getWidth()+100,this.viewPosition.getHeight()+100)}render(){this._computeViewBounds(),this.instances.iterateOverInstancesWithZOrdering(this.instancesRenderer,this.layer.getName()),this._updatePixiObjectsZOrder(),this._updateVisibility(),this._cleanRenderers()}_updatePixiObjectsZOrder(){this.pixiContainer.children.sort((e,t)=>(e.zOrder=e.zOrder||0,t.zOrder=t.zOrder||0,e.zOrder-t.zOrder))}_updateVisibility(){this.pixiContainer.visible=this.layer.getVisibility()}resetRenderersFor(e){for(let t in this.renderedInstances)if(this.renderedInstances.hasOwnProperty(t)){const n=this.renderedInstances[t];n.getInstance().getObjectName()===e&&(n.instanceRemovedFromScene(),delete this.renderedInstances[t])}}_cleanRenderers(){for(let e in this.renderedInstances)if(this.renderedInstances.hasOwnProperty(e)){const t=this.renderedInstances[e];t.wasUsed?t.wasUsed=!1:(t.instanceRemovedFromScene(),delete this.renderedInstances[e])}}delete(){this.instancesRenderer.delete()}}}).call(this,n(1))},1836:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(104);const a=e=>{let t=0,n=0,a=0;const r=r=>{const o=r.data.global,i=o.x,s=o.y,l=Date.now();l-t<500&&Math.abs(i-n)<=10&&Math.abs(s-a)<=10&&setTimeout(()=>{e.emit("doubleclick",r)}),t=l,n=i,a=s};e.interactive=!0,e.on("click",r),e.on("touchend",r)}},1837:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(104);const r=e.gd;class o{constructor({instances:e,instanceMeasurer:t,toSceneCoordinates:n,toCanvasCoordinates:o}){this.startSelectionRectangle=(e,t)=>{this.selectionRectangleStart={x:e,y:t},this.selectionRectangleEnd={x:e,y:t}},this.updateSelectionRectangle=(e,t)=>{this.selectionRectangleStart||(this.selectionRectangleStart={x:e,y:t}),this.selectionRectangleEnd={x:e,y:t}},this.endSelectionRectangle=()=>{if(!this.selectionRectangleStart)return[];if(this._instancesInSelectionRectangle.length=0,this.selectionRectangleStart.x>this.selectionRectangleEnd.x){const e=this.selectionRectangleStart.x;this.selectionRectangleStart.x=this.selectionRectangleEnd.x,this.selectionRectangleEnd.x=e}if(this.selectionRectangleStart.y>this.selectionRectangleEnd.y){const e=this.selectionRectangleStart.y;this.selectionRectangleStart.y=this.selectionRectangleEnd.y,this.selectionRectangleEnd.y=e}return this.instances.iterateOverInstances(this.selector),this.selectionRectangleStart=null,this._instancesInSelectionRectangle},this.instances=e,this.instanceMeasurer=t,this.toSceneCoordinates=n,this.pixiRectangle=new a.Graphics,this.pixiRectangle.hitArea=new a.Rectangle(0,0,0,0),this.selectionRectangleStart=null,this.selectionRectangleEnd=null,this._instancesInSelectionRectangle=[],this.selector=new r.InitialInstanceJSFunctor,this.selector.invoke=e=>{const t=r.wrapPointer(e,r.InitialInstance),a=this.instanceMeasurer.getInstanceLeft(t),o=this.instanceMeasurer.getInstanceTop(t),i=this.instanceMeasurer.getInstanceHeight(t),s=this.instanceMeasurer.getInstanceWidth(t);if(!this.selectionRectangleStart||!this.selectionRectangleEnd)return;const l=n(this.selectionRectangleStart.x,this.selectionRectangleStart.y),c=n(this.selectionRectangleEnd.x,this.selectionRectangleEnd.y);l[0]<=a&&a+s<=c[0]&&l[1]<=o&&o+i<=c[1]&&this._instancesInSelectionRectangle.push(t)}}hasStartedSelectionRectangle(){return this.selectionRectangleStart}getPixiObject(){return this.pixiRectangle}render(){if(!this.selectionRectangleStart)return void(this.pixiRectangle.visible=!1);let e=this.selectionRectangleStart.x,t=this.selectionRectangleStart.y,n=this.selectionRectangleEnd.x,a=this.selectionRectangleEnd.y;this.pixiRectangle.visible=!0,this.pixiRectangle.clear(),this.pixiRectangle.beginFill(6842600),this.pixiRectangle.lineStyle(1,6842600,1),this.pixiRectangle.fill.alpha=.1,this.pixiRectangle.alpha=.8,this.pixiRectangle.drawRect(Math.min(e,n),Math.min(t,a),Math.abs(n-e),Math.abs(a-t)),this.pixiRectangle.endFill()}delete(){this.selector.delete()}}}).call(this,n(1))},1838:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(864);const r=e.gd,o=(e,t)=>{const n=e;return t.grid&&t.snap?(n[0]=Object(a.a)(n[0],t.gridWidth,t.gridOffsetX),n[1]=Object(a.a)(n[1],t.gridHeight,t.gridOffsetY)):(n[0]=Math.round(n[0]),n[1]=Math.round(n[1])),n};class i{constructor({instances:e,options:t}){this._zOrderFinder=new r.HighestZOrderFinder,this.addInstances=(e,t)=>{this._instances.iterateOverInstances(this._zOrderFinder);const n=this._zOrderFinder.getHighestZOrder()+1,a=o(e,this._options);return t.map(e=>{const t=this._instances.insertNewInitialInstance();return t.setObjectName(e),t.setX(a[0]),t.setY(a[1]),t.setZOrder(n),t})},this.createOrUpdateTemporaryInstancesFromObjectNames=(e,t)=>{t.length&&(this._temporaryInstances.length?this.updateTemporaryInstancePositions(e):this._createTemporaryInstancesFromObjectNames(e,t))},this._createTemporaryInstancesFromObjectNames=(e,t)=>{this.deleteTemporaryInstances(),this._instances.iterateOverInstances(this._zOrderFinder);const n=this._zOrderFinder.getHighestZOrder()+1,a=o(e,this._options);this._temporaryInstances=t.map(e=>{const t=this._instances.insertNewInitialInstance();return t.setObjectName(e),t.setX(a[0]),t.setY(a[1]),t.setZOrder(n),t})},this.updateTemporaryInstancePositions=e=>{const t=o(e,this._options);return this._temporaryInstances.forEach(e=>{e.setX(Math.round(t[0])),e.setY(Math.round(t[1]))}),this._temporaryInstances},this._instances=e,this._options=t,this._temporaryInstances=[]}setOptions(e){this._options=e}deleteTemporaryInstances(){this._temporaryInstances.forEach(e=>{this._instances.removeInstance(e)}),this._temporaryInstances=[]}commitTemporaryInstances(){this._temporaryInstances=[]}unmount(){this._zOrderFinder.delete()}}}).call(this,n(1))},1839:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(71),r=n(4),o=n(115),i=n(865),s=n(92),l=n(232),c=n(264),u=n(641),d=n(402),h=n(95),m=n(73),p=n(309),g=n.n(p),b=n(80),f=n(151);class E extends r.Component{constructor(...e){super(...e),this._instanceVariablesList=r.createRef(),this.schema=[{name:this.props.i18n._({id:"Object name"}),valueType:"string",disabled:!0,getValue:e=>e.getObjectName(),setValue:(e,t)=>e.setObjectName(t),onEditButtonClick:e=>this.props.onEditObjectByName(e.getObjectName())},{name:this.props.i18n._({id:"Position"}),type:"row",children:[{name:this.props.i18n._({id:"X"}),valueType:"number",getValue:e=>e.getX(),setValue:(e,t)=>e.setX(t)},{name:this.props.i18n._({id:"Y"}),valueType:"number",getValue:e=>e.getY(),setValue:(e,t)=>e.setY(t)}]},{name:this.props.i18n._({id:"Angle"}),valueType:"number",getValue:e=>e.getAngle(),setValue:(e,t)=>e.setAngle(t)},{name:this.props.i18n._({id:"Lock position/angle in the editor"}),valueType:"boolean",getValue:e=>e.isLocked(),setValue:(e,t)=>e.setLocked(t)},{name:this.props.i18n._({id:"Z Order"}),valueType:"number",getValue:e=>e.getZOrder(),setValue:(e,t)=>e.setZOrder(t)},{name:this.props.i18n._({id:"Layer"}),valueType:"string",getChoices:()=>Object(i.a)(this.props.layout),getValue:e=>e.getLayer(),setValue:(e,t)=>e.setLayer(t)},{name:this.props.i18n._({id:"Custom size?"}),valueType:"boolean",getValue:e=>e.hasCustomSize(),setValue:(e,t)=>e.setHasCustomSize(t)},{name:this.props.i18n._({id:"Custom size"}),type:"row",children:[{name:this.props.i18n._({id:"Width"}),valueType:"number",getValue:e=>e.getCustomWidth(),setValue:(e,t)=>e.setCustomWidth(t)},{name:this.props.i18n._({id:"Height"}),valueType:"number",getValue:e=>e.getCustomHeight(),setValue:(e,t)=>e.setCustomHeight(t)}]}]}_renderEmpty(){return r.createElement(s.a,null,r.createElement(a.Trans,{id:"Click on an instance in the scene to display its properties"}))}_renderInstancesProperties(){const e=this.props,t=e.project,n=e.layout,o=e.instances,i=o[0],s=i.getObjectName(),p=Object(d.a)(t,n,s),E=i.getCustomProperties(t,n),v=Object(c.a)(E,e=>e.getCustomProperties(t,n),(e,a,r)=>e.updateCustomProperty(a,r,t,n));return r.createElement(f.a,{autoHideScrollbar:!0,key:o.map(e=>""+e.ptr).join(";")},r.createElement(m.b,null,r.createElement(m.a,{expand:!0,noMargin:!0},r.createElement(m.a,null,r.createElement(l.a,{unsavedChanges:this.props.unsavedChanges,schema:this.schema.concat(v),instances:o}),r.createElement(m.b,{alignItems:"center",justifyContent:"space-between"},r.createElement(b.a,null,r.createElement(a.Trans,{id:"Instance Variables"})),r.createElement(h.a,{onClick:()=>{this.props.editInstanceVariables(i)}},r.createElement(g.a,null)))),r.createElement(u.a,{inheritedVariablesContainer:p?p.getVariables():null,variablesContainer:i.getVariables(),ref:this._instanceVariablesList}))))}render(){const e=this.props.instances;return r.createElement(o.a,null,e&&e.length?this._renderInstancesProperties():this._renderEmpty())}}},1840:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(71),r=n(4),o=n.n(r),i=n(194),s=n(97),l=n(139);const c=e.gd,u={container:{flex:1,display:"flex",flexDirection:"column",alignItems:"stretch"}};class d extends r.Component{constructor(...e){super(...e),this.state={searchText:""},this.renderedRows=[],this._searchBar=o.a.createRef(),this._onRowClick=({index:e})=>{this.renderedRows[e]&&this.props.onSelectInstances([this.renderedRows[e].instance])},this._rowGetter=({index:e})=>this.renderedRows[e],this._rowClassName=({index:e})=>{if(e<0)return"tableHeaderRow";{const t=this.renderedRows[e];return t&&-1!==this.props.selectedInstances.indexOf(t.instance)?"tableSelectedRow":e%2===0?"tableEvenRow":"tableOddRow"}},this._selectFirstInstance=()=>{this.renderedRows.length&&this.props.onSelectInstances([this.renderedRows[0].instance])}}componentDidMount(){Object(l.b)()&&this._searchBar.current&&this._searchBar.current.focus()}componentWillMount(){this.instanceRowRenderer=new c.InitialInstanceJSFunctor,this.instanceRowRenderer.invoke=e=>{const t=this.state.searchText,n=c.wrapPointer(e,c.InitialInstance),a=n.getObjectName();t&&-1===a.toLowerCase().indexOf(t.toLowerCase())||this.renderedRows.push({instance:n,name:a,locked:n.isLocked()?"\ud83d\udd12":"",x:n.getX().toFixed(2),y:n.getY().toFixed(2),angle:n.getAngle().toFixed(2),layer:n.getLayer(),zOrder:n.getZOrder()})}}componentWillUnmount(){this.instanceRowRenderer&&this.instanceRowRenderer.delete()}render(){const e=this.state.searchText,t=this.props.instances;if(!this.instanceRowRenderer)return null;this.renderedRows.length=0,t.iterateOverInstances(this.instanceRowRenderer);const n=t.ptr;return o.a.createElement(s.a,null,t=>o.a.createElement("div",{style:u.container},o.a.createElement("div",{style:{flex:1}},o.a.createElement(i.a,null,({height:e,width:r})=>o.a.createElement(i.e,{ref:e=>this.table=e,key:n,headerHeight:30,height:e,className:"gd-table ".concat(t.tableRootClassName),headerClassName:"tableHeaderColumn",rowCount:this.renderedRows.length,rowGetter:this._rowGetter,rowHeight:32,onRowClick:this._onRowClick,rowClassName:this._rowClassName,width:r},o.a.createElement(i.b,{label:o.a.createElement(a.Trans,{id:"Object name"}),dataKey:"name",width:.35*r,className:"tableColumn"}),o.a.createElement(i.b,{label:"",dataKey:"locked",width:.05*r,className:"tableColumn"}),o.a.createElement(i.b,{label:o.a.createElement(a.Trans,{id:"X"}),dataKey:"x",width:.1*r,className:"tableColumn"}),o.a.createElement(i.b,{label:o.a.createElement(a.Trans,{id:"Y"}),dataKey:"y",width:.1*r,className:"tableColumn"}),o.a.createElement(i.b,{label:o.a.createElement(a.Trans,{id:"Angle"}),dataKey:"angle",width:.1*r,className:"tableColumn"}),o.a.createElement(i.b,{label:o.a.createElement(a.Trans,{id:"Layer"}),dataKey:"layer",width:.2*r,className:"tableColumn"}),o.a.createElement(i.b,{label:o.a.createElement(a.Trans,{id:"Z Order"}),dataKey:"zOrder",width:.1*r,className:"tableColumn"})))),o.a.createElement(l.a,{value:e,onChange:e=>this.setState({searchText:e}),onRequestSearch:this._selectFirstInstance,ref:this._searchBar})))}}}).call(this,n(1))},1844:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(71),r=n(4),o=n.n(r),i=n(81),s=n(84),l=n(111),c=n(112),u=n(80),d=n(865);class h extends r.Component{constructor(e){super(e),this.state={selectedLayer:""}}componentWillReceiveProps(e){!this.props.open&&e.open&&this.setState({selectedLayer:""})}render(){if(!this.props.layersContainer||!this.props.open)return null;const e=[o.a.createElement(i.a,{key:"cancel",label:o.a.createElement(a.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:()=>this.props.onClose(!1)}),o.a.createElement(i.a,{key:"remove",label:o.a.createElement(a.Trans,{id:"Remove objects"}),onClick:()=>this.props.onClose(!0,null)}),o.a.createElement(i.a,{key:"move",label:o.a.createElement(a.Trans,{id:"Move objects"}),primary:!0,onClick:()=>this.props.onClose(!0,this.state.selectedLayer)})],t=Object(d.a)(this.props.layersContainer).filter(({value:e})=>e!==this.props.layerRemoved).map(({value:e,label:t})=>o.a.createElement(c.a,{key:e,value:e,primaryText:t}));return o.a.createElement(s.a,{title:o.a.createElement(a.Trans,{id:"Objects on {0}",values:{0:this.props.layerRemoved}}),actions:e,cannotBeDismissed:!1,open:this.props.open,onRequestClose:this.props.onCancel},o.a.createElement(u.a,null,o.a.createElement(a.Trans,{id:"Move objects on layer {0} to:",values:{0:this.props.layerRemoved}})),o.a.createElement(l.a,{value:this.state.selectedLayer,onChange:(e,t,n)=>{this.setState({selectedLayer:n})}},t))}}},1845:function(e,t,n){"use strict";(function(e){var a=n(87),r=n(71),o=n(4),i=n.n(o),s=n(81),l=n(84),c=n(259),u=n(88),d=n(258),h=n(311),m=n(169),p=n(80),g=n(168),b=n(476),f=n(106),E=n(153),v=n(2309),y=n(73);const C=e.gd;t.a=e=>{const t=e.initialTab,n=e.layer,o=e.initialInstances,x=e.onClose,j=e.hotReloadPreviewButtonProps,O=Object(g.a)(),T=Object(h.a)({serializableObject:n,onCancel:x}),S=i.a.useState(t),w=Object(a.a)(S,2),k=w[0],N=w[1],_=i.a.useMemo(()=>{const e=new C.HighestZOrderFinder;e.restrictSearchToLayer(n.getName()),o.iterateOverInstances(e);const t=e.getInstancesCount(),a=e.getHighestZOrder();return e.delete(),{instancesCount:t,highestZOrder:a}},[n,o]),P=_.instancesCount,I=_.highestZOrder;return i.a.createElement(l.a,{noMargin:!0,open:!0,title:i.a.createElement(r.Trans,{id:"Edit Layer Properties"}),secondaryActions:[i.a.createElement(f.a,{key:"help",helpPagePath:"/interface/scene-editor/layer-effects"}),i.a.createElement(b.a,Object.assign({key:"hot-reload-preview-button"},j))],actions:[i.a.createElement(s.a,{label:i.a.createElement(r.Trans,{id:"Cancel"}),onClick:T,key:"Cancel"}),i.a.createElement(s.a,{label:i.a.createElement(r.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:x,key:"Apply"})],onRequestClose:T},i.a.createElement(E.b,{value:k,onChange:N},i.a.createElement(E.a,{label:i.a.createElement(r.Trans,{id:"Properties"}),value:"properties"}),i.a.createElement(E.a,{label:i.a.createElement(r.Trans,{id:"Effects"}),value:"effects"})),"properties"===k&&i.a.createElement(u.a,null,n.isLightingLayer()?i.a.createElement(m.a,{kind:"info",identifier:"lighting-layer-usage"},i.a.createElement(r.Trans,{id:"The lighting layer renders an ambient light on the scene. All lights should be placed on this layer so that shadows are properly rendered. By default, the layer follows the base layer camera. Uncheck this if you want to manually move the camera using events."})):null,i.a.createElement(p.a,null,"There are ",P," instances of objects on this layer."),!e.project.getUseDeprecatedZeroAsDefaultZOrder()&&i.a.createElement(p.a,null,'Objects created using events on this layer will be given a "Z order" of ',I+1,", so that they appear in front of all objects of this layer. You can change this using the action to change an object Z order, after using an action to create it."),i.a.createElement(d.a,{label:i.a.createElement(r.Trans,{id:"Layer visible"}),checked:n.getVisibility(),onCheck:(e,t)=>{n.setVisibility(t),O()}}),n.isLightingLayer()?i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{size:"title"},i.a.createElement(r.Trans,{id:"Lighting settings"})),i.a.createElement(d.a,{label:i.a.createElement(r.Trans,{id:"Automatically follow the base layer."}),checked:n.isFollowingBaseLayerCamera(),onCheck:(e,t)=>{n.setFollowBaseLayerCamera(t),O()}}),i.a.createElement(c.a,{fullWidth:!0,floatingLabelText:i.a.createElement(r.Trans,{id:"Ambient light color"}),disableAlpha:!0,color:{r:n.getAmbientLightColorRed(),g:n.getAmbientLightColorGreen(),b:n.getAmbientLightColorBlue()},onChange:e=>{n.setAmbientLightColor(e.rgb.r,e.rgb.g,e.rgb.b),O()}})):i.a.createElement(i.a.Fragment,null,i.a.createElement(y.c,null),i.a.createElement(y.c,null))),"effects"===k&&i.a.createElement(v.a,{project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,effectsContainer:n,onEffectsUpdated:O}))}}).call(this,n(1))},1846:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(87),r=n(71),o=n(4),i=n.n(o),s=n(81),l=n(421),c=n(84),u=n(106),d=n(1874),h=n(153),m=n(311),p=n(102),g=n(73),b=n(168),f=n(476);const E=e=>{const t=i.a.useState("properties"),n=Object(a.a)(t,2),o=n[0],l=n[1],E=i.a.useState(e.objectName),v=Object(a.a)(E,2),y=v[0],C=v[1],x=Object(b.a)(),j=Object(m.a)({serializableObject:e.object,useProjectToUnserialize:e.project,onCancel:e.onCancel}),O=e.editorComponent;return i.a.createElement(c.a,{key:e.object&&e.object.ptr,secondaryActions:[i.a.createElement(u.a,{key:"help-button",helpPagePath:e.helpPagePath}),i.a.createElement(f.a,Object.assign({key:"hot-reload-preview-button"},e.hotReloadPreviewButtonProps))],actions:[i.a.createElement(s.a,{key:"cancel",label:i.a.createElement(r.Trans,{id:"Cancel"}),onClick:j}),i.a.createElement(s.a,{key:"apply",label:i.a.createElement(r.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:()=>{e.onApply(),e.onRename(y)}})],noMargin:!0,onRequestClose:j,cannotBeDismissed:!0,open:e.open,noTitleMargin:!0,title:i.a.createElement("div",null,i.a.createElement(h.b,{value:o,onChange:l},i.a.createElement(h.a,{label:i.a.createElement(r.Trans,{id:"Properties"}),value:"properties",key:"properties"}),i.a.createElement(h.a,{label:i.a.createElement(r.Trans,{id:"Behaviors"}),value:"behaviors",key:"behaviors"})))},i.a.createElement(g.b,null,i.a.createElement(g.a,{expand:!0},i.a.createElement(p.a,{fullWidth:!0,commitOnBlur:!0,floatingLabelText:i.a.createElement(r.Trans,{id:"Object name"}),floatingLabelFixed:!0,value:y,hintText:{id:"Object Name"},onChange:t=>{t!==y&&e.canRenameObject(t)&&C(t)}}))),"properties"===o&&O&&i.a.createElement(O,{object:e.object,project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,onSizeUpdated:x,objectName:e.objectName}),"behaviors"===o&&i.a.createElement(d.a,{object:e.object,project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,onSizeUpdated:x,onUpdateBehaviorsSharedData:e.onUpdateBehaviorsSharedData}))};class v extends o.Component{constructor(...e){super(...e),this.state={editorComponent:null,castToObjectType:null,helpPagePath:null,objectName:""}}componentWillMount(){this._loadFrom(this.props.object)}componentWillReceiveProps(e){(!this.props.open&&e.open||e.open&&this.props.object!==e.object)&&this._loadFrom(e.object)}_loadFrom(e){if(!e)return;const t=l.a.getEditorConfiguration(e.getType());if(!t)return this.setState({editorComponent:null,castToObjectType:null});this.setState({editorComponent:t.component,helpPagePath:t.helpPagePath,castToObjectType:t.castToObjectType,objectName:e.getName()})}render(){const e=this.props.object,t=this.state,n=t.editorComponent,a=t.castToObjectType,r=t.helpPagePath;return e&&a?i.a.createElement(E,Object.assign({},this.props,{editorComponent:n,key:this.props.object&&this.props.object.ptr,helpPagePath:r,object:a(e),objectName:this.state.objectName})):null}}},1847:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a=n(77),r=n(71),o=n(4),i=n(161),s=n(73),l=n(316),c=n(190),u=n(248),d=n(114),h=n(102);const m=e.gd,p={marginRight:10},g={sizeTextField:Object(a.a)({width:90},p),resourcesSelector:{alignSelf:"center"},toolbarItem:p,checkbox:p};class b extends o.Component{render(){const e=this.props,t=e.object,n=e.project,a=e.resourceSources,p=e.onChooseResource,b=e.resourceExternalEditors,f=m.asTextObject(t);return o.createElement(s.a,{noMargin:!0},o.createElement(c.b,null,o.createElement(c.a,null,o.createElement(r.Trans,{id:"Size:"})),o.createElement(h.a,{commitOnBlur:!0,type:"number",margin:"none",style:g.sizeTextField,value:f.getCharacterSize(),onChange:e=>{f.setCharacterSize(parseInt(e,10)||0),this.forceUpdate()}}),o.createElement(c.a,null,o.createElement(r.Trans,{id:"Color:"})),o.createElement(l.a,{style:g.toolbarItem,disableAlpha:!0,color:{r:f.getColorR(),g:f.getColorG(),b:f.getColorB(),a:255},onChangeComplete:e=>{f.setColor(e.rgb.r,e.rgb.g,e.rgb.b),this.forceUpdate()}}),o.createElement(i.a,{label:o.createElement(r.Trans,{id:"Bold"}),checked:f.isBold(),onCheck:(e,t)=>{f.setBold(t),this.forceUpdate()},style:g.checkbox}),o.createElement(i.a,{label:o.createElement(r.Trans,{id:"Italic"}),checked:f.isItalic(),onCheck:(e,t)=>{f.setItalic(t),this.forceUpdate()},style:g.checkbox}),o.createElement(c.a,null,o.createElement(r.Trans,{id:"Font:"})),o.createElement(u.a,{margin:"none",project:n,resourceSources:a,onChooseResource:p,resourceExternalEditors:b,resourcesLoader:d.a,resourceKind:"font",fullWidth:!0,canBeReset:!0,initialResourceName:f.getFontName(),onChange:e=>{f.setFontName(e),this.forceUpdate()},hintText:o.createElement(r.Trans,{id:"Choose a font"}),style:g.resourcesSelector})),o.createElement(s.b,{noMargin:!0},o.createElement(s.a,{expand:!0},o.createElement(s.b,null,o.createElement(h.a,{floatingLabelText:o.createElement(r.Trans,{id:"Initial text to display"}),floatingLabelFixed:!0,commitOnBlur:!0,hintText:{id:"Enter the text to be displayed by the object"},fullWidth:!0,multiline:!0,rows:8,rowsMax:8,value:f.getString(),onChange:e=>{f.setString(e),this.forceUpdate(),this.props.onSizeUpdated()}})))))}}}).call(this,n(1))},1848:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a=n(71),r=n(4),o=n(102),i=n(431),s=n(88);const l=e.gd;class c extends r.Component{render(){const e=this.props,t=e.object,n=e.project,c=e.resourceSources,u=e.onChooseResource,d=e.resourceExternalEditors,h=l.asTiledSpriteObject(t);return r.createElement(s.a,null,r.createElement(i.a,{project:n,resourceSources:c,onChooseResource:u,resourceKind:"image",resourceName:h.getTexture(),resourceExternalEditors:d,onChange:e=>{h.setTexture(e),this.forceUpdate()},floatingLabelText:r.createElement(a.Trans,{id:"Select an image"})}),r.createElement(s.b,{noMargin:!0},r.createElement(o.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Default width (in pixels)"}),fullWidth:!0,type:"number",value:h.getWidth(),onChange:e=>{h.setWidth(parseInt(e,10)||0),this.forceUpdate()}}),r.createElement(o.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Default height (in pixels)"}),fullWidth:!0,type:"number",value:h.getHeight(),onChange:e=>{h.setHeight(parseInt(e,10)||0),this.forceUpdate()}})))}}}).call(this,n(1))},1849:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a=n(71),r=n(4),o=n(161),i=n(431),s=n(102),l=n(88);const c=e.gd;class u extends r.Component{render(){const e=this.props,t=e.object,n=e.project,u=e.resourceSources,d=e.onChooseResource,h=e.resourceExternalEditors,m=c.asPanelSpriteObject(t);return r.createElement(l.a,null,r.createElement(i.a,{project:n,resourceSources:u,onChooseResource:d,resourceExternalEditors:h,resourceKind:"image",resourceName:m.getTexture(),onChange:e=>{m.setTexture(e),this.forceUpdate()},floatingLabelText:r.createElement(a.Trans,{id:"Select an image"})}),r.createElement(o.a,{label:r.createElement(a.Trans,{id:"Repeat borders and center textures (instead of stretching them)"}),checked:m.isTiled(),onCheck:(e,t)=>{m.setTiled(t),this.forceUpdate()}}),r.createElement(l.b,{noMargin:!0},r.createElement(s.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Top margin"}),fullWidth:!0,type:"number",value:m.getTopMargin(),onChange:e=>{m.setTopMargin(parseInt(e,10)||0),this.forceUpdate()}}),r.createElement(s.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Bottom margin"}),fullWidth:!0,type:"number",value:m.getBottomMargin(),onChange:e=>{m.setBottomMargin(parseInt(e,10)||0),this.forceUpdate()}})),r.createElement(l.b,{noMargin:!0},r.createElement(s.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Left margin"}),fullWidth:!0,type:"number",value:m.getLeftMargin(),onChange:e=>{m.setLeftMargin(parseInt(e,10)||0),this.forceUpdate()}}),r.createElement(s.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Right margin"}),fullWidth:!0,type:"number",value:m.getRightMargin(),onChange:e=>{m.setRightMargin(parseInt(e,10)||0),this.forceUpdate()}})),r.createElement(l.b,{noMargin:!0},r.createElement(s.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Default width (in pixels)"}),fullWidth:!0,type:"number",value:m.getWidth(),onChange:e=>{m.setWidth(parseInt(e,10)||0),this.forceUpdate()}}),r.createElement(s.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Default height (in pixels)"}),fullWidth:!0,type:"number",value:m.getHeight(),onChange:e=>{m.setHeight(parseInt(e,10)||0),this.forceUpdate()}})))}}}).call(this,n(1))},1850:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return A}));var a=n(77),r=n(71),o=n(4),i=n(214),s=n(1851),l=n(147),c=n.n(l),u=n(181),d=n.n(u),h=n(95),m=n(81),p=n(83),g=n(86),b=n(102),f=n(84),E=n(106),v=n(92),y=n(190),C=n(360),x=n(340),j=n(22),O=n(114),T=n(1858),S=n(1863),w=n(5),k=n(335),N=n(73),_=n(88);const P=e.gd,I={gridList:{overflowY:"auto"},animationTitle:{flex:1},animationTools:{flexShrink:0}},B=({onAdd:e,extraTools:t})=>o.createElement(N.a,{expand:!0},o.createElement(N.b,{justifyContent:"space-between"},t,o.createElement(p.a,{label:o.createElement(r.Trans,{id:"Add an animation"}),primary:!0,onClick:e,icon:o.createElement(c.a,null)})));class R extends o.Component{render(){const e=this.props,t=e.animation,n=e.id,a=e.project,r=e.resourceSources,i=e.onRemove,l=e.onChooseResource,c=e.resourceExternalEditors,u=e.resourcesLoader,m=e.onSpriteContextMenu,p=e.selectedSprites,f=e.onSelectSprite,E=e.onReplaceDirection,v=e.objectName,x=e.onChangeName,j=t.getName();return o.createElement("div",null,o.createElement(y.b,null,o.createElement(C.a,null),o.createElement(y.a,null,"Animation #",n," "),o.createElement(N.a,{expand:!0,margin:!0},o.createElement(b.a,{commitOnBlur:!0,margin:"none",value:t.getName(),hintText:{id:"Optional animation name"},onChange:e=>x(e),fullWidth:!0})),o.createElement(h.a,{onClick:i},o.createElement(d.a,null))),Object(g.mapFor)(0,t.getDirectionsCount(),e=>{const n=t.getDirection(e);return o.createElement(s.a,{direction:n,key:e,project:a,resourcesLoader:u,resourceSources:r,onChooseResource:l,resourceExternalEditors:c,onSpriteContextMenu:m,selectedSprites:p,onSelectSprite:f,onReplaceByDirection:t=>E(e,t),objectName:v,animationName:j,onChangeName:x})}))}}const M=Object(i.SortableElement)(R),F=Object(i.SortableContainer)(({spriteObject:e,objectName:t,onAddAnimation:n,onRemoveAnimation:a,onChangeAnimationName:r,project:i,resourcesLoader:s,resourceSources:l,onChooseResource:c,resourceExternalEditors:u,extraBottomTools:d,onSpriteContextMenu:h,selectedSprites:m,onSelectSprite:p,onReplaceDirection:b})=>o.createElement("div",{style:I.gridList},[...Object(g.mapFor)(0,e.getAnimationsCount(),n=>{const d=e.getAnimation(n);return o.createElement(M,{key:n,index:n,id:n,animation:d,project:i,resourcesLoader:s,resourceSources:l,onChooseResource:c,resourceExternalEditors:u,onRemove:()=>a(n),onChangeName:e=>r(n,e),onSpriteContextMenu:h,selectedSprites:m,onSelectSprite:p,onReplaceDirection:(e,t)=>b(n,e,t),objectName:t})}),o.createElement(B,{onAdd:n,key:"add-animation-line",disabled:!0,index:e.getAnimationsCount(),extraTools:d})]));class L extends o.Component{constructor(...e){super(...e),this.state={selectedSprites:{}},this.onSortEnd=({oldIndex:e,newIndex:t})=>{this.props.spriteObject.moveAnimation(e,t),this.forceUpdate()},this.addAnimation=()=>{const e=new P.Animation;e.setDirectionsCount(1),this.props.spriteObject.addAnimation(e),this.forceUpdate(),this.props.onSizeUpdated()},this.removeAnimation=e=>{w.b.showConfirmDialog("Are you sure you want to remove this animation?")&&(this.props.spriteObject.removeAnimation(e),this.forceUpdate(),this.props.onSizeUpdated())},this.changeAnimationName=(e,t)=>{const n=this.props.spriteObject,a=Object(g.mapFor)(0,n.getAnimationsCount(),t=>t===e?void 0:n.getAnimation(t).getName());""!==t&&a.filter(e=>e===t).length?Object(j.c)("Another animation with this name already exists. Please use another name.",{delayToNextTick:!0}):(n.getAnimation(e).setName(t),this.forceUpdate())},this.deleteSelection=()=>{const e=this.props.spriteObject;Object(g.mapFor)(0,e.getAnimationsCount(),t=>{const n=e.getAnimation(t);Object(k.i)(n,this.state.selectedSprites)}),this.setState({selectedSprites:{}})},this.duplicateSelection=()=>{const e=this.props.spriteObject;Object(g.mapFor)(0,e.getAnimationsCount(),t=>{const n=e.getAnimation(t);Object(k.j)(n,this.state.selectedSprites)}),this.setState({selectedSprites:{}})},this.openSpriteContextMenu=(e,t,n,a)=>{this.selectSprite(n,!0),this.spriteContextMenu&&this.spriteContextMenu.open(e,t)},this.selectSprite=(e,t)=>{this.setState({selectedSprites:Object(a.a)(Object(a.a)({},this.state.selectedSprites),{},{[e.ptr]:t})})},this.replaceDirection=(e,t,n)=>{this.props.spriteObject.getAnimation(e).setDirection(n,t),this.forceUpdate()}}render(){return o.createElement("div",null,0===this.props.spriteObject.getAnimationsCount()&&o.createElement(v.a,null,o.createElement(r.Trans,{id:"This object has no animations containing images. Start by adding an animation."})),o.createElement(F,{spriteObject:this.props.spriteObject,objectName:this.props.objectName,helperClass:"sortable-helper",project:this.props.project,onSortEnd:this.onSortEnd,onAddAnimation:this.addAnimation,onChangeAnimationName:this.changeAnimationName,onRemoveAnimation:this.removeAnimation,onReplaceDirection:this.replaceDirection,onSpriteContextMenu:this.openSpriteContextMenu,selectedSprites:this.state.selectedSprites,onSelectSprite:this.selectSprite,resourcesLoader:this.props.resourcesLoader,resourceSources:this.props.resourceSources,resourceExternalEditors:this.props.resourceExternalEditors,onChooseResource:this.props.onChooseResource,extraBottomTools:this.props.extraBottomTools,useDragHandle:!0,lockAxis:"y",axis:"y"}),o.createElement(x.a,{ref:e=>this.spriteContextMenu=e,buildMenuTemplate:e=>[{label:e._({id:"Delete selection"}),click:()=>this.deleteSelection()},{label:e._({id:"Duplicate selection"}),click:()=>this.duplicateSelection()}]}))}}class A extends o.Component{constructor(e){super(e),this.state={pointsEditorOpen:!1,collisionMasksEditorOpen:!1},this.openPointsEditor=(e=!0)=>{this.setState({pointsEditorOpen:e})},this.openCollisionMasksEditor=(e=!0)=>{this.setState({collisionMasksEditorOpen:e})},this.resourcesLoader=O.a}render(){const e=this.props,t=e.object,n=e.project,a=e.resourceSources,i=e.onChooseResource,s=e.resourceExternalEditors,l=e.onSizeUpdated,c=e.objectName,u=P.asSpriteObject(t);return o.createElement("div",null,o.createElement(L,{spriteObject:u,resourcesLoader:this.resourcesLoader,resourceSources:a,onChooseResource:i,resourceExternalEditors:s,project:n,objectName:c,onSizeUpdated:l,extraBottomTools:o.createElement(_.b,{noMargin:!0},o.createElement(p.a,{label:o.createElement(r.Trans,{id:"Edit hitboxes"}),primary:!1,onClick:()=>this.openCollisionMasksEditor(!0),disabled:0===u.getAnimationsCount()}),o.createElement(p.a,{label:o.createElement(r.Trans,{id:"Edit points"}),primary:!1,onClick:()=>this.openPointsEditor(!0),disabled:0===u.getAnimationsCount()}))}),this.state.pointsEditorOpen&&o.createElement(f.a,{actions:o.createElement(m.a,{label:o.createElement(r.Trans,{id:"Close"}),primary:!0,onClick:()=>this.openPointsEditor(!1)}),secondaryActions:[o.createElement(E.a,{helpPagePath:"/objects/sprite/edit-points",key:"help"})],cannotBeDismissed:!0,noMargin:!0,onRequestClose:()=>this.openPointsEditor(!1),open:this.state.pointsEditorOpen},o.createElement(T.a,{object:u,resourcesLoader:this.resourcesLoader,project:n})),this.state.collisionMasksEditorOpen&&o.createElement(f.a,{actions:o.createElement(m.a,{label:o.createElement(r.Trans,{id:"Close"}),primary:!0,onClick:()=>this.openCollisionMasksEditor(!1)}),secondaryActions:[o.createElement(E.a,{helpPagePath:"/objects/sprite/collision-mask",key:"help"})],noMargin:!0,cannotBeDismissed:!0,onRequestClose:()=>this.openCollisionMasksEditor(!1),open:this.state.collisionMasksEditorOpen},o.createElement(S.a,{object:u,resourcesLoader:this.resourcesLoader,project:n})))}}}).call(this,n(1))},1851:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var a=n(77),r=n(71),o=n(4),i=n.n(o),s=n(214),l=n(86),c=n(147),u=n.n(c),d=n(2303),h=n(190),m=n(742),p=n(335),g=(n(114),n(216)),b=n(81),f=n(97);const E=e.gd,v=n(229),y={spritesList:{whiteSpace:"nowrap",overflowY:"hidden"},thumbnailExtraStyle:{marginRight:10},spriteThumbnailImage:{maxWidth:100,maxHeight:100,verticalAlign:"middle"}},C=Object(s.SortableElement)(({displayHint:e,onAdd:t})=>i.a.createElement(f.a,null,e=>i.a.createElement("div",{style:Object(a.a)(Object(a.a)({},m.b),{},{backgroundColor:e.list.itemsBackgroundColor})},i.a.createElement(b.a,{onClick:t,label:i.a.createElement(r.Trans,{id:"Add"}),icon:i.a.createElement(u.a,null)})))),x=Object(s.SortableElement)(({sprite:e,project:t,resourcesLoader:n,selected:a,onSelect:r,onContextMenu:o})=>i.a.createElement(m.a,{selectable:!0,selected:a,onSelect:r,onContextMenu:o,resourceName:e.getImageName(),resourcesLoader:n,project:t,style:y.thumbnailExtraStyle})),j=Object(s.SortableContainer)(({direction:e,project:t,resourcesLoader:n,onAddSprite:a,selectedSprites:r,onSelectSprite:o,onSpriteContextMenu:s})=>{const c=e.getSpritesCount();return i.a.createElement("div",{style:y.spritesList},[...Object(l.mapFor)(0,c,a=>{const l=e.getSprite(a);return i.a.createElement(x,{sprite:l,key:l.ptr,index:a,selected:!!r[l.ptr],onContextMenu:(e,t)=>s(e,t,l),onSelect:e=>o(l,e),resourcesLoader:n,project:t})}),i.a.createElement(C,{displayHint:!e.getSpritesCount(),key:"add-sprite-button",disabled:!0,index:c,onAdd:a})])}),O=e=>{let t=!1,n=!1;return 0!==e.getSpritesCount()&&(t=Object(p.b)(e.getSprite(0),e),n=Object(p.a)(e.getSprite(0),e)),{allDirectionSpritesHaveSamePoints:t,allDirectionSpritesHaveSameCollisionMasks:n}};class T extends o.Component{constructor(...e){super(...e),this.onSortEnd=({oldIndex:e,newIndex:t})=>{this.props.direction.moveSprite(e,t),this.forceUpdate()},this.onAddSprite=()=>{const e=this.props,t=e.resourceSources,n=e.onChooseResource,a=e.project,r=e.direction;if(!t)return;const o=t.filter(e=>"image"===e.kind);if(!o.length)return;const i=O(r),s=i.allDirectionSpritesHaveSameCollisionMasks,l=i.allDirectionSpritesHaveSamePoints;n(o[0].name).then(e=>{e.forEach(e=>{Object(g.b)(a,e),a.getResourcesManager().addResource(e);const t=new E.Sprite;t.setImageName(e.getName()),l&&Object(p.g)(r.getSprite(0),t),s&&Object(p.h)(r.getSprite(0),t),r.addSprite(t)}),e.forEach(e=>e.delete()),this.forceUpdate()})},this.editWith=e=>{const t=this.props,n=t.project,a=t.direction,r=t.resourcesLoader,o=t.onReplaceByDirection,i=t.onChangeName,s=t.objectName,c=t.animationName,u=Object(l.mapFor)(0,a.getSpritesCount(),e=>a.getSprite(e).getImageName()),d=O(a),h=d.allDirectionSpritesHaveSameCollisionMasks,m=d.allDirectionSpritesHaveSamePoints;let g={};const b=a.getMetadata();if(b)try{g=JSON.parse(b)}catch(f){console.error("Malformed metadata",f)}e.edit({project:n,resourcesLoader:r,singleFrame:!1,resourceNames:u,extraOptions:{fps:a.getTimeBetweenFrames()>0?1/a.getTimeBetweenFrames():1,name:c||(u.length>0?v.basename(u[0],v.extname(u[0])):s),isLooping:a.isLooping(),externalEditorData:g},onChangesSaved:e=>{const t=new E.Direction;t.setTimeBetweenFrames(a.getTimeBetweenFrames()),t.setLoop(a.isLooping()),e.forEach(e=>{const n=new E.Sprite;if(n.setImageName(e.name),void 0!==e.originalIndex&&null!==e.originalIndex){const t=a.getSprite(e.originalIndex);Object(p.g)(t,n),Object(p.h)(t,n)}else m&&Object(p.g)(a.getSprite(0),n),h&&Object(p.h)(a.getSprite(0),n);t.addSprite(n),n.delete()}),e[0].metadata&&t.setMetadata(JSON.stringify(e[0].metadata)),r.burstUrlsCacheForResources(n,u),o(t),e[0].newAnimationName&&i(e[0].newAnimationName),t.delete()}})}}render(){return i.a.createElement("div",null,i.a.createElement(h.b,{justifyContent:"flex-end",smallest:!0},i.a.createElement(d.a,{direction:this.props.direction,resourcesLoader:this.props.resourcesLoader,project:this.props.project,resourceExternalEditors:this.props.resourceExternalEditors,onEditWith:this.editWith})),i.a.createElement(j,{resourcesLoader:this.props.resourcesLoader,direction:this.props.direction,project:this.props.project,onSortEnd:this.onSortEnd,onAddSprite:this.onAddSprite,selectedSprites:this.props.selectedSprites,onSelectSprite:this.props.onSelectSprite,onSpriteContextMenu:this.props.onSpriteContextMenu,helperClass:"sortable-helper",lockAxis:"x",axis:"x"}))}}}).call(this,n(1))},1858:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var a=n(71),r=n(4),o=n.n(r),i=n(92),s=n(73),l=n(86),c=n(1859),u=n(1862),d=n(334),h=n(335),m=n(868),p=n(5),g=n(571),b=n.n(g);const f=e.gd;class E extends r.Component{constructor(...e){super(...e),this.state={animationIndex:0,directionIndex:0,spriteIndex:0,samePointsForAnimations:!0,samePointsForSprites:!0},this._updatePoints=()=>{const e=this.props.object,t=this.state,n=t.animationIndex,a=t.directionIndex,r=t.spriteIndex,o=f.asSpriteObject(e),i=Object(h.k)(o,n,a,r),s=i.animation,c=i.sprite;s&&c&&(this.state.samePointsForAnimations?Object(l.mapFor)(0,o.getAnimationsCount(),e=>{const t=o.getAnimation(e);Object(h.f)(c,t)}):this.state.samePointsForSprites&&Object(h.f)(c,s)),this.forceUpdate()},this.chooseAnimation=e=>{this.setState({animationIndex:e,directionIndex:0,spriteIndex:0},()=>this._updateSamePointsToggles())},this.chooseDirection=e=>{this.setState({directionIndex:e,spriteIndex:0})},this.chooseSprite=e=>{this.setState({spriteIndex:e})},this._updateSamePointsToggles=()=>{const e=this.props.object,t=this.state,n=t.animationIndex,a=t.directionIndex,r=t.spriteIndex,o=f.asSpriteObject(e),i=Object(h.k)(o,n,a,r),s=i.animation,c=i.sprite;s&&c&&this.setState({samePointsForAnimations:b()(Object(l.mapFor)(0,o.getAnimationsCount(),e=>{const t=o.getAnimation(e);return Object(h.d)(c,t)})),samePointsForSprites:Object(h.d)(c,s)})},this._setSamePointsForAllAnimations=e=>{if(e){if(!p.b.showConfirmDialog("Having the same points for all animations will erase and reset all the other animations points. This can't be undone. Are you sure you want to share these points amongst all the animations of the object?"))return}this.setState({samePointsForAnimations:e,samePointsForSprites:!!e||this.state.samePointsForSprites},()=>{this._updatePoints()})},this._setSamePointsForAllSprites=e=>{if(e){if(!p.b.showConfirmDialog("Having the same points for all frames will erase and reset all the other frames points. This can't be undone. Are you sure you want to share these points amongst all the frames of the animation?"))return}this.setState({samePointsForAnimations:!!e&&this.state.samePointsForAnimations,samePointsForSprites:e},()=>{this._updatePoints()})}}componentDidMount(){this._updateSamePointsToggles()}render(){const e=this.props,t=e.object,n=e.resourcesLoader,r=e.project,l=this.state,p=l.samePointsForAnimations,g=l.samePointsForSprites,b=l.animationIndex,E=l.directionIndex,v=l.spriteIndex,y=f.asSpriteObject(t);if(!t.getAnimationsCount())return null;const C=Object(h.k)(y,b,E,v),x=C.hasValidSprite,j=C.sprite;return o.a.createElement("div",null,o.a.createElement(d.a,{resourceName:x?j.getImageName():"",resourcesLoader:n,project:r,renderOverlay:({imageWidth:e,imageHeight:t,imageZoomFactor:n})=>x&&o.a.createElement(u.a,{imageWidth:e,imageHeight:t,imageZoomFactor:n,pointsContainer:j,onPointsUpdated:this._updatePoints})}),o.a.createElement(s.b,null,o.a.createElement(s.a,{expand:!0},o.a.createElement(m.a,{spriteObject:y,animationIndex:b,directionIndex:E,spriteIndex:v,chooseAnimation:this.chooseAnimation,chooseDirection:this.chooseDirection,chooseSprite:this.chooseSprite,sameForAllAnimations:p,sameForAllSprites:g,setSameForAllAnimations:this._setSamePointsForAllAnimations,setSameForAllSprites:this._setSamePointsForAllSprites,setSameForAllAnimationsLabel:o.a.createElement(a.Trans,{id:"Share same points for all animations"}),setSameForAllSpritesLabel:o.a.createElement(a.Trans,{id:"Share same points for all sprites of this animation"})}))),!!j&&o.a.createElement(c.a,{pointsContainer:j,onPointsUpdated:this._updatePoints}),!j&&o.a.createElement(i.a,null,o.a.createElement(a.Trans,{id:"Choose an animation and frame to edit the points"})))}}}).call(this,n(1))},1859:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var a=n(77),r=n(4),o=n.n(r),i=n(156),s=n(214),l=n(122),c=n(86),u=n(5),d=n(572),h=n(1860),m=n(1861);const p=e.gd,g=Object(s.SortableElement)(m.a),b=Object(s.SortableElement)(h.a);class f extends r.Component{constructor(...e){super(...e),this.state={nameErrors:{}},this.updateOriginPointX=e=>{this.props.pointsContainer.getOrigin().setX(e),this._onPointsUpdated()},this.updateOriginPointY=e=>{this.props.pointsContainer.getOrigin().setY(e),this._onPointsUpdated()},this.updateCenterPointX=e=>{this.props.pointsContainer.getCenter().setX(e),this._onPointsUpdated()},this.updateCenterPointY=e=>{this.props.pointsContainer.getCenter().setY(e),this._onPointsUpdated()},this.updatePointX=(e,t)=>{e.setX(t),this._onPointsUpdated()},this.updatePointY=(e,t)=>{e.setY(t),this._onPointsUpdated()}}_onPointsUpdated(){this.forceUpdate(),this.props.onPointsUpdated()}render(){const e=this.props.pointsContainer,t=e.getAllNonDefaultPoints(),n=Object(c.mapVector)(t,(t,n)=>{const r=t.getName();return o.a.createElement(b,{index:n,disabled:!0,key:"point-"+r,pointX:t.getX(),pointY:t.getY(),onChangePointX:e=>this.updatePointX(t,e),onChangePointY:e=>this.updatePointY(t,e),pointName:r,nameError:this.state.nameErrors[r],onBlur:n=>{const o=n.target.value;if(r===o)return;let i=!0;e.hasPoint(o)?i=!1:t.setName(o),this.setState({nameErrors:Object(a.a)(Object(a.a)({},this.state.nameErrors),{},{[r]:!i})})},onRemove:()=>{u.b.showConfirmDialog("Are you sure you want to remove this point? This can't be undone.")&&(e.delPoint(r),this._onPointsUpdated())}})}),r=e.getOrigin(),s=e.getCenter(),d=o.a.createElement(b,{index:0,key:"origin-point-row",pointName:"Origin",pointX:r.getX(),pointY:r.getY(),onChangePointX:this.updateOriginPointX,onChangePointY:this.updateOriginPointY,disabled:!0}),h=o.a.createElement(b,{index:1,key:"center-point-row",pointName:"Center",isAutomatic:e.isDefaultCenterPoint(),pointX:s.getX(),pointY:s.getY(),onChangePointX:this.updateCenterPointX,onChangePointY:this.updateCenterPointY,disabled:!0,onEdit:e.isDefaultCenterPoint()?()=>{e.setDefaultCenterPoint(!1),this._onPointsUpdated()}:null,onRemove:e.isDefaultCenterPoint()?null:()=>{e.setDefaultCenterPoint(!0),this._onPointsUpdated()}}),m=o.a.createElement(g,{index:0,key:"add-point-row",disabled:!0,onAdd:()=>{const t=Object(l.a)("Point",t=>e.hasPoint(t)),n=new p.Point(t);e.addPoint(n),n.delete(),this._onPointsUpdated()}});return o.a.createElement(i.b,null,[d,h,...n,m])}}const E=Object(s.SortableContainer)(f);E.muiName="TableBody";class v extends r.Component{render(){return o.a.createElement(i.a,null,o.a.createElement(i.c,null,o.a.createElement(i.e,null,o.a.createElement(i.d,{style:d.a.handleColumn}),o.a.createElement(i.d,null,"Point name"),o.a.createElement(i.d,{style:d.a.coordinateColumn},"X"),o.a.createElement(i.d,{style:d.a.coordinateColumn},"Y"),o.a.createElement(i.f,{style:d.a.toolColumn}))),o.a.createElement(E,{pointsContainer:this.props.pointsContainer,onPointsUpdated:this.props.onPointsUpdated,onSortEnd:({oldIndex:e,newIndex:t})=>{},helperClass:"sortable-helper",useDragHandle:!0,lockToContainerEdges:!0}))}}}).call(this,n(1))},1860:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n.n(r),i=n(156),s=n(95),l=n(181),c=n.n(l),u=n(500),d=n.n(u),h=n(93),m=n(572),p=n(97),g=n(80);t.a=({pointName:e,nameError:t,onBlur:n,onRemove:r,pointX:l,pointY:u,onChangePointX:b,onChangePointY:f,onEdit:E,isAutomatic:v})=>o.a.createElement(p.a,null,p=>o.a.createElement(i.e,{style:{backgroundColor:p.list.itemsBackgroundColor}},o.a.createElement(i.f,{style:m.a.handleColumn}),o.a.createElement(i.f,null,o.a.createElement(h.b,{margin:"none",defaultValue:e||"Base layer",id:e,fullWidth:!0,errorText:t?"This name is already taken":void 0,disabled:!n,onBlur:n})),o.a.createElement(i.f,{style:m.a.coordinateColumn},v?o.a.createElement(g.a,{noMargin:!0},o.a.createElement(a.Trans,{id:"(auto)"})):o.a.createElement(h.b,{margin:"none",value:l,type:"number",id:"point-x",onChange:(e,t)=>b(parseFloat(t||0,10))})),o.a.createElement(i.f,{style:m.a.coordinateColumn},v?o.a.createElement(g.a,{noMargin:!0},o.a.createElement(a.Trans,{id:"(auto)"})):o.a.createElement(h.b,{margin:"none",value:u,type:"number",id:"point-y",onChange:(e,t)=>f(parseFloat(t||0,10))})),o.a.createElement(i.f,{style:m.a.toolColumn},!!r&&o.a.createElement(s.a,{size:"small",onClick:r},o.a.createElement(c.a,null)),!!E&&o.a.createElement(s.a,{size:"small",onClick:E},o.a.createElement(d.a,null)))))},1861:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(156),i=n(147),s=n.n(i),l=n(95),c=n(572);t.a=({onAdd:e})=>r.a.createElement(o.e,null,r.a.createElement(o.f,{style:c.a.handleColumn}),r.a.createElement(o.f,null),r.a.createElement(o.f,{style:c.a.coordinateColumn}),r.a.createElement(o.f,{style:c.a.coordinateColumn}),r.a.createElement(o.f,{style:c.a.toolColumn},r.a.createElement(l.a,{size:"small",onClick:e},r.a.createElement(s.a,null))))},1862:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(4),r=n.n(a),o=n(86);const i={container:{position:"relative",width:"100%",height:"100%"}},s=1,l=2,c=3;class u extends r.a.Component{constructor(...e){super(...e),this.state={draggedPoint:null,draggedPointKind:null},this._onStartDragPoint=(e,t)=>{this.state.draggedPoint||this.setState({draggedPoint:e,draggedPointKind:t})},this._onEndDragPoint=()=>{const e=!!this.state.draggedPoint;this.setState({draggedPoint:null,draggedPointKind:null},()=>{e&&this.props.onPointsUpdated()})},this._onMouseMove=e=>{const t=this.state,n=t.draggedPoint,a=t.draggedPointKind;if(!n||!this._container)return;const r=this._container.getBoundingClientRect(),o=e.clientX-r.left,i=e.clientY-r.top;a===c&&this.props.pointsContainer.setDefaultCenterPoint(!1),n.setX(o/this.props.imageZoomFactor),n.setY(i/this.props.imageZoomFactor),this.forceUpdate()},this._renderPoint=(e,t,n,a,o)=>{const i=a===l?"res/originPoint.png":a===c?"res/centerPoint.png":"res/point.png";return r.a.createElement("img",{src:i,style:{position:"absolute",left:t,top:n,transform:"translate(-6px, -5px)",cursor:"move"},alt:"",key:e,onPointerDown:()=>{this._onStartDragPoint(o,a)}})}}render(){const e=this.props,t=e.pointsContainer,n=e.imageWidth,a=e.imageHeight,u=e.imageZoomFactor,d=t.getAllNonDefaultPoints(),h=Object(o.mapVector)(d,(e,t)=>this._renderPoint(e.getName(),e.getX()*u,e.getY()*u,s,e)),m=t.getOrigin(),p=t.getCenter(),g=t.isDefaultCenterPoint();return r.a.createElement("div",{style:i.container,onPointerMove:this._onMouseMove,onPointerUp:this._onEndDragPoint,ref:e=>this._container=e},h,this._renderPoint("Origin",m.getX()*u,m.getY()*u,l,m),this._renderPoint("Center",(g?n/2:p.getX())*u,(g?a/2:p.getY())*u,c,p))}}},1863:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var a=n(71),r=n(4),o=n.n(r),i=n(81),s=n(92),l=n(73),c=n(86),u=n(1864),d=n(1869),h=n(334),m=n(335),p=n(868),g=n(5),b=n(571),f=n.n(b);const E=e.gd;class v extends r.Component{constructor(...e){super(...e),this.state={animationIndex:0,directionIndex:0,spriteIndex:0,sameCollisionMasksForAnimations:!0,sameCollisionMasksForSprites:!0,spriteWidth:0,spriteHeight:0},this._updateCollisionMasks=()=>{const e=this.props.object,t=this.state,n=t.animationIndex,a=t.directionIndex,r=t.spriteIndex,o=E.asSpriteObject(e),i=Object(m.k)(o,n,a,r),s=i.animation,l=i.sprite;s&&l&&(this.state.sameCollisionMasksForAnimations?Object(c.mapFor)(0,o.getAnimationsCount(),e=>{const t=o.getAnimation(e);Object(m.e)(l,t)}):this.state.sameCollisionMasksForSprites&&Object(m.e)(l,s)),this.forceUpdate()},this.chooseAnimation=e=>{this.setState({animationIndex:e,directionIndex:0,spriteIndex:0},()=>this._updateSameCollisionMasksToggles())},this.chooseDirection=e=>{this.setState({directionIndex:e,spriteIndex:0})},this.chooseSprite=e=>{this.setState({spriteIndex:e})},this._updateSameCollisionMasksToggles=()=>{const e=this.props.object,t=this.state,n=t.animationIndex,a=t.directionIndex,r=t.spriteIndex,o=E.asSpriteObject(e),i=Object(m.k)(o,n,a,r),s=i.animation,l=i.sprite;s&&l&&this.setState({sameCollisionMasksForAnimations:f()(Object(c.mapFor)(0,o.getAnimationsCount(),e=>{const t=o.getAnimation(e);return Object(m.c)(l,t)})),sameCollisionMasksForSprites:Object(m.c)(l,s)})},this._onSetCollisionMaskAutomatic=(e=!0)=>{const t=this.props.object,n=this.state,a=n.animationIndex,r=n.directionIndex,o=n.spriteIndex,i=E.asSpriteObject(t),s=Object(m.k)(i,a,r,o).sprite;s&&(s.setCollisionMaskAutomatic(e),this._updateCollisionMasks())},this._setSameCollisionMasksForAllAnimations=e=>{if(e){if(!g.b.showConfirmDialog("Having the same collision masks for all animations will erase and reset all the other animations collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the animations of the object?"))return}this.setState({sameCollisionMasksForAnimations:e,sameCollisionMasksForSprites:!!e||this.state.sameCollisionMasksForSprites},()=>{this._updateCollisionMasks()})},this._setSameCollisionMasksForAllSprites=e=>{if(e){if(!g.b.showConfirmDialog("Having the same collision masks for all frames will erase and reset all the other frames collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the frames of the animation?"))return}this.setState({sameCollisionMasksForAnimations:!!e&&this.state.sameCollisionMasksForAnimations,sameCollisionMasksForSprites:e},()=>{this._updateCollisionMasks()})},this._setCurrentSpriteSize=(e,t)=>{this.setState({spriteWidth:e,spriteHeight:t})}}componentDidMount(){this._updateSameCollisionMasksToggles()}render(){const e=this.props,t=e.object,n=e.resourcesLoader,r=e.project,c=this.state,g=c.sameCollisionMasksForAnimations,b=c.sameCollisionMasksForSprites,f=c.animationIndex,v=c.directionIndex,y=c.spriteIndex,C=c.spriteWidth,x=c.spriteHeight,j=E.asSpriteObject(t);if(!t.getAnimationsCount())return null;const O=Object(m.k)(j,f,v,y),T=O.hasValidSprite,S=O.sprite;return o.a.createElement("div",null,o.a.createElement(h.a,{resourceName:T?S.getImageName():"",resourcesLoader:n,project:r,onSize:this._setCurrentSpriteSize,renderOverlay:({imageWidth:e,imageHeight:t,imageZoomFactor:n})=>T&&o.a.createElement(d.a,{imageWidth:e,imageHeight:t,imageZoomFactor:n,isDefaultBoundingBox:S.isCollisionMaskAutomatic(),polygons:S.getCustomCollisionMask(),onPolygonsUpdated:this._updateCollisionMasks})}),o.a.createElement(l.b,null,o.a.createElement(l.a,{expand:!0},o.a.createElement(p.a,{spriteObject:j,animationIndex:f,directionIndex:v,spriteIndex:y,chooseAnimation:this.chooseAnimation,chooseDirection:this.chooseDirection,chooseSprite:this.chooseSprite,sameForAllAnimations:g,sameForAllSprites:b,setSameForAllAnimations:this._setSameCollisionMasksForAllAnimations,setSameForAllSprites:this._setSameCollisionMasksForAllSprites,setSameForAllAnimationsLabel:o.a.createElement(a.Trans,{id:"Share same collision masks for all animations"}),setSameForAllSpritesLabel:o.a.createElement(a.Trans,{id:"Share same collision masks for all sprites of this animation"})}))),!!S&&!S.isCollisionMaskAutomatic()&&o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{polygons:S.getCustomCollisionMask(),onPolygonsUpdated:this._updateCollisionMasks,spriteWidth:C,spriteHeight:x}),o.a.createElement(l.b,{justifyContent:"center"},o.a.createElement(i.a,{label:o.a.createElement(a.Trans,{id:"Restore the default collision mask"}),primary:!1,onClick:()=>this._onSetCollisionMaskAutomatic(!0)}))),!!S&&S.isCollisionMaskAutomatic()&&o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,null,o.a.createElement(a.Trans,{id:"This sprite uses the default collision mask, a rectangle that is as large as the sprite."})),o.a.createElement(l.b,{justifyContent:"center"},o.a.createElement(i.a,{label:o.a.createElement(a.Trans,{id:"Use a custom collision mask"}),primary:!1,onClick:()=>this._onSetCollisionMaskAutomatic(!1)}))),!S&&o.a.createElement(s.a,null,o.a.createElement(a.Trans,{id:"Choose an animation and frame to edit the collision masks"})))}}}).call(this,n(1))},1864:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a=n(4),r=n.n(a),o=n(172),i=n.n(o),s=n(156),l=n(214),c=n(86),u=n(336),d=n(1865),h=n(1866),m=n(1867),p=n(1868);const g=e.gd,b=Object(l.SortableElement)(p.a),f=Object(l.SortableElement)(m.a),E=Object(l.SortableElement)(d.a),v=Object(l.SortableElement)(h.a);class y extends a.Component{constructor(...e){super(...e),this.updateVerticeX=(e,t)=>{e.set_x(Math.min(this.props.spriteWidth,Math.max(t,0))),this._onPolygonUpdated()},this.updateVerticeY=(e,t)=>{e.set_y(Math.min(this.props.spriteHeight,Math.max(t,0))),this._onPolygonUpdated()}}_onPolygonUpdated(){this.forceUpdate(),this.props.onPolygonsUpdated()}render(){const e=this.props.polygons,t=i()(Object(c.mapVector)(e,(t,n)=>{const a=t.getVertices(),o=t.isConvex();return[r.a.createElement(v,{index:n,disabled:!0,key:"polygon-"+n,polygon:t,onRemove:()=>{g.removeFromVectorPolygon2d(e,n),this._onPolygonUpdated()},isConvex:o,verticesCount:a.size()}),Object(c.mapVector)(a,(e,i)=>r.a.createElement(E,{index:n,disabled:!0,key:"polygon-".concat(n,"-vertice-").concat(i),verticeX:e.get_x(),verticeY:e.get_y(),onChangeVerticeX:t=>this.updateVerticeX(e,t),onChangeVerticeY:t=>this.updateVerticeY(e,t),onRemove:()=>{g.removeFromVectorVector2f(t.getVertices(),i),this._onPolygonUpdated()},canRemove:a.size()>3,hasWarning:!o})),r.a.createElement(f,{index:0,key:"polygon-".concat(n,"-add-vertice-row"),disabled:!0,onAdd:()=>{const e=new g.Vector2f;t.getVertices().push_back(e),e.delete(),this._onPolygonUpdated()}})]})),n=r.a.createElement(b,{index:0,key:"add-polygon-row",disabled:!0,onAdd:()=>{const t=g.Polygon2d.createRectangle(32,32);t.move(this.props.spriteWidth/2,this.props.spriteHeight/2),e.push_back(t),this._onPolygonUpdated()}});return r.a.createElement(s.b,null,[...t,n])}}const C=Object(l.SortableContainer)(y);C.muiName="TableBody";class x extends a.Component{render(){return r.a.createElement(s.a,null,r.a.createElement(s.c,null,r.a.createElement(s.e,null,r.a.createElement(s.d,{style:u.a.handleColumn}),r.a.createElement(s.d,null,"Polygon"),r.a.createElement(s.d,{style:u.a.coordinateColumn},"X"),r.a.createElement(s.d,{style:u.a.coordinateColumn},"Y"),r.a.createElement(s.f,{style:u.a.toolColumn}))),r.a.createElement(C,{polygons:this.props.polygons,onPolygonsUpdated:this.props.onPolygonsUpdated,spriteWidth:this.props.spriteWidth,spriteHeight:this.props.spriteHeight,onSortEnd:({oldIndex:e,newIndex:t})=>{},helperClass:"sortable-helper",useDragHandle:!0,lockToContainerEdges:!0}))}}}).call(this,n(1))},1865:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(156),i=n(95),s=n(181),l=n.n(s),c=n(93),u=n(306),d=n.n(u),h=n(336),m=n(97);t.a=({hasWarning:e,canRemove:t,onRemove:n,verticeX:a,verticeY:s,onChangeVerticeX:u,onChangeVerticeY:p})=>r.a.createElement(m.a,null,m=>r.a.createElement(o.e,{style:{backgroundColor:m.list.itemsBackgroundColor}},r.a.createElement(o.f,{style:h.a.handleColumn}),r.a.createElement(o.f,null,e&&r.a.createElement(d.a,null)),r.a.createElement(o.f,{style:h.a.coordinateColumn},r.a.createElement(c.b,{margin:"none",value:a,type:"number",id:"vertice-x",onChange:(e,t)=>u(parseFloat(t||0,10))})),r.a.createElement(o.f,{style:h.a.coordinateColumn},r.a.createElement(c.b,{margin:"none",value:s,type:"number",id:"vertice-y",onChange:(e,t)=>p(parseFloat(t||0,10))})),r.a.createElement(o.f,{style:h.a.toolColumn},!!n&&r.a.createElement(i.a,{size:"small",onClick:n,disabled:!t},r.a.createElement(l.a,null)))))},1866:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(156),i=n(95),s=n(181),l=n.n(s),c=n(336),u=n(97);t.a=({onRemove:e,isConvex:t,verticesCount:n})=>r.a.createElement(u.a,null,a=>r.a.createElement(o.e,{style:{backgroundColor:a.list.itemsBackgroundColor}},r.a.createElement(o.f,{style:c.a.handleColumn}),t&&r.a.createElement(o.f,null,3===n&&"Triangle",4===n&&"Quadrilateral",n>=5&&"Polygon with ".concat(n," vertices")),!t&&r.a.createElement(o.f,null,"Polygon is not convex!"),r.a.createElement(o.f,{style:c.a.coordinateColumn}),r.a.createElement(o.f,{style:c.a.coordinateColumn}),r.a.createElement(o.f,{style:c.a.toolColumn},!!e&&r.a.createElement(i.a,{size:"small",onClick:e},r.a.createElement(l.a,null)))))},1867:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(156),i=n(473),s=n.n(i),l=n(95),c=n(336);t.a=({onAdd:e})=>r.a.createElement(o.e,null,r.a.createElement(o.f,{style:c.a.handleColumn}),r.a.createElement(o.f,null),r.a.createElement(o.f,{style:c.a.coordinateColumn}),r.a.createElement(o.f,{style:c.a.coordinateColumn}),r.a.createElement(o.f,{style:c.a.toolColumn},r.a.createElement(l.a,{size:"small",onClick:e},r.a.createElement(s.a,null))))},1868:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(156),i=n(147),s=n.n(i),l=n(95),c=n(336);t.a=({onAdd:e})=>r.a.createElement(o.e,null,r.a.createElement(o.f,{style:c.a.handleColumn}),r.a.createElement(o.f,null),r.a.createElement(o.f,{style:c.a.coordinateColumn}),r.a.createElement(o.f,{style:c.a.coordinateColumn}),r.a.createElement(o.f,{style:c.a.toolColumn},r.a.createElement(l.a,{size:"small",onClick:e},r.a.createElement(s.a,null))))},1869:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(4),r=n(86);const o={container:{position:"relative"},svg:{width:"100%",height:"100%"},vertexCircle:{cursor:"move"}};class i extends a.Component{constructor(...e){super(...e),this.state={draggedVertex:null},this._onStartDragVertex=e=>{this.state.draggedVertex||this.setState({draggedVertex:e})},this._onEndDragVertex=()=>{const e=!!this.state.draggedVertex;this.setState({draggedVertex:null},()=>{e&&this.props.onPolygonsUpdated()})},this._onPointerMove=e=>{const t=this.state.draggedVertex;if(!t)return;const n=this._svg.createSVGPoint();n.x=e.clientX,n.y=e.clientY;const a=this._svg.getScreenCTM().inverse(),r=n.matrixTransform(a);t.set_x(r.x/this.props.imageZoomFactor),t.set_y(r.y/this.props.imageZoomFactor),this.forceUpdate()}}_renderBoundingBox(){const e=this.props,t=e.imageWidth,n=e.imageHeight,r=e.imageZoomFactor;return a.createElement("polygon",{fill:"rgba(255,0,0,0.2)",stroke:"rgba(255,0,0,0.5)",strokeWidth:1,fileRule:"evenodd",points:"0,0 ".concat(t*r,",0 ").concat(t*r,",").concat(n*r," 0,").concat(n*r)})}_renderPolygons(){const e=this.props,t=e.polygons,n=e.imageZoomFactor;return a.createElement(a.Fragment,null,Object(r.mapVector)(t,(e,t)=>{const o=e.getVertices();return a.createElement("polygon",{key:"polygon-".concat(t),fill:"rgba(255,0,0,0.2)",stroke:"rgba(255,0,0,0.5)",strokeWidth:1,fileRule:"evenodd",points:Object(r.mapVector)(o,(e,t)=>"".concat(e.get_x()*n,",").concat(e.get_y()*n)).join(" ")})}),Object(r.mapVector)(t,(e,t)=>{const i=e.getVertices();return Object(r.mapVector)(i,(e,r)=>a.createElement("circle",{onPointerDown:t=>this._onStartDragVertex(e),key:"polygon-".concat(t,"-vertex-").concat(r),fill:"rgba(255,0,0,0.75)",strokeWidth:1,cx:e.get_x()*n,cy:e.get_y()*n,r:5,style:o.vertexCircle}))}))}render(){const e=this.props.isDefaultBoundingBox;return a.createElement("svg",{onPointerMove:this._onPointerMove,onPointerUp:this._onEndDragVertex,width:this.props.imageWidth*this.props.imageZoomFactor,height:this.props.imageHeight*this.props.imageZoomFactor,style:o.svg,ref:e=>this._svg=e},e&&this._renderBoundingBox(),!e&&this._renderPolygons())}}},1870:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(71),r=n(4),o=n(73),i=n(92);class s extends r.Component{render(){return r.createElement(o.a,null,r.createElement(o.b,null,r.createElement(i.a,null,r.createElement(a.Trans,{id:"This object does not have any specific configuration. Add it on the scene and use events to interact with it."}))))}}},1871:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a=n(71),r=n(4),o=n(161),i=n(259),s=n(102),l=n(88);const c=e.gd;class u extends r.Component{render(){const e=this.props.object,t=c.asShapePainterObject(e);return r.createElement(l.a,null,r.createElement(o.a,{label:r.createElement(a.Trans,{id:"Draw the shapes relative to the object position on the scene"}),checked:!t.areCoordinatesAbsolute(),onCheck:(e,n)=>{n?t.setCoordinatesRelative():t.setCoordinatesAbsolute(),this.forceUpdate()}}),r.createElement(o.a,{label:r.createElement(a.Trans,{id:"Clear the rendered image between each frame"}),checked:t.isClearedBetweenFrames(),onCheck:(e,n)=>{t.setClearBetweenFrames(n),this.forceUpdate()}}),r.createElement(l.b,{noMargin:!0},r.createElement(i.a,{floatingLabelText:r.createElement(a.Trans,{id:"Outline color"}),disableAlpha:!0,fullWidth:!0,color:{r:t.getOutlineColorR(),g:t.getOutlineColorG(),b:t.getOutlineColorB(),a:255},onChangeComplete:e=>{t.setOutlineColor(e.rgb.r,e.rgb.g,e.rgb.b),this.forceUpdate()}}),r.createElement(s.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Outline opacity (0-255)"}),fullWidth:!0,type:"number",value:t.getOutlineOpacity(),onChange:e=>{t.setOutlineOpacity(parseInt(e,10)||0),this.forceUpdate()}}),r.createElement(s.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Outline size (in pixels)"}),fullWidth:!0,type:"number",value:t.getOutlineSize(),onChange:e=>{t.setOutlineSize(parseInt(e,10)||0),this.forceUpdate()}})),r.createElement(l.b,{noMargin:!0},r.createElement(i.a,{floatingLabelText:r.createElement(a.Trans,{id:"Fill color"}),disableAlpha:!0,fullWidth:!0,color:{r:t.getFillColorR(),g:t.getFillColorG(),b:t.getFillColorB(),a:255},onChangeComplete:e=>{t.setFillColor(e.rgb.r,e.rgb.g,e.rgb.b),this.forceUpdate()}}),r.createElement(s.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Fill opacity (0-255)"}),fullWidth:!0,type:"number",value:t.getFillOpacity(),onChange:e=>{t.setFillOpacity(parseInt(e,10)||0),this.forceUpdate()}})))}}}).call(this,n(1))},1872:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var a=n(71),r=n(4),o=n(161),i=n(111),s=n(112),l=n(259),c=n(102),u=n(431),d=n(88),h=n(403),m=n(212);const p=e.gd;class g extends r.Component{render(){const e=this.props,t=e.object,n=e.project,g=e.resourceSources,b=e.onChooseResource,f=e.resourceExternalEditors,E=p.asParticleEmitterObject(t),v=Object(m.h)(t.getType());return r.createElement(d.a,null,v.map(e=>r.createElement(h.a,{key:e.identifier,tutorialHint:e})),r.createElement(i.a,{fullWidth:!0,floatingLabelText:r.createElement(a.Trans,{id:"Particles kind"}),value:E.getRendererType(),onChange:(e,t,n)=>{const a=parseInt(n,10)||0;E.setRendererType(a),a!==p.ParticleEmitterObject.Quad&&E.setParticleTexture(""),this.forceUpdate()}},r.createElement(s.a,{value:p.ParticleEmitterObject.Point,primaryText:{id:"Point"}}),r.createElement(s.a,{value:p.ParticleEmitterObject.Line,primaryText:{id:"Line"}}),r.createElement(s.a,{value:p.ParticleEmitterObject.Quad,primaryText:{id:"Textured"}})),E.getRendererType()===p.ParticleEmitterObject.Point&&r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Size"}),fullWidth:!0,type:"number",value:E.getRendererParam1(),onChange:e=>{E.setRendererParam1(parseFloat(e)),this.forceUpdate()}}),E.getRendererType()===p.ParticleEmitterObject.Line&&r.createElement(d.b,{noMargin:!0},r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Lines length"}),fullWidth:!0,type:"number",value:E.getRendererParam1(),onChange:e=>{E.setRendererParam1(parseFloat(e)),this.forceUpdate()}}),r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Lines thickness"}),fullWidth:!0,type:"number",value:E.getRendererParam2(),onChange:e=>{E.setRendererParam2(parseFloat(e)),this.forceUpdate()}})),E.getRendererType()===p.ParticleEmitterObject.Quad&&r.createElement(u.a,{project:n,resourceSources:g,onChooseResource:b,resourceKind:"image",resourceName:E.getParticleTexture(),resourceExternalEditors:f,onChange:e=>{E.setParticleTexture(e),this.forceUpdate()},floatingLabelText:r.createElement(a.Trans,{id:"Select an image"})}),E.getRendererType()===p.ParticleEmitterObject.Quad&&r.createElement(d.b,{noMargin:!0},r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Particles start width"}),fullWidth:!0,type:"number",value:E.getRendererParam1(),onChange:e=>{E.setRendererParam1(Math.max(0,parseFloat(e))),this.forceUpdate()}}),r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Particles start height"}),fullWidth:!0,type:"number",value:E.getRendererParam2(),onChange:e=>{E.setRendererParam2(Math.max(0,parseFloat(e))),this.forceUpdate()}})),r.createElement(d.b,{noMargin:!0},r.createElement(l.a,{floatingLabelText:r.createElement(a.Trans,{id:"Particles start color"}),disableAlpha:!0,fullWidth:!0,color:{r:E.getParticleRed1(),g:E.getParticleGreen1(),b:E.getParticleBlue1(),a:255},onChangeComplete:e=>{E.setParticleRed1(e.rgb.r),E.setParticleGreen1(e.rgb.g),E.setParticleBlue1(e.rgb.b),this.forceUpdate()}}),r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Start opacity (0-255)"}),fullWidth:!0,type:"number",value:E.getParticleAlpha1(),onChange:e=>{E.setParticleAlpha1(parseInt(e,10)||0),this.forceUpdate()}})),r.createElement(d.b,{noMargin:!0},r.createElement(l.a,{floatingLabelText:r.createElement(a.Trans,{id:"Particles end color"}),disableAlpha:!0,fullWidth:!0,color:{r:E.getParticleRed2(),g:E.getParticleGreen2(),b:E.getParticleBlue2(),a:255},onChangeComplete:e=>{E.setParticleRed2(e.rgb.r),E.setParticleGreen2(e.rgb.g),E.setParticleBlue2(e.rgb.b),this.forceUpdate()}}),r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"End opacity (0-255)"}),fullWidth:!0,type:"number",value:E.getParticleAlpha2(),onChange:e=>{E.setParticleAlpha2(parseInt(e,10)||0),this.forceUpdate()}})),r.createElement(o.a,{label:r.createElement(a.Trans,{id:"Additive rendering"}),checked:E.isRenderingAdditive(),onCheck:(e,t)=>{t?E.setRenderingAdditive():E.setRenderingAlpha(),this.forceUpdate()}}),r.createElement(o.a,{label:r.createElement(a.Trans,{id:"Delete when out of particles"}),checked:E.getDestroyWhenNoParticles(),onCheck:(e,t)=>{E.setDestroyWhenNoParticles(t),this.forceUpdate()}}),r.createElement(d.b,{noMargin:!0},r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Maximum number of particles displayed"}),fullWidth:!0,type:"number",value:E.getMaxParticleNb(),onChange:e=>{E.setMaxParticleNb(parseInt(e,10)||0),this.forceUpdate()}})),r.createElement(d.b,{noMargin:!0},r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Number of particles in tank (-1 for infinite)"}),fullWidth:!0,type:"number",value:E.getTank(),onChange:e=>{E.setTank(parseInt(e,10)||0),this.forceUpdate()}}),r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Flow of particles (particles/seconds)"}),fullWidth:!0,type:"number",value:E.getFlow(),onChange:e=>{E.setFlow(parseInt(e,10)||0),this.forceUpdate()}})),r.createElement(d.b,{noMargin:!0},r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Minimum emitter force applied on particles"}),fullWidth:!0,type:"number",value:E.getEmitterForceMin(),onChange:e=>{E.setEmitterForceMin(parseInt(e,10)||0),this.forceUpdate()}}),r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Maximum emitter force applied on particles"}),fullWidth:!0,type:"number",value:E.getEmitterForceMax(),onChange:e=>{E.setEmitterForceMax(parseInt(e,10)||0),this.forceUpdate()}})),r.createElement(d.b,{noMargin:!0},r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Spray cone angle (in degrees)"}),fullWidth:!0,type:"number",value:E.getConeSprayAngle(),onChange:e=>{E.setConeSprayAngle(parseInt(e,10)||0),this.forceUpdate()}}),r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Radius of the emitter"}),fullWidth:!0,type:"number",value:E.getZoneRadius(),onChange:e=>{E.setZoneRadius(parseInt(e,10)||0),this.forceUpdate()}})),r.createElement(d.b,{noMargin:!0},r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Gravity on particles on X axis"}),fullWidth:!0,type:"number",value:E.getParticleGravityX(),onChange:e=>{E.setParticleGravityX(parseFloat(e)),this.forceUpdate()}}),r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Gravity on particles on Y axis"}),fullWidth:!0,type:"number",value:E.getParticleGravityY(),onChange:e=>{E.setParticleGravityY(parseFloat(e)),this.forceUpdate()}})),r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Friction on particles"}),fullWidth:!0,type:"number",value:E.getFriction(),onChange:e=>{E.setFriction(parseFloat(e)),this.forceUpdate()}}),r.createElement(d.b,{noMargin:!0},r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Particle minimum lifetime (in seconds)"}),fullWidth:!0,type:"number",value:E.getParticleLifeTimeMin(),onChange:e=>{E.setParticleLifeTimeMin(parseFloat(e)),this.forceUpdate()}}),r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Particle maximum lifetime (in seconds)"}),fullWidth:!0,type:"number",value:E.getParticleLifeTimeMax(),onChange:e=>{E.setParticleLifeTimeMax(parseFloat(e)),this.forceUpdate()}})),r.createElement(d.b,{noMargin:!0},r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Particle start size (in percents)"}),fullWidth:!0,type:"number",value:E.getParticleSize1(),onChange:e=>{E.setParticleSize1(parseFloat(e)),this.forceUpdate()}}),r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Particle end size (in percents)"}),fullWidth:!0,type:"number",value:E.getParticleSize2(),onChange:e=>{E.setParticleSize2(parseFloat(e)),this.forceUpdate()}})),r.createElement(d.b,{noMargin:!0},r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Particle minimum rotation speed (degrees/second)"}),fullWidth:!0,type:"number",value:E.getParticleAngle1(),onChange:e=>{E.setParticleAngle1(parseFloat(e)),this.forceUpdate()}}),r.createElement(c.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Particle maximum rotation speed (degrees/second)"}),fullWidth:!0,type:"number",value:E.getParticleAngle2(),onChange:e=>{E.setParticleAngle2(parseFloat(e)),this.forceUpdate()}})))}}}).call(this,n(1))},1873:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a=n(71),r=n(4),o=n(232),i=n(264),s=n(92),l=n(73),c=n(212),u=n(124),d=n(88),h=n(403);const m=e.gd;class p extends r.Component{render(){const e=this.props,t=e.object,n=e.project,p=e.resourceSources,g=e.onChooseResource,b=e.resourceExternalEditors,f=m.castObject(t,m.gdObject),E=f.getProperties(),v=Object(i.a)(E,e=>e.getProperties(),(e,t,n)=>e.updateProperty(t,n)),y=Object(c.f)()[f.getType()],C=Object(c.h)(f.getType());return r.createElement(a.I18n,null,({i18n:e})=>r.createElement(d.a,null,C.map(e=>r.createElement(h.a,{key:e.identifier,tutorialHint:e})),v.length?r.createElement(r.Fragment,null,y?r.createElement(l.b,null,r.createElement(l.a,{noMargin:!0},y.map(({kind:t,message:n},a)=>r.createElement(u.a,{kind:t,key:a},e._(n))))):null,r.createElement(o.a,{unsavedChanges:this.props.unsavedChanges,schema:v,instances:[f],project:n,resourceSources:p,onChooseResource:g,resourceExternalEditors:b})):r.createElement(s.a,null,r.createElement(a.Trans,{id:"There is nothing to configure for this object. You can still use events to interact with the object."}))))}}}).call(this,n(1))},1874:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var a=n(71),r=n(4),o=n.n(r),i=n(93),s=n(147),l=n.n(s),c=n(181),u=n.n(c),d=n(95),h=n(92),m=n(190),p=n(638),g=n(122),b=n(1875),f=n(1877),E=n(2286),v=n(510),y=n(5),C=n(73),x=n(83),j=n(212),O=n(403),T=n(88);const S=e.gd,w=({onAdd:e})=>o.a.createElement(C.a,null,o.a.createElement(C.b,{justifyContent:"flex-end",expand:!0},o.a.createElement(x.a,{label:o.a.createElement(a.Trans,{id:"Add a behavior to the object"}),primary:!0,onClick:e,icon:o.a.createElement(l.a,null)})));class k extends r.Component{constructor(...e){super(...e),this.state={newBehaviorDialogOpen:!1},this.chooseNewBehavior=()=>{this.setState({newBehaviorDialogOpen:!0})},this._hasBehaviorWithType=e=>{const t=this.props.object;return t.getAllBehaviorNames().toJSArray().map(e=>t.getBehavior(e)).map(e=>e.getTypeName()).filter(t=>t===e).length},this.addBehavior=(e,t)=>{const n=this.props,a=n.object,r=n.project;this.setState({newBehaviorDialogOpen:!1},()=>{if(this._hasBehaviorWithType(e)){if(!y.b.showConfirmDialog("There is already a behavior of this type attached to the object. It's possible to add again this behavior but it's unusual and may not be always supported properly. Are you sure you want to add again this behavior?"))return}const n=Object(g.a)(t,e=>a.hasBehaviorNamed(e));a.addNewBehavior(r,e,n),this.forceUpdate(),this.props.onSizeUpdated&&this.props.onSizeUpdated(),this.props.onUpdateBehaviorsSharedData()})},this._onChangeBehaviorName=(e,t)=>{const n=this.props.object;n.hasBehaviorNamed(t)||(n.renameBehavior(e.getName(),t),this.forceUpdate())},this._onRemoveBehavior=e=>{const t=this.props.object;y.b.showConfirmDialog("Are you sure you want to remove this behavior? This can't be undone.")&&(t.removeBehavior(e),this.forceUpdate(),this.props.onSizeUpdated&&this.props.onSizeUpdated())}}render(){const e=this.props,t=e.object,n=e.project,r=t.getAllBehaviorNames().toJSArray();return o.a.createElement("div",null,r.map((e,r)=>{const s=t.getBehavior(e),l=s.getTypeName(),c=S.JsPlatform.get().getBehavior(l);if(Object(v.a)(S,c))return o.a.createElement("div",{key:r},o.a.createElement(m.b,null,o.a.createElement(m.a,null,o.a.createElement(a.Trans,{id:"Unknown behavior"})," "),o.a.createElement(C.a,{noMargin:!0,expand:!0},o.a.createElement(i.b,{margin:"none",value:e,disabled:!0})),o.a.createElement(d.a,{onClick:()=>this._onRemoveBehavior(e)},o.a.createElement(u.a,null))),o.a.createElement(h.a,null,o.a.createElement(a.Trans,{id:"This behavior is unknown. It might be a behavior that was defined in an extension and that was later removed. You should delete it."})));const g=E.a.getEditor(l),b=Object(j.b)(l);return o.a.createElement("div",{key:r},o.a.createElement(m.b,null,o.a.createElement(m.a,null,o.a.createElement(a.Trans,{id:"Behavior"})," "),o.a.createElement(C.a,{noMargin:!0,expand:!0},o.a.createElement(i.b,{value:e,hintText:{id:"Behavior name"},margin:"none",fullWidth:!0,disabled:!0,onChange:(e,t)=>this._onChangeBehaviorName(s,t)})),o.a.createElement(d.a,{onClick:()=>this._onRemoveBehavior(e)},o.a.createElement(u.a,null)),o.a.createElement(p.a,{helpPagePath:Object(f.a)(c)})),b.length?o.a.createElement(C.b,null,o.a.createElement(T.a,{expand:!0},b.map(e=>o.a.createElement(O.a,{key:e.identifier,tutorialHint:e})))):null,o.a.createElement(C.b,null,o.a.createElement(g,{behavior:c,behaviorContent:s,project:n,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors})))}).concat(o.a.createElement(w,{key:"add-behavior-line",onAdd:this.chooseNewBehavior})),this.state.newBehaviorDialogOpen&&o.a.createElement(b.a,{open:this.state.newBehaviorDialogOpen,objectType:t.getType(),onClose:()=>this.setState({newBehaviorDialogOpen:!1}),onChoose:this.addBehavior,project:n}))}}}).call(this,n(1))},1875:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var a=n(100),r=n.n(a),o=n(107),i=n(87),s=n(71),l=n(4),c=n(84),u=n(106),d=n(81),h=n(149),m=n(148),p=n(153),g=n(99),b=n(279),f=n.n(b),E=n(280),v=n.n(E),y=n(1876),C=n.n(y),x=n(73),j=n(22),O=n(212),T=n(200),S=n(799),w=n(139),k=n(92),N=n(915),_=n(5),P=n(268),I=n(719),B=n(270),R=n(151);const M={disabledItem:{opacity:.6}},F=({behaviorMetadata:e,onClick:t,disabled:n})=>l.createElement(g.b,{leftIcon:l.createElement(m.a,{src:e.iconFilename,iconSize:40,isGDevelopIcon:!0}),key:e.type,primaryText:e.fullName,secondaryText:e.description,secondaryTextLines:2,onClick:t,style:n?M.disabledItem:void 0,disabled:n});function L({project:e,open:t,onClose:n,onChoose:a,objectType:m}){const b=l.useState(!1),E=Object(i.a)(b,2),y=E[0],M=E[1],L=l.useState(""),A=Object(i.a)(L,2),D=A[0],U=A[1],V=l.useState("installed"),W=Object(i.a)(V,2),G=W[0],z=W[1],H=l.useRef(null),K=l.useRef(null),Y=l.useState(!1),X=Object(i.a)(Y,2),J=X[0],q=X[1],Z=l.useState(0),Q=Object(i.a)(Z,2),$=Q[0],ee=Q[1],te=l.useContext(P.a),ne=e.getCurrentPlatform(),ae=l.useMemo(()=>e&&ne?Object(S.a)(ne,e):[],[e,ne,$]),re=Object(w.b)();if(l.useEffect(()=>{setTimeout(()=>{re&&H.current&&H.current.focus()},20)},[re]),!t||!e)return null;const oe=Object(O.c)(),ie=Object(S.b)(ae,D),se=ie.filter(({type:e})=>!oe[e]),le=ie.filter(({type:e})=>!!oe[e]),ce=(e,{type:t,defaultName:n})=>(oe[t]&&Object(j.b)(e._(oe[t].warning)),a(t,n)),ue=e=>""===e.objectType||e.objectType===m,de=!!D&&!se.length&&!le.length;return l.createElement(s.I18n,null,({i18n:t})=>l.createElement(c.a,{title:l.createElement(s.Trans,{id:"Add a new behavior to the object"}),actions:[l.createElement(d.a,{key:"close",label:l.createElement(s.Trans,{id:"Close"}),primary:!1,onClick:n})],secondaryActions:l.createElement(u.a,{helpPagePath:"/behaviors"}),open:!0,cannotBeDismissed:!1,flexBody:!0,noMargin:!0},l.createElement(x.a,{expand:!0,noMargin:!0},l.createElement(p.b,{value:G,onChange:z},l.createElement(p.a,{label:l.createElement(s.Trans,{id:"Installed Behaviors"}),value:"installed"}),l.createElement(p.a,{label:l.createElement(s.Trans,{id:"Search New Behaviors"}),value:"search"})),"installed"===G&&l.createElement(l.Fragment,null,l.createElement(w.a,{value:D,onRequestSearch:()=>{se.length?ce(t,se[0]):y&&le.length&&ce(t,le[0])},onChange:U,ref:H}),de&&l.createElement(k.a,null,l.createElement(s.Trans,{id:"No behavior found for your search. Try another search, or search for new behaviors to install."})),l.createElement(R.a,{ref:K},l.createElement(g.a,null,se.map((e,n)=>l.createElement(F,{key:n,behaviorMetadata:e,onClick:()=>ce(t,e),disabled:!ue(e)})),y&&!!le.length&&l.createElement(h.a,null,"Deprecated (old, prefer not to use anymore)"),y&&le.map((e,n)=>l.createElement(F,{key:n,behaviorMetadata:e,onClick:()=>ce(t,e),disabled:!ue(e)}))),l.createElement(x.b,{justifyContent:"center",alignItems:"center"},y?l.createElement(d.a,{key:"toggle-experimental",icon:l.createElement(v.a,null),primary:!1,onClick:()=>{M(!1)},label:l.createElement(s.Trans,{id:"Show deprecated (old) behaviors"})}):l.createElement(d.a,{key:"toggle-experimental",icon:l.createElement(f.a,null),primary:!1,onClick:()=>{M(!0)},label:l.createElement(s.Trans,{id:"Show deprecated (old) behaviors"})})),l.createElement(x.b,{justifyContent:"center",alignItems:"center"},l.createElement(d.a,{icon:l.createElement(C.a,null),primary:!1,onClick:()=>_.b.openExternalURL(Object(T.a)("/behaviors/events-based-behaviors")),label:l.createElement(s.Trans,{id:"Create your own behavior"})})))),"search"===G&&l.createElement(N.a,{project:e,isInstalling:J,onInstall:function(){var n=Object(o.a)(r.a.mark((function n(a){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return q(!0),n.next=3,Object(I.b)(t,e,te,a);case 3:n.sent&&(ee(Date.now()),z("installed"),K.current&&K.current.scrollToBottom()),q(!1);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),showOnlyWithBehaviors:!0})),l.createElement(B.a,{identifier:"extension-installed-explanation",message:l.createElement(s.Trans,{id:"The behavior was added to the project. You can now add it to your object."}),show:0!==$})))}},1877:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{if(!e)return null;switch(e.getTypeName()){case"DraggableBehavior::Draggable":return"/behaviors/draggable";case"PlatformBehavior::PlatformerObjectBehavior":case"PlatformBehavior::PlatformBehavior":return"/behaviors/platformer";default:return""}}},1878:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(77),r=n(71),o=n(4),i=n.n(o),s=n(81),l=n(93),c=n(88),u=n(84),d=n(259);class h extends o.Component{constructor(e){super(e),this._onApply=()=>{this.props.onApply({gridWidth:this.state.gridWidth,gridHeight:this.state.gridHeight,gridOffsetX:this.state.gridOffsetX,gridOffsetY:this.state.gridOffsetY,gridColor:this.state.gridColor})},this.state=Object(a.a)({},e.gridOptions)}render(){const e=[i.a.createElement(s.a,{key:"cancel",label:i.a.createElement(r.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onCancel}),i.a.createElement(s.a,{key:"apply",label:i.a.createElement(r.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:this._onApply})];return i.a.createElement(u.a,{title:i.a.createElement(r.Trans,{id:"Edit Grid Options"}),actions:e,cannotBeDismissed:!0,open:this.props.open,onRequestClose:this.props.onCancel,maxWidth:"sm",noMargin:!0},i.a.createElement(c.a,null,i.a.createElement(c.b,{noMargin:!0,expand:!0},i.a.createElement(d.a,{floatingLabelText:i.a.createElement(r.Trans,{id:"Line color"}),fullWidth:!0,color:this.state.gridColor,onChangeComplete:e=>{this.setState({gridColor:e.rgb})}})),i.a.createElement(c.b,{noMargin:!0,expand:!0},i.a.createElement(l.b,{floatingLabelText:i.a.createElement(r.Trans,{id:"Cell width (in pixels)"}),fullWidth:!0,type:"number",value:this.state.gridWidth,onChange:(e,t)=>this.setState({gridWidth:parseInt(t,10)})}),i.a.createElement(l.b,{floatingLabelText:i.a.createElement(r.Trans,{id:"Cell height (in pixels)"}),fullWidth:!0,type:"number",value:this.state.gridHeight,onChange:(e,t)=>this.setState({gridHeight:parseInt(t,10)})})),i.a.createElement(c.b,{noMargin:!0,expand:!0},i.a.createElement(l.b,{floatingLabelText:i.a.createElement(r.Trans,{id:"X offset (in pixels)"}),fullWidth:!0,type:"number",value:this.state.gridOffsetX,onChange:(e,t)=>this.setState({gridOffsetX:parseInt(t,10)})}),i.a.createElement(l.b,{floatingLabelText:i.a.createElement(r.Trans,{id:"Y offset (in pixels)"}),fullWidth:!0,type:"number",value:this.state.gridOffsetY,onChange:(e,t)=>this.setState({gridOffsetY:parseInt(t,10)})}))))}}},1879:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(136),r=n(4),o=n.n(r),i=n(2498),s=(n(569),n(1880)),l=n.n(s),c=n(907),u=n(213),d=n(866);const h={container:{overflow:"hidden"},xScrollbar:{position:"absolute",top:-13,left:0,right:0},yScrollbar:{position:"absolute",top:0,bottom:0,left:-13,transform:"rotate(180deg)"}},m=()=>{};class p extends r.Component{constructor(...e){super(...e),this._editor=null,this.state={xValue:0,yValue:0,xMin:-5e3,xMax:5e3,yMin:-5e3,yMax:5e3},this._handleXChange=(e,t)=>{const n=this.state,a=n.xMin,r=a+(n.xMax-a)*t/100;this.setState({xValue:r},()=>{this._editor&&this._editor.scrollTo(this.state.xValue,this.state.yValue)})},this._handleYChange=(e,t)=>{const n=this.state,a=n.yMin,r=a+(n.yMax-a)*(100-t)/100;this.setState({yValue:r},()=>{this._editor&&this._editor.scrollTo(this.state.xValue,this.state.yValue)})},this._setAndAdjust=({xValue:e,yValue:t})=>{const n=Math.max(Math.abs(e)+100,this.state.xMax),a=Math.max(Math.abs(t)+100,this.state.yMax);this.setState({xMax:n,yMax:a,xMin:-n,yMin:-a,xValue:e,yValue:t})},this._handleViewPositionChange=l()(e=>{e&&this._setAndAdjust({xValue:e.getViewX(),yValue:e.getViewY()})},500,{leading:!1,trailing:!0})}componentDidMount(){this._editor&&this._handleViewPositionChange(this._editor.getViewPosition())}render(){const e=this.props,t=e.wrappedEditorRef,n=Object(a.a)(e,["wrappedEditorRef"]);return o.a.createElement(u.a,null,e=>o.a.createElement(d.a,null,({width:a,height:r})=>o.a.createElement("div",{style:h.container},o.a.createElement(c.a,Object.assign({onViewPositionChanged:"touch"!==e?this._handleViewPositionChange:m,ref:e=>{t&&t(e),this._editor=e},width:a,height:r,screenType:e},n)),"touch"!==e&&o.a.createElement(i.a,{value:(this.state.xValue-this.state.xMin)/(this.state.xMax-this.state.xMin)*100,onChange:this._handleXChange,style:h.xScrollbar,orientation:"horizontal"}),"touch"!==e&&o.a.createElement(i.a,{value:(this.state.yValue-this.state.yMin)/(this.state.yMax-this.state.yMin)*100,onChange:this._handleYChange,style:h.yScrollbar,orientation:"vertical"}))))}}},188:function(e,t,n){"use strict";(function(e){n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return p}));var a=n(86),r=n(172),o=n.n(r),i=n(273);const s=e.gd,l=e=>t=>e&&t&&e.global===t.global&&e.object===t.object,c=(e,t,n)=>{const r=a=>!n||s.getTypeOfObject(e,t,a.getName(),!1)===n,o=Object(a.mapFor)(0,t.getObjectsCount(),e=>t.getObjectAt(e)).filter(r).map(e=>({object:e,global:!1})),i=e===t?[]:Object(a.mapFor)(0,e.getObjectsCount(),t=>e.getObjectAt(t)).filter(r).map(e=>({object:e,global:!0})),l=o.concat(i);return{containerObjectsList:o,projectObjectsList:i,allObjectsList:l}},u=e=>{const t=e.getCurrentPlatform().getAllPlatformExtensions();return o()(Object(a.mapFor)(0,t.size(),e=>{const n=t.at(e);return n.getExtensionObjectsTypes().toJSArray().map(e=>n.getObjectMetadata(e)).map(e=>({extension:n,objectMetadata:e,name:e.getName(),fullName:e.getFullName(),description:e.getDescription(),iconFilename:e.getIconFilename()}))}))},d=(e,{searchText:t,selectedTags:n})=>{if(!t&&!n.length)return e;const a=t.toLowerCase();return e.filter(e=>{if(!n.length)return!0;const t=e.object.getTags();return Object(i.d)(t,n)}).filter(e=>-1!==e.object.getName().toLowerCase().indexOf(a))},h=(e,t)=>{if(!t)return e;const n=t.toLowerCase();return e.filter(e=>-1!==e.group.getName().toLowerCase().indexOf(n))},m=e=>Object(a.mapFor)(0,e.count(),t=>e.getAt(t)),p=(e,t,n)=>{const r=a=>!n||s.getTypeOfObject(e,t,a.getName(),!1)===n,o=a=>!n||s.getTypeOfObject(e,t,a.getName(),!0)===n,i=Object(a.mapFor)(0,t.getObjectsCount(),e=>t.getObjectAt(e)).filter(r).map(e=>({object:e,global:!1})),l=t.getObjectGroups(),c=m(l).filter(o).map(e=>({group:e,global:!1})),u=e===t?[]:Object(a.mapFor)(0,e.getObjectsCount(),t=>e.getObjectAt(t)).filter(r).map(e=>({object:e,global:!0})),d=e.getObjectGroups(),h=e===t?[]:m(d).filter(o).map(e=>({group:e,global:!0})),p=i.concat(u),g=c.concat(h);return{containerObjectsList:i,projectObjectsList:u,allObjectsList:p,containerGroupsList:c,projectGroupsList:h,allGroupsList:g}}}).call(this,n(1))},1881:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>e.length>t?e.substring(0,t)+"...":e},1882:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(4),r=n.n(a),o=n(95),i=n(640),s=n.n(i),l=n(138);const c={container:{padding:0,width:32,height:32},icon:{width:16,height:16}};class u extends a.Component{render(){return r.a.createElement(l.a,{element:r.a.createElement(o.a,{style:c.container},r.a.createElement(s.a,{htmlColor:"white",style:c.icon})),buildMenuTemplate:this.props.buildMenuTemplate})}}},1883:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=n(122);const r=(e,t,n)=>{const a=s[e.getType()];return a?(a.onObjectAdded(e,t,n),a.getInfoBarDetails("onObjectAdded")):null},o=(e,t,n)=>{const a=s[t.getObject(e.getObjectName()).getType()];return a?(a.onInstanceAdded(e,t,n),a.getInfoBarDetails("onInstanceAdded")):null},i=e=>{for(let t=0;t<e.getLayersCount();t++){const n=e.getLayerAt(t);if(n.isLightingLayer())return n}return null},s={"Lighting::LightObject":{onObjectAdded:(e,t,n)=>{if(null===i(t)){const e=Object(a.a)("Lighting",e=>t.hasLayerNamed(e));t.insertNewLayer(e,t.getLayersCount());const n=t.getLayer("Lighting");n.setLightingLayer(!0),n.setFollowBaseLayerCamera(!0),n.setAmbientLightColor(128,128,128)}},onInstanceAdded:(e,t,n)=>{const a=i(t);a&&e.setLayer(a.getName())},getInfoBarDetails:e=>"onObjectAdded"===e?{identifier:"automatic-lighting-layer",message:{id:"A lighting layer was created. Lights will be placed on it automatically. You can change the ambient light color in the properties of this layer"},touchScreenMessage:{id:"A lighting layer was created. Lights will be placed on it automatically. You can change the ambient light color in the properties of this layer"}}:"onInstanceAdded"===e?{identifier:"object-moved-in-lighting-layer",message:{id:"The light object was automatically placed on the Lighting layer."},touchScreenMessage:{id:"The light object was automatically placed on the Lighting layer."}}:null}}},1884:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a=n(71),r=n(4),o=n(1885),i=n(2293),s=n(1888),l=n(406),c=n(270),u=n(114),d=n(6),h=n.n(d),m=n(5),p=n(113),g=n(216);const b=e.gd,f=h()("electron"),E=f?f.shell:null,v=h()("path"),y={container:{display:"flex",flex:1,position:"relative",overflow:"hidden"}},C={direction:"row",first:"properties",second:"resources-list",splitPercentage:66};class x extends r.Component{constructor(...e){super(...e),this.editorMosaic=null,this._propertiesEditor=null,this._resourcesList=null,this.resourcesLoader=u.a,this.state={showPropertiesInfoBar:!1,selectedResource:null},this.deleteResource=e=>{const t=this.props,n=t.project,a=t.onDeleteResource;if(!e)return;m.b.showConfirmDialog("Are you sure you want to remove this resource? This can't be undone.")&&a(e,t=>{t&&e&&(n.getResourcesManager().removeResource(e.getName()),this.setState({selectedResource:null},()=>{this._resourcesList&&this._resourcesList.forceUpdateList(),this.updateToolbar()}))})},this._removeUnusedResources=e=>{const t=this.props.project,n=this.state.selectedResource?this.state.selectedResource.getName():null,a=b.ProjectResourcesAdder.getAllUseless(t,e).toJSArray();console.info("Removing ".concat(a.length," unused ").concat(e," resource(s):"),a),b.ProjectResourcesAdder.removeAllUseless(t,e),a.includes(n)&&this._onResourceSelected(null),this._resourcesList&&this._resourcesList.forceUpdateList()},this._removeAllResourcesWithInvalidPath=()=>{const e=this.props.project,t=this.state.selectedResource?this.state.selectedResource.getName():null,n=e.getResourcesManager(),a=n.getAllResourceNames().toJSArray().filter(t=>"error"===Object(g.f)(e,t));a.forEach(e=>{n.removeResource(e),console.info("Removed due to invalid path: "+e)}),a.includes(t)&&this._onResourceSelected(null),this._resourcesList&&this._resourcesList.forceUpdateList()},this.openProjectFolder=()=>{const e=this.props.project;E&&E.openItem(v.dirname(e.getProjectFile()))},this.openProperties=()=>{this.editorMosaic&&(this.editorMosaic.openEditor("properties","start",66,"column")||this.setState({showPropertiesInfoBar:!0}))},this._onResourceSelected=e=>{this.setState({selectedResource:e},()=>{this._propertiesEditor&&this._propertiesEditor.forceUpdate(),this.updateToolbar()})}}updateToolbar(){this.props.setToolbar(r.createElement(s.a,{onOpenProjectFolder:this.openProjectFolder,onOpenProperties:this.openProperties,canDelete:!!this.state.selectedResource,onDeleteSelection:()=>this.deleteResource(this.state.selectedResource)}))}render(){const e=this.props,t=e.project,n=e.onRenameResource,s=e.onChooseResource,u=e.resourceSources,d=this.state.selectedResource,h={properties:{type:"secondary",title:{id:"Properties"},renderEditor:()=>r.createElement(i.a,{key:d?d.ptr:void 0,resources:d?[d]:[],project:t,resourcesLoader:this.resourcesLoader,ref:e=>this._propertiesEditor=e,onResourcePathUpdated:()=>{this._resourcesList&&this._resourcesList.checkMissingPaths()},onChooseResource:s,resourceSources:u})},"resources-list":{type:"primary",noTitleBar:!0,renderEditor:()=>r.createElement(o.a,{project:t,onDeleteResource:this.deleteResource,onRenameResource:n,onSelectResource:this._onResourceSelected,selectedResource:d,ref:e=>this._resourcesList=e,onRemoveUnusedResources:this._removeUnusedResources,onRemoveAllResourcesWithInvalidPath:this._removeAllResourcesWithInvalidPath})}};return r.createElement("div",{style:y.container},r.createElement(p.b.Consumer,null,({getDefaultEditorMosaicNode:e,setDefaultEditorMosaicNode:t})=>r.createElement(l.a,{editors:h,ref:e=>this.editorMosaic=e,initialNodes:e("resources-editor")||C,onPersistNodes:e=>t("resources-editor",e)})),r.createElement(c.a,{message:r.createElement(a.Trans,{id:"Properties panel is already opened. After selecting a resource, inspect and change its properties from this panel."}),show:!!this.state.showPropertiesInfoBar,identifier:"resource-properties-panel-explanation"}))}}x.defaultProps={setToolbar:()=>{}}}).call(this,n(1))},1885:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var a=n(71),r=n(4),o=n(194),i=n(429),s=n(115),l=n(139),c=n(22),u=n(1886),d=n(6),h=n.n(d),m=n(5),p=n(216),g=n(520);const b=Object(g.a)("glob"),f=h()("path"),E=h()("electron"),v=!!E,y=e.gd,C={listContainer:{flex:1}},x=e=>e.getName();class j extends r.Component{constructor(...e){super(...e),this.state={renamedResource:null,searchText:"",resourcesWithErrors:{}},this._deleteResource=e=>{this.props.onDeleteResource(e)},this._locateResourceFile=e=>{const t=f.dirname(Object(p.e)(this.props.project,e.getName()));E.shell.openItem(t)},this._openResourceFile=e=>{const t=Object(p.e)(this.props.project,e.getName());E.shell.openItem(t)},this._copyResourceFilePath=e=>{const t=Object(p.e)(this.props.project,e.getName());E.clipboard.writeText(t)},this._scanForNewResources=(e,t)=>{const n=b();if(!n)return;const a=this.props.project,r=a.getResourcesManager(),o=f.dirname(a.getProjectFile());n(o+"/**/*.{"+e+"}",(e,n)=>{e?console.error("Error loading ",e):n.forEach(e=>{const n=f.relative(o,e);r.hasResource(n)||(Object(p.d)(a,t(),n),console.info("".concat(n," added to project.")))}),this.forceUpdate()})},this._editName=e=>{this.setState({renamedResource:e},()=>{this.sortableList&&this.sortableList.forceUpdateGrid()})},this._rename=(e,t)=>{const n=this.props.project;if(this.setState({renamedResource:null}),e.getName()===t)return;if(n.getResourcesManager().hasResource(t))return void Object(c.c)("Another resource with this name already exists",{delayToNextTick:!0});m.b.showConfirmDialog("Are you sure you want to rename this resource? \nGame objects using the old name will no longer be able to find it!")&&this.props.onRenameResource(e,t,n=>{n&&(e.setName(t),this.forceUpdate())})},this._moveSelectionTo=e=>{const t=this.props,n=t.project,a=t.selectedResource;if(!a)return;const r=n.getResourcesManager();r.moveResource(r.getResourcePosition(a.getName()),r.getResourcePosition(e.getName())),this.forceUpdateList()},this.forceUpdateList=()=>{this.forceUpdate(),this.sortableList&&this.sortableList.forceUpdateGrid()},this._renderResourceMenuTemplate=e=>(t,n)=>[{label:e._({id:"Rename"}),click:()=>this._editName(t)},{label:e._({id:"Remove"}),click:()=>this._deleteResource(t)},{type:"separator"},{label:e._({id:"Open File"}),click:()=>this._openResourceFile(t),enabled:v},{label:e._({id:"Locate File"}),click:()=>this._locateResourceFile(t),enabled:v},{label:e._({id:"Copy File Path"}),click:()=>this._copyResourceFilePath(t),enabled:v},{type:"separator"},{label:e._({id:"Scan for Images"}),click:()=>{this._scanForNewResources(p.a.image,()=>new y.ImageResource)},enabled:v},{label:e._({id:"Scan for Audio"}),click:()=>{this._scanForNewResources(p.a.audio,()=>new y.AudioResource)},enabled:v},{label:e._({id:"Scan for Fonts"}),click:()=>{this._scanForNewResources(p.a.font,()=>new y.FontResource)},enabled:v},{label:e._({id:"Scan for Videos"}),click:()=>{this._scanForNewResources(p.a.video,()=>new y.VideoResource)},enabled:v},{type:"separator"},{label:e._({id:"Remove Unused Images"}),click:()=>{this.props.onRemoveUnusedResources("image")}},{label:e._({id:"Remove Unused Audio"}),click:()=>{this.props.onRemoveUnusedResources("audio")}},{label:e._({id:"Remove Unused Fonts"}),click:()=>{this.props.onRemoveUnusedResources("font")}},{label:e._({id:"Remove Resources with Invalid Path"}),click:()=>{this.props.onRemoveAllResourcesWithInvalidPath()},enabled:v}],this.checkMissingPaths=()=>{const e=this.props.project,t=e.getResourcesManager().getAllResourceNames().toJSArray(),n={};t.forEach(t=>{n[t]=Object(p.f)(e,t)}),this.setState({resourcesWithErrors:n}),this.forceUpdateList()}}shouldComponentUpdate(e,t){return this.state.renamedResource!==t.renamedResource||this.state.searchText!==t.searchText||(this.props.project!==e.project||this.props.selectedResource!==e.selectedResource)}componentDidMount(){this.checkMissingPaths()}render(){const e=this.props,t=e.project,n=e.selectedResource,c=e.onSelectResource,d=this.state.searchText,h=t.getResourcesManager(),m=h.getAllResourceNames().toJSArray().map(e=>h.getResource(e)),p=Object(u.a)(m,d),g=t.ptr;return r.createElement(s.a,null,r.createElement("div",{style:C.listContainer},r.createElement(o.a,null,({height:e,width:t})=>r.createElement(a.I18n,null,({i18n:a})=>r.createElement(i.a,{key:g,ref:e=>this.sortableList=e,fullList:p,width:t,height:e,getItemName:x,selectedItems:n?[n]:[],onItemSelected:c,renamedItem:this.state.renamedResource,onRename:this._rename,onMoveSelectionToItem:this._moveSelectionTo,buildMenuTemplate:this._renderResourceMenuTemplate(a),erroredItems:this.state.resourcesWithErrors,reactDndType:"GD_RESOURCE"})))),r.createElement(l.a,{value:d,onRequestSearch:()=>{},onChange:e=>this.setState({searchText:e})}))}}}).call(this,n(1))},1886:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{if(!t)return e;const n=t.toLowerCase();return e.filter(e=>-1!==e.getName().toLowerCase().indexOf(n))}},1888:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(296),i=n(254),s=n(302);class l extends a.PureComponent{render(){const e=this.props.canDelete;return r.a.createElement(o.b,{lastChild:!0},r.a.createElement(i.a,{onClick:this.props.onOpenProjectFolder,src:"res/ribbon_default/open32.png",tooltip:{id:"Open the project folder"}}),r.a.createElement(s.a,null),r.a.createElement(i.a,{onClick:this.props.onOpenProperties,src:"res/ribbon_default/editprop32.png",tooltip:{id:"Open the properties panel"}}),r.a.createElement(s.a,null),r.a.createElement(i.a,{onClick:this.props.onDeleteSelection,src:"res/ribbon_default/deleteselected32.png",disabled:!e,tooltip:{id:"Delete the selected resource"}}))}}t.a=l},189:function(e,t,n){"use strict";(function(e){var a=n(1592),r=n(1601),o=n(1602),i=n(1603),s=n(1604),l=n(1605),c=n(1606),u=n(1607),d=n(1608),h=n(778),m=n(114),p=n(218),g=n(104),b=n(6),f=n.n(b);const E=f()("path"),v=f()("electron"),y=e.gd;e.PIXI=g;const C={};t.a={renderers:{unknownObjectType:a.a,Sprite:r.a,"TiledSpriteObject::TiledSprite":o.a,"PanelSpriteObject::PanelSprite":i.a,"TextObject::Text":s.a,"PrimitiveDrawing::Drawer":l.a,"TextEntryObject::TextEntry":c.a,"ParticleSystem::ParticleEmitter":u.a,"SkeletonObject::Skeleton":d.a},getThumbnail:function(e,t){var n=t.getType();return this.renderers.hasOwnProperty(n)?this.renderers[n].getThumbnail(e,m.a,t):this.renderers.unknownObjectType.getThumbnail(e,m.a,t)},createNewInstanceRenderer:function(e,t,n,a,r){var o=a.getType();return this.renderers.hasOwnProperty(o)?new this.renderers[o](e,t,n,a,r,h.a):(console.warn("Object with type ".concat(o," has no instance renderer registered. Please use registerInstanceRenderer to register your renderer.")),new this.renderers.unknownObjectType(e,t,n,a,r,h.a))},registerInstanceRenderer:function(e,t){t.getThumbnail?this.renderers.hasOwnProperty(e)?console.warn('Tried to register renderer for object "'.concat(e,'", but a renderer already exists.')):(console.info('Properly registered renderer for object "'.concat(e,'".')),this.renderers[e]=t):console.warn('Tried to register renderer for object "'.concat(e,'", but getThumbnail is not defined.'))},registerModule:function(e,t){C[e]=t},requireModule:function(t,n){if(v&&E){const r=E.join(t,n),o=f()("module");if(!o._load)throw new Error('module._load does not exist. This is possibly a change in Node.js that is breaking the custom loader, in ObjectsRenderingService.requireModule, that is injected to expose Pixi.js to extensions using "require".');const i=o._load,s={"pixi.js-legacy":g,"pixi.js":g,"@pixi/core":g,"@pixi/display":g,"@pixi/constants":g,"@pixi/sprite":g,"@pixi/math":g,"@pixi/utils":g,"@pixi/graphics":g};o._load=function(e,t,n){const a=s[e];return a||(0===e.indexOf("./")||e===r?i(e,t,n):(console.error('A module ("'.concat(e,'") was required from ').concat(r,' but is not an allowed module or a relative file path starting with "./". null will be returned instead.')),console.warn("Allowed modules are: ",Object.keys(s)),console.warn("Please use only allowed modules or a reference a local file."),null))};let l=null;try{l=e.require(r)}catch(a){console.error('Unable to load module "'.concat(n,'". Only files located in ').concat(t," are supported. Exception was:"),a),l=null}return o._load=i,l}return C[n]?C[n]:(console.error('Unable to load module "'.concat(n,'". Are you sure you registered it using ObjectsRenderingService.registerModule? This is mandatory for the web-app to have the file bundled.')),null)},gd:y,PIXI:g,RenderedInstance:p.a}}).call(this,n(1))},190:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(77),r=n(4),o=n.n(r),i=n(97),s=n(80);const l={display:"flex",alignItems:"center",paddingLeft:8,paddingRight:8};class c extends r.Component{render(){const e=this.props.justifyContent;return o.a.createElement(i.a,null,t=>o.a.createElement("div",{style:Object(a.a)(Object(a.a)({},l),{},{height:32,backgroundColor:t.toolbar.backgroundColor,justifyContent:e})},this.props.children))}}const u={marginRight:5},d=({children:e})=>o.a.createElement(s.a,{noShrink:!0,style:u},e);t.b=c},1914:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(4),r=n.n(a),o=n(111),i=n(81),s=n(112),l=n(84),c=n(73),u=n(5),d=n(113),h=n(124),m=n(1915),p=n.n(m),g=n(71);const b=e=>"en"!==e.languageCode&&("pseudo_LOCALE"!==e.languageCode||u.b.isDev()),f=e=>{const t=e.translationRatio||0,n=(100*e.translationRatio).toFixed(0),a=t>0;return r.a.createElement(s.a,{value:e.languageCode,primaryText:e.languageNativeName+" ("+e.languageName+")"+(a?" - ~".concat(n,"%"):""),disabled:!a,key:e.languageCode})};class E extends a.Component{constructor(...e){super(...e),this.state={languageDidChange:!1}}render(){const e=this.props,t=e.open,n=e.onClose;if(!t)return null;const a=p.a.filter(b),m=a.filter(e=>e.translationRatio>.5),E=a.filter(e=>e.translationRatio<.5);return r.a.createElement(g.I18n,null,({i18n:e})=>r.a.createElement(d.b.Consumer,null,({values:a,setLanguage:d})=>{const p=e.language!==a.language;return r.a.createElement(l.a,{actions:[r.a.createElement(i.a,{label:p?r.a.createElement(g.Trans,{id:"Loading..."}):r.a.createElement(g.Trans,{id:"Close"}),primary:!1,onClick:()=>{n(this.state.languageDidChange)},disabled:p,key:"close"})],secondaryActions:[r.a.createElement(i.a,{label:r.a.createElement(g.Trans,{id:"Report a wrong translation"}),key:"report-wrong-translation",primary:!1,onClick:()=>u.b.openExternalURL("https://github.com/4ian/GDevelop/issues/969")})],onRequestClose:()=>n(this.state.languageDidChange),cannotBeDismissed:!1,open:t,title:r.a.createElement(g.Trans,{id:"Language"})},r.a.createElement(c.a,{noMargin:!0},r.a.createElement(c.b,null,r.a.createElement(h.a,{kind:"info"},r.a.createElement(g.Trans,{id:"Support for translations is still new and in beta. GDevelop needs your help to be translated in your language!"}))),r.a.createElement(c.b,{expand:!0},r.a.createElement(o.a,{floatingLabelText:r.a.createElement(g.Trans,{id:"Choose GDevelop language"}),value:a.language,onChange:(e,t,n)=>{d(n),this.setState({languageDidChange:!0})},fullWidth:!0},r.a.createElement(s.a,{value:"en",primaryText:"English (default)"}),m.map(e=>f(e)),E.map(e=>f(e)))),r.a.createElement(c.b,{expand:!0},r.a.createElement(i.a,{primary:!0,label:r.a.createElement(g.Trans,{id:"Help to translate GD in your language"}),onClick:()=>u.b.openExternalURL("https://crowdin.com/project/gdevelop"),fullWidth:!0}))))}))}}},1915:function(e,t){e.exports=[{languageCode:"af_ZA",languageName:"Afrikaans",languageNativeName:"Afrikaans",translationRatio:.010526315789473717},{languageCode:"ar_SA",languageName:"Arabic",languageNativeName:"\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629",translationRatio:.3390581717451524},{languageCode:"az_AZ",languageName:"Azerbaijani",languageNativeName:"az\u0259rbaycan dili",translationRatio:.020867959372114497},{languageCode:"bg_BG",languageName:"Bulgarian",languageNativeName:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",translationRatio:.058356417359187396},{languageCode:"bn_BD",languageName:"Bengali",languageNativeName:"\u09ac\u09be\u0982\u09b2\u09be",translationRatio:.0694367497691597},{languageCode:"ca_ES",languageName:"Catalan",languageNativeName:"Catal\xe0",translationRatio:.10600184672206836},{languageCode:"cs_CZ",languageName:"Czech",languageNativeName:"\u010de\u0161tina",translationRatio:.13924284395198527},{languageCode:"da_DK",languageName:"Danish",languageNativeName:"dansk",translationRatio:.03157894736842104},{languageCode:"de_DE",languageName:"German",languageNativeName:"Deutsch",translationRatio:.7521698984302863},{languageCode:"el_GR",languageName:"Greek",languageNativeName:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",translationRatio:.22530009233610337},{languageCode:"en",languageName:"English",languageNativeName:"English",translationRatio:.04009252120277562},{languageCode:"eo_UY",languageName:"Esperanto",languageNativeName:"Esperanto",translationRatio:.018836565096952862},{languageCode:"es_ES",languageName:"Spanish",languageNativeName:"Espa\xf1ol",translationRatio:.9239150507848569},{languageCode:"fa_IR",languageName:"Persian",languageNativeName:"\u0641\u0627\u0631\u0633\u06cc",translationRatio:.19870729455216984},{languageCode:"fi_FI",languageName:"Finnish",languageNativeName:"suomi",translationRatio:.28771929824561404},{languageCode:"fil_PH",languageName:"Filipino",languageNativeName:"Mga Filipino",translationRatio:.47940904893813485},{languageCode:"fr_FR",languageName:"French",languageNativeName:"Fran\xe7ais",translationRatio:.9492151431209603},{languageCode:"ha_HG",languageName:"Hausa",languageNativeName:"\u0647\u064e\u0648\u064f\u0633\u064e",translationRatio:.016805170821791338},{languageCode:"he_IL",languageName:"Hebrew",languageNativeName:"\u05e2\u05d1\u05e8\u05d9\u05ea",translationRatio:.024192059095106133},{languageCode:"hi_IN",languageName:"Hindi",languageNativeName:"\u0939\u093f\u0928\u094d\u0926\u0940",translationRatio:.3076638965835642},{languageCode:"hu_HU",languageName:"Hungarian",languageNativeName:"magyar",translationRatio:.23120960295475534},{languageCode:"id_ID",languageName:"Indonesian",languageNativeName:"Bahasa Indonesia",translationRatio:.4515235457063712},{languageCode:"it_IT",languageName:"Italian",languageNativeName:"Italiano",translationRatio:.8816251154201292},{languageCode:"ja_JP",languageName:"Japanese",languageNativeName:"\u65e5\u672c\u8a9e",translationRatio:.9590027700831025},{languageCode:"ko_KR",languageName:"Korean",languageNativeName:"\ud55c\uad6d\uc5b4",translationRatio:.7464450600184672},{languageCode:"lt_LT",languageName:"Lithuanian",languageNativeName:"lietuvi\u0173 kalba",translationRatio:.034533702677747025},{languageCode:"lv_LV",languageName:"Latvian",languageNativeName:"latvie\u0161u valoda",translationRatio:.009602954755309367},{languageCode:"mr_IN",languageName:"Marathi",languageNativeName:"\u092e\u0930\u093e\u0920\u0940",translationRatio:.010156971375807955},{languageCode:"ms_MY",languageName:"Malay",languageNativeName:"Bahasa Malaysia",translationRatio:.0491228070175439},{languageCode:"my_MM",languageName:"Burmese",languageNativeName:"\u1017\u1019\u102c\u1005\u102c",translationRatio:.010526315789473717},{languageCode:"nl_NL",languageName:"Dutch",languageNativeName:"Nederlands",translationRatio:.37192982456140355},{languageCode:"no_NO",languageName:"Norwegian",languageNativeName:"Norsk",translationRatio:.20258541089566018},{languageCode:"pl_PL",languageName:"Polish",languageNativeName:"j\u0119zyk polski",translationRatio:.8729455216989843},{languageCode:"pseudo_LOCALE",languageName:"for development only",languageNativeName:"Pseudolocalization",translationRatio:.9953739398612182},{languageCode:"pt_BR",languageName:"Brazilian Portuguese",languageNativeName:"Portugu\xeas brasileiro",translationRatio:.9089566020313943},{languageCode:"pt_PT",languageName:"Portuguese",languageNativeName:"Portugu\xeas",translationRatio:.5191135734072022},{languageCode:"ro_RO",languageName:"Romanian",languageNativeName:"Rom\xe2n\u0103",translationRatio:.05817174515235457},{languageCode:"ru_RU",languageName:"Russian",languageNativeName:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",translationRatio:.9578947368421052},{languageCode:"sk_SK",languageName:"Slovak",languageNativeName:"sloven\u010dina",translationRatio:.024192059095106133},{languageCode:"sl_SI",languageName:"Slovene",languageNativeName:"slovenski jezik",translationRatio:.8614958448753463},{languageCode:"sr_CS",languageName:"Serbian (Latin)",languageNativeName:"srpski",translationRatio:.26759002770083107},{languageCode:"sr_SP",languageName:"Serbian",languageNativeName:"\u0441\u0440\u043f\u0441\u043a\u0438 \u0458\u0435\u0437\u0438\u043a",translationRatio:.5695290858725761},{languageCode:"sv_SE",languageName:"Swedish",languageNativeName:"svenska",translationRatio:.17599261311172665},{languageCode:"th_TH",languageName:"Thai",languageNativeName:"\u0e44\u0e17\u0e22",translationRatio:.04524469067405357},{languageCode:"tr_TR",languageName:"Turkish",languageNativeName:"T\xfcrk\xe7e",translationRatio:.720960295475531},{languageCode:"uk_UA",languageName:"Ukrainian",languageNativeName:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",translationRatio:.772668513388735},{languageCode:"ur_PK",languageName:"Urdu",languageNativeName:"\u0627\u0631\u062f\u0648",translationRatio:.018282548476454274},{languageCode:"uz_UZ",languageName:"Uzbek",languageNativeName:"\u040e\u0437\u0431\u0435\u043a",translationRatio:.011080332409972304},{languageCode:"yo_NG",languageName:"Yoruba",languageNativeName:"Yor\xf9b\xe1",translationRatio:.535180055401662},{languageCode:"zh_CN",languageName:"Chinese Simplified",languageNativeName:"\u7b80\u5316\u5b57",translationRatio:.9937211449676824},{languageCode:"zh_TW",languageName:"Chinese Traditional",languageNativeName:"\u6b63\u9ad4\u5b57",translationRatio:.2064635272391505}]},1916:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(84),i=n(81),s=n(99),l=n(83),c=n(6),u=n.n(c),d=n(171),h=n(73);const m=u()("electron");t.a=({onClose:e,storageProviders:t,onChooseProvider:n,onCreateNewProject:c})=>r.createElement(a.I18n,null,({i18n:u})=>r.createElement(o.a,{title:r.createElement(a.Trans,{id:"Choose where to load the project from"}),onRequestClose:e,actions:[r.createElement(i.a,{label:r.createElement(a.Trans,{id:"Cancel"}),key:"close",primary:!1,onClick:e})],secondaryActions:[r.createElement(l.a,{label:r.createElement(a.Trans,{id:"Create a new project"}),key:"create-new-project",primary:!0,onClick:c})],cannotBeDismissed:!1,open:!0,noMargin:!0,maxWidth:"sm"},r.createElement(s.a,null,t.filter(e=>!e.hiddenInOpenDialog).map(e=>r.createElement(s.b,{key:e.internalName,disabled:!!e.disabled,primaryText:u._(e.name),leftIcon:e.renderIcon?e.renderIcon():void 0,onClick:()=>n(e)}))),!m&&r.createElement(h.b,null,r.createElement(h.a,null,r.createElement(d.a,null,r.createElement(a.Trans,{id:"If you have a popup blocker interrupting the opening, allow the popups and try a second time to open the project."}))))))},1917:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(84),i=n(81),s=n(99);t.a=({onClose:e,storageProviders:t,onChooseProvider:n})=>r.createElement(a.I18n,null,({i18n:l})=>r.createElement(o.a,{title:r.createElement(a.Trans,{id:"Choose where to save the project to"}),onRequestClose:e,actions:[r.createElement(i.a,{label:r.createElement(a.Trans,{id:"Cancel"}),key:"close",primary:!1,onClick:e})],cannotBeDismissed:!0,open:!0,noMargin:!0,maxWidth:"sm"},r.createElement(s.a,null,t.filter(e=>!e.hiddenInSaveDialog).map(e=>r.createElement(s.b,{key:e.internalName,disabled:!!e.disabled,primaryText:l._(e.name),leftIcon:e.renderIcon?e.renderIcon():void 0,onClick:()=>n(e)})))))},1918:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(87),r=n(71),o=n(4),i=n(84),s=n(81),l=n(83),c=n(171),u=n(73),d=n(80);const h=({onClose:e,onConfirm:t})=>o.createElement(i.a,{title:o.createElement(r.Trans,{id:"Confirm the opening"}),actions:[o.createElement(s.a,{label:o.createElement(r.Trans,{id:"Cancel"}),key:"close",primary:!1,onClick:e}),o.createElement(l.a,{label:o.createElement(r.Trans,{id:"Open the project"}),key:"open-project",primary:!0,onClick:t})],cannotBeDismissed:!0,open:!0,maxWidth:"sm"},o.createElement(u.b,null,o.createElement(u.a,null,o.createElement(d.a,null,o.createElement(r.Trans,{id:'You\'re about to open (or re-open) a project. Click on "Open the Project" to continue.'})))),o.createElement(u.b,null,o.createElement(u.a,null,o.createElement(c.a,null,o.createElement(r.Trans,{id:"If you have a popup blocker interrupting the opening, allow the popups and try a second time to open the project."}))))),m=()=>{const e=o.useRef(!1),t=o.useRef(null),n=o.useState(!1),r=Object(a.a)(n,2),i=r[0],s=r[1];return{ensureInteractionHappened:n=>new Promise(a=>{!e.current&&n.doesInitialOpenRequireUserInteraction?(console.info("Displaying confirmation dialog to ensure an interaction is made before continuing."),t.current=a,s(!0)):a(!0)}),renderOpenConfirmDialog:()=>{if(!i)return null;const n=n=>{e.current=!0,s(!1);const a=t.current;a&&(a(n),t.current=null)};return o.createElement(h,{onClose:()=>n(!1),onConfirm:()=>n(!0)})}}}},1919:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(22);function r(e,t){return!t.gdVersion&&t.eventsFunctions?(Object(a.a)({message:[e._({id:"Unable to open this file."}),e._({id:"This file is an extension file for GDevelop 5. You should instead import it, using the window to add a new extension to your project."})].join("\n"),rawError:void 0,errorId:"extension-opened-as-project-error",doNotReport:!0}),!1):!(!t.gdVersion&&!t.eventsFunctions)||(Object(a.a)({message:[e._({id:"Unable to open this file."}),e._({id:"This file is not recognized as a GDevelop 5 project. Be sure to open a file that was saved using GDevelop."})].join("\n"),rawError:void 0,errorId:"malformed-project-error",doNotReport:!0}),!1)}},1920:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(87),r=n(4),o=n.n(r);function i(e){const t=o.a.useState(e),n=Object(a.a)(t,2),r=n[0],i=n[1],s=o.a.useRef(null),l=o.a.useCallback(e=>new Promise(t=>{s.current=t,i(e)}),[i]);return o.a.useEffect(()=>{null!==s.current&&(s.current(r),s.current=null)},[r]),[r,l]}},1921:function(e,t,n){"use strict";var a=n(4),r=n(205),o=n(321);const i=(e,t,n)=>e?t(e).map(e=>({text:e.getName(),handler:()=>n(e.getName())})):[];t.a=e=>{Object(r.a)("QUIT_APP",!0,{handler:e.onCloseApp}),Object(r.a)("OPEN_PROFILE",!!e.project,{handler:e.onOpenProfile}),Object(r.a)("OPEN_GAMES_DASHBOARD",!!e.project,{handler:e.onOpenGamesDashboard}),Object(r.a)("OPEN_PROJECT_MANAGER",!!e.project,{handler:e.onOpenProjectManager}),Object(r.a)("LAUNCH_NEW_PREVIEW",e.previewEnabled,{handler:e.onLaunchPreview}),Object(r.a)("HOT_RELOAD_PREVIEW",e.hasPreviewsRunning,{handler:e.onHotReloadPreview}),Object(r.a)("LAUNCH_DEBUG_PREVIEW",e.previewEnabled&&e.allowNetworkPreview,{handler:e.onLaunchDebugPreview}),Object(r.a)("LAUNCH_NETWORK_PREVIEW",e.previewEnabled&&e.allowNetworkPreview,{handler:e.onLaunchNetworkPreview}),Object(r.a)("OPEN_START_PAGE",!0,{handler:e.onOpenStartPage}),Object(r.a)("CREATE_NEW_PROJECT",!0,{handler:e.onCreateProject}),Object(r.a)("OPEN_PROJECT",!0,{handler:e.onOpenProject}),Object(r.a)("SAVE_PROJECT",!!e.project,{handler:e.onSaveProject}),Object(r.a)("SAVE_PROJECT_AS",!!e.project,{handler:e.onSaveProjectAs}),Object(r.a)("CLOSE_PROJECT",!!e.project,{handler:e.onCloseProject}),Object(r.a)("EXPORT_GAME",!!e.project,{handler:e.onExportGame}),Object(r.a)("OPEN_COMMAND_PALETTE",!0,{handler:e.onOpenCommandPalette}),Object(r.b)("OPEN_LAYOUT",!!e.project,{generateOptions:a.useCallback(()=>i(e.project,o.d,e.onOpenLayout),[e.project,e.onOpenLayout])}),Object(r.b)("OPEN_EXTERNAL_EVENTS",!!e.project,{generateOptions:a.useCallback(()=>i(e.project,o.b,e.onOpenExternalEvents),[e.project,e.onOpenExternalEvents])}),Object(r.b)("OPEN_EXTERNAL_LAYOUT",!!e.project,{generateOptions:a.useCallback(()=>i(e.project,o.c,e.onOpenExternalLayout),[e.project,e.onOpenExternalLayout])}),Object(r.b)("OPEN_EXTENSION",!!e.project,{generateOptions:a.useCallback(()=>i(e.project,o.a,e.onOpenEventsFunctionsExtension),[e.project,e.onOpenEventsFunctionsExtension])})}},1922:function(e,t,n){"use strict";var a=n(77),r=n(4),o=(n(740),n(393)),i=n(741);class s{constructor(e){this.setActive=e=>{this._isActive=e},this.registerCommand=(e,t)=>{this._commands[e]=t,this._isActive&&this._centralManager.registerCommand(e,t)},this.deregisterCommand=e=>{delete this._commands[e],this._isActive&&this._centralManager.deregisterCommand(e)},this.registerAllCommandsToCentralManager=()=>{Object.keys(this._commands).forEach(e=>{this._centralManager.registerCommand(e,this._commands[e])})},this.deregisterAllCommandsFromCentralManager=()=>{Object.keys(this._commands).forEach(e=>{this._centralManager.deregisterCommand(e)})},this.getAllNamedCommands=()=>Object.keys(this._commands).map(e=>{const t=this._commands[e];return Object(a.a)(Object(a.a)({},t),{},{name:e})}),this.getNamedCommand=e=>{const t=this._commands[e];return t?Object(a.a)({name:e},t):this._centralManager.getNamedCommand(e)},this._commands={},this._isActive=!1,this._centralManager=e}}t.a=e=>{const t=r.useContext(o.b),n=Object(i.a)(()=>new s(t));return r.useEffect(()=>{if(e.active)return n.setActive(!0),n.registerAllCommandsToCentralManager(),()=>{n.setActive(!1),n.deregisterAllCommandsFromCentralManager()}},[e.active,n]),r.createElement(o.b.Provider,{value:n},e.children)}},1923:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(87),r=n(4);const o=e=>{const t=r.useState([]),n=Object(a.a)(t,2),o=n[0],i=n[1],s=r.useState([]),l=Object(a.a)(s,2),c=l[0],u=l[1];r.useEffect(()=>{if(!e)return void i([]);const t=e.registerCallbacks({onErrorReceived:e=>{},onConnectionClosed:({id:e,debuggerIds:t})=>{i([...t])},onConnectionOpened:({id:e,debuggerIds:t})=>{i([...t])},onServerStateChanged:()=>{},onHandleParsedMessage:({id:e,parsedMessage:t})=>{"hotReloader.logs"===t.command&&u(t.payload)}});return()=>{t()}},[e]);return{previewDebuggerIds:o,hotReloadLogs:c,clearHotReloadLogs:r.useCallback(()=>u([]),[u])}}},1924:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(71),r=n(4),o=n(84),i=n(106),s=n(81),l=n(83),c=n(88),u=n(80),d=n(653),h=n.n(d);function m({onClose:e,onLaunchNewPreview:t,logs:n}){return(e=>e.filter(e=>"error"===e.kind||"fatal"===e.kind).length>0)(n)?r.createElement(o.a,{title:r.createElement(a.Trans,{id:"Restarting the preview from scratch is required"}),onRequestClose:e,actions:[r.createElement(s.a,{label:r.createElement(a.Trans,{id:"Close"}),key:"close",primary:!1,onClick:e}),r.createElement(l.a,{icon:r.createElement(h.a,null),label:r.createElement(a.Trans,{id:"Close and launch a new preview"}),key:"new-preview",primary:!0,onClick:t})],secondaryActions:[r.createElement(i.a,{key:"help",helpPagePath:"/interface/preview"})],open:!0,cannotBeDismissed:!0},r.createElement(c.a,{noMargin:!0},r.createElement(u.a,null,r.createElement(a.Trans,{id:"Your latest changes could not be applied to the preview(s) being run. You should start a new preview instead to make sure that all your changes are reflected in the game."})))):null}},1925:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(87),r=n(4),o=n(6);const i=n.n(o)()("electron"),s=i?i.ipcRenderer:null,l=Date.now(),c=e=>{if(null===s)return;const t={details:e?"Working on:":"Not working on",state:e?e.getName():"any game",startTimestamp:l,largeImageKey:"gdicon",largeImageText:"GDevelop"};s.send("update-discord-rich-presence",t)},u=e=>{const t=Object(r.useState)(0),n=Object(a.a)(t,2),o=n[0],i=n[1];Object(r.useEffect)(()=>c(e)),Object(r.useEffect)(()=>{performance.now()-o>6e4&&(i(performance.now()),c(e))},[e,o])}},1928:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n(4),r=n.n(a),o=n(86),i=(n(93),n(1929));const s=e.gd;class l extends a.Component{constructor(e){super(e),this._chips=[];const t=s.JsPlatform.get().getAllPlatformExtensions();this._chips=Object(o.mapVector)(t,e=>e.isBuiltin()||-1!==e.getFullName().indexOf("(deprecated)")?null:{text:e.getFullName(),value:e.getName()}).filter(Boolean)}render(){const e=this.props,t=e.chosenExtensionName,n=e.onExtensionNameChosen,a=e.value,o=e.onChange;return r.a.createElement(i.a,{value:a,onChange:o,chips:this._chips,chosenChip:t,onChooseChip:n,onRequestSearch:()=>{}})}}}).call(this,n(1))},1929:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(77),r=n(4),o=n.n(r),i=n(2495),s=n(73),l=n(1930),c=n.n(l),u=n(139);const d={chip:{margin:2},chipsList:{marginTop:4,display:"flex",flexWrap:"wrap"}};class h extends r.Component{componentDidMount(){Object(u.b)()&&this._searchBar&&this._searchBar.focus()}render(){const e=this.props,t=e.chosenChip,n=e.onChooseChip,r=e.value,l=e.onChange,h=e.onRequestSearch,m=e.chips;return o.a.createElement(s.a,{noMargin:!0},o.a.createElement(u.a,{value:r,onRequestSearch:h,onChange:e=>{l(e)},ref:e=>this._searchBar=e}),o.a.createElement(s.b,null,o.a.createElement(s.a,null,o.a.createElement("div",{style:d.chipsList},m&&m.map(({text:e,value:r})=>{return o.a.createElement(i.a,{size:"small",key:r,style:Object(a.a)(Object(a.a)({},d.chip),{},{backgroundColor:t&&t!==r?void 0:(s=r,c()({seed:s,luminosity:"light"})),color:t&&t!==r?void 0:"black"}),onClick:()=>n(t===r?"":r),label:e});var s})))))}}},1968:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a=n(77),r=n(4),o=n(71),i=n(602),s=n(875);const l=e.gd;class c extends r.Component{constructor(...e){super(...e),this.state={language:"en",catalogs:{},i18n:null},this._loadCatalog=e=>this.state.catalogs[e]?Promise.resolve(this.state.catalogs):n(1969)("./".concat(e,"/messages")).then(t=>Object(a.a)(Object(a.a)({},this.state.catalogs),{},{[e]:t}),t=>(console.error("Error while loading language="+e,t),this.state.catalogs))}componentDidMount(){this._loadLanguage(this.props.language)}componentDidUpdate(e){e.language!==this.props.language&&this._loadLanguage(this.props.language)}_loadLanguage(e){this._loadCatalog(e).then(t=>{this.setState({language:e,catalogs:t,i18n:Object(i.setupI18n)({language:e,catalogs:t})},()=>{const t=this.state.i18n;l.getTranslation=Object(s.b)(t),console.info('Loaded "'.concat(e,'" language'))})})}render(){const e=this.state,t=e.i18n,n=e.catalogs,a=e.language,i=this.props.children;return t?r.createElement(o.I18nProvider,{i18n:t,language:a,catalogs:n},i):null}}}).call(this,n(1))},1969:function(e,t,n){var a={"./af_ZA/messages":[2230,5],"./ar_SA/messages":[2231,6],"./az_AZ/messages":[2232,7],"./bg_BG/messages":[2233,8],"./bn_BD/messages":[2234,9],"./ca_ES/messages":[2235,10],"./cs_CZ/messages":[2236,11],"./da_DK/messages":[2237,12],"./de_DE/messages":[2238,13],"./el_GR/messages":[2239,14],"./en/messages":[2240,15],"./eo_UY/messages":[2241,16],"./es_ES/messages":[2242,17],"./fa_IR/messages":[2243,18],"./fi_FI/messages":[2244,19],"./fil_PH/messages":[2245,20],"./fr_FR/messages":[2246,21],"./ha_HG/messages":[2247,22],"./he_IL/messages":[2248,23],"./hi_IN/messages":[2249,24],"./hu_HU/messages":[2250,25],"./id_ID/messages":[2251,26],"./it_IT/messages":[2252,27],"./ja_JP/messages":[2253,28],"./ko_KR/messages":[2254,29],"./lt_LT/messages":[2255,30],"./lv_LV/messages":[2256,31],"./mr_IN/messages":[2257,32],"./ms_MY/messages":[2258,33],"./my_MM/messages":[2259,34],"./nl_NL/messages":[2260,35],"./no_NO/messages":[2261,36],"./pl_PL/messages":[2262,37],"./pseudo_LOCALE/messages":[2263,38],"./pt_BR/messages":[2264,39],"./pt_PT/messages":[2265,40],"./ro_RO/messages":[2266,41],"./ru_RU/messages":[2267,42],"./sk_SK/messages":[2268,43],"./sl_SI/messages":[2269,44],"./sr_CS/messages":[2270,45],"./sr_SP/messages":[2271,46],"./sv_SE/messages":[2272,47],"./th_TH/messages":[2273,48],"./tr_TR/messages":[2274,49],"./uk_UA/messages":[2275,50],"./ur_PK/messages":[2276,51],"./uz_UZ/messages":[2277,52],"./yo_NG/messages":[2278,53],"./zh_CN/messages":[2279,54],"./zh_TW/messages":[2280,55]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,7)}))}r.keys=function(){return Object.keys(a)},r.id=1969,e.exports=r},200:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const a=e=>e.startsWith("/"),r=e=>e.startsWith("http://")||e.startsWith("https://"),o=e=>a(e)?"http://wiki.compilgames.net/doku.php/gdevelop5".concat(e,"?utm_source=gdevelop&utm_medium=help-link"):r(e)?e:""},201:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(4);const r=(e,t,n)=>{if(e.startsWith("data:"))return e;const a=-1===e.indexOf("?")?"?":"&";return e+a+t+"="+n},o=e=>a.createElement("img",Object.assign({},e,{src:e.src?r(e.src,"gdUsage","img"):void 0}))},205:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(4),r=n(393);const o=(e,t,n)=>{const o=a.useContext(r.b),i=n.handler;a.useEffect(()=>{if(t)return o.registerCommand(e,{handler:i}),()=>o.deregisterCommand(e)},[o,e,t,i])},i=(e,t,n)=>{const o=a.useContext(r.b),i=n.generateOptions;a.useEffect(()=>{if(t)return o.registerCommand(e,{generateOptions:i}),()=>o.deregisterCommand(e)},[o,e,t,i])}},207:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"g",(function(){return p}));var a=n(170),r=n.n(a),o=n(573),i=n(24),s=n(426);const l=(e,t)=>e&&e[t]?"s3Key"===t?"https://games.gdevelop-app.com/".concat(e[t],"/index.html"):"https://builds.gdevelop-app.com/".concat(e[t]):null,c=()=>{const e="game-archive-"+Object(o.a)(),t=e+"/game-archive.zip";return Object(s.c)({uploadType:"build",key:t,contentType:"application/zip"}).then(({signedUrl:e})=>({signedUrl:e,contentType:"application/zip",key:t}))},u=(e,t,n,a)=>e().then(e=>r.a.post("".concat(i.c.baseUrl,"/build?userId=").concat(encodeURIComponent(t),"&key=").concat(encodeURIComponent(n),"&type=electron-build&targets=").concat(encodeURIComponent(a.join(","))),null,{params:{},headers:{Authorization:e}})).then(e=>e.data),d=(e,t,n)=>e().then(e=>r.a.post("".concat(i.c.baseUrl,"/build?userId=").concat(encodeURIComponent(t),"&key=").concat(encodeURIComponent(n),"&type=web-build&targets=s3"),null,{params:{},headers:{Authorization:e}})).then(e=>e.data),h=(e,t,n)=>e().then(e=>r.a.post("".concat(i.c.baseUrl,"/build?userId=").concat(encodeURIComponent(t),"&key=").concat(encodeURIComponent(n),"&type=cordova-build"),null,{params:{},headers:{Authorization:e}})).then(e=>e.data),m=(e,t,n)=>e().then(e=>r.a.get("".concat(i.c.baseUrl,"/build/").concat(n),{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data),p=(e,t)=>e().then(e=>r.a.get("".concat(i.c.baseUrl,"/build"),{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data)},211:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(4),r=n(1001),o=n.n(r),i=n(224),s=n(134),l=n.n(s);const c=e=>{const t=a.useContext(i.a),n=a.useMemo(()=>{return t=e.isStandaloneText||!1,n=e.allowParagraphs||!1,{root:e=>t?a.createElement("div",e):a.createElement("span",e),link:e=>e.href?a.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.children):e.children,linkReference:e=>e.href?a.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.children):e.children,paragraph:e=>t||n?a.createElement("p",null,e.children):e.children};var t,n},[e.isStandaloneText,e.allowParagraphs]);return a.createElement(o.a,{escapeHtml:!0,source:e.source,className:l()({"gd-markdown":!0,[t.markdownRootClassName]:!0,"standalone-text-container":e.isStandaloneText}),renderers:n})}},212:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"a",(function(){return m}));var a=n(200);const r=()=>({"PhysicsBehavior::PhysicsBehavior":{warning:{id:"A new physics engine (Physics Engine 2.0) is now available. You should prefer using it for new game. For existing games, note that the two behaviors are not compatible, so you should only use one of them with your objects."}}}),o=()=>({"SkeletonObject::Skeleton":!0,"TileMap::TileMap":!0}),i=()=>({"Video::VideoObject":[{kind:"warning",message:{id:"Most browsers will require the user to have interacted with your game before allowing any video to play. Make sure that the player click/touch the screen at the beginning of the game before starting any video."}},{kind:"warning",message:{id:"For a given video resource, only one video will be played in memory and displayed. If you put this object multiple times on the scene, all the instances will be displaying the exact same video (with the same timing and paused/played/stopped state)."}},{kind:"info",message:{id:"Video format supported can vary according to devices and browsers. For maximum compatibility, use H.264/mp4 file format (and AAC for audio)."}}],"SkeletonObject::Skeleton":[{kind:"warning",message:{id:"This object is experimental and not actively maintained. It might have bugs or incomplete support in GDevelop. A maintainer is searched to improve the object implementation and solve any issue. Your help is welcome!"}},{kind:"info",message:{id:"Only use this object if you can contribute back to the source code or are able to remove/replace it from your game in a future version."}}],"TileMap::TileMap":[{kind:"info",message:{id:"The tilemap must be designed in a separated program, Tiled, that can be downloaded on mapeditor.org. Save your map as a JSON file, then select here the Atlas image that you used and the Tile map JSON file."}}]}),s=e=>0===e.indexOf("PhysicsBehavior::")?{kind:"warning",message:{id:'This action is deprecated and should not be used anymore. Instead, use for all your objects the behavior called "Physics2" and the associated actions (in this case, all objects must be set up to use Physics2, you can\'t mix the behaviors).'}}:"TextObject::Size"===e?{kind:"warning",message:{id:"This action will create a new texture and re-render the text each time it is called, which is expensive and can reduce performances. Prefer to avoid changing a lot the character size of a text."}}:"PlayMusicCanal"===e||"PlayMusic"===e?{kind:"warning",message:{id:"Musics will only be played if the user has interacted with the game before (by clicking/touching it or pressing a key on the keyboard). This is due to browser limitations. Make sure to have the user interact with the game before using this action."}}:"P2P::OnEvent"===e?{kind:"info",message:{id:"Read the wiki page for more info about the dataloss mode."}}:0===e.indexOf("P2P::")?{kind:"warning",message:{id:"It is recommended to use your own custom broker server. Read the wiki page for more info."},identifier:"p2p-broker-recommendation"}:"SystemInfo::IsMobile"===e?{kind:"warning",message:{id:'Note that the distinction between what is a mobile device and what is not is becoming blurry (with devices like iPad pro and other "desktop-class" tablets). If you use this for mobile controls, prefer to check if the device has touchscreen support.'}}:"AdvancedWindow::SetClosable"===e||"AdvancedWindow::EnableWindow"===e||"AdvancedWindow::Show"===e||"AdvancedWindow::SetFocusable"===e||"AdvancedWindow::Focus"===e?{kind:"warning",message:{id:"Be careful with this action, you may have problems exiting the preview if you don't add a way to toggle it back."}}:"GetArgumentAsBoolean"===e?{kind:"info",message:{id:'If the parameter is a string or a number, you probably want to use the expressions "GetArgumentAsString" or "GetArgumentAsNumber", along with the conditions "Compare two strings" or "Compare two numbers".'}}:null,l={"geometry-monster":{kind:"tutorial",iconSrc:"res/tutorial_icons/geometry-monster.png",name:"Geometry Monster Tutorial",message:{id:"Make a hyper-casual mobile game where the player must grab shapes and avoid bombs."},link:Object(a.a)("/tutorials/geometry-monster"),identifier:"geometry-monster",featuredForGettingStarted:!0},platformer:{kind:"tutorial",iconSrc:"res/tutorial_icons/platformer.png",name:"Platformer Tutorial",message:{id:"Make a platform game from scratch."},link:Object(a.a)("/tutorials/platformer/start"),identifier:"platformer",featuredForGettingStarted:!0},"space-shooter":{kind:"tutorial",iconSrc:"res/tutorial_icons/space-shooter.png",name:"Space Shooter Tutorial",message:{id:"Make a space shooter game from scratch."},link:Object(a.a)("/tutorials/space-shooter"),identifier:"space-shooter",featuredForGettingStarted:!0},"simple-game-physics-particles":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/simple-game-physics-particles.jpg",name:"How to Create a Simple Game with Physics and Particles",message:{id:"Create a game from scratch using physics and particles."},link:"https://www.youtube.com/watch?v=w8B84Dpgkjc",identifier:"simple-game-physics-particles",featuredForGettingStarted:!0},"tank-shooter":{kind:"tutorial",iconSrc:null,name:"Tank Shooter Tutorial",message:{id:"Make a simple tank shooter game from scratch."},link:Object(a.a)("/tutorials/tank-shooter"),identifier:"tank-shooter"},"endless-runner":{kind:"tutorial",iconSrc:null,name:"Endless Runner Tutorial",message:{id:"Make a simple game where the player must jump on platforms for as long as possible."},link:Object(a.a)("/tutorials/endless-runner"),identifier:"endless-runner"},"endless-car-game":{kind:"tutorial",iconSrc:null,name:"Endless Car Game Tutorial",message:{id:"Create a simple game where you must dodge the cars on the road."},link:Object(a.a)("/tutorials/roadrider"),identifier:"endless-car-game"},"breakout-tutorial":{kind:"tutorial",iconSrc:null,name:"Breakout Tutorial",message:{id:"Create a simple breakout game where you must destroy all the bricks on the screen."},link:Object(a.a)("/tutorials/breakout"),identifier:"breakout-tutorial"},"screen-shake-timer-variables":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/screen-shake-timer-variables.jpg",name:"Screen Shake Effect with Timers and Variables",message:{id:"Learn how to add a screen shake effect when the player falls from a very high platform in a platformer."},link:"https://www.youtube.com/watch?v=0w0NGuj4OFQ",identifier:"screen-shake-timer-variables"},"ghost-enemy-following-player":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/ghost-enemy-following-player.jpg",name:"Ghost Enemy Following the Player",message:{id:"Make a ghost like enemy floating toward the player."},link:"https://www.youtube.com/watch?v=SLUlnhKuuqE",identifier:"ghost-enemy-following-player"},"melee-sword-attack":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/melee-sword-attack.jpg",name:"Melee/Sword Attack",message:{id:"Learn how to make a melee/sword attack with a randomly triggered animation each time a key is pressed."},link:"https://www.youtube.com/watch?v=3XT40kDRp8g",identifier:"melee-sword-attack"},"physics-engine-platformer-game":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/physics-engine-platformer-game.jpg",name:"Platformer with the physics engine",message:{id:"Learn how to make a platformer game using the physics engine."},link:"https://www.youtube.com/watch?v=96gNCmnQwaE",identifier:"physics-engine-platformer-game"},"tween-behavior":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/tween-behavior.jpg",name:"Tween Behavior",message:{id:"Learn how to use the Tween Behavior and how it can be used to add more life and animation to you projects."},link:"https://www.youtube.com/watch?v=SLqnwC9D5Q4",identifier:"tween-behavior"},"responsive-ui":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/responsive-ui.jpg",name:"Reponsive UI",message:{id:"Learn how to add responsive UI using anchors."},link:"https://www.youtube.com/watch?v=VgrEhg0esCg",identifier:"responsive-ui"},"smooth-camera-movement":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/smooth-camera-movement.jpg",name:"Smooth Camera Movement",message:{id:"Learn how to make the camera follow the player in a smooth movement."},link:"https://www.youtube.com/watch?v=yUNisggNh7s",identifier:"smooth-camera-movement"},"pause-menu":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/pause-menu.jpg",name:"Pause Menu",message:{id:"Learn how to stop the time and make a pause menu."},link:"https://www.youtube.com/watch?v=k2J784esdkc",identifier:"pause-menu"},"character-selection-feature":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/character-selection-feature.jpg",name:"Character Selection",message:{id:"Learn how to add a selector to choose a character (or anything else) in your game."},link:"https://www.youtube.com/watch?v=8DpsjXHd4ro",identifier:"character-selection-feature"},"push-objects":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/push-objects.jpg",name:"Push Objects",message:{id:"Learn how to push objects, like a box, in a platform game."},link:"https://www.youtube.com/watch?v=11tjJ0JgYuk",identifier:"push-objects"},"save-and-load":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/save-and-load.jpg",name:"Save and Load",message:{id:"Learn how to save the player progress, and other information, and to load them again later."},link:"https://www.youtube.com/watch?v=bXUGJqHhuCo",identifier:"save-and-load"},"particle-effects":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/particle-effects.jpg",name:"Particle Effects",message:{id:"Learn how to use particle emitters in GDevelop to create effects like fire, explosion, magic beam, etc..."},link:"https://www.youtube.com/watch?v=7sqMmTntvKs",identifier:"particle-effects"},"opening-chest":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/opening-chest.jpg",name:"Open a Loot Chest",message:{id:"How to open a loot chest with a key that the player can find in the level"},link:"https://www.youtube.com/watch?v=1qsCgwFtYfg",identifier:"opening-chest"},"health-bar-and-health-potion":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/health-bar-and-health-potion.jpg",name:"Create a Health Bar and Health Potion",message:{id:"How to show a health bar on screen and a potion to give back health to the player."},link:"https://www.youtube.com/watch?v=P-scQW7PeVg",identifier:"health-bar-and-health-potion"},"touch-360-joystick-controller":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/touch-360-joystick-controller.jpg",name:"Create a Touch 360 Joystick Controller",message:{id:"How to create a joystick displayed on screen, useful to control the player in mobile games."},link:"https://www.youtube.com/watch?v=-k-bVU3QrfA",identifier:"touch-360-joystick-controller"},"flickering-dynamic-light-effect":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/flickering-dynamic-light-effect.jpg",name:"Create a Flickering Dynamic Light Effect",message:{id:"Learn how to create a dynamic light following the player, with a flickering effect."},link:"https://www.youtube.com/watch?v=HolCWx4E0TU",identifier:"flickering-dynamic-light-effect"},"2d-platformer-shooter":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/2d-platformer-shooter.jpg",name:"Create a 2D Platformer Shooter",message:{id:"Create a 2D platform game where the player can shoot at enemies chasing him."},link:"https://www.youtube.com/watch?v=OOw3Sh6rga8",identifier:"2d-platformer-shooter"},"animated-buttons":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/animated-buttons.jpg",name:"Create Animated Buttons",message:{id:"Create animated buttons that can be shown in your game menus (main menu, selection screen, etc...)."},link:"https://www.youtube.com/watch?v=7_oLY_x4vEk",identifier:"animated-buttons"},"simple-trampoline-platformer":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/simple-trampoline-platformer.jpg",name:"Make a Simple Trampoline/Jump Pad",message:{id:"Create a trampoline in your platformer game, making the player jump very high when stepped on."},link:"https://www.youtube.com/watch?v=p42i4omA7j8",identifier:"simple-trampoline-platformer"},"2d-car-physics-movement":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/2d-car-physics-movement.jpg",name:"How to Make a 2D Car or Bike Movement With Physics Engine",message:{id:"Learn how to create a physics based car movement."},link:"https://www.youtube.com/watch?v=_-fX755cctU",identifier:"2d-car-physics-movement"}},c=Object.keys(l).map(e=>l[e]),u=e=>"ParticleSystem::ParticleEmitter"===e?[l["particle-effects"]]:"Lighting::LightObject"===e?[l["flickering-dynamic-light-effect"]]:[],d=e=>"Tween::TweenBehavior"===e?[l["tween-behavior"]]:"AnchorBehavior::AnchorBehavior"===e?[l["responsive-ui"]]:"Physics2::Physics2Behavior"===e?[l["physics-engine-platformer-game"],l["2d-car-physics-movement"]]:[],h=e=>["CameraX","CameraY","RotateCamera","ZoomCamera","FixCamera","CentreCamera"].includes(e)?[l["smooth-camera-movement"]]:"ChangeTimeScale"===e?[l["pause-menu"]]:["EcrireFichierExp","EcrireFichierTxt","LireFichierExp","LireFichierTxt"].includes(e)?[l["save-and-load"]]:"PlatformBehavior::SimulateJumpKey"===e?[l["simple-trampoline-platformer"]]:[],m=()=>c},213:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));n(4);let a=!1;"undefined"!==typeof window&&window.addEventListener("touchstart",(function e(){console.info("Touch detected, considering the screen as touch enabled."),a=!0,window.removeEventListener("touchstart",e,!1)}),!1);const r=({children:e})=>"undefined"===typeof window?e("normal"):e(a?"touch":"normal"),o=()=>a?"touch":"normal"},215:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a=n(4);const r={authenticated:!1,profile:null,subscription:null,usages:null,limits:null,onLogout:()=>{},onLogin:()=>{},onCreateAccount:()=>{},onRefreshUserProfile:()=>{},getAuthorizationHeader:()=>Promise.reject(new Error("Unimplemented"))},o=a.createContext(r);t.a=o},216:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return g})),n.d(t,"b",(function(){return b}));var a=n(114),r=n(6),o=n.n(r),i=n(122);const s=o()("fs"),l=o()("path"),c=e.gd,u={image:"png,jpg,jpeg,PNG,JPG,JPEG",audio:"wav,mp3,ogg,WAV,MP3,OGG",font:"ttf,ttc,otf,TTF,TTC,OTF",video:"mp4,MP4"},d=(e,t,n)=>{const a=e.getResourcesManager();a.hasResource(n)&&a.removeResource(n),t.setFile(n),t.setName(n),b(e,t),a.addResource(t),t.delete()},h=(e,t)=>{let n=a.a.getResourceFullUrl(e,t,{}).substring(7);return-1!==n.indexOf("?cache=")&&(n=n.substring(0,n.lastIndexOf("?cache="))),n},m=(e,t)=>{const n=l.dirname(e.getProjectFile());return t.includes(n)},p=(e,t)=>{if(!s||!l)return Promise.resolve(t);const n=l.dirname(e.getProjectFile());return Promise.all(t.map(t=>{if(m(e,t))return t;const a=l.basename(t),r=l.extname(a),o=l.basename(a,r),c=Object(i.a)(o,e=>{const t=l.join(n,e)+r;return s.existsSync(t)}),u=l.join(n,c+r);return new Promise(e=>{s.copyFile(t,u,n=>e(n?t:u))})}))},g=(e,t)=>{if(!s)return"";const n=l.normalize(h(e,t));return s.existsSync(n)?m(e,n)?"":"warning":"error"},b=(e,t)=>{t instanceof c.ImageResource&&t.setSmooth("nearest"!==e.getScaleMode())}}).call(this,n(1))},218:function(e,t,n){"use strict";function a(e,t,n,a,r,o){this._pixiObject=null,this._instance=n,this._associatedObject=a,this._pixiContainer=r,this._project=e,this._layout=t,this._pixiResourcesLoader=o,this.wasUsed=!0}a.toRad=function(e){return e/180*3.14159},a.prototype.update=function(){},a.prototype.getPixiObject=function(){return this._pixiObject},a.prototype.getInstance=function(){return this._instance},a.prototype.instanceRemovedFromScene=function(){null!==this._pixiObject&&-1!==this._pixiContainer.children.indexOf(this._pixiObject)&&this._pixiContainer.removeChild(this._pixiObject)},a.prototype.getOriginX=function(){return 0},a.prototype.getOriginY=function(){return 0},a.prototype.getDefaultWidth=function(){return 32},a.prototype.getDefaultHeight=function(){return 32},t.a=a},224:function(e,t,n){"use strict";var a=n(4),r=n(455);const o=a.createContext(r.a.gdevelopTheme);t.a=o},2283:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n.n(r),i=n(81),s=n(153),l=n(84),c=n(73),u=n(502),d=n(2496),h=n(125),m=n(1504),p=n.n(m);const g=(e,{size:t}={size:40})=>{const n=p()(e.trim().toLowerCase());return"https://www.gravatar.com/avatar/".concat(n,"?s=").concat(t,"&d=retro")};var b=n(80),f=({profile:e})=>e?r.createElement(c.a,null,r.createElement(c.b,{alignItems:"center"},r.createElement(d.a,{src:g(e.email||"",{size:40})}),r.createElement(c.c,null),r.createElement(b.a,{size:"title"},"You are connected as ",e.email)),r.createElement(c.b,null,r.createElement(b.a,null,r.createElement(a.Trans,{id:"An account allows you to access GDevelop services online."})))):r.createElement(h.a,null),E=n(92),v=n(106),y=n(156),C=n(906),x=({usages:e})=>r.createElement(c.a,{noMargin:!0},r.createElement(c.b,null,e?0===e.length?r.createElement(E.a,null,r.createElement(a.Trans,{id:"You don't have any usage of the online services for now"})):r.createElement(y.a,null,r.createElement(y.c,null,r.createElement(y.e,null,r.createElement(y.d,null,"Date"),r.createElement(y.d,null,"Type"))),r.createElement(y.b,null,e.map(e=>r.createElement(y.e,{key:e.id},r.createElement(y.f,null,Object(C.a)(e.createdAt,"yyyy-MM-dd HH:mm:ss")),r.createElement(y.f,null,e.type))))):r.createElement(h.a,null))),j=n(83),O=({subscription:e,onChangeSubscription:t})=>e&&e.planId?r.createElement(c.a,null,r.createElement(c.b,null,r.createElement(b.a,null,r.createElement(a.Trans,{id:"You are subscribed to {0}. Congratulations! You have access to more online services, including building your game for Android, Windows, macOS and Linux in one click!",values:{0:e.planId}}))),r.createElement(c.b,{justifyContent:"center"},r.createElement(j.a,{label:r.createElement(a.Trans,{id:"Upgrade/change"}),primary:!0,onClick:t}))):e&&!e.planId?r.createElement(c.a,null,r.createElement(c.b,null,r.createElement(b.a,null,r.createElement(a.Trans,{id:"If you don't have a subscription, consider getting one now. Accounts allow you to access all of the online services. With just one click, you can build your game for Android, Windows, macOS and Linux!"}))),r.createElement(c.b,{justifyContent:"center"},r.createElement(j.a,{label:r.createElement(a.Trans,{id:"Choose a subscription"}),primary:!0,onClick:t}))):r.createElement(h.a,null),T=n(215),S=n(100),w=n.n(S),k=n(107),N=n(87),_=n(236),P=n(380),I=n(2414),B=n(2415),R=n(2495),M=n(2416),F=n(505),L=n.n(F),A=n(504),D=n.n(A);const U=({game:e,isCurrentGame:t,onOpenDetails:n,onOpenAnalytics:o,onOpenMonetization:s})=>r.createElement(I.a,{key:e.id},r.createElement(B.a,{title:e.gameName,subheader:r.createElement(c.b,{alignItems:"center",noMargin:!0},r.createElement(a.Trans,{id:"Registered on {0}",values:{0:Object(C.a)(1e3*e.createdAt,"yyyy-MM-dd")}}),t&&r.createElement(r.Fragment,null,r.createElement(c.c,null),r.createElement(R.a,{size:"small",label:r.createElement(a.Trans,{id:"Game currently edited"})})))}),r.createElement(M.a,null,r.createElement(c.b,{expand:!0,noMargin:!0,justifyContent:"flex-end"},r.createElement(i.a,{label:r.createElement(a.Trans,{id:"See details"}),onClick:n}),r.createElement(j.a,{primary:!0,icon:r.createElement(L.a,null),label:r.createElement(a.Trans,{id:"Analytics"}),onClick:o}),r.createElement(c.c,null),r.createElement(j.a,{primary:!0,icon:r.createElement(D.a,null),label:r.createElement(a.Trans,{id:"Monetization"}),onClick:s}))));var V=n(88),W=n(501),G=n(920);const z=e=>{const t=r.useState(null),n=Object(N.a)(t,2),o=n[0],i=n[1],s=r.useState(null),l=Object(N.a)(s,2),c=l[0],u=l[1],d=r.useContext(T.a),m=d.authenticated,p=d.profile,g=d.getAuthorizationHeader,b=r.useState(null),f=Object(N.a)(b,2),E=f[0],v=f[1],y=r.useState("details"),C=Object(N.a)(y,2),x=C[0],j=C[1],O=r.useCallback(Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&p){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,i(null),e.next=6,Object(P.c)(g,p.uid);case 6:t=e.sent,u(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Error while loading user games.",e.t0),i(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])}))),[m,p,g]);if(r.useEffect(()=>{O()},[O]),!m)return null;if(!c&&o)return r.createElement(_.a,{onRetry:()=>{O()}},r.createElement(a.Trans,{id:"Can't load the games. Verify your internet connection or retry later."}));if(!c)return r.createElement(h.a,null);const S=e.project?e.project.getProjectUuid():null,I=c.find(e=>!!S&&e.id===S),B=[I,...c.filter(e=>e!==I)].filter(Boolean);return r.createElement(V.a,{noMargin:!0},r.createElement(W.a,{project:e.project,hideIfRegistered:!0,hideLoader:!0,onGameRegistered:()=>{O()}}),B.map(e=>r.createElement(U,{key:e.id,isCurrentGame:!!S&&e.id===S,game:e,onOpenAnalytics:()=>{j("analytics"),v(e)},onOpenDetails:()=>{j("details"),v(e)},onOpenMonetization:()=>{j("monetization"),v(e)}})),E&&r.createElement(G.a,{game:E,project:S&&E.id===S?e.project:null,initialTab:x,onClose:()=>{v(null)},onGameUpdated:e=>{u(c.map(t=>t===E?e:t)),v(e)},onGameDeleted:()=>{v(null),O()}}))};n.d(t,"a",(function(){return H}));class H extends r.Component{constructor(...e){super(...e),this.state={currentTab:this.props.initialTab},this._onChangeTab=e=>this.setState({currentTab:e})}render(){const e=this.props,t=e.open,n=e.onClose,r=[o.a.createElement(i.a,{label:o.a.createElement(a.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n})];return o.a.createElement(T.a.Consumer,null,e=>o.a.createElement(l.a,{actions:r,secondaryActions:[o.a.createElement(v.a,{key:"help",helpPagePath:"games-dashboard"===this.state.currentTab?"/interface/games-dashboard":"/interface/profile"}),e.authenticated&&o.a.createElement(i.a,{label:o.a.createElement(a.Trans,{id:"Refresh"}),key:"refresh",onClick:e.onRefreshUserProfile}),e.authenticated&&e.profile&&o.a.createElement(i.a,{label:o.a.createElement(a.Trans,{id:"Logout"}),key:"logout",onClick:e.onLogout})],onRequestClose:n,cannotBeDismissed:!1,open:t,noMargin:!0},o.a.createElement(s.b,{value:this.state.currentTab,onChange:this._onChangeTab},o.a.createElement(s.a,{label:o.a.createElement(a.Trans,{id:"My Profile"}),value:"profile"}),o.a.createElement(s.a,{label:o.a.createElement(a.Trans,{id:"Games Dashboard"}),value:"games-dashboard"}),o.a.createElement(s.a,{label:o.a.createElement(a.Trans,{id:"Services Usage"}),value:"usage"})),"profile"===this.state.currentTab&&(e.authenticated?o.a.createElement(c.a,{noMargin:!0},o.a.createElement(f,{profile:e.profile}),o.a.createElement(O,{subscription:e.subscription,onChangeSubscription:this.props.onChangeSubscription})):o.a.createElement(c.a,null,o.a.createElement(u.a,{onLogin:e.onLogin,onCreateAccount:e.onCreateAccount}))),"games-dashboard"===this.state.currentTab&&(e.authenticated?o.a.createElement(c.b,null,o.a.createElement(V.a,{expand:!0},o.a.createElement(z,{project:this.props.currentProject}))):o.a.createElement(c.a,null,o.a.createElement(u.a,{onLogin:e.onLogin,onCreateAccount:e.onCreateAccount,message:o.a.createElement(a.Trans,{id:"Create an account to register your games and to get access to metrics collected anonymously, like the number of daily players and retention of the players after a few days."})}))),"usage"===this.state.currentTab&&(e.authenticated?o.a.createElement(c.a,{noMargin:!0},o.a.createElement(x,{usages:e.usages})):o.a.createElement(E.a,null,o.a.createElement(a.Trans,{id:"Register to see the usage that you've made of the online services"})))))}}},2284:function(e,t,n){"use strict";var a=n(77),r=n(136),o=n(71),i=n(4),s=n.n(i),l=n(99),c=n(93),u=n(139),d=n(306),h=n.n(d),m=n(148),p=n(470),g=n(5),b=n(230),f=n(87),E=n(81),v=n(161),y=n(111),C=n(112),x=n(84),j=n(102),O=n(477),T=n(654),S=n(169),w=n(106),k=n(88),N=n(80),_=n(232),P=n(264),I=n(2386);var B=function(e){const t=e.project,n=t.getCurrentPlatform().getAllPlatformExtensions(),a=[];for(let r=0;r<n.size();r++){const e=n.at(r),o=t.getExtensionProperties().getAllExtensionProperties(e.getName(),t);if(0===o.keys().size())continue;const s=Object(P.a)(o,n=>t.getExtensionProperties().getAllExtensionProperties(e.getName(),t),(n,a,r)=>{"boolean"===t.getExtensionProperties().getAllExtensionProperties(e.getName(),t).get(a).getType()?t.getExtensionProperties().setValue(e.getName(),a,"1"===r?"true":"false"):t.getExtensionProperties().setValue(e.getName(),a,r)});a.push(i.createElement(k.a,{key:e.getName(),noMargin:!0},i.createElement(N.a,{size:"title"},e.getFullName()),i.createElement(_.a,{schema:s,instances:[e.getAllProperties()]})))}return a.length?i.createElement(I.a,null,a):null},R=n(311),M=n(83),F=n(124),L=n(501);var A=function(e){const t=e.project,n=i.useRef(null),a=i.useMemo(()=>function(e){return{gameResolutionWidth:e.getGameResolutionWidth(),gameResolutionHeight:e.getGameResolutionHeight(),adaptGameResolutionAtRuntime:e.getAdaptGameResolutionAtRuntime(),name:e.getName(),author:e.getAuthor(),version:e.getVersion(),packageName:e.getPackageName(),orientation:e.getOrientation(),scaleMode:e.getScaleMode(),sizeOnStartupMode:e.getSizeOnStartupMode(),showGDevelopSplash:e.getLoadingScreen().isGDevelopSplashShown(),minFPS:e.getMinimumFPS(),maxFPS:e.getMaximumFPS(),isFolderProject:e.isFolderProject(),useDeprecatedZeroAsDefaultZOrder:e.getUseDeprecatedZeroAsDefaultZOrder()}}(t),[t]);let r=i.useState(a.name),s=Object(f.a)(r,2),l=s[0],c=s[1],u=i.useState(a.gameResolutionWidth),d=Object(f.a)(u,2),h=d[0],m=d[1],p=i.useState(a.gameResolutionHeight),b=Object(f.a)(p,2),_=b[0],P=b[1],I=i.useState(a.adaptGameResolutionAtRuntime),A=Object(f.a)(I,2),D=A[0],U=A[1],V=i.useState(a.author),W=Object(f.a)(V,2),G=W[0],z=W[1],H=i.useState(a.version),K=Object(f.a)(H,2),Y=K[0],X=K[1],J=i.useState(a.packageName),q=Object(f.a)(J,2),Z=q[0],Q=q[1],$=i.useState(a.orientation),ee=Object(f.a)($,2),te=ee[0],ne=ee[1],ae=i.useState(a.scaleMode),re=Object(f.a)(ae,2),oe=re[0],ie=re[1],se=i.useState(a.sizeOnStartupMode),le=Object(f.a)(se,2),ce=le[0],ue=le[1],de=i.useState(a.showGDevelopSplash),he=Object(f.a)(de,2),me=he[0],pe=he[1],ge=i.useState(a.minFPS),be=Object(f.a)(ge,2),fe=be[0],Ee=be[1],ve=i.useState(a.maxFPS),ye=Object(f.a)(ve,2),Ce=ye[0],xe=ye[1],je=i.useState(a.isFolderProject),Oe=Object(f.a)(je,2),Te=Oe[0],Se=Oe[1],we=i.useState(a.useDeprecatedZeroAsDefaultZOrder),ke=Object(f.a)(we,2),Ne=ke[0],_e=ke[1];const Pe=Object(R.a)({serializableObject:t.getExtensionProperties(),onCancel:e.onClose});return i.createElement(i.Fragment,null,i.createElement(x.a,{actions:[i.createElement(E.a,{label:i.createElement(o.Trans,{id:"Cancel"}),primary:!1,onClick:Pe,key:"cancel"}),i.createElement(E.a,{label:i.createElement(o.Trans,{id:"Apply"}),primary:!0,onClick:()=>{(function(e,t){const n=e=>e,a=t.gameResolutionWidth,r=t.gameResolutionHeight,o=t.adaptGameResolutionAtRuntime,i=t.name,s=t.author,l=t.version,c=t.packageName,u=t.orientation,d=t.scaleMode,h=t.sizeOnStartupMode,m=t.showGDevelopSplash,p=t.minFPS,g=t.maxFPS,b=t.isFolderProject,f=t.useDeprecatedZeroAsDefaultZOrder;return e.setGameResolutionSize(a,r),e.setAdaptGameResolutionAtRuntime(o),e.setName(i),e.setAuthor(s),e.setVersion(l),e.setPackageName(c),e.setOrientation(u),e.setScaleMode(d),e.setSizeOnStartupMode(h),e.setMinimumFPS(p),e.setMaximumFPS(g),e.getLoadingScreen().showGDevelopSplash(m),e.setFolderProject(b),e.setUseDeprecatedZeroAsDefaultZOrder(f),Object(T.a)(n,Object(T.b)(n,e))})(t,{gameResolutionWidth:h,gameResolutionHeight:_,adaptGameResolutionAtRuntime:D,name:l,author:G,version:Y,packageName:Z,orientation:te,scaleMode:oe,sizeOnStartupMode:ce,showGDevelopSplash:me,minFPS:fe,maxFPS:Ce,isFolderProject:Te,useDeprecatedZeroAsDefaultZOrder:Ne})&&e.onApply()},key:"apply"})],secondaryActions:[i.createElement(w.a,{helpPagePath:"/interface/project-manager/properties",key:"help"})],title:i.createElement(o.Trans,{id:"Project properties"}),cannotBeDismissed:!0,open:e.open,onRequestClose:Pe},i.createElement(k.a,{noMargin:!0},i.createElement(j.a,{floatingLabelText:i.createElement(o.Trans,{id:"Game name"}),fullWidth:!0,type:"text",value:l,onChange:c,autoFocus:!0}),i.createElement(v.a,{label:i.createElement(o.Trans,{id:"Display GDevelop splash at startup (in exported game)"}),checked:me,onCheck:(e,t)=>{(t||!n.current||n.current.checkHasSubscription())&&pe(t)}}),i.createElement(j.a,{floatingLabelText:i.createElement(o.Trans,{id:"Version number (X.Y.Z)"}),fullWidth:!0,hintText:"1.0.0",type:"text",value:Y,onChange:X}),i.createElement(j.a,{floatingLabelText:i.createElement(o.Trans,{id:"Package name (for iOS and Android)"}),fullWidth:!0,hintText:"com.example.mygame",type:"text",value:Z,onChange:Q,errorText:Object(T.c)(Z)?void 0:i.createElement(o.Trans,{id:'The package name is containing invalid characters or not following the convention "xxx.yyy.zzz" (numbers allowed after a letter only).'})}),i.createElement(j.a,{floatingLabelText:i.createElement(o.Trans,{id:"Author name"}),fullWidth:!0,hintText:{id:"Your name"},type:"text",value:G,onChange:z}),Ne?i.createElement(i.Fragment,null,i.createElement(N.a,{size:"title"},i.createElement(o.Trans,{id:"Z Order of objects created from events"})),i.createElement(F.a,{kind:"info"},i.createElement(o.Trans,{id:"When you create an object using an action, GDevelop now sets the Z order of the object to the maximum value that was found when starting the scene for each layer. This allow to make sure that objects that you create are in front of others. This game was created before this change, so GDevelop maintains the old behavior: newly created objects Z order is set to 0. It's recommended that you switch to the new behavior by clicking the following button."})),i.createElement(o.I18n,null,({i18n:e})=>i.createElement(M.a,{onClick:()=>{g.b.showConfirmDialog(e._({id:"Make sure to verify all your events creating objects, and optionally add an action to set the Z order back to 0 if it's important for your game. Do you want to continue (recommened)?"}))&&_e(!1)},label:i.createElement(o.Trans,{id:"Switch to create objects with the highest Z order of the layer"})}))):null,i.createElement(N.a,{size:"title"},i.createElement(o.Trans,{id:"Analytics"})),i.createElement(L.a,{project:t}),i.createElement(N.a,{size:"title"},i.createElement(o.Trans,{id:"Resolution and rendering"})),i.createElement(k.b,{noMargin:!0},i.createElement(j.a,{floatingLabelText:i.createElement(o.Trans,{id:"Game resolution width"}),fullWidth:!0,type:"number",value:""+h,onChange:e=>m(Math.max(1,parseInt(e,10)))}),i.createElement(j.a,{floatingLabelText:i.createElement(o.Trans,{id:"Game resolution height"}),fullWidth:!0,type:"number",value:""+_,onChange:e=>P(Math.max(1,parseInt(e,10)))})),i.createElement(y.a,{fullWidth:!0,floatingLabelText:i.createElement(o.Trans,{id:"Game resolution resize mode (fullscreen or window)"}),value:ce,onChange:(e,t,n)=>ue(n)},i.createElement(C.a,{value:"",primaryText:{id:"No changes to the game size"}}),i.createElement(C.a,{value:"adaptWidth",primaryText:{id:"Change width to fit the screen or window size"}}),i.createElement(C.a,{value:"adaptHeight",primaryText:{id:"Change height to fit the screen or window size"}})),i.createElement(v.a,{label:i.createElement(o.Trans,{id:"Update resolution during the game to fit the screen or window size"}),disabled:""===ce,checked:D,onCheck:(e,t)=>U(t)}),i.createElement(k.b,{noMargin:!0},i.createElement(j.a,{floatingLabelText:i.createElement(o.Trans,{id:"Minimum FPS"}),fullWidth:!0,type:"number",value:""+fe,onChange:e=>Ee(Math.max(0,parseInt(e,10)))}),i.createElement(j.a,{floatingLabelText:i.createElement(o.Trans,{id:"Maximum FPS (0 to disable)"}),fullWidth:!0,type:"number",value:""+Ce,onChange:e=>xe(Math.max(0,parseInt(e,10)))})),Ce>0&&Ce<60&&i.createElement(S.a,{identifier:"maximum-fps-too-low",kind:"warning"},i.createElement(o.Trans,{id:"Most monitors have a refresh rate of 60 FPS. Setting a maximum number of FPS under 60 will force the game to skip frames, and the real number of FPS will be way below 60, making the game laggy and impacting the gameplay negatively. Consider putting 60 or more for the maximum number or FPS, or disable it by setting 0."})),fe<20&&i.createElement(S.a,{identifier:"minimum-fps-too-low",kind:"warning"},i.createElement(o.Trans,{id:"Setting the minimum number of FPS below 20 will increase a lot the time that is allowed between the simulation of two frames of the game. If case of a sudden slowdown, or on slow computers, this can create buggy behaviors like objects passing beyond a wall. Consider setting 20 as the minimum FPS."})),i.createElement(y.a,{fullWidth:!0,floatingLabelText:i.createElement(o.Trans,{id:"Device orientation (for iOS and Android)"}),value:te,onChange:(e,t,n)=>ne(n)},i.createElement(C.a,{value:"default",primaryText:{id:"Platform default"}}),i.createElement(C.a,{value:"landscape",primaryText:{id:"Landscape"}}),i.createElement(C.a,{value:"portrait",primaryText:{id:"Portrait"}})),i.createElement(y.a,{fullWidth:!0,floatingLabelText:i.createElement(o.Trans,{id:'Scale mode (also called "Sampling")'}),value:oe,onChange:(e,t,n)=>ie(n)},i.createElement(C.a,{value:"linear",primaryText:{id:"Linear (antialiased rendering, good for most games)"}}),i.createElement(C.a,{value:"nearest",primaryText:{id:"Nearest (no antialiasing, good for pixel perfect games)"}})),"nearest"===oe&&i.createElement(S.a,{identifier:"use-non-smoothed-textures",kind:"info"},i.createElement(o.Trans,{id:"To obtain the best pixel-perfect effect possible, go in the resources editor and disable the Smoothing for all images of your game. It will be done automatically for new images added from now."})),i.createElement(N.a,{size:"title"},i.createElement(o.Trans,{id:"Project files"})),i.createElement(y.a,{fullWidth:!0,floatingLabelText:i.createElement(o.Trans,{id:"Project file type"}),value:Te?"folder-project":"single-file",onChange:(e,t,n)=>Se("folder-project"===n)},i.createElement(C.a,{value:"single-file",primaryText:{id:"Single file (default)"}}),i.createElement(C.a,{value:"folder-project",primaryText:{id:"Multiple files, saved in folder next to the main file"}}))),i.createElement(B,{project:t})),i.createElement(O.a,{ref:n,onChangeSubscription:()=>{Pe(),e.onChangeSubscription()},mode:"mandatory",id:"Disable GDevelop splash at startup",title:i.createElement(o.Trans,{id:"Disable GDevelop splash at startup"})}))},D=n(321),U=n(122),V=n(231),W=n(129),G=n(97),z=n(100),H=n.n(z),K=n(107),Y=n(1486),X=n.n(Y),J=n(915),q=n(268),Z=n(719),Q=n(270);function $({project:e,onClose:t,onInstallExtension:n}){const a=i.useState(!1),r=Object(f.a)(a,2),s=r[0],l=r[1],c=i.useState(!1),u=Object(f.a)(c,2),d=u[0],h=u[1],m=i.useContext(q.a),p=m.getEventsFunctionsExtensionOpener();return i.createElement(o.I18n,null,({i18n:a})=>i.createElement(x.a,{title:i.createElement(o.Trans,{id:"Search for New Extensions"}),actions:[i.createElement(E.a,{key:"close",label:i.createElement(o.Trans,{id:"Close"}),primary:!0,onClick:t,disabled:s})],secondaryActions:[i.createElement(w.a,{key:"help",helpPagePath:"/extensions/search"}),p?i.createElement(E.a,{icon:i.createElement(X.a,null),key:"import",label:i.createElement(o.Trans,{id:"Import extension"}),onClick:()=>{Object(K.a)(H.a.mark((function t(){var n;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,Object(Z.a)(a,m,e);case 3:n=t.sent,h(n),l(!1);case 6:case"end":return t.stop()}}),t)})))()},disabled:s}):null],cannotBeDismissed:!0,flexBody:!0,open:!0,noMargin:!0,onRequestClose:t},i.createElement(J.a,{isInstalling:s,onInstall:function(){var t=Object(K.a)(H.a.mark((function t(r){var o;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),n(r),t.next=4,Object(Z.b)(a,e,m,r);case 4:o=t.sent,h(o),l(!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),project:e,showOnlyWithBehaviors:!1}),i.createElement(Q.a,{identifier:"extension-installed-explanation",message:i.createElement(o.Trans,{id:"The extension was added to the project. You can now use it in the list of actions/conditions and, if it's a behavior, in the list of behaviors for an object."}),show:d})))}var ee=n(310),te=n.n(ee),ne=n(1496),ae=n.n(ne),re=n(1497),oe=n.n(re),ie=n(1494),se=n.n(ie),le=n(1491),ce=n.n(le),ue=n(622),de=s.a.memo(e=>s.a.createElement(ue.a,e,s.a.createElement("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}))),he=n(1498),me=n.n(he),pe=n(1493),ge=n.n(pe),be=n(1492),fe=n.n(be),Ee=n(1495),ve=n.n(Ee),ye=n(505),Ce=n.n(ye),xe=n(735),je=n(738),Oe=n(739),Te=n(205);var Se=e=>(Object(Te.a)("OPEN_PROJECT_PROPERTIES",!!e.project,{handler:e.onOpenProjectProperties}),Object(Te.a)("OPEN_PROJECT_VARIABLES",!!e.project,{handler:e.onOpenProjectVariables}),Object(Te.a)("OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG",!!e.project,{handler:e.onOpenPlatformSpecificAssetsDialog}),Object(Te.a)("OPEN_PROJECT_RESOURCES",!!e.project,{handler:e.onOpenResourcesDialog}),null),we=n(126);n.d(t,"a",(function(){return Pe}));const ke={container:{flex:1,display:"flex",flexDirection:"column",overflowY:"hidden"},list:{flex:1,overflowY:"scroll",padding:0},noIndentNestedList:{padding:0},itemName:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},itemTextField:{top:c.c}},Ne=e=>i.createElement(G.a,null,t=>{const n=e.error,a=e.leftIcon,o=e.onRefresh,s=e.indentNestedItems,c=Object(r.a)(e,["error","leftIcon","onRefresh","indentNestedItems"]);return i.createElement(l.b,Object.assign({style:{backgroundColor:t.listItem.groupBackgroundColor,borderBottom:"1px solid ".concat(t.listItem.separatorColor)},nestedListStyle:s?void 0:ke.noIndentNestedList},c,{leftIcon:n?i.createElement(h.a,null):a,displayReloadButton:!!n,onReload:o,reloadButtonTooltip:"An error has occured in functions. Click to reload them."}))});class _e extends i.Component{componentDidUpdate(e){!e.editingName&&this.props.editingName&&setTimeout(()=>{this.textField&&this.textField.focus()},100)}render(){const e=this.props.editingName?i.createElement(c.b,{id:"rename-item-field",margin:"none",ref:e=>this.textField=e,defaultValue:this.props.primaryText,onBlur:e=>this.props.onRename(e.currentTarget.value),onKeyPress:e=>{Object(we.e)(e)&&this.textField&&this.textField.blur()},fullWidth:!0,style:ke.itemTextField}):i.createElement("div",{style:ke.itemName},this.props.primaryText);return i.createElement(G.a,null,t=>i.createElement(o.I18n,null,({i18n:n})=>i.createElement(l.b,{style:Object(a.a)({borderBottom:"1px solid ".concat(t.listItem.separatorColor)},this.props.style),primaryText:e,displayMenuButton:!0,buildMenuTemplate:e=>[{label:e._({id:"Edit"}),click:()=>this.props.onEdit()},...this.props.buildExtraMenuTemplate?this.props.buildExtraMenuTemplate(e):[],{type:"separator"},{label:e._({id:"Rename"}),click:()=>this.props.onEditName()},{label:e._({id:"Delete"}),click:()=>this.props.onDelete()},{label:this.props.addLabel,visible:!!this.props.onAdd,click:()=>this.props.onAdd()},{type:"separator"},{label:e._({id:"Copy"}),click:()=>this.props.onCopy()},{label:e._({id:"Cut"}),click:()=>this.props.onCut()},{label:e._({id:"Paste"}),enabled:this.props.canPaste(),click:()=>this.props.onPaste()},{label:e._({id:"Duplicate"}),click:()=>this.props.onDuplicate()},{type:"separator"},{label:e._({id:"Move up"}),enabled:this.props.canMoveUp,click:()=>this.props.onMoveUp()},{label:e._({id:"Move down"}),enabled:this.props.canMoveDown,click:()=>this.props.onMoveDown()}],onClick:()=>{this.props.editingName||this.props.onEdit()}})))}}class Pe extends i.Component{constructor(...e){super(...e),this.state={editedPropertiesLayout:null,editedVariablesLayout:null,renamedItemKind:null,renamedItemName:"",searchText:"",projectPropertiesDialogOpen:!1,projectVariablesEditorOpen:!1,extensionsSearchDialogOpen:!1,layoutPropertiesDialogOpen:!1,layoutVariablesDialogOpen:!1},this._openProjectProperties=()=>{this.setState({projectPropertiesDialogOpen:!0})},this._openProjectVariables=()=>{this.setState({projectVariablesEditorOpen:!0})},this._onEditName=(e,t)=>{this.setState({renamedItemKind:e,renamedItemName:t})},this._copyLayout=e=>{V.b.set("Layout",{layout:Object(W.b)(e),name:e.getName()})},this._cutLayout=e=>{this._copyLayout(e),this.props.onDeleteLayout(e)},this._pasteLayout=e=>{if(!V.b.has("Layout"))return;const t=V.b.get("Layout"),n=V.a.extractObjectProperty(t,"layout"),a=V.a.extractStringProperty(t,"name");if(!a||!n)return;const r=this.props.project,o=Object(U.a)(a,e=>r.hasLayoutNamed(e)),i=r.insertNewLayout(o,e);Object(W.c)(i,n,"unserializeFrom",r),i.setName(o),i.updateBehaviorsSharedData(r),this._onProjectItemModified()},this._duplicateLayout=(e,t)=>{this._copyLayout(e),this._pasteLayout(t)},this._addLayout=e=>{const t=this.props.project,n=Object(U.a)("New scene",e=>t.hasLayoutNamed(e)),a=t.insertNewLayout(n,e+1);a.setName(n),a.updateBehaviorsSharedData(t),this._onProjectItemModified()},this._onOpenLayoutProperties=e=>{this.setState({editedPropertiesLayout:e})},this._onOpenLayoutVariables=e=>{this.setState({editedVariablesLayout:e})},this._addExternalEvents=e=>{const t=this.props.project,n=Object(U.a)("NewExternalEvents",e=>t.hasExternalEventsNamed(e));t.insertNewExternalEvents(n,e+1),this._onProjectItemModified()},this._addExternalLayout=e=>{const t=this.props.project,n=Object(U.a)("NewExternalLayout",e=>t.hasExternalLayoutNamed(e));t.insertNewExternalLayout(n,e+1),this._onProjectItemModified()},this._addEventsFunctionsExtension=e=>{const t=this.props.project,n=Object(U.a)("NewExtension",e=>Object(Oe.a)(e,t));t.insertNewEventsFunctionsExtension(n,e+1),this._onProjectItemModified()},this._moveUpLayout=e=>{const t=this.props.project;e<=0||(t.swapLayouts(e,e-1),this._onProjectItemModified())},this._moveDownLayout=e=>{const t=this.props.project;e>=t.getLayoutsCount()-1||(t.swapLayouts(e,e+1),this._onProjectItemModified())},this._copyExternalEvents=e=>{V.b.set("External events",{externalEvents:Object(W.b)(e),name:e.getName()})},this._cutExternalEvents=e=>{this._copyExternalEvents(e),this.props.onDeleteExternalEvents(e)},this._pasteExternalEvents=e=>{if(!V.b.has("External events"))return;const t=V.b.get("External events"),n=V.a.extractObjectProperty(t,"externalEvents"),a=V.a.extractStringProperty(t,"name");if(!a||!n)return;const r=this.props.project,o=Object(U.a)(a,e=>r.hasExternalEventsNamed(e)),i=r.insertNewExternalEvents(o,e);Object(W.c)(i,n,"unserializeFrom",r),i.setName(o),this._onProjectItemModified()},this._duplicateExternalEvents=(e,t)=>{this._copyExternalEvents(e),this._pasteExternalEvents(t)},this._moveUpExternalEvents=e=>{const t=this.props.project;e<=0||(t.swapExternalEvents(e,e-1),this._onProjectItemModified())},this._moveDownExternalEvents=e=>{const t=this.props.project;e>=t.getExternalEventsCount()-1||(t.swapExternalEvents(e,e+1),this._onProjectItemModified())},this._copyExternalLayout=e=>{V.b.set("External layout",{externalLayout:Object(W.b)(e),name:e.getName()})},this._cutExternalLayout=e=>{this._copyExternalLayout(e),this.props.onDeleteExternalLayout(e)},this._pasteExternalLayout=e=>{if(!V.b.has("External layout"))return;const t=V.b.get("External layout"),n=V.a.extractObjectProperty(t,"externalLayout"),a=V.a.extractStringProperty(t,"name");if(!a||!n)return;const r=this.props.project,o=Object(U.a)(a,e=>r.hasExternalLayoutNamed(e)),i=r.insertNewExternalLayout(o,e);Object(W.c)(i,n),i.setName(o),this._onProjectItemModified()},this._duplicateExternalLayout=(e,t)=>{this._copyExternalLayout(e),this._pasteExternalLayout(t)},this._moveUpExternalLayout=e=>{const t=this.props.project;e<=0||(t.swapExternalLayouts(e,e-1),this._onProjectItemModified())},this._moveDownExternalLayout=e=>{const t=this.props.project;e>=t.getExternalLayoutsCount()-1||(t.swapExternalLayouts(e,e+1),this._onProjectItemModified())},this._copyEventsFunctionsExtension=e=>{V.b.set("Events Functions Extension",{eventsFunctionsExtension:Object(W.b)(e),name:e.getName()})},this._cutEventsFunctionsExtension=e=>{this._copyEventsFunctionsExtension(e),this.props.onDeleteEventsFunctionsExtension(e)},this._duplicateEventsFunctionsExtension=(e,t)=>{this._copyEventsFunctionsExtension(e),this._pasteEventsFunctionsExtension(t)},this._pasteEventsFunctionsExtension=e=>{if(!V.b.has("Events Functions Extension"))return;const t=V.b.get("Events Functions Extension"),n=V.a.extractObjectProperty(t,"eventsFunctionsExtension"),a=V.a.extractStringProperty(t,"name");if(!a||!n)return;const r=this.props.project,o=Object(U.a)(a,e=>Object(Oe.a)(e,r)),i=r.insertNewEventsFunctionsExtension(o,e);Object(W.c)(i,n,"unserializeFrom",r),i.setName(o),this._onProjectItemModified(),this.props.onReloadEventsFunctionsExtensions()},this._moveUpEventsFunctionsExtension=e=>{const t=this.props.project;e<=0||(t.swapEventsFunctionsExtensions(e,e-1),this._onProjectItemModified())},this._moveDownEventsFunctionsExtension=e=>{const t=this.props.project;e>=t.getEventsFunctionsExtensionsCount()-1||(t.swapEventsFunctionsExtensions(e,e+1),this._onProjectItemModified())},this._onSearchChange=e=>this.setState({searchText:e}),this._onRequestSearch=()=>{},this._onProjectItemModified=()=>{this.forceUpdate(),this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges()}}shouldComponentUpdate(e,t){return t.projectPropertiesDialogOpen!==this.state.projectPropertiesDialogOpen||(t.projectVariablesEditorOpen!==this.state.projectVariablesEditorOpen||!e.freezeUpdate)}componentDidUpdate(e){!this.props.freezeUpdate&&e.freezeUpdate&&Object(u.b)()&&this._searchBar&&this._searchBar.focus()}_renderMenu(){return g.b.hasMainMenu()?null:i.createElement(i.Fragment,null,i.createElement(l.b,{key:"save",primaryText:i.createElement(o.Trans,{id:"Save"}),leftIcon:i.createElement(ce.a,null),onClick:()=>this.props.onSaveProject()}),i.createElement(l.b,{key:"save-as",primaryText:i.createElement(o.Trans,{id:"Save as..."}),leftIcon:i.createElement(fe.a,null),onClick:()=>this.props.onSaveProjectAs()}),i.createElement(l.b,{key:"export",primaryText:i.createElement(o.Trans,{id:"Export"}),leftIcon:i.createElement(ge.a,null),onClick:()=>this.props.onExportProject()}),i.createElement(l.b,{key:"close",primaryText:i.createElement(o.Trans,{id:"Close"}),leftIcon:i.createElement(te.a,null),onClick:()=>this.props.onCloseProject()}),i.createElement(l.b,{key:"preferences",primaryText:i.createElement(o.Trans,{id:"Preferences"}),leftIcon:i.createElement(se.a,null),onClick:()=>this.props.onOpenPreferences()}),i.createElement(l.b,{key:"profile",primaryText:i.createElement(o.Trans,{id:"My profile"}),leftIcon:i.createElement(ve.a,null),onClick:()=>this.props.onOpenProfile()}),i.createElement(l.b,{key:"games-dashboard",primaryText:i.createElement(o.Trans,{id:"Published Games Dashboard"}),leftIcon:i.createElement(Ce.a,null),onClick:()=>this.props.onOpenGamesDashboard()}))}render(){const e=this.props,t=e.project,n=e.eventsFunctionsExtensionsError,a=e.onReloadEventsFunctionsExtensions,r=e.onInstallExtension,s=this.state,c=s.renamedItemKind,d=s.renamedItemName,h=s.searchText,g=""!==h||void 0;return i.createElement("div",{style:ke.container},i.createElement(Se,{project:this.props.project,onOpenProjectProperties:this._openProjectProperties,onOpenProjectVariables:this._openProjectVariables,onOpenResourcesDialog:this.props.onOpenResources,onOpenPlatformSpecificAssetsDialog:this.props.onOpenPlatformSpecificAssets}),i.createElement(l.a,{style:ke.list},this._renderMenu(),i.createElement(Ne,{primaryText:i.createElement(o.Trans,{id:"Game settings"}),leftIcon:i.createElement(m.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/projectManager32.png"}),initiallyOpen:!1,autoGenerateNestedIndicator:!0,indentNestedItems:!0,renderNestedItems:()=>[i.createElement(l.b,{key:"properties",primaryText:i.createElement(o.Trans,{id:"Properties"}),leftIcon:i.createElement(ae.a,null),onClick:this._openProjectProperties}),i.createElement(l.b,{key:"global-variables",primaryText:i.createElement(o.Trans,{id:"Global variables"}),leftIcon:i.createElement(de,null),onClick:this._openProjectVariables}),i.createElement(l.b,{key:"icons",primaryText:i.createElement(o.Trans,{id:"Icons"}),leftIcon:i.createElement(oe.a,null),onClick:()=>this.props.onOpenPlatformSpecificAssets()}),i.createElement(l.b,{key:"resources",primaryText:i.createElement(o.Trans,{id:"Resources"}),leftIcon:i.createElement(me.a,null),onClick:()=>{this.props.onOpenResources()}})]}),i.createElement(Ne,{primaryText:i.createElement(o.Trans,{id:"Scenes"}),leftIcon:i.createElement(m.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/sceneadd32.png"}),initiallyOpen:!0,open:g,autoGenerateNestedIndicator:!g,renderNestedItems:()=>Object(D.e)(Object(D.d)(t),h).map((e,n)=>{const a=e.getName();return i.createElement(_e,{key:n,primaryText:a,editingName:"layout"===c&&d===a,onEdit:()=>this.props.onOpenLayout(a),onDelete:()=>this.props.onDeleteLayout(e),addLabel:"Add a New Scene",onAdd:()=>this._addLayout(n),onRename:e=>{this.props.onRenameLayout(a,e),this._onEditName(null,"")},onEditName:()=>this._onEditName("layout",a),onCopy:()=>this._copyLayout(e),onCut:()=>this._cutLayout(e),onPaste:()=>this._pasteLayout(n),onDuplicate:()=>this._duplicateLayout(e,n),canPaste:()=>V.b.has("Layout"),canMoveUp:0!==n,onMoveUp:()=>this._moveUpLayout(n),canMoveDown:n!==t.getLayoutsCount()-1,onMoveDown:()=>this._moveDownLayout(n),buildExtraMenuTemplate:t=>[{label:t._({id:"Edit Scene Properties"}),enabled:!0,click:()=>this._onOpenLayoutProperties(e)},{label:t._({id:"Edit Scene Variables"}),enabled:!0,click:()=>this._onOpenLayoutVariables(e)}]})}).concat(i.createElement(p.a,{key:"add-scene",onClick:this.props.onAddLayout,primaryText:i.createElement(o.Trans,{id:"Click to add a scene"})}))}),i.createElement(Ne,{primaryText:i.createElement(o.Trans,{id:"External events"}),leftIcon:i.createElement(m.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/externalevents32.png"}),initiallyOpen:!1,open:g,autoGenerateNestedIndicator:!g,renderNestedItems:()=>Object(D.e)(Object(D.b)(t),h).map((e,n)=>{const a=e.getName();return i.createElement(_e,{key:n,primaryText:a,editingName:"external-events"===c&&d===a,onEdit:()=>this.props.onOpenExternalEvents(a),onDelete:()=>this.props.onDeleteExternalEvents(e),addLabel:"Add New External Events",onAdd:()=>this._addExternalEvents(n),onRename:e=>{this.props.onRenameExternalEvents(a,e),this._onEditName(null,"")},onEditName:()=>this._onEditName("external-events",a),onCopy:()=>this._copyExternalEvents(e),onCut:()=>this._cutExternalEvents(e),onPaste:()=>this._pasteExternalEvents(n),onDuplicate:()=>this._duplicateExternalEvents(e,n),canPaste:()=>V.b.has("External events"),canMoveUp:0!==n,onMoveUp:()=>this._moveUpExternalEvents(n),canMoveDown:n!==t.getExternalEventsCount()-1,onMoveDown:()=>this._moveDownExternalEvents(n)})}).concat(i.createElement(p.a,{key:"add-external-events",primaryText:i.createElement(o.Trans,{id:"Click to add external events"}),onClick:this.props.onAddExternalEvents}))}),i.createElement(Ne,{primaryText:i.createElement(o.Trans,{id:"External layouts"}),leftIcon:i.createElement(m.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/externallayout32.png"}),initiallyOpen:!1,open:g,autoGenerateNestedIndicator:!g,renderNestedItems:()=>Object(D.e)(Object(D.c)(t),h).map((e,n)=>{const a=e.getName();return i.createElement(_e,{key:n,primaryText:a,editingName:"external-layout"===c&&d===a,onEdit:()=>this.props.onOpenExternalLayout(a),onDelete:()=>this.props.onDeleteExternalLayout(e),addLabel:"Add a New External Layout",onAdd:()=>this._addExternalLayout(n),onRename:e=>{this.props.onRenameExternalLayout(a,e),this._onEditName(null,"")},onEditName:()=>this._onEditName("external-layout",a),onCopy:()=>this._copyExternalLayout(e),onCut:()=>this._cutExternalLayout(e),onPaste:()=>this._pasteExternalLayout(n),onDuplicate:()=>this._duplicateExternalLayout(e,n),canPaste:()=>V.b.has("External layout"),canMoveUp:0!==n,onMoveUp:()=>this._moveUpExternalLayout(n),canMoveDown:n!==t.getExternalLayoutsCount()-1,onMoveDown:()=>this._moveDownExternalLayout(n)})}).concat(i.createElement(p.a,{key:"add-external-layout",primaryText:i.createElement(o.Trans,{id:"Click to add an external layout"}),onClick:this.props.onAddExternalLayout}))}),i.createElement(Ne,{primaryText:i.createElement(o.Trans,{id:"Functions/Behaviors"}),error:n,onRefresh:a,leftIcon:i.createElement(m.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/function32.png"}),initiallyOpen:!1,open:g,autoGenerateNestedIndicator:!g&&!n,renderNestedItems:()=>Object(D.e)(Object(D.a)(t),h).map((e,n)=>{const a=e.getName();return i.createElement(_e,{key:n,primaryText:a,editingName:"events-functions-extension"===c&&d===a,onEdit:()=>this.props.onOpenEventsFunctionsExtension(a),onDelete:()=>this.props.onDeleteEventsFunctionsExtension(e),addLabel:"Add a New Extension",onAdd:()=>this._addEventsFunctionsExtension(n),onRename:e=>{this.props.onRenameEventsFunctionsExtension(a,e),this._onEditName(null,"")},onEditName:()=>this._onEditName("events-functions-extension",a),onCopy:()=>this._copyEventsFunctionsExtension(e),onCut:()=>this._cutEventsFunctionsExtension(e),onPaste:()=>this._pasteEventsFunctionsExtension(n),onDuplicate:()=>this._duplicateEventsFunctionsExtension(e,n),canPaste:()=>V.b.has("Events Functions Extension"),canMoveUp:0!==n,onMoveUp:()=>this._moveUpEventsFunctionsExtension(n),canMoveDown:n!==t.getEventsFunctionsExtensionsCount()-1,onMoveDown:()=>this._moveDownEventsFunctionsExtension(n)})}).concat(i.createElement(p.a,{key:"add-events-functions-extension",primaryText:i.createElement(o.Trans,{id:"Click to add functions and behaviors"}),onClick:this.props.onAddEventsFunctionsExtension})).concat(i.createElement(p.b,{key:"extensions-search",primaryText:i.createElement(o.Trans,{id:"Search for new extensions"}),onClick:()=>this.setState({extensionsSearchDialogOpen:!0})}))})),i.createElement(u.a,{ref:e=>this._searchBar=e,value:h,onRequestSearch:this._onRequestSearch,onChange:this._onSearchChange}),this.state.projectVariablesEditorOpen&&i.createElement(b.a,{title:i.createElement(o.Trans,{id:"Global Variables"}),open:!0,variablesContainer:t.getVariables(),onCancel:()=>this.setState({projectVariablesEditorOpen:!1}),onApply:()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.setState({projectVariablesEditorOpen:!1})},emptyExplanationMessage:i.createElement(o.Trans,{id:"Global variables are variables that are shared amongst all the scenes of the game."}),emptyExplanationSecondMessage:i.createElement(o.Trans,{id:"For example, you can have a variable called UnlockedLevelsCount representing the number of levels unlocked by the player."}),hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),this.state.projectPropertiesDialogOpen&&i.createElement(A,{open:this.state.projectPropertiesDialogOpen,project:t,onClose:()=>this.setState({projectPropertiesDialogOpen:!1}),onApply:()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.setState({projectPropertiesDialogOpen:!1})},onChangeSubscription:this.props.onChangeSubscription}),!!this.state.editedPropertiesLayout&&i.createElement(xe.a,{open:!0,layout:this.state.editedPropertiesLayout,project:this.props.project,onApply:()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this._onOpenLayoutProperties(null)},onClose:()=>this._onOpenLayoutProperties(null),onEditVariables:()=>{this._onOpenLayoutVariables(this.state.editedPropertiesLayout),this._onOpenLayoutProperties(null)}}),!!this.state.editedVariablesLayout&&i.createElement(je.a,{open:!0,layout:this.state.editedVariablesLayout,onClose:()=>this._onOpenLayoutVariables(null),onApply:()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this._onOpenLayoutVariables(null)},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),this.state.extensionsSearchDialogOpen&&i.createElement($,{project:t,onClose:()=>this.setState({extensionsSearchDialogOpen:!1}),onInstallExtension:r}))}}},2285:function(e,t,n){"use strict";var a=n(77),r=n(71),o=n(4),i=n.n(o),s=n(214),l=n(122),c=n(86),u=n(472),d=n(258),h=n(279),m=n.n(h),p=n(280),g=n.n(p),b=n(1841),f=n.n(b),E=n(95),v=n(181),y=n.n(v),C=n(93),x=n(360),j=n(138),O=n(308),T=n.n(O),S=n(1842),w=n.n(S),k=n(500),N=n.n(k),_=n(2423);function P(e){return o.createElement(_.a,e)}var I=n(316),B=({layout:e,onBackgroundColorChanged:t})=>i.a.createElement(r.I18n,null,({i18n:n})=>i.a.createElement(u.b,null,i.a.createElement(u.a,null,i.a.createElement(x.a,{disabled:!0})),i.a.createElement(u.a,{expand:!0},i.a.createElement(C.b,{fullWidth:!0,value:n._({id:"Background color"}),margin:"none",disabled:!0})),i.a.createElement(u.a,null,i.a.createElement(I.a,{disableAlpha:!0,color:{r:e.getBackgroundColorRed(),g:e.getBackgroundColorGreen(),b:e.getBackgroundColorBlue(),a:255},onChangeComplete:n=>{e.setBackgroundColor(n.rgb.r,n.rgb.g,n.rgb.b),t()}})))),R=n(73),M=n(147),F=n.n(M),L=n(151),A=n(866),D=n(115),U=n(2424),V=n(2393),W=n(1843),G=n.n(W);const z=()=>{throw new Error("This RaisedButtonWithSplitMenu onClick should never be called")};var H=e=>{const t=e.buildMenuTemplate,n=e.onClick,a=e.label,r=e.primary,i=e.icon,s=e.disabled;return o.createElement(U.a,{variant:"contained",color:r?"primary":"default",disabled:s,size:"small"},o.createElement(V.a,{focusRipple:!0,onClick:n},i,i&&o.createElement(R.c,null),a),o.createElement(j.a,{passExtraProps:!0,element:o.createElement(V.a,{onClick:z,focusRipple:!0},o.createElement(G.a,null)),buildMenuTemplate:t}))};n.d(t,"a",(function(){return J}));const K=Object(s.SortableElement)(({layerName:e,nameError:t,onBlur:n,onRemove:a,isVisible:o,effectsCount:s,onEditEffects:l,onChangeVisibility:c,width:h,isLightingLayer:p,onEdit:b})=>i.a.createElement(r.I18n,null,({i18n:v})=>i.a.createElement(u.b,null,i.a.createElement(u.a,null,i.a.createElement(x.a,null)),i.a.createElement(u.a,{expand:!0},i.a.createElement(C.b,{margin:"none",defaultValue:e||v._({id:"Base layer"}),id:e,errorText:t?i.a.createElement(r.Trans,{id:"This name is already taken"}):void 0,disabled:!e,onBlur:n,fullWidth:!0})),i.a.createElement(u.a,null,h<350?i.a.createElement(j.a,{element:i.a.createElement(E.a,{size:"small"},i.a.createElement(T.a,null)),buildMenuTemplate:t=>[{label:p?t._({id:"Edit lighting properties"}):t._({id:"Edit properties"}),click:b},{label:t._({id:"Edit effects ({effectsCount})",values:{effectsCount:s}}),click:l},{type:"checkbox",label:t._({id:"Visible"}),checked:o,click:()=>c(!o)},{type:"separator"},{label:t._({id:"Delete"}),enabled:!!e,click:a}]}):i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{checked:o,checkedIcon:i.a.createElement(m.a,null),uncheckedIcon:i.a.createElement(g.a,null),onCheck:(e,t)=>c(t)}),i.a.createElement(E.a,{size:"small",onClick:l,tooltip:{id:"Edit effects ({effectsCount})",values:{effectsCount:s}}},i.a.createElement(P,{badgeContent:s,color:"primary"},i.a.createElement(f.a,null))),i.a.createElement(E.a,{size:"small",onClick:b,tooltip:p?{id:"Edit lighting properties"}:{id:"Edit properties"}},p?i.a.createElement(w.a,null):i.a.createElement(N.a,null)),i.a.createElement(E.a,{size:"small",onClick:a,disabled:!e,tooltip:{id:"Delete the layer"}},i.a.createElement(y.a,null)))))));class Y extends o.Component{constructor(...e){super(...e),this.state={nameErrors:{}},this._onLayerModified=()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}}render(){const e=this.props,t=e.layersContainer,n=e.onEditEffects,r=e.onEdit,o=e.width,s=t.getLayersCount(),l=Object(c.mapReverseFor)(0,s,e=>{const l=t.getLayerAt(e),c=l.getName(),u=l.isLightingLayer();return i.a.createElement(K,{index:s-1-e,key:"layer-"+c,layer:l,layerName:c,isLightingLayer:u,nameError:this.state.nameErrors[c],effectsCount:l.getEffectsCount(),onEditEffects:()=>n(l),onEdit:()=>r(l),onBlur:e=>{const n=e.target.value;if(c===n)return;let r=!0;t.hasLayerNamed(n)?r=!1:this.props.onRenameLayer(c,n,e=>{e&&t.getLayer(c).setName(n)}),this.setState({nameErrors:Object(a.a)(Object(a.a)({},this.state.nameErrors),{},{[c]:!r})})},onRemove:()=>{this.props.onRemoveLayer(c,e=>{e&&(t.removeLayer(c),this._onLayerModified())})},isVisible:l.getVisibility(),onChangeVisibility:e=>{l.setVisibility(e),this._onLayerModified()},width:o})});return i.a.createElement(R.a,{noMargin:!0,expand:!0},l,i.a.createElement(B,{layout:t,onBackgroundColorChanged:()=>this._onLayerModified()}))}}const X=Object(s.SortableContainer)(Y);class J extends o.Component{constructor(...e){super(...e),this._addLayer=()=>{const e=this.props.layersContainer,t=Object(l.a)("Layer",t=>e.hasLayerNamed(t));e.insertNewLayer(t,e.getLayersCount()),this._onLayerModified()},this._addLightingLayer=()=>{const e=this.props.layersContainer,t=Object(l.a)("Lighting",t=>e.hasLayerNamed(t));e.insertNewLayer(t,e.getLayersCount());const n=e.getLayer(t);n.setLightingLayer(!0),n.setFollowBaseLayerCamera(!0),n.setAmbientLightColor(200,200,200),this._onLayerModified()},this._onLayerModified=()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}}render(){const e=this.props.layersContainer.ptr,t=(e=>{const t=e.getLayersCount();return Object(c.mapReverseFor)(0,t,t=>e.getLayerAt(t).isLightingLayer()).filter(Boolean).length>0})(this.props.layersContainer);return i.a.createElement(D.a,null,i.a.createElement(L.a,{autoHideScrollbar:!0},i.a.createElement(A.a,null,({width:t})=>i.a.createElement(X,{key:e,layersContainer:this.props.layersContainer,onEditEffects:this.props.onEditLayerEffects,onEdit:this.props.onEditLayer,onRemoveLayer:this.props.onRemoveLayer,onRenameLayer:this.props.onRenameLayer,onSortEnd:({oldIndex:e,newIndex:t})=>{const n=this.props.layersContainer.getLayersCount();this.props.layersContainer.moveLayer(n-1-e,n-1-t),this._onLayerModified()},helperClass:"sortable-helper",useDragHandle:!0,unsavedChanges:this.props.unsavedChanges,width:t})),i.a.createElement(R.a,null,i.a.createElement(R.b,{justifyContent:"flex-end",expand:!0},i.a.createElement(H,{label:i.a.createElement(r.Trans,{id:"Add a layer"}),primary:!0,onClick:this._addLayer,icon:i.a.createElement(F.a,null),buildMenuTemplate:e=>[{label:e._({id:"Add lighting layer"}),enabled:!t,click:this._addLightingLayer}]})))))}}},2286:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(232),i=n(264),s=n(92),l=n(73);class c extends r.Component{render(){const e=this.props,t=e.behavior,n=e.behaviorContent,c=t.getProperties(n.getContent()),u=Object(i.a)(c,e=>t.getProperties(e.getContent()),(e,n,a)=>{t.updateProperty(e.getContent(),n,a)});return r.createElement(l.a,{expand:!0},u.length?r.createElement(o.a,{schema:u,instances:[n]}):r.createElement(s.a,null,r.createElement(a.Trans,{id:"There is nothing to configure for this behavior. You can still use events to interact with the object and this behavior."})))}}var u=n(161),d=n(111),h=n(112),m=n(102),p=n(334),g=n(248),b=n(114);class f extends r.Component{constructor(...e){super(...e),this.state={draggedVertex:null,draggedIndex:-1},this._onVertexDown=(e,t)=>{this.state.draggedVertex||this.setState({draggedVertex:e,draggedIndex:t})},this._onMouseUp=()=>{const e=!!this.state.draggedVertex,t=this.state,n=t.draggedVertex,a=t.draggedIndex;this.setState({draggedVertex:null},()=>{e&&this.props.onMoveVertex(a,Math.round(n?n.x:0),Math.round(n?n.y:0))})},this._onMouseMove=e=>{const t=this.props,n=t.offsetX,a=t.offsetY,r=t.polygonOrigin,o=t.width,i=t.height,s=t.zoomFactor,l=this.state.draggedVertex;if(!l)return;const c=this._svg.createSVGPoint();c.x=e.clientX,c.y=e.clientY;const u=this._svg.getScreenCTM().inverse(),d=c.matrixTransform(u);l.x=d.x/s-n-("Center"===r?o/2:0),l.y=d.y/s-a-("Center"===r?i/2:0),this.forceUpdate()}}_renderBox(){const e=this.props,t=e.dimensionA,n=e.dimensionB,a=e.width,o=e.height,i=e.offsetX,s=e.offsetY,l=e.zoomFactor,c=t>0?t:a>0?a:1,u=n>0?n:o>0?o:1;return r.createElement("rect",{key:"boxShape",fill:"rgba(255,0,0,0.75)",strokeWidth:1,x:(i+a/2-c/2)*l,y:(s+o/2-u/2)*l,width:c*l,height:u*l})}_renderCircle(){const e=this.props,t=e.dimensionA,n=e.width,a=e.height,o=e.offsetX,i=e.offsetY,s=e.zoomFactor;return r.createElement("circle",{key:"circleShape",fill:"rgba(255,0,0,0.75)",strokeWidth:1,cx:(o+n/2)*s,cy:(i+a/2)*s,r:(t>0?t:n+a>0?(n+a)/4:1)*s})}_renderEdge(){const e=this.props,t=e.dimensionA,n=e.dimensionB,a=e.width,o=e.height,i=e.offsetX,s=e.offsetY,l=e.zoomFactor,c=(t>0?t:a>0?a:1)/2,u=Math.cos(n*Math.PI/180),d=Math.sin(n*Math.PI/180);return r.createElement("line",{key:"edgeShape",stroke:"rgba(255,0,0,0.75)",strokeWidth:2,x1:(i+a/2-c*u)*l,y1:(s+o/2-c*d)*l,x2:(i+a/2+c*u)*l,y2:(s+o/2+c*d)*l})}_renderPolygon(){const e=this.props,t=e.vertices,n=e.polygonOrigin,a=e.width,o=e.height,i=e.offsetX,s=e.offsetY,l=e.zoomFactor;return r.createElement(r.Fragment,null,r.createElement("polygon",{key:"polygonShape",fill:"rgba(255,0,0,0.75)",strokeWidth:1,filerule:"evenodd",points:t.map(e=>"".concat((e.x+i+("Center"===n?a/2:0))*l,",").concat((e.y+s+("Center"===n?o/2:0))*l)).join(" ")}),t.map((e,t)=>r.createElement("circle",{onPointerDown:n=>this._onVertexDown(e,t),key:"vertex-".concat(t),fill:"rgba(150,0,0,0.75)",strokeWidth:1,style:{cursor:"move"},cx:(e.x+i+("Center"===n?a/2:0))*l,cy:(e.y+s+("Center"===n?o/2:0))*l,r:5})))}render(){const e=this.props.shape;return r.createElement("svg",{onPointerMove:this._onMouseMove,onPointerUp:this._onMouseUp,ref:e=>this._svg=e,width:"100%",height:"100%"},"Box"===e&&this._renderBox(),"Circle"===e&&this._renderCircle(),"Edge"===e&&this._renderEdge(),"Polygon"===e&&this._renderPolygon())}}var E=n(156),v=n(306),y=n.n(v),C=n(95),x=n(97),j=n(473),O=n.n(j),T=n(181),S=n.n(T);class w extends r.Component{_isPolygonConvex(e){let t=[],n=null,a=null;for(let s=0;s<e.length;s++)n=e[s],a=s+1>=e.length?e[0]:e[s+1],t.push({x:a.x-n.x,y:a.y-n.y});if(t.length<3)return!1;const r=t[0].x*t[1].y-t[0].y*t[1].x>0;for(let s=1;s<t.length-1;++s){if(t[s].x*t[s+1].y-t[s].y*t[s+1].x>0!==r)return!1}if(t[t.length-1].x*t[0].y-t[t.length-1].y*t[0].x>0!==r)return!1;for(let s=0;s<e.length-1;++s)for(let t=s+1;t<e.length;++t)if(e[s].x===e[t].x&&e[s].y===e[t].y)return!1;let o=!0,i=!0;for(let s=0;s<e.length-1;++s)e[s].x!==e[s+1].x&&(o=!1),e[s].y!==e[s+1].y&&(i=!1);return!o&&!i}render(){const e=this.props,t=e.vertices,n=e.onChangeVertexX,a=e.onChangeVertexY,o=e.onAdd,i=e.onRemove;return r.createElement(x.a,null,e=>r.createElement(E.a,null,r.createElement(E.c,null,r.createElement(E.e,null,r.createElement(E.d,null),r.createElement(E.d,null,"X"),r.createElement(E.d,null,"Y"),r.createElement(E.f,null))),r.createElement(E.b,null,t.map((o,s)=>r.createElement(E.e,{key:"vertexRow".concat(s),style:{backgroundColor:e.list.itemsBackgroundColor}},r.createElement(E.f,null,!this._isPolygonConvex(t)&&r.createElement(y.a,null)),r.createElement(E.f,null,r.createElement(m.a,{margin:"none",fullWidth:!0,value:o.x.toString(10),onChange:e=>n(parseFloat(e)||0,s),type:"number"})),r.createElement(E.f,null,r.createElement(m.a,{margin:"none",fullWidth:!0,value:o.y.toString(10),onChange:e=>a(parseFloat(e)||0,s),type:"number"})),r.createElement(E.f,null,r.createElement(C.a,{size:"small",onClick:()=>i(s)},r.createElement(S.a,null))))),r.createElement(E.e,null,r.createElement(E.f,null),r.createElement(E.f,null),r.createElement(E.f,null),r.createElement(E.f,null,r.createElement(C.a,{onClick:o},r.createElement(O.a,null)))))))}}var k=n(80),N=n(169),_=n(88);function P(e){const t=e.properties,n=e.propertyName,a=e.step,o=e.onUpdate;return r.createElement(m.a,{fullWidth:!0,value:t.get(n).getValue(),key:n,floatingLabelText:t.get(n).getLabel(),step:a,onChange:o,type:"number"})}function I(e){const t=e.enabled,n=e.propertyName,a=e.pos,o=e.spacing,i=e.onUpdate;return r.createElement("div",{style:{width:o?"7.5%":"5%"}},r.createElement(u.a,{checked:t,onCheck:(e,t)=>i(t)}),o&&r.createElement("div",{style:{width:"33%"},key:n+"-space"+a.toString(10)}))}class B extends r.Component{constructor(...e){super(...e),this.resourcesLoader=b.a,this.state={image:""}}_isBitEnabled(e,t){return!!(e&1<<t)}_enableBit(e,t,n){return n?e|=1<<t:e&=~(1<<t),e}render(){const e=this.props,t=e.behavior,n=e.behaviorContent,o=t.getProperties(n.getContent()),i=Array(16).fill(null),c=o.get("shape").getValue(),b=parseInt(o.get("layers").getValue(),10),E=parseInt(o.get("masks").getValue(),10);return r.createElement(l.a,{expand:!0},r.createElement(l.b,null,r.createElement(d.a,{key:"bodyType",fullWidth:!0,floatingLabelText:o.get("bodyType").getLabel(),value:o.get("bodyType").getValue(),onChange:(e,a,r)=>{t.updateProperty(n.getContent(),"bodyType",r),this.forceUpdate()}},[r.createElement(h.a,{key:"dynamic",value:"Dynamic",primaryText:{id:"Dynamic"}}),r.createElement(h.a,{key:"static",value:"Static",primaryText:{id:"Static"}}),r.createElement(h.a,{key:"kinematic",value:"Kinematic",primaryText:{id:"Kinematic"}})])),r.createElement(_.b,null,r.createElement(u.a,{label:o.get("bullet").getLabel(),checked:"true"===o.get("bullet").getValue(),onCheck:(e,a)=>{t.updateProperty(n.getContent(),"bullet",a?"1":"0"),this.forceUpdate()}}),r.createElement(u.a,{label:o.get("fixedRotation").getLabel(),checked:"true"===o.get("fixedRotation").getValue(),onCheck:(e,a)=>{t.updateProperty(n.getContent(),"fixedRotation",a?"1":"0"),this.forceUpdate()}}),r.createElement(u.a,{label:o.get("canSleep").getLabel(),checked:"true"===o.get("canSleep").getValue(),onCheck:(e,a)=>{t.updateProperty(n.getContent(),"canSleep",a?"1":"0"),this.forceUpdate()}})),r.createElement(l.b,null,r.createElement(N.a,{identifier:"physics2-shape-collisions",kind:"info"},r.createElement(a.Trans,{id:'The shape used in the Physics behavior is independent from the collision mask of the object. Be sure to use the "Collision" condition provided by the Physics behavior in the events. The usual "Collision" condition won\'t take into account the shape that you\'ve set up here.'}))),r.createElement(l.b,null,r.createElement(d.a,{fullWidth:!0,floatingLabelText:o.get("shape").getLabel(),value:o.get("shape").getValue(),onChange:(e,a,r)=>{t.updateProperty(n.getContent(),"shape",r),this.forceUpdate()}},r.createElement(h.a,{key:"box",value:"Box",primaryText:{id:"Box"}}),r.createElement(h.a,{key:"circle",value:"Circle",primaryText:{id:"Circle"}}),r.createElement(h.a,{key:"edge",value:"Edge",primaryText:{id:"Edge"}}),r.createElement(h.a,{key:"polygon",value:"Polygon",primaryText:{id:"Polygon"}}))),r.createElement(_.b,null,"Polygon"!==c&&r.createElement(m.a,{fullWidth:!0,value:o.get("Polygon"===c?"PolygonOriginX":"shapeDimensionA").getValue(),key:"shapeDimensionA",floatingLabelText:"Circle"===c?"Radius":"Edge"===c?"Length":"Width",min:0,onChange:e=>{t.updateProperty(n.getContent(),"Polygon"===c?"PolygonOriginX":"shapeDimensionA",e),this.forceUpdate()},type:"number"}),"Polygon"!==c&&"Circle"!==c&&r.createElement(m.a,{fullWidth:!0,value:o.get("Polygon"===c?"PolygonOriginY":"shapeDimensionB").getValue(),key:"shapeDimensionB",floatingLabelText:"Edge"===c?"Angle":"Height",min:"Edge"===c?void 0:0,onChange:e=>{t.updateProperty(n.getContent(),"Polygon"===c?"PolygonOriginY":"shapeDimensionB",e),this.forceUpdate()},type:"number"}),"Polygon"===c&&r.createElement(d.a,{fullWidth:!0,floatingLabelText:o.get("polygonOrigin").getLabel(),value:o.get("polygonOrigin").getValue(),onChange:(e,a,r)=>{t.updateProperty(n.getContent(),"polygonOrigin",r),this.forceUpdate()}},[r.createElement(h.a,{key:"center",value:"Center",primaryText:{id:"Center"}}),r.createElement(h.a,{key:"origin",value:"Origin",primaryText:{id:"Origin"}}),r.createElement(h.a,{key:"topLeft",value:"TopLeft",primaryText:{id:"Top-Left"}})]),r.createElement(P,{properties:o,propertyName:"shapeOffsetX",step:1,onUpdate:e=>{t.updateProperty(n.getContent(),"shapeOffsetX",e),this.forceUpdate()}}),r.createElement(P,{properties:o,propertyName:"shapeOffsetY",step:1,onUpdate:e=>{this.props.behavior.updateProperty(n.getContent(),"shapeOffsetY",e),this.forceUpdate()}})),r.createElement(l.b,null,r.createElement(g.a,{floatingLabelText:r.createElement(a.Trans,{id:"A temporary image to help you visualize the shape/polygon"}),project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:this.resourcesLoader,resourceKind:"image",initialResourceName:"",fullWidth:!0,onChange:e=>{this.setState({image:e}),this.forceUpdate()}})),!this.state.image&&r.createElement(l.b,null,r.createElement(s.a,null,r.createElement(a.Trans,{id:"To preview the shape that the Physics engine will use for this object, choose first a temporary image to use for the preview."}))),this.state.image&&r.createElement(l.b,null,r.createElement("div",{style:{width:"100%"}},r.createElement(p.a,{resourceName:this.state.image,project:this.props.project,resourcesLoader:this.resourcesLoader,renderOverlay:({imageWidth:e,imageHeight:a,imageZoomFactor:i})=>r.createElement(f,{shape:o.get("shape").getValue(),dimensionA:parseFloat(o.get("shapeDimensionA").getValue()),dimensionB:parseFloat(o.get("shapeDimensionB").getValue()),offsetX:parseFloat(o.get("shapeOffsetX").getValue()),offsetY:parseFloat(o.get("shapeOffsetY").getValue()),polygonOrigin:o.get("polygonOrigin").getValue(),vertices:JSON.parse(o.get("vertices").getValue()),width:e,height:a,zoomFactor:i,onMoveVertex:(e,a,r)=>{let i=JSON.parse(o.get("vertices").getValue());i[e].x=a,i[e].y=r,t.updateProperty(n.getContent(),"vertices",JSON.stringify(i)),this.forceUpdate()}})}))),"Polygon"===c&&r.createElement(l.b,null,r.createElement(w,{vertices:JSON.parse(o.get("vertices").getValue()),onChangeVertexX:(e,a)=>{let r=JSON.parse(o.get("vertices").getValue());r[a].x=e,t.updateProperty(n.getContent(),"vertices",JSON.stringify(r)),this.forceUpdate()},onChangeVertexY:(e,a)=>{let r=JSON.parse(o.get("vertices").getValue());r[a].y=e,t.updateProperty(n.getContent(),"vertices",JSON.stringify(r)),this.forceUpdate()},onAdd:()=>{let e=JSON.parse(o.get("vertices").getValue());e.length>=8||(e.push({x:0,y:0}),t.updateProperty(n.getContent(),"vertices",JSON.stringify(e)),this.forceUpdate())},onRemove:e=>{let a=JSON.parse(o.get("vertices").getValue());a.splice(e,1),t.updateProperty(n.getContent(),"vertices",JSON.stringify(a)),this.forceUpdate()}})),r.createElement(_.b,null,r.createElement(P,{properties:o,propertyName:"density",step:.1,onUpdate:e=>{t.updateProperty(n.getContent(),"density",parseFloat(e)>0?e:"0"),this.forceUpdate()}}),r.createElement(P,{properties:o,propertyName:"gravityScale",step:.1,onUpdate:e=>{t.updateProperty(n.getContent(),"gravityScale",e),this.forceUpdate()}})),r.createElement(_.b,null,r.createElement(P,{properties:o,propertyName:"friction",step:.1,onUpdate:e=>{t.updateProperty(n.getContent(),"friction",parseFloat(e)>0?e:"0"),this.forceUpdate()}}),r.createElement(P,{properties:o,propertyName:"restitution",step:.1,onUpdate:e=>{t.updateProperty(n.getContent(),"restitution",parseFloat(e)>0?e:"0"),this.forceUpdate()}})),r.createElement(_.b,null,r.createElement(P,{properties:o,propertyName:"linearDamping",step:.05,onUpdate:e=>{t.updateProperty(n.getContent(),"linearDamping",e),this.forceUpdate()}}),r.createElement(P,{properties:o,propertyName:"angularDamping",step:.05,onUpdate:e=>{t.updateProperty(n.getContent(),"angularDamping",e),this.forceUpdate()}})),r.createElement(l.b,null,r.createElement(k.a,null,o.get("layers").getLabel()),i.map((e,t)=>r.createElement(I,{enabled:this._isBitEnabled(b,t),propertyName:"layers",pos:t,spacing:7===t,onUpdate:e=>{const a=this._enableBit(b,t,e);this.props.behavior.updateProperty(n.getContent(),"layers",a.toString(10)),this.forceUpdate()},key:"layer".concat(t)}))),r.createElement(l.b,null,r.createElement(k.a,null,o.get("masks").getLabel()),i.map((e,t)=>r.createElement(I,{enabled:this._isBitEnabled(E,t),propertyName:"masks",pos:t,spacing:7===t,onUpdate:e=>{const a=this._enableBit(E,t,e);this.props.behavior.updateProperty(n.getContent(),"masks",a.toString(10)),this.forceUpdate()},key:"mask".concat(t)}))))}}t.a={getEditor(e){return this.components[e]?this.components[e].component:c},components:{"Physics2::Physics2Behavior":{component:B}}}},2287:function(e,t,n){"use strict";var a=n(87),r=n(71),o=n(4),i=n.n(o),s=n(111),l=n(81),c=n(112),u=n(304),d=n(84),h=n(73),m=n(913),p=n(912),g=n(5),b=n(113),f=n(80),E=n(88),v=n(153),y=n(212),C=n(83),x=n(2386),j=n(2391),O=n(2385),T=n(247);const S={shortcutBox:{padding:15,textAlign:"center"}};var w=e=>{const t=o.useState(""),n=Object(a.a)(t,2),i=n[0],s=n[1],c=o.useState(!1),u=Object(a.a)(c,2),h=u[0],m=u[1];return o.useEffect(()=>{const e=e=>{e.preventDefault();const t=Object(T.c)(e);"keyup"!==e.type&&(m(t.isValid),s(t.shortcutString))};return document.addEventListener("keyup",e),document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",e)}},[]),o.createElement(d.a,{open:!0,title:o.createElement(r.Trans,{id:"Set shortcut"}),onRequestClose:e.onClose,cannotBeDismissed:!1,maxWidth:"xs",actions:[o.createElement(l.a,{key:"Cancel",label:o.createElement(r.Trans,{id:"Cancel"}),onClick:e.onClose}),o.createElement(l.a,{label:o.createElement(r.Trans,{id:"Set shortcut"}),primary:!0,key:"Set",onClick:()=>{i&&e.onSet(i),e.onClose()},disabled:!h})],secondaryActions:[o.createElement(l.a,{key:"Remove",label:o.createElement(r.Trans,{id:"Remove shortcut"}),onClick:()=>{e.onSet(""),e.onClose()}})]},o.createElement(j.a,null,e.commandText),o.createElement(O.a,{variant:"outlined",style:S.shortcutBox},o.createElement(j.a,null,i?Object(T.b)(i):o.createElement(r.Trans,{id:"Press a shortcut combination..."}))))},k=n(169),N=n(468),_=n(2383),P=n(2390),I=n(2402),B=n(2495),R=n(95),M=n(1095),F=n.n(M),L=n(306),A=n.n(L),D=n(305);const U={shortcutChip:{borderRadius:3}};var V=e=>o.createElement(_.a,null,o.createElement(P.a,{primary:e.i18n._(D.b[e.commandName].displayText)}),o.createElement(I.a,null,e.isClashing&&o.createElement(R.a,{tooltip:{id:"This shortcut clashes with another action."}},o.createElement(A.a,null)),o.createElement(B.a,{style:U.shortcutChip,label:e.shortcutString||o.createElement(r.Trans,{id:"No shortcut"}),onClick:e.onEditShortcut,title:e.i18n._({id:"Edit shortcut"}),color:e.shortcutString?"secondary":"default"}),!e.isDefault&&o.createElement(R.a,{onClick:e.onResetShortcut,tooltip:{id:"Reset to default"}},o.createElement(F.a,null))));var W=e=>{const t=o.useState(null),n=Object(a.a)(t,2),i=n[0],s=n[1],l=(e=>{const t={},n={};return Object.keys(D.b).filter(e=>!D.b[e].noShortcut).forEach(a=>{const r=D.b[a].area;t[r]||(t[r]=[]),t[r].push(a);const o=e[a],i=N.a[a]||"",s=o||i;""!==s&&(n[s]=(n[s]||[]).concat(a))}),[t,n]})(e.userShortcutMap),c=Object(a.a)(l,2),u=c[0],d=c[1],m=Object(T.b)(e.userShortcutMap.OPEN_COMMAND_PALETTE||N.a.OPEN_COMMAND_PALETTE);return o.createElement(o.Fragment,null,o.createElement(h.b,null,o.createElement(k.a,{kind:"info",identifier:"command-palette-shortcut"},o.createElement(r.Trans,{id:"You can open the command palette by pressing"})," ",m)),o.createElement(h.b,null,o.createElement(C.a,{label:o.createElement(r.Trans,{id:"Reset all shortcuts to default"}),onClick:()=>{g.b.showConfirmDialog(e.i18n._({id:"Are you sure you want to reset all shortcuts to their default values?"}),"question")&&e.onReset()}})),o.createElement(x.a,null,Object.keys(u).map(t=>o.createElement(o.Fragment,{key:t},o.createElement(f.a,{size:"title"},e.i18n._(D.a[t])),u[t].map(t=>{const n=e.userShortcutMap[t],a=N.a[t]||"",r=n||a,i=Object(T.b)(r),l=d[r],c=l&&l.length>1;return o.createElement(V,{i18n:e.i18n,key:t,shortcutString:i,commandName:t,isDefault:!n,isClashing:c,onEditShortcut:()=>s(t),onResetShortcut:()=>(t=>{e.onEdit(t,N.a[t])})(t)})})))),i&&o.createElement(w,{commandText:e.i18n._(D.b[i].displayText),onClose:()=>s(null),onSet:t=>{e.onEdit(i,t)}}))};t.a=({i18n:e,onClose:t})=>{const n=i.a.useState("preferences"),o=Object(a.a)(n,2),x=o[0],j=o[1],O=i.a.useContext(b.b),T=O.values,S=O.setThemeName,w=O.setCodeEditorThemeName,k=O.setAutoDownloadUpdates,N=O.showAlertMessage,_=O.showTutorialHint,P=O.setAutoDisplayChangelog,I=O.setEventsSheetShowObjectThumbnails,B=O.setAutosaveOnPreview,R=O.setUseNewInstructionEditorDialog,M=O.setUseGDJSDevelopmentWatcher,F=O.setEventsSheetUseAssignmentOperators,L=O.getDefaultEditorMosaicNode,A=O.setDefaultEditorMosaicNode,D=O.setAutoOpenMostRecentProject,U=O.resetShortcutsToDefault,V=O.setShortcutForCommand,G=O.setIsMenuBarHiddenInPreview;return i.a.createElement(d.a,{actions:[i.a.createElement(l.a,{key:"close",label:i.a.createElement(r.Trans,{id:"Close"}),primary:!1,onClick:t})],onRequestClose:t,cannotBeDismissed:!0,open:!0,title:i.a.createElement(r.Trans,{id:"GDevelop Preferences"}),maxWidth:"sm",noMargin:!0},i.a.createElement(v.b,{value:x,onChange:j},i.a.createElement(v.a,{label:i.a.createElement(r.Trans,{id:"Preferences"}),value:"preferences"}),i.a.createElement(v.a,{label:i.a.createElement(r.Trans,{id:"Hints & explanations"}),value:"hints"}),i.a.createElement(v.a,{label:i.a.createElement(r.Trans,{id:"Keyboard Shortcuts"}),value:"shortcuts"})),"preferences"===x&&i.a.createElement(h.a,null,i.a.createElement(f.a,{size:"title"},i.a.createElement(r.Trans,{id:"Appearance"})),i.a.createElement(E.b,{noMargin:!0},i.a.createElement(s.a,{floatingLabelText:i.a.createElement(r.Trans,{id:"UI Theme"}),value:T.themeName,onChange:(e,t,n)=>S(n),fullWidth:!0},Object.keys(m.b).map(e=>i.a.createElement(c.a,{value:e,primaryText:e,key:e}))),i.a.createElement(s.a,{floatingLabelText:i.a.createElement(r.Trans,{id:"Code editor Theme"}),value:T.codeEditorThemeName,onChange:(e,t,n)=>w(n),fullWidth:!0},Object(p.a)().map(e=>i.a.createElement(c.a,{value:e.themeName,primaryText:e.name,key:e.themeName})))),i.a.createElement(h.b,{noMargin:!0},i.a.createElement(f.a,null,i.a.createElement(r.Trans,{id:"You can contribute and create your own themes:"})),i.a.createElement(l.a,{label:i.a.createElement(r.Trans,{id:"Learn more"}),onClick:()=>{g.b.openExternalURL("https://github.com/4ian/GDevelop/tree/master/newIDE#theming")}})),i.a.createElement(f.a,{size:"title"},i.a.createElement(r.Trans,{id:"Layouts"})),i.a.createElement(h.b,null,i.a.createElement(h.a,null,i.a.createElement(C.a,{label:i.a.createElement(r.Trans,{id:"Reset Scene Editor layout"}),onClick:()=>A("scene-editor",null),disabled:!L("scene-editor")}),i.a.createElement(h.c,null),i.a.createElement(C.a,{label:i.a.createElement(r.Trans,{id:"Reset Scene Editor (small window) layout"}),onClick:()=>A("scene-editor-small",null),disabled:!L("scene-editor-small")}),i.a.createElement(h.c,null),i.a.createElement(C.a,{label:i.a.createElement(r.Trans,{id:"Reset Debugger layout"}),onClick:()=>A("debugger",null),disabled:!L("debugger")}),i.a.createElement(h.c,null),i.a.createElement(C.a,{label:i.a.createElement(r.Trans,{id:"Reset Resource Editor layout"}),onClick:()=>A("resources-editor",null),disabled:!L("resources-editor")}),i.a.createElement(h.c,null),i.a.createElement(C.a,{label:i.a.createElement(r.Trans,{id:"Reset Extension Editor layout"}),onClick:()=>A("events-functions-extension-editor",null),disabled:!L("events-functions-extension-editor")}))),i.a.createElement(f.a,{size:"title"},i.a.createElement(r.Trans,{id:"Updates"})),i.a.createElement(h.b,null,i.a.createElement(u.a,{onToggle:(e,t)=>k(t),toggled:T.autoDownloadUpdates,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Auto download and install updates (recommended)"})})),i.a.createElement(h.b,null,i.a.createElement(u.a,{onToggle:(e,t)=>P(t),toggled:T.autoDisplayChangelog,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Display What's New when a new version is launched (recommended)"})})),i.a.createElement(f.a,{size:"title"},i.a.createElement(r.Trans,{id:"Events Sheet"})),i.a.createElement(h.b,null,i.a.createElement(u.a,{onToggle:(e,t)=>I(t),toggled:T.eventsSheetShowObjectThumbnails,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Display object thumbnails in Events Sheets"})})),i.a.createElement(h.b,null,i.a.createElement(u.a,{onToggle:(e,t)=>F(t),toggled:T.eventsSheetUseAssignmentOperators,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Display assignment operators in Events Sheets"})})),i.a.createElement(h.b,null,i.a.createElement(u.a,{onToggle:(e,t)=>R(t),toggled:T.useNewInstructionEditorDialog,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Use the new action/condition editor"})})),i.a.createElement(f.a,{size:"title"},i.a.createElement(r.Trans,{id:"Advanced"})),i.a.createElement(h.b,null,i.a.createElement(u.a,{onToggle:(e,t)=>B(t),toggled:T.autosaveOnPreview,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Auto-save project on Preview"})})),i.a.createElement(h.b,null,i.a.createElement(u.a,{onToggle:(e,t)=>D(t),toggled:T.autoOpenMostRecentProject,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Automatically re-open the project edited during last session"})})),i.a.createElement(h.b,null,i.a.createElement(u.a,{onToggle:(e,t)=>G(t),toggled:T.isMenuBarHiddenInPreview,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Hide the menu bar in the preview window"})})),g.b.isDev()&&i.a.createElement(h.b,null,i.a.createElement(u.a,{onToggle:(e,t)=>M(t),toggled:T.useGDJSDevelopmentWatcher,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Watch changes in game engine (GDJS) sources and auto import them (dev only)"})}))),"hints"===x&&i.a.createElement(h.a,null,i.a.createElement(h.b,null,i.a.createElement(h.a,{noMargin:!0},i.a.createElement(f.a,null,i.a.createElement(r.Trans,{id:"Warn/show explanation about:"})),b.a.map(({key:e,label:t})=>i.a.createElement(h.b,{key:e},i.a.createElement(u.a,{onToggle:(t,n)=>N(e,n),toggled:!T.hiddenAlertMessages[e],labelPosition:"right",label:t}))),i.a.createElement(f.a,null,i.a.createElement(r.Trans,{id:"Show link to tutorials:"})),Object(y.a)().map(({identifier:e,name:t})=>i.a.createElement(h.b,{key:e},i.a.createElement(u.a,{onToggle:(t,n)=>_(e,n),toggled:!T.hiddenTutorialHints[e],labelPosition:"right",label:t})))))),"shortcuts"===x&&i.a.createElement(h.a,null,i.a.createElement(W,{i18n:e,userShortcutMap:T.userShortcutMap,onEdit:V,onReset:U})))}},2288:function(e,t,n){"use strict";var a=n(87),r=n(71),o=n(4),i=n.n(o),s=n(84),l=n(81),c=n(1821),u=n.n(c),d=n(73),h=n(106),m=n(268),p=n(83),g=n(5),b=n(80),f=n(100),E=n.n(f),v=n(107),y=n(93),C=n(88),x=n(102),j=n(918),O=n(168),T=n(200),S=n(170),w=n.n(S);var k=n(22);const N=function(){var e=Object(v.a)(E.a.mark((function e(t){var n,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get(t,{responseType:"arraybuffer"});case 3:if(n=e.sent,!((a=btoa(new Uint8Array(n.data).reduce((e,t)=>e+String.fromCharCode(t),""))).length>102400)){e.next=7;break}throw new Error("Icon is too big (size after base64 conversion: ".concat(a.length,")"));case 7:if("image/svg+xml"===(r=n.headers?n.headers["content-type"].toLowerCase():"")){e.next=10;break}throw new Error('Wrong content type. Got: "'.concat(r,'", expected "image/svg+xml"'));case 10:return e.abrupt("return","data:".concat(r,";base64,").concat(a));case 13:throw e.prev=13,e.t0=e.catch(0),console.error("Unable to import the icon.",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),_=({i18n:e,helpPath:t,onChangeHelpPath:n})=>{const a=Object(T.b)(t),o=Object(T.c)(t),s=t?(o?e._({id:"This is a relative path that will open in the GDevelop wiki."}):e._({id:"This is link to a webpage."}))+" [".concat(e._({id:"Click here to test the link."}),"](").concat(Object(T.a)(t),")"):e._({id:"This can either be a URL to a web page, or a path starting with a slash that will be opened in the GDevelop wiki. Leave empty if there is no help page, although it's recommended you eventually write one if you distribute the extension."});return i.a.createElement(y.b,{floatingLabelText:i.a.createElement(r.Trans,{id:"Help page URL"}),value:t,onChange:(e,t)=>{n(t)},errorText:!t||a||o?null:i.a.createElement(r.Trans,{id:'This is not a URL starting with "http://" or "https://".'}),helperMarkdownText:s,fullWidth:!0})},P=({eventsFunctionsExtension:e,onLoadChange:t,isLoading:n})=>{const c=Object(O.a)(),u=i.a.useState(!1),d=Object(a.a)(u,2),h=d[0],m=d[1],g=(()=>{const e=o.useRef(!1);return o.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e})();return i.a.createElement(r.I18n,null,({i18n:a})=>i.a.createElement(C.a,{noMargin:!0},i.a.createElement(y.b,{floatingLabelText:i.a.createElement(r.Trans,{id:"Name"}),value:e.getName(),disabled:!0,fullWidth:!0}),i.a.createElement(C.c,{renderButton:e=>i.a.createElement(p.a,{onClick:()=>{m(!0)},primary:!0,label:i.a.createElement(r.Trans,{id:"Choose"}),disabled:n,style:e}),renderTextField:()=>i.a.createElement(x.a,{floatingLabelText:i.a.createElement(r.Trans,{id:"Icon URL"}),value:e.getPreviewIconUrl(),onChange:t=>{e.setPreviewIconUrl(t)},disabled:!0,fullWidth:!0})}),i.a.createElement(y.b,{floatingLabelText:i.a.createElement(r.Trans,{id:"Name displayed in editor"}),value:e.getFullName(),onChange:(t,n)=>{e.setFullName(n),c()},fullWidth:!0}),i.a.createElement(y.b,{floatingLabelText:i.a.createElement(r.Trans,{id:"Short description"}),value:e.getShortDescription(),onChange:(t,n)=>{e.setShortDescription(n),c()},multiline:!0,fullWidth:!0,rows:2,rowsMax:2}),i.a.createElement(y.b,{floatingLabelText:i.a.createElement(r.Trans,{id:"Description (markdown supported)"}),value:e.getDescription(),onChange:(t,n)=>{e.setDescription(n),c()},multiline:!0,fullWidth:!0,rows:5,rowsMax:5}),i.a.createElement(y.b,{floatingLabelText:i.a.createElement(r.Trans,{id:"Version"}),value:e.getVersion(),onChange:(t,n)=>{e.setVersion(n),c()},fullWidth:!0}),i.a.createElement(x.a,{floatingLabelText:i.a.createElement(r.Trans,{id:"Tags (comma separated)"}),value:e.getTags().toJSArray().join(", "),onChange:t=>{const n=e.getTags();n.clear(),t.split(",").map(e=>e.trim()).filter(Boolean).forEach(e=>{n.push_back(e)}),c()},fullWidth:!0}),i.a.createElement(_,{i18n:a,helpPath:e.getHelpPath(),onChangeHelpPath:t=>{e.setHelpPath(t),c()}}),i.a.createElement(y.b,{floatingLabelText:i.a.createElement(r.Trans,{id:"Author (Name, email or GitHub handle)"}),value:e.getAuthor(),onChange:(t,n)=>{e.setAuthor(n),c()},fullWidth:!0}),h&&i.a.createElement(s.a,{title:i.a.createElement(r.Trans,{id:"Choose an icon for the extension"}),actions:[i.a.createElement(l.a,{key:"cancel",label:i.a.createElement(r.Trans,{id:"Cancel"}),primary:!1,onClick:()=>{m(!1)}})],cannotBeDismissed:!1,open:!0,noMargin:!0},i.a.createElement(j.a,{onChoose:n=>{m(!1),t(!0),N(n.url).then(t=>{g.current&&(e.setPreviewIconUrl(n.url),e.setIconUrl(t))},e=>{g.current&&Object(k.a)({message:a._({id:"Unable to download the icon. Verify your internet connection or try again later."}),rawError:e,errorId:"icon-download-error"})}).then(()=>{g.current&&t(!1)})},resourceKind:"svg"}))))};var I=n(153),B=n(2421),R=n(156),M=n(2385),F=n(95),L=n(147),A=n.n(L),D=n(181),U=n.n(D),V=n(111),W=n(112),G=n(86),z=n(122),H=n(171);const K=(e,t)=>{for(let n=0;n<t.size();n++)if(t.at(n).getName()===e)return!0;return!1},Y=({eventsFunctionsExtension:e})=>{const t=e.getAllDependencies(),n=Object(O.a)();return i.a.createElement(d.a,null,i.a.createElement(d.b,{expand:!0},i.a.createElement(B.a,{component:({children:e})=>i.a.createElement(M.a,{elevation:4,style:{minWidth:"100%"}},e)},i.a.createElement(R.a,null,i.a.createElement(R.c,null,i.a.createElement(R.e,null,i.a.createElement(R.d,null,i.a.createElement(r.Trans,{id:"Name"})),i.a.createElement(R.d,null,i.a.createElement(r.Trans,{id:"Export name"})),i.a.createElement(R.d,null,i.a.createElement(r.Trans,{id:"Version"})),i.a.createElement(R.d,null,i.a.createElement(r.Trans,{id:"Dependency type"})),i.a.createElement(R.d,null,i.a.createElement(r.Trans,{id:"Action"})))),i.a.createElement(R.b,null,Object(G.mapVector)(e.getAllDependencies(),(a,r)=>i.a.createElement(R.e,{key:a.getName()},i.a.createElement(R.f,null,i.a.createElement(x.a,{commitOnBlur:!0,value:a.getName(),onChange:e=>{e!==a.getName()&&(K(e,t)?Object(k.c)("This name is already in use! Please use a unique name.",{delayToNextTick:!0}):(a.setName(e),n()))},margin:"none"})),i.a.createElement(R.f,null,i.a.createElement(x.a,{commitOnBlur:!0,value:a.getExportName(),onChange:e=>{e!==a.getExportName()&&(a.setExportName(e),n())},margin:"none"})),i.a.createElement(R.f,null,i.a.createElement(x.a,{commitOnBlur:!0,value:a.getVersion(),onChange:e=>{e!==a.getVersion()&&(a.setVersion(e),n())},margin:"none"})),i.a.createElement(R.f,null,i.a.createElement(V.a,{value:a.getDependencyType(),onChange:(e,t,r)=>{r!==a.getDependencyType()&&(a.setDependencyType(r),n())},margin:"none"},i.a.createElement(W.a,{value:"npm",primaryText:{id:"NPM"}}),i.a.createElement(W.a,{value:"cordova",primaryText:{id:"Cordova"}}))),i.a.createElement(R.f,null,i.a.createElement(F.a,{tooltip:{id:"Remove"},onClick:()=>{e.removeDependencyAt(r),n()},size:"small"},i.a.createElement(U.a,null))))))),i.a.createElement(d.a,{expand:!0},i.a.createElement(d.b,{justifyContent:"flex-end"},i.a.createElement(p.a,{primary:!0,icon:i.a.createElement(A.a,null),label:i.a.createElement(r.Trans,{id:"Add"}),onClick:()=>{e.addDependency().setName(Object(z.a)("New Dependency",e=>K(e,t))).setExportName("my-dependency").setVersion("1.0.0").setDependencyType("cordova"),n()}}))))),i.a.createElement(d.b,null,i.a.createElement(H.a,null,i.a.createElement(r.Trans,{id:"Dependencies allow to add additional libraries in the exported games. NPM dependencies will be included for Electron builds (Windows, macOS, Linux) and Cordova dependencies will be included for Cordova builds (Android, iOS). Note that this is intended for usage in JavaScript events only. If you are only using standard events, you should not worry about this."}))))};n.d(t,"a",(function(){return J}));const X=()=>{g.b.openExternalURL("https://github.com/4ian/GDevelop-extensions/issues/new?body=".concat(encodeURIComponent('\n**\u26a0\ufe0f Please edit and complete this before submitting your extension:**\n\n## Describe the extension\nA clear and concise description of what the extension is, how useful it is.\n\n## Checklist\n\n- [ ] Extension has a proper name and description.\n- [ ] Extension has tags (for example: "platform, brick, breakable").\n- [ ] All behaviors have a description.\n- [ ] All functions (actions, conditions, expressions) have descriptions.\n- [ ] I confirm that this extension can be intergrated to this GitHub repository, distributed and MIT licensed.\n\n## Extension file\n\nFinally, attach the .json file of your extension here.\n\nYou also may have to create an account on GitHub before posting.\nIf your extension is high quality and useful, it will be added to the list of GDevelop community extensions.\nWhen you\'re ready, remove this last paragraph and click on "Submit new issue". Thanks \ud83d\ude4c'),"&title=New%20extension"))};function J({eventsFunctionsExtension:e,onClose:t,open:n}){const i=o.useState("options"),c=Object(a.a)(i,2),g=c[0],f=c[1],E=o.useState(!1),v=Object(a.a)(E,2),y=v[0],C=v[1],x=o.useState(!1),j=Object(a.a)(x,2),O=j[0],T=j[1],S=o.useContext(m.a),w=S.getEventsFunctionsExtensionWriter();return o.createElement(s.a,{secondaryActions:[o.createElement(h.a,{key:"help",helpPagePath:"/extensions/create"}),w?o.createElement(l.a,{icon:o.createElement(u.a,null),key:"export",label:o.createElement(r.Trans,{id:"Export extension"}),onClick:()=>{T(!0)},disabled:y}):null],actions:[o.createElement(l.a,{label:o.createElement(r.Trans,{id:"Close"}),primary:!0,keyboardFocused:!0,onClick:()=>t(),disabled:y,key:"close"})],cannotBeDismissed:!0,open:n,noTitleMargin:!0,title:o.createElement(I.b,{value:g,onChange:f},o.createElement(I.a,{label:o.createElement(r.Trans,{id:"Options"}),value:"options"}),o.createElement(I.a,{label:o.createElement(r.Trans,{id:"Dependencies"}),value:"dependencies"})),onRequestClose:y?()=>{}:t},"options"===g&&o.createElement(P,{eventsFunctionsExtension:e,onLoadChange:C,isLoading:y}),"dependencies"===g&&o.createElement(Y,{eventsFunctionsExtension:e}),O&&o.createElement(s.a,{secondaryActions:[o.createElement(h.a,{key:"help",helpPagePath:"/extensions/share"})],actions:[o.createElement(l.a,{label:o.createElement(r.Trans,{id:"Close"}),keyboardFocused:!0,onClick:()=>{T(!1)},key:"close"})],open:!0,cannotBeDismissed:!1,onRequestClose:()=>{T(!1)}},o.createElement(d.a,{expand:!0},o.createElement(d.b,null,o.createElement(b.a,null,o.createElement(r.Trans,{id:"You can export the extension to a file to easily import it in another project. If your extension is providing useful and reusable functions or behaviors, consider sharing it with the GDevelop community!"}))),o.createElement(d.b,null,o.createElement(p.a,{icon:o.createElement(u.a,null),primary:!0,label:o.createElement(r.Trans,{id:"Export to a file"}),onClick:()=>{((e,t)=>{const n=e.getEventsFunctionsExtensionWriter();n?n.chooseEventsFunctionExtensionFile().then(e=>{e&&n.writeEventsFunctionsExtension(t,e).then()}):Promise.reject(new Error("Not supported"))})(S,e)}}),o.createElement(l.a,{label:o.createElement(r.Trans,{id:"Submit extension to the community"}),onClick:X})))))}},2289:function(e,t,n){"use strict";var a=n(205),r=n(4),o=n(188),i=n(189);const s=(e,t,n)=>Object(o.c)(e,t).containerObjectsList.map(t=>({text:t.object.getName(),handler:()=>n(t.object),iconSrc:i.a.getThumbnail.bind(i.a)(e,t.object)}));var l=e=>{const t=e.project,n=e.layout,o=e.onEditObject,i=e.onEditObjectVariables;Object(a.b)("EDIT_OBJECT",!0,{generateOptions:r.useCallback(()=>s(t,n,o),[t,n,o])}),Object(a.b)("EDIT_OBJECT_VARIABLES",!0,{generateOptions:r.useCallback(()=>s(t,n,i),[t,n,i])})};var c=e=>{const t=e.project,n=e.layout,i=e.onEditObjectGroup;Object(a.b)("EDIT_OBJECT_GROUP",!0,{generateOptions:r.useCallback(()=>[...Object(o.a)(n.getObjectGroups()),...Object(o.a)(t.getObjectGroups())].map(e=>({text:e.getName(),handler:()=>i(e)})),[i,t,n])})},u=n(86);var d=e=>{const t=e.layout,n=e.onEditLayerEffects,o=e.onEditLayer;Object(a.b)("EDIT_LAYER_EFFECTS",!0,{generateOptions:r.useCallback(()=>{const e=t.getLayersCount();return Object(u.mapReverseFor)(0,e,e=>{const a=t.getLayerAt(e);return{text:a.getName()||"Base layer",handler:()=>n(a)}})},[t,n])}),Object(a.b)("EDIT_LAYER",!0,{generateOptions:r.useCallback(()=>{const e=t.getLayersCount();return Object(u.mapReverseFor)(0,e,e=>{const n=t.getLayerAt(e);return{text:n.getName()||"Base layer",handler:()=>o(n)}})},[t,o])})};t.a=e=>{const t=e.project,n=e.layout,r=e.onEditObject,o=e.onEditObjectVariables,i=e.onOpenSceneProperties,s=e.onOpenSceneVariables,u=e.onEditObjectGroup,h=e.onEditLayerEffects,m=e.onEditLayer;return Object(a.a)("OPEN_SCENE_PROPERTIES",!0,{handler:i}),Object(a.a)("OPEN_SCENE_VARIABLES",!0,{handler:s}),l({project:t,layout:n,onEditObject:r,onEditObjectVariables:o}),c({project:t,layout:n,onEditObjectGroup:u}),d({layout:n,onEditLayerEffects:h,onEditLayer:m}),null}},2290:function(e,t,n){"use strict";var a=n(77),r=n(71),o=n(4),i=n(81),s=n(2385),l=n(95),c=n(1911),u=n.n(c),d=n(5),h=n(73),m=n(97);const p={logo:{width:"100%"}};var g=()=>o.createElement(m.a,null,e=>o.createElement("img",{src:e.logo.src,alt:"",style:p.logo}));const b={flex:1,display:"flex",overflowY:"scroll"};var f=({children:e})=>o.createElement(m.a,null,t=>o.createElement("div",{style:Object(a.a)(Object(a.a)({},b),{},{backgroundColor:t.palette.canvasColor})},e)),E=n(83),v=n(80),y=n(88),C=n(1909),x=n.n(C),j=n(1910),O=n.n(j),T=n(1908),S=n.n(T);n.d(t,"a",(function(){return N}));const w={innerContainer:{display:"flex",flexDirection:"column",width:"100%",minHeight:400},centerContainer:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"center",flexShrink:0,maxWidth:400},logoPaper:{marginBottom:10,width:"100%",textAlign:"center"}};class k extends o.Component{shouldComponentUpdate(e){return e.isActive}getProject(){}updateToolbar(){this.props.setToolbar&&this.props.setToolbar(null)}forceUpdateEditor(){}render(){const e=this.props,t=e.project,n=e.canOpen,c=e.onOpen,m=e.onCreate,p=e.onOpenProjectManager,b=e.onCloseProject,C=e.onOpenTutorials,j=e.onOpenGamesShowcase,T=e.onOpenHelpFinder,k=e.onOpenLanguageDialog;return o.createElement(r.I18n,null,({i18n:e})=>o.createElement(f,null,o.createElement("div",{style:w.innerContainer},o.createElement(h.b,{expand:!0,justifyContent:"center"},o.createElement("div",{style:w.centerContainer},o.createElement(s.a,{elevation:2,style:Object(a.a)({},w.logoPaper)},o.createElement(g,null),o.createElement(v.a,null,o.createElement(r.Trans,{id:"GDevelop is an easy-to-use game creator with no programming language to learn."}))),o.createElement(y.a,{noMargin:!0},o.createElement(E.a,{label:o.createElement(r.Trans,{id:"Getting Started and Tutorials"}),fullWidth:!0,onClick:C}),!t&&o.createElement(E.a,{label:o.createElement(r.Trans,{id:"Create a new project"}),fullWidth:!0,onClick:m,primary:!0}),!t&&n&&o.createElement(E.a,{label:o.createElement(r.Trans,{id:"Open a project"}),fullWidth:!0,onClick:c,primary:!0}),!!t&&o.createElement(E.a,{label:o.createElement(r.Trans,{id:"Open Project Manager"}),fullWidth:!0,onClick:p,primary:!0}),!!t&&o.createElement(i.a,{label:o.createElement(r.Trans,{id:"Close project"}),fullWidth:!0,onClick:()=>{b()}})))),o.createElement(h.b,{noMargin:!0},o.createElement(y.b,{alignItems:"center",justifyContent:"space-between",expand:!0},o.createElement(h.b,{noMargin:!0,justifyContent:"center"},o.createElement(i.a,{icon:o.createElement(S.a,null),label:o.createElement(r.Trans,{id:"GDevelop Games"}),onClick:j}),o.createElement(i.a,{icon:o.createElement(x.a,null),label:o.createElement(r.Trans,{id:"Community Forums"}),onClick:()=>d.b.openExternalURL("https://forum.gdevelop-app.com")}),o.createElement(i.a,{icon:o.createElement(O.a,null),label:o.createElement(r.Trans,{id:"Help and documentation"}),onClick:T})),o.createElement(h.b,{noMargin:!0,alignItems:"center",justifyContent:"center"},o.createElement(l.a,{className:"icon-youtube",onClick:()=>d.b.openExternalURL("https://www.youtube.com/c/GDevelopApp"),tooltip:{id:"Tutorials on YouTube"}}),o.createElement(l.a,{className:"icon-discord",onClick:()=>d.b.openExternalURL("https://discord.gg/rjdYHvj"),tooltip:{id:"GDevelop on Discord"}}),o.createElement(l.a,{className:"icon-reddit",onClick:()=>d.b.openExternalURL("https://www.reddit.com/r/gdevelop"),tooltip:{id:"GDevelop on Reddit"}}),o.createElement(l.a,{className:"icon-twitter",onClick:()=>d.b.openExternalURL("https://twitter.com/GDevelopApp"),tooltip:{id:"GDevelop on Twitter"}}),o.createElement(l.a,{className:"icon-facebook",onClick:()=>d.b.openExternalURL("https://www.facebook.com/GDevelopApp"),tooltip:{id:"GDevelop on Facebook"}}),o.createElement(i.a,{label:e.language,onClick:k,icon:o.createElement(u.a,null)})))))))}}const N=e=>o.createElement(k,{ref:e.ref,project:e.project,isActive:e.isActive,projectItemName:e.projectItemName,setToolbar:e.setToolbar,canOpen:e.canOpen,onOpen:e.onOpen,onCreate:e.onCreate,onOpenProjectManager:e.onOpenProjectManager,onCloseProject:e.onCloseProject,onOpenTutorials:e.onOpenTutorials,onOpenGamesShowcase:e.onOpenGamesShowcase,onOpenHelpFinder:e.onOpenHelpFinder,onOpenLanguageDialog:e.onOpenLanguageDialog})},2291:function(e,t,n){"use strict";var a=n(87),r=n(4),o=n.n(r),i=n(71),s=n(2396),l=n(2404),c=n(393),u=n(148),d=n(247),h=n(2383),m=n(2389),p=n(2390),g=n(2402),b=n(2495),f=n(2478),E=n(405),v=n.n(E),y=n(2485),C=n(876);var x=(e,t)=>{const n=t.inputValue.toLowerCase();if(""===n)return e;const a=[],r=[];return e.forEach(e=>{const o=t.getOptionLabel(e).toLowerCase();return o.includes(n)?a.push(e):Object(C.a)(n,o)?r.push(e):void 0}),[...a,...r]},j=n(305);const O=Object(l.a)({shortcutChip:{borderRadius:3},listItemContainer:{width:"100%"}});var T=e=>{const t=r.useState(!0),n=Object(a.a)(t,2),o=n[0],i=n[1],s=Object(d.e)(),l=O(),c=t=>{if(t.text)return t.text;if(t.name){const n=j.b[t.name],a=n.area,r=n.displayText,o=j.a[a];return e.i18n._(o)+" \u3009"+e.i18n._(r)}};return r.createElement(y.a,{open:o,onClose:(t,n)=>{"select-option"!==n&&e.onClose()},onOpen:()=>i(!0),options:e.items,getOptionLabel:c,onChange:(t,n)=>{e.onSelect(n)},openOnFocus:!0,autoHighlight:!0,filterOptions:x,renderInput:t=>r.createElement(f.a,Object.assign({},t,{placeholder:e.i18n._(e.placeholder),variant:"outlined",autoFocus:!0})),renderOption:e=>r.createElement(h.a,{dense:!0,component:"div",ContainerComponent:"div",classes:{container:l.listItemContainer}},r.createElement(m.a,null,(e=>e.text&&e.iconSrc?r.createElement(u.a,{iconSize:20,src:e.iconSrc}):r.createElement(v.a,null))(e)),r.createElement(p.a,{primary:c(e)}),(e=>{if(e.text)return null;if(e.name){const t=s[e.name];if(!t)return null;const n=Object(d.b)(t);return r.createElement(g.a,null,r.createElement(b.a,{className:l.shortcutChip,label:n}))}})(e))})};const S=Object(l.a)({scrollPaper:{alignItems:"flex-start"}}),w=o.a.forwardRef((e,t)=>{const n=S(),r=o.a.useContext(c.b),l=o.a.useState("closed"),u=Object(a.a)(l,2),d=u[0],h=u[1],m=o.a.useState(null),p=Object(a.a)(m,2),g=p[0],b=p[1],f=o.a.useCallback(e=>{e.handler?(e.handler(),"OPEN_COMMAND_PALETTE"!==e.name&&h("closed")):(b(e),h("option"))},[b,h]),E=e=>{e.handler(),h("closed")},v=o.a.useCallback((e=!0)=>{h(e?"command":"closed")},[]),y=o.a.useCallback(e=>{const t=r.getNamedCommand(e);t&&f(t)},[f,r]);return o.a.useImperativeHandle(t,()=>({open:v,launchCommand:y})),o.a.createElement(i.I18n,null,({i18n:e})=>o.a.createElement(s.a,{onClose:()=>h("closed"),"aria-label":"command-palette",open:"closed"!==d,fullWidth:!0,hideBackdrop:!0,maxWidth:"sm",classes:n,transitionDuration:0},"command"===d&&o.a.createElement(T,{i18n:e,items:r.getAllNamedCommands().filter(e=>!j.b[e.name].ghost),placeholder:{id:"Start typing a command..."},onClose:()=>h("closed"),onSelect:f}),"option"===d&&g&&o.a.createElement(T,{i18n:e,items:g.generateOptions(),placeholder:j.b[g.name],onClose:()=>h("closed"),onSelect:E})))});t.a=w},2292:function(e,t,n){"use strict";var a=n(136),r=n(71),o=n(4),i=n.n(o),s=n(84),l=n(81),c=n(2385),u=n(401),d=n(326),h=n(274),m=n(327);const p={flex:1,display:"flex",flexDirection:"column"};class g extends o.Component{constructor(...e){super(...e),this.instructionsInfo=Object(m.a)(Object(h.b)(this.props.isCondition),this.props.scope),this.instructionsInfoTree=Object(d.a)(this.instructionsInfo)}render(){const e=this.props,t=(e.isCondition,e.scope,Object(a.a)(e,["isCondition","scope"]));return i.a.createElement(u.a,Object.assign({style:p,instructionsInfo:this.instructionsInfo,instructionsInfoTree:this.instructionsInfoTree,iconSize:24},t))}}var b=n(791);const f={container:{display:"flex",flex:1},parametersEditor:{flex:2,display:"flex",paddingLeft:16,paddingRight:16,zIndex:1}};class E extends o.Component{constructor(...e){super(...e),this.chooseType=e=>{this.props.instruction.setType(e),this.forceUpdate(()=>{this._instructionParametersEditor&&this._instructionParametersEditor.focus()})}}render(){const e=this.props,t=e.instruction,n=e.isCondition,a=e.project,r=e.globalObjectsContainer,i=e.objectsContainer,s=e.scope;return o.createElement("div",{style:f.container},o.createElement(g,{isCondition:n,selectedType:t.getType(),onChoose:this.chooseType,focusOnMount:!t.getType(),scope:s}),o.createElement(c.a,{style:f.parametersEditor,square:!0,elevation:2},o.createElement(b.a,{project:a,scope:s,globalObjectsContainer:r,objectsContainer:i,isCondition:n,instruction:t,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,ref:e=>this._instructionParametersEditor=e,focusOnMount:!!t.getType()})))}}n.d(t,"a",(function(){return v}));class v extends o.Component{render(){const e=this.props,t=(e.isNewInstruction,e.onCancel),n=e.onSubmit,i=e.open,c=(e.canPasteInstructions,e.onPasteInstructions,Object(a.a)(e,["isNewInstruction","onCancel","onSubmit","open","canPasteInstructions","onPasteInstructions"])),u=[o.createElement(l.a,{key:"cancel",label:o.createElement(r.Trans,{id:"Cancel"}),primary:!1,onClick:t}),o.createElement(l.a,{key:"ok",label:o.createElement(r.Trans,{id:"Ok"}),primary:!0,keyboardFocused:!1,onClick:n})];return o.createElement(s.a,{actions:u,open:i,cannotBeDismissed:!0,onRequestClose:t,maxWidth:!1,flexBody:!0,noMargin:!0},o.createElement(E,c))}}},2293:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(115),i=n(92),s=n(232),l=(n(114),n(334));const c={previewContainer:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",height:200,border:"#AAAAAA 1px solid",background:'url("res/transparentback.png") repeat'},icon:{width:60,height:60}};var u=({renderIcon:e})=>r.createElement("div",{style:c.previewContainer},e({style:c.icon})),d=n(1887),h=n.n(d),m=n(848),p=n.n(m),g=n(849),b=n.n(g),f=n(850),E=n.n(f);class v extends r.PureComponent{constructor(...e){super(...e),this.state=this._loadFrom(this.props)}componentWillReceiveProps(e){e.resourceName===this.props.resourceName&&e.project===this.props.project&&e.resourcePath===this.props.resourcePath||this.setState(this._loadFrom(e))}_loadFrom(e){const t=e.project,n=e.resourceName,a=t.getResourcesManager();return{resourceKind:a.hasResource(n)?a.getResource(n).getKind():null}}render(){switch(this.state.resourceKind){case"image":return r.createElement(l.a,{project:this.props.project,resourceName:this.props.resourceName,resourcesLoader:this.props.resourcesLoader,onSize:this.props.onSize,resourcePath:this.props.resourcePath});case"audio":return r.createElement(u,{renderIcon:e=>r.createElement(h.a,e)});case"json":return r.createElement(u,{renderIcon:e=>r.createElement(p.a,e)});case"video":return r.createElement(u,{renderIcon:e=>r.createElement(b.a,e)});case"font":return r.createElement(u,{renderIcon:e=>r.createElement(E.a,e)});default:return null}}}var y=n(264);n.d(t,"a",(function(){return x}));const C={propertiesContainer:{padding:8,overflowY:"scroll",overflowX:"hidden",flex:2}};class x extends r.Component{constructor(...e){super(...e),this.schema=[{name:"Resource name",valueType:"string",disabled:!0,getValue:e=>e.getName(),setValue:(e,t)=>e.setName(t)},{name:"File",valueType:"string",getValue:e=>e.getFile(),setValue:(e,t)=>e.setFile(t),onEditButtonClick:()=>this._chooseResourcePath()}],this._chooseResourcePath=()=>{const e=this.props,t=e.resources,n=e.onResourcePathUpdated,a=e.onChooseResource,r=e.resourceSources,o=t[0],i=r.filter(e=>e.kind===o.getKind());i.length&&a(i[0].name).then(e=>{e.length&&(o.setFile(e[0].getFile()),e.forEach(e=>e.delete()),n(),this.forceUpdate())})}}_renderEmpty(){return r.createElement(i.a,null,r.createElement(a.Trans,{id:"Resources are automatically added to your project whenever you add an image, a font or a video to an object or when you choose an audio file in events. Choose a resource to display its properties."}))}_renderResourcesProperties(){const e=this.props.resources,t=e[0].getProperties(),n=Object(y.a)(t,e=>e.getProperties(),(e,t,n)=>e.updateProperty(t,n));return r.createElement("div",{style:C.propertiesContainer,key:e.map(e=>""+e.ptr).join(";")},r.createElement(s.a,{schema:this.schema.concat(n),instances:e}))}_renderPreview(){const e=this.props,t=e.resources,n=e.project,a=e.resourcesLoader;if(t&&t.length)return r.createElement(v,{resourceName:t[0].getName(),resourcePath:t[0].getFile(),resourcesLoader:a,project:n})}render(){const e=this.props.resources;return r.createElement(o.a,{maxWidth:!0},this._renderPreview(),e&&e.length?this._renderResourcesProperties():this._renderEmpty())}}},2294:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(296),i=n(254),s=n(302),l=n(138),c=n(5);function u({onPreviewWithoutHotReload:e,onNetworkPreview:t,onOpenDebugger:n,onHotReloadPreview:r,showNetworkPreviewButton:o,isPreviewEnabled:s,hasPreviewsRunning:c,previewState:u,setPreviewOverride:d}){const h=a.createElement(i.a,{onClick:r,disabled:!s,src:c?"res/ribbon_default/hotReload64.png":u.isPreviewOverriden?"res/ribbon_default/previewOverride32.png":"res/ribbon_default/preview64.png",tooltip:c?{id:"Apply changes to the running preview, right click for more"}:u.isPreviewOverriden?{id:"Preview is overridden, right click for more"}:u.previewExternalLayoutName?{id:"Launch a preview of the external layout inside the scene, right click for more"}:{id:"Launch a preview of the scene, right click for more"}});return a.createElement(a.Fragment,null,a.createElement(l.a,{element:h,openMenuWithSecondaryClick:!0,buildMenuTemplate:t=>[{label:t._({id:"Launch another preview in a new window"}),click:e,enabled:s&&c},{type:"separator"},...u.overridenPreviewLayoutName?[{type:"checkbox",label:u.overridenPreviewExternalLayoutName?t._({id:"Start all previews from external layout {0}",values:{0:u.overridenPreviewExternalLayoutName}}):t._({id:"Start all previews from scene {0}",values:{0:u.overridenPreviewLayoutName}}),checked:u.isPreviewOverriden,click:()=>d({isPreviewOverriden:!u.isPreviewOverriden,overridenPreviewLayoutName:u.overridenPreviewLayoutName,overridenPreviewExternalLayoutName:u.overridenPreviewExternalLayoutName})},{type:"separator"}]:[],{label:u.previewExternalLayoutName?t._({id:"Use this external layout inside this scene to start all previews"}):t._({id:"Use this scene to start all previews"}),click:()=>d({isPreviewOverriden:!0,overridenPreviewLayoutName:u.previewLayoutName,overridenPreviewExternalLayoutName:u.previewExternalLayoutName}),enabled:u.previewLayoutName!==u.overridenPreviewLayoutName||u.previewExternalLayoutName!==u.overridenPreviewExternalLayoutName}]}),o&&a.createElement(l.a,{element:a.createElement(i.a,{disabled:!s,src:"res/ribbon_default/bug32.png",tooltip:{id:"Advanced preview options (debugger, network preview...)"}}),buildMenuTemplate:e=>[{label:e._({id:"Start Network Preview (Preview over WiFi/LAN)"}),click:()=>t()},{type:"separator"},{label:e._({id:"Start Preview with Debugger and Performance Profiler"}),click:()=>n()}]}))}class d extends a.PureComponent{constructor(...e){super(...e),this.state={editorToolbar:null},this.isDev=c.b.isDev()}setEditorToolbar(e){this.setState({editorToolbar:e})}render(){return r.a.createElement(o.a,null,r.a.createElement(o.b,{firstChild:!0},this.props.showProjectIcons&&r.a.createElement(i.a,{onClick:this.props.toggleProjectManager,src:"res/ribbon_default/projectManager32.png",disabled:!this.props.hasProject,tooltip:{id:"Project manager"}}),this.props.showProjectIcons&&r.a.createElement(i.a,{onClick:this.props.exportProject,src:"res/ribbon_default/export32.png",disabled:!this.props.hasProject,tooltip:{id:"Export the game (Web, Android, iOS...)"}}),this.isDev&&r.a.createElement(l.a,{element:r.a.createElement(i.a,{src:"res/ribbon_default/bug32.png"}),buildMenuTemplate:()=>[{label:"Request update from external editor",disabled:!this.props.requestUpdate,click:()=>{this.props.requestUpdate&&this.props.requestUpdate()}},{label:"Simulate update downloaded",disabled:!this.props.simulateUpdateDownloaded,click:()=>{this.props.simulateUpdateDownloaded&&this.props.simulateUpdateDownloaded()}},{label:"Simulate update available",disabled:!this.props.simulateUpdateAvailable,click:()=>{this.props.simulateUpdateAvailable&&this.props.simulateUpdateAvailable()}}]}),r.a.createElement(s.a,null),r.a.createElement(u,{onPreviewWithoutHotReload:this.props.onPreviewWithoutHotReload,onOpenDebugger:this.props.onOpenDebugger,onNetworkPreview:this.props.onNetworkPreview,onHotReloadPreview:this.props.onHotReloadPreview,setPreviewOverride:this.props.setPreviewOverride,showNetworkPreviewButton:this.props.showNetworkPreviewButton,isPreviewEnabled:this.props.isPreviewEnabled,previewState:this.props.previewState,hasPreviewsRunning:this.props.hasPreviewsRunning})),this.state.editorToolbar||r.a.createElement(o.b,null))}}t.a=d},2295:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(84),i=n(81),s=n(5),l=n(77),c=n(93),u=n(99),d=n(73),h=n(1889),m=n.n(h),p=n(276),g=n.n(p),b=n(80);const f={maxHeight:300,overflowY:"scroll"},E=e=>e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x27;/g,"'"),v={hitsPerPage:5};class y extends r.Component{constructor(...e){super(...e),this.client=m()("BH4D9OD16A","69c73fc1a710bb79543d4b91f6b81c08",v),this.state={results:null,error:null},this._handleSearchTextChange=e=>{this.props.onChange(e)},this._launchSearchRequest=g()(()=>{this.props.value&&this.client.search([{indexName:"gdevelop",query:this.props.value,params:v}]).then(e=>{let t=e.results[0].hits;console.log(t),this.setState({results:t,error:null})},e=>{this.setState({error:e})})},200),this._renderResult=e=>{const t=e.hierarchy.lvl0||e.hierarchy.lvl1||e.hierarchy.lvl2||e.hierarchy.lvl3||e.hierarchy.lvl4||e.hierarchy.lvl5||e.hierarchy.lvl6||"",n=[e.hierarchy.lvl0,e.hierarchy.lvl1,e.hierarchy.lvl2,e.hierarchy.lvl3,e.hierarchy.lvl4,e.hierarchy.lvl5,e.hierarchy.lvl6].filter(e=>!!e).filter(e=>e!==t).join(" - ");return r.createElement(u.b,{key:e.objectID,primaryText:E(t),secondaryText:E(e.content||n),secondaryTextLines:2,onClick:()=>{s.b.openExternalURL(e.url)}})}}componentDidUpdate(e){e.value!==this.props.value&&this.props.value&&this._launchSearchRequest()}render(){return r.createElement("div",null,r.createElement(c.b,{id:"help-finder-search-bar",fullWidth:!0,hintText:{id:"Search on the documentation."},value:this.props.value,onChange:(e,t)=>this.props.onChange(t)}),r.createElement("div",{id:"help-finder-dropdown-menu-container",className:"algolia-autocomplete",style:Object(l.a)(Object(l.a)({},f),{},{visibility:this.props.value?void 0:"hidden"})}),this.state.error?r.createElement(b.a,null,r.createElement(a.Trans,{id:"Unable to search in the documentation. Are you sure you are online and have a proper internet connection?"})):this.state.results?r.createElement(u.a,null,this.state.results.map(e=>this._renderResult(e))):r.createElement(r.Fragment,null,r.createElement(b.a,null,r.createElement(a.Trans,{id:"Examples:"})),r.createElement(d.a,{expand:!0},r.createElement(b.a,null,"Coins in platformer",r.createElement("br",null),"Export on Android",r.createElement("br",null),"Add a score",r.createElement("br",null),"Move enemies",r.createElement("br",null),"...",r.createElement("br",null)))),r.createElement(b.a,{align:"right"},"This search is powered by"," ",r.createElement(i.a,{onClick:()=>s.b.openExternalURL("http://algolia.com/"),label:"Algolia"})))}}var C=n(11);n.d(t,"a",(function(){return x}));class x extends r.PureComponent{constructor(...e){super(...e),this.state={searchText:""},this._handleSearchTextChange=e=>{this.setState({searchText:e}),this._sendHelpSearch()},this._sendHelpSearch=g()(()=>{this.state.searchText&&Object(C.i)(this.state.searchText.trim())},2900)}componentWillReceiveProps(e){e.open&&!this.props.open&&Object(C.h)()}render(){const e=this.props,t=e.open,n=e.onClose;return r.createElement(o.a,{title:r.createElement(a.Trans,{id:"Help!"}),onRequestClose:n,actions:[r.createElement(i.a,{label:r.createElement(a.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n})],secondaryActions:[r.createElement(i.a,{key:"forum",primary:!1,onClick:()=>{s.b.openExternalURL("https://forum.gdevelop-app.com")},label:r.createElement(a.Trans,{id:"Community forum"})}),r.createElement(i.a,{key:"wiki",primary:!1,onClick:()=>{s.b.openExternalURL("http://wiki.compilgames.net/doku.php/gdevelop5/start")},label:r.createElement(a.Trans,{id:"Browse the documentation"})})],cannotBeDismissed:!1,open:t},r.createElement(y,{value:this.state.searchText,onChange:this._handleSearchTextChange}))}}},2296:function(e,t,n){"use strict";var a=n(77),r=n(71),o=n(4),i=n.n(o),s=n(2414),l=n(2415),c=n(2425),u=n(2416),d=n(81),h=n(84),m=n(215),p=n(73),g=n(426),b=n(83),f=n(1913),E=n.n(f),v=n(92),y=n(22),C=n(267),x=n(266),j=n(11),O=n(2403),T=n(171),S=n(1912),w=n.n(S),k=n(80);function N({onClose:e,userProfile:t}){const n=!!t&&!!t.subscription&&!!t.subscription.planId;return function(e,t){const n=Object(o.useRef)();Object(o.useEffect)(()=>{n.current=e}),Object(o.useEffect)(()=>{if(null!==t){let e=setInterval((function(){n.current&&n.current()}),t);return()=>clearInterval(e)}},[t])}(()=>t.onRefreshUserProfile(),n?null:3900),i.a.createElement(h.a,{actions:[n?i.a.createElement(b.a,{label:i.a.createElement(r.Trans,{id:"Done!"}),key:"close",primary:!0,onClick:e}):i.a.createElement(d.a,{label:i.a.createElement(r.Trans,{id:"Cancel and close"}),key:"close",primary:!1,onClick:e})],title:void 0,maxWidth:"sm",cannotBeDismissed:!0,open:!0,noMargin:!0},!n&&i.a.createElement(p.a,null,i.a.createElement(p.b,null,i.a.createElement(k.a,null,i.a.createElement(r.Trans,{id:"Thanks for getting a subscription and supporting GDevelop!"})," ","\u2764\ufe0f",i.a.createElement("b",null,i.a.createElement(r.Trans,{id:"Your browser will now open to enter your payment details (handled securely by Stripe.com)."})))),i.a.createElement(p.b,{justifyContent:"center",alignItems:"center"},i.a.createElement(O.a,{size:20}),i.a.createElement(p.c,null),i.a.createElement(k.a,null,"Waiting for the subscription confirmation...")),i.a.createElement(p.c,null),i.a.createElement(p.b,{justifyContent:"center"},i.a.createElement(T.a,null,i.a.createElement(r.Trans,{id:"Once you're done, come back to GDevelop and your account will be upgraded automatically, unlocking the extra exports and online services."})))),n&&i.a.createElement(p.a,null,i.a.createElement(p.b,null,i.a.createElement(k.a,null,i.a.createElement(r.Trans,{id:"Thanks for getting a subscription and supporting GDevelop!"})," ","\u2764\ufe0f")),i.a.createElement(p.b,{justifyContent:"center",alignItems:"center"},i.a.createElement(w.a,null),i.a.createElement(p.c,null),i.a.createElement(k.a,null,i.a.createElement("b",null,i.a.createElement(r.Trans,{id:"Your new plan is now activated"})))),i.a.createElement(p.c,null),i.a.createElement(p.b,{justifyContent:"center"},i.a.createElement(T.a,null,i.a.createElement(r.Trans,{id:"Your account is upgraded, with the extra exports and online services. If you wish to change later, come back to your profile and choose another plan."})))))}var _=n(5),P=n(97);n.d(t,"a",(function(){return B}));const I={descriptionText:{marginLeft:16,marginRight:16},card:{margin:16},actions:{textAlign:"right",display:"flex",justifyContent:"flex-end"},bulletIcon:{width:20,height:20,marginLeft:5,marginRight:10},bulletText:{flex:1}};class B extends o.Component{constructor(...e){super(...e),this.state={isLoading:!1,subscriptionPendingDialogOpen:!1},this.choosePlan=(e,t,n)=>{const a=t.getAuthorizationHeader,r=t.subscription,o=t.profile;if(o&&r)if(Object(j.d)(n.planId),r.stripeSubscriptionId){if(!_.b.showConfirmDialog(n.planId?e._({id:"Are you sure you want to subscribe to this new plan?"}):e._({id:"Are you sure you want to cancel your subscription?"})))return;this.setState({isLoading:!0}),Object(g.a)(a,o.uid,{planId:n.planId}).then(()=>this.handleUpdatedSubscriptionSuccess(e,t,n),t=>this.handleUpdatedSubscriptionFailure(e,t))}else this.setState({subscriptionPendingDialogOpen:!0}),_.b.openExternalURL(Object(g.b)(n.planId||"",o.uid,o.email||""))},this.handleUpdatedSubscriptionSuccess=(e,t,n)=>{t.onRefreshUserProfile(),this.setState({isLoading:!1}),n.planId?Object(y.b)(e._({id:"Congratulations, your new subscription is now active!\\n\\nYou can now use the services unlocked with this plan."})):Object(y.b)(e._({id:"Your subscription was properly cancelled. Sorry to see you go!"}))},this.handleUpdatedSubscriptionFailure=(e,t)=>{this.setState({isLoading:!1}),Object(y.a)({message:e._({id:"Your subscription could not be updated. Please try again later!"}),rawError:t,errorId:"subscription-update-error"})},this._isLoading=e=>!e.subscription||!e.profile||this.state.isLoading}componentDidMount(){this.props.open&&Object(j.q)()}componentWillReceiveProps(e){!this.props.open&&e.open&&Object(j.q)()}_renderPrice(e){return e.monthlyPriceInEuros?o.createElement(r.Trans,{id:"{0}\u20ac/month",values:{0:e.monthlyPriceInEuros}}):o.createElement(r.Trans,{id:"Free"})}render(){const e=this.props,t=e.open,n=e.onClose,i=this.state.subscriptionPendingDialogOpen;return o.createElement(r.I18n,null,({i18n:e})=>o.createElement(m.a.Consumer,null,m=>o.createElement(P.a,null,f=>o.createElement(h.a,{actions:[o.createElement(d.a,{label:o.createElement(r.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n})],onRequestClose:n,cannotBeDismissed:!0,open:t,noMargin:!0},o.createElement(p.a,null,o.createElement(p.b,null,o.createElement(k.a,null,o.createElement(r.Trans,{id:"Get a subscription to package your games for Android, Windows, macOS and Linux, use live preview over wifi and more. With a subscription, you're also supporting the development of GDevelop, which is an open-source software."})))),Object(g.d)().map(t=>o.createElement(s.a,{key:t.planId||"",style:I.card},o.createElement(l.a,{title:o.createElement("span",null,o.createElement("b",null,t.name)," - ",this._renderPrice(t)),subheader:t.smallDescription?e._(t.smallDescription):""}),o.createElement(c.a,null,t.descriptionBullets.map((n,i)=>o.createElement(p.a,{key:i,expand:!0},o.createElement(p.b,{noMargin:!0,alignItems:"center"},m.subscription&&m.subscription.planId===t.planId?o.createElement(E.a,{style:Object(a.a)(Object(a.a)({},I.bulletIcon),{},{color:f.message.valid})}):o.createElement(E.a,{style:I.bulletIcon}),o.createElement(k.a,{style:I.bulletText},e._(n.message)," ",n.isLocalAppOnly&&o.createElement(r.Trans,{id:"(on the desktop app only)"}))))),o.createElement(k.a,{style:I.descriptionText},t.extraDescription?e._(t.extraDescription):"")),o.createElement(u.a,{style:I.actions},m.subscription&&m.subscription.planId===t.planId?o.createElement(d.a,{disabled:!0,label:o.createElement(r.Trans,{id:"This is your current plan"}),onClick:()=>this.choosePlan(e,m,t)}):t.planId?o.createElement(C.a,{isLoading:this._isLoading(m)},o.createElement(b.a,{primary:!0,disabled:this._isLoading(m),label:o.createElement(r.Trans,{id:"Choose this plan"}),onClick:()=>this.choosePlan(e,m,t)})):o.createElement(C.a,{isLoading:this._isLoading(m)},o.createElement(d.a,{disabled:this._isLoading(m),label:o.createElement(r.Trans,{id:"Cancel your subscription"}),onClick:()=>this.choosePlan(e,m,t)}))))),o.createElement(p.a,null,o.createElement(p.b,null,o.createElement(v.a,null,o.createElement(r.Trans,{id:"Subscriptions can be stopped at any time. GDevelop uses Stripe.com for secure payment. No credit card data is stored by GDevelop: everything is managed by Stripe secure infrastructure."})))),!m.authenticated&&o.createElement(x.a,null,o.createElement(k.a,null,o.createElement(r.Trans,{id:"Create a GDevelop account to continue. It's free and you'll be able to access to online services like one-click build for Android:"})),o.createElement(b.a,{label:o.createElement(r.Trans,{id:"Create my account"}),primary:!0,onClick:m.onLogin}),o.createElement(d.a,{label:o.createElement(r.Trans,{id:"Not now, thanks"}),onClick:n})),i&&o.createElement(N,{userProfile:m,onClose:()=>{this.setState({subscriptionPendingDialogOpen:!1},()=>m.onRefreshUserProfile())}})))))}}},2297:function(e,t,n){"use strict";var a=n(4),r=n(71),o=n(84),i=n(81),s=n(916),l=n(80);class c extends a.Component{render(){const e=this.props,t=e.open,n=e.onClose;if(!t)return null;const c=[a.createElement(i.a,{key:"close",label:a.createElement(r.Trans,{id:"Close"}),primary:!0,onClick:n})];return a.createElement(o.a,{title:a.createElement(r.Trans,{id:"What's new in GDevelop?"}),actions:c,open:t,onRequestClose:n,cannotBeDismissed:!1},a.createElement(l.a,null,a.createElement(r.Trans,{id:"GDevelop was upgraded to a new version! Check out the changes."})),a.createElement(s.a,{onUpdated:()=>{this.forceUpdate()}}))}}var u=n(113);class d extends a.Component{constructor(...e){super(...e),this.state={open:this.props.defaultOpen}}render(){const e=this.state.open;return a.createElement(c,{open:e,onClose:()=>this.setState({open:!1})})}}t.a=e=>a.createElement(u.b.Consumer,null,({values:e,verifyIfIsNewVersion:t})=>a.createElement(d,{defaultOpen:t()&&e.autoDisplayChangelog}))},230:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(81),i=n(84),s=n(311),l=n(641),c=n(168),u=n(476);t.a=({onCancel:e,onApply:t,open:n,onEditObjectVariables:d,title:h,emptyExplanationMessage:m,emptyExplanationSecondMessage:p,variablesContainer:g,hotReloadPreviewButtonProps:b})=>{const f=Object(c.a)(),E=Object(s.a)({serializableObject:g,onCancel:e});return r.createElement(i.a,{noMargin:!0,actions:[r.createElement(o.a,{label:r.createElement(a.Trans,{id:"Cancel"}),onClick:E,key:"Cancel"}),r.createElement(o.a,{label:r.createElement(a.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:t,key:"Apply"})],open:n,cannotBeDismissed:!0,onRequestClose:E,secondaryActions:[d?r.createElement(o.a,{key:"edit-object-variables",label:r.createElement(a.Trans,{id:"Edit Object Variables"}),primary:!1,onClick:d}):null,b?r.createElement(u.a,Object.assign({key:"hot-reload-preview-button"},b)):null],title:h},r.createElement(l.a,{commitVariableValueOnBlur:!0,variablesContainer:g,emptyExplanationMessage:m,emptyExplanationSecondMessage:p,onSizeUpdated:f}))}},2300:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(296),i=n(302),s=n(254),l=n(138),c=n(205);var u=e=>{const t=e.onAddEvent;return Object(c.a)("ADD_STANDARD_EVENT",!0,{handler:e.onAddStandardEvent}),Object(c.a)("ADD_SUBEVENT",e.canAddSubEvent,{handler:e.onAddSubEvent}),Object(c.a)("ADD_COMMENT_EVENT",!0,{handler:e.onAddCommentEvent}),Object(c.b)("CHOOSE_AND_ADD_EVENT",!0,{generateOptions:a.useCallback(()=>e.allEventsMetadata.map(e=>({text:e.fullName,handler:()=>{t(e.type)}})),[e.allEventsMetadata,t])}),Object(c.a)("DELETE_SELECTION",e.canRemove,{handler:e.onRemove}),Object(c.a)("EVENTS_EDITOR_UNDO",e.canUndo,{handler:e.undo}),Object(c.a)("EVENTS_EDITOR_REDO",e.canRedo,{handler:e.redo}),Object(c.a)("SEARCH_EVENTS",!0,{handler:e.onToggleSearchPanel}),Object(c.a)("OPEN_EXTENSION_SETTINGS",!!e.onOpenSettings,{handler:e.onOpenSettings||(()=>{})}),null};class d extends a.PureComponent{render(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,this.props),r.a.createElement(o.b,{lastChild:!0},r.a.createElement(s.a,{onClick:this.props.onAddStandardEvent,src:"res/ribbon_default/eventadd32.png",tooltip:{id:"Add a new empty event"}}),r.a.createElement(s.a,{onClick:this.props.onAddSubEvent,src:"res/ribbon_default/subeventadd32.png",disabled:!this.props.canAddSubEvent,tooltip:{id:"Add a sub-event to the selected event"}}),r.a.createElement(s.a,{onClick:this.props.onAddCommentEvent,src:"res/ribbon_default/commentaireadd32.png",tooltip:{id:"Add a comment"}}),r.a.createElement(l.a,{element:r.a.createElement(s.a,{src:"res/ribbon_default/add32.png",tooltip:{id:"Choose and add an event"}}),buildMenuTemplate:()=>this.props.allEventsMetadata.map(e=>({label:e.fullName,click:()=>{this.props.onAddEvent(e.type)}}))}),r.a.createElement(i.a,null),r.a.createElement(s.a,{onClick:this.props.onRemove,src:"res/ribbon_default/deleteselected32.png",disabled:!this.props.canRemove,tooltip:{id:"Delete the selected event(s)"}}),r.a.createElement(s.a,{onClick:this.props.undo,src:"res/ribbon_default/undo32.png",disabled:!this.props.canUndo,tooltip:{id:"Undo the last changes"}}),r.a.createElement(s.a,{onClick:this.props.redo,src:"res/ribbon_default/redo32.png",disabled:!this.props.canRedo,tooltip:{id:"Redo the last changes"}}),r.a.createElement(i.a,null),r.a.createElement(s.a,{onClick:()=>this.props.onToggleSearchPanel(),src:"res/ribbon_default/search32.png",tooltip:{id:"Search in events"},acceleratorString:"CmdOrCtrl+F"}),this.props.onOpenSettings&&r.a.createElement(i.a,null),this.props.onOpenSettings&&r.a.createElement(s.a,{onClick:this.props.onOpenSettings,src:"res/ribbon_default/pref32.png",tooltip:{id:"Open settings"}})))}}t.a=d},2301:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(194),i=n(429),s=n(139),l=n(22),c=n(115),u=n(122),d=n(86);var h=n(231),m=n(5),p=n(129);n.d(t,"a",(function(){return f}));const g={listContainer:{flex:1}},b=e=>e.getName()+(e.isPrivate()?" (private)":"");class f extends r.Component{constructor(...e){super(...e),this.state={renamedEventsFunction:null,searchText:""},this._togglePrivate=e=>{e.setPrivate(!e.isPrivate()),this.forceUpdate()},this._deleteEventsFunction=(e,{askForConfirmation:t})=>{const n=this.props.eventsFunctionsContainer;if(t){if(!m.b.showConfirmDialog("Are you sure you want to remove this function? This can't be undone."))return}this.props.onDeleteEventsFunction(e,t=>{t&&(n.removeEventsFunction(e.getName()),this._onEventsFunctionModified())})},this._editName=e=>{this.setState({renamedEventsFunction:e},()=>{this.sortableList&&this.sortableList.forceUpdateGrid()})},this._rename=(e,t)=>{const n=this.props.eventsFunctionsContainer;this.setState({renamedEventsFunction:null}),e.getName()!==t&&(n.hasEventsFunctionNamed(t)?Object(l.c)("Another function with this name already exists.",{delayToNextTick:!0}):this.props.onRenameEventsFunction(e,t,n=>{n&&(e.setName(t),this._onEventsFunctionModified())}))},this._moveSelectionTo=e=>{const t=this.props,n=t.eventsFunctionsContainer,a=t.selectedEventsFunction;a&&(n.moveEventsFunction(n.getEventsFunctionPosition(a),n.getEventsFunctionPosition(e)),this.forceUpdateList())},this.forceUpdateList=()=>{this._onEventsFunctionModified(),this.sortableList&&this.sortableList.forceUpdateGrid()},this._copyEventsFunction=e=>{h.b.set("Events Function",{eventsFunction:Object(p.b)(e),name:e.getName()})},this._cutEventsFunction=e=>{this._copyEventsFunction(e),this._deleteEventsFunction(e,{askForConfirmation:!1})},this._pasteEventsFunction=e=>{if(!h.b.has("Events Function"))return;const t=h.b.get("Events Function"),n=h.a.extractObjectProperty(t,"eventsFunction"),a=h.a.extractStringProperty(t,"name");if(!a||!n)return;const r=this.props,o=r.project,i=r.eventsFunctionsContainer,s=Object(u.a)(a,e=>i.hasEventsFunctionNamed(e)),l=i.insertNewEventsFunction(s,e);Object(p.c)(l,n,"unserializeFrom",o),l.setName(s),this.props.onEventsFunctionAdded(l),this._onEventsFunctionModified()},this._renderEventsFunctionMenuTemplate=e=>(t,n)=>[{label:e._({id:"Rename"}),click:()=>this._editName(t),enabled:this.props.canRename(t)},{label:t.isPrivate()?e._({id:"Make public"}):e._({id:"Make private"}),click:()=>this._togglePrivate(t)},{label:e._({id:"Remove"}),click:()=>this._deleteEventsFunction(t,{askForConfirmation:!0})},{type:"separator"},{label:e._({id:"Copy"}),click:()=>this._copyEventsFunction(t)},{label:e._({id:"Cut"}),click:()=>this._cutEventsFunction(t)},{label:e._({id:"Paste"}),enabled:h.b.has("Events Function"),click:()=>this._pasteEventsFunction(n)}],this._addNewEventsFunction=()=>{const e=this.props.eventsFunctionsContainer;this.props.onAddEventsFunction(t=>{if(!t)return;const n=t.name||Object(u.a)("Function",t=>e.hasEventsFunctionNamed(t)),a=e.insertNewEventsFunction(n,e.getEventsFunctionsCount());a.setFunctionType(t.functionType),this.props.onEventsFunctionAdded(a),this._onEventsFunctionModified()})}}_onEventsFunctionModified(){this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}render(){const e=this.props,t=e.project,n=e.eventsFunctionsContainer,l=e.selectedEventsFunction,u=e.onSelectEventsFunction,h=e.renderHeader,m=this.state.searchText,p=((e,t)=>{if(!t)return e;const n=t.toLowerCase();return e.filter(e=>-1!==e.getName().toLowerCase().indexOf(n))})((e=>Object(d.mapFor)(0,e.getEventsFunctionsCount(),t=>e.getEventsFunctionAt(t)))(n),m),f=t.ptr+";"+n.ptr;return r.createElement(c.a,null,h?h():null,r.createElement("div",{style:g.listContainer},r.createElement(o.a,null,({height:e,width:t})=>r.createElement(a.I18n,null,({i18n:n})=>r.createElement(i.a,{key:f,ref:e=>this.sortableList=e,fullList:p,width:t,height:e,onAddNewItem:this._addNewEventsFunction,addNewItemLabel:r.createElement(a.Trans,{id:"Add a new function"}),getItemName:b,selectedItems:l?[l]:[],onItemSelected:u,renamedItem:this.state.renamedEventsFunction,onRename:this._rename,onMoveSelectionToItem:this._moveSelectionTo,buildMenuTemplate:this._renderEventsFunctionMenuTemplate(n),reactDndType:"GD_EVENTS_FUNCTION"})))),r.createElement(s.a,{value:m,onRequestSearch:()=>{},onChange:e=>this.setState({searchText:e})}))}}f.defaultProps={onDeleteEventsFunction:(e,t)=>t(!0),onRenameEventsFunction:(e,t,n)=>n(!0)}},2302:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(194),i=n(429),s=n(139),l=n(22),c=n(115),u=n(122),d=n(86);var h=n(231),m=n(5),p=n(129);n.d(t,"a",(function(){return f}));const g={listContainer:{flex:1}},b=e=>e.getName();class f extends r.Component{constructor(...e){super(...e),this.state={renamedEventsBasedBehavior:null,searchText:""},this._deleteEventsBasedBehavior=(e,{askForConfirmation:t})=>{const n=this.props.eventsBasedBehaviorsList;if(t){if(!m.b.showConfirmDialog("Are you sure you want to remove this behavior? This can't be undone."))return}this.props.onDeleteEventsBasedBehavior(e,t=>{t&&(n.remove(e.getName()),this._onEventsBasedBehaviorModified())})},this._editName=e=>{this.setState({renamedEventsBasedBehavior:e},()=>{this.sortableList&&this.sortableList.forceUpdateGrid()})},this._rename=(e,t)=>{const n=this.props.eventsBasedBehaviorsList;this.setState({renamedEventsBasedBehavior:null}),e.getName()!==t&&(n.has(t)?Object(l.c)("Another behavior with this name already exists.",{delayToNextTick:!0}):this.props.onRenameEventsBasedBehavior(e,t,n=>{n&&(e.setName(t),this._onEventsBasedBehaviorModified(),this.props.onEventsBasedBehaviorRenamed(e))}))},this._moveSelectionTo=e=>{const t=this.props,n=t.eventsBasedBehaviorsList,a=t.selectedEventsBasedBehavior;a&&(n.move(n.getPosition(a),n.getPosition(e)),this.forceUpdateList())},this.forceUpdateList=()=>{this._onEventsBasedBehaviorModified(),this.sortableList&&this.sortableList.forceUpdateGrid()},this._copyEventsBasedBehavior=e=>{h.b.set("Events Based Behavior",{eventsBasedBehavior:Object(p.b)(e),name:e.getName()})},this._cutEventsBasedBehavior=e=>{this._copyEventsBasedBehavior(e),this._deleteEventsBasedBehavior(e,{askForConfirmation:!1})},this._pasteEventsBasedBehavior=e=>{if(!h.b.has("Events Based Behavior"))return;const t=h.b.get("Events Based Behavior"),n=h.a.extractObjectProperty(t,"eventsBasedBehavior"),a=h.a.extractStringProperty(t,"name");if(!a||!n)return;const r=this.props,o=r.project,i=r.eventsBasedBehaviorsList,s=Object(u.a)(a,e=>i.has(e)),l=i.insertNew(s,e);Object(p.c)(l,n,"unserializeFrom",o),l.setName(s),this._onEventsBasedBehaviorModified()},this._renderEventsBasedBehaviorMenuTemplate=e=>(t,n)=>[{label:e._({id:"Properties"}),click:()=>this.props.onEditProperties(t)},{type:"separator"},{label:e._({id:"Rename"}),click:()=>this._editName(t)},{label:e._({id:"Remove"}),click:()=>this._deleteEventsBasedBehavior(t,{askForConfirmation:!0})},{type:"separator"},{label:e._({id:"Copy"}),click:()=>this._copyEventsBasedBehavior(t)},{label:e._({id:"Cut"}),click:()=>this._cutEventsBasedBehavior(t)},{label:e._({id:"Paste"}),enabled:h.b.has("Events Based Behavior"),click:()=>this._pasteEventsBasedBehavior(n)}],this._addNewEventsBasedBehavior=()=>{const e=this.props.eventsBasedBehaviorsList,t=Object(u.a)("MyBehavior",t=>e.has(t));e.insertNew(t,e.getCount()),this._onEventsBasedBehaviorModified()}}_onEventsBasedBehaviorModified(){this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}render(){const e=this.props,t=e.project,n=e.eventsBasedBehaviorsList,l=e.selectedEventsBasedBehavior,u=e.onSelectEventsBasedBehavior,h=this.state.searchText,m=((e,t)=>{if(!t)return e;const n=t.toLowerCase();return e.filter(e=>-1!==e.getName().toLowerCase().indexOf(n))})((p=n,Object(d.mapVector)(p,e=>e)),h);var p;const f=t.ptr+";"+n.ptr;return r.createElement(c.a,null,r.createElement("div",{style:g.listContainer},r.createElement(o.a,null,({height:e,width:t})=>r.createElement(a.I18n,null,({i18n:n})=>r.createElement(i.a,{key:f,ref:e=>this.sortableList=e,fullList:m,width:t,height:e,onAddNewItem:this._addNewEventsBasedBehavior,addNewItemLabel:r.createElement(a.Trans,{id:"Add a new behavior"}),getItemName:b,selectedItems:l?[l]:[],onItemSelected:u,renamedItem:this.state.renamedEventsBasedBehavior,onRename:this._rename,onMoveSelectionToItem:this._moveSelectionTo,buildMenuTemplate:this._renderEventsBasedBehaviorMenuTemplate(n),reactDndType:"GD_EVENTS_BASED_BEHAVIOR"})))),r.createElement(s.a,{value:h,onRequestSearch:()=>{},onChange:e=>this.setState({searchText:e})}))}}f.defaultProps={onDeleteEventsBasedBehavior:(e,t)=>t(!0),onRenameEventsBasedBehavior:(e,t,n)=>n(!0)}},2303:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n.n(r),i=n(867),s=n.n(i),l=n(81),c=n(161),u=n(655),d=n.n(u),h=n(570),m=n.n(h),p=n(93),g=n(84),b=n(73),f=n(334),E=n(646),v=n.n(E),y=n(1855),C=n.n(y),x=n(80);const j={timeField:{width:75},timeIcon:{paddingLeft:6,paddingRight:8}};class O extends r.Component{constructor(...e){super(...e),this.state={currentFrameIndex:0,currentFrameElapsedTime:0,paused:!1,fps:Math.round(1/this.props.timeBetweenFrames)},this.nextUpdate=null,this.replay=()=>this.setState({currentFrameIndex:0,currentFrameElapsedTime:0,paused:!1}),this.play=()=>this.setState({paused:!1}),this.pause=()=>this.setState({paused:!0}),this._updateAnimation=()=>{const e=this.props,t=e.spritesContainer,n=e.timeBetweenFrames,a=this.state;let r=a.currentFrameIndex,o=a.currentFrameElapsedTime;if(o+=a.paused?0:1/60*1,o>n){const e=Math.floor(o/n);r+=e,o-=e*n,o<0&&(o=0)}r>=t.getSpritesCount()&&(r=t.isLooping()?r%t.getSpritesCount():t.getSpritesCount()-1),r<0&&(r=0),this.setState({currentFrameIndex:r,currentFrameElapsedTime:o}),this.nextUpdate=requestAnimationFrame(this._updateAnimation)}}componentDidMount(){this.nextUpdate=requestAnimationFrame(this._updateAnimation)}componentWillUnmount(){this.nextUpdate&&cancelAnimationFrame(this.nextUpdate)}render(){const e=this.props,t=e.spritesContainer,n=e.resourcesLoader,r=e.project,i=e.timeBetweenFrames,c=e.onChangeTimeBetweenFrames,u=this.state,d=u.currentFrameIndex,h=u.paused,g=u.fps,E=d<t.getSpritesCount()?t.getSprite(d):null;return o.a.createElement("div",null,o.a.createElement(f.a,{resourceName:E?E.getImageName():"",resourcesLoader:n,project:r}),o.a.createElement(b.b,{noMargin:!0,alignItems:"center"},o.a.createElement(x.a,null,o.a.createElement(a.Trans,{id:"FPS:"})),o.a.createElement(b.c,null),o.a.createElement(p.b,{margin:"none",value:g,onChange:(e,t)=>{const n=parseFloat(t);n>0&&(this.setState({fps:n}),c(parseFloat((1/n).toFixed(4))),this.replay())},id:"direction-time-between-frames",type:"number",step:1,min:1,max:100,style:j.timeField,autoFocus:!0}),o.a.createElement(s.a,{style:j.timeIcon}),o.a.createElement(p.b,{margin:"none",value:i,onChange:(e,t)=>{const n=parseFloat(t);n>0&&(this.setState({fps:Math.round(1/n)}),c(n),this.replay())},id:"direction-time-between-frames",type:"number",step:.005,precision:2,min:.01,max:5,style:j.timeField}),o.a.createElement(l.a,{icon:o.a.createElement(v.a,null),label:o.a.createElement(a.Trans,{id:"Replay"}),onClick:this.replay}),o.a.createElement(l.a,{icon:h?o.a.createElement(m.a,null):o.a.createElement(C.a,null),label:h?"Play":"Pause",onClick:h?this.play:this.pause})))}}n(114);var T=n(144);n.d(t,"a",(function(){return k}));const S={container:{paddingLeft:12,paddingRight:12,display:"flex",alignItems:"center"},timeField:{width:75},timeIcon:{paddingLeft:6,paddingRight:6},spacer:{width:16}},w=e=>Number(e.toFixed(6));class k extends r.Component{constructor(...e){super(...e),this.state={timeBetweenFrames:w(this.props.direction.getTimeBetweenFrames()),timeError:!1,previewOpen:!1},this.saveTimeBetweenFrames=()=>{const e=this.props.direction,t=Math.max(parseFloat(this.state.timeBetweenFrames),1e-5),n=!isNaN(t);n&&e.setTimeBetweenFrames(t),this.setState({timeBetweenFrames:w(this.props.direction.getTimeBetweenFrames()),timeError:n})},this.setLooping=e=>{this.props.direction.setLoop(!!e),this.forceUpdate()},this.openPreview=e=>{this.setState({previewOpen:e}),e||this.saveTimeBetweenFrames()}}componentWillReceiveProps(e){this.setState({timeBetweenFrames:w(this.props.direction.getTimeBetweenFrames()),timeError:!1})}render(){const e=this.props,t=e.direction,n=e.resourcesLoader,r=e.project,i=e.resourceExternalEditors,u=e.onEditWith,h=i.filter(({kind:e})=>"image"===e);return o.a.createElement("div",{style:S.container},o.a.createElement(T.a,null,e=>"small"!==e&&!!h.length&&o.a.createElement(l.a,{label:h[0].displayName,icon:o.a.createElement(d.a,null),onClick:()=>u(h[0])})),o.a.createElement(l.a,{label:o.a.createElement(a.Trans,{id:"Preview"}),icon:o.a.createElement(m.a,null),onClick:()=>this.openPreview(!0)}),o.a.createElement(s.a,{style:S.timeIcon}),o.a.createElement(p.b,{value:this.state.timeBetweenFrames,onChange:(e,t)=>this.setState({timeBetweenFrames:parseFloat(t)||0}),onBlur:()=>this.saveTimeBetweenFrames(),id:"direction-time-between-frames",margin:"none",style:S.timeField,type:"number",step:.005,precision:2,min:.01,max:5}),o.a.createElement("span",{style:S.spacer}),o.a.createElement(c.a,{checked:t.isLooping(),label:o.a.createElement(a.Trans,{id:"Loop"}),onCheck:(e,t)=>this.setLooping(t)}),this.state.previewOpen&&o.a.createElement(g.a,{actions:o.a.createElement(l.a,{label:o.a.createElement(a.Trans,{id:"OK"}),primary:!0,onClick:()=>this.openPreview(!1),key:"ok"}),noMargin:!0,cannotBeDismissed:!1,onRequestClose:()=>this.openPreview(!1),open:this.state.previewOpen},o.a.createElement(O,{spritesContainer:t,resourcesLoader:n,project:r,timeBetweenFrames:this.state.timeBetweenFrames,onChangeTimeBetweenFrames:e=>this.setState({timeBetweenFrames:e})})))}}},2304:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(296),i=n(302),s=n(254),l=n(138),c=n(205);var u=e=>(Object(c.a)("OPEN_OBJECTS_PANEL",!0,{handler:e.openObjectsList}),Object(c.a)("OPEN_OBJECT_GROUPS_PANEL",!0,{handler:e.openObjectGroupsList}),Object(c.a)("OPEN_PROPERTIES_PANEL",!0,{handler:e.openPropertiesPanel}),Object(c.a)("TOGGLE_INSTANCES_PANEL",!0,{handler:e.toggleInstancesList}),Object(c.a)("TOGGLE_LAYERS_PANEL",!0,{handler:e.toggleLayersList}),Object(c.a)("SCENE_EDITOR_UNDO",e.canUndo,{handler:e.undo}),Object(c.a)("SCENE_EDITOR_REDO",e.canRedo,{handler:e.redo}),Object(c.a)("DELETE_INSTANCES",e.canDeleteSelection,{handler:e.deleteSelection}),Object(c.a)("TOGGLE_WINDOW_MASK",!0,{handler:e.toggleWindowMask}),Object(c.a)("TOGGLE_GRID",!0,{handler:e.toggleGrid}),Object(c.a)("OPEN_SETUP_GRID",!0,{handler:e.setupGrid}),null);n(420);class d extends a.PureComponent{render(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,{openObjectsList:this.props.openObjectsList,openObjectGroupsList:this.props.openObjectGroupsList,openPropertiesPanel:this.props.openProperties,toggleInstancesList:this.props.toggleInstancesList,toggleLayersList:this.props.toggleLayersList,undo:this.props.undo,canUndo:this.props.canUndo,redo:this.props.redo,canRedo:this.props.canRedo,deleteSelection:this.props.deleteSelection,toggleWindowMask:this.props.toggleWindowMask,toggleGrid:this.props.toggleGrid,setupGrid:this.props.openSetupGrid,canDeleteSelection:0!==this.props.instancesSelection.getSelectedInstances().length}),r.a.createElement(o.b,{lastChild:!0},r.a.createElement(s.a,{onClick:this.props.openObjectsList,src:"res/ribbon_default/objects64.png",tooltip:{id:"Open the objects editor"}}),r.a.createElement(s.a,{onClick:this.props.openObjectGroupsList,src:"res/ribbon_default/objectsgroups64.png",tooltip:{id:"Open the objects groups editor"}}),r.a.createElement(s.a,{onClick:this.props.openProperties,src:"res/ribbon_default/editprop32.png",tooltip:{id:"Open the properties panel"}}),r.a.createElement(s.a,{onClick:this.props.toggleInstancesList,src:"res/ribbon_default/ObjectsPositionsList32.png",tooltip:{id:"Open the list of instances"}}),r.a.createElement(s.a,{onClick:this.props.toggleLayersList,src:"res/ribbon_default/layers32.png",tooltip:{id:"Open the layers editor"}}),r.a.createElement(i.a,null),r.a.createElement(s.a,{onClick:this.props.undo,src:"res/ribbon_default/undo32.png",disabled:!this.props.canUndo,tooltip:{id:"Undo the last changes"}}),r.a.createElement(s.a,{onClick:this.props.redo,src:"res/ribbon_default/redo32.png",disabled:!this.props.canRedo,tooltip:{id:"Redo the last changes"}}),r.a.createElement(i.a,null),r.a.createElement(s.a,{onClick:this.props.deleteSelection,src:"res/ribbon_default/deleteselected32.png",disabled:!this.props.instancesSelection.getSelectedInstances().length,tooltip:{id:"Delete the selected instances from the scene"}}),r.a.createElement(i.a,null),r.a.createElement(l.a,{element:r.a.createElement(s.a,{src:"res/ribbon_default/grid32.png",tooltip:{id:"Toggle/edit grid"}}),buildMenuTemplate:e=>[{type:"checkbox",label:e._({id:"Show Mask"}),checked:this.props.isWindowMaskShown(),click:()=>this.props.toggleWindowMask()},{type:"checkbox",label:e._({id:"Show grid"}),checked:this.props.isGridShown(),click:()=>this.props.toggleGrid()},{type:"separator"},{label:e._({id:"Setup grid"}),click:()=>this.props.openSetupGrid()}]}),r.a.createElement(l.a,{element:r.a.createElement(s.a,{src:"res/ribbon_default/zoom32.png",tooltip:{id:"Change editor zoom"}}),buildMenuTemplate:e=>[{label:e._({id:"Zoom in"}),click:this.props.zoomIn,accelerator:"CmdOrCtrl+numadd"},{label:e._({id:"Zoom out"}),click:this.props.zoomOut,accelerator:"CmdOrCtrl+numsub"},{label:e._({id:"Center View"}),click:()=>this.props.centerView()},{type:"separator"},{label:"5%",click:()=>this.props.setZoomFactor(.05)},{label:"10%",click:()=>this.props.setZoomFactor(.1)},{label:"25%",click:()=>this.props.setZoomFactor(.25)},{label:"50%",click:()=>this.props.setZoomFactor(.5)},{label:"100%",click:()=>this.props.setZoomFactor(1)},{label:"150%",click:()=>this.props.setZoomFactor(1.5)},{label:"200%",click:()=>this.props.setZoomFactor(2)},{label:"400%",click:()=>this.props.setZoomFactor(4)}]})))}}t.a=d},2306:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n.n(r),i=n(147),s=n.n(i),l=n(95),c=n(622),u=o.a.memo(e=>o.a.createElement(c.a,e,o.a.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}))),d=n(647),h=n(181),m=n.n(h),p=n(73),g=n(83);t.a=({onAdd:e,onCopy:t,hasSelection:n,onPaste:r,hasClipboard:i,onDeleteSelection:c})=>o.a.createElement(p.b,{justifyContent:"space-between",alignItems:"center"},o.a.createElement(p.a,null,o.a.createElement(p.b,{noMargin:!0},o.a.createElement(l.a,{size:"small",onClick:t,disabled:!n},o.a.createElement(u,null)),o.a.createElement(l.a,{size:"small",onClick:r,disabled:!i},o.a.createElement(d.a,null)),o.a.createElement(l.a,{size:"small",onClick:c,disabled:!n},o.a.createElement(m.a,null)))),o.a.createElement(p.a,null,o.a.createElement(g.a,{primary:!0,label:o.a.createElement(a.Trans,{id:"Add"}),onClick:e,icon:o.a.createElement(s.a,null)})))},2308:function(e,t,n){"use strict";var a=n(4),r=n(134),o=n.n(r),i=n(128);class s extends a.Component{render(){return a.createElement("p",{className:o()({[i.m]:!0,[i.n]:this.props.selected})},"Unknown event of type "+this.props.event.getType())}}var l=n(1586),c=n(1643),u=n(1644),d=n(1645),h=n(1646),m=n(1647),p=n(1648),g=n(1649),b=n(1651);t.a={components:{unknownEvent:s,"BuiltinCommonInstructions::Standard":l.a,"BuiltinCommonInstructions::Group":c.a,"BuiltinCommonInstructions::Comment":u.a,"BuiltinCommonInstructions::ForEach":d.a,"BuiltinCommonInstructions::ForEachChildVariable":h.a,"BuiltinCommonInstructions::Repeat":m.a,"BuiltinCommonInstructions::While":p.a,"BuiltinCommonInstructions::Link":g.a,"BuiltinCommonInstructions::JsCode":b.a},getEventComponent:function(e){return this.components.hasOwnProperty(e.getType())?this.components[e.getType()]:this.components.unknownEvent},registerEvent:function(e,t){this.components.hasOwnProperty(e)?this.components[e]=t:console.warn('Tried to register renderer for events "'+e+'", but a renderer already exists.')}}},2309:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(73),i=n(111),s=n(112),l=n(86),c=n(83),u=n(95),d=n(92),h=n(138),m=n(308),p=n.n(m),g=n(102),b=n(190),f=n(122),E=n(147),v=n.n(E),y=n(232),C=n(169),x=n(171),j=n(211),O=n(168),T=n(113),S=n(172),w=n.n(S);n.d(t,"a",(function(){return N}));const k=(e,t)=>e.find(e=>e.type===t);function N(e){const t=e.effectsContainer,n=e.onEffectsUpdated,m=r.useContext(T.b),E=m.values.showEffectParameterNames,S=m.setShowEffectParameterNames,N=r.useMemo(()=>(e=>{const t=e.getCurrentPlatform().getAllPlatformExtensions();return w()(Object(l.mapFor)(0,t.size(),e=>{const n=t.at(e);return n.getExtensionEffectTypes().toJSArray().map(e=>n.getEffectMetadata(e)).map(e=>{const t=e.getType(),a=e.getProperties(),r=a.keys().toJSArray().map(e=>{const n=a.get(e),r=n.getType().toLowerCase(),o=n.getLabel(),i=n.getDescription(),s=()=>o,l=()=>i,c=()=>e;if("number"===r)return{name:e,valueType:"number",getValue:t=>t.getDoubleParameter(e),setValue:(t,n)=>t.setDoubleParameter(e,n),getLabel:s,getDescription:l,getExtraDescription:c};if("boolean"===r)return{name:e,valueType:"boolean",getValue:t=>t.getBooleanParameter(e),setValue:(t,n)=>t.setBooleanParameter(e,n),getLabel:s,getDescription:l,getExtraDescription:c};if("resource"===r){const t=n.getExtraInfo().toJSArray()[0]||"";return{name:e,valueType:"resource",resourceKind:t,getValue:t=>t.getStringParameter(e),setValue:(t,n)=>t.setStringParameter(e,n),getLabel:s,getDescription:l,getExtraDescription:c}}return"color"===r?{name:e,valueType:"color",getValue:t=>t.getStringParameter(e),setValue:(t,n)=>t.setStringParameter(e,n),getLabel:s,getDescription:l,getExtraDescription:c}:(console.error("A property with type=".concat(r," could not be mapped to a field for effect ").concat(t,". Ensure that this type is correct.")),null)}).filter(Boolean);return{extension:n,type:t,effectMetadata:e,fullName:e.getFullName(),description:e.getDescription(),parametersSchema:r}})}))})(e.project),[e.project]),_=Object(O.a)(),P=()=>{const e=Object(f.a)("Effect",e=>t.hasEffectNamed(e));t.insertNewEffect(e,t.getEffectsCount()),_(),n()},I=(e,t)=>{e.setEffectType(t);const a=k(N,t);a&&((e,t)=>{e.clearParameters();const n=t.getProperties();n.keys().toJSArray().forEach(t=>{const a=n.get(t),r=a.getType().toLowerCase();"number"===r?e.setDoubleParameter(t,parseFloat(a.getValue())||0):"boolean"===r?e.setBooleanParameter(t,"true"===a.getValue()):e.setStringParameter(t,a.getValue())})})(e,a.effectMetadata),_(),n()};return r.createElement(a.I18n,null,({i18n:m})=>r.createElement(o.a,{noMargin:!0,expand:!0},r.createElement(o.b,null,r.createElement(o.a,null,r.createElement(C.a,{identifier:"effects-usage",kind:"info"},r.createElement(a.Trans,{id:"Effects can change how the layer is rendered on screen. After adding an effect, set up its parameters. Launch a preview to see the result. Using the events and the name of the effect, you can change the parameters during the game."})))),t.getEffectsCount()>3&&r.createElement(o.b,null,r.createElement(o.a,null,r.createElement(C.a,{identifier:"too-much-effects",kind:"warning"},r.createElement(a.Trans,{id:"Using a lot of effects can have a severe negative impact on the rendering performance, especially on low-end or mobile devices. Consider using less effects if possible. You can also disable and re-enable effects as needed using events."})))),Object(l.mapFor)(0,t.getEffectsCount(),l=>{const c=t.getEffectAt(l),d=c.getEffectType(),f=k(N,d);return r.createElement(r.Fragment,{key:l},r.createElement(b.b,null,r.createElement(b.a,null,r.createElement(a.Trans,{id:"Effect name:"})),r.createElement(g.a,{margin:"none",commitOnBlur:!0,hintText:{id:"Enter the effect name"},value:c.getName(),onChange:e=>{e!==c.getName()&&(c.setName(e),_(),n())},fullWidth:!0}),r.createElement(b.a,null,r.createElement(a.Trans,{id:"Type:"})),r.createElement(i.a,{margin:"none",value:d,onChange:(e,t,n)=>I(c,n),fullWidth:!0,hintText:{id:"Choose the effect to apply"}},N.map(e=>r.createElement(s.a,{key:e.type,value:e.type,primaryText:e.fullName}))),r.createElement(h.a,{element:r.createElement(u.a,null,r.createElement(p.a,null)),buildMenuTemplate:e=>[{label:e._({id:"Delete"}),click:()=>{return e=c.getName(),t.removeEffect(e),_(),void n();var e}},{type:"separator"},{type:"checkbox",label:e._({id:"Show Parameter Names"}),checked:E,click:()=>S(!E)}]})),r.createElement(o.b,{expand:!0,noMargin:!0},r.createElement(o.a,{expand:!0},d&&f?r.createElement(r.Fragment,null,r.createElement(o.b,null,r.createElement(x.a,null,r.createElement(j.a,{source:f.description}))),r.createElement(y.a,{instances:[c],schema:f.parametersSchema,project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,renderExtraDescriptionText:E?e=>m._({id:"Parameter name in events: `{parameterName}`",values:{parameterName:e}}):void 0})):null)))}),0===t.getEffectsCount()?r.createElement(d.a,null,r.createElement(a.Trans,{id:"No effects applied."})):null,r.createElement(o.a,null,r.createElement(o.b,{justifyContent:"flex-end",alignItems:"center",expand:!0},r.createElement(c.a,{primary:!0,label:r.createElement(a.Trans,{id:"Add an effect"}),onClick:P,icon:r.createElement(v.a,null)})))))}},231:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(6);const r=n.n(a)()("electron"),o=r?r.clipboard:null;let i="";const s=e=>"GDEVELOP_"+e+"_CLIPBOARD_KIND-jsBdHbLy912y8Rc";class l{static extractNumberProperty(e,t){if(!this.extractObject(e))return null;const n=e[t];return"number"!==typeof n?null:n}static extractStringProperty(e,t){if(!this.extractObject(e))return null;const n=e[t];return"string"!==typeof n?null:n}static extractObjectProperty(e,t){if(!this.extractObject(e))return null;const n=e[t];return this.extractObject(n)}static extractArrayProperty(e,t){if(!this.extractObject(e))return null;const n=e[t];return this.extractArray(n)}static extractObject(e){return null===e||void 0===e||"object"!==typeof e||Array.isArray(e)?null:e}static extractArray(e){return null!==e&&void 0!==e&&"object"===typeof e&&Array.isArray(e)?e:null}}class c{static set(e,t){const n=JSON.stringify({"000kind":s(e),content:t});o?o.writeText(n):i=n}static has(e){let t="";return t=o?o.readText():i,12===t.indexOf(s(e))}static get(e){if(!c.has(e))return null;let t="";t=o?o.readText():i;try{return JSON.parse(t).content}catch(n){return console.warn("The clipboard content is not valid JSON"),null}}}},2313:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(174),i=n(6),s=n.n(i);const l=s()("fs"),c=s()("path");var u=n(125),d=n(83),h=n(80),m=n(113),p=n(912);n.d(t,"a",(function(){return E}));const g={scrollBeyondLastLine:!1,minimap:{enabled:!1}};let b=!1,f=!1;class E extends r.Component{constructor(...e){super(...e),this.state={MonacoEditor:null,error:null},this.setupEditorThemes=e=>{f||(f=!0,Object(p.a)().forEach(t=>{t.themeData&&e.editor.defineTheme(t.themeName,t.themeData)}))},this.setupEditorCompletions=(e,t)=>{b||(b=!0,t.languages.typescript.javascriptDefaults.setCompilerOptions({target:t.languages.typescript.ScriptTarget.ES6,allowNonTsExtensions:!0,allowJs:!0,checkJs:!0}),(e=>{const t=t=>l.readdir(t,(n,a)=>{n?console.error("Unable to read GDJS files for setting up autocompletions:",n):a.forEach(n=>{if(n.endsWith(".ts")||n.endsWith(".js")){const a=c.join(t,n);l.readFile(a,"utf8",(t,n)=>{t?console.error("Unable to read ".concat(a," for setting up autocompletions:"),t):e.languages.typescript.javascriptDefaults.addExtraLib(n,a)})}})});Object(o.findGDJS)().then(({gdjsRoot:n})=>{const a=c.join(n,"Runtime-sources"),r=c.join(a,"types"),o=c.join(a,"libs"),i=c.join(a,"pixi-renderers"),s=c.join(a,"cocos-renderers"),u=c.join(a,"howler-sound-manager"),d=c.join(a,"cocos-sound-manager"),h=c.join(a,"fontfaceobserver-font-manager"),m=c.join(a,"Extensions"),p=c.join(a,"events-tools");t(a),t(r),t(o),t(i),t(s),t(u),t(d),t(h),t(p),l.readdir(m,(e,n)=>{e?console.error("Unable to read Extensions folders for setting up autocompletions:",e):n.filter(e=>!e.endsWith(".txt")&&!e.endsWith(".md")&&!e.endsWith(".gitignore")).forEach(e=>t(c.join(m,e)))}),e.languages.typescript.javascriptDefaults.addExtraLib("\n/** Represents the scene being played. */\nvar runtimeScene = new gdjs.RuntimeScene();\n\n/**\n * The instances of objects that are passed to your JavaScript function.\n * @type {gdjs.RuntimeObject[]}\n */\nvar objects = [];\n\n/**\n * @type {EventsFunctionContext}\n */\nvar eventsFunctionContext = {};\n","this-mock-the-context-of-events.js")})})(t)),this.props.onEditorMounted&&this.props.onEditorMounted()},this._handleContextMenu=e=>{e.preventDefault(),e.stopPropagation()}}componentDidMount(){this.loadMonacoEditor()}handleLoadError(e){this.setState({error:e})}loadMonacoEditor(){this.setState({error:null}),window.MonacoEnvironment={getWorkerUrl:function(e,t){return"external/monaco-editor-min/vs/base/worker/workerMain.js"}},n.e(58).then(n.t.bind(null,2429,7)).then(e=>this.setState({MonacoEditor:e.default})).catch(this.handleLoadError)}render(){const e=this.state,t=e.MonacoEditor;return e.error?r.createElement(r.Fragment,null,r.createElement(h.a,null,r.createElement(a.Trans,{id:"Unable to load the code editor"})),r.createElement(d.a,{label:r.createElement(a.Trans,{id:"Retry"}),onClick:this.loadMonacoEditor})):t?r.createElement("div",{onContextMenu:this._handleContextMenu},r.createElement(m.b.Consumer,null,({values:e})=>r.createElement(t,{width:this.props.width||600,height:this.props.height||200,language:"javascript",theme:e.codeEditorThemeName,value:this.props.value,onChange:this.props.onChange,editorWillMount:this.setupEditorThemes,editorDidMount:this.setupEditorCompletions,options:g}))):r.createElement(u.a,null)}}},2314:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n.n(r),i=n(81),s=n(86),l=n(92);const c={container:{display:"flex",flexDirection:"column",flex:1}};class u extends r.Component{static getNonCodeOnlyParametersCount(e){return Object(s.mapFor)(0,e.getParametersCount(),t=>!e.getParameter(t).isCodeOnly()).filter(e=>e).length}render(){const e=this.props,t=e.expressionMetadata,n=e.parameterValues,o=e.project,i=e.scope,d=e.globalObjectsContainer,h=e.objectsContainer,m=e.parameterRenderingService;if(!m)return console.error("Missing parameterRenderingService for ExpressionParametersEditor"),null;const p=t.getParametersCount(),g={getParametersCount:()=>p,getParameter:e=>n[e]||""};return r.createElement("div",{style:c.container},Object(s.mapFor)(0,t.getParametersCount(),e=>{const a=t.getParameter(e),s=m.getParameterComponent(a.getType());return a.isCodeOnly()?null:r.createElement(s,{expressionMetadata:t,expression:g,parameterMetadata:a,parameterIndex:e,value:n[e],onChange:t=>this.props.onChangeParameter(e,t),project:o,scope:i,globalObjectsContainer:d,objectsContainer:h,key:e,parameterRenderingService:m})}),0===u.getNonCodeOnlyParametersCount(t)&&r.createElement(l.a,null,r.createElement(a.Trans,{id:"There is nothing to configure."})))}}var d=n(84),h=n(80),m=n(73);n.d(t,"a",(function(){return g}));const p={minHeightContainer:{minHeight:300,flex:1,flexDirection:"column"}};class g extends r.Component{constructor(...e){super(...e),this.state={parameterValues:Array(this.props.expressionMetadata.getParametersCount()).fill("")}}render(){const e=this.props,t=e.project,n=e.scope,r=e.globalObjectsContainer,s=e.objectsContainer,l=e.expressionMetadata,c=e.parameterRenderingService;return o.a.createElement(d.a,{title:o.a.createElement(a.Trans,{id:"Enter the expression parameters"}),cannotBeDismissed:!0,open:!0,actions:o.a.createElement(i.a,{key:"apply",label:o.a.createElement(a.Trans,{id:"Apply"}),primary:!0,onClick:()=>this.props.onDone(this.state.parameterValues)}),noMargin:!0,onRequestClose:this.props.onRequestClose},o.a.createElement(m.a,null,o.a.createElement("div",{style:p.minHeightContainer},o.a.createElement(h.a,null,l.getDescription()),o.a.createElement(u,{project:t,scope:n,globalObjectsContainer:r,objectsContainer:s,expressionMetadata:l,parameterValues:this.state.parameterValues,onChangeParameter:(e,t)=>{this.setState({parameterValues:this.state.parameterValues.map((n,a)=>a===e?t:n)})},parameterRenderingService:c}))))}}},232:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var a=n(71),r=n(4),o=n(102),i=n(258),s=n(248),l=n(114),c=n(149),u=n(81),d=n(111),h=n(112),m=n(500),p=n.n(m),g=n(259),b=n(211),f=n(263),E=n(2392),v=n(88),y=n(83),C=n(356);const x={columnContainer:{display:"flex",flexDirection:"column"},fieldContainer:{flex:1,display:"flex",flexDirection:"row",alignItems:"baseline"},field:{flex:1,width:"auto"},subPropertiesEditorContainer:{marginLeft:15},subHeader:{paddingLeft:0}},j=(e,t,n)=>{if(!e[0])return console.log("getFieldValue was called with an empty list of instances (or containing undefined). This is a bug that should be fixed"),n;let a=t.getValue(e[0]);for(var r=1;r<e.length;++r)if(a!==t.getValue(e[r])){"undefined"!==typeof n&&(a=n);break}return a},O=(e,t)=>e[0]?t.getLabel?t.getLabel(e[0]):t.name:(console.log("PropertiesEditor._getFieldLabel was called with an empty list of instances (or containing undefined). This is a bug that should be fixed"),t.name);class T extends r.Component{constructor(...e){super(...e),this._onInstancesModified=e=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.props.onInstancesModified?this.props.onInstancesModified(e):this.forceUpdate()},this._getFieldDescription=(e,t)=>{const n=this.props.renderExtraDescriptionText;if(!e[0])return void console.log("PropertiesEditor._getFieldDescription was called with an empty list of instances (or containing undefined). This is a bug that should be fixed");const a=[];return t.getDescription&&a.push(t.getDescription(e[0])),n&&t.getExtraDescription&&a.push(n(t.getExtraDescription(e[0]))),a.join("\n")||void 0},this._renderInputField=e=>{if("PLEASE_ALSO_SHOW_EDIT_BUTTON_THANKS"===e.name)return null;if("boolean"===e.valueType){const t=e.setValue,n=this._getFieldDescription(this.props.instances,e);return r.createElement(i.a,{label:n?r.createElement(r.Fragment,null,O(this.props.instances,e)," ",r.createElement(E.a,{style:{display:"inline"}},r.createElement(b.a,{source:n}))):O(this.props.instances,e),key:e.name,checked:j(this.props.instances,e),onCheck:(e,n)=>{this.props.instances.forEach(e=>t(e,!!n)),this._onInstancesModified(this.props.instances)},disabled:e.disabled})}if("number"===e.valueType){const t=e.setValue;return r.createElement(o.a,{value:j(this.props.instances,e),key:e.name,id:e.name,floatingLabelText:O(this.props.instances,e),floatingLabelFixed:!0,helperMarkdownText:this._getFieldDescription(this.props.instances,e),onChange:e=>{this.props.instances.forEach(n=>t(n,parseFloat(e)||0)),this._onInstancesModified(this.props.instances)},type:"number",style:x.field,disabled:e.disabled})}if("color"===e.valueType){const t=e.setValue;return r.createElement(g.a,{key:e.name,id:e.name,floatingLabelText:O(this.props.instances,e),helperMarkdownText:this._getFieldDescription(this.props.instances,e),disableAlpha:!0,fullWidth:!0,color:Object(f.a)(j(this.props.instances,e)),onChangeComplete:e=>{this.props.instances.forEach(n=>t(n,e.hex||"#000000")),this._onInstancesModified(this.props.instances)}})}if("textarea"===e.valueType){const t=e.setValue;return r.createElement(o.a,{key:e.name,id:e.name,onChange:e=>{this.props.instances.forEach(n=>t(n,e||"")),this._onInstancesModified(this.props.instances)},value:j(this.props.instances,e),floatingLabelText:O(this.props.instances,e),floatingLabelFixed:!0,helperMarkdownText:this._getFieldDescription(this.props.instances,e),multiline:!0,style:x.field})}{const t=e.onEditButtonClick,n=e.setValue;return r.createElement(v.c,{key:e.name,renderTextField:()=>r.createElement(o.a,{value:j(this.props.instances,e,"(Multiple values)"),id:e.name,floatingLabelText:O(this.props.instances,e),floatingLabelFixed:!0,helperMarkdownText:this._getFieldDescription(this.props.instances,e),onChange:e=>{this.props.instances.forEach(t=>n(t,e||"")),this._onInstancesModified(this.props.instances)},style:x.field,disabled:e.disabled}),renderButton:e=>t?r.createElement(y.a,{style:e,primary:!0,disabled:1!==this.props.instances.length,icon:r.createElement(p.a,null),label:r.createElement(a.Trans,{id:"Edit"}),onClick:()=>t(this.props.instances[0])}):null})}},this._renderSelectField=e=>{if(!e.getChoices||!e.getValue)return;const t=e.getChoices().map(({value:e,label:t})=>r.createElement(h.a,{key:e,value:e,primaryText:t}));if("number"===e.valueType){const n=e.setValue;return r.createElement(d.a,{value:j(this.props.instances,e),key:e.name,floatingLabelText:O(this.props.instances,e),helperMarkdownText:this._getFieldDescription(this.props.instances,e),onChange:(e,t,a)=>{this.props.instances.forEach(e=>n(e,parseFloat(a)||0)),this._onInstancesModified(this.props.instances)},style:x.field,disabled:e.disabled},t)}if("string"===e.valueType){const n=e.setValue;return r.createElement(d.a,{value:j(this.props.instances,e,"(Multiple values)"),key:e.name,floatingLabelText:O(this.props.instances,e),helperMarkdownText:this._getFieldDescription(this.props.instances,e),onChange:(e,t,a)=>{this.props.instances.forEach(e=>n(e,a||"")),this._onInstancesModified(this.props.instances)},style:x.field,disabled:e.disabled},t)}},this._renderButton=e=>r.createElement(u.a,{key:e.name,fullWidth:!0,primary:!0,label:O(this.props.instances,e),onClick:()=>{e.onClick&&e.onClick(this.props.instances[0])}}),this._renderResourceField=e=>{if(!this.props.project)return void console.error("You tried to display a resource field in a PropertiesEditor that does not support display resources. If you need to display resources, pass additional props (project, resourceSources, etc...)");const t=e.setValue;return r.createElement(s.a,{key:e.name,project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:l.a,resourceKind:e.resourceKind,fullWidth:!0,initialResourceName:j(this.props.instances,e,"(Multiple values)"),onChange:e=>{this.props.instances.forEach(n=>t(n,e)),this._onInstancesModified(this.props.instances)},floatingLabelText:O(this.props.instances,e),helperMarkdownText:this._getFieldDescription(this.props.instances,e)})}}render(){return("row"===this.props.mode?e=>r.createElement(v.b,{noMargin:!0},e):e=>r.createElement(v.a,{noMargin:!0},e))(this.props.schema.map(e=>e.children?"row"===e.type?r.createElement(C.b.Consumer,{key:e.name},t=>r.createElement(T,{schema:e.children,instances:this.props.instances,mode:"row",unsavedChanges:t})):r.createElement("div",{key:e.name},r.createElement(c.a,null,e.name),r.createElement("div",{style:x.subPropertiesEditorContainer},r.createElement(T,{schema:e.children,instances:this.props.instances,mode:"column"}))):"resource"===e.valueType?this._renderResourceField(e):e.getChoices&&e.getValue?this._renderSelectField(e):e.getValue?this._renderInputField(e):e.onClick?this._renderButton(e):null))}}},236:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(73),i=n(83),s=n(92);t.a=({onRetry:e,children:t})=>r.createElement(o.a,{expand:!0,alignItems:"center"},r.createElement(s.a,null,t),r.createElement(o.b,null,e&&r.createElement(i.a,{primary:!0,label:r.createElement(a.Trans,{id:"Retry"}),onClick:()=>e()})))},237:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h}));var a=n(322),r=n(87),o=n(71),i=n(4),s=n(258),l=n(88),c=n(125),u=n(92);const d=()=>{const e=i.useState(null),t=Object(r.a)(e,2),n=t[0],o=t[1],s=i.useState(()=>new Set),l=Object(r.a)(s,2),c=l[0],u=l[1];return{chosenCategory:n,setChosenCategory:i.useCallback(e=>{if(e){const i=new Set;var t,n=Object(a.a)(c.keys());try{for(n.s();!(t=n.n()).done;){const n=t.value;e.node.allChildrenTags.includes(n)&&i.add(n)}}catch(r){n.e(r)}finally{n.f()}u(i),o(e)}else o(null)},[c]),chosenFilters:c,addFilter:e=>{const t=new Set(c);t.add(e),u(t)},removeFilter:e=>{const t=new Set(c);t.delete(e),u(t)}}},h=({filtersState:e,allFilters:t,error:n})=>{if(!t)return i.createElement(c.a,null);if(n)return null;const a=e.chosenCategory?e.chosenCategory.node.allChildrenTags:t.defaultTags;return i.createElement(l.a,null,a?a.length?a.map(t=>{return i.createElement(s.a,{key:t,label:(n=t,n?n[0].toUpperCase()+n.substr(1):""),checked:e.chosenFilters.has(t),onCheck:()=>{e.chosenFilters.has(t)?e.removeFilter(t):e.addFilter(t)}});var n}):i.createElement(u.a,null,i.createElement(o.Trans,{id:"No filters in this category."})):i.createElement(u.a,null,i.createElement(o.Trans,{id:"Choose a category to display filters"})))}},242:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return E}));var a=n(86),r=n(1660),o=n(404);const i=e.gd,s=e=>Object(r.a)(e,"_",[]),l=(e,t)=>t+"__"+s(e.getName()),c=(e,t,n)=>Promise.all(Object(a.mapFor)(0,e.getEventsFunctionsExtensionsCount(),a=>u(e,e.getEventsFunctionsExtensionAt(a),{skipCodeGeneration:!0,eventsFunctionCodeWriter:t,i18n:n}))).then(()=>Promise.all(Object(a.mapFor)(0,e.getEventsFunctionsExtensionsCount(),a=>u(e,e.getEventsFunctionsExtensionAt(a),{skipCodeGeneration:!1,eventsFunctionCodeWriter:t,i18n:n})))),u=(e,t,n)=>d(e,t,n).then(e=>{i.JsPlatform.get().addNewExtension(e),e.delete()}),d=(e,t,n)=>{const r=new i.PlatformExtension;Object(o.e)(r,t);const c="gdjs.evtsExt__"+s(t.getName()),u={codeNamespacePrefix:c,extensionIncludeFiles:((e,t,n,r)=>Object(a.mapFor)(0,t.getEventsFunctionsCount(),e=>{const a=t.getEventsFunctionAt(e);if(Object(o.h)(a.getName())){const e=l(a,r)+".func";return n.eventsFunctionCodeWriter.getIncludeFileFor(e)}return null}).filter(Boolean))(0,t,n,c)};return Promise.all(Object(a.mapVector)(t.getEventsBasedBehaviors(),l=>function(e,t,n,r,l,c){const u=Object(o.b)(t,r),d=r.getEventsFunctions(),h=((e,t)=>t+"__"+s(e.getName()))(r,c.codeNamespacePrefix),m=l.eventsFunctionCodeWriter.getIncludeFileFor(h);return u.setIncludeFile(m),c.extensionIncludeFiles.forEach(e=>{u.addIncludeFile(e)}),Promise.resolve().then(()=>{const c=new i.MapStringString;if(Object(o.c)(l.i18n,t,u,r),Object(a.mapFor)(0,d.getEventsFunctionsCount(),e=>{const n=d.getEventsFunctionAt(e),a=s(n.getName());c.set(n.getName(),a);const i=Object(o.a)(t,u,r,n);Object(o.d)(n,i),Object(o.g)(n.getName())&&i.setHidden(),n.isPrivate()&&i.setPrivate();i.getCodeExtraInformation().setIncludeFile(m).setFunctionName(a)}),l.skipCodeGeneration)return c.delete(),Promise.resolve();{const t=new i.SetString,a=new i.BehaviorCodeGenerator(e),o=a.generateRuntimeBehaviorCompleteCode(n.getName(),r,h,c,t,!0);return a.delete(),c.delete(),t.toNewVectorString().toJSArray().forEach(e=>{u.addIncludeFile(e)}),t.delete(),l.eventsFunctionCodeWriter.writeBehaviorCode(h,o)}})}(e,r,t,l,n,u))).then(()=>Promise.all(Object(a.mapFor)(0,t.getEventsFunctionsCount(),a=>{const o=t.getEventsFunctionAt(a);return h(e,r,t,o,n,u)}))).then(()=>r)},h=(e,t,n,a,r,s)=>{const c=Object(o.f)(t,n,a);c.addCodeOnlyParameter("currentScene",""),Object(o.d)(a,c),Object(o.h)(a.getName())&&c.setHidden(),a.isPrivate()&&c.setPrivate();const u=l(a,s.codeNamespacePrefix),d=u+".func",h=c.getCodeExtraInformation();if(h.setIncludeFile(r.eventsFunctionCodeWriter.getIncludeFileFor(d)).setFunctionName(d),s.extensionIncludeFiles.forEach(e=>{h.addIncludeFile(e)}),r.skipCodeGeneration)return Promise.resolve();{const t=new i.SetString,n=new i.EventsFunctionsExtensionCodeGenerator(e).generateFreeEventsFunctionCompleteCode(a,u,t,!0);return t.toNewVectorString().toJSArray().forEach(e=>{h.addIncludeFile(e)}),t.delete(),r.eventsFunctionCodeWriter.writeFunctionCode(d,n)}};const m=e=>Promise.all(Object(a.mapFor)(0,e.getEventsFunctionsExtensionsCount(),t=>{i.JsPlatform.get().removeExtension(e.getEventsFunctionsExtensionAt(t).getName())})),p=(e,t)=>{i.JsPlatform.get().removeExtension(t)},g=e=>{const t=e.getParametersCount();return!(t<=0)&&"eventsFunctionContext"===e.getParameter(t-1).getType()},b=e=>{const t=e.split("::");return t.length?{name:t[t.length-1],behaviorName:t.length>2?t[1]:void 0,extensionName:t[0]}:{name:"",behaviorName:"",extensionName:""}},f=(e,t)=>e+"::"+t.getName(),E=e=>e?0:1}).call(this,n(1))},247:function(e,t,n){"use strict";var a=n(77),r=n(4);var o=()=>{const e=document.body,t=document.activeElement,n=document.querySelector("div.main-frame"),a=n&&n.contains(t);return!(t===e)&&!a},i=n(25);var s=["CmdOrCtrl+KeyZ","CmdOrCtrl+KeyY","CmdOrCtrl+Shift+KeyZ","CmdOrCtrl+KeyX","CmdOrCtrl+KeyC","CmdOrCtrl+KeyV","CmdOrCtrl+Shift+KeyV","CmdOrCtrl+KeyA","Delete","CmdOrCtrl+Shift+KeyI","F11","NumpadAdd","CmdOrCtrl+Equal","NumpadSubtract","CmdOrCtrl+Minus","CmdOrCtrl+KeyF"],l=n(113),c=n(305);var u=()=>{const e=document.activeElement;if(!e)return!1;return!!e.closest('textarea, input, [contenteditable="true"]')},d=n(468),h=n(6),m=n.n(h);n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return E})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return y}));const p=m()("electron"),g=e=>e?0===e.indexOf("Key")?"alphabet":0===e.indexOf("Digit")?"number":0===e.indexOf("F")?"fn-row":"NumpadAdd"===e||"NumpadSubtract"===e?"numpad-arith":"Equal"===e||"Minus"===e?"numrow-arith":"Tab"===e||"Space"===e?"other":null:null,b=e=>{const t=(e=>{let t="";(e.ctrlKey||e.metaKey)&&(t+="CmdOrCtrl+"),e.shiftKey&&(t+="Shift+"),e.altKey&&(t+="Alt+");const n=e.code||"";return g(n)&&(t+=n),t})(e),n=(e=>{const t=e.code||"",n=g(t);if(!n)return!1;const a=e.ctrlKey||e.metaKey,r=e.altKey;return!("other"===n&&!a&&!r)})(e),a=s.includes(t);return{shortcutString:t,isValid:n&&!a}},f=()=>{const e=r.useContext(l.b).values.userShortcutMap;return Object(a.a)(Object(a.a)({},d.a),e)},E=e=>{const t=f();r.useEffect(()=>{const n=n=>{const a=b(n);if(!a.isValid)return;const r=Object.keys(t).find(e=>t[e]===a.shortcutString);r&&(p&&c.b[r].handledByElectron||u()||(n.preventDefault(),o()||e(r)))};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[e,t])},v=e=>e.split("+").map(e=>"CmdOrCtrl"===e?Object(i.e)()?"Cmd":"Ctrl":"Shift"===e||"Alt"===e?e:(e=>{const t=g(e);return"alphabet"===t?e.slice(3):"number"===t?e.slice(5):"fn-row"===t?e:"numpad-arith"===t?"NumpadAdd"===e?"Num+":"Num-":"numrow-arith"===t?"Minus"===e?"-":"=":e})(e)).join(" + "),y=e=>e.split("+").map(e=>"CmdOrCtrl"===e||"Shift"===e||"Alt"===e?e:(e=>{const t=g(e);return"alphabet"===t?e.slice(3):"number"===t?e.slice(5):"fn-row"===t?e:"numpad-arith"===t?"NumpadAdd"===e?"numadd":"numsub":"numrow-arith"===t?"Minus"===e?"-":"=":e})(e)).join("+")},248:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(182),i=n(1139),s=n.n(i),l=n(147),c=n.n(l),u=n(655),d=n.n(u),h=(n(114),n(216)),m=n(136),p=n(83),g=n(138);const b=()=>{throw new Error("This RaisedButtonWithMenu onClick should never be called")};var f=e=>{const t=e.buildMenuTemplate,n=Object(m.a)(e,["buildMenuTemplate"]);return r.createElement(g.a,{element:r.createElement(p.a,Object.assign({},n,{onClick:b})),buildMenuTemplate:t})},E=n(88),v=n(95);n.d(t,"a",(function(){return y}));class y extends r.Component{constructor(e){super(e),this._addFrom=e=>{if(!e)return;const t=this.props,n=t.project;(0,t.onChooseResource)(e.name,!1).then(e=>{if(!e.length)return;const t=e[0];Object(h.b)(n,t),n.getResourcesManager().addResource(t),this._loadFrom(n.getResourcesManager());const a=t.getName();this._onChangeResourceName(a),this._autoComplete&&this._autoComplete.forceInputValueTo(a),e.forEach(e=>e.delete())}).catch(e=>{console.error("Unable to choose a resource",e)})},this._onResetResourceName=()=>{this.setState({resourceName:"",notExistingError:!1},()=>{this.props.onChange&&this.props.onChange(this.state.resourceName)})},this._onChangeResourceName=e=>{""!==e?this.setState({resourceName:e,notExistingError:-1===this.allResourcesNames.indexOf(e)},()=>{this.state.notExistingError||this.props.onChange&&this.props.onChange(e)}):this._onResetResourceName()},this._editWith=e=>{const t=this.props,n=t.project,a=t.resourcesLoader,r=t.resourceKind,o=this.state.resourceName,i=n.getResourcesManager();let s={};const l=i.getResource(o).getMetadata();if(l)try{s=JSON.parse(l)}catch(c){console.error("Malformed metadata",c)}if("image"===r){const t=[];i.hasResource(o)&&t.push(o);const r={project:n,resourcesLoader:a,singleFrame:!0,resourceNames:t,extraOptions:{fps:0,name:o,isLooping:!1,externalEditorData:s},onChangesSaved:e=>{e.length&&(a.burstUrlsCacheForResources(n,[e[0].name]),this.props.onChange(e[0].name))}};e.edit(r)}else if("audio"===r){const t={project:n,resourcesLoader:a,resourceNames:[o],extraOptions:{externalEditorData:s},onChangesSaved:e=>{a.burstUrlsCacheForResources(n,[e[0].name]),this.props.onChange(e[0].name)}};e.edit(t)}else if("json"===r){const t={project:n,resourcesLoader:a,resourceNames:[o],extraOptions:{initialResourceMetadata:s},onChangesSaved:e=>{this.props.onChange(e[0].name)}};e.edit(t)}},this.state={notExistingError:!1,resourceName:e.initialResourceName||""};const t=e.project;t&&this._loadFrom(t.getResourcesManager())}focus(){this._autoComplete&&this._autoComplete.focus()}componentWillReceiveProps(e){e.initialResourceName!==this.props.initialResourceName&&this.setState({resourceName:e.initialResourceName||""})}_getResourceSourceItems(){return[...(this.props.resourceSources||[]).filter(e=>e.kind===this.props.resourceKind).map(e=>({text:"",value:e.displayName,renderIcon:()=>r.createElement(c.a,null),onClick:()=>this._addFrom(e)})),{type:"separator"}]}_loadFrom(e){this.allResourcesNames=e.getAllResourceNames().toJSArray(),this.props.resourceKind&&(this.allResourcesNames=this.allResourcesNames.filter(t=>e.getResource(t).getKind()===this.props.resourceKind));const t=this._getResourceSourceItems(),n=this.allResourcesNames.map(e=>({text:e,value:e}));this.autoCompleteData=[...t,...n]}render(){const e=this.state.notExistingError?"This resource does not exist in the game":null,t=this.props.resourceExternalEditors.filter(e=>e.kind===this.props.resourceKind);return r.createElement(E.c,{noFloatingLabelText:!this.props.floatingLabelText,margin:this.props.margin,renderTextField:()=>r.createElement(o.a,{style:this.props.style,floatingLabelText:this.props.floatingLabelText,helperMarkdownText:this.props.helperMarkdownText,hintText:this.props.hintText,openOnFocus:!0,dataSource:this.autoCompleteData||[],value:this.state.resourceName,onChange:this._onChangeResourceName,errorText:e,fullWidth:this.props.fullWidth,margin:this.props.margin,onRequestClose:this.props.onRequestClose,ref:e=>this._autoComplete=e}),renderButton:e=>r.createElement(r.Fragment,null,this.props.canBeReset&&r.createElement(v.a,{size:"small",onClick:()=>{this._onResetResourceName()}},r.createElement(s.a,null)),t.length?r.createElement(f,{style:e,icon:r.createElement(d.a,null),label:this.state.resourceName?r.createElement(a.Trans,{id:"Edit"}):r.createElement(a.Trans,{id:"Create"}),primary:!0,buildMenuTemplate:()=>t.map(e=>({label:e.displayName,click:()=>this._editWith(e)}))}):null)})}}},254:function(e,t,n){"use strict";var a=n(4),r=n(95),o=n(97);const i=a.forwardRef((e,t)=>{const n=e.src,i=e.tooltip,s=e.acceleratorString,l=e.disabled,c=e.onClick,u=e.onContextMenu;return a.createElement(o.a,null,e=>a.createElement(r.a,{onClick:c,onContextMenu:u,size:"small",disabled:l,tooltip:i,acceleratorString:s,ref:t},a.createElement("img",{alt:i,src:n,width:32,height:32,style:{filter:l?"grayscale(100%)":e.gdevelopIconsCSSFilter}})))});t.a=i},258:function(e,t,n){"use strict";var a=n(4),r=n(2394),o=n(2487);t.a=e=>{const t=e.onCheck,n=a.createElement(o.a,{disabled:e.disabled,checked:e.checked,onChange:t?e=>t(e,e.target.checked):void 0,icon:e.uncheckedIcon,checkedIcon:e.checkedIcon,color:"primary"});return e.label?a.createElement(r.a,{control:n,label:e.label}):n}},259:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(77),r=n(4),o=n.n(r),i=n(93),s=n(316);const l={container:{position:"relative",display:"inline-block"},picker:{position:"absolute",right:"8px",top:"19px"}};class c extends r.Component{constructor(...e){super(...e),this.onClick=()=>{this.textField&&this.textField.blur(),this.picker&&this.picker.open()}}render(){return o.a.createElement("div",{style:Object(a.a)(Object(a.a)({},l.container),{},{width:this.props.fullWidth?"100%":void 0})},o.a.createElement(i.b,{fullWidth:!0,floatingLabelText:this.props.floatingLabelText,floatingLabelFixed:!0,helperMarkdownText:this.props.helperMarkdownText,type:"text",hintText:{id:"Click to choose"},onClick:this.onClick,onFocus:this.onClick,value:"",ref:e=>this.textField=e}),o.a.createElement("div",{style:l.picker},o.a.createElement(s.a,Object.assign({},this.props,{ref:e=>this.picker=e}))))}}},263:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i}));const a=e=>{const t=e.r,n=e.g,a=e.b;return o(t,n,a)},r=(e,t,n)=>""+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1),o=(e,t,n)=>(e<<16)+(t<<8)+n,i=e=>{const t=parseInt(e.replace("#",""),16);return{r:t>>16&255,g:t>>8&255,b:255&t,a:255}}},264:function(e,t,n){"use strict";var a=n(86);t.a=(e,t,n)=>{const r=e.keys();return Object(a.mapFor)(0,r.size(),a=>{const o=r.at(a),i=e.get(o),s=i.getDescription(),l=i.getType().toLowerCase(),c=e=>{const n=t(e).get(o).getLabel();return n||o.charAt(0).toUpperCase()+o.slice(1).split(/(?=[A-Z])/).join(" ")},u=()=>s;if(i.isHidden())return null;if("number"===l)return{name:o,valueType:l,getValue:e=>parseFloat(t(e).get(o).getValue())||0,setValue:(e,t)=>{n(e,o,""+t)},getLabel:c,getDescription:u};if("string"===l||""===l)return{name:o,valueType:"string",getValue:e=>t(e).get(o).getValue(),setValue:(e,t)=>{n(e,o,t)},getLabel:c,getDescription:u};if("boolean"===l)return{name:o,valueType:l,getValue:e=>"true"===t(e).get(o).getValue(),setValue:(e,t)=>{n(e,o,t?"1":"0")},getLabel:c,getDescription:u};if("choice"===l){const e=i.getExtraInfo().toJSArray().map(e=>({value:e,label:e}));return{name:o,valueType:"string",getChoices:()=>e,getValue:e=>t(e).get(o).getValue(),setValue:(e,t)=>{n(e,o,t)},getLabel:c,getDescription:u}}if("resource"===l){const e=i.getExtraInfo().toJSArray()[0]||"";return{name:o,valueType:"resource",resourceKind:e,getValue:e=>t(e).get(o).getValue(),setValue:(e,t)=>{n(e,o,t)},getLabel:c,getDescription:u}}return"color"===l?{name:o,valueType:"color",getValue:e=>t(e).get(o).getValue(),setValue:(e,t)=>{n(e,o,t)},getLabel:c,getDescription:u}:"textarea"===l?{name:o,valueType:"textarea",getValue:e=>t(e).get(o).getValue(),setValue:(e,t)=>{n(e,o,t)},getLabel:c,getDescription:u}:(console.error("A property with type=".concat(l," could not be mapped to a field. Ensure that this type is correct and understood by the IDE.")),null)}).filter(Boolean)}},266:function(e,t,n){"use strict";var a=n(4),r=n(2385);t.a=e=>a.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement(r.a,{elevation:3,style:{padding:10,margin:5}},e.children))},267:function(e,t,n){"use strict";var a=n(4),r=n(2403);const o={progress:{marginRight:8,verticalAlign:"middle"}};t.a=({children:e,isLoading:t})=>a.createElement("span",null,t&&a.createElement(r.a,{size:20,style:o.progress}),e)},268:function(e,t,n){"use strict";var a=n(4);const r={eventsFunctionsExtensionsError:null,loadProjectEventsFunctionsExtensions:()=>Promise.reject(new Error("Use a provider")),unloadProjectEventsFunctionsExtensions:()=>{},reloadProjectEventsFunctionsExtensions:()=>Promise.reject(new Error("Use a provider")),unloadProjectEventsFunctionsExtension:()=>{},getEventsFunctionsExtensionWriter:()=>null,getEventsFunctionsExtensionOpener:()=>null,ensureLoadFinished:()=>Promise.reject(new Error("Use a provider")),getIncludeFileHashs:()=>({})},o=a.createContext(r);t.a=o},270:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(71),r=n(4),o=n(2492),i=n(2393),s=n(113),l=n(213);class c extends r.PureComponent{render(){const e=this.props.identifier;return r.createElement(l.a,null,t=>r.createElement(s.b.Consumer,null,({values:n,showAlertMessage:s})=>r.createElement(o.a,{open:this.props.show&&!n.hiddenAlertMessages[e],message:"touch"===t&&this.props.touchScreenMessage?this.props.touchScreenMessage:this.props.message,action:r.createElement(i.a,{key:"undo",color:"primary",size:"small",onClick:()=>{s(e,!1)}},r.createElement(a.Trans,{id:"Got it"}))})))}}},272:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(87),r=n(71),o=n(4),i=n(1587),s=n(86),l=n(398),c=n(771),u=n(788),d=n(789),h=n(307);const m={addButton:{cursor:"pointer"}},p=Object(d.a)(i.b);function g({addButtonLabel:e,areConditions:t,className:n,instrsList:d,onAddNewInstruction:g,onPasteInstructions:b,onMoveToInstruction:f,onMoveToInstructionsList:E,onInstructionClick:v,onInstructionContextMenu:y,onInstructionDoubleClick:C,onAddInstructionContextMenu:x,onParameterClick:j,selection:O,style:T,disabled:S,renderObjectThumbnail:w,screenType:k,windowWidth:N}){const _=o.useState(!1),P=Object(a.a)(_,2),I=P[0],B=P[1],R=o.useCallback(()=>{g&&g({instrsList:d,isCondition:t})},[g,d,t]),M=o.useCallback(()=>{b({instrsList:d,isCondition:t})},[b,d,t]),F=Object(s.mapFor)(0,d.size(),e=>{const n=d.get(e),a={isCondition:t,instrsList:d,instruction:n,indexInList:e};return o.createElement(i.a,{instruction:n,isCondition:t,key:n.ptr,selected:Object(l.n)(O,n),onMoveToInstruction:()=>f(a),onClick:()=>v(a),onDoubleClick:()=>C(a),onContextMenu:(e,t)=>y(e,t,a),onParameterClick:(e,t)=>j({isCondition:a.isCondition,instrsList:a.instrsList,instruction:a.instruction,indexInList:a.indexInList,parameterIndex:t,domEvent:e}),selection:O,onAddNewSubInstruction:g,onPasteSubInstructions:b,onMoveToSubInstruction:f,onMoveToSubInstructionsList:E,onSubInstructionClick:v,onSubInstructionDoubleClick:C,onSubInstructionContextMenu:y,onAddSubInstructionContextMenu:x,onSubParameterClick:j,disabled:S,renderObjectThumbnail:w,screenType:k,windowWidth:N})}),L={instrsList:d,isCondition:t},A=o.useRef(null),D=t?o.createElement(r.Trans,{id:"Add condition"}):o.createElement(r.Trans,{id:"Add action"}),U=Object(h.a)(o.useCallback(e=>{A.current&&x(A.current,L)},[x,L,A]));return o.createElement(p,{canDrop:e=>e.isCondition===t,drop:()=>{E({isCondition:t,instrsList:d})}},({connectDropTarget:a,isOver:i,canDrop:s})=>a(o.createElement("div",{className:n,style:T},F,i&&o.createElement(c.a,{canDrop:s}),o.createElement("span",{onPointerEnter:()=>{B(t&&Object(u.c)()||!t&&Object(u.b)())},onPointerLeave:()=>{B(!1)}},o.createElement("button",Object.assign({style:m.addButton,className:"add-link",onClick:R,onContextMenu:e=>{e.stopPropagation(),x(e.currentTarget,L)}},U,{ref:A}),e||D),I&&o.createElement("span",null,o.createElement("button",{style:m.addButton,className:"add-link",onClick:M},t?o.createElement(r.Trans,{id:"(or paste conditions)"}):o.createElement(r.Trans,{id:"(or paste actions)"})))))))}},273:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l}));var a=n(322);const r=(e,t)=>e.filter(e=>e!==t),o=({noTagLabel:e,getAllTags:t,selectedTags:n,onChange:a,onEditTags:o,editTagsLabel:i})=>{const s=t(),l=o&&i?[{type:"separator"},{label:i,click:o}]:[];return s.length?s.map(e=>({type:"checkbox",label:e,checked:n.includes(e),click:()=>{var t,o;n.includes(e)?a(r(n,e)):a((t=n,o=[e],Array.from(new Set([...t,...o]))))}})).concat(l):[{label:e,enabled:!1},...l]},i=e=>""===e.trim()?[]:e.split(",").map(e=>e.trim()),s=e=>e.join(", "),l=(e,t)=>{var n,r=Object(a.a)(t);try{for(r.s();!(n=r.n()).done;){const t=n.value;if(-1===e.indexOf(t))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}},274:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return v}));const a=e.gd,r={BuiltinObject:{"":["AjoutHasard","Create","AjoutObjConcern"]}},o={BuiltinObject:{"":["AjoutHasard","AjoutObjConcern","CollisionNP","NbObjet","PickNearest","Distance","SeDirige","EstTourne","SourisSurObjet"]}},i={},s={Physics2:{"Physics2::Physics2Behavior":["Physics2::Collision"]}},l={BuiltinObject:[...o.BuiltinObject[""]],Physics2:[...s.Physics2["Physics2::Physics2Behavior"]]},c=e=>{let t=!1;return e.filter(e=>{if("Create"===e.type){if(t)return!1;t=!0}return!0})},u=(e,t)=>{const n=t;return n?e.filter(e=>-1===n.indexOf(e.type)):e},d=(e,t,n,a,r)=>{const o=t.getName(),l=e?s[o]:i[o];if(!l)return[];const c=l[n];if(!c)return[];const u=e?t.getAllConditions():t.getAllActions();return c.map(e=>m(a,e,u.get(e),r))},h=(e,t,n,a,i)=>{const s=t.getName(),l=e?o[s]:r[s];if(!l)return[];const c=l[n];if(!c)return[];const u=e?t.getAllConditions():t.getAllActions();return c.map(e=>m(a,e,u.get(e),i))},m=(e,t,n,a)=>{const r=n.getFullName(),o=n.getGroup(),i=n.getIconFilename();return{type:t,metadata:n,iconFilename:i,displayedName:r,fullGroupName:e+o,scope:a,isPrivate:n.isPrivate()}},p=(e,t,n)=>{const a=t.keys(),r=[];for(let o=0;o<a.size();++o){const i=a.at(o),s=t.get(i);s.isHidden()||r.push(m(e,i,s,n))}return r},g=e=>{let t=[];const n=a.asPlatform(a.JsPlatform.get()).getAllPlatformExtensions();for(let a=0;a<n.size();++a){const r=n.at(a),o=r.getName(),i=r.getExtensionObjectsTypes(),s=r.getBehaviorsTypes();let c="";(i.size()>0||s.size()>0)&&(c="BuiltinObject"===o?"Common "+(e?"conditions":"actions")+" for all objects":r.getFullName(),c+="/");const m=p(c,e?r.getAllConditions():r.getAllActions(),{extension:r,objectMetadata:void 0,behaviorMetadata:void 0});t=[...t,...u(m,l[o])];for(let n=0;n<i.size();++n){const a=i.at(n),o=r.getObjectMetadata(a),s={extension:r,objectMetadata:o};t=[...t,...p(c,e?r.getAllConditionsForObject(a):r.getAllActionsForObject(a),s),...h(e,r,a,c,s)]}for(let n=0;n<s.size();++n){const a=s.at(n),o=r.getBehaviorMetadata(a),i={extension:r,behaviorMetadata:o};t=[...t,...p(c,e?r.getAllConditionsForBehavior(a):r.getAllActionsForBehavior(a),i),...d(e,r,a,c,i)]}}return t},b=(e,t,n,r)=>{let o=[];const i=a.getTypeOfObject(t,n,r,!0),s=a.getBehaviorsOfObject(t,n,r,!0).toJSArray(),l=new Set(s.map(e=>a.getTypeOfBehavior(t,n,e,!1))),c=a.asPlatform(a.JsPlatform.get()).getAllPlatformExtensions();for(let a=0;a<c.size();++a){const t=c.at(a),n=-1!==t.getExtensionObjectsTypes().toJSArray().indexOf(i),r=-1!==t.getExtensionObjectsTypes().toJSArray().indexOf(""),s=t.getBehaviorsTypes().toJSArray().filter(e=>l.has(e));if(!n&&!r&&0===s.length)continue;const u="";if(""!==i&&n){const n=t.getObjectMetadata(i),a={extension:t,objectMetadata:n};o=[...o,...p(u,e?t.getAllConditionsForObject(i):t.getAllActionsForObject(i),a),...h(e,t,"",u,a)]}if(r){const n=t.getObjectMetadata(""),a={extension:t,objectMetadata:n};o=[...o,...p(u,e?t.getAllConditionsForObject(""):t.getAllActionsForObject(""),a),...h(e,t,"",u,a)]}s.forEach(n=>{const a=t.getBehaviorMetadata(n),r={extension:t,behaviorMetadata:a};o=[...p(u,e?t.getAllConditionsForBehavior(n):t.getAllActionsForBehavior(n),r),...d(e,t,n,u,r),...o]})}return(e=>[...e.filter(e=>0===e.fullGroupName.length),...e.filter(e=>0!==e.fullGroupName.length)])(o)},f=e=>{let t=[];const n=a.asPlatform(a.JsPlatform.get()).getAllPlatformExtensions();for(let a=0;a<n.size();++a){const r=n.at(a),o=r.getName(),i=r.getExtensionObjectsTypes(),s=r.getBehaviorsTypes();let c="";(i.size()>0||s.size()>0)&&(c="BuiltinObject"===o?"":r.getFullName(),c+="/");const d=p(c,e?r.getAllConditions():r.getAllActions(),{extension:r,objectMetadata:void 0,behaviorMetadata:void 0});t=[...t,...u(d,l[o])]}return t},E=(e,{searchText:t})=>{if(""===!t)return e;const n=t.toLowerCase();return(e=>{if(!t)return e;for(var a=0;a<e.length;++a)if(e[a].displayedName.toLowerCase()===n){const t=e[a];e.splice(a,1),e.unshift(t)}return e})(e.filter(e=>{const t=e.displayedName,a=e.fullGroupName;return-1!==t.toLowerCase().indexOf(n)||-1!==a.toLowerCase().indexOf(n)}))},v=e=>{const t=e.getParametersCount();if(t>=1){const n=e.getParameter(0).getType();if("object"===n)return 0;if(a.ParameterMetadata.isObject(n))return 0;if(("objectsContext"===n||"currentScene"===n)&&t>=2){const t=e.getParameter(1).getType();if(a.ParameterMetadata.isObject(t))return 1}}return-1}}).call(this,n(1))},275:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return l}));const a=e=>"object-group-key-".concat(e.group.getName(),"-").concat(e.global?"-global":""),r=e=>"object-key-".concat(e.object.getName(),"-").concat(e.global?"-global":""),o=e=>"object-or-object-group-value-".concat(e),i=e=>"instruction-key-".concat(e.fullGroupName,"-").concat(e.type),s=e=>"instruction-value-".concat(e),l=e=>"subheader-key-".concat(e)},277:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(4),r=n(2379),o=n(115),i=n(2411),s=n(73),l=n(126);const c={popover:{paddingBottom:10,overflowY:"auto",overflowX:"hidden",minHeight:30,maxHeight:400,maxWidth:600,minWidth:300,zIndex:5}};function u(e){const t=a.useRef(null),n=a.useRef(null);return a.createElement(i.a,{onClickAway:t=>{t instanceof MouseEvent?e.onRequestClose():setTimeout(()=>{e.onRequestClose()},50)}},a.createElement(r.a,{open:e.open,anchorEl:e.anchorEl,style:c.popover,placement:"bottom-start",onKeyDown:a=>{Object(l.b)(a)&&e.onRequestClose(),Object(l.c)(a)?a.target&&a.target===n.current&&(a.stopPropagation(),a.preventDefault(),t.current&&t.current.focus()):Object(l.d)(a)&&a.target&&a.target===t.current&&(a.stopPropagation(),a.preventDefault(),n.current&&n.current.focus())}},a.createElement(o.a,null,a.createElement("div",{tabIndex:0,ref:t}),a.createElement(s.a,{expand:!0},a.createElement(s.b,null,e.children)),a.createElement("div",{tabIndex:0,ref:n}))))}},296:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(4),r=n(97);const o=a.memo(({children:e})=>a.createElement(r.a,null,t=>a.createElement("div",{style:{backgroundColor:t.toolbar.backgroundColor,padding:3,flexShrink:0,display:"flex",justifyContent:"space-between",overflowX:"auto",overflowY:"hidden"}},e))),i={display:"flex",alignItems:"center"},s=a.memo(({children:e})=>a.createElement("span",{style:i},e))},302:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(97);t.a=e=>r.a.createElement(o.a,null,e=>r.a.createElement("span",{style:{height:32,marginLeft:3,marginRight:3,borderLeftStyle:"solid",borderLeftWidth:1,borderColor:e.toolbar.separatorColor}}))},304:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(4),r=n(2394),o=n(2395);class i extends a.Component{render(){return a.createElement(r.a,{control:a.createElement(o.a,{checked:this.props.toggled,onChange:e=>this.props.onToggle(e,e.target.checked),color:"primary"}),label:this.props.label,disabled:this.props.disabled,style:this.props.style})}}},305:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={GENERAL:{id:"General"},IDE:{id:"IDE"},PROJECT:{id:"Project"},SCENE:{id:"Scene"},EVENTS:{id:"Events"}};t.b={QUIT_APP:{area:"GENERAL",displayText:{id:"Close GDevelop"},handledByElectron:!0},OPEN_PROJECT_MANAGER:{area:"IDE",displayText:{id:"Open project manager"},handledByElectron:!0},OPEN_PROFILE:{area:"IDE",displayText:{id:"Open My Profile"}},OPEN_GAMES_DASHBOARD:{area:"IDE",displayText:{id:"Open My Games Dashboard"}},LAUNCH_NEW_PREVIEW:{area:"PROJECT",displayText:{id:"Launch new preview"}},LAUNCH_DEBUG_PREVIEW:{area:"PROJECT",displayText:{id:"Launch preview with debugger and profiler"}},LAUNCH_NETWORK_PREVIEW:{area:"PROJECT",displayText:{id:"Launch network preview over WiFi/LAN"}},HOT_RELOAD_PREVIEW:{area:"PROJECT",displayText:{id:"Apply changes to the running preview"}},OPEN_START_PAGE:{area:"IDE",displayText:{id:"Open start page"}},CREATE_NEW_PROJECT:{area:"GENERAL",displayText:{id:"Create a new project"},handledByElectron:!0},OPEN_PROJECT:{area:"GENERAL",displayText:{id:"Open project"},handledByElectron:!0},SAVE_PROJECT:{area:"GENERAL",displayText:{id:"Save project"},handledByElectron:!0},SAVE_PROJECT_AS:{area:"GENERAL",displayText:{id:"Save project as..."},handledByElectron:!0},CLOSE_PROJECT:{area:"GENERAL",displayText:{id:"Close project"},handledByElectron:!0},EXPORT_GAME:{area:"PROJECT",displayText:{id:"Export game"},handledByElectron:!0},OPEN_RECENT_PROJECT:{area:"GENERAL",displayText:{id:"Open recent project..."}},OPEN_COMMAND_PALETTE:{area:"IDE",displayText:{id:"Open command palette"},ghost:!0},OPEN_PROJECT_PROPERTIES:{area:"PROJECT",displayText:{id:"Open project properties"}},OPEN_PROJECT_VARIABLES:{area:"PROJECT",displayText:{id:"Edit global variables"}},OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG:{area:"PROJECT",displayText:{id:"Open project icons"}},OPEN_PROJECT_RESOURCES:{area:"PROJECT",displayText:{id:"Open project resources"}},OPEN_LAYOUT:{area:"IDE",displayText:{id:"Open scene..."}},OPEN_EXTERNAL_EVENTS:{area:"IDE",displayText:{id:"Open external events..."}},OPEN_EXTERNAL_LAYOUT:{area:"IDE",displayText:{id:"Open external layout..."}},OPEN_EXTENSION:{area:"IDE",displayText:{id:"Open extension..."}},OPEN_SCENE_PROPERTIES:{area:"SCENE",displayText:{id:"Open scene properties"}},OPEN_SCENE_VARIABLES:{area:"SCENE",displayText:{id:"Open scene variables"}},OPEN_OBJECTS_PANEL:{area:"SCENE",displayText:{id:"Open the objects editor"}},OPEN_OBJECT_GROUPS_PANEL:{area:"SCENE",displayText:{id:"Open the object groups editor"}},OPEN_PROPERTIES_PANEL:{area:"SCENE",displayText:{id:"Open the properties panel"}},TOGGLE_INSTANCES_PANEL:{area:"SCENE",displayText:{id:"Open the list of instances"}},TOGGLE_LAYERS_PANEL:{area:"SCENE",displayText:{id:"Open the layers editor"}},SCENE_EDITOR_UNDO:{area:"SCENE",displayText:{id:"Undo the last changes"},noShortcut:!0},SCENE_EDITOR_REDO:{area:"SCENE",displayText:{id:"Redo the last changes"},noShortcut:!0},DELETE_INSTANCES:{area:"SCENE",displayText:{id:"Delete the selected instances from the scene"},noShortcut:!0},TOGGLE_WINDOW_MASK:{area:"SCENE",displayText:{id:"Toggle mask"}},TOGGLE_GRID:{area:"SCENE",displayText:{id:"Toggle grid"}},OPEN_SETUP_GRID:{area:"SCENE",displayText:{id:"Setup grid"}},EDIT_LAYER_EFFECTS:{area:"SCENE",displayText:{id:"Edit layer effects..."}},EDIT_LAYER:{area:"SCENE",displayText:{id:"Edit layer..."}},EDIT_OBJECT:{area:"SCENE",displayText:{id:"Edit object..."}},EDIT_OBJECT_VARIABLES:{area:"SCENE",displayText:{id:"Edit object variables..."}},EDIT_OBJECT_GROUP:{area:"SCENE",displayText:{id:"Edit object group..."}},ADD_STANDARD_EVENT:{area:"EVENTS",displayText:{id:"Add a new empty event"}},ADD_SUBEVENT:{area:"EVENTS",displayText:{id:"Add a sub-event to the selected event"}},ADD_COMMENT_EVENT:{area:"EVENTS",displayText:{id:"Add a comment"}},CHOOSE_AND_ADD_EVENT:{area:"EVENTS",displayText:{id:"Choose and add an event..."}},EVENTS_EDITOR_UNDO:{area:"EVENTS",displayText:{id:"Undo the last changes"},noShortcut:!0},EVENTS_EDITOR_REDO:{area:"EVENTS",displayText:{id:"Redo the last changes"},noShortcut:!0},DELETE_SELECTION:{area:"EVENTS",displayText:{id:"Delete the selected event(s)"},noShortcut:!0},SEARCH_EVENTS:{area:"EVENTS",displayText:{id:"Search in events"},noShortcut:!0},OPEN_EXTENSION_SETTINGS:{area:"EVENTS",displayText:{id:"Open extension settings"}}}},307:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(4);const r=e=>{const t=a.useRef(null),n=a.useRef({clientX:0,clientY:0}),r=a.useCallback(()=>{t.current&&clearTimeout(t.current)},[]);a.useEffect(()=>(document.addEventListener("scroll",r,{capture:!0}),()=>{r(),document.removeEventListener("scroll",r,{capture:!0})}),[r]);return{onTouchStart:a.useCallback(a=>{t.current&&clearTimeout(t.current),n.current=(e=>e.touches&&e.touches.length>0?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:0,clientY:0})(a),t.current=setTimeout(()=>{e(n.current)},600)},[e]),onTouchMove:a.useCallback(e=>{if(1!==e.touches.length)return void r();const t=e.touches[0],a=n.current,o=a.clientX,i=a.clientY;(Math.abs(t.clientX-o)>10||Math.abs(t.clientY-i)>10)&&r()},[n,r]),onTouchEnd:r}}},311:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(4);const r=e.gd,o=({serializableObject:e,useProjectToUnserialize:t,onCancel:n})=>{const o=a.useRef(null);a.useEffect(()=>(o.current&&(o.current.delete(),o.current=null),o.current=new r.SerializerElement,e.serializeTo(o.current),()=>{o.current&&(o.current.delete(),o.current=null)}),[e]);return a.useCallback(()=>{const a=o.current;a&&(t?e.unserializeFrom(t,a):e.unserializeFrom(a),n())},[e,t,n])}}).call(this,n(1))},316:function(e,t,n){"use strict";var a=n(77),r=n(136),o=n(4),i=n(1140),s=n(2384),l=n(364);const c={color:{width:"36px",height:"14px",borderRadius:"2px",textAlign:"center",fontSize:"10px"},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{zIndex:n.n(l).a.tooltip+100}};class u extends o.Component{constructor(...e){super(...e),this._swatch=o.createRef(),this.state={displayColorPicker:!1},this.open=()=>{this.setState({displayColorPicker:!0})},this.handleClick=()=>{this.setState({displayColorPicker:!this.state.displayColorPicker})},this.handleClose=()=>{this.setState({displayColorPicker:!1})}}render(){const e=this.props,t=e.style,n=e.color,l=Object(r.a)(e,["style","color"]),u=n||{r:200,g:200,b:200,a:1};return o.createElement("div",{style:t},o.createElement("div",{style:c.swatch,onClick:this.handleClick,ref:this._swatch},o.createElement("div",{style:Object(a.a)(Object(a.a)({},c.color),{},{background:"rgba(".concat(u.r,", ").concat(u.g,", ").concat(u.b,", ").concat(u.a||1,")")})},n?null:"?")),this.state.displayColorPicker&&this._swatch.current?o.createElement(s.a,{open:!0,onClose:this.handleClose,anchorEl:this._swatch.current,style:c.popover},o.createElement(i.SketchPicker,Object.assign({color:u},l))):null)}}t.a=u},321:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return l}));var a=n(86);const r=e=>Object(a.mapFor)(0,e.getLayoutsCount(),t=>e.getLayoutAt(t)),o=e=>Object(a.mapFor)(0,e.getExternalEventsCount(),t=>e.getExternalEventsAt(t)),i=e=>Object(a.mapFor)(0,e.getExternalLayoutsCount(),t=>e.getExternalLayoutAt(t)),s=e=>Object(a.mapFor)(0,e.getEventsFunctionsExtensionsCount(),t=>e.getEventsFunctionsExtensionAt(t)),l=(e,t)=>{if(!t)return e;const n=t.toLowerCase();return e.filter(e=>-1!==e.getName().toLowerCase().indexOf(n))}},326:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(77),r=n(1615),o=n.n(r),i=n(1619),s=n.n(i);const l=e=>{const t={};return e.forEach(e=>{let n=s()(e.fullGroupName.split("/"));n.length||(n=[""]),o()(t,n,t=>{const n=t||{};return Object(a.a)(Object(a.a)({},n),{},{[e.displayedName]:e})})}),t},c=(e,t)=>{if(!t)return null;const n=Object.keys(e);for(var a=0;a<n.length;++a){const r=n[a],o=e[r];if(!o)return null;if("string"===typeof o.type){if(o.type===t)return[]}else{const e=c(o,t);if(e)return[r,...e]}}return null}},327:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));const a=e.gd,r=(e,t)=>e.filter(e=>{if(!e.isPrivate)return!0;const n=e.scope,r=n.behaviorMetadata,o=n.extension,i=t.eventsBasedBehavior,s=t.eventsFunctionsExtension;return!!(r&&i&&s&&(l=s.getName(),c=i.getName(),l+a.PlatformExtension.getNamespaceSeparator()+c===r.getName()))||!(r||!s||s.getName()!==o.getName());var l,c})}).call(this,n(1))},328:function(e,t,n){"use strict";var a=n(4),r=n(128);const o={oneColumnContainer:{display:"flex",flexDirection:"column"},twoColumnsContainer:{display:"flex"}};t.a=e=>"small"===e.windowWidth?a.createElement("div",{style:o.oneColumnContainer,className:e.className},e.renderConditionsList({style:{},className:"".concat(r.c," ").concat(r.s)}),e.renderActionsList({style:{},className:"".concat(r.a," ").concat(r.s)})):a.createElement("div",{style:o.twoColumnsContainer,className:e.className},e.renderConditionsList({style:{width:"calc(35vw - ".concat(e.leftIndentWidth,"px)")},className:r.c}),e.renderActionsList({className:r.a}))},334:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(77),r=n(71),o=n(95),i=n(535),s=n(4),l=(n(114),n(73)),c=n(190),u=n(1852),d=n.n(u),h=n(1853),m=n.n(h),p=n(1854),g=n.n(p),b=n(266),f=n(80),E=n(201);const v={imagePreviewContainer:{position:"relative",display:"inline-block",width:"100%",border:"#AAAAAA 1px solid",overflow:"scroll",height:200,background:'url("res/transparentback.png") repeat',touchAction:"none"},spriteThumbnailImage:{position:"relative",pointerEvents:"none",margin:50},box:{border:"1px solid black"}};class y extends s.Component{constructor(...e){super(...e),this.state=Object(a.a)({errored:!1,imageWidth:null,imageHeight:null,imageZoomFactor:1},this._loadFrom(this.props)),this._handleImageError=()=>{this.setState({errored:!0})},this._handleImageLoaded=e=>{const t=e.target,n=t?t.naturalWidth||t.clientWidth:0,a=t?t.naturalHeight||t.clientHeight:0;this.setState({imageWidth:n,imageHeight:a}),this.props.onSize&&this.props.onSize(n,a)},this._zoomBy=e=>{this._zoomTo(this.state.imageZoomFactor+e)},this._zoomTo=e=>{this.setState(t=>({imageZoomFactor:Math.min(10,Math.max(.1,e))}))}}componentWillReceiveProps(e){e.resourceName===this.props.resourceName&&e.project===this.props.project&&e.resourcesLoader===this.props.resourcesLoader&&e.resourcePath===this.props.resourcePath||this.setState(this._loadFrom(e))}_loadFrom(e){const t=e.project,n=e.resourceName;return{errored:!1,imageSource:e.resourcesLoader.getResourceFullUrl(t,n,{})}}render(){return s.createElement(i.a,{bounds:!0},({contentRect:e,measureRef:t})=>{const n=e.bounds.width,i=this.props,u=i.resourceName,h=i.renderOverlay,p=this.state,y=p.imageHeight,C=p.imageWidth,x=p.imageSource,j=p.imageZoomFactor,O=!!C&&!!y&&!this.state.errored,T=Math.max(0,n/2-(C||0)*j/2-50),S=Object(a.a)(Object(a.a)({},v.spriteThumbnailImage),{},{top:0,left:T,width:C?C*j:void 0,height:y?y*j:void 0,visibility:O?void 0:"hidden"}),w={position:"absolute",top:50,left:T+50,width:C?C*j:void 0,height:y?y*j:void 0,visibility:O?void 0:"hidden"};return s.createElement(l.a,{expand:!0,noMargin:!0},s.createElement(c.b,null,s.createElement(o.a,{onClick:()=>this._zoomBy(.2),tooltip:{id:"Zoom in (you can also use Ctrl + Mouse wheel)"}},s.createElement(d.a,null)),s.createElement(o.a,{onClick:()=>this._zoomBy(-.2),tooltip:{id:"Zoom out (you can also use Ctrl + Mouse wheel)"}},s.createElement(m.a,null)),s.createElement(o.a,{onClick:()=>this._zoomTo(1),tooltip:{id:"Restore original size"}},s.createElement(g.a,null))),s.createElement("div",{dir:"ltr",style:v.imagePreviewContainer,ref:t,onWheel:e=>{const t=e.deltaY;(e.metaKey||e.ctrlKey)&&(this._zoomBy(-t/500),e.preventDefault(),e.stopPropagation())}},!!this.state.errored&&s.createElement(b.a,null,s.createElement(f.a,null,s.createElement(r.Trans,{id:"Unable to load the image"}))),!this.state.errored&&s.createElement(E.a,{style:S,alt:u,src:x,onError:this._handleImageError,onLoad:this._handleImageLoaded}),O&&h&&s.createElement("div",{style:Object(a.a)(Object(a.a)({},w),v.box)}),O&&h&&s.createElement("div",{style:w},h({imageWidth:C||0,imageHeight:y||0,imageZoomFactor:j}))))})}}},335:function(e,t,n){"use strict";(function(e){n.d(t,"k",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return E})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return y}));var a=n(86),r=n(571),o=n.n(r);const i=e.gd,s=(e,t,n,a)=>{const r=t<e.getAnimationsCount(),o=r?e.getAnimation(t):null,i=!!o&&n<o.getDirectionsCount(),s=i?o.getDirection(n):null,l=!!s&&a<s.getSpritesCount(),c=l?s.getSprite(a):null;return{hasValidAnimation:r,animation:o,hasValidDirection:i,direction:s,hasValidSprite:l,sprite:c}},l=(e,t)=>{t.setX(e.getX()),t.setY(e.getY()),t.setName(e.getName())},c=(e,t)=>{e.ptr!==t.ptr&&(l(e.getCenter(),t.getCenter()),l(e.getOrigin(),t.getOrigin()),t.setDefaultCenterPoint(e.isDefaultCenterPoint()),t.getAllNonDefaultPoints().clear(),Object(a.mapVector)(e.getAllNonDefaultPoints(),e=>{t.addPoint(e)}))},u=(e,t)=>{Object(a.mapFor)(0,t.getDirectionsCount(),n=>{const r=t.getDirection(n);Object(a.mapFor)(0,r.getSpritesCount(),t=>{const n=r.getSprite(t);c(e,n)})})},d=(e,t)=>e.getX()===t.getX()&&e.getY()===t.getY()&&e.getName()===t.getName(),h=(e,t)=>o()(Object(a.mapFor)(0,t.getSpritesCount(),n=>{const r=t.getSprite(n);return s=e,!!d((i=r).getCenter(),s.getCenter())&&!!d(i.getOrigin(),s.getOrigin())&&i.isDefaultCenterPoint()===s.isDefaultCenterPoint()&&i.getAllNonDefaultPoints().size()===s.getAllNonDefaultPoints().size()&&o()(Object(a.mapVector)(i.getAllNonDefaultPoints(),e=>!!s.hasPoint(e.getName())&&d(e,s.getPoint(e.getName()))));var i,s})),m=(e,t)=>o()(Object(a.mapFor)(0,t.getDirectionsCount(),n=>{const a=t.getDirection(n);return h(e,a)})),p=(e,t)=>{e.ptr!==t.ptr&&(t.setCollisionMaskAutomatic(e.isCollisionMaskAutomatic()),t.getCustomCollisionMask().clear(),Object(a.mapVector)(e.getCustomCollisionMask(),e=>{t.getCustomCollisionMask().push_back(e)}))},g=(e,t)=>{Object(a.mapFor)(0,t.getDirectionsCount(),n=>{const r=t.getDirection(n);Object(a.mapFor)(0,r.getSpritesCount(),t=>{const n=r.getSprite(t);p(e,n)})})},b=(e,t)=>{if(e.isCollisionMaskAutomatic()!==t.isCollisionMaskAutomatic())return!1;if(e.isCollisionMaskAutomatic()&&t.isCollisionMaskAutomatic())return!0;const n=e.getCustomCollisionMask(),r=t.getCustomCollisionMask();return n.size()===r.size()&&o()(Object(a.mapVector)(n,(e,t)=>((e,t)=>{const n=e.getVertices(),r=t.getVertices();return n.size()===r.size()&&o()(Object(a.mapVector)(n,(e,t)=>{const n=r.at(t);return e.get_x()===n.get_x()&&e.get_y()===n.get_y()}))})(e,r.at(t))))},f=(e,t)=>o()(Object(a.mapFor)(0,t.getSpritesCount(),n=>{const a=t.getSprite(n);return b(a,e)})),E=(e,t)=>o()(Object(a.mapFor)(0,t.getDirectionsCount(),n=>{const a=t.getDirection(n);return f(e,a)})),v=(e,t)=>{Object(a.mapFor)(0,e.getDirectionsCount(),n=>{const r=e.getDirection(n),o=Object(a.mapFor)(0,r.getSpritesCount(),e=>{const n=r.getSprite(e);return!!t[n.ptr]});for(let e=r.getSpritesCount()-1;e>=0;e--)o[e]&&r.removeSprite(e)})},y=(e,t)=>{Object(a.mapFor)(0,e.getDirectionsCount(),n=>{const r=e.getDirection(n),o=Object(a.mapFor)(0,r.getSpritesCount(),e=>{const n=r.getSprite(e);return!!t[n.ptr]});for(let e=r.getSpritesCount()-1;e>=0;e--)if(o[e]){const t=r.getSprite(e),n=new i.Sprite;n.setImageName(t.getImageName()),c(t,n),p(t,n),r.addSprite(n),r.moveSprite(r.getSpritesCount()-1,e)}})}}).call(this,n(1))},336:function(e,t,n){"use strict";t.a={handleColumn:{width:24,paddingLeft:8,paddingRight:0},coordinateColumn:{width:48},toolColumn:{width:48}}},340:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(71),i=n(2305),s=n(2387),l=n(6),c=n.n(l);const u=c()("electron");class d{buildFromTemplate(e){this.menuTemplate=e}showMenu(e){if(!u)return;const t=u.remote.Menu,n=u.remote.getCurrentWindow();this.menu=t.buildFromTemplate(this.menuTemplate),this.menu.popup({window:n,x:Math.round(e.left),y:Math.round(e.top+e.height),async:!0})}getMenuProps(){return{open:!1}}}var h=n(87),m=n(2382),p=n(997),g=n.n(p),b=n(998),f=n.n(b),E=n(999),v=n.n(E),y=n(2389),C=n(2390),x=n(2388);const j=({item:e,buildFromTemplate:t})=>{const n=Object(a.useState)(!1),o=Object(h.a)(n,2),l=o[0],c=o[1],u=Object(a.useRef)(null),d=Object(a.useCallback)(e=>{u.current=e},[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{dense:!0,key:e.label,disabled:!1===e.enabled,onClick:t=>{!1!==e.enabled&&(u.current||d(t.currentTarget),c(!l))}},e.label,r.a.createElement(g.a,null)),r.a.createElement(i.a,{open:l,anchorEl:u.current,onClose:()=>c(!1),TransitionComponent:s.a},t(e.submenu)))};class O{constructor({onClose:e}){this._onClose=e}buildFromTemplate(e){return e.map((e,t)=>!1===e.visible?null:"separator"===e.type?r.a.createElement(x.a,{key:"separator"+t}):"checkbox"===e.type?r.a.createElement(m.a,{dense:!0,key:"checkbox"+e.label,checked:e.checked,disabled:!1===e.enabled,onClick:()=>{!1!==e.enabled&&(e.click&&e.click(),this._onClose())}},r.a.createElement(y.a,null,e.checked?r.a.createElement(f.a,null):r.a.createElement(v.a,null)),r.a.createElement(C.a,{primary:e.label})):e.submenu?r.a.createElement(j,{key:"submenu"+e.label,item:e,buildFromTemplate:e=>this.buildFromTemplate(e)}):r.a.createElement(m.a,{dense:!0,key:"item"+e.label,disabled:!1===e.enabled,onClick:()=>{!1!==e.enabled&&e.click&&(e.click(),this._onClose())}},e.label)).filter(Boolean)}showMenu(){}getMenuProps(){return{}}}const T=c()("electron");class S extends r.a.Component{constructor(e){super(e),this.open=(e,t)=>{this.setState({anchorX:e,anchorY:t},()=>{this.setState({open:!0})})},this._onClose=()=>{this.setState({open:!1})},this.state={open:!1,anchorX:0,anchorY:0},this.menuImplementation=new O({onClose:this._onClose})}render(){return this.state.open?r.a.createElement(o.I18n,null,({i18n:e})=>r.a.createElement(i.a,Object.assign({open:this.state.open,anchorPosition:{left:this.state.anchorX,top:this.state.anchorY},anchorReference:"anchorPosition",onClose:this._onClose,TransitionComponent:s.a},this.menuImplementation.getMenuProps()),this.menuImplementation.buildFromTemplate(this.props.buildMenuTemplate(e)))):null}}class w extends r.a.Component{constructor(e){super(e),this.open=(e,t)=>{this.menuImplementation.buildFromTemplate(this.props.buildMenuTemplate(this.props.i18n)),this.menuImplementation.showMenu({left:e||0,top:t||0,width:0,height:0})},this.menuImplementation=new d}render(){return null}}const k=r.a.forwardRef((e,t)=>{const n=r.a.useRef(null);return r.a.useImperativeHandle(t,()=>({open:(e,t)=>{n.current&&n.current.open(e,t)}})),r.a.createElement(o.I18n,null,({i18n:t})=>r.a.createElement(w,Object.assign({},e,{i18n:t,ref:n})))});t.a=T?k:S},351:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(77),r=n(137);const o={width:200,height:32,closeButtonWidth:24};function i(e,t){return{light:Object(r.e)(e,.05),main:e,dark:Object(r.a)(e,.05),contrastText:t}}function s(e,t,n,r=""){return{gdevelopTheme:Object(a.a)(Object(a.a)({palette:{canvasColor:e.ThemeSurfaceCanvasBackgroundColor},message:{warning:e.ThemeMessageWarningColor,error:e.ThemeMessageErrorColor,valid:e.ThemeMessageValidColor},toolbar:{backgroundColor:e.ThemeSurfaceWindowBackgroundColor,separatorColor:e.ThemeToolbarSeparatorColor},closableTabs:Object(a.a)({fontFamily:e.GdevelopFontFamily,containerBackgroundColor:e.ThemeSurfaceWindowBackgroundColor,backgroundColor:e.ThemeClosableTabsDefaultBackgroundColor,textColor:e.ThemeClosableTabsDefaultColor,selectedBackgroundColor:e.ThemeClosableTabsSelectedBackgroundColor,selectedTextColor:e.ThemeClosableTabsSelectedColor},o),imageThumbnail:{selectedBorderColor:e.ThemeSelectionBackgroundColor},list:{itemsBackgroundColor:e.ThemeSurfaceAlternateCanvasBackgroundColor},searchBar:{backgroundColor:e.ThemeSurfaceAlternateCanvasBackgroundColor},listItem:{groupBackgroundColor:e.ThemeSurfaceWindowBackgroundColor,groupTextColor:e.ThemeListItemGroupTextColor,deprecatedGroupTextColor:e.ThemeListItemGroupTextDeprecatedColor,separatorColor:e.ThemeListItemSeparatorColor,selectedBackgroundColor:e.ThemeSelectionBackgroundColor,selectedTextColor:e.ThemeSelectionColor,rightIconColor:e.ThemeRightIconColor,selectedRightIconColor:e.ThemeRightIconColor,errorTextColor:e.ThemeListItemErrorColor,warningTextColor:e.ThemeListItemWarningColor,selectedErrorBackgroundColor:e.ThemeListItemErrorColor,selectedWarningBackgroundColor:e.ThemeListItemWarningColor},emptyMessage:{shadowColor:e.ThemeMessageEmptyShadowColor}},(h=t,{mosaicRootClassName:h,eventsSheetRootClassName:h,tableRootClassName:h,markdownRootClassName:h})),{},{logo:{src:"res/GD-logo-big.png"},gdevelopIconsCSSFilter:r}),muiThemeOptions:{typography:{fontFamily:e.GdevelopFontFamily},palette:{type:n,common:{black:e.ThemePaletteBlack,white:e.ThemePaletteWhite},background:{paper:e.ThemeSurfaceCanvasBackgroundColor,default:e.ThemeSurfaceWindowBackgroundColor},primary:i(e.ThemePrimaryColor,e.ThemePrimaryTextContrastColor),secondary:i(e.ThemeSecondaryColor,e.ThemeSecondaryTextContrastColor),text:{primary:e.ThemeTextDefaultColor,secondary:e.ThemeTextSecondaryColor,disabled:e.ThemeTextDisabledColor,hint:e.ThemeTextSecondaryColor}},overrides:(s=e.ThemeTextContrastColor,l=e.TabsBackgroundColor,c=e.InputBorderBottomColor,u=e.MosaicToolbarBackgroundColor,d=e.ThemeTextDefaultColor,{MuiTypography:{h6:{fontWeight:400}},MuiInput:{input:{padding:0,paddingBottom:3},underline:{"&:before":{borderBottom:"1px solid ".concat(c)}}},MuiAppBar:{colorPrimary:{backgroundColor:u}},MuiIconButton:{root:{color:d}},MuiListItemIcon:{root:{color:d}},MuiListItem:{secondaryAction:{paddingRight:40},gutters:{paddingRight:8}},MuiListItemSecondaryAction:{root:{right:8}},MuiTabs:{root:{backgroundColor:l,minHeight:32}},MuiTab:{textColorPrimary:{color:s+" !important"},root:{paddingTop:0,paddingBottom:0,minHeight:32}},MuiButtonBase:{root:{cursor:"default"}},MuiTableCell:{sizeSmall:{paddingTop:0,paddingBottom:0}},MuiDialogTitle:{root:{padding:8}},MuiDialogContent:{root:{padding:8,"&:first-child":{paddingTop:8}}},MuiFormControl:{marginDense:{marginTop:0,marginBottom:0}},MuiCheckbox:{root:{marginTop:-9,marginBottom:-9}},MuiButton:{root:{borderRadius:0,fontWeight:400}}})}};var s,l,c,u,d,h}},356:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(77),r=n(4);const o=r.createContext({hasUnsavedChanges:!1,sealUnsavedChanges:()=>{},triggerUnsavedChanges:()=>{}});t.b=o;class i extends r.Component{constructor(...e){super(...e),this.state={hasUnsavedChanges:!1},this.triggerUnsavedChanges=()=>{this.state.hasUnsavedChanges||this.setState({hasUnsavedChanges:!0})},this.sealUnsavedChanges=()=>{this.state.hasUnsavedChanges&&this.setState({hasUnsavedChanges:!1})}}render(){const e=Object(a.a)(Object(a.a)({},this.state),{},{triggerUnsavedChanges:this.triggerUnsavedChanges,sealUnsavedChanges:this.sealUnsavedChanges});return r.createElement(o.Provider,{value:e},this.props.children)}}},360:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(1121),i=n.n(o),s=n(214);const l={handle:{cursor:"move"},disabledHandle:{opacity:.4},handleColor:"#DDD"},c=Object(s.SortableHandle)(e=>r.a.createElement("span",{style:e.disabled?l.disabledHandle:l.handle},r.a.createElement(i.a,{htmlColor:l.handleColor})));t.a=c},380:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var a=n(170),r=n.n(a),o=n(24);const i=()=>r.a.get("".concat(o.f.baseUrl,"/showcased-game")).then(e=>e.data).then(({gamesShowcaseUrl:e,filtersUrl:t})=>{if(!e||!t)throw new Error("Unexpected response from the resource endpoint.");return Promise.all([r.a.get(e).then(e=>e.data),r.a.get(t).then(e=>e.data)]).then(([e,t])=>({showcasedGames:e,filters:t}))}),s=(e,t,{gameId:n,gameName:a,authorName:i})=>e().then(e=>r.a.post("".concat(o.f.baseUrl,"/game/").concat(n),{gameName:a,authorName:i},{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data),l=(e,t,{gameId:n,gameName:a,authorName:i})=>e().then(e=>r.a.patch("".concat(o.f.baseUrl,"/game/").concat(n),{gameName:a,authorName:i},{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data),c=(e,t,n)=>e().then(e=>r.a.get("".concat(o.f.baseUrl,"/game/").concat(n),{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data),u=(e,t,n)=>e().then(e=>r.a.delete("".concat(o.f.baseUrl,"/game/").concat(n),{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data),d=(e,t)=>e().then(e=>r.a.get("".concat(o.f.baseUrl,"/game"),{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data)},382:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));var a=n(77),r=n(170),o=n.n(r),i=n(24),s=n(707),l=n.n(s);const c=e=>Array.isArray(e.tags)?e:Object(a.a)(Object(a.a)({},e),{},{tags:e.tags.split(",").map(e=>e.trim().toLowerCase())}),u=(e,t)=>!t.gdevelopVersion||l()(e,t.gdevelopVersion,{includePrerelease:!0}),d=e=>{const t=e.trim();return 0===t.indexOf("https://")?t:"".concat(i.d.baseUrl,"/").concat(t)},h=()=>o.a.get("".concat(i.d.baseUrl,"/extensions-registry.json")).then(e=>{const t=e.data;return Object(a.a)(Object(a.a)({},t),{},{extensionShortHeaders:t.extensionShortHeaders.map(c)})}),m=e=>o.a.get(d(e.headerUrl)).then(e=>{const t=e.data;return c(t)}),p=e=>o.a.get(d(e.url)).then(e=>{const t=e.data;return c(t)})},384:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(87),r=n(322),o=n(4),i=n(1395),s=n.n(i),l=n(1400),c=n.n(l);const u=(e,t,n)=>{if(!e)return null;const a=performance.now(),o=e.filter(({tags:e})=>{if(!t)return!0;if(!(t.node.isTagContainerOnly||e.some(e=>e===t.node.name)))return!1;var n,a=Object(r.a)(t.parentNodes);try{for(a.s();!(n=a.n()).done;){const t=n.value;if(t.isTagContainerOnly)return!0;if(!e.some(e=>e===t.name))return!1}}catch(o){a.e(o)}finally{a.f()}return!0}).filter(({tags:e})=>0===n.size||e.some(e=>n.has(e))),i=performance.now()-a;return console.info("Filtered items by category/filters in ".concat(i.toFixed(3),"ms.")),o},d=(e,t,n,r,i)=>{const l=o.useRef(null),d=o.useState(null),h=Object(a.a)(d,2),m=h[0],p=h[1],g=o.useMemo(()=>e?s()(Object.keys(e).map(t=>e[t])):null,[e]);o.useEffect(()=>{if(!e)return;const n=performance.now();l.current&&(l.current.terminate(),l.current=null);try{const a=new c.a,r=Object.keys(e);r.forEach(n=>{const r=e[n];a.indexDocument(n,t(r))});const o=performance.now()-n;console.info("Indexed ".concat(r.length," items in ").concat(o.toFixed(3),"ms.")),l.current=a}catch(a){console.error("Error while indexing items: ",a)}},[e,t]);const b=l.current;return o.useEffect(()=>{let t=!1;if(n){if(!e||!b)return void console.info("Search for items skipped because items are not ready - will be retried when ready");const a=performance.now();b.search(n).then(n=>{if(t)return void console.info("Discarding search results as a new search was launched.");const o=n.map(t=>e[t]).filter(Boolean),s=performance.now()-a;console.info("Found ".concat(o.length," items in ").concat(s.toFixed(3),"ms.")),p(u(o,r,i))})}else p(u(g,r,i));return()=>{t=!0}},[g,e,n,r,i,b]),m}},385:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u}));var a=n(170),r=n.n(a),o=n(24);n(707);const i=()=>r.a.get("".concat(o.b.baseUrl,"/asset")).then(e=>e.data).then(({assetShortHeadersUrl:e,filtersUrl:t})=>{if(!e||!t)throw new Error("Unexpected response from the resource endpoint.");return Promise.all([r.a.get(e).then(e=>e.data),r.a.get(t).then(e=>e.data)]).then(([e,t])=>({assetShortHeaders:e,filters:t}))}),s=e=>r.a.get("".concat(o.b.baseUrl,"/asset/").concat(e.id)).then(e=>e.data).then(({assetUrl:e})=>{if(!e)throw new Error("Unexpected response from the asset endpoint.");return r.a.get(e)}).then(e=>e.data),l=()=>r.a.get("".concat(o.b.baseUrl,"/resource")).then(e=>e.data).then(({resourcesUrl:e,filtersUrl:t})=>{if(!e||!t)throw new Error("Unexpected response from the resource endpoint.");return Promise.all([r.a.get(e).then(e=>e.data),r.a.get(t).then(e=>e.data)]).then(([e,t])=>({resources:e,filters:t}))}),c=()=>r.a.get("".concat(o.b.baseUrl,"/author")).then(e=>e.data).then(({authorsUrl:e})=>{if(!e)throw new Error("Unexpected response from author endpoint.");return r.a.get(e)}).then(e=>e.data),u=()=>r.a.get("".concat(o.b.baseUrl,"/license")).then(e=>e.data).then(({licensesUrl:e})=>{if(!e)throw new Error("Unexpected response from license endpoint.");return r.a.get(e)}).then(e=>e.data)},393:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(4),r=n(740),o=n(741);const i=a.createContext(new r.a),s=e=>{const t=Object(o.a)(()=>new r.a);return a.createElement(i.Provider,{value:t},e.children)};t.b=i},398:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return p})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return b})),n.d(t,"k",(function(){return f})),n.d(t,"j",(function(){return E})),n.d(t,"l",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"o",(function(){return C})),n.d(t,"p",(function(){return x}));var a=n(77),r=n(322),o=n(361),i=n.n(o);const s=()=>({selectedInstructions:{},selectedEvents:{},selectedInstructionsLists:{}}),l=e=>i()(e.selectedEvents).map(e=>e.event),c=e=>i()(e.selectedEvents),u=e=>i()(e.selectedInstructions).map(e=>e.instruction),d=e=>i()(e.selectedInstructions),h=e=>i()(e.selectedInstructionsLists),m=(e,t)=>!!e.selectedEvents[t.ptr],p=(e,t)=>!!e.selectedInstructions[t.ptr],g=e=>!!Object.keys(e.selectedEvents).length,b=e=>!!Object.keys(e.selectedInstructions).length,f=e=>{var t,n=Object(r.a)(d(e));try{for(n.s();!(t=n.n()).done;){if(t.value.isCondition)return!0}}catch(a){n.e(a)}finally{n.f()}return!1},E=e=>!!Object.keys(e.selectedInstructionsLists).length,v=e=>b(e)||E(e)||g(e),y=()=>s(),C=(e,t,n=!1)=>{const r=t.event;if(m(e,r))return e;const o=n?e:y();return Object(a.a)(Object(a.a)({},o),{},{selectedEvents:Object(a.a)(Object(a.a)({},o.selectedEvents),{},{[r.ptr]:t})})},x=(e,t,n=!1)=>{const r=t.instruction;if(p(e,r))return e;const o=n?e:y();return Object(a.a)(Object(a.a)({},o),{},{selectedInstructions:Object(a.a)(Object(a.a)({},o.selectedInstructions),{},{[r.ptr]:t})})}},400:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return P}));var a=n(77),r=n(4),o=n(23),i=n.n(o),s=n(2379),l=n(364),c=n.n(l),u=n(1625),d=n.n(u),h=n(83),m=n(102),p=n(86),g=n(1614),b=n(2314),f=n(532),E=n(1620),v=n(276),y=n.n(v),C=n(2411),x=n(2385),j=n(88),O=n(1622),T=n(1623),S=n(1624),w=n(144),k=n(126);const N=e.gd,_={container:{display:"flex",alignItems:"flex-start"},textFieldContainer:{flex:1,minWidth:300},textFieldAndHightlightContainer:{position:"relative"},expressionSelectorPopoverContentSmall:{display:"flex",maxHeight:250},expressionSelectorPopoverContent:{display:"flex",maxHeight:350},input:{fontFamily:'"Lucida Console", Monaco, monospace',lineHeight:1.4},backgroundHighlightingWithFloatingLabel:{marginTop:22,paddingLeft:12,paddingRight:12},backgroundHighlightingInline:{marginTop:0,paddingLeft:0,paddingRight:0},backgroundHighlightingInlineWithFloatingLabel:{marginTop:22,paddingLeft:0,paddingRight:0}};class P extends r.Component{constructor(...e){super(...e),this._field=null,this._fieldElement=null,this._inputElement=null,this.state={popoverOpen:!1,parametersDialogOpen:!1,selectedExpressionInfo:null,validatedValue:this.props.value,errorText:null,errorHighlights:[],autocompletions:Object(T.a)()},this.focus=()=>{this._field&&(this._field.focus(),this._enqueueValidation())},this._openExpressionPopover=()=>{this.setState({popoverOpen:!0})},this._handleFocus=e=>{e.preventDefault()},this._handleRequestClose=()=>{this.setState({popoverOpen:!1})},this._handleChange=e=>{this.setState({validatedValue:e},()=>this._enqueueValidation())},this._handleBlur=e=>{const t=e.currentTarget.value;this.props.onChange&&this.props.onChange(t),this.setState({validatedValue:t},()=>{this._enqueueValidation.cancel(),this._doValidation(),this.setState({autocompletions:Object(T.a)()})})},this._handleExpressionChosen=e=>{this.setState({popoverOpen:!1,parametersDialogOpen:!0,selectedExpressionInfo:e})},this.insertExpression=(e,t)=>{if(!this._inputElement)return;const n=this._inputElement.selectionStart,a=Object(f.a)(e,t),r=this.props.value,o=r.substr(0,n)+a+r.substr(n);this.props.onChange&&this.props.onChange(o),this.setState({validatedValue:o},()=>this._enqueueValidation()),setTimeout(()=>{this._field&&this._field.focus(),setTimeout(()=>{this._inputElement&&this._inputElement.setSelectionRange(n,n+a.length)},5)},5)},this._insertAutocompletion=e=>{if(e.isExact)return;const t=this._inputElement?this._inputElement.selectionStart:0,n=this.state.validatedValue,a=Object(O.b)({expression:n,caretLocation:t},{completion:e.completion,addParenthesis:e.addParenthesis,addDot:e.addDot,addNamespaceSeparator:e.addNamespaceSeparator,addClosingParenthesis:e.addClosingParenthesis}),r=a.expression,o=a.caretLocation;this._field&&this._field.forceSetValue(r),this.props.onChange&&this.props.onChange(r),this.setState({validatedValue:r},()=>{this._enqueueValidation(),this._field&&this._field.forceSetSelection(o,o)})},this._enqueueValidation=y()(()=>{this._doValidation()},250),this._doValidation=()=>{const e=this.props,t=e.project,n=e.globalObjectsContainer,a=e.objectsContainer,r=e.expressionType,o=e.scope;if(!t)return null;const i=new N.ExpressionParser2(N.JsPlatform.get(),n,a),s=this.state.validatedValue,l=i.parseExpression(r,s).get(),c=(e=>{const t=new N.ExpressionValidator;e.visit(t);const n=t.getErrors(),a=Object(p.mapVector)(n,e=>({begin:e.getStartPosition(),end:e.getEndPosition()+1,message:e.getMessage(),type:"error"})),r=Math.max(0,a.length-10),o=a.length>1,i=(r>0?a.slice(0,10):a).map((e,t)=>(o?"[".concat(t+1,"] "):"")+e.message).join(" ");return t.delete(),{errorText:i,errorHighlights:a}})(l),u=c.errorText,d=c.errorHighlights,h=this._inputElement?this._inputElement.selectionStart:0,m=N.ExpressionCompletionFinder.getCompletionDescriptionsFor(l,h-1),g=Object(O.a)({gd:N,globalObjectsContainer:n,objectsContainer:a,scope:o},m);i.delete(),this.setState(e=>({errorText:u,errorHighlights:d,autocompletions:Object(T.e)(e.autocompletions,g)}))}}componentDidMount(){if(this._field){const e=i.a.findDOMNode(this._field);e instanceof Element&&(this._fieldElement=e),this._inputElement=this._field?this._field.getInputNode():null}}render(){const e=this.props,t=e.value,n=e.expressionType,o=e.parameterMetadata,i=e.project,l=e.scope,u=e.globalObjectsContainer,p=e.objectsContainer,f=e.parameterRenderingService,v=o?o.getDescription():this.props.isInline?void 0:"-",y=o?o.getLongDescription():void 0,O={width:this._fieldElement?this._fieldElement.clientWidth:"auto",marginLeft:-5,zIndex:c.a.tooltip+100},N=this.props.isInline?v?_.backgroundHighlightingInlineWithFloatingLabel:_.backgroundHighlightingInline:_.backgroundHighlightingWithFloatingLabel;return r.createElement(r.Fragment,null,r.createElement(j.c,{margin:this.props.isInline?"none":"dense",renderTextField:()=>r.createElement("div",{style:_.textFieldContainer},r.createElement("div",{style:_.textFieldAndHightlightContainer},r.createElement(E.a,{value:this.state.validatedValue,style:Object(a.a)(Object(a.a)({},_.input),N),highlights:this.state.errorHighlights}),r.createElement(m.a,{margin:this.props.isInline?"none":"dense",value:t,floatingLabelText:v,helperMarkdownText:y,hintText:"string"===n?'""':void 0,inputStyle:_.input,onChange:this._handleChange,onBlur:this._handleBlur,ref:e=>this._field=e,onFocus:this._handleFocus,errorText:this.state.errorText,onClick:()=>this._enqueueValidation(),onKeyDown:e=>{const t=Object(T.d)(this.state.autocompletions,{event:e,onUpdateAutocompletions:this._enqueueValidation,onInsertAutocompletion:this._insertAutocompletion});if(this.setState({autocompletions:t}),Object(k.b)(e)){const t=e.currentTarget.value;this.props.onChange&&this.props.onChange(t)}},multiline:!0,fullWidth:!0})),this._inputElement&&this.state.popoverOpen&&r.createElement(C.a,{onClickAway:this._handleRequestClose},r.createElement(s.a,{style:O,open:this.state.popoverOpen,anchorEl:this._inputElement,placement:"bottom",disablePortal:!0},r.createElement(w.a,null,e=>r.createElement(x.a,{style:"small"===e?_.expressionSelectorPopoverContentSmall:_.expressionSelectorPopoverContent},r.createElement(g.a,{selectedType:"",onChoose:(e,t)=>{this._handleExpressionChosen(t)},expressionType:n,focusOnMount:!0,scope:l}))))),this._inputElement&&!this.state.popoverOpen&&f&&r.createElement(S.a,{project:i,anchorEl:this._inputElement,expressionAutocompletions:Object(T.c)(this.state.autocompletions),remainingCount:Object(T.b)(this.state.autocompletions),selectedCompletionIndex:this.state.autocompletions.selectedCompletionIndex,onChoose:e=>{this._insertAutocompletion(e),setTimeout(this.focus,50)},parameterRenderingService:f})),renderButton:e=>r.createElement(r.Fragment,null,!this.props.isInline&&this.props.renderExtraButton&&this.props.renderExtraButton({style:e}),!this.props.isInline&&r.createElement(h.a,{icon:r.createElement(d.a,null),label:"string"===n?'"ABC"':"number"===n?"123":"",primary:!0,style:e,onClick:this._openExpressionPopover}))}),this.state.parametersDialogOpen&&this.state.selectedExpressionInfo&&r.createElement(b.a,{project:i,scope:l,globalObjectsContainer:u,objectsContainer:p,expressionMetadata:this.state.selectedExpressionInfo.metadata,onDone:e=>{this.state.selectedExpressionInfo&&(this.insertExpression(this.state.selectedExpressionInfo,e),this.setState({parametersDialogOpen:!1,selectedExpressionInfo:null}))},onRequestClose:()=>{this.setState({parametersDialogOpen:!1,selectedExpressionInfo:null})},parameterRenderingService:f}))}}}).call(this,n(1))},401:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(77),r=n(71),o=n(4),i=n(99),s=n(139),l=n(326),c=n(274),u=n(97),d=n(783),h=n(784),m=n(92),p=n(151),g=n(73),b=n(275);const f={searchBar:{backgroundColor:"transparent",flexShrink:0,zIndex:1}};class E extends o.PureComponent{constructor(...e){super(...e),this.state={searchText:"",searchResults:[]},this._scrollView=o.createRef(),this._selectedItem=o.createRef(),this.initialInstructionTypePath=Object(l.b)(this.props.instructionsInfoTree,this.props.selectedType),this.focus=()=>{this._searchBar&&this._searchBar.focus()}}componentDidMount(){this.props.focusOnMount&&Object(s.b)()&&this._searchBar&&this._searchBar.focus(),this._selectedItem.current&&this._scrollView.current&&this._scrollView.current.scrollTo(this._selectedItem.current)}render(){const e=this.props,t=e.selectedType,n=e.iconSize,l=e.instructionsInfoTree,E=e.onChoose,v=e.searchPlaceholderObjectName,y=e.searchPlaceholderIsCondition,C=e.useSubheaders,x=e.helpPagePath,j=e.style,O=this.state.searchText,T=O?Object(c.e)(this.props.instructionsInfo,{searchText:O}):[],S=!O||!!T.length,w=()=>{T.length&&E(T[0].type,T[0])};return o.createElement(u.a,null,e=>o.createElement("div",{style:Object(a.a)({backgroundColor:e.list.itemsBackgroundColor},j)},o.createElement(s.a,{value:O,onChange:e=>this.setState({searchText:e}),onRequestSearch:w,style:f.searchBar,placeholder:v?y?{id:"Search {searchPlaceholderObjectName} conditions",values:{searchPlaceholderObjectName:v}}:{id:"Search {searchPlaceholderObjectName} actions",values:{searchPlaceholderObjectName:v}}:void 0,helpPagePath:x,ref:e=>this._searchBar=e}),o.createElement(p.a,{ref:this._scrollView},S&&o.createElement(i.a,null,O?T.map(e=>Object(d.a)({instructionOrExpressionMetadata:e,iconSize:n,onClick:()=>E(e.type,e),selectedValue:Object(b.b)(t)})):Object(h.a)({instructionTreeNode:l,iconSize:n,onChoose:E,useSubheaders:C,selectedValue:Object(b.b)(t),initiallyOpenedPath:this.initialInstructionTypePath,selectedItemRef:this._selectedItem})),!S&&o.createElement(g.b,null,o.createElement(m.a,null,o.createElement(r.Trans,{id:"Nothing corresponding to your search. Try browsing the list instead."}))))))}}},402:function(e,t,n){"use strict";function a(e,t,n){let a=null;return t&&t.hasObjectNamed(n)?a=t.getObject(n):e.hasObjectNamed(n)&&(a=e.getObject(n)),a}n.d(t,"a",(function(){return a}))},403:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(113),i=n(124),s=n(5),l=n(83),c=n(792),u=n.n(c),d=n(1659),h=n.n(d);t.a=({tutorialHint:e})=>{const t=r.useContext(o.b),n=t.values,c=t.showTutorialHint;return n.hiddenTutorialHints[e.identifier]?null:r.createElement(a.I18n,null,({i18n:t})=>r.createElement(i.a,{kind:"info",children:t._(e.message),renderLeftIcon:()=>r.createElement("img",{alt:"",style:{maxWidth:128,maxHeight:128},src:e.iconSrc}),renderRightButton:()=>r.createElement(l.a,{icon:"video-tutorial"===e.kind?r.createElement(u.a,null):r.createElement(h.a,null),label:"video-tutorial"===e.kind?r.createElement(a.Trans,{id:"Watch the tutorial"}):r.createElement(a.Trans,{id:"Read the tutorial"}),onClick:()=>{s.b.openExternalURL(e.link)}}),onHide:()=>{c(e.identifier,!1)}}))}},404:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return g}));var a=n(86),r=n(1661);const o=e.gd,i=(e,t)=>{e.setExtensionInformation(t.getName(),t.getFullName()||t.getName(),t.getDescription(),t.getAuthor(),"").setExtensionHelpPath(t.getHelpPath()).setIconUrl(t.getIconUrl()),s(e,t)},s=(e,t)=>Object(a.mapVector)(t.getAllDependencies(),t=>e.addDependency().copyFrom(t)),l=e=>e.getIconUrl()||"res/function24.png",c=(e,t)=>{const n=new o.BehaviorJsImplementation,a=Object(r.a)(t.getPropertyDescriptors());return n.updateProperty=function(e,t,n){const r=a.find(e=>e.name===t);if(!r)return!1;const o=e.addChild(t),i=r.type;return"String"===i||"Choice"===i?o.setStringValue(n):"Number"===i?o.setDoubleValue(parseFloat(n)):"Boolean"===i&&o.setBoolValue("1"===n),!0},n.getProperties=function(e){var t=new o.MapStringPropertyDescriptor;return a.forEach(n=>{const a=n.name,o=n.type,i=Object(r.b)(n,t.getOrCreate(a));e.hasChild(a)&&("String"===o||"Choice"===o?i.setValue(e.getChild(a).getStringValue()):"Number"===o?i.setValue(""+e.getChild(a).getDoubleValue()):"Boolean"===o&&i.setValue(e.getChild(a).getBoolValue()?"true":"false"))}),t},n.initializeContent=function(e){a.forEach(t=>{const n=e.addChild(t.name),a=t.type;"String"===a||"Choice"===a?n.setStringValue(t.value):"Number"===a?n.setDoubleValue(parseFloat(t.value)||0):"Boolean"===a&&n.setBoolValue("true"===t.value)})},e.addBehavior(t.getName(),t.getFullName()||t.getName(),t.getName(),t.getDescription(),"",l(e),t.getName(),n,new o.BehaviorsSharedData).setObjectType(t.getObjectType())},u=e=>-1!==["onCreated","onActivate","onDeActivate","doStepPreEvents","doStepPostEvents","onDestroy","onOwnerRemovedFromScene"].indexOf(e),d=e=>o.EventsFunctionsExtension.isExtensionLifecycleEventsFunction(e),h=(e,t,n)=>{const a=n.getFunctionType();return a===o.EventsFunction.Expression?e.addExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),t.getFullName()||t.getName(),l(e)):a===o.EventsFunction.StringExpression?e.addStrExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),t.getFullName()||t.getName(),l(e)):a===o.EventsFunction.Condition?e.addCondition(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),t.getFullName()||t.getName(),l(e),l(e)):e.addAction(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),t.getFullName()||t.getName(),l(e),l(e))},m=(e,t,n,a)=>{const r=a.getFunctionType();return r===o.EventsFunction.Expression?t.addExpression(a.getName(),a.getFullName()||a.getName(),a.getDescription()||a.getFullName(),n.getFullName()||n.getName(),l(e)):r===o.EventsFunction.StringExpression?t.addStrExpression(a.getName(),a.getFullName()||a.getName(),a.getDescription()||a.getFullName(),n.getFullName()||n.getName(),l(e)):r===o.EventsFunction.Condition?t.addScopedCondition(a.getName(),a.getFullName()||a.getName(),a.getDescription()||a.getFullName(),a.getSentence(),n.getFullName()||n.getName(),l(e),l(e)):t.addScopedAction(a.getName(),a.getFullName()||a.getName(),a.getDescription()||a.getFullName(),a.getSentence(),n.getFullName()||n.getName(),l(e),l(e))},p=(e,t,n,r)=>{const i=e=>(e.addParameter("object","Object","",!1),e.getParameter(e.getParametersCount()-1).setExtraInfo(r.getObjectType()),e.addParameter("behavior","Behavior",r.getName(),!1),e.setPrivate(),e);Object(a.mapVector)(r.getPropertyDescriptors(),a=>{const s=a.getType(),c=a.getName(),u=o.BehaviorCodeGenerator.getBehaviorPropertyGetterName(c),d=o.BehaviorCodeGenerator.getBehaviorPropertySetterName(c),h=a.getLabel()||e._({id:"{propertyName} property",values:{propertyName:c}});"String"===s||"Choice"===s?(i(n.addStrExpression(o.EventsBasedBehavior.getPropertyExpressionName(c),h,h,r.getFullName()||r.getName(),l(t))).getCodeExtraInformation().setFunctionName(u),i(n.addScopedCondition(o.EventsBasedBehavior.getPropertyConditionName(c),h,e._({id:"Compare the content of {propertyLabel}",values:{propertyLabel:h}}),e._({id:"the property {propertyName}",values:{propertyName:c}}),r.getFullName()||r.getName(),l(t),l(t))).useStandardRelationalOperatorParameters("string").getCodeExtraInformation().setFunctionName(u),i(n.addScopedAction(o.EventsBasedBehavior.getPropertyActionName(c),h,e._({id:"Change the content of {propertyLabel}",values:{propertyLabel:h}}),e._({id:"the property {propertyName}",values:{propertyName:c}}),r.getFullName()||r.getName(),l(t),l(t))).useStandardOperatorParameters("string").getCodeExtraInformation().setFunctionName(d).setManipulatedType("string").setGetter(u)):"Number"===s?(i(n.addExpression(o.EventsBasedBehavior.getPropertyExpressionName(c),h,h,r.getFullName()||r.getName(),l(t))).getCodeExtraInformation().setFunctionName(u),i(n.addScopedCondition(o.EventsBasedBehavior.getPropertyConditionName(c),h,e._({id:"Compare the value of {propertyLabel}",values:{propertyLabel:h}}),e._({id:"the property {propertyName}",values:{propertyName:c}}),r.getFullName()||r.getName(),l(t),l(t))).useStandardRelationalOperatorParameters("number").getCodeExtraInformation().setFunctionName(u),i(n.addScopedAction(o.EventsBasedBehavior.getPropertyActionName(c),h,e._({id:"Change the value of {propertyLabel}",values:{propertyLabel:h}}),e._({id:"the property {propertyName}",values:{propertyName:c}}),r.getFullName()||r.getName(),l(t),l(t))).useStandardOperatorParameters("number").getCodeExtraInformation().setFunctionName(d).setGetter(u)):"Boolean"===s&&(i(n.addScopedCondition(o.EventsBasedBehavior.getPropertyConditionName(c),h,e._({id:"Check the value of {propertyLabel}",values:{propertyLabel:h}}),e._({id:"Property {propertyName} of _PARAM0_ is true",values:{propertyName:c}}),r.getFullName()||r.getName(),l(t),l(t))).getCodeExtraInformation().setFunctionName(u),i(n.addScopedAction(o.EventsBasedBehavior.getPropertyActionName(c),h,e._({id:"Update the value of {propertyLabel}",values:{propertyLabel:h}}),e._({id:"Set property {propertyName} of _PARAM0_ to _PARAM2_",values:{propertyName:c}}),r.getFullName()||r.getName(),l(t),l(t))).addParameter("yesorno",e._({id:"New value to set"}),"",!1).getCodeExtraInformation().setFunctionName(d))})},g=(e,t)=>{Object(a.mapVector)(e.getParameters(),e=>{e.isCodeOnly()?t.addCodeOnlyParameter(e.getType(),""):(t.addParameter(e.getType(),e.getDescription(),"",e.isOptional()),t.setParameterLongDescription(e.getLongDescription())),t.getParameter(t.getParametersCount()-1).setExtraInfo(e.getExtraInfo())}),t.addCodeOnlyParameter("eventsFunctionContext","")}}).call(this,n(1))},406:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(77),r=n(71),o=n(4),i=n(801),s=n(841),l=n(97),c=n(276),u=n.n(c);n(1814),n(1815);const d=(e,t,n,r,o)=>{if(!e)return t;if("string"!==typeof e){if("end"===n&&e.second&&"string"!==typeof e.second)return Object(a.a)(Object(a.a)({},e),{},{second:d(e.second,t,n,r,o)});if("start"===n&&e.first&&"string"!==typeof e.first)return Object(a.a)(Object(a.a)({},e),{},{first:d(e.first,t,n,r,o)})}return{direction:"row"===o?"column":"row",first:"end"===n?e:t,second:"end"===n?t:e,splitPercentage:r}},h=(e,t,n)=>e?"string"===typeof e?e===t?n:e:e===t?n:Object(a.a)(Object(a.a)({},e),{},{first:h(e.first,t,n),second:h(e.second,t,n)}):e,m=[o.createElement(s.a,{key:"close"})],p=e=>o.createElement("div",{className:"mosaic-preview"},o.createElement("div",{className:"mosaic-window-toolbar"},o.createElement("div",{className:"mosaic-window-title"},e.title)),o.createElement("div",{className:"mosaic-window-body"})),g=e=>o.createElement(i.MosaicWindow,Object.assign({},e,{toolbarControls:e.toolbarControls||m,renderPreview:p}));class b extends o.Component{constructor(...e){super(...e),this.state={mosaicNode:this.props.initialNodes},this.openEditor=(e,t,n,a)=>{const r=this.props,o=r.editors,s=r.limitToOneSecondaryEditor,l=this.props.editors[e];if(!l)return!1;const c=Object(i.getLeaves)(this.state.mosaicNode);if(-1!==c.indexOf(e))return!1;if(s&&"secondary"===l.type){const t=c.find(e=>"secondary"===o[e].type);if(t)return this.setState({mosaicNode:h(this.state.mosaicNode,t,e)}),this._persistNodes(),!0}return this.setState({mosaicNode:d(this.state.mosaicNode,e,t,n,a)}),this._persistNodes(),!0},this._onChange=e=>{this.setState({mosaicNode:e}),this._persistNodes()},this._persistNodes=u()(()=>{this.props.onPersistNodes&&this.state.mosaicNode&&this.props.onPersistNodes(this.state.mosaicNode)},2e3)}render(){const e=this.props.editors;return o.createElement(l.a,null,t=>o.createElement(i.MosaicWithoutDragDropContext,{className:"".concat(t.mosaicRootClassName," mosaic-blueprint-theme mosaic-gd-theme"),renderTile:(t,n)=>{const a=e[t];return a?a.noTitleBar?a.renderEditor():o.createElement(r.I18n,null,({i18n:e})=>o.createElement(g,{path:n,title:e._(a.title),toolbarControls:a.toolbarControls},a.renderEditor())):(console.error("Trying to render un unknown editor: "+t),null)},value:this.state.mosaicNode,onChange:this._onChange}))}}},420:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));const a=e.gd;class r{constructor(){this.selection=[]}hasSelectedInstances(){return!!this.getSelectedInstances().length}getSelectedInstances(){return this.selection}isInstanceSelected(e){for(var t=0;t<this.selection.length;t++)if(a.compare(this.selection[t],e))return!0;return!1}clearSelection(){this.selection.length=0}selectInstance(e,t,n=null){this.isInstanceSelected(e)?t&&this.unselectInstance(e):(t||this.clearSelection(),n&&!n[e.getLayer()]||this.selection.push(e))}selectInstances(e,t,n=null){t||this.clearSelection(),e.forEach(e=>this.selectInstance(e,!0,n))}unselectInstance(e){if(this.isInstanceSelected(e)){for(var t=this.selection.length-1;t>=-1&&this.selection[t].ptr!==e.ptr;)--t;this.selection.splice(t,1)}}}}).call(this,n(1))},421:function(e,t,n){"use strict";(function(e){var a=n(1847),r=n(1848),o=n(1849),i=n(1850),s=n(1870),l=n(1871),c=n(1872),u=n(1873);const d=e.gd;t.a={getEditorConfiguration(e){return this.editorConfigurations[e]||console.warn("Object with type ".concat(e," has no editor configuration registered. Please use registerEditorConfiguration to register your editor.")),this.editorConfigurations[e]},registerEditorConfiguration:function(e,t){t.component?t.createNewObject?t.castToObjectType?this.editorConfigurations.hasOwnProperty(e)?console.warn('Tried to register editor configuration for object "'.concat(e,'", but an editor configuration already exists.')):(console.info('Properly registered editor configuration for object "'.concat(e,'".')),this.editorConfigurations[e]=t):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "castToObjectType" property is not defined.')):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "createNewObject" property is not defined.')):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "component" property is not defined.'))},getDefaultObjectJsImplementationPropertiesEditor:e=>({component:u.a,createNewObject:e=>d.asObjectJsImplementation(e).clone().release(),castToObjectType:e=>d.asObjectJsImplementation(e),helpPagePath:e.helpPagePath}),editorConfigurations:{Sprite:{component:i.a,createNewObject:()=>new d.SpriteObject(""),castToObjectType:e=>d.asSpriteObject(e),helpPagePath:"/objects/sprite"},"TiledSpriteObject::TiledSprite":{component:r.a,createNewObject:()=>new d.TiledSpriteObject(""),castToObjectType:e=>d.asTiledSpriteObject(e),helpPagePath:"/objects/tiled_sprite"},"PanelSpriteObject::PanelSprite":{component:o.a,createNewObject:()=>new d.PanelSpriteObject(""),castToObjectType:e=>d.asPanelSpriteObject(e),helpPagePath:"/objects/panel_sprite"},"TextObject::Text":{component:a.a,createNewObject:()=>new d.TextObject(""),castToObjectType:e=>d.asTextObject(e),helpPagePath:"/objects/text"},"PrimitiveDrawing::Drawer":{component:l.a,createNewObject:()=>new d.ShapePainterObject(""),castToObjectType:e=>d.asShapePainterObject(e),helpPagePath:"/objects/shape_painter"},"TextEntryObject::TextEntry":{component:s.a,createNewObject:()=>new d.TextEntryObject(""),castToObjectType:e=>d.asTextEntryObject(e),helpPagePath:"/objects/text_entry"},"ParticleSystem::ParticleEmitter":{component:c.a,createNewObject:()=>new d.ParticleEmitterObject(""),castToObjectType:e=>d.asParticleEmitterObject(e),helpPagePath:"/objects/particles_emitter"},"SkeletonObject::Skeleton":{component:u.a,createNewObject:()=>new d.SkeletonObject(""),castToObjectType:e=>d.castObject(e,d.SkeletonObject),helpPagePath:"/objects/skeleton"}}}}).call(this,n(1))},426:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return h}));var a=n(170),r=n.n(a),o=n(24);const i=()=>[{planId:"gdevelop_pro",name:"GDevelop Pro",monthlyPriceInEuros:7,smallDescription:{id:"Ideal for advanced game makers"},descriptionBullets:[{message:{id:"Package your game for Android up to 70 times a day (every 24 hours)."}},{message:{id:"One-click packaging for Windows, macOS and Linux up to 70 times a day (every 24 hours)."}},{message:{id:"Use Live Preview over Wifi to quickly test your game on mobiles and tablets."},isLocalAppOnly:!0},{message:{id:"Use the Debugger to find and solve issues in your games."},isLocalAppOnly:!0},{message:{id:"Immerse your players by removing GDevelop logo when the game loads."}}],extraDescription:{id:"You'll also have access to online packaging for iOS or other services when they are released."}},{planId:"gdevelop_indie",name:"GDevelop Indie",monthlyPriceInEuros:2,smallDescription:{id:"Ideal for beginners"},descriptionBullets:[{message:{id:"Package your game for Android up to 10 times a day (every 24 hours)."}},{message:{id:"One-click packaging for Windows, macOS and Linux up to 10 times a day (every 24 hours)."}},{message:{id:"Use Live Preview over Wifi to quickly test your game on mobiles and tablets."},isLocalAppOnly:!0},{message:{id:"Use the Debugger to find and solve issues in your games."},isLocalAppOnly:!0},{message:{id:"Immerse your players by removing GDevelop logo when the game loads"}}],extraDescription:{id:"You'll also have access to online packaging for iOS or other services when they are released."}},{planId:null,name:"No subscription",monthlyPriceInEuros:0,descriptionBullets:[{message:{id:"You can use GDevelop for free! Online packaging for Android, Windows, macOS and Linux is limited to twice a day (every 24 hours) to avoid overloading the services."}}]}],s=(e,t)=>e().then(e=>r.a.get("".concat(o.i.baseUrl,"/usage"),{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data),l=(e,t)=>e().then(e=>r.a.get("".concat(o.i.baseUrl,"/limits"),{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data.limits),c=(e,t)=>e().then(e=>r.a.get("".concat(o.i.baseUrl,"/subscription-v2"),{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data),u=(e,t,n)=>e().then(e=>r.a.post("".concat(o.i.baseUrl,"/subscription-v2"),n,{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data),d=e=>r.a.post("".concat(o.i.baseUrl,"/upload-options/signed-url"),e).then(e=>e.data),h=(e,t,n)=>"".concat(o.i.baseUrl,"/subscription-v2/redirect-to-checkout?planId=").concat(encodeURIComponent(e),"&clientReferenceId=").concat(encodeURIComponent(t),"&customerEmail=").concat(encodeURIComponent(n))},429:function(e,t,n){"use strict";var a=n(4),r=n(194),o=n(77),i=n(99),s=n(148),l=n(93),c=n(97),u=n(126);const d={itemName:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},textField:{top:l.c}};class h extends a.Component{componentDidUpdate(e){!e.editingName&&this.props.editingName&&setTimeout(()=>{this.textField&&this.textField.focus()},100)}render(){const e=this.props,t=e.item,n=e.itemName,r=e.isBold,h=e.selected,m=e.getThumbnail,p=e.errorStatus,g=e.onEdit,b=e.onItemSelected,f=e.hideMenuButton,E=e.scaleUpItemIconWhenSelected,v=e.connectIconDragSource;return a.createElement(c.a,null,e=>{const c=this.props.editingName?a.createElement(l.b,{id:"rename-item-field",margin:"none",ref:e=>this.textField=e,defaultValue:n,onBlur:e=>this.props.onRename(e.currentTarget.value),onKeyPress:e=>{Object(u.e)(e)&&this.textField&&this.textField.blur()},fullWidth:!0,style:d.textField}):a.createElement("div",{style:Object(o.a)(Object(o.a)({},d.itemName),{},{color:h?e.listItem.selectedTextColor:void 0,fontStyle:r?"italic":void 0,fontWeight:r?"bold":"normal"})},n),y={borderBottom:"1px solid ".concat(e.listItem.separatorColor),backgroundColor:h?""===p?e.listItem.selectedBackgroundColor:"error"===p?e.listItem.selectedErrorBackgroundColor:e.listItem.selectedWarningBackgroundColor:void 0,color:""===p?void 0:"error"===p?e.listItem.errorTextColor:e.listItem.warningTextColor},C=m?a.createElement(s.a,{iconSize:24,src:m(),cssAnimation:E&&h?"scale-and-jiggle 0.8s forwards":""}):null;return a.createElement(i.b,{style:Object(o.a)({},y),primaryText:c,leftIcon:v&&C?v(a.createElement("div",null,C)):C,displayMenuButton:!f,rightIconColor:h?e.listItem.selectedRightIconColor:e.listItem.rightIconColor,buildMenuTemplate:this.props.buildMenuTemplate,onClick:()=>{b&&(this.props.editingName||b(h?null:t))},onDoubleClick:e=>{0===e.button&&g&&(this.props.editingName||(b(null),g(t)))}})})}}var m=h,p=n(470),g=n(787);const b={borderTop:"2px solid #18dcf2",height:0,marginTop:"-1px",marginBottom:"-1px",width:"100%",boxSizing:"border-box"};function f({canDrop:e}){return a.createElement(c.a,null,t=>a.createElement("div",{style:Object(o.a)(Object(o.a)({},b),{},{borderColor:e?t.listItem.selectedBackgroundColor:t.listItem.selectedErrorBackgroundColor})}))}var E=n(144),v=n(213);n.d(t,"a",(function(){return y}));class y extends a.Component{constructor(...e){super(...e),this.DragSourceAndDropTarget=Object(g.a)(this.props.reactDndType)}forceUpdateGrid(){this._list&&this._list.forceUpdateGrid()}_renderItemRow(e,t,n,r){const o=this.props,i=o.selectedItems,s=o.getItemThumbnail,l=o.erroredItems,c=o.isItemBold,u=o.onEditItem,d=o.renamedItem,h=o.getItemName,p=o.scaleUpItemIconWhenSelected,g=d===e,b=h(e);return a.createElement(m,{item:e,itemName:b,isBold:!!c&&c(e),onRename:t=>this.props.onRename(e,t),editingName:g,getThumbnail:s?()=>s(e):void 0,selected:-1!==i.indexOf(e),onItemSelected:this.props.onItemSelected,errorStatus:l&&l[b]||"",buildMenuTemplate:()=>this.props.buildMenuTemplate(e,t),onEdit:u,hideMenuButton:"small"===n,scaleUpItemIconWhenSelected:p,connectIconDragSource:r||null})}render(){const e=this.props,t=e.height,n=e.width,o=e.fullList,s=e.addNewItemLabel,l=e.renamedItem,c=e.getItemThumbnail,u=e.onAddNewItem,d=e.onMoveSelectionToItem,h=e.canMoveSelectionToItem,m=e.selectedItems,g=this.DragSourceAndDropTarget;return a.createElement(E.a,null,e=>a.createElement(v.a,null,b=>a.createElement(r.d,{ref:e=>this._list=e,height:t,rowCount:o.length+(u?1:0),rowHeight:c?i.c:i.d,rowRenderer:({index:t,key:n,style:r})=>{if(t>=o.length)return a.createElement("div",{style:r,key:n},a.createElement(p.a,{disabled:!0,onClick:u,primaryText:s}));const i=o[t],c=l===i,E=-1!==m.indexOf(i);return a.createElement("div",{style:r,key:n},a.createElement(g,{beginDrag:()=>(this.props.onItemSelected(i),{}),canDrag:()=>!c,canDrop:()=>!h||h(i),drop:()=>{d(i)}},({connectDragSource:n,connectDropTarget:r,isOver:o,canDrop:s})=>{const l="touch"===b&&!E,c=r(a.createElement("div",null,o&&a.createElement(f,{canDrop:s}),this._renderItemRow(i,t,e,l?n:null)));return c?l?c:n(c):null}))},width:n})))}}},431:function(e,t,n){"use strict";var a=n(4),r=n(114),o=n(248),i=n(742);class s extends a.Component{constructor(e){super(e),this.state=this._loadFrom(e)}componentWillReceiveProps(e){e.resourceName===this.props.resourceName&&e.project===this.props.project||this.setState(this._loadFrom(e))}_loadFrom(e){const t=e.project,n=e.resourceName,a=t.getResourcesManager();return{resourceKind:a.hasResource(n)?a.getResource(n).getKind():null}}render(){switch(this.state.resourceKind){case"image":return a.createElement(i.a,{project:this.props.project,resourceName:this.props.resourceName,resourcesLoader:this.props.resourcesLoader,children:this.props.children,style:this.props.style,onSize:this.props.onSize,selectable:this.props.selectable,selected:this.props.selected,onSelect:this.props.onSelect,onContextMenu:this.props.onContextMenu});default:return null}}}const l={container:{flex:1,display:"flex",alignItems:"flex-end"},selectorContainer:{flex:1},resourceThumbnail:{marginLeft:10,marginBottom:4}};t.a=({project:e,resourceSources:t,onChooseResource:n,resourceExternalEditors:i,resourceKind:c,resourceName:u,onChange:d,floatingLabelText:h,hintText:m})=>a.createElement("div",{style:l.container},a.createElement("div",{style:l.selectorContainer},a.createElement(o.a,{project:e,resourceSources:t,onChooseResource:n,resourceExternalEditors:i,resourcesLoader:r.a,resourceKind:c,fullWidth:!0,initialResourceName:u,onChange:d,floatingLabelText:h,hintText:m})),a.createElement(s,{resourceName:u,resourcesLoader:r.a,project:e,style:l.resourceThumbnail}))},455:function(e,t,n){"use strict";var a=n(351),r=n(990);n(991);t.a=Object(a.a)(r,"DefaultTheme","light")},468:function(e,t,n){"use strict";t.a={QUIT_APP:"CmdOrCtrl+Shift+KeyQ",OPEN_PROJECT_MANAGER:"CmdOrCtrl+Alt+KeyE",LAUNCH_NEW_PREVIEW:"F4",LAUNCH_DEBUG_PREVIEW:"F6",HOT_RELOAD_PREVIEW:"F5",LAUNCH_NETWORK_PREVIEW:"F8",OPEN_START_PAGE:"",CREATE_NEW_PROJECT:"CmdOrCtrl+Alt+KeyN",OPEN_PROJECT:"CmdOrCtrl+KeyO",SAVE_PROJECT:"CmdOrCtrl+KeyS",SAVE_PROJECT_AS:"CmdOrCtrl+Shift+KeyS",CLOSE_PROJECT:"CmdOrCtrl+KeyQ",EXPORT_GAME:"CmdOrCtrl+Shift+KeyE",OPEN_RECENT_PROJECT:"",OPEN_COMMAND_PALETTE:"CmdOrCtrl+KeyP",OPEN_PROJECT_PROPERTIES:"",OPEN_PROJECT_VARIABLES:"",OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG:"",OPEN_PROJECT_RESOURCES:"",OPEN_LAYOUT:"Alt+KeyS",OPEN_EXTERNAL_EVENTS:"Alt+KeyV",OPEN_EXTERNAL_LAYOUT:"Alt+KeyW",OPEN_EXTENSION:"Alt+KeyE",OPEN_SCENE_PROPERTIES:"KeyS",OPEN_SCENE_VARIABLES:"KeyV",OPEN_OBJECTS_PANEL:"KeyO",OPEN_OBJECT_GROUPS_PANEL:"KeyG",OPEN_PROPERTIES_PANEL:"KeyP",TOGGLE_INSTANCES_PANEL:"KeyI",TOGGLE_LAYERS_PANEL:"KeyL",TOGGLE_WINDOW_MASK:"KeyM",TOGGLE_GRID:"Alt+KeyG",OPEN_SETUP_GRID:"CmdOrCtrl+Shift+KeyG",EDIT_LAYER_EFFECTS:"KeyE",EDIT_LAYER:"KeyT",EDIT_OBJECT:"Shift+KeyE",EDIT_OBJECT_VARIABLES:"Shift+KeyV",EDIT_OBJECT_GROUP:"Shift+KeyG",ADD_STANDARD_EVENT:"Shift+KeyA",ADD_SUBEVENT:"Shift+KeyD",ADD_COMMENT_EVENT:"",CHOOSE_AND_ADD_EVENT:"Shift+KeyW",OPEN_EXTENSION_SETTINGS:""}},470:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(4),r=n.n(a),o=n(99),i=n(171);const s=e=>r.a.createElement(o.b,{onClick:e.onClick,primaryText:r.a.createElement(i.a,null,e.primaryText),displayAddIcon:!0}),l=e=>r.a.createElement(o.b,{onClick:e.onClick,primaryText:r.a.createElement(i.a,null,e.primaryText),displaySearchIcon:!0})},472:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var a=n(77),r=n(4),o=n(224);const i={display:"flex"},s={display:"flex",alignItems:"center",paddingLeft:4,paddingRight:4},l=e=>{const t=r.useContext(o.a);return r.createElement("div",{style:Object(a.a)(Object(a.a)({},i),{},{alignItems:e.alignItems,backgroundColor:t.list.itemsBackgroundColor})},e.children)},c=e=>r.createElement("div",{style:Object(a.a)(Object(a.a)({},s),{},{flex:e.expand?1:void 0},e.style)},e.children)},476:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(71),r=n(4),o=n(81),i=n(653),s=n.n(i),l=n(1136),c=n.n(l);function u({launchProjectDataOnlyPreview:e,hasPreviewsRunning:t}){return r.createElement(o.a,{icon:t?r.createElement(c.a,null):r.createElement(s.a,null),label:t?r.createElement(a.Trans,{id:"Apply changes to preview"}):r.createElement(a.Trans,{id:"Run a preview"}),onClick:()=>e()})}},477:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(83),i=n(81),s=n(84),l=n(1137),c=n.n(l),u=n(1138),d=n.n(u),h=n(215),m=n(73),p=n(11),g=n(80);const b={icon:{width:40,height:40,marginRight:20},iconText:{flex:1}};class f extends r.Component{constructor(...e){super(...e),this.state={open:!1},this._closeDialog=()=>{Object(p.p)(),this.setState({open:!1})}}checkHasSubscription(){const e=this.props,t=e.userProfile,n=e.mode,a=e.id;if(t.subscription){if(!!t.subscription.planId)return this.setState({open:!1}),!0}return this.setState({open:!0}),Object(p.o)({mode:n,id:a}),!1}render(){const e=this.state.open,t=this.props,n=t.onChangeSubscription,l=t.mode;return e?r.createElement(s.a,{actions:[n&&r.createElement(o.a,{label:r.createElement(a.Trans,{id:"Get a subscription or login"}),key:"subscribe",primary:!0,onClick:()=>{this.setState({open:!1}),n()}})],secondaryActions:[r.createElement(i.a,{label:"try"===l?r.createElement(a.Trans,{id:"Continue anyway"}):r.createElement(a.Trans,{id:"Not now, thanks!"}),key:"close",primary:!1,onClick:this._closeDialog})],cannotBeDismissed:!1,onRequestClose:this._closeDialog,open:e,title:this.props.title},r.createElement(m.a,{noMargin:!0},r.createElement(m.b,{noMargin:!0,alignItems:"center"},"try"===l?r.createElement(g.a,null,r.createElement(a.Trans,{id:"You can try this feature, but if you're using it regularly, we ask you to get a subscription to GDevelop."})):r.createElement(g.a,null,r.createElement(a.Trans,{id:"To use this feature, we ask you to get a subscription to GDevelop."}))),r.createElement(m.b,{noMargin:!0,alignItems:"center"},r.createElement(c.a,{style:b.icon}),r.createElement(g.a,{style:b.iconText},r.createElement(a.Trans,{id:"Having a subscription allows you to use the one-click export for Android, Windows, macOS and Linux, launch live previews over wifi, disable the GDevelop splashscreen during loading and more!"}))),r.createElement(m.b,{noMargin:!0,alignItems:"center"},r.createElement(d.a,{style:b.icon}),r.createElement(g.a,{style:b.iconText},r.createElement(a.Trans,{id:"You're also supporting the development of GDevelop, an open-source software! In the future, more online services will be available for users with a subscription."}))),r.createElement(m.c,null),r.createElement(m.c,null),r.createElement(m.c,null),r.createElement(m.c,null),r.createElement(g.a,{align:"right"},r.createElement("b",null,r.createElement(a.Trans,{id:"Thanks!"}))))):null}}class E extends r.Component{constructor(...e){super(...e),this._dialog=null}checkHasSubscription(){return!!this._dialog&&this._dialog.checkHasSubscription()}render(){return r.createElement(h.a.Consumer,null,e=>r.createElement(f,{userProfile:e,ref:e=>this._dialog=e,onChangeSubscription:this.props.onChangeSubscription,id:this.props.id,title:this.props.title,mode:this.props.mode}))}}t.a=E},501:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var a=n(100),r=n.n(a),o=n(107),i=n(87),s=n(71),l=n(4),c=n(502),u=n(215),d=n(124),h=n(73),m=n(88),p=n(22),g=n(236),b=n(125),f=n(83),E=n(80),v=n(380),y=n(505),C=n.n(y),x=n(504),j=n.n(x),O=n(920);const T=({project:e,hideIfRegistered:t,hideLoader:n,onGameRegistered:a})=>{const y=l.useContext(u.a),x=y.authenticated,T=y.onLogin,S=y.onCreateAccount,w=y.getAuthorizationHeader,k=y.profile,N=l.useState(null),_=Object(i.a)(N,2),P=_[0],I=_[1],B=l.useState(null),R=Object(i.a)(B,2),M=R[0],F=R[1],L=l.useState(null),A=Object(i.a)(L,2),D=A[0],U=A[1],V=l.useState(!1),W=Object(i.a)(V,2),G=W[0],z=W[1],H=l.useState(!1),K=Object(i.a)(H,2),Y=K[0],X=K[1],J=l.useState("details"),q=Object(i.a)(J,2),Z=q[0],Q=q[1],$=l.useCallback(Object(o.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k&&e){t.next=2;break}return t.abrupt("return");case 2:return n=k.uid,I(null),F(null),t.prev=5,t.next=8,Object(v.b)(w,n,e.getProjectUuid());case 8:a=t.sent,U(a),t.next=25;break;case 12:if(t.prev=12,t.t0=t.catch(5),console.log(t.t0),!t.t0.response){t.next=24;break}if(403!==t.t0.response.status){t.next=21;break}return F("unauthorized"),t.abrupt("return");case 21:if(404!==t.t0.response.status){t.next=24;break}return F("not-existing"),t.abrupt("return");case 24:I(t.t0);case 25:case"end":return t.stop()}}),t,null,[[5,12]])}))),[e,w,k]),ee=l.useCallback(Object(o.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k&&e){t.next=2;break}return t.abrupt("return");case 2:return n=k.uid,z(!0),t.prev=4,t.next=7,Object(v.e)(w,n,{gameId:e.getProjectUuid(),authorName:e.getAuthor()||"Unspecified author",gameName:e.getName()||"Untitled game"});case 7:$(),a&&a(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),console.error("Unable to register the game",t.t0),Object(p.a)({rawError:t.t0,errorId:"register-game-error",message:"Unable to register the game.  Verify your internet connection or try again later."});case 15:z(!1);case 16:case"end":return t.stop()}}),t,null,[[4,11]])}))),[w,k,e,$,a]);return l.useEffect(()=>{$()},[$]),x?e?D?t?null:l.createElement(m.a,{noMargin:!0},l.createElement(E.a,null,l.createElement(s.Trans,{id:"Your project is registered online. This allows you to get access to metrics collected anonymously, like the number of daily players and retention of the players after a few days."})),l.createElement(h.b,{justifyContent:"center"},l.createElement(f.a,{primary:!0,icon:l.createElement(C.a,null),label:l.createElement(s.Trans,{id:"Analytics"}),onClick:()=>{Q("analytics"),X(!0)}}),l.createElement(h.c,null),l.createElement(f.a,{primary:!0,icon:l.createElement(j.a,null),label:l.createElement(s.Trans,{id:"Monetization"}),onClick:()=>{Q("monetization"),X(!0)}})),Y&&l.createElement(O.a,{game:D,project:e,initialTab:Z,onClose:()=>{X(!1)},onGameUpdated:e=>{U(e)},onGameDeleted:()=>{X(!1),$()}})):"unauthorized"===M?l.createElement(d.a,{kind:"error"},l.createElement(s.Trans,{id:"This project is registered online but you don't have access to it. Ask the original owner of the game to share it with you to get access to the game metrics."})):"not-existing"===M?l.createElement(d.a,{kind:"info",renderRightButton:()=>l.createElement(f.a,{label:l.createElement(s.Trans,{id:"Register the project"}),disabled:G,primary:!0,onClick:()=>{ee()}})},l.createElement(s.Trans,{id:"This project is not registered online. Register it now to get access to metrics collected anonymously, like the number of daily players and retention of the players after a few days."})):P?l.createElement(g.a,{onRetry:()=>{$()}},l.createElement(s.Trans,{id:"Can't check if the game is registered online."})," ",l.createElement(s.Trans,{id:"Verify your internet connection or try again later."})):n?null:l.createElement(b.a,null):null:l.createElement(c.a,{onLogin:T,onCreateAccount:S})}},502:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(81),i=n(83),s=n(73),l=n(80),c=n(171);t.a=({message:e,onLogin:t,onCreateAccount:n})=>r.createElement(s.a,{noMargin:!0},r.createElement(s.b,null,r.createElement(l.a,null,e||r.createElement(a.Trans,{id:"You are not connected. Create an account to build your game for Android, Windows, macOS and Linux in one click, and get access to metrics for your game."}))),r.createElement(s.b,{justifyContent:"center",alignItems:"baseline"},r.createElement(i.a,{label:r.createElement(a.Trans,{id:"Create my account"}),onClick:n,primary:!0}),r.createElement(s.c,null),r.createElement(s.c,null),r.createElement(c.a,null,"or"),r.createElement(s.c,null),r.createElement(o.a,{label:r.createElement(a.Trans,{id:"Login"}),onClick:t})))},508:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(1401),i=n.n(o),s=n(1403),l=n.n(s),c=n(266),u=n(2388),d=n(83),h=n(11),m=n(5),p=n(80),g=n(73),b=n(12),f=n(25);const E=(e,t)=>{console.error("Error catched by Boundary:",e,t),Object(h.e)("Error catched by error boundary","error-boundary",{error:e,componentStack:t},"error-boundary-error")},v=({componentStack:e,error:t})=>r.createElement(c.a,null,r.createElement(g.b,null,r.createElement(l.a,{fontSize:"large"}),r.createElement(g.c,null),r.createElement(p.a,{size:"title"},"This editor encountered a problem.")),r.createElement(u.a,null),r.createElement(p.a,null,"Something wrong happened :(",r.createElement("br",null),"Please ",r.createElement("b",null,"backup your game file")," and save your game to ensure that you don't lose anything."),r.createElement(p.a,null,"The error was automatically reported.",r.createElement("br",null),"To make sure it's fixed, you may report it on GitHub, the platform where GDevelop is developed:"),r.createElement(d.a,{label:r.createElement(a.Trans,{id:"Report the issue on GitHub"}),onClick:()=>{const n="\n=> Please write here a short description of when the error occured and how to reproduce it.\nYou also may have to create an account on GitHub before posting.\n\nWhen you're ready, click on \"Submit new issue\". Don't change the rest of the message. Thanks!\n\n## Error stack (don't write anything here)\n```\n".concat(t?t.stack:"No error found","\n```\n\n## Component stack (don't write anything here)\n```\n").concat(e||"No component stack found","\n```\n\n## Other details\n* IDE version: ").concat(Object(b.c)(),"\n* Arch: ").concat(Object(f.a)(),",\n* Platform Name: ").concat(Object(f.b)(),",\n* System Version: ").concat(Object(f.c)(),",\n* User Agent: ").concat(Object(f.d)(),",\n        ");m.b.openExternalURL("https://github.com/4ian/GDevelop/issues/new?body=".concat(encodeURIComponent(n),"&title=Crash%20while%20using%20an%20editor"))}}));t.a=e=>r.createElement(i.a,{FallbackComponent:v,onError:E},e.children)},510:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>0===e.getPointer(t)},520:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(6),r=n.n(a);function o(e){let t=!1,n=void 0;return()=>(t||(console.info("Lazy loading ".concat(e,"...")),n=r()(e),t=!0),n)}},521:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var a=n(71),r=n(4),o=n(1509),i=n(1658),s=n(2292),l=n(1662),c=n(1663),u=n(2300),d=n(1664),h=n(1665),m=n(340),p=n(129),g=n(795),b=n(398),f=n(1666),E=n(1667),v=n(1668),y=n(1670),C=n(1671),x=n(790),j=n(113),O=n(1672),T=n(796),S=n(788),w=n(270),k=n(213),N=n(144);const _=e.gd,P={container:{display:"flex",width:"100%",flexDirection:"column",flex:1,position:"relative"}};class I extends r.Component{constructor(...e){super(...e),this._containerDiv=r.createRef(),this._keyboardShortcuts=new d.a({isActive:()=>!this.state.inlineEditing&&!this.state.editedInstruction.instruction&&!this.state.analyzedEventsContextResult&&!this.state.serializedEventsToExtract,shortcutCallbacks:{onDelete:()=>this.deleteSelection(),onCopy:()=>this.copySelection(),onCut:()=>this.cutSelection(),onPaste:()=>this.pasteEventsOrInstructions(),onSearch:()=>this._toggleSearchPanel(),onEscape:()=>this._closeSearchPanel(),onUndo:()=>this.undo(),onRedo:()=>this.redo()}}),this.state={history:Object(g.c)(this.props.events,{historyMaxSize:50}),editedInstruction:{isCondition:!0,instruction:null,instrsList:null,indexInList:0},editedParameter:{isCondition:!0,instruction:null,instrsList:null,parameterIndex:0},selection:Object(b.b)(),inlineEditing:!1,inlineEditingAnchorEl:null,inlineInstructionEditorAnchorEl:null,inlineEditingChangesMade:!1,analyzedEventsContextResult:null,serializedEventsToExtract:null,showSearchPanel:!1,searchResults:null,searchFocusOffset:null,allEventsMetadata:[],textEditedEvent:null},this._addStandardEvent=()=>{this.addNewEvent("BuiltinCommonInstructions::Standard")},this._addCommentEvent=()=>{this.addNewEvent("BuiltinCommonInstructions::Comment")},this._toggleSearchPanel=()=>{this.setState(e=>{const t=!e.showSearchPanel;return t||this._eventSearcher&&this._eventSearcher.reset(),{showSearchPanel:t}},()=>{this.state.showSearchPanel&&this._searchPanel&&this._searchPanel.focus()})},this._closeSearchPanel=()=>{this.setState({showSearchPanel:!1})},this.addSubEvents=()=>{const e=this.props.project;Object(b.d)(this.state.selection).forEach(t=>{t.canHaveSubEvents()&&t.getSubEvents().insertNewEvent(e,"BuiltinCommonInstructions::Standard",t.getSubEvents().getEventsCount())}),this._saveChangesToHistory(()=>{this._eventsTree&&this._eventsTree.forceEventsUpdate()})},this._selectionCanHaveSubEvents=()=>Object(b.d)(this.state.selection).some(e=>e.canHaveSubEvents()),this._selectionCanToggleDisabled=()=>Object(b.d)(this.state.selection).some(e=>e.isExecutable()),this.addNewEvent=(e,t)=>{const n=this.props.project,a=Object(b.h)(this.state.selection);let r=!1,o=[];t?o=[t]:a?("BuiltinCommonInstructions::Comment"!==e&&"BuiltinCommonInstructions::Group"!==e||(r=!0),o=Object(b.c)(this.state.selection).map(e=>({eventsList:e.eventsList,indexInList:r?e.indexInList-1:e.indexInList}))):o=[{eventsList:this.props.events,indexInList:this.props.events.getEventsCount()}];const i=o.map(t=>t.eventsList.insertNewEvent(n,e,t.indexInList+1));return this._saveChangesToHistory(()=>{const e=this._eventsTree;e&&e.forceEventsUpdate(()=>{t||a||e.scrollToEvent(i[0])})}),i},this.openEventTextDialog=()=>{const e=Object(c.b)(Object(b.d)(this.state.selection));if(!e.length)return;const t=e[e.length-1];this.setState({textEditedEvent:t})},this.closeEventTextDialog=()=>{this.setState({textEditedEvent:null})},this.openAddInstructionContextMenu=(e,t)=>{this.openInstructionEditor(t,e)},this.openInstructionEditor=(e,t=null)=>{this.state.editedInstruction.instruction&&(this.state.editedInstruction.instruction.delete(),console.warn("state.editedInstruction.instruction was containing an instruction - deleting it. Verify the logic handling the state in EventsSheet because that should not happen.")),this.setState({inlineInstructionEditorAnchorEl:t,editedInstruction:{instrsList:e.instrsList,isCondition:e.isCondition,instruction:e.instruction?e.instruction.clone():new _.Instruction,indexInList:void 0!==e.indexInList?e.indexInList:void 0}})},this.moveSelectionToInstruction=e=>{this.moveSelectionToInstructionsList({instrsList:e.instrsList,isCondition:e.isCondition},e.indexInList)},this.moveSelectionToInstructionsList=(e,t)=>{const n=Object(b.e)(this.state.selection),a=void 0===t||null===t?e.instrsList.size():t;!!n.filter(t=>Object(C.a)(t,e.instrsList)).length||(n.forEach(t=>e.instrsList.insert(t,a)),this._keyboardShortcuts.shouldCloneInstances()?this._saveChangesToHistory():this.deleteSelection({deleteEvents:!1}))},this.selectEvent=e=>{const t=this._keyboardShortcuts.shouldMultiSelect();this.setState({selection:Object(b.o)(this.state.selection,e,t)},()=>this.updateToolbar())},this.openEventContextMenu=(e,t,n)=>{const a=this._keyboardShortcuts.shouldMultiSelect();this.setState({selection:Object(b.o)(this.state.selection,n,a)},()=>{this.updateToolbar(),this.eventContextMenu.open(e,t)})},this.openInstructionContextMenu=(e,t,n)=>{const a=this._keyboardShortcuts.shouldMultiSelect();this.setState({selection:Object(b.p)(this.state.selection,n,a)},()=>{this.updateToolbar(),this.instructionContextMenu.open(e,t)})},this.selectInstruction=e=>{const t=this._keyboardShortcuts.shouldMultiSelect();this.setState({selection:Object(b.p)(this.state.selection,e,t)},()=>this.updateToolbar())},this.openParameterEditor=e=>{this.setState({editedParameter:e,inlineEditing:!0,inlineEditingAnchorEl:e.domEvent?e.domEvent.currentTarget:null,inlineEditingChangesMade:!1})},this.closeParameterEditor=()=>{this.state.inlineEditingChangesMade&&this._saveChangesToHistory(),this.state.inlineEditingAnchorEl&&this.state.inlineEditingAnchorEl.focus(),this.setState({inlineEditing:!1,inlineEditingAnchorEl:null,inlineEditingChangesMade:!1})},this.toggleDisabled=()=>{Object(b.d)(this.state.selection).forEach(e=>e.setDisabled(!e.isDisabled())),this._saveChangesToHistory(()=>{this._eventsTree&&this._eventsTree.forceEventsUpdate()})},this.deleteSelection=({deleteInstructions:e=!0,deleteEvents:t=!0}={})=>{const n=this.props.events,a=new _.EventsRemover;t&&Object(b.d)(this.state.selection).forEach(e=>a.addEventToRemove(e)),e&&Object(b.e)(this.state.selection).forEach(e=>a.addInstructionToRemove(e)),a.launch(n),this._eventsTree&&this._eventsTree.forceEventsUpdate(),this.setState({selection:Object(b.a)(),inlineEditing:!1,inlineEditingAnchorEl:null},()=>{this._saveChangesToHistory(),this._ensureFocused()})},this.copySelection=()=>{Object(S.a)(this.state.selection)},this.cutSelection=()=>{this.copySelection(),this.deleteSelection()},this.pasteEvents=()=>{Object(S.e)(this.props.project,this.state.selection)&&this._saveChangesToHistory(()=>{this._eventsTree&&this._eventsTree.forceEventsUpdate()})},this.pasteInstructions=()=>{Object(S.g)(this.props.project,this.state.selection)&&this._saveChangesToHistory(()=>{this._eventsTree&&this._eventsTree.forceEventsUpdate()})},this.pasteEventsOrInstructions=()=>{Object(b.h)(this.state.selection)?this.pasteEvents():(Object(b.i)(this.state.selection)||Object(b.j)(this.state.selection))&&this.pasteInstructions()},this.pasteInstructionsInInstructionsList=e=>{Object(S.f)(this.props.project,e)&&this._saveChangesToHistory(()=>{this._eventsTree&&this._eventsTree.forceEventsUpdate()})},this._invertSelectedConditions=()=>{Object(b.f)(this.state.selection).forEach(e=>{e.isCondition&&e.instruction.setInverted(!e.instruction.isInverted())}),this._saveChangesToHistory(()=>{this._eventsTree&&this._eventsTree.forceEventsUpdate()})},this._saveChangesToHistory=e=>{this.setState({history:Object(g.e)(this.state.history,this.props.events)},()=>{this.updateToolbar(),e&&e()}),this._searchPanel&&this._searchPanel.markSearchResultsDirty()},this.undo=()=>{if(!Object(g.b)(this.state.history))return;const e=this.props,t=e.events,n=e.project,a=Object(g.f)(this.state.history,t,n);this._eventsTree&&this._eventsTree.forceEventsUpdate(),this.setState({history:a,selection:Object(b.a)()},()=>this.updateToolbar())},this.redo=()=>{if(!Object(g.a)(this.state.history))return;const e=this.props,t=e.events,n=e.project,a=Object(g.d)(this.state.history,t,n);this._eventsTree&&this._eventsTree.forceEventsUpdate(),this.setState({history:a,selection:Object(b.a)()},()=>this.updateToolbar())},this._openEventsContextAnalyzer=()=>{const e=this.props,t=e.globalObjectsContainer,n=e.objectsContainer,a=new _.EventsContextAnalyzer(_.JsPlatform.get(),t,n),r=new _.EventsList;Object(b.d)(this.state.selection).forEach(e=>r.insertEvent(e,r.getEventsCount())),a.launch(r),r.delete(),this.setState({analyzedEventsContextResult:Object(E.b)(a.getEventsContext())}),a.delete()},this._closeEventsContextAnalyzer=()=>{this.setState({analyzedEventsContextResult:null})},this.extractEventsToFunction=()=>{const e=new _.EventsList;Object(b.d)(this.state.selection).forEach(t=>e.insertEvent(t,e.getEventsCount())),this.setState({serializedEventsToExtract:Object(p.b)(e)}),e.delete()},this.moveEventsIntoNewGroup=()=>{const e=new _.EventsList;Object(b.d)(this.state.selection).forEach(t=>e.insertEvent(t,e.getEventsCount())),this._replaceSelectionByGroupOfEvents(e),e.delete()},this._replaceSelectionByEventsFunction=(e,t)=>{const n=Object(b.c)(this.state.selection);if(!n.length)return;const a=this.addNewEvent("BuiltinCommonInstructions::Standard",{eventsList:n[0].eventsList,indexInList:n[0].indexInList});if(!a.length)return void console.error("A new event should have been created");const r=Object(T.b)(e,t);_.asStandardEvent(a[0]).getActions().push_back(r),r.delete(),this.deleteSelection({deleteInstructions:!1})},this._replaceSelectionByGroupOfEvents=e=>{const t=Object(b.c)(this.state.selection);if(!t.length)return;const n=this.addNewEvent("BuiltinCommonInstructions::Group",{eventsList:t[0].eventsList,indexInList:t[0].indexInList});if(!n.length)return void console.error("A new event should have been created");const a=_.asGroupEvent(n[0]);a.setName("Grouped events"),a.setFolded(!0),a.getSubEvents().insertEvents(e,0,e.getEventsCount(),0),this.deleteSelection({deleteInstructions:!1})},this._ensureEventUnfolded=e=>{const t=e();t&&this._eventsTree&&this._eventsTree.unfoldForEvent(t)},this._replaceInEvents=(e,t)=>{e(t),this._saveChangesToHistory(()=>{this._eventsTree&&this._eventsTree.forceEventsUpdate()})},this._searchInEvents=(e,t)=>{e(t,()=>{this.forceUpdate(()=>{this._eventsTree&&this._eventsTree.forceEventsUpdate()})})},this._onEventMoved=()=>{this._saveChangesToHistory()},this._renderInstructionEditorDialog=e=>{const t=this.props,n=t.project,a=t.scope,o=t.globalObjectsContainer,c=t.objectsContainer,u=this.state.inlineInstructionEditorAnchorEl?l.a:e?i.a:s.a;return this.state.editedInstruction.instruction?r.createElement(u,{project:n,scope:a,globalObjectsContainer:o,objectsContainer:c,instruction:this.state.editedInstruction.instruction,isCondition:this.state.editedInstruction.isCondition,isNewInstruction:void 0===this.state.editedInstruction.indexInList,anchorEl:this.state.inlineInstructionEditorAnchorEl,open:!0,onCancel:()=>this.closeInstructionEditor(),onSubmit:()=>{const e=this.state.editedInstruction,t=e.instrsList,n=e.instruction,a=e.indexInList;t&&n&&(void 0!==a&&null!==a?t.set(a,n):t.insert(n,t.size()),this.closeInstructionEditor(!0),Object(f.a)(t),this._eventsTree&&this._eventsTree.forceEventsUpdate())},resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:(e,t)=>{this.closeInstructionEditor(),this.props.openInstructionOrExpression(e,t)},canPasteInstructions:this.state.editedInstruction.isCondition?Object(S.c)():Object(S.b)(),onPasteInstructions:()=>{const e=this.state.editedInstruction,t=e.instrsList,n=e.isCondition;t&&this.pasteInstructionsInInstructionsList({instrsList:t,isCondition:n})}}):void 0},this._ensureFocused=()=>{if(!this._containerDiv||!document)return;const e=this._containerDiv.current;if(document.activeElement!==e&&e){if(document.activeElement!==document.body&&e.contains(document.activeElement))return;e.focus()}}}componentDidMount(){this.setState({allEventsMetadata:Object(x.a)()})}componentDidUpdate(e,t){this.state.history!==t.history&&this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges()}updateToolbar(){this.props.setToolbar&&this.props.setToolbar(r.createElement(u.a,{allEventsMetadata:this.state.allEventsMetadata,onAddStandardEvent:this._addStandardEvent,onAddSubEvent:this.addSubEvents,canAddSubEvent:Object(b.h)(this.state.selection),onAddCommentEvent:this._addCommentEvent,onAddEvent:this.addNewEvent,canRemove:Object(b.l)(this.state.selection),onRemove:this.deleteSelection,canUndo:Object(g.b)(this.state.history),canRedo:Object(g.a)(this.state.history),undo:this.undo,redo:this.redo,onOpenSettings:this.props.onOpenSettings,onToggleSearchPanel:this._toggleSearchPanel}))}closeInstructionEditor(e=!1){const t=this.state.editedInstruction.instruction;this.setState({editedInstruction:{isCondition:!0,instruction:null,instrsList:null,indexInList:0}},()=>{t&&t.delete(),e&&this._saveChangesToHistory()})}render(){const e=this.props,t=e.project,n=e.scope,i=e.events,s=e.onOpenExternalEvents,l=e.onOpenLayout,u=e.globalObjectsContainer,d=e.objectsContainer;return t?r.createElement(k.a,null,e=>r.createElement(N.a,null,p=>r.createElement(j.b.Consumer,null,({values:f})=>r.createElement(y.a,{key:i.ptr,ref:e=>this._eventSearcher=e,events:i,globalObjectsContainer:u,objectsContainer:d,selection:this.state.selection},({eventsSearchResultEvents:y,searchFocusOffset:C,searchInEvents:x,replaceInEvents:j,goToPreviousSearchResult:T,goToNextSearchResult:k})=>r.createElement("div",{className:"gd-events-sheet",style:P.container,onKeyDown:this._keyboardShortcuts.onKeyDown,onKeyUp:this._keyboardShortcuts.onKeyUp,onDragOver:this._keyboardShortcuts.onDragOver,ref:this._containerDiv,tabIndex:0},r.createElement(o.a,{ref:e=>this._eventsTree=e,key:i.ptr,onScroll:this._ensureFocused,events:i,project:t,scope:n,globalObjectsContainer:u,objectsContainer:d,selection:this.state.selection,onInstructionClick:this.selectInstruction,onInstructionDoubleClick:this.openInstructionEditor,onInstructionContextMenu:this.openInstructionContextMenu,onAddInstructionContextMenu:this.openAddInstructionContextMenu,onAddNewInstruction:this.openInstructionEditor,onPasteInstructions:this.pasteInstructionsInInstructionsList,onMoveToInstruction:this.moveSelectionToInstruction,onMoveToInstructionsList:this.moveSelectionToInstructionsList,onParameterClick:this.openParameterEditor,onEventClick:this.selectEvent,onEventContextMenu:this.openEventContextMenu,onAddNewEvent:(e,t)=>{this.addNewEvent(e,{eventsList:t,indexInList:t.getEventsCount()})},onOpenExternalEvents:s,onOpenLayout:l,searchResults:y,searchFocusOffset:C,onEventMoved:this._onEventMoved,showObjectThumbnails:f.eventsSheetShowObjectThumbnails,screenType:e,windowWidth:p,eventsSheetHeight:this._containerDiv.current?this._containerDiv.current.clientHeight:0}),this.state.showSearchPanel&&r.createElement(v.a,{ref:e=>this._searchPanel=e,onSearchInEvents:e=>this._searchInEvents(x,e),onReplaceInEvents:e=>this._replaceInEvents(j,e),resultsCount:y?y.length:null,hasEventSelected:Object(b.h)(this.state.selection),onGoToPreviousSearchResult:()=>this._ensureEventUnfolded(T),onCloseSearchPanel:this._closeSearchPanel,onGoToNextSearchResult:()=>this._ensureEventUnfolded(k)}),r.createElement(h.a,{open:this.state.inlineEditing,anchorEl:this.state.inlineEditingAnchorEl,onRequestClose:this.closeParameterEditor,project:t,scope:n,globalObjectsContainer:u,objectsContainer:d,isCondition:this.state.editedParameter.isCondition,instruction:this.state.editedParameter.instruction,parameterIndex:this.state.editedParameter.parameterIndex,onChange:e=>{const t=this.state.editedParameter,n=t.instruction,a=t.parameterIndex;n&&(n.setParameter(a,e),this.setState({inlineEditingChangesMade:!0}),this._searchPanel&&this._searchPanel.markSearchResultsDirty())},resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors}),r.createElement(m.a,{ref:e=>this.eventContextMenu=e,buildMenuTemplate:e=>[{label:e._({id:"Edit"}),click:()=>this.openEventTextDialog(),visible:Object(c.b)(Object(b.d)(this.state.selection)).length>0},{label:e._({id:"Copy"}),click:()=>this.copySelection(),accelerator:"CmdOrCtrl+C"},{label:e._({id:"Cut"}),click:()=>this.cutSelection(),accelerator:"CmdOrCtrl+X"},{label:e._({id:"Paste"}),click:()=>this.pasteEvents(),enabled:Object(S.d)(),accelerator:"CmdOrCtrl+V"},{label:e._({id:"Delete"}),click:()=>this.deleteSelection(),accelerator:"Delete"},{label:e._({id:"Toggle disabled"}),click:()=>this.toggleDisabled(),enabled:this._selectionCanToggleDisabled()},{type:"separator"},{label:e._({id:"Add New Event Below"}),click:()=>this.addNewEvent("BuiltinCommonInstructions::Standard")},{label:e._({id:"Add Sub Event"}),click:()=>this.addSubEvents(),enabled:this._selectionCanHaveSubEvents()},{label:e._({id:"Add Other"}),submenu:this.state.allEventsMetadata.map(e=>({label:e.fullName,click:()=>this.addNewEvent(e.type)}))},{type:"separator"},{label:e._({id:"Undo"}),click:this.undo,enabled:Object(g.b)(this.state.history),accelerator:"CmdOrCtrl+Z"},{label:e._({id:"Redo"}),click:this.redo,enabled:Object(g.a)(this.state.history),accelerator:"CmdOrCtrl+Shift+Z"},{type:"separator"},{label:e._({id:"Extract Events to a Function"}),click:()=>this.extractEventsToFunction()},{label:e._({id:"Move Events into a Group"}),click:()=>this.moveEventsIntoNewGroup()},{label:e._({id:"Analyze Objects Used in this Event"}),click:this._openEventsContextAnalyzer}]}),r.createElement(m.a,{ref:e=>this.instructionContextMenu=e,buildMenuTemplate:e=>[{label:e._({id:"Copy"}),click:()=>this.copySelection(),accelerator:"CmdOrCtrl+C"},{label:e._({id:"Cut"}),click:()=>this.cutSelection(),accelerator:"CmdOrCtrl+X"},{label:e._({id:"Paste"}),click:()=>this.pasteInstructions(),enabled:Object(S.c)()||Object(S.b)(),accelerator:"CmdOrCtrl+V"},{type:"separator"},{label:e._({id:"Delete"}),click:()=>this.deleteSelection(),accelerator:"Delete"},{type:"separator"},{label:e._({id:"Undo"}),click:this.undo,enabled:Object(g.b)(this.state.history),accelerator:"CmdOrCtrl+Z"},{label:e._({id:"Redo"}),click:this.redo,enabled:Object(g.a)(this.state.history),accelerator:"CmdOrCtrl+Shift+Z"},{label:e._({id:"Invert Condition"}),click:()=>this._invertSelectedConditions(),visible:Object(b.k)(this.state.selection)}]}),this._renderInstructionEditorDialog(f.useNewInstructionEditorDialog||"touch"===e),this.state.analyzedEventsContextResult&&r.createElement(E.a,{onClose:this._closeEventsContextAnalyzer,eventsContextResult:this.state.analyzedEventsContextResult}),this.state.serializedEventsToExtract&&r.createElement(O.a,{project:t,globalObjectsContainer:u,objectsContainer:d,onClose:()=>this.setState({serializedEventsToExtract:null}),serializedEvents:this.state.serializedEventsToExtract,onCreate:(e,t)=>{this.props.onCreateEventsFunction(e,t),this._replaceSelectionByEventsFunction(e,t),this.setState({serializedEventsToExtract:null})}}),this.state.textEditedEvent&&r.createElement(c.a,{event:this.state.textEditedEvent,onApply:()=>{this.closeEventTextDialog(),this._saveChangesToHistory()},onClose:this.closeEventTextDialog}),r.createElement(w.a,{identifier:"edit-instruction-explanation",message:r.createElement(a.Trans,{id:"Double click on a condition or action to edit it."}),touchScreenMessage:r.createElement(a.Trans,{id:"Double tap a condition or action to edit it. Long press to show more options."}),show:Object(b.i)(this.state.selection)})))))):null}}}).call(this,n(1))},525:function(e,t,n){"use strict";(function(e){n(4);var a=n(772),r=n(1588),o=n(1589),i=n(1590),s=n(1591),l=n(526),c=n(1611),u=n(1612),d=n(1613),h=n(1626),m=n(1627),p=n(1628),g=n(785),b=n(1632),f=n(1633),E=n(1634),v=n(1635),y=n(1636),C=n(1637),x=n(1638),j=n(1639),O=n(1640);const T=e.gd,S={default:a.a,mouse:i.a,object:l.a,relationalOperator:r.a,operator:o.a,yesorno:c.a,trueorfalse:u.a,expression:d.a,string:h.a,stringWithSelector:m.a,behavior:p.a,scenevar:g.a,globalvar:b.a,objectvar:f.a,layer:E.a,key:s.a,file:a.a,musicfile:v.a,soundfile:v.a,videoResource:y.a,jsonResource:C.a,color:x.a,police:a.a,joyaxis:a.a,forceMultiplier:j.a,sceneName:O.a},w={default:a.b,forceMultiplier:j.b,globalvar:b.b,scenevar:g.b,objectvar:f.b,key:s.b,mouse:i.b,object:l.b,yesorno:c.b,trueorfalse:u.b,operator:o.b,relationalOperator:r.b},k={mouse:{id:"Mouse button"},object:{id:"Object"},relationalOperator:{id:"Relational operator"},operator:{id:"Operator"},yesorno:{id:"Yes or No"},trueorfalse:{id:"True or False"},expression:{id:"Number"},string:{id:"String"},stringWithSelector:{id:"String"},behavior:{id:"Behavior"},scenevar:{id:"Scene variable"},globalvar:{id:"Global variable"},objectvar:{id:"Object variable"},layer:{id:"Layer"},key:{id:"Keyboard key"},musicfile:{id:"Audio resource"},soundfile:{id:"Audio resource"},videoResource:{id:"Video resource"},jsonResource:{id:"JSON resource"},color:{id:"Color"},forceMultiplier:{id:"Instant or permanent force"},sceneName:{id:"Scene name"}};t.a={components:S,getParameterComponent:e=>{const t=T.ParameterMetadata.isObject(e)?"object":e;return S.hasOwnProperty(t)?S[t]:S.default},renderInlineParameter:e=>{const t=e.parameterMetadata.getType(),n=T.ParameterMetadata.isObject(t)?"object":t;return(w[n]||w.default)(e)},getUserFriendlyTypeName:e=>{const t=T.ParameterMetadata.isObject(e)?"object":e;return k[t]||null}}}).call(this,n(1))},526:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(71),r=n(4),o=n(134),i=n.n(o),s=n(773),l=n(128);class c extends r.Component{constructor(e){super(e);const t=this.props.parameterMetadata;this._description=t?t.getDescription():void 0,this._longDescription=t?t.getLongDescription():void 0,this._allowedObjectType=t?t.getExtraInfo():void 0}focus(){this._field&&this._field.focus()}render(){return r.createElement(s.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,value:this.props.value,onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,allowedObjectType:this._allowedObjectType,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,floatingLabelText:this._description,helperMarkdownText:this._longDescription,fullWidth:!0,errorTextIfInvalid:this._allowedObjectType?r.createElement(a.Trans,{id:"The object does not exist or can't be used here."}):r.createElement(a.Trans,{id:"Enter the name of an object."}),openOnFocus:!this.props.value,ref:e=>this._field=e})}}const u=({value:e,parameterMetadata:t,renderObjectThumbnail:n,MissingParameterValue:a})=>e||t.isOptional()?r.createElement("span",{title:e,className:i()({[l.p]:!0})},n(e),e):r.createElement(a,null)},529:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(218),r=n(104);function o(e){class t extends a.a{constructor(t,n,a,o,i,s){super(t,n,a,o,i,s),this._pixiObject=new r.Sprite(r.Texture.from(e)),this._pixiContainer.addChild(this._pixiObject)}update(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this._pixiObject.rotation=this._instance.getAngle()*Math.PI/180}static getThumbnail(t,n,a){return e}}return t}},530:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(23),r=n.n(a);n(83);const o=e=>{if(e&&e.current){const t=r.a.findDOMNode(e.current);if(t instanceof HTMLButtonElement)t.focus();else if(t instanceof HTMLElement){const e=t.getElementsByTagName("button");e&&e.length&&e[0]instanceof HTMLButtonElement&&e[0].focus()}}}},532:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(86);const r=(e,t,n)=>{const a=t.getParametersCount();return e.filter((e,r)=>!(r<n)&&(r<a&&!t.getParameter(r).isCodeOnly()))},o=(e,t,n)=>{let a=-1,r=-1;const o=e.map((e,n)=>{const o=t.getParameter(n);return o.isOptional()||(a=n),e.length>0?(r=n,e):o.getDefaultValue()}),i=Math.max(a,r,0);return o.filter((e,a)=>n<=a&&a<=i&&!t.getParameter(a).isCodeOnly())},i=e=>{const t=Object(a.mapVector)(e.metadata.getParameters(),e=>e.getType());return e.scope.objectMetadata?r(t,e.metadata,1):e.scope.behaviorMetadata?r(t,e.metadata,2):r(t,e.metadata,0)},s=(e,t)=>{const n=e.name||"";if(e.scope.objectMetadata){const a=t[0],r=o(t,e.metadata,1).join(", ");return"".concat(a,".").concat(n,"(").concat(r,")")}if(e.scope.behaviorMetadata){const a=t[0],r=t[1],i=o(t,e.metadata,2).join(", ");return"".concat(a,".").concat(r,"::").concat(n,"(").concat(i,")")}{const a=o(t,e.metadata,0).join(", ");return"".concat(n,"(").concat(a,")")}}},533:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const a=e.gd,r=({instructionMetadata:e,instruction:t,expressionMetadata:n,expression:r,parameterIndex:o})=>{if(void 0===o||null==o)return null;let i=null;if(e&&t){const n=a.ParameterMetadataTools.getObjectParameterIndexFor(e.getParameters(),o);n>=0&&n<t.getParametersCount()&&(i=t.getParameter(n))}else if(n&&r){const e=a.ParameterMetadataTools.getObjectParameterIndexFor(n.getParameters(),o);e>=0&&e<r.getParametersCount()&&(i=r.getParameter(e))}return i},o=(e,t)=>{const n=a.ParameterMetadataTools.getObjectParameterIndexFor(e,t);return n<0||n>=e.size()?"":e.at(n).getExtraInfo()}}).call(this,n(1))},534:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g}));var a=n(309),r=n.n(a),o=n(4),i=n.n(o),s=n(83),l=n(1629),c=n(134),u=n.n(c),d=n(128),h=n(182),m=n(88);class p extends o.Component{focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.value,n=e.onChange,a=e.isInline,o=e.onOpenDialog,c=e.parameterMetadata,u=e.variablesContainer,d=e.onRequestClose,p=c?c.getDescription():void 0;return i.a.createElement(m.c,{renderTextField:()=>i.a.createElement(h.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:p,helperMarkdownText:c?c.getLongDescription():void 0,fullWidth:!0,value:t,onChange:n,onRequestClose:d,dataSource:Object(l.a)(u).map(e=>({text:e,value:e})),openOnFocus:!a,ref:e=>this._field=e}),renderButton:e=>o&&!a?i.a.createElement(s.a,{icon:i.a.createElement(r.a,null),disabled:!this.props.variablesContainer,primary:!0,style:e,onClick:o}):null})}}const g=({value:e,parameterMetadata:t,MissingParameterValue:n},a,r)=>e||t.isOptional()?i.a.createElement("span",{title:r,className:u()({[d.p]:!0})},i.a.createElement("img",{className:u()({[d.i]:!0}),src:a,alt:""}),e):i.a.createElement(n,null)},536:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var a=n(77),r=n(87),o=n(4),i=n(274),s=n(326),l=n(327);const c=e.gd,u=({instructionType:e,isCondition:t,project:n})=>e?t?c.MetadataProvider.getConditionMetadata(n.getCurrentPlatform(),e):c.MetadataProvider.getActionMetadata(n.getCurrentPlatform(),e):null,d=(e,t)=>e.find(({type:e})=>e===t),h=({instruction:e,isCondition:t,project:n,isNewInstruction:c,scope:u,globalObjectsContainer:h,objectsContainer:m})=>{const p=(n,a)=>{const r=Object(l.a)(Object(i.d)(t,h,m,n),u);if(e.getType()&&a){d(r,e.getType())||e.setType("")}return{chosenObjectName:n,chosenObjectInstructionsInfo:r,chosenObjectInstructionsInfoTree:Object(s.a)(r)}},g=o.useState(()=>{if(!c){const n=Object(i.b)(t),a=e.getType(),r=d(n,a);if(r&&(r.scope.objectMetadata||r.scope.behaviorMetadata)){const t=Object(i.f)(r.metadata);if(-1!==t)return p(e.getParameter(t),!1)}}return{chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null}}),b=Object(r.a)(g,2),f=b[0],E=b[1];return[f,{chooseInstruction:t=>{e.setType(t);return E({chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null}),Object(a.a)({instruction:e},{chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null})},chooseObject:t=>{const n=p(t,!0);return E(n),Object(a.a)({instruction:e},n)},chooseObjectInstruction:t=>{if(e.setType(t),f.chosenObjectName){const t=p(f.chosenObjectName,!0);return E(t),Object(a.a)({instruction:e},t)}return Object(a.a)({instruction:e},f)}}]}}).call(this,n(1))},537:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(273),i=n(2495);const s={chipContainer:{display:"flex",flexWrap:"wrap",overflowX:"auto",marginTop:4},chip:{marginRight:4,marginBottom:4}};t.a=({tags:e,onChange:t})=>e.length?r.a.createElement("div",{style:s.chipContainer},e.map(n=>r.a.createElement(i.a,{key:n,size:"small",style:s.chip,onDelete:t?()=>t(Object(o.e)(e,n)):void 0,label:n}))):null},565:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(4),r=n(2420),o=n(2418),i=n(359),s=n.n(i),l=n(405),c=n.n(l),u=n(125);const d=e=>e.map(e=>e.name).join(";-/>"),h=({tagsTreeNodes:e,onChoose:t,parentNodes:n})=>e.length?e.map(e=>{const r=[...n,e];return a.createElement(o.a,{nodeId:d(r),label:e.name,key:e.name,onLabelClick:()=>t({node:e,parentNodes:n}),collapseIcon:e.children.length?a.createElement(s.a,null):null,expandIcon:e.children.length?a.createElement(c.a,null):null},a.createElement(h,{tagsTreeNodes:e.children,parentNodes:r,onChoose:t}))}):null,m=a.memo((function({allItemsLabel:e,chosenCategory:t,setChosenCategory:n,allFilters:i}){return a.createElement(r.a,{selected:t?d([...t.parentNodes,t.node]):"",defaultExpanded:i.tagsTree.map(e=>d([e])),onNodeSelect:()=>{}},a.createElement(o.a,{nodeId:"",label:e,onLabelClick:()=>n(null)}),a.createElement(h,{tagsTreeNodes:i.tagsTree,onChoose:n,parentNodes:[]}))})),p=({filtersState:e,allFilters:t,error:n,allItemsLabel:r})=>t?n?null:a.createElement(m,{allItemsLabel:r,chosenCategory:e.chosenCategory,setChosenCategory:e.setChosenCategory,allFilters:t}):a.createElement(u.a,null)},566:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(100),r=n.n(a),o=n(107),i=n(87),s=n(4),l=n(237),c=n(385),u=n(384);const d=s.createContext({filters:null,authors:null,licenses:null,searchResults:null,fetchAssetsAndFilters:()=>{},error:null,searchText:"",setSearchText:()=>{},filtersState:{chosenFilters:new Set,addFilter:()=>{},removeFilter:()=>{},chosenCategory:null,setChosenCategory:()=>{}}}),h=e=>e.name+"\n"+e.shortDescription+"\n"+e.tags.join(", "),m=({children:e})=>{const t=s.useState(null),n=Object(i.a)(t,2),a=n[0],m=n[1],p=s.useState(null),g=Object(i.a)(p,2),b=g[0],f=g[1],E=s.useState(null),v=Object(i.a)(E,2),y=v[0],C=v[1],x=s.useState(null),j=Object(i.a)(x,2),O=j[0],T=j[1],S=s.useState(null),w=Object(i.a)(S,2),k=w[0],N=w[1],_=s.useRef(!1),P=s.useState(""),I=Object(i.a)(P,2),B=I[0],R=I[1],M=Object(l.b)(),F=s.useCallback(()=>{a||_.current||Object(o.a)(r.a.mark((function e(){var t,n,a,o,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(null),_.current=!0,e.prev=2,e.next=5,Object(c.b)();case 5:return t=e.sent,n=t.assetShortHeaders,a=t.filters,e.next=10,Object(c.c)();case 10:return o=e.sent,e.next=13,Object(c.d)();case 13:i=e.sent,s={},n.forEach(e=>{s[e.id]=e}),console.info("Loaded ".concat(n.length," assets from the asset store.")),m(s),f(a),C(o),T(i),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),console.error("Unable to load the assets from the asset store:",e.t0),N(e.t0);case 27:_.current=!1;case 28:case"end":return e.stop()}}),e,null,[[2,23]])})))()},[a,_]);s.useEffect(()=>{if(a||_.current)return;const e=setTimeout(()=>{console.info("Pre-fetching assets from asset store..."),F()},6e3);return()=>clearTimeout(e)},[F,a,_]);const L=M.chosenCategory,A=M.chosenFilters,D=Object(u.a)(a,h,B,L,A),U=s.useMemo(()=>({searchResults:D,fetchAssetsAndFilters:F,filters:b,authors:y,licenses:O,error:k,searchText:B,setSearchText:R,filtersState:M}),[D,k,b,y,O,B,M,F]);return s.createElement(d.Provider,{value:U},e)}},567:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return v}));var a=n(100),r=n.n(a),o=n(107),i=n(87),s=n(71),l=n(4),c=n(84),u=n(81),d=n(73),h=n(80),m=n(2417),p=n(156),g=n(83),b=n(88);const f=l.createContext(null),E=({progress:e,fetchedResources:t,onAbandon:n,onRetry:a})=>{const r=t&&t.erroredResources.length>0;return l.createElement(c.a,{actions:[a?l.createElement(g.a,{label:l.createElement(s.Trans,{id:"Retry"}),primary:!0,onClick:a,key:"retry"}):null,l.createElement(u.a,{label:n?l.createElement(s.Trans,{id:"Abandon"}):l.createElement(s.Trans,{id:"Please wait..."}),disabled:!n,onClick:n,key:"close"})],cannotBeDismissed:!0,noMargin:!0,open:!0,maxWidth:"sm"},l.createElement(d.b,null,l.createElement(b.a,{expand:!0},l.createElement(h.a,null,r?l.createElement(s.Trans,{id:"There were errors when fetching resources for the project."}):l.createElement(s.Trans,{id:"Resources needed for the project are downloaded..."})),l.createElement(m.a,{variant:"determinate",value:e}),r&&t?l.createElement(p.a,null,l.createElement(p.c,null,l.createElement(p.e,null,l.createElement(p.d,null,"Resource name"),l.createElement(p.d,null,"Error"))),l.createElement(p.b,null,t.erroredResources.map(({resourceName:e,error:t})=>l.createElement(p.e,{key:e},l.createElement(p.f,null,e),l.createElement(p.f,null,t.toString()))))):null)))},v=()=>{const e=l.useContext(f),t=l.useState(0),n=Object(i.a)(t,2),a=n[0],s=n[1],c=l.useState(!1),u=Object(i.a)(c,2),d=u[0],h=u[1],m=l.useState(null),p=Object(i.a)(m,2),g=p[0],b=p[1],v=l.useState(null),y=Object(i.a)(v,2),C=y[0],x=y[1],j=l.useState(null),O=Object(i.a)(j,2),T=O[0],S=O[1],w=l.useCallback(function(){var t=Object(o.a)(r.a.mark((function t(n){var a,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw new Error("No resourceFetcher was defined");case 2:if(0!==(a=e.getResourcesToFetch(n)).length){t.next=5;break}return t.abrupt("return",{someResourcesWereFetched:!1});case 5:return s(0),x(null),S(null),b(null),h(!0),t.next=12,e.fetchResources({project:n,resourceNames:a,onProgress:(e,t)=>{s(e/t*100)}});case 12:if(o=t.sent,s(100),0!==o.erroredResources.length){t.next=18;break}return h(!1),b(null),t.abrupt("return",{someResourcesWereFetched:!0});case 18:return t.abrupt("return",new Promise(e=>{x(()=>()=>{e(w(n))}),S(()=>()=>{h(!1),b(null),e({someResourcesWereFetched:!0})}),b(o),h(!1)}));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]);return{ensureResourcesAreFetched:w,renderResourceFetcherDialog:()=>{const e=g&&g.erroredResources.length>=0;return d||e?l.createElement(E,{progress:a,fetchedResources:g,onAbandon:T,onRetry:C}):null}}}},569:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(104);class r{constructor({initialViewX:e,initialViewY:t,width:n,height:r,options:o}){this.viewX=0,this.viewY=0,this._pixiContainer=new a.Container,this.toSceneCoordinates=(e,t)=>{e-=this._width/2,t-=this._height/2,e/=Math.abs(this._pixiContainer.scale.x),t/=Math.abs(this._pixiContainer.scale.y);var n=e;return e=Math.cos(0*Math.PI)*e-Math.sin(0*Math.PI)*t,t=Math.sin(0*Math.PI)*n+Math.cos(0*Math.PI)*t,[e+this.viewX,t+this.viewY]},this.toCanvasCoordinates=(e,t)=>{e-=this.viewX,t-=this.viewY;var n=e;return e=Math.cos(-0*Math.PI)*e-Math.sin(-0*Math.PI)*t,t=Math.sin(-0*Math.PI)*n+Math.cos(-0*Math.PI)*t,e*=Math.abs(this._pixiContainer.scale.x),t*=Math.abs(this._pixiContainer.scale.y),[e+this._width/2,t+this._height/2]},this.viewX=e,this.viewY=t,this.options=o,this.resize(n,r)}setOptions(e){this.options=e}resize(e,t){this._width=e,this._height=t}getWidth(){return this._width}getHeight(){return this._height}scrollBy(e,t){this.viewX+=e,this.viewY+=t}scrollTo(e,t){this.viewX=e,this.viewY=t}scrollToInstance(e){this.viewX=e.getX(),this.viewY=e.getY()}getViewX(){return this.viewX}getViewY(){return this.viewY}getPixiContainer(){return this._pixiContainer}render(){this._pixiContainer.position.x=-this.viewX*this.options.zoomFactor,this._pixiContainer.position.y=-this.viewY*this.options.zoomFactor,this._pixiContainer.position.x+=this._width/2,this._pixiContainer.position.y+=this._height/2,this._pixiContainer.scale.x=this.options.zoomFactor,this._pixiContainer.scale.y=this.options.zoomFactor}}},572:function(e,t,n){"use strict";t.a={handleColumn:{width:24,paddingLeft:8,paddingRight:0},coordinateColumn:{width:48},toolColumn:{width:48}}},573:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>Date.now()+"-"+Math.floor(1e6*Math.random())},589:function(e,t,n){"use strict";(function(e){var a=n(100),r=n.n(a),o=n(107),i=n(77),s=n(87),l=n(71),c=n(4),u=(n(989),n(2493)),d=n(2492),h=n(2294),m=n(1e3),p=n(2287),g=n(1096),b=n(2284),f=n(1499),E=n(1501),v=n(1502),y=n(1503),C=n(2283),x=n(5),j=n(22),O=n(1505),T=n(1506),S=n(871),w=n(122),k=n(2295),N=n(908),_=n(745),P=n(858),I=n(870),B=n(861),R=n(844),M=n(2290),F=n(869),L=n(508),A=n(2296),D=n(114),U=n(268),V=n(632),W=n(92),G=n(2297),z=n(875),H=n(1914),K=n(113),Y=n(242),X=n(32),J=n(1916),q=n(1917),Z=n(1918),Q=n(1919),$=n(356),ee=n(168),te=n(1920),ne=n(247),ae=n(1921),re=n(2291),oe=n(1922),ie=n(739),se=n(1923),le=n(1924),ce=n(1925),ue=n(567),de=n(877);const he=e.GD_STARTUP_TIMES||[],me=e.gd,pe={drawerContent:{width:320,overflowX:"hidden",display:"flex",flexDirection:"column"}},ge=(e,t,n)=>{const a=n.storageProviderName,r=t.filter(e=>e.internalName===a)[0];if(r)return r;{const t=n.storageProviderName;Object(j.a)({message:e._({id:"Unable to open the project because this provider is unknown: {storageProviderName}. Try to open the project again from another location.",values:{storageProviderName:t}}),rawError:new Error("Can't find storage provider called \"".concat(t,'"')),errorId:"unknown-storage-provider"})}},be={previewLayoutName:null,previewExternalLayoutName:null,isPreviewOverriden:!1,overridenPreviewLayoutName:null,overridenPreviewExternalLayoutName:null};t.a=e=>{const t=Object(te.a)({createDialogOpen:!1,currentProject:null,currentFileMetadata:null,editorTabs:Object(T.l)(),snackMessage:"",snackMessageOpen:!1,updateStatus:{message:"",status:"unknown"},openFromStorageProviderDialogOpen:!1,saveToStorageProviderDialogOpen:!1,eventsFunctionsExtensionsError:null,gdjsDevelopmentWatcherEnabled:!1}),n=Object(s.a)(t,2),a=n[0],fe=n[1],Ee=c.useRef(null),ve=c.useRef({}),ye=c.useRef(null),Ce=Object(ee.a)(),xe=c.useState(!1),je=Object(s.a)(xe,2),Oe=je[0],Te=je[1],Se=c.useState(!1),we=Object(s.a)(Se,2),ke=we[0],Ne=we[1],_e=c.useState(!1),Pe=Object(s.a)(_e,2),Ie=Pe[0],Be=Pe[1],Re=c.useState(!1),Me=Object(s.a)(Re,2),Fe=Me[0],Le=Me[1],Ae=c.useState(!1),De=Object(s.a)(Ae,2),Ue=De[0],Ve=De[1],We=c.useState(!1),Ge=Object(s.a)(We,2),ze=Ge[0],He=Ge[1],Ke=c.useState(!1),Ye=Object(s.a)(Ke,2),Xe=Ye[0],Je=Ye[1],qe=c.useState(!1),Ze=Object(s.a)(qe,2),Qe=Ze[0],$e=Ze[1],et=c.useState("profile"),tt=Object(s.a)(et,2),nt=tt[0],at=tt[1],rt=c.useState(!1),ot=Object(s.a)(rt,2),it=ot[0],st=ot[1],lt=c.useState(!1),ct=Object(s.a)(lt,2),ut=ct[0],dt=ct[1],ht=c.useState(!1),mt=Object(s.a)(ht,2),pt=mt[0],gt=mt[1],bt=c.useState(!1),ft=Object(s.a)(bt,2),Et=ft[0],vt=ft[1],yt=c.useContext(K.b),Ct=c.useState(!1),xt=Object(s.a)(Ct,2),jt=xt[0],Ot=xt[1],Tt=c.useState(be),St=Object(s.a)(Tt,2),wt=St[0],kt=St[1],Nt=c.useRef(null),_t=c.useContext(U.a),Pt=ye.current&&ye.current.getPreviewDebuggerServer(),It=Object(se.a)(Pt),Bt=It.previewDebuggerIds,Rt=It.hotReloadLogs,Mt=It.clearHotReloadLogs,Ft=!!Bt.length,Lt=Object(Z.a)(),At=Lt.ensureInteractionHappened,Dt=Lt.renderOpenConfirmDialog,Ut=Object(ue.b)(),Vt=Ut.ensureResourcesAreFetched,Wt=Ut.renderResourceFetcherDialog,Gt=c.useContext(U.a),zt=c.useContext($.b),Ht=c.useState("starters"),Kt=Object(s.a)(Ht,2),Yt=Kt[0],Xt=Kt[1],Jt=a.currentProject,qt=a.currentFileMetadata,Zt=a.updateStatus,Qt=a.eventsFunctionsExtensionsError,$t=e.renderExportDialog,en=e.renderCreateDialog,tn=e.resourceSources,nn=e.renderPreviewLauncher,an=e.resourceExternalEditors,rn=e.getStorageProviderOperations,on=e.getStorageProvider,sn=e.integratedEditor,ln=e.initialFileMetadataToOpen,cn=e.introDialog,un=e.i18n,dn=e.renderGDJSDevelopmentWatcher,hn=e.renderMainMenu;c.useEffect(()=>{sn||Ln(),he.push(["MainFrameComponentDidMount",performance.now()]),En().then(()=>fe(e=>Object(i.a)(Object(i.a)({},e),{},{gdjsDevelopmentWatcherEnabled:!0}))).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a,o,i,s,l,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(he.push(["MainFrameComponentDidMountFinished",performance.now()]),console.info("Startup times:",Object(X.a)()),a=yt.getAutoOpenMostRecentProject,o=yt.getRecentProjectFiles,i=yt.hadProjectOpenedDuringLastSession,!ln){t.next=13;break}return t.next=6,rn();case 6:return s=t.sent,t.next=9,At(s);case 9:t.sent&&bn(),t.next=28;break;case 13:if(!(a()&&i()&&o()[0])){t.next=27;break}if(l=o()[0],c=ge(un,e.storageProviders,l)){t.next=18;break}return t.abrupt("return");case 18:return t.next=20,rn(c);case 20:return s=t.sent,t.next=23,At(s);case 23:t.sent&&qn(l),t.next=28;break;case 27:cn&&!x.b.isDev()&&Le(!0);case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(()=>{})},[]);const mn=e=>{at(e),st(!0)},pn=c.useCallback(e=>{fe(t=>Object(i.a)(Object(i.a)({},t),{},{snackMessage:e,snackMessageOpen:!0}))},[fe]),gn=c.useCallback(()=>{fe(e=>Object(i.a)(Object(i.a)({},e),{},{snackMessageOpen:!1}))},[fe]),bn=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ln){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,xn(ln);case 4:(t=e.sent)&&Yn({currentProject:t.currentProject,editorTabs:t.editorTabs});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fn=c.useCallback((e=a.editorTabs)=>{const t=Object(T.j)(e);t&&t.editorRef?t.editorRef.updateToolbar():Tn(null)},[a.editorTabs]);c.useEffect(()=>{fn()},[fn]);const En=()=>{const t=e.extensionsLoader,n=e.i18n;return t?t.loadAllExtensions(Object(z.a)(n)).then(e=>{const t=e.filter(e=>!e.result.error),n=e.filter(e=>e.result.error&&!e.result.dangerous),a=e.filter(e=>e.result.error&&e.result.dangerous);console.info("Loaded ".concat(t.length," JS extensions.")),n.length&&console.error("\u26a0\ufe0f Unable to load ".concat(n.length," JS extensions. Please check these errors:"),n),a.length&&console.error("\ud83d\udca3 Dangerous exceptions while loading ".concat(a.length," JS extensions. \ud83d\udd25 Please check these errors as they will CRASH GDevelop:"),a)}):(console.info("No extensions loader specified, skipping extensions loading."),Promise.reject(new Error("No extension loader specified.")))};Object(ce.a)(Jt);const vn=c.useCallback(()=>(yt.setHasProjectOpened(!1),kt(be),fe(e=>Jt?(Jt&&(Gt.unloadProjectEventsFunctionsExtensions(Jt),Jt.delete()),Object(i.a)(Object(i.a)({},e),{},{currentProject:null,currentFileMetadata:null,editorTabs:Object(T.i)(e.editorTabs,Jt)})):Object(i.a)({},e)).then(()=>{})),[Jt,Gt,yt,fe]),yn=c.useCallback(function(){var e=Object(o.a)(r.a.mark((function e(t,n){var a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&yt.insertRecentProjectFile({fileMetadata:n,storageProviderName:on().internalName}),e.next=3,vn();case 3:return D.a.burstAllUrlsCache(),yt.setHasProjectOpened(!0),e.next=7,fe(e=>Object(i.a)(Object(i.a)({},e),{},{currentProject:t,currentFileMetadata:n,createDialogOpen:!1}));case 7:return a=e.sent,Gt.loadProjectEventsFunctionsExtensions(t),n&&t.setProjectFile(n.fileIdentifier),e.next=12,Vt(t);case 12:return o=e.sent,o.someResourcesWereFetched&&zt&&zt.triggerUnsavedChanges(),e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[zt,fe,vn,yt,Gt,on,Vt]),Cn=c.useCallback((e,t)=>Object(S.b)(()=>{const n=me.ProjectHelper.createNewGDJSProject();return n.unserializeFrom(e),yn(n,t)},e=>console.info("Unserialization took ".concat(e," ms"))),[yn]),xn=c.useCallback(e=>rn().then(t=>{const n=t.hasAutoSave,a=t.onGetAutoSave,r=t.onOpen,o=t.getOpenErrorMessage;if(!r)return console.error("Tried to open a file for a storage without onOpen support:",e,t),Promise.resolve();return Te(!0),Object(de.a)(150).then(()=>n&&a?n(e,!0).then(t=>t&&x.b.showConfirmDialog(un._({id:"An autosave file (backup made automatically by GDevelop) that is newer than the project file exists. Would you like to load it instead?"}))?a(e):e):Promise.resolve(e)).then(e=>r(e)).catch(t=>(n&&a?n(e,!1).then(t=>t&&x.b.showConfirmDialog(un._({id:"The project file appears to be malformed, but an autosave file exists (backup made automatically by GDevelop). Would you like to try to load it instead?"}))?a(e):null):Promise.resolve(null)).then(e=>{if(e)return r(e);throw t})).then(({content:t})=>{if(!Object(Q.a)(un,t))return void Te(!1);const n=me.Serializer.fromJSObject(t);return Cn(n,e).then(e=>(n.delete(),Promise.resolve(e)),e=>{throw n.delete(),e})}).catch(e=>{const t=o?o(e):{id:"Check that the path/URL is correct, that you selected a file that is a game file created with GDevelop and that is was not removed."};return Object(j.a)({message:[un._({id:"Unable to open the project."}),un._(t)].join("\n"),errorId:"project-open-error",rawError:e}),Te(!1),Promise.reject(e)})}),[un,rn,Cn]),jn=c.useCallback(()=>x.b.quit(),[]),On=c.useCallback(()=>{Ee.current&&Be(e=>!e)},[Be]),Tn=e=>{Ee.current&&Ee.current.setEditorToolbar(e)},Sn=(e,t)=>{kt(n=>Object(i.a)(Object(i.a)({},n),{},{previewLayoutName:e,previewExternalLayoutName:t}))},wn=c.useCallback(Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jt){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,rn();case 4:if(t=e.sent,!(yt.values.autosaveOnPreview&&t.onAutoSaveProject&&qt)){e.next=15;break}return e.prev=6,e.next=9,t.onAutoSaveProject(Jt,qt);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(6),console.error("Error while auto-saving the project: ",e.t0),pn(un._({id:"There was an error while making an auto-save of the project. Verify that you have permissions to write in the project folder."}));case 15:case"end":return e.stop()}}),e,null,[[6,11]])}))),[un,pn,Jt,qt,rn,yt.values.autosaveOnPreview]),kn=c.useCallback(({networkPreview:e,hotReload:t,projectDataOnlyExport:n})=>{if(!Jt)return;if(0===Jt.getLayoutsCount())return;const r=ye.current;if(!r)return;Ot(!0),Object(T.o)(a.editorTabs);const o=wt.isPreviewOverriden?wt.overridenPreviewLayoutName:wt.previewLayoutName,i=wt.isPreviewOverriden?wt.overridenPreviewExternalLayoutName:wt.previewExternalLayoutName,s=o&&Jt.hasLayoutNamed(o)?Jt.getLayout(o):Jt.getLayoutAt(0),l=i&&Jt.hasExternalLayoutNamed(i)?Jt.getExternalLayout(i):null;wn(),Gt.ensureLoadFinished().then(()=>r.launchPreview({project:Jt,layout:s,externalLayout:l,networkPreview:!!e,hotReload:!!t,projectDataOnlyExport:!!n,getIsMenuBarHiddenInPreview:yt.getIsMenuBarHiddenInPreview})).catch(e=>{console.error("Error caught while launching preview, this should never happen.",e)}).then(()=>{Ot(!1)})},[wn,Jt,Gt,wt,a.editorTabs,yt.getIsMenuBarHiddenInPreview]),Nn=c.useCallback(()=>kn({networkPreview:!1}),[kn]),_n=c.useCallback(()=>kn({networkPreview:!1,hotReload:!0}),[kn]),Pn=c.useCallback(()=>kn({networkPreview:!0,hotReload:!1}),[kn]),In=c.useMemo(()=>({hasPreviewsRunning:Ft,launchProjectDataOnlyPreview:()=>kn({hotReload:!0,projectDataOnlyExport:!0})}),[Ft,kn]),Bn=c.useCallback((e,{openEventsEditor:t=!0,openSceneEditor:n=!0}={},r=a.editorTabs)=>{const o={label:e,projectItemName:e,renderEditorContainer:I.b,key:"layout "+e},s={label:e+" "+un._({id:"(Events)"}),projectItemName:e,renderEditorContainer:_.b,key:"layout events "+e,dontFocusTab:n},l=n?Object(T.p)(r,o):r,c=t?Object(T.p)(l,s):l;fe(e=>Object(i.a)(Object(i.a)({},e),{},{editorTabs:c})),Te(!1),Be(!1)},[un,fe,a.editorTabs]),Rn=c.useCallback(e=>{fe(t=>Object(i.a)(Object(i.a)({},t),{},{editorTabs:Object(T.p)(t.editorTabs,{label:e,projectItemName:e,renderEditorContainer:P.b,key:"external events "+e})})),Be(!1)},[fe]),Mn=c.useCallback(e=>{fe(t=>Object(i.a)(Object(i.a)({},t),{},{editorTabs:Object(T.p)(t.editorTabs,{label:e,projectItemName:e,renderEditorContainer:B.b,key:"external layout "+e})})),Be(!1)},[fe,Be]),Fn=c.useCallback((e,t,n)=>{fe(a=>Object(i.a)(Object(i.a)({},a),{},{editorTabs:Object(T.p)(a.editorTabs,{label:e+" "+un._({id:"(Extension)"}),projectItemName:e,extraEditorProps:{initiallyFocusedFunctionName:t,initiallyFocusedBehaviorName:n},renderEditorContainer:R.b,key:"events functions extension "+e})})),Be(!1)},[fe,Be,un]),Ln=c.useCallback(()=>{fe(e=>Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.p)(e.editorTabs,{label:un._({id:"Start Page"}),projectItemName:null,renderEditorContainer:M.a,key:"start page",closable:!1})}))},[un,fe]),An=c.useCallback(()=>{fe(e=>Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.p)(e.editorTabs,{label:un._({id:"Debugger"}),projectItemName:null,renderEditorContainer:N.a,key:"debugger"})}))},[un,fe]),Dn=c.useCallback(()=>{An(),_n()},[An,_n]),Un=(e,t)=>{const n=a.currentProject,r=a.editorTabs;if(!n)return;const o=e.getName();if(n.hasEventsFunctionsExtensionNamed(o)){const e=n.getEventsFunctionsExtension(o),a=Object(Y.b)(t),s=Object(T.n)(r,e);s?(s.editor.selectEventsFunctionByName(a.name,a.behaviorName),fe(e=>Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.a)(r,s.tabIndex)}))):Fn(o,a.name,a.behaviorName)}else console.warn("Extension with name=".concat(o," can not be opened (no editor for this)"))},Vn=()=>{zt&&zt.triggerUnsavedChanges(),Ce()},Wn=(e,t)=>{const n=a.currentProject;if(!n)return;const r=!n.hasEventsFunctionsExtensionNamed(e),o=r?n.insertNewEventsFunctionsExtension(e,0):n.getEventsFunctionsExtension(e);r&&(o.setFullName(e),o.setDescription("Originally automatically extracted from events of the project")),o.insertEventsFunction(t,0),Gt.loadProjectEventsFunctionsExtensions(n)},Gn=c.useCallback((e=!0)=>{Xt("starters"),fe(t=>Object(i.a)(Object(i.a)({},t),{},{createDialogOpen:e}))},[fe]),zn=c.useCallback((e=!0)=>{Xt("tutorials"),fe(t=>Object(i.a)(Object(i.a)({},t),{},{createDialogOpen:e}))},[fe]),Hn=c.useCallback((e=!0)=>{Xt("games-showcase"),fe(t=>Object(i.a)(Object(i.a)({},t),{},{createDialogOpen:e}))},[fe]),Kn=c.useCallback((e=!0)=>{fe(t=>Object(i.a)(Object(i.a)({},t),{},{openFromStorageProviderDialogOpen:e}))},[fe]),Yn=c.useCallback(e=>{const t=e.currentProject,n=e.editorTabs;t&&(1===t.getLayoutsCount()?Bn(t.getLayoutAt(0).getName(),{openSceneEditor:!0,openEventsEditor:!0},n):fe(e=>Object(i.a)(Object(i.a)({},e),{},{currentProject:t,editorTabs:n})).then(()=>{Te(!1),Be(!0)}))},[Bn,fe]),Xn=c.useCallback(()=>{rn().then(e=>{if(e.onOpenWithPicker)return e.onOpenWithPicker().then(e=>{if(e)return xn(e).then(e=>{e&&Yn({currentProject:e.currentProject,editorTabs:e.editorTabs})})}).catch(t=>{const n=e.getOpenErrorMessage?e.getOpenErrorMessage(t):{id:"Verify that you have the authorizations for reading the file you're trying to access."};Object(j.a)({message:[un._({id:"Unable to open the project."}),un._(n)].join("\n"),errorId:"project-open-with-picker-error",rawError:t})})})},[un,rn,xn,Yn]),Jn=c.useCallback(()=>{e.storageProviders.filter(({hiddenInOpenDialog:e})=>!e).length>1?Kn():Xn()},[e.storageProviders,Kn,Xn]),qn=c.useCallback(t=>{const n=t.fileMetadata,a=ge(un,e.storageProviders,t);a&&rn(a).then(()=>{xn(n).then(e=>{e&&Yn({currentProject:e.currentProject,editorTabs:e.editorTabs})}).catch(e=>{})})},[un,xn,Yn,e.storageProviders,rn]),Zn=c.useCallback((e=!0)=>{e&&Be(!1),fe(t=>Object(i.a)(Object(i.a)({},t),{},{saveToStorageProviderDialogOpen:e}))},[fe]),Qn=c.useCallback(()=>{Jt&&(Object(T.q)(a.editorTabs),rn().then(e=>{const t=e.onSaveProjectAs;t&&(ke?console.info("Project is already being saved, not triggering save."):(Ne(!0),t(Jt,qt).then(({wasSaved:e,fileMetadata:t})=>{e&&(zt&&zt.sealUnsavedChanges(),pn(un._({id:"Project properly saved"})),t&&(yt.insertRecentProjectFile({fileMetadata:t,storageProviderName:on().internalName}),fe(e=>Object(i.a)(Object(i.a)({},e),{},{currentFileMetadata:t}))))},e=>{Object(j.a)({message:un._({id:"Unable to save as the project! Please try again by choosing another location."}),rawError:e,errorId:"project-save-as-error"})}).catch(()=>{}).then(()=>Ne(!1))))}))},[un,ke,Jt,qt,rn,zt,fe,a.editorTabs,pn,on,yt]),$n=c.useCallback(()=>{Jt&&rn().then(t=>{e.storageProviders.filter(({hiddenInSaveDialog:e})=>!e).length>1||!t.onSaveProjectAs?Zn():Qn()})},[Jt,rn,Zn,e.storageProviders,Qn]),ea=c.useCallback(Object(o.a)(r.a.mark((function e(){var t,n,o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jt){e.next=2;break}return e.abrupt("return");case 2:if(qt){e.next=4;break}return e.abrupt("return",$n());case 4:return e.next=6,rn();case 6:if(t=e.sent,n=t.onSaveProject){e.next=10;break}return e.abrupt("return",$n());case 10:if(Object(T.q)(a.editorTabs),pn(un._({id:"Saving..."})),!ke){e.next=15;break}return console.info("Project is already being saved, not triggering save."),e.abrupt("return");case 15:return Ne(!0),e.prev=16,o=performance.now(),e.next=20,n(Jt,qt);case 20:i=e.sent,i.wasSaved&&(console.info("Project saved in ".concat(performance.now()-o,"ms.")),zt&&zt.sealUnsavedChanges(),pn(un._({id:"Project properly saved"}))),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(16),Object(j.a)({message:un._({id:"Unable to save as the project! Please try again by choosing another location."}),rawError:e.t0,errorId:"project-save-error"});case 28:Ne(!1);case 29:case"end":return e.stop()}}),e,null,[[16,25]])}))),[ke,Jt,qt,rn,pn,un,zt,$n,a.editorTabs]),ta=c.useCallback(()=>{if(zt&&zt.hasUnsavedChanges){if(!Jt)return Promise.resolve();if(!x.b.showConfirmDialog(un._({id:"Close the project? Any changes that have not been saved will be lost."})))return Promise.resolve()}return vn()},[Jt,zt,un,vn]),na=(e,t=a)=>{fn(t.editorTabs),e.editorRef&&e.editorRef.forceUpdateEditor()},aa=()=>{Object(T.q)(a.editorTabs),fe(e=>Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.b)(e.editorTabs)}))},ra=(e,t=!0)=>{const n=a.currentProject,r=ve.current[e];return r?r.chooseResources(n,t):Promise.resolve([])},oa=e=>{fe(t=>Object(i.a)(Object(i.a)({},t),{},{updateStatus:e}));const t=Object(V.d)(e),n=Object(V.c)(e);if(t){new window.Notification(t,{body:n}).onclick=()=>$e(!0)}};Object(ne.d)(Nt.current?Nt.current.launchCommand:()=>{}),Object(ae.a)({i18n:un,project:a.currentProject,previewEnabled:!!a.currentProject&&a.currentProject.getLayoutsCount()>0,onOpenProjectManager:On,hasPreviewsRunning:Ft,allowNetworkPreview:!!ye.current&&ye.current.canDoNetworkPreview(),onLaunchPreview:Nn,onHotReloadPreview:_n,onLaunchDebugPreview:Dn,onLaunchNetworkPreview:Pn,onOpenStartPage:Ln,onCreateProject:Gn,onOpenProject:Jn,onSaveProject:ea,onSaveProjectAs:$n,onCloseApp:jn,onCloseProject:ta,onExportGame:c.useCallback(()=>vt(!0),[]),onOpenLayout:Bn,onOpenExternalEvents:Rn,onOpenExternalLayout:Mn,onOpenEventsFunctionsExtension:Fn,onOpenCommandPalette:Nt.current?Nt.current.open:()=>{},onOpenProfile:c.useCallback(()=>mn("profile"),[]),onOpenGamesDashboard:c.useCallback(()=>mn("games-dashboard"),[])});const ia=Oe||jt;return c.createElement("div",{className:"main-frame"},!!hn&&hn({i18n:un,project:a.currentProject,onChooseProject:Jn,onOpenRecentFile:qn,onSaveProject:ea,onSaveProjectAs:$n,onCloseProject:ta,onCloseApp:jn,onExportProject:()=>vt(!0),onCreateProject:Gn,onOpenProjectManager:()=>Be(!0),onOpenStartPage:Ln,onOpenDebugger:An,onOpenAbout:()=>$e(!0),onOpenPreferences:()=>dt(!0),onOpenLanguage:()=>Ve(!0),onOpenProfile:()=>mn("profile"),onOpenGamesDashboard:()=>mn("games-dashboard"),setUpdateStatus:oa,recentProjectFiles:yt.getRecentProjectFiles()}),c.createElement(m.a,{fileMetadata:qt}),c.createElement(u.a,{open:Ie,PaperProps:{style:pe.drawerContent,className:"safe-area-aware-left-container"},ModalProps:{keepMounted:!0},onClose:On},c.createElement(v.a,{title:a.currentProject?a.currentProject.getName():"No project",displayRightCloseButton:!0,onClose:On}),Jt&&c.createElement(b.a,{project:Jt,onOpenExternalEvents:Rn,onOpenLayout:Bn,onOpenExternalLayout:Mn,onOpenEventsFunctionsExtension:Fn,onAddLayout:()=>{const e=a.currentProject;if(!e)return;const t=Object(w.a)("New scene",t=>e.hasLayoutNamed(t));e.insertNewLayout(t,e.getLayoutsCount()).updateBehaviorsSharedData(e),Vn()},onAddExternalLayout:()=>{const e=a.currentProject;if(!e)return;const t=Object(w.a)("NewExternalLayout",t=>e.hasExternalLayoutNamed(t));e.insertNewExternalLayout(t,e.getExternalLayoutsCount()),Vn()},onAddEventsFunctionsExtension:()=>{const e=a.currentProject;if(!e)return;const t=Object(w.a)("NewExtension",t=>e.hasEventsFunctionsExtensionNamed(t));e.insertNewEventsFunctionsExtension(t,e.getEventsFunctionsExtensionsCount()),Vn()},onAddExternalEvents:()=>{const e=a.currentProject;if(!e)return;const t=Object(w.a)("NewExternalEvents",t=>e.hasExternalEventsNamed(t));e.insertNewExternalEvents(t,e.getExternalEventsCount()),Vn()},onInstallExtension:e=>{const t=a.currentProject;if(!t)return;const n=e.name;if(t.hasEventsFunctionsExtensionNamed(n)){const e=t.getEventsFunctionsExtension(n);fe(t=>Object(i.a)(Object(i.a)({},t),{},{editorTabs:Object(T.d)(t.editorTabs,e)}))}},onDeleteLayout:t=>{const n=e.i18n;if(!a.currentProject)return;x.b.showConfirmDialog(n._({id:"Are you sure you want to remove this scene? This can't be undone."}))&&fe(e=>Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.g)(e.editorTabs,t)})).then(e=>{e.currentProject&&e.currentProject.removeLayout(t.getName()),Vn()})},onDeleteExternalLayout:t=>{const n=a.currentProject,r=e.i18n;if(!n)return;x.b.showConfirmDialog(r._({id:"Are you sure you want to remove this external layout? This can't be undone."}))&&fe(e=>Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.f)(e.editorTabs,t)})).then(e=>{e.currentProject&&e.currentProject.removeExternalLayout(t.getName()),Vn()})},onDeleteEventsFunctionsExtension:t=>{const n=a.currentProject,r=e.i18n;if(!n)return;x.b.showConfirmDialog(r._({id:"Are you sure you want to remove this extension? This can't be undone."}))&&fe(e=>Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.d)(e.editorTabs,t)})).then(e=>{const a=t.getName();Gt.unloadProjectEventsFunctionsExtension(n,a),n.removeEventsFunctionsExtension(a),Vn(),Gt.reloadProjectEventsFunctionsExtensions(n)})},onDeleteExternalEvents:t=>{const n=e.i18n;if(!a.currentProject)return;x.b.showConfirmDialog(n._({id:"Are you sure you want to remove these external events? This can't be undone."}))&&fe(e=>Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.e)(e.editorTabs,t)})).then(e=>{e.currentProject&&e.currentProject.removeExternalEvents(t.getName()),Vn()})},onRenameLayout:(t,n)=>{const r=a.currentProject,o=e.i18n;if(!r)return;if(!r.hasLayoutNamed(t)||n===t)return;if(""===n)return void Object(j.c)(o._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0});if(r.hasLayoutNamed(n))return void Object(j.c)(o._({id:"Another scene with this name already exists."}),{delayToNextTick:!0});const s=r.getLayout(t);fe(e=>Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.g)(e.editorTabs,s)})).then(e=>{s.setName(n),Vn()})},onRenameExternalLayout:(t,n)=>{const r=a.currentProject,o=e.i18n;if(!r)return;if(!r.hasExternalLayoutNamed(t)||n===t)return;if(""===n)return void Object(j.c)(o._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0});if(r.hasExternalLayoutNamed(n))return void Object(j.c)(o._({id:"Another external layout with this name already exists."}),{delayToNextTick:!0});const s=r.getExternalLayout(t);fe(e=>Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.f)(e.editorTabs,s)})).then(e=>{s.setName(n),Vn()})},onRenameEventsFunctionsExtension:(t,n)=>{const r=a.currentProject,o=e.i18n;if(!r)return;if(!r.hasEventsFunctionsExtensionNamed(t)||n===t)return;if(""===n)return void Object(j.c)(o._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0});if(Object(ie.a)(n,r))return void Object(j.c)(o._({id:"Another extension with this name already exists (or you used a reserved extension name). Please choose another name."}),{delayToNextTick:!0});if(!me.Project.validateName(n))return void Object(j.c)(o._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0});const s=r.getEventsFunctionsExtension(t);fe(e=>Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.d)(e.editorTabs,s)})).then(e=>{me.WholeProjectRefactorer.renameEventsFunctionsExtension(r,s,t,n),s.setName(n),Gt.reloadProjectEventsFunctionsExtensions(r),Vn()})},onRenameExternalEvents:(t,n)=>{const r=a.currentProject,o=e.i18n;if(!r)return;if(!r.hasExternalEventsNamed(t)||n===t)return;if(""===n)return void Object(j.c)(o._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0});if(r.hasExternalEventsNamed(n))return void Object(j.c)(o._({id:"Other external events with this name already exist."}),{delayToNextTick:!0});const s=r.getExternalEvents(t);fe(e=>Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.e)(e.editorTabs,s)})).then(e=>{s.setName(n),Vn()})},onSaveProject:ea,onSaveProjectAs:$n,onCloseProject:()=>{ta()},onExportProject:()=>vt(!0),onOpenPreferences:()=>dt(!0),onOpenProfile:()=>mn("profile"),onOpenGamesDashboard:()=>mn("games-dashboard"),onOpenResources:()=>{(()=>{const t=e.i18n;fe(e=>Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.p)(e.editorTabs,{label:t._({id:"Resources"}),projectItemName:null,renderEditorContainer:F.a,key:"resources"})}))})(),Be(!1)},onOpenPlatformSpecificAssets:()=>Je(!0),onChangeSubscription:()=>gt(!0),eventsFunctionsExtensionsError:Qt,onReloadEventsFunctionsExtensions:()=>{Gt.reloadProjectEventsFunctionsExtensions(Jt)},freezeUpdate:!Ie,unsavedChanges:zt,hotReloadPreviewButtonProps:In}),!a.currentProject&&c.createElement(W.a,null,c.createElement(l.Trans,{id:"To begin, open or create a new project."}))),c.createElement(h.a,{ref:Ee,showProjectIcons:!e.integratedEditor,hasProject:!!Jt,toggleProjectManager:On,exportProject:()=>vt(!0),requestUpdate:e.requestUpdate,simulateUpdateDownloaded:()=>oa({status:"update-downloaded",message:"update-downloaded",info:{releaseName:"Fake update"}}),simulateUpdateAvailable:()=>oa({status:"update-available",message:"Update available"}),onOpenDebugger:Dn,hasPreviewsRunning:Ft,onPreviewWithoutHotReload:Nn,onNetworkPreview:Pn,onHotReloadPreview:_n,showNetworkPreviewButton:!!ye.current&&ye.current.canDoNetworkPreview(),setPreviewOverride:({isPreviewOverriden:e,overridenPreviewLayoutName:t,overridenPreviewExternalLayoutName:n})=>{kt(a=>Object(i.a)(Object(i.a)({},a),{},{isPreviewOverriden:e,overridenPreviewLayoutName:t,overridenPreviewExternalLayoutName:n}))},isPreviewEnabled:!!Jt&&Jt.getLayoutsCount()>0,previewState:wt}),c.createElement(O.b,{hideLabels:!!e.integratedEditor},Object(T.m)(a.editorTabs).map((e,t)=>{const n=Object(T.k)(a.editorTabs)===t;return c.createElement(O.a,{label:e.label,key:e.key,active:n,onClick:()=>{return e=t,void fe(t=>Object(i.a)(Object(i.a)({},t),{},{editorTabs:Object(T.a)(t.editorTabs,e)})).then(e=>na(Object(T.j)(e.editorTabs),e));var e},onClose:()=>(e=>{Object(T.q)(a.editorTabs),fe(t=>Object(i.a)(Object(i.a)({},t),{},{editorTabs:Object(T.c)(t.editorTabs,e)}))})(e),onCloseOthers:()=>(e=>{Object(T.q)(a.editorTabs),fe(t=>Object(i.a)(Object(i.a)({},t),{},{editorTabs:Object(T.h)(t.editorTabs,e)}))})(e),onCloseAll:aa,onActivated:()=>na(e),closable:e.closable})})),Object(T.m)(a.editorTabs).map((t,n)=>{const r=Object(T.k)(a.editorTabs)===n;return c.createElement(O.c,{key:t.key,active:r},c.createElement(oe.a,{active:r},c.createElement(L.a,null,t.renderEditorContainer({isActive:r,extraEditorProps:t.extraEditorProps,project:Jt,ref:e=>t.editorRef=e,setToolbar:Tn,onChangeSubscription:()=>gt(!0),projectItemName:t.projectItemName,setPreviewedLayout:Sn,onOpenExternalEvents:Rn,previewDebuggerServer:Pt,hotReloadPreviewButtonProps:In,onOpenLayout:e=>Bn(e,{openEventsEditor:!0,openSceneEditor:!1}),resourceSources:e.resourceSources,onChooseResource:ra,resourceExternalEditors:an,onCreateEventsFunction:Wn,openInstructionOrExpression:Un,unsavedChanges:zt,canOpen:!!e.storageProviders.filter(({hiddenInOpenDialog:e})=>!e).length,onOpen:()=>Jn(),onCreate:()=>Gn(),onOpenProjectManager:()=>Be(!0),onCloseProject:()=>ta(),onOpenTutorials:()=>zn(),onOpenGamesShowcase:()=>Hn(),onOpenHelpFinder:()=>He(!0),onOpenLanguageDialog:()=>Ve(!0),onLoadEventsFunctionsExtensions:()=>{Gt.loadProjectEventsFunctionsExtensions(Jt)},onDeleteResource:(e,t)=>{t(!0)},onRenameResource:(e,t,n)=>{n(!0)}}))))}),c.createElement(re.a,{ref:Nt}),c.createElement(E.a,{show:ia}),c.createElement(k.a,{open:ze,onClose:()=>He(!1)}),c.createElement(d.a,{open:a.snackMessageOpen,autoHideDuration:3e3,onClose:gn,ContentProps:{"aria-describedby":"snackbar-message"},message:c.createElement("span",{id:"snackbar-message"},a.snackMessage)}),!!$t&&Et&&$t({onClose:()=>vt(!1),onChangeSubscription:()=>{vt(!1),gt(!0)},project:a.currentProject}),!!en&&a.createDialogOpen&&en({open:a.createDialogOpen,initialTab:Yt,onClose:()=>Gn(!1),onOpen:function(){var e=Object(o.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(e=>Object(i.a)(Object(i.a)({},e),{},{createDialogOpen:!1}));case 2:return e.next=4,rn(t);case 4:return e.next=6,xn(n);case 6:(a=e.sent)&&(a.currentProject&&a.currentProject.resetProjectUuid(),Yn({currentProject:a.currentProject,editorTabs:a.editorTabs}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onCreate:function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(e=>Object(i.a)(Object(i.a)({},e),{},{createDialogOpen:!1}));case 2:return e.next=4,rn(n);case 4:return e.next=6,yn(t,a);case 6:(o=e.sent).currentProject&&o.currentProject.resetProjectUuid(),Yn({currentProject:o.currentProject,editorTabs:o.editorTabs});case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()}),!!cn&&Fe&&c.cloneElement(cn,{open:!0,onClose:()=>Le(!1)}),!!Jt&&Xe&&c.createElement(f.a,{project:Jt,open:!0,onApply:()=>Je(!1),onClose:()=>Je(!1),resourceSources:tn,onChooseResource:ra,resourceExternalEditors:an}),!!nn&&nn({getIncludeFileHashs:_t.getIncludeFileHashs,onExport:()=>vt(!0),onChangeSubscription:()=>gt(!0)},e=>{ye.current=e}),tn.map((e,t)=>{const n=e.component;return c.createElement(n,{key:e.name,ref:t=>ve.current[e.name]=t,i18n:un,getLastUsedPath:yt.getLastUsedPath,setLastUsedPath:yt.setLastUsedPath})}),it&&c.createElement(C.a,{currentProject:Jt,initialTab:nt,open:!0,onClose:()=>st(!1),onChangeSubscription:()=>gt(!0)}),pt&&c.createElement(A.a,{onClose:()=>{gt(!1)},open:!0}),ut&&c.createElement(p.a,{i18n:e.i18n,onClose:()=>dt(!1)}),Ue&&c.createElement(H.a,{open:!0,onClose:e=>{Ve(!1),e&&(me.JsPlatform.get().reloadBuiltinExtensions(),En().catch(()=>{}))}}),Qe&&c.createElement(g.a,{open:!0,onClose:()=>$e(!1),updateStatus:Zt}),a.openFromStorageProviderDialogOpen&&c.createElement(J.a,{onClose:()=>Kn(!1),storageProviders:e.storageProviders,onChooseProvider:t=>{Kn(!1),e.getStorageProviderOperations(t).then(()=>{Xn()})},onCreateNewProject:()=>{Kn(!1),Gn(!0)}}),a.saveToStorageProviderDialogOpen&&c.createElement(q.a,{onClose:()=>Zn(!1),storageProviders:e.storageProviders,onChooseProvider:t=>{Zn(!1),e.getStorageProviderOperations(t).then(()=>{Qn()})}}),Dt(),Wt(),c.createElement(y.a,{shouldPrompt:!!a.currentProject,i18n:e.i18n,language:e.i18n.language,hasUnsavedChanges:!!zt&&zt.hasUnsavedChanges}),c.createElement(G.a,null),a.gdjsDevelopmentWatcherEnabled&&dn&&dn(),!!Rt.length&&c.createElement(le.a,{logs:Rt,onClose:Mt,onLaunchNewPreview:()=>{Mt(),Nn()}}))}}).call(this,n(1))},632:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));const a=e=>"update-available"===e.status?"A new update is available!":"",r=e=>"update-available"===e.status?"It will be downloaded and installed automatically (unless you deactivated this in preferences)":"",o=e=>"checking-for-update"===e?"Checking for update...":"update-available"===e?"A new update is available!":"update-not-available"===e?"No update available. You're using the latest version!":"error"===e?"Error while checking update":"download-progress"===e?"A new update is being downloaded...":"update-downloaded"===e?"A new update will be installed after you quit and relaunch GDevelop":"",i=e=>"update-available"===e?"Update GDevelop to latest version":"Check again for new updates",s=e=>"update-available"===e},638:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(639),i=n.n(o),s=n(95),l=n(200),c=n(5);t.a=e=>{const t=e.helpPagePath;return t?r.a.createElement(s.a,{onClick:()=>c.b.openExternalURL(Object(l.a)(t)),disabled:e.disabled,style:e.style,size:e.size},r.a.createElement(i.a,null)):null}},641:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a=n(77),r=n(4),o=n(172),i=n.n(o),s=n(214),l=n(86),c=n(92),u=n(122),d=n(1120),h=n(2306),m=n(645),p=n(1125),g=n(1135),b=n(231),f=n(129);const E=e.gd,v=Object(s.SortableElement)(d.a),y=Object(s.SortableElement)(h.a),C=Object(s.SortableContainer)(({children:e})=>r.createElement("div",null,e));C.muiName="TableBody";class x extends r.Component{constructor(...e){super(...e),this.state={nameErrors:{},selectedVariables:Object(p.b)(),mode:"select"},this._selectVariable=(e,t)=>{this.setState({selectedVariables:Object(p.a)(this.state.selectedVariables,e,t)})},this.copySelection=()=>{b.b.set(g.a,Object(p.c)(this.state.selectedVariables).map(({name:e,variable:t})=>({name:e,serializedVariable:Object(f.b)(t)})))},this.paste=()=>{const e=this.props,t=e.variablesContainer,n=e.inheritedVariablesContainer;if(!b.b.has(g.a))return;const a=b.b.get(g.a),r=b.a.extractArray(a);r&&(r.forEach(e=>{const a=b.a.extractStringProperty(e,"name"),r=b.a.extractObjectProperty(e,"serializedVariable");if(!a||!r)return;const o=Object(u.a)(a,e=>n&&n.has(e)||t.has(e),"CopyOf"),i=new E.Variable;Object(f.c)(i,r),t.insert(o,i,t.count()),i.delete()}),this.forceUpdate())},this.deleteSelection=()=>{const e=this.props.variablesContainer,t=Object(p.c)(this.state.selectedVariables);t.filter(e=>!t.find(t=>e!==t&&t.variable.contains(e.variable,!0))).forEach(({variable:t})=>e.removeRecursively(t)),this.clearSelection()},this.clearSelection=()=>{this.setState({selectedVariables:Object(p.b)()})},this._updateOrDefineVariable=(e,t,n,a,r)=>{const o=this.props,i=o.variablesContainer,s=o.inheritedVariablesContainer;if(s&&"parent"===r){const n=Object(f.b)(s.get(e)),r=new E.Variable;Object(f.c)(r,n),i.insert(e,r,a),r.delete(),t=i.get(e)}switch(t.getType()){case E.Variable.String:t.setString(n);break;case E.Variable.Number:t.setValue(parseFloat(n));break;case E.Variable.Boolean:t.setBool("true"===n);break;default:console.error("Cannot set variable with type ".concat(t.getType()," - are you sure it's a primitive type?"))}},this._getVariableOrigin=e=>{const t=this.props,n=t.variablesContainer,a=t.inheritedVariablesContainer;return a&&a.has(e)?n.has(e)?"inherited":"parent":""}}_renderStructureChildren(e,t,n){const a=e.getAllChildrenNames().toJSArray();return i()(a.map((a,r)=>{const o=e.getChild(a);return this._renderVariableAndChildrenRows(a,o,t+1,r,e,n)}))}_renderArrayChildren(e,t,n){return Object(l.mapFor)(0,e.getChildrenCount(),a=>{const r=e.getAtIndex(a);return this._renderVariableAndChildrenRows(""+a,r,t+1,a,e,n,!0)})}_renderVariableAndChildrenRows(e,t,n,o,i,s=null,l=!1){const c=this.props,d=c.variablesContainer,h=c.commitVariableValueOnBlur,m=t.getType(),p=!E.Variable.isPrimitive(t.getType()),g=s||this._getVariableOrigin(e);return r.createElement(v,{name:e,index:o,key:"variable-"+e,variable:t,disabled:0!==n,depth:n,origin:g,arrayElement:!!l,commitVariableValueOnBlur:h,errorText:this.state.nameErrors[t.ptr.toString()]?"This name is already taken":void 0,onChangeValue:n=>{this._updateOrDefineVariable(e,t,n,o,g),this.forceUpdate(),this.props.onSizeUpdated&&this.props.onSizeUpdated()},onResetToDefaultValue:()=>{d.removeRecursively(t),this.forceUpdate(),this.props.onSizeUpdated&&this.props.onSizeUpdated()},onChangeType:e=>{t.castTo(e),this.forceUpdate()},onBlur:n=>{const r=n.target.value;if(e===r)return;let o=!0;o=i?i.renameChild(e,r):d.rename(e,r),this.setState({nameErrors:Object(a.a)(Object(a.a)({},this.state.nameErrors),{},{[t.ptr]:!o})})},onRemove:()=>{i?i.getType()===E.Variable.Structure?i.removeChild(e):i.getType()===E.Variable.Array&&i.removeAtIndex(o):d.remove(e),this.forceUpdate(),this.props.onSizeUpdated&&this.props.onSizeUpdated()},onAddChild:()=>{if(p){if(m===E.Variable.Structure){const e=Object(u.a)("ChildVariable",e=>t.hasChild(e));t.getChild(e).setString("")}else m===E.Variable.Array&&t.pushNew();this.forceUpdate(),this.props.onSizeUpdated&&this.props.onSizeUpdated()}},children:m===E.Variable.Structure?this._renderStructureChildren(t,n,g):m===E.Variable.Array?this._renderArrayChildren(t,n,g):null,showHandle:"move"===this.state.mode,showSelectionCheckbox:"select"===this.state.mode,isSelected:!!this.state.selectedVariables[t.ptr],onSelect:n=>this._selectVariable({name:e,ptr:t.ptr,variable:t},n)})}_renderEmpty(){return!!this.props.emptyExplanationMessage&&r.createElement("div",null,r.createElement(c.a,{style:m.a.emptyExplanation,messageStyle:m.a.emptyExplanationMessage},this.props.emptyExplanationMessage),r.createElement(c.a,{style:m.a.emptyExplanation,messageStyle:m.a.emptyExplanationMessage},this.props.emptyExplanationSecondMessage))}render(){const e=this.props,t=e.variablesContainer,n=e.inheritedVariablesContainer;if(!t)return null;const a=n?Object(l.mapFor)(0,n.count(),e=>{const a=n.getNameAt(e);if(!t.has(a)){const t=n.getAt(e);return this._renderVariableAndChildrenRows(a,t,0,e,void 0,"parent")}}):[],o=Object(l.mapFor)(0,t.count(),e=>{const n=t.getAt(e),a=t.getNameAt(e);return this._renderVariableAndChildrenRows(a,n,0,e,void 0)}),i=r.createElement(y,{index:0,key:"add-variable-row",disabled:!0,onAdd:()=>{const e=new E.Variable;e.setString("");const a=Object(u.a)("Variable",e=>n&&n.has(e)||t.has(e));t.insert(a,e,t.count()),this.forceUpdate(),this.props.onSizeUpdated&&this.props.onSizeUpdated()},onCopy:this.copySelection,onPaste:this.paste,onDeleteSelection:this.deleteSelection,hasSelection:Object(p.d)(this.state.selectedVariables),hasClipboard:b.b.has(g.a)}),s=[...a,...o];return r.createElement(C,{variablesContainer:this.props.variablesContainer,onSortEnd:({oldIndex:e,newIndex:t})=>{this.props.variablesContainer.move(e,t),this.forceUpdate()},helperClass:"sortable-helper",useDragHandle:!0,lockToContainerEdges:!0},s,!s.length&&this._renderEmpty(),i)}}}).call(this,n(1))},645:function(e,t,n){"use strict";t.a={toolColumnHeader:{textAlign:"left",paddingRight:4},toolColumn:{minWidth:48,flex:0,justifyContent:"flex-end"},tableChildIndentation:18,indent:{display:"flex",alignItems:"center",justifyContent:"flex-end",flexShrink:0},indentIconColor:"#DDD",emptyExplanation:{justifyContent:"flex-start"},emptyExplanationMessage:{textAlign:"left"},fadedButton:{opacity:.7},noPaddingMultilineTextField:{padding:0}}},647:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(622);t.a=r.a.memo(e=>r.a.createElement(o.a,e,r.a.createElement("path",{d:"M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"})))},654:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(22),r=n(361),o=n.n(r);const i=e=>/^([A-Za-z]{1}[A-Za-z\d_]*\.)+[A-Za-z][A-Za-z\d_]*$/i.test(e),s=(e,t)=>{const n={},a=(e,t,a,r="")=>{n[e]||(n[e]=[]),n[e].push({type:t,message:a,extraExplanation:r})};return t.getPackageName()?t.getPackageName().length>=255?a("packageName","error",e("The package name is too long."),e("Change the package name in the game properties.")):i(t.getPackageName())||a("packageName","error",e('The package name is containing invalid characters or not following the convention "xxx.yyy.zzz" (numbers allowed after a letter only).'),e("Change the package name in the game properties.")):a("packageName","error",e("The package name is empty."),e("Choose and enter a package name in the game properties.")),t.getName()||a("name","error",e("The name of your game is too long."),e("Change the name in the game properties.")),(!t.getVersion()||t.getVersion().split(".").length<3)&&a("packageName","error",e("The version that you've set for the game is invalid."),e("Enter a version in the game properties.")),n},l=(e,t)=>!Object.keys(t).length||(Object(a.a)({message:e("Your game has some invalid elements, please fix these before continuing:")+"\n\n"+o()(t).map(e=>e.map(e=>"- ".concat(e.message)).join("\n")).join("\n"),rawError:void 0,errorId:"project-invalid-settings-error",doNotReport:!0}),!1)},706:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(100),r=n.n(a),o=n(107),i=n(87),s=n(4),l=n(237),c=n(382),u=n(384);const d=s.createContext({filters:null,searchResults:null,fetchExtensionsAndFilters:()=>{},error:null,searchText:"",setSearchText:()=>{},filtersState:{chosenFilters:new Set,addFilter:()=>{},removeFilter:()=>{},chosenCategory:null,setChosenCategory:()=>{}}}),h=e=>e.name+"\n"+e.shortDescription+"\n"+e.tags.join(","),m=({children:e})=>{const t=s.useState(null),n=Object(i.a)(t,2),a=n[0],m=n[1],p=s.useState(null),g=Object(i.a)(p,2),b=g[0],f=g[1],E=s.useState(null),v=Object(i.a)(E,2),y=v[0],C=v[1],x=s.useRef(!1),j=s.useState(""),O=Object(i.a)(j,2),T=O[0],S=O[1],w=Object(l.b)(),k=s.useCallback(()=>{a||x.current||Object(o.a)(r.a.mark((function e(){var t,n,a,o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(null),x.current=!0,e.prev=2,e.next=5,Object(c.c)();case 5:t=e.sent,n=t.extensionShortHeaders,a=t.allTags,o=a.slice().sort((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase())),i={},n.forEach(e=>{i[e.name]=e}),console.info("Loaded ".concat(n.length," extensions from the extension store.")),m(i),f({allTags:o,defaultTags:o,tagsTree:[]}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.error("Unable to load the extensions from the extension store:",e.t0),C(e.t0);case 19:x.current=!1;case 20:case"end":return e.stop()}}),e,null,[[2,15]])})))()},[a,x]);s.useEffect(()=>{if(a||x.current)return;const e=setTimeout(()=>{console.info("Pre-fetching extensions from extension store..."),k()},5e3);return()=>clearTimeout(e)},[k,a,x]);const N=w.chosenCategory,_=w.chosenFilters,P=Object(u.a)(a,h,T,N,_),I=s.useMemo(()=>({searchResults:P,fetchExtensionsAndFilters:k,filters:b,error:y,searchText:T,setSearchText:S,filtersState:w}),[P,y,b,T,w,k]);return s.createElement(d.Provider,{value:I},e)}},711:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(71),r=n(4),o=n(125),i=n(236),s=n(508),l=n(194),c=n(92);const u={container:{flex:1},grid:{overflowX:"hidden"}},d=({searchItems:e,getSearchItemUniqueId:t,renderSearchItem:n,error:d,onRetry:h})=>{const m=r.useRef(null),p=r.useRef(0),g=r.useRef({}),b=r.useCallback((e,n)=>g.current[t(e)]!==n&&(g.current[t(e)]=n,!0),[t]),f=r.useCallback(({index:n})=>{if(!e||!e[n])return 90;const a=e[n];return g.current[t(a)]||90},[e,t]),E=r.useCallback(({key:t,rowIndex:a,style:o})=>{if(!e)return null;const i=e[a];return i?r.createElement("div",{key:t,style:o},n(i,e=>{b(i,e)&&m.current&&m.current.recomputeGridSize(0,a)})):null},[e,b,n]);return e?0===e.length?r.createElement(c.a,null,r.createElement(a.Trans,{id:"No results returned for your search. Try something else or browse the categories."})):r.createElement(s.a,null,r.createElement("div",{style:u.container},r.createElement(l.a,null,({width:t,height:n})=>t&&n?(p.current!==t&&(g.current={},p.current=t),r.createElement(l.c,{ref:m,width:t,height:n,columnCount:1,columnWidth:t,rowHeight:f,rowCount:e.length,cellRenderer:E,style:u.grid})):null))):d?r.createElement(i.a,{onRetry:h},r.createElement(a.Trans,{id:"Can't load the results. Verify your internet connection or retry later."})):r.createElement(o.a,null)}},719:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(100),r=n.n(a),o=n(107),i=n(22),s=n(382),l=n(720),c=n(5);const u=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.a)(o);case 3:return c=e.sent,e.next=6,Object(l.a)(a,n,[c]);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),Object(i.a)({message:t._({id:"Unable to download and install the extension. Verify that your internet connection is working or try again later."}),rawError:e.t0,errorId:"download-extension-error"}),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.getEventsFunctionsExtensionOpener()){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,o.chooseEventsFunctionExtensionFile();case 6:if(s=e.sent){e.next=9;break}return e.abrupt("return",!1);case 9:return e.next=11,o.readEventsFunctionExtensionFile(s);case 11:if(u=e.sent,!a.hasEventsFunctionsExtensionNamed(u.name)){e.next=16;break}if(c.b.showConfirmDialog(t._({id:"An extension with this name already exists in the project. Importing this extension will replace it: are you sure you want to continue?"}))){e.next=16;break}return e.abrupt("return",!1);case 16:return e.next=18,Object(l.a)(n,a,[u]);case 18:return e.abrupt("return",!0);case 21:return e.prev=21,e.t0=e.catch(3),Object(i.a)({message:t._({id:"An error happened while loading this extension. Please check that it is a proper extension file and compatible with this version of GDevelop"}),rawError:e.t0,errorId:"extension-loading-error"}),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t,n,a){return e.apply(this,arguments)}}()},720:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return N}));var a=n(100),r=n.n(a),o=n(107),i=n(385),s=n(122),l=n(510),c=n(129),u=n(172),d=n.n(u),h=n(721),m=n.n(h),p=n(734),g=n.n(p),b=n(382),f=n(86);const E=e.gd,v=e=>{const t=new E.MapStringString;for(var n in e)t.set(n,e[n]);return t},y=e=>{const t=e.trim();if(!t)return"UnnamedObject";var n;let a=(n=t)?n.replace(/^[^A-Za-z0-9]*|[^A-Za-z0-9]*$/g,"$").replace(/[^A-Za-z0-9]+/g,"$").replace(/([a-z])([A-Z])/g,(function(e,t,n){return t+"$"+n})).toLowerCase().replace(/(\$)(\w?)/g,(function(e,t,n){return n.toUpperCase()})):"";return a[0]>="0"&&a[0]<="9"&&(a="_"+a),a},C=(e,t,n)=>{const a=t.name;if(n[a])return;const r=t.file,o=t.origin?t.origin.name:"",i=t.origin?t.origin.identifier:"",l=o&&i?e.getResourceNameWithOrigin(o,i):"",u=e.getResourceNameWithFile(r);if(l)return void(n[a]=l);if(u)return void(n[a]=u);let d=null;if("image"!==t.kind)throw new Error('Resource of kind "'.concat(t.kind,'" is not supported.'));d=new E.ImageResource,Object(c.c)(d,t);const h=Object(s.a)(a,t=>e.hasResource(t));d.setName(h),d.setOrigin(o,i),e.addResource(d),d.delete(),n[a]=h},x=function(){var e=Object(o.a)(r.a.mark((function e({asset:t,project:n,events:a,objectsContainer:o}){var i,u,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={},u={},d=[],t.objectAssets.forEach(e=>{e.resources.forEach(e=>{})}),t.objectAssets.forEach(e=>{const t=e.object.type;if(!t)throw new Error("An object has no type specified");const a=y(e.object.name),r=Object(s.a)(a,e=>o.hasObjectNamed(e)),h=o.insertNewObject(n,t,r,o.getObjectsCount());i[a]=r,Object(c.c)(h,e.object,"unserializeFrom",n),h.setName(r),e.resources.forEach(e=>{C(n.getResourcesManager(),e,u)});const m=v(u),p=new E.ResourcesRenamer(m);m.delete(),h.exposeResources(p),p.delete(),e.customization.forEach(e=>{if(e.behaviorName){const t=e.behaviorName,a=e.behaviorType,r=E.JsPlatform.get().getBehavior(a);if(Object(l.a)(E,r))throw new Error("Behavior with type "+a+" could not be found.");const o=h.addNewBehavior(n,a,t);e.properties.forEach(e=>{r.updateProperty(o.getContent(),e.name,e.defaultValue)})}}),d.push(h)}),t.objectAssets.forEach(e=>{const t=e.object.name,r=i[t];e.customization.forEach(e=>{if(e.events){const t=new E.GroupEvent;t.setName(r),Object(c.c)(t.getSubEvents(),e.events,"unserializeFrom",n),e.parameters.forEach(e=>{E.EventsRefactorer.replaceStringInEvents(n,o,t.getSubEvents(),e.name,e.defaultValue,!0,!0,!0)});for(const e in i){const a=i[e];e!==a&&E.EventsRefactorer.renameObjectInEvents(n.getCurrentPlatform(),n,o,t.getSubEvents(),e,a)}a.insertEvent(t,a.getEventsCount())}})}),e.abrupt("return",{createdObjects:d});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=e=>m()(d()(e.objectAssets.map(e=>e.customization.map(e=>{if(e.behaviorName){return{behaviorType:e.behaviorType,extensionName:e.extensionName,extensionVersion:e.extensionVersion}}return null}).filter(Boolean))),({behaviorType:e})=>e),O=(e,t)=>{const n=Object(f.mapVector)(e.asPlatform(e.JsPlatform.get()).getAllPlatformExtensions(),e=>e.getName());return t.filter(({extensionName:e})=>!n.includes(e))},T=e=>m()(d()(e.objectAssets.map(e=>d()(e.customization.map(e=>e.events?e.extensions:null).filter(Boolean)))),({extensionName:e})=>e),S=(e,t)=>t.filter(({behaviorType:t})=>{const n=e.JsPlatform.get().getBehavior(t);return Object(l.a)(e,n)}),w=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return",Promise.resolve([]));case 2:return e.next=4,Object(b.c)();case 4:return n=e.sent,e.next=7,Promise.all(g()(t).map(e=>{const t=n.extensionShortHeaders.find(t=>t.name===e);if(!t)throw new Error("Unable to find extension "+e+" in the registry.");return Object(b.a)(t)}));case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=(e,t,n)=>(n.forEach(e=>{const n=e.name;if(!n)return Promise.reject(new Error("Malformed extension (missing name)."));const a=t.hasEventsFunctionsExtensionNamed(n)?t.getEventsFunctionsExtension(n):t.insertNewEventsFunctionsExtension(n,0);Object(c.c)(a,e,"unserializeFrom",t)}),e.loadProjectEventsFunctionsExtensions(t)),N=function(){var e=Object(o.a)(r.a.mark((function e({assetShortHeader:t,eventsFunctionsExtensionsState:n,project:a,events:o,objectsContainer:s}){var l,c,u,d,h,m,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(t);case 2:return l=e.sent,c=j(l),u=T(l),d=S(E,c),h=O(E,u),e.next=9,w([...d.map(({extensionName:e})=>e),...h.map(({extensionName:e})=>e)]);case 9:return m=e.sent,e.next=12,k(n,a,m);case 12:if(!S(E,c).length){e.next=15;break}throw new Error("These behaviors could not be installed: "+d.map(({extensionName:e,behaviorType:t})=>"".concat(t," (").concat(e,")")).join(", "));case 15:if(!O(E,u).length){e.next=18;break}throw new Error("These extensions could not be installed: "+h.map(({extensionName:e})=>e).join(", "));case 18:return e.next=20,x({project:a,asset:l,events:o,objectsContainer:s});case 20:return p=e.sent,e.abrupt("return",p);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}).call(this,n(1))},73:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));var a=n(4),r=n.n(a);const o=e=>r.a.createElement("div",{style:{display:"flex",marginTop:e.noMargin?0:4,marginBottom:e.noMargin?0:4,alignItems:e.alignItems,justifyContent:e.justifyContent,flex:e.expand?1:void 0,overflow:e.overflow}},e.children),i=e=>r.a.createElement("div",{style:{display:"flex",marginLeft:e.noMargin?0:8,marginRight:e.noMargin?0:8,flexDirection:"column",alignItems:e.alignItems||"stretch",justifyContent:e.justifyContent,flex:e.expand?1:void 0,minHeight:e.useFullHeight?"0":void 0}},e.children),s=e=>r.a.createElement("span",{style:{width:4,height:4,flexShrink:0}})},735:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var a=n(71),r=n(4),o=n.n(r),i=n(81),s=n(93),l=n(83),c=n(84),u=n(259),d=n(92),h=n(232),m=n(264),p=n(736),g=n.n(p),b=n(161),f=n(510),E=n(88);const v=e.gd;class y extends r.Component{constructor(e){super(e),this._onApply=()=>{this.props.layout.setWindowDefaultTitle(this.state.windowTitle),this.props.layout.setStopSoundsOnStartup(this.state.shouldStopSoundsOnStartup),this.props.layout.setBackgroundColor(this.state.backgroundColor.r,this.state.backgroundColor.g,this.state.backgroundColor.b),this.props.onApply()},this.state=this._loadFrom(e.layout)}_loadFrom(e){return{windowTitle:e.getWindowDefaultTitle(),shouldStopSoundsOnStartup:e.stopSoundsOnStartup(),backgroundColor:{r:e.getBackgroundColorRed(),g:e.getBackgroundColorGreen(),b:e.getBackgroundColorBlue(),a:1}}}componentWillReceiveProps(e){(!this.props.open&&e.open||e.open&&this.props.layout!==e.layout)&&this.setState(this._loadFrom(e.layout))}render(){const e=this.props.layout,t=[o.a.createElement(i.a,{label:o.a.createElement(a.Trans,{id:"Ok"}),key:"ok",primary:!0,keyboardFocused:!0,onClick:this._onApply})],n=e.getAllBehaviorSharedDataNames().toJSArray().map(t=>{const n=e.getBehaviorSharedData(t),a=n.getTypeName(),r=v.JsPlatform.get().getBehaviorSharedDatas(a);if(Object(f.a)(v,r))return null;const i=r.getProperties(n.getContent()),s=Object(m.a)(i,e=>r.getProperties(e.getContent()),(e,t,n)=>{r.updateProperty(e.getContent(),t,n)});return!!s.length&&o.a.createElement(h.a,{key:t,schema:s,instances:[n]})}).filter(Boolean);return o.a.createElement(c.a,{title:o.a.createElement(a.Trans,{id:"Scene properties"}),actions:t,secondaryActions:o.a.createElement(l.a,{label:o.a.createElement(a.Trans,{id:"Edit scene variables"}),fullWidth:!0,onClick:()=>{this.props.onEditVariables(),this.props.onClose()}}),open:this.props.open,cannotBeDismissed:!0,onRequestClose:this.props.onClose,maxWidth:"sm"},o.a.createElement(E.a,{expand:!0,noMargin:!0},o.a.createElement(s.b,{floatingLabelText:o.a.createElement(a.Trans,{id:"Window title"}),fullWidth:!0,type:"text",value:this.state.windowTitle,onChange:(e,t)=>this.setState({windowTitle:t})}),o.a.createElement(b.a,{checked:this.state.shouldStopSoundsOnStartup,label:o.a.createElement(a.Trans,{id:"Stop music and sounds on startup"}),onCheck:(e,t)=>this.setState({shouldStopSoundsOnStartup:t})}),o.a.createElement(u.a,{floatingLabelText:o.a.createElement(a.Trans,{id:"Scene background color"}),fullWidth:!0,disableAlpha:!0,color:this.state.backgroundColor,onChangeComplete:e=>this.setState({backgroundColor:e.rgb})}),!g()(n)&&o.a.createElement(d.a,null,o.a.createElement(a.Trans,{id:"Any additional properties will appear here if you add behaviors to objects, like Physics behavior."})),n,this.props.onOpenMoreSettings&&o.a.createElement(l.a,{label:o.a.createElement(a.Trans,{id:"Open advanced settings"}),fullWidth:!0,onClick:()=>{this.props.onOpenMoreSettings&&this.props.onOpenMoreSettings(),this.props.onClose()}})))}}}).call(this,n(1))},738:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(230);t.a=e=>r.createElement(o.a,{open:e.open,variablesContainer:e.layout.getVariables(),onCancel:e.onClose,onApply:e.onApply,title:r.createElement(a.Trans,{id:"Scene Variables"}),emptyExplanationMessage:r.createElement(a.Trans,{id:"Scene variables can be used to store any value or text during the game."}),emptyExplanationSecondMessage:r.createElement(a.Trans,{id:"For example, you can have a variable called Score representing the current score of the player."}),hotReloadPreviewButtonProps:e.hotReloadPreviewButtonProps})},739:function(e,t,n){"use strict";function a(e,t){const n=t.getCurrentPlatform().getAllPlatformExtensions();for(let a=0;a<n.size();a++)if(n.at(a).getName()===e)return!0;return t.hasEventsFunctionsExtensionNamed(e)}n.d(t,"a",(function(){return a}))},740:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(77);class r{constructor(){this.registerCommand=(e,t)=>{if(this._commands[e])return console.warn("Tried to register command ".concat(e,", but it is already registered."));this._commands[e]=t},this.deregisterCommand=e=>{if(!this._commands[e])return console.warn("Tried to deregister command ".concat(e,", but it is not registered."));delete this._commands[e]},this.getNamedCommand=e=>{const t=this._commands[e];return t?Object(a.a)({name:e},t):null},this.getAllNamedCommands=()=>Object.keys(this._commands).map(e=>{const t=this._commands[e];return Object(a.a)(Object(a.a)({},t),{},{name:e})}),this._commands={}}}},741:function(e,t,n){"use strict";var a=n(4);t.a=e=>{const t=Object(a.useRef)(null);let n=t.current;if(null!==n)return n;let r=e();return t.current=r,r}},742:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var a=n(77),r=n(4),o=n.n(r),i=n(161),s=n(201),l=n(97),c=n(307);const u={position:"relative",display:"inline-block",width:100,height:100,justifyContent:"center",alignItems:"center",lineHeight:"100px",textAlign:"center",border:"#AAAAAA 1px solid",borderColor:"#AAAAAA"},d={spriteThumbnail:Object(a.a)(Object(a.a)({},u),{},{background:'url("res/transparentback.png") repeat'}),spriteThumbnailImage:{maxWidth:100,maxHeight:100,verticalAlign:"middle",pointerEvents:"none"},checkboxContainer:{textAlign:"initial",position:"absolute",width:34,height:64,bottom:0,right:0}};t.a=({project:e,resourceName:t,resourcesLoader:n,style:r,selectable:u,selected:h,onSelect:m,onContextMenu:p,muiTheme:g})=>{const b=Object(c.a)(o.a.useCallback(e=>{p&&p(e.clientX,e.clientY)},[p]));return o.a.createElement(l.a,null,l=>o.a.createElement("div",Object.assign({title:t,style:Object(a.a)(Object(a.a)({},d.spriteThumbnail),{},{borderColor:h?l.imageThumbnail.selectedBorderColor:void 0},r),onContextMenu:e=>{e.stopPropagation(),p&&p(e.clientX,e.clientY)}},b),o.a.createElement(s.a,{style:d.spriteThumbnailImage,alt:t,src:n.getResourceFullUrl(e,t,{})}),u&&o.a.createElement("div",{style:d.checkboxContainer},o.a.createElement(i.a,{checked:h,onCheck:(e,t)=>m(t)}))))}},745:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(4),r=n(521);class o extends a.Component{shouldComponentUpdate(e){return e.isActive}componentDidMount(){if(this.props.isActive){const e=this.getLayout();this.props.setPreviewedLayout(e?e.getName():null)}}componentDidUpdate(e){if(!e.isActive&&this.props.isActive){const e=this.getLayout();this.props.setPreviewedLayout(e?e.getName():null)}}getProject(){return this.props.project}updateToolbar(){this.editor&&this.editor.updateToolbar()}forceUpdateEditor(){}getLayout(){const e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasLayoutNamed(n)?t.getLayout(n):null}render(){const e=this.props,t=e.project,n=e.projectItemName,o=this.getLayout();return o&&t?a.createElement(r.a,{ref:e=>this.editor=e,setToolbar:this.props.setToolbar,onOpenLayout:this.props.onOpenLayout,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.props.onCreateEventsFunction,unsavedChanges:this.props.unsavedChanges,project:t,scope:{layout:o},globalObjectsContainer:t,objectsContainer:o,events:o.getEvents(),onOpenExternalEvents:this.props.onOpenExternalEvents}):a.createElement("div",null,"No layout called ",n," found!")}}const i=e=>a.createElement(o,e)},771:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(4),r=n(128);function o({canDrop:e}){return a.createElement("div",{className:e?r.e:r.b})}},772:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(4),r=n(102);class o extends a.Component{constructor(...e){super(...e),this._field=null}focus(){this._field&&this._field.focus()}render(){const e=this.props.parameterMetadata,t=e?e.getDescription():void 0;return a.createElement(r.a,{margin:this.props.isInline?"none":"dense",commitOnBlur:!0,value:this.props.value,floatingLabelText:t,helperMarkdownText:e?e.getLongDescription():void 0,onChange:e=>this.props.onChange(e),ref:e=>this._field=e,fullWidth:!0})}}const i=({value:e,parameterMetadata:t,MissingParameterValue:n})=>e||t.isOptional()?e:a.createElement(n,null)},773:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(136),r=n(4),o=n(188),i=n(182),s=n(148),l=n(189);class c extends r.Component{focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.value,n=e.onChange,c=e.onChoose,u=e.project,d=e.globalObjectsContainer,h=e.objectsContainer,m=e.allowedObjectType,p=e.noGroups,g=e.errorTextIfInvalid,b=e.margin,f=e.onRequestClose,E=Object(a.a)(e,["value","onChange","onChoose","project","globalObjectsContainer","objectsContainer","allowedObjectType","noGroups","errorTextIfInvalid","margin","onRequestClose"]),v=(({project:e,globalObjectsContainer:t,objectsContainer:n,noGroups:a,allowedObjectType:i})=>{const c=Object(o.d)(t,n,i||void 0);return[...c.allObjectsList.map(({object:t})=>({text:t.getName(),value:t.getName(),renderIcon:e?()=>r.createElement(s.a,{iconSize:24,src:l.a.getThumbnail(e,t)}):void 0})),{type:"separator"},...a?[]:c.allGroupsList.map(({group:e})=>({text:e.getName(),value:e.getName()}))]})({project:u,globalObjectsContainer:d,objectsContainer:h,noGroups:p,allowedObjectType:m}),y=0!==v.filter(e=>void 0!==e.text&&t===e.text).length;return r.createElement(i.a,Object.assign({margin:b,hintText:{id:"Choose an object"},value:t,onChange:n,onChoose:c,onRequestClose:f,dataSource:v,errorText:y?void 0:g,ref:e=>this._field=e},E))}}},778:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a=n(399),r=n.n(a),o=n(170),i=n.n(o),s=n(104),l=n(114),c=n(1609);const u=e.gd,d={},h={},m=s.Texture.from("res/error48.png");class p{static _initializeTexture(e,t){if("image"!==e.getKind())return;u.asImageResource(e).isSmooth()||(t.baseTexture.scaleMode=s.SCALE_MODES.NEAREST)}static loadTextures(e,t,n,a){const r=e.getResourcesManager(),o=s.Loader.shared;o.reset();const i={};t.forEach(t=>{if(!r.hasResource(t))return;const n=r.getResource(t),a=l.a.getResourceFullUrl(e,t,{isResourceForPixi:!0});o.add(t,a),i[t]=n});const c=Object.keys(i).length;if(!c)return void a();let u=0;const d=o.onProgress.add((function(){u++,n(u,c)}));o.load((e,t)=>{e.onProgress.detach(d);for(const n in t)if(t.hasOwnProperty(n)){const e=r.getResource(n);if("image"!==e.getKind())continue;h[n]=t[n].texture,p._initializeTexture(e,h[n])}a()})}static getPIXITexture(e,t){if(h[t])return h[t];if(!e.getResourcesManager().hasResource(t))return m;const n=e.getResourcesManager().getResource(t);return"image"!==n.getKind()?m:(h[t]=s.Texture.from(l.a.getResourceFullUrl(e,t,{isResourceForPixi:!0})),p._initializeTexture(n,h[t]),h[t])}static getPIXIVideoTexture(e,t){if(h[t])return h[t];if(!e.getResourcesManager().hasResource(t))return m;return"video"!==e.getResourcesManager().getResource(t).getKind()?m:(h[t]=s.Texture.from(l.a.getResourceFullUrl(e,t,{disableCacheBurst:!0,isResourceForPixi:!0}),{scaleMode:s.SCALE_MODES.LINEAR,resourceOptions:{autoPlay:!1}}),h[t])}static loadFontFamily(e,t){if(d[t])return Promise.resolve(d[t]);const n=r()(t);let a=null;if(e.getResourcesManager().hasResource(t)){"font"===e.getResourcesManager().getResource(t).getKind()&&(a=l.a.getResourceFullUrl(e,t,{isResourceForPixi:!0}))}else a=l.a.getFullUrl(e,t,{isResourceForPixi:!0});return a?Object(c.a)(n,'url("'.concat(a,'")'),{}).then(e=>(d[t]=n,n)):Promise.resolve("Arial")}static getFontFamily(e,t){if(d[t])return d[t];return r()(t)}static getInvalidPIXITexture(){return m}static getResourceJsonData(e,t){if(!e.getResourcesManager().hasResource(t))return Promise.reject(new Error("Can't find resource called ".concat(t,".")));if("json"!==e.getResourcesManager().getResource(t).getKind())return Promise.reject(new Error("The resource called ".concat(t," is not a json file.")));const n=l.a.getResourceFullUrl(e,t,{isResourceForPixi:!0});return i.a.get(n).then(e=>e.data)}}}).call(this,n(1))},779:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{if(e)return e;return t&&t.isOptional()?t.getDefaultValue():""}},780:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return g}));var a=n(86),r=n(172),o=n.n(r);const i=e.gd,s=e=>"string"===e||"number|string"===e,l=e=>"number"===e||"number|string"===e,c=e=>{const t=e.getExtensionObjectsTypes(),n=e.getBehaviorsTypes();return t.size()>0||n.size()>0?("BuiltinObject"===e.getName()?"Common expressions for all objects":e.getFullName())+"/":""},u=(e,t,n)=>Object(a.mapVector)(t.keys(),a=>{const r=t.get(a);if(!r.isShown())return null;for(var o=[],i=0;i<r.getParametersCount();i++)n.objectMetadata&&0===i||n.behaviorMetadata&&i<=1||r.getParameter(i).isCodeOnly()||o.push(r.getParameter(i));return{type:a,name:a,displayedName:r.getFullName(),fullGroupName:e+r.getGroup(),iconFilename:r.getSmallIconFilename(),metadata:r,parameters:o,scope:n,isPrivate:r.isPrivate()}}).filter(Boolean),d=e=>{const t=i.asPlatform(i.JsPlatform.get()).getAllPlatformExtensions(),n=l(e),r=s(e);return o()(Object(a.mapVector)(t,e=>{const t=c(e),a={extension:e,objectMetadata:void 0,behaviorMetadata:void 0};return[...r?u(t,e.getAllStrExpressions(),a):[],...n?u(t,e.getAllExpressions(),a):[]]}))},h=(e,t)=>{const n=i.MetadataProvider.getExtensionAndObjectMetadata(i.JsPlatform.get(),t),a=n.getExtension(),r={extension:a,objectMetadata:n.getMetadata()};let o=[...s(e)?u("",a.getAllStrExpressionsForObject(t),r):[],...l(e)?u("",a.getAllExpressionsForObject(t),r):[]];if(""!==t){const t=i.MetadataProvider.getExtensionAndObjectMetadata(i.JsPlatform.get(),"").getExtension();o=[...o,...s(e)?u("",t.getAllStrExpressionsForObject(""),r):[],...l(e)?u("",t.getAllExpressionsForObject(""),r):[]]}return o},m=(e,t)=>{const n=i.MetadataProvider.getExtensionAndBehaviorMetadata(i.JsPlatform.get(),t),a=n.getExtension(),r={extension:a,behaviorMetadata:n.getMetadata()};return[...s(e)?u("",a.getAllStrExpressionsForBehavior(t),r):[],...l(e)?u("",a.getAllExpressionsForBehavior(t),r):[]]},p=e=>{const t=l(e),n=s(e),r=[],o=[],h=d(e),m=i.asPlatform(i.JsPlatform.get()).getAllPlatformExtensions();return Object(a.mapVector)(m,e=>{const i=c(e);Object(a.mapVector)(e.getExtensionObjectsTypes(),a=>{const o=e.getObjectMetadata(a),s={extension:e,objectMetadata:o};n&&r.push.apply(r,u(i,e.getAllStrExpressionsForObject(a),s)),t&&r.push.apply(r,u(i,e.getAllExpressionsForObject(a),s))}),Object(a.mapVector)(e.getBehaviorsTypes(),a=>{const r=e.getBehaviorMetadata(a),s={extension:e,behaviorMetadata:r};n&&o.push.apply(o,u(i,e.getAllStrExpressionsForBehavior(a),s)),t&&o.push.apply(o,u(i,e.getAllExpressionsForBehavior(a),s))})}),[...h,...r,...o]},g=(e,t)=>{if(!t)return e;const n=t.toLowerCase();return(e=>{if(!t)return e;for(var a=0;a<e.length;++a)if(e[a].type.toLowerCase()===n){const t=e[a];e.splice(a,1),e.unshift(t)}return e})(e.filter(e=>-1!==e.type.toLowerCase().indexOf(n)))}}).call(this,n(1))},783:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(4),r=n(99),o=n(148),i=n(275);const s=({instructionOrExpressionMetadata:e,iconSize:t,onClick:n,selectedValue:s})=>a.createElement(r.b,{key:Object(i.a)(e),selected:s===Object(i.b)(e.type),primaryText:e.displayedName,secondaryText:e.fullGroupName,leftIcon:a.createElement(o.a,{iconSize:t,src:e.iconFilename}),onClick:n})},784:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(2312),r=n(4),o=n(99),i=n(148),s=n(149),l=n(172),c=n.n(l),u=n(275);const d=({instructionTreeNode:e,onChoose:t,iconSize:n,useSubheaders:l,selectedValue:h,selectedItemRef:m,initiallyOpenedPath:p})=>{const g=p||[],b=Object(a.a)(g),f=b[0],E=b.slice(1);return c()(Object.keys(e).map(a=>{const c=e[a];if(!c)return null;if("string"===typeof c.type){const e=c,s=Object(u.b)(c.type),l=h===s;return r.createElement(o.b,{key:s,primaryText:a,selected:l,leftIcon:r.createElement(i.a,{iconSize:n,src:e.iconFilename}),onClick:()=>{t(e.type,e)},ref:l?m:void 0})}{const e=c;if(l)return[r.createElement(s.a,{key:Object(u.f)(a)},a)].concat(d({instructionTreeNode:e,onChoose:t,iconSize:n,useSubheaders:!1,selectedValue:h,selectedItemRef:m,initiallyOpenedPath:E}));{const i=f===a;return r.createElement(o.b,{key:a,primaryText:a,autoGenerateNestedIndicator:!0,initiallyOpen:i,renderNestedItems:()=>d({instructionTreeNode:e,onChoose:t,iconSize:n,selectedValue:h,selectedItemRef:m,initiallyOpenedPath:i?E:void 0})})}}}))}},785:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(71),r=n(4),o=n(534),i=n(230);class s extends r.Component{constructor(...e){super(...e),this.state={editorOpen:!1}}focus(){this._field&&this._field.focus()}render(){const e=this.props.scope,t=e.layout;return r.createElement(r.Fragment,null,r.createElement(o.a,{variablesContainer:t?t.getVariables():null,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,onRequestClose:this.props.onRequestClose,ref:e=>this._field=e,onOpenDialog:()=>this.setState({editorOpen:!0}),globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:e}),this.state.editorOpen&&t&&r.createElement(i.a,{title:r.createElement(a.Trans,{id:"Scene Variables"}),open:!0,variablesContainer:t.getVariables(),onCancel:()=>this.setState({editorOpen:!1}),onApply:()=>{this.setState({editorOpen:!1})},emptyExplanationMessage:r.createElement(a.Trans,{id:"Scene variables can be used to store any value or text during the game."}),emptyExplanationSecondMessage:r.createElement(a.Trans,{id:"For example, you can have a variable called Score representing the current score of the player."})}))}}const l=e=>Object(o.b)(e,"res/types/scenevar.png","scene variable")},787:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(4),r=n(187);const o=e=>{const t={canDrag(e,t){const n=t.getItem(),a=e.canDrag||null;return!a||a(n)},beginDrag:e=>e.beginDrag()};const n={canDrop(e,t){const n=t.getItem();return n&&e.canDrop(n)},drop(e,t){t.didDrop()||e.drop()}};const o=Object(r.DragSource)(e,t,(function(e,t){return{connectDragSource:e.dragSource()}}))(Object(r.DropTarget)(e,n,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop()}}))(({children:e,connectDragSource:t,connectDropTarget:n,isOver:a,canDrop:r})=>e({connectDragSource:t,connectDropTarget:n,isOver:a,canDrop:r})));return e=>a.createElement(o,e)}},788:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return p}));var a=n(231),r=n(398),o=n(129);const i=e.gd,s="EventsAndInstructions",l=()=>{if(!a.b.has(s))return!1;const e=a.b.get(s),t=a.a.extractNumberProperty(e,"eventsCount");return null!==t&&t>0},c=()=>{if(!a.b.has(s))return!1;const e=a.b.get(s),t=a.a.extractNumberProperty(e,"conditionsCount");return null!==t&&t>0},u=()=>{if(!a.b.has(s))return!1;const e=a.b.get(s),t=a.a.extractNumberProperty(e,"actionsCount");return null!==t&&t>0},d=e=>{const t=new i.EventsList,n=new i.InstructionsList,l=new i.InstructionsList;Object(r.d)(e).forEach(e=>t.insertEvent(e,t.getEventsCount())),Object(r.f)(e).forEach(e=>{e.isCondition?l.insert(e.instruction,l.size()):n.insert(e.instruction,n.size())}),a.b.set(s,{eventsList:Object(o.b)(t),eventsCount:t.getEventsCount(),actionsList:Object(o.b)(n),actionsCount:n.size(),conditionsList:Object(o.b)(l),conditionsCount:l.size()}),t.delete(),n.delete(),l.delete()},h=(e,t)=>{if(!Object(r.h)(t)||!l())return!1;const n=a.b.get(s),c=a.a.extractArrayProperty(n,"eventsList");if(!c)return!1;const u=new i.EventsList;return Object(o.c)(u,c,"unserializeFrom",e),Object(r.c)(t).forEach(e=>{e.eventsList.insertEvents(u,0,u.getEventsCount(),e.indexInList)}),u.delete(),!0},m=(e,t)=>{if(!Object(r.i)(t)&&!Object(r.j)(t)||!c()&&!u())return!1;const n=a.b.get(s),l=a.a.extractArrayProperty(n,"actionsList"),d=a.a.extractArrayProperty(n,"conditionsList");if(!l||!d)return!1;const h=new i.InstructionsList,m=new i.InstructionsList;return Object(o.c)(h,l,"unserializeFrom",e),Object(o.c)(m,d,"unserializeFrom",e),Object(r.f)(t).forEach(e=>{e.isCondition?e.instrsList.insertInstructions(m,0,m.size(),e.indexInList):e.instrsList.insertInstructions(h,0,h.size(),e.indexInList)}),Object(r.g)(t).forEach(e=>{e.isCondition?e.instrsList.insertInstructions(m,0,m.size(),e.instrsList.size()):e.instrsList.insertInstructions(h,0,h.size(),e.instrsList.size())}),m.delete(),h.delete(),!0},p=(e,t)=>{if(!c()&&!u())return!1;const n=a.b.get(s),r=a.a.extractArrayProperty(n,"actionsList"),l=a.a.extractArrayProperty(n,"conditionsList");if(!r||!l)return;const d=new i.InstructionsList,h=new i.InstructionsList;return Object(o.c)(d,r,"unserializeFrom",e),Object(o.c)(h,l,"unserializeFrom",e),t.isCondition?t.instrsList.insertInstructions(h,0,h.size(),t.instrsList.size()):t.instrsList.insertInstructions(d,0,d.size(),t.instrsList.size()),h.delete(),d.delete(),!0}}).call(this,n(1))},789:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(4),r=n(187);const o=e=>{const t={canDrop(e,t){const n=t.getItem();return n&&e.canDrop(n)},hover(e,t){e.hover&&e.hover(t)},drop(e,t){t.didDrop()||e.drop(t)}};const n=Object(r.DropTarget)(e,t,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop()}}))(({children:e,connectDropTarget:t,isOver:n,canDrop:a})=>e({connectDropTarget:t,isOver:n,canDrop:a}));return e=>a.createElement(n,e)}},790:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(172),r=n.n(a),o=n(86);const i=e.gd,s=()=>{const e=i.asPlatform(i.JsPlatform.get()).getAllPlatformExtensions();return r()(Object(o.mapFor)(0,e.size(),t=>{const n=e.at(t).getAllEvents();return n.keys().toJSArray().map(e=>{const t=n.get(e);return{type:e,fullName:t.getFullName(),description:t.getDescription()}})}))}}).call(this,n(1))},791:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return N}));var a=n(77),r=n(71),o=n(4),i=n(304),s=n(86),l=n(92),c=n(525),u=n(106),d=n(73),h=n(124),m=n(169),p=n(5),g=n(212),b=n(403),f=n(242),E=n(309),v=n.n(E),y=n(95),C=n(274),x=n(80),j=n(536),O=n(88),T=n(793);const S=e.gd,w={container:{display:"flex",flexDirection:"column",flex:1},emptyContainer:{display:"flex",alignItems:"center",justifyContent:"center"},parametersContainer:{flex:1,overflowY:"auto"},icon:{width:24,height:24,marginRight:8,paddingTop:12,flexShrink:0},invertToggle:{marginTop:8},description:{whiteSpace:"pre-wrap"}},k=(e,t,n)=>!e.isCodeOnly()&&t!==n;class N extends o.Component{constructor(...e){super(...e),this._firstVisibleField={},this.state={isDirty:!1},this._openExtension=e=>{if(this.state.isDirty){if(!p.b.showConfirmDialog(e._({id:"You've made some changes here. Are you sure you want to discard them and open the function?"})))return}const t=this.props,n=t.instruction,a=t.isCondition,r=t.project,o=n.getType();if(!o)return null;const i=a?S.MetadataProvider.getExtensionAndConditionMetadata(r.getCurrentPlatform(),o).getExtension():S.MetadataProvider.getExtensionAndActionMetadata(r.getCurrentPlatform(),o).getExtension();this.props.openInstructionOrExpression(i,o)}}componentDidMount(){this.props.focusOnMount&&setTimeout(()=>{this.focus()},300)}focus(){const e=this.props,t=e.instruction,n=e.isCondition,a=e.project;0!==this._getVisibleParametersCount(Object(j.a)({instructionType:t.getType(),isCondition:n,project:a}),this.props.objectName)&&this._firstVisibleField&&this._firstVisibleField.focus&&this._firstVisibleField.focus()}_getVisibleParametersCount(e,t){if(!e)return 0;const n=t?Object(C.f)(e):-1;return Object(s.mapFor)(0,e.getParametersCount(),t=>{if(!e)return!1;const a=e.getParameter(t);return k(a,t,n)}).filter(e=>e).length}_renderEmpty(){return o.createElement("div",{style:Object(a.a)(Object(a.a)({},w.emptyContainer),this.props.style)},o.createElement(l.a,null,this.props.isCondition?o.createElement(r.Trans,{id:"Choose a condition (or an object then a condition) on the left"}):o.createElement(r.Trans,{id:"Choose an action (or an object then an action) on the left"})))}render(){const e=this.props,t=e.instruction,n=e.project,a=e.globalObjectsContainer,p=e.objectsContainer,E=e.noHelpButton,S=e.objectName,N=e.isCondition,_=e.scope,P=t.getType(),I=Object(j.a)({instructionType:P,isCondition:N,project:n});if(!I)return this._renderEmpty();const B=I.getHelpPath(),R=Object(g.e)(P),M=Object(g.g)(P),F=S?Object(C.f)(I):-1;Object(T.a)(a,p,t,I,S);let L=0;return o.createElement(r.I18n,null,({i18n:e})=>o.createElement("div",{style:w.container},o.createElement(d.b,{alignItems:"flex-start"},o.createElement("img",{src:I.getIconFilename(),alt:"",style:w.icon}),o.createElement(x.a,{style:w.description},I.getDescription()),Object(f.d)(I)&&o.createElement(y.a,{onClick:()=>{this._openExtension(e)}},o.createElement(v.a,null))),R&&o.createElement(d.b,null,void 0===R.identifier?o.createElement(h.a,{kind:R.kind},e._(R.message)):o.createElement(m.a,{kind:R.kind,identifier:R.identifier},e._(R.message))),M.length?o.createElement(d.b,null,o.createElement(O.a,{expand:!0},M.map(e=>o.createElement(b.a,{key:e.identifier,tutorialHint:e})))):null,o.createElement(d.c,null),o.createElement("div",{key:P,style:w.parametersContainer},o.createElement(O.a,{noMargin:!0},Object(s.mapFor)(0,I.getParametersCount(),e=>{const r=I.getParameter(e);if(!k(r,e,F))return null;const i=r.getType(),s=c.a.getParameterComponent(i),l=0===L;return L++,o.createElement(s,{instructionMetadata:I,instruction:t,parameterMetadata:r,parameterIndex:e,value:t.getParameter(e),onChange:n=>{t.getParameter(e)!==n&&(t.setParameter(e,n),this.setState({isDirty:!0}))},project:n,scope:_,globalObjectsContainer:a,objectsContainer:p,key:e,parameterRenderingService:c.a,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,ref:e=>{l&&(this._firstVisibleField=e)}})})),0===this._getVisibleParametersCount(I,S)&&o.createElement(l.a,null,o.createElement(r.Trans,{id:"There is nothing to configure."})),this.props.isCondition&&o.createElement(i.a,{label:o.createElement(r.Trans,{id:"Invert condition"}),labelPosition:"right",toggled:t.isInverted(),style:w.invertToggle,onToggle:(e,n)=>{t.setInverted(n),this.forceUpdate()}})),o.createElement(d.b,null,!E&&B&&o.createElement(u.a,{helpPagePath:I.getHelpPath(),label:this.props.isCondition?o.createElement(r.Trans,{id:"Help for this condition"}):o.createElement(r.Trans,{id:"Help for this action"})}))))}}}).call(this,n(1))},793:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(274);const r=e.gd,o=(e,t,n,o,i)=>{if(n.setParametersCount(o.getParametersCount()),!i)return;const s=Object(a.f)(o);if(-1===s)return void console.error('Instruction "'.concat(o.getFullName(),'" is used for an object, but does not have an object as first parameter'));n.setParameter(s,i);const l=s+1;if(l<o.getParametersCount()){const a=o.getParameter(l);if(!r.ParameterMetadata.isBehavior(a.getType()))return;const s=a.getExtraInfo(),c=r.getBehaviorsOfObject(e,t,i,!0).toJSArray().filter(n=>!s||r.getTypeOfBehavior(e,t,n,!1)===s);if(c.length>0){const e=n.getParameter(l);c.some(t=>e===t)||n.setParameter(l,c[0])}}}}).call(this,n(1))},794:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(4),r=n(73);const o=e=>{const t=e.getColumns();return a.createElement(r.b,{noMargin:!0,expand:!0},t.map(t=>e.columnsRenderer[t]?e.columnsRenderer[t]():null))}},795:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return c}));var a=n(129);const r=(e,{historyMaxSize:t})=>({undoHistory:[],current:Object(a.b)(e),redoHistory:[],maxSize:t}),o=e=>!!e.redoHistory.length,i=e=>!!e.undoHistory.length,s=(e,t)=>{const n=[...e.undoHistory,e.current];return n.length>e.maxSize&&n.splice(0,n.length-e.maxSize),{undoHistory:n,current:Object(a.b)(t),redoHistory:[],maxSize:e.maxSize}},l=(e,t,n)=>{if(!e.undoHistory.length)return e;const r=e.undoHistory[e.undoHistory.length-1];return Object(a.c)(t,r,"unserializeFrom",n),{undoHistory:e.undoHistory.slice(0,-1),current:r,redoHistory:[...e.redoHistory,e.current],maxSize:e.maxSize}},c=(e,t,n)=>{if(!e.redoHistory.length)return e;const r=e.redoHistory[e.redoHistory.length-1];return Object(a.c)(t,r,"unserializeFrom",n),{undoHistory:[...e.undoHistory,e.current],current:r,redoHistory:e.redoHistory.slice(0,-1),maxSize:e.maxSize}}},796:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return g}));var a=n(129),r=n(86),o=n(242),i=n(1673);const s=e.gd,l=({globalObjectsContainer:e,objectsContainer:t,serializedEvents:n,project:r,eventsFunction:o})=>{o.setName("MyFunction"),o.setFunctionType(s.EventsFunction.Action),Object(a.c)(o.getEvents(),n,"unserializeFrom",r);const l=new s.EventsContextAnalyzer(s.JsPlatform.get(),e,t);l.launch(o.getEvents());const c=l.getEventsContext(),u=c.getReferencedObjectOrGroupNames().toNewVectorString().toJSArray(),d=c.getObjectNames().toNewVectorString().toJSArray(),h=u.filter(e=>-1===d.indexOf(e)).map(n=>Object(i.a)(e,t,n)).filter(Boolean),m=h.filter(e=>!u.some(t=>e.find(t))),p=m.map(e=>e.getName()),g=d.filter(e=>!m.some(t=>t.find(e))),b=o.getParameters();b.clear(),[...p,...g].forEach(n=>{const a=new s.ParameterMetadata;a.setType("objectList"),a.setName(n),a.setExtraInfo(s.getTypeOfObject(e,t,n,!0)),b.push_back(a);c.getBehaviorNamesOfObjectOrGroup(n).toNewVectorString().toJSArray().forEach(n=>{const a=new s.ParameterMetadata;a.setType("behavior"),a.setName(n),a.setExtraInfo(s.getTypeOfBehavior(e,t,n,!1)),b.push_back(a)})}),h.filter(e=>!p.includes(e.getName())).forEach(e=>{e&&o.getObjectGroups().insert(e,0)}),l.delete()},c=(e,t)=>{const n=new s.Instruction;return n.setType(Object(o.a)(e,t)),n.setParametersCount(t.getParameters().size()+1+1),Object(r.mapVector)(t.getParameters(),(e,t)=>{n.setParameter(1+t,e.getName())}),n},u=e=>s.Project.validateName(e),d=e=>s.Project.validateName(e),h=(e,t)=>!e.hasEventsFunctionsExtensionNamed(t),m=(e,t,n)=>{if(e.hasEventsFunctionsExtensionNamed(t)){return!e.getEventsFunctionsExtension(t).hasEventsFunctionNamed(n.getName())}return!0},p=(e,t,n)=>""!==t&&d(t)&&""!==n.getName()&&u(n.getName())&&m(e,t,n)&&""!==n.getFullName()&&""!==n.getSentence(),g=e=>e.getParameters().size()>7}).call(this,n(1))},797:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return R}));var a=n(77),r=n(71),o=n(4),i=n(73),s=n(111),l=n(112),c=n(86),u=n(83),d=n(95),h=n(92),m=n(138),p=n(308),g=n.n(p),b=n(106),f=n(102),E=n(190),v=n(22),y=n(798),C=n(1674),x=n(404),j=n(242),O=n(147),T=n.n(O),S=n(181),w=n.n(S),k=n(169),N=n(88),_=n(533);const P=e.gd,I={parametersContainer:{flex:1}},B=({extraInfo:e,setExtraInfo:t})=>{let n=[];try{""!==e&&(n=JSON.parse(e)),Array.isArray(n)||(n=[])}catch(s){console.error("Cannot parse parameter extraInfo: ",s)}const a=()=>t(JSON.stringify(n));return o.createElement(N.b,null,o.createElement(i.a,{justifyContent:"flex-end",expand:!0},n.map((e,t)=>o.createElement(i.b,{key:t,justifyContent:"flex-end",expand:!0,marginSize:"5px"},o.createElement(f.a,{commitOnBlur:!0,value:e,onChange:e=>{n[t]=e,a()},fullWidth:!0}),o.createElement(d.a,{tooltip:{id:"Delete option"},onClick:()=>{n.splice(t,1),a()}},o.createElement(w.a,null)))),o.createElement(i.b,{justifyContent:"flex-end",expand:!0},o.createElement(u.a,{primary:!0,onClick:()=>{n.push("New Option"),a()},label:o.createElement(r.Trans,{id:"Add a new option"}),icon:o.createElement(T.a,null)}))))};class R extends o.Component{constructor(...e){super(...e),this.state={longDescriptionShownIndexes:{}},this._addParameter=()=>{const e=this.props.eventsFunction.getParameters(),t=new P.ParameterMetadata;t.setType("objectList"),e.push_back(t),t.delete(),this.forceUpdate(),this.props.onParametersUpdated()},this._removeParameter=e=>{const t=this.props.eventsFunction.getParameters();P.removeFromVectorParameterMetadata(t,e),this.forceUpdate(),this.props.onParametersUpdated()},this._addLongDescription=e=>{this.setState(t=>({longDescriptionShownIndexes:Object(a.a)(Object(a.a)({},t.longDescriptionShownIndexes),{},{[e]:!0})}))},this._removeLongDescription=e=>{this.props.eventsFunction.getParameters().at(e).setLongDescription(""),this.setState(t=>({longDescriptionShownIndexes:Object(a.a)(Object(a.a)({},t.longDescriptionShownIndexes),{},{[e]:!1})}))},this._moveParameters=(e,t)=>{const n=this.props,a=n.eventsFunction,r=n.eventsBasedBehavior,o=a.getParameters();r?this.props.onMoveBehaviorEventsParameter&&this.props.onMoveBehaviorEventsParameter(r,a,e,t,n=>{n&&(P.swapInVectorParameterMetadata(o,e,t),this.forceUpdate(),this.props.onParametersUpdated())}):this.props.onMoveFreeEventsParameter&&this.props.onMoveFreeEventsParameter(a,e,t,n=>{n&&(P.swapInVectorParameterMetadata(o,e,t),this.forceUpdate(),this.props.onParametersUpdated())})}}render(){const e=this.props,t=e.project,n=e.eventsFunction,a=e.eventsBasedBehavior,p=e.freezeParameters,O=e.helpPagePath,S=n.getParameters();if(!!a&&Object(x.g)(n.getName()))return o.createElement(h.a,null,o.createElement(r.Trans,{id:'This is a "lifecycle method". It will be called automatically by the game engine and has two parameters: "Object" (the object the behavior is acting on) and "Behavior" (the behavior itself).'}));if(!a&&Object(x.h)(n.getName()))return o.createElement(i.a,null,o.createElement(k.a,{kind:"info",identifier:"lifecycle-events-function-included-only-if-extension-used"},o.createElement(r.Trans,{id:"For the lifecycle functions to be executed, you need the extension to be used in the game, either by having at least one action, condition or expression used, or a behavior of the extension added to an object. Otherwise, the extension won't be included in the game."})),o.createElement(h.a,null,o.createElement(r.Trans,{id:'This is a "lifecycle function". It will be called automatically by the game engine. It has no parameters. Only global objects can be used as the events will be run for all scenes in your game.'})));const w=e=>!!p||!!a&&e<2,R=e=>!a||e>=2,M=(e,t)=>!!R(t)&&(!!e.getLongDescription()||!!this.state.longDescriptionShownIndexes[t]),F=Object(j.c)(!!a);return o.createElement(r.I18n,null,({i18n:e})=>o.createElement(i.a,{noMargin:!0,expand:!0},o.createElement(i.b,{noMargin:!0},o.createElement("div",{style:I.parametersContainer},Object(c.mapVector)(S,(n,a)=>o.createElement(o.Fragment,{key:a},o.createElement(E.b,null,o.createElement(E.a,null,o.createElement(r.Trans,{id:"Parameter #{0}:",values:{0:a+F}})),o.createElement(i.a,{expand:!0,noMargin:!0},o.createElement(f.a,{commitOnBlur:!0,margin:"none",hintText:{id:"Enter the parameter name (mandatory)"},value:n.getName(),onChange:t=>{((e,t)=>t?!!P.Project.validateName(t)||(Object(v.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),!1):(Object(v.c)(e._({id:"The name of a parameter can not be empty. Enter a name for the parameter or you won't be able to use it."}),{delayToNextTick:!0}),!1))(e,t)&&(n.setName(t),this.forceUpdate(),this.props.onParametersUpdated())},disabled:w(a),fullWidth:!0})),o.createElement(m.a,{element:o.createElement(d.a,null,o.createElement(g.a,null)),buildMenuTemplate:e=>[{label:e._({id:"Delete"}),enabled:!w(a),click:()=>this._removeParameter(a)},{type:"separator"},{label:e._({id:"Add a Long Description"}),enabled:!w(a),visible:!M(n,a),click:()=>this._addLongDescription(a)},{label:e._({id:"Remove the Long Description"}),enabled:!w(a),visible:M(n,a),click:()=>this._removeLongDescription(a)},{label:e._({id:"Move up"}),click:()=>this._moveParameters(a,a-1),enabled:!w(a)&&a-1>=0&&!w(a-1)},{label:e._({id:"Move down"}),click:()=>this._moveParameters(a,a+1),enabled:!w(a)&&a+1<S.size()&&!w(a+1)}]})),o.createElement(i.b,null,o.createElement(N.a,{expand:!0},o.createElement(N.b,{noMargin:!0},R(a)&&o.createElement(s.a,{floatingLabelText:o.createElement(r.Trans,{id:"Type"}),value:n.getType(),onChange:(e,t,a)=>{n.setType(a),this.forceUpdate(),this.props.onParametersUpdated()},disabled:w(a),fullWidth:!0},o.createElement(l.a,{value:"objectList",primaryText:{id:"Objects"}}),o.createElement(l.a,{value:"behavior",primaryText:{id:"Behavior (for the previous object)"}}),o.createElement(l.a,{value:"expression",primaryText:{id:"Number"}}),o.createElement(l.a,{value:"string",primaryText:{id:"String (text)"}}),o.createElement(l.a,{value:"stringWithSelector",primaryText:{id:"String from a list of options (text)"}}),o.createElement(l.a,{value:"key",primaryText:{id:"Keyboard Key (text)"}}),o.createElement(l.a,{value:"mouse",primaryText:{id:"Mouse button (text)"}}),o.createElement(l.a,{value:"color",primaryText:{id:"Color (text)"}}),o.createElement(l.a,{value:"layer",primaryText:{id:"Layer (text)"}}),o.createElement(l.a,{value:"sceneName",primaryText:{id:"Scene name (text)"}}),o.createElement(l.a,{value:"yesorno",primaryText:{id:"Yes or No (boolean)"}}),o.createElement(l.a,{value:"trueorfalse",primaryText:{id:"True or False (boolean)"}})),P.ParameterMetadata.isObject(n.getType())&&o.createElement(y.a,{project:t,value:n.getExtraInfo(),onChange:e=>{n.setExtraInfo(e),this.forceUpdate(),this.props.onParametersUpdated()},disabled:w(a)}),"behavior"===n.getType()&&o.createElement(C.a,{project:t,objectType:Object(_.a)(S,a),value:n.getExtraInfo(),onChange:e=>{n.setExtraInfo(e),this.forceUpdate(),this.props.onParametersUpdated()},disabled:w(a)})),"stringWithSelector"===n.getType()&&o.createElement(B,{extraInfo:n.getExtraInfo(),setExtraInfo:e=>{n.setExtraInfo(e),this.forceUpdate()}}),R(a)&&o.createElement(f.a,{commitOnBlur:!0,floatingLabelText:o.createElement(r.Trans,{id:"Label"}),floatingLabelFixed:!0,value:n.getDescription(),onChange:e=>{n.setDescription(e),this.forceUpdate()},fullWidth:!0,disabled:!1}),M(n,a)&&o.createElement(f.a,{commitOnBlur:!0,floatingLabelText:o.createElement(r.Trans,{id:"Long description"}),floatingLabelFixed:!0,value:n.getLongDescription(),onChange:e=>{n.setLongDescription(e),this.forceUpdate()},multiline:!0,fullWidth:!0,disabled:!1}))))),0===S.size()?o.createElement(h.a,null,o.createElement(r.Trans,{id:"No parameters for this function."})):null,o.createElement(i.a,null,o.createElement(i.b,{justifyContent:"flex-end",expand:!0},!p&&o.createElement(u.a,{primary:!0,label:o.createElement(r.Trans,{id:"Add a parameter"}),onClick:this._addParameter,icon:o.createElement(T.a,null)}))))),O?o.createElement(i.b,null,o.createElement(b.a,{helpPagePath:O})):o.createElement(i.c,null)))}}}).call(this,n(1))},798:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(71),r=n(4),o=n(111),i=n(112),s=n(188);class l extends r.Component{constructor(...e){super(...e),this.state={objectMetadata:Object(s.b)(this.props.project)}}render(){const e=this.props,t=e.disabled,n=e.value,s=e.onChange,l=e.floatingLabelText,c=e.allowedObjectTypes,u=this.state.objectMetadata,d=e=>!!c&&-1===c.indexOf(e);return r.createElement(o.a,{floatingLabelText:l||r.createElement(a.Trans,{id:"Object type"}),value:n,onChange:(e,t,n)=>{s(n)},disabled:t,fullWidth:!0},r.createElement(i.a,{value:"",primaryText:{id:"Any object"},disabled:d("")}),u.map(e=>""===e.name?null:r.createElement(i.a,{key:e.name,value:e.name,primaryText:e.fullName,disabled:d(e.name)})))}}},799:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(86),r=n(172),o=n.n(r);const i=(e,t)=>{const n=e.getAllPlatformExtensions();return o()(Object(a.mapFor)(0,n.size(),e=>{const t=n.at(e);return t.getBehaviorsTypes().toJSArray().map(e=>({behaviorType:e,behaviorMetadata:t.getBehaviorMetadata(e)})).map(({behaviorType:e,behaviorMetadata:n})=>({extension:t,behaviorMetadata:n,type:e,defaultName:n.getDefaultName(),fullName:n.getFullName(),description:n.getDescription(),iconFilename:n.getIconFilename(),objectType:n.getObjectType()}))}))},s=(e,t)=>{if(!t)return e;const n=t.toLowerCase();return e.filter(e=>-1!==e.fullName.toLowerCase().indexOf(n)||-1!==e.description.toLowerCase().indexOf(n))}},80:function(e,t,n){"use strict";var a=n(77),r=n(4),o=n(2391);t.a=({children:e,style:t,size:n,align:i,noShrink:s,noMargin:l,displayInlineAsSpan:c})=>r.createElement(o.a,{variant:"title"===n?"h6":"body2"===n?"body2":"body1",component:c?"span":void 0,style:Object(a.a)(Object(a.a)({},t),{},{display:c?"inline-block":void 0,flexShrink:s?0:void 0,marginTop:l?0:6,marginBottom:l?0:6}),align:i||"inherit"},e)},800:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var a=n(71),r=n(4),o=n(73),i=n(111),s=n(112),l=n(86),c=n(106),u=n(102),d=n(404),h=n(92),m=n(242),p=n(88),g=n(169);const b=e.gd,f={icon:{height:32,marginRight:8,flexSrink:0}},E=(e,t,n)=>{const a=n.getSentence();if(!a)return e._({id:"Enter the sentence that will be displayed in the events sheet"});const r=Object(m.c)(!!t),o=Object(l.mapVector)(n.getParameters(),(e,t)=>{if(b.ParameterMetadata.isBehavior(e.getType()))return null;const n="_PARAM".concat(t+r,"_");return-1===a.indexOf(n)?n:null}).filter(Boolean);return o.length?e._({id:"The sentence is probably missing this/these parameter(s):"})+o.join(", "):void 0},v=e=>e===b.EventsFunction.Condition?{id:"Example: Is flashing?"}:e===b.EventsFunction.Expression?{id:"Example: Life remaining"}:e===b.EventsFunction.StringExpression?{id:"Example: Equipped shield name"}:{id:"Example: Flash the object"},y=e=>e===b.EventsFunction.Condition?{id:"Example: Check if the object is flashing."}:e===b.EventsFunction.Expression?{id:"Example: Life remaining for the player."}:e===b.EventsFunction.StringExpression?{id:"Example: Name of the shield equipped by the player."}:{id:"Example: Make the object flash for 5 seconds."};class C extends r.Component{render(){const e=this.props,t=e.eventsFunction,n=e.freezeEventsFunctionType,l=e.onConfigurationUpdated,m=e.helpPagePath,C=e.renderConfigurationHeader,x=e.eventsBasedBehavior,j=t.getFunctionType();if(!!x&&Object(d.g)(t.getName()))return r.createElement(h.a,null,r.createElement(a.Trans,{id:'This is a "lifecycle method". It will be called automatically by the game engine for each instance living on the scene having the behavior.'}));return!x&&Object(d.h)(t.getName())?r.createElement(o.a,null,r.createElement(g.a,{kind:"info",identifier:"lifecycle-events-function-included-only-if-extension-used"},r.createElement(a.Trans,{id:"For the lifecycle functions to be executed, you need the extension to be used in the game, either by having at least one action, condition or expression used, or a behavior of the extension added to an object. Otherwise, the extension won't be included in the game."})),r.createElement(h.a,null,r.createElement(a.Trans,{id:'This is a "lifecycle function". It will be called automatically by the game engine. It has no parameters. Only global objects can be used as the events will be run for all scenes in your game.'}))):r.createElement(a.I18n,null,({i18n:e})=>r.createElement(p.a,{expand:!0},C?C():null,r.createElement(p.b,{alignItems:"center",noMargin:!0},r.createElement(o.b,{alignItems:"center",noMargin:!0},r.createElement("img",{src:"res/function32.png",alt:"",style:f.icon}),r.createElement(i.a,{value:j,floatingLabelText:r.createElement(a.Trans,{id:"Function type"}),fullWidth:!0,disabled:!!n,onChange:(e,n,a)=>{t.setFunctionType(a),l&&l(),this.forceUpdate()}},r.createElement(s.a,{value:b.EventsFunction.Action,primaryText:{id:"Action"}}),r.createElement(s.a,{value:b.EventsFunction.Condition,primaryText:{id:"Condition"}}),r.createElement(s.a,{value:b.EventsFunction.Expression,primaryText:{id:"Expression"}}),r.createElement(s.a,{value:b.EventsFunction.StringExpression,primaryText:{id:"String Expression"}}))),r.createElement(u.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Full name displayed in editor"}),hintText:v(j),value:t.getFullName(),onChange:e=>{t.setFullName(e),l&&l(),this.forceUpdate()},fullWidth:!0})),r.createElement(o.b,{noMargin:!0},r.createElement(u.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Description, displayed in editor"}),hintText:y(j),fullWidth:!0,multiline:!0,value:t.getDescription(),onChange:e=>{t.setDescription(e),l&&l(),this.forceUpdate()}})),r.createElement(o.b,{noMargin:!0},j===b.EventsFunction.Action||j===b.EventsFunction.Condition?r.createElement(u.a,{commitOnBlur:!0,floatingLabelText:r.createElement(a.Trans,{id:"Sentence in Events Sheet"}),hintText:{id:"Note: write _PARAMx_ for parameters, e.g: Flash _PARAM1_ for 5 seconds"},fullWidth:!0,value:t.getSentence(),onChange:e=>{t.setSentence(e),l&&l(),this.forceUpdate()},errorText:E(e,x,t)}):null),m?r.createElement(o.b,{noMargin:!0},r.createElement(c.a,{helpPagePath:m})):r.createElement(o.c,null)))}}}).call(this,n(1))},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(136),r=n(4),o=n(2393),i=n(73);class s extends r.Component{render(){const e=this.props,t=e.label,n=e.primary,s=e.icon,l=e.keyboardFocused,c=Object(a.a)(e,["label","primary","icon","keyboardFocused"]);return r.createElement(o.a,Object.assign({size:"small",color:n?"primary":"default",autoFocus:l,focusRipple:!0},c),s,s&&r.createElement(i.c,null),t)}}},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(136),r=n(4),o=n(2393),i=n(73);class s extends r.Component{render(){const e=this.props,t=e.label,n=e.primary,s=e.icon,l=Object(a.a)(e,["label","primary","icon"]);return r.createElement(o.a,Object.assign({variant:"contained",size:"small",color:n?"primary":"default",focusRipple:!0},l),s,s&&r.createElement(i.c,null),t)}}},84:function(e,t,n){"use strict";var a=n(77),r=n(4),o=n(2396),i=n(2400),s=n(2399),l=n(2398),c=n(144),u=n(134),d=n.n(u);const h={defaultBody:{overflowX:"hidden"},noMarginBody:{padding:0,overflowX:"hidden"},flexRowBody:{display:"flex",flexDirection:"row"},flexBody:{display:"flex"},actionsContainerWithSecondaryActions:{display:"flex",justifyContent:"space-between"},noTitleMargin:{padding:0}};t.a=e=>{const t=e.secondaryActions,n=e.actions,u=e.open,m=e.onRequestClose,p=e.maxWidth,g=e.noMargin,b=e.title,f=e.children,E=e.flexRowBody,v=e.flexBody,y=e.fullHeight,C=e.noTitleMargin,x=t?r.createElement(r.Fragment,null,r.createElement("div",{key:"secondary-actions"},t),r.createElement("div",{key:"actions"},n)):n,j=Object(a.a)(Object(a.a)(Object(a.a)({},g?h.noMarginBody:h.defaultBody),E?h.flexRowBody:{}),v?h.flexBody:{});return r.createElement(c.a,null,e=>r.createElement(o.a,{open:u,onClose:m,fullWidth:!0,fullScreen:"small"===e,className:d()({"safe-area-aware-container":"small"===e,"full-height-modal":y}),maxWidth:void 0!==p?p:"md",disableBackdropClick:!1,disableEscapeKeyDown:!1},b&&r.createElement(l.a,{style:C?h.noTitleMargin:void 0},b),r.createElement(s.a,{style:j},f),r.createElement(i.a,{style:t?h.actionsContainerWithSecondaryActions:void 0},x)))}},841:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(4),r=n.n(a),o=n(95),i=n(310),s=n.n(i),l=n(801);const c={container:{padding:0,width:32,height:32},icon:{width:16,height:16}};class u extends a.Component{render(){return r.a.createElement(l.MosaicContext.Consumer,null,({mosaicActions:e})=>r.a.createElement(l.MosaicWindowContext.Consumer,null,({mosaicWindowActions:t})=>r.a.createElement(o.a,{onClick:()=>{e.remove(t.getPath())},style:c.container},r.a.createElement(s.a,{htmlColor:"white",style:c.icon}))))}}},844:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(4),r=n(1817);const o={container:{display:"flex",flex:1}};class i extends a.Component{constructor(...e){super(...e),this._onBehaviorEdited=()=>{this.props.onLoadEventsFunctionsExtensions()},this.previewWillStart=()=>{this.props.isActive&&this.props.onLoadEventsFunctionsExtensions()}}getProject(){return this.props.project}getLayout(){return null}updateToolbar(){this.editor&&this.editor.updateToolbar()}forceUpdateEditor(){}shouldComponentUpdate(e){return!(!this.props.isActive&&!e.isActive)}componentDidUpdate(e){e.isActive&&!this.props.isActive&&this.props.onLoadEventsFunctionsExtensions()}componentWillUnmount(){this.props.isActive&&this.props.onLoadEventsFunctionsExtensions()}getEventsFunctionsExtension(){const e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasEventsFunctionsExtensionNamed(n)?t.getEventsFunctionsExtension(n):null}selectEventsFunctionByName(e,t){this.editor&&this.editor.selectEventsFunctionByName(e,t)}render(){const e=this.props,t=e.project,n=e.projectItemName,i=this.getEventsFunctionsExtension();if(!i||!t)return a.createElement("div",null,"No extension called ",n," found!");const s=this.props.extraEditorProps||{},l=s.initiallyFocusedFunctionName,c=s.initiallyFocusedBehaviorName;return a.createElement("div",{style:o.container},a.createElement(r.a,{key:i.ptr,project:t,eventsFunctionsExtension:i,setToolbar:this.props.setToolbar,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.props.onCreateEventsFunction,initiallyFocusedFunctionName:l,initiallyFocusedBehaviorName:c,onBehaviorEdited:this._onBehaviorEdited,ref:e=>this.editor=e,unsavedChanges:this.props.unsavedChanges}))}}const s=e=>a.createElement(i,e)},845:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n.n(r),i=n(81),s=n(1820),l=n(84),c=n(311),u=n(168);t.a=({project:e,group:t,onApply:n,onCancel:r,globalObjectsContainer:d,objectsContainer:h})=>{const m=Object(u.a)(),p=Object(c.a)({serializableObject:t,onCancel:r});return o.a.createElement(l.a,{key:t.ptr,actions:[o.a.createElement(i.a,{key:"cancel",label:o.a.createElement(a.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:p}),o.a.createElement(i.a,{key:"apply",label:o.a.createElement(a.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:n})],noMargin:!0,cannotBeDismissed:!0,onRequestClose:p,open:!0,title:"Edit ".concat(t.getName()," group")},o.a.createElement(s.a,{project:e,group:t,globalObjectsContainer:d,objectsContainer:h,onSizeUpdated:m}))}},846:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(100),r=n.n(a),o=n(107),i=n(87),s=n(4),l=n(237),c=n(385),u=n(384);const d=s.createContext({filters:null,authors:null,licenses:null,searchResults:null,fetchResourcesAndFilters:()=>{},error:null,searchText:"",setSearchText:()=>{},filtersState:{chosenFilters:new Set,addFilter:()=>{},removeFilter:()=>{},chosenCategory:null,setChosenCategory:()=>{}}}),h=e=>e.name+"\n"+e.tags.join(", "),m=({children:e})=>{const t=s.useState(null),n=Object(i.a)(t,2),a=n[0],m=n[1],p=s.useState(null),g=Object(i.a)(p,2),b=g[0],f=g[1],E=s.useState(null),v=Object(i.a)(E,2),y=v[0],C=v[1],x=s.useState(null),j=Object(i.a)(x,2),O=j[0],T=j[1],S=s.useState(null),w=Object(i.a)(S,2),k=w[0],N=w[1],_=s.useRef(!1),P=s.useState(""),I=Object(i.a)(P,2),B=I[0],R=I[1],M=Object(l.b)(),F=s.useCallback(()=>{a||_.current||Object(o.a)(r.a.mark((function e(){var t,n,a,o,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(null),_.current=!0,e.prev=2,e.next=5,Object(c.e)();case 5:return t=e.sent,n=t.resources,a=t.filters,e.next=10,Object(c.c)();case 10:return o=e.sent,e.next=13,Object(c.d)();case 13:i=e.sent,s={},n.forEach(e=>{s[e.url]=e}),console.info("Loaded ".concat(n.length," resources from the asset store.")),m(s),f(a),C(o),T(i),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),console.error("Unable to load the assets from the asset store:",e.t0),N(e.t0);case 27:_.current=!1;case 28:case"end":return e.stop()}}),e,null,[[2,23]])})))()},[a,_]);s.useEffect(()=>{if(a||_.current)return;const e=setTimeout(()=>{console.info("Pre-fetching resources from asset store..."),F()},6e3);return()=>clearTimeout(e)},[F,a,_]);const L=M.chosenCategory,A=M.chosenFilters,D=Object(u.a)(a,h,B,L,A),U=s.useMemo(()=>({searchResults:D,fetchResourcesAndFilters:F,filters:b,authors:y,licenses:O,error:k,searchText:B,setSearchText:R,filtersState:M}),[D,k,b,y,O,B,M,F]);return s.createElement(d.Provider,{value:U},e)}},847:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(71),r=n(4),o=n(125),i=n(236),s=n(508),l=n(194),c=n(92);const u={container:{flex:1},grid:{overflowX:"hidden"}},d=({searchItems:e,renderSearchItem:t,error:n,onRetry:d,baseSize:h})=>e?0===e.length?r.createElement(c.a,null,r.createElement(a.Trans,{id:"No results returned for your search. Try something else, browse the categories or create your object from scratch!"})):r.createElement(s.a,null,r.createElement("div",{style:u.container},r.createElement(l.a,null,({width:n,height:a})=>{if(!n||!a)return null;const o=Math.max(Math.floor((n-5)/h),1),i=Math.max(Math.floor(n/o),30),s=Math.max(1,Math.ceil(e.length/o));return r.createElement(l.c,{width:n,height:a,columnCount:o,columnWidth:i,rowHeight:i,rowCount:s,cellRenderer:function({columnIndex:n,key:a,rowIndex:s,style:l}){const c=s*o+n,u=c<e.length?e[c]:null;return r.createElement("div",{key:a,style:l},u?t(u,i):null)},style:u.grid})}))):n?r.createElement(i.a,{onRetry:d},r.createElement(a.Trans,{id:"Can't load the results. Verify your internet connection or retry later."})):r.createElement(o.a,null)},852:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(622);t.a=e=>r.a.createElement(o.a,Object.assign({},e,{viewBox:"0 -3 24 24"}),r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Create",fillRule:"nonzero"},r.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"24 8 18 2 18 6 14 6 14 10 18 10 18 14"}),r.a.createElement("g",{id:"Group-2",fill:"#27AAE1"},r.a.createElement("rect",{id:"Rectangle-path",transform:"translate(2.999518, 3.574897) rotate(-45.000000) translate(-2.999518, -3.574897) ",x:"1.58553176",y:"0.746924118",width:"2.82797288",height:"5.65594576"}),r.a.createElement("rect",{id:"Rectangle-path",transform:"translate(10.999518, 11.574897) rotate(-45.000000) translate(-10.999518, -11.574897) ",x:"9.58553176",y:"8.74692412",width:"2.82797288",height:"5.65594576"}),r.a.createElement("rect",{id:"Rectangle-path",transform:"translate(2.999518, 11.574897) rotate(-135.000000) translate(-2.999518, -11.574897) ",x:"1.58553176",y:"8.74692412",width:"2.82797288",height:"5.65594576"}),r.a.createElement("rect",{id:"Rectangle-path",transform:"translate(10.999518, 3.574897) rotate(-135.000000) translate(-10.999518, -3.574897) ",x:"9.58553176",y:"0.746924118",width:"2.82797288",height:"5.65594576"})))))},853:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(622);t.a=e=>r.a.createElement(o.a,Object.assign({},e,{viewBox:"0 -6 24 24"}),r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Step",fillRule:"nonzero"},r.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"7.5 4.5 3 0 3 3 0 3 0 6 3 6 3 9"}),r.a.createElement("circle",{id:"Oval",fill:"#27AAE1",cx:"12",cy:"4.5",r:"3"}),r.a.createElement("circle",{id:"Oval",fill:"#FFFFFF",cx:"12",cy:"4.5",r:"1.5"}),r.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"24 4.5 19.5 0 19.5 3 16.5 3 16.5 6 19.5 6 19.5 9"}))))},854:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(622);t.a=e=>r.a.createElement(o.a,Object.assign({},e,{viewBox:"0 -3 24 24"}),r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Destroy",transform:"translate(0.000000, -1.000000)",fillRule:"nonzero"},r.a.createElement("g",{id:"Group",transform:"translate(0.000000, 1.000000)"},r.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"9.92307692 7.07692308 4.38461538 1.53846154 4.38461538 5.23076923 0.692307692 5.23076923 0.692307692 8.92307692 4.38461538 8.92307692 4.38461538 12.6153846"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(10.845138, 3.385446) rotate(-45.000000) translate(-10.845138, -3.385446) ",x:"9.53992021",y:"0.77500965",width:"2.6104365",height:"5.22087301"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(18.229754, 10.770062) rotate(-45.000000) translate(-18.229754, -10.770062) ",x:"16.9245356",y:"8.15962503",width:"2.6104365",height:"5.22087301"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(10.846985, 10.770246) rotate(-135.000000) translate(-10.846985, -10.770246) ",x:"9.54176636",y:"8.15980965",width:"2.6104365",height:"5.22087301"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(18.231600, 3.385631) rotate(-135.000000) translate(-18.231600, -3.385631) ",x:"16.9263817",y:"0.775194265",width:"2.6104365",height:"5.22087301"})),r.a.createElement("g",{id:"Group",opacity:"0.1",transform:"translate(2.538462, 0.692308)"},r.a.createElement("rect",{id:"Rectangle-path",fill:"#000000",transform:"translate(7.616400, 11.768538) rotate(135.000000) translate(-7.616400, -11.768538) ",x:"5.98441565",y:"10.4633202",width:"3.2639687",height:"2.6104365"}),r.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"7.38461538 7.38461538 1.83645766 1.87268753 1.83645766 3.7132995 6.46153846 8.30769231"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(8.308523, 3.693323) rotate(-135.000000) translate(-8.308523, -3.693323) ",x:"5.69808657",y:"2.38810482",width:"5.22087301",height:"2.6104365"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(15.693138, 11.077938) rotate(-135.000000) translate(-15.693138, -11.077938) ",x:"13.082702",y:"9.77272021",width:"5.22087301",height:"2.6104365"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(9.460009, 9.922714) rotate(45.000000) translate(-9.460009, -9.922714) ",x:"8.15479058",y:"8.94333902",width:"2.6104365",height:"1.95875045"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(15.693138, 3.693323) rotate(-135.000000) translate(-15.693138, -3.693323) ",x:"14.3879202",y:"1.08288657",width:"2.6104365",height:"5.22087301"})))))},855:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(622);t.a=e=>r.a.createElement(o.a,e,r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Function",fillRule:"nonzero"},r.a.createElement("path",{d:"M24,14.5714286 L24,9.42857143 L21.948,9.42857143 C21.7045714,8.48742857 21.336,7.59942857 20.8525714,6.78342857 L22.3028571,5.33314286 L18.6668571,1.69542857 L17.2165714,3.14571429 C16.4005714,2.664 15.5125714,2.29371429 14.5714286,2.05028571 L14.5714286,0 L9.42857143,0 L9.42857143,2.052 C8.48742857,2.29542857 7.59942857,2.664 6.78342857,3.14742857 L5.33314286,1.69714286 L1.69714286,5.33314286 L3.14742857,6.78342857 C2.66571429,7.59942857 2.29542857,8.48742857 2.052,9.42857143 L0,9.42857143 L0,14.5714286 L2.052,14.5714286 C2.29542857,15.5125714 2.664,16.4005714 3.14742857,17.2165714 L1.69714286,18.6668571 L5.33314286,22.3045714 L6.78342857,20.8542857 C7.59942857,21.336 8.48742857,21.7062857 9.42857143,21.9497143 L9.42857143,24 L14.5714286,24 L14.5714286,21.948 C15.5125714,21.7045714 16.4005714,21.336 17.2165714,20.8525714 L18.6668571,22.3028571 L22.3028571,18.6651429 L20.8525714,17.2148571 C21.3342857,16.3988571 21.7045714,15.5108571 21.948,14.5697143 L24,14.5697143 L24,14.5714286 Z",id:"Shape",fill:"#27AAE1"}),r.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"17.1428571 7.71428571 10.2857143 11.1428571 10.2857143 12 12 12.8571429 15.4285714 11.1428571 15.4285714 13.7142857 12 15.456 8.57142857 13.7142857 8.57142857 10.2857143 12 8.57142857 15.4285714 6.85714286 12 5.14285714 5.14285714 8.57142857 5.14285714 15.4285714 12 18.8571429 17.5714286 16.0714286 18.8571429 15.4285714 18.8571429 15 18.8571429 8.57142857"}),r.a.createElement("g",{id:"Group",opacity:"0.1"},r.a.createElement("path",{d:"M3.14571429,6.78342857 C2.664,7.59942857 2.29371429,8.48742857 2.05028571,9.42857143 L0,9.42857143 L0,14.5714286 L2.052,14.5714286 C2.29542857,15.5125714 2.664,16.4005714 3.14742857,17.2165714 L1.69714286,18.6668571 L5.33314286,22.3045714 L6.78342857,20.8542857 C7.59942857,21.336 8.48742857,21.7062857 9.42857143,21.9497143 L9.42857143,24 L14.5714286,24 L14.5714286,21.948 C15.5125714,21.7045714 16.4005714,21.336 17.2165714,20.8525714 L18.6668571,22.3028571 L20.4857143,20.484 L3.51428571,3.51428571 L1.69714286,5.33314286 L3.14571429,6.78342857 Z",id:"Shape",fill:"#000000"}),r.a.createElement("path",{d:"M22.3028571,18.6668571 L20.8525714,17.2165714 C21.3342857,16.4005714 21.7045714,15.5125714 21.948,14.5714286 L24,14.5714286 L24,9.42857143 L21.948,9.42857143 C21.7045714,8.48742857 21.336,7.59942857 20.8525714,6.78342857 L22.3028571,5.33314286 L18.6668571,1.69542857 L17.2165714,3.14571429 C16.4005714,2.664 15.5125714,2.29371429 14.5714286,2.05028571 L14.5714286,0 L9.42857143,0 L9.42857143,2.052 C8.48742857,2.29542857 7.59942857,2.664 6.78342857,3.14742857 L5.33314286,1.69714286 L3.51428571,3.51428571 L20.484,20.484 L22.3028571,18.6668571 Z",id:"Shape",fill:"#FFFFFF"})))))},856:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(622);t.a=e=>r.a.createElement(o.a,Object.assign({},e,{viewBox:"0 -6 24 24"}),r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Activate",fillRule:"nonzero"},r.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",x:"0",y:"0",width:"24",height:"10.2857143"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#2B3990",x:"1.71428571",y:"1.71428571",width:"10.2857143",height:"6.85714286"}),r.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"20.5710245 1.71428571 18.8571429 3.42897546 17.1432612 5.14285714 15.4285714 6.85673883 17.1432612 8.57142857 18.8571429 6.85673883 20.5710245 5.14285714 22.2857143 3.42897546"}),r.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"18.8567388 3.42857143 17.1428571 5.14326117 15.4289755 3.42857143 13.7142857 5.14326117 15.4289755 6.85714286 18.8567388 6.85714286 20.5714286 5.14326117"}))))},857:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(622);t.a=e=>r.a.createElement(o.a,Object.assign({},e,{viewBox:"0 -6 24 24"}),r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Deactivate",fillRule:"nonzero"},r.a.createElement("rect",{id:"Rectangle-path",fill:"#2B3990",x:"0",y:"0",width:"24",height:"10.2857143"}),r.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"6.85673883 1.71428571 5.14285714 3.42897546 3.42897546 1.71428571 1.71428571 3.42897546 3.42897546 5.14285714 1.71428571 6.85673883 3.42897546 8.57142857 5.14285714 6.85673883 6.85673883 8.57142857 8.57142857 6.85673883 6.85673883 5.14285714 8.57142857 3.42897546"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",x:"12",y:"1.71428571",width:"10.2857143",height:"6.85714286"}))))},858:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n(71),r=n(4),o=n.n(r),i=n(521),s=n(83),l=n(266),c=n(859),u=n(80),d=n(73);const h={container:{display:"flex",flex:1}};class m extends o.a.Component{constructor(...e){super(...e),this.state={layoutChooserOpen:!1},this.setAssociatedLayout=e=>{const t=this.getExternalEvents();t&&(t.setAssociatedLayout(e),this.setState({layoutChooserOpen:!1},()=>this.updateToolbar()))},this.openLayoutChooser=()=>{this.setState({layoutChooserOpen:!0})}}shouldComponentUpdate(e){return e.isActive}getProject(){return this.props.project}updateToolbar(){this.editor&&this.editor.updateToolbar()}forceUpdateEditor(){}getExternalEvents(){const e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasExternalEventsNamed(n)?t.getExternalEvents(n):null}getLayout(){const e=this.props.project;if(!e)return null;const t=this.getExternalEvents();if(!t)return null;const n=t.getAssociatedLayout();return e.hasLayoutNamed(n)?e.getLayout(n):null}render(){const e=this.props,t=e.project,n=e.projectItemName,r=this.getExternalEvents(),m=this.getLayout();return r&&t?o.a.createElement("div",{style:h.container},m&&o.a.createElement(i.a,{ref:e=>this.editor=e,setToolbar:this.props.setToolbar,onOpenLayout:this.props.onOpenLayout,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.props.onCreateEventsFunction,unsavedChanges:this.props.unsavedChanges,project:t,scope:{layout:m},globalObjectsContainer:t,objectsContainer:m,events:r.getEvents(),onOpenSettings:this.openLayoutChooser,onOpenExternalEvents:this.props.onOpenExternalEvents}),!m&&o.a.createElement(l.a,null,o.a.createElement(u.a,null,o.a.createElement(a.Trans,{id:"To edit the external events, choose the scene in which it will be included:"})),o.a.createElement(d.b,{justifyContent:"center"},o.a.createElement(s.a,{label:o.a.createElement(a.Trans,{id:"Choose the scene"}),primary:!0,onClick:this.openLayoutChooser}))),o.a.createElement(c.a,{title:o.a.createElement(a.Trans,{id:"Choose the associated scene"}),helpText:"You still need to add a Link event in the scene to import the external events",open:this.state.layoutChooserOpen,project:t,onChoose:this.setAssociatedLayout,onClose:()=>this.setState({layoutChooserOpen:!1})})):o.a.createElement("div",null,"No external events called ",n," found!")}}const p=e=>o.a.createElement(m,e)},859:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(71),r=n(4),o=n.n(r),i=n(81),s=n(2394),l=n(2486),c=n(2497),u=n(84),d=n(86),h=n(80);class m extends r.Component{constructor(e){super(e),this.state={selectedLayoutName:e.layoutName}}componentWillReceiveProps(e){e.layoutName!==this.props.layoutName&&this.setState({selectedLayoutName:e.layoutName})}chooseLayout(e){this.setState({selectedLayoutName:e})}render(){const e=[o.a.createElement(i.a,{key:"cancel",label:o.a.createElement(a.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onClose}),o.a.createElement(i.a,{key:"choose",label:o.a.createElement(a.Trans,{id:"Choose"}),primary:!0,keyboardFocused:!0,onClick:()=>this.props.onChoose(this.state.selectedLayoutName),disabled:!this.state.selectedLayoutName})],t=this.props.project,n=this.state.selectedLayoutName,r=Object(d.mapFor)(0,t.getLayoutsCount(),e=>t.getLayoutAt(e).getName());return o.a.createElement(u.a,{actions:e,open:this.props.open,title:this.props.title,onRequestClose:this.props.onClose,cannotBeDismissed:!1,fullWidth:!0,maxWidth:"sm"},this.props.helpText&&o.a.createElement(h.a,null,this.props.helpText),o.a.createElement(c.a,{"aria-label":"Associated scene",name:"associated-layout",value:n,onChange:e=>this.chooseLayout(e.target.value)},r.map(e=>o.a.createElement(s.a,{key:e,value:e,control:o.a.createElement(l.a,{color:"primary"}),label:e}))))}}},86:function(e,t){const n=(e,t,n)=>{const a=[];for(let r=e;r<t;r++)a.push(n(r));return a};e.exports={mapFor:n,mapReverseFor:(e,t,n)=>{const a=[];for(let r=t-1;r>=e;r--)a.push(n(r));return a},mapVector:(e,t)=>n(0,e.size(),n=>t(e.at(n),n))}},861:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n(71),r=n(4),o=n(83),i=n(862),s=n(129),l=n(266),c=n(859),u=n(73),d=n(80);const h={container:{display:"flex",flex:1}};class m extends r.Component{constructor(...e){super(...e),this.state={layoutChooserOpen:!1},this.setAssociatedLayout=e=>{const t=this.getExternalLayout();t&&(t.setAssociatedLayout(e),this.setState({layoutChooserOpen:!1},()=>this.updateToolbar()))},this.openLayoutChooser=()=>{this.setState({layoutChooserOpen:!0})},this.saveUiSettings=()=>{const e=this.getExternalLayout(),t=this.editor;t&&e&&Object(s.c)(e.getAssociatedSettings(),t.getUiSettings())}}getProject(){return this.props.project}shouldComponentUpdate(e){return!(!this.props.isActive&&!e.isActive)}componentDidMount(){if(this.props.isActive){const e=this.props.projectItemName,t=this.getLayout();this.props.setPreviewedLayout(t?t.getName():null,e)}}componentDidUpdate(e){if(!e.isActive&&this.props.isActive){const e=this.props.projectItemName,t=this.getLayout();this.props.setPreviewedLayout(t?t.getName():null,e)}}updateToolbar(){this.editor&&this.editor.updateToolbar()}forceUpdateEditor(){}getExternalLayout(){const e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasExternalLayoutNamed(n)?t.getExternalLayout(n):null}getLayout(){const e=this.props.project;if(!e)return null;const t=this.getExternalLayout();if(!t)return null;const n=t.getAssociatedLayout();return e.hasLayoutNamed(n)?e.getLayout(n):null}render(){const e=this.props,t=e.project,n=e.projectItemName,m=e.isActive,p=this.getExternalLayout(),g=this.getLayout();return p&&t?r.createElement("div",{style:h.container},g&&r.createElement(i.a,{setToolbar:this.props.setToolbar,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,unsavedChanges:this.props.unsavedChanges,hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps,ref:e=>this.editor=e,project:t,layout:g,initialInstances:p.getInitialInstances(),initialUiSettings:Object(s.b)(p.getAssociatedSettings()),onOpenMoreSettings:this.openLayoutChooser,isActive:m}),!g&&r.createElement(l.a,null,r.createElement(d.a,null,r.createElement(a.Trans,{id:"To edit the external layout, choose the scene in which it will be included:"})),r.createElement(u.b,{justifyContent:"center"},r.createElement(o.a,{label:r.createElement(a.Trans,{id:"Choose the scene"}),primary:!0,onClick:this.openLayoutChooser}))),r.createElement(c.a,{title:r.createElement(a.Trans,{id:"Choose the associated scene"}),open:this.state.layoutChooserOpen,project:t,onChoose:this.setAssociatedLayout,onClose:()=>this.setState({layoutChooserOpen:!1})})):r.createElement("div",null,"No external layout called ",n," found!")}}const p=e=>r.createElement(m,e)},862:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return X}));var a=n(77),r=n(71),o=n(4),i=n(734),s=n.n(i),l=n(914),c=n(921),u=n(189),d=(n(907),n(1839)),h=n(1840),m=n(2285),p=n(1844),g=n(1845),b=n(230),f=n(1846),E=n(845),v=n(420),y=n(1878),C=n(735),x=n(2304),j=n(129),O=n(231),T=n(5),S=n(1879),w=n(406),k=n(270),N=n(340),_=n(22),P=n(1881),I=n(402),B=n(2289),R=n(795),M=n(778),F=n(188),L=n(1882),A=n(841),D=n(273),U=n(144),V=n(738),W=n(113),G=n(1883);const z=e.gd,H={container:{display:"flex",flex:1,position:"relative",overflow:"hidden"}},K={direction:"row",first:"properties",splitPercentage:23,second:{direction:"row",first:"instances-editor",second:"objects-list",splitPercentage:77}},Y={direction:"row",first:"instances-editor",second:"objects-list",splitPercentage:70};class X extends o.Component{constructor(e){super(e),this.openObjectsList=()=>{this.editorMosaic&&(this.editorMosaic.openEditor("objects-list","end",75,"column")||this.setState({showObjectsListInfoBar:!0}))},this.openProperties=()=>{this.editorMosaic&&(this.editorMosaic.openEditor("properties","start",25,"column")||this.setState({showPropertiesInfoBar:!0}))},this.openObjectGroupsList=()=>{this.editorMosaic&&this.editorMosaic.openEditor("object-groups-list","end",75,"column")},this.toggleInstancesList=()=>{this.editorMosaic&&(this.editorMosaic.openEditor("instances-list","end",75,"row")||this.setState({showInstancesInfoBar:!0}))},this.toggleLayersList=()=>{this.editorMosaic&&(this.editorMosaic.openEditor("layers-list","end",75,"row")||this.setState({showLayersInfoBar:!0}))},this.toggleWindowMask=()=>{this.setState({uiSettings:Object(a.a)(Object(a.a)({},this.state.uiSettings),{},{windowMask:!this.state.uiSettings.windowMask})})},this.toggleGrid=()=>{this.setState({uiSettings:Object(a.a)(Object(a.a)({},this.state.uiSettings),{},{grid:!this.state.uiSettings.grid,snap:!this.state.uiSettings.grid})})},this.openSetupGrid=(e=!0)=>{this.setState({setupGridOpen:e})},this.openSceneProperties=(e=!0)=>{this.setState({scenePropertiesDialogOpen:e})},this.openObjectEditor=()=>{if(!this.instancesSelection.hasSelectedInstances())return;const e=this.instancesSelection.getSelectedInstances()[0].getObjectName();this.editObjectByName(e)},this.editLayerEffects=e=>{this.setState({editedLayer:e,editedLayerInitialTab:"effects"})},this.editLayer=e=>{this.setState({editedLayer:e,editedLayerInitialTab:"properties"})},this.editInstanceVariables=e=>{this.setState({variablesEditedInstance:e})},this.editObjectVariables=e=>{this.setState({variablesEditedObject:e})},this.editLayoutVariables=(e=!0)=>{this.setState({layoutVariablesDialogOpen:e})},this.editObject=e=>{const t=this.props.project;e?this.setState({editedObjectWithContext:{object:e,global:t.hasObjectNamed(e.getName())}}):this.setState({editedObjectWithContext:null})},this.editObjectByName=e=>{const t=this.props,n=t.project,a=t.layout;a.hasObjectNamed(e)?this.editObject(a.getObject(e)):n.hasObjectNamed(e)&&this.editObject(n.getObject(e))},this.editGroup=e=>{this.setState({editedGroup:e})},this.setUiSettings=e=>{this.setState({uiSettings:Object(a.a)(Object(a.a)({},this.state.uiSettings),e)})},this.undo=()=>{this.instancesSelection.clearSelection(),this.setState({history:Object(R.f)(this.state.history,this.props.initialInstances)},()=>{this.editor&&this.editor.forceRemount(),this.updateToolbar()})},this.redo=()=>{this.instancesSelection.clearSelection(),this.setState({history:Object(R.d)(this.state.history,this.props.initialInstances)},()=>{this.editor&&this.editor.forceRemount(),this.updateToolbar()})},this._onObjectSelected=e=>{e?this.setState({selectedObjectNames:[e]}):this.setState({selectedObjectNames:[]})},this._createNewObjectAndInstanceUnderCursor=()=>{this.editor&&(this.setState({newObjectInstanceSceneCoordinates:this.editor.getLastCursorSceneCoordinates()}),this._objectsList&&this._objectsList.setState({newObjectDialogOpen:!0}))},this._onAddInstanceUnderCursor=()=>{if(!this.state.selectedObjectNames.length||!this.editor)return;const e=this.state.selectedObjectNames[0],t=this.editor.getLastCursorSceneCoordinates();this._addInstance(t,e),this.setState({selectedObjectNames:[e]})},this._addInstance=(e,t)=>{if(!t||!this.editor)return;const n=this.editor.addInstances(e,[t]);this._onInstancesAdded(n)},this._onInstancesAdded=e=>{e.forEach(e=>{const t=Object(G.a)(e,this.props.layout,this.props.project);t&&this.setState({additionalWorkInfoBar:t,showAdditionalWorkInfoBar:!0})}),this.setState({history:Object(R.e)(this.state.history,this.props.initialInstances)},()=>this.updateToolbar())},this._onInstancesSelected=e=>{this.setState({selectedObjectNames:s()(e.map(e=>e.getObjectName()))}),this.forceUpdatePropertiesEditor(),this.updateToolbar()},this._onInstanceDoubleClicked=e=>{this.editObjectByName(e.getObjectName())},this._onInstancesMoved=e=>{this.setState({history:Object(R.e)(this.state.history,this.props.initialInstances)},()=>this.forceUpdatePropertiesEditor())},this._onInstancesResized=e=>{this.setState({history:Object(R.e)(this.state.history,this.props.initialInstances)},()=>this.forceUpdatePropertiesEditor())},this._onInstancesRotated=e=>{this.setState({history:Object(R.e)(this.state.history,this.props.initialInstances)},()=>this.forceUpdatePropertiesEditor())},this._onInstancesModified=e=>{this.forceUpdate()},this._onSelectInstances=(e,t=!0)=>{this.instancesSelection.selectInstances(e,!1),t&&this.editor&&this.editor.centerViewOn(e),this.forceUpdatePropertiesEditor(),this.updateToolbar()},this._addInstanceForNewObject=e=>{const t=this.state.newObjectInstanceSceneCoordinates;t&&(this._addInstance(t,e),this.setState({newObjectInstanceSceneCoordinates:null}))},this._onObjectCreated=e=>{const t=Object(G.b)(e,this.props.layout,this.props.project);t&&this.setState({additionalWorkInfoBar:t,showAdditionalWorkInfoBar:!0}),this._addInstanceForNewObject(e.getName())},this._onRemoveLayer=(e,t)=>{this.setState({layerRemoveDialogOpen:!0,layerRemoved:e,onCloseLayerRemoveDialog:(n,a)=>{this.setState({layerRemoveDialogOpen:!1},()=>{n&&(null===a?this.props.initialInstances.removeAllInstancesOnLayer(e):this.props.initialInstances.moveInstancesToLayer(e,a)),t(n),this.editor&&this.editor.forceRemount(),this.forceUpdateLayersList(),this.updateToolbar()})}})},this._onRenameLayer=(e,t,n)=>{this.props.initialInstances.moveInstancesToLayer(e,t),n(!0)},this._onDeleteObject=(e,t)=>{const n=e.object,a=e.global,r=this.props,o=r.project,i=r.layout,s=T.b.showConfirmDialog("Do you want to remove all references to this object in groups and events (actions and conditions using the object)?");a?z.WholeProjectRefactorer.globalObjectOrGroupRemoved(o,n.getName(),!1,!!s):z.WholeProjectRefactorer.objectOrGroupRemovedInLayout(o,i,n.getName(),!1,!!s),t(!0)},this._canObjectOrGroupUseNewName=e=>{const t=this.props,n=t.project,a=t.layout;return a.hasObjectNamed(e)||n.hasObjectNamed(e)||a.getObjectGroups().has(e)||n.getObjectGroups().has(e)?(Object(_.c)("Another object or group with this name already exists.",{delayToNextTick:!0}),!1):!!z.Project.validateName(e)||(Object(_.c)("This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character.",{delayToNextTick:!0}),!1)},this._onRenameEditedObject=e=>{const t=this.state.editedObjectWithContext;t&&this._onRenameObject(t,e,()=>{})},this._onRenameObject=(e,t,n)=>{const a=e.object,r=e.global,o=this.props,i=o.project,s=o.layout;a.getName()!==t&&(r?z.WholeProjectRefactorer.globalObjectOrGroupRenamed(i,a.getName(),t,!1):z.WholeProjectRefactorer.objectOrGroupRenamedInLayout(i,s,a.getName(),t,!1)),a.setName(t),n(!0)},this._onDeleteGroup=(e,t)=>{const n=e.group,a=e.global,r=this.props,o=r.project,i=r.layout,s=T.b.showConfirmDialog("Do you want to remove all references to this group in events (actions and conditions using the group)?");a?z.WholeProjectRefactorer.globalObjectOrGroupRemoved(o,n.getName(),!0,!!s):z.WholeProjectRefactorer.objectOrGroupRemovedInLayout(o,i,n.getName(),!0,!!s),t(!0)},this._onRenameGroup=(e,t,n)=>{const a=e.group,r=e.global,o=this.props,i=o.project,s=o.layout;a.getName()!==t&&(r?z.WholeProjectRefactorer.globalObjectOrGroupRenamed(i,a.getName(),t,!0):z.WholeProjectRefactorer.objectOrGroupRenamedInLayout(i,s,a.getName(),t,!0)),n(!0)},this.deleteSelection=()=>{this.instancesSelection.getSelectedInstances().map(e=>this.props.initialInstances.removeInstance(e)),this.instancesSelection.clearSelection(),this.editor&&this.editor.clearHighlightedInstance(),this.setState({selectedObjectNames:[],history:Object(R.e)(this.state.history,this.props.initialInstances)},()=>{this.updateToolbar(),this.forceUpdatePropertiesEditor()})},this.centerView=()=>{this.editor&&this.editor.centerView()},this.setZoomFactor=e=>{this.editor&&this.editor.setZoomFactor(e)},this.zoomIn=()=>{this.editor&&this.editor.zoomBy(.1)},this.zoomOut=()=>{this.editor&&this.editor.zoomBy(-.1)},this._onContextMenu=(e,t)=>{this.contextMenu&&this.contextMenu.open(e,t)},this.copySelection=({useLastCursorPosition:e}={})=>{const t=this.instancesSelection.getSelectedInstances().map(e=>Object(j.b)(e));if(this.editor){const n=e?this.editor.getLastCursorSceneCoordinates():this.editor.getLastContextMenuSceneCoordinates();O.b.set("Instances",{x:n[0],y:n[1],instances:t})}},this.cutSelection=(e={})=>{this.copySelection(e),this.deleteSelection()},this.paste=({useLastCursorPosition:e}={})=>{if(!this.editor)return;const t=e?this.editor.getLastCursorSceneCoordinates():this.editor.getLastContextMenuSceneCoordinates(),n=O.b.get("Instances"),a=O.a.extractArrayProperty(n,"instances"),r=O.a.extractNumberProperty(n,"x"),o=O.a.extractNumberProperty(n,"y");null!==r&&null!==o&&null!==a&&a.map(e=>{const t=new z.InitialInstance;return Object(j.c)(t,e),t}).forEach(e=>{e.setX(e.getX()-r+t[0]),e.setY(e.getY()-o+t[1]),this.props.initialInstances.insertInitialInstance(e).resetPersistentUuid(),e.delete()})},this.updateBehaviorsSharedData=()=>{const e=this.props,t=e.layout,n=e.project;t.updateBehaviorsSharedData(n)},this.forceUpdateObjectsList=()=>{this._objectsList&&this._objectsList.forceUpdateList()},this.forceUpdateLayersList=()=>{this._layersList&&this._layersList.forceUpdate()},this.forceUpdatePropertiesEditor=()=>{this._propertiesEditor&&this._propertiesEditor.forceUpdate()},this.reloadResourcesFor=e=>{const t=this.props.project,n=new z.ResourcesInUseHelper;e.exposeResources(n);const a=n.getAllImages().toNewVectorString().toJSArray();n.delete(),M.a.loadTextures(t,a,()=>{},()=>{this.editor&&this.editor.resetRenderersFor(e.getName())})},this._getAllObjectTags=()=>{const e=this.props,t=e.project,n=e.layout,a=new Set;return Object(F.c)(t,n).allObjectsList.forEach(({object:e})=>{Object(D.c)(e.getTags()).forEach(e=>a.add(e))}),Array.from(a)},this._buildObjectTagsMenuTemplate=e=>{const t=this.state.selectedObjectTags;return Object(D.a)({noTagLabel:e._({id:"No tags - add a tag to an object first"}),getAllTags:this._getAllObjectTags,selectedTags:t,onChange:e=>{this.setState({selectedObjectTags:e})}})},this.instancesSelection=new v.a,this.state={setupGridOpen:!1,scenePropertiesDialogOpen:!1,layersListOpen:!1,layerRemoveDialogOpen:!1,onCloseLayerRemoveDialog:null,layerRemoved:null,editedLayer:null,editedLayerInitialTab:"properties",editedObjectWithContext:null,variablesEditedInstance:null,variablesEditedObject:null,selectedObjectNames:[],newObjectInstanceSceneCoordinates:null,editedGroup:null,uiSettings:e.initialUiSettings,history:Object(R.c)(e.initialInstances,{historyMaxSize:50}),showObjectsListInfoBar:!1,layoutVariablesDialogOpen:!1,showPropertiesInfoBar:!1,showLayersInfoBar:!1,showInstancesInfoBar:!1,showAdditionalWorkInfoBar:!1,additionalWorkInfoBar:{identifier:"default-additional-work",message:"",touchScreenMessage:""},selectedObjectTags:[]}}componentDidUpdate(e,t){this.state.history!==t.history&&this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges()}getUiSettings(){return this.state.uiSettings}updateToolbar(){this.props.setToolbar(o.createElement(x.a,{instancesSelection:this.instancesSelection,openObjectsList:this.openObjectsList,openObjectGroupsList:this.openObjectGroupsList,openProperties:this.openProperties,deleteSelection:this.deleteSelection,toggleInstancesList:this.toggleInstancesList,toggleLayersList:this.toggleLayersList,toggleWindowMask:this.toggleWindowMask,toggleGrid:this.toggleGrid,isGridShown:()=>!!this.state.uiSettings.grid,isWindowMaskShown:()=>!!this.state.uiSettings.windowMask,openSetupGrid:this.openSetupGrid,setZoomFactor:this.setZoomFactor,centerView:this.centerView,canUndo:Object(R.b)(this.state.history),canRedo:Object(R.a)(this.state.history),undo:this.undo,redo:this.redo,zoomIn:this.zoomIn,zoomOut:this.zoomOut,onOpenSettings:this.openSceneProperties}))}componentWillReceiveProps(e){this.props.layout===e.layout&&this.props.initialInstances===e.initialInstances&&this.props.project===e.project||(this.instancesSelection.clearSelection(),this.openSetupGrid(!1),this.editInstanceVariables(null),this.openSceneProperties(!1))}render(){const e=this.props,t=e.project,n=e.layout,a=e.initialInstances,i=e.resourceSources,s=e.onChooseResource,v=e.resourceExternalEditors,x=e.isActive,j=this.instancesSelection.getSelectedInstances(),T={properties:{type:"secondary",title:{id:"Properties"},renderEditor:()=>o.createElement(r.I18n,null,({i18n:e})=>o.createElement(d.a,{i18n:e,project:t,layout:n,instances:j,editInstanceVariables:this.editInstanceVariables,editObjectVariables:this.editObjectVariables,onEditObjectByName:this.editObjectByName,ref:e=>this._propertiesEditor=e,unsavedChanges:this.props.unsavedChanges}))},"layers-list":{type:"secondary",title:{id:"Layers"},renderEditor:()=>o.createElement(m.a,{project:t,resourceSources:i,resourceExternalEditors:v,onChooseResource:s,onEditLayerEffects:this.editLayerEffects,onEditLayer:this.editLayer,onRemoveLayer:this._onRemoveLayer,onRenameLayer:this._onRenameLayer,layersContainer:n,unsavedChanges:this.props.unsavedChanges,ref:e=>this._layersList=e,hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps})},"instances-list":{type:"secondary",title:{id:"Instances list"},renderEditor:()=>o.createElement(h.a,{instances:a,selectedInstances:j,onSelectInstances:this._onSelectInstances})},"instances-editor":{type:"primary",noTitleBar:!0,renderEditor:()=>o.createElement(S.a,{project:t,layout:n,initialInstances:a,options:this.state.uiSettings,onChangeOptions:this.setUiSettings,instancesSelection:this.instancesSelection,onDeleteSelection:this.deleteSelection,onInstancesAdded:this._onInstancesAdded,onInstancesSelected:this._onInstancesSelected,onInstanceDoubleClicked:this._onInstanceDoubleClicked,onInstancesMoved:this._onInstancesMoved,onInstancesResized:this._onInstancesResized,onInstancesRotated:this._onInstancesRotated,selectedObjectNames:this.state.selectedObjectNames,onContextMenu:this._onContextMenu,onCopy:()=>this.copySelection({useLastCursorPosition:!0}),onCut:()=>this.cutSelection({useLastCursorPosition:!0}),onPaste:()=>this.paste({useLastCursorPosition:!0}),onUndo:this.undo,onRedo:this.redo,onZoomOut:this.zoomOut,onZoomIn:this.zoomIn,wrappedEditorRef:e=>{this.editor=e},pauseRendering:!x})},"objects-list":{type:"secondary",title:{id:"Objects"},toolbarControls:[o.createElement(r.I18n,{key:"tags"},({i18n:e})=>o.createElement(L.a,{buildMenuTemplate:e=>this._buildObjectTagsMenuTemplate(e)})),o.createElement(A.a,{key:"close"})],renderEditor:()=>o.createElement(l.a,{getThumbnail:u.a.getThumbnail.bind(u.a),project:t,objectsContainer:n,layout:n,events:n.getEvents(),resourceSources:i,resourceExternalEditors:v,onChooseResource:s,selectedObjectNames:this.state.selectedObjectNames,onEditObject:this.props.onEditObject||this.editObject,onDeleteObject:this._onDeleteObject,canRenameObject:this._canObjectOrGroupUseNewName,onObjectCreated:this._onObjectCreated,onObjectSelected:this._onObjectSelected,onRenameObject:this._onRenameObject,onObjectPasted:()=>this.updateBehaviorsSharedData(),selectedObjectTags:this.state.selectedObjectTags,onChangeSelectedObjectTags:e=>this.setState({selectedObjectTags:e}),getAllObjectTags:this._getAllObjectTags,ref:e=>this._objectsList=e,unsavedChanges:this.props.unsavedChanges,hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps})},"object-groups-list":{type:"secondary",title:{id:"Object Groups"},renderEditor:()=>o.createElement(c.a,{globalObjectGroups:t.getObjectGroups(),objectGroups:n.getObjectGroups(),onEditGroup:this.editGroup,onDeleteGroup:this._onDeleteGroup,onRenameGroup:this._onRenameGroup,canRenameGroup:this._canObjectOrGroupUseNewName,unsavedChanges:this.props.unsavedChanges})}};return o.createElement("div",{style:H.container},o.createElement(B.a,{project:t,layout:n,onEditObject:this.props.onEditObject||this.editObject,onEditObjectVariables:this.editObjectVariables,onOpenSceneProperties:this.openSceneProperties,onOpenSceneVariables:this.editLayoutVariables,onEditObjectGroup:this.editGroup,onEditLayerEffects:this.editLayerEffects,onEditLayer:this.editLayer}),o.createElement(U.a,null,e=>o.createElement(W.b.Consumer,null,({getDefaultEditorMosaicNode:t,setDefaultEditorMosaicNode:n})=>o.createElement(w.a,{editors:T,limitToOneSecondaryEditor:"small"===e,initialNodes:"small"===e?t("scene-editor-small")||Y:t("scene-editor")||K,onPersistNodes:t=>n("small"===e?"scene-editor-small":"scene-editor",t),ref:e=>this.editorMosaic=e}))),this.state.editedObjectWithContext&&o.createElement(f.a,{open:!0,object:this.state.editedObjectWithContext.object,project:t,resourceSources:i,resourceExternalEditors:v,onChooseResource:s,onCancel:()=>{this.state.editedObjectWithContext&&this.reloadResourcesFor(this.state.editedObjectWithContext.object),this.editObject(null)},canRenameObject:this._canObjectOrGroupUseNewName,onRename:e=>{this._onRenameEditedObject(e)},onApply:()=>{this.state.editedObjectWithContext&&this.reloadResourcesFor(this.state.editedObjectWithContext.object),this.editObject(null),this.updateBehaviorsSharedData(),this.forceUpdateObjectsList(),this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges()},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps,onUpdateBehaviorsSharedData:()=>this.updateBehaviorsSharedData()}),!!this.state.editedGroup&&o.createElement(E.a,{project:t,group:this.state.editedGroup,objectsContainer:n,globalObjectsContainer:t,onCancel:()=>this.editGroup(null),onApply:()=>this.editGroup(null)}),o.createElement(k.a,{identifier:"instance-drag-n-drop-explanation",message:o.createElement(r.Trans,{id:"Drag and Drop the object to the scene or use the right click menu to add an instance of it."}),touchScreenMessage:o.createElement(r.Trans,{id:"Drag and Drop the object icon to the scene or long press to show options to edit the object."}),show:!!this.state.selectedObjectNames.length}),o.createElement(k.a,{identifier:"objects-panel-explanation",message:o.createElement(r.Trans,{id:"Objects panel is already opened: use it to add and edit objects."}),show:!!this.state.showObjectsListInfoBar}),o.createElement(k.a,{identifier:"instance-properties-panel-explanation",message:o.createElement(r.Trans,{id:"Properties panel is already opened. After selecting an instance on the scene, inspect and change its properties from this panel."}),show:!!this.state.showPropertiesInfoBar}),o.createElement(k.a,{identifier:"layers-panel-explanation",message:o.createElement(r.Trans,{id:"Layers panel is already opened. You can add new layers and apply effects on them from this panel."}),show:!!this.state.showLayersInfoBar}),o.createElement(k.a,{identifier:"instances-panel-explanation",message:o.createElement(r.Trans,{id:"Instances panel is already opened. You can search instances in the scene and click one to move the view to it."}),show:!!this.state.showInstancesInfoBar}),this.state.setupGridOpen&&o.createElement(y.a,{open:!0,gridOptions:this.state.uiSettings,onCancel:()=>this.openSetupGrid(!1),onApply:e=>{this.setUiSettings(e),this.openSetupGrid(!1)}}),!!this.state.variablesEditedInstance&&o.createElement(b.a,{open:!0,variablesContainer:this.state.variablesEditedInstance&&this.state.variablesEditedInstance.getVariables(),onCancel:()=>this.editInstanceVariables(null),onApply:()=>this.editInstanceVariables(null),emptyExplanationMessage:o.createElement(r.Trans,{id:"Instance variables will override the default values of the variables of the object."}),title:o.createElement(r.Trans,{id:"Instance Variables"}),onEditObjectVariables:()=>{if(!this.instancesSelection.hasSelectedInstances())return;const e=this.instancesSelection.getSelectedInstances()[0].getObjectName(),a=Object(I.a)(t,n,e);a&&(this.editObjectVariables(a),this.editInstanceVariables(null))},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),!!this.state.variablesEditedObject&&o.createElement(b.a,{open:!0,variablesContainer:this.state.variablesEditedObject&&this.state.variablesEditedObject.getVariables(),onCancel:()=>this.editObjectVariables(null),onApply:()=>this.editObjectVariables(null),emptyExplanationMessage:o.createElement(r.Trans,{id:"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it."}),title:o.createElement(r.Trans,{id:"Object Variables"}),hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),!!this.state.layerRemoveDialogOpen&&o.createElement(p.a,{open:!0,layersContainer:n,layerRemoved:this.state.layerRemoved,onClose:this.state.onCloseLayerRemoveDialog}),!!this.state.editedLayer&&o.createElement(g.a,{project:t,resourceSources:i,onChooseResource:s,resourceExternalEditors:v,layer:this.state.editedLayer,initialInstances:a,initialTab:this.state.editedLayerInitialTab,onClose:()=>this.setState({editedLayer:null}),hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),this.state.scenePropertiesDialogOpen&&o.createElement(C.a,{open:!0,project:t,layout:n,onClose:()=>this.openSceneProperties(!1),onApply:()=>this.openSceneProperties(!1),onEditVariables:()=>this.editLayoutVariables(!0),onOpenMoreSettings:this.props.onOpenMoreSettings}),!!this.state.layoutVariablesDialogOpen&&o.createElement(V.a,{open:!0,layout:n,onApply:()=>this.editLayoutVariables(!1),onClose:()=>this.editLayoutVariables(!1),hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),o.createElement(r.I18n,null,({i18n:e})=>o.createElement(o.Fragment,null,o.createElement(k.a,{show:this.state.showAdditionalWorkInfoBar,identifier:this.state.additionalWorkInfoBar.identifier,message:e._(this.state.additionalWorkInfoBar.message),touchScreenMessage:e._(this.state.additionalWorkInfoBar.touchScreenMessage)}),o.createElement(N.a,{ref:e=>this.contextMenu=e,buildMenuTemplate:e=>[{label:this.state.selectedObjectNames.length?e._({id:"Add an Instance of {0}",values:{0:Object(P.a)(this.state.selectedObjectNames[0],7)}}):"",click:()=>this._onAddInstanceUnderCursor(),visible:this.state.selectedObjectNames.length>0},{label:e._({id:"Insert a New Object"}),click:()=>this._createNewObjectAndInstanceUnderCursor(),visible:0===this.state.selectedObjectNames.length},{label:this.state.selectedObjectNames.length?e._({id:"Edit Object {0}",values:{0:Object(P.a)(this.state.selectedObjectNames[0],14)}}):"",click:()=>this.editObjectByName(this.state.selectedObjectNames[0]),visible:this.state.selectedObjectNames.length>0},{label:e._({id:"Scene properties"}),click:()=>this.openSceneProperties(!0)},{type:"separator"},{label:e._({id:"Copy"}),click:()=>this.copySelection(),enabled:this.instancesSelection.hasSelectedInstances(),accelerator:"CmdOrCtrl+C"},{label:e._({id:"Cut"}),click:()=>this.cutSelection(),enabled:this.instancesSelection.hasSelectedInstances(),accelerator:"CmdOrCtrl+X"},{label:e._({id:"Paste"}),click:()=>this.paste(),enabled:O.b.has("Instances"),accelerator:"CmdOrCtrl+V"},{type:"separator"},{label:e._({id:"Undo"}),click:this.undo,enabled:Object(R.b)(this.state.history),accelerator:"CmdOrCtrl+Z"},{label:e._({id:"Redo"}),click:this.redo,enabled:Object(R.a)(this.state.history),accelerator:"CmdOrCtrl+Shift+Z"},{label:e._({id:"Delete"}),click:()=>this.deleteSelection(),enabled:this.instancesSelection.hasSelectedInstances()}]}))))}}X.defaultProps={setToolbar:()=>{}}}).call(this,n(1))},863:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));n(569);const a=e=>{if(!e)return!1;const t=e.targetTouches;return t&&t.length>=2};class r{constructor({canvas:e,setZoomFactor:t,getZoomFactor:n,viewPosition:r}){this._lastPinchCenterX=null,this._lastPinchCenterY=null,this._startPinch=()=>{},this._onPinchMove=(e,t,n)=>{if(null===this._lastPinchCenterX||null===this._lastPinchCenterY)return this._lastPinchCenterX=e,void(this._lastPinchCenterY=t);const a=e-this._lastPinchCenterX,r=t-this._lastPinchCenterY,o=a/this._getZoomFactor(),i=r/this._getZoomFactor();this._viewPosition.scrollBy(-o,-i),this._lastPinchCenterX=e,this._lastPinchCenterY=t,this._setZoomFactor(this._getZoomFactor()*n)},this._endPinch=()=>{this._lastPinchCenterX=null,this._lastPinchCenterY=null},this.unmount=()=>{this._unregisterCanvasPinchDetector()},this._setZoomFactor=t,this._getZoomFactor=n,this._viewPosition=r,this._unregisterCanvasPinchDetector=(({canvas:e,onPinchStart:t,onPinchMove:n,onPinchEnd:r})=>{let o=null;function i(){e.addEventListener("touchmove",s)}function s(e){if(!a(e))return;var r=e.targetTouches,i=r[0].clientX-r[1].clientX,s=r[0].clientY-r[1].clientY,l=Math.sqrt(i*i+s*s);if(!o)return o={p:{distance:l,date:new Date}},void t();var c=new Date;if(c-o.p.date<12)return;const u={x:(r[0].clientX+r[1].clientX)/2,y:(r[0].clientY+r[1].clientY)/2},d=l/o.p.distance;n(u.x,u.y,d),o.p={distance:l,date:c}}function l(t){e.removeEventListener("touchmove",s),o&&(r(),o=null)}return e.addEventListener("touchstart",i),e.addEventListener("touchend",l),function(){e.removeEventListener("touchstart",i),e.removeEventListener("touchmove",s),e.removeEventListener("touchend",l)}})({canvas:e,onPinchStart:this._startPinch,onPinchMove:this._onPinchMove,onPinchEnd:this._endPinch})}}},864:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t,n)=>t<=0?Math.round(e):Math.floor((e-n)/t)*t+n},865:function(e,t,n){"use strict";var a=n(86);t.a=e=>Object(a.mapFor)(0,e.getLayersCount(),t=>({value:e.getLayerAt(t).getName(),label:e.getLayerAt(t).getName()||"Base layer"}))},866:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(4),r=n(535);const o={flexContainer:{display:"flex",flex:1,position:"relative"}},i=({children:e})=>a.createElement(r.a,{bounds:!0},({contentRect:t,measureRef:n})=>a.createElement("div",{style:o.flexContainer,ref:n},!!t&&!!t.bounds&&e({width:t.bounds.width,height:t.bounds.height})))},868:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(71),r=n(4),o=n(111),i=n(112),s=n(304),l=n(86),c=n(335),u=n(88);class d extends r.Component{render(){const e=this.props,t=e.spriteObject,n=e.animationIndex,d=e.directionIndex,h=e.spriteIndex,m=e.sameForAllAnimations,p=e.sameForAllSprites,g=e.chooseAnimation,b=e.chooseDirection,f=e.chooseSprite,E=e.setSameForAllAnimations,v=e.setSameForAllSprites,y=e.setSameForAllAnimationsLabel,C=e.setSameForAllSpritesLabel,x=Object(c.k)(t,n,d,h),j=x.hasValidAnimation,O=x.animation,T=x.hasValidDirection,S=x.direction;return r.createElement(r.Fragment,null,r.createElement(u.b,null,r.createElement(o.a,{fullWidth:!0,floatingLabelText:r.createElement(a.Trans,{id:"Animation"}),value:this.props.animationIndex,onChange:(e,t,n)=>g(parseInt(n,10)||0)},Object(l.mapFor)(0,t.getAnimationsCount(),e=>{const n=t.getAnimation(e);return r.createElement(i.a,{key:e,value:e,primaryText:{id:"Animation #{i} {0}",values:{0:n.getName(),i:e}}})})),j&&O.getDirectionsCount()>1&&r.createElement(o.a,{fullWidth:!0,floatingLabelText:r.createElement(a.Trans,{id:"Direction"}),value:this.props.directionIndex,onChange:(e,t,n)=>b(parseInt(n,10)||0)},Object(l.mapFor)(0,O.getDirectionsCount(),e=>r.createElement(i.a,{value:e,key:e,primaryText:{id:"Direction #{i}",values:{i:e}}}))),T&&r.createElement(o.a,{fullWidth:!0,floatingLabelText:r.createElement(a.Trans,{id:"Frame"}),value:this.props.spriteIndex,onChange:(e,t,n)=>f(parseInt(n,10)||0)},Object(l.mapFor)(0,S.getSpritesCount(),e=>r.createElement(i.a,{value:e,key:e,primaryText:{id:"Frame #{i}",values:{i:e}}})))),r.createElement(s.a,{label:y,labelPosition:"right",toggled:m,onToggle:(e,t)=>E(t)}),r.createElement(s.a,{label:C,labelPosition:"right",toggled:p,onToggle:(e,t)=>v(t)}))}}},869:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(4),r=n.n(a),o=n(1884);class i extends r.a.Component{shouldComponentUpdate(e){return e.isActive}getProject(){return this.props.project}getLayout(){return null}updateToolbar(){this.editor&&this.editor.updateToolbar()}forceUpdateEditor(){}render(){const e=this.props.project;return e?r.a.createElement(o.a,{setToolbar:this.props.setToolbar,onDeleteResource:this.props.onDeleteResource,onRenameResource:this.props.onRenameResource,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,ref:e=>this.editor=e,project:e}):null}}const s=e=>r.a.createElement(i,e)},870:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(4),r=n(862),o=n(129);class i extends a.Component{constructor(...e){super(...e),this.saveUiSettings=()=>{const e=this.getLayout(),t=this.editor;t&&e&&Object(o.c)(e.getAssociatedSettings(),t.getUiSettings())}}getProject(){return this.props.project}shouldComponentUpdate(e){return!(!this.props.isActive&&!e.isActive)}componentDidMount(){if(this.props.isActive){const e=this.props.projectItemName;this.props.setPreviewedLayout(e)}}componentDidUpdate(e){if(!e.isActive&&this.props.isActive){const e=this.props.projectItemName;this.props.setPreviewedLayout(e)}}updateToolbar(){this.editor&&this.editor.updateToolbar()}forceUpdateEditor(){this.editor&&this.editor.forceUpdateObjectsList()}getLayout(){const e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasLayoutNamed(n)?t.getLayout(n):null}render(){const e=this.props,t=e.project,n=e.projectItemName,i=e.isActive,s=this.getLayout();return s&&t?a.createElement(r.a,{setToolbar:this.props.setToolbar,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,unsavedChanges:this.props.unsavedChanges,ref:e=>this.editor=e,project:t,layout:s,initialInstances:s.getInitialInstances(),initialUiSettings:Object(o.b)(s.getAssociatedSettings()),isActive:i,hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}):a.createElement("div",null,"No layout called ",n," found!")}}const s=e=>a.createElement(i,e)},871:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));const a=(e,t)=>{var n=performance.now();e(),t(performance.now()-n)},r=(e,t)=>{const n=performance.now();return e().then(e=>{const a=performance.now();return t(a-n),e})}},875:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a=e=>{const t=e;return t?e=>t._(e):null},r=e=>{const t=e;return t?e=>t._(e):e=>e}},876:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>!t||((e,t)=>{const n=t.toLowerCase();e=e.toLowerCase();let a=0;for(let r=0;r<t.length;r++)n[r]===e[a]&&(a+=1);return a===e.length})(e,t)},877:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>new Promise(t=>setTimeout(t,e))},878:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(100),r=n.n(a),o=n(107),i=n(87),s=n(4),l=n(237),c=n(380),u=n(384);const d=s.createContext({filters:null,searchResults:null,fetchShowcasedGamesAndFilters:()=>{},error:null,searchText:"",setSearchText:()=>{},filtersState:{chosenFilters:new Set,addFilter:()=>{},removeFilter:()=>{},chosenCategory:null,setChosenCategory:()=>{}}}),h=e=>e.title+"\n"+e.author+"\n"+e.description+"\n"+e.tags.join(","),m=({children:e})=>{const t=s.useState(null),n=Object(i.a)(t,2),a=n[0],m=n[1],p=s.useState(null),g=Object(i.a)(p,2),b=g[0],f=g[1],E=s.useState(null),v=Object(i.a)(E,2),y=v[0],C=v[1],x=s.useRef(!1),j=s.useState(""),O=Object(i.a)(j,2),T=O[0],S=O[1],w=Object(l.b)(),k=s.useCallback(()=>{a||x.current||Object(o.a)(r.a.mark((function e(){var t,n,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(null),x.current=!0,e.prev=2,e.next=5,Object(c.d)();case 5:t=e.sent,n=t.showcasedGames,a=t.filters,o={},n.forEach(e=>{o[e.title]=e}),console.info("Loaded ".concat(n.length," games from the games showcase.")),m(o),f(a),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.error("Unable to load the games from the games showcase:",e.t0),C(e.t0);case 18:x.current=!1;case 19:case"end":return e.stop()}}),e,null,[[2,14]])})))()},[a,x]),N=w.chosenCategory,_=w.chosenFilters,P=Object(u.a)(a,h,T,N,_),I=s.useMemo(()=>({searchResults:P,fetchShowcasedGamesAndFilters:k,filters:b,error:y,searchText:T,setSearchText:S,filtersState:w}),[P,y,b,T,w,k]);return s.createElement(d.Provider,{value:I},e)}},88:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(77),r=n(4),o=n(73),i=n(144);const s={flexShrink:0},l={container:{flex:1,display:"flex",alignItems:"flex-start"},filledTextFieldWithLabelRightButtonMargins:Object(a.a)(Object(a.a)({},s),{},{marginTop:15,marginLeft:8}),filledTextFieldWithoutLabelRightButtonMargins:Object(a.a)(Object(a.a)({},s),{},{marginTop:6,marginLeft:8}),standardTextFieldWithLabelRightButtonMargins:Object(a.a)(Object(a.a)({},s),{},{marginTop:17,marginLeft:8}),standardTextFieldWithoutLabelRightButtonMargins:Object(a.a)(Object(a.a)({},s),{},{marginTop:0,marginLeft:8})},c=({margin:e,noFloatingLabelText:t,renderTextField:n,renderButton:a})=>r.createElement("div",{style:l.container},n(),a("none"===e?t?l.standardTextFieldWithoutLabelRightButtonMargins:l.standardTextFieldWithLabelRightButtonMargins:t?l.filledTextFieldWithoutLabelRightButtonMargins:l.filledTextFieldWithLabelRightButtonMargins)),u=({alignItems:e,justifyContent:t,expand:n,noMargin:a,noColumnMargin:s,children:l})=>{const c=Object(i.b)();let u=!0;return"small"===c?r.createElement(d,{noMargin:a||s,expand:!0},l):r.createElement(o.b,{alignItems:e,justifyContent:t,expand:n,noMargin:a},r.Children.map(l,(e,t)=>{if(!e)return null;const n=!u;return u=!1,r.createElement(r.Fragment,null,n&&r.createElement(o.c,null),e)}))},d=({alignItems:e,justifyContent:t,expand:n,noMargin:a,children:i})=>{let s=!0;return r.createElement(o.a,{alignItems:e,justifyContent:t,expand:n,noMargin:a},r.Children.map(i,(e,t)=>{if(!e)return null;const n=!s;return s=!1,r.createElement(r.Fragment,null,n&&r.createElement(o.c,null),e)}))}},881:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(77),r=n(71),o=n(4),i=n(83),s=n(73),l=n(99),c=n(80),u=n(125),d=n(1928),h=n(882),m=n.n(h),p=n(5),g=n(876),b=n(6);const f=n.n(b)()("electron"),E={};Object.keys(m.a).forEach(e=>{const t=m.a[e];E[e]=Object(a.a)(Object(a.a)({},t),{},{searchableDescription:t.description.replace(/ /g,"").toLowerCase()})});class v extends o.Component{constructor(...e){super(...e),this.state={searchText:"",chosenExtensionName:""},this.changeSearchText=e=>{this.setState({searchText:e,chosenExtensionName:""})},this.chooseExtensionName=e=>{this.setState({searchText:"",chosenExtensionName:e})}}_submitExample(){p.b.openExternalURL("https://github.com/4ian/GDevelop/issues/new?body=".concat(encodeURIComponent("Hi!\n\n  I'd like to submit a new example to be added to GDevelop.\n  Here is the link to download it: **INSERT the link to your game here, or add it as an attachment**.\n\n  I confirm that any assets can be used freely by anybody, including for commercial usage.\n  "),"&title=New%20example"))}render(){const e=this.state,t=e.searchText,n=e.chosenExtensionName,a=t.toLowerCase();return o.createElement(s.a,{noMargin:!0},o.createElement(s.b,{noMargin:!0},o.createElement(d.a,{value:t,onChange:this.changeSearchText,chosenExtensionName:n,onExtensionNameChosen:this.chooseExtensionName})),o.createElement(s.b,{noMargin:!0},o.createElement(s.a,{expand:!0,noMargin:!0},o.createElement(l.a,null,this.props.exampleNames&&this.props.exampleNames.map(e=>{const r=(i=e).length?i[0].toUpperCase()+i.substr(1).replace(/-/g," "):"";var i;const s=(e=>E[e]||{description:"",searchableDescription:"",usedExtensions:[]})(e);return(!t||Object(g.a)(t,r)||-1!==s.searchableDescription.indexOf(a))&&(c=s.usedExtensions,!(u=n)||c&&c.find(e=>e.name===u))?o.createElement(l.b,{key:e,primaryText:r,secondaryText:s.description,secondaryTextLines:2,onClick:()=>this.props.onCreateFromExample(e)}):null;var c,u}),!this.props.exampleNames&&o.createElement(u.a,null)),!!f&&o.createElement(s.a,{expand:!0},o.createElement(c.a,null,o.createElement(r.Trans,{id:"Want to contribute to the examples?"})),o.createElement(s.b,{alignItems:"center",justifyContent:"center"},o.createElement(i.a,{label:o.createElement(r.Trans,{id:"Submit your example"}),onClick:this._submitExample}))))))}}},882:function(e,t){e.exports={admob:{description:"Demonstrate how to show ads from AdMob in your game: banners, interstitial screen or reward videos. Also useful to test that your AdMob account is working properly.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"AdMob",name:"AdMob"}]},"advanced-shape-based-painter":{description:"Show how to use Shape Painter objects to create a simple drawing app.",usedExtensions:[{fullName:"Shape painter",name:"PrimitiveDrawing"},{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"animation-speed-scale":{description:"Change the speed of the animation of an object according to its movement speed.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"}]},asteroids:{description:"An adptation of the classic arcade game Asteroids with GDevelop.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Sprite",name:"Sprite"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},"basic-ai-with-pathfinding":{description:"Show how to use pathfinding to make enemies chase the player.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Pathfinding behavior",name:"PathfindingBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Time",name:"BuiltinTime"}]},"basic-artificial-intelligence":{description:"Show how to create enemies looking at the player and chasing him when spotted.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Time",name:"BuiltinTime"}]},"basic-topdown-car-driving":{description:"Show how to create a car that can be controlled by the player.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"}]},"bbtext-object-demo":{description:"This shows how to change the bbcode text of a BBText object displayed on the screen.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"BBCode Text Object",name:"BBText"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"betabox-basics-learning-experience":{description:"Example level for teaching basic programming skills with extra features and assets.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Text object",name:"TextObject"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Mouse and touch",name:"BuiltinMouse"}]},"board-walk-with-raycast":{description:"Example showing how to walk on a tile-based arbitrary board using the Raycast condition.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Linked objects",name:"LinkedObjects"}]},"bomb-the-crate":{description:"A basic bomberman like game, where the player can move on the map, drop bombs and destroy crates on the map.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"bouncing-ball-and-rope":{description:"Simulate a bouncing ball with ropes that can be created to move the ball around anchors.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Shape painter",name:"PrimitiveDrawing"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Linked objects",name:"LinkedObjects"}]},breakout:{description:"The classic Breakout arcade game adapted in GDevelop. Read the tutorial about it to learn how to make a game like this.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Sprite",name:"Sprite"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"",name:""},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"External layouts",name:"BuiltinExternalLayouts"},{fullName:"Physics Engine 2.0",name:"Physics2"}]},buttons:{description:"Learn how to make buttons for the menus in your game.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"}]},"cannon-ball-with-physics":{description:"An example showing how to launch a ball from a cannon when using the Physics engine.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Storage",name:"BuiltinFile"}]},"car-physics":{description:"A fun, physics based driving game",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"center-object-within-another":{description:"How to put an object on the center of another",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"change-position-of-object":{description:"Show how to move an object by changing its X and Y position.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"change-scale-of-sprites":{description:"Show how to change the scale of a sprite (to make a zoom effect for example).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"change-sprite-animation":{description:"Learn how to change the animation of a Sprite object (useful for animating almost all objects in your game: characters, enemies, items...)",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"change-sprite-color":{description:"Learn how to change the color of a Sprite object - useful to achieve effects like invincibility with a blue tint or taking damage with a red effect. ",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"character-selection":{description:"Example showing how to remember the character selected by the player and use it in other scenes.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"System information",name:"SystemInfo"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"count-down-timer":{description:"Show how to use a variable as a timer and display it on screen like a bomb count down timer.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"}]},"create-object-with-mouseclick":{description:"Show how to create an object at the position of the click.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"create-random-object":{description:"Show how to create a object randomly picked in a list.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"custom-font":{description:"Example showing a text with a custom font applied on it.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"}]},"custom-mouse-pointer":{description:"Learn how to replace the mouse cursor by a custom image.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"customize-keys-with-lastpressedkey":{description:"This explains how to remember the last key that was pressed and customize the inputs of your game.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},"device-orientation-ballgame":{description:"Example showing how to use the device sensors to move a ball in a maze.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Device sensors",name:"DeviceSensors"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"device-orientation-compass":{description:"This shows how to use the device sensors to create a compass like app.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Device sensors",name:"DeviceSensors"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"device-vibration":{description:"Show how to make the device vibrate.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Device vibration",name:"DeviceVibration"}]},"dialogue-tree-with-yarn":{description:"A platformer showing a simple interactive story with dialogues like in RPG games, using the Yarn dialogue tree extension.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"BBCode Text Object",name:"BBText"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Dialogue Tree (Experimental)",name:"DialogueTree"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"System information",name:"SystemInfo"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},"downhill-bike-physics-demo":{description:"A fun demo, using the Physics Engine to build an advanced simulation of a bike, with a person pedaling on it. Try to cross the finish line without falling and as fast as possible!",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Shape painter",name:"PrimitiveDrawing"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Advanced control features",name:"BuiltinAdvanced"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Window features",name:"BuiltinWindow"},{fullName:"Device vibration",name:"DeviceVibration"},{fullName:"Time",name:"BuiltinTime"}]},"drag-camera-with-mouse":{description:"This shows how to allow the user to move on a map with the mouse.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"drop-collect-items-from-storage":{description:"Show how to make the player collect objects from boxes on the map.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"}]},"endless-up-runner":{description:"A game where the player have to jump on platforms and avoid falling down as the screen goes up. With special objects (spring, rocks), score and Game Over handling!",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Mouse and touch",name:"BuiltinMouse"}]},"exit-app":{description:"Simple example showing how to close your game.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"}]},"facebook-instant-game":{description:"Learn how to use the various Facebook Instant Games APIs to get information about the player, share their scores and have a leaderboard!",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Facebook Instant Games",name:"FacebookInstantGames"}]},"filesystem-create-directory":{description:"Show how to ask the user for a folder name and create it on the disk.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Text entry object",name:"TextEntryObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Filesystem",name:"FileSystem"}]},"find-diagonals":{description:"Show how to delete objects that are located at the diagonals of the click of the player in a board game.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"}]},"firebase-example":{description:'A twitter-like social network called "Not Twitter" using Firestore, and showcase of some other features of Firebase.',usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Firebase",name:"Firebase"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Text entry object",name:"TextEntryObject"},{fullName:"Time",name:"BuiltinTime"}]},"flappy-bird":{description:"A clone of the challenging and popular Flappy Bird game, where you control a bird which has to avoid pipes.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"",name:""},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"System information",name:"SystemInfo"},{fullName:"Time",name:"BuiltinTime"}]},"game-feel-demo":{description:'A demo showing how to enhance the "game feel" of your project: VFX, shot trail, ambient sounds and SFX, screenshake, wobble...\n',usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Time",name:"BuiltinTime"}]},geodash:{description:"A fast paced game where you must jump and avoid obstacles.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"}]},"geometry-monster":{description:"A hyper casual endless game where you have to collect shapes and avoid bombs, with a progressively increasing difficulty.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"",name:""},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Text object",name:"TextObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Variable features",name:"BuiltinVariables"}]},"health-bar":{description:"The platform example game adapted to add a health bar to the player, that is decreased when the player touches an enemy.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse and touch",name:"BuiltinMouse"}]},"infinite-scrolling-background":{description:"Learn how to create a background that is scolling infinitely.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"inventory-system":{description:"Learn how to display an inventory, with object that can be addded or removed, and how to persist it in storage.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Inventory",name:"Inventory"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Storage",name:"BuiltinFile"}]},"isometric-game":{description:"Example of making an isometric 2D game.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Top-down movement",name:"TopDownMovementBehavior"},{fullName:"",name:""},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},"javascript-blocks-in-platformer":{description:"This shows how to reproduce the Platformer example using JavaScript code instead of events.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},"keyboard-practice":{description:"A simple game where the player must press the right keys on the keyboard as fast as possible.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"}]},"layer-effects":{description:"An example showing all the layer effects available in GDevelop.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Storage",name:"BuiltinFile"}]},"level-editor":{description:"Example showing a basic level editor, where you can save and load positions of objects put on the scene during the game. Also shows how to use simple functions.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Shape painter",name:"PrimitiveDrawing"},{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"",name:""}]},"level-selection-unlock":{description:"Show how to save user progress and progressively unlock levels.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},lights:{description:"Example showing the usage of multiple light objects, setting other objects as light obstacles and using a slight blur effect to soften shadows.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Lights",name:"Lighting"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"",name:""}]},"load-image-from-url":{description:"Advanced example showing how to use JavaScript to load an image from an external URL.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},magnet:{description:"Show how to move a ball like if it's attracted by a magnet.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"manipulate-text-object":{description:"This shows how to change the text of a Text object displayed on the screen.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"menu-with-functions-and-text-effects":{description:"How to implement the same menu across multiple scenes using functions and text effects for hover/active states.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"",name:""}]},"move-camera-to-position":{description:"This shows how to move the camera to the position of an object on a map.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Variable features",name:"BuiltinVariables"}]},"move-object-back-and-forth":{description:"Use events to move objects back and forth vertically or horizontally.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"}]},"move-object-in-circle":{description:"This shows how to make an object move in circle around some point.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"move-object-toward-position":{description:"This shows how to have an object move to a given position on the screen.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"move-object-with-mouse-joint":{description:"Show how to use physics engine to move an object around with the mouse and realistic movements.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"move-object-with-physics":{description:"This shows how to use the forces built in GDevelop to move an object.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"multi-language-menu":{description:"Show how to translate a menu (titles, buttons) in multiple languages and add an option for the player to choose the language.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"}]},"multiplayer-platformer-with-gamepads":{description:"Example showing how to use the Gamepads extension to read the state of gamepads (or controllers), for 2 players.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"",name:""}]},multitouch:{description:"This show how to create multiple markers when the player touches the screen.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"object-gravity":{description:"Use the physics engine to simulate an object moving on a small planet.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"}]},"object-selection":{description:"Simple example showing how the engine of GDevelop select objects to be used in conditions and actions.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"objects-timers":{description:"Example showing various usage of objects timers (timers that are stored into instances of objects on the scene, as opposed to scene timers which are stored by the scene).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"}]},"open-url-in-browser":{description:"This shows how to open a website on the system default browser.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Storage",name:"BuiltinFile"}]},"p2p-networking":{description:"A showcase of some multiplayer/networking possibilities using the P2P extension.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Text entry object",name:"TextEntryObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Peer-to-Peer communication (experimental)",name:"P2P"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"",name:""},{fullName:"Variable features",name:"BuiltinVariables"}]},pairs:{description:"Find all matching pairs of cards in this relaxing game. Use tweens to create smooth, natural animations with a few events.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Tweening",name:"Tween"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},parallax:{description:"Shows how to have multiple layers with a parallax effect (where the background layers move slower than the foreground).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"parallax-scrolling":{description:"Another example showing how to have multiple layers with a parallax effect (where the background layers move slower than the foreground).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"parse-json-from-api":{description:"Advanced example where JSON content is fetched from a website and information extracted from it.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Basic internet features",name:"BuiltinNetwork"}]},"parse-json-string":{description:"Advanced example showing how to extract information from a JSON formatted string.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Basic internet features",name:"BuiltinNetwork"}]},"particle-effects-demo":{description:"A demo of various high quality particle effects (fire, magic, snow, rune spell...) that you can try and use in your game.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Tweening",name:"Tween"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Storage",name:"BuiltinFile"}]},"particles-explosions":{description:"Create explosion effects with the particles engine.",usedExtensions:[{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"particles-various-effects":{description:"Create various effects with the particles engine.",usedExtensions:[{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Features for all objects",name:"BuiltinObject"}]},pathfinding:{description:"This show how to have an object moving from its position to another automatically avoiding obstacles.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Pathfinding behavior",name:"PathfindingBehavior"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"pathfinding-basics":{description:"Simpler example showing how to get started with Pathfinding, to have an object automatically find its way around obstacles.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Pathfinding behavior",name:"PathfindingBehavior"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},physics:{description:"Example showing various capabilities of the physics engine integrated to GDevelop.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"physics-joints-demo":{description:"A demo of all the joints that can be created using the Physics engine.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Shape painter",name:"PrimitiveDrawing"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"physics-joints-settings-demo":{description:"A demo of all the joints, and the way they can be customized, using the Physics engine.",usedExtensions:[{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Shape painter",name:"PrimitiveDrawing"},{fullName:"",name:""},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"}]},"pin-object-to-another":{description:'Example showing how to have objects "pinned" to another, meaning that they will move/rotate and follow the object they are pinned too.',usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"pin-object-to-another-multiple-parents":{description:'Example showing how to have objects "pinned" to multiple other objects, meaning that they will move/rotate and follow the object they are pinned too.',usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Linked objects",name:"LinkedObjects"}]},"pixel-perfect-platform-game":{description:"Very simple example showing the settings to have a pixel-perfect platform game (also applicable to other kind of games).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"}]},"plane-and-clouds":{description:"Show how to randomly generate clouds to create an infinite sky.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},platformer:{description:"An example of a basic platformer (Mario-like) game made with GDevelop.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Tweening",name:"Tween"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"",name:""},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse and touch",name:"BuiltinMouse"}]},"platformer-double-jump":{description:"The Platformer example modified to allow the player to do a double jump.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},"platformer-with-tilemap":{description:"Shows how to create a platformer game with a Tilemap object for designing the level, and invisible objects to mark platforms and ladders.\n",usedExtensions:[{fullName:"Tilemap",name:"TileMap"},{fullName:"Sprite",name:"Sprite"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Window features",name:"BuiltinWindow"}]},"play-music-on-mobile":{description:"This show how to properly launch a music on a game on mobile.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Audio",name:"BuiltinAudio"}]},"play-stop-sprite-animation":{description:"This shows how to pause the animation of a Sprite object.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"procedural-generation":{description:"An example showing how to create a simple top down procedural generation system.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"",name:""}]},"racing-game":{description:"A top-down racing game made using the Physics engine.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Variable features",name:"BuiltinVariables"}]},ragdoll:{description:"Example of creating a ragdoll with physics joints.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Advanced control features",name:"BuiltinAdvanced"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},rain:{description:"Show how to simulate a rain effect by creating several objects.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Window features",name:"BuiltinWindow"}]},"random-color-picker":{description:"This shows how to create a grid with random color, and let the player choose one.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"rotate-toward-mouse":{description:"Show how to rotate an object so that it looks toward the player cursor.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"rotate-toward-position":{description:"Show how to rotate an object so that it looks toward a specified position on the scene.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"rotate-with-keypress":{description:"Basic example showing how to rotate an object.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"save-load":{description:"Advanced example showing how to persist data and then reload them from storage (useful to store game progress, or save the state of some objects in a game).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Storage",name:"BuiltinFile"}]},"screen-shake":{description:"Make the screen shake when some event occurs.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},"shoot-bullet-in-parabola":{description:"Show how to use various mathematical expressions to move an object following a parabola shape",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Scene management features",name:"BuiltinScene"}]},"shoot-bullets":{description:"Basic example showing how to shoot bullets from an object.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"shooting-bullets-explanation":{description:"Basic example showing how to shoot bullets from one or multiple objects at the same time.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"simple-space-shooter":{description:"An older, simple space shooter demo, made without any behaviors from extensions. Prefer taking a look at the Space Shooter starter to learn about useful behaviors and patterns for making your games.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Top-down movement",name:"TopDownMovementBehavior"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},"snap-object-to-grid":{description:"Example showing how to create a grid and have objects snapped to the grid.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Shape painter",name:"PrimitiveDrawing"},{fullName:"Text object",name:"TextObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Window features",name:"BuiltinWindow"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"space-invaders":{description:"A Space Invaders-like game, where you have a turret and shoot on enemies coming from the sky.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Window features",name:"BuiltinWindow"}]},"space-shooter":{description:"A beautiful, retro side-scrolling shooter where you must defeat incoming enemies with your mecha transforming spaceship. Huge boss included!\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"",name:""},{fullName:"Top-down movement",name:"TopDownMovementBehavior"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"spatial-sound":{description:"A small game similar to the Lost Woods of The Legend of Zelda Ocarina of Time, that uses spatial sound.",usedExtensions:[{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Top-down movement",name:"TopDownMovementBehavior"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Spatial sound",name:"SpatialSound"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"}]},"splash-screen":{description:"Show how to create a splashscreen at the beginning of your game.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"sprite-fade-in-out":{description:"This shows how to make a sprite fade in and out on the screen.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"}]},"tabbed-menu-with-layers":{description:"Example showing how to create a menu with multiple tabs.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Tweening",name:"Tween"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"take-screenshot":{description:"Show how to save a screenshot of the game on the disk (on Windows/macOS/Linux only).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Screenshot",name:"Screenshot"},{fullName:"Audio",name:"BuiltinAudio"}]},"tetris-demo":{description:"A complete demo of a Tetris game, with all the concepts of modern Tetris such as SRS (Super Rotation System) and ghost piece, with high scores, music, sound effects.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Text entry object",name:"TextEntryObject"},{fullName:"",name:""},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Time",name:"BuiltinTime"},{fullName:"External layouts",name:"BuiltinExternalLayouts"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Filesystem",name:"FileSystem"},{fullName:"Audio",name:"BuiltinAudio"}]},"text-entry-object":{description:"This shows how to use the Text Entry object to capture what is written on the keyboard.",usedExtensions:[{fullName:"Text entry object",name:"TextEntryObject"},{fullName:"Text object",name:"TextObject"}]},"text-fade-in-out":{description:"This shows how to make a text fade in and out on the screen.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"}]},"text-to-speech":{description:"Advanced example showing how to use JavaScript and HTML5 api to make a text read by your computer.",usedExtensions:[{fullName:"Text entry object",name:"TextEntryObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"}]},"tilemaps-made-with-tiled-editor":{description:"Shows different examples of Tilemaps made with the Tiled editor (that can be downloaded on mapeditor.org), including some with animations.\n",usedExtensions:[{fullName:"Tilemap",name:"TileMap"},{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"",name:""}]},"toggle-music-play-sound":{description:"Example showing how to play a music and add controls on the screen to pause it, change the volume or mute the sounds totally.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Audio",name:"BuiltinAudio"}]},"tween-animations":{description:"Examples of how to use a variety of tween animations, including object position, color, opacity, angle, and scale.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tweening",name:"Tween"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"tween-test":{description:"An example project that tests all Tween extension functionality.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Tweening",name:"Tween"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Advanced control features",name:"BuiltinAdvanced"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"}]},"type-on-text-effect":{description:"This show how to create an effect where a text is progressively typed on the screen.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"}]},"unlock-items":{description:"Show how to save the items unlocked by the user and load them later (when the game is launched again for example, or when starting a saved game).\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Variable features",name:"BuiltinVariables"}]},"video-player":{description:"An example of a complete video player with controls to play/pause, change the volume, jump to a position in the video...",usedExtensions:[{fullName:"Video",name:"Video"},{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Tweening",name:"Tween"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Advanced control features",name:"BuiltinAdvanced"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"",name:""},{fullName:"Window features",name:"BuiltinWindow"}]},"z-depth":{description:"Example where the player can move a character on a map, and the character is displayed behind or in front of other objects according to its position.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Builtin events",name:"BuiltinCommonInstructions"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"zombie-laser":{description:"Simple game where the player must use his laser powered gun to destroy zombies running at him.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Shape painter",name:"PrimitiveDrawing"},{fullName:"Text object",name:"TextObject"},{fullName:"Pathfinding behavior",name:"PathfindingBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Mouse and touch",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]}}},884:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(71),r=n(4),o=n(80),i=n(73);const s=()=>r.createElement(o.a,null,r.createElement(a.Trans,{id:"This will export your game as a Cordova project. Cordova is a technology that enables HTML5 games to be packaged for iOS and Android."})),l=({renderGameButton:e})=>r.createElement(i.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"You can now compile the game by yourself using Cordova command-line tool to iOS (XCode is required) or Android (Android SDK is required)."})),r.createElement(i.b,{justifyContent:"center"},e()))},885:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(71),r=n(4),o=n(80),i=n(73);const s=()=>r.createElement(o.a,null,r.createElement(a.Trans,{id:"This will export your game so that you can package it for Windows, macOS or Linux. You will need to install third-party tools (Node.js, Electron Builder) to package your game."})),l=({renderGameButton:e})=>r.createElement(i.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"The game was properly exported. You can now use Electron Builder (you need Node.js installed and to use the command-line on your computer to run it) to create an executable."})),r.createElement(i.b,{justifyContent:"center"},e()))},886:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h}));var a=n(71),r=n(4),o=n(80),i=n(200),s=n(5),l=n(81),c=n(73),u=n(124);const d=()=>r.createElement(o.a,null,r.createElement(a.Trans,{id:"This will export your game to a folder."}),r.createElement(a.Trans,{id:"You can then upload it on a website/game hosting service and share it on marketplaces and gaming portals like Kongregate, Game Jolt, itch.io, Poki..."})),h=({renderGameButton:e})=>r.createElement(c.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"You can now upload the game to a web hosting to play to the game."})),r.createElement(u.a,{kind:"warning"},r.createElement(a.Trans,{id:"Your game won't work if you open index.html on your computer. You must upload it to a web hosting (Kongregate, Itch.io, etc...) or a web server to run it."})),r.createElement(c.c,null),e(),r.createElement(c.c,null),r.createElement(l.a,{fullWidth:!0,primary:!0,onClick:()=>s.b.openExternalURL(Object(i.a)("/publishing/publishing-to-gamejolt-store")),label:r.createElement(a.Trans,{id:"Publish your game on Game Jolt"})}),r.createElement(l.a,{fullWidth:!0,primary:!0,onClick:()=>s.b.openExternalURL(Object(i.a)("/publishing/publishing-to-kongregate-store")),label:r.createElement(a.Trans,{id:"Publish your game on Kongregate"})}),r.createElement(l.a,{fullWidth:!0,primary:!0,onClick:()=>s.b.openExternalURL(Object(i.a)("/publishing/publishing-to-itch-io")),label:r.createElement(a.Trans,{id:"Publish your game on Itch.io"})}),r.createElement(l.a,{fullWidth:!0,primary:!0,onClick:()=>s.b.openExternalURL("https://gdevelop-app.com/poki"),label:r.createElement(a.Trans,{id:"Publish your game on Poki.com"})}),r.createElement(l.a,{fullWidth:!0,onClick:()=>s.b.openExternalURL(Object(i.a)("/publishing")),label:r.createElement(a.Trans,{id:"Learn more about publishing"})}))},887:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var a=n(71),r=n(4),o=n(80),i=n(73),s=n(124);const l=()=>r.createElement(i.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"This will export your game using Cocos2d-JS game engine. The game can be compiled for Android or iOS if you install Cocos2d-JS developer tools."})),r.createElement(i.c,null),r.createElement(s.a,{kind:"info"},r.createElement(a.Trans,{id:"This export is experimental and not all features are supported by Cocos2D-JS. It's recommended that you thoroughly test your game and be ready to contribute to the game engine if you need to implement missing features."}))),c=({renderGameButton:e})=>r.createElement(i.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"You can now upload the game to a web hosting or use Cocos2d-JS command line tools to export it to other platforms like iOS (XCode is required) or Android (Android SDK is required)."})),r.createElement(i.b,{justifyContent:"center"},e()))},888:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(71),r=n(4),o=n(80),i=n(73),s=n(81),l=n(200),c=n(5);const u=()=>r.createElement(o.a,null,r.createElement(a.Trans,{id:"Prepare your game for Facebook Instant Games so that it can be play on Facebook Messenger. GDevelop will create a compressed file that you can upload on your Facebook Developer account."})),d=({renderGameButton:e})=>r.createElement(i.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"You can now create a game on Facebook Instant Games, if not already done, and upload the generated archive."})),r.createElement(i.b,{justifyContent:"center"},e(),r.createElement(s.a,{label:r.createElement(a.Trans,{id:"Learn more about Instant Games publication"}),primary:!0,onClick:()=>{c.b.openExternalURL(Object(l.a)("/publishing/publishing-to-facebook-instant-games"))}})))},889:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(71),r=n(4),o=n(80);const i=()=>r.createElement(o.a,null,r.createElement(a.Trans,{id:"Packaging your game for Android will create an APK file that can be installed on Android phones or published to the Play Store."}))},890:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(77),r=n(71),o=n(4),i=n(80),s=n(161),l=n(73);const c=({exportState:e,updateExportState:t})=>{const n=(e,n)=>{t(t=>n&&-1===t.targets.indexOf(e)?Object(a.a)(Object(a.a)({},t),{},{targets:[...t.targets,e]}):n||-1===t.targets.indexOf(e)?t:Object(a.a)(Object(a.a)({},t),{},{targets:t.targets.filter(t=>t!==e)}))};return o.createElement(o.Fragment,null,o.createElement(l.a,{noMargin:!0},o.createElement(l.b,null,o.createElement(i.a,null,o.createElement(r.Trans,{id:"Your game will be exported and packaged online as a stand-alone game for Windows, Linux and/or macOS."}))),o.createElement(s.a,{label:o.createElement(r.Trans,{id:"Windows (zip file)"}),checked:-1!==e.targets.indexOf("winZip"),onCheck:(e,t)=>n("winZip",t)}),o.createElement(s.a,{label:o.createElement(r.Trans,{id:"Windows (auto-installer file)"}),checked:-1!==e.targets.indexOf("winExe"),onCheck:(e,t)=>n("winExe",t)}),o.createElement(s.a,{label:o.createElement(r.Trans,{id:"macOS (zip file)"}),checked:-1!==e.targets.indexOf("macZip"),onCheck:(e,t)=>n("macZip",t)}),o.createElement(s.a,{label:o.createElement(r.Trans,{id:"Linux (AppImage)"}),checked:-1!==e.targets.indexOf("linuxAppImage"),onCheck:(e,t)=>n("linuxAppImage",t)})))}},891:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(71),r=n(4),o=n(80);const i=()=>r.createElement(o.a,null,r.createElement(a.Trans,{id:"This will export your game and upload it on GDevelop games hosting. The game will be freely accessible from the link, available for a few days and playable from any computer browser or mobile phone (iOS, Android 5+)."}))},892:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(622);t.a=r.a.memo(e=>r.a.createElement(o.a,e,r.a.createElement("path",{d:"M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M18,5H15.5A3.5,3.5 0 0,0 12,8.5V11H10V14H12V21H15V14H18V11H15V9A1,1 0 0,1 16,8H18V5Z"})))},893:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(622);t.a=r.a.memo(e=>r.a.createElement(o.a,e,r.a.createElement("path",{d:"M20.18,21.55H16.94L17.17,18.82H15.58L15.35,21.55H8.65L8.42,18.82H6.83L7.06,21.55H3.82L2,9.73L6.55,2.45H17.45L22,9.73L20.18,21.55M16.55,6.09H13.62L13.82,7.45H10.18L10.38,6.09H7.45L5.64,9.73L6.55,17H17.45L18.36,9.73L16.55,6.09M14.95,14.59C14.7,14.59 14.5,13.83 14.5,12.9C14.5,11.96 14.7,11.2 14.95,11.2C15.21,11.2 15.41,11.96 15.41,12.9C15.41,13.83 15.21,14.59 14.95,14.59M9.22,14.73C8.96,14.73 8.76,13.97 8.76,13.04C8.76,12.1 8.96,11.35 9.22,11.35C9.47,11.35 9.67,12.1 9.67,13.04C9.67,13.97 9.47,14.73 9.22,14.73Z"})))},894:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(622);t.a=r.a.memo(e=>r.a.createElement(o.a,e,r.a.createElement("path",{d:"M12,20L15.46,14H15.45C15.79,13.4 16,12.73 16,12C16,10.8 15.46,9.73 14.62,9H19.41C19.79,9.93 20,10.94 20,12A8,8 0 0,1 12,20M4,12C4,10.54 4.39,9.18 5.07,8L8.54,14H8.55C9.24,15.19 10.5,16 12,16C12.45,16 12.88,15.91 13.29,15.77L10.89,19.91C7,19.37 4,16.04 4,12M15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9A3,3 0 0,1 15,12M12,4C14.96,4 17.54,5.61 18.92,8H12C10.06,8 8.45,9.38 8.08,11.21L5.7,7.08C7.16,5.21 9.44,4 12,4M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})))},898:function(e,t,n){const a=n(736),r=(e,t,n)=>{if(!n.runExtensionSanityTests)return{error:!0,message:"Missing runExtensionSanityTests in the extension module exports"};const r=n.runExtensionSanityTests(e,t);return a(r)?{error:!0,message:"One or more tests are failing for the extension (see rawError)",rawError:r}:{error:!1,message:"Tests passed successfully"}};e.exports={runExtensionSanityTests:r,loadExtension:(e,t,n,a)=>{if(!a.createExtension)return{message:"Extension module found, but no createExtension method is exported",error:!0};let o=null;try{if(o=a.createExtension(e,t),!o)return{message:"createExtension did not return any extension. Did you forget to return the extension created?",error:!0}}catch(i){return{message:"\ud83d\udea8 Exception caught while running createExtension. \ud83d\udca3 Please fix this error as this will make GDevelop crash at some point.",error:!0,dangerous:!0,rawError:i}}try{const e=r(t,o,a);if(e.error)return o.delete(),e}catch(i){return{message:"\ud83d\udea8 Exception caught while running runExtensionSanityTests. \ud83d\udca3 Please fix this error as this will make GDevelop crash at some point.",error:!0,dangerous:!0,rawError:i}}return n.addNewExtension(o),o.delete(),{message:"\u2705 Successfully loaded the extension.",error:!1}}}},901:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(77),r=n(4);const o={internalName:"Empty",name:"No storage",createOperations:()=>({onOpenWithPicker:()=>Promise.reject("No storage provider set up"),onOpen:()=>Promise.reject("No storage provider set up"),hasAutoSave:()=>Promise.resolve(!1),onSaveProject:e=>Promise.reject("No storage provider set up"),onSaveProjectAs:e=>Promise.reject("No storage provider set up"),onAutoSaveProject:e=>Promise.resolve()})};class i extends r.Component{constructor(...e){super(...e),this.state=Object(a.a)(Object(a.a)({},((e,t,n)=>{const a=t.map(e=>({currentStorageProvider:e,initialFileMetadataToOpen:e.getFileMetadataFromAppArguments?e.getFileMetadataFromAppArguments(n):null})).filter(({initialFileMetadataToOpen:e})=>!!e);return 0===a.length?{currentStorageProvider:e,initialFileMetadataToOpen:null}:(a.length>1&&console.warn("More than one storage provider can understand the app arguments. Selecting the first one."),a[0])})(this.props.defaultStorageProvider,this.props.storageProviders,this.props.appArguments)),{},{storageProviderOperations:null,renderDialog:null}),this._setDialog=e=>{this.setState({renderDialog:e})},this._closeDialog=()=>{this.setState({renderDialog:null})},this._getStorageProviderOperations=e=>{if((!e||e===this.state.currentStorageProvider)&&this.state.storageProviderOperations)return Promise.resolve(this.state.storageProviderOperations);const t=e||this.state.currentStorageProvider||o,n=t.createOperations({setDialog:this._setDialog,closeDialog:this._closeDialog});return new Promise(e=>{this.setState({currentStorageProvider:t,storageProviderOperations:n},()=>{e(n)})})},this._getStorageProvider=()=>this.state.currentStorageProvider||o}render(){const e=this.props,t=e.children,n=e.storageProviders,a=this.state,o=a.renderDialog,i=a.initialFileMetadataToOpen;return r.createElement(r.Fragment,null,t({storageProviders:n,getStorageProviderOperations:this._getStorageProviderOperations,initialFileMetadataToOpen:i,getStorageProvider:this._getStorageProvider}),o&&o())}}},907:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(568),i=n.n(o),s=n(25);class l{constructor({onDelete:e,onMove:t,onCopy:n,onCut:a,onPaste:r,onUndo:o,onRedo:i,onSearch:l,onZoomOut:c,onZoomIn:u}){this._isControlPressed=()=>this.metaPressed||this.rawCtrlPressed,this._onKeyDown=e=>{if(!this.isFocused)return;let t=!1;e.metaKey&&(this.metaPressed=!0),e.altKey&&(this.altPressed=!0),17===e.which&&(this.rawCtrlPressed=!0),16===e.which&&(this.shiftPressed=!0),32===e.which&&(this.spacePressed=!0);return e.target&&e.target.closest('textarea, input, [contenteditable="true"]')?void 0:(this.onMove&&(38===e.which?this.shiftPressed?this.onMove(0,-5):this.onMove(0,-1):40===e.which?this.shiftPressed?this.onMove(0,5):this.onMove(0,1):37===e.which?this.shiftPressed?this.onMove(-5,0):this.onMove(-1,0):39===e.which&&(this.shiftPressed?this.onMove(5,0):this.onMove(1,0))),8!==e.which&&46!==e.which||(this.onDelete(),t=!0),this._isControlPressed()&&67===e.which&&this.onCopy(),this._isControlPressed()&&88===e.which&&this.onCut(),this._isControlPressed()&&86===e.which&&this.onPaste(),this._isControlPressed()&&90===e.which&&this.onUndo(),this._isControlPressed()&&this.shiftPressed&&90===e.which&&this.onRedo(),this._isControlPressed()&&89===e.which&&this.onRedo(),this._isControlPressed()&&70===e.which&&this.onSearch(),this._isControlPressed()&&189===e.which&&this.onZoomOut(),109===e.which&&this.onZoomOut(),this._isControlPressed()&&187===e.which&&this.onZoomIn(),107===e.which&&this.onZoomIn(),t?(e.preventDefault&&e.preventDefault(),!1):void 0)},this._onKeyUp=e=>{e.metaKey||(this.metaPressed=!1),e.altKey||(this.altPressed=!1),17===e.which&&(this.rawCtrlPressed=!1),16===e.which&&(this.shiftPressed=!1),32===e.which&&(this.spacePressed=!1);let t=!1;if(8!==e.which&&46!==e.which||(t=!0),t)return e.preventDefault&&e.preventDefault(),!1},this._onMouseDown=e=>{this.isFocused&&(Object(s.e)()||(1===e.button?this.mouseMidButtonPressed=!0:this.mouseMidButtonPressed=!1))},this._onMouseUp=e=>{this.isFocused&&(Object(s.e)()||1!==e.button||(this.mouseMidButtonPressed=!1))},this._onKeyPress=e=>{},this._noop=()=>{},this.onDelete=e||this._noop,this.onMove=t||this._noop,this.onCopy=n||this._noop,this.onCut=a||this._noop,this.onPaste=r||this._noop,this.onUndo=o||this._noop,this.onRedo=i||this._noop,this.onZoomOut=c||this._noop,this.onZoomIn=u||this._noop,this.onSearch=l||this._noop,this.isFocused=!1,this.shiftPressed=!1,this.rawCtrlPressed=!1,this.metaPressed=!1,this.spacePressed=!1,this.mouseMidButtonPressed=!1,this.mount()}shouldCloneInstances(){return this._isControlPressed()}shouldMultiSelect(){return this.shiftPressed}shouldFollowAxis(){return this.shiftPressed}shouldNotSnapToGrid(){return this.altPressed}shouldResizeProportionally(){return this.shiftPressed}shouldScrollHorizontally(){return this.altPressed}shouldZoom(){return Object(s.e)()?this._isControlPressed():!(this._isControlPressed()||this.altPressed||this.shiftPressed)}shouldMoveView(){return this.spacePressed||this.mouseMidButtonPressed}focus(){this.isFocused=!0}blur(){this.isFocused=!1,this.metaPressed=!1,this.altPressed=!1}mount(){"undefined"!==typeof document&&(document.addEventListener("keydown",this._onKeyDown,!0),document.addEventListener("keyup",this._onKeyUp,!0),document.addEventListener("keypress",this._onKeyPress,!0),document.addEventListener("mousedown",this._onMouseDown,!0),document.addEventListener("mouseup",this._onMouseUp,!0))}unmount(){"undefined"!==typeof document&&(document.removeEventListener("keydown",this._onKeyDown,!0),document.removeEventListener("keyup",this._onKeyUp,!0),document.removeEventListener("keypress",this._onKeyPress,!0),document.removeEventListener("mousedown",this._onMouseDown,!0),document.removeEventListener("mouseup",this._onMouseUp,!0))}}var c=n(1835),u=n(104);class d{constructor({project:e,layout:t,instances:n,viewPosition:a,onInstanceClicked:r,onInstanceDoubleClicked:o,onOverInstance:i,onOutInstance:s,onMoveInstance:l,onMoveInstanceEnd:c,onDownInstance:d}){this.project=e,this.instances=n,this.layout=t,this.viewPosition=a,this.onInstanceClicked=r,this.onInstanceDoubleClicked=o,this.onOverInstance=i,this.onOutInstance=s,this.onMoveInstance=l,this.onMoveInstanceEnd=c,this.onDownInstance=d,this.layersRenderers={},this.pixiContainer=new u.Container,this.instanceMeasurer={getInstanceLeft:e=>{const t=e.getLayer(),n=this.layersRenderers[t];return n?n.getInstanceLeft(e):e.getX()},getInstanceTop:e=>{const t=e.getLayer(),n=this.layersRenderers[t];return n?n.getInstanceTop(e):e.getY()},getInstanceWidth:e=>{if(e.hasCustomSize())return e.getCustomWidth();const t=e.getLayer(),n=this.layersRenderers[t];return n?n.getInstanceWidth(e):0},getInstanceHeight:e=>{if(e.hasCustomSize())return e.getCustomHeight();const t=e.getLayer(),n=this.layersRenderers[t];return n?n.getInstanceHeight(e):0},getInstanceRect:e=>({x:this.instanceMeasurer.getInstanceLeft(e),y:this.instanceMeasurer.getInstanceTop(e),width:this.instanceMeasurer.getInstanceWidth(e),height:this.instanceMeasurer.getInstanceHeight(e)})}}getPixiContainer(){return this.pixiContainer}getInstanceMeasurer(){return this.instanceMeasurer}render(){for(let e=0;e<this.layout.getLayersCount();e++){const t=this.layout.getLayerAt(e),n=t.getName();let a=this.layersRenderers[n];a||(this.layersRenderers[n]=a=new c.a({project:this.project,layout:this.layout,instances:this.instances,viewPosition:this.viewPosition,layer:t,onInstanceClicked:this.onInstanceClicked,onInstanceDoubleClicked:this.onInstanceDoubleClicked,onOverInstance:this.onOverInstance,onOutInstance:this.onOutInstance,onMoveInstance:this.onMoveInstance,onMoveInstanceEnd:this.onMoveInstanceEnd,onDownInstance:this.onDownInstance}),this.pixiContainer.addChild(a.getPixiContainer())),a.layer=t,a.wasUsed=!0,a.getPixiContainer().zOrder=e,a.render()}this._updatePixiObjectsZOrder(),this._cleanRenderers()}_updatePixiObjectsZOrder(){this.pixiContainer.children.sort((e,t)=>(e.zOrder=e.zOrder||0,t.zOrder=t.zOrder||0,e.zOrder-t.zOrder))}resetRenderersFor(e){for(let t in this.layersRenderers)if(this.layersRenderers.hasOwnProperty(t)){this.layersRenderers[t].resetRenderersFor(e)}}_cleanRenderers(){for(let e in this.layersRenderers)if(this.layersRenderers.hasOwnProperty(e)){const t=this.layersRenderers[e];t.wasUsed?t.wasUsed=!1:(this.pixiContainer.removeChild(t.getPixiContainer()),t.delete(),delete this.layersRenderers[e])}}delete(){for(let e in this.layersRenderers)this.layersRenderers.hasOwnProperty(e)&&this.layersRenderers[e].delete()}}var h=n(569);function m(e,{x:t,y:n,width:a,height:r}){const o=e(t,n),i=e(t+a,n+r);return{x:o[0],y:o[1],width:i[0]-o[0],height:i[1]-o[1]}}n(420);class p{constructor({instancesSelection:e,instanceMeasurer:t,onResize:n,onResizeEnd:a,onRotate:r,onRotateEnd:o,toCanvasCoordinates:i,screenType:s}){this.pixiContainer=new u.Container,this.rectanglesContainer=new u.Container,this.selectedRectangles=[],this.resizeButton=new u.Graphics,this.resizeIcon=u.Sprite.from("res/actions/direction.png"),this.rightResizeButton=new u.Graphics,this.bottomResizeButton=new u.Graphics,this.rotateButton=new u.Graphics,this.instanceMeasurer=t,this.onResize=n,this.onResizeEnd=a,this.onRotate=r,this.onRotateEnd=o,this.toCanvasCoordinates=i,this.instancesSelection=e,this._screenType=s,this.pixiContainer.addChild(this.rectanglesContainer),this._makeButton(this.resizeButton,e=>{this.onResize(e.deltaX,e.deltaY)},()=>{this.onResizeEnd()},"nwse-resize"),this._makeButton(this.rightResizeButton,e=>{this.onResize(e.deltaX,null)},()=>{this.onResizeEnd()},"ew-resize"),this._makeButton(this.bottomResizeButton,e=>{this.onResize(null,e.deltaY)},()=>{this.onResizeEnd()},"ns-resize"),this._makeButton(this.rotateButton,e=>{this.onRotate(e.deltaX,e.deltaY)},()=>{this.onRotateEnd()},'url("res/actions/rotate24.png"),auto')}setScreenType(e){this._screenType=e}_makeButton(e,t,n,a){e.interactive=!0,e.buttonMode=!0,e.cursor=a,i.a.panable(e),e.on("panmove",t),e.on("panend",n),this.pixiContainer.addChild(e)}getPixiContainer(){return this.pixiContainer}_renderButton(e,t,n,a,r,o){t.clear(),e?(t.beginFill(16777215),t.lineStyle(1,6842600,1),t.fill.alpha=.9,0===r?t.drawRect(n[0],n[1],a,a):1===r&&t.drawCircle(n[0]+a/2,n[1]+a/2,a/2),t.endFill(),t.hitArea=new u.Rectangle(n[0]-o,n[1]-o,a+2*o,a+2*o)):t.hitArea=new u.Rectangle(0,0,0,0)}render(){const e="touch"===this._screenType?{buttonSize:14,smallButtonSize:12,buttonPadding:5,hitAreaPadding:12}:{buttonSize:10,smallButtonSize:8,buttonPadding:5,hitAreaPadding:5},t=e.buttonSize,n=e.smallButtonSize,a=e.buttonPadding,r=e.hitAreaPadding;const o=this.instancesSelection.getSelectedInstances();let i=0,s=0,l=0,c=0;for(var d=0;d<o.length;d++){if(this.selectedRectangles.length===d){const e=new u.Graphics;e.hitArea=new u.Rectangle(0,0,0,0),this.selectedRectangles.push(e),this.rectanglesContainer.addChild(e)}const e=o[d],t=this.instanceMeasurer.getInstanceRect(e),n=m(this.toCanvasCoordinates,t);this.selectedRectangles[d].clear(),this.selectedRectangles[d].beginFill(6842600),this.selectedRectangles[d].lineStyle(1,6842600,1),this.selectedRectangles[d].fill.alpha=.3,this.selectedRectangles[d].alpha=.8,this.selectedRectangles[d].drawRect(n.x,n.y,n.width,n.height),this.selectedRectangles[d].endFill(),0===d?(i=t.x,s=t.y,l=t.x+t.width,c=t.y+t.height):(t.x<i&&(i=t.x),t.y<s&&(s=t.y),t.x+t.width>l&&(l=t.x+t.width),t.y+t.height>c&&(c=t.y+t.height))}for(;this.selectedRectangles.length>o.length;)this.rectanglesContainer.removeChild(this.selectedRectangles.pop());const h=0!==o.length,p=this.toCanvasCoordinates(l,c);p[0]+=a,p[1]+=a;const g=this.toCanvasCoordinates(l,s+(c-s)/2);g[0]+=a,g[1]-=n/2;const b=this.toCanvasCoordinates(i+(l-i)/2,c);b[0]-=n/2,b[1]+=a;const f=this.toCanvasCoordinates(i+(l-i)/2,s);f[0]-=n/2,f[1]-=4*a,this._renderButton(h,this.resizeButton,p,t,0,r),this._renderButton(h,this.rightResizeButton,g,n,0,r),this._renderButton(h,this.bottomResizeButton,b,n,0,r),this._renderButton(h,this.rotateButton,f,n,1,r)}}class g{constructor({instanceMeasurer:e,toCanvasCoordinates:t}){this.instanceMeasurer=e,this.toCanvasCoordinates=t,this.highlightedInstance=null,this.highlightRectangle=new u.Graphics,this.highlightRectangle.hitArea=new u.Rectangle(0,0,0,0),this.tooltipBackground=new u.Graphics,this.tooltipText=new u.Text("",{fontSize:15,fill:16777215,align:"center"}),this.highlightRectangle.addChild(this.tooltipBackground),this.highlightRectangle.addChild(this.tooltipText)}setInstance(e){this.highlightedInstance=e}getInstance(){return this.highlightedInstance}getPixiObject(e){return this.highlightRectangle}render(){if(null===this.highlightedInstance)return void(this.highlightRectangle.visible=!1);const e=m(this.toCanvasCoordinates,this.instanceMeasurer.getInstanceRect(this.highlightedInstance));this.highlightRectangle.visible=!0,this.highlightRectangle.clear(),this.highlightRectangle.beginFill(15658751),this.highlightRectangle.fill.alpha=.1,this.highlightRectangle.alpha=.8,this.highlightRectangle.lineStyle(1,0,1),this.highlightRectangle.drawRect(e.x,e.y,e.width,e.height),this.highlightRectangle.endFill();const t=this.highlightedInstance.getObjectName()+"\nX: "+parseInt(this.highlightedInstance.getX())+"  Y: "+parseInt(this.highlightedInstance.getY())+"\nLayer: "+this.highlightedInstance.getLayer()+"  Z: "+this.highlightedInstance.getZOrder()+"\n";this.tooltipText.text=t,this.tooltipText.x=Math.round(e.x-this.tooltipText.width/2+e.width/2),this.tooltipText.y=Math.round(e.y-this.tooltipText.height);this.tooltipBackground.clear(),this.tooltipBackground.beginFill(0,.8),this.tooltipBackground.drawRoundedRect(this.tooltipText.x-5,this.tooltipText.y-5,this.tooltipText.width+10,this.tooltipText.height-5,4),this.tooltipBackground.endFill()}}var b=n(1837);class f{constructor({instanceMeasurer:e,options:t}){this.instanceMeasurer=e,this.options=t,this.instanceSizes={},this.totalDeltaX=0,this.totalDeltaY=0}setOptions(e){this.options=e}_roundWidth(e){return!this.options.snap||!this.options.grid||this.options.gridWidth<=0?Math.max(Math.round(e),1):Math.max(Math.round(e/this.options.gridWidth)*this.options.gridWidth,1)}_roundHeight(e){return!this.options.snap||!this.options.grid||this.options.gridHeight<=0?Math.max(Math.round(e),1):Math.max(Math.round(e/this.options.gridHeight)*this.options.gridHeight,1)}_getSizeDeltaX(e,t){return e&&Math.abs(this.totalDeltaX)<Math.abs(this.totalDeltaY)?t.width/t.height*this.totalDeltaY:this.totalDeltaX}_getSizeDeltaY(e,t){return e&&Math.abs(this.totalDeltaY)<Math.abs(this.totalDeltaX)?t.height/t.width*this.totalDeltaX:this.totalDeltaY}resizeBy(e,t,n,a){this.totalDeltaX+=t,this.totalDeltaY+=n;for(let r=0;r<e.length;r++){const t=e[r];t.hasCustomSize()||(t.setCustomWidth(this.instanceMeasurer.getInstanceWidth(t)),t.setCustomHeight(this.instanceMeasurer.getInstanceHeight(t)));let n=this.instanceSizes[t.ptr];n||(n=this.instanceSizes[t.ptr]={width:t.getCustomWidth(),height:t.getCustomHeight()}),t.setHasCustomSize(!0),t.setCustomWidth(this._roundWidth(n.width+this._getSizeDeltaX(a,n))),t.setCustomHeight(this._roundHeight(n.height+this._getSizeDeltaY(a,n)))}}endResize(){this.instanceSizes={},this.totalDeltaX=0,this.totalDeltaY=0}}class E{constructor(){this.instanceAngles={},this.totalDeltaX=0,this.totalDeltaY=0}_getNewAngle(e,t){const n=180*Math.atan2(this.totalDeltaY,this.totalDeltaX)/Math.PI+t;return e?15*Math.round(n/15):n}rotateBy(e,t,n,a){this.totalDeltaX+=t,this.totalDeltaY+=n;for(let r=0;r<e.length;r++){const t=e[r];let n=this.instanceAngles[t.ptr];void 0===n&&(n=this.instanceAngles[t.ptr]=t.getAngle()),t.setAngle(this._getNewAngle(a,n))}}endRotate(){this.instanceAngles={},this.totalDeltaX=0,this.totalDeltaY=0}}var v=n(864);class y{constructor({instanceMeasurer:e,options:t}){this.instanceMeasurer=e,this.options=t,this.instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0}setOptions(e){this.options=e}_roundXPosition(e,t){return this.options.snap&&this.options.grid&&!t?Object(v.a)(e,this.options.gridWidth,this.options.gridOffsetX):Math.round(e)}_roundYPosition(e,t){return this.options.snap&&this.options.grid&&!t?Object(v.a)(e,this.options.gridHeight,this.options.gridOffsetY):Math.round(e)}_getMoveDeltaX(e){return e&&Math.abs(this.totalDeltaX)<Math.abs(this.totalDeltaY)?0:this.totalDeltaX}_getMoveDeltaY(e){return e&&Math.abs(this.totalDeltaY)<Math.abs(this.totalDeltaX)?0:this.totalDeltaY}moveBy(e,t,n,a,r){this.totalDeltaX+=t,this.totalDeltaY+=n;for(var o=0;o<e.length;o++){const t=e[o];let n=this.instancePositions[t.ptr];n||(n=this.instancePositions[t.ptr]={x:t.getX(),y:t.getY()}),t.setX(this._roundXPosition(n.x+this._getMoveDeltaX(a),r)),t.setY(this._roundYPosition(n.y+this._getMoveDeltaY(a),r))}}endMove(){this.instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0}}var C=n(263);const x={r:104,g:104,b:232};class j{constructor({viewPosition:e,options:t}){this.viewPosition=e,this.options=t,this.pixiGrid=new u.Graphics,this.pixiGrid.hitArea=new u.Rectangle(0,0,0,0)}setOptions(e){this.options=e}getPixiObject(){return this.pixiGrid}render(){const e=this.options;if(!e.grid)return void(this.pixiGrid.visible=!1);const t=e.gridColor||x,n=Object(C.b)(t),a=t.a||1;this.pixiGrid.visible=!0,this.pixiGrid.clear(),this.pixiGrid.beginFill(n),this.pixiGrid.lineStyle(1,n,a),this.pixiGrid.fill.alpha=.1,this.pixiGrid.alpha=.8;const r=this.viewPosition.toSceneCoordinates(0,0),o=this.viewPosition.toSceneCoordinates(this.viewPosition.getWidth(),this.viewPosition.getHeight()),i=Math.floor(r[0]/e.gridWidth)*e.gridWidth,s=Math.floor(r[1]/e.gridHeight)*e.gridHeight,l=Math.ceil(o[0]/e.gridWidth)*e.gridWidth,c=Math.ceil(o[1]/e.gridHeight)*e.gridHeight;for(let u=i+e.gridOffsetX;u<l;u+=e.gridWidth){const e=this.viewPosition.toCanvasCoordinates(u,s),t=this.viewPosition.toCanvasCoordinates(u,c);this.pixiGrid.moveTo(e[0],e[1]),this.pixiGrid.lineTo(t[0],t[1])}for(let u=s+e.gridOffsetY;u<c;u+=e.gridHeight){const e=this.viewPosition.toCanvasCoordinates(i,u),t=this.viewPosition.toCanvasCoordinates(l,u);this.pixiGrid.moveTo(e[0],e[1]),this.pixiGrid.lineTo(t[0],t[1])}this.pixiGrid.endFill()}}class O{constructor({project:e,layout:t,toCanvasCoordinates:n}){this.project=e,this.layout=t,this.toCanvasCoordinates=n,this.pixiRectangle=new u.Graphics,this.pixiRectangle.hitArea=new u.Rectangle(0,0,0,0),this.windowRectangle={x:0,y:0,width:this.project.getGameResolutionWidth(),height:this.project.getGameResolutionHeight()}}getPixiObject(){return this.pixiRectangle}render(){this.windowRectangle.width=this.project.getGameResolutionWidth(),this.windowRectangle.height=this.project.getGameResolutionHeight();const e=m(this.toCanvasCoordinates,this.windowRectangle);this.pixiRectangle.clear(),this.pixiRectangle.beginFill(0),this.pixiRectangle.lineStyle(1,Object(C.d)(128+this.layout.getBackgroundColorRed()%256,128+this.layout.getBackgroundColorBlue()%256,128+this.layout.getBackgroundColorGreen()%256),1),this.pixiRectangle.alpha=1,this.pixiRectangle.fill.alpha=0,this.pixiRectangle.drawRect(e.x,e.y,e.width,e.height),this.pixiRectangle.endFill()}}class T{constructor({project:e,viewPosition:t,options:n}){this.project=e,this.viewPosition=t,this.options=n,this.pixiRectangle=new u.Graphics,this.pixiRectangle.hitArea=new u.Rectangle(0,0,0,0),this.windowRectangle={x:0,y:0,width:0,height:0}}setOptions(e){this.options=e}getPixiObject(){return this.pixiRectangle}render(){if(!this.options.windowMask)return void(this.pixiRectangle.visible=!1);const e=this.project.getGameResolutionWidth(),t=this.project.getGameResolutionHeight();this.windowRectangle.x=this.viewPosition.getViewX()-e/2,this.windowRectangle.y=this.viewPosition.getViewY()-t/2,this.windowRectangle.width=e,this.windowRectangle.height=t;const n=m(this.viewPosition.toCanvasCoordinates,this.windowRectangle);this.pixiRectangle.visible=!0,this.pixiRectangle.clear(),this.pixiRectangle.beginFill(0),this.pixiRectangle.lineStyle(1,0,1),this.pixiRectangle.alpha=1,this.pixiRectangle.fill.alpha=0,this.pixiRectangle.drawRect(n.x,n.y,n.width,n.height),this.pixiRectangle.endFill()}}class S{constructor({layout:e,pixiRenderer:t}){this.layout=e,this.pixiRenderer=t}render(){this.pixiRenderer.backgroundColor=parseInt(parseInt(Object(C.c)(this.layout.getBackgroundColorRed(),this.layout.getBackgroundColorGreen(),this.layout.getBackgroundColorBlue()),16),10)}}class w{constructor(e){this._lastFrameTime=Date.now(),this._interval=1e3/e,this._forceUpdate=!1}shouldUpdate(){const e=Date.now(),t=e-this._lastFrameTime;return!!(t>this._interval||this._forceUpdate)&&(this._lastFrameTime=e-t%this._interval,this._forceUpdate=!1,!0)}forceNextUpdate(){this._forceUpdate=!0}}const k=()=>{const e=u.Ticker&&u.Ticker.shared;e&&e.stop()};var N=n(87);class _{constructor({getLastCursorSceneCoordinates:e,width:t,height:n}){this._getLastCursorSceneCoordinates=e,this._statusBarContainer=new u.Container,this._statusBarContainer.alpha=.8,this._statusBarContainer.hitArea=new u.Rectangle(0,0,0,0),this._statusBarBackground=new u.Graphics,this._statusBarText=new u.Text("",{fontSize:15,fill:16777215,align:"left"}),this._statusBarContainer.addChild(this._statusBarBackground),this._statusBarContainer.addChild(this._statusBarText),this.resize(t,n)}resize(e,t){this._width=e,this._height=t}getPixiObject(){return this._statusBarContainer}render(){const e=this._getLastCursorSceneCoordinates(),t=Object(N.a)(e,2),n=t[0],a=t[1];this._statusBarText.text="".concat(n.toFixed(0),";").concat(a.toFixed(0)),this._statusBarText.position.x=5,this._statusBarText.position.y=Math.round(this._height-5-this._statusBarText.height),this._statusBarBackground.clear(),this._statusBarBackground.beginFill(0,.8),this._statusBarBackground.drawRoundedRect(-4,this._height-10-this._statusBarText.height,this._statusBarText.width+10+4,this._statusBarText.height+10+4,4),this._statusBarBackground.endFill()}}class P{constructor({canvas:e,shouldMoveView:t}){this.canvas=e,this.shouldMoveView=t}render(){if(this.shouldMoveView())return this.canvas.style.cursor="grab",void("grab"!==this.canvas.style.cursor&&(this.canvas.style.cursor="-webkit-grab"));this.canvas.style.cursor="default"}}var I=n(1838),B=n(789),R=n(914),M=n(863);class F{constructor({canvas:e,onLongTouch:t}){this._lastTouchX=0,this._lastTouchY=0,this._onTouchStart=e=>{if(1!==e.touches.length)return;const t=e.touches[0];this._lastTouchX=t.clientX,this._lastTouchY=t.clientY,this._clear(),this._longTouchTimeoutID=setTimeout(()=>{this._onLongTouch&&this._onLongTouch({clientX:this._lastTouchX,clientY:this._lastTouchY})},600)},this._onTouchMove=e=>{if(1!==e.touches.length)return void this._clear();const t=e.touches[0];(Math.abs(t.clientX-this._lastTouchX)>10||Math.abs(t.clientY-this._lastTouchY)>10)&&this._clear()},this._clear=()=>{clearTimeout(this._longTouchTimeoutID)},this.unmount=()=>{this._canvas.removeEventListener("touchstart",this._onTouchStart),this._canvas.removeEventListener("touchmove",this._onTouchMove),this._canvas.removeEventListener("touchend",this._clear)},this._canvas=e,this._onLongTouch=t,e.addEventListener("touchstart",this._onTouchStart),e.addEventListener("touchmove",this._onTouchMove),e.addEventListener("touchend",this._clear)}}n.d(t,"a",(function(){return D}));const L={canvasArea:{flex:1,position:"absolute",overflow:"hidden"},dropCursor:{cursor:"copy"}},A=Object(B.a)(R.b);class D extends a.Component{constructor(...e){super(...e),this.lastContextMenuX=0,this.lastContextMenuY=0,this.lastCursorX=0,this.lastCursorY=0,this.fpsLimiter=new w(28),this._unmounted=!1,this._renderingPaused=!1,this.getZoomFactor=()=>this.props.options.zoomFactor,this.setZoomFactor=e=>{this.props.onChangeOptions({zoomFactor:Math.max(Math.min(e,10),.01)})},this.addInstances=(e,t)=>this._instancesAdder.addInstances(e,t),this._onMouseMove=(e,t)=>{this.lastCursorX=e,this.lastCursorY=t},this._onBackgroundClicked=(e,t)=>{this.lastCursorX=e,this.lastCursorY=t,this.pixiRenderer.view.focus(),this.keyboardShortcuts.shouldMoveView()||this.selectionRectangle.startSelectionRectangle(e,t),this.keyboardShortcuts.shouldMultiSelect()||this.keyboardShortcuts.shouldMoveView()||(this.props.instancesSelection.clearSelection(),this.props.onInstancesSelected([]))},this._onPanMove=(e,t,n,a)=>{if(this.keyboardShortcuts.shouldMoveView()){const n=e/this.getZoomFactor(),a=t/this.getZoomFactor();this.viewPosition.scrollBy(-n,-a),this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition)}else this.selectionRectangle.updateSelectionRectangle(n,a)},this._getLayersVisibility=()=>{const e=this.props.layout,t={};for(let n=0;n<e.getLayersCount();n++)t[e.getLayerAt(n).getName()]=e.getLayerAt(n).getVisibility();return t},this._onPanEnd=()=>{if(this.selectionRectangle.hasStartedSelectionRectangle()){let e=this.selectionRectangle.endSelectionRectangle();this.props.instancesSelection.selectInstances(e,this.keyboardShortcuts.shouldMultiSelect(),this._getLayersVisibility()),e=this.props.instancesSelection.getSelectedInstances(),this.props.onInstancesSelected(e)}},this._onInstanceClicked=e=>{this.pixiRenderer.view.focus()},this._onInstanceDoubleClicked=e=>{this.props.onInstanceDoubleClicked(e)},this._onOverInstance=e=>{this.highlightedInstance.setInstance(e)},this._onDownInstance=e=>{if(!this.keyboardShortcuts.shouldMoveView())if(this.keyboardShortcuts.shouldCloneInstances()){const e=this.props.instancesSelection.getSelectedInstances();for(var t=0;t<e.length;t++){const n=e[t];this.props.initialInstances.insertInitialInstance(n).resetPersistentUuid()}}else this.props.instancesSelection.selectInstance(e,this.keyboardShortcuts.shouldMultiSelect(),this._getLayersVisibility()),this.props.onInstancesSelected&&this.props.onInstancesSelected(this.props.instancesSelection.getSelectedInstances())},this._onOutInstance=e=>{e===this.highlightedInstance.getInstance()&&this.highlightedInstance.setInstance(null)},this._onMoveInstance=(e,t,n)=>{const a=t/this.getZoomFactor(),r=n/this.getZoomFactor();if(this.keyboardShortcuts.shouldMoveView())return this.viewPosition.scrollBy(-a,-r),void(this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition));this.props.instancesSelection.isInstanceSelected(e)||this._onInstanceClicked(e);const o=this.props.instancesSelection.getSelectedInstances();this.instancesMover.moveBy(o,a,r,this.keyboardShortcuts.shouldFollowAxis(),this.keyboardShortcuts.shouldNotSnapToGrid())},this._onMoveInstanceEnd=()=>{this.instancesMover.endMove();const e=this.props.instancesSelection.getSelectedInstances();this.props.onInstancesMoved(e)},this._onResize=(e,t)=>{const n=null!==e?e/this.getZoomFactor():0,a=null!==t?t/this.getZoomFactor():0,r=this.props.instancesSelection.getSelectedInstances(),o="touch"===this.props.screenType&&null!==e&&null!==t||this.keyboardShortcuts.shouldResizeProportionally();this.instancesResizer.resizeBy(r,n,a,o)},this._onResizeEnd=()=>{this.instancesResizer.endResize();const e=this.props.instancesSelection.getSelectedInstances();this.props.onInstancesResized(e)},this._onRotate=(e,t)=>{const n=e/this.getZoomFactor(),a=t/this.getZoomFactor(),r=this.props.instancesSelection.getSelectedInstances();this.instancesRotator.rotateBy(r,n,a,this.keyboardShortcuts.shouldResizeProportionally())},this._onRotateEnd=()=>{this.instancesRotator.endRotate();const e=this.props.instancesSelection.getSelectedInstances();this.props.onInstancesRotated(e)},this.clearHighlightedInstance=()=>{this.highlightedInstance.setInstance(null)},this.moveSelection=(e,t)=>{const n=this.props.instancesSelection.getSelectedInstances();n.forEach(n=>{n.setX(n.getX()+e),n.setY(n.getY()+t)}),this.props.onInstancesMoved(n)},this.getLastContextMenuSceneCoordinates=()=>this.viewPosition.toSceneCoordinates(this.lastContextMenuX,this.lastContextMenuY),this.getLastCursorSceneCoordinates=()=>this.viewPosition.toSceneCoordinates(this.lastCursorX,this.lastCursorY),this.getViewPosition=()=>this.viewPosition,this._renderScene=()=>{this._unmounted||this._renderingPaused||(this.fpsLimiter.shouldUpdate()&&(this.backgroundColor.render(),this.viewPosition.render(),this.canvasCursor.render(),this.grid.render(),this.instancesRenderer.render(),this.highlightedInstance.render(),this.selectedInstances.render(),this.selectionRectangle.render(),this.windowBorder.render(),this.windowMask.render(),this.statusBar.render(),this.pixiRenderer.render(this.pixiContainer)),this.nextFrame=requestAnimationFrame(this._renderScene))},this.pauseSceneRendering=()=>{this.nextFrame&&cancelAnimationFrame(this.nextFrame),this._renderingPaused=!0,k()},this.restartSceneRendering=()=>{this._renderingPaused=!1,this._renderScene(),setTimeout(()=>{const e=u.Ticker&&u.Ticker.shared;e&&e.start()},50)}}componentDidMount(){this.canvasArea&&!this.pixiRenderer&&this._initializeCanvasAndRenderer()}componentDidUpdate(){this.canvasArea&&!this.pixiRenderer&&this._initializeCanvasAndRenderer()}_initializeCanvasAndRenderer(){const e=this.canvasArea;if(!e)return;const t=this.props.project;this.pixiRenderer=u.autoDetectRenderer({width:this.props.width,height:this.props.height,preserveDrawingBuffer:!0,antialias:!1}),e.appendChild(this.pixiRenderer.view),this.longTouchHandler=new F({canvas:this.pixiRenderer.view,onLongTouch:e=>this.props.onContextMenu(e.clientX,e.clientY)}),this.pixiRenderer.view.addEventListener("contextmenu",e=>(e.preventDefault(),this.lastContextMenuX=e.offsetX,this.lastContextMenuY=e.offsetY,this.props.onContextMenu&&this.props.onContextMenu(e.clientX,e.clientY),!1)),this.pixiRenderer.view.onwheel=e=>{this.keyboardShortcuts.shouldZoom()?this.zoomBy(-e.deltaY/5e3):this.keyboardShortcuts.shouldScrollHorizontally()?this.viewPosition.scrollBy(-e.deltaY/10,0):this.viewPosition.scrollBy(e.deltaX/10,e.deltaY/10),this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition),e.preventDefault()},this.pixiRenderer.view.setAttribute("tabIndex",-1),this.pixiRenderer.view.addEventListener("focus",e=>{this.keyboardShortcuts.focus()}),this.pixiRenderer.view.addEventListener("blur",e=>{this.keyboardShortcuts.blur()}),this.pixiRenderer.view.addEventListener("mouseover",e=>{this.keyboardShortcuts.focus()}),this.pixiRenderer.view.addEventListener("mouseout",e=>{this.keyboardShortcuts.blur()}),this.pixiContainer=new u.Container,this.backgroundArea=new u.Container,this.backgroundArea.hitArea=new u.Rectangle(0,0,this.props.width,this.props.height),i.a.panable(this.backgroundArea),this.backgroundArea.on("mousedown",e=>this._onBackgroundClicked(e.data.global.x,e.data.global.y)),this.backgroundArea.on("touchstart",e=>{Object(M.b)(e.data&&e.data.originalEvent)||this._onBackgroundClicked(e.data.global.x,e.data.global.y)}),this.backgroundArea.on("mousemove",e=>this._onMouseMove(e.data.global.x,e.data.global.y)),this.backgroundArea.on("panmove",e=>this._onPanMove(e.deltaX,e.deltaY,e.data.global.x,e.data.global.y)),this.backgroundArea.on("panend",e=>this._onPanEnd()),this.pixiContainer.addChild(this.backgroundArea),this.viewPosition=new h.a({initialViewX:t?t.getGameResolutionWidth()/2:0,initialViewY:t?t.getGameResolutionHeight()/2:0,width:this.props.width,height:this.props.height,options:this.props.options}),this.pixiContainer.addChild(this.viewPosition.getPixiContainer()),this.grid=new j({viewPosition:this.viewPosition,options:this.props.options}),this.pixiContainer.addChild(this.grid.getPixiObject()),this.keyboardShortcuts=new l({onDelete:this.props.onDeleteSelection,onMove:this.moveSelection,onCopy:this.props.onCopy,onCut:this.props.onCut,onPaste:this.props.onPaste,onUndo:this.props.onUndo,onRedo:this.props.onRedo,onZoomOut:this.props.onZoomOut,onZoomIn:this.props.onZoomIn}),this.pinchHandler=new M.a({canvas:this.pixiRenderer.view,setZoomFactor:this.setZoomFactor,getZoomFactor:this.getZoomFactor,viewPosition:this.viewPosition}),this.canvasCursor=new P({canvas:e,shouldMoveView:()=>this.keyboardShortcuts.shouldMoveView()}),this._instancesAdder=new I.a({instances:this.props.initialInstances,options:this.props.options}),this._mountEditorComponents(this.props),this._renderScene()}forceRemount(){this._mountEditorComponents(this.props)}_mountEditorComponents(e){this.highlightedInstance&&this.pixiContainer.removeChild(this.highlightedInstance.getPixiObject()),this.selectedInstances&&this.pixiContainer.removeChild(this.selectedInstances.getPixiContainer()),this.instancesRenderer&&(this.viewPosition.getPixiContainer().removeChild(this.instancesRenderer.getPixiContainer()),this.instancesRenderer.delete()),this.selectionRectangle&&(this.pixiContainer.removeChild(this.selectionRectangle.getPixiObject()),this.selectionRectangle.delete()),this.windowBorder&&this.pixiContainer.removeChild(this.windowBorder.getPixiObject()),this.windowMask&&this.pixiContainer.removeChild(this.windowMask.getPixiObject()),this.statusBar&&this.pixiContainer.removeChild(this.statusBar.getPixiObject()),this.backgroundColor=new S({layout:e.layout,pixiRenderer:this.pixiRenderer}),this.instancesRenderer=new d({project:e.project,layout:e.layout,instances:e.initialInstances,viewPosition:this.viewPosition,onOverInstance:this._onOverInstance,onMoveInstance:this._onMoveInstance,onMoveInstanceEnd:this._onMoveInstanceEnd,onDownInstance:this._onDownInstance,onOutInstance:this._onOutInstance,onInstanceClicked:this._onInstanceClicked,onInstanceDoubleClicked:this._onInstanceDoubleClicked}),this.selectionRectangle=new b.a({instances:e.initialInstances,instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toSceneCoordinates:this.viewPosition.toSceneCoordinates}),this.selectedInstances=new p({instancesSelection:this.props.instancesSelection,onResize:this._onResize,onResizeEnd:this._onResizeEnd,onRotate:this._onRotate,onRotateEnd:this._onRotateEnd,instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toCanvasCoordinates:this.viewPosition.toCanvasCoordinates,screenType:this.props.screenType}),this.highlightedInstance=new g({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toCanvasCoordinates:this.viewPosition.toCanvasCoordinates}),this.instancesResizer=new f({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),options:this.props.options}),this.instancesRotator=new E,this.instancesMover=new y({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),options:this.props.options}),this.windowBorder=new O({project:e.project,layout:e.layout,toCanvasCoordinates:this.viewPosition.toCanvasCoordinates}),this.windowMask=new T({project:e.project,viewPosition:this.viewPosition,options:this.props.options}),this.statusBar=new _({width:this.props.width,height:this.props.height,getLastCursorSceneCoordinates:this.getLastCursorSceneCoordinates}),this.pixiContainer.addChild(this.selectionRectangle.getPixiObject()),this.viewPosition.getPixiContainer().addChild(this.instancesRenderer.getPixiContainer()),this.pixiContainer.addChild(this.windowBorder.getPixiObject()),this.pixiContainer.addChild(this.windowMask.getPixiObject()),this.pixiContainer.addChild(this.selectedInstances.getPixiContainer()),this.pixiContainer.addChild(this.highlightedInstance.getPixiObject()),this.pixiContainer.addChild(this.statusBar.getPixiObject())}componentWillUnmount(){this._unmounted=!0,this.keyboardShortcuts.unmount(),this.selectionRectangle.delete(),this.instancesRenderer.delete(),this._instancesAdder.unmount(),this.pinchHandler.unmount(),this.longTouchHandler.unmount(),this.nextFrame&&cancelAnimationFrame(this.nextFrame),k()}componentWillReceiveProps(e){e.width===this.props.width&&e.height===this.props.height||(this.pixiRenderer.resize(e.width,e.height),this.viewPosition.resize(e.width,e.height),this.statusBar.resize(e.width,e.height),this.backgroundArea.hitArea=new u.Rectangle(0,0,e.width,e.height),this.fpsLimiter.forceNextUpdate(),this._renderScene()),e.options!==this.props.options&&(this.grid.setOptions(e.options),this.instancesMover.setOptions(e.options),this.instancesResizer.setOptions(e.options),this.windowMask.setOptions(e.options),this.viewPosition.setOptions(e.options),this._instancesAdder.setOptions(e.options)),e.screenType!==this.props.screenType&&this.selectedInstances.setScreenType(this.props.screenType),this.props.layout===e.layout&&this.props.initialInstances===e.initialInstances&&this.props.project===e.project||this._mountEditorComponents(e),e.pauseRendering&&!this.props.pauseRendering&&this.pauseSceneRendering(),!e.pauseRendering&&this.props.pauseRendering&&this.restartSceneRendering()}resetRenderersFor(e){this.instancesRenderer&&this.instancesRenderer.resetRenderersFor(e)}zoomBy(e){this.setZoomFactor(this.getZoomFactor()+e)}scrollTo(e,t){this.viewPosition.scrollTo(e,t)}centerView(){const e=this.props.project.getGameResolutionWidth()/2,t=this.props.project.getGameResolutionHeight()/2;this.viewPosition.scrollTo(e,t)}centerViewOn(e){e.length&&(this.viewPosition.scrollToInstance(e[e.length-1]),this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition))}render(){return this.props.project?r.a.createElement(A,{canDrop:()=>!0,hover:e=>{const t=this._instancesAdder,n=this.viewPosition,a=this.canvasArea;if(!t||!a||!n)return;const r=e.getClientOffset(),o=r.x,i=r.y,s=a.getBoundingClientRect(),l=n.toSceneCoordinates(o-s.left,i-s.top);t.createOrUpdateTemporaryInstancesFromObjectNames(l,this.props.selectedObjectNames)},drop:e=>{const t=this._instancesAdder,n=this.viewPosition,a=this.canvasArea;if(!t||!a||!n)return;if(e.didDrop())return void t.deleteTemporaryInstances();const r=e.getClientOffset(),o=r.x,i=r.y,s=a.getBoundingClientRect(),l=n.toSceneCoordinates(o-s.left,i-s.top),c=t.updateTemporaryInstancePositions(l);t.commitTemporaryInstances(),this.props.onInstancesAdded(c)}},({connectDropTarget:e,isOver:t})=>(this._instancesAdder&&!t&&this._instancesAdder.deleteTemporaryInstances(),e(r.a.createElement("div",{ref:e=>this.canvasArea=e,style:L.canvasArea})))):null}}},908:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(77),i=n(296),s=n(254),l=n(302);class c extends r.PureComponent{render(){const e=this.props,t=e.onPlay,n=e.onPause,a=e.canPlay,o=e.canPause,c=e.onOpenProfiler,u=e.canOpenProfiler;return r.createElement(i.b,{lastChild:!0},r.createElement(s.a,{onClick:t,src:"res/ribbon_default/preview64.png",disabled:!a,tooltip:{id:"Play the game"}}),r.createElement(s.a,{onClick:n,src:"res/ribbon_default/pause64.png",disabled:!o,tooltip:{id:"Pause the game"}}),r.createElement(l.a,null),r.createElement(s.a,{onClick:c,src:"res/ribbon_default/profiler32.png",disabled:!u,tooltip:{id:"Open the performance profiler"}}))}}var u=c,d=n(406),h=n(115),m=n(514),p=n.n(m),g=n(83),b=n(73),f=n(99);const E={container:{flex:1,display:"flex"},list:{overflowY:"scroll",flex:1}};class v extends r.Component{_renderInspectorList(e,t,n){return t(e).map(t=>{if(!t)return null;const a=n.concat(t.key),o=t.getSubInspectors;return r.createElement(f.b,{key:a.join("."),primaryText:t.label,initiallyOpen:!!t.initiallyOpen,onClick:()=>this.props.onChooseInspector(t,a),renderNestedItems:o?()=>this._renderInspectorList(p()(e,t.key,null),o,a):void 0})})}render(){return this.props.gameData?r.createElement(f.a,{style:E.list},this._renderInspectorList(this.props.gameData,this.props.getInspectorDescriptions,[])):null}}var y=n(419),C=n.n(y),x=n(322),j=n(842),O=n.n(j);const T=e=>{if(!e)return null;const t={type:e._type,value:null};return"string"===e._type?t.value=e._str:"number"===e._type?t.value=e._value:"boolean"===e._type?t.value=e._bool:"structure"===e._type?t.value=O()(e._children,T):"array"===e._type&&(t.value=e._childrenArray.map(T)),t},S=(e,{onCall:t,onEdit:n,variablesContainer:a})=>{if(!a)return;const r=((e,t)=>{const n=e.shift(),a=["_variables","items",n];let r=t._variables.items[n],o=!1;var i,s=Object(x.a)(e);try{for(s.s();!(i=s.n()).done;){const e=i.value;if(o=!o,!o)if("structure"===r._type)a.push("_children",e),r=r._children[e];else{if("array"!==r._type)return{path:null,variable:null};a.push("_childrenArray",e),r=r._childrenArray[parseInt(e,10)]}}}catch(l){s.e(l)}finally{s.f()}return{path:a,variable:r}})(e.namespace,a),o=r.path,i=r.variable;if(!o)return console.error("Invalid path passed to the debugger: ",e),!1;if(!i)return console.error("Variable doesn't exist: ",e),!1;if("type"===e.name){if(o.push("castTo"),"string"!==e.new_value&&"number"!==e.new_value&&"boolean"!==e.new_value&&"structure"!==e.new_value&&"array"!==e.new_value)return console.error("Invalid type name: "+e.new_value),!1;e.new_value!==i._type&&t(o,[e.new_value])}else if("value"===e.name){if("string"===i._type&&"string"!==typeof e.new_value)e.new_value=""+e.new_value;else if("number"===i._type&&"number"!==typeof e.new_value){if(e.new_value=parseFloat(e.new_value),isNaN(e.new_value))return console.error("Cannot set variable of type number to NaN!"),!1}else if("boolean"===i._type&&"boolean"!==typeof e.new_value)e.new_value="string"===typeof e.new_value?"false"!==e.new_value.toLowerCase()&&"0"!==e.new_value:!!e.new_value;else if("structure"===i._type||"array"===i._type)return console.error("Cannot set the value of a collection."),!1;o.push("setValue"),t(o,[e.new_value])}return!0};var w=e=>{return r.createElement(C.a,{collapsed:!1,name:!1,src:e.variablesContainer?(t=e.variablesContainer,t&&t._variables&&t._variables.items?O()(t._variables.items,T):null):null,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:t=>S(t,e),groupArraysAfterLength:50,theme:"monokai",validationMessage:"Invalid value"});var t},k=n(80);var N=e=>{return r.createElement(r.Fragment,null,r.createElement(k.a,null,r.createElement(a.Trans,{id:"General:"})),r.createElement(C.a,{collapsed:!1,name:!1,src:(t=e.runtimeObject,t?{"X position":t.x,"Y position":t.y,Angle:t.angle,Layer:t.layer,"Z order":t.zOrder,"Is hidden?":t.hidden}:null),enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:t=>((e,{onCall:t,onEdit:n})=>{if("X position"===e.name)t(["setX"],[parseFloat(e.new_value)]);else if("Y position"===e.name)t(["setY"],[parseFloat(e.new_value)]);else if("Angle"===e.name)t(["setAngle"],[parseFloat(e.new_value)]);else if("Layer"===e.name)t(["setLayer"],[e.new_value]);else if("Z order"===e.name)t(["setZOrder"],[parseFloat(e.new_value)]);else{if("Is hidden?"!==e.name)return!1;t(["hide"],[!!e.new_value])}return!0})(t,e),groupArraysAfterLength:50,theme:"monokai"}),r.createElement(k.a,null,r.createElement(a.Trans,{id:"Instance variables:"})),r.createElement(w,{variablesContainer:e.runtimeObject?e.runtimeObject._variables:null,onEdit:(t,n)=>e.onEdit(["_variables"].concat(t),n),onCall:(t,n)=>e.onCall(["_variables"].concat(t),n)}));var t},_=n(88),P=n(182);const I=e=>e?{"Camera rotation (in deg)":e._cameraRotation,"Camera zoom":e._zoomFactor,"Layer is hidden":!!e._hidden,"Camera X position":e._cameraX,"Camera Y position":e._cameraY,"Time scale":e._timeScale}:null,B=e=>e?{"Time scale":e._timeManager?e._timeManager._timeScale:null,Layers:e._layers&&e._layers.items?O()(e._layers.items,I):null}:null;class R extends r.Component{constructor(...e){super(...e),this.state={newObjectName:""}}render(){const e=this.props,t=e.runtimeScene,n=e.onCall;return t?r.createElement(r.Fragment,null,r.createElement(k.a,null,r.createElement(a.Trans,{id:"Layers:"})),r.createElement(C.a,{collapsed:!1,name:!1,src:B(t),enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:e=>((e,{onCall:t,onEdit:n})=>{if(0===e.namespace.length&&"Time scale"===e.name)t(["_timeManager","setTimeScale"],[parseFloat(e.new_value)]);else{if(!(e.namespace.length>=2))return!1;"Layers"===e.namespace[0]&&("Camera rotation (in deg)"===e.name?t(["_layers","items",e.namespace[1],"setCameraRotation"],[parseFloat(e.new_value)]):"Camera zoom"===e.name?t(["_layers","items",e.namespace[1],"setCameraZoom"],[parseFloat(e.new_value)]):"Layer is hidden"===e.name?t(["_layers","items",e.namespace[1],"show"],[!e.new_value]):"Camera X position"===e.name?t(["_layers","items",e.namespace[1],"setCameraX"],[parseFloat(e.new_value)]):"Camera Y position"===e.name?t(["_layers","items",e.namespace[1],"setCameraY"],[parseFloat(e.new_value)]):"Time scale"===e.name&&t(["_layers","items",e.namespace[1],"setTimeScale"],[parseFloat(e.new_value)]))}return!0})(e,this.props),groupArraysAfterLength:50,theme:"monokai"}),r.createElement(k.a,null,r.createElement(a.Trans,{id:"Create a new instance on the scene (will be at position 0;0):"})),t._objects&&t._objects.items&&r.createElement(_.c,{noFloatingLabelText:!0,renderTextField:()=>r.createElement(P.a,{hintText:{id:"Enter the name of the object"},value:this.state.newObjectName,onChange:e=>{this.setState({newObjectName:e})},dataSource:Object.keys(t._objects.items).map(e=>({text:e,value:e})),openOnFocus:!0,fullWidth:!0}),renderButton:e=>r.createElement(g.a,{style:e,label:r.createElement(a.Trans,{id:"Create"}),primary:!0,onClick:()=>{n(["createObject"],[this.state.newObjectName])}})})):null}}const M=e=>[{label:"Global variables",key:"_variables",renderInspector:(e,{onCall:t,onEdit:n})=>r.createElement(w,{variablesContainer:e,onCall:t,onEdit:n})},{label:"Scenes",key:["_sceneStack","_stack"],renderInspector:()=>null,initiallyOpen:!0,getSubInspectors:e=>e?e.map((e,t)=>({label:e._name,key:t,renderInspector:(e,{onCall:t,onEdit:n})=>r.createElement(R,{runtimeScene:e,onCall:t,onEdit:n}),initiallyOpen:!0,getSubInspectors:e=>[{label:"Scene variables",key:"_variables",renderInspector:(e,{onCall:t,onEdit:n})=>r.createElement(w,{variablesContainer:e,onCall:t,onEdit:n})},{label:"Instances",key:"_instances",renderInspector:()=>null,initiallyOpen:!0,getSubInspectors:e=>e&&e.items?Object.keys(e.items).map(t=>e.items[t]&&void 0!==typeof e.items[t].length?{label:"".concat(t," (").concat(e.items[t].length,")"),key:["items",t],renderInspector:()=>null,getSubInspectors:e=>e?e.filter(e=>!!e).map((e,t)=>({label:"#".concat(e.id),key:t,renderInspector:(e,{onCall:t,onEdit:n})=>r.createElement(N,{runtimeObject:e,onCall:t,onEdit:n})})):[]}:null):[]}]})):[]}];var F=n(92),L=({gameData:e,onEdit:t})=>r.createElement(r.Fragment,null,r.createElement(F.a,null,r.createElement(a.Trans,{id:"You are in raw mode. You can edit the fields, but be aware that this can lead to unexpected results or even crash the debugged game!"})),r.createElement(C.a,{collapsed:1,name:!1,src:e,onEdit:e=>t(e.namespace.concat(e.name),e.new_value),groupArraysAfterLength:50,theme:"monokai"})),A=n(161),D=n(843),U=n.n(D),V=n(1816),W=n.n(V),G=n(106),z=n(194),H=n(97),K=n(786),Y=n.n(K),X=n(95),J=n(359),q=n.n(J),Z=n(405),Q=n.n(Z);const $={indent:{display:"flex",alignItems:"center"}};class ee extends r.Component{constructor(...e){super(...e),this.state={collapsedPaths:{}},this._convertToDataRows=(e,t,n,a=0,r="")=>{const o=this.props.profilerMeasures,i=t&&n.time&&0!==t.time?n.time/t.time*100:100,s=o&&n.time&&0!==o.time?n.time/o.time*100:100,l=this._isSectionCollapsed(r);return[{name:e,time:n.time?"".concat(n.time.toFixed(2),"ms"):"?",parentPercent:"".concat(i.toFixed(2),"%"),totalPercent:"".concat(s.toFixed(2),"%"),depth:a,hasSubsections:!!Object.keys(n.subsections).length,path:r,isCollapsed:l},...l?[]:Y()(n.subsections,(e,t)=>this._convertToDataRows(t,n,e,a+1,"".concat(r,">").concat(a,".").concat(t)))]},this._isSectionCollapsed=e=>this.state.collapsedPaths[e],this._toggleSection=e=>{this.setState(t=>({collapsedPaths:Object(o.a)(Object(o.a)({},t.collapsedPaths),{},{[e]:!t.collapsedPaths[e]})}))},this._rowClassName=({index:e})=>e<0?"tableHeaderRow":e%2===0?"tableEvenRow":"tableOddRow",this._renderSectionNameCell=({rowData:e})=>r.createElement("div",{style:$.indent},r.createElement("div",{style:{width:8*e.depth}}),e.hasSubsections?r.createElement(X.a,{onClick:()=>this._toggleSection(e.path)},e.isCollapsed?r.createElement(Q.a,null):r.createElement(q.a,null)):r.createElement("div",{style:{width:24}}),e.name)}render(){const e=this.props.profilerMeasures;if(!e)return null;const t=this._convertToDataRows("All",null,e);return r.createElement(H.a,null,e=>r.createElement(z.a,null,({height:n,width:o})=>r.createElement(z.e,{headerHeight:30,height:n,className:"gd-table ".concat(e.tableRootClassName),headerClassName:"tableHeaderColumn",rowCount:t.length,rowGetter:({index:e})=>t[e],rowHeight:35,onRowClick:()=>{},rowClassName:this._rowClassName,width:o},r.createElement(z.b,{label:r.createElement(a.Trans,{id:"Section name"}),dataKey:"name",width:.4*o,className:"tableColumn",cellRenderer:this._renderSectionNameCell}),r.createElement(z.b,{label:r.createElement(a.Trans,{id:"Time (ms)"}),dataKey:"time",width:.2*o,className:"tableColumn"}),r.createElement(z.b,{label:r.createElement(a.Trans,{id:"% of parent"}),dataKey:"parentPercent",width:.2*o,className:"tableColumn"}),r.createElement(z.b,{label:r.createElement(a.Trans,{id:"% of total"}),dataKey:"totalPercent",width:.2*o,className:"tableColumn"}))))}}var te=n(2417);const ne={tableContainer:{flex:1}};class ae extends r.Component{render(){const e=this.props,t=e.onStart,n=e.onStop,o=e.profilerOutput,i=e.profilingInProgress;return r.createElement(h.a,null,r.createElement(b.b,{alignItems:"center",justifyContent:"center"},!i&&o&&r.createElement(k.a,null,r.createElement(a.Trans,{id:"Last run collected on {0} frames.",values:{0:o.stats.framesCount}})),!i&&o&&r.createElement(g.a,{label:r.createElement(a.Trans,{id:"Restart"}),onClick:t}),!i&&!o&&r.createElement(g.a,{label:r.createElement(a.Trans,{id:"Start profiling"}),onClick:t}),i&&r.createElement(g.a,{label:r.createElement(a.Trans,{id:"Stop profiling"}),onClick:n})),i&&r.createElement(b.b,{alignItems:"center"},r.createElement(te.a,{style:{flex:1},variant:"indeterminate"})),r.createElement("div",{style:ne.tableContainer},o&&r.createElement(ee,{profilerMeasures:o.framesAverageMeasures}),!o&&r.createElement(F.a,null,r.createElement(a.Trans,{id:"Start profiling and then stop it after a few seconds to see the results."}))))}}var re=n(113),oe=n(190),ie=n(151);const se={direction:"column",first:{direction:"row",first:"inspectors",second:"selected-inspector",splitPercentage:25},second:"profiler",splitPercentage:65};class le extends r.Component{constructor(...e){super(...e),this.state={selectedInspector:null,selectedInspectorFullPath:[],rawMode:!1},this._editors=null,this.openProfiler=()=>{this._editors&&this._editors.openEditor("profiler","end",75,"row")}}render(){const e=this.props,t=e.gameData,n=e.onRefresh,o=e.onCall,i=e.onEdit,s=e.onStartProfiler,l=e.onStopProfiler,c=e.profilerOutput,u=e.profilingInProgress,m=this.state,f=m.selectedInspector,E=m.selectedInspectorFullPath,y=m.rawMode,C={inspectors:{type:"primary",title:{id:"Inspectors"},toolbarControls:[],renderEditor:()=>r.createElement(h.a,null,r.createElement(b.a,{expand:!0,noMargin:!0,useFullHeight:!0},r.createElement(b.b,{justifyContent:"center"},r.createElement(g.a,{label:r.createElement(a.Trans,{id:"Refresh"}),onClick:n,primary:!0})),r.createElement(v,{gameData:t,getInspectorDescriptions:M,onChooseInspector:(e,t)=>this.setState({selectedInspector:e,selectedInspectorFullPath:t})})))},"selected-inspector":{type:"primary",noTitleBar:!0,renderEditor:()=>r.createElement(h.a,null,r.createElement(ie.a,null,r.createElement(b.a,null,f?y?r.createElement(L,{gameData:p()(t,E,null),onEdit:(e,t)=>i(E.concat(e),t)}):f.renderInspector(p()(t,E,null),{onCall:(e,t)=>o(E.concat(e),t),onEdit:(e,t)=>i(E.concat(e),t)})||r.createElement(F.a,null,r.createElement(a.Trans,{id:"No inspector, choose another element in the list or toggle the raw data view."})):r.createElement(F.a,null,t?r.createElement(a.Trans,{id:"Choose an element to inspect in the list"}):r.createElement(a.Trans,{id:"Pause the game (from the toolbar) or hit refresh (on the left) to inspect the game"})))),r.createElement(oe.b,null,r.createElement(b.b,{justifyContent:"space-between",alignItems:"center",noMargin:!0},r.createElement(G.a,{helpPagePath:"/interface/debugger"}),r.createElement("div",null,r.createElement(A.a,{checkedIcon:r.createElement(U.a,null),uncheckedIcon:r.createElement(W.a,null),checked:y,onCheck:(e,t)=>this.setState({rawMode:t})})))))},profiler:{type:"secondary",title:{id:"Profiler"},renderEditor:()=>r.createElement(ae,{onStart:s,onStop:l,profilerOutput:c,profilingInProgress:u})}};return r.createElement(re.b.Consumer,null,({getDefaultEditorMosaicNode:e,setDefaultEditorMosaicNode:t})=>r.createElement(d.a,{ref:e=>this._editors=e,editors:C,initialNodes:e("debugger")||se,onPersistNodes:e=>t("debugger",e)}))}}var ce=n(111),ue=n(112);class de extends r.Component{render(){const e=!!this.props.debuggerIds.length;return r.createElement(ce.a,{fullWidth:!0,value:e?this.props.selectedId:0,onChange:(e,t,n)=>this.props.onChooseDebugger(parseInt(n,10)||0),disabled:!e},this.props.debuggerIds.map(e=>r.createElement(ue.a,{value:e,key:e,primaryText:{id:"Game preview #{id}",values:{id:e}}})),!e&&r.createElement(ue.a,{value:0,primaryText:{id:"No preview running. Run a preview and you will be able to inspect it with the debugger"}}))}}var he=n(125),me=n(266);class pe extends r.Component{constructor(...e){super(...e),this.state={debuggerServerState:this.props.previewDebuggerServer.getServerState(),debuggerServerError:null,debuggerIds:this.props.previewDebuggerServer.getExistingDebuggerIds(),unregisterDebuggerServerCallbacks:null,debuggerGameData:{},profilerOutputs:{},profilingInProgress:{},selectedId:0},this._debuggerContents={},this._startServer=()=>{const e=this.props.previewDebuggerServer,t=this.state.unregisterDebuggerServerCallbacks;if(t&&"started"===e.getServerState())return;t&&t();const n=e.registerCallbacks({onErrorReceived:e=>{this.setState({debuggerServerError:e},()=>this.updateToolbar())},onConnectionClosed:({id:e,debuggerIds:t})=>{this.setState(({selectedId:n})=>({debuggerIds:t,selectedId:n!==e?n:t.length?t[t.length-1]:n}),()=>this.updateToolbar())},onConnectionOpened:({id:e,debuggerIds:t})=>{this.setState({debuggerIds:t,selectedId:e},()=>this.updateToolbar())},onServerStateChanged:()=>{this.setState({debuggerServerState:e.getServerState()},()=>this.updateToolbar())},onHandleParsedMessage:({id:e,parsedMessage:t})=>{this._handleMessage(e,t)}});e.startServer(),this.setState({unregisterDebuggerServerCallbacks:n})},this._handleMessage=(e,t)=>{"dump"===t.command?this.setState({debuggerGameData:Object(o.a)(Object(o.a)({},this.state.debuggerGameData),{},{[e]:t.payload})}):"profiler.output"===t.command?this.setState({profilerOutputs:Object(o.a)(Object(o.a)({},this.state.profilerOutputs),{},{[e]:t.payload})}):"profiler.started"===t.command?this.setState(t=>({profilingInProgress:Object(o.a)(Object(o.a)({},t.profilingInProgress),{},{[e]:!0})})):"profiler.stopped"===t.command?this.setState(t=>({profilingInProgress:Object(o.a)(Object(o.a)({},t.profilingInProgress),{},{[e]:!1})})):"hotReloader.logs"===t.command||console.warn("Unknown command received from debugger client:",t.command)},this._play=e=>{this.props.previewDebuggerServer.sendMessage(e,{command:"play"})},this._pause=e=>{this.props.previewDebuggerServer.sendMessage(e,{command:"pause"})},this._refresh=e=>{this.props.previewDebuggerServer.sendMessage(e,{command:"refresh"})},this._edit=(e,t,n)=>(this.props.previewDebuggerServer.sendMessage(e,{command:"set",path:t,newValue:n}),setTimeout(()=>this._refresh(e),100),!0),this._call=(e,t,n)=>(this.props.previewDebuggerServer.sendMessage(e,{command:"call",path:t,args:n}),setTimeout(()=>this._refresh(e),100),!0),this._startProfiler=e=>{this.props.previewDebuggerServer.sendMessage(e,{command:"profiler.start"})},this._stopProfiler=e=>{this.props.previewDebuggerServer.sendMessage(e,{command:"profiler.stop"})},this._hasSelectedDebugger=()=>{const e=this.state,t=e.selectedId;return-1!==e.debuggerIds.indexOf(t)}}updateToolbar(){this.props.isActive&&this.props.setToolbar(r.createElement(u,{onPlay:()=>this._play(this.state.selectedId),onPause:()=>this._pause(this.state.selectedId),canPlay:this._hasSelectedDebugger(),canPause:this._hasSelectedDebugger(),canOpenProfiler:this._hasSelectedDebugger(),onOpenProfiler:()=>{this._debuggerContents[this.state.selectedId]&&this._debuggerContents[this.state.selectedId].openProfiler()}}))}componentDidMount(){this.props.isActive&&this._startServer()}componentWillReceiveProps(e){e.isActive&&!this.props.isActive&&this._startServer()}componentWillUnmount(){this.state.unregisterDebuggerServerCallbacks&&this.state.unregisterDebuggerServerCallbacks()}render(){const e=this.state,t=e.debuggerServerError,n=e.debuggerServerState,o=e.selectedId,i=e.debuggerIds,s=e.debuggerGameData,l=e.profilerOutputs,c=e.profilingInProgress;return r.createElement(h.a,null,"stopped"===n&&!t&&r.createElement(me.a,null,r.createElement(he.a,null),r.createElement(k.a,null,r.createElement(a.Trans,{id:"Debugger is starting..."}))),"stopped"===n&&t&&r.createElement(me.a,null,r.createElement(k.a,null,r.createElement(a.Trans,{id:"Unable to start the debugger server! Make sure that you are authorized to run servers on this computer."}))),"started"===n&&r.createElement(b.a,{expand:!0,noMargin:!0},r.createElement(de,{selectedId:o,debuggerIds:i,onChooseDebugger:e=>this.setState({selectedId:e},()=>this.updateToolbar())}),this._hasSelectedDebugger()&&r.createElement(le,{ref:e=>this._debuggerContents[o]=e,gameData:s[o],onPlay:()=>this._play(o),onPause:()=>this._pause(o),onRefresh:()=>this._refresh(o),onEdit:(e,t)=>this._edit(o,e,t),onCall:(e,t)=>this._call(o,e,t),onStartProfiler:()=>this._startProfiler(o),onStopProfiler:()=>this._stopProfiler(o),profilerOutput:l[o],profilingInProgress:c[o]}),!this._hasSelectedDebugger()&&r.createElement(F.a,null,r.createElement(a.Trans,{id:"Run a preview and you will be able to inspect it with the debugger."}))))}}var ge=n(477);n.d(t,"a",(function(){return fe}));class be extends r.Component{constructor(...e){super(...e),this.state={subscriptionChecked:!1}}shouldComponentUpdate(e){return e.isActive}getProject(){return this.props.project}getLayout(){return null}updateToolbar(){this.editor&&this.editor.updateToolbar()}forceUpdateEditor(){}componentWillReceiveProps(){this._checkHasSubscription()}componentDidMount(){this._checkHasSubscription()}_checkHasSubscription(){this._subscriptionChecker&&this.props.isActive&&!this.state.subscriptionChecked&&(this._subscriptionChecker.checkHasSubscription(),this.setState({subscriptionChecked:!0}))}render(){const e=this.props,t=e.project,n=e.previewDebuggerServer;return t&&n?r.createElement(r.Fragment,null,r.createElement(pe,{project:t,setToolbar:this.props.setToolbar,isActive:this.props.isActive,previewDebuggerServer:n,ref:e=>this.editor=e}),r.createElement(ge.a,{ref:e=>this._subscriptionChecker=e,onChangeSubscription:()=>{this.props.onChangeSubscription&&this.props.onChangeSubscription()},id:"Debugger",title:r.createElement(a.Trans,{id:"Debugger"}),mode:"try"})):null}}const fe=e=>r.createElement(be,e)},909:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n.n(r),i=n(84),s=n(81),l=n(151),c=n(153),u=n(73),d=n(11),h=n(5),m=n(99),p=n(88),g=n(80),b=n(212),f=n(148),E=n(83),v=n(200);const y=({tutorialHint:e,i18n:t})=>r.createElement(m.b,{leftIcon:e.iconSrc?r.createElement(f.a,{iconWidth:120,iconHeight:60,src:e.iconSrc}):null,primaryText:e.name,secondaryText:t._(e.message),onClick:()=>{Object(d.r)(e.identifier),h.b.openExternalURL(e.link)}});function C(){const e=Object(b.a)(),t=e.filter(e=>!!e.featuredForGettingStarted),n=e.filter(e=>!e.featuredForGettingStarted&&"video-tutorial"===e.kind),o=e.filter(e=>!e.featuredForGettingStarted&&"video-tutorial"!==e.kind);return r.createElement(a.I18n,null,({i18n:e})=>r.createElement(p.a,{noMargin:!0},r.createElement(u.a,null,r.createElement(g.a,null,r.createElement(a.Trans,{id:"Get started by following a tutorial, the best way to understand how GDevelop works."}))),r.createElement(u.a,{expand:!0,noMargin:!0},r.createElement(u.a,null,r.createElement(g.a,{size:"title",noMargin:!0},r.createElement(a.Trans,{id:"Getting Started"}))),r.createElement(m.a,null,r.createElement(m.a,null,t.map(t=>r.createElement(y,{key:t.identifier,tutorialHint:t,i18n:e}))))),r.createElement(u.b,{justifyContent:"center",noMargin:!0},r.createElement(E.a,{primary:!0,label:r.createElement(a.Trans,{id:"Open GDevelop documentation"}),onClick:()=>{h.b.openExternalURL(Object(v.a)("/"))}})),r.createElement(u.a,{noMargin:!0},r.createElement(u.a,null,r.createElement(g.a,{size:"title",noMargin:!0},r.createElement(a.Trans,{id:"Video Tutorials"}))),r.createElement(m.a,null,n.map(t=>r.createElement(y,{key:t.identifier,tutorialHint:t,i18n:e})))),r.createElement(u.b,{justifyContent:"center",noMargin:!0},r.createElement(E.a,{primary:!0,label:r.createElement(a.Trans,{id:"Find more on GDevelop Youtube channel"}),onClick:()=>{h.b.openExternalURL("https://www.youtube.com/c/GDevelopApp")}})),r.createElement(u.a,{noMargin:!0},r.createElement(u.a,null,r.createElement(g.a,{size:"title",noMargin:!0},r.createElement(a.Trans,{id:"Other Community Tutorials"}))),r.createElement(m.a,null,r.createElement(m.a,null,o.map(t=>r.createElement(y,{key:t.identifier,tutorialHint:t,i18n:e})))))))}var x=n(139),j=n(115),O=n(711),T=n(878),S=n(77),w=n(87),k=n(2414),N=n(211),_=n(201),P=n(537),I=n(622),B=o.a.memo(e=>o.a.createElement(I.a,e,o.a.createElement("path",{d:"M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z"}))),R=o.a.memo(e=>o.a.createElement(I.a,e,o.a.createElement("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"}))),M=o.a.memo(e=>o.a.createElement(I.a,e,o.a.createElement("path",{d:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C7.4,22 3.55,18.92 2.36,14.73L6.19,16.31C6.45,17.6 7.6,18.58 8.97,18.58C10.53,18.58 11.8,17.31 11.8,15.75V15.62L15.2,13.19H15.28C17.36,13.19 19.05,11.5 19.05,9.42C19.05,7.34 17.36,5.65 15.28,5.65C13.2,5.65 11.5,7.34 11.5,9.42V9.47L9.13,12.93L8.97,12.92C8.38,12.92 7.83,13.1 7.38,13.41L2,11.2C2.43,6.05 6.73,2 12,2M8.28,17.17C9.08,17.5 10,17.13 10.33,16.33C10.66,15.53 10.28,14.62 9.5,14.29L8.22,13.76C8.71,13.58 9.26,13.57 9.78,13.79C10.31,14 10.72,14.41 10.93,14.94C11.15,15.46 11.15,16.04 10.93,16.56C10.5,17.64 9.23,18.16 8.15,17.71C7.65,17.5 7.27,17.12 7.06,16.67L8.28,17.17M17.8,9.42C17.8,10.81 16.67,11.94 15.28,11.94C13.9,11.94 12.77,10.81 12.77,9.42A2.5,2.5 0 0,1 15.28,6.91C16.67,6.91 17.8,8.04 17.8,9.42M13.4,9.42C13.4,10.46 14.24,11.31 15.29,11.31C16.33,11.31 17.17,10.46 17.17,9.42C17.17,8.38 16.33,7.53 15.29,7.53C14.24,7.53 13.4,8.38 13.4,9.42Z"}))),F=o.a.memo(e=>o.a.createElement(I.a,e,o.a.createElement("path",{d:"M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z"}))),L=o.a.memo(e=>o.a.createElement(I.a,e,o.a.createElement("path",{d:"M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"}))),A=o.a.memo(e=>o.a.createElement(I.a,e,o.a.createElement("path",{d:"M11.64 5.93H13.07V10.21H11.64M15.57 5.93H17V10.21H15.57M7 2L3.43 5.57V18.43H7.71V22L11.29 18.43H14.14L20.57 12V2M19.14 11.29L16.29 14.14H13.43L10.93 16.64V14.14H7.71V3.43H19.14Z"}))),D=o.a.memo(e=>o.a.createElement(I.a,e,o.a.createElement("path",{d:"M5.06 3C4.63 3 4.22 3.14 3.84 3.42C3.46 3.7 3.24 4.06 3.14 4.5L2.11 8.91C1.86 10 2.06 10.92 2.69 11.73C2.81 11.85 2.93 11.97 3.04 12.07C3.63 12.64 4.28 13 5.22 13C6.16 13 6.91 12.59 7.47 12.05C8.1 12.67 8.86 13 9.8 13C10.64 13 11.44 12.63 12 12.07C12.68 12.7 13.45 13 14.3 13C15.17 13 15.91 12.67 16.54 12.05C17.11 12.62 17.86 13 18.81 13C19.76 13 20.43 12.65 21 12.06C21.09 11.97 21.18 11.87 21.28 11.77C21.94 10.95 22.14 10 21.89 8.91L20.86 4.5C20.73 4.06 20.5 3.7 20.13 3.42C19.77 3.14 19.38 3 18.94 3M18.89 4.97L19.97 9.38C20.06 9.81 19.97 10.2 19.69 10.55C19.44 10.86 19.13 11 18.75 11C18.44 11 18.17 10.9 17.95 10.66C17.73 10.43 17.61 10.16 17.58 9.84L16.97 5M5.06 5H7.03L6.42 9.84C6.3 10.63 5.91 11 5.25 11C4.84 11 4.53 10.86 4.31 10.55C4.03 10.2 3.94 9.81 4.03 9.38M9.05 5H11V9.7C11 10.05 10.89 10.35 10.64 10.62C10.39 10.88 10.08 11 9.7 11C9.36 11 9.07 10.88 8.84 10.59C8.61 10.3 8.5 10 8.5 9.66V9.5M13 5H14.95L15.5 9.5C15.58 9.92 15.5 10.27 15.21 10.57C14.95 10.87 14.61 11 14.2 11C13.89 11 13.61 10.88 13.36 10.62C13.11 10.35 13 10.05 13 9.7M3 14.03V19C3 20.11 3.89 21 5 21C9.67 21 14.33 21 19 21C20.1 21 21 20.11 21 19V14.05C20.45 14.63 19.75 14.96 19 15C18 15.03 17.25 14.74 16.54 14.05C15.94 14.65 15.14 15 14.3 15C13.4 15 12.6 14.64 12 14.07C11.43 14.64 10.65 15 9.78 15C8.87 15 8.07 14.65 7.47 14.05C6.89 14.64 6.1 15 5.23 15C4.33 15 3.66 14.65 3 14.03Z"}))),U=o.a.memo(e=>o.a.createElement(I.a,e,o.a.createElement("path",{d:"M2,3H11V12H2V3M11,22H2V13H11V22M21,3V12H12V3H21M21,22H12V13H21V22Z"}))),V=n(1926),W=n.n(V),G=n(570),z=n.n(G),H=n(792),K=n.n(H),Y=n(843),X=n.n(Y),J=n(144);const q={thumbnailImageWithDescription:{objectFit:"contain",verticalAlign:"middle",backgroundColor:"black",width:200},thumbnailImageWithoutDescription:{objectFit:"cover",verticalAlign:"middle",backgroundColor:"black",width:200,maxHeight:120},smallScreenThumbnailImage:{objectFit:"contain",verticalAlign:"middle",backgroundColor:"black",maxHeight:150},card:{flex:1},container:{display:"flex",textAlign:"left",overflow:"hidden",padding:8}},Z=({link:e,showcasedGame:t})=>{const n=e.url,o=e.type;return r.createElement(E.a,Object.assign({key:o+"-"+n,primary:!0},((e,t)=>""===t?{icon:r.createElement(z.a,null),label:r.createElement(a.Trans,{id:"Play or download"})}:"learn-more"===t?{icon:null,label:r.createElement(a.Trans,{id:"Learn more"})}:"download"===t||"download-win-mac-linux"===t?{icon:r.createElement(W.a,null),label:r.createElement(a.Trans,{id:"Download"})}:"play"===t?{icon:r.createElement(z.a,null),label:r.createElement(a.Trans,{id:"Play"})}:"App Store"===t?{icon:r.createElement(B,null),label:"iOS"}:"Play Store"===t?{icon:r.createElement(R,null),label:"Android"}:"Steam"===t?{icon:r.createElement(M,null),label:"Steam"}:"Trailer"===t?{icon:r.createElement(K.a,null),label:r.createElement(a.Trans,{id:"Trailer"})}:"itch.io"===t?{icon:r.createElement(D,null),label:"itch.io"}:"Game Jolt"===t?{icon:r.createElement(X.a,null),label:"Game Jolt"}:"Twitter"===t?{icon:r.createElement(F,null),label:"Twitter"}:"Microsoft Store"===t?{icon:r.createElement(U,null),label:"Microsoft Store"}:"Instagram"===t?{icon:r.createElement(L,null),label:"Instagram"}:"Twitch"===t?{icon:r.createElement(A,null),label:"Twitch"}:{icon:null,label:t})(0,o),{onClick:()=>{Object(d.m)(t.title,o),h.b.openExternalURL((e=>e.startsWith("/")?"https://gdevelop-app.com"+e:e)(n))}}))},Q=({showcasedGame:e,onHeightComputed:t})=>{const n=r.useState(!1),o=Object(w.a)(n,2),i=o[0],s=o[1],l=r.useRef(null),c=r.useRef(!0),d=r.useCallback(()=>{i||c.current||s(!0),l.current&&!c.current&&t(l.current.getBoundingClientRect().height)},[t,i]);r.useLayoutEffect(d);const h=Object(J.b)(),m=!!e.description,b=e.links.slice(0,3),f=e.links.slice(3);return r.createElement("div",{style:Object(S.a)(Object(S.a)({},q.container),{},{visibility:i?void 0:"hidden",animation:i?"fadein 0.5s":void 0}),ref:l},r.createElement(k.a,{style:q.card},r.createElement(p.b,{noMargin:!0},r.createElement(_.a,{style:"small"===h?q.smallScreenThumbnailImage:m?q.thumbnailImageWithDescription:q.thumbnailImageWithoutDescription,src:e.thumbnailUrl,alt:e.title,onError:()=>{c.current=!1,d()},onLoad:()=>{c.current=!1,d()}}),r.createElement(u.b,{expand:!0},r.createElement(u.a,{expand:!0},r.createElement(p.b,{noMargin:!0,alignItems:"baseline",expand:!0},r.createElement(g.a,{noMargin:!0,displayInlineAsSpan:!0},e.title),r.createElement(g.a,{noMargin:!0,size:"body2",displayInlineAsSpan:!0},r.createElement(a.Trans,{id:"by {0}",values:{0:e.author}}))),e.genres.length?r.createElement(P.a,{tags:e.genres}):null,r.createElement(g.a,{size:"body2",displayInlineAsSpan:!0},r.createElement(N.a,{source:e.description,allowParagraphs:!0})),r.createElement(u.c,null),r.createElement(p.b,{justifyContent:"flex-end",noColumnMargin:!0},b.map((t,n)=>r.createElement(Z,{key:n,link:t,showcasedGame:e}))),r.createElement(p.b,{justifyContent:"flex-end",noColumnMargin:!0},f.map((t,n)=>r.createElement(Z,{key:n,link:t,showcasedGame:e}))))))))};var $=n(149),ee=n(565);const te={searchBar:{flexShrink:0}},ne=e=>e.title,ae=e=>{const t=r.useContext(T.a),n=t.filters,o=t.searchResults,i=t.error,s=t.fetchShowcasedGamesAndFilters,c=t.filtersState,d=t.searchText,h=t.setSearchText;return r.useEffect(()=>{s()},[s]),r.createElement(J.a,null,e=>r.createElement(u.a,{expand:!0,noMargin:!0,useFullHeight:!0},r.createElement(x.a,{value:d,onChange:h,onRequestSearch:()=>{},style:te.searchBar}),r.createElement(u.b,{expand:!0,overflow:"hidden"},r.createElement(j.a,{noFullHeight:!0,noExpand:!0,width:"small"===e?150:250},r.createElement(l.a,null,r.createElement($.a,null,r.createElement(a.Trans,{id:"Categories"})),r.createElement(ee.a,{allItemsLabel:r.createElement(a.Trans,{id:"All games"}),allFilters:n,filtersState:c,error:i}))),r.createElement(O.a,{onRetry:s,error:i,searchItems:o,getSearchItemUniqueId:ne,renderSearchItem:(e,t)=>r.createElement(Q,{onHeightComputed:t,showcasedGame:e})}))))};var re=n(1927),oe=n.n(re);n.d(t,"a",(function(){return ie}));class ie extends r.Component{constructor(...e){super(...e),this.state={currentTab:this.props.initialTab,outputPath:""},this._onChangeTab=e=>{this.setState({currentTab:e})},this._showExamples=()=>this._onChangeTab("examples"),this._onExamplesLoaded=()=>{this.forceUpdate()}}render(){const e=this.props,t=e.open,n=e.onClose,o=e.onOpen,d=e.onCreate;if(!t)return null;const m=this.props.examplesComponent,p=this.props.startersComponent;return r.createElement(i.a,{title:r.createElement(a.Trans,{id:"Create a new game"}),actions:[r.createElement(s.a,{key:"close",label:r.createElement(a.Trans,{id:"Close"}),primary:!1,onClick:n})],secondaryActions:"games-showcase"===this.state.currentTab?[r.createElement(s.a,{key:"submit-game-showcase",onClick:()=>{h.b.openExternalURL("https://docs.google.com/forms/d/e/1FAIpQLSfjiOnkbODuPifSGuzxYY61vB5kyMWdTZSSqkJsv3H6ePRTQA/viewform?usp=sf_link")},primary:!0,icon:r.createElement(oe.a,null),label:r.createElement(a.Trans,{id:"Submit your game to the showcase"})})]:null,cannotBeDismissed:!1,onRequestClose:n,open:t,noMargin:!0,fullHeight:!0,flexBody:!0},r.createElement(u.a,{expand:!0,noMargin:!0},r.createElement(c.b,{value:this.state.currentTab,onChange:this._onChangeTab},r.createElement(c.a,{label:r.createElement(a.Trans,{id:"Starters"}),value:"starters"}),r.createElement(c.a,{label:r.createElement(a.Trans,{id:"Examples"}),value:"examples"}),r.createElement(c.a,{label:r.createElement(a.Trans,{id:"Tutorials"}),value:"tutorials"}),r.createElement(c.a,{label:r.createElement(a.Trans,{id:"Games showcase"}),value:"games-showcase"})),"starters"===this.state.currentTab&&r.createElement(l.a,null,r.createElement(p,{onOpen:o,onCreate:d,onChangeOutputPath:e=>this.setState({outputPath:e}),onShowExamples:this._showExamples,outputPath:this.state.outputPath})),"examples"===this.state.currentTab&&r.createElement(l.a,null,r.createElement(m,{onOpen:o,onCreate:d,onChangeOutputPath:e=>this.setState({outputPath:e}),onExamplesLoaded:this._onExamplesLoaded,outputPath:this.state.outputPath})),"tutorials"===this.state.currentTab&&r.createElement(l.a,null,r.createElement(C,null)),"games-showcase"===this.state.currentTab&&r.createElement(ae,null)))}}},910:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n.n(r),i=n(84),s=n(106),l=n(81),c=n(149),u=n(99),d=n(279),h=n.n(d),m=n(280),p=n.n(m),g=n(2385),b=n(73),f=n(92),E=n(125),v=n(83),y=n(2310),C=n(2417),x=n(80);const j={"cordova-build":{estimatedTimeInSeconds:e=>300,completeDescription:"You can download it on your Android phone and install it."},"electron-build":{estimatedTimeInSeconds:e=>90+130*(e.targets?e.targets.length:0),completeDescription:""},"web-build":{estimatedTimeInSeconds:e=>5,completeDescription:""}},O=[{displayName:{id:"Download"},key:"apkKey"},{displayName:{id:"Windows (zip)"},key:"windowsZipKey"},{displayName:{id:"Windows (exe)"},key:"windowsExeKey"},{displayName:{id:"macOS (zip)"},key:"macosZipKey"},{displayName:{id:"Linux (AppImage)"},key:"linuxAppImageKey"},{displayName:{id:"Open"},key:"s3Key"}];var T=({build:e,onDownload:t})=>{const n=j[e.type],o=Math.abs(Object(y.a)(e.updatedAt,Date.now())),i=Math.max(n?n.estimatedTimeInSeconds(e)-o:0,0);return r.createElement(a.I18n,null,({i18n:o})=>"error"===e.status?r.createElement(r.Fragment,null,r.createElement(b.b,{alignItems:"center"},r.createElement(x.a,null,r.createElement(a.Trans,{id:"Something wrong happened :("})),r.createElement(b.c,null),r.createElement(v.a,{label:r.createElement(a.Trans,{id:"See logs"}),onClick:()=>t("logsKey")})),r.createElement(b.b,{alignItems:"center"},r.createElement(f.a,null,r.createElement(a.Trans,{id:"Check the logs to see if there is an explanation about what went wrong, or try again later."})))):"pending"===e.status?r.createElement(b.b,{alignItems:"center",expand:!0},r.createElement(C.a,{style:{flex:1},value:n.estimatedTimeInSeconds(e)>0?(n.estimatedTimeInSeconds(e)-i)/n.estimatedTimeInSeconds(e)*100:0,variant:i>0?"determinate":"indeterminate"}),r.createElement(b.c,null),i>0?r.createElement(x.a,null,r.createElement(a.Trans,{id:"~{0} minutes.",values:{0:Math.round(i/60)}})):r.createElement(x.a,null,r.createElement(a.Trans,{id:"Should finish soon."}))):"complete"===e.status?r.createElement(r.Fragment,null,r.createElement(b.b,{expand:!0},O.filter(t=>!!e[t.key]).map((e,n)=>r.createElement(r.Fragment,{key:e.key},0!==n&&r.createElement(b.c,null),r.createElement(v.a,{label:o._(e.displayName),primary:!0,onClick:()=>t(e.key)}))),r.createElement(l.a,{label:r.createElement(a.Trans,{id:"See logs"}),onClick:()=>t("logsKey")})),r.createElement(b.b,{expand:!0},n&&r.createElement(x.a,null,n.completeDescription))):r.createElement(b.b,null,r.createElement(a.Trans,{id:"Unknown status"})))},S=n(906),w=n(2311);const k={buildContainer:{padding:10}};var N=({builds:e,userProfile:t,onDownload:n})=>r.createElement(b.a,{noMargin:!0,expand:!0},r.createElement(b.b,null,r.createElement(b.a,null,r.createElement(f.a,null,r.createElement(a.Trans,{id:"This is the list of builds that you've done. Note that you can download games generated during the last 7 days, after which they are removed."})))),r.createElement(b.b,null,t.authenticated?e?0===e.length?r.createElement(f.a,null,r.createElement(a.Trans,{id:"You don't have any builds on the online services for now."})):r.createElement(b.a,{noMargin:!0,expand:!0},e.map(e=>{const t=e&&Object(w.a)(Date.now(),e.updatedAt)>6;return r.createElement(g.a,{style:k.buildContainer,key:e.id},r.createElement(x.a,null,(e=>{switch(e){case"cordova-build":return r.createElement(a.Trans,{id:"Android Build"});case"electron-build":return r.createElement(a.Trans,{id:"Windows/macOS/Linux Build"});case"web-build":return r.createElement(a.Trans,{id:"Web (upload online) Build"});default:return e}})(e.type)," -"," ",r.createElement(a.Trans,{id:"Last updated on"})," ",Object(S.a)(e.updatedAt,"yyyy-MM-dd HH:mm:ss")),!t&&r.createElement(T,{build:e,onDownload:t=>n(e,t)}),t&&r.createElement(f.a,null,r.createElement(a.Trans,{id:"This build is old and the generated games can't be downloaded anymore."})))})):r.createElement(E.a,null):r.createElement(f.a,null,r.createElement(a.Trans,{id:"You need to login first to see your builds."})))),_=n(207),P=n(5),I=n(100),B=n.n(I),R=n(107),M=n(877);class F{constructor(){var e=this;this.runningWatchers={},this.nextWatcherId=0,this._pollBuild=function(){var t=Object(R.a)(B.a.mark((function t(n,a){var r,o,i,s,l;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.nextWatcherId.toString(),e.nextWatcherId++,e.runningWatchers[r]=!0,o=null;case 4:if(e.userProfile){t.next=6;break}return t.abrupt("return");case 6:if(i=e.userProfile,s=i.getAuthorizationHeader,l=i.profile){t.next=9;break}return t.abrupt("return");case 9:return t.prev=9,console.info("Checking progress of build ".concat(n,"...")),t.next=13,Object(_.d)(s,l.uid,n);case 13:o=t.sent,e.onBuildUpdated&&e.onBuildUpdated(o),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(9),console.warn("Error while watching build progress:",t.t0);case 20:return t.next=22,Object(M.a)(a);case 22:if(e.runningWatchers[r]){t.next=25;break}return console.info("Stopping watch of build ".concat(n,".")),t.abrupt("return");case 25:if(o&&"pending"===o.status){t.next=4;break}case 26:console.info("Watch of build ".concat(n," finished."));case 27:case"end":return t.stop()}}),t,null,[[9,17]])})));return function(e,n){return t.apply(this,arguments)}}()}start({userProfile:e,builds:t,onBuildUpdated:n}){this.stop(),this.userProfile=e,this.onBuildUpdated=n,t.forEach(e=>{"pending"===e.status&&((!e.createdAt||e.createdAt<Date.now()-432e5)&&(!e.updatedAt||e.updatedAt<Date.now()-432e5)?console.info("Ignoring a build for polling as it's too old and still pending",e):this._pollBuild(e.id,t.length>1?5e3:1500))})}stop(){this.runningWatchers={}}}class L extends r.Component{constructor(...e){super(...e),this.state={builds:null},this.buildsWatcher=new F,this._startBuildsWatcher=()=>{this.state.builds&&this.buildsWatcher.start({userProfile:this.props.userProfile,builds:this.state.builds,onBuildUpdated:e=>{this.state.builds&&this.setState({builds:this.state.builds.map(t=>e.id===t.id?e:t)})}})},this._refreshBuilds=()=>{const e=this.props.userProfile,t=e.getAuthorizationHeader,n=e.profile;n&&Object(_.g)(t,n.uid).then(e=>{this.setState({builds:e},()=>{this._startBuildsWatcher(),this.props.onBuildsUpdated&&this.props.onBuildsUpdated()})},()=>{})},this._download=(e,t)=>{const n=Object(_.e)(e,t);n&&P.b.openExternalURL(n)}}componentDidMount(){this._refreshBuilds()}componentWillUnmount(){this.buildsWatcher.stop()}render(){return o.a.createElement(N,{builds:this.state.builds,userProfile:this.props.userProfile,onDownload:this._download})}}class A extends r.Component{constructor(...e){super(...e),this._onBuildsUpdated=()=>{this.forceUpdate()}}render(){const e=this.props,t=e.open,n=e.onClose,r=e.userProfile;return t?o.a.createElement(i.a,{title:o.a.createElement(a.Trans,{id:"All your builds"}),onRequestClose:n,actions:[o.a.createElement(l.a,{label:o.a.createElement(a.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n})],secondaryActions:[o.a.createElement(s.a,{key:"help",helpPagePath:"/publishing"})],cannotBeDismissed:!1,open:t,noMargin:!0},o.a.createElement(L,{onBuildsUpdated:this._onBuildsUpdated,userProfile:r})):null}}var D=n(215),U=n(77),V=n(11),W=n(22),G=n(502),z=({subscription:e,limit:t,onChangeSubscription:n})=>{if(!t)return r.createElement(E.a,null);const o=e&&!!e.planId,i=e&&!e.planId;return r.createElement(b.a,{noMargin:!0},r.createElement(x.a,null,r.createElement(a.Trans,{id:"You have {0} remaining builds for today (out of {1}).",values:{0:Math.max(t.max-t.current,0),1:t.max}})),o&&t.limitReached&&r.createElement(x.a,null,r.createElement(a.Trans,{id:"Need more power? You can upgrade to a new plan to increase the limit!"})),o&&t.limitReached&&r.createElement(b.b,{justifyContent:"center",alignItems:"center"},r.createElement(v.a,{label:r.createElement(a.Trans,{id:"Upgrade my account"}),onClick:n,primary:!0})),i&&r.createElement(x.a,null,r.createElement(a.Trans,{id:"You don't have a subscription. Get one to increase the limits!"})),i&&r.createElement(b.b,{justifyContent:"center",alignItems:"center"},r.createElement(v.a,{label:r.createElement(a.Trans,{id:"Get a subscription"}),onClick:n,primary:!0})))},H=n(654),K=n(2499),Y=n(2426),X=n(2488),J=n(2427),q=n(2403),Z=n(124);const Q={stepper:{flex:1},linearProgress:{flex:1}};var $=({exportStep:e,onDownload:t,build:n,stepMaxProgress:o,stepCurrentProgress:i,errored:s,hasBuildStep:l,showSeeAllMyBuildsExplanation:c})=>r.createElement(K.a,{activeStep:"export"===e||"resources-download"===e?0:"compress"===e||"upload"===e?1:"waiting-for-build"===e||"build"===e?2:"done"===e?l?2:1:-1,orientation:"vertical",style:Q.stepper},r.createElement(Y.a,null,r.createElement(X.a,null,r.createElement(a.Trans,{id:"Game export"})),r.createElement(J.a,null,s?r.createElement(Z.a,{kind:"error"},r.createElement(a.Trans,{id:"Can't properly export the game."})," ",r.createElement(a.Trans,{id:"Please check your internet connection or try again later."})):"resources-download"===e?r.createElement(b.a,{expand:!0,noMargin:!0},r.createElement(x.a,null,r.createElement(a.Trans,{id:"Downloading game resources..."})),r.createElement(b.b,{expand:!0},r.createElement(C.a,{style:Q.linearProgress,value:o>0?i/o*100:0,variant:"determinate"}))):r.createElement(b.a,{expand:!0,noMargin:!0},r.createElement(x.a,null,r.createElement(a.Trans,{id:"Export in progress..."})),r.createElement(b.b,{expand:!0},r.createElement(C.a,{style:Q.linearProgress}))))),l&&r.createElement(Y.a,null,r.createElement(X.a,null,r.createElement(a.Trans,{id:"Upload to build service"})),r.createElement(J.a,null,s?r.createElement(Z.a,{kind:"error"},r.createElement(a.Trans,{id:"Can't upload your game to the build service."})," ",r.createElement(a.Trans,{id:"Please check your internet connection or try again later."})):"compress"===e?r.createElement(b.b,{alignItems:"center"},r.createElement(q.a,{size:20}),r.createElement(b.c,null),r.createElement(x.a,null,r.createElement(a.Trans,{id:"Compressing before upload..."}))):r.createElement(b.b,{alignItems:"center",expand:!0},r.createElement(C.a,{style:Q.linearProgress,value:o>0?i/o*100:0,variant:"determinate"})))),l&&r.createElement(Y.a,null,r.createElement(X.a,null,r.createElement(a.Trans,{id:"Build and download"})),r.createElement(J.a,null,s&&r.createElement(Z.a,{kind:"error"},r.createElement(a.Trans,{id:"Build could not start or errored. Please check your internet connection or try again later."})),!n&&!s&&r.createElement(x.a,null,r.createElement(a.Trans,{id:"Build is starting..."})),n&&r.createElement(T,{build:n,onDownload:t}),c&&r.createElement(f.a,null,r.createElement(a.Trans,{id:"If you close this window while the build is being done, you can see its progress and download the game later by clicking on See All My Builds below."})))),!l&&r.createElement(Y.a,null,r.createElement(X.a,null,r.createElement(a.Trans,{id:"Done"})),r.createElement(J.a,null))),ee=n(501),te=n(169);class ne extends r.Component{constructor(...e){super(...e),this.state={exportStep:"",build:null,compressionOutput:null,stepCurrentProgress:0,stepMaxProgress:0,doneFooterOpen:!1,errored:!1,exportState:this.props.exportPipeline.getInitialExportState(this.props.project)},this.buildsWatcher=new F,this._updateStepProgress=(e,t)=>this.setState({stepCurrentProgress:e,stepMaxProgress:t}),this._startBuildWatch=e=>{this.state.build&&this.buildsWatcher.start({userProfile:e,builds:[this.state.build],onBuildUpdated:e=>this.setState({build:e})})},this.launchWholeExport=e=>{const t=e=>e,n=this.props,a=n.project,r=n.exportPipeline;if(Object(V.f)(r.name),!Object(H.a)(t,Object(H.b)(t,a)))return;const o=e=>t=>{throw this.state.errored||(this.setState({errored:!0}),Object(W.a)({message:e+(t.message?"\n\nDetails of the error: ".concat(t.message):""),rawError:{exportStep:this.state.exportStep,rawError:t},errorId:"export-error"})),t},i={project:a,updateStepProgress:this._updateStepProgress,exportState:this.state.exportState};this.setState({exportStep:"export",stepCurrentProgress:0,stepMaxProgress:0,errored:!1,build:null}),r.prepareExporter(i).then(e=>r.launchExport(i,e),o("Error while preparing the exporter.")).then(e=>(this.setState({exportStep:"resources-download"}),r.launchResourcesDownload(i,e)),o("Error while exporting the game.")).then(e=>(this.setState({exportStep:"compress"}),r.launchCompression(i,e)),o("Error while downloading the game resources. Check your internet connection and that all resources of the game are valid in the Resources editor.")).then(t=>{const n=r.launchUpload,a=r.launchOnlineBuild;return n&&a?(this.setState({exportStep:"upload"}),n(i,t).then(t=>(this.setState({exportStep:"waiting-for-build"}),a(this.state.exportState,e,t)),o("Error while uploading the game. Check your internet connection or try again later.")).then(n=>(this.setState({build:n,exportStep:"build"},()=>{this._startBuildWatch(e)}),{compressionOutput:t}),o("Error while lauching the build of the game."))):{compressionOutput:t}},o("Error while compressing the game.")).then(({compressionOutput:e})=>{this.setState({compressionOutput:e,doneFooterOpen:!0,exportStep:"done"})}).catch(e=>{console.error("An error happened during export:",e)})},this._downloadBuild=e=>{const t=Object(_.e)(this.state.build,e);t&&P.b.openExternalURL(t)},this._closeDoneFooter=()=>this.setState({doneFooterOpen:!1}),this._updateExportState=e=>{this.setState(t=>Object(U.a)(Object(U.a)({},t),{},{exportState:e(t.exportState)}))}}componentWillUnmount(){this.buildsWatcher.stop()}render(){const e=this.state,t=e.exportStep,n=e.compressionOutput,r=e.build,i=e.stepMaxProgress,s=e.stepCurrentProgress,l=e.errored,c=e.doneFooterOpen,u=e.exportState,d=this.props,h=d.project,m=d.userProfile,p=d.exportPipeline;if(!h)return null;const g=e=>e.limits&&p.onlineBuildType?e.limits[p.onlineBuildType]:null;return o.a.createElement(b.a,{noMargin:!0},!!p.packageNameWarningType&&-1!==h.getPackageName().indexOf("com.example")&&o.a.createElement(b.b,null,o.a.createElement(te.a,{identifier:"project-should-have-unique-package-name",kind:"warning"},o.a.createElement(a.I18n,null,({i18n:e})=>e._("mobile"===p.packageNameWarningType?{id:"The package name begins with com.example, make sure you replace it with an unique one to be able to publish your game on app stores."}:{id:"The package name begins with com.example, make sure you replace it with an unique one, else installing your game might overwrite other games."})))),o.a.createElement(b.b,null,p.renderHeader({project:h,exportState:u,updateExportState:this._updateExportState})),(!p.onlineBuildType||m.authenticated)&&o.a.createElement(b.b,{justifyContent:"center"},o.a.createElement(v.a,{label:p.renderLaunchButtonLabel(),primary:!0,onClick:()=>this.launchWholeExport(m),disabled:!(e=>{if(!l&&""!==t&&"done"!==t)return!1;const n=g(e);return(!n||!n.limitReached)&&p.canLaunchBuild(u)})(m)})),!!p.onlineBuildType&&m.authenticated&&o.a.createElement(z,{subscription:m.subscription,limit:g(m),onChangeSubscription:this.props.onChangeSubscription}),!!p.onlineBuildType&&!m.authenticated&&o.a.createElement(G.a,{onLogin:m.onLogin,onCreateAccount:m.onCreateAccount}),o.a.createElement(b.b,{expand:!0},o.a.createElement($,{exportStep:t,hasBuildStep:!!p.onlineBuildType,build:r,onDownload:this._downloadBuild,stepMaxProgress:i,stepCurrentProgress:s,errored:l})),c&&p.renderDoneFooter&&p.renderDoneFooter({compressionOutput:n,exportState:u,onClose:this._closeDoneFooter}),c&&o.a.createElement(b.b,null,o.a.createElement(ee.a,{project:h})))}}var ae=n(87);const re=()=>{const e=r.useState("undefined"===typeof navigator||"boolean"!==typeof navigator.onLine||navigator.onLine),t=Object(ae.a)(e,2),n=t[0],a=t[1],o=()=>a(!0),i=()=>a(!1);return r.useEffect(()=>(window.addEventListener("online",o),window.addEventListener("offline",i),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",i)}),[]),n},oe=({children:e})=>e(re());n.d(t,"a",(function(){return se}));const ie={icon:{width:40,height:40},disabledItem:{opacity:.6},content:{padding:8}};class se extends r.Component{constructor(...e){super(...e),this.state={chosenExporterKey:"",showExperimental:!1,buildsDialogOpen:!1},this.chooseExporter=e=>{this.setState({chosenExporterKey:e})},this._showExperimental=(e=!0)=>{this.setState({showExperimental:e})},this._openBuildsDialog=(e=!0)=>{this.setState({buildsDialogOpen:e})},this._renderExporterListItem=(e,t,n)=>r.createElement(u.b,{key:e.key,disabled:n||e.disabled,style:n||e.disabled?ie.disabledItem:void 0,leftIcon:e.renderIcon({style:ie.icon}),primaryText:e.name,secondaryText:e.description,secondaryTextLines:2,onClick:()=>this.chooseExporter(e.key)})}render(){const e=this.props,t=e.project,n=e.onClose,o=e.allExportersRequireOnline,d=e.onChangeSubscription,m=e.exporters,g=this.state,f=g.showExperimental,E=g.chosenExporterKey;if(!t)return null;const v=m.find(e=>e.key===E);return r.createElement(D.a.Consumer,null,e=>r.createElement(oe,null,g=>{const y=!!o&&!g;return r.createElement(i.a,{title:r.createElement(a.Trans,{id:"Export project to a standalone game"}),onRequestClose:n,cannotBeDismissed:!1,actions:[E&&r.createElement(l.a,{label:r.createElement(a.Trans,{id:"Back"}),key:"back",primary:!1,onClick:()=>this.chooseExporter("")}),r.createElement(l.a,{label:r.createElement(a.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n})],secondaryActions:[r.createElement(s.a,{key:"help",helpPagePath:v&&v.helpPage||"/publishing"}),r.createElement(l.a,{key:"builds",label:r.createElement(a.Trans,{id:"See all my builds"}),onClick:()=>this._openBuildsDialog(!0)})],open:!0,noMargin:!0},y&&r.createElement(Z.a,{kind:"error"},r.createElement(a.Trans,{id:"You must be online and have a proper internet connection to export your game."})),!v&&r.createElement(r.Fragment,null,r.createElement(u.a,null,m.filter(e=>!e.advanced&&!e.experimental).map((e,t)=>this._renderExporterListItem(e,t,y)),r.createElement(c.a,null,"Advanced"),m.filter(e=>e.advanced).map((e,t)=>this._renderExporterListItem(e,t,y)),f&&r.createElement(c.a,null,"Experimental"),f&&m.filter(e=>e.experimental).map((e,t)=>this._renderExporterListItem(e,t,y))),r.createElement(b.b,{justifyContent:"center",alignItems:"center"},f?r.createElement(l.a,{key:"toggle-experimental",icon:r.createElement(p.a,null),primary:!1,onClick:()=>this._showExperimental(!1),label:r.createElement(a.Trans,{id:"Hide experimental exports"})}):r.createElement(l.a,{key:"toggle-experimental",icon:r.createElement(h.a,null),primary:!1,onClick:()=>this._showExperimental(!0),label:r.createElement(a.Trans,{id:"Show experimental exports"})}))),v&&v.exportPipeline&&r.createElement("div",{style:ie.content},r.createElement(ne,{exportPipeline:v.exportPipeline,project:t,onChangeSubscription:d,userProfile:e})),r.createElement(A,{open:this.state.buildsDialogOpen,onClose:()=>this._openBuildsDialog(!1),userProfile:e}))}))}}},911:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(822),i=n.n(o),s=n(824),l=n.n(s),c=n(187);class u extends a.Component{render(){return this.props.children}}var d=Object(c.DragDropContext)(i()(l.a))(u),h=n(2428),m=n(2479),p=n(2494),g=n(913),b=n(77),f=n(426),E=(n(15),n(71)),v=n(81),y=n(83),C=n(84),x=n(73),j=n(93),O=n(2403);const T={progress:{marginLeft:8,verticalAlign:"middle"}};var S=({children:e,isLoading:t})=>a.createElement("span",null,e,t&&a.createElement(O.a,{size:20,style:T.progress})),w=n(267),k=n(80),N=n(171),_=n(88);const P=e=>{if(e)return"auth/invalid-email"===e.code?"This email is invalid":"auth/user-disabled"===e.code?"The user was disabled":"auth/user-not-found"===e.code?"This user was not found: have you created your account?":"auth/email-already-in-use"===e.code?"This email was already used for another account":"auth/operation-not-allowed"===e.code?"Service seems to be unavailable, please try again later":void 0},I=e=>{if(e)return"auth/wrong-password"===e.code?"The password is invalid":"auth/weak-password"===e.code?"This password is too weak: please use more letters and digits":void 0};class B extends a.Component{constructor(...e){super(...e),this.state={form:{email:"",password:""}},this._onCreateAccount=()=>{const e=this.state.form;this.props.onCreateAccount(e)}}render(){const e=this.props,t=e.onClose,n=e.createAccountInProgress,a=e.onGoToLogin,o=e.error;return r.a.createElement(C.a,{title:r.a.createElement(E.Trans,{id:"Create a new GDevelop account"}),actions:[r.a.createElement(v.a,{label:r.a.createElement(E.Trans,{id:"Back"}),disabled:n,key:"close",primary:!1,onClick:t}),r.a.createElement(w.a,{isLoading:n,key:"create-account"},r.a.createElement(y.a,{label:r.a.createElement(E.Trans,{id:"Create my account"}),primary:!0,disabled:n,onClick:this._onCreateAccount}))],secondaryActions:[r.a.createElement(v.a,{label:r.a.createElement(E.Trans,{id:"Already have an account?"}),primary:!1,key:"already-have-account",onClick:a})],onRequestClose:()=>{n||t()},maxWidth:"sm",cannotBeDismissed:!0,open:!0},r.a.createElement(_.a,{noMargin:!0},r.a.createElement(N.a,null,r.a.createElement(E.Trans,{id:"By creating an account and using GDevelop, you agree to the Terms and Conditions. Having an account allows to export your game on Android, as a desktop app and unlock other services for your project!"})),r.a.createElement(j.b,{autoFocus:!0,value:this.state.form.email,floatingLabelText:r.a.createElement(E.Trans,{id:"Email"}),errorText:P(o),fullWidth:!0,onChange:(e,t)=>{this.setState({form:Object(b.a)(Object(b.a)({},this.state.form),{},{email:t})})}}),r.a.createElement(j.b,{value:this.state.form.password,floatingLabelText:r.a.createElement(E.Trans,{id:"Password"}),errorText:I(o),type:"password",fullWidth:!0,onChange:(e,t)=>{this.setState({form:Object(b.a)(Object(b.a)({},this.state.form),{},{password:t})})}})))}}var R=n(124);class M extends a.Component{constructor(...e){super(...e),this.state={form:{email:"",password:""}},this._onLogin=()=>{const e=this.state.form;this.props.onLogin(e)},this._onForgotPassword=()=>{const e=this.state.form;this.props.onForgotPassword(e)}}render(){const e=this.props,t=e.onClose,n=e.onGoToCreateAccount,a=e.loginInProgress,o=e.error,i=e.resetPasswordDialogOpen,s=e.onCloseResetPasswordDialog,l=e.forgotPasswordInProgress,c=[r.a.createElement(v.a,{label:r.a.createElement(E.Trans,{id:"Back"}),disabled:a||l,key:"back",primary:!1,onClick:t}),r.a.createElement(w.a,{isLoading:a,key:"login"},r.a.createElement(y.a,{label:r.a.createElement(E.Trans,{id:"Login"}),primary:!0,onClick:this._onLogin,disabled:a||l}))];return r.a.createElement(C.a,{title:r.a.createElement(E.Trans,{id:"Login to your GDevelop account"}),actions:c,secondaryActions:[r.a.createElement(S,{isLoading:l,key:"forgot-password"},r.a.createElement(v.a,{label:r.a.createElement(E.Trans,{id:"I forgot my password"}),primary:!1,disabled:a||l,onClick:this._onForgotPassword}))],onRequestClose:()=>{a||l||t()},maxWidth:"sm",cannotBeDismissed:!0,open:!0},r.a.createElement(_.a,{noMargin:!0},r.a.createElement(R.a,{kind:"info",renderRightButton:()=>r.a.createElement(v.a,{label:r.a.createElement(E.Trans,{id:"Create my account"}),disabled:a||l,primary:!0,onClick:n})},r.a.createElement(E.Trans,{id:"Don't have an account yet?"})),r.a.createElement(j.b,{autoFocus:!0,value:this.state.form.email,floatingLabelText:r.a.createElement(E.Trans,{id:"Email"}),errorText:P(o),fullWidth:!0,onChange:(e,t)=>{this.setState({form:Object(b.a)(Object(b.a)({},this.state.form),{},{email:t})})}}),r.a.createElement(j.b,{value:this.state.form.password,floatingLabelText:r.a.createElement(E.Trans,{id:"Password"}),errorText:I(o),type:"password",fullWidth:!0,onChange:(e,t)=>{this.setState({form:Object(b.a)(Object(b.a)({},this.state.form),{},{password:t})})}})),r.a.createElement(C.a,{cannotBeDismissed:!0,open:i,title:r.a.createElement(E.Trans,{id:"Reset your password"}),actions:[r.a.createElement(v.a,{label:r.a.createElement(E.Trans,{id:"Close"}),key:"close",onClick:s})]},r.a.createElement(x.a,{noMargin:!0},r.a.createElement(k.a,null,r.a.createElement(E.Trans,{id:"You should have received an email containing instructions to reset and set a new password. Once it's done, you can use your new password in GDevelop."})))))}}const F=(e,t,n)=>(e.setState({[t]:!0}),n().then(n=>(e.setState({[t]:!1}),n)).catch(n=>{throw e.setState({[t]:!1}),n}));var L=n(22),A=n(11),D=n(215);class U extends a.Component{constructor(...e){super(...e),this.state={userProfile:D.b,loginDialogOpen:!1,createAccountDialogOpen:!1,loginInProgress:!1,createAccountInProgress:!1,loginError:null,resetPasswordDialogOpen:!1,forgotPasswordInProgress:!1},this._fetchUserProfile=()=>{const e=this.props.authentification;e.getUserProfile((t,n)=>{if(t&&t.unauthenticated)return this.setState({userProfile:Object(b.a)(Object(b.a)({},this.state.userProfile),{},{authenticated:!1,profile:null,usages:null,limits:null,subscription:null})});!t&&n?this.setState({userProfile:Object(b.a)(Object(b.a)({},this.state.userProfile),{},{authenticated:!0,profile:n})},()=>{n&&(Object(f.g)(e.getAuthorizationHeader,n.uid).then(e=>this.setState({userProfile:Object(b.a)(Object(b.a)({},this.state.userProfile),{},{usages:e})})),Object(f.f)(e.getAuthorizationHeader,n.uid).then(e=>this.setState({userProfile:Object(b.a)(Object(b.a)({},this.state.userProfile),{},{subscription:e})})),Object(f.e)(e.getAuthorizationHeader,n.uid).then(e=>this.setState({userProfile:Object(b.a)(Object(b.a)({},this.state.userProfile),{},{limits:e})})))}):console.log("Unable to fetch user profile",t)})},this._doLogout=()=>{this.props.authentification&&this.props.authentification.logout(),this._resetUserProfile()},this._doLogin=e=>{const t=this.props.authentification;t&&F(this,"loginInProgress",()=>t.login(e).then(()=>{this._fetchUserProfile(),this.openLoginDialog(!1)},e=>{this.setState({loginError:e})}))},this._doCreateAccount=e=>{const t=this.props.authentification;t&&F(this,"createAccountInProgress",()=>t.createAccount(e).then(()=>{this._fetchUserProfile(),this.openLoginDialog(!1),Object(A.n)(e.email)},e=>{this.setState({loginError:e})}))},this._doForgotPassword=e=>{const t=this.props.authentification;t&&F(this,"forgotPasswordInProgress",()=>t.forgotPassword(e).then(()=>{this.openResetPassword(!0)},e=>{this.setState({loginError:e}),Object(L.c)("Unable to send you an email to reset your password. Please double-check that the email address that you've entered is valid.")}))},this.openResetPassword=(e=!0)=>{this.setState({resetPasswordDialogOpen:e})},this.openLoginDialog=(e=!0)=>{this.setState({loginDialogOpen:e,createAccountDialogOpen:!1})},this.openCreateAccountDialog=(e=!0)=>{this.setState({loginDialogOpen:!1,createAccountDialogOpen:e})}}componentDidMount(){this._resetUserProfile(),this.props.authentification.onUserChange(this._fetchUserProfile)}_resetUserProfile(){this.setState({userProfile:Object(b.a)(Object(b.a)({},D.b),{},{onLogout:this._doLogout,onLogin:()=>this.openLoginDialog(!0),onCreateAccount:()=>this.openCreateAccountDialog(!0),onRefreshUserProfile:this._fetchUserProfile,getAuthorizationHeader:()=>this.props.authentification.getAuthorizationHeader()})})}render(){return a.createElement(a.Fragment,null,a.createElement(D.a.Provider,{value:this.state.userProfile},this.props.children),this.state.loginDialogOpen&&a.createElement(M,{onClose:()=>this.openLoginDialog(!1),onGoToCreateAccount:()=>this.openCreateAccountDialog(!0),onLogin:this._doLogin,loginInProgress:this.state.loginInProgress,error:this.state.loginError,onForgotPassword:this._doForgotPassword,resetPasswordDialogOpen:this.state.resetPasswordDialogOpen,onCloseResetPasswordDialog:()=>this.openResetPassword(!1),forgotPasswordInProgress:this.state.forgotPasswordInProgress}),this.state.createAccountDialogOpen&&a.createElement(B,{onClose:()=>this.openCreateAccountDialog(!1),onGoToLogin:()=>this.openLoginDialog(!0),onCreateAccount:this._doCreateAccount,createAccountInProgress:this.state.createAccountInProgress,error:this.state.loginError}))}}var V=n(113),W=n(6),G=n.n(W),z=n(12),H=n(468);const K=G()("electron"),Y=K?K.ipcRenderer:null;class X extends a.Component{constructor(...e){super(...e),this.state={values:this._loadValuesFromLocalStorage()||V.c.values,setLanguage:this._setLanguage.bind(this),setThemeName:this._setThemeName.bind(this),setCodeEditorThemeName:this._setCodeEditorThemeName.bind(this),setAutoDownloadUpdates:this._setAutoDownloadUpdates.bind(this),checkUpdates:this._checkUpdates.bind(this),setAutoDisplayChangelog:this._setAutoDisplayChangelog.bind(this),showAlertMessage:this._showAlertMessage.bind(this),showTutorialHint:this._showTutorialHint.bind(this),verifyIfIsNewVersion:this._verifyIfIsNewVersion.bind(this),setEventsSheetShowObjectThumbnails:this._setEventsSheetShowObjectThumbnails.bind(this),setAutosaveOnPreview:this._setAutosaveOnPreview.bind(this),setUseNewInstructionEditorDialog:this._setUseNewInstructionEditorDialog.bind(this),setUseGDJSDevelopmentWatcher:this._setUseGDJSDevelopmentWatcher.bind(this),setEventsSheetUseAssignmentOperators:this._setEventsSheetUseAssignmentOperators.bind(this),setShowEffectParameterNames:this._setShowEffectParameterNames.bind(this),getLastUsedPath:this._getLastUsedPath.bind(this),setLastUsedPath:this._setLastUsedPath.bind(this),getDefaultEditorMosaicNode:this._getDefaultEditorMosaicNode.bind(this),setDefaultEditorMosaicNode:this._setDefaultEditorMosaicNode.bind(this),getRecentProjectFiles:this._getRecentProjectFiles.bind(this),insertRecentProjectFile:this._insertRecentProjectFile.bind(this),removeRecentProjectFile:this._removeRecentProjectFile.bind(this),getAutoOpenMostRecentProject:this._getAutoOpenMostRecentProject.bind(this),setAutoOpenMostRecentProject:this._setAutoOpenMostRecentProject.bind(this),hadProjectOpenedDuringLastSession:this._hadProjectOpenedDuringLastSession.bind(this),setHasProjectOpened:this._setHasProjectOpened.bind(this),setShortcutForCommand:this._setShortcutForCommand.bind(this),resetShortcutsToDefault:this._resetShortcutsToDefault.bind(this),getNewObjectDialogDefaultTab:this._getNewObjectDialogDefaultTab.bind(this),setNewObjectDialogDefaultTab:this._setNewObjectDialogDefaultTab.bind(this),getIsMenuBarHiddenInPreview:this._getIsMenuBarHiddenInPreview.bind(this),setIsMenuBarHiddenInPreview:this._setIsMenuBarHiddenInPreview.bind(this)}}componentDidMount(){setTimeout(()=>this._checkUpdates(),1e4)}_setLanguage(e){this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{language:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setEventsSheetShowObjectThumbnails(e){this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{eventsSheetShowObjectThumbnails:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setAutosaveOnPreview(e){this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{autosaveOnPreview:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setUseNewInstructionEditorDialog(e){this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{useNewInstructionEditorDialog:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setUseGDJSDevelopmentWatcher(e){this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{useGDJSDevelopmentWatcher:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setEventsSheetUseAssignmentOperators(e){this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{eventsSheetUseAssignmentOperators:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setShowEffectParameterNames(e){this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{showEffectParameterNames:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setThemeName(e){this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{themeName:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setCodeEditorThemeName(e){this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{codeEditorThemeName:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setAutoDownloadUpdates(e){this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{autoDownloadUpdates:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setAutoDisplayChangelog(e){this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{autoDisplayChangelog:e})}),()=>this._persistValuesToLocalStorage(this.state))}_checkUpdates(e){const t=this.props.disableCheckForUpdates;Y&&!t&&(e||this.state.values.autoDownloadUpdates?Y.send("updates-check-and-download"):Y.send("updates-check"))}_verifyIfIsNewVersion(){const e=Object(z.b)(),t=this.state.values.lastLaunchedVersion;return t!==e&&(this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{lastLaunchedVersion:e})}),()=>this._persistValuesToLocalStorage(this.state)),void 0!==t)}_showAlertMessage(e,t){this.setState(n=>({values:Object(b.a)(Object(b.a)({},n.values),{},{hiddenAlertMessages:Object(b.a)(Object(b.a)({},n.values.hiddenAlertMessages),{},{[e]:!t})})}),()=>this._persistValuesToLocalStorage(this.state))}_showTutorialHint(e,t){this.setState(n=>({values:Object(b.a)(Object(b.a)({},n.values),{},{hiddenTutorialHints:Object(b.a)(Object(b.a)({},n.values.hiddenTutorialHints),{},{[e]:!t})})}),()=>this._persistValuesToLocalStorage(this.state))}_loadValuesFromLocalStorage(){try{const e=localStorage.getItem("gd-preferences");if(!e)return null;const t=JSON.parse(e);for(const n in V.c.values)V.c.values.hasOwnProperty(n)&&"undefined"===typeof t[n]&&(t[n]=V.c.values[n]);return t}catch(e){return null}}_persistValuesToLocalStorage(e){try{localStorage.setItem("gd-preferences",JSON.stringify(e.values))}catch(t){console.warn("Unable to persist preferences",t)}return e}_getLastUsedPath(e,t){const n=e.getProjectFile(),a=this.state.values.projectLastUsedPaths[n];return a&&a[t]?a[t]:n?void 0:null}_setLastUsedPath(e,t,n){const a=e.getProjectFile(),r=this.state.values,o=r.projectLastUsedPaths[a]||{};o[t]=n,this.setState({values:Object(b.a)(Object(b.a)({},r),{},{projectLastUsedPaths:Object(b.a)(Object(b.a)({},r.projectLastUsedPaths),{},{[a]:o})})},()=>this._persistValuesToLocalStorage(this.state))}_getDefaultEditorMosaicNode(e){return this.state.values.defaultEditorMosaicNodes[e]||null}_setDefaultEditorMosaicNode(e,t){this.setState(n=>({values:Object(b.a)(Object(b.a)({},n.values),{},{defaultEditorMosaicNodes:Object(b.a)(Object(b.a)({},n.values.defaultEditorMosaicNodes),{},{[e]:t})})}),()=>this._persistValuesToLocalStorage(this.state))}_getRecentProjectFiles(){return this.state.values.recentProjectFiles}_setRecentProjectFiles(e){this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{recentProjectFiles:e})}),()=>this._persistValuesToLocalStorage(this.state))}_insertRecentProjectFile(e){let t=this._getRecentProjectFiles();this._setRecentProjectFiles([e,...t.filter(t=>JSON.stringify(t)!==JSON.stringify(e))].slice(0,20))}_removeRecentProjectFile(e){this._setRecentProjectFiles([...this._getRecentProjectFiles().filter(t=>JSON.stringify(t)!==JSON.stringify(e))].slice(0,20))}_getAutoOpenMostRecentProject(){return this.state.values.autoOpenMostRecentProject}_setAutoOpenMostRecentProject(e){this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{autoOpenMostRecentProject:e})}),()=>this._persistValuesToLocalStorage(this.state))}_hadProjectOpenedDuringLastSession(){return this.state.values.hasProjectOpened}_setHasProjectOpened(e){this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{hasProjectOpened:e})}),()=>this._persistValuesToLocalStorage(this.state))}_resetShortcutsToDefault(){this.setState(e=>({values:Object(b.a)(Object(b.a)({},e.values),{},{userShortcutMap:{}})}),()=>this._persistValuesToLocalStorage(this.state))}_setShortcutForCommand(e,t){const n=(H.a[e]||"")===t,a=Object(b.a)({},this.state.values.userShortcutMap);n?delete a[e]:a[e]=t,this.setState(e=>({values:Object(b.a)(Object(b.a)({},e.values),{},{userShortcutMap:a})}),()=>this._persistValuesToLocalStorage(this.state))}_getNewObjectDialogDefaultTab(){return this.state.values.newObjectDialogDefaultTab}_setNewObjectDialogDefaultTab(e){this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{newObjectDialogDefaultTab:e})}),()=>this._persistValuesToLocalStorage(this.state))}_getIsMenuBarHiddenInPreview(){return this.state.values.isMenuBarHiddenInPreview}_setIsMenuBarHiddenInPreview(e){this.setState(t=>({values:Object(b.a)(Object(b.a)({},t.values),{},{isMenuBarHiddenInPreview:e})}),()=>this._persistValuesToLocalStorage(this.state))}render(){return a.createElement(V.b.Provider,{value:this.state},this.props.children)}}var J=n(1968),q=n(268),Z=n(242),Q=n(1970),$=n.n(Q);class ee extends a.Component{constructor(...e){super(...e),this._eventsFunctionCodeWriter=this.props.makeEventsFunctionCodeWriter({onWriteFile:this._onWriteFile.bind(this)}),this._includeFileHashs={},this._lastLoadPromise=null,this.state={eventsFunctionsExtensionsError:null,loadProjectEventsFunctionsExtensions:this._loadProjectEventsFunctionsExtensions.bind(this),unloadProjectEventsFunctionsExtensions:this._unloadProjectEventsFunctionsExtensions.bind(this),unloadProjectEventsFunctionsExtension:this._unloadProjectEventsFunctionsExtension.bind(this),reloadProjectEventsFunctionsExtensions:this._reloadProjectEventsFunctionsExtensions.bind(this),ensureLoadFinished:this._ensureLoadFinished.bind(this),getEventsFunctionsExtensionWriter:()=>this.props.eventsFunctionsExtensionWriter,getEventsFunctionsExtensionOpener:()=>this.props.eventsFunctionsExtensionOpener,getIncludeFileHashs:()=>this._includeFileHashs}}_onWriteFile({includeFile:e,content:t}){this._includeFileHashs[e]=$.a.h32(t,43981).toNumber()}_ensureLoadFinished(){return this._lastLoadPromise?console.info("Waiting on the events functions extensions to finish loading..."):console.info("Events functions extensions are ready."),this._lastLoadPromise?this._lastLoadPromise.then(()=>{console.info("Events functions extensions finished loading.")}):Promise.resolve()}_loadProjectEventsFunctionsExtensions(e){const t=this.props.i18n,n=this._eventsFunctionCodeWriter;if(!e||!n)return Promise.resolve();const a=this._lastLoadPromise||Promise.resolve();return this._lastLoadPromise=a.then(()=>Object(Z.e)(e,n,t)).then(()=>this.setState({eventsFunctionsExtensionsError:null})).catch(e=>{this.setState({eventsFunctionsExtensionsError:e}),Object(L.a)({message:t._({id:"An error has occured during functions generation. If GDevelop is installed, verify that nothing is preventing GDevelop from writing on disk. If you're running GDevelop online, verify your internet connection and refresh functions from the Project Manager."}),rawError:e,errorId:"events-functions-extensions-load-error"})}).then(()=>{this._lastLoadPromise=null}),this._lastLoadPromise}_unloadProjectEventsFunctionsExtensions(e){Object(Z.g)(e)}_unloadProjectEventsFunctionsExtension(e,t){Object(Z.f)(e,t)}_reloadProjectEventsFunctionsExtensions(e){return e&&this._unloadProjectEventsFunctionsExtensions(e),this._loadProjectEventsFunctionsExtensions(e)}render(){return a.createElement(q.a.Provider,{value:this.state},this.props.children)}}var te=n(224),ne=n(356),ae=n(393),re=n(226),oe=n(1978),ie=n.n(oe),se=n(566),le=n(846),ce=n(706),ue=n(567),de=n(878);n.d(t,"a",(function(){return me}));const he=Object(re.b)({plugins:[...Object(m.a)().plugins,ie()()]});class me extends a.Component{render(){const e=this.props,t=e.disableCheckForUpdates,n=e.authentification,r=e.children,o=e.makeEventsFunctionCodeWriter,i=e.eventsFunctionsExtensionWriter,s=e.eventsFunctionsExtensionOpener,l=e.resourceFetcher;return a.createElement(d,null,a.createElement(ne.a,null,a.createElement(X,{disableCheckForUpdates:t},a.createElement(V.b.Consumer,null,({values:e})=>{const t=Object(g.a)({themeName:e.themeName,language:e.language});return a.createElement(J.a,{language:e.language},a.createElement(te.a.Provider,{value:t.gdevelopTheme},a.createElement(p.b,{jss:he},a.createElement(h.a,{theme:t.muiTheme},a.createElement(U,{authentification:n},a.createElement(E.I18n,{update:!0},({i18n:e})=>a.createElement(ee,{i18n:e,makeEventsFunctionCodeWriter:o,eventsFunctionsExtensionWriter:i,eventsFunctionsExtensionOpener:s},a.createElement(ae.a,null,a.createElement(se.b,null,a.createElement(le.b,null,a.createElement(ce.b,null,a.createElement(de.b,null,a.createElement(ue.a.Provider,{value:l},r({i18n:e}))))))))))))))}))))}}},912:function(e,t,n){"use strict";var a={name:"Tomorrow-Night",themeName:"tomorrow-night",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"969896",token:"comment"},{foreground:"ced1cf",token:"keyword.operator.class"},{foreground:"ced1cf",token:"constant.other"},{foreground:"ced1cf",token:"source.php.embedded.line"},{foreground:"cc6666",token:"variable"},{foreground:"cc6666",token:"support.other.variable"},{foreground:"cc6666",token:"string.other.link"},{foreground:"cc6666",token:"string.regexp"},{foreground:"cc6666",token:"entity.name.tag"},{foreground:"cc6666",token:"entity.other.attribute-name"},{foreground:"cc6666",token:"meta.tag"},{foreground:"cc6666",token:"declaration.tag"},{foreground:"de935f",token:"constant.numeric"},{foreground:"de935f",token:"constant.language"},{foreground:"de935f",token:"support.constant"},{foreground:"de935f",token:"constant.character"},{foreground:"de935f",token:"variable.parameter"},{foreground:"de935f",token:"punctuation.section.embedded"},{foreground:"de935f",token:"keyword.other.unit"},{foreground:"f0c674",token:"entity.name.class"},{foreground:"f0c674",token:"entity.name.type.class"},{foreground:"f0c674",token:"support.type"},{foreground:"f0c674",token:"support.class"},{foreground:"b5bd68",token:"string"},{foreground:"b5bd68",token:"constant.other.symbol"},{foreground:"b5bd68",token:"entity.other.inherited-class"},{foreground:"b5bd68",token:"markup.heading"},{foreground:"8abeb7",token:"keyword.operator"},{foreground:"8abeb7",token:"constant.other.color"},{foreground:"81a2be",token:"entity.name.function"},{foreground:"81a2be",token:"meta.function-call"},{foreground:"81a2be",token:"support.function"},{foreground:"81a2be",token:"keyword.other.special-method"},{foreground:"81a2be",token:"meta.block-level"},{foreground:"b294bb",token:"keyword"},{foreground:"b294bb",token:"storage"},{foreground:"b294bb",token:"storage.type"},{foreground:"b294bb",token:"entity.name.tag.css"},{foreground:"ced2cf",background:"df5f5f",token:"invalid"},{foreground:"ced2cf",background:"82a3bf",token:"meta.separator"},{foreground:"ced2cf",background:"b798bf",token:"invalid.deprecated"}],colors:{"editor.foreground":"#C5C8C6","editor.background":"#1D1F21","editor.selectionBackground":"#373B41","editor.lineHighlightBackground":"#282A2E","editorCursor.foreground":"#AEAFAD","editorWhitespace.foreground":"#4B4E55"}}};var r={name:"Monokai",themeName:"monokai",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"75715e",token:"comment"},{foreground:"e6db74",token:"string"},{foreground:"ae81ff",token:"constant.numeric"},{foreground:"ae81ff",token:"constant.language"},{foreground:"ae81ff",token:"constant.character"},{foreground:"ae81ff",token:"constant.other"},{foreground:"f92672",token:"keyword"},{foreground:"f92672",token:"storage"},{foreground:"66d9ef",fontStyle:"italic",token:"storage.type"},{foreground:"a6e22e",fontStyle:"underline",token:"entity.name.class"},{foreground:"a6e22e",fontStyle:"italic underline",token:"entity.other.inherited-class"},{foreground:"a6e22e",token:"entity.name.function"},{foreground:"fd971f",fontStyle:"italic",token:"variable.parameter"},{foreground:"f92672",token:"entity.name.tag"},{foreground:"a6e22e",token:"entity.other.attribute-name"},{foreground:"66d9ef",token:"support.function"},{foreground:"66d9ef",token:"support.constant"},{foreground:"66d9ef",fontStyle:"italic",token:"support.type"},{foreground:"66d9ef",fontStyle:"italic",token:"support.class"},{foreground:"f8f8f0",background:"f92672",token:"invalid"},{foreground:"f8f8f0",background:"ae81ff",token:"invalid.deprecated"},{foreground:"cfcfc2",token:"meta.structure.dictionary.json string.quoted.double.json"},{foreground:"75715e",token:"meta.diff"},{foreground:"75715e",token:"meta.diff.header"},{foreground:"f92672",token:"markup.deleted"},{foreground:"a6e22e",token:"markup.inserted"},{foreground:"e6db74",token:"markup.changed"},{foreground:"ae81ff",token:"constant.numeric.line-number.find-in-files - match"},{foreground:"e6db74",token:"entity.name.filename.find-in-files"}],colors:{"editor.foreground":"#F8F8F2","editor.background":"#272822","editor.selectionBackground":"#49483E","editor.lineHighlightBackground":"#3E3D32","editorCursor.foreground":"#F8F8F0","editorWhitespace.foreground":"#3B3A32","editorIndentGuide.activeBackground":"#9D550F","editor.selectionHighlightBorder":"#222218"}}};var o={name:"Tomorrow",themeName:"tomorrow",themeData:{base:"vs",inherit:!0,rules:[{foreground:"8e908c",token:"comment"},{foreground:"666969",token:"keyword.operator.class"},{foreground:"666969",token:"constant.other"},{foreground:"666969",token:"source.php.embedded.line"},{foreground:"c82829",token:"variable"},{foreground:"c82829",token:"support.other.variable"},{foreground:"c82829",token:"string.other.link"},{foreground:"c82829",token:"string.regexp"},{foreground:"c82829",token:"entity.name.tag"},{foreground:"c82829",token:"entity.other.attribute-name"},{foreground:"c82829",token:"meta.tag"},{foreground:"c82829",token:"declaration.tag"},{foreground:"f5871f",token:"constant.numeric"},{foreground:"f5871f",token:"constant.language"},{foreground:"f5871f",token:"support.constant"},{foreground:"f5871f",token:"constant.character"},{foreground:"f5871f",token:"variable.parameter"},{foreground:"f5871f",token:"punctuation.section.embedded"},{foreground:"f5871f",token:"keyword.other.unit"},{foreground:"c99e00",token:"entity.name.class"},{foreground:"c99e00",token:"entity.name.type.class"},{foreground:"c99e00",token:"support.type"},{foreground:"c99e00",token:"support.class"},{foreground:"718c00",token:"string"},{foreground:"718c00",token:"constant.other.symbol"},{foreground:"718c00",token:"entity.other.inherited-class"},{foreground:"718c00",token:"markup.heading"},{foreground:"3e999f",token:"keyword.operator"},{foreground:"3e999f",token:"constant.other.color"},{foreground:"4271ae",token:"entity.name.function"},{foreground:"4271ae",token:"meta.function-call"},{foreground:"4271ae",token:"support.function"},{foreground:"4271ae",token:"keyword.other.special-method"},{foreground:"4271ae",token:"meta.block-level"},{foreground:"8959a8",token:"keyword"},{foreground:"8959a8",token:"storage"},{foreground:"8959a8",token:"storage.type"},{foreground:"ffffff",background:"c82829",token:"invalid"},{foreground:"ffffff",background:"4271ae",token:"meta.separator"},{foreground:"ffffff",background:"8959a8",token:"invalid.deprecated"}],colors:{"editor.foreground":"#4D4D4C","editor.background":"#FFFFFF","editor.selectionBackground":"#D6D6D6","editor.lineHighlightBackground":"#EFEFEF","editorCursor.foreground":"#AEAFAD","editorWhitespace.foreground":"#D1D1D1"}}};var i={name:"Solarized-Dark",themeName:"solarized-dark",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"657b83",fontStyle:"italic",token:"comment"},{foreground:"2aa198",token:"string"},{foreground:"d30102",token:"string.regexp"},{foreground:"d33682",token:"constant.numeric"},{foreground:"268bd2",token:"variable.language"},{foreground:"268bd2",token:"variable.other"},{foreground:"859900",token:"keyword"},{foreground:"93a1a1",fontStyle:"bold",token:"storage"},{foreground:"cb4b16",token:"entity.name.class"},{foreground:"cb4b16",token:"entity.name.type.class"},{foreground:"268bd2",token:"entity.name.function"},{foreground:"859900",token:"punctuation.definition.variable"},{foreground:"d30102",token:"punctuation.section.embedded.begin"},{foreground:"d30102",token:"punctuation.section.embedded.end"},{foreground:"b58900",token:"constant.language"},{foreground:"b58900",token:"meta.preprocessor"},{foreground:"cb4b16",token:"support.function.construct"},{foreground:"cb4b16",token:"keyword.other.new"},{foreground:"cb4b16",token:"constant.character"},{foreground:"cb4b16",token:"constant.other"},{foreground:"6c71c4",token:"entity.other.inherited-class"},{foreground:"268bd2",fontStyle:"bold",token:"entity.name.tag"},{foreground:"657b83",token:"punctuation.definition.tag"},{foreground:"93a1a1",token:"entity.other.attribute-name"},{foreground:"268bd2",token:"support.function"},{foreground:"d30102",token:"punctuation.separator.continuation"},{foreground:"859900",token:"support.type"},{foreground:"859900",token:"support.class"},{foreground:"cb4b16",token:"support.type.exception"}],colors:{"editor.foreground":"#93A1A1","editor.background":"#002B36","editor.selectionBackground":"#073642","editor.lineHighlightBackground":"#073642","editorCursor.foreground":"#D30102","editorWhitespace.foreground":"#93A1A1"}}};var s={name:"Solarized-Light",themeName:"solarized-light",themeData:{base:"vs",inherit:!0,rules:[{foreground:"93a1a1",token:"comment"},{foreground:"2aa198",token:"string"},{foreground:"d30102",token:"string.regexp"},{foreground:"d33682",token:"constant.numeric"},{foreground:"268bd2",token:"variable.language"},{foreground:"268bd2",token:"variable.other"},{foreground:"859900",token:"keyword"},{foreground:"073642",fontStyle:"bold",token:"storage"},{foreground:"268bd2",token:"entity.name.class"},{foreground:"268bd2",token:"entity.name.type.class"},{foreground:"268bd2",token:"entity.name.function"},{foreground:"859900",token:"punctuation.definition.variable"},{foreground:"d30102",token:"punctuation.section.embedded.begin"},{foreground:"d30102",token:"punctuation.section.embedded.end"},{foreground:"b58900",token:"constant.language"},{foreground:"b58900",token:"meta.preprocessor"},{foreground:"d30102",token:"support.function.construct"},{foreground:"d30102",token:"keyword.other.new"},{foreground:"cb4b16",token:"constant.character"},{foreground:"cb4b16",token:"constant.other"},{foreground:"268bd2",fontStyle:"bold",token:"entity.name.tag"},{foreground:"93a1a1",token:"punctuation.definition.tag.begin"},{foreground:"93a1a1",token:"punctuation.definition.tag.end"},{foreground:"93a1a1",token:"entity.other.attribute-name"},{foreground:"268bd2",token:"support.function"},{foreground:"d30102",token:"punctuation.separator.continuation"},{foreground:"859900",token:"support.type"},{foreground:"859900",token:"support.class"},{foreground:"cb4b16",token:"support.type.exception"}],colors:{"editor.foreground":"#586E75","editor.background":"#FDF6E3","editor.selectionBackground":"#073642","editor.lineHighlightBackground":"#EEE8D5","editorCursor.foreground":"#000000","editorWhitespace.foreground":"#93A1A1"}}};var l={name:"Vibrant Ink",themeName:"vibrant-ink",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"ffffff",background:"0f0f0f",token:"text"},{background:"000000",token:"source.ruby.rails.embedded.html"},{foreground:"ffffff",background:"101010",token:"text.html.ruby"},{foreground:"ccff33",background:"000000",token:"invalid"},{foreground:"ccff33",background:"000000",token:"invalid.deprecated"},{foreground:"99cc99",token:"constant.numeric"},{foreground:"ffffff",background:"000000",token:"source"},{foreground:"9933cc",token:"comment"},{foreground:"339999",token:"constant"},{foreground:"ff6600",token:"keyword"},{foreground:"edf8f9",token:"keyword.preprocessor"},{foreground:"ffffff",token:"keyword.preprocessor directive"},{foreground:"ffcc00",token:"entity.name.function"},{foreground:"ffcc00",token:"storage.type.function.js"},{fontStyle:"italic",token:"variable.parameter"},{foreground:"772cb7",background:"070707",token:"source comment.block"},{foreground:"ffffff",token:"variable.other"},{foreground:"ffcc00",token:"support.function"},{foreground:"66ff00",token:"string"},{foreground:"aaaaaa",token:"string constant.character.escape"},{foreground:"000000",background:"cccc33",token:"string.interpolated"},{foreground:"44b4cc",token:"string.regexp"},{foreground:"cccc33",token:"string.literal"},{foreground:"555555",token:"string.interpolated constant.character.escape"},{fontStyle:"underline",token:"entity.name.class"},{fontStyle:"underline",token:"support.class.js"},{fontStyle:"italic underline",token:"entity.other.inherited-class"},{foreground:"ff6600",token:"meta.tag.inline.any.html"},{foreground:"ff6600",token:"meta.tag.block.any.html"},{foreground:"99cc99",fontStyle:"italic",token:"entity.other.attribute-name"},{foreground:"dde93d",token:"keyword.other"},{foreground:"ff6600",token:"meta.selector.css"},{foreground:"ff6600",token:"entity.other.attribute-name.pseudo-class.css"},{foreground:"ff6600",token:"entity.name.tag.wildcard.css"},{foreground:"ff6600",token:"entity.other.attribute-name.id.css"},{foreground:"ff6600",token:"entity.other.attribute-name.class.css"},{foreground:"999966",token:"support.type.property-name.css"},{foreground:"ffffff",token:"keyword.other.unit.css"},{foreground:"ffffff",token:"constant.other.rgb-value.css"},{foreground:"ffffff",token:"constant.numeric.css"},{foreground:"ffffff",token:"support.function.event-handler.js"},{foreground:"ffffff",token:"keyword.operator.js"},{foreground:"cccc66",token:"keyword.control.js"},{foreground:"ffffff",token:"support.class.prototype.js"},{foreground:"ff6600",token:"object.property.function.prototype.js"}],colors:{"editor.foreground":"#FFFFFF","editor.background":"#0F0F0F","editor.selectionBackground":"#6699CC","editor.lineHighlightBackground":"#333333","editorCursor.foreground":"#FFFFFF","editorWhitespace.foreground":"#404040"}}};var c={name:"GitHub",themeName:"github",themeData:{base:"vs",inherit:!0,rules:[{foreground:"999988",fontStyle:"italic",token:"comment"},{foreground:"999999",fontStyle:"bold",token:"comment.block.preprocessor"},{foreground:"999999",fontStyle:"bold italic",token:"comment.documentation"},{foreground:"999999",fontStyle:"bold italic",token:"comment.block.documentation"},{foreground:"a61717",background:"e3d2d2",token:"invalid.illegal"},{fontStyle:"bold",token:"keyword"},{fontStyle:"bold",token:"storage"},{fontStyle:"bold",token:"keyword.operator"},{fontStyle:"bold",token:"constant.language"},{fontStyle:"bold",token:"support.constant"},{foreground:"445588",fontStyle:"bold",token:"storage.type"},{foreground:"445588",fontStyle:"bold",token:"support.type"},{foreground:"008080",token:"entity.other.attribute-name"},{foreground:"0086b3",token:"variable.other"},{foreground:"999999",token:"variable.language"},{foreground:"445588",fontStyle:"bold",token:"entity.name.type"},{foreground:"445588",fontStyle:"bold",token:"entity.other.inherited-class"},{foreground:"445588",fontStyle:"bold",token:"support.class"},{foreground:"008080",token:"variable.other.constant"},{foreground:"800080",token:"constant.character.entity"},{foreground:"990000",token:"entity.name.exception"},{foreground:"990000",token:"entity.name.function"},{foreground:"990000",token:"support.function"},{foreground:"990000",token:"keyword.other.name-of-parameter"},{foreground:"555555",token:"entity.name.section"},{foreground:"000080",token:"entity.name.tag"},{foreground:"008080",token:"variable.parameter"},{foreground:"008080",token:"support.variable"},{foreground:"009999",token:"constant.numeric"},{foreground:"009999",token:"constant.other"},{foreground:"dd1144",token:"string - string source"},{foreground:"dd1144",token:"constant.character"},{foreground:"009926",token:"string.regexp"},{foreground:"990073",token:"constant.other.symbol"},{fontStyle:"bold",token:"punctuation"},{foreground:"000000",background:"ffdddd",token:"markup.deleted"},{fontStyle:"italic",token:"markup.italic"},{foreground:"aa0000",token:"markup.error"},{foreground:"999999",token:"markup.heading.1"},{foreground:"000000",background:"ddffdd",token:"markup.inserted"},{foreground:"888888",token:"markup.output"},{foreground:"888888",token:"markup.raw"},{foreground:"555555",token:"markup.prompt"},{fontStyle:"bold",token:"markup.bold"},{foreground:"aaaaaa",token:"markup.heading"},{foreground:"aa0000",token:"markup.traceback"},{fontStyle:"underline",token:"markup.underline"},{foreground:"999999",background:"eaf2f5",token:"meta.diff.range"},{foreground:"999999",background:"eaf2f5",token:"meta.diff.index"},{foreground:"999999",background:"eaf2f5",token:"meta.separator"},{foreground:"999999",background:"ffdddd",token:"meta.diff.header.from-file"},{foreground:"999999",background:"ddffdd",token:"meta.diff.header.to-file"},{foreground:"4183c4",token:"meta.link"}],colors:{"editor.foreground":"#000000","editor.background":"#F8F8FF","editor.selectionBackground":"#B4D5FE","editor.lineHighlightBackground":"#FFFEEB","editorCursor.foreground":"#666666","editorWhitespace.foreground":"#BBBBBB"}}};var u={name:"Nord-Dark",themeName:"nord-dark",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"616e88",token:"comment"},{foreground:"616e88",fontStyle:"bold",token:"comment.block.preprocessor"},{foreground:"81a1c1",token:"comment.block.documentation"},{foreground:"d8dee9",background:"bf616a",token:"invalid.illegal"},{foreground:"81a1c1",token:"keyword"},{foreground:"81a1c1",token:"storage"},{foreground:"81a1c1",token:"keyword.operator"},{foreground:"81a1c1",token:"constant.language"},{foreground:"81a1c1",token:"support.constant"},{foreground:"8fbcbb",token:"storage.type"},{foreground:"8fBcbb",token:"entity.other.attribute-name"},{foreground:"d8dee9",token:"variable.other"},{foreground:"d8dee9",token:"variable.language"},{foreground:"8fbcbb",token:"entity.name.type"},{foreground:"8fbcbb",fontStyle:"bold",token:"entity.other.inherited-class"},{foreground:"8fbcbb",token:"support.class"},{foreground:"8fbcbb",token:"variable.other.constant"},{foreground:"88c0d0",token:"entity.name.function"},{foreground:"88c0d0",token:"support.function"},{foreground:"88c0d0",token:"entity.name.section"},{foreground:"5e81ac",token:"entity.name.tag"},{foreground:"d8dee9",token:"variable.parameter"},{foreground:"d8dee9",token:"support.variable"},{foreground:"b48ead",token:"constant.numeric"},{foreground:"b48ead",token:"constant.other"},{foreground:"a3be8c",token:"string - string source"},{foreground:"ebcb8b",token:"constant.character"},{foreground:"ebcb8b",token:"string.regexp"},{foreground:"d8dee9",fontStyle:"bold",token:"constant.other.symbol"},{fontground:"eceff4",token:"punctuation"},{foreground:"bf616a",token:"markup.deleted"},{fontStyle:"italic",token:"markup.italic"},{foreground:"88c0d0",token:"markup.heading"},{foreground:"a3be8c",token:"markup.inserted"},{fontStyle:"bold",token:"markup.bold"},{fontStyle:"underline",token:"markup.underline"},{foreground:"8fbcbb",token:"meta.diff.range"},{foreground:"8fbcbb",token:"meta.diff.header.from-file"}],colors:{"editorActiveLineNumber.foreground":"#d8dee9","editorCursor.foreground":"#d8dee9","editorHint.border":"#ebcb8b","editorHint.foreground":"#ebcb8b","editorIndentGuide.background":"#434c5e","editorIndentGuide.activeBackground":"#4c566a","editorLineNumber.foreground":"#4c566a","editorLineNumber.activeForeground":"#d8dee9","editorWhitespace.foreground":"#4c566a","editorWidget.background":"#2e3440","editorWidget.border":"#3b4252","editor.background":"#2e3440","editor.foreground":"#d8dee9","editor.hoverHighlightBackground":"#3b4252","editor.findMatchBackground":"#88c0d0","editor.findMatchHighlightBackground":"#88c0d0","editor.findRangeHighlightBackground":"#88c0d0","editor.lineHighlightBackground":"#3b4252","editor.lineHighlightBorder":"#3b4252","editor.inactiveSelectionBackground":"#434c5e","editor.selectionBackground":"#434c5e","editor.selectionHighlightBackground":"#434c5e","editor.rangeHighlightBackground":"#434c5e","editor.wordHighlightBackground":"#81a1c1","editor.wordHighlightStrongBackground":"#81a1c1","editorError.foreground":"#bf616a","editorError.border":"#bf616a","editorWarning.foreground":"#ebcb8b","editorWarning.border":"#ebcb8b","editorBracketMatch.background":"#2e3440","editorBracketMatch.border":"#88c0d0","editorCodeLens.foreground":"#4c566a","editorGroup.background":"#2e3440","editorGroup.border":"#3b4252","editorGroup.dropBackground":"#3b4252","editorGroupHeader.noTabsBackground":"#2e3440","editorGroupHeader.tabsBackground":"#2e3440","editorGroupHeader.tabsBorder":"#3b4252","editorGutter.background":"#2e3440","editorGutter.modifiedBackground":"#ebcb8b","editorGutter.addedBackground":"#a3be8c","editorGutter.deletedBackground":"#bf616a","editorHoverWidget.background":"#3b4252","editorHoverWidget.border":"#3b4252","editorLink.activeForeground":"#88c0d0","editorMarkerNavigation.background":"#5e81ac","editorMarkerNavigationError.background":"#bf616a","editorMarkerNavigationWarning.background":"#ebcb8b","editorOverviewRuler.border":"#3b4252","editorOverviewRuler.currentContentForeground":"#3b4252","editorOverviewRuler.incomingContentForeground":"#3b4252","editorOverviewRuler.findMatchForeground":"#88c0d0","editorOverviewRuler.rangeHighlightForeground":"#88c0d0","editorOverviewRuler.selectionHighlightForeground":"#88c0d0","editorOverviewRuler.wordHighlightForeground":"#88c0d0","editorOverviewRuler.wordHighlightStrongForeground":"#88c0d0","editorOverviewRuler.modifiedForeground":"#ebcb8b","editorOverviewRuler.addedForeground":"#a3be8c","editorOverviewRuler.deletedForeground":"#bf616a","editorOverviewRuler.errorForeground":"#bf616a","editorOverviewRuler.warningForeground":"#ebcb8b","editorOverviewRuler.infoForeground":"#81a1c1","editorRuler.foreground":"#434c5e","editorSuggestWidget.background":"#2e3440","editorSuggestWidget.border":"#3b4252","editorSuggestWidget.foreground":"#d8dee9","editorSuggestWidget.highlightForeground":"#88c0d0","editorSuggestWidget.selectedBackground":"#434c5e"}}};n.d(t,"a",(function(){return h}));const d=[{name:"Visual Studio",themeName:"vs"},{name:"Visual Studio Dark",themeName:"vs-dark"},c,r,i,s,o,a,l,u],h=()=>d},913:function(e,t,n){"use strict";var a=n(77),r=n(2282);const o=new Set(["he_IL","ar_SA","az_AZ","ms_MY","fa_IR","ur_PK"]);var i=function(e){const t=new Map,n=new WeakMap;return a=>{const r=function(e){return"object"===typeof e?n:t}(a),o=r.get(a);if(o)return o;const i=e(a);return r.set(a,i),i}},s=n(455),l=n(351),c=n(1080),u=(n(1081),Object(l.a)(c,"DarkTheme","dark")),d=n(1082),h=(n(1083),Object(l.a)(d,"NordTheme","dark","hue-rotate(-15deg) saturate(57%) brightness(120%)")),m=n(1084),p=(n(1085),Object(l.a)(m,"SolarizedDarkTheme","dark","hue-rotate(-15deg) saturate(70%) brightness(90%)"));const g={"GDevelop default":s.a,Dark:u,Nord:h,"Solarized Dark":p};n(1086),n(1087),n(1088),n(1089),n(1090),n(1091),n(1092);n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return f}));const b=g;function f({themeName:e,language:t}){let n=b[e];n||(console.warn("Theme '".concat(e,"' is unavailable; '").concat("GDevelop default","' is used")),n=b["GDevelop default"]);const a=(r=t,!o.has(r));var r;const i=n,s=i.gdevelopTheme,l=i.muiThemeOptions;return{gdevelopTheme:s,muiTheme:a?E(l):v(l)}}const E=i(e=>Object(r.a)(e)),v=i(e=>Object(r.a)(e,{overrides:C})),y={direction:"rtl"},C={MuiTypography:{root:y},MuiInput:{root:y},MuiTab:{root:y},MuiButton:{label:y},MuiSvgIcon:{root:{order:100}},MuiFormControlLabel:{root:y},MuiTextField:{root:y}};Object(a.a)(Object(a.a)({},s.a),{},{muiThemeOptions:E(s.a.muiThemeOptions)})},914:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n.n(r),i=n(194),s=n(429),l=n(115),c=n(139),u=n(100),d=n.n(u),h=n(107),m=n(87),p=n(84),g=n(81),b=n(148),f=n(149),E=n(99),v=n(279),y=n.n(v),C=n(280),x=n.n(C),j=n(188),O=n(106),T=n(212),S=n(73),w=n(270),k=n(153),N=n(151),_=n(847),P=n(237),I=n(566),B=n(77),R=n(2483),M=n(80),F=n(201);const L={previewBackground:{background:'url("res/transparentback.png") repeat',display:"flex",justifyContent:"center",alignItems:"center"},previewImage:{objectFit:"contain",verticalAlign:"middle",pointerEvents:"none"},icon:{color:"#fff"},cardContainer:{overflow:"hidden",position:"relative"},titleContainer:{position:"absolute",bottom:0,left:0,right:0,height:48,color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"rgb(0,0,0,0.5)"},title:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},A=({assetShortHeader:e,onOpenDetails:t,size:n})=>r.createElement(R.a,{onClick:t,focusRipple:!0},r.createElement("div",{style:Object(B.a)(Object(B.a)({},L.cardContainer),{},{width:n,height:n})},r.createElement("div",{style:Object(B.a)(Object(B.a)({},L.previewBackground),{},{width:n,height:n})},r.createElement(F.a,{key:e.previewImageUrls[0],style:Object(B.a)(Object(B.a)({},L.previewImage),{},{maxWidth:108,maxHeight:108}),src:e.previewImageUrls[0],alt:e.name})),r.createElement("div",{style:L.titleContainer},r.createElement(M.a,{noMargin:!0,style:L.title},e.name),r.createElement(M.a,{noMargin:!0,style:L.title,size:"body2"},e.shortDescription))));var D=n(144),U=n(565);const V={searchBar:{flexShrink:0}},W=({project:e,objectsContainer:t,events:n,onOpenDetails:o})=>{const i=r.useContext(I.a),s=i.filters,u=i.searchResults,d=i.error,h=i.fetchAssetsAndFilters,m=i.filtersState,p=i.searchText,g=i.setSearchText;return r.useEffect(()=>{h()},[h]),r.createElement(D.a,null,e=>r.createElement(S.a,{expand:!0,noMargin:!0,useFullHeight:!0},r.createElement(c.a,{value:p,onChange:g,onRequestSearch:()=>{},style:V.searchBar}),r.createElement(S.b,{expand:!0,overflow:"hidden"},r.createElement(l.a,{noFullHeight:!0,noExpand:!0,width:"small"===e?150:250},r.createElement(N.a,null,r.createElement(f.a,null,r.createElement(a.Trans,{id:"Categories"})),r.createElement(U.a,{allItemsLabel:r.createElement(a.Trans,{id:"All assets"}),allFilters:s,filtersState:m,error:d}),r.createElement(f.a,null,r.createElement(a.Trans,{id:"Filters"})),r.createElement(P.a,{allFilters:s,filtersState:m,error:d}))),r.createElement(_.a,{baseSize:128,onRetry:h,error:d,searchItems:u,renderSearchItem:(e,t)=>r.createElement(A,{size:t,onOpenDetails:()=>o(e),assetShortHeader:e})}))))};var G=n(268),z=n(720),H=n(2495),K=n(83),Y=n(385),X=n(267),J=n(125),q=n(236),Z=n(147),Q=n.n(Z),$=n(88),ee=n(2422),te=n(5);const ne={previewBackground:{background:'url("res/transparentback.png") repeat',display:"flex",justifyContent:"center",alignItems:"center",padding:10},verticalPreviewBackground:{width:250},horizontalPreviewBackground:{height:170},chip:{marginBottom:2,marginRight:2},previewImage:{maxWidth:"100%",maxHeight:"100%",verticalAlign:"middle",pointerEvents:"none",objectFit:"contain"}},ae=({project:e,layout:t,objectsContainer:n,resourceSources:o,onChooseResource:i,resourceExternalEditors:s,assetShortHeader:l,onAdd:c,onClose:u,canInstall:b,isBeingInstalled:f})=>{const E=r.useContext(I.a),v=E.authors,y=E.licenses,C=r.useState(null),x=Object(m.a)(C,2),j=x[0],O=x[1],T=r.useState(null),w=Object(m.a)(T,2),k=w[0],N=w[1],_=r.useCallback(()=>{Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Y.a)(l);case 3:t=e.sent,O(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error while loading asset:",e.t0),N(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},[l]);r.useEffect(()=>{_()},[_]);const P=j&&v?j.authors.map(e=>v.find(({name:t})=>t===e)).filter(Boolean):[],R=j&&y?y.find(({name:e})=>e===j.license):null;return r.createElement(p.a,{open:!0,title:r.createElement(a.Trans,{id:"Add an object from the store"}),onRequestClose:u,actions:[r.createElement(g.a,{key:"back",label:r.createElement(a.Trans,{id:"Back"}),onClick:u}),r.createElement(X.a,{isLoading:f||!j&&!k,key:"install"},r.createElement(K.a,{primary:!0,icon:r.createElement(Q.a,null),label:r.createElement(a.Trans,{id:"Add to the game"}),onClick:c,disabled:!b||f||!j}))]},r.createElement(S.a,{expand:!0,noMargin:!0},r.createElement($.b,{noMargin:!0},r.createElement(D.a,null,e=>r.createElement("div",{style:Object(B.a)(Object(B.a)({},ne.previewBackground),"small"===e?ne.horizontalPreviewBackground:ne.verticalPreviewBackground)},r.createElement(F.a,{style:ne.previewImage,src:l.previewImageUrls[0],alt:l.name}))),r.createElement(S.a,{expand:!0},r.createElement("div",null,r.createElement(M.a,{size:"title",displayInlineAsSpan:!0},l.name)," ",l.shortDescription&&r.createElement(r.Fragment,null,"-"," ",r.createElement(M.a,{size:"body",displayInlineAsSpan:!0},l.shortDescription))),r.createElement("span",null,l.tags.map(e=>r.createElement(H.a,{size:"small",style:ne.chip,label:e,key:e}))),j?r.createElement(r.Fragment,null,r.createElement(M.a,{size:"body"},r.createElement(a.Trans,{id:"By:"})," ",!!P&&P.map(e=>r.createElement(ee.a,{key:e.name,component:"button",onClick:()=>{te.b.openExternalURL(e.website)}},e.name))),r.createElement(M.a,{size:"body"},!!R&&r.createElement(a.Trans,{id:"License: <0>{0}</0>",values:{0:R.name},components:[r.createElement(ee.a,{component:"button",onClick:()=>{te.b.openExternalURL(R.website)}})]})),r.createElement(M.a,{size:"body"},j.description)):k?r.createElement(q.a,{onRetry:_},r.createElement(a.Trans,{id:"Error while loading the asset. Verify your internet connection or try again later."})):r.createElement(J.a,null)))))};var re=n(11),oe=n(6),ie=n.n(oe),se=n(22),le=n(213),ce=n(567),ue=n(113);const de=ie()("electron"),he=({objectMetadata:e,onClick:t})=>""===e.name?null:r.createElement(E.b,{leftIcon:r.createElement(b.a,{src:e.iconFilename,iconSize:40,isGDevelopIcon:!0}),key:e.name,primaryText:e.fullName,secondaryText:e.description,secondaryTextLines:2,onClick:t});function me({project:e,layout:t,objectsContainer:n,resourceSources:o,onChooseResource:i,resourceExternalEditors:s,events:l,onClose:c,onCreateNewObject:u,onObjectAddedFromAsset:b}){const v=r.useContext(ue.b),C=v.setNewObjectDialogDefaultTab,_=v.getNewObjectDialogDefaultTab,P=r.useState(!1),I=Object(m.a)(P,2),B=I[0],R=I[1],M=r.useState(null),F=Object(m.a)(M,2),L=F[0],A=F[1],D=r.useState(_()),U=Object(m.a)(D,2),V=U[0],H=U[1],Y=r.useState(!1),X=Object(m.a)(Y,2),J=X[0],q=X[1],Z=r.useMemo(()=>Object(j.b)(e),[e]),Q=Object(T.d)(),$=Object(le.b)(),ee=Object(ce.b)();r.useEffect(()=>C(V),[C,V]);const ne=Z.filter(({name:e})=>!Q[e]),oe=Z.filter(({name:e})=>!!Q[e]),ie=r.useState(null),me=Object(m.a)(ie,2),pe=me[0],ge=me[1],be=r.useContext(G.a),fe=r.useCallback(t=>{ge(t),Object(h.a)(d.a.mark((function a(){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(z.b)({assetShortHeader:t,eventsFunctionsExtensionsState:be,project:e,objectsContainer:n,events:l});case 3:return r=a.sent,Object(re.b)({id:t.id,name:t.name}),console.log("Asset successfully installed."),r.createdObjects.forEach(e=>{b(e)}),a.next=9,ee.ensureResourcesAreFetched(e);case 9:A(null),R(!0),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(0),console.error("Error while installing the asset:",a.t0),Object(se.a)({message:'There was an error while installing the asset "'.concat(t.name,'". Verify your internet connection or try again later.'),rawError:a.t0,errorId:"install-asset-error"});case 17:ge(null);case 18:case"end":return a.stop()}}),a,null,[[0,13]])})))()},[ee,be,e,n,l,b]);return r.createElement(p.a,{title:r.createElement(a.Trans,{id:"Add a new object"}),secondaryActions:[r.createElement(O.a,{helpPagePath:"/objects",key:"help"}),de||"touch"===$?null:r.createElement(g.a,{key:"download-gdevelop",label:r.createElement(a.Trans,{id:"Download GDevelop to import your images"}),onClick:()=>te.b.openExternalURL("https://gdevelop-app.com/download")})],actions:[r.createElement(g.a,{key:"close",label:r.createElement(a.Trans,{id:"Close"}),primary:!1,onClick:c})],onRequestClose:c,cannotBeDismissed:!1,open:!0,flexBody:!0,noMargin:!0},r.createElement(S.a,{noMargin:!0,expand:!0},r.createElement(k.b,{value:V,onChange:H},r.createElement(k.a,{label:r.createElement(a.Trans,{id:"Search Asset Store"}),value:"asset-store"}),r.createElement(k.a,{label:r.createElement(a.Trans,{id:"New object from scratch"}),value:"new-object"})),"asset-store"===V&&r.createElement(W,{project:e,objectsContainer:n,events:l,onOpenDetails:e=>{A(e),Object(re.c)({id:e.id,name:e.name})}}),"new-object"===V&&r.createElement(N.a,null,r.createElement(E.a,null,ne.map(e=>r.createElement(he,{key:e.name,objectMetadata:e,onClick:()=>{Object(re.k)(e.name),u(e.name)}})),J&&r.createElement(f.a,null,"Experimental (make sure to read the documentation page)"),J&&oe.map(e=>r.createElement(he,{key:e.name,objectMetadata:e,onClick:()=>{Object(re.k)(e.name),u(e.name)}}))),r.createElement(S.b,{justifyContent:"center",alignItems:"center"},J?r.createElement(g.a,{key:"toggle-experimental",icon:r.createElement(x.a,null),primary:!1,onClick:()=>q(!1),label:r.createElement(a.Trans,{id:"Hide experimental objects"})}):r.createElement(g.a,{key:"toggle-experimental",icon:r.createElement(y.a,null),primary:!1,onClick:()=>q(!0),label:r.createElement(a.Trans,{id:"Show experimental objects"})})),r.createElement(S.b,{justifyContent:"center",alignItems:"center"},r.createElement(K.a,{label:r.createElement(a.Trans,{id:"Browse ready made objects in the Asset Store"}),primary:!0,onClick:()=>{H("asset-store")}})))),null!==L?r.createElement(ae,{project:e,layout:t,objectsContainer:n,resourceSources:o,onChooseResource:i,resourceExternalEditors:s,assetShortHeader:L,onAdd:()=>fe(L),onClose:()=>A(null),canInstall:!pe,isBeingInstalled:!!pe&&pe.id===L.id}):null,ee.renderResourceFetcherDialog(),r.createElement(w.a,{identifier:"asset-installed-explanation",message:r.createElement(a.Trans,{id:"The object was added to the list of objects. You can now use it on the scene, in events, and customize it."}),show:B}))}var pe=n(230),ge=n(122),be=n(231),fe=n(129);var Ee=n(537),ve=n(93),ye=n(273),Ce=n(126);class xe extends r.Component{constructor(...e){super(...e),this.state={tagsString:this.props.tagsString},this._tagsField=r.createRef()}componentDidMount(){setTimeout(()=>{this._tagsField&&this._tagsField.current&&this._tagsField.current.focus()},10)}render(){const e=this.props,t=e.onCancel,n=e.onEdit,o=this.state.tagsString,i=Object(ye.c)(o);return r.createElement(p.a,{actions:[r.createElement(g.a,{key:"close",label:r.createElement(a.Trans,{id:"Cancel"}),primary:!1,onClick:t}),r.createElement(g.a,{key:"add",label:this.props.tagsString&&!i.length?r.createElement(a.Trans,{id:"Remove all tags"}):r.createElement(a.Trans,{id:"Add/update {0} tag(s)",values:{0:i.length}}),primary:!0,onClick:()=>n(i),disabled:!this.props.tagsString&&!i.length})],cannotBeDismissed:!1,open:!0,onRequestClose:t},r.createElement(ve.b,{fullWidth:!0,value:o,onChange:(e,t)=>this.setState({tagsString:t}),floatingLabelText:"Tag(s) (comma-separated)",hintText:{id:"For example: player, spaceship, inventory..."},onKeyPress:e=>{Object(Ce.e)(e)&&n(i)},ref:this._tagsField}))}}n.d(t,"b",(function(){return Oe})),n.d(t,"a",(function(){return ke}));const je={listContainer:{flex:1}},Oe="GD_OBJECT_WITH_CONTEXT",Te=e=>e.object.getName(),Se=e=>e.global,we=e=>{let t="";if(be.b.has("Object")){const e=be.b.get("Object");t=be.a.extractStringProperty(e,"name")||""}return e?"Paste "+t+" as a Global Object":"Paste "+t};class ke extends o.a.Component{constructor(...e){super(...e),this._displayedObjectWithContextsList=[],this.state={newObjectDialogOpen:!1,renamedObjectWithContext:null,variablesEditedObject:null,searchText:"",tagEditedObject:null},this.addObject=e=>{const t=this.props,n=t.project,a=t.objectsContainer,r=t.onEditObject,o=t.onObjectCreated,i=t.onObjectSelected,s=Object(ge.a)("NewObject",e=>a.hasObjectNamed(e)||n.hasObjectNamed(e)),l=a.insertNewObject(n,e,s,a.getObjectsCount());l.setTags(Object(ye.b)(this.props.selectedObjectTags)),this.setState({newObjectDialogOpen:!1},()=>{r&&(r(l),o(l),i(s))})},this._onObjectAddedFromAsset=e=>{const t=this.props.onObjectCreated;e.setTags(Object(ye.b)(this.props.selectedObjectTags)),t(e)},this.onAddNewObject=()=>{this.setState({newObjectDialogOpen:!0})},this._deleteObject=e=>{const t=e.object,n=e.global,a=this.props,r=a.project,o=a.objectsContainer;te.b.showConfirmDialog("Are you sure you want to remove this object? This can't be undone.")&&this.props.onDeleteObject(e,e=>{e&&(n?r.removeObject(t.getName()):o.removeObject(t.getName()),this._onObjectModified(!1))})},this._copyObject=e=>{const t=e.object;be.b.set("Object",{type:t.getType(),name:t.getName(),object:Object(fe.b)(t)})},this._cutObject=e=>{this._copyObject(e),this._deleteObject(e)},this._duplicateObject=e=>{this._copyObject(e),this._pasteAndRename(e)},this._pasteAndRename=e=>{this._editName(this._paste(e))},this._paste=e=>{if(!be.b.has("Object"))return null;const t=e.object,n=e.global,a=be.b.get("Object"),r=be.a.extractObjectProperty(a,"object"),o=be.a.extractStringProperty(a,"name"),i=be.a.extractStringProperty(a,"type");if(!o||!i||!r)return;const s=this.props,l=s.project,c=s.objectsContainer,u=s.onObjectPasted,d=Object(ge.a)(o,e=>c.hasObjectNamed(e)||l.hasObjectNamed(e),""),h=n?l.insertNewObject(l,i,d,l.getObjectPosition(t.getName())):c.insertNewObject(l,i,d,c.getObjectPosition(t.getName()));return Object(fe.c)(h,r,"unserializeFrom",l),h.setName(d),this._onObjectModified(!1),u&&u(h),{object:h,global:n}},this._editName=e=>{this.setState({renamedObjectWithContext:e},()=>{this.sortableList&&this.sortableList.forceUpdateGrid()})},this._editVariables=e=>{this.setState({variablesEditedObject:e})},this._rename=(e,t)=>{const n=e.object;this.setState({renamedObjectWithContext:null}),Te(e)!==t&&this.props.canRenameObject(t)&&this.props.onRenameObject(e,t,e=>{e&&(n.setName(t),this._onObjectModified(!1))})},this._canMoveSelectionTo=e=>this._displayedObjectWithContextsList.filter(e=>-1!==this.props.selectedObjectNames.indexOf(e.object.getName())).filter(t=>t.global===e.global).length>0,this._moveSelectionTo=e=>{const t=this.props,n=t.project,a=t.objectsContainer,r=e.global?n:a;this._displayedObjectWithContextsList.filter(e=>-1!==this.props.selectedObjectNames.indexOf(e.object.getName())).forEach(t=>{t.global===e.global&&r.moveObject(r.getObjectPosition(t.object.getName()),r.getObjectPosition(e.object.getName()))}),this._onObjectModified(!0)},this._setAsGlobalObject=e=>{const t=e.object,n=this.props,a=n.project,r=n.objectsContainer,o=t.getName();if(!r.hasObjectNamed(o))return;if(a.hasObjectNamed(o))return void Object(se.c)("A global object with this name already exists. Please change the object name before setting it as a global object",{delayToNextTick:!0});te.b.showConfirmDialog("This object will be loaded and available in all the scenes. This is only recommended for objects that you reuse a lot and can't be undone. Make this object global?")&&(r.moveObjectToAnotherContainer(o,a,a.getObjectsCount()),this._onObjectModified(!0))},this.forceUpdateList=()=>{this.forceUpdate(),this.sortableList&&this.sortableList.forceUpdateGrid()},this._openEditTagDialog=e=>{this.setState({tagEditedObject:e})},this._changeObjectTags=(e,t)=>{e.setTags(Object(ye.b)(t)),this._onObjectModified(!0)},this._selectObject=e=>{this.props.onObjectSelected(e?e.object.getName():"")},this._getObjectThumbnail=e=>this.props.getThumbnail(this.props.project,e.object),this._renderObjectMenuTemplate=e=>(t,n)=>{const a=t.object;return[{label:e._({id:"Edit object"}),click:()=>this.props.onEditObject(a)},{label:e._({id:"Edit object variables"}),click:()=>this._editVariables(a)},{type:"separator"},{label:e._({id:"Tags"}),submenu:Object(ye.a)({noTagLabel:"No tags",getAllTags:this.props.getAllObjectTags,selectedTags:Object(ye.c)(a.getTags()),onChange:e=>{this._changeObjectTags(a,e)},editTagsLabel:"Add/edit tags...",onEditTags:()=>this._openEditTagDialog(a)})},{label:e._({id:"Rename"}),click:()=>this._editName(t)},{label:e._({id:"Set as a global object"}),click:()=>this._setAsGlobalObject(t)},{label:e._({id:"Delete"}),click:()=>this._deleteObject(t)},{type:"separator"},{label:e._({id:"Add a new object..."}),click:()=>this.onAddNewObject()},{type:"separator"},{label:e._({id:"Copy"}),click:()=>this._copyObject(t)},{label:e._({id:"Cut"}),click:()=>this._cutObject(t)},{label:we(t.global),enabled:be.b.has("Object"),click:()=>this._paste(t)},{label:e._({id:"Duplicate"}),click:()=>this._duplicateObject(t)}]},this._onObjectModified=e=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),e?this.forceUpdateList():this.forceUpdate()}}shouldComponentUpdate(e,t){return this.state.newObjectDialogOpen!==t.newObjectDialogOpen||this.state.renamedObjectWithContext!==t.renamedObjectWithContext||this.state.variablesEditedObject!==t.variablesEditedObject||this.state.searchText!==t.searchText||this.state.tagEditedObject!==t.tagEditedObject||(this.props.selectedObjectNames!==e.selectedObjectNames||this.props.selectedObjectTags!==e.selectedObjectTags||(this.props.project!==e.project||this.props.objectsContainer!==e.objectsContainer))}render(){const e=this.props,t=e.project,n=e.layout,r=e.objectsContainer,u=e.resourceSources,d=e.onChooseResource,h=e.resourceExternalEditors,m=e.selectedObjectTags,p=e.events,g=this.state,b=g.searchText,f=g.tagEditedObject,E=Object(j.c)(t,r);this._displayedObjectWithContextsList=Object(j.f)(E.allObjectsList,{searchText:b,selectedTags:m});const v=this._displayedObjectWithContextsList.filter(e=>-1!==this.props.selectedObjectNames.indexOf(e.object.getName())),y=this._displayedObjectWithContextsList.find(Object(j.g)(this.state.renamedObjectWithContext)),C=t.ptr+";"+r.ptr;return o.a.createElement(l.a,{maxWidth:!0},o.a.createElement(Ee.a,{tags:this.props.selectedObjectTags,onChange:this.props.onChangeSelectedObjectTags}),o.a.createElement("div",{style:je.listContainer},o.a.createElement(i.a,null,({height:e,width:t})=>o.a.createElement(a.I18n,null,({i18n:n})=>o.a.createElement(s.a,{key:C,ref:e=>this.sortableList=e,fullList:this._displayedObjectWithContextsList,width:t,height:e,getItemName:Te,getItemThumbnail:this._getObjectThumbnail,isItemBold:Se,onEditItem:e=>this.props.onEditObject(e.object),onAddNewItem:this.onAddNewObject,addNewItemLabel:o.a.createElement(a.Trans,{id:"Add a new object"}),selectedItems:v,onItemSelected:this._selectObject,renamedItem:y,onRename:this._rename,buildMenuTemplate:this._renderObjectMenuTemplate(n),onMoveSelectionToItem:this._moveSelectionTo,canMoveSelectionToItem:this._canMoveSelectionTo,scaleUpItemIconWhenSelected:"touch"===Object(le.b)(),reactDndType:Oe})))),o.a.createElement(c.a,{value:b,onRequestSearch:()=>{},onChange:e=>this.setState({searchText:e})}),this.state.newObjectDialogOpen&&o.a.createElement(me,{onClose:()=>this.setState({newObjectDialogOpen:!1}),onCreateNewObject:this.addObject,onObjectAddedFromAsset:this._onObjectAddedFromAsset,project:t,layout:n,objectsContainer:r,events:p,resourceSources:u,onChooseResource:d,resourceExternalEditors:h}),this.state.variablesEditedObject&&o.a.createElement(pe.a,{open:!0,variablesContainer:this.state.variablesEditedObject&&this.state.variablesEditedObject.getVariables(),onCancel:()=>this._editVariables(null),onApply:()=>this._editVariables(null),title:o.a.createElement(a.Trans,{id:"Object Variables"}),emptyExplanationMessage:o.a.createElement(a.Trans,{id:"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it."}),emptyExplanationSecondMessage:o.a.createElement(a.Trans,{id:"For example, you can have a variable called Life representing the health of the object."}),hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),f&&o.a.createElement(xe,{tagsString:f.getTags(),onEdit:e=>{this._changeObjectTags(f,e),this._openEditTagDialog(null)},onCancel:()=>this._openEditTagDialog(null)}))}}},915:function(e,t,n){"use strict";var a=n(87),r=n(71),o=n(4),i=n.n(o),s=n(139),l=n(73),c=n(115),u=n(151),d=n(237),h=n(706),m=n(711),p=n(2483),g=n(80),b=n(77),f=n(201);const E={iconBackground:{flex:0,display:"flex",justifyContent:"center"},icon:{background:"linear-gradient(45deg, #FFFFFF33, #FFFFFF)",padding:4,borderRadius:4}},v=({extensionShortHeader:e,size:t})=>o.createElement("div",{style:E.iconBackground},o.createElement(f.a,{style:Object(b.a)(Object(b.a)({},E.icon),{},{width:t,height:t}),src:e.previewIconUrl,alt:e.fullName})),y={iconBackground:{flex:0,display:"flex",justifyContent:"center"},icon:{width:40,height:40,background:"linear-gradient(45deg, #FFFFFF33, #FFFFFF)",padding:4,borderRadius:4},container:{display:"flex",textAlign:"left",overflow:"hidden",padding:8}},C=({project:e,extensionShortHeader:t,onChoose:n,onHeightComputed:a})=>{const i=e.hasEventsFunctionsExtensionNamed(t.name),s=o.useRef(null);return o.useLayoutEffect(()=>{s.current&&a(s.current.getBoundingClientRect().height)}),o.createElement(p.a,{onClick:n,focusRipple:!0},o.createElement("div",{style:y.container,ref:s},o.createElement(l.b,{noMargin:!0},o.createElement(v,{extensionShortHeader:t,size:40}),o.createElement(l.a,{expand:!0},o.createElement(g.a,{noMargin:!0},t.fullName," ",i&&o.createElement(r.Trans,{id:"(already installed)"})),o.createElement(g.a,{noMargin:!0,size:"body2"},t.shortDescription)))))};var x=n(144),j=n(84),O=n(81),T=n(382),S=n(267),w=n(125),k=n(236),N=n(211),_=n(124),P=n(12),I=n(2388),B=n(88);const R=e=>e.description.substr(0,e.shortDescription.length)===e.shortDescription?e.description.substr(e.shortDescription.length):e.description;class M extends o.Component{constructor(...e){super(...e),this.state={extensionHeader:null,error:null},this._loadExtensionheader=()=>{this.setState({error:null}),Object(T.b)(this.props.extensionShortHeader).then(e=>{this.setState({extensionHeader:e})},e=>{this.setState({error:e})})}}componentDidMount(){this._loadExtensionheader()}render(){const e=this.props,t=e.isInstalling,n=e.extensionShortHeader,a=e.onClose,o=e.onInstall,s=e.alreadyInstalled,c=this.state,u=c.extensionHeader,d=c.error,h=Object(T.d)(Object(P.b)(),n);return i.a.createElement(j.a,{actions:[i.a.createElement(O.a,{key:"close",label:i.a.createElement(r.Trans,{id:"Back"}),primary:!1,onClick:a,disabled:t}),i.a.createElement(S.a,{isLoading:t,key:"install"},i.a.createElement(O.a,{label:h?s?i.a.createElement(r.Trans,{id:"Re-install/update"}):i.a.createElement(r.Trans,{id:"Install in project"}):i.a.createElement(r.Trans,{id:"Not compatible"}),primary:!0,onClick:o,disabled:t||!h}))],cannotBeDismissed:!1,open:!0,onRequestClose:a},i.a.createElement(B.a,{expand:!0,noMargin:!0},!h&&i.a.createElement(_.a,{kind:"error"},i.a.createElement(r.Trans,{id:"Unfortunately, this extension requires a newer version of GDevelop to work. Upgrade GDevelop to be able to use this extension in your project."})),i.a.createElement(l.b,{alignItems:"center",noMargin:!0},i.a.createElement(v,{extensionShortHeader:n,size:40}),i.a.createElement(l.a,{expand:!0},i.a.createElement(g.a,{noMargin:!0,size:"title"},n.fullName))),i.a.createElement(g.a,{noMargin:!0},n.shortDescription),i.a.createElement(I.a,null),u&&i.a.createElement(N.a,{source:R(u),isStandaloneText:!0}),!u&&!d&&i.a.createElement(w.a,null),!u&&d&&i.a.createElement(k.a,{onRetry:this._loadExtensionheader},i.a.createElement(r.Trans,{id:"Can't load the extension registry. Verify your internet connection or try again later."}))))}}var F=n(149);n.d(t,"a",(function(){return D}));const L={searchBar:{flexShrink:0}},A=e=>e.name,D=({isInstalling:e,project:t,onInstall:n,showOnlyWithBehaviors:i})=>{const p=o.useState(null),g=Object(a.a)(p,2),b=g[0],f=g[1],E=o.useContext(h.a),v=E.filters,y=E.searchResults,j=E.error,O=E.fetchExtensionsAndFilters,T=E.filtersState,S=E.searchText,w=E.setSearchText;o.useEffect(()=>{O()},[O]);const k=y?y.filter(e=>!i||e.eventsBasedBehaviorsCount>0):null;return o.createElement(o.Fragment,null,o.createElement(x.a,null,e=>o.createElement(l.a,{expand:!0,noMargin:!0,useFullHeight:!0},o.createElement(s.a,{value:S,onChange:w,onRequestSearch:()=>{},style:L.searchBar}),o.createElement(l.b,{overflow:"hidden"},o.createElement(c.a,{noFullHeight:!0,noExpand:!0,width:"small"===e?150:250},o.createElement(u.a,null,o.createElement(F.a,null,o.createElement(r.Trans,{id:"Filters"})),o.createElement(d.a,{allFilters:v,filtersState:T,error:j}))),o.createElement(m.a,{onRetry:O,error:j,searchItems:k,getSearchItemUniqueId:A,renderSearchItem:(e,n)=>o.createElement(C,{project:t,onHeightComputed:n,extensionShortHeader:e,onChoose:()=>{f(e)}})})))),!!b&&o.createElement(M,{isInstalling:e,extensionShortHeader:b,alreadyInstalled:t.hasEventsFunctionsExtensionNamed(b.name),onInstall:()=>{n(b)},onClose:()=>f(null)}))}},916:function(e,t,n){"use strict";var a=n(4),r=n(170),o=n.n(r),i=n(24);var s=n(71),l=n(92),c=n(125),u=n(211),d=n(73),h=n(5),m=n(124),p=n(81),g=n(83);var b=({releases:e,error:t,currentReleaseName:n})=>{const r=()=>h.b.openExternalURL("https://github.com/4ian/GDevelop/releases");if(t)return a.createElement(d.a,null,a.createElement(d.b,null,a.createElement(m.a,{kind:"warning"},a.createElement(s.Trans,{id:"Please double check online the changes to make sure that you are aware of anything new in this version that would require you to adapt your project."}))),a.createElement(d.b,null,a.createElement(l.a,null,a.createElement(s.Trans,{id:"Unable to load the information about the latest GDevelop releases. Verify your internet connection or retry later."}))),a.createElement(d.b,{justifyContent:"center"},a.createElement(g.a,{label:a.createElement(s.Trans,{id:"See the releases notes online"}),onClick:r})));if(!e)return a.createElement(c.a,null);const o=((e,t)=>e.find(e=>e.name===t))(e,n),i=!!o&&-1!==(o.description||"").toLowerCase().indexOf("breaking change");return a.createElement(d.a,null,i&&a.createElement(m.a,{kind:"warning"},"This version of GDevelop has a breaking change. Please make sure to read the changes below to understand if any change or adaptation must be made to your project."),e.map(e=>e.name?a.createElement(u.a,{key:e.name,source:"# Version "+e.name+"\n---\n"+(e.description||"Changes and new features description will be available soon."),isStandaloneText:!0}):null),a.createElement(d.b,{justifyContent:"center"},a.createElement(p.a,{label:a.createElement(s.Trans,{id:"See all the releases notes"}),onClick:r})))},f=n(12);n.d(t,"a",(function(){return E}));class E extends a.Component{constructor(...e){super(...e),this.state={releases:null,error:null},this._onUpdated=()=>{this.props.onUpdated&&this.props.onUpdated()}}componentDidMount(){o.a.get("".concat(i.h.baseUrl,"/release"),{params:{last:4}}).then(e=>e.data).then(e=>this.setState({releases:e,error:null},this._onUpdated)).catch(e=>this.setState({error:e},this._onUpdated))}render(){const e=this.state,t=e.releases,n=e.error;return a.createElement(b,{releases:t,error:n,currentReleaseName:Object(f.b)()})}}},917:function(e,t,n){"use strict";var a=n(77),r=n(71),o=n(4),i=n(326),s=n(274),l=n(327),c=n(99),u=n(139),d=n(97),h=n(151),m=n(153),p=n(149),g=n(188),b=n(537),f=n(148),E=n(275);var v=n(189);var y=n(783),C=n(784),x=n(92),j=n(273);n.d(t,"a",(function(){return T}));const O={searchBar:{flexShrink:0}};class T extends o.PureComponent{constructor(...e){super(...e),this.state={searchText:"",selectedObjectTags:[]},this._searchBar=o.createRef(),this._scrollView=o.createRef(),this._selectedItem=o.createRef(),this.freeInstructionsInfo=Object(l.a)(Object(s.c)(this.props.isCondition),this.props.scope),this.freeInstructionsInfoTree=Object(i.a)(this.freeInstructionsInfo),this.initialInstructionTypePath=Object(i.b)(this.freeInstructionsInfoTree,this.props.chosenInstructionType),this.allInstructionsInfo=Object(l.a)(Object(s.b)(this.props.isCondition),this.props.scope),this._getAllObjectTags=()=>{const e=this.props,t=e.globalObjectsContainer,n=e.objectsContainer,a=new Set;return Object(g.c)(t,n).allObjectsList.forEach(({object:e})=>{Object(j.c)(e.getTags()).forEach(e=>a.add(e))}),Array.from(a)},this._buildObjectTagsMenuTemplate=e=>{const t=this.state.selectedObjectTags;return Object(j.a)({noTagLabel:e._({id:"No tags - add a tag to an object first"}),getAllTags:this._getAllObjectTags,selectedTags:t,onChange:e=>{this.setState({selectedObjectTags:e})}})}}componentDidMount(){this.props.focusOnMount&&Object(u.b)()&&this._searchBar.current&&this._searchBar.current.focus(),this._selectedItem.current&&this._scrollView.current&&this._scrollView.current.scrollTo(this._selectedItem.current)}render(){const e=this.props,t=e.style,n=e.globalObjectsContainer,i=e.objectsContainer,l=e.project,j=e.chosenInstructionType,T=e.onChooseInstruction,S=e.chosenObjectName,w=e.onChooseObject,k=e.isCondition,N=e.currentTab,_=e.onChangeTab,P=e.onSearchStartOrReset,I=this.state,B=I.searchText,R=I.selectedObjectTags,M=n!==l,F=Object(g.d)(n,i),L=F.allObjectsList,A=F.allGroupsList,D=Object(g.f)(L,{searchText:B,selectedTags:R}),U=R.length?[]:Object(g.e)(A,B),V=!!B,W=Object(s.e)(V?this.allInstructionsInfo:this.freeInstructionsInfo,{searchText:B}),G=V?Object(s.a)(W.slice(0,20)):W,z=V?Math.max(W.length-20,0):0,H=!V||!!D.length||!!U.length||!!G.length,K=()=>{V&&(D.length>0?w(D[0].object.getName()):U.length>0?w(U[0].group.getName()):G.length>0&&T(G[0].type,G[0]))};return o.createElement(r.I18n,{key:"tags"},({i18n:e})=>o.createElement(d.a,null,n=>o.createElement("div",{style:Object(a.a)({backgroundColor:n.list.itemsBackgroundColor,minHeight:400},t)},o.createElement(u.a,{value:B,onChange:e=>{const t=this.state.searchText;this.setState({searchText:e}),(!t&&e||t&&!e)&&P&&P()},onRequestSearch:K,buildTagsMenuTemplate:()=>this._buildObjectTagsMenuTemplate(e),style:O.searchBar,ref:this._searchBar}),!V&&o.createElement(m.b,{value:N,onChange:_},o.createElement(m.a,{label:o.createElement(r.Trans,{id:"Objects"}),value:"objects"}),o.createElement(m.a,{label:k?o.createElement(r.Trans,{id:"Other conditions"}):o.createElement(r.Trans,{id:"Other actions"}),value:"free-instructions"})),o.createElement(h.a,{ref:this._scrollView},!V&&"objects"===N&&o.createElement(b.a,{tags:R,onChange:e=>this.setState({selectedObjectTags:e})}),H&&o.createElement(c.a,null,(V||"objects"===N)&&o.createElement(o.Fragment,null,D.map(e=>(({project:e,objectWithContext:t,iconSize:n,onClick:a,selectedValue:r})=>{const i=t.object.getName();return o.createElement(c.b,{key:Object(E.d)(t),selected:r===Object(E.e)(i),primaryText:i,leftIcon:o.createElement(f.a,{iconSize:n,src:v.a.getThumbnail(e,t.object)}),onClick:a})})({project:l,objectWithContext:e,iconSize:24,onClick:()=>w(e.object.getName()),selectedValue:S?Object(E.e)(S):void 0})),U.length>0&&o.createElement(p.a,null,o.createElement(r.Trans,{id:"Object groups"})),U.map(e=>(({groupWithContext:e,iconSize:t,onClick:n,selectedValue:a})=>{const r=e.group.getName();return o.createElement(c.b,{key:Object(E.c)(e),selected:a===Object(E.e)(r),primaryText:r,leftIcon:o.createElement(f.a,{iconSize:t,src:"res/ribbon_default/objectsgroups64.png"}),onClick:n})})({groupWithContext:e,iconSize:24,onClick:()=>w(e.group.getName()),selectedValue:S?Object(E.e)(S):void 0}))),V&&G.length>0&&o.createElement(p.a,null,k?o.createElement(r.Trans,{id:"Conditions"}):o.createElement(r.Trans,{id:"Actions"})),V&&G.map(e=>Object(y.a)({instructionOrExpressionMetadata:e,iconSize:24,onClick:()=>T(e.type,e),selectedValue:j?Object(E.b)(j):void 0})),!V&&"free-instructions"===N&&Object(C.a)({instructionTreeNode:this.freeInstructionsInfoTree,onChoose:T,iconSize:24,selectedValue:j?Object(E.b)(j):void 0,initiallyOpenedPath:this.initialInstructionTypePath,selectedItemRef:this._selectedItem}),z>0&&o.createElement(c.b,{primaryText:o.createElement(r.Trans,{id:"And {remainingResultsCount} more results.",values:{remainingResultsCount:z}}),disabled:!0,secondaryText:o.createElement(r.Trans,{id:"Refine your search with more specific keyword to see them."})})),!V&&"objects"===N&&!L.length&&o.createElement(x.a,null,M?o.createElement(r.Trans,{id:"There are no objects. Objects will appear if you add some as parameters."}):o.createElement(r.Trans,{id:"There is no object in your game or in this scene. Start by adding an new object in the scene editor, using the objects list."})),!H&&o.createElement(x.a,null,o.createElement(r.Trans,{id:"Nothing corresponding to your search. Choose an object first or browse the list of actions/conditions."}))))))}}},918:function(e,t,n){"use strict";var a=n(71),r=n(4),o=n(139),i=n(73),s=n(115),l=n(151),c=n(237),u=n(846),d=n(847),h=n(77),m=n(2483),p=n(80),g=n(848),b=n.n(g),f=n(849),E=n.n(f),v=n(850),y=n.n(v),C=n(83),x=n(201);const j={previewBackground:{background:'url("res/transparentback.png") repeat',display:"flex",justifyContent:"center",alignItems:"center"},previewImage:{objectFit:"contain",verticalAlign:"middle",pointerEvents:"none"},previewIcon:{width:40,height:40},cardContainer:{overflow:"hidden",position:"relative"},titleContainer:{position:"absolute",bottom:0,left:0,right:0,height:48,color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"rgb(0,0,0,0.5)"},title:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},icon:{width:32,height:32},audioElement:{width:128,height:40}},O=({resource:e,onChoose:t,size:n,imageStyle:a})=>r.createElement(m.a,{onClick:t,focusRipple:!0},r.createElement("div",{style:Object(h.a)(Object(h.a)({},j.cardContainer),{},{width:n,height:n})},r.createElement("div",{style:Object(h.a)(Object(h.a)({},j.previewBackground),{},{width:n,height:n})},r.createElement(x.a,{key:e.url,style:Object(h.a)(Object(h.a)({},j.previewImage),{},{maxWidth:108,maxHeight:108},a),src:e.url,alt:e.name})),r.createElement("div",{style:j.titleContainer},r.createElement(p.a,{noMargin:!0,style:j.title},e.name),r.createElement(p.a,{noMargin:!0,style:j.title,size:"body2"},e.license)))),T=({resource:e,onChoose:t,size:n,children:a})=>r.createElement("div",{style:Object(h.a)(Object(h.a)({},j.cardContainer),{},{width:n,height:n})},r.createElement(i.a,null,a),r.createElement("div",{style:j.titleContainer},r.createElement(p.a,{noMargin:!0,style:j.title},e.name),r.createElement(p.a,{noMargin:!0,style:j.title,size:"body2"},e.license))),S=({resource:e,onChoose:t,size:n})=>{switch(e.type){case"image":return r.createElement(O,{resource:e,onChoose:t,size:n});case"svg":return r.createElement(O,{resource:e,onChoose:t,size:n,imageStyle:j.previewIcon});case"audio":return r.createElement(T,{onChoose:t,resource:e,size:n},r.createElement(i.b,{justifyContent:"center"},r.createElement("audio",{controls:!0,src:e.url,style:j.audioElement},"Audio preview is unsupported.")),r.createElement(i.b,{justifyContent:"center"},r.createElement(C.a,{onClick:t,label:r.createElement(a.Trans,{id:"Choose"})})));case"json":return r.createElement(T,{onChoose:t,resource:e,size:n},r.createElement(i.b,{justifyContent:"center"},r.createElement(b.a,{style:j.icon})),r.createElement(i.b,{justifyContent:"center"},r.createElement(C.a,{onClick:t,label:r.createElement(a.Trans,{id:"Choose"})})));case"video":return r.createElement(T,{onChoose:t,resource:e,size:n},r.createElement(i.b,{justifyContent:"center"},r.createElement(E.a,{style:j.icon})),r.createElement(i.b,{justifyContent:"center"},r.createElement(C.a,{onClick:t,label:r.createElement(a.Trans,{id:"Choose"})})));case"font":return r.createElement(T,{onChoose:t,resource:e,size:n},r.createElement(i.b,{justifyContent:"center"},r.createElement(y.a,{style:j.icon})),r.createElement(i.b,{justifyContent:"center"},r.createElement(C.a,{onClick:t,label:r.createElement(a.Trans,{id:"Choose"})})));default:return null}};var w=n(149),k=n(565);n.d(t,"a",(function(){return _}));const N={searchBar:{flexShrink:0}},_=({onChoose:e,resourceKind:t})=>{const n=r.useContext(u.a),h=n.filters,m=n.searchResults,p=n.error,g=n.fetchResourcesAndFilters,b=n.filtersState,f=n.searchText,E=n.setSearchText;r.useEffect(()=>{g()},[g]);const v=m?m.filter(e=>e.type===t):null;return r.createElement(i.a,{expand:!0,noMargin:!0,useFullHeight:!0},r.createElement(o.a,{value:f,onChange:E,onRequestSearch:()=>{},style:N.searchBar}),r.createElement(i.b,{overflow:"hidden"},r.createElement(s.a,{noFullHeight:!0,noExpand:!0,width:250},r.createElement(l.a,null,r.createElement(w.a,null,r.createElement(a.Trans,{id:"Categories"})),r.createElement(k.a,{allItemsLabel:r.createElement(a.Trans,{id:"All assets"}),allFilters:h,filtersState:b,error:p}),r.createElement(w.a,null,r.createElement(a.Trans,{id:"Filters"})),r.createElement(c.a,{allFilters:h,filtersState:b,error:p}))),r.createElement(d.a,{baseSize:128,onRetry:g,error:p,searchItems:v,renderSearchItem:(t,n)=>r.createElement(S,{size:n,resource:t,onChoose:()=>e(t)})})))}},92:function(e,t,n){"use strict";var a=n(77),r=n(4),o=n(97),i=n(171);const s={display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:10};t.a=e=>r.createElement(o.a,null,t=>r.createElement("div",{style:Object(a.a)(Object(a.a)({},s),e.style)},r.createElement(i.a,{style:e.messageStyle},e.children)))},920:function(e,t,n){"use strict";var a=n(100),r=n.n(a),o=n(107),i=n(87),s=n(71),l=n(4),c=n(2410),u=n(906),d=n(81),h=n(73),m=n(380),p=n(504),g=n.n(p),b=n(84),f=n(153),E=n(102),v=n(88),y=n(92),C=n(80),x=n(170),j=n.n(x),O=n(24);const T=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){var i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return i=e.sent,e.next=5,j.a.get("".concat(O.a.baseUrl,"/game-metrics"),{params:{userId:n,gameId:a,dayIsoDate:o},headers:{Authorization:i},validateStatus:e=>e>=200&&e<300||404===e});case 5:if(404!==(s=e.sent).status){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}();var S=n(215),w=n(236),k=n(111),N=n(112),_=n(2403),P=n(156),I=n(124),B=n(2307),R=n(83),M=n(5),F=n(106);n.d(t,"a",(function(){return A}));const L={bigIcon:{width:48,height:48,marginTop:8}},A=({game:e,project:t,initialTab:n,onClose:a,onGameUpdated:p,onGameDeleted:x})=>{const j=l.useContext(S.a),O=j.getAuthorizationHeader,A=j.profile,D=l.useState(n),U=Object(i.a)(D,2),V=U[0],W=U[1],G=l.useState(null),z=Object(i.a)(G,2),H=z[0],K=z[1],Y=l.useState(null),X=Object(i.a)(Y,2),J=X[0],q=X[1],Z=l.useState(!1),Q=Object(i.a)(Z,2),$=Q[0],ee=Q[1],te=Object(c.a)(Object(B.a)(new Date,1),{representation:"date"}),ne=l.useState(te),ae=Object(i.a)(ne,2),re=ae[0],oe=ae[1],ie=l.useCallback(Object(o.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(A){t.next=2;break}return t.abrupt("return");case 2:return n=A.uid,ee(!0),q(null),t.prev=5,t.next=8,T(O,n,e.id,re);case 8:a=t.sent,K(a),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),console.error("Unable to load game rolling metrics:",t.t0),q(t.t0);case 16:ee(!1);case 17:case"end":return t.stop()}}),t,null,[[5,12]])}))),[O,A,e,re]);l.useEffect(()=>{ie()},[ie]);const se=function(){var e=Object(o.a)(r.a.mark((function e(){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(A){e.next=4;break}return e.abrupt("return");case 4:return n=A.uid,e.prev=5,e.next=8,Object(m.f)(O,n,{authorName:t.getAuthor(),gameId:t.getProjectUuid(),gameName:t.getName()});case 8:a=e.sent,p(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Unable to update the game:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var t=Object(o.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(A){t.next=2;break}return t.abrupt("return");case 2:return n=A.uid,t.prev=3,t.next=6,Object(m.a)(O,n,e.id);case 6:x(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.error("Unable to delete the game:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(){return t.apply(this,arguments)}}();return l.createElement(b.a,{title:l.createElement("span",null,e.gameName," - ",l.createElement(s.Trans,{id:"Dashboard"})),open:!0,noMargin:!0,onRequestClose:a,maxWidth:"md",actions:[l.createElement(d.a,{label:l.createElement(s.Trans,{id:"Close"}),onClick:a,key:"close"})],secondaryActions:[l.createElement(F.a,{key:"help",helpPagePath:"/interface/games-dashboard"})]},l.createElement(f.b,{value:V,onChange:W},l.createElement(f.a,{label:l.createElement(s.Trans,{id:"Details"}),value:"details"}),l.createElement(f.a,{label:l.createElement(s.Trans,{id:"Analytics"}),value:"analytics"}),l.createElement(f.a,{label:l.createElement(s.Trans,{id:"Monetization"}),value:"monetization"})),l.createElement(h.b,null,"details"===V?l.createElement(v.a,{expand:!0},l.createElement(C.a,null,l.createElement(s.Trans,{id:"Registered on {0}.",values:{0:Object(u.a)(1e3*e.createdAt,"yyyy-MM-dd")}})),l.createElement(E.a,{fullWidth:!0,disabled:!0,value:e.gameName,onChange:()=>{},floatingLabelText:l.createElement(s.Trans,{id:"Game name"})}),l.createElement(E.a,{fullWidth:!0,disabled:!0,value:e.authorName,onChange:()=>{},floatingLabelText:l.createElement(s.Trans,{id:"Author name"})}),l.createElement(h.b,{noMargin:!0,justifyContent:"space-between"},l.createElement(d.a,{onClick:()=>{M.b.showConfirmDialog("Are you sure you want to unregister this game? You won't get access to analytics and metrics, unless you register it again.")&&le()},label:l.createElement(s.Trans,{id:"Unregister this game"})}),((e,t)=>!!e&&(e.getAuthor()!==t.authorName||e.getName()!==t.gameName))(t,e)?l.createElement(R.a,{primary:!0,onClick:()=>{se()},label:l.createElement(s.Trans,{id:"Update the game details from the project"})}):null)):null,"analytics"===V?J?l.createElement(w.a,{onRetry:()=>{ie()}},l.createElement(s.Trans,{id:"There was an issue getting the game analytics."})," ",l.createElement(s.Trans,{id:"Verify your internet connection or try again later."})):l.createElement(v.a,{expand:!0},l.createElement(h.b,{noMargin:!0},l.createElement(k.a,{fullWidth:!0,floatingLabelText:l.createElement(s.Trans,{id:"Day"}),value:re,onChange:(e,t,n)=>{oe(n)}},Array(5).fill("").map((e,t)=>{const n=Object(c.a)(Object(B.a)(new Date,t+2),{representation:"date"});return l.createElement(N.a,{key:n,value:n,primaryText:n})}).reverse(),l.createElement(N.a,{value:te,primaryText:{id:"Yesterday"}}),l.createElement(N.a,{value:Object(c.a)(new Date,{representation:"date"}),primaryText:{id:"Today (so far, in real time)"}}))),$||H?null:l.createElement(I.a,{kind:"warning"},l.createElement(s.Trans,{id:"There were no players or stored metrics for this day. Be sure to publish your game and get players to try it to see the collected anonymous analytics."})),l.createElement(h.b,{noMargin:!0,alignItems:"center"},l.createElement(C.a,{size:"title"},l.createElement(s.Trans,{id:"Main metrics"})),l.createElement(h.c,null),$&&l.createElement(_.a,{size:20})),l.createElement(P.a,null,l.createElement(P.b,null,l.createElement(P.e,null,l.createElement(P.f,null,l.createElement(s.Trans,{id:"Players count"})),l.createElement(P.f,null,H&&H.players?H.players.d0Players:"-")),l.createElement(P.e,null,l.createElement(P.f,null,l.createElement(s.Trans,{id:"Sessions count"})),l.createElement(P.f,null,H&&H.sessions?H.sessions.d0Sessions:"-")),l.createElement(P.e,null,l.createElement(P.f,null,l.createElement(s.Trans,{id:"New players count"})),l.createElement(P.f,null,H&&H.players?H.players.d0NewPlayers:"-")))),!H||H.retention&&H.players?null:l.createElement(I.a,{kind:"info"},"Upgrade your account with a subscription to unlock all the metrics for your game."),l.createElement(h.b,{noMargin:!0,alignItems:"center"},l.createElement(C.a,{size:"title"},l.createElement(s.Trans,{id:"Retention of players"})),l.createElement(h.c,null),$&&l.createElement(_.a,{size:20})),l.createElement(P.a,null,l.createElement(P.b,null,[1,2,3,4,5,6,7].map(e=>l.createElement(P.e,{key:e},l.createElement(P.f,null,l.createElement(s.Trans,{id:"Day {dayIndex} retained players",values:{dayIndex:e}})),l.createElement(P.f,null,H&&H.retention&&null!=H.retention["d".concat(e,"RetainedPlayers")]?H.retention["d".concat(e,"RetainedPlayers")]:"-")))))):null,"monetization"===V?l.createElement(v.a,{expand:!0},l.createElement(h.b,{noMargin:!0,justifyContent:"center"},l.createElement(g.a,{color:"disabled",style:L.bigIcon})),l.createElement(y.a,null,"Services to help monetization of your game will be added later in this panel.")):null))}},921:function(e,t,n){"use strict";var a=n(136),r=n(71),o=n(4),i=n.n(o),s=n(194),l=n(115),c=n(139),u=n(77),d=n(99),h=n(93),m=n(97),p=n(126);const g={groupName:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},textField:{top:h.c}};class b extends i.a.Component{componentDidUpdate(e){!e.editingName&&this.props.editingName&&setTimeout(()=>{this.textField&&this.textField.focus()},100)}render(){const e=this.props,t=e.group,n=e.style,a=e.isGlobalGroup,o=t.getName(),s=this.props.editingName?i.a.createElement(h.b,{id:"rename-object-field",margin:"none",ref:e=>this.textField=e,defaultValue:o,onBlur:e=>this.props.onRename(e.target.value),onKeyPress:e=>{Object(p.e)(e)&&this.textField.blur()},fullWidth:!0,style:g.textField}):i.a.createElement("div",{style:Object(u.a)(Object(u.a)({},g.groupName),{},{fontStyle:a?"italic":void 0,fontWeight:a?"bold":"normal"})},o);return i.a.createElement(m.a,null,e=>i.a.createElement(r.I18n,null,({i18n:a})=>i.a.createElement(d.b,{style:Object(u.a)({borderBottom:"1px solid ".concat(e.listItem.separatorColor)},n),primaryText:s,displayMenuButton:!0,buildMenuTemplate:e=>[{label:e._({id:"Edit group"}),click:()=>this.props.onEdit(t)},{label:e._({id:"Set as Global group"}),enabled:!this.props.isGlobalGroup,click:()=>this.props.onSetAsGlobalGroup(),visible:!1!==this.props.canSetAsGlobalGroup},{label:e._({id:"Rename"}),enabled:!!this.props.onEdit,click:()=>this.props.onEditName()},{label:e._({id:"Delete"}),enabled:!!this.props.onEdit,click:()=>this.props.onDelete()}],onClick:()=>{this.props.editingName||this.props.onEdit(t)}})))}}var f=n(122),E=n(22),v=n(470),y=n(214),C=n(188),x=n(5);n.d(t,"a",(function(){return k}));const j={listContainer:{flex:1}},O=Object(y.SortableElement)(e=>{const t=e.style,n=Object(a.a)(e,["style"]);return i.a.createElement("div",{style:t},i.a.createElement(b,n))}),T=Object(y.SortableElement)(e=>{const t=e.style,n=Object(a.a)(e,["style"]);return i.a.createElement("div",{style:t},i.a.createElement(v.a,n))});class S extends o.Component{forceUpdateGrid(){this.list&&this.list.forceUpdateGrid()}render(){const e=this.props,t=e.height,n=e.width,a=e.fullList;return i.a.createElement(s.d,{ref:e=>this.list=e,height:t,rowCount:a.length,rowHeight:d.d,rowRenderer:({index:e,key:t,style:n})=>{const o=a[e];if("add-groups-row"===o.key)return i.a.createElement(T,{index:a.length,key:t,style:n,disabled:!0,onClick:this.props.onAddGroup,primaryText:i.a.createElement(r.Trans,{id:"Click to add a group"})});const s=this.props.renamedGroupWithScope&&this.props.renamedGroupWithScope.group===o.group&&this.props.renamedGroupWithScope.global===o.global;return i.a.createElement(O,{index:e,key:o.group.ptr,group:o.group,style:n,onEdit:this.props.onEditGroup?()=>this.props.onEditGroup(o.group):void 0,onEditName:()=>this.props.onEditName(o),onDelete:()=>this.props.onDelete(o),onRename:e=>this.props.onRename(o,e),editingName:s,isGlobalGroup:o.global,canSetAsGlobalGroup:this.props.canSetAsGlobalGroup,onSetAsGlobalGroup:o.global?void 0:()=>this.props.onSetAsGlobalGroup(o)})},width:n})}}const w=Object(y.SortableContainer)(S,{withRef:!0});class k extends i.a.Component{constructor(...e){super(...e),this.objectGroupsList=[],this.globalObjectGroupsList=[],this.state={renamedGroupWithScope:null,searchText:""},this.addGroup=()=>{const e=this.props,t=e.globalObjectGroups,n=e.objectGroups,a=Object(f.a)("Group",e=>n.has(e)||t.has(e));n.insertNew(a,n.count()),this._onObjectGroupModified(),this.props.onGroupAdded&&this.props.onGroupAdded()},this._onDelete=e=>{const t=e.group,n=e.global,a=this.props,r=a.globalObjectGroups,o=a.objectGroups;x.b.showConfirmDialog("Are you sure you want to remove this group? This can't be undone.")&&this.props.onDeleteGroup(e,e=>{e&&(n?r.remove(t.getName()):o.remove(t.getName()),this._onObjectGroupModified(),this.props.onGroupRemoved&&this.props.onGroupRemoved())})},this._onEditName=e=>{this.setState({renamedGroupWithScope:e},()=>this.sortableList.getWrappedInstance().forceUpdateGrid())},this._onRename=(e,t)=>{const n=e.group,a=this.props,r=a.globalObjectGroups,o=a.objectGroups;this.setState({renamedGroupWithScope:null}),n.getName()!==t&&(o.has(t)||r.has(t)?Object(E.c)("Another object with this name already exists",{delayToNextTick:!0}):this.props.canRenameGroup(t)&&this.props.onRenameGroup(e,t,e=>{e&&(n.setName(t),this._onObjectGroupModified(),this.props.onGroupRenamed&&this.props.onGroupRenamed())}))},this._onMove=(e,t)=>{const n=this.props,a=n.globalObjectGroups,r=n.objectGroups;if(e<this.objectGroupsList.length)r.move(e,Math.min(t,this.objectGroupsList.length-1));else{const n=e-this.objectGroupsList.length,r=t-this.objectGroupsList.length;a.move(n,Math.min(r,this.globalObjectGroupsList.length-1))}this._onObjectGroupModified(),this.sortableList.getWrappedInstance().forceUpdateGrid()},this._setAsGlobalGroup=e=>{const t=e.group,n=this.props,a=n.globalObjectGroups,r=n.objectGroups,o=t.getName();if(a.has(o))return void Object(E.c)("A global object with this name already exists. Please change the object name before setting it as a global object",{delayToNextTick:!0});x.b.showConfirmDialog("This group will be loaded and available in all the scenes. This is only recommended for groups that you reuse a lot and can't be undone. Make this group global?")&&(a.insert(t,a.count()),r.remove(o),this._onObjectGroupModified())},this._onObjectGroupModified=()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}}shouldComponentUpdate(e,t){return this.state.renamedGroupWithScope!==t.renamedGroupWithScope||this.state.searchText!==t.searchText||(this.props.globalObjectGroups!==e.globalObjectGroups||this.props.objectGroups!==e.objectGroups)}render(){const e=this.props,t=e.globalObjectGroups,n=e.objectGroups,a=this.state.searchText,r=Object(C.a)(n).map(e=>({group:e,global:!1})),o=Object(C.a)(t).map(e=>({group:e,global:!0}));this.objectGroupsList=Object(C.e)(r,a),this.globalObjectGroupsList=Object(C.e)(o,a);const u=Object(C.e)([...r,...o],a).concat({key:"add-groups-row",object:null}),d=n.ptr+";"+t.ptr;return i.a.createElement(l.a,null,i.a.createElement("div",{style:j.listContainer},i.a.createElement(s.a,null,({height:e,width:t})=>i.a.createElement(w,{key:d,ref:e=>this.sortableList=e,fullList:u,width:t,height:e,renamedGroupWithScope:this.state.renamedGroupWithScope,onEditGroup:this.props.onEditGroup,onAddGroup:this.addGroup,onEditName:this._onEditName,onDelete:this._onDelete,onRename:this._onRename,canSetAsGlobalGroup:this.props.canSetAsGlobalGroup,onSetAsGlobalGroup:this._setAsGlobalGroup,onSortEnd:({oldIndex:e,newIndex:t})=>this._onMove(e,t),helperClass:"sortable-helper",distance:20}))),i.a.createElement(c.a,{value:a,onRequestSearch:()=>{},onChange:e=>this.setState({searchText:e})}))}}k.defaultProps={onDeleteGroup:(e,t)=>t(!0),onRenameGroup:(e,t,n)=>n(!0)}},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var a=n(77),r=n(4),o=n(71),i=n(2478),s=n(211);const l=e=>({variant:"none"===e.margin?"standard":"filled",margin:"none"===e.margin?"none":"dense",hiddenLabel:"none"!==e.margin&&!e.floatingLabelText});class c extends r.Component{constructor(...e){super(...e),this._input=r.createRef()}focus(){this._input.current&&this._input.current.focus()}blur(){this._input.current&&this._input.current.blur()}getInputNode(){return this._input.current?this._input.current:null}render(){const e=this.props,t=e.onChange||void 0,n=e.helperMarkdownText?r.createElement(s.a,{source:e.helperMarkdownText}):null;return r.createElement(o.I18n,null,({i18n:o})=>r.createElement(i.a,Object.assign({type:void 0!==e.type?e.type:void 0,value:void 0!==e.value?e.value:void 0,defaultValue:void 0!==e.defaultValue?e.defaultValue:void 0,onChange:t?e=>t(e,e.target.value):void 0,error:!!e.errorText,helperText:e.errorText||n,disabled:e.disabled,InputLabelProps:{shrink:!!e.floatingLabelFixed||void 0},label:e.floatingLabelText,name:e.name,placeholder:e.hintText?o._(e.hintText):void 0,id:e.id,autoFocus:e.autoFocus,multiline:e.multiline,rows:e.rows,rowsMax:e.rowsMax},l(e),{fullWidth:e.fullWidth,InputProps:{disableUnderline:void 0!==e.underlineShow&&!e.underlineShow,style:Object(a.a)({fontSize:e.style?e.style.fontSize:void 0,fontStyle:e.style?e.style.fontStyle:void 0},e.inputStyle),inputProps:{onKeyPress:e.onKeyPress,onKeyUp:e.onKeyUp,onKeyDown:e.onKeyDown,onClick:e.onClick,max:e.max,min:e.min,step:e.step}},style:e.style?{width:e.style.width||void 0,flex:e.style.flex||void 0,top:e.style.top||void 0}:void 0,onFocus:e.onFocus,onBlur:e.onBlur,inputRef:this._input,spellCheck:"false"})))}}const u=0},95:function(e,t,n){"use strict";var a=n(136),r=n(4),o=n(2373),i=n(2378),s=n(71),l=n(25);n.d(t,"a",(function(){return c}));class c extends r.Component{render(){const e=this.props,t=e.tooltip,n=e.acceleratorString,c=Object(a.a)(e,["tooltip","acceleratorString"]),u=r.createElement(o.a,c);return t&&!this.props.disabled?r.createElement(s.I18n,null,({i18n:e})=>{return r.createElement(i.a,{title:e._(t)+(n?" "+(a=n,Object(l.f)()?"":Object(l.e)()?a.replace(/CmdOrCtrl\+/,"\u2318").replace(/CommandOrControl\+/,"\u2318").replace(/Super\+/,"\u2318").replace(/Shift\+/,"\u21e7").replace(/Alt\+/,"\u2325").replace(/Option\+/,"\u2325").replace(/Delete/,"\u2326").replace(/Backspace/,"\u232b"):a.replace(/CmdOrCtrl\+/,"Ctrl+").replace(/CommandOrControl\+/,"Ctrl+").replace(/Super\+/,"Win+").replace(/Option\+/,"Alt+").replace(/Delete/,"DEL")):""),placement:"bottom",enterDelay:300},u);var a}):u}}},97:function(e,t,n){"use strict";var a=n(4),r=n(224);t.a=e=>a.createElement(r.a.Consumer,null,t=>e.children(t))},989:function(e,t,n){},99:function(e,t,n){"use strict";n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return I})),n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return M}));var a=n(77),r=n(87),o=n(4),i=n(2386),s=n(2383),l=n(2389),c=n(2390),u=n(2402),d=n(631),h=n.n(d),m=n(359),p=n.n(m),g=n(2373),b=n(1097),f=n.n(b),E=n(308),v=n.n(E),y=n(309),C=n.n(y),x=n(1098),j=n.n(x),O=n(138),T=n(2378),S=n(147),w=n.n(S),k=n(630),N=n.n(k),_=n(307);const P=32,I=29,B={listItemText:{margin:"1px 0"}},R=o.forwardRef((e,t)=>{const n=o.useState(!!e.initiallyOpen),d=Object(r.a)(n,2),m=d[0],b=d[1],E=o.useRef(null),y=o.useCallback(()=>{E.current&&E.current.open()},[E]),x=Object(_.a)(y),S=()=>e.displayReloadButton?o.createElement(u.a,null,o.createElement(T.a,{title:e.reloadButtonTooltip},o.createElement(g.a,{size:"small",edge:"end","aria-label":"reload",onClick:e.onReload},o.createElement(f.a,null)))):e.buildMenuTemplate?e.displayMenuButton?o.createElement(u.a,null,o.createElement(O.a,{ref:E,element:o.createElement(g.a,{size:"small",edge:"end","aria-label":"menu"},o.createElement(v.a,{style:{color:e.rightIconColor}})),buildMenuTemplate:e.buildMenuTemplate})):o.createElement(O.a,{ref:E,element:o.createElement("div",null),buildMenuTemplate:e.buildMenuTemplate}):e.displayLinkButton?o.createElement(u.a,null,o.createElement(g.a,{size:"small",edge:"end","aria-label":"open link",onClick:e.onOpenLink},o.createElement(C.a,{style:{color:e.rightIconColor}}))):e.displayRemoveButton?o.createElement(u.a,null,o.createElement(g.a,{size:"small",edge:"end","aria-label":"remove",onClick:e.onRemove},o.createElement(j.a,{style:{color:e.rightIconColor}}))):null,k=e.renderNestedItems;if(k){const n=void 0===e.open?m:e.open;return o.createElement(o.Fragment,null,o.createElement(s.a,{button:!0,dense:!0,disableRipple:!0,onClick:()=>{b(!n),e.onClick&&e.onClick()},disabled:e.disabled,style:e.style,ref:t},e.leftIcon&&o.createElement(l.a,null,e.leftIcon),o.createElement(c.a,{style:B.listItemText,primary:e.primaryText,secondary:e.secondaryText}),e.autoGenerateNestedIndicator?n?o.createElement(h.a,null):o.createElement(p.a,null):null,S()),n&&o.createElement(i.a,{component:"div",disablePadding:!0,style:Object(a.a)({paddingLeft:16},e.nestedListStyle),dense:!0},k()))}return o.createElement(s.a,Object.assign({button:!0,dense:!0,disableRipple:!0,ContainerComponent:"div",onClick:e.onClick,onDoubleClick:e.onDoubleClick,disabled:e.disabled,selected:e.selected,style:e.style,onContextMenu:e.buildMenuTemplate?y:void 0},x,{alignItems:2===e.secondaryTextLines?"flex-start":void 0,ref:t}),e.leftIcon&&o.createElement(l.a,null,e.leftIcon),o.createElement(c.a,{style:B.listItemText,primary:e.primaryText,secondary:e.secondaryText}),S(),e.displayAddIcon&&o.createElement(w.a,{style:{color:e.rightIconColor}}),e.displaySearchIcon&&o.createElement(N.a,{style:{color:e.rightIconColor}}))});class M extends o.Component{render(){return o.createElement(i.a,{style:this.props.style,dense:!0},this.props.children)}}},990:function(e){e.exports=JSON.parse('{"GdevelopColorLightBlue":"#4ab0e4","GdevelopColorBlue":"#2c6bf5","GdevelopColorDarkBlue":"#3c4698","GdevelopColorPurple":"#9100ce","GdevelopColorContrastText":"#fff","GdevelopColorSelection":"#4c92ff","GdevelopFontFamily":"-apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen-Sans, Ubuntu, \'Helvetica Neue\', Helvetica, sans-serif, \'Apple Color Emoji\', \'Segoe UI Emoji\', \'Segoe UI Symbol\'","ThemePrimaryColor":"#4ab0e4","ThemePrimaryTextContrastColor":"#fff","ThemeSecondaryColor":"#9100ce","ThemeSecondaryTextContrastColor":"#fff","ThemeSurfaceWindowBackgroundColor":"#f7f7f7","ThemeSurfaceCanvasBackgroundColor":"#f0f0f0","ThemeSurfaceAlternateCanvasBackgroundColor":"#ffffff","ThemeSelectionBackgroundColor":"#4c92ff","ThemeSelectionColor":"white","ThemeTextDefaultColor":"#000","ThemeTextSecondaryColor":"#000","ThemeTextDisabledColor":"#888888","ThemeTextContrastColor":"white","ThemeMessageWarningColor":"#ffa500","ThemeMessageErrorColor":"#f00","ThemeMessageValidColor":"#00aa00","ThemeMessageEmptyShadowColor":"white","ThemeToolbarSeparatorColor":"#cecece","ThemeClosableTabsDefaultBackgroundColor":"#f0f0f0","ThemeClosableTabsDefaultColor":"#878787","ThemeClosableTabsSelectedBackgroundColor":"#4ab0e4","ThemeClosableTabsSelectedColor":"#ffffff","ThemeListItemGroupTextColor":"rgba(0,0,0,0.54)","ThemeListItemGroupTextDeprecatedColor":"rgba(0,0,0,0.30)","ThemeListItemSeparatorColor":"#e0e0e0","ThemeListItemWarningColor":"#ffb032","ThemeListItemErrorColor":"#ff2e16","ThemeRightIconColor":"#111","ThemePaletteBlack":"#6e2a2a","ThemePaletteWhite":"#fff","InputBorderBottomColor":"#BBBBBB","TabsBackgroundColor":"#4ab0e4","EventSheetEventTreeBackgroundColor":"#f0f0f2","EventSheetRstMoveHandleBackgroundColor":"#4ab0e4","EventSheetRstMoveHandleHoverBackgroundColor":"#84d2ff","EventSheetRstLineBackgroundColor":"black","EventSheetRstRowContentsBackgroundColor":"#f0f0f2","EventSheetRstRowContentsColor":"black","EventSheetRstRowSearchBorderColor":"#18dcf2","EventSheetRstRowSearchBorderLeftWidthMatch":"3px","EventSheetRstRowSearchBorderLeftWidthFocus":"5px","EventSheetRstWithResultsBackgroundColor":"#d3d3d3","EventSheetRstWithResultsBorder":"1px #d3d3d3 solid","EventSheetSelectableBackgroundColor":"rgba(0, 0, 0, 0.1)","EventSheetSelectableBorder":"1px #f0f0f2 solid","EventSheetSelectableSelectedBorder":"1px #4ab0e4 solid","EventSheetConditionsBackgroundColor":"#f1f2f2","EventSheetConditionsBorderColor":"#e2e2e2","EventSheetConditionsBorder":"1px solid #e2e2e2","EventSheetConditionsColor":"black","EventSheetConditionsBorderRightColor":"#e2e2e2","EventSheetConditionsBorderBottomColor":"#e2e2e2","EventSheetActionsBackgroundColor":"white","EventSheetActionsColor":"black","EventSheetSubInstructionsBorderColor":"#d3d3d3","EventSheetSubInstructionsBorder":"1px solid #d3d3d3","EventSheetInstructionParameterBaseColor":"rgb(78, 78, 78)","EventSheetInstructionParameterExpressionColor":"rgb(27, 143, 1)","EventSheetInstructionParameterObjectColor":"#3c4698","EventSheetInstructionParameterBehaviorColor":"rgb(119, 119, 119)","EventSheetInstructionParameterOperatorColor":"rgb(55, 131, 211)","EventSheetInstructionParameterVarColor":"rgb(131, 55, 162)","EventSheetInstructionParameterErrorColor":"#bb0000","EventSheetInstructionParameterErrorBackgroundColor":"rgba(243, 0, 12, 0.15)","EventSheetDropIndicatorCanDropBorderTopColor":"black","EventSheetDropIndicatorCannotDropBorderTopColor":"#ff5c5c","EventSheetLinkContainerBackgroundColor":"#f1f2f2","EventSheetLinkContainerColor":"black","EventSheetLinkSelectableLinkColor":"#3c4698","MarkdownBlockquoteBorderLeftColor":"rgba(0, 0, 0, 0.6)","MarkdownLinkColor":"rgb(74, 176, 228)","MosaicTitleColor":"white","MosaicLayoutBorderColor":"#bbbbbb","MosaicLayoutBackgroundColor":"#e0e0e0","MosaicToolbarBackgroundColor":"#9100ce","MosaicToolbarBorderColorHover":"#2b95d6","TableBorderColor":"#e0e0e0","TableTextColor":"black","TableTextColorHeader":"rgb(158, 158, 158)","TableRowOddBackgroundColor":"#fafafa","TableRowEvenBackgroundColor":"white","TableRowSelectedBackgroundColor":"#4c92ff","TableRowSelectedColor":"white"}')},991:function(e,t,n){}}]);
//# sourceMappingURL=1.ff5e439a.chunk.js.map