(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{100:function(e,t,n){"use strict";var a=n(10),r=n(399);t.a=function(e){return a.createElement(r.a.Consumer,null,function(t){return e.children(t)})}},1002:function(e,t,n){},1003:function(e,t,n){},1004:function(e,t,n){},1005:function(e,t,n){},1006:function(e,t,n){"use strict";n.d(t,"a",function(){return x});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(103),p=n(92),m=n(88),h=n(179),f=n(80),g=n(3),b=n(89),v=n(142),E=n(567),y=n(839),j=n(29),O={logo:{width:"100%"}},C=[{name:"Victor Levasseur",description:"Numerous contributions to GDevelop core and various extensions"},{name:"Lizard-13",description:"Numerous contributions to GDevelop (particle engine, bugfixes, new conditions, examples, tutorials...)"},{name:"Christina 'Castpixel' Antoinette Neofotistou",description:"Art and assets for the 8-bit Space Shooter example.",link:"https://www.patreon.com/castpixel"},{name:"ale26reg",description:"Contributions to GDevelop"},{name:"dos1",description:"Contributions to GDevelop"},{name:"Bouh",description:"Contributions to GDevelop"},{name:"Todor Imreorov",description:"Numerous contributions to GDevelop, added Piskel sprite editor and jfxr"},{name:"brylie",description:"Contributions to GDevelop"},{name:"Nnarol",description:"Contributions to GDevelop"},{name:"wild-master",description:"Contributions to GDevelop"},{name:"RandomShaper",description:"Contributions to GDevelop"},{name:"RyanNerd",description:"Contributions to GDevelop"},{name:"greater",description:"Contributions to GDevelop"},{name:"triptych",description:"Contributions to GDevelop"},{name:"Wend1go",description:"Contributions to GDevelop, Tutorials, Examples"},{name:"mattiascibien",description:"Contributions to GDevelop"},{name:"araujo921",description:"Contributions to GDevelop"},{name:"ronnystandtke",description:"Contributions to GDevelop"},{name:"Thomas Flecy",description:"Contributions to GDevelop (original sound object extension)"},{name:"ddabrahim",description:"Lots of examples bundled with GDevelop",link:"https://gametemplates.itch.io/"},{name:"Gametemplates",description:"Examples bundled with GDevelop",link:"https://gametemplates.itch.io/"},{name:"Mats",description:"Tutorials, Examples"},{name:"erdo",description:"Tutorials, Examples"},{name:"Jubileuksen3",description:"Tutorials, Examples"},{name:"LucaTexas",description:"Tutorials, Examples"},{name:"Kink",description:"Forum moderator, tutorials, Examples"},{name:"RicoTrooper",description:"Tutorials"},{name:"kalel",description:"Tutorials"},{name:"mtarzaim",description:"Tutorials"},{name:"Darkhog",description:"Examples"},{name:"Ricardo Graca",description:"Tutorials, Examples"},{name:"Diego Schiavon",description:"Indiegogo Ubuntu contributor"},{name:"conceptgame",description:"Indiegogo super contributor"},{name:"Jose David Cuartas Correa",description:"Author of Digitopolis (a book on how to make games with GDevelop4)"},{name:"Fran\xe7ois Dumortier",description:"GDevelop logo design",link:"http://www.fdumortier.com"},{name:"Constantine Shvetsov",description:"Design of all the awesome icons"},{name:"MillionthVector",description:"Assets of various examples"}],x=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={currentTab:"about"},n._openContributePage=function(){g.b.openExternalURL("https://gdevelop-app.com/contribute/")},n._openLink=function(e){e&&g.b.openExternalURL(e)},n._changeTab=function(e){n.setState({currentTab:e})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.open,a=t.onClose,r=t.updateStatus,o=this.state.currentTab;if(!n)return null;var i=Object(E.e)(r.status),s=Object(E.b)(r.status);return u.a.createElement(p.a,{actions:[u.a.createElement(m.a,{key:"website",label:u.a.createElement(c.Trans,{id:"GDevelop Website"}),primary:!1,onClick:function(){return g.b.openExternalURL("http://gdevelop-app.com")}}),u.a.createElement(m.a,{key:"close",label:u.a.createElement(c.Trans,{id:"Close"}),primary:!1,onClick:a})],onRequestClose:a,open:n,maxWidth:"sm",noMargin:!0},u.a.createElement(v.b.Consumer,null,function(t){t.values;var n=t.checkUpdates;return u.a.createElement(f.a,{noMargin:!0},u.a.createElement("img",{src:"res/GD-logo.png",alt:"GDevelop logo",style:O.logo}),u.a.createElement(h.b,{value:o,onChange:e._changeTab},u.a.createElement(h.a,{label:u.a.createElement(c.Trans,{id:"About GDevelop"}),value:"about"}),u.a.createElement(h.a,{label:u.a.createElement(c.Trans,{id:"What's new?"}),value:"changelog"}),u.a.createElement(h.a,{label:u.a.createElement(c.Trans,{id:"Contributors"}),value:"contributors"})),"about"===o&&u.a.createElement(u.a.Fragment,null,u.a.createElement(f.a,null,u.a.createElement(f.b,null,u.a.createElement(b.a,null,u.a.createElement(c.Trans,{id:"GDevelop {0} based on GDevelop.js {1}",values:{0:Object(j.b)(),1:Object(j.a)()}}))),u.a.createElement(f.b,null,u.a.createElement(b.a,null,i)),u.a.createElement(f.b,{justifyContent:"center"},!!i&&u.a.createElement(m.a,{label:s,onClick:function(){return n(Object(E.a)(r.status))}})))),"changelog"===o&&u.a.createElement(f.a,null,u.a.createElement(y.a,null)),"contributors"===o&&u.a.createElement(u.a.Fragment,null,u.a.createElement(f.a,null,u.a.createElement(b.a,null,u.a.createElement(c.Trans,{id:'GDevelop was created by Florian "4ian" Rival.'})),u.a.createElement(b.a,null,u.a.createElement(c.Trans,{id:"Contributors, in no particular order:"}))),u.a.createElement(d.a,null,C.map(function(t){return u.a.createElement(d.b,{key:t.name,primaryText:t.name,secondaryText:t.description,secondaryTextLines:t.description.length<30?1:2,displayLinkButton:!!t.link,onOpenLink:function(){return e._openLink(t.link||"")}})})),u.a.createElement(f.a,{expand:!0},u.a.createElement(b.a,null,u.a.createElement(c.Trans,{id:"Thanks to all users of GDevelop! There must be missing tons of people, please send your name if you've contributed and you're not listed."})),u.a.createElement(f.b,{alignItems:"center",justifyContent:"center"},u.a.createElement(m.a,{label:u.a.createElement(c.Trans,{id:"Contribute to GDevelop"}),onClick:e._openContributePage})))))}))}}]),t}(l.PureComponent)},103:function(e,t,n){"use strict";n.d(t,"c",function(){return F}),n.d(t,"d",function(){return R}),n.d(t,"b",function(){return L}),n.d(t,"a",function(){return A});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(26),u=n(10),d=n(2179),p=n(2177),m=n(2182),h=n(2183),f=n(2194),g=n(1009),b=n.n(g),v=n(566),E=n.n(v),y=n(2169),j=n(1007),O=n.n(j),C=n(318),x=n.n(C),T=n(262),S=n.n(T),k=n(1008),w=n.n(k),N=n(167),_=n(2172),P=n(151),I=n.n(P),B=n(565),M=n.n(B),F=40,R=37,L=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={isOpen:!!n.props.initiallyOpen},n._renderListItemSecondaryAction=function(){var e=Object(l.a)(Object(l.a)(n)).props;return e.displayReloadButton?u.createElement(f.a,null,u.createElement(_.a,{title:e.reloadButtonTooltip},u.createElement(y.a,{edge:"end","aria-label":"reload",onClick:e.onReload},u.createElement(O.a,null)))):e.buildMenuTemplate?e.displayMenuButton?u.createElement(f.a,null,u.createElement(N.a,{ref:function(e){return n._elementWithMenu=e},element:u.createElement(y.a,{edge:"end","aria-label":"menu"},u.createElement(x.a,null)),buildMenuTemplate:e.buildMenuTemplate})):u.createElement(N.a,{ref:function(e){return n._elementWithMenu=e},element:u.createElement("div",null),buildMenuTemplate:e.buildMenuTemplate}):e.displayLinkButton?u.createElement(f.a,null,u.createElement(y.a,{edge:"end","aria-label":"open link",onClick:e.onOpenLink},u.createElement(S.a,null))):e.displayRemoveButton?u.createElement(f.a,null,u.createElement(y.a,{edge:"end","aria-label":"remove",onClick:e.onRemove},u.createElement(w.a,null))):null},n._openContextMenu=function(e){n._elementWithMenu&&n._elementWithMenu.open(e)},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=this.state,r=t.renderNestedItems;if(r){var o=void 0===t.open?n.isOpen:t.open;return u.createElement(u.Fragment,null,u.createElement(p.a,{button:!0,dense:!0,disableRipple:!0,onClick:function(){e.setState(function(e){return{isOpen:!e.isOpen}}),t.onClick&&t.onClick()},disabled:t.disabled,style:t.style},t.leftIcon&&u.createElement(m.a,null,t.leftIcon),u.createElement(h.a,{primary:t.primaryText,secondary:t.secondaryText}),t.autoGenerateNestedIndicator?o?u.createElement(b.a,null):u.createElement(E.a,null):null,this._renderListItemSecondaryAction()),o&&u.createElement(d.a,{component:"div",disablePadding:!0,style:Object(a.a)({paddingLeft:16},t.nestedListStyle),dense:!0},r()))}return u.createElement(p.a,{button:!0,dense:!0,disableRipple:!0,ContainerComponent:"div",onClick:t.onClick,onDoubleClick:t.onDoubleClick,disabled:t.disabled,selected:t.selected,style:t.style,onContextMenu:t.buildMenuTemplate?this._openContextMenu:void 0,alignItems:2===t.secondaryTextLines?"flex-start":void 0},t.leftIcon&&u.createElement(m.a,null,t.leftIcon),u.createElement(h.a,{primary:t.primaryText,secondary:t.secondaryText}),this._renderListItemSecondaryAction(),t.displayAddIcon&&u.createElement(I.a,null),t.displaySearchIcon&&u.createElement(M.a,null))}}]),t}(u.Component),A=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return u.createElement(d.a,{style:this.props.style,dense:!0},this.props.children)}}]),t}(u.Component)},1033:function(e,t,n){"use strict";var a=n(83),r=n(10),o=n(578),i=n(415),s=n(113),c=n(154),l=n(417),u=n.n(l),d=n(1035),p=n.n(d),m=n(98),h=n(105),f=n(579),g=n.n(f),b=n(416),v=n(100),E=n(89),y=function(e){var t=e.width;return r.createElement("div",{style:Object(a.a)({},b.a.indent,{width:t})},r.createElement(p.a,{htmlColor:b.a.indentIconColor}))};t.a=function(e){var t=e.name,n=e.variable,a=e.depth,l=e.errorText,d=e.onBlur,p=(e.onRemove,e.onAddChild),f=e.onChangeValue,j=e.onResetToDefaultValue,O=e.children,C=e.showHandle,x=e.showSelectionCheckbox,T=e.isSelected,S=e.onSelect,k=e.origin,w=n.isStructure(),N=""+a+t,_="parent"===k||"inherited"===k,P=[r.createElement(o.a,{key:"name"},a>0&&r.createElement(y,{width:(a+1)*b.a.tableChildIndentation}),0===a&&C&&r.createElement(i.a,null),x&&!_&&r.createElement(c.a,{checked:T,onCheck:function(e,t){return S(t)}}),r.createElement(m.b,{margin:"none",style:{fontStyle:"inherited"!==k?"normal":"italic"},fullWidth:!0,name:N+"name",defaultValue:t,errorText:l,onBlur:d,disabled:"parent"===k}))];return w?P.push(r.createElement(o.a,{key:"value",style:_?b.a.fadedButton:void 0},r.createElement(E.a,null,"(Structure)"))):P.push(r.createElement(o.a,{key:"value"},r.createElement(s.a,{margin:"none",commitOnBlur:!0,fullWidth:!0,name:N+"value",value:n.getString(),onChange:function(e){n.getString()!==e&&f(e)},multiLine:!0,disabled:"parent"===k&&0!==a}))),P.push(r.createElement(o.a,{key:"tools",style:b.a.toolColumn},"inherited"===k&&0===a&&r.createElement(h.a,{onClick:j,style:w?void 0:b.a.fadedButton,tooltip:{id:"Reset"}},r.createElement(g.a,null)),!("inherited"===k&&0===a)&&"parent"!==k&&r.createElement(h.a,{onClick:p,style:w?void 0:b.a.fadedButton,tooltip:{id:"Add child variable"}},r.createElement(u.a,null)))),r.createElement(v.a,null,function(e){return r.createElement("div",null,r.createElement(o.b,{style:{backgroundColor:e.list.itemsBackgroundColor}},P),O)})}},1036:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return u});var a=n(102),r=n(83),o=n(418),i=n.n(o),s=function(){return{}},c=function(e){return i()(e).filter(function(e){return!!e})},l=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return console.log(t,n),Object(r.a)({},e,Object(a.a)({},t.ptr,n?t:null))},u=function(e){return!!i()(e).filter(function(e){return!!e}).length}},1045:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a="Variables"},105:function(e,t,n){"use strict";var a=n(135),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n(2169),d=n(2172),p=n(78),m=n(28);n.d(t,"a",function(){return h});var h=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tooltip,n=e.acceleratorString,r=Object(a.a)(e,["tooltip","acceleratorString"]),o=l.createElement(u.a,r);return t&&!this.props.disabled?l.createElement(p.I18n,null,function(e){var a,r=e.i18n;return l.createElement(d.a,{title:r._(t)+(n?" "+(a=n,Object(m.b)()?"":Object(m.a)()?a.replace(/CmdOrCtrl\+/,"\u2318").replace(/CommandOrControl\+/,"\u2318").replace(/Super\+/,"\u2318").replace(/Shift\+/,"\u21e7").replace(/Alt\+/,"\u2325").replace(/Option\+/,"\u2325").replace(/Delete/,"\u2326").replace(/Backspace/,"\u232b"):a.replace(/CmdOrCtrl\+/,"Ctrl+").replace(/CommandOrControl\+/,"Ctrl+").replace(/Super\+/,"Win+").replace(/Option\+/,"Alt+").replace(/Delete/,"DEL")):""),placement:"bottom",enterDelay:300},o)}):o}}]),t}(l.Component)},1058:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return k});var a=n(120),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(10),d=n(88),p=n(90),m=n(92),h=n(80),f=n(114),g=n(376),b=n(1060),v=n(25),E=n(2),y=n.n(E),j=n(89),O=y()("path"),C=e.gd,x=[512],T=[192,144,96,72,48,36],S=[180,167,152,144,120,114,100,80,76,72,60,58,57,50,40,29],k=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e)))._generateFromFile=function(){var e=n.props,t=e.project,r=e.resourceSources,o=e.onChooseResource,i=r.filter(function(e){return"image"===e.kind});i.length&&o(i[0].name,!1).then(function(e){if(e.length&&O){var r=t.getResourcesManager(),o=O.dirname(t.getProjectFile()),i=O.resolve(o,e[0].getFile());e.forEach(function(e){return e.delete()}),Promise.all([].concat(Object(a.a)(x.map(function(e){return Object(b.b)(i,O.join(o,"desktop-icon-".concat(e,".png")),{width:e,height:e})})),Object(a.a)(T.map(function(e){return Object(b.b)(i,O.join(o,"android-icon-".concat(e,".png")),{width:e,height:e})})),Object(a.a)(S.map(function(e){return Object(b.b)(i,O.join(o,"ios-icon-".concat(e,".png")),{width:e,height:e})})))).then(function(e){if(-1===e.indexOf(!1)){var o=[].concat(Object(a.a)(x.map(function(e){return"desktop-icon-".concat(e,".png")})),Object(a.a)(T.map(function(e){return"android-icon-".concat(e,".png")})),Object(a.a)(S.map(function(e){return"ios-icon-".concat(e,".png")})));o.forEach(function(e){if(r.hasResource(e))r.getResource(e).setFile(e);else{var t=new C.ImageResource;t.setFile(e),t.setName(e),r.addResource(t),t.delete()}}),f.a.burstUrlsCacheForResources(t,o),setTimeout(function(){n.setState({desktopIconResourceNames:x.map(function(e){return"desktop-icon-".concat(e,".png")}),androidIconResourceNames:T.map(function(e){return"android-icon-".concat(e,".png")}),iosIconResourceNames:S.map(function(e){return"ios-icon-".concat(e,".png")})})},200)}else Object(v.a)("Some icons could not be generated!")})}})},n._onApply=function(){var e=n.props.project,t=n.state,a=t.desktopIconResourceNames,r=t.androidIconResourceNames,o=t.iosIconResourceNames;x.forEach(function(t,n){e.getPlatformSpecificAssets().set("desktop","icon-".concat(t),a[n])}),T.forEach(function(t,n){e.getPlatformSpecificAssets().set("android","icon-".concat(t),r[n])}),S.forEach(function(t,n){e.getPlatformSpecificAssets().set("ios","icon-".concat(t),o[n])}),n.props.onApply()},n.state=n._loadFrom(e.project),n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"_loadFrom",value:function(e){return{desktopIconResourceNames:x.map(function(t){return e.getPlatformSpecificAssets().get("desktop","icon-".concat(t))}),androidIconResourceNames:T.map(function(t){return e.getPlatformSpecificAssets().get("android","icon-".concat(t))}),iosIconResourceNames:S.map(function(t){return e.getPlatformSpecificAssets().get("ios","icon-".concat(t))})}}},{key:"componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.project!==e.project)&&this.setState(this._loadFrom(e.project))}},{key:"render",value:function(){var e=this,t=[u.createElement(d.a,{key:"cancel",label:u.createElement(l.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onClose}),u.createElement(d.a,{key:"apply",label:u.createElement(l.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:this._onApply})],n=this.props,r=n.project,o=n.resourceSources,i=n.onChooseResource,s=n.resourceExternalEditors,c=this.state,f=c.desktopIconResourceNames,v=c.androidIconResourceNames,E=c.iosIconResourceNames;return u.createElement(m.a,{title:u.createElement(l.Trans,{id:"Project icons"}),actions:t,open:this.props.open,onRequestClose:this.props.onClose},u.createElement(h.b,{justifyContent:"center"},Object(b.a)()?u.createElement(p.a,{primary:!0,label:u.createElement(l.Trans,{id:"Generate icons from a file"}),onClick:this._generateFromFile}):u.createElement(j.a,null,u.createElement(l.Trans,{id:"Download GDevelop desktop version to generate the Android and iOS icons of your game."}))),u.createElement(j.a,null,u.createElement(l.Trans,{id:"Desktop (Windows, macOS and Linux) icon:"})),x.map(function(t,n){return u.createElement(g.a,{key:t,floatingLabelText:"Desktop icon (".concat(t,"x").concat(t," px)"),project:r,resourceSources:o,onChooseResource:i,resourceExternalEditors:s,resourceKind:"image",resourceName:f[n],onChange:function(t){var r=Object(a.a)(f);r[n]=t,e.setState({desktopIconResourceNames:r})}})}),u.createElement(j.a,null,u.createElement(l.Trans,{id:"Android icons:"})),T.map(function(t,n){return u.createElement(g.a,{key:t,floatingLabelText:"Android icon (".concat(t,"x").concat(t," px)"),project:r,resourceSources:o,onChooseResource:i,resourceExternalEditors:s,resourceKind:"image",resourceName:v[n],onChange:function(t){var r=Object(a.a)(v);r[n]=t,e.setState({androidIconResourceNames:r})}})}),u.createElement(j.a,null,u.createElement(l.Trans,{id:"iOS (iPhone and iPad) icons:"})),S.map(function(t,n){return u.createElement(g.a,{key:t,floatingLabelText:"iOS icon (".concat(t,"x").concat(t," px)"),project:r,resourceSources:o,onChooseResource:i,resourceKind:"image",resourceName:E[n],resourceExternalEditors:s,onChange:function(t){var r=Object(a.a)(E);r[n]=t,e.setState({iosIconResourceNames:r})}})}))}}]),t}(u.Component)}).call(this,n(1))},1060:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var a=n(2),r=n.n(a)()("jimp"),o=function(){return!!r},i=function(e,t,n){var a=n.width,o=n.height;return r?r.read(e).then(function(e){return e.contain(a,o).write(t)}).then(function(){return!0}).catch(function(e){return console.error(e),!1}):Promise.resolve(!1)}},1061:function(e,t,n){"use strict";var a=n(10),r=n.n(a),o=n(2195);t.a=function(e){return r.a.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:2e3,pointerEvents:e.show?"cursor":"none",display:e.show?"block":"none"}},r.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",marginTop:-25,marginLeft:-25,width:50,height:50}},e.show&&r.a.createElement(o.a,{size:50,disableShrink:!0})))}},1062:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(2),u=n.n(l),d=n(3),p=u()("electron"),m=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))))._delayElectronClose=!0,n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this._setup(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.shouldPrompt!==this.props.shouldPrompt&&this._setup(e)}},{key:"_setup",value:function(e){var t=this;if(!d.b.isDev()){var n=e.shouldPrompt,a="Are you sure you want to quit GDevelop? Any unsaved changes will be lost.";p?window.onbeforeunload=function(e){if(t._delayElectronClose&&n)return setTimeout(function(){confirm(a)&&(t._delayElectronClose=!1,p.remote.getCurrentWindow().close())},10),e.returnValue=!0,!1}:window&&(window.onbeforeunload=n?function(){return a}:null)}}},{key:"render",value:function(){return null}}]),t}(c.Component)},1077:function(e,t,n){"use strict";n.d(t,"c",function(){return b}),n.d(t,"b",function(){return v}),n.d(t,"a",function(){return E});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n.n(l),d=n(263),p=n.n(d),m=n(2263),h=n(100),f=n(301),g={tabsContainerStyle:{maxWidth:"100%",flex:1,display:"flex",flexDirection:"column"},tabContentContainer:{width:"100%",position:"relative",textAlign:"initial",height:"100%",display:"flex",flex:1},tabLabel:{maxWidth:400,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginTop:6,marginBottom:6,marginLeft:10,marginRight:10,fontSize:"15px"},closeButton:{marginTop:7,marginBottom:7,marginRight:5,marginLeft:5}},b=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.active||e.active}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.active;return u.a.createElement("div",{style:Object(a.a)({},g.tabContentContainer,n?void 0:{display:"none"})},t)}}]),t}(l.Component),v=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.hideLabels,n=e.children;return u.a.createElement(h.a,null,function(e){var a={maxWidth:"100%",flexShrink:0,display:t?"none":"flex",flexWrap:"nowrap",overflowX:"auto",backgroundColor:e.closableTabs.backgroundColor};return u.a.createElement("div",{style:a},n)})}}]),t}(l.Component);function E(e){var t=e.active,n=e.onClose,r=e.onCloseOthers,o=e.onCloseAll,i=e.label,s=e.closable,c=e.onClick,d=e.onActivated;Object(l.useEffect)(function(){t&&d()},[t]);var b=Object(l.useRef)(null),v=function(e){e.stopPropagation(),b.current&&b.current.open(e.clientX,e.clientY)};return u.a.createElement(h.a,null,function(e){var l=t?e.closableTabs.selectedTextColor:e.closableTabs.textColor;return u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{style:{flexShrink:0,position:"relative",display:"inline-block",backgroundColor:t?e.closableTabs.selectedBackgroundColor:e.closableTabs.backgroundColor}},u.a.createElement(m.a,{onClick:c,onContextMenu:v,focusRipple:!0},u.a.createElement("span",{style:Object(a.a)({},g.tabLabel,{color:l,fontFamily:e.closableTabs.fontFamily})},i)),s&&u.a.createElement(m.a,{onClick:n,onContextMenu:v,focusRipple:!0},u.a.createElement(p.a,{style:Object(a.a)({},g.closeButton,{width:e.closableTabs.height/2,height:e.closableTabs.height/2}),htmlColor:l}))),u.a.createElement(f.a,{ref:b,buildMenuTemplate:function(){return[{label:"Close",click:n,enabled:s},{label:"Close others",click:r},{label:"Close all",click:o}]}}))})}},1078:function(e,t,n){"use strict";n.d(t,"l",function(){return u}),n.d(t,"o",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return h}),n.d(t,"h",function(){return f}),n.d(t,"m",function(){return g}),n.d(t,"k",function(){return b}),n.d(t,"j",function(){return v}),n.d(t,"i",function(){return E}),n.d(t,"p",function(){return y}),n.d(t,"g",function(){return j}),n.d(t,"f",function(){return O}),n.d(t,"e",function(){return C}),n.d(t,"d",function(){return x}),n.d(t,"n",function(){return T});var a=n(120),r=n(83),o=n(598),i=n.n(o),s=(n(616),n(832),n(767)),c=n(769),l=n(772),u=(n(836),n(783),function(){return{editors:[],currentTab:0}}),d=function(e,t){var n=t.name,o=t.renderEditor,s=t.key,c=t.dontFocusTab,l=t.closable,u=i()(e.editors,function(e){return e.key===s});if(-1!==u)return Object(r.a)({},e,{currentTab:c?e.currentTab:u});var d={render:function(e){return o({isActive:e,editorRef:function(e){return d.editorRef=e}})},editorRef:null,name:n,key:s,closable:"undefined"===typeof l||!!l};return Object(r.a)({},e,{editors:[].concat(Object(a.a)(e.editors),[d]),currentTab:c?e.currentTab:e.editors.length})},p=function(e,t){return Object(r.a)({},e,{currentTab:Math.max(0,Math.min(t,e.editors.length-1))})},m=function(e){return p(Object(r.a)({},e,{editors:e.editors.filter(function(e){return!e.closable})}),0)},h=function(e,t){return p(Object(r.a)({},e,{editors:e.editors.filter(function(e){return e!==t})}),e.currentTab)},f=function(e,t){return p(Object(r.a)({},e,{editors:e.editors.filter(function(e){return!e.closable||e===t})}),e.currentTab)},g=function(e){return e.editors},b=function(e){return e.currentTab},v=function(e){return e.editors[e.currentTab]},E=function(e,t){return p(Object(r.a)({},e,{editors:e.editors.filter(function(e){var n=e.editorRef&&e.editorRef.getProject();return!n||n!==t})}),e.currentTab)},y=function(e){e.editors.forEach(function(e){e.editorRef&&e.editorRef.saveUiSettings&&e.editorRef.saveUiSettings()})},j=function(e,t){return p(Object(r.a)({},e,{editors:e.editors.filter(function(e){var n=e.editorRef&&e.editorRef.getLayout();return!n||n!==t})}),e.currentTab)},O=function(e,t){return p(Object(r.a)({},e,{editors:e.editors.filter(function(e){var n=e.editorRef;return!(n instanceof l.a)||(!n.getExternalLayout()||n.getExternalLayout()!==t)})}),e.currentTab)},C=function(e,t){return p(Object(r.a)({},e,{editors:e.editors.filter(function(e){var n=e.editorRef;return!(n instanceof c.a)||(!n.getExternalEvents()||n.getExternalEvents()!==t)})}),e.currentTab)},x=function(e,t){return p(Object(r.a)({},e,{editors:e.editors.filter(function(e){var n=e.editorRef;return!(n instanceof s.a)||(!n.getEventsFunctionsExtension()||n.getEventsFunctionsExtension()!==t)})}),e.currentTab)},T=function(e,t){for(var n=0;n<e.editors.length;++n){var a=e.editors[n].editorRef;if(a instanceof s.a&&a.getEventsFunctionsExtension()===t)return{editor:a,tabIndex:n}}return null}},113:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(135),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n(98),d=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={focused:!1,text:null},n._field=null,n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"getInputNode",value:function(){if(this._field)return this._field.getInputNode()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onChange,o=t.commitOnBlur,i=t.onFocus,s=t.onBlur,c=t.type,d=Object(a.a)(t,["value","onChange","commitOnBlur","onFocus","onBlur","type"]);return l.createElement(u.b,Object.assign({},d,{type:c||"text",ref:function(t){return e._field=t},value:this.state.focused?this.state.text:n,onFocus:function(t){e.setState({focused:!0,text:e.props.value}),i&&i(t)},onChange:function(t,n){e.setState({text:n}),o||r(n)},onBlur:function(t){r(t.currentTarget.value),e.setState({focused:!1,text:null}),s&&s(t)}}))}}]),t}(l.Component)},1131:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return R});var a=n(120),r=n(83),o=n(102),i=n(26),s=n(135),c=n(5),l=n(11),u=n(22),d=n(21),p=n(23),m=n(10),h=n.n(m),f=n(598),g=n.n(f),b=n(1132),v=n(96),E=n(336),y=n(2109),j=n(1451),O=n(141),C=n.n(O),x=n(133),T=n(346),S=n(192),k=(n(1452),n(1453),n(100)),w=S.a.getThumbnail.bind(S.a),N=e.gd,_=22,P={container:{flex:1}},I=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r))))._onEventUpdated=function(){n.forceUpdate()},n._onEventContextMenu=function(e){e.preventDefault(),n.props.onEventContextMenu(e.clientX,e.clientY)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this._container?this._container.offsetHeight:0;this.props.eventsHeightsCache.setEventHeight(this.props.event,e)}},{key:"componentDidUpdate",value:function(){var e=this._container?this._container.offsetHeight:0;this.props.eventsHeightsCache.setEventHeight(this.props.event,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.event,a=t.project,r=t.scope,o=t.disabled,i=y.a.getEventComponent(n);return h.a.createElement("div",{ref:function(t){return e._container=t},onClick:this.props.onEventClick,onContextMenu:this._onEventContextMenu},i&&h.a.createElement(i,{project:a,scope:r,event:n,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,selected:Object(E.m)(this.props.selection,n),selection:this.props.selection,leftIndentWidth:this.props.leftIndentWidth,onUpdate:this._onEventUpdated,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onInstructionsListContextMenu:this.props.onInstructionsListContextMenu,onParameterClick:this.props.onParameterClick,onOpenExternalEvents:this.props.onOpenExternalEvents,onOpenLayout:this.props.onOpenLayout,disabled:o,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth}))}}]),t}(m.Component),B=function(e){return e.treeIndex},M=function(e){var t=e.className,n=Object(s.a)(e,["className"]);return h.a.createElement(k.a,null,function(e){return h.a.createElement(b.a,Object.assign({className:"".concat(x.f," ").concat(e.eventsSheetRootClassName," ").concat(t)},n))})},F=function(){},R=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e)))._eventsToTreeData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{treeData:Object(v.mapFor)(0,e.getEventsCount(),function(o){var i=e.getEventAt(o);t.push(i);var s=r||i.isDisabled();return{title:n._renderEvent,event:i,eventsList:e,indexInList:o,expanded:!i.isFolded(),disabled:s,depth:a,key:i.ptr,children:n._eventsToTreeData(i.getSubEvents(),i.isFolded()?[]:t,a+1,s).treeData}}),flatData:t}},n._onMoveNode=function(e){var t=e.treeData,a=e.path,r=e.node,o=a.slice(0,-1),i=Object(b.b)({getNodeKey:B,treeData:t,path:o}).node,s=i&&i.event?i.event.getSubEvents():n.props.events,c=i&&i.children?i.children.indexOf(r):0,l=r.event,u=r.eventsList,d=l.clone();u.removeEvent(l),s.insertEvent(d,c),d.delete(),n.forceEventsUpdate(),n.props.onEventMoved()},n._canDrop=function(e){var t=e.nextParent;return!t||!t.event||t.event.canHaveSubEvents()},n._onVisibilityToggle=function(e){var t=e.node.event;t.setFolded(!t.isFolded()),n.forceEventsUpdate()},n._renderObjectThumbnail=function(e){var t=n.props,a=t.project,r=t.scope;if(!t.showObjectThumbnails)return null;var i=Object(T.a)(a,r.layout,e);return i?h.a.createElement("img",{className:C()(Object(o.a)({},x.i,!0)),alt:"",src:w(a,i),crossOrigin:"anonymous"}):null},n._renderEvent=function(e){var t=e.node,a=t.event,r=t.depth,o=t.disabled;return h.a.createElement(I,{project:n.props.project,scope:n.props.scope,globalObjectsContainer:n.props.globalObjectsContainer,objectsContainer:n.props.objectsContainer,event:a,key:a.ptr,eventsHeightsCache:n.eventsHeightsCache,selection:n.props.selection,leftIndentWidth:r*_,onAddNewInstruction:n.props.onAddNewInstruction,onPasteInstructions:n.props.onPasteInstructions,onMoveToInstruction:n.props.onMoveToInstruction,onMoveToInstructionsList:n.props.onMoveToInstructionsList,onInstructionClick:n.props.onInstructionClick,onInstructionDoubleClick:n.props.onInstructionDoubleClick,onParameterClick:n.props.onParameterClick,onEventClick:function(){return n.props.onEventClick({eventsList:t.eventsList,event:t.event,indexInList:t.indexInList,isCondition:t.isCondition})},onEventContextMenu:function(e,a){return n.props.onEventContextMenu(e,a,{eventsList:t.eventsList,event:t.event,indexInList:t.indexInList,isCondition:t.isCondition})},onInstructionContextMenu:n.props.onInstructionContextMenu,onInstructionsListContextMenu:n.props.onInstructionsListContextMenu,onOpenExternalEvents:n.props.onOpenExternalEvents,onOpenLayout:n.props.onOpenLayout,disabled:o,renderObjectThumbnail:n._renderObjectThumbnail,screenType:n.props.screenType,windowWidth:n.props.windowWidth})},n._treeSearchMethod=function(e){var t=e.node,n=e.searchQuery;if(!n)return!1;var a=t.event;return n.find(function(e){return N.compare(e,a)})},n.eventsHeightsCache=new j.a(Object(i.a)(Object(i.a)(n))),n.state=Object(r.a)({},n._eventsToTreeData(e.events)),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.onHeightsChanged()}},{key:"onHeightsChanged",value:function(e){var t=this;this.forceUpdate(function(){t._list&&t._list.wrappedInstance.current&&t._list.wrappedInstance.current.recomputeRowHeights(),e&&e()})}},{key:"forceEventsUpdate",value:function(e){var t=this;this.setState(this._eventsToTreeData(this.props.events),function(){t._list&&t._list.wrappedInstance.current&&t._list.wrappedInstance.current.recomputeRowHeights(),e&&e()})}},{key:"scrollToEvent",value:function(e){var t=this._getEventRow(e);-1!==t&&this._list&&this._list.wrappedInstance.current&&this._list.wrappedInstance.current.scrollToRow(t)}},{key:"unfoldForEvent",value:function(e){N.EventsListUnfolder.unfoldWhenContaining(this.props.events,e),this.forceEventsUpdate()}},{key:"_getEventRow",value:function(e){return g()(this.state.flatData,function(t){return t.ptr===e.ptr})}},{key:"render",value:function(){var e=this,t=this.state.treeData?Object(a.a)(this.state.treeData):null;return h.a.createElement("div",{style:P.container},h.a.createElement(M,{treeData:t,scaffoldBlockPxWidth:_,onChange:F,onVisibilityToggle:this._onVisibilityToggle,onMoveNode:this._onMoveNode,canDrop:this._canDrop,rowHeight:function(t){var n=t.node;return n.event?e.eventsHeightsCache.getEventHeight(n.event):0},searchMethod:this._treeSearchMethod,searchQuery:this.props.searchResults,searchFocusOffset:this.props.searchFocusOffset,className:this.props.searchResults?x.g:"",reactVirtualizedListProps:{ref:function(t){return e._list=t},onScroll:this.props.onScroll}}))}}]),t}(m.Component);R.defaultProps={selection:Object(E.b)()}}).call(this,n(1))},114:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(5),r=n(11),o=n(2),i=n.n(o),s=i()("electron"),c=i()("path"),l=function(){function e(){Object(a.a)(this,e),this.projectCache={}}return Object(r.a)(e,[{key:"_getProjectCache",value:function(e){var t=this.projectCache[e.ptr];return t||(this.projectCache[e.ptr]={})}},{key:"getCachedUrl",value:function(e,t){return this._getProjectCache(e)[t]}},{key:"cacheUrl",value:function(e,t){return this._getProjectCache(e)[t]=t}},{key:"burstUrl",value:function(e,t){delete this._getProjectCache(e)[t]}},{key:"cacheLocalFileUrl",value:function(e,t,n,a){var r=this._getProjectCache(e);return r[t]=a?n:"".concat(n,"?cache=").concat(Date.now())}}]),e}(),u=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"_isLocalFile",value:function(e){return 0!==e.indexOf("data:")&&0!==e.indexOf("http://")&&0!==e.indexOf("https://")&&0!==e.indexOf("ftp://")}},{key:"burstUrlsCacheForResources",value:function(t,n){var a=t.getResourcesManager();n.forEach(function(n){a.hasResource(n)&&e._cache.burstUrl(t,a.getResource(n).getFile())})}},{key:"burstAllUrlsCache",value:function(){e._cache=new l}},{key:"getFullUrl",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e._cache.getCachedUrl(t,n);if(r)return r;if(s&&e._isLocalFile(n)){var o=t.getProjectFile(),i=c.dirname(o),l=c.resolve(i,n).replace(/\\/g,"/");return console.info("Caching resolved local filename:",l),this._cache.cacheLocalFileUrl(t,n,"file://"+l,a)}return this._cache.cacheUrl(t,n)}},{key:"getResourceFullUrl",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.getResourcesManager().hasResource(n)){var r=t.getResourcesManager().getResource(n).getFile();return e.getFullUrl(t,r,a)}return n}}]),e}();u._cache=new l},118:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i});var a=e.gd;function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"serializeTo",n=new a.SerializerElement;e[t](n);var r=JSON.parse(a.Serializer.toJSON(n));return n.delete(),r}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"serializeTo",n=new a.SerializerElement;return e[t](n),a.Serializer.toJSON(n)}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unserializeFrom",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=a.Serializer.fromJSObject(t);r?e[n](r,o):e[n](o),o.delete()}}).call(this,n(1))},119:function(e,t,n){"use strict";var a=n(78),r=n(10),o=n(88),i=n(585),s=n.n(i),c=n(3),l=n(209);t.a=function(e){return e.helpPagePath?r.createElement(o.a,{onClick:function(){e.helpPagePath&&c.b.openExternalURL(Object(l.a)(e.helpPagePath))},target:"_blank",label:e.label||r.createElement(a.Trans,{id:"Help"}),icon:r.createElement(s.a,null)}):null}},1212:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return v});var a=n(83),r=n(102),o=n(5),i=n(11),s=n(22),c=n(21),l=n(23),u=n(10),d=n(271),p=n(141),m=n.n(p),h=n(133),f=n(345),g=e.gd,b={flex:1},v=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this,n=g.asStandardEvent(this.props.event);return u.createElement(f.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,className:m()((e={},Object(r.a)(e,h.l,!0),Object(r.a)(e,h.m,this.props.selected),Object(r.a)(e,h.h,!0),e)),renderConditionsList:function(e){var a=e.style,r=e.className;return u.createElement(d.a,{instrsList:n.getConditions(),style:a,className:r,selection:t.props.selection,areConditions:!0,onAddNewInstruction:t.props.onAddNewInstruction,onPasteInstructions:t.props.onPasteInstructions,onMoveToInstruction:t.props.onMoveToInstruction,onMoveToInstructionsList:t.props.onMoveToInstructionsList,onInstructionClick:t.props.onInstructionClick,onInstructionDoubleClick:t.props.onInstructionDoubleClick,onInstructionContextMenu:t.props.onInstructionContextMenu,onInstructionsListContextMenu:t.props.onInstructionsListContextMenu,onParameterClick:t.props.onParameterClick,disabled:t.props.disabled,renderObjectThumbnail:t.props.renderObjectThumbnail,screenType:t.props.screenType,windowWidth:t.props.windowWidth})},renderActionsList:function(e){var r=e.className;return u.createElement(d.a,{instrsList:n.getActions(),style:Object(a.a)({},b),className:r,selection:t.props.selection,areConditions:!1,onAddNewInstruction:t.props.onAddNewInstruction,onPasteInstructions:t.props.onPasteInstructions,onMoveToInstruction:t.props.onMoveToInstruction,onMoveToInstructionsList:t.props.onMoveToInstructionsList,onInstructionClick:t.props.onInstructionClick,onInstructionDoubleClick:t.props.onInstructionDoubleClick,onInstructionContextMenu:t.props.onInstructionContextMenu,onInstructionsListContextMenu:t.props.onInstructionsListContextMenu,onParameterClick:t.props.onParameterClick,disabled:t.props.disabled,renderObjectThumbnail:t.props.renderObjectThumbnail,screenType:t.props.screenType,windowWidth:t.props.windowWidth})}})}}]),t}(u.Component)}).call(this,n(1))},1213:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return E});var a=n(102),r=n(78),o=n(10),i=n(96),s=n(141),c=n.n(s),l=n(133),u=n(271),d=n(643),p=n(439),m=n(1438),h=n(711),f=n(142),g=e.gd,b=g.InstructionSentenceFormatter.get();b.loadTypesFormattingFromConfig();var v={container:{whiteSpace:"normal",wordWrap:"break-word",cursor:"pointer",marginBottom:1}},E="GD_DRAGGED_INSTRUCTION",y=Object(h.a)(E);t.a=function(e){var t=e.instruction,n=e.isCondition,s=e.onClick,h=e.onMoveToInstruction,E=o.useContext(f.b).values.eventsSheetUseAssignmentOperators,j=n?g.MetadataProvider.getConditionMetadata(g.JsPlatform.get(),t.getType()):g.MetadataProvider.getActionMetadata(g.JsPlatform.get(),t.getType());return o.createElement(y,{beginDrag:function(){return s(),{isCondition:n}},canDrop:function(e){return e.isCondition===n},drop:function(){h()}},function(n){var s,h=n.connectDragSource,f=n.connectDropTarget,g=n.isOver,y=n.canDrop,O=f(h(o.createElement("div",{style:v.container,className:c()((s={},Object(a.a)(s,l.p,!0),Object(a.a)(s,l.q,e.selected),s)),onClick:function(t){t.stopPropagation(),"touch"===e.screenType&&e.selected?e.onDoubleClick():e.onClick()},onDoubleClick:function(t){t.stopPropagation(),e.onDoubleClick()},onContextMenu:function(t){t.stopPropagation(),e.onContextMenu(t.clientX,t.clientY)},onKeyPress:function(t){"Enter"===t.key?(e.onDoubleClick(),t.stopPropagation(),t.preventDefault()):" "===t.key&&(e.onClick(),t.stopPropagation(),t.preventDefault())},tabIndex:0},t.isInverted()&&o.createElement("img",{className:c()(Object(a.a)({},l.i,!0)),src:"res/contraire.png",alt:"Condition is negated"}),o.createElement("img",{className:c()(Object(a.a)({},l.i,!0)),src:j.getSmallIconFilename(),alt:""}),function(t){var n=e.instruction,r=e.disabled,s=e.renderObjectThumbnail,u=b.getAsFormattedText(n,t),d=t.getParametersCount();return o.createElement("span",{className:c()(Object(a.a)({},l.d,r))},Object(i.mapFor)(0,u.size(),function(n){var r,i,h=u.getTextFormatting(n).getUserData();if(!(h>=0&&h<d))return o.createElement("span",{key:n},0===n?(i=u.getString(n))?i[0].toUpperCase()+i.substr(1):"":u.getString(n));var f=t.getParameter(h),g=f.getType();return o.createElement("span",{key:n,className:c()((r={},Object(a.a)(r,l.p,!0),Object(a.a)(r,l.k,!0),Object(a.a)(r,g,!0),r)),onClick:function(t){e.onParameterClick(t,h),"touch"===e.screenType&&t.stopPropagation()},onKeyPress:function(t){"Enter"!==t.key&&" "!==t.key||(e.onParameterClick(t,h),t.stopPropagation(),t.preventDefault())},tabIndex:0},p.a.renderInlineParameter({value:u.getString(n),parameterMetadata:f,renderObjectThumbnail:s,InvalidParameterValue:m.a,useAssignmentOperators:E}))}))}(j))));return o.createElement(o.Fragment,null,g&&o.createElement(d.a,{canDrop:y}),O,j.canHaveSubInstructions()&&o.createElement(u.a,{style:{},className:l.s,instrsList:t.getSubInstructions(),areConditions:e.isCondition,selection:e.selection,onAddNewInstruction:e.onAddNewSubInstruction,onPasteInstructions:e.onPasteSubInstructions,onMoveToInstruction:e.onMoveToSubInstruction,onMoveToInstructionsList:e.onMoveToSubInstructionsList,onInstructionClick:e.onSubInstructionClick,onInstructionDoubleClick:e.onSubInstructionDoubleClick,onInstructionContextMenu:e.onSubInstructionContextMenu,onInstructionsListContextMenu:e.onSubInstructionsListContextMenu,onParameterClick:e.onSubParameterClick,addButtonLabel:o.createElement(r.Trans,{id:"Add a sub-condition"}),disabled:e.disabled,renderObjectThumbnail:e.renderObjectThumbnail,screenType:e.screenType,windowWidth:e.windowWidth}))})}}).call(this,n(1))},1214:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return h});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(122),p=n(123),m=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.parameterMetadata,n=t?t.getDescription():void 0;return u.a.createElement(d.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:n,helperMarkdownText:t?t.getLongDescription():void 0,value:this.props.value,onChange:function(t,n,a){return e.props.onChange(a)},ref:function(t){return e._field=t},hintText:{id:"Choose an operator"}},u.a.createElement(p.a,{value:"=",primaryText:{id:"= (equal to)"}}),u.a.createElement(p.a,{value:"<",primaryText:{id:"< (less than)"}}),u.a.createElement(p.a,{value:">",primaryText:{id:"> (greater than)"}}),u.a.createElement(p.a,{value:"<=",primaryText:{id:"\u2264 (less or equal to)"}}),u.a.createElement(p.a,{value:">=",primaryText:{id:"\u2265 (greater or equal to)"}}),u.a.createElement(p.a,{value:"!=",primaryText:{id:"\u2260 (not equal to)"}}))}}]),t}(l.Component),h=function(e){var t=e.value,n=e.InvalidParameterValue;return t?"="!==t&&"<"!==t&&">"!==t&&"<="!==t&&">="!==t&&"!="!==t?u.a.createElement(n,null,t):"<="===t?"\u2264":">="===t?"\u2265":"!="===t?"\u2260":t:u.a.createElement(n,{isEmpty:!0},u.a.createElement(c.Trans,{id:"Choose an operator"}))}},1215:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return h});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(122),p=n(123),m=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.parameterMetadata,n=t?t.getDescription():void 0;return u.a.createElement(d.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:n,helperMarkdownText:t?t.getLongDescription():void 0,value:this.props.value,onChange:function(t,n,a){return e.props.onChange(a)},ref:function(t){return e._field=t},hintText:{id:"Choose an operator"}},u.a.createElement(p.a,{value:"=",primaryText:{id:"= (set to)"}}),u.a.createElement(p.a,{value:"+",primaryText:{id:"+ (add)"}}),u.a.createElement(p.a,{value:"-",primaryText:{id:"- (subtract)"}}),u.a.createElement(p.a,{value:"*",primaryText:{id:"* (multiply by)"}}),u.a.createElement(p.a,{value:"/",primaryText:{id:"/ (divide by)"}}))}}]),t}(l.Component),h=function(e){var t=e.value,n=e.InvalidParameterValue,a=e.useAssignmentOperators;if(!t)return u.a.createElement(n,{isEmpty:!0},u.a.createElement(c.Trans,{id:"Choose an operator"}));if(a){if("="===t)return"=";if("+"===t)return"+=";if("-"===t)return"-=";if("/"===t)return"/=";if("*"===t)return"*="}else{if("="===t)return u.a.createElement(c.Trans,{id:"set to"});if("+"===t)return u.a.createElement(c.Trans,{id:"add"});if("-"===t)return u.a.createElement(c.Trans,{id:"subtract"});if("/"===t)return u.a.createElement(c.Trans,{id:"divide by"});if("*"===t)return u.a.createElement(c.Trans,{id:"multiply by"})}return u.a.createElement(n,null,t)}},1216:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return h});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(122),p=n(123),m=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.parameterMetadata,a=t.value,r=n?n.getDescription():void 0;return u.a.createElement(d.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:r,helperMarkdownText:n?n.getLongDescription():void 0,value:a,ref:function(t){return e._field=t},onChange:function(t,n,a){return e.props.onChange(a)},errorText:a?void 0:u.a.createElement(c.Trans,{id:"You must select a button"})},u.a.createElement(p.a,{value:"Left",primaryText:{id:"Left (primary)"}}),u.a.createElement(p.a,{value:"Right",primaryText:{id:"Right (secondary)"}}),u.a.createElement(p.a,{value:"Middle",primaryText:{id:"Middle (Auxiliary button, usually the wheel button)"}}))}}]),t}(l.Component),h=function(e){var t=e.value,n=e.InvalidParameterValue;return t||u.a.createElement(n,{isEmpty:!0},u.a.createElement(c.Trans,{id:"Choose a mouse button"}))}},1217:function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return f});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(168),p=["Num0","Num1","Num2","Num3","Num4","Num5","Num6","Num7","Num8","Num9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","LBracket","RBracket","SemiColon","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","Escape","Space","Return","Back","Tab","PageUp","PageDown","End","Home","Insert","Delete","Add","Subtract","Multiply","Divide","Left","Right","Up","Down","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Pause","RControl","LControl","RAlt","LAlt","RShift","LShift"],m=function(e){return-1!==p.indexOf(e)},h=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,r=t.isInline,o=t.parameterMetadata;return u.a.createElement(d.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:o?o.getDescription():void 0,helperMarkdownText:o?o.getLongDescription():void 0,fullWidth:!0,value:n,onChange:a,dataSource:p.map(function(e){return{text:e,value:e}}),openOnFocus:!r,ref:function(t){return e._field=t},errorText:n?m(n)?void 0:u.a.createElement(c.Trans,{id:'You must select a valid key. "{value}" is not valid.',values:{value:n}}):u.a.createElement(c.Trans,{id:"You must select a key."})})}}]),t}(l.Component),f=function(e){var t=e.value,n=e.InvalidParameterValue;return t?m(t)?t:u.a.createElement(n,null,t):u.a.createElement(n,{isEmpty:!0},u.a.createElement(c.Trans,{id:"Choose a key"}))}},1218:function(e,t,n){"use strict";var a=n(193),r=n(112);function o(e,t,n,o,i,s){a.a.call(this,e,t,n,o,i,s),this._pixiObject=new r.Graphics,this._pixiContainer.addChild(this._pixiObject);var c=n.hasCustomSize()?n.getCustomWidth():32,l=n.hasCustomSize()?n.getCustomHeight():32;this._pixiObject.beginFill(13311),this._pixiObject.lineStyle(1,16767232,1),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(c,0),this._pixiObject.lineTo(c,l),this._pixiObject.lineTo(0,l),this._pixiObject.endFill()}o.prototype=Object.create(a.a.prototype),o.getThumbnail=function(e,t,n){return"res/unknown32.png"},o.prototype.update=function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this._pixiObject.rotation=this._instance.getAngle()*Math.PI/180},t.a=o},122:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(78),u=n(2260),d=n(98),p=n(205),m=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))))._input=c.createRef(),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._input.current&&this._input.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.onChange||void 0,a=!0,r=c.Children.map(t.children,function(e){return null!==e&&e.props?e.props.value:null});r?a=0!==r.filter(function(e){return e===t.value}).length:console.error("SelectField has been passed no or invalid children. Only SelectOption and null are supported.");var o=a?t.value:"",i=t.helperMarkdownText?c.createElement(p.a,{source:t.helperMarkdownText}):null;return c.createElement(l.I18n,null,function(r){var s=r.i18n;return c.createElement(u.a,Object.assign({select:!0},Object(d.a)(t),{disabled:t.disabled,fullWidth:t.fullWidth,label:t.floatingLabelText,helperText:i,value:o,onChange:n?function(e){n(e,-1,e.target.value)}:void 0,InputLabelProps:{shrink:!0},SelectProps:{native:!0},style:t.style,inputRef:e._input}),a?null:c.createElement("option",{value:"",disabled:!0},t.hintText?s._(t.hintText):s._({id:"Choose an option"})),t.children)})}}]),t}(c.Component)},123:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(78),u=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return c.createElement(l.I18n,null,function(t){var n=t.i18n;return c.createElement("option",{value:e.props.value,disabled:e.props.disabled},n._(e.props.primaryText))})}}]),t}(c.Component)},1316:function(e,t,n){"use strict";(function(e){var a=n(193),r=n(112),o=e.gd;function i(e,t,n,o,i,s){a.a.call(this,e,t,n,o,i,s),this._renderedAnimation=0,this._renderedDirection=0,this._centerX=0,this._centerY=0,this._originX=0,this._originY=0,this._pixiObject=new r.Sprite(this._pixiResourcesLoader.getInvalidPIXITexture()),this._pixiContainer.addChild(this._pixiObject),this.updatePIXITexture(),this.updatePIXISprite()}i.prototype=Object.create(a.a.prototype),i.getThumbnail=function(e,t,n){var a=o.asSpriteObject(n);if(a.getAnimationsCount()>0&&a.getAnimation(0).getDirectionsCount()>0&&a.getAnimation(0).getDirection(0).getSpritesCount()>0){var r=a.getAnimation(0).getDirection(0).getSprite(0).getImageName();return t.getResourceFullUrl(e,r)}return"res/unknown32.png"},i.prototype.updatePIXISprite=function(){this._pixiObject.anchor.x=this._centerX/this._pixiObject.texture.frame.width,this._pixiObject.anchor.y=this._centerY/this._pixiObject.texture.frame.height,this._pixiObject.rotation=this._shouldNotRotate?0:a.a.toRad(this._instance.getAngle()),this._instance.hasCustomSize()?(this._pixiObject.scale.x=this._instance.getCustomWidth()/this._pixiObject.texture.frame.width,this._pixiObject.scale.y=this._instance.getCustomHeight()/this._pixiObject.texture.frame.height):(this._pixiObject.scale.x=1,this._pixiObject.scale.y=1),this._pixiObject.position.x=this._instance.getX()+(this._centerX-this._originX)*Math.abs(this._pixiObject.scale.x),this._pixiObject.position.y=this._instance.getY()+(this._centerY-this._originY)*Math.abs(this._pixiObject.scale.y)},i.prototype.updateSprite=function(){this._sprite=null,this._shouldNotRotate=!1;var e=o.asSpriteObject(this._associatedObject);if(e.hasNoAnimations())return!1;this._renderedAnimation=this._instance.getRawFloatProperty("animation"),this._renderedAnimation>=e.getAnimationsCount()&&(this._renderedAnimation=0);var t=e.getAnimation(this._renderedAnimation);if(t.hasNoDirections())return!1;if(this._renderedDirection=0,t.useMultipleDirections()){var n=Math.floor(this._instance.getAngle())%360;n<0&&(n+=360),this._renderedDirection=Math.round(n/45)%8}this._renderedDirection>=t.getDirectionsCount()&&(this._renderedDirection=0);var a=t.getDirection(this._renderedDirection);return 0!==a.getSpritesCount()&&(this._shouldNotRotate=t.useMultipleDirections(),this._sprite=a.getSprite(0),!0)},i.prototype.updatePIXITexture=function(){if(this.updateSprite(),this._sprite){this._pixiObject.texture=this._pixiResourcesLoader.getPIXITexture(this._project,this._sprite.getImageName());var e=this._sprite.getOrigin();if(this._originX=e.getX(),this._originY=e.getY(),this._sprite.isDefaultCenterPoint())if(this._pixiObject.texture.noFrame){var t=this;this._pixiObject.texture.on("update",function(){t._centerX=t._pixiObject.texture.width/2,t._centerY=t._pixiObject.texture.height/2,t._pixiObject.texture.off("update",this)})}else this._centerX=this._pixiObject.texture.width/2,this._centerY=this._pixiObject.texture.height/2;else{var n=this._sprite.getCenter();this._centerX=n.getX(),this._centerY=n.getY()}}},i.prototype.update=function(){var e=this._instance.getRawFloatProperty("animation");this._renderedAnimation!==e&&this.updatePIXITexture(),this.updatePIXISprite()},i.prototype.getOriginX=function(){return this._sprite&&this._pixiObject?this._sprite.getOrigin().getX()*this._pixiObject.scale.x:0},i.prototype.getOriginY=function(){return this._sprite&&this._pixiObject?this._sprite.getOrigin().getY()*this._pixiObject.scale.y:0},i.prototype.getDefaultWidth=function(){return Math.abs(this._pixiObject.width)},i.prototype.getDefaultHeight=function(){return Math.abs(this._pixiObject.height)},t.a=i}).call(this,n(1))},1317:function(e,t,n){"use strict";(function(e){var a=n(193),r=n(112),o=e.gd;function i(e,t,n,i,s,c){a.a.call(this,e,t,n,i,s,c);var l=o.asTiledSpriteObject(i);this._texture=l.getTexture(),this._pixiObject=new r.extras.TilingSprite(this._pixiResourcesLoader.getPIXITexture(e,l.getTexture()),l.getWidth(),l.getHeight()),this._pixiObject.anchor.x=.5,this._pixiObject.anchor.y=.5,this._pixiContainer.addChild(this._pixiObject)}i.prototype=Object.create(a.a.prototype),i.getThumbnail=function(e,t,n){var a=o.asTiledSpriteObject(n);return t.getResourceFullUrl(e,a.getTexture())},i.prototype.update=function(){var e=o.asTiledSpriteObject(this._associatedObject);this._instance.hasCustomSize()?(this._pixiObject.width=this._instance.getCustomWidth(),this._pixiObject.height=this._instance.getCustomHeight()):(this._pixiObject.width=e.getWidth(),this._pixiObject.height=e.getHeight()),this._texture!==e.getTexture()&&(this._texture=e.getTexture(),this._pixiObject.texture=this._pixiResourcesLoader.getPIXITexture(this._project,e.getTexture())),this._pixiObject.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.y=this._instance.getY()+this._pixiObject.height/2,this._pixiObject.rotation=a.a.toRad(this._instance.getAngle())},i.prototype.getDefaultWidth=function(){return o.asTiledSpriteObject(this._associatedObject).getWidth()},i.prototype.getDefaultHeight=function(){return o.asTiledSpriteObject(this._associatedObject).getHeight()},t.a=i}).call(this,n(1))},1318:function(e,t,n){"use strict";(function(e){var a=n(193),r=n(112),o=e.gd;function i(e,t,n,r,o,i){a.a.call(this,e,t,n,r,o,i),this.makeObjects(),this.updateTexture()}i.prototype=Object.create(a.a.prototype),i.prototype.update=function(){var e=o.asPanelSpriteObject(this._associatedObject);e.isTiled()!==this._tiled&&this.makeObjects(),e.getTexture()!==this._textureName&&this.updateTexture(),this.updateAngle(),this.updatePosition();var t=this._width,n=this._height;if(this._instance.hasCustomSize())this._width=this._instance.getCustomWidth(),this._height=this._instance.getCustomHeight();else{var a=o.asPanelSpriteObject(this._associatedObject);this._width=a.getWidth(),this._height=a.getHeight()}this._width===t&&this._height===n||this.updateWidthHeight()},i.prototype.makeObjects=function(){var e=o.asPanelSpriteObject(this._associatedObject);this._textureName=e.getTexture();var t=this._pixiResourcesLoader.getPIXITexture(this._project,this._textureName);this._tiled=e.isTiled();var n=this._tiled?r.extras.TilingSprite:r.Sprite;this._pixiObject||(this._pixiObject=new r.Container,this._pixiContainer.addChild(this._pixiObject)),this._centerSprite=new n(new r.Texture(t)),this._borderSprites=[new n(new r.Texture(t)),new r.Sprite(t),new n(new r.Texture(t)),new r.Sprite(t),new n(new r.Texture(t)),new r.Sprite(t),new n(new r.Texture(t)),new r.Sprite(t)],this._pixiObject.removeChildren(),this._pixiObject.addChild(this._centerSprite);for(var a=0;a<this._borderSprites.length;++a)this._pixiObject.addChild(this._borderSprites[a])},i.prototype.updateAngle=function(){this._pixiObject.rotation=a.a.toRad(this._instance.getAngle())},i.prototype.updatePosition=function(){this._pixiObject.x=this._instance.getX()+this._width/2,this._pixiObject.y=this._instance.getY()+this._height/2},i.prototype._updateLocalPositions=function(){var e=o.asPanelSpriteObject(this._associatedObject);this._centerSprite.position.x=e.getLeftMargin(),this._centerSprite.position.y=e.getTopMargin(),this._borderSprites[0].position.x=this._width-e.getRightMargin(),this._borderSprites[0].position.y=e.getTopMargin(),this._borderSprites[1].position.x=this._width-this._borderSprites[1].width,this._borderSprites[1].position.y=0,this._borderSprites[2].position.x=e.getLeftMargin(),this._borderSprites[2].position.y=0,this._borderSprites[3].position.x=0,this._borderSprites[3].position.y=0,this._borderSprites[4].position.x=0,this._borderSprites[4].position.y=e.getTopMargin(),this._borderSprites[5].position.x=0,this._borderSprites[5].position.y=this._height-this._borderSprites[5].height,this._borderSprites[6].position.x=e.getLeftMargin(),this._borderSprites[6].position.y=this._height-e.getBottomMargin(),this._borderSprites[7].position.x=this._width-this._borderSprites[7].width,this._borderSprites[7].position.y=this._height-this._borderSprites[7].height},i.prototype._updateSpritesAndTexturesSize=function(){var e=o.asPanelSpriteObject(this._associatedObject);this._centerSprite.width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._centerSprite.height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[0].width=e.getRightMargin(),this._borderSprites[0].height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[2].height=e.getTopMargin(),this._borderSprites[2].width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._borderSprites[4].width=e.getLeftMargin(),this._borderSprites[4].height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[6].height=e.getBottomMargin(),this._borderSprites[6].width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._wasRendered=!0,this._pixiObject.cacheAsBitmap=!1},i.prototype.updateTexture=function(){var e=o.asPanelSpriteObject(this._associatedObject);this._textureName=e.getTexture();var t=this._pixiResourcesLoader.getPIXITexture(this._project,this._textureName);if(t.noFrame){var n=this;t.on("update",function(){n.updateTexture(),t.off("update",this)})}else console.log("Updating PanelSprite instance texture"),this._centerSprite.texture=new r.Texture(t,a(new r.Rectangle(e.getLeftMargin(),e.getTopMargin(),t.width-e.getLeftMargin()-e.getRightMargin(),t.height-e.getTopMargin()-e.getBottomMargin()))),this._borderSprites[0].texture=new r.Texture(t,a(new r.Rectangle(t.width-e.getRightMargin(),e.getTopMargin(),e.getRightMargin(),t.height-e.getTopMargin()-e.getBottomMargin()))),this._borderSprites[1].texture=new r.Texture(t,a(new r.Rectangle(this._borderSprites[1].width-e.getRightMargin(),0,e.getRightMargin(),e.getTopMargin()))),this._borderSprites[2].texture=new r.Texture(t,a(new r.Rectangle(e.getLeftMargin(),0,t.width-e.getLeftMargin()-e.getRightMargin(),e.getTopMargin()))),this._borderSprites[3].texture=new r.Texture(t,a(new r.Rectangle(0,0,e.getLeftMargin(),e.getTopMargin()))),this._borderSprites[4].texture=new r.Texture(t,a(new r.Rectangle(0,e.getTopMargin(),e.getLeftMargin(),t.height-e.getTopMargin()-e.getBottomMargin()))),this._borderSprites[5].texture=new r.Texture(t,a(new r.Rectangle(0,this._borderSprites[5].height-e.getBottomMargin(),e.getLeftMargin(),e.getBottomMargin()))),this._borderSprites[6].texture=new r.Texture(t,a(new r.Rectangle(e.getLeftMargin(),t.height-e.getBottomMargin(),t.width-e.getLeftMargin()-e.getRightMargin(),e.getBottomMargin()))),this._borderSprites[7].texture=new r.Texture(t,a(new r.Rectangle(this._borderSprites[7].width-e.getRightMargin(),this._borderSprites[7].height-e.getBottomMargin(),e.getRightMargin(),e.getBottomMargin()))),this._updateSpritesAndTexturesSize(),this._updateLocalPositions(),this.updatePosition();function a(e){return e.width<0&&(e.width=0),e.height<0&&(e.height=0),e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x>t.width&&(e.x=t.width),e.y>t.height&&(e.y=t.height),e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),e}},i.prototype.updateWidthHeight=function(){this._pixiObject.pivot.x=this._width/2,this._pixiObject.pivot.y=this._height/2,this._updateSpritesAndTexturesSize(),this._updateLocalPositions(),this.updatePosition()},i.prototype.getDefaultWidth=function(){return o.asPanelSpriteObject(this._associatedObject).getWidth()},i.prototype.getDefaultHeight=function(){return o.asPanelSpriteObject(this._associatedObject).getHeight()},i.getThumbnail=function(e,t,n){var a=o.asPanelSpriteObject(n);return t.getResourceFullUrl(e,a.getTexture())},t.a=i}).call(this,n(1))},1319:function(e,t,n){"use strict";(function(e){var a=n(193),r=n(112),o=e.gd;function i(e,t,n,i,s,c){a.a.call(this,e,t,n,i,s,c);var l=o.asTextObject(this._associatedObject);this._pixiObject=new r.Text(" ",{align:"left"}),this._pixiObject.anchor.x=.5,this._pixiObject.anchor.y=.5,this._pixiContainer.addChild(this._pixiObject),this._styleFontDirty=!0,this._fontFamily=this._pixiResourcesLoader.getFontFamily(this._project,l.getFontName()),this.update()}i.prototype=Object.create(a.a.prototype),i.getThumbnail=function(e,t,n){return"CppPlatform/Extensions/texticon24.png"},i.prototype.update=function(){var e=this,t=o.asTextObject(this._associatedObject);this._pixiObject.text=t.getString(),(t.isItalic()!==this._isItalic||t.isBold()!==this._isBold||t.getCharacterSize()!==this._characterSize||this._instance.hasCustomSize()!==this._wrapping||this._instance.getCustomWidth()!==this._wrappingWidth&&this._wrapping)&&(this._isItalic=t.isItalic(),this._isBold=t.isBold(),this._characterSize=t.getCharacterSize(),this._wrapping=this._instance.hasCustomSize(),this._wrappingWidth=this._instance.getCustomWidth(),this._styleFontDirty=!0),this._fontName!==t.getFontName()&&(this._fontName=t.getFontName(),this._pixiResourcesLoader.loadFontFamily(this._project,t.getFontName()).then(function(t){e._fontFamily=t,e._styleFontDirty=!0}).catch(function(e){console.warn("Unable to load font family",e)})),this._styleFontDirty&&(this._pixiObject.style.fontFamily=this._fontFamily||"Arial",this._pixiObject.style.fontSize=Math.max(1,this._characterSize)+"px",this._pixiObject.style.fontStyle=this._isItalic?"italic":"normal",this._pixiObject.style.fontWeight=this._isBold?"bold":"normal",this._pixiObject.style.wordWrap=this._wrapping,this._pixiObject.style.wordWrapWidth=this._wrappingWidth<=1?1:this._wrappingWidth,this._pixiObject.style.breakWords=!0,this._pixiObject.dirty=!0,this._styleFontDirty=!1),t.getColorR()===this._colorR&&t.getColorG()===this._colorG&&t.getColorB()===this._colorB||(this._colorR=t.getColorR(),this._colorG=t.getColorG(),this._colorB=t.getColorB(),this._pixiObject.style.fill="rgb("+this._colorR+","+this._colorG+","+this._colorB+")",this._pixiObject.dirty=!0),this._pixiObject.position.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.position.y=this._instance.getY()+this._pixiObject.height/2,this._pixiObject.rotation=a.a.toRad(this._instance.getAngle())},i.prototype.getDefaultWidth=function(){return this._pixiObject.width},i.prototype.getDefaultHeight=function(){return this._pixiObject.height},t.a=i}).call(this,n(1))},1320:function(e,t,n){"use strict";var a=n(458);t.a=Object(a.a)("CppPlatform/Extensions/primitivedrawingicon.png")},1321:function(e,t,n){"use strict";var a=n(458);t.a=Object(a.a)("CppPlatform/Extensions/textentry.png")},1322:function(e,t,n){"use strict";(function(e){var a=n(193),r=n(112),o=n(238),i=e.gd;function s(e,t,n,o,i,s){a.a.call(this,e,t,n,o,i,s),this._pixiObject=new r.Graphics,this._pixiContainer.addChild(this._pixiObject),this.updateGraphics()}s.prototype=Object.create(a.a.prototype),s.getThumbnail=function(e,t,n){return"CppPlatform/Extensions/particleSystemicon.png"},s.prototype.update=function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this.updateGraphics()},s.prototype.updateGraphics=function(){var e=i.asParticleEmitterObject(this._associatedObject);this._pixiObject.clear();var t=this._instance.getAngle()/180*3.14159,n=e.getConeSprayAngle(),a=t-n/2/180*3.14159,r=t+n/2/180*3.14159;this._pixiObject.beginFill(0,0),this._pixiObject.lineStyle(3,Object(o.c)(e.getParticleRed2(),e.getParticleGreen2(),e.getParticleBlue2()),1),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(64*Math.cos(a),64*Math.sin(a)),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(64*Math.cos(r),64*Math.sin(r)),this._pixiObject.endFill(),this._pixiObject.lineStyle(0,0,1),this._pixiObject.beginFill(Object(o.c)(e.getParticleRed1(),e.getParticleGreen1(),e.getParticleBlue1())),this._pixiObject.drawCircle(0,0,8),this._pixiObject.endFill()},s.prototype.getDefaultWidth=function(){return 128},s.prototype.getDefaultHeight=function(){return 128},s.prototype.getOriginX=function(){return 64},s.prototype.getOriginY=function(){return 64},t.a=s}).call(this,n(1))},1323:function(e,t,n){"use strict";var a=n(458);t.a=Object(a.a)("JsPlatform/Extensions/skeletonicon24.png")},1324:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(1325),r=n.n(a),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("undefined"!==typeof FontFace){var a=new FontFace(e,t,n);return document.fonts.add(a),a.load()}var o=document.createElement("style");return o.appendChild(document.createTextNode("@font-face {\n          font-family: ".concat(e,";\n          src: ").concat(t,";\n        }"))),document.head.appendChild(o),new r.a(e,n).load().catch(function(t){throw console.warn("Error while loading font ".concat(e),t),t})}},1326:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return v});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(90),p=n(80),m=n(698),h=n(459),f=n(89),g={button:{margin:5},description:{display:"inline-block",marginRight:5}},b=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))))._yesButton=u.a.createRef(),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){Object(h.a)(this._yesButton)}},{key:"render",value:function(){var e=this,t=this.props,n=t.parameterMetadata,a=t.value,r=n?n.getDescription():void 0,o=Object(m.a)(a,n);return u.a.createElement(p.b,null,u.a.createElement(f.a,{style:g.description},r),u.a.createElement(p.a,{noMargin:!0},u.a.createElement(d.a,{style:g.button,label:u.a.createElement(c.Trans,{id:"Yes"}),primary:"yes"===o,onClick:function(){return e.props.onChange("yes")},ref:this._yesButton})),u.a.createElement(p.a,{noMargin:!0},u.a.createElement(d.a,{style:g.button,label:u.a.createElement(c.Trans,{id:"No"}),primary:"yes"!==o,onClick:function(){return e.props.onChange("no")}})))}}]),t}(l.Component),v=function(e){var t=e.value,n=e.parameterMetadata;return"yes"===Object(m.a)(t,n)?u.a.createElement(c.Trans,{id:"yes"}):u.a.createElement(c.Trans,{id:"no"})}},1327:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return v});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(90),p=n(80),m=n(698),h=n(459),f=n(89),g={button:{margin:5},description:{display:"inline-block",marginRight:5}},b=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))))._trueButton=u.a.createRef(),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){Object(h.a)(this._trueButton)}},{key:"render",value:function(){var e=this,t=this.props,n=t.parameterMetadata,a=t.value,r=n?n.getDescription():void 0,o=Object(m.a)(a,n);return u.a.createElement(p.b,null,u.a.createElement(f.a,{style:g.description},r),u.a.createElement(p.a,{noMargin:!0},u.a.createElement(d.a,{style:g.button,label:u.a.createElement(c.Trans,{id:"True"}),primary:"True"===o,onClick:function(){return e.props.onChange("True")},ref:this._trueButton})),u.a.createElement(p.a,{noMargin:!0},u.a.createElement(d.a,{style:g.button,label:u.a.createElement(c.Trans,{id:"False"}),primary:"True"!==o,onClick:function(){return e.props.onChange("False")}})))}}]),t}(l.Component),v=function(e){var t=e.value,n=e.parameterMetadata;return"True"===Object(m.a)(t,n)?u.a.createElement(c.Trans,{id:"true"}):u.a.createElement(c.Trans,{id:"false"})}},1328:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(343),d=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return l.a.createElement(u.a,Object.assign({expressionType:"number",ref:function(t){return e._field=t}},this.props))}}]),t}(c.Component)},1329:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var a=n(135),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n.n(l),d=n(1330),p=n(460),m=n(278),h=n(465),f={flex:1,display:"flex",flexDirection:"column"},g=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).instructionsInfo=Object(h.a)(Object(d.a)(n.props.expressionType).allExpressions,n.props.scope),n.instructionsInfoTree=Object(m.a)(n.instructionsInfo),n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.expressionType,e.scope,Object(a.a)(e,["expressionType","scope"]));return u.a.createElement(p.a,Object.assign({style:f,instructionsInfo:this.instructionsInfo,instructionsInfoTree:this.instructionsInfoTree,iconSize:16},t))}}]),t}(l.Component)},133:function(e,t,n){"use strict";n.d(t,"p",function(){return a}),n.d(t,"q",function(){return r}),n.d(t,"i",function(){return o}),n.d(t,"l",function(){return i}),n.d(t,"m",function(){return s}),n.d(t,"h",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"s",function(){return d}),n.d(t,"r",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"j",function(){return h}),n.d(t,"d",function(){return f}),n.d(t,"f",function(){return g}),n.d(t,"g",function(){return b}),n.d(t,"e",function(){return v}),n.d(t,"b",function(){return E}),n.d(t,"n",function(){return y}),n.d(t,"o",function(){return j});var a="selectable",r="selected",o="icon",i="large-selectable",s="large-selected",c="executable-event-container",l="actions-container",u="conditions-container",d="sub-instructions-container",p="small-width-container",m="instruction-parameter",h="instruction-invalid-parameter",f="disabled-text",g="events-tree",b="with-search-results",v="drop-indicator",E="cant-drop-indicator",y="link-container",j="name-and-icon-container"},1330:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var a=e.gd,r=function(e,t,n){for(var a=[],r=t.keys(),o=0;o<r.size();++o){var i=t.get(r.get(o));if(i.isShown()){for(var s=[],c=0;c<i.getParametersCount();c++)n.objectMetadata&&0===c||n.behaviorMetadata&&c<=1||i.getParameter(c).isCodeOnly()||s.push(i.getParameter(c));var l=i.getFullName(),u=i.getGroup(),d=i.getSmallIconFilename(),p=e+u;a.push({type:r.get(o),name:r.get(o),displayedName:l,fullGroupName:p,iconFilename:d,metadata:i,parameters:s,scope:n,isPrivate:i.isPrivate()})}}return a},o=function(e){for(var t=[],n=[],o=[],i=a.asPlatform(a.JsPlatform.get()).getAllPlatformExtensions(),s=0;s<i.size();++s){var c=i.get(s),l=c.getExtensionObjectsTypes(),u=c.getBehaviorsTypes(),d="";(l.size()>0||u.size()>0)&&(d="BuiltinObject"===c.getName()?"Common expressions for all objects":c.getFullName(),d+="/");var p=c.getAllExpressions,m=c.getAllExpressionsForObject,h=c.getAllExpressionsForBehavior;"string"===e&&(p=c.getAllStrExpressions,m=c.getAllStrExpressionsForObject,h=c.getAllStrExpressionsForBehavior),t.push.apply(t,r(d,p.call(c),{objectMetadata:void 0,behaviorMetadata:void 0}));for(var f=0;f<l.size();++f){var g=l.get(f),b=c.getObjectMetadata(g);n.push.apply(n,r(d,m.call(c,g),{objectMetadata:b}))}for(var v=0;v<u.size();++v){var E=u.get(v),y=c.getBehaviorMetadata(E);o.push.apply(o,r(d,h.call(c,E),{behaviorMetadata:y}))}}return{allExpressions:[].concat(t,n,o),freeExpressions:t,objectsExpressions:n,behaviorsExpressions:o}}}).call(this,n(1))},1336:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=function(e,t,n){var a=t.getParametersCount();return e.filter(function(e,r){return!(r<n)&&(r<a&&!t.getParameter(r).isCodeOnly())})},r=function(e,t){var n=e.name||"";if(e.scope.objectMetadata){var r=t[0],o=a(t,e.metadata,1).join(", ");return"".concat(r,".").concat(n,"(").concat(o,")")}if(e.scope.behaviorMetadata){var i=t[0],s=t[1],c=a(t,e.metadata,2).join(", ");return"".concat(i,".").concat(s,"::").concat(n,"(").concat(c,")")}var l=a(t,e.metadata,0).join(", ");return"".concat(n,"(").concat(l,")")}},1337:function(e,t,n){"use strict";var a=n(83),r=n(10),o={width:"100%",position:"absolute",whiteSpace:"pre-wrap",wordWrap:"break-word",color:"transparent"},i={backgroundColor:"rgba(244, 67, 54, 0.15)",borderSizing:"border-box",borderBottom:"3px solid rgba(244, 67, 54, 0.7)"};t.a=function(e){var t=e.value,n=e.style,s=e.highlights.slice().sort(function(e,t){return e.begin-t.begin}),c=[],l=0;return s.forEach(function(e,n){var a=Math.max(e.begin,l);a!==l&&c.push(r.createElement("span",{key:"defaultText-".concat(n)},t.substring(l,a))),l<e.end&&(c.push(r.createElement("span",{key:"highlightedText-".concat(n),style:i},t.substring(a,e.end))),l=e.end)}),l<t.length&&c.push(r.createElement("span",{key:"defaultText-end"},t.substring(l))),r.createElement("div",{style:Object(a.a)({},o,n)},c)}},134:function(e,t,n){"use strict";var a=n(83),r=n(10),o=n(2178),i={container:{display:"flex",flexDirection:"column"},maxWidth:{maxWidth:"100%"}};t.a=function(e){return r.createElement(o.a,{square:!0,style:Object(a.a)({},i.container,{height:e.noFullHeight?void 0:"100%",width:e.width?e.width:void 0,flex:e.noExpand?void 0:1},e.maxWidth?i.maxWidth:void 0)},e.children)}},1340:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(343),d=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return l.a.createElement(u.a,Object.assign({expressionType:"string",ref:function(t){return e._field=t}},this.props))}}]),t}(c.Component)},1341:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(168),d=function(e){if(!e)return[];try{return JSON.parse(e.getExtraInfo())}catch(t){console.error("The parameter seems misconfigured, as an array of choices could not be extracted - verify that your properly wrote a list of choices in JSON format. Full exception is:",t)}return[]},p=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,r=t.isInline,o=t.parameterMetadata;return l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:o?o.getDescription():void 0,helperMarkdownText:o?o.getLongDescription():void 0,fullWidth:!0,value:n,onChange:a,dataSource:d(o).map(function(e){return{text:'"'+e+'"',value:'"'+e+'"'}}),openOnFocus:!r,ref:function(t){return e._field=t}})}}]),t}(c.Component)},1342:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(702),d=n(168),p=e.gd,m=function(e){function t(e){var n;Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={errorText:null},n._behaviorNames=[],n._getError=function(e){return e||n.props.value?0!==n._behaviorNames.filter(function(e){return n.props.value===e}).length?null:"This behavior is not attached to the object":null},n._doValidation=function(e){n.setState({errorText:n._getError(e)})},n._forceChooseBehavior=function(){1===n._behaviorNames.length&&n.props.value!==n._behaviorNames[0]&&n.props.onChange(n._behaviorNames[0])};var r=n.props.parameterMetadata;return n._description=r?r.getDescription():void 0,n._longDescription=r?r.getLongDescription():void 0,n._behaviorTypeAllowed=r?r.getExtraInfo():void 0,n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"_updateBehaviorsList",value:function(){var e=this,t=this.props,n=t.instructionMetadata,a=t.instruction,r=t.expressionMetadata,o=t.expression,i=t.parameterIndex,s=Object(u.a)({instructionMetadata:n,instruction:a,expressionMetadata:r,expression:o,parameterIndex:i});s&&(this._behaviorNames=p.getBehaviorsOfObject(this.props.globalObjectsContainer,this.props.objectsContainer,s,!0).toJSArray().filter(function(t){return!e._behaviorTypeAllowed||p.getTypeOfBehavior(e.props.globalObjectsContainer,e.props.objectsContainer,t)===e._behaviorTypeAllowed}))}},{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"componentDidUpdate",value:function(){this._forceChooseBehavior()}},{key:"componentDidMount",value:function(){this._forceChooseBehavior()}},{key:"render",value:function(){var e=this;this._updateBehaviorsList();var t=""!==this._behaviorTypeAllowed?l.createElement(c.Trans,{id:"The behavior is not attached to this object. Please select another object or add this behavior."}):l.createElement(c.Trans,{id:"This object has no behaviors: please add this behavior to the object first."});return l.createElement(d.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:this._description,helperMarkdownText:this._longDescription,fullWidth:!0,errorText:this._behaviorNames.length?this.state.errorText:t,value:this.props.value,onChange:this.props.onChange,onBlur:function(t){e._doValidation(t.currentTarget.value)},dataSource:this._behaviorNames.map(function(e){return{text:e,value:e}}),openOnFocus:!this.props.isInline,disabled:this._behaviorNames.length<=1,ref:function(t){return e._field=t}})}}]),t}(l.Component)}).call(this,n(1))},1343:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(517),d=n(231),p=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={editorOpen:!1},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.scope,n=t.layout;return l.createElement(l.Fragment,null,l.createElement(u.a,{variablesContainer:n?n.getVariables():null,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,ref:function(t){return e._field=t},onOpenDialog:function(){return e.setState({editorOpen:!0})},globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:t}),this.state.editorOpen&&n&&l.createElement(d.a,{open:!0,variablesContainer:n.getVariables(),onCancel:function(){return e.setState({editorOpen:!1})},onApply:function(){e.setState({editorOpen:!1})},emptyExplanationMessage:l.createElement(c.Trans,{id:"Scene variables can be used to store any value or text during the game."}),emptyExplanationSecondMessage:l.createElement(c.Trans,{id:"For example, you can have a variable called Score representing the current score of the player."})}))}}]),t}(l.Component),m=function(e){var t=e.value;return Object(u.b)(t,"res/types/scenevar.png","scene variable")}},1344:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(517),d=n(231),p=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={editorOpen:!1},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.scope;return l.createElement(l.Fragment,null,l.createElement(u.a,{variablesContainer:n?n.getVariables():null,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,ref:function(t){return e._field=t},onOpenDialog:function(){return e.setState({editorOpen:!0})},globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:a}),this.state.editorOpen&&n&&l.createElement(d.a,{open:this.state.editorOpen,variablesContainer:n.getVariables(),onCancel:function(){return e.setState({editorOpen:!1})},onApply:function(){e.setState({editorOpen:!1})},emptyExplanationMessage:l.createElement(c.Trans,{id:"Global variables are variables that are persisted across the scenes during the game."})}))}}]),t}(l.Component),m=function(e){var t=e.value;return Object(u.b)(t,"res/types/globalvar.png","global variable")}},1345:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(517),u=n(231),d=n(702),p=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={editorOpen:!1},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.scope,r=t.instructionMetadata,o=t.instruction,i=t.expressionMetadata,s=t.expression,p=t.parameterIndex,m=Object(d.a)({instructionMetadata:r,instruction:o,expressionMetadata:i,expression:s,parameterIndex:p}),h=null;if(m){var f=a.layout;f&&f.hasObjectNamed(m)?h=f.getObject(m).getVariables():n&&n.hasObjectNamed(m)&&(h=n.getObject(m).getVariables())}return c.createElement(c.Fragment,null,c.createElement(l.a,{variablesContainer:h,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,ref:function(t){return e._field=t},onOpenDialog:function(){return e.setState({editorOpen:!0})},globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:a}),this.state.editorOpen&&h&&c.createElement(u.a,{open:this.state.editorOpen,variablesContainer:h,onCancel:function(){return e.setState({editorOpen:!1})},onApply:function(){e.setState({editorOpen:!1})}}))}}]),t}(c.Component),m=function(e){var t=e.value;return Object(l.b)(t,"res/types/objectvar.png","object variable")}},1346:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(96),d=n(168),p=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,r=t.isInline,o=t.scope,i=t.parameterMetadata,s=o.layout,c=s?Object(u.mapFor)(0,s.getLayersCount(),function(e){return s.getLayerAt(e).getName()}):[];return l.a.createElement(d.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:i?i.getDescription():void 0,helperMarkdownText:i?i.getLongDescription():void 0,fullWidth:!0,value:n,onChange:a,openOnFocus:r,dataSource:c.map(function(e){return{text:e?'"'.concat(e,'"'):'"" (Base layer)',value:'"'.concat(e,'"')}}),hintText:'""',ref:function(t){return e._field=t}})}}]),t}(c.Component)},1347:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(221),p=n(114),m=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?u.a.createElement(d.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:p.a,resourceKind:"audio",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:u.a.createElement(c.Trans,{id:"Choose the audio file to use"}),ref:function(t){return e._field=t}}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for AudioResourceField"),null)}}]),t}(l.Component)},1348:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(221),p=n(114),m=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?u.a.createElement(d.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:p.a,resourceKind:"video",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:u.a.createElement(c.Trans,{id:"Choose the video file to use"}),ref:function(t){return e._field=t}}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for VideoResourceField"),null)}}]),t}(l.Component)},1349:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(221),p=n(114),m=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?u.a.createElement(d.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:p.a,resourceKind:"json",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:u.a.createElement(c.Trans,{id:"Choose the json file to use"}),ref:function(t){return e._field=t}}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for JsonResourceField"),null)}}]),t}(l.Component)},1350:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(343),d=n(280),p=function(e){var t=e.replace(/"/g,"").split(";");if(3!==t.length)return null;var n=parseInt(t[0],10),a=parseInt(t[1],10),r=parseInt(t[2],10);return n!==n||a!==a||r!==r?null:{r:n,g:a,b:r,a:255}},m=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return l.a.createElement(u.a,Object.assign({expressionType:"string",ref:function(t){return e._field=t},renderExtraButton:function(t){var n=t.style;return l.a.createElement(d.a,{style:n,disableAlpha:!0,color:p(e.props.value),onChangeComplete:function(t){e.props.onChange('"'+t.rgb.r+";"+t.rgb.g+";"+t.rgb.b+'"')}})}},this.props))}}]),t}(c.Component)},137:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var a=n(83),r=n(10),o=n(80),i=n(177),s={flexShrink:0},c={container:{flex:1,display:"flex",alignItems:"flex-start"},filledTextFieldWithLabelRightButtonMargins:Object(a.a)({},s,{marginTop:24,marginLeft:10}),filledTextFieldWithoutLabelRightButtonMargins:Object(a.a)({},s,{marginTop:15,marginLeft:10}),standardTextFieldWithLabelRightButtonMargins:Object(a.a)({},s,{marginTop:17,marginLeft:10}),standardTextFieldWithoutLabelRightButtonMargins:Object(a.a)({},s,{marginTop:0,marginLeft:10})},l=function(e){var t=e.margin,n=e.noFloatingLabelText,a=e.renderTextField,o=e.renderButton;return r.createElement("div",{style:c.container},a(),o("none"===t?n?c.standardTextFieldWithoutLabelRightButtonMargins:c.standardTextFieldWithLabelRightButtonMargins:n?c.filledTextFieldWithoutLabelRightButtonMargins:c.filledTextFieldWithLabelRightButtonMargins))},u=function(e){var t=e.alignItems,n=e.justifyContent,a=e.expand,s=e.noMargin,c=e.children,l=!0;return r.createElement(i.a,null,function(e){return"small"===e?r.Children.map(c,function(e,t){return r.createElement(o.b,{expand:!0},e)}):r.createElement(o.b,{alignItems:t,justifyContent:n,expand:a,noMargin:s},r.Children.map(c,function(e,t){if(!e)return null;var n=!l;return l=!1,r.createElement(r.Fragment,null,n&&r.createElement(o.c,null),n&&r.createElement(o.c,null),e)}))})}},142:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i});var a=n(78),r=n(10),o=[{key:"use-non-smoothed-textures",label:r.createElement(a.Trans,{id:"Using non smoothed textures"})},{key:"use-nearest-scale-mode",label:r.createElement(a.Trans,{id:"Using Nearest Scale Mode"})},{key:"maximum-fps-too-low",label:r.createElement(a.Trans,{id:"Maximum Fps is too low"})},{key:"minimum-fps-too-low",label:r.createElement(a.Trans,{id:"Minimum Fps is too low"})},{key:"function-extractor-explanation",label:r.createElement(a.Trans,{id:"Using function extractor"})},{key:"events-based-behavior-explanation",label:r.createElement(a.Trans,{id:"Using events based behavior"})},{key:"empty-events-based-behavior-explanation",label:r.createElement(a.Trans,{id:"Using empty events based behavior"})},{key:"too-much-effects",label:r.createElement(a.Trans,{id:"Using too much effects"})},{key:"effects-usage",label:r.createElement(a.Trans,{id:"Using effects"})},{key:"resource-properties-panel-explanation",label:r.createElement(a.Trans,{id:"Using the resource properties panel"})},{key:"instance-drag-n-drop-explanation",label:r.createElement(a.Trans,{id:"Using instance drag'n'drop"})},{key:"objects-panel-explanation",label:r.createElement(a.Trans,{id:"Using the objects panel"})},{key:"instance-properties-panel-explanation",label:r.createElement(a.Trans,{id:"Using the instance properties panel"})},{key:"physics2-shape-collisions",label:r.createElement(a.Trans,{id:"Collisions handling with the Physics engine"})},{key:"edit-instruction-explanation",label:r.createElement(a.Trans,{id:"How to edit instructions"})}],i={values:{language:"en",autoDownloadUpdates:!0,themeName:"GDevelop default",codeEditorThemeName:"vs-dark",hiddenAlertMessages:{},autoDisplayChangelog:!0,lastLaunchedVersion:void 0,eventsSheetShowObjectThumbnails:!0,autosaveOnPreview:!0,useNewInstructionEditorDialog:!1,useGDJSDevelopmentWatcher:!0,eventsSheetUseAssignmentOperators:!1,showEffectParameterNames:!1},setLanguage:function(){},setThemeName:function(){},setCodeEditorThemeName:function(){},setAutoDownloadUpdates:function(){},checkUpdates:function(){},setAutoDisplayChangelog:function(){},showAlertMessage:function(e,t){},verifyIfIsNewVersion:function(){return!1},setEventsSheetShowObjectThumbnails:function(){},setAutosaveOnPreview:function(){},setUseNewInstructionEditorDialog:function(e){},setUseGDJSDevelopmentWatcher:function(e){},setEventsSheetUseAssignmentOperators:function(e){},setShowEffectParameterNames:function(e){}},s=r.createContext(i);t.b=s},143:function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return g}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return v}),n.d(t,"f",function(){return E});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(2196),u=n(2197),d=n(2199),p=n(2198),m=n(2200),h=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement(l.a,Object.assign({size:"small"},this.props))}}]),t}(c.Component),f=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement(u.a,this.props)}}]),t}(c.Component),g=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement(p.a,this.props)}}]),t}(c.Component),b=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement(d.a,this.props)}}]),t}(c.Component),v=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement(m.a,this.props)}}]),t}(c.Component),E=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement(d.a,this.props)}}]),t}(c.Component)},1436:function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return E});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(90),p=n(80),m=n(710),h=n(343),f=n(180),g=n(459),b=n(89),v=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))))._instantButton=u.a.createRef(),n.state={showDeprecatedNumericValue:""!==n.props.value&&"1"!==n.props.value&&"0"!==n.props.value},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){Object(g.a)(this._instantButton)}},{key:"render",value:function(){var e=this,t=this.state.showDeprecatedNumericValue;return u.a.createElement(p.a,{expand:!0,noMargin:!0},u.a.createElement(p.b,{expand:!0,alignItems:"center"},u.a.createElement(p.a,null,u.a.createElement(d.a,{label:Object(m.a)("Instant"),primary:""===this.props.value||"0"===this.props.value,onClick:function(){return e.props.onChange("0")},ref:this._instantButton})),u.a.createElement(p.a,null,u.a.createElement(b.a,null,u.a.createElement(c.Trans,{id:"The force will only push the object during the time of one frame. Typically used in an event with no conditions or with conditions that stay valid for a certain amount of time."})))),u.a.createElement(p.b,{expand:!0,alignItems:"center"},u.a.createElement(p.a,null,u.a.createElement(d.a,{label:u.a.createElement(c.Trans,{id:"Permanent"}),primary:"1"===this.props.value,onClick:function(){return e.props.onChange("1")}})),u.a.createElement(p.a,null,u.a.createElement(b.a,null,u.a.createElement(c.Trans,{id:'The force will push the object forever, unless you use the action "Stop the object". Typically used in an event with conditions that are only true once, or with a "Trigger Once" condition.'})))),t&&u.a.createElement(u.a.Fragment,null,u.a.createElement(f.a,null,u.a.createElement(c.Trans,{id:"or"})),u.a.createElement(p.b,{expand:!0},u.a.createElement(p.a,{expand:!0},u.a.createElement(h.a,Object.assign({expressionType:"number"},this.props)))),u.a.createElement(f.a,null,u.a.createElement(c.Trans,{id:'The usage of a number or expression is deprecated. Please now use only "Permanent" or "Instant" for configuring forces.'}))))}}]),t}(l.Component),E=function(e){var t=e.value;return"1"===t?"a permanent":"0"===t||""===t?"an instant":"a (multiplier: "+t+")"}},1437:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(168),d=n(323),p=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,r=t.isInline,o=t.project,i=t.parameterMetadata,s=o?Object(d.d)(o).map(function(e){return e.getName()}):[];return l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:i?i.getDescription():void 0,helperMarkdownText:i?i.getLongDescription():void 0,fullWidth:!0,value:n,onChange:a,openOnFocus:r,dataSource:s.map(function(e){return{text:'"'.concat(e,'"'),value:'"'.concat(e,'"')}}),hintText:'""',ref:function(t){return e._field=t}})}}]),t}(c.Component)},1438:function(e,t,n){"use strict";var a=n(10),r=n(133);t.a=function(e){var t=e.children;return e.isEmpty?a.createElement("span",{className:r.j},"< ",t," >"):a.createElement("span",{className:r.j},t)}},1439:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return b});var a=n(83),r=n(102),o=n(5),i=n(11),s=n(22),c=n(21),l=n(23),u=n(10),d=n(141),p=n.n(d),m=n(98),h=n(133),f=e.gd,g={container:{height:40,display:"flex",alignItems:"center",padding:5,overflow:"hidden"},title:{fontSize:18}},b=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={editing:!1},n._textField=null,n.edit=function(){n.setState({editing:!0},function(){n._textField&&n._textField.focus()})},n.endEditing=function(){n.setState({editing:!1})},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t,n=this,o=f.asGroupEvent(this.props.event),i=o.getBackgroundColorR(),s=o.getBackgroundColorG(),c=o.getBackgroundColorB(),l=(i+s+c)/3>200?"black":"white";return u.createElement("div",{className:p()((e={},Object(r.a)(e,h.l,!0),Object(r.a)(e,h.m,this.props.selected),e)),style:Object(a.a)({},g.container,{backgroundColor:"rgb(".concat(i,", ").concat(s,", ").concat(c,")")}),onClick:this.edit},this.state.editing?u.createElement(m.b,{ref:function(e){return n._textField=e},value:o.getName(),hintText:{id:"<Enter group name>"},onBlur:this.endEditing,onChange:function(e,t){o.setName(t),n.forceUpdate()},style:g.title,inputStyle:{color:l,WebkitTextFillColor:l},underlineFocusStyle:{borderColor:l},fullWidth:!0,id:"group-title"}):u.createElement("span",{className:p()((t={},Object(r.a)(t,h.p,!0),Object(r.a)(t,h.d,this.props.disabled),t)),style:Object(a.a)({},g.title,{color:l})},o.getName()||"<Enter group name>"))}}]),t}(u.Component)}).call(this,n(1))},144:function(e,t,n){"use strict";t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!t(e))return e;for(var a=n+e,r=2;t(a);++r)a=n+e+r;return a}},1440:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return E});var a=n(102),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(83),u=n(10),d=n(141),p=n.n(d),m=n(98),h=n(238),f=n(133),g=e.gd,b={width:"100%",fontSize:14},v={container:{display:"flex",flexWrap:"wrap",padding:5,overflow:"hidden",minHeight:35},commentTextField:b,commentSpan:Object(l.a)({},b,{boxSizing:"border-box",alignItems:"center",height:"100%",whiteSpace:"initial",lineHeight:1.5,border:1})},E=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={editing:!1},n.edit=function(){n.setState({editing:!0},function(){n._textField&&n._textField.focus()})},n.onEvent=function(e,t){g.asCommentEvent(n.props.event).setComment(t),n.props.onUpdate(),n.forceUpdate()},n.endEditing=function(){n._textField&&n.setState({editing:!1},function(){return n.props.onUpdate()})},n._getCommentHTML=function(){return g.asCommentEvent(n.props.event).getComment().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t,n=this,r=g.asCommentEvent(this.props.event),o=Object(h.b)(r.getBackgroundColorRed(),r.getBackgroundColorGreen(),r.getBackgroundColorBlue()),i=Object(h.b)(r.getTextColorRed(),r.getTextColorGreen(),r.getTextColorBlue());return u.createElement("div",{className:p()((e={},Object(a.a)(e,f.l,!0),Object(a.a)(e,f.m,this.props.selected),e)),style:Object(l.a)({},v.container,{backgroundColor:"#".concat(o)}),onClick:this.edit},this.state.editing?u.createElement(m.b,{multiLine:!0,margin:"none",ref:function(e){return n._textField=e},value:r.getComment(),hintText:{id:"<Enter comment>"},onBlur:this.endEditing,onChange:this.onEvent,style:v.commentTextField,inputStyle:{color:"#".concat(i),padding:0,lineHeight:1.5},underlineFocusStyle:{borderColor:"#".concat(i)},fullWidth:!0,id:"comment-title"}):u.createElement("span",{ref:function(e){return n._selectable=e},className:p()((t={},Object(a.a)(t,f.p,!0),Object(a.a)(t,f.d,this.props.disabled),t)),style:Object(l.a)({},v.commentSpan,{color:"#".concat(i)}),dangerouslySetInnerHTML:{__html:this._getCommentHTML()}}))}}]),t}(u.Component)}).call(this,n(1))},1441:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return y});var a=n(83),r=n(102),o=n(5),i=n(11),s=n(22),c=n(21),l=n(23),u=n(10),d=n(271),p=n(141),m=n.n(p),h=n(133),f=n(282),g=n(440),b=n(345),v=e.gd,E={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}},y=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={editing:!1,anchorEl:null},n.edit=function(e){e.preventDefault(),e.stopPropagation(),n.setState({editing:!0,anchorEl:e.currentTarget})},n.endEditing=function(){n.setState({editing:!1,anchorEl:null})},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t,n=this,o=v.asForEachEvent(this.props.event),i=o.getObjectToPick();return u.createElement("div",{style:E.container,className:m()((e={},Object(r.a)(e,h.l,!0),Object(r.a)(e,h.m,this.props.selected),Object(r.a)(e,h.h,!0),e))},u.createElement("div",null,u.createElement("span",{className:m()((t={},Object(r.a)(t,h.p,!0),Object(r.a)(t,h.d,this.props.disabled),t)),onClick:this.edit},i?"Repeat for each instance of ".concat(i,":"):u.createElement("i",null,"Click to choose for which objects this event will be repeated"))),u.createElement(b.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(e){var t=e.style,a=e.className;return u.createElement(d.a,{instrsList:o.getConditions(),style:t,className:a,selection:n.props.selection,areConditions:!0,onAddNewInstruction:n.props.onAddNewInstruction,onPasteInstructions:n.props.onPasteInstructions,onMoveToInstruction:n.props.onMoveToInstruction,onMoveToInstructionsList:n.props.onMoveToInstructionsList,onInstructionClick:n.props.onInstructionClick,onInstructionDoubleClick:n.props.onInstructionDoubleClick,onInstructionContextMenu:n.props.onInstructionContextMenu,onInstructionsListContextMenu:n.props.onInstructionsListContextMenu,onParameterClick:n.props.onParameterClick,disabled:n.props.disabled,renderObjectThumbnail:n.props.renderObjectThumbnail,screenType:n.props.screenType,windowWidth:n.props.windowWidth})},renderActionsList:function(e){var t=e.className;return u.createElement(d.a,{instrsList:o.getActions(),style:Object(a.a)({},E.actionsList),className:t,selection:n.props.selection,areConditions:!1,onAddNewInstruction:n.props.onAddNewInstruction,onPasteInstructions:n.props.onPasteInstructions,onMoveToInstruction:n.props.onMoveToInstruction,onMoveToInstructionsList:n.props.onMoveToInstructionsList,onInstructionClick:n.props.onInstructionClick,onInstructionDoubleClick:n.props.onInstructionDoubleClick,onInstructionContextMenu:n.props.onInstructionContextMenu,onInstructionsListContextMenu:n.props.onInstructionsListContextMenu,onParameterClick:n.props.onParameterClick,disabled:n.props.disabled,renderObjectThumbnail:n.props.renderObjectThumbnail,screenType:n.props.screenType,windowWidth:n.props.windowWidth})}}),u.createElement(f.a,{open:this.state.editing,anchorEl:this.state.anchorEl,onRequestClose:this.endEditing},u.createElement(g.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:i,onChange:function(e){o.setObjectToPick(e),n.props.onUpdate()},isInline:!0})))}}]),t}(u.Component)}).call(this,n(1))},1442:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return y});var a=n(83),r=n(102),o=n(5),i=n(11),s=n(22),c=n(21),l=n(23),u=n(10),d=n(271),p=n(141),m=n.n(p),h=n(133),f=n(282),g=n(644),b=n(345),v=e.gd,E={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}},y=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={editing:!1,anchorEl:null},n.edit=function(e){e.preventDefault(),e.stopPropagation(),n.setState({editing:!0,anchorEl:e.currentTarget})},n.endEditing=function(){n.setState({editing:!1,anchorEl:null})},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t,n=this,o=v.asRepeatEvent(this.props.event),i=o.getRepeatExpression();return u.createElement("div",{style:E.container,className:m()((e={},Object(r.a)(e,h.l,!0),Object(r.a)(e,h.m,this.props.selected),Object(r.a)(e,h.h,!0),e))},u.createElement("div",null,u.createElement("span",{className:m()((t={},Object(r.a)(t,h.p,!0),Object(r.a)(t,h.d,this.props.disabled),t)),onClick:this.edit},i?"Repeat ".concat(i," times:"):u.createElement("i",null,"Click to choose how many times will be repeated"))),u.createElement(b.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(e){var t=e.style,a=e.className;return u.createElement(d.a,{instrsList:o.getConditions(),style:t,className:a,selection:n.props.selection,areConditions:!0,onAddNewInstruction:n.props.onAddNewInstruction,onPasteInstructions:n.props.onPasteInstructions,onMoveToInstruction:n.props.onMoveToInstruction,onMoveToInstructionsList:n.props.onMoveToInstructionsList,onInstructionClick:n.props.onInstructionClick,onInstructionDoubleClick:n.props.onInstructionDoubleClick,onInstructionContextMenu:n.props.onInstructionContextMenu,onInstructionsListContextMenu:n.props.onInstructionsListContextMenu,onParameterClick:n.props.onParameterClick,disabled:n.props.disabled,renderObjectThumbnail:n.props.renderObjectThumbnail,screenType:n.props.screenType,windowWidth:n.props.windowWidth})},renderActionsList:function(e){var t=e.className;return u.createElement(d.a,{instrsList:o.getActions(),style:Object(a.a)({},E.actionsList),className:t,selection:n.props.selection,areConditions:!1,onAddNewInstruction:n.props.onAddNewInstruction,onPasteInstructions:n.props.onPasteInstructions,onMoveToInstruction:n.props.onMoveToInstruction,onMoveToInstructionsList:n.props.onMoveToInstructionsList,onInstructionClick:n.props.onInstructionClick,onInstructionDoubleClick:n.props.onInstructionDoubleClick,onInstructionContextMenu:n.props.onInstructionContextMenu,onInstructionsListContextMenu:n.props.onInstructionsListContextMenu,onParameterClick:n.props.onParameterClick,disabled:n.props.disabled,renderObjectThumbnail:n.props.renderObjectThumbnail,screenType:n.props.screenType,windowWidth:n.props.windowWidth})}}),u.createElement(f.a,{open:this.state.editing,anchorEl:this.state.anchorEl,onRequestClose:this.endEditing},u.createElement(g.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:i,onChange:function(e){o.setRepeatExpression(e),n.props.onUpdate()},isInline:!0})))}}]),t}(u.Component)}).call(this,n(1))},1443:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return v});var a=n(83),r=n(102),o=n(5),i=n(11),s=n(22),c=n(21),l=n(23),u=n(10),d=n(271),p=n(141),m=n.n(p),h=n(133),f=n(345),g=e.gd,b={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}},v=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this,n=g.asWhileEvent(this.props.event);return u.createElement("div",{style:b.container,className:m()((e={},Object(r.a)(e,h.l,!0),Object(r.a)(e,h.m,this.props.selected),Object(r.a)(e,h.h,!0),e))},u.createElement("div",{className:m()(Object(r.a)({},h.d,this.props.disabled))},"While these conditions are true:"),u.createElement(d.a,{instrsList:n.getWhileConditions(),style:{},className:h.c,selection:this.props.selection,areConditions:!0,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onInstructionsListContextMenu:this.props.onInstructionsListContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth}),u.createElement("div",{className:m()(Object(r.a)({},h.d,this.props.disabled))},"Repeat these:"),u.createElement(f.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(e){var a=e.style,r=e.className;return u.createElement(d.a,{instrsList:n.getConditions(),style:a,className:r,selection:t.props.selection,areConditions:!0,onAddNewInstruction:t.props.onAddNewInstruction,onPasteInstructions:t.props.onPasteInstructions,onMoveToInstruction:t.props.onMoveToInstruction,onMoveToInstructionsList:t.props.onMoveToInstructionsList,onInstructionClick:t.props.onInstructionClick,onInstructionDoubleClick:t.props.onInstructionDoubleClick,onInstructionContextMenu:t.props.onInstructionContextMenu,onInstructionsListContextMenu:t.props.onInstructionsListContextMenu,onParameterClick:t.props.onParameterClick,disabled:t.props.disabled,renderObjectThumbnail:t.props.renderObjectThumbnail,screenType:t.props.screenType,windowWidth:t.props.windowWidth})},renderActionsList:function(e){var r=e.className;return u.createElement(d.a,{instrsList:n.getActions(),style:Object(a.a)({},b.actionsList),className:r,selection:t.props.selection,areConditions:!1,onAddNewInstruction:t.props.onAddNewInstruction,onPasteInstructions:t.props.onPasteInstructions,onMoveToInstruction:t.props.onMoveToInstruction,onMoveToInstructionsList:t.props.onMoveToInstructionsList,onInstructionClick:t.props.onInstructionClick,onInstructionDoubleClick:t.props.onInstructionDoubleClick,onInstructionContextMenu:t.props.onInstructionContextMenu,onInstructionsListContextMenu:t.props.onInstructionsListContextMenu,onParameterClick:t.props.onParameterClick,disabled:t.props.disabled,renderObjectThumbnail:t.props.renderObjectThumbnail,screenType:t.props.screenType,windowWidth:t.props.windowWidth})}}))}}]),t}(u.Component)}).call(this,n(1))},1444:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return O});var a=n(102),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(10),d=n(262),p=n.n(d),m=n(105),h=n(141),f=n.n(h),g=n(133),b=n(282),v=n(1445),E=n(25),y=e.gd,j={container:{height:60,display:"flex",alignItems:"center",padding:5},title:{fontSize:18}},O=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o))))._externalEventsField=null,n.state={editing:!1,anchorEl:null},n.edit=function(e){e.preventDefault(),e.stopPropagation(),n.setState({editing:!0,anchorEl:e.currentTarget},function(){n._externalEventsField&&n._externalEventsField.focus()})},n.openTarget=function(e){var t=n.props,a=t.project,r=t.event,o=t.onOpenLayout,i=t.onOpenExternalEvents,s=y.asLinkEvent(r).getTarget();a.hasExternalEventsNamed(s)?i(s):a.hasLayoutNamed(s)?o(s):Object(E.c)(e._({id:"The specified external events do not exist in the game. Be sure that the name is correctly spelled or create them using the project manager."}))},n.endEditing=function(){n.setState({editing:!1,anchorEl:null})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=y.asLinkEvent(this.props.event),n=t.getTarget();return u.createElement(l.I18n,null,function(r){var o,i=r.i18n;return u.createElement("div",{className:f()((o={},Object(a.a)(o,g.l,!0),Object(a.a)(o,g.m,e.props.selected),Object(a.a)(o,g.n,!0),o)),style:j.container},u.createElement("span",{style:j.title,className:f()(Object(a.a)({},g.d,e.props.disabled))},u.createElement(l.Trans,{id:"Include events from"})," ",u.createElement("i",{className:f()(Object(a.a)({},g.p,!0)),onClick:e.edit},n||u.createElement(l.Trans,{id:"< Enter the name of external events >"}))),u.createElement(m.a,{onClick:function(){return e.openTarget(i)},disabled:!n},u.createElement(p.a,null)),u.createElement(b.a,{open:e.state.editing,anchorEl:e.state.anchorEl,onRequestClose:e.endEditing},u.createElement(v.a,{project:e.props.project,scope:e.props.scope,globalObjectsContainer:e.props.globalObjectsContainer,objectsContainer:e.props.objectsContainer,value:n,onChange:function(n){t.setTarget(n),e.props.onUpdate()},isInline:!0,ref:function(t){return e._externalEventsField=t}})))})}}]),t}(u.Component)}).call(this,n(1))},1445:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(120),l=n(10),u=n(323),d=n(168),p=function(e){if(!e)return[];var t=Object(u.b)(e).map(function(e){return{text:e.getName(),value:e.getName()}}),n=Object(u.d)(e).map(function(e){return{text:e.getName(),value:e.getName()}});return[].concat(Object(c.a)(t),[{type:"separator"}],Object(c.a)(n))},m=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,r=t.isInline,o=t.project,i=t.parameterMetadata;return l.createElement(d.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:i?i.getDescription():void 0,helperMarkdownText:i?i.getLongDescription():void 0,fullWidth:!0,id:"external-events-field",value:n,onChange:a,dataSource:p(o),openOnFocus:!r,ref:function(t){return e._field=t}})}}]),t}(l.Component)},1446:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return C});var a=n(102),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n(24),d=n.n(u),p=n(141),m=n.n(p),h=n(282),f=n(440),g=n(133),b=n(209),v=n(471),E=n.n(v),y=n(2114),j=e.gd,O={container:{minHeight:30,display:"flex",flexDirection:"column",backgroundColor:"#1e1e1e"},wrappingText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:"12px",paddingLeft:5,paddingRight:5,margin:0,backgroundColor:"#1e1e1e",color:"#d4d4d4",overflowX:"hidden",maxWidth:"100%"},comment:{color:"#777"},commentLink:{cursor:"pointer",color:"#777",textDecoration:"underline"}},C=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={width:0,editing:!1,editingObject:!1,anchorEl:null},n.edit=function(){n._container&&n.setState({editing:!0},function(){var e=d.a.findDOMNode(n._input);e&&(e.focus(),e.value=j.asJsCodeEvent(n.props.event).getInlineCode())})},n.endEditing=function(){var e=j.asJsCodeEvent(n.props.event),t=d.a.findDOMNode(n._input);t&&e.setInlineCode(t.value),n.setState({editing:!1},function(){return n.props.onUpdate()})},n.onChange=function(e){j.asJsCodeEvent(n.props.event).setInlineCode(e)},n.editObject=function(e){e.preventDefault(),e.stopPropagation(),n.setState({editingObject:!0,anchorEl:e.currentTarget})},n.endObjectEditing=function(){n.setState({editingObject:!1,anchorEl:null})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this,n=j.asJsCodeEvent(this.props.event),r=n.getParameterObjects(),o=l.createElement("span",{className:m()(Object(a.a)({},g.p,!0)),onClick:this.editObject},r?", objects /*".concat(r,"*/"):" /* Click here to choose objects to pass to JavaScript */"),i=this.props.scope.eventsFunction?l.createElement("span",null,", eventsFunctionContext"):null,s=l.createElement("p",{style:O.wrappingText},l.createElement("span",null,"(function(runtimeScene"),o,i,l.createElement("span",null,") {")),c=l.createElement("p",{style:O.wrappingText},l.createElement("span",null,"})(runtimeScene"),o,i,l.createElement("span",null,");"),l.createElement("span",{style:O.comment}," // ",l.createElement("a",{href:Object(b.a)("/events/js-code"),target:"_blank",rel:"noopener noreferrer",style:O.commentLink},"Read the documentation and help")));return l.createElement(E.a,{onMeasure:function(e){var n=e.width;return t.setState({width:n})}},l.createElement("div",{style:O.container,className:m()((e={},Object(a.a)(e,g.l,!0),Object(a.a)(e,g.m,this.props.selected),e)),ref:function(e){return t._container=e}},s,l.createElement(y.a,{value:n.getInlineCode(),onChange:this.onChange,width:this.state.width,onEditorMounted:function(){return t.props.onUpdate()}}),c,l.createElement(h.a,{open:this.state.editingObject,anchorEl:this.state.anchorEl,onRequestClose:this.endObjectEditing},l.createElement(f.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:r,onChange:function(e){n.setParameterObjects(e),t.props.onUpdate()},isInline:!0}))))}}]),t}(l.Component)}).call(this,n(1))},1451:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(5),r=n(11),o=function(){function e(t){Object(a.a)(this,e),this.eventHeights={},this.updateTimeoutId=null,this.component=null,this.component=t}return Object(r.a)(e,[{key:"_notifyComponent",value:function(){var e=this;this.updateTimeoutId||(this.updateTimeoutId=setTimeout(function(){e.component?e.component.onHeightsChanged(function(){return e.updateTimeoutId=null}):e.updateTimeoutId=null},0))}},{key:"setEventHeight",value:function(e,t){var n=this.eventHeights[e.ptr];void 0!==n&&n===t||this._notifyComponent(),this.eventHeights[e.ptr]=t}},{key:"getEventHeight",value:function(e){return this.eventHeights[e.ptr]||60}}]),e}()},1453:function(e,t,n){},1454:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return k});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(10),d=n(92),p=n(88),m=n(715),h=n(2105),f=n(80),g=n(278),b=n(465),v=n(460),E=n(279),y=n(119),j=n(134),O=n(1456),C=n(1457),x=e.gd,T={fullHeightSelector:{flex:1,display:"flex",flexDirection:"column"}},S=function(e,t){return e.find(function(e){return e.type===t})},k=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state=n._getInitialState(),n._chooseFreeInstruction=function(e){n.props.instruction.setType(e),n.setState({chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null},function(){return n._stepToParameters()})},n._chooseObjectInstruction=function(e){n.props.instruction.setType(e),n._stepToParameters()},n._stepBackFrom=function(e,t){return"parameters"===e&&n.state.chosenObjectName?n.setState({step:"medium"===t?"object-or-free-instructions":"object-instructions"}):n.setState({step:"object-or-free-instructions"})},n._stepToParameters=function(){n.setState({step:"parameters"},function(){n._instructionParametersEditor&&n._instructionParametersEditor.focus()})},n._getInstructionMetadata=function(){var e=n.props,t=e.instruction,a=e.isCondition,r=e.project,o=t.getType();return o?a?x.MetadataProvider.getConditionMetadata(r.getCurrentPlatform(),o):x.MetadataProvider.getActionMetadata(r.getCurrentPlatform(),o):null},n._changeTab=function(e){return n.setState({currentInstructionOrObjectSelectorTab:e})},n._forceUpdate=function(){n.forceUpdate()},n._chooseObject=function(e){n.setState(n._getChosenObjectState(e,!0))},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"_getInitialState",value:function(){var e=this.props,t=e.isNewInstruction,n=e.isCondition,r=e.instruction;if(!t){var o=Object(E.b)(n),i=r.getType(),s=S(o,i);if(s&&(s.scope.objectMetadata||s.scope.behaviorMetadata)){var c=Object(E.e)(s.metadata);if(-1!==c)return Object(a.a)({},this._getChosenObjectState(r.getParameter(c),!1),{step:t?"object-or-free-instructions":"parameters",currentInstructionOrObjectSelectorTab:"objects"})}}return{chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null,step:t?"object-or-free-instructions":"parameters",currentInstructionOrObjectSelectorTab:t?"objects":"free-instructions"}}},{key:"_getChosenObjectState",value:function(e,t){var n=this.props,a=n.globalObjectsContainer,r=n.objectsContainer,o=n.isCondition,i=n.scope,s=n.instruction,c=Object(b.a)(Object(E.c)(o,a,r,e),i);s.getType()&&t&&(S(c,s.getType())||s.setType(""));return{step:"object-instructions",chosenObjectName:e,chosenObjectInstructionsInfo:c,chosenObjectInstructionsInfoTree:Object(g.a)(c),currentInstructionOrObjectSelectorTab:"objects"}}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.scope,r=t.globalObjectsContainer,o=t.objectsContainer,i=t.onCancel,s=t.onSubmit,c=t.open,g=t.instruction,b=t.isCondition,E=this.state,x=E.step,S=E.chosenObjectName,k=E.chosenObjectInstructionsInfo,w=E.chosenObjectInstructionsInfoTree,N=E.currentInstructionOrObjectSelectorTab,_=g.getType(),P=this._getInstructionMetadata(),I=P?P.getHelpPath():void 0,B=function(){return u.createElement(j.a,{noFullHeight:!0,key:"instruction-or-object-selector"},u.createElement(h.a,{style:T.fullHeightSelector,project:n,currentTab:N,onChangeTab:e._changeTab,globalObjectsContainer:r,objectsContainer:o,isCondition:b,chosenInstructionType:S?void 0:_,onChooseInstruction:e._chooseFreeInstruction,chosenObjectName:S,onChooseObject:e._chooseObject,focusOnMount:!_,onSearchStartOrReset:e._forceUpdate}))},M=function(){return u.createElement(f.a,{expand:!0,justifyContent:"center",key:"parameters"},u.createElement(m.a,{project:n,scope:a,globalObjectsContainer:r,objectsContainer:o,objectName:S,isCondition:b,instruction:g,resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors,openInstructionOrExpression:e.props.openInstructionOrExpression,ref:function(t){return e._instructionParametersEditor=t},focusOnMount:!!_,noHelpButton:!0}))},F=function(){return w&&k?u.createElement(v.a,{key:"object-instruction-selector",style:T.fullHeightSelector,instructionsInfo:k,instructionsInfoTree:w,iconSize:24,onChoose:e._chooseObjectInstruction,selectedType:_,useSubheaders:!0,focusOnMount:!_,searchPlaceholderObjectName:S,searchPlaceholderIsCondition:b}):null};return u.createElement(C.a,null,function(t){return u.createElement(d.a,{actions:[u.createElement(p.a,{label:u.createElement(l.Trans,{id:"Cancel"}),primary:!1,onClick:i,key:"cancel"}),u.createElement(p.a,{label:u.createElement(l.Trans,{id:"Ok"}),primary:!0,keyboardFocused:!1,disabled:!_,onClick:s,key:"ok"})],secondaryActions:["large"!==t&&"object-or-free-instructions"!==x?u.createElement(p.a,{label:u.createElement(l.Trans,{id:"Back"}),primary:!1,onClick:function(){return e._stepBackFrom(x,t)},key:"back"}):null,u.createElement(y.a,{key:"help",helpPagePath:I||"/events",label:I&&"small"!==t&&"object-or-free-instructions"!==x?e.props.isCondition?u.createElement(l.Trans,{id:"Help for this condition"}):u.createElement(l.Trans,{id:"Help for this action"}):u.createElement(l.Trans,{id:"Help"})})],open:c,onRequestClose:i,maxWidth:!1,noMargin:!0,flexRowBody:!0},u.createElement(O.a,{columnsRenderer:{"instruction-or-object-selector":B,"object-instruction-selector":F,parameters:M},getColumns:function(){return"large"===t?S?["instruction-or-object-selector","object-instruction-selector","parameters"]:["instruction-or-object-selector","parameters"]:"medium"===t?"object-or-free-instructions"===x?["instruction-or-object-selector"]:S?["object-instruction-selector","parameters"]:["parameters"]:"object-or-free-instructions"===x?["instruction-or-object-selector"]:"object-instructions"===x?["object-instruction-selector"]:["parameters"]}}))})}}]),t}(u.Component)}).call(this,n(1))},1455:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e,t,n){var a=[".","=","-"],r="-";return"undefined"!=typeof n&&(a=n),"undefined"!=typeof t&&(r=t),e.replace(/\xfc/g,"ue").replace(/\xe4/g,"ae").replace(/\xf6/g,"oe").replace(/\xdf/g,"ss").replace(new RegExp("["+a.join("")+"]","g")," ").replace(/-{2,}/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"").replace(/[^\w ]/gi,"").replace(/[ ]/gi,r)}},1456:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(10),r=n(80),o=function(e){var t=e.getColumns();return a.createElement(r.b,{noMargin:!0,expand:!0},t.map(function(t){return e.columnsRenderer[t]?e.columnsRenderer[t]():null}))}},1457:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(10);var a=function(e){var t=e.children;return"undefined"===typeof window?t("medium"):t(window.innerWidth<750?"small":window.innerWidth<1150?"medium":"large")}},1458:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return y}),n.d(t,"a",function(){return j});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(92),d=n(88),p=n(80),m=n(280),h=n(170),f=n(113),g=e.gd,b={sizeTextField:{width:90}},v={r:255,g:255,b:255},E={r:0,g:0,b:0},y=function(e){return e.filter(function(e){return["BuiltinCommonInstructions::Group","BuiltinCommonInstructions::Comment"].includes(e.getType())})},j=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))))._applyChangesOnEvent=function(){var e=n.props.event,t=n.state,a=t.textValue,r=t.textColor,o=t.backgroundColor,i=e.getType();if("BuiltinCommonInstructions::Comment"===i)g.asCommentEvent(e).setComment(a),g.asCommentEvent(e).setTextColor(r.r,r.g,r.b),g.asCommentEvent(e).setBackgroundColor(o.r,o.g,o.b);else if("BuiltinCommonInstructions::Group"===i)return g.asGroupEvent(e).setName(a),void g.asGroupEvent(e).setBackgroundColor(o.r,o.g,o.b)},n._getInitialStateFromEvent=function(){var e=n.props.event,t=e.getType(),a="",r=E,o=E;if("BuiltinCommonInstructions::Comment"===t){var i=g.asCommentEvent(e);r={r:i.getTextColorRed(),g:i.getTextColorGreen(),b:i.getTextColorBlue()},o={r:i.getBackgroundColorRed(),g:i.getBackgroundColorGreen(),b:i.getBackgroundColorBlue()},a=g.asCommentEvent(e).getComment()}else if("BuiltinCommonInstructions::Group"===t){var s=g.asGroupEvent(e);r=(s.getBackgroundColorR()+s.getBackgroundColorG()+s.getBackgroundColorB())/3>200?E:v,o={r:s.getBackgroundColorR(),g:s.getBackgroundColorG(),b:s.getBackgroundColorB()},a=g.asGroupEvent(e).getName()}else console.error("Dialog was opened for an unsupported event type: "+t);return{textValue:a,textColor:r,backgroundColor:o}},n.state=n._getInitialStateFromEvent(),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.event,a=t.onApply,r=t.onClose,o=this.state,i=o.textValue,s=o.textColor,g=o.backgroundColor,v=n.getType();return l.createElement(u.a,{title:l.createElement(c.Trans,{id:"Edit the event text"}),onRequestClose:r,open:!0,noMargin:!0,actions:[l.createElement(d.a,{key:"close",label:l.createElement(c.Trans,{id:"Cancel"}),primary:!1,onClick:r}),l.createElement(d.a,{key:"Apply",label:l.createElement(c.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:function(){e._applyChangesOnEvent(),a()}})]},l.createElement(p.a,{noMargin:!0},l.createElement(h.b,null,l.createElement(h.a,null,l.createElement(c.Trans,{id:"Background color:"})),l.createElement(m.a,{style:b.sizeTextField,disableAlpha:!0,color:g,onChangeComplete:function(t){e.setState({backgroundColor:t.rgb})}}),"BuiltinCommonInstructions::Comment"===v&&l.createElement(l.Fragment,null,l.createElement(h.a,null,l.createElement(c.Trans,{id:"Text color:"})),l.createElement(m.a,{style:b.sizeTextField,disableAlpha:!0,color:s,onChangeComplete:function(t){e.setState({textColor:t.rgb})}}))),l.createElement(p.b,{noMargin:!0},l.createElement(p.a,{expand:!0},l.createElement(p.b,null,l.createElement(f.a,{commitOnBlur:!0,hintText:{id:"Enter the text to be displayed"},fullWidth:!0,multiLine:!0,rows:8,rowsMax:30,value:i,onChange:function(t){e.setState({textValue:t})}}))))))}}]),t}(l.Component)}).call(this,n(1))},1459:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(256),d=n(259),p=n(258),m=n(167),h=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(u.b,{lastChild:!0},this.props.showPreviewButton&&l.a.createElement(p.a,{onClick:this.props.onPreview,src:"res/ribbon_default/preview32.png",tooltip:{id:"Launch a preview of the scene"}}),this.props.showNetworkPreviewButton&&l.a.createElement(m.a,{element:l.a.createElement(p.a,{src:"res/ribbon_default/bug32.png",tooltip:{id:"Advanced preview options (debugger, network preview...)"}}),buildMenuTemplate:function(){return[{label:"Network preview (Preview over WiFi/LAN)",click:function(){return e.props.onNetworkPreview()}},{type:"separator"},{label:"Preview with debugger and performance profiler",click:function(){return e.props.onOpenDebugger()}}]}}),this.props.showPreviewButton&&l.a.createElement(d.a,null),l.a.createElement(p.a,{onClick:this.props.onAddStandardEvent,src:"res/ribbon_default/eventadd32.png",tooltip:{id:"Add a new empty event"}}),l.a.createElement(p.a,{onClick:this.props.onAddSubEvent,src:"res/ribbon_default/subeventadd32.png",disabled:!this.props.canAddSubEvent,tooltip:{id:"Add a sub-event to the selected event"}}),l.a.createElement(p.a,{onClick:this.props.onAddCommentEvent,src:"res/ribbon_default/commentaireadd32.png",tooltip:{id:"Add a comment"}}),l.a.createElement(m.a,{element:l.a.createElement(p.a,{src:"res/ribbon_default/add32.png",tooltip:{id:"Choose and add an event"}}),buildMenuTemplate:function(){return e.props.allEventsMetadata.map(function(t){return{label:t.fullName,click:function(){return e.props.onAddEvent(t.type)}}})}}),l.a.createElement(d.a,null),l.a.createElement(p.a,{onClick:this.props.onRemove,src:"res/ribbon_default/deleteselected32.png",disabled:!this.props.canRemove,tooltip:{id:"Delete the selected event(s)"}}),l.a.createElement(p.a,{onClick:this.props.undo,src:"res/ribbon_default/undo32.png",disabled:!this.props.canUndo,tooltip:{id:"Undo the last changes"}}),l.a.createElement(p.a,{onClick:this.props.redo,src:"res/ribbon_default/redo32.png",disabled:!this.props.canRedo,tooltip:{id:"Redo the last changes"}}),l.a.createElement(d.a,null),l.a.createElement(p.a,{onClick:function(){return e.props.onToggleSearchPanel()},src:"res/ribbon_default/search32.png",tooltip:{id:"Search in events"},acceleratorString:"CmdOrCtrl+F"}),this.props.onOpenSettings&&l.a.createElement(d.a,null),this.props.onOpenSettings&&l.a.createElement(p.a,{onClick:this.props.onOpenSettings,src:"res/ribbon_default/pref32.png",tooltip:{id:"Open settings"}}))}}]),t}(c.PureComponent);t.a=h},1460:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var a=n(5),r=n(11),o=n(28),i=37,s=38,c=39,l=40,u=8,d=46,p=187,m=189,h=107,f=109,g=67,b=70,v=86,E=88,y=89,j=90,O=function(){function e(t){var n=this,r=t.isActive,O=t.shortcutCallbacks;Object(a.a)(this,e),this._shiftPressed=!1,this._ctrlPressed=!1,this._altPressed=!1,this._metaPressed=!1,this._updateModifiersFromEvent=function(e){n._metaPressed=e.metaKey,n._altPressed=e.altKey,n._ctrlPressed=e.ctrlKey,n._shiftPressed=e.shiftKey},this._isControlOrCmdPressed=function(){return n._metaPressed||n._ctrlPressed},this.onDragOver=function(e){n._updateModifiersFromEvent(e)},this.onKeyUp=function(e){n._updateModifiersFromEvent(e)},this.onKeyDown=function(e){if(n._updateModifiersFromEvent(e),!n._isActive||n._isActive()){if(!e.target||!e.target.closest('textarea, input, [contenteditable="true"]')){var t=n._shortcutCallbacks,a=t.onDelete,r=t.onMove,O=t.onCopy,C=t.onCut,x=t.onPaste,T=t.onUndo,S=t.onRedo,k=t.onSearch,w=t.onZoomOut,N=t.onZoomIn;r&&(e.which===s?r(0,-1):e.which===l?r(0,1):e.which===i?r(-1,0):e.which===c&&r(1,0)),!a||e.which!==u&&e.which!==d||a(),O&&n._isControlOrCmdPressed()&&e.which===g&&O(),C&&n._isControlOrCmdPressed()&&e.which===E&&C(),x&&n._isControlOrCmdPressed()&&e.which===v&&x(),T&&n._isControlOrCmdPressed()&&e.which===j&&T(),S&&n._isControlOrCmdPressed()&&e.shiftKey&&e.which===j&&S(),S&&n._isControlOrCmdPressed()&&e.which===y&&S(),k&&n._isControlOrCmdPressed()&&e.which===b&&k(),Object(o.a)()&&(w&&n._isControlOrCmdPressed()&&e.which===m&&w(),N&&n._isControlOrCmdPressed()&&e.which===p&&N(),w&&e.which===f&&w(),N&&e.which===h&&N())}}},this._shortcutCallbacks=O,this._isActive=r}return Object(r.a)(e,[{key:"shouldCloneInstances",value:function(){return this._isControlOrCmdPressed()}},{key:"shouldMultiSelect",value:function(){return this._shiftPressed}}]),e}()},1461:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return p});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(282),u=n(439),d=e.gd,p=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={parameterMetadata:null,instructionMetadata:null,ParameterComponent:null},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){(e.open&&!this.props.open||e.instruction!==this.props.instruction)&&this._loadComponentFromInstruction(e)}},{key:"_unload",value:function(){this.setState({ParameterComponent:null,parameterMetadata:null,instructionMetadata:null})}},{key:"_loadComponentFromInstruction",value:function(e){var t=this,n=e.project,a=e.isCondition,r=e.instruction,o=e.parameterIndex;if(!r)return this._unload();var i=r.getType(),s=a?d.MetadataProvider.getConditionMetadata(n.getCurrentPlatform(),i):d.MetadataProvider.getActionMetadata(n.getCurrentPlatform(),i);if(o>=s.getParametersCount())return this._unload();var c=s.getParameter(o),l=u.a.getParameterComponent(c.getType());this.setState({ParameterComponent:l,parameterMetadata:c,instructionMetadata:s},function(){setTimeout(function(){t._field&&t._field.focus&&t._field.focus()},10)})}},{key:"render",value:function(){var e=this;if(!this.state.ParameterComponent||!this.props.open)return null;var t=this.props.instruction;if(!t)return null;var n=this.state.ParameterComponent;return c.createElement(l.a,{open:this.props.open,anchorEl:this.props.anchorEl,onRequestClose:this.props.onRequestClose},c.createElement(n,{instruction:t,instructionMetadata:this.state.instructionMetadata,parameterMetadata:this.state.parameterMetadata,parameterIndex:this.props.parameterIndex,value:t.getParameter(this.props.parameterIndex),onChange:this.props.onChange,project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,key:t.ptr,ref:function(t){return e._field=t},parameterRenderingService:u.a,isInline:!0,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors}))}}]),t}(c.Component)}).call(this,n(1))},1462:function(e,t,n){"use strict";var a=n(78),r=n(10),o=n(216),i=n(119),s=n(89);t.a=function(){return r.createElement(o.a,null,r.createElement(s.a,null,r.createElement(a.Trans,{id:"There are no events here. Events are composed of conditions and actions."})),r.createElement(s.a,null,r.createElement(a.Trans,{id:"Add your first event using the first buttons of the toolbar."})),r.createElement(i.a,{helpPagePath:"/events"}))}},1463:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return r});var a=e.gd,r=function(e){for(var t=!1,n=!1,r=e.size()-1;r>=0;--r){var o=e.get(r);r===e.size()-1?"BuiltinCommonInstructions::Once"===o.getType()&&(t=!0):"BuiltinCommonInstructions::Once"===o.getType()&&(e.removeAt(r),n=!0)}if(n&&!t){var i=new a.Instruction;i.setType("BuiltinCommonInstructions::Once"),e.insert(i,e.size()),i.delete()}return n}}).call(this,n(1))},1464:function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return h});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(92),d=n(88),p=n(89),m=function(e){var t=e.getObjectNames().toNewVectorString().toJSArray(),n=e.getReferencedObjectOrGroupNames().toNewVectorString().toJSArray(),a={};return n.forEach(function(t){var n=e.getBehaviorNamesOfObjectOrGroup(t).toNewVectorString().toJSArray();n.length&&(a[t]=n)}),{objectsNames:t,objectOrGroupNames:n,objectOrGroupBehaviorNames:a}},h=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.eventsContextResult,a=[l.createElement(d.a,{key:"close",label:l.createElement(c.Trans,{id:"Close"}),primary:!0,onClick:this.props.onClose})];return l.createElement(u.a,{actions:a,open:!0,onRequestClose:t},l.createElement(p.a,null,l.createElement(c.Trans,{id:"Objects or groups being directly referenced in the events: {0}",values:{0:n.objectOrGroupNames.join(", ")}})),l.createElement(p.a,null,l.createElement(c.Trans,{id:"All objects potentially used in events: {0}",values:{0:n.objectsNames.join(", ")}})),l.createElement(p.a,null,l.createElement(c.Trans,{id:"All behaviors being directly referenced in the events:"})," ",Object.keys(n.objectOrGroupBehaviorNames).map(function(e){return l.createElement(c.Trans,{key:e,id:"Behaviors of {objectOrGroupName}: {0} ;",values:{0:n.objectOrGroupBehaviorNames[e].join(", "),objectOrGroupName:e}})})))}}]),t}(l.Component)},1465:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(134),p=n(98),m=n(80),h=n(1466),f=n.n(h),g=n(718),b=n.n(g),v=n(105),E=n(349),y=n(89),j=n(90),O=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={searchText:"",replaceText:"",matchCase:!1,searchInActions:!0,searchInConditions:!0,searchInSelection:!1},n.focus=function(){n.searchTextField&&n.searchTextField.focus()},n.launchSearch=function(){var e=n.state,t=e.searchText,a=e.searchInSelection,r=e.matchCase,o=e.searchInActions,i=e.searchInConditions;n.props.onSearchInEvents({searchInSelection:a,searchText:t,matchCase:r,searchInActions:o,searchInConditions:i})},n.launchReplace=function(){var e=n.state,t=e.searchText,a=e.replaceText,r=e.searchInSelection,o=e.matchCase,i=e.searchInActions,s=e.searchInConditions;n.launchSearch(),n.props.onReplaceInEvents({searchInSelection:r,searchText:t,replaceText:a,matchCase:o,searchInActions:i,searchInConditions:s})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.resultsCount,a=t.hasEventSelected,r=t.onGoToPreviousSearchResult,o=t.onGoToNextSearchResult,i=this.state,s=i.searchText,l=i.replaceText,h=i.searchInSelection;return u.a.createElement(d.a,{noFullHeight:!0,noExpand:!0},u.a.createElement(m.a,null,u.a.createElement(m.b,{alignItems:"baseline",noMargin:!0},u.a.createElement(p.b,{margin:"dense",ref:function(t){return e.searchTextField=t},hintText:{id:"Text to search in parameters"},onChange:function(t,n){return e.setState({searchText:n})},value:s,fullWidth:!0}),u.a.createElement(m.c,null),u.a.createElement(j.a,{disabled:!s,primary:!0,label:u.a.createElement(c.Trans,{id:"Search"}),onClick:this.launchSearch})),u.a.createElement(m.b,{alignItems:"baseline",noMargin:!0},u.a.createElement(p.b,{margin:"dense",hintText:{id:"Text to replace in parameters"},onChange:function(t,n){return e.setState({replaceText:n})},value:l,fullWidth:!0}),u.a.createElement(m.c,null),u.a.createElement(j.a,{disabled:!l||!s||!a&&h,label:u.a.createElement(c.Trans,{id:"Replace"}),onClick:this.launchReplace})),u.a.createElement(m.b,{noMargin:!0,alignItems:"center",justifyContent:"space-between"},u.a.createElement(m.b,{noMargin:!0,alignItems:"center"},u.a.createElement(E.a,{label:u.a.createElement(c.Trans,{id:"Case insensitive"}),checked:!this.state.matchCase,onCheck:function(t,n){return e.setState({matchCase:!n})}}),u.a.createElement(y.a,null,u.a.createElement(c.Trans,{id:"Filter by"})),u.a.createElement(m.c,null),u.a.createElement(E.a,{label:u.a.createElement(c.Trans,{id:"Conditions"}),checked:this.state.searchInConditions,onCheck:function(t,n){return e.setState({searchInConditions:n})}}),u.a.createElement(E.a,{label:u.a.createElement(c.Trans,{id:"Actions"}),checked:this.state.searchInActions,onCheck:function(t,n){return e.setState({searchInActions:n})}})),u.a.createElement(m.b,{noMargin:!0,alignItems:"center"},u.a.createElement(y.a,null,null===n||void 0===n?"":0!==n?"".concat(n," results"):"No results"),u.a.createElement(v.a,{disabled:!n,onClick:function(){r()}},u.a.createElement(f.a,null)),u.a.createElement(v.a,{disabled:!n,onClick:function(){o()}},u.a.createElement(b.a,null))))))}}]),t}(l.PureComponent)},1467:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(96),u=n(1468),d=n.n(u),p=e.gd,m=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={eventsSearchResults:null,searchFocusOffset:null},n._resultEvents=null,n._doReplaceInEvents=function(e){var t=e.searchInSelection,a=e.searchText,r=e.replaceText,o=e.matchCase,i=e.searchInConditions,s=e.searchInActions,c=n.props,l=c.globalObjectsContainer,u=c.objectsContainer,d=c.events;t&&console.error("Replace in selection is not implemented yet"),p.EventsRefactorer.replaceStringInEvents(l,u,d,a,r,o,i,s)},n._doSearchInEvents=function(e,t){var a=e.searchInSelection,r=e.searchText,o=e.matchCase,i=e.searchInConditions,s=e.searchInActions,c=n.props,l=c.globalObjectsContainer,u=c.objectsContainer,d=c.events;a&&console.error("Search in selection is not implemented yet");var m=p.EventsRefactorer.searchInEvents(l,u,d,r,o,i,s);n.state.eventsSearchResults&&n.state.eventsSearchResults.delete(),n.setState({eventsSearchResults:m.clone(),searchFocusOffset:null},function(){n._updateListOfResultEvents(),t()})},n._updateListOfResultEvents=function(){var e=n.state.eventsSearchResults;if(e){var t=Object(l.mapFor)(0,e.size(),function(t){var n=e.at(t);return n.isEventValid()?n.getEvent():null}).filter(Boolean);n._resultEvents=d()(t,function(e){return e.ptr})}else n._resultEvents=null},n._goToSearchResults=function(e){if(n._updateListOfResultEvents(),!n._resultEvents||0===n._resultEvents.length)return n.setState({searchFocusOffset:null}),null;var t=null===n.state.searchFocusOffset?0:((n.state.searchFocusOffset||0)+e)%n._resultEvents.length;t<0&&(t+=n._resultEvents.length);var a=n._resultEvents[t];return setTimeout(function(){return n.setState({searchFocusOffset:t})},0),a},n._goToPreviousSearchResult=function(){return n._goToSearchResults(-1)},n._goToNextSearchResult=function(){return n._goToSearchResults(1)},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillUnmount",value:function(){this.state.eventsSearchResults&&this.state.eventsSearchResults.delete()}},{key:"reset",value:function(){this.state.eventsSearchResults&&this.state.eventsSearchResults.delete(),this._resultEvents=null,this.setState({eventsSearchResults:null,searchFocusOffset:null})}},{key:"render",value:function(){return this.props.children({eventsSearchResultEvents:this._resultEvents,searchFocusOffset:this.state.searchFocusOffset,searchInEvents:this._doSearchInEvents,replaceInEvents:this._doReplaceInEvents,goToNextSearchResult:this._goToNextSearchResult,goToPreviousSearchResult:this._goToPreviousSearchResult})}}]),t}(c.Component)}).call(this,n(1))},147:function(e,t,n){"use strict";var a=n(83),r=n(78),o=n(10),i=n(2178),s=n(1027),c=n.n(s),l=n(320),u=n.n(l),d=n(1028),p=n.n(d),m=n(80),h=n(88),f=n(89),g=n(100),b={icon:{width:28,height:28,marginRight:10,marginLeft:10},content:{flex:1}};t.a=function(e){var t=e.kind,n=e.children,s=e.onHide,l=e.renderRightButton;return o.createElement(i.a,null,o.createElement(g.a,null,function(e){return o.createElement(m.b,{noMargin:!0,alignItems:"center"},"info"===t&&o.createElement(c.a,{style:b.icon}),"warning"===t&&o.createElement(u.a,{style:Object(a.a)({},b.icon,{color:e.message.warning})}),"error"===t&&o.createElement(p.a,{style:Object(a.a)({},b.icon,{color:e.message.error})}),o.createElement(f.a,{style:b.content},n),l&&l(),s&&o.createElement(h.a,{label:o.createElement(r.Trans,{id:"Hide"}),onClick:function(){return s()}}))}))}},1476:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return r});var a=e.gd,r=function e(t,n){var r=t.getSubInstructions();if(a.compare(r,n))return!0;for(var o=0;o<r.size();++o){if(e(r.get(o),n))return!0}return!1}}).call(this,n(1))},1477:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});var a=n(188),r=n.n(a),o=n(96),i=e.gd,s=function(){var e=i.asPlatform(i.JsPlatform.get()).getAllPlatformExtensions();return r()(Object(o.mapFor)(0,e.size(),function(t){var n=e.get(t).getAllEvents();return n.keys().toJSArray().map(function(e){var t=n.get(e);return{type:e,fullName:t.getFullName(),description:t.getDescription()}})}))}}).call(this,n(1))},1478:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return x});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(92),d=n(88),p=n(323),m=n(80),h=n(113),f=n(122),g=n(123),b=n(720),v=n(147),E=n(266),y=n(721),j=n(724),O=n(119),C=e.gd,x=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={eventsFunction:null,extensionName:"",createNewExtension:!1},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.project,n=e.globalObjectsContainer,a=e.objectsContainer,r=e.serializedEvents,o=new C.EventsFunction;Object(b.d)({project:t,globalObjectsContainer:n,objectsContainer:a,serializedEvents:r,eventsFunction:o}),this.setState({eventsFunction:o}),0===Object(p.a)(t).length&&this.setState({createNewExtension:!0})}},{key:"componentWillUnmount",value:function(){var e=this.state.eventsFunction;e&&e.delete()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.onClose,r=t.onCreate,o=this.state,i=o.eventsFunction,s=o.extensionName,C=o.createNewExtension;if(!i)return null;var x=Object(p.a)(n),T=Object(b.c)(i);return l.createElement(u.a,{title:l.createElement(c.Trans,{id:"Extract the events in a function"}),secondaryActions:l.createElement(O.a,{helpPagePath:"/events/functions/extract-events"}),actions:[l.createElement(d.a,{key:"cancel",label:l.createElement(c.Trans,{id:"Cancel"}),onClick:a}),l.createElement(d.a,{key:"create",label:l.createElement(c.Trans,{id:"Create"}),primary:!0,disabled:!Object(b.a)(n,s,i),onClick:function(){return r(s,i)}})],open:!0,onRequestClose:a,noMargin:!0},l.createElement(m.a,{noMargin:!0},l.createElement(m.a,null,l.createElement(E.a,{identifier:"function-extractor-explanation",kind:"info"},"After creating a function, it will be usable in the events sheet. Functions are grouped by extensions. Choose, or enter the name of a new extension, and a function name, then configure the function and its parameters."),l.createElement(m.b,{noMargin:!0},l.createElement(m.a,{noMargin:!0,expand:!0},l.createElement(f.a,{floatingLabelText:l.createElement(c.Trans,{id:"Extension (storing the function)"}),value:C?"<create a new extension>":s,onChange:function(t,n,a){"<create a new extension>"===a?e.setState({createNewExtension:!0,extensionName:""}):e.setState({createNewExtension:!1,extensionName:a})},fullWidth:!0},x.map(function(e){return l.createElement(g.a,{key:e.getName(),value:e.getName(),primaryText:e.getFullName()})}),l.createElement(g.a,{value:"<create a new extension>",primaryText:{id:"<Create a New Extension>"}}))),C?l.createElement(m.a,{noMargin:!0,expand:!0},l.createElement(h.a,{commitOnBlur:!0,value:s,floatingLabelText:l.createElement(c.Trans,{id:"New extension name"}),onChange:function(t){return e.setState({extensionName:t})},fullWidth:!0,errorText:Object(b.h)(n,s)?Object(b.g)(s)?void 0:l.createElement(c.Trans,{id:"This name is not valid. Only use alphanumeric characters (0-9, a-z) and underscores."}):l.createElement(c.Trans,{id:"This name is already taken by another extension."})})):null),l.createElement(m.b,null,l.createElement(h.a,{commitOnBlur:!0,value:i.getName(),floatingLabelText:l.createElement(c.Trans,{id:"Function name"}),onChange:function(t){i.setName(t),e.forceUpdate()},fullWidth:!0,errorText:Object(b.f)(n,s,i)?Object(b.e)(i.getName())?void 0:l.createElement(c.Trans,{id:"This name is not valid. Only use alphanumeric characters (0-9, a-z) and underscores."}):l.createElement(c.Trans,{id:"This name is already taken by another function. Choose another name."})})),T?l.createElement(m.b,null,l.createElement(v.a,{kind:"warning"},l.createElement(c.Trans,{id:"This function will have a lot of parameters. Consider creating groups or functions for a smaller set of objects so that the function is easier to reuse."}))):null),l.createElement(j.a,{eventsFunction:i,eventsBasedBehavior:null,onConfigurationUpdated:function(){e.forceUpdate()},freezeEventsFunctionType:!0}),l.createElement(m.c,null),l.createElement(y.a,{project:n,eventsFunction:i,eventsBasedBehavior:null,onParametersUpdated:function(){e.forceUpdate()},freezeParameters:!0})))}}]),t}(l.Component)}).call(this,n(1))},1479:function(e,t,n){"use strict";function a(e,t,n){return t.getObjectGroups().has(n)?t.getObjectGroups().get(n):e.getObjectGroups().has(n)?e.getObjectGroups().get(n):null}n.d(t,"a",function(){return a})},148:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(100),d=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.tooltip,a=e.disabled,r=e.isGDevelopIcon,o=e.iconSize;return l.a.createElement(u.a,null,function(e){return l.a.createElement("div",{style:{width:o,height:o,lineHeight:"".concat(o,"px"),textAlign:"center"}},l.a.createElement("img",{title:n,alt:n,src:t,crossOrigin:"anonymous",style:{maxWidth:o,maxHeight:o,verticalAlign:"middle",filter:r?a?"grayscale(100%)":e.gdevelopIconsCSSFilter:void 0}}))})}}]),t}(c.PureComponent)},1480:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(122),d=n(123),p=n(723),m=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={behaviorMetadata:Object(p.a)(n.props.project.getCurrentPlatform(),n.props.project)},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.value,a=e.onChange,r=this.state.behaviorMetadata,o=!!r.find(function(e){return e.type===n});return l.createElement(u.a,{floatingLabelText:l.createElement(c.Trans,{id:"Behavior type"}),value:n,onChange:function(e,t,n){a(n)},disabled:t,fullWidth:!0},r.map(function(e){return l.createElement(d.a,{key:e.type,value:e.type,primaryText:e.fullName})}),!o&&n&&l.createElement(d.a,{value:n,primaryText:n}))}}]),t}(l.Component)},153:function(e,t,n){"use strict";var a=n(83),r=n(10),o=n.n(r),i=n(2195),s={display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:10};t.a=function(e){return o.a.createElement("div",{style:Object(a.a)({},s,e.style)},o.a.createElement(i.a,{size:40}))}},154:function(e,t,n){"use strict";var a=n(10),r=n(2186),o=n(2266);t.a=function(e){var t=e.onCheck,n=a.createElement(o.a,{disabled:e.disabled,checked:e.checked,onChange:t?function(e){return t(e,e.target.checked)}:void 0,icon:e.uncheckedIcon,checkedIcon:e.checkedIcon,color:"primary",style:e.label?void 0:e.style});return e.label?a.createElement(r.a,{control:n,label:e.label,style:e.style}):n}},159:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n(105),d=n(98),p=n(2178),m=n(263),h=n.n(m),f=n(565),g=n.n(f),b=n(573),v=n.n(b),E=n(167),y=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={focus:!1,value:n.props.value,active:!1},n._textField=l.createRef(),n.focus=function(){n._textField.current&&n._textField.current.focus()},n.blur=function(){n._textField.current&&n._textField.current.blur()},n.handleFocus=function(){n.setState({focus:!0})},n.handleBlur=function(){n.setState({focus:!1}),0===n.state.value.trim().length&&n.setState({value:""})},n.handleInput=function(e){n.setState({value:e.target.value}),n.props.onChange&&n.props.onChange(e.target.value)},n.handleCancel=function(){n.setState({active:!1,value:""}),n.props.onChange&&n.props.onChange("")},n.handleKeyPressed=function(e){13!==e.charCode&&"Enter"!==e.key||n.props.onRequestSearch(n.state.value)},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.value!==e.value&&this.setState(Object(a.a)({},this.state,{value:e.value}))}},{key:"render",value:function(){var e=function(e,t){var n=e.disabled,a=t.value.length>0;return{root:{height:48,display:"flex",justifyContent:"space-between"},iconButtonClose:{style:{opacity:n?.38:.54,transform:a?"scale(1, 1)":"scale(0, 0)",transition:"transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"},iconStyle:{opacity:a?1:0,transition:"opacity 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"}},iconButtonSearch:{style:{opacity:n?.38:.54,transform:a?"scale(0, 0)":"scale(1, 1)",transition:"transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1)",marginRight:-48},iconStyle:{opacity:a?0:1,transition:"opacity 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"}},iconButtonFilter:{style:{opacity:n?.38:.54},iconStyle:{}},input:{width:"100%"},searchContainer:{margin:"auto 16px",width:"100%"}}}(this.props,this.state),t=this.state.value,n=this.props,r=n.disabled,o=n.style,i=n.buildTagsMenuTemplate;return l.createElement(p.a,{style:Object(a.a)({},e.root,o)},l.createElement("div",{style:e.searchContainer},l.createElement(d.b,{margin:"none",hintText:this.props.placeholder||{id:"Search"},onBlur:this.handleBlur,value:t,onChange:this.handleInput,onKeyUp:this.handleKeyPressed,onFocus:this.handleFocus,fullWidth:!0,style:e.input,underlineShow:!1,disabled:r,ref:this._textField})),i&&l.createElement(E.a,{element:l.createElement(u.a,{style:e.iconButtonFilter.style,disabled:r},l.createElement(v.a,{style:e.iconButtonFilter.iconStyle})),buildMenuTemplate:i}),l.createElement(u.a,{style:e.iconButtonSearch.style,disabled:r},l.createElement(g.a,{style:e.iconButtonSearch.iconStyle})),l.createElement(u.a,{onClick:this.handleCancel,style:e.iconButtonClose.style,disabled:r},l.createElement(h.a,{style:e.iconButtonClose.iconStyle})))}}]),t}(l.PureComponent)},1618:function(e,t,n){},162:function(e,t,n){var a=n(2),r=a("electron"),o=r?r.remote.app:null,i=a("fs"),s=a("path"),c=a("process"),l=c&&/^darwin/.test(c.platform),u=function(e,t,n){return i.access(e,i.constants.R_OK,function(a){a?n():t(e)})};e.exports={findGDJS:function(){if(!s||!c||!i)return Promise.reject(new Error("Unsupported"));var e=o?o.getAppPath():c.cwd(),t=l?"../../../../":s.join("..",".."),n=s.join(e,t);return new Promise(function(t,a){var r=function(e){return t({gdjsRoot:e})},o=function(){return a(new Error("Could not find GDJS"))};u(s.join(n,"..","JsPlatform"),r,function(){u(s.join(e,"..","GDJS"),r,function(){var t=s.join(e,"..","..","app","resources","GDJS");u(t,r,o)})})})}}},1622:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return B});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(433),d=n(350),p=n(97),m=n(1623),h=n(2113),f=n(2112),g=n(134),b=n(1626),v=n(25),E=n(1628),y=n(2098),j=n(348),O=n(88),C=n(80),x=n(2181),T=n(177),S=n(1631),k=n(1633),w=n(1635),N=n.n(w),_=n(1634),P=n.n(_),I=e.gd,B=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={selectedEventsFunction:null,selectedEventsBasedBehavior:null,editedEventsBasedBehavior:null,editOptionsDialogOpen:!1,behaviorMethodSelectorDialogOpen:!1,onAddEventsFunctionCb:null},n._loadEventsFunctionFrom=function(e,t){n._globalObjectsContainer||(n._globalObjectsContainer=new I.ObjectsContainer),n._objectsContainer||(n._objectsContainer=new I.ObjectsContainer),I.EventsFunctionTools.eventsFunctionToObjectsContainer(e,t,n._globalObjectsContainer,n._objectsContainer)},n.updateToolbar=function(){n.editor?n.editor.updateToolbar():n.props.setToolbar(l.createElement("div",null))},n.selectEventsFunctionByName=function(e,t){var a=n.props.eventsFunctionsExtension;if(t){var r=a.getEventsBasedBehaviors();if(r.has(t)){var o=r.get(t),i=o.getEventsFunctions();i.hasEventsFunctionNamed(e)&&n._selectEventsFunction(i.getEventsFunction(e),o)}}else a.hasEventsFunctionNamed(e)&&n._selectEventsFunction(a.getEventsFunction(e),null)},n._selectEventsFunction=function(e,t){e?(n._loadEventsFunctionFrom(n.props.project,e),n.setState({selectedEventsFunction:e,selectedEventsBasedBehavior:t},function(){n.updateToolbar(),n._editorNavigator&&(e&&!e.getEvents().getEventsCount()?n._editorNavigator.openEditor("parameters"):n._editorNavigator.openEditor("events-sheet"))})):n.setState({selectedEventsFunction:null,selectedEventsBasedBehavior:t},function(){return n.updateToolbar()})},n._makeRenameFreeEventsFunction=function(e){return function(t,a,r){if(I.Project.validateObjectName(a)){var o=n.props,i=o.project,s=o.eventsFunctionsExtension;I.WholeProjectRefactorer.renameEventsFunction(i,s,t.getName(),a),r(!0)}else Object(v.c)(e._({id:"This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your function name."}))}},n._makeRenameBehaviorEventsFunction=function(e){return function(t,a,r,o){if(!I.Project.validateObjectName(r))return Object(v.c)(e._({id:"This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your function name."})),o(!1);if(Object(j.g)(r))return Object(v.c)(e._({id:"This name is reserved for a lifecycle method of the behavior. Choose another name for your custom function."})),o(!1);var i=n.props,s=i.project,c=i.eventsFunctionsExtension;I.WholeProjectRefactorer.renameBehaviorEventsFunction(s,c,t,a.getName(),r),o(!0)}},n._onDeleteEventsFunction=function(e,t){n.state.selectedEventsFunction&&I.compare(e,n.state.selectedEventsFunction)&&n._selectEventsFunction(null,n.state.selectedEventsBasedBehavior),t(!0)},n._selectEventsBasedBehavior=function(e){n.setState({selectedEventsBasedBehavior:e,selectedEventsFunction:null},function(){n.updateToolbar(),e&&(n._editorMosaic&&n._editorMosaic.openEditor("behavior-functions-list","end",75),n._editorNavigator&&n._editorNavigator.openEditor("behavior-functions-list"))})},n._makeRenameEventsBasedBehavior=function(e){return function(t,a,r){if(I.Project.validateObjectName(a)){var o=n.props,i=o.project,s=o.eventsFunctionsExtension;I.WholeProjectRefactorer.renameEventsBasedBehavior(i,s,t.getName(),a),r(!0)}else Object(v.c)(e._({id:"This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your function name."}))}},n._onEventsBasedBehaviorRenamed=function(){n.props.onBehaviorEdited&&n.props.onBehaviorEdited(),n.state.selectedEventsFunction&&n._loadEventsFunctionFrom(n.props.project,n.state.selectedEventsFunction)},n._onDeleteEventsBasedBehavior=function(e,t){n.state.selectedEventsBasedBehavior&&I.compare(e,n.state.selectedEventsBasedBehavior)&&n._selectEventsBasedBehavior(null),t(!0)},n._onAddFreeEventsFunction=function(e){e(!0,null)},n._onAddBehaviorEventsFunction=function(e){n.setState({behaviorMethodSelectorDialogOpen:!0,onAddEventsFunctionCb:e})},n._onCloseBehaviorMethodSelectorDialog=function(e,t){var a=n.state.onAddEventsFunctionCb;n.setState({behaviorMethodSelectorDialogOpen:!1,onAddEventsFunctionCb:null},function(){a&&a(e,t)})},n._onBehaviorEventsFunctionAdded=function(e,t){I.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(n.props.eventsFunctionsExtension,e)},n._onBehaviorPropertyRenamed=function(e,t,a){var r=n.props,o=r.project,i=r.eventsFunctionsExtension;I.WholeProjectRefactorer.renameBehaviorProperty(o,i,e,t,a)},n._editOptions=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({editOptionsDialogOpen:e})},n._editBehavior=function(e){n.setState(function(t){return t.editedEventsBasedBehavior&&!e&&I.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(n.props.eventsFunctionsExtension,t.editedEventsBasedBehavior),{editedEventsBasedBehavior:e}},function(){e||(n.props.onBehaviorEdited&&n.props.onBehaviorEdited(),n.state.selectedEventsFunction&&n._loadEventsFunctionFrom(n.props.project,n.state.selectedEventsFunction))})},n._openFreeFunctionsListEditor=function(){n._editorNavigator&&n._editorNavigator.openEditor("free-functions-list")},n._openBehaviorsListEditor=function(){n._editorNavigator&&n._editorNavigator.openEditor("behaviors-list")},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.initiallyFocusedFunctionName&&this.selectEventsFunctionByName(this.props.initiallyFocusedFunctionName,this.props.initiallyFocusedBehaviorName)}},{key:"componentWillUnmount",value:function(){this._globalObjectsContainer&&this._globalObjectsContainer.delete(),this._objectsContainer&&this._objectsContainer.delete()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.eventsFunctionsExtension,r=this.state,o=r.selectedEventsFunction,i=r.selectedEventsBasedBehavior,s=r.editOptionsDialogOpen,v=r.behaviorMethodSelectorDialogOpen,w=r.editedEventsBasedBehavior,_={"choose-editor":{type:"primary",noTitleBar:!0,renderEditor:function(){return l.createElement(k.a,{eventsFunctionsExtension:a,onEditFreeFunctions:e._openFreeFunctionsListEditor,onEditBehaviors:e._openBehaviorsListEditor,onEditExtensionOptions:e._editOptions})}},parameters:{type:"primary",title:l.createElement(c.Trans,{id:"Function Configuration"}),toolbarControls:[],renderEditor:function(){return l.createElement(g.a,null,o&&e._globalObjectsContainer&&e._objectsContainer?l.createElement(m.a,{project:n,eventsFunction:o,eventsBasedBehavior:i,globalObjectsContainer:e._globalObjectsContainer,objectsContainer:e._objectsContainer,helpPagePath:i?"/behaviors/events-based-behaviors":"/events/functions",onParametersOrGroupsUpdated:function(){e._loadEventsFunctionFrom(n,o),e.forceUpdate()}}):l.createElement(p.a,null,l.createElement(c.Trans,{id:"Choose a function, or a function of a behavior, to set the parameters that it accepts."})))}},"events-sheet":{type:"primary",noTitleBar:!0,renderEditor:function(){return o&&e._globalObjectsContainer&&e._objectsContainer?l.createElement(g.a,null,l.createElement(u.a,{key:o.ptr,ref:function(t){return e.editor=t},project:n,scope:{layout:null,eventsFunctionsExtension:a,eventsBasedBehavior:i,eventsFunction:o},globalObjectsContainer:e._globalObjectsContainer,objectsContainer:e._objectsContainer,events:o.getEvents(),showPreviewButton:!1,onPreview:function(e){},showNetworkPreviewButton:!1,onOpenExternalEvents:function(){},onOpenLayout:function(){},resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors,openInstructionOrExpression:e.props.openInstructionOrExpression,setToolbar:e.props.setToolbar,onOpenDebugger:function(){},onCreateEventsFunction:e.props.onCreateEventsFunction,onOpenSettings:e._editOptions})):l.createElement(g.a,null,l.createElement(p.a,null,l.createElement(c.Trans,{id:"Choose a function, or a function of a behavior, to edit its events."})))}},"free-functions-list":{type:"primary",title:l.createElement(c.Trans,{id:"Functions"}),toolbarControls:[],renderEditor:function(){return l.createElement(c.I18n,null,function(t){var r=t.i18n;return l.createElement(h.a,{project:n,eventsFunctionsContainer:a,selectedEventsFunction:o,onSelectEventsFunction:function(t){return e._selectEventsFunction(t,null)},onDeleteEventsFunction:e._onDeleteEventsFunction,canRename:function(){return!0},onRenameEventsFunction:e._makeRenameFreeEventsFunction(r),onAddEventsFunction:e._onAddFreeEventsFunction,onEventsFunctionAdded:function(){},renderHeader:function(){return l.createElement(l.Fragment,null,l.createElement(C.b,{justifyContent:"center"},l.createElement(O.a,{label:l.createElement(c.Trans,{id:"Edit extension options"}),primary:!0,onClick:function(){return e._editOptions()}})),l.createElement(x.a,null))}})})}},"behavior-functions-list":{type:"primary",title:l.createElement(c.Trans,{id:"Behavior functions"}),renderEditor:function(){return i?l.createElement(c.I18n,null,function(t){var a=t.i18n;return l.createElement(h.a,{project:n,eventsFunctionsContainer:i.getEventsFunctions(),selectedEventsFunction:o,onSelectEventsFunction:function(t){return e._selectEventsFunction(t,i)},onDeleteEventsFunction:e._onDeleteEventsFunction,canRename:function(e){return!Object(j.g)(e.getName())},onRenameEventsFunction:function(t,n,r){return e._makeRenameBehaviorEventsFunction(a)(i,t,n,r)},onAddEventsFunction:e._onAddBehaviorEventsFunction,onEventsFunctionAdded:function(t){return e._onBehaviorEventsFunctionAdded(i,t)},renderHeader:function(){return l.createElement(l.Fragment,null,l.createElement(C.b,{justifyContent:"center"},l.createElement(O.a,{label:l.createElement(c.Trans,{id:"Edit behavior properties"}),primary:!0,onClick:function(){return e._editBehavior(i)}})),l.createElement(x.a,null))}})}):l.createElement(g.a,null,l.createElement(p.a,null,l.createElement(c.Trans,{id:"Select a behavior to display the functions inside this behavior."})))}},"behaviors-list":{type:"secondary",title:l.createElement(c.Trans,{id:"Behaviors"}),toolbarControls:[],renderEditor:function(){return l.createElement(c.I18n,null,function(t){var r=t.i18n;return l.createElement(f.a,{project:n,eventsBasedBehaviorsList:a.getEventsBasedBehaviors(),selectedEventsBasedBehavior:i,onSelectEventsBasedBehavior:e._selectEventsBasedBehavior,onDeleteEventsBasedBehavior:e._onDeleteEventsBasedBehavior,onRenameEventsBasedBehavior:e._makeRenameEventsBasedBehavior(r),onEventsBasedBehaviorRenamed:e._onEventsBasedBehaviorRenamed,onEditProperties:e._editBehavior})})}}};return l.createElement(l.Fragment,null,l.createElement(T.a,null,function(t){return"small"===t?l.createElement(S.a,{ref:function(t){return e._editorNavigator=t},editors:_,initialEditorName:"choose-editor",transitions:{"behaviors-list":{previousEditor:"choose-editor"},"behavior-functions-list":{previousEditor:"behaviors-list"},"free-functions-list":{previousEditor:"choose-editor"},"events-sheet":{nextIcon:l.createElement(P.a,null),nextLabel:l.createElement(c.Trans,{id:"Parameters"}),nextEditor:"parameters",previousEditor:function(){return i?"behavior-functions-list":"free-functions-list"}},parameters:{nextIcon:l.createElement(N.a,null),nextLabel:l.createElement(c.Trans,{id:"Validate these parameters"}),nextEditor:"events-sheet"}},onEditorChanged:function(t){e.updateToolbar(),"behaviors-list"===t?e._selectEventsBasedBehavior(null):"free-functions-list"!==t&&"behavior-functions-list"!==t||e._selectEventsFunction(null,i)}}):l.createElement(d.a,{ref:function(t){return e._editorMosaic=t},editors:_,initialNodes:{direction:"row",first:{direction:"column",first:"free-functions-list",second:"behaviors-list",splitPercentage:50},second:{direction:"column",first:"parameters",second:"events-sheet",splitPercentage:25},splitPercentage:25}})}),s&&l.createElement(b.a,{eventsFunctionsExtension:a,open:!0,onClose:function(){return e._editOptions(!1)}}),v&&i&&l.createElement(y.a,{eventsBasedBehavior:i,onCancel:function(){return e._onCloseBehaviorMethodSelectorDialog(!1,null)},onChoose:function(t){return e._onCloseBehaviorMethodSelectorDialog(!0,t)}}),w&&l.createElement(E.a,{project:n,eventsFunctionsExtension:a,eventsBasedBehavior:w,onApply:function(){return e._editBehavior(null)},onRenameProperty:function(t,n){return e._onBehaviorPropertyRenamed(w,t,n)}}))}}]),t}(l.Component)}).call(this,n(1))},1623:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return v});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(1624),d=n(179),p=n(721),m=n(724),h=n(464),f=n(80),g=n(25),b=e.gd,v=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={currentTab:"config"},n._canObjectOrGroupUseNewName=function(e){var t=n.props,a=t.objectsContainer,r=t.globalObjectsContainer;return a.hasObjectNamed(e)||r.hasObjectNamed(e)||a.getObjectGroups().has(e)||r.getObjectGroups().has(e)?(Object(g.c)("Another object or group with this name already exists in this function."),!1):!!b.Project.validateObjectName(e)||(Object(g.c)("This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your object name."),!1)},n._onDeleteGroup=function(e,t){var a=e.group,r=n.props,o=r.project,i=r.eventsFunction,s=r.globalObjectsContainer,c=r.objectsContainer,l=confirm("Do you want to remove all references to this group in events (actions and conditions using the group)?");b.WholeProjectRefactorer.objectOrGroupRemovedInEventsFunction(o,i,s,c,a.getName(),!0,!!l),t(!0)},n._onRenameGroup=function(e,t,a){var r=e.group,o=n.props,i=o.project,s=o.eventsFunction,c=o.globalObjectsContainer,l=o.objectsContainer;r.getName()!==t&&b.WholeProjectRefactorer.objectOrGroupRenamedInEventsFunction(i,s,c,l,r.getName(),t,!0),a(!0)},n._chooseTab=function(e){return n.setState({currentTab:e})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.project,n=e.globalObjectsContainer,a=e.objectsContainer,r=e.eventsFunction,o=e.eventsBasedBehavior,i=e.freezeEventsFunctionType,s=e.onConfigurationUpdated,g=e.onParametersOrGroupsUpdated,b=e.freezeParameters,v=e.helpPagePath,E=e.renderConfigurationHeader;return l.createElement(f.a,{expand:!0,noMargin:!0},l.createElement(d.b,{value:this.state.currentTab,onChange:this._chooseTab},l.createElement(d.a,{label:l.createElement(c.Trans,{id:"Configuration"}),value:"config"}),l.createElement(d.a,{label:l.createElement(c.Trans,{id:"Parameters"}),value:"parameters"}),l.createElement(d.a,{label:l.createElement(c.Trans,{id:"Object groups"}),value:"groups"})),"config"===this.state.currentTab?l.createElement(h.a,null,l.createElement(m.a,{eventsFunction:r,eventsBasedBehavior:o,helpPagePath:v,onConfigurationUpdated:s,renderConfigurationHeader:E,freezeEventsFunctionType:i})):null,"parameters"===this.state.currentTab?l.createElement(h.a,null,l.createElement(p.a,{project:t,eventsFunction:r,eventsBasedBehavior:o,onParametersUpdated:g,helpPagePath:v,freezeParameters:b})):null,"groups"===this.state.currentTab?l.createElement(u.a,{project:t,globalObjectsContainer:n,objectsContainer:a,globalObjectGroups:n.getObjectGroups(),objectGroups:r.getObjectGroups(),canRenameGroup:this._canObjectOrGroupUseNewName,onRenameGroup:this._onRenameGroup,onDeleteGroup:this._onDeleteGroup,onGroupsUpdated:g,canSetAsGlobalGroup:!1}):null)}}]),t}(l.Component)}).call(this,n(1))},1624:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(843),u=n(768),d=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={editedGroup:null},n.editGroup=function(e){return n.setState({editedGroup:e})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.objectsContainer,r=t.globalObjectsContainer,o=t.objectGroups,i=t.globalObjectGroups;return c.createElement(c.Fragment,null,c.createElement(l.a,{globalObjectGroups:i,objectGroups:o,onEditGroup:this.editGroup,onDeleteGroup:this.props.onDeleteGroup,onRenameGroup:this.props.onRenameGroup,canRenameGroup:this.props.canRenameGroup,onGroupAdded:this.props.onGroupsUpdated,onGroupRemoved:this.props.onGroupsUpdated,onGroupRenamed:this.props.onGroupsUpdated,canSetAsGlobalGroup:this.props.canSetAsGlobalGroup}),c.createElement(u.a,{project:n,key:r.ptr+";"+a.ptr,open:!!this.state.editedGroup,group:this.state.editedGroup,globalObjectsContainer:r,objectsContainer:a,onCancel:function(){return e.editGroup(null)},onApply:function(){e.props.onGroupsUpdated&&e.props.onGroupsUpdated(),e.editGroup(null)}}))}}]),t}(c.Component)},1625:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return h});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(103),u=n(645),d=n(97),p=n(80),m=e.gd,h=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={newObjectName:""},n.removeObject=function(e){var t=n.props,a=t.group,r=t.onSizeUpdated;a.removeObject(e),n.forceUpdate(),r&&r()},n.addObject=function(e){var t=n.props,a=t.group,r=t.onSizeUpdated;a.addObject(e),n.setState({newObjectName:""}),r&&r()},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"_renderExplanation",value:function(){var e=this.props,t=e.group,n=e.globalObjectsContainer,a=e.objectsContainer,r=void 0;t.getAllObjectsNames().toJSArray().forEach(function(e){var t=m.getTypeOfObject(n,a,e,!1);r=void 0===r||t===r?t:""});var o="";return o=void 0===r?"This group is empty":""===r?"This group contains objects of different kinds. You'll only be able to use actions and conditions common to all objects with this group.":"This group contains objects of the same kind (".concat(r,"). You can use actions and conditions related to this kind of objects in events with this group."),c.createElement(d.a,null,o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.group,r=t.globalObjectsContainer,o=t.objectsContainer;return c.createElement("div",null,this._renderExplanation(),c.createElement(l.a,null,a.getAllObjectsNames().toJSArray().map(function(t){return c.createElement(l.b,{key:t,primaryText:t,displayRemoveButton:!0,onRemove:function(){return e.removeObject(t)}})})),c.createElement(p.a,null,c.createElement(u.a,{project:n,globalObjectsContainer:r,objectsContainer:o,value:this.state.newObjectName,onChange:function(t){return e.setState({newObjectName:t})},onChoose:this.addObject,openOnFocus:!0,noGroups:!0,hintText:{id:"Choose an object to add to the group"},fullWidth:!0})))}}]),t}(c.Component)}).call(this,n(1))},1626:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(88),d=n(98),p=n(1627),m=n.n(p),h=n(80),f=n(92),g=n(119),b=n(268),v=n(90),E=n(3),y=n(89),j=function(){E.b.openExternalURL("https://github.com/4ian/GDevelop-extensions/issues/new?body=".concat(encodeURIComponent('\n**\u26a0\ufe0f Please edit and complete this before submitting your extension:**\n\n## Describe the extension\nA clear and concise description of what the extension is, how useful it is.\n\n## Checklist\n\n- [ ] Extension has a proper name and description.\n- [ ] Extension has tags (for example: "platform, brick, breakable").\n- [ ] All behaviors have a description.\n- [ ] All functions (actions, conditions, expressions) have descriptions.\n- [ ] I confirm that this extension can be intergrated to this GitHub repository, distributed and MIT licensed.\n\n## Extension file\n\nFinally, attach the .json file of your extension here.\n\nYou also may have to create an account on GitHub before posting.\nIf your extension is high quality and useful, it will be added to the list of GDevelop community extensions.\nWhen you\'re ready, remove this last paragraph and click on "Submit new issue". Thanks \ud83d\ude4c'),"&title=New%20extension"))},O=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={exportDialogOpen:!1},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.eventsFunctionsExtension,n=this.state.exportDialogOpen;return l.createElement(b.a.Consumer,null,function(a){var r=a.getEventsFunctionsExtensionWriter();return l.createElement(f.a,{secondaryActions:[l.createElement(g.a,{key:"help",helpPagePath:"/extensions/create"}),r?l.createElement(u.a,{icon:l.createElement(m.a,null),key:"export",label:l.createElement(c.Trans,{id:"Export extension"}),onClick:function(){return e.setState({exportDialogOpen:!0})}}):null],actions:[l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Close"}),primary:!0,keyboardFocused:!0,onClick:function(){return e.props.onClose()},key:"close"})],open:e.props.open,title:l.createElement(c.Trans,{id:"Edit Extension Options"}),onRequestClose:e.props.onClose},l.createElement(h.a,null,l.createElement(d.b,{floatingLabelText:l.createElement(c.Trans,{id:"Name"}),value:t.getName(),disabled:!0,fullWidth:!0}),l.createElement(d.b,{floatingLabelText:l.createElement(c.Trans,{id:"Name displayed in editor"}),value:t.getFullName(),onChange:function(n,a){t.setFullName(a),e.forceUpdate()},fullWidth:!0}),l.createElement(d.b,{floatingLabelText:l.createElement(c.Trans,{id:"Short description"}),value:t.getShortDescription(),onChange:function(n,a){t.setShortDescription(a),e.forceUpdate()},multiLine:!0,fullWidth:!0,rows:2,rowsMax:2}),l.createElement(d.b,{floatingLabelText:l.createElement(c.Trans,{id:"Description (markdown supported)"}),value:t.getDescription(),onChange:function(n,a){t.setDescription(a),e.forceUpdate()},multiLine:!0,fullWidth:!0,rows:5,rowsMax:5}),l.createElement(d.b,{floatingLabelText:l.createElement(c.Trans,{id:"Version"}),value:t.getVersion(),onChange:function(n,a){t.setVersion(a),e.forceUpdate()},fullWidth:!0}),l.createElement(d.b,{floatingLabelText:l.createElement(c.Trans,{id:"Tags (comma separated)"}),value:t.getTags(),onChange:function(n,a){t.setTags(a),e.forceUpdate()},fullWidth:!0}),l.createElement(d.b,{floatingLabelText:l.createElement(c.Trans,{id:"Author (Name, email or GitHub handle)"}),value:t.getAuthor(),onChange:function(n,a){t.setAuthor(a),e.forceUpdate()},fullWidth:!0})),n&&l.createElement(f.a,{secondaryActions:[l.createElement(g.a,{key:"help",helpPagePath:"/extensions/share"})],actions:[l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Close"}),keyboardFocused:!0,onClick:function(){return e.setState({exportDialogOpen:!1})},key:"close"})],open:!0,onRequestClose:function(){return e.setState({exportDialogOpen:!1})}},l.createElement(h.a,{expand:!0},l.createElement(h.b,null,l.createElement(y.a,null,l.createElement(c.Trans,{id:"You can export the extension to a file to easily import it in another project. If your extension is providing useful and reusable functions or behaviors, consider sharing it with the GDevelop community!"}))),l.createElement(h.b,null,l.createElement(v.a,{icon:l.createElement(m.a,null),primary:!0,label:l.createElement(c.Trans,{id:"Export to a file"}),onClick:function(){!function(e,t){var n=e.getEventsFunctionsExtensionWriter();n?n.chooseEventsFunctionExtensionFile().then(function(e){e&&n.writeEventsFunctionsExtension(t,e).then()}):Promise.reject(new Error("Not supported"))}(a,t)}}),l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Submit extension to the community"}),onClick:j})))))})}}]),t}(l.Component)},1628:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(88),d=n(92),p=n(1629),m=n(119),h=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onApply,a=t.eventsBasedBehavior,r=t.eventsFunctionsExtension,o=t.project;return l.createElement(d.a,{noMargin:!0,secondaryActions:[l.createElement(m.a,{key:"help",helpPagePath:"/behaviors/events-based-behaviors"})],actions:[l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:n,key:"Apply"})],modal:!0,open:!0,onRequestClose:n,title:l.createElement(c.Trans,{id:"Edit the behavior"})},l.createElement(p.a,{project:o,eventsFunctionsExtension:r,eventsBasedBehavior:a,onTabChanged:function(){return e.forceUpdate()},onPropertiesUpdated:function(){return e.forceUpdate()},onRenameProperty:this.props.onRenameProperty}))}}]),t}(l.Component)},1629:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return E});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(98),d=n(80),p=n(113),m=n(722),h=n(179),f=n(266),g=n(147),b=n(1630),v=e.gd,E=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={currentTab:"configuration"},n._allObjectTypes=v.WholeProjectRefactorer.getAllObjectTypesUsingEventsBasedBehavior(n.props.project,n.props.eventsFunctionsExtension,n.props.eventsBasedBehavior).toNewVectorString().toJSArray(),n._changeTab=function(e){return n.setState({currentTab:e},function(){return n.props.onTabChanged()})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.state.currentTab,n=this.props,a=n.eventsBasedBehavior,r=n.project;return l.createElement(l.Fragment,null,l.createElement(h.b,{value:t,onChange:this._changeTab},l.createElement(h.a,{label:l.createElement(c.Trans,{id:"Configuration"}),value:"configuration"}),l.createElement(h.a,{label:l.createElement(c.Trans,{id:"Properties"}),value:"properties"})),"configuration"===t&&l.createElement(d.a,null,l.createElement(f.a,{identifier:"events-based-behavior-explanation",kind:"info"},"This is the configuration of your behavior. Make sure to choose a proper internal name as it's hard to change it later. Enter a description explaining what the behavior is doing to the object."),l.createElement(u.b,{floatingLabelText:l.createElement(c.Trans,{id:"Internal Name"}),value:a.getName(),disabled:!0,fullWidth:!0}),l.createElement(p.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Name displayed in editor"}),value:a.getFullName(),onChange:function(t){a.setFullName(t),e.forceUpdate()},fullWidth:!0}),l.createElement(p.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Description"}),floatingLabelFixed:!0,hintText:{id:"The description of the behavior should explain what the behavior is doing to the object, and, briefly, how to use it."},value:a.getDescription(),onChange:function(t){a.setDescription(t),e.forceUpdate()},multiLine:!0,fullWidth:!0,rows:3}),l.createElement(m.a,{floatingLabelText:l.createElement(c.Trans,{id:"Object on which this behavior can be used"}),project:r,value:a.getObjectType(),onChange:function(t){a.setObjectType(t),e.forceUpdate()},allowedObjectTypes:0===this._allObjectTypes.length?void 0:1===this._allObjectTypes.length?["",this._allObjectTypes[0]]:[""]}),this._allObjectTypes.length>1&&l.createElement(g.a,{kind:"info"},l.createElement(c.Trans,{id:"This behavior is being used by multiple types of objects. Thus, you can't restrict its usage to any particular object type. All the object types using this behavior are listed here: {0}",values:{0:this._allObjectTypes.join(", ")}})),0===a.getEventsFunctions().getEventsFunctionsCount()&&l.createElement(f.a,{identifier:"empty-events-based-behavior-explanation",kind:"info"},l.createElement(c.Trans,{id:"Once you're done, close this dialog and start adding some functions to the behavior. Then, test the behavior by adding it to an object in a scene."})),l.createElement(d.c,null)),"properties"===t&&l.createElement(b.a,{project:r,eventsBasedBehavior:a,onPropertiesUpdated:this.props.onPropertiesUpdated,onRenameProperty:this.props.onRenameProperty}))}}]),t}(l.Component)}).call(this,n(1))},1630:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return B});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(80),d=n(122),p=n(123),m=n(96),h=n(90),f=n(105),g=n(97),b=n(167),v=n(318),E=n.n(v),y=n(113),j=n(170),O=n(25),C=n(144),x=n(349),T=n(289),S=n.n(T),k=n(290),w=n.n(k),N=n(151),_=n.n(N),P=e.gd,I={propertiesContainer:{flex:1}},B=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))))._addProperty=function(){var e=n.props.eventsBasedBehavior.getPropertyDescriptors(),t=Object(C.a)("Property",function(t){return e.has(t)});e.insertNew(t,e.getCount()).setType("Number"),n.forceUpdate(),n.props.onPropertiesUpdated()},n._removeProperty=function(e){n.props.eventsBasedBehavior.getPropertyDescriptors().remove(e),n.forceUpdate(),n.props.onPropertiesUpdated()},n._moveProperty=function(e,t){n.props.eventsBasedBehavior.getPropertyDescriptors().move(e,t),n.forceUpdate(),n.props.onPropertiesUpdated()},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.eventsBasedBehavior.getPropertyDescriptors();return l.createElement(c.I18n,null,function(n){var a=n.i18n;return l.createElement(u.a,{noMargin:!0},l.createElement(u.b,{noMargin:!0},l.createElement("div",{style:I.propertiesContainer},Object(m.mapVector)(t,function(n,r){return l.createElement(l.Fragment,{key:r},l.createElement(j.b,null,l.createElement(u.a,{expand:!0,noMargin:!0},l.createElement(y.a,{margin:"none",commitOnBlur:!0,hintText:{id:"Enter the property name"},value:n.getName(),onChange:function(r){r!==n.getName()&&function(e,t,n){return n?"name"===n||"type"===n?(Object(O.c)(e._({id:'The name of a property cannot be "name" or "type", as they are used by GDevelop internally.'})),!1):t.has(n)?(Object(O.c)(e._({id:"This name is already used by another property. Choose a unique name for each property."})),!1):!!P.Project.validateObjectName(n)||(Object(O.c)(e._({id:"This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your parameter name."})),!1):(Object(O.c)(e._({id:"The name of a property cannot be empty."})),!1)}(a,t,r)&&(e.props.onRenameProperty(n.getName(),r),n.setName(r),e.forceUpdate(),e.props.onPropertiesUpdated())},fullWidth:!0})),l.createElement(x.a,{label:n.isHidden()?l.createElement(c.Trans,{id:"Hidden"}):l.createElement(c.Trans,{id:"Visible in editor"}),checked:!n.isHidden(),onCheck:function(t,a){n.setHidden(!a),e.forceUpdate(),e.props.onPropertiesUpdated()},checkedIcon:l.createElement(S.a,null),uncheckedIcon:l.createElement(w.a,null)}),l.createElement(b.a,{element:l.createElement(f.a,null,l.createElement(E.a,null)),buildMenuTemplate:function(){return[{label:a._({id:"Delete"}),click:function(){return e._removeProperty(n.getName())}},{type:"separator"},{label:a._({id:"Move up"}),click:function(){return e._moveProperty(r,r-1)},enabled:r-1>=0},{label:a._({id:"Move down"}),click:function(){return e._moveProperty(r,r+1)},enabled:r+1<t.getCount()}]}})),l.createElement(u.b,{expand:!0,noMargin:!0},l.createElement(u.a,{expand:!0},l.createElement(d.a,{floatingLabelText:l.createElement(c.Trans,{id:"Type"}),value:n.getType(),onChange:function(t,a,r){n.setType(r),e.forceUpdate(),e.props.onPropertiesUpdated()},fullWidth:!0},l.createElement(p.a,{value:"Number",primaryText:{id:"Number"}}),l.createElement(p.a,{value:"String",primaryText:{id:"String"}}),l.createElement(p.a,{value:"Boolean",primaryText:{id:"Boolean (checkbox)"}}))),l.createElement(u.a,{expand:!0},("String"===n.getType()||"Number"===n.getType())&&l.createElement(y.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Default value"}),hintText:"Number"===n.getType()?"123":"ABC",value:n.getValue(),onChange:function(t){n.setValue(t),e.forceUpdate(),e.props.onPropertiesUpdated()},fullWidth:!0}),"Boolean"===n.getType()&&l.createElement(d.a,{floatingLabelText:l.createElement(c.Trans,{id:"Default value"}),value:"true"===n.getValue()?"true":"false",onChange:function(t,a,r){n.setValue(r),e.forceUpdate(),e.props.onPropertiesUpdated()},fullWidth:!0},l.createElement(p.a,{value:"true",primaryText:{id:"True (checked)"}}),l.createElement(p.a,{value:"false",primaryText:{id:"False (not checked)"}})))),l.createElement(u.b,{expand:!0,noMargin:!0},l.createElement(u.a,{expand:!0},l.createElement(y.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Label, shown in the editor"}),hintText:{id:"This should make the purpose of the property easy to understand"},floatingLabelFixed:!0,value:n.getLabel(),onChange:function(t){n.setLabel(t),e.forceUpdate()},fullWidth:!0}))))}),0===t.getCount()?l.createElement(g.a,null,l.createElement(c.Trans,{id:"No properties for this behavior. Add one to store data inside this behavior (for example: health, ammo, speed, etc...)"})):null,l.createElement(u.a,null,l.createElement(u.b,{justifyContent:"flex-end",expand:!0},l.createElement(h.a,{primary:!0,label:l.createElement(c.Trans,{id:"Add a property"}),onClick:e._addProperty,labelPosition:"before",icon:l.createElement(_.a,null)}))))))})}}]),t}(l.Component)}).call(this,n(1))},1631:function(e,t,n){"use strict";var a=n(199),r=n(78),o=n(10),i=n(80),s=n(88),c=n(1632),l=n.n(c),u=n(134);t.a=o.forwardRef(function(e,t){var n=e.initialEditorName,c=e.editors,d=e.transitions,p=e.onEditorChanged,m=o.useState(n),h=Object(a.a)(m,2),f=h[0],g=h[1];o.useImperativeHandle(t,function(){return{openEditor:function(e){g(e)}}}),o.useEffect(function(){p(f)},[f]);var b=d[f],v="space-between";return b&&(b.previousEditor&&!b.nextEditor&&(v="flex-start"),!b.previousEditor&&b.nextEditor&&(v="flex-end")),o.createElement(i.a,{noMargin:!0,expand:!0},b&&o.createElement(u.a,{maxWidth:!0,noExpand:!0,noFullHeight:!0},o.createElement(i.a,null,o.createElement(i.b,{justifyContent:v},b.previousEditor&&o.createElement(s.a,{label:o.createElement(r.Trans,{id:"Back"}),onClick:function(){b.previousEditor&&g(b.previousEditor)},icon:o.createElement(l.a,null)}),b.nextLabel&&b.nextEditor&&o.createElement(s.a,{label:b.nextLabel,onClick:function(){b.nextEditor&&g(b.nextEditor)},icon:b.nextIcon})))),c[f]?c[f].renderEditor():null)})},1633:function(e,t,n){"use strict";var a=n(78),r=n(10),o=n(134),i=n(80),s=n(89),c=n(90),l=n(88);t.a=function(e){var t=e.eventsFunctionsExtension.getEventsFunctionsCount(),n=e.eventsFunctionsExtension.getEventsBasedBehaviors().getCount();return r.createElement(a.I18n,null,function(u){var d=u.i18n;return r.createElement(o.a,null,r.createElement(i.a,null,r.createElement(s.a,null,r.createElement(a.Trans,{id:"Extensions can provide functions (which can be actions, conditions or expressions) or new behaviors."})),r.createElement(c.a,{label:d._({id:"Edit functions (not attached to behaviors) ({eventsFunctionsCount})",values:{eventsFunctionsCount:t}}),onClick:e.onEditFreeFunctions,primary:!0}),r.createElement(i.c,null),r.createElement(c.a,{label:d._({id:"Edit behaviors ({eventsBasedBehaviorsCount})",values:{eventsBasedBehaviorsCount:n}}),onClick:e.onEditBehaviors,primary:!0}),r.createElement(i.c,null),r.createElement(l.a,{label:r.createElement(a.Trans,{id:"Edit extension options"}),onClick:e.onEditExtensionOptions})))})}},1640:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return p});var a=n(5),r=n(11),o=n(499),i=n.n(o),s=n(192),c=n(346),l=n(112),u=n(774),d=e.gd,p=function(){function e(t){var n=this,r=t.project,o=t.layout,p=t.layer,m=t.viewPosition,h=t.instances,f=t.onInstanceClicked,g=t.onOverInstance,b=t.onOutInstance,v=t.onMoveInstance,E=t.onMoveInstanceEnd,y=t.onDownInstance;Object(a.a)(this,e),this.getInstanceLeft=function(e){return e.getX()-(n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getOriginX():0)},this.getInstanceTop=function(e){return e.getY()-(n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getOriginY():0)},this.getInstanceWidth=function(e){return e.hasCustomSize()?e.getCustomWidth():n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getDefaultWidth():0},this.getInstanceHeight=function(e){return e.hasCustomSize()?e.getCustomHeight():n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getDefaultHeight():0},this.getRendererOfInstance=function(e){var t=n.renderedInstances[e.ptr];if(void 0===t){var a=e.getObjectName(),r=Object(c.a)(n.project,n.layout,a);if(!r)return;(t=n.renderedInstances[e.ptr]=s.a.createNewInstanceRenderer(n.project,n.layout,e,r,n.pixiContainer))._pixiObject.interactive=!0,i.a.panable(t._pixiObject),t._pixiObject.on("click",function(){n.onInstanceClicked(e)}),t._pixiObject.on("mouseover",function(){n.onOverInstance(e)}),t._pixiObject.on("mousedown",function(){n.onDownInstance(e)}),t._pixiObject.on("touchstart",function(t){Object(u.b)(t.data&&t.data.originalEvent)||n.onDownInstance(e)}),t._pixiObject.on("mouseout",function(){n.onOutInstance(e)}),t._pixiObject.on("panmove",function(t){Object(u.b)(t.data&&t.data.originalEvent)||n.onMoveInstance(e,t.deltaX,t.deltaY)}),t._pixiObject.on("panend",function(e){n.onMoveInstanceEnd()})}return t},this.project=r,this.instances=h,this.layout=o,this.layer=p,this.viewPosition=m,this.onInstanceClicked=f,this.onOverInstance=g,this.onOutInstance=b,this.onMoveInstance=v,this.onMoveInstanceEnd=E,this.onDownInstance=y,this.viewTopLeft=[0,0],this.viewBottomRight=[0,0],this.renderedInstances={},this.pixiContainer=new l.Container,this.instancesRenderer=new d.InitialInstanceJSFunctor,this.instancesRenderer.invoke=function(e){var t=d.wrapPointer(e,d.InitialInstance),a=n.getRendererOfInstance(t);if(a){var r=a.getPixiObject();r&&(r.zOrder=t.getZOrder()),r&&(r.interactive=!t.isLocked());var o=n._isInstanceVisible(t);r&&(r.visible=o),o&&a.update(),a.wasUsed=!0}}}return Object(r.a)(e,[{key:"getPixiContainer",value:function(){return this.pixiContainer}},{key:"_isInstanceVisible",value:function(e){var t=this.getInstanceLeft(e),n=this.getInstanceTop(e);return!(t+this.getInstanceWidth(e)<this.viewTopLeft[0]||n+this.getInstanceHeight(e)<this.viewTopLeft[1]||t>this.viewBottomRight[0]||n>this.viewBottomRight[1])}},{key:"_computeViewBounds",value:function(){this.viewTopLeft=this.viewPosition.toSceneCoordinates(-100,-100),this.viewBottomRight=this.viewPosition.toSceneCoordinates(this.viewPosition.getWidth()+100,this.viewPosition.getHeight()+100)}},{key:"render",value:function(){this._computeViewBounds(),this.instances.iterateOverInstancesWithZOrdering(this.instancesRenderer,this.layer.getName()),this._updatePixiObjectsZOrder(),this._updateVisibility(),this._cleanRenderers()}},{key:"_updatePixiObjectsZOrder",value:function(){this.pixiContainer.children.sort(function(e,t){return e.zOrder=e.zOrder||0,t.zOrder=t.zOrder||0,e.zOrder-t.zOrder})}},{key:"_updateVisibility",value:function(){this.pixiContainer.visible=this.layer.getVisibility()}},{key:"resetRenderersFor",value:function(e){for(var t in this.renderedInstances)if(this.renderedInstances.hasOwnProperty(t)){var n=this.renderedInstances[t];n.getInstance().getObjectName()===e&&(n.instanceRemovedFromScene(),delete this.renderedInstances[t])}}},{key:"_cleanRenderers",value:function(){for(var e in this.renderedInstances)if(this.renderedInstances.hasOwnProperty(e)){var t=this.renderedInstances[e];t.wasUsed?t.wasUsed=!1:(t.instanceRemovedFromScene(),delete this.renderedInstances[e])}}},{key:"delete",value:function(){this.instancesRenderer.delete()}}]),e}()}).call(this,n(1))},1641:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});var a=n(5),r=n(11),o=n(112),i=e.gd,s=function(){function e(t){var n=this,r=t.instances,s=t.instanceMeasurer,c=t.toSceneCoordinates;t.toCanvasCoordinates;Object(a.a)(this,e),this.startSelectionRectangle=function(e,t){n.selectionRectangleStart={x:e,y:t},n.selectionRectangleEnd={x:e,y:t}},this.updateSelectionRectangle=function(e,t){n.selectionRectangleStart||(n.selectionRectangleStart={x:e,y:t}),n.selectionRectangleEnd={x:e,y:t}},this.endSelectionRectangle=function(){if(!n.selectionRectangleStart)return[];if(n._instancesInSelectionRectangle.length=0,n.selectionRectangleStart.x>n.selectionRectangleEnd.x){var e=n.selectionRectangleStart.x;n.selectionRectangleStart.x=n.selectionRectangleEnd.x,n.selectionRectangleEnd.x=e}if(n.selectionRectangleStart.y>n.selectionRectangleEnd.y){var t=n.selectionRectangleStart.y;n.selectionRectangleStart.y=n.selectionRectangleEnd.y,n.selectionRectangleEnd.y=t}return n.instances.iterateOverInstances(n.selector),n.selectionRectangleStart=null,n._instancesInSelectionRectangle},this.instances=r,this.instanceMeasurer=s,this.toSceneCoordinates=c,this.pixiRectangle=new o.Graphics,this.pixiRectangle.hitArea=new o.Rectangle(0,0,0,0),this.selectionRectangleStart=null,this.selectionRectangleEnd=null,this._instancesInSelectionRectangle=[],this.selector=new i.InitialInstanceJSFunctor,this.selector.invoke=function(e){var t=i.wrapPointer(e,i.InitialInstance),a=n.instanceMeasurer.getInstanceLeft(t),r=n.instanceMeasurer.getInstanceTop(t),o=n.instanceMeasurer.getInstanceHeight(t),s=n.instanceMeasurer.getInstanceWidth(t);if(n.selectionRectangleStart&&n.selectionRectangleEnd){var l=c(n.selectionRectangleStart.x,n.selectionRectangleStart.y),u=c(n.selectionRectangleEnd.x,n.selectionRectangleEnd.y);l[0]<=a&&a+s<=u[0]&&l[1]<=r&&r+o<=u[1]&&n._instancesInSelectionRectangle.push(t)}}}return Object(r.a)(e,[{key:"hasStartedSelectionRectangle",value:function(){return this.selectionRectangleStart}},{key:"getPixiObject",value:function(){return this.pixiRectangle}},{key:"render",value:function(){if(this.selectionRectangleStart){var e=this.selectionRectangleStart.x,t=this.selectionRectangleStart.y,n=this.selectionRectangleEnd.x,a=this.selectionRectangleEnd.y;this.pixiRectangle.visible=!0,this.pixiRectangle.clear(),this.pixiRectangle.beginFill(6842600),this.pixiRectangle.lineStyle(1,6842600,1),this.pixiRectangle.fillAlpha=.1,this.pixiRectangle.alpha=.8,this.pixiRectangle.drawRect(Math.min(e,n),Math.min(t,a),Math.abs(n-e),Math.abs(a-t)),this.pixiRectangle.endFill()}else this.pixiRectangle.visible=!1}},{key:"delete",value:function(){this.selector.delete()}}]),e}()}).call(this,n(1))},1642:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return c});var a=n(5),r=n(11),o=n(775),i=e.gd,s=function(e,t){var n=e;return t.grid&&t.snap?(n[0]=Object(o.a)(n[0],t.gridWidth,t.gridOffsetX),n[1]=Object(o.a)(n[1],t.gridHeight,t.gridOffsetY)):(n[0]=Math.round(n[0]),n[1]=Math.round(n[1])),n},c=function(){function e(t){var n=this,r=t.instances,o=t.options;Object(a.a)(this,e),this._zOrderFinder=new i.HighestZOrderFinder,this.addInstances=function(e,t){n._instances.iterateOverInstances(n._zOrderFinder);var a=n._zOrderFinder.getHighestZOrder()+1,r=s(e,n._options);t.map(function(e){var t=n._instances.insertNewInitialInstance();return t.setObjectName(e),t.setX(r[0]),t.setY(r[1]),t.setZOrder(a),t})},this.createOrUpdateTemporaryInstancesFromObjectNames=function(e,t){t.length&&(n._temporaryInstances.length?n.updateTemporaryInstancePositions(e):n._createTemporaryInstancesFromObjectNames(e,t))},this._createTemporaryInstancesFromObjectNames=function(e,t){n.deleteTemporaryInstances(),n._instances.iterateOverInstances(n._zOrderFinder);var a=n._zOrderFinder.getHighestZOrder()+1,r=s(e,n._options);n._temporaryInstances=t.map(function(e){var t=n._instances.insertNewInitialInstance();return t.setObjectName(e),t.setX(r[0]),t.setY(r[1]),t.setZOrder(a),t})},this.updateTemporaryInstancePositions=function(e){var t=s(e,n._options);n._temporaryInstances.forEach(function(e){e.setX(Math.round(t[0])),e.setY(Math.round(t[1]))})},this._instances=r,this._options=o,this._temporaryInstances=[]}return Object(r.a)(e,[{key:"setOptions",value:function(e){this._options=e}},{key:"deleteTemporaryInstances",value:function(){var e=this;this._temporaryInstances.forEach(function(t){e._instances.removeInstance(t)}),this._temporaryInstances=[]}},{key:"commitTemporaryInstances",value:function(){this._temporaryInstances=[]}},{key:"unmount",value:function(){this._zOrderFinder.delete()}}]),e}()}).call(this,n(1))},1643:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(134),d=n(776),p=n(97),m=n(243),h=n(291),f=n(574),g=n(346),b=n(105),v=n(80),E=n(262),y=n.n(E),j=n(89),O=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))))._instanceVariablesList=l.createRef(),n.schema=[{name:"Object name",valueType:"string",disabled:!0,getValue:function(e){return e.getObjectName()},setValue:function(e,t){return e.setObjectName(t)},onEditButtonClick:function(e){return n.props.onEditObjectByName(e.getObjectName())}},{name:"Position",type:"row",children:[{name:"X",valueType:"number",getValue:function(e){return e.getX()},setValue:function(e,t){return e.setX(t)}},{name:"Y",valueType:"number",getValue:function(e){return e.getY()},setValue:function(e,t){return e.setY(t)}}]},{name:"Angle",valueType:"number",getValue:function(e){return e.getAngle()},setValue:function(e,t){return e.setAngle(t)}},{name:"Lock position/angle in the editor",valueType:"boolean",getValue:function(e){return e.isLocked()},setValue:function(e,t){return e.setLocked(t)}},{name:"Z Order",valueType:"number",getValue:function(e){return e.getZOrder()},setValue:function(e,t){return e.setZOrder(t)}},{name:"Layer",valueType:"string",getChoices:function(){return Object(d.a)(n.props.layout)},getValue:function(e){return e.getLayer()},setValue:function(e,t){return e.setLayer(t)}},{name:"Custom size",type:"row",children:[{name:"Width",valueType:"number",getValue:function(e){return e.getCustomWidth()},setValue:function(e,t){return e.setCustomWidth(t)}},{name:"Height",valueType:"number",getValue:function(e){return e.getCustomHeight()},setValue:function(e,t){return e.setCustomHeight(t)}}]},{name:"Custom size?",valueType:"boolean",getValue:function(e){return e.hasCustomSize()},setValue:function(e,t){return e.setHasCustomSize(t)}}],n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"_renderEmpty",value:function(){return l.createElement(p.a,null,l.createElement(c.Trans,{id:"Click on an instance in the scene to display its properties"}))}},{key:"_renderInstancesProperties",value:function(){var e=this,t=this.props,n=t.project,a=t.layout,r=t.instances,o=r[0],i=o.getObjectName(),s=Object(g.a)(n,a,i),u=o.getCustomProperties(n,a),d=Object(h.a)(u,function(e){return e.getCustomProperties(n,a)},function(e,t,r){return e.updateCustomProperty(t,r,n,a)});return l.createElement("div",{style:{overflowY:"scroll",overflowX:"hidden"},key:r.map(function(e){return""+e.ptr}).join(";")},l.createElement(v.a,null,l.createElement(m.a,{schema:this.schema.concat(d),instances:r}),l.createElement(v.b,{alignItems:"center",justifyContent:"space-between"},l.createElement(j.a,null,l.createElement(c.Trans,{id:"Instance Variables"})),l.createElement(b.a,{onClick:function(){e.props.editInstanceVariables(o)}},l.createElement(y.a,null)))),l.createElement(f.a,{inheritedVariablesContainer:s?s.getVariables():null,variablesContainer:o.getVariables(),onSizeUpdated:function(){return e.forceUpdate()},ref:this._instanceVariablesList}))}},{key:"render",value:function(){var e=this.props.instances;return l.createElement(u.a,null,e&&e.length?this._renderInstancesProperties():this._renderEmpty())}}]),t}(l.Component)},1644:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return b});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(10),d=n.n(u),p=n(186),m=n(100),h=n(159),f=e.gd,g={display:"flex",flexDirection:"column",alignItems:"stretch"},b=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={searchText:""},n.renderedRows=[],n._searchBar=d.a.createRef(),n._onRowClick=function(e){var t=e.index;n.renderedRows[t]&&n.props.onSelectInstances([n.renderedRows[t].instance])},n._rowGetter=function(e){var t=e.index;return n.renderedRows[t]},n._rowClassName=function(e){var t=e.index;if(t<0)return"tableHeaderRow";var a=n.renderedRows[t];return a&&-1!==n.props.selectedInstances.indexOf(a.instance)?"tableSelectedRow":t%2===0?"tableEvenRow":"tableOddRow"},n._selectFirstInstance=function(){n.renderedRows.length&&n.props.onSelectInstances([n.renderedRows[0].instance])},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e){return!e.freezeUpdate}},{key:"componentWillReceiveProps",value:function(e){!e.freezeUpdate&&this.props.freezeUpdate&&this.table&&this.table.forceUpdateGrid()}},{key:"componentDidMount",value:function(){this._searchBar.current&&this._searchBar.current.focus()}},{key:"componentWillMount",value:function(){var e=this;this.instanceRowRenderer=new f.InitialInstanceJSFunctor,this.instanceRowRenderer.invoke=function(t){var n=e.state.searchText,a=f.wrapPointer(t,f.InitialInstance),r=a.getObjectName();n&&-1===r.toLowerCase().indexOf(n.toLowerCase())||e.renderedRows.push({instance:a,name:r,locked:a.isLocked()?"\ud83d\udd12":"",x:a.getX().toFixed(2),y:a.getY().toFixed(2),angle:a.getAngle().toFixed(2),layer:a.getLayer(),zOrder:a.getZOrder()})}}},{key:"componentWillUnmount",value:function(){this.instanceRowRenderer&&this.instanceRowRenderer.delete()}},{key:"render",value:function(){var e=this,t=this.state.searchText,n=this.props,r=n.instances,o=n.style;this.renderedRows.length=0,r.iterateOverInstances(this.instanceRowRenderer);var i=r.ptr;return d.a.createElement(m.a,null,function(n){return d.a.createElement("div",{style:Object(a.a)({},g,o)},d.a.createElement("div",{style:{flex:1}},d.a.createElement(p.a,null,function(t){var a=t.height,r=t.width;return d.a.createElement(p.d,{ref:function(t){return e.table=t},key:i,headerHeight:30,height:a,className:n.tableRootClassName,headerClassName:"tableHeaderColumn",rowCount:e.renderedRows.length,rowGetter:e._rowGetter,rowHeight:35,onRowClick:e._onRowClick,rowClassName:e._rowClassName,width:r},d.a.createElement(p.b,{label:d.a.createElement(l.Trans,{id:"Object name"}),dataKey:"name",width:.35*r,className:"tableColumn"}),d.a.createElement(p.b,{label:"",dataKey:"locked",width:.05*r,className:"tableColumn"}),d.a.createElement(p.b,{label:d.a.createElement(l.Trans,{id:"X"}),dataKey:"x",width:.1*r,className:"tableColumn"}),d.a.createElement(p.b,{label:d.a.createElement(l.Trans,{id:"Y"}),dataKey:"y",width:.1*r,className:"tableColumn"}),d.a.createElement(p.b,{label:d.a.createElement(l.Trans,{id:"Angle"}),dataKey:"angle",width:.1*r,className:"tableColumn"}),d.a.createElement(p.b,{label:d.a.createElement(l.Trans,{id:"Layer"}),dataKey:"layer",width:.2*r,className:"tableColumn"}),d.a.createElement(p.b,{label:d.a.createElement(l.Trans,{id:"Z Order"}),dataKey:"zOrder",width:.1*r,className:"tableColumn"}))})),d.a.createElement(h.a,{value:t,onChange:function(t){return e.setState({searchText:t})},onRequestSearch:e._selectFirstInstance,ref:e._searchBar}))})}}]),t}(u.Component)}).call(this,n(1))},1645:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(88),p=n(92),m=n(122),h=n(123),f=n(776),g=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={selectedLayer:""},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){!this.props.open&&e.open&&this.setState({selectedLayer:""})}},{key:"render",value:function(){var e=this;if(!this.props.layersContainer||!this.props.open)return null;var t=[u.a.createElement(d.a,{key:"cancel",label:u.a.createElement(c.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:function(){return e.props.onClose(!1)}}),u.a.createElement(d.a,{key:"remove",label:u.a.createElement(c.Trans,{id:"Remove objects"}),onClick:function(){return e.props.onClose(!0,null)}}),u.a.createElement(d.a,{key:"move",label:u.a.createElement(c.Trans,{id:"Move objects"}),primary:!0,onClick:function(){return e.props.onClose(!0,e.state.selectedLayer)}})],n=Object(f.a)(this.props.layersContainer).filter(function(t){return t.value!==e.props.layerRemoved}).map(function(e){var t=e.value,n=e.label;return u.a.createElement(h.a,{key:t,value:t,primaryText:n})});return u.a.createElement(p.a,{title:u.a.createElement(c.Trans,{id:"Objects on {0}",values:{0:this.props.layerRemoved}}),actions:t,modal:!0,open:this.props.open,onRequestClose:this.props.onCancel},u.a.createElement("div",null,u.a.createElement(c.Trans,{id:"Move objects on layer {0} to:",values:{0:this.props.layerRemoved}})),u.a.createElement(m.a,{value:this.state.selectedLayer,onChange:function(t,n,a){e.setState({selectedLayer:a})}},n))}}]),t}(l.Component)},1646:function(e,t,n){"use strict";n.d(t,"a",function(){return j});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(88),p=n(366),m=n(92),h=n(119),f=n(1675),g=n(179),b=n(412),v=n(113),E=n(170),y=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={currentTab:"properties",newObjectName:n.props.objectName},n._onChangeTab=function(e){n.setState({currentTab:e})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=[u.a.createElement(d.a,{key:"cancel",label:u.a.createElement(c.Trans,{id:"Cancel"}),onClick:this.props.onCancel}),u.a.createElement(d.a,{key:"apply",label:u.a.createElement(c.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:function(){e.props.onApply(),e.props.onRename(e.state.newObjectName)}})],n=this.props.editorComponent,a=this.state.currentTab;return u.a.createElement(m.a,{key:this.props.object&&this.props.object.ptr,secondaryActions:u.a.createElement(h.a,{helpPagePath:this.props.helpPagePath}),actions:t,noMargin:!0,modal:!0,onRequestClose:this.props.onCancel,open:this.props.open,noTitleMargin:!0,title:u.a.createElement("div",null,u.a.createElement(g.b,{value:a,onChange:this._onChangeTab},u.a.createElement(g.a,{label:u.a.createElement(c.Trans,{id:"Properties"}),value:"properties",key:"properties"}),u.a.createElement(g.a,{label:u.a.createElement(c.Trans,{id:"Behaviors"}),value:"behaviors",key:"behaviors"})))},u.a.createElement(E.b,{alignItems:"baseline"},u.a.createElement(E.a,null,u.a.createElement(c.Trans,{id:"Object name:"})),u.a.createElement(v.a,{fullWidth:!0,commitOnBlur:!0,margin:"none",value:this.state.newObjectName,hintText:{id:"Object Name"},onChange:function(t){t!==e.state.newObjectName&&e.props.canRenameObject(t)&&e.setState({newObjectName:t})}})),"properties"===a&&n&&u.a.createElement(n,{object:this.props.object,project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,onSizeUpdated:function(){return e.forceUpdate()},objectName:this.props.objectName}),"behaviors"===a&&u.a.createElement(f.a,{object:this.props.object,project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,onSizeUpdated:function(){return e.forceUpdate()}}))}}]),t}(l.Component),j=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={dialogComponent:null,editorComponent:null,castToObjectType:null,helpPagePath:null,objectName:""},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this._loadFrom(this.props.object)}},{key:"componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.object!==e.object)&&this._loadFrom(e.object)}},{key:"_loadFrom",value:function(e){if(e){var t=p.a.getEditorConfiguration(e.getType());if(!t)return this.setState({dialogComponent:null,editorComponent:null,castToObjectType:null});this.setState({dialogComponent:Object(b.a)(y,{propName:"object",newObjectCreator:function(){return t.createNewObject(e)},useProjectToUnserialize:!0}),editorComponent:t.component,helpPagePath:t.helpPagePath,castToObjectType:t.castToObjectType,objectName:e.getName()})}}},{key:"render",value:function(){if(!this.props.object||!this.state.dialogComponent||!this.state.castToObjectType)return null;var e=this.state.dialogComponent,t=this.state,n=t.editorComponent,a=t.castToObjectType,r=t.helpPagePath;return u.a.createElement(e,Object.assign({editorComponent:n,key:this.props.object&&this.props.object.ptr,helpPagePath:r},this.props,{object:a(this.props.object),objectName:this.state.objectName}))}}]),t}(l.Component)},1647:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return j});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(83),l=n(78),u=n(10),d=n(154),p=n(80),m=n(280),h=n(170),f=n(221),g=n(114),b=n(113),v=e.gd,E={marginRight:10},y={sizeTextField:Object(c.a)({width:90},E),toolbarItem:E,checkbox:E},j=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.project,r=t.resourceSources,o=t.onChooseResource,i=t.resourceExternalEditors,s=v.asTextObject(n);return u.createElement(p.a,{noMargin:!0},u.createElement(h.b,null,u.createElement(h.a,null,u.createElement(l.Trans,{id:"Size:"})),u.createElement(b.a,{commitOnBlur:!0,type:"number",margin:"none",style:y.sizeTextField,value:s.getCharacterSize(),onChange:function(t){s.setCharacterSize(parseInt(t,10)||0),e.forceUpdate()}}),u.createElement(h.a,null,u.createElement(l.Trans,{id:"Color:"})),u.createElement(m.a,{style:y.toolbarItem,disableAlpha:!0,color:{r:s.getColorR(),g:s.getColorG(),b:s.getColorB(),a:255},onChangeComplete:function(t){s.setColor(t.rgb.r,t.rgb.g,t.rgb.b),e.forceUpdate()}}),u.createElement(d.a,{label:u.createElement(l.Trans,{id:"Bold"}),checked:s.isBold(),onCheck:function(t,n){s.setBold(n),e.forceUpdate()},style:y.checkbox}),u.createElement(d.a,{label:u.createElement(l.Trans,{id:"Italic"}),checked:s.isItalic(),onCheck:function(t,n){s.setItalic(n),e.forceUpdate()},style:y.checkbox}),u.createElement(f.a,{margin:"none",project:a,resourceSources:r,onChooseResource:o,resourceExternalEditors:i,resourcesLoader:g.a,resourceKind:"font",fullWidth:!0,canBeReset:!0,initialResourceName:s.getFontName(),onChange:function(t){s.setFontName(t),e.forceUpdate()},hintText:u.createElement(l.Trans,{id:"Choose a font"})})),u.createElement(p.b,{noMargin:!0},u.createElement(p.a,{expand:!0},u.createElement(p.b,null,u.createElement(b.a,{floatingLabelText:u.createElement(l.Trans,{id:"Initial text to display"}),floatingLabelFixed:!0,commitOnBlur:!0,hintText:{id:"Enter the text to be displayed by the object"},fullWidth:!0,multiLine:!0,rows:8,rowsMax:8,value:s.getString(),onChange:function(t){s.setString(t),e.forceUpdate(),e.props.onSizeUpdated()}})))))}}]),t}(u.Component)}).call(this,n(1))},1648:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(113),d=n(80),p=n(376),m=n(137),h=e.gd,f=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.project,r=t.resourceSources,o=t.onChooseResource,i=t.resourceExternalEditors,s=h.asTiledSpriteObject(n);return l.createElement(d.a,null,l.createElement(d.b,null,l.createElement(p.a,{project:a,resourceSources:r,onChooseResource:o,resourceKind:"image",resourceName:s.getTexture(),resourceExternalEditors:i,onChange:function(t){s.setTexture(t),e.forceUpdate()},floatingLabelText:l.createElement(c.Trans,{id:"Select an image"})})),l.createElement(m.a,null,l.createElement(u.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Default width (in pixels)"}),fullWidth:!0,type:"number",value:s.getWidth(),onChange:function(t){s.setWidth(parseInt(t,10)||0),e.forceUpdate()}}),l.createElement(u.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Default height (in pixels)"}),fullWidth:!0,type:"number",value:s.getHeight(),onChange:function(t){s.setHeight(parseInt(t,10)||0),e.forceUpdate()}})))}}]),t}(l.Component)}).call(this,n(1))},1649:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return g});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(154),d=n(80),p=n(376),m=n(113),h=n(137),f=e.gd,g=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.project,r=t.resourceSources,o=t.onChooseResource,i=t.resourceExternalEditors,s=f.asPanelSpriteObject(n);return l.createElement(d.a,null,l.createElement(d.b,null,l.createElement(p.a,{project:a,resourceSources:r,onChooseResource:o,resourceExternalEditors:i,resourceKind:"image",resourceName:s.getTexture(),onChange:function(t){s.setTexture(t),e.forceUpdate()},floatingLabelText:l.createElement(c.Trans,{id:"Select an image"})})),l.createElement(d.b,null,l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Repeat borders and center textures (instead of stretching them)"}),checked:s.isTiled(),onCheck:function(t,n){s.setTiled(n),e.forceUpdate()}})),l.createElement(h.a,null,l.createElement(m.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Top margin"}),fullWidth:!0,type:"number",value:s.getTopMargin(),onChange:function(t){s.setTopMargin(parseInt(t,10)||0),e.forceUpdate()}}),l.createElement(m.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Bottom margin"}),fullWidth:!0,type:"number",value:s.getBottomMargin(),onChange:function(t){s.setBottomMargin(parseInt(t,10)||0),e.forceUpdate()}})),l.createElement(h.a,null,l.createElement(m.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Left margin"}),fullWidth:!0,type:"number",value:s.getLeftMargin(),onChange:function(t){s.setLeftMargin(parseInt(t,10)||0),e.forceUpdate()}}),l.createElement(m.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Right margin"}),fullWidth:!0,type:"number",value:s.getRightMargin(),onChange:function(t){s.setRightMargin(parseInt(t,10)||0),e.forceUpdate()}})),l.createElement(h.a,null,l.createElement(m.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Default width (in pixels)"}),fullWidth:!0,type:"number",value:s.getWidth(),onChange:function(t){s.setWidth(parseInt(t,10)||0),e.forceUpdate()}}),l.createElement(m.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Default height (in pixels)"}),fullWidth:!0,type:"number",value:s.getHeight(),onChange:function(t){s.setHeight(parseInt(t,10)||0),e.forceUpdate()}})))}}]),t}(l.Component)}).call(this,n(1))},1650:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return z});var a=n(102),r=n(83),o=n(120),i=n(5),s=n(11),c=n(22),l=n(21),u=n(23),d=n(78),p=n(10),m=n(189),h=n(1651),f=n(151),g=n.n(f),b=n(190),v=n.n(b),E=n(105),y=n(88),j=n(90),O=n(96),C=n(113),x=n(92),T=n(119),S=n(97),k=n(170),w=n(415),N=n(301),_=n(25),P=n(114),I=n(1659),B=n(1664),M=n(293),F=n(80),R=n(137),L=e.gd,A={gridList:{overflowY:"auto"},animationTitle:{flex:1},animationTools:{flexShrink:0}},D=function(e){var t=e.onAdd,n=e.extraTools;return p.createElement(F.a,{expand:!0},p.createElement(F.b,{justifyContent:"space-between"},n,p.createElement(j.a,{label:p.createElement(d.Trans,{id:"Add an animation"}),primary:!0,onClick:t,labelPosition:"before",icon:p.createElement(g.a,null)})))},U=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.animation,n=e.id,a=e.project,r=e.resourceSources,o=e.onRemove,i=e.onChooseResource,s=e.resourceExternalEditors,c=e.resourcesLoader,l=e.onSpriteContextMenu,u=e.selectedSprites,d=e.onSelectSprite,m=e.onReplaceDirection,f=e.objectName,g=e.onChangeName,b=t.getName();return p.createElement("div",null,p.createElement(k.b,{smallest:!0},p.createElement(w.a,null),p.createElement(k.a,null,"Animation #",n," "),p.createElement(F.a,{expand:!0,margin:!0},p.createElement(C.a,{commitOnBlur:!0,margin:"none",value:t.getName(),hintText:{id:"Optional animation name"},onChange:function(e){return g(e)},fullWidth:!0})),p.createElement(E.a,{onClick:o},p.createElement(v.a,null))),Object(O.mapFor)(0,t.getDirectionsCount(),function(e){var n=t.getDirection(e);return p.createElement(h.a,{direction:n,key:e,project:a,resourcesLoader:c,resourceSources:r,onChooseResource:i,resourceExternalEditors:s,onSpriteContextMenu:l,selectedSprites:u,onSelectSprite:d,onReplaceByDirection:function(t){return m(e,t)},objectName:f,animationName:b,onChangeName:g})}))}}]),t}(p.Component),V=Object(m.SortableElement)(U),W=Object(m.SortableContainer)(function(e){var t=e.spriteObject,n=e.objectName,a=e.onAddAnimation,r=e.onRemoveAnimation,i=e.onChangeAnimationName,s=e.project,c=e.resourcesLoader,l=e.resourceSources,u=e.onChooseResource,d=e.resourceExternalEditors,m=e.extraBottomTools,h=e.onSpriteContextMenu,f=e.selectedSprites,g=e.onSelectSprite,b=e.onReplaceDirection;return p.createElement("div",{style:A.gridList},[].concat(Object(o.a)(Object(O.mapFor)(0,t.getAnimationsCount(),function(e){var a=t.getAnimation(e);return p.createElement(V,{key:e,index:e,id:e,animation:a,project:s,resourcesLoader:c,resourceSources:l,onChooseResource:u,resourceExternalEditors:d,onRemove:function(){return r(e)},onChangeName:function(t){return i(e,t)},onSpriteContextMenu:h,selectedSprites:f,onSelectSprite:g,onReplaceDirection:function(t,n){return b(e,t,n)},objectName:n})})),[p.createElement(D,{onAdd:a,key:"add-animation-line",disabled:!0,index:t.getAnimationsCount(),extraTools:m})]))}),G=function(e){function t(){var e,n;Object(i.a)(this,t);for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={selectedSprites:{}},n.onSortEnd=function(e){var t=e.oldIndex,a=e.newIndex;n.props.spriteObject.moveAnimation(t,a),n.forceUpdate()},n.addAnimation=function(){var e=new L.Animation;e.setDirectionsCount(1),n.props.spriteObject.addAnimation(e),n.forceUpdate(),n.props.onSizeUpdated()},n.removeAnimation=function(e){confirm("Are you sure you want to remove this animation?")&&(n.props.spriteObject.removeAnimation(e),n.forceUpdate(),n.props.onSizeUpdated())},n.changeAnimationName=function(e,t){var a=n.props.spriteObject,r=Object(O.mapFor)(0,a.getAnimationsCount(),function(t){return t===e?void 0:a.getAnimation(t).getName()});""!==t&&r.filter(function(e){return e===t}).length?Object(_.c)("Another animation with this name already exists. Please use another name."):(a.getAnimation(e).setName(t),n.forceUpdate())},n.deleteSelection=function(){var e=n.props.spriteObject;Object(O.mapFor)(0,e.getAnimationsCount(),function(t){var a=e.getAnimation(t);Object(M.i)(a,n.state.selectedSprites)}),n.setState({selectedSprites:{}})},n.duplicateSelection=function(){var e=n.props.spriteObject;Object(O.mapFor)(0,e.getAnimationsCount(),function(t){var a=e.getAnimation(t);Object(M.j)(a,n.state.selectedSprites)}),n.setState({selectedSprites:{}})},n.openSpriteContextMenu=function(e,t,a,r){n.selectSprite(a,!0),n.spriteContextMenu&&n.spriteContextMenu.open(e,t)},n.selectSprite=function(e,t){n.setState({selectedSprites:Object(r.a)({},n.state.selectedSprites,Object(a.a)({},e.ptr,t))})},n.replaceDirection=function(e,t,a){n.props.spriteObject.getAnimation(e).setDirection(a,t),n.forceUpdate()},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return p.createElement("div",null,0===this.props.spriteObject.getAnimationsCount()&&p.createElement(S.a,null,p.createElement(d.Trans,{id:"This object has no animations containing images. Start by adding an animation."})),p.createElement(W,{spriteObject:this.props.spriteObject,objectName:this.props.objectName,helperClass:"sortable-helper",project:this.props.project,onSortEnd:this.onSortEnd,onAddAnimation:this.addAnimation,onChangeAnimationName:this.changeAnimationName,onRemoveAnimation:this.removeAnimation,onReplaceDirection:this.replaceDirection,onSpriteContextMenu:this.openSpriteContextMenu,selectedSprites:this.state.selectedSprites,onSelectSprite:this.selectSprite,resourcesLoader:this.props.resourcesLoader,resourceSources:this.props.resourceSources,resourceExternalEditors:this.props.resourceExternalEditors,onChooseResource:this.props.onChooseResource,extraBottomTools:this.props.extraBottomTools,useDragHandle:!0,lockAxis:"y",axis:"y"}),p.createElement(N.a,{ref:function(t){return e.spriteContextMenu=t},buildMenuTemplate:function(){return[{label:"Delete selection",click:function(){return e.deleteSelection()}},{label:"Duplicate selection",click:function(){return e.duplicateSelection()}}]}}))}}]),t}(p.Component),z=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={pointsEditorOpen:!1,collisionMasksEditorOpen:!1},n.openPointsEditor=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({pointsEditorOpen:e})},n.openCollisionMasksEditor=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({collisionMasksEditorOpen:e})},n.resourcesLoader=P.a,n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.project,r=t.resourceSources,o=t.onChooseResource,i=t.resourceExternalEditors,s=t.onSizeUpdated,c=t.objectName,l=L.asSpriteObject(n);return p.createElement("div",null,p.createElement(G,{spriteObject:l,resourcesLoader:this.resourcesLoader,resourceSources:r,onChooseResource:o,resourceExternalEditors:i,project:a,objectName:c,onSizeUpdated:s,extraBottomTools:p.createElement(R.a,{noMargin:!0},p.createElement(j.a,{label:p.createElement(d.Trans,{id:"Edit hitboxes"}),primary:!1,onClick:function(){return e.openCollisionMasksEditor(!0)},disabled:0===l.getAnimationsCount()}),p.createElement(j.a,{label:p.createElement(d.Trans,{id:"Edit points"}),primary:!1,onClick:function(){return e.openPointsEditor(!0)},disabled:0===l.getAnimationsCount()}))}),this.state.pointsEditorOpen&&p.createElement(x.a,{actions:p.createElement(y.a,{label:p.createElement(d.Trans,{id:"Close"}),primary:!0,onClick:function(){return e.openPointsEditor(!1)}}),secondaryActions:[p.createElement(T.a,{helpPagePath:"/objects/sprite/edit-points",key:"help"})],noMargin:!0,modal:!0,onRequestClose:function(){return e.openPointsEditor(!1)},open:this.state.pointsEditorOpen},p.createElement(I.a,{object:l,resourcesLoader:this.resourcesLoader,project:a,onPointsUpdated:function(){return e.forceUpdate()}})),this.state.collisionMasksEditorOpen&&p.createElement(x.a,{actions:p.createElement(y.a,{label:p.createElement(d.Trans,{id:"Close"}),primary:!0,onClick:function(){return e.openCollisionMasksEditor(!1)}}),secondaryActions:[p.createElement(T.a,{helpPagePath:"/objects/sprite/collision-mask",key:"help"})],noMargin:!0,modal:!0,onRequestClose:function(){return e.openCollisionMasksEditor(!1)},open:this.state.collisionMasksEditorOpen},p.createElement(B.a,{object:l,resourcesLoader:this.resourcesLoader,project:a,onCollisionMasksUpdated:function(){return e.forceUpdate()}})))}}]),t}(p.Component)}).call(this,n(1))},1651:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return P});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(120),l=n(83),u=n(78),d=n(10),p=n.n(d),m=n(189),h=n(96),f=n(151),g=n.n(f),b=n(2108),v=n(170),E=n(591),y=n(293),j=(n(114),n(210)),O=n(88),C=n(100),x=e.gd,T=n(132),S={spritesList:{whiteSpace:"nowrap",overflowY:"hidden"},thumbnailExtraStyle:{marginRight:10},spriteThumbnailImage:{maxWidth:100,maxHeight:100,verticalAlign:"middle"}},k=Object(m.SortableElement)(function(e){e.displayHint;var t=e.onAdd;return p.a.createElement(C.a,null,function(e){return p.a.createElement("div",{style:Object(l.a)({},E.b,{backgroundColor:e.list.itemsBackgroundColor})},p.a.createElement(O.a,{onClick:t,label:p.a.createElement(u.Trans,{id:"Add"}),icon:p.a.createElement(g.a,null)}))})}),w=Object(m.SortableElement)(function(e){var t=e.sprite,n=e.project,a=e.resourcesLoader,r=e.selected,o=e.onSelect,i=e.onContextMenu;return p.a.createElement(E.a,{selectable:!0,selected:r,onSelect:o,onContextMenu:i,resourceName:t.getImageName(),resourcesLoader:a,project:n,style:S.thumbnailExtraStyle})}),N=Object(m.SortableContainer)(function(e){var t=e.direction,n=e.project,a=e.resourcesLoader,r=e.onAddSprite,o=e.selectedSprites,i=e.onSelectSprite,s=e.onSpriteContextMenu,l=t.getSpritesCount();return p.a.createElement("div",{style:S.spritesList},[].concat(Object(c.a)(Object(h.mapFor)(0,l,function(e){var r=t.getSprite(e);return p.a.createElement(w,{sprite:r,key:r.ptr,index:e,selected:!!o[r.ptr],onContextMenu:function(e,t){return s(e,t,r)},onSelect:function(e){return i(r,e)},resourcesLoader:a,project:n})})),[p.a.createElement(k,{displayHint:!t.getSpritesCount(),key:"add-sprite-button",disabled:!0,index:l,onAdd:r})]))}),_=function(e){var t=!1,n=!1;return 0!==e.getSpritesCount()&&(t=Object(y.b)(e.getSprite(0),e),n=Object(y.a)(e.getSprite(0),e)),{allDirectionSpritesHaveSamePoints:t,allDirectionSpritesHaveSameCollisionMasks:n}},P=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).onSortEnd=function(e){var t=e.oldIndex,a=e.newIndex;n.props.direction.moveSprite(t,a),n.forceUpdate()},n.onAddSprite=function(){var e=n.props,t=e.resourceSources,a=e.onChooseResource,r=e.project,o=e.direction;if(t){var i=t.filter(function(e){return"image"===e.kind});if(i.length){var s=_(o),c=s.allDirectionSpritesHaveSameCollisionMasks,l=s.allDirectionSpritesHaveSamePoints;a(i[0].name).then(function(e){e.forEach(function(e){Object(j.b)(r,e),r.getResourcesManager().addResource(e);var t=new x.Sprite;t.setImageName(e.getName()),l&&Object(y.g)(o.getSprite(0),t),c&&Object(y.h)(o.getSprite(0),t),o.addSprite(t)}),e.forEach(function(e){return e.delete()}),n.forceUpdate()})}}},n.editWith=function(e){var t=n.props,a=t.project,r=t.direction,o=t.resourcesLoader,i=t.onReplaceByDirection,s=t.onChangeName,c=t.objectName,l=t.animationName,u=Object(h.mapFor)(0,r.getSpritesCount(),function(e){return r.getSprite(e).getImageName()}),d=_(r),p=d.allDirectionSpritesHaveSameCollisionMasks,m=d.allDirectionSpritesHaveSamePoints,f={},g=r.getMetadata();if(g)try{f=JSON.parse(g)}catch(b){console.error("Malformed metadata",b)}e.edit({project:a,resourcesLoader:o,singleFrame:!1,resourceNames:u,extraOptions:{fps:r.getTimeBetweenFrames()>0?1/r.getTimeBetweenFrames():1,name:l||(u.length>0?T.basename(u[0],T.extname(u[0])):c),isLooping:r.isLooping(),externalEditorData:f},onChangesSaved:function(e){var t=new x.Direction;t.setTimeBetweenFrames(r.getTimeBetweenFrames()),t.setLoop(r.isLooping()),e.forEach(function(e){var n=new x.Sprite;if(n.setImageName(e.name),void 0!==e.originalIndex){var a=r.getSprite(e.originalIndex);Object(y.g)(a,n),Object(y.h)(a,n)}else m&&Object(y.g)(r.getSprite(0),n),p&&Object(y.h)(r.getSprite(0),n);t.addSprite(n),n.delete()}),e[0].metadata&&t.setMetadata(JSON.stringify(e[0].metadata)),o.burstUrlsCacheForResources(a,u),i(t),e[0].newAnimationName&&s(e[0].newAnimationName),t.delete()}})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return p.a.createElement("div",null,p.a.createElement(v.b,{justifyContent:"flex-end",smallest:!0},p.a.createElement(b.a,{direction:this.props.direction,resourcesLoader:this.props.resourcesLoader,project:this.props.project,resourceExternalEditors:this.props.resourceExternalEditors,onEditWith:this.editWith})),p.a.createElement(N,{resourcesLoader:this.props.resourcesLoader,direction:this.props.direction,project:this.props.project,onSortEnd:this.onSortEnd,onAddSprite:this.onAddSprite,selectedSprites:this.props.selectedSprites,onSelectSprite:this.props.onSelectSprite,onSpriteContextMenu:this.props.onSpriteContextMenu,helperClass:"sortable-helper",lockAxis:"x",axis:"x"}))}}]),t}(d.Component)}).call(this,n(1))},1659:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return O});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(97),p=n(80),m=n(96),h=n(1660),f=n(1663),g=n(292),b=n(293),v=n(780),E=n(502),y=n.n(E),j=e.gd,O=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={animationIndex:0,directionIndex:0,spriteIndex:0,samePointsForAnimations:!0,samePointsForSprites:!0},n._updatePoints=function(){var e=n.props.object,t=n.state,a=t.animationIndex,r=t.directionIndex,o=t.spriteIndex,i=j.asSpriteObject(e),s=Object(b.k)(i,a,r,o),c=s.animation,l=s.sprite;c&&l&&(n.state.samePointsForAnimations?Object(m.mapFor)(0,i.getAnimationsCount(),function(e){var t=i.getAnimation(e);Object(b.f)(l,t)}):n.state.samePointsForSprites&&Object(b.f)(l,c)),n.forceUpdate(),n.props.onPointsUpdated&&n.props.onPointsUpdated()},n.chooseAnimation=function(e){n.setState({animationIndex:e,directionIndex:0,spriteIndex:0},function(){return n._updateSamePointsToggles()})},n.chooseDirection=function(e){n.setState({directionIndex:e,spriteIndex:0})},n.chooseSprite=function(e){n.setState({spriteIndex:e})},n._updateSamePointsToggles=function(){var e=n.props.object,t=n.state,a=t.animationIndex,r=t.directionIndex,o=t.spriteIndex,i=j.asSpriteObject(e),s=Object(b.k)(i,a,r,o),c=s.animation,l=s.sprite;c&&l&&n.setState({samePointsForAnimations:y()(Object(m.mapFor)(0,i.getAnimationsCount(),function(e){var t=i.getAnimation(e);return Object(b.d)(l,t)})),samePointsForSprites:Object(b.d)(l,c)})},n._setSamePointsForAllAnimations=function(e){if(e&&!confirm("Having the same points for all animations will erase and reset all the other animations points. This can't be undone. Are you sure you want to share these points amongst all the animations of the object?"))return;n.setState({samePointsForAnimations:e,samePointsForSprites:!!e||n.state.samePointsForSprites},function(){n._updatePoints()})},n._setSamePointsForAllSprites=function(e){if(e&&!confirm("Having the same points for all frames will erase and reset all the other frames points. This can't be undone. Are you sure you want to share these points amongst all the frames of the animation?"))return;n.setState({samePointsForAnimations:!!e&&n.state.samePointsForAnimations,samePointsForSprites:e},function(){n._updatePoints()})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this._updateSamePointsToggles()}},{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.resourcesLoader,r=t.project,o=this.state,i=o.samePointsForAnimations,s=o.samePointsForSprites,l=o.animationIndex,m=o.directionIndex,E=o.spriteIndex,y=j.asSpriteObject(n);if(!n.getAnimationsCount())return null;var O=Object(b.k)(y,l,m,E),C=O.hasValidSprite,x=O.sprite;return u.a.createElement("div",null,u.a.createElement(g.a,{resourceName:C?x.getImageName():"",resourcesLoader:a,project:r,renderOverlay:function(t){var n=t.imageWidth,a=t.imageHeight,r=t.imageZoomFactor;return C&&u.a.createElement(f.a,{imageWidth:n,imageHeight:a,imageZoomFactor:r,pointsContainer:x,onPointsUpdated:e._updatePoints})}}),u.a.createElement(p.b,null,u.a.createElement(p.a,{expand:!0},u.a.createElement(v.a,{spriteObject:y,animationIndex:l,directionIndex:m,spriteIndex:E,chooseAnimation:this.chooseAnimation,chooseDirection:this.chooseDirection,chooseSprite:this.chooseSprite,sameForAllAnimations:i,sameForAllSprites:s,setSameForAllAnimations:this._setSamePointsForAllAnimations,setSameForAllSprites:this._setSamePointsForAllSprites,setSameForAllAnimationsLabel:u.a.createElement(c.Trans,{id:"Share same points for all animations"}),setSameForAllSpritesLabel:u.a.createElement(c.Trans,{id:"Share same points for all sprites of this animation"})}))),!!x&&u.a.createElement(h.a,{pointsContainer:x,onPointsUpdated:this._updatePoints}),!x&&u.a.createElement(d.a,null,u.a.createElement(c.Trans,{id:"Choose an animation and frame to edit the points"})))}}]),t}(l.Component)}).call(this,n(1))},1660:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return T});var a=n(120),r=n(102),o=n(83),i=n(5),s=n(11),c=n(22),l=n(21),u=n(23),d=n(10),p=n.n(d),m=n(143),h=n(189),f=n(144),g=n(96),b=n(504),v=n(1661),E=n(1662),y=e.gd,j=Object(h.SortableElement)(E.a),O=Object(h.SortableElement)(v.a),C=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={nameErrors:{}},n.updateOriginPointX=function(e){n.props.pointsContainer.getOrigin().setX(e),n._onPointsUpdated()},n.updateOriginPointY=function(e){n.props.pointsContainer.getOrigin().setY(e),n._onPointsUpdated()},n.updateCenterPointX=function(e){n.props.pointsContainer.getCenter().setX(e),n._onPointsUpdated()},n.updateCenterPointY=function(e){n.props.pointsContainer.getCenter().setY(e),n._onPointsUpdated()},n.updatePointX=function(e,t){e.setX(t),n._onPointsUpdated()},n.updatePointY=function(e,t){e.setY(t),n._onPointsUpdated()},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"_onPointsUpdated",value:function(){this.forceUpdate(),this.props.onPointsUpdated()}},{key:"render",value:function(){var e=this,t=this.props.pointsContainer,n=t.getAllNonDefaultPoints(),i=Object(g.mapVector)(n,function(n,a){var i=n.getName();return p.a.createElement(O,{index:a,disabled:!0,key:"point-"+i,pointX:n.getX(),pointY:n.getY(),onChangePointX:function(t){return e.updatePointX(n,t)},onChangePointY:function(t){return e.updatePointY(n,t)},pointName:i,nameError:e.state.nameErrors[i],onBlur:function(a){var s=a.target.value;if(i!==s){var c=!0;t.hasPoint(s)?c=!1:n.setName(s),e.setState({nameErrors:Object(o.a)({},e.state.nameErrors,Object(r.a)({},i,!c))})}},onRemove:function(){confirm("Are you sure you want to remove this point? This can't be undone.")&&(t.delPoint(i),e._onPointsUpdated())}})}),s=t.getOrigin(),c=t.getCenter(),l=p.a.createElement(O,{index:0,key:"origin-point-row",pointName:"Origin",pointX:s.getX(),pointY:s.getY(),onChangePointX:this.updateOriginPointX,onChangePointY:this.updateOriginPointY,disabled:!0}),u=p.a.createElement(O,{index:1,key:"center-point-row",pointName:"Center",isAutomatic:t.isDefaultCenterPoint(),pointX:c.getX(),pointY:c.getY(),onChangePointX:this.updateCenterPointX,onChangePointY:this.updateCenterPointY,disabled:!0,onEdit:t.isDefaultCenterPoint()?function(){t.setDefaultCenterPoint(!1),e._onPointsUpdated()}:null,onRemove:t.isDefaultCenterPoint()?null:function(){t.setDefaultCenterPoint(!0),e._onPointsUpdated()}}),d=p.a.createElement(j,{index:0,key:"add-point-row",disabled:!0,onAdd:function(){var n=Object(f.a)("Point",function(e){return t.hasPoint(e)}),a=new y.Point(n);t.addPoint(a),a.delete(),e._onPointsUpdated()}});return p.a.createElement(m.b,null,[l,u].concat(Object(a.a)(i),[d]))}}]),t}(d.Component),x=Object(h.SortableContainer)(C);x.muiName="TableBody";var T=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return p.a.createElement(m.a,null,p.a.createElement(m.c,null,p.a.createElement(m.e,null,p.a.createElement(m.d,{style:b.a.handleColumn}),p.a.createElement(m.d,null,"Point name"),p.a.createElement(m.d,{style:b.a.coordinateColumn},"X"),p.a.createElement(m.d,{style:b.a.coordinateColumn},"Y"),p.a.createElement(m.f,{style:b.a.toolColumn}))),p.a.createElement(x,{pointsContainer:this.props.pointsContainer,onPointsUpdated:this.props.onPointsUpdated,onSortEnd:function(e){e.oldIndex,e.newIndex},helperClass:"sortable-helper",useDragHandle:!0,lockToContainerEdges:!0}))}}]),t}(d.Component)}).call(this,n(1))},1661:function(e,t,n){"use strict";var a=n(78),r=n(10),o=n.n(r),i=n(143),s=n(105),c=n(190),l=n.n(c),u=n(777),d=n.n(u),p=n(98),m=n(504),h=n(100),f=n(89);t.a=function(e){var t=e.pointName,n=e.nameError,r=e.onBlur,c=e.onRemove,u=e.pointX,g=e.pointY,b=e.onChangePointX,v=e.onChangePointY,E=e.onEdit,y=e.isAutomatic;return o.a.createElement(h.a,null,function(e){return o.a.createElement(i.e,{style:{backgroundColor:e.list.itemsBackgroundColor}},o.a.createElement(i.f,{style:m.a.handleColumn}),o.a.createElement(i.f,null,o.a.createElement(p.b,{margin:"none",defaultValue:t||"Base layer",id:t,fullWidth:!0,errorText:n?"This name is already taken":void 0,disabled:!r,onBlur:r})),o.a.createElement(i.f,{style:m.a.coordinateColumn},y?o.a.createElement(f.a,null,o.a.createElement(a.Trans,{id:"(auto)"})):o.a.createElement(p.b,{margin:"none",value:u,type:"number",id:"point-x",onChange:function(e,t){return b(parseFloat(t||0,10))}})),o.a.createElement(i.f,{style:m.a.coordinateColumn},y?o.a.createElement(f.a,null,o.a.createElement(a.Trans,{id:"(auto)"})):o.a.createElement(p.b,{margin:"none",value:g,type:"number",id:"point-y",onChange:function(e,t){return v(parseFloat(t||0,10))}})),o.a.createElement(i.f,{style:m.a.toolColumn},!!c&&o.a.createElement(s.a,{onClick:c},o.a.createElement(l.a,null)),!!E&&o.a.createElement(s.a,{onClick:E},o.a.createElement(d.a,null))))})}},1662:function(e,t,n){"use strict";var a=n(10),r=n.n(a),o=n(143),i=n(151),s=n.n(i),c=n(105),l=n(504);t.a=function(e){var t=e.onAdd;return r.a.createElement(o.e,null,r.a.createElement(o.f,{style:l.a.handleColumn}),r.a.createElement(o.f,null),r.a.createElement(o.f,{style:l.a.coordinateColumn}),r.a.createElement(o.f,{style:l.a.coordinateColumn}),r.a.createElement(o.f,{style:l.a.toolColumn},r.a.createElement(c.a,{onClick:t},r.a.createElement(s.a,null))))}},1663:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(96),d={container:{position:"relative",width:"100%",height:"100%"}},p={NORMAL:1,ORIGIN:2,CENTER:3},m=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={draggedPoint:null,draggedPointKind:null},n._onStartDragPoint=function(e,t){n.state.draggedPoint||n.setState({draggedPoint:e,draggedPointKind:t})},n._onEndDragPoint=function(){var e=!!n.state.draggedPoint;n.setState({draggedPoint:null,draggedPointKind:null},function(){e&&n.props.onPointsUpdated()})},n._onMouseMove=function(e){var t=n.state,a=t.draggedPoint,r=t.draggedPointKind;if(a&&n._container){var o=n._container.getBoundingClientRect(),i=e.clientX-o.left,s=e.clientY-o.top;r===p.CENTER&&n.props.pointsContainer.setDefaultCenterPoint(!1),a.setX(i/n.props.imageZoomFactor),a.setY(s/n.props.imageZoomFactor),n.forceUpdate()}},n._renderPoint=function(e,t,a,r,o){var i=r===p.ORIGIN?"res/originPoint.png":r===p.CENTER?"res/centerPoint.png":"res/point.png";return l.a.createElement("img",{src:i,style:{position:"absolute",left:t,top:a,transform:"translate(-6px, -5px)",cursor:"move"},alt:"",key:e,onPointerDown:function(){n._onStartDragPoint(o,r)}})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.pointsContainer,a=t.imageWidth,r=t.imageHeight,o=t.imageZoomFactor,i=n.getAllNonDefaultPoints(),s=Object(u.mapVector)(i,function(t,n){return e._renderPoint(t.getName(),t.getX()*o,t.getY()*o,p.NORMAL,t)}),c=n.getOrigin(),m=n.getCenter(),h=n.isDefaultCenterPoint();return l.a.createElement("div",{style:d.container,onPointerMove:this._onMouseMove,onPointerUp:this._onEndDragPoint,ref:function(t){return e._container=t}},s,this._renderPoint("Origin",c.getX()*o,c.getY()*o,p.ORIGIN,c),this._renderPoint("Center",(h?a/2:m.getX())*o,(h?r/2:m.getY())*o,p.CENTER,m))}}]),t}(l.a.Component)},1664:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return C});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(88),p=n(97),m=n(80),h=n(96),f=n(1665),g=n(1670),b=n(292),v=n(293),E=n(780),y=n(502),j=n.n(y),O=e.gd,C=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={animationIndex:0,directionIndex:0,spriteIndex:0,sameCollisionMasksForAnimations:!0,sameCollisionMasksForSprites:!0,spriteWidth:0,spriteHeight:0},n._updateCollisionMasks=function(){var e=n.props.object,t=n.state,a=t.animationIndex,r=t.directionIndex,o=t.spriteIndex,i=O.asSpriteObject(e),s=Object(v.k)(i,a,r,o),c=s.animation,l=s.sprite;c&&l&&(n.state.sameCollisionMasksForAnimations?Object(h.mapFor)(0,i.getAnimationsCount(),function(e){var t=i.getAnimation(e);Object(v.e)(l,t)}):n.state.sameCollisionMasksForSprites&&Object(v.e)(l,c)),n.forceUpdate(),n.props.onCollisionMasksUpdated&&n.props.onCollisionMasksUpdated()},n.chooseAnimation=function(e){n.setState({animationIndex:e,directionIndex:0,spriteIndex:0},function(){return n._updateSameCollisionMasksToggles()})},n.chooseDirection=function(e){n.setState({directionIndex:e,spriteIndex:0})},n.chooseSprite=function(e){n.setState({spriteIndex:e})},n._updateSameCollisionMasksToggles=function(){var e=n.props.object,t=n.state,a=t.animationIndex,r=t.directionIndex,o=t.spriteIndex,i=O.asSpriteObject(e),s=Object(v.k)(i,a,r,o),c=s.animation,l=s.sprite;c&&l&&n.setState({sameCollisionMasksForAnimations:j()(Object(h.mapFor)(0,i.getAnimationsCount(),function(e){var t=i.getAnimation(e);return Object(v.c)(l,t)})),sameCollisionMasksForSprites:Object(v.c)(l,c)})},n._onSetCollisionMaskAutomatic=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=n.props.object,a=n.state,r=a.animationIndex,o=a.directionIndex,i=a.spriteIndex,s=O.asSpriteObject(t),c=Object(v.k)(s,r,o,i).sprite;c&&(c.setCollisionMaskAutomatic(e),n._updateCollisionMasks())},n._setSameCollisionMasksForAllAnimations=function(e){if(e&&!confirm("Having the same collision masks for all animations will erase and reset all the other animations collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the animations of the object?"))return;n.setState({sameCollisionMasksForAnimations:e,sameCollisionMasksForSprites:!!e||n.state.sameCollisionMasksForSprites},function(){n._updateCollisionMasks()})},n._setSameCollisionMasksForAllSprites=function(e){if(e&&!confirm("Having the same collision masks for all frames will erase and reset all the other frames collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the frames of the animation?"))return;n.setState({sameCollisionMasksForAnimations:!!e&&n.state.sameCollisionMasksForAnimations,sameCollisionMasksForSprites:e},function(){n._updateCollisionMasks()})},n._setCurrentSpriteSize=function(e,t){n.setState({spriteWidth:e,spriteHeight:t})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this._updateSameCollisionMasksToggles()}},{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.resourcesLoader,r=t.project,o=this.state,i=o.sameCollisionMasksForAnimations,s=o.sameCollisionMasksForSprites,l=o.animationIndex,h=o.directionIndex,y=o.spriteIndex,j=o.spriteWidth,C=o.spriteHeight,x=O.asSpriteObject(n);if(!n.getAnimationsCount())return null;var T=Object(v.k)(x,l,h,y),S=T.hasValidSprite,k=T.sprite;return u.a.createElement("div",null,u.a.createElement(b.a,{resourceName:S?k.getImageName():"",resourcesLoader:a,project:r,onSize:this._setCurrentSpriteSize,renderOverlay:function(t){var n=t.imageWidth,a=t.imageHeight,r=t.imageZoomFactor;return S&&u.a.createElement(g.a,{imageWidth:n,imageHeight:a,imageZoomFactor:r,isDefaultBoundingBox:k.isCollisionMaskAutomatic(),polygons:k.getCustomCollisionMask(),onPolygonsUpdated:e._updateCollisionMasks})}}),u.a.createElement(m.b,null,u.a.createElement(m.a,{expand:!0},u.a.createElement(E.a,{spriteObject:x,animationIndex:l,directionIndex:h,spriteIndex:y,chooseAnimation:this.chooseAnimation,chooseDirection:this.chooseDirection,chooseSprite:this.chooseSprite,sameForAllAnimations:i,sameForAllSprites:s,setSameForAllAnimations:this._setSameCollisionMasksForAllAnimations,setSameForAllSprites:this._setSameCollisionMasksForAllSprites,setSameForAllAnimationsLabel:u.a.createElement(c.Trans,{id:"Share same collision masks for all animations"}),setSameForAllSpritesLabel:u.a.createElement(c.Trans,{id:"Share same collision masks for all sprites of this animation"})}))),!!k&&!k.isCollisionMaskAutomatic()&&u.a.createElement(u.a.Fragment,null,u.a.createElement(f.a,{polygons:k.getCustomCollisionMask(),onPolygonsUpdated:this._updateCollisionMasks,spriteWidth:j,spriteHeight:C}),u.a.createElement(m.b,{justifyContent:"center"},u.a.createElement(d.a,{label:u.a.createElement(c.Trans,{id:"Restore the default collision mask"}),primary:!1,onClick:function(){return e._onSetCollisionMaskAutomatic(!0)}}))),!!k&&k.isCollisionMaskAutomatic()&&u.a.createElement(u.a.Fragment,null,u.a.createElement(p.a,null,u.a.createElement(c.Trans,{id:"This sprite uses the default collision mask, a rectangle that is as large as the sprite."})),u.a.createElement(m.b,{justifyContent:"center"},u.a.createElement(d.a,{label:u.a.createElement(c.Trans,{id:"Use a custom collision mask"}),primary:!1,onClick:function(){return e._onSetCollisionMaskAutomatic(!1)}}))),!k&&u.a.createElement(p.a,null,u.a.createElement(c.Trans,{id:"Choose an animation and frame to edit the collision masks"})))}}]),t}(l.Component)}).call(this,n(1))},1665:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return w});var a=n(120),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n.n(l),d=n(188),p=n.n(d),m=n(143),h=n(189),f=n(96),g=n(294),b=n(1666),v=n(1667),E=n(1668),y=n(1669),j=e.gd,O=Object(h.SortableElement)(y.a),C=Object(h.SortableElement)(E.a),x=Object(h.SortableElement)(b.a),T=Object(h.SortableElement)(v.a),S=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).updateVerticeX=function(e,t){e.set_x(Math.min(n.props.spriteWidth,Math.max(t,0))),n._onPolygonUpdated()},n.updateVerticeY=function(e,t){e.set_y(Math.min(n.props.spriteHeight,Math.max(t,0))),n._onPolygonUpdated()},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"_onPolygonUpdated",value:function(){this.forceUpdate(),this.props.onPolygonsUpdated()}},{key:"render",value:function(){var e=this,t=this.props.polygons,n=p()(Object(f.mapVector)(t,function(n,a){var r=n.getVertices(),o=n.isConvex();return[u.a.createElement(T,{index:a,disabled:!0,key:"polygon-"+a,polygon:n,onRemove:function(){j.removeFromVectorPolygon2d(t,a),e._onPolygonUpdated()},isConvex:o,verticesCount:r.size()}),Object(f.mapVector)(r,function(t,i){return u.a.createElement(x,{index:a,disabled:!0,key:"polygon-".concat(a,"-vertice-").concat(i),verticeX:t.get_x(),verticeY:t.get_y(),onChangeVerticeX:function(n){return e.updateVerticeX(t,n)},onChangeVerticeY:function(n){return e.updateVerticeY(t,n)},onRemove:function(){j.removeFromVectorVector2f(n.getVertices(),i),e._onPolygonUpdated()},canRemove:r.size()>3,hasWarning:!o})}),u.a.createElement(C,{index:0,key:"polygon-".concat(a,"-add-vertice-row"),disabled:!0,onAdd:function(){var t=new j.Vector2f;n.getVertices().push_back(t),t.delete(),e._onPolygonUpdated()}})]})),r=u.a.createElement(O,{index:0,key:"add-polygon-row",disabled:!0,onAdd:function(){var n=j.Polygon2d.createRectangle(32,32);n.move(e.props.spriteWidth/2,e.props.spriteHeight/2),t.push_back(n),e._onPolygonUpdated()}});return u.a.createElement(m.b,null,[].concat(Object(a.a)(n),[r]))}}]),t}(l.Component),k=Object(h.SortableContainer)(S);k.muiName="TableBody";var w=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return u.a.createElement(m.a,null,u.a.createElement(m.c,null,u.a.createElement(m.e,null,u.a.createElement(m.d,{style:g.a.handleColumn}),u.a.createElement(m.d,null,"Polygon"),u.a.createElement(m.d,{style:g.a.coordinateColumn},"X"),u.a.createElement(m.d,{style:g.a.coordinateColumn},"Y"),u.a.createElement(m.f,{style:g.a.toolColumn}))),u.a.createElement(k,{polygons:this.props.polygons,onPolygonsUpdated:this.props.onPolygonsUpdated,spriteWidth:this.props.spriteWidth,spriteHeight:this.props.spriteHeight,onSortEnd:function(e){e.oldIndex,e.newIndex},helperClass:"sortable-helper",useDragHandle:!0,lockToContainerEdges:!0}))}}]),t}(l.Component)}).call(this,n(1))},1666:function(e,t,n){"use strict";var a=n(10),r=n.n(a),o=n(143),i=n(105),s=n(190),c=n.n(s),l=n(98),u=n(320),d=n.n(u),p=n(294),m=n(100);t.a=function(e){var t=e.hasWarning,n=e.canRemove,a=e.onRemove,s=e.verticeX,u=e.verticeY,h=e.onChangeVerticeX,f=e.onChangeVerticeY;return r.a.createElement(m.a,null,function(e){return r.a.createElement(o.e,{style:{backgroundColor:e.list.itemsBackgroundColor}},r.a.createElement(o.f,{style:p.a.handleColumn}),r.a.createElement(o.f,null,t&&r.a.createElement(d.a,null)),r.a.createElement(o.f,{style:p.a.coordinateColumn},r.a.createElement(l.b,{margin:"none",value:s,type:"number",id:"vertice-x",onChange:function(e,t){return h(parseFloat(t||0,10))}})),r.a.createElement(o.f,{style:p.a.coordinateColumn},r.a.createElement(l.b,{margin:"none",value:u,type:"number",id:"vertice-y",onChange:function(e,t){return f(parseFloat(t||0,10))}})),r.a.createElement(o.f,{style:p.a.toolColumn},!!a&&r.a.createElement(i.a,{onClick:a,disabled:!n},r.a.createElement(c.a,null))))})}},1667:function(e,t,n){"use strict";var a=n(10),r=n.n(a),o=n(143),i=n(105),s=n(190),c=n.n(s),l=n(294),u=n(100);t.a=function(e){var t=e.onRemove,n=e.isConvex,a=e.verticesCount;return r.a.createElement(u.a,null,function(e){return r.a.createElement(o.e,{style:{backgroundColor:e.list.itemsBackgroundColor}},r.a.createElement(o.f,{style:l.a.handleColumn}),n&&r.a.createElement(o.f,null,3===a&&"Triangle",4===a&&"Quadrilateral",a>=5&&"Polygon with ".concat(a," vertices")),!n&&r.a.createElement(o.f,null,"Polygon is not convex!"),r.a.createElement(o.f,{style:l.a.coordinateColumn}),r.a.createElement(o.f,{style:l.a.coordinateColumn}),r.a.createElement(o.f,{style:l.a.toolColumn},!!t&&r.a.createElement(i.a,{onClick:t},r.a.createElement(c.a,null))))})}},1668:function(e,t,n){"use strict";var a=n(10),r=n.n(a),o=n(143),i=n(417),s=n.n(i),c=n(105),l=n(294);t.a=function(e){var t=e.onAdd;return r.a.createElement(o.e,null,r.a.createElement(o.f,{style:l.a.handleColumn}),r.a.createElement(o.f,null),r.a.createElement(o.f,{style:l.a.coordinateColumn}),r.a.createElement(o.f,{style:l.a.coordinateColumn}),r.a.createElement(o.f,{style:l.a.toolColumn},r.a.createElement(c.a,{onClick:t},r.a.createElement(s.a,null))))}},1669:function(e,t,n){"use strict";var a=n(10),r=n.n(a),o=n(143),i=n(151),s=n.n(i),c=n(105),l=n(294);t.a=function(e){var t=e.onAdd;return r.a.createElement(o.e,null,r.a.createElement(o.f,{style:l.a.handleColumn}),r.a.createElement(o.f,null),r.a.createElement(o.f,{style:l.a.coordinateColumn}),r.a.createElement(o.f,{style:l.a.coordinateColumn}),r.a.createElement(o.f,{style:l.a.toolColumn},r.a.createElement(c.a,{onClick:t},r.a.createElement(s.a,null))))}},167:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(26),l=n(10),u=n(24),d=n.n(u),p=n(301),m=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).open=function(e){var t=Object(c.a)(Object(c.a)(n))._contextMenu;if(t){var a=d.a.findDOMNode(n._wrappedElement);if(a instanceof HTMLElement){var r=a.getBoundingClientRect();t.open(Math.round(r.left),Math.round(r.top+r.height))}}},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.element,a=t.buildMenuTemplate;return l.createElement(l.Fragment,null,l.cloneElement(n,{onClick:this.open,ref:function(t){return e._wrappedElement=t}}),l.createElement(p.a,{ref:function(t){return e._contextMenu=t},buildMenuTemplate:a}))}}]),t}(l.Component)},1670:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(96),u={container:{position:"relative"},svg:{width:"100%",height:"100%"},vertexCircle:{cursor:"move"}},d=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={draggedVertex:null},n._onStartDragVertex=function(e){n.state.draggedVertex||n.setState({draggedVertex:e})},n._onEndDragVertex=function(){var e=!!n.state.draggedVertex;n.setState({draggedVertex:null},function(){e&&n.props.onPolygonsUpdated()})},n._onPointerMove=function(e){var t=n.state.draggedVertex;if(t){var a=n._svg.createSVGPoint();a.x=e.clientX,a.y=e.clientY;var r=n._svg.getScreenCTM().inverse(),o=a.matrixTransform(r);t.set_x(o.x/n.props.imageZoomFactor),t.set_y(o.y/n.props.imageZoomFactor),n.forceUpdate()}},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"_renderBoundingBox",value:function(){var e=this.props,t=e.imageWidth,n=e.imageHeight,a=e.imageZoomFactor;return c.createElement("polygon",{fill:"rgba(255,0,0,0.2)",stroke:"rgba(255,0,0,0.5)",strokeWidth:1,fileRule:"evenodd",points:"0,0 ".concat(t*a,",0 ").concat(t*a,",").concat(n*a," 0,").concat(n*a)})}},{key:"_renderPolygons",value:function(){var e=this,t=this.props,n=t.polygons,a=t.imageZoomFactor;return c.createElement(c.Fragment,null,Object(l.mapVector)(n,function(e,t){var n=e.getVertices();return c.createElement("polygon",{key:"polygon-".concat(t),fill:"rgba(255,0,0,0.2)",stroke:"rgba(255,0,0,0.5)",strokeWidth:1,fileRule:"evenodd",points:Object(l.mapVector)(n,function(e,t){return"".concat(e.get_x()*a,",").concat(e.get_y()*a)}).join(" ")})}),Object(l.mapVector)(n,function(t,n){var r=t.getVertices();return Object(l.mapVector)(r,function(t,r){return c.createElement("circle",{onPointerDown:function(n){return e._onStartDragVertex(t)},key:"polygon-".concat(n,"-vertex-").concat(r),fill:"rgba(255,0,0,0.75)",strokeWidth:1,cx:t.get_x()*a,cy:t.get_y()*a,r:5,style:u.vertexCircle})})}))}},{key:"render",value:function(){var e=this,t=this.props.isDefaultBoundingBox;return c.createElement("svg",{onPointerMove:this._onPointerMove,onPointerUp:this._onEndDragVertex,width:this.props.imageWidth*this.props.imageZoomFactor,height:this.props.imageHeight*this.props.imageZoomFactor,style:u.svg,ref:function(t){return e._svg=t}},t&&this._renderBoundingBox(),!t&&this._renderPolygons())}}]),t}(c.Component)},1671:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(80),d=n(97),p=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.createElement(u.a,null,l.createElement(u.b,null,l.createElement(d.a,null,l.createElement(c.Trans,{id:"This object does not have any specific configuration. Add it on the scene and use events to interact with it."}))))}}]),t}(l.Component)},1672:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return g});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(154),d=n(80),p=n(365),m=n(113),h=n(137),f=e.gd,g=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.object,n=f.asShapePainterObject(t);return l.createElement(d.a,null,l.createElement(d.b,null,l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Draw the shapes relative to the object position on the scene"}),checked:!n.areCoordinatesAbsolute(),onCheck:function(t,a){a?n.setCoordinatesRelative():n.setCoordinatesAbsolute(),e.forceUpdate()}})),l.createElement(h.a,null,l.createElement(p.a,{floatingLabelText:l.createElement(c.Trans,{id:"Outline color"}),disableAlpha:!0,fullWidth:!0,color:{r:n.getOutlineColorR(),g:n.getOutlineColorG(),b:n.getOutlineColorB(),a:255},onChangeComplete:function(t){n.setOutlineColor(t.rgb.r,t.rgb.g,t.rgb.b),e.forceUpdate()}}),l.createElement(m.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Outline opacity (0-255)"}),fullWidth:!0,type:"number",value:n.getOutlineOpacity(),onChange:function(t){n.setOutlineOpacity(parseInt(t,10)||0),e.forceUpdate()}}),l.createElement(m.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Outline size (in pixels)"}),fullWidth:!0,type:"number",value:n.getOutlineSize(),onChange:function(t){n.setOutlineSize(parseInt(t,10)||0),e.forceUpdate()}})),l.createElement(h.a,null,l.createElement(p.a,{floatingLabelText:l.createElement(c.Trans,{id:"Fill color"}),disableAlpha:!0,fullWidth:!0,color:{r:n.getFillColorR(),g:n.getFillColorG(),b:n.getFillColorB(),a:255},onChangeComplete:function(t){n.setFillColor(t.rgb.r,t.rgb.g,t.rgb.b),e.forceUpdate()}}),l.createElement(m.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Fill opacity (0-255)"}),fullWidth:!0,type:"number",value:n.getFillOpacity(),onChange:function(t){n.setFillOpacity(parseInt(t,10)||0),e.forceUpdate()}})))}}]),t}(l.Component)}).call(this,n(1))},1673:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return E});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(154),d=n(122),p=n(123),m=n(80),h=n(365),f=n(113),g=n(376),b=n(137),v=e.gd,E=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.project,r=t.resourceSources,o=t.onChooseResource,i=t.resourceExternalEditors,s=v.asParticleEmitterObject(n);return l.createElement(m.a,null,l.createElement(m.b,null,l.createElement(m.a,{expand:!0,noMargin:!0},l.createElement(d.a,{fullWidth:!0,floatingLabelText:l.createElement(c.Trans,{id:"Particles kind"}),value:s.getRendererType(),onChange:function(t,n,a){var r=parseInt(a,10)||0;s.setRendererType(r),r!==v.ParticleEmitterObject.Quad&&s.setParticleTexture(""),e.forceUpdate()}},l.createElement(p.a,{value:v.ParticleEmitterObject.Point,primaryText:{id:"Point"}}),l.createElement(p.a,{value:v.ParticleEmitterObject.Line,primaryText:{id:"Line"}}),l.createElement(p.a,{value:v.ParticleEmitterObject.Quad,primaryText:{id:"Textured"}})))),s.getRendererType()===v.ParticleEmitterObject.Point&&l.createElement(m.b,null,l.createElement(m.a,{expand:!0,noMargin:!0},l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Size"}),fullWidth:!0,type:"number",value:s.getRendererParam1(),onChange:function(t){s.setRendererParam1(parseFloat(t)),e.forceUpdate()}}))),s.getRendererType()===v.ParticleEmitterObject.Line&&l.createElement(b.a,null,l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Lines length"}),fullWidth:!0,type:"number",value:s.getRendererParam1(),onChange:function(t){s.setRendererParam1(parseFloat(t)),e.forceUpdate()}}),l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Lines thickness"}),fullWidth:!0,type:"number",value:s.getRendererParam2(),onChange:function(t){s.setRendererParam2(parseFloat(t)),e.forceUpdate()}})),s.getRendererType()===v.ParticleEmitterObject.Quad&&l.createElement(l.Fragment,null,l.createElement(m.b,null,l.createElement(g.a,{project:a,resourceSources:r,onChooseResource:o,resourceKind:"image",resourceName:s.getParticleTexture(),resourceExternalEditors:i,onChange:function(t){s.setParticleTexture(t),e.forceUpdate()},floatingLabelText:l.createElement(c.Trans,{id:"Select an image"})})),l.createElement(b.a,null,l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Particles start width"}),fullWidth:!0,type:"number",value:s.getRendererParam1(),onChange:function(t){s.setRendererParam1(Math.max(0,parseFloat(t))),e.forceUpdate()}}),l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Particles start height"}),fullWidth:!0,type:"number",value:s.getRendererParam2(),onChange:function(t){s.setRendererParam2(Math.max(0,parseFloat(t))),e.forceUpdate()}}))),l.createElement(b.a,null,l.createElement(h.a,{floatingLabelText:l.createElement(c.Trans,{id:"Particles start color"}),disableAlpha:!0,fullWidth:!0,color:{r:s.getParticleRed1(),g:s.getParticleGreen1(),b:s.getParticleBlue1(),a:255},onChangeComplete:function(t){s.setParticleRed1(t.rgb.r),s.setParticleGreen1(t.rgb.g),s.setParticleBlue1(t.rgb.b),e.forceUpdate()}}),l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Start opacity (0-255)"}),fullWidth:!0,type:"number",value:s.getParticleAlpha1(),onChange:function(t){s.setParticleAlpha1(parseInt(t,10)||0),e.forceUpdate()}})),l.createElement(b.a,null,l.createElement(h.a,{floatingLabelText:l.createElement(c.Trans,{id:"Particles end color"}),disableAlpha:!0,fullWidth:!0,color:{r:s.getParticleRed2(),g:s.getParticleGreen2(),b:s.getParticleBlue2(),a:255},onChangeComplete:function(t){s.setParticleRed2(t.rgb.r),s.setParticleGreen2(t.rgb.g),s.setParticleBlue2(t.rgb.b),e.forceUpdate()}}),l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"End opacity (0-255)"}),fullWidth:!0,type:"number",value:s.getParticleAlpha2(),onChange:function(t){s.setParticleAlpha2(parseInt(t,10)||0),e.forceUpdate()}})),l.createElement(m.b,null,l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Additive rendering"}),checked:s.isRenderingAdditive(),onCheck:function(t,n){n?s.setRenderingAdditive():s.setRenderingAlpha(),e.forceUpdate()}})),l.createElement(m.b,null,l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Delete when out of particles"}),checked:s.getDestroyWhenNoParticles(),onCheck:function(t,n){s.setDestroyWhenNoParticles(n),e.forceUpdate()}})),l.createElement(b.a,null,l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Maximum number of particles displayed"}),fullWidth:!0,type:"number",value:s.getMaxParticleNb(),onChange:function(t){s.setMaxParticleNb(parseInt(t,10)||0),e.forceUpdate()}})),l.createElement(b.a,null,l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Number of particles in tank (-1 for infinite)"}),fullWidth:!0,type:"number",value:s.getTank(),onChange:function(t){s.setTank(parseInt(t,10)||0),e.forceUpdate()}}),l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Flow of particles (particles/seconds)"}),fullWidth:!0,type:"number",value:s.getFlow(),onChange:function(t){s.setFlow(parseInt(t,10)||0),e.forceUpdate()}})),l.createElement(b.a,null,l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Minimum emitter force applied on particles"}),fullWidth:!0,type:"number",value:s.getEmitterForceMin(),onChange:function(t){s.setEmitterForceMin(parseInt(t,10)||0),e.forceUpdate()}}),l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Maximum emitter force applied on particles"}),fullWidth:!0,type:"number",value:s.getEmitterForceMax(),onChange:function(t){s.setEmitterForceMax(parseInt(t,10)||0),e.forceUpdate()}})),l.createElement(b.a,null,l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Spray cone angle (in degrees)"}),fullWidth:!0,type:"number",value:s.getConeSprayAngle(),onChange:function(t){s.setConeSprayAngle(parseInt(t,10)||0),e.forceUpdate()}}),l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Radius of the emitter"}),fullWidth:!0,type:"number",value:s.getZoneRadius(),onChange:function(t){s.setZoneRadius(parseInt(t,10)||0),e.forceUpdate()}})),l.createElement(b.a,null,l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Gravity on particles on X axis"}),fullWidth:!0,type:"number",value:s.getParticleGravityX(),onChange:function(t){s.setParticleGravityX(parseFloat(t)),e.forceUpdate()}}),l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Gravity on particles on Y axis"}),fullWidth:!0,type:"number",value:s.getParticleGravityY(),onChange:function(t){s.setParticleGravityY(parseFloat(t)),e.forceUpdate()}})),l.createElement(m.b,null,l.createElement(m.a,{expand:!0,noMargin:!0},l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Friction on particles"}),fullWidth:!0,type:"number",value:s.getFriction(),onChange:function(t){s.setFriction(parseFloat(t)),e.forceUpdate()}}))),l.createElement(b.a,null,l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Particle minimum lifetime (in seconds)"}),fullWidth:!0,type:"number",value:s.getParticleLifeTimeMin(),onChange:function(t){s.setParticleLifeTimeMin(parseFloat(t)),e.forceUpdate()}}),l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Particle maximum lifetime (in seconds)"}),fullWidth:!0,type:"number",value:s.getParticleLifeTimeMax(),onChange:function(t){s.setParticleLifeTimeMax(parseFloat(t)),e.forceUpdate()}})),l.createElement(b.a,null,l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Particle start size (in percents)"}),fullWidth:!0,type:"number",value:s.getParticleSize1(),onChange:function(t){s.setParticleSize1(parseFloat(t)),e.forceUpdate()}}),l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Particle end size (in percents)"}),fullWidth:!0,type:"number",value:s.getParticleSize2(),onChange:function(t){s.setParticleSize2(parseFloat(t)),e.forceUpdate()}})),l.createElement(b.a,null,l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Particle minimum rotation speed (degrees/second)"}),fullWidth:!0,type:"number",value:s.getParticleAngle1(),onChange:function(t){s.setParticleAngle1(parseFloat(t)),e.forceUpdate()}}),l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Particle maximum rotation speed (degrees/second)"}),fullWidth:!0,type:"number",value:s.getParticleAngle2(),onChange:function(t){s.setParticleAngle2(parseFloat(t)),e.forceUpdate()}})))}}]),t}(l.Component)}).call(this,n(1))},1674:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(243),d=n(291),p=n(97),m=n(80),h=n(347),f=n(147),g=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.object,n=e.project,a=e.resourceSources,r=e.onChooseResource,o=e.resourceExternalEditors,i=t.getProperties(n),s=Object(d.a)(i,function(e){return e.getProperties(n)},function(e,t,a){return e.updateProperty(t,a,n)}),g=Object(h.d)()[t.getType()];return l.createElement(c.I18n,null,function(e){var i=e.i18n;return l.createElement(m.a,null,s.length?l.createElement(l.Fragment,null,g?l.createElement(m.b,null,l.createElement(m.a,{noMargin:!0},g.map(function(e,t){var n=e.kind,a=e.message;return l.createElement(f.a,{kind:n,key:t},i._(a))}))):null,l.createElement(u.a,{schema:s,instances:[t],project:n,resourceSources:a,onChooseResource:r,resourceExternalEditors:o})):l.createElement(p.a,null,l.createElement(c.Trans,{id:"There is nothing to configure for this object. You can still use events to interact with the object."})))})}}]),t}(l.Component)},1675:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return _});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(98),p=n(151),m=n.n(p),h=n(190),f=n.n(h),g=n(105),b=n(97),v=n(170),E=n(1676),y=n(144),j=n(1677),O=n(1679),C=n(2100),x=n(781),T=n(80),S=n(90),k=e.gd,w={addBehaviorLine:{display:"flex",justifyContent:"flex-end"},addBehaviorText:{justifyContent:"flex-end"},behaviorTitle:{flex:1},behaviorTools:{flexShrink:0}},N=function(e){var t=e.onAdd;return u.a.createElement(T.a,null,u.a.createElement(T.b,{justifyContent:"flex-end",expand:!0},u.a.createElement(S.a,{label:u.a.createElement(c.Trans,{id:"Add a behavior to the object"}),primary:!0,onClick:t,labelPosition:"before",icon:u.a.createElement(m.a,null)})))},_=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).chooseNewBehavior=function(){n.setState({newBehaviorDialogOpen:!0})},n._hasBehaviorWithType=function(e){var t=n.props.object;return t.getAllBehaviorNames().toJSArray().map(function(e){return t.getBehavior(e)}).map(function(e){return e.getTypeName()}).filter(function(t){return t===e}).length},n.addBehavior=function(e,t){var a=n.props,r=a.object,o=a.project;n.setState({newBehaviorDialogOpen:!1},function(){if(n._hasBehaviorWithType(e)&&!confirm("There is already a behavior of this type attached to the object. It's possible to add again this behavior but it's unusual and may not be always supported properly. Are you sure you want to add again this behavior?"))return;var a=Object(y.a)(t,function(e){return r.hasBehaviorNamed(e)});r.addNewBehavior(o,e,a),n.forceUpdate(),n.props.onSizeUpdated&&n.props.onSizeUpdated()})},n._onChangeBehaviorName=function(e,t){var a=n.props.object;a.hasBehaviorNamed(t)||(a.renameBehavior(e.getName(),t),n.forceUpdate())},n._onRemoveBehavior=function(e){var t=n.props.object;confirm("Are you sure you want to remove this behavior? This can't be undone.")&&(t.removeBehavior(e),n.forceUpdate(),n.props.onSizeUpdated&&n.props.onSizeUpdated())},n.state={newBehaviorDialogOpen:!1},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this._loadFrom(this.props.object)}},{key:"componentWillReceiveProps",value:function(e){this.props.object!==e.object&&this._loadFrom(e.object)}},{key:"_loadFrom",value:function(e){}},{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.project,r=n.getAllBehaviorNames().toJSArray();return u.a.createElement("div",null,r.map(function(t,r){var o=n.getBehavior(t),i=k.JsPlatform.get().getBehavior(o.getTypeName());if(Object(x.a)(k,i))return u.a.createElement("div",{key:r},u.a.createElement(v.b,null,u.a.createElement("span",{style:w.behaviorTitle},u.a.createElement(c.Trans,{id:"Unknown behavior"})," ",u.a.createElement(d.b,{value:t,disabled:!0})),u.a.createElement("span",{style:w.behaviorTools},u.a.createElement(g.a,{onClick:function(){return e._onRemoveBehavior(t)}},u.a.createElement(f.a,null)))),u.a.createElement(b.a,null,u.a.createElement(c.Trans,{id:"This behavior is unknown. It might be a behavior that was defined in an extension and that was later removed. You should delete it."})));var s=C.a.getEditor(o.getTypeName());return u.a.createElement("div",{key:r},u.a.createElement(v.b,null,u.a.createElement(v.a,null,u.a.createElement(c.Trans,{id:"Behavior"})," "),u.a.createElement(T.a,{noMargin:!0,expand:!0},u.a.createElement(d.b,{value:t,hintText:{id:"Behavior name"},margin:"none",fullWidth:!0,disabled:!0,onChange:function(t,n){return e._onChangeBehaviorName(o,n)}})),u.a.createElement(g.a,{onClick:function(){return e._onRemoveBehavior(t)}},u.a.createElement(f.a,null)),u.a.createElement(E.a,{helpPagePath:Object(O.a)(i)})),u.a.createElement(s,{behavior:i,behaviorContent:o,project:a,resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors}))}).concat(u.a.createElement(N,{key:"add-behavior-line",onAdd:this.chooseNewBehavior})),this.state.newBehaviorDialogOpen&&u.a.createElement(j.a,{open:this.state.newBehaviorDialogOpen,objectType:n.getType(),onClose:function(){return e.setState({newBehaviorDialogOpen:!1})},onChoose:this.addBehavior,project:a}))}}]),t}(l.Component)}).call(this,n(1))},1676:function(e,t,n){"use strict";var a=n(10),r=n.n(a),o=n(585),i=n.n(o),s=n(105),c=n(209),l=n(3);t.a=function(e){var t=e.helpPagePath;return t?r.a.createElement(s.a,{onClick:function(){return l.b.openExternalURL(Object(c.a)(t))}},r.a.createElement(i.a,null)):null}},1677:function(e,t,n){"use strict";n.d(t,"a",function(){return R});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(10),d=n.n(u),p=n(92),m=n(119),h=n(88),f=n(195),g=n(148),b=n(179),v=n(103),E=n(289),y=n.n(E),j=n(290),O=n.n(j),C=n(1678),x=n.n(C),T=n(80),S=n(25),k=n(347),w=n(209),N=n(723),_=n(159),P=n(97),I=n(837),B=n(3),M={disabledItem:{opacity:.6}},F=function(e){var t=e.behaviorMetadata,n=e.onClick,a=e.disabled;return d.a.createElement(v.b,{leftIcon:d.a.createElement(g.a,{src:t.iconFilename,iconSize:40,isGDevelopIcon:!0}),key:t.type,primaryText:t.fullName,secondaryText:t.description,secondaryTextLines:2,onClick:n,style:a?M.disabledItem:void 0,disabled:a})},R=function(e){function t(){var e,n;Object(r.a)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state=Object(a.a)({},n._loadFrom(n.props.project),{showDeprecated:!1,searchText:"",currentTab:"installed"}),n._searchBar=d.a.createRef(),n._showDeprecated=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({showDeprecated:e})},n._onNewExtensionInstalled=function(){n.setState(n._loadFrom(n.props.project),function(){n._changeTab("installed")})},n._changeTab=function(e){return n.setState({currentTab:e})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e._searchBar.current&&e._searchBar.current.focus()},20)}},{key:"_loadFrom",value:function(e){var t=e.getCurrentPlatform();return{behaviorMetadata:e&&t?Object(N.a)(t,e):[]}}},{key:"componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.project!==e.project)&&this.setState(this._loadFrom(e.project))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.open,r=t.onClose,o=t.objectType,i=this.state,s=i.showDeprecated,c=i.behaviorMetadata,u=i.searchText,g=i.currentTab;if(!a||!n)return null;var E=Object(k.a)(),j=Object(N.b)(c,u),C=j.filter(function(e){var t=e.type;return!E[t]}),M=j.filter(function(e){var t=e.type;return!!E[t]}),R=function(t,n){var a=n.type,r=n.defaultName;return E[a]&&Object(S.b)(t._(E[a].warning)),e.props.onChoose(a,r)},L=function(e){return""===e.objectType||e.objectType===o},A=!!u&&!C.length&&!M.length;return d.a.createElement(l.I18n,null,function(t){var o=t.i18n;return d.a.createElement(p.a,{title:d.a.createElement(l.Trans,{id:"Add a new behavior to the object"}),actions:[d.a.createElement(h.a,{key:"close",label:d.a.createElement(l.Trans,{id:"Close"}),primary:!1,onClick:r})],secondaryActions:d.a.createElement(m.a,{helpPagePath:"/behaviors"}),open:a,noMargin:!0},d.a.createElement(b.b,{value:g,onChange:e._changeTab},d.a.createElement(b.a,{label:d.a.createElement(l.Trans,{id:"Installed Behaviors"}),value:"installed"}),d.a.createElement(b.a,{label:d.a.createElement(l.Trans,{id:"Search New Behaviors"}),value:"search"})),"installed"===g&&d.a.createElement(d.a.Fragment,null,d.a.createElement(_.a,{value:u,onRequestSearch:function(){C.length?R(o,C[0]):s&&M.length&&R(o,M[0])},onChange:function(t){return e.setState({searchText:t})},ref:e._searchBar}),A&&d.a.createElement(P.a,null,d.a.createElement(l.Trans,{id:"No behavior found for your search. Try another search, or search for new behaviors to install."})),d.a.createElement(v.a,null,C.map(function(e,t){return d.a.createElement(F,{key:t,behaviorMetadata:e,onClick:function(){return R(o,e)},disabled:!L(e)})}),s&&!!M.length&&d.a.createElement(f.a,null,"Deprecated (old, prefer not to use anymore)"),s&&M.map(function(e,t){return d.a.createElement(F,{key:t,behaviorMetadata:e,onClick:function(){return R(o,e)},disabled:!L(e)})})),d.a.createElement(T.b,{justifyContent:"center",alignItems:"center"},s?d.a.createElement(h.a,{key:"toggle-experimental",icon:d.a.createElement(O.a,null),primary:!1,onClick:function(){return e._showDeprecated(!1)},label:d.a.createElement(l.Trans,{id:"Show deprecated (old) behaviors"})}):d.a.createElement(h.a,{key:"toggle-experimental",icon:d.a.createElement(y.a,null),primary:!1,onClick:function(){return e._showDeprecated(!0)},label:d.a.createElement(l.Trans,{id:"Show deprecated (old) behaviors"})})),d.a.createElement(T.b,{justifyContent:"center",alignItems:"center"},d.a.createElement(h.a,{icon:d.a.createElement(x.a,null),primary:!1,onClick:function(){return B.b.openExternalURL(Object(w.a)("/behaviors/events-based-behaviors"))},label:d.a.createElement(l.Trans,{id:"Create your own behavior"})}))),"search"===g&&d.a.createElement(I.b,{project:n,onNewExtensionInstalled:e._onNewExtensionInstalled,showOnlyWithBehaviors:!0}))})}}]),t}(u.Component)},1679:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e){if(!e)return null;switch(e.getTypeName()){case"DraggableBehavior::Draggable":return"/behaviors/draggable";case"PlatformBehavior::PlatformerObjectBehavior":case"PlatformBehavior::PlatformBehavior":return"/behaviors/platformer";default:return""}}},168:function(e,t,n){"use strict";n.d(t,"a",function(){return x});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(83),l=n(135),u=n(10),d=n(78),p=n(2103),m=n(2260),h=n(2176),f=n(2181),g=n(2178),b=(n(148),n(2174)),v=n(589),E=n.n(v),y=n(2182),j=n(98),O=n(205),C={container:{position:"relative"},inputRoot:{flexWrap:"wrap"},inputInput:{width:"auto",flexGrow:1},menuPopper:{zIndex:E.a.tooltip+100},menuPaper:{marginTop:8,maxHeight:250,overflowY:"auto"}};var x=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))))._input=u.createRef(),n.state={inputValue:null},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"forceInputValueTo",value:function(e){null!==this.state.inputValue&&this.setState({inputValue:e})}},{key:"focus",value:function(){this._input.current&&this._input.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=this.state,a=null!==n.inputValue?n.inputValue:t.value,r=t.helperMarkdownText?u.createElement(O.a,{source:t.helperMarkdownText}):null;return u.createElement(d.I18n,null,function(n){var o=n.i18n;return u.createElement(p.a,{inputValue:a,onChange:function(n){null!==n&&(n.onClick?(n.onClick(),e.setState({inputValue:t.value})):t.onChoose?t.onChoose(n.value):t.onChange(n.value))},onInputValueChange:function(t){e.setState({inputValue:t})},itemToString:function(e){return e?"separator"===e.type?"":e.value:""}},function(n){var a=n.getInputProps,i=n.getItemProps,s=n.getLabelProps,d=n.getMenuProps,p=n.closeMenu,v=n.openMenu,E=n.highlightedIndex,O=n.inputValue,x=n.isOpen,T=n.selectedItem,S=a({placeholder:"string"===typeof t.hintText?t.hintText:o._(t.hintText),disabled:t.disabled}),k=S.onBlur,w=Object(l.a)(S,["onBlur"]);return u.createElement("div",{style:Object(c.a)({},C.container,{flexGrow:t.fullWidth?1:void 0})},function(e){var t=e.InputProps,n=Object(l.a)(e,["InputProps"]);return u.createElement(m.a,Object.assign({InputProps:Object(c.a)({style:C.inputRoot},t),inputProps:{style:C.inputInput}},n))}(Object(c.a)({disabled:t.disabled,label:t.floatingLabelText,id:t.id,error:!!t.errorText,helperText:t.errorText||r,InputLabelProps:s({shrink:!0}),InputProps:{onBlur:function(n){k(n),setTimeout(function(){e.setState({inputValue:null})}),p(),t.onChange(n.currentTarget.value),t.onBlur&&t.onBlur(n)},onFocus:function(n){t.openOnFocus&&v(),e.setState({inputValue:t.value})}},inputProps:w,style:t.textFieldStyle,fullWidth:t.fullWidth},Object(j.a)(t),{inputRef:e._input})),u.createElement(b.a,{open:x,anchorEl:e._input.current,style:C.menuPopper},u.createElement("div",x?d({},{suppressRefError:!0}):{},x?u.createElement(g.a,{style:Object(c.a)({},C.menuPaper,{width:e._input.current?e._input.current.clientWidth:void 0}),square:!0},function(e,t){var n=t.toLowerCase();return e.filter(function(e){return"separator"===e.type||!e.text||-1!==e.text.toLowerCase().indexOf(n)})}(t.dataSource,O).map(function(e,t){return function(e){var t=e.item,n=e.index,a=e.menuItemProps,r=e.highlightedIndex,o=e.selected;if("separator"===t.type)return u.createElement(f.a,{key:"separator-"+n});var i=r===n;return u.createElement(h.a,Object.assign({},a,{dense:!0,key:t.value?"item-with-value-"+t.value:"item-without-value"+n,selected:i,component:"div",style:{fontWeight:o?500:400}}),t.renderIcon&&u.createElement(y.a,null,t.renderIcon()),t.value)}({item:e,index:t,menuItemProps:i({item:e,index:t}),highlightedIndex:E,selected:e===T})})):null)))})})}}]),t}(u.Component)},1680:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(10),d=n.n(u),p=n(88),m=n(98),h=n(92),f=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e)))._onApply=function(){n.props.onApply({gridWidth:n.state.gridWidth,gridHeight:n.state.gridHeight,gridOffsetX:n.state.gridOffsetX,gridOffsetY:n.state.gridOffsetY})},n.state=Object(a.a)({},e.gridOptions),n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=[d.a.createElement(p.a,{key:"cancel",label:d.a.createElement(l.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onCancel}),d.a.createElement(p.a,{key:"apply",label:d.a.createElement(l.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:this._onApply})];return d.a.createElement(h.a,{actions:t,open:this.props.open,onRequestClose:this.props.onCancel},d.a.createElement(m.b,{floatingLabelText:d.a.createElement(l.Trans,{id:"Cell width (in pixels)"}),type:"number",value:this.state.gridWidth,onChange:function(t,n){return e.setState({gridWidth:parseInt(n,10)})}}),d.a.createElement(m.b,{floatingLabelText:d.a.createElement(l.Trans,{id:"Cell height (in pixels)"}),type:"number",value:this.state.gridHeight,onChange:function(t,n){return e.setState({gridHeight:parseInt(n,10)})}}),d.a.createElement(m.b,{floatingLabelText:d.a.createElement(l.Trans,{id:"X offset (in pixels)"}),type:"number",value:this.state.gridOffsetX,onChange:function(t,n){return e.setState({gridOffsetX:parseInt(n,10)})}}),d.a.createElement(m.b,{floatingLabelText:d.a.createElement(l.Trans,{id:"Y offset (in pixels)"}),type:"number",value:this.state.gridOffsetY,onChange:function(t,n){return e.setState({gridOffsetY:parseInt(n,10)})}}))}}]),t}(u.Component)},1681:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return x});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(88),p=n(98),m=n(90),h=n(92),f=n(365),g=n(97),b=n(243),v=n(291),E=n(782),y=n.n(E),j=n(154),O=n(781),C=e.gd,x=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e)))._onApply=function(){n.props.layout.setWindowDefaultTitle(n.state.windowTitle),n.props.layout.setStopSoundsOnStartup(n.state.shouldStopSoundsOnStartup),n.props.layout.setBackgroundColor(n.state.backgroundColor.r,n.state.backgroundColor.g,n.state.backgroundColor.b),n.props.onApply&&n.props.onApply()},n.state=n._loadFrom(e.layout),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"_loadFrom",value:function(e){return{windowTitle:e.getWindowDefaultTitle(),shouldStopSoundsOnStartup:e.stopSoundsOnStartup(),backgroundColor:{r:e.getBackgroundColorRed(),g:e.getBackgroundColorGreen(),b:e.getBackgroundColorBlue(),a:1}}}},{key:"componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.layout!==e.layout)&&this.setState(this._loadFrom(e.layout))}},{key:"render",value:function(){var e=this,t=this.props,n=t.layout,a=t.project,r=[u.a.createElement(d.a,{label:u.a.createElement(c.Trans,{id:"Ok"}),key:"ok",primary:!0,keyboardFocused:!0,onClick:this._onApply})],o=n.getAllBehaviorSharedDataNames().toJSArray().map(function(e){var t=n.getBehaviorSharedData(e),r=t.getTypeName(),o=C.JsPlatform.get().getBehaviorSharedDatas(r);if(Object(O.a)(C,o))return null;var i=o.getProperties(t.getContent(),a),s=Object(v.a)(i,function(e){return o.getProperties(e.getContent(),a)},function(e,t,n){return o.updateProperty(e.getContent(),t,n,a)});return!!s.length&&u.a.createElement(b.a,{key:e,schema:s,instances:[t]})}).filter(Boolean);return u.a.createElement(h.a,{title:u.a.createElement(c.Trans,{id:"Scene properties"}),actions:r,secondaryActions:u.a.createElement(m.a,{label:u.a.createElement(c.Trans,{id:"Edit scene variables"}),fullWidth:!0,onClick:function(){e.props.onEditVariables(),e.props.onClose()}}),open:this.props.open,onRequestClose:this.props.onClose,maxWidth:"sm"},u.a.createElement(p.b,{floatingLabelText:u.a.createElement(c.Trans,{id:"Window title"}),fullWidth:!0,type:"text",value:this.state.windowTitle,onChange:function(t,n){return e.setState({windowTitle:n})}}),u.a.createElement(j.a,{checked:this.state.shouldStopSoundsOnStartup,label:u.a.createElement(c.Trans,{id:"Stop musics and sounds on startup"}),onCheck:function(t,n){return e.setState({shouldStopSoundsOnStartup:n})}}),u.a.createElement(f.a,{floatingLabelText:u.a.createElement(c.Trans,{id:"Scene background color"}),fullWidth:!0,disableAlpha:!0,color:this.state.backgroundColor,onChangeComplete:function(t){return e.setState({backgroundColor:t.rgb})}}),!y()(o)&&u.a.createElement(g.a,null,u.a.createElement(c.Trans,{id:"Any additional properties will appear here if you add behaviors to objects, like Physics behavior."})),o,this.props.onOpenMoreSettings&&u.a.createElement(m.a,{label:u.a.createElement(c.Trans,{id:"Open advanced settings"}),fullWidth:!0,onClick:function(){e.props.onOpenMoreSettings(),e.props.onClose()}}))}}]),t}(l.Component)}).call(this,n(1))},1683:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(256),d=n(259),p=n(258),m=n(167),h=(n(501),function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(u.b,{lastChild:!0},this.props.showPreviewButton&&l.a.createElement(p.a,{onClick:this.props.onPreview,src:"res/ribbon_default/preview32.png",tooltip:{id:"Launch a preview of the scene"}}),this.props.showNetworkPreviewButton&&l.a.createElement(m.a,{element:l.a.createElement(p.a,{src:"res/ribbon_default/bug32.png",tooltip:{id:"Advanced preview options (debugger, network preview...)"}}),buildMenuTemplate:function(){return[{label:"Network preview (Preview over WiFi/LAN)",click:function(){return e.props.onNetworkPreview()}},{type:"separator"},{label:"Preview with debugger and performance profiler",click:function(){return e.props.onOpenDebugger()}}]}}),this.props.showPreviewButton&&l.a.createElement(d.a,null),l.a.createElement(p.a,{onClick:this.props.openObjectsList,src:"res/ribbon_default/objects64.png",tooltip:{id:"Open the objects editor"}}),l.a.createElement(p.a,{onClick:this.props.openObjectGroupsList,src:"res/ribbon_default/objectsgroups64.png",tooltip:{id:"Open the objects groups editor"}}),l.a.createElement(p.a,{onClick:this.props.openProperties,src:"res/ribbon_default/editprop32.png",tooltip:{id:"Open the properties panel"}}),l.a.createElement(d.a,null),l.a.createElement(p.a,{onClick:this.props.undo,src:"res/ribbon_default/undo32.png",disabled:!this.props.canUndo,tooltip:{id:"Undo the last changes"}}),l.a.createElement(p.a,{onClick:this.props.redo,src:"res/ribbon_default/redo32.png",disabled:!this.props.canRedo,tooltip:{id:"Redo the last changes"}}),l.a.createElement(d.a,null),l.a.createElement(p.a,{onClick:this.props.deleteSelection,src:"res/ribbon_default/deleteselected32.png",disabled:!this.props.instancesSelection.getSelectedInstances().length,tooltip:{id:"Delete the selected instances from the scene"}}),l.a.createElement(p.a,{onClick:this.props.toggleInstancesList,src:"res/ribbon_default/ObjectsPositionsList32.png",tooltip:{id:"Open the list of instances"}}),l.a.createElement(p.a,{onClick:this.props.toggleLayersList,src:"res/ribbon_default/layers32.png",tooltip:{id:"Open the layers editor"}}),l.a.createElement(d.a,null),l.a.createElement(m.a,{element:l.a.createElement(p.a,{src:"res/ribbon_default/grid32.png",tooltip:{id:"Toggle/edit grid"}}),buildMenuTemplate:function(){return[{type:"checkbox",label:"Show Mask",checked:e.props.isWindowMaskShown(),click:function(){return e.props.toggleWindowMask()}},{type:"checkbox",label:"Show grid",checked:e.props.isGridShown(),click:function(){return e.props.toggleGrid()}},{type:"separator"},{label:"Setup grid",click:function(){return e.props.openSetupGrid()}}]}}),l.a.createElement(m.a,{element:l.a.createElement(p.a,{src:"res/ribbon_default/zoom32.png",tooltip:{id:"Change editor zoom"}}),buildMenuTemplate:function(){return[{label:"Zoom in",click:e.props.zoomIn,accelerator:"CmdOrCtrl++"},{label:"Zoom out",click:e.props.zoomOut,accelerator:"CmdOrCtrl+-"},{label:"Center View",click:function(){return e.props.centerView()}},{type:"separator"},{label:"5%",click:function(){return e.props.setZoomFactor(.05)}},{label:"10%",click:function(){return e.props.setZoomFactor(.1)}},{label:"25%",click:function(){return e.props.setZoomFactor(.25)}},{label:"50%",click:function(){return e.props.setZoomFactor(.5)}},{label:"100%",click:function(){return e.props.setZoomFactor(1)}},{label:"150%",click:function(){return e.props.setZoomFactor(1.5)}},{label:"200%",click:function(){return e.props.setZoomFactor(2)}},{label:"400%",click:function(){return e.props.setZoomFactor(4)}}]}}))}}]),t}(c.PureComponent));t.a=h},1684:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a=n(135),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n.n(l),d=n(471),p=n.n(d),m={flexContainer:{display:"flex",flex:1,position:"relative"},absoluteContainer:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"hidden"}},h=function(e,t){var n=t.useFlex;return function(t){function l(){var e,t;Object(r.a)(this,l);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=Object(i.a)(this,(e=Object(s.a)(l)).call.apply(e,[this].concat(a)))).state={width:void 0,height:void 0},t}return Object(c.a)(l,t),Object(o.a)(l,[{key:"render",value:function(){var t=this,r=this.props,o=r.wrappedComponentRef,i=Object(a.a)(r,["wrappedComponentRef"]);return u.a.createElement(p.a,{onMeasure:function(e){var n=e.width,a=e.height;return t.setState({width:n,height:a})}},u.a.createElement("div",{style:n?m.flexContainer:m.absoluteContainer},void 0!==this.state.width&&void 0!==this.state.height&&u.a.createElement(e,Object.assign({width:this.state.width,height:this.state.height,ref:function(e){return o&&o(e)}},i))))}}]),l}(l.Component)}},1685:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var a=n(135),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n.n(l),d=n(2277),p=(n(500),n(707)),m=n.n(p),h=n(283),f={container:{overflow:"hidden"},xScrollbar:{position:"absolute",top:-11,left:0,right:0},yScrollbar:{position:"absolute",top:0,bottom:0,left:-11,transform:"rotate(180deg)"}},g=function(){},b=function(e){return function(t){function n(){var e,t;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(t=Object(i.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(o))))._editor=null,t.state={xValue:0,yValue:0,xMin:-5e3,xMax:5e3,yMin:-5e3,yMax:5e3},t._handleXChange=function(e,n){var a=t.state,r=a.xMin,o=r+(a.xMax-r)*n/100;t.setState({xValue:o},function(){t._editor&&t._editor.scrollTo(t.state.xValue,t.state.yValue)})},t._handleYChange=function(e,n){var a=t.state,r=a.yMin,o=r+(a.yMax-r)*(100-n)/100;t.setState({yValue:o},function(){t._editor&&t._editor.scrollTo(t.state.xValue,t.state.yValue)})},t._setAndAdjust=function(e){var n=e.xValue,a=e.yValue,r=Math.max(Math.abs(n)+100,t.state.xMax),o=Math.max(Math.abs(a)+100,t.state.yMax);t.setState({xMax:r,yMax:o,xMin:-r,yMin:-o,xValue:n,yValue:a})},t._handleViewPositionChange=m()(function(e){e&&t._setAndAdjust({xValue:e.getViewX(),yValue:e.getViewY()})},500,{leading:!1,trailing:!0}),t}return Object(c.a)(n,t),Object(o.a)(n,[{key:"componentDidMount",value:function(){this._editor&&this._handleViewPositionChange(this._editor.getViewPosition())}},{key:"render",value:function(){var t=this,n=this.props,r=n.wrappedEditorRef,o=Object(a.a)(n,["wrappedEditorRef"]);return u.a.createElement(h.a,null,function(n){return u.a.createElement("div",{style:f.container},u.a.createElement(e,Object.assign({onViewPositionChanged:"touch"!==n?t._handleViewPositionChange:g,ref:function(e){r&&r(e),t._editor=e}},o)),"touch"!==n&&u.a.createElement(d.a,{value:(t.state.xValue-t.state.xMin)/(t.state.xMax-t.state.xMin)*100,onChange:t._handleXChange,style:f.xScrollbar,orientation:"horizontal"}),"touch"!==n&&u.a.createElement(d.a,{value:(t.state.yValue-t.state.yMin)/(t.state.yMax-t.state.yMin)*100,onChange:t._handleYChange,style:f.yScrollbar,orientation:"vertical"}))})}}]),n}(l.Component)}},1686:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(105),d=n(573),p=n.n(d),m=n(167),h={container:{padding:0,width:32,height:32},icon:{width:16,height:16}},f=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(m.a,{element:l.a.createElement(u.a,{style:h.container},l.a.createElement(p.a,{htmlColor:"white",style:h.icon})),buildMenuTemplate:this.props.buildMenuTemplate})}}]),t}(c.Component)},1687:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return T});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(186),u=n(375),d=n(134),p=n(159),m=n(25),h=n(1688),f=n(2),g=n.n(f),b=n(210),v=g()("path"),E=g()("glob"),y=g()("electron"),j=!!y,O=e.gd,C={listContainer:{flex:1}},x=function(e){return e.getName()},T=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={renamedResource:null,searchText:"",resourcesWithErrors:{}},n._deleteResource=function(e){n.props.onDeleteResource(e)},n._locateResourceFile=function(e){var t=v.dirname(Object(b.e)(n.props.project,e.getName()));y.shell.openItem(t)},n._openResourceFile=function(e){var t=Object(b.e)(n.props.project,e.getName());y.shell.openItem(t)},n._copyResourceFilePath=function(e){var t=Object(b.e)(n.props.project,e.getName());y.clipboard.writeText(t)},n._scanForNewResources=function(e,t){var a=n.props.project,r=a.getResourcesManager(),o=v.dirname(a.getProjectFile());E(o+"/**/*.{"+e+"}",function(e,i){e?console.error("Error loading ",e):i.forEach(function(e){var n=v.relative(o,e);r.hasResource(n)||(Object(b.d)(a,t(),n),console.info("".concat(n," added to project.")))}),n.forceUpdate()})},n._removeUnusedResources=function(e){var t=n.props.project;O.ProjectResourcesAdder.getAllUseless(t,e).toJSArray().forEach(function(t){console.info("Removing unused"+e+" resource: ".concat(t))}),O.ProjectResourcesAdder.removeAllUseless(t,e),n.forceUpdate()},n._removeAllResourcesWithInvalidPath=function(){var e=n.props.project,t=e.getResourcesManager();t.getAllResourceNames().toJSArray().forEach(function(n){"error"===Object(b.f)(e,n)&&(t.removeResource(n),console.info("Removed due to invalid path: "+n))}),n.forceUpdate()},n._editName=function(e){n.setState({renamedResource:e},function(){n.sortableList&&n.sortableList.forceUpdateGrid()})},n._rename=function(e,t){var a=n.props.project;(n.setState({renamedResource:null}),e.getName()!==t)&&(a.getResourcesManager().hasResource(t)?Object(m.c)("Another resource with this name already exists"):confirm("Are you sure you want to rename this resource? \nGame objects using the old name will no longer be able to find it!")&&n.props.onRenameResource(e,t,function(a){a&&(e.setName(t),n.forceUpdate())}))},n._moveSelectionTo=function(e){var t=n.props,a=t.project,r=t.selectedResource;if(r){var o=a.getResourcesManager();o.moveResource(o.getResourcePosition(r.getName()),o.getResourcePosition(e.getName())),n.forceUpdateList()}},n.forceUpdateList=function(){n.forceUpdate(),n.sortableList&&n.sortableList.forceUpdateGrid()},n._renderResourceMenuTemplate=function(e,t){return[{label:"Rename",click:function(){return n._editName(e)}},{label:"Remove",click:function(){return n._deleteResource(e)}},{type:"separator"},{label:"Open File",click:function(){return n._openResourceFile(e)},enabled:j},{label:"Locate File",click:function(){return n._locateResourceFile(e)},enabled:j},{label:"Copy File Path",click:function(){return n._copyResourceFilePath(e)},enabled:j},{type:"separator"},{label:"Scan for Images",click:function(){n._scanForNewResources(b.a.image,function(){return new O.ImageResource})},enabled:j},{label:"Scan for Audio",click:function(){n._scanForNewResources(b.a.audio,function(){return new O.AudioResource})},enabled:j},{label:"Scan for Fonts",click:function(){n._scanForNewResources(b.a.font,function(){return new O.FontResource})},enabled:j},{label:"Scan for Videos",click:function(){n._scanForNewResources(b.a.video,function(){return new O.VideoResource})},enabled:j},{type:"separator"},{label:"Remove Unused Images",click:function(){n._removeUnusedResources("image")}},{label:"Remove Unused Audio",click:function(){n._removeUnusedResources("audio")}},{label:"Remove Unused Fonts",click:function(){n._removeUnusedResources("font")}},{label:"Remove Resources with Invalid Path",click:function(){n._removeAllResourcesWithInvalidPath()},enabled:j}]},n.checkMissingPaths=function(){var e=n.props.project,t=e.getResourcesManager().getAllResourceNames().toJSArray(),a={};t.forEach(function(t){a[t]=Object(b.f)(e,t)}),n.setState({resourcesWithErrors:a}),n.forceUpdateList()},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.renamedResource!==t.renamedResource||this.state.searchText!==t.searchText||(this.props.project!==e.project||this.props.selectedResource!==e.selectedResource)}},{key:"componentDidMount",value:function(){this.checkMissingPaths()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.selectedResource,r=t.onSelectResource,o=this.state.searchText,i=n.getResourcesManager(),s=i.getAllResourceNames().toJSArray().map(function(e){return i.getResource(e)}),m=Object(h.a)(s,o),f=n.ptr;return c.createElement(d.a,null,c.createElement("div",{style:C.listContainer},c.createElement(l.a,null,function(t){var n=t.height,o=t.width;return c.createElement(u.a,{key:f,ref:function(t){return e.sortableList=t},fullList:m,width:o,height:n,getItemName:x,selectedItems:a?[a]:[],onItemSelected:r,renamedItem:e.state.renamedResource,onRename:e._rename,onMoveSelectionToItem:e._moveSelectionTo,buildMenuTemplate:e._renderResourceMenuTemplate,erroredItems:e.state.resourcesWithErrors,reactDndType:"GD_RESOURCE"})})),c.createElement(p.a,{value:o,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})}}))}}]),t}(c.Component)}).call(this,n(1))},1688:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter(function(e){return-1!==e.getName().toLowerCase().indexOf(n)})}},170:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n.n(l),d=n(100),p=n(89),m={display:"flex",alignItems:"center",paddingLeft:8,paddingRight:8},h=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.justifyContent,r=t.smallest;return u.a.createElement(d.a,null,function(t){return u.a.createElement("div",{style:Object(a.a)({},m,{height:r?34:48,backgroundColor:t.toolbar.backgroundColor,justifyContent:n})},e.props.children)})}}]),t}(l.Component),f={marginRight:5},g=function(e){var t=e.children;return u.a.createElement(p.a,{noShrink:!0,style:f},t)};t.b=h},1713:function(e,t,n){"use strict";var a=n(78),r=n(10),o=n(1714),i=n.n(o),s=n(1716),c=n.n(s),l=n(216),u=n(2181),d=n(90),p=n(9),m=n(3),h=n(89),f=n(80),g=function(e,t){console.error("Error catched by Boundary:",e,t),Object(p.c)("Error catched by error boundary","error-boundary",{error:e,componentStack:t})},b=function(e){var t=e.componentStack,n=e.error;return r.createElement(l.a,null,r.createElement(f.b,null,r.createElement(c.a,{fontSize:"large"}),r.createElement(f.c,null),r.createElement(h.a,{size:"title"},"This editor encountered a problem.")),r.createElement(u.a,null),r.createElement(h.a,null,"Something wrong happened :(",r.createElement("br",null),"Please ",r.createElement("b",null,"backup your game file")," and save your game to ensure that you don't lose anything."),r.createElement(h.a,null,"The error was automatically reported.",r.createElement("br",null),"To make sure it's fixed, you may report it on GitHub, the platform where GDevelop is developed:"),r.createElement(d.a,{label:r.createElement(a.Trans,{id:"Report the issue on GitHub"}),onClick:function(){var e="\n=> Please write here a short description of when the error occured and how to reproduce it.\nYou also may have to create an account on GitHub before posting.\n\nWhen you're ready, click on \"Submit new issue\". Don't change the rest of the message. Thanks!\n\n## Error stack (don't write anything here)\n```\n".concat(n?n.stack:"No error found","\n```\n\n## Component stack (don't write anything here)\n```\n").concat(t||"No component stack found","\n```\n        ");m.b.openExternalURL("https://github.com/4ian/GDevelop/issues/new?body=".concat(encodeURIComponent(e),"&title=Crash%20while%20using%20an%20editor"))}}))};t.a=function(e){return r.createElement(i.a,{FallbackComponent:b,onError:g},e.children)}},1719:function(e,t,n){"use strict";n.d(t,"a",function(){return x});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(122),d=n(88),p=n(123),m=n(92),h=n(80),f=n(3),g=n(142),b=n(147),v=n(1720),E=n.n(v),y=n(78),j=n(2181),O=function(e){return"en"!==e.languageCode&&("pseudo_LOCALE"!==e.languageCode||f.b.isDev())},C=function(e){var t=e.translationRatio||0,n=(100*e.translationRatio).toFixed(0),a=t>0;return l.a.createElement(p.a,{value:e.languageCode,primaryText:e.languageNativeName+" ("+e.languageName+")"+(a?" - ~".concat(n,"%"):""),disabled:!a,key:e.languageCode})},x=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={languageDidChange:!1},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.open,a=t.onClose;if(!n)return null;var r=E.a.filter(O),o=r.filter(function(e){return e.translationRatio>.5}),i=r.filter(function(e){return e.translationRatio<.5});return l.a.createElement(y.I18n,null,function(t){var r=t.i18n;return l.a.createElement(g.b.Consumer,null,function(t){var s=t.values,c=t.setLanguage,g=r.language!==s.language;return l.a.createElement(m.a,{actions:[l.a.createElement(d.a,{label:g?l.a.createElement(y.Trans,{id:"Loading..."}):l.a.createElement(y.Trans,{id:"Close"}),primary:!1,onClick:function(){a(e.state.languageDidChange)},disabled:g,key:"close"})],secondaryActions:[l.a.createElement(d.a,{label:l.a.createElement(y.Trans,{id:"Report a wrong translation"}),key:"report-wrong-translation",primary:!1,onClick:function(){return f.b.openExternalURL("https://github.com/4ian/GDevelop/issues/969")}})],onRequestClose:function(){return a(e.state.languageDidChange)},open:n,title:l.a.createElement(y.Trans,{id:"Language"})},l.a.createElement(h.a,null,l.a.createElement(h.b,null,l.a.createElement(b.a,{kind:"info"},l.a.createElement(y.Trans,{id:"Support for translations is still new and in beta. GDevelop needs your help to be translated in your language!"}))),l.a.createElement(h.b,{expand:!0},l.a.createElement(u.a,{floatingLabelText:l.a.createElement(y.Trans,{id:"Choose GDevelop language"}),value:s.language,onChange:function(t,n,a){c(a),e.setState({languageDidChange:!0})},fullWidth:!0},l.a.createElement(p.a,{value:"en",primaryText:"English (default)"}),o.map(function(e){return C(e)}),l.a.createElement(j.a,null),i.map(function(e){return C(e)}))),l.a.createElement(h.b,{expand:!0},l.a.createElement(d.a,{primary:!0,label:l.a.createElement(y.Trans,{id:"Help to translate GD in your language"}),onClick:function(){return f.b.openExternalURL("https://crowdin.com/project/gdevelop")},fullWidth:!0}))))})})}}]),t}(c.Component)},1720:function(e,t){e.exports=[{languageCode:"af_ZA",languageName:"Afrikaans",languageNativeName:"Afrikaans",translationRatio:.008290387631637919},{languageCode:"ar_SA",languageName:"Arabic",languageNativeName:"\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629",translationRatio:.11942639480170292},{languageCode:"az_AZ",languageName:"Azerbaijani",languageNativeName:"az\u0259rbaycan dili",translationRatio:.02240645305848088},{languageCode:"bg_BG",languageName:"Bulgarian",languageNativeName:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",translationRatio:.06408245574725524},{languageCode:"bn_BD",languageName:"Bengali",languageNativeName:"\u09ac\u09be\u0982\u09b2\u09be",translationRatio:.035402195832399785},{languageCode:"ca_ES",languageName:"Catalan",languageNativeName:"catal\xe0",translationRatio:.08940174770333853},{languageCode:"cs_CZ",languageName:"Czech",languageNativeName:"\u010de\u0161tina",translationRatio:.11628949137351552},{languageCode:"da_DK",languageName:"Danish",languageNativeName:"dansk",translationRatio:.02823213085368581},{languageCode:"de_DE",languageName:"German",languageNativeName:"Deutsch",translationRatio:.7306744342370604},{languageCode:"el_GR",languageName:"Greek",languageNativeName:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",translationRatio:.19807304503697065},{languageCode:"en",languageName:"English",languageNativeName:"English",translationRatio:.0395299145299145},{languageCode:"eo_UY",languageName:"Esperanto",languageNativeName:"Esperanto",translationRatio:.010082903876316385},{languageCode:"es_ES",languageName:"Spanish",languageNativeName:"Espa\xf1ol",translationRatio:.887743670177011},{languageCode:"fa_IR",languageName:"Persian",languageNativeName:"\u0641\u0627\u0631\u0633\u06cc",translationRatio:.24714317723504364},{languageCode:"fi_FI",languageName:"Finnish",languageNativeName:"suomi",translationRatio:.3363208604077974},{languageCode:"fil_PH",languageName:"Filipino",languageNativeName:"Mga Filipino",translationRatio:.6500112032265293},{languageCode:"fr_FR",languageName:"French",languageNativeName:"Fran\xe7ais",translationRatio:.7851221151691687},{languageCode:"ha_HG",languageName:"Hausa",languageNativeName:"\u0647\u064e\u0648\u064f\u0633\u064e",translationRatio:.008290387631637919},{languageCode:"he_IL",languageName:"Hebrew",languageNativeName:"\u05e2\u05d1\u05e8\u05d9\u05ea",translationRatio:.015908581671521427},{languageCode:"hi_IN",languageName:"Hindi",languageNativeName:"\u0939\u093f\u0928\u094d\u0926\u0940",translationRatio:.042124131749944005},{languageCode:"hu_HU",languageName:"Hungarian",languageNativeName:"magyar",translationRatio:.13600717006497876},{languageCode:"id_ID",languageName:"Indonesian",languageNativeName:"Indonesian",translationRatio:.46851893345283446},{languageCode:"it_IT",languageName:"Italian",languageNativeName:"Italiano",translationRatio:.7091642393009187},{languageCode:"ja_JP",languageName:"Japanese",languageNativeName:"\u65e5\u672c\u8a9e",translationRatio:.6686085592650683},{languageCode:"ko_KR",languageName:"Korean",languageNativeName:"\ud55c\uad6d\uc5b4",translationRatio:.19628052879229219},{languageCode:"lt_LT",languageName:"Lithuanian",languageNativeName:"lietuvi\u0173 kalba",translationRatio:.009858839345731618},{languageCode:"mr_IN",languageName:"Marathi",languageNativeName:"\u092e\u0930\u093e\u0920\u0940",translationRatio:.00896258122339233},{languageCode:"ms_MY",languageName:"Malay",languageNativeName:"\u0647\u0627\u0633 \u0645\u0644\u0627\u064a\u0648\u200e",translationRatio:.054671745462693266},{languageCode:"my_MM",languageName:"Burmese",languageNativeName:"\u1017\u1019\u102c\u1005\u102c",translationRatio:.00896258122339233},{languageCode:"nl_NL",languageName:"Dutch",languageNativeName:"Nederlands",translationRatio:.4107102845619538},{languageCode:"no_NO",languageName:"Norwegian",languageNativeName:"Norsk",translationRatio:.14384942863544703},{languageCode:"pl_PL",languageName:"Polish",languageNativeName:"j\u0119zyk polski",translationRatio:.511091194263948},{languageCode:"pseudo_LOCALE",languageName:"for development only",languageNativeName:"Pseudolocalization",translationRatio:.9903846153846154},{languageCode:"pt_BR",languageName:"Brazilian Portuguese",languageNativeName:"Portugu\xeas brasileiro",translationRatio:.9901411606542684},{languageCode:"pt_PT",languageName:"Portuguese",languageNativeName:"Portugu\xeas",translationRatio:.6874299798341923},{languageCode:"ro_RO",languageName:"Romanian",languageNativeName:"Rom\xe2n\u0103",translationRatio:.031593098812457976},{languageCode:"ru_RU",languageName:"Russian",languageNativeName:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",translationRatio:.7978937934125028},{languageCode:"sk_SK",languageName:"Slovak",languageNativeName:"sloven\u010dina",translationRatio:.018149226977369537},{languageCode:"sl_SI",languageName:"Slovene",languageNativeName:"slovenski jezik",translationRatio:.899395025767421},{languageCode:"sr_CS",languageName:"Serbian (Latin)",languageNativeName:"srpski",translationRatio:.3634326686085593},{languageCode:"sr_SP",languageName:"Serbian",languageNativeName:"\u0441\u0440\u043f\u0441\u043a\u0438 \u0458\u0435\u0437\u0438\u043a",translationRatio:.7645081783553663},{languageCode:"sv_SE",languageName:"Swedish",languageNativeName:"svenska",translationRatio:.1608783329598924},{languageCode:"th_TH",languageName:"Thai",languageNativeName:"\u0e44\u0e17\u0e22",translationRatio:.053327358279184445},{languageCode:"tr_TR",languageName:"Turkish",languageNativeName:"T\xfcrk\xe7e",translationRatio:.4212413174994398},{languageCode:"uk_UA",languageName:"Ukrainian",languageNativeName:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",translationRatio:.8639928299350212},{languageCode:"ur_PK",languageName:"Urdu",languageNativeName:"\u0627\u0631\u062f\u0648",translationRatio:.016804839793860604},{languageCode:"yo_NG",languageName:"Yoruba",languageNativeName:"Yor\xf9b\xe1",translationRatio:.7219359175442528},{languageCode:"zh_CN",languageName:"Chinese Simplified",languageNativeName:"\u7b80\u5316\u5b57",translationRatio:.6137127492717902},{languageCode:"zh_TW",languageName:"Chinese Traditional",languageNativeName:"\u6b63\u9ad4\u5b57",translationRatio:.2146538203002465}]},1721:function(e,t,n){"use strict";var a=n(78),r=n(10),o=n(92),i=n(88),s=n(103),c=n(90),l=n(2),u=n.n(l),d=n(180),p=n(80),m=u()("electron");t.a=function(e){var t=e.onClose,n=e.storageProviders,l=e.onChooseProvider,u=e.onCreateNewProject;return r.createElement(a.I18n,null,function(e){var h=e.i18n;return r.createElement(o.a,{title:r.createElement(a.Trans,{id:"Choose where to load the project from"}),onRequestClose:t,actions:[r.createElement(i.a,{label:r.createElement(a.Trans,{id:"Cancel"}),key:"close",primary:!1,onClick:t})],secondaryActions:[r.createElement(c.a,{label:r.createElement(a.Trans,{id:"Create a new project"}),key:"create-new-project",primary:!0,onClick:u})],open:!0,noMargin:!0,maxWidth:"sm"},r.createElement(s.a,null,n.filter(function(e){return!e.hiddenInOpenDialog}).map(function(e){return r.createElement(s.b,{key:e.internalName,disabled:!!e.disabled,primaryText:h._(e.name),leftIcon:e.renderIcon?e.renderIcon():void 0,onClick:function(){return l(e)}})})),!m&&r.createElement(p.b,null,r.createElement(p.a,null,r.createElement(d.a,null,r.createElement(a.Trans,{id:"If you have a popup blocker interrupting the opening, allow the popups and try a second time to open the project."})))))})}},1722:function(e,t,n){"use strict";var a=n(78),r=n(10),o=n(92),i=n(88),s=n(103);t.a=function(e){var t=e.onClose,n=e.storageProviders,c=e.onChooseProvider;e.onCreateNewProject;return r.createElement(a.I18n,null,function(e){var l=e.i18n;return r.createElement(o.a,{title:r.createElement(a.Trans,{id:"Choose where to save the project to"}),onRequestClose:t,actions:[r.createElement(i.a,{label:r.createElement(a.Trans,{id:"Cancel"}),key:"close",primary:!1,onClick:t})],open:!0,noMargin:!0,maxWidth:"sm"},r.createElement(s.a,null,n.filter(function(e){return!e.hiddenInSaveDialog}).map(function(e){return r.createElement(s.b,{key:e.internalName,disabled:!!e.disabled,primaryText:l._(e.name),leftIcon:e.renderIcon?e.renderIcon():void 0,onClick:function(){return c(e)}})})))})}},1723:function(e,t,n){"use strict";var a=n(78),r=n(10),o=n(92),i=n(88),s=n(90),c=n(180),l=n(80),u=n(89);t.a=function(e){var t=e.onClose,n=e.onConfirm;return r.createElement(o.a,{title:r.createElement(a.Trans,{id:"Confirm the opening"}),actions:[r.createElement(i.a,{label:r.createElement(a.Trans,{id:"Cancel"}),key:"close",primary:!1,onClick:t}),r.createElement(s.a,{label:r.createElement(a.Trans,{id:"Open the project"}),key:"open-project",primary:!0,onClick:n})],open:!0,maxWidth:"sm"},r.createElement(l.b,null,r.createElement(l.a,null,r.createElement(u.a,null,r.createElement(a.Trans,{id:'You\'re about to open a project. Click on "Open the Project" to continue.'})))),r.createElement(l.b,null,r.createElement(l.a,null,r.createElement(c.a,null,r.createElement(a.Trans,{id:"If you have a popup blocker interrupting the opening, allow the popups and try a second time to open the project."})))))}},1724:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(25);function r(e,t){return!t.gdVersion&&t.eventsFunctions?(Object(a.a)([e._({id:"Unable to open this file."}),e._({id:"This file is an extension file for GDevelop 5. You should instead import it, using the window to add a new extension to your project."})].join("\n")),!1):!(!t.gdVersion&&!t.eventsFunctions)||(Object(a.a)([e._({id:"Unable to open this file."}),e._({id:"This file is not recognized as a GDevelop 5 project. Be sure to open a file that was saved using GDevelop."})].join("\n")),!1)}},177:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(10);var a=function(e){var t=e.children;return"undefined"===typeof window?t("medium"):t(window.innerWidth<750||window.innerHeight<475?"small":window.innerWidth<1150?"medium":"large")}},179:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(2262),u=n(2193),d=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return c.createElement(l.a,{variant:"fullWidth",textColor:"primary",value:this.props.value,onChange:function(t,n){return e.props.onChange(n)}},this.props.children)}}]),t}(c.Component),p=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.createElement(u.a,this.props)}}]),t}(c.Component)},1797:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(96),d=(n(98),n(586)),p=e.gd,m=function(e){function t(e){var n;Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e)))._chips=[];var r=p.JsPlatform.get().getAllPlatformExtensions();return n._chips=Object(u.mapVector)(r,function(e){return e.isBuiltin()||-1!==e.getFullName().indexOf("(deprecated)")?null:{text:e.getFullName(),value:e.getName()}}).filter(Boolean),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.chosenExtensionName,n=e.onExtensionNameChosen,a=e.value,r=e.onChange;return l.a.createElement(d.a,{value:a,onChange:r,chips:this._chips,chosenChip:t,onChooseChip:n,onRequestSearch:function(){}})}}]),t}(c.Component)}).call(this,n(1))},180:function(e,t,n){"use strict";var a=n(83),r=n(10),o=n(100),i=n(2184);t.a=function(e){return r.createElement(o.a,null,function(t){return r.createElement(i.a,{variant:"body2",align:"center",style:Object(a.a)({opacity:.6,textShadow:"1px 1px 0px ".concat(t.emptyMessage.shadowColor)},e.style),title:e.tooltipText},e.children)})}},1830:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f});var a=n(102),r=n(83),o=n(5),i=n(11),s=n(22),c=n(21),l=n(23),u=n(10),d=n(78),p=n(538),m=n(788),h=e.gd,f=function(e){function t(){var e,i;Object(o.a)(this,t);for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return(i=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(u)))).state={language:"en",catalogs:{},i18n:null},i._loadCatalog=function(e){return i.state.catalogs[e]?Promise.resolve(i.state.catalogs):n(1831)("./".concat(e,"/messages")).then(function(t){return Object(r.a)({},i.state.catalogs,Object(a.a)({},e,t))},function(t){return console.error("Error while loading language="+e,t),i.state.catalogs})},i}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this._loadLanguage(this.props.language)}},{key:"componentDidUpdate",value:function(e){e.language!==this.props.language&&this._loadLanguage(this.props.language)}},{key:"_loadLanguage",value:function(e){var t=this;this._loadCatalog(e).then(function(n){t.setState({language:e,catalogs:n,i18n:Object(p.setupI18n)({language:e,catalogs:n})},function(){var n=t.state.i18n;h.getTranslation=Object(m.b)(n),console.info('Loaded "'.concat(e,'" language'))})})}},{key:"render",value:function(){var e=this.state,t=e.i18n,n=e.catalogs,a=e.language,r=this.props.children;return t?u.createElement(d.I18nProvider,{i18n:t,language:a,catalogs:n},r):null}}]),t}(u.Component)}).call(this,n(1))},1831:function(e,t,n){var a={"./af_ZA/messages":[2046,5],"./ar_SA/messages":[2047,6],"./az_AZ/messages":[2048,7],"./bg_BG/messages":[2049,8],"./bn_BD/messages":[2050,9],"./ca_ES/messages":[2051,10],"./cs_CZ/messages":[2052,11],"./da_DK/messages":[2053,12],"./de_DE/messages":[2054,13],"./el_GR/messages":[2055,14],"./en/messages":[2056,15],"./eo_UY/messages":[2057,16],"./es_ES/messages":[2058,17],"./fa_IR/messages":[2059,18],"./fi_FI/messages":[2060,19],"./fil_PH/messages":[2061,20],"./fr_FR/messages":[2062,21],"./ha_HG/messages":[2063,22],"./he_IL/messages":[2064,23],"./hi_IN/messages":[2065,24],"./hu_HU/messages":[2066,25],"./id_ID/messages":[2067,26],"./it_IT/messages":[2068,27],"./ja_JP/messages":[2069,28],"./ko_KR/messages":[2070,29],"./lt_LT/messages":[2071,30],"./mr_IN/messages":[2072,31],"./ms_MY/messages":[2073,32],"./my_MM/messages":[2074,33],"./nl_NL/messages":[2075,34],"./no_NO/messages":[2076,35],"./pl_PL/messages":[2077,36],"./pseudo_LOCALE/messages":[2078,37],"./pt_BR/messages":[2079,38],"./pt_PT/messages":[2080,39],"./ro_RO/messages":[2081,40],"./ru_RU/messages":[2082,41],"./sk_SK/messages":[2083,42],"./sl_SI/messages":[2084,43],"./sr_CS/messages":[2085,44],"./sr_SP/messages":[2086,45],"./sv_SE/messages":[2087,46],"./th_TH/messages":[2088,47],"./tr_TR/messages":[2089,48],"./uk_UA/messages":[2090,49],"./ur_PK/messages":[2091,50],"./yo_NG/messages":[2092,51],"./zh_CN/messages":[2093,52],"./zh_TW/messages":[2094,53]};function r(e){var t=a[e];return t?n.e(t[1]).then(function(){var e=t[0];return n.t(e,7)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}r.keys=function(){return Object.keys(a)},r.id=1831,e.exports=r},184:function(e,t,n){"use strict";n.d(t,"e",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return h}),n.d(t,"d",function(){return f}),n.d(t,"f",function(){return g});var a=n(319),r=n.n(a),o=n(506),i=n(27),s=n(371),c=n(789),l=function(e,t){return e&&e[t]?"s3Key"===t?"https://s3-eu-west-1.amazonaws.com/gd-games/".concat(e[t],"/index.html"):"https://s3-eu-west-1.amazonaws.com/gd-build/".concat(e[t]):null},u=null,d=function(e,t){var n="game-archive-"+Object(o.a)();return(u?Promise.resolve(u):Object(s.d)().then(function(e){return u=new c({accessKeyId:e.upload.ak1+e.upload.ak2,secretAccessKey:e.upload.sa1+e.upload.sa2,region:i.b.options.region,correctClockSkew:!0})})).then(function(a){return new Promise(function(r,o){a.putObject({Body:e,Bucket:i.b.options.destinationBucket,Key:n+"/game-archive.zip"},function(e){if(e)return o(e);r(n+"/game-archive.zip")}).on("httpUploadProgress",function(e){e&&e.total?t(e.loaded,e.total):t(0,0)})})})},p=function(e,t,n,a){return e().then(function(e){return r.a.post("".concat(i.a.baseUrl,"/build?userId=").concat(encodeURIComponent(t),"&key=").concat(encodeURIComponent(n),"&type=electron-build&targets=").concat(encodeURIComponent(a.join(","))),null,{params:{},headers:{Authorization:e}})}).then(function(e){return e.data})},m=function(e,t,n){return e().then(function(e){return r.a.post("".concat(i.a.baseUrl,"/build?userId=").concat(encodeURIComponent(t),"&key=").concat(encodeURIComponent(n),"&type=web-build&targets=s3"),null,{params:{},headers:{Authorization:e}})}).then(function(e){return e.data})},h=function(e,t,n){return e().then(function(e){return r.a.post("".concat(i.a.baseUrl,"/build?userId=").concat(encodeURIComponent(t),"&key=").concat(encodeURIComponent(n),"&type=cordova-build"),null,{params:{},headers:{Authorization:e}})}).then(function(e){return e.data})},f=function(e,t,n){return e().then(function(e){return r.a.get("".concat(i.a.baseUrl,"/build/").concat(n),{params:{userId:t},headers:{Authorization:e}})}).then(function(e){return e.data})},g=function(e,t){return e().then(function(e){return r.a.get("".concat(i.a.baseUrl,"/build"),{params:{userId:t},headers:{Authorization:e}})}).then(function(e){return e.data})}},192:function(e,t,n){"use strict";(function(e){var a=n(1218),r=n(1316),o=n(1317),i=n(1318),s=n(1319),c=n(1320),l=n(1321),u=n(1322),d=n(1323),p=n(697),m=n(114),h=n(193),f=n(112),g=n(2),b=n.n(g),v=b()("path"),E=e.gd,y={};t.a={renderers:{unknownObjectType:a.a,Sprite:r.a,"TiledSpriteObject::TiledSprite":o.a,"PanelSpriteObject::PanelSprite":i.a,"TextObject::Text":s.a,"PrimitiveDrawing::Drawer":c.a,"TextEntryObject::TextEntry":l.a,"ParticleSystem::ParticleEmitter":u.a,"SkeletonObject::Skeleton":d.a},getThumbnail:function(e,t){var n=t.getType();return this.renderers.hasOwnProperty(n)?this.renderers[n].getThumbnail(e,m.a,t):this.renderers.unknownObjectType.getThumbnail(e,m.a,t)},createNewInstanceRenderer:function(e,t,n,a,r){var o=a.getType();return this.renderers.hasOwnProperty(o)?new this.renderers[o](e,t,n,a,r,p.a):(console.warn("Object with type ".concat(o," has no instance renderer registered. Please use registerInstanceRenderer to register your renderer.")),new this.renderers.unknownObjectType(e,t,n,a,r,p.a))},registerInstanceRenderer:function(e,t){t.getThumbnail?this.renderers.hasOwnProperty(e)?console.warn('Tried to register renderer for object "'.concat(e,'", but a renderer already exists.')):(console.info('Properly registered renderer for object "'.concat(e,'".')),this.renderers[e]=t):console.warn('Tried to register renderer for object "'.concat(e,'", but getThumbnail is not defined.'))},registerModule:function(e,t){y[e]=t},requireModule:function(e,t){if(v){var n=b()(v.join(e,t));if(n)return n}return y[t]?y[t]:(console.error('Unable to find module "'.concat(t,'". Are you sure you registered it using ObjectsRenderingService.registerModule? This is mandatory for the web-app to have the file bundled.')),null)},gd:E,PIXI:f,RenderedInstance:h.a}}).call(this,n(1))},193:function(e,t,n){"use strict";function a(e,t,n,a,r,o){this._pixiObject=null,this._instance=n,this._associatedObject=a,this._pixiContainer=r,this._project=e,this._layout=t,this._pixiResourcesLoader=o,this.wasUsed=!0}a.toRad=function(e){return e/180*3.14159},a.prototype.update=function(){},a.prototype.getPixiObject=function(){return this._pixiObject},a.prototype.getInstance=function(){return this._instance},a.prototype.instanceRemovedFromScene=function(){null!==this._pixiObject&&-1!==this._pixiContainer.children.indexOf(this._pixiObject)&&this._pixiContainer.removeChild(this._pixiObject)},a.prototype.getOriginX=function(){return 0},a.prototype.getOriginY=function(){return 0},a.prototype.getDefaultWidth=function(){return 32},a.prototype.getDefaultHeight=function(){return 32},t.a=a},195:function(e,t,n){"use strict";var a=n(10),r=n(2184),o={paddingLeft:8};t.a=function(e){var t=e.children;return t?a.createElement(r.a,{variant:"overline",style:o},t):null}},196:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(118),u=n(238),d=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).saveUiSettings=function(){},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"getProject",value:function(){return this.props.project}},{key:"getLayout",value:function(){return null}},{key:"shouldComponentUpdate",value:function(e){return!!e.isActive}},{key:"updateToolbar",value:function(){console.warn("No toolbar defined for this editor"),this.props.setToolbar&&this.props.setToolbar(null)}},{key:"getSerializedElements",value:function(){throw new Error("The editor has not implemented getSerializedElements to return what should be serialized")}}],[{key:"getLayoutSerializedElements",value:function(e){return e?{windowTitle:e.getWindowDefaultTitle(),layers:Object(l.b)(e,"serializeLayersTo"),backgroundColor:""+Object(u.c)(e.getBackgroundColorRed(),e.getBackgroundColorGreen(),e.getBackgroundColorBlue())}:{}}}]),t}(c.Component);d.defaultProps={setToolbar:function(){}}},205:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(102),r=n(10),o=n(923),i=n.n(o),s=n(399),c=n(141),l=n.n(c),u=function(e){var t,n=r.useContext(s.a),o=r.useMemo(function(){return t=e.isStandaloneText||!1,{root:function(e){return t?r.createElement("div",e):r.createElement("span",e)},link:function(e){return r.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.children)},paragraph:function(e){return t?r.createElement("p",null,e.children):e.children}};var t},[e.isStandaloneText]);return r.createElement(i.a,{escapeHtml:!0,source:e.source,className:l()((t={},Object(a.a)(t,n.markdownRootClassName,!0),Object(a.a)(t,"standalone-text-container",e.isStandaloneText),t)),renderers:o})}},208:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(5),r=n(11),o=n(2),i=n.n(o)()("electron"),s=i?i.clipboard:null,c="",l=function(e){return"GDEVELOP_"+e+"_CLIPBOARD_KIND-jsBdHbLy912y8Rc"},u=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"set",value:function(e,t){var n=JSON.stringify({"000kind":l(e),content:t});s?s.writeText(n):c=n}},{key:"has",value:function(e){return 12===(s?s.readText():c).indexOf(l(e))}},{key:"get",value:function(t){if(!e.has(t))return null;var n="";n=s?s.readText():c;try{return JSON.parse(n).content}catch(a){return console.warn("The clipboard content is not valid JSON"),null}}}]),e}()},209:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e){return"http://wiki.compilgames.net/doku.php/gdevelop5".concat(e,"?utm_source=gdevelop&utm_medium=help-link")}},2095:function(e,t,n){"use strict";var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n.n(l),d=n(499),p=n.n(d),m=n(28),h=17,f=16,g=37,b=38,v=39,E=40,y=8,j=32,O=46,C=187,x=189,T=107,S=109,k=67,w=70,N=86,_=88,P=89,I=90,B=1,M=function(){function e(t){var n=this,a=t.onDelete,o=t.onMove,i=t.onCopy,s=t.onCut,c=t.onPaste,l=t.onUndo,u=t.onRedo,d=t.onSearch,p=t.onZoomOut,M=t.onZoomIn;Object(r.a)(this,e),this._isControlPressed=function(){return n.metaPressed||n.rawCtrlPressed},this._onKeyDown=function(e){if(n.isFocused){var t=!1;e.metaKey&&(n.metaPressed=!0),e.altKey&&(n.altPressed=!0),e.which===h&&(n.rawCtrlPressed=!0),e.which===f&&(n.shiftPressed=!0),e.which===j&&(n.spacePressed=!0);if(!e.target||!e.target.closest('textarea, input, [contenteditable="true"]'))return n.onMove&&(e.which===b?n.onMove(0,-1):e.which===E?n.onMove(0,1):e.which===g?n.onMove(-1,0):e.which===v&&n.onMove(1,0)),e.which!==y&&e.which!==O||(n.onDelete(),t=!0),n._isControlPressed()&&e.which===k&&n.onCopy(),n._isControlPressed()&&e.which===_&&n.onCut(),n._isControlPressed()&&e.which===N&&n.onPaste(),n._isControlPressed()&&e.which===I&&n.onUndo(),n._isControlPressed()&&n.shiftPressed&&e.which===I&&n.onRedo(),n._isControlPressed()&&e.which===P&&n.onRedo(),n._isControlPressed()&&e.which===w&&n.onSearch(),Object(m.a)()&&(n._isControlPressed()&&e.which===x&&n.onZoomOut(),n._isControlPressed()&&e.which===C&&n.onZoomIn(),e.which===S&&n.onZoomOut(),e.which===T&&n.onZoomIn()),t?(e.preventDefault&&e.preventDefault(),!1):void 0}},this._onKeyUp=function(e){e.metaKey||(n.metaPressed=!1),e.altKey||(n.altPressed=!1),e.which===h&&(n.rawCtrlPressed=!1),e.which===f&&(n.shiftPressed=!1),e.which===j&&(n.spacePressed=!1);var t=!1;if(e.which!==y&&e.which!==O||(t=!0),t)return e.preventDefault&&e.preventDefault(),!1},this._onMouseDown=function(e){n.isFocused&&(Object(m.a)()||(e.button===B?n.mouseMidButtonPressed=!0:n.mouseMidButtonPressed=!1))},this._onMouseUp=function(e){n.isFocused&&(Object(m.a)()||e.button!==B||(n.mouseMidButtonPressed=!1))},this._onKeyPress=function(e){},this._noop=function(){},this.onDelete=a||this._noop,this.onMove=o||this._noop,this.onCopy=i||this._noop,this.onCut=s||this._noop,this.onPaste=c||this._noop,this.onUndo=l||this._noop,this.onRedo=u||this._noop,this.onZoomOut=p||this._noop,this.onZoomIn=M||this._noop,this.onSearch=d||this._noop,this.isFocused=!1,this.shiftPressed=!1,this.rawCtrlPressed=!1,this.metaPressed=!1,this.spacePressed=!1,this.mouseMidButtonPressed=!1,this.mount()}return Object(o.a)(e,[{key:"shouldCloneInstances",value:function(){return this._isControlPressed()}},{key:"shouldMultiSelect",value:function(){return this.shiftPressed}},{key:"shouldFollowAxis",value:function(){return this.shiftPressed}},{key:"shouldNotSnapToGrid",value:function(){return this.altPressed}},{key:"shouldResizeProportionally",value:function(){return this.shiftPressed}},{key:"shouldScrollHorizontally",value:function(){return this.altPressed}},{key:"shouldZoom",value:function(){return Object(m.a)()?this._isControlPressed():!(this._isControlPressed()||this.altPressed||this.shiftPressed)}},{key:"shouldMoveView",value:function(){return this.spacePressed||this.mouseMidButtonPressed}},{key:"focus",value:function(){this.isFocused=!0}},{key:"blur",value:function(){this.isFocused=!1}},{key:"mount",value:function(){"undefined"!==typeof document&&(document.addEventListener("keydown",this._onKeyDown,!0),document.addEventListener("keyup",this._onKeyUp,!0),document.addEventListener("keypress",this._onKeyPress,!0),document.addEventListener("mousedown",this._onMouseDown,!0),document.addEventListener("mouseup",this._onMouseUp,!0))}},{key:"unmount",value:function(){"undefined"!==typeof document&&(document.removeEventListener("keydown",this._onKeyDown,!0),document.removeEventListener("keyup",this._onKeyUp,!0),document.removeEventListener("keypress",this._onKeyPress,!0),document.removeEventListener("mousedown",this._onMouseDown,!0),document.removeEventListener("mouseup",this._onMouseUp,!0))}}]),e}(),F=n(1640),R=n(112),L=function(){function e(t){var n=this,a=t.project,o=t.layout,i=t.instances,s=t.viewPosition,c=t.onInstanceClicked,l=t.onOverInstance,u=t.onOutInstance,d=t.onMoveInstance,p=t.onMoveInstanceEnd,m=t.onDownInstance;Object(r.a)(this,e),this.project=a,this.instances=i,this.layout=o,this.viewPosition=s,this.onInstanceClicked=c,this.onOverInstance=l,this.onOutInstance=u,this.onMoveInstance=d,this.onMoveInstanceEnd=p,this.onDownInstance=m,this.layersRenderers={},this.pixiContainer=new R.Container,this.instanceMeasurer={getInstanceLeft:function(e){var t=e.getLayer(),a=n.layersRenderers[t];return a?a.getInstanceLeft(e):e.getX()},getInstanceTop:function(e){var t=e.getLayer(),a=n.layersRenderers[t];return a?a.getInstanceTop(e):e.getY()},getInstanceWidth:function(e){if(e.hasCustomSize())return e.getCustomWidth();var t=e.getLayer(),a=n.layersRenderers[t];return a?a.getInstanceWidth(e):0},getInstanceHeight:function(e){if(e.hasCustomSize())return e.getCustomHeight();var t=e.getLayer(),a=n.layersRenderers[t];return a?a.getInstanceHeight(e):0},getInstanceRect:function(e){return{x:n.instanceMeasurer.getInstanceLeft(e),y:n.instanceMeasurer.getInstanceTop(e),width:n.instanceMeasurer.getInstanceWidth(e),height:n.instanceMeasurer.getInstanceHeight(e)}}}}return Object(o.a)(e,[{key:"getPixiContainer",value:function(){return this.pixiContainer}},{key:"getInstanceMeasurer",value:function(){return this.instanceMeasurer}},{key:"render",value:function(){for(var e=0;e<this.layout.getLayersCount();e++){var t=this.layout.getLayerAt(e),n=t.getName(),a=this.layersRenderers[n];a||(this.layersRenderers[n]=a=new F.a({project:this.project,layout:this.layout,instances:this.instances,viewPosition:this.viewPosition,layer:t,onInstanceClicked:this.onInstanceClicked,onOverInstance:this.onOverInstance,onOutInstance:this.onOutInstance,onMoveInstance:this.onMoveInstance,onMoveInstanceEnd:this.onMoveInstanceEnd,onDownInstance:this.onDownInstance}),this.pixiContainer.addChild(a.getPixiContainer())),a.layer=t,a.wasUsed=!0,a.getPixiContainer().zOrder=e,a.render()}this._updatePixiObjectsZOrder(),this._cleanRenderers()}},{key:"_updatePixiObjectsZOrder",value:function(){this.pixiContainer.children.sort(function(e,t){return e.zOrder=e.zOrder||0,t.zOrder=t.zOrder||0,e.zOrder-t.zOrder})}},{key:"resetRenderersFor",value:function(e){for(var t in this.layersRenderers){if(this.layersRenderers.hasOwnProperty(t))this.layersRenderers[t].resetRenderersFor(e)}}},{key:"_cleanRenderers",value:function(){for(var e in this.layersRenderers)if(this.layersRenderers.hasOwnProperty(e)){var t=this.layersRenderers[e];t.wasUsed?t.wasUsed=!1:(this.pixiContainer.removeChild(t.getPixiContainer()),t.delete(),delete this.layersRenderers[e])}}},{key:"delete",value:function(){for(var e in this.layersRenderers)this.layersRenderers.hasOwnProperty(e)&&this.layersRenderers[e].delete()}}]),e}(),A=n(500);function D(e,t){var n=t.x,a=t.y,r=t.width,o=t.height,i=e(n,a),s=e(n+r,a+o);return{x:i[0],y:i[1],width:s[0]-i[0],height:s[1]-i[1]}}n(501);var U=function(){function e(t){var n=this,a=t.instancesSelection,o=t.instanceMeasurer,i=t.onResize,s=t.onResizeEnd,c=t.onRotate,l=t.onRotateEnd,u=t.toCanvasCoordinates,d=t.screenType;Object(r.a)(this,e),this.pixiContainer=new R.Container,this.rectanglesContainer=new R.Container,this.selectedRectangles=[],this.resizeButton=new R.Graphics,this.resizeIcon=new R.Sprite.fromImage("res/actions/direction.png"),this.rightResizeButton=new R.Graphics,this.bottomResizeButton=new R.Graphics,this.rotateButton=new R.Graphics,this.instanceMeasurer=o,this.onResize=i,this.onResizeEnd=s,this.onRotate=c,this.onRotateEnd=l,this.toCanvasCoordinates=u,this.instancesSelection=a,this._screenType=d,this.pixiContainer.addChild(this.rectanglesContainer),this._makeButton(this.resizeButton,function(e){n.onResize(e.deltaX,e.deltaY)},function(){n.onResizeEnd()},"nwse-resize"),this._makeButton(this.rightResizeButton,function(e){n.onResize(e.deltaX,0)},function(){n.onResizeEnd()},"ew-resize"),this._makeButton(this.bottomResizeButton,function(e){n.onResize(0,e.deltaY)},function(){n.onResizeEnd()},"ns-resize"),this._makeButton(this.rotateButton,function(e){n.onRotate(e.deltaX,e.deltaY)},function(){n.onRotateEnd()},'url("res/actions/rotate24.png"),auto')}return Object(o.a)(e,[{key:"setScreenType",value:function(e){this._screenType=e}},{key:"_makeButton",value:function(e,t,n,a){e.interactive=!0,e.buttonMode=!0,e.cursor=a,p.a.panable(e),e.on("panmove",t),e.on("panend",n),this.pixiContainer.addChild(e)}},{key:"getPixiContainer",value:function(){return this.pixiContainer}},{key:"_renderButton",value:function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;t.clear(),e?(t.beginFill(16777215),t.lineStyle(1,6842600,1),t.fillAlpha=.9,0===r?t.drawRect(n[0],n[1],a,a):1===r&&t.drawCircle(n[0]+a/2,n[1]+a/2,a/2),t.endFill(),t.hitArea=new R.Rectangle(n[0],n[1],a,a)):t.hitArea=new R.Rectangle(0,0,0,0)}},{key:"render",value:function(){for(var e="touch"===this._screenType?{buttonSize:18,smallButtonSize:13,buttonPadding:5}:{buttonSize:10,smallButtonSize:8,buttonPadding:5},t=e.buttonSize,n=e.smallButtonSize,a=e.buttonPadding,r=this.instancesSelection.getSelectedInstances(),o=0,i=0,s=0,c=0,l=0;l<r.length;l++){if(this.selectedRectangles.length===l){var u=new R.Graphics;u.hitArea=new R.Rectangle(0,0,0,0),this.selectedRectangles.push(u),this.rectanglesContainer.addChild(u)}var d=r[l],p=this.instanceMeasurer.getInstanceRect(d),m=D(this.toCanvasCoordinates,p);this.selectedRectangles[l].clear(),this.selectedRectangles[l].beginFill(6842600),this.selectedRectangles[l].lineStyle(1,6842600,1),this.selectedRectangles[l].fillAlpha=.3,this.selectedRectangles[l].alpha=.8,this.selectedRectangles[l].drawRect(m.x,m.y,m.width,m.height),this.selectedRectangles[l].endFill(),0===l?(o=p.x,i=p.y,s=p.x+p.width,c=p.y+p.height):(p.x<o&&(o=p.x),p.y<i&&(i=p.y),p.x+p.width>s&&(s=p.x+p.width),p.y+p.height>c&&(c=p.y+p.height))}for(;this.selectedRectangles.length>r.length;)this.rectanglesContainer.removeChild(this.selectedRectangles.pop());var h=0!==r.length,f=this.toCanvasCoordinates(s,c);f[0]+=a,f[1]+=a;var g=this.toCanvasCoordinates(s,i+(c-i)/2);g[0]+=a,g[1]-=n/2;var b=this.toCanvasCoordinates(o+(s-o)/2,c);b[0]-=n/2,b[1]+=a;var v=this.toCanvasCoordinates(o+(s-o)/2,i);v[0]-=n/2,v[1]-=4*a,this._renderButton(h,this.resizeButton,f,t),this._renderButton(h,this.rightResizeButton,g,n),this._renderButton(h,this.bottomResizeButton,b,n),this._renderButton(h,this.rotateButton,v,n,1)}}]),e}(),V=function(){function e(t){var n=t.instanceMeasurer,a=t.toCanvasCoordinates;Object(r.a)(this,e),this.instanceMeasurer=n,this.toCanvasCoordinates=a,this.highlightedInstance=null,this.highlightRectangle=new R.Graphics,this.highlightRectangle.hitArea=new R.Rectangle(0,0,0,0),this.tooltipBackground=new R.Graphics,this.tooltipText=new R.Text("",{fontSize:15,fill:16777215,align:"center"}),this.highlightRectangle.addChild(this.tooltipBackground),this.highlightRectangle.addChild(this.tooltipText)}return Object(o.a)(e,[{key:"setInstance",value:function(e){this.highlightedInstance=e}},{key:"getInstance",value:function(){return this.highlightedInstance}},{key:"getPixiObject",value:function(e){return this.highlightRectangle}},{key:"render",value:function(){if(null!==this.highlightedInstance){var e=D(this.toCanvasCoordinates,this.instanceMeasurer.getInstanceRect(this.highlightedInstance));this.highlightRectangle.visible=!0,this.highlightRectangle.clear(),this.highlightRectangle.beginFill(15658751),this.highlightRectangle.fillAlpha=.1,this.highlightRectangle.alpha=.8,this.highlightRectangle.lineStyle(1,0,1),this.highlightRectangle.drawRect(e.x,e.y,e.width,e.height),this.highlightRectangle.endFill();var t=this.highlightedInstance.getObjectName()+"\nX: "+parseInt(this.highlightedInstance.getX())+"  Y: "+parseInt(this.highlightedInstance.getY())+"\nLayer: "+this.highlightedInstance.getLayer()+"  Z: "+this.highlightedInstance.getZOrder()+"\n";this.tooltipText.text=t,this.tooltipText.x=Math.round(e.x-this.tooltipText.width/2+e.width/2),this.tooltipText.y=Math.round(e.y-this.tooltipText.height);this.tooltipBackground.clear(),this.tooltipBackground.beginFill(0,.8),this.tooltipBackground.drawRoundedRect(this.tooltipText.x-5,this.tooltipText.y-5,this.tooltipText.width+10,this.tooltipText.height-5,4),this.tooltipBackground.endFill()}else this.highlightRectangle.visible=!1}}]),e}(),W=n(1641),G=function(){function e(t){var n=t.instanceMeasurer,a=t.options;Object(r.a)(this,e),this.instanceMeasurer=n,this.options=a,this.instanceSizes={},this.totalDeltaX=0,this.totalDeltaY=0}return Object(o.a)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"_roundWidth",value:function(e){return!this.options.snap||!this.options.grid||this.options.gridWidth<=0?Math.max(Math.round(e),1):Math.max(Math.round(e/this.options.gridWidth)*this.options.gridWidth,1)}},{key:"_roundHeight",value:function(e){return!this.options.snap||!this.options.grid||this.options.gridHeight<=0?Math.max(Math.round(e),1):Math.max(Math.round(e/this.options.gridHeight)*this.options.gridHeight,1)}},{key:"_getSizeDeltaX",value:function(e,t){return e&&Math.abs(this.totalDeltaX)<Math.abs(this.totalDeltaY)?t.width/t.height*this.totalDeltaY:this.totalDeltaX}},{key:"_getSizeDeltaY",value:function(e,t){return e&&Math.abs(this.totalDeltaY)<Math.abs(this.totalDeltaX)?t.height/t.width*this.totalDeltaX:this.totalDeltaY}},{key:"resizeBy",value:function(e,t,n,a){this.totalDeltaX+=t,this.totalDeltaY+=n;for(var r=0;r<e.length;r++){var o=e[r];o.hasCustomSize()||(o.setCustomWidth(this.instanceMeasurer.getInstanceWidth(o)),o.setCustomHeight(this.instanceMeasurer.getInstanceHeight(o)));var i=this.instanceSizes[o.ptr];i||(i=this.instanceSizes[o.ptr]={width:o.getCustomWidth(),height:o.getCustomHeight()}),o.setHasCustomSize(!0),o.setCustomWidth(this._roundWidth(i.width+this._getSizeDeltaX(a,i))),o.setCustomHeight(this._roundHeight(i.height+this._getSizeDeltaY(a,i)))}}},{key:"endResize",value:function(){this.instanceSizes={},this.totalDeltaX=0,this.totalDeltaY=0}}]),e}(),z=function(){function e(){Object(r.a)(this,e),this.instanceAngles={},this.totalDeltaX=0,this.totalDeltaY=0}return Object(o.a)(e,[{key:"_getNewAngle",value:function(e,t){var n=180*Math.atan2(this.totalDeltaY,this.totalDeltaX)/Math.PI+t;return e?15*Math.round(n/15):n}},{key:"rotateBy",value:function(e,t,n,a){this.totalDeltaX+=t,this.totalDeltaY+=n;for(var r=0;r<e.length;r++){var o=e[r],i=this.instanceAngles[o.ptr];void 0===i&&(i=this.instanceAngles[o.ptr]=o.getAngle()),o.setAngle(this._getNewAngle(a,i))}}},{key:"endRotate",value:function(){this.instanceAngles={},this.totalDeltaX=0,this.totalDeltaY=0}}]),e}(),H=n(775),Y=function(){function e(t){var n=t.instanceMeasurer,a=t.options;Object(r.a)(this,e),this.instanceMeasurer=n,this.options=a,this.instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0}return Object(o.a)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"_roundXPosition",value:function(e,t){return this.options.snap&&this.options.grid&&!t?Object(H.a)(e,this.options.gridWidth,this.options.gridOffsetX):Math.round(e)}},{key:"_roundYPosition",value:function(e,t){return this.options.snap&&this.options.grid&&!t?Object(H.a)(e,this.options.gridHeight,this.options.gridOffsetY):Math.round(e)}},{key:"_getMoveDeltaX",value:function(e){return e&&Math.abs(this.totalDeltaX)<Math.abs(this.totalDeltaY)?0:this.totalDeltaX}},{key:"_getMoveDeltaY",value:function(e){return e&&Math.abs(this.totalDeltaY)<Math.abs(this.totalDeltaX)?0:this.totalDeltaY}},{key:"moveBy",value:function(e,t,n,a,r){this.totalDeltaX+=t,this.totalDeltaY+=n;for(var o=0;o<e.length;o++){var i=e[o],s=this.instancePositions[i.ptr];s||(s=this.instancePositions[i.ptr]={x:i.getX(),y:i.getY()}),i.setX(this._roundXPosition(s.x+this._getMoveDeltaX(a),r)),i.setY(this._roundYPosition(s.y+this._getMoveDeltaY(a),r))}}},{key:"endMove",value:function(){this.instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0}}]),e}(),K=function(){function e(t){var n=t.viewPosition,a=t.options;Object(r.a)(this,e),this.viewPosition=n,this.options=a,this.pixiGrid=new R.Graphics,this.pixiGrid.hitArea=new R.Rectangle(0,0,0,0)}return Object(o.a)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"getPixiObject",value:function(){return this.pixiGrid}},{key:"render",value:function(){var e=this.options;if(e.grid){this.pixiGrid.visible=!0,this.pixiGrid.clear(),this.pixiGrid.beginFill(6842600),this.pixiGrid.lineStyle(1,6842600,1),this.pixiGrid.fillAlpha=.1,this.pixiGrid.alpha=.8;for(var t=this.viewPosition.toSceneCoordinates(0,0),n=this.viewPosition.toSceneCoordinates(this.viewPosition.getWidth(),this.viewPosition.getHeight()),a=Math.floor(t[0]/e.gridWidth)*e.gridWidth,r=Math.floor(t[1]/e.gridHeight)*e.gridHeight,o=Math.ceil(n[0]/e.gridWidth)*e.gridWidth,i=Math.ceil(n[1]/e.gridHeight)*e.gridHeight,s=a+e.gridOffsetX;s<o;s+=e.gridWidth){var c=this.viewPosition.toCanvasCoordinates(s,r),l=this.viewPosition.toCanvasCoordinates(s,i);this.pixiGrid.moveTo(c[0],c[1]),this.pixiGrid.lineTo(l[0],l[1])}for(var u=r+e.gridOffsetY;u<i;u+=e.gridHeight){var d=this.viewPosition.toCanvasCoordinates(a,u),p=this.viewPosition.toCanvasCoordinates(o,u);this.pixiGrid.moveTo(d[0],d[1]),this.pixiGrid.lineTo(p[0],p[1])}this.pixiGrid.endFill()}else this.pixiGrid.visible=!1}}]),e}(),X=n(238),J=function(){function e(t){var n=t.project,a=t.layout,o=t.toCanvasCoordinates;Object(r.a)(this,e),this.project=n,this.layout=a,this.toCanvasCoordinates=o,this.pixiRectangle=new R.Graphics,this.pixiRectangle.hitArea=new R.Rectangle(0,0,0,0),this.windowRectangle={x:0,y:0,width:this.project.getGameResolutionWidth(),height:this.project.getGameResolutionHeight()}}return Object(o.a)(e,[{key:"getPixiObject",value:function(){return this.pixiRectangle}},{key:"render",value:function(){this.windowRectangle.width=this.project.getGameResolutionWidth(),this.windowRectangle.height=this.project.getGameResolutionHeight();var e=D(this.toCanvasCoordinates,this.windowRectangle);this.pixiRectangle.clear(),this.pixiRectangle.beginFill(0),this.pixiRectangle.lineStyle(1,Object(X.c)(128+this.layout.getBackgroundColorRed()%256,128+this.layout.getBackgroundColorBlue()%256,128+this.layout.getBackgroundColorGreen()%256),1),this.pixiRectangle.alpha=1,this.pixiRectangle.fillAlpha=0,this.pixiRectangle.drawRect(e.x,e.y,e.width,e.height),this.pixiRectangle.endFill()}}]),e}(),Z=function(){function e(t){var n=t.project,a=t.viewPosition,o=t.options;Object(r.a)(this,e),this.project=n,this.viewPosition=a,this.options=o,this.pixiRectangle=new R.Graphics,this.pixiRectangle.hitArea=new R.Rectangle(0,0,0,0),this.windowRectangle={x:0,y:0,width:0,height:0}}return Object(o.a)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"getPixiObject",value:function(){return this.pixiRectangle}},{key:"render",value:function(){if(this.options.windowMask){var e=this.project.getGameResolutionWidth(),t=this.project.getGameResolutionHeight();this.windowRectangle.x=this.viewPosition.getViewX()-e/2,this.windowRectangle.y=this.viewPosition.getViewY()-t/2,this.windowRectangle.width=e,this.windowRectangle.height=t;var n=D(this.viewPosition.toCanvasCoordinates,this.windowRectangle);this.pixiRectangle.visible=!0,this.pixiRectangle.clear(),this.pixiRectangle.beginFill(0),this.pixiRectangle.lineStyle(1,0,1),this.pixiRectangle.alpha=1,this.pixiRectangle.fillAlpha=0,this.pixiRectangle.drawRect(n.x,n.y,n.width,n.height),this.pixiRectangle.endFill()}else this.pixiRectangle.visible=!1}}]),e}(),q=function(){function e(t){var n=t.layout,a=t.pixiRenderer;Object(r.a)(this,e),this.layout=n,this.pixiRenderer=a}return Object(o.a)(e,[{key:"render",value:function(){this.pixiRenderer.backgroundColor=parseInt(parseInt(Object(X.b)(this.layout.getBackgroundColorRed(),this.layout.getBackgroundColorGreen(),this.layout.getBackgroundColorBlue()),16),10)}}]),e}(),Q=function(){function e(t){Object(r.a)(this,e),this._lastFrameTime=Date.now(),this._interval=1e3/t,this._forceUpdate=!1}return Object(o.a)(e,[{key:"shouldUpdate",value:function(){var e=Date.now(),t=e-this._lastFrameTime;return!!(t>this._interval||this._forceUpdate)&&(this._lastFrameTime=e-t%this._interval,this._forceUpdate=!1,!0)}},{key:"forceNextUpdate",value:function(){this._forceUpdate=!0}}]),e}(),$=function(){var e=R.ticker&&R.ticker.shared;e&&e.stop()},ee=function(){setTimeout(function(){var e=R.ticker&&R.ticker.shared;e&&e.start()},50)},te=n(199),ne=function(){function e(t){var n=t.getLastCursorSceneCoordinates,a=t.width,o=t.height;Object(r.a)(this,e),this._getLastCursorSceneCoordinates=n,this._statusBarContainer=new R.Container,this._statusBarContainer.alpha=.8,this._statusBarContainer.hitArea=new R.Rectangle(0,0,0,0),this._statusBarBackground=new R.Graphics,this._statusBarText=new R.Text("",{fontSize:15,fill:16777215,align:"left"}),this._statusBarContainer.addChild(this._statusBarBackground),this._statusBarContainer.addChild(this._statusBarText),this.resize(a,o)}return Object(o.a)(e,[{key:"resize",value:function(e,t){this._width=e,this._height=t}},{key:"getPixiObject",value:function(){return this._statusBarContainer}},{key:"render",value:function(){var e=this._getLastCursorSceneCoordinates(),t=Object(te.a)(e,2),n=t[0],a=t[1];this._statusBarText.text="".concat(n.toFixed(0),";").concat(a.toFixed(0)),this._statusBarText.position.x=5,this._statusBarText.position.y=Math.round(this._height-5-this._statusBarText.height),this._statusBarBackground.clear(),this._statusBarBackground.beginFill(0,.8),this._statusBarBackground.drawRoundedRect(-4,this._height-10-this._statusBarText.height,this._statusBarText.width+10+4,this._statusBarText.height+10+4,4),this._statusBarBackground.endFill()}}]),e}(),ae=function(){function e(t){var n=t.canvas,a=t.shouldMoveView;Object(r.a)(this,e),this.canvas=n,this.shouldMoveView=a}return Object(o.a)(e,[{key:"render",value:function(){if(this.shouldMoveView())return this.canvas.style.cursor="grab",void("grab"!==this.canvas.style.cursor&&(this.canvas.style.cursor="-webkit-grab"));this.canvas.style.cursor="default"}}]),e}(),re=n(1642),oe=n(713),ie=n(838),se=n(774);n.d(t,"a",function(){return ue});var ce={canvasArea:{flex:1,position:"absolute",overflow:"hidden"},dropCursor:{cursor:"copy"}},le=Object(oe.a)(ie.b),ue=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).lastContextMenuX=0,n.lastContextMenuY=0,n.lastCursorX=0,n.lastCursorY=0,n.fpsLimiter=new Q(28),n.getZoomFactor=function(){return n.props.options.zoomFactor},n.setZoomFactor=function(e){n.props.onChangeOptions({zoomFactor:Math.max(Math.min(e,10),.01)})},n.addInstances=function(e,t){n._instancesAdder.addInstances(e,t)},n._onMouseMove=function(e,t){n.lastCursorX=e,n.lastCursorY=t},n._onBackgroundClicked=function(e,t){n.lastCursorX=e,n.lastCursorY=t,n.pixiRenderer.view.focus(),n.keyboardShortcuts.shouldMoveView()||n.selectionRectangle.startSelectionRectangle(e,t),n.keyboardShortcuts.shouldMultiSelect()||n.keyboardShortcuts.shouldMoveView()||(n.props.instancesSelection.clearSelection(),n.props.onInstancesSelected([]))},n._onPanMove=function(e,t,a,r){if(n.keyboardShortcuts.shouldMoveView()){var o=e/n.getZoomFactor(),i=t/n.getZoomFactor();n.viewPosition.scrollBy(-o,-i),n.props.onViewPositionChanged&&n.props.onViewPositionChanged(n.viewPosition)}else n.selectionRectangle.updateSelectionRectangle(a,r)},n._getLayersVisibility=function(){for(var e=n.props.layout,t={},a=0;a<e.getLayersCount();a++)t[e.getLayerAt(a).getName()]=e.getLayerAt(a).getVisibility();return t},n._onPanEnd=function(){if(n.selectionRectangle.hasStartedSelectionRectangle()){var e=n.selectionRectangle.endSelectionRectangle();n.props.instancesSelection.selectInstances(e,n.keyboardShortcuts.shouldMultiSelect(),n._getLayersVisibility()),e=n.props.instancesSelection.getSelectedInstances(),n.props.onInstancesSelected(e)}},n._onInstanceClicked=function(e){n.pixiRenderer.view.focus()},n._onOverInstance=function(e){n.highlightedInstance.setInstance(e)},n._onDownInstance=function(e){if(!n.keyboardShortcuts.shouldMoveView())if(n.keyboardShortcuts.shouldCloneInstances())for(var t=n.props.instancesSelection.getSelectedInstances(),a=0;a<t.length;a++){var r=t[a];n.props.initialInstances.insertInitialInstance(r)}else n.props.instancesSelection.selectInstance(e,n.keyboardShortcuts.shouldMultiSelect(),n._getLayersVisibility()),n.props.onInstancesSelected&&n.props.onInstancesSelected(n.props.instancesSelection.getSelectedInstances())},n._onOutInstance=function(e){e===n.highlightedInstance.getInstance()&&n.highlightedInstance.setInstance(null)},n._onMoveInstance=function(e,t,a){var r=t/n.getZoomFactor(),o=a/n.getZoomFactor();if(n.keyboardShortcuts.shouldMoveView())return n.viewPosition.scrollBy(-r,-o),void(n.props.onViewPositionChanged&&n.props.onViewPositionChanged(n.viewPosition));n.props.instancesSelection.isInstanceSelected(e)||n._onInstanceClicked(e);var i=n.props.instancesSelection.getSelectedInstances();n.instancesMover.moveBy(i,r,o,n.keyboardShortcuts.shouldFollowAxis(),n.keyboardShortcuts.shouldNotSnapToGrid())},n._onMoveInstanceEnd=function(){n.instancesMover.endMove();var e=n.props.instancesSelection.getSelectedInstances();n.props.onInstancesMoved(e)},n._onResize=function(e,t){var a=e/n.getZoomFactor(),r=t/n.getZoomFactor(),o=n.props.instancesSelection.getSelectedInstances();n.instancesResizer.resizeBy(o,a,r,n.keyboardShortcuts.shouldResizeProportionally())},n._onResizeEnd=function(){n.instancesResizer.endResize();var e=n.props.instancesSelection.getSelectedInstances();n.props.onInstancesResized(e)},n._onRotate=function(e,t){var a=e/n.getZoomFactor(),r=t/n.getZoomFactor(),o=n.props.instancesSelection.getSelectedInstances();n.instancesRotator.rotateBy(o,a,r,n.keyboardShortcuts.shouldResizeProportionally())},n._onRotateEnd=function(){n.instancesRotator.endRotate();var e=n.props.instancesSelection.getSelectedInstances();n.props.onInstancesRotated(e)},n.clearHighlightedInstance=function(){n.highlightedInstance.setInstance(null)},n.moveSelection=function(e,t){var a=n.props.instancesSelection.getSelectedInstances();a.forEach(function(n){n.setX(n.getX()+e),n.setY(n.getY()+t)}),n.props.onInstancesMoved(a)},n.getLastContextMenuSceneCoordinates=function(){return n.viewPosition.toSceneCoordinates(n.lastContextMenuX,n.lastContextMenuY)},n.getLastCursorSceneCoordinates=function(){return n.viewPosition.toSceneCoordinates(n.lastCursorX,n.lastCursorY)},n.getViewPosition=function(){return n.viewPosition},n._renderScene=function(){n._unmounted||n._renderingPaused||(n.fpsLimiter.shouldUpdate()&&(n.backgroundColor.render(),n.viewPosition.render(),n.canvasCursor.render(),n.grid.render(),n.instancesRenderer.render(),n.highlightedInstance.render(),n.selectedInstances.render(),n.selectionRectangle.render(),n.windowBorder.render(),n.windowMask.render(),n.statusBar.render(),n.pixiRenderer.render(n.pixiContainer)),n.nextFrame=requestAnimationFrame(n._renderScene))},n.pauseSceneRendering=function(){n.nextFrame&&cancelAnimationFrame(n.nextFrame),n._renderingPaused=!0,$()},n.restartSceneRendering=function(){n._renderingPaused=!1,n._renderScene(),ee()},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.canvasArea&&!this.pixiRenderer&&this._initializeCanvasAndRenderer()}},{key:"componentDidUpdate",value:function(){this.canvasArea&&!this.pixiRenderer&&this._initializeCanvasAndRenderer()}},{key:"_initializeCanvasAndRenderer",value:function(){var e=this,t=this.props.project;this.pixiRenderer=R.autoDetectRenderer(this.props.width,this.props.height,{antialias:!0}),this.canvasArea.appendChild(this.pixiRenderer.view),this.pixiRenderer.view.addEventListener("contextmenu",function(t){return t.preventDefault(),e.lastContextMenuX=t.offsetX,e.lastContextMenuY=t.offsetY,e.props.onContextMenu&&e.props.onContextMenu(t.clientX,t.clientY),!1}),this.pixiRenderer.view.onmousewheel=function(t){e.keyboardShortcuts.shouldZoom()?e.zoomBy(t.wheelDelta/5e3):e.keyboardShortcuts.shouldScrollHorizontally()?e.viewPosition.scrollBy(-t.wheelDelta/10,0):e.viewPosition.scrollBy(t.deltaX/10,t.deltaY/10),e.props.onViewPositionChanged&&e.props.onViewPositionChanged(e.viewPosition),t.preventDefault()},this.pixiRenderer.view.setAttribute("tabIndex",-1),this.pixiRenderer.view.addEventListener("focus",function(t){e.keyboardShortcuts.focus()}),this.pixiRenderer.view.addEventListener("blur",function(t){e.keyboardShortcuts.blur()}),this.pixiRenderer.view.addEventListener("mouseover",function(t){e.keyboardShortcuts.focus()}),this.pixiRenderer.view.addEventListener("mouseout",function(t){e.keyboardShortcuts.blur()}),this.pixiContainer=new R.Container,this.backgroundArea=new R.Container,this.backgroundArea.hitArea=new R.Rectangle(0,0,this.props.width,this.props.height),p.a.panable(this.backgroundArea),this.backgroundArea.on("mousedown",function(t){return e._onBackgroundClicked(t.data.global.x,t.data.global.y)}),this.backgroundArea.on("touchstart",function(t){Object(se.b)(t.data&&t.data.originalEvent)||e._onBackgroundClicked(t.data.global.x,t.data.global.y)}),this.backgroundArea.on("mousemove",function(t){return e._onMouseMove(t.data.global.x,t.data.global.y)}),this.backgroundArea.on("panmove",function(t){return e._onPanMove(t.deltaX,t.deltaY,t.data.global.x,t.data.global.y)}),this.backgroundArea.on("panend",function(t){return e._onPanEnd()}),this.pixiContainer.addChild(this.backgroundArea),this.viewPosition=new A.a({initialViewX:t?t.getGameResolutionWidth()/2:0,initialViewY:t?t.getGameResolutionHeight()/2:0,width:this.props.width,height:this.props.height,options:this.props.options}),this.pixiContainer.addChild(this.viewPosition.getPixiContainer()),this.grid=new K({viewPosition:this.viewPosition,options:this.props.options}),this.pixiContainer.addChild(this.grid.getPixiObject()),this.keyboardShortcuts=new M({onDelete:this.props.onDeleteSelection,onMove:this.moveSelection,onCopy:this.props.onCopy,onCut:this.props.onCut,onPaste:this.props.onPaste,onUndo:this.props.onUndo,onRedo:this.props.onRedo,onZoomOut:this.props.onZoomOut,onZoomIn:this.props.onZoomIn}),this.pinchHandler=new se.a({canvas:this.pixiRenderer.view,setZoomFactor:this.setZoomFactor,getZoomFactor:this.getZoomFactor,viewPosition:this.viewPosition}),this.canvasCursor=new ae({canvas:this.canvasArea,shouldMoveView:function(){return e.keyboardShortcuts.shouldMoveView()}}),this._instancesAdder=new re.a({instances:this.props.initialInstances,options:this.props.options}),this._mountEditorComponents(this.props),this._renderScene()}},{key:"forceRemount",value:function(){this._mountEditorComponents(this.props)}},{key:"_mountEditorComponents",value:function(e){this.highlightedInstance&&this.pixiContainer.removeChild(this.highlightedInstance.getPixiObject()),this.selectedInstances&&this.pixiContainer.removeChild(this.selectedInstances.getPixiContainer()),this.instancesRenderer&&(this.viewPosition.getPixiContainer().removeChild(this.instancesRenderer.getPixiContainer()),this.instancesRenderer.delete()),this.selectionRectangle&&(this.pixiContainer.removeChild(this.selectionRectangle.getPixiObject()),this.selectionRectangle.delete()),this.windowBorder&&this.pixiContainer.removeChild(this.windowBorder.getPixiObject()),this.windowMask&&this.pixiContainer.removeChild(this.windowMask.getPixiObject()),this.statusBar&&this.pixiContainer.removeChild(this.statusBar.getPixiObject()),this.backgroundColor=new q({layout:e.layout,pixiRenderer:this.pixiRenderer}),this.instancesRenderer=new L({project:e.project,layout:e.layout,instances:e.initialInstances,viewPosition:this.viewPosition,onOverInstance:this._onOverInstance,onMoveInstance:this._onMoveInstance,onMoveInstanceEnd:this._onMoveInstanceEnd,onDownInstance:this._onDownInstance,onOutInstance:this._onOutInstance,onInstanceClicked:this._onInstanceClicked}),this.selectionRectangle=new W.a({instances:e.initialInstances,instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toSceneCoordinates:this.viewPosition.toSceneCoordinates}),this.selectedInstances=new U({instancesSelection:this.props.instancesSelection,onResize:this._onResize,onResizeEnd:this._onResizeEnd,onRotate:this._onRotate,onRotateEnd:this._onRotateEnd,instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toCanvasCoordinates:this.viewPosition.toCanvasCoordinates,screenType:this.props.screenType}),this.highlightedInstance=new V({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toCanvasCoordinates:this.viewPosition.toCanvasCoordinates}),this.instancesResizer=new G({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),options:this.props.options}),this.instancesRotator=new z,this.instancesMover=new Y({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),options:this.props.options}),this.windowBorder=new J({project:e.project,layout:e.layout,toCanvasCoordinates:this.viewPosition.toCanvasCoordinates}),this.windowMask=new Z({project:e.project,viewPosition:this.viewPosition,options:this.props.options}),this.statusBar=new ne({width:this.props.width,height:this.props.height,getLastCursorSceneCoordinates:this.getLastCursorSceneCoordinates}),this.pixiContainer.addChild(this.selectionRectangle.getPixiObject()),this.viewPosition.getPixiContainer().addChild(this.instancesRenderer.getPixiContainer()),this.pixiContainer.addChild(this.windowBorder.getPixiObject()),this.pixiContainer.addChild(this.windowMask.getPixiObject()),this.pixiContainer.addChild(this.selectedInstances.getPixiContainer()),this.pixiContainer.addChild(this.highlightedInstance.getPixiObject()),this.pixiContainer.addChild(this.statusBar.getPixiObject())}},{key:"componentWillUnmount",value:function(){this._unmounted=!0,this.keyboardShortcuts.unmount(),this.selectionRectangle.delete(),this.instancesRenderer.delete(),this._instancesAdder.unmount(),this.pinchHandler.unmount(),this.nextFrame&&cancelAnimationFrame(this.nextFrame),$()}},{key:"componentWillReceiveProps",value:function(e){e.width===this.props.width&&e.height===this.props.height||(this.pixiRenderer.resize(e.width,e.height),this.viewPosition.resize(e.width,e.height),this.statusBar.resize(e.width,e.height),this.backgroundArea.hitArea=new R.Rectangle(0,0,e.width,e.height),this.fpsLimiter.forceNextUpdate(),this._renderScene()),e.options!==this.props.options&&(this.grid.setOptions(e.options),this.instancesMover.setOptions(e.options),this.instancesResizer.setOptions(e.options),this.windowMask.setOptions(e.options),this.viewPosition.setOptions(e.options),this._instancesAdder.setOptions(e.options)),e.screenType!==this.props.screenType&&this.selectedInstances.setScreenType(this.props.screenType),this.props.layout===e.layout&&this.props.initialInstances===e.initialInstances&&this.props.project===e.project||this._mountEditorComponents(e),e.pauseRendering&&!this.props.pauseRendering&&this.pauseSceneRendering(),!e.pauseRendering&&this.props.pauseRendering&&this.restartSceneRendering()}},{key:"resetRenderersFor",value:function(e){this.instancesRenderer&&this.instancesRenderer.resetRenderersFor(e)}},{key:"zoomBy",value:function(e){this.setZoomFactor(this.getZoomFactor()+e)}},{key:"scrollTo",value:function(e,t){this.viewPosition.scrollTo(e,t)}},{key:"centerView",value:function(){var e=this.props.project.getGameResolutionWidth()/2,t=this.props.project.getGameResolutionHeight()/2;this.viewPosition.scrollTo(e,t)}},{key:"centerViewOn",value:function(e){e.length&&(this.viewPosition.scrollToInstance(e[e.length-1]),this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition))}},{key:"render",value:function(){var e=this;return this.props.project?u.a.createElement(le,{canDrop:function(){return!0},hover:function(t){var n=e._instancesAdder,a=e.viewPosition,r=e.canvasArea;if(n&&r&&a){var o=t.getClientOffset(),i=o.x,s=o.y,c=r.getBoundingClientRect(),l=a.toSceneCoordinates(i-c.left,s-c.top);n.createOrUpdateTemporaryInstancesFromObjectNames(l,e.props.selectedObjectNames)}},drop:function(t){var n=e._instancesAdder,a=e.viewPosition,r=e.canvasArea;if(n&&r&&a)if(t.didDrop())n.deleteTemporaryInstances();else{var o=t.getClientOffset(),i=o.x,s=o.y,c=r.getBoundingClientRect(),l=a.toSceneCoordinates(i-c.left,s-c.top);n.updateTemporaryInstancePositions(l),n.commitTemporaryInstances(),e.props.onInstancesAdded()}}},function(t){var n=t.connectDropTarget,r=t.isOver;return e._instancesAdder&&!r&&e._instancesAdder.deleteTemporaryInstances(),n(u.a.createElement("div",{ref:function(t){return e.canvasArea=t},style:Object(a.a)({},ce.canvasArea,e.props.showDropCursor?ce.dropCursor:void 0)}))}):null}}]),t}(l.Component)},2097:function(e,t,n){"use strict";var a=n(102),r=n(83),o=n(5),i=n(11),s=n(22),c=n(21),l=n(23),u=n(78),d=n(10),p=n.n(d),m=n(143),h=n(189),f=n(144),g=n(96),b={handleColumn:{width:24,paddingLeft:8,paddingRight:0},effectsColumn:{width:100,textAlign:"center"},toolColumn:{width:96}},v=n(349),E=n(289),y=n.n(E),j=n(290),O=n.n(j),C=n(105),x=n(190),T=n.n(x),S=n(98),k=n(88),w=n(415),N=n(100),_=n(92),P=n(80),I=n(122),B=n(123),M=n(90),F=n(97),R=n(167),L=n(318),A=n.n(L),D=n(113),U=n(170),V=n(151),W=n.n(V),G=n(243),z=n(266),H=n(180),Y=n(205),K=n(199);var X=n(142),J=n(188),Z=n.n(J),q=function(e){var t=e.getCurrentPlatform().getAllPlatformExtensions();return Z()(Object(g.mapFor)(0,t.size(),function(e){var n=t.at(e);return n.getExtensionEffectTypes().toJSArray().map(function(e){return n.getEffectMetadata(e)}).map(function(e){var t=e.getType(),a=e.getProperties(),r=a.keys().toJSArray().map(function(e){var n=a.get(e),r=n.getType().toLowerCase(),o=n.getLabel(),i=n.getDescription(),s=function(){return o},c=function(){return i},l=function(){return e};if("number"===r)return{name:e,valueType:"number",getValue:function(t){return t.getDoubleParameter(e)},setValue:function(t,n){return t.setDoubleParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:l};if("boolean"===r)return{name:e,valueType:"boolean",getValue:function(t){return t.getBooleanParameter(e)},setValue:function(t,n){return t.setBooleanParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:l};if("resource"===r){var u=n.getExtraInfo().toJSArray()[0]||"";return{name:e,valueType:"resource",resourceKind:u,getValue:function(t){return t.getStringParameter(e)},setValue:function(t,n){return t.setStringParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:l}}return"color"===r?{name:e,valueType:"color",getValue:function(t){return t.getStringParameter(e)},setValue:function(t,n){return t.setStringParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:l}:(console.error("A property with type=".concat(r," could not be mapped to a field for effect ").concat(t,". Ensure that this type is correct.")),null)}).filter(Boolean);return{extension:n,type:t,effectMetadata:e,fullName:e.getFullName(),description:e.getDescription(),parametersSchema:r}})}))},Q=function(e,t){e.clearParameters();var n=t.getProperties();n.keys().toJSArray().forEach(function(t){var a=n.get(t),r=a.getType().toLowerCase();"number"===r?e.setDoubleParameter(t,parseFloat(a.getValue())||0):"boolean"===r?e.setBooleanParameter(t,"true"===a.getValue()):e.setStringParameter(t,a.getValue())})},$=function(e,t){return e.find(function(e){return e.type===t})};function ee(e){var t=e.effectsContainer,n=e.onEffectsUpdated,a=d.useContext(X.b),r=a.values.showEffectParameterNames,o=a.setShowEffectParameterNames,i=d.useMemo(function(){return q(e.project)},[]),s=function(){var e=d.useState(),t=Object(K.a)(e,2)[1];return d.useCallback(function(){return t({})},[])}(),c=function(){var e=Object(f.a)("Effect",function(e){return t.hasEffectNamed(e)});t.insertNewEffect(e,t.getEffectsCount()),s(),n()};return d.createElement(u.I18n,null,function(a){var l=a.i18n;return d.createElement(P.a,{noMargin:!0,expand:!0},d.createElement(P.b,null,d.createElement(P.a,null,d.createElement(z.a,{identifier:"effects-usage",kind:"info"},d.createElement(u.Trans,{id:"Effects can change how the layer is rendered on screen. After adding an effect, set up its parameters. Launch a preview to see the result. Using the events and the name of the effect, you can change the parameters during the game."})))),t.getEffectsCount()>3&&d.createElement(P.b,null,d.createElement(P.a,null,d.createElement(z.a,{identifier:"too-much-effects",kind:"warning"},d.createElement(u.Trans,{id:"Using a lot of effects can have a severe negative impact on the rendering performance, especially on low-end or mobile devices. Consider using less effects if possible. You can also disable and re-enable effects as needed using events."})))),Object(g.mapFor)(0,t.getEffectsCount(),function(a){var c=t.getEffectAt(a),p=c.getEffectType(),m=$(i,p);return d.createElement(d.Fragment,{key:a},d.createElement(U.b,null,d.createElement(U.a,null,d.createElement(u.Trans,{id:"Effect name:"})),d.createElement(D.a,{margin:"none",commitOnBlur:!0,hintText:{id:"Enter the effect name"},value:c.getName(),onChange:function(e){e!==c.getName()&&(c.setName(e),s(),n())},fullWidth:!0}),d.createElement(U.a,null,d.createElement(u.Trans,{id:"Type:"})),d.createElement(I.a,{margin:"none",value:p,onChange:function(e,t,a){return function(e,t){e.setEffectType(t);var a=$(i,t);a&&Q(e,a.effectMetadata),s(),n()}(c,a)},fullWidth:!0,hintText:{id:"Choose the effect to apply"}},i.map(function(e){return d.createElement(B.a,{key:e.type,value:e.type,primaryText:e.fullName})})),d.createElement(R.a,{element:d.createElement(C.a,null,d.createElement(A.a,null)),buildMenuTemplate:function(){return[{label:l._({id:"Delete"}),click:function(){return e=c.getName(),t.removeEffect(e),s(),void n();var e}},{type:"separator"},{type:"checkbox",label:"Show Parameter Names",checked:r,click:function(){return o(!r)}}]}})),d.createElement(P.b,{expand:!0,noMargin:!0},d.createElement(P.a,{expand:!0},p&&m?d.createElement(d.Fragment,null,d.createElement(P.b,null,d.createElement(H.a,null,d.createElement(Y.a,{source:m.description}))),d.createElement(G.a,{instances:[c],schema:m.parametersSchema,project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,renderExtraDescriptionText:r?function(e){return l._({id:"Parameter name in events: `{parameterName}`",values:{parameterName:e}})}:void 0})):null)))}),0===t.getEffectsCount()?d.createElement(F.a,null,d.createElement(u.Trans,{id:"No effects applied."})):null,d.createElement(P.a,null,d.createElement(P.b,{justifyContent:"flex-end",alignItems:"center",expand:!0},d.createElement(M.a,{primary:!0,label:d.createElement(u.Trans,{id:"Add an effect"}),onClick:c,labelPosition:"before",icon:d.createElement(W.a,null)}))))})}var te=n(119),ne=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.onApply,r=t.effectsContainer;return d.createElement(_.a,{noMargin:!0,secondaryActions:[d.createElement(te.a,{key:"help",helpPagePath:"/interface/scene-editor/layer-effects"})],actions:[d.createElement(k.a,{label:d.createElement(u.Trans,{id:"Ok"}),primary:!0,keyboardFocused:!0,onClick:a,key:"Apply"})],modal:!0,open:!0,onRequestClose:a,title:d.createElement(u.Trans,{id:"Effects"})},d.createElement(ee,{project:n,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,effectsContainer:r,onEffectsUpdated:function(){return e.forceUpdate()}}))}}]),t}(d.Component),ae=n(280),re=function(e){var t=e.layout,n=e.onBackgroundColorChanged;return p.a.createElement(N.a,null,function(e){return p.a.createElement(m.e,{style:{backgroundColor:e.list.itemsBackgroundColor}},p.a.createElement(m.f,{style:b.handleColumn}),p.a.createElement(m.f,null,p.a.createElement(S.b,{hintText:{id:"Background color"},margin:"none",disabled:!0})),p.a.createElement(m.f,{style:b.effectsColumn},p.a.createElement(ae.a,{disableAlpha:!0,color:{r:t.getBackgroundColorRed(),g:t.getBackgroundColorGreen(),b:t.getBackgroundColorBlue(),a:255},onChangeComplete:function(e){t.setBackgroundColor(e.rgb.r,e.rgb.g,e.rgb.b),n()}})),p.a.createElement(m.f,{style:b.toolColumn}))})};n.d(t,"a",function(){return ce});var oe=Object(h.SortableElement)(function(e){var t=e.layerName,n=e.nameError,a=e.onBlur,r=e.onRemove,o=e.isVisible,i=e.effectsCount,s=e.onEditEffects,c=e.onChangeVisibility;return p.a.createElement(N.a,null,function(e){return p.a.createElement(m.e,{style:{backgroundColor:e.list.itemsBackgroundColor}},p.a.createElement(m.f,{style:b.handleColumn},p.a.createElement(w.a,null)),p.a.createElement(m.f,null,p.a.createElement(S.b,{margin:"none",defaultValue:t||"Base layer",id:t,errorText:n?p.a.createElement(u.Trans,{id:"This name is already taken"}):void 0,disabled:!t,onBlur:a})),p.a.createElement(m.f,{style:b.effectsColumn},p.a.createElement(k.a,{label:0===i?p.a.createElement(u.Trans,{id:"Add effect"}):p.a.createElement(u.Trans,{id:"{effectsCount} effect(s)",values:{effectsCount:i}}),onClick:s})),p.a.createElement(m.f,{style:b.toolColumn},p.a.createElement(v.a,{checked:o,checkedIcon:p.a.createElement(y.a,null),uncheckedIcon:p.a.createElement(O.a,null),onCheck:function(e,t){return c(t)}}),p.a.createElement(C.a,{onClick:r,disabled:!t},p.a.createElement(T.a,null))))})}),ie=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={nameErrors:{}},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.layersContainer,o=t.onEditEffects,i=n.getLayersCount(),s=Object(g.mapReverseFor)(0,i,function(t){var s=n.getLayerAt(t),c=s.getName();return p.a.createElement(oe,{index:i-1-t,key:"layer-"+c,layer:s,layerName:c,nameError:e.state.nameErrors[c],effectsCount:s.getEffectsCount(),onEditEffects:function(){return o(s)},onBlur:function(t){var o=t.target.value;if(c!==o){var i=!0;n.hasLayerNamed(o)?i=!1:e.props.onRenameLayer(c,o,function(e){e&&n.getLayer(c).setName(o)}),e.setState({nameErrors:Object(r.a)({},e.state.nameErrors,Object(a.a)({},c,!i))})}},onRemove:function(){e.props.onRemoveLayer(c,function(t){t&&(n.removeLayer(c),e.forceUpdate())})},isVisible:s.getVisibility(),onChangeVisibility:function(t){s.setVisibility(t),e.forceUpdate()}})});return p.a.createElement(m.b,null,s,p.a.createElement(re,{layout:n,onBackgroundColorChanged:function(){return e.forceUpdate()}}))}}]),t}(d.Component),se=Object(h.SortableContainer)(ie);se.muiName="TableBody";var ce=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={effectsEditedLayer:null},n._editEffects=function(e){n.setState({effectsEditedLayer:e})},n._addLayer=function(){var e=n.props.layersContainer,t=Object(f.a)("Layer",function(t){return e.hasLayerNamed(t)});e.insertNewLayer(t,e.getLayersCount()),n.forceUpdate()},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"shouldComponentUpdate",value:function(e){return!e.freezeUpdate}},{key:"render",value:function(){var e=this,t=this.props.project,n=this.state.effectsEditedLayer,a=this.props.layersContainer.ptr;return p.a.createElement(p.a.Fragment,null,p.a.createElement(m.a,null,p.a.createElement(m.c,null,p.a.createElement(m.e,null,p.a.createElement(m.d,{style:b.handleColumn}),p.a.createElement(m.d,null,"Layer name"),p.a.createElement(m.d,{style:b.effectsColumn},"Effects"),p.a.createElement(m.f,{style:b.toolColumn}))),p.a.createElement(se,{key:a,layersContainer:this.props.layersContainer,onEditEffects:function(t){return e._editEffects(t)},onRemoveLayer:this.props.onRemoveLayer,onRenameLayer:this.props.onRenameLayer,onSortEnd:function(t){var n=t.oldIndex,a=t.newIndex,r=e.props.layersContainer.getLayersCount();e.props.layersContainer.moveLayer(r-1-n,r-1-a),e.forceUpdate()},helperClass:"sortable-helper",useDragHandle:!0})),p.a.createElement(P.a,null,p.a.createElement(P.b,{justifyContent:"flex-end",expand:!0},p.a.createElement(M.a,{label:p.a.createElement(u.Trans,{id:"Add a layer"}),primary:!0,onClick:this._addLayer,labelPosition:"before",icon:p.a.createElement(W.a,null)}))),n&&p.a.createElement(ne,{project:t,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,effectsContainer:n,onApply:function(){return e.setState({effectsEditedLayer:null})}}))}}]),t}(d.Component)},2098:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(88),p=n(195),m=n(103),h=n(92),f=n(119),g=n(557),b=function(e){return u.a.createElement(g.a,Object.assign({},e,{viewBox:"0 -3 24 24"}),u.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},u.a.createElement("g",{id:"Create",fillRule:"nonzero"},u.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"24 8 18 2 18 6 14 6 14 10 18 10 18 14"}),u.a.createElement("g",{id:"Group-2",fill:"#27AAE1"},u.a.createElement("rect",{id:"Rectangle-path",transform:"translate(2.999518, 3.574897) rotate(-45.000000) translate(-2.999518, -3.574897) ",x:"1.58553176",y:"0.746924118",width:"2.82797288",height:"5.65594576"}),u.a.createElement("rect",{id:"Rectangle-path",transform:"translate(10.999518, 11.574897) rotate(-45.000000) translate(-10.999518, -11.574897) ",x:"9.58553176",y:"8.74692412",width:"2.82797288",height:"5.65594576"}),u.a.createElement("rect",{id:"Rectangle-path",transform:"translate(2.999518, 11.574897) rotate(-135.000000) translate(-2.999518, -11.574897) ",x:"1.58553176",y:"8.74692412",width:"2.82797288",height:"5.65594576"}),u.a.createElement("rect",{id:"Rectangle-path",transform:"translate(10.999518, 3.574897) rotate(-135.000000) translate(-10.999518, -3.574897) ",x:"9.58553176",y:"0.746924118",width:"2.82797288",height:"5.65594576"})))))},v=function(e){return u.a.createElement(g.a,Object.assign({},e,{viewBox:"0 -6 24 24"}),u.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},u.a.createElement("g",{id:"Step",fillRule:"nonzero"},u.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"7.5 4.5 3 0 3 3 0 3 0 6 3 6 3 9"}),u.a.createElement("circle",{id:"Oval",fill:"#27AAE1",cx:"12",cy:"4.5",r:"3"}),u.a.createElement("circle",{id:"Oval",fill:"#FFFFFF",cx:"12",cy:"4.5",r:"1.5"}),u.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"24 4.5 19.5 0 19.5 3 16.5 3 16.5 6 19.5 6 19.5 9"}))))},E=function(e){return u.a.createElement(g.a,Object.assign({},e,{viewBox:"0 -3 24 24"}),u.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},u.a.createElement("g",{id:"Destroy",transform:"translate(0.000000, -1.000000)",fillRule:"nonzero"},u.a.createElement("g",{id:"Group",transform:"translate(0.000000, 1.000000)"},u.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"9.92307692 7.07692308 4.38461538 1.53846154 4.38461538 5.23076923 0.692307692 5.23076923 0.692307692 8.92307692 4.38461538 8.92307692 4.38461538 12.6153846"}),u.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(10.845138, 3.385446) rotate(-45.000000) translate(-10.845138, -3.385446) ",x:"9.53992021",y:"0.77500965",width:"2.6104365",height:"5.22087301"}),u.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(18.229754, 10.770062) rotate(-45.000000) translate(-18.229754, -10.770062) ",x:"16.9245356",y:"8.15962503",width:"2.6104365",height:"5.22087301"}),u.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(10.846985, 10.770246) rotate(-135.000000) translate(-10.846985, -10.770246) ",x:"9.54176636",y:"8.15980965",width:"2.6104365",height:"5.22087301"}),u.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(18.231600, 3.385631) rotate(-135.000000) translate(-18.231600, -3.385631) ",x:"16.9263817",y:"0.775194265",width:"2.6104365",height:"5.22087301"})),u.a.createElement("g",{id:"Group",opacity:"0.1",transform:"translate(2.538462, 0.692308)"},u.a.createElement("rect",{id:"Rectangle-path",fill:"#000000",transform:"translate(7.616400, 11.768538) rotate(135.000000) translate(-7.616400, -11.768538) ",x:"5.98441565",y:"10.4633202",width:"3.2639687",height:"2.6104365"}),u.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"7.38461538 7.38461538 1.83645766 1.87268753 1.83645766 3.7132995 6.46153846 8.30769231"}),u.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(8.308523, 3.693323) rotate(-135.000000) translate(-8.308523, -3.693323) ",x:"5.69808657",y:"2.38810482",width:"5.22087301",height:"2.6104365"}),u.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(15.693138, 11.077938) rotate(-135.000000) translate(-15.693138, -11.077938) ",x:"13.082702",y:"9.77272021",width:"5.22087301",height:"2.6104365"}),u.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(9.460009, 9.922714) rotate(45.000000) translate(-9.460009, -9.922714) ",x:"8.15479058",y:"8.94333902",width:"2.6104365",height:"1.95875045"}),u.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(15.693138, 3.693323) rotate(-135.000000) translate(-15.693138, -3.693323) ",x:"14.3879202",y:"1.08288657",width:"2.6104365",height:"5.22087301"})))))},y=function(e){return u.a.createElement(g.a,e,u.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},u.a.createElement("g",{id:"Function",fillRule:"nonzero"},u.a.createElement("path",{d:"M24,14.5714286 L24,9.42857143 L21.948,9.42857143 C21.7045714,8.48742857 21.336,7.59942857 20.8525714,6.78342857 L22.3028571,5.33314286 L18.6668571,1.69542857 L17.2165714,3.14571429 C16.4005714,2.664 15.5125714,2.29371429 14.5714286,2.05028571 L14.5714286,0 L9.42857143,0 L9.42857143,2.052 C8.48742857,2.29542857 7.59942857,2.664 6.78342857,3.14742857 L5.33314286,1.69714286 L1.69714286,5.33314286 L3.14742857,6.78342857 C2.66571429,7.59942857 2.29542857,8.48742857 2.052,9.42857143 L0,9.42857143 L0,14.5714286 L2.052,14.5714286 C2.29542857,15.5125714 2.664,16.4005714 3.14742857,17.2165714 L1.69714286,18.6668571 L5.33314286,22.3045714 L6.78342857,20.8542857 C7.59942857,21.336 8.48742857,21.7062857 9.42857143,21.9497143 L9.42857143,24 L14.5714286,24 L14.5714286,21.948 C15.5125714,21.7045714 16.4005714,21.336 17.2165714,20.8525714 L18.6668571,22.3028571 L22.3028571,18.6651429 L20.8525714,17.2148571 C21.3342857,16.3988571 21.7045714,15.5108571 21.948,14.5697143 L24,14.5697143 L24,14.5714286 Z",id:"Shape",fill:"#27AAE1"}),u.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"17.1428571 7.71428571 10.2857143 11.1428571 10.2857143 12 12 12.8571429 15.4285714 11.1428571 15.4285714 13.7142857 12 15.456 8.57142857 13.7142857 8.57142857 10.2857143 12 8.57142857 15.4285714 6.85714286 12 5.14285714 5.14285714 8.57142857 5.14285714 15.4285714 12 18.8571429 17.5714286 16.0714286 18.8571429 15.4285714 18.8571429 15 18.8571429 8.57142857"}),u.a.createElement("g",{id:"Group",opacity:"0.1"},u.a.createElement("path",{d:"M3.14571429,6.78342857 C2.664,7.59942857 2.29371429,8.48742857 2.05028571,9.42857143 L0,9.42857143 L0,14.5714286 L2.052,14.5714286 C2.29542857,15.5125714 2.664,16.4005714 3.14742857,17.2165714 L1.69714286,18.6668571 L5.33314286,22.3045714 L6.78342857,20.8542857 C7.59942857,21.336 8.48742857,21.7062857 9.42857143,21.9497143 L9.42857143,24 L14.5714286,24 L14.5714286,21.948 C15.5125714,21.7045714 16.4005714,21.336 17.2165714,20.8525714 L18.6668571,22.3028571 L20.4857143,20.484 L3.51428571,3.51428571 L1.69714286,5.33314286 L3.14571429,6.78342857 Z",id:"Shape",fill:"#000000"}),u.a.createElement("path",{d:"M22.3028571,18.6668571 L20.8525714,17.2165714 C21.3342857,16.4005714 21.7045714,15.5125714 21.948,14.5714286 L24,14.5714286 L24,9.42857143 L21.948,9.42857143 C21.7045714,8.48742857 21.336,7.59942857 20.8525714,6.78342857 L22.3028571,5.33314286 L18.6668571,1.69542857 L17.2165714,3.14571429 C16.4005714,2.664 15.5125714,2.29371429 14.5714286,2.05028571 L14.5714286,0 L9.42857143,0 L9.42857143,2.052 C8.48742857,2.29542857 7.59942857,2.664 6.78342857,3.14742857 L5.33314286,1.69714286 L3.51428571,3.51428571 L20.484,20.484 L22.3028571,18.6668571 Z",id:"Shape",fill:"#FFFFFF"})))))},j=function(e){return u.a.createElement(g.a,Object.assign({},e,{viewBox:"0 -6 24 24"}),u.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},u.a.createElement("g",{id:"Activate",fillRule:"nonzero"},u.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",x:"0",y:"0",width:"24",height:"10.2857143"}),u.a.createElement("rect",{id:"Rectangle-path",fill:"#2B3990",x:"1.71428571",y:"1.71428571",width:"10.2857143",height:"6.85714286"}),u.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"20.5710245 1.71428571 18.8571429 3.42897546 17.1432612 5.14285714 15.4285714 6.85673883 17.1432612 8.57142857 18.8571429 6.85673883 20.5710245 5.14285714 22.2857143 3.42897546"}),u.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"18.8567388 3.42857143 17.1428571 5.14326117 15.4289755 3.42857143 13.7142857 5.14326117 15.4289755 6.85714286 18.8567388 6.85714286 20.5714286 5.14326117"}))))},O=function(e){return u.a.createElement(g.a,Object.assign({},e,{viewBox:"0 -6 24 24"}),u.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},u.a.createElement("g",{id:"Deactivate",fillRule:"nonzero"},u.a.createElement("rect",{id:"Rectangle-path",fill:"#2B3990",x:"0",y:"0",width:"24",height:"10.2857143"}),u.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"6.85673883 1.71428571 5.14285714 3.42897546 3.42897546 1.71428571 1.71428571 3.42897546 3.42897546 5.14285714 1.71428571 6.85673883 3.42897546 8.57142857 5.14285714 6.85673883 6.85673883 8.57142857 8.57142857 6.85673883 6.85673883 5.14285714 8.57142857 3.42897546"}),u.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",x:"12",y:"1.71428571",width:"10.2857143",height:"6.85714286"}))))};n.d(t,"a",function(){return T});var C={icon:{width:40,height:40},disabledItem:{opacity:.6}},x=function(e){var t=e.icon,n=e.disabled,a=e.onChoose,r=e.name,o=e.description;return l.createElement(m.b,{leftIcon:t,primaryText:r,secondaryText:o,secondaryTextLines:2,onClick:function(){return a(r)},style:n?C.disabledItem:void 0,disabled:n})},T=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=[l.createElement(d.a,{label:l.createElement(c.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:function(){return e.props.onCancel()},key:"close"})],n=this.props,a=n.eventsBasedBehavior,r=n.onChoose,o=a.getEventsFunctions();return l.createElement(h.a,{secondaryActions:[l.createElement(f.a,{key:"help",helpPagePath:"/behaviors/events-based-behaviors"})],actions:t,open:!0,noMargin:!0,title:l.createElement(c.Trans,{id:'Choose a new behavior function ("method")'}),onRequestClose:this.props.onCancel},l.createElement(m.a,null,l.createElement(p.a,null,l.createElement(c.Trans,{id:"Main lifecycle methods"})),l.createElement(x,{icon:l.createElement(b,{style:C.icon}),name:"onCreated",disabled:o.hasEventsFunctionNamed("onCreated"),onChoose:r,description:l.createElement(c.Trans,{id:"Events that will be run once, when an object is created with this behavior being attached to it."})}),l.createElement(x,{icon:l.createElement(v,{style:C.icon}),name:"doStepPreEvents",disabled:o.hasEventsFunctionNamed("doStepPreEvents"),onChoose:r,description:l.createElement(c.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), for every object that has the behavior attached, before the events from the events sheet are launched."})}),l.createElement(x,{icon:l.createElement(E,{style:C.icon}),name:"onDestroy",disabled:o.hasEventsFunctionNamed("onOwnerRemovedFromScene")||o.hasEventsFunctionNamed("onDestroy"),onChoose:r,description:l.createElement(c.Trans,{id:"Events that will be run once, after the object is removed from the scene and before it is entirely removed from memory."})}),l.createElement(p.a,null,l.createElement(c.Trans,{id:"Other lifecycle methods"})),l.createElement(x,{icon:l.createElement(O,{style:C.icon}),name:"onDeActivate",disabled:o.hasEventsFunctionNamed("onDeActivate"),onChoose:r,description:l.createElement(c.Trans,{id:"Events that will be run when the behavior is deactivated on an object (step events won't be run until the behavior is activated again)."})}),l.createElement(x,{icon:l.createElement(j,{style:C.icon}),name:"onActivate",disabled:o.hasEventsFunctionNamed("onActivate"),onChoose:r,description:l.createElement(c.Trans,{id:"Events that will be run when the behavior is re-activated on an object (after it was previously deactivated)."})}),l.createElement(x,{icon:l.createElement(v,{style:C.icon}),name:"doStepPostEvents",disabled:o.hasEventsFunctionNamed("doStepPostEvents"),onChoose:r,description:l.createElement(c.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), for every object that has the behavior attached, after the events from the events sheet."})}),l.createElement(p.a,null,l.createElement(c.Trans,{id:"Custom"})),l.createElement(m.b,{leftIcon:l.createElement(y,{style:C.icon}),primaryText:l.createElement(c.Trans,{id:"Custom (action, condition or expression)"}),secondaryText:l.createElement(c.Trans,{id:"An action, condition or expression that can be used on objects that have the behavior attached to them. Use it from the events sheet as any other action/condition/expression."}),secondaryTextLines:2,onClick:function(){return r(null)}})))}}]),t}(l.Component)},2099:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(88),p=n(179),m=n(92),h=n(80),f=n(593),g=n(1064),b=n(153),v=n(1063),E=n.n(v),y=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:40}).size,n=E()(e.trim().toLowerCase());return"https://www.gravatar.com/avatar/".concat(n,"?s=").concat(t,"&d=retro")},j=n(89),O=function(e){var t=e.profile;return t?l.createElement(h.a,null,l.createElement(h.b,{alignItems:"center"},l.createElement(g.a,{src:y(t.email||"",{size:40})}),l.createElement(h.c,null),l.createElement(j.a,{size:"title"},"You are connected as ",t.email)),l.createElement(h.b,null,l.createElement(j.a,null,l.createElement(c.Trans,{id:"An account allows you to access GDevelop services online."})))):l.createElement(b.a,null)},C=n(97),x=n(119),T=n(143),S=n(594),k=n.n(S),w=function(e){var t=e.usages;return l.createElement(h.a,{noMargin:!0},l.createElement(h.b,null,t?0===t.length?l.createElement(C.a,null,l.createElement(c.Trans,{id:"You don't have any usage of the online services for now"})):l.createElement(T.a,null,l.createElement(T.c,null,l.createElement(T.e,null,l.createElement(T.d,null,"Date"),l.createElement(T.d,null,"Type"))),l.createElement(T.b,null,t.map(function(e){return l.createElement(T.e,{key:e.id},l.createElement(T.f,null,k()(e.createdAt,"YYYY-MM-DD HH:mm:ss")),l.createElement(T.f,null,e.type))}))):l.createElement(b.a,null)))},N=n(90),_=function(e){var t=e.subscription,n=e.onChangeSubscription;return t&&t.planId?l.createElement(h.a,null,l.createElement(h.b,null,l.createElement(j.a,null,l.createElement(c.Trans,{id:"You are subscribed to {0}. Congratulations! You have access to more online services, including building your game for Android, Windows, macOS and Linux in one click!",values:{0:t.planId}}))),l.createElement(h.b,{justifyContent:"center"},l.createElement(N.a,{label:l.createElement(c.Trans,{id:"Upgrade/change"}),primary:!0,onClick:n}))):t&&!t.planId?l.createElement(h.a,null,l.createElement(h.b,null,l.createElement(j.a,null,l.createElement(c.Trans,{id:"If you don't have a subscription, consider getting one now. Accounts allow you to access all of the online services. With just one click, you can build your game for Android, Windows, macOS and Linux!"}))),l.createElement(h.b,{justifyContent:"center"},l.createElement(N.a,{label:l.createElement(c.Trans,{id:"Choose a subscription"}),primary:!0,onClick:n}))):l.createElement(b.a,null)},P=n(265);n.d(t,"a",function(){return I});var I=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={currentTab:"profile"},n._onChangeTab=function(e){return n.setState({currentTab:e})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.open,a=t.onClose,r=[u.a.createElement(d.a,{label:u.a.createElement(c.Trans,{id:"Close"}),key:"close",primary:!1,onClick:a})];return u.a.createElement(P.a.Consumer,null,function(t){return u.a.createElement(m.a,{actions:r,secondaryActions:[u.a.createElement(x.a,{key:"help",helpPagePath:"/interface/profile"}),t.authenticated&&u.a.createElement(d.a,{label:u.a.createElement(c.Trans,{id:"Refresh"}),key:"refresh",onClick:t.onRefreshUserProfile}),t.authenticated&&t.profile&&u.a.createElement(d.a,{label:u.a.createElement(c.Trans,{id:"Logout"}),key:"logout",onClick:t.onLogout})],onRequestClose:a,open:n,noMargin:!0},u.a.createElement(p.b,{value:e.state.currentTab,onChange:e._onChangeTab},u.a.createElement(p.a,{label:u.a.createElement(c.Trans,{id:"My Profile"}),value:"profile"}),u.a.createElement(p.a,{label:u.a.createElement(c.Trans,{id:"Online services usage"}),value:"usage"})),"profile"===e.state.currentTab&&(t.authenticated?u.a.createElement(h.a,{noMargin:!0},u.a.createElement(O,{profile:t.profile}),u.a.createElement(_,{subscription:t.subscription,onChangeSubscription:e.props.onChangeSubscription})):u.a.createElement(h.a,null,u.a.createElement(f.a,{onLogin:t.onLogin,onCreateAccount:t.onCreateAccount}))),"usage"===e.state.currentTab&&(t.authenticated?u.a.createElement(h.a,{noMargin:!0},u.a.createElement(w,{usages:t.usages})):u.a.createElement(C.a,null,u.a.createElement(c.Trans,{id:"Register to see the usage that you've made of the online services"}))))})}}]),t}(l.Component)},210:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"f",function(){return h}),n.d(t,"b",function(){return f});var a=n(114),r=n(2),o=n.n(r),i=o()("fs"),s=o()("path"),c=e.gd,l={image:"png,jpg,jpeg,PNG,JPG,JPEG",audio:"wav,mp3,ogg,WAV,MP3,OGG",font:"ttf,ttc,otf,TTF,TTC,OTF",video:"mp4,MP4"},u=function(e,t,n){var a=e.getResourcesManager();a.hasResource(n)&&a.removeResource(n),t.setFile(n),t.setName(n),f(e,t),a.addResource(t),t.delete()},d=function(e,t){var n=a.a.getResourceFullUrl(e,t).substring(7);return-1!==n.indexOf("?cache=")&&(n=n.substring(0,n.lastIndexOf("?cache="))),n},p=function(e,t){var n=s.dirname(e.getProjectFile());return t.includes(n)},m=function(e,t){if(!i||!s)return Promise.resolve(t);var n=s.dirname(e.getProjectFile());return Promise.all(t.map(function(t){if(p(e,t))return t;var a=s.basename(t),r=s.join(n,a);return new Promise(function(e){i.copyFile(t,r,function(n){return e(n?t:r)})})}))},h=function(e,t){if(!i)return"";var n=s.normalize(d(e,t));return i.existsSync(n)?p(e,n)?"":"warning":"error"},f=function(e,t){t instanceof c.ImageResource&&t.setSmooth("nearest"!==e.getScaleMode())}}).call(this,n(1))},2100:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(243),d=n(291),p=n(97),m=n(80),h=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.behavior,n=e.behaviorContent,a=e.project,r=t.getProperties(n.getContent(),a),o=Object(d.a)(r,function(e){return t.getProperties(e.getContent(),a)},function(e,n,r){return t.updateProperty(e.getContent(),n,r,a)});return l.createElement(m.a,null,o.length?l.createElement(u.a,{schema:o,instances:[n]}):l.createElement(p.a,null,l.createElement(c.Trans,{id:"There is nothing to configure for this behavior. You can still use events to interact with the object and this behavior."})))}}]),t}(l.Component),f=n(154),g=n(122),b=n(123),v=n(113),E=n(292),y=n(221),j=n(114),O=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={draggedVertex:null,draggedIndex:-1},n._onVertexDown=function(e,t){n.state.draggedVertex||n.setState({draggedVertex:e,draggedIndex:t})},n._onMouseUp=function(){var e=!!n.state.draggedVertex,t=n.state,a=t.draggedVertex,r=t.draggedIndex;n.setState({draggedVertex:null},function(){e&&n.props.onMoveVertex(r,Math.round(a?a.x:0),Math.round(a?a.y:0))})},n._onMouseMove=function(e){var t=n.props,a=t.offsetX,r=t.offsetY,o=t.polygonOrigin,i=t.width,s=t.height,c=t.zoomFactor,l=n.state.draggedVertex;if(l){var u=n._svg.createSVGPoint();u.x=e.clientX,u.y=e.clientY;var d=n._svg.getScreenCTM().inverse(),p=u.matrixTransform(d);l.x=p.x/c-a-("Center"===o?i/2:0),l.y=p.y/c-r-("Center"===o?s/2:0),n.forceUpdate()}},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"_renderBox",value:function(){var e=this.props,t=e.dimensionA,n=e.dimensionB,a=e.width,r=e.height,o=e.offsetX,i=e.offsetY,s=e.zoomFactor,c=t>0?t:a>0?a:1,u=n>0?n:r>0?r:1;return l.createElement("rect",{key:"boxShape",fill:"rgba(255,0,0,0.75)",strokeWidth:1,x:(o+a/2-c/2)*s,y:(i+r/2-u/2)*s,width:c*s,height:u*s})}},{key:"_renderCircle",value:function(){var e=this.props,t=e.dimensionA,n=e.width,a=e.height,r=e.offsetX,o=e.offsetY,i=e.zoomFactor;return l.createElement("circle",{key:"circleShape",fill:"rgba(255,0,0,0.75)",strokeWidth:1,cx:(r+n/2)*i,cy:(o+a/2)*i,r:(t>0?t:n+a>0?(n+a)/4:1)*i})}},{key:"_renderEdge",value:function(){var e=this.props,t=e.dimensionA,n=e.dimensionB,a=e.width,r=e.height,o=e.offsetX,i=e.offsetY,s=e.zoomFactor,c=(t>0?t:a>0?a:1)/2,u=Math.cos(n*Math.PI/180),d=Math.sin(n*Math.PI/180);return l.createElement("line",{key:"edgeShape",stroke:"rgba(255,0,0,0.75)",strokeWidth:2,x1:(o+a/2-c*u)*s,y1:(i+r/2-c*d)*s,x2:(o+a/2+c*u)*s,y2:(i+r/2+c*d)*s})}},{key:"_renderPolygon",value:function(){var e=this,t=this.props,n=t.vertices,a=t.polygonOrigin,r=t.width,o=t.height,i=t.offsetX,s=t.offsetY,c=t.zoomFactor;return l.createElement(l.Fragment,null,l.createElement("polygon",{key:"polygonShape",fill:"rgba(255,0,0,0.75)",strokeWidth:1,filerule:"evenodd",points:n.map(function(e){return"".concat((e.x+i+("Center"===a?r/2:0))*c,",").concat((e.y+s+("Center"===a?o/2:0))*c)}).join(" ")}),n.map(function(t,n){return l.createElement("circle",{onPointerDown:function(a){return e._onVertexDown(t,n)},key:"vertex-".concat(n),fill:"rgba(150,0,0,0.75)",strokeWidth:1,style:{cursor:"move"},cx:(t.x+i+("Center"===a?r/2:0))*c,cy:(t.y+s+("Center"===a?o/2:0))*c,r:5})}))}},{key:"render",value:function(){var e=this,t=this.props.shape;return l.createElement("svg",{onPointerMove:this._onMouseMove,onPointerUp:this._onMouseUp,ref:function(t){return e._svg=t},width:"100%",height:"100%"},"Box"===t&&this._renderBox(),"Circle"===t&&this._renderCircle(),"Edge"===t&&this._renderEdge(),"Polygon"===t&&this._renderPolygon())}}]),t}(l.Component),C=n(143),x=n(320),T=n.n(x),S=n(105),k=n(100),w=n(417),N=n.n(w),_=n(190),P=n.n(_),I=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"_isPolygonConvex",value:function(e){for(var t=[],n=null,a=null,r=0;r<e.length;r++)n=e[r],a=r+1>=e.length?e[0]:e[r+1],t.push({x:a.x-n.x,y:a.y-n.y});if(t.length<3)return!1;for(var o=t[0].x*t[1].y-t[0].y*t[1].x>0,i=1;i<t.length-1;++i){if(t[i].x*t[i+1].y-t[i].y*t[i+1].x>0!==o)return!1}if(t[t.length-1].x*t[0].y-t[t.length-1].y*t[0].x>0!==o)return!1;for(var s=0;s<e.length-1;++s)for(var c=s+1;c<e.length;++c)if(e[s].x===e[c].x&&e[s].y===e[c].y)return!1;for(var l=!0,u=!0,d=0;d<e.length-1;++d)e[d].x!==e[d+1].x&&(l=!1),e[d].y!==e[d+1].y&&(u=!1);return!l&&!u}},{key:"render",value:function(){var e=this,t=this.props,n=t.vertices,a=t.onChangeVertexX,r=t.onChangeVertexY,o=t.onAdd,i=t.onRemove;return l.createElement(k.a,null,function(t){return l.createElement(C.a,null,l.createElement(C.c,null,l.createElement(C.e,null,l.createElement(C.d,null),l.createElement(C.d,null,"X"),l.createElement(C.d,null,"Y"),l.createElement(C.f,null))),l.createElement(C.b,null,n.map(function(o,s){return l.createElement(C.e,{key:"vertexRow".concat(s),style:{backgroundColor:t.list.itemsBackgroundColor}},l.createElement(C.f,null,!e._isPolygonConvex(n)&&l.createElement(T.a,null)),l.createElement(C.f,null,l.createElement(v.a,{margin:"none",fullWidth:!0,value:o.x.toString(10),onChange:function(e){return a(parseFloat(e)||0,s)},type:"number"})),l.createElement(C.f,null,l.createElement(v.a,{margin:"none",fullWidth:!0,value:o.y.toString(10),onChange:function(e){return r(parseFloat(e)||0,s)},type:"number"})),l.createElement(C.f,null,l.createElement(S.a,{onClick:function(){return i(s)}},l.createElement(P.a,null))))}),l.createElement(C.e,null,l.createElement(C.f,null),l.createElement(C.f,null),l.createElement(C.f,null),l.createElement(C.f,null,l.createElement(S.a,{onClick:o},l.createElement(N.a,null))))))})}}]),t}(l.Component),B=n(89),M=n(266),F=n(137);function R(e){var t=e.properties,n=e.propertyName,a=e.step,r=e.onUpdate;return l.createElement(v.a,{fullWidth:!0,value:t.get(n).getValue(),key:n,floatingLabelText:t.get(n).getLabel(),step:a,onChange:r,type:"number"})}function L(e){var t=e.enabled,n=e.propertyName,a=e.pos,r=e.spacing,o=e.onUpdate;return l.createElement("div",{style:{width:r?"7.5%":"5%"}},l.createElement(f.a,{checked:t,onCheck:function(e,t){return o(t)}}),r&&l.createElement("div",{style:{width:"33%"},key:n+"-space"+a.toString(10)}))}var A=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).resourcesLoader=j.a,n.state={image:""},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"_isBitEnabled",value:function(e,t){return!!(e&1<<t)}},{key:"_enableBit",value:function(e,t,n){return n?e|=1<<t:e&=~(1<<t),e}},{key:"render",value:function(){var e=this,t=this.props,n=t.behavior,a=t.behaviorContent,r=t.project,o=n.getProperties(a.getContent(),r),i=Array(16).fill(null),s=o.get("shape").getValue(),u=parseInt(o.get("layers").getValue(),10),d=parseInt(o.get("masks").getValue(),10);return l.createElement(m.a,null,l.createElement(m.b,null,l.createElement(g.a,{key:"bodyType",fullWidth:!0,floatingLabelText:o.get("bodyType").getLabel(),value:o.get("bodyType").getValue(),onChange:function(t,o,i){n.updateProperty(a.getContent(),"bodyType",i,r),e.forceUpdate()}},[l.createElement(b.a,{key:"dynamic",value:"Dynamic",primaryText:{id:"Dynamic"}}),l.createElement(b.a,{key:"static",value:"Static",primaryText:{id:"Static"}}),l.createElement(b.a,{key:"kinematic",value:"Kinematic",primaryText:{id:"Kinematic"}})])),l.createElement(F.a,null,l.createElement(f.a,{label:o.get("bullet").getLabel(),checked:"true"===o.get("bullet").getValue(),onCheck:function(t,o){n.updateProperty(a.getContent(),"bullet",o?"1":"0",r),e.forceUpdate()}}),l.createElement(f.a,{label:o.get("fixedRotation").getLabel(),checked:"true"===o.get("fixedRotation").getValue(),onCheck:function(t,o){n.updateProperty(a.getContent(),"fixedRotation",o?"1":"0",r),e.forceUpdate()}}),l.createElement(f.a,{label:o.get("canSleep").getLabel(),checked:"true"===o.get("canSleep").getValue(),onCheck:function(t,o){n.updateProperty(a.getContent(),"canSleep",o?"1":"0",r),e.forceUpdate()}})),l.createElement(m.b,null,l.createElement(M.a,{identifier:"physics2-shape-collisions",kind:"info"},l.createElement(c.Trans,{id:'The shape used in the Physics behavior is independent from the collision mask of the object. Be sure to use the "Collision" condition provided by the Physics behavior in the events. The usual "Collision" condition won\'t take into account the shape that you\'ve set up here.'}))),l.createElement(m.b,null,l.createElement(g.a,{fullWidth:!0,floatingLabelText:o.get("shape").getLabel(),value:o.get("shape").getValue(),onChange:function(t,o,i){n.updateProperty(a.getContent(),"shape",i,r),e.forceUpdate()}},l.createElement(b.a,{key:"box",value:"Box",primaryText:{id:"Box"}}),l.createElement(b.a,{key:"circle",value:"Circle",primaryText:{id:"Circle"}}),l.createElement(b.a,{key:"edge",value:"Edge",primaryText:{id:"Edge"}}),l.createElement(b.a,{key:"polygon",value:"Polygon",primaryText:{id:"Polygon"}}))),l.createElement(F.a,null,"Polygon"!==s&&l.createElement(v.a,{fullWidth:!0,value:o.get("Polygon"===s?"PolygonOriginX":"shapeDimensionA").getValue(),key:"shapeDimensionA",floatingLabelText:"Circle"===s?"Radius":"Edge"===s?"Length":"Width",min:0,onChange:function(t){n.updateProperty(a.getContent(),"Polygon"===s?"PolygonOriginX":"shapeDimensionA",t,r),e.forceUpdate()},type:"number"}),"Polygon"!==s&&"Circle"!==s&&l.createElement(v.a,{fullWidth:!0,value:o.get("Polygon"===s?"PolygonOriginY":"shapeDimensionB").getValue(),key:"shapeDimensionB",floatingLabelText:"Edge"===s?"Angle":"Height",min:"Edge"===s?void 0:0,onChange:function(t){n.updateProperty(a.getContent(),"Polygon"===s?"PolygonOriginY":"shapeDimensionB",t,r),e.forceUpdate()},type:"number"}),"Polygon"===s&&l.createElement(g.a,{fullWidth:!0,floatingLabelText:o.get("polygonOrigin").getLabel(),value:o.get("polygonOrigin").getValue(),onChange:function(t,o,i){n.updateProperty(a.getContent(),"polygonOrigin",i,r),e.forceUpdate()}},[l.createElement(b.a,{key:"center",value:"Center",primaryText:{id:"Center"}}),l.createElement(b.a,{key:"origin",value:"Origin",primaryText:{id:"Origin"}}),l.createElement(b.a,{key:"topLeft",value:"TopLeft",primaryText:{id:"Top-Left"}})]),l.createElement(R,{properties:o,propertyName:"shapeOffsetX",step:1,onUpdate:function(t){n.updateProperty(a.getContent(),"shapeOffsetX",t,r),e.forceUpdate()}}),l.createElement(R,{properties:o,propertyName:"shapeOffsetY",step:1,onUpdate:function(t){e.props.behavior.updateProperty(a.getContent(),"shapeOffsetY",t,e.props.project),e.forceUpdate()}})),l.createElement(m.b,null,l.createElement(y.a,{floatingLabelText:l.createElement(c.Trans,{id:"A temporary image to help you visualize the shape/polygon"}),project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:this.resourcesLoader,resourceKind:"image",initialResourceName:"",fullWidth:!0,onChange:function(t){e.setState({image:t}),e.forceUpdate()}})),!this.state.image&&l.createElement(m.b,null,l.createElement(p.a,null,l.createElement(c.Trans,{id:"To preview the shape that the Physics engine will use for this object, choose first a temporary image to use for the preview."}))),this.state.image&&l.createElement(m.b,null,l.createElement("div",{style:{width:"100%"}},l.createElement(E.a,{resourceName:this.state.image,project:this.props.project,resourcesLoader:this.resourcesLoader,renderOverlay:function(t){var i=t.imageWidth,s=t.imageHeight,c=t.imageZoomFactor;return l.createElement(O,{shape:o.get("shape").getValue(),dimensionA:parseFloat(o.get("shapeDimensionA").getValue()),dimensionB:parseFloat(o.get("shapeDimensionB").getValue()),offsetX:parseFloat(o.get("shapeOffsetX").getValue()),offsetY:parseFloat(o.get("shapeOffsetY").getValue()),polygonOrigin:o.get("polygonOrigin").getValue(),vertices:JSON.parse(o.get("vertices").getValue()),width:i,height:s,zoomFactor:c,onMoveVertex:function(t,i,s){var c=JSON.parse(o.get("vertices").getValue());c[t].x=i,c[t].y=s,n.updateProperty(a.getContent(),"vertices",JSON.stringify(c),r),e.forceUpdate()}})}}))),"Polygon"===s&&l.createElement(m.b,null,l.createElement(I,{vertices:JSON.parse(o.get("vertices").getValue()),onChangeVertexX:function(t,i){var s=JSON.parse(o.get("vertices").getValue());s[i].x=t,n.updateProperty(a.getContent(),"vertices",JSON.stringify(s),r),e.forceUpdate()},onChangeVertexY:function(t,i){var s=JSON.parse(o.get("vertices").getValue());s[i].y=t,n.updateProperty(a.getContent(),"vertices",JSON.stringify(s),r),e.forceUpdate()},onAdd:function(){var t=JSON.parse(o.get("vertices").getValue());t.length>=8||(t.push({x:0,y:0}),n.updateProperty(a.getContent(),"vertices",JSON.stringify(t),r),e.forceUpdate())},onRemove:function(t){var i=JSON.parse(o.get("vertices").getValue());i.splice(t,1),n.updateProperty(a.getContent(),"vertices",JSON.stringify(i),r),e.forceUpdate()}})),l.createElement(F.a,null,l.createElement(R,{properties:o,propertyName:"density",step:.1,onUpdate:function(t){n.updateProperty(a.getContent(),"density",parseFloat(t)>0?t:"0",r),e.forceUpdate()}}),l.createElement(R,{properties:o,propertyName:"gravityScale",step:.1,onUpdate:function(t){n.updateProperty(a.getContent(),"gravityScale",t,r),e.forceUpdate()}})),l.createElement(F.a,null,l.createElement(R,{properties:o,propertyName:"friction",step:.1,onUpdate:function(t){n.updateProperty(a.getContent(),"friction",parseFloat(t)>0?t:"0",r),e.forceUpdate()}}),l.createElement(R,{properties:o,propertyName:"restitution",step:.1,onUpdate:function(t){n.updateProperty(a.getContent(),"restitution",parseFloat(t)>0?t:"0",r),e.forceUpdate()}})),l.createElement(F.a,null,l.createElement(R,{properties:o,propertyName:"linearDamping",step:.05,onUpdate:function(t){n.updateProperty(a.getContent(),"linearDamping",t,r),e.forceUpdate()}}),l.createElement(R,{properties:o,propertyName:"angularDamping",step:.05,onUpdate:function(t){n.updateProperty(a.getContent(),"angularDamping",t,r),e.forceUpdate()}})),l.createElement(m.b,null,l.createElement(B.a,null,o.get("layers").getLabel()),i.map(function(t,n){return l.createElement(L,{enabled:e._isBitEnabled(u,n),propertyName:"layers",pos:n,spacing:7===n,onUpdate:function(t){var r=e._enableBit(u,n,t);e.props.behavior.updateProperty(a.getContent(),"layers",r.toString(10),e.props.project),e.forceUpdate()},key:"layer".concat(n)})})),l.createElement(m.b,null,l.createElement(B.a,null,o.get("masks").getLabel()),i.map(function(t,n){return l.createElement(L,{enabled:e._isBitEnabled(d,n),propertyName:"masks",pos:n,spacing:7===n,onUpdate:function(t){var r=e._enableBit(d,n,t);e.props.behavior.updateProperty(a.getContent(),"masks",r.toString(10),e.props.project),e.forceUpdate()},key:"mask".concat(n)})})))}}]),t}(l.Component);t.a={getEditor:function(e){return this.components[e]?this.components[e].component:h},components:{"Physics2::Physics2Behavior":{component:A}}}},2101:function(e,t,n){"use strict";var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(135),u=n(78),d=n(10),p=n.n(d),m=n(103),h=n(98),f=n(159),g=n(320),b=n.n(g),v=n(148),E=n(411),y=n(3),j=n(231),O=n(88),C=n(154),x=n(122),T=n(123),S=n(92),k=n(113),w=n(423),N=n(584),_=n(266),P=n(119),I=n(137),B=n(89),M=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e)))._subscriptionChecker=null,n._onApply=function(){var e=function(e){return e},t=n.props.project,a=n.state,r=a.gameResolutionWidth,o=a.gameResolutionHeight,i=a.adaptGameResolutionAtRuntime,s=a.name,c=a.author,l=a.version,u=a.packageName,d=a.orientation,p=a.adMobAppId,m=a.scaleMode,h=a.sizeOnStartupMode,f=a.showGDevelopSplash,g=a.minFPS,b=a.maxFPS,v=a.isFolderProject;t.setGameResolutionSize(r,o),t.setAdaptGameResolutionAtRuntime(i),t.setName(s),t.setAuthor(c),t.setVersion(l),t.setPackageName(u),t.setOrientation(d),t.setAdMobAppId(p),t.setScaleMode(m),t.setSizeOnStartupMode(h),t.setMinimumFPS(g),t.setMaximumFPS(b),t.getLoadingScreen().showGDevelopSplash(f),t.setFolderProject(v),Object(N.a)(e,Object(N.b)(e,t))&&n.props.onApply()},n.state=n._loadFrom(e.project),n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"_loadFrom",value:function(e){return{gameResolutionWidth:e.getGameResolutionWidth(),gameResolutionHeight:e.getGameResolutionHeight(),adaptGameResolutionAtRuntime:e.getAdaptGameResolutionAtRuntime(),name:e.getName(),author:e.getAuthor(),version:e.getVersion(),packageName:e.getPackageName(),orientation:e.getOrientation(),adMobAppId:e.getAdMobAppId(),scaleMode:e.getScaleMode(),sizeOnStartupMode:e.getSizeOnStartupMode(),showGDevelopSplash:e.getLoadingScreen().isGDevelopSplashShown(),minFPS:e.getMinimumFPS(),maxFPS:e.getMaximumFPS(),isFolderProject:e.isFolderProject()}}},{key:"componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.project!==e.project)&&this.setState(this._loadFrom(e.project))}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.gameResolutionWidth,r=t.gameResolutionHeight,o=t.adaptGameResolutionAtRuntime,i=t.author,s=t.version,c=t.packageName,l=t.orientation,p=t.adMobAppId,m=t.scaleMode,h=t.sizeOnStartupMode,f=t.showGDevelopSplash,g=t.minFPS,b=t.maxFPS,v=t.isFolderProject;return d.createElement(d.Fragment,null,d.createElement(S.a,{actions:[d.createElement(O.a,{label:d.createElement(u.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onClose,key:"cancel"}),d.createElement(O.a,{label:d.createElement(u.Trans,{id:"Apply"}),primary:!0,onClick:this._onApply,key:"apply"})],secondaryActions:[d.createElement(P.a,{helpPagePath:"/interface/project-manager/properties",key:"help"})],title:d.createElement(u.Trans,{id:"Project properties"}),open:this.props.open,onRequestClose:this.props.onClose},d.createElement(k.a,{floatingLabelText:d.createElement(u.Trans,{id:"Game name"}),fullWidth:!0,type:"text",value:n,onChange:function(t){return e.setState({name:t})},autoFocus:!0}),d.createElement(C.a,{label:d.createElement(u.Trans,{id:"Display GDevelop splash at startup (in exported game)"}),checked:f,onCheck:function(t,n){(n||!e._subscriptionChecker||e._subscriptionChecker.checkHasSubscription())&&e.setState({showGDevelopSplash:n})}}),d.createElement(k.a,{floatingLabelText:d.createElement(u.Trans,{id:"Version number (X.Y.Z)"}),fullWidth:!0,hintText:"1.0.0",type:"text",value:s,onChange:function(t){return e.setState({version:t})}}),d.createElement(k.a,{floatingLabelText:d.createElement(u.Trans,{id:"Package name (for iOS and Android)"}),fullWidth:!0,hintText:"com.example.mygame",type:"text",value:c,onChange:function(t){return e.setState({packageName:t})},errorText:Object(N.c)(c)?void 0:d.createElement(u.Trans,{id:'The package name is containing invalid characters or not following the convention "xxx.yyy.zzz" (numbers allowed after a letter only).'})}),d.createElement(k.a,{floatingLabelText:d.createElement(u.Trans,{id:"Author name"}),fullWidth:!0,hintText:{id:"Your name"},type:"text",value:i,onChange:function(t){return e.setState({author:t})}}),d.createElement(B.a,{size:"title"},d.createElement(u.Trans,{id:"Resolution and rendering"})),d.createElement(I.a,{noMargin:!0},d.createElement(k.a,{floatingLabelText:d.createElement(u.Trans,{id:"Game resolution width"}),fullWidth:!0,type:"number",value:""+a,onChange:function(t){return e.setState({gameResolutionWidth:Math.max(1,parseInt(t,10))})}}),d.createElement(k.a,{floatingLabelText:d.createElement(u.Trans,{id:"Game resolution height"}),fullWidth:!0,type:"number",value:""+r,onChange:function(t){return e.setState({gameResolutionHeight:Math.max(1,parseInt(t,10))})}})),d.createElement(x.a,{fullWidth:!0,floatingLabelText:d.createElement(u.Trans,{id:"Game resolution resize mode (fullscreen or window)"}),value:h,onChange:function(t,n,a){return e.setState({sizeOnStartupMode:a})}},d.createElement(T.a,{value:"",primaryText:{id:"No changes to the game size"}}),d.createElement(T.a,{value:"adaptWidth",primaryText:{id:"Change width to fit the screen or window size"}}),d.createElement(T.a,{value:"adaptHeight",primaryText:{id:"Change height to fit the screen or window size"}})),d.createElement(C.a,{label:d.createElement(u.Trans,{id:"Update resolution during the game to fit the screen or window size"}),disabled:""===h,checked:o,onCheck:function(t,n){e.setState({adaptGameResolutionAtRuntime:n})}}),d.createElement(I.a,{noMargin:!0},d.createElement(k.a,{floatingLabelText:d.createElement(u.Trans,{id:"Minimum FPS"}),fullWidth:!0,type:"number",value:""+g,onChange:function(t){return e.setState({minFPS:Math.max(0,parseInt(t,10))})}}),d.createElement(k.a,{floatingLabelText:d.createElement(u.Trans,{id:"Maximum FPS (0 to disable)"}),fullWidth:!0,type:"number",value:""+b,onChange:function(t){return e.setState({maxFPS:Math.max(0,parseInt(t,10))})}})),b>0&&b<60&&d.createElement(_.a,{identifier:"maximum-fps-too-low",kind:"warning"},d.createElement(u.Trans,{id:"Most monitors have a refresh rate of 60 FPS. Setting a maximum number of FPS under 60 will force the game to skip frames, and the real number of FPS will be way below 60, making the game laggy and impacting the gameplay negatively. Consider putting 60 or more for the maximum number or FPS, or disable it by setting 0."})),g<20&&d.createElement(_.a,{identifier:"minimum-fps-too-low",kind:"warning"},d.createElement(u.Trans,{id:"Setting the minimum number of FPS below 20 will increase a lot the time that is allowed between the simulation of two frames of the game. If case of a sudden slowdown, or on slow computers, this can create buggy behaviors like objects passing beyond a wall. Consider setting 20 as the minimum FPS."})),d.createElement(x.a,{fullWidth:!0,floatingLabelText:d.createElement(u.Trans,{id:"Device orientation (for iOS and Android)"}),value:l,onChange:function(t,n,a){return e.setState({orientation:a})}},d.createElement(T.a,{value:"default",primaryText:{id:"Platform default"}}),d.createElement(T.a,{value:"landscape",primaryText:{id:"Landscape"}}),d.createElement(T.a,{value:"portrait",primaryText:{id:"Portrait"}})),d.createElement(x.a,{fullWidth:!0,floatingLabelText:d.createElement(u.Trans,{id:'Scale mode (also called "Sampling")'}),value:m,onChange:function(t,n,a){return e.setState({scaleMode:a})}},d.createElement(T.a,{value:"linear",primaryText:{id:"Linear (antialiased rendering, good for most games)"}}),d.createElement(T.a,{value:"nearest",primaryText:{id:"Nearest (no antialiasing, good for pixel perfect games)"}})),"nearest"===m&&d.createElement(_.a,{identifier:"use-non-smoothed-textures",kind:"info"},d.createElement(u.Trans,{id:"To obtain the best pixel-perfect effect possible, go in the resources editor and disable the Smoothing for all images of your game. It will be done automatically for new images added from now."})),d.createElement(B.a,{size:"title"},d.createElement(u.Trans,{id:"AdMob"})),d.createElement(k.a,{floatingLabelText:d.createElement(u.Trans,{id:"AdMob application ID (for iOS and Android)"}),fullWidth:!0,hintText:"ca-app-pub-XXXXXXXXXXXXXXXX/YYYYYYYYYY",type:"text",value:p,onChange:function(t){return e.setState({adMobAppId:t})}}),d.createElement(B.a,{size:"title"},d.createElement(u.Trans,{id:"Project files"})),d.createElement(x.a,{fullWidth:!0,floatingLabelText:d.createElement(u.Trans,{id:"Project file type"}),value:v?"folder-project":"single-file",onChange:function(t,n,a){return e.setState({isFolderProject:"folder-project"===a})}},d.createElement(T.a,{value:"single-file",primaryText:{id:"Single file (default)"}}),d.createElement(T.a,{value:"folder-project",primaryText:{id:"Multiple files, saved in folder next to the main file"}}))),d.createElement(w.a,{ref:function(t){return e._subscriptionChecker=t},onChangeSubscription:function(){e.props.onClose(),e.props.onChangeSubscription()},mode:"mandatory",id:"Disable GDevelop splash at startup",title:d.createElement(u.Trans,{id:"Disable GDevelop splash at startup"})}))}}]),t}(d.Component),F=n(323),R=n(144),L=n(208),A=n(118),D=n(100),U=n(1049),V=n.n(U),W=n(837),G=n(268),z=n(25),H=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.onClose;return p.a.createElement(u.I18n,null,function(t){var r=t.i18n;return p.a.createElement(G.a.Consumer,null,function(t){var o=t.getEventsFunctionsExtensionOpener();return p.a.createElement(S.a,{title:p.a.createElement(u.Trans,{id:"Search for New Extensions"}),actions:[p.a.createElement(O.a,{key:"close",label:p.a.createElement(u.Trans,{id:"Close"}),primary:!0,onClick:a})],secondaryActions:[p.a.createElement(P.a,{key:"help",helpPagePath:"/extensions/search"}),o?p.a.createElement(O.a,{icon:p.a.createElement(V.a,null),key:"import",label:p.a.createElement(u.Trans,{id:"Import extension"}),onClick:function(){!function(e,t,n){var a=t.getEventsFunctionsExtensionOpener();if(a)a.chooseEventsFunctionExtensionFile().then(function(r){if(r)return a.readEventsFunctionExtensionFile(r).then(function(a){if(!n.hasEventsFunctionsExtensionNamed(a.name)||confirm(e._({id:"An extension with this name already exists in the project. Importing this extension will replace it: are you sure you want to continue?"})))return Object(W.a)(t,n,a)})}).catch(function(t){Object(z.c)(e._({id:"An error happened while loading this extension. Please check that it is a proper extension file and compatible with this version of GDevelop"},t))})}(r,t,n)}}):null],open:!0,noMargin:!0,onRequestClose:a},p.a.createElement(W.b,{project:n,onNewExtensionInstalled:function(){},onRegistryLoaded:function(){e.forceUpdate()},showOnlyWithBehaviors:!1}))})})}}]),t}(d.Component),Y=n(263),K=n.n(Y),X=n(1055),J=n.n(X),Z=n(1056),q=n.n(Z),Q=n(1053),$=n.n(Q),ee=n(1050),te=n.n(ee),ne=n(557),ae=p.a.memo(function(e){return p.a.createElement(ne.a,e,p.a.createElement("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}))}),re=n(1057),oe=n.n(re),ie=n(1052),se=n.n(ie),ce=n(587),le=n.n(ce),ue=n(1051),de=n.n(ue),pe=n(1054),me=n.n(pe);n.d(t,"a",function(){return je});var he="Layout",fe="External layout",ge="External events",be="Events Functions Extension",ve={container:{flex:1,display:"flex",flexDirection:"column"},list:{flex:1,overflowY:"scroll",padding:0},noIndentNestedList:{padding:0},itemName:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},itemTextField:{top:h.c}},Ee=function(e){return d.createElement(D.a,null,function(t){var n=e.error,a=e.leftIcon,r=e.onRefresh,o=e.indentNestedItems,i=Object(l.a)(e,["error","leftIcon","onRefresh","indentNestedItems"]);return d.createElement(m.b,Object.assign({style:{backgroundColor:t.listItem.groupBackgroundColor,borderBottom:"1px solid ".concat(t.listItem.separatorColor)},nestedListStyle:o?void 0:ve.noIndentNestedList},i,{leftIcon:n?d.createElement(b.a,null):a,displayReloadButton:!!n,onReload:r,reloadButtonTooltip:"An error has occured in functions. Click to reload them."}))})},ye=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;!e.editingName&&this.props.editingName&&setTimeout(function(){t.textField&&t.textField.focus()},100)}},{key:"render",value:function(){var e=this,t=this.props.editingName?d.createElement(h.b,{id:"rename-item-field",margin:"none",ref:function(t){return e.textField=t},defaultValue:this.props.primaryText,onBlur:function(t){return e.props.onRename(t.currentTarget.value)},onKeyPress:function(t){13===t.charCode&&e.textField&&e.textField.blur()},fullWidth:!0,style:ve.itemTextField}):d.createElement("div",{style:ve.itemName},this.props.primaryText);return d.createElement(D.a,null,function(n){return d.createElement(m.b,{style:Object(a.a)({borderBottom:"1px solid ".concat(n.listItem.separatorColor)},e.props.style),primaryText:t,displayMenuButton:!0,buildMenuTemplate:function(){return[{label:"Edit",click:function(){return e.props.onEdit()}},{label:"Rename",click:function(){return e.props.onEditName()}},{label:"Delete",click:function(){return e.props.onDelete()}},{label:e.props.addLabel,visible:!!e.props.onAdd,click:function(){return e.props.onAdd()}},{type:"separator"},{label:"Copy",click:function(){return e.props.onCopy()}},{label:"Cut",click:function(){return e.props.onCut()}},{label:"Paste",enabled:e.props.canPaste(),click:function(){return e.props.onPaste()}},{type:"separator"},{label:"Move up",enabled:e.props.canMoveUp,click:function(){return e.props.onMoveUp()}},{label:"Move down",enabled:e.props.canMoveDown,click:function(){return e.props.onMoveDown()}}]},onClick:function(){e.props.editingName||e.props.onEdit()}})})}}]),t}(d.Component),je=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={renamedItemKind:null,renamedItemName:"",searchText:"",projectPropertiesDialogOpen:!1,variablesEditorOpen:!1,extensionsSearchDialogOpen:!1},n._onEditName=function(e,t){n.setState({renamedItemKind:e,renamedItemName:t})},n._copyLayout=function(e){L.a.set(he,{layout:Object(A.b)(e),name:e.getName()})},n._cutLayout=function(e){n._copyLayout(e),n.props.onDeleteLayout(e)},n._pasteLayout=function(e){if(L.a.has(he)){var t=L.a.get(he),a=t.layout,r=t.name,o=n.props.project,i=Object(R.a)(r,function(e){return o.hasLayoutNamed(e)}),s=o.insertNewLayout(i,e);Object(A.c)(s,a,"unserializeFrom",o),s.setName(i),s.updateBehaviorsSharedData(o),n.forceUpdate()}},n._addLayout=function(e){var t=n.props.project,a=Object(R.a)("NewScene",function(e){return t.hasLayoutNamed(e)}),r=t.insertNewLayout(a,e+1);r.setName(a),r.updateBehaviorsSharedData(t),n.forceUpdate()},n._addExternalEvents=function(e){var t=n.props.project,a=Object(R.a)("NewExternalEvents",function(e){return t.hasExternalEventsNamed(e)});t.insertNewExternalEvents(a,e+1),n.forceUpdate()},n._addExternalLayout=function(e){var t=n.props.project,a=Object(R.a)("NewExternalLayout",function(e){return t.hasExternalLayoutNamed(e)});t.insertNewExternalLayout(a,e+1),n.forceUpdate()},n._addEventsFunctionsExtension=function(e){var t=n.props.project,a=Object(R.a)("NewExtension",function(e){return t.hasEventsFunctionsExtensionNamed(e)});t.insertNewEventsFunctionsExtension(a,e+1),n.forceUpdate()},n._moveUpLayout=function(e){var t=n.props.project;e<=0||(t.swapLayouts(e,e-1),n.forceUpdate())},n._moveDownLayout=function(e){var t=n.props.project;e>=t.getLayoutsCount()-1||(t.swapLayouts(e,e+1),n.forceUpdate())},n._copyExternalEvents=function(e){L.a.set(ge,{externalEvents:Object(A.b)(e),name:e.getName()})},n._cutExternalEvents=function(e){n._copyExternalEvents(e),n.props.onDeleteExternalEvents(e)},n._pasteExternalEvents=function(e){if(L.a.has(ge)){var t=L.a.get(ge),a=t.externalEvents,r=t.name,o=n.props.project,i=Object(R.a)(r,function(e){return o.hasExternalEventsNamed(e)}),s=o.insertNewExternalEvents(i,e);Object(A.c)(s,a,"unserializeFrom",o),s.setName(i),n.forceUpdate()}},n._moveUpExternalEvents=function(e){var t=n.props.project;e<=0||(t.swapExternalEvents(e,e-1),n.forceUpdate())},n._moveDownExternalEvents=function(e){var t=n.props.project;e>=t.getExternalEventsCount()-1||(t.swapExternalEvents(e,e+1),n.forceUpdate())},n._copyExternalLayout=function(e){L.a.set(fe,{externalLayout:Object(A.b)(e),name:e.getName()})},n._cutExternalLayout=function(e){n._copyExternalLayout(e),n.props.onDeleteExternalLayout(e)},n._pasteExternalLayout=function(e){if(L.a.has(fe)){var t=L.a.get(fe),a=t.externalLayout,r=t.name,o=n.props.project,i=Object(R.a)(r,function(e){return o.hasExternalLayoutNamed(e)}),s=o.insertNewExternalLayout(i,e);Object(A.c)(s,a),s.setName(i),n.forceUpdate()}},n._moveUpExternalLayout=function(e){var t=n.props.project;e<=0||(t.swapExternalLayouts(e,e-1),n.forceUpdate())},n._moveDownExternalLayout=function(e){var t=n.props.project;e>=t.getExternalLayoutsCount()-1||(t.swapExternalLayouts(e,e+1),n.forceUpdate())},n._copyEventsFunctionsExtension=function(e){L.a.set(be,{eventsFunctionsExtension:Object(A.b)(e),name:e.getName()})},n._cutEventsFunctionsExtension=function(e){n._copyEventsFunctionsExtension(e),n.props.onDeleteEventsFunctionsExtension(e)},n._pasteEventsFunctionsExtension=function(e){if(L.a.has(be)){var t=L.a.get(be),a=t.eventsFunctionsExtension,r=t.name,o=n.props.project,i=Object(R.a)(r,function(e){return o.hasEventsFunctionsExtensionNamed(e)}),s=o.insertNewEventsFunctionsExtension(i,e);Object(A.c)(s,a,"unserializeFrom",o),s.setName(i),n.forceUpdate(),n.props.onReloadEventsFunctionsExtensions()}},n._moveUpEventsFunctionsExtension=function(e){var t=n.props.project;e<=0||(t.swapEventsFunctionsExtensions(e,e-1),n.forceUpdate())},n._moveDownEventsFunctionsExtension=function(e){var t=n.props.project;e>=t.getEventsFunctionsExtensionsCount()-1||(t.swapEventsFunctionsExtensions(e,e+1),n.forceUpdate())},n._onSearchChange=function(e){return n.setState({searchText:e})},n._onRequestSearch=function(){},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e){return!e.freezeUpdate}},{key:"componentDidUpdate",value:function(e){!this.props.freezeUpdate&&e.freezeUpdate&&this._searchBar&&this._searchBar.focus()}},{key:"_renderMenu",value:function(){var e=this;return y.b.hasMainMenu()?null:d.createElement(d.Fragment,null,d.createElement(m.b,{key:"save",primaryText:d.createElement(u.Trans,{id:"Save"}),leftIcon:d.createElement(te.a,null),onClick:function(){return e.props.onSaveProject()}}),d.createElement(m.b,{key:"save-as",primaryText:d.createElement(u.Trans,{id:"Save as..."}),leftIcon:d.createElement(de.a,null),onClick:function(){return e.props.onSaveProjectAs()}}),d.createElement(m.b,{key:"export",primaryText:d.createElement(u.Trans,{id:"Export"}),leftIcon:d.createElement(se.a,null),onClick:function(){return e.props.onExportProject()}}),d.createElement(m.b,{key:"close",primaryText:d.createElement(u.Trans,{id:"Close"}),leftIcon:d.createElement(K.a,null),onClick:function(){return e.props.onCloseProject()}}),d.createElement(m.b,{key:"preferences",primaryText:d.createElement(u.Trans,{id:"Preferences"}),leftIcon:d.createElement($.a,null),onClick:function(){return e.props.onOpenPreferences()}}),d.createElement(m.b,{key:"profile",primaryText:d.createElement(u.Trans,{id:"My profile"}),leftIcon:d.createElement(me.a,null),onClick:function(){return e.props.onOpenProfile()}}),!y.b.isFullscreen()&&d.createElement(m.b,{key:"fullscreen",primaryText:d.createElement(u.Trans,{id:"Turn on Fullscreen"}),leftIcon:d.createElement(le.a,null),onClick:function(){return y.b.requestFullscreen()}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.eventsFunctionsExtensionsError,r=t.onReloadEventsFunctionsExtensions,o=this.state,i=o.renamedItemKind,s=o.renamedItemName,c=o.searchText,l=""!==c||void 0;return d.createElement("div",{style:ve.container},d.createElement(m.a,{style:ve.list},this._renderMenu(),d.createElement(Ee,{primaryText:d.createElement(u.Trans,{id:"Game settings"}),leftIcon:d.createElement(v.a,{iconSize:32,isGDevelopIcon:!0,src:"res/ribbon_default/projectManager32.png"}),initiallyOpen:!1,autoGenerateNestedIndicator:!0,indentNestedItems:!0,renderNestedItems:function(){return[d.createElement(m.b,{key:"properties",primaryText:d.createElement(u.Trans,{id:"Properties"}),leftIcon:d.createElement(J.a,null),onClick:function(){return e.setState({projectPropertiesDialogOpen:!0})}}),d.createElement(m.b,{key:"global-variables",primaryText:d.createElement(u.Trans,{id:"Global variables"}),leftIcon:d.createElement(ae,null),onClick:function(){return e.setState({variablesEditorOpen:!0})}}),d.createElement(m.b,{key:"icons",primaryText:d.createElement(u.Trans,{id:"Icons"}),leftIcon:d.createElement(q.a,null),onClick:function(){return e.props.onOpenPlatformSpecificAssets()}}),d.createElement(m.b,{key:"resources",primaryText:d.createElement(u.Trans,{id:"Resources"}),leftIcon:d.createElement(oe.a,null),onClick:function(){e.props.onOpenResources()}})]}}),d.createElement(Ee,{primaryText:d.createElement(u.Trans,{id:"Scenes"}),leftIcon:d.createElement(v.a,{iconSize:32,isGDevelopIcon:!0,src:"res/ribbon_default/sceneadd32.png"}),initiallyOpen:!0,open:l,autoGenerateNestedIndicator:!l,renderNestedItems:function(){return Object(F.e)(Object(F.d)(n),c).map(function(t,a){var r=t.getName();return d.createElement(ye,{key:a,primaryText:r,editingName:"layout"===i&&s===r,onEdit:function(){return e.props.onOpenLayout(r)},onDelete:function(){return e.props.onDeleteLayout(t)},addLabel:"Add a New Scene",onAdd:function(){return e._addLayout(a)},onRename:function(t){e.props.onRenameLayout(r,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("layout",r)},onCopy:function(){return e._copyLayout(t)},onCut:function(){return e._cutLayout(t)},onPaste:function(){return e._pasteLayout(a)},canPaste:function(){return L.a.has(he)},canMoveUp:0!==a,onMoveUp:function(){return e._moveUpLayout(a)},canMoveDown:a!==n.getLayoutsCount()-1,onMoveDown:function(){return e._moveDownLayout(a)}})}).concat(d.createElement(E.a,{key:"add-scene",onClick:e.props.onAddLayout,primaryText:d.createElement(u.Trans,{id:"Click to add a scene"})}))}}),d.createElement(Ee,{primaryText:d.createElement(u.Trans,{id:"External events"}),leftIcon:d.createElement(v.a,{iconSize:32,isGDevelopIcon:!0,src:"res/ribbon_default/externalevents32.png"}),initiallyOpen:!1,open:l,autoGenerateNestedIndicator:!l,renderNestedItems:function(){return Object(F.e)(Object(F.b)(n),c).map(function(t,a){var r=t.getName();return d.createElement(ye,{key:a,primaryText:r,editingName:"external-events"===i&&s===r,onEdit:function(){return e.props.onOpenExternalEvents(r)},onDelete:function(){return e.props.onDeleteExternalEvents(t)},addLabel:"Add New External Events",onAdd:function(){return e._addExternalEvents(a)},onRename:function(t){e.props.onRenameExternalEvents(r,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("external-events",r)},onCopy:function(){return e._copyExternalEvents(t)},onCut:function(){return e._cutExternalEvents(t)},onPaste:function(){return e._pasteExternalEvents(a)},canPaste:function(){return L.a.has(ge)},canMoveUp:0!==a,onMoveUp:function(){return e._moveUpExternalEvents(a)},canMoveDown:a!==n.getExternalEventsCount()-1,onMoveDown:function(){return e._moveDownExternalEvents(a)}})}).concat(d.createElement(E.a,{key:"add-external-events",primaryText:d.createElement(u.Trans,{id:"Click to add external events"}),onClick:e.props.onAddExternalEvents}))}}),d.createElement(Ee,{primaryText:d.createElement(u.Trans,{id:"External layouts"}),leftIcon:d.createElement(v.a,{iconSize:32,isGDevelopIcon:!0,src:"res/ribbon_default/externallayout32.png"}),initiallyOpen:!1,open:l,autoGenerateNestedIndicator:!l,renderNestedItems:function(){return Object(F.e)(Object(F.c)(n),c).map(function(t,a){var r=t.getName();return d.createElement(ye,{key:a,primaryText:r,editingName:"external-layout"===i&&s===r,onEdit:function(){return e.props.onOpenExternalLayout(r)},onDelete:function(){return e.props.onDeleteExternalLayout(t)},addLabel:"Add a New External Layout",onAdd:function(){return e._addExternalLayout(a)},onRename:function(t){e.props.onRenameExternalLayout(r,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("external-layout",r)},onCopy:function(){return e._copyExternalLayout(t)},onCut:function(){return e._cutExternalLayout(t)},onPaste:function(){return e._pasteExternalLayout(a)},canPaste:function(){return L.a.has(fe)},canMoveUp:0!==a,onMoveUp:function(){return e._moveUpExternalLayout(a)},canMoveDown:a!==n.getExternalLayoutsCount()-1,onMoveDown:function(){return e._moveDownExternalLayout(a)}})}).concat(d.createElement(E.a,{key:"add-external-layout",primaryText:d.createElement(u.Trans,{id:"Click to add an external layout"}),onClick:e.props.onAddExternalLayout}))}}),d.createElement(Ee,{primaryText:d.createElement(u.Trans,{id:"Functions/Behaviors"}),error:a,onRefresh:r,leftIcon:d.createElement(v.a,{iconSize:32,isGDevelopIcon:!0,src:"res/ribbon_default/function32.png"}),initiallyOpen:!1,open:l,autoGenerateNestedIndicator:!l&&!a,renderNestedItems:function(){return Object(F.e)(Object(F.a)(n),c).map(function(t,a){var r=t.getName();return d.createElement(ye,{key:a,primaryText:r,editingName:"events-functions-extension"===i&&s===r,onEdit:function(){return e.props.onOpenEventsFunctionsExtension(r)},onDelete:function(){return e.props.onDeleteEventsFunctionsExtension(t)},addLabel:"Add a New Extension",onAdd:function(){return e._addEventsFunctionsExtension(a)},onRename:function(t){e.props.onRenameEventsFunctionsExtension(r,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("events-functions-extension",r)},onCopy:function(){return e._copyEventsFunctionsExtension(t)},onCut:function(){return e._cutEventsFunctionsExtension(t)},onPaste:function(){return e._pasteEventsFunctionsExtension(a)},canPaste:function(){return L.a.has(be)},canMoveUp:0!==a,onMoveUp:function(){return e._moveUpEventsFunctionsExtension(a)},canMoveDown:a!==n.getEventsFunctionsExtensionsCount()-1,onMoveDown:function(){return e._moveDownEventsFunctionsExtension(a)}})}).concat(d.createElement(E.a,{key:"add-events-functions-extension",primaryText:d.createElement(u.Trans,{id:"Click to add functions and behaviors"}),onClick:e.props.onAddEventsFunctionsExtension})).concat(d.createElement(E.b,{key:"extensions-search",primaryText:d.createElement(u.Trans,{id:"Search for new extensions"}),onClick:function(){return e.setState({extensionsSearchDialogOpen:!0})}}))}})),d.createElement(f.a,{ref:function(t){return e._searchBar=t},value:c,onRequestSearch:this._onRequestSearch,onChange:this._onSearchChange}),this.state.variablesEditorOpen&&d.createElement(j.a,{open:!0,variablesContainer:n.getVariables(),onCancel:function(){return e.setState({variablesEditorOpen:!1})},onApply:function(){return e.setState({variablesEditorOpen:!1})},emptyExplanationMessage:d.createElement(u.Trans,{id:"Global variables are variables that are shared amongst all the scenes of the game."}),emptyExplanationSecondMessage:d.createElement(u.Trans,{id:"For example, you can have a variable called UnlockedLevelsCount representing the number of levels unlocked by the player."})}),this.state.projectPropertiesDialogOpen&&d.createElement(M,{open:this.state.projectPropertiesDialogOpen,project:n,onClose:function(){return e.setState({projectPropertiesDialogOpen:!1})},onApply:function(){return e.setState({projectPropertiesDialogOpen:!1})},onChangeSubscription:this.props.onChangeSubscription}),this.state.extensionsSearchDialogOpen&&d.createElement(H,{project:n,onClose:function(){return e.setState({extensionsSearchDialogOpen:!1})}}))}}]),t}(d.Component)},2102:function(e,t,n){"use strict";var a=n(135),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(10),d=n.n(u),p=n(92),m=n(88),h=n(2178),f=n(460),g=n(278),b=n(279),v=n(465),E={flex:1,display:"flex",flexDirection:"column"},y=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).instructionsInfo=Object(v.a)(Object(b.b)(n.props.isCondition),n.props.scope),n.instructionsInfoTree=Object(g.a)(n.instructionsInfo),n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.isCondition,e.scope,Object(a.a)(e,["isCondition","scope"]));return d.a.createElement(f.a,Object.assign({style:E,instructionsInfo:this.instructionsInfo,instructionsInfoTree:this.instructionsInfoTree,iconSize:24},t))}}]),t}(u.Component),j=n(715),O={container:{display:"flex",flex:1},parametersEditor:{flex:2,display:"flex",paddingLeft:16,paddingRight:16,zIndex:1}},C=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).chooseType=function(e){n.props.instruction.setType(e),n.forceUpdate(function(){n._instructionParametersEditor&&n._instructionParametersEditor.focus()})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.instruction,a=t.isCondition,r=t.project,o=t.globalObjectsContainer,i=t.objectsContainer,s=t.scope;return u.createElement("div",{style:O.container},u.createElement(y,{isCondition:a,selectedType:n.getType(),onChoose:this.chooseType,focusOnMount:!n.getType(),scope:s}),u.createElement(h.a,{style:O.parametersEditor,square:!0,elevation:2},u.createElement(j.a,{project:r,scope:s,globalObjectsContainer:o,objectsContainer:i,isCondition:a,instruction:n,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,ref:function(t){return e._instructionParametersEditor=t},focusOnMount:n.getType()})))}}]),t}(u.Component);n.d(t,"a",function(){return x});var x=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.isNewInstruction,e.onCancel),n=e.onSubmit,r=e.open,o=Object(a.a)(e,["isNewInstruction","onCancel","onSubmit","open"]),i=[u.createElement(m.a,{key:"cancel",label:u.createElement(l.Trans,{id:"Cancel"}),primary:!1,onClick:t}),u.createElement(m.a,{key:"ok",label:u.createElement(l.Trans,{id:"Ok"}),primary:!0,keyboardFocused:!1,onClick:n})];return u.createElement(p.a,{actions:i,open:r,onRequestClose:t,maxWidth:!1,flexBody:!0,noMargin:!0},u.createElement(C,o))}}]),t}(u.Component)},2104:function(e,t,n){"use strict";var a=n(10),r=n.n(a),o=n(578),i=n(151),s=n.n(i),c=n(105),l=n(97),u=n(557),d=r.a.memo(function(e){return r.a.createElement(u.a,e,r.a.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}))}),p=r.a.memo(function(e){return r.a.createElement(u.a,e,r.a.createElement("path",{d:"M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"}))}),m=n(190),h=n.n(m),f=n(416);t.a=function(e){var t=e.onAdd,n=e.onCopy,a=e.hasSelection,i=e.onPaste,u=e.hasClipboard,m=e.onDeleteSelection;return r.a.createElement(o.b,null,r.a.createElement(o.a,{style:f.a.toolColumnHeader},r.a.createElement(c.a,{onClick:n,disabled:!a},r.a.createElement(d,null)),r.a.createElement(c.a,{onClick:i,disabled:!u},r.a.createElement(p,null)),r.a.createElement(c.a,{onClick:m,disabled:!a},r.a.createElement(h.a,null))),r.a.createElement(o.a,null,r.a.createElement(l.a,{style:f.a.addVariableMessage})),r.a.createElement(o.a,{style:f.a.toolColumn},r.a.createElement(c.a,{onClick:t},r.a.createElement(s.a,null))))}},2105:function(e,t,n){"use strict";var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(10),d=n(278),p=n(279),m=n(103),h=n(159),f=n(100),g=n(464),b=n(179),v=n(195),E=n(214),y=n(716),j=n(148),O=n(239),C=n(192),x=n(700),T=n(701),S=n(97),k=n(236);n.d(t,"a",function(){return N});var w={searchBar:{flexShrink:0}},N=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={searchText:"",selectedObjectTags:[]},n._searchBar=u.createRef(),n._scrollView=u.createRef(),n._selectedItem=u.createRef(),n.instructionsInfo=Object(p.a)(n.props.isCondition),n.instructionsInfoTree=Object(d.a)(n.instructionsInfo),n.initialInstructionTypePath=Object(d.b)(n.instructionsInfoTree,n.props.chosenInstructionType),n._getAllObjectTags=function(){var e=n.props,t=e.globalObjectsContainer,a=e.objectsContainer,r=new Set;return Object(E.c)(t,a).allObjectsList.forEach(function(e){var t=e.object;Object(k.c)(t.getTags()).forEach(function(e){return r.add(e)})}),Array.from(r)},n._buildObjectTagsMenuTemplate=function(e){var t=n.state.selectedObjectTags;return Object(k.a)({noTagLabel:e._({id:"No tags - add a tag to an object first"}),getAllTags:n._getAllObjectTags,selectedTags:t,onChange:function(e){n.setState({selectedObjectTags:e})}})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this._searchBar.current&&this._searchBar.current.focus(),this._selectedItem.current&&this._scrollView.current&&this._scrollView.current.scrollTo(this._selectedItem.current)}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.globalObjectsContainer,o=t.objectsContainer,i=t.project,s=t.chosenInstructionType,c=t.onChooseInstruction,d=t.chosenObjectName,k=t.onChooseObject,N=t.isCondition,_=t.currentTab,P=t.onChangeTab,I=t.onSearchStartOrReset,B=this.state,M=B.searchText,F=B.selectedObjectTags,R=Object(E.d)(r,o),L=R.allObjectsList,A=R.allGroupsList,D=Object(E.f)(L,{searchText:M,selectedTags:F}),U=F.length?[]:Object(E.e)(A,M),V=Object(p.d)(this.instructionsInfo,{searchText:M}),W=!!M,G=!W||!!D.length||!!U.length||!!V.length,z=function(){W&&(D.length>0?k(D[0].object.getName()):U.length>0?k(U[0].group.getName()):V.length>0&&c(V[0].type,V[0]))};return u.createElement(l.I18n,{key:"tags"},function(t){var r=t.i18n;return u.createElement(f.a,null,function(t){return u.createElement("div",{style:Object(a.a)({backgroundColor:t.list.itemsBackgroundColor,minHeight:400},n)},u.createElement(h.a,{value:M,onChange:function(t){var n=e.state.searchText;e.setState({searchText:t}),(!n&&t||n&&!t)&&I&&I()},onRequestSearch:z,buildTagsMenuTemplate:function(){return e._buildObjectTagsMenuTemplate(r)},style:w.searchBar,ref:e._searchBar}),!W&&u.createElement(b.b,{value:_,onChange:P},u.createElement(b.a,{label:u.createElement(l.Trans,{id:"Objects"}),value:"objects"}),u.createElement(b.a,{label:N?u.createElement(l.Trans,{id:"Other conditions"}):u.createElement(l.Trans,{id:"Other actions"}),value:"free-instructions"})),u.createElement(g.a,{ref:e._scrollView},!W&&"objects"===_&&u.createElement(y.a,{tags:F,onChange:function(t){return e.setState({selectedObjectTags:t})}}),G&&u.createElement(m.a,null,(W||"objects"===_)&&D.map(function(e){return function(e){var t=e.project,n=e.objectWithContext,a=e.iconSize,r=e.onClick,o=e.selectedValue,i=n.object.getName();return u.createElement(m.b,{key:Object(O.d)(n),selected:o===Object(O.e)(i),primaryText:i,leftIcon:u.createElement(j.a,{iconSize:a,src:C.a.getThumbnail(t,n.object)}),onClick:r})}({project:i,objectWithContext:e,iconSize:24,onClick:function(){return k(e.object.getName())},selectedValue:d?Object(O.e)(d):void 0})}),(W||"objects"===_)&&U.length>0&&u.createElement(v.a,null,u.createElement(l.Trans,{id:"Object groups"})),(W||"objects"===_)&&U.map(function(e){return function(e){var t=e.groupWithContext,n=e.iconSize,a=e.onClick,r=e.selectedValue,o=t.group.getName();return u.createElement(m.b,{key:Object(O.c)(t),selected:r===Object(O.e)(o),primaryText:o,leftIcon:u.createElement(j.a,{iconSize:n,src:"res/ribbon_default/objectsgroups64.png"}),onClick:a})}({groupWithContext:e,iconSize:24,onClick:function(){return k(e.group.getName())},selectedValue:d?Object(O.e)(d):void 0})}),W&&V.length>0&&u.createElement(v.a,null,N?u.createElement(l.Trans,{id:"Non-objects and other conditions"}):u.createElement(l.Trans,{id:"Non-objects and other actions"})),W&&V.map(function(e){return Object(x.a)({instructionOrExpressionMetadata:e,iconSize:24,onClick:function(){return c(e.type,e)},selectedValue:s?Object(O.b)(s):void 0})}),!W&&"free-instructions"===_&&Object(T.a)({instructionTreeNode:e.instructionsInfoTree,onChoose:c,iconSize:24,selectedValue:s?Object(O.b)(s):void 0,initiallyOpenedPath:e.initialInstructionTypePath,selectedItemRef:e._selectedItem})),!W&&"objects"===_&&!L.length&&u.createElement(S.a,null,u.createElement(l.Trans,{id:"There is no object in your game or in this scene. Start by adding an new object in the scene editor, using the objects list."})),!G&&u.createElement(S.a,null,u.createElement(l.Trans,{id:"Nothing corresponding to your search. Choose an object first or browse the list of actions/conditions."}))))})})}}]),t}(u.PureComponent)},2107:function(e,t,n){"use strict";var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(10),d=n.n(u),p=n(88),m=n(2178),h=n(105),f=n(1712),g=n.n(f),b=n(196),v=n(3),E=n(80),y=n(100),j={logo:{width:"100%"}},O=function(){return u.createElement(y.a,null,function(e){return u.createElement("img",{src:e.logo.src,alt:"",style:j.logo})})},C={flex:1,display:"flex",overflowY:"scroll"},x=function(e){var t=e.children;return u.createElement(y.a,null,function(e){return u.createElement("div",{style:Object(a.a)({},C,{backgroundColor:e.palette.canvasColor})},t)})},T=n(90),S=n(89),k={innerContainer:{display:"flex",flexDirection:"column",width:"100%",minHeight:350},centerContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",maxWidth:400},logoPaper:{marginBottom:10,width:"100%",textAlign:"center"}},w=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(s.a)(t).call(this))).state={aboutDialogOpen:!1},e}return Object(c.a)(t,e),Object(o.a)(t,[{key:"getProject",value:function(){}},{key:"updateToolbar",value:function(){this.props.setToolbar&&this.props.setToolbar(null)}},{key:"render",value:function(){var e=this.props,t=e.project,n=e.canOpen,r=e.onOpen,o=e.onCreate,i=e.onOpenProjectManager,s=e.onCloseProject,c=e.onOpenAboutDialog,u=e.onOpenHelpFinder,f=e.onOpenLanguageDialog;return d.a.createElement(l.I18n,null,function(e){var b=e.i18n;return d.a.createElement(x,null,d.a.createElement("div",{style:k.innerContainer},d.a.createElement(E.b,{expand:!0,justifyContent:"center"},d.a.createElement("div",{style:k.centerContainer},d.a.createElement(m.a,{elevation:2,style:Object(a.a)({},k.logoPaper)},d.a.createElement(O,null),d.a.createElement(S.a,null,d.a.createElement(l.Trans,{id:"GDevelop is an easy-to-use game creator with no programming language to learn."}))),!t&&n&&d.a.createElement(d.a.Fragment,null,d.a.createElement(T.a,{label:d.a.createElement(l.Trans,{id:"Open a project"}),fullWidth:!0,onClick:r,primary:!0}),d.a.createElement(E.c,null)),!t&&d.a.createElement(d.a.Fragment,null,d.a.createElement(T.a,{label:d.a.createElement(l.Trans,{id:"Create a new project"}),fullWidth:!0,onClick:o,primary:!0}),d.a.createElement(E.c,null)),!!t&&d.a.createElement(d.a.Fragment,null,d.a.createElement(T.a,{label:d.a.createElement(l.Trans,{id:"Open Project Manager"}),fullWidth:!0,onClick:i,primary:!0}),d.a.createElement(E.c,null)),!!t&&d.a.createElement(d.a.Fragment,null,d.a.createElement(p.a,{label:d.a.createElement(l.Trans,{id:"Close project"}),fullWidth:!0,onClick:s}),d.a.createElement(E.c,null)),d.a.createElement(p.a,{label:d.a.createElement(l.Trans,{id:"Search the documentation"}),fullWidth:!0,onClick:u}))),d.a.createElement(E.b,{alignItems:"center",justifyContent:"space-between"},d.a.createElement(E.b,null,d.a.createElement(p.a,{label:d.a.createElement(l.Trans,{id:"About GDevelop"}),onClick:c}),d.a.createElement(p.a,{label:d.a.createElement(l.Trans,{id:"GDevelop Forums"}),onClick:function(){return v.b.openExternalURL("https://forum.gdevelop-app.com")}}),d.a.createElement(p.a,{label:d.a.createElement(l.Trans,{id:"Help and tutorials"}),onClick:function(){return v.b.openExternalURL("http://wiki.compilgames.net/doku.php/gdevelop5/start")}})),d.a.createElement(E.b,{alignItems:"center"},d.a.createElement(p.a,{label:b.language,onClick:f,icon:d.a.createElement(g.a,null)}),d.a.createElement(h.a,{className:"icon-facebook",onClick:function(){return v.b.openExternalURL("https://www.facebook.com/GDevelopApp")}}),d.a.createElement(h.a,{className:"icon-twitter",onClick:function(){return v.b.openExternalURL("https://twitter.com/GDevelopApp")}})))))})}}]),t}(b.a);t.a=w},2108:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(778),p=n.n(d),m=n(88),h=n(154),f=n(1656),g=n.n(f),b=n(590),v=n.n(b),E=n(779),y=n.n(E),j=n(98),O=n(92),C=n(80),x=n(292),T=n(579),S=n.n(T),k=n(1655),w=n.n(k),N=n(89),_={timeField:{width:75},timeIcon:{paddingLeft:6,paddingRight:8}},P=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={currentFrameIndex:0,currentFrameElapsedTime:0,paused:!1,fps:Math.round(1/n.props.timeBetweenFrames)},n.nextUpdate=null,n.replay=function(){return n.setState({currentFrameIndex:0,currentFrameElapsedTime:0,paused:!1})},n.play=function(){return n.setState({paused:!1})},n.pause=function(){return n.setState({paused:!0})},n._updateAnimation=function(){var e=n.props,t=e.spritesContainer,a=e.timeBetweenFrames,r=n.state,o=r.currentFrameIndex,i=r.currentFrameElapsedTime;if((i+=r.paused?0:1/60*1)>a){var s=Math.floor(i/a);o+=s,(i-=s*a)<0&&(i=0)}o>=t.getSpritesCount()&&(o=t.isLooping()?o%t.getSpritesCount():t.getSpritesCount()-1),o<0&&(o=0),n.setState({currentFrameIndex:o,currentFrameElapsedTime:i}),n.nextUpdate=requestAnimationFrame(n._updateAnimation)},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.nextUpdate=requestAnimationFrame(this._updateAnimation)}},{key:"componentWillUnmount",value:function(){this.nextUpdate&&cancelAnimationFrame(this.nextUpdate)}},{key:"render",value:function(){var e=this,t=this.props,n=t.spritesContainer,a=t.resourcesLoader,r=t.project,o=t.timeBetweenFrames,i=t.onChangeTimeBetweenFrames,s=this.state,l=s.currentFrameIndex,d=s.paused,h=s.fps,f=l<n.getSpritesCount()?n.getSprite(l):null;return u.a.createElement("div",null,u.a.createElement(x.a,{resourceName:f?f.getImageName():"",resourcesLoader:a,project:r}),u.a.createElement(C.b,{noMargin:!0,alignItems:"center"},u.a.createElement(N.a,null,u.a.createElement(c.Trans,{id:"FPS:"})),u.a.createElement(C.c,null),u.a.createElement(j.b,{margin:"none",value:h,onChange:function(t,n){var a=parseFloat(n);a>0&&(e.setState({fps:a}),i(parseFloat((1/a).toFixed(4))),e.replay())},id:"direction-time-between-frames",type:"number",step:1,min:1,max:100,style:_.timeField,autoFocus:!0}),u.a.createElement(p.a,{style:_.timeIcon}),u.a.createElement(j.b,{margin:"none",value:o,onChange:function(t,n){var a=parseFloat(n);a>0&&(e.setState({fps:Math.round(1/a)}),i(a),e.replay())},id:"direction-time-between-frames",type:"number",step:.005,precision:2,min:.01,max:5,style:_.timeField}),u.a.createElement(m.a,{icon:u.a.createElement(S.a,null),label:u.a.createElement(c.Trans,{id:"Replay"}),onClick:this.replay}),u.a.createElement(m.a,{icon:d?u.a.createElement(y.a,null):u.a.createElement(w.a,null),label:d?"Play":"Pause",onClick:d?this.play:this.pause})))}}]),t}(l.Component),I=(n(114),n(177));n.d(t,"a",function(){return F});var B={container:{paddingLeft:12,paddingRight:12,display:"flex",alignItems:"center"},timeField:{width:75},timeIcon:{paddingLeft:6,paddingRight:6},repeatContainer:{width:130},spacer:{width:16}},M=function(e){return Number(e.toFixed(6))},F=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={timeBetweenFrames:M(n.props.direction.getTimeBetweenFrames()),timeError:!1,previewOpen:!1},n.saveTimeBetweenFrames=function(){var e=n.props.direction,t=Math.max(parseFloat(n.state.timeBetweenFrames),1e-5),a=!isNaN(t);a&&e.setTimeBetweenFrames(t),n.setState({timeBetweenFrames:M(n.props.direction.getTimeBetweenFrames()),timeError:a})},n.setLooping=function(e){n.props.direction.setLoop(!!e),n.forceUpdate()},n.openPreview=function(e){n.setState({previewOpen:e}),e||n.saveTimeBetweenFrames()},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({timeBetweenFrames:M(this.props.direction.getTimeBetweenFrames()),timeError:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.direction,a=t.resourcesLoader,r=t.project,o=t.resourceExternalEditors,i=t.onEditWith,s=o.filter(function(e){return"image"===e.kind});return u.a.createElement("div",{style:B.container},u.a.createElement(I.a,null,function(e){return"small"!==e&&!!s.length&&u.a.createElement(m.a,{label:s[0].displayName,icon:u.a.createElement(v.a,null),onClick:function(){return i(s[0])}})}),u.a.createElement(m.a,{label:u.a.createElement(c.Trans,{id:"Preview"}),icon:u.a.createElement(y.a,null),onClick:function(){return e.openPreview(!0)}}),u.a.createElement(p.a,{style:B.timeIcon}),u.a.createElement(j.b,{value:this.state.timeBetweenFrames,onChange:function(t,n){return e.setState({timeBetweenFrames:parseFloat(n)||0})},onBlur:function(){return e.saveTimeBetweenFrames()},id:"direction-time-between-frames",margin:"none",style:B.timeField,type:"number",step:.005,precision:2,min:.01,max:5}),u.a.createElement("span",{style:B.spacer}),u.a.createElement("div",{style:B.repeatContainer},u.a.createElement(h.a,{checkedIcon:u.a.createElement(g.a,null),uncheckedIcon:u.a.createElement(g.a,null),checked:n.isLooping(),label:n.isLooping()?u.a.createElement(c.Trans,{id:"Loop"}):u.a.createElement(c.Trans,{id:"Don't loop"}),onCheck:function(t,n){return e.setLooping(n)}})),this.state.previewOpen&&u.a.createElement(O.a,{actions:u.a.createElement(m.a,{label:u.a.createElement(c.Trans,{id:"OK"}),primary:!0,onClick:function(){return e.openPreview(!1)},key:"ok"}),noMargin:!0,modal:!0,onRequestClose:function(){return e.openPreview(!1)},open:this.state.previewOpen},u.a.createElement(P,{spritesContainer:n,resourcesLoader:a,project:r,timeBetweenFrames:this.state.timeBetweenFrames,onChangeTimeBetweenFrames:function(t){return e.setState({timeBetweenFrames:t})}})))}}]),t}(l.Component)},2109:function(e,t,n){"use strict";var a=n(102),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n(141),d=n.n(u),p=n(133),m=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e;return l.createElement("p",{className:d()((e={},Object(a.a)(e,p.l,!0),Object(a.a)(e,p.m,this.props.selected),e))},"Unknown event of type "+this.props.event.getType())}}]),t}(l.Component),h=n(1212),f=n(1439),g=n(1440),b=n(1441),v=n(1442),E=n(1443),y=n(1444),j=n(1446);t.a={components:{unknownEvent:m,"BuiltinCommonInstructions::Standard":h.a,"BuiltinCommonInstructions::Group":f.a,"BuiltinCommonInstructions::Comment":g.a,"BuiltinCommonInstructions::ForEach":b.a,"BuiltinCommonInstructions::Repeat":v.a,"BuiltinCommonInstructions::While":E.a,"BuiltinCommonInstructions::Link":y.a,"BuiltinCommonInstructions::JsCode":j.a},getEventComponent:function(e){return this.components.hasOwnProperty(e.getType())?this.components[e.getType()]:this.components.unknownEvent},registerEvent:function(e,t){this.components.hasOwnProperty(e)?this.components[e]=t:console.warn('Tried to register renderer for events "'+e+'", but a renderer already exists.')}}},2111:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(92),d=n(88),p=n(3),m=n(83),h=n(98),f=n(103),g=n(80),b=n(1693),v=n.n(b),E=n(240),y=n.n(E),j=n(89),O={maxHeight:300,overflowY:"scroll"},C="gdevelop",x="BH4D9OD16A",T="69c73fc1a710bb79543d4b91f6b81c08",S={hitsPerPage:5},k=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).client=v()(x,T,S),n.state={results:null,error:null},n._handleSearchTextChange=function(e){n.props.onChange(e)},n._launchSearchRequest=y()(function(){n.props.value&&n.client.search([{indexName:C,query:n.props.value,params:S}]).then(function(e){var t=e.results[0].hits;console.log(t),n.setState({results:t,error:null})},function(e){n.setState({error:e})})},200),n._renderResult=function(e){var t=e.hierarchy.lvl0||e.hierarchy.lvl1||e.hierarchy.lvl2||e.hierarchy.lvl3||e.hierarchy.lvl4||e.hierarchy.lvl5||e.hierarchy.lvl6,n=[e.hierarchy.lvl0,e.hierarchy.lvl1,e.hierarchy.lvl2,e.hierarchy.lvl3,e.hierarchy.lvl4,e.hierarchy.lvl5,e.hierarchy.lvl6].filter(function(e){return!!e}).filter(function(e){return e!==t}).join(" - ").replace(/&quot;/g,'"');return l.createElement(f.b,{key:e.objectID,primaryText:t,secondaryText:e.content||n,secondaryTextLines:2,onClick:function(){p.b.openExternalURL(e.url)}})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&this.props.value&&this._launchSearchRequest()}},{key:"render",value:function(){var e=this;return l.createElement("div",null,l.createElement(h.b,{id:"help-finder-search-bar",fullWidth:!0,hintText:{id:"Enter what you want to build."},value:this.props.value,onChange:function(t,n){return e.props.onChange(n)}}),l.createElement("div",{id:"help-finder-dropdown-menu-container",className:"algolia-autocomplete",style:Object(m.a)({},O,{visibility:this.props.value?void 0:"hidden"})}),this.state.error?l.createElement(j.a,null,l.createElement(c.Trans,{id:"Unable to search in the documentation. Are you sure you are online and have a proper internet connection?"})):this.state.results?l.createElement(f.a,null,this.state.results.map(function(t){return e._renderResult(t)})):l.createElement(l.Fragment,null,l.createElement(j.a,null,l.createElement(c.Trans,{id:"Examples:"})),l.createElement(g.a,{expand:!0},l.createElement(j.a,null,"Coins in platformer",l.createElement("br",null),"Export on Android",l.createElement("br",null),"Add a score",l.createElement("br",null),"Move enemies",l.createElement("br",null),"...",l.createElement("br",null)))),l.createElement(j.a,{align:"right"},"This search is powered by"," ",l.createElement(d.a,{onClick:function(){return p.b.openExternalURL("http://algolia.com/")},label:"Algolia"})))}}]),t}(l.Component),w=n(9);n.d(t,"a",function(){return N});var N=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={searchText:""},n._handleSearchTextChange=function(e){n.setState({searchText:e}),n._sendHelpSearch()},n._sendHelpSearch=y()(function(){n.state.searchText&&Object(w.g)(n.state.searchText.trim())},2900),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.open&&!this.props.open&&Object(w.f)()}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.onClose;return l.createElement(u.a,{title:l.createElement(c.Trans,{id:"Help!"}),onRequestClose:n,actions:[l.createElement(d.a,{label:l.createElement(c.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n})],secondaryActions:[l.createElement(d.a,{key:"forum",primary:!1,onClick:function(){p.b.openExternalURL("https://forum.gdevelop-app.com")},label:l.createElement(c.Trans,{id:"Community forum"})}),l.createElement(d.a,{key:"wiki",primary:!1,onClick:function(){p.b.openExternalURL("http://wiki.compilgames.net/doku.php/gdevelop5/start")},label:l.createElement(c.Trans,{id:"Wiki"})})],open:t},l.createElement(k,{value:this.state.searchText,onChange:this._handleSearchTextChange}))}}]),t}(l.PureComponent)},2112:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(186),d=n(375),p=n(159),m=n(25),h=n(134),f=n(144),g=n(96),b=n(208),v=n(118);n.d(t,"a",function(){return O});var E="Events Based Behavior",y={listContainer:{flex:1}},j=function(e){return e.getName()},O=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={renamedEventsBasedBehavior:null,searchText:""},n._deleteEventsBasedBehavior=function(e,t){var a=t.askForConfirmation,r=n.props.eventsBasedBehaviorsList;if(a&&!confirm("Are you sure you want to remove this behavior? This can't be undone."))return;n.props.onDeleteEventsBasedBehavior(e,function(t){t&&(r.remove(e.getName()),n.forceUpdate())})},n._editName=function(e){n.setState({renamedEventsBasedBehavior:e},function(){n.sortableList&&n.sortableList.forceUpdateGrid()})},n._rename=function(e,t){var a=n.props.eventsBasedBehaviorsList;n.setState({renamedEventsBasedBehavior:null}),e.getName()!==t&&(a.has(t)?Object(m.c)("Another behavior with this name already exists."):n.props.onRenameEventsBasedBehavior(e,t,function(a){a&&(e.setName(t),n.forceUpdate(),n.props.onEventsBasedBehaviorRenamed(e))}))},n._moveSelectionTo=function(e){var t=n.props,a=t.eventsBasedBehaviorsList,r=t.selectedEventsBasedBehavior;r&&(a.move(a.getPosition(r),a.getPosition(e)),n.forceUpdateList())},n.forceUpdateList=function(){n.forceUpdate(),n.sortableList&&n.sortableList.forceUpdateGrid()},n._copyEventsBasedBehavior=function(e){b.a.set(E,{eventsBasedBehavior:Object(v.b)(e),name:e.getName()})},n._cutEventsBasedBehavior=function(e){n._copyEventsBasedBehavior(e),n._deleteEventsBasedBehavior(e,{askForConfirmation:!1})},n._pasteEventsBasedBehavior=function(e){if(b.a.has(E)){var t=b.a.get(E),a=t.eventsBasedBehavior,r=t.name,o=n.props,i=o.project,s=o.eventsBasedBehaviorsList,c=Object(f.a)(r,function(e){return s.has(e)}),l=s.insertNew(c,e);Object(v.c)(l,a,"unserializeFrom",i),l.setName(c),n.forceUpdate()}},n._renderEventsBasedBehaviorMenuTemplate=function(e,t){return[{label:"Properties",click:function(){return n.props.onEditProperties(e)}},{type:"separator"},{label:"Rename",click:function(){return n._editName(e)}},{label:"Remove",click:function(){return n._deleteEventsBasedBehavior(e,{askForConfirmation:!0})}},{type:"separator"},{label:"Copy",click:function(){return n._copyEventsBasedBehavior(e)}},{label:"Cut",click:function(){return n._cutEventsBasedBehavior(e)}},{label:"Paste",enabled:b.a.has(E),click:function(){return n._pasteEventsBasedBehavior(t)}}]},n._addNewEventsBasedBehavior=function(){var e=n.props.eventsBasedBehaviorsList,t=Object(f.a)("MyBehavior",function(t){return e.has(t)});e.insertNew(t,e.getCount()),n.forceUpdate()},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e,t=this,n=this.props,a=n.project,r=n.eventsBasedBehaviorsList,o=n.selectedEventsBasedBehavior,i=n.onSelectEventsBasedBehavior,s=this.state.searchText,m=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter(function(e){return-1!==e.getName().toLowerCase().indexOf(n)})}((e=r,Object(g.mapVector)(e,function(e){return e})),s),f=a.ptr+";"+r.ptr;return l.createElement(h.a,null,l.createElement("div",{style:y.listContainer},l.createElement(u.a,null,function(e){var n=e.height,a=e.width;return l.createElement(d.a,{key:f,ref:function(e){return t.sortableList=e},fullList:m,width:a,height:n,onAddNewItem:t._addNewEventsBasedBehavior,addNewItemLabel:l.createElement(c.Trans,{id:"Add a new behavior"}),getItemName:j,selectedItems:o?[o]:[],onItemSelected:i,renamedItem:t.state.renamedEventsBasedBehavior,onRename:t._rename,onMoveSelectionToItem:t._moveSelectionTo,buildMenuTemplate:t._renderEventsBasedBehaviorMenuTemplate,reactDndType:"GD_EVENTS_BASED_BEHAVIOR"})})),l.createElement(p.a,{value:s,onRequestSearch:function(){},onChange:function(e){return t.setState({searchText:e})}}))}}]),t}(l.Component);O.defaultProps={onDeleteEventsBasedBehavior:function(e,t){return t(!0)},onRenameEventsBasedBehavior:function(e,t,n){return n(!0)}}},2113:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(186),d=n(375),p=n(159),m=n(25),h=n(134),f=n(144),g=n(96),b=n(208),v=n(118);n.d(t,"a",function(){return O});var E="Events Function",y={listContainer:{flex:1}},j=function(e){return e.getName()},O=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={renamedEventsFunction:null,searchText:""},n._deleteEventsFunction=function(e,t){var a=t.askForConfirmation,r=n.props.eventsFunctionsContainer;if(a&&!confirm("Are you sure you want to remove this function? This can't be undone."))return;n.props.onDeleteEventsFunction(e,function(t){t&&(r.removeEventsFunction(e.getName()),n.forceUpdate())})},n._editName=function(e){n.setState({renamedEventsFunction:e},function(){n.sortableList&&n.sortableList.forceUpdateGrid()})},n._rename=function(e,t){var a=n.props.eventsFunctionsContainer;n.setState({renamedEventsFunction:null}),e.getName()!==t&&(a.hasEventsFunctionNamed(t)?Object(m.c)("Another function with this name already exists."):n.props.onRenameEventsFunction(e,t,function(a){a&&(e.setName(t),n.forceUpdate())}))},n._moveSelectionTo=function(e){var t=n.props,a=t.eventsFunctionsContainer,r=t.selectedEventsFunction;r&&(a.moveEventsFunction(a.getEventsFunctionPosition(r),a.getEventsFunctionPosition(e)),n.forceUpdateList())},n.forceUpdateList=function(){n.forceUpdate(),n.sortableList&&n.sortableList.forceUpdateGrid()},n._copyEventsFunction=function(e){b.a.set(E,{eventsFunction:Object(v.b)(e),name:e.getName()})},n._cutEventsFunction=function(e){n._copyEventsFunction(e),n._deleteEventsFunction(e,{askForConfirmation:!1})},n._pasteEventsFunction=function(e){if(b.a.has(E)){var t=b.a.get(E),a=t.eventsFunction,r=t.name,o=n.props,i=o.project,s=o.eventsFunctionsContainer,c=Object(f.a)(r,function(e){return s.hasEventsFunctionNamed(e)}),l=s.insertNewEventsFunction(c,e);Object(v.c)(l,a,"unserializeFrom",i),l.setName(c),n.props.onEventsFunctionAdded(l),n.forceUpdate()}},n._renderEventsFunctionMenuTemplate=function(e,t){return[{label:"Rename",click:function(){return n._editName(e)},enabled:n.props.canRename(e)},{label:"Remove",click:function(){return n._deleteEventsFunction(e,{askForConfirmation:!0})}},{type:"separator"},{label:"Copy",click:function(){return n._copyEventsFunction(e)}},{label:"Cut",click:function(){return n._cutEventsFunction(e)}},{label:"Paste",enabled:b.a.has(E),click:function(){return n._pasteEventsFunction(t)}}]},n._addNewEventsFunction=function(){var e=n.props.eventsFunctionsContainer;n.props.onAddEventsFunction(function(t,a){if(t){var r=a||Object(f.a)("Function",function(t){return e.hasEventsFunctionNamed(t)}),o=e.insertNewEventsFunction(r,e.getEventsFunctionsCount());n.props.onEventsFunctionAdded(o),n.forceUpdate()}})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.eventsFunctionsContainer,r=t.selectedEventsFunction,o=t.onSelectEventsFunction,i=t.renderHeader,s=this.state.searchText,m=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter(function(e){return-1!==e.getName().toLowerCase().indexOf(n)})}(function(e){return Object(g.mapFor)(0,e.getEventsFunctionsCount(),function(t){return e.getEventsFunctionAt(t)})}(a),s),f=n.ptr+";"+a.ptr;return l.createElement(h.a,null,i?i():null,l.createElement("div",{style:y.listContainer},l.createElement(u.a,null,function(t){var n=t.height,a=t.width;return l.createElement(d.a,{key:f,ref:function(t){return e.sortableList=t},fullList:m,width:a,height:n,onAddNewItem:e._addNewEventsFunction,addNewItemLabel:l.createElement(c.Trans,{id:"Add a new function"}),getItemName:j,selectedItems:r?[r]:[],onItemSelected:o,renamedItem:e.state.renamedEventsFunction,onRename:e._rename,onMoveSelectionToItem:e._moveSelectionTo,buildMenuTemplate:e._renderEventsFunctionMenuTemplate,reactDndType:"GD_EVENTS_FUNCTION"})})),l.createElement(p.a,{value:s,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})}}))}}]),t}(l.Component);O.defaultProps={onDeleteEventsFunction:function(e,t){return t(!0)},onRenameEventsFunction:function(e,t,n){return n(!0)}}},2114:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(162),d=n(2),p=n.n(d),m=p()("fs"),h=p()("path"),f=function(e){var t=function(t){return m.readdir(t,function(n,a){n?console.error("Unable to read GDJS files for setting up autocompletions:",n):a.forEach(function(n){if(n.endsWith(".js")){var a=h.join(t,n);m.readFile(a,"utf8",function(t,n){t?console.error("Unable to read ".concat(a," for setting up autocompletions:"),t):e.languages.typescript.javascriptDefaults.addExtraLib(n,a)})}})})};Object(u.findGDJS)().then(function(n){var a=n.gdjsRoot,r=h.join(a,"Runtime"),o=h.join(r,"Extensions"),i=h.join(r,"events-tools");t(r),t(i),m.readdir(o,function(e,n){e?console.error("Unable to read Extensions folders for setting up autocompletions:",e):n.filter(function(e){return!e.endsWith(".txt")&&!e.endsWith(".md")&&!e.endsWith(".gitignore")}).forEach(function(e){return t(h.join(o,e))})}),e.languages.typescript.javascriptDefaults.addExtraLib('\n/** Represents the scene being played. */\nvar runtimeScene = new gdjs.RuntimeScene();\n\n/** The instances of objects that are passed to your JavaScript function.\n * @type {gdjs.RuntimeObject[]}\n */\nvar objects = new gdjs.RuntimeScene();\n\n/**\n * Get the list of instances of the specified object.\n *\n * @callback GetObjectsFunction\n * @param {string} objectName The name of the object for which instances must be returned.\n * @return {gdjs.RuntimeObject[]} Instances of the specified object.\n */\n\n/**\n * Get the Hashtable containing the lists of instances of the specified object.\n *\n * You can alter the list and this will alter the objects picked for the next conditions/actions/events.\n * If you don\'t need this, prefer using `getObjects`.\n *\n * @callback GetObjectsListsFunction\n * @param {string} objectName The name of the object for which instances must be returned.\n * @return {?Hashtable} Hashtable containing the lists of instances (keys are object names in the current context), or `null` if not found\n */\n\n/**\n * Create a new object from its name. The object is added to the instances\n * living on the scene.\n *\n * @callback CreateObjectFunction\n * @param {string} objectName The name of the object to be created\n * @return {gdjs.RuntimeObject} The created object\n */\n\n/**\n * Get the "real" behavior name, that can be used with `getBehavior`. For example:\n * `object.getBehavior(eventsFunctionContext.getBehaviorName("MyBehavior"))`\n *\n * @callback GetBehaviorNameFunction\n * @param {string} behaviorName The name of the behavior, as specified in the parameters of the function.\n * @return {string} The name that can be passed to `getBehavior`.\n */\n\n/**\n * Get the value (string or number) of an argument that was passed to the events function.\n * To get objects, use `getObjects`.\n *\n * @callback GetArgumentFunction\n * @param {string} argumentName The name of the argument, as specified in the parameters of the function.\n * @return {string|number} The string or number passed for this argument\n */\n\n/** Represents the context of the events function (or the behavior method),\n * if any. If the JS code is running in a scene, this will be undefined (so you can\'t use this in a scene).\n *\n * @type {?{getObjects: GetObjectsFunction, getObjectsLists: GetObjectsListsFunction, getBehaviorName: GetBehaviorNameFunction, createObject: CreateObjectFunction, getArgument: GetArgumentFunction, returnValue: boolean | number | string}}\n */\nvar eventsFunctionContext = {};\n',"this-mock-the-context-of-events.js")})},g=n(153),b=n(90),v=n(89),E=n(142),y=n(835);n.d(t,"a",function(){return x});var j={scrollBeyondLastLine:!1,minimap:{enabled:!1}},O=!1,C=!1,x=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={MonacoEditor:null,error:null},n.setupEditorThemes=function(e){C||(C=!0,Object(y.a)().forEach(function(t){t.themeData&&e.editor.defineTheme(t.themeName,t.themeData)}))},n.setupEditorCompletions=function(e,t){O||(O=!0,t.languages.typescript.javascriptDefaults.setCompilerOptions({target:t.languages.typescript.ScriptTarget.ES6,allowNonTsExtensions:!0,allowJs:!0,checkJs:!0}),f(t)),n.props.onEditorMounted&&n.props.onEditorMounted()},n._handleContextMenu=function(e){e.preventDefault(),e.stopPropagation()},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.loadMonacoEditor()}},{key:"handleLoadError",value:function(e){this.setState({error:e})}},{key:"loadMonacoEditor",value:function(){var e=this;this.setState({error:null}),n.e(56).then(n.t.bind(null,2211,7)).then(function(t){return e.setState({MonacoEditor:t.default})}).catch(this.handleLoadError)}},{key:"render",value:function(){var e=this,t=this.state,n=t.MonacoEditor;return t.error?l.createElement(l.Fragment,null,l.createElement(v.a,null,l.createElement(c.Trans,{id:"Unable to load the code editor"})),l.createElement(b.a,{label:l.createElement(c.Trans,{id:"Retry"}),onClick:this.loadMonacoEditor})):n?l.createElement("div",{onContextMenu:this._handleContextMenu},l.createElement(E.b.Consumer,null,function(t){var a=t.values;return l.createElement(n,{width:e.props.width||600,height:"400",language:"javascript",theme:a.codeEditorThemeName,value:e.props.value,onChange:e.props.onChange,editorWillMount:e.setupEditorThemes,editorDidMount:e.setupEditorCompletions,options:j})})):l.createElement(g.a,null)}}]),t}(l.Component)},2115:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(88),p=n(96),m=n(97),h={container:{display:"flex",flexDirection:"column",flex:1}},f=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,n=this.props,a=n.expressionMetadata,r=n.parameterValues,o=n.project,i=n.scope,s=n.globalObjectsContainer,u=n.objectsContainer,d=n.parameterRenderingService;if(!d)return console.error("Missing parameterRenderingService for ExpressionParametersEditor"),null;var f=a.getParametersCount(),g={getParametersCount:function(){return f},getParameter:function(e){return r[e]||""}};return l.createElement("div",{style:h.container},Object(p.mapFor)(0,a.getParametersCount(),function(t){var n=a.getParameter(t),c=d.getParameterComponent(n.getType());return n.isCodeOnly()?null:l.createElement(c,{expressionMetadata:a,expression:g,parameterMetadata:n,parameterIndex:t,value:r[t],onChange:function(n){return e.props.onChangeParameter(t,n)},project:o,scope:i,globalObjectsContainer:s,objectsContainer:u,key:t,parameterRenderingService:d})}),0===t.getNonCodeOnlyParametersCount(a)&&l.createElement(m.a,null,l.createElement(c.Trans,{id:"There is nothing to configure."})))}}],[{key:"getNonCodeOnlyParametersCount",value:function(e){return Object(p.mapFor)(0,e.getParametersCount(),function(t){return!e.getParameter(t).isCodeOnly()}).filter(function(e){return e}).length}}]),t}(l.Component),g=n(92),b=n(80);n.d(t,"a",function(){return E});var v={minHeightContainer:{minHeight:300,flex:1,flexDirection:"column"}},E=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={parameterValues:Array(n.props.expressionMetadata.getParametersCount()).fill("")},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.scope,r=t.globalObjectsContainer,o=t.objectsContainer,i=t.expressionMetadata,s=t.parameterRenderingService;return u.a.createElement(g.a,{title:u.a.createElement(c.Trans,{id:"Enter the expression parameters"}),open:!0,actions:u.a.createElement(d.a,{key:"apply",label:u.a.createElement(c.Trans,{id:"Apply"}),primary:!0,onClick:function(){return e.props.onDone(e.state.parameterValues)}}),modal:!0,noMargin:!0,onRequestClose:this.props.onRequestClose},u.a.createElement(b.a,null,u.a.createElement("div",{style:v.minHeightContainer},u.a.createElement(f,{project:n,scope:a,globalObjectsContainer:r,objectsContainer:o,expressionMetadata:i,parameterValues:this.state.parameterValues,onChangeParameter:function(t,n){e.setState({parameterValues:e.state.parameterValues.map(function(e,a){return a===t?n:e})})},parameterRenderingService:s}))))}}]),t}(l.Component)},2116:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(2205),p=n(2206),m=n(2207),h=n(2208),f=n(88),g=n(92),b=n(265),v=n(80),E=n(371),y=n(90),j=n(1718),O=n.n(j),C=n(97),x=n(25),T=n(267),S=n(216),k=n(9),w=n(2195),N=n(180),_=n(1717),P=n.n(_),I=n(89);function B(e){var t=e.onClose,n=e.userProfile,a=!!n&&!!n.subscription&&!!n.subscription.planId;return function(e,t){var n=Object(l.useRef)();Object(l.useEffect)(function(){n.current=e}),Object(l.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current&&n.current()},t);return function(){return clearInterval(e)}}},[t])}(function(){return n.onRefreshUserProfile()},a?null:3900),u.a.createElement(g.a,{actions:[a?u.a.createElement(y.a,{label:u.a.createElement(c.Trans,{id:"Done!"}),key:"close",primary:!0,onClick:t}):u.a.createElement(f.a,{label:u.a.createElement(c.Trans,{id:"Cancel and close"}),key:"close",primary:!1,onClick:t})],title:void 0,maxWidth:"sm",open:!0,noMargin:!0},!a&&u.a.createElement(v.a,null,u.a.createElement(v.b,null,u.a.createElement(I.a,null,u.a.createElement(c.Trans,{id:"Thanks for getting a subscription and supporting GDevelop!"})," ","\u2764\ufe0f",u.a.createElement("b",null,u.a.createElement(c.Trans,{id:"Your browser will now open to enter your payment details (handled securely by Stripe.com)."})))),u.a.createElement(v.b,{justifyContent:"center",alignItems:"center"},u.a.createElement(w.a,{size:20}),u.a.createElement(v.c,null),u.a.createElement(I.a,null,"Waiting for the subscription confirmation...")),u.a.createElement(v.c,null),u.a.createElement(v.b,{justifyContent:"center"},u.a.createElement(N.a,null,u.a.createElement(c.Trans,{id:"Once you're done, come back to GDevelop and your account will be upgraded automatically, unlocking the extra exports and online services."})))),a&&u.a.createElement(v.a,null,u.a.createElement(v.b,null,u.a.createElement(I.a,null,u.a.createElement(c.Trans,{id:"Thanks for getting a subscription and supporting GDevelop!"})," ","\u2764\ufe0f")),u.a.createElement(v.b,{justifyContent:"center",alignItems:"center"},u.a.createElement(P.a,null),u.a.createElement(v.c,null),u.a.createElement(I.a,null,u.a.createElement("b",null,u.a.createElement(c.Trans,{id:"Your new plan is now activated"})))),u.a.createElement(v.c,null),u.a.createElement(v.b,{justifyContent:"center"},u.a.createElement(N.a,null,u.a.createElement(c.Trans,{id:"Your account is upgraded, with the extra exports and online services. If you wish to change later, come back to your profile and choose another plan."})))))}var M=n(3);n.d(t,"a",function(){return R});var F={descriptionText:{marginLeft:16,marginRight:16,marginTop:8,marginBottom:8},card:{margin:16},actions:{textAlign:"right",display:"flex",justifyContent:"flex-end"},bulletIcon:{width:20,height:20,marginLeft:5,marginRight:10},bulletText:{flex:1}},R=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={isLoading:!1,subscriptionPendingDialogOpen:!1},n.choosePlan=function(e,t,a){var r=t.getAuthorizationHeader,o=t.subscription,i=t.profile;if(i&&o)if(Object(k.b)(a.planId),o.stripeSubscriptionId){if(!confirm(a.planId?e._({id:"Are you sure you want to subscribe to this new plan?"}):e._({id:"Are you sure you want to cancel your subscription?"})))return;n.setState({isLoading:!0}),Object(E.a)(r,i.uid,{planId:a.planId}).then(function(){return n.handleUpdatedSubscriptionSuccess(e,t,a)},function(t){return n.handleUpdatedSubscriptionFailure(e,t)})}else n.setState({subscriptionPendingDialogOpen:!0}),M.b.openExternalURL(Object(E.b)(a.planId||"",i.uid,i.email||""))},n.handleUpdatedSubscriptionSuccess=function(e,t,a){t.onRefreshUserProfile(),n.setState({isLoading:!1}),a.planId?Object(x.b)(e._({id:"Congratulations, your new subscription is now active!\\n\\nYou can now use the services unlocked with this plan."})):Object(x.b)(e._({id:"Your subscription was properly cancelled. Sorry to see you go!"}))},n.handleUpdatedSubscriptionFailure=function(e,t){n.setState({isLoading:!1}),Object(x.a)(e._({id:"Your subscription could not be updated. Please try again later!"}),t)},n._isLoading=function(e){return!e.subscription||!e.profile||n.state.isLoading},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.open&&Object(k.m)()}},{key:"componentWillReceiveProps",value:function(e){!this.props.open&&e.open&&Object(k.m)()}},{key:"_renderPrice",value:function(e){return e.monthlyPriceInEuros?l.createElement(c.Trans,{id:"{0}\u20ac/month",values:{0:e.monthlyPriceInEuros}}):l.createElement(c.Trans,{id:"Free"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.open,a=t.onClose,r=this.state.subscriptionPendingDialogOpen;return l.createElement(c.I18n,null,function(t){var o=t.i18n;return l.createElement(b.a.Consumer,null,function(t){return l.createElement(g.a,{actions:[l.createElement(f.a,{label:l.createElement(c.Trans,{id:"Close"}),key:"close",primary:!1,onClick:a})],onRequestClose:a,open:n,noMargin:!0},l.createElement(v.a,null,l.createElement(v.b,null,l.createElement(I.a,null,l.createElement(c.Trans,{id:"Get a subscription to package your games for Android, Windows, macOS and Linux, use live preview over wifi and more. With a subscription, you're also supporting the development of GDevelop, which is an open-source software."})))),Object(E.c)().map(function(n){return l.createElement(d.a,{key:n.planId||"",style:F.card},l.createElement(p.a,{title:l.createElement("span",null,l.createElement("b",null,n.name)," - ",e._renderPrice(n)),subheader:n.smallDescription?o._(n.smallDescription):""}),l.createElement(m.a,null,n.descriptionBullets.map(function(e,t){return l.createElement(v.a,{key:t,expand:!0},l.createElement(v.b,{noMargin:!0,alignItems:"center"},l.createElement(O.a,{style:F.bulletIcon}),l.createElement(I.a,{style:F.bulletText},o._(e.message)," ",e.isLocalAppOnly&&l.createElement(c.Trans,{id:"(on the desktop app only)"}))))}),l.createElement(I.a,{style:F.descriptionText},n.extraDescription?o._(n.extraDescription):"")),l.createElement(h.a,{style:F.actions},t.subscription&&t.subscription.planId===n.planId?l.createElement(f.a,{disabled:!0,label:l.createElement(c.Trans,{id:"This is your current plan"}),onClick:function(){return e.choosePlan(o,t,n)}}):n.planId?l.createElement(T.a,{isLoading:e._isLoading(t)},l.createElement(y.a,{primary:!0,disabled:e._isLoading(t),label:l.createElement(c.Trans,{id:"Choose this plan"}),onClick:function(){return e.choosePlan(o,t,n)}})):l.createElement(T.a,{isLoading:e._isLoading(t)},l.createElement(f.a,{disabled:e._isLoading(t),label:l.createElement(c.Trans,{id:"Cancel your subscription"}),onClick:function(){return e.choosePlan(o,t,n)}}))))}),l.createElement(v.a,null,l.createElement(v.b,null,l.createElement(C.a,null,l.createElement(c.Trans,{id:"Subscriptions can be stopped at any time. GDevelop uses Stripe.com for secure payment. No credit card data is stored by GDevelop: everything is managed by Stripe secure infrastructure."})))),!t.authenticated&&l.createElement(S.a,null,l.createElement(I.a,null,l.createElement(c.Trans,{id:"Create a GDevelop account to continue. It's free and you'll be able to access to online services like one-click build for Android:"})),l.createElement(y.a,{label:l.createElement(c.Trans,{id:"Create my account"}),primary:!0,onClick:t.onLogin}),l.createElement(f.a,{label:l.createElement(c.Trans,{id:"Not now, thanks"}),onClick:a})),r&&l.createElement(B,{userProfile:t,onClose:function(){e.setState({subscriptionPendingDialogOpen:!1},function(){return t.onRefreshUserProfile()})}}))})})}}]),t}(l.Component)},2117:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(78),u=n(92),d=n(88),p=n(839),m=n(89),h=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.open,a=t.onClose;if(!n)return null;var r=[c.createElement(d.a,{key:"close",label:c.createElement(l.Trans,{id:"Close"}),primary:!0,onClick:a})];return c.createElement(u.a,{title:c.createElement(l.Trans,{id:"What's new in GDevelop?"}),actions:r,open:n,onRequestClose:a,modal:!0},c.createElement(m.a,null,c.createElement(l.Trans,{id:"GDevelop was upgraded to a new version! Check out the changes."})),c.createElement(p.a,{onUpdated:function(){e.forceUpdate()}}))}}]),t}(c.Component),f=n(142),g=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={open:n.props.defaultOpen},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.state.open;return c.createElement(h,{open:t,onClose:function(){return e.setState({open:!1})}})}}]),t}(c.Component);t.a=function(e){return c.createElement(f.b.Consumer,null,function(e){var t=e.values,n=e.verifyIfIsNewVersion;return c.createElement(g,{defaultOpen:n()&&t.autoDisplayChangelog})})}},214:function(e,t,n){"use strict";(function(e){n.d(t,"g",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"d",function(){return h});var a=n(96),r=n(188),o=n.n(r),i=n(236),s=e.gd,c=function(e){return function(t){return e&&t&&e.global===t.global&&e.object===t.object}},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=function(a){return!n||s.getTypeOfObject(e,t,a.getName(),!1)===n},o=Object(a.mapFor)(0,t.getObjectsCount(),function(e){return t.getObjectAt(e)}).filter(r).map(function(e){return{object:e,global:!1}}),i=e===t?[]:Object(a.mapFor)(0,e.getObjectsCount(),function(t){return e.getObjectAt(t)}).filter(r).map(function(e){return{object:e,global:!0}}),c=o.concat(i);return{containerObjectsList:o,projectObjectsList:i,allObjectsList:c}},u=function(e){var t=e.getCurrentPlatform().getAllPlatformExtensions();return o()(Object(a.mapFor)(0,t.size(),function(e){var n=t.at(e);return n.getExtensionObjectsTypes().toJSArray().map(function(e){return n.getObjectMetadata(e)}).map(function(e){return{extension:n,objectMetadata:e,name:e.getName(),fullName:e.getFullName(),description:e.getDescription(),iconFilename:e.getIconFilename()}})}))},d=function(e,t){var n=t.searchText,a=t.selectedTags;if(!n&&!a.length)return e;var r=n.toLowerCase();return e.filter(function(e){if(!a.length)return!0;var t=e.object.getTags();return Object(i.d)(t,a)}).filter(function(e){return-1!==e.object.getName().toLowerCase().indexOf(r)})},p=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter(function(e){return-1!==e.group.getName().toLowerCase().indexOf(n)})},m=function(e){return Object(a.mapFor)(0,e.count(),function(t){return e.getAt(t)})},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=function(a){return!n||s.getTypeOfObject(e,t,a.getName(),!1)===n},o=function(a){return!n||s.getTypeOfObject(e,t,a.getName(),!0)===n},i=Object(a.mapFor)(0,t.getObjectsCount(),function(e){return t.getObjectAt(e)}).filter(r).map(function(e){return{object:e,global:!1}}),c=t.getObjectGroups(),l=m(c).filter(o).map(function(e){return{group:e,global:!1}}),u=e===t?[]:Object(a.mapFor)(0,e.getObjectsCount(),function(t){return e.getObjectAt(t)}).filter(r).map(function(e){return{object:e,global:!0}}),d=e.getObjectGroups(),p=e===t?[]:m(d).filter(o).map(function(e){return{group:e,global:!0}}),h=i.concat(u),f=l.concat(p);return{containerObjectsList:i,projectObjectsList:u,allObjectsList:h,containerGroupsList:l,projectGroupsList:p,allGroupsList:f}}}).call(this,n(1))},216:function(e,t,n){"use strict";var a=n(10),r=n(2178);t.a=function(e){return a.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement(r.a,{elevation:3,style:{padding:10,margin:5}},e.children))}},221:function(e,t,n){"use strict";var a=n(120),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(10),d=n(168),p=n(1059),m=n.n(p),h=n(151),f=n.n(h),g=n(590),b=n.n(g),v=(n(114),n(210)),E=n(135),y=n(90),j=n(167),O=function(){throw new Error("This RaisedButtonWithMenu onClick should never be called")},C=function(e){var t=e.buildMenuTemplate,n=Object(E.a)(e,["buildMenuTemplate"]);return u.createElement(j.a,{element:u.createElement(y.a,Object.assign({},n,{onClick:O})),buildMenuTemplate:t})},x=n(137),T=n(105);n.d(t,"a",function(){return S});var S=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e)))._addFrom=function(e){if(e){var t=n.props,a=t.project;(0,t.onChooseResource)(e.name,!1).then(function(e){if(e.length){var t=e[0];Object(v.b)(a,t),a.getResourcesManager().addResource(t),n._loadFrom(a.getResourcesManager());var r=t.getName();n._onChangeResourceName(r),n._autoComplete&&n._autoComplete.forceInputValueTo(r),e.forEach(function(e){return e.delete()})}}).catch(function(e){console.error("Unable to choose a resource",e)})}},n._onResetResourceName=function(){n.setState({resourceName:"",notExistingError:!1},function(){n.props.onChange&&n.props.onChange(n.state.resourceName)})},n._onChangeResourceName=function(e){""!==e?n.setState({resourceName:e,notExistingError:-1===n.allResourcesNames.indexOf(e)},function(){n.state.notExistingError||n.props.onChange&&n.props.onChange(e)}):n._onResetResourceName()},n._editWith=function(e){var t=n.props,a=t.project,r=t.resourcesLoader,o=t.resourceKind,i=n.state.resourceName,s=a.getResourcesManager(),c={},l=s.getResource(i).getMetadata();if(l)try{c=JSON.parse(l)}catch(h){console.error("Malformed metadata",h)}if("image"===o){var u=[];s.hasResource(i)&&u.push(i);var d={project:a,resourcesLoader:r,singleFrame:!0,resourceNames:u,extraOptions:{fps:0,name:i,isLooping:!1,externalEditorData:c},onChangesSaved:function(e){e.length&&(r.burstUrlsCacheForResources(a,[e[0].name]),n.props.onChange(e[0].name))}};e.edit(d)}else if("audio"===o){var p={project:a,resourcesLoader:r,resourceNames:[i],extraOptions:{externalEditorData:c},onChangesSaved:function(e){r.burstUrlsCacheForResources(a,[e[0].name]),n.props.onChange(e[0].name)}};e.edit(p)}else if("json"===o){var m={project:a,resourcesLoader:r,resourceNames:[i],extraOptions:{initialResourceMetadata:c},onChangesSaved:function(e){n.props.onChange(e[0].name)}};e.edit(m)}},n.state={notExistingError:!1,resourceName:e.initialResourceName||""};var a=e.project;return a&&n._loadFrom(a.getResourcesManager()),n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"focus",value:function(){this._autoComplete&&this._autoComplete.focus()}},{key:"componentWillReceiveProps",value:function(e){e.initialResourceName!==this.props.initialResourceName&&this.setState({resourceName:e.initialResourceName||""})}},{key:"_getResourceSourceItems",value:function(){var e=this,t=this.props.resourceSources||[];return[].concat(Object(a.a)(t.filter(function(t){return t.kind===e.props.resourceKind}).map(function(t){return{text:"",value:t.displayName,renderIcon:function(){return u.createElement(f.a,null)},onClick:function(){return e._addFrom(t)}}})),[{type:"separator"}])}},{key:"_loadFrom",value:function(e){var t=this;this.allResourcesNames=e.getAllResourceNames().toJSArray(),this.props.resourceKind&&(this.allResourcesNames=this.allResourcesNames.filter(function(n){return e.getResource(n).getKind()===t.props.resourceKind}));var n=this._getResourceSourceItems(),r=this.allResourcesNames.map(function(e){return{text:e,value:e}});this.autoCompleteData=[].concat(Object(a.a)(n),Object(a.a)(r))}},{key:"render",value:function(){var e=this,t=this.state.notExistingError?"This resource does not exist in the game":null,n=this.props.resourceExternalEditors.filter(function(t){return t.kind===e.props.resourceKind});return u.createElement(x.b,{noFloatingLabelText:!this.props.floatingLabelText,margin:this.props.margin,renderTextField:function(){return u.createElement(d.a,{floatingLabelText:e.props.floatingLabelText,helperMarkdownText:e.props.helperMarkdownText,hintText:e.props.hintText,openOnFocus:!0,dataSource:e.autoCompleteData||[],value:e.state.resourceName,onChange:e._onChangeResourceName,errorText:t,fullWidth:e.props.fullWidth,margin:e.props.margin,ref:function(t){return e._autoComplete=t}})},renderButton:function(t){return u.createElement(u.Fragment,null,e.props.canBeReset&&u.createElement(T.a,{size:"small",onClick:function(){e._onResetResourceName()}},u.createElement(m.a,null)),n.length?u.createElement(C,{style:t,icon:u.createElement(b.a,null),label:e.state.resourceName?u.createElement(l.Trans,{id:"Edit"}):u.createElement(l.Trans,{id:"Create"}),primary:!0,buildMenuTemplate:function(){return n.map(function(t){return{label:t.displayName,click:function(){return e._editWith(t)}}})}}):null)}})}}]),t}(u.Component)},231:function(e,t,n){"use strict";(function(e){var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(88),p=n(92),m=n(412),h=n(574),f=e.gd,g=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onCancel,a=t.onApply,r=t.open,o=t.onEditObjectVariables,i=t.title,s=t.emptyExplanationMessage,l=t.emptyExplanationSecondMessage,m=t.variablesContainer,f=[u.a.createElement(d.a,{label:u.a.createElement(c.Trans,{id:"Cancel"}),onClick:this.props.onCancel,key:"Cancel"}),u.a.createElement(d.a,{label:u.a.createElement(c.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:a,key:"Apply"})],g=o?u.a.createElement(d.a,{label:u.a.createElement(c.Trans,{id:"Edit Object Variables"}),primary:!1,onClick:o}):null;return u.a.createElement(p.a,{noMargin:!0,actions:f,modal:!0,open:r,onRequestClose:n,secondaryActions:g,title:i},u.a.createElement(h.a,{variablesContainer:m,emptyExplanationMessage:s,emptyExplanationSecondMessage:l,onSizeUpdated:function(){return e.forceUpdate()}}))}}]),t}(l.Component);t.a=Object(m.a)(g,{newObjectCreator:function(){return new f.VariablesContainer},propName:"variablesContainer"})}).call(this,n(1))},236:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c});var a=n(120),r=function(e,t){return e.filter(function(e){return e!==t})},o=function(e){var t=e.noTagLabel,n=e.getAllTags,o=e.selectedTags,i=e.onChange,s=e.onEditTags,c=e.editTagsLabel,l=n(),u=s&&c?[{type:"separator"},{label:c,click:s}]:[];return l.length?l.map(function(e){return{type:"checkbox",label:e,checked:o.includes(e),click:function(){var t,n;o.includes(e)?i(r(o,e)):i((t=o,n=[e],Array.from(new Set([].concat(Object(a.a)(t),Object(a.a)(n))))))}}}).concat(u):[{label:t,enabled:!1}].concat(u)},i=function(e){return""===e.trim()?[]:e.split(",").map(function(e){return e.trim()})},s=function(e){return e.join(", ")},c=function(e,t){var n=!0,a=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;if(-1===e.indexOf(s))return!1}}catch(c){a=!0,r=c}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return!0}},238:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o});var a=function(e,t,n){return""+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},r=function(e,t,n){return(e<<16)+(t<<8)+n},o=function(e){var t=parseInt(e.replace("#",""),16);return{r:t>>16&255,g:t>>8&255,b:255&t,a:255}}},239:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"f",function(){return c});var a=function(e){return"object-group-key-".concat(e.group.getName(),"-").concat(e.global?"-global":"")},r=function(e){return"object-key-".concat(e.object.getName(),"-").concat(e.global?"-global":"")},o=function(e){return"object-or-object-group-value-".concat(e)},i=function(e){return"instruction-key-".concat(e.fullGroupName,"-").concat(e.type)},s=function(e){return"instruction-value-".concat(e)},c=function(e){return"subheader-key-".concat(e)}},241:function(e,t,n){"use strict";(function(e){n.d(t,"e",function(){return l}),n.d(t,"f",function(){return m}),n.d(t,"d",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return g}),n.d(t,"c",function(){return b});var a=n(83),r=n(96),o=n(1455),i=n(348),s=e.gd,c=function(e){return Object(o.a)(e,"_",[])},l=function(e,t,n){return Promise.all(Object(r.mapFor)(0,e.getEventsFunctionsExtensionsCount(),function(a){return u(e,e.getEventsFunctionsExtensionAt(a),{skipCodeGeneration:!0,eventsFunctionCodeWriter:t,i18n:n})})).then(function(){return Promise.all(Object(r.mapFor)(0,e.getEventsFunctionsExtensionsCount(),function(a){return u(e,e.getEventsFunctionsExtensionAt(a),{skipCodeGeneration:!1,eventsFunctionCodeWriter:t,i18n:n})}))})},u=function(e,t,n){return d(e,t,n).then(function(e){s.JsPlatform.get().addNewExtension(e),e.delete()})},d=function(e,t,n){var o=new s.PlatformExtension;Object(i.e)(o,t);var l="gdjs.evtsExt__"+c(t.getName());return Promise.all(Object(r.mapVector)(t.getEventsBasedBehaviors(),function(u){return function(e,t,n,a,o){var l=Object(i.b)(t,a),u=a.getEventsFunctions(),d=o.codeNamespacePrefix+"__"+c(a.getName()),p=o.eventsFunctionCodeWriter.getIncludeFileFor(d);return l.setIncludeFile(p),Promise.resolve().then(function(){var t=new s.MapStringString;if(Object(i.c)(o.i18n,l,a),Object(r.mapFor)(0,u.getEventsFunctionsCount(),function(e){var n=u.getEventsFunctionAt(e),r=c(n.getName());t.set(n.getName(),r);var o=Object(i.a)(l,a,n);Object(i.d)(n,o),Object(i.g)(n.getName())&&o.setHidden(),o.getCodeExtraInformation().setIncludeFile(p).setFunctionName(r)}),o.skipCodeGeneration)return t.delete(),Promise.resolve();var m=new s.SetString,h=new s.BehaviorCodeGenerator(e),f=h.generateRuntimeBehaviorCompleteCode(n.getName(),a,d,t,m,!0);return h.delete(),t.delete(),m.toNewVectorString().toJSArray().forEach(function(e){l.addIncludeFile(e)}),m.delete(),o.eventsFunctionCodeWriter.writeBehaviorCode(d,f)})}(e,o,t,u,Object(a.a)({},n,{codeNamespacePrefix:l}))})).then(function(){return Promise.all(Object(r.mapFor)(0,t.getEventsFunctionsCount(),function(r){var i=t.getEventsFunctionAt(r);p(e,o,t,i,Object(a.a)({},n,{codeNamespacePrefix:l}))}))}).then(function(){return o})},p=function(e,t,n,a,r){var o=r.skipCodeGeneration,l=r.eventsFunctionCodeWriter,u=r.codeNamespacePrefix,d=Object(i.f)(t,n,a);d.addCodeOnlyParameter("currentScene",""),Object(i.d)(a,d);var p=u+"__"+c(a.getName()),m=p+".func",h=d.getCodeExtraInformation();if(h.setIncludeFile(l.getIncludeFileFor(m)).setFunctionName(m),!o){var f=new s.SetString,g=s.EventsCodeGenerator.generateEventsFunctionCode(e,a,p,f,!0);return f.toNewVectorString().toJSArray().forEach(function(e){h.addIncludeFile(e)}),f.delete(),l.writeFunctionCode(m,g)}};var m=function(e){return Promise.all(Object(r.mapFor)(0,e.getEventsFunctionsExtensionsCount(),function(t){s.JsPlatform.get().removeExtension(e.getEventsFunctionsExtensionAt(t).getName())}))},h=function(e){var t=e.getParametersCount();return!(t<=0)&&"eventsFunctionContext"===e.getParameter(t-1).getType()},f=function(e){var t=e.split("::");return t.length?{name:t[t.length-1],behaviorName:t.length>2?t[1]:void 0,extensionName:t[0]}:{name:"",behaviorName:"",extensionName:""}},g=function(e,t){return e+"::"+t.getName()},b=function(e){return e?0:1}}).call(this,n(1))},243:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(113),d=n(349),p=n(221),m=n(114),h=n(195),f=n(88),g=n(122),b=n(123),v=n(777),E=n.n(v),y=n(365),j=n(205),O=n(238),C=n(137),x=n(90),T=n(80),S={columnContainer:{display:"flex",flexDirection:"column"},fieldContainer:{flex:1,display:"flex",flexDirection:"row",alignItems:"baseline"},field:{flex:1,width:"auto"},subPropertiesEditorContainer:{marginLeft:15},subHeader:{paddingLeft:0}},k=function(e,t,n){if(!e[0])return console.log("getFieldValue was called with an empty list of instances (or containing undefined). This is a bug that should be fixed"),n;for(var a=t.getValue(e[0]),r=1;r<e.length;++r)if(a!==t.getValue(e[r])){"undefined"!==typeof n&&(a=n);break}return a},w=function(e,t){return e[0]?t.getLabel?t.getLabel(e[0]):t.name:(console.log("PropertiesEditor._getFieldLabel was called with an empty list of instances (or containing undefined). This is a bug that should be fixed"),t.name)},N=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),h=0;h<r;h++)s[h]=arguments[h];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))))._onInstancesModified=function(e){n.props.onInstancesModified?n.props.onInstancesModified(e):n.forceUpdate()},n._getFieldDescription=function(e,t){var a=n.props.renderExtraDescriptionText;if(e[0]){var r=[];return t.getDescription&&r.push(t.getDescription(e[0])),a&&t.getExtraDescription&&r.push(a(t.getExtraDescription(e[0]))),r.join("\n")||void 0}console.log("PropertiesEditor._getFieldDescription was called with an empty list of instances (or containing undefined). This is a bug that should be fixed")},n._renderInputField=function(e){if("PLEASE_ALSO_SHOW_EDIT_BUTTON_THANKS"===e.name)return null;if("boolean"===e.valueType){var t=e.setValue,a=n._getFieldDescription(n.props.instances,e);return l.createElement(d.a,{label:a?l.createElement(l.Fragment,null,w(n.props.instances,e)," -"," ",l.createElement(j.a,{source:a})):w(n.props.instances,e),key:e.name,checked:k(n.props.instances,e),onCheck:function(e,a){n.props.instances.forEach(function(e){return t(e,!!a)}),n._onInstancesModified(n.props.instances)},disabled:e.disabled})}if("number"===e.valueType){var r=e.setValue;return l.createElement(u.a,{value:k(n.props.instances,e),key:e.name,id:e.name,floatingLabelText:w(n.props.instances,e),floatingLabelFixed:!0,helperMarkdownText:n._getFieldDescription(n.props.instances,e),onChange:function(e){n.props.instances.forEach(function(t){return r(t,parseFloat(e)||0)}),n._onInstancesModified(n.props.instances)},type:"number",style:S.field,disabled:e.disabled})}if("color"===e.valueType){var o=e.setValue;return l.createElement(y.a,{key:e.name,id:e.name,floatingLabelText:w(n.props.instances,e),helperMarkdownText:n._getFieldDescription(n.props.instances,e),disableAlpha:!0,fullWidth:!0,color:Object(O.a)(k(n.props.instances,e)),onChangeComplete:function(e){n.props.instances.forEach(function(t){return o(t,e.hex||"#000000")}),n._onInstancesModified(n.props.instances)}})}if("textarea"===e.valueType){var i=e.setValue;return l.createElement(u.a,{key:e.name,id:e.name,onChange:function(e){n.props.instances.forEach(function(t){return i(t,e||"")}),n._onInstancesModified(n.props.instances)},value:k(n.props.instances,e),floatingLabelText:w(n.props.instances,e),floatingLabelFixed:!0,helperMarkdownText:n._getFieldDescription(n.props.instances,e),multiLine:!0,style:S.field})}var s=e.onEditButtonClick,p=e.setValue;return l.createElement(C.b,{key:e.name,renderTextField:function(){return l.createElement(u.a,{value:k(n.props.instances,e,"(Multiple values)"),id:e.name,floatingLabelText:w(n.props.instances,e),floatingLabelFixed:!0,helperMarkdownText:n._getFieldDescription(n.props.instances,e),onChange:function(e){n.props.instances.forEach(function(t){return p(t,e||"")}),n._onInstancesModified(n.props.instances)},style:S.field,disabled:e.disabled})},renderButton:function(e){return s?l.createElement(x.a,{style:e,primary:!0,disabled:1!==n.props.instances.length,icon:l.createElement(E.a,null),label:l.createElement(c.Trans,{id:"Edit"}),onClick:function(){return s(n.props.instances[0])}}):null}})},n._renderSelectField=function(e){if(e.getChoices&&e.getValue){var t=e.getChoices().map(function(e){var t=e.value,n=e.label;return l.createElement(b.a,{key:t,value:t,primaryText:n})});if("number"===e.valueType){var a=e.setValue;return l.createElement(g.a,{value:k(n.props.instances,e),key:e.name,floatingLabelText:w(n.props.instances,e),helperMarkdownText:n._getFieldDescription(n.props.instances,e),onChange:function(e,t,r){n.props.instances.forEach(function(e){return a(e,parseFloat(r)||0)}),n._onInstancesModified(n.props.instances)},style:S.field,disabled:e.disabled},t)}if("string"===e.valueType){var r=e.setValue;return l.createElement(g.a,{value:k(n.props.instances,e,"(Multiple values)"),key:e.name,floatingLabelText:w(n.props.instances,e),helperMarkdownText:n._getFieldDescription(n.props.instances,e),onChange:function(e,t,a){n.props.instances.forEach(function(e){return r(e,a||"")}),n._onInstancesModified(n.props.instances)},style:S.field,disabled:e.disabled},t)}}},n._renderButton=function(e){return l.createElement(f.a,{key:e.name,fullWidth:!0,primary:!0,label:w(n.props.instances,e),onClick:function(){e.onClick&&e.onClick(n.props.instances[0])}})},n._renderResourceField=function(e){if(n.props.project){var t=e.setValue;return l.createElement(p.a,{key:e.name,project:n.props.project,resourceSources:n.props.resourceSources,onChooseResource:n.props.onChooseResource,resourceExternalEditors:n.props.resourceExternalEditors,resourcesLoader:m.a,resourceKind:e.resourceKind,fullWidth:!0,initialResourceName:k(n.props.instances,e,"(Multiple values)"),onChange:function(e){n.props.instances.forEach(function(n){return t(n,e)}),n._onInstancesModified(n.props.instances)},floatingLabelText:w(n.props.instances,e),helperMarkdownText:n._getFieldDescription(n.props.instances,e)})}console.error("You tried to display a resource field in a PropertiesEditor that does not support display resources. If you need to display resources, pass additional props (project, resourceSources, etc...)")},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return("row"===this.props.mode?function(e){return l.createElement(C.a,null,e)}:function(e){return l.createElement(T.a,{noMargin:!0},e)})(this.props.schema.map(function(n){return n.children?"row"===n.type?l.createElement(t,{key:n.name,schema:n.children,instances:e.props.instances,mode:"row"}):l.createElement("div",{key:n.name},l.createElement(h.a,null,n.name),l.createElement("div",{style:S.subPropertiesEditorContainer},l.createElement(t,{schema:n.children,instances:e.props.instances,mode:"column"}))):"resource"===n.valueType?e._renderResourceField(n):n.getChoices&&n.getValue?e._renderSelectField(n):n.getValue?e._renderInputField(n):n.onClick?e._renderButton(n):null}))}}]),t}(l.Component)},256:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var a=n(10),r=n(100),o=a.memo(function(e){var t=e.children;return a.createElement(r.a,null,function(e){return a.createElement("div",{style:{backgroundColor:e.toolbar.backgroundColor,padding:3,flexShrink:0,display:"flex",justifyContent:"space-between",overflowX:"auto",overflowY:"hidden"}},t)})}),i={display:"flex",alignItems:"center"},s=a.memo(function(e){var t=e.children;return a.createElement("span",{style:i},t)})},258:function(e,t,n){"use strict";var a=n(10),r=n(105),o=n(100),i=a.forwardRef(function(e,t){var n=e.src,i=e.tooltip,s=e.acceleratorString,c=e.disabled,l=e.onClick;return a.createElement(o.a,null,function(e){return a.createElement(r.a,{onClick:l,size:"small",disabled:c,tooltip:i,acceleratorString:s,ref:t},a.createElement("img",{alt:i,src:n,width:32,height:32,style:{filter:c?"grayscale(100%)":e.gdevelopIconsCSSFilter}}))})});t.a=i},259:function(e,t,n){"use strict";var a=n(10),r=n.n(a),o=n(100);t.a=function(e){return r.a.createElement(o.a,null,function(e){return r.a.createElement("span",{style:{height:32,marginLeft:3,marginRight:3,borderLeftStyle:"solid",borderLeftWidth:1,borderColor:e.toolbar.separatorColor}})})}},261:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(2186),u=n(2187),d=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return c.createElement(l.a,{control:c.createElement(u.a,{checked:this.props.toggled,onChange:function(t){return e.props.onToggle(t,t.target.checked)},color:"primary"}),label:this.props.label,disabled:this.props.disabled,style:this.props.style})}}]),t}(c.Component)},265:function(e,t,n){"use strict";n.d(t,"b",function(){return r});var a=n(10),r={authenticated:!1,profile:null,subscription:null,usages:null,limits:null,onLogout:function(){},onLogin:function(){},onCreateAccount:function(){},onRefreshUserProfile:function(){},getAuthorizationHeader:function(){return Promise.reject(new Error("Unimplemented"))}},o=a.createContext(r);t.a=o},266:function(e,t,n){"use strict";var a=n(10),r=n(142),o=n(147);t.a=function(e){var t=e.identifier,n=e.kind,i=e.children;return a.createElement(r.b.Consumer,null,function(e){var r=e.values,s=e.showAlertMessage;return!r.hiddenAlertMessages[t]&&a.createElement(o.a,{kind:n,children:i,onHide:function(){confirm("Are you sure you want to hide this hint? You won't see it again, unless you re-activate it from the preferences.")&&s(t,!1)}})})}},267:function(e,t,n){"use strict";var a=n(10),r=n(2195),o={progress:{marginRight:8,verticalAlign:"middle"}};t.a=function(e){var t=e.children,n=e.isLoading;return a.createElement("span",null,n&&a.createElement(r.a,{size:20,style:o.progress}),t)}},268:function(e,t,n){"use strict";var a=n(10),r={eventsFunctionsExtensionsError:null,loadProjectEventsFunctionsExtensions:function(){return Promise.reject(new Error("Use a provider"))},unloadProjectEventsFunctionsExtensions:function(){},reloadProjectEventsFunctionsExtensions:function(){return Promise.reject(new Error("Use a provider"))},getEventsFunctionsExtensionWriter:function(){return null},getEventsFunctionsExtensionOpener:function(){return null}},o=a.createContext(r);t.a=o},271:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(1213),d=n(96),p=n(336),m=n(643),h=n(712),f=n(713),g={addButton:{cursor:"pointer"}},b=Object(f.a)(u.b),v=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={canPaste:!1},n.onAddNewInstruction=function(){n.props.onAddNewInstruction&&n.props.onAddNewInstruction({instrsList:n.props.instrsList,isCondition:n.props.areConditions})},n._onPasteInstructions=function(){n.props.onPasteInstructions({instrsList:n.props.instrsList,isCondition:n.props.areConditions})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.state.canPaste,n=this.props,a=n.addButtonLabel,r=n.areConditions,o=n.className,i=n.instrsList,s=n.onAddNewInstruction,f=n.onPasteInstructions,v=n.onMoveToInstruction,E=n.onMoveToInstructionsList,y=n.onInstructionClick,j=n.onInstructionContextMenu,O=n.onInstructionDoubleClick,C=n.onInstructionsListContextMenu,x=n.onParameterClick,T=n.selection,S=n.style,k=n.disabled,w=Object(d.mapFor)(0,i.size(),function(t){var n=i.get(t),a={isCondition:r,instrsList:i,instruction:n,indexInList:t};return l.createElement(u.a,{instruction:n,isCondition:r,key:n.ptr,selected:Object(p.n)(T,n),onMoveToInstruction:function(){return v(a)},onClick:function(){return y(a)},onDoubleClick:function(){return O(a)},onContextMenu:function(e,t){return j(e,t,a)},onParameterClick:function(e,t){return x({isCondition:a.isCondition,instrsList:a.instrsList,instruction:a.instruction,indexInList:a.indexInList,parameterIndex:t,domEvent:e})},selection:T,onAddNewSubInstruction:s,onPasteSubInstructions:f,onMoveToSubInstruction:v,onMoveToSubInstructionsList:E,onSubInstructionClick:y,onSubInstructionDoubleClick:O,onSubInstructionContextMenu:j,onSubInstructionsListContextMenu:C,onSubParameterClick:x,disabled:k,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})}),N={isCondition:r,instrsList:i},_=r?l.createElement(c.Trans,{id:"Add condition"}):l.createElement(c.Trans,{id:"Add action"});return l.createElement(b,{canDrop:function(e){return e.isCondition===r},drop:function(){E({isCondition:r,instrsList:i})}},function(n){var i=n.connectDropTarget,s=n.isOver,u=n.canDrop;return i(l.createElement("div",{className:o,style:S},w,s&&l.createElement(m.a,{canDrop:u}),l.createElement("span",{onPointerEnter:function(){var t=r&&Object(h.c)()||!r&&Object(h.b)();e.setState({canPaste:t})},onPointerLeave:function(){return e.setState({canPaste:!1})}},l.createElement("button",{style:g.addButton,className:"add-link",onClick:e.onAddNewInstruction,onContextMenu:function(e){e.stopPropagation(),C(e.clientX,e.clientY,N)}},a||_),t&&l.createElement("span",null," ",l.createElement("button",{style:g.addButton,className:"add-link",onClick:e._onPasteInstructions},r?l.createElement(c.Trans,{id:"(or paste conditions)"}):l.createElement(c.Trans,{id:"(or paste actions)"}))))))})}}]),t}(l.Component)},278:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});var a=n(120),r=n(102),o=n(83),i=n(1331),s=n.n(i),c=n(1334),l=n.n(c),u=function(e){var t={};return e.forEach(function(e){var n=l()(e.fullGroupName.split("/"));n.length||(n=[""]),s()(t,n,function(t){var n=t||{};return Object(o.a)({},n,Object(r.a)({},e.displayedName,e))})}),t},d=function e(t,n){if(!n)return null;for(var r=Object.keys(t),o=0;o<r.length;++o){var i=r[o],s=t[i];if(!s)return null;if("string"===typeof s.type){if(s.type===n)return[]}else{var c=e(s,n);if(c)return[i].concat(Object(a.a)(c))}}return null}},279:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return f}),n.d(t,"c",function(){return g}),n.d(t,"a",function(){return b}),n.d(t,"d",function(){return v}),n.d(t,"e",function(){return E});var a=n(120),r=e.gd,o={BuiltinObject:{"":["AjoutHasard","Create","AjoutObjConcern"]}},i={BuiltinObject:{"":["AjoutHasard","AjoutObjConcern","CollisionNP","NbObjet","PickNearest","Distance","SeDirige","EstTourne"]}},s={},c={Physics2:{"Physics2::Physics2Behavior":["Physics2::Collision"]}},l={BuiltinObject:[].concat(Object(a.a)(o.BuiltinObject[""]),Object(a.a)(i.BuiltinObject[""])),Physics2:Object(a.a)(c.Physics2["Physics2::Physics2Behavior"])},u=function(e,t){var n=t;return n?e.filter(function(e){return-1===n.indexOf(e.type)}):e},d=function(e,t,n,a,r){var o=t.getName(),i=e?c[o]:s[o];if(!i)return[];var l=i[n];if(!l)return[];var u=e?t.getAllConditions():t.getAllActions();return l.map(function(e){return m(a,e,u.get(e),r)})},p=function(e,t,n,a,r){var s=t.getName(),c=e?i[s]:o[s];if(!c)return[];var l=c[n];if(!l)return[];var u=e?t.getAllConditions():t.getAllActions();return l.map(function(e){return m(a,e,u.get(e),r)})},m=function(e,t,n,a){var r=n.getFullName(),o=n.getGroup(),i=n.getIconFilename();return{type:t,metadata:n,iconFilename:i,displayedName:r,fullGroupName:e+o,scope:a,isPrivate:n.isPrivate()}},h=function(e,t,n){for(var a=t.keys(),r=[],o=0;o<a.size();++o){var i=a.get(o),s=t.get(i);s.isHidden()||r.push(m(e,i,s,n))}return r},f=function(e){for(var t=[],n=r.asPlatform(r.JsPlatform.get()).getAllPlatformExtensions(),o=0;o<n.size();++o){var i=n.get(o),s=i.getName(),c=i.getExtensionObjectsTypes(),m=i.getBehaviorsTypes(),f="";(c.size()>0||m.size()>0)&&(f="BuiltinObject"===s?"Common "+(e?"conditions":"actions")+" for all objects":i.getFullName(),f+="/");var g=h(f,e?i.getAllConditions():i.getAllActions(),{objectMetadata:void 0,behaviorMetadata:void 0});t=[].concat(Object(a.a)(t),Object(a.a)(u(g,l[s])));for(var b=0;b<c.size();++b){var v=c.get(b),E={objectMetadata:i.getObjectMetadata(v)};t=[].concat(Object(a.a)(t),Object(a.a)(h(f,e?i.getAllConditionsForObject(v):i.getAllActionsForObject(v),E)),Object(a.a)(p(e,i,v,f,E)))}for(var y=0;y<m.size();++y){var j=m.get(y),O={behaviorMetadata:i.getBehaviorMetadata(j)};t=[].concat(Object(a.a)(t),Object(a.a)(h(f,e?i.getAllConditionsForBehavior(j):i.getAllActionsForBehavior(j),O)),Object(a.a)(d(e,i,j,f,O)))}}return t},g=function(e,t,n,o){for(var i=[],s=r.getTypeOfObject(t,n,o,!0),c=r.getBehaviorsOfObject(t,n,o,!0).toJSArray(),l=new Set(c.map(function(e){return r.getTypeOfBehavior(t,n,e)})),u=r.asPlatform(r.JsPlatform.get()).getAllPlatformExtensions(),m=function(t){var n=u.get(t),r=-1!==n.getExtensionObjectsTypes().toJSArray().indexOf(s),o=-1!==n.getExtensionObjectsTypes().toJSArray().indexOf(""),c=n.getBehaviorsTypes().toJSArray().filter(function(e){return l.has(e)});if(!r&&!o&&0===c.length)return"continue";if(""!==s&&r){var m={objectMetadata:n.getObjectMetadata(s)};i=[].concat(Object(a.a)(i),Object(a.a)(h("",e?n.getAllConditionsForObject(s):n.getAllActionsForObject(s),m)),Object(a.a)(p(e,n,"","",m)))}if(o){var f={objectMetadata:n.getObjectMetadata("")};i=[].concat(Object(a.a)(i),Object(a.a)(h("",e?n.getAllConditionsForObject(""):n.getAllActionsForObject(""),f)),Object(a.a)(p(e,n,"","",f)))}c.forEach(function(t){var r={behaviorMetadata:n.getBehaviorMetadata(t)};i=[].concat(Object(a.a)(h("",e?n.getAllConditionsForBehavior(t):n.getAllActionsForBehavior(t),r)),Object(a.a)(d(e,n,t,"",r)),Object(a.a)(i))})},f=0;f<u.size();++f)m(f);return function(e){var t=e.filter(function(e){return 0===e.fullGroupName.length}),n=e.filter(function(e){return 0!==e.fullGroupName.length});return[].concat(Object(a.a)(t),Object(a.a)(n))}(i)},b=function(e){for(var t=[],n=r.asPlatform(r.JsPlatform.get()).getAllPlatformExtensions(),o=0;o<n.size();++o){var i=n.get(o),s=i.getName(),c=i.getExtensionObjectsTypes(),d=i.getBehaviorsTypes(),p="";(c.size()>0||d.size()>0)&&(p="BuiltinObject"===s?"":i.getFullName(),p+="/");var m=h(p,e?i.getAllConditions():i.getAllActions(),{objectMetadata:void 0,behaviorMetadata:void 0});t=[].concat(Object(a.a)(t),Object(a.a)(u(m,l[s])))}return t},v=function(e,t){var n=t.searchText;if(""===!n)return e;var a=n.toLowerCase();return function(e){if(!n)return e;for(var t=0;t<e.length;++t)if(e[t].displayedName.toLowerCase()===a){var r=e[t];e.splice(t,1),e.unshift(r)}return e}(e.filter(function(e){var t=e.displayedName,n=e.fullGroupName;return-1!==t.toLowerCase().indexOf(a)||-1!==n.toLowerCase().indexOf(a)}))},E=function(e){var t=e.getParametersCount();if(t>=1){var n=e.getParameter(0).getType();if("object"===n)return 0;if(r.ParameterMetadata.isObject(n))return 0;if(("objectsContext"===n||"currentScene"===n)&&t>=2){var a=e.getParameter(1).getType();if(r.ParameterMetadata.isObject(a))return 1}}return-1}}).call(this,n(1))},280:function(e,t,n){"use strict";var a=n(83),r=n(135),o=n(5),i=n(11),s=n(22),c=n(21),l=n(23),u=n(10),d=n(1351),p={color:{width:"36px",height:"14px",borderRadius:"2px",textAlign:"center",fontSize:"10px"},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"fixed",zIndex:"2",transform:"translateX(-174px)"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},m=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={displayColorPicker:!1},n.open=function(){n.setState({displayColorPicker:!0})},n.handleClick=function(){n.setState({displayColorPicker:!n.state.displayColorPicker})},n.handleClose=function(){n.setState({displayColorPicker:!1})},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.color,o=Object(r.a)(e,["style","color"]),i=n||{r:200,g:200,b:200,a:1};return u.createElement("div",{style:t},u.createElement("div",{style:p.swatch,onClick:this.handleClick},u.createElement("div",{style:Object(a.a)({},p.color,{background:"rgba(".concat(i.r,", ").concat(i.g,", ").concat(i.b,", ").concat(i.a||1,")")})},n?null:"?")),this.state.displayColorPicker?u.createElement(u.Fragment,null,u.createElement("div",{style:p.cover,onClick:this.handleClose}),u.createElement("div",{style:p.popover},u.createElement(d.SketchPicker,Object.assign({color:i},o)))):null)}}]),t}(u.Component);t.a=m},282:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(2174),d=n(134),p=n(2203),m=n(80),h={popover:{paddingBottom:10,overflowY:"auto",minHeight:30,maxHeight:400,maxWidth:600,minWidth:300,zIndex:2}},f=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(p.a,{onClickAway:this.props.onRequestClose},l.a.createElement(u.a,{open:this.props.open,anchorEl:this.props.anchorEl,style:h.popover,placement:"bottom"},l.a.createElement(d.a,null,l.a.createElement(m.a,{expand:!0},l.a.createElement(m.b,null,this.props.children)))))}}]),t}(c.Component)},283:function(e,t,n){"use strict";n.d(t,"a",function(){return r});n(10);var a=!1;"undefined"!==typeof window&&window.addEventListener("touchstart",function e(){console.info("Touch detected, considering the screen as touch enabled."),a=!0,window.removeEventListener("touchstart",e,!1)},!1);var r=function(e){var t=e.children;return"undefined"===typeof window?t("normal"):t(a?"touch":"normal")}},291:function(e,t,n){"use strict";var a=n(96);t.a=function(e,t,n){var r=e.keys();return Object(a.mapFor)(0,r.size(),function(a){var o=r.at(a),i=e.get(o),s=i.getDescription(),c=i.getType().toLowerCase(),l=function(e){var n=t(e).get(o).getLabel();return n||o.charAt(0).toUpperCase()+o.slice(1).split(/(?=[A-Z])/).join(" ")},u=function(){return s};if(i.isHidden())return null;if("number"===c)return{name:o,valueType:c,getValue:function(e){return parseFloat(t(e).get(o).getValue())},setValue:function(e,t){n(e,o,""+t)},getLabel:l,getDescription:u};if("string"===c||""===c)return{name:o,valueType:"string",getValue:function(e){return t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t)},getLabel:l,getDescription:u};if("boolean"===c)return{name:o,valueType:c,getValue:function(e){return"true"===t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t?"1":"0")},getLabel:l,getDescription:u};if("choice"===c){var d=i.getExtraInfo().toJSArray().map(function(e){return{value:e,label:e}});return{name:o,valueType:"string",getChoices:function(){return d},getValue:function(e){return t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t)},getLabel:l,getDescription:u}}if("resource"===c){var p=i.getExtraInfo().toJSArray()[0]||"";return{name:o,valueType:"resource",resourceKind:p,getValue:function(e){return t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t)},getLabel:l,getDescription:u}}return"color"===c?{name:o,valueType:"color",getValue:function(e){return t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t)},getLabel:l,getDescription:u}:"textarea"===c?{name:o,valueType:"textarea",getValue:function(e){return t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t)},getLabel:l,getDescription:u}:(console.error("A property with type=".concat(c," could not be mapped to a field. Ensure that this type is correct and understood by the IDE.")),null)}).filter(Boolean)}},292:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(105),d=n(471),p=n.n(d),m=n(10),h=(n(114),n(80)),f=n(170),g=n(1652),b=n.n(g),v=n(1653),E=n.n(v),y=n(1654),j=n.n(y),O=n(216),C=n(89),x=10,T=.1,S={imagePreviewContainer:{position:"relative",display:"inline-block",width:"100%",border:"#AAAAAA 1px solid",overflow:"scroll",height:200,background:'url("res/transparentback.png") repeat',touchAction:"none"},spriteThumbnailImage:{position:"relative",pointerEvents:"none",margin:50},box:{border:"1px solid black"}},k=function(e){function t(){var e,n;Object(r.a)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c))))._container=null,n.state=Object(a.a)({errored:!1,imageWidth:null,imageHeight:null,imageZoomFactor:1},n._loadFrom(n.props)),n._handleImageError=function(){n.setState({errored:!0})},n._handleImageLoaded=function(e){var t=e.target,a=t?t.naturalWidth||t.clientWidth:0,r=t?t.naturalHeight||t.clientHeight:0;n.setState({imageWidth:a,imageHeight:r}),n.props.onSize&&n.props.onSize(a,r)},n._zoomBy=function(e){n._zoomTo(n.state.imageZoomFactor+e)},n._zoomTo=function(e){n.setState(function(t){return{imageZoomFactor:Math.min(x,Math.max(T,e))}})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.resourceName===this.props.resourceName&&e.project===this.props.project&&e.resourcesLoader===this.props.resourcesLoader&&e.resourcePath===this.props.resourcePath||this.setState(this._loadFrom(e))}},{key:"_loadFrom",value:function(e){var t=e.project,n=e.resourceName;return{errored:!1,imageSource:e.resourcesLoader.getResourceFullUrl(t,n)}}},{key:"render",value:function(){var e=this;return m.createElement(p.a,null,function(t){var n=t.width,r=e.props,o=r.resourceName,i=r.style,s=r.renderOverlay,c=e.state,d=c.imageHeight,p=c.imageWidth,g=c.imageSource,v=c.imageZoomFactor,y=!!p&&!!d&&!e.state.errored,x=Math.max(0,n/2-(p||0)*v/2-50),T=Object(a.a)({},S.spriteThumbnailImage,{top:0,left:x,width:p?p*v:void 0,height:d?d*v:void 0,visibility:y?void 0:"hidden"}),k={position:"absolute",top:50,left:x+50,width:p?p*v:void 0,height:d?d*v:void 0,visibility:y?void 0:"hidden"};return m.createElement(h.a,{expand:!0,noMargin:!0},m.createElement(f.b,null,m.createElement(u.a,{onClick:function(){return e._zoomBy(.2)},tooltip:{id:"Zoom in (you can also use Ctrl + Mouse wheel)"}},m.createElement(b.a,null)),m.createElement(u.a,{onClick:function(){return e._zoomBy(-.2)},tooltip:{id:"Zoom out (you can also use Ctrl + Mouse wheel)"}},m.createElement(E.a,null)),m.createElement(u.a,{onClick:function(){return e._zoomTo(1)},tooltip:{id:"Restore original size"}},m.createElement(j.a,null))),m.createElement("div",{style:Object(a.a)({},S.imagePreviewContainer,i),ref:function(t){return e._container=t},onWheel:function(t){var n=t.deltaY;(t.metaKey||t.ctrlKey)&&(e._zoomBy(n/500),t.preventDefault(),t.stopPropagation())}},!!e.state.errored&&m.createElement(O.a,null,m.createElement(C.a,null,m.createElement(l.Trans,{id:"Unable to load the image"}))),!e.state.errored&&m.createElement("img",{style:T,alt:o,src:g,onError:e._handleImageError,onLoad:e._handleImageLoaded,crossOrigin:"anonymous"}),y&&s&&m.createElement("div",{style:Object(a.a)({},k,S.box)}),y&&s&&m.createElement("div",{style:k},s({imageWidth:p||0,imageHeight:d||0,imageZoomFactor:v}))))})}}]),t}(m.Component)},293:function(e,t,n){"use strict";(function(e){n.d(t,"k",function(){return s}),n.d(t,"g",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"h",function(){return h}),n.d(t,"e",function(){return f}),n.d(t,"a",function(){return b}),n.d(t,"c",function(){return v}),n.d(t,"i",function(){return E}),n.d(t,"j",function(){return y});var a=n(96),r=n(502),o=n.n(r),i=e.gd,s=function(e,t,n,a){var r=t<e.getAnimationsCount(),o=r?e.getAnimation(t):null,i=!!o&&n<o.getDirectionsCount(),s=i?o.getDirection(n):null,c=!!s&&a<s.getSpritesCount(),l=c?s.getSprite(a):null;return{hasValidAnimation:r,animation:o,hasValidDirection:i,direction:s,hasValidSprite:c,sprite:l}},c=function(e,t){t.setX(e.getX()),t.setY(e.getY()),t.setName(e.getName())},l=function(e,t){e.ptr!==t.ptr&&(c(e.getCenter(),t.getCenter()),c(e.getOrigin(),t.getOrigin()),t.setDefaultCenterPoint(e.isDefaultCenterPoint()),t.getAllNonDefaultPoints().clear(),Object(a.mapVector)(e.getAllNonDefaultPoints(),function(e){t.addPoint(e)}))},u=function(e,t){Object(a.mapFor)(0,t.getDirectionsCount(),function(n){var r=t.getDirection(n);Object(a.mapFor)(0,r.getSpritesCount(),function(t){var n=r.getSprite(t);l(e,n)})})},d=function(e,t){return e.getX()===t.getX()&&e.getY()===t.getY()&&e.getName()===t.getName()},p=function(e,t){return o()(Object(a.mapFor)(0,t.getSpritesCount(),function(n){var r,i,s=t.getSprite(n);return i=e,!!d((r=s).getCenter(),i.getCenter())&&!!d(r.getOrigin(),i.getOrigin())&&r.isDefaultCenterPoint()===i.isDefaultCenterPoint()&&r.getAllNonDefaultPoints().size()===i.getAllNonDefaultPoints().size()&&o()(Object(a.mapVector)(r.getAllNonDefaultPoints(),function(e){return!!i.hasPoint(e.getName())&&d(e,i.getPoint(e.getName()))}))}))},m=function(e,t){return o()(Object(a.mapFor)(0,t.getDirectionsCount(),function(n){var a=t.getDirection(n);return p(e,a)}))},h=function(e,t){e.ptr!==t.ptr&&(t.setCollisionMaskAutomatic(e.isCollisionMaskAutomatic()),t.getCustomCollisionMask().clear(),Object(a.mapVector)(e.getCustomCollisionMask(),function(e){t.getCustomCollisionMask().push_back(e)}))},f=function(e,t){Object(a.mapFor)(0,t.getDirectionsCount(),function(n){var r=t.getDirection(n);Object(a.mapFor)(0,r.getSpritesCount(),function(t){var n=r.getSprite(t);h(e,n)})})},g=function(e,t){if(e.isCollisionMaskAutomatic()!==t.isCollisionMaskAutomatic())return!1;if(e.isCollisionMaskAutomatic()&&t.isCollisionMaskAutomatic())return!0;var n=e.getCustomCollisionMask(),r=t.getCustomCollisionMask();return n.size()===r.size()&&o()(Object(a.mapVector)(n,function(e,t){return function(e,t){var n=e.getVertices(),r=t.getVertices();return n.size()===r.size()&&o()(Object(a.mapVector)(n,function(e,t){var n=r.at(t);return e.get_x()===n.get_x()&&e.get_y()===n.get_y()}))}(e,r.at(t))}))},b=function(e,t){return o()(Object(a.mapFor)(0,t.getSpritesCount(),function(n){var a=t.getSprite(n);return g(a,e)}))},v=function(e,t){return o()(Object(a.mapFor)(0,t.getDirectionsCount(),function(n){var a=t.getDirection(n);return b(e,a)}))},E=function(e,t){Object(a.mapFor)(0,e.getDirectionsCount(),function(n){for(var r=e.getDirection(n),o=Object(a.mapFor)(0,r.getSpritesCount(),function(e){var n=r.getSprite(e);return!!t[n.ptr]}),i=r.getSpritesCount()-1;i>=0;i--)o[i]&&r.removeSprite(i)})},y=function(e,t){Object(a.mapFor)(0,e.getDirectionsCount(),function(n){for(var r=e.getDirection(n),o=Object(a.mapFor)(0,r.getSpritesCount(),function(e){var n=r.getSprite(e);return!!t[n.ptr]}),s=r.getSpritesCount()-1;s>=0;s--)if(o[s]){var c=r.getSprite(s),u=new i.Sprite;u.setImageName(c.getImageName()),l(c,u),h(c,u),r.addSprite(u),r.moveSprite(r.getSpritesCount()-1,s)}})}}).call(this,n(1))},294:function(e,t,n){"use strict";t.a={handleColumn:{width:24,paddingLeft:8,paddingRight:0},coordinateColumn:{width:48},toolColumn:{width:48}}},301:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(2106),d=n(2180),p=n(2),m=n.n(p),h=m()("electron"),f=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"buildFromTemplate",value:function(e){this.menuTemplate=e}},{key:"showMenu",value:function(e){if(h){var t=h.remote.Menu,n=h.remote.getCurrentWindow();this.menu=t.buildFromTemplate(this.menuTemplate),this.menu.popup({window:n,x:Math.round(e.left),y:Math.round(e.top+e.height),async:!0})}}},{key:"getMenuProps",value:function(){return{open:!1}}}]),e}(),g=n(199),b=n(2176),v=n(917),E=n.n(v),y=n(919),j=n.n(y),O=n(920),C=n.n(O),x=n(2182),T=n(2183),S=n(2181),k=function(e){var t=e.item,n=e.buildFromTemplate,a=Object(c.useState)(!1),r=Object(g.a)(a,2),o=r[0],i=r[1],s=Object(c.useRef)(null),p=Object(c.useCallback)(function(e){s.current=e},[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{dense:!0,key:t.label,disabled:!1===t.enabled,onClick:function(e){!1!==t.enabled&&(s.current||p(e.currentTarget),i(!o))}},t.label,l.a.createElement(E.a,null)),l.a.createElement(u.a,{open:o,anchorEl:s.current,onClose:function(){return i(!1)},TransitionComponent:d.a},n(t.submenu)))},w=function(){function e(t){var n=t.onClose;Object(a.a)(this,e),this._onClose=n}return Object(r.a)(e,[{key:"buildFromTemplate",value:function(e){var t=this;return e.map(function(e,n){return!1===e.visible?null:"separator"===e.type?l.a.createElement(S.a,{key:"separator"+n}):"checkbox"===e.type?l.a.createElement(b.a,{dense:!0,key:"checkbox"+e.label,checked:e.checked,disabled:!1===e.enabled,onClick:function(){!1!==e.enabled&&(e.click&&e.click(),t._onClose())}},l.a.createElement(x.a,null,e.checked?l.a.createElement(j.a,null):l.a.createElement(C.a,null)),l.a.createElement(T.a,{primary:e.label})):e.submenu?l.a.createElement(k,{key:"submenu"+e.label,item:e,buildFromTemplate:function(e){return t.buildFromTemplate(e)}}):l.a.createElement(b.a,{dense:!0,key:"item"+e.label,disabled:!1===e.enabled,onClick:function(){!1!==e.enabled&&e.click&&(e.click(),t._onClose())}},e.label)}).filter(Boolean)}},{key:"showMenu",value:function(){}},{key:"getMenuProps",value:function(){return{}}}]),e}(),N=m()("electron"),_=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).open=function(e,t){n.setState({anchorX:e,anchorY:t},function(){n.setState({open:!0})})},n._onClose=function(){n.setState({open:!1})},n.state={open:!1},n.menuImplementation=new w({onClose:n._onClose}),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{ref:function(t){return e.anchorEl=t},style:{position:"fixed",pointerEvents:"none",left:this.state.anchorX,top:this.state.anchorY}}),l.a.createElement(u.a,Object.assign({open:this.state.open,anchorEl:this.anchorEl,onClose:this._onClose,TransitionComponent:d.a},this.menuImplementation.getMenuProps()),this.menuImplementation.buildFromTemplate(this.props.buildMenuTemplate())))}}]),t}(l.a.Component),P=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).open=function(e,t){n.menuImplementation.buildFromTemplate(n.props.buildMenuTemplate()),n.menuImplementation.showMenu({left:e||0,top:t||0,width:0,height:0})},n.menuImplementation=new f,n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return null}}]),t}(l.a.Component);t.a=N?P:_},323:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"e",function(){return c});var a=n(96),r=function(e){return Object(a.mapFor)(0,e.getLayoutsCount(),function(t){return e.getLayoutAt(t)})},o=function(e){return Object(a.mapFor)(0,e.getExternalEventsCount(),function(t){return e.getExternalEventsAt(t)})},i=function(e){return Object(a.mapFor)(0,e.getExternalLayoutsCount(),function(t){return e.getExternalLayoutAt(t)})},s=function(e){return Object(a.mapFor)(0,e.getEventsFunctionsExtensionsCount(),function(t){return e.getEventsFunctionsExtensionAt(t)})},c=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter(function(e){return-1!==e.getName().toLowerCase().indexOf(n)})}},336:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"m",function(){return m}),n.d(t,"n",function(){return h}),n.d(t,"h",function(){return f}),n.d(t,"i",function(){return g}),n.d(t,"k",function(){return b}),n.d(t,"j",function(){return v}),n.d(t,"l",function(){return E}),n.d(t,"a",function(){return y}),n.d(t,"o",function(){return j}),n.d(t,"p",function(){return O}),n.d(t,"q",function(){return C});var a=n(102),r=n(83),o=n(418),i=n.n(o),s=function(){return{selectedInstructions:{},selectedEvents:{},selectedInstructionsLists:{}}},c=function(e){return i()(e.selectedEvents).map(function(e){return e.event})},l=function(e){return i()(e.selectedEvents)},u=function(e){return i()(e.selectedInstructions).map(function(e){return e.instruction})},d=function(e){return i()(e.selectedInstructions)},p=function(e){return i()(e.selectedInstructionsLists)},m=function(e,t){return!!e.selectedEvents[t.ptr]},h=function(e,t){return!!e.selectedInstructions[t.ptr]},f=function(e){return!!Object.keys(e.selectedEvents).length},g=function(e){return!!Object.keys(e.selectedInstructions).length},b=function(e){var t=!0,n=!1,a=void 0;try{for(var r,o=d(e)[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){if(r.value.isCondition)return!0}}catch(i){n=!0,a=i}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}return!1},v=function(e){return!!Object.keys(e.selectedInstructionsLists).length},E=function(e){return g(e)||v(e)||f(e)},y=function(){return s()},j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.event;if(m(e,o))return e;var i=n?e:y();return Object(r.a)({},i,{selectedEvents:Object(r.a)({},i.selectedEvents,Object(a.a)({},o.ptr,t))})},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.instruction;if(h(e,o))return e;var i=n?e:y();return Object(r.a)({},i,{selectedInstructions:Object(r.a)({},i.selectedInstructions,Object(a.a)({},o.ptr,t))})},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.instrsList;if(function(e,t){return!!e.selectedInstructionsLists[t.ptr]}(e,o))return e;var i=n?e:y();return Object(r.a)({},i,{selectedInstructionsLists:Object(r.a)({},i.selectedInstructionsLists,Object(a.a)({},o.ptr,t))})}},343:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return P});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n(24),d=n.n(u),p=n(2174),m=n(589),h=n.n(m),f=n(1339),g=n.n(f),b=n(90),v=n(113),E=n(96),y=n(1329),j=n(2115),O=n(1336),C=n(1337),x=n(240),T=n.n(x),S=n(2203),k=n(2178),w=n(137),N=e.gd,_={container:{display:"flex",alignItems:"flex-start"},textFieldContainer:{flex:1,minWidth:300},textFieldAndHightlightContainer:{position:"relative"},expressionSelectorPopoverContent:{display:"flex",maxHeight:250},input:{fontFamily:'"Lucida Console", Monaco, monospace',lineHeight:1.4},backgroundHighlighting:{marginTop:13,paddingLeft:12,paddingRight:12},backgroundHighlightingWithDescription:{marginTop:29,paddingLeft:12,paddingRight:12}},P=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o))))._field=null,n._fieldElement=null,n._inputElement=null,n.state={popoverOpen:!1,parametersDialogOpen:!1,selectedExpressionInfo:null,validatedValue:"",errorText:null,errorHighlights:[]},n._openExpressionPopover=function(){n.setState({popoverOpen:!0})},n._handleFocus=function(e){e.preventDefault()},n._handleRequestClose=function(){n.setState({popoverOpen:!1})},n._handleChange=function(e){n.setState({validatedValue:e},function(){return n._enqueueValidation()})},n._handleBlur=function(e){var t=e.currentTarget.value;n.props.onChange&&n.props.onChange(t),n.setState({validatedValue:t},function(){n._enqueueValidation.cancel(),n._doValidation()})},n._handleMenuMouseDown=function(e){e.preventDefault()},n._handleExpressionChosen=function(e){n.setState({popoverOpen:!1,parametersDialogOpen:!0,selectedExpressionInfo:e})},n.insertExpression=function(e,t){if(n._inputElement){var a=n._inputElement.selectionStart,r=Object(O.a)(e,t),o=n.props.value,i=o.substr(0,a)+r+o.substr(a);n.props.onChange&&n.props.onChange(i),n.setState({validatedValue:i},function(){return n._enqueueValidation()}),setTimeout(function(){n._field&&n._field.focus(),setTimeout(function(){n._inputElement&&n._inputElement.setSelectionRange(a,a+r.length)},5)},5)}},n._enqueueValidation=T()(function(){n._doValidation()},500),n._doValidation=function(){var e=n.props,t=e.project,a=e.globalObjectsContainer,r=e.objectsContainer,o=e.expressionType;if(!t)return null;var i=new N.ExpressionParser2(N.JsPlatform.get(),a,r),s=n.state.validatedValue,c=i.parseExpression(o,s).get(),l=new N.ExpressionValidator;c.visit(l);var u=l.getErrors(),d=Object(E.mapVector)(u,function(e){return{begin:e.getStartPosition(),end:e.getEndPosition()+1,message:e.getMessage(),type:"error"}}),p=d.length>1,m=d.map(function(e,t){return(p?"[".concat(t+1,"] "):"")+e.message}).join(" ");l.delete(),i.delete(),n.setState({errorText:m,errorHighlights:d})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this._field&&(this._fieldElement=d.a.findDOMNode(this._field),this._inputElement=this._field?this._field.getInputNode():null)}},{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.expressionType,o=t.parameterMetadata,i=t.project,s=t.scope,c=t.globalObjectsContainer,u=t.objectsContainer,d=t.parameterRenderingService,m=o?o.getDescription():void 0,f=o?o.getLongDescription():void 0,E={width:this._fieldElement?this._fieldElement.clientWidth:"auto",marginLeft:-5,zIndex:h.a.tooltip+100},O=m?_.backgroundHighlightingWithDescription:_.backgroundHighlighting;return l.createElement(l.Fragment,null,l.createElement(w.b,{margin:this.props.isInline?"none":"dense",renderTextField:function(){return l.createElement("div",{style:_.textFieldContainer},l.createElement("div",{style:_.textFieldAndHightlightContainer},l.createElement(C.a,{value:e.state.validatedValue,style:Object(a.a)({},_.input,O),highlights:e.state.errorHighlights}),l.createElement(v.a,{margin:e.props.isInline?"none":"dense",value:n,floatingLabelText:m,helperMarkdownText:f,hintText:"string"===r?'""':void 0,inputStyle:_.input,onChange:e._handleChange,onBlur:e._handleBlur,ref:function(t){return e._field=t},onFocus:e._handleFocus,errorText:e.state.errorText,multiLine:!0,fullWidth:!0})),e._fieldElement&&e.state.popoverOpen&&l.createElement(S.a,{onClickAway:e._handleRequestClose},l.createElement(p.a,{style:E,open:e.state.popoverOpen,anchorEl:e._fieldElement,placement:"bottom",disablePortal:!0},l.createElement(k.a,{style:_.expressionSelectorPopoverContent},l.createElement(y.a,{selectedType:"",onChoose:function(t,n){e._handleExpressionChosen(n)},expressionType:r,focusOnMount:!0,scope:s})))))},renderButton:function(t){return l.createElement(l.Fragment,null,!e.props.isInline&&e.props.renderExtraButton&&e.props.renderExtraButton({style:t}),!e.props.isInline&&l.createElement(b.a,{icon:l.createElement(g.a,null),label:"string"===r?'"ABC"':"number"===r?"123":"",primary:!0,style:t,onClick:e._openExpressionPopover}))}}),this.state.parametersDialogOpen&&this.state.selectedExpressionInfo&&l.createElement(j.a,{project:i,scope:s,globalObjectsContainer:c,objectsContainer:u,expressionMetadata:this.state.selectedExpressionInfo.metadata,onDone:function(t){e.state.selectedExpressionInfo&&(e.insertExpression(e.state.selectedExpressionInfo,t),e.setState({parametersDialogOpen:!1,selectedExpressionInfo:null}))},onRequestClose:function(){e.setState({parametersDialogOpen:!1,selectedExpressionInfo:null})},parameterRenderingService:d}))}}]),t}(l.Component)}).call(this,n(1))},345:function(e,t,n){"use strict";var a=n(10),r=n(133),o={oneColumnContainer:{display:"flex",flexDirection:"column"},twoColumnsContainer:{display:"flex"}};t.a=function(e){return"small"===e.windowWidth?a.createElement("div",{style:o.oneColumnContainer,className:e.className},e.renderConditionsList({style:{},className:"".concat(r.c," ").concat(r.r)}),e.renderActionsList({style:{},className:"".concat(r.a," ").concat(r.r)})):a.createElement("div",{style:o.twoColumnsContainer,className:e.className},e.renderConditionsList({style:{width:"calc(35vw - ".concat(e.leftIndentWidth,"px)")},className:r.c}),e.renderActionsList({className:r.a}))}},346:function(e,t,n){"use strict";function a(e,t,n){var a=null;return t&&t.hasObjectNamed(n)?a=t.getObject(n):e.hasObjectNamed(n)&&(a=e.getObject(n)),a}n.d(t,"a",function(){return a})},347:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return i});var a=function(){return{"PhysicsBehavior::PhysicsBehavior":{warning:{id:"A new physics engine (Physics Engine 2.0) is now available. You should prefer using it for new game. For existing games, note that the two behaviors are not compatible, so you should only use one of them with your objects."}}}},r=function(){return{"Video::VideoObject":!0,"SkeletonObject::Skeleton":!0}},o=function(){return{"Video::VideoObject":[{kind:"warning",message:{id:"Most browsers will require the user to have interacted with your game before allowing any video to play. Make sure that the player click/touch the screen at the beginning of the game before starting any video."}},{kind:"warning",message:{id:"For a given video resource, only one video will be played in memory and displayed. If you put this object multiple times on the scene, all the instances will be displaying the exact same video (with the same timing and paused/played/stopped state)."}},{kind:"info",message:{id:"Video format supported can vary according to devices and browsers. For maximum compatibility, use H.264/mp4 file format (and AAC for audio)."}}],"SkeletonObject::Skeleton":[{kind:"warning",message:{id:"This object is experimental and not actively maintained. It might have bugs or incomplete support in GDevelop. A maintainer is searched to improve the object implementation and solve any issue. Your help is welcome!"}},{kind:"info",message:{id:"Only use this object if you can contribute back to the source code or are able to remove/replace it from your game in a future version."}}]}},i=function(e){return 0===e.indexOf("PhysicsBehavior::")?{kind:"warning",message:{id:'This action is deprecated and should not be used anymore. Instead, use for all your objects the behavior called "Physics2" and the associated actions (in this case, all objects must be set up to use Physics2, you can\'t mix the behaviors).'}}:"TextObject::Size"===e?{kind:"warning",message:{id:"This action will create a new texture and re-render the text each time it is called, which is expensive and can reduce performances. Prefer to avoid changing a lot the character size of a text."}}:"PlayMusicCanal"===e||"PlayMusic"===e?{kind:"warning",message:{id:"Musics will only be played if the user has interacted with the game before (by clicking/touching it or pressing a key on the keyboard). This is due to browser limitations. Make sure to have the user interact with the game before using this action."}}:null}},348:function(e,t,n){"use strict";(function(e){n.d(t,"e",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d});var a=n(96),r=e.gd,o=function(e,t){e.setExtensionInformation(t.getName(),t.getFullName()||t.getName(),t.getDescription(),"","")},i=function(e,t){var n=new r.BehaviorJsImplementation;return n.updateProperty=function(e,n,r){var o=!1;return Object(a.mapVector)(t.getPropertyDescriptors(),function(t){if(t.getName()===n){o=!0;var a=e.addChild(n),i=t.getType();"String"===i||"Choice"===i?a.setStringValue(r):"Number"===i?a.setDoubleValue(parseFloat(r)):"Boolean"===i&&a.setBoolValue("1"===r)}}),o},n.getProperties=function(e){var n=new r.MapStringPropertyDescriptor;return Object(a.mapVector)(t.getPropertyDescriptors(),function(t){var a=t.toPropertyDescriptor(),r=a.getType();e.hasChild(t.getName())&&("String"===r||"Choice"===r?a.setValue(e.getChild(t.getName()).getStringValue()):"Number"===r?a.setValue(""+e.getChild(t.getName()).getDoubleValue()):"Boolean"===r&&a.setValue(e.getChild(t.getName()).getBoolValue()?"true":"false")),n.set(t.getName(),a)}),n},n.initializeContent=function(e){Object(a.mapVector)(t.getPropertyDescriptors(),function(t){var n=e.addChild(t.getName()),a=t.getType();"String"===a||"Choice"===a?n.setStringValue(t.getValue()):"Number"===a?n.setDoubleValue(parseFloat(t.getValue())||0):"Boolean"===a&&n.setBoolValue("true"===t.getValue())})},e.addBehavior(t.getName(),t.getFullName()||t.getName(),t.getName(),t.getDescription(),"","res/function24.png",t.getName(),n,new r.BehaviorsSharedData).setObjectType(t.getObjectType())},s=function(e){return-1!==["onCreated","onActivate","onDeActivate","doStepPreEvents","doStepPostEvents","onDestroy","onOwnerRemovedFromScene"].indexOf(e)},c=function(e,t,n){var a=n.getFunctionType();return a===r.EventsFunction.Expression?e.addExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),t.getFullName()||t.getName(),"res/function.png"):a===r.EventsFunction.StringExpression?e.addStrExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),t.getFullName()||t.getName(),"res/function.png"):a===r.EventsFunction.Condition?e.addCondition(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),t.getFullName()||t.getName(),"res/function.png","res/function24.png"):e.addAction(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),t.getFullName()||t.getName(),"res/function.png","res/function24.png")},l=function(e,t,n){var a=n.getFunctionType();return a===r.EventsFunction.Expression?e.addExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),t.getFullName()||t.getName(),"res/function.png"):a===r.EventsFunction.StringExpression?e.addStrExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),t.getFullName()||t.getName(),"res/function.png"):a===r.EventsFunction.Condition?e.addScopedCondition(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),t.getFullName()||t.getName(),"res/function.png","res/function24.png"):e.addScopedAction(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),t.getFullName()||t.getName(),"res/function.png","res/function24.png")},u=function(e,t,n){var o=function(e){return e.addParameter("object","Object","",!1),e.getParameter(e.getParametersCount()-1).setExtraInfo(n.getObjectType()),e.addParameter("behavior","Behavior",n.getName(),!1),e.setPrivate(),e};Object(a.mapVector)(n.getPropertyDescriptors(),function(a){var i=a.getType(),s=a.getName(),c=r.BehaviorCodeGenerator.getBehaviorPropertyGetterName(s),l=r.BehaviorCodeGenerator.getBehaviorPropertySetterName(s),u=a.getLabel()||e._({id:"{propertyName} property",values:{propertyName:s}});"String"===i||"Choice"===i?(o(t.addStrExpression(r.EventsBasedBehavior.getPropertyExpressionName(s),u,u,n.getFullName()||n.getName(),"res/function.png")).getCodeExtraInformation().setFunctionName(c),o(t.addScopedCondition(r.EventsBasedBehavior.getPropertyConditionName(s),u,e._({id:"Compare the content of {propertyLabel}",values:{propertyLabel:u}}),e._({id:"the property {propertyName}",values:{propertyName:s}}),n.getFullName()||n.getName(),"res/function.png")).useStandardRelationalOperatorParameters("string").getCodeExtraInformation().setFunctionName(c),o(t.addScopedAction(r.EventsBasedBehavior.getPropertyActionName(s),u,e._({id:"Change the content of {propertyLabel}",values:{propertyLabel:u}}),e._({id:"the property {propertyName}",values:{propertyName:s}}),n.getFullName()||n.getName(),"res/function.png")).useStandardOperatorParameters("string").getCodeExtraInformation().setFunctionName(l).setManipulatedType("string").setGetter(c)):"Number"===i?(o(t.addExpression(r.EventsBasedBehavior.getPropertyExpressionName(s),u,u,n.getFullName()||n.getName(),"res/function.png")).getCodeExtraInformation().setFunctionName(c),o(t.addScopedCondition(r.EventsBasedBehavior.getPropertyConditionName(s),u,e._({id:"Compare the value of {propertyLabel}",values:{propertyLabel:u}}),e._({id:"the property {propertyName}",values:{propertyName:s}}),n.getFullName()||n.getName(),"res/function.png")).useStandardRelationalOperatorParameters("number").getCodeExtraInformation().setFunctionName(c),o(t.addScopedAction(r.EventsBasedBehavior.getPropertyActionName(s),u,e._({id:"Change the value of {propertyLabel}",values:{propertyLabel:u}}),e._({id:"the property {propertyName}",values:{propertyName:s}}),n.getFullName()||n.getName(),"res/function.png")).useStandardOperatorParameters("number").getCodeExtraInformation().setFunctionName(l).setGetter(c)):"Boolean"===i&&(o(t.addScopedCondition(r.EventsBasedBehavior.getPropertyConditionName(s),u,e._({id:"Check the value of {propertyLabel}",values:{propertyLabel:u}}),e._({id:"Property {propertyName} of _PARAM0_ is true",values:{propertyName:s}}),n.getFullName()||n.getName(),"res/function.png","res/function24.png")).getCodeExtraInformation().setFunctionName(c),o(t.addScopedAction(r.EventsBasedBehavior.getPropertyActionName(s),u,e._({id:"Update the value of {propertyLabel}",values:{propertyLabel:u}}),e._({id:"Set property {propertyName} of _PARAM0_ to _PARAM2_",values:{propertyName:s}}),n.getFullName()||n.getName(),"res/function.png")).addParameter("yesorno",e._({id:"New value to set"}),"",!1).getCodeExtraInformation().setFunctionName(l))})},d=function(e,t){Object(a.mapVector)(e.getParameters(),function(e){e.isCodeOnly()?t.addCodeOnlyParameter(e.getType(),""):(t.addParameter(e.getType(),e.getDescription(),"",e.isOptional()),t.setParameterLongDescription(e.getLongDescription())),t.getParameter(t.getParametersCount()-1).setExtraInfo(e.getExtraInfo())}),t.addCodeOnlyParameter("eventsFunctionContext","")}}).call(this,n(1))},349:function(e,t,n){"use strict";var a=n(10),r=n(2186),o=n(2266);t.a=function(e){var t=e.onCheck,n=a.createElement(o.a,{disabled:e.disabled,checked:e.checked,onChange:t?function(e){return t(e,e.target.checked)}:void 0,icon:e.uncheckedIcon,checkedIcon:e.checkedIcon,color:"primary"});return e.label?a.createElement(r.a,{control:n,label:e.label}):n}},350:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(83),l=n(10),u=n(725),d=n(765),p=n(100),m=(n(1617),n(1618),function e(t,n,a,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"row";if(!t)return n;if("string"!==typeof t){if("end"===a&&t.second&&"string"!==typeof t.second)return Object(c.a)({},t,{second:e(t.second,n,a,r,o)});if("start"===a&&t.first&&"string"!==typeof t.first)return Object(c.a)({},t,{first:e(t.first,n,a,r,o)})}return{direction:o,first:"end"===a?t:n,second:"end"===a?n:t,splitPercentage:r}}),h=function e(t,n,a){return t?"string"===typeof t?t===n?a:t:t===n?a:Object(c.a)({},t,{first:e(t.first,n,a),second:e(t.second,n,a)}):t},f=[l.createElement(d.a,{key:"close"})],g=function(e){return l.createElement("div",{className:"mosaic-preview"},l.createElement("div",{className:"mosaic-window-toolbar"},l.createElement("div",{className:"mosaic-window-title"},e.title)),l.createElement("div",{className:"mosaic-window-body"}))},b=function(e){return l.createElement(u.MosaicWindow,Object.assign({},e,{toolbarControls:e.toolbarControls||f,renderPreview:g}))},v=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={mosaicNode:n.props.initialNodes},n.openEditor=function(e,t,a){var r=n.props,o=r.editors,i=r.limitToOneSecondaryEditor,s=n.props.editors[e];if(!s)return!1;var c=Object(u.getLeaves)(n.state.mosaicNode);if(-1!==c.indexOf(e))return!1;if(i&&"secondary"===s.type){var l=c.find(function(e){return"secondary"===o[e].type});if(l)return n.setState({mosaicNode:h(n.state.mosaicNode,l,e)}),!0}return n.setState({mosaicNode:m(n.state.mosaicNode,e,t,a)}),!0},n._onChange=function(e){return n.setState({mosaicNode:e})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.editors;return l.createElement(p.a,null,function(n){return l.createElement(u.MosaicWithoutDragDropContext,{className:"".concat(n.mosaicRootClassName," mosaic-blueprint-theme mosaic-gd-theme"),renderTile:function(e,n){var a=t[e];return a?a.noTitleBar?a.renderEditor():l.createElement(b,{path:n,title:a.title,toolbarControls:a.toolbarControls},a.renderEditor()):(console.error("Trying to render un unknown editor: "+e),null)},value:e.state.mosaicNode,onChange:e._onChange})})}}]),t}(l.Component)},362:function(e,t){throw new Error("This is a fake @blueprintjs/core (or @blueprintjs/icons) package that is just throwing an error. It's used by react-mosaic, which will fallback to using something else.This is useful for avoiding webpack/create-react-app warnings in the developmentconsole about a missing package - while avoiding to import blueprint.")},365:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n.n(l),d=n(98),p=n(280),m={container:{position:"relative",display:"inline-block"},picker:{position:"absolute",right:"8px",top:"26px"}},h=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).onClick=function(){n.textField&&n.textField.blur(),n.picker&&n.picker.open()},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{style:Object(a.a)({},m.container,{width:this.props.fullWidth?"100%":void 0})},u.a.createElement(d.b,{fullWidth:!0,floatingLabelText:this.props.floatingLabelText,floatingLabelFixed:!0,helperMarkdownText:this.props.helperMarkdownText,type:"text",hintText:{id:"Click to choose"},onClick:this.onClick,onFocus:this.onClick,value:"",ref:function(t){return e.textField=t}}),u.a.createElement("div",{style:m.picker},u.a.createElement(p.a,Object.assign({},this.props,{ref:function(t){return e.picker=t}}))))}}]),t}(l.Component)},366:function(e,t,n){"use strict";(function(e){var a=n(1647),r=n(1648),o=n(1649),i=n(1650),s=n(1671),c=n(1672),l=n(1673),u=n(1674),d=e.gd;t.a={getEditorConfiguration:function(e){return this.editorConfigurations[e]||console.warn("Object with type ".concat(e," has no editor configuration registered. Please use registerEditorConfiguration to register your editor.")),this.editorConfigurations[e]},registerEditorConfiguration:function(e,t){t.component?t.createNewObject?t.castToObjectType?this.editorConfigurations.hasOwnProperty(e)?console.warn('Tried to register editor configuration for object "'.concat(e,'", but an editor configuration already exists.')):(console.info('Properly registered editor configuration for object "'.concat(e,'".')),this.editorConfigurations[e]=t):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "castToObjectType" property is not defined.')):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "createNewObject" property is not defined.')):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "component" property is not defined.'))},getDefaultObjectJsImplementationPropertiesEditor:function(e){return{component:u.a,createNewObject:function(e){return d.asObjectJsImplementation(e).clone().release()},castToObjectType:function(e){return d.asObjectJsImplementation(e)},helpPagePath:e.helpPagePath}},editorConfigurations:{Sprite:{component:i.a,createNewObject:function(){return new d.SpriteObject("")},castToObjectType:function(e){return d.asSpriteObject(e)},helpPagePath:"/objects/sprite"},"TiledSpriteObject::TiledSprite":{component:r.a,createNewObject:function(){return new d.TiledSpriteObject("")},castToObjectType:function(e){return d.asTiledSpriteObject(e)},helpPagePath:"/objects/tiled_sprite"},"PanelSpriteObject::PanelSprite":{component:o.a,createNewObject:function(){return new d.PanelSpriteObject("")},castToObjectType:function(e){return d.asPanelSpriteObject(e)},helpPagePath:"/objects/panel_sprite"},"TextObject::Text":{component:a.a,createNewObject:function(){return new d.TextObject("")},castToObjectType:function(e){return d.asTextObject(e)},helpPagePath:"/objects/text"},"PrimitiveDrawing::Drawer":{component:c.a,createNewObject:function(){return new d.ShapePainterObject("")},castToObjectType:function(e){return d.asShapePainterObject(e)},helpPagePath:"/objects/shape_painter"},"TextEntryObject::TextEntry":{component:s.a,createNewObject:function(){return new d.TextEntryObject("")},castToObjectType:function(e){return d.asTextEntryObject(e)},helpPagePath:"/objects/text_entry"},"ParticleSystem::ParticleEmitter":{component:l.a,createNewObject:function(){return new d.ParticleEmitterObject("")},castToObjectType:function(e){return d.asParticleEmitterObject(e)},helpPagePath:"/objects/particles_emitter"},"SkeletonObject::Skeleton":{component:u.a,createNewObject:function(){return new d.SkeletonObject("")},castToObjectType:function(e){return d.castObject(e,d.SkeletonObject)},helpPagePath:"/objects/skeleton"}}}}).call(this,n(1))},371:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"g",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return p});var a=n(319),r=n.n(a),o=n(27),i=function(){return[{planId:"gdevelop_pro",name:"GDevelop Pro",monthlyPriceInEuros:7,smallDescription:{id:"Ideal for advanced game makers"},descriptionBullets:[{message:{id:"Package your game for Android up to 70 times a day."}},{message:{id:"One-click packaging for Windows, macOS and Linux up to 70 times a day."}},{message:{id:"Use Live Preview over Wifi to quickly test your game on mobiles and tablets."},isLocalAppOnly:!0},{message:{id:"Use the Debugger to find and solve issues in your games."},isLocalAppOnly:!0},{message:{id:"Immerse your players by removing GDevelop logo when the game loads."}}],extraDescription:{id:"You'll also have access to online packaging for iOS or other services when they are released."}},{planId:"gdevelop_indie",name:"GDevelop Indie",monthlyPriceInEuros:2,smallDescription:{id:"Ideal for beginners"},descriptionBullets:[{message:{id:"Package your game for Android up to 10 times a day."}},{message:{id:"One-click packaging for Windows, macOS and Linux up to 10 times a day."}},{message:{id:"Use Live Preview over Wifi to quickly test your game on mobiles and tablets."},isLocalAppOnly:!0},{message:{id:"Use the Debugger to find and solve issues in your games."},isLocalAppOnly:!0},{message:{id:"Immerse your players by removing GDevelop logo when the game loads"}}],extraDescription:{id:"You'll also have access to online packaging for iOS or other services when they are released."}},{planId:null,name:"No subscription",monthlyPriceInEuros:0,descriptionBullets:[{message:{id:"You can use GDevelop for free! Online packaging for Android, Windows, macOS and Linux is limited to twice a day to avoid overloading the services."}}]}]},s=function(e,t){return e().then(function(e){return r.a.get("".concat(o.g.baseUrl,"/usage"),{params:{userId:t},headers:{Authorization:e}})}).then(function(e){return e.data})},c=function(e,t){return e().then(function(e){return r.a.get("".concat(o.g.baseUrl,"/limits"),{params:{userId:t},headers:{Authorization:e}})}).then(function(e){return e.data.limits})},l=function(e,t){return e().then(function(e){return r.a.get("".concat(o.g.baseUrl,"/subscription-v2"),{params:{userId:t},headers:{Authorization:e}})}).then(function(e){return e.data})},u=function(e,t,n){return e().then(function(e){return r.a.post("".concat(o.g.baseUrl,"/subscription-v2"),n,{params:{userId:t},headers:{Authorization:e}})}).then(function(e){return e.data})},d=function(){return r.a.get("".concat(o.g.baseUrl,"/upload-options?token=").concat(encodeURIComponent("ay+~-1961AQ!eRHf"))).then(function(e){return e.data})},p=function(e,t,n){return"".concat(o.g.baseUrl,"/subscription-v2/redirect-to-checkout?planId=").concat(encodeURIComponent(e),"&clientReferenceId=").concat(encodeURIComponent(t),"&customerEmail=").concat(encodeURIComponent(n))}},375:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(186),u=n(83),d=n(103),p=n(148),m=n(98),h=n(100),f={itemName:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},textField:{top:m.c}},g=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;!e.editingName&&this.props.editingName&&setTimeout(function(){t.textField&&t.textField.focus()},100)}},{key:"render",value:function(){var e=this,t=this.props,n=t.item,a=t.itemName,r=t.isBold,o=t.selected,i=t.getThumbnail,s=t.errorStatus,l=t.onEdit,g=t.onItemSelected,b=t.hideMenuButton,v=t.connectIconDragSource;return c.createElement(h.a,null,function(t){var h=e.props.editingName?c.createElement(m.b,{id:"rename-item-field",margin:"none",ref:function(t){return e.textField=t},defaultValue:a,onBlur:function(t){return e.props.onRename(t.currentTarget.value)},onKeyPress:function(t){13===t.charCode&&e.textField&&e.textField.blur()},fullWidth:!0,style:f.textField}):c.createElement("div",{style:Object(u.a)({},f.itemName,{color:o?t.listItem.selectedTextColor:void 0,fontStyle:r?"italic":void 0,fontWeight:r?"bold":"normal"})},a),E={borderBottom:"1px solid ".concat(t.listItem.separatorColor),backgroundColor:o?""===s?t.listItem.selectedBackgroundColor:"error"===s?t.listItem.selectedErrorBackgroundColor:t.listItem.selectedWarningBackgroundColor:void 0,color:""===s?void 0:"error"===s?t.listItem.errorTextColor:t.listItem.warningTextColor},y=i?c.createElement(p.a,{iconSize:32,src:i()}):null;return c.createElement(d.b,{style:Object(u.a)({},E),primaryText:h,leftIcon:v&&y?v(c.createElement("div",null,y)):y,displayMenuButton:!b,buildMenuTemplate:e.props.buildMenuTemplate,onClick:function(){g&&(e.props.editingName||g(o?null:n))},onDoubleClick:function(t){0===t.button&&l&&(e.props.editingName||(g(null),l(n)))}})})}}]),t}(c.Component),b=n(411),v=n(711),E={dropIndicator:{borderTop:"2px solid #18dcf2",height:0,marginTop:"-1px",marginBottom:"-1px",width:"100%",boxSizing:"border-box"}};function y(e){var t=e.canDrop;return c.createElement(h.a,null,function(e){return c.createElement("div",{style:Object(u.a)({},E.dropIndicator,{borderColor:t?e.listItem.selectedBackgroundColor:e.listItem.selectedErrorBackgroundColor})})})}var j=n(177),O=n(283);n.d(t,"a",function(){return C});var C=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).DragSourceAndDropTarget=Object(v.a)(n.props.reactDndType),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"forceUpdateGrid",value:function(){this._list&&this._list.forceUpdateGrid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.height,a=t.width,r=t.fullList,o=t.selectedItems,i=t.addNewItemLabel,s=t.renamedItem,u=t.getItemThumbnail,p=t.getItemName,m=t.erroredItems,h=t.onAddNewItem,f=t.isItemBold,v=t.onEditItem,E=t.onMoveSelectionToItem,C=t.canMoveSelectionToItem,x=this.DragSourceAndDropTarget;return c.createElement(j.a,null,function(t){return c.createElement(O.a,null,function(j){return c.createElement(l.c,{ref:function(t){return e._list=t},height:n,rowCount:r.length+(h?1:0),rowHeight:u?d.c:d.d,rowRenderer:function(n){var a=n.index,l=n.key,d=n.style;if(a>=r.length)return c.createElement("div",{style:d,key:l},c.createElement(b.a,{disabled:!0,onClick:h,primaryText:i}));var O=r[a],T=s===O,S=p(O);return c.createElement("div",{style:d,key:l},c.createElement(x,{beginDrag:function(){return e.props.onItemSelected(O),{}},canDrop:function(){return!C||C(O)},drop:function(){E(O)}},function(n){var r=n.connectDragSource,i=n.connectDropTarget,s=n.isOver,l=n.canDrop,d=i(c.createElement("div",null,s&&c.createElement(y,{canDrop:l}),c.createElement(g,{item:O,itemName:S,isBold:!!f&&f(O),onRename:function(t){return e.props.onRename(O,t)},editingName:T,getThumbnail:u?function(){return u(O)}:void 0,selected:-1!==o.indexOf(O),onItemSelected:e.props.onItemSelected,errorStatus:m&&m[S]||"",buildMenuTemplate:function(){return e.props.buildMenuTemplate(O,a)},onEdit:v,hideMenuButton:"small"===t,connectIconDragSource:"touch"===j?r:void 0})));return"touch"===j?d:r(d)}))},width:a})})})}}]),t}(c.Component)},376:function(e,t,n){"use strict";var a=n(10),r=n(114),o=n(221),i=n(5),s=n(11),c=n(22),l=n(21),u=n(23),d=n(591),p=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state=n._loadFrom(e),n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.resourceName===this.props.resourceName&&e.project===this.props.project||this.setState(this._loadFrom(e))}},{key:"_loadFrom",value:function(e){var t=e.project,n=e.resourceName,a=t.getResourcesManager();return{resourceKind:a.hasResource(n)?a.getResource(n).getKind():null}}},{key:"render",value:function(){switch(this.state.resourceKind){case"image":return a.createElement(d.a,{project:this.props.project,resourceName:this.props.resourceName,resourcesLoader:this.props.resourcesLoader,children:this.props.children,style:this.props.style,onSize:this.props.onSize,selectable:this.props.selectable,selected:this.props.selected,onSelect:this.props.onSelect,onContextMenu:this.props.onContextMenu});default:return null}}}]),t}(a.Component),m={container:{flex:1,display:"flex",alignItems:"flex-end"},selectorContainer:{flex:1},resourceThumbnail:{marginLeft:10,marginBottom:4}};t.a=function(e){var t=e.project,n=e.resourceSources,i=e.onChooseResource,s=e.resourceExternalEditors,c=e.resourceKind,l=e.resourceName,u=e.onChange,d=e.floatingLabelText,h=e.hintText;return a.createElement("div",{style:m.container},a.createElement("div",{style:m.selectorContainer},a.createElement(o.a,{project:t,resourceSources:n,onChooseResource:i,resourceExternalEditors:s,resourcesLoader:r.a,resourceKind:c,fullWidth:!0,initialResourceName:l,onChange:u,floatingLabelText:d,hintText:h})),a.createElement(p,{resourceName:l,resourcesLoader:r.a,project:t,style:m.resourceThumbnail}))}},381:function(e,t,n){"use strict";(function(e){var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(26),l=n(78),u=n(10),d=(n(909),n(2273)),p=n(2274),m=n(910),h=n(921),f=n(922),g=n(1006),b=n(2101),v=n(1058),E=n(1061),y=n(592),j=n(1062),O=n(2099),C=n(3),x=n(25),T=n(1077),S=n(1078),k=n(505),w=n(144),N=n(2111),_=n(832),P=n(616),I=n(769),B=n(783),M=n(772),F=n(767),R=n(2107),L=n(836),A=n(1713),D=n(2116),U=n(114),V=n(567),W=n(97),G=n(2117),z=n(788),H=n(1719),Y=n(142),K=n(241),X=n(36),J=n(1721),Z=n(1722),q=n(1723),Q=n(1724),$=e.GD_STARTUP_TIMES||[],ee=e.gd,te={drawerContent:{width:320,overflowX:"hidden",display:"flex",flexDirection:"column"}},ne=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={createDialogOpen:!1,exportDialogOpen:!1,introDialogOpen:!1,openConfirmDialogOpen:!1,genericDialogOpen:!1,loadingProject:!1,previewLoading:!1,currentProject:null,currentFileMetadata:null,projectManagerOpen:!1,editorTabs:Object(S.l)(),genericDialog:null,snackMessage:"",snackMessageOpen:!1,preferencesDialogOpen:!1,languageDialogOpen:!1,profileDialogOpen:!1,subscriptionDialogOpen:!1,updateStatus:{message:"",status:"unknown"},aboutDialogOpen:!1,openFromStorageProviderDialogOpen:!1,saveToStorageProviderDialogOpen:!1,platformSpecificAssetsDialogOpen:!1,helpFinderDialogOpen:!1,eventsFunctionsExtensionsError:null},n.toolbar=null,n._resourceSourceDialogs={},n._previewLauncher=null,n._openInitialFileMetadata=function(e){var t=n.props,a=t.storageProviderOperations,r=t.initialFileMetadataToOpen;r&&(e||!a.doesInitialOpenRequireUserInteraction?n.openFromFileMetadata(r).then(function(){return n.openSceneOrProjectManager()}):n._openOpenConfirmDialog(!0))},n._loadExtensions=function(){var e=n.props,t=e.extensionsLoader,a=e.i18n;t?t.loadAllExtensions(Object(z.a)(a)).then(function(e){var t=e.filter(function(e){return!e.result.error}),n=e.filter(function(e){return e.result.error&&!e.result.dangerous}),a=e.filter(function(e){return e.result.error&&e.result.dangerous});console.info("Loaded ".concat(t.length," JS extensions.")),n.length&&console.error("\u26a0\ufe0f Unable to load ".concat(n.length," JS extensions. Please check these errors:"),n),a.length&&console.error("\ud83d\udca3 Dangerous exceptions while loading ".concat(a.length," JS extensions. \ud83d\udd25 Please check these errors as they will CRASH GDevelop:"),a)}):console.info("No extensions loader specified, skipping extensions loading.")},n.loadFromSerializedProject=function(e,t){return Object(k.b)(function(){var a=ee.ProjectHelper.createNewGDJSProject();return a.unserializeFrom(e),n.loadFromProject(a,t)},function(e){return console.info("Unserialization took ".concat(e," ms"))})},n.loadFromProject=function(e,t){var a=n.props.eventsFunctionsExtensionsState;return n.closeProject().then(function(){return U.a.burstAllUrlsCache(),new Promise(function(r){n.setState({currentProject:e,currentFileMetadata:t},function(){a.loadProjectEventsFunctionsExtensions(e),t&&e.setProjectFile(t.fileIdentifier),r()})})})},n.openFromFileMetadata=function(e){var t=n.props,a=t.i18n,r=t.storageProviderOperations,o=r.hasAutoSave,i=r.onGetAutoSave,s=r.onOpen,c=r.getOpenErrorMessage;if(!s)return console.error("Tried to open a file for a storage without onOpen support:",e,r),Promise.resolve();return n.setState({loadingProject:!0}),(o&&i?o(e,!0).then(function(t){return t&&confirm(a._({id:"An autosave file (backup made automatically by GDevelop) that is newer than the project file exists. Would you like to load it instead?"}))?i(e):e}):Promise.resolve(e)).then(function(e){return s(e)}).catch(function(t){return(o&&i?o(e,!1).then(function(t){return t&&confirm(a._({id:"The project file appears to be malformed, but an autosave file exists (backup made automatically by GDevelop). Would you like to try to load it instead?"}))?i(e):null}):Promise.resolve(null)).then(function(e){if(e)return s(e);throw t})}).then(function(t){var r=t.content;if(Object(Q.a)(a,r)){var o=ee.Serializer.fromJSObject(r);return n.loadFromSerializedProject(o,e).then(function(){o.delete()},function(e){throw o.delete(),e})}}).catch(function(e){var t=c?c(e):{id:"Check that the path/URL is correct, that you selected a file that is a game file created with GDevelop and that is was not removed."};Object(x.a)([a._({id:"Unable to open the project."}),a._(t)].join("\n"),e)}).then(function(){return n.setState({loadingProject:!1})})},n.closeProject=function(){var e=n.state.currentProject,t=n.props.eventsFunctionsExtensionsState;return e?new Promise(function(a){n.openProjectManager(!1),n.setState({editorTabs:Object(S.i)(n.state.editorTabs,e)},function(){t.unloadProjectEventsFunctionsExtensions(e),e.delete(),n.setState({currentProject:null},function(){n.updateToolbar(),a()})})}):Promise.resolve()},n.getSerializedElements=function(){var e=Object(S.j)(n.state.editorTabs);return e&&e.editorRef?e.editorRef.getSerializedElements():(console.warn("No active editor or reference to the editor"),{})},n.toggleProjectManager=function(){n.refs.toolbar||n.setState({projectManagerOpen:!n.state.projectManagerOpen})},n.openProjectManager=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({projectManagerOpen:e})},n.setEditorToolbar=function(e){n.toolbar&&n.toolbar.setEditorToolbar(e)},n.addLayout=function(){var e=n.state.currentProject;if(e){var t=Object(w.a)("NewScene",function(t){return e.hasLayoutNamed(t)});e.insertNewLayout(t,e.getLayoutsCount()).updateBehaviorsSharedData(e),n.forceUpdate()}},n.addExternalLayout=function(){var e=n.state.currentProject;if(e){var t=Object(w.a)("NewExternalLayout",function(t){return e.hasExternalLayoutNamed(t)});e.insertNewExternalLayout(t,e.getExternalLayoutsCount()),n.forceUpdate()}},n.addExternalEvents=function(){var e=n.state.currentProject;if(e){var t=Object(w.a)("NewExternalEvents",function(t){return e.hasExternalEventsNamed(t)});e.insertNewExternalEvents(t,e.getExternalEventsCount()),n.forceUpdate()}},n.addEventsFunctionsExtension=function(){var e=n.state.currentProject;if(e){var t=Object(w.a)("NewExtension",function(t){return e.hasEventsFunctionsExtensionNamed(t)});e.insertNewEventsFunctionsExtension(t,e.getEventsFunctionsExtensionsCount()),n.forceUpdate()}},n.deleteLayout=function(e){var t=n.state.currentProject,a=n.props.i18n;t&&(confirm(a._({id:"Are you sure you want to remove this scene? This can't be undone."}))&&n.setState({editorTabs:Object(S.g)(n.state.editorTabs,e)},function(){t.removeLayout(e.getName()),n.forceUpdate()}))},n.deleteExternalLayout=function(e){var t=n.state.currentProject,a=n.props.i18n;t&&(confirm(a._({id:"Are you sure you want to remove this external layout? This can't be undone."}))&&n.setState({editorTabs:Object(S.f)(n.state.editorTabs,e)},function(){t.removeExternalLayout(e.getName()),n.forceUpdate()}))},n.deleteExternalEvents=function(e){var t=n.state.currentProject,a=n.props.i18n;t&&(confirm(a._({id:"Are you sure you want to remove these external events? This can't be undone."}))&&n.setState({editorTabs:Object(S.e)(n.state.editorTabs,e)},function(){t.removeExternalEvents(e.getName()),n.forceUpdate()}))},n.deleteEventsFunctionsExtension=function(e){var t=n.state.currentProject,a=n.props,r=a.i18n,o=a.eventsFunctionsExtensionsState;t&&(confirm(r._({id:"Are you sure you want to remove this extension? This can't be undone."}))&&(n.setState({editorTabs:Object(S.d)(n.state.editorTabs,e)},function(){t.removeEventsFunctionsExtension(e.getName()),n.forceUpdate()}),o.reloadProjectEventsFunctionsExtensions(t)))},n.renameLayout=function(e,t){var a=n.state.currentProject,r=n.props.i18n;if(a&&a.hasLayoutNamed(e)&&t!==e)if(""!==t)if(a.hasLayoutNamed(t))Object(x.c)(r._({id:"Another scene with this name already exists."}));else{var o=a.getLayout(e);n.setState({editorTabs:Object(S.g)(n.state.editorTabs,o)},function(){o.setName(t),n.forceUpdate()})}else Object(x.c)(r._({id:"This name cannot be empty, please enter a new name."}))},n.renameExternalLayout=function(e,t){var a=n.state.currentProject,r=n.props.i18n;if(a&&a.hasExternalLayoutNamed(e)&&t!==e)if(""!==t)if(a.hasExternalLayoutNamed(t))Object(x.c)(r._({id:"Another external layout with this name already exists."}));else{var o=a.getExternalLayout(e);n.setState({editorTabs:Object(S.f)(n.state.editorTabs,o)},function(){o.setName(t),n.forceUpdate()})}else Object(x.c)(r._({id:"This name cannot be empty, please enter a new name."}))},n.renameExternalEvents=function(e,t){var a=n.state.currentProject,r=n.props.i18n;if(a&&a.hasExternalEventsNamed(e)&&t!==e)if(""!==t)if(a.hasExternalEventsNamed(t))Object(x.c)(r._({id:"Other external events with this name already exist."}));else{var o=a.getExternalEvents(e);n.setState({editorTabs:Object(S.e)(n.state.editorTabs,o)},function(){o.setName(t),n.forceUpdate()})}else Object(x.c)(r._({id:"This name cannot be empty, please enter a new name."}))},n.renameEventsFunctionsExtension=function(e,t){var a=n.state.currentProject,r=n.props.i18n,o=n.props.eventsFunctionsExtensionsState;if(a&&a.hasEventsFunctionsExtensionNamed(e)&&t!==e)if(""!==t)if(a.hasEventsFunctionsExtensionNamed(t))Object(x.c)(r._({id:"Another extension with this name already exists."}));else if(ee.Project.validateObjectName(t)){var i=a.getEventsFunctionsExtension(e);n.setState({editorTabs:Object(S.d)(n.state.editorTabs,i)},function(){ee.WholeProjectRefactorer.renameEventsFunctionsExtension(a,i,e,t),i.setName(t),o.reloadProjectEventsFunctionsExtensions(a),n.forceUpdate()})}else Object(x.c)(r._({id:"This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your extension name."}));else Object(x.c)(r._({id:"This name cannot be empty, please enter a new name."}))},n._launchLayoutPreview=function(e,t,a){var r=Object(c.a)(Object(c.a)(n))._previewLauncher;r&&n.setState({previewLoading:!0},function(){r.launchLayoutPreview(e,t,a).catch(function(e){console.error("Error caught while launching preview, this should never happen.",e)}).then(function(){n.setState({previewLoading:!1})})})},n._launchExternalLayoutPreview=function(e,t,a,r){var o=Object(c.a)(Object(c.a)(n))._previewLauncher;o&&n.setState({previewLoading:!0},function(){o.launchExternalLayoutPreview(e,t,a,r).catch(function(e){console.error("Error caught while launching preview, this should never happen.",e)}).then(function(){n.setState({previewLoading:!1})})})},n.openLayout=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.openEventsEditor,r=void 0===a||a,o=t.openSceneEditor,i=void 0===o||o,s=n.props,c=s.i18n,l=s.storageProviderOperations,d={name:e,renderEditor:function(t){var a=t.isActive,r=t.editorRef;return u.createElement(Y.b.Consumer,null,function(t){var o=t.values;return u.createElement(B.a,{project:n.state.currentProject,layoutName:e,setToolbar:n.setEditorToolbar,onPreview:function(e,t,a){n._launchLayoutPreview(e,t,a);var r=n.state.currentFileMetadata;o.autosaveOnPreview&&l.onAutoSaveProject&&r&&l.onAutoSaveProject(e,r)},showPreviewButton:!!n.props.renderPreviewLauncher,showNetworkPreviewButton:n._previewLauncher&&n._previewLauncher.canDoNetworkPreview(),onOpenDebugger:n.openDebugger,onEditObject:n.props.onEditObject,resourceSources:n.props.resourceSources,onChooseResource:n._onChooseResource,resourceExternalEditors:n.props.resourceExternalEditors,isActive:a,ref:r})})},key:"layout "+e},p={name:e+" "+c._({id:"(Events)"}),renderEditor:function(t){var a=t.isActive,r=t.editorRef;return u.createElement(Y.b.Consumer,null,function(t){var o=t.values;return u.createElement(P.a,{project:n.state.currentProject,layoutName:e,setToolbar:n.setEditorToolbar,onPreview:function(e,t,a){n._launchLayoutPreview(e,t,a);var r=n.state.currentFileMetadata;o.autosaveOnPreview&&l.onAutoSaveProject&&r&&l.onAutoSaveProject(e,r)},showPreviewButton:!!n.props.renderPreviewLauncher,showNetworkPreviewButton:n._previewLauncher&&n._previewLauncher.canDoNetworkPreview(),onOpenDebugger:n.openDebugger,onOpenExternalEvents:n.openExternalEvents,onOpenLayout:function(e){return n.openLayout(e,{openEventsEditor:!0,openSceneEditor:!1})},resourceSources:n.props.resourceSources,onChooseResource:n._onChooseResource,resourceExternalEditors:n.props.resourceExternalEditors,openInstructionOrExpression:n._openInstructionOrExpression,onCreateEventsFunction:n._onCreateEventsFunction,isActive:a,ref:r})})},key:"layout events "+e,dontFocusTab:i},m=i?Object(S.o)(n.state.editorTabs,d):n.state.editorTabs,h=r?Object(S.o)(m,p):m;n.setState({editorTabs:h},function(){return n.updateToolbar()}),n.openProjectManager(!1)},n.openExternalEvents=function(e){n.setState({editorTabs:Object(S.o)(n.state.editorTabs,{name:e,renderEditor:function(t){var a=t.isActive,r=t.editorRef;return u.createElement(I.a,{project:n.state.currentProject,externalEventsName:e,setToolbar:n.setEditorToolbar,onOpenExternalEvents:n.openExternalEvents,onOpenLayout:function(e){return n.openLayout(e,{openEventsEditor:!0,openSceneEditor:!1})},resourceSources:n.props.resourceSources,onChooseResource:n._onChooseResource,resourceExternalEditors:n.props.resourceExternalEditors,openInstructionOrExpression:n._openInstructionOrExpression,onCreateEventsFunction:n._onCreateEventsFunction,isActive:a,ref:r})},key:"external events "+e})},function(){return n.updateToolbar()}),n.openProjectManager(!1)},n.openExternalLayout=function(e){var t=n.props.storageProviderOperations;n.setState({editorTabs:Object(S.o)(n.state.editorTabs,{name:e,renderEditor:function(a){var r=a.isActive,o=a.editorRef;return u.createElement(Y.b.Consumer,null,function(a){var i=a.values;return u.createElement(M.a,{project:n.state.currentProject,externalLayoutName:e,setToolbar:n.setEditorToolbar,onPreview:function(e,a,r,o){n._launchExternalLayoutPreview(e,a,r,o);var s=n.state.currentFileMetadata;i.autosaveOnPreview&&t.onAutoSaveProject&&s&&t.onAutoSaveProject(e,s)},showPreviewButton:!!n.props.renderPreviewLauncher,showNetworkPreviewButton:n._previewLauncher&&n._previewLauncher.canDoNetworkPreview(),onOpenDebugger:n.openDebugger,onEditObject:n.props.onEditObject,resourceSources:n.props.resourceSources,onChooseResource:n._onChooseResource,resourceExternalEditors:n.props.resourceExternalEditors,isActive:r,ref:o})})},key:"external layout "+e})},function(){return n.updateToolbar()}),n.openProjectManager(!1)},n.openEventsFunctionsExtension=function(e,t,a){var r=n.props.eventsFunctionsExtensionsState;n.setState({editorTabs:Object(S.o)(n.state.editorTabs,{name:e,renderEditor:function(o){var i=o.isActive,s=o.editorRef;return u.createElement(F.a,{project:n.state.currentProject,eventsFunctionsExtensionName:e,setToolbar:n.setEditorToolbar,resourceSources:n.props.resourceSources,onChooseResource:n._onChooseResource,resourceExternalEditors:n.props.resourceExternalEditors,isActive:i,initiallyFocusedFunctionName:t,initiallyFocusedBehaviorName:a,openInstructionOrExpression:n._openInstructionOrExpression,onCreateEventsFunction:n._onCreateEventsFunction,ref:s,onLoadEventsFunctionsExtensions:function(){r.loadProjectEventsFunctionsExtensions(n.state.currentProject)}})},key:"events functions extension "+e})},function(){return n.updateToolbar()}),n.openProjectManager(!1)},n.openResources=function(){var e=n.props.i18n;n.setState({editorTabs:Object(S.o)(n.state.editorTabs,{name:e._({id:"Resources"}),renderEditor:function(e){var t=e.isActive,a=e.editorRef;return u.createElement(L.a,{project:n.state.currentProject,setToolbar:n.setEditorToolbar,onDeleteResource:function(e,t){t(!0)},onRenameResource:function(e,t,n){n(!0)},isActive:t,ref:a,onChooseResource:n._onChooseResource,resourceSources:n.props.resourceSources})},key:"resources"})},function(){return n.updateToolbar()})},n.openStartPage=function(){var e=n.props,t=e.i18n,a=e.storageProviders;n.setState({editorTabs:Object(S.o)(n.state.editorTabs,{name:t._({id:"Start Page"}),renderEditor:function(e){var t=e.isActive,r=e.editorRef;return u.createElement(R.a,{project:n.state.currentProject,setToolbar:n.setEditorToolbar,canOpen:!!a.filter(function(e){return!e.hiddenInOpenDialog}).length,onOpen:n.chooseProject,onCreate:function(){return n.openCreateDialog()},onOpenProjectManager:function(){return n.openProjectManager()},onCloseProject:function(){n.askToCloseProject()},onOpenAboutDialog:function(){return n.openAboutDialog()},onOpenHelpFinder:function(){return n.openHelpFinderDialog()},onOpenLanguageDialog:function(){return n.openLanguage()},isActive:t,ref:r})},key:"start page",closable:!1})},function(){return n.updateToolbar()})},n.openDebugger=function(){var e=n.props.i18n;n.setState({editorTabs:Object(S.o)(n.state.editorTabs,{name:e._({id:"Debugger"}),renderEditor:function(e){var t=e.isActive,a=e.editorRef;return u.createElement(_.a,{project:n.state.currentProject,setToolbar:n.setEditorToolbar,isActive:t,ref:a,onChangeSubscription:function(){return n.openSubscription(!0)}})},key:"debugger"})},function(){return n.updateToolbar()})},n._openInstructionOrExpression=function(e,t){var a=n.state.currentProject;if(a){var r=e.getName();if(a.hasEventsFunctionsExtensionNamed(r)){var o=a.getEventsFunctionsExtension(r),i=Object(K.b)(t),s=Object(S.n)(n.state.editorTabs,o);s?(s.editor.selectEventsFunctionByName(i.name,i.behaviorName),n.setState(function(e){return{editorTabs:Object(S.a)(e.editorTabs,s.tabIndex)}})):n.openEventsFunctionsExtension(r,i.name,i.behaviorName)}else console.warn("Extension with name=".concat(r," can not be opened (no editor for this)"))}},n._onCreateEventsFunction=function(e,t){var a=n.state.currentProject;if(a){var r=n.props.eventsFunctionsExtensionsState,o=!a.hasEventsFunctionsExtensionNamed(e),i=o?a.insertNewEventsFunctionsExtension(e,0):a.getEventsFunctionsExtension(e);o&&(i.setFullName(e),i.setDescription("Originally automatically extracted from events of the project")),i.insertEventsFunction(t,0),r.loadProjectEventsFunctionsExtensions(a)}},n.openCreateDialog=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({createDialogOpen:e})},n.chooseProject=function(){n.props.storageProviders.filter(function(e){return!e.hiddenInOpenDialog}).length>1?n.openOpenFromStorageProviderDialog():n.chooseProjectWithStorageProviderPicker()},n.chooseProjectWithStorageProviderPicker=function(){var e=n.props,t=e.storageProviderOperations,a=e.i18n;t.onOpenWithPicker&&t.onOpenWithPicker().then(function(e){if(e)return n.openFromFileMetadata(e).then(function(){return n.openSceneOrProjectManager()})}).catch(function(e){var n=t.getOpenErrorMessage?t.getOpenErrorMessage(e):{id:"Verify that you have the authorizations for reading the file you're trying to access."};Object(x.a)([a._({id:"Unable to open the project."}),a._(n)].join("\n"),e)})},n.saveProject=function(){var e=n.state,t=e.currentProject,a=e.currentFileMetadata;if(t){if(!a)return n.saveProjectAs();var r=n.props,o=r.i18n,i=r.storageProviderOperations.onSaveProject;if(!i)return n.saveProjectAs();Object(S.p)(n.state.editorTabs),n._showSnackMessage(o._({id:"Saving..."})),i(t,a).then(function(e){e.wasSaved&&n._showSnackMessage(o._({id:"Project properly saved"}))},function(e){Object(x.a)(o._({id:"Unable to save the project! Please try again by choosing another location."}),e)})}},n.saveProjectAs=function(){var e=n.state.currentProject,t=n.props,a=t.storageProviders,r=t.storageProviderOperations;e&&(a.filter(function(e){return!e.hiddenInSaveDialog}).length>1||!r.onSaveProjectAs?n.openSaveToStorageProviderDialog():n.saveProjectAsWithStorageProvider())},n.saveProjectAsWithStorageProvider=function(){var e=n.state,t=e.currentProject,a=e.currentFileMetadata;if(t){Object(S.p)(n.state.editorTabs);var r=n.props,o=r.i18n,i=r.storageProviderOperations;i.onSaveProjectAs&&i.onSaveProjectAs(t,a).then(function(e){var t=e.wasSaved,a=e.fileMetadata;t&&(n._showSnackMessage(o._({id:"Project properly saved"})),a&&n.setState({currentFileMetadata:a}))},function(e){Object(x.a)(o._({id:"Unable to save as the project! Please try again by choosing another location."}),e)})}},n.askToCloseProject=function(){if(!n.state.currentProject)return Promise.resolve();var e=n.props.i18n;return confirm(e._({id:"Close the project? Any changes that have not been saved will be lost."}))?n.closeProject():Promise.resolve()},n.openSceneOrProjectManager=function(){var e=n.state.currentProject;e&&(1===e.getLayoutsCount()?n.openLayout(e.getLayoutAt(0).getName(),{openSceneEditor:!0,openEventsEditor:!0}):n.openProjectManager())},n.openExportDialog=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({exportDialogOpen:e})},n._openIntroDialog=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({introDialogOpen:e})},n._openOpenConfirmDialog=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({openConfirmDialogOpen:e})},n._openGenericDialog=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({genericDialogOpen:e,genericDialog:null})},n.openPreferences=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({preferencesDialogOpen:e})},n.openLanguage=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({languageDialogOpen:e})},n.openProfile=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({profileDialogOpen:e})},n.openSubscription=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({subscriptionDialogOpen:e})},n._onChangeEditorTab=function(e){n.setState({editorTabs:Object(S.a)(n.state.editorTabs,e)},function(){return n._onEditorTabActive(Object(S.j)(n.state.editorTabs))})},n._onEditorTabActive=function(e){n.updateToolbar()},n._onCloseEditorTab=function(e){Object(S.p)(n.state.editorTabs),n.setState({editorTabs:Object(S.c)(n.state.editorTabs,e)},function(){return n.updateToolbar()})},n._onCloseOtherEditorTabs=function(e){Object(S.p)(n.state.editorTabs),n.setState({editorTabs:Object(S.h)(n.state.editorTabs,e)},function(){return n.updateToolbar()})},n._onCloseAllEditorTabs=function(){Object(S.p)(n.state.editorTabs),n.setState({editorTabs:Object(S.b)(n.state.editorTabs)},function(){return n.updateToolbar()})},n._onChooseResource=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=n.state.currentProject,r=n._resourceSourceDialogs[e];return r?r.chooseResources(a,t):Promise.resolve([])},n.openAboutDialog=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({aboutDialogOpen:e})},n.openOpenFromStorageProviderDialog=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({openFromStorageProviderDialogOpen:e})},n.openSaveToStorageProviderDialog=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&n.openProjectManager(!1),n.setState({saveToStorageProviderDialogOpen:e})},n.openPlatformSpecificAssets=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({platformSpecificAssetsDialogOpen:e})},n.openHelpFinderDialog=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({helpFinderDialogOpen:e})},n.setUpdateStatus=function(e){n.setState({updateStatus:e});var t=Object(V.d)(e),a=Object(V.c)(e);t&&(new window.Notification(t,{body:a}).onclick=function(){return n.openAboutDialog(!0)})},n.simulateUpdateDownloaded=function(){return n.setUpdateStatus({status:"update-downloaded",message:"update-downloaded",info:{releaseName:"Fake update"}})},n.simulateUpdateAvailable=function(){return n.setUpdateStatus({status:"update-available",message:"Update available"})},n._showSnackMessage=function(e){return n.setState({snackMessage:e,snackMessageOpen:!0})},n._closeSnackMessage=function(){return n.setState({snackMessageOpen:!1})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this.props.integratedEditor||this.openStartPage()}},{key:"componentDidMount",value:function(){$.push(["MainFrameComponentDidMount",performance.now()]);var e=this.props.initialFileMetadataToOpen;this._loadExtensions(),e?this._openInitialFileMetadata(!1):this.props.introDialog&&!C.b.isDev()&&this._openIntroDialog(!0),$.push(["MainFrameComponentDidMountFinished",performance.now()]),console.info("Startup times:",Object(X.a)())}},{key:"_languageDidChange",value:function(){ee.JsPlatform.get().reloadBuiltinExtensions(),this._loadExtensions()}},{key:"updateToolbar",value:function(){var e=Object(S.j)(this.state.editorTabs);e&&e.editorRef?e.editorRef.updateToolbar():this.setEditorToolbar(null)}},{key:"render",value:function(){var e=this,t=this.state,n=t.currentProject,a=t.currentFileMetadata,r=t.genericDialog,o=t.projectManagerOpen,i=t.profileDialogOpen,s=t.subscriptionDialogOpen,c=t.updateStatus,C=t.aboutDialogOpen,x=t.helpFinderDialogOpen,k=t.eventsFunctionsExtensionsError,w=this.props,_=w.renderExportDialog,P=w.renderCreateDialog,I=w.introDialog,B=w.resourceSources,M=w.renderPreviewLauncher,F=w.resourceExternalEditors,R=w.eventsFunctionsExtensionsState,L=w.useStorageProvider,U=w.i18n,V=w.renderGDJSDevelopmentWatcher,z=this.state.loadingProject||this.state.previewLoading||this.props.loading;return u.createElement("div",{className:"main-frame"},u.createElement(h.a,{fileMetadata:a}),u.createElement(d.a,{open:o,PaperProps:{style:te.drawerContent},onClose:this.toggleProjectManager},u.createElement(y.a,{title:n?n.getName():"No project",displayRightCloseButton:!0,onClose:this.toggleProjectManager}),n&&u.createElement(b.a,{project:n,onOpenExternalEvents:this.openExternalEvents,onOpenLayout:this.openLayout,onOpenExternalLayout:this.openExternalLayout,onOpenEventsFunctionsExtension:this.openEventsFunctionsExtension,onAddLayout:this.addLayout,onAddExternalLayout:this.addExternalLayout,onAddEventsFunctionsExtension:this.addEventsFunctionsExtension,onAddExternalEvents:this.addExternalEvents,onDeleteLayout:this.deleteLayout,onDeleteExternalLayout:this.deleteExternalLayout,onDeleteEventsFunctionsExtension:this.deleteEventsFunctionsExtension,onDeleteExternalEvents:this.deleteExternalEvents,onRenameLayout:this.renameLayout,onRenameExternalLayout:this.renameExternalLayout,onRenameEventsFunctionsExtension:this.renameEventsFunctionsExtension,onRenameExternalEvents:this.renameExternalEvents,onSaveProject:this.saveProject,onSaveProjectAs:this.saveProjectAs,onCloseProject:function(){e.askToCloseProject()},onExportProject:this.openExportDialog,onOpenPreferences:function(){return e.openPreferences(!0)},onOpenProfile:function(){return e.openProfile(!0)},onOpenResources:function(){e.openResources(),e.openProjectManager(!1)},onOpenPlatformSpecificAssets:function(){return e.openPlatformSpecificAssets()},onChangeSubscription:function(){return e.openSubscription(!0)},eventsFunctionsExtensionsError:k,onReloadEventsFunctionsExtensions:function(){R.reloadProjectEventsFunctionsExtensions(n)},freezeUpdate:!o}),!n&&u.createElement(W.a,null,u.createElement(l.Trans,{id:"To begin, open or create a new project."}))),u.createElement(m.a,{ref:function(t){return e.toolbar=t},showProjectIcons:!this.props.integratedEditor,hasProject:!!this.state.currentProject,toggleProjectManager:this.toggleProjectManager,exportProject:function(){return e.openExportDialog(!0)},requestUpdate:this.props.requestUpdate,simulateUpdateDownloaded:this.simulateUpdateDownloaded,simulateUpdateAvailable:this.simulateUpdateAvailable}),u.createElement(T.b,{hideLabels:!!this.props.integratedEditor},Object(S.m)(this.state.editorTabs).map(function(t,n){var a=Object(S.k)(e.state.editorTabs)===n;return u.createElement(T.a,{label:t.name,key:t.key,active:a,onClick:function(){return e._onChangeEditorTab(n)},onClose:function(){return e._onCloseEditorTab(t)},onCloseOthers:function(){return e._onCloseOtherEditorTabs(t)},onCloseAll:e._onCloseAllEditorTabs,onActivated:function(){return e._onEditorTabActive(t)},closable:t.closable})})),Object(S.m)(this.state.editorTabs).map(function(t,n){var a=Object(S.k)(e.state.editorTabs)===n;return u.createElement(T.c,{key:t.key,active:a},u.createElement(A.a,null,t.render(a)))}),u.createElement(E.a,{show:z}),u.createElement(N.a,{open:x,onClose:function(){return e.openHelpFinderDialog(!1)}}),u.createElement(p.a,{open:this.state.snackMessageOpen,autoHideDuration:3e3,onClose:this._closeSnackMessage,ContentProps:{"aria-describedby":"snackbar-message"},message:u.createElement("span",{id:"snackbar-message"},this.state.snackMessage)}),!!_&&this.state.exportDialogOpen&&_({onClose:function(){return e.openExportDialog(!1)},onChangeSubscription:function(){e.openExportDialog(!1),e.openSubscription(!0)},project:this.state.currentProject}),!!P&&this.state.createDialogOpen&&P({open:this.state.createDialogOpen,onClose:function(){return e.openCreateDialog(!1)},onOpen:function(t,n){e.openCreateDialog(!1),L(t).then(function(){return e.openFromFileMetadata(n)}).then(function(){return e.openSceneOrProjectManager()})},onCreate:function(t,n,a){e.openCreateDialog(!1),L(n).then(function(){return e.loadFromProject(t,a)}).then(function(){return e.openSceneOrProjectManager()})}}),!!I&&u.cloneElement(I,{open:this.state.introDialogOpen,onClose:function(){return e._openIntroDialog(!1)}}),!!this.state.currentProject&&this.state.platformSpecificAssetsDialogOpen&&u.createElement(v.a,{project:this.state.currentProject,open:!0,onApply:function(){return e.openPlatformSpecificAssets(!1)},onClose:function(){return e.openPlatformSpecificAssets(!1)},resourceSources:B,onChooseResource:this._onChooseResource,resourceExternalEditors:F}),!!r&&u.cloneElement(r,{open:this.state.genericDialogOpen,onClose:function(){return e._openGenericDialog(!1)}}),!!M&&M({onExport:function(){return e.openExportDialog(!0)},onChangeSubscription:function(){return e.openSubscription(!0)}},function(t){e._previewLauncher=t}),B.map(function(t,n){var a=t.component;return u.createElement(a,{key:t.name,ref:function(n){return e._resourceSourceDialogs[t.name]=n},i18n:U})}),i&&u.createElement(O.a,{open:!0,onClose:function(){return e.openProfile(!1)},onChangeSubscription:function(){return e.openSubscription(!0)}}),s&&u.createElement(D.a,{onClose:function(){e.openSubscription(!1)},open:!0}),this.state.preferencesDialogOpen&&u.createElement(f.a,{onClose:function(){return e.openPreferences(!1)}}),this.state.languageDialogOpen&&u.createElement(H.a,{open:!0,onClose:function(t){e.openLanguage(!1),t&&e._languageDidChange()}}),C&&u.createElement(g.a,{open:!0,onClose:function(){return e.openAboutDialog(!1)},updateStatus:c}),this.state.openFromStorageProviderDialogOpen&&u.createElement(J.a,{onClose:function(){return e.openOpenFromStorageProviderDialog(!1)},storageProviders:this.props.storageProviders,onChooseProvider:function(t){e.openOpenFromStorageProviderDialog(!1),L(t).then(function(){e.chooseProjectWithStorageProviderPicker()})},onCreateNewProject:function(){e.openOpenFromStorageProviderDialog(!1),e.openCreateDialog(!0)}}),this.state.saveToStorageProviderDialogOpen&&u.createElement(Z.a,{onClose:function(){return e.openSaveToStorageProviderDialog(!1)},storageProviders:this.props.storageProviders,onChooseProvider:function(t){e.openSaveToStorageProviderDialog(!1),L(t).then(function(){e.saveProjectAsWithStorageProvider()})}}),this.state.openConfirmDialogOpen&&u.createElement(q.a,{onClose:function(){e._openOpenConfirmDialog(!1)},onConfirm:function(){e._openOpenConfirmDialog(!1),e._openInitialFileMetadata(!0)}}),u.createElement(j.a,{shouldPrompt:!!this.state.currentProject}),u.createElement(G.a,null),V&&V())}}]),t}(u.Component);t.a=ne}).call(this,n(1))},399:function(e,t,n){"use strict";var a=n(10),r=n(546),o=a.createContext(r.a.gdevelopTheme);t.a=o},411:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});var a=n(10),r=n.n(a),o=n(103),i=n(180),s=function(e){return r.a.createElement(o.b,{onClick:e.onClick,primaryText:r.a.createElement(i.a,null,e.primaryText),displayAddIcon:!0})},c=function(e){return r.a.createElement(o.b,{onClick:e.onClick,primaryText:r.a.createElement(i.a,null,e.primaryText),displaySearchIcon:!0})}},412:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return m});var a=n(102),r=n(83),o=n(5),i=n(11),s=n(22),c=n(21),l=n(23),u=n(10),d=n.n(u),p=e.gd,m=function(e,t){var n=t.newObjectCreator,m=t.propName,h=t.useProjectToUnserialize;return function(t){function u(e){var t;return Object(o.a)(this,u),(t=Object(s.a)(this,Object(c.a)(u).call(this,e)))._apply=function(){if(t.props[m]){var e=new p.SerializerElement;t.state.serializableObject.serializeTo(e),h?t.props[m].unserializeFrom(t.props.project,e):t.props[m].unserializeFrom(e),e.delete(),t.props.onApply&&t.props.onApply()}},t._cancel=function(){t.props.onCancel&&t.props.onCancel()},t.state={serializableObject:n()},t._loadFrom(e[m]),t}return Object(l.a)(u,t),Object(i.a)(u,[{key:"componentWillUnmount",value:function(){this.state.serializableObject.delete()}},{key:"componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props[m]!==e[m])&&this._loadFrom(e[m])}},{key:"_loadFrom",value:function(e){if(e){var t=new p.SerializerElement;e.serializeTo(t),h?this.state.serializableObject.unserializeFrom(this.props.project,t):this.state.serializableObject.unserializeFrom(t),t.delete()}}},{key:"render",value:function(){var t,n=this.props;return d.a.createElement(e,Object(r.a)({},n,(t={},Object(a.a)(t,m,this.state.serializableObject),Object(a.a)(t,"onCancel",this._cancel),Object(a.a)(t,"onApply",this._apply),t)))}}]),u}(u.Component)}}).call(this,n(1))},415:function(e,t,n){"use strict";var a=n(10),r=n.n(a),o=n(1034),i=n.n(o),s=n(189),c={handle:{cursor:"move",marginRight:4},handleColor:"#DDD"},l=Object(s.SortableHandle)(function(){return r.a.createElement("span",{style:c.handle},r.a.createElement(i.a,{htmlColor:c.handleColor}))});t.a=l},416:function(e,t,n){"use strict";t.a={toolColumnHeader:{textAlign:"left",paddingRight:4},toolColumn:{minWidth:48,flex:0,justifyContent:"flex-end"},tableChildIndentation:24,indent:{display:"flex",alignItems:"center",justifyContent:"flex-end"},indentIconColor:"#DDD",addVariableMessage:{justifyContent:"flex-end"},emptyExplanation:{justifyContent:"flex-start"},emptyExplanationMessage:{textAlign:"left"},fadedButton:{opacity:.7}}},423:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(90),d=n(88),p=n(92),m=n(1046),h=n.n(m),f=n(1047),g=n.n(f),b=n(265),v=n(80),E=n(9),y=n(89),j={icon:{width:40,height:40,marginRight:20},iconText:{flex:1},thanksText:{marginRight:20,marginBottom:0}},O=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={open:!1},n._closeDialog=function(){Object(E.l)(),n.setState({open:!1})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"checkHasSubscription",value:function(){var e=this.props,t=e.userProfile,n=e.mode,a=e.id;if(t.subscription&&!!t.subscription.planId)return this.setState({open:!1}),!0;return this.setState({open:!0}),Object(E.k)({mode:n,id:a}),!1}},{key:"render",value:function(){var e=this,t=this.state.open,n=this.props,a=n.onChangeSubscription,r=n.mode;return t?l.createElement(p.a,{actions:[a&&l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Get a subscription or login"}),key:"subscribe",primary:!0,onClick:function(){e.setState({open:!1}),a()}})],secondaryActions:[l.createElement(d.a,{label:"try"===r?l.createElement(c.Trans,{id:"Continue anyway"}):l.createElement(c.Trans,{id:"Not now, thanks!"}),key:"close",primary:!1,onClick:this._closeDialog})],onRequestClose:this._closeDialog,open:t,title:this.props.title},l.createElement(v.a,{noMargin:!0},l.createElement(v.b,{noMargin:!0,alignItems:"center"},"try"===r?l.createElement(y.a,null,l.createElement(c.Trans,{id:"You can try this feature, but if you're using it regularly, we ask you to get a subscription to GDevelop."})):l.createElement(y.a,null,l.createElement(c.Trans,{id:"To use this feature, we ask you to get a subscription to GDevelop."}))),l.createElement(v.b,{noMargin:!0,alignItems:"center"},l.createElement(h.a,{style:j.icon}),l.createElement(y.a,{style:j.iconText},l.createElement(c.Trans,{id:"Having a subscription allows you to use the one-click export for Android, Windows, macOS and Linux, launch live previews over wifi, disable the GDevelop splashscreen during loading and more!"}))),l.createElement(v.b,{noMargin:!0,alignItems:"center"},l.createElement(g.a,{style:j.icon}),l.createElement(y.a,{style:j.iconText},l.createElement(c.Trans,{id:"You're also supporting the development of GDevelop, an open-source software! In the future, more online services will be available for users with a subscription."}))),l.createElement(y.a,{style:j.thanksText,align:"right"},l.createElement("b",null,l.createElement(c.Trans,{id:"Thanks!"}))))):null}}]),t}(l.Component),C=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))))._dialog=null,n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"checkHasSubscription",value:function(){return!!this._dialog&&this._dialog.checkHasSubscription()}},{key:"render",value:function(){var e=this;return l.createElement(b.a.Consumer,null,function(t){return l.createElement(O,{userProfile:t,ref:function(t){return e._dialog=t},onChangeSubscription:e.props.onChangeSubscription,id:e.props.id,title:e.props.title,mode:e.props.mode})})}}]),t}(l.Component);t.a=C},433:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return L});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(1131),d=n(1454),p=n(2102),m=n(1458),h=n(1459),f=n(1460),g=n(1461),b=n(301),v=n(118),E=n(717),y=n(336),j=n(1462),O=n(1463),C=n(1464),x=n(1465),T=n(1467),S=n(1476),k=n(1477),w=n(142),N=n(1478),_=n(720),P=n(712),I=n(472),B=n(283),M=n(177),F=e.gd,R={container:{display:"flex",width:"100%",flexDirection:"column",flex:1,position:"relative"}},L=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))))._containerDiv=l.createRef(),n._keyboardShortcuts=new f.a({isActive:function(){return!n.state.inlineEditing&&!n.state.editedInstruction.instruction&&!n.state.analyzedEventsContextResult&&!n.state.serializedEventsToExtract},shortcutCallbacks:{onDelete:function(){return n.deleteSelection()},onCopy:function(){return n.copySelection()},onCut:function(){return n.cutSelection()},onPaste:function(){return n.pasteEventsOrInstructions()},onSearch:function(){return n._toggleSearchPanel()},onUndo:function(){return n.undo()},onRedo:function(){return n.redo()}}}),n.state={history:Object(E.c)(n.props.events,{historyMaxSize:50}),editedInstruction:{isCondition:!0,instruction:null,instrsList:null,indexInList:0},editedParameter:{isCondition:!0,instruction:null,instrsList:null,parameterIndex:0},selection:Object(y.b)(),inlineEditing:!1,inlineEditingAnchorEl:null,inlineEditingChangesMade:!1,analyzedEventsContextResult:null,serializedEventsToExtract:null,showSearchPanel:!1,searchResults:null,searchFocusOffset:null,allEventsMetadata:[],textEditedEvent:null},n._toggleSearchPanel=function(){n.setState(function(e){var t=!e.showSearchPanel;return t||n._eventSearcher&&n._eventSearcher.reset(),{showSearchPanel:t}},function(){n.state.showSearchPanel&&n._searchPanel&&n._searchPanel.focus()})},n.addSubEvents=function(){var e=n.props.project;Object(y.d)(n.state.selection).forEach(function(t){t.canHaveSubEvents()&&t.getSubEvents().insertNewEvent(e,"BuiltinCommonInstructions::Standard",t.getSubEvents().getEventsCount())}),n._saveChangesToHistory(function(){n._eventsTree&&n._eventsTree.forceEventsUpdate()})},n._selectionCanHaveSubEvents=function(){return Object(y.d)(n.state.selection).some(function(e){return e.canHaveSubEvents()})},n._selectionCanToggleDisabled=function(){return Object(y.d)(n.state.selection).some(function(e){return e.isExecutable()})},n.addNewEvent=function(e,t){var a=n.props.project,r=Object(y.h)(n.state.selection),o=!1,i=[];t?i=[t]:r?("BuiltinCommonInstructions::Comment"!==e&&"BuiltinCommonInstructions::Group"!==e||(o=!0),i=Object(y.c)(n.state.selection).map(function(e){return{eventsList:e.eventsList,indexInList:o?e.indexInList-1:e.indexInList}})):i=[{eventsList:n.props.events,indexInList:n.props.events.getEventsCount()}];var s=i.map(function(t){return t.eventsList.insertNewEvent(a,e,t.indexInList+1)});return n._saveChangesToHistory(function(){var e=n._eventsTree;e&&e.forceEventsUpdate(function(){t||r||e.scrollToEvent(s[0])})}),s},n.openEventTextDialog=function(){var e=Object(m.b)(Object(y.d)(n.state.selection));if(e.length){var t=e[e.length-1];n.setState({textEditedEvent:t})}},n.closeEventTextDialog=function(){n.setState({textEditedEvent:null})},n.openInstructionEditor=function(e){n.state.editedInstruction.instruction&&(n.state.editedInstruction.instruction.delete(),console.warn("state.editedInstruction.instruction was containing an instruction - deleting it. Verify the logic handling the state in EventsSheet because that should not happen.")),n.setState({editedInstruction:{instrsList:e.instrsList,isCondition:e.isCondition,instruction:e.instruction?e.instruction.clone():new F.Instruction,indexInList:void 0!==e.indexInList?e.indexInList:void 0}})},n.moveSelectionToInstruction=function(e){n.moveSelectionToInstructionsList({instrsList:e.instrsList,isCondition:e.isCondition},e.indexInList)},n.moveSelectionToInstructionsList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=Object(y.e)(n.state.selection),r=void 0===t?e.instrsList.size():t;!!a.filter(function(t){return Object(S.a)(t,e.instrsList)}).length||(a.forEach(function(t){return e.instrsList.insert(t,r)}),n._keyboardShortcuts.shouldCloneInstances()?n._saveChangesToHistory():n.deleteSelection({deleteEvents:!1}))},n.selectEvent=function(e){var t=n._keyboardShortcuts.shouldMultiSelect();n.setState({selection:Object(y.o)(n.state.selection,e,t)},function(){return n.updateToolbar()})},n.openEventContextMenu=function(e,t,a){var r=n._keyboardShortcuts.shouldMultiSelect();n.setState({selection:Object(y.o)(n.state.selection,a,r)},function(){n.updateToolbar(),n.eventContextMenu.open(e,t)})},n.openInstructionContextMenu=function(e,t,a){var r=n._keyboardShortcuts.shouldMultiSelect();n.setState({selection:Object(y.p)(n.state.selection,a,r)},function(){n.updateToolbar(),n.instructionContextMenu.open(e,t)})},n.openInstructionsListContextMenu=function(e,t,a){n.setState({selection:Object(y.q)(n.state.selection,a,!1)},function(){n.updateToolbar(),n.instructionsListContextMenu.open(e,t)})},n.selectInstruction=function(e){var t=n._keyboardShortcuts.shouldMultiSelect();n.setState({selection:Object(y.p)(n.state.selection,e,t)},function(){return n.updateToolbar()})},n.openParameterEditor=function(e){n.setState({editedParameter:e,inlineEditing:!0,inlineEditingAnchorEl:e.domEvent?e.domEvent.currentTarget:null,inlineEditingChangesMade:!1})},n.closeParameterEditor=function(){n.state.inlineEditingChangesMade&&n._saveChangesToHistory(),n.setState({inlineEditing:!1,inlineEditingAnchorEl:null,inlineEditingChangesMade:!1})},n.toggleDisabled=function(){Object(y.d)(n.state.selection).forEach(function(e){return e.setDisabled(!e.isDisabled())}),n._saveChangesToHistory(function(){n._eventsTree&&n._eventsTree.forceEventsUpdate()})},n.deleteSelection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.deleteInstructions,a=void 0===t||t,r=e.deleteEvents,o=void 0===r||r,i=n.props.events,s=new F.EventsRemover;o&&Object(y.d)(n.state.selection).forEach(function(e){return s.addEventToRemove(e)}),a&&Object(y.e)(n.state.selection).forEach(function(e){return s.addInstructionToRemove(e)}),s.launch(i),n._eventsTree&&n._eventsTree.forceEventsUpdate(),n.setState({selection:Object(y.a)(),inlineEditing:!1,inlineEditingAnchorEl:null},function(){n._saveChangesToHistory(),n._ensureFocused()})},n.copySelection=function(){Object(P.a)(n.state.selection)},n.cutSelection=function(){n.copySelection(),n.deleteSelection()},n.pasteEvents=function(){Object(P.e)(n.props.project,n.state.selection)&&n._saveChangesToHistory(function(){n._eventsTree&&n._eventsTree.forceEventsUpdate()})},n.pasteInstructions=function(){Object(P.g)(n.props.project,n.state.selection)&&n._saveChangesToHistory(function(){n._eventsTree&&n._eventsTree.forceEventsUpdate()})},n.pasteEventsOrInstructions=function(){Object(y.h)(n.state.selection)?n.pasteEvents():Object(y.i)(n.state.selection)?n.pasteInstructions():Object(y.j)(n.state.selection)&&n.pasteInstructions()},n.pasteInstructionsInInstructionsList=function(e){Object(P.f)(n.props.project,e)&&n._saveChangesToHistory(function(){n._eventsTree&&n._eventsTree.forceEventsUpdate()})},n._invertSelectedConditions=function(){Object(y.f)(n.state.selection).forEach(function(e){e.isCondition&&e.instruction.setInverted(!e.instruction.isInverted())}),n._saveChangesToHistory(function(){n._eventsTree&&n._eventsTree.forceEventsUpdate()})},n._saveChangesToHistory=function(e){n.setState({history:Object(E.e)(n.state.history,n.props.events)},function(){n.updateToolbar(),e&&e()})},n.undo=function(){if(Object(E.b)(n.state.history)){var e=n.props,t=e.events,a=e.project,r=Object(E.f)(n.state.history,t,a);n._eventsTree&&n._eventsTree.forceEventsUpdate(),n.setState({history:r},function(){return n.updateToolbar()})}},n.redo=function(){if(Object(E.a)(n.state.history)){var e=n.props,t=e.events,a=e.project,r=Object(E.d)(n.state.history,t,a);n._eventsTree&&n._eventsTree.forceEventsUpdate(),n.setState({history:r},function(){return n.updateToolbar()})}},n._openEventsContextAnalyzer=function(){var e=n.props,t=e.globalObjectsContainer,a=e.objectsContainer,r=new F.EventsContextAnalyzer(F.JsPlatform.get(),t,a),o=new F.EventsList;Object(y.d)(n.state.selection).forEach(function(e){return o.insertEvent(e,o.getEventsCount())}),r.launch(o),o.delete(),n.setState({analyzedEventsContextResult:Object(C.b)(r.getEventsContext())}),r.delete()},n._closeEventsContextAnalyzer=function(){n.setState({analyzedEventsContextResult:null})},n.extractEventsToFunction=function(){var e=new F.EventsList;Object(y.d)(n.state.selection).forEach(function(t){return e.insertEvent(t,e.getEventsCount())}),n.setState({serializedEventsToExtract:Object(v.b)(e)}),e.delete()},n.moveEventsIntoNewGroup=function(){var e=new F.EventsList;Object(y.d)(n.state.selection).forEach(function(t){return e.insertEvent(t,e.getEventsCount())}),n._replaceSelectionByGroupOfEvents(e),e.delete()},n._replaceSelectionByEventsFunction=function(e,t){var a=Object(y.c)(n.state.selection);if(a.length){var r=n.addNewEvent("BuiltinCommonInstructions::Standard",a[0]);if(r.length){var o=Object(_.b)(e,t);F.asStandardEvent(r[0]).getActions().push_back(o),o.delete(),n.deleteSelection({deleteInstructions:!1})}else console.error("A new event should have been created")}},n._replaceSelectionByGroupOfEvents=function(e){var t=Object(y.c)(n.state.selection);if(t.length){var a=n.addNewEvent("BuiltinCommonInstructions::Group",t[0]);if(a.length){var r=F.asGroupEvent(a[0]);r.setName("Grouped events"),r.setFolded(!0),r.getSubEvents().insertEvents(e,0,e.getEventsCount(),0),n.deleteSelection({deleteInstructions:!1})}else console.error("A new event should have been created")}},n._ensureEventUnfolded=function(e){var t=e();t&&n._eventsTree&&n._eventsTree.unfoldForEvent(t)},n._replaceInEvents=function(e,t){e(t),n._saveChangesToHistory(function(){n._eventsTree&&n._eventsTree.forceEventsUpdate()})},n._searchInEvents=function(e,t){e(t,function(){n.forceUpdate(function(){n._eventsTree&&n._eventsTree.forceEventsUpdate()})})},n._onEventMoved=function(){n._saveChangesToHistory()},n._renderInstructionEditorDialog=function(e){var t=n.props,a=t.project,r=t.scope,o=t.globalObjectsContainer,i=t.objectsContainer,s=e?d.a:p.a;return n.state.editedInstruction.instruction?l.createElement(s,{project:a,scope:r,globalObjectsContainer:o,objectsContainer:i,instruction:n.state.editedInstruction.instruction,isCondition:n.state.editedInstruction.isCondition,isNewInstruction:void 0===n.state.editedInstruction.indexInList,open:!0,onCancel:function(){return n.closeInstructionEditor()},onSubmit:function(){var e=n.state.editedInstruction,t=e.instrsList,a=e.instruction,r=e.indexInList;t&&(void 0!==r?t.set(r,a):t.insert(a,t.size()),n.closeInstructionEditor(!0),Object(O.a)(t),n._eventsTree&&n._eventsTree.forceEventsUpdate())},resourceSources:n.props.resourceSources,onChooseResource:n.props.onChooseResource,resourceExternalEditors:n.props.resourceExternalEditors,openInstructionOrExpression:function(e,t){n.closeInstructionEditor(),n.props.openInstructionOrExpression(e,t)}}):void 0},n._ensureFocused=function(){if(n._containerDiv&&document){var e=n._containerDiv.current;if(document.activeElement!==e&&e){if(document.activeElement!==document.body&&e.contains(document.activeElement))return;e.focus()}}},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setState({allEventsMetadata:Object(k.a)()})}},{key:"updateToolbar",value:function(){var e=this;this.props.setToolbar&&this.props.setToolbar(l.createElement(h.a,{allEventsMetadata:this.state.allEventsMetadata,onAddStandardEvent:function(){e.addNewEvent("BuiltinCommonInstructions::Standard")},onAddSubEvent:this.addSubEvents,canAddSubEvent:Object(y.h)(this.state.selection),onAddCommentEvent:function(){e.addNewEvent("BuiltinCommonInstructions::Comment")},onAddEvent:function(t){e.addNewEvent(t)},canRemove:Object(y.l)(this.state.selection),onRemove:this.deleteSelection,showPreviewButton:this.props.showPreviewButton,showNetworkPreviewButton:this.props.showNetworkPreviewButton,onPreview:function(){return e.props.onPreview({})},onNetworkPreview:function(){return e.props.onPreview({networkPreview:!0})},onOpenDebugger:function(){e.props.onOpenDebugger(),e.props.onPreview({})},canUndo:Object(E.b)(this.state.history),canRedo:Object(E.a)(this.state.history),undo:this.undo,redo:this.redo,onOpenSettings:this.props.onOpenSettings,onToggleSearchPanel:this._toggleSearchPanel}))}},{key:"closeInstructionEditor",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.state.editedInstruction.instruction;this.setState({editedInstruction:{isCondition:!0,instruction:null,instrsList:null,indexInList:0}},function(){n&&n.delete(),t&&e._saveChangesToHistory()})}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.scope,r=t.events,o=t.onOpenExternalEvents,i=t.onOpenLayout,s=t.globalObjectsContainer,d=t.objectsContainer;return n?l.createElement(B.a,null,function(t){return l.createElement(M.a,null,function(p){return l.createElement(w.b.Consumer,null,function(h){var f=h.values;return l.createElement(T.a,{key:r.ptr,ref:function(t){return e._eventSearcher=t},events:r,globalObjectsContainer:s,objectsContainer:d,selection:e.state.selection},function(h){var v=h.eventsSearchResultEvents,O=h.searchFocusOffset,T=h.searchInEvents,S=h.replaceInEvents,k=h.goToPreviousSearchResult,w=h.goToNextSearchResult;return l.createElement("div",{className:"gd-events-sheet",style:R.container,onKeyDown:e._keyboardShortcuts.onKeyDown,onKeyUp:e._keyboardShortcuts.onKeyUp,onDragOver:e._keyboardShortcuts.onDragOver,ref:e._containerDiv,tabIndex:0},l.createElement(u.a,{ref:function(t){return e._eventsTree=t},key:r.ptr,onScroll:e._ensureFocused,events:r,project:n,scope:a,globalObjectsContainer:s,objectsContainer:d,selection:e.state.selection,onInstructionClick:e.selectInstruction,onInstructionDoubleClick:e.openInstructionEditor,onInstructionContextMenu:e.openInstructionContextMenu,onInstructionsListContextMenu:e.openInstructionsListContextMenu,onAddNewInstruction:e.openInstructionEditor,onPasteInstructions:e.pasteInstructionsInInstructionsList,onMoveToInstruction:e.moveSelectionToInstruction,onMoveToInstructionsList:e.moveSelectionToInstructionsList,onParameterClick:e.openParameterEditor,onEventClick:e.selectEvent,onEventContextMenu:e.openEventContextMenu,onAddNewEvent:function(t){e.addNewEvent("BuiltinCommonInstructions::Standard",t)},onOpenExternalEvents:o,onOpenLayout:i,searchResults:v,searchFocusOffset:O,onEventMoved:e._onEventMoved,showObjectThumbnails:f.eventsSheetShowObjectThumbnails,screenType:t,windowWidth:p}),e.state.showSearchPanel&&l.createElement(x.a,{ref:function(t){return e._searchPanel=t},onSearchInEvents:function(t){return e._searchInEvents(T,t)},onReplaceInEvents:function(t){return e._replaceInEvents(S,t)},resultsCount:v?v.length:null,hasEventSelected:Object(y.h)(e.state.selection),onGoToPreviousSearchResult:function(){return e._ensureEventUnfolded(k)},onGoToNextSearchResult:function(){return e._ensureEventUnfolded(w)}}),r&&0===r.getEventsCount()&&l.createElement(j.a,null),l.createElement(g.a,{open:e.state.inlineEditing,anchorEl:e.state.inlineEditingAnchorEl,onRequestClose:e.closeParameterEditor,project:n,scope:a,globalObjectsContainer:s,objectsContainer:d,isCondition:e.state.editedParameter.isCondition,instruction:e.state.editedParameter.instruction,parameterIndex:e.state.editedParameter.parameterIndex,onChange:function(t){var n=e.state.editedParameter,a=n.instruction,r=n.parameterIndex;a&&(a.setParameter(r,t),e.setState({inlineEditingChangesMade:!0}))},resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors}),l.createElement(b.a,{ref:function(t){return e.eventContextMenu=t},buildMenuTemplate:function(){return[{label:"Edit",click:function(){return e.openEventTextDialog()},visible:Object(m.b)(Object(y.d)(e.state.selection)).length>0},{label:"Copy",click:function(){return e.copySelection()},accelerator:"CmdOrCtrl+C"},{label:"Cut",click:function(){return e.cutSelection()},accelerator:"CmdOrCtrl+X"},{label:"Paste",click:function(){return e.pasteEvents()},enabled:Object(P.d)(),accelerator:"CmdOrCtrl+V"},{label:"Delete",click:function(){return e.deleteSelection()},accelerator:"Delete"},{label:"Toggle disabled",click:function(){return e.toggleDisabled()},enabled:e._selectionCanToggleDisabled()},{type:"separator"},{label:"Add New Event Below",click:function(){return e.addNewEvent("BuiltinCommonInstructions::Standard")}},{label:"Add Sub Event",click:function(){return e.addSubEvents()},enabled:e._selectionCanHaveSubEvents()},{label:"Add Other",submenu:e.state.allEventsMetadata.map(function(t){return{label:t.fullName,click:function(){return e.addNewEvent(t.type)}}})},{type:"separator"},{label:"Undo",click:e.undo,enabled:Object(E.b)(e.state.history),accelerator:"CmdOrCtrl+Z"},{label:"Redo",click:e.redo,enabled:Object(E.a)(e.state.history),accelerator:"CmdOrCtrl+Shift+Z"},{type:"separator"},{label:"Extract Events to a Function",click:function(){return e.extractEventsToFunction()}},{label:"Move Events into a Group",click:function(){return e.moveEventsIntoNewGroup()}},{label:"Analyze Objects Used in this Event",click:e._openEventsContextAnalyzer}]}}),l.createElement(b.a,{ref:function(t){return e.instructionContextMenu=t},buildMenuTemplate:function(){return[{label:"Copy",click:function(){return e.copySelection()},accelerator:"CmdOrCtrl+C"},{label:"Cut",click:function(){return e.cutSelection()},accelerator:"CmdOrCtrl+X"},{label:"Paste",click:function(){return e.pasteInstructions()},enabled:Object(P.c)()||Object(P.b)(),accelerator:"CmdOrCtrl+V"},{type:"separator"},{label:"Delete",click:function(){return e.deleteSelection()},accelerator:"Delete"},{type:"separator"},{label:"Undo",click:e.undo,enabled:Object(E.b)(e.state.history),accelerator:"CmdOrCtrl+Z"},{label:"Redo",click:e.redo,enabled:Object(E.a)(e.state.history),accelerator:"CmdOrCtrl+Shift+Z"},{label:"Invert Condition",click:function(){return e._invertSelectedConditions()},visible:Object(y.k)(e.state.selection)}]}}),l.createElement(b.a,{ref:function(t){return e.instructionsListContextMenu=t},buildMenuTemplate:function(){return[{label:"Paste",click:function(){return e.pasteInstructions()},enabled:Object(P.c)()||Object(P.b)(),accelerator:"CmdOrCtrl+V"},{type:"separator"},{label:"Undo",click:e.undo,enabled:Object(E.b)(e.state.history),accelerator:"CmdOrCtrl+Z"},{label:"Redo",click:e.redo,enabled:Object(E.a)(e.state.history),accelerator:"CmdOrCtrl+Shift+Z"}]}}),e._renderInstructionEditorDialog(f.useNewInstructionEditorDialog||"touch"===t),e.state.analyzedEventsContextResult&&l.createElement(C.a,{onClose:e._closeEventsContextAnalyzer,eventsContextResult:e.state.analyzedEventsContextResult}),e.state.serializedEventsToExtract&&l.createElement(N.a,{project:n,globalObjectsContainer:s,objectsContainer:d,onClose:function(){return e.setState({serializedEventsToExtract:null})},serializedEvents:e.state.serializedEventsToExtract,onCreate:function(t,n){e.props.onCreateEventsFunction(t,n),e._replaceSelectionByEventsFunction(t,n),e.setState({serializedEventsToExtract:null})}}),e.state.textEditedEvent&&l.createElement(m.a,{event:e.state.textEditedEvent,onApply:function(){e.closeEventTextDialog(),e._saveChangesToHistory()},onClose:e.closeEventTextDialog}),l.createElement(I.a,{identifier:"edit-instruction-explanation",message:l.createElement(c.Trans,{id:"Double click on a condition or action to edit it."}),touchScreenMessage:l.createElement(c.Trans,{id:"Double tap a condition or action to edit it. Long press to show more options."}),show:Object(y.i)(e.state.selection)}))})})})}):null}}]),t}(l.Component)}).call(this,n(1))},439:function(e,t,n){"use strict";(function(e){n(10);var a=n(644),r=n(1214),o=n(1215),i=n(1216),s=n(1217),c=n(440),l=n(1326),u=n(1327),d=n(1328),p=n(1340),m=n(1341),h=n(1342),f=n(1343),g=n(1344),b=n(1345),v=n(1346),E=n(1347),y=n(1348),j=n(1349),O=n(1350),C=n(1436),x=n(1437),T=e.gd,S={default:a.a,mouse:i.a,object:c.a,relationalOperator:r.a,operator:o.a,yesorno:l.a,trueorfalse:u.a,expression:d.a,string:p.a,stringWithSelector:m.a,behavior:h.a,scenevar:f.a,globalvar:g.a,objectvar:b.a,layer:v.a,key:s.a,file:a.a,musicfile:E.a,soundfile:E.a,videoResource:y.a,jsonResource:j.a,color:O.a,police:a.a,joyaxis:a.a,forceMultiplier:C.a,sceneName:x.a},k={forceMultiplier:C.b,globalvar:g.b,scenevar:f.b,objectvar:b.b,key:s.b,mouse:i.b,object:c.b,yesorno:l.b,trueorfalse:u.b,operator:o.b,relationalOperator:r.b};t.a={components:S,getParameterComponent:function(e){var t=T.ParameterMetadata.isObject(e)?"object":e;return S.hasOwnProperty(t)?S[t]:S.default},renderInlineParameter:function(e){var t=e.parameterMetadata.getType(),n=T.ParameterMetadata.isObject(t)?"object":t;return k[n]?k[n](e):e.value}}}).call(this,n(1))},440:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return g});var a=n(102),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(10),d=n(141),p=n.n(d),m=n(645),h=n(133),f=function(e){function t(e){var n;Object(r.a)(this,t);var a=(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).props.parameterMetadata;return n._description=a?a.getDescription():void 0,n._longDescription=a?a.getLongDescription():void 0,n._allowedObjectType=a?a.getExtraInfo():void 0,n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return u.createElement(m.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,value:this.props.value,onChange:this.props.onChange,allowedObjectType:this._allowedObjectType,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,floatingLabelText:this._description,helperMarkdownText:this._longDescription,fullWidth:!0,errorTextIfInvalid:this._allowedObjectType?u.createElement(l.Trans,{id:"The object does not exist or can't be used here."}):u.createElement(l.Trans,{id:"Enter the name of an object."}),openOnFocus:!this.props.value,ref:function(t){return e._field=t}})}}]),t}(u.Component),g=function(e){var t=e.value,n=e.renderObjectThumbnail;return u.createElement("span",{title:t,className:p()(Object(a.a)({},h.o,!0))},n(t),t)}},458:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(193),l=n(112);function u(e){return function(t){function n(t,r,s,c,u,d){var p;return Object(a.a)(this,n),(p=Object(o.a)(this,Object(i.a)(n).call(this,t,r,s,c,u,d)))._pixiObject=new l.Sprite(l.Texture.fromImage(e)),p._pixiContainer.addChild(p._pixiObject),p}return Object(s.a)(n,t),Object(r.a)(n,[{key:"update",value:function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this._pixiObject.rotation=this._instance.getAngle()*Math.PI/180}}],[{key:"getThumbnail",value:function(t,n,a){return e}}]),n}(c.a)}},459:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(24),r=n.n(a),o=(n(90),function(e){if(e&&e.current){var t=r.a.findDOMNode(e.current);if(t instanceof HTMLButtonElement)t.focus();else if(t instanceof HTMLElement){var n=t.getElementsByTagName("button");n&&n.length&&n[0]instanceof HTMLButtonElement&&n[0].focus()}}})},460:function(e,t,n){"use strict";n.d(t,"a",function(){return C});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(10),d=n(103),p=n(159),m=n(278),h=n(100),f=n(279),g=n(700),b=n(701),v=n(97),E=n(464),y=n(80),j=n(239),O={searchBar:{backgroundColor:"transparent",flexShrink:0,zIndex:1}},C=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={searchText:"",searchResults:[]},n._scrollView=u.createRef(),n._selectedItem=u.createRef(),n.initialInstructionTypePath=Object(m.b)(n.props.instructionsInfoTree,n.props.selectedType),n.focus=function(){n._searchBar&&n._searchBar.focus()},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this._searchBar&&this._searchBar.focus(),this._selectedItem.current&&this._scrollView.current&&this._scrollView.current.scrollTo(this._selectedItem.current)}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedType,r=t.iconSize,o=t.instructionsInfoTree,i=t.onChoose,s=t.searchPlaceholderObjectName,c=t.searchPlaceholderIsCondition,m=t.useSubheaders,C=t.style,x=this.state.searchText,T=x?Object(f.d)(this.props.instructionsInfo,{searchText:x}):[],S=!x||!!T.length,k=function(){T.length&&i(T[0].type,T[0])};return u.createElement(h.a,null,function(t){return u.createElement("div",{style:Object(a.a)({backgroundColor:t.list.itemsBackgroundColor},C)},u.createElement(p.a,{value:x,onChange:function(t){return e.setState({searchText:t})},onRequestSearch:k,style:O.searchBar,placeholder:s?c?{id:"Search {searchPlaceholderObjectName} conditions",values:{searchPlaceholderObjectName:s}}:{id:"Search {searchPlaceholderObjectName} actions",values:{searchPlaceholderObjectName:s}}:void 0,ref:function(t){return e._searchBar=t}}),u.createElement(E.a,{ref:e._scrollView},S&&u.createElement(d.a,null,x?T.map(function(e){return Object(g.a)({instructionOrExpressionMetadata:e,iconSize:r,onClick:function(){return i(e.type,e)},selectedValue:Object(j.b)(n)})}):Object(b.a)({instructionTreeNode:o,iconSize:r,onChoose:i,useSubheaders:m,selectedValue:Object(j.b)(n),initiallyOpenedPath:e.initialInstructionTypePath,selectedItemRef:e._selectedItem})),!S&&u.createElement(y.b,null,u.createElement(v.a,null,u.createElement(l.Trans,{id:"Nothing corresponding to your search. Try browsing the list instead."})))))})}}]),t}(u.PureComponent)},464:function(e,t,n){"use strict";var a=n(83),r=n(10),o=n(24),i=n.n(o),s={overflowY:"scroll",flex:1};t.a=r.forwardRef(function(e,t){var n=e.children,o=e.style,c=r.useRef(null);return r.useImperativeHandle(t,function(){return{scrollTo:function(e){var t=i.a.findDOMNode(e);if(t instanceof HTMLElement){var n=t.getBoundingClientRect().top,a=c.current;if(a){var r=a.getBoundingClientRect().top;a.scrollTop=n-r}}else console.error("Tried to scroll to something that is not a HTMLElement")}}}),r.createElement("div",{style:Object(a.a)({},s,o),ref:c},n)})},465:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return r});var a=e.gd,r=function(e,t){var n=a.PlatformExtension.getNamespaceSeparator();return e.filter(function(e){if(!e.isPrivate)return!0;var a,r,o=e.scope.behaviorMetadata,i=t.eventsBasedBehavior,s=t.eventsFunctionsExtension;return!!(o&&i&&s&&(a=s.getName(),r=i.getName(),a+n+r===o.getName()))})}}).call(this,n(1))},472:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(2274),d=n(2185),p=n(142),m=n(283),h=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.identifier;return l.createElement(m.a,null,function(n){return l.createElement(p.b.Consumer,null,function(a){var r=a.values,o=a.showAlertMessage;return l.createElement(u.a,{open:e.props.show&&!r.hiddenAlertMessages[t],message:"touch"===n&&e.props.touchScreenMessage?e.props.touchScreenMessage:e.props.message,action:l.createElement(d.a,{key:"undo",color:"primary",size:"small",onClick:function(){o(t,!1)}},l.createElement(c.Trans,{id:"Got it"}))})})})}}]),t}(l.PureComponent)},500:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(5),r=n(11),o=n(112),i=function(){function e(t){var n=this,r=t.initialViewX,i=t.initialViewY,s=t.width,c=t.height,l=t.options;Object(a.a)(this,e),this.viewX=0,this.viewY=0,this._pixiContainer=new o.Container,this.toSceneCoordinates=function(e,t){e-=n._width/2,t-=n._height/2,e/=Math.abs(n._pixiContainer.scale.x),t/=Math.abs(n._pixiContainer.scale.y);var a=e;return e=Math.cos(0*Math.PI)*e-Math.sin(0*Math.PI)*t,t=Math.sin(0*Math.PI)*a+Math.cos(0*Math.PI)*t,[e+n.viewX,t+n.viewY]},this.toCanvasCoordinates=function(e,t){e-=n.viewX,t-=n.viewY;var a=e;return e=Math.cos(-0*Math.PI)*e-Math.sin(-0*Math.PI)*t,t=Math.sin(-0*Math.PI)*a+Math.cos(-0*Math.PI)*t,e*=Math.abs(n._pixiContainer.scale.x),t*=Math.abs(n._pixiContainer.scale.y),[e+n._width/2,t+n._height/2]},this.viewX=r,this.viewY=i,this.options=l,this.resize(s,c)}return Object(r.a)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"resize",value:function(e,t){this._width=e,this._height=t}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"scrollBy",value:function(e,t){this.viewX+=e,this.viewY+=t}},{key:"scrollTo",value:function(e,t){this.viewX=e,this.viewY=t}},{key:"scrollToInstance",value:function(e){this.viewX=e.getX(),this.viewY=e.getY()}},{key:"getViewX",value:function(){return this.viewX}},{key:"getViewY",value:function(){return this.viewY}},{key:"getPixiContainer",value:function(){return this._pixiContainer}},{key:"render",value:function(){this._pixiContainer.position.x=-this.viewX*this.options.zoomFactor,this._pixiContainer.position.y=-this.viewY*this.options.zoomFactor,this._pixiContainer.position.x+=this._width/2,this._pixiContainer.position.y+=this._height/2,this._pixiContainer.scale.x=this.options.zoomFactor,this._pixiContainer.scale.y=this.options.zoomFactor}}]),e}()},501:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return i});var a=n(5),r=n(11),o=e.gd,i=function(){function e(){Object(a.a)(this,e),this.selection=[]}return Object(r.a)(e,[{key:"hasSelectedInstances",value:function(){return!!this.getSelectedInstances().length}},{key:"getSelectedInstances",value:function(){return this.selection}},{key:"isInstanceSelected",value:function(e){for(var t=0;t<this.selection.length;t++)if(o.compare(this.selection[t],e))return!0;return!1}},{key:"clearSelection",value:function(){this.selection.length=0}},{key:"selectInstance",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.isInstanceSelected(e)?t&&this.unselectInstance(e):(t||this.clearSelection(),n&&!n[e.getLayer()]||this.selection.push(e))}},{key:"selectInstances",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t||this.clearSelection(),e.forEach(function(e){return n.selectInstance(e,!0,a)})}},{key:"unselectInstance",value:function(e){if(this.isInstanceSelected(e)){for(var t=this.selection.length-1;t>=-1&&this.selection[t].ptr!==e.ptr;)--t;this.selection.splice(t,1)}}}]),e}()}).call(this,n(1))},504:function(e,t,n){"use strict";t.a={handleColumn:{width:24,paddingLeft:8,paddingRight:0},coordinateColumn:{width:48},toolColumn:{width:48}}},505:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(e,t){var n=performance.now();e(),t(performance.now()-n)},r=function(e,t){var n=performance.now();return e().then(function(e){var a=performance.now();return t(a-n),e})}},506:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(){return Date.now()+"-"+Math.floor(1e6*Math.random())}},513:function(e,t){},517:function(e,t,n){"use strict";var a=n(102),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(262),u=n.n(l),d=n(10),p=n.n(d),m=n(90),h=n(188),f=n.n(h),g=n(96),b=function(e){if(!e)return[];return f()(Object(g.mapFor)(0,e.count(),function(t){return e?function e(t,n){var a=[t];return n.isStructure()?(n.getAllChildrenNames().toJSArray().forEach(function(r){e("".concat(t,".").concat(r),n.getChild(r)).forEach(function(e){a.push(e)})}),a):a}(e.getNameAt(t),e.getAt(t)):[]}))},v=n(141),E=n.n(v),y=n(133),j=n(168),O=n(137);n.d(t,"a",function(){return C}),n.d(t,"b",function(){return x});var C=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,r=t.isInline,o=t.onOpenDialog,i=t.parameterMetadata,s=t.variablesContainer,c=i?i.getDescription():void 0;return p.a.createElement(O.b,{renderTextField:function(){return p.a.createElement(j.a,{margin:e.props.isInline?"none":"dense",floatingLabelText:c,helperMarkdownText:i?i.getLongDescription():void 0,fullWidth:!0,value:n,onChange:a,dataSource:b(s).map(function(e){return{text:e,value:e}}),openOnFocus:!r,ref:function(t){return e._field=t}})},renderButton:function(t){return o&&!r?p.a.createElement(m.a,{icon:p.a.createElement(u.a,null),disabled:!e.props.variablesContainer,primary:!0,style:t,onClick:o}):null}})}}]),t}(d.Component),x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return p.a.createElement("span",{title:n,className:E()(Object(a.a)({},y.o,!0))},p.a.createElement("img",{className:E()(Object(a.a)({},y.i,!0)),src:t,alt:""}),e)}},546:function(e,t,n){"use strict";var a=n(2096),r=n(145),o=(n(911),n(912),n(547),n(913),n(914),"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, 'Helvetica Neue', Helvetica, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"),i={gdevelopTheme:{palette:{canvasColor:"#f0f0f0"},message:{warning:"#ffa500",error:"#f00"},toolbar:{backgroundColor:"#f7f7f7",separatorColor:"#cecece"},closableTabs:{fontFamily:o,backgroundColor:"#f7f7f7",textColor:"#878787",selectedBackgroundColor:"#4ab0e4",selectedTextColor:"#ffffff",height:32,closeButtonWidth:24},imageThumbnail:{selectedBorderColor:"#4c92ff"},list:{itemsBackgroundColor:"#FFFFFF"},listItem:{groupBackgroundColor:"#f7f7f7",groupTextColor:"rgba(0,0,0,0.54)",deprecatedGroupTextColor:"rgba(0,0,0,0.30)",separatorColor:"#e0e0e0",selectedBackgroundColor:"#4c92ff",selectedTextColor:"#ffffff",errorTextColor:"#ff2e16",warningTextColor:"#ffb032",selectedErrorBackgroundColor:"#ff2e16",selectedWarningBackgroundColor:"#ffb032"},emptyMessage:{shadowColor:"#FFFFFF"},logo:{src:"res/GD-logo-big.png"},mosaicRootClassName:"mosaic-gd-default-theme",eventsSheetRootClassName:"gd-events-sheet-default-theme",tableRootClassName:"gd-table-default-theme",markdownRootClassName:"gd-markdown-default-theme",gdevelopIconsCSSFilter:""},muiTheme:Object(a.a)({typography:{fontFamily:o},palette:{type:"light",common:{black:"rgba(110, 42, 42, 1)",white:"#fff"},background:{paper:"#f0f0f0",default:"#f7f7f7"},primary:{light:Object(r.e)("#4ab0e4",.05),main:"#4ab0e4",dark:Object(r.a)("#4ab0e4",.05),contrastText:"#fff"},secondary:{light:Object(r.e)("#9100ce",.05),main:"#9100ce",dark:Object(r.a)("#9100ce",.05),contrastText:"#fff"}},overrides:{MuiTypography:{h6:{fontWeight:400}},MuiInput:{underline:{"&:before":{borderBottom:"1px solid #BBBBBB"}}},MuiAppBar:{colorPrimary:{backgroundColor:"#9100ce"}},MuiIconButton:{root:{color:"#111"}},MuiListItemIcon:{root:{color:"#111"}},MuiTabs:{root:{backgroundColor:"#4ab0e4"}},MuiTab:{textColorPrimary:{color:"#fff !important"}},MuiButtonBase:{root:{cursor:"default"}},MuiButton:{root:{borderRadius:0,fontWeight:400}}}})};t.a=i},567:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});var a=function(e){return"update-available"===e.status?"A new update is available!":""},r=function(e){return"update-available"===e.status?"It will be downloaded and installed automatically (unless you deactivated this in preferences)":""},o=function(e){return"checking-for-update"===e?"Checking for update...":"update-available"===e?"A new update is available!":"update-not-available"===e?"No update available. You're using the latest version!":"error"===e?"Error while checking update":"download-progress"===e?"A new update is being downloaded...":"update-downloaded"===e?"A new update will be installed after you quit and relaunch GDevelop":""},i=function(e){return"update-available"===e?"Update GDevelop to latest version":"Check again for new updates"},s=function(e){return"update-available"===e}},574:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return _});var a=n(102),r=n(83),o=n(5),i=n(11),s=n(22),c=n(21),l=n(23),u=n(10),d=n(143),p=n(188),m=n.n(p),h=n(189),f=n(96),g=n(97),b=n(144),v=n(1033),E=n(2104),y=n(416),j=n(1036),O=n(1045),C=n(208),x=n(118),T=e.gd,S=Object(h.SortableElement)(v.a),k=Object(h.SortableElement)(E.a),w=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.createElement("div",null,this.props.children)}}]),t}(u.Component),N=Object(h.SortableContainer)(w);N.muiName="TableBody";var _=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={nameErrors:{},selectedVariables:Object(j.b)(),mode:"select"},n._selectVariable=function(e,t){n.setState({selectedVariables:Object(j.a)(n.state.selectedVariables,e,t)})},n.copySelection=function(){C.a.set(O.a,Object(j.c)(n.state.selectedVariables).map(function(e){var t=e.name,n=e.variable;return{name:t,serializedVariable:Object(x.b)(n)}}))},n.paste=function(){var e=n.props,t=e.variablesContainer,a=e.inheritedVariablesContainer;C.a.has(O.a)&&(C.a.get(O.a).forEach(function(e){var n=e.name,r=e.serializedVariable,o=Object(b.a)(n,function(e){return a&&a.has(e)||t.has(e)},"CopyOf"),i=new T.Variable;Object(x.c)(i,r),t.insert(o,i,t.count()),i.delete()}),n.forceUpdate())},n.deleteSelection=function(){var e=n.props.variablesContainer,t=Object(j.c)(n.state.selectedVariables);t.filter(function(e){return!t.find(function(t){return e!==t&&t.variable.contains(e.variable,!0)})}).forEach(function(t){var n=t.variable;return e.removeRecursively(n)}),n.clearSelection()},n.clearSelection=function(){n.setState({selectedVariables:Object(j.b)()})},n._updateOrDefineVariable=function(e,t,a,r,o){var i=n.props,s=i.variablesContainer,c=i.inheritedVariablesContainer;if(c&&"parent"===o){var l=Object(x.b)(c.get(e)),u=new T.Variable;Object(x.c)(u,l),s.insert(e,u,r),u.delete(),s.get(e).setString(a)}else t.setString(a)},n._getVariableOrigin=function(e){var t=n.props,a=t.variablesContainer,r=t.inheritedVariablesContainer;return r&&r.has(e)?a.has(e)?"inherited":"parent":""},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"_renderVariableChildren",value:function(e,t,n,a){var r=this,o=t.getAllChildrenNames().toJSArray();return m()(o.map(function(e,o){var i=t.getChild(e);return r._renderVariableAndChildrenRows(e,i,n+1,o,t,a)}))}},{key:"_renderVariableAndChildrenRows",value:function(e,t,n,o,i){var s=this,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=this.props.variablesContainer,d=t.isStructure(),p=c||this._getVariableOrigin(e);return u.createElement(S,{name:e,index:o,key:"variable-"+e,variable:t,disabled:0!==n,depth:n,origin:p,errorText:this.state.nameErrors[t.ptr]?"This name is already taken":void 0,onChangeValue:function(n){s._updateOrDefineVariable(e,t,n,o,p),s.forceUpdate(),s.props.onSizeUpdated&&s.props.onSizeUpdated()},onResetToDefaultValue:function(){l.removeRecursively(t),s.forceUpdate(),s.props.onSizeUpdated&&s.props.onSizeUpdated()},onBlur:function(n){var o=n.target.value;if(e!==o){var c=!0;c=i?i.renameChild(e,o):l.rename(e,o),s.setState({nameErrors:Object(r.a)({},s.state.nameErrors,Object(a.a)({},t.ptr,!c))})}},onRemove:function(){i?i.removeChild(e):l.remove(e),s.forceUpdate(),s.props.onSizeUpdated&&s.props.onSizeUpdated()},onAddChild:function(){var e=Object(b.a)("ChildVariable",function(e){return t.hasChild(e)});t.getChild(e).setString(""),s.forceUpdate(),s.props.onSizeUpdated&&s.props.onSizeUpdated()},children:d?this._renderVariableChildren(e,t,n,p):null,showHandle:"move"===this.state.mode,showSelectionCheckbox:"select"===this.state.mode,isSelected:!!this.state.selectedVariables[t.ptr],onSelect:function(n){return s._selectVariable({name:e,ptr:t.ptr,variable:t},n)}})}},{key:"_renderEmpty",value:function(){return!!this.props.emptyExplanationMessage&&u.createElement("div",null,u.createElement(g.a,{style:y.a.emptyExplanation,messageStyle:y.a.emptyExplanationMessage},this.props.emptyExplanationMessage),u.createElement(g.a,{style:y.a.emptyExplanation,messageStyle:y.a.emptyExplanationMessage},this.props.emptyExplanationSecondMessage))}},{key:"render",value:function(){var e=this,t=this.props,n=t.variablesContainer,a=t.inheritedVariablesContainer;if(!n)return null;var r=a?Object(f.mapFor)(0,a.count(),function(t){var r=a.getNameAt(t);if(!n.has(r)){var o=a.getAt(t);return e._renderVariableAndChildrenRows(r,o,0,t,void 0,"parent")}}):[],o=Object(f.mapFor)(0,n.count(),function(t){var a=n.getAt(t),r=n.getNameAt(t);return e._renderVariableAndChildrenRows(r,a,0,t,void 0)}),i=u.createElement(k,{index:0,key:"add-variable-row",disabled:!0,onAdd:function(){var t=new T.Variable;t.setString("");var r=Object(b.a)("Variable",function(e){return a&&a.has(e)||n.has(e)});n.insert(r,t,n.count()),e.forceUpdate(),e.props.onSizeUpdated&&e.props.onSizeUpdated()},onCopy:this.copySelection,onPaste:this.paste,onDeleteSelection:this.deleteSelection,hasSelection:Object(j.d)(this.state.selectedVariables),hasClipboard:C.a.has(O.a)});return u.createElement("div",null,u.createElement(d.a,null,u.createElement(d.c,null,u.createElement(d.e,null,u.createElement(d.d,null,"Name"),u.createElement(d.d,null,"Value"),u.createElement(d.d,{style:y.a.toolColumnHeader})))),u.createElement(N,{variablesContainer:this.props.variablesContainer,onSortEnd:function(t){var n=t.oldIndex,a=t.newIndex;e.props.variablesContainer.move(n,a),e.forceUpdate()},helperClass:"sortable-helper",useDragHandle:!0,lockToContainerEdges:!0},!!r.length&&r,!o.length&&this._renderEmpty(),!!o.length&&o,i))}}]),t}(u.Component)}).call(this,n(1))},578:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var a=n(83),r=n(10),o=n.n(r),i={display:"flex"},s={display:"flex",flex:1,alignItems:"center",paddingLeft:8,paddingRight:8},c=function(e){return o.a.createElement("div",{style:Object(a.a)({},i,e.style)},e.children)},l=function(e){return o.a.createElement("div",{style:Object(a.a)({},s,e.style)},e.children)}},584:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var a=n(25),r=n(418),o=n.n(r),i=function(e){return/^([A-Za-z]{1}[A-Za-z\d_]*\.)+[A-Za-z][A-Za-z\d_]*$/i.test(e)},s=function(e,t){var n={},a=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";n[e]||(n[e]=[]),n[e].push({type:t,message:a,extraExplanation:r})};return t.getPackageName()?t.getPackageName().length>=255?a("packageName","error",e("The package name is too long."),e("Change the package name in the game properties.")):i(t.getPackageName())||a("packageName","error",e('The package name is containing invalid characters or not following the convention "xxx.yyy.zzz" (numbers allowed after a letter only).'),e("Change the package name in the game properties.")):a("packageName","error",e("The package name is empty."),e("Choose and enter a package name in the game properties.")),t.getName()||a("name","error",e("The name of your game is too long."),e("Change the name in the game properties.")),(!t.getVersion()||t.getVersion().split(".").length<3)&&a("packageName","error",e("The version that you've set for the game is invalid."),e("Enter a version in the game properties.")),n},c=function(e,t){return!Object.keys(t).length||(Object(a.a)(e("Your game has some invalid elements, please fix these before continuing:")+"\n\n"+o()(t).map(function(e){return e.map(function(e){return"- ".concat(e.message)}).join("\n")}).join("\n")),!1)}},586:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n.n(l),d=n(2276),p=n(80),m=n(1048),h=n.n(m),f=n(159),g={chip:{margin:2},chipsList:{marginTop:4,display:"flex",flexWrap:"wrap"}},b=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this._searchBar&&this._searchBar.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.chosenChip,r=t.onChooseChip,o=t.value,i=t.onChange,s=t.onRequestSearch,c=t.chips;return u.a.createElement(p.a,{noMargin:!0},u.a.createElement(f.a,{value:o,onRequestSearch:s,onChange:function(e){i(e)},ref:function(t){return e._searchBar=t}}),u.a.createElement(p.b,null,u.a.createElement(p.a,null,u.a.createElement("div",{style:g.chipsList},c&&c.map(function(e){var t,o=e.text,i=e.value;return u.a.createElement(d.a,{size:"small",key:i,style:Object(a.a)({},g.chip,{backgroundColor:n&&n!==i?void 0:(t=i,h()({seed:t,luminosity:"light"})),color:n&&n!==i?void 0:"black"}),onClick:function(){return r(n===i?"":i)},label:o})})))))}}]),t}(l.Component)},591:function(e,t,n){"use strict";n.d(t,"b",function(){return c});var a=n(83),r=n(10),o=n.n(r),i=n(154),s=n(100),c={position:"relative",display:"inline-block",width:100,height:100,justifyContent:"center",alignItems:"center",lineHeight:"100px",textAlign:"center",border:"#AAAAAA 1px solid",borderColor:"#AAAAAA"},l={spriteThumbnail:Object(a.a)({},c,{background:'url("res/transparentback.png") repeat'}),spriteThumbnailImage:{maxWidth:100,maxHeight:100,verticalAlign:"middle",pointerEvents:"none"},checkboxContainer:{textAlign:"initial",position:"absolute",width:34,height:64,bottom:0,right:0}};t.a=function(e){var t=e.project,n=e.resourceName,r=e.resourcesLoader,c=e.style,u=e.selectable,d=e.selected,p=e.onSelect,m=e.onContextMenu;e.muiTheme;return o.a.createElement(s.a,null,function(e){return o.a.createElement("div",{title:n,style:Object(a.a)({},l.spriteThumbnail,{borderColor:d?e.imageThumbnail.selectedBorderColor:void 0},c),onContextMenu:function(e){e.stopPropagation(),m&&m(e.clientX,e.clientY)}},o.a.createElement("img",{style:l.spriteThumbnailImage,alt:n,src:r.getResourceFullUrl(t,n),crossOrigin:"anonymous"}),u&&o.a.createElement("div",{style:l.checkboxContainer},o.a.createElement(i.a,{checked:d,onCheck:function(e,t){return p(t)}})))})}},592:function(e,t,n){"use strict";n.d(t,"b",function(){return u});var a=n(10),r=n(2201),o=n(2202),i=n(2169),s=n(2184),c=n(263),l=n.n(c),u=32,d={appBar:{height:u,minHeight:u},toolbar:{height:u,minHeight:u,paddingLeft:15,paddingRight:15},title:{fontSize:"15px",flexGrow:1}};t.a=function(e){return a.createElement(r.a,{position:"static",style:d.appBar,color:"primary"},a.createElement(o.a,{style:d.toolbar},e.displayLeftCloseButton&&a.createElement(i.a,{onClick:e.onClose,edge:"start",color:"inherit"},a.createElement(l.a,null)),a.createElement(s.a,{variant:"h6",style:d.title},e.title),e.displayRightCloseButton&&a.createElement(i.a,{onClick:e.onClose,edge:"end",color:"inherit"},a.createElement(l.a,null))))}},593:function(e,t,n){"use strict";var a=n(78),r=n(10),o=n(88),i=n(90),s=n(80),c=n(89),l=n(180);t.a=function(e){var t=e.message,n=e.onLogin,u=e.onCreateAccount;return r.createElement(s.a,{noMargin:!0},r.createElement(s.b,null,r.createElement(c.a,null,t||r.createElement(a.Trans,{id:"You are not connected. Create an account to access to GDevelop online services and build your game for Android, Windows, macOS and Linux in one click!"}))),r.createElement(s.b,{justifyContent:"center",alignItems:"baseline"},r.createElement(i.a,{label:r.createElement(a.Trans,{id:"Create my account"}),onClick:u,primary:!0}),r.createElement(s.c,null),r.createElement(s.c,null),r.createElement(l.a,null,"or"),r.createElement(s.c,null),r.createElement(o.a,{label:r.createElement(a.Trans,{id:"Login"}),onClick:n})))}},616:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n(433),d=n(118),p=n(196),m=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"getSerializedElements",value:function(){var e=this.getLayout();return e?Object(a.a)({},p.a.getLayoutSerializedElements(e),{events:Object(d.b)(e.getEvents())}):{}}},{key:"getLayout",value:function(){var e=this.props,t=e.project,n=e.layoutName;return t&&t.hasLayoutNamed(n)?t.getLayout(n):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.layoutName,r=this.getLayout();return r?l.createElement(u.a,Object.assign({},this.props,{ref:function(t){return e.editor=t},project:n,scope:{layout:r},globalObjectsContainer:n,objectsContainer:r,events:r.getEvents(),onPreview:function(t){return e.props.onPreview(n,r,t)},onOpenExternalEvents:this.props.onOpenExternalEvents,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression})):l.createElement("div",null,"No layout called ",a," found!")}}]),t}(p.a)},643:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(10),r=n(133);function o(e){var t=e.canDrop;return a.createElement("div",{className:t?r.e:r.b})}},644:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(113),u=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))))._field=null,n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.parameterMetadata,n=t?t.getDescription():void 0;return c.createElement(l.a,{margin:this.props.isInline?"none":"dense",commitOnBlur:!0,value:this.props.value,floatingLabelText:n,helperMarkdownText:t?t.getLongDescription():void 0,onChange:function(t){return e.props.onChange(t)},ref:function(t){return e._field=t},fullWidth:!0})}}]),t}(c.Component)},645:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a=n(135),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(120),u=n(10),d=n(214),p=n(168),m=n(148),h=n(192),f=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onChange,o=t.onChoose,i=t.project,s=t.globalObjectsContainer,c=t.objectsContainer,f=t.allowedObjectType,g=t.noGroups,b=t.errorTextIfInvalid,v=t.margin,E=Object(a.a)(t,["value","onChange","onChoose","project","globalObjectsContainer","objectsContainer","allowedObjectType","noGroups","errorTextIfInvalid","margin"]),y=function(e){var t=e.project,n=e.globalObjectsContainer,a=e.objectsContainer,r=e.noGroups,o=e.allowedObjectType,i=Object(d.d)(n,a,o||void 0),s=i.allObjectsList.map(function(e){var n=e.object;return{text:n.getName(),value:n.getName(),renderIcon:t?function(){return u.createElement(m.a,{iconSize:24,src:h.a.getThumbnail(t,n)})}:void 0}}),c=r?[]:i.allGroupsList.map(function(e){var t=e.group;return{text:t.getName(),value:t.getName()}});return[].concat(Object(l.a)(s),[{type:"separator"}],Object(l.a)(c))}({project:i,globalObjectsContainer:s,objectsContainer:c,noGroups:g,allowedObjectType:f}),j=0!==y.filter(function(e){return void 0!==e.text&&n===e.text}).length;return u.createElement(p.a,Object.assign({margin:v,hintText:{id:"Choose an object"},value:n,onChange:r,onChoose:o,dataSource:y,errorText:j?void 0:b,ref:function(t){return e._field=t}},E))}}]),t}(u.Component)},697:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return h});var a=n(5),r=n(11),o=n(342),i=n.n(o),s=n(112),c=n(114),l=n(1324),u=e.gd,d={},p={},m=s.Texture.fromImage("res/error48.png"),h=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"_initializeTexture",value:function(e,t){"image"===e.getKind()&&(u.asImageResource(e).isSmooth()||(t.baseTexture.scaleMode=s.SCALE_MODES.NEAREST))}},{key:"loadTextures",value:function(t,n,a,r){var o=t.getResourcesManager(),i=s.loader;i.reset(),i.removeAllListeners();var l={};n.forEach(function(e){var n=o.getResource(e),a=c.a.getResourceFullUrl(t,e);i.add(e,a),l[e]=n});var u=n.length;if(u){var d=0;i.once("complete",function(t,n){for(var a in n)if(n.hasOwnProperty(a)){var i=o.getResource(a);if("image"!==i.getKind())continue;p[a]=n[a].texture,e._initializeTexture(i,p[a])}r()}),i.on("progress",function(){a(++d,u)}),i.load()}else r()}},{key:"getPIXITexture",value:function(t,n){if(p[n])return p[n];if(!t.getResourcesManager().hasResource(n))return m;var a=t.getResourcesManager().getResource(n);return"image"!==a.getKind()?m:(p[n]=s.Texture.fromImage(c.a.getResourceFullUrl(t,n),!0),e._initializeTexture(a,p[n]),p[n])}},{key:"getPIXIVideoTexture",value:function(e,t){return p[t]?p[t]:e.getResourcesManager().hasResource(t)?"video"!==e.getResourcesManager().getResource(t).getKind()?m:(p[t]=s.Texture.fromVideo(c.a.getResourceFullUrl(e,t,!0),s.SCALE_MODES.LINEAR,!0,!1),p[t]):m}},{key:"loadFontFamily",value:function(e,t){if(d[t])return Promise.resolve(d[t]);var n=i()(t),a=null;e.getResourcesManager().hasResource(t)?"font"===e.getResourcesManager().getResource(t).getKind()&&(a=c.a.getResourceFullUrl(e,t)):a=c.a.getFullUrl(e,t);return a?Object(l.a)(n,'url("'.concat(a,'")'),{}).then(function(e){return d[t]=n,n}):Promise.resolve("Arial")}},{key:"getFontFamily",value:function(e,t){return d[t]?d[t]:i()(t)}},{key:"getInvalidPIXITexture",value:function(){return m}}]),e}()}).call(this,n(1))},698:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e,t){var n=t&&t.isOptional()?t.getDefaultValue():"";return e||n}},700:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(10),r=n(103),o=n(148),i=n(239),s=function(e){var t=e.instructionOrExpressionMetadata,n=e.iconSize,s=e.onClick,c=e.selectedValue;return a.createElement(r.b,{key:Object(i.a)(t),selected:c===Object(i.b)(t.type),primaryText:t.displayedName,secondaryText:t.fullGroupName,leftIcon:a.createElement(o.a,{iconSize:n,src:t.iconFilename}),onClick:s})}},701:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(1335),r=n(10),o=n(103),i=n(148),s=n(195),c=n(188),l=n.n(c),u=n(239),d=function e(t){var n=t.instructionTreeNode,c=t.onChoose,d=t.iconSize,p=t.useSubheaders,m=t.selectedValue,h=t.selectedItemRef,f=t.initiallyOpenedPath||[],g=Object(a.a)(f),b=g[0],v=g.slice(1);return l()(Object.keys(n).map(function(t){var a=n[t];if(!a)return null;if("string"===typeof a.type){var l=a,f=Object(u.b)(a.type),g=m===f;return r.createElement(o.b,{key:f,primaryText:t,selected:g,leftIcon:r.createElement(i.a,{iconSize:d,src:l.iconFilename}),onClick:function(){c(l.type,l)},ref:g?h:void 0})}var E=a;if(p)return[r.createElement(s.a,{key:Object(u.f)(t)},t)].concat(e({instructionTreeNode:E,onChoose:c,iconSize:d,useSubheaders:!1,selectedValue:m,selectedItemRef:h,initiallyOpenedPath:v}));var y=b===t;return r.createElement(o.b,{key:t,primaryText:t,autoGenerateNestedIndicator:!0,initiallyOpen:y,renderNestedItems:function(){return e({instructionTreeNode:E,onChoose:c,iconSize:d,selectedValue:m,selectedItemRef:h,initiallyOpenedPath:y?v:void 0})}})}))}},702:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return r});var a=e.gd,r=function(e){var t=e.instructionMetadata,n=e.instruction,r=e.expressionMetadata,o=e.expression,i=e.parameterIndex;if(void 0===i||null==i)return null;var s=null;if(t&&n){var c=a.ParameterMetadataTools.getObjectParameterIndexFor(t.getParameters(),i);c>=0&&c<n.getParametersCount()&&(s=n.getParameter(c))}else if(r&&o){var l=a.ParameterMetadataTools.getObjectParameterIndexFor(r.getParameters(),i);l>=0&&l<o.getParametersCount()&&(s=o.getParameter(l))}return s}}).call(this,n(1))},710:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a=function(e,t){return e.length>t?e.substring(0,t)+"...":e},r=function(e){return e.replace(/\s/g,"\xa0")}},711:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(10),r=n(169),o=function(e){var t=Object(r.DragSource)(e,{beginDrag:function(e){return e.beginDrag()}},function(e,t){return{connectDragSource:e.dragSource()}})(Object(r.DropTarget)(e,{canDrop:function(e,t){var n=t.getItem();return n&&e.canDrop(n)},drop:function(e,t){t.didDrop()||e.drop()}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop()}})(function(e){return(0,e.children)({connectDragSource:e.connectDragSource,connectDropTarget:e.connectDropTarget,isOver:e.isOver,canDrop:e.canDrop})}));return function(e){return a.createElement(t,e)}}},712:function(e,t,n){"use strict";(function(e){n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"g",function(){return m}),n.d(t,"f",function(){return h});var a=n(208),r=n(336),o=n(118),i=e.gd,s="EventsAndInstructions",c=function(){return a.a.has(s)&&a.a.get(s).eventsCount>0},l=function(){return a.a.has(s)&&a.a.get(s).conditionsCount>0},u=function(){return a.a.has(s)&&a.a.get(s).actionsCount>0},d=function(e){var t=new i.EventsList,n=new i.InstructionsList,c=new i.InstructionsList;Object(r.d)(e).forEach(function(e){return t.insertEvent(e,t.getEventsCount())}),Object(r.f)(e).forEach(function(e){e.isCondition?c.insert(e.instruction,c.size()):n.insert(e.instruction,n.size())}),a.a.set(s,{eventsList:Object(o.b)(t),eventsCount:t.getEventsCount(),actionsList:Object(o.b)(n),actionsCount:n.size(),conditionsList:Object(o.b)(c),conditionsCount:c.size()}),t.delete(),n.delete(),c.delete()},p=function(e,t){if(!Object(r.h)(t)||!c())return!1;var n=new i.EventsList;return Object(o.c)(n,a.a.get(s).eventsList,"unserializeFrom",e),Object(r.c)(t).forEach(function(e){e.eventsList.insertEvents(n,0,n.getEventsCount(),e.indexInList)}),n.delete(),!0},m=function(e,t){if(!Object(r.i)(t)&&!Object(r.j)(t)||!l()&&!u())return!1;var n=a.a.get(s),c=new i.InstructionsList,d=new i.InstructionsList;return Object(o.c)(c,n.actionsList,"unserializeFrom",e),Object(o.c)(d,n.conditionsList,"unserializeFrom",e),Object(r.f)(t).forEach(function(e){e.isCondition?e.instrsList.insertInstructions(d,0,d.size(),e.indexInList):e.instrsList.insertInstructions(c,0,c.size(),e.indexInList)}),Object(r.g)(t).forEach(function(e){e.isCondition?e.instrsList.insertInstructions(d,0,d.size(),e.instrsList.size()):e.instrsList.insertInstructions(c,0,c.size(),e.instrsList.size())}),d.delete(),c.delete(),!0},h=function(e,t){if(!l()&&!u())return!1;var n=a.a.get(s),r=new i.InstructionsList,c=new i.InstructionsList;return Object(o.c)(r,n.actionsList,"unserializeFrom",e),Object(o.c)(c,n.conditionsList,"unserializeFrom",e),t.isCondition?t.instrsList.insertInstructions(c,0,c.size(),t.instrsList.size()):t.instrsList.insertInstructions(r,0,r.size(),t.instrsList.size()),c.delete(),r.delete(),!0}}).call(this,n(1))},713:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(10),r=n(169),o=function(e){var t=Object(r.DropTarget)(e,{canDrop:function(e,t){var n=t.getItem();return n&&e.canDrop(n)},hover:function(e,t){e.hover&&e.hover(t)},drop:function(e,t){t.didDrop()||e.drop(t)}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop()}})(function(e){return(0,e.children)({connectDropTarget:e.connectDropTarget,isOver:e.isOver,canDrop:e.canDrop})});return function(e){return a.createElement(t,e)}}},715:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return w});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(10),d=n(261),p=n(96),m=n(97),h=n(439),f=n(119),g=n(80),b=n(147),v=n(347),E=n(241),y=n(262),j=n.n(y),O=n(105),C=n(279),x=n(89),T=e.gd,S={container:{display:"flex",flexDirection:"column",flex:1},emptyContainer:{display:"flex",alignItems:"center",justifyContent:"center"},parametersContainer:{flex:1,overflowY:"auto"},icon:{width:24,height:24,marginRight:8,flexShrink:0},invertToggle:{marginTop:8}},k=function(e,t,n){return!e.isCodeOnly()&&t!==n},w=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o))))._firstVisibleField={},n.state={isDirty:!1},n._getInstructionMetadata=function(){var e=n.props,t=e.instruction,a=e.isCondition,r=e.project,o=t.getType();return o?a?T.MetadataProvider.getConditionMetadata(r.getCurrentPlatform(),o):T.MetadataProvider.getActionMetadata(r.getCurrentPlatform(),o):null},n._openExtension=function(e){if(n.state.isDirty&&!confirm(e._({id:"You've made some changes here. Are you sure you want to discard them and open the function?"})))return;var t=n.props,a=t.instruction,r=t.isCondition,o=t.project,i=a.getType();if(!i)return null;var s=r?T.MetadataProvider.getExtensionAndConditionMetadata(o.getCurrentPlatform(),i).getExtension():T.MetadataProvider.getExtensionAndActionMetadata(o.getCurrentPlatform(),i).getExtension();n.props.openInstructionOrExpression(s,i)},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.focusOnMount&&setTimeout(function(){e.focus()},300)}},{key:"focus",value:function(){0!==this._getVisibleParametersCount(this._getInstructionMetadata(),this.props.objectName)&&this._firstVisibleField&&this._firstVisibleField.focus&&this._firstVisibleField.focus()}},{key:"_getVisibleParametersCount",value:function(e,t){if(!e)return 0;var n=t?Object(C.e)(e):-1;return Object(p.mapFor)(0,e.getParametersCount(),function(t){if(!e)return!1;var a=e.getParameter(t);return k(a,t,n)}).filter(function(e){return e}).length}},{key:"_renderEmpty",value:function(){return u.createElement("div",{style:Object(a.a)({},S.emptyContainer,this.props.style)},u.createElement(m.a,null,this.props.isCondition?"Choose a condition (or an object then a condition) on the left":"Choose an action (or an object then an action) on the left"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.instruction,a=t.project,r=t.globalObjectsContainer,o=t.objectsContainer,i=t.noHelpButton,s=t.objectName,c=t.scope,y=n.getType(),T=this._getInstructionMetadata();if(!T)return this._renderEmpty();var w=T.getHelpPath(),N=Object(v.c)(y),_=s?Object(C.e)(T):-1;!function(e,t,n){if(e.setParametersCount(t.getParametersCount()),n){var a=Object(C.e)(t);if(-1===a)return void console.error('Instruction "'.concat(t.getFullName(),'" is used for an object, but does not have an object as first parameter'));e.setParameter(a,n)}}(n,T,s);var P=0;return u.createElement(l.I18n,null,function(t){var v=t.i18n;return u.createElement("div",{style:S.container},u.createElement(g.b,{alignItems:"center"},u.createElement("img",{src:T.getIconFilename(),alt:"",style:S.icon}),u.createElement(x.a,null,T.getDescription()),Object(E.d)(T)&&u.createElement(O.a,{onClick:function(){e._openExtension(v)}},u.createElement(j.a,null))),N&&u.createElement(g.b,null,u.createElement(b.a,{kind:N.kind},v._(N.message))),u.createElement(g.c,null),u.createElement("div",{key:y,style:S.parametersContainer},Object(p.mapFor)(0,T.getParametersCount(),function(t){var i=T.getParameter(t);if(!k(i,t,_))return null;var s=i.getType(),l=h.a.getParameterComponent(s),d=0===P;return P++,u.createElement(l,{instructionMetadata:T,instruction:n,parameterMetadata:i,parameterIndex:t,value:n.getParameter(t),onChange:function(a){n.getParameter(t)!==a&&(n.setParameter(t,a),e.setState({isDirty:!0}))},project:a,scope:c,globalObjectsContainer:r,objectsContainer:o,key:t,parameterRenderingService:h.a,resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors,ref:function(t){d&&(e._firstVisibleField=t)}})}),0===e._getVisibleParametersCount(T,s)&&u.createElement(m.a,null,u.createElement(l.Trans,{id:"There is nothing to configure."})),e.props.isCondition&&u.createElement(d.a,{label:u.createElement(l.Trans,{id:"Invert condition"}),labelPosition:"right",toggled:n.isInverted(),style:S.invertToggle,onToggle:function(t,a){n.setInverted(a),e.forceUpdate()}})),u.createElement(g.b,null,!i&&w&&u.createElement(f.a,{helpPagePath:T.getHelpPath(),label:e.props.isCondition?u.createElement(l.Trans,{id:"Help for this condition"}):u.createElement(l.Trans,{id:"Help for this action"})})))})}}]),t}(u.Component)}).call(this,n(1))},716:function(e,t,n){"use strict";var a=n(10),r=n.n(a),o=n(236),i=n(2276),s={chipContainer:{display:"flex",overflowX:"auto",margin:4},chip:{marginLeft:2,marginRight:2}};t.a=function(e){var t=e.tags,n=e.onChange;return t.length?r.a.createElement("div",{style:s.chipContainer},t.map(function(e){return r.a.createElement(i.a,{key:e,size:"small",style:s.chip,onDelete:function(){return n(Object(o.e)(t,e))},label:e})})):null}},717:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"d",function(){return u});var a=n(120),r=n(118),o=function(e,t){var n=t.historyMaxSize;return{undoHistory:[],current:Object(r.b)(e),redoHistory:[],maxSize:n}},i=function(e){return!!e.redoHistory.length},s=function(e){return!!e.undoHistory.length},c=function(e,t){var n=[].concat(Object(a.a)(e.undoHistory),[e.current]);return n.length>e.maxSize&&n.splice(0,n.length-e.maxSize),{undoHistory:n,current:Object(r.b)(t),redoHistory:[],maxSize:e.maxSize}},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!e.undoHistory.length)return e;var o=e.undoHistory[e.undoHistory.length-1];return Object(r.c)(t,o,"unserializeFrom",n),{undoHistory:e.undoHistory.slice(0,-1),current:o,redoHistory:[].concat(Object(a.a)(e.redoHistory),[e.current]),maxSize:e.maxSize}},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!e.redoHistory.length)return e;var o=e.redoHistory[e.redoHistory.length-1];return Object(r.c)(t,o,"unserializeFrom",n),{undoHistory:[].concat(Object(a.a)(e.undoHistory),[e.current]),current:o,redoHistory:e.redoHistory.slice(0,-1),maxSize:e.maxSize}}},720:function(e,t,n){"use strict";(function(e){n.d(t,"d",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"h",function(){return m}),n.d(t,"f",function(){return h}),n.d(t,"a",function(){return f}),n.d(t,"c",function(){return g});var a=n(120),r=n(118),o=n(96),i=n(241),s=n(1479),c=e.gd,l=function(e){var t=e.globalObjectsContainer,n=e.objectsContainer,o=e.serializedEvents,i=e.project,l=e.eventsFunction;l.setName("MyFunction"),l.setFunctionType(c.EventsFunction.Action),Object(r.c)(l.getEvents(),o,"unserializeFrom",i);var u=new c.EventsContextAnalyzer(c.JsPlatform.get(),t,n);u.launch(l.getEvents());var d=u.getEventsContext(),p=d.getReferencedObjectOrGroupNames().toNewVectorString().toJSArray(),m=d.getObjectNames().toNewVectorString().toJSArray(),h=p.filter(function(e){return-1===m.indexOf(e)}).map(function(e){return Object(s.a)(t,n,e)}).filter(Boolean),f=h.filter(function(e){return!p.some(function(t){return e.find(t)})}),g=f.map(function(e){return e.getName()}),b=m.filter(function(e){return!f.some(function(t){return t.find(e)})}),v=l.getParameters();v.clear(),[].concat(Object(a.a)(g),Object(a.a)(b)).forEach(function(e){var a=new c.ParameterMetadata;a.setType("objectList"),a.setName(e),a.setExtraInfo(c.getTypeOfObject(t,n,e,!0)),v.push_back(a),d.getBehaviorNamesOfObjectOrGroup(e).toNewVectorString().toJSArray().forEach(function(e){var a=new c.ParameterMetadata;a.setType("behavior"),a.setName(e),a.setExtraInfo(c.getTypeOfBehavior(t,n,e)),v.push_back(a)})}),h.filter(function(e){return!g.includes(e.getName())}).forEach(function(e){e&&l.getObjectGroups().insert(e,0)}),u.delete()},u=function(e,t){var n=new c.Instruction;return n.setType(Object(i.a)(e,t)),n.setParametersCount(t.getParameters().size()+1+1),Object(o.mapVector)(t.getParameters(),function(e,t){n.setParameter(1+t,e.getName())}),n},d=function(e){return c.Project.validateObjectName(e)},p=function(e){return c.Project.validateObjectName(e)},m=function(e,t){return!e.hasEventsFunctionsExtensionNamed(t)},h=function(e,t,n){return!e.hasEventsFunctionsExtensionNamed(t)||!e.getEventsFunctionsExtension(t).hasEventsFunctionNamed(n.getName())},f=function(e,t,n){return""!==t&&p(t)&&""!==n.getName()&&d(n.getName())&&h(e,t,n)&&""!==n.getFullName()&&""!==n.getSentence()},g=function(e){return e.getParameters().size()>7}}).call(this,n(1))},721:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return M});var a=n(102),r=n(83),o=n(5),i=n(11),s=n(22),c=n(21),l=n(23),u=n(78),d=n(10),p=n(80),m=n(122),h=n(123),f=n(96),g=n(90),b=n(105),v=n(97),E=n(167),y=n(318),j=n.n(y),O=n(119),C=n(113),x=n(170),T=n(25),S=n(722),k=n(1480),w=n(348),N=n(241),_=n(151),P=n.n(_),I=e.gd,B={parametersContainer:{flex:1}},M=function(e){function t(){var e,n;Object(o.a)(this,t);for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(l)))).state={longDescriptionShownIndexes:{}},n._addParameter=function(){var e=n.props.eventsFunction.getParameters(),t=new I.ParameterMetadata;t.setType("objectList"),e.push_back(t),t.delete(),n.forceUpdate(),n.props.onParametersUpdated()},n._removeParameter=function(e){var t=n.props.eventsFunction.getParameters();I.removeFromVectorParameterMetadata(t,e),n.forceUpdate(),n.props.onParametersUpdated()},n._addLongDescription=function(e){n.setState(function(t){return{longDescriptionShownIndexes:Object(r.a)({},t.longDescriptionShownIndexes,Object(a.a)({},e,!0))}})},n._removeLongDescription=function(e){n.props.eventsFunction.getParameters().at(e).setLongDescription(""),n.setState(function(t){return{longDescriptionShownIndexes:Object(r.a)({},t.longDescriptionShownIndexes,Object(a.a)({},e,!1))}})},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.eventsFunction,r=t.eventsBasedBehavior,o=t.freezeParameters,i=t.helpPagePath,s=a.getParameters();if(!!r&&Object(w.g)(a.getName()))return d.createElement(v.a,null,d.createElement(u.Trans,{id:'This is a "lifecycle method". It will be called automatically by the game engine and has two parameters: "Object" (the object the behavior is acting on) and "Behavior" (the behavior itself).'}));var c=function(e){return!!o||!!r&&e<2},l=function(e){return!r||e>=2},y=function(t,n){return!!l(n)&&(!!t.getLongDescription()||!!e.state.longDescriptionShownIndexes[n])},_=Object(N.c)(!!r);return d.createElement(u.I18n,null,function(t){var a=t.i18n;return d.createElement(p.a,{noMargin:!0},d.createElement(p.b,{noMargin:!0},d.createElement("div",{style:B.parametersContainer},Object(f.mapVector)(s,function(t,r){return d.createElement(d.Fragment,{key:r},d.createElement(x.b,null,d.createElement(x.a,null,d.createElement(u.Trans,{id:"Parameter #{0}:",values:{0:r+_}})),d.createElement(p.a,{expand:!0,noMargin:!0},d.createElement(C.a,{commitOnBlur:!0,margin:"none",hintText:{id:"Enter the parameter name (mandatory)"},value:t.getName(),onChange:function(n){(function(e,t){return t?!!I.Project.validateObjectName(t)||(Object(T.c)(e._({id:"This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your parameter name."})),!1):(Object(T.c)(e._({id:"The name of a parameter can not be empty. Enter a name for the parameter or you won't be able to use it."})),!1)})(a,n)&&(t.setName(n),e.forceUpdate(),e.props.onParametersUpdated())},disabled:c(r),fullWidth:!0})),d.createElement(E.a,{element:d.createElement(b.a,null,d.createElement(j.a,null)),buildMenuTemplate:function(){return[{label:a._({id:"Delete"}),enabled:!c(r),click:function(){return e._removeParameter(r)}},{type:"separator"},{label:a._({id:"Add a Long Description"}),enabled:!c(r),visible:!y(t,r),click:function(){return e._addLongDescription(r)}},{label:a._({id:"Remove the Long Description"}),enabled:!c(r),visible:y(t,r),click:function(){return e._removeLongDescription(r)}}]}})),d.createElement(p.b,{expand:!0,noMargin:!0},l(r)&&d.createElement(p.a,{expand:!0},d.createElement(m.a,{floatingLabelText:d.createElement(u.Trans,{id:"Type"}),value:t.getType(),onChange:function(n,a,r){t.setType(r),e.forceUpdate(),e.props.onParametersUpdated()},disabled:c(r),fullWidth:!0},d.createElement(h.a,{value:"objectList",primaryText:{id:"Objects"}}),d.createElement(h.a,{value:"behavior",primaryText:{id:"Behavior (for the previous object)"}}),d.createElement(h.a,{value:"expression",primaryText:{id:"Number"}}),d.createElement(h.a,{value:"string",primaryText:{id:"String (text)"}}),d.createElement(h.a,{value:"key",primaryText:{id:"Keyboard Key (text)"}}),d.createElement(h.a,{value:"mouse",primaryText:{id:"Mouse button (text)"}}),d.createElement(h.a,{value:"color",primaryText:{id:"Color (text)"}}),d.createElement(h.a,{value:"layer",primaryText:{id:"Layer (text)"}}),d.createElement(h.a,{value:"sceneName",primaryText:{id:"Scene name (text)"}}))),I.ParameterMetadata.isObject(t.getType())&&d.createElement(p.a,{expand:!0},d.createElement(S.a,{project:n,value:t.getExtraInfo(),onChange:function(n){t.setExtraInfo(n),e.forceUpdate(),e.props.onParametersUpdated()},disabled:c(r)})),"behavior"===t.getType()&&d.createElement(p.a,{expand:!0},d.createElement(k.a,{project:n,value:t.getExtraInfo(),onChange:function(n){t.setExtraInfo(n),e.forceUpdate(),e.props.onParametersUpdated()},disabled:c(r)}))),l(r)&&d.createElement(p.b,{expand:!0,noMargin:!0},d.createElement(p.a,{expand:!0},d.createElement(C.a,{commitOnBlur:!0,floatingLabelText:d.createElement(u.Trans,{id:"Label"}),floatingLabelFixed:!0,value:t.getDescription(),onChange:function(n){t.setDescription(n),e.forceUpdate()},fullWidth:!0,disabled:!1}))),y(t,r)&&d.createElement(p.b,{expand:!0,noMargin:!0},d.createElement(p.a,{expand:!0},d.createElement(C.a,{commitOnBlur:!0,floatingLabelText:d.createElement(u.Trans,{id:"Long description"}),floatingLabelFixed:!0,value:t.getLongDescription(),onChange:function(n){t.setLongDescription(n),e.forceUpdate()},multiLine:!0,fullWidth:!0,disabled:!1}))))}),0===s.size()?d.createElement(v.a,null,d.createElement(u.Trans,{id:"No parameters for this function."})):null,d.createElement(p.a,null,d.createElement(p.b,{justifyContent:"flex-end",expand:!0},!o&&d.createElement(g.a,{primary:!0,label:d.createElement(u.Trans,{id:"Add a parameter"}),onClick:e._addParameter,labelPosition:"before",icon:d.createElement(P.a,null)}))))),i?d.createElement(p.b,null,d.createElement(O.a,{helpPagePath:i})):d.createElement(p.c,null))})}}]),t}(d.Component)}).call(this,n(1))},722:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(122),d=n(123),p=n(214),m=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={objectMetadata:Object(p.b)(n.props.project)},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.value,a=e.onChange,r=e.floatingLabelText,o=e.allowedObjectTypes,i=this.state.objectMetadata,s=function(e){return!!o&&-1===o.indexOf(e)};return l.createElement(u.a,{floatingLabelText:r||l.createElement(c.Trans,{id:"Object type"}),value:n,onChange:function(e,t,n){a(n)},disabled:t,fullWidth:!0},l.createElement(d.a,{value:"",primaryText:{id:"Any object"},disabled:s("")}),i.map(function(e){return""===e.name?null:l.createElement(d.a,{key:e.name,value:e.name,primaryText:e.fullName,disabled:s(e.name)})}))}}]),t}(l.Component)},723:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var a=n(96),r=n(188),o=n.n(r),i=function(e,t){var n=e.getAllPlatformExtensions();return o()(Object(a.mapFor)(0,n.size(),function(e){var t=n.at(e);return t.getBehaviorsTypes().toJSArray().map(function(e){return{behaviorType:e,behaviorMetadata:t.getBehaviorMetadata(e)}}).map(function(e){var n=e.behaviorType,a=e.behaviorMetadata;return{extension:t,behaviorMetadata:a,type:n,defaultName:a.getDefaultName(),fullName:a.getFullName(),description:a.getDescription(),iconFilename:a.getIconFilename(),objectType:a.getObjectType()}})}))},s=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter(function(e){return-1!==e.fullName.toLowerCase().indexOf(n)||-1!==e.description.toLowerCase().indexOf(n)})}},724:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return T});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(80),d=n(122),p=n(123),m=n(96),h=n(119),f=n(113),g=n(348),b=n(97),v=n(241),E=n(137),y=e.gd,j={icon:{width:32,height:32,marginRight:8,flexSrink:0}},O=function(e,t,n){var a=n.getSentence();if(!a)return e._({id:"Enter the sentence that will be displayed in the events sheet"});var r=Object(v.c)(!!t),o=Object(m.mapVector)(n.getParameters(),function(e,t){if(y.ParameterMetadata.isBehavior(e.getType()))return null;var n="_PARAM".concat(t+r,"_");return-1===a.indexOf(n)?n:null}).filter(Boolean);return o.length?e._({id:"The sentence is probably missing this/these parameter(s):"})+o.join(", "):void 0},C=function(e){return e===y.EventsFunction.Condition?{id:"Example: Is flashing?"}:e===y.EventsFunction.Expression?{id:"Example: Life remaining"}:e===y.EventsFunction.StringExpression?{id:"Example: Equipped shield name"}:{id:"Example: Flash the object"}},x=function(e){return e===y.EventsFunction.Condition?{id:"Example: Check if the object is flashing."}:e===y.EventsFunction.Expression?{id:"Example: Life remaining for the player."}:e===y.EventsFunction.StringExpression?{id:"Example: Name of the shield equipped by the player."}:{id:"Example: Make the object flash for 5 seconds."}},T=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.eventsFunction,a=t.freezeEventsFunctionType,r=t.onConfigurationUpdated,o=t.helpPagePath,i=t.renderConfigurationHeader,s=t.eventsBasedBehavior,m=n.getFunctionType();return!!s&&Object(g.g)(n.getName())?l.createElement(b.a,null,l.createElement(c.Trans,{id:'This is a "lifecycle method". It will be called automatically by the game engine.'})):l.createElement(c.I18n,null,function(t){var g=t.i18n;return l.createElement(u.a,null,i?i():null,l.createElement(E.a,{alignItems:"center"},l.createElement(u.b,{alignItems:"center",noMargin:!0},l.createElement("img",{src:"res/function32.png",alt:"",style:j.icon}),l.createElement(d.a,{value:m,floatingLabelText:l.createElement(c.Trans,{id:"Function type"}),fullWidth:!0,disabled:!!a,onChange:function(t,a,o){n.setFunctionType(o),r&&r(),e.forceUpdate()}},l.createElement(p.a,{value:y.EventsFunction.Action,primaryText:{id:"Action"}}),l.createElement(p.a,{value:y.EventsFunction.Condition,primaryText:{id:"Condition"}}),l.createElement(p.a,{value:y.EventsFunction.Expression,primaryText:{id:"Expression"}}),l.createElement(p.a,{value:y.EventsFunction.StringExpression,primaryText:{id:"String Expression"}}))),l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Full name displayed in editor"}),hintText:C(m),value:n.getFullName(),onChange:function(t){n.setFullName(t),r&&r(),e.forceUpdate()},fullWidth:!0})),l.createElement(u.b,{noMargin:!0},l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Description, displayed in editor"}),hintText:x(m),fullWidth:!0,multiLine:!0,value:n.getDescription(),onChange:function(t){n.setDescription(t),r&&r(),e.forceUpdate()}})),l.createElement(u.b,null,m===y.EventsFunction.Action||m===y.EventsFunction.Condition?l.createElement(f.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Sentence in Events Sheet"}),hintText:{id:"Note: write _PARAMx_ for parameters, e.g: Flash _PARAM1_ for 5 seconds"},fullWidth:!0,value:n.getSentence(),onChange:function(t){n.setSentence(t),r&&r(),e.forceUpdate()},errorText:O(g,s,n)}):null),o?l.createElement(u.b,null,l.createElement(h.a,{helpPagePath:o})):l.createElement(u.c,null))})}}]),t}(l.Component)}).call(this,n(1))},765:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(105),d=n(263),p=n.n(d),m=n(725),h={container:{padding:0,width:32,height:32},icon:{width:16,height:16}},f=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(m.MosaicContext.Consumer,null,function(e){var t=e.mosaicActions;return l.a.createElement(m.MosaicWindowContext.Consumer,null,function(e){var n=e.mosaicWindowActions;return l.a.createElement(u.a,{onClick:function(){t.remove(n.getPath())},style:h.container},l.a.createElement(p.a,{htmlColor:"white",style:h.icon}))})})}}]),t}(c.Component)},767:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(1622),u=n(196),d={container:{display:"flex",flex:1}},p=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))))._onBehaviorEdited=function(){n.props.onLoadEventsFunctionsExtensions()},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"shouldComponentUpdate",value:function(e){return!(!this.props.isActive&&!e.isActive)}},{key:"componentDidUpdate",value:function(e){e.isActive&&!this.props.isActive&&this.props.onLoadEventsFunctionsExtensions()}},{key:"getEventsFunctionsExtension",value:function(){var e=this.props,t=e.project,n=e.eventsFunctionsExtensionName;return t.hasEventsFunctionsExtensionNamed(n)?t.getEventsFunctionsExtension(n):null}},{key:"selectEventsFunctionByName",value:function(e,t){this.editor&&this.editor.selectEventsFunctionByName(e,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.eventsFunctionsExtensionName,r=this.getEventsFunctionsExtension();return r?c.createElement("div",{style:d.container},c.createElement(l.a,{key:r.ptr,project:n,eventsFunctionsExtension:r,setToolbar:this.props.setToolbar,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.props.onCreateEventsFunction,initiallyFocusedFunctionName:this.props.initiallyFocusedFunctionName,initiallyFocusedBehaviorName:this.props.initiallyFocusedBehaviorName,onBehaviorEdited:this._onBehaviorEdited,ref:function(t){return e.editor=t}})):c.createElement("div",null,"No extension called ",a," found!")}}]),t}(u.a)},768:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return g});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(88),p=n(1625),m=n(92),h=n(412),f=e.gd,g=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.group;if(!a)return null;var r=[u.a.createElement(d.a,{key:"cancel",label:u.a.createElement(c.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:this.props.onCancel}),u.a.createElement(d.a,{key:"apply",label:u.a.createElement(c.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:this.props.onApply})];return u.a.createElement(m.a,{key:a.ptr,actions:r,noMargin:!0,modal:!0,onRequestClose:this.props.onCancel,open:this.props.open,title:"Edit ".concat(a.getName()," group")},u.a.createElement(p.a,{project:n,group:a,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,onSizeUpdated:function(){return e.forceUpdate()}}))}}]),t}(l.Component);t.b=Object(h.a)(g,{newObjectCreator:function(){return new f.ObjectGroup},propName:"group"})}).call(this,n(1))},769:function(e,t,n){"use strict";n.d(t,"a",function(){return j});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(10),d=n.n(u),p=n(433),m=n(90),h=n(118),f=n(216),g=n(196),b=n(770),v=n(89),E=n(80),y={container:{display:"flex",flex:1}},j=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={layoutChooserOpen:!1},n.setAssociatedLayout=function(e){var t=n.getExternalEvents();t&&(t.setAssociatedLayout(e),n.setState({layoutChooserOpen:!1},function(){return n.updateToolbar()}))},n.openLayoutChooser=function(){n.setState({layoutChooserOpen:!0})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"getSerializedElements",value:function(){var e=this.getExternalEvents(),t=this.getLayout();return e?Object(a.a)({},g.a.getLayoutSerializedElements(t),{events:Object(h.b)(e)}):{}}},{key:"getExternalEvents",value:function(){var e=this.props,t=e.project,n=e.externalEventsName;return t.hasExternalEventsNamed(n)?t.getExternalEvents(n):null}},{key:"getLayout",value:function(){var e=this.props.project,t=this.getExternalEvents();if(!t)return null;var n=t.getAssociatedLayout();return e.hasLayoutNamed(n)?e.getLayout(n):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.externalEventsName,r=this.getExternalEvents(),o=this.getLayout();return r?d.a.createElement("div",{style:y.container},o&&d.a.createElement(p.a,Object.assign({},this.props,{ref:function(t){return e.editor=t},project:n,scope:{layout:o},globalObjectsContainer:n,objectsContainer:o,events:r.getEvents(),onPreview:function(){return e.props.onPreview(n,o)},onOpenSettings:this.openLayoutChooser,onOpenExternalEvents:this.props.onOpenExternalEvents,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression})),!o&&d.a.createElement(f.a,null,d.a.createElement(v.a,null,d.a.createElement(l.Trans,{id:"To edit the external events, choose the scene in which it will be included:"})),d.a.createElement(E.b,{justifyContent:"center"},d.a.createElement(m.a,{label:d.a.createElement(l.Trans,{id:"Choose the scene"}),primary:!0,onClick:this.openLayoutChooser}))),d.a.createElement(b.a,{title:d.a.createElement(l.Trans,{id:"Choose the associated scene"}),helpText:"You still need to add a Link event in the scene to import the external events",open:this.state.layoutChooserOpen,project:n,onChoose:this.setAssociatedLayout,onClose:function(){return e.setState({layoutChooserOpen:!1})}})):d.a.createElement("div",null,"No external events called ",a," found!")}}]),t}(g.a)},770:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(88),p=n(2186),m=n(2269),h=n(2275),f=n(92),g=n(96),b=n(89),v=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={selectedLayoutName:e.layoutName},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.layoutName!==this.props.layoutName&&this.setState({selectedLayoutName:e.layoutName})}},{key:"chooseLayout",value:function(e){this.setState({selectedLayoutName:e})}},{key:"render",value:function(){var e=this,t=[u.a.createElement(d.a,{key:"cancel",label:u.a.createElement(c.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onClose}),u.a.createElement(d.a,{key:"choose",label:u.a.createElement(c.Trans,{id:"Choose"}),primary:!0,keyboardFocused:!0,onClick:function(){return e.props.onChoose(e.state.selectedLayoutName)},disabled:!this.state.selectedLayoutName})],n=this.props.project,a=this.state.selectedLayoutName,r=Object(g.mapFor)(0,n.getLayoutsCount(),function(e){return n.getLayoutAt(e).getName()});return u.a.createElement(f.a,{actions:t,open:this.props.open,title:this.props.title,onRequestClose:this.props.onClose,fullWidth:!0,maxWidth:"sm"},this.props.helpText&&u.a.createElement(b.a,null,this.props.helpText),u.a.createElement(h.a,{"aria-label":"Associated scene",name:"associated-layout",value:a,onChange:function(t){return e.chooseLayout(t.target.value)}},r.map(function(e){return u.a.createElement(p.a,{key:e,value:e,control:u.a.createElement(m.a,{color:"primary"}),label:e})})))}}]),t}(l.Component)},772:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(10),d=n(90),p=n(773),m=n(118),h=n(216),f=n(196),g=n(770),b=n(80),v=n(89),E={container:{display:"flex",flex:1}},y=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={layoutChooserOpen:!1},n.setAssociatedLayout=function(e){var t=n.getExternalLayout();t&&(t.setAssociatedLayout(e),n.setState({layoutChooserOpen:!1},function(){return n.updateToolbar()}))},n.openLayoutChooser=function(){n.setState({layoutChooserOpen:!0})},n.saveUiSettings=function(){var e=n.getExternalLayout(),t=n.editor;t&&e&&Object(m.c)(e.getAssociatedSettings(),t.getUiSettings())},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e){return!(!this.props.isActive&&!e.isActive)}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"getSerializedElements",value:function(){var e=this.getExternalLayout(),t=this.getLayout();return e&&t?Object(a.a)({},f.a.getLayoutSerializedElements(t),{instances:Object(m.b)(e.getInitialInstances()),uiSettings:this.editor?this.editor.getUiSettings():{}}):{}}},{key:"getExternalLayout",value:function(){var e=this.props,t=e.project,n=e.externalLayoutName;return t.hasExternalLayoutNamed(n)?t.getExternalLayout(n):null}},{key:"getLayout",value:function(){var e=this.props.project,t=this.getExternalLayout();if(!t)return null;var n=t.getAssociatedLayout();return e.hasLayoutNamed(n)?e.getLayout(n):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.externalLayoutName,r=t.isActive,o=this.getExternalLayout(),i=this.getLayout();return o?u.createElement("div",{style:E.container},i&&u.createElement(p.a,Object.assign({},this.props,{ref:function(t){return e.editor=t},project:n,layout:i,initialInstances:o.getInitialInstances(),initialUiSettings:Object(m.b)(o.getAssociatedSettings()),onPreview:function(t){return e.props.onPreview(n,i,o,t)},onOpenDebugger:this.props.onOpenDebugger,onOpenMoreSettings:this.openLayoutChooser,isActive:r})),!i&&u.createElement(h.a,null,u.createElement(v.a,null,u.createElement(l.Trans,{id:"To edit the external layout, choose the scene in which it will be included:"})),u.createElement(b.b,{justifyContent:"center"},u.createElement(d.a,{label:u.createElement(l.Trans,{id:"Choose the scene"}),primary:!0,onClick:this.openLayoutChooser}))),u.createElement(g.a,{title:u.createElement(l.Trans,{id:"Choose the associated scene"}),open:this.state.layoutChooserOpen,project:n,onChoose:this.setAssociatedLayout,onClose:function(){return e.setState({layoutChooserOpen:!1})}})):u.createElement("div",null,"No external layout called ",a," found!")}}]),t}(f.a)},773:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return ne});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(78),u=n(10),d=n(1636),p=n.n(d),m=n(838),h=n(843),f=n(192),g=n(2095),b=n(1643),v=n(1644),E=n(2097),y=n(1645),j=n(231),O=n(1646),C=n(768),x=n(501),T=n(1680),S=n(1681),k=n(1683),w=n(118),N=n(208),_=n(1684),P=n(1685),I=n(2273),B=n(350),M=n(592),F=n(472),R=n(301),L=n(25),A=n(710),D=n(346),U=n(717),V=n(697),W=n(214),G=n(1686),z=n(765),H=n(236),Y=n(283),K=n(177),X=e.gd,J="Instances",Z=Object(_.a)(Object(P.a)(g.a),{useFlex:!0}),q={container:{display:"flex",flex:1,position:"relative",overflow:"hidden"}},Q={style:{width:500}},$={style:{width:500,overflow:"hidden"}},ee={direction:"row",first:"properties",splitPercentage:23,second:{direction:"row",first:"instances-editor",second:"objects-list",splitPercentage:77}},te={direction:"row",first:"instances-editor",second:"objects-list",splitPercentage:70},ne=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).openObjectsList=function(){n.editorMosaic&&(n.editorMosaic.openEditor("objects-list","end",75)||n.setState({showObjectsListInfoBar:!0}))},n.openProperties=function(){n.editorMosaic&&(n.editorMosaic.openEditor("properties","start",25)||n.setState({showPropertiesInfoBar:!0}))},n.openObjectGroupsList=function(){n.editorMosaic&&n.editorMosaic.openEditor("object-groups-list","end",75)},n.toggleInstancesList=function(){n.setState({instancesListOpen:!n.state.instancesListOpen})},n.toggleLayersList=function(){n.setState({layersListOpen:!n.state.layersListOpen})},n.toggleWindowMask=function(){n.setState({uiSettings:Object(a.a)({},n.state.uiSettings,{windowMask:!n.state.uiSettings.windowMask})})},n.toggleGrid=function(){n.setState({uiSettings:Object(a.a)({},n.state.uiSettings,{grid:!n.state.uiSettings.grid,snap:!n.state.uiSettings.grid})})},n.openSetupGrid=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({setupGridOpen:e})},n.openSceneProperties=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({scenePropertiesDialogOpen:e})},n.openObjectEditor=function(){if(n.instancesSelection.hasSelectedInstances()){var e=n.instancesSelection.getSelectedInstances()[0].getObjectName();n.editObjectByName(e)}},n.editInstanceVariables=function(e){n.setState({variablesEditedInstance:e})},n.editObjectVariables=function(e){n.setState({variablesEditedObject:e})},n.editLayoutVariables=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({layoutVariablesDialogOpen:e})},n.editObject=function(e){var t=n.props.project;e?n.setState({editedObjectWithContext:{object:e,global:t.hasObjectNamed(e.getName())}}):n.setState({editedObjectWithContext:null})},n.editObjectByName=function(e){var t=n.props,a=t.project,r=t.layout;r.hasObjectNamed(e)?n.editObject(r.getObject(e)):a.hasObjectNamed(e)&&n.editObject(a.getObject(e))},n.editGroup=function(e){n.setState({editedGroup:e})},n.setUiSettings=function(e){n.setState({uiSettings:Object(a.a)({},n.state.uiSettings,e)})},n.undo=function(){n.instancesSelection.clearSelection(),n.setState({history:Object(U.f)(n.state.history,n.props.initialInstances)},function(){n.editor&&n.editor.forceRemount(),n.updateToolbar()})},n.redo=function(){n.instancesSelection.clearSelection(),n.setState({history:Object(U.d)(n.state.history,n.props.initialInstances)},function(){n.editor&&n.editor.forceRemount(),n.updateToolbar()})},n._onObjectSelected=function(e){e?n.setState({selectedObjectNames:[e]}):n.setState({selectedObjectNames:[]})},n._createNewObjectAndInstanceUnderCursor=function(){n.editor&&(n.setState({newObjectInstanceSceneCoordinates:n.editor.getLastCursorSceneCoordinates()}),n._objectsList&&n._objectsList.setState({newObjectDialogOpen:!0}))},n._onAddInstanceUnderCursor=function(){if(n.state.selectedObjectNames.length&&n.editor){var e=n.state.selectedObjectNames[0],t=n.editor.getLastCursorSceneCoordinates();n._addInstance(t,e),n.setState({selectedObjectNames:[e]})}},n._addInstance=function(e,t){t&&n.editor&&(n.editor.addInstances(e,[t]),n.setState({selectedObjectNames:[],history:Object(U.e)(n.state.history,n.props.initialInstances)},function(){return n.updateToolbar()}))},n._onInstancesAdded=function(){n.setState({history:Object(U.e)(n.state.history,n.props.initialInstances)},function(){return n.updateToolbar()})},n._onInstancesSelected=function(e){n.setState({selectedObjectNames:p()(e.map(function(e){return e.getObjectName()}))}),n.forceUpdatePropertiesEditor(),n.updateToolbar()},n._onInstancesMoved=function(e){n.setState({history:Object(U.e)(n.state.history,n.props.initialInstances)},function(){return n.forceUpdatePropertiesEditor()})},n._onInstancesResized=function(e){n.setState({history:Object(U.e)(n.state.history,n.props.initialInstances)},function(){return n.forceUpdatePropertiesEditor()})},n._onInstancesRotated=function(e){n.setState({history:Object(U.e)(n.state.history,n.props.initialInstances)},function(){return n.forceUpdatePropertiesEditor()})},n._onInstancesModified=function(e){n.forceUpdate()},n._onSelectInstances=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.instancesSelection.selectInstances(e,!1),t&&n.editor&&n.editor.centerViewOn(e),n.forceUpdatePropertiesEditor(),n.updateToolbar()},n._addInstanceForNewObject=function(e){var t=n.state.newObjectInstanceSceneCoordinates;t&&(n._addInstance(t,e),n.setState({newObjectInstanceSceneCoordinates:null}))},n._onRemoveLayer=function(e,t){n.setState({layerRemoveDialogOpen:!0,layerRemoved:e,onCloseLayerRemoveDialog:function(a,r){n.setState({layerRemoveDialogOpen:!1},function(){a&&(null===r?n.props.initialInstances.removeAllInstancesOnLayer(e):n.props.initialInstances.moveInstancesToLayer(e,r)),t(a),n.editor&&n.editor.forceRemount(),n.updateToolbar()})}})},n._onRenameLayer=function(e,t,a){n.props.initialInstances.moveInstancesToLayer(e,t),a(!0)},n._onDeleteObject=function(e,t){var a=e.object,r=e.global,o=n.props,i=o.project,s=o.layout,c=confirm("Do you want to remove all references to this object in groups and events (actions and conditions using the object)?");r?X.WholeProjectRefactorer.globalObjectOrGroupRemoved(i,a.getName(),!1,!!c):X.WholeProjectRefactorer.objectOrGroupRemovedInLayout(i,s,a.getName(),!1,!!c),t(!0)},n._canObjectOrGroupUseNewName=function(e){var t=n.props,a=t.project,r=t.layout;return r.hasObjectNamed(e)||a.hasObjectNamed(e)||r.getObjectGroups().has(e)||a.getObjectGroups().has(e)?(Object(L.c)("Another object or group with this name already exists."),!1):!!X.Project.validateObjectName(e)||(Object(L.c)("This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your object name."),!1)},n._onRenameEditedObject=function(e){var t=n.state.editedObjectWithContext;t&&n._onRenameObject(t,e,function(){})},n._onRenameObject=function(e,t,a){var r=e.object,o=e.global,i=n.props,s=i.project,c=i.layout;r.getName()!==t&&(o?X.WholeProjectRefactorer.globalObjectOrGroupRenamed(s,r.getName(),t,!1):X.WholeProjectRefactorer.objectOrGroupRenamedInLayout(s,c,r.getName(),t,!1)),r.setName(t),a(!0)},n._onDeleteGroup=function(e,t){var a=e.group,r=e.global,o=n.props,i=o.project,s=o.layout,c=confirm("Do you want to remove all references to this group in events (actions and conditions using the group)?");r?X.WholeProjectRefactorer.globalObjectOrGroupRemoved(i,a.getName(),!0,!!c):X.WholeProjectRefactorer.objectOrGroupRemovedInLayout(i,s,a.getName(),!0,!!c),t(!0)},n._onRenameGroup=function(e,t,a){var r=e.group,o=e.global,i=n.props,s=i.project,c=i.layout;r.getName()!==t&&(o?X.WholeProjectRefactorer.globalObjectOrGroupRenamed(s,r.getName(),t,!0):X.WholeProjectRefactorer.objectOrGroupRenamedInLayout(s,c,r.getName(),t,!0)),a(!0)},n.deleteSelection=function(){n.instancesSelection.getSelectedInstances().map(function(e){return n.props.initialInstances.removeInstance(e)}),n.instancesSelection.clearSelection(),n.editor&&n.editor.clearHighlightedInstance(),n.setState({selectedObjectNames:[],history:Object(U.e)(n.state.history,n.props.initialInstances)},function(){n.updateToolbar(),n.forceUpdatePropertiesEditor()})},n.centerView=function(){n.editor&&n.editor.centerView()},n.setZoomFactor=function(e){n.editor&&n.editor.setZoomFactor(e)},n.zoomIn=function(){n.editor&&n.editor.zoomBy(.1)},n.zoomOut=function(){n.editor&&n.editor.zoomBy(-.1)},n._onContextMenu=function(e,t){n.contextMenu&&n.contextMenu.open(e,t)},n.copySelection=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).useLastCursorPosition,t=n.instancesSelection.getSelectedInstances().map(function(e){return Object(w.b)(e)});if(n.editor){var a=e?n.editor.getLastCursorSceneCoordinates():n.editor.getLastContextMenuSceneCoordinates();N.a.set(J,{x:a[0],y:a[1],instances:t})}},n.cutSelection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.copySelection(e),n.deleteSelection()},n.paste=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).useLastCursorPosition,t=N.a.get(J);if(t&&n.editor){var a=e?n.editor.getLastCursorSceneCoordinates():n.editor.getLastContextMenuSceneCoordinates(),r=t.x,o=t.y;t.instances.map(function(e){var t=new X.InitialInstance;return Object(w.c)(t,e),t}).forEach(function(e){e.setX(e.getX()-r+a[0]),e.setY(e.getY()-o+a[1]),n.props.initialInstances.insertInitialInstance(e),e.delete()})}},n.updateBehaviorsSharedData=function(){var e=n.props,t=e.layout,a=e.project;t.updateBehaviorsSharedData(a)},n.forceUpdateObjectsList=function(){n._objectsList&&n._objectsList.forceUpdateList()},n.forceUpdatePropertiesEditor=function(){n._propertiesEditor&&n._propertiesEditor.forceUpdate()},n.reloadResourcesFor=function(e){var t=n.props.project,a=new X.ResourcesInUseHelper;e.exposeResources(a);var r=a.getAllImages().toNewVectorString().toJSArray();V.a.loadTextures(t,r,function(){},function(){n.editor&&n.editor.resetRenderersFor(e.getName())})},n._getAllObjectTags=function(){var e=n.props,t=e.project,a=e.layout,r=new Set;return Object(W.c)(t,a).allObjectsList.forEach(function(e){var t=e.object;Object(H.c)(t.getTags()).forEach(function(e){return r.add(e)})}),Array.from(r)},n._buildObjectTagsMenuTemplate=function(e){var t=n.state.selectedObjectTags;return Object(H.a)({noTagLabel:e._({id:"No tags - add a tag to an object first"}),getAllTags:n._getAllObjectTags,selectedTags:t,onChange:function(e){n.setState({selectedObjectTags:e})}})},n.instancesSelection=new x.a,n.state={objectsListOpen:!1,instancesListOpen:!1,setupGridOpen:!1,scenePropertiesDialogOpen:!1,layersListOpen:!1,layerRemoveDialogOpen:!1,onCloseLayerRemoveDialog:null,layerRemoved:null,editedObjectWithContext:null,variablesEditedInstance:null,variablesEditedObject:null,selectedObjectNames:[],newObjectInstanceSceneCoordinates:null,editedGroup:null,uiSettings:e.initialUiSettings,history:Object(U.c)(e.initialInstances,{historyMaxSize:50}),showObjectsListInfoBar:!1,layoutVariablesDialogOpen:!1,showPropertiesInfoBar:!1,selectedObjectTags:[]},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.zOrderFinder=new X.HighestZOrderFinder}},{key:"getUiSettings",value:function(){return this.state.uiSettings}},{key:"updateToolbar",value:function(){var e=this;this.props.setToolbar(u.createElement(k.a,{showPreviewButton:this.props.showPreviewButton,onPreview:function(){return e.props.onPreview({})},showNetworkPreviewButton:this.props.showNetworkPreviewButton,onNetworkPreview:function(){return e.props.onPreview({networkPreview:!0})},onOpenDebugger:function(){e.props.onOpenDebugger(),e.props.onPreview({})},instancesSelection:this.instancesSelection,openObjectsList:this.openObjectsList,openObjectGroupsList:this.openObjectGroupsList,openProperties:this.openProperties,deleteSelection:this.deleteSelection,toggleInstancesList:this.toggleInstancesList,toggleLayersList:this.toggleLayersList,toggleWindowMask:this.toggleWindowMask,toggleGrid:this.toggleGrid,isGridShown:function(){return!!e.state.uiSettings.grid},isWindowMaskShown:function(){return!!e.state.uiSettings.windowMask},openSetupGrid:this.openSetupGrid,setZoomFactor:this.setZoomFactor,centerView:this.centerView,canUndo:Object(U.b)(this.state.history),canRedo:Object(U.a)(this.state.history),undo:this.undo,redo:this.redo,zoomIn:this.zoomIn,zoomOut:this.zoomOut,onOpenSettings:this.openSceneProperties}))}},{key:"componentWillReceiveProps",value:function(e){this.props.layout===e.layout&&this.props.initialInstances===e.initialInstances&&this.props.project===e.project||(this.instancesSelection.clearSelection(),this.openSetupGrid(!1),this.editInstanceVariables(null),this.openSceneProperties(!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.layout,r=t.initialInstances,o=t.resourceSources,i=t.onChooseResource,s=t.resourceExternalEditors,c=t.isActive,d=this.instancesSelection.getSelectedInstances(),p={properties:{type:"secondary",title:u.createElement(l.Trans,{id:"Properties"}),renderEditor:function(){return u.createElement(b.a,{project:n,layout:a,instances:d,editInstanceVariables:e.editInstanceVariables,editObjectVariables:e.editObjectVariables,onEditObjectByName:e.editObjectByName,ref:function(t){return e._propertiesEditor=t}})}},"instances-editor":{type:"primary",noTitleBar:!0,renderEditor:function(){return u.createElement(Y.a,null,function(t){return u.createElement(Z,{project:n,layout:a,initialInstances:r,options:e.state.uiSettings,onChangeOptions:e.setUiSettings,instancesSelection:e.instancesSelection,onDeleteSelection:e.deleteSelection,onInstancesAdded:e._onInstancesAdded,onInstancesSelected:e._onInstancesSelected,onInstancesMoved:e._onInstancesMoved,onInstancesResized:e._onInstancesResized,onInstancesRotated:e._onInstancesRotated,selectedObjectNames:e.state.selectedObjectNames,onContextMenu:e._onContextMenu,onCopy:function(){return e.copySelection({useLastCursorPosition:!0})},onCut:function(){return e.cutSelection({useLastCursorPosition:!0})},onPaste:function(){return e.paste({useLastCursorPosition:!0})},onUndo:e.undo,onRedo:e.redo,onZoomOut:e.zoomOut,onZoomIn:e.zoomIn,wrappedEditorRef:function(t){return e.editor=t},pauseRendering:!c,screenType:t})})}},"objects-list":{type:"secondary",title:u.createElement(l.Trans,{id:"Objects"}),toolbarControls:[u.createElement(l.I18n,{key:"tags"},function(t){var n=t.i18n;return u.createElement(G.a,{buildMenuTemplate:function(){return e._buildObjectTagsMenuTemplate(n)}})}),u.createElement(z.a,{key:"close"})],renderEditor:function(){return u.createElement(m.a,{getThumbnail:f.a.getThumbnail.bind(f.a),project:n,objectsContainer:a,selectedObjectNames:e.state.selectedObjectNames,onEditObject:e.props.onEditObject||e.editObject,onDeleteObject:e._onDeleteObject,canRenameObject:e._canObjectOrGroupUseNewName,onObjectCreated:e._addInstanceForNewObject,onObjectSelected:e._onObjectSelected,onRenameObject:e._onRenameObject,onObjectPasted:function(){return e.updateBehaviorsSharedData()},selectedObjectTags:e.state.selectedObjectTags,onChangeSelectedObjectTags:function(t){return e.setState({selectedObjectTags:t})},getAllObjectTags:e._getAllObjectTags,ref:function(t){return e._objectsList=t}})}},"object-groups-list":{type:"secondary",title:u.createElement(l.Trans,{id:"Object Groups"}),renderEditor:function(){return u.createElement(h.a,{globalObjectGroups:n.getObjectGroups(),objectGroups:a.getObjectGroups(),onEditGroup:e.editGroup,onDeleteGroup:e._onDeleteGroup,onRenameGroup:e._onRenameGroup,canRenameGroup:e._canObjectOrGroupUseNewName})}}};return u.createElement("div",{style:q.container},u.createElement(K.a,null,function(t){return u.createElement(B.a,{editors:p,limitToOneSecondaryEditor:"small"===t,initialNodes:"small"===t?te:ee,ref:function(t){return e.editorMosaic=t}})}),this.state.editedObjectWithContext&&u.createElement(O.a,{open:!0,object:this.state.editedObjectWithContext.object,project:n,resourceSources:o,resourceExternalEditors:s,onChooseResource:i,onCancel:function(){e.state.editedObjectWithContext&&e.reloadResourcesFor(e.state.editedObjectWithContext.object),e.editObject(null)},canRenameObject:this._canObjectOrGroupUseNewName,onRename:function(t){e._onRenameEditedObject(t)},onApply:function(){e.state.editedObjectWithContext&&e.reloadResourcesFor(e.state.editedObjectWithContext.object),e.editObject(null),e.updateBehaviorsSharedData(),e.forceUpdateObjectsList()}}),!!this.state.editedGroup&&u.createElement(C.b,{project:n,open:!0,group:this.state.editedGroup,objectsContainer:a,globalObjectsContainer:n,onCancel:function(){return e.editGroup(null)},onApply:function(){return e.editGroup(null)}}),u.createElement(I.a,{open:this.state.instancesListOpen,PaperProps:$,anchor:"right",onClose:this.toggleInstancesList},u.createElement(M.a,{title:u.createElement(l.Trans,{id:"Instances"}),displayLeftCloseButton:!0,onClose:this.toggleInstancesList}),u.createElement(v.a,{freezeUpdate:!this.state.instancesListOpen,instances:r,selectedInstances:d,onSelectInstances:this._onSelectInstances,style:{height:"calc(100% - ".concat(M.b,"px)")}})),u.createElement(I.a,{open:this.state.layersListOpen,PaperProps:Q,anchor:"right",onClose:this.toggleLayersList},u.createElement(M.a,{title:u.createElement(l.Trans,{id:"Layers"}),displayLeftCloseButton:!0,onClose:this.toggleLayersList}),u.createElement(E.a,{project:n,resourceSources:o,resourceExternalEditors:s,onChooseResource:i,freezeUpdate:!this.state.layersListOpen,onRemoveLayer:this._onRemoveLayer,onRenameLayer:this._onRenameLayer,layersContainer:a})),u.createElement(F.a,{identifier:"instance-drag-n-drop-explanation",message:u.createElement(l.Trans,{id:"Drag and Drop the object to the scene or use the right click menu to add an instance of it."}),touchScreenMessage:u.createElement(l.Trans,{id:"Drag and Drop the object icon to the scene or long press to show options to edit the object."}),show:!!this.state.selectedObjectNames.length}),u.createElement(F.a,{identifier:"objects-panel-explanation",message:u.createElement(l.Trans,{id:"Objects panel is already opened: use it to add and edit objects."}),show:!!this.state.showObjectsListInfoBar}),u.createElement(F.a,{identifier:"instance-properties-panel-explanation",message:u.createElement(l.Trans,{id:"Properties panel is already opened. After selecting an instance on the scene, inspect and change its properties from this panel."}),show:!!this.state.showPropertiesInfoBar}),this.state.setupGridOpen&&u.createElement(T.a,{open:!0,gridOptions:this.state.uiSettings,onCancel:function(){return e.openSetupGrid(!1)},onApply:function(t){e.setUiSettings(t),e.openSetupGrid(!1)}}),!!this.state.variablesEditedInstance&&u.createElement(j.a,{open:!0,variablesContainer:this.state.variablesEditedInstance&&this.state.variablesEditedInstance.getVariables(),onCancel:function(){return e.editInstanceVariables(null)},onApply:function(){return e.editInstanceVariables(null)},emptyExplanationMessage:u.createElement(l.Trans,{id:"Instance variables will override the default values of the variables of the object."}),title:u.createElement(l.Trans,{id:"Instance Variables"}),onEditObjectVariables:function(){if(e.instancesSelection.hasSelectedInstances()){var t=e.instancesSelection.getSelectedInstances()[0].getObjectName(),r=Object(D.a)(n,a,t);r&&(e.editObjectVariables(r),e.editInstanceVariables(null))}}}),!!this.state.variablesEditedObject&&u.createElement(j.a,{open:!0,variablesContainer:this.state.variablesEditedObject&&this.state.variablesEditedObject.getVariables(),onCancel:function(){return e.editObjectVariables(null)},onApply:function(){return e.editObjectVariables(null)},emptyExplanationMessage:u.createElement(l.Trans,{id:"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it."}),title:u.createElement(l.Trans,{id:"Object Variables"})}),!!this.state.layerRemoveDialogOpen&&u.createElement(y.a,{open:!0,layersContainer:a,layerRemoved:this.state.layerRemoved,onClose:this.state.onCloseLayerRemoveDialog}),this.state.scenePropertiesDialogOpen&&u.createElement(S.a,{open:!0,project:n,layout:a,onClose:function(){return e.openSceneProperties(!1)},onApply:function(){return e.openSceneProperties(!1)},onEditVariables:function(){return e.editLayoutVariables(!0)},onOpenMoreSettings:this.props.onOpenMoreSettings}),!!this.state.layoutVariablesDialogOpen&&u.createElement(j.a,{open:!0,variablesContainer:a.getVariables(),onCancel:function(){return e.editLayoutVariables(!1)},onApply:function(){return e.editLayoutVariables(!1)},title:u.createElement(l.Trans,{id:"Scene Variables"}),emptyExplanationMessage:u.createElement(l.Trans,{id:"Scene variables can be used to store any value or text during the game."}),emptyExplanationSecondMessage:u.createElement(l.Trans,{id:"For example, you can have a variable called Score representing the current score of the player."})}),u.createElement(R.a,{ref:function(t){return e.contextMenu=t},buildMenuTemplate:function(){return[{label:e.state.selectedObjectNames.length?"Add an Instance of "+Object(A.b)(e.state.selectedObjectNames[0],7):"",click:function(){return e._onAddInstanceUnderCursor()},visible:e.state.selectedObjectNames.length>0},{label:"Insert a New Object",click:function(){return e._createNewObjectAndInstanceUnderCursor()},visible:0===e.state.selectedObjectNames.length},{label:e.state.selectedObjectNames.length?"Edit Object "+Object(A.b)(e.state.selectedObjectNames[0],14):"",click:function(){return e.editObjectByName(e.state.selectedObjectNames[0])},visible:e.state.selectedObjectNames.length>0},{label:"Scene properties",click:function(){return e.openSceneProperties(!0)}},{type:"separator"},{label:"Copy",click:function(){return e.copySelection()},enabled:e.instancesSelection.hasSelectedInstances(),accelerator:"CmdOrCtrl+C"},{label:"Cut",click:function(){return e.cutSelection()},enabled:e.instancesSelection.hasSelectedInstances(),accelerator:"CmdOrCtrl+X"},{label:"Paste",click:function(){return e.paste()},enabled:N.a.has(J),accelerator:"CmdOrCtrl+V"},{type:"separator"},{label:"Undo",click:e.undo,enabled:Object(U.b)(e.state.history),accelerator:"CmdOrCtrl+Z"},{label:"Redo",click:e.redo,enabled:Object(U.a)(e.state.history),accelerator:"CmdOrCtrl+Shift+Z"},{label:"Delete",click:function(){return e.deleteSelection()},enabled:e.instancesSelection.hasSelectedInstances()}]}}))}}]),t}(u.Component);ne.defaultProps={setToolbar:function(){}}}).call(this,n(1))},774:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var a=n(5),r=(n(500),function(e){if(!e)return!1;var t=e.targetTouches;return t&&t.length>=2}),o=function e(t){var n=this,o=t.canvas,i=t.setZoomFactor,s=t.getZoomFactor,c=t.viewPosition;Object(a.a)(this,e),this._lastPinchCenterX=null,this._lastPinchCenterY=null,this._startPinch=function(){},this._onPinchMove=function(e,t,a){if(null===n._lastPinchCenterX||null===n._lastPinchCenterY)return n._lastPinchCenterX=e,void(n._lastPinchCenterY=t);var r=e-n._lastPinchCenterX,o=t-n._lastPinchCenterY,i=r/n._getZoomFactor(),s=o/n._getZoomFactor();n._viewPosition.scrollBy(-i,-s),n._lastPinchCenterX=e,n._lastPinchCenterY=t,n._setZoomFactor(n._getZoomFactor()*a)},this._endPinch=function(){n._lastPinchCenterX=null,n._lastPinchCenterY=null},this.unmount=function(){n._unregisterCanvasPinchDetector()},this._setZoomFactor=i,this._getZoomFactor=s,this._viewPosition=c,this._unregisterCanvasPinchDetector=function(e){var t=e.canvas,n=e.onPinchStart,a=e.onPinchMove,o=e.onPinchEnd,i=null;function s(){t.addEventListener("touchmove",c)}function c(e){if(r(e)){var t=e.targetTouches,o=t[0].clientX-t[1].clientX,s=t[0].clientY-t[1].clientY,c=Math.sqrt(o*o+s*s);if(!i)return i={p:{distance:c,date:new Date}},void n();var l=new Date;if(!(l-i.p.date<12)){var u={x:(t[0].clientX+t[1].clientX)/2,y:(t[0].clientY+t[1].clientY)/2},d=c/i.p.distance;a(u.x,u.y,d),i.p={distance:c,date:l}}}}function l(e){t.removeEventListener("touchmove",c),i&&(o(),i=null)}return t.addEventListener("touchstart",s),t.addEventListener("touchend",l),function(){t.removeEventListener("touchstart",s),t.removeEventListener("touchmove",c),t.removeEventListener("touchend",l)}}({canvas:o,onPinchStart:this._startPinch,onPinchMove:this._onPinchMove,onPinchEnd:this._endPinch})}},775:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e,t,n){return t<=0?Math.round(e):Math.floor((e-n)/t)*t+n}},776:function(e,t,n){"use strict";var a=n(96);t.a=function(e){return Object(a.mapFor)(0,e.getLayersCount(),function(t){return{value:e.getLayerAt(t).getName(),label:e.getLayerAt(t).getName()||"Base layer"}})}},780:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(122),d=n(123),p=n(261),m=n(96),h=n(293),f=n(137),g=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.spriteObject,n=e.animationIndex,a=e.directionIndex,r=e.spriteIndex,o=e.sameForAllAnimations,i=e.sameForAllSprites,s=e.chooseAnimation,g=e.chooseDirection,b=e.chooseSprite,v=e.setSameForAllAnimations,E=e.setSameForAllSprites,y=e.setSameForAllAnimationsLabel,j=e.setSameForAllSpritesLabel,O=Object(h.k)(t,n,a,r),C=O.hasValidAnimation,x=O.animation,T=O.hasValidDirection,S=O.direction;return l.createElement(l.Fragment,null,l.createElement(f.a,null,l.createElement(u.a,{floatingLabelText:l.createElement(c.Trans,{id:"Animation"}),value:this.props.animationIndex,onChange:function(e,t,n){return s(parseInt(n,10)||0)}},Object(m.mapFor)(0,t.getAnimationsCount(),function(e){var n=t.getAnimation(e);return l.createElement(d.a,{key:e,value:e,primaryText:{id:"Animation #{i} {0}",values:{0:n.getName(),i:e}}})})),C&&x.getDirectionsCount()>1&&l.createElement(u.a,{floatingLabelText:l.createElement(c.Trans,{id:"Direction"}),value:this.props.directionIndex,onChange:function(e,t,n){return g(parseInt(n,10)||0)}},Object(m.mapFor)(0,x.getDirectionsCount(),function(e){return l.createElement(d.a,{value:e,key:e,primaryText:{id:"Direction #{i}",values:{i:e}}})})),T&&l.createElement(u.a,{floatingLabelText:l.createElement(c.Trans,{id:"Frame"}),value:this.props.spriteIndex,onChange:function(e,t,n){return b(parseInt(n,10)||0)}},Object(m.mapFor)(0,S.getSpritesCount(),function(e){return l.createElement(d.a,{value:e,key:e,primaryText:{id:"Frame #{i}",values:{i:e}}})}))),l.createElement(p.a,{label:y,labelPosition:"right",toggled:o,onToggle:function(e,t){return v(t)}}),l.createElement(p.a,{label:j,labelPosition:"right",toggled:i,onToggle:function(e,t){return E(t)}}))}}]),t}(l.Component)},781:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e,t){return 0===e.getPointer(t)}},783:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n(773),d=n(118),p=n(196),m=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).saveUiSettings=function(){var e=n.getLayout(),t=n.editor;t&&e&&Object(d.c)(e.getAssociatedSettings(),t.getUiSettings())},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e){return!(!this.props.isActive&&!e.isActive)}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"getSerializedElements",value:function(){var e=this.getLayout();return e?Object(a.a)({},p.a.getLayoutSerializedElements(e),{instances:Object(d.b)(e.getInitialInstances()),uiSettings:this.editor?this.editor.getUiSettings():{}}):{}}},{key:"getLayout",value:function(){var e=this.props,t=e.project,n=e.layoutName;return t&&t.hasLayoutNamed(n)?t.getLayout(n):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.layoutName,r=t.isActive,o=this.getLayout();return o?l.createElement(u.a,Object.assign({},this.props,{ref:function(t){return e.editor=t},project:n,layout:o,initialInstances:o.getInitialInstances(),initialUiSettings:Object(d.b)(o.getAssociatedSettings()),onPreview:function(t){return e.props.onPreview(n,o,t)},onOpenDebugger:this.props.onOpenDebugger,isActive:r})):l.createElement("div",null,"No layout called ",a," found!")}}]),t}(p.a)},788:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a=function(e){var t=e;return t?function(e){return t._(e)}:null},r=function(e){var t=e;return t?function(e){return t._(e)}:function(e){return e}}},80:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return s});var a=n(10),r=n.n(a),o=function(e){return r.a.createElement("div",{style:{display:"flex",marginTop:e.noMargin?0:4,marginBottom:e.noMargin?0:4,alignItems:e.alignItems,justifyContent:e.justifyContent,flex:e.expand?1:void 0}},e.children)},i=function(e){return r.a.createElement("div",{style:{display:"flex",marginLeft:e.noMargin?0:8,marginRight:e.noMargin?0:8,flexDirection:"column",alignItems:e.alignItems||"stretch",justifyContent:e.justifyContent,flex:e.expand?1:void 0}},e.children)},s=function(e){return r.a.createElement("span",{style:{width:4,height:4,flexShrink:0}})}},810:function(e,t){e.exports={admob:{description:"Demonstrate how to show ads from AdMob in your game: banners, interstitial screen or reward videos. Also useful to test that your AdMob account is working properly.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"AdMob",name:"AdMob"}]},"advanced-shape-based-painter":{description:"Show how to use Shape Painter objects to create a simple drawing app.",usedExtensions:[{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Base object",name:"BuiltinObject"}]},"animation-speed-scale":{description:"Change the speed of the animation of an object according to its movement speed.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"}]},asteroids:{description:"An adptation of the classic arcade game Asteroids with GDevelop.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Sprite",name:"Sprite"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"System information",name:"SystemInfo"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},"basic-ai-with-pathfinding":{description:"Show how to use pathfinding to make enemies chase the player.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Pathfinding behavior",name:"PathfindingBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Time",name:"BuiltinTime"}]},"basic-artificial-intelligence":{description:"Show how to create enemies looking at the player and chasing him when spotted.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Time",name:"BuiltinTime"}]},"basic-topdown-car-driving":{description:"Show how to create a car that can be controlled by the player.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"}]},"bbtext-object-demo":{description:"This shows how to change the bbcode text of a BBText object displayed on the screen.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"BBCode Text Object",name:"BBText"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Base object",name:"BuiltinObject"}]},"betabox-basics-learning-experience":{description:"Example level for teaching basic programming skills with extra features and assets.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Text object",name:"TextObject"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Audio",name:"BuiltinAudio"}]},"bomb-the-crate":{description:"A basic bomberman like game, where the player can move on the map, drop bombs and destroy crates on the map.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"}]},"bouncing-ball-and-rope":{description:"Simulate a bouncing ball with ropes that can be created to move the ball around anchors.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Advanced control features",name:"BuiltinAdvanced"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Linked objects",name:"LinkedObjects"}]},breakout:{description:"The classic Breakout arcade game adapted in GDevelop. Read the tutorial about it to learn how to make a game like this.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"",name:""},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"External layouts",name:"BuiltinExternalLayouts"}]},buttons:{description:"Learn how to make buttons for the menus in your game.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"}]},"car-physics":{description:"A fun, physics based driving game",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"center-object-within-another":{description:"How to put an object on the center of another",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"}]},"change-position-of-object":{description:"Show how to move an object by changing its X and Y position.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"}]},"change-scale-of-sprites":{description:"Show how to change the scale of a sprite (to make a zoom effect for example).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"}]},"change-sprite-animation":{description:"Learn how to change the animation of a Sprite object (useful for animating almost all objects in your game: characters, enemies, items...)",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"}]},"change-sprite-color":{description:"Learn how to change the color of a Sprite object - useful to achieve effects like invincibility with a blue tint or taking damage with a red effect. ",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"character-selection":{description:"Example showing how to remember the character selected by the player and use it in other scenes.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"count-down-timer":{description:"Show how to use a variable as a timer and display it on screen like a bomb count down timer.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"}]},"create-object-with-mouseclick":{description:"Show how to create an object at the position of the click.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"}]},"create-random-object":{description:"Show how to create a object randomly picked in a list.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Base object",name:"BuiltinObject"}]},"custom-font":{description:"Example showing a text with a custom font applied on it.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"}]},"custom-mouse-pointer":{description:"Learn how to replace the mouse cursor by a custom image.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Base object",name:"BuiltinObject"}]},"customize-keys-with-lastpressedkey":{description:"This explains how to remember the last key that was pressed and customize the inputs of your game.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Base object",name:"BuiltinObject"}]},"device-orientation-ballgame":{description:"Example showing how to use the device sensors to move a ball in a maze.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Device sensors",name:"DeviceSensors"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"device-orientation-compass":{description:"This shows how to use the device sensors to create a compass like app.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Device sensors",name:"DeviceSensors"},{fullName:"Base object",name:"BuiltinObject"}]},"device-vibration":{description:"Show how to make the device vibrate.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Device vibration",name:"DeviceVibration"}]},"dialogue-tree-with-yarn":{description:"A platformer showing a simple interactive story with dialogues like in RPG games, using the Yarn dialogue tree extension.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"BBCode Text Object",name:"BBText"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Dialogue Tree (Experimental)",name:"DialogueTree"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"System information",name:"SystemInfo"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Variable features",name:"BuiltinVariables"}]},"downhill-bike-physics-demo":{description:"A fun demo, using the Physics Engine to build an advanced simulation of a bike, with a person pedaling on it. Try to cross the finish line without falling and as fast as possible!",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Advanced control features",name:"BuiltinAdvanced"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Window features",name:"BuiltinWindow"},{fullName:"Device vibration",name:"DeviceVibration"},{fullName:"Time",name:"BuiltinTime"}]},"drag-camera-with-mouse":{description:"This shows how to allow the user to move on a map with the mouse.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"drop-collect-items-from-storage":{description:"Show how to make the player collect objects from boxes on the map.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"}]},"endless-up-runner":{description:"A game where the player have to jump on platforms and avoid falling down as the screen goes up. With special objects (spring, rocks), score and Game Over handling!",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Time",name:"BuiltinTime"}]},"exit-app":{description:"Simple example showing how to close your game.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"}]},"facebook-instant-game":{description:"Learn how to use the various Facebook Instant Games APIs to get information about the player, share their scores and have a leaderboard!",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Facebook Instant Games",name:"FacebookInstantGames"}]},"filesystem-create-directory":{description:"Show how to ask the user for a folder name and create it on the disk.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Text entry object",name:"TextEntryObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Filesystem",name:"FileSystem"}]},"find-diagonals":{description:"Show how to delete objects that are located at the diagonals of the click of the player in a board game.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"}]},geodash:{description:"A fast paced game where you must jump and avoid obstacles.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"}]},"geometry-monster":{description:"A hyper casual endless game where you have to collect shapes and avoid bombs, with a progressively increasing difficulty.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"",name:""},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Text object",name:"TextObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Variable features",name:"BuiltinVariables"}]},"health-bar":{description:"The platform example game adapted to add a health bar to the player, that is decreased when the player touches an enemy.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"infinite-scrolling-background":{description:"Learn how to create a background that is scolling infinitely.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"inventory-system":{description:"Learn how to display an inventory, with object that can be addded or removed, and how to persist it in storage.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Inventory",name:"Inventory"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Storage",name:"BuiltinFile"}]},"isometric-game":{description:"Example of making an isometric 2D game.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Top-down movement",name:"TopDownMovementBehavior"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"javascript-blocks-in-platformer":{description:"This shows how to reproduce the Platformer example using JavaScript code instead of events.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Variable features",name:"BuiltinVariables"}]},"keyboard-practice":{description:"A simple game where the player must press the right keys on the keyboard as fast as possible.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"}]},"level-editor":{description:"Example showing a basic level editor, where you can save and load positions of objects put on the scene during the game. Also shows how to use simple functions.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"",name:""}]},"level-selection-unlock":{description:"Show how to save user progress and progressively unlock levels.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"}]},"load-image-from-url":{description:"Advanced example showing how to use JavaScript to load an image from an external URL.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},magnet:{description:"Show how to move a ball like if it's attracted by a magnet.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"manipulate-text-object":{description:"This shows how to change the text of a Text object displayed on the screen.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"}]},"menu-with-functions-and-text-effects":{description:"How to implement the same menu across multiple scenes using functions and text effects for hover/active states.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"",name:""}]},"move-camera-to-position":{description:"This shows how to move the camera to the position of an object on a map.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Variable features",name:"BuiltinVariables"}]},"move-object-back-and-forth":{description:"Use events to move objects back and forth vertically or horizontally.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"}]},"move-object-in-circle":{description:"This shows how to make an object move in circle around some point.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Base object",name:"BuiltinObject"}]},"move-object-toward-position":{description:"This shows how to have an object move to a given position on the screen.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"}]},"move-object-with-mouse-joint":{description:"Show how to use physics engine to move an object around with the mouse and realistic movements.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},"move-object-with-physics":{description:"This shows how to use the forces built in GDevelop to move an object.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"}]},"multi-language-menu":{description:"Show how to translate a menu (titles, buttons) in multiple languages and add an option for the player to choose the language.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"}]},"multiplayer-platformer-with-gamepads":{description:"Example showing how to use the Gamepads extension to read the state of gamepads (or controllers), for 2 players.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"",name:""}]},multitouch:{description:"This show how to create multiple markers when the player touches the screen.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Base object",name:"BuiltinObject"}]},"object-gravity":{description:"Use the physics engine to simulate an object moving on a small planet.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"}]},"object-selection":{description:"Simple example showing how the engine of GDevelop select objects to be used in conditions and actions.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"}]},"objects-timers":{description:"Example showing various usage of objects timers (timers that are stored into instances of objects on the scene, as opposed to scene timers which are stored by the scene).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"}]},"open-url-in-browser":{description:"This shows how to open a website on the system default browser.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Storage",name:"BuiltinFile"}]},pairs:{description:"Find all matching pairs of cards in this relaxing game. Use tweens to create smooth, natural animations with a few events.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Tween animation",name:"Tween"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},parallax:{description:"Shows how to have multiple layers with a parallax effect (where the background layers move slower than the foreground).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"parallax-scrolling":{description:"Another example showing how to have multiple layers with a parallax effect (where the background layers move slower than the foreground).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"parse-json-from-api":{description:"Advanced example where JSON content is fetched from a website and information extracted from it.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Basic internet features",name:"BuiltinNetwork"}]},"parse-json-string":{description:"Advanced example showing how to extract information from a JSON formatted string.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Basic internet features",name:"BuiltinNetwork"}]},"particles-explosions":{description:"Create explosion effects with the particles engine.",usedExtensions:[{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Base object",name:"BuiltinObject"}]},"particles-various-effects":{description:"Create various effects with the particles engine.",usedExtensions:[{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Base object",name:"BuiltinObject"}]},pathfinding:{description:"This show how to have an object moving from its position to another automatically avoiding obstacles.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Pathfinding behavior",name:"PathfindingBehavior"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Base object",name:"BuiltinObject"}]},"pathfinding-basics":{description:"Simpler example showing how to get started with Pathfinding, to have an object automatically find its way around obstacles.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Pathfinding behavior",name:"PathfindingBehavior"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"}]},physics:{description:"Example showing various capabilities of the physics engine integrated to GDevelop.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"}]},"physics-joints-demo":{description:"A demo of all the joints that can be created using the Physics engine.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"physics-joints-settings-demo":{description:"A demo of all the joints, and the way they can be customized, using the Physics engine.",usedExtensions:[{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"",name:""},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"}]},"pin-object-to-another":{description:'Example showing how to have objects "pinned" to another, meaning that they will move/rotate and follow the object they are pinned too.',usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Base object",name:"BuiltinObject"}]},"pin-object-to-another-multiple-parents":{description:'Example showing how to have objects "pinned" to multiple other objects, meaning that they will move/rotate and follow the object they are pinned too.',usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Linked objects",name:"LinkedObjects"}]},"pixel-perfect-platform-game":{description:"Very simple example showing the settings to have a pixel-perfect platform game (also applicable to other kind of games).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"}]},"plane-and-clouds":{description:"Show how to randomly generate clouds to create an infinite sky.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},platformer:{description:"An example of a basic platformer (Mario-like) game made with GDevelop.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Variable features",name:"BuiltinVariables"}]},"platformer-double-jump":{description:"The Platformer example modified to allow the player to do a double jump.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Variable features",name:"BuiltinVariables"}]},"play-music-on-mobile":{description:"This show how to properly launch a music on a game on mobile.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Audio",name:"BuiltinAudio"}]},"play-stop-sprite-animation":{description:"This shows how to pause the animation of a Sprite object.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Base object",name:"BuiltinObject"}]},"racing-game":{description:"A top-down racing game made using the Physics engine.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Variable features",name:"BuiltinVariables"}]},ragdoll:{description:"Example of creating a ragdoll with physics joints.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Advanced control features",name:"BuiltinAdvanced"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Base object",name:"BuiltinObject"}]},rain:{description:"Show how to simulate a rain effect by creating several objects.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Window features",name:"BuiltinWindow"}]},"random-color-picker":{description:"This shows how to create a grid with random color, and let the player choose one.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Base object",name:"BuiltinObject"}]},"rotate-toward-mouse":{description:"Show how to rotate an object so that it looks toward the player cursor.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Base object",name:"BuiltinObject"}]},"rotate-toward-position":{description:"Show how to rotate an object so that it looks toward a specified position on the scene.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"}]},"rotate-with-keypress":{description:"Basic example showing how to rotate an object.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Base object",name:"BuiltinObject"}]},"save-load":{description:"Advanced example showing how to persist data and then reload them from storage (useful to store game progress, or save the state of some objects in a game).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Base object",name:"BuiltinObject"}]},"screen-shake":{description:"Make the screen shake when some event occurs.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},"shoot-bullet-in-parabola":{description:"Show how to use various mathematical expressions to move an object following a parabola shape",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Scene management features",name:"BuiltinScene"}]},"shoot-bullets":{description:"Basic example showing how to shoot bullets from an object.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Base object",name:"BuiltinObject"}]},"shooting-bullets-explanation":{description:"Basic example showing how to shoot bullets from one or multiple objects at the same time.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Base object",name:"BuiltinObject"}]},"simple-space-shooter":{description:"An older, simple space shooter demo, made without any behaviors from extensions. Prefer taking a look at the Space Shooter starter to learn about useful behaviors and patterns for making your games.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Top-down movement",name:"TopDownMovementBehavior"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},"snap-object-to-grid":{description:"Example showing how to create a grid and have objects snapped to the grid.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Text object",name:"TextObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Window features",name:"BuiltinWindow"},{fullName:"Base object",name:"BuiltinObject"}]},"space-invaders":{description:"A Space Invaders-like game, where you have a turret and shoot on enemies coming from the sky.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Window features",name:"BuiltinWindow"}]},"space-shooter":{description:"A beautiful, retro side-scrolling shooter where you must defeat incoming enemies with your mecha transforming spaceship. Huge boss included!\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"",name:""},{fullName:"Top-down movement",name:"TopDownMovementBehavior"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"splash-screen":{description:"Show how to create a splashscreen at the beginning of your game.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Base object",name:"BuiltinObject"}]},"sprite-fade-in-out":{description:"This shows how to make a sprite fade in and out on the screen.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"}]},"take-screenshot":{description:"Show how to save a screenshot of the game on the disk (on Windows/macOS/Linux only).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Screenshot",name:"Screenshot"},{fullName:"Audio",name:"BuiltinAudio"}]},"text-entry-object":{description:"This shows how to use the Text Entry object to capture what is written on the keyboard.",usedExtensions:[{fullName:"Text entry object",name:"TextEntryObject"},{fullName:"Text object",name:"TextObject"}]},"text-fade-in-out":{description:"This shows how to make a text fade in and out on the screen.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"}]},"text-to-speech":{description:"Advanced example showing how to use JavaScript and HTML5 api to make a text read by your computer.",usedExtensions:[{fullName:"Text entry object",name:"TextEntryObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"}]},"toggle-music-play-sound":{description:"Example showing how to play a music and add controls on the screen to pause it, change the volume or mute the sounds totally.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Audio",name:"BuiltinAudio"}]},"type-on-text-effect":{description:"This show how to create an effect where a text is progressively typed on the screen.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"}]},"unlock-items":{description:"Show how to save the items unlocked by the user and load them later (when the game is launched again for example, or when starting a saved game).\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Base object",name:"BuiltinObject"}]},"video-player":{description:"An example of a complete video player with controls to play/pause, change the volume, jump to a position in the video...",usedExtensions:[{fullName:"Video",name:"Video"},{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Tween animation",name:"Tween"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Advanced control features",name:"BuiltinAdvanced"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"",name:""},{fullName:"Window features",name:"BuiltinWindow"}]},"z-depth":{description:"Example where the player can move a character on a map, and the character is displayed behind or in front of other objects according to its position.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Base object",name:"BuiltinObject"}]},"zombie-laser":{description:"Simple game where the player must use his laser powered gun to destroy zombies running at him.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Text object",name:"TextObject"},{fullName:"Pathfinding behavior",name:"PathfindingBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Base object",name:"BuiltinObject"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]}}},812:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var a=n(78),r=n(10),o=n(89),i=n(80),s=function(){return r.createElement(o.a,null,r.createElement(a.Trans,{id:"This will export your game as a Cordova project. Cordova is a technology that enables HTML5 games to be packaged for iOS and Android."}))},c=function(e){var t=e.renderGameButton;return r.createElement(i.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"You can now compile the game by yourself using Cordova command-line tool to iOS (XCode is required) or Android (Android SDK is required)."})),r.createElement(i.b,{justifyContent:"center"},t()))}},813:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var a=n(78),r=n(10),o=n(89),i=n(80),s=function(){return r.createElement(o.a,null,r.createElement(a.Trans,{id:"This will export your game so that you can package it for Windows, macOS or Linux. You will need to install third-party tools (Node.js, Electron Builder) to package your game."}))},c=function(e){var t=e.renderGameButton;return r.createElement(i.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"The game was properly exported. You can now use Electron Builder (you need Node.js installed and to use the command-line on your computer to run it) to create an executable."})),r.createElement(i.b,{justifyContent:"center"},t()))}},814:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var a=n(78),r=n(10),o=n(89),i=n(209),s=n(3),c=n(88),l=n(80),u=n(147),d=function(){return r.createElement(o.a,null,r.createElement(a.Trans,{id:"This will export your game to a folder."}),r.createElement(a.Trans,{id:"You can then upload it on a website/game hosting service and share it on marketplaces and gaming portals like Kongregate, Game Jolt, itch.io, Poki..."}))},p=function(e){var t=e.renderGameButton;return r.createElement(l.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"You can now upload the game to a web hosting to play to the game."})),r.createElement(u.a,{kind:"warning"},r.createElement(a.Trans,{id:"Your game won't work if you open index.html on your computer. You must upload it to a web hosting (Kongregate, Itch.io, etc...) or a web server to run it."})),r.createElement(l.c,null),t(),r.createElement(l.c,null),r.createElement(c.a,{fullWidth:!0,primary:!0,onClick:function(){return s.b.openExternalURL(Object(i.a)("/publishing/publishing-to-gamejolt-store"))},label:r.createElement(a.Trans,{id:"Publish your game on Game Jolt"})}),r.createElement(c.a,{fullWidth:!0,primary:!0,onClick:function(){return s.b.openExternalURL(Object(i.a)("/publishing/publishing-to-kongregate-store"))},label:r.createElement(a.Trans,{id:"Publish your game on Kongregate"})}),r.createElement(c.a,{fullWidth:!0,primary:!0,onClick:function(){return s.b.openExternalURL(Object(i.a)("/publishing/publishing-to-itch-io"))},label:r.createElement(a.Trans,{id:"Publish your game on Itch.io"})}),r.createElement(c.a,{fullWidth:!0,primary:!0,onClick:function(){return s.b.openExternalURL("https://gdevelop-app.com/poki")},label:r.createElement(a.Trans,{id:"Publish your game on Poki.com"})}),r.createElement(c.a,{fullWidth:!0,onClick:function(){return s.b.openExternalURL(Object(i.a)("/publishing"))},label:r.createElement(a.Trans,{id:"Learn more about publishing"})}))}},815:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var a=n(78),r=n(10),o=n(89),i=n(80),s=n(147),c=function(){return r.createElement(i.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"This will export your game using Cocos2d-JS game engine. The game can be compiled for Android or iOS if you install Cocos2d-JS developer tools."})),r.createElement(i.c,null),r.createElement(s.a,{kind:"info"},r.createElement(a.Trans,{id:"This export is experimental and not all features are supported by Cocos2D-JS. It's recommended that you thoroughly test your game and be ready to contribute to the game engine if you need to implement missing features."})))},l=function(e){var t=e.renderGameButton;return r.createElement(i.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"You can now upload the game to a web hosting or use Cocos2d-JS command line tools to export it to other platforms like iOS (XCode is required) or Android (Android SDK is required)."})),r.createElement(i.b,{justifyContent:"center"},t()))}},816:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d});var a=n(78),r=n(10),o=n(89),i=n(80),s=n(88),c=n(209),l=n(3),u=function(){return r.createElement(o.a,null,r.createElement(a.Trans,{id:"Prepare your game for Facebook Instant Games so that it can be play on Facebook Messenger. GDevelop will create a compressed file that you can upload on your Facebook Developer account."}))},d=function(e){var t=e.renderGameButton;return r.createElement(i.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"You can now create a game on Facebook Instant Games, if not already done, and upload the generated archive."})),r.createElement(i.b,{justifyContent:"center"},t(),r.createElement(s.a,{label:r.createElement(a.Trans,{id:"Learn more about Instant Games publication"}),primary:!0,onClick:function(){l.b.openExternalURL(Object(c.a)("/publishing/publishing-to-facebook-instant-games"))}})))}},817:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(78),r=n(10),o=n(89),i=function(){return r.createElement(o.a,null,r.createElement(a.Trans,{id:"Packaging your game for Android will create an APK file that can be installed on Android phones or published to the Play Store."}))}},818:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(120),r=n(83),o=n(78),i=n(10),s=n(89),c=n(154),l=n(80),u=function(e){var t=e.exportState,n=e.updateExportState,u=function(e,t){n(function(n){return t&&-1===n.targets.indexOf(e)?Object(r.a)({},n,{targets:[].concat(Object(a.a)(n.targets),[e])}):t||-1===n.targets.indexOf(e)?n:Object(r.a)({},n,{targets:n.targets.filter(function(t){return t!==e})})})};return i.createElement(i.Fragment,null,i.createElement(l.a,{noMargin:!0},i.createElement(l.b,null,i.createElement(s.a,null,i.createElement(o.Trans,{id:"Your game will be exported and packaged online as a stand-alone game for Windows, Linux and/or macOS."}))),i.createElement(c.a,{label:i.createElement(o.Trans,{id:"Windows (zip file)"}),checked:-1!==t.targets.indexOf("winZip"),onCheck:function(e,t){return u("winZip",t)}}),i.createElement(c.a,{label:i.createElement(o.Trans,{id:"Windows (auto-installer file)"}),checked:-1!==t.targets.indexOf("winExe"),onCheck:function(e,t){return u("winExe",t)}}),i.createElement(c.a,{label:i.createElement(o.Trans,{id:"macOS (zip file)"}),checked:-1!==t.targets.indexOf("macZip"),onCheck:function(e,t){return u("macZip",t)}}),i.createElement(c.a,{label:i.createElement(o.Trans,{id:"Linux (AppImage)"}),checked:-1!==t.targets.indexOf("linuxAppImage"),onCheck:function(e,t){return u("linuxAppImage",t)}})))}},819:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(78),r=n(10),o=n(89),i=function(){return r.createElement(o.a,null,r.createElement(a.Trans,{id:"This will export your game and upload it on GDevelop games hosting. The game will be freely accessible from the link, available for a few days and playable from any computer browser or mobile phone (iOS, Android 5+)."}))}},820:function(e,t,n){"use strict";var a=n(10),r=n.n(a),o=n(557);t.a=r.a.memo(function(e){return r.a.createElement(o.a,e,r.a.createElement("path",{d:"M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M18,5H15.5A3.5,3.5 0 0,0 12,8.5V11H10V14H12V21H15V14H18V11H15V9A1,1 0 0,1 16,8H18V5Z"}))})},821:function(e,t,n){"use strict";var a=n(10),r=n.n(a),o=n(557);t.a=r.a.memo(function(e){return r.a.createElement(o.a,e,r.a.createElement("path",{d:"M20.18,21.55H16.94L17.17,18.82H15.58L15.35,21.55H8.65L8.42,18.82H6.83L7.06,21.55H3.82L2,9.73L6.55,2.45H17.45L22,9.73L20.18,21.55M16.55,6.09H13.62L13.82,7.45H10.18L10.38,6.09H7.45L5.64,9.73L6.55,17H17.45L18.36,9.73L16.55,6.09M14.95,14.59C14.7,14.59 14.5,13.83 14.5,12.9C14.5,11.96 14.7,11.2 14.95,11.2C15.21,11.2 15.41,11.96 15.41,12.9C15.41,13.83 15.21,14.59 14.95,14.59M9.22,14.73C8.96,14.73 8.76,13.97 8.76,13.04C8.76,12.1 8.96,11.35 9.22,11.35C9.47,11.35 9.67,12.1 9.67,13.04C9.67,13.97 9.47,14.73 9.22,14.73Z"}))})},822:function(e,t,n){"use strict";var a=n(10),r=n.n(a),o=n(557);t.a=r.a.memo(function(e){return r.a.createElement(o.a,e,r.a.createElement("path",{d:"M12,20L15.46,14H15.45C15.79,13.4 16,12.73 16,12C16,10.8 15.46,9.73 14.62,9H19.41C19.79,9.93 20,10.94 20,12A8,8 0 0,1 12,20M4,12C4,10.54 4.39,9.18 5.07,8L8.54,14H8.55C9.24,15.19 10.5,16 12,16C12.45,16 12.88,15.91 13.29,15.77L10.89,19.91C7,19.37 4,16.04 4,12M15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9A3,3 0 0,1 15,12M12,4C14.96,4 17.54,5.61 18.92,8H12C10.06,8 8.45,9.38 8.08,11.21L5.7,7.08C7.16,5.21 9.44,4 12,4M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}))})},826:function(e,t,n){var a=n(782),r=function(e,t,n){if(!n.runExtensionSanityTests)return{error:!0,message:"Missing runExtensionSanityTests in the extension module exports"};var r=n.runExtensionSanityTests(e,t);return a(r)?{error:!0,message:"One or more tests are failing for the extension (see rawError)",rawError:r}:{error:!1,message:"Tests passed successfully"}};e.exports={runExtensionSanityTests:r,loadExtension:function(e,t,n,a){if(!a.createExtension)return{message:"Extension module found, but no createExtension method is exported",error:!0};var o=null;try{if(!(o=a.createExtension(e,t)))return{message:"createExtension did not return any extension. Did you forget to return the extension created?",error:!0}}catch(s){return{message:"\ud83d\udea8 Exception caught while running createExtension. \ud83d\udca3 Please fix this error as this will make GDevelop crash at some point.",error:!0,dangerous:!0,rawError:s}}try{var i=r(t,o,a);if(i.error)return o.delete(),i}catch(s){return{message:"\ud83d\udea8 Exception caught while running runExtensionSanityTests. \ud83d\udca3 Please fix this error as this will make GDevelop crash at some point.",error:!0,dangerous:!0,rawError:s}}return n.addNewExtension(o),o.delete(),{message:"\u2705 Successfully loaded the extension.",error:!1}}}},827:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u={internalName:"Empty",name:"No storage",createOperations:function(){return{onOpenWithPicker:function(){return Promise.reject("No storage provider set up")},onOpen:function(){return Promise.reject("No storage provider set up")},hasAutoSave:function(){return Promise.resolve(!1)},onSaveProject:function(e){return Promise.reject("No storage provider set up")},onSaveProjectAs:function(e){return Promise.reject("No storage provider set up")},onAutoSaveProject:function(e){}}}},d=function(e,t,n){var a=t.map(function(e){return{currentStorageProvider:e,initialFileMetadataToOpen:e.getFileMetadataFromAppArguments?e.getFileMetadataFromAppArguments(n):null}}).filter(function(e){return!!e.initialFileMetadataToOpen});return 0===a.length?{currentStorageProvider:e,initialFileMetadataToOpen:null}:(a.length>1&&console.warn("More than one storage provider can understand the app arguments. Selecting the first one."),a[0])},p=function(e){function t(){var e,n;Object(r.a)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state=Object(a.a)({},d(n.props.defaultStorageProvider,n.props.storageProviders,n.props.appArguments),{renderDialog:null}),n._setDialog=function(e){n.setState({renderDialog:e})},n._closeDialog=function(){n.setState({renderDialog:null})},n._useStorageProvider=function(e){return e?new Promise(function(t){n.setState({currentStorageProvider:e},function(){t()})}):Promise.resolve()},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.storageProviders,a=this.state,r=a.renderDialog,o=a.initialFileMetadataToOpen,i=this.state.currentStorageProvider||u;return l.createElement(l.Fragment,null,t({currentStorageProviderOperations:i.createOperations({setDialog:this._setDialog,closeDialog:this._closeDialog}),storageProviders:n,useStorageProvider:this._useStorageProvider,initialFileMetadataToOpen:o}),r&&r())}}]),t}(l.Component)},832:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n(102),d=n(83),p=n(120),m=n(256),h=n(258),f=n(259),g=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onPlay,n=e.onPause,a=e.canPlay,r=e.canPause,o=e.onOpenProfiler;return l.createElement(m.b,{lastChild:!0},l.createElement(h.a,{onClick:t,src:"res/ribbon_default/preview32.png",disabled:!a,tooltip:{id:"Play the game"}}),l.createElement(h.a,{onClick:n,src:"res/ribbon_default/pause32.png",disabled:!r,tooltip:{id:"Pause the game"}}),l.createElement(f.a,null),l.createElement(h.a,{onClick:o,src:"res/ribbon_default/profiler32.png",tooltip:{id:"Open the performance profiler"}}))}}]),t}(l.PureComponent),b=n(350),v=n(134),E=n(429),y=n.n(E),j=n(90),O=n(80),C=n(103),x={container:{flex:1,display:"flex"},list:{overflowY:"scroll",flex:1}},T=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"_renderInspectorList",value:function(e,t,n){var a=this;return t(e).map(function(t){if(!t)return null;var r=n.concat(t.key),o=t.getSubInspectors;return l.createElement(C.b,{key:r.join("."),primaryText:t.label,initiallyOpen:!!t.initiallyOpen,onClick:function(){return a.props.onChooseInspector(t,r)},renderNestedItems:o?function(){return a._renderInspectorList(y()(e,t.key,null),o,r)}:void 0})})}},{key:"render",value:function(){return this.props.gameData?l.createElement(C.a,{style:x.list},this._renderInspectorList(this.props.gameData,this.props.getInspectorDescriptions,[])):null}}]),t}(l.Component),S=n(364),k=n.n(S),w=n(766),N=n.n(w),_={container:{flex:1,overflowY:"scroll"}},P=function e(t){return t?t._isStructure?t._children?N()(t._children,e):null:t._stringDirty?t._value:t._str:null},I=function(e){return l.createElement("div",{style:_.container},l.createElement(k.a,{collapsed:!1,name:!1,src:e.variablesContainer?(t=e.variablesContainer,t&&t._variables&&t._variables.items?N()(t._variables.items,P):null):null,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:function(t){return function(e,t){var n=t.onCall,a=(t.onEdit,["_variables","items"]);return e.namespace.forEach(function(e){a.push(e),a.push("_children")}),a.push(e.name),parseFloat(e.new_value).toString()===e.new_value?(a.push("setNumber"),n(a,[parseFloat(e.new_value)])):(a.push("setString"),n(a,[""+e.new_value])),!0}(t,e)},groupArraysAfterLength:50,theme:"monokai"}));var t},B=n(89),M={container:{flex:1,overflowY:"scroll"}},F=function(e){return l.createElement("div",{style:M.container},l.createElement(B.a,null,l.createElement(c.Trans,{id:"General:"})),l.createElement(k.a,{collapsed:!1,name:!1,src:(t=e.runtimeObject,t?{"X position":t.x,"Y position":t.y,Angle:t.angle,Layer:t.layer,"Z order":t.zOrder,"Is hidden?":t.hidden}:null),enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:function(t){return function(e,t){var n=t.onCall;t.onEdit;if("X position"===e.name)n(["setX"],[parseFloat(e.new_value)]);else if("Y position"===e.name)n(["setY"],[parseFloat(e.new_value)]);else if("Angle"===e.name)n(["setAngle"],[parseFloat(e.new_value)]);else if("Layer"===e.name)n(["setLayer"],[e.new_value]);else if("Z order"===e.name)n(["setZOrder"],[parseFloat(e.new_value)]);else{if("Is hidden?"!==e.name)return!1;n(["hide"],[!!e.new_value])}return!0}(t,e)},groupArraysAfterLength:50,theme:"monokai"}),l.createElement(B.a,null,l.createElement(c.Trans,{id:"Instance variables:"})),l.createElement(I,{variablesContainer:e.runtimeObject?e.runtimeObject._variables:null,onEdit:function(t,n){return e.onEdit(["_variables"].concat(t),n)},onCall:function(t,n){return e.onCall(["_variables"].concat(t),n)}}));var t},R=n(137),L=n(168),A={container:{flex:1,overflowY:"scroll"}},D=function(e){return e?{"Camera rotation (in deg)":e._cameraRotation,"Camera zoom":e._zoomFactor,"Layer is hidden":!!e._hidden,"Camera X position":e._cameraX,"Camera Y position":e._cameraY,"Time scale":e._timeScale}:null},U=function(e){return e?{"Time scale":e._timeManager?e._timeManager._timeScale:null,Layers:e._layers&&e._layers.items?N()(e._layers.items,D):null}:null},V=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={newObjectName:""},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.runtimeScene,a=t.onCall;return n?l.createElement("div",{style:A.container},l.createElement(B.a,null,l.createElement(c.Trans,{id:"Layers:"})),l.createElement(k.a,{collapsed:!1,name:!1,src:U(n),enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:function(t){return function(e,t){var n=t.onCall;t.onEdit;if(0===e.namespace.length&&"Time scale"===e.name)n(["_timeManager","setTimeScale"],[parseFloat(e.new_value)]);else{if(!(e.namespace.length>=2))return!1;"Layers"===e.namespace[0]&&("Camera rotation (in deg)"===e.name?n(["_layers","items",e.namespace[1],"setCameraRotation"],[parseFloat(e.new_value)]):"Camera zoom"===e.name?n(["_layers","items",e.namespace[1],"setCameraZoom"],[parseFloat(e.new_value)]):"Layer is hidden"===e.name?n(["_layers","items",e.namespace[1],"show"],[!e.new_value]):"Camera X position"===e.name?n(["_layers","items",e.namespace[1],"setCameraX"],[parseFloat(e.new_value)]):"Camera Y position"===e.name?n(["_layers","items",e.namespace[1],"setCameraY"],[parseFloat(e.new_value)]):"Time scale"===e.name&&n(["_layers","items",e.namespace[1],"setTimeScale"],[parseFloat(e.new_value)]))}return!0}(t,e.props)},groupArraysAfterLength:50,theme:"monokai"}),l.createElement(B.a,null,l.createElement(c.Trans,{id:"Create a new instance on the scene (will be at position 0;0):"})),n._objects&&n._objects.items&&l.createElement(R.b,{noFloatingLabelText:!0,renderTextField:function(){return l.createElement(L.a,{hintText:{id:"Enter the name of the object"},value:e.state.newObjectName,onChange:function(t){e.setState({newObjectName:t})},dataSource:Object.keys(n._objects.items).map(function(e){return{text:e,value:e}}),openOnFocus:!0,fullWidth:!0})},renderButton:function(t){return l.createElement(j.a,{style:t,label:l.createElement(c.Trans,{id:"Create"}),primary:!0,onClick:function(){a(["createObject"],[e.state.newObjectName])}})}})):null}}]),t}(l.Component),W=function(e){return[{label:"Global variables",key:"_variables",renderInspector:function(e,t){var n=t.onCall,a=t.onEdit;return l.createElement(I,{variablesContainer:e,onCall:n,onEdit:a})}},{label:"Scenes",key:["_sceneStack","_stack"],renderInspector:function(){return null},initiallyOpen:!0,getSubInspectors:function(e){return e?e.map(function(e,t){return{label:e._name,key:t,renderInspector:function(e,t){var n=t.onCall,a=t.onEdit;return l.createElement(V,{runtimeScene:e,onCall:n,onEdit:a})},initiallyOpen:!0,getSubInspectors:function(e){return[{label:"Scene variables",key:"_variables",renderInspector:function(e,t){var n=t.onCall,a=t.onEdit;return l.createElement(I,{variablesContainer:e,onCall:n,onEdit:a})}},{label:"Instances",key:"_instances",renderInspector:function(){return null},initiallyOpen:!0,getSubInspectors:function(e){return e&&e.items?Object.keys(e.items).map(function(t){return e.items[t]&&void 0!==typeof e.items[t].length?{label:"".concat(t," (").concat(e.items[t].length,")"),key:["items",t],renderInspector:function(){return null},getSubInspectors:function(e){return e?e.filter(function(e){return!!e}).map(function(e,t){return{label:"#".concat(e.id),key:t,renderInspector:function(e,t){var n=t.onCall,a=t.onEdit;return l.createElement(F,{runtimeObject:e,onCall:n,onEdit:a})}}}):[]}}:null}):[]}}]}}}):[]}}]},G=n(97),z={container:{flex:1,overflowY:"scroll"}},H=function(e){var t=e.gameData,n=e.onEdit;return l.createElement("div",{style:z.container},l.createElement(G.a,null,l.createElement(c.Trans,{id:"You are in raw mode. You can edit the fields, but be aware that this can lead to unexpected results or even crash the debugged game!"})),l.createElement(k.a,{collapsed:1,name:!1,src:t,onEdit:function(e){return n(e.namespace.concat(e.name),e.new_value)},groupArraysAfterLength:50,theme:"monokai"}))},Y=n(154),K=n(1620),X=n.n(K),J=n(1621),Z=n.n(J),q=n(119),Q=n(186),$=n(100),ee=n(1619),te=n.n(ee),ne=n(105),ae=n(566),re=n.n(ae),oe=n(718),ie=n.n(oe),se={indent:{display:"flex",alignItems:"center"}},ce=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={collapsedPaths:{}},n._convertToDataRows=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=n.props.profilerMeasures,s=t&&a.time&&0!==t.time?a.time/t.time*100:100,c=i&&a.time&&0!==i.time?a.time/i.time*100:100,l=n._isSectionCollapsed(o);return[{name:e,time:a.time?"".concat(a.time.toFixed(2),"ms"):"?",parentPercent:"".concat(s.toFixed(2),"%"),totalPercent:"".concat(c.toFixed(2),"%"),depth:r,hasSubsections:!!Object.keys(a.subsections).length,path:o,isCollapsed:l}].concat(Object(p.a)(l?[]:te()(a.subsections,function(e,t){return n._convertToDataRows(t,a,e,r+1,"".concat(o,">").concat(r,".").concat(t))})))},n._isSectionCollapsed=function(e){return n.state.collapsedPaths[e]},n._toggleSection=function(e){n.setState(function(t){return{collapsedPaths:Object(d.a)({},t.collapsedPaths,Object(u.a)({},e,!t.collapsedPaths[e]))}})},n._rowClassName=function(e){var t=e.index;return t<0?"tableHeaderRow":t%2===0?"tableEvenRow":"tableOddRow"},n._renderSectionNameCell=function(e){var t=e.rowData;return l.createElement("div",{style:se.indent},l.createElement("div",{style:{width:8*t.depth}}),t.hasSubsections?l.createElement(ne.a,{onClick:function(){return n._toggleSection(t.path)}},t.isCollapsed?l.createElement(ie.a,null):l.createElement(re.a,null)):l.createElement("div",{style:{width:24}}),t.name)},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.profilerMeasures;if(!t)return null;var n=this._convertToDataRows("All",null,t);return l.createElement($.a,null,function(t){return l.createElement(Q.a,null,function(a){var r=a.height,o=a.width;return l.createElement(Q.d,{headerHeight:30,height:r,className:t.tableRootClassName,headerClassName:"tableHeaderColumn",rowCount:n.length,rowGetter:function(e){var t=e.index;return n[t]},rowHeight:35,onRowClick:function(){},rowClassName:e._rowClassName,width:o},l.createElement(Q.b,{label:l.createElement(c.Trans,{id:"Section name"}),dataKey:"name",width:.4*o,className:"tableColumn",cellRenderer:e._renderSectionNameCell}),l.createElement(Q.b,{label:l.createElement(c.Trans,{id:"Time (ms)"}),dataKey:"time",width:.2*o,className:"tableColumn"}),l.createElement(Q.b,{label:l.createElement(c.Trans,{id:"% of parent"}),dataKey:"parentPercent",width:.2*o,className:"tableColumn"}),l.createElement(Q.b,{label:l.createElement(c.Trans,{id:"% of total"}),dataKey:"totalPercent",width:.2*o,className:"tableColumn"}))})})}}]),t}(l.Component),le=n(2204),ue={tableContainer:{flex:1}},de=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onStart,n=e.onStop,a=e.profilerOutput,r=e.profilingInProgress;return l.createElement(v.a,null,l.createElement(O.b,{alignItems:"center",justifyContent:"center"},!r&&a&&l.createElement(B.a,null,l.createElement(c.Trans,{id:"Last run collected on {0} frames.",values:{0:a.stats.framesCount}})),!r&&a&&l.createElement(j.a,{label:l.createElement(c.Trans,{id:"Restart"}),onClick:t}),!r&&!a&&l.createElement(j.a,{label:l.createElement(c.Trans,{id:"Start profiling"}),onClick:t}),r&&l.createElement(j.a,{label:l.createElement(c.Trans,{id:"Stop profiling"}),onClick:n})),r&&l.createElement(O.b,{alignItems:"center"},l.createElement(le.a,{style:{flex:1},variant:"indeterminate"})),l.createElement("div",{style:ue.tableContainer},a&&l.createElement(ce,{profilerMeasures:a.framesAverageMeasures}),!a&&l.createElement(G.a,null,l.createElement(c.Trans,{id:"Start profiling and then stop it after a few seconds to see the results."}))))}}]),t}(l.Component),pe=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={selectedInspector:null,selectedInspectorFullPath:[],rawMode:!1},n._editors=null,n.openProfiler=function(){n._editors&&n._editors.openEditor("profiler","end",75)},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.gameData,a=t.onRefresh,r=t.onCall,o=t.onEdit,i=t.onStartProfiler,s=t.onStopProfiler,u=t.profilerOutput,d=t.profilingInProgress,p=this.state,m=p.selectedInspector,h=p.selectedInspectorFullPath,f=p.rawMode;return l.createElement(b.a,{ref:function(t){return e._editors=t},editors:{inspectors:{type:"primary",title:l.createElement(c.Trans,{id:"Inspectors"}),toolbarControls:[],renderEditor:function(){return l.createElement(v.a,null,l.createElement(O.a,{expand:!0,noMargin:!0},l.createElement(O.b,{justifyContent:"center"},l.createElement(j.a,{label:l.createElement(c.Trans,{id:"Refresh"}),onClick:a,primary:!0})),l.createElement(O.b,{expand:!0,noMargin:!0},l.createElement(T,{gameData:n,getInspectorDescriptions:W,onChooseInspector:function(t,n){return e.setState({selectedInspector:t,selectedInspectorFullPath:n})}}))))}},"selected-inspector":{type:"primary",noTitleBar:!0,renderEditor:function(){return l.createElement(O.a,{expand:!0,noMargin:!0},m?f?l.createElement(H,{gameData:y()(n,h,null),onEdit:function(e,t){return o(h.concat(e),t)}}):m.renderInspector(y()(n,h,null),{onCall:function(e,t){return r(h.concat(e),t)},onEdit:function(e,t){return o(h.concat(e),t)}})||l.createElement(G.a,null,l.createElement(c.Trans,{id:"No inspector, choose another element in the list or toggle the raw data view."})):l.createElement(G.a,null,n?l.createElement(c.Trans,{id:"Choose an element to inspect in the list"}):l.createElement(c.Trans,{id:"Pause the game (from the toolbar) or hit refresh (on the left) to inspect the game"})),l.createElement(O.a,null,l.createElement(O.b,{justifyContent:"space-between",alignItems:"center"},l.createElement(q.a,{helpPagePath:"/interface/debugger"}),l.createElement("div",null,l.createElement(Y.a,{checkedIcon:l.createElement(X.a,null),uncheckedIcon:l.createElement(Z.a,null),checked:f,onCheck:function(t,n){return e.setState({rawMode:n})}})))))}},profiler:{type:"secondary",title:l.createElement(c.Trans,{id:"Profiler"}),renderEditor:function(){return l.createElement(de,{onStart:i,onStop:s,profilerOutput:u,profilingInProgress:d})}}},initialNodes:{direction:"column",first:{direction:"row",first:"inspectors",second:"selected-inspector",splitPercentage:25},second:"profiler",splitPercentage:65}})}}]),t}(l.Component),me=n(122),he=n(123),fe=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=!!this.props.debuggerIds.length;return l.createElement(O.a,null,l.createElement(me.a,{fullWidth:!0,value:t?this.props.selectedId:0,onChange:function(t,n,a){return e.props.onChooseDebugger(parseInt(a,10)||0)},disabled:!t},this.props.debuggerIds.map(function(e){return l.createElement(he.a,{value:e,key:e,primaryText:{id:"Game preview #{id}",values:{id:e}}})}),!t&&l.createElement(he.a,{value:0,primaryText:{id:"No preview running. Run a preview and you will be able to inspect it with the debugger"}})))}}]),t}(l.Component),ge=n(153),be=n(216),ve=n(2),Ee=n.n(ve)()("electron"),ye=Ee?Ee.ipcRenderer:null,je=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={debuggerServerStarted:!1,debuggerServerError:null,debuggerIds:[],debuggerGameData:{},profilerOutputs:{},profilingInProgress:{},selectedId:0},n._debuggerContents={},n._removeServerListeners=function(){ye&&(ye.removeAllListeners("debugger-send-message-done"),ye.removeAllListeners("debugger-error-received"),ye.removeAllListeners("debugger-connection-closed"),ye.removeAllListeners("debugger-connection-opened"),ye.removeAllListeners("debugger-start-server-done"),ye.removeAllListeners("debugger-message-received"))},n._startServer=function(){ye&&(n.setState({debuggerServerStarted:!1}),n._removeServerListeners(),ye.on("debugger-error-received",function(e,t){n.setState({debuggerServerError:t},function(){return n.updateToolbar()})}),ye.on("debugger-connection-closed",function(e,t){var a=t.id,r=n.state,o=r.debuggerIds,i=r.selectedId,s=o.filter(function(e){return e!==a});n.setState({debuggerIds:s,selectedId:i!==a?i:s.length?s[s.length-1]:i},function(){return n.updateToolbar()})}),ye.on("debugger-connection-opened",function(e,t){var a=t.id;n.setState({debuggerIds:[].concat(Object(p.a)(n.state.debuggerIds),[a]),selectedId:a},function(){return n.updateToolbar()})}),ye.on("debugger-start-server-done",function(e){n.setState({debuggerServerStarted:!0},function(){return n.updateToolbar()})}),ye.on("debugger-message-received",function(e,t){var a=t.id,r=t.message;console.log("Processing message received for debugger");try{var o=JSON.parse(r);n._handleMessage(a,o)}catch(i){console.warn("Error while parsing message received from debugger client:",i)}}),ye.send("debugger-start-server"))},n._handleMessage=function(e,t){"dump"===t.command?n.setState({debuggerGameData:Object(d.a)({},n.state.debuggerGameData,Object(u.a)({},e,t.payload))}):"profiler.output"===t.command?n.setState({profilerOutputs:Object(d.a)({},n.state.profilerOutputs,Object(u.a)({},e,t.payload))}):"profiler.started"===t.command?n.setState(function(t){return{profilingInProgress:Object(d.a)({},t.profilingInProgress,Object(u.a)({},e,!0))}}):"profiler.stopped"===t.command?n.setState(function(t){return{profilingInProgress:Object(d.a)({},t.profilingInProgress,Object(u.a)({},e,!1))}}):console.warn("Unknown command received from debugger client:",t.command)},n._play=function(e){ye&&ye.send("debugger-send-message",{id:e,message:'{"command": "play"}'})},n._pause=function(e){ye&&ye.send("debugger-send-message",{id:e,message:'{"command": "pause"}'})},n._refresh=function(e){ye&&ye.send("debugger-send-message",{id:e,message:'{"command": "refresh"}'})},n._edit=function(e,t,a){return!!ye&&(ye.send("debugger-send-message",{id:e,message:JSON.stringify({command:"set",path:t,newValue:a})}),setTimeout(function(){return n._refresh(e)},100),!0)},n._call=function(e,t,a){return!!ye&&(ye.send("debugger-send-message",{id:e,message:JSON.stringify({command:"call",path:t,args:a})}),setTimeout(function(){return n._refresh(e)},100),!0)},n._startProfiler=function(e){ye&&ye.send("debugger-send-message",{id:e,message:'{"command": "profiler.start"}'})},n._stopProfiler=function(e){ye&&ye.send("debugger-send-message",{id:e,message:'{"command": "profiler.stop"}'})},n._hasSelectedDebugger=function(){var e=n.state,t=e.selectedId;return-1!==e.debuggerIds.indexOf(t)},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"updateToolbar",value:function(){var e=this;this.props.isActive&&this.props.setToolbar(l.createElement(g,{onPlay:function(){return e._play(e.state.selectedId)},onPause:function(){return e._pause(e.state.selectedId)},canPlay:this._hasSelectedDebugger(),canPause:this._hasSelectedDebugger(),onOpenProfiler:function(){e._debuggerContents[e.state.selectedId]&&e._debuggerContents[e.state.selectedId].openProfiler()}}))}},{key:"componentDidMount",value:function(){this.props.isActive&&this._startServer()}},{key:"componentWillReceiveProps",value:function(e){e.isActive&&!this.props.isActive&&this._startServer()}},{key:"componentWillUnmount",value:function(){this._removeServerListeners()}},{key:"render",value:function(){var e=this,t=this.state,n=t.debuggerServerError,a=t.debuggerServerStarted,r=t.selectedId,o=t.debuggerIds,i=t.debuggerGameData,s=t.profilerOutputs,u=t.profilingInProgress;return l.createElement(v.a,null,!a&&!n&&l.createElement(be.a,null,l.createElement(ge.a,null),l.createElement(B.a,null,l.createElement(c.Trans,{id:"Debugger is starting..."}))),!a&&n&&l.createElement(be.a,null,l.createElement(B.a,null,l.createElement(c.Trans,{id:"Unable to start the debugger server! Make sure that you are authorized to run servers on this computer."}))),a&&l.createElement(O.a,{expand:!0,noMargin:!0},l.createElement(fe,{selectedId:r,debuggerIds:o,onChooseDebugger:function(t){return e.setState({selectedId:t})}}),this._hasSelectedDebugger()&&l.createElement(pe,{ref:function(t){return e._debuggerContents[r]=t},gameData:i[r],onPlay:function(){return e._play(r)},onPause:function(){return e._pause(r)},onRefresh:function(){return e._refresh(r)},onEdit:function(t,n){return e._edit(r,t,n)},onCall:function(t,n){return e._call(r,t,n)},onStartProfiler:function(){return e._startProfiler(r)},onStopProfiler:function(){return e._stopProfiler(r)},profilerOutput:s[r],profilingInProgress:u[r]}),!this._hasSelectedDebugger()&&l.createElement(G.a,null,l.createElement(c.Trans,{id:"Run a preview and you will be able to inspect it with the debugger."}))))}}]),t}(l.Component),Oe=n(196),Ce=n(423);n.d(t,"a",function(){return xe});var xe=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={subscriptionChecked:!1},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"componentWillReceiveProps",value:function(){this._checkHasSubscription()}},{key:"componentDidMount",value:function(){this._checkHasSubscription()}},{key:"_checkHasSubscription",value:function(){this._subscriptionChecker&&this.props.isActive&&!this.state.subscriptionChecked&&(this._subscriptionChecker.checkHasSubscription(),this.setState({subscriptionChecked:!0}))}},{key:"render",value:function(){var e=this;return l.createElement(l.Fragment,null,l.createElement(je,Object.assign({},this.props,{ref:function(t){return e.editor=t}})),l.createElement(Ce.a,{ref:function(t){return e._subscriptionChecker=t},onChangeSubscription:function(){e.props.onChangeSubscription&&e.props.onChangeSubscription()},id:"Debugger",title:l.createElement(c.Trans,{id:"Debugger"}),mode:"try"}))}}]),t}(Oe.a)},833:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(92),p=n(119),m=n(88),h=n(195),f=n(103),g=n(289),b=n.n(g),v=n(290),E=n.n(v),y=n(2178),j=n(80),O=n(97),C=n(153),x=n(90),T=n(1725),S=n.n(T),k=n(2204),w=n(89),N={"cordova-build":{estimatedTimeInSeconds:function(e){return 300},completeDescription:"You can download it on your Android phone and install it."},"electron-build":{estimatedTimeInSeconds:function(e){return 150*(e.targets?e.targets.length:0)},completeDescription:""},"web-build":{estimatedTimeInSeconds:function(e){return 5},completeDescription:""}},_=[{displayName:{id:"Download"},key:"apkKey"},{displayName:{id:"Windows (zip)"},key:"windowsZipKey"},{displayName:{id:"Windows (exe)"},key:"windowsExeKey"},{displayName:{id:"macOS (zip)"},key:"macosZipKey"},{displayName:{id:"Linux (AppImage)"},key:"linuxAppImageKey"},{displayName:{id:"Open"},key:"s3Key"}],P=function(e){var t=e.build,n=e.onDownload,a=N[t.type],r=Math.abs(S()(t.updatedAt,Date.now())),o=Math.max(a?a.estimatedTimeInSeconds(t)-r:0,0);return l.createElement(c.I18n,null,function(e){var r=e.i18n;return"error"===t.status?l.createElement(l.Fragment,null,l.createElement(j.b,{alignItems:"center"},l.createElement(w.a,null,l.createElement(c.Trans,{id:"Something wrong happened :("})),l.createElement(j.c,null),l.createElement(x.a,{label:l.createElement(c.Trans,{id:"See logs"}),onClick:function(){return n("logsKey")}})),l.createElement(j.b,{alignItems:"center"},l.createElement(O.a,null,l.createElement(c.Trans,{id:"Check the logs to see if there is an explanation about what went wrong, or try again later."})))):"pending"===t.status?l.createElement(j.b,{alignItems:"center",expand:!0},l.createElement(k.a,{style:{flex:1},value:a.estimatedTimeInSeconds(t)>0?(a.estimatedTimeInSeconds(t)-o)/a.estimatedTimeInSeconds(t)*100:0,variant:o>0?"determinate":"indeterminate"}),l.createElement(j.c,null),o>0?l.createElement(w.a,null,l.createElement(c.Trans,{id:"~{0} minutes.",values:{0:Math.round(o/60)}})):l.createElement(w.a,null,l.createElement(c.Trans,{id:"Should finish soon."}))):"complete"===t.status?l.createElement(l.Fragment,null,l.createElement(j.b,{expand:!0},_.filter(function(e){return!!t[e.key]}).map(function(e,t){return l.createElement(l.Fragment,{key:e.key},0!==t&&l.createElement(j.c,null),l.createElement(x.a,{label:r._(e.displayName),primary:!0,onClick:function(){return n(e.key)}}))}),l.createElement(m.a,{label:l.createElement(c.Trans,{id:"See logs"}),onClick:function(){return n("logsKey")}})),l.createElement(j.b,{expand:!0},a&&l.createElement(w.a,null,a.completeDescription))):l.createElement(j.b,null,l.createElement(c.Trans,{id:"Unknown status"}))})},I=n(594),B=n.n(I),M=n(596),F=n.n(M),R={buildContainer:{padding:10}},L=function(e){var t=e.builds,n=e.onDownload;return l.createElement(j.a,{noMargin:!0,expand:!0},l.createElement(j.b,null,l.createElement(j.a,null,l.createElement(O.a,null,l.createElement(c.Trans,{id:"This is the list of builds that you've done. Note that you can download games generated during to 7 days, after which they are removed."})))),l.createElement(j.b,null,t?0===t.length?l.createElement(O.a,null,l.createElement(c.Trans,{id:"You don't have any builds on the online services for now"})):l.createElement(j.a,{noMargin:!0,expand:!0},t.map(function(e){var t=e&&F()(Date.now(),e.updatedAt)>6;return l.createElement(y.a,{style:R.buildContainer,key:e.id},l.createElement(w.a,null,e.type," - Last updated on"," ",B()(e.updatedAt,"YYYY-MM-DD HH:mm:ss")),!t&&l.createElement(P,{build:e,onDownload:function(t){return n(e,t)}}),t&&l.createElement(O.a,null,l.createElement(c.Trans,{id:"This build is old and the generated games can't be downloaded anymore."})))})):l.createElement(C.a,null)))},A=n(184),D=n(3),U=n(805),V=n.n(U),W=n(806),G=function(e){return new Promise(function(t){return setTimeout(t,e)})},z=function(){function e(){var t=this;Object(a.a)(this,e),this.runningWatchers={},this.nextWatcherId=0,this._pollBuild=function(){var e=Object(W.a)(V.a.mark(function e(n,a){var r,o,i,s,c;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.nextWatcherId.toString(),t.nextWatcherId++,t.runningWatchers[r]=!0,o=null;case 4:if(t.userProfile){e.next=6;break}return e.abrupt("return");case 6:if(i=t.userProfile,s=i.getAuthorizationHeader,c=i.profile){e.next=9;break}return e.abrupt("return");case 9:return e.prev=9,console.info("Checking progress of build ".concat(n,"...")),e.next=13,Object(A.d)(s,c.uid,n);case 13:o=e.sent,t.onBuildUpdated&&t.onBuildUpdated(o),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.warn("Error while watching build progress:",e.t0);case 20:return e.next=22,G(a);case 22:if(t.runningWatchers[r]){e.next=25;break}return console.info("Stopping watch of build ".concat(n,".")),e.abrupt("return");case 25:if(o&&"pending"===o.status){e.next=4;break}case 26:console.info("Watch of build ".concat(n," finished."));case 27:case"end":return e.stop()}},e,null,[[9,17]])}));return function(t,n){return e.apply(this,arguments)}}()}return Object(r.a)(e,[{key:"start",value:function(e){var t=this,n=e.userProfile,a=e.builds,r=e.onBuildUpdated;this.stop(),this.userProfile=n,this.onBuildUpdated=r,a.forEach(function(e){"pending"===e.status&&((!e.createdAt||e.createdAt<Date.now()-432e5)&&(!e.updatedAt||e.updatedAt<Date.now()-432e5)?console.info("Ignoring a build for polling as it's too old and still pending",e):t._pollBuild(e.id,a.length>1?5e3:1500))})}},{key:"stop",value:function(){this.runningWatchers={}}}]),e}(),H=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={builds:null},n.buildsWatcher=new z,n._startBuildsWatcher=function(){n.state.builds&&n.buildsWatcher.start({userProfile:n.props.userProfile,builds:n.state.builds,onBuildUpdated:function(e){n.state.builds&&n.setState({builds:n.state.builds.map(function(t){return e.id===t.id?e:t})})}})},n._refreshBuilds=function(){var e=n.props.userProfile,t=e.getAuthorizationHeader,a=e.profile;a&&Object(A.f)(t,a.uid).then(function(e){n.setState({builds:e},function(){n._startBuildsWatcher(),n.props.onBuildsUpdated&&n.props.onBuildsUpdated()})},function(){})},n._download=function(e,t){var n=Object(A.e)(e,t);n&&D.b.openExternalURL(n)},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this._refreshBuilds()}},{key:"componentWillUnmount",value:function(){this.buildsWatcher.stop()}},{key:"render",value:function(){return u.a.createElement(L,{builds:this.state.builds,onDownload:this._download})}}]),t}(l.Component),Y=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))))._onBuildsUpdated=function(){n.forceUpdate()},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,n=e.onClose,a=e.userProfile;return t?u.a.createElement(d.a,{title:u.a.createElement(c.Trans,{id:"All your builds"}),onRequestClose:n,actions:[u.a.createElement(m.a,{label:u.a.createElement(c.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n})],secondaryActions:[u.a.createElement(p.a,{key:"help",helpPagePath:"/publishing"})],open:t,noMargin:!0},u.a.createElement(H,{onBuildsUpdated:this._onBuildsUpdated,userProfile:a})):null}}]),t}(l.Component),K=n(265),X=n(83),J=n(9),Z=n(25),q=n(593),Q=function(e){var t=e.subscription,n=e.limit,a=e.onChangeSubscription;if(!n)return l.createElement(C.a,null);var r=t&&!!t.planId,o=t&&!t.planId;return l.createElement(j.a,{noMargin:!0},l.createElement(w.a,null,l.createElement(c.Trans,{id:"You have {0} remaining builds for today (out of {1}).",values:{0:Math.max(n.max-n.current,0),1:n.max}})),r&&n.limitReached&&l.createElement(w.a,null,l.createElement(c.Trans,{id:"Need more power? You can upgrade to a new plan to increase the limit!"})),r&&n.limitReached&&l.createElement(j.b,{justifyContent:"center",alignItems:"center"},l.createElement(x.a,{label:l.createElement(c.Trans,{id:"Upgrade my account"}),onClick:a,primary:!0})),o&&l.createElement(w.a,null,l.createElement(c.Trans,{id:"You don't have a subscription. Get one to increase the limits!"})),o&&l.createElement(j.b,{justifyContent:"center",alignItems:"center"},l.createElement(x.a,{label:l.createElement(c.Trans,{id:"Get a subscription"}),onClick:a,primary:!0})))},$=n(584),ee=n(2272),te=n(2209),ne=n(2265),ae=n(2271),re=n(2195),oe=n(147),ie={stepper:{flex:1},linearProgress:{flex:1}},se=function(e){var t=e.exportStep,n=e.onDownload,a=e.build,r=e.stepMaxProgress,o=e.stepCurrentProgress,i=e.errored,s=e.hasBuildStep,u=e.showSeeAllMyBuildsExplanation;return l.createElement(ee.a,{activeStep:"export"===t||"resources-download"===t?0:"compress"===t||"upload"===t?1:"waiting-for-build"===t||"build"===t?2:"done"===t?s?2:1:-1,orientation:"vertical",style:ie.stepper},l.createElement(te.a,null,l.createElement(ne.a,null,l.createElement(c.Trans,{id:"Game export"})),l.createElement(ae.a,null,i?l.createElement(oe.a,{kind:"error"},l.createElement(c.Trans,{id:"Can't properly export the game."})," ",l.createElement(c.Trans,{id:"Please check your internet connection or try again later."})):"resources-download"===t?l.createElement(j.a,{expand:!0,noMargin:!0},l.createElement(w.a,null,l.createElement(c.Trans,{id:"Downloading game resources..."})),l.createElement(j.b,{expand:!0},l.createElement(k.a,{style:ie.linearProgress,value:r>0?o/r*100:0,variant:"determinate"}))):l.createElement(j.a,{expand:!0,noMargin:!0},l.createElement(w.a,null,l.createElement(c.Trans,{id:"Export in progress..."})),l.createElement(j.b,{expand:!0},l.createElement(k.a,{style:ie.linearProgress}))))),s&&l.createElement(te.a,null,l.createElement(ne.a,null,l.createElement(c.Trans,{id:"Upload to build service"})),l.createElement(ae.a,null,i?l.createElement(oe.a,{kind:"error"},l.createElement(c.Trans,{id:"Can't upload your game to the build service."})," ",l.createElement(c.Trans,{id:"Please check your internet connection or try again later."})):"compress"===t?l.createElement(j.b,{alignItems:"center"},l.createElement(re.a,{size:20}),l.createElement(j.c,null),l.createElement(w.a,null,l.createElement(c.Trans,{id:"Compressing before upload..."}))):l.createElement(j.b,{alignItems:"center",expand:!0},l.createElement(k.a,{style:ie.linearProgress,value:r>0?o/r*100:0,variant:"determinate"})))),s&&l.createElement(te.a,null,l.createElement(ne.a,null,l.createElement(c.Trans,{id:"Build and download"})),l.createElement(ae.a,null,i&&l.createElement(oe.a,{kind:"error"},l.createElement(c.Trans,{id:"Build could not start or errored. Please check your internet connection or try again later."})),!a&&!i&&l.createElement(w.a,null,l.createElement(c.Trans,{id:"Build is starting..."})),a&&l.createElement(P,{build:a,onDownload:n}),u&&l.createElement(O.a,null,l.createElement(c.Trans,{id:"If you close this window while the build is being done, you can see its progress and download the game later by clicking on See All My Builds below."})))),!s&&l.createElement(te.a,null,l.createElement(ne.a,null,l.createElement(c.Trans,{id:"Done"})),l.createElement(ae.a,null)))},ce=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={exportStep:"",build:null,compressionOutput:null,stepCurrentProgress:0,stepMaxProgress:0,doneFooterOpen:!1,errored:!1,exportState:n.props.exportPipeline.getInitialExportState(n.props.project)},n.buildsWatcher=new z,n._updateStepProgress=function(e,t){return n.setState({stepCurrentProgress:e,stepMaxProgress:t})},n._startBuildWatch=function(e){n.state.build&&n.buildsWatcher.start({userProfile:e,builds:[n.state.build],onBuildUpdated:function(e){return n.setState({build:e})}})},n.launchWholeExport=function(e){var t=function(e){return e},a=n.props,r=a.project,o=a.exportPipeline;if(Object(J.d)(o.name),Object($.a)(t,Object($.b)(t,r))){var i=function(e){return function(t){throw n.state.errored||(n.setState({errored:!0}),Object(Z.a)(e+(t.message?"\n".concat(t.message):""),{exportStep:n.state.exportStep,rawError:t})),t}},s={project:r,updateStepProgress:n._updateStepProgress,exportState:n.state.exportState};n.setState({exportStep:"export",stepCurrentProgress:0,stepMaxProgress:0,errored:!1,build:null}),o.prepareExporter(s).then(function(e){return o.launchExport(s,e)},i(t("Error while preparing the exporter."))).then(function(e){return n.setState({exportStep:"resources-download"}),o.launchResourcesDownload(s,e)},i(t("Error while exporting the game."))).then(function(e){return n.setState({exportStep:"compress"}),o.launchCompression(s,e)},i(t("Error while exporting the game."))).then(function(a){var r=o.launchUpload,c=o.launchOnlineBuild;return r&&c?(n.setState({exportStep:"upload"}),r(s,a).then(function(t){return n.setState({exportStep:"waiting-for-build"}),c(n.state.exportState,e,t)},i(t("Error while uploading the game. Check your internet connection or try again later."))).then(function(t){return n.setState({build:t,exportStep:"build"},function(){n._startBuildWatch(e)}),{compressionOutput:a}},i(t("Error while lauching the build of the game.")))):{compressionOutput:a}},i(t("Error while compressing the game."))).then(function(e){var t=e.compressionOutput;n.setState({compressionOutput:t,doneFooterOpen:!0,exportStep:"done"})}).catch(function(){})}},n._downloadBuild=function(e){var t=Object(A.e)(n.state.build,e);t&&D.b.openExternalURL(t)},n._closeDoneFooter=function(){return n.setState({doneFooterOpen:!1})},n._updateExportState=function(e){n.setState(function(t){return Object(X.a)({},t,{exportState:e(t.exportState)})})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillUnmount",value:function(){this.buildsWatcher.stop()}},{key:"render",value:function(){var e=this,t=this.state,n=t.exportStep,a=t.compressionOutput,r=t.build,o=t.stepMaxProgress,i=t.stepCurrentProgress,s=t.errored,c=t.doneFooterOpen,l=t.exportState,d=this.props,p=d.project,m=d.userProfile,h=d.exportPipeline;if(!p)return null;var f=function(e){return e.limits&&h.onlineBuildType?e.limits[h.onlineBuildType]:null};return u.a.createElement(j.a,{noMargin:!0},u.a.createElement(j.b,null,h.renderHeader({project:p,exportState:l,updateExportState:this._updateExportState})),(!h.onlineBuildType||m.authenticated)&&u.a.createElement(j.b,{justifyContent:"center"},u.a.createElement(x.a,{label:h.renderLaunchButtonLabel(),primary:!0,onClick:function(){return e.launchWholeExport(m)},disabled:!function(e){if(!s&&""!==n&&"done"!==n)return!1;var t=f(e);return(!t||!t.limitReached)&&h.canLaunchBuild(l)}(m)})),!!h.onlineBuildType&&m.authenticated&&u.a.createElement(Q,{subscription:m.subscription,limit:f(m),onChangeSubscription:this.props.onChangeSubscription}),!!h.onlineBuildType&&!m.authenticated&&u.a.createElement(q.a,{onLogin:m.onLogin,onCreateAccount:m.onCreateAccount}),u.a.createElement(j.b,{expand:!0},u.a.createElement(se,{exportStep:n,hasBuildStep:!!h.onlineBuildType,build:r,onDownload:this._downloadBuild,stepMaxProgress:o,stepCurrentProgress:i,errored:s})),c&&h.renderDoneFooter&&h.renderDoneFooter({compressionOutput:a,exportState:l,onClose:this._closeDoneFooter}))}}]),t}(l.Component),le=n(199);var ue=function(){var e=l.useState("undefined"===typeof navigator||"boolean"!==typeof navigator.onLine||navigator.onLine),t=Object(le.a)(e,2),n=t[0],a=t[1],r=function(){return a(!0)},o=function(){return a(!1)};return l.useEffect(function(){return window.addEventListener("online",r),window.addEventListener("offline",o),function(){window.removeEventListener("online",r),window.removeEventListener("offline",o)}},[]),n},de=function(e){return(0,e.children)(ue())};n.d(t,"a",function(){return me});var pe={icon:{width:40,height:40},disabledItem:{opacity:.6},content:{padding:24}},me=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={chosenExporterKey:"",showExperimental:!1,buildsDialogOpen:!1},n.chooseExporter=function(e){n.setState({chosenExporterKey:e})},n._showExperimental=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({showExperimental:e})},n._openBuildsDialog=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({buildsDialogOpen:e})},n._renderExporterListItem=function(e,t,a){return l.createElement(f.b,{key:e.key,disabled:a||e.disabled,style:a||e.disabled?pe.disabledItem:void 0,leftIcon:e.renderIcon({style:pe.icon}),primaryText:e.name,secondaryText:e.description,secondaryTextLines:2,onClick:function(){return n.chooseExporter(e.key)}})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.onClose,r=t.allExportersRequireOnline,o=t.onChangeSubscription,i=t.exporters,s=this.state,u=s.showExperimental,g=s.chosenExporterKey;if(!n)return null;var v=i.find(function(e){return e.key===g});return l.createElement(K.a.Consumer,null,function(t){return l.createElement(de,null,function(s){var y=!!r&&!s;return l.createElement(d.a,{title:l.createElement(c.Trans,{id:"Export project to a standalone game"}),onRequestClose:a,actions:[g&&l.createElement(m.a,{label:l.createElement(c.Trans,{id:"Back"}),key:"back",primary:!1,onClick:function(){return e.chooseExporter("")}}),l.createElement(m.a,{label:l.createElement(c.Trans,{id:"Close"}),key:"close",primary:!1,onClick:a})],secondaryActions:[l.createElement(p.a,{key:"help",helpPagePath:v&&v.helpPage||"/publishing"}),l.createElement(m.a,{key:"builds",label:l.createElement(c.Trans,{id:"See all my builds"}),onClick:function(){return e._openBuildsDialog(!0)}})],open:!0,noMargin:!0},y&&l.createElement(oe.a,{kind:"error"},l.createElement(c.Trans,{id:"You must be online and have a proper internet connection to export your game."})),!v&&l.createElement(l.Fragment,null,l.createElement(f.a,null,i.filter(function(e){return!e.advanced&&!e.experimental}).map(function(t,n){return e._renderExporterListItem(t,n,y)}),l.createElement(h.a,null,"Advanced"),i.filter(function(e){return e.advanced}).map(function(t,n){return e._renderExporterListItem(t,n,y)}),u&&l.createElement(h.a,null,"Experimental"),u&&i.filter(function(e){return e.experimental}).map(function(t,n){return e._renderExporterListItem(t,n,y)})),l.createElement(j.b,{justifyContent:"center",alignItems:"center"},u?l.createElement(m.a,{key:"toggle-experimental",icon:l.createElement(E.a,null),primary:!1,onClick:function(){return e._showExperimental(!1)},label:l.createElement(c.Trans,{id:"Hide experimental exports"})}):l.createElement(m.a,{key:"toggle-experimental",icon:l.createElement(b.a,null),primary:!1,onClick:function(){return e._showExperimental(!0)},label:l.createElement(c.Trans,{id:"Show experimental exports"})}))),v&&v.exportPipeline&&l.createElement("div",{style:pe.content},l.createElement(ce,{exportPipeline:v.exportPipeline,project:n,onChangeSubscription:o,userProfile:t})),l.createElement(Y,{open:e.state.buildsDialogOpen,onClose:function(){return e._openBuildsDialog(!1)},userProfile:t}))})})}}]),t}(l.Component)},834:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(747),d=n.n(u),p=n(749),m=n.n(p),h=n(169),f=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.props.children}}]),t}(c.Component),g=Object(h.DragDropContext)(d()(m.a))(f),b=n(2210),v=n(841),E=n(83),y=n(26),j=n(371),O=(n(13),n(78)),C=n(88),x=n(90),T=n(92),S=n(80),k=n(98),w=n(2195),N={progress:{marginLeft:8,verticalAlign:"middle"}},_=function(e){var t=e.children,n=e.isLoading;return c.createElement("span",null,t,n&&c.createElement(w.a,{size:20,style:N.progress}))},P=n(267),I=n(89),B=n(180),M=function(e){if(e)return"auth/invalid-email"===e.code?"This email is invalid":"auth/user-disabled"===e.code?"The user was disabled":"auth/user-not-found"===e.code?"This user was not found: have you created your account?":"auth/email-already-in-use"===e.code?"This email was already used for another account":"auth/operation-not-allowed"===e.code?"Service seems to be unavailable, please try again later":void 0},F=function(e){if(e)return"auth/wrong-password"===e.code?"The password is invalid":"auth/weak-password"===e.code?"This password is too weak: please use more letters and digits":void 0},R=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={form:{email:"",password:""}},n._onCreateAccount=function(){var e=n.state.form;n.props.onCreateAccount(e)},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,a=t.createAccountInProgress,r=t.onGoToLogin,o=t.error;return l.a.createElement(T.a,{title:l.a.createElement(O.Trans,{id:"Create a new GDevelop account"}),actions:[l.a.createElement(C.a,{label:l.a.createElement(O.Trans,{id:"Back"}),disabled:a,key:"close",primary:!1,onClick:n}),l.a.createElement(P.a,{isLoading:a,key:"create-account"},l.a.createElement(x.a,{label:l.a.createElement(O.Trans,{id:"Create my account"}),primary:!0,disabled:a,onClick:this._onCreateAccount}))],secondaryActions:[l.a.createElement(C.a,{label:l.a.createElement(O.Trans,{id:"Already have an account?"}),primary:!1,key:"already-have-account",onClick:r})],onRequestClose:function(){a||n()},maxWidth:"sm",open:!0},l.a.createElement(S.a,{noMargin:!0},l.a.createElement(B.a,null,l.a.createElement(O.Trans,{id:"By creating an account and using GDevelop, you agree to the Terms and Conditions. Having an account allows to export your game on Android, as a desktop app and unlock other services for your project!"})),l.a.createElement(k.b,{value:this.state.form.email,floatingLabelText:l.a.createElement(O.Trans,{id:"Email"}),errorText:M(o),fullWidth:!0,onChange:function(t,n){e.setState({form:Object(E.a)({},e.state.form,{email:n})})}}),l.a.createElement(k.b,{value:this.state.form.password,floatingLabelText:l.a.createElement(O.Trans,{id:"Password"}),errorText:F(o),type:"password",fullWidth:!0,onChange:function(t,n){e.setState({form:Object(E.a)({},e.state.form,{password:n})})}})))}}]),t}(c.Component),L=n(147),A=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={form:{email:"",password:""}},n._onLogin=function(){var e=n.state.form;n.props.onLogin(e)},n._onForgotPassword=function(){var e=n.state.form;n.props.onForgotPassword(e)},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,a=t.onGoToCreateAccount,r=t.loginInProgress,o=t.error,i=t.resetPasswordDialogOpen,s=t.onCloseResetPasswordDialog,c=t.forgotPasswordInProgress,u=[l.a.createElement(C.a,{label:l.a.createElement(O.Trans,{id:"Back"}),disabled:r||c,key:"back",primary:!1,onClick:n}),l.a.createElement(P.a,{isLoading:r,key:"login"},l.a.createElement(x.a,{label:l.a.createElement(O.Trans,{id:"Login"}),primary:!0,onClick:this._onLogin,disabled:r||c}))];return l.a.createElement(T.a,{title:l.a.createElement(O.Trans,{id:"Login to your GDevelop account"}),actions:u,secondaryActions:[l.a.createElement(_,{isLoading:c,key:"forgot-password"},l.a.createElement(C.a,{label:l.a.createElement(O.Trans,{id:"I forgot my password"}),primary:!1,disabled:r||c,onClick:this._onForgotPassword}))],onRequestClose:function(){r||c||n()},maxWidth:"sm",open:!0},l.a.createElement(S.a,{noMargin:!0},l.a.createElement(L.a,{kind:"info",renderRightButton:function(){return l.a.createElement(C.a,{label:l.a.createElement(O.Trans,{id:"Create my account"}),disabled:r||c,primary:!0,onClick:a})}},l.a.createElement(O.Trans,{id:"Don't have an account yet?"})),l.a.createElement(k.b,{value:this.state.form.email,floatingLabelText:l.a.createElement(O.Trans,{id:"Email"}),errorText:M(o),fullWidth:!0,onChange:function(t,n){e.setState({form:Object(E.a)({},e.state.form,{email:n})})}}),l.a.createElement(k.b,{value:this.state.form.password,floatingLabelText:l.a.createElement(O.Trans,{id:"Password"}),errorText:F(o),type:"password",fullWidth:!0,onChange:function(t,n){e.setState({form:Object(E.a)({},e.state.form,{password:n})})}})),l.a.createElement(T.a,{open:i,title:l.a.createElement(O.Trans,{id:"Reset your password"}),actions:[l.a.createElement(C.a,{label:l.a.createElement(O.Trans,{id:"Close"}),key:"close",onClick:s})]},l.a.createElement(S.a,{noMargin:!0},l.a.createElement(I.a,null,l.a.createElement(O.Trans,{id:"You should have received an email containing instructions to reset and set a new password. Once it's done, you can use your new password in GDevelop."})))))}}]),t}(c.Component),D=n(102),U=function(e,t,n){return e.setState(Object(D.a)({},t,!0)),n().then(function(n){return e.setState(Object(D.a)({},t,!1)),n}).catch(function(n){throw e.setState(Object(D.a)({},t,!1)),n})},V=n(25),W=n(9),G=n(265),z=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={userProfile:G.b,loginDialogOpen:!1,createAccountDialogOpen:!1,loginInProgress:!1,createAccountInProgress:!1,loginError:null,resetPasswordDialogOpen:!1,forgotPasswordInProgress:!1},n._fetchUserProfile=function(){var e=n.props.authentification;e.getUserProfile(function(t,a){if(t&&t.unauthenticated)return n.setState({userProfile:Object(E.a)({},n.state.userProfile,{authenticated:!1,profile:null,usages:null,limits:null,subscription:null})});!t&&a?n.setState({userProfile:Object(E.a)({},n.state.userProfile,{authenticated:!0,profile:a})},function(){a&&(Object(j.g)(e.getAuthorizationHeader,a.uid).then(function(e){return n.setState({userProfile:Object(E.a)({},n.state.userProfile,{usages:e})})}),Object(j.f)(e.getAuthorizationHeader,a.uid).then(function(e){return n.setState({userProfile:Object(E.a)({},n.state.userProfile,{subscription:e})})}),Object(j.e)(e.getAuthorizationHeader,a.uid).then(function(e){return n.setState({userProfile:Object(E.a)({},n.state.userProfile,{limits:e})})}))}):console.log("Unable to fetch user profile",t)})},n._doLogout=function(){n.props.authentification&&n.props.authentification.logout(),n._resetUserProfile()},n._doLogin=function(e){var t=n.props.authentification;t&&U(Object(y.a)(Object(y.a)(n)),"loginInProgress",function(){return t.login(e).then(function(){n._fetchUserProfile(),n.openLoginDialog(!1)},function(e){n.setState({loginError:e})})})},n._doCreateAccount=function(e){var t=n.props.authentification;t&&U(Object(y.a)(Object(y.a)(n)),"createAccountInProgress",function(){return t.createAccount(e).then(function(){n._fetchUserProfile(),n.openLoginDialog(!1),Object(W.j)(e.email)},function(e){n.setState({loginError:e})})})},n._doForgotPassword=function(e){var t=n.props.authentification;t&&U(Object(y.a)(Object(y.a)(n)),"forgotPasswordInProgress",function(){return t.forgotPassword(e).then(function(){n.openResetPassword(!0)},function(e){n.setState({loginError:e}),Object(V.c)("Unable to send you an email to reset your password. Please double-check that the email address that you've entered is valid.")})})},n.openResetPassword=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({resetPasswordDialogOpen:e})},n.openLoginDialog=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({loginDialogOpen:e,createAccountDialogOpen:!1})},n.openCreateAccountDialog=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({loginDialogOpen:!1,createAccountDialogOpen:e})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this._resetUserProfile(),this.props.authentification.onUserChange(this._fetchUserProfile)}},{key:"_resetUserProfile",value:function(){var e=this;this.setState({userProfile:Object(E.a)({},G.b,{onLogout:this._doLogout,onLogin:function(){return e.openLoginDialog(!0)},onCreateAccount:function(){return e.openCreateAccountDialog(!0)},onRefreshUserProfile:this._fetchUserProfile,getAuthorizationHeader:function(){return e.props.authentification.getAuthorizationHeader()}})})}},{key:"render",value:function(){var e=this;return c.createElement(c.Fragment,null,c.createElement(G.a.Provider,{value:this.state.userProfile},this.props.children),this.state.loginDialogOpen&&c.createElement(A,{onClose:function(){return e.openLoginDialog(!1)},onGoToCreateAccount:function(){return e.openCreateAccountDialog(!0)},onLogin:this._doLogin,loginInProgress:this.state.loginInProgress,error:this.state.loginError,onForgotPassword:this._doForgotPassword,resetPasswordDialogOpen:this.state.resetPasswordDialogOpen,onCloseResetPasswordDialog:function(){return e.openResetPassword(!1)},forgotPasswordInProgress:this.state.forgotPasswordInProgress}),this.state.createAccountDialogOpen&&c.createElement(R,{onClose:function(){return e.openCreateAccountDialog(!1)},onGoToLogin:function(){return e.openLoginDialog(!0)},onCreateAccount:this._doCreateAccount,createAccountInProgress:this.state.createAccountInProgress,error:this.state.loginError}))}}]),t}(c.Component),H=n(142),Y=n(2),K=n.n(Y),X=n(29),J=K()("electron"),Z=J?J.ipcRenderer:null,q=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={values:n._loadValuesFromLocalStorage()||H.c.values,setLanguage:n._setLanguage.bind(Object(y.a)(Object(y.a)(n))),setThemeName:n._setThemeName.bind(Object(y.a)(Object(y.a)(n))),setCodeEditorThemeName:n._setCodeEditorThemeName.bind(Object(y.a)(Object(y.a)(n))),setAutoDownloadUpdates:n._setAutoDownloadUpdates.bind(Object(y.a)(Object(y.a)(n))),checkUpdates:n._checkUpdates.bind(Object(y.a)(Object(y.a)(n))),setAutoDisplayChangelog:n._setAutoDisplayChangelog.bind(Object(y.a)(Object(y.a)(n))),showAlertMessage:n._showAlertMessage.bind(Object(y.a)(Object(y.a)(n))),verifyIfIsNewVersion:n._verifyIfIsNewVersion.bind(Object(y.a)(Object(y.a)(n))),setEventsSheetShowObjectThumbnails:n._setEventsSheetShowObjectThumbnails.bind(Object(y.a)(Object(y.a)(n))),setAutosaveOnPreview:n._setAutosaveOnPreview.bind(Object(y.a)(Object(y.a)(n))),setUseNewInstructionEditorDialog:n._setUseNewInstructionEditorDialog.bind(Object(y.a)(Object(y.a)(n))),setUseGDJSDevelopmentWatcher:n._setUseGDJSDevelopmentWatcher.bind(Object(y.a)(Object(y.a)(n))),setEventsSheetUseAssignmentOperators:n._setEventsSheetUseAssignmentOperators.bind(Object(y.a)(Object(y.a)(n))),setShowEffectParameterNames:n._setShowEffectParameterNames.bind(Object(y.a)(Object(y.a)(n)))},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e._checkUpdates()},1e4)}},{key:"_setLanguage",value:function(e){var t=this;this.setState(function(t){return{values:Object(E.a)({},t.values,{language:e})}},function(){return t._persistValuesToLocalStorage(t.state)})}},{key:"_setEventsSheetShowObjectThumbnails",value:function(e){var t=this;this.setState(function(t){return{values:Object(E.a)({},t.values,{eventsSheetShowObjectThumbnails:e})}},function(){return t._persistValuesToLocalStorage(t.state)})}},{key:"_setAutosaveOnPreview",value:function(e){var t=this;this.setState(function(t){return{values:Object(E.a)({},t.values,{autosaveOnPreview:e})}},function(){return t._persistValuesToLocalStorage(t.state)})}},{key:"_setUseNewInstructionEditorDialog",value:function(e){var t=this;this.setState(function(t){return{values:Object(E.a)({},t.values,{useNewInstructionEditorDialog:e})}},function(){return t._persistValuesToLocalStorage(t.state)})}},{key:"_setUseGDJSDevelopmentWatcher",value:function(e){var t=this;this.setState(function(t){return{values:Object(E.a)({},t.values,{useGDJSDevelopmentWatcher:e})}},function(){return t._persistValuesToLocalStorage(t.state)})}},{key:"_setEventsSheetUseAssignmentOperators",value:function(e){var t=this;this.setState(function(t){return{values:Object(E.a)({},t.values,{eventsSheetUseAssignmentOperators:e})}},function(){return t._persistValuesToLocalStorage(t.state)})}},{key:"_setShowEffectParameterNames",value:function(e){var t=this;this.setState(function(t){return{values:Object(E.a)({},t.values,{showEffectParameterNames:e})}},function(){return t._persistValuesToLocalStorage(t.state)})}},{key:"_setThemeName",value:function(e){var t=this;this.setState(function(t){return{values:Object(E.a)({},t.values,{themeName:e})}},function(){return t._persistValuesToLocalStorage(t.state)})}},{key:"_setCodeEditorThemeName",value:function(e){var t=this;this.setState(function(t){return{values:Object(E.a)({},t.values,{codeEditorThemeName:e})}},function(){return t._persistValuesToLocalStorage(t.state)})}},{key:"_setAutoDownloadUpdates",value:function(e){var t=this;this.setState(function(t){return{values:Object(E.a)({},t.values,{autoDownloadUpdates:e})}},function(){return t._persistValuesToLocalStorage(t.state)})}},{key:"_setAutoDisplayChangelog",value:function(e){var t=this;this.setState(function(t){return{values:Object(E.a)({},t.values,{autoDisplayChangelog:e})}},function(){return t._persistValuesToLocalStorage(t.state)})}},{key:"_checkUpdates",value:function(e){var t=this.props.disableCheckForUpdates;Z&&!t&&(e||this.state.values.autoDownloadUpdates?Z.send("updates-check-and-download"):Z.send("updates-check"))}},{key:"_verifyIfIsNewVersion",value:function(){var e=this,t=Object(X.b)(),n=this.state.values.lastLaunchedVersion;return n!==t&&(this.setState(function(e){return{values:Object(E.a)({},e.values,{lastLaunchedVersion:t})}},function(){return e._persistValuesToLocalStorage(e.state)}),void 0!==n)}},{key:"_showAlertMessage",value:function(e,t){var n=this;this.setState(function(n){return{values:Object(E.a)({},n.values,{hiddenAlertMessages:Object(E.a)({},n.values.hiddenAlertMessages,Object(D.a)({},e,!t))})}},function(){return n._persistValuesToLocalStorage(n.state)})}},{key:"_loadValuesFromLocalStorage",value:function(){try{var e=localStorage.getItem("gd-preferences");if(!e)return null;var t=JSON.parse(e);for(var n in H.c.values)H.c.values.hasOwnProperty(n)&&"undefined"===typeof t[n]&&(t[n]=H.c.values[n]);return t}catch(a){return null}}},{key:"_persistValuesToLocalStorage",value:function(e){try{localStorage.setItem("gd-preferences",JSON.stringify(e.values))}catch(t){console.warn("Unable to persist preferences",t)}return e}},{key:"render",value:function(){return c.createElement(H.b.Provider,{value:this.state},this.props.children)}}]),t}(c.Component),Q=n(1830),$=n(268),ee=n(241),te=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={eventsFunctionsExtensionsError:null,loadProjectEventsFunctionsExtensions:n._loadProjectEventsFunctionsExtensions.bind(Object(y.a)(Object(y.a)(n))),unloadProjectEventsFunctionsExtensions:n._unloadProjectEventsFunctionsExtensions.bind(Object(y.a)(Object(y.a)(n))),reloadProjectEventsFunctionsExtensions:n._reloadProjectEventsFunctionsExtensions.bind(Object(y.a)(Object(y.a)(n))),getEventsFunctionsExtensionWriter:function(){return n.props.eventsFunctionsExtensionWriter},getEventsFunctionsExtensionOpener:function(){return n.props.eventsFunctionsExtensionOpener}},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"_loadProjectEventsFunctionsExtensions",value:function(e){var t=this,n=this.props,a=n.i18n,r=n.eventsFunctionCodeWriter;return e&&r?Object(ee.e)(e,r,a).then(function(){return t.setState({eventsFunctionsExtensionsError:null})}).catch(function(e){t.setState({eventsFunctionsExtensionsError:e}),Object(V.a)(a._({id:"An error has occured during functions generation. If GDevelop is installed, verify that nothing is preventing GDevelop from writing on disk. If you're running GDevelop online, verify your internet connection and refresh functions from the Project Manager."}),e)}):Promise.resolve()}},{key:"_unloadProjectEventsFunctionsExtensions",value:function(e){Object(ee.f)(e)}},{key:"_reloadProjectEventsFunctionsExtensions",value:function(e){return e&&this._unloadProjectEventsFunctionsExtensions(e),this._loadProjectEventsFunctionsExtensions(e)}},{key:"render",value:function(){return c.createElement($.a.Provider,{value:this.state},this.props.children)}}]),t}(c.Component),ne=n(399);n.d(t,"a",function(){return ae});var ae=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.disableCheckForUpdates,n=e.authentification,a=e.children,r=e.eventsFunctionCodeWriter,o=e.eventsFunctionsExtensionWriter,i=e.eventsFunctionsExtensionOpener;return c.createElement(g,null,c.createElement(q,{disableCheckForUpdates:t},c.createElement(H.b.Consumer,null,function(e){var t=e.values,s=Object(v.a)(t.themeName);return c.createElement(Q.a,{language:t.language},c.createElement(ne.a.Provider,{value:s.gdevelopTheme},c.createElement(b.a,{theme:s.muiTheme},c.createElement(z,{authentification:n},c.createElement(O.I18n,{update:!0},function(e){var t=e.i18n;return c.createElement(te,{i18n:t,eventsFunctionCodeWriter:r,eventsFunctionsExtensionWriter:o,eventsFunctionsExtensionOpener:i},c.createElement($.a.Consumer,null,function(e){return a({i18n:t,eventsFunctionsExtensionsState:e})}))})))))})))}}]),t}(c.Component)},835:function(e,t,n){"use strict";var a={name:"Tomorrow-Night",themeName:"tomorrow-night",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"969896",token:"comment"},{foreground:"ced1cf",token:"keyword.operator.class"},{foreground:"ced1cf",token:"constant.other"},{foreground:"ced1cf",token:"source.php.embedded.line"},{foreground:"cc6666",token:"variable"},{foreground:"cc6666",token:"support.other.variable"},{foreground:"cc6666",token:"string.other.link"},{foreground:"cc6666",token:"string.regexp"},{foreground:"cc6666",token:"entity.name.tag"},{foreground:"cc6666",token:"entity.other.attribute-name"},{foreground:"cc6666",token:"meta.tag"},{foreground:"cc6666",token:"declaration.tag"},{foreground:"de935f",token:"constant.numeric"},{foreground:"de935f",token:"constant.language"},{foreground:"de935f",token:"support.constant"},{foreground:"de935f",token:"constant.character"},{foreground:"de935f",token:"variable.parameter"},{foreground:"de935f",token:"punctuation.section.embedded"},{foreground:"de935f",token:"keyword.other.unit"},{foreground:"f0c674",token:"entity.name.class"},{foreground:"f0c674",token:"entity.name.type.class"},{foreground:"f0c674",token:"support.type"},{foreground:"f0c674",token:"support.class"},{foreground:"b5bd68",token:"string"},{foreground:"b5bd68",token:"constant.other.symbol"},{foreground:"b5bd68",token:"entity.other.inherited-class"},{foreground:"b5bd68",token:"markup.heading"},{foreground:"8abeb7",token:"keyword.operator"},{foreground:"8abeb7",token:"constant.other.color"},{foreground:"81a2be",token:"entity.name.function"},{foreground:"81a2be",token:"meta.function-call"},{foreground:"81a2be",token:"support.function"},{foreground:"81a2be",token:"keyword.other.special-method"},{foreground:"81a2be",token:"meta.block-level"},{foreground:"b294bb",token:"keyword"},{foreground:"b294bb",token:"storage"},{foreground:"b294bb",token:"storage.type"},{foreground:"b294bb",token:"entity.name.tag.css"},{foreground:"ced2cf",background:"df5f5f",token:"invalid"},{foreground:"ced2cf",background:"82a3bf",token:"meta.separator"},{foreground:"ced2cf",background:"b798bf",token:"invalid.deprecated"}],colors:{"editor.foreground":"#C5C8C6","editor.background":"#1D1F21","editor.selectionBackground":"#373B41","editor.lineHighlightBackground":"#282A2E","editorCursor.foreground":"#AEAFAD","editorWhitespace.foreground":"#4B4E55"}}},r={name:"Monokai",themeName:"monokai",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"75715e",token:"comment"},{foreground:"e6db74",token:"string"},{foreground:"ae81ff",token:"constant.numeric"},{foreground:"ae81ff",token:"constant.language"},{foreground:"ae81ff",token:"constant.character"},{foreground:"ae81ff",token:"constant.other"},{foreground:"f92672",token:"keyword"},{foreground:"f92672",token:"storage"},{foreground:"66d9ef",fontStyle:"italic",token:"storage.type"},{foreground:"a6e22e",fontStyle:"underline",token:"entity.name.class"},{foreground:"a6e22e",fontStyle:"italic underline",token:"entity.other.inherited-class"},{foreground:"a6e22e",token:"entity.name.function"},{foreground:"fd971f",fontStyle:"italic",token:"variable.parameter"},{foreground:"f92672",token:"entity.name.tag"},{foreground:"a6e22e",token:"entity.other.attribute-name"},{foreground:"66d9ef",token:"support.function"},{foreground:"66d9ef",token:"support.constant"},{foreground:"66d9ef",fontStyle:"italic",token:"support.type"},{foreground:"66d9ef",fontStyle:"italic",token:"support.class"},{foreground:"f8f8f0",background:"f92672",token:"invalid"},{foreground:"f8f8f0",background:"ae81ff",token:"invalid.deprecated"},{foreground:"cfcfc2",token:"meta.structure.dictionary.json string.quoted.double.json"},{foreground:"75715e",token:"meta.diff"},{foreground:"75715e",token:"meta.diff.header"},{foreground:"f92672",token:"markup.deleted"},{foreground:"a6e22e",token:"markup.inserted"},{foreground:"e6db74",token:"markup.changed"},{foreground:"ae81ff",token:"constant.numeric.line-number.find-in-files - match"},{foreground:"e6db74",token:"entity.name.filename.find-in-files"}],colors:{"editor.foreground":"#F8F8F2","editor.background":"#272822","editor.selectionBackground":"#49483E","editor.lineHighlightBackground":"#3E3D32","editorCursor.foreground":"#F8F8F0","editorWhitespace.foreground":"#3B3A32","editorIndentGuide.activeBackground":"#9D550F","editor.selectionHighlightBorder":"#222218"}}},o={name:"Tomorrow",themeName:"tomorrow",themeData:{base:"vs",inherit:!0,rules:[{foreground:"8e908c",token:"comment"},{foreground:"666969",token:"keyword.operator.class"},{foreground:"666969",token:"constant.other"},{foreground:"666969",token:"source.php.embedded.line"},{foreground:"c82829",token:"variable"},{foreground:"c82829",token:"support.other.variable"},{foreground:"c82829",token:"string.other.link"},{foreground:"c82829",token:"string.regexp"},{foreground:"c82829",token:"entity.name.tag"},{foreground:"c82829",token:"entity.other.attribute-name"},{foreground:"c82829",token:"meta.tag"},{foreground:"c82829",token:"declaration.tag"},{foreground:"f5871f",token:"constant.numeric"},{foreground:"f5871f",token:"constant.language"},{foreground:"f5871f",token:"support.constant"},{foreground:"f5871f",token:"constant.character"},{foreground:"f5871f",token:"variable.parameter"},{foreground:"f5871f",token:"punctuation.section.embedded"},{foreground:"f5871f",token:"keyword.other.unit"},{foreground:"c99e00",token:"entity.name.class"},{foreground:"c99e00",token:"entity.name.type.class"},{foreground:"c99e00",token:"support.type"},{foreground:"c99e00",token:"support.class"},{foreground:"718c00",token:"string"},{foreground:"718c00",token:"constant.other.symbol"},{foreground:"718c00",token:"entity.other.inherited-class"},{foreground:"718c00",token:"markup.heading"},{foreground:"3e999f",token:"keyword.operator"},{foreground:"3e999f",token:"constant.other.color"},{foreground:"4271ae",token:"entity.name.function"},{foreground:"4271ae",token:"meta.function-call"},{foreground:"4271ae",token:"support.function"},{foreground:"4271ae",token:"keyword.other.special-method"},{foreground:"4271ae",token:"meta.block-level"},{foreground:"8959a8",token:"keyword"},{foreground:"8959a8",token:"storage"},{foreground:"8959a8",token:"storage.type"},{foreground:"ffffff",background:"c82829",token:"invalid"},{foreground:"ffffff",background:"4271ae",token:"meta.separator"},{foreground:"ffffff",background:"8959a8",token:"invalid.deprecated"}],colors:{"editor.foreground":"#4D4D4C","editor.background":"#FFFFFF","editor.selectionBackground":"#D6D6D6","editor.lineHighlightBackground":"#EFEFEF","editorCursor.foreground":"#AEAFAD","editorWhitespace.foreground":"#D1D1D1"}}},i={name:"Solarized-Dark",themeName:"solarized-dark",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"657b83",fontStyle:"italic",token:"comment"},{foreground:"2aa198",token:"string"},{foreground:"d30102",token:"string.regexp"},{foreground:"d33682",token:"constant.numeric"},{foreground:"268bd2",token:"variable.language"},{foreground:"268bd2",token:"variable.other"},{foreground:"859900",token:"keyword"},{foreground:"93a1a1",fontStyle:"bold",token:"storage"},{foreground:"cb4b16",token:"entity.name.class"},{foreground:"cb4b16",token:"entity.name.type.class"},{foreground:"268bd2",token:"entity.name.function"},{foreground:"859900",token:"punctuation.definition.variable"},{foreground:"d30102",token:"punctuation.section.embedded.begin"},{foreground:"d30102",token:"punctuation.section.embedded.end"},{foreground:"b58900",token:"constant.language"},{foreground:"b58900",token:"meta.preprocessor"},{foreground:"cb4b16",token:"support.function.construct"},{foreground:"cb4b16",token:"keyword.other.new"},{foreground:"cb4b16",token:"constant.character"},{foreground:"cb4b16",token:"constant.other"},{foreground:"6c71c4",token:"entity.other.inherited-class"},{foreground:"268bd2",fontStyle:"bold",token:"entity.name.tag"},{foreground:"657b83",token:"punctuation.definition.tag"},{foreground:"93a1a1",token:"entity.other.attribute-name"},{foreground:"268bd2",token:"support.function"},{foreground:"d30102",token:"punctuation.separator.continuation"},{foreground:"859900",token:"support.type"},{foreground:"859900",token:"support.class"},{foreground:"cb4b16",token:"support.type.exception"}],colors:{"editor.foreground":"#93A1A1","editor.background":"#002B36","editor.selectionBackground":"#073642","editor.lineHighlightBackground":"#073642","editorCursor.foreground":"#D30102","editorWhitespace.foreground":"#93A1A1"}}},s={name:"Solarized-Light",themeName:"solarized-light",themeData:{base:"vs",inherit:!0,rules:[{foreground:"93a1a1",token:"comment"},{foreground:"2aa198",token:"string"},{foreground:"d30102",token:"string.regexp"},{foreground:"d33682",token:"constant.numeric"},{foreground:"268bd2",token:"variable.language"},{foreground:"268bd2",token:"variable.other"},{foreground:"859900",token:"keyword"},{foreground:"073642",fontStyle:"bold",token:"storage"},{foreground:"268bd2",token:"entity.name.class"},{foreground:"268bd2",token:"entity.name.type.class"},{foreground:"268bd2",token:"entity.name.function"},{foreground:"859900",token:"punctuation.definition.variable"},{foreground:"d30102",token:"punctuation.section.embedded.begin"},{foreground:"d30102",token:"punctuation.section.embedded.end"},{foreground:"b58900",token:"constant.language"},{foreground:"b58900",token:"meta.preprocessor"},{foreground:"d30102",token:"support.function.construct"},{foreground:"d30102",token:"keyword.other.new"},{foreground:"cb4b16",token:"constant.character"},{foreground:"cb4b16",token:"constant.other"},{foreground:"268bd2",fontStyle:"bold",token:"entity.name.tag"},{foreground:"93a1a1",token:"punctuation.definition.tag.begin"},{foreground:"93a1a1",token:"punctuation.definition.tag.end"},{foreground:"93a1a1",token:"entity.other.attribute-name"},{foreground:"268bd2",token:"support.function"},{foreground:"d30102",token:"punctuation.separator.continuation"},{foreground:"859900",token:"support.type"},{foreground:"859900",token:"support.class"},{foreground:"cb4b16",token:"support.type.exception"}],colors:{"editor.foreground":"#586E75","editor.background":"#FDF6E3","editor.selectionBackground":"#073642","editor.lineHighlightBackground":"#EEE8D5","editorCursor.foreground":"#000000","editorWhitespace.foreground":"#93A1A1"}}},c={name:"Vibrant Ink",themeName:"vibrant-ink",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"ffffff",background:"0f0f0f",token:"text"},{background:"000000",token:"source.ruby.rails.embedded.html"},{foreground:"ffffff",background:"101010",token:"text.html.ruby"},{foreground:"ccff33",background:"000000",token:"invalid"},{foreground:"ccff33",background:"000000",token:"invalid.deprecated"},{foreground:"99cc99",token:"constant.numeric"},{foreground:"ffffff",background:"000000",token:"source"},{foreground:"9933cc",token:"comment"},{foreground:"339999",token:"constant"},{foreground:"ff6600",token:"keyword"},{foreground:"edf8f9",token:"keyword.preprocessor"},{foreground:"ffffff",token:"keyword.preprocessor directive"},{foreground:"ffcc00",token:"entity.name.function"},{foreground:"ffcc00",token:"storage.type.function.js"},{fontStyle:"italic",token:"variable.parameter"},{foreground:"772cb7",background:"070707",token:"source comment.block"},{foreground:"ffffff",token:"variable.other"},{foreground:"ffcc00",token:"support.function"},{foreground:"66ff00",token:"string"},{foreground:"aaaaaa",token:"string constant.character.escape"},{foreground:"000000",background:"cccc33",token:"string.interpolated"},{foreground:"44b4cc",token:"string.regexp"},{foreground:"cccc33",token:"string.literal"},{foreground:"555555",token:"string.interpolated constant.character.escape"},{fontStyle:"underline",token:"entity.name.class"},{fontStyle:"underline",token:"support.class.js"},{fontStyle:"italic underline",token:"entity.other.inherited-class"},{foreground:"ff6600",token:"meta.tag.inline.any.html"},{foreground:"ff6600",token:"meta.tag.block.any.html"},{foreground:"99cc99",fontStyle:"italic",token:"entity.other.attribute-name"},{foreground:"dde93d",token:"keyword.other"},{foreground:"ff6600",token:"meta.selector.css"},{foreground:"ff6600",token:"entity.other.attribute-name.pseudo-class.css"},{foreground:"ff6600",token:"entity.name.tag.wildcard.css"},{foreground:"ff6600",token:"entity.other.attribute-name.id.css"},{foreground:"ff6600",token:"entity.other.attribute-name.class.css"},{foreground:"999966",token:"support.type.property-name.css"},{foreground:"ffffff",token:"keyword.other.unit.css"},{foreground:"ffffff",token:"constant.other.rgb-value.css"},{foreground:"ffffff",token:"constant.numeric.css"},{foreground:"ffffff",token:"support.function.event-handler.js"},{foreground:"ffffff",token:"keyword.operator.js"},{foreground:"cccc66",token:"keyword.control.js"},{foreground:"ffffff",token:"support.class.prototype.js"},{foreground:"ff6600",token:"object.property.function.prototype.js"}],colors:{"editor.foreground":"#FFFFFF","editor.background":"#0F0F0F","editor.selectionBackground":"#6699CC","editor.lineHighlightBackground":"#333333","editorCursor.foreground":"#FFFFFF","editorWhitespace.foreground":"#404040"}}},l={name:"GitHub",themeName:"github",themeData:{base:"vs",inherit:!0,rules:[{foreground:"999988",fontStyle:"italic",token:"comment"},{foreground:"999999",fontStyle:"bold",token:"comment.block.preprocessor"},{foreground:"999999",fontStyle:"bold italic",token:"comment.documentation"},{foreground:"999999",fontStyle:"bold italic",token:"comment.block.documentation"},{foreground:"a61717",background:"e3d2d2",token:"invalid.illegal"},{fontStyle:"bold",token:"keyword"},{fontStyle:"bold",token:"storage"},{fontStyle:"bold",token:"keyword.operator"},{fontStyle:"bold",token:"constant.language"},{fontStyle:"bold",token:"support.constant"},{foreground:"445588",fontStyle:"bold",token:"storage.type"},{foreground:"445588",fontStyle:"bold",token:"support.type"},{foreground:"008080",token:"entity.other.attribute-name"},{foreground:"0086b3",token:"variable.other"},{foreground:"999999",token:"variable.language"},{foreground:"445588",fontStyle:"bold",token:"entity.name.type"},{foreground:"445588",fontStyle:"bold",token:"entity.other.inherited-class"},{foreground:"445588",fontStyle:"bold",token:"support.class"},{foreground:"008080",token:"variable.other.constant"},{foreground:"800080",token:"constant.character.entity"},{foreground:"990000",token:"entity.name.exception"},{foreground:"990000",token:"entity.name.function"},{foreground:"990000",token:"support.function"},{foreground:"990000",token:"keyword.other.name-of-parameter"},{foreground:"555555",token:"entity.name.section"},{foreground:"000080",token:"entity.name.tag"},{foreground:"008080",token:"variable.parameter"},{foreground:"008080",token:"support.variable"},{foreground:"009999",token:"constant.numeric"},{foreground:"009999",token:"constant.other"},{foreground:"dd1144",token:"string - string source"},{foreground:"dd1144",token:"constant.character"},{foreground:"009926",token:"string.regexp"},{foreground:"990073",token:"constant.other.symbol"},{fontStyle:"bold",token:"punctuation"},{foreground:"000000",background:"ffdddd",token:"markup.deleted"},{fontStyle:"italic",token:"markup.italic"},{foreground:"aa0000",token:"markup.error"},{foreground:"999999",token:"markup.heading.1"},{foreground:"000000",background:"ddffdd",token:"markup.inserted"},{foreground:"888888",token:"markup.output"},{foreground:"888888",token:"markup.raw"},{foreground:"555555",token:"markup.prompt"},{fontStyle:"bold",token:"markup.bold"},{foreground:"aaaaaa",token:"markup.heading"},{foreground:"aa0000",token:"markup.traceback"},{fontStyle:"underline",token:"markup.underline"},{foreground:"999999",background:"eaf2f5",token:"meta.diff.range"},{foreground:"999999",background:"eaf2f5",token:"meta.diff.index"},{foreground:"999999",background:"eaf2f5",token:"meta.separator"},{foreground:"999999",background:"ffdddd",token:"meta.diff.header.from-file"},{foreground:"999999",background:"ddffdd",token:"meta.diff.header.to-file"},{foreground:"4183c4",token:"meta.link"}],colors:{"editor.foreground":"#000000","editor.background":"#F8F8FF","editor.selectionBackground":"#B4D5FE","editor.lineHighlightBackground":"#FFFEEB","editorCursor.foreground":"#666666","editorWhitespace.foreground":"#BBBBBB"}}};n.d(t,"a",function(){return d});var u=[{name:"Visual Studio",themeName:"vs"},{name:"Visual Studio Dark",themeName:"vs-dark"},l,r,i,s,o,a,c],d=function(){return u}},836:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(196),d=n(78),p=n(1687),m=n(134),h=n(97),f=n(243),g=n(114),b=n(292),v={previewContainer:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",height:200,border:"#AAAAAA 1px solid",background:'url("res/transparentback.png") repeat'},icon:{width:60,height:60}},E=function(e){var t=e.renderIcon;return c.createElement("div",{style:v.previewContainer},t({style:v.icon}))},y=n(1689),j=n.n(y),O=n(1690),C=n.n(O),x=n(1691),T=n.n(x),S=n(1692),k=n.n(S),w=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state=n._loadFrom(n.props),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.resourceName===this.props.resourceName&&e.project===this.props.project&&e.resourcePath===this.props.resourcePath||this.setState(this._loadFrom(e))}},{key:"_loadFrom",value:function(e){var t=e.project,n=e.resourceName,a=t.getResourcesManager();return{resourceKind:a.hasResource(n)?a.getResource(n).getKind():null}}},{key:"render",value:function(){switch(this.state.resourceKind){case"image":return c.createElement(b.a,{project:this.props.project,resourceName:this.props.resourceName,resourcesLoader:this.props.resourcesLoader,style:this.props.style,onSize:this.props.onSize,resourcePath:this.props.resourcePath});case"audio":return c.createElement(E,{renderIcon:function(e){return c.createElement(j.a,e)}});case"json":return c.createElement(E,{renderIcon:function(e){return c.createElement(C.a,e)}});case"video":return c.createElement(E,{renderIcon:function(e){return c.createElement(T.a,e)}});case"font":return c.createElement(E,{renderIcon:function(e){return c.createElement(k.a,e)}});default:return null}}}]),t}(c.PureComponent),N=n(291),_={imagePreview:{flex:1},propertiesContainer:{padding:10,overflowY:"scroll",overflowX:"hidden",flex:2}},P=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).schema=[{name:"Resource name",valueType:"string",disabled:!0,getValue:function(e){return e.getName()},setValue:function(e,t){return e.setName(t)}},{name:"File",valueType:"string",getValue:function(e){return e.getFile()},setValue:function(e,t){return e.setFile(t)},onEditButtonClick:function(){return n._chooseResourcePath()}}],n._chooseResourcePath=function(){var e=n.props,t=e.resources,a=e.onResourcePathUpdated,r=e.onChooseResource,o=e.resourceSources,i=t[0],s=o.filter(function(e){return e.kind===i.getKind()});s.length&&r(s[0].name).then(function(e){e.length&&(i.setFile(e[0].getFile()),e.forEach(function(e){return e.delete()}),a(),n.forceUpdate())})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"_renderEmpty",value:function(){return c.createElement(h.a,null,c.createElement(d.Trans,{id:"Resources are automatically added to your project whenever you add an image, a font or a video to an object or when you choose an audio file in events. Choose a resource to display its properties."}))}},{key:"_renderResourcesProperties",value:function(){var e=this.props,t=e.resources,n=e.project,a=t[0].getProperties(n),r=Object(N.a)(a,function(e){return e.getProperties(n)},function(e,t,a){return e.updateProperty(t,a,n)});return c.createElement("div",{style:_.propertiesContainer,key:t.map(function(e){return""+e.ptr}).join(";")},c.createElement(f.a,{schema:this.schema.concat(r),instances:t}))}},{key:"_renderPreview",value:function(){var e=this.props,t=e.resources,n=e.project,a=e.resourcesLoader;if(t&&t.length)return c.createElement(w,{style:_.imagePreview,resourceName:t[0].getName(),resourcePath:t[0].getFile(),resourcesLoader:a,project:n})}},{key:"render",value:function(){var e=this.props.resources;return c.createElement(m.a,{maxWidth:!0},this._renderPreview(),e&&e.length?this._renderResourcesProperties():this._renderEmpty())}}]),t}(c.Component),I=n(256),B=n(258),M=n(259),F=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.canDelete;return l.a.createElement(I.b,{lastChild:!0},l.a.createElement(B.a,{onClick:this.props.onOpenProjectFolder,src:"res/ribbon_default/open32.png",tooltip:{id:"Open the project folder"}}),l.a.createElement(M.a,null),l.a.createElement(B.a,{onClick:this.props.onOpenProperties,src:"res/ribbon_default/editprop32.png",tooltip:{id:"Open the properties panel"}}),l.a.createElement(M.a,null),l.a.createElement(B.a,{onClick:this.props.onDeleteSelection,src:"res/ribbon_default/deleteselected32.png",disabled:!e,tooltip:{id:"Delete the selected resource"}}))}}]),t}(c.PureComponent),R=n(350),L=n(472),A=n(2),D=n.n(A),U=D()("electron"),V=U?U.shell:null,W=D()("path"),G={container:{display:"flex",flex:1,position:"relative",overflow:"hidden"}},z=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).editorMosaic=null,n._propertiesEditor=null,n._resourcesList=null,n.resourcesLoader=g.a,n.state={showPropertiesInfoBar:!1,selectedResource:null},n.deleteResource=function(e){var t=n.props,a=t.project,r=t.onDeleteResource;e&&(confirm("Are you sure you want to remove this resource? This can't be undone.")&&r(e,function(t){t&&e&&(a.getResourcesManager().removeResource(e.getName()),n.setState({selectedResource:null},function(){n._resourcesList&&n._resourcesList.forceUpdateList(),n.updateToolbar()}))}))},n.openProjectFolder=function(){var e=n.props.project;V&&V.openItem(W.dirname(e.getProjectFile()))},n.openProperties=function(){n.editorMosaic&&(n.editorMosaic.openEditor("properties","start",66)||n.setState({showPropertiesInfoBar:!0}))},n._onResourceSelected=function(e){n.setState({selectedResource:e},function(){n._propertiesEditor&&n._propertiesEditor.forceUpdate(),n.updateToolbar()})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"updateToolbar",value:function(){var e=this;this.props.setToolbar(c.createElement(F,{onOpenProjectFolder:this.openProjectFolder,onOpenProperties:this.openProperties,canDelete:!!this.state.selectedResource,onDeleteSelection:function(){return e.deleteResource(e.state.selectedResource)}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.onRenameResource,r=t.onChooseResource,o=t.resourceSources,i=this.state.selectedResource,s={properties:{type:"secondary",title:c.createElement(d.Trans,{id:"Properties"}),renderEditor:function(){return c.createElement(P,{key:i?i.ptr:void 0,resources:i?[i]:[],project:n,resourcesLoader:e.resourcesLoader,ref:function(t){return e._propertiesEditor=t},onResourcePathUpdated:function(){e._resourcesList&&e._resourcesList.checkMissingPaths()},onChooseResource:r,resourceSources:o})}},"resources-list":{type:"primary",noTitleBar:!0,renderEditor:function(){return c.createElement(p.a,{project:n,onDeleteResource:e.deleteResource,onRenameResource:a,onSelectResource:e._onResourceSelected,selectedResource:i,ref:function(t){return e._resourcesList=t}})}}};return c.createElement("div",{style:G.container},c.createElement(R.a,{editors:s,ref:function(t){return e.editorMosaic=t},initialNodes:{direction:"row",first:"properties",second:"resources-list",splitPercentage:66}}),c.createElement(L.a,{message:c.createElement(d.Trans,{id:"Properties panel is already opened. After selecting a resource, inspect and change its properties from this panel."}),show:!!this.state.showPropertiesInfoBar,identifier:"resource-properties-panel-explanation"}))}}]),t}(c.Component);z.defaultProps={setToolbar:function(){}},n.d(t,"a",function(){return H});var H=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"render",value:function(){var e=this,t=this.props.project;return l.a.createElement(z,Object.assign({},this.props,{ref:function(t){return e.editor=t},project:t}))}}]),t}(u.a)},837:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(319),p=n.n(d),m=n(27),h=function(e){var t=e.trim();return 0===t.indexOf("https://")?t:"".concat(m.c.baseUrl,"/").concat(t)},f=function(){return p.a.get("".concat(m.c.baseUrl,"/extensions-registry.json")).then(function(e){return e.data})},g=function(e){return p.a.get(h(e.headerUrl)).then(function(e){return e.data})},b=function(e){return p.a.get(h(e.url)).then(function(e){return e.data})},v=n(103),E=n(153),y=n(92),j=n(88),O=n(267),C=n(80),x=n(90),T=n(97),S=function(e){var t=e.onRetry,n=e.children;return l.createElement(C.a,{expand:!0,alignItems:"center"},l.createElement(T.a,null,n),l.createElement(C.b,null,t&&l.createElement(x.a,{primary:!0,label:l.createElement(c.Trans,{id:"Retry"}),onClick:function(){return t()}})))},k=n(205),w=n(89),N=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={extensionHeader:null,error:null},n._loadExtensionheader=function(){n.setState({error:null}),g(n.props.extensionShortHeader).then(function(e){n.setState({extensionHeader:e})},function(e){n.setState({error:e})})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this._loadExtensionheader()}},{key:"render",value:function(){var e=this.props,t=e.isInstalling,n=e.extensionShortHeader,a=e.onClose,r=e.onInstall,o=e.alreadyInstalled,i=this.state,s=i.extensionHeader,l=i.error;return u.a.createElement(y.a,{title:s?s.fullName:n.fullName,actions:[u.a.createElement(j.a,{key:"close",label:u.a.createElement(c.Trans,{id:"Back"}),primary:!1,onClick:a,disabled:t}),u.a.createElement(O.a,{isLoading:t},u.a.createElement(j.a,{key:"install",label:o?u.a.createElement(c.Trans,{id:"Re-install/update"}):u.a.createElement(c.Trans,{id:"Install in project"}),primary:!0,onClick:r,disabled:t}))],open:!0,onRequestClose:a},s?u.a.createElement(k.a,{source:s.description,isStandaloneText:!0}):u.a.createElement(w.a,null,n.shortDescription),!s&&!l&&u.a.createElement(E.a,null),!s&&l&&u.a.createElement(S,{onRetry:this._loadExtensionheader},u.a.createElement(c.Trans,{id:"Can't load the extension registry. Verify your internet connection or try again later."})))}}]),t}(l.Component),_=n(118),P=n(25),I=n(268),B=n(586);n.d(t,"a",function(){return M}),n.d(t,"b",function(){return F});var M=function(e,t,n){var a=n.name;if(!a)return Promise.reject(new Error("Malformed extension (missing name)."));var r=t.hasEventsFunctionsExtensionNamed(a)?t.getEventsFunctionsExtension(a):t.insertNewEventsFunctionsExtension(a,0);return Object(_.c)(r,n,"unserializeFrom",t),e.loadProjectEventsFunctionsExtensions(t)},F=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={isInstalling:!1,extensionsRegistry:null,selectedExtensionShortHeader:null,searchText:"",error:null,chosenTag:""},n._loadExtensionsRegistry=function(){n.setState({error:null}),f().then(function(e){n.setState({extensionsRegistry:e},function(){n.props.onRegistryLoaded&&n.props.onRegistryLoaded()})},function(e){n.setState({error:e})})},n._install=function(e,t,a){var r=n.props.project;n.setState({isInstalling:!0}),b(a).then(function(e){return M(t,r,e).then(function(){n.setState({selectedExtensionShortHeader:null},function(){return n.props.onNewExtensionInstalled()})})},function(t){Object(P.a)(e._({id:"Unable to download and install the extension. Verify that your internet connection is working or try again later."}),t)}).then(function(){n.setState({isInstalling:!1})})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this._loadExtensionsRegistry()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.showOnlyWithBehaviors,r=this.state,o=r.selectedExtensionShortHeader,i=r.extensionsRegistry,s=r.searchText,l=r.isInstalling,d=r.error,p=r.chosenTag,m=i?function(e,t){var n=t.searchText,a=t.chosenTag,r=t.showOnlyWithBehaviors,o=e.filter(function(e){var t=e.eventsBasedBehaviorsCount;return!r||t>0});if(!n&&!a)return o;var i=n.toLowerCase();return o.filter(function(e){var t=e.tags;return!a||-1!==t.indexOf(a)}).filter(function(e){var t=e.name,a=e.shortDescription;return!n||-1!==t.toLowerCase().indexOf(i)||-1!==a.toLowerCase().indexOf(i)})}(i.extensionShortHeaders,{searchText:s,chosenTag:p,showOnlyWithBehaviors:a}):[];return u.a.createElement(c.I18n,null,function(t){var a=t.i18n;return u.a.createElement(I.a.Consumer,null,function(t){return u.a.createElement(u.a.Fragment,null,u.a.createElement(B.a,{value:s,onRequestSearch:function(){m.length&&e.setState({selectedExtensionShortHeader:m[0]})},onChange:function(t){return e.setState({searchText:t})},chips:i?i.allTags.map(function(e){return{text:e,value:e}}):null,chosenChip:p,onChooseChip:function(t){return e.setState({chosenTag:t})}}),u.a.createElement(v.a,null,!i&&!d&&u.a.createElement(E.a,null),!!i&&m.slice(0,20).map(function(t){var a=n.hasEventsFunctionsExtensionNamed(t.name);return u.a.createElement(v.b,{key:t.name,primaryText:u.a.createElement("span",null,t.fullName," ",a&&u.a.createElement(c.Trans,{id:"(already installed)"})),secondaryText:t.shortDescription,secondaryTextLines:2,onClick:function(){return e.setState({selectedExtensionShortHeader:t})}})}),!!i&&m.length>20&&u.a.createElement(T.a,null,u.a.createElement(c.Trans,{id:"There are other results not displayed. Enter more precise search criteria to find other extensions."})),!i&&d&&u.a.createElement(S,{onRetry:e._loadExtensionsRegistry},u.a.createElement(c.Trans,{id:"Can't load the extension registry. Verify your internet connection or try again later."}))),!!o&&u.a.createElement(N,{isInstalling:l,extensionShortHeader:o,alreadyInstalled:n.hasEventsFunctionsExtensionNamed(o.name),onInstall:function(){return e._install(a,t,o)},onClose:function(){return e.setState({selectedExtensionShortHeader:null})}}))})})}}]),t}(l.Component)},838:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(186),p=n(375),m=n(134),h=n(159),f=n(83),g=n(92),b=n(88),v=n(148),E=n(195),y=n(103),j=n(289),O=n.n(j),C=n(290),x=n.n(C),T=n(214),S=n(119),k=n(347),w=n(80),N=function(e){var t=e.objectMetadata,n=e.onClick;return""===t.name?null:u.a.createElement(y.b,{leftIcon:u.a.createElement(v.a,{src:t.iconFilename,iconSize:40,isGDevelopIcon:!0}),key:t.name,primaryText:t.fullName,secondaryText:t.description,secondaryTextLines:2,onClick:n})},_=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state=Object(f.a)({},n._loadFrom(n.props.project),{showExperimental:!1}),n._showExperimental=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({showExperimental:e})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"_loadFrom",value:function(e){return e&&e.getCurrentPlatform()?{objectMetadata:Object(T.b)(e)}:{objectMetadata:[]}}},{key:"componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.project!==e.project)&&this.setState(this._loadFrom(e.project))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.open,r=t.onClose,o=t.onChoose,i=this.state,s=i.objectMetadata,l=i.showExperimental;if(!a||!n)return null;var d=Object(k.b)(),p=s.filter(function(e){var t=e.name;return!d[t]}),m=s.filter(function(e){var t=e.name;return!!d[t]});return u.a.createElement(g.a,{title:u.a.createElement(c.Trans,{id:"Add a new object"}),secondaryActions:u.a.createElement(S.a,{helpPagePath:"/objects"}),actions:u.a.createElement(b.a,{label:u.a.createElement(c.Trans,{id:"Close"}),primary:!1,onClick:r}),onRequestClose:r,open:a,noMargin:!0},u.a.createElement(y.a,null,p.map(function(e){return u.a.createElement(N,{key:e.name,objectMetadata:e,onClick:function(){return o(e.name)}})}),l&&u.a.createElement(E.a,null,"Experimental (make sure to read the documentation page)"),l&&m.map(function(e){return u.a.createElement(N,{key:e.name,objectMetadata:e,onClick:function(){return o(e.name)}})})),u.a.createElement(w.b,{justifyContent:"center",alignItems:"center"},l?u.a.createElement(b.a,{key:"toggle-experimental",icon:u.a.createElement(x.a,null),primary:!1,onClick:function(){return e._showExperimental(!1)},label:u.a.createElement(c.Trans,{id:"Hide experimental objects"})}):u.a.createElement(b.a,{key:"toggle-experimental",icon:u.a.createElement(O.a,null),primary:!1,onClick:function(){return e._showExperimental(!0)},label:u.a.createElement(c.Trans,{id:"Show experimental objects"})})))}}]),t}(l.Component),P=n(231),I=n(144),B=n(208),M=n(118),F=n(25),R="Object",L=n(716),A=n(98),D=n(236),U=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={tagsString:n.props.tagsString},n._tagsField=l.createRef(),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e._tagsField&&e._tagsField.current&&e._tagsField.current.focus()},10)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onCancel,a=t.onEdit,r=this.state.tagsString,o=Object(D.c)(r);return l.createElement(g.a,{actions:[l.createElement(b.a,{key:"close",label:l.createElement(c.Trans,{id:"Cancel"}),primary:!1,onClick:n}),l.createElement(b.a,{key:"add",label:this.props.tagsString&&!o.length?l.createElement(c.Trans,{id:"Remove all tags"}):l.createElement(c.Trans,{id:"Add/update {0} tag(s)",values:{0:o.length}}),primary:!0,onClick:function(){return a(o)},disabled:!this.props.tagsString&&!o.length})],open:!0,onRequestClose:n},l.createElement(A.b,{fullWidth:!0,value:r,onChange:function(t,n){return e.setState({tagsString:n})},floatingLabelText:"Tag(s) (comma-separated)",hintText:{id:"For example: player, spaceship, inventory..."},onKeyPress:function(e){"Enter"===e.key&&a(o)},ref:this._tagsField}))}}]),t}(l.Component);n.d(t,"b",function(){return W}),n.d(t,"a",function(){return Y});var V={listContainer:{flex:1}},W="GD_OBJECT_WITH_CONTEXT",G=function(e){return e.object.getName()},z=function(e){return e.global},H=function(e){var t="";if(B.a.has(R)){var n=B.a.get(R);n&&(t=n.name)}return e?"Paste "+t+" as a Global Object":"Paste "+t},Y=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))))._displayedObjectWithContextsList=[],n.state={newObjectDialogOpen:!1,renamedObjectWithContext:null,variablesEditedObject:null,searchText:"",tagEditedObject:null},n.addObject=function(e){var t=n.props,a=t.project,r=t.objectsContainer,o=t.onEditObject,i=t.onObjectCreated,s=t.onObjectSelected,c=Object(I.a)("NewObject",function(e){return r.hasObjectNamed(e)||a.hasObjectNamed(e)}),l=r.insertNewObject(a,e,c,r.getObjectsCount());l.setTags(Object(D.b)(n.props.selectedObjectTags)),n.setState({newObjectDialogOpen:!1},function(){o&&(o(l),i(c),s(c))})},n.onAddNewObject=function(){n.setState({newObjectDialogOpen:!0})},n._deleteObject=function(e){var t=e.object,a=e.global,r=n.props,o=r.project,i=r.objectsContainer;confirm("Are you sure you want to remove this object? This can't be undone.")&&n.props.onDeleteObject(e,function(e){e&&(a?o.removeObject(t.getName()):i.removeObject(t.getName()),n.forceUpdate())})},n._copyObject=function(e){var t=e.object;B.a.set(R,{type:t.getType(),name:t.getName(),object:Object(M.b)(t)})},n._cutObject=function(e){n._copyObject(e),n._deleteObject(e)},n._duplicateObject=function(e){n._copyObject(e),n._pasteAndRename(e)},n._pasteAndRename=function(e){n._editName(n._paste(e))},n._paste=function(e){if(!B.a.has(R))return null;var t=e.object,a=e.global,r=B.a.get(R),o=r.object,i=r.type,s=r.name,c=n.props,l=c.project,u=c.objectsContainer,d=c.onObjectPasted,p=Object(I.a)(s,function(e){return u.hasObjectNamed(e)||l.hasObjectNamed(e)},""),m=a?l.insertNewObject(l,i,p,l.getObjectPosition(t.getName())):u.insertNewObject(l,i,p,u.getObjectPosition(t.getName()));return Object(M.c)(m,o,"unserializeFrom",l),m.setName(p),n.forceUpdate(),d&&d(m),{object:m,global:a}},n._editName=function(e){n.setState({renamedObjectWithContext:e},function(){n.sortableList&&n.sortableList.forceUpdateGrid()})},n._editVariables=function(e){n.setState({variablesEditedObject:e})},n._rename=function(e,t){var a=e.object;n.setState({renamedObjectWithContext:null}),n.props.canRenameObject(t)&&n.props.onRenameObject(e,t,function(e){e&&(a.setName(t),n.forceUpdate())})},n._canMoveSelectionTo=function(e){return n._displayedObjectWithContextsList.filter(function(e){return-1!==n.props.selectedObjectNames.indexOf(e.object.getName())}).filter(function(t){return t.global===e.global}).length>0},n._moveSelectionTo=function(e){var t=n.props,a=t.project,r=t.objectsContainer,o=e.global?a:r;n._displayedObjectWithContextsList.filter(function(e){return-1!==n.props.selectedObjectNames.indexOf(e.object.getName())}).forEach(function(t){t.global===e.global&&o.moveObject(o.getObjectPosition(t.object.getName()),o.getObjectPosition(e.object.getName()))}),n.forceUpdateList()},n._setAsGlobalObject=function(e){var t=e.object,a=n.props,r=a.project,o=a.objectsContainer,i=t.getName();o.hasObjectNamed(i)&&(r.hasObjectNamed(i)?Object(F.c)("A global object with this name already exists. Please change the object name before setting it as a global object"):confirm("This object will be loaded and available in all the scenes. This is only recommended for objects that you reuse a lot and can't be undone. Make this object global?")&&(o.moveObjectToAnotherContainer(i,r,r.getObjectsCount()),n.forceUpdateList()))},n.forceUpdateList=function(){n.forceUpdate(),n.sortableList&&n.sortableList.forceUpdateGrid()},n._openEditTagDialog=function(e){n.setState({tagEditedObject:e})},n._changeObjectTags=function(e,t){e.setTags(Object(D.b)(t)),n.forceUpdateList()},n._selectObject=function(e){n.props.onObjectSelected(e?e.object.getName():"")},n._getObjectThumbnail=function(e){return n.props.getThumbnail(n.props.project,e.object)},n._renderObjectMenuTemplate=function(e,t){var a=e.object;return[{label:"Edit object",click:function(){return n.props.onEditObject(a)}},{label:"Edit object variables",click:function(){return n._editVariables(a)}},{type:"separator"},{label:"Tags",submenu:Object(D.a)({noTagLabel:"No tags",getAllTags:n.props.getAllObjectTags,selectedTags:Object(D.c)(a.getTags()),onChange:function(e){n._changeObjectTags(a,e)},editTagsLabel:"Add/edit tags...",onEditTags:function(){return n._openEditTagDialog(a)}})},{label:"Rename",click:function(){return n._editName(e)}},{label:"Set as a global object",click:function(){return n._setAsGlobalObject(e)}},{label:"Delete",click:function(){return n._deleteObject(e)}},{type:"separator"},{label:"Add a new object...",click:function(){return n.onAddNewObject()}},{type:"separator"},{label:"Copy",click:function(){return n._copyObject(e)}},{label:"Cut",click:function(){return n._cutObject(e)}},{label:H(e.global),enabled:B.a.has(R),click:function(){return n._paste(e)}},{label:"Duplicate",click:function(){return n._duplicateObject(e)}}]},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.newObjectDialogOpen!==t.newObjectDialogOpen||this.state.renamedObjectWithContext!==t.renamedObjectWithContext||this.state.variablesEditedObject!==t.variablesEditedObject||this.state.searchText!==t.searchText||this.state.tagEditedObject!==t.tagEditedObject||(this.props.selectedObjectNames!==e.selectedObjectNames||this.props.selectedObjectTags!==e.selectedObjectTags||(this.props.project!==e.project||this.props.objectsContainer!==e.objectsContainer))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.objectsContainer,r=t.selectedObjectTags,o=this.state,i=o.searchText,s=o.tagEditedObject,l=Object(T.c)(n,a);this._displayedObjectWithContextsList=Object(T.f)(l.allObjectsList,{searchText:i,selectedTags:r});var f=this._displayedObjectWithContextsList.filter(function(t){return-1!==e.props.selectedObjectNames.indexOf(t.object.getName())}),g=this._displayedObjectWithContextsList.find(Object(T.g)(this.state.renamedObjectWithContext)),b=n.ptr+";"+a.ptr;return u.a.createElement(m.a,{maxWidth:!0},u.a.createElement(L.a,{tags:this.props.selectedObjectTags,onChange:this.props.onChangeSelectedObjectTags}),u.a.createElement("div",{style:V.listContainer},u.a.createElement(d.a,null,function(t){var n=t.height,a=t.width;return u.a.createElement(p.a,{key:b,ref:function(t){return e.sortableList=t},fullList:e._displayedObjectWithContextsList,width:a,height:n,getItemName:G,getItemThumbnail:e._getObjectThumbnail,isItemBold:z,onEditItem:function(t){return e.props.onEditObject(t.object)},onAddNewItem:e.onAddNewObject,addNewItemLabel:u.a.createElement(c.Trans,{id:"Add a new object"}),selectedItems:f,onItemSelected:e._selectObject,renamedItem:g,onRename:e._rename,buildMenuTemplate:e._renderObjectMenuTemplate,onMoveSelectionToItem:e._moveSelectionTo,canMoveSelectionToItem:e._canMoveSelectionTo,reactDndType:W})})),u.a.createElement(h.a,{value:i,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})}}),this.state.newObjectDialogOpen&&u.a.createElement(_,{open:this.state.newObjectDialogOpen,onClose:function(){return e.setState({newObjectDialogOpen:!1})},onChoose:this.addObject,project:n}),this.state.variablesEditedObject&&u.a.createElement(P.a,{open:!0,variablesContainer:this.state.variablesEditedObject&&this.state.variablesEditedObject.getVariables(),onCancel:function(){return e._editVariables(null)},onApply:function(){return e._editVariables(null)},title:u.a.createElement(c.Trans,{id:"Object Variables"}),emptyExplanationMessage:u.a.createElement(c.Trans,{id:"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it."}),emptyExplanationSecondMessage:u.a.createElement(c.Trans,{id:"For example, you can have a variable called Life representing the health of the object."})}),s&&u.a.createElement(U,{tagsString:s.getTags(),onEdit:function(t){e._changeObjectTags(s,t),e._openEditTagDialog(null)},onCancel:function(){return e._openEditTagDialog(null)}}))}}]),t}(u.a.Component)},839:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n(319),u=n.n(l),d=n(27),p=n(78),m=n(97),h=n(153),f=n(205),g=n(80),b=n(3),v=n(147),E=n(88),y=n(90),j=function(e){var t=e.releases,n=e.error,a=e.currentReleaseName,r=function(){return b.b.openExternalURL("https://github.com/4ian/GDevelop/releases")};if(n)return c.createElement(g.a,null,c.createElement(g.b,null,c.createElement(v.a,{kind:"warning"},c.createElement(p.Trans,{id:"Please double check online the changes to make sure that you are aware of anything new in this version that would require you to adapt your project."}))),c.createElement(g.b,null,c.createElement(m.a,null,c.createElement(p.Trans,{id:"Unable to load the information about the latest GDevelop releases. Verify your internet connection or retry later."}))),c.createElement(g.b,{justifyContent:"center"},c.createElement(y.a,{label:c.createElement(p.Trans,{id:"See the releases notes online"}),onClick:r})));if(!t)return c.createElement(h.a,null);var o=function(e,t){return e.find(function(e){return e.name===t})}(t,a),i=!!o&&-1!==(o.description||"").toLowerCase().indexOf("breaking change");return c.createElement(g.a,null,i&&c.createElement(v.a,{kind:"warning"},"This version of GDevelop has a breaking change. Please make sure to read the changes below to understand if any change or adaptation must be made to your project."),t.map(function(e){return e.name?c.createElement(f.a,{key:e.name,source:"# Version "+e.name+"\n---\n"+(e.description||"Changes and new features description will be available soon."),isStandaloneText:!0}):null}),c.createElement(g.b,{justifyContent:"center"},c.createElement(E.a,{label:c.createElement(p.Trans,{id:"See all the releases notes"}),onClick:r})))},O=n(29);n.d(t,"a",function(){return C});var C=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={releases:null,error:null},n._onUpdated=function(){n.props.onUpdated&&n.props.onUpdated()},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;u.a.get("".concat(d.f.baseUrl,"/release"),{params:{last:4}}).then(function(e){return e.data}).then(function(t){return e.setState({releases:t,error:null},e._onUpdated)}).catch(function(t){return e.setState({error:t},e._onUpdated)})}},{key:"render",value:function(){var e=this.state,t=e.releases,n=e.error;return c.createElement(j,{releases:t,error:n,currentReleaseName:Object(O.b)()})}}]),t}(c.Component)},840:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(83),l=n(78),u=n(10),d=n(90),p=n(80),m=n(103),h=n(89),f=n(153),g=n(1797),b=n(810),v=n.n(b),E=n(3),y=n(2),j=n.n(y);n.d(t,"a",function(){return x});var O=j()("electron"),C={};Object.keys(v.a).forEach(function(e){var t=v.a[e];C[e]=Object(c.a)({},t,{searchableDescription:t.description.replace(/ /g,"").toLowerCase()})});var x=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={searchText:"",chosenExtensionName:""},n.changeSearchText=function(e){n.setState({searchText:e,chosenExtensionName:""})},n.chooseExtensionName=function(e){n.setState({searchText:"",chosenExtensionName:e})},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"_submitExample",value:function(){E.b.openExternalURL("https://github.com/4ian/GDevelop/issues/new?body=".concat(encodeURIComponent("Hi!\n\n  I'd like to submit a new example to be added to GDevelop.\n  Here is the link to download it: **INSERT the link to your game here, or add it as an attachment**.\n\n  I confirm that any assets can be used freely by anybody, including for commercial usage.\n  "),"&title=New%20example"))}},{key:"render",value:function(){var e=this,t=this.state,n=t.searchText,a=t.chosenExtensionName,r=n.toLowerCase();return u.createElement(p.a,{noMargin:!0},u.createElement(p.b,{noMargin:!0},u.createElement(g.a,{value:n,onChange:this.changeSearchText,chosenExtensionName:a,onExtensionNameChosen:this.chooseExtensionName})),u.createElement(p.b,{noMargin:!0},u.createElement(p.a,{expand:!0,noMargin:!0},u.createElement(m.a,null,this.props.exampleNames&&this.props.exampleNames.map(function(t){var o,i,s,c=(o=t).length?o[0].toUpperCase()+o.substr(1).replace(/-/g," "):"",l=function(e){return C[e]||{description:"",searchableDescription:"",usedExtensions:[]}}(t);return(!n||function(e,t){return!t||function(e,t){var n=t.toLowerCase();e=e.toLowerCase();for(var a=0,r=0;r<t.length;r++)n[r]===e[a]&&(a+=1);return a===e.length}(e,t)}(n,c)||-1!==l.searchableDescription.indexOf(r))&&(i=l.usedExtensions,!(s=a)||i&&i.find(function(e){return e.name===s}))?u.createElement(m.b,{key:t,primaryText:c,secondaryText:l.description,secondaryTextLines:2,onClick:function(){return e.props.onCreateFromExample(t)}}):null}),!this.props.exampleNames&&u.createElement(f.a,null)),!!O&&u.createElement(p.a,{expand:!0},u.createElement(h.a,null,u.createElement(l.Trans,{id:"Want to contribute to the examples?"})),u.createElement(p.b,{alignItems:"center",justifyContent:"center"},u.createElement(d.a,{label:u.createElement(l.Trans,{id:"Submit your example"}),onClick:this._submitExample}))))))}}]),t}(u.Component)},841:function(e,t,n){"use strict";var a=n(2096),r=n(145),o=(n(1002),n(1003),n(547),n(1004),n(1005),"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, 'Helvetica Neue', Helvetica, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"),i={gdevelopTheme:{palette:{canvasColor:"#303030"},message:{warning:"#ffa500",error:"#f00"},toolbar:{backgroundColor:"#252525",separatorColor:"#303030"},closableTabs:{fontFamily:o,backgroundColor:"#252525",textColor:"#878787",selectedBackgroundColor:"#3c4698",selectedTextColor:"#EEE",width:200,height:32,closeButtonWidth:24},imageThumbnail:{selectedBorderColor:"#4c92ff"},list:{itemsBackgroundColor:"#494949"},listItem:{groupBackgroundColor:"#252525",groupTextColor:"#AAA",deprecatedGroupTextColor:"#888",separatorColor:"#303030",selectedBackgroundColor:"#4c92ff",selectedTextColor:"#EEE",errorTextColor:"#ff2e16",warningTextColor:"#ffb032",selectedErrorBackgroundColor:"#ff2e16",selectedWarningBackgroundColor:"#ffb032"},emptyMessage:{shadowColor:"#000"},logo:{src:"res/GD-logo.png"},mosaicRootClassName:"mosaic-gd-dark-theme",eventsSheetRootClassName:"gd-events-sheet-dark-theme",tableRootClassName:"gd-table-dark-theme",markdownRootClassName:"gd-markdown-dark-theme",gdevelopIconsCSSFilter:""},muiTheme:Object(a.a)({typography:{fontFamily:o},palette:{type:"dark",common:{black:"rgba(110, 42, 42, 1)",white:"#fff"},background:{paper:"#303030",default:"#252525"},primary:{light:Object(r.e)("#2c6bf5",.05),main:"#2c6bf5",dark:Object(r.a)("#2c6bf5",.05),contrastText:"#fff"},secondary:{light:Object(r.e)("#EEE",.05),main:"#EEE",dark:Object(r.a)("#EEE",.05),contrastText:"#000"},text:{primary:"#DDD",secondary:"#CCC",disabled:"#888888",hint:"#CCC"}},overrides:{MuiTypography:{h6:{fontWeight:400}},MuiInput:{underline:{"&:before":{borderBottom:"1px solid #444444"}}},MuiAppBar:{colorPrimary:{backgroundColor:"#3c4698"}},MuiTabs:{root:{backgroundColor:"#3c4698"}},MuiTab:{textColorPrimary:{color:"#fff !important"}},MuiButtonBase:{root:{cursor:"default"}},MuiButton:{root:{borderRadius:0,fontWeight:400}}}})},s=n(546);n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var c={"GDevelop default":s.a,Dark:i},l=function(e){return c[e]||c["GDevelop default"]}},842:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(78),l=n(10),u=n.n(l),d=n(92),p=n(88),m=n(179),h=n(80),f=n(9),g=n(3),b=n(209),v=n(103),E=n(89),y=n(195),j=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(h.a,{noMargin:!0},u.a.createElement(h.b,null,u.a.createElement(h.a,null,u.a.createElement(E.a,null,u.a.createElement(c.Trans,{id:"Tutorials are available on GDevelop wiki. Choose a tutorial to read:"})))),u.a.createElement(h.b,null,u.a.createElement(h.a,{expand:!0,noMargin:!0},u.a.createElement(v.a,null,u.a.createElement(v.b,{primaryText:u.a.createElement(c.Trans,{id:"Geometry Monster Tutorial"}),secondaryText:u.a.createElement(c.Trans,{id:"Make a hyper-casual mobile game where the player must grab shapes and avoid bombs."}),onClick:function(){Object(f.n)("Geometry Monster"),g.b.openExternalURL(Object(b.a)("/tutorials/geometry-monster"))}}),u.a.createElement(v.b,{primaryText:u.a.createElement(c.Trans,{id:"Platformer Tutorial"}),secondaryText:u.a.createElement(c.Trans,{id:"Make a platform game from scratch."}),onClick:function(){Object(f.n)("Platformer"),g.b.openExternalURL(Object(b.a)("/tutorials/platform-game/start"))}}),u.a.createElement(v.b,{primaryText:u.a.createElement(c.Trans,{id:"Tank Shooter Tutorial"}),secondaryText:u.a.createElement(c.Trans,{id:"Make a simple tank shooter game from scratch."}),onClick:function(){Object(f.n)("Tank Shooter"),g.b.openExternalURL(Object(b.a)("/tutorials/tank-shooter"))}}),u.a.createElement(y.a,null,u.a.createElement(c.Trans,{id:"Community Tutorials"})),u.a.createElement(v.b,{primaryText:u.a.createElement(c.Trans,{id:"Endless Runner Tutorial"}),secondaryText:u.a.createElement(c.Trans,{id:"Make a simple game where the player must jump on platforms for as long as possible."}),secondaryTextLines:2,onClick:function(){Object(f.n)("Endless Runner"),g.b.openExternalURL(Object(b.a)("/tutorials/endless-runner"))}}),u.a.createElement(v.b,{primaryText:u.a.createElement(c.Trans,{id:"Endless Car Game Tutorial"}),secondaryText:u.a.createElement(c.Trans,{id:"Create a simple game where you must dodge the cars on the road."}),secondaryTextLines:2,onClick:function(){Object(f.n)("Endless Car Game"),g.b.openExternalURL(Object(b.a)("/tutorials/roadrider"))}}),u.a.createElement(v.b,{primaryText:u.a.createElement(c.Trans,{id:"Breakout Tutorial"}),secondaryText:u.a.createElement(c.Trans,{id:"Create a simple breakout game where you must destroy all the bricks on the screen."}),secondaryTextLines:2,onClick:function(){Object(f.n)("Breakout"),g.b.openExternalURL(Object(b.a)("/tutorials/breakout"))}})))))}}]),t}(l.PureComponent);n.d(t,"a",function(){return O});var O=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={currentTab:"starters"},n._onChangeTab=function(e){n.setState({currentTab:e})},n._showExamples=function(){return n._onChangeTab("examples")},n._onExamplesLoaded=function(){n.forceUpdate()},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,n=e.onClose,a=e.onOpen,r=e.onCreate;if(!t)return null;var o=this.props.examplesComponent,i=this.props.startersComponent;return l.createElement(d.a,{title:l.createElement(c.Trans,{id:"Create a new game"}),actions:[l.createElement(p.a,{key:"close",label:l.createElement(c.Trans,{id:"Close"}),primary:!1,onClick:n})],onRequestClose:n,open:t,noMargin:!0},l.createElement(h.a,{noMargin:!0},l.createElement(m.b,{value:this.state.currentTab,onChange:this._onChangeTab},l.createElement(m.a,{label:l.createElement(c.Trans,{id:"Starters"}),value:"starters"}),l.createElement(m.a,{label:l.createElement(c.Trans,{id:"Examples"}),value:"examples"}),l.createElement(m.a,{label:l.createElement(c.Trans,{id:"Tutorials"}),value:"tutorials"})),"starters"===this.state.currentTab&&l.createElement(i,{onOpen:a,onCreate:r,onShowExamples:this._showExamples}),"examples"===this.state.currentTab&&l.createElement(o,{onOpen:a,onCreate:r,onExamplesLoaded:this._onExamplesLoaded}),"tutorials"===this.state.currentTab&&l.createElement(j,null)))}}]),t}(l.Component)},843:function(e,t,n){"use strict";var a=n(120),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(135),u=n(78),d=n(10),p=n.n(d),m=n(186),h=n(134),f=n(159),g=n(83),b=n(103),v=n(98),E=n(100),y={groupName:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},textField:{top:v.c}},j=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;!e.editingName&&this.props.editingName&&setTimeout(function(){t.textField&&t.textField.focus()},100)}},{key:"render",value:function(){var e=this,t=this.props,n=t.group,a=t.style,r=t.isGlobalGroup,o=n.getName(),i=this.props.editingName?p.a.createElement(v.b,{id:"rename-object-field",margin:"none",ref:function(t){return e.textField=t},defaultValue:o,onBlur:function(t){return e.props.onRename(t.target.value)},onKeyPress:function(t){13===t.charCode&&e.textField.blur()},fullWidth:!0,style:y.textField}):p.a.createElement("div",{style:Object(g.a)({},y.groupName,{fontStyle:r?"italic":void 0,fontWeight:r?"bold":"normal"})},o);return p.a.createElement(E.a,null,function(t){return p.a.createElement(b.b,{style:Object(g.a)({borderBottom:"1px solid ".concat(t.listItem.separatorColor)},a),primaryText:i,displayMenuButton:!0,buildMenuTemplate:function(){return[{label:"Edit group",click:function(){return e.props.onEdit(n)}},{label:"Set as Global group",enabled:!e.props.isGlobalGroup,click:function(){return e.props.onSetAsGlobalGroup()},visible:!1!==e.props.canSetAsGlobalGroup},{label:"Rename",enabled:!!e.props.onEdit,click:function(){return e.props.onEditName()}},{label:"Delete",enabled:!!e.props.onEdit,click:function(){return e.props.onDelete()}}]},onClick:function(){e.props.editingName||e.props.onEdit(n)}})})}}]),t}(p.a.Component),O=n(144),C=n(25),x=n(411),T=n(189),S=n(214);n.d(t,"a",function(){return I});var k={listContainer:{flex:1}},w=Object(T.SortableElement)(function(e){var t=e.style,n=Object(l.a)(e,["style"]);return p.a.createElement("div",{style:t},p.a.createElement(j,n))}),N=Object(T.SortableElement)(function(e){var t=e.style,n=Object(l.a)(e,["style"]);return p.a.createElement("div",{style:t},p.a.createElement(x.a,n))}),_=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"forceUpdateGrid",value:function(){this.list&&this.list.forceUpdateGrid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.height,a=t.width,r=t.fullList;return p.a.createElement(m.c,{ref:function(t){return e.list=t},height:n,rowCount:r.length,rowHeight:b.d,rowRenderer:function(t){var n=t.index,a=t.key,o=t.style,i=r[n];if("add-groups-row"===i.key)return p.a.createElement(N,{index:r.length,key:a,style:o,disabled:!0,onClick:e.props.onAddGroup,primaryText:p.a.createElement(u.Trans,{id:"Click to add a group"})});var s=e.props.renamedGroupWithScope&&e.props.renamedGroupWithScope.group===i.group&&e.props.renamedGroupWithScope.global===i.global;return p.a.createElement(w,{index:n,key:i.group.ptr,group:i.group,style:o,onEdit:e.props.onEditGroup?function(){return e.props.onEditGroup(i.group)}:void 0,onEditName:function(){return e.props.onEditName(i)},onDelete:function(){return e.props.onDelete(i)},onRename:function(t){return e.props.onRename(i,t)},editingName:s,isGlobalGroup:i.global,canSetAsGlobalGroup:e.props.canSetAsGlobalGroup,onSetAsGlobalGroup:i.global?void 0:function(){return e.props.onSetAsGlobalGroup(i)}})},width:a})}}]),t}(d.Component),P=Object(T.SortableContainer)(_,{withRef:!0}),I=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).objectGroupsList=[],n.globalObjectGroupsList=[],n.state={renamedGroupWithScope:null,searchText:""},n.addGroup=function(){var e=n.props,t=e.globalObjectGroups,a=e.objectGroups,r=Object(O.a)("Group",function(e){return a.has(e)||t.has(e)});a.insertNew(r,a.count()),n.forceUpdate(),n.props.onGroupAdded&&n.props.onGroupAdded()},n._onDelete=function(e){var t=e.group,a=e.global,r=n.props,o=r.globalObjectGroups,i=r.objectGroups;confirm("Are you sure you want to remove this group? This can't be undone.")&&n.props.onDeleteGroup(e,function(e){e&&(a?o.remove(t.getName()):i.remove(t.getName()),n.forceUpdate(),n.props.onGroupRemoved&&n.props.onGroupRemoved())})},n._onEditName=function(e){n.setState({renamedGroupWithScope:e},function(){return n.sortableList.getWrappedInstance().forceUpdateGrid()})},n._onRename=function(e,t){var a=e.group,r=n.props,o=r.globalObjectGroups,i=r.objectGroups;n.setState({renamedGroupWithScope:null}),a.getName()!==t&&(i.has(t)||o.has(t)?Object(C.c)("Another object with this name already exists"):n.props.canRenameGroup(t)&&n.props.onRenameGroup(e,t,function(e){e&&(a.setName(t),n.forceUpdate(),n.props.onGroupRenamed&&n.props.onGroupRenamed())}))},n._onMove=function(e,t){var a=n.props,r=a.globalObjectGroups,o=a.objectGroups;if(e<n.objectGroupsList.length)o.move(e,Math.min(t,n.objectGroupsList.length-1));else{var i=e-n.objectGroupsList.length,s=t-n.objectGroupsList.length;r.move(i,Math.min(s,n.globalObjectGroupsList.length-1))}n.forceUpdate(),n.sortableList.getWrappedInstance().forceUpdateGrid()},n._setAsGlobalGroup=function(e){var t=e.group,a=n.props,r=a.globalObjectGroups,o=a.objectGroups,i=t.getName();r.has(i)?Object(C.c)("A global object with this name already exists. Please change the object name before setting it as a global object"):confirm("This group will be loaded and available in all the scenes. This is only recommended for groups that you reuse a lot and can't be undone. Make this group global?")&&(r.insert(t,r.count()),o.remove(i),n.forceUpdate())},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.renamedGroupWithScope!==t.renamedGroupWithScope||this.state.searchText!==t.searchText||(this.props.globalObjectGroups!==e.globalObjectGroups||this.props.objectGroups!==e.objectGroups)}},{key:"render",value:function(){var e=this,t=this.props,n=t.globalObjectGroups,r=t.objectGroups,o=this.state.searchText,i=Object(S.a)(r).map(function(e){return{group:e,global:!1}}),s=Object(S.a)(n).map(function(e){return{group:e,global:!0}});this.objectGroupsList=Object(S.e)(i,o),this.globalObjectGroupsList=Object(S.e)(s,o);var c=Object(S.e)([].concat(Object(a.a)(i),Object(a.a)(s)),o).concat({key:"add-groups-row",object:null}),l=r.ptr+";"+n.ptr;return p.a.createElement(h.a,null,p.a.createElement("div",{style:k.listContainer},p.a.createElement(m.a,null,function(t){var n=t.height,a=t.width;return p.a.createElement(P,{key:l,ref:function(t){return e.sortableList=t},fullList:c,width:a,height:n,renamedGroupWithScope:e.state.renamedGroupWithScope,onEditGroup:e.props.onEditGroup,onAddGroup:e.addGroup,onEditName:e._onEditName,onDelete:e._onDelete,onRename:e._onRename,canSetAsGlobalGroup:e.props.canSetAsGlobalGroup,onSetAsGlobalGroup:e._setAsGlobalGroup,onSortEnd:function(t){var n=t.oldIndex,a=t.newIndex;return e._onMove(n,a)},helperClass:"sortable-helper",distance:20})})),p.a.createElement(f.a,{value:o,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})}}))}}]),t}(p.a.Component);I.defaultProps={onDeleteGroup:function(e,t){return t(!0)},onRenameGroup:function(e,t,n){return n(!0)}}},88:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(135),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n(2185),d=n(80),p=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.primary,r=e.icon,o=e.keyboardFocused,i=Object(a.a)(e,["label","primary","icon","keyboardFocused"]);return l.createElement(u.a,Object.assign({size:"small",color:n?"primary":"default",autoFocus:o,focusRipple:!0},i),r,r&&l.createElement(d.c,null),t)}}]),t}(l.Component)},89:function(e,t,n){"use strict";var a=n(83),r=n(10),o=n(2184);t.a=function(e){var t=e.children,n=e.style,i=e.size,s=e.align,c=e.noShrink;return r.createElement(o.a,{variant:"title"===i?"h6":"body1",style:Object(a.a)({},n,{flexShrink:c?0:void 0,marginTop:6+(n&&n.marginTop||0),marginBottom:6+(n&&n.marginBottom||0)}),align:s||"inherit"},t)}},90:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(135),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n(2185),d=n(80),p=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.primary,r=e.labelPosition,o=e.icon,i=Object(a.a)(e,["label","primary","labelPosition","icon"]);return l.createElement(u.a,Object.assign({variant:"contained",size:"small",color:n?"primary":"default",focusRipple:!0},i),"before"!==r&&o,"before"!==r&&o&&l.createElement(d.c,null),t,"before"===r&&o&&l.createElement(d.c,null),"before"===r&&o)}}]),t}(l.Component)},909:function(e,t,n){},910:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(256),d=n(258),p=n(259),m=n(167),h=n(3),f=n(78),g=n(177),b=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={editorToolbar:null},n.isDev=h.b.isDev(),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"setEditorToolbar",value:function(e){this.setState({editorToolbar:e})}},{key:"render",value:function(){var e=this;return l.a.createElement(g.a,null,function(t){return l.a.createElement(f.I18n,null,function(t){t.i18n;return l.a.createElement(u.a,null,l.a.createElement(u.b,{firstChild:!0},e.props.showProjectIcons&&l.a.createElement(d.a,{onClick:e.props.toggleProjectManager,src:"res/ribbon_default/projectManager32.png",disabled:!e.props.hasProject,tooltip:{id:"Project manager"}}),e.props.showProjectIcons&&l.a.createElement(d.a,{onClick:e.props.exportProject,src:"res/ribbon_default/export32.png",disabled:!e.props.hasProject,tooltip:{id:"Export the game (Web, Android, iOS...)"}}),e.isDev&&l.a.createElement(m.a,{element:l.a.createElement(d.a,{src:"res/ribbon_default/bug32.png"}),buildMenuTemplate:function(){return[{label:"Request update from external editor",disabled:!e.props.requestUpdate,click:function(){return e.props.requestUpdate&&e.props.requestUpdate()}},{label:"Simulate update downloaded",disabled:!e.props.simulateUpdateDownloaded,click:function(){return e.props.simulateUpdateDownloaded&&e.props.simulateUpdateDownloaded()}},{label:"Simulate update available",disabled:!e.props.simulateUpdateAvailable,click:function(){return e.props.simulateUpdateAvailable&&e.props.simulateUpdateAvailable()}}]}}),l.a.createElement(p.a,null)),e.state.editorToolbar||l.a.createElement(u.b,null))})})}}]),t}(c.PureComponent);t.a=b},911:function(e,t,n){},912:function(e,t,n){},913:function(e,t,n){},914:function(e,t,n){},92:function(e,t,n){"use strict";var a=n(83),r=n(10),o=n(2188),i=n(2192),s=n(2191),c=n(2190),l=n(177),u={defaultBody:{overflowX:"hidden"},noMarginBody:{padding:0,overflowX:"hidden"},flexRowBody:{display:"flex",flexDirection:"row"},flexBody:{display:"flex"},actionsContainerWithSecondaryActions:{display:"flex",justifyContent:"space-between"},noTitleMargin:{padding:0}};t.a=function(e){var t=e.secondaryActions,n=e.actions,d=e.open,p=e.onRequestClose,m=e.maxWidth,h=e.noMargin,f=e.title,g=e.children,b=e.flexRowBody,v=e.flexBody,E=e.noTitleMargin,y=t?r.createElement(r.Fragment,null,r.createElement("div",{key:"secondary-actions"},t),r.createElement("div",{key:"actions"},n)):n;return r.createElement(l.a,null,function(e){return r.createElement(o.a,{open:d,onClose:p,fullWidth:!0,fullScreen:"small"===e,maxWidth:void 0!==m?m:"md",disableBackdropClick:!0},f&&r.createElement(c.a,{style:E?u.noTitleMargin:void 0},f),r.createElement(s.a,{style:Object(a.a)({},h?u.noMarginBody:u.defaultBody,b?u.flexRowBody:{},v?u.flexBody:{})},g),r.createElement(i.a,{style:t?u.actionsContainerWithSecondaryActions:void 0},y))})}},921:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(5),r=n(11),o=n(22),i=n(21),s=n(23),c=n(10),l=n.n(c),u=n(100),d=n(3),p=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.fileMetadata,t=["GDevelop 5"];return e&&t.push(e.fileIdentifier),d.b.setTitle(t.join(" - ")),l.a.createElement(u.a,null,function(e){return d.b.setTitleBarColor(e.toolbar.backgroundColor),null})}}]),t}(c.Component)},922:function(e,t,n){"use strict";var a=n(199),r=n(78),o=n(10),i=n.n(o),s=n(122),c=n(88),l=n(123),u=n(261),d=n(92),p=n(80),m=n(841),h=n(835),f=n(3),g=n(142),b=n(89),v=n(137),E=n(179);t.a=function(e){var t=e.onClose,n=i.a.useState("preferences"),o=Object(a.a)(n,2),y=o[0],j=o[1],O=i.a.useContext(g.b),C=O.values,x=O.setThemeName,T=O.setCodeEditorThemeName,S=O.setAutoDownloadUpdates,k=O.showAlertMessage,w=O.setAutoDisplayChangelog,N=O.setEventsSheetShowObjectThumbnails,_=O.setAutosaveOnPreview,P=O.setUseNewInstructionEditorDialog,I=O.setUseGDJSDevelopmentWatcher,B=O.setEventsSheetUseAssignmentOperators;return i.a.createElement(d.a,{actions:[i.a.createElement(c.a,{key:"close",label:i.a.createElement(r.Trans,{id:"Close"}),primary:!1,onClick:t})],onRequestClose:t,open:!0,title:i.a.createElement(r.Trans,{id:"GDevelop Preferences"}),maxWidth:"sm",noMargin:!0},i.a.createElement(E.b,{value:y,onChange:j},i.a.createElement(E.a,{label:i.a.createElement(r.Trans,{id:"Preferences"}),value:"preferences"}),i.a.createElement(E.a,{label:i.a.createElement(r.Trans,{id:"Hints & explanations"}),value:"hints"})),"preferences"===y&&i.a.createElement(p.a,null,i.a.createElement(b.a,{size:"title"},i.a.createElement(r.Trans,{id:"Appearance"})),i.a.createElement(v.a,{noMargin:!0},i.a.createElement(s.a,{floatingLabelText:i.a.createElement(r.Trans,{id:"UI Theme"}),value:C.themeName,onChange:function(e,t,n){return x(n)},fullWidth:!0},Object.keys(m.b).map(function(e){return i.a.createElement(l.a,{value:e,primaryText:e,key:e})})),i.a.createElement(s.a,{floatingLabelText:i.a.createElement(r.Trans,{id:"Code editor Theme"}),value:C.codeEditorThemeName,onChange:function(e,t,n){return T(n)},fullWidth:!0},Object(h.a)().map(function(e){return i.a.createElement(l.a,{value:e.themeName,primaryText:e.name,key:e.themeName})}))),i.a.createElement(p.b,{noMargin:!0},i.a.createElement(b.a,null,i.a.createElement(r.Trans,{id:"You can contribute and create your own themes:"})),i.a.createElement(c.a,{label:i.a.createElement(r.Trans,{id:"Learn more"}),onClick:function(){f.b.openExternalURL("https://github.com/4ian/GDevelop/tree/master/newIDE#theming")}})),i.a.createElement(b.a,{size:"title"},i.a.createElement(r.Trans,{id:"Updates"})),i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return S(t)},toggled:C.autoDownloadUpdates,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Auto download and install updates (recommended)"})})),i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return w(t)},toggled:C.autoDisplayChangelog,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Display What's New when a new version is launched (recommended)"})})),i.a.createElement(b.a,{size:"title"},i.a.createElement(r.Trans,{id:"Events Sheet"})),i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return N(t)},toggled:C.eventsSheetShowObjectThumbnails,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Display object thumbnails in Events Sheets"})})),i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return B(t)},toggled:C.eventsSheetUseAssignmentOperators,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Display assignment operators in Events Sheets"})})),i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return P(t)},toggled:C.useNewInstructionEditorDialog,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Use the new action/condition editor"})})),i.a.createElement(b.a,{size:"title"},i.a.createElement(r.Trans,{id:"Advanced"})),i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return _(t)},toggled:C.autosaveOnPreview,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Auto-save project on Preview"})})),f.b.isDev()&&i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return I(t)},toggled:C.useGDJSDevelopmentWatcher,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Watch changes in game engine (GDJS) sources and auto import them (dev only)"})}))),"hints"===y&&i.a.createElement(p.a,null,i.a.createElement(p.b,null,i.a.createElement(p.a,{noMargin:!0},i.a.createElement(b.a,null,i.a.createElement(r.Trans,{id:"Warn/show explanation about:"})),g.a.map(function(e){var t=e.key,n=e.label;return i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,n){return k(t,n)},toggled:!C.hiddenAlertMessages[t],labelPosition:"right",label:n}))})))))}},96:function(e,t){var n=function(e,t,n){for(var a=[],r=e;r<t;r++)a.push(n(r));return a};e.exports={mapFor:n,mapReverseFor:function(e,t,n){for(var a=[],r=t-1;r>=e;r--)a.push(n(r));return a},mapVector:function(e,t){return n(0,e.size(),function(n){return t(e.at(n),n)})}}},97:function(e,t,n){"use strict";var a=n(83),r=n(10),o=n(100),i=n(180),s={display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:10};t.a=function(e){return r.createElement(o.a,null,function(t){return r.createElement("div",{style:Object(a.a)({},s,e.style)},r.createElement(i.a,{style:e.messageStyle},e.children))})}},98:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return g}),n.d(t,"c",function(){return b});var a=n(83),r=n(5),o=n(11),i=n(22),s=n(21),c=n(23),l=n(10),u=n(24),d=n.n(u),p=n(78),m=n(2260),h=n(205),f=function(e){return{variant:"none"===e.margin?"standard":"filled",margin:"none"===e.margin?"none":"dense",hiddenLabel:"none"!==e.margin&&!e.floatingLabelText}},g=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o))))._input=l.createRef(),n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"focus",value:function(){this._input.current&&this._input.current.focus()}},{key:"blur",value:function(){this._input.current&&this._input.current.blur()}},{key:"getInputNode",value:function(){return this._input.current?d.a.findDOMNode(this._input.current):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.onChange||void 0,r=t.helperMarkdownText?l.createElement(h.a,{source:t.helperMarkdownText}):null;return l.createElement(p.I18n,null,function(o){var i=o.i18n;return l.createElement(m.a,Object.assign({type:void 0!==t.type?t.type:void 0,value:void 0!==t.value?t.value:void 0,defaultValue:void 0!==t.defaultValue?t.defaultValue:void 0,onChange:n?function(e){return n(e,e.target.value)}:void 0,error:!!t.errorText,helperText:t.errorText||r,disabled:t.disabled,InputLabelProps:{shrink:!!t.floatingLabelFixed||void 0},label:t.floatingLabelText,name:t.name,placeholder:t.hintText?i._(t.hintText):void 0,id:t.id,autoFocus:t.autoFocus,multiline:t.multiLine,rows:t.rows,rowsMax:t.rowsMax},f(t),{fullWidth:t.fullWidth,InputProps:{disableUnderline:void 0!==t.underlineShow&&!t.underlineShow,style:Object(a.a)({fontSize:t.style?t.style.fontSize:void 0,fontStyle:t.style?t.style.fontStyle:void 0},t.inputStyle),inputProps:{onKeyPress:t.onKeyPress,onKeyUp:t.onKeyUp,max:t.max,min:t.min,step:t.step}},style:t.style?{width:t.style.width||void 0,flex:t.style.flex||void 0,top:t.style.top||void 0}:void 0,onFocus:t.onFocus,onBlur:t.onBlur,inputRef:e._input}))})}}]),t}(l.Component),b=-7}}]);
//# sourceMappingURL=1.223d8ba7.chunk.js.map