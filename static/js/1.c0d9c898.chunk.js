(this["webpackJsonpgdevelop-ide"]=this["webpackJsonpgdevelop-ide"]||[]).push([[1],{100:function(e,t,n){"use strict";n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return k})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return F}));var a=n(78),o=n(2),s=n(2379),i=n(2376),r=n(2382),l=n(2383),c=n(2395),u=n(1084),d=n.n(u),h=n(598),p=n.n(h),m=n(2367),g=n(1082),b=n.n(g),f=n(276),E=n.n(f),v=n(277),y=n.n(v),C=n(1083),x=n.n(C),j=n(138),S=n(2371),T=n(141),O=n.n(T),w=n(597),N=n.n(w);const _=32,k=29,P={listItemText:{margin:"1px 0"}};class I extends o.Component{constructor(...e){super(...e),this.state={isOpen:!!this.props.initiallyOpen},this._renderListItemSecondaryAction=()=>{const e=this.props;return e.displayReloadButton?o.createElement(c.a,null,o.createElement(S.a,{title:e.reloadButtonTooltip},o.createElement(m.a,{size:"small",edge:"end","aria-label":"reload",onClick:e.onReload},o.createElement(b.a,null)))):e.buildMenuTemplate?e.displayMenuButton?o.createElement(c.a,null,o.createElement(j.a,{ref:e=>this._elementWithMenu=e,element:o.createElement(m.a,{size:"small",edge:"end","aria-label":"menu"},o.createElement(E.a,null)),buildMenuTemplate:e.buildMenuTemplate})):o.createElement(j.a,{ref:e=>this._elementWithMenu=e,element:o.createElement("div",null),buildMenuTemplate:e.buildMenuTemplate}):e.displayLinkButton?o.createElement(c.a,null,o.createElement(m.a,{size:"small",edge:"end","aria-label":"open link",onClick:e.onOpenLink},o.createElement(y.a,null))):e.displayRemoveButton?o.createElement(c.a,null,o.createElement(m.a,{size:"small",edge:"end","aria-label":"remove",onClick:e.onRemove},o.createElement(x.a,null))):null},this._openContextMenu=e=>{this._elementWithMenu&&this._elementWithMenu.open(e)}}render(){const e=this.props,t=this.state,n=e.renderNestedItems;if(n){const c=void 0===e.open?t.isOpen:e.open;return o.createElement(o.Fragment,null,o.createElement(i.a,{button:!0,dense:!0,disableRipple:!0,onClick:()=>{this.setState(e=>({isOpen:!e.isOpen})),e.onClick&&e.onClick()},disabled:e.disabled,style:e.style},e.leftIcon&&o.createElement(r.a,null,e.leftIcon),o.createElement(l.a,{style:P.listItemText,primary:e.primaryText,secondary:e.secondaryText}),e.autoGenerateNestedIndicator?c?o.createElement(d.a,null):o.createElement(p.a,null):null,this._renderListItemSecondaryAction()),c&&o.createElement(s.a,{component:"div",disablePadding:!0,style:Object(a.a)({paddingLeft:16},e.nestedListStyle),dense:!0},n()))}return o.createElement(i.a,{button:!0,dense:!0,disableRipple:!0,ContainerComponent:"div",onClick:e.onClick,onDoubleClick:e.onDoubleClick,disabled:e.disabled,selected:e.selected,style:e.style,onContextMenu:e.buildMenuTemplate?this._openContextMenu:void 0,alignItems:2===e.secondaryTextLines?"flex-start":void 0},e.leftIcon&&o.createElement(r.a,null,e.leftIcon),o.createElement(l.a,{style:P.listItemText,primary:e.primaryText,secondary:e.secondaryText}),this._renderListItemSecondaryAction(),e.displayAddIcon&&o.createElement(O.a,null),e.displaySearchIcon&&o.createElement(N.a,null))}}class F extends o.Component{render(){return o.createElement(s.a,{style:this.props.style,dense:!0},this.props.children)}}},101:function(e,t,n){"use strict";var a=n(2),o=n(265);t.a=e=>a.createElement(o.a.Consumer,null,t=>e.children(t))},104:function(e,t,n){"use strict";var a=n(127),o=n(2),s=n(2367),i=n(2371),r=n(72),l=n(24);n.d(t,"a",(function(){return c}));class c extends o.Component{render(){const e=this.props,t=e.tooltip,n=e.acceleratorString,c=Object(a.a)(e,["tooltip","acceleratorString"]),u=o.createElement(s.a,c);return t&&!this.props.disabled?o.createElement(r.I18n,null,({i18n:e})=>{return o.createElement(i.a,{title:e._(t)+(n?" "+(a=n,Object(l.f)()?"":Object(l.e)()?a.replace(/CmdOrCtrl\+/,"\u2318").replace(/CommandOrControl\+/,"\u2318").replace(/Super\+/,"\u2318").replace(/Shift\+/,"\u21e7").replace(/Alt\+/,"\u2325").replace(/Option\+/,"\u2325").replace(/Delete/,"\u2326").replace(/Backspace/,"\u232b"):a.replace(/CmdOrCtrl\+/,"Ctrl+").replace(/CommandOrControl\+/,"Ctrl+").replace(/Super\+/,"Win+").replace(/Option\+/,"Alt+").replace(/Delete/,"DEL")):""),placement:"bottom",enterDelay:300},u);var a}):u}}},105:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(78),o=n(2),s=n(75),i=n(156);const r={flexShrink:0},l={container:{flex:1,display:"flex",alignItems:"flex-start"},filledTextFieldWithLabelRightButtonMargins:Object(a.a)({},r,{marginTop:15,marginLeft:8}),filledTextFieldWithoutLabelRightButtonMargins:Object(a.a)({},r,{marginTop:6,marginLeft:8}),standardTextFieldWithLabelRightButtonMargins:Object(a.a)({},r,{marginTop:17,marginLeft:8}),standardTextFieldWithoutLabelRightButtonMargins:Object(a.a)({},r,{marginTop:0,marginLeft:8})},c=({margin:e,noFloatingLabelText:t,renderTextField:n,renderButton:a})=>o.createElement("div",{style:l.container},n(),a("none"===e?t?l.standardTextFieldWithoutLabelRightButtonMargins:l.standardTextFieldWithLabelRightButtonMargins:t?l.filledTextFieldWithoutLabelRightButtonMargins:l.filledTextFieldWithLabelRightButtonMargins)),u=({alignItems:e,justifyContent:t,expand:n,noMargin:a,children:r})=>{let l=!0;return o.createElement(i.a,null,i=>"small"===i?o.createElement(d,{noMargin:a,expand:!0},r):o.createElement(s.b,{alignItems:e,justifyContent:t,expand:n,noMargin:a},o.Children.map(r,(e,t)=>{if(!e)return null;const n=!l;return l=!1,o.createElement(o.Fragment,null,n&&o.createElement(s.c,null),e)})))},d=({alignItems:e,justifyContent:t,expand:n,noMargin:a,children:i})=>{let r=!0;return o.createElement(s.a,{alignItems:e,justifyContent:t,expand:n,noMargin:a},o.Children.map(i,(e,t)=>{if(!e)return null;const n=!r;return r=!1,o.createElement(o.Fragment,null,n&&o.createElement(s.c,null),e)}))}},1076:function(e,t,n){},1077:function(e,t,n){},1078:function(e,t,n){},1079:function(e,t,n){},1080:function(e,t,n){},1081:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(72),o=n(2),s=n.n(o),i=n(100),r=n(86),l=n(82),c=n(174),u=n(75),d=n(5),h=n(83),p=n(120),m=n(599),g=n(913),b=n(9);const f={logo:{width:"100%"}},E=[{name:"Victor Levasseur",description:"Numerous contributions to GDevelop core and various extensions"},{name:"Lizard-13",description:"Numerous contributions to GDevelop (particle engine, bugfixes, new conditions, examples, tutorials...)"},{name:"Christina 'Castpixel' Antoinette Neofotistou",description:"Art and assets for the 8-bit Space Shooter example.",link:"https://www.patreon.com/castpixel"},{name:"ale26reg",description:"Contributions to GDevelop"},{name:"dos1",description:"Contributions to GDevelop"},{name:"Aur\xe9lien Vivet",description:"Numerous contributions to GDevelop (Video extension, advanced shapes, bugfixes, new conditions, examples...)",link:"https://www.witly.fr"},{name:"Todor Imreorov",description:"Numerous contributions to GDevelop, added Piskel sprite editor and jfxr"},{name:"brylie",description:"Contributions to GDevelop"},{name:"Nnarol",description:"Contributions to GDevelop"},{name:"wild-master",description:"Contributions to GDevelop"},{name:"RandomShaper",description:"Contributions to GDevelop"},{name:"RyanNerd",description:"Contributions to GDevelop"},{name:"greater",description:"Contributions to GDevelop"},{name:"triptych",description:"Contributions to GDevelop"},{name:"Wend1go",description:"Contributions to GDevelop, Tutorials, Examples"},{name:"mattiascibien",description:"Contributions to GDevelop"},{name:"araujo921",description:"Contributions to GDevelop"},{name:"ronnystandtke",description:"Contributions to GDevelop"},{name:"Thomas Flecy",description:"Contributions to GDevelop (original sound object extension)"},{name:"Arthur Pacaud (arthuro555)",description:"Contributions to GDevelop and Moderation on the Forum",link:"https://forum.gdevelop-app.com/u/arthuro555/summary"},{name:"ddabrahim",description:"Lots of examples bundled with GDevelop",link:"https://gametemplates.itch.io/"},{name:"Gametemplates",description:"Examples bundled with GDevelop",link:"https://gametemplates.itch.io/"},{name:"Mats",description:"Tutorials, Examples"},{name:"erdo",description:"Tutorials, Examples"},{name:"Jubileuksen3",description:"Tutorials, Examples"},{name:"LucaTexas",description:"Tutorials, Examples"},{name:"Kink",description:"Forum moderator, tutorials, Examples"},{name:"RicoTrooper",description:"Tutorials"},{name:"kalel",description:"Tutorials"},{name:"mtarzaim",description:"Tutorials"},{name:"Darkhog",description:"Examples"},{name:"Ricardo Graca",description:"Tutorials, Examples"},{name:"Diego Schiavon",description:"Indiegogo Ubuntu contributor"},{name:"conceptgame",description:"Indiegogo super contributor"},{name:"Jose David Cuartas Correa",description:"Author of Digitopolis (a book on how to make games with GDevelop4)"},{name:"Fran\xe7ois Dumortier",description:"GDevelop logo design",link:"http://www.fdumortier.com"},{name:"Constantine Shvetsov",description:"Design of all the awesome icons"},{name:"MillionthVector",description:"Assets of various examples"}];class v extends o.PureComponent{constructor(...e){super(...e),this.state={currentTab:"about"},this._openContributePage=()=>{d.b.openExternalURL("https://gdevelop-app.com/contribute/")},this._openLink=e=>{e&&d.b.openExternalURL(e)},this._changeTab=e=>{this.setState({currentTab:e})}}render(){const e=this.props,t=e.open,n=e.onClose,o=e.updateStatus,v=this.state.currentTab;if(!t)return null;const y=Object(m.e)(o.status),C=Object(m.b)(o.status);return s.a.createElement(r.a,{actions:[s.a.createElement(l.a,{key:"website",label:s.a.createElement(a.Trans,{id:"GDevelop Website"}),primary:!1,onClick:()=>d.b.openExternalURL("http://gdevelop-app.com")}),s.a.createElement(l.a,{key:"close",label:s.a.createElement(a.Trans,{id:"Close"}),primary:!1,onClick:n})],onRequestClose:n,cannotBeDismissed:!1,open:t,maxWidth:"sm",noMargin:!0},s.a.createElement(p.b.Consumer,null,({values:e,checkUpdates:t})=>s.a.createElement(u.a,{noMargin:!0},s.a.createElement("img",{src:"res/GD-logo.png",alt:"GDevelop logo",style:f.logo}),s.a.createElement(c.b,{value:v,onChange:this._changeTab},s.a.createElement(c.a,{label:s.a.createElement(a.Trans,{id:"About GDevelop"}),value:"about"}),s.a.createElement(c.a,{label:s.a.createElement(a.Trans,{id:"What's new?"}),value:"changelog"}),s.a.createElement(c.a,{label:s.a.createElement(a.Trans,{id:"Contributors"}),value:"contributors"})),"about"===v&&s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,null,s.a.createElement(u.b,null,s.a.createElement(h.a,null,s.a.createElement(a.Trans,{id:"GDevelop {0} based on GDevelop.js {1}",values:{0:Object(b.b)(),1:Object(b.a)()}}))),s.a.createElement(u.b,null,s.a.createElement(h.a,null,y)),s.a.createElement(u.b,{justifyContent:"center"},!!y&&s.a.createElement(l.a,{label:C,onClick:()=>t(Object(m.a)(o.status))})))),"changelog"===v&&s.a.createElement(u.a,null,s.a.createElement(g.a,null)),"contributors"===v&&s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,null,s.a.createElement(h.a,null,s.a.createElement(a.Trans,{id:'GDevelop was created by Florian "4ian" Rival.'})),s.a.createElement(h.a,null,s.a.createElement(a.Trans,{id:"Contributors, in no particular order:"}))),s.a.createElement(i.a,null,E.map(e=>s.a.createElement(i.b,{key:e.name,primaryText:e.name,secondaryText:e.description,secondaryTextLines:e.description.length<30?1:2,displayLinkButton:!!e.link,onOpenLink:()=>this._openLink(e.link||"")}))),s.a.createElement(u.a,{expand:!0},s.a.createElement(h.a,null,s.a.createElement(a.Trans,{id:"Thanks to all users of GDevelop! There must be missing tons of people, please send your name if you've contributed and you're not listed."})),s.a.createElement(u.b,{alignItems:"center",justifyContent:"center"},s.a.createElement(l.a,{label:s.a.createElement(a.Trans,{id:"Contribute to GDevelop"}),onClick:this._openContributePage})))))))}}},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(127),o=n(2),s=n(94);class i extends o.Component{constructor(...e){super(...e),this.state={focused:!1,text:null},this._field=null}forceSetValue(e){this.setState({text:e})}forceSetSelection(e,t){const n=this.getInputNode();n&&(n.selectionStart=e,n.selectionEnd=t)}focus(){this._field&&this._field.focus()}getInputNode(){if(this._field)return this._field.getInputNode()}render(){const e=this.props,t=e.value,n=e.onChange,i=e.commitOnBlur,r=e.onFocus,l=e.onBlur,c=e.type,u=Object(a.a)(e,["value","onChange","commitOnBlur","onFocus","onBlur","type"]);return(o.createElement(s.b,Object.assign({},u,{type:c||"text",ref:e=>this._field=e,value:this.state.focused?this.state.text:t,onFocus:e=>{this.setState({focused:!0,text:this.props.value}),r&&r(e)},onChange:(e,t)=>{this.setState({text:t}),i||n(t)},onBlur:e=>{n(e.currentTarget.value),this.setState({focused:!1,text:null}),l&&l(e)}})))}}},1108:function(e,t,n){"use strict";var a=n(78),o=n(2),s=n(442),i=n(330),r=n(110),l=n(145),c=n(443),u=n.n(c),d=n(1110),h=n.n(d),p=n(94),m=n(104),g=n(613),b=n.n(g),f=n(612),E=n(83);const v=({width:e})=>o.createElement("div",{style:Object(a.a)({},f.a.indent,{width:e})},o.createElement(h.a,{htmlColor:f.a.indentIconColor}));t.a=({name:e,variable:t,depth:n,errorText:a,onBlur:c,onRemove:d,onAddChild:h,onChangeValue:g,onResetToDefaultValue:y,children:C,showHandle:x,showSelectionCheckbox:j,isSelected:S,onSelect:T,origin:O})=>{const w=t.isStructure(),N=""+n+e,_="parent"===O||"inherited"===O,k=[o.createElement(s.a,{key:"name",expand:!0},n>0&&o.createElement(v,{width:(n+1)*f.a.tableChildIndentation}),0===n&&x&&o.createElement(i.a,null),j&&!_&&o.createElement(l.a,{checked:S,onCheck:(e,t)=>T(t)}),o.createElement(p.b,{margin:"none",style:{fontStyle:"inherited"!==O?"normal":"italic"},fullWidth:!0,name:N+"name",defaultValue:e,errorText:a,onBlur:c,disabled:"parent"===O}))];return w?k.push(o.createElement(s.a,{expand:!0,key:"value",style:_?f.a.fadedButton:void 0},o.createElement(E.a,{noMargin:!0},"(Structure)"))):k.push(o.createElement(s.a,{key:"value",expand:!0},o.createElement(r.a,{margin:"none",commitOnBlur:!0,fullWidth:!0,name:N+"value",value:t.getString(),onChange:e=>{t.getString()!==e&&g(e)},multiline:!0,disabled:"parent"===O&&0!==n}))),k.push(o.createElement(s.a,{key:"tools",style:f.a.toolColumn},"inherited"===O&&0===n&&o.createElement(m.a,{size:"small",onClick:y,style:w?void 0:f.a.fadedButton,tooltip:{id:"Reset"}},o.createElement(b.a,null)),!("inherited"===O&&0===n)&&"parent"!==O&&o.createElement(m.a,{size:"small",onClick:h,style:w?void 0:f.a.fadedButton,tooltip:{id:"Add child variable"}},o.createElement(u.a,null)))),o.createElement("div",null,o.createElement(s.b,null,k),C)}},111:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(82),i=n(606),r=n.n(i),l=n(5),c=n(206);t.a=e=>e.helpPagePath?o.createElement(s.a,{onClick:()=>{e.helpPagePath&&l.b.openExternalURL(Object(c.a)(e.helpPagePath))},target:"_blank",label:e.label||o.createElement(a.Trans,{id:"Help"}),icon:o.createElement(r.a,null)}):null},1111:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c}));var a=n(78),o=n(444),s=n.n(o);const i=()=>({}),r=e=>s()(e).filter(e=>!!e),l=(e,t,n=!0)=>(console.log(t,n),Object(a.a)({},e,{[t.ptr]:n?t:null})),c=e=>!!s()(e).filter(e=>!!e).length},112:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(3),o=n.n(a);const s=o()("electron"),i=o()("path");class r{constructor(){this.projectCache={}}_getProjectCache(e){const t=this.projectCache[e.ptr];return t||(this.projectCache[e.ptr]={})}getCachedUrl(e,t){return this._getProjectCache(e)[t]}cacheUrl(e,t){return this._getProjectCache(e)[t]=t}burstUrl(e,t){delete this._getProjectCache(e)[t]}cacheLocalFileUrl(e,t,n,a){const o=this._getProjectCache(e);return o[t]=a?n:"".concat(n,"?cache=").concat(Date.now())}}class l{static _isLocalFile(e){return 0!==e.indexOf("data:")&&0!==e.indexOf("http://")&&0!==e.indexOf("https://")&&0!==e.indexOf("ftp://")}static burstUrlsCacheForResources(e,t){const n=e.getResourcesManager();t.forEach(t=>{n.hasResource(t)&&l._cache.burstUrl(e,n.getResource(t).getFile())})}static burstAllUrlsCache(){l._cache=new r}static getFullUrl(e,t,n=!1){const a=l._cache.getCachedUrl(e,t);if(a)return a;if(s&&l._isLocalFile(t)){const a=e.getProjectFile(),o=i.dirname(a),s=i.resolve(o,t).replace(/\\/g,"/");return console.info("Caching resolved local filename:",s),this._cache.cacheLocalFileUrl(e,t,"file://"+s,n)}return this._cache.cacheUrl(e,t)}static getResourceFullUrl(e,t,n=!1){if(e.getResourcesManager().hasResource(t)){const a=e.getResourcesManager().getResource(t).getFile();return l.getFullUrl(e,a,n)}return t}}l._cache=new r},1121:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="Variables"},114:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i}));const a=e.gd;function o(e,t="serializeTo"){const n=new a.SerializerElement;e[t](n);const o=JSON.parse(a.Serializer.toJSON(n));return n.delete(),o}function s(e,t="serializeTo"){const n=new a.SerializerElement;return e[t](n),a.Serializer.toJSON(n)}function i(e,t,n="unserializeFrom",o){const s=a.Serializer.fromJSObject(t);o?e[n](o,s):e[n](s),s.delete()}}).call(this,n(1))},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(2),o=n(72),s=n(2464),i=n(94),r=n(205);class l extends a.Component{constructor(...e){super(...e),this._input=a.createRef()}focus(){this._input.current&&this._input.current.focus()}render(){const e=this.props,t=e.onChange||void 0;let n=!0;const l=a.Children.map(e.children,e=>null!==e&&e.props?e.props.value:null);l?n=0!==l.filter(t=>t===e.value).length:console.error("SelectField has been passed no or invalid children. Only SelectOption and null are supported.");const c=n?e.value:"",u=e.helperMarkdownText?a.createElement(r.a,{source:e.helperMarkdownText}):null;return a.createElement(o.I18n,null,({i18n:o})=>a.createElement(s.a,Object.assign({select:!0},Object(i.a)(e),{disabled:e.disabled,fullWidth:e.fullWidth,label:e.floatingLabelText,helperText:u,value:c,onChange:t?e=>{t(e,-1,e.target.value)}:void 0,InputLabelProps:{shrink:!0},SelectProps:{native:!0},style:e.style,inputRef:this._input}),n?null:a.createElement("option",{value:"",disabled:!0},e.hintText?o._(e.hintText):o._({id:"Choose an option"})),e.children))}}},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),o=n(72);class s extends a.Component{render(){return a.createElement(o.I18n,null,({i18n:e})=>a.createElement("option",{value:this.props.value,disabled:this.props.disabled},e._(this.props.primaryText)))}}},120:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i}));var a=n(72),o=n(2);const s=[{key:"use-non-smoothed-textures",label:o.createElement(a.Trans,{id:"Using non smoothed textures"})},{key:"use-nearest-scale-mode",label:o.createElement(a.Trans,{id:"Using Nearest Scale Mode"})},{key:"maximum-fps-too-low",label:o.createElement(a.Trans,{id:"Maximum Fps is too low"})},{key:"minimum-fps-too-low",label:o.createElement(a.Trans,{id:"Minimum Fps is too low"})},{key:"function-extractor-explanation",label:o.createElement(a.Trans,{id:"Using function extractor"})},{key:"events-based-behavior-explanation",label:o.createElement(a.Trans,{id:"Using events based behavior"})},{key:"empty-events-based-behavior-explanation",label:o.createElement(a.Trans,{id:"Using empty events based behavior"})},{key:"too-much-effects",label:o.createElement(a.Trans,{id:"Using too much effects"})},{key:"effects-usage",label:o.createElement(a.Trans,{id:"Using effects"})},{key:"resource-properties-panel-explanation",label:o.createElement(a.Trans,{id:"Using the resource properties panel"})},{key:"instance-drag-n-drop-explanation",label:o.createElement(a.Trans,{id:"Using instance drag'n'drop"})},{key:"objects-panel-explanation",label:o.createElement(a.Trans,{id:"Using the objects panel"})},{key:"instance-properties-panel-explanation",label:o.createElement(a.Trans,{id:"Using the instance properties panel"})},{key:"layers-panel-explanation",label:o.createElement(a.Trans,{id:"Using the layers panel"})},{key:"instances-panel-explanation",label:o.createElement(a.Trans,{id:"Using the instances panel"})},{key:"physics2-shape-collisions",label:o.createElement(a.Trans,{id:"Collisions handling with the Physics engine"})},{key:"edit-instruction-explanation",label:o.createElement(a.Trans,{id:"How to edit instructions"})},{key:"lifecycle-events-function-included-only-if-extension-used",label:o.createElement(a.Trans,{id:"Lifecycle functions only included when extension used"})}],i={values:{language:"en",autoDownloadUpdates:!0,themeName:"GDevelop default",codeEditorThemeName:"vs-dark",hiddenAlertMessages:{},autoDisplayChangelog:!0,lastLaunchedVersion:void 0,eventsSheetShowObjectThumbnails:!0,autosaveOnPreview:!0,useNewInstructionEditorDialog:!0,useGDJSDevelopmentWatcher:!0,eventsSheetUseAssignmentOperators:!1,showEffectParameterNames:!1,projectLastUsedPaths:{},defaultEditorMosaicNodes:{}},setLanguage:()=>{},setThemeName:()=>{},setCodeEditorThemeName:()=>{},setAutoDownloadUpdates:()=>{},checkUpdates:()=>{},setAutoDisplayChangelog:()=>{},showAlertMessage:(e,t)=>{},verifyIfIsNewVersion:()=>!1,setEventsSheetShowObjectThumbnails:()=>{},setAutosaveOnPreview:()=>{},setUseNewInstructionEditorDialog:e=>{},setUseGDJSDevelopmentWatcher:e=>{},setEventsSheetUseAssignmentOperators:e=>{},setShowEffectParameterNames:e=>{},getLastUsedPath:(e,t)=>"",setLastUsedPath:(e,t,n)=>{},getDefaultEditorMosaicNode:e=>null,setDefaultEditorMosaicNode:(e,t)=>{}},r=o.createContext(i);t.b=r},122:function(e,t,n){"use strict";n.d(t,"q",(function(){return a})),n.d(t,"r",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"m",(function(){return i})),n.d(t,"n",(function(){return r})),n.d(t,"h",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"t",(function(){return d})),n.d(t,"s",(function(){return h})),n.d(t,"l",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return E})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"o",(function(){return C})),n.d(t,"p",(function(){return x}));const a="selectable",o="selected",s="icon",i="large-selectable",r="large-selected",l="executable-event-container",c="actions-container",u="conditions-container",d="sub-instructions-container",h="small-width-container",p="instruction-parameter",m="instruction-invalid-parameter",g="instruction-missing-parameter",b="disabled-text",f="events-tree",E="with-search-results",v="drop-indicator",y="cant-drop-indicator",C="link-container",x="name-and-icon-container"},124:function(e,t,n){"use strict";var a=n(78),o=n(2),s=n(2378);const i={container:{display:"flex",flexDirection:"column"},maxWidth:{maxWidth:"100%"}};t.a=e=>o.createElement(s.a,{square:!0,style:Object(a.a)({},i.container,{height:e.noFullHeight?void 0:"100%",width:e.width?e.width:void 0,flex:e.noExpand?void 0:1},e.maxWidth?i.maxWidth:void 0)},e.children)},132:function(e,t,n){"use strict";var a=n(78),o=n(72),s=n(2),i=n(2378),r=n(1102),l=n.n(r),c=n(329),u=n.n(c),d=n(1103),h=n.n(d),p=n(75),m=n(82),g=n(83),b=n(101);const f={icon:{width:28,height:28,marginRight:10,marginLeft:10},content:{flex:1}};t.a=({kind:e,children:t,onHide:n,renderRightButton:r})=>s.createElement(i.a,null,s.createElement(b.a,null,i=>s.createElement(p.b,{noMargin:!0,alignItems:"center"},"info"===e&&s.createElement(l.a,{style:f.icon}),"warning"===e&&s.createElement(u.a,{style:Object(a.a)({},f.icon,{color:i.message.warning})}),"error"===e&&s.createElement(h.a,{style:Object(a.a)({},f.icon,{color:i.message.error})}),s.createElement(g.a,{style:f.content},t),r&&r(),n&&s.createElement(m.a,{label:s.createElement(o.Trans,{id:"Hide"}),onClick:()=>n()}))))},133:function(e,t,n){"use strict";t.a=(e,t,n="")=>{if(!t(e))return e;let a=n+e;for(let o=2;t(a);++o)a=n+e+o;return a}},134:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),o=n.n(a),s=n(101);class i extends a.PureComponent{render(){const e=this.props,t=e.src,n=e.tooltip,a=e.disabled,i=e.isGDevelopIcon,r=e.iconSize;return o.a.createElement(s.a,null,e=>o.a.createElement("div",{style:{width:r,height:r,lineHeight:"".concat(r,"px"),textAlign:"center"}},o.a.createElement("img",{title:n,alt:n,src:t,crossOrigin:"anonymous",style:{maxWidth:r,maxHeight:r,verticalAlign:"middle",filter:i?a?"grayscale(100%)":e.gdevelopIconsCSSFilter:void 0}})))}}},138:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(78),o=n(2),s=n(21),i=n.n(s),r=n(315);class l extends o.Component{constructor(...e){super(...e),this.open=e=>{const t=this._contextMenu;if(!t)return;const n=i.a.findDOMNode(this._wrappedElement);if(n instanceof HTMLElement){const e=n.getBoundingClientRect();t.open(Math.round(e.left+e.width/2),Math.round(e.top+e.height))}}}render(){const e=this.props,t=e.element,n=e.buildMenuTemplate,s=e.openMenuWithSecondaryClick;return o.createElement(o.Fragment,null,o.cloneElement(t,Object(a.a)({onContextMenu:this.open},s?{}:{onClick:this.open},{ref:e=>this._wrappedElement=e})),o.createElement(r.a,{ref:e=>this._contextMenu=e,buildMenuTemplate:n}))}}},143:function(e,t,n){"use strict";var a=n(78),o=n(2),s=n.n(o),i=n(2396);const r={display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:10};t.a=e=>s.a.createElement("div",{style:Object(a.a)({},r,{},e.style)},s.a.createElement(i.a,{size:40}))},145:function(e,t,n){"use strict";var a=n(2),o=n(2387),s=n(2471);t.a=e=>{const t=e.onCheck,n=a.createElement(s.a,{disabled:e.disabled,checked:e.checked,onChange:t?e=>t(e,e.target.checked):void 0,icon:e.uncheckedIcon,checkedIcon:e.checkedIcon,color:"primary",style:e.label?void 0:e.style});return e.label?a.createElement(o.a,{control:n,label:e.label,style:e.style}):n}},1450:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a=n(72),o=n(2),s=n(82),i=n(84),r=n(86),l=n(75),c=n(112),u=n(403),d=n(1451),h=n(20),p=n(3),m=n.n(p),g=n(83),b=n(105);const f=m()("path"),E=e.gd,v=[512],y=[192,144,96,72,48,36],C=[180,167,152,144,120,114,100,80,76,72,60,58,57,50,40,29];class x extends o.Component{constructor(e){super(e),this._generateFromFile=()=>{const e=this.props,t=e.project,n=e.resourceSources,a=e.onChooseResource,o=n.filter(e=>"image"===e.kind);o.length&&a(o[0].name,!1).then(e=>{if(!e.length||!f)return;const n=t.getResourcesManager(),a=f.dirname(t.getProjectFile()),o=f.resolve(a,e[0].getFile());e.forEach(e=>e.delete()),Promise.all([...v.map(e=>Object(d.b)(o,f.join(a,"desktop-icon-".concat(e,".png")),{width:e,height:e})),...y.map(e=>Object(d.b)(o,f.join(a,"android-icon-".concat(e,".png")),{width:e,height:e})),...C.map(e=>Object(d.b)(o,f.join(a,"ios-icon-".concat(e,".png")),{width:e,height:e}))]).then(e=>{if(-1!==e.indexOf(!1))return void Object(h.a)("Some icons could not be generated!");const a=[...v.map(e=>"desktop-icon-".concat(e,".png")),...y.map(e=>"android-icon-".concat(e,".png")),...C.map(e=>"ios-icon-".concat(e,".png"))];a.forEach(e=>{if(n.hasResource(e))n.getResource(e).setFile(e);else{const t=new E.ImageResource;t.setFile(e),t.setName(e),n.addResource(t),t.delete()}}),c.a.burstUrlsCacheForResources(t,a),setTimeout(()=>{this.setState({desktopIconResourceNames:v.map(e=>"desktop-icon-".concat(e,".png")),androidIconResourceNames:y.map(e=>"android-icon-".concat(e,".png")),iosIconResourceNames:C.map(e=>"ios-icon-".concat(e,".png"))})},200)})})},this._onApply=()=>{const e=this.props.project,t=this.state,n=t.desktopIconResourceNames,a=t.androidIconResourceNames,o=t.iosIconResourceNames;v.forEach((t,a)=>{e.getPlatformSpecificAssets().set("desktop","icon-".concat(t),n[a])}),y.forEach((t,n)=>{e.getPlatformSpecificAssets().set("android","icon-".concat(t),a[n])}),C.forEach((t,n)=>{e.getPlatformSpecificAssets().set("ios","icon-".concat(t),o[n])}),this.props.onApply()},this.state=this._loadFrom(e.project)}_loadFrom(e){return{desktopIconResourceNames:v.map(t=>e.getPlatformSpecificAssets().get("desktop","icon-".concat(t))),androidIconResourceNames:y.map(t=>e.getPlatformSpecificAssets().get("android","icon-".concat(t))),iosIconResourceNames:C.map(t=>e.getPlatformSpecificAssets().get("ios","icon-".concat(t)))}}componentWillReceiveProps(e){(!this.props.open&&e.open||e.open&&this.props.project!==e.project)&&this.setState(this._loadFrom(e.project))}render(){const e=[o.createElement(s.a,{key:"cancel",label:o.createElement(a.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onClose}),o.createElement(s.a,{key:"apply",label:o.createElement(a.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:this._onApply})],t=this.props,n=t.project,c=t.resourceSources,h=t.onChooseResource,p=t.resourceExternalEditors,m=this.state,f=m.desktopIconResourceNames,E=m.androidIconResourceNames,x=m.iosIconResourceNames;return o.createElement(r.a,{title:o.createElement(a.Trans,{id:"Project icons"}),actions:e,open:this.props.open,cannotBeDismissed:!0,onRequestClose:this.props.onClose},o.createElement(b.a,{noMargin:!0},o.createElement(l.b,{justifyContent:"center"},Object(d.a)()?o.createElement(i.a,{primary:!0,label:o.createElement(a.Trans,{id:"Generate icons from a file"}),onClick:this._generateFromFile}):o.createElement(g.a,null,o.createElement(a.Trans,{id:"Download GDevelop desktop version to generate the Android and iOS icons of your game."}))),o.createElement(g.a,null,o.createElement(a.Trans,{id:"Desktop (Windows, macOS and Linux) icon:"})),v.map((e,t)=>o.createElement(u.a,{key:e,floatingLabelText:"Desktop icon (".concat(e,"x").concat(e," px)"),project:n,resourceSources:c,onChooseResource:h,resourceExternalEditors:p,resourceKind:"image",resourceName:f[t],onChange:e=>{const n=[...f];n[t]=e,this.setState({desktopIconResourceNames:n})}})),o.createElement(g.a,null,o.createElement(a.Trans,{id:"Android icons:"})),y.map((e,t)=>o.createElement(u.a,{key:e,floatingLabelText:"Android icon (".concat(e,"x").concat(e," px)"),project:n,resourceSources:c,onChooseResource:h,resourceExternalEditors:p,resourceKind:"image",resourceName:E[t],onChange:e=>{const n=[...E];n[t]=e,this.setState({androidIconResourceNames:n})}})),o.createElement(g.a,null,o.createElement(a.Trans,{id:"iOS (iPhone and iPad) icons:"})),C.map((e,t)=>o.createElement(u.a,{key:e,floatingLabelText:"iOS icon (".concat(e,"x").concat(e," px)"),project:n,resourceSources:c,onChooseResource:h,resourceKind:"image",resourceName:x[t],resourceExternalEditors:p,onChange:e=>{const n=[...x];n[t]=e,this.setState({iosIconResourceNames:n})}}))))}}}).call(this,n(1))},1451:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n(3);const o=n.n(a)()("jimp"),s=()=>!!o,i=(e,t,{width:n,height:a})=>o?o.read(e).then((function(e){return e.contain(n,a).write(t)})).then(()=>!0).catch((function(e){return console.error(e),!1})):Promise.resolve(!1)},1452:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(2396);t.a=e=>o.a.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:2e3,pointerEvents:e.show?"cursor":"none",display:e.show?"block":"none"}},o.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",marginTop:-25,marginLeft:-25,width:50,height:50}},e.show&&o.a.createElement(s.a,{size:50,disableShrink:!0})))},1453:function(e,t,n){"use strict";var a=n(2),o=n(2399),s=n(2400),i=n(2367),r=n(2384),l=n(278),c=n.n(l);const u={appBar:{height:32,minHeight:32},toolbar:{height:32,minHeight:32,paddingLeft:15,paddingRight:15},title:{fontSize:"15px",flexGrow:1}};t.a=e=>a.createElement(o.a,{position:"static",style:u.appBar,color:"primary"},a.createElement(s.a,{style:u.toolbar},e.displayLeftCloseButton&&a.createElement(i.a,{onClick:e.onClose,edge:"start",color:"inherit"},a.createElement(c.a,null)),a.createElement(r.a,{variant:"h6",style:u.title},e.title),e.displayRightCloseButton&&a.createElement(i.a,{onClick:e.onClose,edge:"end",color:"inherit"},a.createElement(c.a,null))))},1454:function(e,t,n){"use strict";var a=n(2),o=n(3),s=n.n(o),i=n(5);const r=s()("electron");t.a=a.memo((function({shouldPrompt:e,i18n:t,language:n,hasUnsavedChanges:o}){const s=a.useRef(!0);return a.useEffect(()=>{if(i.b.isDev())return;const n=[t._({id:"Are you sure you want to quit GDevelop?"}),o?t._({id:"Any unsaved changes in the project will be lost."}):""].filter(Boolean).join("\n");r?window.onbeforeunload=t=>{if(s.current&&e)return setTimeout(()=>{i.b.showConfirmDialog(n)&&(s.current=!1,r.remote.getCurrentWindow().close())},10),t.returnValue=!0,!1}:window&&(window.onbeforeunload=e?()=>n:null)},[e,t,n,o]),null}))},1468:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b}));var a=n(78),o=n(2),s=n.n(o),i=n(278),r=n.n(i),l=n(2467),c=n(101),u=n(315);const d={width:"100%",position:"relative",textAlign:"initial",height:"100%",display:"flex",flex:1},h={maxWidth:400,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginTop:6,marginBottom:6,marginLeft:10,marginRight:10,fontSize:"15px"},p={marginTop:7,marginBottom:7,marginRight:5,marginLeft:5};class m extends o.Component{shouldComponentUpdate(e){return this.props.active||e.active}render(){const e=this.props,t=e.children,n=e.active;return s.a.createElement("div",{style:Object(a.a)({},d,{},n?void 0:{display:"none"})},t)}}class g extends o.Component{render(){const e=this.props,t=e.hideLabels,n=e.children;return s.a.createElement(c.a,null,e=>{const a={maxWidth:"100%",flexShrink:0,display:t?"none":"flex",flexWrap:"nowrap",overflowX:"auto",backgroundColor:e.closableTabs.containerBackgroundColor};return s.a.createElement("div",{style:a},n)})}}function b({active:e,onClose:t,onCloseOthers:n,onCloseAll:i,label:d,closable:m,onClick:g,onActivated:b}){Object(o.useEffect)(()=>{e&&b()},[e,b]);const f=Object(o.useRef)(null),E=e=>{e.stopPropagation(),f.current&&f.current.open(e.clientX,e.clientY)};return s.a.createElement(c.a,null,o=>{const c=e?o.closableTabs.selectedTextColor:o.closableTabs.textColor;return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{style:{flexShrink:0,position:"relative",display:"inline-block",marginRight:1,backgroundColor:e?o.closableTabs.selectedBackgroundColor:o.closableTabs.backgroundColor}},s.a.createElement(l.a,{onClick:g,onContextMenu:E,focusRipple:!0},s.a.createElement("span",{style:Object(a.a)({},h,{color:c,fontFamily:o.closableTabs.fontFamily})},d)),m&&s.a.createElement(l.a,{onClick:t,onContextMenu:E,focusRipple:!0},s.a.createElement(r.a,{style:Object(a.a)({},p,{width:o.closableTabs.height/2,height:o.closableTabs.height/2}),htmlColor:c}))),s.a.createElement(u.a,{ref:f,buildMenuTemplate:()=>[{label:"Close",click:t,enabled:m},{label:"Close others",click:n},{label:"Close all",click:i}]}))})}},1469:function(e,t,n){"use strict";n.d(t,"l",(function(){return c})),n.d(t,"o",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"m",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"j",(function(){return f})),n.d(t,"i",(function(){return E})),n.d(t,"p",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return x})),n.d(t,"d",(function(){return j})),n.d(t,"n",(function(){return S}));var a=n(78),o=n(696),s=n.n(o),i=(n(699),n(906),n(852)),r=n(860),l=n(863);n(910),n(872);const c=()=>({editors:[],currentTab:0}),u=(e,{label:t,renderEditor:n,key:o,dontFocusTab:i,closable:r})=>{const l=s()(e.editors,e=>e.key===o);if(-1!==l)return Object(a.a)({},e,{currentTab:i?e.currentTab:l});const c={render:e=>n({isActive:e,editorRef:e=>c.editorRef=e}),editorRef:null,label:t,key:o,closable:"undefined"===typeof r||!!r};return Object(a.a)({},e,{editors:[...e.editors,c],currentTab:i?e.currentTab:e.editors.length})},d=(e,t)=>Object(a.a)({},e,{currentTab:Math.max(0,Math.min(t,e.editors.length-1))}),h=e=>d(Object(a.a)({},e,{editors:e.editors.filter(e=>!e.closable)}),0),p=(e,t)=>{const n=e.editors.indexOf(t);return d(Object(a.a)({},e,{editors:e.editors.filter(e=>e!==t)}),n>=e.currentTab?e.currentTab:e.currentTab-1)},m=(e,t)=>d(Object(a.a)({},e,{editors:e.editors.filter(e=>!e.closable||e===t)}),e.currentTab),g=e=>e.editors,b=e=>e.currentTab,f=e=>e.editors[e.currentTab],E=(e,t)=>d(Object(a.a)({},e,{editors:e.editors.filter(e=>{const n=e.editorRef&&e.editorRef.getProject();return!n||n!==t})}),e.currentTab),v=e=>{e.editors.forEach(e=>{e.editorRef&&e.editorRef.saveUiSettings&&e.editorRef.saveUiSettings()})},y=(e,t)=>d(Object(a.a)({},e,{editors:e.editors.filter(e=>{const n=e.editorRef&&e.editorRef.getLayout();return!n||n!==t})}),e.currentTab),C=(e,t)=>d(Object(a.a)({},e,{editors:e.editors.filter(e=>{const n=e.editorRef;return!(n instanceof l.a)||(!n.getExternalLayout()||n.getExternalLayout()!==t)})}),e.currentTab),x=(e,t)=>d(Object(a.a)({},e,{editors:e.editors.filter(e=>{const n=e.editorRef;return!(n instanceof r.a)||(!n.getExternalEvents()||n.getExternalEvents()!==t)})}),e.currentTab),j=(e,t)=>d(Object(a.a)({},e,{editors:e.editors.filter(e=>{const n=e.editorRef;return!(n instanceof i.a)||(!n.getEventsFunctionsExtension()||n.getEventsFunctionsExtension()!==t)})}),e.currentTab),S=(e,t)=>{for(let n=0;n<e.editors.length;++n){const a=e.editors[n].editorRef;if(a instanceof i.a&&a.getEventsFunctionsExtension()===t)return{editor:a,tabIndex:n}}return null}},1472:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var a=n(78),o=n(127),s=n(2),i=n.n(s),r=n(696),l=n.n(r),c=n(2291),u=n(90),d=n(365),h=n(2308),p=n(1704),m=n(131),g=n.n(m),b=n(122),f=n(376),E=n(180),v=(n(1705),n(1706),n(101));const y=E.a.getThumbnail.bind(E.a),C=e.gd,x={container:{flex:1}};class j extends s.Component{constructor(...e){super(...e),this._onEventUpdated=()=>{this.forceUpdate()},this._onEventContextMenu=e=>{e.preventDefault(),this.props.onEventContextMenu(e.clientX,e.clientY)}}componentDidMount(){const e=this._container?this._container.offsetHeight:0;this.props.eventsHeightsCache.setEventHeight(this.props.event,e)}componentDidUpdate(){const e=this._container?this._container.offsetHeight:0;this.props.eventsHeightsCache.setEventHeight(this.props.event,e)}render(){const e=this.props,t=e.event,n=e.project,a=e.scope,o=e.disabled,s=h.a.getEventComponent(t);return i.a.createElement("div",{ref:e=>this._container=e,onClick:this.props.onEventClick,onContextMenu:this._onEventContextMenu},s&&i.a.createElement(s,{project:n,scope:a,event:t,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,selected:Object(d.m)(this.props.selection,t),selection:this.props.selection,leftIndentWidth:this.props.leftIndentWidth,onUpdate:this._onEventUpdated,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,onOpenExternalEvents:this.props.onOpenExternalEvents,onOpenLayout:this.props.onOpenLayout,disabled:o,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth}))}}const S=({treeIndex:e})=>e,T=e=>{let t=e.className,n=Object(o.a)(e,["className"]);return i.a.createElement(v.a,null,e=>i.a.createElement(c.a,Object.assign({className:"".concat(b.f," ").concat(e.eventsSheetRootClassName," ").concat(t)},n)))},O=()=>{};class w extends s.Component{constructor(e){super(e),this._eventsToTreeData=(e,t=[],n=0,a=!1)=>({treeData:Object(u.mapFor)(0,e.getEventsCount(),o=>{const s=e.getEventAt(o);t.push(s);const i=a||s.isDisabled();return{title:this._renderEvent,event:s,eventsList:e,indexInList:o,expanded:!s.isFolded(),disabled:i,depth:n,key:s.ptr,children:this._eventsToTreeData(s.getSubEvents(),s.isFolded()?[]:t,n+1,i).treeData}}),flatData:t}),this._onMoveNode=({treeData:e,path:t,node:n})=>{const a=t.slice(0,-1),o=Object(c.b)({getNodeKey:S,treeData:e,path:a}).node,s=o&&o.event?o.event.getSubEvents():this.props.events,i=o&&o.children?o.children.indexOf(n):0,r=n.event;n.eventsList.moveEventToAnotherEventsList(r,s,i),this.forceEventsUpdate(),this.props.onEventMoved()},this._canDrop=({nextParent:e})=>!e||!e.event||e.event.canHaveSubEvents(),this._onVisibilityToggle=({node:e})=>{const t=e.event;t.setFolded(!t.isFolded()),this.forceEventsUpdate()},this._renderObjectThumbnail=e=>{const t=this.props,n=t.project,a=t.scope;if(!t.showObjectThumbnails)return null;const o=Object(f.a)(n,a.layout,e);return o?i.a.createElement("img",{className:g()({[b.i]:!0}),alt:"",src:y(n,o),crossOrigin:"anonymous"}):null},this._renderEvent=({node:e})=>{const t=e.event,n=e.depth,a=e.disabled;return i.a.createElement(j,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,event:t,key:t.ptr,eventsHeightsCache:this.eventsHeightsCache,selection:this.props.selection,leftIndentWidth:22*n,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onParameterClick:this.props.onParameterClick,onEventClick:()=>this.props.onEventClick({eventsList:e.eventsList,event:e.event,indexInList:e.indexInList,isCondition:e.isCondition}),onEventContextMenu:(t,n)=>this.props.onEventContextMenu(t,n,{eventsList:e.eventsList,event:e.event,indexInList:e.indexInList,isCondition:e.isCondition}),onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onOpenExternalEvents:this.props.onOpenExternalEvents,onOpenLayout:this.props.onOpenLayout,disabled:a,renderObjectThumbnail:this._renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth})},this._treeSearchMethod=({node:e,searchQuery:t})=>{const n=t;if(!n)return!1;const a=e.event;return n.find(e=>C.compare(e,a))},this.eventsHeightsCache=new p.a(this),this.state=Object(a.a)({},this._eventsToTreeData(e.events))}componentDidMount(){this.onHeightsChanged()}onHeightsChanged(e){this.forceUpdate(()=>{this._list&&this._list.wrappedInstance.current&&this._list.wrappedInstance.current.recomputeRowHeights(),e&&e()})}forceEventsUpdate(e){this.setState(this._eventsToTreeData(this.props.events),()=>{this._list&&this._list.wrappedInstance.current&&this._list.wrappedInstance.current.recomputeRowHeights(),e&&e()})}scrollToEvent(e){const t=this._getEventRow(e);-1!==t&&this._list&&this._list.wrappedInstance.current&&this._list.wrappedInstance.current.scrollToRow(t)}unfoldForEvent(e){C.EventsListUnfolder.unfoldWhenContaining(this.props.events,e),this.forceEventsUpdate()}_getEventRow(e){return l()(this.state.flatData,t=>t.ptr===e.ptr)}render(){const e=this.state.treeData?[...this.state.treeData]:null;return i.a.createElement("div",{style:x.container},i.a.createElement(T,{treeData:e,scaffoldBlockPxWidth:22,onChange:O,onVisibilityToggle:this._onVisibilityToggle,onMoveNode:this._onMoveNode,canDrop:this._canDrop,rowHeight:({node:e})=>e.event?this.eventsHeightsCache.getEventHeight(e.event):0,searchMethod:this._treeSearchMethod,searchQuery:this.props.searchResults,searchFocusOffset:this.props.searchFocusOffset,className:this.props.searchResults?b.g:"",reactVirtualizedListProps:{ref:e=>this._list=e,onScroll:this.props.onScroll}}))}}w.defaultProps={selection:Object(d.b)()}}).call(this,n(1))},150:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(78),o=n(2),s=n(104),i=n(94),r=n(2378),l=n(278),c=n.n(l),u=n(597),d=n.n(u),h=n(607),p=n.n(h),m=n(138),g=n(101),b=n(605);class f extends o.PureComponent{constructor(...e){super(...e),this.state={focus:!1,value:this.props.value,active:!1},this._textField=o.createRef(),this.focus=()=>{this._textField.current&&this._textField.current.focus()},this.blur=()=>{this._textField.current&&this._textField.current.blur()},this.handleFocus=()=>{this.setState({focus:!0})},this.handleBlur=()=>{this.setState({focus:!1}),0===this.state.value.trim().length&&this.setState({value:""})},this.handleInput=e=>{this.setState({value:e.target.value}),this.props.onChange&&this.props.onChange(e.target.value)},this.handleCancel=()=>{this.setState({active:!1,value:""}),this.props.onChange&&this.props.onChange("")},this.handleKeyPressed=e=>{13!==e.charCode&&"Enter"!==e.key||this.props.onRequestSearch(this.state.value)}}componentWillReceiveProps(e){this.props.value!==e.value&&this.setState(Object(a.a)({},this.state,{value:e.value}))}render(){const e=((e,t)=>{const n=e.disabled,a=t.value.length>0;return{root:{height:30,display:"flex",justifyContent:"space-between"},iconButtonClose:{style:{opacity:n?.38:.54,transform:a?"scale(1, 1)":"scale(0, 0)",transition:"transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"},iconStyle:{opacity:a?1:0,transition:"opacity 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"}},iconButtonSearch:{style:{opacity:n?.38:.54,transform:a?"scale(0, 0)":"scale(1, 1)",transition:"transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1)",marginRight:-30},iconStyle:{opacity:a?0:1,transition:"opacity 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"}},iconButtonFilter:{style:{opacity:n?.38:.54}},iconButtonHelp:{style:{opacity:n?.38:.54}},input:{width:"100%"},searchContainer:{top:-1,position:"relative",margin:"auto 8px",width:"100%"}}})(this.props,this.state),t=this.state.value,n=this.props,l=n.disabled,u=n.style,h=n.buildTagsMenuTemplate,f=n.helpPagePath;return o.createElement(g.a,null,n=>o.createElement(r.a,{style:Object(a.a)({backgroundColor:n.searchBar.backgroundColor},e.root,{},u),square:!0,elevation:1},o.createElement("div",{style:e.searchContainer},o.createElement(i.b,{margin:"none",hintText:this.props.placeholder||{id:"Search"},onBlur:this.handleBlur,value:t,onChange:this.handleInput,onKeyUp:this.handleKeyPressed,onFocus:this.handleFocus,fullWidth:!0,style:e.input,underlineShow:!1,disabled:l,ref:this._textField})),h&&o.createElement(m.a,{element:o.createElement(s.a,{style:e.iconButtonFilter.style,disabled:l,size:"small"},o.createElement(p.a,null)),buildMenuTemplate:h}),f&&o.createElement(b.a,{disabled:l,helpPagePath:f,style:e.iconButtonHelp.style,size:"small"}),o.createElement(s.a,{style:e.iconButtonSearch.style,disabled:l,size:"small"},o.createElement(d.a,{style:e.iconButtonSearch.iconStyle})),o.createElement(s.a,{onClick:this.handleCancel,style:e.iconButtonClose.style,disabled:l,size:"small"},o.createElement(c.a,{style:e.iconButtonClose.iconStyle}))))}}},152:function(e,t,n){const a=n(3),o=a("electron"),s=o?o.remote.app:null,i=a("fs"),r=a("path"),l=a("process");var c=l&&/^darwin/.test(l.platform);const u=(e,t,n)=>i.access(e,i.constants.R_OK,a=>{a?n():t(e)});e.exports={findGDJS:()=>{if(!r||!l||!i)return Promise.reject(new Error("Unsupported"));const e=s?s.getAppPath():l.cwd(),t=c?"../../../../":r.join("..",".."),n=r.join(e,t);return new Promise((t,a)=>{const o=e=>t({gdjsRoot:e}),s=()=>a(new Error("Could not find GDJS"));u(r.join(n,"..","JsPlatform"),o,()=>{u(r.join(e,"..","GDJS"),o,()=>{const t=r.join(e,"..","..","app","resources","GDJS");u(t,o,s)})})})}}},1551:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var a=n(78),o=n(2),s=n(294),i=n(131),r=n.n(i),l=n(122),c=n(375);const u=e.gd,d={flex:1};class h extends o.Component{render(){var e=u.asStandardEvent(this.props.event);return o.createElement(c.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,className:r()({[l.m]:!0,[l.n]:this.props.selected,[l.h]:!0}),renderConditionsList:({style:t,className:n})=>o.createElement(s.a,{instrsList:e.getConditions(),style:t,className:n,selection:this.props.selection,areConditions:!0,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth}),renderActionsList:({className:t})=>o.createElement(s.a,{instrsList:e.getActions(),style:Object(a.a)({},d),className:t,selection:this.props.selection,areConditions:!1,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth})})}}}).call(this,n(1))},1552:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return E}));var a=n(72),o=n(2),s=n(90),i=n(131),r=n.n(i),l=n(122),c=n(294),u=n(729),d=n(486),h=n(1693),p=n(1694),m=n(794),g=n(120);const b=e.gd,f={container:{whiteSpace:"normal",wordWrap:"break-word",cursor:"pointer",marginBottom:1}},E="GD_DRAGGED_INSTRUCTION",v=Object(m.a)(E);t.a=e=>{const t=e.instruction,n=e.isCondition,i=e.onClick,m=e.onMoveToInstruction,E=o.useMemo(()=>b.InstructionSentenceFormatter.get(),[]),y=o.useContext(g.b).values.eventsSheetUseAssignmentOperators,C=n?b.MetadataProvider.getConditionMetadata(b.JsPlatform.get(),t.getType()):b.MetadataProvider.getActionMetadata(b.JsPlatform.get(),t.getType());return o.createElement(v,{beginDrag:()=>(i(),{isCondition:n}),canDrop:e=>e.isCondition===n,drop:()=>{m()}},({connectDragSource:n,connectDropTarget:i,isOver:m,canDrop:g})=>{const b=n(o.createElement("div",{style:f.container,className:r()({[l.q]:!0,[l.r]:e.selected}),onClick:t=>{t.stopPropagation(),"touch"===e.screenType&&e.selected?e.onDoubleClick():e.onClick()},onDoubleClick:t=>{t.stopPropagation(),e.onDoubleClick()},onContextMenu:t=>{t.stopPropagation(),e.onContextMenu(t.clientX,t.clientY)},onKeyPress:t=>{"Enter"===t.key?(e.onDoubleClick(),t.stopPropagation(),t.preventDefault()):" "===t.key&&(e.onClick(),t.stopPropagation(),t.preventDefault())},tabIndex:0},t.isInverted()&&o.createElement("img",{className:r()({[l.i]:!0}),src:"res/contraire.png",alt:"Condition is negated"}),o.createElement("img",{className:r()({[l.i]:!0}),src:C.getSmallIconFilename(),alt:""}),(t=>{const n=e.instruction,a=e.disabled,i=e.renderObjectThumbnail,c=E.getAsFormattedText(n,t),u=t.getParametersCount();return o.createElement("span",{className:r()({[l.d]:a})},Object(s.mapFor)(0,c.size(),n=>{const a=c.getTextFormatting(n).getUserData();if(!(a>=0&&a<u))return o.createElement("span",{key:n},0===n?(s=c.getString(n))?s[0].toUpperCase()+s.substr(1):"":c.getString(n));var s;const m=t.getParameter(a),g=m.getType();return o.createElement("span",{key:n,className:r()({[l.q]:!0,[l.l]:!0,[g]:!0}),onClick:t=>{e.onParameterClick(t,a),"touch"===e.screenType&&t.stopPropagation()},onKeyPress:t=>{"Enter"!==t.key&&" "!==t.key||(e.onParameterClick(t,a),t.stopPropagation(),t.preventDefault())},tabIndex:0},d.a.renderInlineParameter({value:c.getString(n),parameterMetadata:m,renderObjectThumbnail:i,InvalidParameterValue:h.a,MissingParameterValue:p.a,useAssignmentOperators:y}))}))})(C))),v=b?i(b):null;return o.createElement(o.Fragment,null,m&&o.createElement(u.a,{canDrop:g}),v,C.canHaveSubInstructions()&&o.createElement(c.a,{style:{},className:l.t,instrsList:t.getSubInstructions(),areConditions:e.isCondition,selection:e.selection,onAddNewInstruction:e.onAddNewSubInstruction,onPasteInstructions:e.onPasteSubInstructions,onMoveToInstruction:e.onMoveToSubInstruction,onMoveToInstructionsList:e.onMoveToSubInstructionsList,onInstructionClick:e.onSubInstructionClick,onInstructionDoubleClick:e.onSubInstructionDoubleClick,onInstructionContextMenu:e.onSubInstructionContextMenu,onAddInstructionContextMenu:e.onAddSubInstructionContextMenu,onParameterClick:e.onSubParameterClick,addButtonLabel:o.createElement(a.Trans,{id:"Add a sub-condition"}),disabled:e.disabled,renderObjectThumbnail:e.renderObjectThumbnail,screenType:e.screenType,windowWidth:e.windowWidth}))})}}).call(this,n(1))},1553:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(72),o=n(2),s=n.n(o),i=n(116),r=n(117);class l extends o.Component{focus(){this._field&&this._field.focus&&this._field.focus()}render(){const e=this.props.parameterMetadata,t=e?e.getDescription():void 0;return s.a.createElement(i.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:t,helperMarkdownText:e?e.getLongDescription():void 0,value:this.props.value,onChange:(e,t,n)=>this.props.onChange(n),ref:e=>this._field=e,hintText:{id:"Choose an operator"}},s.a.createElement(r.a,{value:"=",primaryText:{id:"= (equal to)"}}),s.a.createElement(r.a,{value:"<",primaryText:{id:"< (less than)"}}),s.a.createElement(r.a,{value:">",primaryText:{id:"> (greater than)"}}),s.a.createElement(r.a,{value:"<=",primaryText:{id:"\u2264 (less or equal to)"}}),s.a.createElement(r.a,{value:">=",primaryText:{id:"\u2265 (greater or equal to)"}}),s.a.createElement(r.a,{value:"!=",primaryText:{id:"\u2260 (not equal to)"}}))}}const c=({value:e,InvalidParameterValue:t})=>e?"="!==e&&"<"!==e&&">"!==e&&"<="!==e&&">="!==e&&"!="!==e?s.a.createElement(t,null,e):"<="===e?"\u2264":">="===e?"\u2265":"!="===e?"\u2260":e:s.a.createElement(t,{isEmpty:!0},s.a.createElement(a.Trans,{id:"Choose an operator"}))},1554:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(72),o=n(2),s=n.n(o),i=n(116),r=n(117);class l extends o.Component{focus(){this._field&&this._field.focus&&this._field.focus()}render(){const e=this.props.parameterMetadata,t=e?e.getDescription():void 0;return s.a.createElement(i.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:t,helperMarkdownText:e?e.getLongDescription():void 0,value:this.props.value,onChange:(e,t,n)=>this.props.onChange(n),ref:e=>this._field=e,hintText:{id:"Choose an operator"}},s.a.createElement(r.a,{value:"=",primaryText:{id:"= (set to)"}}),s.a.createElement(r.a,{value:"+",primaryText:{id:"+ (add)"}}),s.a.createElement(r.a,{value:"-",primaryText:{id:"- (subtract)"}}),s.a.createElement(r.a,{value:"*",primaryText:{id:"* (multiply by)"}}),s.a.createElement(r.a,{value:"/",primaryText:{id:"/ (divide by)"}}))}}const c=({value:e,InvalidParameterValue:t,useAssignmentOperators:n})=>{if(!e)return s.a.createElement(t,{isEmpty:!0},s.a.createElement(a.Trans,{id:"Choose an operator"}));if(n){if("="===e)return"=";if("+"===e)return"+=";if("-"===e)return"-=";if("/"===e)return"/=";if("*"===e)return"*="}else{if("="===e)return s.a.createElement(a.Trans,{id:"set to"});if("+"===e)return s.a.createElement(a.Trans,{id:"add"});if("-"===e)return s.a.createElement(a.Trans,{id:"subtract"});if("/"===e)return s.a.createElement(a.Trans,{id:"divide by"});if("*"===e)return s.a.createElement(a.Trans,{id:"multiply by"})}return s.a.createElement(t,null,e)}},1555:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(72),o=n(2),s=n.n(o),i=n(116),r=n(117);class l extends o.Component{focus(){}render(){const e=this.props,t=e.parameterMetadata,n=e.value,o=t?t.getDescription():void 0;return s.a.createElement(i.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:o,helperMarkdownText:t?t.getLongDescription():void 0,value:n,ref:e=>this._field=e,onChange:(e,t,n)=>this.props.onChange(n),errorText:n?void 0:s.a.createElement(a.Trans,{id:"You must select a button"})},s.a.createElement(r.a,{value:"Left",primaryText:{id:"Left (primary)"}}),s.a.createElement(r.a,{value:"Right",primaryText:{id:"Right (secondary)"}}),s.a.createElement(r.a,{value:"Middle",primaryText:{id:"Middle (Auxiliary button, usually the wheel button)"}}))}}const c=({value:e,InvalidParameterValue:t})=>e||s.a.createElement(t,{isEmpty:!0},s.a.createElement(a.Trans,{id:"Choose a mouse button"}))},1556:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(72),o=n(2),s=n.n(o),i=n(162);const r=["Num0","Num1","Num2","Num3","Num4","Num5","Num6","Num7","Num8","Num9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","LBracket","RBracket","SemiColon","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","Escape","Space","Return","Back","Tab","PageUp","PageDown","End","Home","Insert","Delete","Add","Subtract","Multiply","Divide","Left","Right","Up","Down","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Pause","RControl","LControl","RAlt","LAlt","RShift","LShift"],l=e=>-1!==r.indexOf(e);class c extends o.Component{focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.value,n=e.onChange,o=e.isInline,c=e.parameterMetadata,u=e.onRequestClose;return s.a.createElement(i.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:c?c.getDescription():void 0,helperMarkdownText:c?c.getLongDescription():void 0,fullWidth:!0,value:t,onChange:n,dataSource:r.map(e=>({text:e,value:e})),openOnFocus:!o,onRequestClose:u,ref:e=>this._field=e,errorText:t?l(t)?void 0:s.a.createElement(a.Trans,{id:'You must select a valid key. "{value}" is not valid.',values:{value:t}}):s.a.createElement(a.Trans,{id:"You must select a key."})})}}const u=({value:e,InvalidParameterValue:t})=>e?l(e)?e:s.a.createElement(t,null,e):s.a.createElement(t,{isEmpty:!0},s.a.createElement(a.Trans,{id:"Choose a key"}))},1557:function(e,t,n){"use strict";var a=n(193),o=n(108);function s(e,t,n,s,i,r){a.a.call(this,e,t,n,s,i,r),this._pixiObject=new o.Graphics,this._pixiContainer.addChild(this._pixiObject);var l=n.hasCustomSize()?n.getCustomWidth():32,c=n.hasCustomSize()?n.getCustomHeight():32;this._pixiObject.beginFill(13311),this._pixiObject.lineStyle(1,16767232,1),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(l,0),this._pixiObject.lineTo(l,c),this._pixiObject.lineTo(0,c),this._pixiObject.endFill()}s.prototype=Object.create(a.a.prototype),s.getThumbnail=function(e,t,n){return"res/unknown32.png"},s.prototype.update=function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this._pixiObject.rotation=this._instance.getAngle()*Math.PI/180},t.a=s},156:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(2);const a=({children:e})=>"undefined"===typeof window?e("medium"):e(window.innerWidth<750||window.innerHeight<475?"small":window.innerWidth<1150?"medium":"large")},162:function(e,t,n){"use strict";var a=n(136),o=n(78),s=n(127),i=n(2),r=n(72),l=n(2464),c=(n(134),n(2382)),u=n(205),d=n(2470),h=n(2376),p=n(94),m=n(2398),g=n(351),b=n.n(g);const f={container:{position:"relative",width:"100%"},listItem:{padding:0,margin:0,display:"inline-block",whiteSpace:"nowrap",width:"calc(100%)",overflow:"hidden",textOverflow:"ellipsis"}},E=Object(m.a)({option:{cursor:"default"},listbox:{padding:0,margin:0},input:{width:"auto",flexGrow:1},inputRoot:{flexWrap:"wrap"},popper:{zIndex:b.a.tooltip+100}}),v=(e,t)=>e.type&&"separator"===e.type?i.createElement(h.a,{divider:!0,disableGutters:!0,component:"div",style:f.listItem}):i.createElement(h.a,{component:"div",style:f.listItem},e.renderIcon&&i.createElement(c.a,null,e.renderIcon()),e.value),y=e=>"separator"===e.type;t.a=i.forwardRef((function(e,t){const n=i.useRef(null),c=Object(i.useState)(null),h=Object(a.a)(c,2),m=h[0],g=h[1],b=Object(i.useState)(!1),C=Object(a.a)(b,2),x=C[0],j=C[1],S=E();i.useImperativeHandle(t,()=>({focus:()=>{n.current&&n.current.focus()},forceInputValueTo:e=>{null!==m&&g(e)}}));const T=null!==m?m:e.value,O=e.helperMarkdownText?i.createElement(u.a,{source:e.helperMarkdownText}):null,w=(e,t,n)=>{g(t),x||j(!0)};return i.createElement(r.I18n,null,({i18n:t})=>i.createElement(d.a,{freeSolo:!0,classes:S,onChange:(t,n)=>{null!==n&&(((e,t,n)=>{"separator"!==t.type&&(t.onClick?t.onClick():(n.onChoose?n.onChoose(t.value):n.onChange(t.value),n.onRequestClose&&n.onRequestClose()))})(0,n,e),j(!1))},open:x,style:f.container,inputValue:T,value:T,onInputChange:w,options:e.dataSource,renderOption:v,getOptionDisabled:y,ListboxProps:{onClick:e=>{e.nativeEvent.stopImmediatePropagation()},onTouchEnd:e=>{e.nativeEvent.stopImmediatePropagation()}},getOptionLabel:e=>((e,t)=>e.value?e.value:t)(e,T),filterOptions:(e,t)=>((e,t,n)=>{const a=n.toLowerCase(),o=e.filter(e=>"separator"===e.type||(!e.text||-1!==e.text.toLowerCase().indexOf(a)));if(!o.filter(e=>"separator"!==e.type&&e.value).length)return[];for(;void 0!==o[o.length-1]&&void 0!==o[o.length-1].type;)o.pop();for(;void 0!==o[0]&&void 0!==o[0].type;)o.shift();return o})(e,0,T),renderInput:a=>{const r=((e,t,n)=>{const a=e.InputProps,i=e.inputProps,r=(e.InputLabelProps,Object(s.a)(e,["InputProps","inputProps","InputLabelProps"]));return Object(o.a)({},r,{InputProps:Object(o.a)({},a,{className:null,endAdornment:null}),inputProps:Object(o.a)({},i,{className:null,disabled:n.disabled,onKeyDown:e=>{"Escape"===e.key&&n.onRequestClose&&n.onRequestClose()}})})})(a,0,e),c=r.InputProps,u=r.inputProps,d=Object(s.a)(r,["InputProps","inputProps"]);return i.createElement(l.a,Object.assign({InputProps:Object(o.a)({},c,{placeholder:"string"===typeof e.hintText?e.hintText:t._(e.hintText)}),inputProps:Object(o.a)({},u,{onFocus:e=>{j(!0),n.current&&(n.current.selectionStart=n.current.value.length)},onBlur:t=>{g(null),j(!1),e.onChange(t.currentTarget.value),e.onBlur&&e.onBlur(t)},onMouseDown:e=>{n.current&&!n.current.value.length&&j(!x)}})},d,Object(p.a)(e),{style:e.textFieldStyle,label:e.floatingLabelText,inputRef:n,disabled:e.disabled,error:!!e.errorText,helperText:O||e.errorText,fullWidth:e.fullWidth}))}}))}))},163:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return m}));var a=n(2),o=n(2401),s=n(2402),i=n(2404),r=n(2403),l=n(2405);class c extends a.Component{render(){return a.createElement(o.a,Object.assign({size:"small"},this.props))}}class u extends a.Component{render(){return a.createElement(s.a,this.props)}}class d extends a.Component{render(){return a.createElement(r.a,this.props)}}class h extends a.Component{render(){return a.createElement(i.a,this.props)}}class p extends a.Component{render(){return a.createElement(l.a,this.props)}}class m extends a.Component{render(){return a.createElement(i.a,this.props)}}},1655:function(e,t,n){"use strict";(function(e){var a=n(193),o=n(108);const s=e.gd;function i(e,t,n,s,i,r){a.a.call(this,e,t,n,s,i,r),this._renderedAnimation=0,this._renderedDirection=0,this._centerX=0,this._centerY=0,this._originX=0,this._originY=0,this._pixiObject=new o.Sprite(this._pixiResourcesLoader.getInvalidPIXITexture()),this._pixiContainer.addChild(this._pixiObject),this.updatePIXITexture(),this.updatePIXISprite()}i.prototype=Object.create(a.a.prototype),i.getThumbnail=function(e,t,n){const a=s.asSpriteObject(n);if(a.getAnimationsCount()>0&&a.getAnimation(0).getDirectionsCount()>0&&a.getAnimation(0).getDirection(0).getSpritesCount()>0){const n=a.getAnimation(0).getDirection(0).getSprite(0).getImageName();return t.getResourceFullUrl(e,n)}return"res/unknown32.png"},i.prototype.updatePIXISprite=function(){this._pixiObject.anchor.x=this._centerX/this._pixiObject.texture.frame.width,this._pixiObject.anchor.y=this._centerY/this._pixiObject.texture.frame.height,this._pixiObject.rotation=this._shouldNotRotate?0:a.a.toRad(this._instance.getAngle()),this._instance.hasCustomSize()?(this._pixiObject.scale.x=this._instance.getCustomWidth()/this._pixiObject.texture.frame.width,this._pixiObject.scale.y=this._instance.getCustomHeight()/this._pixiObject.texture.frame.height):(this._pixiObject.scale.x=1,this._pixiObject.scale.y=1),this._pixiObject.position.x=this._instance.getX()+(this._centerX-this._originX)*Math.abs(this._pixiObject.scale.x),this._pixiObject.position.y=this._instance.getY()+(this._centerY-this._originY)*Math.abs(this._pixiObject.scale.y)},i.prototype.updateSprite=function(){this._sprite=null,this._shouldNotRotate=!1;const e=s.asSpriteObject(this._associatedObject);if(e.hasNoAnimations())return!1;this._renderedAnimation=this._instance.getRawFloatProperty("animation"),this._renderedAnimation>=e.getAnimationsCount()&&(this._renderedAnimation=0);const t=e.getAnimation(this._renderedAnimation);if(t.hasNoDirections())return!1;if(this._renderedDirection=0,t.useMultipleDirections()){let e=Math.floor(this._instance.getAngle())%360;e<0&&(e+=360),this._renderedDirection=Math.round(e/45)%8}this._renderedDirection>=t.getDirectionsCount()&&(this._renderedDirection=0);const n=t.getDirection(this._renderedDirection);return 0!==n.getSpritesCount()&&(this._shouldNotRotate=t.useMultipleDirections(),this._sprite=n.getSprite(0),!0)},i.prototype.updatePIXITexture=function(){if(this.updateSprite(),!this._sprite)return;this._pixiObject.texture=this._pixiResourcesLoader.getPIXITexture(this._project,this._sprite.getImageName());const e=this._sprite.getOrigin();if(this._originX=e.getX(),this._originY=e.getY(),this._sprite.isDefaultCenterPoint())if(this._pixiObject.texture.noFrame){var t=this;this._pixiObject.texture.on("update",(function(){t._centerX=t._pixiObject.texture.width/2,t._centerY=t._pixiObject.texture.height/2,t._pixiObject.texture.off("update",this)}))}else this._centerX=this._pixiObject.texture.width/2,this._centerY=this._pixiObject.texture.height/2;else{const e=this._sprite.getCenter();this._centerX=e.getX(),this._centerY=e.getY()}},i.prototype.update=function(){const e=this._instance.getRawFloatProperty("animation");this._renderedAnimation!==e&&this.updatePIXITexture(),this.updatePIXISprite()},i.prototype.getOriginX=function(){return this._sprite&&this._pixiObject?this._sprite.getOrigin().getX()*this._pixiObject.scale.x:0},i.prototype.getOriginY=function(){return this._sprite&&this._pixiObject?this._sprite.getOrigin().getY()*this._pixiObject.scale.y:0},i.prototype.getDefaultWidth=function(){return Math.abs(this._pixiObject.width)},i.prototype.getDefaultHeight=function(){return Math.abs(this._pixiObject.height)},t.a=i}).call(this,n(1))},1656:function(e,t,n){"use strict";(function(e){var a=n(193),o=n(108);const s=e.gd;function i(e,t,n,i,r,l){a.a.call(this,e,t,n,i,r,l);var c=s.asTiledSpriteObject(i);this._texture=c.getTexture(),this._pixiObject=new o.extras.TilingSprite(this._pixiResourcesLoader.getPIXITexture(e,c.getTexture()),c.getWidth(),c.getHeight()),this._pixiObject.anchor.x=.5,this._pixiObject.anchor.y=.5,this._pixiContainer.addChild(this._pixiObject)}i.prototype=Object.create(a.a.prototype),i.getThumbnail=function(e,t,n){var a=s.asTiledSpriteObject(n);return t.getResourceFullUrl(e,a.getTexture())},i.prototype.update=function(){var e=s.asTiledSpriteObject(this._associatedObject);this._instance.hasCustomSize()?(this._pixiObject.width=this._instance.getCustomWidth(),this._pixiObject.height=this._instance.getCustomHeight()):(this._pixiObject.width=e.getWidth(),this._pixiObject.height=e.getHeight()),this._texture!==e.getTexture()&&(this._texture=e.getTexture(),this._pixiObject.texture=this._pixiResourcesLoader.getPIXITexture(this._project,e.getTexture())),this._pixiObject.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.y=this._instance.getY()+this._pixiObject.height/2,this._pixiObject.rotation=a.a.toRad(this._instance.getAngle())},i.prototype.getDefaultWidth=function(){return s.asTiledSpriteObject(this._associatedObject).getWidth()},i.prototype.getDefaultHeight=function(){return s.asTiledSpriteObject(this._associatedObject).getHeight()},t.a=i}).call(this,n(1))},1657:function(e,t,n){"use strict";(function(e){var a=n(193),o=n(108);const s=e.gd;function i(e,t,n,o,s,i){a.a.call(this,e,t,n,o,s,i),this.makeObjects(),this.updateTexture()}i.prototype=Object.create(a.a.prototype),i.prototype.update=function(){const e=s.asPanelSpriteObject(this._associatedObject);e.isTiled()!==this._tiled&&this.makeObjects(),e.getTexture()!==this._textureName&&this.updateTexture(),this.updateAngle(),this.updatePosition();const t=this._width,n=this._height;if(this._instance.hasCustomSize())this._width=this._instance.getCustomWidth(),this._height=this._instance.getCustomHeight();else{var a=s.asPanelSpriteObject(this._associatedObject);this._width=a.getWidth(),this._height=a.getHeight()}this._width===t&&this._height===n||this.updateWidthHeight()},i.prototype.makeObjects=function(){const e=s.asPanelSpriteObject(this._associatedObject);this._textureName=e.getTexture();const t=this._pixiResourcesLoader.getPIXITexture(this._project,this._textureName);this._tiled=e.isTiled();var n=this._tiled?o.extras.TilingSprite:o.Sprite;this._pixiObject||(this._pixiObject=new o.Container,this._pixiContainer.addChild(this._pixiObject)),this._centerSprite=new n(new o.Texture(t)),this._borderSprites=[new n(new o.Texture(t)),new o.Sprite(t),new n(new o.Texture(t)),new o.Sprite(t),new n(new o.Texture(t)),new o.Sprite(t),new n(new o.Texture(t)),new o.Sprite(t)],this._pixiObject.removeChildren(),this._pixiObject.addChild(this._centerSprite);for(var a=0;a<this._borderSprites.length;++a)this._pixiObject.addChild(this._borderSprites[a])},i.prototype.updateAngle=function(){this._pixiObject.rotation=a.a.toRad(this._instance.getAngle())},i.prototype.updatePosition=function(){this._pixiObject.x=this._instance.getX()+this._width/2,this._pixiObject.y=this._instance.getY()+this._height/2},i.prototype._updateLocalPositions=function(){const e=s.asPanelSpriteObject(this._associatedObject);this._centerSprite.position.x=e.getLeftMargin(),this._centerSprite.position.y=e.getTopMargin(),this._borderSprites[0].position.x=this._width-e.getRightMargin(),this._borderSprites[0].position.y=e.getTopMargin(),this._borderSprites[1].position.x=this._width-this._borderSprites[1].width,this._borderSprites[1].position.y=0,this._borderSprites[2].position.x=e.getLeftMargin(),this._borderSprites[2].position.y=0,this._borderSprites[3].position.x=0,this._borderSprites[3].position.y=0,this._borderSprites[4].position.x=0,this._borderSprites[4].position.y=e.getTopMargin(),this._borderSprites[5].position.x=0,this._borderSprites[5].position.y=this._height-this._borderSprites[5].height,this._borderSprites[6].position.x=e.getLeftMargin(),this._borderSprites[6].position.y=this._height-e.getBottomMargin(),this._borderSprites[7].position.x=this._width-this._borderSprites[7].width,this._borderSprites[7].position.y=this._height-this._borderSprites[7].height},i.prototype._updateSpritesAndTexturesSize=function(){const e=s.asPanelSpriteObject(this._associatedObject);this._centerSprite.width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._centerSprite.height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[0].width=e.getRightMargin(),this._borderSprites[0].height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[2].height=e.getTopMargin(),this._borderSprites[2].width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._borderSprites[4].width=e.getLeftMargin(),this._borderSprites[4].height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[6].height=e.getBottomMargin(),this._borderSprites[6].width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._wasRendered=!0,this._pixiObject.cacheAsBitmap=!1},i.prototype.updateTexture=function(){const e=s.asPanelSpriteObject(this._associatedObject);this._textureName=e.getTexture();const t=this._pixiResourcesLoader.getPIXITexture(this._project,this._textureName);if(t.noFrame){const e=this;t.on("update",(function(){e.updateTexture(),t.off("update",this)}))}else console.log("Updating PanelSprite instance texture"),this._centerSprite.texture=new o.Texture(t,n(new o.Rectangle(e.getLeftMargin(),e.getTopMargin(),t.width-e.getLeftMargin()-e.getRightMargin(),t.height-e.getTopMargin()-e.getBottomMargin()))),this._borderSprites[0].texture=new o.Texture(t,n(new o.Rectangle(t.width-e.getRightMargin(),e.getTopMargin(),e.getRightMargin(),t.height-e.getTopMargin()-e.getBottomMargin()))),this._borderSprites[1].texture=new o.Texture(t,n(new o.Rectangle(t.width-e.getRightMargin(),0,e.getRightMargin(),e.getTopMargin()))),this._borderSprites[2].texture=new o.Texture(t,n(new o.Rectangle(e.getLeftMargin(),0,t.width-e.getLeftMargin()-e.getRightMargin(),e.getTopMargin()))),this._borderSprites[3].texture=new o.Texture(t,n(new o.Rectangle(0,0,e.getLeftMargin(),e.getTopMargin()))),this._borderSprites[4].texture=new o.Texture(t,n(new o.Rectangle(0,e.getTopMargin(),e.getLeftMargin(),t.height-e.getTopMargin()-e.getBottomMargin()))),this._borderSprites[5].texture=new o.Texture(t,n(new o.Rectangle(0,t.height-e.getBottomMargin(),e.getLeftMargin(),e.getBottomMargin()))),this._borderSprites[6].texture=new o.Texture(t,n(new o.Rectangle(e.getLeftMargin(),t.height-e.getBottomMargin(),t.width-e.getLeftMargin()-e.getRightMargin(),e.getBottomMargin()))),this._borderSprites[7].texture=new o.Texture(t,n(new o.Rectangle(t.width-e.getRightMargin(),t.height-e.getBottomMargin(),e.getRightMargin(),e.getBottomMargin()))),this._updateSpritesAndTexturesSize(),this._updateLocalPositions(),this.updatePosition();function n(e){return e.width<0&&(e.width=0),e.height<0&&(e.height=0),e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x>t.width&&(e.x=t.width),e.y>t.height&&(e.y=t.height),e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),e}},i.prototype.updateWidthHeight=function(){this._pixiObject.pivot.x=this._width/2,this._pixiObject.pivot.y=this._height/2,this._updateSpritesAndTexturesSize(),this._updateLocalPositions(),this.updatePosition()},i.prototype.getDefaultWidth=function(){return s.asPanelSpriteObject(this._associatedObject).getWidth()},i.prototype.getDefaultHeight=function(){return s.asPanelSpriteObject(this._associatedObject).getHeight()},i.getThumbnail=function(e,t,n){const a=s.asPanelSpriteObject(n);return t.getResourceFullUrl(e,a.getTexture())},t.a=i}).call(this,n(1))},1658:function(e,t,n){"use strict";(function(e){var a=n(193),o=n(108);const s=e.gd;function i(e,t,n,i,r,l){a.a.call(this,e,t,n,i,r,l);const c=s.asTextObject(this._associatedObject);this._pixiObject=new o.Text(" ",{align:"left"}),this._pixiObject.anchor.x=.5,this._pixiObject.anchor.y=.5,this._pixiContainer.addChild(this._pixiObject),this._styleFontDirty=!0,this._fontFamily=this._pixiResourcesLoader.getFontFamily(this._project,c.getFontName()),this.update()}i.prototype=Object.create(a.a.prototype),i.getThumbnail=function(e,t,n){return"CppPlatform/Extensions/texticon24.png"},i.prototype.update=function(){const e=s.asTextObject(this._associatedObject);this._pixiObject.text=e.getString(),(e.isItalic()!==this._isItalic||e.isBold()!==this._isBold||e.getCharacterSize()!==this._characterSize||this._instance.hasCustomSize()!==this._wrapping||this._instance.getCustomWidth()!==this._wrappingWidth&&this._wrapping)&&(this._isItalic=e.isItalic(),this._isBold=e.isBold(),this._characterSize=e.getCharacterSize(),this._wrapping=this._instance.hasCustomSize(),this._wrappingWidth=this._instance.getCustomWidth(),this._styleFontDirty=!0),this._fontName!==e.getFontName()&&(this._fontName=e.getFontName(),this._pixiResourcesLoader.loadFontFamily(this._project,e.getFontName()).then(e=>{this._fontFamily=e,this._styleFontDirty=!0}).catch(e=>{console.warn("Unable to load font family",e)})),this._styleFontDirty&&(this._pixiObject.style.fontFamily=this._fontFamily||"Arial",this._pixiObject.style.fontSize=Math.max(1,this._characterSize)+"px",this._pixiObject.style.fontStyle=this._isItalic?"italic":"normal",this._pixiObject.style.fontWeight=this._isBold?"bold":"normal",this._pixiObject.style.wordWrap=this._wrapping,this._pixiObject.style.wordWrapWidth=this._wrappingWidth<=1?1:this._wrappingWidth,this._pixiObject.style.breakWords=!0,this._pixiObject.dirty=!0,this._styleFontDirty=!1),e.getColorR()===this._colorR&&e.getColorG()===this._colorG&&e.getColorB()===this._colorB||(this._colorR=e.getColorR(),this._colorG=e.getColorG(),this._colorB=e.getColorB(),this._pixiObject.style.fill="rgb("+this._colorR+","+this._colorG+","+this._colorB+")",this._pixiObject.dirty=!0),this._pixiObject.position.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.position.y=this._instance.getY()+this._pixiObject.height/2,this._pixiObject.rotation=a.a.toRad(this._instance.getAngle())},i.prototype.getDefaultWidth=function(){return this._pixiObject.width},i.prototype.getDefaultHeight=function(){return this._pixiObject.height},t.a=i}).call(this,n(1))},1659:function(e,t,n){"use strict";var a=n(503);t.a=Object(a.a)("CppPlatform/Extensions/primitivedrawingicon.png")},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(78),o=n(2),s=n.n(o),i=n(101),r=n(83);const l={display:"flex",alignItems:"center",paddingLeft:8,paddingRight:8};class c extends o.Component{render(){const e=this.props.justifyContent;return s.a.createElement(i.a,null,t=>s.a.createElement("div",{style:Object(a.a)({},l,{height:32,backgroundColor:t.toolbar.backgroundColor,justifyContent:e})},this.props.children))}}const u={marginRight:5},d=({children:e})=>s.a.createElement(r.a,{noShrink:!0,style:u},e);t.b=c},1660:function(e,t,n){"use strict";var a=n(503);t.a=Object(a.a)("CppPlatform/Extensions/textentry.png")},1661:function(e,t,n){"use strict";(function(e){var a=n(193),o=n(108),s=n(242);const i=e.gd;function r(e,t,n,s,i,r){a.a.call(this,e,t,n,s,i,r),this._pixiObject=new o.Graphics,this._pixiContainer.addChild(this._pixiObject),this.updateGraphics()}r.prototype=Object.create(a.a.prototype),r.getThumbnail=function(e,t,n){return"CppPlatform/Extensions/particleSystemicon.png"},r.prototype.update=function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this.updateGraphics()},r.prototype.updateGraphics=function(){const e=i.asParticleEmitterObject(this._associatedObject);this._pixiObject.clear();const t=this._instance.getAngle()/180*3.14159,n=e.getConeSprayAngle(),a=t-n/2/180*3.14159,o=t+n/2/180*3.14159;this._pixiObject.beginFill(0,0),this._pixiObject.lineStyle(3,Object(s.c)(e.getParticleRed2(),e.getParticleGreen2(),e.getParticleBlue2()),1),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(64*Math.cos(a),64*Math.sin(a)),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(64*Math.cos(o),64*Math.sin(o)),this._pixiObject.endFill(),this._pixiObject.lineStyle(0,0,1),this._pixiObject.beginFill(Object(s.c)(e.getParticleRed1(),e.getParticleGreen1(),e.getParticleBlue1())),this._pixiObject.drawCircle(0,0,8),this._pixiObject.endFill()},r.prototype.getDefaultWidth=function(){return 128},r.prototype.getDefaultHeight=function(){return 128},r.prototype.getOriginX=function(){return 64},r.prototype.getOriginY=function(){return 64},t.a=r}).call(this,n(1))},1662:function(e,t,n){"use strict";var a=n(503);t.a=Object(a.a)("JsPlatform/Extensions/skeletonicon24.png")},1663:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1664),o=n.n(a);const s=(e,t,n={})=>{if("undefined"!==typeof FontFace){const a=new FontFace(e,t,n);return document.fonts.add(a),a.load()}{const a=document.createElement("style");return a.appendChild(document.createTextNode("@font-face {\n          font-family: ".concat(e,";\n          src: ").concat(t,";\n        }"))),document.head.appendChild(a),new o.a(e,n).load().catch(t=>{throw console.warn("Error while loading font ".concat(e),t),t})}}},1665:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var a=n(72),o=n(2),s=n.n(o),i=n(84),r=n(75),l=n(786),c=n(504),u=n(83);const d={button:{margin:5},description:{display:"inline-block",marginRight:5}};class h extends o.Component{constructor(...e){super(...e),this._yesButton=s.a.createRef()}focus(){Object(c.a)(this._yesButton)}render(){const e=this.props,t=e.parameterMetadata,n=e.value,o=t?t.getDescription():void 0,c=Object(l.a)(n,t);return s.a.createElement(r.b,null,s.a.createElement(u.a,{style:d.description},o),s.a.createElement(r.a,{noMargin:!0},s.a.createElement(i.a,{style:d.button,label:s.a.createElement(a.Trans,{id:"Yes"}),primary:"yes"===c,onClick:()=>this.props.onChange("yes"),ref:this._yesButton})),s.a.createElement(r.a,{noMargin:!0},s.a.createElement(i.a,{style:d.button,label:s.a.createElement(a.Trans,{id:"No"}),primary:"yes"!==c,onClick:()=>this.props.onChange("no")})))}}const p=({value:e,parameterMetadata:t})=>"yes"===Object(l.a)(e,t)?s.a.createElement(a.Trans,{id:"yes"}):s.a.createElement(a.Trans,{id:"no"})},1666:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var a=n(72),o=n(2),s=n.n(o),i=n(84),r=n(75),l=n(786),c=n(504),u=n(83);const d={button:{margin:5},description:{display:"inline-block",marginRight:5}};class h extends o.Component{constructor(...e){super(...e),this._trueButton=s.a.createRef()}focus(){Object(c.a)(this._trueButton)}render(){const e=this.props,t=e.parameterMetadata,n=e.value,o=t?t.getDescription():void 0,c=Object(l.a)(n,t);return s.a.createElement(r.b,null,s.a.createElement(u.a,{style:d.description},o),s.a.createElement(r.a,{noMargin:!0},s.a.createElement(i.a,{style:d.button,label:s.a.createElement(a.Trans,{id:"True"}),primary:"True"===c,onClick:()=>this.props.onChange("True"),ref:this._trueButton})),s.a.createElement(r.a,{noMargin:!0},s.a.createElement(i.a,{style:d.button,label:s.a.createElement(a.Trans,{id:"False"}),primary:"True"!==c,onClick:()=>this.props.onChange("False")})))}}const p=({value:e,parameterMetadata:t})=>"True"===Object(l.a)(e,t)?s.a.createElement(a.Trans,{id:"true"}):s.a.createElement(a.Trans,{id:"false"})},1667:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),o=n.n(a),s=n(372);class i extends a.Component{focus(){this._field&&this._field.focus()}render(){return o.a.createElement(s.a,Object.assign({expressionType:"number",ref:e=>this._field=e},this.props))}}},1668:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(127),o=n(2),s=n.n(o),i=n(787),r=n(373),l=n(301),c=n(374);const u={flex:1,display:"flex",flexDirection:"column"};class d extends o.Component{constructor(...e){super(...e),this.instructionsInfo=Object(c.a)(Object(i.a)(this.props.expressionType),this.props.scope),this.instructionsInfoTree=Object(l.a)(this.instructionsInfo)}render(){const e=this.props,t=(e.expressionType,e.scope,Object(a.a)(e,["expressionType","scope"]));return s.a.createElement(r.a,Object.assign({style:u,instructionsInfo:this.instructionsInfo,instructionsInfoTree:this.instructionsInfoTree,iconSize:16,helpPagePath:"/all-features/expressions-reference"},t))}}},1674:function(e,t,n){"use strict";var a=n(78),o=n(2);const s={width:"100%",position:"absolute",whiteSpace:"pre-wrap",wordWrap:"break-word",color:"transparent"},i={backgroundColor:"rgba(244, 67, 54, 0.15)",borderSizing:"border-box",borderBottom:"3px solid rgba(244, 67, 54, 0.7)"};t.a=({value:e,style:t,highlights:n})=>{const r=n.slice().sort((e,t)=>e.begin-t.begin),l=[];let c=0;return r.forEach((t,n)=>{const a=Math.max(t.begin,c);a!==c&&l.push(o.createElement("span",{key:"defaultText-".concat(n)},e.substring(c,a))),c<t.end&&(l.push(o.createElement("span",{key:"highlightedText-".concat(n),style:i},e.substring(a,t.end))),c=t.end)}),c<e.length&&l.push(o.createElement("span",{key:"defaultText-end"},e.substring(c))),o.createElement("div",{style:Object(a.a)({},s,{},t)},l)}},1676:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var a=n(90),o=n(192),s=n(157),i=n.n(s),r=n(787),l=n(374),c=n(506);const u=(e,t,n)=>e.filter(e=>!n||e.type===t).map(e=>e.name&&e.parameters?{kind:"Expression",completion:e.name,enumeratedExpressionMetadata:e,addParenthesis:!0,addClosingParenthesis:0===Object(c.b)(e).length,isExact:n}:null).filter(Boolean),d=(e,t)=>{const n=e.gd;return i()(Object(a.mapVector)(t,t=>{const a=t.getCompletionKind();if(a===n.ExpressionCompletionDescription.Expression){const n=t.getObjectName();return t.getBehaviorName()?function(e,t){const n=t.getPrefix(),a=t.getType(),o=t.getBehaviorName(),s=t.isExact(),i=e.gd,c=e.globalObjectsContainer,d=e.objectsContainer,h=i.getTypeOfBehavior(c,d,o,!0),p=Object(r.b)(a,h),m=Object(l.a)(Object(r.e)(p,n),e.scope);return u(m,n,s)}(e,t):n?function(e,t){const n=t.getPrefix(),a=t.getType(),o=t.getObjectName(),s=t.isExact(),i=e.gd,c=e.globalObjectsContainer,d=e.objectsContainer,h=i.getTypeOfObject(c,d,o,!0),p=Object(r.d)(a,h),m=Object(l.a)(Object(r.e)(p,n),e.scope);return u(m,n,s)}(e,t):function(e,t){const n=t.getPrefix(),a=t.getType(),o=t.isExact(),s=Object(r.c)(a),i=Object(l.a)(Object(r.e)(s,n),e.scope);return u(i,n,o)}(e,t)}return a===n.ExpressionCompletionDescription.Object?function(e,t){const n=t.getPrefix(),a=t.getType(),s=e.gd,i=e.globalObjectsContainer,r=e.objectsContainer,l=Object(o.d)(i,r),c=l.allObjectsList,u=l.allGroupsList,d=Object(o.f)(c,{searchText:n,selectedTags:[]}),h=Object(o.e)(u,n),p=!s.ParameterMetadata.isObject(a);return[...d.map(({object:e})=>({kind:"Object",completion:e.getName(),object:e,addDot:p})),...h.map(({group:e})=>({kind:"Object",completion:e.getName(),addDot:p}))]}(e,t):a===n.ExpressionCompletionDescription.Behavior?function(e,t){const n=t.getPrefix(),a=t.isExact(),o=t.getObjectName(),s=e.gd,i=e.globalObjectsContainer,r=e.objectsContainer;return s.getBehaviorsOfObject(i,r,o,!0).toJSArray().filter(e=>-1!==e.indexOf(n)).map(e=>({kind:"Behavior",completion:e,addNamespaceSeparator:!0,isExact:a}))}(e,t):[]}))},h=({expression:e,caretLocation:t},n)=>{const a=e=>{const t=n.addDot?".":n.addNamespaceSeparator?"::":n.addParenthesis?n.addClosingParenthesis?"()":"(":"",a=!e||!t||e[0]!==t[0];return n.completion+(a?t:"")};if(t>e.length&&(t=e.length),0===t||!e){const t=a(void 0)+e;return{caretLocation:t.length,expression:t}}const o=t-1,s=e=>-1!==" .:+-/*=()<>[]@!?|\\^%#".indexOf(e);let i=o;if(s(e[i]))i++;else for(;i>0&&!s(e[i-1]);)i--;let r=o;for(;r<e.length&&!s(e[r+1]);)r++;const l=e[r+1],c=e.substring(0,i),u=a(l),d=e.substring(r+1);return{caretLocation:c.length+u.length,expression:c+u+d}}},1677:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return l}));var a=n(78);const o=()=>({autocompletions:[],selectedCompletionIndex:0}),s=e=>Math.max(0,e.autocompletions.length-25),i=e=>0===s(e)?e.autocompletions:e.autocompletions.slice(0,25),r=(e,t)=>({autocompletions:t,selectedCompletionIndex:e.autocompletions.length!==t.length?0:e.selectedCompletionIndex}),l=(e,{event:t,onUpdateAutocompletions:n,onInsertAutocompletion:s})=>{if("ArrowDown"!==t.key&&"ArrowUp"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key||n(),!e.autocompletions.length)return e;const i=Math.min(25,e.autocompletions.length);if("ArrowDown"===t.key)return t.preventDefault(),Object(a.a)({},e,{selectedCompletionIndex:(e.selectedCompletionIndex+1)%i});if("ArrowUp"===t.key)return t.preventDefault(),Object(a.a)({},e,{selectedCompletionIndex:(i+e.selectedCompletionIndex-1)%i});if("Escape"===t.key)return t.preventDefault(),t.stopPropagation(),o();if("Enter"===t.key||"Tab"===t.key){const n=e.autocompletions[e.selectedCompletionIndex];n&&s(n),t.preventDefault()}return e}},1678:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(72),o=n(2),s=n(2373),i=n(2378),r=n(351),l=n.n(r),c=n(2467),u=n(83),d=n(218),h=n(506),p=n(75),m=n(180);const g={overflow:"hidden",overflowWrap:"break-word"},b=o.memo(({src:e})=>o.createElement("img",{alt:"",src:e,crossOrigin:"anonymous",style:{maxWidth:16,maxHeight:16}})),f=(e,t,n)=>Object(h.b)(n).map(n=>{const a=e.getUserFriendlyTypeName(n);return a?t._(a):n}).join(", "),E=o.forwardRef(({expressionAutocompletion:e,isSelected:t,onClick:n,i18n:a,parameterRenderingService:s},i)=>{if(!e.enumeratedExpressionMetadata)return null;const r=t?o.createElement("b",null,e.completion):e.completion;return o.createElement(c.a,{style:x.button,onMouseDown:()=>{n()},onClick:()=>{n()},ref:i},o.createElement(b,{src:e.enumeratedExpressionMetadata.iconFilename}),o.createElement(p.c,null),o.createElement(u.a,{style:g,noMargin:!0,align:"left"},r,"(",o.createElement("i",null,f(s,a,e.enumeratedExpressionMetadata)),")"))}),v=({expressionAutocompletion:e,i18n:t,parameterRenderingService:n})=>e.enumeratedExpressionMetadata?o.createElement(p.a,null,o.createElement(p.b,{noMargin:!0,expand:!0,alignItems:"center"},o.createElement(b,{src:e.enumeratedExpressionMetadata.iconFilename}),o.createElement(p.c,null),o.createElement(u.a,{style:g,noMargin:!0,align:"left"},o.createElement("b",null,e.completion),"(",o.createElement("i",null,f(n,t,e.enumeratedExpressionMetadata)),")")),o.createElement(u.a,{style:g,noMargin:!0,size:"body2"},e.enumeratedExpressionMetadata.metadata.getDescription())):null,y=o.forwardRef(({project:e,expressionAutocompletion:t,isSelected:n,onClick:a},s)=>{const i=e&&t.object?m.a.getThumbnail(e,t.object):"res/types/object.png",r=n?o.createElement("b",null,t.completion):t.completion;return o.createElement(c.a,{style:x.button,onMouseDown:()=>{a()},onClick:()=>{a()},ref:s},o.createElement(b,{src:i}),o.createElement(p.c,null),o.createElement(u.a,{style:g,noMargin:!0,align:"left"},r))}),C=o.forwardRef(({expressionAutocompletion:e,isSelected:t,onClick:n},a)=>{const s=t?o.createElement("b",null,e.completion):e.completion;return o.createElement(c.a,{style:x.button,onMouseDown:()=>{n()},onClick:()=>{n()},ref:a},o.createElement(b,{src:"res/types/behavior.png"}),o.createElement(p.c,null),o.createElement(u.a,{style:g,noMargin:!0,align:"left"},s))}),x={container:{width:370,maxHeight:150,display:"flex",overflowX:"hidden"},button:{width:"100%",paddingLeft:8,paddingRight:8,justifyContent:"flex-start"},tooManyTextContainer:{width:"100%"},popperStyle:{zIndex:l.a.tooltip+100}};function j({project:e,expressionAutocompletions:t,remainingCount:n,selectedCompletionIndex:r,anchorEl:l,onChoose:c,parameterRenderingService:h}){const m=o.useRef(null),g=o.useRef(null);return o.useEffect(()=>{m.current&&g.current&&m.current.scrollTo(g.current)},[m,g,r]),0===t.length?null:o.createElement(a.I18n,null,({i18n:a})=>o.createElement(s.a,{style:x.popperStyle,open:!0,anchorEl:l,placement:"bottom-start",disablePortal:!1},o.createElement(i.a,{variant:"outlined",square:!0,style:x.container},o.createElement(d.a,{autoHideScrollbar:!0,ref:m},t.map((t,n)=>{const s=r===n,i=s?g:void 0;return"Expression"===t.kind?t.isExact?o.createElement(v,{key:n,expressionAutocompletion:t,i18n:a,parameterRenderingService:h}):o.createElement(E,{key:n,expressionAutocompletion:t,onClick:()=>c(t),isSelected:s,i18n:a,parameterRenderingService:h,ref:i}):"Object"===t.kind?o.createElement(y,{key:n,project:e,expressionAutocompletion:t,onClick:()=>c(t),isSelected:s,ref:i}):"Behavior"===t.kind?o.createElement(C,{key:n,expressionAutocompletion:t,onClick:()=>c(t),isSelected:s,ref:i}):null}),n>0&&o.createElement(p.a,{justifyContent:"flex-start"},o.createElement(u.a,null,"And ",n," others..."))))))}},1680:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),o=n.n(a),s=n(372);class i extends a.Component{focus(){this._field&&this._field.focus()}render(){return o.a.createElement(s.a,Object.assign({expressionType:"string",ref:e=>this._field=e},this.props))}}},1681:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2),o=n.n(a),s=n(162);const i=e=>{if(!e)return[];try{return JSON.parse(e.getExtraInfo())}catch(t){console.error("The parameter seems misconfigured, as an array of choices could not be extracted - verify that your properly wrote a list of choices in JSON format. Full exception is:",t)}return[]};class r extends a.Component{focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.value,n=e.onChange,a=e.isInline,r=e.parameterMetadata;return o.a.createElement(s.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:r?r.getDescription():void 0,helperMarkdownText:r?r.getLongDescription():void 0,fullWidth:!0,value:t,onChange:n,dataSource:i(r).map(e=>({text:'"'+e+'"',value:'"'+e+'"'})),openOnFocus:!a,ref:e=>this._field=e})}}},1682:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n(72),o=n(2),s=n(792),i=n(162);const r=e.gd;class l extends o.Component{constructor(e){super(e),this.state={errorText:null},this._behaviorNames=[],this._getError=e=>{if(!e&&!this.props.value)return null;return 0!==this._behaviorNames.filter(e=>this.props.value===e).length?null:"This behavior is not attached to the object"},this._doValidation=e=>{this.setState({errorText:this._getError(e)})},this._forceChooseBehavior=()=>{1===this._behaviorNames.length&&this.props.value!==this._behaviorNames[0]&&this.props.onChange(this._behaviorNames[0])};const t=this.props.parameterMetadata;this._description=t?t.getDescription():void 0,this._longDescription=t?t.getLongDescription():void 0,this._behaviorTypeAllowed=t?t.getExtraInfo():void 0}_updateBehaviorsList(){const e=this.props,t=e.instructionMetadata,n=e.instruction,a=e.expressionMetadata,o=e.expression,i=e.parameterIndex,l=Object(s.a)({instructionMetadata:t,instruction:n,expressionMetadata:a,expression:o,parameterIndex:i});l&&(this._behaviorNames=r.getBehaviorsOfObject(this.props.globalObjectsContainer,this.props.objectsContainer,l,!0).toJSArray().filter(e=>!this._behaviorTypeAllowed||r.getTypeOfBehavior(this.props.globalObjectsContainer,this.props.objectsContainer,e)===this._behaviorTypeAllowed))}focus(){this._field&&this._field.focus()}componentDidUpdate(){this._forceChooseBehavior()}componentDidMount(){this._forceChooseBehavior()}render(){this._updateBehaviorsList();const e=""!==this._behaviorTypeAllowed?o.createElement(a.Trans,{id:"The behavior is not attached to this object. Please select another object or add this behavior."}):o.createElement(a.Trans,{id:"This object has no behaviors: please add this behavior to the object first."});return o.createElement(i.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:this._description,helperMarkdownText:this._longDescription,fullWidth:!0,errorText:this._behaviorNames.length?this.state.errorText:e,value:this.props.value,onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,onBlur:e=>{this._doValidation(e.currentTarget.value)},dataSource:this._behaviorNames.map(e=>({text:e,value:e})),openOnFocus:!this.props.isInline,disabled:this._behaviorNames.length<=1,ref:e=>this._field=e})}}}).call(this,n(1))},1683:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var a=n(72),o=n(2),s=n(548),i=n(207);class r extends o.Component{constructor(...e){super(...e),this.state={editorOpen:!1}}focus(){this._field&&this._field.focus()}render(){const e=this.props.scope,t=e.layout;return o.createElement(o.Fragment,null,o.createElement(s.a,{variablesContainer:t?t.getVariables():null,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,onRequestClose:this.props.onRequestClose,ref:e=>this._field=e,onOpenDialog:()=>this.setState({editorOpen:!0}),globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:e}),this.state.editorOpen&&t&&o.createElement(i.a,{title:o.createElement(a.Trans,{id:"Scene Variables"}),open:!0,variablesContainer:t.getVariables(),onCancel:()=>this.setState({editorOpen:!1}),onApply:()=>{this.setState({editorOpen:!1})},emptyExplanationMessage:o.createElement(a.Trans,{id:"Scene variables can be used to store any value or text during the game."}),emptyExplanationSecondMessage:o.createElement(a.Trans,{id:"For example, you can have a variable called Score representing the current score of the player."})}))}}const l=e=>Object(s.b)(e,"res/types/scenevar.png","scene variable")},1684:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var a=n(72),o=n(2),s=n(548),i=n(207);class r extends o.Component{constructor(...e){super(...e),this.state={editorOpen:!1}}focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.project,n=e.scope;return o.createElement(o.Fragment,null,o.createElement(s.a,{variablesContainer:t?t.getVariables():null,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,ref:e=>this._field=e,onOpenDialog:()=>this.setState({editorOpen:!0}),globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:n}),this.state.editorOpen&&t&&o.createElement(i.a,{title:o.createElement(a.Trans,{id:"Global Variables"}),open:this.state.editorOpen,variablesContainer:t.getVariables(),onCancel:()=>this.setState({editorOpen:!1}),onApply:()=>{this.setState({editorOpen:!1})},emptyExplanationMessage:o.createElement(a.Trans,{id:"Global variables are variables that are persisted across the scenes during the game."})}))}}const l=e=>Object(s.b)(e,"res/types/globalvar.png","global variable")},1685:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(72),o=n(2),s=n(548),i=n(207),r=n(792);class l extends o.Component{constructor(...e){super(...e),this.state={editorOpen:!1}}focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.project,n=e.scope,l=e.instructionMetadata,c=e.instruction,u=e.expressionMetadata,d=e.expression,h=e.parameterIndex,p=Object(r.a)({instructionMetadata:l,instruction:c,expressionMetadata:u,expression:d,parameterIndex:h});let m=null;if(p){const e=n.layout;e&&e.hasObjectNamed(p)?m=e.getObject(p).getVariables():t&&t.hasObjectNamed(p)&&(m=t.getObject(p).getVariables())}return o.createElement(o.Fragment,null,o.createElement(s.a,{variablesContainer:m,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,ref:e=>this._field=e,onOpenDialog:()=>this.setState({editorOpen:!0}),globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:n}),this.state.editorOpen&&m&&o.createElement(i.a,{title:o.createElement(a.Trans,{id:"Object Variables"}),open:this.state.editorOpen,variablesContainer:m,onCancel:()=>this.setState({editorOpen:!1}),onApply:()=>{this.setState({editorOpen:!1})}}))}}const c=e=>Object(s.b)(e,"res/types/objectvar.png","object variable")},1686:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2),o=n.n(a),s=n(90),i=n(162);class r extends a.Component{focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.value,n=e.onChange,a=e.isInline,r=e.scope,l=e.parameterMetadata,c=r.layout,u=c?Object(s.mapFor)(0,c.getLayersCount(),e=>c.getLayerAt(e).getName()):[];return o.a.createElement(i.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:l?l.getDescription():void 0,helperMarkdownText:l?l.getLongDescription():void 0,fullWidth:!0,value:t,onChange:n,onRequestClose:this.props.onRequestClose,openOnFocus:a,dataSource:u.map(e=>({text:e?'"'.concat(e,'"'):'"" (Base layer)',value:'"'.concat(e,'"')})),hintText:'""',ref:e=>this._field=e})}}},1687:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(72),o=n(2),s=n.n(o),i=n(226),r=n(112);class l extends o.Component{focus(){this._field&&this._field.focus()}render(){return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?s.a.createElement(i.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:r.a,resourceKind:"audio",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:s.a.createElement(a.Trans,{id:"Choose the audio file to use"}),ref:e=>this._field=e}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for AudioResourceField"),null)}}},1688:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(72),o=n(2),s=n.n(o),i=n(226),r=n(112);class l extends o.Component{focus(){this._field&&this._field.focus()}render(){return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?s.a.createElement(i.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:r.a,resourceKind:"video",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:s.a.createElement(a.Trans,{id:"Choose the video file to use"}),ref:e=>this._field=e}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for VideoResourceField"),null)}}},1689:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(72),o=n(2),s=n.n(o),i=n(226),r=n(112);class l extends o.Component{focus(){this._field&&this._field.focus()}render(){return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?s.a.createElement(i.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:r.a,resourceKind:"json",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:s.a.createElement(a.Trans,{id:"Choose the json file to use"}),ref:e=>this._field=e}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for JsonResourceField"),null)}}},1690:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(2),o=n.n(a),s=n(372),i=n(286);const r=e=>{const t=e.replace(/"/g,"").split(";");if(3!==t.length)return null;const n=parseInt(t[0],10),a=parseInt(t[1],10),o=parseInt(t[2],10);return n!==n||a!==a||o!==o?null:{r:n,g:a,b:o,a:255}};class l extends a.Component{focus(){this._field&&this._field.focus()}render(){return o.a.createElement(s.a,Object.assign({expressionType:"string",ref:e=>this._field=e,renderExtraButton:({style:e})=>o.a.createElement(i.a,{style:e,disableAlpha:!0,color:r(this.props.value),onChangeComplete:e=>{this.props.onChange('"'+e.rgb.r+";"+e.rgb.g+";"+e.rgb.b+'"')}})},this.props))}}},1691:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n(72),o=n(2),s=n.n(o),i=n(84),r=n(75),l=n(793),c=n(372),u=n(175),d=n(504),h=n(83);class p extends o.Component{constructor(...e){super(...e),this._instantButton=s.a.createRef(),this.state={showDeprecatedNumericValue:""!==this.props.value&&"1"!==this.props.value&&"0"!==this.props.value}}focus(){Object(d.a)(this._instantButton)}render(){const e=this.state.showDeprecatedNumericValue;return s.a.createElement(r.a,{expand:!0,noMargin:!0},s.a.createElement(r.b,{expand:!0,alignItems:"center"},s.a.createElement(r.a,null,s.a.createElement(i.a,{label:Object(l.a)("Instant"),primary:""===this.props.value||"0"===this.props.value,onClick:()=>this.props.onChange("0"),ref:this._instantButton})),s.a.createElement(r.a,null,s.a.createElement(h.a,null,s.a.createElement(a.Trans,{id:"The force will only push the object during the time of one frame. Typically used in an event with no conditions or with conditions that stay valid for a certain amount of time."})))),s.a.createElement(r.b,{expand:!0,alignItems:"center"},s.a.createElement(r.a,null,s.a.createElement(i.a,{label:s.a.createElement(a.Trans,{id:"Permanent"}),primary:"1"===this.props.value,onClick:()=>this.props.onChange("1")})),s.a.createElement(r.a,null,s.a.createElement(h.a,null,s.a.createElement(a.Trans,{id:'The force will push the object forever, unless you use the action "Stop the object". Typically used in an event with conditions that are only true once, or with a "Trigger Once" condition.'})))),e&&s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,null,s.a.createElement(a.Trans,{id:"or"})),s.a.createElement(r.b,{expand:!0},s.a.createElement(r.a,{expand:!0},s.a.createElement(c.a,Object.assign({expressionType:"number"},this.props)))),s.a.createElement(u.a,null,s.a.createElement(a.Trans,{id:'The usage of a number or expression is deprecated. Please now use only "Permanent" or "Instant" for configuring forces.'}))))}}const m=({value:e})=>"1"===e?"a permanent":"0"===e||""===e?"an instant":"a (multiplier: "+e+")"},1692:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2),o=n.n(a),s=n(162),i=n(333);class r extends a.Component{focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.value,n=e.onChange,a=e.isInline,r=e.project,l=e.parameterMetadata,c=r?Object(i.d)(r).map(e=>e.getName()):[];return o.a.createElement(s.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:l?l.getDescription():void 0,helperMarkdownText:l?l.getLongDescription():void 0,fullWidth:!0,value:t,onChange:n,openOnFocus:a,dataSource:c.map(e=>({text:'"'.concat(e,'"'),value:'"'.concat(e,'"')})),hintText:'""',ref:e=>this._field=e})}}},1693:function(e,t,n){"use strict";var a=n(2),o=n(122);t.a=({children:e,isEmpty:t})=>t?a.createElement("span",{className:o.j},"< ",e," >"):a.createElement("span",{className:o.j},e)},1694:function(e,t,n){"use strict";var a=n(2),o=n(122);t.a=()=>a.createElement("span",{className:o.k})},1695:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(78),o=n(2),s=n(131),i=n.n(s),r=n(94),l=n(122);const c=e.gd,u={container:{height:40,display:"flex",alignItems:"center",padding:5,overflow:"hidden"},title:{fontSize:18,width:"100%"}};class d extends o.Component{constructor(...e){super(...e),this.state={editing:!1},this._textField=null,this.edit=()=>{this.setState({editing:!0},()=>{this._textField&&this._textField.focus()})},this.endEditing=()=>{this.setState({editing:!1})}}render(){var e=c.asGroupEvent(this.props.event);const t=e.getBackgroundColorR(),n=e.getBackgroundColorG(),s=e.getBackgroundColorB(),d=(t+n+s)/3>200?"black":"white";return o.createElement("div",{className:i()({[l.m]:!0,[l.n]:this.props.selected}),style:Object(a.a)({},u.container,{backgroundColor:"rgb(".concat(t,", ").concat(n,", ").concat(s,")")}),onClick:this.edit},this.state.editing?o.createElement(r.b,{ref:e=>this._textField=e,value:e.getName(),hintText:{id:"<Enter group name>"},onBlur:this.endEditing,onChange:(t,n)=>{e.setName(n),this.forceUpdate()},style:u.title,inputStyle:{color:d,WebkitTextFillColor:d},underlineFocusStyle:{borderColor:d},fullWidth:!0,id:"group-title",onKeyUp:e=>{"Escape"===e.key&&this.endEditing()},onKeyPress:e=>{"Enter"===e.key&&this.endEditing()}}):o.createElement("span",{className:i()({[l.q]:!0,[l.d]:this.props.disabled}),style:Object(a.a)({},u.title,{color:d})},e.getName()||"<Enter group name>"))}}}).call(this,n(1))},1696:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a=n(78),o=n(2),s=n(131),i=n.n(s),r=n(94),l=n(242),c=n(122);const u=e.gd,d={width:"100%",fontSize:14},h={container:{display:"flex",flexWrap:"wrap",padding:5,overflow:"hidden",minHeight:35},commentTextField:d,commentSpan:Object(a.a)({},d,{boxSizing:"border-box",alignItems:"center",height:"100%",whiteSpace:"pre-wrap",lineHeight:1.5,border:1})};class p extends o.Component{constructor(...e){super(...e),this.state={editing:!1},this.edit=()=>{this.setState({editing:!0},()=>{this._textField&&this._textField.focus()})},this.onEvent=(e,t)=>{u.asCommentEvent(this.props.event).setComment(t),this.props.onUpdate(),this.forceUpdate()},this.endEditing=()=>{this._textField&&this.setState({editing:!1},()=>this.props.onUpdate())},this._getCommentHTML=()=>u.asCommentEvent(this.props.event).getComment().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")}render(){const e=u.asCommentEvent(this.props.event),t=Object(l.b)(e.getBackgroundColorRed(),e.getBackgroundColorGreen(),e.getBackgroundColorBlue()),n=Object(l.b)(e.getTextColorRed(),e.getTextColorGreen(),e.getTextColorBlue());return o.createElement("div",{className:i()({[c.m]:!0,[c.n]:this.props.selected}),style:Object(a.a)({},h.container,{backgroundColor:"#".concat(t)}),onClick:this.edit},this.state.editing?o.createElement(r.b,{multiline:!0,margin:"none",ref:e=>this._textField=e,value:e.getComment(),hintText:{id:"<Enter comment>"},onBlur:this.endEditing,onChange:this.onEvent,style:h.commentTextField,inputStyle:{color:"#".concat(n),padding:0,lineHeight:1.5},underlineFocusStyle:{borderColor:"#".concat(n)},fullWidth:!0,id:"comment-title",onKeyUp:e=>{"Escape"===e.key&&this.endEditing()}}):o.createElement("span",{ref:e=>this._selectable=e,className:i()({[c.q]:!0,[c.d]:this.props.disabled}),style:Object(a.a)({},h.commentSpan,{color:"#".concat(n)}),dangerouslySetInnerHTML:{__html:this._getCommentHTML()}}))}}}).call(this,n(1))},1697:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a=n(78),o=n(2),s=n(294),i=n(131),r=n.n(i),l=n(122),c=n(303),u=n(487),d=n(375);const h=e.gd,p={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}};class m extends o.Component{constructor(...e){super(...e),this._objectField=null,this.state={editing:!1,anchorEl:null},this.edit=e=>{const t=e.currentTarget;setTimeout(()=>this.setState({editing:!0,anchorEl:t},()=>{setTimeout(()=>{this._objectField&&this._objectField.focus()},10)}),10)},this.endEditing=()=>{this.setState({editing:!1,anchorEl:null})}}render(){var e=h.asForEachEvent(this.props.event);const t=e.getObjectToPick();return o.createElement("div",{style:p.container,className:r()({[l.m]:!0,[l.n]:this.props.selected,[l.h]:!0})},o.createElement("div",null,o.createElement("span",{className:r()({[l.q]:!0,[l.d]:this.props.disabled}),onClick:this.edit},t?"Repeat for each instance of ".concat(t,":"):o.createElement("i",null,"Click to choose for which objects this event will be repeated"))),o.createElement(d.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:({style:t,className:n})=>o.createElement(s.a,{instrsList:e.getConditions(),style:t,className:n,selection:this.props.selection,areConditions:!0,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth}),renderActionsList:({className:t})=>o.createElement(s.a,{instrsList:e.getActions(),style:Object(a.a)({},p.actionsList),className:t,selection:this.props.selection,areConditions:!1,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth})}),o.createElement(c.a,{open:this.state.editing,anchorEl:this.state.anchorEl,onRequestClose:this.endEditing},o.createElement(u.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:t,onChange:t=>{e.setObjectToPick(t),this.props.onUpdate()},isInline:!0,ref:e=>this._objectField=e})))}}}).call(this,n(1))},1698:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a=n(78),o=n(2),s=n(294),i=n(131),r=n.n(i),l=n(122),c=n(303),u=n(730),d=n(375);const h=e.gd,p={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}};class m extends o.Component{constructor(...e){super(...e),this._field=null,this.state={editing:!1,anchorEl:null},this.edit=e=>{const t=e.currentTarget;setTimeout(()=>this.setState({editing:!0,anchorEl:t},()=>{setTimeout(()=>{this._field&&this._field.focus()},10)}),10)},this.endEditing=()=>{this.setState({editing:!1,anchorEl:null})}}render(){var e=h.asRepeatEvent(this.props.event);const t=e.getRepeatExpression();return o.createElement("div",{style:p.container,className:r()({[l.m]:!0,[l.n]:this.props.selected,[l.h]:!0})},o.createElement("div",null,o.createElement("span",{className:r()({[l.q]:!0,[l.d]:this.props.disabled}),onClick:this.edit},t?"Repeat ".concat(t," times:"):o.createElement("i",null,"Click to choose how many times will be repeated"))),o.createElement(d.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:({style:t,className:n})=>o.createElement(s.a,{instrsList:e.getConditions(),style:t,className:n,selection:this.props.selection,areConditions:!0,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth}),renderActionsList:({className:t})=>o.createElement(s.a,{instrsList:e.getActions(),style:Object(a.a)({},p.actionsList),className:t,selection:this.props.selection,areConditions:!1,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth})}),o.createElement(c.a,{open:this.state.editing,anchorEl:this.state.anchorEl,onRequestClose:this.endEditing},o.createElement(u.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:t,onChange:t=>{e.setRepeatExpression(t),this.props.onUpdate()},isInline:!0,ref:e=>this._field=e})))}}}).call(this,n(1))},1699:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var a=n(78),o=n(2),s=n(294),i=n(131),r=n.n(i),l=n(122),c=n(375);const u=e.gd,d={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}};class h extends o.Component{render(){var e=u.asWhileEvent(this.props.event);return o.createElement("div",{style:d.container,className:r()({[l.m]:!0,[l.n]:this.props.selected,[l.h]:!0})},o.createElement("div",{className:r()({[l.d]:this.props.disabled})},"While these conditions are true:"),o.createElement(s.a,{instrsList:e.getWhileConditions(),style:{},className:l.c,selection:this.props.selection,areConditions:!0,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth}),o.createElement("div",{className:r()({[l.d]:this.props.disabled})},"Repeat these:"),o.createElement(c.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:({style:t,className:n})=>o.createElement(s.a,{instrsList:e.getConditions(),style:t,className:n,selection:this.props.selection,areConditions:!0,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth}),renderActionsList:({className:t})=>o.createElement(s.a,{instrsList:e.getActions(),style:Object(a.a)({},d.actionsList),className:t,selection:this.props.selection,areConditions:!1,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth})}))}}}).call(this,n(1))},1700:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a=n(72),o=n(2),s=n(277),i=n.n(s),r=n(104),l=n(131),c=n.n(l),u=n(122),d=n(303),h=n(1701),p=n(20);const m=e.gd,g={container:{height:60,display:"flex",alignItems:"center",padding:5},title:{fontSize:18}};class b extends o.Component{constructor(...e){super(...e),this._externalEventsField=null,this.state={editing:!1,anchorEl:null},this.edit=e=>{const t=e.currentTarget;setTimeout(()=>this.setState({editing:!0,anchorEl:t},()=>{setTimeout(()=>{this._externalEventsField&&this._externalEventsField.focus()},10)}),10)},this.openTarget=e=>{const t=this.props,n=t.project,a=t.event,o=t.onOpenLayout,s=t.onOpenExternalEvents,i=m.asLinkEvent(a).getTarget();n.hasExternalEventsNamed(i)?s(i):n.hasLayoutNamed(i)?o(i):Object(p.c)(e._({id:"The specified external events do not exist in the game. Be sure that the name is correctly spelled or create them using the project manager."}))},this.endEditing=()=>{this.setState({editing:!1,anchorEl:null})}}render(){const e=m.asLinkEvent(this.props.event),t=e.getTarget();return o.createElement(a.I18n,null,({i18n:n})=>o.createElement("div",{className:c()({[u.m]:!0,[u.n]:this.props.selected,[u.o]:!0}),style:g.container},o.createElement("span",{style:g.title,className:c()({[u.d]:this.props.disabled})},o.createElement(a.Trans,{id:"Include events from"})," ",o.createElement("i",{className:c()({[u.q]:!0}),onClick:this.edit},t||o.createElement(a.Trans,{id:"< Enter the name of external events >"}))),o.createElement(r.a,{onClick:()=>this.openTarget(n),disabled:!t},o.createElement(i.a,null)),o.createElement(d.a,{open:this.state.editing,anchorEl:this.state.anchorEl,onRequestClose:this.endEditing},o.createElement(h.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:t,onChange:t=>{e.setTarget(t),this.props.onUpdate()},isInline:!0,ref:e=>this._externalEventsField=e}))))}}}).call(this,n(1))},1701:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2),o=n(333),s=n(162);const i=e=>{if(!e)return[];return[...Object(o.b)(e).map(e=>({text:e.getName(),value:e.getName()})),{type:"separator"},...Object(o.d)(e).map(e=>({text:e.getName(),value:e.getName()}))]};class r extends a.Component{focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.value,n=e.onChange,o=e.onRequestClose,r=e.isInline,l=e.project,c=e.parameterMetadata;return a.createElement(s.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:c?c.getDescription():void 0,helperMarkdownText:c?c.getLongDescription():void 0,fullWidth:!0,id:"external-events-field",value:t,onChange:n,onRequestClose:o,dataSource:i(l),openOnFocus:!r,ref:e=>this._field=e})}}},1702:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a=n(2),o=n(21),s=n.n(o),i=n(131),r=n.n(i),l=n(303),c=n(487),u=n(122),d=n(206),h=n(507),p=n(2310);const m=e.gd,g={container:{minHeight:30,display:"flex",flexDirection:"column",backgroundColor:"#1e1e1e"},wrappingText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:"12px",paddingLeft:5,paddingRight:5,margin:0,backgroundColor:"#1e1e1e",color:"#d4d4d4",overflowX:"hidden",maxWidth:"100%"},comment:{color:"#777"},commentLink:{cursor:"pointer",color:"#777",textDecoration:"underline"}};class b extends a.Component{constructor(...e){super(...e),this._objectField=null,this.state={editing:!1,editingObject:!1,anchorEl:null},this.edit=()=>{this.setState({editing:!0},()=>{const e=s.a.findDOMNode(this._input);e&&(e.focus(),e.value=m.asJsCodeEvent(this.props.event).getInlineCode())})},this.endEditing=()=>{const e=m.asJsCodeEvent(this.props.event),t=s.a.findDOMNode(this._input);t&&e.setInlineCode(t.value),this.setState({editing:!1},()=>this.props.onUpdate())},this.onChange=e=>{m.asJsCodeEvent(this.props.event).setInlineCode(e)},this.editObject=e=>{const t=e.currentTarget;setTimeout(()=>this.setState({editingObject:!0,anchorEl:t},()=>{setTimeout(()=>{this._objectField&&this._objectField.focus()},10)}),10)},this.endObjectEditing=()=>{this.setState({editingObject:!1,anchorEl:null})}}render(){const e=m.asJsCodeEvent(this.props.event),t=e.getParameterObjects(),n=a.createElement("span",{className:r()({[u.q]:!0}),onClick:this.editObject},t?", objects /*".concat(t,"*/"):" /* Click here to choose objects to pass to JavaScript */"),o=this.props.scope.eventsFunction?a.createElement("span",null,", eventsFunctionContext"):null,s=a.createElement("p",{style:g.wrappingText},a.createElement("span",null,"(function(runtimeScene"),n,o,a.createElement("span",null,") {")),i=a.createElement("p",{style:g.wrappingText},a.createElement("span",null,"})(runtimeScene"),n,o,a.createElement("span",null,");"),a.createElement("span",{style:g.comment}," // ",a.createElement("a",{href:Object(d.a)("/events/js-code"),target:"_blank",rel:"noopener noreferrer",style:g.commentLink},"Read the documentation and help")));return a.createElement(h.a,{bounds:!0},({measureRef:n,contentRect:o})=>a.createElement("div",{style:g.container,className:r()({[u.m]:!0,[u.n]:this.props.selected}),ref:n},s,a.createElement(p.a,{value:e.getInlineCode(),onChange:this.onChange,width:o.bounds.width,onEditorMounted:()=>this.props.onUpdate()}),i,a.createElement(l.a,{open:this.state.editingObject,anchorEl:this.state.anchorEl,onRequestClose:this.endObjectEditing},a.createElement(c.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:t,onChange:t=>{e.setParameterObjects(t),this.props.onUpdate()},isInline:!0,ref:e=>this._objectField=e}))))}}}).call(this,n(1))},1704:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor(e){this.eventHeights={},this.updateTimeoutId=null,this.component=null,this.component=e}_notifyComponent(){this.updateTimeoutId||(this.updateTimeoutId=setTimeout(()=>{this.component?this.component.onHeightsChanged(()=>this.updateTimeoutId=null):this.updateTimeoutId=null},0))}setEventHeight(e,t){const n=this.eventHeights[e.ptr];void 0!==n&&n===t||this._notifyComponent(),this.eventHeights[e.ptr]=t}getEventHeight(e){return this.eventHeights[e.ptr]||60}}},1706:function(e,t,n){},1707:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(136),o=n(72),s=n(2),i=n(86),r=n(82),l=n(508),c=n(914),u=n(75),d=n(373),h=n(111),p=n(124),m=n(798),g=n(156),b=n(509),f=n(510);const E={fullHeightSelector:{flex:1,display:"flex",flexDirection:"column"}};function v({project:e,globalObjectsContainer:t,objectsContainer:n,onCancel:v,open:y,instruction:C,isCondition:x,isNewInstruction:j,scope:S,onSubmit:T,resourceSources:O,onChooseResource:w,resourceExternalEditors:N,openInstructionOrExpression:_}){const k=Object(f.a)(),P=Object(b.b)({instruction:C,isCondition:x,project:e,isNewInstruction:j,scope:S,globalObjectsContainer:t,objectsContainer:n}),I=Object(a.a)(P,2),F=I[0],B=I[1],M=F.chosenObjectName,R=F.chosenObjectInstructionsInfo,D=F.chosenObjectInstructionsInfoTree,L=B.chooseFreeInstruction,A=B.chooseObject,U=B.chooseObjectInstruction,V=!!R&&!!D,W=s.useState(()=>(e=>e?"object-or-free-instructions":"parameters")(j)),G=Object(a.a)(W,2),z=G[0],H=G[1],Y=s.useState(()=>((e,t)=>e||t?"objects":"free-instructions")(j,V)),K=Object(a.a)(Y,2),X=K[0],q=K[1],J=C.getType(),Z=s.useRef(null);s.useEffect(()=>{"parameters"===z&&Z.current&&Z.current.focus()},[z]);const Q=Object(b.a)({instructionType:J,isCondition:x,project:e}),$=Q?Q.getHelpPath():void 0,ee=()=>s.createElement(p.a,{noFullHeight:!0,key:"instruction-or-object-selector"},s.createElement(c.a,{style:E.fullHeightSelector,project:e,currentTab:X,onChangeTab:q,globalObjectsContainer:t,objectsContainer:n,isCondition:x,chosenInstructionType:M?void 0:J,onChooseInstruction:e=>{L(e),H("parameters")},chosenObjectName:M,onChooseObject:e=>{A(e),H("object-instructions")},focusOnMount:!J,onSearchStartOrReset:k})),te=()=>s.createElement(u.a,{expand:!0,justifyContent:"center",key:"parameters"},s.createElement(l.a,{project:e,scope:S,globalObjectsContainer:t,objectsContainer:n,objectName:M,isCondition:x,instruction:C,resourceSources:O,onChooseResource:w,resourceExternalEditors:N,openInstructionOrExpression:_,ref:Z,focusOnMount:!!J,noHelpButton:!0})),ne=()=>D&&R?s.createElement(d.a,{key:"object-instruction-selector",style:E.fullHeightSelector,instructionsInfo:R,instructionsInfoTree:D,iconSize:24,onChoose:e=>{U(e),H("parameters")},selectedType:J,useSubheaders:!0,focusOnMount:!J,searchPlaceholderObjectName:M,searchPlaceholderIsCondition:x}):null;return s.createElement(g.a,null,e=>s.createElement(i.a,{actions:[s.createElement(r.a,{label:s.createElement(o.Trans,{id:"Cancel"}),primary:!1,onClick:v,key:"cancel"}),s.createElement(r.a,{label:s.createElement(o.Trans,{id:"Ok"}),primary:!0,keyboardFocused:!1,disabled:!J,onClick:T,key:"ok"})],secondaryActions:["large"!==e&&"object-or-free-instructions"!==z?s.createElement(r.a,{label:s.createElement(o.Trans,{id:"Back"}),primary:!1,onClick:()=>((e,t)=>{H("parameters"===e&&M?"medium"===t?"object-or-free-instructions":"object-instructions":"object-or-free-instructions")})(z,e),key:"back"}):null,s.createElement(h.a,{key:"help",helpPagePath:$||"/events",label:$&&"small"!==e&&"object-or-free-instructions"!==z?x?s.createElement(o.Trans,{id:"Help for this condition"}):s.createElement(o.Trans,{id:"Help for this action"}):s.createElement(o.Trans,{id:"Help"})})],open:y,onRequestClose:v,cannotBeDismissed:!0,maxWidth:!1,noMargin:!0,flexRowBody:!0},s.createElement(m.a,{columnsRenderer:{"instruction-or-object-selector":ee,"object-instruction-selector":ne,parameters:te},getColumns:()=>"large"===e?M?["instruction-or-object-selector","object-instruction-selector","parameters"]:["instruction-or-object-selector","parameters"]:"medium"===e?"object-or-free-instructions"===z?["instruction-or-object-selector"]:M?["object-instruction-selector","parameters"]:["parameters"]:"object-or-free-instructions"===z?["instruction-or-object-selector"]:"object-instructions"===z?["object-instruction-selector"]:["parameters"]})))}},1708:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t,n)=>{var a=[".","=","-"],o="-";return"undefined"!=typeof n&&(a=n),"undefined"!=typeof t&&(o=t),e.replace(/\xfc/g,"ue").replace(/\xe4/g,"ae").replace(/\xf6/g,"oe").replace(/\xdf/g,"ss").replace(new RegExp("["+a.join("")+"]","g")," ").replace(/-{2,}/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"").replace(/[^\w ]/gi,"").replace(/[ ]/gi,o)}},1709:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(136),o=n(2377),s=n(2),i=n(508),r=n(509),l=n(914),c=n(373),u=n(798),d=n(510);const h={fullHeightSelector:{flex:1,display:"flex",flexDirection:"column",height:"400px",width:"400px"}};function p({project:e,globalObjectsContainer:t,objectsContainer:n,onCancel:p,open:m,instruction:g,isCondition:b,isNewInstruction:f,anchorEl:E,scope:v,onSubmit:y}){const C=Object(d.a)(),x=Object(r.b)({instruction:g,isCondition:b,project:e,isNewInstruction:f,scope:v,globalObjectsContainer:t,objectsContainer:n}),j=Object(a.a)(x,2),S=j[0],T=j[1],O=S.chosenObjectName,w=S.chosenObjectInstructionsInfo,N=S.chosenObjectInstructionsInfoTree,_=T.chooseFreeInstruction,k=T.chooseObject,P=T.chooseObjectInstruction,I=s.useState("object-or-free-instructions"),F=Object(a.a)(I,2),B=F[0],M=F[1],R=s.useState("objects"),D=Object(a.a)(R,2),L=D[0],A=D[1],U=g.getType(),V=({instruction:t,chosenObjectName:n})=>{const a=Object(r.a)({instructionType:t.getType(),isCondition:b,project:e});a&&Object(i.b)(t,a,n),y()};return s.createElement(o.a,{open:m,onClose:p,anchorEl:E,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},s.createElement(u.a,{columnsRenderer:{"instruction-or-object-selector":()=>s.createElement(l.a,{key:"instruction-or-object-selector",style:h.fullHeightSelector,project:e,currentTab:L,onChangeTab:A,globalObjectsContainer:t,objectsContainer:n,isCondition:b,chosenInstructionType:O?void 0:U,onChooseInstruction:e=>{const t=_(e),n=t.instruction,a=t.chosenObjectName;V({instruction:n,chosenObjectName:a})},chosenObjectName:O,onChooseObject:e=>{k(e),M("object-instructions")},focusOnMount:!U,onSearchStartOrReset:C}),"object-instruction-selector":()=>N&&w?s.createElement(c.a,{key:"object-instruction-selector",style:h.fullHeightSelector,instructionsInfo:w,instructionsInfoTree:N,iconSize:24,onChoose:e=>{const t=P(e),n=t.instruction,a=t.chosenObjectName;V({instruction:n,chosenObjectName:a})},selectedType:U,useSubheaders:!0,focusOnMount:!U,searchPlaceholderObjectName:O,searchPlaceholderIsCondition:b}):null},getColumns:()=>"object-or-free-instructions"===B?["instruction-or-object-selector"]:["object-instruction-selector"]}))}},1710:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b}));var a=n(72),o=n(2),s=n(86),i=n(82),r=n(75),l=n(286),c=n(166),u=n(110);const d=e.gd,h={sizeTextField:{width:90}},p={r:255,g:255,b:255},m={r:0,g:0,b:0},g=e=>e.filter(e=>["BuiltinCommonInstructions::Group","BuiltinCommonInstructions::Comment"].includes(e.getType()));class b extends o.Component{constructor(...e){super(...e),this._applyChangesOnEvent=()=>{const e=this.props.event,t=this.state,n=t.textValue,a=t.textColor,o=t.backgroundColor,s=e.getType();if("BuiltinCommonInstructions::Comment"===s)d.asCommentEvent(e).setComment(n),d.asCommentEvent(e).setTextColor(a.r,a.g,a.b),d.asCommentEvent(e).setBackgroundColor(o.r,o.g,o.b);else if("BuiltinCommonInstructions::Group"===s)return d.asGroupEvent(e).setName(n),void d.asGroupEvent(e).setBackgroundColor(o.r,o.g,o.b)},this._getInitialStateFromEvent=()=>{const e=this.props.event,t=e.getType();let n="",a=m,o=m;if("BuiltinCommonInstructions::Comment"===t){const t=d.asCommentEvent(e);a={r:t.getTextColorRed(),g:t.getTextColorGreen(),b:t.getTextColorBlue()},o={r:t.getBackgroundColorRed(),g:t.getBackgroundColorGreen(),b:t.getBackgroundColorBlue()},n=d.asCommentEvent(e).getComment()}else if("BuiltinCommonInstructions::Group"===t){var s=d.asGroupEvent(e);a=(s.getBackgroundColorR()+s.getBackgroundColorG()+s.getBackgroundColorB())/3>200?m:p,o={r:s.getBackgroundColorR(),g:s.getBackgroundColorG(),b:s.getBackgroundColorB()},n=d.asGroupEvent(e).getName()}else console.error("Dialog was opened for an unsupported event type: "+t);return{textValue:n,textColor:a,backgroundColor:o}},this.state=this._getInitialStateFromEvent()}render(){const e=this.props,t=e.event,n=e.onApply,d=e.onClose,p=this.state,m=p.textValue,g=p.textColor,b=p.backgroundColor,f=t.getType();return o.createElement(s.a,{title:o.createElement(a.Trans,{id:"Edit the event text"}),onRequestClose:d,cannotBeDismissed:!0,open:!0,noMargin:!0,actions:[o.createElement(i.a,{key:"close",label:o.createElement(a.Trans,{id:"Cancel"}),primary:!1,onClick:d}),o.createElement(i.a,{key:"Apply",label:o.createElement(a.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:()=>{this._applyChangesOnEvent(),n()}})]},o.createElement(r.a,{noMargin:!0},o.createElement(c.b,null,o.createElement(c.a,null,o.createElement(a.Trans,{id:"Background color:"})),o.createElement(l.a,{style:h.sizeTextField,disableAlpha:!0,color:b,onChangeComplete:e=>{this.setState({backgroundColor:e.rgb})}}),"BuiltinCommonInstructions::Comment"===f&&o.createElement(o.Fragment,null,o.createElement(c.a,null,o.createElement(a.Trans,{id:"Text color:"})),o.createElement(l.a,{style:h.sizeTextField,disableAlpha:!0,color:g,onChangeComplete:e=>{this.setState({textColor:e.rgb})}}))),o.createElement(r.b,{noMargin:!0},o.createElement(r.a,{expand:!0},o.createElement(r.b,null,o.createElement(u.a,{commitOnBlur:!0,hintText:{id:"Enter the text to be displayed"},fullWidth:!0,multiline:!0,rows:8,rowsMax:30,value:m,onChange:e=>{this.setState({textValue:e})}}))))))}}}).call(this,n(1))},1711:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(264),i=n(272),r=n(232),l=n(138),c=n(304);class u extends a.PureComponent{render(){return o.a.createElement(s.b,{lastChild:!0},o.a.createElement(c.a,{showPreviewButton:this.props.showPreviewButton,onPreview:this.props.onPreview,previewButtonSettings:this.props.previewButtonSettings,onNetworkPreview:this.props.onNetworkPreview,onOpenDebugger:this.props.onOpenDebugger,showNetworkPreviewButton:this.props.showNetworkPreviewButton}),this.props.showPreviewButton&&o.a.createElement(i.a,null),o.a.createElement(r.a,{onClick:this.props.onAddStandardEvent,src:"res/ribbon_default/eventadd32.png",tooltip:{id:"Add a new empty event"}}),o.a.createElement(r.a,{onClick:this.props.onAddSubEvent,src:"res/ribbon_default/subeventadd32.png",disabled:!this.props.canAddSubEvent,tooltip:{id:"Add a sub-event to the selected event"}}),o.a.createElement(r.a,{onClick:this.props.onAddCommentEvent,src:"res/ribbon_default/commentaireadd32.png",tooltip:{id:"Add a comment"}}),o.a.createElement(l.a,{element:o.a.createElement(r.a,{src:"res/ribbon_default/add32.png",tooltip:{id:"Choose and add an event"}}),buildMenuTemplate:()=>this.props.allEventsMetadata.map(e=>({label:e.fullName,click:()=>this.props.onAddEvent(e.type)}))}),o.a.createElement(i.a,null),o.a.createElement(r.a,{onClick:this.props.onRemove,src:"res/ribbon_default/deleteselected32.png",disabled:!this.props.canRemove,tooltip:{id:"Delete the selected event(s)"}}),o.a.createElement(r.a,{onClick:this.props.undo,src:"res/ribbon_default/undo32.png",disabled:!this.props.canUndo,tooltip:{id:"Undo the last changes"}}),o.a.createElement(r.a,{onClick:this.props.redo,src:"res/ribbon_default/redo32.png",disabled:!this.props.canRedo,tooltip:{id:"Redo the last changes"}}),o.a.createElement(i.a,null),o.a.createElement(r.a,{onClick:()=>this.props.onToggleSearchPanel(),src:"res/ribbon_default/search32.png",tooltip:{id:"Search in events"},acceleratorString:"CmdOrCtrl+F"}),this.props.onOpenSettings&&o.a.createElement(i.a,null),this.props.onOpenSettings&&o.a.createElement(r.a,{onClick:this.props.onOpenSettings,src:"res/ribbon_default/pref32.png",tooltip:{id:"Open settings"}}))}}t.a=u},1712:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor({isActive:e,shortcutCallbacks:t}){this._shiftPressed=!1,this._ctrlPressed=!1,this._altPressed=!1,this._metaPressed=!1,this._updateModifiersFromEvent=e=>{this._metaPressed=e.metaKey,this._altPressed=e.altKey,this._ctrlPressed=e.ctrlKey,this._shiftPressed=e.shiftKey},this._isControlOrCmdPressed=()=>this._metaPressed||this._ctrlPressed,this.onDragOver=e=>{this._updateModifiersFromEvent(e)},this.onKeyUp=e=>{this._updateModifiersFromEvent(e)},this.onKeyDown=e=>{if(this._updateModifiersFromEvent(e),this._isActive&&!this._isActive())return;if(e.target&&e.target.closest('textarea, input, [contenteditable="true"]'))return;const t=this._shortcutCallbacks,n=t.onDelete,a=t.onMove,o=t.onCopy,s=t.onCut,i=t.onPaste,r=t.onUndo,l=t.onRedo,c=t.onSearch,u=t.onZoomOut,d=t.onZoomIn,h=t.onEscape;a&&(38===e.which?a(0,-1):40===e.which?a(0,1):37===e.which?a(-1,0):39===e.which&&a(1,0)),!n||8!==e.which&&46!==e.which||n(),o&&this._isControlOrCmdPressed()&&67===e.which&&o(),s&&this._isControlOrCmdPressed()&&88===e.which&&s(),i&&this._isControlOrCmdPressed()&&86===e.which&&i(),r&&this._isControlOrCmdPressed()&&90===e.which&&r(),l&&this._isControlOrCmdPressed()&&e.shiftKey&&90===e.which&&l(),l&&this._isControlOrCmdPressed()&&89===e.which&&l(),c&&this._isControlOrCmdPressed()&&70===e.which&&c(),h&&27===e.which&&h(),u&&this._isControlOrCmdPressed()&&189===e.which&&u(),u&&109===e.which&&u(),d&&this._isControlOrCmdPressed()&&187===e.which&&d(),d&&107===e.which&&d()},this._shortcutCallbacks=t,this._isActive=e}shouldCloneInstances(){return this._isControlOrCmdPressed()}shouldMultiSelect(){return this._shiftPressed}}},1713:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(2),o=n(303),s=n(486);const i=e.gd;class r extends a.Component{constructor(...e){super(...e),this.state={parameterMetadata:null,instructionMetadata:null,ParameterComponent:null}}componentWillReceiveProps(e){(e.open&&!this.props.open||e.instruction!==this.props.instruction)&&this._loadComponentFromInstruction(e)}_unload(){this.setState({ParameterComponent:null,parameterMetadata:null,instructionMetadata:null})}_loadComponentFromInstruction(e){const t=e.project,n=e.isCondition,a=e.instruction,o=e.parameterIndex;if(!a)return this._unload();const r=a.getType(),l=n?i.MetadataProvider.getConditionMetadata(t.getCurrentPlatform(),r):i.MetadataProvider.getActionMetadata(t.getCurrentPlatform(),r);if(o>=l.getParametersCount())return this._unload();const c=l.getParameter(o),u=s.a.getParameterComponent(c.getType());this.setState({ParameterComponent:u,parameterMetadata:c,instructionMetadata:l},()=>{setTimeout(()=>{this._field&&this._field.focus&&this._field.focus()},10)})}render(){if(!this.state.ParameterComponent||!this.props.open)return null;const e=this.props.instruction;if(!e)return null;const t=this.state.ParameterComponent;return a.createElement(o.a,{open:this.props.open,anchorEl:this.props.anchorEl,onRequestClose:this.props.onRequestClose},a.createElement(t,{instruction:e,instructionMetadata:this.state.instructionMetadata,parameterMetadata:this.state.parameterMetadata,parameterIndex:this.props.parameterIndex,value:e.getParameter(this.props.parameterIndex),onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,key:e.ptr,ref:e=>this._field=e,parameterRenderingService:s.a,isInline:!0,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors}))}}}).call(this,n(1))},1714:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(219),i=n(111),r=n(83);t.a=()=>o.createElement(s.a,null,o.createElement(r.a,null,o.createElement(a.Trans,{id:"There are no events here. Events are composed of conditions and actions."})),o.createElement(r.a,null,o.createElement(a.Trans,{id:"Add your first event using the first buttons of the toolbar."})),o.createElement(i.a,{helpPagePath:"/events"}))},1715:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));const a=e.gd,o=e=>{let t=!1,n=!1;for(let a=e.size()-1;a>=0;--a){const o=e.get(a);a===e.size()-1?"BuiltinCommonInstructions::Once"===o.getType()&&(t=!0):"BuiltinCommonInstructions::Once"===o.getType()&&(e.removeAt(a),n=!0)}if(n&&!t){const t=new a.Instruction;t.setType("BuiltinCommonInstructions::Once"),e.insert(t,e.size()),t.delete()}return n}}).call(this,n(1))},1716:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var a=n(72),o=n(2),s=n(86),i=n(82),r=n(83);const l=e=>{const t=e.getObjectNames().toNewVectorString().toJSArray(),n=e.getReferencedObjectOrGroupNames().toNewVectorString().toJSArray(),a={};return n.forEach(t=>{const n=e.getBehaviorNamesOfObjectOrGroup(t).toNewVectorString().toJSArray();n.length&&(a[t]=n)}),{objectsNames:t,objectOrGroupNames:n,objectOrGroupBehaviorNames:a}};class c extends o.Component{render(){const e=this.props,t=e.onClose,n=e.eventsContextResult,l=[o.createElement(i.a,{key:"close",label:o.createElement(a.Trans,{id:"Close"}),primary:!0,onClick:this.props.onClose})];return o.createElement(s.a,{actions:l,cannotBeDismissed:!1,open:!0,onRequestClose:t},o.createElement(r.a,null,o.createElement(a.Trans,{id:"Objects or groups being directly referenced in the events: {0}",values:{0:n.objectOrGroupNames.join(", ")}})),o.createElement(r.a,null,o.createElement(a.Trans,{id:"All objects potentially used in events: {0}",values:{0:n.objectsNames.join(", ")}})),o.createElement(r.a,null,o.createElement(a.Trans,{id:"All behaviors being directly referenced in the events:"})," ",Object.keys(n.objectOrGroupBehaviorNames).map(e=>o.createElement(a.Trans,{key:e,id:"Behaviors of {objectOrGroupName}: {0} ;",values:{0:n.objectOrGroupBehaviorNames[e].join(", "),objectOrGroupName:e}}))))}}},1717:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(72),o=n(2),s=n.n(o),i=n(124),r=n(94),l=n(75),c=n(1718),u=n.n(c),d=n(800),h=n.n(d),p=n(104),m=n(352),g=n(83),b=n(84),f=n(105);class E extends o.PureComponent{constructor(...e){super(...e),this.state={searchText:"",replaceText:"",matchCase:!1,searchInActions:!0,searchInConditions:!0,searchInEventStrings:!0,searchInSelection:!1,searchResultsDirty:!1},this.focus=()=>{this.searchTextField&&this.searchTextField.focus()},this.markSearchResultsDirty=()=>{this.setState({searchResultsDirty:!0})},this.launchSearch=()=>{const e=this.state,t=e.searchText,n=e.searchInSelection,a=e.matchCase,o=e.searchInActions,s=e.searchInConditions,i=e.searchInEventStrings;this.props.onSearchInEvents({searchInSelection:n,searchText:t,matchCase:a,searchInActions:o,searchInConditions:s,searchInEventStrings:i})},this.launchReplace=()=>{const e=this.state,t=e.searchText,n=e.replaceText,a=e.searchInSelection,o=e.matchCase,s=e.searchInActions,i=e.searchInConditions,r=e.searchInEventStrings;this.launchSearch(),this.props.onReplaceInEvents({searchInSelection:a,searchText:t,replaceText:n,matchCase:o,searchInActions:s,searchInConditions:i,searchInEventStrings:r})},this.launchSearchIfResultsDirty=()=>{this.state.searchResultsDirty&&(this.launchSearch(),this.setState({searchResultsDirty:!1}))}}render(){const e=this.props,t=e.resultsCount,n=e.hasEventSelected,o=e.onGoToPreviousSearchResult,c=e.onGoToNextSearchResult,d=this.state,E=d.searchText,v=d.replaceText,y=d.searchInSelection;return s.a.createElement(i.a,{noFullHeight:!0,noExpand:!0},s.a.createElement(f.a,null,s.a.createElement(l.b,{alignItems:"baseline",noMargin:!0},s.a.createElement(r.b,{margin:"dense",ref:e=>this.searchTextField=e,hintText:{id:"Text to search in parameters"},onChange:(e,t)=>{this.setState({searchText:t,searchResultsDirty:!0})},onKeyPress:e=>{"Enter"===e.key&&this.launchSearchIfResultsDirty()},value:E,fullWidth:!0}),s.a.createElement(l.c,null),s.a.createElement(b.a,{disabled:!E,primary:!0,label:s.a.createElement(a.Trans,{id:"Search"}),onClick:()=>{this.state.searchResultsDirty?this.launchSearchIfResultsDirty():c()}})),s.a.createElement(l.b,{alignItems:"baseline",noMargin:!0},s.a.createElement(r.b,{margin:"dense",hintText:{id:"Text to replace in parameters"},onChange:(e,t)=>this.setState({replaceText:t}),value:v,fullWidth:!0}),s.a.createElement(l.c,null),s.a.createElement(b.a,{disabled:!v||!E||!n&&y,label:s.a.createElement(a.Trans,{id:"Replace"}),onClick:this.launchReplace})),s.a.createElement(l.b,{noMargin:!0,alignItems:"center",justifyContent:"space-between"},s.a.createElement(l.b,{noMargin:!0,alignItems:"center"},s.a.createElement(m.a,{label:s.a.createElement(a.Trans,{id:"Case insensitive"}),checked:!this.state.matchCase,onCheck:(e,t)=>this.setState({matchCase:!t,searchResultsDirty:!0})}),s.a.createElement(g.a,null,s.a.createElement(a.Trans,{id:"Search in:"})),s.a.createElement(l.c,null),s.a.createElement(m.a,{label:s.a.createElement(a.Trans,{id:"Conditions"}),checked:this.state.searchInConditions,onCheck:(e,t)=>this.setState({searchInConditions:t,searchResultsDirty:!0})}),s.a.createElement(m.a,{label:s.a.createElement(a.Trans,{id:"Actions"}),checked:this.state.searchInActions,onCheck:(e,t)=>this.setState({searchInActions:t,searchResultsDirty:!0})}),s.a.createElement(m.a,{label:s.a.createElement(a.Trans,{id:"Texts"}),checked:this.state.searchInEventStrings,onCheck:(e,t)=>this.setState({searchInEventStrings:t,searchResultsDirty:!0})})),s.a.createElement(l.b,{noMargin:!0,alignItems:"center"},s.a.createElement(g.a,null,null===t||void 0===t?"":0!==t?"".concat(t," results"):"No results"),s.a.createElement(p.a,{disabled:!t,onClick:()=>{o()}},s.a.createElement(u.a,null)),s.a.createElement(p.a,{disabled:!t,onClick:()=>{c()}},s.a.createElement(h.a,null))))))}}},1719:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n(2),o=n(90),s=n(1720),i=n.n(s);const r=e.gd;class l extends a.Component{constructor(...e){super(...e),this.state={eventsSearchResults:null,searchFocusOffset:null},this._resultEvents=null,this._doReplaceInEvents=({searchInSelection:e,searchText:t,replaceText:n,matchCase:a,searchInConditions:o,searchInActions:s,searchInEventStrings:i})=>{const l=this.props,c=l.globalObjectsContainer,u=l.objectsContainer,d=l.events;e&&console.error("Replace in selection is not implemented yet"),r.EventsRefactorer.replaceStringInEvents(c,u,d,t,n,a,o,s,i)},this._doSearchInEvents=({searchInSelection:e,searchText:t,matchCase:n,searchInConditions:a,searchInActions:o,searchInEventStrings:s},i)=>{const l=this.props,c=l.globalObjectsContainer,u=l.objectsContainer,d=l.events;e&&console.error("Search in selection is not implemented yet");const h=r.EventsRefactorer.searchInEvents(c,u,d,t,n,a,o,s);this.state.eventsSearchResults&&this.state.eventsSearchResults.delete(),this.setState({eventsSearchResults:h.clone(),searchFocusOffset:null},()=>{this._updateListOfResultEvents(),i()})},this._updateListOfResultEvents=()=>{const e=this.state.eventsSearchResults;if(!e)return void(this._resultEvents=null);const t=Object(o.mapFor)(0,e.size(),t=>{const n=e.at(t);return n.isEventValid()?n.getEvent():null}).filter(Boolean);this._resultEvents=i()(t,e=>e.ptr)},this._goToSearchResults=e=>{if(this._updateListOfResultEvents(),!this._resultEvents||0===this._resultEvents.length)return this.setState({searchFocusOffset:null}),null;let t=null===this.state.searchFocusOffset?0:((this.state.searchFocusOffset||0)+e)%this._resultEvents.length;t<0&&(t+=this._resultEvents.length);const n=this._resultEvents[t];return setTimeout(()=>this.setState({searchFocusOffset:t}),0),n},this._goToPreviousSearchResult=()=>this._goToSearchResults(-1),this._goToNextSearchResult=()=>this._goToSearchResults(1)}componentWillUnmount(){this.state.eventsSearchResults&&this.state.eventsSearchResults.delete()}reset(){this.state.eventsSearchResults&&this.state.eventsSearchResults.delete(),this._resultEvents=null,this.setState({eventsSearchResults:null,searchFocusOffset:null})}render(){return this.props.children({eventsSearchResultEvents:this._resultEvents,searchFocusOffset:this.state.searchFocusOffset,searchInEvents:this._doSearchInEvents,replaceInEvents:this._doReplaceInEvents,goToNextSearchResult:this._goToNextSearchResult,goToPreviousSearchResult:this._goToPreviousSearchResult})}}}).call(this,n(1))},1728:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));const a=e.gd,o=(e,t)=>{const n=e.getSubInstructions();if(a.compare(n,t))return!0;for(let a=0;a<n.size();++a){const e=n.get(a);if(o(e,t))return!0}return!1}}).call(this,n(1))},1729:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(157),o=n.n(a),s=n(90);const i=e.gd,r=()=>{const e=i.asPlatform(i.JsPlatform.get()).getAllPlatformExtensions();return o()(Object(s.mapFor)(0,e.size(),t=>{const n=e.get(t).getAllEvents();return n.keys().toJSArray().map(e=>{const t=n.get(e);return{type:e,fullName:t.getFullName(),description:t.getDescription()}})}))}}).call(this,n(1))},1730:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var a=n(72),o=n(2),s=n(86),i=n(82),r=n(333),l=n(75),c=n(110),u=n(116),d=n(117),h=n(802),p=n(132),m=n(209),g=n(803),b=n(806),f=n(111),E=n(105);const v=e.gd;class y extends o.Component{constructor(...e){super(...e),this.state={eventsFunction:null,extensionName:"",createNewExtension:!1}}componentDidMount(){const e=this.props,t=e.project,n=e.globalObjectsContainer,a=e.objectsContainer,o=e.serializedEvents,s=new v.EventsFunction;Object(h.d)({project:t,globalObjectsContainer:n,objectsContainer:a,serializedEvents:o,eventsFunction:s}),this.setState({eventsFunction:s}),0===Object(r.a)(t).length&&this.setState({createNewExtension:!0})}componentWillUnmount(){const e=this.state.eventsFunction;e&&e.delete()}render(){const e=this.props,t=e.project,n=e.onClose,v=e.onCreate,y=this.state,C=y.eventsFunction,x=y.extensionName,j=y.createNewExtension;if(!C)return null;const S=Object(r.a)(t),T=Object(h.c)(C);return o.createElement(s.a,{title:o.createElement(a.Trans,{id:"Extract the events in a function"}),secondaryActions:o.createElement(f.a,{helpPagePath:"/events/functions/extract-events"}),actions:[o.createElement(i.a,{key:"cancel",label:o.createElement(a.Trans,{id:"Cancel"}),onClick:n}),o.createElement(i.a,{key:"create",label:o.createElement(a.Trans,{id:"Create"}),primary:!0,disabled:!Object(h.a)(t,x,C),onClick:()=>v(x,C)})],cannotBeDismissed:!0,open:!0,onRequestClose:n,noMargin:!0},o.createElement(l.a,{noMargin:!0},o.createElement(l.a,null,o.createElement(m.a,{identifier:"function-extractor-explanation",kind:"info"},"After creating a function, it will be usable in the events sheet. Functions are grouped by extensions. Choose, or enter the name of a new extension, and a function name, then configure the function and its parameters."),o.createElement(E.b,{noMargin:!0,expand:!0},o.createElement(u.a,{floatingLabelText:o.createElement(a.Trans,{id:"Extension (storing the function)"}),value:j?"<create a new extension>":x,onChange:(e,t,n)=>{"<create a new extension>"===n?this.setState({createNewExtension:!0,extensionName:""}):this.setState({createNewExtension:!1,extensionName:n})},fullWidth:!0},S.map(e=>o.createElement(d.a,{key:e.getName(),value:e.getName(),primaryText:e.getFullName()||e.getName()})),o.createElement(d.a,{value:"<create a new extension>",primaryText:{id:"<Create a New Extension>"}})),j?o.createElement(c.a,{commitOnBlur:!0,value:x,floatingLabelText:o.createElement(a.Trans,{id:"New extension name"}),onChange:e=>this.setState({extensionName:e}),fullWidth:!0,errorText:Object(h.h)(t,x)?Object(h.g)(x)?void 0:o.createElement(a.Trans,{id:"This name is not valid. Only use alphanumeric characters (0-9, a-z) and underscores."}):o.createElement(a.Trans,{id:"This name is already taken by another extension."})}):null),o.createElement(l.b,null,o.createElement(c.a,{commitOnBlur:!0,value:C.getName(),floatingLabelText:o.createElement(a.Trans,{id:"Function name"}),onChange:e=>{C.setName(e),this.forceUpdate()},fullWidth:!0,errorText:Object(h.f)(t,x,C)?Object(h.e)(C.getName())?void 0:o.createElement(a.Trans,{id:"This name is not valid. Only use alphanumeric characters (0-9, a-z) and underscores."}):o.createElement(a.Trans,{id:"This name is already taken by another function. Choose another name."})})),T?o.createElement(l.b,null,o.createElement(p.a,{kind:"warning"},o.createElement(a.Trans,{id:"This function will have a lot of parameters. Consider creating groups or functions for a smaller set of objects so that the function is easier to reuse."}))):null),o.createElement(b.a,{eventsFunction:C,eventsBasedBehavior:null,onConfigurationUpdated:()=>{this.forceUpdate()},freezeEventsFunctionType:!0}),o.createElement(l.c,null),o.createElement(g.a,{project:t,eventsFunction:C,eventsBasedBehavior:null,onParametersUpdated:()=>{this.forceUpdate()},freezeParameters:!0})))}}}).call(this,n(1))},1731:function(e,t,n){"use strict";function a(e,t,n){return t.getObjectGroups().has(n)?t.getObjectGroups().get(n):e.getObjectGroups().has(n)?e.getObjectGroups().get(n):null}n.d(t,"a",(function(){return a}))},1732:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(72),o=n(2),s=n(116),i=n(117),r=n(805);class l extends o.Component{constructor(...e){super(...e),this.state={behaviorMetadata:Object(r.a)(this.props.project.getCurrentPlatform(),this.props.project)}}render(){const e=this.props,t=e.disabled,n=e.value,r=e.onChange,l=this.state.behaviorMetadata,c=!!l.find(({type:e})=>e===n);return o.createElement(s.a,{floatingLabelText:o.createElement(a.Trans,{id:"Behavior type"}),value:n,onChange:(e,t,n)=>{r(n)},disabled:t,fullWidth:!0},l.map(e=>o.createElement(i.a,{key:e.type,value:e.type,primaryText:e.fullName})),!c&&n&&o.createElement(i.a,{value:n,primaryText:n}))}}},174:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var a=n(2),o=n(2466),s=n(2394);class i extends a.Component{render(){return a.createElement(o.a,{variant:"fullWidth",textColor:"primary",value:this.props.value,onChange:(e,t)=>this.props.onChange(t)},this.props.children)}}class r extends a.Component{render(){return a.createElement(s.a,this.props)}}},175:function(e,t,n){"use strict";var a=n(78),o=n(2),s=n(101),i=n(2384);t.a=e=>o.createElement(s.a,null,t=>o.createElement(i.a,{variant:"body2",align:"center",style:Object(a.a)({opacity:.6,textShadow:"1px 1px 0px ".concat(t.emptyMessage.shadowColor)},e.style),title:e.tooltipText},e.children))},179:function(e,t,n){"use strict";var a=n(2),o=n(2384);const s={paddingLeft:8};t.a=({children:e})=>e?a.createElement(o.a,{variant:"overline",style:s},e):null},180:function(e,t,n){"use strict";(function(e){var a=n(1557),o=n(1655),s=n(1656),i=n(1657),r=n(1658),l=n(1659),c=n(1660),u=n(1661),d=n(1662),h=n(785),p=n(112),m=n(193),g=n(108),b=n(3),f=n.n(b);const E=f()("path"),v=e.gd,y={};t.a={renderers:{unknownObjectType:a.a,Sprite:o.a,"TiledSpriteObject::TiledSprite":s.a,"PanelSpriteObject::PanelSprite":i.a,"TextObject::Text":r.a,"PrimitiveDrawing::Drawer":l.a,"TextEntryObject::TextEntry":c.a,"ParticleSystem::ParticleEmitter":u.a,"SkeletonObject::Skeleton":d.a},getThumbnail:function(e,t){var n=t.getType();return this.renderers.hasOwnProperty(n)?this.renderers[n].getThumbnail(e,p.a,t):this.renderers.unknownObjectType.getThumbnail(e,p.a,t)},createNewInstanceRenderer:function(e,t,n,a,o){var s=a.getType();return this.renderers.hasOwnProperty(s)?new this.renderers[s](e,t,n,a,o,h.a):(console.warn("Object with type ".concat(s," has no instance renderer registered. Please use registerInstanceRenderer to register your renderer.")),new this.renderers.unknownObjectType(e,t,n,a,o,h.a))},registerInstanceRenderer:function(e,t){t.getThumbnail?this.renderers.hasOwnProperty(e)?console.warn('Tried to register renderer for object "'.concat(e,'", but a renderer already exists.')):(console.info('Properly registered renderer for object "'.concat(e,'".')),this.renderers[e]=t):console.warn('Tried to register renderer for object "'.concat(e,'", but getThumbnail is not defined.'))},registerModule:function(e,t){y[e]=t},requireModule:function(e,t){if(E){const n=f()(E.join(e,t));if(n)return n}return y[t]?y[t]:(console.error('Unable to find module "'.concat(t,'". Are you sure you registered it using ObjectsRenderingService.registerModule? This is mandatory for the web-app to have the file bundled.')),null)},gd:v,PIXI:g,RenderedInstance:m.a}}).call(this,n(1))},181:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return m}));var a=n(236),o=n.n(a),s=n(542),i=n(22),r=n(400);const l=(e,t)=>e&&e[t]?"s3Key"===t?"https://games.gdevelop-app.com/".concat(e[t],"/index.html"):"https://builds.gdevelop-app.com/".concat(e[t]):null,c=()=>{const e="game-archive-"+Object(s.a)(),t=e+"/game-archive.zip";return Object(r.c)({uploadType:"build",key:t,contentType:"application/zip"}).then(({signedUrl:e})=>({signedUrl:e,contentType:"application/zip",key:t}))},u=(e,t,n,a)=>e().then(e=>o.a.post("".concat(i.a.baseUrl,"/build?userId=").concat(encodeURIComponent(t),"&key=").concat(encodeURIComponent(n),"&type=electron-build&targets=").concat(encodeURIComponent(a.join(","))),null,{params:{},headers:{Authorization:e}})).then(e=>e.data),d=(e,t,n)=>e().then(e=>o.a.post("".concat(i.a.baseUrl,"/build?userId=").concat(encodeURIComponent(t),"&key=").concat(encodeURIComponent(n),"&type=web-build&targets=s3"),null,{params:{},headers:{Authorization:e}})).then(e=>e.data),h=(e,t,n)=>e().then(e=>o.a.post("".concat(i.a.baseUrl,"/build?userId=").concat(encodeURIComponent(t),"&key=").concat(encodeURIComponent(n),"&type=cordova-build"),null,{params:{},headers:{Authorization:e}})).then(e=>e.data),p=(e,t,n)=>e().then(e=>o.a.get("".concat(i.a.baseUrl,"/build/").concat(n),{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data),m=(e,t)=>e().then(e=>o.a.get("".concat(i.a.baseUrl,"/build"),{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data)},1871:function(e,t,n){},1879:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var a=n(72),o=n(2),s=n(481),i=n(380),r=n(92),l=n(1880),c=n(2304),u=n(2305),d=n(124),h=n(1883),p=n(20),m=n(1885),g=n(1888),b=n(1889),f=n(378),E=n(82),v=n(75),y=n(2381),C=n(156),x=n(1890),j=n(1892),S=n(1894),T=n.n(S),O=n(1893),w=n.n(O),N=n(304),_=n(120);const k=e.gd,P={direction:"row",first:{direction:"column",first:"free-functions-list",second:"behaviors-list",splitPercentage:50},second:{direction:"column",first:"parameters",second:"events-sheet",splitPercentage:25},splitPercentage:25};class I extends o.Component{constructor(...e){super(...e),this.state={selectedEventsFunction:null,selectedEventsBasedBehavior:null,editedEventsBasedBehavior:null,editOptionsDialogOpen:!1,behaviorMethodSelectorDialogOpen:!1,extensionFunctionSelectorDialogOpen:!1,onAddEventsFunctionCb:null},this._loadEventsFunctionFrom=(e,t)=>{this._globalObjectsContainer||(this._globalObjectsContainer=new k.ObjectsContainer),this._objectsContainer||(this._objectsContainer=new k.ObjectsContainer),k.EventsFunctionTools.eventsFunctionToObjectsContainer(e,t,this._globalObjectsContainer,this._objectsContainer)},this.updateToolbar=()=>{this.editor?this.editor.updateToolbar():this.props.setToolbar(o.createElement("div",null))},this.selectEventsFunctionByName=(e,t)=>{const n=this.props.eventsFunctionsExtension;if(t){const a=n.getEventsBasedBehaviors();if(a.has(t)){const n=a.get(t),o=n.getEventsFunctions();o.hasEventsFunctionNamed(e)&&this._selectEventsFunction(o.getEventsFunction(e),n)}}else n.hasEventsFunctionNamed(e)&&this._selectEventsFunction(n.getEventsFunction(e),null)},this._selectEventsFunction=(e,t)=>{e?(this._loadEventsFunctionFrom(this.props.project,e),this.setState({selectedEventsFunction:e,selectedEventsBasedBehavior:t},()=>{this.updateToolbar(),this._editorNavigator&&(e&&!e.getEvents().getEventsCount()?this._editorNavigator.openEditor("parameters"):this._editorNavigator.openEditor("events-sheet"))})):this.setState({selectedEventsFunction:null,selectedEventsBasedBehavior:t},()=>this.updateToolbar())},this._makeRenameFreeEventsFunction=e=>(t,n,a)=>{if(!k.Project.validateName(n))return void Object(p.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}));if(Object(f.h)(n))return Object(p.c)(e._({id:"This name is reserved for a lifecycle function of the extension. Choose another name for your function."})),a(!1);const o=this.props,s=o.project,i=o.eventsFunctionsExtension;k.WholeProjectRefactorer.renameEventsFunction(s,i,t.getName(),n),a(!0)},this._makeRenameBehaviorEventsFunction=e=>(t,n,a,o)=>{if(!k.Project.validateName(a))return Object(p.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."})),o(!1);if(Object(f.g)(a))return Object(p.c)(e._({id:"This name is reserved for a lifecycle method of the behavior. Choose another name for your custom function."})),o(!1);const s=this.props,i=s.project,r=s.eventsFunctionsExtension;k.WholeProjectRefactorer.renameBehaviorEventsFunction(i,r,t,n.getName(),a),o(!0)},this._onDeleteEventsFunction=(e,t)=>{this.state.selectedEventsFunction&&k.compare(e,this.state.selectedEventsFunction)&&this._selectEventsFunction(null,this.state.selectedEventsBasedBehavior),t(!0)},this._selectEventsBasedBehavior=e=>{this.setState({selectedEventsBasedBehavior:e,selectedEventsFunction:null},()=>{this.updateToolbar(),e&&(this._editorMosaic&&this._editorMosaic.openEditor("behavior-functions-list","end",75,"column"),this._editorNavigator&&this._editorNavigator.openEditor("behavior-functions-list"))})},this._makeRenameEventsBasedBehavior=e=>(t,n,a)=>{if(!k.Project.validateName(n))return void Object(p.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}));const o=this.props,s=o.project,i=o.eventsFunctionsExtension;k.WholeProjectRefactorer.renameEventsBasedBehavior(s,i,t.getName(),n),a(!0)},this._onEventsBasedBehaviorRenamed=()=>{this.props.onBehaviorEdited&&this.props.onBehaviorEdited(),this.state.selectedEventsFunction&&this._loadEventsFunctionFrom(this.props.project,this.state.selectedEventsFunction)},this._onDeleteEventsBasedBehavior=(e,t)=>{this.state.selectedEventsBasedBehavior&&k.compare(e,this.state.selectedEventsBasedBehavior)&&this._selectEventsBasedBehavior(null),t(!0)},this._onAddFreeEventsFunction=e=>{this.setState({extensionFunctionSelectorDialogOpen:!0,onAddEventsFunctionCb:e})},this._onCloseExtensionFunctionSelectorDialog=e=>{const t=this.state.onAddEventsFunctionCb;this.setState({extensionFunctionSelectorDialogOpen:!1,onAddEventsFunctionCb:null},()=>{t&&t(e)})},this._onAddBehaviorEventsFunction=e=>{this.setState({behaviorMethodSelectorDialogOpen:!0,onAddEventsFunctionCb:e})},this._onCloseBehaviorMethodSelectorDialog=e=>{const t=this.state.onAddEventsFunctionCb;this.setState({behaviorMethodSelectorDialogOpen:!1,onAddEventsFunctionCb:null},()=>{t&&t(e)})},this._onBehaviorEventsFunctionAdded=(e,t)=>{k.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(this.props.eventsFunctionsExtension,e)},this._onBehaviorPropertyRenamed=(e,t,n)=>{const a=this.props,o=a.project,s=a.eventsFunctionsExtension;k.WholeProjectRefactorer.renameBehaviorProperty(o,s,e,t,n)},this._editOptions=(e=!0)=>{this.setState({editOptionsDialogOpen:e})},this._editBehavior=e=>{this.setState(t=>(t.editedEventsBasedBehavior&&!e&&k.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(this.props.eventsFunctionsExtension,t.editedEventsBasedBehavior),{editedEventsBasedBehavior:e}),()=>{e||(this.props.onBehaviorEdited&&this.props.onBehaviorEdited(),this.state.selectedEventsFunction&&this._loadEventsFunctionFrom(this.props.project,this.state.selectedEventsFunction))})},this._openFreeFunctionsListEditor=()=>{this._editorNavigator&&this._editorNavigator.openEditor("free-functions-list")},this._openBehaviorsListEditor=()=>{this._editorNavigator&&this._editorNavigator.openEditor("behaviors-list")},this._onEditorNavigatorEditorChanged=e=>{this.updateToolbar(),"behaviors-list"===e?this._selectEventsBasedBehavior(null):"free-functions-list"!==e&&"behavior-functions-list"!==e||this._selectEventsFunction(null,this.state.selectedEventsBasedBehavior)}}componentDidMount(){this.props.initiallyFocusedFunctionName&&this.selectEventsFunctionByName(this.props.initiallyFocusedFunctionName,this.props.initiallyFocusedBehaviorName)}componentWillUnmount(){this._globalObjectsContainer&&this._globalObjectsContainer.delete(),this._objectsContainer&&this._objectsContainer.delete()}render(){const e=this.props,t=e.project,n=e.eventsFunctionsExtension,p=this.state,S=p.selectedEventsFunction,O=p.selectedEventsBasedBehavior,k=p.editOptionsDialogOpen,I=p.behaviorMethodSelectorDialogOpen,F=p.extensionFunctionSelectorDialogOpen,B=p.editedEventsBasedBehavior,M={"choose-editor":{type:"primary",noTitleBar:!0,renderEditor:()=>o.createElement(j.a,{eventsFunctionsExtension:n,onEditFreeFunctions:this._openFreeFunctionsListEditor,onEditBehaviors:this._openBehaviorsListEditor,onEditExtensionOptions:this._editOptions})},parameters:{type:"primary",title:{id:"Function Configuration"},toolbarControls:[],renderEditor:()=>o.createElement(d.a,null,S&&this._globalObjectsContainer&&this._objectsContainer?o.createElement(l.a,{project:t,eventsFunction:S,eventsBasedBehavior:O,globalObjectsContainer:this._globalObjectsContainer,objectsContainer:this._objectsContainer,helpPagePath:O?"/behaviors/events-based-behaviors":"/events/functions",onParametersOrGroupsUpdated:()=>{this._loadEventsFunctionFrom(t,S),this.forceUpdate()},unsavedChanges:this.props.unsavedChanges}):o.createElement(r.a,null,o.createElement(a.Trans,{id:"Choose a function, or a function of a behavior, to set the parameters that it accepts."})))},"events-sheet":{type:"primary",noTitleBar:!0,renderEditor:()=>S&&this._globalObjectsContainer&&this._objectsContainer?o.createElement(d.a,null,o.createElement(s.a,{key:S.ptr,ref:e=>this.editor=e,project:t,scope:{layout:null,eventsFunctionsExtension:n,eventsBasedBehavior:O,eventsFunction:S},globalObjectsContainer:this._globalObjectsContainer,objectsContainer:this._objectsContainer,events:S.getEvents(),showPreviewButton:!1,onPreview:e=>{},previewButtonSettings:N.b,showNetworkPreviewButton:!1,onOpenExternalEvents:()=>{},onOpenLayout:()=>{},resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,setToolbar:this.props.setToolbar,onOpenDebugger:()=>{},onCreateEventsFunction:this.props.onCreateEventsFunction,onOpenSettings:this._editOptions,unsavedChanges:this.props.unsavedChanges})):o.createElement(d.a,null,o.createElement(r.a,null,o.createElement(a.Trans,{id:"Choose a function, or a function of a behavior, to edit its events."})))},"free-functions-list":{type:"primary",title:{id:"Functions"},toolbarControls:[],renderEditor:()=>o.createElement(a.I18n,null,({i18n:e})=>o.createElement(c.a,{project:t,eventsFunctionsContainer:n,selectedEventsFunction:S,onSelectEventsFunction:e=>this._selectEventsFunction(e,null),onDeleteEventsFunction:this._onDeleteEventsFunction,canRename:e=>!Object(f.h)(e.getName()),onRenameEventsFunction:this._makeRenameFreeEventsFunction(e),onAddEventsFunction:this._onAddFreeEventsFunction,onEventsFunctionAdded:()=>{},renderHeader:()=>o.createElement(o.Fragment,null,o.createElement(v.b,{justifyContent:"center"},o.createElement(E.a,{label:o.createElement(a.Trans,{id:"Edit extension options"}),primary:!0,onClick:()=>this._editOptions()})),o.createElement(y.a,null)),unsavedChanges:this.props.unsavedChanges}))},"behavior-functions-list":{type:"primary",title:{id:"Behavior functions"},renderEditor:()=>O?o.createElement(a.I18n,null,({i18n:e})=>o.createElement(c.a,{project:t,eventsFunctionsContainer:O.getEventsFunctions(),selectedEventsFunction:S,onSelectEventsFunction:e=>this._selectEventsFunction(e,O),onDeleteEventsFunction:this._onDeleteEventsFunction,canRename:e=>!Object(f.g)(e.getName()),onRenameEventsFunction:(t,n,a)=>this._makeRenameBehaviorEventsFunction(e)(O,t,n,a),onAddEventsFunction:this._onAddBehaviorEventsFunction,onEventsFunctionAdded:e=>this._onBehaviorEventsFunctionAdded(O,e),renderHeader:()=>o.createElement(o.Fragment,null,o.createElement(v.b,{justifyContent:"center"},o.createElement(E.a,{label:o.createElement(a.Trans,{id:"Edit behavior properties"}),primary:!0,onClick:()=>this._editBehavior(O)})),o.createElement(y.a,null)),unsavedChanges:this.props.unsavedChanges})):o.createElement(d.a,null,o.createElement(r.a,null,o.createElement(a.Trans,{id:"Select a behavior to display the functions inside this behavior."})))},"behaviors-list":{type:"secondary",title:{id:"Behaviors"},toolbarControls:[],renderEditor:()=>o.createElement(a.I18n,null,({i18n:e})=>o.createElement(u.a,{project:t,eventsBasedBehaviorsList:n.getEventsBasedBehaviors(),selectedEventsBasedBehavior:O,onSelectEventsBasedBehavior:this._selectEventsBasedBehavior,onDeleteEventsBasedBehavior:this._onDeleteEventsBasedBehavior,onRenameEventsBasedBehavior:this._makeRenameEventsBasedBehavior(e),onEventsBasedBehaviorRenamed:this._onEventsBasedBehaviorRenamed,onEditProperties:this._editBehavior,unsavedChanges:this.props.unsavedChanges}))}};return o.createElement(o.Fragment,null,o.createElement(C.a,null,e=>"small"===e?o.createElement(x.a,{ref:e=>this._editorNavigator=e,editors:M,initialEditorName:"choose-editor",transitions:{"behaviors-list":{previousEditor:"choose-editor"},"behavior-functions-list":{previousEditor:"behaviors-list"},"free-functions-list":{previousEditor:"choose-editor"},"events-sheet":{nextIcon:o.createElement(w.a,null),nextLabel:o.createElement(a.Trans,{id:"Parameters"}),nextEditor:"parameters",previousEditor:()=>O?"behavior-functions-list":"free-functions-list"},parameters:{nextIcon:o.createElement(T.a,null),nextLabel:o.createElement(a.Trans,{id:"Validate these parameters"}),nextEditor:"events-sheet"}},onEditorChanged:this._onEditorNavigatorEditorChanged}):o.createElement(_.b.Consumer,null,({getDefaultEditorMosaicNode:e,setDefaultEditorMosaicNode:t})=>o.createElement(i.a,{ref:e=>this._editorMosaic=e,editors:M,onPersistNodes:e=>t("events-functions-extension-editor",e),initialNodes:e("events-functions-extension-editor")||P}))),k&&o.createElement(h.a,{eventsFunctionsExtension:n,open:!0,onClose:()=>this._editOptions(!1)}),I&&O&&o.createElement(g.a,{eventsBasedBehavior:O,onCancel:()=>this._onCloseBehaviorMethodSelectorDialog(null),onChoose:e=>this._onCloseBehaviorMethodSelectorDialog(e)}),F&&n&&o.createElement(b.a,{eventsFunctionsExtension:n,onCancel:()=>this._onCloseExtensionFunctionSelectorDialog(null),onChoose:e=>this._onCloseExtensionFunctionSelectorDialog(e)}),B&&o.createElement(m.a,{project:t,eventsFunctionsExtension:n,eventsBasedBehavior:B,onApply:()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this._editBehavior(null)},onRenameProperty:(e,t)=>this._onBehaviorPropertyRenamed(B,e,t)}))}}}).call(this,n(1))},1880:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a=n(72),o=n(2),s=n(1881),i=n(174),r=n(803),l=n(806),c=n(218),u=n(75),d=n(20),h=n(5);const p=e.gd;class m extends o.Component{constructor(...e){super(...e),this.state={currentTab:"config"},this._canObjectOrGroupUseNewName=e=>{const t=this.props,n=t.objectsContainer,a=t.globalObjectsContainer;return n.hasObjectNamed(e)||a.hasObjectNamed(e)||n.getObjectGroups().has(e)||a.getObjectGroups().has(e)?(Object(d.c)("Another object or group with this name already exists in this function."),!1):!!p.Project.validateName(e)||(Object(d.c)("This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."),!1)},this._onDeleteGroup=(e,t)=>{const n=e.group,a=this.props,o=a.project,s=a.eventsFunction,i=a.globalObjectsContainer,r=a.objectsContainer,l=h.b.showConfirmDialog("Do you want to remove all references to this group in events (actions and conditions using the group)?");p.WholeProjectRefactorer.objectOrGroupRemovedInEventsFunction(o,s,i,r,n.getName(),!0,!!l),t(!0)},this._onRenameGroup=(e,t,n)=>{const a=e.group,o=this.props,s=o.project,i=o.eventsFunction,r=o.globalObjectsContainer,l=o.objectsContainer;a.getName()!==t&&p.WholeProjectRefactorer.objectOrGroupRenamedInEventsFunction(s,i,r,l,a.getName(),t,!0),n(!0)},this._chooseTab=e=>this.setState({currentTab:e})}render(){const e=this.props,t=e.project,n=e.globalObjectsContainer,d=e.objectsContainer,h=e.eventsFunction,p=e.eventsBasedBehavior,m=e.freezeEventsFunctionType,g=e.onConfigurationUpdated,b=e.onParametersOrGroupsUpdated,f=e.freezeParameters,E=e.helpPagePath,v=e.renderConfigurationHeader;return o.createElement(u.a,{expand:!0,noMargin:!0,useMaxHeight:!0},o.createElement(i.b,{value:this.state.currentTab,onChange:this._chooseTab},o.createElement(i.a,{label:o.createElement(a.Trans,{id:"Configuration"}),value:"config"}),o.createElement(i.a,{label:o.createElement(a.Trans,{id:"Parameters"}),value:"parameters"}),o.createElement(i.a,{label:o.createElement(a.Trans,{id:"Object groups"}),value:"groups"})),"config"===this.state.currentTab?o.createElement(c.a,null,o.createElement(u.b,null,o.createElement(l.a,{eventsFunction:h,eventsBasedBehavior:p,helpPagePath:E,onConfigurationUpdated:g,renderConfigurationHeader:v,freezeEventsFunctionType:m}))):null,"parameters"===this.state.currentTab?o.createElement(c.a,null,o.createElement(u.b,null,o.createElement(r.a,{project:t,eventsFunction:h,eventsBasedBehavior:p,onParametersUpdated:b,helpPagePath:E,freezeParameters:f}))):null,"groups"===this.state.currentTab?o.createElement(s.a,{project:t,globalObjectsContainer:n,objectsContainer:d,globalObjectGroups:n.getObjectGroups(),objectGroups:h.getObjectGroups(),canRenameGroup:this._canObjectOrGroupUseNewName,onRenameGroup:this._onRenameGroup,onDeleteGroup:this._onDeleteGroup,onGroupsUpdated:b,canSetAsGlobalGroup:!1,unsavedChanges:this.props.unsavedChanges}):null)}}}).call(this,n(1))},1881:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),o=n(918),s=n(853);class i extends a.Component{constructor(...e){super(...e),this.state={editedGroup:null},this.editGroup=e=>this.setState({editedGroup:e})}render(){const e=this.props,t=e.project,n=e.objectsContainer,i=e.globalObjectsContainer,r=e.objectGroups,l=e.globalObjectGroups;return a.createElement(a.Fragment,null,a.createElement(o.a,{globalObjectGroups:l,objectGroups:r,onEditGroup:this.editGroup,onDeleteGroup:this.props.onDeleteGroup,onRenameGroup:this.props.onRenameGroup,canRenameGroup:this.props.canRenameGroup,onGroupAdded:this.props.onGroupsUpdated,onGroupRemoved:this.props.onGroupsUpdated,onGroupRenamed:this.props.onGroupsUpdated,canSetAsGlobalGroup:this.props.canSetAsGlobalGroup,unsavedChanges:this.props.unsavedChanges}),a.createElement(s.a,{project:t,key:i.ptr+";"+n.ptr,open:!!this.state.editedGroup,group:this.state.editedGroup,globalObjectsContainer:i,objectsContainer:n,onCancel:()=>this.editGroup(null),onApply:()=>{this.props.onGroupsUpdated&&this.props.onGroupsUpdated(),this.editGroup(null)}}))}}},1882:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a=n(2),o=n(100),s=n(731),i=n(92),r=n(75);const l=e.gd;class c extends a.Component{constructor(...e){super(...e),this.state={newObjectName:""},this.removeObject=e=>{const t=this.props,n=t.group,a=t.onSizeUpdated;n.removeObject(e),this.forceUpdate(),a&&a()},this.addObject=e=>{const t=this.props,n=t.group,a=t.onSizeUpdated;n.addObject(e),this.setState({newObjectName:""}),a&&a()}}_renderExplanation(){const e=this.props,t=e.group,n=e.globalObjectsContainer,o=e.objectsContainer;let s=void 0;t.getAllObjectsNames().toJSArray().forEach(e=>{const t=l.getTypeOfObject(n,o,e,!1);s=void 0===s||t===s?t:""});let r="";return r=void 0===s?"This group is empty":""===s?"This group contains objects of different kinds. You'll only be able to use actions and conditions common to all objects with this group.":"This group contains objects of the same kind (".concat(s,"). You can use actions and conditions related to this kind of objects in events with this group."),a.createElement(i.a,null,r)}render(){const e=this.props,t=e.project,n=e.group,i=e.globalObjectsContainer,l=e.objectsContainer;return a.createElement("div",null,this._renderExplanation(),a.createElement(o.a,null,n.getAllObjectsNames().toJSArray().map(e=>a.createElement(o.b,{key:e,primaryText:e,displayRemoveButton:!0,onRemove:()=>this.removeObject(e)}))),a.createElement(r.a,null,a.createElement(s.a,{project:t,globalObjectsContainer:i,objectsContainer:l,value:this.state.newObjectName,onChange:e=>this.setState({newObjectName:e}),onChoose:this.addObject,openOnFocus:!0,noGroups:!0,hintText:{id:"Choose an object to add to the group"},fullWidth:!0})))}}}).call(this,n(1))},1883:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(72),o=n(2),s=n(82),i=n(94),r=n(1884),l=n.n(r),c=n(75),u=n(86),d=n(111),h=n(285),p=n(84),m=n(5),g=n(83),b=n(105);const f=()=>{m.b.openExternalURL("https://github.com/4ian/GDevelop-extensions/issues/new?body=".concat(encodeURIComponent('\n**\u26a0\ufe0f Please edit and complete this before submitting your extension:**\n\n## Describe the extension\nA clear and concise description of what the extension is, how useful it is.\n\n## Checklist\n\n- [ ] Extension has a proper name and description.\n- [ ] Extension has tags (for example: "platform, brick, breakable").\n- [ ] All behaviors have a description.\n- [ ] All functions (actions, conditions, expressions) have descriptions.\n- [ ] I confirm that this extension can be intergrated to this GitHub repository, distributed and MIT licensed.\n\n## Extension file\n\nFinally, attach the .json file of your extension here.\n\nYou also may have to create an account on GitHub before posting.\nIf your extension is high quality and useful, it will be added to the list of GDevelop community extensions.\nWhen you\'re ready, remove this last paragraph and click on "Submit new issue". Thanks \ud83d\ude4c'),"&title=New%20extension"))};class E extends o.Component{constructor(...e){super(...e),this.state={exportDialogOpen:!1}}render(){const e=this.props.eventsFunctionsExtension,t=this.state.exportDialogOpen;return o.createElement(h.a.Consumer,null,n=>{const r=n.getEventsFunctionsExtensionWriter();return o.createElement(u.a,{secondaryActions:[o.createElement(d.a,{key:"help",helpPagePath:"/extensions/create"}),r?o.createElement(s.a,{icon:o.createElement(l.a,null),key:"export",label:o.createElement(a.Trans,{id:"Export extension"}),onClick:()=>this.setState({exportDialogOpen:!0})}):null],actions:[o.createElement(s.a,{label:o.createElement(a.Trans,{id:"Close"}),primary:!0,keyboardFocused:!0,onClick:()=>this.props.onClose(),key:"close"})],cannotBeDismissed:!0,open:this.props.open,title:o.createElement(a.Trans,{id:"Edit Extension Options"}),onRequestClose:this.props.onClose},o.createElement(b.a,{noMargin:!0},o.createElement(i.b,{floatingLabelText:o.createElement(a.Trans,{id:"Name"}),value:e.getName(),disabled:!0,fullWidth:!0}),o.createElement(i.b,{floatingLabelText:o.createElement(a.Trans,{id:"Name displayed in editor"}),value:e.getFullName(),onChange:(t,n)=>{e.setFullName(n),this.forceUpdate()},fullWidth:!0}),o.createElement(i.b,{floatingLabelText:o.createElement(a.Trans,{id:"Short description"}),value:e.getShortDescription(),onChange:(t,n)=>{e.setShortDescription(n),this.forceUpdate()},multiline:!0,fullWidth:!0,rows:2,rowsMax:2}),o.createElement(i.b,{floatingLabelText:o.createElement(a.Trans,{id:"Description (markdown supported)"}),value:e.getDescription(),onChange:(t,n)=>{e.setDescription(n),this.forceUpdate()},multiline:!0,fullWidth:!0,rows:5,rowsMax:5}),o.createElement(i.b,{floatingLabelText:o.createElement(a.Trans,{id:"Version"}),value:e.getVersion(),onChange:(t,n)=>{e.setVersion(n),this.forceUpdate()},fullWidth:!0}),o.createElement(i.b,{floatingLabelText:o.createElement(a.Trans,{id:"Tags (comma separated)"}),value:e.getTags(),onChange:(t,n)=>{e.setTags(n),this.forceUpdate()},fullWidth:!0}),o.createElement(i.b,{floatingLabelText:o.createElement(a.Trans,{id:"Author (Name, email or GitHub handle)"}),value:e.getAuthor(),onChange:(t,n)=>{e.setAuthor(n),this.forceUpdate()},fullWidth:!0})),t&&o.createElement(u.a,{secondaryActions:[o.createElement(d.a,{key:"help",helpPagePath:"/extensions/share"})],actions:[o.createElement(s.a,{label:o.createElement(a.Trans,{id:"Close"}),keyboardFocused:!0,onClick:()=>this.setState({exportDialogOpen:!1}),key:"close"})],open:!0,cannotBeDismissed:!1,onRequestClose:()=>this.setState({exportDialogOpen:!1})},o.createElement(c.a,{expand:!0},o.createElement(c.b,null,o.createElement(g.a,null,o.createElement(a.Trans,{id:"You can export the extension to a file to easily import it in another project. If your extension is providing useful and reusable functions or behaviors, consider sharing it with the GDevelop community!"}))),o.createElement(c.b,null,o.createElement(p.a,{icon:o.createElement(l.a,null),primary:!0,label:o.createElement(a.Trans,{id:"Export to a file"}),onClick:()=>{((e,t)=>{const n=e.getEventsFunctionsExtensionWriter();n?n.chooseEventsFunctionExtensionFile().then(e=>{e&&n.writeEventsFunctionsExtension(t,e).then()}):Promise.reject(new Error("Not supported"))})(n,e)}}),o.createElement(s.a,{label:o.createElement(a.Trans,{id:"Submit extension to the community"}),onClick:f})))))})}}},1885:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(72),o=n(2),s=n(82),i=n(86),r=n(1886),l=n(111);class c extends o.Component{render(){const e=this.props,t=e.onApply,n=e.eventsBasedBehavior,c=e.eventsFunctionsExtension,u=e.project;return o.createElement(i.a,{noMargin:!0,secondaryActions:[o.createElement(l.a,{key:"help",helpPagePath:"/behaviors/events-based-behaviors"})],actions:[o.createElement(s.a,{label:o.createElement(a.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:t,key:"Apply"})],cannotBeDismissed:!0,open:!0,onRequestClose:t,title:o.createElement(a.Trans,{id:"Edit the behavior"})},o.createElement(r.a,{project:u,eventsFunctionsExtension:c,eventsBasedBehavior:n,onTabChanged:()=>this.forceUpdate(),onPropertiesUpdated:()=>this.forceUpdate(),onRenameProperty:this.props.onRenameProperty}))}}},1886:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a=n(72),o=n(2),s=n(94),i=n(110),r=n(804),l=n(174),c=n(209),u=n(132),d=n(1887),h=n(105);const p=e.gd;class m extends o.Component{constructor(...e){super(...e),this.state={currentTab:"configuration"},this._allObjectTypes=p.WholeProjectRefactorer.getAllObjectTypesUsingEventsBasedBehavior(this.props.project,this.props.eventsFunctionsExtension,this.props.eventsBasedBehavior).toNewVectorString().toJSArray(),this._changeTab=e=>this.setState({currentTab:e},()=>this.props.onTabChanged())}render(){const e=this.state.currentTab,t=this.props,n=t.eventsBasedBehavior,p=t.project;return o.createElement(o.Fragment,null,o.createElement(l.b,{value:e,onChange:this._changeTab},o.createElement(l.a,{label:o.createElement(a.Trans,{id:"Configuration"}),value:"configuration"}),o.createElement(l.a,{label:o.createElement(a.Trans,{id:"Properties"}),value:"properties"})),"configuration"===e&&o.createElement(h.a,{expand:!0},o.createElement(c.a,{identifier:"events-based-behavior-explanation",kind:"info"},"This is the configuration of your behavior. Make sure to choose a proper internal name as it's hard to change it later. Enter a description explaining what the behavior is doing to the object."),o.createElement(s.b,{floatingLabelText:o.createElement(a.Trans,{id:"Internal Name"}),value:n.getName(),disabled:!0,fullWidth:!0}),o.createElement(i.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Name displayed in editor"}),value:n.getFullName(),onChange:e=>{n.setFullName(e),this.forceUpdate()},fullWidth:!0}),o.createElement(i.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Description"}),floatingLabelFixed:!0,hintText:{id:"The description of the behavior should explain what the behavior is doing to the object, and, briefly, how to use it."},value:n.getDescription(),onChange:e=>{n.setDescription(e),this.forceUpdate()},multiline:!0,fullWidth:!0,rows:3}),o.createElement(r.a,{floatingLabelText:o.createElement(a.Trans,{id:"Object on which this behavior can be used"}),project:p,value:n.getObjectType(),onChange:e=>{n.setObjectType(e),this.forceUpdate()},allowedObjectTypes:0===this._allObjectTypes.length?void 0:1===this._allObjectTypes.length?["",this._allObjectTypes[0]]:[""]}),this._allObjectTypes.length>1&&o.createElement(u.a,{kind:"info"},o.createElement(a.Trans,{id:"This behavior is being used by multiple types of objects. Thus, you can't restrict its usage to any particular object type. All the object types using this behavior are listed here: {0}",values:{0:this._allObjectTypes.join(", ")}})),0===n.getEventsFunctions().getEventsFunctionsCount()&&o.createElement(c.a,{identifier:"empty-events-based-behavior-explanation",kind:"info"},o.createElement(a.Trans,{id:"Once you're done, close this dialog and start adding some functions to the behavior. Then, test the behavior by adding it to an object in a scene."}))),"properties"===e&&o.createElement(d.a,{project:p,eventsBasedBehavior:n,onPropertiesUpdated:this.props.onPropertiesUpdated,onRenameProperty:this.props.onRenameProperty}))}}}).call(this,n(1))},1887:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var a=n(72),o=n(2),s=n(75),i=n(116),r=n(117),l=n(90),c=n(84),u=n(104),d=n(92),h=n(138),p=n(276),m=n.n(p),g=n(110),b=n(166),f=n(20),E=n(133),v=n(352),y=n(251),C=n.n(y),x=n(252),j=n.n(x),S=n(141),T=n.n(S),O=n(105);const w=e.gd,N={propertiesContainer:{flex:1}};class _ extends o.Component{constructor(...e){super(...e),this._addProperty=()=>{const e=this.props.eventsBasedBehavior.getPropertyDescriptors(),t=Object(E.a)("Property",t=>e.has(t));e.insertNew(t,e.getCount()).setType("Number"),this.forceUpdate(),this.props.onPropertiesUpdated()},this._removeProperty=e=>{this.props.eventsBasedBehavior.getPropertyDescriptors().remove(e),this.forceUpdate(),this.props.onPropertiesUpdated()},this._moveProperty=(e,t)=>{this.props.eventsBasedBehavior.getPropertyDescriptors().move(e,t),this.forceUpdate(),this.props.onPropertiesUpdated()}}render(){const e=this.props.eventsBasedBehavior.getPropertyDescriptors();return o.createElement(a.I18n,null,({i18n:t})=>o.createElement(s.a,{noMargin:!0},o.createElement(s.b,{noMargin:!0},o.createElement("div",{style:N.propertiesContainer},Object(l.mapVector)(e,(n,l)=>o.createElement(o.Fragment,{key:l},o.createElement(b.b,null,o.createElement(s.a,{expand:!0,noMargin:!0},o.createElement(g.a,{margin:"none",commitOnBlur:!0,hintText:{id:"Enter the property name"},value:n.getName(),onChange:a=>{a!==n.getName()&&((e,t,n)=>n?"name"===n||"type"===n?(Object(f.c)(e._({id:'The name of a property cannot be "name" or "type", as they are used by GDevelop internally.'})),!1):t.has(n)?(Object(f.c)(e._({id:"This name is already used by another property. Choose a unique name for each property."})),!1):!!w.Project.validateName(n)||(Object(f.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."})),!1):(Object(f.c)(e._({id:"The name of a property cannot be empty."})),!1))(t,e,a)&&(this.props.onRenameProperty(n.getName(),a),n.setName(a),this.forceUpdate(),this.props.onPropertiesUpdated())},fullWidth:!0})),o.createElement(v.a,{label:n.isHidden()?o.createElement(a.Trans,{id:"Hidden"}):o.createElement(a.Trans,{id:"Visible in editor"}),checked:!n.isHidden(),onCheck:(e,t)=>{n.setHidden(!t),this.forceUpdate(),this.props.onPropertiesUpdated()},checkedIcon:o.createElement(C.a,null),uncheckedIcon:o.createElement(j.a,null)}),o.createElement(h.a,{element:o.createElement(u.a,null,o.createElement(m.a,null)),buildMenuTemplate:()=>[{label:t._({id:"Delete"}),click:()=>this._removeProperty(n.getName())},{type:"separator"},{label:t._({id:"Move up"}),click:()=>this._moveProperty(l,l-1),enabled:l-1>=0},{label:t._({id:"Move down"}),click:()=>this._moveProperty(l,l+1),enabled:l+1<e.getCount()}]})),o.createElement(s.b,null,o.createElement(O.a,{expand:!0},o.createElement(O.b,{noMargin:!0},o.createElement(i.a,{floatingLabelText:o.createElement(a.Trans,{id:"Type"}),value:n.getType(),onChange:(e,t,a)=>{n.setType(a),this.forceUpdate(),this.props.onPropertiesUpdated()},fullWidth:!0},o.createElement(r.a,{value:"Number",primaryText:{id:"Number"}}),o.createElement(r.a,{value:"String",primaryText:{id:"String"}}),o.createElement(r.a,{value:"Boolean",primaryText:{id:"Boolean (checkbox)"}})),("String"===n.getType()||"Number"===n.getType())&&o.createElement(g.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Default value"}),hintText:"Number"===n.getType()?"123":"ABC",value:n.getValue(),onChange:e=>{n.setValue(e),this.forceUpdate(),this.props.onPropertiesUpdated()},fullWidth:!0}),"Boolean"===n.getType()&&o.createElement(i.a,{floatingLabelText:o.createElement(a.Trans,{id:"Default value"}),value:"true"===n.getValue()?"true":"false",onChange:(e,t,a)=>{n.setValue(a),this.forceUpdate(),this.props.onPropertiesUpdated()},fullWidth:!0},o.createElement(r.a,{value:"true",primaryText:{id:"True (checked)"}}),o.createElement(r.a,{value:"false",primaryText:{id:"False (not checked)"}}))),o.createElement(g.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Label, shown in the editor"}),hintText:{id:"This should make the purpose of the property easy to understand"},floatingLabelFixed:!0,value:n.getLabel(),onChange:e=>{n.setLabel(e),this.forceUpdate()},fullWidth:!0}))))),0===e.getCount()?o.createElement(d.a,null,o.createElement(a.Trans,{id:"No properties for this behavior. Add one to store data inside this behavior (for example: health, ammo, speed, etc...)"})):null,o.createElement(s.a,null,o.createElement(s.b,{justifyContent:"flex-end",expand:!0},o.createElement(c.a,{primary:!0,label:o.createElement(a.Trans,{id:"Add a property"}),onClick:this._addProperty,icon:o.createElement(T.a,null)})))))))}}}).call(this,n(1))},1888:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var a=n(72),o=n(2),s=n(82),i=n(179),r=n(100),l=n(86),c=n(111),u=n(854),d=n(855),h=n(856),p=n(857),m=n(858),g=n(859);const b=e.gd,f={icon:{width:40,height:40},disabledItem:{opacity:.6}},E=({icon:e,disabled:t,onChoose:n,name:a,description:s})=>o.createElement(r.b,{leftIcon:e,primaryText:a,secondaryText:s,secondaryTextLines:2,onClick:()=>n({functionType:b.EventsFunction.Action,name:a}),style:t?f.disabledItem:void 0,disabled:t});class v extends o.Component{render(){const e=[o.createElement(s.a,{label:o.createElement(a.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:()=>this.props.onCancel(),key:"close"})],t=this.props,n=t.eventsBasedBehavior,v=t.onChoose,y=n.getEventsFunctions();return o.createElement(l.a,{secondaryActions:[o.createElement(c.a,{key:"help",helpPagePath:"/behaviors/events-based-behaviors"})],actions:e,cannotBeDismissed:!1,open:!0,noMargin:!0,title:o.createElement(a.Trans,{id:'Choose a new behavior function ("method")'}),onRequestClose:this.props.onCancel},o.createElement(r.a,null,o.createElement(i.a,null,o.createElement(a.Trans,{id:"Main lifecycle methods"})),o.createElement(E,{icon:o.createElement(u.a,{style:f.icon}),name:"onCreated",disabled:y.hasEventsFunctionNamed("onCreated"),onChoose:v,description:o.createElement(a.Trans,{id:"Events that will be run once, when an object is created with this behavior being attached to it."})}),o.createElement(E,{icon:o.createElement(d.a,{style:f.icon}),name:"doStepPreEvents",disabled:y.hasEventsFunctionNamed("doStepPreEvents"),onChoose:v,description:o.createElement(a.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), for every object that has the behavior attached, before the events from the events sheet are launched."})}),o.createElement(E,{icon:o.createElement(h.a,{style:f.icon}),name:"onDestroy",disabled:y.hasEventsFunctionNamed("onOwnerRemovedFromScene")||y.hasEventsFunctionNamed("onDestroy"),onChoose:v,description:o.createElement(a.Trans,{id:"Events that will be run once, after the object is removed from the scene and before it is entirely removed from memory."})}),o.createElement(i.a,null,o.createElement(a.Trans,{id:"Other lifecycle methods"})),o.createElement(E,{icon:o.createElement(g.a,{style:f.icon}),name:"onDeActivate",disabled:y.hasEventsFunctionNamed("onDeActivate"),onChoose:v,description:o.createElement(a.Trans,{id:"Events that will be run once when the behavior is deactivated on an object (step events won't be run until the behavior is activated again)."})}),o.createElement(E,{icon:o.createElement(m.a,{style:f.icon}),name:"onActivate",disabled:y.hasEventsFunctionNamed("onActivate"),onChoose:v,description:o.createElement(a.Trans,{id:"Events that will be run once when the behavior is re-activated on an object (after it was previously deactivated)."})}),o.createElement(E,{icon:o.createElement(d.a,{style:f.icon}),name:"doStepPostEvents",disabled:y.hasEventsFunctionNamed("doStepPostEvents"),onChoose:v,description:o.createElement(a.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), for every object that has the behavior attached, after the events from the events sheet."})}),o.createElement(i.a,null,o.createElement(a.Trans,{id:"Custom"})),o.createElement(r.b,{leftIcon:o.createElement(p.a,{style:f.icon}),primaryText:o.createElement(a.Trans,{id:"Custom (action, condition or expression)"}),secondaryText:o.createElement(a.Trans,{id:"An action, condition or expression that can be used on objects that have the behavior attached to them. Use it from the events sheet as any other action/condition/expression."}),secondaryTextLines:2,onClick:()=>v({functionType:b.EventsFunction.Action,name:null})})))}}}).call(this,n(1))},1889:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var a=n(136),o=n(72),s=n(2),i=n(82),r=n(179),l=n(100),c=n(86),u=n(111),d=n(854),h=n(855),p=n(856),m=n(857),g=n(858),b=n(859),f=n(251),E=n.n(f),v=n(252),y=n.n(v),C=n(75);const x=e.gd,j={icon:{width:40,height:40},disabledItem:{opacity:.6}},S=({icon:e,disabled:t,onChoose:n,name:a,description:o})=>s.createElement(l.b,{leftIcon:e,primaryText:a,secondaryText:o,secondaryTextLines:2,onClick:n,style:t?j.disabledItem:void 0,disabled:t});function T({eventsFunctionsExtension:e,onChoose:t,onCancel:n}){const f=s.useState(!1),v=Object(a.a)(f,2),T=v[0],O=v[1];return s.createElement(c.a,{secondaryActions:[s.createElement(u.a,{key:"help",helpPagePath:"/events/functions"})],actions:[s.createElement(i.a,{label:s.createElement(o.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:n,key:"close"})],cannotBeDismissed:!1,open:!0,noMargin:!0,title:s.createElement(o.Trans,{id:"Choose a new extension function"}),onRequestClose:n},s.createElement(l.a,null,s.createElement(S,{icon:s.createElement(m.a,{style:j.icon}),name:s.createElement(o.Trans,{id:"Action"}),onChoose:()=>t({functionType:x.EventsFunction.Action,name:null}),description:s.createElement(o.Trans,{id:"An action that can be used in other events sheet. You can define the action parameters: objects, texts, numbers, layers, etc..."})}),s.createElement(S,{icon:s.createElement(m.a,{style:j.icon}),name:s.createElement(o.Trans,{id:"Condition"}),onChoose:()=>t({functionType:x.EventsFunction.Condition,name:null}),description:s.createElement(o.Trans,{id:"A condition that can be used in other events sheet. You can define the conditions parameters: objects, texts, numbers, layers, etc..."})}),s.createElement(S,{icon:s.createElement(m.a,{style:j.icon}),name:s.createElement(o.Trans,{id:"Expression"}),onChoose:()=>t({functionType:x.EventsFunction.Expression,name:null}),description:s.createElement(o.Trans,{id:"An expression that can be used in formulas. Can either return a number or a string, and take some parameters."})}),T&&s.createElement(s.Fragment,null,s.createElement(r.a,null,s.createElement(o.Trans,{id:"Lifecycle functions (advanced)"})),s.createElement(S,{icon:s.createElement(d.a,{style:j.icon}),name:"onFirstSceneLoaded",disabled:e.hasEventsFunctionNamed("onFirstSceneLoaded"),onChoose:()=>t({functionType:x.EventsFunction.Action,name:"onFirstSceneLoaded"}),description:s.createElement(o.Trans,{id:"Events that will be run once when the first scene of the game is loaded, before any other events."})}),s.createElement(S,{icon:s.createElement(d.a,{style:j.icon}),name:"onSceneLoaded",disabled:e.hasEventsFunctionNamed("onSceneLoaded"),onChoose:()=>t({functionType:x.EventsFunction.Action,name:"onSceneLoaded"}),description:s.createElement(o.Trans,{id:"Events that will be run once when a scene of the game is loaded, before the scene events."})}),s.createElement(S,{icon:s.createElement(h.a,{style:j.icon}),name:"onScenePreEvents",disabled:e.hasEventsFunctionNamed("onScenePreEvents"),onChoose:()=>t({functionType:x.EventsFunction.Action,name:"onScenePreEvents"}),description:s.createElement(o.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), before the events from the events sheet of the scene."})}),s.createElement(S,{icon:s.createElement(h.a,{style:j.icon}),name:"onScenePostEvents",disabled:e.hasEventsFunctionNamed("onScenePostEvents"),onChoose:()=>t({functionType:x.EventsFunction.Action,name:"onScenePostEvents"}),description:s.createElement(o.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), after the events from the events sheet of the scene."})}),s.createElement(S,{icon:s.createElement(b.a,{style:j.icon}),name:"onScenePaused",disabled:e.hasEventsFunctionNamed("onScenePaused"),onChoose:()=>t({functionType:x.EventsFunction.Action,name:"onScenePaused"}),description:s.createElement(o.Trans,{id:"Events that will be run once when a scene is paused (another scene is run on top of it)."})}),s.createElement(S,{icon:s.createElement(g.a,{style:j.icon}),name:"onSceneResumed",disabled:e.hasEventsFunctionNamed("onSceneResumed"),onChoose:()=>t({functionType:x.EventsFunction.Action,name:"onSceneResumed"}),description:s.createElement(o.Trans,{id:"Events that will be run once when a scene is resumed (after it was previously paused)."})}),s.createElement(S,{icon:s.createElement(p.a,{style:j.icon}),name:"onSceneUnloading",disabled:e.hasEventsFunctionNamed("onSceneUnloading"),onChoose:()=>t({functionType:x.EventsFunction.Action,name:"onSceneUnloading"}),description:s.createElement(o.Trans,{id:"Events that will be run once when a scene is about to be unloaded from memory. The previous scene that was paused will be resumed after this."})}))),s.createElement(C.b,{justifyContent:"center",alignItems:"center"},T?s.createElement(i.a,{icon:s.createElement(y.a,null),primary:!1,onClick:()=>O(!1),label:s.createElement(o.Trans,{id:"Hide lifecycle functions (advanced)"})}):s.createElement(i.a,{icon:s.createElement(E.a,null),primary:!1,onClick:()=>O(!0),label:s.createElement(o.Trans,{id:"Show lifecycle functions (advanced)"})})))}}).call(this,n(1))},1890:function(e,t,n){"use strict";var a=n(136),o=n(72),s=n(2),i=n(75),r=n(82),l=n(1891),c=n.n(l),u=n(124);t.a=s.forwardRef(({initialEditorName:e,editors:t,transitions:n,onEditorChanged:l},d)=>{const h=s.useState(e),p=Object(a.a)(h,2),m=p[0],g=p[1];s.useImperativeHandle(d,()=>({openEditor:e=>{g(e)}})),s.useEffect(()=>{l(m)},[m,l]);const b=n[m];let f="space-between";return b&&(b.previousEditor&&!b.nextEditor&&(f="flex-start"),!b.previousEditor&&b.nextEditor&&(f="flex-end")),s.createElement(i.a,{noMargin:!0,expand:!0},b&&s.createElement(u.a,{maxWidth:!0,noExpand:!0,noFullHeight:!0},s.createElement(i.a,null,s.createElement(i.b,{justifyContent:f},b.previousEditor&&s.createElement(r.a,{label:s.createElement(o.Trans,{id:"Back"}),onClick:()=>{b.previousEditor&&g(b.previousEditor)},icon:s.createElement(c.a,null)}),b.nextLabel&&b.nextEditor&&s.createElement(r.a,{label:b.nextLabel,onClick:()=>{b.nextEditor&&g(b.nextEditor)},icon:b.nextIcon})))),t[m]?t[m].renderEditor():null)})},1892:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(124),i=n(75),r=n(83),l=n(84),c=n(82);t.a=e=>{const t=e.eventsFunctionsExtension.getEventsFunctionsCount(),n=e.eventsFunctionsExtension.getEventsBasedBehaviors().getCount();return o.createElement(a.I18n,null,({i18n:u})=>o.createElement(s.a,null,o.createElement(i.a,null,o.createElement(r.a,null,o.createElement(a.Trans,{id:"Extensions can provide functions (which can be actions, conditions or expressions) or new behaviors."})),o.createElement(l.a,{label:u._({id:"Edit functions (not attached to behaviors) ({eventsFunctionsCount})",values:{eventsFunctionsCount:t}}),onClick:e.onEditFreeFunctions,primary:!0}),o.createElement(i.c,null),o.createElement(l.a,{label:u._({id:"Edit behaviors ({eventsBasedBehaviorsCount})",values:{eventsBasedBehaviorsCount:n}}),onClick:e.onEditBehaviors,primary:!0}),o.createElement(i.c,null),o.createElement(c.a,{label:o.createElement(a.Trans,{id:"Edit extension options"}),onClick:e.onEditExtensionOptions}))))}},1899:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(538),o=n.n(a),s=n(180),i=n(376),r=n(108),l=n(865),c=n(1900);const u=e.gd;class d{constructor({project:e,layout:t,layer:n,viewPosition:a,instances:d,onInstanceClicked:h,onInstanceDoubleClicked:p,onOverInstance:m,onOutInstance:g,onMoveInstance:b,onMoveInstanceEnd:f,onDownInstance:E}){this.getInstanceLeft=e=>e.getX()-(this.renderedInstances[e.ptr]?this.renderedInstances[e.ptr].getOriginX():0),this.getInstanceTop=e=>e.getY()-(this.renderedInstances[e.ptr]?this.renderedInstances[e.ptr].getOriginY():0),this.getInstanceWidth=e=>e.hasCustomSize()?e.getCustomWidth():this.renderedInstances[e.ptr]?this.renderedInstances[e.ptr].getDefaultWidth():0,this.getInstanceHeight=e=>e.hasCustomSize()?e.getCustomHeight():this.renderedInstances[e.ptr]?this.renderedInstances[e.ptr].getDefaultHeight():0,this.getRendererOfInstance=e=>{var t=this.renderedInstances[e.ptr];if(void 0===t){const n=e.getObjectName(),a=Object(i.a)(this.project,this.layout,n);if(!a)return;(t=this.renderedInstances[e.ptr]=s.a.createNewInstanceRenderer(this.project,this.layout,e,a,this.pixiContainer))._pixiObject.interactive=!0,o.a.panable(t._pixiObject),Object(c.a)(t._pixiObject),t._pixiObject.on("click",()=>{this.onInstanceClicked(e)}),t._pixiObject.on("doubleclick",()=>{this.onInstanceDoubleClicked(e)}),t._pixiObject.on("mouseover",()=>{this.onOverInstance(e)}),t._pixiObject.on("mousedown",()=>{this.onDownInstance(e)}),t._pixiObject.on("touchstart",t=>{Object(l.b)(t.data&&t.data.originalEvent)||this.onDownInstance(e)}),t._pixiObject.on("mouseout",()=>{this.onOutInstance(e)}),t._pixiObject.on("panmove",t=>{Object(l.b)(t.data&&t.data.originalEvent)||this.onMoveInstance(e,t.deltaX,t.deltaY)}),t._pixiObject.on("panend",e=>{this.onMoveInstanceEnd()})}return t},this.project=e,this.instances=d,this.layout=t,this.layer=n,this.viewPosition=a,this.onInstanceClicked=h,this.onInstanceDoubleClicked=p,this.onOverInstance=m,this.onOutInstance=g,this.onMoveInstance=b,this.onMoveInstanceEnd=f,this.onDownInstance=E,this.viewTopLeft=[0,0],this.viewBottomRight=[0,0],this.renderedInstances={},this.pixiContainer=new r.Container,this.instancesRenderer=new u.InitialInstanceJSFunctor,this.instancesRenderer.invoke=e=>{const t=u.wrapPointer(e,u.InitialInstance);var n=this.getRendererOfInstance(t);if(!n)return;const a=n.getPixiObject();a&&(a.zOrder=t.getZOrder()),a&&(a.interactive=!t.isLocked());const o=this._isInstanceVisible(t);a&&(a.visible=o),o&&n.update(),n.wasUsed=!0}}getPixiContainer(){return this.pixiContainer}_isInstanceVisible(e){const t=this.getInstanceLeft(e),n=this.getInstanceTop(e);return!(t+this.getInstanceWidth(e)<this.viewTopLeft[0]||n+this.getInstanceHeight(e)<this.viewTopLeft[1]||t>this.viewBottomRight[0]||n>this.viewBottomRight[1])}_computeViewBounds(){this.viewTopLeft=this.viewPosition.toSceneCoordinates(-100,-100),this.viewBottomRight=this.viewPosition.toSceneCoordinates(this.viewPosition.getWidth()+100,this.viewPosition.getHeight()+100)}render(){this._computeViewBounds(),this.instances.iterateOverInstancesWithZOrdering(this.instancesRenderer,this.layer.getName()),this._updatePixiObjectsZOrder(),this._updateVisibility(),this._cleanRenderers()}_updatePixiObjectsZOrder(){this.pixiContainer.children.sort((e,t)=>(e.zOrder=e.zOrder||0,t.zOrder=t.zOrder||0,e.zOrder-t.zOrder))}_updateVisibility(){this.pixiContainer.visible=this.layer.getVisibility()}resetRenderersFor(e){for(let t in this.renderedInstances)if(this.renderedInstances.hasOwnProperty(t)){const n=this.renderedInstances[t];n.getInstance().getObjectName()===e&&(n.instanceRemovedFromScene(),delete this.renderedInstances[t])}}_cleanRenderers(){for(let e in this.renderedInstances)if(this.renderedInstances.hasOwnProperty(e)){const t=this.renderedInstances[e];t.wasUsed?t.wasUsed=!1:(t.instanceRemovedFromScene(),delete this.renderedInstances[e])}}delete(){this.instancesRenderer.delete()}}}).call(this,n(1))},1900:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(108);const a=e=>{let t=0;const n=n=>{const a=Date.now();a-t<300&&e.emit("doubleclick",n),t=a};e.interactive=!0,e.on("click",n),e.on("touchend",n)}},1901:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(108);const o=e.gd;class s{constructor({instances:e,instanceMeasurer:t,toSceneCoordinates:n,toCanvasCoordinates:s}){this.startSelectionRectangle=(e,t)=>{this.selectionRectangleStart={x:e,y:t},this.selectionRectangleEnd={x:e,y:t}},this.updateSelectionRectangle=(e,t)=>{this.selectionRectangleStart||(this.selectionRectangleStart={x:e,y:t}),this.selectionRectangleEnd={x:e,y:t}},this.endSelectionRectangle=()=>{if(!this.selectionRectangleStart)return[];if(this._instancesInSelectionRectangle.length=0,this.selectionRectangleStart.x>this.selectionRectangleEnd.x){const e=this.selectionRectangleStart.x;this.selectionRectangleStart.x=this.selectionRectangleEnd.x,this.selectionRectangleEnd.x=e}if(this.selectionRectangleStart.y>this.selectionRectangleEnd.y){const e=this.selectionRectangleStart.y;this.selectionRectangleStart.y=this.selectionRectangleEnd.y,this.selectionRectangleEnd.y=e}return this.instances.iterateOverInstances(this.selector),this.selectionRectangleStart=null,this._instancesInSelectionRectangle},this.instances=e,this.instanceMeasurer=t,this.toSceneCoordinates=n,this.pixiRectangle=new a.Graphics,this.pixiRectangle.hitArea=new a.Rectangle(0,0,0,0),this.selectionRectangleStart=null,this.selectionRectangleEnd=null,this._instancesInSelectionRectangle=[],this.selector=new o.InitialInstanceJSFunctor,this.selector.invoke=e=>{const t=o.wrapPointer(e,o.InitialInstance),a=this.instanceMeasurer.getInstanceLeft(t),s=this.instanceMeasurer.getInstanceTop(t),i=this.instanceMeasurer.getInstanceHeight(t),r=this.instanceMeasurer.getInstanceWidth(t);if(!this.selectionRectangleStart||!this.selectionRectangleEnd)return;const l=n(this.selectionRectangleStart.x,this.selectionRectangleStart.y),c=n(this.selectionRectangleEnd.x,this.selectionRectangleEnd.y);l[0]<=a&&a+r<=c[0]&&l[1]<=s&&s+i<=c[1]&&this._instancesInSelectionRectangle.push(t)}}hasStartedSelectionRectangle(){return this.selectionRectangleStart}getPixiObject(){return this.pixiRectangle}render(){if(!this.selectionRectangleStart)return void(this.pixiRectangle.visible=!1);let e=this.selectionRectangleStart.x,t=this.selectionRectangleStart.y,n=this.selectionRectangleEnd.x,a=this.selectionRectangleEnd.y;this.pixiRectangle.visible=!0,this.pixiRectangle.clear(),this.pixiRectangle.beginFill(6842600),this.pixiRectangle.lineStyle(1,6842600,1),this.pixiRectangle.fillAlpha=.1,this.pixiRectangle.alpha=.8,this.pixiRectangle.drawRect(Math.min(e,n),Math.min(t,a),Math.abs(n-e),Math.abs(a-t)),this.pixiRectangle.endFill()}delete(){this.selector.delete()}}}).call(this,n(1))},1902:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(866);const o=e.gd,s=(e,t)=>{const n=e;return t.grid&&t.snap?(n[0]=Object(a.a)(n[0],t.gridWidth,t.gridOffsetX),n[1]=Object(a.a)(n[1],t.gridHeight,t.gridOffsetY)):(n[0]=Math.round(n[0]),n[1]=Math.round(n[1])),n};class i{constructor({instances:e,options:t}){this._zOrderFinder=new o.HighestZOrderFinder,this.addInstances=(e,t)=>{this._instances.iterateOverInstances(this._zOrderFinder);const n=this._zOrderFinder.getHighestZOrder()+1,a=s(e,this._options);t.map(e=>{const t=this._instances.insertNewInitialInstance();return t.setObjectName(e),t.setX(a[0]),t.setY(a[1]),t.setZOrder(n),t})},this.createOrUpdateTemporaryInstancesFromObjectNames=(e,t)=>{t.length&&(this._temporaryInstances.length?this.updateTemporaryInstancePositions(e):this._createTemporaryInstancesFromObjectNames(e,t))},this._createTemporaryInstancesFromObjectNames=(e,t)=>{this.deleteTemporaryInstances(),this._instances.iterateOverInstances(this._zOrderFinder);const n=this._zOrderFinder.getHighestZOrder()+1,a=s(e,this._options);this._temporaryInstances=t.map(e=>{const t=this._instances.insertNewInitialInstance();return t.setObjectName(e),t.setX(a[0]),t.setY(a[1]),t.setZOrder(n),t})},this.updateTemporaryInstancePositions=e=>{const t=s(e,this._options);this._temporaryInstances.forEach(e=>{e.setX(Math.round(t[0])),e.setY(Math.round(t[1]))})},this._instances=e,this._options=t,this._temporaryInstances=[]}setOptions(e){this._options=e}deleteTemporaryInstances(){this._temporaryInstances.forEach(e=>{this._instances.removeInstance(e)}),this._temporaryInstances=[]}commitTemporaryInstances(){this._temporaryInstances=[]}unmount(){this._zOrderFinder.delete()}}}).call(this,n(1))},1903:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(72),o=n(2),s=n(124),i=n(867),r=n(92),l=n(241),c=n(291),u=n(608),d=n(376),h=n(104),p=n(75),m=n(277),g=n.n(m),b=n(83),f=n(218);class E extends o.Component{constructor(...e){super(...e),this._instanceVariablesList=o.createRef(),this.schema=[{name:"Object name",valueType:"string",disabled:!0,getValue:e=>e.getObjectName(),setValue:(e,t)=>e.setObjectName(t),onEditButtonClick:e=>this.props.onEditObjectByName(e.getObjectName())},{name:"Position",type:"row",children:[{name:"X",valueType:"number",getValue:e=>e.getX(),setValue:(e,t)=>e.setX(t)},{name:"Y",valueType:"number",getValue:e=>e.getY(),setValue:(e,t)=>e.setY(t)}]},{name:"Angle",valueType:"number",getValue:e=>e.getAngle(),setValue:(e,t)=>e.setAngle(t)},{name:"Lock position/angle in the editor",valueType:"boolean",getValue:e=>e.isLocked(),setValue:(e,t)=>e.setLocked(t)},{name:"Z Order",valueType:"number",getValue:e=>e.getZOrder(),setValue:(e,t)=>e.setZOrder(t)},{name:"Layer",valueType:"string",getChoices:()=>Object(i.a)(this.props.layout),getValue:e=>e.getLayer(),setValue:(e,t)=>e.setLayer(t)},{name:"Custom size?",valueType:"boolean",getValue:e=>e.hasCustomSize(),setValue:(e,t)=>e.setHasCustomSize(t)},{name:"Custom size",type:"row",children:[{name:"Width",valueType:"number",getValue:e=>e.getCustomWidth(),setValue:(e,t)=>e.setCustomWidth(t)},{name:"Height",valueType:"number",getValue:e=>e.getCustomHeight(),setValue:(e,t)=>e.setCustomHeight(t)}]}]}_renderEmpty(){return o.createElement(r.a,null,o.createElement(a.Trans,{id:"Click on an instance in the scene to display its properties"}))}_renderInstancesProperties(){const e=this.props,t=e.project,n=e.layout,s=e.instances,i=s[0],r=i.getObjectName(),m=Object(d.a)(t,n,r),E=i.getCustomProperties(t,n),v=Object(c.a)(E,e=>e.getCustomProperties(t,n),(e,a,o)=>e.updateCustomProperty(a,o,t,n));return o.createElement(f.a,{autoHideScrollbar:!0,key:s.map(e=>""+e.ptr).join(";")},o.createElement(p.b,null,o.createElement(p.a,{expand:!0,noMargin:!0},o.createElement(p.a,null,o.createElement(l.a,{unsavedChanges:this.props.unsavedChanges,schema:this.schema.concat(v),instances:s}),o.createElement(p.b,{alignItems:"center",justifyContent:"space-between"},o.createElement(b.a,null,o.createElement(a.Trans,{id:"Instance Variables"})),o.createElement(h.a,{onClick:()=>{this.props.editInstanceVariables(i)}},o.createElement(g.a,null)))),o.createElement(u.a,{inheritedVariablesContainer:m?m.getVariables():null,variablesContainer:i.getVariables(),onSizeUpdated:()=>this.forceUpdate(),ref:this._instanceVariablesList}))))}render(){const e=this.props.instances;return o.createElement(s.a,null,e&&e.length?this._renderInstancesProperties():this._renderEmpty())}}},1904:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(72),o=n(2),s=n.n(o),i=n(198),r=n(101),l=n(150);const c=e.gd,u={container:{flex:1,display:"flex",flexDirection:"column",alignItems:"stretch"}};class d extends o.Component{constructor(...e){super(...e),this.state={searchText:""},this.renderedRows=[],this._searchBar=s.a.createRef(),this._onRowClick=({index:e})=>{this.renderedRows[e]&&this.props.onSelectInstances([this.renderedRows[e].instance])},this._rowGetter=({index:e})=>this.renderedRows[e],this._rowClassName=({index:e})=>{if(e<0)return"tableHeaderRow";{const t=this.renderedRows[e];return t&&-1!==this.props.selectedInstances.indexOf(t.instance)?"tableSelectedRow":e%2===0?"tableEvenRow":"tableOddRow"}},this._selectFirstInstance=()=>{this.renderedRows.length&&this.props.onSelectInstances([this.renderedRows[0].instance])}}componentDidMount(){this._searchBar.current&&this._searchBar.current.focus()}componentWillMount(){this.instanceRowRenderer=new c.InitialInstanceJSFunctor,this.instanceRowRenderer.invoke=e=>{const t=this.state.searchText,n=c.wrapPointer(e,c.InitialInstance),a=n.getObjectName();t&&-1===a.toLowerCase().indexOf(t.toLowerCase())||this.renderedRows.push({instance:n,name:a,locked:n.isLocked()?"\ud83d\udd12":"",x:n.getX().toFixed(2),y:n.getY().toFixed(2),angle:n.getAngle().toFixed(2),layer:n.getLayer(),zOrder:n.getZOrder()})}}componentWillUnmount(){this.instanceRowRenderer&&this.instanceRowRenderer.delete()}render(){const e=this.state.searchText,t=this.props.instances;this.renderedRows.length=0,t.iterateOverInstances(this.instanceRowRenderer);const n=t.ptr;return s.a.createElement(r.a,null,t=>s.a.createElement("div",{style:u.container},s.a.createElement("div",{style:{flex:1}},s.a.createElement(i.a,null,({height:e,width:o})=>s.a.createElement(i.d,{ref:e=>this.table=e,key:n,headerHeight:30,height:e,className:t.tableRootClassName,headerClassName:"tableHeaderColumn",rowCount:this.renderedRows.length,rowGetter:this._rowGetter,rowHeight:32,onRowClick:this._onRowClick,rowClassName:this._rowClassName,width:o},s.a.createElement(i.b,{label:s.a.createElement(a.Trans,{id:"Object name"}),dataKey:"name",width:.35*o,className:"tableColumn"}),s.a.createElement(i.b,{label:"",dataKey:"locked",width:.05*o,className:"tableColumn"}),s.a.createElement(i.b,{label:s.a.createElement(a.Trans,{id:"X"}),dataKey:"x",width:.1*o,className:"tableColumn"}),s.a.createElement(i.b,{label:s.a.createElement(a.Trans,{id:"Y"}),dataKey:"y",width:.1*o,className:"tableColumn"}),s.a.createElement(i.b,{label:s.a.createElement(a.Trans,{id:"Angle"}),dataKey:"angle",width:.1*o,className:"tableColumn"}),s.a.createElement(i.b,{label:s.a.createElement(a.Trans,{id:"Layer"}),dataKey:"layer",width:.2*o,className:"tableColumn"}),s.a.createElement(i.b,{label:s.a.createElement(a.Trans,{id:"Z Order"}),dataKey:"zOrder",width:.1*o,className:"tableColumn"})))),s.a.createElement(l.a,{value:e,onChange:e=>this.setState({searchText:e}),onRequestSearch:this._selectFirstInstance,ref:this._searchBar})))}}}).call(this,n(1))},1906:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(72),o=n(2),s=n.n(o),i=n(82),r=n(86),l=n(116),c=n(117),u=n(83),d=n(867);class h extends o.Component{constructor(e){super(e),this.state={selectedLayer:""}}componentWillReceiveProps(e){!this.props.open&&e.open&&this.setState({selectedLayer:""})}render(){if(!this.props.layersContainer||!this.props.open)return null;const e=[s.a.createElement(i.a,{key:"cancel",label:s.a.createElement(a.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:()=>this.props.onClose(!1)}),s.a.createElement(i.a,{key:"remove",label:s.a.createElement(a.Trans,{id:"Remove objects"}),onClick:()=>this.props.onClose(!0,null)}),s.a.createElement(i.a,{key:"move",label:s.a.createElement(a.Trans,{id:"Move objects"}),primary:!0,onClick:()=>this.props.onClose(!0,this.state.selectedLayer)})],t=Object(d.a)(this.props.layersContainer).filter(({value:e})=>e!==this.props.layerRemoved).map(({value:e,label:t})=>s.a.createElement(c.a,{key:e,value:e,primaryText:t}));return s.a.createElement(r.a,{title:s.a.createElement(a.Trans,{id:"Objects on {0}",values:{0:this.props.layerRemoved}}),actions:e,cannotBeDismissed:!1,open:this.props.open,onRequestClose:this.props.onCancel},s.a.createElement(u.a,null,s.a.createElement(a.Trans,{id:"Move objects on layer {0} to:",values:{0:this.props.layerRemoved}})),s.a.createElement(l.a,{value:this.state.selectedLayer,onChange:(e,t,n)=>{this.setState({selectedLayer:n})}},t))}}},1907:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(72),o=n(2),s=n.n(o),i=n(82),r=n(395),l=n(86),c=n(111),u=n(1935),d=n(174),h=n(440),p=n(110),m=n(75);class g extends o.Component{constructor(...e){super(...e),this.state={currentTab:"properties",newObjectName:this.props.objectName},this._onChangeTab=e=>{this.setState({currentTab:e})}}render(){const e=[s.a.createElement(i.a,{key:"cancel",label:s.a.createElement(a.Trans,{id:"Cancel"}),onClick:this.props.onCancel}),s.a.createElement(i.a,{key:"apply",label:s.a.createElement(a.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:()=>{this.props.onApply(),this.props.onRename(this.state.newObjectName)}})],t=this.props.editorComponent,n=this.state.currentTab;return s.a.createElement(l.a,{key:this.props.object&&this.props.object.ptr,secondaryActions:s.a.createElement(c.a,{helpPagePath:this.props.helpPagePath}),actions:e,noMargin:!0,onRequestClose:this.props.onCancel,cannotBeDismissed:!0,open:this.props.open,noTitleMargin:!0,title:s.a.createElement("div",null,s.a.createElement(d.b,{value:n,onChange:this._onChangeTab},s.a.createElement(d.a,{label:s.a.createElement(a.Trans,{id:"Properties"}),value:"properties",key:"properties"}),s.a.createElement(d.a,{label:s.a.createElement(a.Trans,{id:"Behaviors"}),value:"behaviors",key:"behaviors"})))},s.a.createElement(m.b,null,s.a.createElement(m.a,{expand:!0},s.a.createElement(p.a,{fullWidth:!0,commitOnBlur:!0,floatingLabelText:s.a.createElement(a.Trans,{id:"Object name"}),floatingLabelFixed:!0,value:this.state.newObjectName,hintText:{id:"Object Name"},onChange:e=>{e!==this.state.newObjectName&&this.props.canRenameObject(e)&&this.setState({newObjectName:e})}}))),"properties"===n&&t&&s.a.createElement(t,{object:this.props.object,project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,onSizeUpdated:()=>this.forceUpdate(),objectName:this.props.objectName}),"behaviors"===n&&s.a.createElement(u.a,{object:this.props.object,project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,onSizeUpdated:()=>this.forceUpdate()}))}}class b extends o.Component{constructor(...e){super(...e),this.state={dialogComponent:null,editorComponent:null,castToObjectType:null,helpPagePath:null,objectName:""}}componentWillMount(){this._loadFrom(this.props.object)}componentWillReceiveProps(e){(!this.props.open&&e.open||e.open&&this.props.object!==e.object)&&this._loadFrom(e.object)}_loadFrom(e){if(!e)return;const t=r.a.getEditorConfiguration(e.getType());if(!t)return this.setState({dialogComponent:null,editorComponent:null,castToObjectType:null});this.setState({dialogComponent:Object(h.a)(g,{propName:"object",newObjectCreator:()=>t.createNewObject(e),useProjectToUnserialize:!0}),editorComponent:t.component,helpPagePath:t.helpPagePath,castToObjectType:t.castToObjectType,objectName:e.getName()})}render(){if(!this.props.object||!this.state.dialogComponent||!this.state.castToObjectType)return null;const e=this.state.dialogComponent,t=this.state,n=t.editorComponent,a=t.castToObjectType,o=t.helpPagePath;return s.a.createElement(e,Object.assign({editorComponent:n,key:this.props.object&&this.props.object.ptr,helpPagePath:o},this.props,{object:a(this.props.object),objectName:this.state.objectName}))}}},1908:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a=n(78),o=n(72),s=n(2),i=n(145),r=n(75),l=n(286),c=n(166),u=n(226),d=n(112),h=n(110);const p=e.gd,m={marginRight:10},g={sizeTextField:Object(a.a)({width:90},m),toolbarItem:m,checkbox:m};class b extends s.Component{render(){const e=this.props,t=e.object,n=e.project,a=e.resourceSources,m=e.onChooseResource,b=e.resourceExternalEditors,f=p.asTextObject(t);return s.createElement(r.a,{noMargin:!0},s.createElement(c.b,null,s.createElement(c.a,null,s.createElement(o.Trans,{id:"Size:"})),s.createElement(h.a,{commitOnBlur:!0,type:"number",margin:"none",style:g.sizeTextField,value:f.getCharacterSize(),onChange:e=>{f.setCharacterSize(parseInt(e,10)||0),this.forceUpdate()}}),s.createElement(c.a,null,s.createElement(o.Trans,{id:"Color:"})),s.createElement(l.a,{style:g.toolbarItem,disableAlpha:!0,color:{r:f.getColorR(),g:f.getColorG(),b:f.getColorB(),a:255},onChangeComplete:e=>{f.setColor(e.rgb.r,e.rgb.g,e.rgb.b),this.forceUpdate()}}),s.createElement(i.a,{label:s.createElement(o.Trans,{id:"Bold"}),checked:f.isBold(),onCheck:(e,t)=>{f.setBold(t),this.forceUpdate()},style:g.checkbox}),s.createElement(i.a,{label:s.createElement(o.Trans,{id:"Italic"}),checked:f.isItalic(),onCheck:(e,t)=>{f.setItalic(t),this.forceUpdate()},style:g.checkbox}),s.createElement(c.a,null,s.createElement(o.Trans,{id:"Font:"})),s.createElement(u.a,{margin:"none",project:n,resourceSources:a,onChooseResource:m,resourceExternalEditors:b,resourcesLoader:d.a,resourceKind:"font",fullWidth:!0,canBeReset:!0,initialResourceName:f.getFontName(),onChange:e=>{f.setFontName(e),this.forceUpdate()},hintText:s.createElement(o.Trans,{id:"Choose a font"})})),s.createElement(r.b,{noMargin:!0},s.createElement(r.a,{expand:!0},s.createElement(r.b,null,s.createElement(h.a,{floatingLabelText:s.createElement(o.Trans,{id:"Initial text to display"}),floatingLabelFixed:!0,commitOnBlur:!0,hintText:{id:"Enter the text to be displayed by the object"},fullWidth:!0,multiline:!0,rows:8,rowsMax:8,value:f.getString(),onChange:e=>{f.setString(e),this.forceUpdate(),this.props.onSizeUpdated()}})))))}}}).call(this,n(1))},1909:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a=n(72),o=n(2),s=n(110),i=n(403),r=n(105);const l=e.gd;class c extends o.Component{render(){const e=this.props,t=e.object,n=e.project,c=e.resourceSources,u=e.onChooseResource,d=e.resourceExternalEditors,h=l.asTiledSpriteObject(t);return o.createElement(r.a,null,o.createElement(i.a,{project:n,resourceSources:c,onChooseResource:u,resourceKind:"image",resourceName:h.getTexture(),resourceExternalEditors:d,onChange:e=>{h.setTexture(e),this.forceUpdate()},floatingLabelText:o.createElement(a.Trans,{id:"Select an image"})}),o.createElement(r.b,{noMargin:!0},o.createElement(s.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Default width (in pixels)"}),fullWidth:!0,type:"number",value:h.getWidth(),onChange:e=>{h.setWidth(parseInt(e,10)||0),this.forceUpdate()}}),o.createElement(s.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Default height (in pixels)"}),fullWidth:!0,type:"number",value:h.getHeight(),onChange:e=>{h.setHeight(parseInt(e,10)||0),this.forceUpdate()}})))}}}).call(this,n(1))},1910:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a=n(72),o=n(2),s=n(145),i=n(403),r=n(110),l=n(105);const c=e.gd;class u extends o.Component{render(){const e=this.props,t=e.object,n=e.project,u=e.resourceSources,d=e.onChooseResource,h=e.resourceExternalEditors,p=c.asPanelSpriteObject(t);return o.createElement(l.a,null,o.createElement(i.a,{project:n,resourceSources:u,onChooseResource:d,resourceExternalEditors:h,resourceKind:"image",resourceName:p.getTexture(),onChange:e=>{p.setTexture(e),this.forceUpdate()},floatingLabelText:o.createElement(a.Trans,{id:"Select an image"})}),o.createElement(s.a,{label:o.createElement(a.Trans,{id:"Repeat borders and center textures (instead of stretching them)"}),checked:p.isTiled(),onCheck:(e,t)=>{p.setTiled(t),this.forceUpdate()}}),o.createElement(l.b,{noMargin:!0},o.createElement(r.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Top margin"}),fullWidth:!0,type:"number",value:p.getTopMargin(),onChange:e=>{p.setTopMargin(parseInt(e,10)||0),this.forceUpdate()}}),o.createElement(r.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Bottom margin"}),fullWidth:!0,type:"number",value:p.getBottomMargin(),onChange:e=>{p.setBottomMargin(parseInt(e,10)||0),this.forceUpdate()}})),o.createElement(l.b,{noMargin:!0},o.createElement(r.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Left margin"}),fullWidth:!0,type:"number",value:p.getLeftMargin(),onChange:e=>{p.setLeftMargin(parseInt(e,10)||0),this.forceUpdate()}}),o.createElement(r.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Right margin"}),fullWidth:!0,type:"number",value:p.getRightMargin(),onChange:e=>{p.setRightMargin(parseInt(e,10)||0),this.forceUpdate()}})),o.createElement(l.b,{noMargin:!0},o.createElement(r.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Default width (in pixels)"}),fullWidth:!0,type:"number",value:p.getWidth(),onChange:e=>{p.setWidth(parseInt(e,10)||0),this.forceUpdate()}}),o.createElement(r.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Default height (in pixels)"}),fullWidth:!0,type:"number",value:p.getHeight(),onChange:e=>{p.setHeight(parseInt(e,10)||0),this.forceUpdate()}})))}}}).call(this,n(1))},1911:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return L}));var a=n(78),o=n(72),s=n(2),i=n(189),r=n(1912),l=n(141),c=n.n(l),u=n(190),d=n.n(u),h=n(104),p=n(82),m=n(84),g=n(90),b=n(110),f=n(86),E=n(111),v=n(92),y=n(166),C=n(330),x=n(315),j=n(20),S=n(112),T=n(1919),O=n(1924),w=n(5),N=n(311),_=n(75),k=n(105);const P=e.gd,I={gridList:{overflowY:"auto"},animationTitle:{flex:1},animationTools:{flexShrink:0}},F=({onAdd:e,extraTools:t})=>s.createElement(_.a,{expand:!0},s.createElement(_.b,{justifyContent:"space-between"},t,s.createElement(m.a,{label:s.createElement(o.Trans,{id:"Add an animation"}),primary:!0,onClick:e,icon:s.createElement(c.a,null)})));class B extends s.Component{render(){const e=this.props,t=e.animation,n=e.id,a=e.project,o=e.resourceSources,i=e.onRemove,l=e.onChooseResource,c=e.resourceExternalEditors,u=e.resourcesLoader,p=e.onSpriteContextMenu,m=e.selectedSprites,f=e.onSelectSprite,E=e.onReplaceDirection,v=e.objectName,x=e.onChangeName,j=t.getName();return s.createElement("div",null,s.createElement(y.b,null,s.createElement(C.a,null),s.createElement(y.a,null,"Animation #",n," "),s.createElement(_.a,{expand:!0,margin:!0},s.createElement(b.a,{commitOnBlur:!0,margin:"none",value:t.getName(),hintText:{id:"Optional animation name"},onChange:e=>x(e),fullWidth:!0})),s.createElement(h.a,{onClick:i},s.createElement(d.a,null))),Object(g.mapFor)(0,t.getDirectionsCount(),e=>{const n=t.getDirection(e);return s.createElement(r.a,{direction:n,key:e,project:a,resourcesLoader:u,resourceSources:o,onChooseResource:l,resourceExternalEditors:c,onSpriteContextMenu:p,selectedSprites:m,onSelectSprite:f,onReplaceByDirection:t=>E(e,t),objectName:v,animationName:j,onChangeName:x})}))}}const M=Object(i.SortableElement)(B),R=Object(i.SortableContainer)(({spriteObject:e,objectName:t,onAddAnimation:n,onRemoveAnimation:a,onChangeAnimationName:o,project:i,resourcesLoader:r,resourceSources:l,onChooseResource:c,resourceExternalEditors:u,extraBottomTools:d,onSpriteContextMenu:h,selectedSprites:p,onSelectSprite:m,onReplaceDirection:b})=>s.createElement("div",{style:I.gridList},[...Object(g.mapFor)(0,e.getAnimationsCount(),n=>{const d=e.getAnimation(n);return s.createElement(M,{key:n,index:n,id:n,animation:d,project:i,resourcesLoader:r,resourceSources:l,onChooseResource:c,resourceExternalEditors:u,onRemove:()=>a(n),onChangeName:e=>o(n,e),onSpriteContextMenu:h,selectedSprites:p,onSelectSprite:m,onReplaceDirection:(e,t)=>b(n,e,t),objectName:t})}),s.createElement(F,{onAdd:n,key:"add-animation-line",disabled:!0,index:e.getAnimationsCount(),extraTools:d})]));class D extends s.Component{constructor(...e){super(...e),this.state={selectedSprites:{}},this.onSortEnd=({oldIndex:e,newIndex:t})=>{this.props.spriteObject.moveAnimation(e,t),this.forceUpdate()},this.addAnimation=()=>{const e=new P.Animation;e.setDirectionsCount(1),this.props.spriteObject.addAnimation(e),this.forceUpdate(),this.props.onSizeUpdated()},this.removeAnimation=e=>{w.b.showConfirmDialog("Are you sure you want to remove this animation?")&&(this.props.spriteObject.removeAnimation(e),this.forceUpdate(),this.props.onSizeUpdated())},this.changeAnimationName=(e,t)=>{const n=this.props.spriteObject,a=Object(g.mapFor)(0,n.getAnimationsCount(),t=>t===e?void 0:n.getAnimation(t).getName());""!==t&&a.filter(e=>e===t).length?Object(j.c)("Another animation with this name already exists. Please use another name."):(n.getAnimation(e).setName(t),this.forceUpdate())},this.deleteSelection=()=>{const e=this.props.spriteObject;Object(g.mapFor)(0,e.getAnimationsCount(),t=>{const n=e.getAnimation(t);Object(N.i)(n,this.state.selectedSprites)}),this.setState({selectedSprites:{}})},this.duplicateSelection=()=>{const e=this.props.spriteObject;Object(g.mapFor)(0,e.getAnimationsCount(),t=>{const n=e.getAnimation(t);Object(N.j)(n,this.state.selectedSprites)}),this.setState({selectedSprites:{}})},this.openSpriteContextMenu=(e,t,n,a)=>{this.selectSprite(n,!0),this.spriteContextMenu&&this.spriteContextMenu.open(e,t)},this.selectSprite=(e,t)=>{this.setState({selectedSprites:Object(a.a)({},this.state.selectedSprites,{[e.ptr]:t})})},this.replaceDirection=(e,t,n)=>{this.props.spriteObject.getAnimation(e).setDirection(n,t),this.forceUpdate()}}render(){return s.createElement("div",null,0===this.props.spriteObject.getAnimationsCount()&&s.createElement(v.a,null,s.createElement(o.Trans,{id:"This object has no animations containing images. Start by adding an animation."})),s.createElement(R,{spriteObject:this.props.spriteObject,objectName:this.props.objectName,helperClass:"sortable-helper",project:this.props.project,onSortEnd:this.onSortEnd,onAddAnimation:this.addAnimation,onChangeAnimationName:this.changeAnimationName,onRemoveAnimation:this.removeAnimation,onReplaceDirection:this.replaceDirection,onSpriteContextMenu:this.openSpriteContextMenu,selectedSprites:this.state.selectedSprites,onSelectSprite:this.selectSprite,resourcesLoader:this.props.resourcesLoader,resourceSources:this.props.resourceSources,resourceExternalEditors:this.props.resourceExternalEditors,onChooseResource:this.props.onChooseResource,extraBottomTools:this.props.extraBottomTools,useDragHandle:!0,lockAxis:"y",axis:"y"}),s.createElement(x.a,{ref:e=>this.spriteContextMenu=e,buildMenuTemplate:()=>[{label:"Delete selection",click:()=>this.deleteSelection()},{label:"Duplicate selection",click:()=>this.duplicateSelection()}]}))}}class L extends s.Component{constructor(e){super(e),this.state={pointsEditorOpen:!1,collisionMasksEditorOpen:!1},this.openPointsEditor=(e=!0)=>{this.setState({pointsEditorOpen:e})},this.openCollisionMasksEditor=(e=!0)=>{this.setState({collisionMasksEditorOpen:e})},this.resourcesLoader=S.a}render(){const e=this.props,t=e.object,n=e.project,a=e.resourceSources,i=e.onChooseResource,r=e.resourceExternalEditors,l=e.onSizeUpdated,c=e.objectName,u=P.asSpriteObject(t);return s.createElement("div",null,s.createElement(D,{spriteObject:u,resourcesLoader:this.resourcesLoader,resourceSources:a,onChooseResource:i,resourceExternalEditors:r,project:n,objectName:c,onSizeUpdated:l,extraBottomTools:s.createElement(k.b,{noMargin:!0},s.createElement(m.a,{label:s.createElement(o.Trans,{id:"Edit hitboxes"}),primary:!1,onClick:()=>this.openCollisionMasksEditor(!0),disabled:0===u.getAnimationsCount()}),s.createElement(m.a,{label:s.createElement(o.Trans,{id:"Edit points"}),primary:!1,onClick:()=>this.openPointsEditor(!0),disabled:0===u.getAnimationsCount()}))}),this.state.pointsEditorOpen&&s.createElement(f.a,{actions:s.createElement(p.a,{label:s.createElement(o.Trans,{id:"Close"}),primary:!0,onClick:()=>this.openPointsEditor(!1)}),secondaryActions:[s.createElement(E.a,{helpPagePath:"/objects/sprite/edit-points",key:"help"})],cannotBeDismissed:!0,noMargin:!0,onRequestClose:()=>this.openPointsEditor(!1),open:this.state.pointsEditorOpen},s.createElement(T.a,{object:u,resourcesLoader:this.resourcesLoader,project:n,onPointsUpdated:()=>this.forceUpdate()})),this.state.collisionMasksEditorOpen&&s.createElement(f.a,{actions:s.createElement(p.a,{label:s.createElement(o.Trans,{id:"Close"}),primary:!0,onClick:()=>this.openCollisionMasksEditor(!1)}),secondaryActions:[s.createElement(E.a,{helpPagePath:"/objects/sprite/collision-mask",key:"help"})],noMargin:!0,cannotBeDismissed:!0,onRequestClose:()=>this.openCollisionMasksEditor(!1),open:this.state.collisionMasksEditorOpen},s.createElement(O.a,{object:u,resourcesLoader:this.resourcesLoader,project:n,onCollisionMasksUpdated:()=>this.forceUpdate()})))}}}).call(this,n(1))},1912:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var a=n(78),o=n(72),s=n(2),i=n.n(s),r=n(189),l=n(90),c=n(141),u=n.n(c),d=n(2306),h=n(166),p=n(689),m=n(311),g=(n(112),n(213)),b=n(82),f=n(101);const E=e.gd,v=n(126),y={spritesList:{whiteSpace:"nowrap",overflowY:"hidden"},thumbnailExtraStyle:{marginRight:10},spriteThumbnailImage:{maxWidth:100,maxHeight:100,verticalAlign:"middle"}},C=Object(r.SortableElement)(({displayHint:e,onAdd:t})=>i.a.createElement(f.a,null,e=>i.a.createElement("div",{style:Object(a.a)({},p.b,{backgroundColor:e.list.itemsBackgroundColor})},i.a.createElement(b.a,{onClick:t,label:i.a.createElement(o.Trans,{id:"Add"}),icon:i.a.createElement(u.a,null)})))),x=Object(r.SortableElement)(({sprite:e,project:t,resourcesLoader:n,selected:a,onSelect:o,onContextMenu:s})=>i.a.createElement(p.a,{selectable:!0,selected:a,onSelect:o,onContextMenu:s,resourceName:e.getImageName(),resourcesLoader:n,project:t,style:y.thumbnailExtraStyle})),j=Object(r.SortableContainer)(({direction:e,project:t,resourcesLoader:n,onAddSprite:a,selectedSprites:o,onSelectSprite:s,onSpriteContextMenu:r})=>{const c=e.getSpritesCount();return i.a.createElement("div",{style:y.spritesList},[...Object(l.mapFor)(0,c,a=>{const l=e.getSprite(a);return i.a.createElement(x,{sprite:l,key:l.ptr,index:a,selected:!!o[l.ptr],onContextMenu:(e,t)=>r(e,t,l),onSelect:e=>s(l,e),resourcesLoader:n,project:t})}),i.a.createElement(C,{displayHint:!e.getSpritesCount(),key:"add-sprite-button",disabled:!0,index:c,onAdd:a})])}),S=e=>{let t=!1,n=!1;return 0!==e.getSpritesCount()&&(t=Object(m.b)(e.getSprite(0),e),n=Object(m.a)(e.getSprite(0),e)),{allDirectionSpritesHaveSamePoints:t,allDirectionSpritesHaveSameCollisionMasks:n}};class T extends s.Component{constructor(...e){super(...e),this.onSortEnd=({oldIndex:e,newIndex:t})=>{this.props.direction.moveSprite(e,t),this.forceUpdate()},this.onAddSprite=()=>{const e=this.props,t=e.resourceSources,n=e.onChooseResource,a=e.project,o=e.direction;if(!t)return;const s=t.filter(e=>"image"===e.kind);if(!s.length)return;const i=S(o),r=i.allDirectionSpritesHaveSameCollisionMasks,l=i.allDirectionSpritesHaveSamePoints;n(s[0].name).then(e=>{e.forEach(e=>{Object(g.b)(a,e),a.getResourcesManager().addResource(e);const t=new E.Sprite;t.setImageName(e.getName()),l&&Object(m.g)(o.getSprite(0),t),r&&Object(m.h)(o.getSprite(0),t),o.addSprite(t)}),e.forEach(e=>e.delete()),this.forceUpdate()})},this.editWith=e=>{const t=this.props,n=t.project,a=t.direction,o=t.resourcesLoader,s=t.onReplaceByDirection,i=t.onChangeName,r=t.objectName,c=t.animationName,u=Object(l.mapFor)(0,a.getSpritesCount(),e=>a.getSprite(e).getImageName()),d=S(a),h=d.allDirectionSpritesHaveSameCollisionMasks,p=d.allDirectionSpritesHaveSamePoints;let g={};const b=a.getMetadata();if(b)try{g=JSON.parse(b)}catch(f){console.error("Malformed metadata",f)}e.edit({project:n,resourcesLoader:o,singleFrame:!1,resourceNames:u,extraOptions:{fps:a.getTimeBetweenFrames()>0?1/a.getTimeBetweenFrames():1,name:c||(u.length>0?v.basename(u[0],v.extname(u[0])):r),isLooping:a.isLooping(),externalEditorData:g},onChangesSaved:e=>{const t=new E.Direction;t.setTimeBetweenFrames(a.getTimeBetweenFrames()),t.setLoop(a.isLooping()),e.forEach(e=>{const n=new E.Sprite;if(n.setImageName(e.name),void 0!==e.originalIndex){const t=a.getSprite(e.originalIndex);Object(m.g)(t,n),Object(m.h)(t,n)}else p&&Object(m.g)(a.getSprite(0),n),h&&Object(m.h)(a.getSprite(0),n);t.addSprite(n),n.delete()}),e[0].metadata&&t.setMetadata(JSON.stringify(e[0].metadata)),o.burstUrlsCacheForResources(n,u),s(t),e[0].newAnimationName&&i(e[0].newAnimationName),t.delete()}})}}render(){return i.a.createElement("div",null,i.a.createElement(h.b,{justifyContent:"flex-end",smallest:!0},i.a.createElement(d.a,{direction:this.props.direction,resourcesLoader:this.props.resourcesLoader,project:this.props.project,resourceExternalEditors:this.props.resourceExternalEditors,onEditWith:this.editWith})),i.a.createElement(j,{resourcesLoader:this.props.resourcesLoader,direction:this.props.direction,project:this.props.project,onSortEnd:this.onSortEnd,onAddSprite:this.onAddSprite,selectedSprites:this.props.selectedSprites,onSelectSprite:this.props.onSelectSprite,onSpriteContextMenu:this.props.onSpriteContextMenu,helperClass:"sortable-helper",lockAxis:"x",axis:"x"}))}}}).call(this,n(1))},1919:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var a=n(72),o=n(2),s=n.n(o),i=n(92),r=n(75),l=n(90),c=n(1920),u=n(1923),d=n(310),h=n(311),p=n(871),m=n(5),g=n(540),b=n.n(g);const f=e.gd;class E extends o.Component{constructor(...e){super(...e),this.state={animationIndex:0,directionIndex:0,spriteIndex:0,samePointsForAnimations:!0,samePointsForSprites:!0},this._updatePoints=()=>{const e=this.props.object,t=this.state,n=t.animationIndex,a=t.directionIndex,o=t.spriteIndex,s=f.asSpriteObject(e),i=Object(h.k)(s,n,a,o),r=i.animation,c=i.sprite;r&&c&&(this.state.samePointsForAnimations?Object(l.mapFor)(0,s.getAnimationsCount(),e=>{const t=s.getAnimation(e);Object(h.f)(c,t)}):this.state.samePointsForSprites&&Object(h.f)(c,r)),this.forceUpdate(),this.props.onPointsUpdated&&this.props.onPointsUpdated()},this.chooseAnimation=e=>{this.setState({animationIndex:e,directionIndex:0,spriteIndex:0},()=>this._updateSamePointsToggles())},this.chooseDirection=e=>{this.setState({directionIndex:e,spriteIndex:0})},this.chooseSprite=e=>{this.setState({spriteIndex:e})},this._updateSamePointsToggles=()=>{const e=this.props.object,t=this.state,n=t.animationIndex,a=t.directionIndex,o=t.spriteIndex,s=f.asSpriteObject(e),i=Object(h.k)(s,n,a,o),r=i.animation,c=i.sprite;r&&c&&this.setState({samePointsForAnimations:b()(Object(l.mapFor)(0,s.getAnimationsCount(),e=>{const t=s.getAnimation(e);return Object(h.d)(c,t)})),samePointsForSprites:Object(h.d)(c,r)})},this._setSamePointsForAllAnimations=e=>{if(e){if(!m.b.showConfirmDialog("Having the same points for all animations will erase and reset all the other animations points. This can't be undone. Are you sure you want to share these points amongst all the animations of the object?"))return}this.setState({samePointsForAnimations:e,samePointsForSprites:!!e||this.state.samePointsForSprites},()=>{this._updatePoints()})},this._setSamePointsForAllSprites=e=>{if(e){if(!m.b.showConfirmDialog("Having the same points for all frames will erase and reset all the other frames points. This can't be undone. Are you sure you want to share these points amongst all the frames of the animation?"))return}this.setState({samePointsForAnimations:!!e&&this.state.samePointsForAnimations,samePointsForSprites:e},()=>{this._updatePoints()})}}componentDidMount(){this._updateSamePointsToggles()}render(){const e=this.props,t=e.object,n=e.resourcesLoader,o=e.project,l=this.state,m=l.samePointsForAnimations,g=l.samePointsForSprites,b=l.animationIndex,E=l.directionIndex,v=l.spriteIndex,y=f.asSpriteObject(t);if(!t.getAnimationsCount())return null;const C=Object(h.k)(y,b,E,v),x=C.hasValidSprite,j=C.sprite;return s.a.createElement("div",null,s.a.createElement(d.a,{resourceName:x?j.getImageName():"",resourcesLoader:n,project:o,renderOverlay:({imageWidth:e,imageHeight:t,imageZoomFactor:n})=>x&&s.a.createElement(u.a,{imageWidth:e,imageHeight:t,imageZoomFactor:n,pointsContainer:j,onPointsUpdated:this._updatePoints})}),s.a.createElement(r.b,null,s.a.createElement(r.a,{expand:!0},s.a.createElement(p.a,{spriteObject:y,animationIndex:b,directionIndex:E,spriteIndex:v,chooseAnimation:this.chooseAnimation,chooseDirection:this.chooseDirection,chooseSprite:this.chooseSprite,sameForAllAnimations:m,sameForAllSprites:g,setSameForAllAnimations:this._setSamePointsForAllAnimations,setSameForAllSprites:this._setSamePointsForAllSprites,setSameForAllAnimationsLabel:s.a.createElement(a.Trans,{id:"Share same points for all animations"}),setSameForAllSpritesLabel:s.a.createElement(a.Trans,{id:"Share same points for all sprites of this animation"})}))),!!j&&s.a.createElement(c.a,{pointsContainer:j,onPointsUpdated:this._updatePoints}),!j&&s.a.createElement(i.a,null,s.a.createElement(a.Trans,{id:"Choose an animation and frame to edit the points"})))}}}).call(this,n(1))},192:function(e,t,n){"use strict";(function(e){n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return m}));var a=n(90),o=n(157),s=n.n(o),i=n(245);const r=e.gd,l=e=>t=>e&&t&&e.global===t.global&&e.object===t.object,c=(e,t,n)=>{const o=a=>!n||r.getTypeOfObject(e,t,a.getName(),!1)===n,s=Object(a.mapFor)(0,t.getObjectsCount(),e=>t.getObjectAt(e)).filter(o).map(e=>({object:e,global:!1})),i=e===t?[]:Object(a.mapFor)(0,e.getObjectsCount(),t=>e.getObjectAt(t)).filter(o).map(e=>({object:e,global:!0})),l=s.concat(i);return{containerObjectsList:s,projectObjectsList:i,allObjectsList:l}},u=e=>{const t=e.getCurrentPlatform().getAllPlatformExtensions();return s()(Object(a.mapFor)(0,t.size(),e=>{const n=t.at(e);return n.getExtensionObjectsTypes().toJSArray().map(e=>n.getObjectMetadata(e)).map(e=>({extension:n,objectMetadata:e,name:e.getName(),fullName:e.getFullName(),description:e.getDescription(),iconFilename:e.getIconFilename()}))}))},d=(e,{searchText:t,selectedTags:n})=>{if(!t&&!n.length)return e;const a=t.toLowerCase();return e.filter(e=>{if(!n.length)return!0;const t=e.object.getTags();return Object(i.d)(t,n)}).filter(e=>-1!==e.object.getName().toLowerCase().indexOf(a))},h=(e,t)=>{if(!t)return e;const n=t.toLowerCase();return e.filter(e=>-1!==e.group.getName().toLowerCase().indexOf(n))},p=e=>Object(a.mapFor)(0,e.count(),t=>e.getAt(t)),m=(e,t,n)=>{const o=a=>!n||r.getTypeOfObject(e,t,a.getName(),!1)===n,s=a=>!n||r.getTypeOfObject(e,t,a.getName(),!0)===n,i=Object(a.mapFor)(0,t.getObjectsCount(),e=>t.getObjectAt(e)).filter(o).map(e=>({object:e,global:!1})),l=t.getObjectGroups(),c=p(l).filter(s).map(e=>({group:e,global:!1})),u=e===t?[]:Object(a.mapFor)(0,e.getObjectsCount(),t=>e.getObjectAt(t)).filter(o).map(e=>({object:e,global:!0})),d=e.getObjectGroups(),h=e===t?[]:p(d).filter(s).map(e=>({group:e,global:!0})),m=i.concat(u),g=c.concat(h);return{containerObjectsList:i,projectObjectsList:u,allObjectsList:m,containerGroupsList:c,projectGroupsList:h,allGroupsList:g}}}).call(this,n(1))},1920:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var a=n(78),o=n(2),s=n.n(o),i=n(163),r=n(189),l=n(133),c=n(90),u=n(5),d=n(541),h=n(1921),p=n(1922);const m=e.gd,g=Object(r.SortableElement)(p.a),b=Object(r.SortableElement)(h.a);class f extends o.Component{constructor(...e){super(...e),this.state={nameErrors:{}},this.updateOriginPointX=e=>{this.props.pointsContainer.getOrigin().setX(e),this._onPointsUpdated()},this.updateOriginPointY=e=>{this.props.pointsContainer.getOrigin().setY(e),this._onPointsUpdated()},this.updateCenterPointX=e=>{this.props.pointsContainer.getCenter().setX(e),this._onPointsUpdated()},this.updateCenterPointY=e=>{this.props.pointsContainer.getCenter().setY(e),this._onPointsUpdated()},this.updatePointX=(e,t)=>{e.setX(t),this._onPointsUpdated()},this.updatePointY=(e,t)=>{e.setY(t),this._onPointsUpdated()}}_onPointsUpdated(){this.forceUpdate(),this.props.onPointsUpdated()}render(){const e=this.props.pointsContainer,t=e.getAllNonDefaultPoints(),n=Object(c.mapVector)(t,(t,n)=>{const o=t.getName();return s.a.createElement(b,{index:n,disabled:!0,key:"point-"+o,pointX:t.getX(),pointY:t.getY(),onChangePointX:e=>this.updatePointX(t,e),onChangePointY:e=>this.updatePointY(t,e),pointName:o,nameError:this.state.nameErrors[o],onBlur:n=>{const s=n.target.value;if(o===s)return;let i=!0;e.hasPoint(s)?i=!1:t.setName(s),this.setState({nameErrors:Object(a.a)({},this.state.nameErrors,{[o]:!i})})},onRemove:()=>{u.b.showConfirmDialog("Are you sure you want to remove this point? This can't be undone.")&&(e.delPoint(o),this._onPointsUpdated())}})}),o=e.getOrigin(),r=e.getCenter(),d=s.a.createElement(b,{index:0,key:"origin-point-row",pointName:"Origin",pointX:o.getX(),pointY:o.getY(),onChangePointX:this.updateOriginPointX,onChangePointY:this.updateOriginPointY,disabled:!0}),h=s.a.createElement(b,{index:1,key:"center-point-row",pointName:"Center",isAutomatic:e.isDefaultCenterPoint(),pointX:r.getX(),pointY:r.getY(),onChangePointX:this.updateCenterPointX,onChangePointY:this.updateCenterPointY,disabled:!0,onEdit:e.isDefaultCenterPoint()?()=>{e.setDefaultCenterPoint(!1),this._onPointsUpdated()}:null,onRemove:e.isDefaultCenterPoint()?null:()=>{e.setDefaultCenterPoint(!0),this._onPointsUpdated()}}),p=s.a.createElement(g,{index:0,key:"add-point-row",disabled:!0,onAdd:()=>{const t=Object(l.a)("Point",t=>e.hasPoint(t)),n=new m.Point(t);e.addPoint(n),n.delete(),this._onPointsUpdated()}});return s.a.createElement(i.b,null,[d,h,...n,p])}}const E=Object(r.SortableContainer)(f);E.muiName="TableBody";class v extends o.Component{render(){return s.a.createElement(i.a,null,s.a.createElement(i.c,null,s.a.createElement(i.e,null,s.a.createElement(i.d,{style:d.a.handleColumn}),s.a.createElement(i.d,null,"Point name"),s.a.createElement(i.d,{style:d.a.coordinateColumn},"X"),s.a.createElement(i.d,{style:d.a.coordinateColumn},"Y"),s.a.createElement(i.f,{style:d.a.toolColumn}))),s.a.createElement(E,{pointsContainer:this.props.pointsContainer,onPointsUpdated:this.props.onPointsUpdated,onSortEnd:({oldIndex:e,newIndex:t})=>{},helperClass:"sortable-helper",useDragHandle:!0,lockToContainerEdges:!0}))}}}).call(this,n(1))},1921:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n.n(o),i=n(163),r=n(104),l=n(190),c=n.n(l),u=n(673),d=n.n(u),h=n(94),p=n(541),m=n(101),g=n(83);t.a=({pointName:e,nameError:t,onBlur:n,onRemove:o,pointX:l,pointY:u,onChangePointX:b,onChangePointY:f,onEdit:E,isAutomatic:v})=>s.a.createElement(m.a,null,m=>s.a.createElement(i.e,{style:{backgroundColor:m.list.itemsBackgroundColor}},s.a.createElement(i.f,{style:p.a.handleColumn}),s.a.createElement(i.f,null,s.a.createElement(h.b,{margin:"none",defaultValue:e||"Base layer",id:e,fullWidth:!0,errorText:t?"This name is already taken":void 0,disabled:!n,onBlur:n})),s.a.createElement(i.f,{style:p.a.coordinateColumn},v?s.a.createElement(g.a,{noMargin:!0},s.a.createElement(a.Trans,{id:"(auto)"})):s.a.createElement(h.b,{margin:"none",value:l,type:"number",id:"point-x",onChange:(e,t)=>b(parseFloat(t||0,10))})),s.a.createElement(i.f,{style:p.a.coordinateColumn},v?s.a.createElement(g.a,{noMargin:!0},s.a.createElement(a.Trans,{id:"(auto)"})):s.a.createElement(h.b,{margin:"none",value:u,type:"number",id:"point-y",onChange:(e,t)=>f(parseFloat(t||0,10))})),s.a.createElement(i.f,{style:p.a.toolColumn},!!o&&s.a.createElement(r.a,{size:"small",onClick:o},s.a.createElement(c.a,null)),!!E&&s.a.createElement(r.a,{size:"small",onClick:E},s.a.createElement(d.a,null)))))},1922:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(163),i=n(141),r=n.n(i),l=n(104),c=n(541);t.a=({onAdd:e})=>o.a.createElement(s.e,null,o.a.createElement(s.f,{style:c.a.handleColumn}),o.a.createElement(s.f,null),o.a.createElement(s.f,{style:c.a.coordinateColumn}),o.a.createElement(s.f,{style:c.a.coordinateColumn}),o.a.createElement(s.f,{style:c.a.toolColumn},o.a.createElement(l.a,{size:"small",onClick:e},o.a.createElement(r.a,null))))},1923:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),o=n.n(a),s=n(90);const i={container:{position:"relative",width:"100%",height:"100%"}},r=1,l=2,c=3;class u extends o.a.Component{constructor(...e){super(...e),this.state={draggedPoint:null,draggedPointKind:null},this._onStartDragPoint=(e,t)=>{this.state.draggedPoint||this.setState({draggedPoint:e,draggedPointKind:t})},this._onEndDragPoint=()=>{const e=!!this.state.draggedPoint;this.setState({draggedPoint:null,draggedPointKind:null},()=>{e&&this.props.onPointsUpdated()})},this._onMouseMove=e=>{const t=this.state,n=t.draggedPoint,a=t.draggedPointKind;if(!n||!this._container)return;const o=this._container.getBoundingClientRect(),s=e.clientX-o.left,i=e.clientY-o.top;a===c&&this.props.pointsContainer.setDefaultCenterPoint(!1),n.setX(s/this.props.imageZoomFactor),n.setY(i/this.props.imageZoomFactor),this.forceUpdate()},this._renderPoint=(e,t,n,a,s)=>{const i=a===l?"res/originPoint.png":a===c?"res/centerPoint.png":"res/point.png";return o.a.createElement("img",{src:i,style:{position:"absolute",left:t,top:n,transform:"translate(-6px, -5px)",cursor:"move"},alt:"",key:e,onPointerDown:()=>{this._onStartDragPoint(s,a)}})}}render(){const e=this.props,t=e.pointsContainer,n=e.imageWidth,a=e.imageHeight,u=e.imageZoomFactor,d=t.getAllNonDefaultPoints(),h=Object(s.mapVector)(d,(e,t)=>this._renderPoint(e.getName(),e.getX()*u,e.getY()*u,r,e)),p=t.getOrigin(),m=t.getCenter(),g=t.isDefaultCenterPoint();return o.a.createElement("div",{style:i.container,onPointerMove:this._onMouseMove,onPointerUp:this._onEndDragPoint,ref:e=>this._container=e},h,this._renderPoint("Origin",p.getX()*u,p.getY()*u,l,p),this._renderPoint("Center",(g?n/2:m.getX())*u,(g?a/2:m.getY())*u,c,m))}}},1924:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var a=n(72),o=n(2),s=n.n(o),i=n(82),r=n(92),l=n(75),c=n(90),u=n(1925),d=n(1930),h=n(310),p=n(311),m=n(871),g=n(5),b=n(540),f=n.n(b);const E=e.gd;class v extends o.Component{constructor(...e){super(...e),this.state={animationIndex:0,directionIndex:0,spriteIndex:0,sameCollisionMasksForAnimations:!0,sameCollisionMasksForSprites:!0,spriteWidth:0,spriteHeight:0},this._updateCollisionMasks=()=>{const e=this.props.object,t=this.state,n=t.animationIndex,a=t.directionIndex,o=t.spriteIndex,s=E.asSpriteObject(e),i=Object(p.k)(s,n,a,o),r=i.animation,l=i.sprite;r&&l&&(this.state.sameCollisionMasksForAnimations?Object(c.mapFor)(0,s.getAnimationsCount(),e=>{const t=s.getAnimation(e);Object(p.e)(l,t)}):this.state.sameCollisionMasksForSprites&&Object(p.e)(l,r)),this.forceUpdate(),this.props.onCollisionMasksUpdated&&this.props.onCollisionMasksUpdated()},this.chooseAnimation=e=>{this.setState({animationIndex:e,directionIndex:0,spriteIndex:0},()=>this._updateSameCollisionMasksToggles())},this.chooseDirection=e=>{this.setState({directionIndex:e,spriteIndex:0})},this.chooseSprite=e=>{this.setState({spriteIndex:e})},this._updateSameCollisionMasksToggles=()=>{const e=this.props.object,t=this.state,n=t.animationIndex,a=t.directionIndex,o=t.spriteIndex,s=E.asSpriteObject(e),i=Object(p.k)(s,n,a,o),r=i.animation,l=i.sprite;r&&l&&this.setState({sameCollisionMasksForAnimations:f()(Object(c.mapFor)(0,s.getAnimationsCount(),e=>{const t=s.getAnimation(e);return Object(p.c)(l,t)})),sameCollisionMasksForSprites:Object(p.c)(l,r)})},this._onSetCollisionMaskAutomatic=(e=!0)=>{const t=this.props.object,n=this.state,a=n.animationIndex,o=n.directionIndex,s=n.spriteIndex,i=E.asSpriteObject(t),r=Object(p.k)(i,a,o,s).sprite;r&&(r.setCollisionMaskAutomatic(e),this._updateCollisionMasks())},this._setSameCollisionMasksForAllAnimations=e=>{if(e){if(!g.b.showConfirmDialog("Having the same collision masks for all animations will erase and reset all the other animations collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the animations of the object?"))return}this.setState({sameCollisionMasksForAnimations:e,sameCollisionMasksForSprites:!!e||this.state.sameCollisionMasksForSprites},()=>{this._updateCollisionMasks()})},this._setSameCollisionMasksForAllSprites=e=>{if(e){if(!g.b.showConfirmDialog("Having the same collision masks for all frames will erase and reset all the other frames collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the frames of the animation?"))return}this.setState({sameCollisionMasksForAnimations:!!e&&this.state.sameCollisionMasksForAnimations,sameCollisionMasksForSprites:e},()=>{this._updateCollisionMasks()})},this._setCurrentSpriteSize=(e,t)=>{this.setState({spriteWidth:e,spriteHeight:t})}}componentDidMount(){this._updateSameCollisionMasksToggles()}render(){const e=this.props,t=e.object,n=e.resourcesLoader,o=e.project,c=this.state,g=c.sameCollisionMasksForAnimations,b=c.sameCollisionMasksForSprites,f=c.animationIndex,v=c.directionIndex,y=c.spriteIndex,C=c.spriteWidth,x=c.spriteHeight,j=E.asSpriteObject(t);if(!t.getAnimationsCount())return null;const S=Object(p.k)(j,f,v,y),T=S.hasValidSprite,O=S.sprite;return s.a.createElement("div",null,s.a.createElement(h.a,{resourceName:T?O.getImageName():"",resourcesLoader:n,project:o,onSize:this._setCurrentSpriteSize,renderOverlay:({imageWidth:e,imageHeight:t,imageZoomFactor:n})=>T&&s.a.createElement(d.a,{imageWidth:e,imageHeight:t,imageZoomFactor:n,isDefaultBoundingBox:O.isCollisionMaskAutomatic(),polygons:O.getCustomCollisionMask(),onPolygonsUpdated:this._updateCollisionMasks})}),s.a.createElement(l.b,null,s.a.createElement(l.a,{expand:!0},s.a.createElement(m.a,{spriteObject:j,animationIndex:f,directionIndex:v,spriteIndex:y,chooseAnimation:this.chooseAnimation,chooseDirection:this.chooseDirection,chooseSprite:this.chooseSprite,sameForAllAnimations:g,sameForAllSprites:b,setSameForAllAnimations:this._setSameCollisionMasksForAllAnimations,setSameForAllSprites:this._setSameCollisionMasksForAllSprites,setSameForAllAnimationsLabel:s.a.createElement(a.Trans,{id:"Share same collision masks for all animations"}),setSameForAllSpritesLabel:s.a.createElement(a.Trans,{id:"Share same collision masks for all sprites of this animation"})}))),!!O&&!O.isCollisionMaskAutomatic()&&s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{polygons:O.getCustomCollisionMask(),onPolygonsUpdated:this._updateCollisionMasks,spriteWidth:C,spriteHeight:x}),s.a.createElement(l.b,{justifyContent:"center"},s.a.createElement(i.a,{label:s.a.createElement(a.Trans,{id:"Restore the default collision mask"}),primary:!1,onClick:()=>this._onSetCollisionMaskAutomatic(!0)}))),!!O&&O.isCollisionMaskAutomatic()&&s.a.createElement(s.a.Fragment,null,s.a.createElement(r.a,null,s.a.createElement(a.Trans,{id:"This sprite uses the default collision mask, a rectangle that is as large as the sprite."})),s.a.createElement(l.b,{justifyContent:"center"},s.a.createElement(i.a,{label:s.a.createElement(a.Trans,{id:"Use a custom collision mask"}),primary:!1,onClick:()=>this._onSetCollisionMaskAutomatic(!1)}))),!O&&s.a.createElement(r.a,null,s.a.createElement(a.Trans,{id:"Choose an animation and frame to edit the collision masks"})))}}}).call(this,n(1))},1925:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a=n(2),o=n.n(a),s=n(157),i=n.n(s),r=n(163),l=n(189),c=n(90),u=n(312),d=n(1926),h=n(1927),p=n(1928),m=n(1929);const g=e.gd,b=Object(l.SortableElement)(m.a),f=Object(l.SortableElement)(p.a),E=Object(l.SortableElement)(d.a),v=Object(l.SortableElement)(h.a);class y extends a.Component{constructor(...e){super(...e),this.updateVerticeX=(e,t)=>{e.set_x(Math.min(this.props.spriteWidth,Math.max(t,0))),this._onPolygonUpdated()},this.updateVerticeY=(e,t)=>{e.set_y(Math.min(this.props.spriteHeight,Math.max(t,0))),this._onPolygonUpdated()}}_onPolygonUpdated(){this.forceUpdate(),this.props.onPolygonsUpdated()}render(){const e=this.props.polygons,t=i()(Object(c.mapVector)(e,(t,n)=>{const a=t.getVertices(),s=t.isConvex();return[o.a.createElement(v,{index:n,disabled:!0,key:"polygon-"+n,polygon:t,onRemove:()=>{g.removeFromVectorPolygon2d(e,n),this._onPolygonUpdated()},isConvex:s,verticesCount:a.size()}),Object(c.mapVector)(a,(e,i)=>o.a.createElement(E,{index:n,disabled:!0,key:"polygon-".concat(n,"-vertice-").concat(i),verticeX:e.get_x(),verticeY:e.get_y(),onChangeVerticeX:t=>this.updateVerticeX(e,t),onChangeVerticeY:t=>this.updateVerticeY(e,t),onRemove:()=>{g.removeFromVectorVector2f(t.getVertices(),i),this._onPolygonUpdated()},canRemove:a.size()>3,hasWarning:!s})),o.a.createElement(f,{index:0,key:"polygon-".concat(n,"-add-vertice-row"),disabled:!0,onAdd:()=>{const e=new g.Vector2f;t.getVertices().push_back(e),e.delete(),this._onPolygonUpdated()}})]})),n=o.a.createElement(b,{index:0,key:"add-polygon-row",disabled:!0,onAdd:()=>{const t=g.Polygon2d.createRectangle(32,32);t.move(this.props.spriteWidth/2,this.props.spriteHeight/2),e.push_back(t),this._onPolygonUpdated()}});return o.a.createElement(r.b,null,[...t,n])}}const C=Object(l.SortableContainer)(y);C.muiName="TableBody";class x extends a.Component{render(){return o.a.createElement(r.a,null,o.a.createElement(r.c,null,o.a.createElement(r.e,null,o.a.createElement(r.d,{style:u.a.handleColumn}),o.a.createElement(r.d,null,"Polygon"),o.a.createElement(r.d,{style:u.a.coordinateColumn},"X"),o.a.createElement(r.d,{style:u.a.coordinateColumn},"Y"),o.a.createElement(r.f,{style:u.a.toolColumn}))),o.a.createElement(C,{polygons:this.props.polygons,onPolygonsUpdated:this.props.onPolygonsUpdated,spriteWidth:this.props.spriteWidth,spriteHeight:this.props.spriteHeight,onSortEnd:({oldIndex:e,newIndex:t})=>{},helperClass:"sortable-helper",useDragHandle:!0,lockToContainerEdges:!0}))}}}).call(this,n(1))},1926:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(163),i=n(104),r=n(190),l=n.n(r),c=n(94),u=n(329),d=n.n(u),h=n(312),p=n(101);t.a=({hasWarning:e,canRemove:t,onRemove:n,verticeX:a,verticeY:r,onChangeVerticeX:u,onChangeVerticeY:m})=>o.a.createElement(p.a,null,p=>o.a.createElement(s.e,{style:{backgroundColor:p.list.itemsBackgroundColor}},o.a.createElement(s.f,{style:h.a.handleColumn}),o.a.createElement(s.f,null,e&&o.a.createElement(d.a,null)),o.a.createElement(s.f,{style:h.a.coordinateColumn},o.a.createElement(c.b,{margin:"none",value:a,type:"number",id:"vertice-x",onChange:(e,t)=>u(parseFloat(t||0,10))})),o.a.createElement(s.f,{style:h.a.coordinateColumn},o.a.createElement(c.b,{margin:"none",value:r,type:"number",id:"vertice-y",onChange:(e,t)=>m(parseFloat(t||0,10))})),o.a.createElement(s.f,{style:h.a.toolColumn},!!n&&o.a.createElement(i.a,{size:"small",onClick:n,disabled:!t},o.a.createElement(l.a,null)))))},1927:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(163),i=n(104),r=n(190),l=n.n(r),c=n(312),u=n(101);t.a=({onRemove:e,isConvex:t,verticesCount:n})=>o.a.createElement(u.a,null,a=>o.a.createElement(s.e,{style:{backgroundColor:a.list.itemsBackgroundColor}},o.a.createElement(s.f,{style:c.a.handleColumn}),t&&o.a.createElement(s.f,null,3===n&&"Triangle",4===n&&"Quadrilateral",n>=5&&"Polygon with ".concat(n," vertices")),!t&&o.a.createElement(s.f,null,"Polygon is not convex!"),o.a.createElement(s.f,{style:c.a.coordinateColumn}),o.a.createElement(s.f,{style:c.a.coordinateColumn}),o.a.createElement(s.f,{style:c.a.toolColumn},!!e&&o.a.createElement(i.a,{size:"small",onClick:e},o.a.createElement(l.a,null)))))},1928:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(163),i=n(443),r=n.n(i),l=n(104),c=n(312);t.a=({onAdd:e})=>o.a.createElement(s.e,null,o.a.createElement(s.f,{style:c.a.handleColumn}),o.a.createElement(s.f,null),o.a.createElement(s.f,{style:c.a.coordinateColumn}),o.a.createElement(s.f,{style:c.a.coordinateColumn}),o.a.createElement(s.f,{style:c.a.toolColumn},o.a.createElement(l.a,{size:"small",onClick:e},o.a.createElement(r.a,null))))},1929:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(163),i=n(141),r=n.n(i),l=n(104),c=n(312);t.a=({onAdd:e})=>o.a.createElement(s.e,null,o.a.createElement(s.f,{style:c.a.handleColumn}),o.a.createElement(s.f,null),o.a.createElement(s.f,{style:c.a.coordinateColumn}),o.a.createElement(s.f,{style:c.a.coordinateColumn}),o.a.createElement(s.f,{style:c.a.toolColumn},o.a.createElement(l.a,{size:"small",onClick:e},o.a.createElement(r.a,null))))},193:function(e,t,n){"use strict";function a(e,t,n,a,o,s){this._pixiObject=null,this._instance=n,this._associatedObject=a,this._pixiContainer=o,this._project=e,this._layout=t,this._pixiResourcesLoader=s,this.wasUsed=!0}a.toRad=function(e){return e/180*3.14159},a.prototype.update=function(){},a.prototype.getPixiObject=function(){return this._pixiObject},a.prototype.getInstance=function(){return this._instance},a.prototype.instanceRemovedFromScene=function(){null!==this._pixiObject&&-1!==this._pixiContainer.children.indexOf(this._pixiObject)&&this._pixiContainer.removeChild(this._pixiObject)},a.prototype.getOriginX=function(){return 0},a.prototype.getOriginY=function(){return 0},a.prototype.getDefaultWidth=function(){return 32},a.prototype.getDefaultHeight=function(){return 32},t.a=a},1930:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),o=n(90);const s={container:{position:"relative"},svg:{width:"100%",height:"100%"},vertexCircle:{cursor:"move"}};class i extends a.Component{constructor(...e){super(...e),this.state={draggedVertex:null},this._onStartDragVertex=e=>{this.state.draggedVertex||this.setState({draggedVertex:e})},this._onEndDragVertex=()=>{const e=!!this.state.draggedVertex;this.setState({draggedVertex:null},()=>{e&&this.props.onPolygonsUpdated()})},this._onPointerMove=e=>{const t=this.state.draggedVertex;if(!t)return;const n=this._svg.createSVGPoint();n.x=e.clientX,n.y=e.clientY;const a=this._svg.getScreenCTM().inverse(),o=n.matrixTransform(a);t.set_x(o.x/this.props.imageZoomFactor),t.set_y(o.y/this.props.imageZoomFactor),this.forceUpdate()}}_renderBoundingBox(){const e=this.props,t=e.imageWidth,n=e.imageHeight,o=e.imageZoomFactor;return a.createElement("polygon",{fill:"rgba(255,0,0,0.2)",stroke:"rgba(255,0,0,0.5)",strokeWidth:1,fileRule:"evenodd",points:"0,0 ".concat(t*o,",0 ").concat(t*o,",").concat(n*o," 0,").concat(n*o)})}_renderPolygons(){const e=this.props,t=e.polygons,n=e.imageZoomFactor;return a.createElement(a.Fragment,null,Object(o.mapVector)(t,(e,t)=>{const s=e.getVertices();return a.createElement("polygon",{key:"polygon-".concat(t),fill:"rgba(255,0,0,0.2)",stroke:"rgba(255,0,0,0.5)",strokeWidth:1,fileRule:"evenodd",points:Object(o.mapVector)(s,(e,t)=>"".concat(e.get_x()*n,",").concat(e.get_y()*n)).join(" ")})}),Object(o.mapVector)(t,(e,t)=>{const i=e.getVertices();return Object(o.mapVector)(i,(e,o)=>a.createElement("circle",{onPointerDown:t=>this._onStartDragVertex(e),key:"polygon-".concat(t,"-vertex-").concat(o),fill:"rgba(255,0,0,0.75)",strokeWidth:1,cx:e.get_x()*n,cy:e.get_y()*n,r:5,style:s.vertexCircle}))}))}render(){const e=this.props.isDefaultBoundingBox;return a.createElement("svg",{onPointerMove:this._onPointerMove,onPointerUp:this._onEndDragVertex,width:this.props.imageWidth*this.props.imageZoomFactor,height:this.props.imageHeight*this.props.imageZoomFactor,style:s.svg,ref:e=>this._svg=e},e&&this._renderBoundingBox(),!e&&this._renderPolygons())}}},1931:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(72),o=n(2),s=n(75),i=n(92);class r extends o.Component{render(){return o.createElement(s.a,null,o.createElement(s.b,null,o.createElement(i.a,null,o.createElement(a.Trans,{id:"This object does not have any specific configuration. Add it on the scene and use events to interact with it."}))))}}},1932:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a=n(72),o=n(2),s=n(145),i=n(335),r=n(110),l=n(105);const c=e.gd;class u extends o.Component{render(){const e=this.props.object,t=c.asShapePainterObject(e);return o.createElement(l.a,null,o.createElement(s.a,{label:o.createElement(a.Trans,{id:"Draw the shapes relative to the object position on the scene"}),checked:!t.areCoordinatesAbsolute(),onCheck:(e,n)=>{n?t.setCoordinatesRelative():t.setCoordinatesAbsolute(),this.forceUpdate()}}),o.createElement(l.b,{noMargin:!0},o.createElement(i.a,{floatingLabelText:o.createElement(a.Trans,{id:"Outline color"}),disableAlpha:!0,fullWidth:!0,color:{r:t.getOutlineColorR(),g:t.getOutlineColorG(),b:t.getOutlineColorB(),a:255},onChangeComplete:e=>{t.setOutlineColor(e.rgb.r,e.rgb.g,e.rgb.b),this.forceUpdate()}}),o.createElement(r.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Outline opacity (0-255)"}),fullWidth:!0,type:"number",value:t.getOutlineOpacity(),onChange:e=>{t.setOutlineOpacity(parseInt(e,10)||0),this.forceUpdate()}}),o.createElement(r.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Outline size (in pixels)"}),fullWidth:!0,type:"number",value:t.getOutlineSize(),onChange:e=>{t.setOutlineSize(parseInt(e,10)||0),this.forceUpdate()}})),o.createElement(l.b,{noMargin:!0},o.createElement(i.a,{floatingLabelText:o.createElement(a.Trans,{id:"Fill color"}),disableAlpha:!0,fullWidth:!0,color:{r:t.getFillColorR(),g:t.getFillColorG(),b:t.getFillColorB(),a:255},onChangeComplete:e=>{t.setFillColor(e.rgb.r,e.rgb.g,e.rgb.b),this.forceUpdate()}}),o.createElement(r.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Fill opacity (0-255)"}),fullWidth:!0,type:"number",value:t.getFillOpacity(),onChange:e=>{t.setFillOpacity(parseInt(e,10)||0),this.forceUpdate()}})))}}}).call(this,n(1))},1933:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a=n(72),o=n(2),s=n(145),i=n(116),r=n(117),l=n(335),c=n(110),u=n(403),d=n(105);const h=e.gd;class p extends o.Component{render(){const e=this.props,t=e.object,n=e.project,p=e.resourceSources,m=e.onChooseResource,g=e.resourceExternalEditors,b=h.asParticleEmitterObject(t);return o.createElement(d.a,null,o.createElement(i.a,{fullWidth:!0,floatingLabelText:o.createElement(a.Trans,{id:"Particles kind"}),value:b.getRendererType(),onChange:(e,t,n)=>{const a=parseInt(n,10)||0;b.setRendererType(a),a!==h.ParticleEmitterObject.Quad&&b.setParticleTexture(""),this.forceUpdate()}},o.createElement(r.a,{value:h.ParticleEmitterObject.Point,primaryText:{id:"Point"}}),o.createElement(r.a,{value:h.ParticleEmitterObject.Line,primaryText:{id:"Line"}}),o.createElement(r.a,{value:h.ParticleEmitterObject.Quad,primaryText:{id:"Textured"}})),b.getRendererType()===h.ParticleEmitterObject.Point&&o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Size"}),fullWidth:!0,type:"number",value:b.getRendererParam1(),onChange:e=>{b.setRendererParam1(parseFloat(e)),this.forceUpdate()}}),b.getRendererType()===h.ParticleEmitterObject.Line&&o.createElement(d.b,{noMargin:!0},o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Lines length"}),fullWidth:!0,type:"number",value:b.getRendererParam1(),onChange:e=>{b.setRendererParam1(parseFloat(e)),this.forceUpdate()}}),o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Lines thickness"}),fullWidth:!0,type:"number",value:b.getRendererParam2(),onChange:e=>{b.setRendererParam2(parseFloat(e)),this.forceUpdate()}})),b.getRendererType()===h.ParticleEmitterObject.Quad&&o.createElement(u.a,{project:n,resourceSources:p,onChooseResource:m,resourceKind:"image",resourceName:b.getParticleTexture(),resourceExternalEditors:g,onChange:e=>{b.setParticleTexture(e),this.forceUpdate()},floatingLabelText:o.createElement(a.Trans,{id:"Select an image"})}),b.getRendererType()===h.ParticleEmitterObject.Quad&&o.createElement(d.b,{noMargin:!0},o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Particles start width"}),fullWidth:!0,type:"number",value:b.getRendererParam1(),onChange:e=>{b.setRendererParam1(Math.max(0,parseFloat(e))),this.forceUpdate()}}),o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Particles start height"}),fullWidth:!0,type:"number",value:b.getRendererParam2(),onChange:e=>{b.setRendererParam2(Math.max(0,parseFloat(e))),this.forceUpdate()}})),o.createElement(d.b,{noMargin:!0},o.createElement(l.a,{floatingLabelText:o.createElement(a.Trans,{id:"Particles start color"}),disableAlpha:!0,fullWidth:!0,color:{r:b.getParticleRed1(),g:b.getParticleGreen1(),b:b.getParticleBlue1(),a:255},onChangeComplete:e=>{b.setParticleRed1(e.rgb.r),b.setParticleGreen1(e.rgb.g),b.setParticleBlue1(e.rgb.b),this.forceUpdate()}}),o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Start opacity (0-255)"}),fullWidth:!0,type:"number",value:b.getParticleAlpha1(),onChange:e=>{b.setParticleAlpha1(parseInt(e,10)||0),this.forceUpdate()}})),o.createElement(d.b,{noMargin:!0},o.createElement(l.a,{floatingLabelText:o.createElement(a.Trans,{id:"Particles end color"}),disableAlpha:!0,fullWidth:!0,color:{r:b.getParticleRed2(),g:b.getParticleGreen2(),b:b.getParticleBlue2(),a:255},onChangeComplete:e=>{b.setParticleRed2(e.rgb.r),b.setParticleGreen2(e.rgb.g),b.setParticleBlue2(e.rgb.b),this.forceUpdate()}}),o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"End opacity (0-255)"}),fullWidth:!0,type:"number",value:b.getParticleAlpha2(),onChange:e=>{b.setParticleAlpha2(parseInt(e,10)||0),this.forceUpdate()}})),o.createElement(s.a,{label:o.createElement(a.Trans,{id:"Additive rendering"}),checked:b.isRenderingAdditive(),onCheck:(e,t)=>{t?b.setRenderingAdditive():b.setRenderingAlpha(),this.forceUpdate()}}),o.createElement(s.a,{label:o.createElement(a.Trans,{id:"Delete when out of particles"}),checked:b.getDestroyWhenNoParticles(),onCheck:(e,t)=>{b.setDestroyWhenNoParticles(t),this.forceUpdate()}}),o.createElement(d.b,{noMargin:!0},o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Maximum number of particles displayed"}),fullWidth:!0,type:"number",value:b.getMaxParticleNb(),onChange:e=>{b.setMaxParticleNb(parseInt(e,10)||0),this.forceUpdate()}})),o.createElement(d.b,{noMargin:!0},o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Number of particles in tank (-1 for infinite)"}),fullWidth:!0,type:"number",value:b.getTank(),onChange:e=>{b.setTank(parseInt(e,10)||0),this.forceUpdate()}}),o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Flow of particles (particles/seconds)"}),fullWidth:!0,type:"number",value:b.getFlow(),onChange:e=>{b.setFlow(parseInt(e,10)||0),this.forceUpdate()}})),o.createElement(d.b,{noMargin:!0},o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Minimum emitter force applied on particles"}),fullWidth:!0,type:"number",value:b.getEmitterForceMin(),onChange:e=>{b.setEmitterForceMin(parseInt(e,10)||0),this.forceUpdate()}}),o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Maximum emitter force applied on particles"}),fullWidth:!0,type:"number",value:b.getEmitterForceMax(),onChange:e=>{b.setEmitterForceMax(parseInt(e,10)||0),this.forceUpdate()}})),o.createElement(d.b,{noMargin:!0},o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Spray cone angle (in degrees)"}),fullWidth:!0,type:"number",value:b.getConeSprayAngle(),onChange:e=>{b.setConeSprayAngle(parseInt(e,10)||0),this.forceUpdate()}}),o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Radius of the emitter"}),fullWidth:!0,type:"number",value:b.getZoneRadius(),onChange:e=>{b.setZoneRadius(parseInt(e,10)||0),this.forceUpdate()}})),o.createElement(d.b,{noMargin:!0},o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Gravity on particles on X axis"}),fullWidth:!0,type:"number",value:b.getParticleGravityX(),onChange:e=>{b.setParticleGravityX(parseFloat(e)),this.forceUpdate()}}),o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Gravity on particles on Y axis"}),fullWidth:!0,type:"number",value:b.getParticleGravityY(),onChange:e=>{b.setParticleGravityY(parseFloat(e)),this.forceUpdate()}})),o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Friction on particles"}),fullWidth:!0,type:"number",value:b.getFriction(),onChange:e=>{b.setFriction(parseFloat(e)),this.forceUpdate()}}),o.createElement(d.b,{noMargin:!0},o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Particle minimum lifetime (in seconds)"}),fullWidth:!0,type:"number",value:b.getParticleLifeTimeMin(),onChange:e=>{b.setParticleLifeTimeMin(parseFloat(e)),this.forceUpdate()}}),o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Particle maximum lifetime (in seconds)"}),fullWidth:!0,type:"number",value:b.getParticleLifeTimeMax(),onChange:e=>{b.setParticleLifeTimeMax(parseFloat(e)),this.forceUpdate()}})),o.createElement(d.b,{noMargin:!0},o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Particle start size (in percents)"}),fullWidth:!0,type:"number",value:b.getParticleSize1(),onChange:e=>{b.setParticleSize1(parseFloat(e)),this.forceUpdate()}}),o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Particle end size (in percents)"}),fullWidth:!0,type:"number",value:b.getParticleSize2(),onChange:e=>{b.setParticleSize2(parseFloat(e)),this.forceUpdate()}})),o.createElement(d.b,{noMargin:!0},o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Particle minimum rotation speed (degrees/second)"}),fullWidth:!0,type:"number",value:b.getParticleAngle1(),onChange:e=>{b.setParticleAngle1(parseFloat(e)),this.forceUpdate()}}),o.createElement(c.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Particle maximum rotation speed (degrees/second)"}),fullWidth:!0,type:"number",value:b.getParticleAngle2(),onChange:e=>{b.setParticleAngle2(parseFloat(e)),this.forceUpdate()}})))}}}).call(this,n(1))},1934:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(72),o=n(2),s=n(241),i=n(291),r=n(92),l=n(75),c=n(377),u=n(132);class d extends o.Component{render(){const e=this.props,t=e.object,n=e.project,d=e.resourceSources,h=e.onChooseResource,p=e.resourceExternalEditors,m=t.getProperties(n),g=Object(i.a)(m,e=>e.getProperties(n),(e,t,a)=>e.updateProperty(t,a,n)),b=Object(c.d)()[t.getType()];return o.createElement(a.I18n,null,({i18n:e})=>o.createElement(l.a,null,g.length?o.createElement(o.Fragment,null,b?o.createElement(l.b,null,o.createElement(l.a,{noMargin:!0},b.map(({kind:t,message:n},a)=>o.createElement(u.a,{kind:t,key:a},e._(n))))):null,o.createElement(s.a,{unsavedChanges:this.props.unsavedChanges,schema:g,instances:[t],project:n,resourceSources:d,onChooseResource:h,resourceExternalEditors:p})):o.createElement(r.a,null,o.createElement(a.Trans,{id:"There is nothing to configure for this object. You can still use events to interact with the object."}))))}}},1935:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var a=n(72),o=n(2),s=n.n(o),i=n(94),r=n(141),l=n.n(r),c=n(190),u=n.n(c),d=n(104),h=n(92),p=n(166),m=n(605),g=n(133),b=n(1936),f=n(1938),E=n(2295),v=n(686),y=n(5),C=n(75),x=n(84);const j=e.gd,S=({onAdd:e})=>s.a.createElement(C.a,null,s.a.createElement(C.b,{justifyContent:"flex-end",expand:!0},s.a.createElement(x.a,{label:s.a.createElement(a.Trans,{id:"Add a behavior to the object"}),primary:!0,onClick:e,icon:s.a.createElement(l.a,null)})));class T extends o.Component{constructor(e){super(e),this.chooseNewBehavior=()=>{this.setState({newBehaviorDialogOpen:!0})},this._hasBehaviorWithType=e=>{const t=this.props.object;return t.getAllBehaviorNames().toJSArray().map(e=>t.getBehavior(e)).map(e=>e.getTypeName()).filter(t=>t===e).length},this.addBehavior=(e,t)=>{const n=this.props,a=n.object,o=n.project;this.setState({newBehaviorDialogOpen:!1},()=>{if(this._hasBehaviorWithType(e)){if(!y.b.showConfirmDialog("There is already a behavior of this type attached to the object. It's possible to add again this behavior but it's unusual and may not be always supported properly. Are you sure you want to add again this behavior?"))return}const n=Object(g.a)(t,e=>a.hasBehaviorNamed(e));a.addNewBehavior(o,e,n),this.forceUpdate(),this.props.onSizeUpdated&&this.props.onSizeUpdated()})},this._onChangeBehaviorName=(e,t)=>{const n=this.props.object;n.hasBehaviorNamed(t)||(n.renameBehavior(e.getName(),t),this.forceUpdate())},this._onRemoveBehavior=e=>{const t=this.props.object;y.b.showConfirmDialog("Are you sure you want to remove this behavior? This can't be undone.")&&(t.removeBehavior(e),this.forceUpdate(),this.props.onSizeUpdated&&this.props.onSizeUpdated())},this.state={newBehaviorDialogOpen:!1}}componentWillMount(){this._loadFrom(this.props.object)}componentWillReceiveProps(e){this.props.object!==e.object&&this._loadFrom(e.object)}_loadFrom(e){}render(){const e=this.props,t=e.object,n=e.project,o=t.getAllBehaviorNames().toJSArray();return s.a.createElement("div",null,o.map((e,o)=>{const r=t.getBehavior(e),l=j.JsPlatform.get().getBehavior(r.getTypeName());if(Object(v.a)(j,l))return s.a.createElement("div",{key:o},s.a.createElement(p.b,null,s.a.createElement(p.a,null,s.a.createElement(a.Trans,{id:"Unknown behavior"})," "),s.a.createElement(C.a,{noMargin:!0,expand:!0},s.a.createElement(i.b,{value:e,disabled:!0})),s.a.createElement(d.a,{onClick:()=>this._onRemoveBehavior(e)},s.a.createElement(u.a,null))),s.a.createElement(h.a,null,s.a.createElement(a.Trans,{id:"This behavior is unknown. It might be a behavior that was defined in an extension and that was later removed. You should delete it."})));const c=E.a.getEditor(r.getTypeName());return s.a.createElement("div",{key:o},s.a.createElement(p.b,null,s.a.createElement(p.a,null,s.a.createElement(a.Trans,{id:"Behavior"})," "),s.a.createElement(C.a,{noMargin:!0,expand:!0},s.a.createElement(i.b,{value:e,hintText:{id:"Behavior name"},margin:"none",fullWidth:!0,disabled:!0,onChange:(e,t)=>this._onChangeBehaviorName(r,t)})),s.a.createElement(d.a,{onClick:()=>this._onRemoveBehavior(e)},s.a.createElement(u.a,null)),s.a.createElement(m.a,{helpPagePath:Object(f.a)(l)})),s.a.createElement(C.b,null,s.a.createElement(c,{behavior:l,behaviorContent:r,project:n,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors})))}).concat(s.a.createElement(S,{key:"add-behavior-line",onAdd:this.chooseNewBehavior})),this.state.newBehaviorDialogOpen&&s.a.createElement(b.a,{open:this.state.newBehaviorDialogOpen,objectType:t.getType(),onClose:()=>this.setState({newBehaviorDialogOpen:!1}),onChoose:this.addBehavior,project:n}))}}}).call(this,n(1))},1936:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a=n(78),o=n(72),s=n(2),i=n.n(s),r=n(86),l=n(111),c=n(82),u=n(179),d=n(134),h=n(174),p=n(100),m=n(251),g=n.n(m),b=n(252),f=n.n(b),E=n(1937),v=n.n(E),y=n(75),C=n(20),x=n(377),j=n(206),S=n(805),T=n(150),O=n(92),w=n(911),N=n(5);const _={disabledItem:{opacity:.6}},k=({behaviorMetadata:e,onClick:t,disabled:n})=>i.a.createElement(p.b,{leftIcon:i.a.createElement(d.a,{src:e.iconFilename,iconSize:40,isGDevelopIcon:!0}),key:e.type,primaryText:e.fullName,secondaryText:e.description,secondaryTextLines:2,onClick:t,style:n?_.disabledItem:void 0,disabled:n});class P extends s.Component{constructor(...e){super(...e),this.state=Object(a.a)({},this._loadFrom(this.props.project),{showDeprecated:!1,searchText:"",currentTab:"installed"}),this._searchBar=i.a.createRef(),this._showDeprecated=(e=!0)=>{this.setState({showDeprecated:e})},this._onNewExtensionInstalled=()=>{this.setState(this._loadFrom(this.props.project),()=>{this._changeTab("installed")})},this._changeTab=e=>this.setState({currentTab:e})}componentDidMount(){setTimeout(()=>{this._searchBar.current&&this._searchBar.current.focus()},20)}_loadFrom(e){const t=e.getCurrentPlatform();return{behaviorMetadata:e&&t?Object(S.a)(t,e):[]}}componentWillReceiveProps(e){(!this.props.open&&e.open||e.open&&this.props.project!==e.project)&&this.setState(this._loadFrom(e.project))}render(){const e=this.props,t=e.project,n=e.open,a=e.onClose,s=e.objectType,d=this.state,m=d.showDeprecated,b=d.behaviorMetadata,E=d.searchText,_=d.currentTab;if(!n||!t)return null;const P=Object(x.a)(),I=Object(S.b)(b,E),F=I.filter(({type:e})=>!P[e]),B=I.filter(({type:e})=>!!P[e]),M=(e,{type:t,defaultName:n})=>(P[t]&&Object(C.b)(e._(P[t].warning)),this.props.onChoose(t,n)),R=e=>""===e.objectType||e.objectType===s,D=!!E&&!F.length&&!B.length;return i.a.createElement(o.I18n,null,({i18n:e})=>i.a.createElement(r.a,{title:i.a.createElement(o.Trans,{id:"Add a new behavior to the object"}),actions:[i.a.createElement(c.a,{key:"close",label:i.a.createElement(o.Trans,{id:"Close"}),primary:!1,onClick:a})],secondaryActions:i.a.createElement(l.a,{helpPagePath:"/behaviors"}),open:n,cannotBeDismissed:!1,noMargin:!0},i.a.createElement(h.b,{value:_,onChange:this._changeTab},i.a.createElement(h.a,{label:i.a.createElement(o.Trans,{id:"Installed Behaviors"}),value:"installed"}),i.a.createElement(h.a,{label:i.a.createElement(o.Trans,{id:"Search New Behaviors"}),value:"search"})),"installed"===_&&i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,{value:E,onRequestSearch:()=>{F.length?M(e,F[0]):m&&B.length&&M(e,B[0])},onChange:e=>this.setState({searchText:e}),ref:this._searchBar}),D&&i.a.createElement(O.a,null,i.a.createElement(o.Trans,{id:"No behavior found for your search. Try another search, or search for new behaviors to install."})),i.a.createElement(p.a,null,F.map((t,n)=>i.a.createElement(k,{key:n,behaviorMetadata:t,onClick:()=>M(e,t),disabled:!R(t)})),m&&!!B.length&&i.a.createElement(u.a,null,"Deprecated (old, prefer not to use anymore)"),m&&B.map((t,n)=>i.a.createElement(k,{key:n,behaviorMetadata:t,onClick:()=>M(e,t),disabled:!R(t)}))),i.a.createElement(y.b,{justifyContent:"center",alignItems:"center"},m?i.a.createElement(c.a,{key:"toggle-experimental",icon:i.a.createElement(f.a,null),primary:!1,onClick:()=>this._showDeprecated(!1),label:i.a.createElement(o.Trans,{id:"Show deprecated (old) behaviors"})}):i.a.createElement(c.a,{key:"toggle-experimental",icon:i.a.createElement(g.a,null),primary:!1,onClick:()=>this._showDeprecated(!0),label:i.a.createElement(o.Trans,{id:"Show deprecated (old) behaviors"})})),i.a.createElement(y.b,{justifyContent:"center",alignItems:"center"},i.a.createElement(c.a,{icon:i.a.createElement(v.a,null),primary:!1,onClick:()=>N.b.openExternalURL(Object(j.a)("/behaviors/events-based-behaviors")),label:i.a.createElement(o.Trans,{id:"Create your own behavior"})}))),"search"===_&&i.a.createElement(w.b,{project:t,onNewExtensionInstalled:this._onNewExtensionInstalled,showOnlyWithBehaviors:!0})))}}},1938:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{if(!e)return null;switch(e.getTypeName()){case"DraggableBehavior::Draggable":return"/behaviors/draggable";case"PlatformBehavior::PlatformerObjectBehavior":case"PlatformBehavior::PlatformBehavior":return"/behaviors/platformer";default:return""}}},1939:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(78),o=n(72),s=n(2),i=n.n(s),r=n(82),l=n(94),c=n(86);class u extends s.Component{constructor(e){super(e),this._onApply=()=>{this.props.onApply({gridWidth:this.state.gridWidth,gridHeight:this.state.gridHeight,gridOffsetX:this.state.gridOffsetX,gridOffsetY:this.state.gridOffsetY})},this.state=Object(a.a)({},e.gridOptions)}render(){const e=[i.a.createElement(r.a,{key:"cancel",label:i.a.createElement(o.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onCancel}),i.a.createElement(r.a,{key:"apply",label:i.a.createElement(o.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:this._onApply})];return i.a.createElement(c.a,{actions:e,cannotBeDismissed:!0,open:this.props.open,onRequestClose:this.props.onCancel},i.a.createElement(l.b,{floatingLabelText:i.a.createElement(o.Trans,{id:"Cell width (in pixels)"}),type:"number",value:this.state.gridWidth,onChange:(e,t)=>this.setState({gridWidth:parseInt(t,10)})}),i.a.createElement(l.b,{floatingLabelText:i.a.createElement(o.Trans,{id:"Cell height (in pixels)"}),type:"number",value:this.state.gridHeight,onChange:(e,t)=>this.setState({gridHeight:parseInt(t,10)})}),i.a.createElement(l.b,{floatingLabelText:i.a.createElement(o.Trans,{id:"X offset (in pixels)"}),type:"number",value:this.state.gridOffsetX,onChange:(e,t)=>this.setState({gridOffsetX:parseInt(t,10)})}),i.a.createElement(l.b,{floatingLabelText:i.a.createElement(o.Trans,{id:"Y offset (in pixels)"}),type:"number",value:this.state.gridOffsetY,onChange:(e,t)=>this.setState({gridOffsetY:parseInt(t,10)})}))}}},1940:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(264),i=n(272),r=n(232),l=n(138),c=(n(394),n(304));class u extends a.PureComponent{render(){return o.a.createElement(s.b,{lastChild:!0},o.a.createElement(c.a,{showPreviewButton:this.props.showPreviewButton,onPreview:this.props.onPreview,previewButtonSettings:this.props.previewButtonSettings,onNetworkPreview:this.props.onNetworkPreview,onOpenDebugger:this.props.onOpenDebugger,showNetworkPreviewButton:this.props.showNetworkPreviewButton}),this.props.showPreviewButton&&o.a.createElement(i.a,null),o.a.createElement(r.a,{onClick:this.props.openObjectsList,src:"res/ribbon_default/objects64.png",tooltip:{id:"Open the objects editor"}}),o.a.createElement(r.a,{onClick:this.props.openObjectGroupsList,src:"res/ribbon_default/objectsgroups64.png",tooltip:{id:"Open the objects groups editor"}}),o.a.createElement(r.a,{onClick:this.props.openProperties,src:"res/ribbon_default/editprop32.png",tooltip:{id:"Open the properties panel"}}),o.a.createElement(r.a,{onClick:this.props.toggleInstancesList,src:"res/ribbon_default/ObjectsPositionsList32.png",tooltip:{id:"Open the list of instances"}}),o.a.createElement(r.a,{onClick:this.props.toggleLayersList,src:"res/ribbon_default/layers32.png",tooltip:{id:"Open the layers editor"}}),o.a.createElement(i.a,null),o.a.createElement(r.a,{onClick:this.props.undo,src:"res/ribbon_default/undo32.png",disabled:!this.props.canUndo,tooltip:{id:"Undo the last changes"}}),o.a.createElement(r.a,{onClick:this.props.redo,src:"res/ribbon_default/redo32.png",disabled:!this.props.canRedo,tooltip:{id:"Redo the last changes"}}),o.a.createElement(i.a,null),o.a.createElement(r.a,{onClick:this.props.deleteSelection,src:"res/ribbon_default/deleteselected32.png",disabled:!this.props.instancesSelection.getSelectedInstances().length,tooltip:{id:"Delete the selected instances from the scene"}}),o.a.createElement(i.a,null),o.a.createElement(l.a,{element:o.a.createElement(r.a,{src:"res/ribbon_default/grid32.png",tooltip:{id:"Toggle/edit grid"}}),buildMenuTemplate:()=>[{type:"checkbox",label:"Show Mask",checked:this.props.isWindowMaskShown(),click:()=>this.props.toggleWindowMask()},{type:"checkbox",label:"Show grid",checked:this.props.isGridShown(),click:()=>this.props.toggleGrid()},{type:"separator"},{label:"Setup grid",click:()=>this.props.openSetupGrid()}]}),o.a.createElement(l.a,{element:o.a.createElement(r.a,{src:"res/ribbon_default/zoom32.png",tooltip:{id:"Change editor zoom"}}),buildMenuTemplate:()=>[{label:"Zoom in",click:this.props.zoomIn,accelerator:"CmdOrCtrl+numadd"},{label:"Zoom out",click:this.props.zoomOut,accelerator:"CmdOrCtrl+numsub"},{label:"Center View",click:()=>this.props.centerView()},{type:"separator"},{label:"5%",click:()=>this.props.setZoomFactor(.05)},{label:"10%",click:()=>this.props.setZoomFactor(.1)},{label:"25%",click:()=>this.props.setZoomFactor(.25)},{label:"50%",click:()=>this.props.setZoomFactor(.5)},{label:"100%",click:()=>this.props.setZoomFactor(1)},{label:"150%",click:()=>this.props.setZoomFactor(1.5)},{label:"200%",click:()=>this.props.setZoomFactor(2)},{label:"400%",click:()=>this.props.setZoomFactor(4)}]}))}}t.a=u},1941:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(127),o=n(2),s=n.n(o),i=n(2483),r=(n(539),n(1942)),l=n.n(r),c=n(905),u=n(379),d=n(868);const h={container:{overflow:"hidden"},xScrollbar:{position:"absolute",top:-13,left:0,right:0},yScrollbar:{position:"absolute",top:0,bottom:0,left:-13,transform:"rotate(180deg)"}},p=()=>{};class m extends o.Component{constructor(...e){super(...e),this._editor=null,this.state={xValue:0,yValue:0,xMin:-5e3,xMax:5e3,yMin:-5e3,yMax:5e3},this._handleXChange=(e,t)=>{const n=this.state,a=n.xMin,o=a+(n.xMax-a)*t/100;this.setState({xValue:o},()=>{this._editor&&this._editor.scrollTo(this.state.xValue,this.state.yValue)})},this._handleYChange=(e,t)=>{const n=this.state,a=n.yMin,o=a+(n.yMax-a)*(100-t)/100;this.setState({yValue:o},()=>{this._editor&&this._editor.scrollTo(this.state.xValue,this.state.yValue)})},this._setAndAdjust=({xValue:e,yValue:t})=>{const n=Math.max(Math.abs(e)+100,this.state.xMax),a=Math.max(Math.abs(t)+100,this.state.yMax);this.setState({xMax:n,yMax:a,xMin:-n,yMin:-a,xValue:e,yValue:t})},this._handleViewPositionChange=l()(e=>{e&&this._setAndAdjust({xValue:e.getViewX(),yValue:e.getViewY()})},500,{leading:!1,trailing:!0})}componentDidMount(){this._editor&&this._handleViewPositionChange(this._editor.getViewPosition())}render(){const e=this.props,t=e.wrappedEditorRef,n=Object(a.a)(e,["wrappedEditorRef"]);return s.a.createElement(u.a,null,e=>s.a.createElement(d.a,null,({width:a,height:o})=>s.a.createElement("div",{style:h.container},s.a.createElement(c.a,Object.assign({onViewPositionChanged:"touch"!==e?this._handleViewPositionChange:p,ref:e=>{t&&t(e),this._editor=e},width:a,height:o,screenType:e},n)),"touch"!==e&&s.a.createElement(i.a,{value:(this.state.xValue-this.state.xMin)/(this.state.xMax-this.state.xMin)*100,onChange:this._handleXChange,style:h.xScrollbar,orientation:"horizontal"}),"touch"!==e&&s.a.createElement(i.a,{value:(this.state.yValue-this.state.yMin)/(this.state.yMax-this.state.yMin)*100,onChange:this._handleYChange,style:h.yScrollbar,orientation:"vertical"}))))}}},1943:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),o=n.n(a),s=n(104),i=n(607),r=n.n(i),l=n(138);const c={container:{padding:0,width:32,height:32},icon:{width:16,height:16}};class u extends a.Component{render(){return o.a.createElement(l.a,{element:o.a.createElement(s.a,{style:c.container},o.a.createElement(r.a,{htmlColor:"white",style:c.icon})),buildMenuTemplate:this.props.buildMenuTemplate})}}},1944:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var a=n(2),o=n(198),s=n(402),i=n(124),r=n(150),l=n(20),c=n(1945),u=n(3),d=n.n(u),h=n(5),p=n(213);const m=d()("path"),g=d()("glob"),b=d()("electron"),f=!!b,E=e.gd,v={listContainer:{flex:1}},y=e=>e.getName();class C extends a.Component{constructor(...e){super(...e),this.state={renamedResource:null,searchText:"",resourcesWithErrors:{}},this._deleteResource=e=>{this.props.onDeleteResource(e)},this._locateResourceFile=e=>{const t=m.dirname(Object(p.e)(this.props.project,e.getName()));b.shell.openItem(t)},this._openResourceFile=e=>{const t=Object(p.e)(this.props.project,e.getName());b.shell.openItem(t)},this._copyResourceFilePath=e=>{const t=Object(p.e)(this.props.project,e.getName());b.clipboard.writeText(t)},this._scanForNewResources=(e,t)=>{const n=this.props.project,a=n.getResourcesManager(),o=m.dirname(n.getProjectFile());g(o+"/**/*.{"+e+"}",(e,s)=>{e?console.error("Error loading ",e):s.forEach(e=>{const s=m.relative(o,e);a.hasResource(s)||(Object(p.d)(n,t(),s),console.info("".concat(s," added to project.")))}),this.forceUpdate()})},this._removeUnusedResources=e=>{const t=this.props.project;E.ProjectResourcesAdder.getAllUseless(t,e).toJSArray().forEach(t=>{console.info("Removing unused"+e+" resource: ".concat(t))}),E.ProjectResourcesAdder.removeAllUseless(t,e),this.forceUpdate()},this._removeAllResourcesWithInvalidPath=()=>{const e=this.props.project,t=e.getResourcesManager();t.getAllResourceNames().toJSArray().forEach(n=>{"error"===Object(p.f)(e,n)&&(t.removeResource(n),console.info("Removed due to invalid path: "+n))}),this.forceUpdate()},this._editName=e=>{this.setState({renamedResource:e},()=>{this.sortableList&&this.sortableList.forceUpdateGrid()})},this._rename=(e,t)=>{const n=this.props.project;this.setState({renamedResource:null}),e.getName()!==t&&(n.getResourcesManager().hasResource(t)?Object(l.c)("Another resource with this name already exists"):h.b.showConfirmDialog("Are you sure you want to rename this resource? \nGame objects using the old name will no longer be able to find it!")&&this.props.onRenameResource(e,t,n=>{n&&(e.setName(t),this.forceUpdate())}))},this._moveSelectionTo=e=>{const t=this.props,n=t.project,a=t.selectedResource;if(!a)return;const o=n.getResourcesManager();o.moveResource(o.getResourcePosition(a.getName()),o.getResourcePosition(e.getName())),this.forceUpdateList()},this.forceUpdateList=()=>{this.forceUpdate(),this.sortableList&&this.sortableList.forceUpdateGrid()},this._renderResourceMenuTemplate=(e,t)=>[{label:"Rename",click:()=>this._editName(e)},{label:"Remove",click:()=>this._deleteResource(e)},{type:"separator"},{label:"Open File",click:()=>this._openResourceFile(e),enabled:f},{label:"Locate File",click:()=>this._locateResourceFile(e),enabled:f},{label:"Copy File Path",click:()=>this._copyResourceFilePath(e),enabled:f},{type:"separator"},{label:"Scan for Images",click:()=>{this._scanForNewResources(p.a.image,()=>new E.ImageResource)},enabled:f},{label:"Scan for Audio",click:()=>{this._scanForNewResources(p.a.audio,()=>new E.AudioResource)},enabled:f},{label:"Scan for Fonts",click:()=>{this._scanForNewResources(p.a.font,()=>new E.FontResource)},enabled:f},{label:"Scan for Videos",click:()=>{this._scanForNewResources(p.a.video,()=>new E.VideoResource)},enabled:f},{type:"separator"},{label:"Remove Unused Images",click:()=>{this._removeUnusedResources("image")}},{label:"Remove Unused Audio",click:()=>{this._removeUnusedResources("audio")}},{label:"Remove Unused Fonts",click:()=>{this._removeUnusedResources("font")}},{label:"Remove Resources with Invalid Path",click:()=>{this._removeAllResourcesWithInvalidPath()},enabled:f}],this.checkMissingPaths=()=>{const e=this.props.project,t=e.getResourcesManager().getAllResourceNames().toJSArray(),n={};t.forEach(t=>{n[t]=Object(p.f)(e,t)}),this.setState({resourcesWithErrors:n}),this.forceUpdateList()}}shouldComponentUpdate(e,t){return this.state.renamedResource!==t.renamedResource||this.state.searchText!==t.searchText||(this.props.project!==e.project||this.props.selectedResource!==e.selectedResource)}componentDidMount(){this.checkMissingPaths()}render(){const e=this.props,t=e.project,n=e.selectedResource,l=e.onSelectResource,u=this.state.searchText,d=t.getResourcesManager(),h=d.getAllResourceNames().toJSArray().map(e=>d.getResource(e)),p=Object(c.a)(h,u),m=t.ptr;return a.createElement(i.a,null,a.createElement("div",{style:v.listContainer},a.createElement(o.a,null,({height:e,width:t})=>a.createElement(s.a,{key:m,ref:e=>this.sortableList=e,fullList:p,width:t,height:e,getItemName:y,selectedItems:n?[n]:[],onItemSelected:l,renamedItem:this.state.renamedResource,onRename:this._rename,onMoveSelectionToItem:this._moveSelectionTo,buildMenuTemplate:this._renderResourceMenuTemplate,erroredItems:this.state.resourcesWithErrors,reactDndType:"GD_RESOURCE"}))),a.createElement(r.a,{value:u,onRequestSearch:()=>{},onChange:e=>this.setState({searchText:e})}))}}}).call(this,n(1))},1945:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{if(!t)return e;const n=t.toLowerCase();return e.filter(e=>-1!==e.getName().toLowerCase().indexOf(n))}},195:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),o=n(114),s=n(242);class i extends a.Component{constructor(...e){super(...e),this.saveUiSettings=()=>{}}getProject(){return this.props.project}getLayout(){return null}shouldComponentUpdate(e){return!!e.isActive}updateToolbar(){console.warn("No toolbar defined for this editor"),this.props.setToolbar&&this.props.setToolbar(null)}getSerializedElements(){throw new Error("The editor has not implemented getSerializedElements to return what should be serialized")}static getLayoutSerializedElements(e){return e?{windowTitle:e.getWindowDefaultTitle(),layers:Object(o.b)(e,"serializeLayersTo"),backgroundColor:""+Object(s.c)(e.getBackgroundColorRed(),e.getBackgroundColorGreen(),e.getBackgroundColorBlue())}:{}}}i.defaultProps={setToolbar:()=>{}}},1970:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(1971),i=n.n(s),r=n(1973),l=n.n(r),c=n(219),u=n(2381),d=n(84),h=n(8),p=n(5),m=n(83),g=n(75),b=n(9),f=n(24);const E=(e,t)=>{console.error("Error catched by Boundary:",e,t),Object(h.c)("Error catched by error boundary","error-boundary",{error:e,componentStack:t})},v=({componentStack:e,error:t})=>o.createElement(c.a,null,o.createElement(g.b,null,o.createElement(l.a,{fontSize:"large"}),o.createElement(g.c,null),o.createElement(m.a,{size:"title"},"This editor encountered a problem.")),o.createElement(u.a,null),o.createElement(m.a,null,"Something wrong happened :(",o.createElement("br",null),"Please ",o.createElement("b",null,"backup your game file")," and save your game to ensure that you don't lose anything."),o.createElement(m.a,null,"The error was automatically reported.",o.createElement("br",null),"To make sure it's fixed, you may report it on GitHub, the platform where GDevelop is developed:"),o.createElement(d.a,{label:o.createElement(a.Trans,{id:"Report the issue on GitHub"}),onClick:()=>{const n="\n=> Please write here a short description of when the error occured and how to reproduce it.\nYou also may have to create an account on GitHub before posting.\n\nWhen you're ready, click on \"Submit new issue\". Don't change the rest of the message. Thanks!\n\n## Error stack (don't write anything here)\n```\n".concat(t?t.stack:"No error found","\n```\n\n## Component stack (don't write anything here)\n```\n").concat(e||"No component stack found","\n```\n\n## Other details\n* IDE version: ").concat(Object(b.c)(),"\n* Arch: ").concat(Object(f.a)(),",\n* Platform Name: ").concat(Object(f.b)(),",\n* System Version: ").concat(Object(f.c)(),",\n* User Agent: ").concat(Object(f.d)(),",\n        ");p.b.openExternalURL("https://github.com/4ian/GDevelop/issues/new?body=".concat(encodeURIComponent(n),"&title=Crash%20while%20using%20an%20editor"))}}));t.a=e=>o.createElement(i.a,{FallbackComponent:v,onError:E},e.children)},1976:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(2),o=n.n(a),s=n(116),i=n(82),r=n(117),l=n(86),c=n(75),u=n(5),d=n(120),h=n(132),p=n(1977),m=n.n(p),g=n(72),b=n(2381);const f=e=>"en"!==e.languageCode&&("pseudo_LOCALE"!==e.languageCode||u.b.isDev()),E=e=>{const t=e.translationRatio||0,n=(100*e.translationRatio).toFixed(0),a=t>0;return o.a.createElement(r.a,{value:e.languageCode,primaryText:e.languageNativeName+" ("+e.languageName+")"+(a?" - ~".concat(n,"%"):""),disabled:!a,key:e.languageCode})};class v extends a.Component{constructor(...e){super(...e),this.state={languageDidChange:!1}}render(){const e=this.props,t=e.open,n=e.onClose;if(!t)return null;const a=m.a.filter(f),p=a.filter(e=>e.translationRatio>.5),v=a.filter(e=>e.translationRatio<.5);return o.a.createElement(g.I18n,null,({i18n:e})=>o.a.createElement(d.b.Consumer,null,({values:a,setLanguage:d})=>{const m=e.language!==a.language;return o.a.createElement(l.a,{actions:[o.a.createElement(i.a,{label:m?o.a.createElement(g.Trans,{id:"Loading..."}):o.a.createElement(g.Trans,{id:"Close"}),primary:!1,onClick:()=>{n(this.state.languageDidChange)},disabled:m,key:"close"})],secondaryActions:[o.a.createElement(i.a,{label:o.a.createElement(g.Trans,{id:"Report a wrong translation"}),key:"report-wrong-translation",primary:!1,onClick:()=>u.b.openExternalURL("https://github.com/4ian/GDevelop/issues/969")})],onRequestClose:()=>n(this.state.languageDidChange),cannotBeDismissed:!1,open:t,title:o.a.createElement(g.Trans,{id:"Language"})},o.a.createElement(c.a,{noMargin:!0},o.a.createElement(c.b,null,o.a.createElement(h.a,{kind:"info"},o.a.createElement(g.Trans,{id:"Support for translations is still new and in beta. GDevelop needs your help to be translated in your language!"}))),o.a.createElement(c.b,{expand:!0},o.a.createElement(s.a,{floatingLabelText:o.a.createElement(g.Trans,{id:"Choose GDevelop language"}),value:a.language,onChange:(e,t,n)=>{d(n),this.setState({languageDidChange:!0})},fullWidth:!0},o.a.createElement(r.a,{value:"en",primaryText:"English (default)"}),p.map(e=>E(e)),o.a.createElement(b.a,null),v.map(e=>E(e)))),o.a.createElement(c.b,{expand:!0},o.a.createElement(i.a,{primary:!0,label:o.a.createElement(g.Trans,{id:"Help to translate GD in your language"}),onClick:()=>u.b.openExternalURL("https://crowdin.com/project/gdevelop"),fullWidth:!0}))))}))}}},1977:function(e,t){e.exports=[{languageCode:"af_ZA",languageName:"Afrikaans",languageNativeName:"Afrikaans",translationRatio:.008382969335980595},{languageCode:"ar_SA",languageName:"Arabic",languageNativeName:"\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629",translationRatio:.157290977277741},{languageCode:"az_AZ",languageName:"Azerbaijani",languageNativeName:"az\u0259rbaycan dili",translationRatio:.022060445621001512},{languageCode:"bg_BG",languageName:"Bulgarian",languageNativeName:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",translationRatio:.06838738142510481},{languageCode:"bn_BD",languageName:"Bengali",languageNativeName:"\u09ac\u09be\u0982\u09b2\u09be",translationRatio:.03684094418707262},{languageCode:"ca_ES",languageName:"Catalan",languageNativeName:"catal\xe0",translationRatio:.09927200529450697},{languageCode:"cs_CZ",languageName:"Czech",languageNativeName:"\u010de\u0161tina",translationRatio:.14184866534303997},{languageCode:"da_DK",languageName:"Danish",languageNativeName:"dansk",translationRatio:.03154643723803219},{languageCode:"de_DE",languageName:"German",languageNativeName:"Deutsch",translationRatio:.8488859474961394},{languageCode:"el_GR",languageName:"Greek",languageNativeName:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",translationRatio:.2230311052283256},{languageCode:"en",languageName:"English",languageNativeName:"English",translationRatio:.03756345177664977},{languageCode:"eo_UY",languageName:"Esperanto",languageNativeName:"Esperanto",translationRatio:.00992720052945073},{languageCode:"es_ES",languageName:"Spanish",languageNativeName:"Espa\xf1ol",translationRatio:.9613942201632473},{languageCode:"fa_IR",languageName:"Persian",languageNativeName:"\u0641\u0627\u0631\u0633\u06cc",translationRatio:.2422236929185969},{languageCode:"fi_FI",languageName:"Finnish",languageNativeName:"suomi",translationRatio:.33730421354511364},{languageCode:"fil_PH",languageName:"Filipino",languageNativeName:"Mga Filipino",translationRatio:.6337966026913744},{languageCode:"fr_FR",languageName:"French",languageNativeName:"Fran\xe7ais",translationRatio:.9812486212221487},{languageCode:"ha_HG",languageName:"Hausa",languageNativeName:"\u0647\u064e\u0648\u064f\u0633\u064e",translationRatio:.017427752040591216},{languageCode:"he_IL",languageName:"Hebrew",languageNativeName:"\u05e2\u05d1\u05e8\u05d9\u05ea",translationRatio:.016545334215751106},{languageCode:"hi_IN",languageName:"Hindi",languageNativeName:"\u0939\u093f\u0928\u094d\u0926\u0940",translationRatio:.042356055592322917},{languageCode:"hu_HU",languageName:"Hungarian",languageNativeName:"magyar",translationRatio:.14184866534303997},{languageCode:"id_ID",languageName:"Indonesian",languageNativeName:"Bahasa Indonesia",translationRatio:.4687844694462828},{languageCode:"it_IT",languageName:"Italian",languageNativeName:"Italiano",translationRatio:.9827928524156188},{languageCode:"ja_JP",languageName:"Japanese",languageNativeName:"\u65e5\u672c\u8a9e",translationRatio:.6834326053386278},{languageCode:"ko_KR",languageName:"Korean",languageNativeName:"\ud55c\uad6d\uc5b4",translationRatio:.2274431943525259},{languageCode:"lt_LT",languageName:"Lithuanian",languageNativeName:"lietuvi\u0173 kalba",translationRatio:.03948819766159273},{languageCode:"lv_LV",languageName:"Latvian",languageNativeName:"latvie\u0161u valoda",translationRatio:.008162364879770623},{languageCode:"mr_IN",languageName:"Marathi",languageNativeName:"\u092e\u0930\u093e\u0920\u0940",translationRatio:.00882417824840065},{languageCode:"ms_MY",languageName:"Malay",languageNativeName:"Bahasa Malaysia",translationRatio:.0536068828590337},{languageCode:"my_MM",languageName:"Burmese",languageNativeName:"\u1017\u1019\u102c\u1005\u102c",translationRatio:.009265387160820704},{languageCode:"nl_NL",languageName:"Dutch",languageNativeName:"Nederlands",translationRatio:.4087800573571586},{languageCode:"no_NO",languageName:"Norwegian",languageNativeName:"Norsk",translationRatio:.20692697992499454},{languageCode:"pl_PL",languageName:"Polish",languageNativeName:"j\u0119zyk polski",translationRatio:.6386499007279947},{languageCode:"pseudo_LOCALE",languageName:"for development only",languageNativeName:"Pseudolocalization",translationRatio:.9959390862944163},{languageCode:"pt_BR",languageName:"Brazilian Portuguese",languageNativeName:"Portugu\xeas brasileiro",translationRatio:.37701301566291634},{languageCode:"pt_PT",languageName:"Portuguese",languageNativeName:"Portugu\xeas",translationRatio:.6525479814692257},{languageCode:"ro_RO",languageName:"Romanian",languageNativeName:"Rom\xe2n\u0103",translationRatio:.0675049636002647},{languageCode:"ru_RU",languageName:"Russian",languageNativeName:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",translationRatio:.9874255459960292},{languageCode:"sk_SK",languageName:"Slovak",languageNativeName:"sloven\u010dina",translationRatio:.01786896095301127},{languageCode:"sl_SI",languageName:"Slovene",languageNativeName:"slovenski jezik",translationRatio:.9724244429737481},{languageCode:"sr_CS",languageName:"Serbian (Latin)",languageNativeName:"srpski",translationRatio:.35583498786675494},{languageCode:"sr_SP",languageName:"Serbian",languageNativeName:"\u0441\u0440\u043f\u0441\u043a\u0438 \u0458\u0435\u0437\u0438\u043a",translationRatio:.7447606441650121},{languageCode:"sv_SE",languageName:"Swedish",languageNativeName:"svenska",translationRatio:.16479152878888148},{languageCode:"th_TH",languageName:"Thai",languageNativeName:"\u0e44\u0e17\u0e22",translationRatio:.0527244650341937},{languageCode:"tr_TR",languageName:"Turkish",languageNativeName:"T\xfcrk\xe7e",translationRatio:.599602911978822},{languageCode:"uk_UA",languageName:"Ukrainian",languageNativeName:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",translationRatio:.9777189499227884},{languageCode:"ur_PK",languageName:"Urdu",languageNativeName:"\u0627\u0631\u062f\u0648",translationRatio:.019413192146481406},{languageCode:"uz_UZ",languageName:"Uzbek",languageNativeName:"\u040e\u0437\u0431\u0435\u043a",translationRatio:.008162364879770623},{languageCode:"yo_NG",languageName:"Yoruba",languageNativeName:"Yor\xf9b\xe1",translationRatio:.7030664019413192},{languageCode:"zh_CN",languageName:"Chinese Simplified",languageNativeName:"\u7b80\u5316\u5b57",translationRatio:.6990955217295389},{languageCode:"zh_TW",languageName:"Chinese Traditional",languageNativeName:"\u6b63\u9ad4\u5b57",translationRatio:.214648135892345}]},1978:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(86),i=n(82),r=n(100),l=n(84),c=n(3),u=n.n(c),d=n(175),h=n(75);const p=u()("electron");t.a=({onClose:e,storageProviders:t,onChooseProvider:n,onCreateNewProject:c})=>o.createElement(a.I18n,null,({i18n:u})=>o.createElement(s.a,{title:o.createElement(a.Trans,{id:"Choose where to load the project from"}),onRequestClose:e,actions:[o.createElement(i.a,{label:o.createElement(a.Trans,{id:"Cancel"}),key:"close",primary:!1,onClick:e})],secondaryActions:[o.createElement(l.a,{label:o.createElement(a.Trans,{id:"Create a new project"}),key:"create-new-project",primary:!0,onClick:c})],cannotBeDismissed:!1,open:!0,noMargin:!0,maxWidth:"sm"},o.createElement(r.a,null,t.filter(e=>!e.hiddenInOpenDialog).map(e=>o.createElement(r.b,{key:e.internalName,disabled:!!e.disabled,primaryText:u._(e.name),leftIcon:e.renderIcon?e.renderIcon():void 0,onClick:()=>n(e)}))),!p&&o.createElement(h.b,null,o.createElement(h.a,null,o.createElement(d.a,null,o.createElement(a.Trans,{id:"If you have a popup blocker interrupting the opening, allow the popups and try a second time to open the project."}))))))},1979:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(86),i=n(82),r=n(100);t.a=({onClose:e,storageProviders:t,onChooseProvider:n})=>o.createElement(a.I18n,null,({i18n:l})=>o.createElement(s.a,{title:o.createElement(a.Trans,{id:"Choose where to save the project to"}),onRequestClose:e,actions:[o.createElement(i.a,{label:o.createElement(a.Trans,{id:"Cancel"}),key:"close",primary:!1,onClick:e})],cannotBeDismissed:!0,open:!0,noMargin:!0,maxWidth:"sm"},o.createElement(r.a,null,t.filter(e=>!e.hiddenInSaveDialog).map(e=>o.createElement(r.b,{key:e.internalName,disabled:!!e.disabled,primaryText:l._(e.name),leftIcon:e.renderIcon?e.renderIcon():void 0,onClick:()=>n(e)})))))},1980:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(86),i=n(82),r=n(84),l=n(175),c=n(75),u=n(83);t.a=({onClose:e,onConfirm:t})=>o.createElement(s.a,{title:o.createElement(a.Trans,{id:"Confirm the opening"}),actions:[o.createElement(i.a,{label:o.createElement(a.Trans,{id:"Cancel"}),key:"close",primary:!1,onClick:e}),o.createElement(r.a,{label:o.createElement(a.Trans,{id:"Open the project"}),key:"open-project",primary:!0,onClick:t})],cannotBeDismissed:!1,open:!0,maxWidth:"sm"},o.createElement(c.b,null,o.createElement(c.a,null,o.createElement(u.a,null,o.createElement(a.Trans,{id:'You\'re about to open a project. Click on "Open the Project" to continue.'})))),o.createElement(c.b,null,o.createElement(c.a,null,o.createElement(l.a,null,o.createElement(a.Trans,{id:"If you have a popup blocker interrupting the opening, allow the popups and try a second time to open the project."})))))},1981:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(20);function o(e,t){return!t.gdVersion&&t.eventsFunctions?(Object(a.a)([e._({id:"Unable to open this file."}),e._({id:"This file is an extension file for GDevelop 5. You should instead import it, using the window to add a new extension to your project."})].join("\n")),!1):!(!t.gdVersion&&!t.eventsFunctions)||(Object(a.a)([e._({id:"Unable to open this file."}),e._({id:"This file is not recognized as a GDevelop 5 project. Be sure to open a file that was saved using GDevelop."})].join("\n")),!1)}},1985:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n(2),o=n.n(a),s=n(90),i=(n(94),n(622));const r=e.gd;class l extends a.Component{constructor(e){super(e),this._chips=[];const t=r.JsPlatform.get().getAllPlatformExtensions();this._chips=Object(s.mapVector)(t,e=>e.isBuiltin()||-1!==e.getFullName().indexOf("(deprecated)")?null:{text:e.getFullName(),value:e.getName()}).filter(Boolean)}render(){const e=this.props,t=e.chosenExtensionName,n=e.onExtensionNameChosen,a=e.value,s=e.onChange;return o.a.createElement(i.a,{value:a,onChange:s,chips:this._chips,chosenChip:t,onChooseChip:n,onRequestSearch:()=>{}})}}}).call(this,n(1))},2022:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a=n(78),o=n(2),s=n(72),i=n(572),r=n(878);const l=e.gd;class c extends o.Component{constructor(...e){super(...e),this.state={language:"en",catalogs:{},i18n:null},this._loadCatalog=e=>this.state.catalogs[e]?Promise.resolve(this.state.catalogs):n(2023)("./".concat(e,"/messages")).then(t=>Object(a.a)({},this.state.catalogs,{[e]:t}),t=>(console.error("Error while loading language="+e,t),this.state.catalogs))}componentDidMount(){this._loadLanguage(this.props.language)}componentDidUpdate(e){e.language!==this.props.language&&this._loadLanguage(this.props.language)}_loadLanguage(e){this._loadCatalog(e).then(t=>{this.setState({language:e,catalogs:t,i18n:Object(i.setupI18n)({language:e,catalogs:t})},()=>{const t=this.state.i18n;l.getTranslation=Object(r.b)(t),console.info('Loaded "'.concat(e,'" language'))})})}render(){const e=this.state,t=e.i18n,n=e.catalogs,a=e.language,i=this.props.children;return t?o.createElement(s.I18nProvider,{i18n:t,language:a,catalogs:n},i):null}}}).call(this,n(1))},2023:function(e,t,n){var a={"./af_ZA/messages":[2240,5],"./ar_SA/messages":[2241,6],"./az_AZ/messages":[2242,7],"./bg_BG/messages":[2243,8],"./bn_BD/messages":[2244,9],"./ca_ES/messages":[2245,10],"./cs_CZ/messages":[2246,11],"./da_DK/messages":[2247,12],"./de_DE/messages":[2248,13],"./el_GR/messages":[2249,14],"./en/messages":[2250,15],"./eo_UY/messages":[2251,16],"./es_ES/messages":[2252,17],"./fa_IR/messages":[2253,18],"./fi_FI/messages":[2254,19],"./fil_PH/messages":[2255,20],"./fr_FR/messages":[2256,21],"./ha_HG/messages":[2257,22],"./he_IL/messages":[2258,23],"./hi_IN/messages":[2259,24],"./hu_HU/messages":[2260,25],"./id_ID/messages":[2261,26],"./it_IT/messages":[2262,27],"./ja_JP/messages":[2263,28],"./ko_KR/messages":[2264,29],"./lt_LT/messages":[2265,30],"./lv_LV/messages":[2266,31],"./mr_IN/messages":[2267,32],"./ms_MY/messages":[2268,33],"./my_MM/messages":[2269,34],"./nl_NL/messages":[2270,35],"./no_NO/messages":[2271,36],"./pl_PL/messages":[2272,37],"./pseudo_LOCALE/messages":[2273,38],"./pt_BR/messages":[2274,39],"./pt_PT/messages":[2275,40],"./ro_RO/messages":[2276,41],"./ru_RU/messages":[2277,42],"./sk_SK/messages":[2278,43],"./sl_SI/messages":[2279,44],"./sr_CS/messages":[2280,45],"./sr_SP/messages":[2281,46],"./sv_SE/messages":[2282,47],"./th_TH/messages":[2283,48],"./tr_TR/messages":[2284,49],"./uk_UA/messages":[2285,50],"./ur_PK/messages":[2286,51],"./uz_UZ/messages":[2287,52],"./yo_NG/messages":[2288,53],"./zh_CN/messages":[2289,54],"./zh_TW/messages":[2290,55]};function o(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],o=t[0];return n.e(t[1]).then((function(){return n.t(o,7)}))}o.keys=function(){return Object.keys(a)},o.id=2023,e.exports=o},205:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(2),o=n(997),s=n.n(o),i=n(265),r=n(131),l=n.n(r);const c=e=>{const t=a.useContext(i.a),n=a.useMemo(()=>{return t=e.isStandaloneText||!1,{root:e=>t?a.createElement("div",e):a.createElement("span",e),link:e=>a.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.children),paragraph:e=>t?a.createElement("p",null,e.children):e.children};var t},[e.isStandaloneText]);return a.createElement(s.a,{escapeHtml:!0,source:e.source,className:l()({[t.markdownRootClassName]:!0,"standalone-text-container":e.isStandaloneText}),renderers:n})}},206:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>"http://wiki.compilgames.net/doku.php/gdevelop5".concat(e,"?utm_source=gdevelop&utm_medium=help-link")},207:function(e,t,n){"use strict";(function(e){var a=n(72),o=n(2),s=n.n(o),i=n(82),r=n(86),l=n(440),c=n(608);const u=e.gd;class d extends o.Component{render(){const e=this.props,t=e.onCancel,n=e.onApply,o=e.open,l=e.onEditObjectVariables,u=e.title,d=e.emptyExplanationMessage,h=e.emptyExplanationSecondMessage,p=e.variablesContainer,m=[s.a.createElement(i.a,{label:s.a.createElement(a.Trans,{id:"Cancel"}),onClick:this.props.onCancel,key:"Cancel"}),s.a.createElement(i.a,{label:s.a.createElement(a.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:n,key:"Apply"})],g=l?s.a.createElement(i.a,{label:s.a.createElement(a.Trans,{id:"Edit Object Variables"}),primary:!1,onClick:l}):null;return s.a.createElement(r.a,{noMargin:!0,actions:m,open:o,cannotBeDismissed:!0,onRequestClose:t,secondaryActions:g,title:u},s.a.createElement(c.a,{variablesContainer:p,emptyExplanationMessage:d,emptyExplanationSecondMessage:h,onSizeUpdated:()=>this.forceUpdate()}))}}t.a=Object(l.a)(d,{newObjectCreator:()=>new u.VariablesContainer,propName:"variablesContainer"})}).call(this,n(1))},208:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(3);const o=n.n(a)()("electron"),s=o?o.clipboard:null;let i="";const r=e=>"GDEVELOP_"+e+"_CLIPBOARD_KIND-jsBdHbLy912y8Rc";class l{static set(e,t){const n=JSON.stringify({"000kind":r(e),content:t});s?s.writeText(n):i=n}static has(e){let t="";return t=s?s.readText():i,12===t.indexOf(r(e))}static get(e){if(!l.has(e))return null;let t="";t=s?s.readText():i;try{return JSON.parse(t).content}catch(n){return console.warn("The clipboard content is not valid JSON"),null}}}},209:function(e,t,n){"use strict";var a=n(2),o=n(120),s=n(132),i=n(5);t.a=({identifier:e,kind:t,children:n})=>a.createElement(o.b.Consumer,null,({values:o,showAlertMessage:r})=>!o.hiddenAlertMessages[e]&&a.createElement(s.a,{kind:t,children:n,onHide:()=>{i.b.showConfirmDialog("Are you sure you want to hide this hint? You won't see it again, unless you re-activate it from the preferences.")&&r(e,!1)}}))},213:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"b",(function(){return g}));var a=n(112),o=n(3),s=n.n(o);const i=s()("fs"),r=s()("path"),l=e.gd,c={image:"png,jpg,jpeg,PNG,JPG,JPEG",audio:"wav,mp3,ogg,WAV,MP3,OGG",font:"ttf,ttc,otf,TTF,TTC,OTF",video:"mp4,MP4"},u=(e,t,n)=>{const a=e.getResourcesManager();a.hasResource(n)&&a.removeResource(n),t.setFile(n),t.setName(n),g(e,t),a.addResource(t),t.delete()},d=(e,t)=>{let n=a.a.getResourceFullUrl(e,t).substring(7);return-1!==n.indexOf("?cache=")&&(n=n.substring(0,n.lastIndexOf("?cache="))),n},h=(e,t)=>{const n=r.dirname(e.getProjectFile());return t.includes(n)},p=(e,t)=>{if(!i||!r)return Promise.resolve(t);const n=r.dirname(e.getProjectFile());return Promise.all(t.map(t=>{if(h(e,t))return t;const a=r.basename(t),o=r.join(n,a);return new Promise(e=>{i.copyFile(t,o,n=>e(n?t:o))})}))},m=(e,t)=>{if(!i)return"";const n=r.normalize(d(e,t));return i.existsSync(n)?h(e,n)?"":"warning":"error"},g=(e,t)=>{t instanceof l.ImageResource&&t.setSmooth("nearest"!==e.getScaleMode())}}).call(this,n(1))},218:function(e,t,n){"use strict";var a=n(78),o=n(2),s=n(21),i=n.n(s);const r={flex:1};t.a=o.forwardRef(({children:e,autoHideScrollbar:t,style:n},s)=>{const l=o.useRef(null);return o.useImperativeHandle(s,()=>({scrollTo:e=>{const t=i.a.findDOMNode(e);if(t instanceof HTMLElement){const e=t.getBoundingClientRect().top,n=l.current;if(n){const t=n.getBoundingClientRect().top;n.scrollTop+=e-t}}else console.error("Tried to scroll to something that is not a HTMLElement")}})),o.createElement("div",{style:Object(a.a)({},r,{overflowY:t?"auto":"scroll"},n),ref:l},e)})},219:function(e,t,n){"use strict";var a=n(2),o=n(2378);t.a=e=>a.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement(o.a,{elevation:3,style:{padding:10,margin:5}},e.children))},226:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(162),i=n(1380),r=n.n(i),l=n(141),c=n.n(l),u=n(672),d=n.n(u),h=(n(112),n(213)),p=n(127),m=n(84),g=n(138);const b=()=>{throw new Error("This RaisedButtonWithMenu onClick should never be called")};var f=e=>{const t=e.buildMenuTemplate,n=Object(p.a)(e,["buildMenuTemplate"]);return o.createElement(g.a,{element:o.createElement(m.a,Object.assign({},n,{onClick:b})),buildMenuTemplate:t})},E=n(105),v=n(104);n.d(t,"a",(function(){return y}));class y extends o.Component{constructor(e){super(e),this._addFrom=e=>{if(!e)return;const t=this.props,n=t.project;(0,t.onChooseResource)(e.name,!1).then(e=>{if(!e.length)return;const t=e[0];Object(h.b)(n,t),n.getResourcesManager().addResource(t),this._loadFrom(n.getResourcesManager());const a=t.getName();this._onChangeResourceName(a),this._autoComplete&&this._autoComplete.forceInputValueTo(a),e.forEach(e=>e.delete())}).catch(e=>{console.error("Unable to choose a resource",e)})},this._onResetResourceName=()=>{this.setState({resourceName:"",notExistingError:!1},()=>{this.props.onChange&&this.props.onChange(this.state.resourceName)})},this._onChangeResourceName=e=>{""!==e?this.setState({resourceName:e,notExistingError:-1===this.allResourcesNames.indexOf(e)},()=>{this.state.notExistingError||this.props.onChange&&this.props.onChange(e)}):this._onResetResourceName()},this._editWith=e=>{const t=this.props,n=t.project,a=t.resourcesLoader,o=t.resourceKind,s=this.state.resourceName,i=n.getResourcesManager();let r={};const l=i.getResource(s).getMetadata();if(l)try{r=JSON.parse(l)}catch(c){console.error("Malformed metadata",c)}if("image"===o){const t=[];i.hasResource(s)&&t.push(s);const o={project:n,resourcesLoader:a,singleFrame:!0,resourceNames:t,extraOptions:{fps:0,name:s,isLooping:!1,externalEditorData:r},onChangesSaved:e=>{e.length&&(a.burstUrlsCacheForResources(n,[e[0].name]),this.props.onChange(e[0].name))}};e.edit(o)}else if("audio"===o){const t={project:n,resourcesLoader:a,resourceNames:[s],extraOptions:{externalEditorData:r},onChangesSaved:e=>{a.burstUrlsCacheForResources(n,[e[0].name]),this.props.onChange(e[0].name)}};e.edit(t)}else if("json"===o){const t={project:n,resourcesLoader:a,resourceNames:[s],extraOptions:{initialResourceMetadata:r},onChangesSaved:e=>{this.props.onChange(e[0].name)}};e.edit(t)}},this.state={notExistingError:!1,resourceName:e.initialResourceName||""};const t=e.project;t&&this._loadFrom(t.getResourcesManager())}focus(){this._autoComplete&&this._autoComplete.focus()}componentWillReceiveProps(e){e.initialResourceName!==this.props.initialResourceName&&this.setState({resourceName:e.initialResourceName||""})}_getResourceSourceItems(){return[...(this.props.resourceSources||[]).filter(e=>e.kind===this.props.resourceKind).map(e=>({text:"",value:e.displayName,renderIcon:()=>o.createElement(c.a,null),onClick:()=>this._addFrom(e)})),{type:"separator"}]}_loadFrom(e){this.allResourcesNames=e.getAllResourceNames().toJSArray(),this.props.resourceKind&&(this.allResourcesNames=this.allResourcesNames.filter(t=>e.getResource(t).getKind()===this.props.resourceKind));const t=this._getResourceSourceItems(),n=this.allResourcesNames.map(e=>({text:e,value:e}));this.autoCompleteData=[...t,...n]}render(){const e=this.state.notExistingError?"This resource does not exist in the game":null,t=this.props.resourceExternalEditors.filter(e=>e.kind===this.props.resourceKind);return o.createElement(E.c,{noFloatingLabelText:!this.props.floatingLabelText,margin:this.props.margin,renderTextField:()=>o.createElement(s.a,{floatingLabelText:this.props.floatingLabelText,helperMarkdownText:this.props.helperMarkdownText,hintText:this.props.hintText,openOnFocus:!0,dataSource:this.autoCompleteData||[],value:this.state.resourceName,onChange:this._onChangeResourceName,errorText:e,fullWidth:this.props.fullWidth,margin:this.props.margin,ref:e=>this._autoComplete=e}),renderButton:e=>o.createElement(o.Fragment,null,this.props.canBeReset&&o.createElement(v.a,{size:"small",onClick:()=>{this._onResetResourceName()}},o.createElement(r.a,null)),t.length?o.createElement(f,{style:e,icon:o.createElement(d.a,null),label:this.state.resourceName?o.createElement(a.Trans,{id:"Edit"}):o.createElement(a.Trans,{id:"Create"}),primary:!0,buildMenuTemplate:()=>t.map(e=>({label:e.displayName,click:()=>this._editWith(e)}))}):null)})}}},2293:function(e,t,n){"use strict";var a=n(78),o=n(72),s=n(2),i=n.n(s),r=n(189),l=n(133),c=n(90),u=n(442),d=n(352),h=n(251),p=n.n(h),m=n(252),g=n.n(m),b=n(1905),f=n.n(b),E=n(104),v=n(190),y=n.n(v),C=n(94),x=n(330),j=n(138),S=n(276),T=n.n(S),O=n(2407);function w(e){return s.createElement(O.a,e)}var N=n(82),_=n(86),k=n(75),P=n(116),I=n(117),F=n(84),B=n(92),M=n(110),R=n(166),D=n(141),L=n.n(D),A=n(241),U=n(209),V=n(175),W=n(205),G=n(510),z=n(120),H=n(157),Y=n.n(H);const K=(e,t)=>e.find(e=>e.type===t);function X(e){const t=e.effectsContainer,n=e.onEffectsUpdated,a=s.useContext(z.b),i=a.values.showEffectParameterNames,r=a.setShowEffectParameterNames,u=s.useMemo(()=>(e=>{const t=e.getCurrentPlatform().getAllPlatformExtensions();return Y()(Object(c.mapFor)(0,t.size(),e=>{const n=t.at(e);return n.getExtensionEffectTypes().toJSArray().map(e=>n.getEffectMetadata(e)).map(e=>{const t=e.getType(),a=e.getProperties(),o=a.keys().toJSArray().map(e=>{const n=a.get(e),o=n.getType().toLowerCase(),s=n.getLabel(),i=n.getDescription(),r=()=>s,l=()=>i,c=()=>e;if("number"===o)return{name:e,valueType:"number",getValue:t=>t.getDoubleParameter(e),setValue:(t,n)=>t.setDoubleParameter(e,n),getLabel:r,getDescription:l,getExtraDescription:c};if("boolean"===o)return{name:e,valueType:"boolean",getValue:t=>t.getBooleanParameter(e),setValue:(t,n)=>t.setBooleanParameter(e,n),getLabel:r,getDescription:l,getExtraDescription:c};if("resource"===o){const t=n.getExtraInfo().toJSArray()[0]||"";return{name:e,valueType:"resource",resourceKind:t,getValue:t=>t.getStringParameter(e),setValue:(t,n)=>t.setStringParameter(e,n),getLabel:r,getDescription:l,getExtraDescription:c}}return"color"===o?{name:e,valueType:"color",getValue:t=>t.getStringParameter(e),setValue:(t,n)=>t.setStringParameter(e,n),getLabel:r,getDescription:l,getExtraDescription:c}:(console.error("A property with type=".concat(o," could not be mapped to a field for effect ").concat(t,". Ensure that this type is correct.")),null)}).filter(Boolean);return{extension:n,type:t,effectMetadata:e,fullName:e.getFullName(),description:e.getDescription(),parametersSchema:o}})}))})(e.project),[e.project]),d=Object(G.a)(),h=()=>{const e=Object(l.a)("Effect",e=>t.hasEffectNamed(e));t.insertNewEffect(e,t.getEffectsCount()),d(),n()},p=(e,t)=>{e.setEffectType(t);const a=K(u,t);a&&((e,t)=>{e.clearParameters();const n=t.getProperties();n.keys().toJSArray().forEach(t=>{const a=n.get(t),o=a.getType().toLowerCase();"number"===o?e.setDoubleParameter(t,parseFloat(a.getValue())||0):"boolean"===o?e.setBooleanParameter(t,"true"===a.getValue()):e.setStringParameter(t,a.getValue())})})(e,a.effectMetadata),d(),n()};return s.createElement(o.I18n,null,({i18n:a})=>s.createElement(k.a,{noMargin:!0,expand:!0},s.createElement(k.b,null,s.createElement(k.a,null,s.createElement(U.a,{identifier:"effects-usage",kind:"info"},s.createElement(o.Trans,{id:"Effects can change how the layer is rendered on screen. After adding an effect, set up its parameters. Launch a preview to see the result. Using the events and the name of the effect, you can change the parameters during the game."})))),t.getEffectsCount()>3&&s.createElement(k.b,null,s.createElement(k.a,null,s.createElement(U.a,{identifier:"too-much-effects",kind:"warning"},s.createElement(o.Trans,{id:"Using a lot of effects can have a severe negative impact on the rendering performance, especially on low-end or mobile devices. Consider using less effects if possible. You can also disable and re-enable effects as needed using events."})))),Object(c.mapFor)(0,t.getEffectsCount(),l=>{const c=t.getEffectAt(l),h=c.getEffectType(),m=K(u,h);return s.createElement(s.Fragment,{key:l},s.createElement(R.b,null,s.createElement(R.a,null,s.createElement(o.Trans,{id:"Effect name:"})),s.createElement(M.a,{margin:"none",commitOnBlur:!0,hintText:{id:"Enter the effect name"},value:c.getName(),onChange:e=>{e!==c.getName()&&(c.setName(e),d(),n())},fullWidth:!0}),s.createElement(R.a,null,s.createElement(o.Trans,{id:"Type:"})),s.createElement(P.a,{margin:"none",value:h,onChange:(e,t,n)=>p(c,n),fullWidth:!0,hintText:{id:"Choose the effect to apply"}},u.map(e=>s.createElement(I.a,{key:e.type,value:e.type,primaryText:e.fullName}))),s.createElement(j.a,{element:s.createElement(E.a,null,s.createElement(T.a,null)),buildMenuTemplate:()=>[{label:a._({id:"Delete"}),click:()=>{return e=c.getName(),t.removeEffect(e),d(),void n();var e}},{type:"separator"},{type:"checkbox",label:a._({id:"Show Parameter Names"}),checked:i,click:()=>r(!i)}]})),s.createElement(k.b,{expand:!0,noMargin:!0},s.createElement(k.a,{expand:!0},h&&m?s.createElement(s.Fragment,null,s.createElement(k.b,null,s.createElement(V.a,null,s.createElement(W.a,{source:m.description}))),s.createElement(A.a,{instances:[c],schema:m.parametersSchema,project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,renderExtraDescriptionText:i?e=>a._({id:"Parameter name in events: `{parameterName}`",values:{parameterName:e}}):void 0})):null)))}),0===t.getEffectsCount()?s.createElement(B.a,null,s.createElement(o.Trans,{id:"No effects applied."})):null,s.createElement(k.a,null,s.createElement(k.b,{justifyContent:"flex-end",alignItems:"center",expand:!0},s.createElement(F.a,{primary:!0,label:s.createElement(o.Trans,{id:"Add an effect"}),onClick:h,icon:s.createElement(L.a,null)})))))}var q=n(111);class J extends s.Component{render(){const e=this.props,t=e.project,n=e.onApply,a=e.effectsContainer;return s.createElement(_.a,{noMargin:!0,secondaryActions:[s.createElement(q.a,{key:"help",helpPagePath:"/interface/scene-editor/layer-effects"})],actions:[s.createElement(N.a,{label:s.createElement(o.Trans,{id:"Ok"}),primary:!0,keyboardFocused:!0,onClick:n,key:"Apply"})],cannotBeDismissed:!0,open:!0,onRequestClose:n,title:s.createElement(o.Trans,{id:"Effects"})},s.createElement(X,{project:t,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,effectsContainer:a,onEffectsUpdated:()=>this.forceUpdate()}))}}var Z=n(286),Q=({layout:e,onBackgroundColorChanged:t})=>i.a.createElement(o.I18n,null,({i18n:n})=>i.a.createElement(u.b,null,i.a.createElement(u.a,null,i.a.createElement(x.a,{disabled:!0})),i.a.createElement(u.a,{expand:!0},i.a.createElement(C.b,{fullWidth:!0,value:n._({id:"Background color"}),margin:"none",disabled:!0})),i.a.createElement(u.a,null,i.a.createElement(Z.a,{disableAlpha:!0,color:{r:e.getBackgroundColorRed(),g:e.getBackgroundColorGreen(),b:e.getBackgroundColorBlue(),a:255},onChangeComplete:n=>{e.setBackgroundColor(n.rgb.r,n.rgb.g,n.rgb.b),t()}})))),$=n(218),ee=n(868),te=n(124);n.d(t,"a",(function(){return se}));const ne=Object(r.SortableElement)(({layerName:e,nameError:t,onBlur:n,onRemove:a,isVisible:s,effectsCount:r,onEditEffects:l,onChangeVisibility:c,width:h})=>i.a.createElement(o.I18n,null,({i18n:m})=>i.a.createElement(u.b,null,i.a.createElement(u.a,null,i.a.createElement(x.a,null)),i.a.createElement(u.a,{expand:!0},i.a.createElement(C.b,{margin:"none",defaultValue:e||m._({id:"Base layer"}),id:e,errorText:t?i.a.createElement(o.Trans,{id:"This name is already taken"}):void 0,disabled:!e,onBlur:n,fullWidth:!0})),i.a.createElement(u.a,null,h<350?i.a.createElement(j.a,{element:i.a.createElement(E.a,{size:"small"},i.a.createElement(T.a,null)),buildMenuTemplate:()=>[{label:m._({id:"Edit effects ({effectsCount})",values:{effectsCount:r}}),click:l},{type:"checkbox",label:m._({id:"Visible"}),checked:s,click:()=>c(!s)},{type:"separator"},{label:m._({id:"Delete"}),enabled:!!e,click:a}]}):i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{size:"small",onClick:l,tooltip:{id:"Edit effects"}},i.a.createElement(w,{badgeContent:r,color:"primary"},i.a.createElement(f.a,null))),i.a.createElement(d.a,{checked:s,checkedIcon:i.a.createElement(p.a,null),uncheckedIcon:i.a.createElement(g.a,null),onCheck:(e,t)=>c(t)}),i.a.createElement(E.a,{size:"small",onClick:a,disabled:!e,tooltip:{id:"Delete the layer"}},i.a.createElement(y.a,null)))))));class ae extends s.Component{constructor(...e){super(...e),this.state={nameErrors:{}},this._onLayerModified=()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}}render(){const e=this.props,t=e.layersContainer,n=e.onEditEffects,o=e.width,s=t.getLayersCount(),r=Object(c.mapReverseFor)(0,s,e=>{const r=t.getLayerAt(e),l=r.getName();return i.a.createElement(ne,{index:s-1-e,key:"layer-"+l,layer:r,layerName:l,nameError:this.state.nameErrors[l],effectsCount:r.getEffectsCount(),onEditEffects:()=>n(r),onBlur:e=>{const n=e.target.value;if(l===n)return;let o=!0;t.hasLayerNamed(n)?o=!1:this.props.onRenameLayer(l,n,e=>{e&&t.getLayer(l).setName(n)}),this.setState({nameErrors:Object(a.a)({},this.state.nameErrors,{[l]:!o})})},onRemove:()=>{this.props.onRemoveLayer(l,e=>{e&&(t.removeLayer(l),this._onLayerModified())})},isVisible:r.getVisibility(),onChangeVisibility:e=>{r.setVisibility(e),this._onLayerModified()},width:o})});return i.a.createElement(k.a,{noMargin:!0,expand:!0},r,i.a.createElement(Q,{layout:t,onBackgroundColorChanged:()=>this._onLayerModified()}))}}const oe=Object(r.SortableContainer)(ae);class se extends s.Component{constructor(...e){super(...e),this.state={effectsEditedLayer:null},this._editEffects=e=>{this.setState({effectsEditedLayer:e})},this._addLayer=()=>{const e=this.props.layersContainer,t=Object(l.a)("Layer",t=>e.hasLayerNamed(t));e.insertNewLayer(t,e.getLayersCount()),this._onLayerModified()},this._onLayerModified=()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}}render(){const e=this.props.project,t=this.state.effectsEditedLayer,n=this.props.layersContainer.ptr;return i.a.createElement(te.a,null,i.a.createElement($.a,{autoHideScrollbar:!0},i.a.createElement(ee.a,null,({width:e})=>i.a.createElement(oe,{key:n,layersContainer:this.props.layersContainer,onEditEffects:e=>this._editEffects(e),onRemoveLayer:this.props.onRemoveLayer,onRenameLayer:this.props.onRenameLayer,onSortEnd:({oldIndex:e,newIndex:t})=>{const n=this.props.layersContainer.getLayersCount();this.props.layersContainer.moveLayer(n-1-e,n-1-t),this._onLayerModified()},helperClass:"sortable-helper",useDragHandle:!0,unsavedChanges:this.props.unsavedChanges,width:e})),i.a.createElement(k.a,null,i.a.createElement(k.b,{justifyContent:"flex-end",expand:!0},i.a.createElement(F.a,{label:i.a.createElement(o.Trans,{id:"Add a layer"}),primary:!0,onClick:this._addLayer,icon:i.a.createElement(L.a,null)}))),t&&i.a.createElement(J,{project:e,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,effectsContainer:t,onApply:()=>this.setState({effectsEditedLayer:null})})))}}},2294:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n.n(o),i=n(82),r=n(174),l=n(86),c=n(75),u=n(690),d=n(2478),h=n(143),p=n(1455),m=n.n(p);const g=(e,{size:t}={size:40})=>{const n=m()(e.trim().toLowerCase());return"https://www.gravatar.com/avatar/".concat(n,"?s=").concat(t,"&d=retro")};var b=n(83),f=({profile:e})=>e?o.createElement(c.a,null,o.createElement(c.b,{alignItems:"center"},o.createElement(d.a,{src:g(e.email||"",{size:40})}),o.createElement(c.c,null),o.createElement(b.a,{size:"title"},"You are connected as ",e.email)),o.createElement(c.b,null,o.createElement(b.a,null,o.createElement(a.Trans,{id:"An account allows you to access GDevelop services online."})))):o.createElement(h.a,null),E=n(92),v=n(111),y=n(163),C=n(692),x=n.n(C),j=({usages:e})=>o.createElement(c.a,{noMargin:!0},o.createElement(c.b,null,e?0===e.length?o.createElement(E.a,null,o.createElement(a.Trans,{id:"You don't have any usage of the online services for now"})):o.createElement(y.a,null,o.createElement(y.c,null,o.createElement(y.e,null,o.createElement(y.d,null,"Date"),o.createElement(y.d,null,"Type"))),o.createElement(y.b,null,e.map(e=>o.createElement(y.e,{key:e.id},o.createElement(y.f,null,x()(e.createdAt,"YYYY-MM-DD HH:mm:ss")),o.createElement(y.f,null,e.type))))):o.createElement(h.a,null))),S=n(84),T=({subscription:e,onChangeSubscription:t})=>e&&e.planId?o.createElement(c.a,null,o.createElement(c.b,null,o.createElement(b.a,null,o.createElement(a.Trans,{id:"You are subscribed to {0}. Congratulations! You have access to more online services, including building your game for Android, Windows, macOS and Linux in one click!",values:{0:e.planId}}))),o.createElement(c.b,{justifyContent:"center"},o.createElement(S.a,{label:o.createElement(a.Trans,{id:"Upgrade/change"}),primary:!0,onClick:t}))):e&&!e.planId?o.createElement(c.a,null,o.createElement(c.b,null,o.createElement(b.a,null,o.createElement(a.Trans,{id:"If you don't have a subscription, consider getting one now. Accounts allow you to access all of the online services. With just one click, you can build your game for Android, Windows, macOS and Linux!"}))),o.createElement(c.b,{justifyContent:"center"},o.createElement(S.a,{label:o.createElement(a.Trans,{id:"Choose a subscription"}),primary:!0,onClick:t}))):o.createElement(h.a,null),O=n(283);n.d(t,"a",(function(){return w}));class w extends o.Component{constructor(...e){super(...e),this.state={currentTab:"profile"},this._onChangeTab=e=>this.setState({currentTab:e})}render(){const e=this.props,t=e.open,n=e.onClose,o=[s.a.createElement(i.a,{label:s.a.createElement(a.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n})];return s.a.createElement(O.a.Consumer,null,e=>s.a.createElement(l.a,{actions:o,secondaryActions:[s.a.createElement(v.a,{key:"help",helpPagePath:"/interface/profile"}),e.authenticated&&s.a.createElement(i.a,{label:s.a.createElement(a.Trans,{id:"Refresh"}),key:"refresh",onClick:e.onRefreshUserProfile}),e.authenticated&&e.profile&&s.a.createElement(i.a,{label:s.a.createElement(a.Trans,{id:"Logout"}),key:"logout",onClick:e.onLogout})],onRequestClose:n,cannotBeDismissed:!1,open:t,noMargin:!0},s.a.createElement(r.b,{value:this.state.currentTab,onChange:this._onChangeTab},s.a.createElement(r.a,{label:s.a.createElement(a.Trans,{id:"My Profile"}),value:"profile"}),s.a.createElement(r.a,{label:s.a.createElement(a.Trans,{id:"Online services usage"}),value:"usage"})),"profile"===this.state.currentTab&&(e.authenticated?s.a.createElement(c.a,{noMargin:!0},s.a.createElement(f,{profile:e.profile}),s.a.createElement(T,{subscription:e.subscription,onChangeSubscription:this.props.onChangeSubscription})):s.a.createElement(c.a,null,s.a.createElement(u.a,{onLogin:e.onLogin,onCreateAccount:e.onCreateAccount}))),"usage"===this.state.currentTab&&(e.authenticated?s.a.createElement(c.a,{noMargin:!0},s.a.createElement(j,{usages:e.usages})):s.a.createElement(E.a,null,s.a.createElement(a.Trans,{id:"Register to see the usage that you've made of the online services"})))))}}},2295:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(241),i=n(291),r=n(92),l=n(75);class c extends o.Component{render(){const e=this.props,t=e.behavior,n=e.behaviorContent,c=e.project,u=t.getProperties(n.getContent(),c),d=Object(i.a)(u,e=>t.getProperties(e.getContent(),c),(e,n,a)=>t.updateProperty(e.getContent(),n,a,c));return o.createElement(l.a,{expand:!0},d.length?o.createElement(s.a,{schema:d,instances:[n]}):o.createElement(r.a,null,o.createElement(a.Trans,{id:"There is nothing to configure for this behavior. You can still use events to interact with the object and this behavior."})))}}var u=n(145),d=n(116),h=n(117),p=n(110),m=n(310),g=n(226),b=n(112);class f extends o.Component{constructor(...e){super(...e),this.state={draggedVertex:null,draggedIndex:-1},this._onVertexDown=(e,t)=>{this.state.draggedVertex||this.setState({draggedVertex:e,draggedIndex:t})},this._onMouseUp=()=>{const e=!!this.state.draggedVertex,t=this.state,n=t.draggedVertex,a=t.draggedIndex;this.setState({draggedVertex:null},()=>{e&&this.props.onMoveVertex(a,Math.round(n?n.x:0),Math.round(n?n.y:0))})},this._onMouseMove=e=>{const t=this.props,n=t.offsetX,a=t.offsetY,o=t.polygonOrigin,s=t.width,i=t.height,r=t.zoomFactor,l=this.state.draggedVertex;if(!l)return;const c=this._svg.createSVGPoint();c.x=e.clientX,c.y=e.clientY;const u=this._svg.getScreenCTM().inverse(),d=c.matrixTransform(u);l.x=d.x/r-n-("Center"===o?s/2:0),l.y=d.y/r-a-("Center"===o?i/2:0),this.forceUpdate()}}_renderBox(){const e=this.props,t=e.dimensionA,n=e.dimensionB,a=e.width,s=e.height,i=e.offsetX,r=e.offsetY,l=e.zoomFactor,c=t>0?t:a>0?a:1,u=n>0?n:s>0?s:1;return o.createElement("rect",{key:"boxShape",fill:"rgba(255,0,0,0.75)",strokeWidth:1,x:(i+a/2-c/2)*l,y:(r+s/2-u/2)*l,width:c*l,height:u*l})}_renderCircle(){const e=this.props,t=e.dimensionA,n=e.width,a=e.height,s=e.offsetX,i=e.offsetY,r=e.zoomFactor;return o.createElement("circle",{key:"circleShape",fill:"rgba(255,0,0,0.75)",strokeWidth:1,cx:(s+n/2)*r,cy:(i+a/2)*r,r:(t>0?t:n+a>0?(n+a)/4:1)*r})}_renderEdge(){const e=this.props,t=e.dimensionA,n=e.dimensionB,a=e.width,s=e.height,i=e.offsetX,r=e.offsetY,l=e.zoomFactor,c=(t>0?t:a>0?a:1)/2,u=Math.cos(n*Math.PI/180),d=Math.sin(n*Math.PI/180);return o.createElement("line",{key:"edgeShape",stroke:"rgba(255,0,0,0.75)",strokeWidth:2,x1:(i+a/2-c*u)*l,y1:(r+s/2-c*d)*l,x2:(i+a/2+c*u)*l,y2:(r+s/2+c*d)*l})}_renderPolygon(){const e=this.props,t=e.vertices,n=e.polygonOrigin,a=e.width,s=e.height,i=e.offsetX,r=e.offsetY,l=e.zoomFactor;return o.createElement(o.Fragment,null,o.createElement("polygon",{key:"polygonShape",fill:"rgba(255,0,0,0.75)",strokeWidth:1,filerule:"evenodd",points:t.map(e=>"".concat((e.x+i+("Center"===n?a/2:0))*l,",").concat((e.y+r+("Center"===n?s/2:0))*l)).join(" ")}),t.map((e,t)=>o.createElement("circle",{onPointerDown:n=>this._onVertexDown(e,t),key:"vertex-".concat(t),fill:"rgba(150,0,0,0.75)",strokeWidth:1,style:{cursor:"move"},cx:(e.x+i+("Center"===n?a/2:0))*l,cy:(e.y+r+("Center"===n?s/2:0))*l,r:5})))}render(){const e=this.props.shape;return o.createElement("svg",{onPointerMove:this._onMouseMove,onPointerUp:this._onMouseUp,ref:e=>this._svg=e,width:"100%",height:"100%"},"Box"===e&&this._renderBox(),"Circle"===e&&this._renderCircle(),"Edge"===e&&this._renderEdge(),"Polygon"===e&&this._renderPolygon())}}var E=n(163),v=n(329),y=n.n(v),C=n(104),x=n(101),j=n(443),S=n.n(j),T=n(190),O=n.n(T);class w extends o.Component{_isPolygonConvex(e){let t=[],n=null,a=null;for(let r=0;r<e.length;r++)n=e[r],a=r+1>=e.length?e[0]:e[r+1],t.push({x:a.x-n.x,y:a.y-n.y});if(t.length<3)return!1;const o=t[0].x*t[1].y-t[0].y*t[1].x>0;for(let r=1;r<t.length-1;++r){if(t[r].x*t[r+1].y-t[r].y*t[r+1].x>0!==o)return!1}if(t[t.length-1].x*t[0].y-t[t.length-1].y*t[0].x>0!==o)return!1;for(let r=0;r<e.length-1;++r)for(let t=r+1;t<e.length;++t)if(e[r].x===e[t].x&&e[r].y===e[t].y)return!1;let s=!0,i=!0;for(let r=0;r<e.length-1;++r)e[r].x!==e[r+1].x&&(s=!1),e[r].y!==e[r+1].y&&(i=!1);return!s&&!i}render(){const e=this.props,t=e.vertices,n=e.onChangeVertexX,a=e.onChangeVertexY,s=e.onAdd,i=e.onRemove;return o.createElement(x.a,null,e=>o.createElement(E.a,null,o.createElement(E.c,null,o.createElement(E.e,null,o.createElement(E.d,null),o.createElement(E.d,null,"X"),o.createElement(E.d,null,"Y"),o.createElement(E.f,null))),o.createElement(E.b,null,t.map((s,r)=>o.createElement(E.e,{key:"vertexRow".concat(r),style:{backgroundColor:e.list.itemsBackgroundColor}},o.createElement(E.f,null,!this._isPolygonConvex(t)&&o.createElement(y.a,null)),o.createElement(E.f,null,o.createElement(p.a,{margin:"none",fullWidth:!0,value:s.x.toString(10),onChange:e=>n(parseFloat(e)||0,r),type:"number"})),o.createElement(E.f,null,o.createElement(p.a,{margin:"none",fullWidth:!0,value:s.y.toString(10),onChange:e=>a(parseFloat(e)||0,r),type:"number"})),o.createElement(E.f,null,o.createElement(C.a,{size:"small",onClick:()=>i(r)},o.createElement(O.a,null))))),o.createElement(E.e,null,o.createElement(E.f,null),o.createElement(E.f,null),o.createElement(E.f,null),o.createElement(E.f,null,o.createElement(C.a,{onClick:s},o.createElement(S.a,null)))))))}}var N=n(83),_=n(209),k=n(105);function P(e){const t=e.properties,n=e.propertyName,a=e.step,s=e.onUpdate;return o.createElement(p.a,{fullWidth:!0,value:t.get(n).getValue(),key:n,floatingLabelText:t.get(n).getLabel(),step:a,onChange:s,type:"number"})}function I(e){const t=e.enabled,n=e.propertyName,a=e.pos,s=e.spacing,i=e.onUpdate;return o.createElement("div",{style:{width:s?"7.5%":"5%"}},o.createElement(u.a,{checked:t,onCheck:(e,t)=>i(t)}),s&&o.createElement("div",{style:{width:"33%"},key:n+"-space"+a.toString(10)}))}class F extends o.Component{constructor(...e){super(...e),this.resourcesLoader=b.a,this.state={image:""}}_isBitEnabled(e,t){return!!(e&1<<t)}_enableBit(e,t,n){return n?e|=1<<t:e&=~(1<<t),e}render(){const e=this.props,t=e.behavior,n=e.behaviorContent,s=e.project,i=t.getProperties(n.getContent(),s),c=Array(16).fill(null),b=i.get("shape").getValue(),E=parseInt(i.get("layers").getValue(),10),v=parseInt(i.get("masks").getValue(),10);return o.createElement(l.a,{expand:!0},o.createElement(l.b,null,o.createElement(d.a,{key:"bodyType",fullWidth:!0,floatingLabelText:i.get("bodyType").getLabel(),value:i.get("bodyType").getValue(),onChange:(e,a,o)=>{t.updateProperty(n.getContent(),"bodyType",o,s),this.forceUpdate()}},[o.createElement(h.a,{key:"dynamic",value:"Dynamic",primaryText:{id:"Dynamic"}}),o.createElement(h.a,{key:"static",value:"Static",primaryText:{id:"Static"}}),o.createElement(h.a,{key:"kinematic",value:"Kinematic",primaryText:{id:"Kinematic"}})])),o.createElement(k.b,null,o.createElement(u.a,{label:i.get("bullet").getLabel(),checked:"true"===i.get("bullet").getValue(),onCheck:(e,a)=>{t.updateProperty(n.getContent(),"bullet",a?"1":"0",s),this.forceUpdate()}}),o.createElement(u.a,{label:i.get("fixedRotation").getLabel(),checked:"true"===i.get("fixedRotation").getValue(),onCheck:(e,a)=>{t.updateProperty(n.getContent(),"fixedRotation",a?"1":"0",s),this.forceUpdate()}}),o.createElement(u.a,{label:i.get("canSleep").getLabel(),checked:"true"===i.get("canSleep").getValue(),onCheck:(e,a)=>{t.updateProperty(n.getContent(),"canSleep",a?"1":"0",s),this.forceUpdate()}})),o.createElement(l.b,null,o.createElement(_.a,{identifier:"physics2-shape-collisions",kind:"info"},o.createElement(a.Trans,{id:'The shape used in the Physics behavior is independent from the collision mask of the object. Be sure to use the "Collision" condition provided by the Physics behavior in the events. The usual "Collision" condition won\'t take into account the shape that you\'ve set up here.'}))),o.createElement(l.b,null,o.createElement(d.a,{fullWidth:!0,floatingLabelText:i.get("shape").getLabel(),value:i.get("shape").getValue(),onChange:(e,a,o)=>{t.updateProperty(n.getContent(),"shape",o,s),this.forceUpdate()}},o.createElement(h.a,{key:"box",value:"Box",primaryText:{id:"Box"}}),o.createElement(h.a,{key:"circle",value:"Circle",primaryText:{id:"Circle"}}),o.createElement(h.a,{key:"edge",value:"Edge",primaryText:{id:"Edge"}}),o.createElement(h.a,{key:"polygon",value:"Polygon",primaryText:{id:"Polygon"}}))),o.createElement(k.b,null,"Polygon"!==b&&o.createElement(p.a,{fullWidth:!0,value:i.get("Polygon"===b?"PolygonOriginX":"shapeDimensionA").getValue(),key:"shapeDimensionA",floatingLabelText:"Circle"===b?"Radius":"Edge"===b?"Length":"Width",min:0,onChange:e=>{t.updateProperty(n.getContent(),"Polygon"===b?"PolygonOriginX":"shapeDimensionA",e,s),this.forceUpdate()},type:"number"}),"Polygon"!==b&&"Circle"!==b&&o.createElement(p.a,{fullWidth:!0,value:i.get("Polygon"===b?"PolygonOriginY":"shapeDimensionB").getValue(),key:"shapeDimensionB",floatingLabelText:"Edge"===b?"Angle":"Height",min:"Edge"===b?void 0:0,onChange:e=>{t.updateProperty(n.getContent(),"Polygon"===b?"PolygonOriginY":"shapeDimensionB",e,s),this.forceUpdate()},type:"number"}),"Polygon"===b&&o.createElement(d.a,{fullWidth:!0,floatingLabelText:i.get("polygonOrigin").getLabel(),value:i.get("polygonOrigin").getValue(),onChange:(e,a,o)=>{t.updateProperty(n.getContent(),"polygonOrigin",o,s),this.forceUpdate()}},[o.createElement(h.a,{key:"center",value:"Center",primaryText:{id:"Center"}}),o.createElement(h.a,{key:"origin",value:"Origin",primaryText:{id:"Origin"}}),o.createElement(h.a,{key:"topLeft",value:"TopLeft",primaryText:{id:"Top-Left"}})]),o.createElement(P,{properties:i,propertyName:"shapeOffsetX",step:1,onUpdate:e=>{t.updateProperty(n.getContent(),"shapeOffsetX",e,s),this.forceUpdate()}}),o.createElement(P,{properties:i,propertyName:"shapeOffsetY",step:1,onUpdate:e=>{this.props.behavior.updateProperty(n.getContent(),"shapeOffsetY",e,this.props.project),this.forceUpdate()}})),o.createElement(l.b,null,o.createElement(g.a,{floatingLabelText:o.createElement(a.Trans,{id:"A temporary image to help you visualize the shape/polygon"}),project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:this.resourcesLoader,resourceKind:"image",initialResourceName:"",fullWidth:!0,onChange:e=>{this.setState({image:e}),this.forceUpdate()}})),!this.state.image&&o.createElement(l.b,null,o.createElement(r.a,null,o.createElement(a.Trans,{id:"To preview the shape that the Physics engine will use for this object, choose first a temporary image to use for the preview."}))),this.state.image&&o.createElement(l.b,null,o.createElement("div",{style:{width:"100%"}},o.createElement(m.a,{resourceName:this.state.image,project:this.props.project,resourcesLoader:this.resourcesLoader,renderOverlay:({imageWidth:e,imageHeight:a,imageZoomFactor:r})=>o.createElement(f,{shape:i.get("shape").getValue(),dimensionA:parseFloat(i.get("shapeDimensionA").getValue()),dimensionB:parseFloat(i.get("shapeDimensionB").getValue()),offsetX:parseFloat(i.get("shapeOffsetX").getValue()),offsetY:parseFloat(i.get("shapeOffsetY").getValue()),polygonOrigin:i.get("polygonOrigin").getValue(),vertices:JSON.parse(i.get("vertices").getValue()),width:e,height:a,zoomFactor:r,onMoveVertex:(e,a,o)=>{let r=JSON.parse(i.get("vertices").getValue());r[e].x=a,r[e].y=o,t.updateProperty(n.getContent(),"vertices",JSON.stringify(r),s),this.forceUpdate()}})}))),"Polygon"===b&&o.createElement(l.b,null,o.createElement(w,{vertices:JSON.parse(i.get("vertices").getValue()),onChangeVertexX:(e,a)=>{let o=JSON.parse(i.get("vertices").getValue());o[a].x=e,t.updateProperty(n.getContent(),"vertices",JSON.stringify(o),s),this.forceUpdate()},onChangeVertexY:(e,a)=>{let o=JSON.parse(i.get("vertices").getValue());o[a].y=e,t.updateProperty(n.getContent(),"vertices",JSON.stringify(o),s),this.forceUpdate()},onAdd:()=>{let e=JSON.parse(i.get("vertices").getValue());e.length>=8||(e.push({x:0,y:0}),t.updateProperty(n.getContent(),"vertices",JSON.stringify(e),s),this.forceUpdate())},onRemove:e=>{let a=JSON.parse(i.get("vertices").getValue());a.splice(e,1),t.updateProperty(n.getContent(),"vertices",JSON.stringify(a),s),this.forceUpdate()}})),o.createElement(k.b,null,o.createElement(P,{properties:i,propertyName:"density",step:.1,onUpdate:e=>{t.updateProperty(n.getContent(),"density",parseFloat(e)>0?e:"0",s),this.forceUpdate()}}),o.createElement(P,{properties:i,propertyName:"gravityScale",step:.1,onUpdate:e=>{t.updateProperty(n.getContent(),"gravityScale",e,s),this.forceUpdate()}})),o.createElement(k.b,null,o.createElement(P,{properties:i,propertyName:"friction",step:.1,onUpdate:e=>{t.updateProperty(n.getContent(),"friction",parseFloat(e)>0?e:"0",s),this.forceUpdate()}}),o.createElement(P,{properties:i,propertyName:"restitution",step:.1,onUpdate:e=>{t.updateProperty(n.getContent(),"restitution",parseFloat(e)>0?e:"0",s),this.forceUpdate()}})),o.createElement(k.b,null,o.createElement(P,{properties:i,propertyName:"linearDamping",step:.05,onUpdate:e=>{t.updateProperty(n.getContent(),"linearDamping",e,s),this.forceUpdate()}}),o.createElement(P,{properties:i,propertyName:"angularDamping",step:.05,onUpdate:e=>{t.updateProperty(n.getContent(),"angularDamping",e,s),this.forceUpdate()}})),o.createElement(l.b,null,o.createElement(N.a,null,i.get("layers").getLabel()),c.map((e,t)=>o.createElement(I,{enabled:this._isBitEnabled(E,t),propertyName:"layers",pos:t,spacing:7===t,onUpdate:e=>{const a=this._enableBit(E,t,e);this.props.behavior.updateProperty(n.getContent(),"layers",a.toString(10),this.props.project),this.forceUpdate()},key:"layer".concat(t)}))),o.createElement(l.b,null,o.createElement(N.a,null,i.get("masks").getLabel()),c.map((e,t)=>o.createElement(I,{enabled:this._isBitEnabled(v,t),propertyName:"masks",pos:t,spacing:7===t,onUpdate:e=>{const a=this._enableBit(v,t,e);this.props.behavior.updateProperty(n.getContent(),"masks",a.toString(10),this.props.project),this.forceUpdate()},key:"mask".concat(t)}))))}}t.a={getEditor(e){return this.components[e]?this.components[e].component:c},components:{"Physics2::Physics2Behavior":{component:F}}}},2296:function(e,t,n){"use strict";var a=n(78),o=n(127),s=n(72),i=n(2),r=n.n(i),l=n(100),c=n(94),u=n(150),d=n(329),h=n.n(d),p=n(134),m=n(439),g=n(5),b=n(207),f=n(82),E=n(145),v=n(116),y=n(117),C=n(86),x=n(110),j=n(447),S=n(619),T=n(209),O=n(111),w=n(105),N=n(83);class _ extends i.Component{constructor(e){super(e),this._subscriptionChecker=null,this._onApply=()=>{const e=e=>e,t=this.props.project,n=this.state,a=n.gameResolutionWidth,o=n.gameResolutionHeight,s=n.adaptGameResolutionAtRuntime,i=n.name,r=n.author,l=n.version,c=n.packageName,u=n.orientation,d=n.adMobAppId,h=n.scaleMode,p=n.sizeOnStartupMode,m=n.showGDevelopSplash,g=n.minFPS,b=n.maxFPS,f=n.isFolderProject;t.setGameResolutionSize(a,o),t.setAdaptGameResolutionAtRuntime(s),t.setName(i),t.setAuthor(r),t.setVersion(l),t.setPackageName(c),t.setOrientation(u),t.setAdMobAppId(d),t.setScaleMode(h),t.setSizeOnStartupMode(p),t.setMinimumFPS(g),t.setMaximumFPS(b),t.getLoadingScreen().showGDevelopSplash(m),t.setFolderProject(f),Object(S.a)(e,Object(S.b)(e,t))&&this.props.onApply()},this.state=this._loadFrom(e.project)}_loadFrom(e){return{gameResolutionWidth:e.getGameResolutionWidth(),gameResolutionHeight:e.getGameResolutionHeight(),adaptGameResolutionAtRuntime:e.getAdaptGameResolutionAtRuntime(),name:e.getName(),author:e.getAuthor(),version:e.getVersion(),packageName:e.getPackageName(),orientation:e.getOrientation(),adMobAppId:e.getAdMobAppId(),scaleMode:e.getScaleMode(),sizeOnStartupMode:e.getSizeOnStartupMode(),showGDevelopSplash:e.getLoadingScreen().isGDevelopSplashShown(),minFPS:e.getMinimumFPS(),maxFPS:e.getMaximumFPS(),isFolderProject:e.isFolderProject()}}componentWillReceiveProps(e){(!this.props.open&&e.open||e.open&&this.props.project!==e.project)&&this.setState(this._loadFrom(e.project))}render(){const e=this.state,t=e.name,n=e.gameResolutionWidth,a=e.gameResolutionHeight,o=e.adaptGameResolutionAtRuntime,r=e.author,l=e.version,c=e.packageName,u=e.orientation,d=e.adMobAppId,h=e.scaleMode,p=e.sizeOnStartupMode,m=e.showGDevelopSplash,g=e.minFPS,b=e.maxFPS,_=e.isFolderProject;return i.createElement(i.Fragment,null,i.createElement(C.a,{actions:[i.createElement(f.a,{label:i.createElement(s.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onClose,key:"cancel"}),i.createElement(f.a,{label:i.createElement(s.Trans,{id:"Apply"}),primary:!0,onClick:this._onApply,key:"apply"})],secondaryActions:[i.createElement(O.a,{helpPagePath:"/interface/project-manager/properties",key:"help"})],title:i.createElement(s.Trans,{id:"Project properties"}),cannotBeDismissed:!0,open:this.props.open,onRequestClose:this.props.onClose},i.createElement(w.a,{noMargin:!0},i.createElement(x.a,{floatingLabelText:i.createElement(s.Trans,{id:"Game name"}),fullWidth:!0,type:"text",value:t,onChange:e=>this.setState({name:e}),autoFocus:!0}),i.createElement(E.a,{label:i.createElement(s.Trans,{id:"Display GDevelop splash at startup (in exported game)"}),checked:m,onCheck:(e,t)=>{(t||!this._subscriptionChecker||this._subscriptionChecker.checkHasSubscription())&&this.setState({showGDevelopSplash:t})}}),i.createElement(x.a,{floatingLabelText:i.createElement(s.Trans,{id:"Version number (X.Y.Z)"}),fullWidth:!0,hintText:"1.0.0",type:"text",value:l,onChange:e=>this.setState({version:e})}),i.createElement(x.a,{floatingLabelText:i.createElement(s.Trans,{id:"Package name (for iOS and Android)"}),fullWidth:!0,hintText:"com.example.mygame",type:"text",value:c,onChange:e=>this.setState({packageName:e}),errorText:Object(S.c)(c)?void 0:i.createElement(s.Trans,{id:'The package name is containing invalid characters or not following the convention "xxx.yyy.zzz" (numbers allowed after a letter only).'})}),i.createElement(x.a,{floatingLabelText:i.createElement(s.Trans,{id:"Author name"}),fullWidth:!0,hintText:{id:"Your name"},type:"text",value:r,onChange:e=>this.setState({author:e})}),i.createElement(N.a,{size:"title"},i.createElement(s.Trans,{id:"Resolution and rendering"})),i.createElement(w.b,{noMargin:!0},i.createElement(x.a,{floatingLabelText:i.createElement(s.Trans,{id:"Game resolution width"}),fullWidth:!0,type:"number",value:""+n,onChange:e=>this.setState({gameResolutionWidth:Math.max(1,parseInt(e,10))})}),i.createElement(x.a,{floatingLabelText:i.createElement(s.Trans,{id:"Game resolution height"}),fullWidth:!0,type:"number",value:""+a,onChange:e=>this.setState({gameResolutionHeight:Math.max(1,parseInt(e,10))})})),i.createElement(v.a,{fullWidth:!0,floatingLabelText:i.createElement(s.Trans,{id:"Game resolution resize mode (fullscreen or window)"}),value:p,onChange:(e,t,n)=>this.setState({sizeOnStartupMode:n})},i.createElement(y.a,{value:"",primaryText:{id:"No changes to the game size"}}),i.createElement(y.a,{value:"adaptWidth",primaryText:{id:"Change width to fit the screen or window size"}}),i.createElement(y.a,{value:"adaptHeight",primaryText:{id:"Change height to fit the screen or window size"}})),i.createElement(E.a,{label:i.createElement(s.Trans,{id:"Update resolution during the game to fit the screen or window size"}),disabled:""===p,checked:o,onCheck:(e,t)=>{this.setState({adaptGameResolutionAtRuntime:t})}}),i.createElement(w.b,{noMargin:!0},i.createElement(x.a,{floatingLabelText:i.createElement(s.Trans,{id:"Minimum FPS"}),fullWidth:!0,type:"number",value:""+g,onChange:e=>this.setState({minFPS:Math.max(0,parseInt(e,10))})}),i.createElement(x.a,{floatingLabelText:i.createElement(s.Trans,{id:"Maximum FPS (0 to disable)"}),fullWidth:!0,type:"number",value:""+b,onChange:e=>this.setState({maxFPS:Math.max(0,parseInt(e,10))})})),b>0&&b<60&&i.createElement(T.a,{identifier:"maximum-fps-too-low",kind:"warning"},i.createElement(s.Trans,{id:"Most monitors have a refresh rate of 60 FPS. Setting a maximum number of FPS under 60 will force the game to skip frames, and the real number of FPS will be way below 60, making the game laggy and impacting the gameplay negatively. Consider putting 60 or more for the maximum number or FPS, or disable it by setting 0."})),g<20&&i.createElement(T.a,{identifier:"minimum-fps-too-low",kind:"warning"},i.createElement(s.Trans,{id:"Setting the minimum number of FPS below 20 will increase a lot the time that is allowed between the simulation of two frames of the game. If case of a sudden slowdown, or on slow computers, this can create buggy behaviors like objects passing beyond a wall. Consider setting 20 as the minimum FPS."})),i.createElement(v.a,{fullWidth:!0,floatingLabelText:i.createElement(s.Trans,{id:"Device orientation (for iOS and Android)"}),value:u,onChange:(e,t,n)=>this.setState({orientation:n})},i.createElement(y.a,{value:"default",primaryText:{id:"Platform default"}}),i.createElement(y.a,{value:"landscape",primaryText:{id:"Landscape"}}),i.createElement(y.a,{value:"portrait",primaryText:{id:"Portrait"}})),i.createElement(v.a,{fullWidth:!0,floatingLabelText:i.createElement(s.Trans,{id:'Scale mode (also called "Sampling")'}),value:h,onChange:(e,t,n)=>this.setState({scaleMode:n})},i.createElement(y.a,{value:"linear",primaryText:{id:"Linear (antialiased rendering, good for most games)"}}),i.createElement(y.a,{value:"nearest",primaryText:{id:"Nearest (no antialiasing, good for pixel perfect games)"}})),"nearest"===h&&i.createElement(T.a,{identifier:"use-non-smoothed-textures",kind:"info"},i.createElement(s.Trans,{id:"To obtain the best pixel-perfect effect possible, go in the resources editor and disable the Smoothing for all images of your game. It will be done automatically for new images added from now."})),i.createElement(N.a,{size:"title"},i.createElement(s.Trans,{id:"AdMob"})),i.createElement(x.a,{floatingLabelText:i.createElement(s.Trans,{id:"AdMob application ID (for iOS and Android)"}),fullWidth:!0,hintText:"ca-app-pub-XXXXXXXXXXXXXXXX/YYYYYYYYYY",type:"text",value:d,onChange:e=>this.setState({adMobAppId:e})}),i.createElement(N.a,{size:"title"},i.createElement(s.Trans,{id:"Project files"})),i.createElement(v.a,{fullWidth:!0,floatingLabelText:i.createElement(s.Trans,{id:"Project file type"}),value:_?"folder-project":"single-file",onChange:(e,t,n)=>this.setState({isFolderProject:"folder-project"===n})},i.createElement(y.a,{value:"single-file",primaryText:{id:"Single file (default)"}}),i.createElement(y.a,{value:"folder-project",primaryText:{id:"Multiple files, saved in folder next to the main file"}})))),i.createElement(j.a,{ref:e=>this._subscriptionChecker=e,onChangeSubscription:()=>{this.props.onClose(),this.props.onChangeSubscription()},mode:"mandatory",id:"Disable GDevelop splash at startup",title:i.createElement(s.Trans,{id:"Disable GDevelop splash at startup"})}))}}var k=_,P=n(333),I=n(133),F=n(208),B=n(114),M=n(101),R=n(1135),D=n.n(R),L=n(911),A=n(285),U=n(20);class V extends i.Component{render(){const e=this.props,t=e.project,n=e.onClose;return r.a.createElement(s.I18n,null,({i18n:e})=>r.a.createElement(A.a.Consumer,null,a=>{const o=a.getEventsFunctionsExtensionOpener();return r.a.createElement(C.a,{title:r.a.createElement(s.Trans,{id:"Search for New Extensions"}),actions:[r.a.createElement(f.a,{key:"close",label:r.a.createElement(s.Trans,{id:"Close"}),primary:!0,onClick:n})],secondaryActions:[r.a.createElement(O.a,{key:"help",helpPagePath:"/extensions/search"}),o?r.a.createElement(f.a,{icon:r.a.createElement(D.a,null),key:"import",label:r.a.createElement(s.Trans,{id:"Import extension"}),onClick:()=>{((e,t,n)=>{const a=t.getEventsFunctionsExtensionOpener();if(a)a.chooseEventsFunctionExtensionFile().then(o=>{if(o)return a.readEventsFunctionExtensionFile(o).then(a=>{if(n.hasEventsFunctionsExtensionNamed(a.name)){if(!g.b.showConfirmDialog(e._({id:"An extension with this name already exists in the project. Importing this extension will replace it: are you sure you want to continue?"})))return}return Object(L.a)(t,n,a)})}).catch(t=>{Object(U.c)(e._({id:"An error happened while loading this extension. Please check that it is a proper extension file and compatible with this version of GDevelop"},t))})})(e,a,t)}}):null],cannotBeDismissed:!0,open:!0,noMargin:!0,onRequestClose:n},r.a.createElement(L.b,{project:t,onNewExtensionInstalled:()=>{},onRegistryLoaded:()=>{this.forceUpdate()},showOnlyWithBehaviors:!1}))}))}}var W=n(278),G=n.n(W),z=n(1447),H=n.n(z),Y=n(1448),K=n.n(Y),X=n(1445),q=n.n(X),J=n(1442),Z=n.n(J),Q=n(589),$=r.a.memo(e=>r.a.createElement(Q.a,e,r.a.createElement("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}))),ee=n(1449),te=n.n(ee),ne=n(1444),ae=n.n(ne),oe=n(688),se=n.n(oe),ie=n(1443),re=n.n(ie),le=n(1446),ce=n.n(le),ue=n(623),de=n(687);n.d(t,"a",(function(){return ge}));const he={container:{flex:1,display:"flex",flexDirection:"column",overflowY:"hidden"},list:{flex:1,overflowY:"scroll",padding:0},noIndentNestedList:{padding:0},itemName:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},itemTextField:{top:c.c}},pe=e=>i.createElement(M.a,null,t=>{const n=e.error,a=e.leftIcon,s=e.onRefresh,r=e.indentNestedItems,c=Object(o.a)(e,["error","leftIcon","onRefresh","indentNestedItems"]);return i.createElement(l.b,Object.assign({style:{backgroundColor:t.listItem.groupBackgroundColor,borderBottom:"1px solid ".concat(t.listItem.separatorColor)},nestedListStyle:r?void 0:he.noIndentNestedList},c,{leftIcon:n?i.createElement(h.a,null):a,displayReloadButton:!!n,onReload:s,reloadButtonTooltip:"An error has occured in functions. Click to reload them."}))});class me extends i.Component{componentDidUpdate(e){!e.editingName&&this.props.editingName&&setTimeout(()=>{this.textField&&this.textField.focus()},100)}render(){const e=this.props.editingName?i.createElement(c.b,{id:"rename-item-field",margin:"none",ref:e=>this.textField=e,defaultValue:this.props.primaryText,onBlur:e=>this.props.onRename(e.currentTarget.value),onKeyPress:e=>{13===e.charCode&&this.textField&&this.textField.blur()},fullWidth:!0,style:he.itemTextField}):i.createElement("div",{style:he.itemName},this.props.primaryText);return i.createElement(M.a,null,t=>i.createElement(l.b,{style:Object(a.a)({borderBottom:"1px solid ".concat(t.listItem.separatorColor)},this.props.style),primaryText:e,displayMenuButton:!0,buildMenuTemplate:()=>[{label:"Edit",click:()=>this.props.onEdit()},...this.props.buildExtraMenuTemplate?this.props.buildExtraMenuTemplate():[],{type:"separator"},{label:"Rename",click:()=>this.props.onEditName()},{label:"Delete",click:()=>this.props.onDelete()},{label:this.props.addLabel,visible:!!this.props.onAdd,click:()=>this.props.onAdd()},{type:"separator"},{label:"Copy",click:()=>this.props.onCopy()},{label:"Cut",click:()=>this.props.onCut()},{label:"Paste",enabled:this.props.canPaste(),click:()=>this.props.onPaste()},{label:"Duplicate",click:()=>this.props.onDuplicate()},{type:"separator"},{label:"Move up",enabled:this.props.canMoveUp,click:()=>this.props.onMoveUp()},{label:"Move down",enabled:this.props.canMoveDown,click:()=>this.props.onMoveDown()}],onClick:()=>{this.props.editingName||this.props.onEdit()}}))}}class ge extends i.Component{constructor(...e){super(...e),this.state={editedPropertiesLayout:null,editedVariablesLayout:null,renamedItemKind:null,renamedItemName:"",searchText:"",projectPropertiesDialogOpen:!1,projectVariablesEditorOpen:!1,extensionsSearchDialogOpen:!1,layoutPropertiesDialogOpen:!1,layoutVariablesDialogOpen:!1},this._onEditName=(e,t)=>{this.setState({renamedItemKind:e,renamedItemName:t})},this._copyLayout=e=>{F.a.set("Layout",{layout:Object(B.b)(e),name:e.getName()})},this._cutLayout=e=>{this._copyLayout(e),this.props.onDeleteLayout(e)},this._pasteLayout=e=>{if(!F.a.has("Layout"))return;const t=F.a.get("Layout"),n=t.layout,a=t.name,o=this.props.project,s=Object(I.a)(a,e=>o.hasLayoutNamed(e)),i=o.insertNewLayout(s,e);Object(B.c)(i,n,"unserializeFrom",o),i.setName(s),i.updateBehaviorsSharedData(o),this._onProjectItemModified()},this._duplicateLayout=(e,t)=>{this._copyLayout(e),this._pasteLayout(t)},this._addLayout=e=>{const t=this.props.project,n=Object(I.a)("New scene",e=>t.hasLayoutNamed(e)),a=t.insertNewLayout(n,e+1);a.setName(n),a.updateBehaviorsSharedData(t),this._onProjectItemModified()},this._onOpenLayoutProperties=e=>{this.setState({editedPropertiesLayout:e})},this._onOpenLayoutVariables=e=>{this.setState({editedVariablesLayout:e})},this._addExternalEvents=e=>{const t=this.props.project,n=Object(I.a)("NewExternalEvents",e=>t.hasExternalEventsNamed(e));t.insertNewExternalEvents(n,e+1),this._onProjectItemModified()},this._addExternalLayout=e=>{const t=this.props.project,n=Object(I.a)("NewExternalLayout",e=>t.hasExternalLayoutNamed(e));t.insertNewExternalLayout(n,e+1),this._onProjectItemModified()},this._addEventsFunctionsExtension=e=>{const t=this.props.project,n=Object(I.a)("NewExtension",e=>t.hasEventsFunctionsExtensionNamed(e));t.insertNewEventsFunctionsExtension(n,e+1),this._onProjectItemModified()},this._moveUpLayout=e=>{const t=this.props.project;e<=0||(t.swapLayouts(e,e-1),this._onProjectItemModified())},this._moveDownLayout=e=>{const t=this.props.project;e>=t.getLayoutsCount()-1||(t.swapLayouts(e,e+1),this._onProjectItemModified())},this._copyExternalEvents=e=>{F.a.set("External events",{externalEvents:Object(B.b)(e),name:e.getName()})},this._cutExternalEvents=e=>{this._copyExternalEvents(e),this.props.onDeleteExternalEvents(e)},this._pasteExternalEvents=e=>{if(!F.a.has("External events"))return;const t=F.a.get("External events"),n=t.externalEvents,a=t.name,o=this.props.project,s=Object(I.a)(a,e=>o.hasExternalEventsNamed(e)),i=o.insertNewExternalEvents(s,e);Object(B.c)(i,n,"unserializeFrom",o),i.setName(s),this._onProjectItemModified()},this._duplicateExternalEvents=(e,t)=>{this._copyExternalEvents(e),this._pasteExternalEvents(t)},this._moveUpExternalEvents=e=>{const t=this.props.project;e<=0||(t.swapExternalEvents(e,e-1),this._onProjectItemModified())},this._moveDownExternalEvents=e=>{const t=this.props.project;e>=t.getExternalEventsCount()-1||(t.swapExternalEvents(e,e+1),this._onProjectItemModified())},this._copyExternalLayout=e=>{F.a.set("External layout",{externalLayout:Object(B.b)(e),name:e.getName()})},this._cutExternalLayout=e=>{this._copyExternalLayout(e),this.props.onDeleteExternalLayout(e)},this._pasteExternalLayout=e=>{if(!F.a.has("External layout"))return;const t=F.a.get("External layout"),n=t.externalLayout,a=t.name,o=this.props.project,s=Object(I.a)(a,e=>o.hasExternalLayoutNamed(e)),i=o.insertNewExternalLayout(s,e);Object(B.c)(i,n),i.setName(s),this._onProjectItemModified()},this._duplicateExternalLayout=(e,t)=>{this._copyExternalLayout(e),this._pasteExternalLayout(t)},this._moveUpExternalLayout=e=>{const t=this.props.project;e<=0||(t.swapExternalLayouts(e,e-1),this._onProjectItemModified())},this._moveDownExternalLayout=e=>{const t=this.props.project;e>=t.getExternalLayoutsCount()-1||(t.swapExternalLayouts(e,e+1),this._onProjectItemModified())},this._copyEventsFunctionsExtension=e=>{F.a.set("Events Functions Extension",{eventsFunctionsExtension:Object(B.b)(e),name:e.getName()})},this._cutEventsFunctionsExtension=e=>{this._copyEventsFunctionsExtension(e),this.props.onDeleteEventsFunctionsExtension(e)},this._duplicateEventsFunctionsExtension=(e,t)=>{this._copyEventsFunctionsExtension(e),this._pasteEventsFunctionsExtension(t)},this._pasteEventsFunctionsExtension=e=>{if(!F.a.has("Events Functions Extension"))return;const t=F.a.get("Events Functions Extension"),n=t.eventsFunctionsExtension,a=t.name,o=this.props.project,s=Object(I.a)(a,e=>o.hasEventsFunctionsExtensionNamed(e)),i=o.insertNewEventsFunctionsExtension(s,e);Object(B.c)(i,n,"unserializeFrom",o),i.setName(s),this._onProjectItemModified(),this.props.onReloadEventsFunctionsExtensions()},this._moveUpEventsFunctionsExtension=e=>{const t=this.props.project;e<=0||(t.swapEventsFunctionsExtensions(e,e-1),this._onProjectItemModified())},this._moveDownEventsFunctionsExtension=e=>{const t=this.props.project;e>=t.getEventsFunctionsExtensionsCount()-1||(t.swapEventsFunctionsExtensions(e,e+1),this._onProjectItemModified())},this._onSearchChange=e=>this.setState({searchText:e}),this._onRequestSearch=()=>{},this._onProjectItemModified=()=>{this.forceUpdate(),this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges()}}shouldComponentUpdate(e){return!e.freezeUpdate}componentDidUpdate(e){!this.props.freezeUpdate&&e.freezeUpdate&&this._searchBar&&this._searchBar.focus()}_renderMenu(){return g.b.hasMainMenu()?null:i.createElement(i.Fragment,null,i.createElement(l.b,{key:"save",primaryText:i.createElement(s.Trans,{id:"Save"}),leftIcon:i.createElement(Z.a,null),onClick:()=>this.props.onSaveProject()}),i.createElement(l.b,{key:"save-as",primaryText:i.createElement(s.Trans,{id:"Save as..."}),leftIcon:i.createElement(re.a,null),onClick:()=>this.props.onSaveProjectAs()}),i.createElement(l.b,{key:"export",primaryText:i.createElement(s.Trans,{id:"Export"}),leftIcon:i.createElement(ae.a,null),onClick:()=>this.props.onExportProject()}),i.createElement(l.b,{key:"close",primaryText:i.createElement(s.Trans,{id:"Close"}),leftIcon:i.createElement(G.a,null),onClick:()=>this.props.onCloseProject()}),i.createElement(l.b,{key:"preferences",primaryText:i.createElement(s.Trans,{id:"Preferences"}),leftIcon:i.createElement(q.a,null),onClick:()=>this.props.onOpenPreferences()}),i.createElement(l.b,{key:"profile",primaryText:i.createElement(s.Trans,{id:"My profile"}),leftIcon:i.createElement(ce.a,null),onClick:()=>this.props.onOpenProfile()}),!g.b.isFullscreen()&&i.createElement(l.b,{key:"fullscreen",primaryText:i.createElement(s.Trans,{id:"Turn on Fullscreen"}),leftIcon:i.createElement(se.a,null),onClick:()=>g.b.requestFullscreen()}))}render(){const e=this.props,t=e.project,n=e.eventsFunctionsExtensionsError,a=e.onReloadEventsFunctionsExtensions,o=this.state,r=o.renamedItemKind,c=o.renamedItemName,d=o.searchText,h=""!==d||void 0;return i.createElement("div",{style:he.container},i.createElement(l.a,{style:he.list},this._renderMenu(),i.createElement(pe,{primaryText:i.createElement(s.Trans,{id:"Game settings"}),leftIcon:i.createElement(p.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/projectManager32.png"}),initiallyOpen:!1,autoGenerateNestedIndicator:!0,indentNestedItems:!0,renderNestedItems:()=>[i.createElement(l.b,{key:"properties",primaryText:i.createElement(s.Trans,{id:"Properties"}),leftIcon:i.createElement(H.a,null),onClick:()=>this.setState({projectPropertiesDialogOpen:!0})}),i.createElement(l.b,{key:"global-variables",primaryText:i.createElement(s.Trans,{id:"Global variables"}),leftIcon:i.createElement($,null),onClick:()=>this.setState({projectVariablesEditorOpen:!0})}),i.createElement(l.b,{key:"icons",primaryText:i.createElement(s.Trans,{id:"Icons"}),leftIcon:i.createElement(K.a,null),onClick:()=>this.props.onOpenPlatformSpecificAssets()}),i.createElement(l.b,{key:"resources",primaryText:i.createElement(s.Trans,{id:"Resources"}),leftIcon:i.createElement(te.a,null),onClick:()=>{this.props.onOpenResources()}})]}),i.createElement(pe,{primaryText:i.createElement(s.Trans,{id:"Scenes"}),leftIcon:i.createElement(p.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/sceneadd32.png"}),initiallyOpen:!0,open:h,autoGenerateNestedIndicator:!h,renderNestedItems:()=>Object(P.e)(Object(P.d)(t),d).map((e,n)=>{const a=e.getName();return i.createElement(me,{key:n,primaryText:a,editingName:"layout"===r&&c===a,onEdit:()=>this.props.onOpenLayout(a),onDelete:()=>this.props.onDeleteLayout(e),addLabel:"Add a New Scene",onAdd:()=>this._addLayout(n),onRename:e=>{this.props.onRenameLayout(a,e),this._onEditName(null,"")},onEditName:()=>this._onEditName("layout",a),onCopy:()=>this._copyLayout(e),onCut:()=>this._cutLayout(e),onPaste:()=>this._pasteLayout(n),onDuplicate:()=>this._duplicateLayout(e,n),canPaste:()=>F.a.has("Layout"),canMoveUp:0!==n,onMoveUp:()=>this._moveUpLayout(n),canMoveDown:n!==t.getLayoutsCount()-1,onMoveDown:()=>this._moveDownLayout(n),buildExtraMenuTemplate:()=>[{label:"Edit Scene Properties",enabled:!0,click:()=>this._onOpenLayoutProperties(e)},{label:"Edit Scene Variables",enabled:!0,click:()=>this._onOpenLayoutVariables(e)}]})}).concat(i.createElement(m.a,{key:"add-scene",onClick:this.props.onAddLayout,primaryText:i.createElement(s.Trans,{id:"Click to add a scene"})}))}),i.createElement(pe,{primaryText:i.createElement(s.Trans,{id:"External events"}),leftIcon:i.createElement(p.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/externalevents32.png"}),initiallyOpen:!1,open:h,autoGenerateNestedIndicator:!h,renderNestedItems:()=>Object(P.e)(Object(P.b)(t),d).map((e,n)=>{const a=e.getName();return i.createElement(me,{key:n,primaryText:a,editingName:"external-events"===r&&c===a,onEdit:()=>this.props.onOpenExternalEvents(a),onDelete:()=>this.props.onDeleteExternalEvents(e),addLabel:"Add New External Events",onAdd:()=>this._addExternalEvents(n),onRename:e=>{this.props.onRenameExternalEvents(a,e),this._onEditName(null,"")},onEditName:()=>this._onEditName("external-events",a),onCopy:()=>this._copyExternalEvents(e),onCut:()=>this._cutExternalEvents(e),onPaste:()=>this._pasteExternalEvents(n),onDuplicate:()=>this._duplicateExternalEvents(e,n),canPaste:()=>F.a.has("External events"),canMoveUp:0!==n,onMoveUp:()=>this._moveUpExternalEvents(n),canMoveDown:n!==t.getExternalEventsCount()-1,onMoveDown:()=>this._moveDownExternalEvents(n)})}).concat(i.createElement(m.a,{key:"add-external-events",primaryText:i.createElement(s.Trans,{id:"Click to add external events"}),onClick:this.props.onAddExternalEvents}))}),i.createElement(pe,{primaryText:i.createElement(s.Trans,{id:"External layouts"}),leftIcon:i.createElement(p.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/externallayout32.png"}),initiallyOpen:!1,open:h,autoGenerateNestedIndicator:!h,renderNestedItems:()=>Object(P.e)(Object(P.c)(t),d).map((e,n)=>{const a=e.getName();return i.createElement(me,{key:n,primaryText:a,editingName:"external-layout"===r&&c===a,onEdit:()=>this.props.onOpenExternalLayout(a),onDelete:()=>this.props.onDeleteExternalLayout(e),addLabel:"Add a New External Layout",onAdd:()=>this._addExternalLayout(n),onRename:e=>{this.props.onRenameExternalLayout(a,e),this._onEditName(null,"")},onEditName:()=>this._onEditName("external-layout",a),onCopy:()=>this._copyExternalLayout(e),onCut:()=>this._cutExternalLayout(e),onPaste:()=>this._pasteExternalLayout(n),onDuplicate:()=>this._duplicateExternalLayout(e,n),canPaste:()=>F.a.has("External layout"),canMoveUp:0!==n,onMoveUp:()=>this._moveUpExternalLayout(n),canMoveDown:n!==t.getExternalLayoutsCount()-1,onMoveDown:()=>this._moveDownExternalLayout(n)})}).concat(i.createElement(m.a,{key:"add-external-layout",primaryText:i.createElement(s.Trans,{id:"Click to add an external layout"}),onClick:this.props.onAddExternalLayout}))}),i.createElement(pe,{primaryText:i.createElement(s.Trans,{id:"Functions/Behaviors"}),error:n,onRefresh:a,leftIcon:i.createElement(p.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/function32.png"}),initiallyOpen:!1,open:h,autoGenerateNestedIndicator:!h&&!n,renderNestedItems:()=>Object(P.e)(Object(P.a)(t),d).map((e,n)=>{const a=e.getName();return i.createElement(me,{key:n,primaryText:a,editingName:"events-functions-extension"===r&&c===a,onEdit:()=>this.props.onOpenEventsFunctionsExtension(a),onDelete:()=>this.props.onDeleteEventsFunctionsExtension(e),addLabel:"Add a New Extension",onAdd:()=>this._addEventsFunctionsExtension(n),onRename:e=>{this.props.onRenameEventsFunctionsExtension(a,e),this._onEditName(null,"")},onEditName:()=>this._onEditName("events-functions-extension",a),onCopy:()=>this._copyEventsFunctionsExtension(e),onCut:()=>this._cutEventsFunctionsExtension(e),onPaste:()=>this._pasteEventsFunctionsExtension(n),onDuplicate:()=>this._duplicateEventsFunctionsExtension(e,n),canPaste:()=>F.a.has("Events Functions Extension"),canMoveUp:0!==n,onMoveUp:()=>this._moveUpEventsFunctionsExtension(n),canMoveDown:n!==t.getEventsFunctionsExtensionsCount()-1,onMoveDown:()=>this._moveDownEventsFunctionsExtension(n)})}).concat(i.createElement(m.a,{key:"add-events-functions-extension",primaryText:i.createElement(s.Trans,{id:"Click to add functions and behaviors"}),onClick:this.props.onAddEventsFunctionsExtension})).concat(i.createElement(m.b,{key:"extensions-search",primaryText:i.createElement(s.Trans,{id:"Search for new extensions"}),onClick:()=>this.setState({extensionsSearchDialogOpen:!0})}))})),i.createElement(u.a,{ref:e=>this._searchBar=e,value:d,onRequestSearch:this._onRequestSearch,onChange:this._onSearchChange}),this.state.projectVariablesEditorOpen&&i.createElement(b.a,{title:i.createElement(s.Trans,{id:"Global Variables"}),open:!0,variablesContainer:t.getVariables(),onCancel:()=>this.setState({projectVariablesEditorOpen:!1}),onApply:()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.setState({projectVariablesEditorOpen:!1})},emptyExplanationMessage:i.createElement(s.Trans,{id:"Global variables are variables that are shared amongst all the scenes of the game."}),emptyExplanationSecondMessage:i.createElement(s.Trans,{id:"For example, you can have a variable called UnlockedLevelsCount representing the number of levels unlocked by the player."})}),this.state.projectPropertiesDialogOpen&&i.createElement(k,{open:this.state.projectPropertiesDialogOpen,project:t,onClose:()=>this.setState({projectPropertiesDialogOpen:!1}),onApply:()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.setState({projectPropertiesDialogOpen:!1})},onChangeSubscription:this.props.onChangeSubscription}),!!this.state.editedPropertiesLayout&&i.createElement(ue.a,{open:!0,layout:this.state.editedPropertiesLayout,project:this.props.project,onApply:()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this._onOpenLayoutProperties(null)},onClose:()=>this._onOpenLayoutProperties(null),onEditVariables:()=>{this._onOpenLayoutVariables(this.state.editedPropertiesLayout),this._onOpenLayoutProperties(null)}}),!!this.state.editedVariablesLayout&&i.createElement(de.a,{open:!0,layout:this.state.editedVariablesLayout,onClose:()=>this._onOpenLayoutVariables(null),onApply:()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this._onOpenLayoutVariables(null)}}),this.state.extensionsSearchDialogOpen&&i.createElement(V,{project:t,onClose:()=>this.setState({extensionsSearchDialogOpen:!1})}))}}},2297:function(e,t,n){"use strict";var a=n(78),o=n(72),s=n(2),i=n.n(s),r=n(82),l=n(2378),c=n(104),u=n(1969),d=n.n(u),h=n(195),p=n(5),m=n(75),g=n(101);const b={logo:{width:"100%"}};var f=()=>s.createElement(g.a,null,e=>s.createElement("img",{src:e.logo.src,alt:"",style:b.logo}));const E={flex:1,display:"flex",overflowY:"scroll"};var v=({children:e})=>s.createElement(g.a,null,t=>s.createElement("div",{style:Object(a.a)({},E,{backgroundColor:t.palette.canvasColor})},e)),y=n(84),C=n(83);const x={innerContainer:{display:"flex",flexDirection:"column",width:"100%",minHeight:350},centerContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",maxWidth:400},logoPaper:{marginBottom:10,width:"100%",textAlign:"center"}};class j extends h.a{constructor(){super(),this.state={aboutDialogOpen:!1}}getProject(){}updateToolbar(){this.props.setToolbar&&this.props.setToolbar(null)}forceUpdateEditor(){}render(){const e=this.props,t=e.project,n=e.canOpen,s=e.onOpen,u=e.onCreate,h=e.onOpenProjectManager,g=e.onCloseProject,b=e.onOpenAboutDialog,E=e.onOpenHelpFinder,j=e.onOpenLanguageDialog;return i.a.createElement(o.I18n,null,({i18n:e})=>i.a.createElement(v,null,i.a.createElement("div",{style:x.innerContainer},i.a.createElement(m.b,{expand:!0,justifyContent:"center"},i.a.createElement("div",{style:x.centerContainer},i.a.createElement(l.a,{elevation:2,style:Object(a.a)({},x.logoPaper)},i.a.createElement(f,null),i.a.createElement(C.a,null,i.a.createElement(o.Trans,{id:"GDevelop is an easy-to-use game creator with no programming language to learn."}))),!t&&n&&i.a.createElement(i.a.Fragment,null,i.a.createElement(y.a,{label:i.a.createElement(o.Trans,{id:"Open a project"}),fullWidth:!0,onClick:s,primary:!0}),i.a.createElement(m.c,null)),!t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(y.a,{label:i.a.createElement(o.Trans,{id:"Create a new project"}),fullWidth:!0,onClick:u,primary:!0}),i.a.createElement(m.c,null)),!!t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(y.a,{label:i.a.createElement(o.Trans,{id:"Open Project Manager"}),fullWidth:!0,onClick:h,primary:!0}),i.a.createElement(m.c,null)),!!t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(r.a,{label:i.a.createElement(o.Trans,{id:"Close project"}),fullWidth:!0,onClick:g}),i.a.createElement(m.c,null)),i.a.createElement(r.a,{label:i.a.createElement(o.Trans,{id:"Search the documentation"}),fullWidth:!0,onClick:E}))),i.a.createElement(m.b,{alignItems:"center",justifyContent:"space-between"},i.a.createElement(m.b,null,i.a.createElement(r.a,{label:i.a.createElement(o.Trans,{id:"About GDevelop"}),onClick:b}),i.a.createElement(r.a,{label:i.a.createElement(o.Trans,{id:"GDevelop Forums"}),onClick:()=>p.b.openExternalURL("https://forum.gdevelop-app.com")}),i.a.createElement(r.a,{label:i.a.createElement(o.Trans,{id:"Help and tutorials"}),onClick:()=>p.b.openExternalURL("http://wiki.compilgames.net/doku.php/gdevelop5/start")})),i.a.createElement(m.b,{alignItems:"center"},i.a.createElement(r.a,{label:e.language,onClick:j,icon:i.a.createElement(d.a,null)}),i.a.createElement(c.a,{className:"icon-facebook",onClick:()=>p.b.openExternalURL("https://www.facebook.com/GDevelopApp")}),i.a.createElement(c.a,{className:"icon-twitter",onClick:()=>p.b.openExternalURL("https://twitter.com/GDevelopApp")}),i.a.createElement(c.a,{className:"icon-discord",onClick:()=>p.b.openExternalURL("https://discord.gg/rjdYHvj")}))))))}}t.a=j},2298:function(e,t,n){"use strict";var a=n(127),o=n(72),s=n(2),i=n.n(s),r=n(86),l=n(82),c=n(2378),u=n(373),d=n(301),h=n(302),p=n(374);const m={flex:1,display:"flex",flexDirection:"column"};class g extends s.Component{constructor(...e){super(...e),this.instructionsInfo=Object(p.a)(Object(h.a)(this.props.isCondition),this.props.scope),this.instructionsInfoTree=Object(d.a)(this.instructionsInfo)}render(){const e=this.props,t=(e.isCondition,e.scope,Object(a.a)(e,["isCondition","scope"]));return i.a.createElement(u.a,Object.assign({style:m,instructionsInfo:this.instructionsInfo,instructionsInfoTree:this.instructionsInfoTree,iconSize:24},t))}}var b=n(508);const f={container:{display:"flex",flex:1},parametersEditor:{flex:2,display:"flex",paddingLeft:16,paddingRight:16,zIndex:1}};class E extends s.Component{constructor(...e){super(...e),this.chooseType=e=>{this.props.instruction.setType(e),this.forceUpdate(()=>{this._instructionParametersEditor&&this._instructionParametersEditor.focus()})}}render(){const e=this.props,t=e.instruction,n=e.isCondition,a=e.project,o=e.globalObjectsContainer,i=e.objectsContainer,r=e.scope;return s.createElement("div",{style:f.container},s.createElement(g,{isCondition:n,selectedType:t.getType(),onChoose:this.chooseType,focusOnMount:!t.getType(),scope:r}),s.createElement(c.a,{style:f.parametersEditor,square:!0,elevation:2},s.createElement(b.a,{project:a,scope:r,globalObjectsContainer:o,objectsContainer:i,isCondition:n,instruction:t,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,ref:e=>this._instructionParametersEditor=e,focusOnMount:t.getType()})))}}n.d(t,"a",(function(){return v}));class v extends s.Component{render(){const e=this.props,t=(e.isNewInstruction,e.onCancel),n=e.onSubmit,i=e.open,c=Object(a.a)(e,["isNewInstruction","onCancel","onSubmit","open"]),u=[s.createElement(l.a,{key:"cancel",label:s.createElement(o.Trans,{id:"Cancel"}),primary:!1,onClick:t}),s.createElement(l.a,{key:"ok",label:s.createElement(o.Trans,{id:"Ok"}),primary:!0,keyboardFocused:!1,onClick:n})];return s.createElement(r.a,{actions:u,open:i,cannotBeDismissed:!0,onRequestClose:t,maxWidth:!1,flexBody:!0,noMargin:!0},s.createElement(E,c))}}},2299:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n.n(o),i=n(141),r=n.n(i),l=n(104),c=n(589),u=s.a.memo(e=>s.a.createElement(c.a,e,s.a.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}))),d=s.a.memo(e=>s.a.createElement(c.a,e,s.a.createElement("path",{d:"M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"}))),h=n(190),p=n.n(h),m=n(75),g=n(84);t.a=({onAdd:e,onCopy:t,hasSelection:n,onPaste:o,hasClipboard:i,onDeleteSelection:c})=>s.a.createElement(m.b,{justifyContent:"space-between",alignItems:"center"},s.a.createElement(m.a,null,s.a.createElement(m.b,{noMargin:!0},s.a.createElement(l.a,{size:"small",onClick:t,disabled:!n},s.a.createElement(u,null)),s.a.createElement(l.a,{size:"small",onClick:o,disabled:!i},s.a.createElement(d,null)),s.a.createElement(l.a,{size:"small",onClick:c,disabled:!n},s.a.createElement(p.a,null)))),s.a.createElement(m.a,null,s.a.createElement(g.a,{primary:!0,label:s.a.createElement(a.Trans,{id:"Add"}),onClick:e,icon:s.a.createElement(r.a,null)})))},2300:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(86),i=n(82),r=n(5),l=n(78),c=n(94),u=n(100),d=n(75),h=n(1950),p=n.n(h),m=n(248),g=n.n(m),b=n(83);const f={maxHeight:300,overflowY:"scroll"},E=e=>e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x27;/g,"'"),v={hitsPerPage:5};class y extends o.Component{constructor(...e){super(...e),this.client=p()("BH4D9OD16A","69c73fc1a710bb79543d4b91f6b81c08",v),this.state={results:null,error:null},this._handleSearchTextChange=e=>{this.props.onChange(e)},this._launchSearchRequest=g()(()=>{this.props.value&&this.client.search([{indexName:"gdevelop",query:this.props.value,params:v}]).then(e=>{let t=e.results[0].hits;console.log(t),this.setState({results:t,error:null})},e=>{this.setState({error:e})})},200),this._renderResult=e=>{const t=e.hierarchy.lvl0||e.hierarchy.lvl1||e.hierarchy.lvl2||e.hierarchy.lvl3||e.hierarchy.lvl4||e.hierarchy.lvl5||e.hierarchy.lvl6||"",n=[e.hierarchy.lvl0,e.hierarchy.lvl1,e.hierarchy.lvl2,e.hierarchy.lvl3,e.hierarchy.lvl4,e.hierarchy.lvl5,e.hierarchy.lvl6].filter(e=>!!e).filter(e=>e!==t).join(" - ");return o.createElement(u.b,{key:e.objectID,primaryText:E(t),secondaryText:E(e.content||n),secondaryTextLines:2,onClick:()=>{r.b.openExternalURL(e.url)}})}}componentDidUpdate(e){e.value!==this.props.value&&this.props.value&&this._launchSearchRequest()}render(){return o.createElement("div",null,o.createElement(c.b,{id:"help-finder-search-bar",fullWidth:!0,hintText:{id:"Enter what you want to build."},value:this.props.value,onChange:(e,t)=>this.props.onChange(t)}),o.createElement("div",{id:"help-finder-dropdown-menu-container",className:"algolia-autocomplete",style:Object(l.a)({},f,{visibility:this.props.value?void 0:"hidden"})}),this.state.error?o.createElement(b.a,null,o.createElement(a.Trans,{id:"Unable to search in the documentation. Are you sure you are online and have a proper internet connection?"})):this.state.results?o.createElement(u.a,null,this.state.results.map(e=>this._renderResult(e))):o.createElement(o.Fragment,null,o.createElement(b.a,null,o.createElement(a.Trans,{id:"Examples:"})),o.createElement(d.a,{expand:!0},o.createElement(b.a,null,"Coins in platformer",o.createElement("br",null),"Export on Android",o.createElement("br",null),"Add a score",o.createElement("br",null),"Move enemies",o.createElement("br",null),"...",o.createElement("br",null)))),o.createElement(b.a,{align:"right"},"This search is powered by"," ",o.createElement(i.a,{onClick:()=>r.b.openExternalURL("http://algolia.com/"),label:"Algolia"})))}}var C=n(8);n.d(t,"a",(function(){return x}));class x extends o.PureComponent{constructor(...e){super(...e),this.state={searchText:""},this._handleSearchTextChange=e=>{this.setState({searchText:e}),this._sendHelpSearch()},this._sendHelpSearch=g()(()=>{this.state.searchText&&Object(C.g)(this.state.searchText.trim())},2900)}componentWillReceiveProps(e){e.open&&!this.props.open&&Object(C.f)()}render(){const e=this.props,t=e.open,n=e.onClose;return o.createElement(s.a,{title:o.createElement(a.Trans,{id:"Help!"}),onRequestClose:n,actions:[o.createElement(i.a,{label:o.createElement(a.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n})],secondaryActions:[o.createElement(i.a,{key:"forum",primary:!1,onClick:()=>{r.b.openExternalURL("https://forum.gdevelop-app.com")},label:o.createElement(a.Trans,{id:"Community forum"})}),o.createElement(i.a,{key:"wiki",primary:!1,onClick:()=>{r.b.openExternalURL("http://wiki.compilgames.net/doku.php/gdevelop5/start")},label:o.createElement(a.Trans,{id:"Wiki"})})],cannotBeDismissed:!1,open:t},o.createElement(y,{value:this.state.searchText,onChange:this._handleSearchTextChange}))}}},2301:function(e,t,n){"use strict";var a=n(78),o=n(72),s=n(2),i=n.n(s),r=n(2408),l=n(2409),c=n(2410),u=n(2411),d=n(82),h=n(86),p=n(283),m=n(75),g=n(400),b=n(84),f=n(1975),E=n.n(f),v=n(92),y=n(20),C=n(284),x=n(219),j=n(8),S=n(2396),T=n(175),O=n(1974),w=n.n(O),N=n(83);function _({onClose:e,userProfile:t}){const n=!!t&&!!t.subscription&&!!t.subscription.planId;return function(e,t){const n=Object(s.useRef)();Object(s.useEffect)(()=>{n.current=e}),Object(s.useEffect)(()=>{if(null!==t){let e=setInterval((function(){n.current&&n.current()}),t);return()=>clearInterval(e)}},[t])}(()=>t.onRefreshUserProfile(),n?null:3900),i.a.createElement(h.a,{actions:[n?i.a.createElement(b.a,{label:i.a.createElement(o.Trans,{id:"Done!"}),key:"close",primary:!0,onClick:e}):i.a.createElement(d.a,{label:i.a.createElement(o.Trans,{id:"Cancel and close"}),key:"close",primary:!1,onClick:e})],title:void 0,maxWidth:"sm",cannotBeDismissed:!0,open:!0,noMargin:!0},!n&&i.a.createElement(m.a,null,i.a.createElement(m.b,null,i.a.createElement(N.a,null,i.a.createElement(o.Trans,{id:"Thanks for getting a subscription and supporting GDevelop!"})," ","\u2764\ufe0f",i.a.createElement("b",null,i.a.createElement(o.Trans,{id:"Your browser will now open to enter your payment details (handled securely by Stripe.com)."})))),i.a.createElement(m.b,{justifyContent:"center",alignItems:"center"},i.a.createElement(S.a,{size:20}),i.a.createElement(m.c,null),i.a.createElement(N.a,null,"Waiting for the subscription confirmation...")),i.a.createElement(m.c,null),i.a.createElement(m.b,{justifyContent:"center"},i.a.createElement(T.a,null,i.a.createElement(o.Trans,{id:"Once you're done, come back to GDevelop and your account will be upgraded automatically, unlocking the extra exports and online services."})))),n&&i.a.createElement(m.a,null,i.a.createElement(m.b,null,i.a.createElement(N.a,null,i.a.createElement(o.Trans,{id:"Thanks for getting a subscription and supporting GDevelop!"})," ","\u2764\ufe0f")),i.a.createElement(m.b,{justifyContent:"center",alignItems:"center"},i.a.createElement(w.a,null),i.a.createElement(m.c,null),i.a.createElement(N.a,null,i.a.createElement("b",null,i.a.createElement(o.Trans,{id:"Your new plan is now activated"})))),i.a.createElement(m.c,null),i.a.createElement(m.b,{justifyContent:"center"},i.a.createElement(T.a,null,i.a.createElement(o.Trans,{id:"Your account is upgraded, with the extra exports and online services. If you wish to change later, come back to your profile and choose another plan."})))))}var k=n(5),P=n(101);n.d(t,"a",(function(){return F}));const I={descriptionText:{marginLeft:16,marginRight:16},card:{margin:16},actions:{textAlign:"right",display:"flex",justifyContent:"flex-end"},bulletIcon:{width:20,height:20,marginLeft:5,marginRight:10},bulletText:{flex:1}};class F extends s.Component{constructor(...e){super(...e),this.state={isLoading:!1,subscriptionPendingDialogOpen:!1},this.choosePlan=(e,t,n)=>{const a=t.getAuthorizationHeader,o=t.subscription,s=t.profile;if(s&&o)if(Object(j.b)(n.planId),o.stripeSubscriptionId){if(!k.b.showConfirmDialog(n.planId?e._({id:"Are you sure you want to subscribe to this new plan?"}):e._({id:"Are you sure you want to cancel your subscription?"})))return;this.setState({isLoading:!0}),Object(g.a)(a,s.uid,{planId:n.planId}).then(()=>this.handleUpdatedSubscriptionSuccess(e,t,n),t=>this.handleUpdatedSubscriptionFailure(e,t))}else this.setState({subscriptionPendingDialogOpen:!0}),k.b.openExternalURL(Object(g.b)(n.planId||"",s.uid,s.email||""))},this.handleUpdatedSubscriptionSuccess=(e,t,n)=>{t.onRefreshUserProfile(),this.setState({isLoading:!1}),n.planId?Object(y.b)(e._({id:"Congratulations, your new subscription is now active!\\n\\nYou can now use the services unlocked with this plan."})):Object(y.b)(e._({id:"Your subscription was properly cancelled. Sorry to see you go!"}))},this.handleUpdatedSubscriptionFailure=(e,t)=>{this.setState({isLoading:!1}),Object(y.a)(e._({id:"Your subscription could not be updated. Please try again later!"}),t)},this._isLoading=e=>!e.subscription||!e.profile||this.state.isLoading}componentDidMount(){this.props.open&&Object(j.m)()}componentWillReceiveProps(e){!this.props.open&&e.open&&Object(j.m)()}_renderPrice(e){return e.monthlyPriceInEuros?s.createElement(o.Trans,{id:"{0}\u20ac/month",values:{0:e.monthlyPriceInEuros}}):s.createElement(o.Trans,{id:"Free"})}render(){const e=this.props,t=e.open,n=e.onClose,i=this.state.subscriptionPendingDialogOpen;return s.createElement(o.I18n,null,({i18n:e})=>s.createElement(p.a.Consumer,null,p=>s.createElement(P.a,null,f=>s.createElement(h.a,{actions:[s.createElement(d.a,{label:s.createElement(o.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n})],onRequestClose:n,cannotBeDismissed:!0,open:t,noMargin:!0},s.createElement(m.a,null,s.createElement(m.b,null,s.createElement(N.a,null,s.createElement(o.Trans,{id:"Get a subscription to package your games for Android, Windows, macOS and Linux, use live preview over wifi and more. With a subscription, you're also supporting the development of GDevelop, which is an open-source software."})))),Object(g.d)().map(t=>s.createElement(r.a,{key:t.planId||"",style:I.card},s.createElement(l.a,{title:s.createElement("span",null,s.createElement("b",null,t.name)," - ",this._renderPrice(t)),subheader:t.smallDescription?e._(t.smallDescription):""}),s.createElement(c.a,null,t.descriptionBullets.map((n,i)=>s.createElement(m.a,{key:i,expand:!0},s.createElement(m.b,{noMargin:!0,alignItems:"center"},p.subscription&&p.subscription.planId===t.planId?s.createElement(E.a,{style:Object(a.a)({},I.bulletIcon,{color:f.message.valid})}):s.createElement(E.a,{style:I.bulletIcon}),s.createElement(N.a,{style:I.bulletText},e._(n.message)," ",n.isLocalAppOnly&&s.createElement(o.Trans,{id:"(on the desktop app only)"}))))),s.createElement(N.a,{style:I.descriptionText},t.extraDescription?e._(t.extraDescription):"")),s.createElement(u.a,{style:I.actions},p.subscription&&p.subscription.planId===t.planId?s.createElement(d.a,{disabled:!0,label:s.createElement(o.Trans,{id:"This is your current plan"}),onClick:()=>this.choosePlan(e,p,t)}):t.planId?s.createElement(C.a,{isLoading:this._isLoading(p)},s.createElement(b.a,{primary:!0,disabled:this._isLoading(p),label:s.createElement(o.Trans,{id:"Choose this plan"}),onClick:()=>this.choosePlan(e,p,t)})):s.createElement(C.a,{isLoading:this._isLoading(p)},s.createElement(d.a,{disabled:this._isLoading(p),label:s.createElement(o.Trans,{id:"Cancel your subscription"}),onClick:()=>this.choosePlan(e,p,t)}))))),s.createElement(m.a,null,s.createElement(m.b,null,s.createElement(v.a,null,s.createElement(o.Trans,{id:"Subscriptions can be stopped at any time. GDevelop uses Stripe.com for secure payment. No credit card data is stored by GDevelop: everything is managed by Stripe secure infrastructure."})))),!p.authenticated&&s.createElement(x.a,null,s.createElement(N.a,null,s.createElement(o.Trans,{id:"Create a GDevelop account to continue. It's free and you'll be able to access to online services like one-click build for Android:"})),s.createElement(b.a,{label:s.createElement(o.Trans,{id:"Create my account"}),primary:!0,onClick:p.onLogin}),s.createElement(d.a,{label:s.createElement(o.Trans,{id:"Not now, thanks"}),onClick:n})),i&&s.createElement(_,{userProfile:p,onClose:()=>{this.setState({subscriptionPendingDialogOpen:!1},()=>p.onRefreshUserProfile())}})))))}}},2302:function(e,t,n){"use strict";var a=n(2),o=n(72),s=n(86),i=n(82),r=n(913),l=n(83);class c extends a.Component{render(){const e=this.props,t=e.open,n=e.onClose;if(!t)return null;const c=[a.createElement(i.a,{key:"close",label:a.createElement(o.Trans,{id:"Close"}),primary:!0,onClick:n})];return a.createElement(s.a,{title:a.createElement(o.Trans,{id:"What's new in GDevelop?"}),actions:c,open:t,onRequestClose:n,cannotBeDismissed:!1},a.createElement(l.a,null,a.createElement(o.Trans,{id:"GDevelop was upgraded to a new version! Check out the changes."})),a.createElement(r.a,{onUpdated:()=>{this.forceUpdate()}}))}}var u=n(120);class d extends a.Component{constructor(...e){super(...e),this.state={open:this.props.defaultOpen}}render(){const e=this.state.open;return a.createElement(c,{open:e,onClose:()=>this.setState({open:!1})})}}t.a=e=>a.createElement(u.b.Consumer,null,({values:e,verifyIfIsNewVersion:t})=>a.createElement(d,{defaultOpen:t()&&e.autoDisplayChangelog}))},2304:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(198),i=n(402),r=n(150),l=n(20),c=n(124),u=n(133),d=n(90);var h=n(208),p=n(5),m=n(114);n.d(t,"a",(function(){return f}));const g={listContainer:{flex:1}},b=e=>e.getName();class f extends o.Component{constructor(...e){super(...e),this.state={renamedEventsFunction:null,searchText:""},this._deleteEventsFunction=(e,{askForConfirmation:t})=>{const n=this.props.eventsFunctionsContainer;if(t){if(!p.b.showConfirmDialog("Are you sure you want to remove this function? This can't be undone."))return}this.props.onDeleteEventsFunction(e,t=>{t&&(n.removeEventsFunction(e.getName()),this._onEventsFunctionModified())})},this._editName=e=>{this.setState({renamedEventsFunction:e},()=>{this.sortableList&&this.sortableList.forceUpdateGrid()})},this._rename=(e,t)=>{const n=this.props.eventsFunctionsContainer;this.setState({renamedEventsFunction:null}),e.getName()!==t&&(n.hasEventsFunctionNamed(t)?Object(l.c)("Another function with this name already exists."):this.props.onRenameEventsFunction(e,t,n=>{n&&(e.setName(t),this._onEventsFunctionModified())}))},this._moveSelectionTo=e=>{const t=this.props,n=t.eventsFunctionsContainer,a=t.selectedEventsFunction;a&&(n.moveEventsFunction(n.getEventsFunctionPosition(a),n.getEventsFunctionPosition(e)),this.forceUpdateList())},this.forceUpdateList=()=>{this._onEventsFunctionModified(),this.sortableList&&this.sortableList.forceUpdateGrid()},this._copyEventsFunction=e=>{h.a.set("Events Function",{eventsFunction:Object(m.b)(e),name:e.getName()})},this._cutEventsFunction=e=>{this._copyEventsFunction(e),this._deleteEventsFunction(e,{askForConfirmation:!1})},this._pasteEventsFunction=e=>{if(!h.a.has("Events Function"))return;const t=h.a.get("Events Function"),n=t.eventsFunction,a=t.name,o=this.props,s=o.project,i=o.eventsFunctionsContainer,r=Object(u.a)(a,e=>i.hasEventsFunctionNamed(e)),l=i.insertNewEventsFunction(r,e);Object(m.c)(l,n,"unserializeFrom",s),l.setName(r),this.props.onEventsFunctionAdded(l),this._onEventsFunctionModified()},this._renderEventsFunctionMenuTemplate=(e,t)=>[{label:"Rename",click:()=>this._editName(e),enabled:this.props.canRename(e)},{label:"Remove",click:()=>this._deleteEventsFunction(e,{askForConfirmation:!0})},{type:"separator"},{label:"Copy",click:()=>this._copyEventsFunction(e)},{label:"Cut",click:()=>this._cutEventsFunction(e)},{label:"Paste",enabled:h.a.has("Events Function"),click:()=>this._pasteEventsFunction(t)}],this._addNewEventsFunction=()=>{const e=this.props.eventsFunctionsContainer;this.props.onAddEventsFunction(t=>{if(!t)return;const n=t.name||Object(u.a)("Function",t=>e.hasEventsFunctionNamed(t)),a=e.insertNewEventsFunction(n,e.getEventsFunctionsCount());a.setFunctionType(t.functionType),this.props.onEventsFunctionAdded(a),this._onEventsFunctionModified()})}}_onEventsFunctionModified(){this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}render(){const e=this.props,t=e.project,n=e.eventsFunctionsContainer,l=e.selectedEventsFunction,u=e.onSelectEventsFunction,h=e.renderHeader,p=this.state.searchText,m=((e,t)=>{if(!t)return e;const n=t.toLowerCase();return e.filter(e=>-1!==e.getName().toLowerCase().indexOf(n))})((e=>Object(d.mapFor)(0,e.getEventsFunctionsCount(),t=>e.getEventsFunctionAt(t)))(n),p),f=t.ptr+";"+n.ptr;return o.createElement(c.a,null,h?h():null,o.createElement("div",{style:g.listContainer},o.createElement(s.a,null,({height:e,width:t})=>o.createElement(i.a,{key:f,ref:e=>this.sortableList=e,fullList:m,width:t,height:e,onAddNewItem:this._addNewEventsFunction,addNewItemLabel:o.createElement(a.Trans,{id:"Add a new function"}),getItemName:b,selectedItems:l?[l]:[],onItemSelected:u,renamedItem:this.state.renamedEventsFunction,onRename:this._rename,onMoveSelectionToItem:this._moveSelectionTo,buildMenuTemplate:this._renderEventsFunctionMenuTemplate,reactDndType:"GD_EVENTS_FUNCTION"}))),o.createElement(r.a,{value:p,onRequestSearch:()=>{},onChange:e=>this.setState({searchText:e})}))}}f.defaultProps={onDeleteEventsFunction:(e,t)=>t(!0),onRenameEventsFunction:(e,t,n)=>n(!0)}},2305:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(198),i=n(402),r=n(150),l=n(20),c=n(124),u=n(133),d=n(90);var h=n(208),p=n(5),m=n(114);n.d(t,"a",(function(){return f}));const g={listContainer:{flex:1}},b=e=>e.getName();class f extends o.Component{constructor(...e){super(...e),this.state={renamedEventsBasedBehavior:null,searchText:""},this._deleteEventsBasedBehavior=(e,{askForConfirmation:t})=>{const n=this.props.eventsBasedBehaviorsList;if(t){if(!p.b.showConfirmDialog("Are you sure you want to remove this behavior? This can't be undone."))return}this.props.onDeleteEventsBasedBehavior(e,t=>{t&&(n.remove(e.getName()),this._onEventsBasedBehaviorModified())})},this._editName=e=>{this.setState({renamedEventsBasedBehavior:e},()=>{this.sortableList&&this.sortableList.forceUpdateGrid()})},this._rename=(e,t)=>{const n=this.props.eventsBasedBehaviorsList;this.setState({renamedEventsBasedBehavior:null}),e.getName()!==t&&(n.has(t)?Object(l.c)("Another behavior with this name already exists."):this.props.onRenameEventsBasedBehavior(e,t,n=>{n&&(e.setName(t),this._onEventsBasedBehaviorModified(),this.props.onEventsBasedBehaviorRenamed(e))}))},this._moveSelectionTo=e=>{const t=this.props,n=t.eventsBasedBehaviorsList,a=t.selectedEventsBasedBehavior;a&&(n.move(n.getPosition(a),n.getPosition(e)),this.forceUpdateList())},this.forceUpdateList=()=>{this._onEventsBasedBehaviorModified(),this.sortableList&&this.sortableList.forceUpdateGrid()},this._copyEventsBasedBehavior=e=>{h.a.set("Events Based Behavior",{eventsBasedBehavior:Object(m.b)(e),name:e.getName()})},this._cutEventsBasedBehavior=e=>{this._copyEventsBasedBehavior(e),this._deleteEventsBasedBehavior(e,{askForConfirmation:!1})},this._pasteEventsBasedBehavior=e=>{if(!h.a.has("Events Based Behavior"))return;const t=h.a.get("Events Based Behavior"),n=t.eventsBasedBehavior,a=t.name,o=this.props,s=o.project,i=o.eventsBasedBehaviorsList,r=Object(u.a)(a,e=>i.has(e)),l=i.insertNew(r,e);Object(m.c)(l,n,"unserializeFrom",s),l.setName(r),this._onEventsBasedBehaviorModified()},this._renderEventsBasedBehaviorMenuTemplate=(e,t)=>[{label:"Properties",click:()=>this.props.onEditProperties(e)},{type:"separator"},{label:"Rename",click:()=>this._editName(e)},{label:"Remove",click:()=>this._deleteEventsBasedBehavior(e,{askForConfirmation:!0})},{type:"separator"},{label:"Copy",click:()=>this._copyEventsBasedBehavior(e)},{label:"Cut",click:()=>this._cutEventsBasedBehavior(e)},{label:"Paste",enabled:h.a.has("Events Based Behavior"),click:()=>this._pasteEventsBasedBehavior(t)}],this._addNewEventsBasedBehavior=()=>{const e=this.props.eventsBasedBehaviorsList,t=Object(u.a)("MyBehavior",t=>e.has(t));e.insertNew(t,e.getCount()),this._onEventsBasedBehaviorModified()}}_onEventsBasedBehaviorModified(){this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}render(){const e=this.props,t=e.project,n=e.eventsBasedBehaviorsList,l=e.selectedEventsBasedBehavior,u=e.onSelectEventsBasedBehavior,h=this.state.searchText,p=((e,t)=>{if(!t)return e;const n=t.toLowerCase();return e.filter(e=>-1!==e.getName().toLowerCase().indexOf(n))})((m=n,Object(d.mapVector)(m,e=>e)),h);var m;const f=t.ptr+";"+n.ptr;return o.createElement(c.a,null,o.createElement("div",{style:g.listContainer},o.createElement(s.a,null,({height:e,width:t})=>o.createElement(i.a,{key:f,ref:e=>this.sortableList=e,fullList:p,width:t,height:e,onAddNewItem:this._addNewEventsBasedBehavior,addNewItemLabel:o.createElement(a.Trans,{id:"Add a new behavior"}),getItemName:b,selectedItems:l?[l]:[],onItemSelected:u,renamedItem:this.state.renamedEventsBasedBehavior,onRename:this._rename,onMoveSelectionToItem:this._moveSelectionTo,buildMenuTemplate:this._renderEventsBasedBehaviorMenuTemplate,reactDndType:"GD_EVENTS_BASED_BEHAVIOR"}))),o.createElement(r.a,{value:h,onRequestSearch:()=>{},onChange:e=>this.setState({searchText:e})}))}}f.defaultProps={onDeleteEventsBasedBehavior:(e,t)=>t(!0),onRenameEventsBasedBehavior:(e,t,n)=>n(!0)}},2306:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n.n(o),i=n(869),r=n.n(i),l=n(82),c=n(145),u=n(672),d=n.n(u),h=n(870),p=n.n(h),m=n(94),g=n(86),b=n(75),f=n(310),E=n(613),v=n.n(E),y=n(1916),C=n.n(y),x=n(83);const j={timeField:{width:75},timeIcon:{paddingLeft:6,paddingRight:8}};class S extends o.Component{constructor(...e){super(...e),this.state={currentFrameIndex:0,currentFrameElapsedTime:0,paused:!1,fps:Math.round(1/this.props.timeBetweenFrames)},this.nextUpdate=null,this.replay=()=>this.setState({currentFrameIndex:0,currentFrameElapsedTime:0,paused:!1}),this.play=()=>this.setState({paused:!1}),this.pause=()=>this.setState({paused:!0}),this._updateAnimation=()=>{const e=this.props,t=e.spritesContainer,n=e.timeBetweenFrames,a=this.state;let o=a.currentFrameIndex,s=a.currentFrameElapsedTime;if(s+=a.paused?0:1/60*1,s>n){const e=Math.floor(s/n);o+=e,s-=e*n,s<0&&(s=0)}o>=t.getSpritesCount()&&(o=t.isLooping()?o%t.getSpritesCount():t.getSpritesCount()-1),o<0&&(o=0),this.setState({currentFrameIndex:o,currentFrameElapsedTime:s}),this.nextUpdate=requestAnimationFrame(this._updateAnimation)}}componentDidMount(){this.nextUpdate=requestAnimationFrame(this._updateAnimation)}componentWillUnmount(){this.nextUpdate&&cancelAnimationFrame(this.nextUpdate)}render(){const e=this.props,t=e.spritesContainer,n=e.resourcesLoader,o=e.project,i=e.timeBetweenFrames,c=e.onChangeTimeBetweenFrames,u=this.state,d=u.currentFrameIndex,h=u.paused,g=u.fps,E=d<t.getSpritesCount()?t.getSprite(d):null;return s.a.createElement("div",null,s.a.createElement(f.a,{resourceName:E?E.getImageName():"",resourcesLoader:n,project:o}),s.a.createElement(b.b,{noMargin:!0,alignItems:"center"},s.a.createElement(x.a,null,s.a.createElement(a.Trans,{id:"FPS:"})),s.a.createElement(b.c,null),s.a.createElement(m.b,{margin:"none",value:g,onChange:(e,t)=>{const n=parseFloat(t);n>0&&(this.setState({fps:n}),c(parseFloat((1/n).toFixed(4))),this.replay())},id:"direction-time-between-frames",type:"number",step:1,min:1,max:100,style:j.timeField,autoFocus:!0}),s.a.createElement(r.a,{style:j.timeIcon}),s.a.createElement(m.b,{margin:"none",value:i,onChange:(e,t)=>{const n=parseFloat(t);n>0&&(this.setState({fps:Math.round(1/n)}),c(n),this.replay())},id:"direction-time-between-frames",type:"number",step:.005,precision:2,min:.01,max:5,style:j.timeField}),s.a.createElement(l.a,{icon:s.a.createElement(v.a,null),label:s.a.createElement(a.Trans,{id:"Replay"}),onClick:this.replay}),s.a.createElement(l.a,{icon:h?s.a.createElement(p.a,null):s.a.createElement(C.a,null),label:h?"Play":"Pause",onClick:h?this.play:this.pause})))}}n(112);var T=n(156);n.d(t,"a",(function(){return N}));const O={container:{paddingLeft:12,paddingRight:12,display:"flex",alignItems:"center"},timeField:{width:75},timeIcon:{paddingLeft:6,paddingRight:6},spacer:{width:16}},w=e=>Number(e.toFixed(6));class N extends o.Component{constructor(...e){super(...e),this.state={timeBetweenFrames:w(this.props.direction.getTimeBetweenFrames()),timeError:!1,previewOpen:!1},this.saveTimeBetweenFrames=()=>{const e=this.props.direction,t=Math.max(parseFloat(this.state.timeBetweenFrames),1e-5),n=!isNaN(t);n&&e.setTimeBetweenFrames(t),this.setState({timeBetweenFrames:w(this.props.direction.getTimeBetweenFrames()),timeError:n})},this.setLooping=e=>{this.props.direction.setLoop(!!e),this.forceUpdate()},this.openPreview=e=>{this.setState({previewOpen:e}),e||this.saveTimeBetweenFrames()}}componentWillReceiveProps(e){this.setState({timeBetweenFrames:w(this.props.direction.getTimeBetweenFrames()),timeError:!1})}render(){const e=this.props,t=e.direction,n=e.resourcesLoader,o=e.project,i=e.resourceExternalEditors,u=e.onEditWith,h=i.filter(({kind:e})=>"image"===e);return s.a.createElement("div",{style:O.container},s.a.createElement(T.a,null,e=>"small"!==e&&!!h.length&&s.a.createElement(l.a,{label:h[0].displayName,icon:s.a.createElement(d.a,null),onClick:()=>u(h[0])})),s.a.createElement(l.a,{label:s.a.createElement(a.Trans,{id:"Preview"}),icon:s.a.createElement(p.a,null),onClick:()=>this.openPreview(!0)}),s.a.createElement(r.a,{style:O.timeIcon}),s.a.createElement(m.b,{value:this.state.timeBetweenFrames,onChange:(e,t)=>this.setState({timeBetweenFrames:parseFloat(t)||0}),onBlur:()=>this.saveTimeBetweenFrames(),id:"direction-time-between-frames",margin:"none",style:O.timeField,type:"number",step:.005,precision:2,min:.01,max:5}),s.a.createElement("span",{style:O.spacer}),s.a.createElement(c.a,{checked:t.isLooping(),label:s.a.createElement(a.Trans,{id:"Loop"}),onCheck:(e,t)=>this.setLooping(t)}),this.state.previewOpen&&s.a.createElement(g.a,{actions:s.a.createElement(l.a,{label:s.a.createElement(a.Trans,{id:"OK"}),primary:!0,onClick:()=>this.openPreview(!1),key:"ok"}),noMargin:!0,cannotBeDismissed:!1,onRequestClose:()=>this.openPreview(!1),open:this.state.previewOpen},s.a.createElement(S,{spritesContainer:t,resourcesLoader:n,project:o,timeBetweenFrames:this.state.timeBetweenFrames,onChangeTimeBetweenFrames:e=>this.setState({timeBetweenFrames:e})})))}}},2308:function(e,t,n){"use strict";var a=n(2),o=n(131),s=n.n(o),i=n(122);class r extends a.Component{render(){return a.createElement("p",{className:s()({[i.m]:!0,[i.n]:this.props.selected})},"Unknown event of type "+this.props.event.getType())}}var l=n(1551),c=n(1695),u=n(1696),d=n(1697),h=n(1698),p=n(1699),m=n(1700),g=n(1702);t.a={components:{unknownEvent:r,"BuiltinCommonInstructions::Standard":l.a,"BuiltinCommonInstructions::Group":c.a,"BuiltinCommonInstructions::Comment":u.a,"BuiltinCommonInstructions::ForEach":d.a,"BuiltinCommonInstructions::Repeat":h.a,"BuiltinCommonInstructions::While":p.a,"BuiltinCommonInstructions::Link":m.a,"BuiltinCommonInstructions::JsCode":g.a},getEventComponent:function(e){return this.components.hasOwnProperty(e.getType())?this.components[e.getType()]:this.components.unknownEvent},registerEvent:function(e,t){this.components.hasOwnProperty(e)?this.components[e]=t:console.warn('Tried to register renderer for events "'+e+'", but a renderer already exists.')}}},2310:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(152),i=n(3),r=n.n(i);const l=r()("fs"),c=r()("path");var u=n(143),d=n(84),h=n(83),p=n(120),m=n(909);n.d(t,"a",(function(){return E}));const g={scrollBeyondLastLine:!1,minimap:{enabled:!1}};let b=!1,f=!1;class E extends o.Component{constructor(...e){super(...e),this.state={MonacoEditor:null,error:null},this.setupEditorThemes=e=>{f||(f=!0,Object(m.a)().forEach(t=>{t.themeData&&e.editor.defineTheme(t.themeName,t.themeData)}))},this.setupEditorCompletions=(e,t)=>{b||(b=!0,t.languages.typescript.javascriptDefaults.setCompilerOptions({target:t.languages.typescript.ScriptTarget.ES6,allowNonTsExtensions:!0,allowJs:!0,checkJs:!0}),(e=>{const t=t=>l.readdir(t,(n,a)=>{n?console.error("Unable to read GDJS files for setting up autocompletions:",n):a.forEach(n=>{if(n.endsWith(".js")){const a=c.join(t,n);l.readFile(a,"utf8",(t,n)=>{t?console.error("Unable to read ".concat(a," for setting up autocompletions:"),t):e.languages.typescript.javascriptDefaults.addExtraLib(n,a)})}})});Object(s.findGDJS)().then(({gdjsRoot:n})=>{const a=c.join(n,"Runtime"),o=c.join(a,"Extensions"),s=c.join(a,"events-tools");t(a),t(s),l.readdir(o,(e,n)=>{e?console.error("Unable to read Extensions folders for setting up autocompletions:",e):n.filter(e=>!e.endsWith(".txt")&&!e.endsWith(".md")&&!e.endsWith(".gitignore")).forEach(e=>t(c.join(o,e)))}),e.languages.typescript.javascriptDefaults.addExtraLib('\n/** Represents the scene being played. */\nvar runtimeScene = new gdjs.RuntimeScene();\n\n/** The instances of objects that are passed to your JavaScript function.\n * @type {gdjs.RuntimeObject[]}\n */\nvar objects = new gdjs.RuntimeScene();\n\n/**\n * Get the list of instances of the specified object.\n *\n * @callback GetObjectsFunction\n * @param {string} objectName The name of the object for which instances must be returned.\n * @return {gdjs.RuntimeObject[]} Instances of the specified object.\n */\n\n/**\n * Get the Hashtable containing the lists of instances of the specified object.\n *\n * You can alter the list and this will alter the objects picked for the next conditions/actions/events.\n * If you don\'t need this, prefer using `getObjects`.\n *\n * @callback GetObjectsListsFunction\n * @param {string} objectName The name of the object for which instances must be returned.\n * @return {?Hashtable} Hashtable containing the lists of instances (keys are object names in the current context), or `null` if not found\n */\n\n/**\n * Create a new object from its name. The object is added to the instances\n * living on the scene.\n *\n * @callback CreateObjectFunction\n * @param {string} objectName The name of the object to be created\n * @return {gdjs.RuntimeObject} The created object\n */\n\n/**\n * Get the "real" behavior name, that can be used with `getBehavior`. For example:\n * `object.getBehavior(eventsFunctionContext.getBehaviorName("MyBehavior"))`\n *\n * @callback GetBehaviorNameFunction\n * @param {string} behaviorName The name of the behavior, as specified in the parameters of the function.\n * @return {string} The name that can be passed to `getBehavior`.\n */\n\n/**\n * Get the value (string or number) of an argument that was passed to the events function.\n * To get objects, use `getObjects`.\n *\n * @callback GetArgumentFunction\n * @param {string} argumentName The name of the argument, as specified in the parameters of the function.\n * @return {string|number} The string or number passed for this argument\n */\n\n/** Represents the context of the events function (or the behavior method),\n * if any. If the JS code is running in a scene, this will be undefined (so you can\'t use this in a scene).\n *\n * @type {?{getObjects: GetObjectsFunction, getObjectsLists: GetObjectsListsFunction, getBehaviorName: GetBehaviorNameFunction, createObject: CreateObjectFunction, getArgument: GetArgumentFunction, returnValue: boolean | number | string}}\n */\nvar eventsFunctionContext = {};\n',"this-mock-the-context-of-events.js")})})(t)),this.props.onEditorMounted&&this.props.onEditorMounted()},this._handleContextMenu=e=>{e.preventDefault(),e.stopPropagation()}}componentDidMount(){this.loadMonacoEditor()}handleLoadError(e){this.setState({error:e})}loadMonacoEditor(){this.setState({error:null}),n.e(58).then(n.t.bind(null,2414,7)).then(e=>this.setState({MonacoEditor:e.default})).catch(this.handleLoadError)}render(){const e=this.state,t=e.MonacoEditor;return e.error?o.createElement(o.Fragment,null,o.createElement(h.a,null,o.createElement(a.Trans,{id:"Unable to load the code editor"})),o.createElement(d.a,{label:o.createElement(a.Trans,{id:"Retry"}),onClick:this.loadMonacoEditor})):t?o.createElement("div",{onContextMenu:this._handleContextMenu},o.createElement(p.b.Consumer,null,({values:e})=>o.createElement(t,{width:this.props.width||600,height:"400",language:"javascript",theme:e.codeEditorThemeName,value:this.props.value,onChange:this.props.onChange,editorWillMount:this.setupEditorThemes,editorDidMount:this.setupEditorCompletions,options:g}))):o.createElement(u.a,null)}}},2311:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n.n(o),i=n(82),r=n(90),l=n(92);const c={container:{display:"flex",flexDirection:"column",flex:1}};class u extends o.Component{static getNonCodeOnlyParametersCount(e){return Object(r.mapFor)(0,e.getParametersCount(),t=>!e.getParameter(t).isCodeOnly()).filter(e=>e).length}render(){const e=this.props,t=e.expressionMetadata,n=e.parameterValues,s=e.project,i=e.scope,d=e.globalObjectsContainer,h=e.objectsContainer,p=e.parameterRenderingService;if(!p)return console.error("Missing parameterRenderingService for ExpressionParametersEditor"),null;const m=t.getParametersCount(),g={getParametersCount:()=>m,getParameter:e=>n[e]||""};return o.createElement("div",{style:c.container},Object(r.mapFor)(0,t.getParametersCount(),e=>{const a=t.getParameter(e),r=p.getParameterComponent(a.getType());return a.isCodeOnly()?null:o.createElement(r,{expressionMetadata:t,expression:g,parameterMetadata:a,parameterIndex:e,value:n[e],onChange:t=>this.props.onChangeParameter(e,t),project:s,scope:i,globalObjectsContainer:d,objectsContainer:h,key:e,parameterRenderingService:p})}),0===u.getNonCodeOnlyParametersCount(t)&&o.createElement(l.a,null,o.createElement(a.Trans,{id:"There is nothing to configure."})))}}var d=n(86),h=n(75);n.d(t,"a",(function(){return m}));const p={minHeightContainer:{minHeight:300,flex:1,flexDirection:"column"}};class m extends o.Component{constructor(...e){super(...e),this.state={parameterValues:Array(this.props.expressionMetadata.getParametersCount()).fill("")}}render(){const e=this.props,t=e.project,n=e.scope,o=e.globalObjectsContainer,r=e.objectsContainer,l=e.expressionMetadata,c=e.parameterRenderingService;return s.a.createElement(d.a,{title:s.a.createElement(a.Trans,{id:"Enter the expression parameters"}),cannotBeDismissed:!0,open:!0,actions:s.a.createElement(i.a,{key:"apply",label:s.a.createElement(a.Trans,{id:"Apply"}),primary:!0,onClick:()=>this.props.onDone(this.state.parameterValues)}),noMargin:!0,onRequestClose:this.props.onRequestClose},s.a.createElement(h.a,null,s.a.createElement("div",{style:p.minHeightContainer},s.a.createElement(u,{project:t,scope:n,globalObjectsContainer:o,objectsContainer:r,expressionMetadata:l,parameterValues:this.state.parameterValues,onChangeParameter:(e,t)=>{this.setState({parameterValues:this.state.parameterValues.map((n,a)=>a===e?t:n)})},parameterRenderingService:c}))))}}},232:function(e,t,n){"use strict";var a=n(2),o=n(104),s=n(101);const i=a.forwardRef((e,t)=>{const n=e.src,i=e.tooltip,r=e.acceleratorString,l=e.disabled,c=e.onClick,u=e.onContextMenu;return a.createElement(s.a,null,e=>a.createElement(o.a,{onClick:c,onContextMenu:u,size:"small",disabled:l,tooltip:i,acceleratorString:r,ref:t},a.createElement("img",{alt:i,src:n,width:32,height:32,style:{filter:l?"grayscale(100%)":e.gdevelopIconsCSSFilter}})))});t.a=i},241:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var a=n(72),o=n(2),s=n(110),i=n(352),r=n(226),l=n(112),c=n(179),u=n(82),d=n(116),h=n(117),p=n(673),m=n.n(p),g=n(335),b=n(205),f=n(242),E=n(2385),v=n(105),y=n(84),C=n(274);const x={columnContainer:{display:"flex",flexDirection:"column"},fieldContainer:{flex:1,display:"flex",flexDirection:"row",alignItems:"baseline"},field:{flex:1,width:"auto"},subPropertiesEditorContainer:{marginLeft:15},subHeader:{paddingLeft:0}},j=(e,t,n)=>{if(!e[0])return console.log("getFieldValue was called with an empty list of instances (or containing undefined). This is a bug that should be fixed"),n;let a=t.getValue(e[0]);for(var o=1;o<e.length;++o)if(a!==t.getValue(e[o])){"undefined"!==typeof n&&(a=n);break}return a},S=(e,t)=>e[0]?t.getLabel?t.getLabel(e[0]):t.name:(console.log("PropertiesEditor._getFieldLabel was called with an empty list of instances (or containing undefined). This is a bug that should be fixed"),t.name);class T extends o.Component{constructor(...e){super(...e),this._onInstancesModified=e=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.props.onInstancesModified?this.props.onInstancesModified(e):this.forceUpdate()},this._getFieldDescription=(e,t)=>{const n=this.props.renderExtraDescriptionText;if(!e[0])return void console.log("PropertiesEditor._getFieldDescription was called with an empty list of instances (or containing undefined). This is a bug that should be fixed");const a=[];return t.getDescription&&a.push(t.getDescription(e[0])),n&&t.getExtraDescription&&a.push(n(t.getExtraDescription(e[0]))),a.join("\n")||void 0},this._renderInputField=e=>{if("PLEASE_ALSO_SHOW_EDIT_BUTTON_THANKS"===e.name)return null;if("boolean"===e.valueType){const t=e.setValue,n=this._getFieldDescription(this.props.instances,e);return o.createElement(i.a,{label:n?o.createElement(o.Fragment,null,S(this.props.instances,e)," ",o.createElement(E.a,{style:{display:"inline"}},o.createElement(b.a,{source:n}))):S(this.props.instances,e),key:e.name,checked:j(this.props.instances,e),onCheck:(e,n)=>{this.props.instances.forEach(e=>t(e,!!n)),this._onInstancesModified(this.props.instances)},disabled:e.disabled})}if("number"===e.valueType){const t=e.setValue;return o.createElement(s.a,{value:j(this.props.instances,e),key:e.name,id:e.name,floatingLabelText:S(this.props.instances,e),floatingLabelFixed:!0,helperMarkdownText:this._getFieldDescription(this.props.instances,e),onChange:e=>{this.props.instances.forEach(n=>t(n,parseFloat(e)||0)),this._onInstancesModified(this.props.instances)},type:"number",style:x.field,disabled:e.disabled})}if("color"===e.valueType){const t=e.setValue;return o.createElement(g.a,{key:e.name,id:e.name,floatingLabelText:S(this.props.instances,e),helperMarkdownText:this._getFieldDescription(this.props.instances,e),disableAlpha:!0,fullWidth:!0,color:Object(f.a)(j(this.props.instances,e)),onChangeComplete:e=>{this.props.instances.forEach(n=>t(n,e.hex||"#000000")),this._onInstancesModified(this.props.instances)}})}if("textarea"===e.valueType){const t=e.setValue;return o.createElement(s.a,{key:e.name,id:e.name,onChange:e=>{this.props.instances.forEach(n=>t(n,e||"")),this._onInstancesModified(this.props.instances)},value:j(this.props.instances,e),floatingLabelText:S(this.props.instances,e),floatingLabelFixed:!0,helperMarkdownText:this._getFieldDescription(this.props.instances,e),multiline:!0,style:x.field})}{const t=e.onEditButtonClick,n=e.setValue;return o.createElement(v.c,{key:e.name,renderTextField:()=>o.createElement(s.a,{value:j(this.props.instances,e,"(Multiple values)"),id:e.name,floatingLabelText:S(this.props.instances,e),floatingLabelFixed:!0,helperMarkdownText:this._getFieldDescription(this.props.instances,e),onChange:e=>{this.props.instances.forEach(t=>n(t,e||"")),this._onInstancesModified(this.props.instances)},style:x.field,disabled:e.disabled}),renderButton:e=>t?o.createElement(y.a,{style:e,primary:!0,disabled:1!==this.props.instances.length,icon:o.createElement(m.a,null),label:o.createElement(a.Trans,{id:"Edit"}),onClick:()=>t(this.props.instances[0])}):null})}},this._renderSelectField=e=>{if(!e.getChoices||!e.getValue)return;const t=e.getChoices().map(({value:e,label:t})=>o.createElement(h.a,{key:e,value:e,primaryText:t}));if("number"===e.valueType){const n=e.setValue;return o.createElement(d.a,{value:j(this.props.instances,e),key:e.name,floatingLabelText:S(this.props.instances,e),helperMarkdownText:this._getFieldDescription(this.props.instances,e),onChange:(e,t,a)=>{this.props.instances.forEach(e=>n(e,parseFloat(a)||0)),this._onInstancesModified(this.props.instances)},style:x.field,disabled:e.disabled},t)}if("string"===e.valueType){const n=e.setValue;return o.createElement(d.a,{value:j(this.props.instances,e,"(Multiple values)"),key:e.name,floatingLabelText:S(this.props.instances,e),helperMarkdownText:this._getFieldDescription(this.props.instances,e),onChange:(e,t,a)=>{this.props.instances.forEach(e=>n(e,a||"")),this._onInstancesModified(this.props.instances)},style:x.field,disabled:e.disabled},t)}},this._renderButton=e=>o.createElement(u.a,{key:e.name,fullWidth:!0,primary:!0,label:S(this.props.instances,e),onClick:()=>{e.onClick&&e.onClick(this.props.instances[0])}}),this._renderResourceField=e=>{if(!this.props.project)return void console.error("You tried to display a resource field in a PropertiesEditor that does not support display resources. If you need to display resources, pass additional props (project, resourceSources, etc...)");const t=e.setValue;return o.createElement(r.a,{key:e.name,project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:l.a,resourceKind:e.resourceKind,fullWidth:!0,initialResourceName:j(this.props.instances,e,"(Multiple values)"),onChange:e=>{this.props.instances.forEach(n=>t(n,e)),this._onInstancesModified(this.props.instances)},floatingLabelText:S(this.props.instances,e),helperMarkdownText:this._getFieldDescription(this.props.instances,e)})}}render(){return("row"===this.props.mode?e=>o.createElement(v.b,{noMargin:!0},e):e=>o.createElement(v.a,{noMargin:!0},e))(this.props.schema.map(e=>e.children?"row"===e.type?o.createElement(C.b.Consumer,{key:e.name},t=>o.createElement(T,{schema:e.children,instances:this.props.instances,mode:"row",unsavedChanges:t})):o.createElement("div",{key:e.name},o.createElement(c.a,null,e.name),o.createElement("div",{style:x.subPropertiesEditorContainer},o.createElement(T,{schema:e.children,instances:this.props.instances,mode:"column"}))):"resource"===e.valueType?this._renderResourceField(e):e.getChoices&&e.getValue?this._renderSelectField(e):e.getValue?this._renderInputField(e):e.onClick?this._renderButton(e):null))}}},242:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}));const a=(e,t,n)=>""+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1),o=(e,t,n)=>(e<<16)+(t<<8)+n,s=e=>{const t=parseInt(e.replace("#",""),16);return{r:t>>16&255,g:t>>8&255,b:255&t,a:255}}},245:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return r}));const a=(e,t)=>e.filter(e=>e!==t),o=({noTagLabel:e,getAllTags:t,selectedTags:n,onChange:o,onEditTags:s,editTagsLabel:i})=>{const r=t(),l=s&&i?[{type:"separator"},{label:i,click:s}]:[];return r.length?r.map(e=>({type:"checkbox",label:e,checked:n.includes(e),click:()=>{var t,s;n.includes(e)?o(a(n,e)):o((t=n,s=[e],Array.from(new Set([...t,...s]))))}})).concat(l):[{label:e,enabled:!1},...l]},s=e=>""===e.trim()?[]:e.split(",").map(e=>e.trim()),i=e=>e.join(", "),r=(e,t)=>{var n=!0,a=!1,o=void 0;try{for(var s,i=t[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){const t=s.value;if(-1===e.indexOf(t))return!1}}catch(r){a=!0,o=r}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return!0}},247:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return l}));const a=e=>"object-group-key-".concat(e.group.getName(),"-").concat(e.global?"-global":""),o=e=>"object-key-".concat(e.object.getName(),"-").concat(e.global?"-global":""),s=e=>"object-or-object-group-value-".concat(e),i=e=>"instruction-key-".concat(e.fullGroupName,"-").concat(e.type),r=e=>"instruction-value-".concat(e),l=e=>"subheader-key-".concat(e)},249:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return f}));var a=n(90),o=n(1708),s=n(378);const i=e.gd,r=e=>Object(o.a)(e,"_",[]),l=(e,t)=>t+"__"+r(e.getName()),c=(e,t,n)=>Promise.all(Object(a.mapFor)(0,e.getEventsFunctionsExtensionsCount(),a=>u(e,e.getEventsFunctionsExtensionAt(a),{skipCodeGeneration:!0,eventsFunctionCodeWriter:t,i18n:n}))).then(()=>Promise.all(Object(a.mapFor)(0,e.getEventsFunctionsExtensionsCount(),a=>u(e,e.getEventsFunctionsExtensionAt(a),{skipCodeGeneration:!1,eventsFunctionCodeWriter:t,i18n:n})))),u=(e,t,n)=>d(e,t,n).then(e=>{i.JsPlatform.get().addNewExtension(e),e.delete()}),d=(e,t,n)=>{const o=new i.PlatformExtension;Object(s.e)(o,t);const c="gdjs.evtsExt__"+r(t.getName()),u={codeNamespacePrefix:c,extensionIncludeFiles:((e,t,n,o)=>Object(a.mapFor)(0,t.getEventsFunctionsCount(),e=>{const a=t.getEventsFunctionAt(e);if(Object(s.h)(a.getName())){const e=l(a,o)+".func";return n.eventsFunctionCodeWriter.getIncludeFileFor(e)}return null}).filter(Boolean))(0,t,n,c)};return Promise.all(Object(a.mapVector)(t.getEventsBasedBehaviors(),l=>function(e,t,n,o,l,c){const u=Object(s.b)(t,o),d=o.getEventsFunctions(),h=((e,t)=>t+"__"+r(e.getName()))(o,c.codeNamespacePrefix),p=l.eventsFunctionCodeWriter.getIncludeFileFor(h);return u.setIncludeFile(p),c.extensionIncludeFiles.forEach(e=>{u.addIncludeFile(e)}),Promise.resolve().then(()=>{const t=new i.MapStringString;if(Object(s.c)(l.i18n,u,o),Object(a.mapFor)(0,d.getEventsFunctionsCount(),e=>{const n=d.getEventsFunctionAt(e),a=r(n.getName());t.set(n.getName(),a);const i=Object(s.a)(u,o,n);Object(s.d)(n,i),Object(s.g)(n.getName())&&i.setHidden(),i.getCodeExtraInformation().setIncludeFile(p).setFunctionName(a)}),l.skipCodeGeneration)return t.delete(),Promise.resolve();{const a=new i.SetString,s=new i.BehaviorCodeGenerator(e),r=s.generateRuntimeBehaviorCompleteCode(n.getName(),o,h,t,a,!0);return s.delete(),t.delete(),a.toNewVectorString().toJSArray().forEach(e=>{u.addIncludeFile(e)}),a.delete(),l.eventsFunctionCodeWriter.writeBehaviorCode(h,r)}})}(e,o,t,l,n,u))).then(()=>Promise.all(Object(a.mapFor)(0,t.getEventsFunctionsCount(),a=>{const s=t.getEventsFunctionAt(a);h(e,o,t,s,n,u)}))).then(()=>o)},h=(e,t,n,a,o,r)=>{const c=Object(s.f)(t,n,a);c.addCodeOnlyParameter("currentScene",""),Object(s.d)(a,c),Object(s.h)(a.getName())&&c.setHidden();const u=l(a,r.codeNamespacePrefix),d=u+".func",h=c.getCodeExtraInformation();if(h.setIncludeFile(o.eventsFunctionCodeWriter.getIncludeFileFor(d)).setFunctionName(d),r.extensionIncludeFiles.forEach(e=>{h.addIncludeFile(e)}),!o.skipCodeGeneration){const t=new i.SetString,n=new i.EventsFunctionsExtensionCodeGenerator(e).generateFreeEventsFunctionCompleteCode(a,u,t,!0);return t.toNewVectorString().toJSArray().forEach(e=>{h.addIncludeFile(e)}),t.delete(),o.eventsFunctionCodeWriter.writeFunctionCode(d,n)}};const p=e=>Promise.all(Object(a.mapFor)(0,e.getEventsFunctionsExtensionsCount(),t=>{i.JsPlatform.get().removeExtension(e.getEventsFunctionsExtensionAt(t).getName())})),m=e=>{const t=e.getParametersCount();return!(t<=0)&&"eventsFunctionContext"===e.getParameter(t-1).getType()},g=e=>{const t=e.split("::");return t.length?{name:t[t.length-1],behaviorName:t.length>2?t[1]:void 0,extensionName:t[0]}:{name:"",behaviorName:"",extensionName:""}},b=(e,t)=>e+"::"+t.getName(),f=e=>e?0:1}).call(this,n(1))},264:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r}));var a=n(2),o=n(101);const s=a.memo(({children:e})=>a.createElement(o.a,null,t=>a.createElement("div",{style:{backgroundColor:t.toolbar.backgroundColor,padding:3,flexShrink:0,display:"flex",justifyContent:"space-between",overflowX:"auto",overflowY:"hidden"}},e))),i={display:"flex",alignItems:"center"},r=a.memo(({children:e})=>a.createElement("span",{style:i},e))},265:function(e,t,n){"use strict";var a=n(2),o=n(577);const s=a.createContext(o.a.gdevelopTheme);t.a=s},272:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(101);t.a=e=>o.a.createElement(s.a,null,e=>o.a.createElement("span",{style:{height:32,marginLeft:3,marginRight:3,borderLeftStyle:"solid",borderLeftWidth:1,borderColor:e.toolbar.separatorColor}}))},274:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(78),o=n(2);const s=o.createContext({hasUnsavedChanges:!1,sealUnsavedChanges:()=>{},triggerUnsavedChanges:()=>{}});t.b=s;class i extends o.Component{constructor(...e){super(...e),this.state={hasUnsavedChanges:!1},this.triggerUnsavedChanges=()=>{this.state.hasUnsavedChanges||this.setState({hasUnsavedChanges:!0})},this.sealUnsavedChanges=()=>{this.state.hasUnsavedChanges&&this.setState({hasUnsavedChanges:!1})}}render(){const e=Object(a.a)({},this.state,{triggerUnsavedChanges:this.triggerUnsavedChanges,sealUnsavedChanges:this.sealUnsavedChanges});return o.createElement(s.Provider,{value:e},this.props.children)}}},275:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),o=n(2387),s=n(2388);class i extends a.Component{render(){return a.createElement(o.a,{control:a.createElement(s.a,{checked:this.props.toggled,onChange:e=>this.props.onToggle(e,e.target.checked),color:"primary"}),label:this.props.label,disabled:this.props.disabled,style:this.props.style})}}},283:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n(2);const o={authenticated:!1,profile:null,subscription:null,usages:null,limits:null,onLogout:()=>{},onLogin:()=>{},onCreateAccount:()=>{},onRefreshUserProfile:()=>{},getAuthorizationHeader:()=>Promise.reject(new Error("Unimplemented"))},s=a.createContext(o);t.a=s},284:function(e,t,n){"use strict";var a=n(2),o=n(2396);const s={progress:{marginRight:8,verticalAlign:"middle"}};t.a=({children:e,isLoading:t})=>a.createElement("span",null,t&&a.createElement(o.a,{size:20,style:s.progress}),e)},285:function(e,t,n){"use strict";var a=n(2);const o={eventsFunctionsExtensionsError:null,loadProjectEventsFunctionsExtensions:()=>Promise.reject(new Error("Use a provider")),unloadProjectEventsFunctionsExtensions:()=>{},reloadProjectEventsFunctionsExtensions:()=>Promise.reject(new Error("Use a provider")),getEventsFunctionsExtensionWriter:()=>null,getEventsFunctionsExtensionOpener:()=>null},s=a.createContext(o);t.a=s},286:function(e,t,n){"use strict";var a=n(78),o=n(127),s=n(2),i=n(1136),r=n(2373),l=n(2397),c=n(351);const u={color:{width:"36px",height:"14px",borderRadius:"2px",textAlign:"center",fontSize:"10px"},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{zIndex:n.n(c).a.tooltip+100}};class d extends s.Component{constructor(...e){super(...e),this._swatch=s.createRef(),this.state={displayColorPicker:!1},this.open=()=>{this.setState({displayColorPicker:!0})},this.handleClick=()=>{this.setState({displayColorPicker:!this.state.displayColorPicker})},this.handleClose=()=>{this.setState({displayColorPicker:!1})}}render(){const e=this.props,t=e.style,n=e.color,c=Object(o.a)(e,["style","color"]),d=n||{r:200,g:200,b:200,a:1};return s.createElement("div",{style:t},s.createElement("div",{style:u.swatch,onClick:this.handleClick,ref:this._swatch},s.createElement("div",{style:Object(a.a)({},u.color,{background:"rgba(".concat(d.r,", ").concat(d.g,", ").concat(d.b,", ").concat(d.a||1,")")})},n?null:"?")),this.state.displayColorPicker&&this._swatch.current?s.createElement(l.a,{onClickAway:this.handleClose},s.createElement(r.a,{open:!0,anchorEl:this._swatch.current,style:u.popover,placement:"bottom"},s.createElement(i.SketchPicker,Object.assign({color:d},c)))):null)}}t.a=d},291:function(e,t,n){"use strict";var a=n(90);t.a=(e,t,n)=>{const o=e.keys();return Object(a.mapFor)(0,o.size(),a=>{const s=o.at(a),i=e.get(s),r=i.getDescription(),l=i.getType().toLowerCase(),c=e=>{const n=t(e).get(s).getLabel();return n||s.charAt(0).toUpperCase()+s.slice(1).split(/(?=[A-Z])/).join(" ")},u=()=>r;if(i.isHidden())return null;if("number"===l)return{name:s,valueType:l,getValue:e=>parseFloat(t(e).get(s).getValue()),setValue:(e,t)=>{n(e,s,""+t)},getLabel:c,getDescription:u};if("string"===l||""===l)return{name:s,valueType:"string",getValue:e=>t(e).get(s).getValue(),setValue:(e,t)=>{n(e,s,t)},getLabel:c,getDescription:u};if("boolean"===l)return{name:s,valueType:l,getValue:e=>"true"===t(e).get(s).getValue(),setValue:(e,t)=>{n(e,s,t?"1":"0")},getLabel:c,getDescription:u};if("choice"===l){const e=i.getExtraInfo().toJSArray().map(e=>({value:e,label:e}));return{name:s,valueType:"string",getChoices:()=>e,getValue:e=>t(e).get(s).getValue(),setValue:(e,t)=>{n(e,s,t)},getLabel:c,getDescription:u}}if("resource"===l){const e=i.getExtraInfo().toJSArray()[0]||"";return{name:s,valueType:"resource",resourceKind:e,getValue:e=>t(e).get(s).getValue(),setValue:(e,t)=>{n(e,s,t)},getLabel:c,getDescription:u}}return"color"===l?{name:s,valueType:"color",getValue:e=>t(e).get(s).getValue(),setValue:(e,t)=>{n(e,s,t)},getLabel:c,getDescription:u}:"textarea"===l?{name:s,valueType:"textarea",getValue:e=>t(e).get(s).getValue(),setValue:(e,t)=>{n(e,s,t)},getLabel:c,getDescription:u}:(console.error("A property with type=".concat(l," could not be mapped to a field. Ensure that this type is correct and understood by the IDE.")),null)}).filter(Boolean)}},294:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(72),o=n(2),s=n(1552),i=n(90),r=n(365),l=n(729),c=n(795),u=n(796);const d={addButton:{cursor:"pointer"}},h=Object(u.a)(s.b);class p extends o.Component{constructor(...e){super(...e),this.state={canPaste:!1},this.onAddNewInstruction=()=>{this.props.onAddNewInstruction&&this.props.onAddNewInstruction({instrsList:this.props.instrsList,isCondition:this.props.areConditions})},this._onPasteInstructions=()=>{this.props.onPasteInstructions({instrsList:this.props.instrsList,isCondition:this.props.areConditions})}}render(){const e=this.state.canPaste,t=this.props,n=t.addButtonLabel,u=t.areConditions,p=t.className,m=t.instrsList,g=t.onAddNewInstruction,b=t.onPasteInstructions,f=t.onMoveToInstruction,E=t.onMoveToInstructionsList,v=t.onInstructionClick,y=t.onInstructionContextMenu,C=t.onInstructionDoubleClick,x=t.onAddInstructionContextMenu,j=t.onParameterClick,S=t.selection,T=t.style,O=t.disabled,w=Object(i.mapFor)(0,m.size(),e=>{const t=m.get(e),n={isCondition:u,instrsList:m,instruction:t,indexInList:e};return o.createElement(s.a,{instruction:t,isCondition:u,key:t.ptr,selected:Object(r.n)(S,t),onMoveToInstruction:()=>f(n),onClick:()=>v(n),onDoubleClick:()=>C(n),onContextMenu:(e,t)=>y(e,t,n),onParameterClick:(e,t)=>j({isCondition:n.isCondition,instrsList:n.instrsList,instruction:n.instruction,indexInList:n.indexInList,parameterIndex:t,domEvent:e}),selection:S,onAddNewSubInstruction:g,onPasteSubInstructions:b,onMoveToSubInstruction:f,onMoveToSubInstructionsList:E,onSubInstructionClick:v,onSubInstructionDoubleClick:C,onSubInstructionContextMenu:y,onAddSubInstructionContextMenu:x,onSubParameterClick:j,disabled:O,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth})}),N={isCondition:u,instrsList:m},_=u?o.createElement(a.Trans,{id:"Add condition"}):o.createElement(a.Trans,{id:"Add action"});return o.createElement(h,{canDrop:e=>e.isCondition===u,drop:()=>{E({isCondition:u,instrsList:m})}},({connectDropTarget:t,isOver:s,canDrop:i})=>t(o.createElement("div",{className:p,style:T},w,s&&o.createElement(l.a,{canDrop:i}),o.createElement("span",{onPointerEnter:()=>{const e=u&&Object(c.c)()||!u&&Object(c.b)();this.setState({canPaste:e})},onPointerLeave:()=>this.setState({canPaste:!1})},o.createElement("button",{style:d.addButton,className:"add-link",onClick:this.onAddNewInstruction,onContextMenu:e=>{e.stopPropagation(),x(e.currentTarget,N)}},n||_),e&&o.createElement("span",null,o.createElement("button",{style:d.addButton,className:"add-link",onClick:this._onPasteInstructions},u?o.createElement(a.Trans,{id:"(or paste conditions)"}):o.createElement(a.Trans,{id:"(or paste actions)"})))))))}}},301:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(78),o=n(1669),s=n.n(o),i=n(1673),r=n.n(i);const l=e=>{const t={};return e.forEach(e=>{let n=r()(e.fullGroupName.split("/"));n.length||(n=[""]),s()(t,n,t=>{const n=t||{};return Object(a.a)({},n,{[e.displayedName]:e})})}),t},c=(e,t)=>{if(!t)return null;const n=Object.keys(e);for(var a=0;a<n.length;++a){const o=n[a],s=e[o];if(!s)return null;if("string"===typeof s.type){if(s.type===t)return[]}else{const e=c(s,t);if(e)return[o,...e]}}return null}},302:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return E}));const a=e.gd,o={BuiltinObject:{"":["AjoutHasard","Create","AjoutObjConcern"]}},s={BuiltinObject:{"":["AjoutHasard","AjoutObjConcern","CollisionNP","NbObjet","PickNearest","Distance","SeDirige","EstTourne","SourisSurObjet"]}},i={},r={Physics2:{"Physics2::Physics2Behavior":["Physics2::Collision"]}},l={BuiltinObject:[...o.BuiltinObject[""],...s.BuiltinObject[""]],Physics2:[...r.Physics2["Physics2::Physics2Behavior"]]},c=(e,t)=>{const n=t;return n?e.filter(e=>-1===n.indexOf(e.type)):e},u=(e,t,n,a,o)=>{const s=t.getName(),l=e?r[s]:i[s];if(!l)return[];const c=l[n];if(!c)return[];const u=e?t.getAllConditions():t.getAllActions();return c.map(e=>h(a,e,u.get(e),o))},d=(e,t,n,a,i)=>{const r=t.getName(),l=e?s[r]:o[r];if(!l)return[];const c=l[n];if(!c)return[];const u=e?t.getAllConditions():t.getAllActions();return c.map(e=>h(a,e,u.get(e),i))},h=(e,t,n,a)=>{const o=n.getFullName(),s=n.getGroup(),i=n.getIconFilename();return{type:t,metadata:n,iconFilename:i,displayedName:o,fullGroupName:e+s,scope:a,isPrivate:n.isPrivate()}},p=(e,t,n)=>{const a=t.keys(),o=[];for(let s=0;s<a.size();++s){const i=a.get(s),r=t.get(i);r.isHidden()||o.push(h(e,i,r,n))}return o},m=e=>{let t=[];const n=a.asPlatform(a.JsPlatform.get()).getAllPlatformExtensions();for(let a=0;a<n.size();++a){const o=n.get(a),s=o.getName(),i=o.getExtensionObjectsTypes(),r=o.getBehaviorsTypes();let h="";(i.size()>0||r.size()>0)&&(h="BuiltinObject"===s?"Common "+(e?"conditions":"actions")+" for all objects":o.getFullName(),h+="/");const m=p(h,e?o.getAllConditions():o.getAllActions(),{objectMetadata:void 0,behaviorMetadata:void 0});t=[...t,...c(m,l[s])];for(let n=0;n<i.size();++n){const a=i.get(n),s={objectMetadata:o.getObjectMetadata(a)};t=[...t,...p(h,e?o.getAllConditionsForObject(a):o.getAllActionsForObject(a),s),...d(e,o,a,h,s)]}for(let n=0;n<r.size();++n){const a=r.get(n),s={behaviorMetadata:o.getBehaviorMetadata(a)};t=[...t,...p(h,e?o.getAllConditionsForBehavior(a):o.getAllActionsForBehavior(a),s),...u(e,o,a,h,s)]}}return t},g=(e,t,n,o)=>{let s=[];const i=a.getTypeOfObject(t,n,o,!0),r=a.getBehaviorsOfObject(t,n,o,!0).toJSArray(),l=new Set(r.map(e=>a.getTypeOfBehavior(t,n,e))),c=a.asPlatform(a.JsPlatform.get()).getAllPlatformExtensions();for(let a=0;a<c.size();++a){const t=c.get(a),n=-1!==t.getExtensionObjectsTypes().toJSArray().indexOf(i),o=-1!==t.getExtensionObjectsTypes().toJSArray().indexOf(""),r=t.getBehaviorsTypes().toJSArray().filter(e=>l.has(e));if(!n&&!o&&0===r.length)continue;const h="";if(""!==i&&n){const n={objectMetadata:t.getObjectMetadata(i)};s=[...s,...p(h,e?t.getAllConditionsForObject(i):t.getAllActionsForObject(i),n),...d(e,t,"",h,n)]}if(o){const n={objectMetadata:t.getObjectMetadata("")};s=[...s,...p(h,e?t.getAllConditionsForObject(""):t.getAllActionsForObject(""),n),...d(e,t,"",h,n)]}r.forEach(n=>{const a={behaviorMetadata:t.getBehaviorMetadata(n)};s=[...p(h,e?t.getAllConditionsForBehavior(n):t.getAllActionsForBehavior(n),a),...u(e,t,n,h,a),...s]})}return(e=>[...e.filter(e=>0===e.fullGroupName.length),...e.filter(e=>0!==e.fullGroupName.length)])(s)},b=e=>{let t=[];const n=a.asPlatform(a.JsPlatform.get()).getAllPlatformExtensions();for(let a=0;a<n.size();++a){const o=n.get(a),s=o.getName(),i=o.getExtensionObjectsTypes(),r=o.getBehaviorsTypes();let u="";(i.size()>0||r.size()>0)&&(u="BuiltinObject"===s?"":o.getFullName(),u+="/");const d=p(u,e?o.getAllConditions():o.getAllActions(),{objectMetadata:void 0,behaviorMetadata:void 0});t=[...t,...c(d,l[s])]}return t},f=(e,{searchText:t})=>{if(""===!t)return e;const n=t.toLowerCase();return(e=>{if(!t)return e;for(var a=0;a<e.length;++a)if(e[a].displayedName.toLowerCase()===n){const t=e[a];e.splice(a,1),e.unshift(t)}return e})(e.filter(e=>{const t=e.displayedName,a=e.fullGroupName;return-1!==t.toLowerCase().indexOf(n)||-1!==a.toLowerCase().indexOf(n)}))},E=e=>{const t=e.getParametersCount();if(t>=1){const n=e.getParameter(0).getType();if("object"===n)return 0;if(a.ParameterMetadata.isObject(n))return 0;if(("objectsContext"===n||"currentScene"===n)&&t>=2){const t=e.getParameter(1).getType();if(a.ParameterMetadata.isObject(t))return 1}}return-1}}).call(this,n(1))},303:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),o=n.n(a),s=n(2373),i=n(124),r=n(2397),l=n(75);const c={popover:{paddingBottom:10,overflowY:"auto",overflowX:"hidden",minHeight:30,maxHeight:400,maxWidth:600,minWidth:300,zIndex:2}};class u extends a.Component{render(){return o.a.createElement(r.a,{onClickAway:this.props.onRequestClose},o.a.createElement(s.a,{open:this.props.open,anchorEl:this.props.anchorEl,style:c.popover,placement:"bottom"},o.a.createElement(i.a,null,o.a.createElement(l.a,{expand:!0},o.a.createElement(l.b,null,this.props.children)))))}}},304:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var a=n(2),o=n(232),s=n(138);const i={isPreviewFirstSceneOverriden:!1,previewFirstSceneName:"",useSceneAsPreviewFirstScene:null,togglePreviewFirstSceneOverride:null};function r({onPreview:e,onNetworkPreview:t,onOpenDebugger:n,showNetworkPreviewButton:i,showPreviewButton:r,previewButtonSettings:l}){const c=l.isPreviewFirstSceneOverriden,u=l.previewFirstSceneName,d=l.useSceneAsPreviewFirstScene,h=l.togglePreviewFirstSceneOverride,p=d&&h,m=a.createElement(o.a,{onClick:e,src:c?"res/ribbon_default/previewOverride32.png":"res/ribbon_default/preview32.png",tooltip:p?c?{id:"Preview is overridden, right click for more"}:{id:"Launch a preview of the scene, right click for more"}:{id:"Launch a preview of the scene"}});return a.createElement(a.Fragment,null,r&&(p?a.createElement(s.a,{element:m,openMenuWithSecondaryClick:!0,buildMenuTemplate:()=>[...u?[{type:"checkbox",label:"Start all previews from scene "+u,checked:c,click:h},{type:"separator"}]:[],{label:"Use this scene to start all previews",click:d}]}):m),i&&a.createElement(s.a,{element:a.createElement(o.a,{src:"res/ribbon_default/bug32.png",tooltip:{id:"Advanced preview options (debugger, network preview...)"}}),buildMenuTemplate:()=>[{label:"Network preview (Preview over WiFi/LAN)",click:()=>t()},{type:"separator"},{label:"Preview with debugger and performance profiler",click:()=>n()}]}))}},310:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(78),o=n(72),s=n(104),i=n(507),r=n(2),l=(n(112),n(75)),c=n(166),u=n(1913),d=n.n(u),h=n(1914),p=n.n(h),m=n(1915),g=n.n(m),b=n(219),f=n(83);const E={imagePreviewContainer:{position:"relative",display:"inline-block",width:"100%",border:"#AAAAAA 1px solid",overflow:"scroll",height:200,background:'url("res/transparentback.png") repeat',touchAction:"none"},spriteThumbnailImage:{position:"relative",pointerEvents:"none",margin:50},box:{border:"1px solid black"}};class v extends r.Component{constructor(...e){super(...e),this.state=Object(a.a)({errored:!1,imageWidth:null,imageHeight:null,imageZoomFactor:1},this._loadFrom(this.props)),this._handleImageError=()=>{this.setState({errored:!0})},this._handleImageLoaded=e=>{const t=e.target,n=t?t.naturalWidth||t.clientWidth:0,a=t?t.naturalHeight||t.clientHeight:0;this.setState({imageWidth:n,imageHeight:a}),this.props.onSize&&this.props.onSize(n,a)},this._zoomBy=e=>{this._zoomTo(this.state.imageZoomFactor+e)},this._zoomTo=e=>{this.setState(t=>({imageZoomFactor:Math.min(10,Math.max(.1,e))}))}}componentWillReceiveProps(e){e.resourceName===this.props.resourceName&&e.project===this.props.project&&e.resourcesLoader===this.props.resourcesLoader&&e.resourcePath===this.props.resourcePath||this.setState(this._loadFrom(e))}_loadFrom(e){const t=e.project,n=e.resourceName;return{errored:!1,imageSource:e.resourcesLoader.getResourceFullUrl(t,n)}}render(){return r.createElement(i.a,{bounds:!0},({contentRect:e,measureRef:t})=>{const n=e.bounds.width,i=this.props,u=i.resourceName,h=i.renderOverlay,m=this.state,v=m.imageHeight,y=m.imageWidth,C=m.imageSource,x=m.imageZoomFactor,j=!!y&&!!v&&!this.state.errored,S=Math.max(0,n/2-(y||0)*x/2-50),T=Object(a.a)({},E.spriteThumbnailImage,{top:0,left:S,width:y?y*x:void 0,height:v?v*x:void 0,visibility:j?void 0:"hidden"}),O={position:"absolute",top:50,left:S+50,width:y?y*x:void 0,height:v?v*x:void 0,visibility:j?void 0:"hidden"};return r.createElement(l.a,{expand:!0,noMargin:!0},r.createElement(c.b,null,r.createElement(s.a,{onClick:()=>this._zoomBy(.2),tooltip:{id:"Zoom in (you can also use Ctrl + Mouse wheel)"}},r.createElement(d.a,null)),r.createElement(s.a,{onClick:()=>this._zoomBy(-.2),tooltip:{id:"Zoom out (you can also use Ctrl + Mouse wheel)"}},r.createElement(p.a,null)),r.createElement(s.a,{onClick:()=>this._zoomTo(1),tooltip:{id:"Restore original size"}},r.createElement(g.a,null))),r.createElement("div",{style:E.imagePreviewContainer,ref:t,onWheel:e=>{const t=e.deltaY;(e.metaKey||e.ctrlKey)&&(this._zoomBy(t/500),e.preventDefault(),e.stopPropagation())}},!!this.state.errored&&r.createElement(b.a,null,r.createElement(f.a,null,r.createElement(o.Trans,{id:"Unable to load the image"}))),!this.state.errored&&r.createElement("img",{style:T,alt:u,src:C,onError:this._handleImageError,onLoad:this._handleImageLoaded,crossOrigin:"anonymous"}),j&&h&&r.createElement("div",{style:Object(a.a)({},O,{},E.box)}),j&&h&&r.createElement("div",{style:O},h({imageWidth:y||0,imageHeight:v||0,imageZoomFactor:x}))))})}}},311:function(e,t,n){"use strict";(function(e){n.d(t,"k",(function(){return r})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return E})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return y}));var a=n(90),o=n(540),s=n.n(o);const i=e.gd,r=(e,t,n,a)=>{const o=t<e.getAnimationsCount(),s=o?e.getAnimation(t):null,i=!!s&&n<s.getDirectionsCount(),r=i?s.getDirection(n):null,l=!!r&&a<r.getSpritesCount(),c=l?r.getSprite(a):null;return{hasValidAnimation:o,animation:s,hasValidDirection:i,direction:r,hasValidSprite:l,sprite:c}},l=(e,t)=>{t.setX(e.getX()),t.setY(e.getY()),t.setName(e.getName())},c=(e,t)=>{e.ptr!==t.ptr&&(l(e.getCenter(),t.getCenter()),l(e.getOrigin(),t.getOrigin()),t.setDefaultCenterPoint(e.isDefaultCenterPoint()),t.getAllNonDefaultPoints().clear(),Object(a.mapVector)(e.getAllNonDefaultPoints(),e=>{t.addPoint(e)}))},u=(e,t)=>{Object(a.mapFor)(0,t.getDirectionsCount(),n=>{const o=t.getDirection(n);Object(a.mapFor)(0,o.getSpritesCount(),t=>{const n=o.getSprite(t);c(e,n)})})},d=(e,t)=>e.getX()===t.getX()&&e.getY()===t.getY()&&e.getName()===t.getName(),h=(e,t)=>s()(Object(a.mapFor)(0,t.getSpritesCount(),n=>{const o=t.getSprite(n);return r=e,!!d((i=o).getCenter(),r.getCenter())&&!!d(i.getOrigin(),r.getOrigin())&&i.isDefaultCenterPoint()===r.isDefaultCenterPoint()&&i.getAllNonDefaultPoints().size()===r.getAllNonDefaultPoints().size()&&s()(Object(a.mapVector)(i.getAllNonDefaultPoints(),e=>!!r.hasPoint(e.getName())&&d(e,r.getPoint(e.getName()))));var i,r})),p=(e,t)=>s()(Object(a.mapFor)(0,t.getDirectionsCount(),n=>{const a=t.getDirection(n);return h(e,a)})),m=(e,t)=>{e.ptr!==t.ptr&&(t.setCollisionMaskAutomatic(e.isCollisionMaskAutomatic()),t.getCustomCollisionMask().clear(),Object(a.mapVector)(e.getCustomCollisionMask(),e=>{t.getCustomCollisionMask().push_back(e)}))},g=(e,t)=>{Object(a.mapFor)(0,t.getDirectionsCount(),n=>{const o=t.getDirection(n);Object(a.mapFor)(0,o.getSpritesCount(),t=>{const n=o.getSprite(t);m(e,n)})})},b=(e,t)=>{if(e.isCollisionMaskAutomatic()!==t.isCollisionMaskAutomatic())return!1;if(e.isCollisionMaskAutomatic()&&t.isCollisionMaskAutomatic())return!0;const n=e.getCustomCollisionMask(),o=t.getCustomCollisionMask();return n.size()===o.size()&&s()(Object(a.mapVector)(n,(e,t)=>((e,t)=>{const n=e.getVertices(),o=t.getVertices();return n.size()===o.size()&&s()(Object(a.mapVector)(n,(e,t)=>{const n=o.at(t);return e.get_x()===n.get_x()&&e.get_y()===n.get_y()}))})(e,o.at(t))))},f=(e,t)=>s()(Object(a.mapFor)(0,t.getSpritesCount(),n=>{const a=t.getSprite(n);return b(a,e)})),E=(e,t)=>s()(Object(a.mapFor)(0,t.getDirectionsCount(),n=>{const a=t.getDirection(n);return f(e,a)})),v=(e,t)=>{Object(a.mapFor)(0,e.getDirectionsCount(),n=>{const o=e.getDirection(n),s=Object(a.mapFor)(0,o.getSpritesCount(),e=>{const n=o.getSprite(e);return!!t[n.ptr]});for(let e=o.getSpritesCount()-1;e>=0;e--)s[e]&&o.removeSprite(e)})},y=(e,t)=>{Object(a.mapFor)(0,e.getDirectionsCount(),n=>{const o=e.getDirection(n),s=Object(a.mapFor)(0,o.getSpritesCount(),e=>{const n=o.getSprite(e);return!!t[n.ptr]});for(let e=o.getSpritesCount()-1;e>=0;e--)if(s[e]){const t=o.getSprite(e),n=new i.Sprite;n.setImageName(t.getImageName()),c(t,n),m(t,n),o.addSprite(n),o.moveSprite(o.getSpritesCount()-1,e)}})}}).call(this,n(1))},312:function(e,t,n){"use strict";t.a={handleColumn:{width:24,paddingLeft:8,paddingRight:0},coordinateColumn:{width:48},toolColumn:{width:48}}},315:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(2307),i=n(2380),r=n(3),l=n.n(r);const c=l()("electron");class u{buildFromTemplate(e){this.menuTemplate=e}showMenu(e){if(!c)return;const t=c.remote.Menu,n=c.remote.getCurrentWindow();this.menu=t.buildFromTemplate(this.menuTemplate),this.menu.popup({window:n,x:Math.round(e.left),y:Math.round(e.top+e.height),async:!0})}getMenuProps(){return{open:!1}}}var d=n(136),h=n(2375),p=n(991),m=n.n(p),g=n(993),b=n.n(g),f=n(994),E=n.n(f),v=n(2382),y=n(2383),C=n(2381);const x=({item:e,buildFromTemplate:t})=>{const n=Object(a.useState)(!1),r=Object(d.a)(n,2),l=r[0],c=r[1],u=Object(a.useRef)(null),p=Object(a.useCallback)(e=>{u.current=e},[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{dense:!0,key:e.label,disabled:!1===e.enabled,onClick:t=>{!1!==e.enabled&&(u.current||p(t.currentTarget),c(!l))}},e.label,o.a.createElement(m.a,null)),o.a.createElement(s.a,{open:l,anchorEl:u.current,onClose:()=>c(!1),TransitionComponent:i.a},t(e.submenu)))};class j{constructor({onClose:e}){this._onClose=e}buildFromTemplate(e){return e.map((e,t)=>!1===e.visible?null:"separator"===e.type?o.a.createElement(C.a,{key:"separator"+t}):"checkbox"===e.type?o.a.createElement(h.a,{dense:!0,key:"checkbox"+e.label,checked:e.checked,disabled:!1===e.enabled,onClick:()=>{!1!==e.enabled&&(e.click&&e.click(),this._onClose())}},o.a.createElement(v.a,null,e.checked?o.a.createElement(b.a,null):o.a.createElement(E.a,null)),o.a.createElement(y.a,{primary:e.label})):e.submenu?o.a.createElement(x,{key:"submenu"+e.label,item:e,buildFromTemplate:e=>this.buildFromTemplate(e)}):o.a.createElement(h.a,{dense:!0,key:"item"+e.label,disabled:!1===e.enabled,onClick:()=>{!1!==e.enabled&&e.click&&(e.click(),this._onClose())}},e.label)).filter(Boolean)}showMenu(){}getMenuProps(){return{}}}const S=l()("electron");class T extends o.a.Component{constructor(e){super(e),this.open=(e,t)=>{this.setState({anchorX:e,anchorY:t},()=>{this.setState({open:!0})})},this._onClose=()=>{this.setState({open:!1})},this.state={open:!1,anchorX:0,anchorY:0},this.menuImplementation=new j({onClose:this._onClose})}render(){return this.state.open?o.a.createElement(s.a,Object.assign({open:this.state.open,anchorPosition:{left:this.state.anchorX,top:this.state.anchorY},anchorReference:"anchorPosition",onClose:this._onClose,TransitionComponent:i.a},this.menuImplementation.getMenuProps()),this.menuImplementation.buildFromTemplate(this.props.buildMenuTemplate())):null}}class O extends o.a.Component{constructor(e){super(e),this.open=(e,t)=>{this.menuImplementation.buildFromTemplate(this.props.buildMenuTemplate()),this.menuImplementation.showMenu({left:e||0,top:t||0,width:0,height:0})},this.menuImplementation=new u}render(){return null}}t.a=S?O:T},330:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(1109),i=n.n(s),r=n(189);const l={handle:{cursor:"move"},disabledHandle:{opacity:.4},handleColor:"#DDD"},c=Object(r.SortableHandle)(e=>o.a.createElement("span",{style:e.disabled?l.disabledHandle:l.handle},o.a.createElement(i.a,{htmlColor:l.handleColor})));t.a=c},333:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return l}));var a=n(90);const o=e=>Object(a.mapFor)(0,e.getLayoutsCount(),t=>e.getLayoutAt(t)),s=e=>Object(a.mapFor)(0,e.getExternalEventsCount(),t=>e.getExternalEventsAt(t)),i=e=>Object(a.mapFor)(0,e.getExternalLayoutsCount(),t=>e.getExternalLayoutAt(t)),r=e=>Object(a.mapFor)(0,e.getEventsFunctionsExtensionsCount(),t=>e.getEventsFunctionsExtensionAt(t)),l=(e,t)=>{if(!t)return e;const n=t.toLowerCase();return e.filter(e=>-1!==e.getName().toLowerCase().indexOf(n))}},335:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(78),o=n(2),s=n.n(o),i=n(94),r=n(286);const l={container:{position:"relative",display:"inline-block"},picker:{position:"absolute",right:"8px",top:"19px"}};class c extends o.Component{constructor(...e){super(...e),this.onClick=()=>{this.textField&&this.textField.blur(),this.picker&&this.picker.open()}}render(){return s.a.createElement("div",{style:Object(a.a)({},l.container,{width:this.props.fullWidth?"100%":void 0})},s.a.createElement(i.b,{fullWidth:!0,floatingLabelText:this.props.floatingLabelText,floatingLabelFixed:!0,helperMarkdownText:this.props.helperMarkdownText,type:"text",hintText:{id:"Click to choose"},onClick:this.onClick,onFocus:this.onClick,value:"",ref:e=>this.textField=e}),s.a.createElement("div",{style:l.picker},s.a.createElement(r.a,Object.assign({},this.props,{ref:e=>this.picker=e}))))}}},352:function(e,t,n){"use strict";var a=n(2),o=n(2387),s=n(2471);t.a=e=>{const t=e.onCheck,n=a.createElement(s.a,{disabled:e.disabled,checked:e.checked,onChange:t?e=>t(e,e.target.checked):void 0,icon:e.uncheckedIcon,checkedIcon:e.checkedIcon,color:"primary"});return e.label?a.createElement(o.a,{control:n,label:e.label}):n}},365:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"j",(function(){return f})),n.d(t,"l",(function(){return E})),n.d(t,"a",(function(){return v})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return C}));var a=n(78),o=n(444),s=n.n(o);const i=()=>({selectedInstructions:{},selectedEvents:{},selectedInstructionsLists:{}}),r=e=>s()(e.selectedEvents).map(e=>e.event),l=e=>s()(e.selectedEvents),c=e=>s()(e.selectedInstructions).map(e=>e.instruction),u=e=>s()(e.selectedInstructions),d=e=>s()(e.selectedInstructionsLists),h=(e,t)=>!!e.selectedEvents[t.ptr],p=(e,t)=>!!e.selectedInstructions[t.ptr],m=e=>!!Object.keys(e.selectedEvents).length,g=e=>!!Object.keys(e.selectedInstructions).length,b=e=>{var t=!0,n=!1,a=void 0;try{for(var o,s=u(e)[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){if(o.value.isCondition)return!0}}catch(i){n=!0,a=i}finally{try{t||null==s.return||s.return()}finally{if(n)throw a}}return!1},f=e=>!!Object.keys(e.selectedInstructionsLists).length,E=e=>g(e)||f(e)||m(e),v=()=>i(),y=(e,t,n=!1)=>{const o=t.event;if(h(e,o))return e;const s=n?e:v();return Object(a.a)({},s,{selectedEvents:Object(a.a)({},s.selectedEvents,{[o.ptr]:t})})},C=(e,t,n=!1)=>{const o=t.instruction;if(p(e,o))return e;const s=n?e:v();return Object(a.a)({},s,{selectedInstructions:Object(a.a)({},s.selectedInstructions,{[o.ptr]:t})})}},372:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var a=n(78),o=n(2),s=n(21),i=n.n(s),r=n(2373),l=n(351),c=n.n(l),u=n(1679),d=n.n(u),h=n(84),p=n(110),m=n(90),g=n(1668),b=n(2311),f=n(506),E=n(1674),v=n(248),y=n.n(v),C=n(2397),x=n(2378),j=n(105),S=n(1676),T=n(1677),O=n(1678);const w=e.gd,N={container:{display:"flex",alignItems:"flex-start"},textFieldContainer:{flex:1,minWidth:300},textFieldAndHightlightContainer:{position:"relative"},expressionSelectorPopoverContent:{display:"flex",maxHeight:250},input:{fontFamily:'"Lucida Console", Monaco, monospace',lineHeight:1.4},backgroundHighlightingWithFloatingLabel:{marginTop:29,paddingLeft:12,paddingRight:12},backgroundHighlightingInline:{marginTop:6,paddingLeft:0,paddingRight:0},backgroundHighlightingInlineWithFloatingLabel:{marginTop:22,paddingLeft:0,paddingRight:0}};class _ extends o.Component{constructor(...e){super(...e),this._field=null,this._fieldElement=null,this._inputElement=null,this.state={popoverOpen:!1,parametersDialogOpen:!1,selectedExpressionInfo:null,validatedValue:this.props.value,errorText:null,errorHighlights:[],autocompletions:Object(T.a)()},this.focus=()=>{this._field&&(this._field.focus(),this._enqueueValidation())},this._openExpressionPopover=()=>{this.setState({popoverOpen:!0})},this._handleFocus=e=>{e.preventDefault()},this._handleRequestClose=()=>{this.setState({popoverOpen:!1})},this._handleChange=e=>{this.setState({validatedValue:e},()=>this._enqueueValidation())},this._handleBlur=e=>{const t=e.currentTarget.value;this.props.onChange&&this.props.onChange(t),this.setState({validatedValue:t},()=>{this._enqueueValidation.cancel(),this._doValidation(),this.setState({autocompletions:Object(T.a)()})})},this._handleExpressionChosen=e=>{this.setState({popoverOpen:!1,parametersDialogOpen:!0,selectedExpressionInfo:e})},this.insertExpression=(e,t)=>{if(!this._inputElement)return;const n=this._inputElement.selectionStart,a=Object(f.a)(e,t),o=this.props.value,s=o.substr(0,n)+a+o.substr(n);this.props.onChange&&this.props.onChange(s),this.setState({validatedValue:s},()=>this._enqueueValidation()),setTimeout(()=>{this._field&&this._field.focus(),setTimeout(()=>{this._inputElement&&this._inputElement.setSelectionRange(n,n+a.length)},5)},5)},this._insertAutocompletion=e=>{if(e.isExact)return;const t=this._inputElement?this._inputElement.selectionStart:0,n=this.state.validatedValue,a=Object(S.b)({expression:n,caretLocation:t},{completion:e.completion,addParenthesis:e.addParenthesis,addDot:e.addDot,addNamespaceSeparator:e.addNamespaceSeparator,addClosingParenthesis:e.addClosingParenthesis}),o=a.expression,s=a.caretLocation;this._field&&this._field.forceSetValue(o),this.props.onChange&&this.props.onChange(o),this.setState({validatedValue:o},()=>{this._enqueueValidation(),this._field&&this._field.forceSetSelection(s,s)})},this._enqueueValidation=y()(()=>{this._doValidation()},250),this._doValidation=()=>{const e=this.props,t=e.project,n=e.globalObjectsContainer,a=e.objectsContainer,o=e.expressionType,s=e.scope;if(!t)return null;const i=new w.ExpressionParser2(w.JsPlatform.get(),n,a),r=this.state.validatedValue,l=i.parseExpression(o,r).get(),c=(e=>{const t=new w.ExpressionValidator;e.visit(t);const n=t.getErrors(),a=Object(m.mapVector)(n,e=>({begin:e.getStartPosition(),end:e.getEndPosition()+1,message:e.getMessage(),type:"error"})),o=Math.max(0,a.length-10),s=a.length>1,i=(o>0?a.slice(0,10):a).map((e,t)=>(s?"[".concat(t+1,"] "):"")+e.message).join(" ");return t.delete(),{errorText:i,errorHighlights:a}})(l),u=c.errorText,d=c.errorHighlights,h=this._inputElement?this._inputElement.selectionStart:0,p=w.ExpressionCompletionFinder.getCompletionDescriptionsFor(l,h-1),g=Object(S.a)({gd:w,globalObjectsContainer:n,objectsContainer:a,scope:s},p);i.delete(),this.setState(e=>({errorText:u,errorHighlights:d,autocompletions:Object(T.e)(e.autocompletions,g)}))}}componentDidMount(){if(this._field){const e=i.a.findDOMNode(this._field);e instanceof Element&&(this._fieldElement=e),this._inputElement=this._field?this._field.getInputNode():null}}render(){const e=this.props,t=e.value,n=e.expressionType,s=e.parameterMetadata,i=e.project,l=e.scope,u=e.globalObjectsContainer,m=e.objectsContainer,f=e.parameterRenderingService,v=s?s.getDescription():this.props.isInline?void 0:"-",y=s?s.getLongDescription():void 0,S={width:this._fieldElement?this._fieldElement.clientWidth:"auto",marginLeft:-5,zIndex:c.a.tooltip+100},w=this.props.isInline?v?N.backgroundHighlightingInlineWithFloatingLabel:N.backgroundHighlightingInline:N.backgroundHighlightingWithFloatingLabel;return o.createElement(o.Fragment,null,o.createElement(j.c,{margin:this.props.isInline?"none":"dense",renderTextField:()=>o.createElement("div",{style:N.textFieldContainer},o.createElement("div",{style:N.textFieldAndHightlightContainer},o.createElement(E.a,{value:this.state.validatedValue,style:Object(a.a)({},N.input,{},w),highlights:this.state.errorHighlights}),o.createElement(p.a,{margin:this.props.isInline?"none":"dense",value:t,floatingLabelText:v,helperMarkdownText:y,hintText:"string"===n?'""':void 0,inputStyle:N.input,onChange:this._handleChange,onBlur:this._handleBlur,ref:e=>this._field=e,onFocus:this._handleFocus,errorText:this.state.errorText,onClick:()=>this._enqueueValidation(),onKeyDown:e=>{const t=Object(T.d)(this.state.autocompletions,{event:e,onUpdateAutocompletions:this._enqueueValidation,onInsertAutocompletion:this._insertAutocompletion});this.setState({autocompletions:t})},multiline:!0,fullWidth:!0})),this._inputElement&&this.state.popoverOpen&&o.createElement(C.a,{onClickAway:this._handleRequestClose},o.createElement(r.a,{style:S,open:this.state.popoverOpen,anchorEl:this._inputElement,placement:"bottom",disablePortal:!0},o.createElement(x.a,{style:N.expressionSelectorPopoverContent},o.createElement(g.a,{selectedType:"",onChoose:(e,t)=>{this._handleExpressionChosen(t)},expressionType:n,focusOnMount:!0,scope:l})))),this._inputElement&&!this.state.popoverOpen&&f&&o.createElement(O.a,{project:i,anchorEl:this._inputElement,expressionAutocompletions:Object(T.c)(this.state.autocompletions),remainingCount:Object(T.b)(this.state.autocompletions),selectedCompletionIndex:this.state.autocompletions.selectedCompletionIndex,onChoose:e=>{this._insertAutocompletion(e),setTimeout(this.focus,50)},parameterRenderingService:f})),renderButton:e=>o.createElement(o.Fragment,null,!this.props.isInline&&this.props.renderExtraButton&&this.props.renderExtraButton({style:e}),!this.props.isInline&&o.createElement(h.a,{icon:o.createElement(d.a,null),label:"string"===n?'"ABC"':"number"===n?"123":"",primary:!0,style:e,onClick:this._openExpressionPopover}))}),this.state.parametersDialogOpen&&this.state.selectedExpressionInfo&&o.createElement(b.a,{project:i,scope:l,globalObjectsContainer:u,objectsContainer:m,expressionMetadata:this.state.selectedExpressionInfo.metadata,onDone:e=>{this.state.selectedExpressionInfo&&(this.insertExpression(this.state.selectedExpressionInfo,e),this.setState({parametersDialogOpen:!1,selectedExpressionInfo:null}))},onRequestClose:()=>{this.setState({parametersDialogOpen:!1,selectedExpressionInfo:null})},parameterRenderingService:f}))}}}).call(this,n(1))},373:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(78),o=n(72),s=n(2),i=n(100),r=n(150),l=n(301),c=n(302),u=n(101),d=n(790),h=n(791),p=n(92),m=n(218),g=n(75),b=n(247);const f={searchBar:{backgroundColor:"transparent",flexShrink:0,zIndex:1}};class E extends s.PureComponent{constructor(...e){super(...e),this.state={searchText:"",searchResults:[]},this._scrollView=s.createRef(),this._selectedItem=s.createRef(),this.initialInstructionTypePath=Object(l.b)(this.props.instructionsInfoTree,this.props.selectedType),this.focus=()=>{this._searchBar&&this._searchBar.focus()}}componentDidMount(){this.props.focusOnMount&&this._searchBar&&this._searchBar.focus(),this._selectedItem.current&&this._scrollView.current&&this._scrollView.current.scrollTo(this._selectedItem.current)}render(){const e=this.props,t=e.selectedType,n=e.iconSize,l=e.instructionsInfoTree,E=e.onChoose,v=e.searchPlaceholderObjectName,y=e.searchPlaceholderIsCondition,C=e.useSubheaders,x=e.helpPagePath,j=e.style,S=this.state.searchText,T=S?Object(c.d)(this.props.instructionsInfo,{searchText:S}):[],O=!S||!!T.length,w=()=>{T.length&&E(T[0].type,T[0])};return s.createElement(u.a,null,e=>s.createElement("div",{style:Object(a.a)({backgroundColor:e.list.itemsBackgroundColor},j)},s.createElement(r.a,{value:S,onChange:e=>this.setState({searchText:e}),onRequestSearch:w,style:f.searchBar,placeholder:v?y?{id:"Search {searchPlaceholderObjectName} conditions",values:{searchPlaceholderObjectName:v}}:{id:"Search {searchPlaceholderObjectName} actions",values:{searchPlaceholderObjectName:v}}:void 0,helpPagePath:x,ref:e=>this._searchBar=e}),s.createElement(m.a,{ref:this._scrollView},O&&s.createElement(i.a,null,S?T.map(e=>Object(d.a)({instructionOrExpressionMetadata:e,iconSize:n,onClick:()=>E(e.type,e),selectedValue:Object(b.b)(t)})):Object(h.a)({instructionTreeNode:l,iconSize:n,onChoose:E,useSubheaders:C,selectedValue:Object(b.b)(t),initiallyOpenedPath:this.initialInstructionTypePath,selectedItemRef:this._selectedItem})),!O&&s.createElement(g.b,null,s.createElement(p.a,null,s.createElement(o.Trans,{id:"Nothing corresponding to your search. Try browsing the list instead."}))))))}}},374:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));const a=e.gd,o=(e,t)=>{const n=a.PlatformExtension.getNamespaceSeparator();return e.filter(e=>{if(!e.isPrivate)return!0;const a=e.scope.behaviorMetadata,o=t.eventsBasedBehavior,s=t.eventsFunctionsExtension;return!!(a&&o&&s&&(i=s.getName(),r=o.getName(),i+n+r===a.getName()));var i,r})}}).call(this,n(1))},375:function(e,t,n){"use strict";var a=n(2),o=n(122);const s={oneColumnContainer:{display:"flex",flexDirection:"column"},twoColumnsContainer:{display:"flex"}};t.a=e=>"small"===e.windowWidth?a.createElement("div",{style:s.oneColumnContainer,className:e.className},e.renderConditionsList({style:{},className:"".concat(o.c," ").concat(o.s)}),e.renderActionsList({style:{},className:"".concat(o.a," ").concat(o.s)})):a.createElement("div",{style:s.twoColumnsContainer,className:e.className},e.renderConditionsList({style:{width:"calc(35vw - ".concat(e.leftIndentWidth,"px)")},className:o.c}),e.renderActionsList({className:o.a}))},376:function(e,t,n){"use strict";function a(e,t,n){let a=null;return t&&t.hasObjectNamed(n)?a=t.getObject(n):e.hasObjectNamed(n)&&(a=e.getObject(n)),a}n.d(t,"a",(function(){return a}))},377:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return i}));const a=()=>({"PhysicsBehavior::PhysicsBehavior":{warning:{id:"A new physics engine (Physics Engine 2.0) is now available. You should prefer using it for new game. For existing games, note that the two behaviors are not compatible, so you should only use one of them with your objects."}}}),o=()=>({"Video::VideoObject":!0,"SkeletonObject::Skeleton":!0}),s=()=>({"Video::VideoObject":[{kind:"warning",message:{id:"Most browsers will require the user to have interacted with your game before allowing any video to play. Make sure that the player click/touch the screen at the beginning of the game before starting any video."}},{kind:"warning",message:{id:"For a given video resource, only one video will be played in memory and displayed. If you put this object multiple times on the scene, all the instances will be displaying the exact same video (with the same timing and paused/played/stopped state)."}},{kind:"info",message:{id:"Video format supported can vary according to devices and browsers. For maximum compatibility, use H.264/mp4 file format (and AAC for audio)."}}],"SkeletonObject::Skeleton":[{kind:"warning",message:{id:"This object is experimental and not actively maintained. It might have bugs or incomplete support in GDevelop. A maintainer is searched to improve the object implementation and solve any issue. Your help is welcome!"}},{kind:"info",message:{id:"Only use this object if you can contribute back to the source code or are able to remove/replace it from your game in a future version."}}]}),i=e=>0===e.indexOf("PhysicsBehavior::")?{kind:"warning",message:{id:'This action is deprecated and should not be used anymore. Instead, use for all your objects the behavior called "Physics2" and the associated actions (in this case, all objects must be set up to use Physics2, you can\'t mix the behaviors).'}}:"TextObject::Size"===e?{kind:"warning",message:{id:"This action will create a new texture and re-render the text each time it is called, which is expensive and can reduce performances. Prefer to avoid changing a lot the character size of a text."}}:"PlayMusicCanal"===e||"PlayMusic"===e?{kind:"warning",message:{id:"Musics will only be played if the user has interacted with the game before (by clicking/touching it or pressing a key on the keyboard). This is due to browser limitations. Make sure to have the user interact with the game before using this action."}}:null},378:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h}));var a=n(90);const o=e.gd,s=(e,t)=>{e.setExtensionInformation(t.getName(),t.getFullName()||t.getName(),t.getDescription(),"","")},i=(e,t)=>{const n=new o.BehaviorJsImplementation;return n.updateProperty=function(e,n,o){let s=!1;return Object(a.mapVector)(t.getPropertyDescriptors(),t=>{if(t.getName()===n){s=!0;const a=e.addChild(n),i=t.getType();"String"===i||"Choice"===i?a.setStringValue(o):"Number"===i?a.setDoubleValue(parseFloat(o)):"Boolean"===i&&a.setBoolValue("1"===o)}}),s},n.getProperties=function(e){var n=new o.MapStringPropertyDescriptor;return Object(a.mapVector)(t.getPropertyDescriptors(),t=>{const a=t.toPropertyDescriptor(),o=a.getType();e.hasChild(t.getName())&&("String"===o||"Choice"===o?a.setValue(e.getChild(t.getName()).getStringValue()):"Number"===o?a.setValue(""+e.getChild(t.getName()).getDoubleValue()):"Boolean"===o&&a.setValue(e.getChild(t.getName()).getBoolValue()?"true":"false")),n.set(t.getName(),a)}),n},n.initializeContent=function(e){Object(a.mapVector)(t.getPropertyDescriptors(),t=>{const n=e.addChild(t.getName()),a=t.getType();"String"===a||"Choice"===a?n.setStringValue(t.getValue()):"Number"===a?n.setDoubleValue(parseFloat(t.getValue())||0):"Boolean"===a&&n.setBoolValue("true"===t.getValue())})},e.addBehavior(t.getName(),t.getFullName()||t.getName(),t.getName(),t.getDescription(),"","res/function24.png",t.getName(),n,new o.BehaviorsSharedData).setObjectType(t.getObjectType())},r=e=>-1!==["onCreated","onActivate","onDeActivate","doStepPreEvents","doStepPostEvents","onDestroy","onOwnerRemovedFromScene"].indexOf(e),l=e=>o.EventsFunctionsExtension.isExtensionLifecycleEventsFunction(e),c=(e,t,n)=>{const a=n.getFunctionType();return a===o.EventsFunction.Expression?e.addExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),t.getFullName()||t.getName(),"res/function.png"):a===o.EventsFunction.StringExpression?e.addStrExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),t.getFullName()||t.getName(),"res/function.png"):a===o.EventsFunction.Condition?e.addCondition(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),t.getFullName()||t.getName(),"res/function.png","res/function24.png"):e.addAction(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),t.getFullName()||t.getName(),"res/function.png","res/function24.png")},u=(e,t,n)=>{const a=n.getFunctionType();return a===o.EventsFunction.Expression?e.addExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),t.getFullName()||t.getName(),"res/function.png"):a===o.EventsFunction.StringExpression?e.addStrExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),t.getFullName()||t.getName(),"res/function.png"):a===o.EventsFunction.Condition?e.addScopedCondition(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),t.getFullName()||t.getName(),"res/function.png","res/function24.png"):e.addScopedAction(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),t.getFullName()||t.getName(),"res/function.png","res/function24.png")},d=(e,t,n)=>{const s=e=>(e.addParameter("object","Object","",!1),e.getParameter(e.getParametersCount()-1).setExtraInfo(n.getObjectType()),e.addParameter("behavior","Behavior",n.getName(),!1),e.setPrivate(),e);Object(a.mapVector)(n.getPropertyDescriptors(),a=>{const i=a.getType(),r=a.getName(),l=o.BehaviorCodeGenerator.getBehaviorPropertyGetterName(r),c=o.BehaviorCodeGenerator.getBehaviorPropertySetterName(r),u=a.getLabel()||e._({id:"{propertyName} property",values:{propertyName:r}});"String"===i||"Choice"===i?(s(t.addStrExpression(o.EventsBasedBehavior.getPropertyExpressionName(r),u,u,n.getFullName()||n.getName(),"res/function.png")).getCodeExtraInformation().setFunctionName(l),s(t.addScopedCondition(o.EventsBasedBehavior.getPropertyConditionName(r),u,e._({id:"Compare the content of {propertyLabel}",values:{propertyLabel:u}}),e._({id:"the property {propertyName}",values:{propertyName:r}}),n.getFullName()||n.getName(),"res/function.png")).useStandardRelationalOperatorParameters("string").getCodeExtraInformation().setFunctionName(l),s(t.addScopedAction(o.EventsBasedBehavior.getPropertyActionName(r),u,e._({id:"Change the content of {propertyLabel}",values:{propertyLabel:u}}),e._({id:"the property {propertyName}",values:{propertyName:r}}),n.getFullName()||n.getName(),"res/function.png")).useStandardOperatorParameters("string").getCodeExtraInformation().setFunctionName(c).setManipulatedType("string").setGetter(l)):"Number"===i?(s(t.addExpression(o.EventsBasedBehavior.getPropertyExpressionName(r),u,u,n.getFullName()||n.getName(),"res/function.png")).getCodeExtraInformation().setFunctionName(l),s(t.addScopedCondition(o.EventsBasedBehavior.getPropertyConditionName(r),u,e._({id:"Compare the value of {propertyLabel}",values:{propertyLabel:u}}),e._({id:"the property {propertyName}",values:{propertyName:r}}),n.getFullName()||n.getName(),"res/function.png")).useStandardRelationalOperatorParameters("number").getCodeExtraInformation().setFunctionName(l),s(t.addScopedAction(o.EventsBasedBehavior.getPropertyActionName(r),u,e._({id:"Change the value of {propertyLabel}",values:{propertyLabel:u}}),e._({id:"the property {propertyName}",values:{propertyName:r}}),n.getFullName()||n.getName(),"res/function.png")).useStandardOperatorParameters("number").getCodeExtraInformation().setFunctionName(c).setGetter(l)):"Boolean"===i&&(s(t.addScopedCondition(o.EventsBasedBehavior.getPropertyConditionName(r),u,e._({id:"Check the value of {propertyLabel}",values:{propertyLabel:u}}),e._({id:"Property {propertyName} of _PARAM0_ is true",values:{propertyName:r}}),n.getFullName()||n.getName(),"res/function.png","res/function24.png")).getCodeExtraInformation().setFunctionName(l),s(t.addScopedAction(o.EventsBasedBehavior.getPropertyActionName(r),u,e._({id:"Update the value of {propertyLabel}",values:{propertyLabel:u}}),e._({id:"Set property {propertyName} of _PARAM0_ to _PARAM2_",values:{propertyName:r}}),n.getFullName()||n.getName(),"res/function.png")).addParameter("yesorno",e._({id:"New value to set"}),"",!1).getCodeExtraInformation().setFunctionName(c))})},h=(e,t)=>{Object(a.mapVector)(e.getParameters(),e=>{e.isCodeOnly()?t.addCodeOnlyParameter(e.getType(),""):(t.addParameter(e.getType(),e.getDescription(),"",e.isOptional()),t.setParameterLongDescription(e.getLongDescription())),t.getParameter(t.getParametersCount()-1).setExtraInfo(e.getExtraInfo())}),t.addCodeOnlyParameter("eventsFunctionContext","")}}).call(this,n(1))},379:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(2);let a=!1;"undefined"!==typeof window&&window.addEventListener("touchstart",(function e(){console.info("Touch detected, considering the screen as touch enabled."),a=!0,window.removeEventListener("touchstart",e,!1)}),!1);const o=({children:e})=>"undefined"===typeof window?e("normal"):e(a?"touch":"normal")},380:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(78),o=n(72),s=n(2),i=n(807),r=n(848),l=n(101),c=n(248),u=n.n(c);n(1870),n(1871);const d=(e,t,n,o,s)=>{if(!e)return t;if("string"!==typeof e){if("end"===n&&e.second&&"string"!==typeof e.second)return Object(a.a)({},e,{second:d(e.second,t,n,o,s)});if("start"===n&&e.first&&"string"!==typeof e.first)return Object(a.a)({},e,{first:d(e.first,t,n,o,s)})}return{direction:"row"===s?"column":"row",first:"end"===n?e:t,second:"end"===n?t:e,splitPercentage:o}},h=(e,t,n)=>e?"string"===typeof e?e===t?n:e:e===t?n:Object(a.a)({},e,{first:h(e.first,t,n),second:h(e.second,t,n)}):e,p=[s.createElement(r.a,{key:"close"})],m=e=>s.createElement("div",{className:"mosaic-preview"},s.createElement("div",{className:"mosaic-window-toolbar"},s.createElement("div",{className:"mosaic-window-title"},e.title)),s.createElement("div",{className:"mosaic-window-body"})),g=e=>s.createElement(i.MosaicWindow,Object.assign({},e,{toolbarControls:e.toolbarControls||p,renderPreview:m}));class b extends s.Component{constructor(...e){super(...e),this.state={mosaicNode:this.props.initialNodes},this.openEditor=(e,t,n,a)=>{const o=this.props,s=o.editors,r=o.limitToOneSecondaryEditor,l=this.props.editors[e];if(!l)return!1;const c=Object(i.getLeaves)(this.state.mosaicNode);if(-1!==c.indexOf(e))return!1;if(r&&"secondary"===l.type){const t=c.find(e=>"secondary"===s[e].type);if(t)return this.setState({mosaicNode:h(this.state.mosaicNode,t,e)}),this._persistNodes(),!0}return this.setState({mosaicNode:d(this.state.mosaicNode,e,t,n,a)}),this._persistNodes(),!0},this._onChange=e=>{this.setState({mosaicNode:e}),this._persistNodes()},this._persistNodes=u()(()=>{this.props.onPersistNodes&&this.state.mosaicNode&&this.props.onPersistNodes(this.state.mosaicNode)},2e3)}render(){const e=this.props.editors;return s.createElement(l.a,null,t=>s.createElement(i.MosaicWithoutDragDropContext,{className:"".concat(t.mosaicRootClassName," mosaic-blueprint-theme mosaic-gd-theme"),renderTile:(t,n)=>{const a=e[t];return a?a.noTitleBar?a.renderEditor():s.createElement(o.I18n,null,({i18n:e})=>s.createElement(g,{path:n,title:e._(a.title),toolbarControls:a.toolbarControls},a.renderEditor())):(console.error("Trying to render un unknown editor: "+t),null)},value:this.state.mosaicNode,onChange:this._onChange}))}}},394:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));const a=e.gd;class o{constructor(){this.selection=[]}hasSelectedInstances(){return!!this.getSelectedInstances().length}getSelectedInstances(){return this.selection}isInstanceSelected(e){for(var t=0;t<this.selection.length;t++)if(a.compare(this.selection[t],e))return!0;return!1}clearSelection(){this.selection.length=0}selectInstance(e,t,n=null){this.isInstanceSelected(e)?t&&this.unselectInstance(e):(t||this.clearSelection(),n&&!n[e.getLayer()]||this.selection.push(e))}selectInstances(e,t,n=null){t||this.clearSelection(),e.forEach(e=>this.selectInstance(e,!0,n))}unselectInstance(e){if(this.isInstanceSelected(e)){for(var t=this.selection.length-1;t>=-1&&this.selection[t].ptr!==e.ptr;)--t;this.selection.splice(t,1)}}}}).call(this,n(1))},395:function(e,t,n){"use strict";(function(e){var a=n(1908),o=n(1909),s=n(1910),i=n(1911),r=n(1931),l=n(1932),c=n(1933),u=n(1934);const d=e.gd;t.a={getEditorConfiguration(e){return this.editorConfigurations[e]||console.warn("Object with type ".concat(e," has no editor configuration registered. Please use registerEditorConfiguration to register your editor.")),this.editorConfigurations[e]},registerEditorConfiguration:function(e,t){t.component?t.createNewObject?t.castToObjectType?this.editorConfigurations.hasOwnProperty(e)?console.warn('Tried to register editor configuration for object "'.concat(e,'", but an editor configuration already exists.')):(console.info('Properly registered editor configuration for object "'.concat(e,'".')),this.editorConfigurations[e]=t):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "castToObjectType" property is not defined.')):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "createNewObject" property is not defined.')):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "component" property is not defined.'))},getDefaultObjectJsImplementationPropertiesEditor:e=>({component:u.a,createNewObject:e=>d.asObjectJsImplementation(e).clone().release(),castToObjectType:e=>d.asObjectJsImplementation(e),helpPagePath:e.helpPagePath}),editorConfigurations:{Sprite:{component:i.a,createNewObject:()=>new d.SpriteObject(""),castToObjectType:e=>d.asSpriteObject(e),helpPagePath:"/objects/sprite"},"TiledSpriteObject::TiledSprite":{component:o.a,createNewObject:()=>new d.TiledSpriteObject(""),castToObjectType:e=>d.asTiledSpriteObject(e),helpPagePath:"/objects/tiled_sprite"},"PanelSpriteObject::PanelSprite":{component:s.a,createNewObject:()=>new d.PanelSpriteObject(""),castToObjectType:e=>d.asPanelSpriteObject(e),helpPagePath:"/objects/panel_sprite"},"TextObject::Text":{component:a.a,createNewObject:()=>new d.TextObject(""),castToObjectType:e=>d.asTextObject(e),helpPagePath:"/objects/text"},"PrimitiveDrawing::Drawer":{component:l.a,createNewObject:()=>new d.ShapePainterObject(""),castToObjectType:e=>d.asShapePainterObject(e),helpPagePath:"/objects/shape_painter"},"TextEntryObject::TextEntry":{component:r.a,createNewObject:()=>new d.TextEntryObject(""),castToObjectType:e=>d.asTextEntryObject(e),helpPagePath:"/objects/text_entry"},"ParticleSystem::ParticleEmitter":{component:c.a,createNewObject:()=>new d.ParticleEmitterObject(""),castToObjectType:e=>d.asParticleEmitterObject(e),helpPagePath:"/objects/particles_emitter"},"SkeletonObject::Skeleton":{component:u.a,createNewObject:()=>new d.SkeletonObject(""),castToObjectType:e=>d.castObject(e,d.SkeletonObject),helpPagePath:"/objects/skeleton"}}}}).call(this,n(1))},400:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return h}));var a=n(236),o=n.n(a),s=n(22);const i=()=>[{planId:"gdevelop_pro",name:"GDevelop Pro",monthlyPriceInEuros:7,smallDescription:{id:"Ideal for advanced game makers"},descriptionBullets:[{message:{id:"Package your game for Android up to 70 times a day (every 24 hours)."}},{message:{id:"One-click packaging for Windows, macOS and Linux up to 70 times a day (every 24 hours)."}},{message:{id:"Use Live Preview over Wifi to quickly test your game on mobiles and tablets."},isLocalAppOnly:!0},{message:{id:"Use the Debugger to find and solve issues in your games."},isLocalAppOnly:!0},{message:{id:"Immerse your players by removing GDevelop logo when the game loads."}}],extraDescription:{id:"You'll also have access to online packaging for iOS or other services when they are released."}},{planId:"gdevelop_indie",name:"GDevelop Indie",monthlyPriceInEuros:2,smallDescription:{id:"Ideal for beginners"},descriptionBullets:[{message:{id:"Package your game for Android up to 10 times a day (every 24 hours)."}},{message:{id:"One-click packaging for Windows, macOS and Linux up to 10 times a day (every 24 hours)."}},{message:{id:"Use Live Preview over Wifi to quickly test your game on mobiles and tablets."},isLocalAppOnly:!0},{message:{id:"Use the Debugger to find and solve issues in your games."},isLocalAppOnly:!0},{message:{id:"Immerse your players by removing GDevelop logo when the game loads"}}],extraDescription:{id:"You'll also have access to online packaging for iOS or other services when they are released."}},{planId:null,name:"No subscription",monthlyPriceInEuros:0,descriptionBullets:[{message:{id:"You can use GDevelop for free! Online packaging for Android, Windows, macOS and Linux is limited to twice a day (every 24 hours) to avoid overloading the services."}}]}],r=(e,t)=>e().then(e=>o.a.get("".concat(s.f.baseUrl,"/usage"),{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data),l=(e,t)=>e().then(e=>o.a.get("".concat(s.f.baseUrl,"/limits"),{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data.limits),c=(e,t)=>e().then(e=>o.a.get("".concat(s.f.baseUrl,"/subscription-v2"),{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data),u=(e,t,n)=>e().then(e=>o.a.post("".concat(s.f.baseUrl,"/subscription-v2"),n,{params:{userId:t},headers:{Authorization:e}})).then(e=>e.data),d=e=>o.a.post("".concat(s.f.baseUrl,"/upload-options/signed-url"),e).then(e=>e.data),h=(e,t,n)=>"".concat(s.f.baseUrl,"/subscription-v2/redirect-to-checkout?planId=").concat(encodeURIComponent(e),"&clientReferenceId=").concat(encodeURIComponent(t),"&customerEmail=").concat(encodeURIComponent(n))},402:function(e,t,n){"use strict";var a=n(2),o=n(198),s=n(78),i=n(100),r=n(134),l=n(94),c=n(101);const u={itemName:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},textField:{top:l.c}};class d extends a.Component{componentDidUpdate(e){!e.editingName&&this.props.editingName&&setTimeout(()=>{this.textField&&this.textField.focus()},100)}render(){const e=this.props,t=e.item,n=e.itemName,o=e.isBold,d=e.selected,h=e.getThumbnail,p=e.errorStatus,m=e.onEdit,g=e.onItemSelected,b=e.hideMenuButton,f=e.connectIconDragSource;return a.createElement(c.a,null,e=>{const c=this.props.editingName?a.createElement(l.b,{id:"rename-item-field",margin:"none",ref:e=>this.textField=e,defaultValue:n,onBlur:e=>this.props.onRename(e.currentTarget.value),onKeyPress:e=>{13===e.charCode&&this.textField&&this.textField.blur()},fullWidth:!0,style:u.textField}):a.createElement("div",{style:Object(s.a)({},u.itemName,{color:d?e.listItem.selectedTextColor:void 0,fontStyle:o?"italic":void 0,fontWeight:o?"bold":"normal"})},n),E={borderBottom:"1px solid ".concat(e.listItem.separatorColor),backgroundColor:d?""===p?e.listItem.selectedBackgroundColor:"error"===p?e.listItem.selectedErrorBackgroundColor:e.listItem.selectedWarningBackgroundColor:void 0,color:""===p?void 0:"error"===p?e.listItem.errorTextColor:e.listItem.warningTextColor},v=h?a.createElement(r.a,{iconSize:24,src:h()}):null;return a.createElement(i.b,{style:Object(s.a)({},E),primaryText:c,leftIcon:f&&v?f(a.createElement("div",null,v)):v,displayMenuButton:!b,buildMenuTemplate:this.props.buildMenuTemplate,onClick:()=>{g&&(this.props.editingName||g(d?null:t))},onDoubleClick:e=>{0===e.button&&m&&(this.props.editingName||(g(null),m(t)))}})})}}var h=d,p=n(439),m=n(794);const g={borderTop:"2px solid #18dcf2",height:0,marginTop:"-1px",marginBottom:"-1px",width:"100%",boxSizing:"border-box"};function b({canDrop:e}){return a.createElement(c.a,null,t=>a.createElement("div",{style:Object(s.a)({},g,{borderColor:e?t.listItem.selectedBackgroundColor:t.listItem.selectedErrorBackgroundColor})}))}var f=n(156),E=n(379);n.d(t,"a",(function(){return v}));class v extends a.Component{constructor(...e){super(...e),this.DragSourceAndDropTarget=Object(m.a)(this.props.reactDndType)}forceUpdateGrid(){this._list&&this._list.forceUpdateGrid()}_renderItemRow(e,t,n,o){const s=this.props,i=s.selectedItems,r=s.getItemThumbnail,l=s.erroredItems,c=s.isItemBold,u=s.onEditItem,d=s.renamedItem,p=s.getItemName,m=d===e,g=p(e);return a.createElement(h,{item:e,itemName:g,isBold:!!c&&c(e),onRename:t=>this.props.onRename(e,t),editingName:m,getThumbnail:r?()=>r(e):void 0,selected:-1!==i.indexOf(e),onItemSelected:this.props.onItemSelected,errorStatus:l&&l[g]||"",buildMenuTemplate:()=>this.props.buildMenuTemplate(e,t),onEdit:u,hideMenuButton:"small"===n,connectIconDragSource:o||null})}render(){const e=this.props,t=e.height,n=e.width,s=e.fullList,r=e.addNewItemLabel,l=e.renamedItem,c=e.getItemThumbnail,u=e.onAddNewItem,d=e.onMoveSelectionToItem,h=e.canMoveSelectionToItem,m=this.DragSourceAndDropTarget;return a.createElement(f.a,null,e=>a.createElement(E.a,null,g=>a.createElement(o.c,{ref:e=>this._list=e,height:t,rowCount:s.length+(u?1:0),rowHeight:c?i.c:i.d,rowRenderer:({index:t,key:n,style:o})=>{if(t>=s.length)return a.createElement("div",{style:o,key:n},a.createElement(p.a,{disabled:!0,onClick:u,primaryText:r}));const i=s[t],c=l===i;return a.createElement("div",{style:o,key:n},a.createElement(m,{beginDrag:()=>(this.props.onItemSelected(i),{}),canDrag:()=>!c,canDrop:()=>!h||h(i),drop:()=>{d(i)}},({connectDragSource:n,connectDropTarget:o,isOver:s,canDrop:r})=>{const l=o(a.createElement("div",null,s&&a.createElement(b,{canDrop:r}),this._renderItemRow(i,t,e,"touch"===g?n:null)));return l?"touch"===g?l:n(l):null}))},width:n})))}}},403:function(e,t,n){"use strict";var a=n(2),o=n(112),s=n(226),i=n(689);class r extends a.Component{constructor(e){super(e),this.state=this._loadFrom(e)}componentWillReceiveProps(e){e.resourceName===this.props.resourceName&&e.project===this.props.project||this.setState(this._loadFrom(e))}_loadFrom(e){const t=e.project,n=e.resourceName,a=t.getResourcesManager();return{resourceKind:a.hasResource(n)?a.getResource(n).getKind():null}}render(){switch(this.state.resourceKind){case"image":return a.createElement(i.a,{project:this.props.project,resourceName:this.props.resourceName,resourcesLoader:this.props.resourcesLoader,children:this.props.children,style:this.props.style,onSize:this.props.onSize,selectable:this.props.selectable,selected:this.props.selected,onSelect:this.props.onSelect,onContextMenu:this.props.onContextMenu});default:return null}}}const l={container:{flex:1,display:"flex",alignItems:"flex-end"},selectorContainer:{flex:1},resourceThumbnail:{marginLeft:10,marginBottom:4}};t.a=({project:e,resourceSources:t,onChooseResource:n,resourceExternalEditors:i,resourceKind:c,resourceName:u,onChange:d,floatingLabelText:h,hintText:p})=>a.createElement("div",{style:l.container},a.createElement("div",{style:l.selectorContainer},a.createElement(s.a,{project:e,resourceSources:t,onChooseResource:n,resourceExternalEditors:i,resourcesLoader:o.a,resourceKind:c,fullWidth:!0,initialResourceName:u,onChange:d,floatingLabelText:h,hintText:p})),a.createElement(r,{resourceName:u,resourcesLoader:o.a,project:e,style:l.resourceThumbnail}))},439:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var a=n(2),o=n.n(a),s=n(100),i=n(175);const r=e=>o.a.createElement(s.b,{onClick:e.onClick,primaryText:o.a.createElement(i.a,null,e.primaryText),displayAddIcon:!0}),l=e=>o.a.createElement(s.b,{onClick:e.onClick,primaryText:o.a.createElement(i.a,null,e.primaryText),displaySearchIcon:!0})},440:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(78),o=n(2),s=n.n(o);const i=e.gd,r=(e,{newObjectCreator:t,propName:n,useProjectToUnserialize:r})=>class extends o.Component{constructor(e){super(e),this._apply=()=>{if(!this.props[n])return;const e=new i.SerializerElement;this.state.serializableObject.serializeTo(e),r?this.props[n].unserializeFrom(this.props.project,e):this.props[n].unserializeFrom(e),e.delete(),this.props.onApply&&this.props.onApply()},this._cancel=()=>{this.props.onCancel&&this.props.onCancel()},this.state={serializableObject:t()},this._loadFrom(e[n])}componentWillUnmount(){this.state.serializableObject.delete()}componentWillReceiveProps(e){(!this.props.open&&e.open||e.open&&this.props[n]!==e[n])&&this._loadFrom(e[n])}_loadFrom(e){if(!e)return;const t=new i.SerializerElement;e.serializeTo(t),r?this.state.serializableObject.unserializeFrom(this.props.project,t):this.state.serializableObject.unserializeFrom(t),t.delete()}render(){const t=this.props;return s.a.createElement(e,Object(a.a)({},t,{[n]:this.state.serializableObject,onCancel:this._cancel,onApply:this._apply}))}}}).call(this,n(1))},442:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var a=n(78),o=n(2),s=n(265);const i={display:"flex"},r={display:"flex",alignItems:"center",paddingLeft:4,paddingRight:4},l=e=>{const t=o.useContext(s.a);return o.createElement("div",{style:Object(a.a)({},i,{backgroundColor:t.list.itemsBackgroundColor})},e.children)},c=e=>o.createElement("div",{style:Object(a.a)({},r,{flex:e.expand?1:void 0},e.style)},e.children)},447:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(84),i=n(82),r=n(86),l=n(1122),c=n.n(l),u=n(1123),d=n.n(u),h=n(283),p=n(75),m=n(8),g=n(83);const b={icon:{width:40,height:40,marginRight:20},iconText:{flex:1}};class f extends o.Component{constructor(...e){super(...e),this.state={open:!1},this._closeDialog=()=>{Object(m.l)(),this.setState({open:!1})}}checkHasSubscription(){const e=this.props,t=e.userProfile,n=e.mode,a=e.id;if(t.subscription){if(!!t.subscription.planId)return this.setState({open:!1}),!0}return this.setState({open:!0}),Object(m.k)({mode:n,id:a}),!1}render(){const e=this.state.open,t=this.props,n=t.onChangeSubscription,l=t.mode;return e?o.createElement(r.a,{actions:[n&&o.createElement(s.a,{label:o.createElement(a.Trans,{id:"Get a subscription or login"}),key:"subscribe",primary:!0,onClick:()=>{this.setState({open:!1}),n()}})],secondaryActions:[o.createElement(i.a,{label:"try"===l?o.createElement(a.Trans,{id:"Continue anyway"}):o.createElement(a.Trans,{id:"Not now, thanks!"}),key:"close",primary:!1,onClick:this._closeDialog})],cannotBeDismissed:!1,onRequestClose:this._closeDialog,open:e,title:this.props.title},o.createElement(p.a,{noMargin:!0},o.createElement(p.b,{noMargin:!0,alignItems:"center"},"try"===l?o.createElement(g.a,null,o.createElement(a.Trans,{id:"You can try this feature, but if you're using it regularly, we ask you to get a subscription to GDevelop."})):o.createElement(g.a,null,o.createElement(a.Trans,{id:"To use this feature, we ask you to get a subscription to GDevelop."}))),o.createElement(p.b,{noMargin:!0,alignItems:"center"},o.createElement(c.a,{style:b.icon}),o.createElement(g.a,{style:b.iconText},o.createElement(a.Trans,{id:"Having a subscription allows you to use the one-click export for Android, Windows, macOS and Linux, launch live previews over wifi, disable the GDevelop splashscreen during loading and more!"}))),o.createElement(p.b,{noMargin:!0,alignItems:"center"},o.createElement(d.a,{style:b.icon}),o.createElement(g.a,{style:b.iconText},o.createElement(a.Trans,{id:"You're also supporting the development of GDevelop, an open-source software! In the future, more online services will be available for users with a subscription."}))),o.createElement(p.c,null),o.createElement(p.c,null),o.createElement(p.c,null),o.createElement(p.c,null),o.createElement(g.a,{align:"right"},o.createElement("b",null,o.createElement(a.Trans,{id:"Thanks!"}))))):null}}class E extends o.Component{constructor(...e){super(...e),this._dialog=null}checkHasSubscription(){return!!this._dialog&&this._dialog.checkHasSubscription()}render(){return o.createElement(h.a.Consumer,null,e=>o.createElement(f,{userProfile:e,ref:e=>this._dialog=e,onChangeSubscription:this.props.onChangeSubscription,id:this.props.id,title:this.props.title,mode:this.props.mode}))}}t.a=E},481:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return F}));var a=n(72),o=n(2),s=n(1472),i=n(1707),r=n(2298),l=n(1709),c=n(1710),u=n(1711),d=n(1712),h=n(1713),p=n(315),m=n(114),g=n(799),b=n(365),f=n(1714),E=n(1715),v=n(1716),y=n(1717),C=n(1719),x=n(1728),j=n(1729),S=n(120),T=n(1730),O=n(802),w=n(795),N=n(511),_=n(379),k=n(156);const P=e.gd,I={container:{display:"flex",width:"100%",flexDirection:"column",flex:1,position:"relative"}};class F extends o.Component{constructor(...e){super(...e),this._containerDiv=o.createRef(),this._keyboardShortcuts=new d.a({isActive:()=>!this.state.inlineEditing&&!this.state.editedInstruction.instruction&&!this.state.analyzedEventsContextResult&&!this.state.serializedEventsToExtract,shortcutCallbacks:{onDelete:()=>this.deleteSelection(),onCopy:()=>this.copySelection(),onCut:()=>this.cutSelection(),onPaste:()=>this.pasteEventsOrInstructions(),onSearch:()=>this._toggleSearchPanel(),onEscape:()=>this._closeSearchPanel(),onUndo:()=>this.undo(),onRedo:()=>this.redo()}}),this.state={history:Object(g.c)(this.props.events,{historyMaxSize:50}),editedInstruction:{isCondition:!0,instruction:null,instrsList:null,indexInList:0},editedParameter:{isCondition:!0,instruction:null,instrsList:null,parameterIndex:0},selection:Object(b.b)(),inlineEditing:!1,inlineEditingAnchorEl:null,inlineInstructionEditorAnchorEl:null,inlineEditingChangesMade:!1,analyzedEventsContextResult:null,serializedEventsToExtract:null,showSearchPanel:!1,searchResults:null,searchFocusOffset:null,allEventsMetadata:[],textEditedEvent:null},this._toggleSearchPanel=()=>{this.setState(e=>{const t=!e.showSearchPanel;return t||this._eventSearcher&&this._eventSearcher.reset(),{showSearchPanel:t}},()=>{this.state.showSearchPanel&&this._searchPanel&&this._searchPanel.focus()})},this._closeSearchPanel=()=>{this.setState({showSearchPanel:!1})},this.addSubEvents=()=>{const e=this.props.project;Object(b.d)(this.state.selection).forEach(t=>{t.canHaveSubEvents()&&t.getSubEvents().insertNewEvent(e,"BuiltinCommonInstructions::Standard",t.getSubEvents().getEventsCount())}),this._saveChangesToHistory(()=>{this._eventsTree&&this._eventsTree.forceEventsUpdate()})},this._selectionCanHaveSubEvents=()=>Object(b.d)(this.state.selection).some(e=>e.canHaveSubEvents()),this._selectionCanToggleDisabled=()=>Object(b.d)(this.state.selection).some(e=>e.isExecutable()),this.addNewEvent=(e,t)=>{const n=this.props.project,a=Object(b.h)(this.state.selection);let o=!1,s=[];t?s=[t]:a?("BuiltinCommonInstructions::Comment"!==e&&"BuiltinCommonInstructions::Group"!==e||(o=!0),s=Object(b.c)(this.state.selection).map(e=>({eventsList:e.eventsList,indexInList:o?e.indexInList-1:e.indexInList}))):s=[{eventsList:this.props.events,indexInList:this.props.events.getEventsCount()}];const i=s.map(t=>t.eventsList.insertNewEvent(n,e,t.indexInList+1));return this._saveChangesToHistory(()=>{const e=this._eventsTree;e&&e.forceEventsUpdate(()=>{t||a||e.scrollToEvent(i[0])})}),i},this.openEventTextDialog=()=>{const e=Object(c.b)(Object(b.d)(this.state.selection));if(!e.length)return;const t=e[e.length-1];this.setState({textEditedEvent:t})},this.closeEventTextDialog=()=>{this.setState({textEditedEvent:null})},this.openAddInstructionContextMenu=(e,t)=>{this.openInstructionEditor(t,e)},this.openInstructionEditor=(e,t=null)=>{this.state.editedInstruction.instruction&&(this.state.editedInstruction.instruction.delete(),console.warn("state.editedInstruction.instruction was containing an instruction - deleting it. Verify the logic handling the state in EventsSheet because that should not happen.")),this.setState({inlineInstructionEditorAnchorEl:t,editedInstruction:{instrsList:e.instrsList,isCondition:e.isCondition,instruction:e.instruction?e.instruction.clone():new P.Instruction,indexInList:void 0!==e.indexInList?e.indexInList:void 0}})},this.moveSelectionToInstruction=e=>{this.moveSelectionToInstructionsList({instrsList:e.instrsList,isCondition:e.isCondition},e.indexInList)},this.moveSelectionToInstructionsList=(e,t)=>{const n=Object(b.e)(this.state.selection),a=void 0===t?e.instrsList.size():t;!!n.filter(t=>Object(x.a)(t,e.instrsList)).length||(n.forEach(t=>e.instrsList.insert(t,a)),this._keyboardShortcuts.shouldCloneInstances()?this._saveChangesToHistory():this.deleteSelection({deleteEvents:!1}))},this.selectEvent=e=>{const t=this._keyboardShortcuts.shouldMultiSelect();this.setState({selection:Object(b.o)(this.state.selection,e,t)},()=>this.updateToolbar())},this.openEventContextMenu=(e,t,n)=>{const a=this._keyboardShortcuts.shouldMultiSelect();this.setState({selection:Object(b.o)(this.state.selection,n,a)},()=>{this.updateToolbar(),this.eventContextMenu.open(e,t)})},this.openInstructionContextMenu=(e,t,n)=>{const a=this._keyboardShortcuts.shouldMultiSelect();this.setState({selection:Object(b.p)(this.state.selection,n,a)},()=>{this.updateToolbar(),this.instructionContextMenu.open(e,t)})},this.selectInstruction=e=>{const t=this._keyboardShortcuts.shouldMultiSelect();this.setState({selection:Object(b.p)(this.state.selection,e,t)},()=>this.updateToolbar())},this.openParameterEditor=e=>{this.setState({editedParameter:e,inlineEditing:!0,inlineEditingAnchorEl:e.domEvent?e.domEvent.currentTarget:null,inlineEditingChangesMade:!1})},this.closeParameterEditor=()=>{this.state.inlineEditingChangesMade&&this._saveChangesToHistory(),this.setState({inlineEditing:!1,inlineEditingAnchorEl:null,inlineEditingChangesMade:!1})},this.toggleDisabled=()=>{Object(b.d)(this.state.selection).forEach(e=>e.setDisabled(!e.isDisabled())),this._saveChangesToHistory(()=>{this._eventsTree&&this._eventsTree.forceEventsUpdate()})},this.deleteSelection=({deleteInstructions:e=!0,deleteEvents:t=!0}={})=>{const n=this.props.events,a=new P.EventsRemover;t&&Object(b.d)(this.state.selection).forEach(e=>a.addEventToRemove(e)),e&&Object(b.e)(this.state.selection).forEach(e=>a.addInstructionToRemove(e)),a.launch(n),this._eventsTree&&this._eventsTree.forceEventsUpdate(),this.setState({selection:Object(b.a)(),inlineEditing:!1,inlineEditingAnchorEl:null},()=>{this._saveChangesToHistory(),this._ensureFocused()})},this.copySelection=()=>{Object(w.a)(this.state.selection)},this.cutSelection=()=>{this.copySelection(),this.deleteSelection()},this.pasteEvents=()=>{Object(w.e)(this.props.project,this.state.selection)&&this._saveChangesToHistory(()=>{this._eventsTree&&this._eventsTree.forceEventsUpdate()})},this.pasteInstructions=()=>{Object(w.g)(this.props.project,this.state.selection)&&this._saveChangesToHistory(()=>{this._eventsTree&&this._eventsTree.forceEventsUpdate()})},this.pasteEventsOrInstructions=()=>{Object(b.h)(this.state.selection)?this.pasteEvents():(Object(b.i)(this.state.selection)||Object(b.j)(this.state.selection))&&this.pasteInstructions()},this.pasteInstructionsInInstructionsList=e=>{Object(w.f)(this.props.project,e)&&this._saveChangesToHistory(()=>{this._eventsTree&&this._eventsTree.forceEventsUpdate()})},this._invertSelectedConditions=()=>{Object(b.f)(this.state.selection).forEach(e=>{e.isCondition&&e.instruction.setInverted(!e.instruction.isInverted())}),this._saveChangesToHistory(()=>{this._eventsTree&&this._eventsTree.forceEventsUpdate()})},this._saveChangesToHistory=e=>{this.setState({history:Object(g.e)(this.state.history,this.props.events)},()=>{this.updateToolbar(),e&&e()}),this._searchPanel&&this._searchPanel.markSearchResultsDirty()},this.undo=()=>{if(!Object(g.b)(this.state.history))return;const e=this.props,t=e.events,n=e.project,a=Object(g.f)(this.state.history,t,n);this._eventsTree&&this._eventsTree.forceEventsUpdate(),this.setState({history:a,selection:Object(b.a)()},()=>this.updateToolbar())},this.redo=()=>{if(!Object(g.a)(this.state.history))return;const e=this.props,t=e.events,n=e.project,a=Object(g.d)(this.state.history,t,n);this._eventsTree&&this._eventsTree.forceEventsUpdate(),this.setState({history:a,selection:Object(b.a)()},()=>this.updateToolbar())},this._openEventsContextAnalyzer=()=>{const e=this.props,t=e.globalObjectsContainer,n=e.objectsContainer,a=new P.EventsContextAnalyzer(P.JsPlatform.get(),t,n),o=new P.EventsList;Object(b.d)(this.state.selection).forEach(e=>o.insertEvent(e,o.getEventsCount())),a.launch(o),o.delete(),this.setState({analyzedEventsContextResult:Object(v.b)(a.getEventsContext())}),a.delete()},this._closeEventsContextAnalyzer=()=>{this.setState({analyzedEventsContextResult:null})},this.extractEventsToFunction=()=>{const e=new P.EventsList;Object(b.d)(this.state.selection).forEach(t=>e.insertEvent(t,e.getEventsCount())),this.setState({serializedEventsToExtract:Object(m.b)(e)}),e.delete()},this.moveEventsIntoNewGroup=()=>{const e=new P.EventsList;Object(b.d)(this.state.selection).forEach(t=>e.insertEvent(t,e.getEventsCount())),this._replaceSelectionByGroupOfEvents(e),e.delete()},this._replaceSelectionByEventsFunction=(e,t)=>{const n=Object(b.c)(this.state.selection);if(!n.length)return;const a=this.addNewEvent("BuiltinCommonInstructions::Standard",n[0]);if(!a.length)return void console.error("A new event should have been created");const o=Object(O.b)(e,t);P.asStandardEvent(a[0]).getActions().push_back(o),o.delete(),this.deleteSelection({deleteInstructions:!1})},this._replaceSelectionByGroupOfEvents=e=>{const t=Object(b.c)(this.state.selection);if(!t.length)return;const n=this.addNewEvent("BuiltinCommonInstructions::Group",t[0]);if(!n.length)return void console.error("A new event should have been created");const a=P.asGroupEvent(n[0]);a.setName("Grouped events"),a.setFolded(!0),a.getSubEvents().insertEvents(e,0,e.getEventsCount(),0),this.deleteSelection({deleteInstructions:!1})},this._ensureEventUnfolded=e=>{const t=e();t&&this._eventsTree&&this._eventsTree.unfoldForEvent(t)},this._replaceInEvents=(e,t)=>{e(t),this._saveChangesToHistory(()=>{this._eventsTree&&this._eventsTree.forceEventsUpdate()})},this._searchInEvents=(e,t)=>{e(t,()=>{this.forceUpdate(()=>{this._eventsTree&&this._eventsTree.forceEventsUpdate()})})},this._onEventMoved=()=>{this._saveChangesToHistory()},this._renderInstructionEditorDialog=e=>{const t=this.props,n=t.project,a=t.scope,s=t.globalObjectsContainer,c=t.objectsContainer,u=this.state.inlineInstructionEditorAnchorEl?l.a:e?i.a:r.a;return this.state.editedInstruction.instruction?o.createElement(u,{project:n,scope:a,globalObjectsContainer:s,objectsContainer:c,instruction:this.state.editedInstruction.instruction,isCondition:this.state.editedInstruction.isCondition,isNewInstruction:void 0===this.state.editedInstruction.indexInList,anchorEl:this.state.inlineInstructionEditorAnchorEl,open:!0,onCancel:()=>this.closeInstructionEditor(),onSubmit:()=>{const e=this.state.editedInstruction,t=e.instrsList,n=e.instruction,a=e.indexInList;t&&(void 0!==a?t.set(a,n):t.insert(n,t.size()),this.closeInstructionEditor(!0),Object(E.a)(t),this._eventsTree&&this._eventsTree.forceEventsUpdate())},resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:(e,t)=>{this.closeInstructionEditor(),this.props.openInstructionOrExpression(e,t)}}):void 0},this._ensureFocused=()=>{if(!this._containerDiv||!document)return;const e=this._containerDiv.current;if(document.activeElement!==e&&e){if(document.activeElement!==document.body&&e.contains(document.activeElement))return;e.focus()}}}componentDidMount(){this.setState({allEventsMetadata:Object(j.a)()})}componentDidUpdate(e,t){this.state.history!==t.history&&this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges()}updateToolbar(){this.props.setToolbar&&this.props.setToolbar(o.createElement(u.a,{allEventsMetadata:this.state.allEventsMetadata,onAddStandardEvent:()=>{this.addNewEvent("BuiltinCommonInstructions::Standard")},onAddSubEvent:this.addSubEvents,canAddSubEvent:Object(b.h)(this.state.selection),onAddCommentEvent:()=>{this.addNewEvent("BuiltinCommonInstructions::Comment")},onAddEvent:e=>{this.addNewEvent(e)},canRemove:Object(b.l)(this.state.selection),onRemove:this.deleteSelection,showPreviewButton:this.props.showPreviewButton,showNetworkPreviewButton:this.props.showNetworkPreviewButton,onPreview:()=>this.props.onPreview({}),previewButtonSettings:this.props.previewButtonSettings,onNetworkPreview:()=>this.props.onPreview({networkPreview:!0}),onOpenDebugger:()=>{this.props.onOpenDebugger(),this.props.onPreview({})},canUndo:Object(g.b)(this.state.history),canRedo:Object(g.a)(this.state.history),undo:this.undo,redo:this.redo,onOpenSettings:this.props.onOpenSettings,onToggleSearchPanel:this._toggleSearchPanel}))}closeInstructionEditor(e=!1){const t=this.state.editedInstruction.instruction;this.setState({editedInstruction:{isCondition:!0,instruction:null,instrsList:null,indexInList:0}},()=>{t&&t.delete(),e&&this._saveChangesToHistory()})}render(){const e=this.props,t=e.project,n=e.scope,i=e.events,r=e.onOpenExternalEvents,l=e.onOpenLayout,u=e.globalObjectsContainer,d=e.objectsContainer;return t?o.createElement(_.a,null,e=>o.createElement(k.a,null,m=>o.createElement(S.b.Consumer,null,({values:E})=>o.createElement(C.a,{key:i.ptr,ref:e=>this._eventSearcher=e,events:i,globalObjectsContainer:u,objectsContainer:d,selection:this.state.selection},({eventsSearchResultEvents:C,searchFocusOffset:x,searchInEvents:j,replaceInEvents:S,goToPreviousSearchResult:O,goToNextSearchResult:_})=>o.createElement("div",{className:"gd-events-sheet",style:I.container,onKeyDown:this._keyboardShortcuts.onKeyDown,onKeyUp:this._keyboardShortcuts.onKeyUp,onDragOver:this._keyboardShortcuts.onDragOver,ref:this._containerDiv,tabIndex:0},o.createElement(s.a,{ref:e=>this._eventsTree=e,key:i.ptr,onScroll:this._ensureFocused,events:i,project:t,scope:n,globalObjectsContainer:u,objectsContainer:d,selection:this.state.selection,onInstructionClick:this.selectInstruction,onInstructionDoubleClick:this.openInstructionEditor,onInstructionContextMenu:this.openInstructionContextMenu,onAddInstructionContextMenu:this.openAddInstructionContextMenu,onAddNewInstruction:this.openInstructionEditor,onPasteInstructions:this.pasteInstructionsInInstructionsList,onMoveToInstruction:this.moveSelectionToInstruction,onMoveToInstructionsList:this.moveSelectionToInstructionsList,onParameterClick:this.openParameterEditor,onEventClick:this.selectEvent,onEventContextMenu:this.openEventContextMenu,onAddNewEvent:e=>{this.addNewEvent("BuiltinCommonInstructions::Standard",e)},onOpenExternalEvents:r,onOpenLayout:l,searchResults:C,searchFocusOffset:x,onEventMoved:this._onEventMoved,showObjectThumbnails:E.eventsSheetShowObjectThumbnails,screenType:e,windowWidth:m}),this.state.showSearchPanel&&o.createElement(y.a,{ref:e=>this._searchPanel=e,onSearchInEvents:e=>this._searchInEvents(j,e),onReplaceInEvents:e=>this._replaceInEvents(S,e),resultsCount:C?C.length:null,hasEventSelected:Object(b.h)(this.state.selection),onGoToPreviousSearchResult:()=>this._ensureEventUnfolded(O),onGoToNextSearchResult:()=>this._ensureEventUnfolded(_)}),i&&0===i.getEventsCount()&&o.createElement(f.a,null),o.createElement(h.a,{open:this.state.inlineEditing,anchorEl:this.state.inlineEditingAnchorEl,onRequestClose:this.closeParameterEditor,project:t,scope:n,globalObjectsContainer:u,objectsContainer:d,isCondition:this.state.editedParameter.isCondition,instruction:this.state.editedParameter.instruction,parameterIndex:this.state.editedParameter.parameterIndex,onChange:e=>{const t=this.state.editedParameter,n=t.instruction,a=t.parameterIndex;n&&(n.setParameter(a,e),this.setState({inlineEditingChangesMade:!0}),this._searchPanel&&this._searchPanel.markSearchResultsDirty())},resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors}),o.createElement(p.a,{ref:e=>this.eventContextMenu=e,buildMenuTemplate:()=>[{label:"Edit",click:()=>this.openEventTextDialog(),visible:Object(c.b)(Object(b.d)(this.state.selection)).length>0},{label:"Copy",click:()=>this.copySelection(),accelerator:"CmdOrCtrl+C"},{label:"Cut",click:()=>this.cutSelection(),accelerator:"CmdOrCtrl+X"},{label:"Paste",click:()=>this.pasteEvents(),enabled:Object(w.d)(),accelerator:"CmdOrCtrl+V"},{label:"Delete",click:()=>this.deleteSelection(),accelerator:"Delete"},{label:"Toggle disabled",click:()=>this.toggleDisabled(),enabled:this._selectionCanToggleDisabled()},{type:"separator"},{label:"Add New Event Below",click:()=>this.addNewEvent("BuiltinCommonInstructions::Standard")},{label:"Add Sub Event",click:()=>this.addSubEvents(),enabled:this._selectionCanHaveSubEvents()},{label:"Add Other",submenu:this.state.allEventsMetadata.map(e=>({label:e.fullName,click:()=>this.addNewEvent(e.type)}))},{type:"separator"},{label:"Undo",click:this.undo,enabled:Object(g.b)(this.state.history),accelerator:"CmdOrCtrl+Z"},{label:"Redo",click:this.redo,enabled:Object(g.a)(this.state.history),accelerator:"CmdOrCtrl+Shift+Z"},{type:"separator"},{label:"Extract Events to a Function",click:()=>this.extractEventsToFunction()},{label:"Move Events into a Group",click:()=>this.moveEventsIntoNewGroup()},{label:"Analyze Objects Used in this Event",click:this._openEventsContextAnalyzer}]}),o.createElement(p.a,{ref:e=>this.instructionContextMenu=e,buildMenuTemplate:()=>[{label:"Copy",click:()=>this.copySelection(),accelerator:"CmdOrCtrl+C"},{label:"Cut",click:()=>this.cutSelection(),accelerator:"CmdOrCtrl+X"},{label:"Paste",click:()=>this.pasteInstructions(),enabled:Object(w.c)()||Object(w.b)(),accelerator:"CmdOrCtrl+V"},{type:"separator"},{label:"Delete",click:()=>this.deleteSelection(),accelerator:"Delete"},{type:"separator"},{label:"Undo",click:this.undo,enabled:Object(g.b)(this.state.history),accelerator:"CmdOrCtrl+Z"},{label:"Redo",click:this.redo,enabled:Object(g.a)(this.state.history),accelerator:"CmdOrCtrl+Shift+Z"},{label:"Invert Condition",click:()=>this._invertSelectedConditions(),visible:Object(b.k)(this.state.selection)}]}),this._renderInstructionEditorDialog(E.useNewInstructionEditorDialog||"touch"===e),this.state.analyzedEventsContextResult&&o.createElement(v.a,{onClose:this._closeEventsContextAnalyzer,eventsContextResult:this.state.analyzedEventsContextResult}),this.state.serializedEventsToExtract&&o.createElement(T.a,{project:t,globalObjectsContainer:u,objectsContainer:d,onClose:()=>this.setState({serializedEventsToExtract:null}),serializedEvents:this.state.serializedEventsToExtract,onCreate:(e,t)=>{this.props.onCreateEventsFunction(e,t),this._replaceSelectionByEventsFunction(e,t),this.setState({serializedEventsToExtract:null})}}),this.state.textEditedEvent&&o.createElement(c.a,{event:this.state.textEditedEvent,onApply:()=>{this.closeEventTextDialog(),this._saveChangesToHistory()},onClose:this.closeEventTextDialog}),o.createElement(N.a,{identifier:"edit-instruction-explanation",message:o.createElement(a.Trans,{id:"Double click on a condition or action to edit it."}),touchScreenMessage:o.createElement(a.Trans,{id:"Double tap a condition or action to edit it. Long press to show more options."}),show:Object(b.i)(this.state.selection)})))))):null}}}).call(this,n(1))},486:function(e,t,n){"use strict";(function(e){n(2);var a=n(730),o=n(1553),s=n(1554),i=n(1555),r=n(1556),l=n(487),c=n(1665),u=n(1666),d=n(1667),h=n(1680),p=n(1681),m=n(1682),g=n(1683),b=n(1684),f=n(1685),E=n(1686),v=n(1687),y=n(1688),C=n(1689),x=n(1690),j=n(1691),S=n(1692);const T=e.gd,O={default:a.a,mouse:i.a,object:l.a,relationalOperator:o.a,operator:s.a,yesorno:c.a,trueorfalse:u.a,expression:d.a,string:h.a,stringWithSelector:p.a,behavior:m.a,scenevar:g.a,globalvar:b.a,objectvar:f.a,layer:E.a,key:r.a,file:a.a,musicfile:v.a,soundfile:v.a,videoResource:y.a,jsonResource:C.a,color:x.a,police:a.a,joyaxis:a.a,forceMultiplier:j.a,sceneName:S.a},w={default:a.b,forceMultiplier:j.b,globalvar:b.b,scenevar:g.b,objectvar:f.b,key:r.b,mouse:i.b,object:l.b,yesorno:c.b,trueorfalse:u.b,operator:s.b,relationalOperator:o.b},N={mouse:{id:"Mouse button"},object:{id:"Object"},relationalOperator:{id:"Relational operator"},operator:{id:"Operator"},yesorno:{id:"Yes or No"},trueorfalse:{id:"True or False"},expression:{id:"Number"},string:{id:"String"},stringWithSelector:{id:"String"},behavior:{id:"Behavior"},scenevar:{id:"Scene variable"},globalvar:{id:"Global variable"},objectvar:{id:"Object variable"},layer:{id:"Layer"},key:{id:"Keyboard key"},musicfile:{id:"Audio resource"},soundfile:{id:"Audio resource"},videoResource:{id:"Video resource"},jsonResource:{id:"JSON resource"},color:{id:"Color"},forceMultiplier:{id:"Instant or permanent force"},sceneName:{id:"Scene name"}};t.a={components:O,getParameterComponent:e=>{const t=T.ParameterMetadata.isObject(e)?"object":e;return O.hasOwnProperty(t)?O[t]:O.default},renderInlineParameter:e=>{const t=e.parameterMetadata.getType(),n=T.ParameterMetadata.isObject(t)?"object":t;return(w[n]||w.default)(e)},getUserFriendlyTypeName:e=>{const t=T.ParameterMetadata.isObject(e)?"object":e;return N[t]||null}}}).call(this,n(1))},487:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(72),o=n(2),s=n(131),i=n.n(s),r=n(731),l=n(122);class c extends o.Component{constructor(e){super(e);const t=this.props.parameterMetadata;this._description=t?t.getDescription():void 0,this._longDescription=t?t.getLongDescription():void 0,this._allowedObjectType=t?t.getExtraInfo():void 0}focus(){this._field&&this._field.focus()}render(){return o.createElement(r.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,value:this.props.value,onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,allowedObjectType:this._allowedObjectType,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,floatingLabelText:this._description,helperMarkdownText:this._longDescription,fullWidth:!0,errorTextIfInvalid:this._allowedObjectType?o.createElement(a.Trans,{id:"The object does not exist or can't be used here."}):o.createElement(a.Trans,{id:"Enter the name of an object."}),openOnFocus:!this.props.value,ref:e=>this._field=e})}}const u=({value:e,parameterMetadata:t,renderObjectThumbnail:n,MissingParameterValue:a})=>e||t.isOptional()?o.createElement("span",{title:e,className:i()({[l.p]:!0})},n(e),e):o.createElement(a,null)},503:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(193),o=n(108);function s(e){class t extends a.a{constructor(t,n,a,s,i,r){super(t,n,a,s,i,r),this._pixiObject=new o.Sprite(o.Texture.fromImage(e)),this._pixiContainer.addChild(this._pixiObject)}update(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this._pixiObject.rotation=this._instance.getAngle()*Math.PI/180}static getThumbnail(t,n,a){return e}}return t}},504:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(21),o=n.n(a);n(84);const s=e=>{if(e&&e.current){const t=o.a.findDOMNode(e.current);if(t instanceof HTMLButtonElement)t.focus();else if(t instanceof HTMLElement){const e=t.getElementsByTagName("button");e&&e.length&&e[0]instanceof HTMLButtonElement&&e[0].focus()}}}},506:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var a=n(90);const o=(e,t,n)=>{const a=t.getParametersCount();return e.filter((e,o)=>!(o<n)&&(o<a&&!t.getParameter(o).isCodeOnly()))},s=e=>{const t=Object(a.mapVector)(e.metadata.getParameters(),e=>e.getType());return e.scope.objectMetadata?o(t,e.metadata,1):e.scope.behaviorMetadata?o(t,e.metadata,2):o(t,e.metadata,0)},i=(e,t)=>{const n=e.name||"";if(e.scope.objectMetadata){const a=t[0],s=o(t,e.metadata,1).join(", ");return"".concat(a,".").concat(n,"(").concat(s,")")}if(e.scope.behaviorMetadata){const a=t[0],s=t[1],i=o(t,e.metadata,2).join(", ");return"".concat(a,".").concat(s,"::").concat(n,"(").concat(i,")")}{const a=o(t,e.metadata,0).join(", ");return"".concat(n,"(").concat(a,")")}}},508:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return w}));var a=n(78),o=n(72),s=n(2),i=n(275),r=n(90),l=n(92),c=n(486),u=n(111),d=n(75),h=n(132),p=n(5),m=n(377),g=n(249),b=n(277),f=n.n(b),E=n(104),v=n(302),y=n(83),C=n(509),x=n(105);const j=e.gd,S={container:{display:"flex",flexDirection:"column",flex:1},emptyContainer:{display:"flex",alignItems:"center",justifyContent:"center"},parametersContainer:{flex:1,overflowY:"auto"},icon:{width:24,height:24,marginRight:8,flexShrink:0},invertToggle:{marginTop:8}},T=(e,t,n)=>{if(e.setParametersCount(t.getParametersCount()),n){const a=Object(v.e)(t);if(-1===a)return void console.error('Instruction "'.concat(t.getFullName(),'" is used for an object, but does not have an object as first parameter'));e.setParameter(a,n)}},O=(e,t,n)=>!e.isCodeOnly()&&t!==n;class w extends s.Component{constructor(...e){super(...e),this._firstVisibleField={},this.state={isDirty:!1},this._openExtension=e=>{if(this.state.isDirty){if(!p.b.showConfirmDialog(e._({id:"You've made some changes here. Are you sure you want to discard them and open the function?"})))return}const t=this.props,n=t.instruction,a=t.isCondition,o=t.project,s=n.getType();if(!s)return null;const i=a?j.MetadataProvider.getExtensionAndConditionMetadata(o.getCurrentPlatform(),s).getExtension():j.MetadataProvider.getExtensionAndActionMetadata(o.getCurrentPlatform(),s).getExtension();this.props.openInstructionOrExpression(i,s)}}componentDidMount(){this.props.focusOnMount&&setTimeout(()=>{this.focus()},300)}focus(){const e=this.props,t=e.instruction,n=e.isCondition,a=e.project;0!==this._getVisibleParametersCount(Object(C.a)({instructionType:t.getType(),isCondition:n,project:a}),this.props.objectName)&&this._firstVisibleField&&this._firstVisibleField.focus&&this._firstVisibleField.focus()}_getVisibleParametersCount(e,t){if(!e)return 0;const n=t?Object(v.e)(e):-1;return Object(r.mapFor)(0,e.getParametersCount(),t=>{if(!e)return!1;const a=e.getParameter(t);return O(a,t,n)}).filter(e=>e).length}_renderEmpty(){return s.createElement("div",{style:Object(a.a)({},S.emptyContainer,{},this.props.style)},s.createElement(l.a,null,this.props.isCondition?"Choose a condition (or an object then a condition) on the left":"Choose an action (or an object then an action) on the left"))}render(){const e=this.props,t=e.instruction,n=e.project,a=e.globalObjectsContainer,p=e.objectsContainer,b=e.noHelpButton,j=e.objectName,w=e.isCondition,N=e.scope,_=t.getType(),k=Object(C.a)({instructionType:_,isCondition:w,project:n});if(!k)return this._renderEmpty();const P=k.getHelpPath(),I=Object(m.c)(_),F=j?Object(v.e)(k):-1;T(t,k,j);let B=0;return s.createElement(o.I18n,null,({i18n:e})=>s.createElement("div",{style:S.container},s.createElement(d.b,{alignItems:"center"},s.createElement("img",{src:k.getIconFilename(),alt:"",style:S.icon}),s.createElement(y.a,null,k.getDescription()),Object(g.d)(k)&&s.createElement(E.a,{onClick:()=>{this._openExtension(e)}},s.createElement(f.a,null))),I&&s.createElement(d.b,null,s.createElement(h.a,{kind:I.kind},e._(I.message))),s.createElement(d.c,null),s.createElement("div",{key:_,style:S.parametersContainer},s.createElement(x.a,{noMargin:!0},Object(r.mapFor)(0,k.getParametersCount(),e=>{const o=k.getParameter(e);if(!O(o,e,F))return null;const i=o.getType(),r=c.a.getParameterComponent(i),l=0===B;return B++,s.createElement(r,{instructionMetadata:k,instruction:t,parameterMetadata:o,parameterIndex:e,value:t.getParameter(e),onChange:n=>{t.getParameter(e)!==n&&(t.setParameter(e,n),this.setState({isDirty:!0}))},project:n,scope:N,globalObjectsContainer:a,objectsContainer:p,key:e,parameterRenderingService:c.a,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,ref:e=>{l&&(this._firstVisibleField=e)}})})),0===this._getVisibleParametersCount(k,j)&&s.createElement(l.a,null,s.createElement(o.Trans,{id:"There is nothing to configure."})),this.props.isCondition&&s.createElement(i.a,{label:s.createElement(o.Trans,{id:"Invert condition"}),labelPosition:"right",toggled:t.isInverted(),style:S.invertToggle,onToggle:(e,n)=>{t.setInverted(n),this.forceUpdate()}})),s.createElement(d.b,null,!b&&P&&s.createElement(u.a,{helpPagePath:k.getHelpPath(),label:this.props.isCondition?s.createElement(o.Trans,{id:"Help for this condition"}):s.createElement(o.Trans,{id:"Help for this action"})}))))}}}).call(this,n(1))},509:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var a=n(78),o=n(136),s=n(2),i=n(302),r=n(301),l=n(374);const c=e.gd,u=({instructionType:e,isCondition:t,project:n})=>e?t?c.MetadataProvider.getConditionMetadata(n.getCurrentPlatform(),e):c.MetadataProvider.getActionMetadata(n.getCurrentPlatform(),e):null,d=(e,t)=>e.find(({type:e})=>e===t),h=({instruction:e,isCondition:t,project:n,isNewInstruction:c,scope:u,globalObjectsContainer:h,objectsContainer:p})=>{const m=(n,a)=>{const o=Object(l.a)(Object(i.c)(t,h,p,n),u);if(e.getType()&&a){d(o,e.getType())||e.setType("")}return{chosenObjectName:n,chosenObjectInstructionsInfo:o,chosenObjectInstructionsInfoTree:Object(r.a)(o)}},g=s.useState(()=>{if(!c){const n=Object(i.a)(t),a=e.getType(),o=d(n,a);if(o&&(o.scope.objectMetadata||o.scope.behaviorMetadata)){const t=Object(i.e)(o.metadata);if(-1!==t)return m(e.getParameter(t),!1)}}return{chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null}}),b=Object(o.a)(g,2),f=b[0],E=b[1];return[f,{chooseFreeInstruction:t=>{e.setType(t);return E({chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null}),Object(a.a)({instruction:e},{chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null})},chooseObject:t=>{const n=m(t,!0);return E(n),Object(a.a)({instruction:e},n)},chooseObjectInstruction:t=>{if(e.setType(t),f.chosenObjectName){const t=m(f.chosenObjectName,!0);return E(t),Object(a.a)({instruction:e},t)}return Object(a.a)({instruction:e},f)}}]}}).call(this,n(1))},510:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(136),o=n(2);function s(){const e=o.useState(),t=Object(a.a)(e,2)[1];return o.useCallback(()=>t({}),[])}},511:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(72),o=n(2),s=n(2476),i=n(2386),r=n(120),l=n(379);class c extends o.PureComponent{render(){const e=this.props.identifier;return o.createElement(l.a,null,t=>o.createElement(r.b.Consumer,null,({values:n,showAlertMessage:r})=>o.createElement(s.a,{open:this.props.show&&!n.hiddenAlertMessages[e],message:"touch"===t&&this.props.touchScreenMessage?this.props.touchScreenMessage:this.props.message,action:o.createElement(i.a,{key:"undo",color:"primary",size:"small",onClick:()=>{r(e,!1)}},o.createElement(a.Trans,{id:"Got it"}))})))}}},539:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(108);class o{constructor({initialViewX:e,initialViewY:t,width:n,height:o,options:s}){this.viewX=0,this.viewY=0,this._pixiContainer=new a.Container,this.toSceneCoordinates=(e,t)=>{e-=this._width/2,t-=this._height/2,e/=Math.abs(this._pixiContainer.scale.x),t/=Math.abs(this._pixiContainer.scale.y);var n=e;return e=Math.cos(0*Math.PI)*e-Math.sin(0*Math.PI)*t,t=Math.sin(0*Math.PI)*n+Math.cos(0*Math.PI)*t,[e+this.viewX,t+this.viewY]},this.toCanvasCoordinates=(e,t)=>{e-=this.viewX,t-=this.viewY;var n=e;return e=Math.cos(-0*Math.PI)*e-Math.sin(-0*Math.PI)*t,t=Math.sin(-0*Math.PI)*n+Math.cos(-0*Math.PI)*t,e*=Math.abs(this._pixiContainer.scale.x),t*=Math.abs(this._pixiContainer.scale.y),[e+this._width/2,t+this._height/2]},this.viewX=e,this.viewY=t,this.options=s,this.resize(n,o)}setOptions(e){this.options=e}resize(e,t){this._width=e,this._height=t}getWidth(){return this._width}getHeight(){return this._height}scrollBy(e,t){this.viewX+=e,this.viewY+=t}scrollTo(e,t){this.viewX=e,this.viewY=t}scrollToInstance(e){this.viewX=e.getX(),this.viewY=e.getY()}getViewX(){return this.viewX}getViewY(){return this.viewY}getPixiContainer(){return this._pixiContainer}render(){this._pixiContainer.position.x=-this.viewX*this.options.zoomFactor,this._pixiContainer.position.y=-this.viewY*this.options.zoomFactor,this._pixiContainer.position.x+=this._width/2,this._pixiContainer.position.y+=this._height/2,this._pixiContainer.scale.x=this.options.zoomFactor,this._pixiContainer.scale.y=this.options.zoomFactor}}},541:function(e,t,n){"use strict";t.a={handleColumn:{width:24,paddingLeft:8,paddingRight:0},coordinateColumn:{width:48},toolColumn:{width:48}}},542:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>Date.now()+"-"+Math.floor(1e6*Math.random())},548:function(e,t,n){"use strict";var a=n(277),o=n.n(a),s=n(2),i=n.n(s),r=n(84),l=n(157),c=n.n(l),u=n(90);const d=e=>{if(!e)return[];const t=(e,n)=>{const a=[e];return n.isStructure()?(n.getAllChildrenNames().toJSArray().forEach(o=>{t("".concat(e,".").concat(o),n.getChild(o)).forEach(e=>{a.push(e)})}),a):a};return c()(Object(u.mapFor)(0,e.count(),n=>e?t(e.getNameAt(n),e.getAt(n)):[]))};var h=n(131),p=n.n(h),m=n(122),g=n(162),b=n(105);n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return E}));class f extends s.Component{focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.value,n=e.onChange,a=e.isInline,s=e.onOpenDialog,l=e.parameterMetadata,c=e.variablesContainer,u=e.onRequestClose,h=l?l.getDescription():void 0;return i.a.createElement(b.c,{renderTextField:()=>i.a.createElement(g.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:h,helperMarkdownText:l?l.getLongDescription():void 0,fullWidth:!0,value:t,onChange:n,onRequestClose:u,dataSource:d(c).map(e=>({text:e,value:e})),openOnFocus:!a,ref:e=>this._field=e}),renderButton:e=>s&&!a?i.a.createElement(r.a,{icon:i.a.createElement(o.a,null),disabled:!this.props.variablesContainer,primary:!0,style:e,onClick:s}):null})}}const E=({value:e,parameterMetadata:t,MissingParameterValue:n},a,o)=>e||t.isOptional()?i.a.createElement("span",{title:o,className:p()({[m.p]:!0})},i.a.createElement("img",{className:p()({[m.i]:!0}),src:a,alt:""}),e):i.a.createElement(n,null)},561:function(e,t,n){"use strict";(function(e){var a=n(72),o=n(2),s=(n(984),n(2477)),i=n(2476),r=n(985),l=n(995),c=n(996),u=n(1081),d=n(2296),h=n(1450),p=n(1452),m=n(1453),g=n(1454),b=n(2294),f=n(5),E=n(20),v=n(1468),y=n(1469),C=n(873),x=n(133),j=n(2300),S=n(906),T=n(699),O=n(860),w=n(872),N=n(863),_=n(852),k=n(2297),P=n(910),I=n(1970),F=n(2301),B=n(112),M=n(599),R=n(92),D=n(2302),L=n(878),A=n(1976),U=n(120),V=n(249),W=n(31),G=n(1978),z=n(1979),H=n(1980),Y=n(1981),K=n(304);const X=e.GD_STARTUP_TIMES||[],q=e.gd,J={drawerContent:{width:320,overflowX:"hidden",display:"flex",flexDirection:"column"}};class Z extends o.Component{constructor(...e){super(...e),this.state={createDialogOpen:!1,exportDialogOpen:!1,introDialogOpen:!1,openConfirmDialogOpen:!1,genericDialogOpen:!1,loadingProject:!1,previewLoading:!1,currentProject:null,currentFileMetadata:null,projectManagerOpen:!1,editorTabs:Object(y.l)(),genericDialog:null,snackMessage:"",snackMessageOpen:!1,preferencesDialogOpen:!1,languageDialogOpen:!1,profileDialogOpen:!1,subscriptionDialogOpen:!1,updateStatus:{message:"",status:"unknown"},aboutDialogOpen:!1,openFromStorageProviderDialogOpen:!1,saveToStorageProviderDialogOpen:!1,platformSpecificAssetsDialogOpen:!1,helpFinderDialogOpen:!1,eventsFunctionsExtensionsError:null,gdjsDevelopmentWatcherEnabled:!1,isPreviewFirstSceneOverriden:!1,previewFirstSceneName:""},this.toolbar=null,this._resourceSourceDialogs={},this._previewLauncher=null,this._openInitialFileMetadata=e=>{const t=this.props,n=t.storageProviderOperations,a=t.initialFileMetadataToOpen;a&&(e||!n.doesInitialOpenRequireUserInteraction?this.openFromFileMetadata(a).then(()=>this.openSceneOrProjectManager()):this._openOpenConfirmDialog(!0))},this._loadExtensions=()=>{const e=this.props,t=e.extensionsLoader,n=e.i18n;return t?t.loadAllExtensions(Object(L.a)(n)).then(e=>{const t=e.filter(e=>!e.result.error),n=e.filter(e=>e.result.error&&!e.result.dangerous),a=e.filter(e=>e.result.error&&e.result.dangerous);console.info("Loaded ".concat(t.length," JS extensions.")),n.length&&console.error("\u26a0\ufe0f Unable to load ".concat(n.length," JS extensions. Please check these errors:"),n),a.length&&console.error("\ud83d\udca3 Dangerous exceptions while loading ".concat(a.length," JS extensions. \ud83d\udd25 Please check these errors as they will CRASH GDevelop:"),a)}):(console.info("No extensions loader specified, skipping extensions loading."),Promise.reject(new Error("No extension loader specified.")))},this.loadFromSerializedProject=(e,t)=>Object(C.b)(()=>{const n=q.ProjectHelper.createNewGDJSProject();return n.unserializeFrom(e),this.loadFromProject(n,t)},e=>console.info("Unserialization took ".concat(e," ms"))),this.loadFromProject=(e,t)=>{const n=this.props.eventsFunctionsExtensionsState;return this.closeProject().then(()=>(B.a.burstAllUrlsCache(),new Promise(a=>{this.setState({currentProject:e,currentFileMetadata:t},()=>{n.loadProjectEventsFunctionsExtensions(e),t&&e.setProjectFile(t.fileIdentifier),a()})})))},this.openFromFileMetadata=e=>{const t=this.props,n=t.i18n,a=t.storageProviderOperations,o=a.hasAutoSave,s=a.onGetAutoSave,i=a.onOpen,r=a.getOpenErrorMessage;if(!i)return console.error("Tried to open a file for a storage without onOpen support:",e,a),Promise.resolve();return this.setState({loadingProject:!0}),(o&&s?o(e,!0).then(t=>t&&f.b.showConfirmDialog(n._({id:"An autosave file (backup made automatically by GDevelop) that is newer than the project file exists. Would you like to load it instead?"}))?s(e):e):Promise.resolve(e)).then(e=>i(e)).catch(t=>(o&&s?o(e,!1).then(t=>t&&f.b.showConfirmDialog(n._({id:"The project file appears to be malformed, but an autosave file exists (backup made automatically by GDevelop). Would you like to try to load it instead?"}))?s(e):null):Promise.resolve(null)).then(e=>{if(e)return i(e);throw t})).then(({content:t})=>{if(!Object(Y.a)(n,t))return;const a=q.Serializer.fromJSObject(t);return this.loadFromSerializedProject(a,e).then(()=>{a.delete()},e=>{throw a.delete(),e})}).catch(e=>{const t=r?r(e):{id:"Check that the path/URL is correct, that you selected a file that is a game file created with GDevelop and that is was not removed."};Object(E.a)([n._({id:"Unable to open the project."}),n._(t)].join("\n"),e)}).then(()=>this.setState({loadingProject:!1}))},this.closeApp=()=>f.b.quit(),this.closeProject=()=>{const e=this.state.currentProject,t=this.props.eventsFunctionsExtensionsState;return e?new Promise(n=>{this.openProjectManager(!1),this.setState({editorTabs:Object(y.i)(this.state.editorTabs,e)},()=>{t.unloadProjectEventsFunctionsExtensions(e),e.delete(),this.setState({currentProject:null,isPreviewFirstSceneOverriden:!1,previewFirstSceneName:""},()=>{this.updateToolbar(),n()})})}):Promise.resolve()},this.getSerializedElements=()=>{const e=Object(y.j)(this.state.editorTabs);return e&&e.editorRef?e.editorRef.getSerializedElements():(console.warn("No active editor or reference to the editor"),{})},this.toggleProjectManager=()=>{this.refs.toolbar||this.setState({projectManagerOpen:!this.state.projectManagerOpen})},this.openProjectManager=(e=!0)=>{this.setState({projectManagerOpen:e})},this.setEditorToolbar=e=>{this.toolbar&&this.toolbar.setEditorToolbar(e)},this._togglePreviewFirstSceneOverride=()=>{this.setState({isPreviewFirstSceneOverriden:!this.state.isPreviewFirstSceneOverriden},()=>{this.updateToolbar()})},this.addLayout=()=>{const e=this.state.currentProject;if(!e)return;const t=Object(x.a)("New scene",t=>e.hasLayoutNamed(t));e.insertNewLayout(t,e.getLayoutsCount()).updateBehaviorsSharedData(e),this._onProjectItemModified()},this.addExternalLayout=()=>{const e=this.state.currentProject;if(!e)return;const t=Object(x.a)("NewExternalLayout",t=>e.hasExternalLayoutNamed(t));e.insertNewExternalLayout(t,e.getExternalLayoutsCount()),this._onProjectItemModified()},this.addExternalEvents=()=>{const e=this.state.currentProject;if(!e)return;const t=Object(x.a)("NewExternalEvents",t=>e.hasExternalEventsNamed(t));e.insertNewExternalEvents(t,e.getExternalEventsCount()),this._onProjectItemModified()},this.addEventsFunctionsExtension=()=>{const e=this.state.currentProject;if(!e)return;const t=Object(x.a)("NewExtension",t=>e.hasEventsFunctionsExtensionNamed(t));e.insertNewEventsFunctionsExtension(t,e.getEventsFunctionsExtensionsCount()),this._onProjectItemModified()},this.deleteLayout=e=>{const t=this.state.currentProject,n=this.props.i18n;t&&f.b.showConfirmDialog(n._({id:"Are you sure you want to remove this scene? This can't be undone."}))&&this.setState({editorTabs:Object(y.g)(this.state.editorTabs,e)},()=>{t.removeLayout(e.getName()),this._onProjectItemModified()})},this.deleteExternalLayout=e=>{const t=this.state.currentProject,n=this.props.i18n;t&&f.b.showConfirmDialog(n._({id:"Are you sure you want to remove this external layout? This can't be undone."}))&&this.setState({editorTabs:Object(y.f)(this.state.editorTabs,e)},()=>{t.removeExternalLayout(e.getName()),this._onProjectItemModified()})},this.deleteExternalEvents=e=>{const t=this.state.currentProject,n=this.props.i18n;t&&f.b.showConfirmDialog(n._({id:"Are you sure you want to remove these external events? This can't be undone."}))&&this.setState({editorTabs:Object(y.e)(this.state.editorTabs,e)},()=>{t.removeExternalEvents(e.getName()),this._onProjectItemModified()})},this.deleteEventsFunctionsExtension=e=>{const t=this.state.currentProject,n=this.props,a=n.i18n,o=n.eventsFunctionsExtensionsState;t&&f.b.showConfirmDialog(a._({id:"Are you sure you want to remove this extension? This can't be undone."}))&&(this.setState({editorTabs:Object(y.d)(this.state.editorTabs,e)},()=>{t.removeEventsFunctionsExtension(e.getName()),this._onProjectItemModified()}),o.reloadProjectEventsFunctionsExtensions(t))},this.renameLayout=(e,t)=>{const n=this.state.currentProject,a=this.props.i18n;if(!n)return;if(!n.hasLayoutNamed(e)||t===e)return;if(""===t)return void Object(E.c)(a._({id:"This name cannot be empty, please enter a new name."}));if(n.hasLayoutNamed(t))return void Object(E.c)(a._({id:"Another scene with this name already exists."}));const o=n.getLayout(e);this.setState({editorTabs:Object(y.g)(this.state.editorTabs,o)},()=>{o.setName(t),this._onProjectItemModified()})},this.renameExternalLayout=(e,t)=>{const n=this.state.currentProject,a=this.props.i18n;if(!n)return;if(!n.hasExternalLayoutNamed(e)||t===e)return;if(""===t)return void Object(E.c)(a._({id:"This name cannot be empty, please enter a new name."}));if(n.hasExternalLayoutNamed(t))return void Object(E.c)(a._({id:"Another external layout with this name already exists."}));const o=n.getExternalLayout(e);this.setState({editorTabs:Object(y.f)(this.state.editorTabs,o)},()=>{o.setName(t),this._onProjectItemModified()})},this.renameExternalEvents=(e,t)=>{const n=this.state.currentProject,a=this.props.i18n;if(!n)return;if(!n.hasExternalEventsNamed(e)||t===e)return;if(""===t)return void Object(E.c)(a._({id:"This name cannot be empty, please enter a new name."}));if(n.hasExternalEventsNamed(t))return void Object(E.c)(a._({id:"Other external events with this name already exist."}));const o=n.getExternalEvents(e);this.setState({editorTabs:Object(y.e)(this.state.editorTabs,o)},()=>{o.setName(t),this._onProjectItemModified()})},this.renameEventsFunctionsExtension=(e,t)=>{const n=this.state.currentProject,a=this.props.i18n,o=this.props.eventsFunctionsExtensionsState;if(!n)return;if(!n.hasEventsFunctionsExtensionNamed(e)||t===e)return;if(""===t)return void Object(E.c)(a._({id:"This name cannot be empty, please enter a new name."}));if(n.hasEventsFunctionsExtensionNamed(t))return void Object(E.c)(a._({id:"Another extension with this name already exists."}));if(!q.Project.validateName(t))return void Object(E.c)(a._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}));const s=n.getEventsFunctionsExtension(e);this.setState({editorTabs:Object(y.d)(this.state.editorTabs,s)},()=>{q.WholeProjectRefactorer.renameEventsFunctionsExtension(n,s,e,t),s.setName(t),o.reloadProjectEventsFunctionsExtensions(n),this._onProjectItemModified()})},this._launchLayoutPreview=(e,t,n)=>{const a=this._previewLauncher,o=this.state,s=o.previewFirstSceneName,i=o.isPreviewFirstSceneOverriden;a&&this.setState({previewLoading:!0},()=>{let o=t;s&&i&&e.hasLayoutNamed(s)&&(o=e.getLayout(s)),a.launchLayoutPreview(e,o,n).catch(e=>{console.error("Error caught while launching preview, this should never happen.",e)}).then(()=>{this.setState({previewLoading:!1})})})},this._launchExternalLayoutPreview=(e,t,n,a)=>{const o=this._previewLauncher;o&&this.setState({previewLoading:!0},()=>{o.launchExternalLayoutPreview(e,t,n,a).catch(e=>{console.error("Error caught while launching preview, this should never happen.",e)}).then(()=>{this.setState({previewLoading:!1})})})},this.openLayout=(e,{openEventsEditor:t=!0,openSceneEditor:n=!0}={})=>{const a=this.props,s=a.i18n,i=a.storageProviderOperations,r={label:e,renderEditor:({isActive:t,editorRef:n})=>o.createElement(U.b.Consumer,null,({values:a})=>o.createElement(w.a,{previewButtonSettings:{isPreviewFirstSceneOverriden:this.state.isPreviewFirstSceneOverriden,togglePreviewFirstSceneOverride:()=>this._togglePreviewFirstSceneOverride(),previewFirstSceneName:this.state.previewFirstSceneName,useSceneAsPreviewFirstScene:()=>{this._setPreviewFirstScene(e)}},project:this.state.currentProject,layoutName:e,setToolbar:this.setEditorToolbar,onPreview:(e,t,n)=>{this._launchLayoutPreview(e,t,n);const o=this.state.currentFileMetadata;a.autosaveOnPreview&&i.onAutoSaveProject&&o&&i.onAutoSaveProject(e,o)},showPreviewButton:!!this.props.renderPreviewLauncher,showNetworkPreviewButton:this._previewLauncher&&this._previewLauncher.canDoNetworkPreview(),onOpenDebugger:this.openDebugger,onEditObject:this.props.onEditObject,resourceSources:this.props.resourceSources,onChooseResource:this._onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,isActive:t,ref:n,unsavedChanges:this.props.unsavedChanges})),key:"layout "+e},l={label:e+" "+s._({id:"(Events)"}),renderEditor:({isActive:t,editorRef:n})=>o.createElement(U.b.Consumer,null,({values:a})=>o.createElement(T.a,{project:this.state.currentProject,layoutName:e,setToolbar:this.setEditorToolbar,previewButtonSettings:{isPreviewFirstSceneOverriden:this.state.isPreviewFirstSceneOverriden,togglePreviewFirstSceneOverride:()=>this._togglePreviewFirstSceneOverride(),previewFirstSceneName:this.state.previewFirstSceneName,useSceneAsPreviewFirstScene:()=>{this._setPreviewFirstScene(e)}},onPreview:(e,t,n)=>{this._launchLayoutPreview(e,t,n);const o=this.state.currentFileMetadata;a.autosaveOnPreview&&i.onAutoSaveProject&&o&&i.onAutoSaveProject(e,o)},showPreviewButton:!!this.props.renderPreviewLauncher,showNetworkPreviewButton:this._previewLauncher&&this._previewLauncher.canDoNetworkPreview(),onOpenDebugger:this.openDebugger,onOpenExternalEvents:this.openExternalEvents,onOpenLayout:e=>this.openLayout(e,{openEventsEditor:!0,openSceneEditor:!1}),resourceSources:this.props.resourceSources,onChooseResource:this._onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this._openInstructionOrExpression,onCreateEventsFunction:this._onCreateEventsFunction,isActive:t,ref:n,unsavedChanges:this.props.unsavedChanges})),key:"layout events "+e,dontFocusTab:n},c=n?Object(y.o)(this.state.editorTabs,r):this.state.editorTabs,u=t?Object(y.o)(c,l):c;this.setState({editorTabs:u},()=>this.updateToolbar()),this.openProjectManager(!1)},this.openExternalEvents=e=>{this.setState({editorTabs:Object(y.o)(this.state.editorTabs,{label:e,renderEditor:({isActive:t,editorRef:n})=>o.createElement(O.a,{project:this.state.currentProject,externalEventsName:e,setToolbar:this.setEditorToolbar,onOpenExternalEvents:this.openExternalEvents,onOpenLayout:e=>this.openLayout(e,{openEventsEditor:!0,openSceneEditor:!1}),resourceSources:this.props.resourceSources,onChooseResource:this._onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this._openInstructionOrExpression,onCreateEventsFunction:this._onCreateEventsFunction,previewButtonSettings:K.b,isActive:t,ref:n,unsavedChanges:this.props.unsavedChanges}),key:"external events "+e})},()=>this.updateToolbar()),this.openProjectManager(!1)},this.openExternalLayout=e=>{const t=this.props.storageProviderOperations;this.setState({editorTabs:Object(y.o)(this.state.editorTabs,{label:e,renderEditor:({isActive:n,editorRef:a})=>o.createElement(U.b.Consumer,null,({values:s})=>o.createElement(N.a,{project:this.state.currentProject,externalLayoutName:e,setToolbar:this.setEditorToolbar,onPreview:(e,n,a,o)=>{this._launchExternalLayoutPreview(e,n,a,o);const i=this.state.currentFileMetadata;s.autosaveOnPreview&&t.onAutoSaveProject&&i&&t.onAutoSaveProject(e,i)},showPreviewButton:!!this.props.renderPreviewLauncher,showNetworkPreviewButton:this._previewLauncher&&this._previewLauncher.canDoNetworkPreview(),previewButtonSettings:K.b,onOpenDebugger:this.openDebugger,onEditObject:this.props.onEditObject,resourceSources:this.props.resourceSources,onChooseResource:this._onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,isActive:n,ref:a})),key:"external layout "+e})},()=>this.updateToolbar()),this.openProjectManager(!1)},this.openEventsFunctionsExtension=(e,t,n)=>{const a=this.props,s=a.i18n,i=a.eventsFunctionsExtensionsState;this.setState({editorTabs:Object(y.o)(this.state.editorTabs,{label:e+" "+s._({id:"(Extension)"}),renderEditor:({isActive:a,editorRef:s})=>o.createElement(_.a,{project:this.state.currentProject,eventsFunctionsExtensionName:e,setToolbar:this.setEditorToolbar,resourceSources:this.props.resourceSources,onChooseResource:this._onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,isActive:a,initiallyFocusedFunctionName:t,initiallyFocusedBehaviorName:n,openInstructionOrExpression:this._openInstructionOrExpression,onCreateEventsFunction:this._onCreateEventsFunction,ref:s,onLoadEventsFunctionsExtensions:()=>{i.loadProjectEventsFunctionsExtensions(this.state.currentProject)},unsavedChanges:this.props.unsavedChanges}),key:"events functions extension "+e})},()=>this.updateToolbar()),this.openProjectManager(!1)},this.openResources=()=>{const e=this.props.i18n;this.setState({editorTabs:Object(y.o)(this.state.editorTabs,{label:e._({id:"Resources"}),renderEditor:({isActive:e,editorRef:t})=>o.createElement(P.a,{project:this.state.currentProject,setToolbar:this.setEditorToolbar,onDeleteResource:(e,t)=>{t(!0)},onRenameResource:(e,t,n)=>{n(!0)},isActive:e,ref:t,onChooseResource:this._onChooseResource,resourceSources:this.props.resourceSources}),key:"resources"})},()=>this.updateToolbar())},this.openStartPage=()=>{const e=this.props,t=e.i18n,n=e.storageProviders;this.setState({editorTabs:Object(y.o)(this.state.editorTabs,{label:t._({id:"Start Page"}),renderEditor:({isActive:e,editorRef:t})=>o.createElement(k.a,{project:this.state.currentProject,setToolbar:this.setEditorToolbar,canOpen:!!n.filter(({hiddenInOpenDialog:e})=>!e).length,onOpen:this.chooseProject,onCreate:()=>this.openCreateDialog(),onOpenProjectManager:()=>this.openProjectManager(),onCloseProject:()=>{this.askToCloseProject()},onOpenAboutDialog:()=>this.openAboutDialog(),onOpenHelpFinder:()=>this.openHelpFinderDialog(),onOpenLanguageDialog:()=>this.openLanguage(),isActive:e,ref:t}),key:"start page",closable:!1})},()=>this.updateToolbar())},this.openDebugger=()=>{const e=this.props.i18n;this.setState({editorTabs:Object(y.o)(this.state.editorTabs,{label:e._({id:"Debugger"}),renderEditor:({isActive:e,editorRef:t})=>o.createElement(S.a,{project:this.state.currentProject,setToolbar:this.setEditorToolbar,isActive:e,ref:t,onChangeSubscription:()=>this.openSubscription(!0)}),key:"debugger"})},()=>this.updateToolbar())},this._openInstructionOrExpression=(e,t)=>{const n=this.state.currentProject;if(!n)return;const a=e.getName();if(n.hasEventsFunctionsExtensionNamed(a)){const e=n.getEventsFunctionsExtension(a),o=Object(V.b)(t),s=Object(y.n)(this.state.editorTabs,e);s?(s.editor.selectEventsFunctionByName(o.name,o.behaviorName),this.setState(e=>({editorTabs:Object(y.a)(e.editorTabs,s.tabIndex)}))):this.openEventsFunctionsExtension(a,o.name,o.behaviorName)}else console.warn("Extension with name=".concat(a," can not be opened (no editor for this)"))},this._onProjectItemModified=()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()},this._onCreateEventsFunction=(e,t)=>{const n=this.state.currentProject;if(!n)return;const a=this.props.eventsFunctionsExtensionsState,o=!n.hasEventsFunctionsExtensionNamed(e),s=o?n.insertNewEventsFunctionsExtension(e,0):n.getEventsFunctionsExtension(e);o&&(s.setFullName(e),s.setDescription("Originally automatically extracted from events of the project")),s.insertEventsFunction(t,0),a.loadProjectEventsFunctionsExtensions(n)},this.openCreateDialog=(e=!0)=>{this.setState({createDialogOpen:e})},this.chooseProject=()=>{this.props.storageProviders.filter(({hiddenInOpenDialog:e})=>!e).length>1?this.openOpenFromStorageProviderDialog():this.chooseProjectWithStorageProviderPicker()},this.chooseProjectWithStorageProviderPicker=()=>{const e=this.props,t=e.storageProviderOperations,n=e.i18n;t.onOpenWithPicker&&t.onOpenWithPicker().then(e=>{if(e)return this.openFromFileMetadata(e).then(()=>this.openSceneOrProjectManager())}).catch(e=>{const a=t.getOpenErrorMessage?t.getOpenErrorMessage(e):{id:"Verify that you have the authorizations for reading the file you're trying to access."};Object(E.a)([n._({id:"Unable to open the project."}),n._(a)].join("\n"),e)})},this.saveProject=()=>{const e=this.state,t=e.currentProject,n=e.currentFileMetadata;if(!t)return;if(!n)return this.saveProjectAs();const a=this.props,o=a.i18n,s=a.storageProviderOperations.onSaveProject;if(!s)return this.saveProjectAs();Object(y.p)(this.state.editorTabs),this._showSnackMessage(o._({id:"Saving..."})),s(t,n).then(({wasSaved:e})=>{e&&(this.props.unsavedChanges&&this.props.unsavedChanges.sealUnsavedChanges(),this._showSnackMessage(o._({id:"Project properly saved"})))},e=>{Object(E.a)(o._({id:"Unable to save the project! Please try again by choosing another location."}),e)})},this.saveProjectAs=()=>{const e=this.state.currentProject,t=this.props,n=t.storageProviders,a=t.storageProviderOperations;e&&(n.filter(({hiddenInSaveDialog:e})=>!e).length>1||!a.onSaveProjectAs?this.openSaveToStorageProviderDialog():this.saveProjectAsWithStorageProvider())},this.saveProjectAsWithStorageProvider=()=>{const e=this.state,t=e.currentProject,n=e.currentFileMetadata;if(!t)return;Object(y.p)(this.state.editorTabs);const a=this.props,o=a.i18n,s=a.storageProviderOperations;s.onSaveProjectAs&&s.onSaveProjectAs(t,n).then(({wasSaved:e,fileMetadata:t})=>{e&&(this.props.unsavedChanges&&this.props.unsavedChanges.sealUnsavedChanges(),this._showSnackMessage(o._({id:"Project properly saved"})),t&&this.setState({currentFileMetadata:t}))},e=>{Object(E.a)(o._({id:"Unable to save as the project! Please try again by choosing another location."}),e)})},this.askToCloseProject=()=>{if(this.props.unsavedChanges&&this.props.unsavedChanges.hasUnsavedChanges){if(!this.state.currentProject)return Promise.resolve();const e=this.props.i18n;if(!f.b.showConfirmDialog(e._({id:"Close the project? Any changes that have not been saved will be lost."})))return Promise.resolve()}return this.closeProject()},this.openSceneOrProjectManager=()=>{const e=this.state.currentProject;e&&(1===e.getLayoutsCount()?this.openLayout(e.getLayoutAt(0).getName(),{openSceneEditor:!0,openEventsEditor:!0}):this.openProjectManager())},this.openExportDialog=(e=!0)=>{this.setState({exportDialogOpen:e})},this._openIntroDialog=(e=!0)=>{this.setState({introDialogOpen:e})},this._openOpenConfirmDialog=(e=!0)=>{this.setState({openConfirmDialogOpen:e})},this._openGenericDialog=(e=!0)=>{this.setState({genericDialogOpen:e,genericDialog:null})},this.openPreferences=(e=!0)=>{this.setState({preferencesDialogOpen:e})},this.openLanguage=(e=!0)=>{this.setState({languageDialogOpen:e})},this.openProfile=(e=!0)=>{this.setState({profileDialogOpen:e})},this.openSubscription=(e=!0)=>{this.setState({subscriptionDialogOpen:e})},this._setPreviewFirstScene=e=>{this.setState({previewFirstSceneName:e,isPreviewFirstSceneOverriden:!0},()=>{this.updateToolbar()})},this._onChangeEditorTab=e=>{this.setState({editorTabs:Object(y.a)(this.state.editorTabs,e)},()=>this._onEditorTabActive(Object(y.j)(this.state.editorTabs)))},this._onEditorTabActive=e=>{this.updateToolbar(),e.editorRef&&e.editorRef.forceUpdateEditor()},this._onCloseEditorTab=e=>{Object(y.p)(this.state.editorTabs),this.setState({editorTabs:Object(y.c)(this.state.editorTabs,e)},()=>this.updateToolbar())},this._onCloseOtherEditorTabs=e=>{Object(y.p)(this.state.editorTabs),this.setState({editorTabs:Object(y.h)(this.state.editorTabs,e)},()=>this.updateToolbar())},this._onCloseAllEditorTabs=()=>{Object(y.p)(this.state.editorTabs),this.setState({editorTabs:Object(y.b)(this.state.editorTabs)},()=>this.updateToolbar())},this._onChooseResource=(e,t=!0)=>{const n=this.state.currentProject,a=this._resourceSourceDialogs[e];return a?a.chooseResources(n,t):Promise.resolve([])},this.openAboutDialog=(e=!0)=>{this.setState({aboutDialogOpen:e})},this.openOpenFromStorageProviderDialog=(e=!0)=>{this.setState({openFromStorageProviderDialogOpen:e})},this.openSaveToStorageProviderDialog=(e=!0)=>{e&&this.openProjectManager(!1),this.setState({saveToStorageProviderDialogOpen:e})},this.openPlatformSpecificAssets=(e=!0)=>{this.setState({platformSpecificAssetsDialogOpen:e})},this.openHelpFinderDialog=(e=!0)=>{this.setState({helpFinderDialogOpen:e})},this.setUpdateStatus=e=>{this.setState({updateStatus:e});const t=Object(M.d)(e),n=Object(M.c)(e);if(t){new window.Notification(t,{body:n}).onclick=()=>this.openAboutDialog(!0)}},this.simulateUpdateDownloaded=()=>this.setUpdateStatus({status:"update-downloaded",message:"update-downloaded",info:{releaseName:"Fake update"}}),this.simulateUpdateAvailable=()=>this.setUpdateStatus({status:"update-available",message:"Update available"}),this._showSnackMessage=e=>this.setState({snackMessage:e,snackMessageOpen:!0}),this._closeSnackMessage=()=>this.setState({snackMessageOpen:!1})}componentWillMount(){this.props.integratedEditor||this.openStartPage()}componentDidMount(){X.push(["MainFrameComponentDidMount",performance.now()]);const e=this.props.initialFileMetadataToOpen;this._loadExtensions().catch(()=>{}).then(()=>{this.setState({gdjsDevelopmentWatcherEnabled:!0})}),e?this._openInitialFileMetadata(!1):this.props.introDialog&&!f.b.isDev()&&this._openIntroDialog(!0),X.push(["MainFrameComponentDidMountFinished",performance.now()]),console.info("Startup times:",Object(W.a)())}_languageDidChange(){q.JsPlatform.get().reloadBuiltinExtensions(),this._loadExtensions().catch(()=>{})}updateToolbar(){const e=Object(y.j)(this.state.editorTabs);e&&e.editorRef?e.editorRef.updateToolbar():this.setEditorToolbar(null)}render(){const e=this.state,t=e.currentProject,n=e.currentFileMetadata,f=e.genericDialog,E=e.projectManagerOpen,C=e.profileDialogOpen,x=e.subscriptionDialogOpen,S=e.updateStatus,T=e.aboutDialogOpen,O=e.helpFinderDialogOpen,w=e.eventsFunctionsExtensionsError,N=this.props,_=N.renderExportDialog,k=N.renderCreateDialog,P=N.introDialog,B=N.resourceSources,M=N.renderPreviewLauncher,L=N.resourceExternalEditors,V=N.eventsFunctionsExtensionsState,W=N.useStorageProvider,Y=N.i18n,K=N.renderGDJSDevelopmentWatcher,X=N.renderMainMenu,q=this.state.loadingProject||this.state.previewLoading||this.props.loading;return o.createElement("div",{className:"main-frame"},!!X&&X({i18n:Y,project:this.state.currentProject,onChooseProject:this.chooseProject,onSaveProject:this.saveProject,onSaveProjectAs:this.saveProjectAs,onCloseProject:this.askToCloseProject,onCloseApp:this.closeApp,onExportProject:this.openExportDialog,onCreateProject:this.openCreateDialog,onOpenProjectManager:this.openProjectManager,onOpenStartPage:this.openStartPage,onOpenDebugger:this.openDebugger,onOpenAbout:this.openAboutDialog,onOpenPreferences:this.openPreferences,onOpenLanguage:this.openLanguage,onOpenProfile:this.openProfile,setUpdateStatus:this.setUpdateStatus}),o.createElement(l.a,{fileMetadata:n}),o.createElement(s.a,{open:E,PaperProps:{style:J.drawerContent},ModalProps:{keepMounted:!0},onClose:this.toggleProjectManager},o.createElement(m.a,{title:t?t.getName():"No project",displayRightCloseButton:!0,onClose:this.toggleProjectManager}),t&&o.createElement(d.a,{project:t,onOpenExternalEvents:this.openExternalEvents,onOpenLayout:this.openLayout,onOpenExternalLayout:this.openExternalLayout,onOpenEventsFunctionsExtension:this.openEventsFunctionsExtension,onAddLayout:this.addLayout,onAddExternalLayout:this.addExternalLayout,onAddEventsFunctionsExtension:this.addEventsFunctionsExtension,onAddExternalEvents:this.addExternalEvents,onDeleteLayout:this.deleteLayout,onDeleteExternalLayout:this.deleteExternalLayout,onDeleteEventsFunctionsExtension:this.deleteEventsFunctionsExtension,onDeleteExternalEvents:this.deleteExternalEvents,onRenameLayout:this.renameLayout,onRenameExternalLayout:this.renameExternalLayout,onRenameEventsFunctionsExtension:this.renameEventsFunctionsExtension,onRenameExternalEvents:this.renameExternalEvents,onSaveProject:this.saveProject,onSaveProjectAs:this.saveProjectAs,onCloseProject:()=>{this.askToCloseProject()},onExportProject:this.openExportDialog,onOpenPreferences:()=>this.openPreferences(!0),onOpenProfile:()=>this.openProfile(!0),onOpenResources:()=>{this.openResources(),this.openProjectManager(!1)},onOpenPlatformSpecificAssets:()=>this.openPlatformSpecificAssets(),onChangeSubscription:()=>this.openSubscription(!0),eventsFunctionsExtensionsError:w,onReloadEventsFunctionsExtensions:()=>{V.reloadProjectEventsFunctionsExtensions(t)},freezeUpdate:!E,unsavedChanges:this.props.unsavedChanges}),!t&&o.createElement(R.a,null,o.createElement(a.Trans,{id:"To begin, open or create a new project."}))),o.createElement(r.a,{ref:e=>this.toolbar=e,showProjectIcons:!this.props.integratedEditor,hasProject:!!this.state.currentProject,toggleProjectManager:this.toggleProjectManager,exportProject:()=>this.openExportDialog(!0),requestUpdate:this.props.requestUpdate,simulateUpdateDownloaded:this.simulateUpdateDownloaded,simulateUpdateAvailable:this.simulateUpdateAvailable}),o.createElement(v.b,{hideLabels:!!this.props.integratedEditor},Object(y.m)(this.state.editorTabs).map((e,t)=>{const n=Object(y.k)(this.state.editorTabs)===t;return o.createElement(v.a,{label:e.label,key:e.key,active:n,onClick:()=>this._onChangeEditorTab(t),onClose:()=>this._onCloseEditorTab(e),onCloseOthers:()=>this._onCloseOtherEditorTabs(e),onCloseAll:this._onCloseAllEditorTabs,onActivated:()=>this._onEditorTabActive(e),closable:e.closable})})),Object(y.m)(this.state.editorTabs).map((e,t)=>{const n=Object(y.k)(this.state.editorTabs)===t;return o.createElement(v.c,{key:e.key,active:n},o.createElement(I.a,null,e.render(n)))}),o.createElement(p.a,{show:q}),o.createElement(j.a,{open:O,onClose:()=>this.openHelpFinderDialog(!1)}),o.createElement(i.a,{open:this.state.snackMessageOpen,autoHideDuration:3e3,onClose:this._closeSnackMessage,ContentProps:{"aria-describedby":"snackbar-message"},message:o.createElement("span",{id:"snackbar-message"},this.state.snackMessage)}),!!_&&this.state.exportDialogOpen&&_({onClose:()=>this.openExportDialog(!1),onChangeSubscription:()=>{this.openExportDialog(!1),this.openSubscription(!0)},project:this.state.currentProject}),!!k&&this.state.createDialogOpen&&k({open:this.state.createDialogOpen,onClose:()=>this.openCreateDialog(!1),onOpen:(e,t)=>{this.openCreateDialog(!1),W(e).then(()=>this.openFromFileMetadata(t)).then(()=>this.openSceneOrProjectManager())},onCreate:(e,t,n)=>{this.openCreateDialog(!1),W(t).then(()=>this.loadFromProject(e,n)).then(()=>this.openSceneOrProjectManager())}}),!!P&&o.cloneElement(P,{open:this.state.introDialogOpen,onClose:()=>this._openIntroDialog(!1)}),!!this.state.currentProject&&this.state.platformSpecificAssetsDialogOpen&&o.createElement(h.a,{project:this.state.currentProject,open:!0,onApply:()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.openPlatformSpecificAssets(!1)},onClose:()=>this.openPlatformSpecificAssets(!1),resourceSources:B,onChooseResource:this._onChooseResource,resourceExternalEditors:L}),!!f&&o.cloneElement(f,{open:this.state.genericDialogOpen,onClose:()=>this._openGenericDialog(!1)}),!!M&&M({onExport:()=>this.openExportDialog(!0),onChangeSubscription:()=>this.openSubscription(!0)},e=>{this._previewLauncher=e}),B.map((e,t)=>{const n=e.component;return o.createElement(U.b.Consumer,{key:e.name},({getLastUsedPath:t,setLastUsedPath:a})=>o.createElement(n,{ref:t=>this._resourceSourceDialogs[e.name]=t,i18n:Y,getLastUsedPath:t,setLastUsedPath:a}))}),C&&o.createElement(b.a,{open:!0,onClose:()=>this.openProfile(!1),onChangeSubscription:()=>this.openSubscription(!0)}),x&&o.createElement(F.a,{onClose:()=>{this.openSubscription(!1)},open:!0}),this.state.preferencesDialogOpen&&o.createElement(c.a,{onClose:()=>this.openPreferences(!1)}),this.state.languageDialogOpen&&o.createElement(A.a,{open:!0,onClose:e=>{this.openLanguage(!1),e&&this._languageDidChange()}}),T&&o.createElement(u.a,{open:!0,onClose:()=>this.openAboutDialog(!1),updateStatus:S}),this.state.openFromStorageProviderDialogOpen&&o.createElement(G.a,{onClose:()=>this.openOpenFromStorageProviderDialog(!1),storageProviders:this.props.storageProviders,onChooseProvider:e=>{this.openOpenFromStorageProviderDialog(!1),W(e).then(()=>{this.chooseProjectWithStorageProviderPicker()})},onCreateNewProject:()=>{this.openOpenFromStorageProviderDialog(!1),this.openCreateDialog(!0)}}),this.state.saveToStorageProviderDialogOpen&&o.createElement(z.a,{onClose:()=>this.openSaveToStorageProviderDialog(!1),storageProviders:this.props.storageProviders,onChooseProvider:e=>{this.openSaveToStorageProviderDialog(!1),W(e).then(()=>{this.saveProjectAsWithStorageProvider()})}}),this.state.openConfirmDialogOpen&&o.createElement(H.a,{onClose:()=>{this._openOpenConfirmDialog(!1)},onConfirm:()=>{this._openOpenConfirmDialog(!1),this._openInitialFileMetadata(!0)}}),o.createElement(g.a,{shouldPrompt:!!this.state.currentProject,i18n:this.props.i18n,language:this.props.i18n.language,hasUnsavedChanges:!!this.props.unsavedChanges&&this.props.unsavedChanges.hasUnsavedChanges}),o.createElement(D.a,null),this.state.gdjsDevelopmentWatcherEnabled&&K&&K())}}t.a=Z}).call(this,n(1))},577:function(e,t,n){"use strict";var a=n(2292),o=n(130);n(986),n(987),n(578),n(988),n(989);const s="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, 'Helvetica Neue', Helvetica, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'",i={gdevelopTheme:{palette:{canvasColor:"#f0f0f0"},message:{warning:"#ffa500",error:"#f00",valid:"#00aa00"},toolbar:{backgroundColor:"#f7f7f7",separatorColor:"#cecece"},closableTabs:{fontFamily:s,containerBackgroundColor:"#f7f7f7",backgroundColor:"#f0f0f0",textColor:"#878787",selectedBackgroundColor:"#4ab0e4",selectedTextColor:"#ffffff",height:32,closeButtonWidth:24},imageThumbnail:{selectedBorderColor:"#4c92ff"},list:{itemsBackgroundColor:"#ffffff"},searchBar:{backgroundColor:"#ffffff"},listItem:{groupBackgroundColor:"#f7f7f7",groupTextColor:"rgba(0,0,0,0.54)",deprecatedGroupTextColor:"rgba(0,0,0,0.30)",separatorColor:"#e0e0e0",selectedBackgroundColor:"#4c92ff",selectedTextColor:"#ffffff",errorTextColor:"#ff2e16",warningTextColor:"#ffb032",selectedErrorBackgroundColor:"#ff2e16",selectedWarningBackgroundColor:"#ffb032"},emptyMessage:{shadowColor:"#FFFFFF"},logo:{src:"res/GD-logo-big.png"},mosaicRootClassName:"mosaic-gd-default-theme",eventsSheetRootClassName:"gd-events-sheet-default-theme",tableRootClassName:"gd-table-default-theme",markdownRootClassName:"gd-markdown-default-theme",gdevelopIconsCSSFilter:""},muiTheme:Object(a.a)({typography:{fontFamily:s},palette:{type:"light",common:{black:"rgba(110, 42, 42, 1)",white:"#fff"},background:{paper:"#f0f0f0",default:"#f7f7f7"},primary:{light:Object(o.e)("#4ab0e4",.05),main:"#4ab0e4",dark:Object(o.a)("#4ab0e4",.05),contrastText:"#fff"},secondary:{light:Object(o.e)("#9100ce",.05),main:"#9100ce",dark:Object(o.a)("#9100ce",.05),contrastText:"#fff"}},overrides:{MuiTypography:{h6:{fontWeight:400}},MuiInput:{underline:{"&:before":{borderBottom:"1px solid #BBBBBB"}}},MuiAppBar:{colorPrimary:{backgroundColor:"#9100ce"}},MuiIconButton:{root:{color:"#111"}},MuiListItemIcon:{root:{color:"#111"}},MuiListItem:{secondaryAction:{paddingRight:40},gutters:{paddingRight:8}},MuiListItemSecondaryAction:{root:{right:8}},MuiTabs:{root:{backgroundColor:"#4ab0e4",minHeight:32}},MuiTab:{textColorPrimary:{color:"#fff !important"},root:{paddingTop:0,paddingBottom:0,minHeight:32}},MuiButtonBase:{root:{cursor:"default"}},MuiTableCell:{sizeSmall:{paddingTop:0,paddingBottom:0}},MuiDialogTitle:{root:{padding:8}},MuiDialogContent:{root:{padding:8}},MuiFormControl:{marginDense:{marginTop:0,marginBottom:0}},MuiCheckbox:{root:{marginTop:-9,marginBottom:-9}},MuiButton:{root:{borderRadius:0,fontWeight:400}}}})};t.a=i},599:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));const a=e=>"update-available"===e.status?"A new update is available!":"",o=e=>"update-available"===e.status?"It will be downloaded and installed automatically (unless you deactivated this in preferences)":"",s=e=>"checking-for-update"===e?"Checking for update...":"update-available"===e?"A new update is available!":"update-not-available"===e?"No update available. You're using the latest version!":"error"===e?"Error while checking update":"download-progress"===e?"A new update is being downloaded...":"update-downloaded"===e?"A new update will be installed after you quit and relaunch GDevelop":"",i=e=>"update-available"===e?"Update GDevelop to latest version":"Check again for new updates",r=e=>"update-available"===e},605:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(606),i=n.n(s),r=n(104),l=n(206),c=n(5);t.a=e=>{const t=e.helpPagePath;return t?o.a.createElement(r.a,{onClick:()=>c.b.openExternalURL(Object(l.a)(t)),disabled:e.disabled,style:e.style},o.a.createElement(i.a,null)):null}},608:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var a=n(78),o=n(2),s=n(157),i=n.n(s),r=n(189),l=n(90),c=n(92),u=n(133),d=n(1108),h=n(2299),p=n(612),m=n(1111),g=n(1121),b=n(208),f=n(114);const E=e.gd,v=Object(r.SortableElement)(d.a),y=Object(r.SortableElement)(h.a);class C extends o.Component{render(){return o.createElement("div",null,this.props.children)}}const x=Object(r.SortableContainer)(C);x.muiName="TableBody";class j extends o.Component{constructor(...e){super(...e),this.state={nameErrors:{},selectedVariables:Object(m.b)(),mode:"select"},this._selectVariable=(e,t)=>{this.setState({selectedVariables:Object(m.a)(this.state.selectedVariables,e,t)})},this.copySelection=()=>{b.a.set(g.a,Object(m.c)(this.state.selectedVariables).map(({name:e,variable:t})=>({name:e,serializedVariable:Object(f.b)(t)})))},this.paste=()=>{const e=this.props,t=e.variablesContainer,n=e.inheritedVariablesContainer;b.a.has(g.a)&&(b.a.get(g.a).forEach(({name:e,serializedVariable:a})=>{const o=Object(u.a)(e,e=>n&&n.has(e)||t.has(e),"CopyOf"),s=new E.Variable;Object(f.c)(s,a),t.insert(o,s,t.count()),s.delete()}),this.forceUpdate())},this.deleteSelection=()=>{const e=this.props.variablesContainer,t=Object(m.c)(this.state.selectedVariables);t.filter(e=>!t.find(t=>e!==t&&t.variable.contains(e.variable,!0))).forEach(({variable:t})=>e.removeRecursively(t)),this.clearSelection()},this.clearSelection=()=>{this.setState({selectedVariables:Object(m.b)()})},this._updateOrDefineVariable=(e,t,n,a,o)=>{const s=this.props,i=s.variablesContainer,r=s.inheritedVariablesContainer;if(r&&"parent"===o){const t=Object(f.b)(r.get(e)),o=new E.Variable;Object(f.c)(o,t),i.insert(e,o,a),o.delete(),i.get(e).setString(n)}else t.setString(n)},this._getVariableOrigin=e=>{const t=this.props,n=t.variablesContainer,a=t.inheritedVariablesContainer;return a&&a.has(e)?n.has(e)?"inherited":"parent":""}}_renderVariableChildren(e,t,n,a){const o=t.getAllChildrenNames().toJSArray();return i()(o.map((e,o)=>{const s=t.getChild(e);return this._renderVariableAndChildrenRows(e,s,n+1,o,t,a)}))}_renderVariableAndChildrenRows(e,t,n,s,i,r=null){const l=this.props.variablesContainer,c=t.isStructure(),d=r||this._getVariableOrigin(e);return o.createElement(v,{name:e,index:s,key:"variable-"+e,variable:t,disabled:0!==n,depth:n,origin:d,errorText:this.state.nameErrors[t.ptr]?"This name is already taken":void 0,onChangeValue:n=>{this._updateOrDefineVariable(e,t,n,s,d),this.forceUpdate(),this.props.onSizeUpdated&&this.props.onSizeUpdated()},onResetToDefaultValue:()=>{l.removeRecursively(t),this.forceUpdate(),this.props.onSizeUpdated&&this.props.onSizeUpdated()},onBlur:n=>{const o=n.target.value;if(e===o)return;let s=!0;s=i?i.renameChild(e,o):l.rename(e,o),this.setState({nameErrors:Object(a.a)({},this.state.nameErrors,{[t.ptr]:!s})})},onRemove:()=>{i?i.removeChild(e):l.remove(e),this.forceUpdate(),this.props.onSizeUpdated&&this.props.onSizeUpdated()},onAddChild:()=>{const e=Object(u.a)("ChildVariable",e=>t.hasChild(e));t.getChild(e).setString(""),this.forceUpdate(),this.props.onSizeUpdated&&this.props.onSizeUpdated()},children:c?this._renderVariableChildren(e,t,n,d):null,showHandle:"move"===this.state.mode,showSelectionCheckbox:"select"===this.state.mode,isSelected:!!this.state.selectedVariables[t.ptr],onSelect:n=>this._selectVariable({name:e,ptr:t.ptr,variable:t},n)})}_renderEmpty(){return!!this.props.emptyExplanationMessage&&o.createElement("div",null,o.createElement(c.a,{style:p.a.emptyExplanation,messageStyle:p.a.emptyExplanationMessage},this.props.emptyExplanationMessage),o.createElement(c.a,{style:p.a.emptyExplanation,messageStyle:p.a.emptyExplanationMessage},this.props.emptyExplanationSecondMessage))}render(){const e=this.props,t=e.variablesContainer,n=e.inheritedVariablesContainer;if(!t)return null;const a=n?Object(l.mapFor)(0,n.count(),e=>{const a=n.getNameAt(e);if(!t.has(a)){const t=n.getAt(e);return this._renderVariableAndChildrenRows(a,t,0,e,void 0,"parent")}}):[],s=Object(l.mapFor)(0,t.count(),e=>{const n=t.getAt(e),a=t.getNameAt(e);return this._renderVariableAndChildrenRows(a,n,0,e,void 0)}),i=o.createElement(y,{index:0,key:"add-variable-row",disabled:!0,onAdd:()=>{const e=new E.Variable;e.setString("");const a=Object(u.a)("Variable",e=>n&&n.has(e)||t.has(e));t.insert(a,e,t.count()),this.forceUpdate(),this.props.onSizeUpdated&&this.props.onSizeUpdated()},onCopy:this.copySelection,onPaste:this.paste,onDeleteSelection:this.deleteSelection,hasSelection:Object(m.d)(this.state.selectedVariables),hasClipboard:b.a.has(g.a)});return o.createElement(x,{variablesContainer:this.props.variablesContainer,onSortEnd:({oldIndex:e,newIndex:t})=>{this.props.variablesContainer.move(e,t),this.forceUpdate()},helperClass:"sortable-helper",useDragHandle:!0,lockToContainerEdges:!0},!!a.length&&a,!s.length&&this._renderEmpty(),!!s.length&&s,i)}}}).call(this,n(1))},612:function(e,t,n){"use strict";t.a={toolColumnHeader:{textAlign:"left",paddingRight:4},toolColumn:{minWidth:48,flex:0,justifyContent:"flex-end"},tableChildIndentation:24,indent:{display:"flex",alignItems:"center",justifyContent:"flex-end"},indentIconColor:"#DDD",emptyExplanation:{justifyContent:"flex-start"},emptyExplanationMessage:{textAlign:"left"},fadedButton:{opacity:.7}}},619:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var a=n(20),o=n(444),s=n.n(o);const i=e=>/^([A-Za-z]{1}[A-Za-z\d_]*\.)+[A-Za-z][A-Za-z\d_]*$/i.test(e),r=(e,t)=>{const n={},a=(e,t,a,o="")=>{n[e]||(n[e]=[]),n[e].push({type:t,message:a,extraExplanation:o})};return t.getPackageName()?t.getPackageName().length>=255?a("packageName","error",e("The package name is too long."),e("Change the package name in the game properties.")):i(t.getPackageName())||a("packageName","error",e('The package name is containing invalid characters or not following the convention "xxx.yyy.zzz" (numbers allowed after a letter only).'),e("Change the package name in the game properties.")):a("packageName","error",e("The package name is empty."),e("Choose and enter a package name in the game properties.")),t.getName()||a("name","error",e("The name of your game is too long."),e("Change the name in the game properties.")),(!t.getVersion()||t.getVersion().split(".").length<3)&&a("packageName","error",e("The version that you've set for the game is invalid."),e("Enter a version in the game properties.")),n},l=(e,t)=>!Object.keys(t).length||(Object(a.a)(e("Your game has some invalid elements, please fix these before continuing:")+"\n\n"+s()(t).map(e=>e.map(e=>"- ".concat(e.message)).join("\n")).join("\n")),!1)},622:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(78),o=n(2),s=n.n(o),i=n(2482),r=n(75),l=n(1134),c=n.n(l),u=n(150);const d={chip:{margin:2},chipsList:{marginTop:4,display:"flex",flexWrap:"wrap"}};class h extends o.Component{componentDidMount(){this._searchBar&&this._searchBar.focus()}render(){const e=this.props,t=e.chosenChip,n=e.onChooseChip,o=e.value,l=e.onChange,h=e.onRequestSearch,p=e.chips;return s.a.createElement(r.a,{noMargin:!0},s.a.createElement(u.a,{value:o,onRequestSearch:h,onChange:e=>{l(e)},ref:e=>this._searchBar=e}),s.a.createElement(r.b,null,s.a.createElement(r.a,null,s.a.createElement("div",{style:d.chipsList},p&&p.map(({text:e,value:o})=>{return s.a.createElement(i.a,{size:"small",key:o,style:Object(a.a)({},d.chip,{backgroundColor:t&&t!==o?void 0:(r=o,c()({seed:r,luminosity:"light"})),color:t&&t!==o?void 0:"black"}),onClick:()=>n(t===o?"":o),label:e});var r})))))}}},623:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var a=n(72),o=n(2),s=n.n(o),i=n(82),r=n(94),l=n(84),c=n(86),u=n(335),d=n(92),h=n(241),p=n(291),m=n(674),g=n.n(m),b=n(145),f=n(686),E=n(105);const v=e.gd;class y extends o.Component{constructor(e){super(e),this._onApply=()=>{this.props.layout.setWindowDefaultTitle(this.state.windowTitle),this.props.layout.setStopSoundsOnStartup(this.state.shouldStopSoundsOnStartup),this.props.layout.setBackgroundColor(this.state.backgroundColor.r,this.state.backgroundColor.g,this.state.backgroundColor.b),this.props.onApply()},this.state=this._loadFrom(e.layout)}_loadFrom(e){return{windowTitle:e.getWindowDefaultTitle(),shouldStopSoundsOnStartup:e.stopSoundsOnStartup(),backgroundColor:{r:e.getBackgroundColorRed(),g:e.getBackgroundColorGreen(),b:e.getBackgroundColorBlue(),a:1}}}componentWillReceiveProps(e){(!this.props.open&&e.open||e.open&&this.props.layout!==e.layout)&&this.setState(this._loadFrom(e.layout))}render(){const e=this.props,t=e.layout,n=e.project,o=[s.a.createElement(i.a,{label:s.a.createElement(a.Trans,{id:"Ok"}),key:"ok",primary:!0,keyboardFocused:!0,onClick:this._onApply})],m=t.getAllBehaviorSharedDataNames().toJSArray().map(e=>{const a=t.getBehaviorSharedData(e),o=a.getTypeName(),i=v.JsPlatform.get().getBehaviorSharedDatas(o);if(Object(f.a)(v,i))return null;const r=i.getProperties(a.getContent(),n),l=Object(p.a)(r,e=>i.getProperties(e.getContent(),n),(e,t,a)=>i.updateProperty(e.getContent(),t,a,n));return!!l.length&&s.a.createElement(h.a,{key:e,schema:l,instances:[a]})}).filter(Boolean);return s.a.createElement(c.a,{title:s.a.createElement(a.Trans,{id:"Scene properties"}),actions:o,secondaryActions:s.a.createElement(l.a,{label:s.a.createElement(a.Trans,{id:"Edit scene variables"}),fullWidth:!0,onClick:()=>{this.props.onEditVariables(),this.props.onClose()}}),open:this.props.open,cannotBeDismissed:!0,onRequestClose:this.props.onClose,maxWidth:"sm"},s.a.createElement(E.a,{expand:!0,noMargin:!0},s.a.createElement(r.b,{floatingLabelText:s.a.createElement(a.Trans,{id:"Window title"}),fullWidth:!0,type:"text",value:this.state.windowTitle,onChange:(e,t)=>this.setState({windowTitle:t})}),s.a.createElement(b.a,{checked:this.state.shouldStopSoundsOnStartup,label:s.a.createElement(a.Trans,{id:"Stop music and sounds on startup"}),onCheck:(e,t)=>this.setState({shouldStopSoundsOnStartup:t})}),s.a.createElement(u.a,{floatingLabelText:s.a.createElement(a.Trans,{id:"Scene background color"}),fullWidth:!0,disableAlpha:!0,color:this.state.backgroundColor,onChangeComplete:e=>this.setState({backgroundColor:e.rgb})}),!g()(m)&&s.a.createElement(d.a,null,s.a.createElement(a.Trans,{id:"Any additional properties will appear here if you add behaviors to objects, like Physics behavior."})),m,this.props.onOpenMoreSettings&&s.a.createElement(l.a,{label:s.a.createElement(a.Trans,{id:"Open advanced settings"}),fullWidth:!0,onClick:()=>{this.props.onOpenMoreSettings&&this.props.onOpenMoreSettings(),this.props.onClose()}})))}}}).call(this,n(1))},686:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>0===e.getPointer(t)},687:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(207);t.a=e=>o.createElement(s.a,{open:e.open,variablesContainer:e.layout.getVariables(),onCancel:e.onClose,onApply:e.onApply,title:o.createElement(a.Trans,{id:"Scene Variables"}),emptyExplanationMessage:o.createElement(a.Trans,{id:"Scene variables can be used to store any value or text during the game."}),emptyExplanationSecondMessage:o.createElement(a.Trans,{id:"For example, you can have a variable called Score representing the current score of the player."})})},689:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var a=n(78),o=n(2),s=n.n(o),i=n(145),r=n(101);const l={position:"relative",display:"inline-block",width:100,height:100,justifyContent:"center",alignItems:"center",lineHeight:"100px",textAlign:"center",border:"#AAAAAA 1px solid",borderColor:"#AAAAAA"},c={spriteThumbnail:Object(a.a)({},l,{background:'url("res/transparentback.png") repeat'}),spriteThumbnailImage:{maxWidth:100,maxHeight:100,verticalAlign:"middle",pointerEvents:"none"},checkboxContainer:{textAlign:"initial",position:"absolute",width:34,height:64,bottom:0,right:0}};t.a=({project:e,resourceName:t,resourcesLoader:n,style:o,selectable:l,selected:u,onSelect:d,onContextMenu:h,muiTheme:p})=>s.a.createElement(r.a,null,r=>s.a.createElement("div",{title:t,style:Object(a.a)({},c.spriteThumbnail,{borderColor:u?r.imageThumbnail.selectedBorderColor:void 0},o),onContextMenu:e=>{e.stopPropagation(),h&&h(e.clientX,e.clientY)}},s.a.createElement("img",{style:c.spriteThumbnailImage,alt:t,src:n.getResourceFullUrl(e,t),crossOrigin:"anonymous"}),l&&s.a.createElement("div",{style:c.checkboxContainer},s.a.createElement(i.a,{checked:u,onCheck:(e,t)=>d(t)}))))},690:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(82),i=n(84),r=n(75),l=n(83),c=n(175);t.a=({message:e,onLogin:t,onCreateAccount:n})=>o.createElement(r.a,{noMargin:!0},o.createElement(r.b,null,o.createElement(l.a,null,e||o.createElement(a.Trans,{id:"You are not connected. Create an account to access to GDevelop online services and build your game for Android, Windows, macOS and Linux in one click!"}))),o.createElement(r.b,{justifyContent:"center",alignItems:"baseline"},o.createElement(i.a,{label:o.createElement(a.Trans,{id:"Create my account"}),onClick:n,primary:!0}),o.createElement(r.c,null),o.createElement(r.c,null),o.createElement(c.a,null,"or"),o.createElement(r.c,null),o.createElement(s.a,{label:o.createElement(a.Trans,{id:"Login"}),onClick:t})))},699:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(78),o=n(2),s=n(481),i=n(114),r=n(195);class l extends r.a{updateToolbar(){this.editor&&this.editor.updateToolbar()}forceUpdateEditor(){}getSerializedElements(){const e=this.getLayout();return e?Object(a.a)({},r.a.getLayoutSerializedElements(e),{events:Object(i.b)(e.getEvents())}):{}}getLayout(){const e=this.props,t=e.project,n=e.layoutName;return t&&t.hasLayoutNamed(n)?t.getLayout(n):null}render(){const e=this.props,t=e.project,n=e.layoutName,a=this.getLayout();return a?o.createElement(s.a,Object.assign({},this.props,{ref:e=>this.editor=e,project:t,scope:{layout:a},globalObjectsContainer:t,objectsContainer:a,events:a.getEvents(),onPreview:e=>this.props.onPreview(t,a,e),onOpenExternalEvents:this.props.onOpenExternalEvents,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,unsavedChanges:this.props.unsavedChanges})):o.createElement("div",null,"No layout called ",n," found!")}}},729:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),o=n(122);function s({canDrop:e}){return a.createElement("div",{className:e?o.e:o.b})}},730:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n(2),o=n(110);class s extends a.Component{constructor(...e){super(...e),this._field=null}focus(){this._field&&this._field.focus()}render(){const e=this.props.parameterMetadata,t=e?e.getDescription():void 0;return a.createElement(o.a,{margin:this.props.isInline?"none":"dense",commitOnBlur:!0,value:this.props.value,floatingLabelText:t,helperMarkdownText:e?e.getLongDescription():void 0,onChange:e=>this.props.onChange(e),ref:e=>this._field=e,fullWidth:!0})}}const i=({value:e,parameterMetadata:t,MissingParameterValue:n})=>e||t.isOptional()?e:a.createElement(n,null)},731:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(127),o=n(2),s=n(192),i=n(162),r=n(134),l=n(180);class c extends o.Component{focus(){this._field&&this._field.focus()}render(){const e=this.props,t=e.value,n=e.onChange,c=e.onChoose,u=e.project,d=e.globalObjectsContainer,h=e.objectsContainer,p=e.allowedObjectType,m=e.noGroups,g=e.errorTextIfInvalid,b=e.margin,f=e.onRequestClose,E=Object(a.a)(e,["value","onChange","onChoose","project","globalObjectsContainer","objectsContainer","allowedObjectType","noGroups","errorTextIfInvalid","margin","onRequestClose"]),v=(({project:e,globalObjectsContainer:t,objectsContainer:n,noGroups:a,allowedObjectType:i})=>{const c=Object(s.d)(t,n,i||void 0);return[...c.allObjectsList.map(({object:t})=>({text:t.getName(),value:t.getName(),renderIcon:e?()=>o.createElement(r.a,{iconSize:24,src:l.a.getThumbnail(e,t)}):void 0})),{type:"separator"},...a?[]:c.allGroupsList.map(({group:e})=>({text:e.getName(),value:e.getName()}))]})({project:u,globalObjectsContainer:d,objectsContainer:h,noGroups:m,allowedObjectType:p}),y=0!==v.filter(e=>void 0!==e.text&&t===e.text).length;return o.createElement(i.a,Object.assign({margin:b,hintText:{id:"Choose an object"},value:t,onChange:n,onChoose:c,onRequestClose:f,dataSource:v,errorText:y?void 0:g,ref:e=>this._field=e},E))}}},75:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r}));var a=n(2),o=n.n(a);const s=e=>o.a.createElement("div",{style:{display:"flex",marginTop:e.noMargin?0:4,marginBottom:e.noMargin?0:4,alignItems:e.alignItems,justifyContent:e.justifyContent,flex:e.expand?1:void 0}},e.children),i=e=>o.a.createElement("div",{style:{display:"flex",marginLeft:e.noMargin?0:8,marginRight:e.noMargin?0:8,flexDirection:"column",alignItems:e.alignItems||"stretch",justifyContent:e.justifyContent,flex:e.expand?1:void 0,maxHeight:e.useMaxHeight?"100%":void 0}},e.children),r=e=>o.a.createElement("span",{style:{width:4,height:4,flexShrink:0}})},785:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var a=n(371),o=n.n(a),s=n(108),i=n(112),r=n(1663);const l=e.gd,c={},u={},d=s.Texture.fromImage("res/error48.png");class h{static _initializeTexture(e,t){if("image"!==e.getKind())return;l.asImageResource(e).isSmooth()||(t.baseTexture.scaleMode=s.SCALE_MODES.NEAREST)}static loadTextures(e,t,n,a){const o=e.getResourcesManager(),r=s.loader;r.reset(),r.removeAllListeners();const l={};t.forEach(t=>{const n=o.getResource(t),a=i.a.getResourceFullUrl(e,t);r.add(t,a),l[t]=n});const c=t.length;if(!c)return void a();let d=0;r.once("complete",(function(e,t){for(const n in t)if(t.hasOwnProperty(n)){const e=o.getResource(n);if("image"!==e.getKind())continue;u[n]=t[n].texture,h._initializeTexture(e,u[n])}a()})),r.on("progress",(function(){d++,n(d,c)})),r.load()}static getPIXITexture(e,t){if(u[t])return u[t];if(!e.getResourcesManager().hasResource(t))return d;const n=e.getResourcesManager().getResource(t);return"image"!==n.getKind()?d:(u[t]=s.Texture.fromImage(i.a.getResourceFullUrl(e,t),!0),h._initializeTexture(n,u[t]),u[t])}static getPIXIVideoTexture(e,t){if(u[t])return u[t];if(!e.getResourcesManager().hasResource(t))return d;return"video"!==e.getResourcesManager().getResource(t).getKind()?d:(u[t]=s.Texture.fromVideo(i.a.getResourceFullUrl(e,t,!0),s.SCALE_MODES.LINEAR,!0,!1),u[t].baseTexture.source.preload="auto",u[t])}static loadFontFamily(e,t){if(c[t])return Promise.resolve(c[t]);const n=o()(t);let a=null;if(e.getResourcesManager().hasResource(t)){"font"===e.getResourcesManager().getResource(t).getKind()&&(a=i.a.getResourceFullUrl(e,t))}else a=i.a.getFullUrl(e,t);return a?Object(r.a)(n,'url("'.concat(a,'")'),{}).then(e=>(c[t]=n,n)):Promise.resolve("Arial")}static getFontFamily(e,t){if(c[t])return c[t];return o()(t)}static getInvalidPIXITexture(){return d}}}).call(this,n(1))},786:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{if(e)return e;return t&&t.isOptional()?t.getDefaultValue():""}},787:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return p}));var a=n(90),o=n(157),s=n.n(o);const i=e.gd,r=e=>{const t=e.getExtensionObjectsTypes(),n=e.getBehaviorsTypes();return t.size()>0||n.size()>0?("BuiltinObject"===e.getName()?"Common expressions for all objects":e.getFullName())+"/":""},l=(e,t,n)=>Object(a.mapVector)(t.keys(),a=>{const o=t.get(a);if(!o.isShown())return null;for(var s=[],i=0;i<o.getParametersCount();i++)n.objectMetadata&&0===i||n.behaviorMetadata&&i<=1||o.getParameter(i).isCodeOnly()||s.push(o.getParameter(i));return{type:a,name:a,displayedName:o.getFullName(),fullGroupName:e+o.getGroup(),iconFilename:o.getSmallIconFilename(),metadata:o,parameters:s,scope:n,isPrivate:o.isPrivate()}}).filter(Boolean),c=e=>{const t=i.asPlatform(i.JsPlatform.get()).getAllPlatformExtensions();return s()(Object(a.mapVector)(t,t=>{const n=r(t);return l(n,"string"===e?t.getAllStrExpressions():t.getAllExpressions(),{objectMetadata:void 0,behaviorMetadata:void 0})}))},u=(e,t)=>{const n=i.MetadataProvider.getExtensionAndObjectMetadata(i.JsPlatform.get(),t),a=n.getExtension(),o={objectMetadata:n.getMetadata()};let s=l("","string"===e?a.getAllStrExpressionsForObject(t):a.getAllExpressionsForObject(t),o);if(""!==t){const t=i.MetadataProvider.getExtensionAndObjectMetadata(i.JsPlatform.get(),"").getExtension();s=[...s,...l("","string"===e?t.getAllStrExpressionsForObject(""):t.getAllExpressionsForObject(""),o)]}return s},d=(e,t)=>{const n=i.MetadataProvider.getExtensionAndBehaviorMetadata(i.JsPlatform.get(),t),a=n.getExtension(),o={behaviorMetadata:n.getMetadata()};return l("","string"===e?a.getAllStrExpressionsForBehavior(t):a.getAllExpressionsForBehavior(t),o)},h=e=>{const t=c(e),n=[],o=[],s=i.asPlatform(i.JsPlatform.get()).getAllPlatformExtensions();return Object(a.mapVector)(s,t=>{const s=r(t);Object(a.mapVector)(t.getExtensionObjectsTypes(),a=>{const o=t.getObjectMetadata(a);n.push.apply(n,l(s,"string"===e?t.getAllStrExpressionsForObject(a):t.getAllExpressionsForObject(a),{objectMetadata:o}))}),Object(a.mapVector)(t.getBehaviorsTypes(),n=>{const a=t.getBehaviorMetadata(n);o.push.apply(o,l(s,"string"===e?t.getAllStrExpressionsForBehavior(n):t.getAllExpressionsForBehavior(n),{behaviorMetadata:a}))})}),[...t,...n,...o]},p=(e,t)=>{if(!t)return e;const n=t.toLowerCase();return(e=>{if(!t)return e;for(var a=0;a<e.length;++a)if(e[a].type.toLowerCase()===n){const t=e[a];e.splice(a,1),e.unshift(t)}return e})(e.filter(e=>-1!==e.type.toLowerCase().indexOf(n)))}}).call(this,n(1))},790:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2),o=n(100),s=n(134),i=n(247);const r=({instructionOrExpressionMetadata:e,iconSize:t,onClick:n,selectedValue:r})=>a.createElement(o.b,{key:Object(i.a)(e),selected:r===Object(i.b)(e.type),primaryText:e.displayedName,secondaryText:e.fullGroupName,leftIcon:a.createElement(s.a,{iconSize:t,src:e.iconFilename}),onClick:n})},791:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(2309),o=n(2),s=n(100),i=n(134),r=n(179),l=n(157),c=n.n(l),u=n(247);const d=({instructionTreeNode:e,onChoose:t,iconSize:n,useSubheaders:l,selectedValue:h,selectedItemRef:p,initiallyOpenedPath:m})=>{const g=m||[],b=Object(a.a)(g),f=b[0],E=b.slice(1);return c()(Object.keys(e).map(a=>{const c=e[a];if(!c)return null;if("string"===typeof c.type){const e=c,r=Object(u.b)(c.type),l=h===r;return o.createElement(s.b,{key:r,primaryText:a,selected:l,leftIcon:o.createElement(i.a,{iconSize:n,src:e.iconFilename}),onClick:()=>{t(e.type,e)},ref:l?p:void 0})}{const e=c;if(l)return[o.createElement(r.a,{key:Object(u.f)(a)},a)].concat(d({instructionTreeNode:e,onChoose:t,iconSize:n,useSubheaders:!1,selectedValue:h,selectedItemRef:p,initiallyOpenedPath:E}));{const i=f===a;return o.createElement(s.b,{key:a,primaryText:a,autoGenerateNestedIndicator:!0,initiallyOpen:i,renderNestedItems:()=>d({instructionTreeNode:e,onChoose:t,iconSize:n,selectedValue:h,selectedItemRef:p,initiallyOpenedPath:i?E:void 0})})}}}))}},792:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));const a=e.gd,o=({instructionMetadata:e,instruction:t,expressionMetadata:n,expression:o,parameterIndex:s})=>{if(void 0===s||null==s)return null;let i=null;if(e&&t){const n=a.ParameterMetadataTools.getObjectParameterIndexFor(e.getParameters(),s);n>=0&&n<t.getParametersCount()&&(i=t.getParameter(n))}else if(n&&o){const e=a.ParameterMetadataTools.getObjectParameterIndexFor(n.getParameters(),s);e>=0&&e<o.getParametersCount()&&(i=o.getParameter(e))}return i}}).call(this,n(1))},793:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));const a=(e,t)=>e.length>t?e.substring(0,t)+"...":e,o=e=>e.replace(/\s/g,"\xa0")},794:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),o=n(165);const s=e=>{const t={canDrag(e,t){const n=t.getItem(),a=e.canDrag||null;return!a||a(n)},beginDrag:e=>e.beginDrag()};const n={canDrop(e,t){const n=t.getItem();return n&&e.canDrop(n)},drop(e,t){t.didDrop()||e.drop()}};const s=Object(o.DragSource)(e,t,(function(e,t){return{connectDragSource:e.dragSource()}}))(Object(o.DropTarget)(e,n,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop()}}))(({children:e,connectDragSource:t,connectDropTarget:n,isOver:a,canDrop:o})=>e({connectDragSource:t,connectDropTarget:n,isOver:a,canDrop:o})));return e=>a.createElement(s,e)}},795:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return m}));var a=n(208),o=n(365),s=n(114);const i=e.gd,r="EventsAndInstructions",l=()=>a.a.has(r)&&a.a.get(r).eventsCount>0,c=()=>a.a.has(r)&&a.a.get(r).conditionsCount>0,u=()=>a.a.has(r)&&a.a.get(r).actionsCount>0,d=e=>{const t=new i.EventsList,n=new i.InstructionsList,l=new i.InstructionsList;Object(o.d)(e).forEach(e=>t.insertEvent(e,t.getEventsCount())),Object(o.f)(e).forEach(e=>{e.isCondition?l.insert(e.instruction,l.size()):n.insert(e.instruction,n.size())}),a.a.set(r,{eventsList:Object(s.b)(t),eventsCount:t.getEventsCount(),actionsList:Object(s.b)(n),actionsCount:n.size(),conditionsList:Object(s.b)(l),conditionsCount:l.size()}),t.delete(),n.delete(),l.delete()},h=(e,t)=>{if(!Object(o.h)(t)||!l())return!1;const n=new i.EventsList;return Object(s.c)(n,a.a.get(r).eventsList,"unserializeFrom",e),Object(o.c)(t).forEach(e=>{e.eventsList.insertEvents(n,0,n.getEventsCount(),e.indexInList)}),n.delete(),!0},p=(e,t)=>{if(!Object(o.i)(t)&&!Object(o.j)(t)||!c()&&!u())return!1;const n=a.a.get(r),l=new i.InstructionsList,d=new i.InstructionsList;return Object(s.c)(l,n.actionsList,"unserializeFrom",e),Object(s.c)(d,n.conditionsList,"unserializeFrom",e),Object(o.f)(t).forEach(e=>{e.isCondition?e.instrsList.insertInstructions(d,0,d.size(),e.indexInList):e.instrsList.insertInstructions(l,0,l.size(),e.indexInList)}),Object(o.g)(t).forEach(e=>{e.isCondition?e.instrsList.insertInstructions(d,0,d.size(),e.instrsList.size()):e.instrsList.insertInstructions(l,0,l.size(),e.instrsList.size())}),d.delete(),l.delete(),!0},m=(e,t)=>{if(!c()&&!u())return!1;const n=a.a.get(r),o=new i.InstructionsList,l=new i.InstructionsList;return Object(s.c)(o,n.actionsList,"unserializeFrom",e),Object(s.c)(l,n.conditionsList,"unserializeFrom",e),t.isCondition?t.instrsList.insertInstructions(l,0,l.size(),t.instrsList.size()):t.instrsList.insertInstructions(o,0,o.size(),t.instrsList.size()),l.delete(),o.delete(),!0}}).call(this,n(1))},796:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),o=n(165);const s=e=>{const t={canDrop(e,t){const n=t.getItem();return n&&e.canDrop(n)},hover(e,t){e.hover&&e.hover(t)},drop(e,t){t.didDrop()||e.drop(t)}};const n=Object(o.DropTarget)(e,t,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop()}}))(({children:e,connectDropTarget:t,isOver:n,canDrop:a})=>e({connectDropTarget:t,isOver:n,canDrop:a}));return e=>a.createElement(n,e)}},797:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(245),i=n(2482);const r={chipContainer:{display:"flex",overflowX:"auto",margin:4},chip:{marginLeft:2,marginRight:2}};t.a=({tags:e,onChange:t})=>e.length?o.a.createElement("div",{style:r.chipContainer},e.map(n=>o.a.createElement(i.a,{key:n,size:"small",style:r.chip,onDelete:()=>t(Object(s.e)(e,n)),label:n}))):null},798:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),o=n(75);const s=e=>{const t=e.getColumns();return a.createElement(o.b,{noMargin:!0,expand:!0},t.map(t=>e.columnsRenderer[t]?e.columnsRenderer[t]():null))}},799:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return c}));var a=n(114);const o=(e,{historyMaxSize:t})=>({undoHistory:[],current:Object(a.b)(e),redoHistory:[],maxSize:t}),s=e=>!!e.redoHistory.length,i=e=>!!e.undoHistory.length,r=(e,t)=>{const n=[...e.undoHistory,e.current];return n.length>e.maxSize&&n.splice(0,n.length-e.maxSize),{undoHistory:n,current:Object(a.b)(t),redoHistory:[],maxSize:e.maxSize}},l=(e,t,n)=>{if(!e.undoHistory.length)return e;const o=e.undoHistory[e.undoHistory.length-1];return Object(a.c)(t,o,"unserializeFrom",n),{undoHistory:e.undoHistory.slice(0,-1),current:o,redoHistory:[...e.redoHistory,e.current],maxSize:e.maxSize}},c=(e,t,n)=>{if(!e.redoHistory.length)return e;const o=e.redoHistory[e.redoHistory.length-1];return Object(a.c)(t,o,"unserializeFrom",n),{undoHistory:[...e.undoHistory,e.current],current:o,redoHistory:e.redoHistory.slice(0,-1),maxSize:e.maxSize}}},802:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return g}));var a=n(114),o=n(90),s=n(249),i=n(1731);const r=e.gd,l=({globalObjectsContainer:e,objectsContainer:t,serializedEvents:n,project:o,eventsFunction:s})=>{s.setName("MyFunction"),s.setFunctionType(r.EventsFunction.Action),Object(a.c)(s.getEvents(),n,"unserializeFrom",o);const l=new r.EventsContextAnalyzer(r.JsPlatform.get(),e,t);l.launch(s.getEvents());const c=l.getEventsContext(),u=c.getReferencedObjectOrGroupNames().toNewVectorString().toJSArray(),d=c.getObjectNames().toNewVectorString().toJSArray(),h=u.filter(e=>-1===d.indexOf(e)).map(n=>Object(i.a)(e,t,n)).filter(Boolean),p=h.filter(e=>!u.some(t=>e.find(t))),m=p.map(e=>e.getName()),g=d.filter(e=>!p.some(t=>t.find(e))),b=s.getParameters();b.clear(),[...m,...g].forEach(n=>{const a=new r.ParameterMetadata;a.setType("objectList"),a.setName(n),a.setExtraInfo(r.getTypeOfObject(e,t,n,!0)),b.push_back(a),c.getBehaviorNamesOfObjectOrGroup(n).toNewVectorString().toJSArray().forEach(n=>{const a=new r.ParameterMetadata;a.setType("behavior"),a.setName(n),a.setExtraInfo(r.getTypeOfBehavior(e,t,n)),b.push_back(a)})}),h.filter(e=>!m.includes(e.getName())).forEach(e=>{e&&s.getObjectGroups().insert(e,0)}),l.delete()},c=(e,t)=>{const n=new r.Instruction;return n.setType(Object(s.a)(e,t)),n.setParametersCount(t.getParameters().size()+1+1),Object(o.mapVector)(t.getParameters(),(e,t)=>{n.setParameter(1+t,e.getName())}),n},u=e=>r.Project.validateName(e),d=e=>r.Project.validateName(e),h=(e,t)=>!e.hasEventsFunctionsExtensionNamed(t),p=(e,t,n)=>{if(e.hasEventsFunctionsExtensionNamed(t)){return!e.getEventsFunctionsExtension(t).hasEventsFunctionNamed(n.getName())}return!0},m=(e,t,n)=>""!==t&&d(t)&&""!==n.getName()&&u(n.getName())&&p(e,t,n)&&""!==n.getFullName()&&""!==n.getSentence(),g=e=>e.getParameters().size()>7}).call(this,n(1))},803:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var a=n(78),o=n(72),s=n(2),i=n(75),r=n(116),l=n(117),c=n(90),u=n(84),d=n(104),h=n(92),p=n(138),m=n(276),g=n.n(m),b=n(111),f=n(110),E=n(166),v=n(20),y=n(804),C=n(1732),x=n(378),j=n(249),S=n(141),T=n.n(S),O=n(209),w=n(105);const N=e.gd,_={parametersContainer:{flex:1}};class k extends s.Component{constructor(...e){super(...e),this.state={longDescriptionShownIndexes:{}},this._addParameter=()=>{const e=this.props.eventsFunction.getParameters(),t=new N.ParameterMetadata;t.setType("objectList"),e.push_back(t),t.delete(),this.forceUpdate(),this.props.onParametersUpdated()},this._removeParameter=e=>{const t=this.props.eventsFunction.getParameters();N.removeFromVectorParameterMetadata(t,e),this.forceUpdate(),this.props.onParametersUpdated()},this._addLongDescription=e=>{this.setState(t=>({longDescriptionShownIndexes:Object(a.a)({},t.longDescriptionShownIndexes,{[e]:!0})}))},this._removeLongDescription=e=>{this.props.eventsFunction.getParameters().at(e).setLongDescription(""),this.setState(t=>({longDescriptionShownIndexes:Object(a.a)({},t.longDescriptionShownIndexes,{[e]:!1})}))}}render(){const e=this.props,t=e.project,n=e.eventsFunction,a=e.eventsBasedBehavior,m=e.freezeParameters,S=e.helpPagePath,k=n.getParameters();if(!!a&&Object(x.g)(n.getName()))return s.createElement(h.a,null,s.createElement(o.Trans,{id:'This is a "lifecycle method". It will be called automatically by the game engine and has two parameters: "Object" (the object the behavior is acting on) and "Behavior" (the behavior itself).'}));if(!a&&Object(x.h)(n.getName()))return s.createElement(i.a,null,s.createElement(O.a,{kind:"info",identifier:"lifecycle-events-function-included-only-if-extension-used"},s.createElement(o.Trans,{id:"For the lifecycle functions to be executed, you need the extension to be used in the game, either by having at least one action, condition or expression used, or a behavior of the extension added to an object. Otherwise, the extension won't be included in the game."})),s.createElement(h.a,null,s.createElement(o.Trans,{id:'This is a "lifecycle function". It will be called automatically by the game engine. It has no parameters. Only global objects can be used as the events will be run for all scenes in your game.'})));const P=e=>!!m||!!a&&e<2,I=e=>!a||e>=2,F=(e,t)=>!!I(t)&&(!!e.getLongDescription()||!!this.state.longDescriptionShownIndexes[t]),B=Object(j.c)(!!a);return s.createElement(o.I18n,null,({i18n:e})=>s.createElement(i.a,{noMargin:!0,expand:!0},s.createElement(i.b,{noMargin:!0},s.createElement("div",{style:_.parametersContainer},Object(c.mapVector)(k,(n,a)=>s.createElement(s.Fragment,{key:a},s.createElement(E.b,null,s.createElement(E.a,null,s.createElement(o.Trans,{id:"Parameter #{0}:",values:{0:a+B}})),s.createElement(i.a,{expand:!0,noMargin:!0},s.createElement(f.a,{commitOnBlur:!0,margin:"none",hintText:{id:"Enter the parameter name (mandatory)"},value:n.getName(),onChange:t=>{((e,t)=>t?!!N.Project.validateName(t)||(Object(v.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."})),!1):(Object(v.c)(e._({id:"The name of a parameter can not be empty. Enter a name for the parameter or you won't be able to use it."})),!1))(e,t)&&(n.setName(t),this.forceUpdate(),this.props.onParametersUpdated())},disabled:P(a),fullWidth:!0})),s.createElement(p.a,{element:s.createElement(d.a,null,s.createElement(g.a,null)),buildMenuTemplate:()=>[{label:e._({id:"Delete"}),enabled:!P(a),click:()=>this._removeParameter(a)},{type:"separator"},{label:e._({id:"Add a Long Description"}),enabled:!P(a),visible:!F(n,a),click:()=>this._addLongDescription(a)},{label:e._({id:"Remove the Long Description"}),enabled:!P(a),visible:F(n,a),click:()=>this._removeLongDescription(a)}]})),s.createElement(i.b,null,s.createElement(w.a,{expand:!0},s.createElement(w.b,{noMargin:!0},I(a)&&s.createElement(r.a,{floatingLabelText:s.createElement(o.Trans,{id:"Type"}),value:n.getType(),onChange:(e,t,a)=>{n.setType(a),this.forceUpdate(),this.props.onParametersUpdated()},disabled:P(a),fullWidth:!0},s.createElement(l.a,{value:"objectList",primaryText:{id:"Objects"}}),s.createElement(l.a,{value:"behavior",primaryText:{id:"Behavior (for the previous object)"}}),s.createElement(l.a,{value:"expression",primaryText:{id:"Number"}}),s.createElement(l.a,{value:"string",primaryText:{id:"String (text)"}}),s.createElement(l.a,{value:"key",primaryText:{id:"Keyboard Key (text)"}}),s.createElement(l.a,{value:"mouse",primaryText:{id:"Mouse button (text)"}}),s.createElement(l.a,{value:"color",primaryText:{id:"Color (text)"}}),s.createElement(l.a,{value:"layer",primaryText:{id:"Layer (text)"}}),s.createElement(l.a,{value:"sceneName",primaryText:{id:"Scene name (text)"}})),N.ParameterMetadata.isObject(n.getType())&&s.createElement(y.a,{project:t,value:n.getExtraInfo(),onChange:e=>{n.setExtraInfo(e),this.forceUpdate(),this.props.onParametersUpdated()},disabled:P(a)}),"behavior"===n.getType()&&s.createElement(C.a,{project:t,value:n.getExtraInfo(),onChange:e=>{n.setExtraInfo(e),this.forceUpdate(),this.props.onParametersUpdated()},disabled:P(a)})),I(a)&&s.createElement(f.a,{commitOnBlur:!0,floatingLabelText:s.createElement(o.Trans,{id:"Label"}),floatingLabelFixed:!0,value:n.getDescription(),onChange:e=>{n.setDescription(e),this.forceUpdate()},fullWidth:!0,disabled:!1}),F(n,a)&&s.createElement(f.a,{commitOnBlur:!0,floatingLabelText:s.createElement(o.Trans,{id:"Long description"}),floatingLabelFixed:!0,value:n.getLongDescription(),onChange:e=>{n.setLongDescription(e),this.forceUpdate()},multiline:!0,fullWidth:!0,disabled:!1}))))),0===k.size()?s.createElement(h.a,null,s.createElement(o.Trans,{id:"No parameters for this function."})):null,s.createElement(i.a,null,s.createElement(i.b,{justifyContent:"flex-end",expand:!0},!m&&s.createElement(u.a,{primary:!0,label:s.createElement(o.Trans,{id:"Add a parameter"}),onClick:this._addParameter,icon:s.createElement(T.a,null)}))))),S?s.createElement(i.b,null,s.createElement(b.a,{helpPagePath:S})):s.createElement(i.c,null)))}}}).call(this,n(1))},804:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(72),o=n(2),s=n(116),i=n(117),r=n(192);class l extends o.Component{constructor(...e){super(...e),this.state={objectMetadata:Object(r.b)(this.props.project)}}render(){const e=this.props,t=e.disabled,n=e.value,r=e.onChange,l=e.floatingLabelText,c=e.allowedObjectTypes,u=this.state.objectMetadata,d=e=>!!c&&-1===c.indexOf(e);return o.createElement(s.a,{floatingLabelText:l||o.createElement(a.Trans,{id:"Object type"}),value:n,onChange:(e,t,n)=>{r(n)},disabled:t,fullWidth:!0},o.createElement(i.a,{value:"",primaryText:{id:"Any object"},disabled:d("")}),u.map(e=>""===e.name?null:o.createElement(i.a,{key:e.name,value:e.name,primaryText:e.fullName,disabled:d(e.name)})))}}},805:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n(90),o=n(157),s=n.n(o);const i=(e,t)=>{const n=e.getAllPlatformExtensions();return s()(Object(a.mapFor)(0,n.size(),e=>{const t=n.at(e);return t.getBehaviorsTypes().toJSArray().map(e=>({behaviorType:e,behaviorMetadata:t.getBehaviorMetadata(e)})).map(({behaviorType:e,behaviorMetadata:n})=>({extension:t,behaviorMetadata:n,type:e,defaultName:n.getDefaultName(),fullName:n.getFullName(),description:n.getDescription(),iconFilename:n.getIconFilename(),objectType:n.getObjectType()}))}))},r=(e,t)=>{if(!t)return e;const n=t.toLowerCase();return e.filter(e=>-1!==e.fullName.toLowerCase().indexOf(n)||-1!==e.description.toLowerCase().indexOf(n))}},806:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var a=n(72),o=n(2),s=n(75),i=n(116),r=n(117),l=n(90),c=n(111),u=n(110),d=n(378),h=n(92),p=n(249),m=n(105),g=n(209);const b=e.gd,f={icon:{height:32,marginRight:8,flexSrink:0}},E=(e,t,n)=>{const a=n.getSentence();if(!a)return e._({id:"Enter the sentence that will be displayed in the events sheet"});const o=Object(p.c)(!!t),s=Object(l.mapVector)(n.getParameters(),(e,t)=>{if(b.ParameterMetadata.isBehavior(e.getType()))return null;const n="_PARAM".concat(t+o,"_");return-1===a.indexOf(n)?n:null}).filter(Boolean);return s.length?e._({id:"The sentence is probably missing this/these parameter(s):"})+s.join(", "):void 0},v=e=>e===b.EventsFunction.Condition?{id:"Example: Is flashing?"}:e===b.EventsFunction.Expression?{id:"Example: Life remaining"}:e===b.EventsFunction.StringExpression?{id:"Example: Equipped shield name"}:{id:"Example: Flash the object"},y=e=>e===b.EventsFunction.Condition?{id:"Example: Check if the object is flashing."}:e===b.EventsFunction.Expression?{id:"Example: Life remaining for the player."}:e===b.EventsFunction.StringExpression?{id:"Example: Name of the shield equipped by the player."}:{id:"Example: Make the object flash for 5 seconds."};class C extends o.Component{render(){const e=this.props,t=e.eventsFunction,n=e.freezeEventsFunctionType,l=e.onConfigurationUpdated,p=e.helpPagePath,C=e.renderConfigurationHeader,x=e.eventsBasedBehavior,j=t.getFunctionType();return!!x&&Object(d.g)(t.getName())?o.createElement(h.a,null,o.createElement(a.Trans,{id:'This is a "lifecycle method". It will be called automatically by the game engine for each instance living on the scene having the behavior.'})):!x&&Object(d.h)(t.getName())?o.createElement(s.a,null,o.createElement(g.a,{kind:"info",identifier:"lifecycle-events-function-included-only-if-extension-used"},o.createElement(a.Trans,{id:"For the lifecycle functions to be executed, you need the extension to be used in the game, either by having at least one action, condition or expression used, or a behavior of the extension added to an object. Otherwise, the extension won't be included in the game."})),o.createElement(h.a,null,o.createElement(a.Trans,{id:'This is a "lifecycle function". It will be called automatically by the game engine. It has no parameters. Only global objects can be used as the events will be run for all scenes in your game.'}))):o.createElement(a.I18n,null,({i18n:e})=>o.createElement(m.a,{expand:!0},C?C():null,o.createElement(m.b,{alignItems:"center",noMargin:!0},o.createElement(s.b,{alignItems:"center",noMargin:!0},o.createElement("img",{src:"res/function32.png",alt:"",style:f.icon}),o.createElement(i.a,{value:j,floatingLabelText:o.createElement(a.Trans,{id:"Function type"}),fullWidth:!0,disabled:!!n,onChange:(e,n,a)=>{t.setFunctionType(a),l&&l(),this.forceUpdate()}},o.createElement(r.a,{value:b.EventsFunction.Action,primaryText:{id:"Action"}}),o.createElement(r.a,{value:b.EventsFunction.Condition,primaryText:{id:"Condition"}}),o.createElement(r.a,{value:b.EventsFunction.Expression,primaryText:{id:"Expression"}}),o.createElement(r.a,{value:b.EventsFunction.StringExpression,primaryText:{id:"String Expression"}}))),o.createElement(u.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Full name displayed in editor"}),hintText:v(j),value:t.getFullName(),onChange:e=>{t.setFullName(e),l&&l(),this.forceUpdate()},fullWidth:!0})),o.createElement(s.b,{noMargin:!0},o.createElement(u.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Description, displayed in editor"}),hintText:y(j),fullWidth:!0,multiline:!0,value:t.getDescription(),onChange:e=>{t.setDescription(e),l&&l(),this.forceUpdate()}})),o.createElement(s.b,{noMargin:!0},j===b.EventsFunction.Action||j===b.EventsFunction.Condition?o.createElement(u.a,{commitOnBlur:!0,floatingLabelText:o.createElement(a.Trans,{id:"Sentence in Events Sheet"}),hintText:{id:"Note: write _PARAMx_ for parameters, e.g: Flash _PARAM1_ for 5 seconds"},fullWidth:!0,value:t.getSentence(),onChange:e=>{t.setSentence(e),l&&l(),this.forceUpdate()},errorText:E(e,x,t)}):null),p?o.createElement(s.b,{noMargin:!0},o.createElement(c.a,{helpPagePath:p})):o.createElement(s.c,null)))}}}).call(this,n(1))},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(127),o=n(2),s=n(2386),i=n(75);class r extends o.Component{render(){const e=this.props,t=e.label,n=e.primary,r=e.icon,l=e.keyboardFocused,c=Object(a.a)(e,["label","primary","icon","keyboardFocused"]);return o.createElement(s.a,Object.assign({size:"small",color:n?"primary":"default",autoFocus:l,focusRipple:!0},c),r,r&&o.createElement(i.c,null),t)}}},83:function(e,t,n){"use strict";var a=n(78),o=n(2),s=n(2384);t.a=({children:e,style:t,size:n,align:i,noShrink:r,noMargin:l})=>o.createElement(s.a,{variant:"title"===n?"h6":"body2"===n?"body2":"body1",style:Object(a.a)({},t,{flexShrink:r?0:void 0,marginTop:l?0:6,marginBottom:l?0:6}),align:i||"inherit"},e)},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(127),o=n(2),s=n(2386),i=n(75);class r extends o.Component{render(){const e=this.props,t=e.label,n=e.primary,r=e.icon,l=Object(a.a)(e,["label","primary","icon"]);return o.createElement(s.a,Object.assign({variant:"contained",size:"small",color:n?"primary":"default",focusRipple:!0},l),r,r&&o.createElement(i.c,null),t)}}},848:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),o=n.n(a),s=n(104),i=n(278),r=n.n(i),l=n(807);const c={container:{padding:0,width:32,height:32},icon:{width:16,height:16}};class u extends a.Component{render(){return o.a.createElement(l.MosaicContext.Consumer,null,({mosaicActions:e})=>o.a.createElement(l.MosaicWindowContext.Consumer,null,({mosaicWindowActions:t})=>o.a.createElement(s.a,{onClick:()=>{e.remove(t.getPath())},style:c.container},o.a.createElement(r.a,{htmlColor:"white",style:c.icon}))))}}},852:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(2),o=n(1879),s=n(195),i=n(304);const r={container:{display:"flex",flex:1}};class l extends s.a{constructor(...e){super(...e),this._onBehaviorEdited=()=>{this.props.onLoadEventsFunctionsExtensions()}}updateToolbar(){this.editor&&this.editor.updateToolbar()}forceUpdateEditor(){}shouldComponentUpdate(e){return!(!this.props.isActive&&!e.isActive)}componentDidUpdate(e){e.isActive&&!this.props.isActive&&this.props.onLoadEventsFunctionsExtensions()}getEventsFunctionsExtension(){const e=this.props,t=e.project,n=e.eventsFunctionsExtensionName;return t.hasEventsFunctionsExtensionNamed(n)?t.getEventsFunctionsExtension(n):null}selectEventsFunctionByName(e,t){this.editor&&this.editor.selectEventsFunctionByName(e,t)}render(){const e=this.props,t=e.project,n=e.eventsFunctionsExtensionName,s=this.getEventsFunctionsExtension();return s?a.createElement("div",{style:r.container},a.createElement(o.a,{key:s.ptr,project:t,eventsFunctionsExtension:s,setToolbar:this.props.setToolbar,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.props.onCreateEventsFunction,initiallyFocusedFunctionName:this.props.initiallyFocusedFunctionName,initiallyFocusedBehaviorName:this.props.initiallyFocusedBehaviorName,onBehaviorEdited:this._onBehaviorEdited,ref:e=>this.editor=e,unsavedChanges:this.props.unsavedChanges,previewButtonSettings:i.b})):a.createElement("div",null,"No extension called ",n," found!")}}},853:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(72),o=n(2),s=n.n(o),i=n(82),r=n(1882),l=n(86),c=n(440);const u=e.gd;class d extends o.Component{render(){const e=this.props,t=e.project,n=e.group;if(!n)return null;const o=[s.a.createElement(i.a,{key:"cancel",label:s.a.createElement(a.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:this.props.onCancel}),s.a.createElement(i.a,{key:"apply",label:s.a.createElement(a.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:this.props.onApply})];return s.a.createElement(l.a,{key:n.ptr,actions:o,noMargin:!0,cannotBeDismissed:!0,onRequestClose:this.props.onCancel,open:this.props.open,title:"Edit ".concat(n.getName()," group")},s.a.createElement(r.a,{project:t,group:n,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,onSizeUpdated:()=>this.forceUpdate()}))}}t.b=Object(c.a)(d,{newObjectCreator:()=>new u.ObjectGroup,propName:"group"})}).call(this,n(1))},854:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(589);t.a=e=>o.a.createElement(s.a,Object.assign({},e,{viewBox:"0 -3 24 24"}),o.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("g",{id:"Create",fillRule:"nonzero"},o.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"24 8 18 2 18 6 14 6 14 10 18 10 18 14"}),o.a.createElement("g",{id:"Group-2",fill:"#27AAE1"},o.a.createElement("rect",{id:"Rectangle-path",transform:"translate(2.999518, 3.574897) rotate(-45.000000) translate(-2.999518, -3.574897) ",x:"1.58553176",y:"0.746924118",width:"2.82797288",height:"5.65594576"}),o.a.createElement("rect",{id:"Rectangle-path",transform:"translate(10.999518, 11.574897) rotate(-45.000000) translate(-10.999518, -11.574897) ",x:"9.58553176",y:"8.74692412",width:"2.82797288",height:"5.65594576"}),o.a.createElement("rect",{id:"Rectangle-path",transform:"translate(2.999518, 11.574897) rotate(-135.000000) translate(-2.999518, -11.574897) ",x:"1.58553176",y:"8.74692412",width:"2.82797288",height:"5.65594576"}),o.a.createElement("rect",{id:"Rectangle-path",transform:"translate(10.999518, 3.574897) rotate(-135.000000) translate(-10.999518, -3.574897) ",x:"9.58553176",y:"0.746924118",width:"2.82797288",height:"5.65594576"})))))},855:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(589);t.a=e=>o.a.createElement(s.a,Object.assign({},e,{viewBox:"0 -6 24 24"}),o.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("g",{id:"Step",fillRule:"nonzero"},o.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"7.5 4.5 3 0 3 3 0 3 0 6 3 6 3 9"}),o.a.createElement("circle",{id:"Oval",fill:"#27AAE1",cx:"12",cy:"4.5",r:"3"}),o.a.createElement("circle",{id:"Oval",fill:"#FFFFFF",cx:"12",cy:"4.5",r:"1.5"}),o.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"24 4.5 19.5 0 19.5 3 16.5 3 16.5 6 19.5 6 19.5 9"}))))},856:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(589);t.a=e=>o.a.createElement(s.a,Object.assign({},e,{viewBox:"0 -3 24 24"}),o.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("g",{id:"Destroy",transform:"translate(0.000000, -1.000000)",fillRule:"nonzero"},o.a.createElement("g",{id:"Group",transform:"translate(0.000000, 1.000000)"},o.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"9.92307692 7.07692308 4.38461538 1.53846154 4.38461538 5.23076923 0.692307692 5.23076923 0.692307692 8.92307692 4.38461538 8.92307692 4.38461538 12.6153846"}),o.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(10.845138, 3.385446) rotate(-45.000000) translate(-10.845138, -3.385446) ",x:"9.53992021",y:"0.77500965",width:"2.6104365",height:"5.22087301"}),o.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(18.229754, 10.770062) rotate(-45.000000) translate(-18.229754, -10.770062) ",x:"16.9245356",y:"8.15962503",width:"2.6104365",height:"5.22087301"}),o.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(10.846985, 10.770246) rotate(-135.000000) translate(-10.846985, -10.770246) ",x:"9.54176636",y:"8.15980965",width:"2.6104365",height:"5.22087301"}),o.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(18.231600, 3.385631) rotate(-135.000000) translate(-18.231600, -3.385631) ",x:"16.9263817",y:"0.775194265",width:"2.6104365",height:"5.22087301"})),o.a.createElement("g",{id:"Group",opacity:"0.1",transform:"translate(2.538462, 0.692308)"},o.a.createElement("rect",{id:"Rectangle-path",fill:"#000000",transform:"translate(7.616400, 11.768538) rotate(135.000000) translate(-7.616400, -11.768538) ",x:"5.98441565",y:"10.4633202",width:"3.2639687",height:"2.6104365"}),o.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"7.38461538 7.38461538 1.83645766 1.87268753 1.83645766 3.7132995 6.46153846 8.30769231"}),o.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(8.308523, 3.693323) rotate(-135.000000) translate(-8.308523, -3.693323) ",x:"5.69808657",y:"2.38810482",width:"5.22087301",height:"2.6104365"}),o.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(15.693138, 11.077938) rotate(-135.000000) translate(-15.693138, -11.077938) ",x:"13.082702",y:"9.77272021",width:"5.22087301",height:"2.6104365"}),o.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(9.460009, 9.922714) rotate(45.000000) translate(-9.460009, -9.922714) ",x:"8.15479058",y:"8.94333902",width:"2.6104365",height:"1.95875045"}),o.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(15.693138, 3.693323) rotate(-135.000000) translate(-15.693138, -3.693323) ",x:"14.3879202",y:"1.08288657",width:"2.6104365",height:"5.22087301"})))))},857:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(589);t.a=e=>o.a.createElement(s.a,e,o.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("g",{id:"Function",fillRule:"nonzero"},o.a.createElement("path",{d:"M24,14.5714286 L24,9.42857143 L21.948,9.42857143 C21.7045714,8.48742857 21.336,7.59942857 20.8525714,6.78342857 L22.3028571,5.33314286 L18.6668571,1.69542857 L17.2165714,3.14571429 C16.4005714,2.664 15.5125714,2.29371429 14.5714286,2.05028571 L14.5714286,0 L9.42857143,0 L9.42857143,2.052 C8.48742857,2.29542857 7.59942857,2.664 6.78342857,3.14742857 L5.33314286,1.69714286 L1.69714286,5.33314286 L3.14742857,6.78342857 C2.66571429,7.59942857 2.29542857,8.48742857 2.052,9.42857143 L0,9.42857143 L0,14.5714286 L2.052,14.5714286 C2.29542857,15.5125714 2.664,16.4005714 3.14742857,17.2165714 L1.69714286,18.6668571 L5.33314286,22.3045714 L6.78342857,20.8542857 C7.59942857,21.336 8.48742857,21.7062857 9.42857143,21.9497143 L9.42857143,24 L14.5714286,24 L14.5714286,21.948 C15.5125714,21.7045714 16.4005714,21.336 17.2165714,20.8525714 L18.6668571,22.3028571 L22.3028571,18.6651429 L20.8525714,17.2148571 C21.3342857,16.3988571 21.7045714,15.5108571 21.948,14.5697143 L24,14.5697143 L24,14.5714286 Z",id:"Shape",fill:"#27AAE1"}),o.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"17.1428571 7.71428571 10.2857143 11.1428571 10.2857143 12 12 12.8571429 15.4285714 11.1428571 15.4285714 13.7142857 12 15.456 8.57142857 13.7142857 8.57142857 10.2857143 12 8.57142857 15.4285714 6.85714286 12 5.14285714 5.14285714 8.57142857 5.14285714 15.4285714 12 18.8571429 17.5714286 16.0714286 18.8571429 15.4285714 18.8571429 15 18.8571429 8.57142857"}),o.a.createElement("g",{id:"Group",opacity:"0.1"},o.a.createElement("path",{d:"M3.14571429,6.78342857 C2.664,7.59942857 2.29371429,8.48742857 2.05028571,9.42857143 L0,9.42857143 L0,14.5714286 L2.052,14.5714286 C2.29542857,15.5125714 2.664,16.4005714 3.14742857,17.2165714 L1.69714286,18.6668571 L5.33314286,22.3045714 L6.78342857,20.8542857 C7.59942857,21.336 8.48742857,21.7062857 9.42857143,21.9497143 L9.42857143,24 L14.5714286,24 L14.5714286,21.948 C15.5125714,21.7045714 16.4005714,21.336 17.2165714,20.8525714 L18.6668571,22.3028571 L20.4857143,20.484 L3.51428571,3.51428571 L1.69714286,5.33314286 L3.14571429,6.78342857 Z",id:"Shape",fill:"#000000"}),o.a.createElement("path",{d:"M22.3028571,18.6668571 L20.8525714,17.2165714 C21.3342857,16.4005714 21.7045714,15.5125714 21.948,14.5714286 L24,14.5714286 L24,9.42857143 L21.948,9.42857143 C21.7045714,8.48742857 21.336,7.59942857 20.8525714,6.78342857 L22.3028571,5.33314286 L18.6668571,1.69542857 L17.2165714,3.14571429 C16.4005714,2.664 15.5125714,2.29371429 14.5714286,2.05028571 L14.5714286,0 L9.42857143,0 L9.42857143,2.052 C8.48742857,2.29542857 7.59942857,2.664 6.78342857,3.14742857 L5.33314286,1.69714286 L3.51428571,3.51428571 L20.484,20.484 L22.3028571,18.6668571 Z",id:"Shape",fill:"#FFFFFF"})))))},858:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(589);t.a=e=>o.a.createElement(s.a,Object.assign({},e,{viewBox:"0 -6 24 24"}),o.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("g",{id:"Activate",fillRule:"nonzero"},o.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",x:"0",y:"0",width:"24",height:"10.2857143"}),o.a.createElement("rect",{id:"Rectangle-path",fill:"#2B3990",x:"1.71428571",y:"1.71428571",width:"10.2857143",height:"6.85714286"}),o.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"20.5710245 1.71428571 18.8571429 3.42897546 17.1432612 5.14285714 15.4285714 6.85673883 17.1432612 8.57142857 18.8571429 6.85673883 20.5710245 5.14285714 22.2857143 3.42897546"}),o.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"18.8567388 3.42857143 17.1428571 5.14326117 15.4289755 3.42857143 13.7142857 5.14326117 15.4289755 6.85714286 18.8567388 6.85714286 20.5714286 5.14326117"}))))},859:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(589);t.a=e=>o.a.createElement(s.a,Object.assign({},e,{viewBox:"0 -6 24 24"}),o.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("g",{id:"Deactivate",fillRule:"nonzero"},o.a.createElement("rect",{id:"Rectangle-path",fill:"#2B3990",x:"0",y:"0",width:"24",height:"10.2857143"}),o.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"6.85673883 1.71428571 5.14285714 3.42897546 3.42897546 1.71428571 1.71428571 3.42897546 3.42897546 5.14285714 1.71428571 6.85673883 3.42897546 8.57142857 5.14285714 6.85673883 6.85673883 8.57142857 8.57142857 6.85673883 6.85673883 5.14285714 8.57142857 3.42897546"}),o.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",x:"12",y:"1.71428571",width:"10.2857143",height:"6.85714286"}))))},86:function(e,t,n){"use strict";var a=n(78),o=n(2),s=n(2389),i=n(2393),r=n(2392),l=n(2391),c=n(156);const u={defaultBody:{overflowX:"hidden"},noMarginBody:{padding:0,overflowX:"hidden"},flexRowBody:{display:"flex",flexDirection:"row"},flexBody:{display:"flex"},actionsContainerWithSecondaryActions:{display:"flex",justifyContent:"space-between"},noTitleMargin:{padding:0}};t.a=e=>{const t=e.secondaryActions,n=e.actions,d=e.open,h=e.onRequestClose,p=e.maxWidth,m=e.noMargin,g=e.title,b=e.children,f=e.flexRowBody,E=e.flexBody,v=e.noTitleMargin,y=t?o.createElement(o.Fragment,null,o.createElement("div",{key:"secondary-actions"},t),o.createElement("div",{key:"actions"},n)):n,C=Object(a.a)({},m?u.noMarginBody:u.defaultBody,{},f?u.flexRowBody:{},{},E?u.flexBody:{});return o.createElement(c.a,null,e=>o.createElement(s.a,{open:d,onClose:h,fullWidth:!0,fullScreen:"small"===e,maxWidth:void 0!==p?p:"md",disableBackdropClick:!1,disableEscapeKeyDown:!1},g&&o.createElement(l.a,{style:v?u.noTitleMargin:void 0},g),o.createElement(r.a,{style:C},b),o.createElement(i.a,{style:t?u.actionsContainerWithSecondaryActions:void 0},y)))}},860:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(78),o=n(72),s=n(2),i=n.n(s),r=n(481),l=n(84),c=n(114),u=n(219),d=n(195),h=n(861),p=n(83),m=n(75);const g={container:{display:"flex",flex:1}};class b extends d.a{constructor(...e){super(...e),this.state={layoutChooserOpen:!1},this.setAssociatedLayout=e=>{const t=this.getExternalEvents();t&&(t.setAssociatedLayout(e),this.setState({layoutChooserOpen:!1},()=>this.updateToolbar()))},this.openLayoutChooser=()=>{this.setState({layoutChooserOpen:!0})}}updateToolbar(){this.editor&&this.editor.updateToolbar()}forceUpdateEditor(){}getSerializedElements(){const e=this.getExternalEvents(),t=this.getLayout();return e?Object(a.a)({},d.a.getLayoutSerializedElements(t),{events:Object(c.b)(e)}):{}}getExternalEvents(){const e=this.props,t=e.project,n=e.externalEventsName;return t.hasExternalEventsNamed(n)?t.getExternalEvents(n):null}getLayout(){const e=this.props.project,t=this.getExternalEvents();if(!t)return null;const n=t.getAssociatedLayout();return e.hasLayoutNamed(n)?e.getLayout(n):null}render(){const e=this.props,t=e.project,n=e.externalEventsName,a=this.getExternalEvents(),s=this.getLayout();return a?i.a.createElement("div",{style:g.container},s&&i.a.createElement(r.a,Object.assign({},this.props,{ref:e=>this.editor=e,project:t,scope:{layout:s},globalObjectsContainer:t,objectsContainer:s,events:a.getEvents(),onPreview:()=>this.props.onPreview(t,s),onOpenSettings:this.openLayoutChooser,onOpenExternalEvents:this.props.onOpenExternalEvents,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,unsavedChanges:this.props.unsavedChanges})),!s&&i.a.createElement(u.a,null,i.a.createElement(p.a,null,i.a.createElement(o.Trans,{id:"To edit the external events, choose the scene in which it will be included:"})),i.a.createElement(m.b,{justifyContent:"center"},i.a.createElement(l.a,{label:i.a.createElement(o.Trans,{id:"Choose the scene"}),primary:!0,onClick:this.openLayoutChooser}))),i.a.createElement(h.a,{title:i.a.createElement(o.Trans,{id:"Choose the associated scene"}),helpText:"You still need to add a Link event in the scene to import the external events",open:this.state.layoutChooserOpen,project:t,onChoose:this.setAssociatedLayout,onClose:()=>this.setState({layoutChooserOpen:!1})})):i.a.createElement("div",null,"No external events called ",n," found!")}}},861:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(72),o=n(2),s=n.n(o),i=n(82),r=n(2387),l=n(2469),c=n(2479),u=n(86),d=n(90),h=n(83);class p extends o.Component{constructor(e){super(e),this.state={selectedLayoutName:e.layoutName}}componentWillReceiveProps(e){e.layoutName!==this.props.layoutName&&this.setState({selectedLayoutName:e.layoutName})}chooseLayout(e){this.setState({selectedLayoutName:e})}render(){const e=[s.a.createElement(i.a,{key:"cancel",label:s.a.createElement(a.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onClose}),s.a.createElement(i.a,{key:"choose",label:s.a.createElement(a.Trans,{id:"Choose"}),primary:!0,keyboardFocused:!0,onClick:()=>this.props.onChoose(this.state.selectedLayoutName),disabled:!this.state.selectedLayoutName})],t=this.props.project,n=this.state.selectedLayoutName,o=Object(d.mapFor)(0,t.getLayoutsCount(),e=>t.getLayoutAt(e).getName());return s.a.createElement(u.a,{actions:e,open:this.props.open,title:this.props.title,onRequestClose:this.props.onClose,cannotBeDismissed:!1,fullWidth:!0,maxWidth:"sm"},this.props.helpText&&s.a.createElement(h.a,null,this.props.helpText),s.a.createElement(c.a,{"aria-label":"Associated scene",name:"associated-layout",value:n,onChange:e=>this.chooseLayout(e.target.value)},o.map(e=>s.a.createElement(r.a,{key:e,value:e,control:s.a.createElement(l.a,{color:"primary"}),label:e}))))}}},863:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(78),o=n(72),s=n(2),i=n(84),r=n(864),l=n(114),c=n(219),u=n(195),d=n(861),h=n(75),p=n(83);const m={container:{display:"flex",flex:1}};class g extends u.a{constructor(...e){super(...e),this.state={layoutChooserOpen:!1},this.setAssociatedLayout=e=>{const t=this.getExternalLayout();t&&(t.setAssociatedLayout(e),this.setState({layoutChooserOpen:!1},()=>this.updateToolbar()))},this.openLayoutChooser=()=>{this.setState({layoutChooserOpen:!0})},this.saveUiSettings=()=>{const e=this.getExternalLayout(),t=this.editor;t&&e&&Object(l.c)(e.getAssociatedSettings(),t.getUiSettings())}}shouldComponentUpdate(e){return!(!this.props.isActive&&!e.isActive)}updateToolbar(){this.editor&&this.editor.updateToolbar()}forceUpdateEditor(){}getSerializedElements(){const e=this.getExternalLayout(),t=this.getLayout();return e&&t?Object(a.a)({},u.a.getLayoutSerializedElements(t),{instances:Object(l.b)(e.getInitialInstances()),uiSettings:this.editor?this.editor.getUiSettings():{}}):{}}getExternalLayout(){const e=this.props,t=e.project,n=e.externalLayoutName;return t.hasExternalLayoutNamed(n)?t.getExternalLayout(n):null}getLayout(){const e=this.props.project,t=this.getExternalLayout();if(!t)return null;const n=t.getAssociatedLayout();return e.hasLayoutNamed(n)?e.getLayout(n):null}render(){const e=this.props,t=e.project,n=e.externalLayoutName,a=e.isActive,u=this.getExternalLayout(),g=this.getLayout();return u?s.createElement("div",{style:m.container},g&&s.createElement(r.a,Object.assign({},this.props,{ref:e=>this.editor=e,project:t,layout:g,initialInstances:u.getInitialInstances(),initialUiSettings:Object(l.b)(u.getAssociatedSettings()),onPreview:e=>this.props.onPreview(t,g,u,e),previewButtonSettings:this.props.previewButtonSettings,onOpenDebugger:this.props.onOpenDebugger,onOpenMoreSettings:this.openLayoutChooser,isActive:a})),!g&&s.createElement(c.a,null,s.createElement(p.a,null,s.createElement(o.Trans,{id:"To edit the external layout, choose the scene in which it will be included:"})),s.createElement(h.b,{justifyContent:"center"},s.createElement(i.a,{label:s.createElement(o.Trans,{id:"Choose the scene"}),primary:!0,onClick:this.openLayoutChooser}))),s.createElement(d.a,{title:s.createElement(o.Trans,{id:"Choose the associated scene"}),open:this.state.layoutChooserOpen,project:t,onChoose:this.setAssociatedLayout,onClose:()=>this.setState({layoutChooserOpen:!1})})):s.createElement("div",null,"No external layout called ",n," found!")}}},864:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return H}));var a=n(78),o=n(72),s=n(2),i=n(1895),r=n.n(i),l=n(912),c=n(918),u=n(180),d=(n(905),n(1903)),h=n(1904),p=n(2293),m=n(1906),g=n(207),b=n(1907),f=n(853),E=n(394),v=n(1939),y=n(623),C=n(1940),x=n(114),j=n(208),S=n(5),T=n(1941),O=n(380),w=n(511),N=n(315),_=n(20),k=n(793),P=n(376),I=n(799),F=n(785),B=n(192),M=n(1943),R=n(848),D=n(245),L=n(156),A=n(687),U=n(120);const V=e.gd,W={container:{display:"flex",flex:1,position:"relative",overflow:"hidden"}},G={direction:"row",first:"properties",splitPercentage:23,second:{direction:"row",first:"instances-editor",second:"objects-list",splitPercentage:77}},z={direction:"row",first:"instances-editor",second:"objects-list",splitPercentage:70};class H extends s.Component{constructor(e){super(e),this.openObjectsList=()=>{this.editorMosaic&&(this.editorMosaic.openEditor("objects-list","end",75,"column")||this.setState({showObjectsListInfoBar:!0}))},this.openProperties=()=>{this.editorMosaic&&(this.editorMosaic.openEditor("properties","start",25,"column")||this.setState({showPropertiesInfoBar:!0}))},this.openObjectGroupsList=()=>{this.editorMosaic&&this.editorMosaic.openEditor("object-groups-list","end",75,"column")},this.toggleInstancesList=()=>{this.editorMosaic&&(this.editorMosaic.openEditor("instances-list","end",75,"row")||this.setState({showInstancesInfoBar:!0}))},this.toggleLayersList=()=>{this.editorMosaic&&(this.editorMosaic.openEditor("layers-list","end",75,"row")||this.setState({showLayersInfoBar:!0}))},this.toggleWindowMask=()=>{this.setState({uiSettings:Object(a.a)({},this.state.uiSettings,{windowMask:!this.state.uiSettings.windowMask})})},this.toggleGrid=()=>{this.setState({uiSettings:Object(a.a)({},this.state.uiSettings,{grid:!this.state.uiSettings.grid,snap:!this.state.uiSettings.grid})})},this.openSetupGrid=(e=!0)=>{this.setState({setupGridOpen:e})},this.openSceneProperties=(e=!0)=>{this.setState({scenePropertiesDialogOpen:e})},this.openObjectEditor=()=>{if(!this.instancesSelection.hasSelectedInstances())return;const e=this.instancesSelection.getSelectedInstances()[0].getObjectName();this.editObjectByName(e)},this.editInstanceVariables=e=>{this.setState({variablesEditedInstance:e})},this.editObjectVariables=e=>{this.setState({variablesEditedObject:e})},this.editLayoutVariables=(e=!0)=>{this.setState({layoutVariablesDialogOpen:e})},this.editObject=e=>{const t=this.props.project;e?this.setState({editedObjectWithContext:{object:e,global:t.hasObjectNamed(e.getName())}}):this.setState({editedObjectWithContext:null})},this.editObjectByName=e=>{const t=this.props,n=t.project,a=t.layout;a.hasObjectNamed(e)?this.editObject(a.getObject(e)):n.hasObjectNamed(e)&&this.editObject(n.getObject(e))},this.editGroup=e=>{this.setState({editedGroup:e})},this.setUiSettings=e=>{this.setState({uiSettings:Object(a.a)({},this.state.uiSettings,{},e)})},this.undo=()=>{this.instancesSelection.clearSelection(),this.setState({history:Object(I.f)(this.state.history,this.props.initialInstances)},()=>{this.editor&&this.editor.forceRemount(),this.updateToolbar()})},this.redo=()=>{this.instancesSelection.clearSelection(),this.setState({history:Object(I.d)(this.state.history,this.props.initialInstances)},()=>{this.editor&&this.editor.forceRemount(),this.updateToolbar()})},this._onObjectSelected=e=>{e?this.setState({selectedObjectNames:[e]}):this.setState({selectedObjectNames:[]})},this._createNewObjectAndInstanceUnderCursor=()=>{this.editor&&(this.setState({newObjectInstanceSceneCoordinates:this.editor.getLastCursorSceneCoordinates()}),this._objectsList&&this._objectsList.setState({newObjectDialogOpen:!0}))},this._onAddInstanceUnderCursor=()=>{if(!this.state.selectedObjectNames.length||!this.editor)return;const e=this.state.selectedObjectNames[0],t=this.editor.getLastCursorSceneCoordinates();this._addInstance(t,e),this.setState({selectedObjectNames:[e]})},this._addInstance=(e,t)=>{t&&this.editor&&(this.editor.addInstances(e,[t]),this.setState({selectedObjectNames:[],history:Object(I.e)(this.state.history,this.props.initialInstances)},()=>this.updateToolbar()))},this._onInstancesAdded=()=>{this.setState({history:Object(I.e)(this.state.history,this.props.initialInstances)},()=>this.updateToolbar())},this._onInstancesSelected=e=>{this.setState({selectedObjectNames:r()(e.map(e=>e.getObjectName()))}),this.forceUpdatePropertiesEditor(),this.updateToolbar()},this._onInstanceDoubleClicked=e=>{this.editObjectByName(e.getObjectName())},this._onInstancesMoved=e=>{this.setState({history:Object(I.e)(this.state.history,this.props.initialInstances)},()=>this.forceUpdatePropertiesEditor())},this._onInstancesResized=e=>{this.setState({history:Object(I.e)(this.state.history,this.props.initialInstances)},()=>this.forceUpdatePropertiesEditor())},this._onInstancesRotated=e=>{this.setState({history:Object(I.e)(this.state.history,this.props.initialInstances)},()=>this.forceUpdatePropertiesEditor())},this._onInstancesModified=e=>{this.forceUpdate()},this._onSelectInstances=(e,t=!0)=>{this.instancesSelection.selectInstances(e,!1),t&&this.editor&&this.editor.centerViewOn(e),this.forceUpdatePropertiesEditor(),this.updateToolbar()},this._addInstanceForNewObject=e=>{const t=this.state.newObjectInstanceSceneCoordinates;t&&(this._addInstance(t,e),this.setState({newObjectInstanceSceneCoordinates:null}))},this._onRemoveLayer=(e,t)=>{this.setState({layerRemoveDialogOpen:!0,layerRemoved:e,onCloseLayerRemoveDialog:(n,a)=>{this.setState({layerRemoveDialogOpen:!1},()=>{n&&(null===a?this.props.initialInstances.removeAllInstancesOnLayer(e):this.props.initialInstances.moveInstancesToLayer(e,a)),t(n),this.editor&&this.editor.forceRemount(),this.updateToolbar()})}})},this._onRenameLayer=(e,t,n)=>{this.props.initialInstances.moveInstancesToLayer(e,t),n(!0)},this._onDeleteObject=(e,t)=>{const n=e.object,a=e.global,o=this.props,s=o.project,i=o.layout,r=S.b.showConfirmDialog("Do you want to remove all references to this object in groups and events (actions and conditions using the object)?");a?V.WholeProjectRefactorer.globalObjectOrGroupRemoved(s,n.getName(),!1,!!r):V.WholeProjectRefactorer.objectOrGroupRemovedInLayout(s,i,n.getName(),!1,!!r),t(!0)},this._canObjectOrGroupUseNewName=e=>{const t=this.props,n=t.project,a=t.layout;return a.hasObjectNamed(e)||n.hasObjectNamed(e)||a.getObjectGroups().has(e)||n.getObjectGroups().has(e)?(Object(_.c)("Another object or group with this name already exists."),!1):!!V.Project.validateName(e)||(Object(_.c)("This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."),!1)},this._onRenameEditedObject=e=>{const t=this.state.editedObjectWithContext;t&&this._onRenameObject(t,e,()=>{})},this._onRenameObject=(e,t,n)=>{const a=e.object,o=e.global,s=this.props,i=s.project,r=s.layout;a.getName()!==t&&(o?V.WholeProjectRefactorer.globalObjectOrGroupRenamed(i,a.getName(),t,!1):V.WholeProjectRefactorer.objectOrGroupRenamedInLayout(i,r,a.getName(),t,!1)),a.setName(t),n(!0)},this._onDeleteGroup=(e,t)=>{const n=e.group,a=e.global,o=this.props,s=o.project,i=o.layout,r=S.b.showConfirmDialog("Do you want to remove all references to this group in events (actions and conditions using the group)?");a?V.WholeProjectRefactorer.globalObjectOrGroupRemoved(s,n.getName(),!0,!!r):V.WholeProjectRefactorer.objectOrGroupRemovedInLayout(s,i,n.getName(),!0,!!r),t(!0)},this._onRenameGroup=(e,t,n)=>{const a=e.group,o=e.global,s=this.props,i=s.project,r=s.layout;a.getName()!==t&&(o?V.WholeProjectRefactorer.globalObjectOrGroupRenamed(i,a.getName(),t,!0):V.WholeProjectRefactorer.objectOrGroupRenamedInLayout(i,r,a.getName(),t,!0)),n(!0)},this.deleteSelection=()=>{this.instancesSelection.getSelectedInstances().map(e=>this.props.initialInstances.removeInstance(e)),this.instancesSelection.clearSelection(),this.editor&&this.editor.clearHighlightedInstance(),this.setState({selectedObjectNames:[],history:Object(I.e)(this.state.history,this.props.initialInstances)},()=>{this.updateToolbar(),this.forceUpdatePropertiesEditor()})},this.centerView=()=>{this.editor&&this.editor.centerView()},this.setZoomFactor=e=>{this.editor&&this.editor.setZoomFactor(e)},this.zoomIn=()=>{this.editor&&this.editor.zoomBy(.1)},this.zoomOut=()=>{this.editor&&this.editor.zoomBy(-.1)},this._onContextMenu=(e,t)=>{this.contextMenu&&this.contextMenu.open(e,t)},this.copySelection=({useLastCursorPosition:e}={})=>{const t=this.instancesSelection.getSelectedInstances().map(e=>Object(x.b)(e));if(this.editor){const n=e?this.editor.getLastCursorSceneCoordinates():this.editor.getLastContextMenuSceneCoordinates();j.a.set("Instances",{x:n[0],y:n[1],instances:t})}},this.cutSelection=(e={})=>{this.copySelection(e),this.deleteSelection()},this.paste=({useLastCursorPosition:e}={})=>{const t=j.a.get("Instances");if(!t||!this.editor)return;const n=e?this.editor.getLastCursorSceneCoordinates():this.editor.getLastContextMenuSceneCoordinates(),a=t.x,o=t.y;t.instances.map(e=>{const t=new V.InitialInstance;return Object(x.c)(t,e),t}).forEach(e=>{e.setX(e.getX()-a+n[0]),e.setY(e.getY()-o+n[1]),this.props.initialInstances.insertInitialInstance(e),e.delete()})},this.updateBehaviorsSharedData=()=>{const e=this.props,t=e.layout,n=e.project;t.updateBehaviorsSharedData(n)},this.forceUpdateObjectsList=()=>{this._objectsList&&this._objectsList.forceUpdateList()},this.forceUpdatePropertiesEditor=()=>{this._propertiesEditor&&this._propertiesEditor.forceUpdate()},this.reloadResourcesFor=e=>{const t=this.props.project,n=new V.ResourcesInUseHelper;e.exposeResources(n);const a=n.getAllImages().toNewVectorString().toJSArray();F.a.loadTextures(t,a,()=>{},()=>{this.editor&&this.editor.resetRenderersFor(e.getName())})},this._getAllObjectTags=()=>{const e=this.props,t=e.project,n=e.layout,a=new Set;return Object(B.c)(t,n).allObjectsList.forEach(({object:e})=>{Object(D.c)(e.getTags()).forEach(e=>a.add(e))}),Array.from(a)},this._buildObjectTagsMenuTemplate=e=>{const t=this.state.selectedObjectTags;return Object(D.a)({noTagLabel:e._({id:"No tags - add a tag to an object first"}),getAllTags:this._getAllObjectTags,selectedTags:t,onChange:e=>{this.setState({selectedObjectTags:e})}})},this.instancesSelection=new E.a,this.state={setupGridOpen:!1,scenePropertiesDialogOpen:!1,layersListOpen:!1,layerRemoveDialogOpen:!1,onCloseLayerRemoveDialog:null,layerRemoved:null,editedObjectWithContext:null,variablesEditedInstance:null,variablesEditedObject:null,selectedObjectNames:[],newObjectInstanceSceneCoordinates:null,editedGroup:null,uiSettings:e.initialUiSettings,history:Object(I.c)(e.initialInstances,{historyMaxSize:50}),showObjectsListInfoBar:!1,layoutVariablesDialogOpen:!1,showPropertiesInfoBar:!1,showLayersInfoBar:!1,showInstancesInfoBar:!1,selectedObjectTags:[]}}componentWillMount(){this.zOrderFinder=new V.HighestZOrderFinder}componentDidUpdate(e,t){this.state.history!==t.history&&this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges()}getUiSettings(){return this.state.uiSettings}updateToolbar(){this.props.setToolbar(s.createElement(C.a,{previewButtonSettings:this.props.previewButtonSettings,showPreviewButton:this.props.showPreviewButton,onPreview:()=>this.props.onPreview({}),showNetworkPreviewButton:this.props.showNetworkPreviewButton,onNetworkPreview:()=>this.props.onPreview({networkPreview:!0}),onOpenDebugger:()=>{this.props.onOpenDebugger(),this.props.onPreview({})},instancesSelection:this.instancesSelection,openObjectsList:this.openObjectsList,openObjectGroupsList:this.openObjectGroupsList,openProperties:this.openProperties,deleteSelection:this.deleteSelection,toggleInstancesList:this.toggleInstancesList,toggleLayersList:this.toggleLayersList,toggleWindowMask:this.toggleWindowMask,toggleGrid:this.toggleGrid,isGridShown:()=>!!this.state.uiSettings.grid,isWindowMaskShown:()=>!!this.state.uiSettings.windowMask,openSetupGrid:this.openSetupGrid,setZoomFactor:this.setZoomFactor,centerView:this.centerView,canUndo:Object(I.b)(this.state.history),canRedo:Object(I.a)(this.state.history),undo:this.undo,redo:this.redo,zoomIn:this.zoomIn,zoomOut:this.zoomOut,onOpenSettings:this.openSceneProperties}))}componentWillReceiveProps(e){this.props.layout===e.layout&&this.props.initialInstances===e.initialInstances&&this.props.project===e.project||(this.instancesSelection.clearSelection(),this.openSetupGrid(!1),this.editInstanceVariables(null),this.openSceneProperties(!1))}render(){const e=this.props,t=e.project,n=e.layout,a=e.initialInstances,i=e.resourceSources,r=e.onChooseResource,E=e.resourceExternalEditors,C=e.isActive,x=this.instancesSelection.getSelectedInstances(),S={properties:{type:"secondary",title:{id:"Properties"},renderEditor:()=>s.createElement(d.a,{project:t,layout:n,instances:x,editInstanceVariables:this.editInstanceVariables,editObjectVariables:this.editObjectVariables,onEditObjectByName:this.editObjectByName,ref:e=>this._propertiesEditor=e,unsavedChanges:this.props.unsavedChanges})},"layers-list":{type:"secondary",title:{id:"Layers"},renderEditor:()=>s.createElement(p.a,{project:t,resourceSources:i,resourceExternalEditors:E,onChooseResource:r,onRemoveLayer:this._onRemoveLayer,onRenameLayer:this._onRenameLayer,layersContainer:n,unsavedChanges:this.props.unsavedChanges})},"instances-list":{type:"secondary",title:{id:"Instances list"},renderEditor:()=>s.createElement(h.a,{instances:a,selectedInstances:x,onSelectInstances:this._onSelectInstances})},"instances-editor":{type:"primary",noTitleBar:!0,renderEditor:()=>s.createElement(T.a,{project:t,layout:n,initialInstances:a,options:this.state.uiSettings,onChangeOptions:this.setUiSettings,instancesSelection:this.instancesSelection,onDeleteSelection:this.deleteSelection,onInstancesAdded:this._onInstancesAdded,onInstancesSelected:this._onInstancesSelected,onInstanceDoubleClicked:this._onInstanceDoubleClicked,onInstancesMoved:this._onInstancesMoved,onInstancesResized:this._onInstancesResized,onInstancesRotated:this._onInstancesRotated,selectedObjectNames:this.state.selectedObjectNames,onContextMenu:this._onContextMenu,onCopy:()=>this.copySelection({useLastCursorPosition:!0}),onCut:()=>this.cutSelection({useLastCursorPosition:!0}),onPaste:()=>this.paste({useLastCursorPosition:!0}),onUndo:this.undo,onRedo:this.redo,onZoomOut:this.zoomOut,onZoomIn:this.zoomIn,wrappedEditorRef:e=>{this.editor=e},pauseRendering:!C})},"objects-list":{type:"secondary",title:{id:"Objects"},toolbarControls:[s.createElement(o.I18n,{key:"tags"},({i18n:e})=>s.createElement(M.a,{buildMenuTemplate:()=>this._buildObjectTagsMenuTemplate(e)})),s.createElement(R.a,{key:"close"})],renderEditor:()=>s.createElement(l.a,{getThumbnail:u.a.getThumbnail.bind(u.a),project:t,objectsContainer:n,selectedObjectNames:this.state.selectedObjectNames,onEditObject:this.props.onEditObject||this.editObject,onDeleteObject:this._onDeleteObject,canRenameObject:this._canObjectOrGroupUseNewName,onObjectCreated:this._addInstanceForNewObject,onObjectSelected:this._onObjectSelected,onRenameObject:this._onRenameObject,onObjectPasted:()=>this.updateBehaviorsSharedData(),selectedObjectTags:this.state.selectedObjectTags,onChangeSelectedObjectTags:e=>this.setState({selectedObjectTags:e}),getAllObjectTags:this._getAllObjectTags,ref:e=>this._objectsList=e,unsavedChanges:this.props.unsavedChanges})},"object-groups-list":{type:"secondary",title:{id:"Object Groups"},renderEditor:()=>s.createElement(c.a,{globalObjectGroups:t.getObjectGroups(),objectGroups:n.getObjectGroups(),onEditGroup:this.editGroup,onDeleteGroup:this._onDeleteGroup,onRenameGroup:this._onRenameGroup,canRenameGroup:this._canObjectOrGroupUseNewName,unsavedChanges:this.props.unsavedChanges})}};return s.createElement("div",{style:W.container},s.createElement(L.a,null,e=>s.createElement(U.b.Consumer,null,({getDefaultEditorMosaicNode:t,setDefaultEditorMosaicNode:n})=>s.createElement(O.a,{editors:S,limitToOneSecondaryEditor:"small"===e,initialNodes:"small"===e?t("scene-editor-small")||z:t("scene-editor")||G,onPersistNodes:t=>n("small"===e?"scene-editor-small":"scene-editor",t),ref:e=>this.editorMosaic=e}))),this.state.editedObjectWithContext&&s.createElement(b.a,{open:!0,object:this.state.editedObjectWithContext.object,project:t,resourceSources:i,resourceExternalEditors:E,onChooseResource:r,onCancel:()=>{this.state.editedObjectWithContext&&this.reloadResourcesFor(this.state.editedObjectWithContext.object),this.editObject(null)},canRenameObject:this._canObjectOrGroupUseNewName,onRename:e=>{this._onRenameEditedObject(e)},onApply:()=>{this.state.editedObjectWithContext&&this.reloadResourcesFor(this.state.editedObjectWithContext.object),this.editObject(null),this.updateBehaviorsSharedData(),this.forceUpdateObjectsList(),this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges()}}),!!this.state.editedGroup&&s.createElement(f.b,{project:t,open:!0,group:this.state.editedGroup,objectsContainer:n,globalObjectsContainer:t,onCancel:()=>this.editGroup(null),onApply:()=>this.editGroup(null)}),s.createElement(w.a,{identifier:"instance-drag-n-drop-explanation",message:s.createElement(o.Trans,{id:"Drag and Drop the object to the scene or use the right click menu to add an instance of it."}),touchScreenMessage:s.createElement(o.Trans,{id:"Drag and Drop the object icon to the scene or long press to show options to edit the object."}),show:!!this.state.selectedObjectNames.length}),s.createElement(w.a,{identifier:"objects-panel-explanation",message:s.createElement(o.Trans,{id:"Objects panel is already opened: use it to add and edit objects."}),show:!!this.state.showObjectsListInfoBar}),s.createElement(w.a,{identifier:"instance-properties-panel-explanation",message:s.createElement(o.Trans,{id:"Properties panel is already opened. After selecting an instance on the scene, inspect and change its properties from this panel."}),show:!!this.state.showPropertiesInfoBar}),s.createElement(w.a,{identifier:"layers-panel-explanation",message:s.createElement(o.Trans,{id:"Layers panel is already opened. You can add new layers and apply effects on them from this panel."}),show:!!this.state.showLayersInfoBar}),s.createElement(w.a,{identifier:"instances-panel-explanation",message:s.createElement(o.Trans,{id:"Instances panel is already opened. You can search instances in the scene and click one to move the view to it."}),show:!!this.state.showInstancesInfoBar}),this.state.setupGridOpen&&s.createElement(v.a,{open:!0,gridOptions:this.state.uiSettings,onCancel:()=>this.openSetupGrid(!1),onApply:e=>{this.setUiSettings(e),this.openSetupGrid(!1)}}),!!this.state.variablesEditedInstance&&s.createElement(g.a,{open:!0,variablesContainer:this.state.variablesEditedInstance&&this.state.variablesEditedInstance.getVariables(),onCancel:()=>this.editInstanceVariables(null),onApply:()=>this.editInstanceVariables(null),emptyExplanationMessage:s.createElement(o.Trans,{id:"Instance variables will override the default values of the variables of the object."}),title:s.createElement(o.Trans,{id:"Instance Variables"}),onEditObjectVariables:()=>{if(!this.instancesSelection.hasSelectedInstances())return;const e=this.instancesSelection.getSelectedInstances()[0].getObjectName(),a=Object(P.a)(t,n,e);a&&(this.editObjectVariables(a),this.editInstanceVariables(null))}}),!!this.state.variablesEditedObject&&s.createElement(g.a,{open:!0,variablesContainer:this.state.variablesEditedObject&&this.state.variablesEditedObject.getVariables(),onCancel:()=>this.editObjectVariables(null),onApply:()=>this.editObjectVariables(null),emptyExplanationMessage:s.createElement(o.Trans,{id:"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it."}),title:s.createElement(o.Trans,{id:"Object Variables"})}),!!this.state.layerRemoveDialogOpen&&s.createElement(m.a,{open:!0,layersContainer:n,layerRemoved:this.state.layerRemoved,onClose:this.state.onCloseLayerRemoveDialog}),this.state.scenePropertiesDialogOpen&&s.createElement(y.a,{open:!0,project:t,layout:n,onClose:()=>this.openSceneProperties(!1),onApply:()=>this.openSceneProperties(!1),onEditVariables:()=>this.editLayoutVariables(!0),onOpenMoreSettings:this.props.onOpenMoreSettings}),!!this.state.layoutVariablesDialogOpen&&s.createElement(A.a,{open:!0,layout:n,onApply:()=>this.editLayoutVariables(!1),onClose:()=>this.editLayoutVariables(!1)}),s.createElement(N.a,{ref:e=>this.contextMenu=e,buildMenuTemplate:()=>[{label:this.state.selectedObjectNames.length?"Add an Instance of "+Object(k.b)(this.state.selectedObjectNames[0],7):"",click:()=>this._onAddInstanceUnderCursor(),visible:this.state.selectedObjectNames.length>0},{label:"Insert a New Object",click:()=>this._createNewObjectAndInstanceUnderCursor(),visible:0===this.state.selectedObjectNames.length},{label:this.state.selectedObjectNames.length?"Edit Object "+Object(k.b)(this.state.selectedObjectNames[0],14):"",click:()=>this.editObjectByName(this.state.selectedObjectNames[0]),visible:this.state.selectedObjectNames.length>0},{label:"Scene properties",click:()=>this.openSceneProperties(!0)},{type:"separator"},{label:"Copy",click:()=>this.copySelection(),enabled:this.instancesSelection.hasSelectedInstances(),accelerator:"CmdOrCtrl+C"},{label:"Cut",click:()=>this.cutSelection(),enabled:this.instancesSelection.hasSelectedInstances(),accelerator:"CmdOrCtrl+X"},{label:"Paste",click:()=>this.paste(),enabled:j.a.has("Instances"),accelerator:"CmdOrCtrl+V"},{type:"separator"},{label:"Undo",click:this.undo,enabled:Object(I.b)(this.state.history),accelerator:"CmdOrCtrl+Z"},{label:"Redo",click:this.redo,enabled:Object(I.a)(this.state.history),accelerator:"CmdOrCtrl+Shift+Z"},{label:"Delete",click:()=>this.deleteSelection(),enabled:this.instancesSelection.hasSelectedInstances()}]}))}}H.defaultProps={setToolbar:()=>{}}}).call(this,n(1))},865:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));n(539);const a=e=>{if(!e)return!1;const t=e.targetTouches;return t&&t.length>=2};class o{constructor({canvas:e,setZoomFactor:t,getZoomFactor:n,viewPosition:o}){this._lastPinchCenterX=null,this._lastPinchCenterY=null,this._startPinch=()=>{},this._onPinchMove=(e,t,n)=>{if(null===this._lastPinchCenterX||null===this._lastPinchCenterY)return this._lastPinchCenterX=e,void(this._lastPinchCenterY=t);const a=e-this._lastPinchCenterX,o=t-this._lastPinchCenterY,s=a/this._getZoomFactor(),i=o/this._getZoomFactor();this._viewPosition.scrollBy(-s,-i),this._lastPinchCenterX=e,this._lastPinchCenterY=t,this._setZoomFactor(this._getZoomFactor()*n)},this._endPinch=()=>{this._lastPinchCenterX=null,this._lastPinchCenterY=null},this.unmount=()=>{this._unregisterCanvasPinchDetector()},this._setZoomFactor=t,this._getZoomFactor=n,this._viewPosition=o,this._unregisterCanvasPinchDetector=(({canvas:e,onPinchStart:t,onPinchMove:n,onPinchEnd:o})=>{let s=null;function i(){e.addEventListener("touchmove",r)}function r(e){if(!a(e))return;var o=e.targetTouches,i=o[0].clientX-o[1].clientX,r=o[0].clientY-o[1].clientY,l=Math.sqrt(i*i+r*r);if(!s)return s={p:{distance:l,date:new Date}},void t();var c=new Date;if(c-s.p.date<12)return;const u={x:(o[0].clientX+o[1].clientX)/2,y:(o[0].clientY+o[1].clientY)/2},d=l/s.p.distance;n(u.x,u.y,d),s.p={distance:l,date:c}}function l(t){e.removeEventListener("touchmove",r),s&&(o(),s=null)}return e.addEventListener("touchstart",i),e.addEventListener("touchend",l),function(){e.removeEventListener("touchstart",i),e.removeEventListener("touchmove",r),e.removeEventListener("touchend",l)}})({canvas:e,onPinchStart:this._startPinch,onPinchMove:this._onPinchMove,onPinchEnd:this._endPinch})}}},866:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t,n)=>t<=0?Math.round(e):Math.floor((e-n)/t)*t+n},867:function(e,t,n){"use strict";var a=n(90);t.a=e=>Object(a.mapFor)(0,e.getLayersCount(),t=>({value:e.getLayerAt(t).getName(),label:e.getLayerAt(t).getName()||"Base layer"}))},868:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),o=n(507);const s={flexContainer:{display:"flex",flex:1,position:"relative"}},i=({children:e})=>a.createElement(o.a,{bounds:!0},({contentRect:t,measureRef:n})=>a.createElement("div",{style:s.flexContainer,ref:n},!!t&&!!t.bounds&&e({width:t.bounds.width,height:t.bounds.height})))},871:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(72),o=n(2),s=n(116),i=n(117),r=n(275),l=n(90),c=n(311),u=n(105);class d extends o.Component{render(){const e=this.props,t=e.spriteObject,n=e.animationIndex,d=e.directionIndex,h=e.spriteIndex,p=e.sameForAllAnimations,m=e.sameForAllSprites,g=e.chooseAnimation,b=e.chooseDirection,f=e.chooseSprite,E=e.setSameForAllAnimations,v=e.setSameForAllSprites,y=e.setSameForAllAnimationsLabel,C=e.setSameForAllSpritesLabel,x=Object(c.k)(t,n,d,h),j=x.hasValidAnimation,S=x.animation,T=x.hasValidDirection,O=x.direction;return o.createElement(o.Fragment,null,o.createElement(u.b,null,o.createElement(s.a,{fullWidth:!0,floatingLabelText:o.createElement(a.Trans,{id:"Animation"}),value:this.props.animationIndex,onChange:(e,t,n)=>g(parseInt(n,10)||0)},Object(l.mapFor)(0,t.getAnimationsCount(),e=>{const n=t.getAnimation(e);return o.createElement(i.a,{key:e,value:e,primaryText:{id:"Animation #{i} {0}",values:{0:n.getName(),i:e}}})})),j&&S.getDirectionsCount()>1&&o.createElement(s.a,{fullWidth:!0,floatingLabelText:o.createElement(a.Trans,{id:"Direction"}),value:this.props.directionIndex,onChange:(e,t,n)=>b(parseInt(n,10)||0)},Object(l.mapFor)(0,S.getDirectionsCount(),e=>o.createElement(i.a,{value:e,key:e,primaryText:{id:"Direction #{i}",values:{i:e}}}))),T&&o.createElement(s.a,{fullWidth:!0,floatingLabelText:o.createElement(a.Trans,{id:"Frame"}),value:this.props.spriteIndex,onChange:(e,t,n)=>f(parseInt(n,10)||0)},Object(l.mapFor)(0,O.getSpritesCount(),e=>o.createElement(i.a,{value:e,key:e,primaryText:{id:"Frame #{i}",values:{i:e}}})))),o.createElement(r.a,{label:y,labelPosition:"right",toggled:p,onToggle:(e,t)=>E(t)}),o.createElement(r.a,{label:C,labelPosition:"right",toggled:m,onToggle:(e,t)=>v(t)}))}}},872:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(78),o=n(2),s=n(864),i=n(114),r=n(195);class l extends r.a{constructor(...e){super(...e),this.saveUiSettings=()=>{const e=this.getLayout(),t=this.editor;t&&e&&Object(i.c)(e.getAssociatedSettings(),t.getUiSettings())}}shouldComponentUpdate(e){return!(!this.props.isActive&&!e.isActive)}updateToolbar(){this.editor&&this.editor.updateToolbar()}forceUpdateEditor(){this.editor&&this.editor.forceUpdateObjectsList()}getSerializedElements(){const e=this.getLayout();return e?Object(a.a)({},r.a.getLayoutSerializedElements(e),{instances:Object(i.b)(e.getInitialInstances()),uiSettings:this.editor?this.editor.getUiSettings():{}}):{}}getLayout(){const e=this.props,t=e.project,n=e.layoutName;return t&&t.hasLayoutNamed(n)?t.getLayout(n):null}render(){const e=this.props,t=e.project,n=e.layoutName,a=e.isActive,r=this.getLayout();return r?o.createElement(s.a,Object.assign({},this.props,{ref:e=>this.editor=e,project:t,layout:r,initialInstances:r.getInitialInstances(),initialUiSettings:Object(i.b)(r.getAssociatedSettings()),onPreview:e=>this.props.onPreview(t,r,e),previewButtonSettings:this.props.previewButtonSettings,onOpenDebugger:this.props.onOpenDebugger,isActive:a})):o.createElement("div",null,"No layout called ",n," found!")}}},873:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));const a=(e,t)=>{var n=performance.now();e(),t(performance.now()-n)},o=(e,t)=>{const n=performance.now();return e().then(e=>{const a=performance.now();return t(a-n),e})}},878:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));const a=e=>{const t=e;return t?e=>t._(e):null},o=e=>{const t=e;return t?e=>t._(e):e=>e}},884:function(e,t){e.exports={admob:{description:"Demonstrate how to show ads from AdMob in your game: banners, interstitial screen or reward videos. Also useful to test that your AdMob account is working properly.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"AdMob",name:"AdMob"}]},"advanced-shape-based-painter":{description:"Show how to use Shape Painter objects to create a simple drawing app.",usedExtensions:[{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"animation-speed-scale":{description:"Change the speed of the animation of an object according to its movement speed.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"}]},asteroids:{description:"An adptation of the classic arcade game Asteroids with GDevelop.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Sprite",name:"Sprite"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},"basic-ai-with-pathfinding":{description:"Show how to use pathfinding to make enemies chase the player.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Pathfinding behavior",name:"PathfindingBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Time",name:"BuiltinTime"}]},"basic-artificial-intelligence":{description:"Show how to create enemies looking at the player and chasing him when spotted.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Time",name:"BuiltinTime"}]},"basic-topdown-car-driving":{description:"Show how to create a car that can be controlled by the player.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"}]},"bbtext-object-demo":{description:"This shows how to change the bbcode text of a BBText object displayed on the screen.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"BBCode Text Object",name:"BBText"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"betabox-basics-learning-experience":{description:"Example level for teaching basic programming skills with extra features and assets.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Text object",name:"TextObject"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Mouse features",name:"BuiltinMouse"}]},"bomb-the-crate":{description:"A basic bomberman like game, where the player can move on the map, drop bombs and destroy crates on the map.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"bouncing-ball-and-rope":{description:"Simulate a bouncing ball with ropes that can be created to move the ball around anchors.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Linked objects",name:"LinkedObjects"}]},breakout:{description:"The classic Breakout arcade game adapted in GDevelop. Read the tutorial about it to learn how to make a game like this.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Sprite",name:"Sprite"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"",name:""},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"External layouts",name:"BuiltinExternalLayouts"},{fullName:"Physics Engine 2.0",name:"Physics2"}]},buttons:{description:"Learn how to make buttons for the menus in your game.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"}]},"cannon-ball-with-physics":{description:"An example showing how to launch a ball from a cannon when using the Physics engine.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Storage",name:"BuiltinFile"}]},"car-physics":{description:"A fun, physics based driving game",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"center-object-within-another":{description:"How to put an object on the center of another",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"change-position-of-object":{description:"Show how to move an object by changing its X and Y position.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"change-scale-of-sprites":{description:"Show how to change the scale of a sprite (to make a zoom effect for example).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"change-sprite-animation":{description:"Learn how to change the animation of a Sprite object (useful for animating almost all objects in your game: characters, enemies, items...)",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"change-sprite-color":{description:"Learn how to change the color of a Sprite object - useful to achieve effects like invincibility with a blue tint or taking damage with a red effect. ",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"character-selection":{description:"Example showing how to remember the character selected by the player and use it in other scenes.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"System information",name:"SystemInfo"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"count-down-timer":{description:"Show how to use a variable as a timer and display it on screen like a bomb count down timer.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"}]},"create-object-with-mouseclick":{description:"Show how to create an object at the position of the click.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"create-random-object":{description:"Show how to create a object randomly picked in a list.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"custom-font":{description:"Example showing a text with a custom font applied on it.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"}]},"custom-mouse-pointer":{description:"Learn how to replace the mouse cursor by a custom image.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"customize-keys-with-lastpressedkey":{description:"This explains how to remember the last key that was pressed and customize the inputs of your game.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},"device-orientation-ballgame":{description:"Example showing how to use the device sensors to move a ball in a maze.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Device sensors",name:"DeviceSensors"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"device-orientation-compass":{description:"This shows how to use the device sensors to create a compass like app.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Device sensors",name:"DeviceSensors"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"device-vibration":{description:"Show how to make the device vibrate.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Device vibration",name:"DeviceVibration"}]},"dialogue-tree-with-yarn":{description:"A platformer showing a simple interactive story with dialogues like in RPG games, using the Yarn dialogue tree extension.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"BBCode Text Object",name:"BBText"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Dialogue Tree (Experimental)",name:"DialogueTree"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"System information",name:"SystemInfo"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},"downhill-bike-physics-demo":{description:"A fun demo, using the Physics Engine to build an advanced simulation of a bike, with a person pedaling on it. Try to cross the finish line without falling and as fast as possible!",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Advanced control features",name:"BuiltinAdvanced"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Window features",name:"BuiltinWindow"},{fullName:"Device vibration",name:"DeviceVibration"},{fullName:"Time",name:"BuiltinTime"}]},"drag-camera-with-mouse":{description:"This shows how to allow the user to move on a map with the mouse.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"drop-collect-items-from-storage":{description:"Show how to make the player collect objects from boxes on the map.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"}]},"endless-up-runner":{description:"A game where the player have to jump on platforms and avoid falling down as the screen goes up. With special objects (spring, rocks), score and Game Over handling!",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Mouse features",name:"BuiltinMouse"}]},"exit-app":{description:"Simple example showing how to close your game.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"}]},"facebook-instant-game":{description:"Learn how to use the various Facebook Instant Games APIs to get information about the player, share their scores and have a leaderboard!",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Facebook Instant Games",name:"FacebookInstantGames"}]},"filesystem-create-directory":{description:"Show how to ask the user for a folder name and create it on the disk.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Text entry object",name:"TextEntryObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Filesystem",name:"FileSystem"}]},"find-diagonals":{description:"Show how to delete objects that are located at the diagonals of the click of the player in a board game.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"}]},"flappy-bird":{description:"A clone of the challenging and popular Flappy Bird game, where you control a bird which has to avoid pipes.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"",name:""},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"System information",name:"SystemInfo"},{fullName:"Time",name:"BuiltinTime"}]},geodash:{description:"A fast paced game where you must jump and avoid obstacles.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"}]},"geometry-monster":{description:"A hyper casual endless game where you have to collect shapes and avoid bombs, with a progressively increasing difficulty.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"",name:""},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Text object",name:"TextObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Variable features",name:"BuiltinVariables"}]},"health-bar":{description:"The platform example game adapted to add a health bar to the player, that is decreased when the player touches an enemy.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"}]},"infinite-scrolling-background":{description:"Learn how to create a background that is scolling infinitely.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"inventory-system":{description:"Learn how to display an inventory, with object that can be addded or removed, and how to persist it in storage.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Inventory",name:"Inventory"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Storage",name:"BuiltinFile"}]},"isometric-game":{description:"Example of making an isometric 2D game.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Top-down movement",name:"TopDownMovementBehavior"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"javascript-blocks-in-platformer":{description:"This shows how to reproduce the Platformer example using JavaScript code instead of events.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},"keyboard-practice":{description:"A simple game where the player must press the right keys on the keyboard as fast as possible.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"}]},"level-editor":{description:"Example showing a basic level editor, where you can save and load positions of objects put on the scene during the game. Also shows how to use simple functions.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"",name:""}]},"level-selection-unlock":{description:"Show how to save user progress and progressively unlock levels.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"load-image-from-url":{description:"Advanced example showing how to use JavaScript to load an image from an external URL.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},magnet:{description:"Show how to move a ball like if it's attracted by a magnet.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"manipulate-text-object":{description:"This shows how to change the text of a Text object displayed on the screen.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"menu-with-functions-and-text-effects":{description:"How to implement the same menu across multiple scenes using functions and text effects for hover/active states.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"",name:""}]},"move-camera-to-position":{description:"This shows how to move the camera to the position of an object on a map.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Variable features",name:"BuiltinVariables"}]},"move-object-back-and-forth":{description:"Use events to move objects back and forth vertically or horizontally.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"}]},"move-object-in-circle":{description:"This shows how to make an object move in circle around some point.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"move-object-toward-position":{description:"This shows how to have an object move to a given position on the screen.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"move-object-with-mouse-joint":{description:"Show how to use physics engine to move an object around with the mouse and realistic movements.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"move-object-with-physics":{description:"This shows how to use the forces built in GDevelop to move an object.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"multi-language-menu":{description:"Show how to translate a menu (titles, buttons) in multiple languages and add an option for the player to choose the language.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"}]},"multiplayer-platformer-with-gamepads":{description:"Example showing how to use the Gamepads extension to read the state of gamepads (or controllers), for 2 players.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"",name:""}]},multitouch:{description:"This show how to create multiple markers when the player touches the screen.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"object-gravity":{description:"Use the physics engine to simulate an object moving on a small planet.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"}]},"object-selection":{description:"Simple example showing how the engine of GDevelop select objects to be used in conditions and actions.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"objects-timers":{description:"Example showing various usage of objects timers (timers that are stored into instances of objects on the scene, as opposed to scene timers which are stored by the scene).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"}]},"open-url-in-browser":{description:"This shows how to open a website on the system default browser.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Storage",name:"BuiltinFile"}]},pairs:{description:"Find all matching pairs of cards in this relaxing game. Use tweens to create smooth, natural animations with a few events.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Tween animation",name:"Tween"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},parallax:{description:"Shows how to have multiple layers with a parallax effect (where the background layers move slower than the foreground).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"parallax-scrolling":{description:"Another example showing how to have multiple layers with a parallax effect (where the background layers move slower than the foreground).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"parse-json-from-api":{description:"Advanced example where JSON content is fetched from a website and information extracted from it.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Basic internet features",name:"BuiltinNetwork"}]},"parse-json-string":{description:"Advanced example showing how to extract information from a JSON formatted string.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Basic internet features",name:"BuiltinNetwork"}]},"particles-explosions":{description:"Create explosion effects with the particles engine.",usedExtensions:[{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"particles-various-effects":{description:"Create various effects with the particles engine.",usedExtensions:[{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Features for all objects",name:"BuiltinObject"}]},pathfinding:{description:"This show how to have an object moving from its position to another automatically avoiding obstacles.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Pathfinding behavior",name:"PathfindingBehavior"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"pathfinding-basics":{description:"Simpler example showing how to get started with Pathfinding, to have an object automatically find its way around obstacles.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Pathfinding behavior",name:"PathfindingBehavior"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},physics:{description:"Example showing various capabilities of the physics engine integrated to GDevelop.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"physics-joints-demo":{description:"A demo of all the joints that can be created using the Physics engine.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"physics-joints-settings-demo":{description:"A demo of all the joints, and the way they can be customized, using the Physics engine.",usedExtensions:[{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"",name:""},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"}]},"pin-object-to-another":{description:'Example showing how to have objects "pinned" to another, meaning that they will move/rotate and follow the object they are pinned too.',usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"pin-object-to-another-multiple-parents":{description:'Example showing how to have objects "pinned" to multiple other objects, meaning that they will move/rotate and follow the object they are pinned too.',usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Linked objects",name:"LinkedObjects"}]},"pixel-perfect-platform-game":{description:"Very simple example showing the settings to have a pixel-perfect platform game (also applicable to other kind of games).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"}]},"plane-and-clouds":{description:"Show how to randomly generate clouds to create an infinite sky.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},platformer:{description:"An example of a basic platformer (Mario-like) game made with GDevelop.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},"platformer-double-jump":{description:"The Platformer example modified to allow the player to do a double jump.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},"play-music-on-mobile":{description:"This show how to properly launch a music on a game on mobile.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Audio",name:"BuiltinAudio"}]},"play-stop-sprite-animation":{description:"This shows how to pause the animation of a Sprite object.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"racing-game":{description:"A top-down racing game made using the Physics engine.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Variable features",name:"BuiltinVariables"}]},ragdoll:{description:"Example of creating a ragdoll with physics joints.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Advanced control features",name:"BuiltinAdvanced"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},rain:{description:"Show how to simulate a rain effect by creating several objects.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Window features",name:"BuiltinWindow"}]},"random-color-picker":{description:"This shows how to create a grid with random color, and let the player choose one.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"rotate-toward-mouse":{description:"Show how to rotate an object so that it looks toward the player cursor.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"rotate-toward-position":{description:"Show how to rotate an object so that it looks toward a specified position on the scene.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"rotate-with-keypress":{description:"Basic example showing how to rotate an object.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"save-load":{description:"Advanced example showing how to persist data and then reload them from storage (useful to store game progress, or save the state of some objects in a game).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Storage",name:"BuiltinFile"}]},"screen-shake":{description:"Make the screen shake when some event occurs.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},"shoot-bullet-in-parabola":{description:"Show how to use various mathematical expressions to move an object following a parabola shape",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Scene management features",name:"BuiltinScene"}]},"shoot-bullets":{description:"Basic example showing how to shoot bullets from an object.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"shooting-bullets-explanation":{description:"Basic example showing how to shoot bullets from one or multiple objects at the same time.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"simple-space-shooter":{description:"An older, simple space shooter demo, made without any behaviors from extensions. Prefer taking a look at the Space Shooter starter to learn about useful behaviors and patterns for making your games.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Top-down movement",name:"TopDownMovementBehavior"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},"snap-object-to-grid":{description:"Example showing how to create a grid and have objects snapped to the grid.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Text object",name:"TextObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Window features",name:"BuiltinWindow"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"space-invaders":{description:"A Space Invaders-like game, where you have a turret and shoot on enemies coming from the sky.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Window features",name:"BuiltinWindow"}]},"space-shooter":{description:"A beautiful, retro side-scrolling shooter where you must defeat incoming enemies with your mecha transforming spaceship. Huge boss included!\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"",name:""},{fullName:"Top-down movement",name:"TopDownMovementBehavior"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"splash-screen":{description:"Show how to create a splashscreen at the beginning of your game.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"sprite-fade-in-out":{description:"This shows how to make a sprite fade in and out on the screen.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"}]},"take-screenshot":{description:"Show how to save a screenshot of the game on the disk (on Windows/macOS/Linux only).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Screenshot",name:"Screenshot"},{fullName:"Audio",name:"BuiltinAudio"}]},"text-entry-object":{description:"This shows how to use the Text Entry object to capture what is written on the keyboard.",usedExtensions:[{fullName:"Text entry object",name:"TextEntryObject"},{fullName:"Text object",name:"TextObject"}]},"text-fade-in-out":{description:"This shows how to make a text fade in and out on the screen.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"}]},"text-to-speech":{description:"Advanced example showing how to use JavaScript and HTML5 api to make a text read by your computer.",usedExtensions:[{fullName:"Text entry object",name:"TextEntryObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"}]},"toggle-music-play-sound":{description:"Example showing how to play a music and add controls on the screen to pause it, change the volume or mute the sounds totally.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Audio",name:"BuiltinAudio"}]},"type-on-text-effect":{description:"This show how to create an effect where a text is progressively typed on the screen.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"}]},"unlock-items":{description:"Show how to save the items unlocked by the user and load them later (when the game is launched again for example, or when starting a saved game).\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Variable features",name:"BuiltinVariables"}]},"video-player":{description:"An example of a complete video player with controls to play/pause, change the volume, jump to a position in the video...",usedExtensions:[{fullName:"Video",name:"Video"},{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Tween animation",name:"Tween"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Advanced control features",name:"BuiltinAdvanced"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"",name:""},{fullName:"Window features",name:"BuiltinWindow"}]},"z-depth":{description:"Example where the player can move a character on a map, and the character is displayed behind or in front of other objects according to its position.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"zombie-laser":{description:"Simple game where the player must use his laser powered gun to destroy zombies running at him.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Text object",name:"TextObject"},{fullName:"Pathfinding behavior",name:"PathfindingBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]}}},886:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var a=n(72),o=n(2),s=n(83),i=n(75);const r=()=>o.createElement(s.a,null,o.createElement(a.Trans,{id:"This will export your game as a Cordova project. Cordova is a technology that enables HTML5 games to be packaged for iOS and Android."})),l=({renderGameButton:e})=>o.createElement(i.a,{noMargin:!0},o.createElement(s.a,null,o.createElement(a.Trans,{id:"You can now compile the game by yourself using Cordova command-line tool to iOS (XCode is required) or Android (Android SDK is required)."})),o.createElement(i.b,{justifyContent:"center"},e()))},887:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var a=n(72),o=n(2),s=n(83),i=n(75);const r=()=>o.createElement(s.a,null,o.createElement(a.Trans,{id:"This will export your game so that you can package it for Windows, macOS or Linux. You will need to install third-party tools (Node.js, Electron Builder) to package your game."})),l=({renderGameButton:e})=>o.createElement(i.a,{noMargin:!0},o.createElement(s.a,null,o.createElement(a.Trans,{id:"The game was properly exported. You can now use Electron Builder (you need Node.js installed and to use the command-line on your computer to run it) to create an executable."})),o.createElement(i.b,{justifyContent:"center"},e()))},888:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h}));var a=n(72),o=n(2),s=n(83),i=n(206),r=n(5),l=n(82),c=n(75),u=n(132);const d=()=>o.createElement(s.a,null,o.createElement(a.Trans,{id:"This will export your game to a folder."}),o.createElement(a.Trans,{id:"You can then upload it on a website/game hosting service and share it on marketplaces and gaming portals like Kongregate, Game Jolt, itch.io, Poki..."})),h=({renderGameButton:e})=>o.createElement(c.a,{noMargin:!0},o.createElement(s.a,null,o.createElement(a.Trans,{id:"You can now upload the game to a web hosting to play to the game."})),o.createElement(u.a,{kind:"warning"},o.createElement(a.Trans,{id:"Your game won't work if you open index.html on your computer. You must upload it to a web hosting (Kongregate, Itch.io, etc...) or a web server to run it."})),o.createElement(c.c,null),e(),o.createElement(c.c,null),o.createElement(l.a,{fullWidth:!0,primary:!0,onClick:()=>r.b.openExternalURL(Object(i.a)("/publishing/publishing-to-gamejolt-store")),label:o.createElement(a.Trans,{id:"Publish your game on Game Jolt"})}),o.createElement(l.a,{fullWidth:!0,primary:!0,onClick:()=>r.b.openExternalURL(Object(i.a)("/publishing/publishing-to-kongregate-store")),label:o.createElement(a.Trans,{id:"Publish your game on Kongregate"})}),o.createElement(l.a,{fullWidth:!0,primary:!0,onClick:()=>r.b.openExternalURL(Object(i.a)("/publishing/publishing-to-itch-io")),label:o.createElement(a.Trans,{id:"Publish your game on Itch.io"})}),o.createElement(l.a,{fullWidth:!0,primary:!0,onClick:()=>r.b.openExternalURL("https://gdevelop-app.com/poki"),label:o.createElement(a.Trans,{id:"Publish your game on Poki.com"})}),o.createElement(l.a,{fullWidth:!0,onClick:()=>r.b.openExternalURL(Object(i.a)("/publishing")),label:o.createElement(a.Trans,{id:"Learn more about publishing"})}))},889:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var a=n(72),o=n(2),s=n(83),i=n(75),r=n(132);const l=()=>o.createElement(i.a,{noMargin:!0},o.createElement(s.a,null,o.createElement(a.Trans,{id:"This will export your game using Cocos2d-JS game engine. The game can be compiled for Android or iOS if you install Cocos2d-JS developer tools."})),o.createElement(i.c,null),o.createElement(r.a,{kind:"info"},o.createElement(a.Trans,{id:"This export is experimental and not all features are supported by Cocos2D-JS. It's recommended that you thoroughly test your game and be ready to contribute to the game engine if you need to implement missing features."}))),c=({renderGameButton:e})=>o.createElement(i.a,{noMargin:!0},o.createElement(s.a,null,o.createElement(a.Trans,{id:"You can now upload the game to a web hosting or use Cocos2d-JS command line tools to export it to other platforms like iOS (XCode is required) or Android (Android SDK is required)."})),o.createElement(i.b,{justifyContent:"center"},e()))},890:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(72),o=n(2),s=n(83),i=n(75),r=n(82),l=n(206),c=n(5);const u=()=>o.createElement(s.a,null,o.createElement(a.Trans,{id:"Prepare your game for Facebook Instant Games so that it can be play on Facebook Messenger. GDevelop will create a compressed file that you can upload on your Facebook Developer account."})),d=({renderGameButton:e})=>o.createElement(i.a,{noMargin:!0},o.createElement(s.a,null,o.createElement(a.Trans,{id:"You can now create a game on Facebook Instant Games, if not already done, and upload the generated archive."})),o.createElement(i.b,{justifyContent:"center"},e(),o.createElement(r.a,{label:o.createElement(a.Trans,{id:"Learn more about Instant Games publication"}),primary:!0,onClick:()=>{c.b.openExternalURL(Object(l.a)("/publishing/publishing-to-facebook-instant-games"))}})))},891:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(72),o=n(2),s=n(83);const i=()=>o.createElement(s.a,null,o.createElement(a.Trans,{id:"Packaging your game for Android will create an APK file that can be installed on Android phones or published to the Play Store."}))},892:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(78),o=n(72),s=n(2),i=n(83),r=n(145),l=n(75);const c=({exportState:e,updateExportState:t})=>{const n=(e,n)=>{t(t=>n&&-1===t.targets.indexOf(e)?Object(a.a)({},t,{targets:[...t.targets,e]}):n||-1===t.targets.indexOf(e)?t:Object(a.a)({},t,{targets:t.targets.filter(t=>t!==e)}))};return s.createElement(s.Fragment,null,s.createElement(l.a,{noMargin:!0},s.createElement(l.b,null,s.createElement(i.a,null,s.createElement(o.Trans,{id:"Your game will be exported and packaged online as a stand-alone game for Windows, Linux and/or macOS."}))),s.createElement(r.a,{label:s.createElement(o.Trans,{id:"Windows (zip file)"}),checked:-1!==e.targets.indexOf("winZip"),onCheck:(e,t)=>n("winZip",t)}),s.createElement(r.a,{label:s.createElement(o.Trans,{id:"Windows (auto-installer file)"}),checked:-1!==e.targets.indexOf("winExe"),onCheck:(e,t)=>n("winExe",t)}),s.createElement(r.a,{label:s.createElement(o.Trans,{id:"macOS (zip file)"}),checked:-1!==e.targets.indexOf("macZip"),onCheck:(e,t)=>n("macZip",t)}),s.createElement(r.a,{label:s.createElement(o.Trans,{id:"Linux (AppImage)"}),checked:-1!==e.targets.indexOf("linuxAppImage"),onCheck:(e,t)=>n("linuxAppImage",t)})))}},893:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(72),o=n(2),s=n(83);const i=()=>o.createElement(s.a,null,o.createElement(a.Trans,{id:"This will export your game and upload it on GDevelop games hosting. The game will be freely accessible from the link, available for a few days and playable from any computer browser or mobile phone (iOS, Android 5+)."}))},894:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(589);t.a=o.a.memo(e=>o.a.createElement(s.a,e,o.a.createElement("path",{d:"M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M18,5H15.5A3.5,3.5 0 0,0 12,8.5V11H10V14H12V21H15V14H18V11H15V9A1,1 0 0,1 16,8H18V5Z"})))},895:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(589);t.a=o.a.memo(e=>o.a.createElement(s.a,e,o.a.createElement("path",{d:"M20.18,21.55H16.94L17.17,18.82H15.58L15.35,21.55H8.65L8.42,18.82H6.83L7.06,21.55H3.82L2,9.73L6.55,2.45H17.45L22,9.73L20.18,21.55M16.55,6.09H13.62L13.82,7.45H10.18L10.38,6.09H7.45L5.64,9.73L6.55,17H17.45L18.36,9.73L16.55,6.09M14.95,14.59C14.7,14.59 14.5,13.83 14.5,12.9C14.5,11.96 14.7,11.2 14.95,11.2C15.21,11.2 15.41,11.96 15.41,12.9C15.41,13.83 15.21,14.59 14.95,14.59M9.22,14.73C8.96,14.73 8.76,13.97 8.76,13.04C8.76,12.1 8.96,11.35 9.22,11.35C9.47,11.35 9.67,12.1 9.67,13.04C9.67,13.97 9.47,14.73 9.22,14.73Z"})))},896:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(589);t.a=o.a.memo(e=>o.a.createElement(s.a,e,o.a.createElement("path",{d:"M12,20L15.46,14H15.45C15.79,13.4 16,12.73 16,12C16,10.8 15.46,9.73 14.62,9H19.41C19.79,9.93 20,10.94 20,12A8,8 0 0,1 12,20M4,12C4,10.54 4.39,9.18 5.07,8L8.54,14H8.55C9.24,15.19 10.5,16 12,16C12.45,16 12.88,15.91 13.29,15.77L10.89,19.91C7,19.37 4,16.04 4,12M15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9A3,3 0 0,1 15,12M12,4C14.96,4 17.54,5.61 18.92,8H12C10.06,8 8.45,9.38 8.08,11.21L5.7,7.08C7.16,5.21 9.44,4 12,4M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})))},90:function(e,t){const n=(e,t,n)=>{const a=[];for(let o=e;o<t;o++)a.push(n(o));return a};e.exports={mapFor:n,mapReverseFor:(e,t,n)=>{const a=[];for(let o=t-1;o>=e;o--)a.push(n(o));return a},mapVector:(e,t)=>n(0,e.size(),n=>t(e.at(n),n))}},900:function(e,t,n){const a=n(674),o=(e,t,n)=>{if(!n.runExtensionSanityTests)return{error:!0,message:"Missing runExtensionSanityTests in the extension module exports"};const o=n.runExtensionSanityTests(e,t);return a(o)?{error:!0,message:"One or more tests are failing for the extension (see rawError)",rawError:o}:{error:!1,message:"Tests passed successfully"}};e.exports={runExtensionSanityTests:o,loadExtension:(e,t,n,a)=>{if(!a.createExtension)return{message:"Extension module found, but no createExtension method is exported",error:!0};let s=null;try{if(s=a.createExtension(e,t),!s)return{message:"createExtension did not return any extension. Did you forget to return the extension created?",error:!0}}catch(i){return{message:"\ud83d\udea8 Exception caught while running createExtension. \ud83d\udca3 Please fix this error as this will make GDevelop crash at some point.",error:!0,dangerous:!0,rawError:i}}try{const e=o(t,s,a);if(e.error)return s.delete(),e}catch(i){return{message:"\ud83d\udea8 Exception caught while running runExtensionSanityTests. \ud83d\udca3 Please fix this error as this will make GDevelop crash at some point.",error:!0,dangerous:!0,rawError:i}}return n.addNewExtension(s),s.delete(),{message:"\u2705 Successfully loaded the extension.",error:!1}}}},901:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(78),o=n(2);const s={internalName:"Empty",name:"No storage",createOperations:()=>({onOpenWithPicker:()=>Promise.reject("No storage provider set up"),onOpen:()=>Promise.reject("No storage provider set up"),hasAutoSave:()=>Promise.resolve(!1),onSaveProject:e=>Promise.reject("No storage provider set up"),onSaveProjectAs:e=>Promise.reject("No storage provider set up"),onAutoSaveProject:e=>{}})};class i extends o.Component{constructor(...e){super(...e),this.state=Object(a.a)({},((e,t,n)=>{const a=t.map(e=>({currentStorageProvider:e,initialFileMetadataToOpen:e.getFileMetadataFromAppArguments?e.getFileMetadataFromAppArguments(n):null})).filter(({initialFileMetadataToOpen:e})=>!!e);return 0===a.length?{currentStorageProvider:e,initialFileMetadataToOpen:null}:(a.length>1&&console.warn("More than one storage provider can understand the app arguments. Selecting the first one."),a[0])})(this.props.defaultStorageProvider,this.props.storageProviders,this.props.appArguments),{renderDialog:null}),this._setDialog=e=>{this.setState({renderDialog:e})},this._closeDialog=()=>{this.setState({renderDialog:null})},this._useStorageProvider=e=>e?new Promise(t=>{this.setState({currentStorageProvider:e},()=>{t()})}):Promise.resolve()}render(){const e=this.props,t=e.children,n=e.storageProviders,a=this.state,i=a.renderDialog,r=a.initialFileMetadataToOpen,l=this.state.currentStorageProvider||s;return o.createElement(o.Fragment,null,t({currentStorageProviderOperations:l.createOperations({setDialog:this._setDialog,closeDialog:this._closeDialog}),storageProviders:n,useStorageProvider:this._useStorageProvider,initialFileMetadataToOpen:r}),i&&i())}}},905:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(538),i=n.n(s),r=n(24);class l{constructor({onDelete:e,onMove:t,onCopy:n,onCut:a,onPaste:o,onUndo:s,onRedo:i,onSearch:l,onZoomOut:c,onZoomIn:u}){this._isControlPressed=()=>this.metaPressed||this.rawCtrlPressed,this._onKeyDown=e=>{if(!this.isFocused)return;let t=!1;e.metaKey&&(this.metaPressed=!0),e.altKey&&(this.altPressed=!0),17===e.which&&(this.rawCtrlPressed=!0),16===e.which&&(this.shiftPressed=!0),32===e.which&&(this.spacePressed=!0);return e.target&&e.target.closest('textarea, input, [contenteditable="true"]')?void 0:(this.onMove&&(38===e.which?this.onMove(0,-1):40===e.which?this.onMove(0,1):37===e.which?this.onMove(-1,0):39===e.which&&this.onMove(1,0)),8!==e.which&&46!==e.which||(this.onDelete(),t=!0),this._isControlPressed()&&67===e.which&&this.onCopy(),this._isControlPressed()&&88===e.which&&this.onCut(),this._isControlPressed()&&86===e.which&&this.onPaste(),this._isControlPressed()&&90===e.which&&this.onUndo(),this._isControlPressed()&&this.shiftPressed&&90===e.which&&this.onRedo(),this._isControlPressed()&&89===e.which&&this.onRedo(),this._isControlPressed()&&70===e.which&&this.onSearch(),this._isControlPressed()&&189===e.which&&this.onZoomOut(),109===e.which&&this.onZoomOut(),this._isControlPressed()&&187===e.which&&this.onZoomIn(),107===e.which&&this.onZoomIn(),t?(e.preventDefault&&e.preventDefault(),!1):void 0)},this._onKeyUp=e=>{e.metaKey||(this.metaPressed=!1),e.altKey||(this.altPressed=!1),17===e.which&&(this.rawCtrlPressed=!1),16===e.which&&(this.shiftPressed=!1),32===e.which&&(this.spacePressed=!1);let t=!1;if(8!==e.which&&46!==e.which||(t=!0),t)return e.preventDefault&&e.preventDefault(),!1},this._onMouseDown=e=>{this.isFocused&&(Object(r.e)()||(1===e.button?this.mouseMidButtonPressed=!0:this.mouseMidButtonPressed=!1))},this._onMouseUp=e=>{this.isFocused&&(Object(r.e)()||1!==e.button||(this.mouseMidButtonPressed=!1))},this._onKeyPress=e=>{},this._noop=()=>{},this.onDelete=e||this._noop,this.onMove=t||this._noop,this.onCopy=n||this._noop,this.onCut=a||this._noop,this.onPaste=o||this._noop,this.onUndo=s||this._noop,this.onRedo=i||this._noop,this.onZoomOut=c||this._noop,this.onZoomIn=u||this._noop,this.onSearch=l||this._noop,this.isFocused=!1,this.shiftPressed=!1,this.rawCtrlPressed=!1,this.metaPressed=!1,this.spacePressed=!1,this.mouseMidButtonPressed=!1,this.mount()}shouldCloneInstances(){return this._isControlPressed()}shouldMultiSelect(){return this.shiftPressed}shouldFollowAxis(){return this.shiftPressed}shouldNotSnapToGrid(){return this.altPressed}shouldResizeProportionally(){return this.shiftPressed}shouldScrollHorizontally(){return this.altPressed}shouldZoom(){return Object(r.e)()?this._isControlPressed():!(this._isControlPressed()||this.altPressed||this.shiftPressed)}shouldMoveView(){return this.spacePressed||this.mouseMidButtonPressed}focus(){this.isFocused=!0}blur(){this.isFocused=!1}mount(){"undefined"!==typeof document&&(document.addEventListener("keydown",this._onKeyDown,!0),document.addEventListener("keyup",this._onKeyUp,!0),document.addEventListener("keypress",this._onKeyPress,!0),document.addEventListener("mousedown",this._onMouseDown,!0),document.addEventListener("mouseup",this._onMouseUp,!0))}unmount(){"undefined"!==typeof document&&(document.removeEventListener("keydown",this._onKeyDown,!0),document.removeEventListener("keyup",this._onKeyUp,!0),document.removeEventListener("keypress",this._onKeyPress,!0),document.removeEventListener("mousedown",this._onMouseDown,!0),document.removeEventListener("mouseup",this._onMouseUp,!0))}}var c=n(1899),u=n(108);class d{constructor({project:e,layout:t,instances:n,viewPosition:a,onInstanceClicked:o,onInstanceDoubleClicked:s,onOverInstance:i,onOutInstance:r,onMoveInstance:l,onMoveInstanceEnd:c,onDownInstance:d}){this.project=e,this.instances=n,this.layout=t,this.viewPosition=a,this.onInstanceClicked=o,this.onInstanceDoubleClicked=s,this.onOverInstance=i,this.onOutInstance=r,this.onMoveInstance=l,this.onMoveInstanceEnd=c,this.onDownInstance=d,this.layersRenderers={},this.pixiContainer=new u.Container,this.instanceMeasurer={getInstanceLeft:e=>{const t=e.getLayer(),n=this.layersRenderers[t];return n?n.getInstanceLeft(e):e.getX()},getInstanceTop:e=>{const t=e.getLayer(),n=this.layersRenderers[t];return n?n.getInstanceTop(e):e.getY()},getInstanceWidth:e=>{if(e.hasCustomSize())return e.getCustomWidth();const t=e.getLayer(),n=this.layersRenderers[t];return n?n.getInstanceWidth(e):0},getInstanceHeight:e=>{if(e.hasCustomSize())return e.getCustomHeight();const t=e.getLayer(),n=this.layersRenderers[t];return n?n.getInstanceHeight(e):0},getInstanceRect:e=>({x:this.instanceMeasurer.getInstanceLeft(e),y:this.instanceMeasurer.getInstanceTop(e),width:this.instanceMeasurer.getInstanceWidth(e),height:this.instanceMeasurer.getInstanceHeight(e)})}}getPixiContainer(){return this.pixiContainer}getInstanceMeasurer(){return this.instanceMeasurer}render(){for(let e=0;e<this.layout.getLayersCount();e++){const t=this.layout.getLayerAt(e),n=t.getName();let a=this.layersRenderers[n];a||(this.layersRenderers[n]=a=new c.a({project:this.project,layout:this.layout,instances:this.instances,viewPosition:this.viewPosition,layer:t,onInstanceClicked:this.onInstanceClicked,onInstanceDoubleClicked:this.onInstanceDoubleClicked,onOverInstance:this.onOverInstance,onOutInstance:this.onOutInstance,onMoveInstance:this.onMoveInstance,onMoveInstanceEnd:this.onMoveInstanceEnd,onDownInstance:this.onDownInstance}),this.pixiContainer.addChild(a.getPixiContainer())),a.layer=t,a.wasUsed=!0,a.getPixiContainer().zOrder=e,a.render()}this._updatePixiObjectsZOrder(),this._cleanRenderers()}_updatePixiObjectsZOrder(){this.pixiContainer.children.sort((e,t)=>(e.zOrder=e.zOrder||0,t.zOrder=t.zOrder||0,e.zOrder-t.zOrder))}resetRenderersFor(e){for(let t in this.layersRenderers)if(this.layersRenderers.hasOwnProperty(t)){this.layersRenderers[t].resetRenderersFor(e)}}_cleanRenderers(){for(let e in this.layersRenderers)if(this.layersRenderers.hasOwnProperty(e)){const t=this.layersRenderers[e];t.wasUsed?t.wasUsed=!1:(this.pixiContainer.removeChild(t.getPixiContainer()),t.delete(),delete this.layersRenderers[e])}}delete(){for(let e in this.layersRenderers)this.layersRenderers.hasOwnProperty(e)&&this.layersRenderers[e].delete()}}var h=n(539);function p(e,{x:t,y:n,width:a,height:o}){const s=e(t,n),i=e(t+a,n+o);return{x:s[0],y:s[1],width:i[0]-s[0],height:i[1]-s[1]}}n(394);class m{constructor({instancesSelection:e,instanceMeasurer:t,onResize:n,onResizeEnd:a,onRotate:o,onRotateEnd:s,toCanvasCoordinates:i,screenType:r}){this.pixiContainer=new u.Container,this.rectanglesContainer=new u.Container,this.selectedRectangles=[],this.resizeButton=new u.Graphics,this.resizeIcon=new u.Sprite.fromImage("res/actions/direction.png"),this.rightResizeButton=new u.Graphics,this.bottomResizeButton=new u.Graphics,this.rotateButton=new u.Graphics,this.instanceMeasurer=t,this.onResize=n,this.onResizeEnd=a,this.onRotate=o,this.onRotateEnd=s,this.toCanvasCoordinates=i,this.instancesSelection=e,this._screenType=r,this.pixiContainer.addChild(this.rectanglesContainer),this._makeButton(this.resizeButton,e=>{this.onResize(e.deltaX,e.deltaY)},()=>{this.onResizeEnd()},"nwse-resize"),this._makeButton(this.rightResizeButton,e=>{this.onResize(e.deltaX,0)},()=>{this.onResizeEnd()},"ew-resize"),this._makeButton(this.bottomResizeButton,e=>{this.onResize(0,e.deltaY)},()=>{this.onResizeEnd()},"ns-resize"),this._makeButton(this.rotateButton,e=>{this.onRotate(e.deltaX,e.deltaY)},()=>{this.onRotateEnd()},'url("res/actions/rotate24.png"),auto')}setScreenType(e){this._screenType=e}_makeButton(e,t,n,a){e.interactive=!0,e.buttonMode=!0,e.cursor=a,i.a.panable(e),e.on("panmove",t),e.on("panend",n),this.pixiContainer.addChild(e)}getPixiContainer(){return this.pixiContainer}_renderButton(e,t,n,a,o=0){t.clear(),e?(t.beginFill(16777215),t.lineStyle(1,6842600,1),t.fillAlpha=.9,0===o?t.drawRect(n[0],n[1],a,a):1===o&&t.drawCircle(n[0]+a/2,n[1]+a/2,a/2),t.endFill(),t.hitArea=new u.Rectangle(n[0],n[1],a,a)):t.hitArea=new u.Rectangle(0,0,0,0)}render(){const e="touch"===this._screenType?{buttonSize:18,smallButtonSize:13,buttonPadding:5}:{buttonSize:10,smallButtonSize:8,buttonPadding:5},t=e.buttonSize,n=e.smallButtonSize,a=e.buttonPadding;const o=this.instancesSelection.getSelectedInstances();let s=0,i=0,r=0,l=0;for(var c=0;c<o.length;c++){if(this.selectedRectangles.length===c){const e=new u.Graphics;e.hitArea=new u.Rectangle(0,0,0,0),this.selectedRectangles.push(e),this.rectanglesContainer.addChild(e)}const e=o[c],t=this.instanceMeasurer.getInstanceRect(e),n=p(this.toCanvasCoordinates,t);this.selectedRectangles[c].clear(),this.selectedRectangles[c].beginFill(6842600),this.selectedRectangles[c].lineStyle(1,6842600,1),this.selectedRectangles[c].fillAlpha=.3,this.selectedRectangles[c].alpha=.8,this.selectedRectangles[c].drawRect(n.x,n.y,n.width,n.height),this.selectedRectangles[c].endFill(),0===c?(s=t.x,i=t.y,r=t.x+t.width,l=t.y+t.height):(t.x<s&&(s=t.x),t.y<i&&(i=t.y),t.x+t.width>r&&(r=t.x+t.width),t.y+t.height>l&&(l=t.y+t.height))}for(;this.selectedRectangles.length>o.length;)this.rectanglesContainer.removeChild(this.selectedRectangles.pop());const d=0!==o.length,h=this.toCanvasCoordinates(r,l);h[0]+=a,h[1]+=a;const m=this.toCanvasCoordinates(r,i+(l-i)/2);m[0]+=a,m[1]-=n/2;const g=this.toCanvasCoordinates(s+(r-s)/2,l);g[0]-=n/2,g[1]+=a;const b=this.toCanvasCoordinates(s+(r-s)/2,i);b[0]-=n/2,b[1]-=4*a,this._renderButton(d,this.resizeButton,h,t),this._renderButton(d,this.rightResizeButton,m,n),this._renderButton(d,this.bottomResizeButton,g,n),this._renderButton(d,this.rotateButton,b,n,1)}}class g{constructor({instanceMeasurer:e,toCanvasCoordinates:t}){this.instanceMeasurer=e,this.toCanvasCoordinates=t,this.highlightedInstance=null,this.highlightRectangle=new u.Graphics,this.highlightRectangle.hitArea=new u.Rectangle(0,0,0,0),this.tooltipBackground=new u.Graphics,this.tooltipText=new u.Text("",{fontSize:15,fill:16777215,align:"center"}),this.highlightRectangle.addChild(this.tooltipBackground),this.highlightRectangle.addChild(this.tooltipText)}setInstance(e){this.highlightedInstance=e}getInstance(){return this.highlightedInstance}getPixiObject(e){return this.highlightRectangle}render(){if(null===this.highlightedInstance)return void(this.highlightRectangle.visible=!1);const e=p(this.toCanvasCoordinates,this.instanceMeasurer.getInstanceRect(this.highlightedInstance));this.highlightRectangle.visible=!0,this.highlightRectangle.clear(),this.highlightRectangle.beginFill(15658751),this.highlightRectangle.fillAlpha=.1,this.highlightRectangle.alpha=.8,this.highlightRectangle.lineStyle(1,0,1),this.highlightRectangle.drawRect(e.x,e.y,e.width,e.height),this.highlightRectangle.endFill();const t=this.highlightedInstance.getObjectName()+"\nX: "+parseInt(this.highlightedInstance.getX())+"  Y: "+parseInt(this.highlightedInstance.getY())+"\nLayer: "+this.highlightedInstance.getLayer()+"  Z: "+this.highlightedInstance.getZOrder()+"\n";this.tooltipText.text=t,this.tooltipText.x=Math.round(e.x-this.tooltipText.width/2+e.width/2),this.tooltipText.y=Math.round(e.y-this.tooltipText.height);this.tooltipBackground.clear(),this.tooltipBackground.beginFill(0,.8),this.tooltipBackground.drawRoundedRect(this.tooltipText.x-5,this.tooltipText.y-5,this.tooltipText.width+10,this.tooltipText.height-5,4),this.tooltipBackground.endFill()}}var b=n(1901);class f{constructor({instanceMeasurer:e,options:t}){this.instanceMeasurer=e,this.options=t,this.instanceSizes={},this.totalDeltaX=0,this.totalDeltaY=0}setOptions(e){this.options=e}_roundWidth(e){return!this.options.snap||!this.options.grid||this.options.gridWidth<=0?Math.max(Math.round(e),1):Math.max(Math.round(e/this.options.gridWidth)*this.options.gridWidth,1)}_roundHeight(e){return!this.options.snap||!this.options.grid||this.options.gridHeight<=0?Math.max(Math.round(e),1):Math.max(Math.round(e/this.options.gridHeight)*this.options.gridHeight,1)}_getSizeDeltaX(e,t){return e&&Math.abs(this.totalDeltaX)<Math.abs(this.totalDeltaY)?t.width/t.height*this.totalDeltaY:this.totalDeltaX}_getSizeDeltaY(e,t){return e&&Math.abs(this.totalDeltaY)<Math.abs(this.totalDeltaX)?t.height/t.width*this.totalDeltaX:this.totalDeltaY}resizeBy(e,t,n,a){this.totalDeltaX+=t,this.totalDeltaY+=n;for(let o=0;o<e.length;o++){const t=e[o];t.hasCustomSize()||(t.setCustomWidth(this.instanceMeasurer.getInstanceWidth(t)),t.setCustomHeight(this.instanceMeasurer.getInstanceHeight(t)));let n=this.instanceSizes[t.ptr];n||(n=this.instanceSizes[t.ptr]={width:t.getCustomWidth(),height:t.getCustomHeight()}),t.setHasCustomSize(!0),t.setCustomWidth(this._roundWidth(n.width+this._getSizeDeltaX(a,n))),t.setCustomHeight(this._roundHeight(n.height+this._getSizeDeltaY(a,n)))}}endResize(){this.instanceSizes={},this.totalDeltaX=0,this.totalDeltaY=0}}class E{constructor(){this.instanceAngles={},this.totalDeltaX=0,this.totalDeltaY=0}_getNewAngle(e,t){const n=180*Math.atan2(this.totalDeltaY,this.totalDeltaX)/Math.PI+t;return e?15*Math.round(n/15):n}rotateBy(e,t,n,a){this.totalDeltaX+=t,this.totalDeltaY+=n;for(let o=0;o<e.length;o++){const t=e[o];let n=this.instanceAngles[t.ptr];void 0===n&&(n=this.instanceAngles[t.ptr]=t.getAngle()),t.setAngle(this._getNewAngle(a,n))}}endRotate(){this.instanceAngles={},this.totalDeltaX=0,this.totalDeltaY=0}}var v=n(866);class y{constructor({instanceMeasurer:e,options:t}){this.instanceMeasurer=e,this.options=t,this.instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0}setOptions(e){this.options=e}_roundXPosition(e,t){return this.options.snap&&this.options.grid&&!t?Object(v.a)(e,this.options.gridWidth,this.options.gridOffsetX):Math.round(e)}_roundYPosition(e,t){return this.options.snap&&this.options.grid&&!t?Object(v.a)(e,this.options.gridHeight,this.options.gridOffsetY):Math.round(e)}_getMoveDeltaX(e){return e&&Math.abs(this.totalDeltaX)<Math.abs(this.totalDeltaY)?0:this.totalDeltaX}_getMoveDeltaY(e){return e&&Math.abs(this.totalDeltaY)<Math.abs(this.totalDeltaX)?0:this.totalDeltaY}moveBy(e,t,n,a,o){this.totalDeltaX+=t,this.totalDeltaY+=n;for(var s=0;s<e.length;s++){const t=e[s];let n=this.instancePositions[t.ptr];n||(n=this.instancePositions[t.ptr]={x:t.getX(),y:t.getY()}),t.setX(this._roundXPosition(n.x+this._getMoveDeltaX(a),o)),t.setY(this._roundYPosition(n.y+this._getMoveDeltaY(a),o))}}endMove(){this.instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0}}class C{constructor({viewPosition:e,options:t}){this.viewPosition=e,this.options=t,this.pixiGrid=new u.Graphics,this.pixiGrid.hitArea=new u.Rectangle(0,0,0,0)}setOptions(e){this.options=e}getPixiObject(){return this.pixiGrid}render(){const e=this.options;if(!e.grid)return void(this.pixiGrid.visible=!1);this.pixiGrid.visible=!0,this.pixiGrid.clear(),this.pixiGrid.beginFill(6842600),this.pixiGrid.lineStyle(1,6842600,1),this.pixiGrid.fillAlpha=.1,this.pixiGrid.alpha=.8;const t=this.viewPosition.toSceneCoordinates(0,0),n=this.viewPosition.toSceneCoordinates(this.viewPosition.getWidth(),this.viewPosition.getHeight()),a=Math.floor(t[0]/e.gridWidth)*e.gridWidth,o=Math.floor(t[1]/e.gridHeight)*e.gridHeight,s=Math.ceil(n[0]/e.gridWidth)*e.gridWidth,i=Math.ceil(n[1]/e.gridHeight)*e.gridHeight;for(let r=a+e.gridOffsetX;r<s;r+=e.gridWidth){const e=this.viewPosition.toCanvasCoordinates(r,o),t=this.viewPosition.toCanvasCoordinates(r,i);this.pixiGrid.moveTo(e[0],e[1]),this.pixiGrid.lineTo(t[0],t[1])}for(let r=o+e.gridOffsetY;r<i;r+=e.gridHeight){const e=this.viewPosition.toCanvasCoordinates(a,r),t=this.viewPosition.toCanvasCoordinates(s,r);this.pixiGrid.moveTo(e[0],e[1]),this.pixiGrid.lineTo(t[0],t[1])}this.pixiGrid.endFill()}}var x=n(242);class j{constructor({project:e,layout:t,toCanvasCoordinates:n}){this.project=e,this.layout=t,this.toCanvasCoordinates=n,this.pixiRectangle=new u.Graphics,this.pixiRectangle.hitArea=new u.Rectangle(0,0,0,0),this.windowRectangle={x:0,y:0,width:this.project.getGameResolutionWidth(),height:this.project.getGameResolutionHeight()}}getPixiObject(){return this.pixiRectangle}render(){this.windowRectangle.width=this.project.getGameResolutionWidth(),this.windowRectangle.height=this.project.getGameResolutionHeight();const e=p(this.toCanvasCoordinates,this.windowRectangle);this.pixiRectangle.clear(),this.pixiRectangle.beginFill(0),this.pixiRectangle.lineStyle(1,Object(x.c)(128+this.layout.getBackgroundColorRed()%256,128+this.layout.getBackgroundColorBlue()%256,128+this.layout.getBackgroundColorGreen()%256),1),this.pixiRectangle.alpha=1,this.pixiRectangle.fillAlpha=0,this.pixiRectangle.drawRect(e.x,e.y,e.width,e.height),this.pixiRectangle.endFill()}}class S{constructor({project:e,viewPosition:t,options:n}){this.project=e,this.viewPosition=t,this.options=n,this.pixiRectangle=new u.Graphics,this.pixiRectangle.hitArea=new u.Rectangle(0,0,0,0),this.windowRectangle={x:0,y:0,width:0,height:0}}setOptions(e){this.options=e}getPixiObject(){return this.pixiRectangle}render(){if(!this.options.windowMask)return void(this.pixiRectangle.visible=!1);const e=this.project.getGameResolutionWidth(),t=this.project.getGameResolutionHeight();this.windowRectangle.x=this.viewPosition.getViewX()-e/2,this.windowRectangle.y=this.viewPosition.getViewY()-t/2,this.windowRectangle.width=e,this.windowRectangle.height=t;const n=p(this.viewPosition.toCanvasCoordinates,this.windowRectangle);this.pixiRectangle.visible=!0,this.pixiRectangle.clear(),this.pixiRectangle.beginFill(0),this.pixiRectangle.lineStyle(1,0,1),this.pixiRectangle.alpha=1,this.pixiRectangle.fillAlpha=0,this.pixiRectangle.drawRect(n.x,n.y,n.width,n.height),this.pixiRectangle.endFill()}}class T{constructor({layout:e,pixiRenderer:t}){this.layout=e,this.pixiRenderer=t}render(){this.pixiRenderer.backgroundColor=parseInt(parseInt(Object(x.b)(this.layout.getBackgroundColorRed(),this.layout.getBackgroundColorGreen(),this.layout.getBackgroundColorBlue()),16),10)}}class O{constructor(e){this._lastFrameTime=Date.now(),this._interval=1e3/e,this._forceUpdate=!1}shouldUpdate(){const e=Date.now(),t=e-this._lastFrameTime;return!!(t>this._interval||this._forceUpdate)&&(this._lastFrameTime=e-t%this._interval,this._forceUpdate=!1,!0)}forceNextUpdate(){this._forceUpdate=!0}}const w=()=>{const e=u.ticker&&u.ticker.shared;e&&e.stop()};var N=n(136);class _{constructor({getLastCursorSceneCoordinates:e,width:t,height:n}){this._getLastCursorSceneCoordinates=e,this._statusBarContainer=new u.Container,this._statusBarContainer.alpha=.8,this._statusBarContainer.hitArea=new u.Rectangle(0,0,0,0),this._statusBarBackground=new u.Graphics,this._statusBarText=new u.Text("",{fontSize:15,fill:16777215,align:"left"}),this._statusBarContainer.addChild(this._statusBarBackground),this._statusBarContainer.addChild(this._statusBarText),this.resize(t,n)}resize(e,t){this._width=e,this._height=t}getPixiObject(){return this._statusBarContainer}render(){const e=this._getLastCursorSceneCoordinates(),t=Object(N.a)(e,2),n=t[0],a=t[1];this._statusBarText.text="".concat(n.toFixed(0),";").concat(a.toFixed(0)),this._statusBarText.position.x=5,this._statusBarText.position.y=Math.round(this._height-5-this._statusBarText.height),this._statusBarBackground.clear(),this._statusBarBackground.beginFill(0,.8),this._statusBarBackground.drawRoundedRect(-4,this._height-10-this._statusBarText.height,this._statusBarText.width+10+4,this._statusBarText.height+10+4,4),this._statusBarBackground.endFill()}}class k{constructor({canvas:e,shouldMoveView:t}){this.canvas=e,this.shouldMoveView=t}render(){if(this.shouldMoveView())return this.canvas.style.cursor="grab",void("grab"!==this.canvas.style.cursor&&(this.canvas.style.cursor="-webkit-grab"));this.canvas.style.cursor="default"}}var P=n(1902),I=n(796),F=n(912),B=n(865);n.d(t,"a",(function(){return D}));const M={canvasArea:{flex:1,position:"absolute",overflow:"hidden"},dropCursor:{cursor:"copy"}},R=Object(I.a)(F.b);class D extends a.Component{constructor(...e){super(...e),this.lastContextMenuX=0,this.lastContextMenuY=0,this.lastCursorX=0,this.lastCursorY=0,this.fpsLimiter=new O(28),this._unmounted=!1,this._renderingPaused=!1,this.getZoomFactor=()=>this.props.options.zoomFactor,this.setZoomFactor=e=>{this.props.onChangeOptions({zoomFactor:Math.max(Math.min(e,10),.01)})},this.addInstances=(e,t)=>{this._instancesAdder.addInstances(e,t)},this._onMouseMove=(e,t)=>{this.lastCursorX=e,this.lastCursorY=t},this._onBackgroundClicked=(e,t)=>{this.lastCursorX=e,this.lastCursorY=t,this.pixiRenderer.view.focus(),this.keyboardShortcuts.shouldMoveView()||this.selectionRectangle.startSelectionRectangle(e,t),this.keyboardShortcuts.shouldMultiSelect()||this.keyboardShortcuts.shouldMoveView()||(this.props.instancesSelection.clearSelection(),this.props.onInstancesSelected([]))},this._onPanMove=(e,t,n,a)=>{if(this.keyboardShortcuts.shouldMoveView()){const n=e/this.getZoomFactor(),a=t/this.getZoomFactor();this.viewPosition.scrollBy(-n,-a),this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition)}else this.selectionRectangle.updateSelectionRectangle(n,a)},this._getLayersVisibility=()=>{const e=this.props.layout,t={};for(let n=0;n<e.getLayersCount();n++)t[e.getLayerAt(n).getName()]=e.getLayerAt(n).getVisibility();return t},this._onPanEnd=()=>{if(this.selectionRectangle.hasStartedSelectionRectangle()){let e=this.selectionRectangle.endSelectionRectangle();this.props.instancesSelection.selectInstances(e,this.keyboardShortcuts.shouldMultiSelect(),this._getLayersVisibility()),e=this.props.instancesSelection.getSelectedInstances(),this.props.onInstancesSelected(e)}},this._onInstanceClicked=e=>{this.pixiRenderer.view.focus()},this._onInstanceDoubleClicked=e=>{this.props.onInstanceDoubleClicked(e)},this._onOverInstance=e=>{this.highlightedInstance.setInstance(e)},this._onDownInstance=e=>{if(!this.keyboardShortcuts.shouldMoveView())if(this.keyboardShortcuts.shouldCloneInstances()){const e=this.props.instancesSelection.getSelectedInstances();for(var t=0;t<e.length;t++){const n=e[t];this.props.initialInstances.insertInitialInstance(n)}}else this.props.instancesSelection.selectInstance(e,this.keyboardShortcuts.shouldMultiSelect(),this._getLayersVisibility()),this.props.onInstancesSelected&&this.props.onInstancesSelected(this.props.instancesSelection.getSelectedInstances())},this._onOutInstance=e=>{e===this.highlightedInstance.getInstance()&&this.highlightedInstance.setInstance(null)},this._onMoveInstance=(e,t,n)=>{const a=t/this.getZoomFactor(),o=n/this.getZoomFactor();if(this.keyboardShortcuts.shouldMoveView())return this.viewPosition.scrollBy(-a,-o),void(this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition));this.props.instancesSelection.isInstanceSelected(e)||this._onInstanceClicked(e);const s=this.props.instancesSelection.getSelectedInstances();this.instancesMover.moveBy(s,a,o,this.keyboardShortcuts.shouldFollowAxis(),this.keyboardShortcuts.shouldNotSnapToGrid())},this._onMoveInstanceEnd=()=>{this.instancesMover.endMove();const e=this.props.instancesSelection.getSelectedInstances();this.props.onInstancesMoved(e)},this._onResize=(e,t)=>{const n=e/this.getZoomFactor(),a=t/this.getZoomFactor(),o=this.props.instancesSelection.getSelectedInstances();this.instancesResizer.resizeBy(o,n,a,this.keyboardShortcuts.shouldResizeProportionally())},this._onResizeEnd=()=>{this.instancesResizer.endResize();const e=this.props.instancesSelection.getSelectedInstances();this.props.onInstancesResized(e)},this._onRotate=(e,t)=>{const n=e/this.getZoomFactor(),a=t/this.getZoomFactor(),o=this.props.instancesSelection.getSelectedInstances();this.instancesRotator.rotateBy(o,n,a,this.keyboardShortcuts.shouldResizeProportionally())},this._onRotateEnd=()=>{this.instancesRotator.endRotate();const e=this.props.instancesSelection.getSelectedInstances();this.props.onInstancesRotated(e)},this.clearHighlightedInstance=()=>{this.highlightedInstance.setInstance(null)},this.moveSelection=(e,t)=>{const n=this.props.instancesSelection.getSelectedInstances();n.forEach(n=>{n.setX(n.getX()+e),n.setY(n.getY()+t)}),this.props.onInstancesMoved(n)},this.getLastContextMenuSceneCoordinates=()=>this.viewPosition.toSceneCoordinates(this.lastContextMenuX,this.lastContextMenuY),this.getLastCursorSceneCoordinates=()=>this.viewPosition.toSceneCoordinates(this.lastCursorX,this.lastCursorY),this.getViewPosition=()=>this.viewPosition,this._renderScene=()=>{this._unmounted||this._renderingPaused||(this.fpsLimiter.shouldUpdate()&&(this.backgroundColor.render(),this.viewPosition.render(),this.canvasCursor.render(),this.grid.render(),this.instancesRenderer.render(),this.highlightedInstance.render(),this.selectedInstances.render(),this.selectionRectangle.render(),this.windowBorder.render(),this.windowMask.render(),this.statusBar.render(),this.pixiRenderer.render(this.pixiContainer)),this.nextFrame=requestAnimationFrame(this._renderScene))},this.pauseSceneRendering=()=>{this.nextFrame&&cancelAnimationFrame(this.nextFrame),this._renderingPaused=!0,w()},this.restartSceneRendering=()=>{this._renderingPaused=!1,this._renderScene(),setTimeout(()=>{const e=u.ticker&&u.ticker.shared;e&&e.start()},50)}}componentDidMount(){this.canvasArea&&!this.pixiRenderer&&this._initializeCanvasAndRenderer()}componentDidUpdate(){this.canvasArea&&!this.pixiRenderer&&this._initializeCanvasAndRenderer()}_initializeCanvasAndRenderer(){const e=this.canvasArea;if(!e)return;const t=this.props.project;u.glCore.VertexArrayObject.FORCE_NATIVE=!0,this.pixiRenderer=u.autoDetectRenderer(this.props.width,this.props.height,{preserveDrawingBuffer:!0,antialias:!1}),e.appendChild(this.pixiRenderer.view),this.pixiRenderer.view.addEventListener("contextmenu",e=>(e.preventDefault(),this.lastContextMenuX=e.offsetX,this.lastContextMenuY=e.offsetY,this.props.onContextMenu&&this.props.onContextMenu(e.clientX,e.clientY),!1)),this.pixiRenderer.view.onmousewheel=e=>{this.keyboardShortcuts.shouldZoom()?this.zoomBy(e.wheelDelta/5e3):this.keyboardShortcuts.shouldScrollHorizontally()?this.viewPosition.scrollBy(-e.wheelDelta/10,0):this.viewPosition.scrollBy(e.deltaX/10,e.deltaY/10),this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition),e.preventDefault()},this.pixiRenderer.view.setAttribute("tabIndex",-1),this.pixiRenderer.view.addEventListener("focus",e=>{this.keyboardShortcuts.focus()}),this.pixiRenderer.view.addEventListener("blur",e=>{this.keyboardShortcuts.blur()}),this.pixiRenderer.view.addEventListener("mouseover",e=>{this.keyboardShortcuts.focus()}),this.pixiRenderer.view.addEventListener("mouseout",e=>{this.keyboardShortcuts.blur()}),this.pixiContainer=new u.Container,this.backgroundArea=new u.Container,this.backgroundArea.hitArea=new u.Rectangle(0,0,this.props.width,this.props.height),i.a.panable(this.backgroundArea),this.backgroundArea.on("mousedown",e=>this._onBackgroundClicked(e.data.global.x,e.data.global.y)),this.backgroundArea.on("touchstart",e=>{Object(B.b)(e.data&&e.data.originalEvent)||this._onBackgroundClicked(e.data.global.x,e.data.global.y)}),this.backgroundArea.on("mousemove",e=>this._onMouseMove(e.data.global.x,e.data.global.y)),this.backgroundArea.on("panmove",e=>this._onPanMove(e.deltaX,e.deltaY,e.data.global.x,e.data.global.y)),this.backgroundArea.on("panend",e=>this._onPanEnd()),this.pixiContainer.addChild(this.backgroundArea),this.viewPosition=new h.a({initialViewX:t?t.getGameResolutionWidth()/2:0,initialViewY:t?t.getGameResolutionHeight()/2:0,width:this.props.width,height:this.props.height,options:this.props.options}),this.pixiContainer.addChild(this.viewPosition.getPixiContainer()),this.grid=new C({viewPosition:this.viewPosition,options:this.props.options}),this.pixiContainer.addChild(this.grid.getPixiObject()),this.keyboardShortcuts=new l({onDelete:this.props.onDeleteSelection,onMove:this.moveSelection,onCopy:this.props.onCopy,onCut:this.props.onCut,onPaste:this.props.onPaste,onUndo:this.props.onUndo,onRedo:this.props.onRedo,onZoomOut:this.props.onZoomOut,onZoomIn:this.props.onZoomIn}),this.pinchHandler=new B.a({canvas:this.pixiRenderer.view,setZoomFactor:this.setZoomFactor,getZoomFactor:this.getZoomFactor,viewPosition:this.viewPosition}),this.canvasCursor=new k({canvas:e,shouldMoveView:()=>this.keyboardShortcuts.shouldMoveView()}),this._instancesAdder=new P.a({instances:this.props.initialInstances,options:this.props.options}),this._mountEditorComponents(this.props),this._renderScene()}forceRemount(){this._mountEditorComponents(this.props)}_mountEditorComponents(e){this.highlightedInstance&&this.pixiContainer.removeChild(this.highlightedInstance.getPixiObject()),this.selectedInstances&&this.pixiContainer.removeChild(this.selectedInstances.getPixiContainer()),this.instancesRenderer&&(this.viewPosition.getPixiContainer().removeChild(this.instancesRenderer.getPixiContainer()),this.instancesRenderer.delete()),this.selectionRectangle&&(this.pixiContainer.removeChild(this.selectionRectangle.getPixiObject()),this.selectionRectangle.delete()),this.windowBorder&&this.pixiContainer.removeChild(this.windowBorder.getPixiObject()),this.windowMask&&this.pixiContainer.removeChild(this.windowMask.getPixiObject()),this.statusBar&&this.pixiContainer.removeChild(this.statusBar.getPixiObject()),this.backgroundColor=new T({layout:e.layout,pixiRenderer:this.pixiRenderer}),this.instancesRenderer=new d({project:e.project,layout:e.layout,instances:e.initialInstances,viewPosition:this.viewPosition,onOverInstance:this._onOverInstance,onMoveInstance:this._onMoveInstance,onMoveInstanceEnd:this._onMoveInstanceEnd,onDownInstance:this._onDownInstance,onOutInstance:this._onOutInstance,onInstanceClicked:this._onInstanceClicked,onInstanceDoubleClicked:this._onInstanceDoubleClicked}),this.selectionRectangle=new b.a({instances:e.initialInstances,instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toSceneCoordinates:this.viewPosition.toSceneCoordinates}),this.selectedInstances=new m({instancesSelection:this.props.instancesSelection,onResize:this._onResize,onResizeEnd:this._onResizeEnd,onRotate:this._onRotate,onRotateEnd:this._onRotateEnd,instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toCanvasCoordinates:this.viewPosition.toCanvasCoordinates,screenType:this.props.screenType}),this.highlightedInstance=new g({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toCanvasCoordinates:this.viewPosition.toCanvasCoordinates}),this.instancesResizer=new f({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),options:this.props.options}),this.instancesRotator=new E,this.instancesMover=new y({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),options:this.props.options}),this.windowBorder=new j({project:e.project,layout:e.layout,toCanvasCoordinates:this.viewPosition.toCanvasCoordinates}),this.windowMask=new S({project:e.project,viewPosition:this.viewPosition,options:this.props.options}),this.statusBar=new _({width:this.props.width,height:this.props.height,getLastCursorSceneCoordinates:this.getLastCursorSceneCoordinates}),this.pixiContainer.addChild(this.selectionRectangle.getPixiObject()),this.viewPosition.getPixiContainer().addChild(this.instancesRenderer.getPixiContainer()),this.pixiContainer.addChild(this.windowBorder.getPixiObject()),this.pixiContainer.addChild(this.windowMask.getPixiObject()),this.pixiContainer.addChild(this.selectedInstances.getPixiContainer()),this.pixiContainer.addChild(this.highlightedInstance.getPixiObject()),this.pixiContainer.addChild(this.statusBar.getPixiObject())}componentWillUnmount(){this._unmounted=!0,this.keyboardShortcuts.unmount(),this.selectionRectangle.delete(),this.instancesRenderer.delete(),this._instancesAdder.unmount(),this.pinchHandler.unmount(),this.nextFrame&&cancelAnimationFrame(this.nextFrame),w()}componentWillReceiveProps(e){e.width===this.props.width&&e.height===this.props.height||(this.pixiRenderer.resize(e.width,e.height),this.viewPosition.resize(e.width,e.height),this.statusBar.resize(e.width,e.height),this.backgroundArea.hitArea=new u.Rectangle(0,0,e.width,e.height),this.fpsLimiter.forceNextUpdate(),this._renderScene()),e.options!==this.props.options&&(this.grid.setOptions(e.options),this.instancesMover.setOptions(e.options),this.instancesResizer.setOptions(e.options),this.windowMask.setOptions(e.options),this.viewPosition.setOptions(e.options),this._instancesAdder.setOptions(e.options)),e.screenType!==this.props.screenType&&this.selectedInstances.setScreenType(this.props.screenType),this.props.layout===e.layout&&this.props.initialInstances===e.initialInstances&&this.props.project===e.project||this._mountEditorComponents(e),e.pauseRendering&&!this.props.pauseRendering&&this.pauseSceneRendering(),!e.pauseRendering&&this.props.pauseRendering&&this.restartSceneRendering()}resetRenderersFor(e){this.instancesRenderer&&this.instancesRenderer.resetRenderersFor(e)}zoomBy(e){this.setZoomFactor(this.getZoomFactor()+e)}scrollTo(e,t){this.viewPosition.scrollTo(e,t)}centerView(){const e=this.props.project.getGameResolutionWidth()/2,t=this.props.project.getGameResolutionHeight()/2;this.viewPosition.scrollTo(e,t)}centerViewOn(e){e.length&&(this.viewPosition.scrollToInstance(e[e.length-1]),this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition))}render(){return this.props.project?o.a.createElement(R,{canDrop:()=>!0,hover:e=>{const t=this._instancesAdder,n=this.viewPosition,a=this.canvasArea;if(!t||!a||!n)return;const o=e.getClientOffset(),s=o.x,i=o.y,r=a.getBoundingClientRect(),l=n.toSceneCoordinates(s-r.left,i-r.top);t.createOrUpdateTemporaryInstancesFromObjectNames(l,this.props.selectedObjectNames)},drop:e=>{const t=this._instancesAdder,n=this.viewPosition,a=this.canvasArea;if(!t||!a||!n)return;if(e.didDrop())return void t.deleteTemporaryInstances();const o=e.getClientOffset(),s=o.x,i=o.y,r=a.getBoundingClientRect(),l=n.toSceneCoordinates(s-r.left,i-r.top);t.updateTemporaryInstancePositions(l),t.commitTemporaryInstances(),this.props.onInstancesAdded()}},({connectDropTarget:e,isOver:t})=>(this._instancesAdder&&!t&&this._instancesAdder.deleteTemporaryInstances(),e(o.a.createElement("div",{ref:e=>this.canvasArea=e,style:M.canvasArea})))):null}}},906:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n(78),i=n(264),r=n(232),l=n(272);class c extends o.PureComponent{render(){const e=this.props,t=e.onPlay,n=e.onPause,a=e.canPlay,s=e.canPause,c=e.onOpenProfiler;return o.createElement(i.b,{lastChild:!0},o.createElement(r.a,{onClick:t,src:"res/ribbon_default/preview32.png",disabled:!a,tooltip:{id:"Play the game"}}),o.createElement(r.a,{onClick:n,src:"res/ribbon_default/pause32.png",disabled:!s,tooltip:{id:"Pause the game"}}),o.createElement(l.a,null),o.createElement(r.a,{onClick:c,src:"res/ribbon_default/profiler32.png",tooltip:{id:"Open the performance profiler"}}))}}var u=c,d=n(380),h=n(124),p=n(474),m=n.n(p),g=n(84),b=n(75),f=n(100);const E={container:{flex:1,display:"flex"},list:{overflowY:"scroll",flex:1}};class v extends o.Component{_renderInspectorList(e,t,n){return t(e).map(t=>{if(!t)return null;const a=n.concat(t.key),s=t.getSubInspectors;return o.createElement(f.b,{key:a.join("."),primaryText:t.label,initiallyOpen:!!t.initiallyOpen,onClick:()=>this.props.onChooseInspector(t,a),renderNestedItems:s?()=>this._renderInspectorList(m()(e,t.key,null),s,a):void 0})})}render(){return this.props.gameData?o.createElement(f.a,{style:E.list},this._renderInspectorList(this.props.gameData,this.props.getInspectorDescriptions,[])):null}}var y=n(393),C=n.n(y),x=n(849),j=n.n(x);const S=e=>e?e._isStructure?e._children?j()(e._children,S):null:e._stringDirty?e._value:e._str:null;var T=e=>{return o.createElement(C.a,{collapsed:!1,name:!1,src:e.variablesContainer?(t=e.variablesContainer,t&&t._variables&&t._variables.items?j()(t._variables.items,S):null):null,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:t=>((e,{onCall:t,onEdit:n})=>{const a=["_variables","items"];return e.namespace.forEach(e=>{a.push(e),a.push("_children")}),a.push(e.name),parseFloat(e.new_value).toString()===e.new_value?(a.push("setNumber"),t(a,[parseFloat(e.new_value)])):(a.push("setString"),t(a,[""+e.new_value])),!0})(t,e),groupArraysAfterLength:50,theme:"monokai"});var t},O=n(83);var w=e=>{return o.createElement(o.Fragment,null,o.createElement(O.a,null,o.createElement(a.Trans,{id:"General:"})),o.createElement(C.a,{collapsed:!1,name:!1,src:(t=e.runtimeObject,t?{"X position":t.x,"Y position":t.y,Angle:t.angle,Layer:t.layer,"Z order":t.zOrder,"Is hidden?":t.hidden}:null),enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:t=>((e,{onCall:t,onEdit:n})=>{if("X position"===e.name)t(["setX"],[parseFloat(e.new_value)]);else if("Y position"===e.name)t(["setY"],[parseFloat(e.new_value)]);else if("Angle"===e.name)t(["setAngle"],[parseFloat(e.new_value)]);else if("Layer"===e.name)t(["setLayer"],[e.new_value]);else if("Z order"===e.name)t(["setZOrder"],[parseFloat(e.new_value)]);else{if("Is hidden?"!==e.name)return!1;t(["hide"],[!!e.new_value])}return!0})(t,e),groupArraysAfterLength:50,theme:"monokai"}),o.createElement(O.a,null,o.createElement(a.Trans,{id:"Instance variables:"})),o.createElement(T,{variablesContainer:e.runtimeObject?e.runtimeObject._variables:null,onEdit:(t,n)=>e.onEdit(["_variables"].concat(t),n),onCall:(t,n)=>e.onCall(["_variables"].concat(t),n)}));var t},N=n(105),_=n(162);const k=e=>e?{"Camera rotation (in deg)":e._cameraRotation,"Camera zoom":e._zoomFactor,"Layer is hidden":!!e._hidden,"Camera X position":e._cameraX,"Camera Y position":e._cameraY,"Time scale":e._timeScale}:null,P=e=>e?{"Time scale":e._timeManager?e._timeManager._timeScale:null,Layers:e._layers&&e._layers.items?j()(e._layers.items,k):null}:null;class I extends o.Component{constructor(...e){super(...e),this.state={newObjectName:""}}render(){const e=this.props,t=e.runtimeScene,n=e.onCall;return t?o.createElement(o.Fragment,null,o.createElement(O.a,null,o.createElement(a.Trans,{id:"Layers:"})),o.createElement(C.a,{collapsed:!1,name:!1,src:P(t),enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:e=>((e,{onCall:t,onEdit:n})=>{if(0===e.namespace.length&&"Time scale"===e.name)t(["_timeManager","setTimeScale"],[parseFloat(e.new_value)]);else{if(!(e.namespace.length>=2))return!1;"Layers"===e.namespace[0]&&("Camera rotation (in deg)"===e.name?t(["_layers","items",e.namespace[1],"setCameraRotation"],[parseFloat(e.new_value)]):"Camera zoom"===e.name?t(["_layers","items",e.namespace[1],"setCameraZoom"],[parseFloat(e.new_value)]):"Layer is hidden"===e.name?t(["_layers","items",e.namespace[1],"show"],[!e.new_value]):"Camera X position"===e.name?t(["_layers","items",e.namespace[1],"setCameraX"],[parseFloat(e.new_value)]):"Camera Y position"===e.name?t(["_layers","items",e.namespace[1],"setCameraY"],[parseFloat(e.new_value)]):"Time scale"===e.name&&t(["_layers","items",e.namespace[1],"setTimeScale"],[parseFloat(e.new_value)]))}return!0})(e,this.props),groupArraysAfterLength:50,theme:"monokai"}),o.createElement(O.a,null,o.createElement(a.Trans,{id:"Create a new instance on the scene (will be at position 0;0):"})),t._objects&&t._objects.items&&o.createElement(N.c,{noFloatingLabelText:!0,renderTextField:()=>o.createElement(_.a,{hintText:{id:"Enter the name of the object"},value:this.state.newObjectName,onChange:e=>{this.setState({newObjectName:e})},dataSource:Object.keys(t._objects.items).map(e=>({text:e,value:e})),openOnFocus:!0,fullWidth:!0}),renderButton:e=>o.createElement(g.a,{style:e,label:o.createElement(a.Trans,{id:"Create"}),primary:!0,onClick:()=>{n(["createObject"],[this.state.newObjectName])}})})):null}}const F=e=>[{label:"Global variables",key:"_variables",renderInspector:(e,{onCall:t,onEdit:n})=>o.createElement(T,{variablesContainer:e,onCall:t,onEdit:n})},{label:"Scenes",key:["_sceneStack","_stack"],renderInspector:()=>null,initiallyOpen:!0,getSubInspectors:e=>e?e.map((e,t)=>({label:e._name,key:t,renderInspector:(e,{onCall:t,onEdit:n})=>o.createElement(I,{runtimeScene:e,onCall:t,onEdit:n}),initiallyOpen:!0,getSubInspectors:e=>[{label:"Scene variables",key:"_variables",renderInspector:(e,{onCall:t,onEdit:n})=>o.createElement(T,{variablesContainer:e,onCall:t,onEdit:n})},{label:"Instances",key:"_instances",renderInspector:()=>null,initiallyOpen:!0,getSubInspectors:e=>e&&e.items?Object.keys(e.items).map(t=>e.items[t]&&void 0!==typeof e.items[t].length?{label:"".concat(t," (").concat(e.items[t].length,")"),key:["items",t],renderInspector:()=>null,getSubInspectors:e=>e?e.filter(e=>!!e).map((e,t)=>({label:"#".concat(e.id),key:t,renderInspector:(e,{onCall:t,onEdit:n})=>o.createElement(w,{runtimeObject:e,onCall:t,onEdit:n})})):[]}:null):[]}]})):[]}];var B=n(92),M=({gameData:e,onEdit:t})=>o.createElement(o.Fragment,null,o.createElement(B.a,null,o.createElement(a.Trans,{id:"You are in raw mode. You can edit the fields, but be aware that this can lead to unexpected results or even crash the debugged game!"})),o.createElement(C.a,{collapsed:1,name:!1,src:e,onEdit:e=>t(e.namespace.concat(e.name),e.new_value),groupArraysAfterLength:50,theme:"monokai"})),R=n(145),D=n(1877),L=n.n(D),A=n(1878),U=n.n(A),V=n(111),W=n(198),G=n(101),z=n(1874),H=n.n(z),Y=n(104),K=n(598),X=n.n(K),q=n(800),J=n.n(q);const Z={indent:{display:"flex",alignItems:"center"}};class Q extends o.Component{constructor(...e){super(...e),this.state={collapsedPaths:{}},this._convertToDataRows=(e,t,n,a=0,o="")=>{const s=this.props.profilerMeasures,i=t&&n.time&&0!==t.time?n.time/t.time*100:100,r=s&&n.time&&0!==s.time?n.time/s.time*100:100,l=this._isSectionCollapsed(o);return[{name:e,time:n.time?"".concat(n.time.toFixed(2),"ms"):"?",parentPercent:"".concat(i.toFixed(2),"%"),totalPercent:"".concat(r.toFixed(2),"%"),depth:a,hasSubsections:!!Object.keys(n.subsections).length,path:o,isCollapsed:l},...l?[]:H()(n.subsections,(e,t)=>this._convertToDataRows(t,n,e,a+1,"".concat(o,">").concat(a,".").concat(t)))]},this._isSectionCollapsed=e=>this.state.collapsedPaths[e],this._toggleSection=e=>{this.setState(t=>({collapsedPaths:Object(s.a)({},t.collapsedPaths,{[e]:!t.collapsedPaths[e]})}))},this._rowClassName=({index:e})=>e<0?"tableHeaderRow":e%2===0?"tableEvenRow":"tableOddRow",this._renderSectionNameCell=({rowData:e})=>o.createElement("div",{style:Z.indent},o.createElement("div",{style:{width:8*e.depth}}),e.hasSubsections?o.createElement(Y.a,{onClick:()=>this._toggleSection(e.path)},e.isCollapsed?o.createElement(J.a,null):o.createElement(X.a,null)):o.createElement("div",{style:{width:24}}),e.name)}render(){const e=this.props.profilerMeasures;if(!e)return null;const t=this._convertToDataRows("All",null,e);return o.createElement(G.a,null,e=>o.createElement(W.a,null,({height:n,width:s})=>o.createElement(W.d,{headerHeight:30,height:n,className:e.tableRootClassName,headerClassName:"tableHeaderColumn",rowCount:t.length,rowGetter:({index:e})=>t[e],rowHeight:35,onRowClick:()=>{},rowClassName:this._rowClassName,width:s},o.createElement(W.b,{label:o.createElement(a.Trans,{id:"Section name"}),dataKey:"name",width:.4*s,className:"tableColumn",cellRenderer:this._renderSectionNameCell}),o.createElement(W.b,{label:o.createElement(a.Trans,{id:"Time (ms)"}),dataKey:"time",width:.2*s,className:"tableColumn"}),o.createElement(W.b,{label:o.createElement(a.Trans,{id:"% of parent"}),dataKey:"parentPercent",width:.2*s,className:"tableColumn"}),o.createElement(W.b,{label:o.createElement(a.Trans,{id:"% of total"}),dataKey:"totalPercent",width:.2*s,className:"tableColumn"}))))}}var $=n(2406);const ee={tableContainer:{flex:1}};class te extends o.Component{render(){const e=this.props,t=e.onStart,n=e.onStop,s=e.profilerOutput,i=e.profilingInProgress;return o.createElement(h.a,null,o.createElement(b.b,{alignItems:"center",justifyContent:"center"},!i&&s&&o.createElement(O.a,null,o.createElement(a.Trans,{id:"Last run collected on {0} frames.",values:{0:s.stats.framesCount}})),!i&&s&&o.createElement(g.a,{label:o.createElement(a.Trans,{id:"Restart"}),onClick:t}),!i&&!s&&o.createElement(g.a,{label:o.createElement(a.Trans,{id:"Start profiling"}),onClick:t}),i&&o.createElement(g.a,{label:o.createElement(a.Trans,{id:"Stop profiling"}),onClick:n})),i&&o.createElement(b.b,{alignItems:"center"},o.createElement($.a,{style:{flex:1},variant:"indeterminate"})),o.createElement("div",{style:ee.tableContainer},s&&o.createElement(Q,{profilerMeasures:s.framesAverageMeasures}),!s&&o.createElement(B.a,null,o.createElement(a.Trans,{id:"Start profiling and then stop it after a few seconds to see the results."}))))}}var ne=n(120),ae=n(166),oe=n(218);const se={direction:"column",first:{direction:"row",first:"inspectors",second:"selected-inspector",splitPercentage:25},second:"profiler",splitPercentage:65};class ie extends o.Component{constructor(...e){super(...e),this.state={selectedInspector:null,selectedInspectorFullPath:[],rawMode:!1},this._editors=null,this.openProfiler=()=>{this._editors&&this._editors.openEditor("profiler","end",75,"row")}}render(){const e=this.props,t=e.gameData,n=e.onRefresh,s=e.onCall,i=e.onEdit,r=e.onStartProfiler,l=e.onStopProfiler,c=e.profilerOutput,u=e.profilingInProgress,p=this.state,f=p.selectedInspector,E=p.selectedInspectorFullPath,y=p.rawMode,C={inspectors:{type:"primary",title:{id:"Inspectors"},toolbarControls:[],renderEditor:()=>o.createElement(h.a,null,o.createElement(b.a,{expand:!0,noMargin:!0,useMaxHeight:!0},o.createElement(b.b,{justifyContent:"center"},o.createElement(g.a,{label:o.createElement(a.Trans,{id:"Refresh"}),onClick:n,primary:!0})),o.createElement(v,{gameData:t,getInspectorDescriptions:F,onChooseInspector:(e,t)=>this.setState({selectedInspector:e,selectedInspectorFullPath:t})})))},"selected-inspector":{type:"primary",noTitleBar:!0,renderEditor:()=>o.createElement(h.a,null,o.createElement(oe.a,null,o.createElement(b.a,null,f?y?o.createElement(M,{gameData:m()(t,E,null),onEdit:(e,t)=>i(E.concat(e),t)}):f.renderInspector(m()(t,E,null),{onCall:(e,t)=>s(E.concat(e),t),onEdit:(e,t)=>i(E.concat(e),t)})||o.createElement(B.a,null,o.createElement(a.Trans,{id:"No inspector, choose another element in the list or toggle the raw data view."})):o.createElement(B.a,null,t?o.createElement(a.Trans,{id:"Choose an element to inspect in the list"}):o.createElement(a.Trans,{id:"Pause the game (from the toolbar) or hit refresh (on the left) to inspect the game"})))),o.createElement(ae.b,null,o.createElement(b.b,{justifyContent:"space-between",alignItems:"center",noMargin:!0},o.createElement(V.a,{helpPagePath:"/interface/debugger"}),o.createElement("div",null,o.createElement(R.a,{checkedIcon:o.createElement(L.a,null),uncheckedIcon:o.createElement(U.a,null),checked:y,onCheck:(e,t)=>this.setState({rawMode:t})})))))},profiler:{type:"secondary",title:{id:"Profiler"},renderEditor:()=>o.createElement(te,{onStart:r,onStop:l,profilerOutput:c,profilingInProgress:u})}};return o.createElement(ne.b.Consumer,null,({getDefaultEditorMosaicNode:e,setDefaultEditorMosaicNode:t})=>o.createElement(d.a,{ref:e=>this._editors=e,editors:C,initialNodes:e("debugger")||se,onPersistNodes:e=>t("debugger",e)}))}}var re=n(116),le=n(117);class ce extends o.Component{render(){const e=!!this.props.debuggerIds.length;return o.createElement(re.a,{fullWidth:!0,value:e?this.props.selectedId:0,onChange:(e,t,n)=>this.props.onChooseDebugger(parseInt(n,10)||0),disabled:!e},this.props.debuggerIds.map(e=>o.createElement(le.a,{value:e,key:e,primaryText:{id:"Game preview #{id}",values:{id:e}}})),!e&&o.createElement(le.a,{value:0,primaryText:{id:"No preview running. Run a preview and you will be able to inspect it with the debugger"}}))}}var ue=n(143),de=n(219),he=n(3);const pe=n.n(he)()("electron"),me=pe?pe.ipcRenderer:null;class ge extends o.Component{constructor(...e){super(...e),this.state={debuggerServerStarted:!1,debuggerServerError:null,debuggerIds:[],debuggerGameData:{},profilerOutputs:{},profilingInProgress:{},selectedId:0},this._debuggerContents={},this._removeServerListeners=()=>{me&&(me.removeAllListeners("debugger-send-message-done"),me.removeAllListeners("debugger-error-received"),me.removeAllListeners("debugger-connection-closed"),me.removeAllListeners("debugger-connection-opened"),me.removeAllListeners("debugger-start-server-done"),me.removeAllListeners("debugger-message-received"))},this._startServer=()=>{me&&(this.setState({debuggerServerStarted:!1}),this._removeServerListeners(),me.on("debugger-error-received",(e,t)=>{this.setState({debuggerServerError:t},()=>this.updateToolbar())}),me.on("debugger-connection-closed",(e,{id:t})=>{const n=this.state,a=n.debuggerIds,o=n.selectedId,s=a.filter(e=>e!==t);this.setState({debuggerIds:s,selectedId:o!==t?o:s.length?s[s.length-1]:o},()=>this.updateToolbar())}),me.on("debugger-connection-opened",(e,{id:t})=>{this.setState({debuggerIds:[...this.state.debuggerIds,t],selectedId:t},()=>this.updateToolbar())}),me.on("debugger-start-server-done",e=>{this.setState({debuggerServerStarted:!0},()=>this.updateToolbar())}),me.on("debugger-message-received",(e,{id:t,message:n})=>{console.log("Processing message received for debugger");try{const e=JSON.parse(n);this._handleMessage(t,e)}catch(a){console.warn("Error while parsing message received from debugger client:",a)}}),me.send("debugger-start-server"))},this._handleMessage=(e,t)=>{"dump"===t.command?this.setState({debuggerGameData:Object(s.a)({},this.state.debuggerGameData,{[e]:t.payload})}):"profiler.output"===t.command?this.setState({profilerOutputs:Object(s.a)({},this.state.profilerOutputs,{[e]:t.payload})}):"profiler.started"===t.command?this.setState(t=>({profilingInProgress:Object(s.a)({},t.profilingInProgress,{[e]:!0})})):"profiler.stopped"===t.command?this.setState(t=>({profilingInProgress:Object(s.a)({},t.profilingInProgress,{[e]:!1})})):console.warn("Unknown command received from debugger client:",t.command)},this._play=e=>{me&&me.send("debugger-send-message",{id:e,message:'{"command": "play"}'})},this._pause=e=>{me&&me.send("debugger-send-message",{id:e,message:'{"command": "pause"}'})},this._refresh=e=>{me&&me.send("debugger-send-message",{id:e,message:'{"command": "refresh"}'})},this._edit=(e,t,n)=>!!me&&(me.send("debugger-send-message",{id:e,message:JSON.stringify({command:"set",path:t,newValue:n})}),setTimeout(()=>this._refresh(e),100),!0),this._call=(e,t,n)=>!!me&&(me.send("debugger-send-message",{id:e,message:JSON.stringify({command:"call",path:t,args:n})}),setTimeout(()=>this._refresh(e),100),!0),this._startProfiler=e=>{me&&me.send("debugger-send-message",{id:e,message:'{"command": "profiler.start"}'})},this._stopProfiler=e=>{me&&me.send("debugger-send-message",{id:e,message:'{"command": "profiler.stop"}'})},this._hasSelectedDebugger=()=>{const e=this.state,t=e.selectedId;return-1!==e.debuggerIds.indexOf(t)}}updateToolbar(){this.props.isActive&&this.props.setToolbar(o.createElement(u,{onPlay:()=>this._play(this.state.selectedId),onPause:()=>this._pause(this.state.selectedId),canPlay:this._hasSelectedDebugger(),canPause:this._hasSelectedDebugger(),onOpenProfiler:()=>{this._debuggerContents[this.state.selectedId]&&this._debuggerContents[this.state.selectedId].openProfiler()}}))}componentDidMount(){this.props.isActive&&this._startServer()}componentWillReceiveProps(e){e.isActive&&!this.props.isActive&&this._startServer()}componentWillUnmount(){this._removeServerListeners()}render(){const e=this.state,t=e.debuggerServerError,n=e.debuggerServerStarted,s=e.selectedId,i=e.debuggerIds,r=e.debuggerGameData,l=e.profilerOutputs,c=e.profilingInProgress;return o.createElement(h.a,null,!n&&!t&&o.createElement(de.a,null,o.createElement(ue.a,null),o.createElement(O.a,null,o.createElement(a.Trans,{id:"Debugger is starting..."}))),!n&&t&&o.createElement(de.a,null,o.createElement(O.a,null,o.createElement(a.Trans,{id:"Unable to start the debugger server! Make sure that you are authorized to run servers on this computer."}))),n&&o.createElement(b.a,{expand:!0,noMargin:!0},o.createElement(ce,{selectedId:s,debuggerIds:i,onChooseDebugger:e=>this.setState({selectedId:e})}),this._hasSelectedDebugger()&&o.createElement(ie,{ref:e=>this._debuggerContents[s]=e,gameData:r[s],onPlay:()=>this._play(s),onPause:()=>this._pause(s),onRefresh:()=>this._refresh(s),onEdit:(e,t)=>this._edit(s,e,t),onCall:(e,t)=>this._call(s,e,t),onStartProfiler:()=>this._startProfiler(s),onStopProfiler:()=>this._stopProfiler(s),profilerOutput:l[s],profilingInProgress:c[s]}),!this._hasSelectedDebugger()&&o.createElement(B.a,null,o.createElement(a.Trans,{id:"Run a preview and you will be able to inspect it with the debugger."}))))}}var be=n(195),fe=n(447);n.d(t,"a",(function(){return Ee}));class Ee extends be.a{constructor(...e){super(...e),this.state={subscriptionChecked:!1}}updateToolbar(){this.editor&&this.editor.updateToolbar()}forceUpdateEditor(){}componentWillReceiveProps(){this._checkHasSubscription()}componentDidMount(){this._checkHasSubscription()}_checkHasSubscription(){this._subscriptionChecker&&this.props.isActive&&!this.state.subscriptionChecked&&(this._subscriptionChecker.checkHasSubscription(),this.setState({subscriptionChecked:!0}))}render(){return o.createElement(o.Fragment,null,o.createElement(ge,Object.assign({},this.props,{ref:e=>this.editor=e})),o.createElement(fe.a,{ref:e=>this._subscriptionChecker=e,onChangeSubscription:()=>{this.props.onChangeSubscription&&this.props.onChangeSubscription()},id:"Debugger",title:o.createElement(a.Trans,{id:"Debugger"}),mode:"try"}))}}},907:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n.n(o),i=n(86),r=n(111),l=n(82),c=n(179),u=n(100),d=n(251),h=n.n(d),p=n(252),m=n.n(p),g=n(2378),b=n(75),f=n(92),E=n(143),v=n(84),y=n(1982),C=n.n(y),x=n(2406),j=n(83);const S={"cordova-build":{estimatedTimeInSeconds:e=>300,completeDescription:"You can download it on your Android phone and install it."},"electron-build":{estimatedTimeInSeconds:e=>90+130*(e.targets?e.targets.length:0),completeDescription:""},"web-build":{estimatedTimeInSeconds:e=>5,completeDescription:""}},T=[{displayName:{id:"Download"},key:"apkKey"},{displayName:{id:"Windows (zip)"},key:"windowsZipKey"},{displayName:{id:"Windows (exe)"},key:"windowsExeKey"},{displayName:{id:"macOS (zip)"},key:"macosZipKey"},{displayName:{id:"Linux (AppImage)"},key:"linuxAppImageKey"},{displayName:{id:"Open"},key:"s3Key"}];var O=({build:e,onDownload:t})=>{const n=S[e.type],s=Math.abs(C()(e.updatedAt,Date.now())),i=Math.max(n?n.estimatedTimeInSeconds(e)-s:0,0);return o.createElement(a.I18n,null,({i18n:s})=>"error"===e.status?o.createElement(o.Fragment,null,o.createElement(b.b,{alignItems:"center"},o.createElement(j.a,null,o.createElement(a.Trans,{id:"Something wrong happened :("})),o.createElement(b.c,null),o.createElement(v.a,{label:o.createElement(a.Trans,{id:"See logs"}),onClick:()=>t("logsKey")})),o.createElement(b.b,{alignItems:"center"},o.createElement(f.a,null,o.createElement(a.Trans,{id:"Check the logs to see if there is an explanation about what went wrong, or try again later."})))):"pending"===e.status?o.createElement(b.b,{alignItems:"center",expand:!0},o.createElement(x.a,{style:{flex:1},value:n.estimatedTimeInSeconds(e)>0?(n.estimatedTimeInSeconds(e)-i)/n.estimatedTimeInSeconds(e)*100:0,variant:i>0?"determinate":"indeterminate"}),o.createElement(b.c,null),i>0?o.createElement(j.a,null,o.createElement(a.Trans,{id:"~{0} minutes.",values:{0:Math.round(i/60)}})):o.createElement(j.a,null,o.createElement(a.Trans,{id:"Should finish soon."}))):"complete"===e.status?o.createElement(o.Fragment,null,o.createElement(b.b,{expand:!0},T.filter(t=>!!e[t.key]).map((e,n)=>o.createElement(o.Fragment,{key:e.key},0!==n&&o.createElement(b.c,null),o.createElement(v.a,{label:s._(e.displayName),primary:!0,onClick:()=>t(e.key)}))),o.createElement(l.a,{label:o.createElement(a.Trans,{id:"See logs"}),onClick:()=>t("logsKey")})),o.createElement(b.b,{expand:!0},n&&o.createElement(j.a,null,n.completeDescription))):o.createElement(b.b,null,o.createElement(a.Trans,{id:"Unknown status"})))},w=n(692),N=n.n(w),_=n(694),k=n.n(_);const P={buildContainer:{padding:10}};var I=({builds:e,userProfile:t,onDownload:n})=>o.createElement(b.a,{noMargin:!0,expand:!0},o.createElement(b.b,null,o.createElement(b.a,null,o.createElement(f.a,null,o.createElement(a.Trans,{id:"This is the list of builds that you've done. Note that you can download games generated during the last 7 days, after which they are removed."})))),o.createElement(b.b,null,t.authenticated?e?0===e.length?o.createElement(f.a,null,o.createElement(a.Trans,{id:"You don't have any builds on the online services for now."})):o.createElement(b.a,{noMargin:!0,expand:!0},e.map(e=>{const t=e&&k()(Date.now(),e.updatedAt)>6;return o.createElement(g.a,{style:P.buildContainer,key:e.id},o.createElement(j.a,null,(e=>{switch(e){case"cordova-build":return o.createElement(a.Trans,{id:"Android Build"});case"electron-build":return o.createElement(a.Trans,{id:"Windows/macOS/Linux Build"});case"web-build":return o.createElement(a.Trans,{id:"Web (upload online) Build"});default:return e}})(e.type)," -"," ",o.createElement(a.Trans,{id:"Last updated on"})," ",N()(e.updatedAt,"YYYY-MM-DD HH:mm:ss")),!t&&o.createElement(O,{build:e,onDownload:t=>n(e,t)}),t&&o.createElement(f.a,null,o.createElement(a.Trans,{id:"This build is old and the generated games can't be downloaded anymore."})))})):o.createElement(E.a,null):o.createElement(f.a,null,o.createElement(a.Trans,{id:"You need to login first to see your builds."})))),F=n(181),B=n(5),M=n(879),R=n.n(M),D=n(880);const L=e=>new Promise(t=>setTimeout(t,e));class A{constructor(){var e=this;this.runningWatchers={},this.nextWatcherId=0,this._pollBuild=function(){var t=Object(D.a)(R.a.mark((function t(n,a){var o,s,i,r,l;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=e.nextWatcherId.toString(),e.nextWatcherId++,e.runningWatchers[o]=!0,s=null;case 4:if(e.userProfile){t.next=6;break}return t.abrupt("return");case 6:if(i=e.userProfile,r=i.getAuthorizationHeader,l=i.profile){t.next=9;break}return t.abrupt("return");case 9:return t.prev=9,console.info("Checking progress of build ".concat(n,"...")),t.next=13,Object(F.d)(r,l.uid,n);case 13:s=t.sent,e.onBuildUpdated&&e.onBuildUpdated(s),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(9),console.warn("Error while watching build progress:",t.t0);case 20:return t.next=22,L(a);case 22:if(e.runningWatchers[o]){t.next=25;break}return console.info("Stopping watch of build ".concat(n,".")),t.abrupt("return");case 25:if(s&&"pending"===s.status){t.next=4;break}case 26:console.info("Watch of build ".concat(n," finished."));case 27:case"end":return t.stop()}}),t,null,[[9,17]])})));return function(e,n){return t.apply(this,arguments)}}()}start({userProfile:e,builds:t,onBuildUpdated:n}){this.stop(),this.userProfile=e,this.onBuildUpdated=n,t.forEach(e=>{"pending"===e.status&&((!e.createdAt||e.createdAt<Date.now()-432e5)&&(!e.updatedAt||e.updatedAt<Date.now()-432e5)?console.info("Ignoring a build for polling as it's too old and still pending",e):this._pollBuild(e.id,t.length>1?5e3:1500))})}stop(){this.runningWatchers={}}}class U extends o.Component{constructor(...e){super(...e),this.state={builds:null},this.buildsWatcher=new A,this._startBuildsWatcher=()=>{this.state.builds&&this.buildsWatcher.start({userProfile:this.props.userProfile,builds:this.state.builds,onBuildUpdated:e=>{this.state.builds&&this.setState({builds:this.state.builds.map(t=>e.id===t.id?e:t)})}})},this._refreshBuilds=()=>{const e=this.props.userProfile,t=e.getAuthorizationHeader,n=e.profile;n&&Object(F.g)(t,n.uid).then(e=>{this.setState({builds:e},()=>{this._startBuildsWatcher(),this.props.onBuildsUpdated&&this.props.onBuildsUpdated()})},()=>{})},this._download=(e,t)=>{const n=Object(F.e)(e,t);n&&B.b.openExternalURL(n)}}componentDidMount(){this._refreshBuilds()}componentWillUnmount(){this.buildsWatcher.stop()}render(){return s.a.createElement(I,{builds:this.state.builds,userProfile:this.props.userProfile,onDownload:this._download})}}class V extends o.Component{constructor(...e){super(...e),this._onBuildsUpdated=()=>{this.forceUpdate()}}render(){const e=this.props,t=e.open,n=e.onClose,o=e.userProfile;return t?s.a.createElement(i.a,{title:s.a.createElement(a.Trans,{id:"All your builds"}),onRequestClose:n,actions:[s.a.createElement(l.a,{label:s.a.createElement(a.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n})],secondaryActions:[s.a.createElement(r.a,{key:"help",helpPagePath:"/publishing"})],cannotBeDismissed:!1,open:t,noMargin:!0},s.a.createElement(U,{onBuildsUpdated:this._onBuildsUpdated,userProfile:o})):null}}var W=n(283),G=n(78),z=n(8),H=n(20),Y=n(690),K=({subscription:e,limit:t,onChangeSubscription:n})=>{if(!t)return o.createElement(E.a,null);const s=e&&!!e.planId,i=e&&!e.planId;return o.createElement(b.a,{noMargin:!0},o.createElement(j.a,null,o.createElement(a.Trans,{id:"You have {0} remaining builds for today (out of {1}).",values:{0:Math.max(t.max-t.current,0),1:t.max}})),s&&t.limitReached&&o.createElement(j.a,null,o.createElement(a.Trans,{id:"Need more power? You can upgrade to a new plan to increase the limit!"})),s&&t.limitReached&&o.createElement(b.b,{justifyContent:"center",alignItems:"center"},o.createElement(v.a,{label:o.createElement(a.Trans,{id:"Upgrade my account"}),onClick:n,primary:!0})),i&&o.createElement(j.a,null,o.createElement(a.Trans,{id:"You don't have a subscription. Get one to increase the limits!"})),i&&o.createElement(b.b,{justifyContent:"center",alignItems:"center"},o.createElement(v.a,{label:o.createElement(a.Trans,{id:"Get a subscription"}),onClick:n,primary:!0})))},X=n(619),q=n(2480),J=n(2412),Z=n(2472),Q=n(2481),$=n(2396),ee=n(132);const te={stepper:{flex:1},linearProgress:{flex:1}};var ne=({exportStep:e,onDownload:t,build:n,stepMaxProgress:s,stepCurrentProgress:i,errored:r,hasBuildStep:l,showSeeAllMyBuildsExplanation:c})=>o.createElement(q.a,{activeStep:"export"===e||"resources-download"===e?0:"compress"===e||"upload"===e?1:"waiting-for-build"===e||"build"===e?2:"done"===e?l?2:1:-1,orientation:"vertical",style:te.stepper},o.createElement(J.a,null,o.createElement(Z.a,null,o.createElement(a.Trans,{id:"Game export"})),o.createElement(Q.a,null,r?o.createElement(ee.a,{kind:"error"},o.createElement(a.Trans,{id:"Can't properly export the game."})," ",o.createElement(a.Trans,{id:"Please check your internet connection or try again later."})):"resources-download"===e?o.createElement(b.a,{expand:!0,noMargin:!0},o.createElement(j.a,null,o.createElement(a.Trans,{id:"Downloading game resources..."})),o.createElement(b.b,{expand:!0},o.createElement(x.a,{style:te.linearProgress,value:s>0?i/s*100:0,variant:"determinate"}))):o.createElement(b.a,{expand:!0,noMargin:!0},o.createElement(j.a,null,o.createElement(a.Trans,{id:"Export in progress..."})),o.createElement(b.b,{expand:!0},o.createElement(x.a,{style:te.linearProgress}))))),l&&o.createElement(J.a,null,o.createElement(Z.a,null,o.createElement(a.Trans,{id:"Upload to build service"})),o.createElement(Q.a,null,r?o.createElement(ee.a,{kind:"error"},o.createElement(a.Trans,{id:"Can't upload your game to the build service."})," ",o.createElement(a.Trans,{id:"Please check your internet connection or try again later."})):"compress"===e?o.createElement(b.b,{alignItems:"center"},o.createElement($.a,{size:20}),o.createElement(b.c,null),o.createElement(j.a,null,o.createElement(a.Trans,{id:"Compressing before upload..."}))):o.createElement(b.b,{alignItems:"center",expand:!0},o.createElement(x.a,{style:te.linearProgress,value:s>0?i/s*100:0,variant:"determinate"})))),l&&o.createElement(J.a,null,o.createElement(Z.a,null,o.createElement(a.Trans,{id:"Build and download"})),o.createElement(Q.a,null,r&&o.createElement(ee.a,{kind:"error"},o.createElement(a.Trans,{id:"Build could not start or errored. Please check your internet connection or try again later."})),!n&&!r&&o.createElement(j.a,null,o.createElement(a.Trans,{id:"Build is starting..."})),n&&o.createElement(O,{build:n,onDownload:t}),c&&o.createElement(f.a,null,o.createElement(a.Trans,{id:"If you close this window while the build is being done, you can see its progress and download the game later by clicking on See All My Builds below."})))),!l&&o.createElement(J.a,null,o.createElement(Z.a,null,o.createElement(a.Trans,{id:"Done"})),o.createElement(Q.a,null)));class ae extends o.Component{constructor(...e){super(...e),this.state={exportStep:"",build:null,compressionOutput:null,stepCurrentProgress:0,stepMaxProgress:0,doneFooterOpen:!1,errored:!1,exportState:this.props.exportPipeline.getInitialExportState(this.props.project)},this.buildsWatcher=new A,this._updateStepProgress=(e,t)=>this.setState({stepCurrentProgress:e,stepMaxProgress:t}),this._startBuildWatch=e=>{this.state.build&&this.buildsWatcher.start({userProfile:e,builds:[this.state.build],onBuildUpdated:e=>this.setState({build:e})})},this.launchWholeExport=e=>{const t=e=>e,n=this.props,a=n.project,o=n.exportPipeline;if(Object(z.d)(o.name),!Object(X.a)(t,Object(X.b)(t,a)))return;const s=e=>t=>{throw this.state.errored||(this.setState({errored:!0}),Object(H.a)(e+(t.message?"\n".concat(t.message):""),{exportStep:this.state.exportStep,rawError:t})),t},i={project:a,updateStepProgress:this._updateStepProgress,exportState:this.state.exportState};this.setState({exportStep:"export",stepCurrentProgress:0,stepMaxProgress:0,errored:!1,build:null}),o.prepareExporter(i).then(e=>o.launchExport(i,e),s("Error while preparing the exporter.")).then(e=>(this.setState({exportStep:"resources-download"}),o.launchResourcesDownload(i,e)),s("Error while exporting the game.")).then(e=>(this.setState({exportStep:"compress"}),o.launchCompression(i,e)),s("Error while exporting the game.")).then(t=>{const n=o.launchUpload,a=o.launchOnlineBuild;return n&&a?(this.setState({exportStep:"upload"}),n(i,t).then(t=>(this.setState({exportStep:"waiting-for-build"}),a(this.state.exportState,e,t)),s("Error while uploading the game. Check your internet connection or try again later.")).then(n=>(this.setState({build:n,exportStep:"build"},()=>{this._startBuildWatch(e)}),{compressionOutput:t}),s("Error while lauching the build of the game."))):{compressionOutput:t}},s("Error while compressing the game.")).then(({compressionOutput:e})=>{this.setState({compressionOutput:e,doneFooterOpen:!0,exportStep:"done"})}).catch(()=>{})},this._downloadBuild=e=>{const t=Object(F.e)(this.state.build,e);t&&B.b.openExternalURL(t)},this._closeDoneFooter=()=>this.setState({doneFooterOpen:!1}),this._updateExportState=e=>{this.setState(t=>Object(G.a)({},t,{exportState:e(t.exportState)}))}}componentWillUnmount(){this.buildsWatcher.stop()}render(){const e=this.state,t=e.exportStep,n=e.compressionOutput,a=e.build,o=e.stepMaxProgress,i=e.stepCurrentProgress,r=e.errored,l=e.doneFooterOpen,c=e.exportState,u=this.props,d=u.project,h=u.userProfile,p=u.exportPipeline;if(!d)return null;const m=e=>e.limits&&p.onlineBuildType?e.limits[p.onlineBuildType]:null;return s.a.createElement(b.a,{noMargin:!0},s.a.createElement(b.b,null,p.renderHeader({project:d,exportState:c,updateExportState:this._updateExportState})),(!p.onlineBuildType||h.authenticated)&&s.a.createElement(b.b,{justifyContent:"center"},s.a.createElement(v.a,{label:p.renderLaunchButtonLabel(),primary:!0,onClick:()=>this.launchWholeExport(h),disabled:!(e=>{if(!r&&""!==t&&"done"!==t)return!1;const n=m(e);return(!n||!n.limitReached)&&p.canLaunchBuild(c)})(h)})),!!p.onlineBuildType&&h.authenticated&&s.a.createElement(K,{subscription:h.subscription,limit:m(h),onChangeSubscription:this.props.onChangeSubscription}),!!p.onlineBuildType&&!h.authenticated&&s.a.createElement(Y.a,{onLogin:h.onLogin,onCreateAccount:h.onCreateAccount}),s.a.createElement(b.b,{expand:!0},s.a.createElement(ne,{exportStep:t,hasBuildStep:!!p.onlineBuildType,build:a,onDownload:this._downloadBuild,stepMaxProgress:o,stepCurrentProgress:i,errored:r})),l&&p.renderDoneFooter&&p.renderDoneFooter({compressionOutput:n,exportState:c,onClose:this._closeDoneFooter}))}}var oe=n(136);const se=()=>{const e=o.useState("undefined"===typeof navigator||"boolean"!==typeof navigator.onLine||navigator.onLine),t=Object(oe.a)(e,2),n=t[0],a=t[1],s=()=>a(!0),i=()=>a(!1);return o.useEffect(()=>(window.addEventListener("online",s),window.addEventListener("offline",i),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",i)}),[]),n},ie=({children:e})=>e(se());n.d(t,"a",(function(){return le}));const re={icon:{width:40,height:40},disabledItem:{opacity:.6},content:{padding:8}};class le extends o.Component{constructor(...e){super(...e),this.state={chosenExporterKey:"",showExperimental:!1,buildsDialogOpen:!1},this.chooseExporter=e=>{this.setState({chosenExporterKey:e})},this._showExperimental=(e=!0)=>{this.setState({showExperimental:e})},this._openBuildsDialog=(e=!0)=>{this.setState({buildsDialogOpen:e})},this._renderExporterListItem=(e,t,n)=>o.createElement(u.b,{key:e.key,disabled:n||e.disabled,style:n||e.disabled?re.disabledItem:void 0,leftIcon:e.renderIcon({style:re.icon}),primaryText:e.name,secondaryText:e.description,secondaryTextLines:2,onClick:()=>this.chooseExporter(e.key)})}render(){const e=this.props,t=e.project,n=e.onClose,s=e.allExportersRequireOnline,d=e.onChangeSubscription,p=e.exporters,g=this.state,f=g.showExperimental,E=g.chosenExporterKey;if(!t)return null;const v=p.find(e=>e.key===E);return o.createElement(W.a.Consumer,null,e=>o.createElement(ie,null,g=>{const y=!!s&&!g;return o.createElement(i.a,{title:o.createElement(a.Trans,{id:"Export project to a standalone game"}),onRequestClose:n,cannotBeDismissed:!1,actions:[E&&o.createElement(l.a,{label:o.createElement(a.Trans,{id:"Back"}),key:"back",primary:!1,onClick:()=>this.chooseExporter("")}),o.createElement(l.a,{label:o.createElement(a.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n})],secondaryActions:[o.createElement(r.a,{key:"help",helpPagePath:v&&v.helpPage||"/publishing"}),o.createElement(l.a,{key:"builds",label:o.createElement(a.Trans,{id:"See all my builds"}),onClick:()=>this._openBuildsDialog(!0)})],open:!0,noMargin:!0},y&&o.createElement(ee.a,{kind:"error"},o.createElement(a.Trans,{id:"You must be online and have a proper internet connection to export your game."})),!v&&o.createElement(o.Fragment,null,o.createElement(u.a,null,p.filter(e=>!e.advanced&&!e.experimental).map((e,t)=>this._renderExporterListItem(e,t,y)),o.createElement(c.a,null,"Advanced"),p.filter(e=>e.advanced).map((e,t)=>this._renderExporterListItem(e,t,y)),f&&o.createElement(c.a,null,"Experimental"),f&&p.filter(e=>e.experimental).map((e,t)=>this._renderExporterListItem(e,t,y))),o.createElement(b.b,{justifyContent:"center",alignItems:"center"},f?o.createElement(l.a,{key:"toggle-experimental",icon:o.createElement(m.a,null),primary:!1,onClick:()=>this._showExperimental(!1),label:o.createElement(a.Trans,{id:"Hide experimental exports"})}):o.createElement(l.a,{key:"toggle-experimental",icon:o.createElement(h.a,null),primary:!1,onClick:()=>this._showExperimental(!0),label:o.createElement(a.Trans,{id:"Show experimental exports"})}))),v&&v.exportPipeline&&o.createElement("div",{style:re.content},o.createElement(ae,{exportPipeline:v.exportPipeline,project:t,onChangeSubscription:d,userProfile:e})),o.createElement(V,{open:this.state.buildsDialogOpen,onClose:()=>this._openBuildsDialog(!1),userProfile:e}))}))}}},908:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(829),i=n.n(s),r=n(831),l=n.n(r),c=n(165);class u extends a.Component{render(){return this.props.children}}var d=Object(c.DragDropContext)(i()(l.a))(u),h=n(2413),p=n(916),m=n(78),g=n(400),b=(n(13),n(72)),f=n(82),E=n(84),v=n(86),y=n(75),C=n(94),x=n(2396);const j={progress:{marginLeft:8,verticalAlign:"middle"}};var S=({children:e,isLoading:t})=>a.createElement("span",null,e,t&&a.createElement(x.a,{size:20,style:j.progress})),T=n(284),O=n(83),w=n(175);const N=e=>{if(e)return"auth/invalid-email"===e.code?"This email is invalid":"auth/user-disabled"===e.code?"The user was disabled":"auth/user-not-found"===e.code?"This user was not found: have you created your account?":"auth/email-already-in-use"===e.code?"This email was already used for another account":"auth/operation-not-allowed"===e.code?"Service seems to be unavailable, please try again later":void 0},_=e=>{if(e)return"auth/wrong-password"===e.code?"The password is invalid":"auth/weak-password"===e.code?"This password is too weak: please use more letters and digits":void 0};class k extends a.Component{constructor(...e){super(...e),this.state={form:{email:"",password:""}},this._onCreateAccount=()=>{const e=this.state.form;this.props.onCreateAccount(e)}}render(){const e=this.props,t=e.onClose,n=e.createAccountInProgress,a=e.onGoToLogin,s=e.error;return o.a.createElement(v.a,{title:o.a.createElement(b.Trans,{id:"Create a new GDevelop account"}),actions:[o.a.createElement(f.a,{label:o.a.createElement(b.Trans,{id:"Back"}),disabled:n,key:"close",primary:!1,onClick:t}),o.a.createElement(T.a,{isLoading:n,key:"create-account"},o.a.createElement(E.a,{label:o.a.createElement(b.Trans,{id:"Create my account"}),primary:!0,disabled:n,onClick:this._onCreateAccount}))],secondaryActions:[o.a.createElement(f.a,{label:o.a.createElement(b.Trans,{id:"Already have an account?"}),primary:!1,key:"already-have-account",onClick:a})],onRequestClose:()=>{n||t()},maxWidth:"sm",cannotBeDismissed:!0,open:!0},o.a.createElement(y.a,{noMargin:!0},o.a.createElement(w.a,null,o.a.createElement(b.Trans,{id:"By creating an account and using GDevelop, you agree to the Terms and Conditions. Having an account allows to export your game on Android, as a desktop app and unlock other services for your project!"})),o.a.createElement(C.b,{value:this.state.form.email,floatingLabelText:o.a.createElement(b.Trans,{id:"Email"}),errorText:N(s),fullWidth:!0,onChange:(e,t)=>{this.setState({form:Object(m.a)({},this.state.form,{email:t})})}}),o.a.createElement(C.b,{value:this.state.form.password,floatingLabelText:o.a.createElement(b.Trans,{id:"Password"}),errorText:_(s),type:"password",fullWidth:!0,onChange:(e,t)=>{this.setState({form:Object(m.a)({},this.state.form,{password:t})})}})))}}var P=n(132);class I extends a.Component{constructor(...e){super(...e),this.state={form:{email:"",password:""}},this._onLogin=()=>{const e=this.state.form;this.props.onLogin(e)},this._onForgotPassword=()=>{const e=this.state.form;this.props.onForgotPassword(e)}}render(){const e=this.props,t=e.onClose,n=e.onGoToCreateAccount,a=e.loginInProgress,s=e.error,i=e.resetPasswordDialogOpen,r=e.onCloseResetPasswordDialog,l=e.forgotPasswordInProgress,c=[o.a.createElement(f.a,{label:o.a.createElement(b.Trans,{id:"Back"}),disabled:a||l,key:"back",primary:!1,onClick:t}),o.a.createElement(T.a,{isLoading:a,key:"login"},o.a.createElement(E.a,{label:o.a.createElement(b.Trans,{id:"Login"}),primary:!0,onClick:this._onLogin,disabled:a||l}))];return o.a.createElement(v.a,{title:o.a.createElement(b.Trans,{id:"Login to your GDevelop account"}),actions:c,secondaryActions:[o.a.createElement(S,{isLoading:l,key:"forgot-password"},o.a.createElement(f.a,{label:o.a.createElement(b.Trans,{id:"I forgot my password"}),primary:!1,disabled:a||l,onClick:this._onForgotPassword}))],onRequestClose:()=>{a||l||t()},maxWidth:"sm",cannotBeDismissed:!0,open:!0},o.a.createElement(y.a,{noMargin:!0},o.a.createElement(P.a,{kind:"info",renderRightButton:()=>o.a.createElement(f.a,{label:o.a.createElement(b.Trans,{id:"Create my account"}),disabled:a||l,primary:!0,onClick:n})},o.a.createElement(b.Trans,{id:"Don't have an account yet?"})),o.a.createElement(C.b,{value:this.state.form.email,floatingLabelText:o.a.createElement(b.Trans,{id:"Email"}),errorText:N(s),fullWidth:!0,onChange:(e,t)=>{this.setState({form:Object(m.a)({},this.state.form,{email:t})})}}),o.a.createElement(C.b,{value:this.state.form.password,floatingLabelText:o.a.createElement(b.Trans,{id:"Password"}),errorText:_(s),type:"password",fullWidth:!0,onChange:(e,t)=>{this.setState({form:Object(m.a)({},this.state.form,{password:t})})}})),o.a.createElement(v.a,{cannotBeDismissed:!0,open:i,title:o.a.createElement(b.Trans,{id:"Reset your password"}),actions:[o.a.createElement(f.a,{label:o.a.createElement(b.Trans,{id:"Close"}),key:"close",onClick:r})]},o.a.createElement(y.a,{noMargin:!0},o.a.createElement(O.a,null,o.a.createElement(b.Trans,{id:"You should have received an email containing instructions to reset and set a new password. Once it's done, you can use your new password in GDevelop."})))))}}const F=(e,t,n)=>(e.setState({[t]:!0}),n().then(n=>(e.setState({[t]:!1}),n)).catch(n=>{throw e.setState({[t]:!1}),n}));var B=n(20),M=n(8),R=n(283);class D extends a.Component{constructor(...e){super(...e),this.state={userProfile:R.b,loginDialogOpen:!1,createAccountDialogOpen:!1,loginInProgress:!1,createAccountInProgress:!1,loginError:null,resetPasswordDialogOpen:!1,forgotPasswordInProgress:!1},this._fetchUserProfile=()=>{const e=this.props.authentification;e.getUserProfile((t,n)=>{if(t&&t.unauthenticated)return this.setState({userProfile:Object(m.a)({},this.state.userProfile,{authenticated:!1,profile:null,usages:null,limits:null,subscription:null})});!t&&n?this.setState({userProfile:Object(m.a)({},this.state.userProfile,{authenticated:!0,profile:n})},()=>{n&&(Object(g.g)(e.getAuthorizationHeader,n.uid).then(e=>this.setState({userProfile:Object(m.a)({},this.state.userProfile,{usages:e})})),Object(g.f)(e.getAuthorizationHeader,n.uid).then(e=>this.setState({userProfile:Object(m.a)({},this.state.userProfile,{subscription:e})})),Object(g.e)(e.getAuthorizationHeader,n.uid).then(e=>this.setState({userProfile:Object(m.a)({},this.state.userProfile,{limits:e})})))}):console.log("Unable to fetch user profile",t)})},this._doLogout=()=>{this.props.authentification&&this.props.authentification.logout(),this._resetUserProfile()},this._doLogin=e=>{const t=this.props.authentification;t&&F(this,"loginInProgress",()=>t.login(e).then(()=>{this._fetchUserProfile(),this.openLoginDialog(!1)},e=>{this.setState({loginError:e})}))},this._doCreateAccount=e=>{const t=this.props.authentification;t&&F(this,"createAccountInProgress",()=>t.createAccount(e).then(()=>{this._fetchUserProfile(),this.openLoginDialog(!1),Object(M.j)(e.email)},e=>{this.setState({loginError:e})}))},this._doForgotPassword=e=>{const t=this.props.authentification;t&&F(this,"forgotPasswordInProgress",()=>t.forgotPassword(e).then(()=>{this.openResetPassword(!0)},e=>{this.setState({loginError:e}),Object(B.c)("Unable to send you an email to reset your password. Please double-check that the email address that you've entered is valid.")}))},this.openResetPassword=(e=!0)=>{this.setState({resetPasswordDialogOpen:e})},this.openLoginDialog=(e=!0)=>{this.setState({loginDialogOpen:e,createAccountDialogOpen:!1})},this.openCreateAccountDialog=(e=!0)=>{this.setState({loginDialogOpen:!1,createAccountDialogOpen:e})}}componentDidMount(){this._resetUserProfile(),this.props.authentification.onUserChange(this._fetchUserProfile)}_resetUserProfile(){this.setState({userProfile:Object(m.a)({},R.b,{onLogout:this._doLogout,onLogin:()=>this.openLoginDialog(!0),onCreateAccount:()=>this.openCreateAccountDialog(!0),onRefreshUserProfile:this._fetchUserProfile,getAuthorizationHeader:()=>this.props.authentification.getAuthorizationHeader()})})}render(){return a.createElement(a.Fragment,null,a.createElement(R.a.Provider,{value:this.state.userProfile},this.props.children),this.state.loginDialogOpen&&a.createElement(I,{onClose:()=>this.openLoginDialog(!1),onGoToCreateAccount:()=>this.openCreateAccountDialog(!0),onLogin:this._doLogin,loginInProgress:this.state.loginInProgress,error:this.state.loginError,onForgotPassword:this._doForgotPassword,resetPasswordDialogOpen:this.state.resetPasswordDialogOpen,onCloseResetPasswordDialog:()=>this.openResetPassword(!1),forgotPasswordInProgress:this.state.forgotPasswordInProgress}),this.state.createAccountDialogOpen&&a.createElement(k,{onClose:()=>this.openCreateAccountDialog(!1),onGoToLogin:()=>this.openLoginDialog(!0),onCreateAccount:this._doCreateAccount,createAccountInProgress:this.state.createAccountInProgress,error:this.state.loginError}))}}var L=n(120),A=n(3),U=n.n(A),V=n(9);const W=U()("electron"),G=W?W.ipcRenderer:null;class z extends a.Component{constructor(...e){super(...e),this.state={values:this._loadValuesFromLocalStorage()||L.c.values,setLanguage:this._setLanguage.bind(this),setThemeName:this._setThemeName.bind(this),setCodeEditorThemeName:this._setCodeEditorThemeName.bind(this),setAutoDownloadUpdates:this._setAutoDownloadUpdates.bind(this),checkUpdates:this._checkUpdates.bind(this),setAutoDisplayChangelog:this._setAutoDisplayChangelog.bind(this),showAlertMessage:this._showAlertMessage.bind(this),verifyIfIsNewVersion:this._verifyIfIsNewVersion.bind(this),setEventsSheetShowObjectThumbnails:this._setEventsSheetShowObjectThumbnails.bind(this),setAutosaveOnPreview:this._setAutosaveOnPreview.bind(this),setUseNewInstructionEditorDialog:this._setUseNewInstructionEditorDialog.bind(this),setUseGDJSDevelopmentWatcher:this._setUseGDJSDevelopmentWatcher.bind(this),setEventsSheetUseAssignmentOperators:this._setEventsSheetUseAssignmentOperators.bind(this),setShowEffectParameterNames:this._setShowEffectParameterNames.bind(this),getLastUsedPath:this._getLastUsedPath.bind(this),setLastUsedPath:this._setLastUsedPath.bind(this),getDefaultEditorMosaicNode:this._getDefaultEditorMosaicNode.bind(this),setDefaultEditorMosaicNode:this._setDefaultEditorMosaicNode.bind(this)}}componentDidMount(){setTimeout(()=>this._checkUpdates(),1e4)}_setLanguage(e){this.setState(t=>({values:Object(m.a)({},t.values,{language:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setEventsSheetShowObjectThumbnails(e){this.setState(t=>({values:Object(m.a)({},t.values,{eventsSheetShowObjectThumbnails:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setAutosaveOnPreview(e){this.setState(t=>({values:Object(m.a)({},t.values,{autosaveOnPreview:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setUseNewInstructionEditorDialog(e){this.setState(t=>({values:Object(m.a)({},t.values,{useNewInstructionEditorDialog:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setUseGDJSDevelopmentWatcher(e){this.setState(t=>({values:Object(m.a)({},t.values,{useGDJSDevelopmentWatcher:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setEventsSheetUseAssignmentOperators(e){this.setState(t=>({values:Object(m.a)({},t.values,{eventsSheetUseAssignmentOperators:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setShowEffectParameterNames(e){this.setState(t=>({values:Object(m.a)({},t.values,{showEffectParameterNames:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setThemeName(e){this.setState(t=>({values:Object(m.a)({},t.values,{themeName:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setCodeEditorThemeName(e){this.setState(t=>({values:Object(m.a)({},t.values,{codeEditorThemeName:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setAutoDownloadUpdates(e){this.setState(t=>({values:Object(m.a)({},t.values,{autoDownloadUpdates:e})}),()=>this._persistValuesToLocalStorage(this.state))}_setAutoDisplayChangelog(e){this.setState(t=>({values:Object(m.a)({},t.values,{autoDisplayChangelog:e})}),()=>this._persistValuesToLocalStorage(this.state))}_checkUpdates(e){const t=this.props.disableCheckForUpdates;G&&!t&&(e||this.state.values.autoDownloadUpdates?G.send("updates-check-and-download"):G.send("updates-check"))}_verifyIfIsNewVersion(){const e=Object(V.b)(),t=this.state.values.lastLaunchedVersion;return t!==e&&(this.setState(t=>({values:Object(m.a)({},t.values,{lastLaunchedVersion:e})}),()=>this._persistValuesToLocalStorage(this.state)),void 0!==t)}_showAlertMessage(e,t){this.setState(n=>({values:Object(m.a)({},n.values,{hiddenAlertMessages:Object(m.a)({},n.values.hiddenAlertMessages,{[e]:!t})})}),()=>this._persistValuesToLocalStorage(this.state))}_loadValuesFromLocalStorage(){try{const e=localStorage.getItem("gd-preferences");if(!e)return null;const t=JSON.parse(e);for(const n in L.c.values)L.c.values.hasOwnProperty(n)&&"undefined"===typeof t[n]&&(t[n]=L.c.values[n]);return t}catch(e){return null}}_persistValuesToLocalStorage(e){try{localStorage.setItem("gd-preferences",JSON.stringify(e.values))}catch(t){console.warn("Unable to persist preferences",t)}return e}_getLastUsedPath(e,t){const n=e.getProjectFile(),a=this.state.values.projectLastUsedPaths[n];return a&&a[t]?a[t]:n?void 0:null}_setLastUsedPath(e,t,n){const a=e.getProjectFile(),o=this.state.values,s=o.projectLastUsedPaths[a]||{};s[t]=n,this.setState({values:Object(m.a)({},o,{projectLastUsedPaths:Object(m.a)({},o.projectLastUsedPaths,{[a]:s})})},()=>this._persistValuesToLocalStorage(this.state))}_getDefaultEditorMosaicNode(e){return this.state.values.defaultEditorMosaicNodes[e]||null}_setDefaultEditorMosaicNode(e,t){this.setState(n=>({values:Object(m.a)({},n.values,{defaultEditorMosaicNodes:Object(m.a)({},n.values.defaultEditorMosaicNodes,{[e]:t})})}),()=>this._persistValuesToLocalStorage(this.state))}render(){return a.createElement(L.b.Provider,{value:this.state},this.props.children)}}var H=n(2022),Y=n(285),K=n(249);class X extends a.Component{constructor(...e){super(...e),this.state={eventsFunctionsExtensionsError:null,loadProjectEventsFunctionsExtensions:this._loadProjectEventsFunctionsExtensions.bind(this),unloadProjectEventsFunctionsExtensions:this._unloadProjectEventsFunctionsExtensions.bind(this),reloadProjectEventsFunctionsExtensions:this._reloadProjectEventsFunctionsExtensions.bind(this),getEventsFunctionsExtensionWriter:()=>this.props.eventsFunctionsExtensionWriter,getEventsFunctionsExtensionOpener:()=>this.props.eventsFunctionsExtensionOpener}}_loadProjectEventsFunctionsExtensions(e){const t=this.props,n=t.i18n,a=t.eventsFunctionCodeWriter;return e&&a?Object(K.e)(e,a,n).then(()=>this.setState({eventsFunctionsExtensionsError:null})).catch(e=>{this.setState({eventsFunctionsExtensionsError:e}),Object(B.a)(n._({id:"An error has occured during functions generation. If GDevelop is installed, verify that nothing is preventing GDevelop from writing on disk. If you're running GDevelop online, verify your internet connection and refresh functions from the Project Manager."}),e)}):Promise.resolve()}_unloadProjectEventsFunctionsExtensions(e){Object(K.f)(e)}_reloadProjectEventsFunctionsExtensions(e){return e&&this._unloadProjectEventsFunctionsExtensions(e),this._loadProjectEventsFunctionsExtensions(e)}render(){return a.createElement(Y.a.Provider,{value:this.state},this.props.children)}}var q=n(265),J=n(274);n.d(t,"a",(function(){return Z}));class Z extends a.Component{render(){const e=this.props,t=e.disableCheckForUpdates,n=e.authentification,o=e.children,s=e.eventsFunctionCodeWriter,i=e.eventsFunctionsExtensionWriter,r=e.eventsFunctionsExtensionOpener;return a.createElement(d,null,a.createElement(J.a,null,a.createElement(z,{disableCheckForUpdates:t},a.createElement(L.b.Consumer,null,({values:e})=>{const t=Object(p.a)(e.themeName);return a.createElement(H.a,{language:e.language},a.createElement(q.a.Provider,{value:t.gdevelopTheme},a.createElement(h.a,{theme:t.muiTheme},a.createElement(D,{authentification:n},a.createElement(b.I18n,{update:!0},({i18n:e})=>a.createElement(X,{i18n:e,eventsFunctionCodeWriter:s,eventsFunctionsExtensionWriter:i,eventsFunctionsExtensionOpener:r},a.createElement(Y.a.Consumer,null,t=>o({i18n:e,eventsFunctionsExtensionsState:t}))))))))}))))}}},909:function(e,t,n){"use strict";var a={name:"Tomorrow-Night",themeName:"tomorrow-night",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"969896",token:"comment"},{foreground:"ced1cf",token:"keyword.operator.class"},{foreground:"ced1cf",token:"constant.other"},{foreground:"ced1cf",token:"source.php.embedded.line"},{foreground:"cc6666",token:"variable"},{foreground:"cc6666",token:"support.other.variable"},{foreground:"cc6666",token:"string.other.link"},{foreground:"cc6666",token:"string.regexp"},{foreground:"cc6666",token:"entity.name.tag"},{foreground:"cc6666",token:"entity.other.attribute-name"},{foreground:"cc6666",token:"meta.tag"},{foreground:"cc6666",token:"declaration.tag"},{foreground:"de935f",token:"constant.numeric"},{foreground:"de935f",token:"constant.language"},{foreground:"de935f",token:"support.constant"},{foreground:"de935f",token:"constant.character"},{foreground:"de935f",token:"variable.parameter"},{foreground:"de935f",token:"punctuation.section.embedded"},{foreground:"de935f",token:"keyword.other.unit"},{foreground:"f0c674",token:"entity.name.class"},{foreground:"f0c674",token:"entity.name.type.class"},{foreground:"f0c674",token:"support.type"},{foreground:"f0c674",token:"support.class"},{foreground:"b5bd68",token:"string"},{foreground:"b5bd68",token:"constant.other.symbol"},{foreground:"b5bd68",token:"entity.other.inherited-class"},{foreground:"b5bd68",token:"markup.heading"},{foreground:"8abeb7",token:"keyword.operator"},{foreground:"8abeb7",token:"constant.other.color"},{foreground:"81a2be",token:"entity.name.function"},{foreground:"81a2be",token:"meta.function-call"},{foreground:"81a2be",token:"support.function"},{foreground:"81a2be",token:"keyword.other.special-method"},{foreground:"81a2be",token:"meta.block-level"},{foreground:"b294bb",token:"keyword"},{foreground:"b294bb",token:"storage"},{foreground:"b294bb",token:"storage.type"},{foreground:"b294bb",token:"entity.name.tag.css"},{foreground:"ced2cf",background:"df5f5f",token:"invalid"},{foreground:"ced2cf",background:"82a3bf",token:"meta.separator"},{foreground:"ced2cf",background:"b798bf",token:"invalid.deprecated"}],colors:{"editor.foreground":"#C5C8C6","editor.background":"#1D1F21","editor.selectionBackground":"#373B41","editor.lineHighlightBackground":"#282A2E","editorCursor.foreground":"#AEAFAD","editorWhitespace.foreground":"#4B4E55"}}};var o={name:"Monokai",themeName:"monokai",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"75715e",token:"comment"},{foreground:"e6db74",token:"string"},{foreground:"ae81ff",token:"constant.numeric"},{foreground:"ae81ff",token:"constant.language"},{foreground:"ae81ff",token:"constant.character"},{foreground:"ae81ff",token:"constant.other"},{foreground:"f92672",token:"keyword"},{foreground:"f92672",token:"storage"},{foreground:"66d9ef",fontStyle:"italic",token:"storage.type"},{foreground:"a6e22e",fontStyle:"underline",token:"entity.name.class"},{foreground:"a6e22e",fontStyle:"italic underline",token:"entity.other.inherited-class"},{foreground:"a6e22e",token:"entity.name.function"},{foreground:"fd971f",fontStyle:"italic",token:"variable.parameter"},{foreground:"f92672",token:"entity.name.tag"},{foreground:"a6e22e",token:"entity.other.attribute-name"},{foreground:"66d9ef",token:"support.function"},{foreground:"66d9ef",token:"support.constant"},{foreground:"66d9ef",fontStyle:"italic",token:"support.type"},{foreground:"66d9ef",fontStyle:"italic",token:"support.class"},{foreground:"f8f8f0",background:"f92672",token:"invalid"},{foreground:"f8f8f0",background:"ae81ff",token:"invalid.deprecated"},{foreground:"cfcfc2",token:"meta.structure.dictionary.json string.quoted.double.json"},{foreground:"75715e",token:"meta.diff"},{foreground:"75715e",token:"meta.diff.header"},{foreground:"f92672",token:"markup.deleted"},{foreground:"a6e22e",token:"markup.inserted"},{foreground:"e6db74",token:"markup.changed"},{foreground:"ae81ff",token:"constant.numeric.line-number.find-in-files - match"},{foreground:"e6db74",token:"entity.name.filename.find-in-files"}],colors:{"editor.foreground":"#F8F8F2","editor.background":"#272822","editor.selectionBackground":"#49483E","editor.lineHighlightBackground":"#3E3D32","editorCursor.foreground":"#F8F8F0","editorWhitespace.foreground":"#3B3A32","editorIndentGuide.activeBackground":"#9D550F","editor.selectionHighlightBorder":"#222218"}}};var s={name:"Tomorrow",themeName:"tomorrow",themeData:{base:"vs",inherit:!0,rules:[{foreground:"8e908c",token:"comment"},{foreground:"666969",token:"keyword.operator.class"},{foreground:"666969",token:"constant.other"},{foreground:"666969",token:"source.php.embedded.line"},{foreground:"c82829",token:"variable"},{foreground:"c82829",token:"support.other.variable"},{foreground:"c82829",token:"string.other.link"},{foreground:"c82829",token:"string.regexp"},{foreground:"c82829",token:"entity.name.tag"},{foreground:"c82829",token:"entity.other.attribute-name"},{foreground:"c82829",token:"meta.tag"},{foreground:"c82829",token:"declaration.tag"},{foreground:"f5871f",token:"constant.numeric"},{foreground:"f5871f",token:"constant.language"},{foreground:"f5871f",token:"support.constant"},{foreground:"f5871f",token:"constant.character"},{foreground:"f5871f",token:"variable.parameter"},{foreground:"f5871f",token:"punctuation.section.embedded"},{foreground:"f5871f",token:"keyword.other.unit"},{foreground:"c99e00",token:"entity.name.class"},{foreground:"c99e00",token:"entity.name.type.class"},{foreground:"c99e00",token:"support.type"},{foreground:"c99e00",token:"support.class"},{foreground:"718c00",token:"string"},{foreground:"718c00",token:"constant.other.symbol"},{foreground:"718c00",token:"entity.other.inherited-class"},{foreground:"718c00",token:"markup.heading"},{foreground:"3e999f",token:"keyword.operator"},{foreground:"3e999f",token:"constant.other.color"},{foreground:"4271ae",token:"entity.name.function"},{foreground:"4271ae",token:"meta.function-call"},{foreground:"4271ae",token:"support.function"},{foreground:"4271ae",token:"keyword.other.special-method"},{foreground:"4271ae",token:"meta.block-level"},{foreground:"8959a8",token:"keyword"},{foreground:"8959a8",token:"storage"},{foreground:"8959a8",token:"storage.type"},{foreground:"ffffff",background:"c82829",token:"invalid"},{foreground:"ffffff",background:"4271ae",token:"meta.separator"},{foreground:"ffffff",background:"8959a8",token:"invalid.deprecated"}],colors:{"editor.foreground":"#4D4D4C","editor.background":"#FFFFFF","editor.selectionBackground":"#D6D6D6","editor.lineHighlightBackground":"#EFEFEF","editorCursor.foreground":"#AEAFAD","editorWhitespace.foreground":"#D1D1D1"}}};var i={name:"Solarized-Dark",themeName:"solarized-dark",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"657b83",fontStyle:"italic",token:"comment"},{foreground:"2aa198",token:"string"},{foreground:"d30102",token:"string.regexp"},{foreground:"d33682",token:"constant.numeric"},{foreground:"268bd2",token:"variable.language"},{foreground:"268bd2",token:"variable.other"},{foreground:"859900",token:"keyword"},{foreground:"93a1a1",fontStyle:"bold",token:"storage"},{foreground:"cb4b16",token:"entity.name.class"},{foreground:"cb4b16",token:"entity.name.type.class"},{foreground:"268bd2",token:"entity.name.function"},{foreground:"859900",token:"punctuation.definition.variable"},{foreground:"d30102",token:"punctuation.section.embedded.begin"},{foreground:"d30102",token:"punctuation.section.embedded.end"},{foreground:"b58900",token:"constant.language"},{foreground:"b58900",token:"meta.preprocessor"},{foreground:"cb4b16",token:"support.function.construct"},{foreground:"cb4b16",token:"keyword.other.new"},{foreground:"cb4b16",token:"constant.character"},{foreground:"cb4b16",token:"constant.other"},{foreground:"6c71c4",token:"entity.other.inherited-class"},{foreground:"268bd2",fontStyle:"bold",token:"entity.name.tag"},{foreground:"657b83",token:"punctuation.definition.tag"},{foreground:"93a1a1",token:"entity.other.attribute-name"},{foreground:"268bd2",token:"support.function"},{foreground:"d30102",token:"punctuation.separator.continuation"},{foreground:"859900",token:"support.type"},{foreground:"859900",token:"support.class"},{foreground:"cb4b16",token:"support.type.exception"}],colors:{"editor.foreground":"#93A1A1","editor.background":"#002B36","editor.selectionBackground":"#073642","editor.lineHighlightBackground":"#073642","editorCursor.foreground":"#D30102","editorWhitespace.foreground":"#93A1A1"}}};var r={name:"Solarized-Light",themeName:"solarized-light",themeData:{base:"vs",inherit:!0,rules:[{foreground:"93a1a1",token:"comment"},{foreground:"2aa198",token:"string"},{foreground:"d30102",token:"string.regexp"},{foreground:"d33682",token:"constant.numeric"},{foreground:"268bd2",token:"variable.language"},{foreground:"268bd2",token:"variable.other"},{foreground:"859900",token:"keyword"},{foreground:"073642",fontStyle:"bold",token:"storage"},{foreground:"268bd2",token:"entity.name.class"},{foreground:"268bd2",token:"entity.name.type.class"},{foreground:"268bd2",token:"entity.name.function"},{foreground:"859900",token:"punctuation.definition.variable"},{foreground:"d30102",token:"punctuation.section.embedded.begin"},{foreground:"d30102",token:"punctuation.section.embedded.end"},{foreground:"b58900",token:"constant.language"},{foreground:"b58900",token:"meta.preprocessor"},{foreground:"d30102",token:"support.function.construct"},{foreground:"d30102",token:"keyword.other.new"},{foreground:"cb4b16",token:"constant.character"},{foreground:"cb4b16",token:"constant.other"},{foreground:"268bd2",fontStyle:"bold",token:"entity.name.tag"},{foreground:"93a1a1",token:"punctuation.definition.tag.begin"},{foreground:"93a1a1",token:"punctuation.definition.tag.end"},{foreground:"93a1a1",token:"entity.other.attribute-name"},{foreground:"268bd2",token:"support.function"},{foreground:"d30102",token:"punctuation.separator.continuation"},{foreground:"859900",token:"support.type"},{foreground:"859900",token:"support.class"},{foreground:"cb4b16",token:"support.type.exception"}],colors:{"editor.foreground":"#586E75","editor.background":"#FDF6E3","editor.selectionBackground":"#073642","editor.lineHighlightBackground":"#EEE8D5","editorCursor.foreground":"#000000","editorWhitespace.foreground":"#93A1A1"}}};var l={name:"Vibrant Ink",themeName:"vibrant-ink",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"ffffff",background:"0f0f0f",token:"text"},{background:"000000",token:"source.ruby.rails.embedded.html"},{foreground:"ffffff",background:"101010",token:"text.html.ruby"},{foreground:"ccff33",background:"000000",token:"invalid"},{foreground:"ccff33",background:"000000",token:"invalid.deprecated"},{foreground:"99cc99",token:"constant.numeric"},{foreground:"ffffff",background:"000000",token:"source"},{foreground:"9933cc",token:"comment"},{foreground:"339999",token:"constant"},{foreground:"ff6600",token:"keyword"},{foreground:"edf8f9",token:"keyword.preprocessor"},{foreground:"ffffff",token:"keyword.preprocessor directive"},{foreground:"ffcc00",token:"entity.name.function"},{foreground:"ffcc00",token:"storage.type.function.js"},{fontStyle:"italic",token:"variable.parameter"},{foreground:"772cb7",background:"070707",token:"source comment.block"},{foreground:"ffffff",token:"variable.other"},{foreground:"ffcc00",token:"support.function"},{foreground:"66ff00",token:"string"},{foreground:"aaaaaa",token:"string constant.character.escape"},{foreground:"000000",background:"cccc33",token:"string.interpolated"},{foreground:"44b4cc",token:"string.regexp"},{foreground:"cccc33",token:"string.literal"},{foreground:"555555",token:"string.interpolated constant.character.escape"},{fontStyle:"underline",token:"entity.name.class"},{fontStyle:"underline",token:"support.class.js"},{fontStyle:"italic underline",token:"entity.other.inherited-class"},{foreground:"ff6600",token:"meta.tag.inline.any.html"},{foreground:"ff6600",token:"meta.tag.block.any.html"},{foreground:"99cc99",fontStyle:"italic",token:"entity.other.attribute-name"},{foreground:"dde93d",token:"keyword.other"},{foreground:"ff6600",token:"meta.selector.css"},{foreground:"ff6600",token:"entity.other.attribute-name.pseudo-class.css"},{foreground:"ff6600",token:"entity.name.tag.wildcard.css"},{foreground:"ff6600",token:"entity.other.attribute-name.id.css"},{foreground:"ff6600",token:"entity.other.attribute-name.class.css"},{foreground:"999966",token:"support.type.property-name.css"},{foreground:"ffffff",token:"keyword.other.unit.css"},{foreground:"ffffff",token:"constant.other.rgb-value.css"},{foreground:"ffffff",token:"constant.numeric.css"},{foreground:"ffffff",token:"support.function.event-handler.js"},{foreground:"ffffff",token:"keyword.operator.js"},{foreground:"cccc66",token:"keyword.control.js"},{foreground:"ffffff",token:"support.class.prototype.js"},{foreground:"ff6600",token:"object.property.function.prototype.js"}],colors:{"editor.foreground":"#FFFFFF","editor.background":"#0F0F0F","editor.selectionBackground":"#6699CC","editor.lineHighlightBackground":"#333333","editorCursor.foreground":"#FFFFFF","editorWhitespace.foreground":"#404040"}}};var c={name:"GitHub",themeName:"github",themeData:{base:"vs",inherit:!0,rules:[{foreground:"999988",fontStyle:"italic",token:"comment"},{foreground:"999999",fontStyle:"bold",token:"comment.block.preprocessor"},{foreground:"999999",fontStyle:"bold italic",token:"comment.documentation"},{foreground:"999999",fontStyle:"bold italic",token:"comment.block.documentation"},{foreground:"a61717",background:"e3d2d2",token:"invalid.illegal"},{fontStyle:"bold",token:"keyword"},{fontStyle:"bold",token:"storage"},{fontStyle:"bold",token:"keyword.operator"},{fontStyle:"bold",token:"constant.language"},{fontStyle:"bold",token:"support.constant"},{foreground:"445588",fontStyle:"bold",token:"storage.type"},{foreground:"445588",fontStyle:"bold",token:"support.type"},{foreground:"008080",token:"entity.other.attribute-name"},{foreground:"0086b3",token:"variable.other"},{foreground:"999999",token:"variable.language"},{foreground:"445588",fontStyle:"bold",token:"entity.name.type"},{foreground:"445588",fontStyle:"bold",token:"entity.other.inherited-class"},{foreground:"445588",fontStyle:"bold",token:"support.class"},{foreground:"008080",token:"variable.other.constant"},{foreground:"800080",token:"constant.character.entity"},{foreground:"990000",token:"entity.name.exception"},{foreground:"990000",token:"entity.name.function"},{foreground:"990000",token:"support.function"},{foreground:"990000",token:"keyword.other.name-of-parameter"},{foreground:"555555",token:"entity.name.section"},{foreground:"000080",token:"entity.name.tag"},{foreground:"008080",token:"variable.parameter"},{foreground:"008080",token:"support.variable"},{foreground:"009999",token:"constant.numeric"},{foreground:"009999",token:"constant.other"},{foreground:"dd1144",token:"string - string source"},{foreground:"dd1144",token:"constant.character"},{foreground:"009926",token:"string.regexp"},{foreground:"990073",token:"constant.other.symbol"},{fontStyle:"bold",token:"punctuation"},{foreground:"000000",background:"ffdddd",token:"markup.deleted"},{fontStyle:"italic",token:"markup.italic"},{foreground:"aa0000",token:"markup.error"},{foreground:"999999",token:"markup.heading.1"},{foreground:"000000",background:"ddffdd",token:"markup.inserted"},{foreground:"888888",token:"markup.output"},{foreground:"888888",token:"markup.raw"},{foreground:"555555",token:"markup.prompt"},{fontStyle:"bold",token:"markup.bold"},{foreground:"aaaaaa",token:"markup.heading"},{foreground:"aa0000",token:"markup.traceback"},{fontStyle:"underline",token:"markup.underline"},{foreground:"999999",background:"eaf2f5",token:"meta.diff.range"},{foreground:"999999",background:"eaf2f5",token:"meta.diff.index"},{foreground:"999999",background:"eaf2f5",token:"meta.separator"},{foreground:"999999",background:"ffdddd",token:"meta.diff.header.from-file"},{foreground:"999999",background:"ddffdd",token:"meta.diff.header.to-file"},{foreground:"4183c4",token:"meta.link"}],colors:{"editor.foreground":"#000000","editor.background":"#F8F8FF","editor.selectionBackground":"#B4D5FE","editor.lineHighlightBackground":"#FFFEEB","editorCursor.foreground":"#666666","editorWhitespace.foreground":"#BBBBBB"}}};n.d(t,"a",(function(){return d}));const u=[{name:"Visual Studio",themeName:"vs"},{name:"Visual Studio Dark",themeName:"vs-dark"},c,o,i,r,s,a,l],d=()=>u},910:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(195),i=n(72),r=n(1944),l=n(124),c=n(92),u=n(241),d=n(112),h=n(310);const p={previewContainer:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",height:200,border:"#AAAAAA 1px solid",background:'url("res/transparentback.png") repeat'},icon:{width:60,height:60}};var m=({renderIcon:e})=>a.createElement("div",{style:p.previewContainer},e({style:p.icon})),g=n(1946),b=n.n(g),f=n(1947),E=n.n(f),v=n(1948),y=n.n(v),C=n(1949),x=n.n(C);class j extends a.PureComponent{constructor(...e){super(...e),this.state=this._loadFrom(this.props)}componentWillReceiveProps(e){e.resourceName===this.props.resourceName&&e.project===this.props.project&&e.resourcePath===this.props.resourcePath||this.setState(this._loadFrom(e))}_loadFrom(e){const t=e.project,n=e.resourceName,a=t.getResourcesManager();return{resourceKind:a.hasResource(n)?a.getResource(n).getKind():null}}render(){switch(this.state.resourceKind){case"image":return a.createElement(h.a,{project:this.props.project,resourceName:this.props.resourceName,resourcesLoader:this.props.resourcesLoader,onSize:this.props.onSize,resourcePath:this.props.resourcePath});case"audio":return a.createElement(m,{renderIcon:e=>a.createElement(b.a,e)});case"json":return a.createElement(m,{renderIcon:e=>a.createElement(E.a,e)});case"video":return a.createElement(m,{renderIcon:e=>a.createElement(y.a,e)});case"font":return a.createElement(m,{renderIcon:e=>a.createElement(x.a,e)});default:return null}}}var S=n(291);const T={propertiesContainer:{padding:8,overflowY:"scroll",overflowX:"hidden",flex:2}};class O extends a.Component{constructor(...e){super(...e),this.schema=[{name:"Resource name",valueType:"string",disabled:!0,getValue:e=>e.getName(),setValue:(e,t)=>e.setName(t)},{name:"File",valueType:"string",getValue:e=>e.getFile(),setValue:(e,t)=>e.setFile(t),onEditButtonClick:()=>this._chooseResourcePath()}],this._chooseResourcePath=()=>{const e=this.props,t=e.resources,n=e.onResourcePathUpdated,a=e.onChooseResource,o=e.resourceSources,s=t[0],i=o.filter(e=>e.kind===s.getKind());i.length&&a(i[0].name).then(e=>{e.length&&(s.setFile(e[0].getFile()),e.forEach(e=>e.delete()),n(),this.forceUpdate())})}}_renderEmpty(){return a.createElement(c.a,null,a.createElement(i.Trans,{id:"Resources are automatically added to your project whenever you add an image, a font or a video to an object or when you choose an audio file in events. Choose a resource to display its properties."}))}_renderResourcesProperties(){const e=this.props,t=e.resources,n=e.project,o=t[0].getProperties(n),s=Object(S.a)(o,e=>e.getProperties(n),(e,t,a)=>e.updateProperty(t,a,n));return a.createElement("div",{style:T.propertiesContainer,key:t.map(e=>""+e.ptr).join(";")},a.createElement(u.a,{schema:this.schema.concat(s),instances:t}))}_renderPreview(){const e=this.props,t=e.resources,n=e.project,o=e.resourcesLoader;if(t&&t.length)return a.createElement(j,{resourceName:t[0].getName(),resourcePath:t[0].getFile(),resourcesLoader:o,project:n})}render(){const e=this.props.resources;return a.createElement(l.a,{maxWidth:!0},this._renderPreview(),e&&e.length?this._renderResourcesProperties():this._renderEmpty())}}var w=n(264),N=n(232),_=n(272);class k extends a.PureComponent{render(){const e=this.props.canDelete;return o.a.createElement(w.b,{lastChild:!0},o.a.createElement(N.a,{onClick:this.props.onOpenProjectFolder,src:"res/ribbon_default/open32.png",tooltip:{id:"Open the project folder"}}),o.a.createElement(_.a,null),o.a.createElement(N.a,{onClick:this.props.onOpenProperties,src:"res/ribbon_default/editprop32.png",tooltip:{id:"Open the properties panel"}}),o.a.createElement(_.a,null),o.a.createElement(N.a,{onClick:this.props.onDeleteSelection,src:"res/ribbon_default/deleteselected32.png",disabled:!e,tooltip:{id:"Delete the selected resource"}}))}}var P=k,I=n(380),F=n(511),B=n(3),M=n.n(B),R=n(5),D=n(120);const L=M()("electron"),A=L?L.shell:null,U=M()("path"),V={container:{display:"flex",flex:1,position:"relative",overflow:"hidden"}},W={direction:"row",first:"properties",second:"resources-list",splitPercentage:66};class G extends a.Component{constructor(...e){super(...e),this.editorMosaic=null,this._propertiesEditor=null,this._resourcesList=null,this.resourcesLoader=d.a,this.state={showPropertiesInfoBar:!1,selectedResource:null},this.deleteResource=e=>{const t=this.props,n=t.project,a=t.onDeleteResource;e&&R.b.showConfirmDialog("Are you sure you want to remove this resource? This can't be undone.")&&a(e,t=>{t&&e&&(n.getResourcesManager().removeResource(e.getName()),this.setState({selectedResource:null},()=>{this._resourcesList&&this._resourcesList.forceUpdateList(),this.updateToolbar()}))})},this.openProjectFolder=()=>{const e=this.props.project;A&&A.openItem(U.dirname(e.getProjectFile()))},this.openProperties=()=>{this.editorMosaic&&(this.editorMosaic.openEditor("properties","start",66,"column")||this.setState({showPropertiesInfoBar:!0}))},this._onResourceSelected=e=>{this.setState({selectedResource:e},()=>{this._propertiesEditor&&this._propertiesEditor.forceUpdate(),this.updateToolbar()})}}updateToolbar(){this.props.setToolbar(a.createElement(P,{onOpenProjectFolder:this.openProjectFolder,onOpenProperties:this.openProperties,canDelete:!!this.state.selectedResource,onDeleteSelection:()=>this.deleteResource(this.state.selectedResource)}))}render(){const e=this.props,t=e.project,n=e.onRenameResource,o=e.onChooseResource,s=e.resourceSources,l=this.state.selectedResource,c={properties:{type:"secondary",title:{id:"Properties"},renderEditor:()=>a.createElement(O,{key:l?l.ptr:void 0,resources:l?[l]:[],project:t,resourcesLoader:this.resourcesLoader,ref:e=>this._propertiesEditor=e,onResourcePathUpdated:()=>{this._resourcesList&&this._resourcesList.checkMissingPaths()},onChooseResource:o,resourceSources:s})},"resources-list":{type:"primary",noTitleBar:!0,renderEditor:()=>a.createElement(r.a,{project:t,onDeleteResource:this.deleteResource,onRenameResource:n,onSelectResource:this._onResourceSelected,selectedResource:l,ref:e=>this._resourcesList=e})}};return a.createElement("div",{style:V.container},a.createElement(D.b.Consumer,null,({getDefaultEditorMosaicNode:e,setDefaultEditorMosaicNode:t})=>a.createElement(I.a,{editors:c,ref:e=>this.editorMosaic=e,initialNodes:e("resources-editor")||W,onPersistNodes:e=>t("resources-editor",e)})),a.createElement(F.a,{message:a.createElement(i.Trans,{id:"Properties panel is already opened. After selecting a resource, inspect and change its properties from this panel."}),show:!!this.state.showPropertiesInfoBar,identifier:"resource-properties-panel-explanation"}))}}G.defaultProps={setToolbar:()=>{}},n.d(t,"a",(function(){return z}));class z extends s.a{updateToolbar(){this.editor&&this.editor.updateToolbar()}forceUpdateEditor(){}render(){const e=this.props.project;return o.a.createElement(G,Object.assign({},this.props,{ref:e=>this.editor=e,project:e}))}}},911:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n.n(o),i=n(236),r=n.n(i),l=n(22),c=n(1124),u=n.n(c);const d=e=>{const t=e.trim();return 0===t.indexOf("https://")?t:"".concat(l.b.baseUrl,"/").concat(t)};var h=n(100),p=n(143),m=n(86),g=n(82),b=n(284),f=n(75),E=n(84),v=n(92),y=({onRetry:e,children:t})=>o.createElement(f.a,{expand:!0,alignItems:"center"},o.createElement(v.a,null,t),o.createElement(f.b,null,e&&o.createElement(E.a,{primary:!0,label:o.createElement(a.Trans,{id:"Retry"}),onClick:()=>e()}))),C=n(205),x=n(83),j=n(132),S=n(9);class T extends o.Component{constructor(...e){super(...e),this.state={extensionHeader:null,error:null},this._loadExtensionheader=()=>{var e;this.setState({error:null}),(e=this.props.extensionShortHeader,r.a.get(d(e.headerUrl)).then(e=>e.data)).then(e=>{this.setState({extensionHeader:e})},e=>{this.setState({error:e})})}}componentDidMount(){this._loadExtensionheader()}render(){const e=this.props,t=e.isInstalling,n=e.extensionShortHeader,o=e.onClose,i=e.onInstall,r=e.alreadyInstalled,l=this.state,c=l.extensionHeader,d=l.error,h=((e,t)=>!t.gdevelopVersion||u()(e,t.gdevelopVersion,{includePrerelease:!0}))(Object(S.b)(),n);return s.a.createElement(m.a,{title:c?c.fullName:n.fullName,actions:[s.a.createElement(g.a,{key:"close",label:s.a.createElement(a.Trans,{id:"Back"}),primary:!1,onClick:o,disabled:t}),s.a.createElement(b.a,{isLoading:t},s.a.createElement(g.a,{key:"install",label:h?r?s.a.createElement(a.Trans,{id:"Re-install/update"}):s.a.createElement(a.Trans,{id:"Install in project"}):s.a.createElement(a.Trans,{id:"Not compatible"}),primary:!0,onClick:i,disabled:t||!h}))],cannotBeDismissed:!1,open:!0,onRequestClose:o},!h&&s.a.createElement(j.a,{kind:"error"},s.a.createElement(a.Trans,{id:"Unfortunately, this extension requires a newer version of GDevelop to work. Upgrade GDevelop to be able to use this extension in your project."})),c?s.a.createElement(C.a,{source:c.description,isStandaloneText:!0}):s.a.createElement(x.a,null,n.shortDescription),!c&&!d&&s.a.createElement(p.a,null),!c&&d&&s.a.createElement(y,{onRetry:this._loadExtensionheader},s.a.createElement(a.Trans,{id:"Can't load the extension registry. Verify your internet connection or try again later."})))}}var O=n(114),w=n(20),N=n(285),_=n(622);n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return P}));const k=(e,t,n)=>{const a=n.name;if(!a)return Promise.reject(new Error("Malformed extension (missing name)."));const o=t.hasEventsFunctionsExtensionNamed(a)?t.getEventsFunctionsExtension(a):t.insertNewEventsFunctionsExtension(a,0);return Object(O.c)(o,n,"unserializeFrom",t),e.loadProjectEventsFunctionsExtensions(t)};class P extends o.Component{constructor(...e){super(...e),this.state={isInstalling:!1,extensionsRegistry:null,selectedExtensionShortHeader:null,searchText:"",error:null,chosenTag:""},this._loadExtensionsRegistry=()=>{this.setState({error:null}),r.a.get("".concat(l.b.baseUrl,"/extensions-registry.json")).then(e=>e.data).then(e=>{this.setState({extensionsRegistry:e},()=>{this.props.onRegistryLoaded&&this.props.onRegistryLoaded()})},e=>{this.setState({error:e})})},this._install=(e,t,n)=>{const a=this.props.project;var o;this.setState({isInstalling:!0}),(o=n,r.a.get(d(o.url)).then(e=>e.data)).then(e=>k(t,a,e).then(()=>{this.setState({selectedExtensionShortHeader:null},()=>this.props.onNewExtensionInstalled())}),t=>{Object(w.a)(e._({id:"Unable to download and install the extension. Verify that your internet connection is working or try again later."}),t)}).then(()=>{this.setState({isInstalling:!1})})}}componentDidMount(){this._loadExtensionsRegistry()}render(){const e=this.props,t=e.project,n=e.showOnlyWithBehaviors,o=this.state,i=o.selectedExtensionShortHeader,r=o.extensionsRegistry,l=o.searchText,c=o.isInstalling,u=o.error,d=o.chosenTag,m=r?((e,{searchText:t,chosenTag:n,showOnlyWithBehaviors:a})=>{const o=e.filter(({eventsBasedBehaviorsCount:e})=>!a||e>0);if(!t&&!n)return o;const s=t.toLowerCase();return o.filter(({tags:e})=>!n||-1!==e.indexOf(n)).filter(({name:e,shortDescription:n})=>!t||-1!==e.toLowerCase().indexOf(s)||-1!==n.toLowerCase().indexOf(s))})(r.extensionShortHeaders,{searchText:l,chosenTag:d,showOnlyWithBehaviors:n}):[];return s.a.createElement(a.I18n,null,({i18n:e})=>s.a.createElement(N.a.Consumer,null,n=>s.a.createElement(s.a.Fragment,null,s.a.createElement(_.a,{value:l,onRequestSearch:()=>{m.length&&this.setState({selectedExtensionShortHeader:m[0]})},onChange:e=>this.setState({searchText:e}),chips:r?r.allTags.map(e=>({text:e,value:e})):null,chosenChip:d,onChooseChip:e=>this.setState({chosenTag:e})}),s.a.createElement(h.a,null,!r&&!u&&s.a.createElement(p.a,null),!!r&&m.slice(0,20).map(e=>{const n=t.hasEventsFunctionsExtensionNamed(e.name);return s.a.createElement(h.b,{key:e.name,primaryText:s.a.createElement("span",null,e.fullName," ",n&&s.a.createElement(a.Trans,{id:"(already installed)"})),secondaryText:e.shortDescription,secondaryTextLines:2,onClick:()=>this.setState({selectedExtensionShortHeader:e})})}),!!r&&m.length>20&&s.a.createElement(v.a,null,s.a.createElement(a.Trans,{id:"There are other results not displayed. Enter more precise search criteria to find other extensions."})),!r&&u&&s.a.createElement(y,{onRetry:this._loadExtensionsRegistry},s.a.createElement(a.Trans,{id:"Can't load the extension registry. Verify your internet connection or try again later."}))),!!i&&s.a.createElement(T,{isInstalling:c,extensionShortHeader:i,alreadyInstalled:t.hasEventsFunctionsExtensionNamed(i.name),onInstall:()=>this._install(e,n,i),onClose:()=>this.setState({selectedExtensionShortHeader:null})}))))}}},912:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n.n(o),i=n(198),r=n(402),l=n(124),c=n(150),u=n(78),d=n(86),h=n(82),p=n(134),m=n(179),g=n(100),b=n(251),f=n.n(b),E=n(252),v=n.n(E),y=n(192),C=n(111),x=n(377),j=n(75);const S=({objectMetadata:e,onClick:t})=>""===e.name?null:s.a.createElement(g.b,{leftIcon:s.a.createElement(p.a,{src:e.iconFilename,iconSize:40,isGDevelopIcon:!0}),key:e.name,primaryText:e.fullName,secondaryText:e.description,secondaryTextLines:2,onClick:t});class T extends o.Component{constructor(...e){super(...e),this.state=Object(u.a)({},this._loadFrom(this.props.project),{showExperimental:!1}),this._showExperimental=(e=!0)=>{this.setState({showExperimental:e})}}_loadFrom(e){return e&&e.getCurrentPlatform()?{objectMetadata:Object(y.b)(e)}:{objectMetadata:[]}}componentWillReceiveProps(e){(!this.props.open&&e.open||e.open&&this.props.project!==e.project)&&this.setState(this._loadFrom(e.project))}render(){const e=this.props,t=e.project,n=e.open,o=e.onClose,i=e.onChoose,r=this.state,l=r.objectMetadata,c=r.showExperimental;if(!n||!t)return null;const u=Object(x.b)(),p=l.filter(({name:e})=>!u[e]),b=l.filter(({name:e})=>!!u[e]);return s.a.createElement(d.a,{title:s.a.createElement(a.Trans,{id:"Add a new object"}),secondaryActions:s.a.createElement(C.a,{helpPagePath:"/objects"}),actions:s.a.createElement(h.a,{label:s.a.createElement(a.Trans,{id:"Close"}),primary:!1,onClick:o}),onRequestClose:o,cannotBeDismissed:!1,open:n,noMargin:!0},s.a.createElement(g.a,null,p.map(e=>s.a.createElement(S,{key:e.name,objectMetadata:e,onClick:()=>i(e.name)})),c&&s.a.createElement(m.a,null,"Experimental (make sure to read the documentation page)"),c&&b.map(e=>s.a.createElement(S,{key:e.name,objectMetadata:e,onClick:()=>i(e.name)}))),s.a.createElement(j.b,{justifyContent:"center",alignItems:"center"},c?s.a.createElement(h.a,{key:"toggle-experimental",icon:s.a.createElement(v.a,null),primary:!1,onClick:()=>this._showExperimental(!1),label:s.a.createElement(a.Trans,{id:"Hide experimental objects"})}):s.a.createElement(h.a,{key:"toggle-experimental",icon:s.a.createElement(f.a,null),primary:!1,onClick:()=>this._showExperimental(!0),label:s.a.createElement(a.Trans,{id:"Show experimental objects"})})))}}var O=n(207),w=n(133),N=n(208),_=n(5),k=n(114),P=n(20);var I=n(797),F=n(94),B=n(245);class M extends o.Component{constructor(...e){super(...e),this.state={tagsString:this.props.tagsString},this._tagsField=o.createRef()}componentDidMount(){setTimeout(()=>{this._tagsField&&this._tagsField.current&&this._tagsField.current.focus()},10)}render(){const e=this.props,t=e.onCancel,n=e.onEdit,s=this.state.tagsString,i=Object(B.c)(s);return o.createElement(d.a,{actions:[o.createElement(h.a,{key:"close",label:o.createElement(a.Trans,{id:"Cancel"}),primary:!1,onClick:t}),o.createElement(h.a,{key:"add",label:this.props.tagsString&&!i.length?o.createElement(a.Trans,{id:"Remove all tags"}):o.createElement(a.Trans,{id:"Add/update {0} tag(s)",values:{0:i.length}}),primary:!0,onClick:()=>n(i),disabled:!this.props.tagsString&&!i.length})],cannotBeDismissed:!0,open:!0,onRequestClose:t},o.createElement(F.b,{fullWidth:!0,value:s,onChange:(e,t)=>this.setState({tagsString:t}),floatingLabelText:"Tag(s) (comma-separated)",hintText:{id:"For example: player, spaceship, inventory..."},onKeyPress:e=>{"Enter"===e.key&&n(i)},ref:this._tagsField}))}}n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return V}));const R={listContainer:{flex:1}},D="GD_OBJECT_WITH_CONTEXT",L=e=>e.object.getName(),A=e=>e.global,U=e=>{let t="";if(N.a.has("Object")){const e=N.a.get("Object");e&&(t=e.name)}return e?"Paste "+t+" as a Global Object":"Paste "+t};class V extends s.a.Component{constructor(...e){super(...e),this._displayedObjectWithContextsList=[],this.state={newObjectDialogOpen:!1,renamedObjectWithContext:null,variablesEditedObject:null,searchText:"",tagEditedObject:null},this.addObject=e=>{const t=this.props,n=t.project,a=t.objectsContainer,o=t.onEditObject,s=t.onObjectCreated,i=t.onObjectSelected,r=Object(w.a)("NewObject",e=>a.hasObjectNamed(e)||n.hasObjectNamed(e)),l=a.insertNewObject(n,e,r,a.getObjectsCount());l.setTags(Object(B.b)(this.props.selectedObjectTags)),this.setState({newObjectDialogOpen:!1},()=>{o&&(o(l),s(r),i(r))})},this.onAddNewObject=()=>{this.setState({newObjectDialogOpen:!0})},this._deleteObject=e=>{const t=e.object,n=e.global,a=this.props,o=a.project,s=a.objectsContainer;_.b.showConfirmDialog("Are you sure you want to remove this object? This can't be undone.")&&this.props.onDeleteObject(e,e=>{e&&(n?o.removeObject(t.getName()):s.removeObject(t.getName()),this._onObjectModified(!1))})},this._copyObject=e=>{const t=e.object;N.a.set("Object",{type:t.getType(),name:t.getName(),object:Object(k.b)(t)})},this._cutObject=e=>{this._copyObject(e),this._deleteObject(e)},this._duplicateObject=e=>{this._copyObject(e),this._pasteAndRename(e)},this._pasteAndRename=e=>{this._editName(this._paste(e))},this._paste=e=>{if(!N.a.has("Object"))return null;const t=e.object,n=e.global,a=N.a.get("Object"),o=a.object,s=a.type,i=a.name,r=this.props,l=r.project,c=r.objectsContainer,u=r.onObjectPasted,d=Object(w.a)(i,e=>c.hasObjectNamed(e)||l.hasObjectNamed(e),""),h=n?l.insertNewObject(l,s,d,l.getObjectPosition(t.getName())):c.insertNewObject(l,s,d,c.getObjectPosition(t.getName()));return Object(k.c)(h,o,"unserializeFrom",l),h.setName(d),this._onObjectModified(!1),u&&u(h),{object:h,global:n}},this._editName=e=>{this.setState({renamedObjectWithContext:e},()=>{this.sortableList&&this.sortableList.forceUpdateGrid()})},this._editVariables=e=>{this.setState({variablesEditedObject:e})},this._rename=(e,t)=>{const n=e.object;this.setState({renamedObjectWithContext:null}),L(e)!==t&&this.props.canRenameObject(t)&&this.props.onRenameObject(e,t,e=>{e&&(n.setName(t),this._onObjectModified(!1))})},this._canMoveSelectionTo=e=>this._displayedObjectWithContextsList.filter(e=>-1!==this.props.selectedObjectNames.indexOf(e.object.getName())).filter(t=>t.global===e.global).length>0,this._moveSelectionTo=e=>{const t=this.props,n=t.project,a=t.objectsContainer,o=e.global?n:a;this._displayedObjectWithContextsList.filter(e=>-1!==this.props.selectedObjectNames.indexOf(e.object.getName())).forEach(t=>{t.global===e.global&&o.moveObject(o.getObjectPosition(t.object.getName()),o.getObjectPosition(e.object.getName()))}),this._onObjectModified(!0)},this._setAsGlobalObject=e=>{const t=e.object,n=this.props,a=n.project,o=n.objectsContainer,s=t.getName();o.hasObjectNamed(s)&&(a.hasObjectNamed(s)?Object(P.c)("A global object with this name already exists. Please change the object name before setting it as a global object"):_.b.showConfirmDialog("This object will be loaded and available in all the scenes. This is only recommended for objects that you reuse a lot and can't be undone. Make this object global?")&&(o.moveObjectToAnotherContainer(s,a,a.getObjectsCount()),this._onObjectModified(!0)))},this.forceUpdateList=()=>{this.forceUpdate(),this.sortableList&&this.sortableList.forceUpdateGrid()},this._openEditTagDialog=e=>{this.setState({tagEditedObject:e})},this._changeObjectTags=(e,t)=>{e.setTags(Object(B.b)(t)),this._onObjectModified(!0)},this._selectObject=e=>{this.props.onObjectSelected(e?e.object.getName():"")},this._getObjectThumbnail=e=>this.props.getThumbnail(this.props.project,e.object),this._renderObjectMenuTemplate=(e,t)=>{const n=e.object;return[{label:"Edit object",click:()=>this.props.onEditObject(n)},{label:"Edit object variables",click:()=>this._editVariables(n)},{type:"separator"},{label:"Tags",submenu:Object(B.a)({noTagLabel:"No tags",getAllTags:this.props.getAllObjectTags,selectedTags:Object(B.c)(n.getTags()),onChange:e=>{this._changeObjectTags(n,e)},editTagsLabel:"Add/edit tags...",onEditTags:()=>this._openEditTagDialog(n)})},{label:"Rename",click:()=>this._editName(e)},{label:"Set as a global object",click:()=>this._setAsGlobalObject(e)},{label:"Delete",click:()=>this._deleteObject(e)},{type:"separator"},{label:"Add a new object...",click:()=>this.onAddNewObject()},{type:"separator"},{label:"Copy",click:()=>this._copyObject(e)},{label:"Cut",click:()=>this._cutObject(e)},{label:U(e.global),enabled:N.a.has("Object"),click:()=>this._paste(e)},{label:"Duplicate",click:()=>this._duplicateObject(e)}]},this._onObjectModified=e=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),e?this.forceUpdateList():this.forceUpdate()}}shouldComponentUpdate(e,t){return this.state.newObjectDialogOpen!==t.newObjectDialogOpen||this.state.renamedObjectWithContext!==t.renamedObjectWithContext||this.state.variablesEditedObject!==t.variablesEditedObject||this.state.searchText!==t.searchText||this.state.tagEditedObject!==t.tagEditedObject||(this.props.selectedObjectNames!==e.selectedObjectNames||this.props.selectedObjectTags!==e.selectedObjectTags||(this.props.project!==e.project||this.props.objectsContainer!==e.objectsContainer))}render(){const e=this.props,t=e.project,n=e.objectsContainer,o=e.selectedObjectTags,u=this.state,d=u.searchText,h=u.tagEditedObject,p=Object(y.c)(t,n);this._displayedObjectWithContextsList=Object(y.f)(p.allObjectsList,{searchText:d,selectedTags:o});const m=this._displayedObjectWithContextsList.filter(e=>-1!==this.props.selectedObjectNames.indexOf(e.object.getName())),g=this._displayedObjectWithContextsList.find(Object(y.g)(this.state.renamedObjectWithContext)),b=t.ptr+";"+n.ptr;return s.a.createElement(l.a,{maxWidth:!0},s.a.createElement(I.a,{tags:this.props.selectedObjectTags,onChange:this.props.onChangeSelectedObjectTags}),s.a.createElement("div",{style:R.listContainer},s.a.createElement(i.a,null,({height:e,width:t})=>s.a.createElement(r.a,{key:b,ref:e=>this.sortableList=e,fullList:this._displayedObjectWithContextsList,width:t,height:e,getItemName:L,getItemThumbnail:this._getObjectThumbnail,isItemBold:A,onEditItem:e=>this.props.onEditObject(e.object),onAddNewItem:this.onAddNewObject,addNewItemLabel:s.a.createElement(a.Trans,{id:"Add a new object"}),selectedItems:m,onItemSelected:this._selectObject,renamedItem:g,onRename:this._rename,buildMenuTemplate:this._renderObjectMenuTemplate,onMoveSelectionToItem:this._moveSelectionTo,canMoveSelectionToItem:this._canMoveSelectionTo,reactDndType:D}))),s.a.createElement(c.a,{value:d,onRequestSearch:()=>{},onChange:e=>this.setState({searchText:e})}),this.state.newObjectDialogOpen&&s.a.createElement(T,{open:this.state.newObjectDialogOpen,onClose:()=>this.setState({newObjectDialogOpen:!1}),onChoose:this.addObject,project:t}),this.state.variablesEditedObject&&s.a.createElement(O.a,{open:!0,variablesContainer:this.state.variablesEditedObject&&this.state.variablesEditedObject.getVariables(),onCancel:()=>this._editVariables(null),onApply:()=>this._editVariables(null),title:s.a.createElement(a.Trans,{id:"Object Variables"}),emptyExplanationMessage:s.a.createElement(a.Trans,{id:"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it."}),emptyExplanationSecondMessage:s.a.createElement(a.Trans,{id:"For example, you can have a variable called Life representing the health of the object."})}),h&&s.a.createElement(M,{tagsString:h.getTags(),onEdit:e=>{this._changeObjectTags(h,e),this._openEditTagDialog(null)},onCancel:()=>this._openEditTagDialog(null)}))}}},913:function(e,t,n){"use strict";var a=n(2),o=n(236),s=n.n(o),i=n(22);var r=n(72),l=n(92),c=n(143),u=n(205),d=n(75),h=n(5),p=n(132),m=n(82),g=n(84);var b=({releases:e,error:t,currentReleaseName:n})=>{const o=()=>h.b.openExternalURL("https://github.com/4ian/GDevelop/releases");if(t)return a.createElement(d.a,null,a.createElement(d.b,null,a.createElement(p.a,{kind:"warning"},a.createElement(r.Trans,{id:"Please double check online the changes to make sure that you are aware of anything new in this version that would require you to adapt your project."}))),a.createElement(d.b,null,a.createElement(l.a,null,a.createElement(r.Trans,{id:"Unable to load the information about the latest GDevelop releases. Verify your internet connection or retry later."}))),a.createElement(d.b,{justifyContent:"center"},a.createElement(g.a,{label:a.createElement(r.Trans,{id:"See the releases notes online"}),onClick:o})));if(!e)return a.createElement(c.a,null);const s=((e,t)=>e.find(e=>e.name===t))(e,n),i=!!s&&-1!==(s.description||"").toLowerCase().indexOf("breaking change");return a.createElement(d.a,null,i&&a.createElement(p.a,{kind:"warning"},"This version of GDevelop has a breaking change. Please make sure to read the changes below to understand if any change or adaptation must be made to your project."),e.map(e=>e.name?a.createElement(u.a,{key:e.name,source:"# Version "+e.name+"\n---\n"+(e.description||"Changes and new features description will be available soon."),isStandaloneText:!0}):null),a.createElement(d.b,{justifyContent:"center"},a.createElement(m.a,{label:a.createElement(r.Trans,{id:"See all the releases notes"}),onClick:o})))},f=n(9);n.d(t,"a",(function(){return E}));class E extends a.Component{constructor(...e){super(...e),this.state={releases:null,error:null},this._onUpdated=()=>{this.props.onUpdated&&this.props.onUpdated()}}componentDidMount(){s.a.get("".concat(i.e.baseUrl,"/release"),{params:{last:4}}).then(e=>e.data).then(e=>this.setState({releases:e,error:null},this._onUpdated)).catch(e=>this.setState({error:e},this._onUpdated))}render(){const e=this.state,t=e.releases,n=e.error;return a.createElement(b,{releases:t,error:n,currentReleaseName:Object(f.b)()})}}},914:function(e,t,n){"use strict";var a=n(78),o=n(72),s=n(2),i=n(301),r=n(302),l=n(100),c=n(150),u=n(101),d=n(218),h=n(174),p=n(179),m=n(192),g=n(797),b=n(134),f=n(247);var E=n(180);var v=n(790),y=n(791),C=n(92),x=n(245);n.d(t,"a",(function(){return S}));const j={searchBar:{flexShrink:0}};class S extends s.PureComponent{constructor(...e){super(...e),this.state={searchText:"",selectedObjectTags:[]},this._searchBar=s.createRef(),this._scrollView=s.createRef(),this._selectedItem=s.createRef(),this.instructionsInfo=Object(r.b)(this.props.isCondition),this.instructionsInfoTree=Object(i.a)(this.instructionsInfo),this.initialInstructionTypePath=Object(i.b)(this.instructionsInfoTree,this.props.chosenInstructionType),this._getAllObjectTags=()=>{const e=this.props,t=e.globalObjectsContainer,n=e.objectsContainer,a=new Set;return Object(m.c)(t,n).allObjectsList.forEach(({object:e})=>{Object(x.c)(e.getTags()).forEach(e=>a.add(e))}),Array.from(a)},this._buildObjectTagsMenuTemplate=e=>{const t=this.state.selectedObjectTags;return Object(x.a)({noTagLabel:e._({id:"No tags - add a tag to an object first"}),getAllTags:this._getAllObjectTags,selectedTags:t,onChange:e=>{this.setState({selectedObjectTags:e})}})}}componentDidMount(){this.props.focusOnMount&&this._searchBar.current&&this._searchBar.current.focus(),this._selectedItem.current&&this._scrollView.current&&this._scrollView.current.scrollTo(this._selectedItem.current)}render(){const e=this.props,t=e.style,n=e.globalObjectsContainer,i=e.objectsContainer,x=e.project,S=e.chosenInstructionType,T=e.onChooseInstruction,O=e.chosenObjectName,w=e.onChooseObject,N=e.isCondition,_=e.currentTab,k=e.onChangeTab,P=e.onSearchStartOrReset,I=this.state,F=I.searchText,B=I.selectedObjectTags,M=n!==x,R=Object(m.d)(n,i),D=R.allObjectsList,L=R.allGroupsList,A=Object(m.f)(D,{searchText:F,selectedTags:B}),U=B.length?[]:Object(m.e)(L,F),V=Object(r.d)(this.instructionsInfo,{searchText:F}),W=!!F,G=!W||!!A.length||!!U.length||!!V.length,z=()=>{W&&(A.length>0?w(A[0].object.getName()):U.length>0?w(U[0].group.getName()):V.length>0&&T(V[0].type,V[0]))};return s.createElement(o.I18n,{key:"tags"},({i18n:e})=>s.createElement(u.a,null,n=>s.createElement("div",{style:Object(a.a)({backgroundColor:n.list.itemsBackgroundColor,minHeight:400},t)},s.createElement(c.a,{value:F,onChange:e=>{const t=this.state.searchText;this.setState({searchText:e}),(!t&&e||t&&!e)&&P&&P()},onRequestSearch:z,buildTagsMenuTemplate:()=>this._buildObjectTagsMenuTemplate(e),style:j.searchBar,ref:this._searchBar}),!W&&s.createElement(h.b,{value:_,onChange:k},s.createElement(h.a,{label:s.createElement(o.Trans,{id:"Objects"}),value:"objects"}),s.createElement(h.a,{label:N?s.createElement(o.Trans,{id:"Other conditions"}):s.createElement(o.Trans,{id:"Other actions"}),value:"free-instructions"})),s.createElement(d.a,{ref:this._scrollView},!W&&"objects"===_&&s.createElement(g.a,{tags:B,onChange:e=>this.setState({selectedObjectTags:e})}),G&&s.createElement(l.a,null,(W||"objects"===_)&&A.map(e=>(({project:e,objectWithContext:t,iconSize:n,onClick:a,selectedValue:o})=>{const i=t.object.getName();return s.createElement(l.b,{key:Object(f.d)(t),selected:o===Object(f.e)(i),primaryText:i,leftIcon:s.createElement(b.a,{iconSize:n,src:E.a.getThumbnail(e,t.object)}),onClick:a})})({project:x,objectWithContext:e,iconSize:24,onClick:()=>w(e.object.getName()),selectedValue:O?Object(f.e)(O):void 0})),(W||"objects"===_)&&U.length>0&&s.createElement(p.a,null,s.createElement(o.Trans,{id:"Object groups"})),(W||"objects"===_)&&U.map(e=>(({groupWithContext:e,iconSize:t,onClick:n,selectedValue:a})=>{const o=e.group.getName();return s.createElement(l.b,{key:Object(f.c)(e),selected:a===Object(f.e)(o),primaryText:o,leftIcon:s.createElement(b.a,{iconSize:t,src:"res/ribbon_default/objectsgroups64.png"}),onClick:n})})({groupWithContext:e,iconSize:24,onClick:()=>w(e.group.getName()),selectedValue:O?Object(f.e)(O):void 0})),W&&V.length>0&&s.createElement(p.a,null,N?s.createElement(o.Trans,{id:"Non-objects and other conditions"}):s.createElement(o.Trans,{id:"Non-objects and other actions"})),W&&V.map(e=>Object(v.a)({instructionOrExpressionMetadata:e,iconSize:24,onClick:()=>T(e.type,e),selectedValue:S?Object(f.b)(S):void 0})),!W&&"free-instructions"===_&&Object(y.a)({instructionTreeNode:this.instructionsInfoTree,onChoose:T,iconSize:24,selectedValue:S?Object(f.b)(S):void 0,initiallyOpenedPath:this.initialInstructionTypePath,selectedItemRef:this._selectedItem})),!W&&"objects"===_&&!D.length&&s.createElement(C.a,null,M?s.createElement(o.Trans,{id:"There are no objects. Objects will appear if you add some as parameters."}):s.createElement(o.Trans,{id:"There is no object in your game or in this scene. Start by adding an new object in the scene editor, using the objects list."})),!G&&s.createElement(C.a,null,s.createElement(o.Trans,{id:"Nothing corresponding to your search. Choose an object first or browse the list of actions/conditions."}))))))}}},915:function(e,t,n){"use strict";var a=n(72),o=n(2),s=n.n(o),i=n(86),r=n(82),l=n(174),c=n(75),u=n(8),d=n(5),h=n(206),p=n(100),m=n(83),g=n(179);class b extends o.PureComponent{render(){return s.a.createElement(c.a,{noMargin:!0},s.a.createElement(c.b,null,s.a.createElement(c.a,null,s.a.createElement(m.a,null,s.a.createElement(a.Trans,{id:"Tutorials are available on GDevelop wiki. Choose a tutorial to read:"})))),s.a.createElement(c.b,null,s.a.createElement(c.a,{expand:!0,noMargin:!0},s.a.createElement(p.a,null,s.a.createElement(p.b,{primaryText:s.a.createElement(a.Trans,{id:"Geometry Monster Tutorial"}),secondaryText:s.a.createElement(a.Trans,{id:"Make a hyper-casual mobile game where the player must grab shapes and avoid bombs."}),onClick:()=>{Object(u.n)("Geometry Monster"),d.b.openExternalURL(Object(h.a)("/tutorials/geometry-monster"))}}),s.a.createElement(p.b,{primaryText:s.a.createElement(a.Trans,{id:"Platformer Tutorial"}),secondaryText:s.a.createElement(a.Trans,{id:"Make a platform game from scratch."}),onClick:()=>{Object(u.n)("Platformer"),d.b.openExternalURL(Object(h.a)("/tutorials/platform-game/start"))}}),s.a.createElement(p.b,{primaryText:s.a.createElement(a.Trans,{id:"Tank Shooter Tutorial"}),secondaryText:s.a.createElement(a.Trans,{id:"Make a simple tank shooter game from scratch."}),onClick:()=>{Object(u.n)("Tank Shooter"),d.b.openExternalURL(Object(h.a)("/tutorials/tank-shooter"))}}),s.a.createElement(g.a,null,s.a.createElement(a.Trans,{id:"Community Tutorials"})),s.a.createElement(p.b,{primaryText:s.a.createElement(a.Trans,{id:"Endless Runner Tutorial"}),secondaryText:s.a.createElement(a.Trans,{id:"Make a simple game where the player must jump on platforms for as long as possible."}),secondaryTextLines:2,onClick:()=>{Object(u.n)("Endless Runner"),d.b.openExternalURL(Object(h.a)("/tutorials/endless-runner"))}}),s.a.createElement(p.b,{primaryText:s.a.createElement(a.Trans,{id:"Endless Car Game Tutorial"}),secondaryText:s.a.createElement(a.Trans,{id:"Create a simple game where you must dodge the cars on the road."}),secondaryTextLines:2,onClick:()=>{Object(u.n)("Endless Car Game"),d.b.openExternalURL(Object(h.a)("/tutorials/roadrider"))}}),s.a.createElement(p.b,{primaryText:s.a.createElement(a.Trans,{id:"Breakout Tutorial"}),secondaryText:s.a.createElement(a.Trans,{id:"Create a simple breakout game where you must destroy all the bricks on the screen."}),secondaryTextLines:2,onClick:()=>{Object(u.n)("Breakout"),d.b.openExternalURL(Object(h.a)("/tutorials/breakout"))}})))))}}n.d(t,"a",(function(){return f}));class f extends o.Component{constructor(...e){super(...e),this.state={currentTab:"starters"},this._onChangeTab=e=>{this.setState({currentTab:e})},this._showExamples=()=>this._onChangeTab("examples"),this._onExamplesLoaded=()=>{this.forceUpdate()}}render(){const e=this.props,t=e.open,n=e.onClose,s=e.onOpen,u=e.onCreate;if(!t)return null;const d=this.props.examplesComponent,h=this.props.startersComponent;return o.createElement(i.a,{title:o.createElement(a.Trans,{id:"Create a new game"}),actions:[o.createElement(r.a,{key:"close",label:o.createElement(a.Trans,{id:"Close"}),primary:!1,onClick:n})],cannotBeDismissed:!1,onRequestClose:n,open:t,noMargin:!0},o.createElement(c.a,{noMargin:!0},o.createElement(l.b,{value:this.state.currentTab,onChange:this._onChangeTab},o.createElement(l.a,{label:o.createElement(a.Trans,{id:"Starters"}),value:"starters"}),o.createElement(l.a,{label:o.createElement(a.Trans,{id:"Examples"}),value:"examples"}),o.createElement(l.a,{label:o.createElement(a.Trans,{id:"Tutorials"}),value:"tutorials"})),"starters"===this.state.currentTab&&o.createElement(h,{onOpen:s,onCreate:u,onShowExamples:this._showExamples}),"examples"===this.state.currentTab&&o.createElement(d,{onOpen:s,onCreate:u,onExamplesLoaded:this._onExamplesLoaded}),"tutorials"===this.state.currentTab&&o.createElement(b,null)))}}},916:function(e,t,n){"use strict";var a=n(2292),o=n(130);n(1076),n(1077),n(578),n(1078),n(1079);const s="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, 'Helvetica Neue', Helvetica, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'";var i={gdevelopTheme:{palette:{canvasColor:"#303030"},message:{warning:"#ffa500",error:"#f00",valid:"#00db00"},toolbar:{backgroundColor:"#252525",separatorColor:"#4d4d4d"},closableTabs:{fontFamily:s,containerBackgroundColor:"#252525",backgroundColor:"#303030",textColor:"#878787",selectedBackgroundColor:"#3c4698",selectedTextColor:"#EEE",width:200,height:32,closeButtonWidth:24},imageThumbnail:{selectedBorderColor:"#4c92ff"},list:{itemsBackgroundColor:"#494949"},searchBar:{backgroundColor:"#494949"},listItem:{groupBackgroundColor:"#252525",groupTextColor:"#AAA",deprecatedGroupTextColor:"#888",separatorColor:"#4d4d4d",selectedBackgroundColor:"#4c92ff",selectedTextColor:"#EEE",errorTextColor:"#ff2e16",warningTextColor:"#ffb032",selectedErrorBackgroundColor:"#ff2e16",selectedWarningBackgroundColor:"#ffb032"},emptyMessage:{shadowColor:"#000"},logo:{src:"res/GD-logo.png"},mosaicRootClassName:"mosaic-gd-dark-theme",eventsSheetRootClassName:"gd-events-sheet-dark-theme",tableRootClassName:"gd-table-dark-theme",markdownRootClassName:"gd-markdown-dark-theme",gdevelopIconsCSSFilter:""},muiTheme:Object(a.a)({typography:{fontFamily:s},palette:{type:"dark",common:{black:"rgba(110, 42, 42, 1)",white:"#fff"},background:{paper:"#303030",default:"#252525"},primary:{light:Object(o.e)("#2c6bf5",.05),main:"#2c6bf5",dark:Object(o.a)("#2c6bf5",.05),contrastText:"#fff"},secondary:{light:Object(o.e)("#EEE",.05),main:"#EEE",dark:Object(o.a)("#EEE",.05),contrastText:"#000"},text:{primary:"#DDD",secondary:"#CCC",disabled:"#888888",hint:"#CCC"}},overrides:{MuiTypography:{h6:{fontWeight:400}},MuiInput:{underline:{"&:before":{borderBottom:"1px solid #444444"}}},MuiAppBar:{colorPrimary:{backgroundColor:"#3c4698"}},MuiListItem:{secondaryAction:{paddingRight:40},gutters:{paddingRight:8}},MuiListItemSecondaryAction:{root:{right:8}},MuiTabs:{root:{backgroundColor:"#3c4698",minHeight:32}},MuiTab:{textColorPrimary:{color:"#fff !important"},root:{paddingTop:0,paddingBottom:0,minHeight:32}},MuiButtonBase:{root:{cursor:"default"}},MuiTableCell:{sizeSmall:{paddingTop:0,paddingBottom:0}},MuiDialogTitle:{root:{padding:8}},MuiDialogContent:{root:{padding:8}},MuiFormControl:{marginDense:{marginTop:0,marginBottom:0}},MuiCheckbox:{root:{marginTop:-9,marginBottom:-9}},MuiButton:{root:{borderRadius:0,fontWeight:400}}}})},r=n(577);n(1080);n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));const l={"GDevelop default":r.a,Dark:i},c=e=>l[e]||l["GDevelop default"]},917:function(e,t,n){"use strict";var a=n(78),o=n(72),s=n(2),i=n(84),r=n(75),l=n(100),c=n(83),u=n(143),d=n(1985),h=n(884),p=n.n(h),m=n(5);var g=n(3),b=n.n(g);n.d(t,"a",(function(){return v}));const f=b()("electron"),E={};Object.keys(p.a).forEach(e=>{const t=p.a[e];E[e]=Object(a.a)({},t,{searchableDescription:t.description.replace(/ /g,"").toLowerCase()})});class v extends s.Component{constructor(...e){super(...e),this.state={searchText:"",chosenExtensionName:""},this.changeSearchText=e=>{this.setState({searchText:e,chosenExtensionName:""})},this.chooseExtensionName=e=>{this.setState({searchText:"",chosenExtensionName:e})}}_submitExample(){m.b.openExternalURL("https://github.com/4ian/GDevelop/issues/new?body=".concat(encodeURIComponent("Hi!\n\n  I'd like to submit a new example to be added to GDevelop.\n  Here is the link to download it: **INSERT the link to your game here, or add it as an attachment**.\n\n  I confirm that any assets can be used freely by anybody, including for commercial usage.\n  "),"&title=New%20example"))}render(){const e=this.state,t=e.searchText,n=e.chosenExtensionName,a=t.toLowerCase();return s.createElement(r.a,{noMargin:!0},s.createElement(r.b,{noMargin:!0},s.createElement(d.a,{value:t,onChange:this.changeSearchText,chosenExtensionName:n,onExtensionNameChosen:this.chooseExtensionName})),s.createElement(r.b,{noMargin:!0},s.createElement(r.a,{expand:!0,noMargin:!0},s.createElement(l.a,null,this.props.exampleNames&&this.props.exampleNames.map(e=>{const o=(i=e).length?i[0].toUpperCase()+i.substr(1).replace(/-/g," "):"";var i;const r=(e=>E[e]||{description:"",searchableDescription:"",usedExtensions:[]})(e);return(!t||((e,t)=>!t||((e,t)=>{const n=t.toLowerCase();e=e.toLowerCase();let a=0;for(let o=0;o<t.length;o++)n[o]===e[a]&&(a+=1);return a===e.length})(e,t))(t,o)||-1!==r.searchableDescription.indexOf(a))&&(c=r.usedExtensions,!(u=n)||c&&c.find(e=>e.name===u))?s.createElement(l.b,{key:e,primaryText:o,secondaryText:r.description,secondaryTextLines:2,onClick:()=>this.props.onCreateFromExample(e)}):null;var c,u}),!this.props.exampleNames&&s.createElement(u.a,null)),!!f&&s.createElement(r.a,{expand:!0},s.createElement(c.a,null,s.createElement(o.Trans,{id:"Want to contribute to the examples?"})),s.createElement(r.b,{alignItems:"center",justifyContent:"center"},s.createElement(i.a,{label:s.createElement(o.Trans,{id:"Submit your example"}),onClick:this._submitExample}))))))}}},918:function(e,t,n){"use strict";var a=n(127),o=n(72),s=n(2),i=n.n(s),r=n(198),l=n(124),c=n(150),u=n(78),d=n(100),h=n(94),p=n(101);const m={groupName:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},textField:{top:h.c}};class g extends i.a.Component{componentDidUpdate(e){!e.editingName&&this.props.editingName&&setTimeout(()=>{this.textField&&this.textField.focus()},100)}render(){const e=this.props,t=e.group,n=e.style,a=e.isGlobalGroup,o=t.getName(),s=this.props.editingName?i.a.createElement(h.b,{id:"rename-object-field",margin:"none",ref:e=>this.textField=e,defaultValue:o,onBlur:e=>this.props.onRename(e.target.value),onKeyPress:e=>{13===e.charCode&&this.textField.blur()},fullWidth:!0,style:m.textField}):i.a.createElement("div",{style:Object(u.a)({},m.groupName,{fontStyle:a?"italic":void 0,fontWeight:a?"bold":"normal"})},o);return i.a.createElement(p.a,null,e=>i.a.createElement(d.b,{style:Object(u.a)({borderBottom:"1px solid ".concat(e.listItem.separatorColor)},n),primaryText:s,displayMenuButton:!0,buildMenuTemplate:()=>[{label:"Edit group",click:()=>this.props.onEdit(t)},{label:"Set as Global group",enabled:!this.props.isGlobalGroup,click:()=>this.props.onSetAsGlobalGroup(),visible:!1!==this.props.canSetAsGlobalGroup},{label:"Rename",enabled:!!this.props.onEdit,click:()=>this.props.onEditName()},{label:"Delete",enabled:!!this.props.onEdit,click:()=>this.props.onDelete()}],onClick:()=>{this.props.editingName||this.props.onEdit(t)}}))}}var b=n(133),f=n(20),E=n(439),v=n(189),y=n(192),C=n(5);n.d(t,"a",(function(){return w}));const x={listContainer:{flex:1}},j=Object(v.SortableElement)(e=>{const t=e.style,n=Object(a.a)(e,["style"]);return i.a.createElement("div",{style:t},i.a.createElement(g,n))}),S=Object(v.SortableElement)(e=>{const t=e.style,n=Object(a.a)(e,["style"]);return i.a.createElement("div",{style:t},i.a.createElement(E.a,n))});class T extends s.Component{forceUpdateGrid(){this.list&&this.list.forceUpdateGrid()}render(){const e=this.props,t=e.height,n=e.width,a=e.fullList;return i.a.createElement(r.c,{ref:e=>this.list=e,height:t,rowCount:a.length,rowHeight:d.d,rowRenderer:({index:e,key:t,style:n})=>{const s=a[e];if("add-groups-row"===s.key)return i.a.createElement(S,{index:a.length,key:t,style:n,disabled:!0,onClick:this.props.onAddGroup,primaryText:i.a.createElement(o.Trans,{id:"Click to add a group"})});const r=this.props.renamedGroupWithScope&&this.props.renamedGroupWithScope.group===s.group&&this.props.renamedGroupWithScope.global===s.global;return i.a.createElement(j,{index:e,key:s.group.ptr,group:s.group,style:n,onEdit:this.props.onEditGroup?()=>this.props.onEditGroup(s.group):void 0,onEditName:()=>this.props.onEditName(s),onDelete:()=>this.props.onDelete(s),onRename:e=>this.props.onRename(s,e),editingName:r,isGlobalGroup:s.global,canSetAsGlobalGroup:this.props.canSetAsGlobalGroup,onSetAsGlobalGroup:s.global?void 0:()=>this.props.onSetAsGlobalGroup(s)})},width:n})}}const O=Object(v.SortableContainer)(T,{withRef:!0});class w extends i.a.Component{constructor(...e){super(...e),this.objectGroupsList=[],this.globalObjectGroupsList=[],this.state={renamedGroupWithScope:null,searchText:""},this.addGroup=()=>{const e=this.props,t=e.globalObjectGroups,n=e.objectGroups,a=Object(b.a)("Group",e=>n.has(e)||t.has(e));n.insertNew(a,n.count()),this._onObjectGroupModified(),this.props.onGroupAdded&&this.props.onGroupAdded()},this._onDelete=e=>{const t=e.group,n=e.global,a=this.props,o=a.globalObjectGroups,s=a.objectGroups;C.b.showConfirmDialog("Are you sure you want to remove this group? This can't be undone.")&&this.props.onDeleteGroup(e,e=>{e&&(n?o.remove(t.getName()):s.remove(t.getName()),this._onObjectGroupModified(),this.props.onGroupRemoved&&this.props.onGroupRemoved())})},this._onEditName=e=>{this.setState({renamedGroupWithScope:e},()=>this.sortableList.getWrappedInstance().forceUpdateGrid())},this._onRename=(e,t)=>{const n=e.group,a=this.props,o=a.globalObjectGroups,s=a.objectGroups;this.setState({renamedGroupWithScope:null}),n.getName()!==t&&(s.has(t)||o.has(t)?Object(f.c)("Another object with this name already exists"):this.props.canRenameGroup(t)&&this.props.onRenameGroup(e,t,e=>{e&&(n.setName(t),this._onObjectGroupModified(),this.props.onGroupRenamed&&this.props.onGroupRenamed())}))},this._onMove=(e,t)=>{const n=this.props,a=n.globalObjectGroups,o=n.objectGroups;if(e<this.objectGroupsList.length)o.move(e,Math.min(t,this.objectGroupsList.length-1));else{const n=e-this.objectGroupsList.length,o=t-this.objectGroupsList.length;a.move(n,Math.min(o,this.globalObjectGroupsList.length-1))}this._onObjectGroupModified(),this.sortableList.getWrappedInstance().forceUpdateGrid()},this._setAsGlobalGroup=e=>{const t=e.group,n=this.props,a=n.globalObjectGroups,o=n.objectGroups,s=t.getName();a.has(s)?Object(f.c)("A global object with this name already exists. Please change the object name before setting it as a global object"):C.b.showConfirmDialog("This group will be loaded and available in all the scenes. This is only recommended for groups that you reuse a lot and can't be undone. Make this group global?")&&(a.insert(t,a.count()),o.remove(s),this._onObjectGroupModified())},this._onObjectGroupModified=()=>{this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}}shouldComponentUpdate(e,t){return this.state.renamedGroupWithScope!==t.renamedGroupWithScope||this.state.searchText!==t.searchText||(this.props.globalObjectGroups!==e.globalObjectGroups||this.props.objectGroups!==e.objectGroups)}render(){const e=this.props,t=e.globalObjectGroups,n=e.objectGroups,a=this.state.searchText,o=Object(y.a)(n).map(e=>({group:e,global:!1})),s=Object(y.a)(t).map(e=>({group:e,global:!0}));this.objectGroupsList=Object(y.e)(o,a),this.globalObjectGroupsList=Object(y.e)(s,a);const u=Object(y.e)([...o,...s],a).concat({key:"add-groups-row",object:null}),d=n.ptr+";"+t.ptr;return i.a.createElement(l.a,null,i.a.createElement("div",{style:x.listContainer},i.a.createElement(r.a,null,({height:e,width:t})=>i.a.createElement(O,{key:d,ref:e=>this.sortableList=e,fullList:u,width:t,height:e,renamedGroupWithScope:this.state.renamedGroupWithScope,onEditGroup:this.props.onEditGroup,onAddGroup:this.addGroup,onEditName:this._onEditName,onDelete:this._onDelete,onRename:this._onRename,canSetAsGlobalGroup:this.props.canSetAsGlobalGroup,onSetAsGlobalGroup:this._setAsGlobalGroup,onSortEnd:({oldIndex:e,newIndex:t})=>this._onMove(e,t),helperClass:"sortable-helper",distance:20}))),i.a.createElement(c.a,{value:a,onRequestSearch:()=>{},onChange:e=>this.setState({searchText:e})}))}}w.defaultProps={onDeleteGroup:(e,t)=>t(!0),onRenameGroup:(e,t,n)=>n(!0)}},92:function(e,t,n){"use strict";var a=n(78),o=n(2),s=n(101),i=n(175);const r={display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:10};t.a=e=>o.createElement(s.a,null,t=>o.createElement("div",{style:Object(a.a)({},r,{},e.style)},o.createElement(i.a,{style:e.messageStyle},e.children)))},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var a=n(78),o=n(2),s=n(72),i=n(2464),r=n(205);const l=e=>({variant:"none"===e.margin?"standard":"filled",margin:"none"===e.margin?"none":"dense",hiddenLabel:"none"!==e.margin&&!e.floatingLabelText});class c extends o.Component{constructor(...e){super(...e),this._input=o.createRef()}focus(){this._input.current&&this._input.current.focus()}blur(){this._input.current&&this._input.current.blur()}getInputNode(){return this._input.current?this._input.current:null}render(){const e=this.props,t=e.onChange||void 0,n=e.helperMarkdownText?o.createElement(r.a,{source:e.helperMarkdownText}):null;return o.createElement(s.I18n,null,({i18n:s})=>o.createElement(i.a,Object.assign({type:void 0!==e.type?e.type:void 0,value:void 0!==e.value?e.value:void 0,defaultValue:void 0!==e.defaultValue?e.defaultValue:void 0,onChange:t?e=>t(e,e.target.value):void 0,error:!!e.errorText,helperText:e.errorText||n,disabled:e.disabled,InputLabelProps:{shrink:!!e.floatingLabelFixed||void 0},label:e.floatingLabelText,name:e.name,placeholder:e.hintText?s._(e.hintText):void 0,id:e.id,autoFocus:e.autoFocus,multiline:e.multiline,rows:e.rows,rowsMax:e.rowsMax},l(e),{fullWidth:e.fullWidth,InputProps:{disableUnderline:void 0!==e.underlineShow&&!e.underlineShow,style:Object(a.a)({fontSize:e.style?e.style.fontSize:void 0,fontStyle:e.style?e.style.fontStyle:void 0},e.inputStyle),inputProps:{onKeyPress:e.onKeyPress,onKeyUp:e.onKeyUp,onKeyDown:e.onKeyDown,onClick:e.onClick,max:e.max,min:e.min,step:e.step}},style:e.style?{width:e.style.width||void 0,flex:e.style.flex||void 0,top:e.style.top||void 0}:void 0,onFocus:e.onFocus,onBlur:e.onBlur,inputRef:this._input})))}}const u=0},984:function(e,t,n){},985:function(e,t,n){"use strict";var a=n(2),o=n.n(a),s=n(264),i=n(232),r=n(272),l=n(138),c=n(5),u=n(72),d=n(156);class h extends a.PureComponent{constructor(...e){super(...e),this.state={editorToolbar:null},this.isDev=c.b.isDev()}setEditorToolbar(e){this.setState({editorToolbar:e})}render(){return o.a.createElement(d.a,null,e=>o.a.createElement(u.I18n,null,({i18n:e})=>o.a.createElement(s.a,null,o.a.createElement(s.b,{firstChild:!0},this.props.showProjectIcons&&o.a.createElement(i.a,{onClick:this.props.toggleProjectManager,src:"res/ribbon_default/projectManager32.png",disabled:!this.props.hasProject,tooltip:{id:"Project manager"}}),this.props.showProjectIcons&&o.a.createElement(i.a,{onClick:this.props.exportProject,src:"res/ribbon_default/export32.png",disabled:!this.props.hasProject,tooltip:{id:"Export the game (Web, Android, iOS...)"}}),this.isDev&&o.a.createElement(l.a,{element:o.a.createElement(i.a,{src:"res/ribbon_default/bug32.png"}),buildMenuTemplate:()=>[{label:"Request update from external editor",disabled:!this.props.requestUpdate,click:()=>{this.props.requestUpdate&&this.props.requestUpdate()}},{label:"Simulate update downloaded",disabled:!this.props.simulateUpdateDownloaded,click:()=>{this.props.simulateUpdateDownloaded&&this.props.simulateUpdateDownloaded()}},{label:"Simulate update available",disabled:!this.props.simulateUpdateAvailable,click:()=>{this.props.simulateUpdateAvailable&&this.props.simulateUpdateAvailable()}}]}),o.a.createElement(r.a,null)),this.state.editorToolbar||o.a.createElement(s.b,null))))}}t.a=h},986:function(e,t,n){},987:function(e,t,n){},988:function(e,t,n){},989:function(e,t,n){},995:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2),o=n(265),s=n(5),i=n(274);function r({fileMetadata:e}){const t=a.useContext(o.a),n=a.useContext(i.b).hasUnsavedChanges;return a.useEffect(()=>{const a=["GDevelop 5",e?e.fileIdentifier+(n?" *":""):""].filter(Boolean).join(" - ");s.b.setTitle(a),s.b.setTitleBarColor(t.toolbar.backgroundColor)},[e,n,t.toolbar.backgroundColor]),null}},996:function(e,t,n){"use strict";var a=n(136),o=n(72),s=n(2),i=n.n(s),r=n(116),l=n(82),c=n(117),u=n(275),d=n(86),h=n(75),p=n(916),m=n(909),g=n(5),b=n(120),f=n(83),E=n(105),v=n(174),y=n(84);t.a=({onClose:e})=>{const t=i.a.useState("preferences"),n=Object(a.a)(t,2),s=n[0],C=n[1],x=i.a.useContext(b.b),j=x.values,S=x.setThemeName,T=x.setCodeEditorThemeName,O=x.setAutoDownloadUpdates,w=x.showAlertMessage,N=x.setAutoDisplayChangelog,_=x.setEventsSheetShowObjectThumbnails,k=x.setAutosaveOnPreview,P=x.setUseNewInstructionEditorDialog,I=x.setUseGDJSDevelopmentWatcher,F=x.setEventsSheetUseAssignmentOperators,B=x.getDefaultEditorMosaicNode,M=x.setDefaultEditorMosaicNode;return i.a.createElement(d.a,{actions:[i.a.createElement(l.a,{key:"close",label:i.a.createElement(o.Trans,{id:"Close"}),primary:!1,onClick:e})],onRequestClose:e,cannotBeDismissed:!0,open:!0,title:i.a.createElement(o.Trans,{id:"GDevelop Preferences"}),maxWidth:"sm",noMargin:!0},i.a.createElement(v.b,{value:s,onChange:C},i.a.createElement(v.a,{label:i.a.createElement(o.Trans,{id:"Preferences"}),value:"preferences"}),i.a.createElement(v.a,{label:i.a.createElement(o.Trans,{id:"Hints & explanations"}),value:"hints"})),"preferences"===s&&i.a.createElement(h.a,null,i.a.createElement(f.a,{size:"title"},i.a.createElement(o.Trans,{id:"Appearance"})),i.a.createElement(E.b,{noMargin:!0},i.a.createElement(r.a,{floatingLabelText:i.a.createElement(o.Trans,{id:"UI Theme"}),value:j.themeName,onChange:(e,t,n)=>S(n),fullWidth:!0},Object.keys(p.b).map(e=>i.a.createElement(c.a,{value:e,primaryText:e,key:e}))),i.a.createElement(r.a,{floatingLabelText:i.a.createElement(o.Trans,{id:"Code editor Theme"}),value:j.codeEditorThemeName,onChange:(e,t,n)=>T(n),fullWidth:!0},Object(m.a)().map(e=>i.a.createElement(c.a,{value:e.themeName,primaryText:e.name,key:e.themeName})))),i.a.createElement(h.b,{noMargin:!0},i.a.createElement(f.a,null,i.a.createElement(o.Trans,{id:"You can contribute and create your own themes:"})),i.a.createElement(l.a,{label:i.a.createElement(o.Trans,{id:"Learn more"}),onClick:()=>{g.b.openExternalURL("https://github.com/4ian/GDevelop/tree/master/newIDE#theming")}})),i.a.createElement(f.a,{size:"title"},i.a.createElement(o.Trans,{id:"Layouts"})),i.a.createElement(h.b,null,i.a.createElement(h.a,null,i.a.createElement(y.a,{label:i.a.createElement(o.Trans,{id:"Reset Scene Editor layout"}),onClick:()=>M("scene-editor",null),disabled:!B("scene-editor")}),i.a.createElement(h.c,null),i.a.createElement(y.a,{label:i.a.createElement(o.Trans,{id:"Reset Scene Editor (small window) layout"}),onClick:()=>M("scene-editor-small",null),disabled:!B("scene-editor-small")}),i.a.createElement(h.c,null),i.a.createElement(y.a,{label:i.a.createElement(o.Trans,{id:"Reset Debugger layout"}),onClick:()=>M("debugger",null),disabled:!B("debugger")}),i.a.createElement(h.c,null),i.a.createElement(y.a,{label:i.a.createElement(o.Trans,{id:"Reset Resource Editor layout"}),onClick:()=>M("resources-editor",null),disabled:!B("resources-editor")}),i.a.createElement(h.c,null),i.a.createElement(y.a,{label:i.a.createElement(o.Trans,{id:"Reset Extension Editor layout"}),onClick:()=>M("events-functions-extension-editor",null),disabled:!B("events-functions-extension-editor")}))),i.a.createElement(f.a,{size:"title"},i.a.createElement(o.Trans,{id:"Updates"})),i.a.createElement(h.b,null,i.a.createElement(u.a,{onToggle:(e,t)=>O(t),toggled:j.autoDownloadUpdates,labelPosition:"right",label:i.a.createElement(o.Trans,{id:"Auto download and install updates (recommended)"})})),i.a.createElement(h.b,null,i.a.createElement(u.a,{onToggle:(e,t)=>N(t),toggled:j.autoDisplayChangelog,labelPosition:"right",label:i.a.createElement(o.Trans,{id:"Display What's New when a new version is launched (recommended)"})})),i.a.createElement(f.a,{size:"title"},i.a.createElement(o.Trans,{id:"Events Sheet"})),i.a.createElement(h.b,null,i.a.createElement(u.a,{onToggle:(e,t)=>_(t),toggled:j.eventsSheetShowObjectThumbnails,labelPosition:"right",label:i.a.createElement(o.Trans,{id:"Display object thumbnails in Events Sheets"})})),i.a.createElement(h.b,null,i.a.createElement(u.a,{onToggle:(e,t)=>F(t),toggled:j.eventsSheetUseAssignmentOperators,labelPosition:"right",label:i.a.createElement(o.Trans,{id:"Display assignment operators in Events Sheets"})})),i.a.createElement(h.b,null,i.a.createElement(u.a,{onToggle:(e,t)=>P(t),toggled:j.useNewInstructionEditorDialog,labelPosition:"right",label:i.a.createElement(o.Trans,{id:"Use the new action/condition editor"})})),i.a.createElement(f.a,{size:"title"},i.a.createElement(o.Trans,{id:"Advanced"})),i.a.createElement(h.b,null,i.a.createElement(u.a,{onToggle:(e,t)=>k(t),toggled:j.autosaveOnPreview,labelPosition:"right",label:i.a.createElement(o.Trans,{id:"Auto-save project on Preview"})})),g.b.isDev()&&i.a.createElement(h.b,null,i.a.createElement(u.a,{onToggle:(e,t)=>I(t),toggled:j.useGDJSDevelopmentWatcher,labelPosition:"right",label:i.a.createElement(o.Trans,{id:"Watch changes in game engine (GDJS) sources and auto import them (dev only)"})}))),"hints"===s&&i.a.createElement(h.a,null,i.a.createElement(h.b,null,i.a.createElement(h.a,{noMargin:!0},i.a.createElement(f.a,null,i.a.createElement(o.Trans,{id:"Warn/show explanation about:"})),b.a.map(({key:e,label:t})=>i.a.createElement(h.b,{key:e},i.a.createElement(u.a,{onToggle:(t,n)=>w(e,n),toggled:!j.hiddenAlertMessages[e],labelPosition:"right",label:t})))))))}}}]);
//# sourceMappingURL=1.c0d9c898.chunk.js.map