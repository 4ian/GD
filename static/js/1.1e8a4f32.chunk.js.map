{"version":3,"sources":["MainFrame/Toolbar.js","MainFrame/ProjectTitlebar.js","MainFrame/Preferences/PreferencesDialog.js","MainFrame/AboutDialog.js","VariablesList/VariableRow.js","VariablesList/EditVariableRow.js","Utils/SelectionHandler.js","VariablesList/ClipboardKind.js","PlatformSpecificAssetsEditor/PlatformSpecificAssetsDialog.js","PlatformSpecificAssetsEditor/ImageResizer.js","UI/LoaderModal.js","UI/CloseConfirmDialog.js","UI/Tabs.js","MainFrame/EditorTabsHandler.js","EventsSheet/EventsTree/index.js","EventsSheet/EventsTree/Renderers/StandardEvent.js","EventsSheet/EventsTree/Instruction.js","EventsSheet/ParameterFields/RelationalOperatorField.js","EventsSheet/ParameterFields/OperatorField.js","EventsSheet/ParameterFields/MouseField.js","EventsSheet/ParameterFields/KeyField.js","EventsSheet/ParameterFields/YesNoField.js","EventsSheet/ParameterFields/TrueFalseField.js","EventsSheet/ParameterFields/ExpressionField.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/ExpressionSelector.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/EnumerateExpressions.js","EventsSheet/ParameterFields/GenericExpressionField/FormatExpressionCall.js","EventsSheet/ParameterFields/GenericExpressionField/BackgroundHighlighting.js","EventsSheet/ParameterFields/StringField.js","EventsSheet/ParameterFields/StringWithSelectorField.js","EventsSheet/ParameterFields/BehaviorField.js","EventsSheet/ParameterFields/SceneVariableField.js","EventsSheet/ParameterFields/GlobalVariableField.js","EventsSheet/ParameterFields/ObjectVariableField.js","EventsSheet/ParameterFields/LayerField.js","EventsSheet/ParameterFields/AudioResourceField.js","EventsSheet/ParameterFields/VideoResourceField.js","EventsSheet/ParameterFields/ColorExpressionField.js","EventsSheet/ParameterFields/ForceMultiplierField.js","EventsSheet/EventsTree/Renderers/GroupEvent.js","EventsSheet/EventsTree/Renderers/CommentEvent.js","EventsSheet/EventsTree/Renderers/ForEachEvent.js","EventsSheet/EventsTree/Renderers/RepeatEvent.js","EventsSheet/EventsTree/Renderers/WhileEvent.js","EventsSheet/EventsTree/Renderers/LinkEvent.js","EventsSheet/ParameterFields/ExternalEventsField.js","EventsSheet/EventsTree/Renderers/JsCodeEvent.js","EventsSheet/EventsTree/EventHeightsCache.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/EnumerateInstructions.js","EventsSheet/InstructionEditor/InstructionParametersEditor.js","EventsSheet/Toolbar.js","EventsSheet/InlineParameterEditor.js","EventsSheet/EmptyEventsPlaceholder.js","EventsSheet/OnceInstructionSanitizer.js","EventsSheet/EventsContextAnalyzerDialog.js","EventsSheet/SearchPanel.js","EventsSheet/EventsSearcher.js","EventsSheet/ContainsSubInstruction.js","EventsSheet/EnumerateEventsMetadata.js","EventsFunctionsExtensionEditor/index.js","EventsFunctionsExtensionEditor/EventsFunctionConfigurationEditor.js","EventsFunctionsExtensionEditor/OptionsEditorDialog.js","ObjectsRendering/Renderers/RenderedUnknownInstance.js","ObjectsRendering/Renderers/RenderedSpriteInstance.js","ObjectsRendering/Renderers/RenderedTiledSpriteInstance.js","ObjectsRendering/Renderers/RenderedPanelSpriteInstance.js","ObjectsRendering/Renderers/RenderedTextInstance.js","ObjectsRendering/Renderers/RenderedShapePainterInstance.js","ObjectsRendering/Renderers/RenderedTextEntryInstance.js","ObjectsRendering/Renderers/RenderedParticleEmitterInstance.js","Utils/FontFaceLoader.js","InstancesEditor/InstancesRenderer/LayerRenderer.js","InstancesEditor/SelectionRectangle.js","InstancesEditor/InstancePropertiesEditor/index.js","InstancesEditor/InstancesList/index.js","LayersList/LayerRemoveDialog.js","ObjectEditor/Editors/TextEditor.js","ObjectEditor/Editors/TiledSpriteEditor.js","ObjectEditor/Editors/PanelSpriteEditor.js","ObjectEditor/Editors/SpriteEditor/index.js","ObjectEditor/Editors/SpriteEditor/SpritesList.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/index.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/PointsList.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/PointRow.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/AddPointRow.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/PointsPreview.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/index.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/PolygonsList.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/VerticeRow.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/PolygonRow.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/AddVerticeRow.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/AddPolygonRow.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/CollisionMasksPreview.js","ObjectEditor/Editors/EmptyEditor.js","ObjectEditor/Editors/ShapePainterEditor.js","ObjectEditor/Editors/ParticleEmitterEditor.js","ObjectEditor/Editors/ObjectPropertiesEditor.js","ObjectGroupEditor/ObjectGroupEditorDialog.js","ObjectGroupEditor/index.js","SceneEditor/InstancesSelection.js","SceneEditor/SetupGridDialog.js","SceneEditor/ScenePropertiesDialog.js","SceneEditor/Toolbar.js","UI/FullSizeMeasurer.js","InstancesEditor/ScrollbarContainer.js","ResourcesList/index.js","ResourcesList/EnumerateResources.js","UI/ErrorBoundary.js","Profile/SubscriptionDialog.js","MainFrame/Preferences/LanguageDialog.js","locales/LocalesMetadata.js","ProjectCreation/ExamplesSearchbar.js","ProjectCreation/ExamplesInformation.js","Utils/i18n/GDI18nProvider.js","locales lazy /^/.//.*//messages$/ groupOptions: {} namespace object","Utils/DragDropHelpers/SimpleDropTarget.js","InstancesEditor/InstancesRenderer/index.js","Utils/TransformRect.js","InstancesEditor/SelectedInstances.js","InstancesEditor/HighlightedInstance.js","InstancesEditor/InstancesResizer.js","InstancesEditor/InstancesRotator.js","InstancesEditor/InstancesMover.js","InstancesEditor/Grid.js","InstancesEditor/WindowBorder.js","InstancesEditor/WindowMask.js","InstancesEditor/DropHandler.js","InstancesEditor/BackgroundColor.js","InstancesEditor/FpsLimiter.js","Utils/PIXITicker.js","InstancesEditor/index.js","UI/HelpIcon/index.js","BehaviorsEditor/NewBehaviorDialog.js","BehaviorsEditor/BehaviorsHelpPagePaths.js","BehaviorsEditor/Editors/BehaviorPropertiesEditor.js","BehaviorsEditor/Editors/Physics2Editor/ShapePreview.js","BehaviorsEditor/Editors/Physics2Editor/PolygonEditor.js","BehaviorsEditor/Editors/Physics2Editor/index.js","BehaviorsEditor/BehaviorsEditorService.js","BehaviorsEditor/index.js","ObjectEditor/ObjectEditorDialog.js","UI/GravatarUrl.js","Profile/ProfileDetails.js","Profile/UsagesDetails.js","Profile/SubscriptionDetails.js","Profile/ProfileDialog.js","ObjectsList/ClipboardKind.js","ObjectsList/ObjectRow.js","ObjectsList/NewObjectDialog.js","ObjectsList/index.js","LayersList/styles.js","LayersList/LayerRow.js","LayersList/AddLayerRow.js","LayersList/index.js","MainFrame/Editors/StartPage/GDevelopLogo.js","MainFrame/Editors/StartPage/ScrollBackground.js","MainFrame/Editors/StartPage/index.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/InstructionSelector.js","EventsSheet/InstructionEditor/index.js","EventsSheet/InstructionEditor/InstructionEditorDialog.js","UI/DismissableAlertMessage.js","ProjectManager/ProjectPropertiesDialog.js","ProjectManager/index.js","EventsFunctionsList/index.js","EventsFunctionsList/EnumerateEventsFunctions.js","ObjectGroupsList/GroupRow.js","ObjectGroupsList/index.js","MainFrame/Changelog/ChangelogDialog.js","MainFrame/Changelog/ChangelogDialogContainer.js","EventsSheet/EventsTree/Renderers/UnknownEvent.js","EventsSheet/EventsTree/EventsRenderingService.js","HelpFinder/DocSearchArea.js","HelpFinder/index.js","CodeEditor/LocalCodeEditorAutocompletions.js","CodeEditor/index.js","EventsSheet/ParameterFields/GenericExpressionField/ExpressionParametersEditor.js","EventsSheet/ParameterFields/GenericExpressionField/ExpressionParametersEditorDialog.js","ObjectEditor/Editors/SpriteEditor/AnimationPreview/index.js","ObjectEditor/Editors/SpriteEditor/DirectionTools.js","UI/Grid.js","UI/Dialog/index.js","Utils/MapFor.js","UI/EmptyMessage.js","ResourcesLoader/index.js","UI/HelpButton/index.js","Utils/Serializer.js","EventsSheet/EventsTree/ClassNames.js","UI/SemiControlledTextField.js","UI/PlaceholderLoader.js","Utils/NewNameGenerator.js","Export/LocalExporters/LocalGDJSFinder.js","UI/Background.js","UI/Menu/IconMenu.js","UI/AutocompleteProps.js","UI/Theme/ThemeConsumer.js","MainFrame/Preferences/PreferencesContext.js","MainFrame/Editors/BaseEditor.js","ObjectsRendering/Renderers/RenderedInstance.js","Profile/UserProfileContext.js","VariablesList/VariablesEditorDialog.js","Utils/Clipboard.js","ResourcesList/ResourceSelector.js","Utils/HelpLink.js","UI/PlaceholderMessage.js","UI/ToolbarIcon.js","UI/ToolbarSeparator.js","UI/ListIcon.js","ProjectManager/ProjectErrorsChecker.js","EventsSheet/EventsTree/InstructionsList.js","ObjectsList/EnumerateObjects.js","Utils/ColorTransformer.js","EventsSheet/InlinePopover.js","UI/MiniToolbar.js","ObjectsRendering/ObjectsRenderingService.js","PropertiesEditor/index.js","PropertiesEditor/PropertiesMapToSchema.js","ResourcesList/ResourcePreview/ImagePreview.js","ObjectEditor/Editors/SpriteEditor/Utils/SpriteObjectHelper.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/styles.js","UI/AlertMessage.js","UI/ListAddItem.js","EventsSheet/ParameterFields/GenericExpressionField/index.js","ObjectEditor/ObjectsEditorService.js","Utils/GDevelopServices/Build.js","ResourcesList/ResourceThumbnail/index.js","ResourcesList/ResourceSelectorWithThumbnail.js","UI/EditorMosaic/CloseButton.js","UI/EditorMosaic/index.js","MainFrame/index.js","Version/index.js","Utils/SerializableObjectEditorContainer.js","UI/DragHandle.js","VariablesList/styles.js","Profile/SubscriptionChecker.js","Profile/CreateProfile.js","EventsSheet/index.js","EventsSheet/SelectionHandler.js","EventsSheet/ParameterRenderingService.js","EventsSheet/ParameterFields/ObjectField.js","UI/ColorField/ColorPicker.js","UI/Menu/ContextMenu.js","Utils/GetObjectByName.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/styles.js","UI/ColorField/index.js","ResourcesList/ResourceUtils.js","Utils/TimeFunction.js","Utils/TimestampedId.js","Utils/Delay.js","Export/Builds/BuildsWatcher.js","EventsSheet/ParameterFields/VariableField.js","EventsSheet/ParameterFields/EnumerateVariables.js","UI/Menu/ElectronMenuImplementation.js","UI/Menu/MaterialUIMenuImplementation.js","UI/AcceleratorString.js","UI/BackgroundText.js","MainFrame/UpdaterTools.js","VariablesList/index.js","UI/TreeTable/index.js","ProjectManager/EnumerateProjectItems.js","Utils/FuzzyOrEmptyFilter.js","ResourcesList/ResourceThumbnail/ImageThumbnail.js","UI/EditorBar.js","MainFrame/Editors/EventsEditor.js","EventsSheet/EventsTree/DropIndicator.js","EventsSheet/ParameterFields/DefaultField.js","ObjectsList/ObjectSelector.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/index.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/CreateTree.js","Utils/StringHelpers.js","Hints/index.js","EventsFunctionsExtensionsLoader/index.js","UI/KeyboardShortcuts/index.js","Utils/History.js","UI/InlineCheckbox.js","MainFrame/Editors/EventsFunctionsExtensionEditor.js","MainFrame/Editors/ExternalEventsEditor.js","MainFrame/Editors/LayoutChooserDialog.js","MainFrame/Editors/ExternalLayoutEditor.js","SceneEditor/index.js","ObjectsRendering/Renderers/RenderedIconInstance.js","ObjectsRendering/PixiResourcesLoader.js","InstancesEditor/ViewPosition.js","Utils/GridHelpers.js","LayersList/EnumerateLayers.js","ObjectEditor/Editors/SpriteEditor/Utils/SpriteSelector.js","UI/Messages/InfoBar.js","MainFrame/Editors/SceneEditor.js","Utils/WatchPromiseInState.js","Utils/GDevelopServices/Usage.js","UI/LeftLoader.js","Utils/i18n/getTranslationFunction.js","Export/Builds/BuildProgress.js","ProjectCreation/ExamplesList.js","UI/CustomSvgIcons/Facebook.js","UI/CustomSvgIcons/Cordova.js","UI/CustomSvgIcons/Chrome.js","JsExtensionsLoader/index.js","Debugger/Toolbar.js","Debugger/InspectorsList.js","Debugger/Inspectors/VariablesContainerInspector.js","Debugger/Inspectors/RuntimeObjectInspector.js","Debugger/Inspectors/RuntimeSceneInspector.js","Debugger/GDJSInspectorDescriptions.js","Debugger/Inspectors/RawContentInspector.js","Debugger/Profiler/MeasuresTable.js","Debugger/Profiler/index.js","Debugger/DebuggerContent.js","Debugger/DebuggerSelector.js","Debugger/index.js","MainFrame/Editors/DebuggerEditor.js","CodeEditor/Theme/TomorrowNight.js","CodeEditor/Theme/Monokai.js","CodeEditor/Theme/Tomorrow.js","CodeEditor/Theme/SolarizedDark.js","CodeEditor/Theme/SolarizedLight.js","CodeEditor/Theme/VibrantInk.js","CodeEditor/Theme/GitHub.js","CodeEditor/Theme/index.js","ResourcesList/ResourcePreview/AudioPreview.js","ResourcesList/ResourcePreview/index.js","ResourcesEditor/ResourcePropertiesEditor/index.js","ResourcesEditor/Toolbar.js","ResourcesEditor/index.js","MainFrame/Editors/ResourcesEditor.js","Utils/DragDropHelpers/DragDropContextProvider.js","UI/RightLoader.js","Profile/LoginDialog.js","Profile/UserProfileProvider.js","MainFrame/Preferences/PreferencesProvider.js","MainFrame/Providers.js","Export/Builds/BuildsList.js","Export/Builds/index.js","Export/Builds/BuildsDialog.js","Export/ExportDialog.js","UI/Theme/DarkTheme/index.js","UI/Theme/DefaultTheme/index.js","UI/Theme/index.js","MainFrame/Changelog/ChangelogRenderer.js","Utils/GDevelopServices/Release.js","MainFrame/Changelog/index.js","UI/SortableVirtualizedItemList/ItemRow.js","UI/SortableVirtualizedItemList/index.js","ProjectCreation/Tutorials.js","ProjectCreation/CreateProjectDialog.js"],"names":["styles","toolbar","flexShrink","overflowX","overflowY","MainFrameToolbar","_PureComponent","_getPrototypeOf2","_this","Object","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_len","arguments","length","args","Array","_key","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","apply","concat","state","editorToolbar","isDev","Window","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","setState","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","_lingui_react__WEBPACK_IMPORTED_MODULE_11__","_ref","i18n","material_ui_Toolbar__WEBPACK_IMPORTED_MODULE_6__","style","firstChild","props","showProjectIcons","_UI_ToolbarIcon__WEBPACK_IMPORTED_MODULE_7__","onClick","toggleProjectManager","src","disabled","hasProject","tooltip","_","id","exportProject","_UI_Menu_IconMenu__WEBPACK_IMPORTED_MODULE_9__","iconButtonElement","buildMenuTemplate","label","requestUpdate","click","simulateUpdateDownloaded","simulateUpdateAvailable","_UI_ToolbarSeparator__WEBPACK_IMPORTED_MODULE_8__","PureComponent","ProjectTitlebar","project","titleElements","push","getProjectFile","getName","setTitle","join","Component","gd","global","PreferencesDialog","openExternalURL","_this$props","open","onClose","actions","react__WEBPACK_IMPORTED_MODULE_6___default","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_8___default","_lingui_react__WEBPACK_IMPORTED_MODULE_5__","primary","_UI_Dialog__WEBPACK_IMPORTED_MODULE_11__","onRequestClose","title","_PreferencesContext__WEBPACK_IMPORTED_MODULE_17__","Consumer","identifiers","values","setThemeName","setCodeEditorThemeName","setAutoDownloadUpdates","showAlertMessage","setAutoDisplayChangelog","dismissedAlertMessages","hiddenAlertMessages","keys","map","identifier","filter","Boolean","_UI_Grid__WEBPACK_IMPORTED_MODULE_13__","noMargin","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_7___default","floatingLabelText","themeName","onChange","e","i","themes","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_9___default","primaryText","codeEditorThemeName","getAllThemes","codeEditorTheme","name","createTheme","material_ui_Toggle__WEBPACK_IMPORTED_MODULE_10___default","onToggle","check","toggled","autoDownloadUpdates","labelPosition","autoDisplayChangelog","ExpressionCodeGenerator","useOldExpressionParser","forceUpdate","isUsingOldExpressionParser","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_12__","contributors","description","link","AboutDialog","_openContributePage","_openLink","updateStatus","updateStatusString","getUpdateStatusLabel","status","updateButtonLabel","getUpdateButtonLabel","_UI_Dialog__WEBPACK_IMPORTED_MODULE_8__","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_9___default","contentStyle","maxWidth","autoScrollBodyContent","_Preferences_PreferencesContext__WEBPACK_IMPORTED_MODULE_15__","checkUpdates","_UI_Grid__WEBPACK_IMPORTED_MODULE_11__","alt","width","height","material_ui_Tabs__WEBPACK_IMPORTED_MODULE_10__","0","getIDEVersion","1","getGDCoreVersion","justifyContent","canDownloadUpdate","_Changelog__WEBPACK_IMPORTED_MODULE_17__","material_ui_List__WEBPACK_IMPORTED_MODULE_7__","contributor","secondaryText","secondaryTextLines","rightIconButton","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_13___default","material_ui_svg_icons_action_open_in_new__WEBPACK_IMPORTED_MODULE_14___default","expand","alignItems","Indent","react__WEBPACK_IMPORTED_MODULE_2__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","indent","material_ui_svg_icons_navigation_subdirectory_arrow_right__WEBPACK_IMPORTED_MODULE_8___default","color","indentIconColor","InlineCheckbox","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_6___default","assign","VariableRow","muiThemeable","_ref2","variable","depth","errorText","onBlur","onAddChild","onRemove","onChangeValue","onResetToDefaultValue","children","muiTheme","showHandle","showSelectionCheckbox","isSelected","onSelect","origin","isStructure","limitEditing","columns","_UI_TreeTable__WEBPACK_IMPORTED_MODULE_3__","tableChildIndentation","_UI_DragHandle__WEBPACK_IMPORTED_MODULE_4__","checked","onCheck","material_ui_TextField__WEBPACK_IMPORTED_MODULE_9___default","fontStyle","fullWidth","defaultValue","fadedButton","undefined","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_5__","commitOnBlur","getString","text","multiLine","toolColumn","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_10___default","_lingui_react__WEBPACK_IMPORTED_MODULE_1__","material_ui_svg_icons_av_replay__WEBPACK_IMPORTED_MODULE_11___default","tooltipPosition","material_ui_svg_icons_content_add_circle__WEBPACK_IMPORTED_MODULE_7___default","backgroundColor","list","itemsBackgroundColor","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_UI_TreeTable__WEBPACK_IMPORTED_MODULE_1__","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_2__","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_2___default","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_3__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_3___default","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_4__","material_ui_svg_icons_content_content_copy__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_content_content_copy__WEBPACK_IMPORTED_MODULE_5___default","material_ui_svg_icons_content_content_paste__WEBPACK_IMPORTED_MODULE_6__","material_ui_svg_icons_content_content_paste__WEBPACK_IMPORTED_MODULE_6___default","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_7__","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_7___default","_styles__WEBPACK_IMPORTED_MODULE_8__","EditVariableRow","onAdd","onCopy","hasSelection","onPaste","hasClipboard","onDeleteSelection","toolColumnHeader","addVariableMessage","getInitialSelection","getSelection","selection","addToSelection","object","select","console","log","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","ptr","d","__webpack_exports__","CLIPBOARD_KIND","path","optionalRequire","desktopSizes","androidSizes","iosSizes","PlatformSpecificAssetsDialog","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","_generateFromFile","resourceSources","onChooseResource","sources","source","kind","then","resources","resourcesManager","getResourcesManager","projectPath","dirname","fullPath","resolve","getFile","Promise","all","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","size","resizeImage","results","indexOf","allResourcesNames","forEach","resourceName","hasResource","getResource","setFile","imageResource","ImageResource","setName","addResource","delete","ResourcesLoader","burstUrlsCacheForResources","setTimeout","desktopIconResourceNames","androidIconResourceNames","iosIconResourceNames","showErrorBox","_onApply","_this$state","index","getPlatformSpecificAssets","set","onApply","_loadFrom","get","newProps","react__WEBPACK_IMPORTED_MODULE_7__","_lingui_react__WEBPACK_IMPORTED_MODULE_6__","keyboardFocused","_this$props2","resourceExternalEditors","_this$state2","_UI_Dialog__WEBPACK_IMPORTED_MODULE_10__","isResizeSupported","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_9___default","_ResourcesList_ResourceSelectorWithThumbnail__WEBPACK_IMPORTED_MODULE_13__","resourceKind","newIcons","React","_Utils_OptionalRequire__WEBPACK_IMPORTED_MODULE_0__","Jimp","inputFile","outputFile","read","jimpImage","contain","write","catch","err","error","material_ui_RefreshIndicator__WEBPACK_IMPORTED_MODULE_1__","material_ui_RefreshIndicator__WEBPACK_IMPORTED_MODULE_1___default","position","top","left","right","bottom","zIndex","pointerEvents","show","display","marginTop","marginLeft","electron","CloseConfirmDialog","_delayElectronClose","_setup","shouldPrompt","message","window","onbeforeunload","confirm","remote","getCurrentWindow","close","returnValue","tabsContainerStyle","flex","flexDirection","tabTemplateStyle","textAlign","TabTemplate","nextProps","selected","templateStyle","react__WEBPACK_IMPORTED_MODULE_7___default","ThemableTabs","_Component2","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","hideLabels","tabsProps","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","tabItemContainerStyle","closableTabs","contentContainerStyle","material_ui_Tabs__WEBPACK_IMPORTED_MODULE_8__","tabTemplate","inkBarStyle","Tabs","muiName","ThemableTab","_this$props3","closable","tabProps","truncatedLabel","closeButtonWidth","marginRight","overflow","textOverflow","buttonStyle","selectedBackgroundColor","selectedTextColor","textColor","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10___default","hoverColor","borderRadius","minWidth","icon","material_ui_svg_icons_navigation_close__WEBPACK_IMPORTED_MODULE_9___default","Tab","getEditorTabsInitialState","editors","currentTab","openEditorTab","renderEditor","dontFocusTab","existingEditorId","findIndex","editor","editorTab","render","isCurrentTab","isActive","editorRef","changeCurrentTab","newTabId","Math","max","min","closeEditorTab","getEditors","getCurrentTabIndex","getCurrentTab","closeProjectTabs","editorProject","getProject","saveUiSettings","closeLayoutTabs","layout","editorLayout","getLayout","closeExternalLayoutTabs","externalLayout","ExternalLayoutEditor","getExternalLayout","closeExternalEventsTabs","externalEvents","ExternalEventsEditor","getExternalEvents","closeEventsFunctionsExtensionTabs","eventsFunctionsExtension","EventsFunctionsExtensionEditorWrapper","getEventsFunctionsExtension","getEventsFunctionsExtensionEditor","tabIndex","indentWidth","container","EventContainer","_onEventUpdated","_onEventContextMenu","domEvent","preventDefault","onEventContextMenu","clientX","clientY","_container","offsetHeight","eventsHeightsCache","setEventHeight","event","EventComponent","EventsRenderingService","getEventComponent","react__WEBPACK_IMPORTED_MODULE_8___default","ref","onEventClick","onContextMenu","globalObjectsContainer","objectsContainer","isEventSelected","leftIndentWidth","onUpdate","onAddNewInstruction","onMoveToInstruction","onMoveToInstructionsList","onInstructionClick","onInstructionDoubleClick","onInstructionContextMenu","onInstructionsListContextMenu","onParameterClick","onOpenExternalEvents","onOpenLayout","getNodeKey","treeIndex","SortableTree","className","otherProps","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__","react_sortable_tree__WEBPACK_IMPORTED_MODULE_11__","eventsTree","eventsSheetRootClassName","noop","ThemableEventsTree","_this3","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","_eventsToTreeData","eventsList","flatData","parentDisabled","treeData","mapFor","getEventsCount","getEventAt","isDisabled","_renderEvent","indexInList","expanded","isFolded","getSubEvents","_onMoveNode","_ref3","node","targetPath","slice","targetNode","getNodeAtPath","targetEventsList","events","targetPosition","newEvent","clone","removeEvent","insertEvent","forceEventsUpdate","onEventMoved","_canDrop","_ref4","nextParent","canHaveSubEvents","_onVisibilityToggle","_ref5","setFolded","_ref6","isCondition","x","y","_treeSearchMethod","_ref7","searchResults","searchQuery","find","highlightedEvent","compare","EventHeightsCache","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__","onHeightsChanged","cb","_this4","_list","wrappedInstance","recomputeRowHeights","_this5","row","_getEventRow","scrollToRow","EventsListUnfolder","unfoldWhenContaining","searchedEvent","_this6","scaffoldBlockPxWidth","onVisibilityToggle","onMoveNode","canDrop","rowHeight","_ref8","getEventHeight","searchMethod","searchFocusOffset","eventsTreeWithSearchResults","reactVirtualizedListProps","defaultProps","actionsList","StandardEvent","_classNames","standardEvent","asStandardEvent","conditionsListSyle","react__WEBPACK_IMPORTED_MODULE_6__","classNames","largeSelectableArea","largeSelectedArea","executableEventContainer","_InstructionsList__WEBPACK_IMPORTED_MODULE_7__","instrsList","getConditions","areConditions","getActions","instrFormatter","InstructionSentenceFormatter","loadTypesFormattingFromConfig","whiteSpace","wordWrap","cursor","marginBottom","verticalAlign","paddingLeft","paddingRight","Instruction","_renderInstructionText","metadata","instruction","formattedTexts","getAsFormattedText","parametersCount","getParametersCount","disabledText","_classNames2","parameterIndex","getTextFormatting","getUserData","parameterType","getParameter","getType","selectableArea","instructionParameter","ParameterRenderingService","renderParameterString","_classNames3","connectDragSource","connectDropTarget","isOver","MetadataProvider","getConditionMetadata","JsPlatform","getActionMetadata","instructionDiv","selectedArea","stopPropagation","onDoubleClick","isInverted","getSmallIconFilename","canHaveSubInstructions","_InstructionsList__WEBPACK_IMPORTED_MODULE_11__","extraClassName","subInstructionsContainer","getSubInstructions","onAddNewSubInstruction","onMoveToSubInstruction","onMoveToSubInstructionsList","onSubInstructionClick","onSubInstructionDoubleClick","onSubInstructionContextMenu","onSubInstructionsListContextMenu","onSubParameterClick","addButtonLabel","_DropIndicator__WEBPACK_IMPORTED_MODULE_13__","reactDndInstructionType","DragSource","beginDrag","connect","monitor","dragSource","DropTarget","getItem","drop","didDrop","dropTarget","shallow","RelationalOperatorField","_field","focus","parameterMetadata","getDescription","field","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_8___default","OperatorField","KeyField","focused","_keyNames","_description","material_ui_AutoComplete__WEBPACK_IMPORTED_MODULE_6___default","defaultAutocompleteProps","searchText","onFocus","onUpdateInput","target","onNewRequest","data","dataSource","keyName","openOnFocus","isInline","button","margin","YesNoField","_UI_Grid__WEBPACK_IMPORTED_MODULE_8__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_7___default","TrueFalseField","ExpressionField","_GenericExpressionField__WEBPACK_IMPORTED_MODULE_6__","expressionType","ExpressionSelector","instructionsInfo","instructionsInfoTree","allExpressions","enumerateExpressions","createTree","_index__WEBPACK_IMPORTED_MODULE_7__","iconSize","enumerateExtensionExpressions","prefix","expressions","objectMetadata","behaviorMetadata","expressionsTypes","j","exprMetadata","isShown","parameters","isCodeOnly","displayedName","getFullName","groupName","getGroup","iconFilename","fullGroupName","type","freeExpressions","objectsExpressions","behaviorsExpressions","allExtensions","asPlatform","getAllPlatformExtensions","extension","allObjectsTypes","getExtensionObjectsTypes","allBehaviorsTypes","getBehaviorsTypes","allFreeExpressionsGetter","getAllExpressions","allObjectExpressionsGetter","getAllExpressionsForObject","allBehaviorExpressionsGetter","getAllExpressionsForBehavior","getAllStrExpressions","getAllStrExpressionsForObject","getAllStrExpressionsForBehavior","objMetadata","getObjectMetadata","k","autoMetadata","getBehaviorMetadata","filterOutCodeOnlyParameters","array","expressionMetadata","parameter","formatExpressionCall","expressionInfo","parameterValues","functionName","_parameterValues","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_toArray__WEBPACK_IMPORTED_MODULE_0__","objectName","otherParameters","functionArgs","_parameterValues2","behaviorName","defaultStyle","highlightedText","borderSizing","borderBottom","sortedHighlights","highlights","sort","highlight1","highlight2","begin","elements","lastPos","highlight","startPos","react__WEBPACK_IMPORTED_MODULE_1__","substring","end","StringField","StringWithSelectorField","_choices","JSON","parse","getExtraInfo","exception","choice","BehaviorField","_behaviorNames","_getError","_doValidation","_behaviorTypeAllowed","instructionOrExpression","getBehaviorsOfObject","toJSArray","getTypeOfBehavior","_updateBehaviorsList","noBehaviorErrorText","react__WEBPACK_IMPORTED_MODULE_5__","SceneVariableField","editorOpen","_VariableField__WEBPACK_IMPORTED_MODULE_6__","variablesContainer","getVariables","onOpenDialog","_VariablesList_VariablesEditorDialog__WEBPACK_IMPORTED_MODULE_7__","onCancel","forceUpdateVariables","emptyExplanationMessage","emptyExplanationSecondMessage","GlobalVariableField","ObjectVariableField","hasObjectNamed","getObject","LayerField","_layersNames","_loadNamesFrom","getLayersCount","getLayerAt","layerName","AudioResourceField","_ResourcesList_ResourceSelector__WEBPACK_IMPORTED_MODULE_7__","resourcesLoader","initialResourceName","VideoResourceField","parseColor","rgbColor","colors","replace","split","r","parseInt","g","b","ParameterColorField","renderExtraButton","_UI_ColorField_ColorPicker__WEBPACK_IMPORTED_MODULE_7__","disableAlpha","onChangeComplete","rgb","ForceMultiplierField","showDeprecatedNumericValue","makeNonBreakable","Fragment","_UI_BackgroundText__WEBPACK_IMPORTED_MODULE_11__","_GenericExpressionField__WEBPACK_IMPORTED_MODULE_10__","renderForceMultiplierString","padding","fontSize","GroupEvent","editing","_textField","edit","endEditing","groupEvent","asGroupEvent","getBackgroundColorR","getBackgroundColorG","getBackgroundColorB","react__WEBPACK_IMPORTED_MODULE_8__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_10___default","textField","hintText","_lingui_react__WEBPACK_IMPORTED_MODULE_7__","inputStyle","WebkitTextFillColor","underlineFocusStyle","borderColor","minHeight","boxSizing","CommentEvent","input","ReactDOM","findDOMNode","_input","asCommentEvent","getComment","commentEvent","setComment","_getCommentHTML","rgbToHex","getBackgroundColorRed","getBackgroundColorGreen","getBackgroundColorBlue","getTextColorRed","getTextColorGreen","getTextColorBlue","dangerouslySetInnerHTML","__html","instructionsContainer","ForEachEvent","anchorEl","currentTarget","forEachEvent","asForEachEvent","getObjectToPick","_InstructionsList_js__WEBPACK_IMPORTED_MODULE_7__","_InlinePopover__WEBPACK_IMPORTED_MODULE_10__","_ParameterFields_ObjectField__WEBPACK_IMPORTED_MODULE_11__","setObjectToPick","RepeatEvent","repeatEvent","asRepeatEvent","expression","getRepeatExpression","_ParameterFields_DefaultField__WEBPACK_IMPORTED_MODULE_11__","setRepeatExpression","whileEvent","asWhileEvent","getWhileConditions","LinkEvent","_externalEventsField","openTarget","asLinkEvent","getTarget","hasExternalEventsNamed","hasLayoutNamed","showWarningBox","linkEvent","linkContainer","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_9___default","material_ui_svg_icons_action_open_in_new__WEBPACK_IMPORTED_MODULE_8___default","_InlinePopover__WEBPACK_IMPORTED_MODULE_12__","_ParameterFields_ExternalEventsField__WEBPACK_IMPORTED_MODULE_13__","setTarget","externalEventsField","ExternalEventsField","_fullList","enumerateExternalEvents","layouts","enumerateLayouts","material_ui_Divider__WEBPACK_IMPORTED_MODULE_8___default","material_ui_AutoComplete__WEBPACK_IMPORTED_MODULE_7___default","wrappingText","fontFamily","comment","commentLink","textDecoration","JsCodeEvent","editingObject","asJsCodeEvent","getInlineCode","jsCodeEvent","setInlineCode","newValue","editObject","endObjectEditing","parameterObjects","getParameterObjects","objects","functionStart","functionEnd","href","getHelpLink","rel","react_measure__WEBPACK_IMPORTED_MODULE_13___default","onMeasure","_CodeEditor__WEBPACK_IMPORTED_MODULE_14__","onEditorMounted","_InlinePopover__WEBPACK_IMPORTED_MODULE_9__","_ParameterFields_ObjectField__WEBPACK_IMPORTED_MODULE_10__","setParameterObjects","component","eventHeights","updateTimeoutId","cachedHeight","_notifyComponent","enumerateExtensionInstructions","groupPrefix","extensionInstructions","instructionsTypes","allInstructions","instrMetadata","isHidden","getIconFilename","enumerateInstructions","getAllConditions","getAllActions","getAllConditionsForObject","getAllActionsForObject","getAllConditionsForBehavior","getAllActionsForBehavior","emptyContainer","parametersContainer","invertToggle","InstructionParametersEditor","_firstVisibleField","isDirty","_getInstructionMetadata","getCurrentPlatform","_openExtension","getExtensionAndConditionMetadata","getExtension","getExtensionAndActionMetadata","openInstructionOrExpression","focusOnMount","_getNonCodeOnlyParametersCount","instructionMetadata","isVisible","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_11__","_renderEmpty","helpPage","getHelpPath","instructionExtraInformation","getExtraInstructionInformation","setParametersCount","parameterFieldIndex","_UI_Grid__WEBPACK_IMPORTED_MODULE_14__","isAnEventFunctionMetadata","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_19___default","material_ui_svg_icons_action_open_in_new__WEBPACK_IMPORTED_MODULE_18___default","_UI_AlertMessage__WEBPACK_IMPORTED_MODULE_15__","warning","parameterMetadataType","ParameterComponent","getParameterComponent","warn","isFirstVisibleParameterField","setParameter","parameterRenderingService","material_ui_Toggle__WEBPACK_IMPORTED_MODULE_9___default","enabled","setInverted","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_13__","helpPagePath","Toolbar","t","str","lastChild","showPreviewButton","_UI_ToolbarIcon__WEBPACK_IMPORTED_MODULE_8__","onPreview","showNetworkPreviewButton","onNetworkPreview","onOpenDebugger","_UI_ToolbarSeparator__WEBPACK_IMPORTED_MODULE_7__","onAddStandardEvent","onAddSubEvent","canAddSubEvent","onAddCommentEvent","allEventsMetadata","fullName","onAddEvent","canRemove","undo","canUndo","redo","canRedo","onToggleSearchPanel","adaptAcceleratorString","onOpenSettings","InlineParameterEditor","isValid","_loadComponentFromInstruction","_unload","_InlinePopover__WEBPACK_IMPORTED_MODULE_6__","EmptyEventsPlaceholder","_UI_PlaceholderMessage__WEBPACK_IMPORTED_MODULE_2__","_lingui_react__WEBPACK_IMPORTED_MODULE_0__","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_3__","ensureSingleOnceInstructions","instructionsList","hasEndingOnceInstruction","hasInvalidOnce","removeAt","onceInstruction","setType","insert","EventsContextAnalyzerDialog","objectsNames","objectOrGroupNames","_UI_Dialog__WEBPACK_IMPORTED_MODULE_7__","SearchPanel","searchDirty","replaceText","matchCase","searchInSelection","searchTextField","launchSearch","onSearchInEvents","searchInActions","searchInConditions","launchReplace","showMessageBox","onReplaceInEvents","resultsCount","hasEventSelected","onGoToPreviousSearchResult","onGoToNextSearchResult","_this$state3","material_ui_Paper__WEBPACK_IMPORTED_MODULE_7___default","_UI_Grid__WEBPACK_IMPORTED_MODULE_9__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_8___default","_searchTextField","_UI_InlineCheckbox__WEBPACK_IMPORTED_MODULE_14__","material_ui_svg_icons_navigation_chevron_left__WEBPACK_IMPORTED_MODULE_11___default","material_ui_svg_icons_navigation_chevron_right__WEBPACK_IMPORTED_MODULE_12___default","EventsSearcher","eventsSearchResults","_resultEvents","_doReplaceInEvents","EventsRefactorer","replaceStringInEvents","_doSearchInEvents","newEventsSearchResults","searchInEvents","_updateListOfResultEvents","resultEventsWithDuplicates","eventsSearchResult","at","isEventValid","getEvent","uniqBy","_goToSearchResults","step","newSearchFocusOffset","_goToPreviousSearchResult","_goToNextSearchResult","eventsSearchResultEvents","replaceInEvents","goToNextSearchResult","goToPreviousSearchResult","containsSubInstructions","subInstructionsList","enumerateEventsMetadata","lodash_flatten__WEBPACK_IMPORTED_MODULE_0__","lodash_flatten__WEBPACK_IMPORTED_MODULE_0___default","_Utils_MapFor__WEBPACK_IMPORTED_MODULE_1__","flatten","extensionEvents","getAllEvents","EventsFunctionsExtensionEditor","selectedEventsFunction","editOptionsDialogOpen","_loadEventsFunctionFrom","eventsFunction","_globalObjectsContainer","ObjectsContainer","_objectsContainer","ParameterMetadataTools","parametersToObjectsContainer","getParameters","selectEventsFunctionByName","hasEventsFunctionNamed","_selectEventsFunction","getEventsFunction","updateToolbar","_makeRenameEventsFunction","newName","done","Project","validateObjectName","WholeProjectRefactorer","renameEventsFunction","_onDeleteEventsFunction","_editOptions","initiallyFocusedFunctionName","setToolbar","_UI_EditorMosaic__WEBPACK_IMPORTED_MODULE_8__","_editors","toolbarControls","_UI_Background__WEBPACK_IMPORTED_MODULE_12__","_EventsFunctionConfigurationEditor__WEBPACK_IMPORTED_MODULE_10__","onParametersUpdated","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_9__","events-sheet","_EventsSheet__WEBPACK_IMPORTED_MODULE_7__","getEvents","options","functions-list","_EventsFunctionsList__WEBPACK_IMPORTED_MODULE_11__","eventsFunctionsContainer","onSelectEventsFunction","onDeleteEventsFunction","onRenameEventsFunction","onEditOptions","initialNodes","direction","first","second","splitPercentage","_OptionsEditorDialog__WEBPACK_IMPORTED_MODULE_13__","scrollView","EventsFunctionConfigurationEditor","_addParameter","newParameter","ParameterMetadata","push_back","_removeParameter","removeFromVectorParameterMetadata","enumerateObjectTypes","getFunctionType","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_9___default","setFunctionType","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_10___default","EventsFunction","Action","Condition","Expression","StringExpression","material_ui_TextField__WEBPACK_IMPORTED_MODULE_7___default","setFullName","setDescription","getSentence","setSentence","mapVector","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_20__","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_19__","validateParameterName","_UI_Menu_IconMenu__WEBPACK_IMPORTED_MODULE_15__","material_ui_svg_icons_navigation_more_vert__WEBPACK_IMPORTED_MODULE_16___default","floatingLabelFixed","setExtraInfo","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_14__","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_18__","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_12___default","OptionsEditorDialog","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_7___default","secondaryActions","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_11__","getVersion","setVersion","_RenderedInstance__WEBPACK_IMPORTED_MODULE_0__","pixi_js__WEBPACK_IMPORTED_MODULE_1__","pixi_js__WEBPACK_IMPORTED_MODULE_1___default","RenderedUnknownInstance","instance","associatedObject","pixiContainer","pixiResourcesLoader","RenderedInstance","_pixiObject","PIXI","Graphics","_pixiContainer","addChild","hasCustomSize","getCustomWidth","getCustomHeight","beginFill","lineStyle","moveTo","lineTo","endFill","prototype","create","getThumbnail","update","_instance","getX","getY","rotation","getAngle","PI","RenderedSpriteInstance","_renderedAnimation","_renderedDirection","_centerX","_centerY","_originX","_originY","Sprite","_pixiResourcesLoader","getInvalidPIXITexture","updatePIXITexture","updatePIXISprite","spriteObject","asSpriteObject","getAnimationsCount","getAnimation","getDirectionsCount","getDirection","getSpritesCount","imageName","getSprite","getImageName","getResourceFullUrl","anchor","texture","frame","_shouldNotRotate","toRad","scale","abs","updateSprite","_sprite","_associatedObject","hasNoAnimations","getRawFloatProperty","animation","hasNoDirections","useMultipleDirections","normalizedAngle","floor","round","getPIXITexture","_project","getOrigin","isDefaultCenterPoint","noFrame","that","on","off","center","getCenter","getOriginX","getOriginY","getDefaultWidth","getDefaultHeight","RenderedTiledSpriteInstance","tiledSprite","asTiledSpriteObject","_texture","getTexture","extras","TilingSprite","getWidth","getHeight","RenderedPanelSpriteInstance","makeObjects","updateTexture","panelSprite","asPanelSpriteObject","isTiled","_tiled","_textureName","updateAngle","updatePosition","oldWidth","_width","oldHeight","_height","updateWidthHeight","StretchedSprite","Container","_centerSprite","Texture","_borderSprites","removeChildren","_updateLocalPositions","extraPixels","getLeftMargin","getTopMargin","getRightMargin","getBottomMargin","_updateSpritesAndTexturesSize","_wasRendered","cacheAsBitmap","renderer","makeInsideTexture","Rectangle","rect","pivot","RenderedTextInstance","textObject","asTextObject","Text","align","_styleFontDirty","_fontFamily","getFontFamily","getFontName","isItalic","_isItalic","isBold","_isBold","getCharacterSize","_characterSize","_wrapping","_wrappingWidth","_fontName","loadFontFamily","font","wordWrapWidth","breakWords","dirty","getColorR","_colorR","getColorG","_colorG","getColorB","_colorB","fill","_RenderedIconInstance__WEBPACK_IMPORTED_MODULE_0__","makeRenderer","_Utils_ColorTransformer__WEBPACK_IMPORTED_MODULE_2__","RenderedParticleEmitterInstance","updateGraphics","particleEmitterObject","asParticleEmitterObject","clear","emitterAngle","sprayConeAngle","getConeSprayAngle","line1Angle","line2Angle","rgbToHexNumber","getParticleRed2","getParticleGreen2","getParticleBlue2","cos","sin","getParticleRed1","getParticleGreen1","getParticleBlue1","drawCircle","loadFontFace","fontfaceobserver__WEBPACK_IMPORTED_MODULE_0__","fontfaceobserver__WEBPACK_IMPORTED_MODULE_0___default","descriptors","FontFace","fontFace","document","fonts","add","load","newStyle","appendChild","createTextNode","head","FontFaceObserver","LayerRenderer","layer","viewPosition","instances","onInstanceClicked","onOverInstance","onOutInstance","onMoveInstance","onMoveInstanceEnd","onDownInstance","getInstanceLeft","renderedInstances","getInstanceTop","getInstanceWidth","getInstanceHeight","getRendererOfInstance","renderedInstance","associatedObjectName","getObjectName","getObjectByName","ObjectsRenderingService","createNewInstanceRenderer","interactive","gesture","panable","deltaX","deltaY","viewTopLeft","viewBottomRight","instancesRenderer","InitialInstanceJSFunctor","invoke","instancePtr","wrapPointer","InitialInstance","pixiObject","getPixiObject","zOrder","getZOrder","isLocked","_isInstanceVisible","visible","wasUsed","toSceneCoordinates","_computeViewBounds","iterateOverInstancesWithZOrdering","_updatePixiObjectsZOrder","_updateVisibility","_cleanRenderers","getVisibility","hasOwnProperty","getInstance","instanceRemovedFromScene","SelectionRectangle","instanceMeasurer","toCanvasCoordinates","makeSelectionRectangle","lastX","lastY","selectionRectangleStart","selectionRectangleEnd","endSelectionRectangle","_instancesInSelectionRectangle","tmp","iterateOverInstances","selector","pixiRectangle","hitArea","instanceHeight","instanceWidth","selectionSceneStart","selectionSceneEnd","x1","y1","x2","y2","fillAlpha","alpha","drawRect","InstancePropertiesEditor","_instanceVariablesList","schema","valueType","getValue","setValue","setObjectName","onEditButtonClick","onEditObjectByName","setX","setY","setAngle","setLocked","setZOrder","getChoices","enumerateLayers","getLayer","setLayer","setCustomWidth","setCustomHeight","setHasCustomSize","properties","getCustomProperties","instanceSchema","propertiesMapToSchema","updateCustomProperty","_UI_Grid__WEBPACK_IMPORTED_MODULE_15__","_PropertiesEditor__WEBPACK_IMPORTED_MODULE_10__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_14___default","editInstanceVariables","material_ui_svg_icons_action_open_in_new__WEBPACK_IMPORTED_MODULE_16___default","_VariablesList__WEBPACK_IMPORTED_MODULE_12__","inheritedVariablesContainer","onSizeUpdated","_UI_Background__WEBPACK_IMPORTED_MODULE_7__","_renderInstancesProperties","InstancesList","_onRowClick","renderedRows","onSelectInstances","_rowGetter","_rowClassName","selectedInstances","freezeUpdate","table","forceUpdateGrid","instanceRowRenderer","locked","toFixed","angle","tableKey","_UI_Theme_ThemeConsumer__WEBPACK_IMPORTED_MODULE_8__","react_virtualized__WEBPACK_IMPORTED_MODULE_7__","headerHeight","tableRootClassName","headerClassName","rowCount","rowGetter","onRowClick","rowClassName","dataKey","VariablesEditorDialog","selectedLayer","layersContainer","secondary","choices","layerRemoved","modal","toolbarItemStyle","sizeTextField","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","toolbarItem","checkbox","TextEditor","_UI_Grid__WEBPACK_IMPORTED_MODULE_10__","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_12__","setCharacterSize","_UI_ColorField_ColorPicker__WEBPACK_IMPORTED_MODULE_11__","setColor","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_8___default","setBold","setItalic","_ResourcesList_ResourceSelector__WEBPACK_IMPORTED_MODULE_13__","setFontName","rows","rowsMax","setString","TiledSpriteEditor","tiledSpriteObject","_ResourcesList_ResourceSelectorWithThumbnail__WEBPACK_IMPORTED_MODULE_9__","setTexture","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_7__","setWidth","setHeight","PanelSpriteEditor","panelSpriteObject","_ResourcesList_ResourceSelectorWithThumbnail__WEBPACK_IMPORTED_MODULE_10__","setTiled","setTopMargin","setBottomMargin","setLeftMargin","setRightMargin","gridList","animationTitle","animationTools","lastLine","addAnimation","addAnimationText","AddAnimationLine","extraTools","react__WEBPACK_IMPORTED_MODULE_9__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_21__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_15___default","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_13___default","Animation","onSpriteContextMenu","selectedSprites","onSelectSprite","onReplaceDirection","onChangeName","animationName","material_ui_GridList__WEBPACK_IMPORTED_MODULE_10__","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_22__","smallest","_UI_DragHandle__WEBPACK_IMPORTED_MODULE_23__","_lingui_react__WEBPACK_IMPORTED_MODULE_8__","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_14___default","_SpritesList__WEBPACK_IMPORTED_MODULE_12__","onReplaceByDirection","newDirection","SortableAnimation","SortableElement","SortableAnimationsList","SortableContainer","onAddAnimation","onRemoveAnimation","onChangeAnimationName","extraBottomTools","cellHeight","cols","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","directionId","AnimationsListContainer","onSortEnd","oldIndex","newIndex","moveAnimation","emptyAnimation","setDirectionsCount","removeAnimation","changeAnimationName","otherNames","deleteSelection","deleteSpritesFromAnimation","duplicateSelection","duplicateSpritesInAnimation","openSpriteContextMenu","sprite","selectSprite","spriteContextMenu","replaceDirection","animationId","setDirection","helperClass","useDragHandle","lockAxis","axis","_UI_Menu_ContextMenu__WEBPACK_IMPORTED_MODULE_24__","SpriteEditor","pointsEditorOpen","collisionMasksEditorOpen","openPointsEditor","openCollisionMasksEditor","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_17___default","_UI_Dialog__WEBPACK_IMPORTED_MODULE_20__","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_16___default","_PointsEditor__WEBPACK_IMPORTED_MODULE_27__","onPointsUpdated","_CollisionMasksEditor__WEBPACK_IMPORTED_MODULE_28__","onCollisionMasksUpdated","require","spritesList","thumbnailExtraStyle","addSpriteButton","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_6__","thumbnailContainerStyle","background","spriteThumbnailImage","maxHeight","AddSpriteButton","displayHint","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_11___default","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_10___default","SortableSpriteThumbnail","_ResourcesList_ResourceThumbnail_ImageThumbnail__WEBPACK_IMPORTED_MODULE_14__","selectable","SortableList","onAddSprite","spritesCount","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__","checkDirectionPointsAndCollisionsMasks","allDirectionSpritesHaveSamePoints","allDirectionSpritesHaveSameCollisionMasks","allDirectionSpritesHaveSamePointsAs","allDirectionSpritesHaveSameCollisionMasksAs","SpritesList","moveSprite","_checkDirectionPoints","resource","setImageName","copySpritePoints","copySpritePolygons","addSprite","editWith","externalEditor","resourceNames","_checkDirectionPoints2","externalEditorData","metadataRaw","getMetadata","singleFrame","extraOptions","fps","getTimeBetweenFrames","basename","extname","isLooping","onChangesSaved","newAnimationName","Direction","setTimeBetweenFrames","setLoop","originalIndex","originalSprite","setMetadata","stringify","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_13__","_DirectionTools__WEBPACK_IMPORTED_MODULE_12__","onEditWith","PointsEditor","animationIndex","directionIndex","spriteIndex","samePointsForAnimations","samePointsForSprites","_updatePoints","_getCurrentElements","getCurrentElements","otherAnimation","copyAnimationsSpritePoints","chooseAnimation","_updateSamePointsToggles","chooseDirection","chooseSprite","_getCurrentElements2","every","allSpritesHaveSamePointsAs","_setSamePointsForAllAnimations","enable","_setSamePointsForAllSprites","_getCurrentElements3","hasValidSprite","_ResourcesList_ResourcePreview_ImagePreview__WEBPACK_IMPORTED_MODULE_12__","_PointsPreview__WEBPACK_IMPORTED_MODULE_11__","pointsContainer","_Utils_SpriteSelector__WEBPACK_IMPORTED_MODULE_14__","sameForAllAnimations","sameForAllSprites","setSameForAllAnimations","setSameForAllSprites","setSameForAllAnimationsLabel","setSameForAllSpritesLabel","_PointsList__WEBPACK_IMPORTED_MODULE_10__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_7__","SortableAddPointRow","AddPointRow","SortablePointRow","PointRow","PointsListBody","nameErrors","updateOriginPointX","_onPointsUpdated","updateOriginPointY","updateCenterPointX","updateCenterPointY","updatePointX","point","updatePointY","nonDefaultPoints","getAllNonDefaultPoints","pointsRows","pointName","pointX","pointY","onChangePointX","onChangePointY","nameError","success","hasPoint","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","delPoint","originPoint","centerPoint","originRow","centerRow","isAutomatic","onEdit","setDefaultCenterPoint","addRow","newNameGenerator","Point","addPoint","material_ui_Table__WEBPACK_IMPORTED_MODULE_9__","displayRowCheckbox","deselectOnClickaway","showRowHover","SortablePointsListBody","PointsList","displaySelectAll","adjustForCheckbox","handleColumn","coordinateColumn","lockToContainerEdges","react__WEBPACK_IMPORTED_MODULE_1___default","material_ui_Table__WEBPACK_IMPORTED_MODULE_2__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_6___default","parseFloat","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_4___default","material_ui_svg_icons_editor_mode_edit__WEBPACK_IMPORTED_MODULE_5___default","material_ui_Table__WEBPACK_IMPORTED_MODULE_1__","_styles__WEBPACK_IMPORTED_MODULE_4__","pointKindIdentifiers","NORMAL","ORIGIN","CENTER","PointsPreview","draggedPoint","draggedPointKind","_onStartDragPoint","_onEndDragPoint","draggingWasDone","_onMouseMove","containerBoundingRect","getBoundingClientRect","xOnContainer","yOnContainer","_renderPoint","imageSrc","transform","onPointerDown","imageWidth","imageHeight","points","automaticCenterPosition","onPointerMove","onPointerUp","CollisionMasksEditor","sameCollisionMasksForAnimations","sameCollisionMasksForSprites","spriteWidth","spriteHeight","_updateCollisionMasks","copyAnimationsSpriteCollisionMasks","_updateSameCollisionMasksToggles","allSpritesHaveSameCollisionMasksAs","_onSetCollisionMaskAutomatic","automatic","setCollisionMaskAutomatic","_setSameCollisionMasksForAllAnimations","_setSameCollisionMasksForAllSprites","_setCurrentSpriteSize","_this$state4","_getCurrentElements4","_ResourcesList_ResourcePreview_ImagePreview__WEBPACK_IMPORTED_MODULE_13__","onSize","_CollisionMasksPreview__WEBPACK_IMPORTED_MODULE_12__","isDefaultBoundingBox","isCollisionMaskAutomatic","polygons","getCustomCollisionMask","onPolygonsUpdated","_Utils_SpriteSelector__WEBPACK_IMPORTED_MODULE_15__","_PolygonsList__WEBPACK_IMPORTED_MODULE_11__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_8__","SortableAddPolygonRow","AddPolygonRow","SortableAddVerticeRow","AddVerticeRow","SortableVerticeRow","VerticeRow","SortablePolygonRow","PolygonRow","PolygonsListBody","updateVerticeX","vertice","set_x","_onPolygonUpdated","updateVerticeY","set_y","polygonRows","polygon","vertices","getVertices","isConvex","removeFromVectorPolygon2d","verticesCount","verticeX","get_x","verticeY","get_y","onChangeVerticeX","onChangeVerticeY","removeFromVectorVector2f","hasWarning","newVertice","Vector2f","newPolygon","Polygon2d","createRectangle","move","material_ui_Table__WEBPACK_IMPORTED_MODULE_8__","SortablePolygonsListBody","PolygonsList","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_2__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_2___default","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_3__","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_3___default","material_ui_TextField__WEBPACK_IMPORTED_MODULE_4__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_4___default","material_ui_svg_icons_alert_warning__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_alert_warning__WEBPACK_IMPORTED_MODULE_5___default","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_6__","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_6___default","_styles__WEBPACK_IMPORTED_MODULE_7__","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_4__","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_4___default","_styles__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_content_add_circle__WEBPACK_IMPORTED_MODULE_2__","material_ui_svg_icons_content_add_circle__WEBPACK_IMPORTED_MODULE_2___default","svg","vertexCircle","CollisionMasksPreview","draggedVertex","_onStartDragVertex","_onEndDragVertex","_onPointerMove","pointOnScreen","_svg","createSVGPoint","screenToSvgMatrix","getScreenCTM","inverse","pointOnSvg","matrixTransform","stroke","strokeWidth","fileRule","vertex","cx","cy","_renderBoundingBox","_renderPolygons","EmptyEditor","_UI_Grid__WEBPACK_IMPORTED_MODULE_7__","shapePainterObject","asShapePainterObject","areCoordinatesAbsolute","setCoordinatesRelative","setCoordinatesAbsolute","_UI_ColorField__WEBPACK_IMPORTED_MODULE_10__","getOutlineColorR","getOutlineColorG","getOutlineColorB","setOutlineColor","getOutlineOpacity","setOutlineOpacity","getOutlineSize","setOutlineSize","getFillColorR","getFillColorG","getFillColorB","setFillColor","getFillOpacity","setFillOpacity","ParticleEmitterEditor","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_8___default","getRendererType","setRendererType","ParticleEmitterObject","Quad","setParticleTexture","Line","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_12__","getRendererParam1","setRendererParam1","getRendererParam2","setRendererParam2","getParticleTexture","_UI_ColorField__WEBPACK_IMPORTED_MODULE_11__","setParticleRed1","setParticleGreen1","setParticleBlue1","getParticleAlpha1","setParticleAlpha1","setParticleRed2","setParticleGreen2","setParticleBlue2","getParticleAlpha2","setParticleAlpha2","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_7___default","isRenderingAdditive","setRenderingAdditive","setRenderingAlpha","getDestroyWhenNoParticles","setDestroyWhenNoParticles","getMaxParticleNb","setMaxParticleNb","getTank","setTank","getFlow","setFlow","getEmitterForceMin","setEmitterForceMin","getEmitterForceMax","setEmitterForceMax","setConeSprayAngle","getZoneRadius","setZoneRadius","getParticleGravityX","setParticleGravityX","getParticleGravityY","setParticleGravityY","getFriction","setFriction","getParticleLifeTimeMin","setParticleLifeTimeMin","getParticleLifeTimeMax","setParticleLifeTimeMax","getParticleSize1","setParticleSize1","getParticleSize2","setParticleSize2","getParticleAngle1","setParticleAngle1","getParticleAngle2","setParticleAngle2","ObjectPropertiesEditor","getProperties","propertiesSchema","updateProperty","_PropertiesEditor__WEBPACK_IMPORTED_MODULE_7__","ObjectGroupEditorDialog","_Component","group","_UI_Dialog__WEBPACK_IMPORTED_MODULE_9__","___WEBPACK_IMPORTED_MODULE_8__","withSerializableObject","newObjectCreator","ObjectGroup","propName","newObjectSelector","ObjectGroupEditor","newObjectName","removeObject","addObject","getAllObjectsNames","objectType","getTypeOfObject","_this$props4","_renderExplanation","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_8___default","material_ui_svg_icons_content_remove__WEBPACK_IMPORTED_MODULE_9___default","_ObjectsList_ObjectSelector__WEBPACK_IMPORTED_MODULE_10__","autoCompleteStyle","onChoose","noGroups","InstancesSelection","getSelectedInstances","multiselect","layersVisibility","isInstanceSelected","unselectInstance","clearSelection","selectInstance","splice","SetupGridDialog","gridWidth","gridHeight","gridOffsetX","gridOffsetY","gridOptions","ScenePropertiesDialog","setWindowDefaultTitle","windowTitle","setStopSoundsOnStartup","shouldStopSoundsOnStartup","setBackgroundColor","getWindowDefaultTitle","stopSoundsOnStartup","propertiesEditors","getAllBehaviorSharedDataNames","sharedData","getBehaviorSharedData","_PropertiesEditor__WEBPACK_IMPORTED_MODULE_13__","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_16___default","onEditVariables","some","onOpenMoreSettings","showObjectsList","openObjectsList","openObjectGroupsList","openProperties","instancesSelection","toggleInstancesList","toggleLayersList","isWindowMaskShown","toggleWindowMask","isGridShown","toggleGrid","openSetupGrid","zoomIn","accelerator","zoomOut","setZoomFactor","flexContainer","absoluteContainer","passFullSize","WrappedComponent","useFlex","FullSizeMeasurer","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","wrappedComponentRef","react_measure__WEBPACK_IMPORTED_MODULE_7___default","xScrollbar","xSliderStyle","yScrollbar","ySliderStyle","addScrollbars","ScrollbarContainer","_editor","xValue","yValue","xMin","xMax","yMin","yMax","_handleXChange","scrollTo","_handleYChange","_setAndAdjust","_handleViewPositionChange","throttle","getViewX","getViewY","leading","trailing","getViewPosition","wrappedEditorRef","onViewPositionChanged","material_ui_Slider__WEBPACK_IMPORTED_MODULE_7___default","sliderStyle","glob","hasElectron","listContainer","ResourcesList","renamedResource","resourcesWithMissingPath","_deleteResource","onDeleteResource","_locateResourceFile","resourceFolderPath","getLocalResourceFullPath","shell","openItem","_openResourceFile","resourceFilePath","_copyResourceFilePath","clipboard","writeText","_scanForNewResources","extensions","createResource","res","pathFound","fileName","relative","createOrUpdateResource","info","_removeUnusedResources","resourceType","ProjectResourcesAdder","getAllUseless","removeAllUseless","_removeAllResourcesWithInvalidPath","getAllResourceNames","resourceHasValidPath","removeResource","_editName","sortableList","getWrappedInstance","_rename","onRenameResource","doRename","_move","moveResource","forceUpdateList","_renderResourceMenuTemplate","RESOURCE_EXTENSIONS","image","audio","AudioResource","FontResource","video","VideoResource","checkMissingPaths","nextState","selectedResource","onSelectResource","allResourcesList","filteredList","filterResourcesList","listKey","_UI_Background__WEBPACK_IMPORTED_MODULE_8__","react_virtualized__WEBPACK_IMPORTED_MODULE_6__","_UI_SortableVirtualizedItemList__WEBPACK_IMPORTED_MODULE_7__","fullList","selectedItem","onItemSelected","renamedItem","onRename","distance","erroredItems","material_ui_search_bar__WEBPACK_IMPORTED_MODULE_9___default","onRequestSearch","lowercaseSearchText","toLowerCase","errorHandler","componentStack","sendErrorMessage","ErrorFallbackComponent","_PlaceholderMessage__WEBPACK_IMPORTED_MODULE_4__","material_ui_svg_icons_action_bug_report__WEBPACK_IMPORTED_MODULE_3___default","material_ui_Divider__WEBPACK_IMPORTED_MODULE_5___default","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_6___default","body","stack","encodeURIComponent","ErrorBoundary","react_error_boundary__WEBPACK_IMPORTED_MODULE_2___default","FallbackComponent","onError","descriptionText","card","bulletIcon","bulletText","SubscriptionDialog","isLoading","choosePlan","userProfile","plan","getAuthorizationHeader","subscription","profile","sendChoosePlanClicked","planId","stripeCustomerId","changeUserSubscription","uid","handleNewSubscriptionSuccess","handleNewSubscriptionFailure","stripeCheckout","StripeCheckout","stripeCheckoutHandler","configure","StripeCheckoutConfig","locale","token","stripeToken","currency","email","amount","monthlyPriceInEuros","onRefreshUserProfile","_isLoading","sendSubscriptionDialogShown","_UserProfileContext__WEBPACK_IMPORTED_MODULE_10__","getSubscriptionPlans","material_ui_Card__WEBPACK_IMPORTED_MODULE_7__","_renderPrice","subtitle","smallDescription","descriptionBullets","material_ui_svg_icons_action_check_circle__WEBPACK_IMPORTED_MODULE_15___default","extraDescription","_UI_LeftLoader__WEBPACK_IMPORTED_MODULE_18__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_14___default","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_16__","authenticated","_UI_PlaceholderMessage__WEBPACK_IMPORTED_MODULE_19__","onLogin","displayLocaleMetadata","localeMetadata","languageCode","renderLanguageMenuItem","translationRatio","percent","isStarted","languageNativeName","languageName","LanguageDialog","languageDidChange","localesToDisplay","LocalesMetadata","goodProgressLocales","startedLocales","_lingui_react__WEBPACK_IMPORTED_MODULE_15__","_PreferencesContext__WEBPACK_IMPORTED_MODULE_12__","setLanguage","isLoadingLanguage","language","_UI_AlertMessage__WEBPACK_IMPORTED_MODULE_13__","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_6___default","material_ui_Divider__WEBPACK_IMPORTED_MODULE_16___default","module","exports","chip","chipsList","flexWrap","ExamplesSearchbar","_chips","isBuiltin","chosenExtensionName","onExtensionNameChosen","extensionName","material_ui_Chip__WEBPACK_IMPORTED_MODULE_8___default","labelColor","randomColor","seed","luminosity","admob","usedExtensions","advanced-shape-based-painter","animation-speed-scale","asteroids","basic-ai-with-pathfinding","basic-artificial-intelligence","basic-topdown-car-driving","betabox-basics-learning-experience","bomb-the-crate","bouncing-ball-and-rope","breakout","buttons","car-physics","center-object-within-another","change-position-of-object","change-scale-of-sprites","change-sprite-animation","change-sprite-color","character-selection","controller-input","create-object-with-mouseclick","custom-font","custom-mouse-pointer","customize-keys-with-lastpressedkey","device-orientation-ballgame","device-orientation-compass","device-vibration","downhill-bike-physics-demo","drag-camera-with-mouse","drop-collect-items-from-storage","endless-up-runner","exit-app","facebook-instant-game","find-diagonals","geodash","health-bar","infinite-scrolling-background","inventory-system","isometric-game","javascript-blocks-in-platformer","keyboard-practice","level-editor","load-image-from-url","magnet","manipulate-text-object","move-camera-to-position","move-object-back-and-forth","move-object-in-circle","move-object-toward-position","move-object-with-mouse-joint","move-object-with-physics","multitouch","object-gravity","object-selection","objects-timers","open-url-in-browser","parallax","parallax-scrolling","parse-json-from-api","parse-json-string","particles-explosions","particles-various-effects","pathfinding","pathfinding-basics","physics","physics-joints-demo","physics-joints-settings-demo","pin-object-to-another","pin-object-to-another-multiple-parents","pixel-perfect-platform-game","plane-and-clouds","platformer","platformer-double-jump","play-music-on-mobile","play-stop-sprite-animation","racing-game","ragdoll","rain","random-color-picker","rotate-toward-mouse","rotate-toward-position","rotate-with-keypress","save-load","screen-shake","shoot-bullet-in-parabola","shoot-bullets","shooting-bullets-explanation","snap-object-to-grid","space-invaders","space-shooter","space-shooter-with-functions","splash-screen","sprite-fade-in-out","take-screenshot","text-entry-object","text-fade-in-out","text-to-speech","toggle-music-play-sound","type-on-text-effect","z-depth","zombie-laser","GDI18nProvider","catalogs","_loadCatalog","catalog","_loadLanguage","prevProps","setupI18n","getTranslation","getTranslationFunction","./af_ZA/messages","./ar_SA/messages","./az_AZ/messages","./bg_BG/messages","./ca_ES/messages","./cs_CZ/messages","./da_DK/messages","./de_DE/messages","./el_GR/messages","./en/messages","./eo_UY/messages","./es_ES/messages","./fa_IR/messages","./fi_FI/messages","./fil_PH/messages","./fr_FR/messages","./ha_HG/messages","./he_IL/messages","./hu_HU/messages","./id_ID/messages","./it_IT/messages","./ja_JP/messages","./ko_KR/messages","./lt_LT/messages","./mr_IN/messages","./ms_MY/messages","./my_MM/messages","./nl_NL/messages","./no_NO/messages","./pl_PL/messages","./pseudo_LOCALE/messages","./pt_BR/messages","./pt_PT/messages","./ro_RO/messages","./ru_RU/messages","./sk_SK/messages","./sr_CS/messages","./sr_SP/messages","./sv_SE/messages","./th_TH/messages","./tr_TR/messages","./uk_UA/messages","./ur_PK/messages","./yo_NG/messages","./zh_CN/messages","./zh_TW/messages","webpackAsyncContext","req","ids","Error","code","SimpleDropTarget","NativeTypes","TEXT","item","isOverCurrent","itemType","getItemType","InstancesRenderer","classCallCheck","layersRenderers","layerRenderer","getInstanceRect","getPixiContainer","resetRenderersFor","removeChild","transformRect","transformPoint","endPos","onResize","onResizeEnd","onRotate","onRotateEnd","rectanglesContainer","selectedRectangles","resizeButton","resizeIcon","fromImage","rightResizeButton","bottomResizeButton","rotateButton","_makeButton","objectButton","onMove","onEnd","buttonMode","defaultCursor","buttonObject","canvasPosition","shape","newRectangle","instanceRect","selectionRectangle","pop","resizeButtonPos","rightResizeButtonPos","bottomResizeButtonPos","rotateButtonPos","buttonPadding","_renderButton","highlightedInstance","highlightRectangle","InstancesResizer","instanceSizes","totalDeltaX","totalDeltaY","snap","grid","proportional","initialSize","selectedInstance","_roundWidth","_getSizeDeltaX","_roundHeight","_getSizeDeltaY","InstancesRotator","instanceAngles","initialAngle","atan2","_getNewAngle","InstancesMover","instancePositions","noGridSnap","roundPosition","followAxis","initialPosition","_roundXPosition","_getMoveDeltaX","_roundYPosition","_getMoveDeltaY","pixiGrid","sceneStartPoint","sceneEndPoint","startXPos","startYPos","endXPos","ceil","endYPos","Xpos","start","Ypos","WindowBorder","windowRectangle","getMainWindowDefaultWidth","getMainWindowDefaultHeight","displayedRectangle","windowMask","DropHandler","canvas","onDrop","ondragover","ondrop","ev","dataTransfer","dropEffect","canvasRect","getData","BackgroundColor","pixiRenderer","FpsLimiter","maxFps","_lastFrameTime","Date","now","_interval","_forceUpdate","delta","stopPIXITicker","ticker","shared","stop","startPIXITicker","canvasArea","dropCursor","InstancesEditorContainer","possibleConstructorReturn","getPrototypeOf","lastCursorX","lastCursorY","_onBackgroundClicked","view","keyboardShortcuts","shouldMultiSelect","onInstancesSelected","_onPanMove","shouldMoveView","sceneDeltaX","getZoomFactor","sceneDeltaY","scrollBy","_getLayersVisibility","_onEndSelectionRectangle","instancesSelected","selectInstances","_onInstanceClicked","_onOverInstance","setInstance","_onDownInstance","shouldCloneInstances","initialInstances","insertInitialInstance","_onOutInstance","_onMoveInstance","instancesMover","moveBy","shouldFollowAxis","shouldNotSnapToGrid","_onMoveInstanceEnd","endMove","onInstancesMoved","_onResize","instancesResizer","resizeBy","shouldResizeProportionally","_onResizeEnd","endResize","onInstancesResized","_onRotate","instancesRotator","rotateBy","_onRotateEnd","endRotate","onInstancesRotated","_onDrop","newPos","onAddInstance","clearHighlightedInstance","moveSelection","getLastContextMenuPosition","lastContextMenuX","lastContextMenuY","getLastCursorPosition","_renderScene","_unmounted","_renderingPaused","fpsLimiter","shouldUpdate","windowBorder","nextFrame","requestAnimationFrame","pauseSceneRendering","cancelAnimationFrame","restartSceneRendering","autoDetectRenderer","addEventListener","offsetX","offsetY","onPointerOver","onPointerOut","onmousewheel","shouldZoom","zoomBy","wheelDelta","shouldScrollHorizontally","setAttribute","blur","backgroundArea","ViewPosition","Grid","KeyboardShortcuts","onDelete","onCut","onUndo","onRedo","onZoomOut","onZoomIn","dropHandler","_mountEditorComponents","getInstanceMeasurer","SelectedInstances","HighlightedInstance","WindowMask","unmount","resize","forceNextUpdate","setOptions","pauseRendering","zoomFactor","onChangeOptions","scrollToInstance","react_default","DragDropHelpers_SimpleDropTarget","objectSpread","showDropCursor","HelpIcon","node_modules_react_default","IconButton_default","help_outline_default","BehaviorListItem","List","leftAvatar","Avatar_default","NewBehaviorDialog","showDeprecated","_showDeprecated","extensionsList","behaviorType","defaultName","getDefaultName","FlatButton_default","react","deprecatedBehaviorsInformation","getDeprecatedBehaviorsInformation","behaviors","deprecatedBehaviors","chooseBehavior","Dialog","HelpButton","NewBehaviorDialog_BehaviorListItem","Subheader_default","visibility_off_default","visibility_default","getBehaviorHelpPagePath","behavior","getTypeName","BehaviorPropertiesEditor","node_modules_react","PropertiesEditor","EmptyMessage","ShapePreview","_onVertexDown","draggedIndex","_onMouseUp","onMoveVertex","polygonOrigin","dimensionA","dimensionB","fixedWidth","fixedHeight","halfLength","_this$props5","filerule","renderBox","renderCircle","renderEdge","renderPolygon","PolygonEditor","edges","v1","v2","zProductIsPositive","alignedX","alignedY","onChangeVertexX","onChangeVertexY","Table","_isPolygonConvex","warning_default","SemiControlledTextField","toString","delete_default","add_circle_default","NumericProperty","propertyName","getLabel","BitProperty","pos","spacing","Checkbox_default","BehaviorsEditorService","getEditor","components","Physics2::Physics2Behavior","_setImageSize","bitsValue","bits","layersValues","masksValues","SelectField_default","MenuItem_default","ImagePreview","ShapePreview_ShapePreview","newX","newY","ResourceSelector","PolygonEditor_PolygonEditor","_isBitEnabled","_enableBit","addBehaviorLine","addBehaviorText","behaviorTitle","behaviorTools","AddBehaviorLine","add_default","BehaviorsEditor","chooseNewBehavior","newBehaviorDialogOpen","_hasBehaviorWithType","getAllBehaviorNames","getBehavior","addBehavior","hasBehaviorNamed","addNewBehavior","_onChangeBehaviorName","renameBehavior","_onRemoveBehavior","removeBehavior","allBehaviorNames","BehaviorComponent","MiniToolbar","TextField_default","BehaviorsEditor_AddBehaviorLine","NewBehaviorDialog_NewBehaviorDialog","titleContainer","ObjectEditorDialog","_onChangeTab","inherits","createClass","EditorComponent","editorComponent","titleStyle","canRenameObject","BehaviorsEditor_BehaviorsEditor","ObjectEditorDialogContainer","dialogComponent","castToObjectType","editorConfiguration","ObjectsEditorService","getEditorConfiguration","createNewObject","useProjectToUnserialize","EditorDialog","getGravatarUrl","hash","md5","trim","lineHeight","ProfileDetails","PlaceholderLoader","UsagesDetails","usages","usage","format","createdAt","SubscriptionDetails","onChangeSubscription","RaisedButton_default","ProfileDialog","newTab","UserProfileContext","onLogout","CreateProfile","ThemableObjectRow","_onContextMenu","_iconMenu","IconMenu","iconMenu","more_vert_default","onEditName","onSetAsGlobalObject","onAddNewObject","onCopyObject","onCutObject","Clipboard","has","onPasteObject","onDuplicateObject","editingName","isGlobalObject","onKeyPress","charCode","listItem","itemStyle","separatorColor","leftIcon","ListIcon","_renderObjectMenu","onObjectSelected","ObjectRow","NewObjectDialog","AddObjectRow","makeAddItem","ListItem","SortableObjectRow","objectWithoutProperties","ObjectsList_ObjectRow","SortableAddObjectRow","ObjectsList","selectedObjectNames","es","rowRenderer","objectWithContext","nameBeingEdited","renamedObjectWithScope","onEditObject","SortableObjectsList","withRef","ObjectsListContainer","containerObjectsList","projectObjectsList","newObjectDialogOpen","variablesEditedObject","_this2$props","insertNewObject","getObjectsCount","_deleteObject","_this2$props2","onDeleteObject","doRemove","_copyObject","serializeToJSObject","_cutObject","_duplicateObject","_pasteAndRename","_paste","pasteObject","_Clipboard$get","copiedObject","_this2$props3","onObjectPasted","newObject","getObjectPosition","unserializeFromJSObject","_editVariables","onRenameObject","canMoveObjects","_this2$props4","moveObject","projectOldIndex","projectNewIndex","_onStartDraggingObject","_this2$props5","onStartDraggingObject","getObjectAt","projectIndex","_setAsGlobalObject","_this2$props6","insertObject","lists","enumerateObjects","filterObjectsList","allObjectsList","Background","onSortStart","onEndDraggingObject","lib_default","NewObjectDialog_NewObjectDialog","visibleColumn","LayerRow","onChangeVisibility","DragHandle","checkedIcon","uncheckedIcon","AddLayerRow","SortableAddLayerRow","SortableLayerRow","LayersListBody","layersCount","containerLayersList","mapReverseFor","hasLayerNamed","onRenameLayer","defineProperty","onRemoveLayer","removeLayer","setVisibility","insertNewLayer","SortableLayersListBody","LayersList","moveLayer","oldName","logo","GDevelopLogo","ScrollBackground","palette","canvasColor","innerContainer","centerContainer","logoPaper","buttonsPaper","StartPage","aboutDialogOpen","canOpen","onOpen","onCreate","onOpenProjectManager","onCloseProject","onOpenAboutDialog","onOpenHelpFinder","onOpenLanguageDialog","StartPage_ScrollBackground","Paper_default","zDepth","StartPage_GDevelopLogo","language_default","iconClassName","BaseEditor","InstructionSelector","InstructionOrExpressionSelector","typeSelector","parametersEditor","InstructionEditor","chooseType","_instructionParametersEditor","InstructionSelector_InstructionSelector","selectedType","rounded","instructionParametersEditor","dialogContent","dialogBody","InstructionEditorDialog","isNewInstruction","onSubmit","bodyStyle","InstructionEditor_InstructionEditor","DismissableAlertMessage","PreferencesContext","AlertMessage","onHide","ProjectPropertiesDialog","_subscriptionChecker","windowDefaultWidth","windowDefaultHeight","author","version","packageName","orientation","adMobAppId","scaleMode","sizeOnStartupMode","showGDevelopSplash","setDefaultWidth","setDefaultHeight","setAuthor","setPackageName","setOrientation","setAdMobAppId","setScaleMode","setSizeOnStartupMode","getLoadingScreen","displayProjectErrorsBox","getErrors","getAuthor","getPackageName","getOrientation","getAdMobAppId","getScaleMode","getSizeOnStartupMode","isGDevelopSplashShown","UI_DismissableAlertMessage","checkHasSubscription","SubscriptionChecker","subscriptionChecker","mode","LAYOUT_CLIPBOARD_KIND","EXTERNAL_LAYOUT_CLIPBOARD_KIND","EXTERNAL_EVENTS_CLIPBOARD_KIND","EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND","projectStructureItemNestedList","itemName","itemTextField","ProjectStructureItem","onRefresh","ThemeConsumer","groupBackgroundColor","nestedListStyle","refresh_default","Item","canPaste","canMoveUp","onMoveUp","canMoveDown","onMoveDown","AddItem","ProjectManager","renamedItemKind","renamedItemName","projectPropertiesDialogOpen","variablesEditorOpen","_onEditName","_copyLayout","_cutLayout","onDeleteLayout","_pasteLayout","copiedLayout","newLayout","insertNewLayout","updateBehaviorsSharedData","_moveUpLayout","swapLayouts","_moveDownLayout","getLayoutsCount","_copyExternalEvents","_cutExternalEvents","onDeleteExternalEvents","_pasteExternalEvents","_Clipboard$get2","copiedExternalEvents","newExternalEvents","insertNewExternalEvents","_moveUpExternalEvents","swapExternalEvents","_moveDownExternalEvents","getExternalEventsCount","_copyExternalLayout","_cutExternalLayout","onDeleteExternalLayout","_pasteExternalLayout","_Clipboard$get3","copiedExternalLayout","hasExternalLayoutNamed","newExternalLayout","insertNewExternalLayout","_moveUpExternalLayout","swapExternalLayouts","_moveDownExternalLayout","getExternalLayoutsCount","_copyEventsFunctionsExtension","_cutEventsFunctionsExtension","onDeleteEventsFunctionsExtension","_pasteEventsFunctionsExtension","_Clipboard$get4","copiedEventsFunctionsExtension","hasEventsFunctionsExtensionNamed","newEventsFunctionsExtension","insertNewEventsFunctionsExtension","_moveUpEventsFunctionsExtension","swapEventsFunctionsExtensions","_moveDownEventsFunctionsExtension","getEventsFunctionsExtensionsCount","_searchBar","hasMainMenu","ProjectManager_ProjectStructureItem","isGDevelopIcon","initiallyOpen","primaryTogglesNestedList","autoGenerateNestedIndicator","nestedItems","onSaveProject","onExportProject","onOpenPreferences","eventsFunctionsExtensionsError","onReloadEventsFunctionsExtensions","forceOpen","_renderMenu","onOpenPlatformSpecificAssets","onOpenResources","filterProjectItemsList","ProjectManager_Item","onRenameLayout","onAddLayout","onRenameExternalEvents","onAddExternalEvents","enumerateExternalLayouts","onOpenExternalLayout","onRenameExternalLayout","onAddExternalLayout","enumerateEventsFunctionsExtensions","onOpenEventsFunctionsExtension","onRenameEventsFunctionsExtension","onAddEventsFunctionsExtension","searchBar","ProjectManager_ProjectPropertiesDialog","EventsFunctionsList","renamedEventsFunction","_deleteEventsFunction","removeEventsFunction","moveEventsFunction","_renderEventsFunctionMenuTemplate","_addNewEventsFunction","insertNewEventsFunction","getEventsFunctionsCount","toConsumableArray","filterEventFunctionsList","getEventsFunctionAt","enumerateEventsFunctions","Divider_default","SortableVirtualizedItemList","onAddNewItem","addNewItemLabel","ThemableGroupRow","isGlobalGroup","_renderGroupMenu","GroupRow","AddGroupRow","SortableGroupRow","ObjectGroupsList_GroupRow","SortableAddGroupRow","GroupsList","groupWithContext","onAddGroup","renamedGroupWithScope","onEditGroup","SortableGroupsList","GroupsListContainer","containerGroupsList","projectGroupsList","addGroup","objectsContainerGroups","getObjectGroups","insertNew","count","_onDelete","onDeleteGroup","remove","_onRename","onRenameGroup","_onMove","groups","enumerateObjectsAndGroups","filterGroupsList","allGroupsList","ChangelogDialog","_lingui_react","Changelog","onUpdated","ChangelogDialogContainer","defaultOpen","ChangelogDialog_ChangelogDialog","verifyIfIsNewVersion","ChangelogDialogContainer_ChangelogDialogContainer","UnknownEvent","unknownEvent","BuiltinCommonInstructions::Standard","BuiltinCommonInstructions::Group","BuiltinCommonInstructions::Comment","BuiltinCommonInstructions::ForEach","BuiltinCommonInstructions::Repeat","BuiltinCommonInstructions::While","WhileEvent","BuiltinCommonInstructions::Link","BuiltinCommonInstructions::JsCode","registerEvent","eventType","renderFunction","dropdownMenuContainer","poweredByText","opacity","indexName","appId","apiKey","algoliaOptions","hitsPerPage","DocSearchArea","client","algoliasearch","_handleSearchTextChange","_launchSearchRequest","debounce","search","query","params","hits","_renderResult","result","hierarchy","lvl0","lvl1","lvl2","lvl3","lvl4","lvl5","lvl6","objectID","content","url","visibility","HelpFinder","_sendHelpSearch","sendHelpSearch","sendHelpFinderOpened","DocSearchArea_DocSearchArea","fs","setupAutocompletions","monaco","importAllJsFilesFromFolder","folderPath","readdir","filenames","filename","endsWith","readFile","fileError","languages","typescript","javascriptDefaults","addExtraLib","findGDJS","gdjsRoot","runtimePath","extensionsPath","eventToolsPath","folderNames","folderName","monacoEditorOptions","scrollBeyondLastLine","minimap","monacoCompletionsInitialized","monacoThemesInitialized","CodeEditor","_React$Component","MonacoEditor","setupEditorThemes","themeData","defineTheme","setupEditorCompletions","setCompilerOptions","ScriptTarget","ES6","allowNonTsExtensions","allowJs","checkJs","_handleContextMenu","loadMonacoEditor","bind","default","handleLoadError","theme","editorWillMount","editorDidMount","ExpressionParametersEditor","onChangeParameter","getNonCodeOnlyParametersCount","ExpressionParametersEditorDialog","onDone","ExpressionParametersEditor_ExpressionParametersEditor","editedIndex","oldValue","timeField","timeIcon","AnimationPreview","currentFrameIndex","currentFrameElapsedTime","paused","timeBetweenFrames","nextUpdate","replay","play","pause","_updateAnimation","spritesContainer","newFrameIndex","newFrameElapsedTime","onChangeTimeBetweenFrames","autoFocus","timer_default","time","precision","index_es","replay_default","play_arrow_default","pause_default","repeatContainer","repeatLabel","spacer","formatTime","Number","DirectionTools","timeError","previewOpen","saveTimeBetweenFrames","newTime","newTimeIsValid","isNaN","setLooping","openPreview","displayName","brush_default","repeat_default","labelStyle","AnimationPreview_AnimationPreview","Column","Spacer","marginsSize","defaultBody","noMarginBody","actionsContainer","actionsContainerWithSecondaryActions","dialogActions","material_ui_Dialog__WEBPACK_IMPORTED_MODULE_2___default","actionsContainerStyle","func","cppVector","_Theme_ThemeConsumer__WEBPACK_IMPORTED_MODULE_2__","_BackgroundText__WEBPACK_IMPORTED_MODULE_3__","messageStyle","UrlsCache","projectCache","cache","_getProjectCache","systemFilename","resourcesNames","_cache","burstUrl","cachedUrl","getCachedUrl","isLocalFile","file","resourceAbsolutePath","cacheLocalFileUrl","cacheUrl","resourceRelativePath","getFullUrl","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_2___default","material_ui_svg_icons_action_help_outline__WEBPACK_IMPORTED_MODULE_3___default","serializable","methodName","serializedElement","SerializerElement","Serializer","toJSON","optionalProject","fromJSObject","conditionsContainer","dropIndicator","cantDropIndicator","getInputNode","material_ui_CircularProgress__WEBPACK_IMPORTED_MODULE_2___default","exists","potentialName","app","process","isDarwin","test","platform","tryPath","onExists","onNoAccess","access","constants","R_OK","appPath","getAppPath","cwd","pathToRoot","rootPath","devPath","material_ui_Paper__WEBPACK_IMPORTED_MODULE_1__","material_ui_Paper__WEBPACK_IMPORTED_MODULE_1___default","GDIconMenu","menuImplementation","buildFromTemplate","showMenu","_onClick","ElectronMenuImplementation","MaterialUIMenuImplementation","iconMenuProps","material_ui_IconMenu__WEBPACK_IMPORTED_MODULE_7___default","desktop","disableAutoFocus","getMenuProps","textFieldStyle","menuProps","popoverProps","canAutoPosition","fuzzyOrEmptyFilter","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_0__","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_0___default","initialPreferences","create_react_context__WEBPACK_IMPORTED_MODULE_0__","lastLaunchedVersion","createReactContext","layers","_layout","angleInDegrees","initialUserProfile","limits","onEditObjectVariables","_index__WEBPACK_IMPORTED_MODULE_10__","VariablesContainer","electronClipboard","internalClipboard","000kind","readText","autoComplete","_addFrom","_onUpdate","notExistingError","_onItemChosen","defaultItems","_editWith","resourceExternalEditor","initialResourceMetadata","initialResourceMetadataRaw","externalEditorOptions","newResourceData","newResourceName","_autoComplete","rightIcon","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_11___default","material_ui_Divider__WEBPACK_IMPORTED_MODULE_9___default","getKind","_getDefaultItems","autoCompleteData","externalEditors","_UI_Menu_IconMenu__WEBPACK_IMPORTED_MODULE_13__","material_ui_svg_icons_image_brush__WEBPACK_IMPORTED_MODULE_12___default","ToolbarIcon","_Theme_ThemeConsumer__WEBPACK_IMPORTED_MODULE_8__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_7___default","iconStyle","gdevelopIconsCSSFilter","material_ui_Toolbar__WEBPACK_IMPORTED_MODULE_1__","crossOrigin","_UI_Messages_MessageBox__WEBPACK_IMPORTED_MODULE_0__","lodash_values__WEBPACK_IMPORTED_MODULE_1__","lodash_values__WEBPACK_IMPORTED_MODULE_1___default","errors","addError","extraExplanation","addButton","InstructionsList","instructions","instructionContext","_Instruction__WEBPACK_IMPORTED_MODULE_7__","isInstructionSelected","instructionsListContext","addButtonDefaultLabel","_DropIndicator__WEBPACK_IMPORTED_MODULE_12__","_Utils_MapFor__WEBPACK_IMPORTED_MODULE_0__","lodash_flatten__WEBPACK_IMPORTED_MODULE_1__","lodash_flatten__WEBPACK_IMPORTED_MODULE_1___default","filterObject","filterGroup","containerGroups","getAt","projectGroups","popover","paddingBottom","contentContainer","InlinePopover","material_ui_Popover__WEBPACK_IMPORTED_MODULE_6___default","anchorOrigin","horizontal","vertical","targetOrigin","ThemableMiniToolbar","toolbarTextStyle","MiniToolbarText","_Renderers_RenderedUnknownInstance__WEBPACK_IMPORTED_MODULE_0__","_Renderers_RenderedSpriteInstance__WEBPACK_IMPORTED_MODULE_1__","_Renderers_RenderedTiledSpriteInstance__WEBPACK_IMPORTED_MODULE_2__","_Renderers_RenderedPanelSpriteInstance__WEBPACK_IMPORTED_MODULE_3__","_Renderers_RenderedTextInstance__WEBPACK_IMPORTED_MODULE_4__","_Renderers_RenderedShapePainterInstance__WEBPACK_IMPORTED_MODULE_5__","_Renderers_RenderedTextEntryInstance__WEBPACK_IMPORTED_MODULE_6__","_Renderers_RenderedParticleEmitterInstance__WEBPACK_IMPORTED_MODULE_7__","_PixiResourcesLoader__WEBPACK_IMPORTED_MODULE_8__","_ResourcesLoader__WEBPACK_IMPORTED_MODULE_9__","_Renderers_RenderedInstance__WEBPACK_IMPORTED_MODULE_10__","pixi_js__WEBPACK_IMPORTED_MODULE_11__","pixi_js__WEBPACK_IMPORTED_MODULE_11___default","renderers","unknownObjectType","TiledSpriteObject::TiledSprite","PanelSpriteObject::PanelSprite","TextObject::Text","PrimitiveDrawing::Drawer","RenderedShapePainterInstance","TextEntryObject::TextEntry","RenderedTextEntryInstance","ParticleSystem::ParticleEmitter","PixiResourcesLoader","registerInstanceRenderer","columnContainer","rowContainer","fieldContainer","subPropertiesEditorContainer","subHeader","getFieldValue","getFieldLabel","_onInstancesModified","onInstancesModified","_renderInputField","_UI_InlineCheckbox__WEBPACK_IMPORTED_MODULE_7__","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_6__","material_ui_svg_icons_image_edit__WEBPACK_IMPORTED_MODULE_14___default","_renderSelectField","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_13___default","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_12___default","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_11___default","_renderResourceField","_ResourcesList_ResourceSelector__WEBPACK_IMPORTED_MODULE_8__","material_ui_Subheader__WEBPACK_IMPORTED_MODULE_10___default","onUpdateProperty","propertyNames","property","charAt","toUpperCase","imagePreviewContainer","border","overlayContainer","box","_handleError","errored","_handleImageLoaded","imgElement","clientWidth","clientHeight","resourcePath","imageSource","scrollTop","scrollLeft","overlayStyle","canDisplayOverlays","onLoad","lodash_every__WEBPACK_IMPORTED_MODULE_1__","lodash_every__WEBPACK_IMPORTED_MODULE_1___default","hasValidAnimation","hasValidDirection","copyPoint","originalPoint","destinationPoint","destinationSprite","isSamePoint","point1","point2","sprite1","sprite2","sprite1Point","getPoint","originalPolygon","haveSameCollisionMasks","sprite1CollisionMask","sprite2CollisionMask","sprite1Polygon","polygon1","polygon2","polygon1Vertices","polygon2Vertices","isSamePolygon","spritePtrs","spritesToDelete","removeSprite","spritesToDuplicate","spriteToDuplicate","newSprite","material_ui_Paper__WEBPACK_IMPORTED_MODULE_2___default","_Grid__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_action_info__WEBPACK_IMPORTED_MODULE_3___default","material_ui_svg_icons_alert_warning__WEBPACK_IMPORTED_MODULE_4___default","material_ui__WEBPACK_IMPORTED_MODULE_6__","rest","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2___default","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_4___default","textFieldContainer","textFieldAndHightlightContainer","expressionSelector","backgroundHighlighting","backgroundHighlightingWithDescription","functionsButton","functionsButtonWithDescription","_fieldElement","_inputElement","popoverOpen","parametersDialogOpen","selectedExpressionInfo","validatedValue","errorHighlights","_openExpressionPopover","_handleFocus","_handleRequestClose","_handleChange","_enqueueValidation","_handleBlur","cancel","_handleMenuMouseDown","_handleExpressionChosen","insertExpression","cursorPosition","selectionStart","functionCall","substr","setSelectionRange","parser","ExpressionParser2","expressionNode","parseExpression","expressionValidator","ExpressionValidator","visit","getStartPosition","getEndPosition","getMessage","hasMultipleErrors","popoverStyle","backgroundHighlightingStyle","_BackgroundHighlighting__WEBPACK_IMPORTED_MODULE_16__","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_11__","material_ui_Popover__WEBPACK_IMPORTED_MODULE_8___default","useLayerForClickAway","_InstructionEditor_InstructionOrExpressionSelector_ExpressionSelector__WEBPACK_IMPORTED_MODULE_13__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_10___default","material_ui_svg_icons_editor_functions__WEBPACK_IMPORTED_MODULE_9___default","_ExpressionParametersEditorDialog__WEBPACK_IMPORTED_MODULE_14__","_Editors_TextEditor__WEBPACK_IMPORTED_MODULE_0__","_Editors_TiledSpriteEditor__WEBPACK_IMPORTED_MODULE_1__","_Editors_PanelSpriteEditor__WEBPACK_IMPORTED_MODULE_2__","_Editors_SpriteEditor__WEBPACK_IMPORTED_MODULE_3__","_Editors_EmptyEditor__WEBPACK_IMPORTED_MODULE_4__","_Editors_ShapePainterEditor__WEBPACK_IMPORTED_MODULE_5__","_Editors_ParticleEmitterEditor__WEBPACK_IMPORTED_MODULE_6__","_Editors_ObjectPropertiesEditor__WEBPACK_IMPORTED_MODULE_7__","editorConfigurations","registerEditorConfiguration","getDefaultObjectJsImplementationPropertiesEditor","asObjectJsImplementation","release","SpriteObject","TiledSpriteObject","PanelSpriteObject","TextObject","ShapePainterEditor","ShapePainterObject","TextEntryObject","asTextEntryObject","getUrl","buildElectron","buildCordovaAndroid","getBuild","getBuilds","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","_ApiConfigs__WEBPACK_IMPORTED_MODULE_1__","userId","targets","authorizationHeader","axios","post","GDevelopBuildApi","baseUrl","headers","Authorization","response","buildId","ResourceThumbnail","ImageThumbnail","ResourceSelectorWithThumbnail","ResourceThumbnail_ResourceThumbnail","CloseButton","_this$context","context","mosaicActions","mosaicWindowActions","getPath","close_default","contextTypes","PropTypes","addRightNode","currentNode","newNode","MosaicWithoutDragDropContext","lib","mosaicRootClassName","ThemableEditorMosaic","openEditor","editorName","getLeaves","mosaicNode","_onChange","renderTile","cloneElement","defaultToolbarControls","CloseButton_CloseButton","MosaicWindow","drawerContent","MainFrame","createDialogOpen","exportDialogOpen","introDialogOpen","saveDialogOpen","genericDialogOpen","loadingProject","previewLoading","currentProject","projectManagerOpen","editorTabs","genericDialog","snackMessage","snackMessageOpen","preferencesDialogOpen","languageDialogOpen","profileDialogOpen","subscriptionDialogOpen","platformSpecificAssetsDialogOpen","helpFinderDialogOpen","_resourceSourceDialogs","_previewLauncher","_providers","_loadExtensions","extensionsLoader","loadAllExtensions","getNotNullTranslationFunction","loadingResults","successLoadingResults","loadingResult","failLoadingResults","dangerous","dangerousLoadingResults","loadFromSerializedProject","serializedProject","timeFunction","newProject","ProjectHelper","createNewGDJSProject","unserializeFrom","closeProject","loadFromProject","burstAllUrlsCache","_loadProjectEventsFunctionsExtensions","eventsFunctionWriter","loadProjectEventsFunctionsExtensions","openFromPathOrURL","onReadFromPathOrURL","projectObject","setProjectFile","openProjectManager","unloadProjectEventsFunctionsExtensions","getSerializedElements","refs","setEditorToolbar","addLayout","addExternalLayout","addExternalEvents","addEventsFunctionsExtension","deleteLayout","removeLayout","deleteExternalLayout","removeExternalLayout","deleteExternalEvents","removeExternalEvents","deleteEventsFunctionsExtension","removeEventsFunctionsExtension","renameLayout","renameExternalLayout","renameExternalEvents","renameEventsFunctionsExtension","_launchLayoutPreview","watchPromiseInState","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","_handlePreviewResult","launchLayoutPreview","_launchExternalLayoutPreview","launchExternalLayoutPreview","previewPromise","reject","openLayout","_ref$openEventsEditor","openEventsEditor","_ref$openSceneEditor","openSceneEditor","sceneEditorOptions","_Editors_SceneEditor__WEBPACK_IMPORTED_MODULE_34__","layoutName","previewLauncher","canDoNetworkPreview","openDebugger","integratedEditor","_onChooseResource","eventsEditorOptions","_Editors_EventsEditor__WEBPACK_IMPORTED_MODULE_32__","openExternalEvents","_openInstructionOrExpression","tabsWithSceneEditor","tabsWithSceneAndEventsEditors","_Editors_ExternalEventsEditor__WEBPACK_IMPORTED_MODULE_33__","externalEventsName","openExternalLayout","_Editors_ExternalLayoutEditor__WEBPACK_IMPORTED_MODULE_35__","externalLayoutName","openEventsFunctionsExtension","_Editors_EventsFunctionsExtensionEditor__WEBPACK_IMPORTED_MODULE_36__","eventsFunctionsExtensionName","openResources","_Editors_ResourcesEditor__WEBPACK_IMPORTED_MODULE_38__","openStartPage","_Editors_StartPage__WEBPACK_IMPORTED_MODULE_37__","onChooseProject","chooseProject","openCreateDialog","askToCloseProject","openAboutDialog","openHelpFinderDialog","openLanguage","_ref9","_Editors_DebuggerEditor__WEBPACK_IMPORTED_MODULE_31__","openSubscription","getFunctionNameFromType","foundTab","filepath","openSceneOrProjectManager","save","saveDialog","_openSaveDialog","_showSnackMessage","getLayoutAt","openExportDialog","_openIntroDialog","_openGenericDialog","openPreferences","openProfile","_onChangeEditorTab","_onEditorTabActive","_onCloseEditorTab","sourceName","multiSelection","resourceSourceDialog","chooseResources","openPlatformSpecificAssets","setUpdateStatus","notificationTitle","getUpdateNotificationTitle","notificationBody","getUpdateNotificationBody","Notification","onclick","releaseName","_closeSnackMessage","initialPathsOrURLsToOpen","introDialog","reloadBuiltinExtensions","exportDialog","createDialog","authentification","showLoader","loading","_ProjectTitlebar__WEBPACK_IMPORTED_MODULE_14__","material_ui_Drawer__WEBPACK_IMPORTED_MODULE_10___default","containerStyle","_UI_EditorBar__WEBPACK_IMPORTED_MODULE_20__","showMenuIconButton","iconElementRight","material_ui_svg_icons_navigation_close__WEBPACK_IMPORTED_MODULE_12___default","_ProjectManager__WEBPACK_IMPORTED_MODULE_17__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_45__","_Toolbar__WEBPACK_IMPORTED_MODULE_13__","_UI_Tabs__WEBPACK_IMPORTED_MODULE_25__","onActive","_UI_ErrorBoundary__WEBPACK_IMPORTED_MODULE_39__","_UI_LoaderModal__WEBPACK_IMPORTED_MODULE_19__","_HelpFinder__WEBPACK_IMPORTED_MODULE_30__","material_ui_Snackbar__WEBPACK_IMPORTED_MODULE_11___default","autoHideDuration","_PlatformSpecificAssetsEditor_PlatformSpecificAssetsDialog__WEBPACK_IMPORTED_MODULE_18__","onExport","resourceSource","dialog","_Profile_ProfileDialog__WEBPACK_IMPORTED_MODULE_22__","_Profile_SubscriptionDialog__WEBPACK_IMPORTED_MODULE_40__","_Preferences_PreferencesDialog__WEBPACK_IMPORTED_MODULE_15__","_Preferences_LanguageDialog__WEBPACK_IMPORTED_MODULE_48__","languageChanged","_languageDidChange","_AboutDialog__WEBPACK_IMPORTED_MODULE_16__","_UI_CloseConfirmDialog__WEBPACK_IMPORTED_MODULE_21__","_Changelog_ChangelogDialogContainer__WEBPACK_IMPORTED_MODULE_46__","gdCoreVersionString","VersionWrapper","fullString","ideVersionString","_temp","_apply","serializableObject","serializeTo","_cancel","_objectSpread2","material_ui_svg_icons_editor_drag_handle__WEBPACK_IMPORTED_MODULE_1__","material_ui_svg_icons_editor_drag_handle__WEBPACK_IMPORTED_MODULE_1___default","react_sortable_hoc__WEBPACK_IMPORTED_MODULE_2__","handle","handleColor","SortableHandle","emptyExplanation","iconText","thanksText","SubscriptionCheckDialog","_closeDialog","sendSubscriptionCheckDismiss","sendSubscriptionCheckDialogShown","material_ui_svg_icons_toggle_star__WEBPACK_IMPORTED_MODULE_10___default","material_ui_svg_icons_action_favorite__WEBPACK_IMPORTED_MODULE_11___default","_dialog","_UserProfileContext__WEBPACK_IMPORTED_MODULE_12__","orDivider","_UI_Grid__WEBPACK_IMPORTED_MODULE_4__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_3___default","EventsSheet","_toggleSearchPanel","showSearchPanel","_eventSearcher","reset","_searchPanel","addSubEvents","getSelectedEvents","insertNewEvent","_saveChangesToHistory","_eventsTree","addNewEvent","hasEventsSelected","newEvents","getSelectedEventContexts","selectedEvent","scrollToEvent","openInstructionEditor","editedInstruction","moveSelectionToInstruction","destinationContext","moveSelectionToInstructionsList","selectedInstructions","getSelectedInstructions","destinationIndex","_keyboardShortcuts","selectEvent","eventContext","multiSelect","openEventContextMenu","eventContextMenu","openInstructionContextMenu","selectInstruction","instructionContextMenu","openInstructionsListContextMenu","selectInstructionsList","instructionsListContextMenu","openParameterEditor","parameterContext","editedParameter","inlineEditing","inlineEditingAnchorEl","inlineEditingChangesMade","closeParameterEditor","toggleDisabled","setDisabled","deleteOnlyInstructions","eventsRemover","EventsRemover","addEventToRemove","addInstructionToRemove","launch","copySelection","EventsList","cutSelection","pasteEvents","insertEvents","pasteInstructions","hasInstructionSelected","hasInstructionsListSelected","getSelectedInstructionsContexts","insertInstructions","getSelectedInstructionsListsContexts","pasteEventsOrInstructions","_invertSelectedConditions","history","saveToHistory","newHistory","_openEventsContextAnalyzer","eventsContextAnalyzer","EventsContextAnalyzer","eventsContext","getEventsContext","eventsContextAnalyzerOpen","analyzedEventsContextObjectsNames","getObjectNames","toNewVectorString","analyzedEventsContextObjectOrGroupNames","getObjectOrGroupNames","_closeEventsContextAnalyzer","_ensureEventUnfolded","unfoldForEvent","_replaceInEvents","doReplaceInEvents","inputs","_searchInEvents","doSearchInEvents","_onEventMoved","getHistoryInitialState","historyMaxSize","onSearch","_Toolbar__WEBPACK_IMPORTED_MODULE_8__","hasSomethingSelected","networkPreview","saveChanges","_EventsSearcher__WEBPACK_IMPORTED_MODULE_20__","eventSearcher","_EventsTree__WEBPACK_IMPORTED_MODULE_6__","onAddNewEvent","_SearchPanel__WEBPACK_IMPORTED_MODULE_19__","searchPanel","_EmptyEventsPlaceholder__WEBPACK_IMPORTED_MODULE_16__","_InlineParameterEditor__WEBPACK_IMPORTED_MODULE_10__","_this4$state$editedPa","_UI_Menu_ContextMenu__WEBPACK_IMPORTED_MODULE_11__","submenu","hasSelectedAtLeastOneCondition","_InstructionEditor_InstructionEditorDialog__WEBPACK_IMPORTED_MODULE_7__","closeInstructionEditor","_this4$state$editedIn","_EventsContextAnalyzerDialog__WEBPACK_IMPORTED_MODULE_18__","selectedEvents","selectedInstructionsLists","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","return","existingSelection","isInstructionsListSelected","_ParameterFields_DefaultField__WEBPACK_IMPORTED_MODULE_0__","_ParameterFields_RelationalOperatorField__WEBPACK_IMPORTED_MODULE_1__","_ParameterFields_OperatorField__WEBPACK_IMPORTED_MODULE_2__","_ParameterFields_MouseField__WEBPACK_IMPORTED_MODULE_3__","_ParameterFields_KeyField__WEBPACK_IMPORTED_MODULE_4__","_ParameterFields_ObjectField__WEBPACK_IMPORTED_MODULE_5__","_ParameterFields_YesNoField__WEBPACK_IMPORTED_MODULE_6__","_ParameterFields_TrueFalseField__WEBPACK_IMPORTED_MODULE_7__","_ParameterFields_ExpressionField__WEBPACK_IMPORTED_MODULE_8__","_ParameterFields_StringField__WEBPACK_IMPORTED_MODULE_9__","_ParameterFields_StringWithSelectorField__WEBPACK_IMPORTED_MODULE_10__","_ParameterFields_BehaviorField__WEBPACK_IMPORTED_MODULE_11__","_ParameterFields_SceneVariableField__WEBPACK_IMPORTED_MODULE_12__","_ParameterFields_GlobalVariableField__WEBPACK_IMPORTED_MODULE_13__","_ParameterFields_ObjectVariableField__WEBPACK_IMPORTED_MODULE_14__","_ParameterFields_LayerField__WEBPACK_IMPORTED_MODULE_15__","_ParameterFields_AudioResourceField__WEBPACK_IMPORTED_MODULE_16__","_ParameterFields_VideoResourceField__WEBPACK_IMPORTED_MODULE_17__","_ParameterFields_ColorExpressionField__WEBPACK_IMPORTED_MODULE_18__","_ParameterFields_ForceMultiplierField__WEBPACK_IMPORTED_MODULE_19__","DefaultField","mouse","MouseField","ObjectField","relationalOperator","operator","yesorno","trueorfalse","string","stringWithSelector","scenevar","globalvar","objectvar","musicfile","soundfile","videoResource","ColorExpressionField","police","joyaxis","forceMultiplier","stringRenderers","fieldType","isObject","hasAValidObject","_allowedObjectType","_ObjectsList_ObjectSelector__WEBPACK_IMPORTED_MODULE_6__","allowedObjectType","swatch","boxShadow","cover","ColorPicker","displayColorPicker","handleClick","handleClose","displayedColor","react_color__WEBPACK_IMPORTED_MODULE_8__","MaterialUIContextMenu","anchorX","anchorY","_onClose","element","material_ui_Popover__WEBPACK_IMPORTED_MODULE_7___default","material_ui_Menu__WEBPACK_IMPORTED_MODULE_6___default","ElectronContextMenu","picker","ColorField","_ColorPicker__WEBPACK_IMPORTED_MODULE_9__","_ResourcesLoader__WEBPACK_IMPORTED_MODULE_0__","_Utils_OptionalRequire_js__WEBPACK_IMPORTED_MODULE_1__","lastIndexOf","existsSync","fn","onResult","t0","performance","makeTimestampedId","random","delay","ms","BuildsWatcher","runningWatchers","nextWatcherId","_pollBuild","_callee","waitTime","watcherId","build","_this$userProfile","regenerator_default","wrap","_context","prev","abrupt","sent","onBuildUpdated","builds","moreButton","VariableField","_variableNames","enumerateVariableAndChildrenNames","names","getAllChildrenNames","childName","getChild","getNameAt","enumerateVariables","AutoComplete_default","variableName","open_in_new_default","template","menuTemplate","dimensions","Menu","browserWindow","menu","popup","async","material_ui_Divider__WEBPACK_IMPORTED_MODULE_4___default","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_3___default","insetChildren","material_ui_svg_icons_navigation_arrow_drop_right__WEBPACK_IMPORTED_MODULE_6___default","menuItems","_Utils_Platform__WEBPACK_IMPORTED_MODULE_0__","isMobile","isMacLike","BackgroundText","textShadow","emptyMessage","shadowColor","tooltipText","SortableVariableRow","SortableAddVariableRow","VariablesListBody","SortableVariablesListBody","VariablesList","selectedVariables","_selectVariable","variableAndName","serializedVariable","paste","newVariable","Variable","otherVariableAndName","contains","removeRecursively","_updateOrDefineVariable","_getVariableOrigin","parentVariable","_renderVariableAndChildrenRows","parentOrigin","renameChild","rename","hasChild","_renderVariableChildren","containerInheritedVariablesTree","containerVariablesTree","editRow","TreeTableRow","TreeTableCell","getExternalEventsAt","getExternalLayoutAt","getEventsFunctionsExtensionAt","material_ui_AutoComplete__WEBPACK_IMPORTED_MODULE_0__","material_ui_AutoComplete__WEBPACK_IMPORTED_MODULE_0___default","AutoComplete","fuzzyFilter","SPRITE_SIZE","spriteThumbnail","checkboxContainer","imageThumbnail","selectedBorderColor","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_2___default","material_ui_AppBar__WEBPACK_IMPORTED_MODULE_1__","material_ui_AppBar__WEBPACK_IMPORTED_MODULE_1___default","iconStyleLeft","iconStyleRight","EventsEditor","getLayoutSerializedElements","DropIndicator","_ClassNames__WEBPACK_IMPORTED_MODULE_1__","ObjectSelector","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","material_ui_Divider__WEBPACK_IMPORTED_MODULE_10___default","material_ui_AutoComplete__WEBPACK_IMPORTED_MODULE_9___default","SelectableList","makeSelectable","groupListItemNestedList","ThemableInstructionOrExpressionSelector","_computeSearchResults","lowercaseSearch","instructionInfo","_matchCritera","_onSubmitSearch","_renderSearchResults","instructionInfoTree","instructionOrGroup","instructionInformation","_UI_ListIcon__WEBPACK_IMPORTED_MODULE_8__","groupOfInstructionInformation","isDeprecated","deprecatedGroupTextColor","groupTextColor","_renderTree","tree","compact","groupInfo","existingGroupInfo","shortenString","maxLength","PhysicsBehavior::PhysicsBehavior","slugs__WEBPACK_IMPORTED_MODULE_1__","slugs__WEBPACK_IMPORTED_MODULE_1___default","mangleName","slugs","loadProjectEventsFunctionsExtension","skipCodeGeneration","generateEventsFunctionExtension","addNewExtension","PlatformExtension","setExtensionInformation","generateInstructionOrExpression","addEventsFunctionParameters","codeNamespace","codeExtraInformation","getCodeExtraInformation","setIncludeFile","getIncludeFileFor","setFunctionName","includeFiles","SetString","EventsCodeGenerator","generateEventsFunctionCode","includeFile","addIncludeFile","writeFunctionCode","removeExtension","functionType","addExpression","addStrExpression","addCondition","addAction","addCodeOnlyParameter","addParameter","isOptional","parts","CTRL_KEY","SHIFT_KEY","LEFT_KEY","UP_KEY","RIGHT_KEY","DOWN_KEY","BACKSPACE_KEY","SPACE_KEY","DELETE_KEY","EQUAL_KEY","MINUS_KEY","NUMPAD_ADD","NUMPAD_SUBSTRACT","C_KEY","F_KEY","V_KEY","X_KEY","Y_KEY","Z_KEY","MID_MOUSE_BUTTON","_isControlPressed","metaPressed","rawCtrlPressed","_onKeyDown","evt","isFocused","metaKey","altKey","altPressed","which","shiftPressed","spacePressed","closest","_onKeyUp","_onMouseDown","mouseMidButtonPressed","_onKeyPress","_noop","mount","removeEventListener","undoHistory","current","redoHistory","maxSize","newUndoHistory","newCurrent","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_1__","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_1___default","root","eventsFunctionName","_EventsFunctionsExtensionEditor__WEBPACK_IMPORTED_MODULE_6__","setAssociatedLayout","layoutChooserOpen","openLayoutChooser","uiSettings","getUiSettings","getAssociatedLayout","_EventsSheet__WEBPACK_IMPORTED_MODULE_8__","_UI_PlaceholderMessage__WEBPACK_IMPORTED_MODULE_11__","_LayoutChooserDialog__WEBPACK_IMPORTED_MODULE_13__","helpText","LayoutChooserDialog","selectedLayoutName","layoutNames","material_ui_RadioButton__WEBPACK_IMPORTED_MODULE_8__","valueSelected","chooseLayout","getAssociatedSettings","getInitialInstances","_SceneEditor__WEBPACK_IMPORTED_MODULE_9__","initialUiSettings","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_8___default","INSTANCES_CLIPBOARD_KIND","FullSizeInstancesEditor","InstancesEditor","SceneEditor","editorMosaic","showObjectsListInfoBar","showPropertiesInfoBar","instancesListOpen","layersListOpen","setupGridOpen","openSceneProperties","scenePropertiesDialogOpen","openObjectEditor","hasSelectedInstances","selectedInstanceObjectName","editObjectByName","variablesEditedInstance","editObjectVariables","editLayoutVariables","layoutVariablesDialogOpen","editedObject","editedObjectWithContext","_onStartDraggingObjectFromList","objectDraggedFromList","_onEndDraggingObjectFromList","canDropDraggedObject","_onPointerOverInstancesEditor","_onPointerOutInstancesEditor","_onPointerUpInstancesEditor","_addInstance","editGroup","editedGroup","setUiSettings","forceRemount","_onObjectSelected","selectedObjectName","_onAddInstanceUnderCursor","objectSelected","insertNewInitialInstance","zOrderFinder","getHighestZOrder","_onInstancesSelected","uniq","forceUpdatePropertiesEditor","_onInstancesMoved","_onInstancesResized","_onInstancesRotated","_onSelectInstances","centerView","centerViewOn","_onRemoveLayer","layerRemoveDialogOpen","onCloseLayerRemoveDialog","newLayer","removeAllInstancesOnLayer","moveInstancesToLayer","_onRenameLayer","_onDeleteObject","answer","globalObjectRemoved","objectRemovedInLayout","_canObjectUseNewName","_onRenameEditedObject","_onRenameObject","globalObjectRenamed","objectRenamedInLayout","_onDeleteGroup","groupWithScope","_onRenameGroup","removeInstance","contextMenu","useLastCursorPosition","serializedSelection","clipboardContent","serializedInstance","forceUpdateObjectsList","_objectsList","_propertiesEditor","reloadResourcesFor","resourcesInUse","ResourcesInUseHelper","exposeResources","objectResourceNames","getAllImages","loadTextures","objectsListOpen","HighestZOrderFinder","_Toolbar__WEBPACK_IMPORTED_MODULE_23__","_this$props6","_UI_EditorMosaic__WEBPACK_IMPORTED_MODULE_31__","_InstancesEditor_InstancePropertiesEditor__WEBPACK_IMPORTED_MODULE_13__","propertiesEditor","instances-editor","objects-list","_ObjectsList__WEBPACK_IMPORTED_MODULE_9__","objectsList","object-groups-list","_ObjectGroupsList__WEBPACK_IMPORTED_MODULE_10__","_ObjectEditor_ObjectEditorDialog__WEBPACK_IMPORTED_MODULE_18__","tryName","_ObjectGroupEditor_ObjectGroupEditorDialog__WEBPACK_IMPORTED_MODULE_19__","material_ui_Drawer__WEBPACK_IMPORTED_MODULE_28___default","openSecondary","_UI_EditorBar__WEBPACK_IMPORTED_MODULE_32__","iconElementLeft","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_29___default","material_ui_svg_icons_navigation_close__WEBPACK_IMPORTED_MODULE_30___default","_InstancesEditor_InstancesList__WEBPACK_IMPORTED_MODULE_14__","_LayersList__WEBPACK_IMPORTED_MODULE_15__","_UI_Messages_InfoBar__WEBPACK_IMPORTED_MODULE_33__","_SetupGridDialog__WEBPACK_IMPORTED_MODULE_21__","_VariablesList_VariablesEditorDialog__WEBPACK_IMPORTED_MODULE_17__","_LayersList_LayerRemoveDialog__WEBPACK_IMPORTED_MODULE_16__","_ScenePropertiesDialog__WEBPACK_IMPORTED_MODULE_22__","_UI_Menu_ContextMenu__WEBPACK_IMPORTED_MODULE_34__","iconPath","_RenderedInstance","RenderedIconInstance","loadedFontFamilies","loadedTextures","invalidTexture","asImageResource","isSmooth","baseTexture","SCALE_MODES","NEAREST","onProgress","onComplete","loader","removeAllListeners","allResources","totalCount","loadingCount","once","loadedResources","_initializeTexture","fullFilename","loadedFace","viewRotation","viewX","viewY","gridSize","gridOffset","SpriteSelector","InfoBar","handleGotIt","messageId","localStorage","setItem","dismissed","hidden","material_ui_Snackbar__WEBPACK_IMPORTED_MODULE_7___default","action","onActionClick","SceneEditorContainer","_SceneEditor__WEBPACK_IMPORTED_MODULE_7__","stateField","getUserUsages","getUserLimits","getUserSubscription","GDevelopUsageApi","newSubscriptionDetails","material_ui_CircularProgress__WEBPACK_IMPORTED_MODULE_1__","material_ui_CircularProgress__WEBPACK_IMPORTED_MODULE_1___default","i18nModule","buildTypesConfig","cordova-build","estimatedTimeInSeconds","completeDescription","electron-build","onDownload","config","secondsSinceLastUpdate","difference_in_seconds","updatedAt","estimatedRemainingTime","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_2___default","material_ui_LinearProgress__WEBPACK_IMPORTED_MODULE_7___default","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_3___default","searchableExamplesInformation","ExamplesInformation","exampleName","exampleInformation","searchableDescription","LocalExamples","changeSearchText","chooseExtensionName","_ExamplesSearchbar__WEBPACK_IMPORTED_MODULE_12__","material_ui_List__WEBPACK_IMPORTED_MODULE_10__","exampleNames","extensionUsage","exampleFullName","getExampleInformation","onCreateFromExample","_UI_PlaceholderLoader__WEBPACK_IMPORTED_MODULE_11__","_submitExample","material_ui_SvgIcon__WEBPACK_IMPORTED_MODULE_1__","material_ui_SvgIcon__WEBPACK_IMPORTED_MODULE_1___default","runExtensionSanityTests","jsExtensionModule","testResults","rawError","loadExtension","createExtension","ex","testsResult","_React$PureComponent","onPlay","onPause","canPlay","canPause","onOpenProfiler","material_ui_Toolbar","ToolbarSeparator","InspectorsList","gameData","getInspectorDescriptions","inspectorDescription","fullInspectorPath","getSubInspectors","_renderInspectorList","onChooseInspector","transformVariable","_isStructure","_children","mapValues","_stringDirty","_value","_str","VariablesContainerInspector","main_default","collapsed","_variables","items","enableClipboard","displayDataTypes","displayObjectSize","onCall","namespace","new_value","handleEdit","groupArraysAfterLength","RuntimeObjectInspector","runtimeObject","X position","Y position","Angle","Layer","Z order","Is hidden?","transformLayer","Camera rotation (in deg)","_cameraRotation","Camera zoom","_zoomFactor","Layer is hidden","_hidden","Camera X position","_cameraX","Camera Y position","_cameraY","Time scale","_timeScale","runtimeScene","_timeManager","Layers","_layers","RuntimeSceneInspector","_objects","gdjsRuntimeGame","renderInspector","gdjsStack","_name","RuntimeSceneInspector_RuntimeSceneInspector","instancesList","RawContentInspector","MeasuresTable","collapsedPaths","_convertToDataRows","parentSection","section","profilerMeasures","parentPercent","totalPercent","isCollapsed","_isSectionCollapsed","hasSubsections","subsections","flatMap","subsection","subsectionName","_toggleSection","_renderSectionNameCell","rowData","chevron_right_default","expand_more_default","dataRows","cellRenderer","tableContainer","Profiler","onStart","onStop","profilerOutput","profilingInProgress","stats","framesCount","RaisedButton_RaisedButton_default","LinearProgress_default","MeasuresTable_MeasuresTable","framesAverageMeasures","DebuggerContent","selectedInspector","selectedInspectorFullPath","rawMode","openProfiler","onStartProfiler","onStopProfiler","EditorMosaic","inspectors","InspectorsList_InspectorsList","selected-inspector","flash_on_default","flash_off_default","profiler","Profiler_Profiler","DebuggerSelector","hasDebuggers","debuggerIds","selectedId","onChooseDebugger","ipcRenderer","Debugger","debuggerServerStarted","debuggerServerError","debuggerGameData","profilerOutputs","_debuggerContents","_removeServerListeners","_startServer","remainingDebuggerIds","debuggerId","_handleMessage","send","command","payload","_play","_pause","_refresh","_edit","_call","_startProfiler","_stopProfiler","_hasSelectedDebugger","Debugger_Toolbar","PlaceholderMessage","DebuggerSelector_DebuggerSelector","DebuggerContent_DebuggerContent","debuggerContent","DebuggerEditor","subscriptionChecked","_checkHasSubscription","Debugger_Debugger","TomorrowNight","base","inherit","rules","foreground","editor.foreground","editor.background","editor.selectionBackground","editor.lineHighlightBackground","editorCursor.foreground","editorWhitespace.foreground","Monokai","editorIndentGuide.activeBackground","editor.selectionHighlightBorder","Tomorrow","SolarizedDark","SolarizedLight","VibrantInk","GitHub","previewContainer","AudioPreview","audiotrack_default","ResourcePreview","AudioPreview_AudioPreview","imagePreview","propertiesContainer","ResourcePropertiesEditor","_chooseResourcePath","onResourcePathUpdated","resourceSchema","ResourcePreview_ResourcePreview","_renderPreview","_renderResourcesProperties","canDelete","onOpenProjectFolder","onOpenProperties","ResourcesEditor","_resourcesList","deleteResource","openProjectFolder","_onResourceSelected","ResourcesEditor_Toolbar","ResourcePropertiesEditor_ResourcePropertiesEditor","resources-list","resourcesList","ResourcesEditor_ResourcesEditor","DragDropContextProvider","DragDropContext","HTML5Backend","RightLoader","CircularProgress_default","getEmailErrorText","getPasswordErrorText","LoginDialog","form","password","_onLogin","_onCreateAccount","onCreateAccount","_onForgotPassword","onForgotPassword","createAccountInProgress","loginInProgress","resetPasswordDialogOpen","onCloseResetPasswordDialog","forgotPasswordInProgress","LeftLoader","UserProfileProvider","loginDialogOpen","loginError","_fetchUserProfile","getUserProfile","unauthenticated","_doLogout","logout","_resetUserProfile","_doLogin","assertThisInitialized","login","openLogin","_doCreateAccount","createAccount","sendSignupDone","_doForgotPassword","forgotPassword","openResetPassword","onUserChange","Provider","LoginDialog_LoginDialog","PreferencesProvider","_loadValuesFromLocalStorage","_setLanguage","_setThemeName","_setCodeEditorThemeName","_setAutoDownloadUpdates","_checkUpdates","_setAutoDisplayChangelog","_showAlertMessage","_verifyIfIsNewVersion","_persistValuesToLocalStorage","_this7","forceDownload","disableCheckForUpdates","_this8","currentVersion","_this9","persistedState","preferences","Providers","DragDropHelpers_DragDropContextProvider","PreferencesProvider_PreferencesProvider","MuiThemeProvider_default","getTheme","UserProfileProvider_UserProfileProvider","buildContainer","BuildsList","isOld","difference_in_calendar_days","BuildProgress","Builds","buildsWatcher","_startBuildsWatcher","newBuild","oldBuild","_refreshBuilds","_this$props$userProfi","onBuildsUpdated","_download","BuildsContainer","Builds_Builds","BuildsDialog","_onBuildsUpdated","Export_Builds","disabledItem","ExportDialog","chosenExporterKey","showExperimental","buildsDialogOpen","chooseExporter","_showExperimental","_openBuildsDialog","_renderExporterListItem","exporter","renderIcon","exporters","advanced","experimental","ExportComponent","onOpenBuildsDialog","BuildsDialog_BuildsDialog","primary1Color","primary2Color","accent1Color","secondaryTextColor","alternateTextColor","disabledColor","pickerHeaderColor","clockCircleColor","avatar","tabs","menuHoverColor","menuItem","dataHeight","appBar","iconButtonSize","snackbar","actionColor","stepper","raisedButton","primaryTextColor","errorTextColor","selectedErrorBackgroundColor","markdownRootClassName","getMuiTheme","GDevelop default","DefaultTheme","Dark","DarkTheme","ChangelogRenderer","releases","currentReleaseName","openReleaseNote","currentRelease","findRelease","currentVersionHasBreakingChange","react_markdown_default","escapeHtml","_onUpdated","GDevelopReleaseApi","last","Changelog_ChangelogRenderer","ThemableItemRow","hasErrors","_renderItemMenu","ItemRow","AddItemRow","SortableItemRow","SortableVirtualizedItemList_ItemRow","SortableAddItemRow","ItemsList","SortableItemsList","Tutorials","sendTutorialOpened","CreateProjectDialog","_showExamples","_onExamplesLoaded","ExamplesComponent","examplesComponent","StartersComponent","startersComponent","onShowExamples","onExamplesLoaded","Tutorials_Tutorials"],"mappings":"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","file":"static/js/1.1e8a4f32.chunk.js","sourcesContent":["// @flow\nimport React, { PureComponent } from 'react';\nimport { Toolbar, ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport Window from '../Utils/Window';\nimport { I18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nconst styles = {\n  toolbar: {\n    flexShrink: 0, // Toolbar height should never be reduced\n    overflowX: 'auto',\n    overflowY: 'hidden',\n  },\n};\n\ntype Props = {\n  showProjectIcons: boolean,\n  hasProject: boolean,\n  toggleProjectManager: () => void,\n  requestUpdate: ?() => void,\n  simulateUpdateDownloaded: ?() => void,\n  simulateUpdateAvailable: ?() => void,\n  exportProject: Function,\n};\n\ntype State = {\n  editorToolbar: any,\n};\n\nexport class MainFrameToolbar extends PureComponent<Props, State> {\n  state = {\n    editorToolbar: null,\n  };\n\n  isDev = Window.isDev();\n\n  setEditorToolbar(editorToolbar: any) {\n    this.setState({\n      editorToolbar,\n    });\n  }\n\n  render() {\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Toolbar style={styles.toolbar}>\n            <ToolbarGroup firstChild={true}>\n              {this.props.showProjectIcons && (\n                <ToolbarIcon\n                  onClick={this.props.toggleProjectManager}\n                  src=\"res/ribbon_default/projectManager32.png\"\n                  disabled={!this.props.hasProject}\n                  tooltip={i18n._(t`Project manager`)}\n                />\n              )}\n              {this.props.showProjectIcons && (\n                <ToolbarIcon\n                  onClick={this.props.exportProject}\n                  src=\"res/ribbon_default/export32.png\"\n                  disabled={!this.props.hasProject}\n                  tooltip={i18n._(t`Export the game (Web, Android, iOS...)`)}\n                />\n              )}\n              {this.isDev && (\n                <IconMenu\n                  iconButtonElement={\n                    <ToolbarIcon src=\"res/ribbon_default/bug32.png\" />\n                  }\n                  buildMenuTemplate={() => [\n                    {\n                      label: i18n._(t`Request update from external editor`),\n                      disabled: !this.props.requestUpdate,\n                      click: () =>\n                        this.props.requestUpdate && this.props.requestUpdate(),\n                    },\n                    {\n                      label: i18n._(t`Simulate update downloaded`),\n                      disabled: !this.props.simulateUpdateDownloaded,\n                      click: () =>\n                        this.props.simulateUpdateDownloaded &&\n                        this.props.simulateUpdateDownloaded(),\n                    },\n                    {\n                      label: i18n._(t`Simulate update available`),\n                      disabled: !this.props.simulateUpdateAvailable,\n                      click: () =>\n                        this.props.simulateUpdateAvailable &&\n                        this.props.simulateUpdateAvailable(),\n                    },\n                  ]}\n                />\n              )}\n              <ToolbarSeparator />\n            </ToolbarGroup>\n            {this.state.editorToolbar || <ToolbarGroup />}\n          </Toolbar>\n        )}\n      </I18n>\n    );\n  }\n}\n\nexport default MainFrameToolbar;\n","import { Component } from 'react';\nimport Window from '../Utils/Window';\n\nexport default class ProjectTitlebar extends Component {\n  render() {\n    const { project } = this.props;\n    const titleElements = ['GDevelop 5'];\n    if (project)\n      titleElements.push(project.getProjectFile() || project.getName());\n\n    Window.setTitle(titleElements.join(' - '));\n    return null;\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport FlatButton from 'material-ui/FlatButton';\nimport MenuItem from 'material-ui/MenuItem';\nimport Toggle from 'material-ui/Toggle';\nimport Dialog from '../../UI/Dialog';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { Column, Line } from '../../UI/Grid';\nimport { themes } from '../../UI/Theme';\nimport { getAllThemes } from '../../CodeEditor/Theme';\nimport Window from '../../Utils/Window';\nimport PreferencesContext, {\n  type AlertMessageIdentifier,\n} from './PreferencesContext';\nconst gd = global.gd;\n\ntype Props = {|\n  open: boolean,\n  onClose: Function,\n|};\n\ntype State = {||};\n\nconst getDismissedAlertMessages = (identifiers: {\n  [AlertMessageIdentifier]: boolean,\n}): Array<AlertMessageIdentifier> => {\n  return Object.keys(identifiers)\n    .map(identifier => {\n      return identifiers[identifier] ? identifier : null;\n    })\n    .filter(Boolean);\n};\n\nexport default class PreferencesDialog extends Component<Props, State> {\n  createTheme() {\n    Window.openExternalURL(\n      'https://github.com/4ian/GDevelop/tree/master/newIDE#theming'\n    );\n  }\n\n  render() {\n    const { open, onClose } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        primary={false}\n        onClick={onClose}\n      />,\n    ];\n\n    return (\n      <Dialog\n        actions={actions}\n        onRequestClose={onClose}\n        open={open}\n        title={<Trans>GDevelop preferences</Trans>}\n      >\n        <PreferencesContext.Consumer>\n          {({\n            values,\n            setThemeName,\n            setCodeEditorThemeName,\n            setAutoDownloadUpdates,\n            showAlertMessage,\n            setAutoDisplayChangelog,\n          }) => {\n            const dismissedAlertMessages = getDismissedAlertMessages(\n              values.hiddenAlertMessages\n            );\n\n            return (\n              <Column noMargin>\n                <Line noMargin>\n                  <SelectField\n                    floatingLabelText={<Trans>UI Theme</Trans>}\n                    value={values.themeName}\n                    onChange={(e, i, value) => setThemeName(value)}\n                  >\n                    {Object.keys(themes).map(themeName => (\n                      <MenuItem\n                        value={themeName}\n                        primaryText={themeName}\n                        key={themeName}\n                      />\n                    ))}\n                  </SelectField>\n                  <SelectField\n                    floatingLabelText={<Trans>Code editor Theme</Trans>}\n                    value={values.codeEditorThemeName}\n                    onChange={(e, i, value) => setCodeEditorThemeName(value)}\n                  >\n                    {getAllThemes().map(codeEditorTheme => (\n                      <MenuItem\n                        value={codeEditorTheme.themeName}\n                        primaryText={codeEditorTheme.name}\n                        key={codeEditorTheme.themeName}\n                      />\n                    ))}\n                  </SelectField>\n                </Line>\n                <Line noMargin>\n                  <p>\n                    You can contribute and create your own themes:{' '}\n                    <FlatButton\n                      label={<Trans>Learn more</Trans>}\n                      onClick={this.createTheme}\n                    />{' '}\n                  </p>\n                </Line>\n                <Line>\n                  <Toggle\n                    onToggle={(e, check) => setAutoDownloadUpdates(check)}\n                    toggled={values.autoDownloadUpdates}\n                    labelPosition=\"right\"\n                    label={\n                      <Trans>\n                        Auto download and install updates (recommended)\n                      </Trans>\n                    }\n                  />\n                </Line>\n                <Line>\n                  <Toggle\n                    onToggle={(e, check) => setAutoDisplayChangelog(check)}\n                    toggled={values.autoDisplayChangelog}\n                    labelPosition=\"right\"\n                    label={\n                      <Trans>\n                        Display What's New when a new version is launched\n                        (recommended)\n                      </Trans>\n                    }\n                  />\n                </Line>\n                <Line>\n                  <Toggle\n                    onToggle={(e, check) => {\n                      gd.ExpressionCodeGenerator.useOldExpressionParser(!check);\n                      this.forceUpdate();\n                    }}\n                    toggled={\n                      !gd.ExpressionCodeGenerator.isUsingOldExpressionParser()\n                    }\n                    labelPosition=\"right\"\n                    label={\n                      <Trans>\n                        Use the new expression parser (alpha, please report any\n                        bugs)\n                      </Trans>\n                    }\n                  />\n                </Line>\n                <Line>\n                  {dismissedAlertMessages.length ? (\n                    <Column noMargin>\n                      <p>\n                        <Trans>\n                          You have dismissed some hints. Click to enable them\n                          again:\n                        </Trans>\n                      </p>\n                      {dismissedAlertMessages.map(name => (\n                        <FlatButton\n                          label={name}\n                          onClick={() => showAlertMessage(name, true)}\n                        />\n                      ))}\n                    </Column>\n                  ) : (\n                    <EmptyMessage>\n                      <Trans>\n                        If you dismiss some hints, they will be shown here in\n                        case you want to enable them again.\n                      </Trans>\n                    </EmptyMessage>\n                  )}\n                </Line>\n              </Column>\n            );\n          }}\n        </PreferencesContext.Consumer>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { PureComponent } from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport { Column, Line } from '../UI/Grid';\nimport Window from '../Utils/Window';\nimport IconButton from 'material-ui/IconButton';\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\nimport PreferencesContext from './Preferences/PreferencesContext';\nimport {\n  getUpdateStatusLabel,\n  getUpdateButtonLabel,\n  canDownloadUpdate,\n  type UpdateStatus,\n} from './UpdaterTools';\nimport Changelog from './Changelog';\nimport { getIDEVersion, getGDCoreVersion } from '../Version';\n\ntype Props = {\n  open: boolean,\n  onClose: Function,\n  updateStatus: UpdateStatus,\n};\n\n// There must be missing tons of people.\n// If you contributed to GDevelop but you're not in the list, please\n// send a Pull Request on GitHub or open an issue ;)\nconst contributors = [\n  // GitHub contributors\n  {\n    name: 'Victor Levasseur',\n    description:\n      'Numerous contributions to GDevelop core and various extensions',\n  },\n  {\n    name: 'Lizard-13',\n    description:\n      'Numerous contributions to GDevelop (particle engine, bugfixes, new conditions, examples, tutorials...)',\n  },\n  { name: 'ale26reg', description: 'Contributions to GDevelop' },\n  { name: 'dos1', description: 'Contributions to GDevelop' },\n  { name: 'Bouh', description: 'Contributions to GDevelop' },\n  {\n    name: 'Todor Imreorov',\n    description: 'Contributions to GDevelop: added Piskel sprite editor',\n  },\n  { name: 'brylie', description: 'Contributions to GDevelop' },\n  { name: 'Nnarol', description: 'Contributions to GDevelop' },\n  { name: 'wild-master', description: 'Contributions to GDevelop' },\n  { name: 'RandomShaper', description: 'Contributions to GDevelop' },\n  { name: 'RyanNerd', description: 'Contributions to GDevelop' },\n  { name: 'greater', description: 'Contributions to GDevelop' },\n  { name: 'triptych', description: 'Contributions to GDevelop' },\n  {\n    name: 'Wend1go',\n    description: 'Contributions to GDevelop, Tutorials, Examples',\n  },\n  { name: 'mattiascibien', description: 'Contributions to GDevelop' },\n  { name: 'araujo921', description: 'Contributions to GDevelop' },\n  { name: 'ronnystandtke', description: 'Contributions to GDevelop' },\n  {\n    name: 'Thomas Flecy',\n    description: 'Contributions to GDevelop (original sound object extension)',\n  },\n\n  // Community members:\n  {\n    name: 'ddabrahim',\n    description: 'Lots of examples bundled with GDevelop',\n    link: 'https://gametemplates.itch.io/',\n  },\n  {\n    name: 'Gametemplates',\n    description: 'Examples bundled with GDevelop',\n    link: 'https://gametemplates.itch.io/',\n  },\n  { name: 'Mats', description: 'Tutorials, Examples' },\n  { name: 'erdo', description: 'Tutorials, Examples' },\n  { name: 'Jubileuksen3', description: 'Tutorials, Examples' },\n  { name: 'LucaTexas', description: 'Tutorials, Examples' },\n  { name: 'Kink', description: 'Forum moderator, tutorials, Examples' },\n  { name: 'RicoTrooper', description: 'Tutorials' },\n  { name: 'kalel', description: 'Tutorials' },\n  { name: 'mtarzaim', description: 'Tutorials' },\n  { name: 'Darkhog', description: 'Examples' },\n  { name: 'Ricardo Graca', description: 'Tutorials, Examples' },\n  { name: 'Diego Schiavon', description: 'Indiegogo Ubuntu contributor' },\n  { name: 'conceptgame', description: 'Indiegogo super contributor' },\n  {\n    name: 'Jose David Coartas Correa',\n    description:\n      'Author of Digitopolis (a book on how to make games with GDevelop4)',\n  },\n\n  {\n    name: 'François Dumortier',\n    description: 'GDevelop logo design',\n    link: 'http://www.fdumortier.com',\n  },\n  {\n    name: 'Constantine Shvetsov',\n    description: 'Design of all the awesome icons',\n  },\n  {\n    name: 'MillionthVector',\n    description: 'Assets of various examples',\n  },\n];\n\nexport default class AboutDialog extends PureComponent<Props, *> {\n  _openContributePage = () => {\n    Window.openExternalURL('https://gdevelop-app.com/contribute/');\n  };\n\n  _openLink = (link: string) => {\n    if (!link) return;\n\n    Window.openExternalURL(link);\n  };\n\n  render() {\n    const { open, onClose, updateStatus } = this.props;\n    if (!open) return null;\n\n    const updateStatusString = getUpdateStatusLabel(updateStatus.status);\n    const updateButtonLabel = getUpdateButtonLabel(updateStatus.status);\n\n    return (\n      <Dialog\n        actions={[\n          <FlatButton\n            label={<Trans>GDevelop Website</Trans>}\n            primary={false}\n            onClick={() => Window.openExternalURL('http://gdevelop-app.com')}\n          />,\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        onRequestClose={onClose}\n        open={open}\n        contentStyle={{\n          maxWidth: 535,\n        }}\n        noMargin\n        autoScrollBodyContent\n      >\n        <PreferencesContext.Consumer>\n          {({ values, checkUpdates }) => (\n            <Column noMargin>\n              <img\n                src=\"res/GD-logo.png\"\n                alt=\"GDevelop logo\"\n                width=\"535\"\n                height=\"283\"\n              />\n              <Tabs onChange={() => this.forceUpdate()}>\n                <Tab label={<Trans>About GDevelop</Trans>} value=\"about\">\n                  <Column>\n                    <Line>\n                      <Trans>\n                        GDevelop {getIDEVersion()} based on GDevelop.js{' '}\n                        {getGDCoreVersion()}\n                      </Trans>\n                    </Line>\n                    <Line>{updateStatusString}</Line>\n                    <Line justifyContent=\"center\">\n                      {!!updateStatusString && (\n                        <FlatButton\n                          label={updateButtonLabel}\n                          onClick={() =>\n                            checkUpdates(canDownloadUpdate(updateStatus.status))\n                          }\n                        />\n                      )}\n                    </Line>\n                  </Column>\n                </Tab>\n                <Tab label={<Trans>What's new?</Trans>} value=\"changelog\">\n                  <Column>\n                    <Changelog />\n                  </Column>\n                </Tab>\n                <Tab label={<Trans>Contributors</Trans>} value=\"contributors\">\n                  <Column>\n                    <p>\n                      <Trans>\n                        GDevelop was created by Florian \"4ian\" Rival.\n                      </Trans>\n                    </p>\n                    <p>\n                      <Trans>Contributors, in no particular order:</Trans>\n                    </p>\n                  </Column>\n                  <List>\n                    {contributors.map(contributor => (\n                      <ListItem\n                        key={contributor.name}\n                        primaryText={contributor.name}\n                        secondaryText={<p>{contributor.description}</p>}\n                        secondaryTextLines={\n                          contributor.description.length < 30 ? 1 : 2\n                        }\n                        rightIconButton={\n                          contributor.link ? (\n                            <IconButton\n                              onClick={() =>\n                                this._openLink(contributor.link || '')\n                              }\n                            >\n                              <OpenInNew />\n                            </IconButton>\n                          ) : null\n                        }\n                      />\n                    ))}\n                  </List>\n                  <Column expand>\n                    <p>\n                      <Trans>\n                        Thanks to all users of GDevelop! There must be missing\n                        tons of people, please send your name if you've\n                        contributed and you're not listed.\n                      </Trans>\n                    </p>\n                    <Line alignItems=\"center\" justifyContent=\"center\">\n                      <FlatButton\n                        label={<Trans>Contribute to GDevelop</Trans>}\n                        onClick={this._openContributePage}\n                      />\n                    </Line>\n                  </Column>\n                </Tab>\n              </Tabs>\n            </Column>\n          )}\n        </PreferencesContext.Consumer>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { TreeTableRow, TreeTableCell } from '../UI/TreeTable';\nimport DragHandle from '../UI/DragHandle';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport Checkbox from 'material-ui/Checkbox';\nimport AddCircle from 'material-ui/svg-icons/content/add-circle';\nimport SubdirectoryArrowRight from 'material-ui/svg-icons/navigation/subdirectory-arrow-right';\nimport TextField from 'material-ui/TextField';\nimport IconButton from 'material-ui/IconButton';\nimport Reset from 'material-ui/svg-icons/av/replay';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport styles from './styles';\nimport { type VariableOrigin } from './VariablesList.flow';\n\n//TODO: Refactor into TreeTable?\nconst Indent = ({ width }) => (\n  <div style={{ ...styles.indent, width }}>\n    <SubdirectoryArrowRight color={styles.indentIconColor} />\n  </div>\n);\n\nconst InlineCheckbox = props => <Checkbox {...props} style={{ width: 32 }} />;\n\ntype Props = {|\n  name: string,\n  variable: gdVariable,\n  depth: number,\n  errorText?: ?string,\n  onBlur: () => void,\n  onRemove: () => void,\n  onAddChild: () => void,\n  onChangeValue: string => void,\n  onResetToDefaultValue: () => void,\n  children?: React.Node,\n  muiTheme: Object,\n  showHandle: boolean,\n  showSelectionCheckbox: boolean,\n  isSelected: boolean,\n  onSelect: boolean => void,\n  origin: VariableOrigin,\n|};\n\nconst ThemableVariableRow = ({\n  name,\n  variable,\n  depth,\n  errorText,\n  onBlur,\n  onRemove,\n  onAddChild,\n  onChangeValue,\n  onResetToDefaultValue,\n  children,\n  muiTheme,\n  showHandle,\n  showSelectionCheckbox,\n  isSelected,\n  onSelect,\n  origin,\n}: Props) => {\n  const isStructure = variable.isStructure();\n  const key = '' + depth + name;\n\n  const limitEditing = origin === 'parent' || origin === 'inherited';\n\n  const columns = [\n    <TreeTableCell key=\"name\">\n      {depth > 0 && (\n        <Indent width={(depth + 1) * styles.tableChildIndentation} />\n      )}\n      {depth === 0 && showHandle && <DragHandle />}\n      {showSelectionCheckbox && !limitEditing && (\n        <InlineCheckbox\n          checked={isSelected}\n          onCheck={(e, checked) => onSelect(checked)}\n        />\n      )}\n      <TextField\n        style={{\n          fontStyle: origin !== 'inherited' ? 'normal' : 'italic',\n        }}\n        fullWidth\n        name={key + 'name'}\n        defaultValue={name}\n        errorText={errorText}\n        onBlur={onBlur}\n        disabled={origin === 'parent'}\n      />\n    </TreeTableCell>,\n  ];\n  if (!isStructure) {\n    columns.push(\n      <TreeTableCell key=\"value\">\n        <SemiControlledTextField\n          commitOnBlur\n          fullWidth\n          name={key + 'value'}\n          value={variable.getString()}\n          onChange={text => {\n            if (variable.getString() !== text) {\n              onChangeValue(text);\n            }\n          }}\n          multiLine\n          disabled={origin === 'parent' && depth !== 0}\n        />\n      </TreeTableCell>\n    );\n  } else {\n    columns.push(\n      <TreeTableCell\n        key=\"value\"\n        style={limitEditing ? styles.fadedButton : undefined}\n      >\n        (Structure)\n      </TreeTableCell>\n    );\n  }\n  columns.push(\n    <TreeTableCell key=\"tools\" style={styles.toolColumn}>\n      {origin === 'inherited' && depth === 0 && (\n        <IconButton\n          onClick={onResetToDefaultValue}\n          style={isStructure ? undefined : styles.fadedButton}\n          tooltip={<Trans>Reset</Trans>}\n        >\n          <Reset />\n        </IconButton>\n      )}\n      {!(origin === 'inherited' && depth === 0) && origin !== 'parent' && (\n        <IconButton\n          onClick={onAddChild}\n          style={isStructure ? undefined : styles.fadedButton}\n          tooltip={<Trans>Add child variable</Trans>}\n          tooltipPosition=\"bottom-left\"\n        >\n          <AddCircle />\n        </IconButton>\n      )}\n    </TreeTableCell>\n  );\n\n  return (\n    <div>\n      <TreeTableRow\n        style={{ backgroundColor: muiTheme.list.itemsBackgroundColor }}\n      >\n        {columns}\n      </TreeTableRow>\n      {children}\n    </div>\n  );\n};\n\nconst VariableRow = muiThemeable()(ThemableVariableRow);\nexport default VariableRow;\n","import React from 'react';\nimport { TreeTableRow, TreeTableCell } from '../UI/TreeTable';\nimport Add from 'material-ui/svg-icons/content/add';\nimport IconButton from 'material-ui/IconButton';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport ContentCopy from 'material-ui/svg-icons/content/content-copy';\nimport ContentPaste from 'material-ui/svg-icons/content/content-paste';\nimport Delete from 'material-ui/svg-icons/action/delete';\n\nimport styles from './styles';\n\nconst EditVariableRow = ({\n  onAdd,\n  onCopy,\n  hasSelection,\n  onPaste,\n  hasClipboard,\n  onDeleteSelection,\n}) => (\n  <TreeTableRow>\n    <TreeTableCell style={styles.toolColumnHeader}>\n      <IconButton onClick={onCopy} disabled={!hasSelection}>\n        <ContentCopy />\n      </IconButton>\n      <IconButton onClick={onPaste} disabled={!hasClipboard}>\n        <ContentPaste />\n      </IconButton>\n      <IconButton onClick={onDeleteSelection} disabled={!hasSelection}>\n        <Delete />\n      </IconButton>\n    </TreeTableCell>\n\n    <TreeTableCell>\n      <EmptyMessage style={styles.addVariableMessage} />\n    </TreeTableCell>\n\n    <TreeTableCell style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </TreeTableCell>\n  </TreeTableRow>\n);\n\nexport default EditVariableRow;\n","// @flow\n/**\n * Export functions to manipulate a selection of objects.\n */\n\nimport values from 'lodash/values';\n\ntype ObjectType = { ptr: number };\n\ntype SelectionState<T> = {\n  [number]: ?T,\n};\n\nexport const getInitialSelection = () => ({});\n\nexport const clearSelection = () => getInitialSelection();\n\nexport const getSelection = <T: ObjectType>(\n  selection: SelectionState<T>\n): Array<T> => values(selection).filter(value => !!value);\n\nexport const addToSelection = <T: ObjectType>(\n  selection: SelectionState<T>,\n  object: T,\n  select: boolean = true\n): SelectionState<T> => {\n  console.log(object, select);\n  return {\n    ...selection,\n    [object.ptr]: select ? object : null,\n  };\n};\n\nexport const isSelected = <T: ObjectType>(\n  selection: SelectionState<T>,\n  object: T\n): boolean => !!selection[object.ptr];\n\nexport const hasSelection = <T: ObjectType>(\n  selection: SelectionState<T>\n): boolean => {\n  return !!values(selection).filter(value => !!value).length;\n};\n","export const CLIPBOARD_KIND = 'Variables';\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Dialog from '../UI/Dialog';\nimport { Line } from '../UI/Grid';\nimport ResourcesLoader from '../ResourcesLoader';\nimport ResourceSelectorWithThumbnail from '../ResourcesList/ResourceSelectorWithThumbnail';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport { resizeImage, isResizeSupported } from './ImageResizer';\nimport { showErrorBox } from '../UI/Messages/MessageBox';\nimport optionalRequire from '../Utils/OptionalRequire';\nconst path = optionalRequire('path');\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  open: boolean,\n  onClose: Function,\n  onApply: Function,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n|};\n\ntype State = {|\n  desktopIconResourceNames: Array<string>,\n  androidIconResourceNames: Array<string>,\n  iosIconResourceNames: Array<string>,\n|};\n\nconst desktopSizes = [512];\nconst androidSizes = [192, 144, 96, 72, 48, 36];\nconst iosSizes = [\n  180,\n  167,\n  152,\n  144,\n  120,\n  114,\n  100,\n  80,\n  76,\n  72,\n  60,\n  58,\n  57,\n  50,\n  40,\n  29,\n];\n\nexport default class PlatformSpecificAssetsDialog extends React.Component<\n  Props,\n  State\n> {\n  constructor(props: Props) {\n    super(props);\n    this.state = this._loadFrom(props.project);\n  }\n\n  _loadFrom(project: gdProject): State {\n    return {\n      desktopIconResourceNames: desktopSizes.map(size =>\n        project.getPlatformSpecificAssets().get('desktop', `icon-${size}`)\n      ),\n      androidIconResourceNames: androidSizes.map(size =>\n        project.getPlatformSpecificAssets().get('android', `icon-${size}`)\n      ),\n      iosIconResourceNames: iosSizes.map(size =>\n        project.getPlatformSpecificAssets().get('ios', `icon-${size}`)\n      ),\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.project !== newProps.project)\n    ) {\n      this.setState(this._loadFrom(newProps.project));\n    }\n  }\n\n  _generateFromFile = () => {\n    const { project, resourceSources, onChooseResource } = this.props;\n\n    const sources = resourceSources.filter(source => source.kind === 'image');\n    if (!sources.length) return;\n\n    onChooseResource(sources[0].name, false).then(resources => {\n      if (!resources.length || !path) {\n        return;\n      }\n\n      const resourcesManager = project.getResourcesManager();\n      const projectPath = path.dirname(project.getProjectFile());\n      const fullPath = path.resolve(projectPath, resources[0].getFile());\n\n      Promise.all([\n        ...desktopSizes.map(size =>\n          resizeImage(\n            fullPath,\n            path.join(projectPath, `desktop-icon-${size}.png`),\n            {\n              width: size,\n              height: size,\n            }\n          )\n        ),\n        ...androidSizes.map(size =>\n          resizeImage(\n            fullPath,\n            path.join(projectPath, `android-icon-${size}.png`),\n            {\n              width: size,\n              height: size,\n            }\n          )\n        ),\n        ...iosSizes.map(size =>\n          resizeImage(\n            fullPath,\n            path.join(projectPath, `ios-icon-${size}.png`),\n            {\n              width: size,\n              height: size,\n            }\n          )\n        ),\n      ]).then(results => {\n        if (results.indexOf(false) !== -1) {\n          showErrorBox('Some icons could not be generated!');\n          return;\n        }\n\n        // Add resources to the game\n        const allResourcesNames = [\n          ...desktopSizes.map(size => `desktop-icon-${size}.png`),\n          ...androidSizes.map(size => `android-icon-${size}.png`),\n          ...iosSizes.map(size => `ios-icon-${size}.png`),\n        ];\n        allResourcesNames.forEach(resourceName => {\n          if (!resourcesManager.hasResource(resourceName)) {\n            const imageResource = new gd.ImageResource();\n            imageResource.setFile(resourceName);\n            imageResource.setName(resourceName);\n\n            resourcesManager.addResource(imageResource);\n            imageResource.delete();\n          } else {\n            resourcesManager.getResource(resourceName).setFile(resourceName);\n          }\n        });\n\n        // Make sure the resources are (re)loaded.\n        ResourcesLoader.burstUrlsCacheForResources(project, allResourcesNames);\n        setTimeout(() => {\n          this.setState({\n            desktopIconResourceNames: desktopSizes.map(\n              size => `desktop-icon-${size}.png`\n            ),\n            androidIconResourceNames: androidSizes.map(\n              size => `android-icon-${size}.png`\n            ),\n            iosIconResourceNames: iosSizes.map(size => `ios-icon-${size}.png`),\n          });\n        }, 200 /* Let a bit of time so that image files can be found */);\n      });\n    });\n  };\n\n  _onApply = () => {\n    const { project } = this.props;\n    const {\n      desktopIconResourceNames,\n      androidIconResourceNames,\n      iosIconResourceNames,\n    } = this.state;\n\n    desktopSizes.forEach((size, index) => {\n      project\n        .getPlatformSpecificAssets()\n        .set('desktop', `icon-${size}`, desktopIconResourceNames[index]);\n    });\n    androidSizes.forEach((size, index) => {\n      project\n        .getPlatformSpecificAssets()\n        .set('android', `icon-${size}`, androidIconResourceNames[index]);\n    });\n    iosSizes.forEach((size, index) => {\n      project\n        .getPlatformSpecificAssets()\n        .set('ios', `icon-${size}`, iosIconResourceNames[index]);\n    });\n\n    this.props.onApply();\n  };\n\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={this.props.onClose}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={this._onApply}\n      />,\n    ];\n    const {\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const {\n      desktopIconResourceNames,\n      androidIconResourceNames,\n      iosIconResourceNames,\n    } = this.state;\n\n    return (\n      <Dialog\n        actions={actions}\n        open={this.props.open}\n        onRequestClose={this.props.onClose}\n        autoScrollBodyContent\n      >\n        <Line justifyContent=\"center\">\n          {isResizeSupported() ? (\n            <RaisedButton\n              primary\n              label={<Trans>Generate icons from a file</Trans>}\n              onClick={this._generateFromFile}\n            />\n          ) : (\n            <p>\n              <Trans>\n                Download GDevelop desktop version to generate the Android and\n                iOS icons of your game.\n              </Trans>\n            </p>\n          )}\n        </Line>\n        <p>\n          <Trans>Desktop (Windows, macOS and Linux) icon:</Trans>\n        </p>\n        {desktopSizes.map((size, index) => (\n          <ResourceSelectorWithThumbnail\n            key={size}\n            floatingLabelText={`Desktop icon (${size}x${size} px)`}\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n            resourceKind=\"image\"\n            resourceName={desktopIconResourceNames[index]}\n            onChange={resourceName => {\n              const newIcons = [...desktopIconResourceNames];\n              newIcons[index] = resourceName;\n              this.setState({\n                desktopIconResourceNames: newIcons,\n              });\n            }}\n          />\n        ))}\n        <p>\n          <Trans>Android icons:</Trans>\n        </p>\n        {androidSizes.map((size, index) => (\n          <ResourceSelectorWithThumbnail\n            key={size}\n            floatingLabelText={`Android icon (${size}x${size} px)`}\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n            resourceKind=\"image\"\n            resourceName={androidIconResourceNames[index]}\n            onChange={resourceName => {\n              const newIcons = [...androidIconResourceNames];\n              newIcons[index] = resourceName;\n              this.setState({\n                androidIconResourceNames: newIcons,\n              });\n            }}\n          />\n        ))}\n        <p>\n          <Trans>iOS (iPhone and iPad) icons:</Trans>\n        </p>\n        {iosSizes.map((size, index) => (\n          <ResourceSelectorWithThumbnail\n            key={size}\n            floatingLabelText={`iOS icon (${size}x${size} px)`}\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceKind=\"image\"\n            resourceName={iosIconResourceNames[index]}\n            resourceExternalEditors={resourceExternalEditors}\n            onChange={resourceName => {\n              const newIcons = [...iosIconResourceNames];\n              newIcons[index] = resourceName;\n              this.setState({\n                iosIconResourceNames: newIcons,\n              });\n            }}\n          />\n        ))}\n      </Dialog>\n    );\n  }\n}\n","//@flow\nimport optionalRequire from '../Utils/OptionalRequire';\nconst Jimp = optionalRequire('jimp');\n\nexport const isResizeSupported = () => !!Jimp;\n\nexport const resizeImage = (\n  inputFile: string,\n  outputFile: string,\n  { width, height }: { width: number, height: number }\n): Promise<any> => {\n  if (!Jimp) return Promise.resolve(false);\n\n  return Jimp.read(inputFile)\n    .then(function(jimpImage) {\n      return jimpImage.contain(width, height).write(outputFile);\n    })\n    .then(() => {\n      return true;\n    })\n    .catch(function(err) {\n      console.error(err);\n      return false;\n    });\n};\n","import React from 'react';\nimport RefreshIndicator from 'material-ui/RefreshIndicator';\n\nconst loaderSize = 50;\n\nexport default props => {\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        zIndex: 1000,\n        pointerEvents: props.show ? 'cursor' : 'none',\n        display: props.show ? 'block' : 'none',\n      }}\n    >\n      <div\n        style={{\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          marginTop: -loaderSize / 2,\n          marginLeft: -loaderSize / 2,\n          width: loaderSize,\n          height: loaderSize,\n        }}\n      >\n        {props.show /* Don't render RefreshIndicator to avoid it to use a timeout that would wake regularly the CPU  */ && (\n          <RefreshIndicator\n            size={loaderSize}\n            left={0}\n            top={0}\n            status={'loading'}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport optionalRequire from '../Utils/OptionalRequire';\nimport Window from '../Utils/Window';\nconst electron = optionalRequire('electron');\n\ntype Props = {|\n  shouldPrompt: boolean,\n|};\n\nexport default class CloseConfirmDialog extends React.Component<Props, *> {\n  _delayElectronClose = true;\n\n  componentDidMount() {\n    this._setup(this.props);\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (newProps.shouldPrompt !== this.props.shouldPrompt)\n      this._setup(newProps);\n  }\n\n  _setup(props: Props) {\n    if (Window.isDev()) return; // Don't prevent live-reload in development\n\n    const { shouldPrompt } = props;\n    const message =\n      'Are you sure you want to quit GDevelop? Any unsaved changes will be lost.';\n\n    if (electron) {\n      window.onbeforeunload = e => {\n        if (this._delayElectronClose && shouldPrompt) {\n          // Use setTimeout to avoiding blocking the thread with the \"confirm\" dialog,\n          // which would make Electron to close the window for some weird reason.\n          // See https://github.com/electron/electron/issues/7977\n          setTimeout(() => {\n            //eslint-disable-next-line\n            const answer = confirm(message);\n            if (answer) {\n              // If answer is positive, re-trigger the close\n              this._delayElectronClose = false;\n              electron.remote.getCurrentWindow().close();\n            }\n          }, 10);\n\n          // Prevents closing the window immediately. See https://github.com/electron/electron/blob/master/docs/api/browser-window.md#event-close\n          e.returnValue = true; //\"It is recommended to always set the event.returnValue explicitly, instead of only returning a value, as the former works more consistently within Electron.\"\"\n          return false; //\"In Electron, returning any value other than undefined would cancel the close\"\n        } else {\n          // Returning undefined will let the window close\n        }\n      };\n    } else if (window) {\n      if (shouldPrompt) {\n        window.onbeforeunload = () => message;\n      } else {\n        window.onbeforeunload = null;\n      }\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n","import React, { Component } from 'react';\nimport { Tabs as MaterialUITabs, Tab as MaterialUITab } from 'material-ui/Tabs';\nimport Close from 'material-ui/svg-icons/navigation/close';\nimport FlatButton from 'material-ui/FlatButton';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst styles = {\n  tabsContainerStyle: {\n    maxWidth: '100%',\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  tabTemplateStyle: {\n    width: '100%',\n    position: 'relative',\n    textAlign: 'initial',\n    height: '100%',\n  },\n};\n\n/**\n * This is to override the default material-ui tab template used to wrap the content of each tab element.\n * 2 changes (**please port them to your new implementation if you change the tabs**):\n *\n * 1) Instead of setting the \"height\" of hidden tabs to \"0\", we set \"display\" to \"none\" to avoid\n * messing with components (in particular components where you can scroll: when collapsed because of height=0,\n * they will lose they scrolling position).\n *\n * 2) shouldComponentUpdate is used to avoid updating the content of a tab that is not selected.\n *\n * Rest of the implementation is the same.\n */\nclass TabTemplate extends Component {\n  shouldComponentUpdate(nextProps) {\n    return this.props.selected || nextProps.selected;\n  }\n\n  render() {\n    const { children, selected, style } = this.props;\n    const templateStyle = { ...styles.tabTemplateStyle, ...style };\n    if (!selected) {\n      templateStyle.display = 'none';\n    }\n\n    return <div style={templateStyle}>{children}</div>;\n  }\n}\n\nexport class ThemableTabs extends Component {\n  render() {\n    const { muiTheme, hideLabels, ...tabsProps } = this.props;\n    const tabItemContainerStyle = {\n      maxWidth: '100%', // Tabs should take all width\n      flexShrink: 0, // Tabs height should never be reduced\n      overflowX: 'auto',\n      display: hideLabels ? 'none' : 'block',\n      backgroundColor: muiTheme.closableTabs.backgroundColor,\n    };\n\n    const contentContainerStyle = {\n      overflowY: 'hidden',\n      height: hideLabels\n        ? '100%'\n        : `calc(100% - ${muiTheme.closableTabs.height}px)`,\n    };\n\n    return (\n      <MaterialUITabs\n        style={styles.tabsContainerStyle}\n        tabTemplate={TabTemplate}\n        contentContainerStyle={contentContainerStyle}\n        tabItemContainerStyle={tabItemContainerStyle}\n        inkBarStyle={{ display: 'none' }}\n        {...tabsProps}\n      />\n    );\n  }\n}\n\nexport const Tabs = muiThemeable()(ThemableTabs);\nTabs.muiName = 'Tabs';\n\nclass ThemableTab extends Component {\n  static muiName = 'Tab';\n\n  render() {\n    const {\n      muiTheme,\n      selected,\n      onClose,\n      label,\n      closable,\n      ...tabProps\n    } = this.props;\n\n    const truncatedLabel = (\n      <span\n        style={{\n          width:\n            muiTheme.closableTabs.width -\n            muiTheme.closableTabs.closeButtonWidth * 1.5,\n          marginRight: muiTheme.closableTabs.closeButtonWidth,\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n        }}\n      >\n        {label}\n      </span>\n    );\n\n    return (\n      <span\n        style={{\n          position: 'relative',\n          width: muiTheme.closableTabs.width,\n          display: 'inline-block',\n        }}\n      >\n        <MaterialUITab\n          {...tabProps}\n          label={truncatedLabel}\n          selected={selected}\n          buttonStyle={{\n            height: muiTheme.closableTabs.height,\n            backgroundColor: selected\n              ? muiTheme.closableTabs.selectedBackgroundColor\n              : muiTheme.closableTabs.backgroundColor,\n            color: selected\n              ? muiTheme.closableTabs.selectedTextColor\n              : muiTheme.closableTabs.textColor,\n          }}\n          style={{\n            height: '100%',\n            width: '100%',\n          }}\n        />\n        {closable && (\n          <FlatButton\n            backgroundColor=\"transparent\"\n            hoverColor={muiTheme.selectedBackgroundColor}\n            onClick={onClose}\n            style={{\n              position: 'absolute',\n              right: 0,\n              top: 0,\n              bottom: 0,\n              borderRadius: 0,\n              width: muiTheme.closableTabs.closeButtonWidth,\n              minWidth: muiTheme.closableTabs.closeButtonWidth,\n            }}\n            icon={\n              <Close\n                color={\n                  selected\n                    ? muiTheme.closableTabs.selectedTextColor\n                    : muiTheme.closableTabs.textColor\n                }\n                style={{\n                  width: muiTheme.closableTabs.height / 2,\n                  height: muiTheme.closableTabs.height / 2,\n                }}\n              />\n            }\n          />\n        )}\n      </span>\n    );\n  }\n}\n\nexport const Tab = muiThemeable()(ThemableTab);\nTab.muiName = 'Tab';\n","// @flow\nimport findIndex from 'lodash/findIndex';\nimport EventsEditor from './Editors/EventsEditor';\nimport DebuggerEditor from './Editors/DebuggerEditor';\nimport EventsFunctionsExtensionEditorWrapper from './Editors/EventsFunctionsExtensionEditor';\nimport ExternalEventsEditor from './Editors/ExternalEventsEditor';\nimport ExternalLayoutEditor from './Editors/ExternalLayoutEditor';\nimport ResourcesEditor from './Editors/ResourcesEditor';\nimport SceneEditor from './Editors/SceneEditor';\n\n// Supported editors\ntype EditorRef =\n  | DebuggerEditor\n  | EventsEditor\n  | EventsFunctionsExtensionEditorWrapper\n  | ExternalEventsEditor\n  | ExternalLayoutEditor\n  | ResourcesEditor\n  | SceneEditor;\n\nexport type EditorTab = {|\n  render: (isCurrentTab: boolean) => React$Element<*>,\n  editorRef: ?EditorRef,\n  name: string,\n  key: string,\n  closable: boolean,\n|};\n\nexport type EditorTabsState = {\n  editors: Array<EditorTab>,\n  currentTab: number,\n};\n\nexport const getEditorTabsInitialState = (): EditorTabsState => {\n  return {\n    editors: [],\n    currentTab: 0,\n  };\n};\n\ntype renderEditorProps = {|\n  isActive: boolean,\n  editorRef: Function,\n|};\n\nexport const openEditorTab = (\n  state: EditorTabsState,\n  {\n    name,\n    renderEditor,\n    key,\n    dontFocusTab,\n    closable,\n  }: {\n    name: string,\n    renderEditor: (props: renderEditorProps) => React$Element<*>,\n    key: string,\n    dontFocusTab?: boolean,\n    closable?: boolean,\n  }\n): EditorTabsState => {\n  const existingEditorId = findIndex(\n    state.editors,\n    editor => editor.key === key\n  );\n  if (existingEditorId !== -1) {\n    return {\n      ...state,\n      currentTab: dontFocusTab ? state.currentTab : existingEditorId,\n    };\n  }\n\n  const editorTab: EditorTab = {\n    render: (isCurrentTab: boolean) =>\n      renderEditor({\n        isActive: isCurrentTab,\n        editorRef: editorRef => (editorTab.editorRef = editorRef),\n      }),\n    editorRef: null,\n    name,\n    key,\n    closable: typeof closable === 'undefined' ? true : !!closable,\n  };\n\n  return {\n    ...state,\n    editors: [...state.editors, editorTab],\n    currentTab: dontFocusTab ? state.currentTab : state.editors.length,\n  };\n};\n\nexport const changeCurrentTab = (\n  state: EditorTabsState,\n  newTabId: number\n): EditorTabsState => {\n  return {\n    ...state,\n    currentTab: Math.max(0, Math.min(newTabId, state.editors.length - 1)),\n  };\n};\n\nexport const closeAll = (): EditorTabsState => {\n  return getEditorTabsInitialState();\n};\n\nexport const closeEditorTab = (\n  state: EditorTabsState,\n  editorTab: EditorTab\n): EditorTabsState => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(e => e !== editorTab),\n    },\n    state.currentTab\n  );\n};\n\nexport const getEditors = (state: EditorTabsState): Array<EditorTab> => {\n  return state.editors;\n};\n\nexport const getCurrentTabIndex = (state: EditorTabsState): number => {\n  return state.currentTab;\n};\n\nexport const getCurrentTab = (state: EditorTabsState): EditorTab => {\n  return state.editors[state.currentTab];\n};\n\nexport const closeProjectTabs = (\n  state: EditorTabsState,\n  project: ?gdProject\n) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editorProject =\n          editorTab.editorRef && editorTab.editorRef.getProject();\n        return !editorProject || editorProject !== project;\n      }),\n    },\n    state.currentTab\n  );\n};\n\n/*\n * Ask the editors to persist their UI settings\n * to the project.\n */\nexport const saveUiSettings = (state: EditorTabsState) => {\n  state.editors.forEach(editorTab => {\n    if (editorTab.editorRef && editorTab.editorRef.saveUiSettings) {\n      editorTab.editorRef.saveUiSettings();\n    }\n  });\n};\n\nexport const closeLayoutTabs = (state: EditorTabsState, layout: gdLayout) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editorLayout =\n          editorTab.editorRef && editorTab.editorRef.getLayout();\n        return !editorLayout || editorLayout !== layout;\n      }),\n    },\n    state.currentTab\n  );\n};\n\nexport const closeExternalLayoutTabs = (\n  state: EditorTabsState,\n  externalLayout: gdExternalLayout\n) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editor = editorTab.editorRef;\n\n        if (editor instanceof ExternalLayoutEditor) {\n          return (\n            !editor.getExternalLayout() ||\n            editor.getExternalLayout() !== externalLayout\n          );\n        }\n\n        return true;\n      }),\n    },\n    state.currentTab\n  );\n};\n\nexport const closeExternalEventsTabs = (\n  state: EditorTabsState,\n  externalEvents: gdExternalEvents\n) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editor = editorTab.editorRef;\n        if (editor instanceof ExternalEventsEditor) {\n          return (\n            !editor.getExternalEvents() ||\n            editor.getExternalEvents() !== externalEvents\n          );\n        }\n\n        return true;\n      }),\n    },\n    state.currentTab\n  );\n};\n\nexport const closeEventsFunctionsExtensionTabs = (\n  state: EditorTabsState,\n  eventsFunctionsExtension: gdEventsFunctionsExtension\n) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editor = editorTab.editorRef;\n        if (editor instanceof EventsFunctionsExtensionEditorWrapper) {\n          return (\n            !editor.getEventsFunctionsExtension() ||\n            editor.getEventsFunctionsExtension() !== eventsFunctionsExtension\n          );\n        }\n\n        return true;\n      }),\n    },\n    state.currentTab\n  );\n};\n\nexport const getEventsFunctionsExtensionEditor = (\n  state: EditorTabsState,\n  eventsFunctionsExtension: gdEventsFunctionsExtension\n): ?{| editor: EventsFunctionsExtensionEditorWrapper, tabIndex: number |} => {\n  for (let tabIndex = 0; tabIndex < state.editors.length; ++tabIndex) {\n    const editor = state.editors[tabIndex].editorRef;\n    if (\n      editor instanceof EventsFunctionsExtensionEditorWrapper &&\n      editor.getEventsFunctionsExtension() === eventsFunctionsExtension\n    ) {\n      return { editor, tabIndex };\n    }\n  }\n\n  return null;\n};\n","// @flow\nimport React, { Component } from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport findIndex from 'lodash/findIndex';\nimport {\n  SortableTreeWithoutDndContext,\n  getNodeAtPath,\n} from 'react-sortable-tree';\nimport { mapFor } from '../../Utils/MapFor';\nimport { getInitialSelection, isEventSelected } from '../SelectionHandler';\nimport EventsRenderingService from './EventsRenderingService';\nimport EventHeightsCache from './EventHeightsCache';\nimport { eventsTree, eventsTreeWithSearchResults } from './ClassNames';\nimport './style.css';\nimport {\n  type SelectionState,\n  type EventContext,\n  type InstructionsListContext,\n  type InstructionContext,\n  type ParameterContext,\n} from '../SelectionHandler';\nconst gd = global.gd;\n\nconst indentWidth = 22;\n\nconst styles = {\n  container: { flex: 1 },\n};\n\ntype EventsContainerProps = {|\n  eventsHeightsCache: EventHeightsCache,\n  event: gdBaseEvent,\n  leftIndentWidth: number,\n  disabled: boolean,\n  project: gdProject,\n  layout?: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  selection: SelectionState,\n  onAddNewInstruction: Function,\n  onMoveToInstruction: (destinationContext: InstructionContext) => void,\n  onMoveToInstructionsList: (\n    destinationContext: InstructionsListContext\n  ) => void,\n  onInstructionClick: InstructionContext => void,\n  onInstructionDoubleClick: InstructionContext => void,\n  onInstructionContextMenu: (x: number, y: number, InstructionContext) => void,\n  onInstructionsListContextMenu: (\n    x: number,\n    y: number,\n    InstructionsListContext\n  ) => void,\n  onParameterClick: ParameterContext => void,\n\n  onEventClick: (eventContext: EventContext) => void,\n  onEventContextMenu: (x: number, y: number) => void,\n  onOpenExternalEvents: string => void,\n  onOpenLayout: string => void,\n|};\n\n/**\n * The component containing an event.\n * It will report the rendered event height so that the EventsTree can\n * update accordingly.\n */\nclass EventContainer extends Component<EventsContainerProps, {||}> {\n  _container: ?any;\n  componentDidMount() {\n    const height = this._container ? this._container.offsetHeight : 0;\n    this.props.eventsHeightsCache.setEventHeight(this.props.event, height);\n  }\n\n  componentDidUpdate() {\n    const height = this._container ? this._container.offsetHeight : 0;\n    this.props.eventsHeightsCache.setEventHeight(this.props.event, height);\n  }\n\n  _onEventUpdated = () => {\n    this.forceUpdate();\n  };\n\n  _onEventContextMenu = (domEvent: any) => {\n    domEvent.preventDefault();\n    this.props.onEventContextMenu(domEvent.clientX, domEvent.clientY);\n  };\n\n  render() {\n    const { event, project, layout, disabled } = this.props;\n    const EventComponent = EventsRenderingService.getEventComponent(event);\n\n    return (\n      <div\n        ref={container => (this._container = container)}\n        onClick={this.props.onEventClick}\n        onContextMenu={this._onEventContextMenu}\n      >\n        {EventComponent && (\n          <EventComponent\n            project={project}\n            layout={layout}\n            event={event}\n            globalObjectsContainer={this.props.globalObjectsContainer}\n            objectsContainer={this.props.objectsContainer}\n            selected={isEventSelected(this.props.selection, event)}\n            selection={this.props.selection}\n            leftIndentWidth={this.props.leftIndentWidth}\n            onUpdate={this._onEventUpdated}\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            onOpenExternalEvents={this.props.onOpenExternalEvents}\n            onOpenLayout={this.props.onOpenLayout}\n            disabled={\n              disabled /* Use disabled (not event.disabled) as it is true if a parent event is disabled*/\n            }\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nconst getNodeKey = ({ treeIndex }) => treeIndex;\n\nconst ThemableSortableTree = ({ muiTheme, className, ...otherProps }) => (\n  <SortableTreeWithoutDndContext\n    className={`${eventsTree} ${\n      muiTheme.eventsSheetRootClassName\n    } ${className}`}\n    {...otherProps}\n  />\n);\nconst SortableTree = muiThemeable()(ThemableSortableTree);\n\nconst noop = () => {};\n\ntype EventsTreeProps = {|\n  events: gdEventsList,\n  project: gdProject,\n  layout?: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  selection: SelectionState,\n  onAddNewInstruction: Function,\n  onMoveToInstruction: (destinationContext: InstructionContext) => void,\n  onMoveToInstructionsList: (\n    destinationContext: InstructionsListContext\n  ) => void,\n  onInstructionClick: InstructionContext => void,\n  onInstructionDoubleClick: InstructionContext => void,\n  onInstructionContextMenu: (x: number, y: number, InstructionContext) => void,\n  onInstructionsListContextMenu: (\n    x: number,\n    y: number,\n    InstructionsListContext\n  ) => void,\n  onParameterClick: ParameterContext => void,\n\n  onEventClick: (eventContext: EventContext) => void,\n  onEventContextMenu: (\n    x: number,\n    y: number,\n    eventContext: EventContext\n  ) => void,\n  onAddNewEvent: (eventContext: EventContext) => void,\n  onOpenExternalEvents: string => void,\n  onOpenLayout: string => void,\n\n  searchResults: ?Array<gdBaseEvent>,\n  searchFocusOffset: ?number,\n\n  onEventMoved: () => void,\n|};\n\ntype SortableTreeNode = {\n  eventsList: gdEventsList,\n  event: gdBaseEvent,\n  depth: number,\n  disabled: boolean,\n  isCondition: boolean,\n  indexInList: number,\n};\n\n/**\n * Display a tree of event. Builtin on react-sortable-tree so that event\n * can be drag'n'dropped and events rows are virtualized.\n */\nexport default class ThemableEventsTree extends Component<EventsTreeProps, *> {\n  static defaultProps = {\n    selection: getInitialSelection(),\n  };\n  _list: ?any;\n  eventsHeightsCache: EventHeightsCache;\n\n  constructor(props: EventsTreeProps) {\n    super(props);\n\n    this.eventsHeightsCache = new EventHeightsCache(this);\n    this.state = {\n      ...this._eventsToTreeData(props.events),\n    };\n  }\n\n  componentDidMount() {\n    this.onHeightsChanged();\n  }\n\n  /**\n   * Should be called whenever an event height has changed\n   */\n  onHeightsChanged(cb: ?() => void) {\n    this.forceUpdate(() => {\n      if (this._list) this._list.wrappedInstance.recomputeRowHeights();\n      if (cb) cb();\n    });\n  }\n\n  /**\n   * Should be called whenever events changed (new event...)\n   * from outside this component.\n   */\n  forceEventsUpdate(cb: ?() => void) {\n    this.setState(this._eventsToTreeData(this.props.events), () => {\n      if (this._list) this._list.wrappedInstance.recomputeRowHeights();\n      if (cb) cb();\n    });\n  }\n\n  scrollToEvent(event: gdBaseEvent) {\n    const row = this._getEventRow(event);\n    if (row !== -1 && this._list) this._list.wrappedInstance.scrollToRow(row);\n  }\n\n  /**\n   * Unfold events so that the given one is visible\n   */\n  unfoldForEvent(event: gdBaseEvent) {\n    gd.EventsListUnfolder.unfoldWhenContaining(this.props.events, event);\n    this.forceEventsUpdate();\n  }\n\n  _getEventRow(searchedEvent: gdBaseEvent) {\n    return findIndex(\n      this.state.flatData,\n      event => event.ptr === searchedEvent.ptr\n    );\n  }\n\n  _eventsToTreeData = (\n    eventsList: gdEventsList,\n    flatData: Array<gdBaseEvent> = [],\n    depth: number = 0,\n    parentDisabled: boolean = false\n  ) => {\n    const treeData = mapFor<any>(0, eventsList.getEventsCount(), i => {\n      const event = eventsList.getEventAt(i);\n      flatData.push(event);\n\n      const disabled = parentDisabled || event.isDisabled();\n\n      return {\n        title: this._renderEvent,\n        event,\n        eventsList,\n        indexInList: i,\n        expanded: !event.isFolded(),\n        disabled,\n        depth,\n        key: event.ptr, //TODO: useless?\n        children: this._eventsToTreeData(\n          event.getSubEvents(),\n          // flatData is a flat representation of events, one for each line.\n          // Hence it should not contain the folded events.\n          !event.isFolded() ? flatData : [],\n          depth + 1,\n          disabled\n        ).treeData,\n      };\n    });\n\n    return {\n      treeData,\n      flatData,\n    };\n  };\n\n  _onMoveNode = ({\n    treeData,\n    path,\n    node,\n  }: {\n    treeData: any,\n    path: Array<any>,\n    node: SortableTreeNode,\n  }) => {\n    // Get the event list where the event should be moved to.\n    const targetPath = path.slice(0, -1);\n    const target = getNodeAtPath({\n      getNodeKey,\n      treeData: treeData,\n      path: targetPath,\n    });\n    const targetNode = target.node;\n    const targetEventsList =\n      targetNode && targetNode.event\n        ? targetNode.event.getSubEvents()\n        : this.props.events;\n    const targetPosition =\n      targetNode && targetNode.children ? targetNode.children.indexOf(node) : 0;\n\n    // Get the moved event and its list from the moved node.\n    const { event, eventsList } = node;\n\n    // Do the move\n    const newEvent = event.clone();\n    eventsList.removeEvent(event);\n    targetEventsList.insertEvent(newEvent, targetPosition);\n    newEvent.delete();\n\n    this.forceEventsUpdate();\n    this.props.onEventMoved();\n  };\n\n  _canDrop = ({ nextParent }: { nextParent: ?SortableTreeNode }) => {\n    if (nextParent && nextParent.event)\n      return nextParent.event.canHaveSubEvents();\n\n    return true;\n  };\n\n  _onVisibilityToggle = ({ node }: { node: SortableTreeNode }) => {\n    const { event } = node;\n\n    event.setFolded(!event.isFolded());\n    this.forceEventsUpdate();\n  };\n\n  _renderEvent = ({ node }: { node: SortableTreeNode }) => {\n    const { event, depth, disabled } = node;\n\n    return (\n      <EventContainer\n        project={this.props.project}\n        layout={this.props.layout}\n        globalObjectsContainer={this.props.globalObjectsContainer}\n        objectsContainer={this.props.objectsContainer}\n        event={event}\n        key={event.ptr}\n        eventsHeightsCache={this.eventsHeightsCache}\n        selection={this.props.selection}\n        leftIndentWidth={depth * indentWidth}\n        onAddNewInstruction={this.props.onAddNewInstruction}\n        onMoveToInstruction={this.props.onMoveToInstruction}\n        onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n        onInstructionClick={this.props.onInstructionClick}\n        onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n        onParameterClick={this.props.onParameterClick}\n        onEventClick={() =>\n          this.props.onEventClick({\n            eventsList: node.eventsList,\n            event: node.event,\n            indexInList: node.indexInList,\n            isCondition: node.isCondition,\n          })\n        }\n        onEventContextMenu={(x, y) =>\n          this.props.onEventContextMenu(x, y, {\n            eventsList: node.eventsList,\n            event: node.event,\n            indexInList: node.indexInList,\n            isCondition: node.isCondition,\n          })\n        }\n        onInstructionContextMenu={this.props.onInstructionContextMenu}\n        onInstructionsListContextMenu={this.props.onInstructionsListContextMenu}\n        onOpenExternalEvents={this.props.onOpenExternalEvents}\n        onOpenLayout={this.props.onOpenLayout}\n        disabled={\n          disabled /* Use node.disabled (not event.disabled) as it is true if a parent event is disabled*/\n        }\n      />\n    );\n  };\n\n  _treeSearchMethod = ({\n    node,\n    searchQuery,\n  }: {\n    node: SortableTreeNode,\n    searchQuery: ?Array<gdBaseEvent>,\n  }) => {\n    const searchResults = searchQuery;\n    if (!searchResults) return false;\n    const { event } = node;\n\n    return searchResults.find(highlightedEvent =>\n      gd.compare(highlightedEvent, event)\n    );\n  };\n\n  render() {\n    return (\n      <div style={styles.container}>\n        <SortableTree\n          treeData={this.state.treeData}\n          scaffoldBlockPxWidth={indentWidth}\n          onChange={noop}\n          onVisibilityToggle={this._onVisibilityToggle}\n          onMoveNode={this._onMoveNode}\n          canDrop={this._canDrop}\n          rowHeight={({ index }) => {\n            const event = this.state.flatData[index];\n            if (!event) return 0;\n\n            return this.eventsHeightsCache.getEventHeight(event);\n          }}\n          searchMethod={this._treeSearchMethod}\n          searchQuery={this.props.searchResults}\n          searchFocusOffset={this.props.searchFocusOffset}\n          className={\n            this.props.searchResults ? eventsTreeWithSearchResults : ''\n          }\n          reactVirtualizedListProps={{\n            ref: list => (this._list = list),\n          }}\n        />\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport InstructionsList from '../InstructionsList';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  executableEventContainer,\n} from '../ClassNames';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n  },\n  actionsList: {\n    flex: 1,\n  },\n};\n\nexport default class StandardEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  render() {\n    var standardEvent = gd.asStandardEvent(this.props.event);\n\n    const conditionsListSyle = {\n      width: `calc(35vw - ${this.props.leftIndentWidth}px)`,\n    };\n\n    return (\n      <div\n        style={styles.container}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n          [executableEventContainer]: true,\n        })}\n      >\n        <InstructionsList\n          instrsList={standardEvent.getConditions()}\n          style={conditionsListSyle}\n          selection={this.props.selection}\n          areConditions\n          onAddNewInstruction={this.props.onAddNewInstruction}\n          onMoveToInstruction={this.props.onMoveToInstruction}\n          onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n          onInstructionClick={this.props.onInstructionClick}\n          onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n          onInstructionContextMenu={this.props.onInstructionContextMenu}\n          onInstructionsListContextMenu={\n            this.props.onInstructionsListContextMenu\n          }\n          onParameterClick={this.props.onParameterClick}\n          disabled={this.props.disabled}\n        />\n        <InstructionsList\n          instrsList={standardEvent.getActions()}\n          style={styles.actionsList}\n          selection={this.props.selection}\n          areConditions={false}\n          onAddNewInstruction={this.props.onAddNewInstruction}\n          onMoveToInstruction={this.props.onMoveToInstruction}\n          onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n          onInstructionClick={this.props.onInstructionClick}\n          onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n          onInstructionContextMenu={this.props.onInstructionContextMenu}\n          onInstructionsListContextMenu={\n            this.props.onInstructionsListContextMenu\n          }\n          onParameterClick={this.props.onParameterClick}\n          disabled={this.props.disabled}\n        />\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { mapFor } from '../../Utils/MapFor';\nimport classNames from 'classnames';\nimport {\n  selectedArea,\n  selectableArea,\n  subInstructionsContainer,\n  instructionParameter,\n  disabledText,\n} from './ClassNames';\nimport {\n  type InstructionsListContext,\n  type InstructionContext,\n} from '../SelectionHandler';\nimport InstructionsList from './InstructionsList';\nimport {\n  DragSource,\n  type DragSourceMonitor,\n  type DragSourceConnector,\n  type ConnectDragSource,\n  DropTarget,\n  type DropTargetMonitor,\n  type DropTargetConnector,\n  type ConnectDropTarget,\n} from 'react-dnd';\nimport DropIndicator from './DropIndicator';\nimport ParameterRenderingService from '../ParameterRenderingService';\nconst gd = global.gd;\nconst instrFormatter = gd.InstructionSentenceFormatter.get();\ninstrFormatter.loadTypesFormattingFromConfig();\n\nconst styles = {\n  container: {\n    whiteSpace: 'normal',\n    wordWrap: 'break-word',\n    cursor: 'pointer',\n    marginBottom: 1,\n  },\n  icon: {\n    verticalAlign: 'middle',\n    paddingLeft: 2,\n    paddingRight: 2,\n  },\n};\n\ntype DragSourceProps = {|\n  connectDragSource: ConnectDragSource,\n|};\n\ntype DropTargetProps = {|\n  connectDropTarget: ConnectDropTarget,\n  isOver: boolean,\n  canDrop: boolean,\n|};\n\ntype Props = {|\n  instruction: gdInstruction,\n  isCondition: boolean,\n  onClick: Function,\n  selected: boolean,\n  disabled: boolean,\n  onDoubleClick: () => void,\n  onContextMenu: (x: number, y: number) => void,\n  onMoveToInstruction: () => void,\n\n  ...DragSourceProps,\n  ...DropTargetProps,\n\n  // For potential sub-instructions list:\n  selection: Object,\n  onAddNewSubInstruction: Function,\n  onMoveToSubInstruction: (destinationContext: InstructionContext) => void,\n  onMoveToSubInstructionsList: (\n    destinationContext: InstructionsListContext\n  ) => void,\n  onSubInstructionClick: Function,\n  onSubInstructionDoubleClick: Function,\n  onSubInstructionsListContextMenu: (\n    x: number,\n    y: number,\n    instructionsListContext: InstructionsListContext\n  ) => void,\n  onSubParameterClick: Function,\n  onSubInstructionContextMenu: (\n    x: number,\n    y: number,\n    instructionContext: InstructionContext\n  ) => void,\n  onParameterClick: (event: any, parameterIndex: number) => void,\n|};\n\nclass Instruction extends React.Component<Props, *> {\n  /**\n   * Render the different parts of the text of the instruction.\n   * Parameter can have formatting, be hovered and clicked. The rest\n   * has not particular styling.\n   */\n  _renderInstructionText = (metadata: gdInstructionMetadata) => {\n    const { instruction, disabled } = this.props;\n    const formattedTexts = instrFormatter.getAsFormattedText(\n      instruction,\n      metadata\n    );\n    const parametersCount = metadata.getParametersCount();\n\n    return (\n      <span\n        className={classNames({\n          [disabledText]: disabled,\n        })}\n      >\n        {mapFor(0, formattedTexts.size(), i => {\n          const formatting = formattedTexts.getTextFormatting(i);\n          const parameterIndex = formatting.getUserData();\n          const isParameter =\n            parameterIndex >= 0 && parameterIndex < parametersCount;\n\n          if (!isParameter)\n            return <span key={i}>{formattedTexts.getString(i)}</span>;\n\n          const parameterType = metadata.getParameter(parameterIndex).getType();\n          return (\n            <span\n              key={i}\n              className={classNames({\n                [selectableArea]: true,\n                [instructionParameter]: true,\n                [parameterType]: true,\n              })}\n              onClick={domEvent =>\n                this.props.onParameterClick(domEvent, parameterIndex)\n              }\n            >\n              {ParameterRenderingService.renderParameterString(\n                parameterType,\n                formattedTexts.getString(i)\n              )}\n            </span>\n          );\n        })}\n      </span>\n    );\n  };\n\n  render() {\n    const { instruction, isCondition } = this.props;\n    const {\n      connectDragSource,\n      connectDropTarget,\n      isOver,\n      canDrop,\n    } = this.props;\n\n    //TODO: Metadata could be cached for performance boost.\n    const metadata = isCondition\n      ? gd.MetadataProvider.getConditionMetadata(\n          gd.JsPlatform.get(),\n          instruction.getType()\n        )\n      : gd.MetadataProvider.getActionMetadata(\n          gd.JsPlatform.get(),\n          instruction.getType()\n        );\n\n    const instructionDiv = connectDropTarget(\n      // $FlowFixMe\n      connectDragSource(\n        <div\n          style={styles.container}\n          className={classNames({\n            [selectableArea]: true,\n            [selectedArea]: this.props.selected,\n          })}\n          onClick={e => {\n            e.stopPropagation();\n            this.props.onClick();\n          }}\n          onDoubleClick={e => {\n            e.stopPropagation();\n            this.props.onDoubleClick();\n          }}\n          onContextMenu={e => {\n            e.stopPropagation();\n            this.props.onContextMenu(e.clientX, e.clientY);\n          }}\n        >\n          {instruction.isInverted() && (\n            <img\n              src=\"res/contraire.png\"\n              alt=\"Condition is negated\"\n              style={styles.icon}\n              width=\"20\"\n              height=\"16\"\n            />\n          )}\n          <img\n            src={metadata.getSmallIconFilename()}\n            style={styles.icon}\n            alt=\"\"\n            width=\"20\"\n            height=\"16\"\n          />\n          {this._renderInstructionText(metadata)}\n          {metadata.canHaveSubInstructions() && (\n            <InstructionsList\n              extraClassName={subInstructionsContainer}\n              instrsList={instruction.getSubInstructions()}\n              areConditions={this.props.isCondition}\n              selection={this.props.selection}\n              onAddNewInstruction={this.props.onAddNewSubInstruction}\n              onMoveToInstruction={this.props.onMoveToSubInstruction}\n              onMoveToInstructionsList={this.props.onMoveToSubInstructionsList}\n              onInstructionClick={this.props.onSubInstructionClick}\n              onInstructionDoubleClick={this.props.onSubInstructionDoubleClick}\n              onInstructionContextMenu={this.props.onSubInstructionContextMenu}\n              onInstructionsListContextMenu={\n                this.props.onSubInstructionsListContextMenu\n              }\n              onParameterClick={this.props.onSubParameterClick}\n              addButtonLabel={<Trans>Add a sub-condition</Trans>}\n              disabled={this.props.disabled}\n            />\n          )}\n        </div>\n      )\n    );\n\n    return isOver ? (\n      <React.Fragment>\n        <DropIndicator canDrop={canDrop} />\n        {instructionDiv}\n      </React.Fragment>\n    ) : (\n      instructionDiv || null\n    );\n  }\n}\n\n// Drag'n'drop support:\n\nexport const reactDndInstructionType = 'GD_DRAGGED_INSTRUCTION';\n\ntype InstructionSourceProps = {\n  onClick: () => void,\n  isCondition: boolean,\n};\n\nconst instructionSource = {\n  beginDrag(props: InstructionSourceProps) {\n    props.onClick(); // Select the dragged instruction\n    return {\n      // No need to save here what is being dragged,\n      // as its the entire selection that is considered to be dragged.\n      isCondition: props.isCondition,\n    };\n  },\n};\n\nfunction sourceCollect(\n  connect: DragSourceConnector,\n  monitor: DragSourceMonitor\n): DragSourceProps {\n  return {\n    connectDragSource: connect.dragSource(),\n  };\n}\n\nconst instructionTarget = {\n  canDrop(props: Props, monitor: DropTargetMonitor) {\n    return (\n      monitor.getItem() && monitor.getItem().isCondition === props.isCondition\n    );\n  },\n  drop(props: Props, monitor: DropTargetMonitor) {\n    if (monitor.didDrop()) {\n      return; // Drop already handled by a subinstruction\n    }\n    props.onMoveToInstruction();\n  },\n};\n\nfunction targetCollect(\n  connect: DropTargetConnector,\n  monitor: DropTargetMonitor\n): DropTargetProps {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n  };\n}\n\n// $FlowFixMe - Typing of DragSource/DropTarget is a pain to get correctly\nexport default DragSource(\n  reactDndInstructionType,\n  instructionSource,\n  sourceCollect\n)(\n  DropTarget(reactDndInstructionType, instructionTarget, targetCollect)(\n    Instruction\n  )\n);\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nexport default class RelationalOperatorField extends Component {\n  focus() {\n    if (this._field && this._field.focus) this._field.focus();\n  }\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <SelectField\n        fullWidth\n        floatingLabelText={description}\n        value={this.props.value}\n        onChange={(e, i, value) => this.props.onChange(value)}\n        ref={field => (this._field = field)}\n      >\n        <MenuItem value=\"=\" primaryText={<Trans>= (equal to)</Trans>} />\n        <MenuItem value=\"<\" primaryText={<Trans>&lt; (less than)</Trans>} />\n        <MenuItem value=\">\" primaryText={<Trans>&gt; (greater than)</Trans>} />\n        <MenuItem\n          value=\"<=\"\n          primaryText={<Trans>&lt;= (less or equal to)</Trans>}\n        />\n        <MenuItem\n          value=\">=\"\n          primaryText={<Trans>&gt;= (greater or equal to)</Trans>}\n        />\n        <MenuItem value=\"!=\" primaryText={<Trans>!= (different than)</Trans>} />\n      </SelectField>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nexport default class OperatorField extends Component {\n  focus() {\n    if (this._field && this._field.focus) this._field.focus();\n  }\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <SelectField\n        fullWidth\n        floatingLabelText={description}\n        value={this.props.value}\n        onChange={(e, i, value) => this.props.onChange(value)}\n        ref={field => (this._field = field)}\n      >\n        <MenuItem value=\"=\" primaryText={<Trans>= (set to)</Trans>} />\n        <MenuItem value=\"+\" primaryText={<Trans>+ (add)</Trans>} />\n        <MenuItem value=\"-\" primaryText={<Trans>- (subtract)</Trans>} />\n        <MenuItem value=\"*\" primaryText={<Trans>* (multiply by)</Trans>} />\n        <MenuItem value=\"/\" primaryText={<Trans>/ (divide by)</Trans>} />\n      </SelectField>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nexport default class RelationalOperatorField extends Component {\n  focus() {}\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <SelectField\n        fullWidth\n        floatingLabelText={description}\n        value={this.props.value}\n        ref={field => (this._field = field)}\n        onChange={(e, i, value) => this.props.onChange(value)}\n      >\n        <MenuItem value=\"Left\" primaryText={<Trans>Left (primary)</Trans>} />\n        <MenuItem\n          value=\"Right\"\n          primaryText={<Trans>Right (secondary)</Trans>}\n        />\n        <MenuItem\n          value=\"Middle\"\n          primaryText={\n            <Trans>Middle (Auxiliary button, usually the wheel button)</Trans>\n          }\n        />\n        {/* TODO: Add support for these buttons in the game engine\n         <MenuItem\n          value=\"XButton1\"\n          primaryText={<Trans>Special button #1</Trans>}\n        />\n        <MenuItem\n          value=\"XButton2\"\n          primaryText={<Trans>Special button #2</Trans>}\n        /> */}\n      </SelectField>\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nimport { defaultAutocompleteProps } from '../../UI/AutocompleteProps';\n\ntype State = {|\n  focused: boolean,\n  text: ?string,\n|};\n\nexport default class KeyField extends Component<ParameterFieldProps, State> {\n  state = { focused: false, text: null };\n\n  _description: ?string;\n  _field: ?any;\n  _keyNames: Array<string> = [];\n\n  constructor(props: ParameterFieldProps) {\n    super(props);\n\n    const { parameterMetadata } = this.props;\n    this._description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    this._keyNames = [\n      'Num0',\n      'Num1',\n      'Num2',\n      'Num3',\n      'Num4',\n      'Num5',\n      'Num6',\n      'Num7',\n      'Num8',\n      'Num9',\n      'a',\n      'b',\n      'c',\n      'd',\n      'e',\n      'f',\n      'g',\n      'h',\n      'i',\n      'j',\n      'k',\n      'l',\n      'm',\n      'n',\n      'o',\n      'p',\n      'q',\n      'r',\n      's',\n      't',\n      'u',\n      'v',\n      'w',\n      'x',\n      'y',\n      'z',\n      'LBracket',\n      'RBracket',\n      'SemiColon',\n      'Numpad0',\n      'Numpad1',\n      'Numpad2',\n      'Numpad3',\n      'Numpad4',\n      'Numpad5',\n      'Numpad6',\n      'Numpad7',\n      'Numpad8',\n      'Numpad9',\n      'Escape',\n      'Space',\n      'Return',\n      'Back',\n      'Tab',\n      'PageUp',\n      'PageDown',\n      'End',\n      'Home',\n      'Insert',\n      'Delete',\n      'Add',\n      'Subtract',\n      'Multiply',\n      'Divide',\n      'Left',\n      'Right',\n      'Up',\n      'Down',\n      'F1',\n      'F2',\n      'F3',\n      'F4',\n      'F5',\n      'F6',\n      'F7',\n      'F8',\n      'F9',\n      'F10',\n      'F11',\n      'F12',\n      'Pause',\n      'RControl',\n      'LControl',\n      'RAlt',\n      'LAlt',\n      'RShift',\n      'LShift',\n    ];\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <AutoComplete\n        {...defaultAutocompleteProps}\n        floatingLabelText={this._description}\n        searchText={this.state.focused ? this.state.text : this.props.value}\n        onFocus={() => {\n          this.setState({\n            focused: true,\n            text: this.props.value,\n          });\n        }}\n        onUpdateInput={value => {\n          this.setState({\n            focused: true,\n            text: value,\n          });\n        }}\n        onBlur={event => {\n          this.props.onChange(event.target.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n        }}\n        onNewRequest={data => {\n          // Note that data may be a string or a {text, value} object.\n          if (typeof data === 'string') {\n            this.props.onChange(data);\n          } else if (typeof data.value === 'string') {\n            this.props.onChange(data.value);\n          }\n          this.focus(); // Keep the focus after choosing an item\n        }}\n        dataSource={this._keyNames.map(keyName => ({\n          text: keyName,\n          value: keyName,\n        }))}\n        openOnFocus={!this.props.isInline}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Line, Column } from '../../UI/Grid';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\nconst styles = {\n  button: {\n    margin: 5,\n  },\n  description: {\n    display: 'inline-block',\n    marginRight: 5,\n  },\n};\n\nexport default class YesNoField extends Component<ParameterFieldProps, void> {\n  focus() {}\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <Line>\n        <p style={styles.description}>{description}</p>\n        <Column noMargin>\n          <RaisedButton\n            style={styles.button}\n            label={<Trans>Yes</Trans>}\n            primary={this.props.value === 'yes'}\n            onClick={() => this.props.onChange('yes')}\n          />\n        </Column>\n        <Column noMargin>\n          <RaisedButton\n            style={styles.button}\n            label={<Trans>No</Trans>}\n            primary={this.props.value === 'no'}\n            onClick={() => this.props.onChange('no')}\n          />\n        </Column>\n      </Line>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Line, Column } from '../../UI/Grid';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\nconst styles = {\n  button: {\n    margin: 5,\n  },\n  description: {\n    display: 'inline-block',\n    marginRight: 5,\n  },\n};\n\nexport default class TrueFalseField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  focus() {}\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <Line>\n        <p style={styles.description}>{description}</p>\n        <Column noMargin>\n          <RaisedButton\n            style={styles.button}\n            label={<Trans>True</Trans>}\n            primary={this.props.value === 'True'}\n            onClick={() => this.props.onChange('True')}\n          />\n        </Column>\n        <Column noMargin>\n          <RaisedButton\n            style={styles.button}\n            label={<Trans>False</Trans>}\n            primary={this.props.value !== 'True'}\n            onClick={() => this.props.onChange('False')}\n          />\n        </Column>\n      </Line>\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport GenericExpressionField from './GenericExpressionField';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\nexport default class ExpressionField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?GenericExpressionField;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <GenericExpressionField\n        expressionType=\"number\"\n        ref={field => (this._field = field)}\n        {...this.props}\n      />\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport { enumerateExpressions } from './EnumerateExpressions';\nimport InstructionOrExpressionSelector from './index';\nimport { createTree, type InstructionOrExpressionTreeNode } from './CreateTree';\nimport { type InstructionOrExpressionInformation } from './InstructionOrExpressionInformation.flow.js';\n\nexport default class ExpressionSelector extends Component<*, {||}> {\n  instructionsInfo: Array<InstructionOrExpressionInformation> = [];\n  instructionsInfoTree: ?InstructionOrExpressionTreeNode = null;\n\n  static defaultProps = {\n    expressionType: 'number',\n  };\n\n  componentWillMount() {\n    const { allExpressions } = enumerateExpressions(this.props.expressionType);\n    this.instructionsInfo = allExpressions;\n    this.instructionsInfoTree = createTree(allExpressions);\n  }\n\n  render() {\n    return (\n      <InstructionOrExpressionSelector\n        instructionsInfo={this.instructionsInfo}\n        instructionsInfoTree={this.instructionsInfoTree}\n        iconSize={16}\n        {...this.props}\n      />\n    );\n  }\n}\n","// @flow\nimport { type InstructionOrExpressionInformation } from './InstructionOrExpressionInformation.flow.js';\nconst gd = global.gd;\n\nconst GROUP_DELIMITER = '/';\n\nconst enumerateExtensionExpressions = (\n  prefix,\n  expressions,\n  objectMetadata,\n  behaviorMetadata\n): Array<InstructionOrExpressionInformation> => {\n  const allExpressions = [];\n\n  //Get the map containing the metadata of the expression provided by the extension...\n  var expressionsTypes = expressions.keys();\n\n  //... and add each instruction\n  for (var j = 0; j < expressionsTypes.size(); ++j) {\n    var exprMetadata = expressions.get(expressionsTypes.get(j));\n    if (!exprMetadata.isShown()) {\n      //Skip hidden expressions\n      continue;\n    }\n\n    var parameters = [];\n    for (var i = 0; i < exprMetadata.getParametersCount(); i++) {\n      if (objectMetadata && i === 0) continue;\n      if (behaviorMetadata && i <= 1) continue; //Skip object and behavior parameters\n      if (exprMetadata.getParameter(i).isCodeOnly()) continue;\n\n      parameters.push(exprMetadata.getParameter(i));\n    }\n\n    const displayedName = exprMetadata.getFullName();\n    const groupName = exprMetadata.getGroup();\n    const iconFilename = exprMetadata.getSmallIconFilename();\n    const fullGroupName = prefix + groupName;\n\n    allExpressions.push({\n      type: expressionsTypes.get(j),\n      name: expressionsTypes.get(j),\n      displayedName,\n      fullGroupName,\n      iconFilename,\n      metadata: exprMetadata,\n      parameters: parameters,\n      objectMetadata: objectMetadata,\n      behaviorMetadata: behaviorMetadata,\n    });\n  }\n\n  return allExpressions;\n};\n\nexport const enumerateExpressions = (type: string) => {\n  const freeExpressions = [];\n  const objectsExpressions = [];\n  const behaviorsExpressions = [];\n\n  const allExtensions = gd\n    .asPlatform(gd.JsPlatform.get())\n    .getAllPlatformExtensions();\n  for (var i = 0; i < allExtensions.size(); ++i) {\n    var extension = allExtensions.get(i);\n    var allObjectsTypes = extension.getExtensionObjectsTypes();\n    var allBehaviorsTypes = extension.getBehaviorsTypes();\n\n    let prefix = '';\n    if (allObjectsTypes.size() > 0 || allBehaviorsTypes.size() > 0) {\n      prefix =\n        extension.getName() === 'BuiltinObject'\n          ? 'Common expressions for all objects'\n          : extension.getFullName();\n      prefix += GROUP_DELIMITER;\n    }\n\n    //Check which type of expression we want to autocomplete.\n    var allFreeExpressionsGetter = extension.getAllExpressions;\n    var allObjectExpressionsGetter = extension.getAllExpressionsForObject;\n    var allBehaviorExpressionsGetter = extension.getAllExpressionsForBehavior;\n    if (type === 'string') {\n      allFreeExpressionsGetter = extension.getAllStrExpressions;\n      allObjectExpressionsGetter = extension.getAllStrExpressionsForObject;\n      allBehaviorExpressionsGetter = extension.getAllStrExpressionsForBehavior;\n    }\n\n    //Free expressions\n    freeExpressions.push.apply(\n      freeExpressions,\n      enumerateExtensionExpressions(\n        prefix,\n        allFreeExpressionsGetter.call(extension)\n      )\n    );\n\n    //Objects expressions:\n    for (var j = 0; j < allObjectsTypes.size(); ++j) {\n      var objMetadata = extension.getObjectMetadata(allObjectsTypes.get(j));\n      objectsExpressions.push.apply(\n        objectsExpressions,\n        enumerateExtensionExpressions(\n          prefix,\n          allObjectExpressionsGetter.call(extension, allObjectsTypes.get(j)),\n          objMetadata\n        )\n      );\n    }\n\n    //Behaviors expressions:\n    for (var k = 0; k < allBehaviorsTypes.size(); ++k) {\n      var autoMetadata = extension.getBehaviorMetadata(\n        allBehaviorsTypes.get(k)\n      );\n      behaviorsExpressions.push.apply(\n        behaviorsExpressions,\n        enumerateExtensionExpressions(\n          prefix,\n          allBehaviorExpressionsGetter.call(\n            extension,\n            allBehaviorsTypes.get(k)\n          ),\n          undefined,\n          autoMetadata\n        )\n      );\n    }\n  }\n\n  return {\n    allExpressions: [\n      ...freeExpressions,\n      ...objectsExpressions,\n      ...behaviorsExpressions,\n    ],\n    freeExpressions,\n    objectsExpressions,\n    behaviorsExpressions,\n  };\n};\n\nexport const filterExpressions = (\n  list: Array<InstructionOrExpressionInformation>,\n  searchText: string\n): Array<InstructionOrExpressionInformation> => {\n  if (!searchText) return list;\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter(enumeratedExpression => {\n    return (\n      enumeratedExpression.type.toLowerCase().indexOf(lowercaseSearchText) !==\n      -1\n    );\n  });\n};\n","//@flow\nimport { type InstructionOrExpressionInformation } from '../../InstructionEditor/InstructionOrExpressionSelector/InstructionOrExpressionInformation.flow.js';\nimport { type ParameterValues } from './ExpressionParametersEditorDialog';\n\nconst filterOutCodeOnlyParameters = (\n  array: Array<string>,\n  expressionMetadata: Object\n) => {\n  const parametersCount = expressionMetadata.getParametersCount();\n\n  return array.filter((parameter, index) => {\n    return (\n      index < parametersCount &&\n      !expressionMetadata.getParameter(index).isCodeOnly()\n    );\n  });\n};\n\nexport const formatExpressionCall = (\n  expressionInfo: InstructionOrExpressionInformation,\n  parameterValues: ParameterValues\n): string => {\n  const functionName = expressionInfo.name || '';\n\n  if (expressionInfo.objectMetadata) {\n    const [objectName, ...otherParameters] = parameterValues;\n\n    const functionArgs = filterOutCodeOnlyParameters(\n      otherParameters,\n      expressionInfo.metadata\n    ).join(', ');\n    return `${objectName}.${functionName}(${functionArgs})`;\n  } else if (expressionInfo.behaviorMetadata) {\n    const [objectName, behaviorName, ...otherParameters] = parameterValues;\n\n    const functionArgs = filterOutCodeOnlyParameters(\n      otherParameters,\n      expressionInfo.metadata\n    ).join(', ');\n    return `${objectName}.${behaviorName}::${functionName}(${functionArgs})`;\n  } else {\n    const functionArgs = filterOutCodeOnlyParameters(\n      parameterValues,\n      expressionInfo.metadata\n    ).join(', ');\n    return `${functionName}(${functionArgs})`;\n  }\n};\n","// @flow\nimport * as React from 'react';\n\nexport type Highlight = {|\n  begin: number,\n  end: number,\n  type?: 'error',\n  message: string,\n|};\n\ntype Props = {|\n  value: string,\n  style: Object,\n  highlights: Array<Highlight>,\n|};\n\nconst defaultStyle = {\n  width: '100%',\n  position: 'absolute',\n  whiteSpace: 'pre-wrap',\n  wordWrap: 'break-word',\n  color: 'transparent',\n};\n\nconst highlightedText = {\n  backgroundColor: 'rgba(244, 67, 54, 0.15)',\n  borderSizing: 'border-box',\n  borderBottom: '3px solid rgba(244, 67, 54, 0.7)',\n};\n\nexport default ({ value, style, highlights }: Props) => {\n  const sortedHighlights = highlights\n    .slice()\n    .sort((highlight1, highlight2) => highlight1.begin - highlight2.begin);\n\n  const elements = [];\n  let lastPos = 0;\n\n  sortedHighlights.forEach((highlight, i) => {\n    const startPos = Math.max(highlight.begin, lastPos);\n    if (startPos !== lastPos) {\n      elements.push(\n        <span key={`defaultText-${i}`}>\n          {value.substring(lastPos, startPos)}\n        </span>\n      );\n    }\n\n    if (lastPos < highlight.end) {\n      elements.push(\n        <span key={`highlightedText-${i}`} style={highlightedText}>\n          {value.substring(startPos, highlight.end)}\n        </span>\n      );\n      lastPos = highlight.end;\n    }\n  });\n  if (lastPos < value.length) {\n    elements.push(\n      <span key={`defaultText-end`}>{value.substring(lastPos)}</span>\n    );\n  }\n\n  return <div style={{ ...defaultStyle, ...style }}>{elements}</div>;\n};\n","// @flow\nimport React, { Component } from 'react';\nimport GenericExpressionField from './GenericExpressionField';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\nexport default class StringField extends Component<ParameterFieldProps, void> {\n  _field: ?GenericExpressionField;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <GenericExpressionField\n        expressionType=\"string\"\n        ref={field => (this._field = field)}\n        {...this.props}\n      />\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nimport { defaultAutocompleteProps } from '../../UI/AutocompleteProps';\n\ntype State = {|\n  focused: boolean,\n  text: ?string,\n|};\n\nexport default class StringWithSelectorField extends Component<\n  ParameterFieldProps,\n  State\n> {\n  state = { focused: false, text: null };\n\n  _description: ?string;\n  _field: ?any;\n  _choices: Array<string> = [];\n\n  constructor(props: ParameterFieldProps) {\n    super(props);\n\n    const { parameterMetadata } = this.props;\n    this._choices = [];\n\n    if (!parameterMetadata) {\n      return;\n    }\n\n    try {\n      this._description = parameterMetadata.getDescription();\n      this._choices = JSON.parse(parameterMetadata.getExtraInfo());\n    } catch (exception) {\n      console.error(\n        'The parameter seems misconfigured, as an array of choices could not be extracted - verify that your properly wrote a list of choices in JSON format. Full exception is:',\n        exception\n      );\n    }\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <AutoComplete\n        {...defaultAutocompleteProps}\n        floatingLabelText={this._description}\n        searchText={this.state.focused ? this.state.text : this.props.value}\n        onFocus={() => {\n          this.setState({\n            focused: true,\n            text: this.props.value,\n          });\n        }}\n        onUpdateInput={value => {\n          this.setState({\n            focused: true,\n            text: value,\n          });\n        }}\n        onBlur={event => {\n          this.props.onChange(event.target.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n        }}\n        onNewRequest={data => {\n          // Note that data may be a string or a {text, value} object.\n          if (typeof data === 'string') {\n            this.props.onChange(data);\n          } else if (typeof data.value === 'string') {\n            this.props.onChange(data.value);\n          }\n          this.focus(); // Keep the focus after choosing an item\n        }}\n        dataSource={this._choices.map(choice => ({\n          text: choice,\n          value: '\"' + choice + '\"',\n        }))}\n        openOnFocus={!this.props.isInline}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport { defaultAutocompleteProps } from '../../UI/AutocompleteProps';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nconst gd = global.gd;\n\ntype State = {|\n  errorText: ?string,\n  focused: boolean,\n  text: ?string,\n|};\n\nexport default class BehaviorField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  state = { errorText: null, focused: false, text: null };\n  _description: ?string;\n  _behaviorTypeAllowed: ?string;\n  _behaviorNames: Array<string> = [];\n  _field: ?AutoComplete;\n\n  constructor(props: ParameterFieldProps) {\n    super(props);\n\n    const { parameterMetadata } = this.props;\n    this._description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    this._behaviorTypeAllowed = parameterMetadata\n      ? parameterMetadata.getExtraInfo()\n      : undefined;\n  }\n\n  _updateBehaviorsList() {\n    const { instructionOrExpression } = this.props;\n    if (\n      !instructionOrExpression ||\n      instructionOrExpression.getParametersCount() === 0\n    )\n      return;\n\n    const objectName = instructionOrExpression.getParameter(0);\n    this._behaviorNames = gd\n      .getBehaviorsOfObject(\n        this.props.globalObjectsContainer,\n        this.props.objectsContainer,\n        objectName,\n        true\n      )\n      .toJSArray()\n      .filter(behaviorName => {\n        return (\n          !this._behaviorTypeAllowed ||\n          gd.getTypeOfBehavior(\n            this.props.globalObjectsContainer,\n            this.props.objectsContainer,\n            behaviorName\n          ) === this._behaviorTypeAllowed\n        );\n      });\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  _getError = (value?: string) => {\n    if (!value && !this.props.value) return null;\n\n    const isValidChoice =\n      this._behaviorNames.filter(choice => this.props.value === choice)\n        .length !== 0;\n\n    if (!isValidChoice) return 'This behavior is not attached to the object';\n\n    return null;\n  };\n\n  _doValidation = (value?: string) => {\n    this.setState({ errorText: this._getError(value) });\n  };\n\n  componentDidUpdate() {\n    const { instructionOrExpression } = this.props;\n    if (\n      !instructionOrExpression ||\n      instructionOrExpression.getParametersCount() === 0\n    )\n      return;\n\n    // This is a bit hacky:\n    // force the behavior selection if there is only one selectable behavior\n    if (this._behaviorNames.length === 1) {\n      if (this.props.value !== this._behaviorNames[0]) {\n        this.props.onChange(this._behaviorNames[0]);\n      }\n    }\n  }\n\n  render() {\n    this._updateBehaviorsList();\n\n    const noBehaviorErrorText =\n      this._behaviorTypeAllowed !== ''\n        ? 'The behavior is not attached to this object. Please select another object or add the behavior'\n        : 'This object has no behaviors: please add a behavior to the object first';\n\n    return (\n      <AutoComplete\n        {...defaultAutocompleteProps}\n        floatingLabelText={this._description}\n        errorText={\n          !this._behaviorNames.length\n            ? noBehaviorErrorText\n            : this.state.errorText\n        }\n        searchText={this.state.focused ? this.state.text : this.props.value}\n        onFocus={() => {\n          this.setState({\n            focused: true,\n            text: this.props.value,\n          });\n        }}\n        onUpdateInput={value => {\n          this.setState({\n            focused: true,\n            text: value,\n          });\n        }}\n        onBlur={event => {\n          this.props.onChange(event.target.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n          this._doValidation(event.target.value);\n        }}\n        onNewRequest={data => {\n          // Note that data may be a string or a {text, value} object.\n          if (typeof data === 'string') {\n            this.props.onChange(data);\n          } else if (typeof data.value === 'string') {\n            this.props.onChange(data.value);\n          }\n          this.focus(); // Keep the focus after choosing an item\n        }}\n        dataSource={this._behaviorNames.map(behaviorName => ({\n          text: behaviorName,\n          value: behaviorName,\n        }))}\n        openOnFocus={!this.props.isInline}\n        disabled={this._behaviorNames.length <= 1}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport VariableField from './VariableField';\nimport VariablesEditorDialog from '../../VariablesList/VariablesEditorDialog';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\ntype State = {|\n  editorOpen: boolean,\n|};\n\nexport default class SceneVariableField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  _field: ?VariableField;\n  state = {\n    editorOpen: false,\n  };\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { layout } = this.props;\n\n    return (\n      <React.Fragment>\n        <VariableField\n          variablesContainer={layout ? layout.getVariables() : null}\n          parameterMetadata={this.props.parameterMetadata}\n          value={this.props.value}\n          onChange={this.props.onChange}\n          isInline={this.props.isInline}\n          ref={field => (this._field = field)}\n          onOpenDialog={() => this.setState({ editorOpen: true })}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n        />\n        {this.state.editorOpen && layout && (\n          <VariablesEditorDialog\n            open={this.state.editorOpen}\n            variablesContainer={layout.getVariables()}\n            onCancel={() => this.setState({ editorOpen: false })}\n            onApply={() => {\n              this.setState({ editorOpen: false });\n              if (this._field) this._field.forceUpdateVariables();\n            }}\n            emptyExplanationMessage=\"Scene variables can be used to store any value or text during the game.\"\n            emptyExplanationSecondMessage=\"For example, you can have a variable called Score representing the current score of the player.\"\n          />\n        )}\n      </React.Fragment>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport VariableField from './VariableField';\nimport VariablesEditorDialog from '../../VariablesList/VariablesEditorDialog';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\ntype State = {|\n  editorOpen: boolean,\n|};\n\nexport default class GlobalVariableField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  _field: ?VariableField;\n  state = {\n    editorOpen: false,\n  };\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { project } = this.props;\n\n    return (\n      <div>\n        <VariableField\n          variablesContainer={project ? project.getVariables() : null}\n          parameterMetadata={this.props.parameterMetadata}\n          value={this.props.value}\n          onChange={this.props.onChange}\n          isInline={this.props.isInline}\n          ref={field => (this._field = field)}\n          onOpenDialog={() => this.setState({ editorOpen: true })}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n        />\n        {this.state.editorOpen && project && (\n          <VariablesEditorDialog\n            open={this.state.editorOpen}\n            variablesContainer={project.getVariables()}\n            onCancel={() => this.setState({ editorOpen: false })}\n            onApply={() => {\n              this.setState({ editorOpen: false });\n              if (this._field) this._field.forceUpdateVariables();\n            }}\n            emptyExplanationMessage=\"Global variables are variables that are persisted across the scenes during the game.\"\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport VariableField from './VariableField';\nimport VariablesEditorDialog from '../../VariablesList/VariablesEditorDialog';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\ntype State = {|\n  editorOpen: boolean,\n|};\n\nexport default class ObjectVariableField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  _field: ?VariableField;\n  state = {\n    editorOpen: false,\n  };\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { project, layout, instructionOrExpression } = this.props;\n\n    let variablesContainer = null;\n    if (\n      instructionOrExpression &&\n      instructionOrExpression.getParametersCount() > 0\n    ) {\n      const objectName = instructionOrExpression.getParameter(0);\n      if (layout && layout.hasObjectNamed(objectName)) {\n        variablesContainer = layout.getObject(objectName).getVariables();\n      } else if (project && project.hasObjectNamed(objectName)) {\n        variablesContainer = project.getObject(objectName).getVariables();\n      }\n    }\n\n    return (\n      <div>\n        <VariableField\n          variablesContainer={variablesContainer}\n          parameterMetadata={this.props.parameterMetadata}\n          value={this.props.value}\n          onChange={this.props.onChange}\n          isInline={this.props.isInline}\n          ref={field => (this._field = field)}\n          onOpenDialog={() => this.setState({ editorOpen: true })}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n        />\n        {this.state.editorOpen && variablesContainer && (\n          <VariablesEditorDialog\n            open={this.state.editorOpen}\n            variablesContainer={variablesContainer}\n            onCancel={() => this.setState({ editorOpen: false })}\n            onApply={() => {\n              this.setState({ editorOpen: false });\n              if (this._field) this._field.forceUpdateVariables();\n            }}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport { mapFor } from '../../Utils/MapFor';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nimport { defaultAutocompleteProps } from '../../UI/AutocompleteProps';\n\ntype State = {|\n  focused: boolean,\n  text: ?string,\n|};\n\nexport default class LayerField extends Component<ParameterFieldProps, State> {\n  state = { focused: false, text: null };\n\n  _description: ?string;\n  _field: ?any;\n  _layersNames: Array<string> = [];\n\n  constructor(props: ParameterFieldProps) {\n    super(props);\n\n    const { parameterMetadata } = this.props;\n    this._description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    this._loadNamesFrom(props);\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  componentWillReceiveProps(newProps: ParameterFieldProps) {\n    if (newProps.layout !== this.props.layout) {\n      this._loadNamesFrom(newProps);\n    }\n  }\n\n  _loadNamesFrom(props: ParameterFieldProps) {\n    const layout = props.layout;\n    if (!layout) {\n      this._layersNames = [];\n      return;\n    }\n\n    this._layersNames = mapFor(0, layout.getLayersCount(), i => {\n      const layer = layout.getLayerAt(i);\n      return layer.getName();\n    });\n  }\n\n  render() {\n    return (\n      <AutoComplete\n        {...defaultAutocompleteProps}\n        floatingLabelText={this._description}\n        searchText={this.state.focused ? this.state.text : this.props.value}\n        onFocus={() => {\n          this.setState({\n            focused: true,\n            text: this.props.value,\n          });\n        }}\n        onUpdateInput={value => {\n          this.setState({\n            focused: true,\n            text: value,\n          });\n        }}\n        onBlur={event => {\n          this.props.onChange(event.target.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n        }}\n        onNewRequest={data => {\n          // Note that data may be a string or a {text, value} object.\n          if (typeof data === 'string') {\n            this.props.onChange(data);\n          } else if (typeof data.value === 'string') {\n            this.props.onChange(data.value);\n          }\n          this.focus(); // Keep the focus after choosing an item\n        }}\n        dataSource={this._layersNames.map(layerName => ({\n          text: layerName || '(Base layer)',\n          value: `\"${layerName}\"`,\n        }))}\n        openOnFocus={!this.props.isInline}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport ResourceSelector from '../../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\nexport default class AudioResourceField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?ResourceSelector;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    if (\n      !this.props.resourceSources ||\n      !this.props.onChooseResource ||\n      !this.props.resourceExternalEditors ||\n      !this.props.project\n    ) {\n      console.error(\n        'Missing project, resourceSources, onChooseResource or resourceExternalEditors for AudioResourceField'\n      );\n      return null;\n    }\n\n    return (\n      <ResourceSelector\n        project={this.props.project}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        resourcesLoader={ResourcesLoader}\n        resourceKind=\"audio\"\n        fullWidth\n        initialResourceName={this.props.value}\n        onChange={this.props.onChange}\n        floatingLabelText={<Trans>Choose the audio file to use</Trans>}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport ResourceSelector from '../../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\nexport default class VideoResourceField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?ResourceSelector;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    if (\n      !this.props.resourceSources ||\n      !this.props.onChooseResource ||\n      !this.props.resourceExternalEditors ||\n      !this.props.project\n    ) {\n      console.error(\n        'Missing project, resourceSources, onChooseResource or resourceExternalEditors for VideoResourceField'\n      );\n      return null;\n    }\n\n    return (\n      <ResourceSelector\n        project={this.props.project}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        resourcesLoader={ResourcesLoader}\n        resourceKind=\"video\"\n        fullWidth\n        initialResourceName={this.props.value}\n        onChange={this.props.onChange}\n        floatingLabelText={<Trans>Choose the video file to use</Trans>}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nimport GenericExpressionField from './GenericExpressionField';\nimport ColorPicker from '../../UI/ColorField/ColorPicker';\n\nconst parseColor = (rgbColor: string) => {\n  const colors = rgbColor.replace(/\"/g, '').split(';');\n  if (colors.length !== 3) {\n    return null;\n  }\n\n  const r = parseInt(colors[0], 10);\n  const g = parseInt(colors[1], 10);\n  const b = parseInt(colors[2], 10);\n\n  // Check if parsing of number was done properly (if not,\n  // we receive NaN which is not equal to itself).\n  // eslint-disable-next-line\n  if (r !== r || g !== g || b !== b) return null;\n\n  return {\n    r,\n    g,\n    b,\n    a: 255,\n  };\n};\n\nexport default class ParameterColorField extends Component<ParameterFieldProps> {\n  _field: ?GenericExpressionField;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <GenericExpressionField\n        expressionType=\"string\"\n        ref={field => (this._field = field)}\n        renderExtraButton={({ style }) => (\n          <ColorPicker\n            style={style}\n            disableAlpha\n            color={parseColor(this.props.value)}\n            onChangeComplete={color => {\n              this.props.onChange(\n                '\"' + color.rgb.r + ';' + color.rgb.g + ';' + color.rgb.b + '\"'\n              );\n            }}\n          />\n        )}\n        {...this.props}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Line, Column } from '../../UI/Grid';\nimport { makeNonBreakable } from '../../Utils/StringHelpers';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nimport GenericExpressionField from './GenericExpressionField';\nimport BackgroundText from '../../UI/BackgroundText';\n\ntype State = {|\n  showDeprecatedNumericValue: boolean,\n|};\n\nexport default class ForceMultiplierField extends Component<\n  ParameterFieldProps,\n  State\n> {\n  state = {\n    showDeprecatedNumericValue:\n      this.props.value !== '' &&\n      this.props.value !== '1' &&\n      this.props.value !== '0',\n  };\n\n  focus() {}\n\n  render() {\n    const { showDeprecatedNumericValue } = this.state;\n    return (\n      <Column expand noMargin>\n        <Line expand alignItems=\"center\">\n          <Column>\n            <RaisedButton\n              label={makeNonBreakable('Instant')}\n              primary={this.props.value === '' || this.props.value === '0'}\n              onClick={() => this.props.onChange('0')}\n            />\n          </Column>\n          <Column>\n            <p>\n              <Trans>\n                The force will only push the object during the time of one\n                frame. Typically used in an event with no conditions or with\n                conditions that stay valid for a certain amount of time.\n              </Trans>\n            </p>\n          </Column>\n        </Line>\n        <Line expand alignItems=\"center\">\n          <Column>\n            <RaisedButton\n              label={<Trans>Permanent</Trans>}\n              primary={this.props.value === '1'}\n              onClick={() => this.props.onChange('1')}\n            />\n          </Column>\n          <Column>\n            <p>\n              <Trans>\n                The force will push the object forever, unless you use the\n                action \"Stop the object\". Typically used in an event with\n                conditions that are only true once, or with a \"Trigger Once\"\n                condition.\n              </Trans>\n            </p>\n          </Column>\n        </Line>\n        {showDeprecatedNumericValue && (\n          <React.Fragment>\n            <BackgroundText>\n              <Trans>or</Trans>\n            </BackgroundText>\n            <Line expand>\n              <Column expand>\n                <GenericExpressionField\n                  expressionType=\"number\"\n                  {...this.props}\n                />\n              </Column>\n            </Line>\n            <BackgroundText>\n              <Trans>\n                The usage of a number or expression is deprecated. Please now\n                use only \"Permanent\" or \"Instant\" for configuring forces.\n              </Trans>\n            </BackgroundText>\n          </React.Fragment>\n        )}\n      </Column>\n    );\n  }\n}\n\nexport const renderForceMultiplierString = (value: string) => {\n  if (value === '1') return 'a permanent';\n  else if (value === '0' || value === '') return 'an instant';\n\n  return 'a (multiplier: ' + value + ')';\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport TextField from 'material-ui/TextField';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n  disabledText,\n} from '../ClassNames';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    height: 40,\n    display: 'flex',\n    alignItems: 'center',\n    padding: 5,\n    overflow: 'hidden',\n  },\n  title: {\n    fontSize: 18,\n  },\n};\n\nexport default class GroupEvent extends React.Component<EventRendererProps, *> {\n  state = {\n    editing: false,\n  };\n  _textField: ?TextField = null;\n\n  edit = () => {\n    this.setState(\n      {\n        editing: true,\n      },\n      () => {\n        if (this._textField) this._textField.focus();\n      }\n    );\n  };\n\n  endEditing = () => {\n    this.setState({\n      editing: false,\n    });\n  };\n\n  render() {\n    var groupEvent = gd.asGroupEvent(this.props.event);\n\n    const r = groupEvent.getBackgroundColorR(),\n      g = groupEvent.getBackgroundColorG(),\n      b = groupEvent.getBackgroundColorB();\n\n    const textColor = (r + g + b) / 3 > 200 ? 'black' : 'white';\n\n    return (\n      <div\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n        })}\n        style={{\n          ...styles.container,\n          backgroundColor: `rgb(${r}, ${g}, ${b})`,\n        }}\n        onClick={this.edit}\n      >\n        {this.state.editing ? (\n          <TextField\n            ref={textField => (this._textField = textField)}\n            value={groupEvent.getName()}\n            hintText={<Trans>&lt;Enter group name&gt;</Trans>}\n            onBlur={this.endEditing}\n            onChange={(e, text) => {\n              groupEvent.setName(text);\n              this.forceUpdate();\n            }}\n            style={styles.title}\n            inputStyle={{\n              color: textColor,\n              WebkitTextFillColor: textColor,\n            }}\n            underlineFocusStyle={{\n              borderColor: textColor,\n            }}\n            fullWidth\n            id=\"group-title\"\n          />\n        ) : (\n          <span\n            className={classNames({\n              [selectableArea]: true,\n              [disabledText]: this.props.disabled,\n            })}\n            style={{ ...styles.title, color: textColor }}\n          >\n            {groupEvent.getName() || '<Enter group name>'}\n          </span>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\nimport { type EventRendererProps } from './EventRenderer.flow';\nimport { rgbToHex } from '../../../Utils/ColorTransformer';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n} from '../ClassNames';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    minHeight: 30,\n    display: 'flex',\n    backgroundColor: '#fbf3d9',\n  },\n  text: {\n    flex: 1,\n    whiteSpace: 'pre-line',\n    margin: 0,\n    padding: 5,\n  },\n  textArea: {\n    padding: 5,\n    flex: 1,\n    boxSizing: 'border-box',\n    width: '100%',\n    fontSize: 14,\n  },\n};\n\ntype State = {|\n  editing: boolean,\n  height: number,\n|};\n\nexport default class CommentEvent extends React.Component<\n  EventRendererProps,\n  State\n> {\n  state = {\n    editing: false,\n    height: 0,\n  };\n\n  _container: ?any;\n  _input: ?any;\n\n  edit = () => {\n    if (!this._container) return;\n\n    this.setState(\n      {\n        editing: true,\n        height: this._container.offsetHeight,\n      },\n      () => {\n        // $FlowFixMe\n        const input: ?HTMLInputElement = ReactDOM.findDOMNode(this._input);\n        if (input) {\n          input.focus();\n          input.value = gd.asCommentEvent(this.props.event).getComment();\n        }\n      }\n    );\n  };\n\n  endEditing = () => {\n    const commentEvent = gd.asCommentEvent(this.props.event);\n\n    // $FlowFixMe\n    const input: ?HTMLInputElement = ReactDOM.findDOMNode(this._input);\n    if (input) commentEvent.setComment(input.value);\n\n    this.setState(\n      {\n        editing: false,\n      },\n      () => this.props.onUpdate()\n    );\n  };\n\n  _getCommentHTML = () => {\n    const commentEvent = gd.asCommentEvent(this.props.event);\n    return commentEvent\n      .getComment()\n      .replace(/&/g, '&amp;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;')\n      .replace(/\\n/g, '<br>');\n  };\n\n  render() {\n    const commentEvent = gd.asCommentEvent(this.props.event);\n    const color = rgbToHex(\n      commentEvent.getBackgroundColorRed(),\n      commentEvent.getBackgroundColorGreen(),\n      commentEvent.getBackgroundColorBlue()\n    );\n    const textColor = rgbToHex(\n      commentEvent.getTextColorRed(),\n      commentEvent.getTextColorGreen(),\n      commentEvent.getTextColorBlue()\n    );\n\n    return (\n      <div\n        style={{ ...styles.container, backgroundColor: `#${color}` }}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n        })}\n        ref={container => (this._container = container)}\n      >\n        {!this.state.editing ? (\n          <p\n            className={classNames({\n              [selectableArea]: true,\n            })}\n            onClick={this.edit}\n            key=\"p\"\n            style={{ ...styles.text, color: `#${textColor}` }}\n            dangerouslySetInnerHTML={{\n              __html: this._getCommentHTML(),\n            }}\n          />\n        ) : (\n          <textarea\n            key=\"textarea\"\n            type=\"text\"\n            style={{ ...styles.textArea, height: this.state.height }}\n            onBlur={this.endEditing}\n            ref={input => (this._input = input)}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport InstructionsList from '../InstructionsList.js';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n  executableEventContainer,\n  disabledText,\n} from '../ClassNames';\nimport InlinePopover from '../../InlinePopover';\nimport ObjectField from '../../ParameterFields/ObjectField';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  instructionsContainer: {\n    display: 'flex',\n  },\n  actionsList: {\n    flex: 1,\n  },\n};\n\nexport default class ForEachEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  state = {\n    editing: false,\n    anchorEl: null,\n  };\n\n  edit = (domEvent: any) => {\n    this.setState({\n      editing: true,\n      anchorEl: domEvent.currentTarget,\n    });\n  };\n\n  endEditing = () => {\n    this.setState({\n      editing: false,\n      anchorEl: null,\n    });\n  };\n\n  render() {\n    var forEachEvent = gd.asForEachEvent(this.props.event);\n\n    const conditionsListSyle = {\n      width: `calc(35vw - ${this.props.leftIndentWidth}px)`,\n    };\n\n    const objectName = forEachEvent.getObjectToPick();\n    return (\n      <div\n        style={styles.container}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n          [executableEventContainer]: true,\n        })}\n      >\n        <div\n          className={classNames({\n            [selectableArea]: true,\n            [disabledText]: this.props.disabled,\n          })}\n          onClick={this.edit}\n        >\n          {objectName ? (\n            `Repeat for each ${objectName} object:`\n          ) : (\n            <i>Click to choose for which objects this event will be repeated</i>\n          )}\n        </div>\n        <div style={styles.instructionsContainer}>\n          <InstructionsList\n            instrsList={forEachEvent.getConditions()}\n            style={conditionsListSyle}\n            selection={this.props.selection}\n            areConditions\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n          />\n          <InstructionsList\n            instrsList={forEachEvent.getActions()}\n            style={styles.actionsList}\n            selection={this.props.selection}\n            areConditions={false}\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n          />\n        </div>\n        <InlinePopover\n          open={this.state.editing}\n          anchorEl={this.state.anchorEl}\n          onRequestClose={this.endEditing}\n        >\n          <ObjectField\n            project={this.props.project}\n            layout={this.props.layout}\n            globalObjectsContainer={this.props.globalObjectsContainer}\n            objectsContainer={this.props.objectsContainer}\n            value={objectName}\n            onChange={text => {\n              forEachEvent.setObjectToPick(text);\n              this.props.onUpdate();\n            }}\n            isInline\n          />\n        </InlinePopover>\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport InstructionsList from '../InstructionsList.js';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n  executableEventContainer,\n  disabledText,\n} from '../ClassNames';\nimport InlinePopover from '../../InlinePopover';\nimport DefaultField from '../../ParameterFields/DefaultField';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  instructionsContainer: {\n    display: 'flex',\n  },\n  actionsList: {\n    flex: 1,\n  },\n};\n\nexport default class RepeatEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  state = {\n    editing: false,\n    anchorEl: null,\n  };\n\n  edit = (domEvent: any) => {\n    this.setState({\n      editing: true,\n      anchorEl: domEvent.currentTarget,\n    });\n  };\n\n  endEditing = () => {\n    this.setState({\n      editing: false,\n      anchorEl: null,\n    });\n  };\n\n  render() {\n    var repeatEvent = gd.asRepeatEvent(this.props.event);\n\n    const conditionsListSyle = {\n      width: `calc(35vw - ${this.props.leftIndentWidth}px)`,\n    };\n\n    const expression = repeatEvent.getRepeatExpression();\n    return (\n      <div\n        style={styles.container}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n          [executableEventContainer]: true,\n        })}\n      >\n        <div\n          className={classNames({\n            [selectableArea]: true,\n            [disabledText]: this.props.disabled,\n          })}\n          onClick={this.edit}\n        >\n          {expression ? (\n            `Repeat ${expression} times:`\n          ) : (\n            <i>Click to choose how many times will be repeated</i>\n          )}\n        </div>\n        <div style={styles.instructionsContainer}>\n          <InstructionsList\n            instrsList={repeatEvent.getConditions()}\n            style={conditionsListSyle}\n            selection={this.props.selection}\n            areConditions\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n          />\n          <InstructionsList\n            instrsList={repeatEvent.getActions()}\n            style={styles.actionsList}\n            selection={this.props.selection}\n            areConditions={false}\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n          />\n        </div>\n        <InlinePopover\n          open={this.state.editing}\n          anchorEl={this.state.anchorEl}\n          onRequestClose={this.endEditing}\n        >\n          <DefaultField\n            project={this.props.project}\n            globalObjectsContainer={this.props.globalObjectsContainer}\n            objectsContainer={this.props.objectsContainer}\n            layout={this.props.layout}\n            value={expression}\n            onChange={text => {\n              repeatEvent.setRepeatExpression(text);\n              this.props.onUpdate();\n            }}\n            isInline\n          />\n        </InlinePopover>\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport InstructionsList from '../InstructionsList';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  executableEventContainer,\n  disabledText,\n} from '../ClassNames';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  instructionsContainer: {\n    display: 'flex',\n  },\n  actionsList: {\n    flex: 1,\n  },\n};\n\nexport default class ForEachEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  render() {\n    var whileEvent = gd.asWhileEvent(this.props.event);\n\n    const conditionsListSyle = {\n      width: `calc(35vw - ${this.props.leftIndentWidth}px)`,\n    };\n\n    return (\n      <div\n        style={styles.container}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n          [executableEventContainer]: true,\n        })}\n      >\n        <div\n          className={classNames({\n            [disabledText]: this.props.disabled,\n          })}\n        >\n          While these conditions are true:\n        </div>\n        <InstructionsList\n          instrsList={whileEvent.getWhileConditions()}\n          selection={this.props.selection}\n          areConditions\n          onAddNewInstruction={this.props.onAddNewInstruction}\n          onMoveToInstruction={this.props.onMoveToInstruction}\n          onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n          onInstructionClick={this.props.onInstructionClick}\n          onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n          onInstructionContextMenu={this.props.onInstructionContextMenu}\n          onInstructionsListContextMenu={\n            this.props.onInstructionsListContextMenu\n          }\n          onParameterClick={this.props.onParameterClick}\n          disabled={this.props.disabled}\n        />\n        <div\n          className={classNames({\n            [disabledText]: this.props.disabled,\n          })}\n        >\n          Repeat these:\n        </div>\n        <div style={styles.instructionsContainer}>\n          <InstructionsList\n            instrsList={whileEvent.getConditions()}\n            style={conditionsListSyle}\n            selection={this.props.selection}\n            areConditions\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n          />\n          <InstructionsList\n            instrsList={whileEvent.getActions()}\n            style={styles.actionsList}\n            selection={this.props.selection}\n            areConditions={false}\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\nimport IconButton from 'material-ui/IconButton';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n  linkContainer,\n  disabledText,\n} from '../ClassNames';\nimport InlinePopover from '../../InlinePopover';\nimport ExternalEventsField from '../../ParameterFields/ExternalEventsField';\nimport { showWarningBox } from '../../../UI/Messages/MessageBox';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    height: 60,\n    display: 'flex',\n    alignItems: 'center',\n    padding: 5,\n  },\n  title: {\n    fontSize: 18,\n  },\n};\n\nexport default class LinkEvent extends React.Component<EventRendererProps, *> {\n  _externalEventsField = null;\n\n  state = {\n    editing: false,\n    anchorEl: null,\n  };\n\n  edit = (domEvent: any) => {\n    this.setState(\n      {\n        editing: true,\n        anchorEl: domEvent.currentTarget,\n      },\n      () => {\n        if (this._externalEventsField) this._externalEventsField.focus();\n      }\n    );\n  };\n\n  openTarget = (i18n: I18nType) => {\n    const { project, event, onOpenLayout, onOpenExternalEvents } = this.props;\n    const linkEvent = gd.asLinkEvent(event);\n    const target = linkEvent.getTarget();\n\n    if (project.hasExternalEventsNamed(target)) {\n      onOpenExternalEvents(target);\n    } else if (project.hasLayoutNamed(target)) {\n      onOpenLayout(target);\n    } else {\n      showWarningBox(\n        i18n._(\n          t`The specified external events do not exist in the game. Be sure that the name is correctly spelled or create them using the project manager.`\n        )\n      );\n    }\n  };\n\n  endEditing = () => {\n    this.setState({\n      editing: false,\n      anchorEl: null,\n    });\n  };\n\n  render() {\n    const linkEvent = gd.asLinkEvent(this.props.event);\n    const target = linkEvent.getTarget();\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <div\n            className={classNames({\n              [largeSelectableArea]: true,\n              [largeSelectedArea]: this.props.selected,\n              [linkContainer]: true,\n            })}\n            style={styles.container}\n          >\n            <span\n              style={styles.title}\n              className={classNames({\n                [disabledText]: this.props.disabled,\n              })}\n            >\n              <Trans>Include events from</Trans>{' '}\n              <i\n                className={classNames({\n                  [selectableArea]: true,\n                })}\n                onClick={this.edit}\n              >\n                {target || (\n                  <Trans>&lt; Enter the name of external events &gt;</Trans>\n                )}\n              </i>\n            </span>\n            <IconButton\n              onClick={() => this.openTarget(i18n)}\n              disabled={!target}\n            >\n              <OpenInNew />\n            </IconButton>\n            <InlinePopover\n              open={this.state.editing}\n              anchorEl={this.state.anchorEl}\n              onRequestClose={this.endEditing}\n            >\n              <ExternalEventsField\n                project={this.props.project}\n                globalObjectsContainer={this.props.globalObjectsContainer}\n                objectsContainer={this.props.objectsContainer}\n                value={target}\n                onChange={text => {\n                  linkEvent.setTarget(text);\n                  this.props.onUpdate();\n                }}\n                isInline\n                ref={externalEventsField =>\n                  (this._externalEventsField = externalEventsField)\n                }\n              />\n            </InlinePopover>\n          </div>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport Divider from 'material-ui/Divider';\nimport {\n  enumerateLayouts,\n  enumerateExternalEvents,\n} from '../../ProjectManager/EnumerateProjectItems';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nimport { defaultAutocompleteProps } from '../../UI/AutocompleteProps';\n\ntype State = {|\n  focused: boolean,\n  text: ?string,\n|};\n\nexport default class ExternalEventsField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  state = { focused: false, text: null };\n\n  _description: ?string = undefined;\n  _fullList: Array<{ text: string, value: React.Node }> = [];\n  _field: ?any;\n\n  constructor(props: ParameterFieldProps) {\n    super(props);\n\n    const { parameterMetadata } = this.props;\n    this._description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    this._loadNamesFrom(props);\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  componentWillReceiveProps(newProps: ParameterFieldProps) {\n    if (newProps.project !== this.props.project) {\n      this._loadNamesFrom(newProps);\n    }\n  }\n\n  _loadNamesFrom(props: ParameterFieldProps) {\n    const { project } = props;\n    if (!project) {\n      return;\n    }\n\n    const externalEvents = enumerateExternalEvents(project).map(\n      externalEvents => ({\n        text: externalEvents.getName(),\n        value: externalEvents.getName(),\n      })\n    );\n    const layouts = enumerateLayouts(project).map(layout => ({\n      text: layout.getName(),\n      value: layout.getName(),\n    }));\n    this._fullList = [\n      ...externalEvents,\n      { text: '', value: <Divider /> },\n      ...layouts,\n    ];\n  }\n\n  render() {\n    return (\n      <AutoComplete\n        {...defaultAutocompleteProps}\n        floatingLabelText={this._description}\n        id=\"external-events-field\"\n        searchText={this.state.focused ? this.state.text : this.props.value}\n        onFocus={() => {\n          this.setState({\n            focused: true,\n            text: this.props.value,\n          });\n        }}\n        onUpdateInput={value => {\n          this.setState({\n            focused: true,\n            text: value,\n          });\n        }}\n        onBlur={event => {\n          this.props.onChange(event.target.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n        }}\n        onNewRequest={data => {\n          // Note that data may be a string or a {text, value} object.\n          if (typeof data === 'string') {\n            this.props.onChange(data);\n          } else if (typeof data.value === 'string') {\n            this.props.onChange(data.value);\n          }\n          this.focus(); // Keep the focus after choosing an item\n        }}\n        dataSource={this._fullList}\n        openOnFocus={!this.props.isInline}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\nimport InlinePopover from '../../InlinePopover';\nimport ObjectField from '../../ParameterFields/ObjectField';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n} from '../ClassNames';\nimport { getHelpLink } from '../../../Utils/HelpLink';\nimport { type EventRendererProps } from './EventRenderer.flow';\nimport Measure from 'react-measure';\nimport { CodeEditor } from '../../../CodeEditor';\nconst gd = global.gd;\n\nconst fontFamily = '\"Lucida Console\", Monaco, monospace';\n\nconst styles = {\n  container: {\n    minHeight: 30,\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: '#1e1e1e',\n  },\n  wrappingText: {\n    fontFamily,\n    fontSize: '12px',\n    paddingLeft: 5,\n    paddingRight: 5,\n    margin: 0,\n    backgroundColor: '#1e1e1e',\n    color: '#d4d4d4',\n    overflowX: 'hidden',\n    maxWidth: '100%',\n  },\n  comment: {\n    color: '#777',\n  },\n  commentLink: {\n    cursor: 'pointer',\n    color: '#777',\n    textDecoration: 'underline',\n  },\n};\n\nexport default class JsCodeEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  state = {\n    width: 0,\n    editing: false,\n    editingObject: false,\n    anchorEl: null,\n  };\n\n  _input: ?any;\n  _container: ?any;\n\n  edit = () => {\n    if (!this._container) return;\n\n    this.setState(\n      {\n        editing: true,\n        height: this._container.offsetHeight,\n      },\n      () => {\n        // $FlowFixMe\n        const input: ?HTMLInputElement = ReactDOM.findDOMNode(this._input);\n        if (input) {\n          input.focus();\n          input.value = gd.asJsCodeEvent(this.props.event).getInlineCode();\n        }\n      }\n    );\n  };\n\n  endEditing = () => {\n    const jsCodeEvent = gd.asJsCodeEvent(this.props.event);\n\n    // $FlowFixMe\n    const input: ?HTMLInputElement = ReactDOM.findDOMNode(this._input);\n    if (input) jsCodeEvent.setInlineCode(input.value);\n\n    this.setState(\n      {\n        editing: false,\n      },\n      () => this.props.onUpdate()\n    );\n  };\n\n  onChange = (newValue: string) => {\n    const jsCodeEvent = gd.asJsCodeEvent(this.props.event);\n    jsCodeEvent.setInlineCode(newValue);\n  };\n\n  editObject = (domEvent: any) => {\n    this.setState({\n      editingObject: true,\n      anchorEl: domEvent.currentTarget,\n    });\n  };\n\n  endObjectEditing = () => {\n    this.setState({\n      editingObject: false,\n      anchorEl: null,\n    });\n  };\n\n  render() {\n    const jsCodeEvent = gd.asJsCodeEvent(this.props.event);\n    const parameterObjects = jsCodeEvent.getParameterObjects();\n    const objects = (\n      <span\n        className={classNames({\n          [selectableArea]: true,\n        })}\n        onClick={this.editObject}\n      >\n        {parameterObjects\n          ? `, objects /*${parameterObjects}*/`\n          : ' /* Click here to choose objects to pass to JavaScript */'}\n      </span>\n    );\n    const functionStart = (\n      <p style={styles.wrappingText}>\n        <span>{'(function(runtimeScene'}</span>\n        {objects}\n        <span>{') {'}</span>\n      </p>\n    );\n    const functionEnd = (\n      <p style={styles.wrappingText}>\n        <span>{'})(runtimeScene'}</span>\n        {objects}\n        <span>{');'}</span>\n        <span style={styles.comment}>\n          {' // '}\n          <a\n            href={getHelpLink('/events/js-code')}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            style={styles.commentLink}\n          >\n            Read the documentation and help\n          </a>\n        </span>\n      </p>\n    );\n\n    return (\n      <Measure onMeasure={({ width }) => this.setState({ width })}>\n        <div\n          style={styles.container}\n          className={classNames({\n            [largeSelectableArea]: true,\n            [largeSelectedArea]: this.props.selected,\n          })}\n          ref={container => (this._container = container)}\n        >\n          {functionStart}\n          <CodeEditor\n            value={jsCodeEvent.getInlineCode()}\n            onChange={this.onChange}\n            width={this.state.width}\n            onEditorMounted={() => this.props.onUpdate()}\n          />\n          {functionEnd}\n          <InlinePopover\n            open={this.state.editingObject}\n            anchorEl={this.state.anchorEl}\n            onRequestClose={this.endObjectEditing}\n          >\n            <ObjectField\n              project={this.props.project}\n              layout={this.props.layout}\n              globalObjectsContainer={this.props.globalObjectsContainer}\n              objectsContainer={this.props.objectsContainer}\n              value={parameterObjects}\n              onChange={text => {\n                jsCodeEvent.setParameterObjects(text);\n                this.props.onUpdate();\n              }}\n              isInline\n            />\n          </InlinePopover>\n        </div>\n      </Measure>\n    );\n  }\n}\n","// @flow\n\ntype WatchedComponent = {\n  +onHeightsChanged: Function => void,\n};\n\n/**\n * Store the height of events and notify a component whenever\n * heights have changed.\n * Needed for EventsTree as we need to tell it when heights have changed\n * so it can recompute the internal row heights of the react-virtualized List.\n */\nexport default class EventHeightsCache {\n  eventHeights = {};\n  updateTimeoutId: ?TimeoutID = null;\n  component: ?WatchedComponent = null;\n\n  constructor(component: WatchedComponent) {\n    this.component = component;\n  }\n\n  _notifyComponent() {\n    if (this.updateTimeoutId) {\n      return; // An update is already scheduled.\n    }\n\n    // Notify the component, on the next tick, that heights have changed\n    this.updateTimeoutId = setTimeout(() => {\n      if (this.component) {\n        this.component.onHeightsChanged(() => (this.updateTimeoutId = null));\n      } else {\n        this.updateTimeoutId = null;\n      }\n    }, 0);\n  }\n\n  setEventHeight(event: gdBaseEvent, height: number) {\n    const cachedHeight = this.eventHeights[event.ptr];\n    if (cachedHeight === undefined || cachedHeight !== height) {\n      // console.log(event.ptr, 'has a new height', height, 'old:', cachedHeight);\n      this._notifyComponent();\n    }\n\n    this.eventHeights[event.ptr] = height;\n  }\n\n  getEventHeight(event: gdBaseEvent): number {\n    return this.eventHeights[event.ptr] || 60;\n  }\n}\n","// @flow\nimport { type InstructionOrExpressionInformation } from './InstructionOrExpressionInformation.flow.js';\nconst gd = global.gd;\n\nconst GROUP_DELIMITER = '/';\n\nconst enumerateExtensionInstructions = (\n  groupPrefix: string,\n  extensionInstructions\n): Array<InstructionOrExpressionInformation> => {\n  //Get the map containing the metadata of the instructions provided by the extension...\n  var instructionsTypes = extensionInstructions.keys();\n  const allInstructions = [];\n\n  //... and add each instruction\n  for (let j = 0; j < instructionsTypes.size(); ++j) {\n    const instrMetadata = extensionInstructions.get(instructionsTypes.get(j));\n    if (instrMetadata.isHidden()) continue;\n\n    const displayedName = instrMetadata.getFullName();\n    const groupName = instrMetadata.getGroup();\n    const iconFilename = instrMetadata.getIconFilename();\n    const fullGroupName = groupPrefix + groupName;\n\n    allInstructions.push({\n      type: instructionsTypes.get(j),\n      metadata: instrMetadata,\n      iconFilename,\n      displayedName,\n      fullGroupName,\n    });\n  }\n\n  return allInstructions;\n};\n\nexport const enumerateInstructions = (\n  isCondition: boolean\n): Array<InstructionOrExpressionInformation> => {\n  let allInstructions = [];\n\n  const allExtensions = gd\n    .asPlatform(gd.JsPlatform.get())\n    .getAllPlatformExtensions();\n  for (let i = 0; i < allExtensions.size(); ++i) {\n    const extension = allExtensions.get(i);\n    const allObjectsTypes = extension.getExtensionObjectsTypes();\n    const allBehaviorsTypes = extension.getBehaviorsTypes();\n\n    let prefix = '';\n    if (allObjectsTypes.size() > 0 || allBehaviorsTypes.size() > 0) {\n      prefix =\n        extension.getName() === 'BuiltinObject'\n          ? 'Common ' +\n            (isCondition ? 'conditions' : 'actions') +\n            ' for all objects'\n          : extension.getFullName();\n      prefix += GROUP_DELIMITER;\n    }\n\n    //Free instructions\n    allInstructions = [\n      ...allInstructions,\n      ...enumerateExtensionInstructions(\n        prefix,\n        isCondition ? extension.getAllConditions() : extension.getAllActions()\n      ),\n    ];\n\n    //Objects instructions:\n    for (let j = 0; j < allObjectsTypes.size(); ++j) {\n      allInstructions = [\n        ...allInstructions,\n        ...enumerateExtensionInstructions(\n          prefix,\n          isCondition\n            ? extension.getAllConditionsForObject(allObjectsTypes.get(j))\n            : extension.getAllActionsForObject(allObjectsTypes.get(j))\n        ),\n      ];\n    }\n\n    //Behaviors instructions:\n    for (let j = 0; j < allBehaviorsTypes.size(); ++j) {\n      allInstructions = [\n        ...allInstructions,\n        ...enumerateExtensionInstructions(\n          prefix,\n          isCondition\n            ? extension.getAllConditionsForBehavior(allBehaviorsTypes.get(j))\n            : extension.getAllActionsForBehavior(allBehaviorsTypes.get(j))\n        ),\n      ];\n    }\n  }\n\n  return allInstructions;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport Divider from 'material-ui/Divider';\nimport Toggle from 'material-ui/Toggle';\nimport { mapFor } from '../../Utils/MapFor';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport ParameterRenderingService from '../ParameterRenderingService';\nimport HelpButton from '../../UI/HelpButton';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../ResourcesList/ResourceExternalEditor.flow';\nimport { Line } from '../../UI/Grid';\nimport AlertMessage from '../../UI/AlertMessage';\nimport { getExtraInstructionInformation } from '../../Hints';\nimport { isAnEventFunctionMetadata } from '../../EventsFunctionsExtensionsLoader';\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\nimport IconButton from 'material-ui/IconButton';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1,\n  },\n  emptyContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  parametersContainer: {\n    flex: 1,\n    overflowY: 'auto',\n  },\n  icon: {\n    width: 24,\n    height: 24,\n    marginRight: 8,\n    flexShrink: 0,\n  },\n  invertToggle: {\n    marginTop: 8,\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  layout: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  instruction: gdInstruction,\n  isCondition: boolean,\n  focusOnMount?: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  style?: Object,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n|};\ntype State = {|\n  isDirty: boolean,\n|};\n\nexport default class InstructionParametersEditor extends React.Component<\n  Props,\n  State\n> {\n  _firstVisibleField: ?any = {};\n  state = {\n    isDirty: false,\n  };\n\n  componentDidMount() {\n    if (this.props.focusOnMount) {\n      setTimeout(() => {\n        this.focus();\n      }, 300); // Let the time to the dialog that is potentially containing the InstructionParametersEditor to finish its transition.\n    }\n  }\n\n  focus() {\n    // Verify that there is a field to focus.\n    if (\n      this._getNonCodeOnlyParametersCount(this._getInstructionMetadata()) !== 0\n    ) {\n      if (this._firstVisibleField && this._firstVisibleField.focus) {\n        this._firstVisibleField.focus();\n      }\n    }\n  }\n\n  _getNonCodeOnlyParametersCount(instructionMetadata: ?gdInstructionMetadata) {\n    if (!instructionMetadata) return 0;\n\n    return mapFor(0, instructionMetadata.getParametersCount(), i => {\n      if (!instructionMetadata) return false;\n\n      const parameterMetadata = instructionMetadata.getParameter(i);\n      return !parameterMetadata.isCodeOnly();\n    }).filter(isVisible => isVisible).length;\n  }\n\n  _getInstructionMetadata = (): ?gdInstructionMetadata => {\n    const { instruction, isCondition, project } = this.props;\n    const type = instruction.getType();\n    if (!type) return null;\n\n    return isCondition\n      ? gd.MetadataProvider.getConditionMetadata(\n          project.getCurrentPlatform(),\n          type\n        )\n      : gd.MetadataProvider.getActionMetadata(\n          project.getCurrentPlatform(),\n          type\n        );\n  };\n\n  _openExtension = (i18n: I18nType) => {\n    if (this.state.isDirty) {\n      //eslint-disable-next-line\n      const answer = confirm(\n        i18n._(\n          t`You've made some changes here. Are you sure you want to discard them and open the function?`\n        )\n      );\n      if (!answer) return;\n    }\n\n    const { instruction, isCondition, project } = this.props;\n    const type = instruction.getType();\n    if (!type) return null;\n\n    const extension = isCondition\n      ? gd.MetadataProvider.getExtensionAndConditionMetadata(\n          project.getCurrentPlatform(),\n          type\n        ).getExtension()\n      : gd.MetadataProvider.getExtensionAndActionMetadata(\n          project.getCurrentPlatform(),\n          type\n        ).getExtension();\n\n    this.props.openInstructionOrExpression(extension, type);\n  };\n\n  _renderEmpty() {\n    return (\n      <div style={{ ...styles.emptyContainer, ...this.props.style }}>\n        <EmptyMessage>\n          {this.props.isCondition\n            ? 'Choose a condition on the left'\n            : 'Choose an action on the left'}\n        </EmptyMessage>\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      instruction,\n      project,\n      layout,\n      globalObjectsContainer,\n      objectsContainer,\n    } = this.props;\n\n    const type = instruction.getType();\n    const instructionMetadata = this._getInstructionMetadata();\n    if (!instructionMetadata) return this._renderEmpty();\n\n    const helpPage = instructionMetadata.getHelpPath();\n\n    const instructionExtraInformation = getExtraInstructionInformation(type);\n\n    //TODO?\n    instruction.setParametersCount(instructionMetadata.getParametersCount());\n\n    let parameterFieldIndex = 0;\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <div style={styles.container}>\n            <Line alignItems=\"center\">\n              <img\n                src={instructionMetadata.getIconFilename()}\n                alt=\"\"\n                style={styles.icon}\n              />\n              <p>{instructionMetadata.getDescription()}</p>\n              {isAnEventFunctionMetadata(instructionMetadata) && (\n                <IconButton onClick={() => this._openExtension(i18n)}>\n                  <OpenInNew />\n                </IconButton>\n              )}\n            </Line>\n            {instructionExtraInformation && (\n              <Line>\n                <AlertMessage kind=\"warning\">\n                  {i18n._(instructionExtraInformation.warning)}\n                </AlertMessage>\n              </Line>\n            )}\n            <Divider />\n            <div key={type} style={styles.parametersContainer}>\n              {mapFor(0, instructionMetadata.getParametersCount(), i => {\n                const parameterMetadata = instructionMetadata.getParameter(i);\n                const parameterMetadataType = parameterMetadata.getType();\n                const ParameterComponent = ParameterRenderingService.getParameterComponent(\n                  parameterMetadataType\n                );\n\n                if (parameterMetadata.isCodeOnly()) return null;\n                if (!ParameterComponent) {\n                  console.warn(\n                    'Missing parameter component for',\n                    parameterMetadataType\n                  );\n                  return null;\n                }\n\n                // Track the field count on screen, to affect the ref to the\n                // first visible field.\n                const isFirstVisibleParameterField = parameterFieldIndex === 0;\n                parameterFieldIndex++;\n\n                return (\n                  <ParameterComponent\n                    parameterMetadata={parameterMetadata}\n                    project={project}\n                    layout={layout}\n                    globalObjectsContainer={globalObjectsContainer}\n                    objectsContainer={objectsContainer}\n                    value={instruction.getParameter(i)}\n                    instructionOrExpression={instruction}\n                    key={i}\n                    onChange={value => {\n                      if (instruction.getParameter(i) !== value) {\n                        instruction.setParameter(i, value);\n                        this.setState({\n                          isDirty: true,\n                        });\n                      }\n                    }}\n                    parameterRenderingService={ParameterRenderingService}\n                    resourceSources={this.props.resourceSources}\n                    onChooseResource={this.props.onChooseResource}\n                    resourceExternalEditors={this.props.resourceExternalEditors}\n                    ref={field => {\n                      if (isFirstVisibleParameterField) {\n                        this._firstVisibleField = field;\n                      }\n                    }}\n                  />\n                );\n              })}\n              {this._getNonCodeOnlyParametersCount(instructionMetadata) ===\n                0 && (\n                <EmptyMessage>\n                  <Trans>There is nothing to configure.</Trans>\n                </EmptyMessage>\n              )}\n              {this.props.isCondition && (\n                <Toggle\n                  label={<Trans>Invert condition</Trans>}\n                  labelPosition=\"right\"\n                  toggled={instruction.isInverted()}\n                  style={styles.invertToggle}\n                  onToggle={(e, enabled) => {\n                    instruction.setInverted(enabled);\n                    this.forceUpdate();\n                  }}\n                />\n              )}\n            </div>\n            <Line>\n              {helpPage && (\n                <HelpButton\n                  helpPagePath={instructionMetadata.getHelpPath()}\n                  label={\n                    this.props.isCondition ? (\n                      <Trans>Help for this condition</Trans>\n                    ) : (\n                      <Trans>Help for this action</Trans>\n                    )\n                  }\n                />\n              )}\n            </Line>\n          </div>\n        )}\n      </I18n>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport { adaptAcceleratorString } from '../UI/AcceleratorString';\n\nexport class Toolbar extends PureComponent {\n  render() {\n    const t = str => str; //TODO\n\n    return (\n      <ToolbarGroup lastChild>\n        {this.props.showPreviewButton && (\n          <ToolbarIcon\n            onClick={this.props.onPreview}\n            src=\"res/ribbon_default/preview32.png\"\n            tooltip={t('Launch a preview of the scene')}\n          />\n        )}\n        {this.props.showNetworkPreviewButton && (\n          <IconMenu\n            iconButtonElement={\n              <ToolbarIcon\n                src=\"res/ribbon_default/bug32.png\"\n                tooltip={t(\n                  'Advanced preview options (debugger, network preview...)'\n                )}\n              />\n            }\n            buildMenuTemplate={() => [\n              {\n                label: 'Network preview (Preview over WiFi/LAN)',\n                click: () => this.props.onNetworkPreview(),\n              },\n              { type: 'separator' },\n              {\n                label: 'Preview with debugger and performance profiler',\n                click: () => this.props.onOpenDebugger(),\n              },\n            ]}\n          />\n        )}\n        {this.props.showPreviewButton && <ToolbarSeparator />}\n        <ToolbarIcon\n          onClick={this.props.onAddStandardEvent}\n          src=\"res/ribbon_default/eventadd32.png\"\n          tooltip={t('Add a new empty event')}\n        />\n        <ToolbarIcon\n          onClick={this.props.onAddSubEvent}\n          src=\"res/ribbon_default/subeventadd32.png\"\n          disabled={!this.props.canAddSubEvent}\n          tooltip={t('Add a sub-event to the selected event')}\n        />\n        <ToolbarIcon\n          onClick={this.props.onAddCommentEvent}\n          src=\"res/ribbon_default/commentaireadd32.png\"\n          tooltip={t('Add a comment')}\n        />\n        <IconMenu\n          iconButtonElement={\n            <ToolbarIcon\n              src=\"res/ribbon_default/add32.png\"\n              tooltip={t('Choose and add an event')}\n            />\n          }\n          buildMenuTemplate={() =>\n            this.props.allEventsMetadata.map(metadata => {\n              return {\n                label: metadata.fullName,\n                click: () => this.props.onAddEvent(metadata.type),\n              };\n            })\n          }\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.onRemove}\n          src=\"res/ribbon_default/deleteselected32.png\"\n          disabled={!this.props.canRemove}\n          tooltip={t('Delete the selected event(s)')}\n        />\n        <ToolbarIcon\n          onClick={this.props.undo}\n          src=\"res/ribbon_default/undo32.png\"\n          disabled={!this.props.canUndo}\n          tooltip={t('Undo the last changes')}\n        />\n        <ToolbarIcon\n          onClick={this.props.redo}\n          src=\"res/ribbon_default/redo32.png\"\n          disabled={!this.props.canRedo}\n          tooltip={t('Redo the last changes')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={() => this.props.onToggleSearchPanel()}\n          src=\"res/ribbon_default/search32.png\"\n          tooltip={`${t('Search in events')} ${adaptAcceleratorString(\n            'CmdOrCtrl+F'\n          )}`}\n        />\n        {this.props.onOpenSettings && <ToolbarSeparator />}\n        {this.props.onOpenSettings && (\n          <ToolbarIcon\n            onClick={this.props.onOpenSettings}\n            src=\"res/ribbon_default/pref32.png\"\n            tooltip={t('Open settings')}\n          />\n        )}\n      </ToolbarGroup>\n    );\n  }\n}\n\nexport default Toolbar;\n","// @flow\nimport * as React from 'react';\nimport InlinePopover from './InlinePopover';\nimport ParameterRenderingService from './ParameterRenderingService';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  layout: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n\n  open: boolean,\n  onRequestClose: () => void,\n  onChange: string => void,\n\n  instruction: ?gdInstruction,\n  isCondition: boolean,\n  parameterIndex: number,\n\n  anchorEl: ?any,\n\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n|};\n\ntype State = {|\n  isValid: boolean,\n  parameterMetadata: ?gdParameterMetadata,\n  ParameterComponent: ?any,\n|};\n\nexport default class InlineParameterEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    isValid: false,\n    parameterMetadata: null,\n    ParameterComponent: null,\n  };\n\n  _field: ?any;\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (newProps.open && !this.props.open) ||\n      newProps.instruction !== this.props.instruction\n    ) {\n      this._loadComponentFromInstruction(newProps);\n    }\n  }\n\n  _unload() {\n    this.setState({\n      ParameterComponent: null,\n      parameterMetadata: null,\n    });\n  }\n\n  _loadComponentFromInstruction(props: Props) {\n    const { project, isCondition, instruction, parameterIndex } = props;\n    if (!instruction) return this._unload();\n\n    const type = instruction.getType();\n    const instructionMetadata = isCondition\n      ? gd.MetadataProvider.getConditionMetadata(\n          project.getCurrentPlatform(),\n          type\n        )\n      : gd.MetadataProvider.getActionMetadata(\n          project.getCurrentPlatform(),\n          type\n        );\n\n    if (parameterIndex >= instructionMetadata.getParametersCount())\n      return this._unload();\n\n    const parameterMetadata = instructionMetadata.getParameter(parameterIndex);\n    const ParameterComponent = ParameterRenderingService.getParameterComponent(\n      parameterMetadata.getType()\n    );\n    this.setState(\n      {\n        ParameterComponent,\n        parameterMetadata,\n      },\n      () => {\n        if (this._field && this._field.focus) this._field.focus();\n      }\n    );\n  }\n\n  render() {\n    if (!this.state.ParameterComponent || !this.props.open) return null;\n    const instruction = this.props.instruction;\n    if (!instruction) return null;\n\n    const { ParameterComponent } = this.state;\n\n    return (\n      <InlinePopover\n        open={this.props.open}\n        anchorEl={this.props.anchorEl}\n        onRequestClose={this.props.onRequestClose}\n      >\n        <ParameterComponent\n          parameterMetadata={this.state.parameterMetadata}\n          project={this.props.project}\n          layout={this.props.layout}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n          value={instruction.getParameter(this.props.parameterIndex)}\n          instructionOrExpression={instruction}\n          key={instruction.ptr}\n          onChange={this.props.onChange}\n          ref={field => (this._field = field)}\n          parameterRenderingService={ParameterRenderingService}\n          isInline\n          resourceSources={this.props.resourceSources}\n          onChooseResource={this.props.onChooseResource}\n          resourceExternalEditors={this.props.resourceExternalEditors}\n        />\n      </InlinePopover>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport PlaceholderMessage from '../UI/PlaceholderMessage';\nimport HelpButton from '../UI/HelpButton';\n\nconst EmptyEventsPlaceholder = () => (\n  <PlaceholderMessage>\n    <p>\n      <Trans>\n        There are no events here. Events are composed of conditions and actions.\n      </Trans>\n    </p>\n    <p>\n      <Trans>\n        Add your first event using the first buttons of the toolbar.\n      </Trans>\n    </p>\n    <HelpButton helpPagePath=\"/events\" />\n  </PlaceholderMessage>\n);\n\nexport default EmptyEventsPlaceholder;\n","//@flow\nconst gd = global.gd;\n\nexport const ensureSingleOnceInstructions = (\n  instructionsList: gdInstructionsList\n) => {\n  let hasEndingOnceInstruction = false;\n  let hasInvalidOnce = false;\n  for (let i = instructionsList.size() - 1; i >= 0; --i) {\n    const instruction = instructionsList.get(i);\n    if (i === instructionsList.size() - 1) {\n      if (instruction.getType() === 'BuiltinCommonInstructions::Once') {\n        hasEndingOnceInstruction = true;\n      }\n    } else {\n      if (instruction.getType() === 'BuiltinCommonInstructions::Once') {\n        instructionsList.removeAt(i);\n        hasInvalidOnce = true;\n      }\n    }\n  }\n\n  if (hasInvalidOnce && !hasEndingOnceInstruction) {\n    const onceInstruction = new gd.Instruction();\n    onceInstruction.setType('BuiltinCommonInstructions::Once');\n    instructionsList.insert(onceInstruction, instructionsList.size());\n    onceInstruction.delete();\n  }\n\n  return hasInvalidOnce;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\n\ntype Props = {|\n  open: boolean,\n  onClose: () => void,\n  objectsNames: Array<string>,\n  objectOrGroupNames: Array<string>,\n|};\n\nexport default class EventsContextAnalyzerDialog extends React.Component<\n  Props,\n  {}\n> {\n  render() {\n    const { open, onClose, objectsNames, objectOrGroupNames } = this.props;\n    if (!objectsNames || !objectOrGroupNames) return null;\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        primary={true}\n        onClick={this.props.onClose}\n      />,\n    ];\n\n    return (\n      <Dialog actions={actions} open={open} onRequestClose={onClose}>\n        <p>\n          <Trans>\n            Objects or groups being directly referenced in the events:{' '}\n            {objectOrGroupNames.join(', ')}\n          </Trans>\n        </p>\n        <p>\n          <Trans>\n            All objects potentially used in events: {objectsNames.join(', ')}\n          </Trans>\n        </p>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { PureComponent } from 'react';\nimport Paper from 'material-ui/Paper';\nimport TextField from 'material-ui/TextField';\nimport { Line, Column } from '../UI/Grid';\nimport FlatButton from 'material-ui/FlatButton';\nimport ChevronLeft from 'material-ui/svg-icons/navigation/chevron-left';\nimport ChevronRight from 'material-ui/svg-icons/navigation/chevron-right';\nimport IconButton from 'material-ui/IconButton';\nimport InlineCheckbox from '../UI/InlineCheckbox';\nimport { showMessageBox } from '../UI/Messages/MessageBox';\nimport {\n  type SearchInEventsInputs,\n  type ReplaceInEventsInputs,\n} from './EventsSearcher';\n\ntype Props = {|\n  onSearchInEvents: SearchInEventsInputs => void,\n  onReplaceInEvents: ReplaceInEventsInputs => void,\n  resultsCount: ?number,\n  hasEventSelected: boolean,\n  onGoToPreviousSearchResult: () => ?gdBaseEvent,\n  onGoToNextSearchResult: () => ?gdBaseEvent,\n|};\ntype State = {|\n  searchDirty: boolean,\n  searchText: string,\n  replaceText: string,\n  matchCase: boolean,\n  searchInSelection: boolean,\n|};\n\nexport default class SearchPanel extends PureComponent<Props, State> {\n  searchTextField: ?TextField;\n  state = {\n    searchDirty: false,\n    searchText: '',\n    replaceText: '',\n    matchCase: false,\n    searchInSelection: false,\n  };\n\n  focus = () => {\n    if (this.searchTextField) {\n      this.searchTextField.focus();\n    }\n  };\n\n  launchSearch = () => {\n    const { searchText, searchInSelection, matchCase } = this.state;\n    this.props.onSearchInEvents({\n      searchInSelection,\n      searchText,\n      matchCase,\n      searchInActions: true,\n      searchInConditions: true,\n    });\n    this.setState({\n      searchDirty: false,\n    });\n  };\n\n  launchReplace = () => {\n    const {\n      searchDirty,\n      searchText,\n      replaceText,\n      searchInSelection,\n      matchCase,\n    } = this.state;\n    if (searchDirty) {\n      showMessageBox(\n        'Click on Search first, inspect the results and then click on Replace to do the replacement(s).'\n      );\n      return;\n    }\n\n    this.props.onReplaceInEvents({\n      searchInSelection,\n      searchText,\n      replaceText,\n      matchCase,\n      searchInActions: true,\n      searchInConditions: true,\n    });\n  };\n\n  render() {\n    const {\n      resultsCount,\n      hasEventSelected,\n      onGoToPreviousSearchResult,\n      onGoToNextSearchResult,\n    } = this.props;\n    const { searchText, replaceText, searchInSelection } = this.state;\n\n    return (\n      <Paper>\n        <Column>\n          <Line alignItems=\"baseline\">\n            <TextField\n              ref={_searchTextField =>\n                (this.searchTextField = _searchTextField)\n              }\n              hintText={<Trans>Text to search</Trans>}\n              onChange={(e, searchText) =>\n                this.setState({ searchText, searchDirty: true })\n              }\n              value={searchText}\n              fullWidth\n            />\n            <FlatButton\n              disabled={!searchText}\n              primary\n              label={<Trans>Search</Trans>}\n              onClick={this.launchSearch}\n            />\n          </Line>\n          <Line alignItems=\"baseline\">\n            <TextField\n              hintText={<Trans>Text to replace</Trans>}\n              onChange={(e, replaceText) => this.setState({ replaceText })}\n              value={replaceText}\n              fullWidth\n            />\n            <FlatButton\n              disabled={\n                !replaceText ||\n                !searchText ||\n                (!hasEventSelected && searchInSelection)\n              }\n              label={<Trans>Replace</Trans>}\n              onClick={this.launchReplace}\n            />\n          </Line>\n          <Line noMargin alignItems=\"center\" justifyContent=\"space-between\">\n            <Line noMargin alignItems=\"center\">\n              <InlineCheckbox\n                label={<Trans>Case insensitive</Trans>}\n                checked={!this.state.matchCase}\n                onCheck={(e, checked) => this.setState({ matchCase: !checked })}\n              />\n              {/* <InlineCheckbox //TODO: Implement search/replace in selection\n                label={<Trans>Replace in selection</Trans>}\n                checked={this.state.searchInSelection}\n                onCheck={(e, checked) =>\n                  this.setState({ searchInSelection: checked })}\n              /> */}\n            </Line>\n            <Line noMargin alignItems=\"center\">\n              <p>\n                {resultsCount === null || resultsCount === undefined\n                  ? ''\n                  : resultsCount !== 0\n                  ? `${resultsCount} results`\n                  : `No results`}\n              </p>\n              <IconButton\n                disabled={!resultsCount}\n                onClick={() => onGoToPreviousSearchResult()}\n              >\n                <ChevronLeft />\n              </IconButton>\n              <IconButton\n                disabled={!resultsCount}\n                onClick={() => onGoToNextSearchResult()}\n              >\n                <ChevronRight />\n              </IconButton>\n            </Line>\n          </Line>\n        </Column>\n      </Paper>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { type SelectionState } from './SelectionHandler';\nimport { mapFor } from '../Utils/MapFor';\nimport uniqBy from 'lodash/uniqBy';\nconst gd = global.gd;\n\nexport type SearchInEventsInputs = {|\n  searchInSelection: boolean,\n  searchText: string,\n  matchCase: boolean,\n  searchInConditions: boolean,\n  searchInActions: boolean,\n|};\n\nexport type ReplaceInEventsInputs = {|\n  searchInSelection: boolean,\n  searchText: string,\n  replaceText: ?string,\n  matchCase: boolean,\n  searchInConditions: boolean,\n  searchInActions: boolean,\n|};\n\ntype State = {|\n  eventsSearchResults: ?gdVectorEventsSearchResult,\n  searchFocusOffset: ?number,\n|};\n\ntype Props = {|\n  globalObjectsContainer: gdProject,\n  objectsContainer: gdLayout,\n  events: gdEventsList,\n  selection: SelectionState,\n  children: (props: {|\n    eventsSearchResultEvents: ?Array<gdBaseEvent>,\n    searchFocusOffset: ?number,\n    searchInEvents: (SearchInEventsInputs, cb: () => void) => void,\n    replaceInEvents: ReplaceInEventsInputs => void,\n    goToNextSearchResult: () => ?gdBaseEvent,\n    goToPreviousSearchResult: () => ?gdBaseEvent,\n  |}) => React.Node,\n|};\n\n/**\n * Component allowing to do search in events and pass the results\n * to its children components, as well as methods to browse the results.\n */\nexport default class EventsSearcher extends React.Component<Props, State> {\n  state = {\n    eventsSearchResults: null, // The list of results\n    searchFocusOffset: null,\n  };\n\n  // The list containing the raw events results. Should be derived from this.state.eventsSearchResults using\n  // this._updateListOfResultEvents before being used.\n  _resultEvents: ?Array<gdBaseEvent> = null;\n\n  componentWillUnmount() {\n    if (this.state.eventsSearchResults) this.state.eventsSearchResults.delete();\n  }\n\n  reset() {\n    if (this.state.eventsSearchResults) this.state.eventsSearchResults.delete();\n\n    this._resultEvents = null;\n    this.setState({\n      eventsSearchResults: null,\n      searchFocusOffset: null,\n    });\n  }\n\n  _doReplaceInEvents = ({\n    searchInSelection,\n    searchText,\n    replaceText,\n    matchCase,\n    searchInConditions,\n    searchInActions,\n  }: ReplaceInEventsInputs) => {\n    const { globalObjectsContainer, objectsContainer, events } = this.props;\n\n    if (searchInSelection) {\n      // Replace in selection is a bit tricky to implement as it requires to have a list\n      // of events (gd.EventsList) pointing to the same events. Need some workaround/helper\n      // function to be done in C++.\n      console.error('Replace in selection is not implemented yet');\n    }\n\n    gd.EventsRefactorer.replaceStringInEvents(\n      globalObjectsContainer,\n      objectsContainer,\n      events,\n      searchText,\n      replaceText,\n      matchCase,\n      searchInConditions,\n      searchInActions\n    );\n  };\n\n  _doSearchInEvents = (\n    {\n      searchInSelection,\n      searchText,\n      matchCase,\n      searchInConditions,\n      searchInActions,\n    }: SearchInEventsInputs,\n    cb: () => void\n  ) => {\n    const { globalObjectsContainer, objectsContainer, events } = this.props;\n\n    if (searchInSelection) {\n      // Search in selection is a bit tricky to implement as it requires to have a list\n      // of events (gd.EventsList) pointing to the same events. Need some workaround/helper\n      // function to be done in C++.\n      console.error('Search in selection is not implemented yet');\n    }\n\n    const newEventsSearchResults = gd.EventsRefactorer.searchInEvents(\n      globalObjectsContainer,\n      objectsContainer,\n      events,\n      searchText,\n      matchCase,\n      searchInConditions,\n      searchInActions\n    );\n\n    if (this.state.eventsSearchResults) {\n      this.state.eventsSearchResults.delete();\n    }\n    this.setState(\n      {\n        eventsSearchResults: newEventsSearchResults.clone(),\n        searchFocusOffset: null,\n      },\n      () => {\n        this._updateListOfResultEvents();\n        cb();\n      }\n    );\n  };\n\n  _updateListOfResultEvents = () => {\n    const { eventsSearchResults } = this.state;\n    if (!eventsSearchResults) {\n      this._resultEvents = null;\n      return;\n    }\n\n    const resultEventsWithDuplicates = mapFor(\n      0,\n      eventsSearchResults.size(),\n      i => {\n        const eventsSearchResult = eventsSearchResults.at(i);\n        return eventsSearchResult.isEventValid()\n          ? eventsSearchResult.getEvent()\n          : null;\n      }\n    ).filter(Boolean);\n\n    // Store a list of unique events, because browsing for results in the events\n    // tree is made event by event.\n    this._resultEvents = uniqBy(resultEventsWithDuplicates, event => event.ptr);\n  };\n\n  _goToSearchResults = (step: number): ?gdBaseEvent => {\n    this._updateListOfResultEvents();\n    if (!this._resultEvents || this._resultEvents.length === 0) {\n      this.setState({ searchFocusOffset: null });\n      return null;\n    }\n\n    let newSearchFocusOffset =\n      this.state.searchFocusOffset === null\n        ? 0\n        : ((this.state.searchFocusOffset || 0) + step) %\n          this._resultEvents.length;\n    if (newSearchFocusOffset < 0)\n      newSearchFocusOffset += this._resultEvents.length;\n\n    const event = this._resultEvents[newSearchFocusOffset];\n    setTimeout(\n      // Change the offset on next tick to give a chance to children to unfold events before focusing it.\n      () => this.setState({ searchFocusOffset: newSearchFocusOffset }),\n      0\n    );\n    return event;\n  };\n\n  _goToPreviousSearchResult = (): ?gdBaseEvent => {\n    return this._goToSearchResults(-1);\n  };\n\n  _goToNextSearchResult = (): ?gdBaseEvent => {\n    return this._goToSearchResults(+1);\n  };\n\n  render() {\n    return this.props.children({\n      eventsSearchResultEvents: this._resultEvents,\n      searchFocusOffset: this.state.searchFocusOffset,\n      searchInEvents: this._doSearchInEvents,\n      replaceInEvents: this._doReplaceInEvents,\n      goToNextSearchResult: this._goToNextSearchResult,\n      goToPreviousSearchResult: this._goToPreviousSearchResult,\n    });\n  }\n}\n","const gd = global.gd;\n\nexport const containsSubInstructions = (\n  instruction: gdInstruction,\n  instructionsList: gdInstructionsList\n) => {\n  const subInstructionsList = instruction.getSubInstructions();\n  if (gd.compare(subInstructionsList, instructionsList)) return true;\n\n  for (let i = 0; i < subInstructionsList.size(); ++i) {\n    const subInstruction = subInstructionsList.get(i);\n    if (containsSubInstructions(subInstruction, instructionsList)) return true;\n  }\n\n  return false;\n};\n","// @flow\n\nimport flatten from 'lodash/flatten';\nimport { mapFor } from '../Utils/MapFor';\nconst gd = global.gd;\n\nexport type EventMetadata = {|\n  type: string,\n  fullName: string,\n  description: string,\n|};\n\nexport const enumerateEventsMetadata = (): Array<EventMetadata> => {\n  const allExtensions = gd\n    .asPlatform(gd.JsPlatform.get())\n    .getAllPlatformExtensions();\n\n  return flatten(\n    mapFor(0, allExtensions.size(), i => {\n      const extension = allExtensions.get(i);\n      const extensionEvents = extension.getAllEvents();\n\n      return extensionEvents\n        .keys()\n        .toJSArray()\n        .map(type => {\n          const metadata = extensionEvents.get(type);\n          return {\n            type,\n            fullName: metadata.getFullName(),\n            description: metadata.getDescription(),\n          };\n        });\n    })\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport EventsSheet from '../EventsSheet';\nimport EditorMosaic, { MosaicWindow } from '../UI/EditorMosaic';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport EventsFunctionConfigurationEditor from './EventsFunctionConfigurationEditor';\nimport EventsFunctionsList from '../EventsFunctionsList';\nimport Background from '../UI/Background';\nimport OptionsEditorDialog from './OptionsEditorDialog';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  setToolbar: (?React.Node) => void,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n  initiallyFocusedFunctionName: ?string,\n|};\n\ntype State = {|\n  selectedEventsFunction: ?gdEventsFunction,\n  editOptionsDialogOpen: boolean,\n|};\n\nexport default class EventsFunctionsExtensionEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    selectedEventsFunction: null,\n    editOptionsDialogOpen: false,\n  };\n  editor: ?EventsSheet;\n  _editors: ?EditorMosaic;\n  _globalObjectsContainer: ?gdObjectsContainer;\n  _objectsContainer: ?gdObjectsContainer;\n\n  componentDidMount() {\n    if (this.props.initiallyFocusedFunctionName) {\n      this.selectEventsFunctionByName(this.props.initiallyFocusedFunctionName);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._globalObjectsContainer) this._globalObjectsContainer.delete();\n    if (this._objectsContainer) this._objectsContainer.delete();\n  }\n\n  _loadEventsFunctionFrom = (\n    project: gdProject,\n    eventsFunction: gdEventsFunction\n  ) => {\n    if (this._globalObjectsContainer) this._globalObjectsContainer.delete();\n    this._globalObjectsContainer = new gd.ObjectsContainer();\n\n    if (this._objectsContainer) this._objectsContainer.delete();\n    this._objectsContainer = new gd.ObjectsContainer();\n\n    gd.ParameterMetadataTools.parametersToObjectsContainer(\n      project,\n      eventsFunction.getParameters(),\n      this._objectsContainer\n    );\n  };\n\n  updateToolbar() {\n    if (this.editor) {\n      this.editor.updateToolbar();\n    } else {\n      this.props.setToolbar(<div />);\n    }\n  }\n\n  selectEventsFunctionByName = (name: string) => {\n    const { eventsFunctionsExtension } = this.props;\n    if (eventsFunctionsExtension.hasEventsFunctionNamed(name)) {\n      this._selectEventsFunction(\n        eventsFunctionsExtension.getEventsFunction(name)\n      );\n    }\n  };\n\n  _selectEventsFunction = (selectedEventsFunction: ?gdEventsFunction) => {\n    if (!selectedEventsFunction) {\n      this.setState(\n        {\n          selectedEventsFunction: null,\n        },\n        () => this.updateToolbar()\n      );\n      return;\n    }\n\n    this._loadEventsFunctionFrom(this.props.project, selectedEventsFunction);\n    this.setState(\n      {\n        selectedEventsFunction,\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  _makeRenameEventsFunction = (i18n: I18nType) => (\n    eventsFunction: gdEventsFunction,\n    newName: string,\n    done: boolean => void\n  ) => {\n    if (!gd.Project.validateObjectName(newName)) {\n      showWarningBox(\n        i18n._(\n          t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your function name.`\n        )\n      );\n      return;\n    }\n\n    const { project, eventsFunctionsExtension } = this.props;\n    gd.WholeProjectRefactorer.renameEventsFunction(\n      project,\n      eventsFunctionsExtension,\n      eventsFunction.getName(),\n      newName\n    );\n\n    done(true);\n  };\n\n  _onDeleteEventsFunction = (\n    eventsFunction: gdEventsFunction,\n    cb: boolean => void\n  ) => {\n    if (\n      this.state.selectedEventsFunction &&\n      gd.compare(eventsFunction, this.state.selectedEventsFunction)\n    ) {\n      this._selectEventsFunction(null);\n    }\n\n    cb(true);\n  };\n\n  _editOptions = (open: boolean = true) => {\n    this.setState({\n      editOptionsDialogOpen: open,\n    });\n  };\n\n  render() {\n    const { project, eventsFunctionsExtension } = this.props;\n    const { selectedEventsFunction, editOptionsDialogOpen } = this.state;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <React.Fragment>\n            <EditorMosaic\n              ref={editors => (this._editors = editors)}\n              editors={{\n                parameters: (\n                  <MosaicWindow\n                    title={<Trans>Function Configuration</Trans>}\n                    toolbarControls={[]}\n                    selectedEventsFunction={selectedEventsFunction}\n                  >\n                    <Background>\n                      {selectedEventsFunction ? (\n                        <EventsFunctionConfigurationEditor\n                          project={project}\n                          eventsFunction={selectedEventsFunction}\n                          onParametersUpdated={() => {\n                            this._loadEventsFunctionFrom(\n                              project,\n                              selectedEventsFunction\n                            );\n                            this.forceUpdate();\n                          }}\n                        />\n                      ) : (\n                        <EmptyMessage>\n                          <Trans>\n                            Choose a function to set the parameters that it\n                            accepts.\n                          </Trans>\n                        </EmptyMessage>\n                      )}\n                    </Background>\n                  </MosaicWindow>\n                ),\n                'events-sheet':\n                  selectedEventsFunction &&\n                  this._globalObjectsContainer &&\n                  this._objectsContainer ? (\n                    <EventsSheet\n                      key={selectedEventsFunction.ptr}\n                      ref={editor => (this.editor = editor)}\n                      project={project}\n                      layout={null}\n                      globalObjectsContainer={this._globalObjectsContainer}\n                      objectsContainer={this._objectsContainer}\n                      events={selectedEventsFunction.getEvents()}\n                      showPreviewButton={false}\n                      onPreview={options => {}}\n                      showNetworkPreviewButton={false}\n                      onOpenExternalEvents={() => {}}\n                      onOpenLayout={() => {}}\n                      resourceSources={this.props.resourceSources}\n                      onChooseResource={this.props.onChooseResource}\n                      resourceExternalEditors={\n                        this.props.resourceExternalEditors\n                      }\n                      openInstructionOrExpression={\n                        this.props.openInstructionOrExpression\n                      }\n                      setToolbar={this.props.setToolbar}\n                      onOpenDebugger={() => {}}\n                    />\n                  ) : (\n                    <Background>\n                      <EmptyMessage>\n                        <Trans>Choose a function to edit its events.</Trans>\n                      </EmptyMessage>\n                    </Background>\n                  ),\n                'functions-list': (\n                  <MosaicWindow\n                    title={<Trans>Functions list</Trans>}\n                    toolbarControls={[]}\n                    selectedEventsFunction={selectedEventsFunction}\n                  >\n                    <EventsFunctionsList\n                      project={project}\n                      eventsFunctionsContainer={eventsFunctionsExtension}\n                      selectedEventsFunction={selectedEventsFunction}\n                      onSelectEventsFunction={this._selectEventsFunction}\n                      onDeleteEventsFunction={this._onDeleteEventsFunction}\n                      onRenameEventsFunction={this._makeRenameEventsFunction(\n                        i18n\n                      )}\n                      onEditOptions={this._editOptions}\n                    />\n                  </MosaicWindow>\n                ),\n              }}\n              initialNodes={{\n                direction: 'row',\n                first: {\n                  direction: 'column',\n                  first: 'parameters',\n                  second: 'events-sheet',\n                  splitPercentage: 25,\n                },\n                second: 'functions-list',\n                splitPercentage: 66,\n              }}\n            />\n            {editOptionsDialogOpen && (\n              <OptionsEditorDialog\n                eventsFunctionsExtension={eventsFunctionsExtension}\n                open\n                onClose={() => this._editOptions(false)}\n              />\n            )}\n          </React.Fragment>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\nimport { Column, Line } from '../UI/Grid';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { mapVector } from '../Utils/MapFor';\nimport FlatButton from 'material-ui/FlatButton';\nimport IconButton from 'material-ui/IconButton';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport {\n  enumerateObjectTypes,\n  type EnumeratedObjectMetadata,\n} from '../ObjectsList/EnumerateObjects';\nimport HelpButton from '../UI/HelpButton';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport MiniToolbar, { MiniToolbarText } from '../UI/MiniToolbar';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\n\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  eventsFunction: gdEventsFunction,\n  onParametersUpdated: () => void,\n|};\n\ntype State = {|\n  objectMetadata: Array<EnumeratedObjectMetadata>,\n|};\n\nconst styles = {\n  scrollView: {\n    overflowY: 'scroll',\n  },\n  parametersContainer: {\n    flex: 1,\n  },\n  icon: {\n    width: 32,\n    height: 32,\n    marginRight: 8,\n  },\n};\n\nconst validateParameterName = (i18n: I18nType, newName: string) => {\n  if (!gd.Project.validateObjectName(newName)) {\n    showWarningBox(\n      i18n._(\n        t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your parameter name.`\n      )\n    );\n    return false;\n  }\n\n  return true;\n};\n\nexport default class EventsFunctionConfigurationEditor extends React.Component<\n  Props,\n  State\n> {\n  state = { objectMetadata: [] };\n\n  componentDidMount() {\n    this.setState({\n      objectMetadata: enumerateObjectTypes(this.props.project),\n    });\n  }\n\n  _addParameter = () => {\n    const { eventsFunction } = this.props;\n    const parameters = eventsFunction.getParameters();\n\n    const newParameter = new gd.ParameterMetadata();\n    newParameter.setType('objectList');\n    parameters.push_back(newParameter);\n    newParameter.delete();\n    this.forceUpdate();\n    this.props.onParametersUpdated();\n  };\n\n  _removeParameter = (index: number) => {\n    const { eventsFunction } = this.props;\n    const parameters = eventsFunction.getParameters();\n\n    gd.removeFromVectorParameterMetadata(parameters, index);\n    this.forceUpdate();\n    this.props.onParametersUpdated();\n  };\n\n  render() {\n    const { objectMetadata } = this.state;\n    const { eventsFunction } = this.props;\n\n    const parameters = eventsFunction.getParameters();\n    const type = eventsFunction.getFunctionType();\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Column noMargin>\n            <div style={styles.scrollView}>\n              <Column>\n                <Line noMargin alignItems=\"center\">\n                  <img src=\"res/function32.png\" alt=\"\" style={styles.icon} />\n                  <SelectField\n                    value={type}\n                    onChange={(e, i, value) => {\n                      eventsFunction.setFunctionType(value);\n                      this.forceUpdate();\n                    }}\n                  >\n                    <MenuItem\n                      value={gd.EventsFunction.Action}\n                      primaryText={<Trans>Action</Trans>}\n                    />\n                    <MenuItem\n                      value={gd.EventsFunction.Condition}\n                      primaryText={<Trans>Condition</Trans>}\n                    />\n                    <MenuItem\n                      value={gd.EventsFunction.Expression}\n                      primaryText={<Trans>Expression</Trans>}\n                    />\n                    <MenuItem\n                      value={gd.EventsFunction.StringExpression}\n                      primaryText={<Trans>String Expression</Trans>}\n                    />\n                  </SelectField>\n                  <TextField\n                    hintText={<Trans>Full name displayed in editor</Trans>}\n                    value={eventsFunction.getFullName()}\n                    onChange={(e, text) => {\n                      eventsFunction.setFullName(text);\n                      this.forceUpdate();\n                    }}\n                  />\n                </Line>\n                <Line noMargin>\n                  <TextField\n                    hintText={<Trans>Description, displayed in editor</Trans>}\n                    fullWidth\n                    multiLine\n                    value={eventsFunction.getDescription()}\n                    onChange={(e, text) => {\n                      eventsFunction.setDescription(text);\n                      this.forceUpdate();\n                    }}\n                  />\n                </Line>\n                <Line noMargin>\n                  {type === gd.EventsFunction.Action ||\n                  type === gd.EventsFunction.Condition ? (\n                    <TextField\n                      hintText={\n                        <Trans>\n                          Sentence in Events Sheet (write _PARAMx_ for\n                          parameters, e.g: _PARAM1_)\n                        </Trans>\n                      }\n                      fullWidth\n                      value={eventsFunction.getSentence()}\n                      onChange={(e, text) => {\n                        eventsFunction.setSentence(text);\n                        this.forceUpdate();\n                      }}\n                    />\n                  ) : null}\n                </Line>\n              </Column>\n              <Line noMargin>\n                <div style={styles.parametersContainer}>\n                  {mapVector(\n                    parameters,\n                    (parameter: gdParameterMetadata, i: number) => (\n                      <React.Fragment key={i}>\n                        <MiniToolbar>\n                          <MiniToolbarText>\n                            <Trans>Parameter #{i + 1}:</Trans>\n                          </MiniToolbarText>\n                          <Column expand noMargin>\n                            <SemiControlledTextField\n                              hintText={<Trans>Enter the parameter name</Trans>}\n                              value={parameter.getName()}\n                              onChange={text => {\n                                if (!validateParameterName(i18n, text)) return;\n\n                                parameter.setName(text);\n                                this.forceUpdate();\n                                this.props.onParametersUpdated();\n                              }}\n                              commitOnBlur\n                            />\n                          </Column>\n                          <IconMenu\n                            iconButtonElement={\n                              <IconButton>\n                                <MoreVertIcon />\n                              </IconButton>\n                            }\n                            buildMenuTemplate={() => [\n                              {\n                                label: i18n._(t`Delete`),\n                                click: () => this._removeParameter(i),\n                              },\n                            ]}\n                          />\n                        </MiniToolbar>\n                        <Line expand noMargin>\n                          <Column expand>\n                            <SelectField\n                              floatingLabelText={<Trans>Type</Trans>}\n                              value={parameter.getType()}\n                              onChange={(e, i, value) => {\n                                parameter.setType(value);\n                                this.forceUpdate();\n                                this.props.onParametersUpdated();\n                              }}\n                              fullWidth\n                            >\n                              <MenuItem\n                                value=\"objectList\"\n                                primaryText={<Trans>Objects</Trans>}\n                              />\n                              <MenuItem\n                                value=\"expression\"\n                                primaryText={<Trans>Number</Trans>}\n                              />\n                              <MenuItem\n                                value=\"string\"\n                                primaryText={<Trans>String (text)</Trans>}\n                              />\n                              <MenuItem\n                                value=\"key\"\n                                primaryText={<Trans>Keyboard Key (text)</Trans>}\n                              />\n                              <MenuItem\n                                value=\"mouse\"\n                                primaryText={<Trans>Mouse button (text)</Trans>}\n                              />\n                            </SelectField>\n                          </Column>\n                          {parameter.getType() === 'objectList' && (\n                            <Column expand>\n                              <SelectField\n                                floatingLabelText={<Trans>Object type</Trans>}\n                                floatingLabelFixed\n                                value={parameter.getExtraInfo()}\n                                onChange={(e, i, value) => {\n                                  parameter.setExtraInfo(value);\n                                  this.forceUpdate();\n                                  this.props.onParametersUpdated();\n                                }}\n                                fullWidth\n                              >\n                                <MenuItem\n                                  value=\"\"\n                                  primaryText={<Trans>Any object</Trans>}\n                                />\n                                {objectMetadata.map(\n                                  (metadata: EnumeratedObjectMetadata) => {\n                                    if (metadata.name === '') {\n                                      // Base object is an \"abstract\" object\n                                      return null;\n                                    }\n\n                                    return (\n                                      <MenuItem\n                                        key={metadata.name}\n                                        value={metadata.name}\n                                        primaryText={metadata.fullName}\n                                      />\n                                    );\n                                  }\n                                )}\n                              </SelectField>\n                            </Column>\n                          )}\n                        </Line>\n                        <Line expand noMargin>\n                          <Column expand>\n                            <TextField\n                              floatingLabelText={<Trans>Description</Trans>}\n                              value={parameter.getDescription()}\n                              onChange={(e, text) => {\n                                parameter.setDescription(text);\n                                this.forceUpdate();\n                              }}\n                              fullWidth\n                            />\n                          </Column>\n                        </Line>\n                      </React.Fragment>\n                    )\n                  )}\n                  {parameters.size() === 0 ? (\n                    <EmptyMessage>\n                      <Trans>No parameters for this function.</Trans>\n                    </EmptyMessage>\n                  ) : null}\n                  <Line justifyContent=\"space-between\">\n                    <Column>\n                      <HelpButton helpPagePath=\"/events/functions\" />\n                    </Column>\n                    <Column>\n                      <FlatButton\n                        label={<Trans>Add a parameter</Trans>}\n                        onClick={this._addParameter}\n                      />\n                    </Column>\n                  </Line>\n                </div>\n              </Line>\n            </div>\n          </Column>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport TextField from 'material-ui/TextField';\nimport { Column } from '../UI/Grid';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\n\ntype Props = {|\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  onClose: () => void,\n  open: boolean,\n|};\ntype State = {||};\n\nexport default class OptionsEditorDialog extends React.Component<Props, State> {\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={() => this.props.onClose()}\n      />,\n    ];\n\n    const { eventsFunctionsExtension } = this.props;\n\n    return (\n      <Dialog\n        secondaryActions={<HelpButton helpPagePath=\"/events/functions\" />}\n        actions={actions}\n        open={this.props.open}\n        title={<Trans>Edit Extension Options</Trans>}\n        onRequestClose={this.props.onClose}\n        autoScrollBodyContent={true}\n      >\n        <Column>\n          <TextField\n            floatingLabelText={<Trans>Name</Trans>}\n            value={eventsFunctionsExtension.getName()}\n            disabled\n            fullWidth\n          />\n          <TextField\n            floatingLabelText={<Trans>Name displayed in editor</Trans>}\n            value={eventsFunctionsExtension.getFullName()}\n            onChange={(e, text) => {\n              eventsFunctionsExtension.setFullName(text);\n              this.forceUpdate();\n            }}\n            fullWidth\n          />\n          <TextField\n            floatingLabelText={<Trans>Description</Trans>}\n            value={eventsFunctionsExtension.getDescription()}\n            onChange={(e, text) => {\n              eventsFunctionsExtension.setDescription(text);\n              this.forceUpdate();\n            }}\n            multiLine\n            fullWidth\n          />\n          <TextField\n            floatingLabelText={<Trans>Version</Trans>}\n            value={eventsFunctionsExtension.getVersion()}\n            onChange={(e, text) => {\n              eventsFunctionsExtension.setVersion(text);\n              this.forceUpdate();\n            }}\n            fullWidth\n          />\n        </Column>\n      </Dialog>\n    );\n  }\n}\n","import RenderedInstance from './RenderedInstance';\nimport PIXI from 'pixi.js';\n\n/**\n * Objects with an unknown type are rendered with a placeholder rectangle.\n *\n * @extends RenderedInstance\n * @class RenderedUnknownInstance\n * @constructor\n */\nfunction RenderedUnknownInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  //This renderer show a placeholder for the object:\n  this._pixiObject = new PIXI.Graphics();\n  this._pixiContainer.addChild(this._pixiObject);\n\n  var width = instance.hasCustomSize() ? instance.getCustomWidth() : 32;\n  var height = instance.hasCustomSize() ? instance.getCustomHeight() : 32;\n\n  this._pixiObject.beginFill(0x0033ff);\n  this._pixiObject.lineStyle(1, 0xffd900, 1);\n  this._pixiObject.moveTo(0, 0);\n  this._pixiObject.lineTo(width, 0);\n  this._pixiObject.lineTo(width, height);\n  this._pixiObject.lineTo(0, height);\n  this._pixiObject.endFill();\n}\nRenderedUnknownInstance.prototype = Object.create(RenderedInstance.prototype);\nRenderedUnknownInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  return 'res/unknown32.png';\n};\n\nRenderedUnknownInstance.prototype.update = function() {\n  this._pixiObject.position.x = this._instance.getX();\n  this._pixiObject.position.y = this._instance.getY();\n  this._pixiObject.rotation = (this._instance.getAngle() * Math.PI) / 180.0;\n};\n\nexport default RenderedUnknownInstance;\n","import RenderedInstance from './RenderedInstance';\nimport PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * Renderer for gd.SpriteObject\n *\n * @extends RenderedInstance\n * @class RenderedSpriteInstance\n * @constructor\n */\nfunction RenderedSpriteInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  this._renderedAnimation = 0;\n  this._renderedDirection = 0;\n  this._centerX = 0;\n  this._centerY = 0;\n  this._originX = 0;\n  this._originY = 0;\n\n  //Setup the PIXI object:\n  this._pixiObject = new PIXI.Sprite(\n    this._pixiResourcesLoader.getInvalidPIXITexture()\n  );\n  this._pixiContainer.addChild(this._pixiObject);\n  this.updatePIXITexture();\n  this.updatePIXISprite();\n}\nRenderedSpriteInstance.prototype = Object.create(RenderedInstance.prototype);\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedSpriteInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  const spriteObject = gd.asSpriteObject(object);\n\n  if (\n    spriteObject.getAnimationsCount() > 0 &&\n    spriteObject.getAnimation(0).getDirectionsCount() > 0 &&\n    spriteObject\n      .getAnimation(0)\n      .getDirection(0)\n      .getSpritesCount() > 0\n  ) {\n    const imageName = spriteObject\n      .getAnimation(0)\n      .getDirection(0)\n      .getSprite(0)\n      .getImageName();\n    return resourcesLoader.getResourceFullUrl(project, imageName);\n  }\n\n  return 'res/unknown32.png';\n};\n\nRenderedSpriteInstance.prototype.updatePIXISprite = function() {\n  this._pixiObject.anchor.x =\n    this._centerX / this._pixiObject.texture.frame.width;\n  this._pixiObject.anchor.y =\n    this._centerY / this._pixiObject.texture.frame.height;\n  this._pixiObject.rotation = this._shouldNotRotate\n    ? 0\n    : RenderedInstance.toRad(this._instance.getAngle());\n  if (this._instance.hasCustomSize()) {\n    this._pixiObject.scale.x =\n      this._instance.getCustomWidth() / this._pixiObject.texture.frame.width;\n    this._pixiObject.scale.y =\n      this._instance.getCustomHeight() / this._pixiObject.texture.frame.height;\n  } else {\n    this._pixiObject.scale.x = 1;\n    this._pixiObject.scale.y = 1;\n  }\n  this._pixiObject.position.x =\n    this._instance.getX() +\n    (this._centerX - this._originX) * Math.abs(this._pixiObject.scale.x);\n  this._pixiObject.position.y =\n    this._instance.getY() +\n    (this._centerY - this._originY) * Math.abs(this._pixiObject.scale.y);\n};\n\nRenderedSpriteInstance.prototype.updateSprite = function() {\n  this._sprite = null;\n  this._shouldNotRotate = false;\n\n  const spriteObject = gd.asSpriteObject(this._associatedObject);\n  if (spriteObject.hasNoAnimations()) return false;\n\n  this._renderedAnimation = this._instance.getRawFloatProperty('animation');\n  if (this._renderedAnimation >= spriteObject.getAnimationsCount())\n    this._renderedAnimation = 0;\n\n  const animation = spriteObject.getAnimation(this._renderedAnimation);\n  if (animation.hasNoDirections()) return false;\n\n  this._renderedDirection = 0;\n  if (animation.useMultipleDirections()) {\n    let normalizedAngle = Math.floor(this._instance.getAngle()) % 360;\n    if (normalizedAngle < 0) normalizedAngle += 360;\n\n    this._renderedDirection = Math.round(normalizedAngle / 45) % 8;\n  }\n\n  if (this._renderedDirection >= animation.getDirectionsCount())\n    this._renderedDirection = 0;\n\n  const direction = animation.getDirection(this._renderedDirection);\n\n  if (direction.getSpritesCount() === 0) return false;\n\n  this._shouldNotRotate = animation.useMultipleDirections();\n  this._sprite = direction.getSprite(0);\n  return true;\n};\n\nRenderedSpriteInstance.prototype.updatePIXITexture = function() {\n  this.updateSprite();\n  if (!this._sprite) return;\n\n  this._pixiObject.texture = this._pixiResourcesLoader.getPIXITexture(\n    this._project,\n    this._sprite.getImageName()\n  );\n\n  const origin = this._sprite.getOrigin();\n  this._originX = origin.getX();\n  this._originY = origin.getY();\n\n  if (this._sprite.isDefaultCenterPoint()) {\n    if (this._pixiObject.texture.noFrame) {\n      var that = this;\n      // We might have to wait for the texture to load\n      this._pixiObject.texture.on('update', function() {\n        that._centerX = that._pixiObject.texture.width / 2;\n        that._centerY = that._pixiObject.texture.height / 2;\n        that._pixiObject.texture.off('update', this);\n      });\n    } else {\n      this._centerX = this._pixiObject.texture.width / 2;\n      this._centerY = this._pixiObject.texture.height / 2;\n    }\n  } else {\n    const center = this._sprite.getCenter();\n    this._centerX = center.getX();\n    this._centerY = center.getY();\n  }\n};\n\nRenderedSpriteInstance.prototype.update = function() {\n  const animation = this._instance.getRawFloatProperty('animation');\n  if (this._renderedAnimation !== animation) this.updatePIXITexture();\n\n  this.updatePIXISprite();\n};\n\nRenderedSpriteInstance.prototype.getOriginX = function() {\n  if (!this._sprite || !this._pixiObject) return 0;\n\n  return this._sprite.getOrigin().getX() * this._pixiObject.scale.x;\n};\n\nRenderedSpriteInstance.prototype.getOriginY = function() {\n  if (!this._sprite || !this._pixiObject) return 0;\n\n  return this._sprite.getOrigin().getY() * this._pixiObject.scale.y;\n};\n\nRenderedSpriteInstance.prototype.getDefaultWidth = function() {\n  return Math.abs(this._pixiObject.width);\n};\n\nRenderedSpriteInstance.prototype.getDefaultHeight = function() {\n  return Math.abs(this._pixiObject.height);\n};\n\nexport default RenderedSpriteInstance;\n","import RenderedInstance from './RenderedInstance';\nimport PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * Renderer for gd.TiledSpriteObject\n *\n * @extends RenderedInstance\n * @class RenderedTiledSpriteInstance\n * @constructor\n */\nfunction RenderedTiledSpriteInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  //Setup the PIXI object:\n  var tiledSprite = gd.asTiledSpriteObject(associatedObject);\n  this._texture = tiledSprite.getTexture();\n  this._pixiObject = new PIXI.extras.TilingSprite(\n    this._pixiResourcesLoader.getPIXITexture(project, tiledSprite.getTexture()),\n    tiledSprite.getWidth(),\n    tiledSprite.getHeight()\n  );\n  this._pixiObject.anchor.x = 0.5;\n  this._pixiObject.anchor.y = 0.5;\n  this._pixiContainer.addChild(this._pixiObject);\n}\nRenderedTiledSpriteInstance.prototype = Object.create(\n  RenderedInstance.prototype\n);\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedTiledSpriteInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  var tiledSprite = gd.asTiledSpriteObject(object);\n\n  return resourcesLoader.getResourceFullUrl(project, tiledSprite.getTexture());\n};\n\nRenderedTiledSpriteInstance.prototype.update = function() {\n  var tiledSprite = gd.asTiledSpriteObject(this._associatedObject);\n  if (this._instance.hasCustomSize()) {\n    this._pixiObject.width = this._instance.getCustomWidth();\n    this._pixiObject.height = this._instance.getCustomHeight();\n  } else {\n    this._pixiObject.width = tiledSprite.getWidth();\n    this._pixiObject.height = tiledSprite.getHeight();\n  }\n\n  if (this._texture !== tiledSprite.getTexture()) {\n    this._texture = tiledSprite.getTexture();\n    this._pixiObject.texture = this._pixiResourcesLoader.getPIXITexture(\n      this._project,\n      tiledSprite.getTexture()\n    );\n  }\n\n  this._pixiObject.x = this._instance.getX() + this._pixiObject.width / 2;\n  this._pixiObject.y = this._instance.getY() + this._pixiObject.height / 2;\n  this._pixiObject.rotation = RenderedInstance.toRad(this._instance.getAngle());\n};\n\nRenderedTiledSpriteInstance.prototype.getDefaultWidth = function() {\n  var tiledSprite = gd.asTiledSpriteObject(this._associatedObject);\n  return tiledSprite.getWidth();\n};\n\nRenderedTiledSpriteInstance.prototype.getDefaultHeight = function() {\n  var tiledSprite = gd.asTiledSpriteObject(this._associatedObject);\n  return tiledSprite.getHeight();\n};\n\nexport default RenderedTiledSpriteInstance;\n","import RenderedInstance from './RenderedInstance';\nimport PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * Renderer for gd.PanelSpriteObject\n *\n * Heavily inspired from the GDJS PIXI renderer for PanelSprite objects.\n * TODO: Find a way to factor GDJS objects and IDE instances renderers.\n *\n * @extends RenderedInstance\n * @class RenderedPanelSpriteInstance\n * @constructor\n */\nfunction RenderedPanelSpriteInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  this.makeObjects();\n  this.updateTexture();\n}\nRenderedPanelSpriteInstance.prototype = Object.create(\n  RenderedInstance.prototype\n);\n\nRenderedPanelSpriteInstance.prototype.update = function() {\n  //TODO\n  // if (this._pixiObject.visible && this._wasRendered) {\n  //   this._pixiObject.cacheAsBitmap = true;\n  // }\n  // this._wasRendered = true;\n\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  if (panelSprite.isTiled() !== this._tiled) {\n    this.makeObjects();\n  }\n  if (panelSprite.getTexture() !== this._textureName) {\n    this.updateTexture();\n  }\n\n  this.updateAngle();\n  this.updatePosition();\n\n  const oldWidth = this._width;\n  const oldHeight = this._height;\n  if (this._instance.hasCustomSize()) {\n    this._width = this._instance.getCustomWidth();\n    this._height = this._instance.getCustomHeight();\n  } else {\n    var tiledSprite = gd.asPanelSpriteObject(this._associatedObject);\n    this._width = tiledSprite.getWidth();\n    this._height = tiledSprite.getHeight();\n  }\n\n  if (this._width !== oldWidth || this._height !== oldHeight) {\n    this.updateWidthHeight();\n  }\n};\n\nRenderedPanelSpriteInstance.prototype.makeObjects = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  this._textureName = panelSprite.getTexture();\n  const texture = this._pixiResourcesLoader.getPIXITexture(\n    this._project,\n    this._textureName\n  );\n\n  this._tiled = panelSprite.isTiled();\n  var StretchedSprite = !this._tiled ? PIXI.Sprite : PIXI.extras.TilingSprite;\n\n  if (!this._pixiObject) {\n    this._pixiObject = new PIXI.Container();\n    this._pixiContainer.addChild(this._pixiObject);\n  }\n  this._centerSprite = new StretchedSprite(new PIXI.Texture(texture));\n  this._borderSprites = [\n    new StretchedSprite(new PIXI.Texture(texture)), //Right\n    new PIXI.Sprite(texture), //Top-Right\n    new StretchedSprite(new PIXI.Texture(texture)), //Top\n    new PIXI.Sprite(texture), //Top-Left\n    new StretchedSprite(new PIXI.Texture(texture)), //Left\n    new PIXI.Sprite(texture), //Bottom-Left\n    new StretchedSprite(new PIXI.Texture(texture)), //Bottom\n    new PIXI.Sprite(texture), //Bottom-Right\n  ];\n\n  this._pixiObject.removeChildren();\n  this._pixiObject.addChild(this._centerSprite);\n  for (var i = 0; i < this._borderSprites.length; ++i) {\n    this._pixiObject.addChild(this._borderSprites[i]);\n  }\n};\n\nRenderedPanelSpriteInstance.prototype.updateAngle = function() {\n  this._pixiObject.rotation = RenderedInstance.toRad(this._instance.getAngle());\n};\n\nRenderedPanelSpriteInstance.prototype.updatePosition = function() {\n  this._pixiObject.x = this._instance.getX() + this._width / 2;\n  this._pixiObject.y = this._instance.getY() + this._height / 2;\n};\n\nRenderedPanelSpriteInstance.prototype._updateLocalPositions = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  var extraPixels = panelSprite.isTiled() ? 1 : 0;\n\n  this._centerSprite.position.x = panelSprite.getLeftMargin();\n  this._centerSprite.position.y = panelSprite.getTopMargin();\n  this._borderSprites[0].position.x =\n    this._width - panelSprite.getRightMargin() - extraPixels * 2;\n  this._borderSprites[0].position.y = panelSprite.getTopMargin();\n\n  this._borderSprites[1].position.x =\n    this._width - this._borderSprites[1].width - extraPixels * 2;\n  this._borderSprites[1].position.y = 0;\n\n  this._borderSprites[2].position.x = panelSprite.getLeftMargin();\n  this._borderSprites[2].position.y = 0;\n\n  this._borderSprites[3].position.x = 0;\n  this._borderSprites[3].position.y = 0;\n\n  this._borderSprites[4].position.x = 0;\n  this._borderSprites[4].position.y = panelSprite.getTopMargin();\n\n  this._borderSprites[5].position.x = 0;\n  this._borderSprites[5].position.y =\n    this._height - this._borderSprites[5].height - extraPixels * 2;\n\n  this._borderSprites[6].position.x = panelSprite.getLeftMargin();\n  this._borderSprites[6].position.y =\n    this._height - panelSprite.getBottomMargin() - extraPixels * 3; //FIXME: 1 more extra pixel is somewhat needed for pixel perfect alignment\n\n  this._borderSprites[7].position.x =\n    this._width - this._borderSprites[7].width - extraPixels * 2;\n  this._borderSprites[7].position.y =\n    this._height - this._borderSprites[7].height - extraPixels * 2;\n};\n\nRenderedPanelSpriteInstance.prototype._updateSpritesAndTexturesSize = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  this._centerSprite.width = Math.max(\n    this._width - panelSprite.getRightMargin() - panelSprite.getLeftMargin(),\n    0\n  );\n  this._centerSprite.height = Math.max(\n    this._height - panelSprite.getTopMargin() - panelSprite.getBottomMargin(),\n    0\n  );\n\n  //Top, Bottom, Right, Left borders:\n  this._borderSprites[0].width = panelSprite.getRightMargin();\n  this._borderSprites[0].height = Math.max(\n    this._height - panelSprite.getTopMargin() - panelSprite.getBottomMargin(),\n    0\n  );\n\n  this._borderSprites[2].height = panelSprite.getTopMargin();\n  this._borderSprites[2].width = Math.max(\n    this._width - panelSprite.getRightMargin() - panelSprite.getLeftMargin(),\n    0\n  );\n\n  this._borderSprites[4].width = panelSprite.getLeftMargin();\n  this._borderSprites[4].height = Math.max(\n    this._height - panelSprite.getTopMargin() - panelSprite.getBottomMargin(),\n    0\n  );\n\n  this._borderSprites[6].height = panelSprite.getBottomMargin();\n  this._borderSprites[6].width = Math.max(\n    this._width - panelSprite.getRightMargin() - panelSprite.getLeftMargin(),\n    0\n  );\n\n  this._wasRendered = true;\n  this._pixiObject.cacheAsBitmap = false;\n};\n\nRenderedPanelSpriteInstance.prototype.updateTexture = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  this._textureName = panelSprite.getTexture();\n  const texture = this._pixiResourcesLoader.getPIXITexture(\n    this._project,\n    this._textureName\n  );\n\n  if (texture.noFrame) {\n    //Post pone texture update if texture is not loaded\n    const renderer = this;\n    texture.on('update', function() {\n      renderer.updateTexture();\n      texture.off('update', this);\n    });\n\n    return;\n  }\n\n  console.log('Updating PanelSprite instance texture');\n  function makeInsideTexture(rect) {\n    if (rect.width < 0) rect.width = 0;\n    if (rect.height < 0) rect.height = 0;\n    if (rect.x < 0) rect.x = 0;\n    if (rect.y < 0) rect.y = 0;\n    if (rect.x > texture.width) rect.x = texture.width;\n    if (rect.y > texture.height) rect.y = texture.height;\n    if (rect.x + rect.width > texture.width)\n      rect.width = texture.width - rect.x;\n    if (rect.y + rect.height > texture.height)\n      rect.height = texture.height - rect.y;\n\n    return rect;\n  }\n\n  this._centerSprite.texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        panelSprite.getLeftMargin(),\n        panelSprite.getTopMargin(),\n        texture.width -\n          panelSprite.getLeftMargin() -\n          panelSprite.getRightMargin(),\n        texture.height -\n          panelSprite.getTopMargin() -\n          panelSprite.getBottomMargin()\n      )\n    )\n  );\n\n  //Top, Bottom, Right, Left borders:\n  this._borderSprites[0].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        texture.width - panelSprite.getRightMargin() - 1,\n        panelSprite.getTopMargin(),\n        panelSprite.getRightMargin() + 1,\n        texture.height -\n          panelSprite.getTopMargin() -\n          panelSprite.getBottomMargin()\n      )\n    )\n  );\n  this._borderSprites[2].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        panelSprite.getLeftMargin(),\n        0,\n        texture.width -\n          panelSprite.getLeftMargin() -\n          panelSprite.getRightMargin(),\n        panelSprite.getTopMargin() + 1\n      )\n    )\n  );\n  this._borderSprites[4].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        0,\n        panelSprite.getTopMargin(),\n        panelSprite.getLeftMargin() + 1,\n        texture.height -\n          panelSprite.getTopMargin() -\n          panelSprite.getBottomMargin()\n      )\n    )\n  );\n  this._borderSprites[6].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        panelSprite.getLeftMargin(),\n        texture.height - panelSprite.getBottomMargin() - 1,\n        texture.width -\n          panelSprite.getLeftMargin() -\n          panelSprite.getRightMargin(),\n        panelSprite.getBottomMargin() + 1\n      )\n    )\n  );\n\n  this._borderSprites[1].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        this._borderSprites[1].width - panelSprite.getRightMargin(),\n        0,\n        panelSprite.getRightMargin(),\n        panelSprite.getTopMargin()\n      )\n    )\n  );\n  this._borderSprites[3].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        0,\n        0,\n        panelSprite.getLeftMargin(),\n        panelSprite.getTopMargin()\n      )\n    )\n  );\n  this._borderSprites[5].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        0,\n        this._borderSprites[5].height - panelSprite.getBottomMargin(),\n        panelSprite.getLeftMargin(),\n        panelSprite.getBottomMargin()\n      )\n    )\n  );\n  this._borderSprites[7].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        this._borderSprites[7].width - panelSprite.getRightMargin(),\n        this._borderSprites[7].height - panelSprite.getBottomMargin(),\n        panelSprite.getRightMargin(),\n        panelSprite.getBottomMargin()\n      )\n    )\n  );\n\n  this._updateSpritesAndTexturesSize();\n  this._updateLocalPositions();\n  this.updatePosition();\n};\n\nRenderedPanelSpriteInstance.prototype.updateWidthHeight = function() {\n  this._pixiObject.pivot.x = this._width / 2;\n  this._pixiObject.pivot.y = this._height / 2;\n  this._updateSpritesAndTexturesSize();\n  this._updateLocalPositions();\n  this.updatePosition();\n};\n\nRenderedPanelSpriteInstance.prototype.getDefaultWidth = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  return panelSprite.getWidth();\n};\n\nRenderedPanelSpriteInstance.prototype.getDefaultHeight = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  return panelSprite.getHeight();\n};\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedPanelSpriteInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  const panelSprite = gd.asPanelSpriteObject(object);\n\n  return resourcesLoader.getResourceFullUrl(project, panelSprite.getTexture());\n};\n\nexport default RenderedPanelSpriteInstance;\n","import RenderedInstance from './RenderedInstance';\nimport PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * Renderer for a Text object.\n *\n * @extends RenderedInstance\n * @class RenderedTextInstance\n * @constructor\n */\nfunction RenderedTextInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  //Setup the PIXI object:\n  const textObject = gd.asTextObject(this._associatedObject);\n  this._pixiObject = new PIXI.Text(' ', { align: 'left' });\n  this._pixiObject.anchor.x = 0.5;\n  this._pixiObject.anchor.y = 0.5;\n  this._pixiContainer.addChild(this._pixiObject);\n  this._styleFontDirty = true;\n  this._fontFamily = this._pixiResourcesLoader.getFontFamily(\n    this._project,\n    textObject.getFontName()\n  );\n  this.update();\n}\nRenderedTextInstance.prototype = Object.create(RenderedInstance.prototype);\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedTextInstance.getThumbnail = function(project, resourcesLoader, object) {\n  return 'CppPlatform/Extensions/texticon24.png';\n};\n\nRenderedTextInstance.prototype.update = function() {\n  const textObject = gd.asTextObject(this._associatedObject);\n  this._pixiObject.text = textObject.getString();\n\n  //Update style, only if needed to avoid destroying text rendering performances\n  if (\n    textObject.isItalic() !== this._isItalic ||\n    textObject.isBold() !== this._isBold ||\n    textObject.getCharacterSize() !== this._characterSize ||\n    this._instance.hasCustomSize() !== this._wrapping ||\n    (this._instance.getCustomWidth() !== this._wrappingWidth && this._wrapping)\n  ) {\n    this._isItalic = textObject.isItalic();\n    this._isBold = textObject.isBold();\n    this._characterSize = textObject.getCharacterSize();\n    this._wrapping = this._instance.hasCustomSize();\n    this._wrappingWidth = this._instance.getCustomWidth();\n    this._styleFontDirty = true;\n  }\n\n  if (this._fontName !== textObject.getFontName()) {\n    //Avoid calling loadFontFamily if the font didn't changed.\n    this._fontName = textObject.getFontName();\n    this._pixiResourcesLoader\n      .loadFontFamily(this._project, textObject.getFontName())\n      .then(fontFamily => {\n        // Once the font is loaded, we can use the given fontFamily.\n        this._fontFamily = fontFamily;\n        this._styleFontDirty = true;\n      })\n      .catch(err => {\n        // Ignore errors\n        console.warn('Unable to load font family', err);\n      });\n  }\n\n  if (this._styleFontDirty) {\n    let font = '';\n    if (this._isItalic) font += 'italic ';\n    if (this._isBold) font += 'bold ';\n    font += this._characterSize + 'px ' + (this._fontFamily || 'Arial');\n\n    this._pixiObject.style.font = font;\n    this._pixiObject.style.wordWrap = this._wrapping;\n    this._pixiObject.style.wordWrapWidth =\n      this._wrappingWidth <= 1 ? 1 : this._wrappingWidth;\n    this._pixiObject.style.breakWords = true;\n\n    // Manually ask the PIXI object to re-render as we changed a style property\n    // see http://www.html5gamedevs.com/topic/16924-change-text-style-post-render/\n    this._pixiObject.dirty = true;\n    this._styleFontDirty = false;\n  }\n\n  if (\n    textObject.getColorR() !== this._colorR ||\n    textObject.getColorG() !== this._colorG ||\n    textObject.getColorB() !== this._colorB\n  ) {\n    this._colorR = textObject.getColorR();\n    this._colorG = textObject.getColorG();\n    this._colorB = textObject.getColorB();\n    this._pixiObject.style.fill =\n      'rgb(' + this._colorR + ',' + this._colorG + ',' + this._colorB + ')';\n\n    // Manually ask the PIXI object to re-render as we changed a style property\n    // see http://www.html5gamedevs.com/topic/16924-change-text-style-post-render/\n    this._pixiObject.dirty = true;\n  }\n\n  this._pixiObject.position.x =\n    this._instance.getX() + this._pixiObject.width / 2;\n  this._pixiObject.position.y =\n    this._instance.getY() + this._pixiObject.height / 2;\n  this._pixiObject.rotation = RenderedInstance.toRad(this._instance.getAngle());\n};\n\nRenderedTextInstance.prototype.getDefaultWidth = function() {\n  return this._pixiObject.width;\n};\n\nRenderedTextInstance.prototype.getDefaultHeight = function() {\n  return this._pixiObject.height;\n};\n\nexport default RenderedTextInstance;\n","import makeRenderer from './RenderedIconInstance';\nexport default makeRenderer('CppPlatform/Extensions/primitivedrawingicon.png');\n","import makeRenderer from './RenderedIconInstance';\nexport default makeRenderer('CppPlatform/Extensions/textentry.png');\n","import RenderedInstance from './RenderedInstance';\nimport PIXI from 'pixi.js';\nimport { rgbToHexNumber } from '../../Utils/ColorTransformer';\nconst gd = global.gd;\n\n/**\n * Renderer for an ParticleEmitter object.\n *\n * @extends RenderedInstance\n * @class RenderedParticleEmitterInstance\n * @constructor\n */\nfunction RenderedParticleEmitterInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  this._pixiObject = new PIXI.Graphics();\n  this._pixiContainer.addChild(this._pixiObject);\n  this.updateGraphics();\n}\nRenderedParticleEmitterInstance.prototype = Object.create(\n  RenderedInstance.prototype\n);\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedParticleEmitterInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  return 'CppPlatform/Extensions/particleSystemicon.png';\n};\n\nRenderedParticleEmitterInstance.prototype.update = function() {\n  this._pixiObject.position.x = this._instance.getX();\n  this._pixiObject.position.y = this._instance.getY();\n  this.updateGraphics();\n};\n\n/**\n * Render the preview of the particle emitter according to the setup of the object\n */\nRenderedParticleEmitterInstance.prototype.updateGraphics = function() {\n  const particleEmitterObject = gd.asParticleEmitterObject(\n    this._associatedObject\n  );\n\n  this._pixiObject.clear();\n\n  const emitterAngle = (this._instance.getAngle() / 180) * 3.14159;\n  const sprayConeAngle = particleEmitterObject.getConeSprayAngle();\n  const line1Angle = emitterAngle - (sprayConeAngle / 2.0 / 180.0) * 3.14159;\n  const line2Angle = emitterAngle + (sprayConeAngle / 2.0 / 180.0) * 3.14159;\n  const length = 64;\n\n  this._pixiObject.beginFill(0, 0);\n  this._pixiObject.lineStyle(\n    3,\n    rgbToHexNumber(\n      particleEmitterObject.getParticleRed2(),\n      particleEmitterObject.getParticleGreen2(),\n      particleEmitterObject.getParticleBlue2()\n    ),\n    1\n  );\n  this._pixiObject.moveTo(0, 0);\n  this._pixiObject.lineTo(\n    Math.cos(line1Angle) * length,\n    Math.sin(line1Angle) * length\n  );\n  this._pixiObject.moveTo(0, 0);\n  this._pixiObject.lineTo(\n    Math.cos(line2Angle) * length,\n    Math.sin(line2Angle) * length\n  );\n  this._pixiObject.endFill();\n\n  this._pixiObject.lineStyle(0, 0x000000, 1);\n  this._pixiObject.beginFill(\n    rgbToHexNumber(\n      particleEmitterObject.getParticleRed1(),\n      particleEmitterObject.getParticleGreen1(),\n      particleEmitterObject.getParticleBlue1()\n    )\n  );\n  this._pixiObject.drawCircle(0, 0, 8);\n  this._pixiObject.endFill();\n};\n\nRenderedParticleEmitterInstance.prototype.getDefaultWidth = function() {\n  return 128;\n};\n\nRenderedParticleEmitterInstance.prototype.getDefaultHeight = function() {\n  return 128;\n};\n\nRenderedParticleEmitterInstance.prototype.getOriginX = function() {\n  return 64;\n};\n\nRenderedParticleEmitterInstance.prototype.getOriginY = function() {\n  return 64;\n};\n\nexport default RenderedParticleEmitterInstance;\n","import FontFaceObserver from 'fontfaceobserver';\n\n/**\n * A simple wrapper around FontFace (if supported) or @font-face + FontFaceObserver\n * to load a font from an url and be notified when loading is done (or failed).\n * @param {*} fontFamily\n * @param {*} src\n * @param {*} descriptors\n */\nexport const loadFontFace = (fontFamily, src, descriptors = {}) => {\n  if (typeof FontFace !== 'undefined') {\n    // Load the given font using CSS Font Loading API.\n    const fontFace = new FontFace(fontFamily, src, descriptors);\n    document.fonts.add(fontFace);\n    return fontFace.load();\n  } else {\n    // Add @font-face and use FontFaceObserver to be notified when the\n    // font is ready.\n    const newStyle = document.createElement('style');\n    newStyle.appendChild(\n      document.createTextNode(\n        `@font-face {\n          font-family: ${fontFamily};\n          src: ${src};\n        }`\n      )\n    );\n\n    document.head.appendChild(newStyle);\n    return new FontFaceObserver(fontFamily, descriptors).load().catch(err => {\n      console.warn(`Error while loading font ${fontFamily}`, err);\n\n      throw err;\n    });\n  }\n};\n","import gesture from 'pixi-simple-gesture';\nimport ObjectsRenderingService from '../../ObjectsRendering/ObjectsRenderingService';\nimport getObjectByName from '../../Utils/GetObjectByName';\n\nimport PIXI from 'pixi.js';\nconst gd = global.gd;\n\nexport default class LayerRenderer {\n  constructor({\n    project,\n    layout,\n    layer,\n    viewPosition,\n    instances,\n    onInstanceClicked,\n    onOverInstance,\n    onOutInstance,\n    onMoveInstance,\n    onMoveInstanceEnd,\n    onDownInstance,\n  }) {\n    this.project = project;\n    this.instances = instances;\n    this.layout = layout;\n    this.layer = layer; // /!\\ Don't store any other reference.\n    // `layer` can be changed at any moment (see InstancesRenderer).\n    this.viewPosition = viewPosition;\n    this.onInstanceClicked = onInstanceClicked;\n    this.onOverInstance = onOverInstance;\n    this.onOutInstance = onOutInstance;\n    this.onMoveInstance = onMoveInstance;\n    this.onMoveInstanceEnd = onMoveInstanceEnd;\n    this.onDownInstance = onDownInstance;\n\n    this.viewTopLeft = [0, 0]; // Used for instances culling on rendering\n    this.viewBottomRight = [0, 0]; // Used for instances culling on rendering\n\n    this.renderedInstances = {};\n    this.pixiContainer = new PIXI.Container();\n\n    // Functor used to render an instance\n    this.instancesRenderer = new gd.InitialInstanceJSFunctor();\n    this.instancesRenderer.invoke = instancePtr => {\n      const instance = gd.wrapPointer(instancePtr, gd.InitialInstance);\n\n      //Get the \"RendereredInstance\" object associated to the instance and tell it to update.\n      var renderedInstance = this.getRendererOfInstance(instance);\n      if (!renderedInstance) return;\n\n      const pixiObject = renderedInstance.getPixiObject();\n      if (pixiObject) pixiObject.zOrder = instance.getZOrder();\n      if (pixiObject) pixiObject.interactive = !instance.isLocked();\n\n      // \"Culling\" improves rendering performance of large levels\n      const isVisible = this._isInstanceVisible(instance);\n      if (pixiObject) pixiObject.visible = isVisible;\n      if (isVisible) renderedInstance.update();\n\n      renderedInstance.wasUsed = true;\n    };\n  }\n\n  getPixiContainer() {\n    return this.pixiContainer;\n  }\n\n  getInstanceLeft = instance => {\n    return (\n      instance.getX() -\n      (this.renderedInstances[instance.ptr]\n        ? this.renderedInstances[instance.ptr].getOriginX()\n        : 0)\n    );\n  };\n\n  getInstanceTop = instance => {\n    return (\n      instance.getY() -\n      (this.renderedInstances[instance.ptr]\n        ? this.renderedInstances[instance.ptr].getOriginY()\n        : 0)\n    );\n  };\n\n  getInstanceWidth = instance => {\n    if (instance.hasCustomSize()) return instance.getCustomWidth();\n\n    return this.renderedInstances[instance.ptr]\n      ? this.renderedInstances[instance.ptr].getDefaultWidth()\n      : 0;\n  };\n\n  getInstanceHeight = instance => {\n    if (instance.hasCustomSize()) return instance.getCustomHeight();\n\n    return this.renderedInstances[instance.ptr]\n      ? this.renderedInstances[instance.ptr].getDefaultHeight()\n      : 0;\n  };\n\n  getRendererOfInstance = instance => {\n    var renderedInstance = this.renderedInstances[instance.ptr];\n    if (renderedInstance === undefined) {\n      //No renderer associated yet, the instance must have been just created!...\n      const associatedObjectName = instance.getObjectName();\n      const associatedObject = getObjectByName(\n        this.project,\n        this.layout,\n        associatedObjectName\n      );\n      if (!associatedObject) return;\n\n      //...so let's create a renderer.\n      renderedInstance = this.renderedInstances[\n        instance.ptr\n      ] = ObjectsRenderingService.createNewInstanceRenderer(\n        this.project,\n        this.layout,\n        instance,\n        associatedObject,\n        this.pixiContainer\n      );\n\n      renderedInstance._pixiObject.interactive = true;\n      gesture.panable(renderedInstance._pixiObject);\n      renderedInstance._pixiObject.on('click', () => {\n        this.onInstanceClicked(instance);\n      });\n      renderedInstance._pixiObject.on('mouseover', () => {\n        this.onOverInstance(instance);\n      });\n      renderedInstance._pixiObject.on('mousedown', () => {\n        this.onDownInstance(instance);\n      });\n      renderedInstance._pixiObject.on('touchstart', () => {\n        this.onDownInstance(instance);\n      });\n      renderedInstance._pixiObject.on('mouseout', () => {\n        this.onOutInstance(instance);\n      });\n      renderedInstance._pixiObject.on('panmove', event => {\n        this.onMoveInstance(instance, event.deltaX, event.deltaY);\n      });\n      renderedInstance._pixiObject.on('panend', event => {\n        this.onMoveInstanceEnd();\n      });\n    }\n\n    return renderedInstance;\n  };\n\n  /**\n   * This returns true if an instance is visible according to the viewPosition.\n   * The approach is a naive bounding box testing but save rendering time on large\n   * levels.\n   * @param {*} instance\n   */\n  _isInstanceVisible(instance) {\n    //TODO: Properly handle rotation\n    const left = this.getInstanceLeft(instance);\n    const top = this.getInstanceTop(instance);\n    if (\n      left + this.getInstanceWidth(instance) < this.viewTopLeft[0] ||\n      top + this.getInstanceHeight(instance) < this.viewTopLeft[1] ||\n      left > this.viewBottomRight[0] ||\n      top > this.viewBottomRight[1]\n    )\n      return false;\n\n    return true;\n  }\n\n  _computeViewBounds() {\n    this.viewTopLeft = this.viewPosition.toSceneCoordinates(0, 0);\n    this.viewBottomRight = this.viewPosition.toSceneCoordinates(\n      this.viewPosition.getWidth(),\n      this.viewPosition.getHeight()\n    );\n  }\n\n  render() {\n    this._computeViewBounds();\n    this.instances.iterateOverInstancesWithZOrdering(\n      this.instancesRenderer,\n      this.layer.getName()\n    );\n    this._updatePixiObjectsZOrder();\n    this._updateVisibility();\n    this._cleanRenderers();\n  }\n\n  _updatePixiObjectsZOrder() {\n    this.pixiContainer.children.sort((a, b) => {\n      a.zOrder = a.zOrder || 0;\n      b.zOrder = b.zOrder || 0;\n      return a.zOrder - b.zOrder;\n    });\n  }\n\n  _updateVisibility() {\n    this.pixiContainer.visible = this.layer.getVisibility();\n  }\n\n  /**\n   * Delete instance renderers of the specified objects, which will then be recreated during\n   * the next render.\n   * @param {string} objectName The name of the object for which instance must be re-rendered.\n   */\n  resetRenderersFor(objectName) {\n    for (let i in this.renderedInstances) {\n      if (this.renderedInstances.hasOwnProperty(i)) {\n        const renderedInstance = this.renderedInstances[i];\n        if (renderedInstance.getInstance().getObjectName() === objectName) {\n          renderedInstance.instanceRemovedFromScene();\n          delete this.renderedInstances[i];\n        }\n      }\n    }\n  }\n\n  /**\n   * Clean up rendered instances that are not associated to any instance anymore\n   * (this can happen after an instance has been deleted).\n   */\n  _cleanRenderers() {\n    for (let i in this.renderedInstances) {\n      if (this.renderedInstances.hasOwnProperty(i)) {\n        const renderedInstance = this.renderedInstances[i];\n        if (!renderedInstance.wasUsed) {\n          renderedInstance.instanceRemovedFromScene();\n          delete this.renderedInstances[i];\n        } else renderedInstance.wasUsed = false;\n      }\n    }\n  }\n\n  delete() {\n    this.instancesRenderer.delete();\n  }\n}\n","import PIXI from 'pixi.js';\nconst gd = global.gd;\n\nexport default class SelectionRectangle {\n  constructor({\n    instances,\n    instanceMeasurer,\n    toSceneCoordinates,\n    toCanvasCoordinates,\n  }) {\n    this.instances = instances;\n    this.instanceMeasurer = instanceMeasurer;\n    this.toSceneCoordinates = toSceneCoordinates;\n\n    this.pixiRectangle = new PIXI.Graphics();\n    this.pixiRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n    this.selectionRectangleStart = null;\n    this.selectionRectangleEnd = null;\n    this._instancesInSelectionRectangle = [];\n\n    this.selector = new gd.InitialInstanceJSFunctor();\n    this.selector.invoke = instancePtr => {\n      const instance = gd.wrapPointer(instancePtr, gd.InitialInstance);\n      const x = this.instanceMeasurer.getInstanceLeft(instance);\n      const y = this.instanceMeasurer.getInstanceTop(instance);\n      const instanceHeight = this.instanceMeasurer.getInstanceHeight(instance);\n      const instanceWidth = this.instanceMeasurer.getInstanceWidth(instance);\n\n      if (!this.selectionRectangleStart || !this.selectionRectangleEnd) return;\n\n      const selectionSceneStart = toSceneCoordinates(\n        this.selectionRectangleStart.x,\n        this.selectionRectangleStart.y\n      );\n      const selectionSceneEnd = toSceneCoordinates(\n        this.selectionRectangleEnd.x,\n        this.selectionRectangleEnd.y\n      );\n\n      if (\n        selectionSceneStart[0] <= x &&\n        x + instanceWidth <= selectionSceneEnd[0] &&\n        selectionSceneStart[1] <= y &&\n        y + instanceHeight <= selectionSceneEnd[1]\n      ) {\n        this._instancesInSelectionRectangle.push(instance);\n      }\n    };\n  }\n\n  makeSelectionRectangle = (lastX, lastY) => {\n    if (!this.selectionRectangleStart)\n      this.selectionRectangleStart = { x: lastX, y: lastY };\n\n    this.selectionRectangleEnd = { x: lastX, y: lastY };\n  };\n\n  endSelectionRectangle = () => {\n    if (!this.selectionRectangleStart) return [];\n\n    this._instancesInSelectionRectangle.length = 0;\n    if (this.selectionRectangleStart.x > this.selectionRectangleEnd.x) {\n      const tmp = this.selectionRectangleStart.x;\n      this.selectionRectangleStart.x = this.selectionRectangleEnd.x;\n      this.selectionRectangleEnd.x = tmp;\n    }\n    if (this.selectionRectangleStart.y > this.selectionRectangleEnd.y) {\n      const tmp = this.selectionRectangleStart.y;\n      this.selectionRectangleStart.y = this.selectionRectangleEnd.y;\n      this.selectionRectangleEnd.y = tmp;\n    }\n\n    this.instances.iterateOverInstances(this.selector);\n\n    this.selectionRectangleStart = null;\n    return this._instancesInSelectionRectangle;\n  };\n\n  getPixiObject() {\n    return this.pixiRectangle;\n  }\n\n  render() {\n    if (!this.selectionRectangleStart) {\n      this.pixiRectangle.visible = false;\n      return;\n    }\n\n    let x1 = this.selectionRectangleStart.x;\n    let y1 = this.selectionRectangleStart.y;\n    let x2 = this.selectionRectangleEnd.x;\n    let y2 = this.selectionRectangleEnd.y;\n\n    this.pixiRectangle.visible = true;\n    this.pixiRectangle.clear();\n    this.pixiRectangle.beginFill(0x6868e8);\n    this.pixiRectangle.lineStyle(1, 0x6868e8, 1);\n    this.pixiRectangle.fillAlpha = 0.1;\n    this.pixiRectangle.alpha = 0.8;\n    this.pixiRectangle.drawRect(\n      Math.min(x1, x2),\n      Math.min(y1, y2),\n      Math.abs(x2 - x1),\n      Math.abs(y2 - y1)\n    );\n    this.pixiRectangle.endFill();\n  }\n\n  delete() {\n    this.selector.delete();\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport Background from '../../UI/Background';\nimport enumerateLayers from '../../LayersList/EnumerateLayers';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport PropertiesEditor from '../../PropertiesEditor';\nimport propertiesMapToSchema from '../../PropertiesEditor/PropertiesMapToSchema';\nimport { type Schema } from '../../PropertiesEditor';\nimport VariablesList from '../../VariablesList';\nimport getObjectByName from '../../Utils/GetObjectByName';\nimport IconButton from 'material-ui/IconButton';\nimport { Line, Column } from '../../UI/Grid';\n\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\n\ntype Props = {|\n  project: gdProject,\n  layout: gdLayout,\n  instances: Array<gdInitialInstance>,\n  onEditObjectByName: string => void,\n  editObjectVariables: (?gdObject) => void,\n  editInstanceVariables: gdInitialInstance => void,\n|};\n\nexport default class InstancePropertiesEditor extends React.Component<Props> {\n  _instanceVariablesList: { current: null | VariablesList } = React.createRef();\n  schema: Schema = [\n    {\n      name: 'Object name',\n      valueType: 'string',\n      disabled: true,\n      getValue: (instance: gdInitialInstance) => instance.getObjectName(),\n      setValue: (instance: gdInitialInstance, newValue: string) =>\n        instance.setObjectName(newValue),\n      onEditButtonClick: (instance: gdInitialInstance) =>\n        this.props.onEditObjectByName(instance.getObjectName()),\n    },\n    {\n      name: 'Position',\n      type: 'row',\n      children: [\n        {\n          name: 'X',\n          valueType: 'number',\n          getValue: (instance: gdInitialInstance) => instance.getX(),\n          setValue: (instance: gdInitialInstance, newValue: number) =>\n            instance.setX(newValue),\n        },\n        {\n          name: 'Y',\n          valueType: 'number',\n          getValue: (instance: gdInitialInstance) => instance.getY(),\n          setValue: (instance: gdInitialInstance, newValue: number) =>\n            instance.setY(newValue),\n        },\n      ],\n    },\n    {\n      name: 'Angle',\n      valueType: 'number',\n      getValue: (instance: gdInitialInstance) => instance.getAngle(),\n      setValue: (instance: gdInitialInstance, newValue: number) =>\n        instance.setAngle(newValue),\n    },\n    {\n      name: 'Lock position/angle in the editor',\n      valueType: 'boolean',\n      getValue: (instance: gdInitialInstance) => instance.isLocked(),\n      setValue: (instance: gdInitialInstance, newValue: boolean) =>\n        instance.setLocked(newValue),\n    },\n    {\n      name: 'Z Order',\n      valueType: 'number',\n      getValue: (instance: gdInitialInstance) => instance.getZOrder(),\n      setValue: (instance: gdInitialInstance, newValue: number) =>\n        instance.setZOrder(newValue),\n    },\n    {\n      name: 'Layer',\n      valueType: 'string',\n      getChoices: () => enumerateLayers(this.props.layout),\n      getValue: (instance: gdInitialInstance) => instance.getLayer(),\n      setValue: (instance: gdInitialInstance, newValue: string) =>\n        instance.setLayer(newValue),\n    },\n    {\n      name: 'Custom size',\n      type: 'row',\n      children: [\n        {\n          name: 'Width',\n          valueType: 'number',\n          getValue: (instance: gdInitialInstance) => instance.getCustomWidth(),\n          setValue: (instance: gdInitialInstance, newValue: number) =>\n            instance.setCustomWidth(newValue),\n        },\n        {\n          name: 'Height',\n          valueType: 'number',\n          getValue: (instance: gdInitialInstance) => instance.getCustomHeight(),\n          setValue: (instance: gdInitialInstance, newValue: number) =>\n            instance.setCustomHeight(newValue),\n        },\n      ],\n    },\n    {\n      name: 'Custom size?',\n      valueType: 'boolean',\n      getValue: (instance: gdInitialInstance) => instance.hasCustomSize(),\n      setValue: (instance: gdInitialInstance, newValue: boolean) =>\n        instance.setHasCustomSize(newValue),\n    },\n  ];\n\n  _renderEmpty() {\n    return (\n      <EmptyMessage>\n        <Trans>\n          Click on an instance in the scene to display its properties\n        </Trans>\n      </EmptyMessage>\n    );\n  }\n\n  _renderInstancesProperties() {\n    const { project, layout, instances } = this.props;\n    const instance = instances[0];\n    const associatedObjectName = instance.getObjectName();\n    const object = getObjectByName(project, layout, associatedObjectName);\n    //TODO: multiple instances support\n    const properties = instance.getCustomProperties(project, layout);\n    const instanceSchema = propertiesMapToSchema(\n      properties,\n      (instance: gdInitialInstance) =>\n        instance.getCustomProperties(project, layout),\n      (instance: gdInitialInstance, name, value) =>\n        instance.updateCustomProperty(name, value, project, layout)\n    );\n\n    return (\n      <div\n        style={{ overflowY: 'scroll', overflowX: 'hidden' }}\n        key={instances\n          .map((instance: gdInitialInstance) => '' + instance.ptr)\n          .join(';')}\n      >\n        <Column>\n          <PropertiesEditor\n            schema={this.schema.concat(instanceSchema)}\n            instances={instances}\n          />\n          <Line alignItems=\"center\">\n            <Trans>Instance Variables</Trans>\n            <IconButton\n              onClick={() => {\n                this.props.editInstanceVariables(instance);\n              }}\n            >\n              <OpenInNew />\n            </IconButton>\n          </Line>\n        </Column>\n        <VariablesList\n          inheritedVariablesContainer={object ? object.getVariables() : null}\n          variablesContainer={instance.getVariables()}\n          onSizeUpdated={\n            () =>\n              this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n          }\n          ref={this._instanceVariablesList}\n        />\n      </div>\n    );\n  }\n\n  render() {\n    const { instances } = this.props;\n\n    return (\n      <Background>\n        {!instances || !instances.length\n          ? this._renderEmpty()\n          : this._renderInstancesProperties()}\n      </Background>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport { AutoSizer, Table, Column } from 'react-virtualized';\nimport ThemeConsumer from '../../UI/Theme/ThemeConsumer';\nconst gd = global.gd;\n\nexport default class InstancesList extends Component {\n  shouldComponentUpdate(nextProps) {\n    // Rendering the component is costly as it iterates over\n    // every instances, so the prop freezeUpdate allows to ask the component to stop\n    // updating, for example when hidden.\n    return !nextProps.freezeUpdate;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // If the component was frozen and is now allowed to update,\n    // force the table to be refreshed to reflect changes (new instances,\n    // or selection changes).\n    if (!nextProps.freezeUpdate && this.props.freezeUpdate) {\n      if (this.table) this.table.forceUpdateGrid();\n    }\n  }\n\n  componentWillMount() {\n    this.renderedRows = [];\n\n    // Functor used to display an instance row\n    this.instanceRowRenderer = new gd.InitialInstanceJSFunctor();\n    this.instanceRowRenderer.invoke = instancePtr => {\n      const instance = gd.wrapPointer(instancePtr, gd.InitialInstance);\n\n      this.renderedRows.push({\n        instance,\n        name: instance.getObjectName(),\n        locked: instance.isLocked() ? '🔒' : '',\n        x: instance.getX().toFixed(2),\n        y: instance.getY().toFixed(2),\n        angle: instance.getAngle().toFixed(2),\n        layer: instance.getLayer(),\n        zOrder: instance.getZOrder(),\n      });\n    };\n  }\n\n  componentWillUnmount() {\n    this.instanceRowRenderer.delete();\n  }\n\n  _onRowClick = ({ index }) => {\n    if (!this.renderedRows[index]) return;\n    this.props.onSelectInstances([this.renderedRows[index].instance]);\n  };\n\n  _rowGetter = ({ index }) => {\n    return this.renderedRows[index];\n  };\n\n  _rowClassName = ({ index }) => {\n    if (index < 0) {\n      return 'tableHeaderRow';\n    } else {\n      const row = this.renderedRows[index];\n      if (row && this.props.selectedInstances.indexOf(row.instance) !== -1)\n        return 'tableSelectedRow';\n\n      return index % 2 === 0 ? 'tableEvenRow' : 'tableOddRow';\n    }\n  };\n\n  render() {\n    const { instances } = this.props;\n\n    this.renderedRows.length = 0;\n    instances.iterateOverInstances(this.instanceRowRenderer);\n\n    // Force Table component to be mounted again if instances\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const tableKey = instances.ptr;\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <AutoSizer>\n            {({ height, width }) => (\n              <Table\n                ref={table => (this.table = table)}\n                key={tableKey}\n                headerHeight={30}\n                height={height}\n                className={muiTheme.tableRootClassName}\n                headerClassName={'tableHeaderColumn'}\n                rowCount={this.renderedRows.length}\n                rowGetter={this._rowGetter}\n                rowHeight={35}\n                onRowClick={this._onRowClick}\n                rowClassName={this._rowClassName}\n                width={width}\n              >\n                <Column\n                  label={<Trans>Object name</Trans>}\n                  dataKey=\"name\"\n                  width={width * 0.35}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label=\"\"\n                  dataKey=\"locked\"\n                  width={width * 0.05}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>X</Trans>}\n                  dataKey=\"x\"\n                  width={width * 0.1}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>Y</Trans>}\n                  dataKey=\"y\"\n                  width={width * 0.1}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>Angle</Trans>}\n                  dataKey=\"angle\"\n                  width={width * 0.1}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>Layer</Trans>}\n                  dataKey=\"layer\"\n                  width={width * 0.2}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>Z Order</Trans>}\n                  dataKey=\"zOrder\"\n                  width={width * 0.1}\n                  className={'tableColumn'}\n                />\n              </Table>\n            )}\n          </AutoSizer>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport enumerateLayers from './EnumerateLayers';\n\nexport default class VariablesEditorDialog extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedLayer: '',\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (!this.props.open && newProps.open) {\n      this.setState({\n        selectedLayer: '',\n      });\n    }\n  }\n\n  render() {\n    if (!this.props.layersContainer || !this.props.open) return null;\n\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        secondary={true}\n        keyboardFocused={true}\n        onClick={() => this.props.onClose(false)}\n      />,\n      <FlatButton\n        label={<Trans>Remove objects</Trans>}\n        secondary={true}\n        onClick={() => this.props.onClose(true, null)}\n      />,\n      <FlatButton\n        label={<Trans>Move objects</Trans>}\n        primary={true}\n        onClick={() => this.props.onClose(true, this.state.selectedLayer)}\n      />,\n    ];\n\n    const layers = enumerateLayers(this.props.layersContainer);\n    const choices = layers\n      .filter(({ value }) => {\n        return value !== this.props.layerRemoved;\n      })\n      .map(({ value, label }) => (\n        <MenuItem key={value} value={value} primaryText={label} />\n      ));\n\n    return (\n      <Dialog\n        title={<Trans>Objects on {this.props.layerRemoved}</Trans>}\n        actions={actions}\n        modal={true}\n        open={this.props.open}\n        onRequestClose={this.props.onCancel}\n      >\n        <div>\n          <Trans>Move objects on layer {this.props.layerRemoved} to:</Trans>\n        </div>\n        <SelectField\n          value={this.state.selectedLayer}\n          onChange={(event, index, newValue) => {\n            this.setState({ selectedLayer: newValue });\n          }}\n        >\n          {choices}\n        </SelectField>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\nimport TextField from 'material-ui/TextField';\nimport { Line, Column } from '../../UI/Grid';\nimport ColorPicker from '../../UI/ColorField/ColorPicker';\nimport MiniToolbar, { MiniToolbarText } from '../../UI/MiniToolbar';\nimport ResourceSelector from '../../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type EditorProps } from './EditorProps.flow';\nconst gd = global.gd;\n\nconst toolbarItemStyle = {\n  marginRight: 10,\n};\n\nconst styles = {\n  sizeTextField: {\n    width: 90,\n    ...toolbarItemStyle,\n  },\n  toolbarItem: toolbarItemStyle,\n  checkbox: {\n    width: 'auto',\n    ...toolbarItemStyle,\n  },\n};\n\nexport default class TextEditor extends React.Component<EditorProps, void> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const textObject = gd.asTextObject(object);\n\n    return (\n      <Column noMargin>\n        <MiniToolbar>\n          <MiniToolbarText>\n            <Trans>Size:</Trans>\n          </MiniToolbarText>\n          <TextField\n            type=\"number\"\n            style={styles.sizeTextField}\n            value={textObject.getCharacterSize()}\n            onChange={(e, value) => {\n              textObject.setCharacterSize(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <MiniToolbarText>\n            <Trans>Color:</Trans>\n          </MiniToolbarText>\n          <ColorPicker\n            style={styles.sizeTextField}\n            disableAlpha\n            color={{\n              r: textObject.getColorR(),\n              g: textObject.getColorG(),\n              b: textObject.getColorB(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              textObject.setColor(color.rgb.r, color.rgb.g, color.rgb.b);\n              this.forceUpdate();\n            }}\n          />\n          <Checkbox\n            label={<Trans>Bold</Trans>}\n            checked={textObject.isBold()}\n            onCheck={(e, checked) => {\n              textObject.setBold(checked);\n              this.forceUpdate();\n            }}\n            style={styles.checkbox}\n          />\n          <Checkbox\n            label={<Trans>Italic</Trans>}\n            checked={textObject.isItalic()}\n            onCheck={(e, checked) => {\n              textObject.setItalic(checked);\n              this.forceUpdate();\n            }}\n            style={styles.checkbox}\n          />\n          <ResourceSelector\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n            resourcesLoader={ResourcesLoader}\n            resourceKind=\"font\"\n            fullWidth\n            initialResourceName={textObject.getFontName()}\n            onChange={resourceName => {\n              textObject.setFontName(resourceName);\n              this.forceUpdate();\n            }}\n            hintText={<Trans>Choose a font</Trans>}\n          />\n        </MiniToolbar>\n        <Line noMargin>\n          <Column expand>\n            <Line>\n              <TextField\n                hintText={\n                  <Trans>Enter the text to be displayed by the object</Trans>\n                }\n                fullWidth\n                multiLine\n                rows={8}\n                rowsMax={8}\n                value={textObject.getString()}\n                onChange={(e, value) => {\n                  textObject.setString(value);\n                  this.forceUpdate();\n                  this.props.onSizeUpdated();\n                }}\n              />\n            </Line>\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport { Line, Column } from '../../UI/Grid';\nimport ResourceSelectorWithThumbnail from '../../ResourcesList/ResourceSelectorWithThumbnail';\nimport { type EditorProps } from './EditorProps.flow';\nconst gd = global.gd;\n\nexport default class TiledSpriteEditor extends React.Component<\n  EditorProps,\n  void\n> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const tiledSpriteObject = gd.asTiledSpriteObject(object);\n\n    return (\n      <Column>\n        <Line>\n          <ResourceSelectorWithThumbnail\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceKind=\"image\"\n            resourceName={tiledSpriteObject.getTexture()}\n            resourceExternalEditors={resourceExternalEditors}\n            onChange={resourceName => {\n              tiledSpriteObject.setTexture(resourceName);\n              this.forceUpdate();\n            }}\n            floatingLabelText={<Trans>Select an image</Trans>}\n          />\n        </Line>\n        <Line>\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Default width (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={tiledSpriteObject.getWidth()}\n            onChange={value => {\n              tiledSpriteObject.setWidth(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Default height (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={tiledSpriteObject.getHeight()}\n            onChange={value => {\n              tiledSpriteObject.setHeight(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\nimport Checkbox from 'material-ui/Checkbox';\nimport { Line, Column } from '../../UI/Grid';\nimport ResourceSelectorWithThumbnail from '../../ResourcesList/ResourceSelectorWithThumbnail';\nimport { type EditorProps } from './EditorProps.flow';\nconst gd = global.gd;\n\nexport default class PanelSpriteEditor extends React.Component<\n  EditorProps,\n  void\n> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const panelSpriteObject = gd.asPanelSpriteObject(object);\n\n    return (\n      <Column>\n        <Line>\n          <ResourceSelectorWithThumbnail\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n            resourceKind=\"image\"\n            resourceName={panelSpriteObject.getTexture()}\n            onChange={resourceName => {\n              panelSpriteObject.setTexture(resourceName);\n              this.forceUpdate();\n            }}\n            floatingLabelText={<Trans>Select an image</Trans>}\n          />\n        </Line>\n        <Line>\n          <Checkbox\n            label={\n              <Trans>\n                Repeat borders and center textures (instead of stretching them)\n              </Trans>\n            }\n            checked={panelSpriteObject.isTiled()}\n            onCheck={(e, checked) => {\n              panelSpriteObject.setTiled(checked);\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <TextField\n            floatingLabelText={<Trans>Top margin</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getTopMargin()}\n            onChange={(e, value) => {\n              panelSpriteObject.setTopMargin(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Bottom margin</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getBottomMargin()}\n            onChange={(e, value) => {\n              panelSpriteObject.setBottomMargin(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <TextField\n            floatingLabelText={<Trans>Left margin</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getLeftMargin()}\n            onChange={(e, value) => {\n              panelSpriteObject.setLeftMargin(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Right margin</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getRightMargin()}\n            onChange={(e, value) => {\n              panelSpriteObject.setRightMargin(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <TextField\n            floatingLabelText={<Trans>Default width (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getWidth()}\n            onChange={(e, value) => {\n              panelSpriteObject.setWidth(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Default height (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getHeight()}\n            onChange={(e, value) => {\n              panelSpriteObject.setHeight(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { GridList, GridTile } from 'material-ui/GridList';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport SpritesList from './SpritesList';\nimport Add from 'material-ui/svg-icons/content/add';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport IconButton from 'material-ui/IconButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { mapFor } from '../../../Utils/MapFor';\nimport SemiControlledTextField from '../../../UI/SemiControlledTextField';\nimport Dialog from '../../../UI/Dialog';\nimport EmptyMessage from '../../../UI/EmptyMessage';\nimport MiniToolbar from '../../../UI/MiniToolbar';\nimport DragHandle from '../../../UI/DragHandle';\nimport ContextMenu from '../../../UI/Menu/ContextMenu';\nimport { showWarningBox } from '../../../UI/Messages/MessageBox';\nimport ResourcesLoader from '../../../ResourcesLoader';\nimport PointsEditor from './PointsEditor';\nimport CollisionMasksEditor from './CollisionMasksEditor';\nimport {\n  deleteSpritesFromAnimation,\n  duplicateSpritesInAnimation,\n} from './Utils/SpriteObjectHelper';\nimport { type EditorProps } from '../EditorProps.flow';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../../ResourcesList/ResourceExternalEditor.flow';\n\nconst gd = global.gd;\n\nconst styles = {\n  gridList: {\n    overflowY: 'auto',\n  },\n  animationTitle: {\n    flex: 1,\n  },\n  animationTools: {\n    flexShrink: 0,\n  },\n  lastLine: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  addAnimation: {\n    display: 'flex',\n  },\n  addAnimationText: {\n    justifyContent: 'flex-end',\n  },\n};\n\nconst AddAnimationLine = ({ onAdd, extraTools }) => (\n  <div style={styles.lastLine}>\n    {extraTools}\n    <div style={styles.addAnimation}>\n      <EmptyMessage style={styles.addAnimationText}>\n        Click to add an animation:\n      </EmptyMessage>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </div>\n  </div>\n);\n\ntype AnimationProps = {|\n  animation: gdAnimation,\n  id: number,\n  project: gdProject,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  onRemove: () => void,\n  resourcesLoader: typeof ResourcesLoader,\n  onSpriteContextMenu: (x: number, y: number, sprite: gdSprite) => void,\n  selectedSprites: {\n    [number]: boolean,\n  },\n  onSelectSprite: (sprite: gdSprite, selected: boolean) => void,\n  onReplaceDirection: (\n    directionIndex: number,\n    newDirection: gdDirection\n  ) => void,\n  objectName: string,\n  onChangeName: string => void,\n|};\n\nclass Animation extends React.Component<AnimationProps, void> {\n  render() {\n    const {\n      animation,\n      id,\n      project,\n      resourceSources,\n      onRemove,\n      onChooseResource,\n      resourceExternalEditors,\n      resourcesLoader,\n      onSpriteContextMenu,\n      selectedSprites,\n      onSelectSprite,\n      onReplaceDirection,\n      objectName,\n      onChangeName,\n    } = this.props;\n\n    const animationName = animation.getName();\n    return (\n      <GridTile>\n        <MiniToolbar smallest>\n          <DragHandle />\n          <span style={styles.animationTitle}>\n            Animation #{id}{' '}\n            <SemiControlledTextField\n              commitOnBlur\n              value={animation.getName()}\n              hintText={<Trans>Optional animation name</Trans>}\n              onChange={text => onChangeName(text)}\n            />\n          </span>\n          <span style={styles.animationTools}>\n            <IconButton onClick={onRemove}>\n              <Delete />\n            </IconButton>\n          </span>\n        </MiniToolbar>\n        {mapFor(0, animation.getDirectionsCount(), i => {\n          const direction = animation.getDirection(i);\n          return (\n            <SpritesList\n              direction={direction}\n              key={i}\n              project={project}\n              resourcesLoader={resourcesLoader}\n              resourceSources={resourceSources}\n              onChooseResource={onChooseResource}\n              resourceExternalEditors={resourceExternalEditors}\n              onSpriteContextMenu={onSpriteContextMenu}\n              selectedSprites={selectedSprites}\n              onSelectSprite={onSelectSprite}\n              onReplaceByDirection={newDirection =>\n                onReplaceDirection(i, newDirection)\n              }\n              objectName={objectName}\n              animationName={animationName}\n              onChangeName={onChangeName}\n            />\n          );\n        })}\n      </GridTile>\n    );\n  }\n}\n\nconst SortableAnimation = SortableElement(Animation);\n\nconst SortableAnimationsList = SortableContainer(\n  ({\n    spriteObject,\n    objectName,\n    onAddAnimation,\n    onRemoveAnimation,\n    onChangeAnimationName,\n    project,\n    resourcesLoader,\n    resourceSources,\n    onChooseResource,\n    resourceExternalEditors,\n    extraBottomTools,\n    onSpriteContextMenu,\n    selectedSprites,\n    onSelectSprite,\n    onReplaceDirection,\n  }) => {\n    return (\n      <GridList style={styles.gridList} cellHeight=\"auto\" cols={1}>\n        {[\n          ...mapFor(0, spriteObject.getAnimationsCount(), i => {\n            const animation = spriteObject.getAnimation(i);\n            return (\n              <SortableAnimation\n                key={i}\n                index={i}\n                id={i}\n                animation={animation}\n                project={project}\n                resourcesLoader={resourcesLoader}\n                resourceSources={resourceSources}\n                onChooseResource={onChooseResource}\n                resourceExternalEditors={resourceExternalEditors}\n                onRemove={() => onRemoveAnimation(i)}\n                onChangeName={newName => onChangeAnimationName(i, newName)}\n                onSpriteContextMenu={onSpriteContextMenu}\n                selectedSprites={selectedSprites}\n                onSelectSprite={onSelectSprite}\n                onReplaceDirection={(directionId, newDirection) =>\n                  onReplaceDirection(i, directionId, newDirection)\n                }\n                objectName={objectName}\n              />\n            );\n          }),\n          <AddAnimationLine\n            onAdd={onAddAnimation}\n            key=\"add-animation-line\"\n            disabled\n            index={spriteObject.getAnimationsCount()}\n            extraTools={extraBottomTools}\n          />,\n        ]}\n      </GridList>\n    );\n  }\n);\n\ntype AnimationsListContainerProps = {|\n  spriteObject: gdSpriteObject,\n  project: gdProject,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  resourcesLoader: typeof ResourcesLoader,\n  extraBottomTools: React.Node,\n  onSizeUpdated: () => void,\n  objectName: string,\n|};\n\ntype AnimationsListContainerState = {|\n  selectedSprites: {\n    [number]: boolean,\n  },\n|};\n\nclass AnimationsListContainer extends React.Component<\n  AnimationsListContainerProps,\n  AnimationsListContainerState\n> {\n  state = {\n    selectedSprites: {},\n  };\n  spriteContextMenu: ?ContextMenu;\n\n  onSortEnd = ({ oldIndex, newIndex }) => {\n    this.props.spriteObject.moveAnimation(oldIndex, newIndex);\n    this.forceUpdate();\n  };\n\n  addAnimation = () => {\n    const emptyAnimation = new gd.Animation();\n    emptyAnimation.setDirectionsCount(1);\n    this.props.spriteObject.addAnimation(emptyAnimation);\n    this.forceUpdate();\n    this.props.onSizeUpdated();\n  };\n\n  removeAnimation = i => {\n    //eslint-disable-next-line\n    const answer = confirm('Are you sure you want to remove this animation?');\n\n    if (answer) {\n      this.props.spriteObject.removeAnimation(i);\n      this.forceUpdate();\n      this.props.onSizeUpdated();\n    }\n  };\n\n  changeAnimationName = (i, newName) => {\n    const { spriteObject } = this.props;\n\n    const otherNames = mapFor(0, spriteObject.getAnimationsCount(), index => {\n      return index === i\n        ? undefined // Don't check the current animation name as we're changing it.\n        : spriteObject.getAnimation(index).getName();\n    });\n\n    if (newName !== '' && otherNames.filter(name => name === newName).length) {\n      showWarningBox(\n        'Another animation with this name already exists. Please use another name.'\n      );\n      return;\n    }\n\n    spriteObject.getAnimation(i).setName(newName);\n    this.forceUpdate();\n  };\n\n  deleteSelection = () => {\n    const { spriteObject } = this.props;\n\n    mapFor(0, spriteObject.getAnimationsCount(), index => {\n      const animation = spriteObject.getAnimation(index);\n      deleteSpritesFromAnimation(animation, this.state.selectedSprites);\n    });\n\n    this.setState({\n      selectedSprites: {},\n    });\n  };\n\n  duplicateSelection = () => {\n    const { spriteObject } = this.props;\n\n    mapFor(0, spriteObject.getAnimationsCount(), index => {\n      const animation = spriteObject.getAnimation(index);\n      duplicateSpritesInAnimation(animation, this.state.selectedSprites);\n    });\n\n    this.setState({\n      selectedSprites: {},\n    });\n  };\n\n  openSpriteContextMenu = (x, y, sprite, index) => {\n    this.selectSprite(sprite, true);\n    if (this.spriteContextMenu) this.spriteContextMenu.open(x, y);\n  };\n\n  selectSprite = (sprite, selected) => {\n    this.setState({\n      selectedSprites: {\n        ...this.state.selectedSprites,\n        [sprite.ptr]: selected,\n      },\n    });\n  };\n\n  replaceDirection = (animationId, directionId, newDirection) => {\n    this.props.spriteObject\n      .getAnimation(animationId)\n      .setDirection(newDirection, directionId);\n    this.forceUpdate();\n  };\n\n  render() {\n    return (\n      <div>\n        <SortableAnimationsList\n          spriteObject={this.props.spriteObject}\n          objectName={this.props.objectName}\n          helperClass=\"sortable-helper\"\n          project={this.props.project}\n          onSortEnd={this.onSortEnd}\n          onAddAnimation={this.addAnimation}\n          onChangeAnimationName={this.changeAnimationName}\n          onRemoveAnimation={this.removeAnimation}\n          onReplaceDirection={this.replaceDirection}\n          onSpriteContextMenu={this.openSpriteContextMenu}\n          selectedSprites={this.state.selectedSprites}\n          onSelectSprite={this.selectSprite}\n          resourcesLoader={this.props.resourcesLoader}\n          resourceSources={this.props.resourceSources}\n          resourceExternalEditors={this.props.resourceExternalEditors}\n          onChooseResource={this.props.onChooseResource}\n          extraBottomTools={this.props.extraBottomTools}\n          useDragHandle\n          lockAxis=\"y\"\n          axis=\"y\"\n        />\n        <ContextMenu\n          ref={spriteContextMenu =>\n            (this.spriteContextMenu = spriteContextMenu)\n          }\n          buildMenuTemplate={() => [\n            {\n              label: 'Delete selection',\n              click: () => this.deleteSelection(),\n            },\n            {\n              label: 'Duplicate selection',\n              click: () => this.duplicateSelection(),\n            },\n          ]}\n        />\n      </div>\n    );\n  }\n}\n\ntype State = {|\n  pointsEditorOpen: boolean,\n  collisionMasksEditorOpen: boolean,\n|};\n\nexport default class SpriteEditor extends React.Component<EditorProps, State> {\n  state = {\n    pointsEditorOpen: false,\n    collisionMasksEditorOpen: false,\n  };\n\n  resourcesLoader: typeof ResourcesLoader;\n\n  constructor(props: EditorProps) {\n    super(props);\n\n    this.resourcesLoader = ResourcesLoader;\n  }\n\n  openPointsEditor = (open: boolean = true) => {\n    this.setState({\n      pointsEditorOpen: open,\n    });\n  };\n\n  openCollisionMasksEditor = (open: boolean = true) => {\n    this.setState({\n      collisionMasksEditorOpen: open,\n    });\n  };\n\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n      onSizeUpdated,\n      objectName,\n    } = this.props;\n    const spriteObject = gd.asSpriteObject(object);\n\n    return (\n      <div>\n        <AnimationsListContainer\n          spriteObject={spriteObject}\n          resourcesLoader={this.resourcesLoader}\n          resourceSources={resourceSources}\n          onChooseResource={onChooseResource}\n          resourceExternalEditors={resourceExternalEditors}\n          project={project}\n          objectName={objectName}\n          onSizeUpdated={onSizeUpdated}\n          extraBottomTools={\n            <div>\n              <RaisedButton\n                label={<Trans>Edit hitboxes</Trans>}\n                primary={false}\n                onClick={() => this.openCollisionMasksEditor(true)}\n                disabled={spriteObject.getAnimationsCount() === 0}\n              />\n              <RaisedButton\n                label={<Trans>Edit points</Trans>}\n                primary={false}\n                onClick={() => this.openPointsEditor(true)}\n                disabled={spriteObject.getAnimationsCount() === 0}\n              />\n            </div>\n          }\n        />\n        {this.state.pointsEditorOpen && (\n          <Dialog\n            actions={\n              <FlatButton\n                label={<Trans>Close</Trans>}\n                primary\n                onClick={() => this.openPointsEditor(false)}\n              />\n            }\n            autoScrollBodyContent\n            noMargin\n            modal\n            onRequestClose={() => this.openPointsEditor(false)}\n            open={this.state.pointsEditorOpen}\n          >\n            <PointsEditor\n              object={spriteObject}\n              resourcesLoader={this.resourcesLoader}\n              project={project}\n              onPointsUpdated={\n                () =>\n                  this.forceUpdate() /*Force update to ensure dialog is properly positioned*/\n              }\n            />\n          </Dialog>\n        )}\n        {this.state.collisionMasksEditorOpen && (\n          <Dialog\n            actions={\n              <FlatButton\n                label={<Trans>Close</Trans>}\n                primary\n                onClick={() => this.openCollisionMasksEditor(false)}\n              />\n            }\n            autoScrollBodyContent\n            noMargin\n            modal\n            onRequestClose={() => this.openCollisionMasksEditor(false)}\n            open={this.state.collisionMasksEditorOpen}\n          >\n            <CollisionMasksEditor\n              object={spriteObject}\n              resourcesLoader={this.resourcesLoader}\n              project={project}\n              onCollisionMasksUpdated={\n                () =>\n                  this.forceUpdate() /*Force update to ensure dialog is properly positioned*/\n              }\n            />\n          </Dialog>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\r\nimport React, { Component } from 'react';\r\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\r\nimport { mapFor } from '../../../Utils/MapFor';\r\nimport Add from 'material-ui/svg-icons/content/add';\r\nimport IconButton from 'material-ui/IconButton';\r\nimport DirectionTools from './DirectionTools';\r\nimport MiniToolbar from '../../../UI/MiniToolbar';\r\nimport ImageThumbnail, {\r\n  thumbnailContainerStyle,\r\n} from '../../../ResourcesList/ResourceThumbnail/ImageThumbnail';\r\nimport {\r\n  copySpritePoints,\r\n  copySpritePolygons,\r\n  allDirectionSpritesHaveSamePointsAs,\r\n  allDirectionSpritesHaveSameCollisionMasksAs,\r\n} from './Utils/SpriteObjectHelper';\r\nimport ResourcesLoader from '../../../ResourcesLoader';\r\nimport {\r\n  type ResourceSource,\r\n  type ChooseResourceFunction,\r\n} from '../../../ResourcesList/ResourceSource.flow';\r\nimport { type ResourceExternalEditor } from '../../../ResourcesList/ResourceExternalEditor.flow';\r\nconst gd = global.gd;\r\nconst path = require('path');\r\n\r\nconst SPRITE_SIZE = 100; //TODO: Factor with Thumbnail\r\n\r\nconst styles = {\r\n  spritesList: {\r\n    whiteSpace: 'nowrap',\r\n    overflowY: 'hidden',\r\n  },\r\n  thumbnailExtraStyle: {\r\n    marginRight: 10,\r\n  },\r\n  addSpriteButton: {\r\n    ...thumbnailContainerStyle,\r\n    background: '#FFF',\r\n  },\r\n  spriteThumbnailImage: {\r\n    maxWidth: SPRITE_SIZE,\r\n    maxHeight: SPRITE_SIZE,\r\n    verticalAlign: 'middle',\r\n  },\r\n};\r\n\r\nconst AddSpriteButton = SortableElement(({ displayHint, onAdd }) => {\r\n  return (\r\n    <div style={styles.addSpriteButton}>\r\n      <IconButton onClick={onAdd} style={styles.spriteThumbnailImage}>\r\n        <Add />\r\n      </IconButton>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst SortableSpriteThumbnail = SortableElement(\r\n  ({ sprite, project, resourcesLoader, selected, onSelect, onContextMenu }) => {\r\n    return (\r\n      <ImageThumbnail\r\n        selectable\r\n        selected={selected}\r\n        onSelect={onSelect}\r\n        onContextMenu={onContextMenu}\r\n        resourceName={sprite.getImageName()}\r\n        resourcesLoader={resourcesLoader}\r\n        project={project}\r\n        style={styles.thumbnailExtraStyle}\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\nconst SortableList = SortableContainer(\r\n  ({\r\n    direction,\r\n    project,\r\n    resourcesLoader,\r\n    onAddSprite,\r\n    selectedSprites,\r\n    onSelectSprite,\r\n    onSpriteContextMenu,\r\n  }) => {\r\n    const spritesCount = direction.getSpritesCount();\r\n    return (\r\n      <div style={styles.spritesList}>\r\n        {[\r\n          ...mapFor(0, spritesCount, i => {\r\n            const sprite = direction.getSprite(i);\r\n            return (\r\n              <SortableSpriteThumbnail\r\n                sprite={sprite}\r\n                key={sprite.ptr}\r\n                index={i}\r\n                selected={!!selectedSprites[sprite.ptr]}\r\n                onContextMenu={(x, y) => onSpriteContextMenu(x, y, sprite)}\r\n                onSelect={selected => onSelectSprite(sprite, selected)}\r\n                resourcesLoader={resourcesLoader}\r\n                project={project}\r\n              />\r\n            );\r\n          }),\r\n          <AddSpriteButton\r\n            displayHint={!direction.getSpritesCount()}\r\n            key=\"add-sprite-button\"\r\n            disabled\r\n            index={spritesCount}\r\n            onAdd={onAddSprite}\r\n          />,\r\n        ]}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n/**\r\n * Check if all sprites of the given direction have the same points and collision masks\r\n */\r\nconst checkDirectionPointsAndCollisionsMasks = (direction: gdDirection) => {\r\n  let allDirectionSpritesHaveSamePoints = false;\r\n  let allDirectionSpritesHaveSameCollisionMasks = false;\r\n  if (direction.getSpritesCount() !== 0) {\r\n    allDirectionSpritesHaveSamePoints = allDirectionSpritesHaveSamePointsAs(\r\n      direction.getSprite(0),\r\n      direction\r\n    );\r\n    allDirectionSpritesHaveSameCollisionMasks = allDirectionSpritesHaveSameCollisionMasksAs(\r\n      direction.getSprite(0),\r\n      direction\r\n    );\r\n  }\r\n\r\n  return {\r\n    allDirectionSpritesHaveSamePoints,\r\n    allDirectionSpritesHaveSameCollisionMasks,\r\n  };\r\n};\r\n\r\ntype Props = {|\r\n  direction: gdDirection,\r\n  project: gdProject,\r\n  resourcesLoader: typeof ResourcesLoader,\r\n  resourceSources: Array<ResourceSource>,\r\n  resourceExternalEditors: Array<ResourceExternalEditor>,\r\n  onChooseResource: ChooseResourceFunction,\r\n  onSpriteContextMenu: (x: number, y: number, sprite: gdSprite) => void,\r\n  selectedSprites: {\r\n    [number]: boolean,\r\n  },\r\n  onSelectSprite: (sprite: gdSprite, selected: boolean) => void,\r\n  onReplaceByDirection: (newDirection: gdDirection) => void,\r\n  onChangeName: (newAnimationName: string) => void, // Used by piskel to set the name, if there is no name\r\n  objectName: string, // This is used for the default name of images created with Piskel.\r\n  animationName: string, // This is used for the default name of images created with Piskel.\r\n|};\r\n\r\nexport default class SpritesList extends Component<Props, void> {\r\n  onSortEnd = ({\r\n    oldIndex,\r\n    newIndex,\r\n  }: {\r\n    oldIndex: number,\r\n    newIndex: number,\r\n  }) => {\r\n    this.props.direction.moveSprite(oldIndex, newIndex);\r\n    this.forceUpdate();\r\n  };\r\n\r\n  onAddSprite = () => {\r\n    const {\r\n      resourceSources,\r\n      onChooseResource,\r\n      project,\r\n      direction,\r\n    } = this.props;\r\n    if (!resourceSources) return;\r\n    const sources = resourceSources.filter(source => source.kind === 'image');\r\n    if (!sources.length) return;\r\n\r\n    const {\r\n      allDirectionSpritesHaveSameCollisionMasks,\r\n      allDirectionSpritesHaveSamePoints,\r\n    } = checkDirectionPointsAndCollisionsMasks(direction);\r\n\r\n    onChooseResource(sources[0].name).then(resources => {\r\n      resources.forEach(resource => {\r\n        project.getResourcesManager().addResource(resource);\r\n\r\n        const sprite = new gd.Sprite();\r\n        sprite.setImageName(resource.getName());\r\n        if (allDirectionSpritesHaveSamePoints) {\r\n          copySpritePoints(direction.getSprite(0), sprite);\r\n        }\r\n        if (allDirectionSpritesHaveSameCollisionMasks) {\r\n          copySpritePolygons(direction.getSprite(0), sprite);\r\n        }\r\n        direction.addSprite(sprite);\r\n      });\r\n\r\n      this.forceUpdate();\r\n    });\r\n  };\r\n\r\n  editWith = (externalEditor: ResourceExternalEditor) => {\r\n    const {\r\n      project,\r\n      direction,\r\n      resourcesLoader,\r\n      onReplaceByDirection,\r\n      onChangeName,\r\n      objectName,\r\n      animationName,\r\n    } = this.props;\r\n    const resourceNames = mapFor(0, direction.getSpritesCount(), i => {\r\n      return direction.getSprite(i).getImageName();\r\n    });\r\n\r\n    const {\r\n      allDirectionSpritesHaveSameCollisionMasks,\r\n      allDirectionSpritesHaveSamePoints,\r\n    } = checkDirectionPointsAndCollisionsMasks(direction);\r\n\r\n    let externalEditorData = {};\r\n    const metadataRaw = direction.getMetadata();\r\n    if (metadataRaw) {\r\n      try {\r\n        externalEditorData = JSON.parse(metadataRaw);\r\n      } catch (e) {\r\n        console.error('Malformed metadata', e);\r\n      }\r\n    }\r\n\r\n    externalEditor.edit({\r\n      project,\r\n      resourcesLoader,\r\n      singleFrame: false,\r\n      resourceNames,\r\n      extraOptions: {\r\n        fps:\r\n          direction.getTimeBetweenFrames() > 0\r\n            ? 1 / direction.getTimeBetweenFrames()\r\n            : 1,\r\n        name:\r\n          animationName ||\r\n          (resourceNames.length > 0\r\n            ? path.basename(resourceNames[0], path.extname(resourceNames[0]))\r\n            : objectName),\r\n        isLooping: direction.isLooping(),\r\n        externalEditorData,\r\n      },\r\n      onChangesSaved: (resources, newAnimationName, metadata) => {\r\n        const newDirection = new gd.Direction();\r\n        newDirection.setTimeBetweenFrames(direction.getTimeBetweenFrames());\r\n        newDirection.setLoop(direction.isLooping());\r\n        resources.forEach(resource => {\r\n          const sprite = new gd.Sprite();\r\n          sprite.setImageName(resource.name);\r\n          // Restore collision masks and points\r\n          if (resource.originalIndex !== undefined) {\r\n            const originalSprite = direction.getSprite(resource.originalIndex);\r\n            copySpritePoints(originalSprite, sprite);\r\n            copySpritePolygons(originalSprite, sprite);\r\n          } else {\r\n            if (allDirectionSpritesHaveSamePoints) {\r\n              copySpritePoints(direction.getSprite(0), sprite);\r\n            }\r\n            if (allDirectionSpritesHaveSameCollisionMasks) {\r\n              copySpritePolygons(direction.getSprite(0), sprite);\r\n            }\r\n          }\r\n          newDirection.addSprite(sprite);\r\n          sprite.delete();\r\n        });\r\n\r\n        // set metadata if there is such on the direction\r\n        if (metadata) {\r\n          newDirection.setMetadata(JSON.stringify(metadata));\r\n        }\r\n\r\n        // Burst the ResourcesLoader cache to force images to be reloaded (and not cached by the browser).\r\n        resourcesLoader.burstUrlsCacheForResources(project, resourceNames);\r\n        onReplaceByDirection(newDirection);\r\n        // Set optional animation name if the user hasn't done so\r\n        if (animationName.length === 0) {\r\n          onChangeName(newAnimationName);\r\n        }\r\n        newDirection.delete();\r\n      },\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <MiniToolbar justifyContent=\"flex-end\" smallest>\r\n          <DirectionTools\r\n            direction={this.props.direction}\r\n            resourcesLoader={this.props.resourcesLoader}\r\n            project={this.props.project}\r\n            resourceExternalEditors={this.props.resourceExternalEditors}\r\n            onEditWith={this.editWith}\r\n          />\r\n        </MiniToolbar>\r\n        <SortableList\r\n          resourcesLoader={this.props.resourcesLoader}\r\n          direction={this.props.direction}\r\n          project={this.props.project}\r\n          onSortEnd={this.onSortEnd}\r\n          onAddSprite={this.onAddSprite}\r\n          selectedSprites={this.props.selectedSprites}\r\n          onSelectSprite={this.props.onSelectSprite}\r\n          onSpriteContextMenu={this.props.onSpriteContextMenu}\r\n          helperClass=\"sortable-helper\"\r\n          lockAxis=\"x\"\r\n          axis=\"x\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport EmptyMessage from '../../../../UI/EmptyMessage';\nimport { Line, Column } from '../../../../UI/Grid';\nimport { mapFor } from '../../../../Utils/MapFor';\nimport PointsList from './PointsList';\nimport PointsPreview from './PointsPreview';\nimport ImagePreview from '../../../../ResourcesList/ResourcePreview/ImagePreview';\nimport {\n  getCurrentElements,\n  allSpritesHaveSamePointsAs,\n  copyAnimationsSpritePoints,\n} from '../Utils/SpriteObjectHelper';\nimport SpriteSelector from '../Utils/SpriteSelector';\nimport every from 'lodash/every';\nconst gd = global.gd;\n\nexport default class PointsEditor extends Component {\n  state = {\n    animationIndex: 0,\n    directionIndex: 0,\n    spriteIndex: 0,\n    samePointsForAnimations: true,\n    samePointsForSprites: true,\n  };\n\n  componentDidMount() {\n    this._updateSamePointsToggles();\n  }\n\n  _updatePoints = () => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { animation, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    if (animation && sprite) {\n      if (this.state.samePointsForAnimations) {\n        mapFor(0, spriteObject.getAnimationsCount(), i => {\n          const otherAnimation = spriteObject.getAnimation(i);\n          copyAnimationsSpritePoints(sprite, otherAnimation);\n        });\n      } else if (this.state.samePointsForSprites) {\n        copyAnimationsSpritePoints(sprite, animation);\n      }\n    }\n\n    this.forceUpdate(); // Refresh the preview\n    if (this.props.onPointsUpdated) this.props.onPointsUpdated();\n  };\n\n  chooseAnimation = index => {\n    this.setState(\n      {\n        animationIndex: index,\n        directionIndex: 0,\n        spriteIndex: 0,\n      },\n      () => this._updateSamePointsToggles()\n    );\n  };\n\n  chooseDirection = index => {\n    this.setState({\n      directionIndex: index,\n      spriteIndex: 0,\n    });\n  };\n\n  chooseSprite = index => {\n    this.setState({\n      spriteIndex: index,\n    });\n  };\n\n  _updateSamePointsToggles = () => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { animation, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n    if (!animation || !sprite) return;\n\n    this.setState({\n      samePointsForAnimations: every(\n        mapFor(0, spriteObject.getAnimationsCount(), i => {\n          const otherAnimation = spriteObject.getAnimation(i);\n          return allSpritesHaveSamePointsAs(sprite, otherAnimation);\n        })\n      ),\n      samePointsForSprites: allSpritesHaveSamePointsAs(sprite, animation),\n    });\n  };\n\n  _setSamePointsForAllAnimations = enable => {\n    if (enable) {\n      // eslint-disable-next-line\n      const answer = confirm(\n        \"Having the same points for all animations will erase and reset all the other animations points. This can't be undone. Are you sure you want to share these points amongst all the animations of the object?\"\n      );\n      if (!answer) return;\n    }\n\n    this.setState(\n      {\n        samePointsForAnimations: enable,\n        samePointsForSprites: enable ? true : this.state.samePointsForSprites,\n      },\n      () => {\n        this._updatePoints();\n      }\n    );\n  };\n\n  _setSamePointsForAllSprites = enable => {\n    if (enable) {\n      // eslint-disable-next-line\n      const answer = confirm(\n        \"Having the same points for all frames will erase and reset all the other frames points. This can't be undone. Are you sure you want to share these points amongst all the frames of the animation?\"\n      );\n      if (!answer) return;\n    }\n\n    this.setState(\n      {\n        samePointsForAnimations: enable\n          ? this.state.samePointsForAnimations\n          : false,\n        samePointsForSprites: enable,\n      },\n      () => {\n        this._updatePoints();\n      }\n    );\n  };\n\n  render() {\n    const { object, resourcesLoader, project } = this.props;\n    const {\n      samePointsForAnimations,\n      samePointsForSprites,\n      animationIndex,\n      directionIndex,\n      spriteIndex,\n    } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    if (!object.getAnimationsCount()) return null;\n    const { hasValidSprite, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    return (\n      <div>\n        <ImagePreview\n          resourceName={hasValidSprite ? sprite.getImageName() : ''}\n          resourcesLoader={resourcesLoader}\n          project={project}\n        >\n          {hasValidSprite && (\n            <PointsPreview\n              pointsContainer={sprite}\n              onPointsUpdated={this._updatePoints}\n            />\n          )}\n        </ImagePreview>\n        <Line>\n          <Column expand>\n            <SpriteSelector\n              spriteObject={spriteObject}\n              animationIndex={animationIndex}\n              directionIndex={directionIndex}\n              spriteIndex={spriteIndex}\n              chooseAnimation={this.chooseAnimation}\n              chooseDirection={this.chooseDirection}\n              chooseSprite={this.chooseSprite}\n              sameForAllAnimations={samePointsForAnimations}\n              sameForAllSprites={samePointsForSprites}\n              setSameForAllAnimations={this._setSamePointsForAllAnimations}\n              setSameForAllSprites={this._setSamePointsForAllSprites}\n              setSameForAllAnimationsLabel={\n                <Trans>Share same points for all animations</Trans>\n              }\n              setSameForAllSpritesLabel={\n                <Trans>\n                  Share same points for all sprites of this animation\n                </Trans>\n              }\n            />\n          </Column>\n        </Line>\n        {!!sprite && (\n          <PointsList\n            pointsContainer={sprite}\n            onPointsUpdated={this._updatePoints}\n          />\n        )}\n        {!sprite && (\n          <EmptyMessage>\n            <Trans>Choose an animation and frame to edit the points</Trans>\n          </EmptyMessage>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport newNameGenerator from '../../../../Utils/NewNameGenerator';\nimport { mapVector } from '../../../../Utils/MapFor';\nimport styles from './styles';\nimport PointRow from './PointRow';\nimport AddPointRow from './AddPointRow';\nconst gd = global.gd;\n\nconst SortableAddPointRow = SortableElement(AddPointRow);\nconst SortablePointRow = SortableElement(PointRow);\n\nclass PointsListBody extends Component {\n  state = {\n    nameErrors: {},\n  };\n\n  _onPointsUpdated() {\n    this.forceUpdate();\n    this.props.onPointsUpdated();\n  }\n\n  updateOriginPointX = newValue => {\n    this.props.pointsContainer.getOrigin().setX(newValue);\n    this._onPointsUpdated();\n  };\n\n  updateOriginPointY = newValue => {\n    this.props.pointsContainer.getOrigin().setY(newValue);\n    this._onPointsUpdated();\n  };\n\n  updateCenterPointX = newValue => {\n    this.props.pointsContainer.getCenter().setX(newValue);\n    this._onPointsUpdated();\n  };\n\n  updateCenterPointY = newValue => {\n    this.props.pointsContainer.getCenter().setY(newValue);\n    this._onPointsUpdated();\n  };\n\n  updatePointX = (point, newValue) => {\n    point.setX(newValue);\n    this._onPointsUpdated();\n  };\n\n  updatePointY = (point, newValue) => {\n    point.setY(newValue);\n    this._onPointsUpdated();\n  };\n\n  render() {\n    const { pointsContainer } = this.props;\n\n    const nonDefaultPoints = pointsContainer.getAllNonDefaultPoints();\n    const pointsRows = mapVector(nonDefaultPoints, (point, i) => {\n      const pointName = point.getName();\n\n      return (\n        <SortablePointRow\n          index={i}\n          disabled\n          key={'point-' + pointName}\n          pointX={point.getX()}\n          pointY={point.getY()}\n          onChangePointX={newValue => this.updatePointX(point, newValue)}\n          onChangePointY={newValue => this.updatePointY(point, newValue)}\n          pointName={pointName}\n          nameError={this.state.nameErrors[pointName]}\n          onBlur={event => {\n            const newName = event.target.value;\n            if (pointName === newName) return;\n\n            let success = true;\n            if (pointsContainer.hasPoint(newName)) {\n              success = false;\n            } else {\n              point.setName(newName);\n            }\n\n            this.setState({\n              nameErrors: {\n                ...this.state.nameErrors,\n                [pointName]: !success,\n              },\n            });\n          }}\n          onRemove={() => {\n            //eslint-disable-next-line\n            const answer = confirm(\n              \"Are you sure you want to remove this point? This can't be undone.\"\n            );\n            if (!answer) return;\n\n            pointsContainer.delPoint(pointName);\n            this._onPointsUpdated();\n          }}\n        />\n      );\n    });\n\n    const originPoint = pointsContainer.getOrigin();\n    const centerPoint = pointsContainer.getCenter();\n\n    const originRow = (\n      <SortablePointRow\n        index={0}\n        key={'origin-point-row'}\n        pointName=\"Origin\"\n        pointX={originPoint.getX()}\n        pointY={originPoint.getY()}\n        onChangePointX={this.updateOriginPointX}\n        onChangePointY={this.updateOriginPointY}\n        disabled\n      />\n    );\n    const centerRow = (\n      <SortablePointRow\n        index={1}\n        key={'center-point-row'}\n        pointName=\"Center\"\n        isAutomatic={pointsContainer.isDefaultCenterPoint()}\n        pointX={centerPoint.getX()}\n        pointY={centerPoint.getY()}\n        onChangePointX={this.updateCenterPointX}\n        onChangePointY={this.updateCenterPointY}\n        disabled\n        onEdit={\n          pointsContainer.isDefaultCenterPoint()\n            ? () => {\n                pointsContainer.setDefaultCenterPoint(false);\n                this._onPointsUpdated();\n              }\n            : null\n        }\n        onRemove={\n          !pointsContainer.isDefaultCenterPoint()\n            ? () => {\n                pointsContainer.setDefaultCenterPoint(true);\n                this._onPointsUpdated();\n              }\n            : null\n        }\n      />\n    );\n\n    const addRow = (\n      <SortableAddPointRow\n        index={0}\n        key={'add-point-row'}\n        disabled\n        onAdd={() => {\n          const name = newNameGenerator('Point', name =>\n            pointsContainer.hasPoint(name)\n          );\n          const point = new gd.Point(name);\n          pointsContainer.addPoint(point);\n          point.delete();\n          this._onPointsUpdated();\n        }}\n      />\n    );\n\n    return (\n      <TableBody\n        displayRowCheckbox={false}\n        deselectOnClickaway={true}\n        showRowHover={true}\n      >\n        {[originRow, centerRow, ...pointsRows, addRow]}\n      </TableBody>\n    );\n  }\n}\n\nconst SortablePointsListBody = SortableContainer(PointsListBody);\nSortablePointsListBody.muiName = 'TableBody';\n\nexport default class PointsList extends Component {\n  render() {\n    return (\n      <Table selectable={false}>\n        <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n          <TableRow>\n            <TableHeaderColumn style={styles.handleColumn} />\n            <TableHeaderColumn>Point name</TableHeaderColumn>\n            <TableHeaderColumn style={styles.coordinateColumn}>\n              X\n            </TableHeaderColumn>\n            <TableHeaderColumn style={styles.coordinateColumn}>\n              Y\n            </TableHeaderColumn>\n            <TableRowColumn style={styles.toolColumn} />\n          </TableRow>\n        </TableHeader>\n        <SortablePointsListBody\n          pointsContainer={this.props.pointsContainer}\n          onPointsUpdated={this.props.onPointsUpdated}\n          onSortEnd={({ oldIndex, newIndex }) => {\n            // Reordering points is not supported for now\n          }}\n          helperClass=\"sortable-helper\"\n          useDragHandle\n          lockToContainerEdges\n        />\n      </Table>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport ModeEdit from 'material-ui/svg-icons/editor/mode-edit';\nimport TextField from 'material-ui/TextField';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport styles from './styles';\n\nconst ThemablePointRow = ({\n  pointName,\n  nameError,\n  onBlur,\n  onRemove,\n  pointX,\n  pointY,\n  onChangePointX,\n  onChangePointY,\n  onEdit,\n  isAutomatic,\n  muiTheme,\n}) => (\n  <TableRow\n    style={{\n      backgroundColor: muiTheme.list.itemsBackgroundColor,\n    }}\n  >\n    <TableRowColumn style={styles.handleColumn}>\n      {/* <DragHandle /> Reordering point is not supported for now */}\n    </TableRowColumn>\n    <TableRowColumn>\n      <TextField\n        defaultValue={pointName || 'Base layer'}\n        id={pointName}\n        fullWidth\n        errorText={nameError ? 'This name is already taken' : undefined}\n        disabled={!onBlur}\n        onBlur={onBlur}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.coordinateColumn}>\n      {!isAutomatic ? (\n        <TextField\n          value={pointX}\n          type=\"number\"\n          id=\"point-x\"\n          onChange={(e, value) => onChangePointX(parseFloat(value || 0, 10))}\n        />\n      ) : (\n        <p>\n          <Trans>(auto)</Trans>\n        </p>\n      )}\n    </TableRowColumn>\n    <TableRowColumn style={styles.coordinateColumn}>\n      {!isAutomatic ? (\n        <TextField\n          value={pointY}\n          type=\"number\"\n          id=\"point-y\"\n          onChange={(e, value) => onChangePointY(parseFloat(value || 0, 10))}\n        />\n      ) : (\n        <p>\n          <Trans>(auto)</Trans>\n        </p>\n      )}\n    </TableRowColumn>\n    <TableRowColumn style={styles.toolColumn}>\n      {!!onRemove && (\n        <IconButton onClick={onRemove}>\n          <Delete />\n        </IconButton>\n      )}\n      {!!onEdit && (\n        <IconButton onClick={onEdit}>\n          <ModeEdit />\n        </IconButton>\n      )}\n    </TableRowColumn>\n  </TableRow>\n);\n\nconst PointRow = muiThemeable()(ThemablePointRow);\nexport default PointRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport Add from 'material-ui/svg-icons/content/add';\nimport IconButton from 'material-ui/IconButton';\nimport styles from './styles';\n\nconst AddPointRow = ({ onAdd }) => (\n  <TableRow>\n    <TableRowColumn style={styles.handleColumn} />\n    <TableRowColumn />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nexport default AddPointRow;\n","// @flow\nimport React from 'react';\nimport { mapVector } from '../../../../Utils/MapFor';\n\nconst styles = {\n  container: {\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n  },\n};\n\nconst pointKindIdentifiers = {\n  NORMAL: 1,\n  ORIGIN: 2,\n  CENTER: 3,\n};\ntype PointKind = 1 | 2 | 3;\n\ntype Props = {|\n  pointsContainer: gdSprite, // Could potentially be generalized to other things than Sprite in the future.\n  imageWidth: number,\n  imageHeight: number,\n  onPointsUpdated: () => void,\n|};\n\ntype State = {|\n  draggedPoint: ?gdPoint,\n  draggedPointKind: ?PointKind,\n|};\n\nexport default class PointsPreview extends React.Component<Props, State> {\n  _container: ?any;\n  state = {\n    draggedPoint: null,\n    draggedPointKind: null,\n  };\n\n  _onStartDragPoint = (draggedPoint: gdPoint, draggedPointKind: PointKind) => {\n    if (this.state.draggedPoint) return;\n\n    this.setState({\n      draggedPoint,\n      draggedPointKind,\n    });\n  };\n\n  _onEndDragPoint = () => {\n    const draggingWasDone = !!this.state.draggedPoint;\n    this.setState(\n      {\n        draggedPoint: null,\n        draggedPointKind: null,\n      },\n      () => {\n        if (draggingWasDone) this.props.onPointsUpdated();\n      }\n    );\n  };\n\n  /**\n   * Move a point with the mouse. A similar dragging implementation is done in\n   * CollisionMasksPreview (but with svg elements).\n   *\n   * If custom zoom is added, this should be adapted to properly set point coordinates.\n   * TODO: This could be optimized by avoiding the forceUpdate (not sure if worth it though).\n   */\n  _onMouseMove = (event: any) => {\n    const { draggedPoint, draggedPointKind } = this.state;\n    if (!draggedPoint || !this._container) return;\n\n    const containerBoundingRect = this._container.getBoundingClientRect();\n    const xOnContainer = event.clientX - containerBoundingRect.left;\n    const yOnContainer = event.clientY - containerBoundingRect.top;\n\n    if (draggedPointKind === pointKindIdentifiers.CENTER) {\n      this.props.pointsContainer.setDefaultCenterPoint(false);\n    }\n    draggedPoint.setX(xOnContainer);\n    draggedPoint.setY(yOnContainer);\n    this.forceUpdate();\n  };\n\n  _renderPoint = (\n    name: string,\n    x: number,\n    y: number,\n    kind: PointKind,\n    point: gdPoint\n  ) => {\n    const imageSrc =\n      kind === pointKindIdentifiers.ORIGIN\n        ? 'res/originPoint.png'\n        : kind === pointKindIdentifiers.CENTER\n        ? 'res/centerPoint.png'\n        : 'res/point.png';\n    return (\n      <img\n        src={imageSrc}\n        style={{\n          position: 'absolute',\n          left: x,\n          top: y,\n          transform: 'translate(-6px, -5px)',\n          cursor: 'move',\n        }}\n        alt=\"\"\n        key={name}\n        onPointerDown={() => {\n          this._onStartDragPoint(point, kind);\n        }}\n      />\n    );\n  };\n\n  render() {\n    const { pointsContainer, imageWidth, imageHeight } = this.props;\n    const nonDefaultPoints = pointsContainer.getAllNonDefaultPoints();\n    const points = mapVector(nonDefaultPoints, (point, i) =>\n      this._renderPoint(\n        point.getName(),\n        point.getX(),\n        point.getY(),\n        pointKindIdentifiers.NORMAL,\n        point\n      )\n    );\n\n    const originPoint = pointsContainer.getOrigin();\n    const centerPoint = pointsContainer.getCenter();\n    const automaticCenterPosition = pointsContainer.isDefaultCenterPoint();\n\n    return (\n      <div\n        style={styles.container}\n        onPointerMove={this._onMouseMove}\n        onPointerUp={this._onEndDragPoint}\n        ref={container => (this._container = container)}\n      >\n        {points}\n        {this._renderPoint(\n          'Origin',\n          originPoint.getX(),\n          originPoint.getY(),\n          pointKindIdentifiers.ORIGIN,\n          originPoint\n        )}\n        {this._renderPoint(\n          'Center',\n          !automaticCenterPosition ? centerPoint.getX() : imageWidth / 2,\n          !automaticCenterPosition ? centerPoint.getY() : imageHeight / 2,\n          pointKindIdentifiers.CENTER,\n          centerPoint\n        )}\n      </div>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport EmptyMessage from '../../../../UI/EmptyMessage';\nimport { Line, Column } from '../../../../UI/Grid';\nimport { mapFor } from '../../../../Utils/MapFor';\nimport PolygonsList from './PolygonsList';\nimport CollisionMasksPreview from './CollisionMasksPreview';\nimport ImagePreview from '../../../../ResourcesList/ResourcePreview/ImagePreview';\nimport {\n  getCurrentElements,\n  allSpritesHaveSameCollisionMasksAs,\n  copyAnimationsSpriteCollisionMasks,\n} from '../Utils/SpriteObjectHelper';\nimport SpriteSelector from '../Utils/SpriteSelector';\nimport every from 'lodash/every';\nconst gd = global.gd;\n\nexport default class CollisionMasksEditor extends Component {\n  state = {\n    animationIndex: 0,\n    directionIndex: 0,\n    spriteIndex: 0,\n    sameCollisionMasksForAnimations: true,\n    sameCollisionMasksForSprites: true,\n    spriteWidth: 0,\n    spriteHeight: 0,\n  };\n\n  componentDidMount() {\n    this._updateSameCollisionMasksToggles();\n  }\n\n  _updateCollisionMasks = () => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { animation, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    if (animation && sprite) {\n      if (this.state.sameCollisionMasksForAnimations) {\n        mapFor(0, spriteObject.getAnimationsCount(), i => {\n          const otherAnimation = spriteObject.getAnimation(i);\n          copyAnimationsSpriteCollisionMasks(sprite, otherAnimation);\n        });\n      } else if (this.state.sameCollisionMasksForSprites) {\n        copyAnimationsSpriteCollisionMasks(sprite, animation);\n      }\n    }\n\n    this.forceUpdate(); // Refresh the preview and the list\n    if (this.props.onCollisionMasksUpdated)\n      this.props.onCollisionMasksUpdated();\n  };\n\n  chooseAnimation = index => {\n    this.setState(\n      {\n        animationIndex: index,\n        directionIndex: 0,\n        spriteIndex: 0,\n      },\n      () => this._updateSameCollisionMasksToggles()\n    );\n  };\n\n  chooseDirection = index => {\n    this.setState({\n      directionIndex: index,\n      spriteIndex: 0,\n    });\n  };\n\n  chooseSprite = index => {\n    this.setState({\n      spriteIndex: index,\n    });\n  };\n\n  _updateSameCollisionMasksToggles = () => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { animation, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n    if (!animation || !sprite) return;\n\n    this.setState({\n      sameCollisionMasksForAnimations: every(\n        mapFor(0, spriteObject.getAnimationsCount(), i => {\n          const otherAnimation = spriteObject.getAnimation(i);\n          return allSpritesHaveSameCollisionMasksAs(sprite, otherAnimation);\n        })\n      ),\n      sameCollisionMasksForSprites: allSpritesHaveSameCollisionMasksAs(\n        sprite,\n        animation\n      ),\n    });\n  };\n\n  _onSetCollisionMaskAutomatic = (automatic: boolean = true) => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n    if (!sprite) return;\n\n    sprite.setCollisionMaskAutomatic(automatic);\n    this._updateCollisionMasks();\n  };\n\n  _setSameCollisionMasksForAllAnimations = enable => {\n    if (enable) {\n      // eslint-disable-next-line\n      const answer = confirm(\n        \"Having the same collision masks for all animations will erase and reset all the other animations collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the animations of the object?\"\n      );\n      if (!answer) return;\n    }\n\n    this.setState(\n      {\n        sameCollisionMasksForAnimations: enable,\n        sameCollisionMasksForSprites: enable\n          ? true\n          : this.state.sameCollisionMasksForSprites,\n      },\n      () => {\n        this._updateCollisionMasks();\n      }\n    );\n  };\n\n  _setSameCollisionMasksForAllSprites = enable => {\n    if (enable) {\n      // eslint-disable-next-line\n      const answer = confirm(\n        \"Having the same collision masks for all frames will erase and reset all the other frames collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the frames of the animation?\"\n      );\n      if (!answer) return;\n    }\n\n    this.setState(\n      {\n        sameCollisionMasksForAnimations: enable\n          ? this.state.sameCollisionMasksForAnimations\n          : false,\n        sameCollisionMasksForSprites: enable,\n      },\n      () => {\n        this._updateCollisionMasks();\n      }\n    );\n  };\n\n  _setCurrentSpriteSize = (spriteWidth: number, spriteHeight: number) => {\n    this.setState({\n      spriteWidth,\n      spriteHeight,\n    });\n  };\n\n  render() {\n    const { object, resourcesLoader, project } = this.props;\n    const {\n      sameCollisionMasksForAnimations,\n      sameCollisionMasksForSprites,\n      animationIndex,\n      directionIndex,\n      spriteIndex,\n      spriteWidth,\n      spriteHeight,\n    } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    if (!object.getAnimationsCount()) return null;\n    const { hasValidSprite, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    return (\n      <div>\n        <ImagePreview\n          resourceName={hasValidSprite ? sprite.getImageName() : ''}\n          resourcesLoader={resourcesLoader}\n          project={project}\n          onSize={this._setCurrentSpriteSize}\n        >\n          {hasValidSprite && (\n            <CollisionMasksPreview\n              isDefaultBoundingBox={sprite.isCollisionMaskAutomatic()}\n              polygons={sprite.getCustomCollisionMask()}\n              onPolygonsUpdated={this._updateCollisionMasks}\n            />\n          )}\n        </ImagePreview>\n        <Line>\n          <Column expand>\n            <SpriteSelector\n              spriteObject={spriteObject}\n              animationIndex={animationIndex}\n              directionIndex={directionIndex}\n              spriteIndex={spriteIndex}\n              chooseAnimation={this.chooseAnimation}\n              chooseDirection={this.chooseDirection}\n              chooseSprite={this.chooseSprite}\n              sameForAllAnimations={sameCollisionMasksForAnimations}\n              sameForAllSprites={sameCollisionMasksForSprites}\n              setSameForAllAnimations={\n                this._setSameCollisionMasksForAllAnimations\n              }\n              setSameForAllSprites={this._setSameCollisionMasksForAllSprites}\n              setSameForAllAnimationsLabel={\n                <Trans>Share same collision masks for all animations</Trans>\n              }\n              setSameForAllSpritesLabel={\n                <Trans>\n                  Share same collision masks for all sprites of this animation\n                </Trans>\n              }\n            />\n          </Column>\n        </Line>\n        {!!sprite && !sprite.isCollisionMaskAutomatic() && (\n          <React.Fragment>\n            <PolygonsList\n              polygons={sprite.getCustomCollisionMask()}\n              onPolygonsUpdated={this._updateCollisionMasks}\n              spriteWidth={spriteWidth}\n              spriteHeight={spriteHeight}\n            />\n            <Line justifyContent=\"center\">\n              <FlatButton\n                label={<Trans>Restore the default collision mask</Trans>}\n                primary={false}\n                onClick={() => this._onSetCollisionMaskAutomatic(true)}\n              />\n            </Line>\n          </React.Fragment>\n        )}\n        {!!sprite && sprite.isCollisionMaskAutomatic() && (\n          <React.Fragment>\n            <EmptyMessage>\n              <Trans>\n                This sprite uses the default collision mask, a rectangle that is\n                as large as the sprite.\n              </Trans>\n            </EmptyMessage>\n            <Line justifyContent=\"center\">\n              <FlatButton\n                label={<Trans>Use a custom collision mask</Trans>}\n                primary={false}\n                onClick={() => this._onSetCollisionMaskAutomatic(false)}\n              />\n            </Line>\n          </React.Fragment>\n        )}\n        {!sprite && (\n          <EmptyMessage>\n            <Trans>\n              Choose an animation and frame to edit the collision masks\n            </Trans>\n          </EmptyMessage>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport flatten from 'lodash/flatten';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { mapVector } from '../../../../Utils/MapFor';\nimport styles from './styles';\nimport VerticeRow from './VerticeRow';\nimport PolygonRow from './PolygonRow';\nimport AddVerticeRow from './AddVerticeRow';\nimport AddPolygonRow from './AddPolygonRow';\nconst gd = global.gd;\n\nconst SortableAddPolygonRow = SortableElement(AddPolygonRow);\nconst SortableAddVerticeRow = SortableElement(AddVerticeRow);\nconst SortableVerticeRow = SortableElement(VerticeRow);\nconst SortablePolygonRow = SortableElement(PolygonRow);\n\ntype PolygonsListBodyProps = {|\n  polygons: gdVectorPolygon2d,\n  onPolygonsUpdated: () => void,\n\n  // Sprite size is useful to make sure polygon vertices\n  // are not put outside the sprite bounding box, which is not supported:\n  spriteWidth: number,\n  spriteHeight: number,\n|};\n\nclass PolygonsListBody extends Component<PolygonsListBodyProps, void> {\n  _onPolygonUpdated() {\n    this.forceUpdate();\n    this.props.onPolygonsUpdated();\n  }\n\n  updateVerticeX = (vertice, newValue) => {\n    // Ensure vertice stays inside the sprite bounding box.\n    vertice.set_x(Math.min(this.props.spriteWidth, Math.max(newValue, 0)));\n    this._onPolygonUpdated();\n  };\n\n  updateVerticeY = (vertice, newValue) => {\n    // Ensure vertice stays inside the sprite bounding box.\n    vertice.set_y(Math.min(this.props.spriteHeight, Math.max(newValue, 0)));\n    this._onPolygonUpdated();\n  };\n\n  render() {\n    const { polygons } = this.props;\n\n    const polygonRows = flatten(\n      mapVector(polygons, (polygon, i) => {\n        const vertices = polygon.getVertices();\n        const isConvex = polygon.isConvex();\n\n        return [\n          <SortablePolygonRow\n            index={i}\n            disabled\n            key={'polygon-' + i}\n            polygon={polygon}\n            onRemove={() => {\n              gd.removeFromVectorPolygon2d(polygons, i);\n              this._onPolygonUpdated();\n            }}\n            isConvex={isConvex}\n            verticesCount={vertices.size()}\n          />,\n          mapVector(vertices, (vertice, j) => (\n            <SortableVerticeRow\n              index={i}\n              disabled\n              key={`polygon-${i}-vertice-${j}`}\n              verticeX={vertice.get_x()}\n              verticeY={vertice.get_y()}\n              onChangeVerticeX={newValue =>\n                this.updateVerticeX(vertice, newValue)\n              }\n              onChangeVerticeY={newValue =>\n                this.updateVerticeY(vertice, newValue)\n              }\n              onRemove={() => {\n                gd.removeFromVectorVector2f(polygon.getVertices(), j);\n                this._onPolygonUpdated();\n              }}\n              canRemove={vertices.size() > 3}\n              hasWarning={!isConvex}\n            />\n          )),\n          <SortableAddVerticeRow\n            index={0}\n            key={`polygon-${i}-add-vertice-row`}\n            disabled\n            onAdd={() => {\n              const newVertice = new gd.Vector2f();\n              polygon.getVertices().push_back(newVertice);\n              newVertice.delete();\n\n              this._onPolygonUpdated();\n            }}\n          />,\n        ];\n      })\n    );\n\n    const addRow = (\n      <SortableAddPolygonRow\n        index={0}\n        key={'add-polygon-row'}\n        disabled\n        onAdd={() => {\n          const newPolygon = gd.Polygon2d.createRectangle(32, 32);\n          newPolygon.move(\n            this.props.spriteWidth / 2,\n            this.props.spriteHeight / 2\n          );\n          polygons.push_back(newPolygon);\n\n          this._onPolygonUpdated();\n        }}\n      />\n    );\n\n    return (\n      <TableBody\n        displayRowCheckbox={false}\n        deselectOnClickaway={true}\n        showRowHover={true}\n      >\n        {[...polygonRows, addRow]}\n      </TableBody>\n    );\n  }\n}\n\nconst SortablePolygonsListBody = SortableContainer(PolygonsListBody);\nSortablePolygonsListBody.muiName = 'TableBody';\n\ntype Props = {|\n  polygons: gdVectorPolygon2d,\n  onPolygonsUpdated: () => void,\n  spriteWidth: number,\n  spriteHeight: number,\n|};\n\nexport default class PolygonsList extends Component<Props, void> {\n  render() {\n    return (\n      <Table selectable={false}>\n        <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n          <TableRow>\n            <TableHeaderColumn style={styles.handleColumn} />\n            <TableHeaderColumn>Polygon</TableHeaderColumn>\n            <TableHeaderColumn style={styles.coordinateColumn}>\n              X\n            </TableHeaderColumn>\n            <TableHeaderColumn style={styles.coordinateColumn}>\n              Y\n            </TableHeaderColumn>\n            <TableRowColumn style={styles.toolColumn} />\n          </TableRow>\n        </TableHeader>\n        <SortablePolygonsListBody\n          polygons={this.props.polygons}\n          onPolygonsUpdated={this.props.onPolygonsUpdated}\n          spriteWidth={this.props.spriteWidth}\n          spriteHeight={this.props.spriteHeight}\n          onSortEnd={({ oldIndex, newIndex }) => {\n            // Reordering polygons is not supported for now\n          }}\n          helperClass=\"sortable-helper\"\n          useDragHandle\n          lockToContainerEdges\n        />\n      </Table>\n    );\n  }\n}\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport TextField from 'material-ui/TextField';\nimport Warning from 'material-ui/svg-icons/alert/warning';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport styles from './styles';\n\nconst ThemableVerticeRow = ({\n  hasWarning,\n  canRemove,\n  onRemove,\n  verticeX,\n  verticeY,\n  onChangeVerticeX,\n  onChangeVerticeY,\n  muiTheme,\n}) => (\n  <TableRow\n    style={{\n      backgroundColor: muiTheme.list.itemsBackgroundColor,\n    }}\n  >\n    <TableRowColumn style={styles.handleColumn}>\n      {/* <DragHandle /> Reordering vertices is not supported for now */}\n    </TableRowColumn>\n    <TableRowColumn>{hasWarning && <Warning />}</TableRowColumn>\n    <TableRowColumn style={styles.coordinateColumn}>\n      <TextField\n        value={verticeX}\n        type=\"number\"\n        id=\"vertice-x\"\n        onChange={(e, value) => onChangeVerticeX(parseFloat(value || 0, 10))}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.coordinateColumn}>\n      <TextField\n        value={verticeY}\n        type=\"number\"\n        id=\"vertice-y\"\n        onChange={(e, value) => onChangeVerticeY(parseFloat(value || 0, 10))}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.toolColumn}>\n      {!!onRemove && (\n        <IconButton onClick={onRemove} disabled={!canRemove}>\n          <Delete />\n        </IconButton>\n      )}\n    </TableRowColumn>\n  </TableRow>\n);\n\nconst PointRow = muiThemeable()(ThemableVerticeRow);\nexport default PointRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport styles from './styles';\n\nconst ThemablePolygonRow = ({\n  onRemove,\n  isConvex,\n  verticesCount,\n  muiTheme,\n}) => {\n  return (\n    <TableRow\n      style={{\n        backgroundColor: muiTheme.list.itemsBackgroundColor,\n      }}\n    >\n      <TableRowColumn style={styles.handleColumn}>\n        {/* <DragHandle /> Reordering polygons is not supported for now */}\n      </TableRowColumn>\n      {isConvex && (\n        <TableRowColumn>\n          {verticesCount === 3 && `Triangle`}\n          {verticesCount === 4 && `Quadrilateral`}\n          {verticesCount >= 5 && `Polygon with ${verticesCount} vertices`}\n        </TableRowColumn>\n      )}\n      {!isConvex && <TableRowColumn>Polygon is not convex!</TableRowColumn>}\n      <TableRowColumn style={styles.coordinateColumn} />\n      <TableRowColumn style={styles.coordinateColumn} />\n      <TableRowColumn style={styles.toolColumn}>\n        {!!onRemove && (\n          <IconButton onClick={onRemove}>\n            <Delete />\n          </IconButton>\n        )}\n      </TableRowColumn>\n    </TableRow>\n  );\n};\n\nconst PointRow = muiThemeable()(ThemablePolygonRow);\nexport default PointRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport AddCircle from 'material-ui/svg-icons/content/add-circle';\nimport IconButton from 'material-ui/IconButton';\nimport styles from './styles';\n\nconst AddVerticeRow = ({ onAdd }) => (\n  <TableRow>\n    <TableRowColumn style={styles.handleColumn} />\n    <TableRowColumn />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <AddCircle />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nexport default AddVerticeRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport Add from 'material-ui/svg-icons/content/add';\nimport IconButton from 'material-ui/IconButton';\nimport styles from './styles';\n\nconst AddPolygonRow = ({ onAdd }) => (\n  <TableRow>\n    <TableRowColumn style={styles.handleColumn} />\n    <TableRowColumn />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nexport default AddPolygonRow;\n","// @flow\nimport * as React from 'react';\nimport { mapVector } from '../../../../Utils/MapFor';\n\nconst styles = {\n  container: {\n    position: 'relative',\n  },\n  svg: {\n    width: '100%',\n    height: '100%',\n  },\n  vertexCircle: {\n    cursor: 'move',\n  },\n};\n\ntype Props = {|\n  polygons: gdVectorPolygon2d,\n  isDefaultBoundingBox: boolean,\n  imageWidth: number,\n  imageHeight: number,\n  onPolygonsUpdated: () => void,\n|};\n\ntype State = {|\n  draggedVertex: ?gdVector2f,\n|};\n\nexport default class CollisionMasksPreview extends React.Component<\n  Props,\n  State\n> {\n  _svg: any;\n  state = {\n    draggedVertex: null,\n  };\n\n  _onStartDragVertex = (draggedVertex: gdVector2f) => {\n    if (this.state.draggedVertex) return;\n\n    this.setState({\n      draggedVertex,\n    });\n  };\n\n  _onEndDragVertex = () => {\n    const draggingWasDone = !!this.state.draggedVertex;\n    this.setState(\n      {\n        draggedVertex: null,\n      },\n      () => {\n        if (draggingWasDone) this.props.onPolygonsUpdated();\n      }\n    );\n  };\n\n  /**\n   * Move a vertex with the mouse. A similar dragging implementation is done in\n   * PointsPreview (but with div and img elements).\n   *\n   * If custom zoom is added, this should be adapted to properly set vertex coordinates.\n   * TODO: This could be optimized by avoiding the forceUpdate (not sure if worth it though).\n   */\n  _onPointerMove = (event: any) => {\n    const { draggedVertex } = this.state;\n    if (!draggedVertex) return;\n\n    const pointOnScreen = this._svg.createSVGPoint();\n    pointOnScreen.x = event.clientX;\n    pointOnScreen.y = event.clientY;\n    const screenToSvgMatrix = this._svg.getScreenCTM().inverse();\n    const pointOnSvg = pointOnScreen.matrixTransform(screenToSvgMatrix);\n\n    draggedVertex.set_x(pointOnSvg.x);\n    draggedVertex.set_y(pointOnSvg.y);\n    this.forceUpdate();\n  };\n\n  _renderBoundingBox() {\n    const { imageWidth, imageHeight } = this.props;\n\n    return (\n      <polygon\n        fill=\"rgba(255,0,0,0.2)\"\n        stroke=\"rgba(255,0,0,0.5)\"\n        strokeWidth={1}\n        fileRule=\"evenodd\"\n        points={`0,0 ${imageWidth},0 ${imageWidth},${imageHeight} 0,${imageHeight}`}\n      />\n    );\n  }\n\n  _renderPolygons() {\n    const { polygons } = this.props;\n\n    return (\n      <React.Fragment>\n        {mapVector(polygons, (polygon, i) => {\n          const vertices = polygon.getVertices();\n          return (\n            <polygon\n              key={`polygon-${i}`}\n              fill=\"rgba(255,0,0,0.2)\"\n              stroke=\"rgba(255,0,0,0.5)\"\n              strokeWidth={1}\n              fileRule=\"evenodd\"\n              points={mapVector(\n                vertices,\n                (vertex, j) => `${vertex.get_x()},${vertex.get_y()}`\n              ).join(' ')}\n            />\n          );\n        })}\n        {mapVector(polygons, (polygon, i) => {\n          const vertices = polygon.getVertices();\n          return mapVector(vertices, (vertex, j) => (\n            <circle\n              onPointerDown={event => this._onStartDragVertex(vertex)}\n              key={`polygon-${i}-vertex-${j}`}\n              fill=\"rgba(255,0,0,0.75)\"\n              strokeWidth={1}\n              cx={vertex.get_x()}\n              cy={vertex.get_y()}\n              r={5}\n              style={styles.vertexCircle}\n            />\n          ));\n        })}\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    const { isDefaultBoundingBox } = this.props;\n\n    return (\n      <svg\n        onPointerMove={this._onPointerMove}\n        onPointerUp={this._onEndDragVertex}\n        width={this.props.imageWidth}\n        height={this.props.imageHeight}\n        style={styles.svg}\n        ref={svg => (this._svg = svg)}\n      >\n        {isDefaultBoundingBox && this._renderBoundingBox()}\n        {!isDefaultBoundingBox && this._renderPolygons()}\n      </svg>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { type EditorProps } from './EditorProps.flow';\nimport { Line, Column } from '../../UI/Grid';\nimport EmptyMessage from '../../UI/EmptyMessage';\n\nexport default class EmptyEditor extends React.Component<EditorProps, void> {\n  render() {\n    return (\n      <Column>\n        <Line>\n          <EmptyMessage>\n            <Trans>\n              This object does not have any specific configuration. Add it on\n              the scene and use events to interact with it.\n            </Trans>\n          </EmptyMessage>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\nimport Checkbox from 'material-ui/Checkbox';\nimport { Line, Column, Spacer } from '../../UI/Grid';\nimport ColorField from '../../UI/ColorField';\nimport { type EditorProps } from './EditorProps.flow';\nconst gd = global.gd;\n\nexport default class PanelSpriteEditor extends React.Component<\n  EditorProps,\n  void\n> {\n  render() {\n    const { object } = this.props;\n    const shapePainterObject = gd.asShapePainterObject(object);\n\n    return (\n      <Column>\n        <Line>\n          <Checkbox\n            label={\n              <Trans>\n                Draw the shapes relative to the object position on the scene\n              </Trans>\n            }\n            checked={!shapePainterObject.areCoordinatesAbsolute()}\n            onCheck={(e, checked) => {\n              if (!checked) shapePainterObject.setCoordinatesAbsolute();\n              else shapePainterObject.setCoordinatesRelative();\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <ColorField\n            floatingLabelText={<Trans>Outline color</Trans>}\n            disableAlpha\n            fullWidth\n            color={{\n              r: shapePainterObject.getOutlineColorR(),\n              g: shapePainterObject.getOutlineColorG(),\n              b: shapePainterObject.getOutlineColorB(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              shapePainterObject.setOutlineColor(\n                color.rgb.r,\n                color.rgb.g,\n                color.rgb.b\n              );\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Outline opacity (0-255)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={shapePainterObject.getOutlineOpacity()}\n            onChange={(e, value) => {\n              shapePainterObject.setOutlineOpacity(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Outline size (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={shapePainterObject.getOutlineSize()}\n            onChange={(e, value) => {\n              shapePainterObject.setOutlineSize(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <ColorField\n            floatingLabelText={<Trans>Fill color</Trans>}\n            disableAlpha\n            fullWidth\n            color={{\n              r: shapePainterObject.getFillColorR(),\n              g: shapePainterObject.getFillColorG(),\n              b: shapePainterObject.getFillColorB(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              shapePainterObject.setFillColor(\n                color.rgb.r,\n                color.rgb.g,\n                color.rgb.b\n              );\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Fill opacity (0-255)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={shapePainterObject.getFillOpacity()}\n            onChange={(e, value) => {\n              shapePainterObject.setFillOpacity(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <Spacer expand />\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { Line, Column } from '../../UI/Grid';\nimport ColorField from '../../UI/ColorField';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport { type EditorProps } from './EditorProps.flow';\nimport ResourceSelectorWithThumbnail from '../../ResourcesList/ResourceSelectorWithThumbnail';\nconst gd = global.gd;\n\nexport default class ParticleEmitterEditor extends React.Component<\n  EditorProps,\n  void\n> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const particleEmitterObject = gd.asParticleEmitterObject(object);\n\n    return (\n      <Column>\n        <Line>\n          <Column expand noMargin>\n            <SelectField\n              fullWidth\n              floatingLabelText={<Trans>Particles kind</Trans>}\n              value={particleEmitterObject.getRendererType()}\n              onChange={(e, i, value) => {\n                particleEmitterObject.setRendererType(value);\n                if (value !== gd.ParticleEmitterObject.Quad) {\n                  particleEmitterObject.setParticleTexture('');\n                }\n                this.forceUpdate();\n              }}\n            >\n              <MenuItem\n                value={gd.ParticleEmitterObject.Point}\n                primaryText={<Trans>Point</Trans>}\n              />\n              <MenuItem\n                value={gd.ParticleEmitterObject.Line}\n                primaryText={<Trans>Line</Trans>}\n              />\n              <MenuItem\n                value={gd.ParticleEmitterObject.Quad}\n                primaryText={<Trans>Textured</Trans>}\n              />\n            </SelectField>\n          </Column>\n        </Line>\n        {particleEmitterObject.getRendererType() ===\n          gd.ParticleEmitterObject.Point && (\n          <Line>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                floatingLabelText={<Trans>Size</Trans>}\n                fullWidth\n                type=\"number\"\n                value={particleEmitterObject.getRendererParam1()}\n                onChange={value => {\n                  particleEmitterObject.setRendererParam1(parseFloat(value));\n                  this.forceUpdate();\n                }}\n              />\n            </Column>\n          </Line>\n        )}\n        {particleEmitterObject.getRendererType() ===\n          gd.ParticleEmitterObject.Line && (\n          <Line>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                floatingLabelText={<Trans>Lines length</Trans>}\n                fullWidth\n                type=\"number\"\n                value={particleEmitterObject.getRendererParam1()}\n                onChange={value => {\n                  particleEmitterObject.setRendererParam1(parseFloat(value));\n                  this.forceUpdate();\n                }}\n              />\n            </Column>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                floatingLabelText={<Trans>Lines thickness</Trans>}\n                fullWidth\n                type=\"number\"\n                value={particleEmitterObject.getRendererParam2()}\n                onChange={value => {\n                  particleEmitterObject.setRendererParam2(parseFloat(value));\n                  this.forceUpdate();\n                }}\n              />\n            </Column>\n          </Line>\n        )}\n        {particleEmitterObject.getRendererType() ===\n          gd.ParticleEmitterObject.Quad && (\n          <React.Fragment>\n            <Line>\n              <ResourceSelectorWithThumbnail\n                project={project}\n                resourceSources={resourceSources}\n                onChooseResource={onChooseResource}\n                resourceKind=\"image\"\n                resourceName={particleEmitterObject.getParticleTexture()}\n                resourceExternalEditors={resourceExternalEditors}\n                onChange={resourceName => {\n                  particleEmitterObject.setParticleTexture(resourceName);\n                  this.forceUpdate();\n                }}\n                floatingLabelText={<Trans>Select an image</Trans>}\n              />\n            </Line>\n            <Line>\n              <Column expand noMargin>\n                <SemiControlledTextField\n                  floatingLabelText={<Trans>Particles start width</Trans>}\n                  fullWidth\n                  type=\"number\"\n                  value={particleEmitterObject.getRendererParam1()}\n                  onChange={value => {\n                    particleEmitterObject.setRendererParam1(\n                      Math.max(0, parseFloat(value))\n                    );\n                    this.forceUpdate();\n                  }}\n                />\n              </Column>\n              <Column expand noMargin>\n                <SemiControlledTextField\n                  floatingLabelText={<Trans>Particles start height</Trans>}\n                  fullWidth\n                  type=\"number\"\n                  value={particleEmitterObject.getRendererParam2()}\n                  onChange={value => {\n                    particleEmitterObject.setRendererParam2(\n                      Math.max(0, parseFloat(value))\n                    );\n                    this.forceUpdate();\n                  }}\n                />\n              </Column>\n            </Line>\n          </React.Fragment>\n        )}\n        <Line>\n          <ColorField\n            floatingLabelText={<Trans>Particles start color</Trans>}\n            disableAlpha\n            fullWidth\n            color={{\n              r: particleEmitterObject.getParticleRed1(),\n              g: particleEmitterObject.getParticleGreen1(),\n              b: particleEmitterObject.getParticleBlue1(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              particleEmitterObject.setParticleRed1(color.rgb.r);\n              particleEmitterObject.setParticleGreen1(color.rgb.g);\n              particleEmitterObject.setParticleBlue1(color.rgb.b);\n\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Start opacity (0-255)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={particleEmitterObject.getParticleAlpha1()}\n            onChange={value => {\n              particleEmitterObject.setParticleAlpha1(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <ColorField\n            floatingLabelText={<Trans>Particles end color</Trans>}\n            disableAlpha\n            fullWidth\n            color={{\n              r: particleEmitterObject.getParticleRed2(),\n              g: particleEmitterObject.getParticleGreen2(),\n              b: particleEmitterObject.getParticleBlue2(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              particleEmitterObject.setParticleRed2(color.rgb.r);\n              particleEmitterObject.setParticleGreen2(color.rgb.g);\n              particleEmitterObject.setParticleBlue2(color.rgb.b);\n\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Start end (0-255)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={particleEmitterObject.getParticleAlpha2()}\n            onChange={value => {\n              particleEmitterObject.setParticleAlpha2(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <Checkbox\n            label={<Trans>Additive rendering</Trans>}\n            checked={particleEmitterObject.isRenderingAdditive()}\n            onCheck={(e, checked) => {\n              if (checked) particleEmitterObject.setRenderingAdditive();\n              else particleEmitterObject.setRenderingAlpha();\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <Checkbox\n            label={<Trans>Delete when out of particles</Trans>}\n            checked={particleEmitterObject.getDestroyWhenNoParticles()}\n            onCheck={(e, checked) => {\n              particleEmitterObject.setDestroyWhenNoParticles(checked);\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Maximum number of particles displayed</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getMaxParticleNb()}\n              onChange={value => {\n                particleEmitterObject.setMaxParticleNb(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Number of particles in tank (-1 for infinite)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getTank()}\n              onChange={value => {\n                particleEmitterObject.setTank(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Flow of particles (particles/seconds)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getFlow()}\n              onChange={value => {\n                particleEmitterObject.setFlow(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Minimum emitter force applied on particles</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getEmitterForceMin()}\n              onChange={value => {\n                particleEmitterObject.setEmitterForceMin(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Maximum emitter force applied on particles</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getEmitterForceMax()}\n              onChange={value => {\n                particleEmitterObject.setEmitterForceMax(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Spray cone angle (in degrees)</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getConeSprayAngle()}\n              onChange={value => {\n                particleEmitterObject.setConeSprayAngle(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Radius of the emitter</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getZoneRadius()}\n              onChange={value => {\n                particleEmitterObject.setZoneRadius(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Gravity on particles on X axis</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleGravityX()}\n              onChange={value => {\n                particleEmitterObject.setParticleGravityX(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Gravity on particles on Y axis</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleGravityY()}\n              onChange={value => {\n                particleEmitterObject.setParticleGravityY(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Friction on particles</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getFriction()}\n              onChange={value => {\n                particleEmitterObject.setFriction(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Particle minimum lifetime (in seconds)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleLifeTimeMin()}\n              onChange={value => {\n                particleEmitterObject.setParticleLifeTimeMin(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Particle maximum lifetime (in seconds)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleLifeTimeMax()}\n              onChange={value => {\n                particleEmitterObject.setParticleLifeTimeMax(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Particle start size (in percents)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleSize1()}\n              onChange={value => {\n                particleEmitterObject.setParticleSize1(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Particle end size (in percents)</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleSize2()}\n              onChange={value => {\n                particleEmitterObject.setParticleSize2(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Particle minimum rotation speed (degrees/second)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleAngle1()}\n              onChange={value => {\n                particleEmitterObject.setParticleAngle1(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Particle maximum rotation speed (degrees/second)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleAngle2()}\n              onChange={value => {\n                particleEmitterObject.setParticleAngle2(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport PropertiesEditor from '../../PropertiesEditor';\nimport propertiesMapToSchema from '../../PropertiesEditor/PropertiesMapToSchema';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { type EditorProps } from './EditorProps.flow';\nimport { Column } from '../../UI/Grid';\n\ntype Props = EditorProps;\n\nexport default class ObjectPropertiesEditor extends React.Component<Props> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const properties = object.getProperties(project);\n\n    const propertiesSchema = propertiesMapToSchema(\n      properties,\n      object => object.getProperties(project),\n      (object, name, value) => object.updateProperty(name, value, project)\n    );\n\n    return (\n      <Column>\n        {propertiesSchema.length ? (\n          <PropertiesEditor\n            schema={propertiesSchema}\n            instances={[object]}\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n          />\n        ) : (\n          <EmptyMessage>\n            <Trans>\n              There is nothing to configure for this object. You can still use\n              events to interact with the object.\n            </Trans>\n          </EmptyMessage>\n        )}\n      </Column>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport ObjectGroupEditor from '.';\nimport Dialog from '../UI/Dialog';\nimport { withSerializableObject } from '../Utils/SerializableObjectEditorContainer';\nconst gd = global.gd;\n\nexport class ObjectGroupEditorDialog extends Component {\n  render() {\n    const { group } = this.props;\n    if (!group) return null;\n\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        keyboardFocused\n        onClick={this.props.onCancel}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary\n        keyboardFocused\n        onClick={this.props.onApply}\n      />,\n    ];\n\n    return (\n      <Dialog\n        key={group.ptr}\n        actions={actions}\n        autoScrollBodyContent\n        noMargin\n        modal\n        onRequestClose={this.props.onCancel}\n        open={this.props.open}\n        title={`Edit ${group.getName()} group`}\n      >\n        <ObjectGroupEditor\n          group={group}\n          project={this.props.project}\n          layout={this.props.layout}\n          onSizeUpdated={\n            () =>\n              this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n          }\n        />\n      </Dialog>\n    );\n  }\n}\n\nexport default withSerializableObject(ObjectGroupEditorDialog, {\n  newObjectCreator: () => new gd.ObjectGroup(),\n  propName: 'group',\n});\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport IconButton from 'material-ui/IconButton';\nimport Remove from 'material-ui/svg-icons/content/remove';\nimport ObjectSelector from '../ObjectsList/ObjectSelector';\nimport EmptyMessage from '../UI/EmptyMessage';\nconst gd = global.gd;\n\nconst styles = {\n  newObjectSelector: {\n    marginLeft: 10,\n    marginRight: 10,\n  },\n};\n\ntype Props = {|\n  group: gdObjectGroup,\n  project: gdProject,\n  layout: gdLayout,\n  onSizeUpdated?: () => void,\n|};\n\ntype State = {|\n  newObjectName: string,\n|};\n\nexport default class ObjectGroupEditor extends React.Component<Props, State> {\n  state = {\n    newObjectName: '',\n  };\n\n  removeObject = (objectName: string) => {\n    const { group, onSizeUpdated } = this.props;\n\n    group.removeObject(objectName);\n\n    this.forceUpdate();\n    if (onSizeUpdated) onSizeUpdated();\n  };\n\n  addObject = (objectName: string) => {\n    const { group, onSizeUpdated } = this.props;\n\n    group.addObject(objectName);\n    this.setState({\n      newObjectName: '',\n    });\n    if (onSizeUpdated) onSizeUpdated();\n  };\n\n  _renderExplanation() {\n    const { group, project, layout } = this.props;\n\n    let type = undefined;\n    group\n      .getAllObjectsNames()\n      .toJSArray()\n      .forEach(objectName => {\n        const objectType = gd.getTypeOfObject(\n          project,\n          layout,\n          objectName,\n          false\n        );\n        if (type === undefined || objectType === type) type = objectType;\n        else type = '';\n      });\n\n    let message = '';\n    if (type === undefined) {\n      message = 'This group is empty';\n    } else if (type === '') {\n      message =\n        \"This group contains objects of different kinds. You'll only be able to use actions and conditions common to all objects with this group.\";\n    } else {\n      message = `This group contains objects of the same kind (${type}). You can use actions and conditions related to this kind of objects in events with this group.`;\n    }\n\n    return <EmptyMessage>{message}</EmptyMessage>;\n  }\n\n  render() {\n    const { group, project, layout } = this.props;\n\n    return (\n      <div>\n        {this._renderExplanation()}\n        <List>\n          {group\n            .getAllObjectsNames()\n            .toJSArray()\n            .map(objectName => {\n              return (\n                <ListItem\n                  key={objectName}\n                  primaryText={objectName}\n                  rightIconButton={\n                    <IconButton onClick={() => this.removeObject(objectName)}>\n                      <Remove />\n                    </IconButton>\n                  }\n                />\n              );\n            })}\n        </List>\n        <ObjectSelector\n          autoCompleteStyle={styles.newObjectSelector}\n          globalObjectsContainer={project}\n          objectsContainer={layout}\n          value={this.state.newObjectName}\n          onChange={name => this.setState({ newObjectName: name })}\n          onChoose={this.addObject}\n          openOnFocus\n          noGroups\n          hintText={<Trans>Choose an object to add to the group</Trans>}\n          fullWidth\n        />\n      </div>\n    );\n  }\n}\n","// @flow\nconst gd = global.gd;\n\nexport default class InstancesSelection {\n  selection: Array<gdInitialInstance> = [];\n\n  hasSelectedInstances() {\n    return !!this.getSelectedInstances().length;\n  }\n\n  getSelectedInstances() {\n    return this.selection;\n  }\n\n  isInstanceSelected(instance: gdInitialInstance) {\n    for (var i = 0; i < this.selection.length; i++) {\n      if (gd.compare(this.selection[i], instance)) return true;\n    }\n\n    return false;\n  }\n\n  clearSelection() {\n    this.selection.length = 0;\n  }\n\n  selectInstance(\n    instance: gdInitialInstance,\n    multiselect: boolean,\n    layersVisibility: ?{ [string]: boolean } = null\n  ) {\n    if (this.isInstanceSelected(instance)) {\n      if (multiselect) this.unselectInstance(instance);\n\n      return;\n    }\n\n    if (!multiselect) this.clearSelection();\n\n    if (!layersVisibility || layersVisibility[instance.getLayer()]) {\n      this.selection.push(instance);\n    }\n  }\n\n  selectInstances(\n    instances: Array<gdInitialInstance>,\n    multiselect: boolean,\n    layersVisibility: ?{ [string]: boolean } = null\n  ) {\n    if (!multiselect) this.clearSelection();\n\n    instances.forEach(instance =>\n      this.selectInstance(instance, true, layersVisibility)\n    );\n  }\n\n  unselectInstance(instance: gdInitialInstance) {\n    if (this.isInstanceSelected(instance)) {\n      var i = this.selection.length - 1;\n      while (i >= -1 && this.selection[i].ptr !== instance.ptr) {\n        --i;\n      }\n\n      this.selection.splice(i, 1);\n    }\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport TextField from 'material-ui/TextField';\nimport Dialog from '../UI/Dialog';\n\nexport default class SetupGridDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...props.gridOptions };\n  }\n\n  _onApply = () => {\n    this.props.onApply({\n      gridWidth: this.state.gridWidth,\n      gridHeight: this.state.gridHeight,\n      gridOffsetX: this.state.gridOffsetX,\n      gridOffsetY: this.state.gridOffsetY,\n    });\n  };\n\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={this.props.onCancel}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={this._onApply}\n      />,\n    ];\n\n    return (\n      <Dialog\n        actions={actions}\n        open={this.props.open}\n        onRequestClose={this.props.onCancel}\n        autoScrollBodyContent={true}\n      >\n        <TextField\n          floatingLabelText={<Trans>Cell width (in pixels)</Trans>}\n          type=\"number\"\n          value={this.state.gridWidth}\n          onChange={(e, value) =>\n            this.setState({ gridWidth: parseInt(value, 10) })\n          }\n        />\n        <TextField\n          floatingLabelText={<Trans>Cell height (in pixels)</Trans>}\n          type=\"number\"\n          value={this.state.gridHeight}\n          onChange={(e, value) =>\n            this.setState({ gridHeight: parseInt(value, 10) })\n          }\n        />\n        <TextField\n          floatingLabelText={<Trans>X offset (in pixels)</Trans>}\n          type=\"number\"\n          value={this.state.gridOffsetX}\n          onChange={(e, value) =>\n            this.setState({ gridOffsetX: parseInt(value, 10) })\n          }\n        />\n        <TextField\n          floatingLabelText={<Trans>Y offset (in pixels)</Trans>}\n          type=\"number\"\n          value={this.state.gridOffsetY}\n          onChange={(e, value) =>\n            this.setState({ gridOffsetY: parseInt(value, 10) })\n          }\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport TextField from 'material-ui/TextField';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Dialog from '../UI/Dialog';\nimport ColorField from '../UI/ColorField';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport PropertiesEditor from '../PropertiesEditor';\nimport propertiesMapToSchema from '../PropertiesEditor/PropertiesMapToSchema';\nimport some from 'lodash/some';\nimport Checkbox from 'material-ui/Checkbox';\n\ntype Props = {|\n  open: boolean,\n  layout: gdLayout,\n  project: gdProject,\n  onApply?: () => void,\n  onClose: () => void,\n  onOpenMoreSettings: () => void,\n  onEditVariables: () => void,\n|};\n\ntype State = {|\n  windowTitle: string,\n  shouldStopSoundsOnStartup: boolean,\n  backgroundColor: {\n    r: number,\n    g: number,\n    b: number,\n    a: number,\n  },\n|};\n\nexport default class ScenePropertiesDialog extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = this._loadFrom(props.layout);\n  }\n\n  _loadFrom(layout: gdLayout): State {\n    return {\n      windowTitle: layout.getWindowDefaultTitle(),\n      shouldStopSoundsOnStartup: layout.stopSoundsOnStartup(),\n      backgroundColor: {\n        r: layout.getBackgroundColorRed(),\n        g: layout.getBackgroundColorGreen(),\n        b: layout.getBackgroundColorBlue(),\n        a: 1,\n      },\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.layout !== newProps.layout)\n    ) {\n      this.setState(this._loadFrom(newProps.layout));\n    }\n  }\n\n  _onApply = () => {\n    this.props.layout.setWindowDefaultTitle(this.state.windowTitle);\n    this.props.layout.setStopSoundsOnStartup(\n      this.state.shouldStopSoundsOnStartup\n    );\n    this.props.layout.setBackgroundColor(\n      this.state.backgroundColor.r,\n      this.state.backgroundColor.g,\n      this.state.backgroundColor.b\n    );\n    if (this.props.onApply) this.props.onApply();\n  };\n\n  render() {\n    const { layout, project } = this.props;\n    const actions = [\n      // TODO: Add support for cancelling modifications made to BehaviorSharedData\n      // (either by enhancing a function like propertiesMapToSchema or using copies)\n      // and then re-enable cancel button.\n      // <FlatButton\n      //   label={<Trans>Cancel</Trans>}\n      //   primary={false}\n      //   onClick={this.props.onClose}\n      // />,\n      <FlatButton\n        label={<Trans>Ok</Trans>}\n        key=\"ok\"\n        primary={true}\n        keyboardFocused={true}\n        onClick={this._onApply}\n      />,\n    ];\n\n    const allBehaviorSharedDataNames = layout\n      .getAllBehaviorSharedDataNames()\n      .toJSArray();\n\n    const propertiesEditors = allBehaviorSharedDataNames.map(name => {\n      const sharedData = layout.getBehaviorSharedData(name);\n\n      const properties = sharedData.getProperties(project);\n      const propertiesSchema = propertiesMapToSchema(\n        properties,\n        sharedData => sharedData.getProperties(project),\n        (sharedData, name, value) =>\n          sharedData.updateProperty(name, value, project)\n      );\n\n      return (\n        !!propertiesSchema.length && (\n          <PropertiesEditor\n            key={name}\n            schema={propertiesSchema}\n            instances={[sharedData]}\n          />\n        )\n      );\n    });\n\n    return (\n      <Dialog\n        actions={actions}\n        open={this.props.open}\n        onRequestClose={this.props.onClose}\n        autoScrollBodyContent={true}\n        contentStyle={{ width: '350px' }}\n      >\n        <TextField\n          floatingLabelText={<Trans>Window title</Trans>}\n          fullWidth\n          type=\"text\"\n          value={this.state.windowTitle}\n          onChange={(e, value) => this.setState({ windowTitle: value })}\n        />\n        <ColorField\n          floatingLabelText={<Trans>Scene background color</Trans>}\n          fullWidth\n          disableAlpha\n          color={this.state.backgroundColor}\n          onChangeComplete={color =>\n            this.setState({ backgroundColor: color.rgb })\n          }\n        />\n        <Checkbox\n          checked={this.state.shouldStopSoundsOnStartup}\n          label={<Trans>Stop musics and sounds on startup</Trans>}\n          onCheck={(e, check) =>\n            this.setState({\n              shouldStopSoundsOnStartup: check,\n            })\n          }\n        />\n        <RaisedButton\n          label={<Trans>Edit scene variables</Trans>}\n          fullWidth\n          onClick={() => {\n            this.props.onEditVariables();\n            this.props.onClose();\n          }}\n        />\n        {!some(propertiesEditors) && (\n          <EmptyMessage>\n            <Trans>\n              Any additional properties will appear here if you add behaviors to\n              objects, like Physics behavior.\n            </Trans>\n          </EmptyMessage>\n        )}\n        {propertiesEditors}\n        {this.props.onOpenMoreSettings && (\n          <RaisedButton\n            label={<Trans>Open advanced settings</Trans>}\n            fullWidth\n            onClick={() => {\n              this.props.onOpenMoreSettings();\n              this.props.onClose();\n            }}\n          />\n        )}\n      </Dialog>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport IconMenu from '../UI/Menu/IconMenu';\n\nconst t = str => str; //TODO\n\nexport class Toolbar extends PureComponent {\n  render() {\n    return (\n      <ToolbarGroup lastChild>\n        {this.props.showPreviewButton && (\n          <ToolbarIcon\n            onClick={this.props.onPreview}\n            src=\"res/ribbon_default/preview32.png\"\n            tooltip={t('Launch a preview of the scene')}\n          />\n        )}\n        {this.props.showNetworkPreviewButton && (\n          <IconMenu\n            iconButtonElement={\n              <ToolbarIcon\n                src=\"res/ribbon_default/bug32.png\"\n                tooltip={t(\n                  'Advanced preview options (debugger, network preview...)'\n                )}\n              />\n            }\n            buildMenuTemplate={() => [\n              {\n                label: 'Network preview (Preview over WiFi/LAN)',\n                click: () => this.props.onNetworkPreview(),\n              },\n              { type: 'separator' },\n              {\n                label: 'Preview with debugger and performance profiler',\n                click: () => this.props.onOpenDebugger(),\n              },\n            ]}\n          />\n        )}\n        {this.props.showPreviewButton && <ToolbarSeparator />}\n        {this.props.showObjectsList && (\n          <ToolbarIcon\n            onClick={this.props.openObjectsList}\n            src=\"res/ribbon_default/objects64.png\"\n            tooltip={t('Open the objects editor')}\n          />\n        )}\n        {this.props.showObjectsList && (\n          <ToolbarIcon\n            onClick={this.props.openObjectGroupsList}\n            src={'res/ribbon_default/objectsgroups64.png'}\n            tooltip={t('Open the objects groups editor')}\n          />\n        )}\n        <ToolbarIcon\n          onClick={this.props.openProperties}\n          src=\"res/ribbon_default/editprop32.png\"\n          tooltip={t('Open the properties panel')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.undo}\n          src=\"res/ribbon_default/undo32.png\"\n          disabled={!this.props.canUndo}\n          tooltip={t('Undo the last changes')}\n        />\n        <ToolbarIcon\n          onClick={this.props.redo}\n          src=\"res/ribbon_default/redo32.png\"\n          disabled={!this.props.canRedo}\n          tooltip={t('Redo the last changes')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.deleteSelection}\n          src=\"res/ribbon_default/deleteselected32.png\"\n          disabled={\n            !this.props.instancesSelection.getSelectedInstances().length\n          }\n          tooltip={t('Delete the selected instances from the scene')}\n        />\n        <ToolbarIcon\n          onClick={this.props.toggleInstancesList}\n          src=\"res/ribbon_default/ObjectsPositionsList32.png\"\n          tooltip={t('Open the list of instances')}\n        />\n        <ToolbarIcon\n          onClick={this.props.toggleLayersList}\n          src=\"res/ribbon_default/layers32.png\"\n          tooltip={t('Open the layers editor')}\n        />\n        <ToolbarSeparator />\n        <IconMenu\n          iconButtonElement={\n            <ToolbarIcon\n              src=\"res/ribbon_default/grid32.png\"\n              tooltip={t('Toggle/edit grid')}\n            />\n          }\n          buildMenuTemplate={() => [\n            {\n              type: 'checkbox',\n              label: 'Show Mask',\n              checked: this.props.isWindowMaskShown(),\n              click: () => this.props.toggleWindowMask(),\n            },\n            {\n              type: 'checkbox',\n              label: 'Show grid',\n              checked: this.props.isGridShown(),\n              click: () => this.props.toggleGrid(),\n            },\n            { type: 'separator' },\n            {\n              label: 'Setup grid',\n              click: () => this.props.openSetupGrid(),\n            },\n          ]}\n        />\n        <IconMenu\n          iconButtonElement={\n            <ToolbarIcon\n              src=\"res/ribbon_default/zoom32.png\"\n              tooltip={t('Change editor zoom')}\n            />\n          }\n          buildMenuTemplate={() => [\n            {\n              label: 'Zoom in',\n              click: this.props.zoomIn,\n              accelerator: 'CmdOrCtrl++',\n            },\n            {\n              label: 'Zoom out',\n              click: this.props.zoomOut,\n              accelerator: 'CmdOrCtrl+-',\n            },\n            { type: 'separator' },\n            { label: '5%', click: () => this.props.setZoomFactor(0.05) },\n            { label: '10%', click: () => this.props.setZoomFactor(0.1) },\n            { label: '25%', click: () => this.props.setZoomFactor(0.25) },\n            { label: '50%', click: () => this.props.setZoomFactor(0.5) },\n            { label: '100%', click: () => this.props.setZoomFactor(1.0) },\n            { label: '150%', click: () => this.props.setZoomFactor(1.5) },\n            { label: '200%', click: () => this.props.setZoomFactor(2.0) },\n            { label: '400%', click: () => this.props.setZoomFactor(4.0) },\n          ]}\n        />\n      </ToolbarGroup>\n    );\n  }\n}\n\nexport default Toolbar;\n","import React, { Component } from 'react';\nimport Measure from 'react-measure';\n\nconst styles = {\n  flexContainer: { display: 'flex', flex: 1, position: 'relative' },\n  absoluteContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflowY: 'hidden',\n  },\n};\n\n/**\n * Take a component and pass the maximum size that the component can take\n * as width and height props.\n * @param {*} WrappedComponent\n * @param {*} options\n */\nexport const passFullSize = (WrappedComponent, { useFlex }) => {\n  return class FullSizeMeasurer extends Component {\n    state = {\n      width: undefined,\n      height: undefined,\n    };\n\n    render() {\n      const { wrappedComponentRef, ...otherProps } = this.props;\n\n      return (\n        <Measure\n          onMeasure={({ width, height }) => this.setState({ width, height })}\n        >\n          <div\n            style={useFlex ? styles.flexContainer : styles.absoluteContainer}\n          >\n            {this.state.width !== undefined &&\n              this.state.height !== undefined && (\n                <WrappedComponent\n                  width={this.state.width}\n                  height={this.state.height}\n                  ref={ref => wrappedComponentRef && wrappedComponentRef(ref)}\n                  {...otherProps}\n                />\n              )}\n          </div>\n        </Measure>\n      );\n    }\n  };\n};\n","// @flow\nimport React, { Component } from 'react';\nimport Slider from 'material-ui/Slider';\nimport ViewPosition from './ViewPosition';\nimport throttle from 'lodash/throttle';\n\nconst MATERIAL_UI_SLIDER_WIDTH = 18;\n\nconst styles = {\n  container: {\n    overflow: 'hidden',\n  },\n  xScrollbar: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n  },\n  xSliderStyle: {\n    marginTop: -MATERIAL_UI_SLIDER_WIDTH / 2 + 1,\n    marginBottom: 0,\n  },\n  yScrollbar: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n  },\n  ySliderStyle: {\n    marginTop: 0,\n    marginLeft: -MATERIAL_UI_SLIDER_WIDTH / 2,\n  },\n};\n\ntype ScrollableComponent = {\n  scrollTo: (number, number) => void,\n  getViewPosition: () => ViewPosition,\n};\n\ntype Props = {\n  wrappedEditorRef: ?(?ScrollableComponent) => void,\n};\n\ntype State = {\n  xValue: number,\n  yValue: number,\n  xMin: number,\n  xMax: number,\n  yMin: number,\n  yMax: number,\n};\n\n/**\n * Add scrollbars that track the viewPosition of the wrapped component\n * @param {*} WrappedComponent\n * @param {*} options\n */\nexport const addScrollbars = (WrappedComponent: any) => {\n  return class ScrollbarContainer extends Component<Props, State> {\n    _editor: ?ScrollableComponent = null;\n\n    state: State = {\n      xValue: 0,\n      yValue: 0,\n      xMin: -5000,\n      xMax: +5000,\n      yMin: -5000,\n      yMax: +5000,\n    };\n\n    componentDidMount() {\n      if (this._editor) {\n        this._handleViewPositionChange(this._editor.getViewPosition());\n      }\n    }\n\n    _handleXChange = (e: any, value: number) => {\n      this.setState(\n        {\n          xValue: value,\n        },\n        () => {\n          if (this._editor) {\n            this._editor.scrollTo(this.state.xValue, this.state.yValue);\n          }\n        }\n      );\n    };\n\n    _handleYChange = (e: any, value: number) => {\n      this.setState(\n        {\n          yValue: value,\n        },\n        () => {\n          if (this._editor) {\n            this._editor.scrollTo(this.state.xValue, this.state.yValue);\n          }\n        }\n      );\n    };\n\n    _setAndAdjust = ({\n      xValue,\n      yValue,\n    }: {\n      xValue: number,\n      yValue: number,\n    }) => {\n      const xMax = Math.max(Math.abs(xValue) + 100, this.state.xMax);\n      const yMax = Math.max(Math.abs(yValue) + 100, this.state.yMax);\n\n      this.setState({\n        xMax,\n        yMax,\n        xMin: -xMax,\n        yMin: -yMax,\n        xValue,\n        yValue,\n      });\n    };\n\n    _handleViewPositionChange = throttle(\n      (viewPosition: ViewPosition) => {\n        this._setAndAdjust({\n          xValue: viewPosition.getViewX(),\n          yValue: viewPosition.getViewY(),\n        });\n      },\n      500, // Throttle the updates after a scroll to avoid make lots of updates in a row that would kill CPU\n      { leading: false, trailing: true }\n    );\n\n    render() {\n      const { wrappedEditorRef, ...otherProps } = this.props;\n\n      return (\n        <div style={styles.container}>\n          <WrappedComponent\n            onViewPositionChanged={this._handleViewPositionChange}\n            ref={(editorRef: ?ScrollableComponent) => {\n              wrappedEditorRef && wrappedEditorRef(editorRef);\n              this._editor = editorRef;\n            }}\n            {...otherProps}\n          />\n          <Slider\n            value={this.state.xValue}\n            min={this.state.xMin}\n            max={this.state.xMax}\n            onChange={this._handleXChange}\n            style={styles.xScrollbar}\n            sliderStyle={styles.xSliderStyle}\n            axis=\"x\"\n          />\n          <Slider\n            value={this.state.yValue}\n            min={this.state.yMin}\n            max={this.state.yMax}\n            onChange={this._handleYChange}\n            style={styles.yScrollbar}\n            sliderStyle={styles.ySliderStyle}\n            axis=\"y-reverse\"\n          />\n        </div>\n      );\n    }\n  };\n};\n","// @flow\nimport * as React from 'react';\nimport { AutoSizer } from 'react-virtualized';\nimport SortableVirtualizedItemList from '../UI/SortableVirtualizedItemList';\nimport Background from '../UI/Background';\nimport SearchBar from 'material-ui-search-bar';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { filterResourcesList } from './EnumerateResources';\nimport optionalRequire from '../Utils/OptionalRequire.js';\nimport {\n  createOrUpdateResource,\n  getLocalResourceFullPath,\n  resourceHasValidPath,\n  RESOURCE_EXTENSIONS,\n} from './ResourceUtils.js';\nimport { type ResourceKind } from './ResourceSource.flow';\n\nconst path = optionalRequire('path');\nconst glob = optionalRequire('glob');\nconst electron = optionalRequire('electron');\nconst hasElectron = electron ? true : false;\n\nconst gd = global.gd;\n\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\ntype State = {|\n  renamedResource: ?gdResource,\n  searchText: string,\n  resourcesWithMissingPath: { [string]: boolean },\n|};\n\ntype Props = {|\n  project: gdProject,\n  selectedResource: ?gdResource,\n  onSelectResource: (resource: gdResource) => void,\n  onDeleteResource: (resource: gdResource) => void,\n  onRenameResource: (\n    resource: gdResource,\n    newName: string,\n    cb: (boolean) => void\n  ) => void,\n|};\n\nexport default class ResourcesList extends React.Component<Props, State> {\n  sortableList: any;\n  state: State = {\n    renamedResource: null,\n    searchText: '',\n    resourcesWithMissingPath: {},\n  };\n\n  shouldComponentUpdate(nextProps: Props, nextState: State) {\n    // The component is costly to render, so avoid any re-rendering as much\n    // as possible.\n    // We make the assumption that no changes to resources list is made outside\n    // from the component.\n    // If a change is made, the component won't notice it: you have to manually\n    // call forceUpdate.\n\n    if (\n      this.state.renamedResource !== nextState.renamedResource ||\n      this.state.searchText !== nextState.searchText\n    )\n      return true;\n\n    if (\n      this.props.project !== nextProps.project ||\n      this.props.selectedResource !== nextProps.selectedResource\n    )\n      return true;\n\n    return false;\n  }\n\n  _deleteResource = (resource: gdResource) => {\n    this.props.onDeleteResource(resource);\n  };\n\n  _locateResourceFile = (resource: gdResource) => {\n    const resourceFolderPath = path.dirname(\n      getLocalResourceFullPath(this.props.project, resource.getName())\n    );\n    electron.shell.openItem(resourceFolderPath);\n  };\n\n  _openResourceFile = (resource: gdResource) => {\n    const resourceFilePath = getLocalResourceFullPath(\n      this.props.project,\n      resource.getName()\n    );\n    electron.shell.openItem(resourceFilePath);\n  };\n\n  _copyResourceFilePath = (resource: gdResource) => {\n    const resourceFilePath = getLocalResourceFullPath(\n      this.props.project,\n      resource.getName()\n    );\n    electron.clipboard.writeText(resourceFilePath);\n  };\n\n  _scanForNewResources = (\n    extensions: string,\n    createResource: () => gdResource\n  ) => {\n    const project = this.props.project;\n    const resourcesManager = project.getResourcesManager();\n    const projectPath = path.dirname(project.getProjectFile());\n\n    const getDirectories = (src, callback) => {\n      glob(src + '/**/*.{' + extensions + '}', callback);\n    };\n    getDirectories(projectPath, (err, res) => {\n      if (err) {\n        console.error('Error loading ', err);\n      } else {\n        res.forEach(pathFound => {\n          const fileName = path.relative(projectPath, pathFound);\n          if (!resourcesManager.hasResource(fileName)) {\n            createOrUpdateResource(project, createResource(), fileName);\n            console.info(`${fileName} added to project.`);\n          }\n        });\n      }\n      this.forceUpdate();\n    });\n  };\n\n  _removeUnusedResources = (resourceType: ResourceKind) => {\n    const { project } = this.props;\n    gd.ProjectResourcesAdder.getAllUseless(project, resourceType)\n      .toJSArray()\n      .forEach(resourceName => {\n        console.info(\n          `Removing unused` + resourceType + ` resource: ${resourceName}`\n        );\n      });\n    gd.ProjectResourcesAdder.removeAllUseless(project, resourceType);\n    this.forceUpdate();\n  };\n\n  _removeAllResourcesWithInvalidPath = () => {\n    const { project } = this.props;\n    const resourcesManager = project.getResourcesManager();\n    resourcesManager\n      .getAllResourceNames()\n      .toJSArray()\n      .forEach(resourceName => {\n        if (!resourceHasValidPath(project, resourceName)) {\n          resourcesManager.removeResource(resourceName);\n          console.info('Removed due to invalid path: ' + resourceName);\n        }\n      });\n    this.forceUpdate();\n  };\n\n  _editName = (resource: ?gdResource) => {\n    this.setState(\n      {\n        renamedResource: resource,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _rename = (resource: gdResource, newName: string) => {\n    const { project } = this.props;\n    this.setState({\n      renamedResource: null,\n    });\n\n    if (resource.getName() === newName) return;\n\n    if (project.getResourcesManager().hasResource(newName)) {\n      showWarningBox('Another resource with this name already exists');\n      return;\n    }\n\n    // eslint-disable-next-line\n    const answer = confirm(\n      'Are you sure you want to rename this resource? \\nGame objects using the old name will no longer be able to find it!'\n    );\n    if (!answer) return;\n\n    this.props.onRenameResource(resource, newName, doRename => {\n      if (!doRename) return;\n      resource.setName(newName);\n      this.forceUpdate();\n    });\n  };\n\n  _move = (oldIndex: number, newIndex: number) => {\n    const { project } = this.props;\n\n    project.getResourcesManager().moveResource(oldIndex, newIndex);\n    this.forceUpdateList();\n  };\n\n  forceUpdateList = () => {\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  _renderResourceMenuTemplate = (resource: gdResource) => {\n    return [\n      {\n        label: 'Rename',\n        click: () => this._editName(resource),\n      },\n      {\n        label: 'Remove',\n        click: () => this._deleteResource(resource),\n      },\n      { type: 'separator' },\n      {\n        label: 'Open File',\n        click: () => this._openResourceFile(resource),\n        enabled: hasElectron,\n      },\n      {\n        label: 'Locate File',\n        click: () => this._locateResourceFile(resource),\n        enabled: hasElectron,\n      },\n      {\n        label: 'Copy File Path',\n        click: () => this._copyResourceFilePath(resource),\n        enabled: hasElectron,\n      },\n      { type: 'separator' },\n      {\n        label: 'Scan for Images',\n        click: () => {\n          this._scanForNewResources(\n            RESOURCE_EXTENSIONS.image,\n            () => new gd.ImageResource()\n          );\n        },\n        enabled: hasElectron,\n      },\n      {\n        label: 'Scan for Audio',\n        click: () => {\n          this._scanForNewResources(\n            RESOURCE_EXTENSIONS.audio,\n            () => new gd.AudioResource()\n          );\n        },\n        enabled: hasElectron,\n      },\n      {\n        label: 'Scan for Fonts',\n        click: () => {\n          this._scanForNewResources(\n            RESOURCE_EXTENSIONS.font,\n            () => new gd.FontResource()\n          );\n        },\n        enabled: hasElectron,\n      },\n      {\n        label: 'Scan for Videos',\n        click: () => {\n          this._scanForNewResources(\n            RESOURCE_EXTENSIONS.video,\n            () => new gd.VideoResource()\n          );\n        },\n        enabled: hasElectron,\n      },\n      { type: 'separator' },\n      {\n        label: 'Remove Unused Images',\n        click: () => {\n          this._removeUnusedResources('image');\n        },\n      },\n      {\n        label: 'Remove Unused Audio',\n        click: () => {\n          this._removeUnusedResources('audio');\n        },\n      },\n      {\n        label: 'Remove Unused Fonts',\n        click: () => {\n          this._removeUnusedResources('font');\n        },\n      },\n      {\n        label: 'Remove Resources with Invalid Path',\n        click: () => {\n          this._removeAllResourcesWithInvalidPath();\n        },\n        enabled: hasElectron,\n      },\n    ];\n  };\n\n  checkMissingPaths = () => {\n    const { project } = this.props;\n    const resourcesManager = project.getResourcesManager();\n    const resourceNames = resourcesManager.getAllResourceNames().toJSArray();\n    const resourcesWithMissingPath = {};\n    resourceNames.forEach(resourceName => {\n      resourcesWithMissingPath[resourceName] = !resourceHasValidPath(\n        project,\n        resourceName\n      );\n    });\n    this.setState({ resourcesWithMissingPath });\n    this.forceUpdateList();\n  };\n\n  componentDidMount() {\n    this.checkMissingPaths();\n  }\n\n  render() {\n    const { project, selectedResource, onSelectResource } = this.props;\n    const { searchText } = this.state;\n\n    const resourcesManager = project.getResourcesManager();\n    const allResourcesList = resourcesManager\n      .getAllResourceNames()\n      .toJSArray()\n      .map(resourceName => resourcesManager.getResource(resourceName));\n    const filteredList = filterResourcesList(allResourcesList, searchText);\n\n    // Force List component to be mounted again if project\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = project.ptr;\n\n    return (\n      <Background>\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableVirtualizedItemList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={filteredList}\n                width={width}\n                height={height}\n                selectedItem={selectedResource}\n                onItemSelected={onSelectResource}\n                renamedItem={this.state.renamedResource}\n                onRename={this._rename}\n                onSortEnd={({ oldIndex, newIndex }) =>\n                  this._move(oldIndex, newIndex)\n                }\n                buildMenuTemplate={this._renderResourceMenuTemplate}\n                helperClass=\"sortable-helper\"\n                distance={20}\n                erroredItems={this.state.resourcesWithMissingPath}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n      </Background>\n    );\n  }\n}\n","// @flow\n\nexport const filterResourcesList = (\n  list: Array<gdResource>,\n  searchText: string\n): Array<gdResource> => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter((resource: gdResource) => {\n    return (\n      resource\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n    );\n  });\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ReactErrorBoundary from 'react-error-boundary';\nimport BugReport from 'material-ui/svg-icons/action/bug-report';\nimport PlaceholderMessage from './PlaceholderMessage';\nimport Divider from 'material-ui/Divider';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { sendErrorMessage } from '../Utils/Analytics/EventSender';\nimport Window from '../Utils/Window';\n\nconst errorHandler = (error: Error, componentStack: string) => {\n  console.error('Error catched by Boundary:', error, componentStack);\n  sendErrorMessage('Error catched by error boundary', 'error-boundary', {\n    error,\n    componentStack,\n  });\n};\n\nconst styles = {\n  title: {\n    fontSize: 24,\n  },\n};\n\nexport const ErrorFallbackComponent = ({\n  componentStack,\n  error,\n}: {\n  componentStack: string,\n  error: Error,\n}) => (\n  <PlaceholderMessage>\n    <p style={styles.title}>\n      <BugReport /> This editor encountered a problem.\n    </p>\n    <Divider />\n    <p>\n      Something wrong happened :(\n      <br />\n      Please <b>backup your game file</b> and save your game to ensure that you\n      don't lose anything.\n    </p>\n    <p>\n      The error was automatically reported.\n      <br />\n      To make sure it's fixed, you may report it on GitHub, the platform where\n      GDevelop is developed:\n    </p>\n    <RaisedButton\n      label={<Trans>Report the issue on GitHub</Trans>}\n      onClick={() => {\n        const body = `\n=> Please write here a short description of when the error occured and how to reproduce it.\nYou also may have to create an account on GitHub before posting.\n\nWhen you're ready, click on \"Submit new issue\". Don't change the rest of the message. Thanks!\n\n## Error stack (don't write anything here)\n\\`\\`\\`\n${error ? error.stack : 'No error found'}\n\\`\\`\\`\n\n## Component stack (don't write anything here)\n\\`\\`\\`\n${componentStack || 'No component stack found'}\n\\`\\`\\`\n        `;\n        Window.openExternalURL(\n          `https://github.com/4ian/GDevelop/issues/new?body=${encodeURIComponent(\n            body\n          )}&title=Crash%20while%20using%20an%20editor`\n        );\n      }}\n    />\n  </PlaceholderMessage>\n);\n\ntype Props = {|\n  children: React.Node,\n|};\n\nconst ErrorBoundary = (props: Props) => (\n  <ReactErrorBoundary\n    FallbackComponent={ErrorFallbackComponent}\n    onError={errorHandler}\n  >\n    {props.children}\n  </ReactErrorBoundary>\n);\n\nexport default ErrorBoundary;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { Card, CardActions, CardHeader } from 'material-ui/Card';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport UserProfileContext, { UserProfile } from './UserProfileContext';\nimport { Column, Line } from '../UI/Grid';\nimport {\n  getSubscriptionPlans,\n  type PlanDetails,\n  changeUserSubscription,\n} from '../Utils/GDevelopServices/Usage';\nimport { StripeCheckoutConfig } from '../Utils/GDevelopServices/ApiConfigs';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport CheckCircle from 'material-ui/svg-icons/action/check-circle';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport { showMessageBox, showErrorBox } from '../UI/Messages/MessageBox';\nimport LeftLoader from '../UI/LeftLoader';\nimport PlaceholderMessage from '../UI/PlaceholderMessage';\nimport {\n  sendSubscriptionDialogShown,\n  sendChoosePlanClicked,\n} from '../Utils/Analytics/EventSender';\n\nconst styles = {\n  descriptionText: {\n    marginLeft: 16,\n    marginRight: 16,\n    marginTop: 8,\n    marginBottom: 8,\n  },\n  card: {\n    margin: 16,\n  },\n  actions: {\n    textAlign: 'right',\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  bulletIcon: { width: 20, height: 20, marginLeft: 15, marginRight: 10 },\n  bulletText: { flex: 1, marginTop: 5, marginBottom: 5 },\n};\n\ntype Props = {|\n  open: boolean,\n  onClose: Function,\n|};\n\ntype State = {|\n  isLoading: boolean,\n|};\n\nexport default class SubscriptionDialog extends Component<Props, State> {\n  state = { isLoading: false };\n  stripeCheckoutHandler: null;\n\n  componentDidMount() {\n    if (this.props.open) {\n      sendSubscriptionDialogShown();\n    }\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (!this.props.open && newProps.open) {\n      sendSubscriptionDialogShown();\n    }\n  }\n\n  choosePlan = (userProfile: UserProfile, plan: PlanDetails) => {\n    const { getAuthorizationHeader, subscription, profile } = userProfile;\n    if (!profile || !subscription) return;\n    sendChoosePlanClicked(plan.planId);\n\n    if (subscription.stripeCustomerId) {\n      //eslint-disable-next-line\n      const answer = confirm(\n        'Are you sure you want to subscribe to this new plan?'\n      );\n      if (!answer) return;\n\n      // We already have a stripe customer, change the subscription without\n      // asking for the user card.\n      this.setState({ isLoading: true });\n      changeUserSubscription(getAuthorizationHeader, profile.uid, {\n        planId: plan.planId,\n      }).then(\n        () => this.handleNewSubscriptionSuccess(userProfile, plan),\n        this.handleNewSubscriptionFailure\n      );\n    } else {\n      // No existing customer, we need to get the user card so that the API\n      // can create the customer.\n      const stripeCheckout = global.StripeCheckout;\n      if (stripeCheckout) {\n        this.stripeCheckoutHandler = stripeCheckout.configure({\n          key: StripeCheckoutConfig.key,\n          image: StripeCheckoutConfig.image,\n          locale: 'auto',\n          token: stripeToken => {\n            this.setState({ isLoading: true });\n            changeUserSubscription(getAuthorizationHeader, profile.uid, {\n              planId: plan.planId,\n              stripeToken,\n            }).then(\n              () => this.handleNewSubscriptionSuccess(userProfile, plan),\n              this.handleNewSubscriptionFailure\n            );\n          },\n        });\n\n        this.stripeCheckoutHandler.open({\n          name: plan.name,\n          description: 'Monthly subscription',\n          currency: 'eur',\n          email: profile.email,\n          amount: plan.monthlyPriceInEuros * 100,\n        });\n      }\n    }\n  };\n\n  handleNewSubscriptionSuccess = (\n    userProfile: UserProfile,\n    plan: PlanDetails\n  ) => {\n    userProfile.onRefreshUserProfile();\n    this.setState({ isLoading: false });\n    if (plan.planId) {\n      showMessageBox(\n        'Congratulations, your new subscription is now active!\\n\\nYou can now use the services unlocked with this plan.'\n      );\n    } else {\n      showMessageBox(\n        'Your subscription was properly cancelled. Sorry to see you go!'\n      );\n    }\n  };\n\n  handleNewSubscriptionFailure = (err: any) => {\n    this.setState({ isLoading: false });\n    showErrorBox(\n      'Your subscription could not be updated. Please try again later!',\n      err\n    );\n  };\n\n  _renderPrice(plan: PlanDetails) {\n    return !plan.monthlyPriceInEuros\n      ? 'Free'\n      : `${plan.monthlyPriceInEuros}€/month`;\n  }\n\n  _isLoading = (userProfile: UserProfile) =>\n    !userProfile.subscription || !userProfile.profile || this.state.isLoading;\n\n  render() {\n    const { open, onClose } = this.props;\n\n    return (\n      <UserProfileContext.Consumer>\n        {(userProfile: UserProfile) => (\n          <Dialog\n            actions={[\n              <FlatButton\n                label={<Trans>Close</Trans>}\n                key=\"close\"\n                primary={false}\n                onClick={onClose}\n              />,\n            ]}\n            onRequestClose={onClose}\n            open={open}\n            noMargin\n            autoScrollBodyContent\n          >\n            <Column>\n              <Line>\n                <p>\n                  <Trans>\n                    Get a subscription to package your games for Android,\n                    Windows, macOS and Linux, use live preview over wifi and\n                    more. With a subscription, you're also supporting the\n                    development of GDevelop, which is an open-source software.\n                  </Trans>\n                </p>\n              </Line>\n            </Column>\n            {getSubscriptionPlans().map(plan => (\n              <Card key={plan.planId || ''} style={styles.card}>\n                <CardHeader\n                  title={\n                    <span>\n                      <b>{plan.name}</b> - {this._renderPrice(plan)}\n                    </span>\n                  }\n                  subtitle={plan.smallDescription}\n                />\n                {plan.descriptionBullets.map((bulletText, index) => (\n                  <Column key={index} expand>\n                    <Line noMargin alignItems=\"center\">\n                      <CheckCircle style={styles.bulletIcon} />\n                      <p style={styles.bulletText}>{bulletText}</p>\n                    </Line>\n                  </Column>\n                ))}\n                <p style={styles.descriptionText}>\n                  {plan.extraDescription || ''}\n                </p>\n                <CardActions style={styles.actions}>\n                  {userProfile.subscription &&\n                  userProfile.subscription.planId === plan.planId ? (\n                    <FlatButton\n                      disabled\n                      label={<Trans>This is your current plan</Trans>}\n                      onClick={() => this.choosePlan(userProfile, plan)}\n                    />\n                  ) : plan.planId ? (\n                    <LeftLoader isLoading={this._isLoading(userProfile)}>\n                      <RaisedButton\n                        primary\n                        disabled={this._isLoading(userProfile)}\n                        label={<Trans>Choose this plan</Trans>}\n                        onClick={() => this.choosePlan(userProfile, plan)}\n                      />\n                    </LeftLoader>\n                  ) : (\n                    <LeftLoader isLoading={this._isLoading(userProfile)}>\n                      <FlatButton\n                        label={<Trans>Choose</Trans>}\n                        onClick={() => this.choosePlan(userProfile, plan)}\n                      />\n                    </LeftLoader>\n                  )}\n                </CardActions>\n              </Card>\n            ))}\n            <Column>\n              <Line>\n                <EmptyMessage>\n                  <Trans>\n                    Subscriptions can be stopped at any time. GDevelop uses\n                    Stripe.com for secure payment. No credit card data is stored\n                    by GDevelop: everything is managed by Stripe secure\n                    infrastructure.\n                  </Trans>\n                </EmptyMessage>\n              </Line>\n            </Column>\n            {!userProfile.authenticated && (\n              <PlaceholderMessage>\n                <p>\n                  <Trans>\n                    Create a GDevelop account to continue. It's free and you'll\n                    be able to access to online services like one-click build\n                    for Android:\n                  </Trans>\n                </p>\n                <RaisedButton\n                  label={<Trans>Create my account</Trans>}\n                  primary\n                  onClick={userProfile.onLogin}\n                />\n                <FlatButton\n                  label={<Trans>Not now, thanks</Trans>}\n                  onClick={onClose}\n                />\n              </PlaceholderMessage>\n            )}\n          </Dialog>\n        )}\n      </UserProfileContext.Consumer>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport FlatButton from 'material-ui/FlatButton';\nimport MenuItem from 'material-ui/MenuItem';\nimport Dialog from '../../UI/Dialog';\nimport { Column, Line } from '../../UI/Grid';\nimport Window from '../../Utils/Window';\nimport PreferencesContext from './PreferencesContext';\nimport AlertMessage from '../../UI/AlertMessage';\nimport LocalesMetadata from '../../locales/LocalesMetadata';\nimport { I18n } from '@lingui/react';\nimport Divider from 'material-ui/Divider';\n\ntype Props = {|\n  open: boolean,\n  onClose: (languageDidChange: boolean) => void,\n|};\n\ntype State = {|\n  languageDidChange: boolean,\n|};\n\nconst displayLocaleMetadata = localeMetadata => {\n  if (localeMetadata.languageCode === 'en') return false;\n  if (localeMetadata.languageCode === 'pseudo_LOCALE') return Window.isDev();\n\n  return true;\n};\n\nconst renderLanguageMenuItem = localeMetadata => {\n  const translationRatio = localeMetadata.translationRatio || 0;\n  const percent = (100 * localeMetadata.translationRatio).toFixed(0);\n  const isStarted = translationRatio > 0;\n\n  return (\n    <MenuItem\n      value={localeMetadata.languageCode}\n      primaryText={\n        localeMetadata.languageNativeName +\n        ' (' +\n        localeMetadata.languageName +\n        ')' +\n        (isStarted ? ` - ~${percent}%` : '')\n      }\n      disabled={!isStarted}\n      key={localeMetadata.languageCode}\n    />\n  );\n};\n\nexport default class LanguageDialog extends Component<Props, State> {\n  state = {\n    languageDidChange: false,\n  };\n\n  render() {\n    const { open, onClose } = this.props;\n    if (!open) return null;\n\n    const localesToDisplay = LocalesMetadata.filter(displayLocaleMetadata);\n    const goodProgressLocales = localesToDisplay.filter(\n      localeMetadata => localeMetadata.translationRatio > 0.5\n    );\n    const startedLocales = localesToDisplay.filter(\n      localeMetadata => localeMetadata.translationRatio < 0.5\n    );\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <PreferencesContext.Consumer>\n            {({ values, setLanguage }) => {\n              const isLoadingLanguage = i18n.language !== values.language;\n\n              return (\n                <Dialog\n                  actions={[\n                    <FlatButton\n                      label={\n                        isLoadingLanguage ? (\n                          <Trans>Loading...</Trans>\n                        ) : (\n                          <Trans>Close</Trans>\n                        )\n                      }\n                      primary={false}\n                      onClick={onClose}\n                      disabled={isLoadingLanguage}\n                    />,\n                  ]}\n                  secondaryActions={[\n                    <FlatButton\n                      label={<Trans>Report a wrong translation</Trans>}\n                      key=\"report-wrong-translation\"\n                      primary={false}\n                      onClick={() =>\n                        Window.openExternalURL(\n                          'https://github.com/4ian/GDevelop/issues/969'\n                        )\n                      }\n                    />,\n                  ]}\n                  onRequestClose={() => onClose(this.state.languageDidChange)}\n                  open={open}\n                  title={<Trans>Language</Trans>}\n                >\n                  <Column>\n                    <Line>\n                      <AlertMessage kind=\"info\">\n                        <Trans>\n                          Support for translations is still new and in beta.\n                          GDevelop needs your help to be translated in your\n                          language!\n                        </Trans>\n                      </AlertMessage>\n                    </Line>\n                    <Line expand>\n                      <SelectField\n                        floatingLabelText={\n                          <Trans>Choose GDevelop language</Trans>\n                        }\n                        value={values.language}\n                        onChange={(e, i, value) => {\n                          setLanguage(value);\n                          this.setState({\n                            languageDidChange: true,\n                          });\n                        }}\n                        fullWidth\n                      >\n                        <MenuItem value=\"en\" primaryText=\"English (default)\" />\n                        {goodProgressLocales.map(localeMetadata =>\n                          renderLanguageMenuItem(localeMetadata)\n                        )}\n                        <Divider />\n                        {startedLocales.map(localeMetadata =>\n                          renderLanguageMenuItem(localeMetadata)\n                        )}\n                      </SelectField>\n                    </Line>\n                    <Line expand>\n                      <FlatButton\n                        primary\n                        label={\n                          <Trans>Help to translate GD in your language</Trans>\n                        }\n                        onClick={() =>\n                          Window.openExternalURL(\n                            'https://crowdin.com/project/gdevelop'\n                          )\n                        }\n                        fullWidth\n                      />\n                    </Line>\n                  </Column>\n                </Dialog>\n              );\n            }}\n          </PreferencesContext.Consumer>\n        )}\n      </I18n>\n    );\n  }\n}\n","// This file is generated by compile-translations.js script\n// prettier-ignore\nmodule.exports = [\n  {\n    \"languageCode\": \"af_ZA\",\n    \"languageName\": \"Afrikaans\",\n    \"languageNativeName\": \"Afrikaans\",\n    \"translationRatio\": 0.0029396044895777518\n  },\n  {\n    \"languageCode\": \"ar_SA\",\n    \"languageName\": \"Arabic\",\n    \"languageNativeName\": \"اللغة العربية\",\n    \"translationRatio\": 0.13174772848743987\n  },\n  {\n    \"languageCode\": \"az_AZ\",\n    \"languageName\": \"Azerbaijani\",\n    \"languageNativeName\": \"azərbaycan dili\",\n    \"translationRatio\": 0.02084446819882413\n  },\n  {\n    \"languageCode\": \"bg_BG\",\n    \"languageName\": \"Bulgarian\",\n    \"languageNativeName\": \"български език\",\n    \"translationRatio\": 0.0256547300908605\n  },\n  {\n    \"languageCode\": \"ca_ES\",\n    \"languageName\": \"Catalan\",\n    \"languageNativeName\": \"català\",\n    \"translationRatio\": 0.00668091929449488\n  },\n  {\n    \"languageCode\": \"cs_CZ\",\n    \"languageName\": \"Czech\",\n    \"languageNativeName\": \"čeština\",\n    \"translationRatio\": 0.036344200962052375\n  },\n  {\n    \"languageCode\": \"da_DK\",\n    \"languageName\": \"Danish\",\n    \"languageNativeName\": \"dansk\",\n    \"translationRatio\": 0.01950828433992513\n  },\n  {\n    \"languageCode\": \"de_DE\",\n    \"languageName\": \"German\",\n    \"languageNativeName\": \"Deutsch\",\n    \"translationRatio\": 0.9548369855692144\n  },\n  {\n    \"languageCode\": \"el_GR\",\n    \"languageName\": \"Greek\",\n    \"languageNativeName\": \"ελληνικά\",\n    \"translationRatio\": 0.3212185996793159\n  },\n  {\n    \"languageCode\": \"en\",\n    \"languageName\": \"English\",\n    \"languageNativeName\": \"English\",\n    \"translationRatio\": 0.01988071570576544\n  },\n  {\n    \"languageCode\": \"eo_UY\",\n    \"languageName\": \"Esperanto\",\n    \"languageNativeName\": \"Esperanto\",\n    \"translationRatio\": 0.007482629609834368\n  },\n  {\n    \"languageCode\": \"es_ES\",\n    \"languageName\": \"Spanish\",\n    \"languageNativeName\": \"Español\",\n    \"translationRatio\": 0.9906467129877071\n  },\n  {\n    \"languageCode\": \"fa_IR\",\n    \"languageName\": \"Persian\",\n    \"languageNativeName\": \"فارسی\",\n    \"translationRatio\": 0.023516835916622125\n  },\n  {\n    \"languageCode\": \"fi_FI\",\n    \"languageName\": \"Finnish\",\n    \"languageNativeName\": \"suomi\",\n    \"translationRatio\": 0.5082843399251737\n  },\n  {\n    \"languageCode\": \"fil_PH\",\n    \"languageName\": \"Filipino\",\n    \"languageNativeName\": \"Mga Filipino\",\n    \"translationRatio\": 0.7504008551576697\n  },\n  {\n    \"languageCode\": \"fr_FR\",\n    \"languageName\": \"French\",\n    \"languageNativeName\": \"Français\",\n    \"translationRatio\": 0.7669695350080171\n  },\n  {\n    \"languageCode\": \"ha_HG\",\n    \"languageName\": \"Hausa\",\n    \"languageNativeName\": \"هَوُسَ\",\n    \"translationRatio\": 0.0026723677177979965\n  },\n  {\n    \"languageCode\": \"he_IL\",\n    \"languageName\": \"Hebrew\",\n    \"languageNativeName\": \"עברית\",\n    \"translationRatio\": 0.00668091929449488\n  },\n  {\n    \"languageCode\": \"hu_HU\",\n    \"languageName\": \"Hungarian\",\n    \"languageNativeName\": \"magyar\",\n    \"translationRatio\": 0.04569748797434525\n  },\n  {\n    \"languageCode\": \"id_ID\",\n    \"languageName\": \"Indonesian\",\n    \"languageNativeName\": \"Indonesian\",\n    \"translationRatio\": 0.572421165152325\n  },\n  {\n    \"languageCode\": \"it_IT\",\n    \"languageName\": \"Italian\",\n    \"languageNativeName\": \"Italiano\",\n    \"translationRatio\": 0.5916622127204703\n  },\n  {\n    \"languageCode\": \"ja_JP\",\n    \"languageName\": \"Japanese\",\n    \"languageNativeName\": \"日本語\",\n    \"translationRatio\": 0.009353287012292877\n  },\n  {\n    \"languageCode\": \"ko_KR\",\n    \"languageName\": \"Korean\",\n    \"languageNativeName\": \"한국어\",\n    \"translationRatio\": 0.06761090326028862\n  },\n  {\n    \"languageCode\": \"lt_LT\",\n    \"languageName\": \"Lithuanian\",\n    \"languageNativeName\": \"lietuvių kalba\",\n    \"translationRatio\": 0.00614644575093537\n  },\n  {\n    \"languageCode\": \"mr_IN\",\n    \"languageName\": \"Marathi\",\n    \"languageNativeName\": \"मराठी\",\n    \"translationRatio\": 0.0026723677177979965\n  },\n  {\n    \"languageCode\": \"ms_MY\",\n    \"languageName\": \"Malay\",\n    \"languageNativeName\": \"هاس ملايو‎\",\n    \"translationRatio\": 0.007215392838054502\n  },\n  {\n    \"languageCode\": \"my_MM\",\n    \"languageName\": \"Burmese\",\n    \"languageNativeName\": \"ဗမာစာ\",\n    \"translationRatio\": 0.004008551576696995\n  },\n  {\n    \"languageCode\": \"nl_NL\",\n    \"languageName\": \"Dutch\",\n    \"languageNativeName\": \"Nederlands\",\n    \"translationRatio\": 0.467129877071085\n  },\n  {\n    \"languageCode\": \"no_NO\",\n    \"languageName\": \"Norwegian\",\n    \"languageNativeName\": \"Norsk\",\n    \"translationRatio\": 0.004543025120256505\n  },\n  {\n    \"languageCode\": \"pl_PL\",\n    \"languageName\": \"Polish\",\n    \"languageNativeName\": \"język polski\",\n    \"translationRatio\": 0.5280598610368787\n  },\n  {\n    \"languageCode\": \"pseudo_LOCALE\",\n    \"languageName\": \"for development only\",\n    \"languageNativeName\": \"Pseudolocalization\",\n    \"translationRatio\": 0.9960238568588469\n  },\n  {\n    \"languageCode\": \"pt_BR\",\n    \"languageName\": \"Brazilian Portuguese\",\n    \"languageNativeName\": \"Português brasileiro\",\n    \"translationRatio\": 0.15686798503474075\n  },\n  {\n    \"languageCode\": \"pt_PT\",\n    \"languageName\": \"Portuguese\",\n    \"languageNativeName\": \"Português\",\n    \"translationRatio\": 0.5649385355424906\n  },\n  {\n    \"languageCode\": \"ro_RO\",\n    \"languageName\": \"Romanian\",\n    \"languageNativeName\": \"limba română\",\n    \"translationRatio\": 0.01656867985034738\n  },\n  {\n    \"languageCode\": \"ru_RU\",\n    \"languageName\": \"Russian\",\n    \"languageNativeName\": \"Русский\",\n    \"translationRatio\": 0.6074291822554784\n  },\n  {\n    \"languageCode\": \"sk_SK\",\n    \"languageName\": \"Slovak\",\n    \"languageNativeName\": \"slovenčina\",\n    \"translationRatio\": 0.007215392838054502\n  },\n  {\n    \"languageCode\": \"sr_CS\",\n    \"languageName\": \"Serbian (Latin)\",\n    \"languageNativeName\": \"srpski\",\n    \"translationRatio\": 0.4636557990379476\n  },\n  {\n    \"languageCode\": \"sr_SP\",\n    \"languageName\": \"Serbian\",\n    \"languageNativeName\": \"српски језик\",\n    \"translationRatio\": 0.46606092998396575\n  },\n  {\n    \"languageCode\": \"sv_SE\",\n    \"languageName\": \"Swedish\",\n    \"languageNativeName\": \"svenska\",\n    \"translationRatio\": 0.20710849812934262\n  },\n  {\n    \"languageCode\": \"th_TH\",\n    \"languageName\": \"Thai\",\n    \"languageNativeName\": \"ไทย\",\n    \"translationRatio\": 0.03260288615713525\n  },\n  {\n    \"languageCode\": \"tr_TR\",\n    \"languageName\": \"Turkish\",\n    \"languageNativeName\": \"Türkçe\",\n    \"translationRatio\": 0.5638695884553715\n  },\n  {\n    \"languageCode\": \"uk_UA\",\n    \"languageName\": \"Ukrainian\",\n    \"languageNativeName\": \"Українська\",\n    \"translationRatio\": 0.022982362373062504\n  },\n  {\n    \"languageCode\": \"ur_PK\",\n    \"languageName\": \"Urdu\",\n    \"languageNativeName\": \"اردو\",\n    \"translationRatio\": 0.00427578834847675\n  },\n  {\n    \"languageCode\": \"yo_NG\",\n    \"languageName\": \"Yoruba\",\n    \"languageNativeName\": \"Yorùbá\",\n    \"translationRatio\": 0.8701229289150187\n  },\n  {\n    \"languageCode\": \"zh_CN\",\n    \"languageName\": \"Chinese Simplified\",\n    \"languageNativeName\": \"简化字\",\n    \"translationRatio\": 0.5665419561731695\n  },\n  {\n    \"languageCode\": \"zh_TW\",\n    \"languageName\": \"Chinese Traditional\",\n    \"languageNativeName\": \"正體字\",\n    \"translationRatio\": 0.07776590058792088\n  }\n];\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { mapVector } from '../Utils/MapFor';\nimport Chip from 'material-ui/Chip';\nimport TextField from 'material-ui/TextField';\nimport { Column } from '../UI/Grid';\nimport randomColor from 'randomcolor';\nconst gd = global.gd;\n\ntype Props = {|\n  value: string,\n  onChange: string => void,\n  chosenExtensionName: string,\n  onExtensionNameChosen: string => void,\n|};\n\nconst styles = {\n  chip: {\n    margin: 2,\n  },\n  chipsList: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n};\n\nconst getChipColor = (extensionName: string) => {\n  return randomColor({\n    seed: extensionName,\n    luminosity: 'light',\n  });\n};\n\nexport default class ExamplesSearchbar extends Component<Props> {\n  _chips: Array<{ text: string, value: string }> = [];\n  _textField: ?TextField;\n\n  constructor(props: Props) {\n    super(props);\n\n    const extensions = gd.JsPlatform.get().getAllPlatformExtensions();\n    this._chips = mapVector(extensions, extension => {\n      if (\n        extension.isBuiltin() ||\n        extension.getFullName().indexOf('(deprecated)') !== -1\n      )\n        return null;\n\n      return {\n        text: extension.getFullName(),\n        value: extension.getName(),\n      };\n    }).filter(Boolean);\n  }\n\n  componentDidMount() {\n    if (this._textField) this._textField.focus();\n  }\n\n  render() {\n    const {\n      chosenExtensionName,\n      onExtensionNameChosen,\n      value,\n      onChange,\n    } = this.props;\n    return (\n      <Column noMargin>\n        <TextField\n          fullWidth\n          hintText={<Trans>Search in examples</Trans>}\n          id=\"examples-searchbar\"\n          value={value}\n          onChange={(e, value) => {\n            onChange(value);\n          }}\n          ref={textField => (this._textField = textField)}\n        />\n        <div style={styles.chipsList}>\n          {this._chips.map(({ text, value }) => (\n            <Chip\n              key={value}\n              labelColor={\n                !chosenExtensionName || chosenExtensionName === value\n                  ? 'black'\n                  : undefined\n              }\n              backgroundColor={\n                !chosenExtensionName || chosenExtensionName === value\n                  ? getChipColor(value)\n                  : undefined\n              }\n              style={styles.chip}\n              onClick={() =>\n                onExtensionNameChosen(\n                  chosenExtensionName === value ? '' : value\n                )\n              }\n            >\n              {text}\n            </Chip>\n          ))}\n        </div>\n      </Column>\n    );\n  }\n}\n","// This file is generated by update-examples-extensions-usage-from-resources-examples.js script\n// prettier-ignore\nmodule.exports = {\n  \"admob\": {\n    \"description\": \"Demonstrate how to show ads from AdMob in your game: banners, interstitial screen or reward videos. Also useful to test that your AdMob account is working properly.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"AdMob\",\n        \"name\": \"AdMob\"\n      }\n    ]\n  },\n  \"advanced-shape-based-painter\": {\n    \"description\": \"Show how to use Shape Painter objects to create a simple drawing app.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"animation-speed-scale\": {\n    \"description\": \"Change the speed of the animation of an object according to its movement speed.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"asteroids\": {\n    \"description\": \"An adptation of the classic arcade game Asteroids with GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"basic-ai-with-pathfinding\": {\n    \"description\": \"Show how to use pathfinding to make enemies chase the player.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Pathfinding behavior\",\n        \"name\": \"PathfindingBehavior\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"basic-artificial-intelligence\": {\n    \"description\": \"Show how to create enemies looking at the player and chasing him when spotted.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"basic-topdown-car-driving\": {\n    \"description\": \"Show how to create a car that can be controlled by the player.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"betabox-basics-learning-experience\": {\n    \"description\": \"Example level for teaching basic programming skills with extra features and assets.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"bomb-the-crate\": {\n    \"description\": \"A basic bomberman like game, where the player can move on the map, drop bombs and destroy crates on the map.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"bouncing-ball-and-rope\": {\n    \"description\": \"Simulate a bouncing ball with ropes that can be created to move the ball around anchors.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Advanced control features\",\n        \"name\": \"BuiltinAdvanced\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      }\n    ]\n  },\n  \"breakout\": {\n    \"description\": \"The classic Breakout arcade game adapted in GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"External layouts\",\n        \"name\": \"BuiltinExternalLayouts\"\n      }\n    ]\n  },\n  \"buttons\": {\n    \"description\": \"Learn how to make buttons for the menus in your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      }\n    ]\n  },\n  \"car-physics\": {\n    \"description\": \"A fun, physics based driving game\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"center-object-within-another\": {\n    \"description\": \"How to put an object on the center of another\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"change-position-of-object\": {\n    \"description\": \"Show how to move an object by changing its X and Y position.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"change-scale-of-sprites\": {\n    \"description\": \"Show how to change the scale of a sprite (to make a zoom effect for example).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"change-sprite-animation\": {\n    \"description\": \"Learn how to change the animation of a Sprite object (useful for animating almost all objects in your game: characters, enemies, items...)\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"change-sprite-color\": {\n    \"description\": \"Learn how to change the color of a Sprite object - useful to achieve effects like invincibility with a blue tint or taking damage with a red effect. \",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"character-selection\": {\n    \"description\": \"Example showing how to remember the character selected by the player and use it in other scenes.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"controller-input\": {\n    \"description\": \"Use JavaScript to read the state of a gamepad and use it in your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"create-object-with-mouseclick\": {\n    \"description\": \"Show how to create an object at the position of the click.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"custom-font\": {\n    \"description\": \"Example showing a text with a custom font applied on it.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      }\n    ]\n  },\n  \"custom-mouse-pointer\": {\n    \"description\": \"Learn how to replace the mouse cursor by a custom image.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"customize-keys-with-lastpressedkey\": {\n    \"description\": \"This explains how to remember the last key that was pressed and customize the inputs of your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"device-orientation-ballgame\": {\n    \"description\": \"Example showing how to use the device sensors to move a ball in a maze.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Device sensors\",\n        \"name\": \"DeviceSensors\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"device-orientation-compass\": {\n    \"description\": \"This shows how to use the device sensors to create a compass like app.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Device sensors\",\n        \"name\": \"DeviceSensors\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"device-vibration\": {\n    \"description\": \"Show how to make the device vibrate.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Device vibration\",\n        \"name\": \"DeviceVibration\"\n      }\n    ]\n  },\n  \"downhill-bike-physics-demo\": {\n    \"description\": \"A fun demo, using the Physics Engine to build an advanced simulation of a bike, with a person pedaling on it. Try to cross the finish line without falling and as fast as possible!\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Advanced control features\",\n        \"name\": \"BuiltinAdvanced\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      },\n      {\n        \"fullName\": \"Device vibration\",\n        \"name\": \"DeviceVibration\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"drag-camera-with-mouse\": {\n    \"description\": \"This shows how to allow the user to move on a map with the mouse.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"drop-collect-items-from-storage\": {\n    \"description\": \"Show how to make the player collect objects from boxes on the map.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"endless-up-runner\": {\n    \"description\": \"A game where the player have to jump on platforms and avoid falling down as the screen goes up. With special objects (spring, rocks), score and Game Over handling!\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"exit-app\": {\n    \"description\": \"Simple example showing how to close your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      }\n    ]\n  },\n  \"facebook-instant-game\": {\n    \"description\": \"Learn how to use the various Facebook Instant Games APIs to get information about the player, share their scores and have a leaderboard!\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Facebook Instant Games\",\n        \"name\": \"FacebookInstantGames\"\n      }\n    ]\n  },\n  \"find-diagonals\": {\n    \"description\": \"Show how to delete objects that are located at the diagonals of the click of the player in a board game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"geodash\": {\n    \"description\": \"A fast paced game where you must jump and avoid obstacles.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      }\n    ]\n  },\n  \"health-bar\": {\n    \"description\": \"The platform example game adapted to add a health bar to the player, that is decreased when the player touches an enemy.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"infinite-scrolling-background\": {\n    \"description\": \"Learn how to create a background that is scolling infinitely.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"inventory-system\": {\n    \"description\": \"Learn how to display an inventory, with object that can be addded or removed, and how to persist it in storage.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Inventory\",\n        \"name\": \"Inventory\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      },\n      {\n        \"fullName\": \"Storage\",\n        \"name\": \"BuiltinFile\"\n      }\n    ]\n  },\n  \"isometric-game\": {\n    \"description\": \"Example of making an isometric 2D game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Top-down movement\",\n        \"name\": \"TopDownMovementBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"javascript-blocks-in-platformer\": {\n    \"description\": \"This shows how to reproduce the Platformer example using JavaScript code instead of events.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"keyboard-practice\": {\n    \"description\": \"A simple game where the player must press the right keys on the keyboard as fast as possible.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"level-editor\": {\n    \"description\": \"Example showing a basic level editor, where you can save and load positions of objects put on the scene during the game. Also shows how to use simple functions.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Storage\",\n        \"name\": \"BuiltinFile\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      }\n    ]\n  },\n  \"load-image-from-url\": {\n    \"description\": \"Advanced example showing how to use JavaScript to load an image from an external URL.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"magnet\": {\n    \"description\": \"Show how to move a ball like if it's attracted by a magnet.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"manipulate-text-object\": {\n    \"description\": \"This shows how to change the text of a Text object displayed on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"move-camera-to-position\": {\n    \"description\": \"This shows how to move the camera to the position of an object on a map.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"move-object-back-and-forth\": {\n    \"description\": \"Use events to move objects back and forth vertically or horizontally.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      }\n    ]\n  },\n  \"move-object-in-circle\": {\n    \"description\": \"This shows how to make an object move in circle around some point.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"move-object-toward-position\": {\n    \"description\": \"This shows how to have an object move to a given position on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"move-object-with-mouse-joint\": {\n    \"description\": \"Show how to use physics engine to move an object around with the mouse and realistic movements.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"move-object-with-physics\": {\n    \"description\": \"This shows how to use the forces built in GDevelop to move an object.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"multitouch\": {\n    \"description\": \"This show how to create multiple markers when the player touches the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"object-gravity\": {\n    \"description\": \"Use the physics engine to simulate an object moving on a small planet.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      }\n    ]\n  },\n  \"object-selection\": {\n    \"description\": \"Simple example showing how the engine of GDevelop select objects to be used in conditions and actions.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"objects-timers\": {\n    \"description\": \"Example showing various usage of objects timers (timers that are stored into instances of objects on the scene, as opposed to scene timers which are stored by the scene).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      }\n    ]\n  },\n  \"open-url-in-browser\": {\n    \"description\": \"This shows how to open a website on the system default browser.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Storage\",\n        \"name\": \"BuiltinFile\"\n      }\n    ]\n  },\n  \"parallax\": {\n    \"description\": \"Shows how to have multiple layers with a parallax effect (where the background layers move slower than the foreground).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"parallax-scrolling\": {\n    \"description\": \"Another example showing how to have multiple layers with a parallax effect (where the background layers move slower than the foreground).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"parse-json-from-api\": {\n    \"description\": \"Advanced example where JSON content is fetched from a website and information extracted from it.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Basic internet features\",\n        \"name\": \"BuiltinNetwork\"\n      }\n    ]\n  },\n  \"parse-json-string\": {\n    \"description\": \"Advanced example showing how to extract information from a JSON formatted string.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Basic internet features\",\n        \"name\": \"BuiltinNetwork\"\n      }\n    ]\n  },\n  \"particles-explosions\": {\n    \"description\": \"Create explosion effects with the particles engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"particles-various-effects\": {\n    \"description\": \"Create various effects with the particles engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"pathfinding\": {\n    \"description\": \"This show how to have an object moving from its position to another automatically avoiding obstacles.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Pathfinding behavior\",\n        \"name\": \"PathfindingBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"pathfinding-basics\": {\n    \"description\": \"Simpler example showing how to get started with Pathfinding, to have an object automatically find its way around obstacles.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Pathfinding behavior\",\n        \"name\": \"PathfindingBehavior\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"physics\": {\n    \"description\": \"Example showing various capabilities of the physics engine integrated to GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"physics-joints-demo\": {\n    \"description\": \"A demo of all the joints that can be created using the Physics engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"physics-joints-settings-demo\": {\n    \"description\": \"A demo of all the joints, and the way they can be customized, using the Physics engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"pin-object-to-another\": {\n    \"description\": \"Example showing how to have objects \\\"pinned\\\" to another, meaning that they will move/rotate and follow the object they are pinned too.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"pin-object-to-another-multiple-parents\": {\n    \"description\": \"Example showing how to have objects \\\"pinned\\\" to multiple other objects, meaning that they will move/rotate and follow the object they are pinned too.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      }\n    ]\n  },\n  \"pixel-perfect-platform-game\": {\n    \"description\": \"Very simple example showing the settings to have a pixel-perfect platform game (also applicable to other kind of games).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      }\n    ]\n  },\n  \"plane-and-clouds\": {\n    \"description\": \"Show how to randomly generate clouds to create an infinite sky.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"platformer\": {\n    \"description\": \"An example of a basic platformer (Mario-like) game made with GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"platformer-double-jump\": {\n    \"description\": \"The Platformer example modified to allow the player to do a double jump.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"play-music-on-mobile\": {\n    \"description\": \"This show how to properly launch a music on a game on mobile.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"play-stop-sprite-animation\": {\n    \"description\": \"This shows how to pause the animation of a Sprite object.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"racing-game\": {\n    \"description\": \"A top-down racing game made using the Physics engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"ragdoll\": {\n    \"description\": \"Example of creating a ragdoll with physics joints.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Advanced control features\",\n        \"name\": \"BuiltinAdvanced\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"rain\": {\n    \"description\": \"Show how to simulate a rain effect by creating several objects.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      }\n    ]\n  },\n  \"random-color-picker\": {\n    \"description\": \"This shows how to create a grid with random color, and let the player choose one.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"rotate-toward-mouse\": {\n    \"description\": \"Show how to rotate an object so that it looks toward the player cursor.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"rotate-toward-position\": {\n    \"description\": \"Show how to rotate an object so that it looks toward a specified position on the scene.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"rotate-with-keypress\": {\n    \"description\": \"Basic example showing how to rotate an object.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"save-load\": {\n    \"description\": \"Advanced example showing how to persist data and then reload them from storage (useful to store game progress, or save the state of some objects in a game).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Storage\",\n        \"name\": \"BuiltinFile\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"screen-shake\": {\n    \"description\": \"Make the screen shake when some event occurs.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"shoot-bullet-in-parabola\": {\n    \"description\": \"Show how to use various mathematical expressions to move an object following a parabola shape\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      }\n    ]\n  },\n  \"shoot-bullets\": {\n    \"description\": \"Basic example showing how to shoot bullets from an object.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"shooting-bullets-explanation\": {\n    \"description\": \"Basic example showing how to shoot bullets from one or multiple objects at the same time.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"snap-object-to-grid\": {\n    \"description\": \"Example showing how to create a grid and have objects snapped to the grid.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"space-invaders\": {\n    \"description\": \"A Space Invaders-like game, where you have a turret and shoot on enemies coming from the sky.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      }\n    ]\n  },\n  \"space-shooter\": {\n    \"description\": \"A space shooter game (Shoot 'em up) made with GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Top-down movement\",\n        \"name\": \"TopDownMovementBehavior\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"space-shooter-with-functions\": {\n    \"description\": \"The space shooter example with some events rewritten to be reusable functions (custom conditions/actions or expressions).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Top-down movement\",\n        \"name\": \"TopDownMovementBehavior\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      }\n    ]\n  },\n  \"splash-screen\": {\n    \"description\": \"Show how to create a splashscreen at the beginning of your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"sprite-fade-in-out\": {\n    \"description\": \"This shows how to make a sprite fade in and out on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"take-screenshot\": {\n    \"description\": \"Show how to save a screenshot of the game on the disk (on Windows/macOS/Linux only).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Screenshot\",\n        \"name\": \"Screenshot\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"text-entry-object\": {\n    \"description\": \"This shows how to use the Text Entry object to capture what is written on the keyboard.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text entry object\",\n        \"name\": \"TextEntryObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      }\n    ]\n  },\n  \"text-fade-in-out\": {\n    \"description\": \"This shows how to make a text fade in and out on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"text-to-speech\": {\n    \"description\": \"Advanced example showing how to use JavaScript and HTML5 api to make a text read by your computer.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text entry object\",\n        \"name\": \"TextEntryObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"toggle-music-play-sound\": {\n    \"description\": \"Example showing how to play a music and add controls on the screen to pause it, change the volume or mute the sounds totally.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"type-on-text-effect\": {\n    \"description\": \"This show how to create an effect where a text is progressively typed on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"z-depth\": {\n    \"description\": \"Example where the player can move a character on a map, and the character is displayed behind or in front of other objects according to its position.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"zombie-laser\": {\n    \"description\": \"Simple game where the player must use his laser powered gun to destroy zombies running at him.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Pathfinding behavior\",\n        \"name\": \"PathfindingBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  }\n};\n","// @flow\nimport * as React from 'react';\nimport { I18nProvider } from '@lingui/react';\nimport { setupI18n } from '@lingui/core';\nimport { getTranslationFunction } from './getTranslationFunction';\nimport { type I18n as I18nType } from '@lingui/core';\nconst gd = global.gd;\n\ntype Catalog = any;\ntype Catalogs = {\n  [string]: Catalog,\n};\n\ntype Props = {|\n  language: string,\n  children: React.Node,\n|};\n\ntype State = {\n  language: string,\n  i18n: ?I18nType,\n  catalogs: Catalogs,\n};\n\nexport default class GDI18nProvider extends React.Component<Props, State> {\n  state = {\n    language: 'en',\n    catalogs: {},\n    i18n: null,\n  };\n\n  componentDidMount() {\n    this._loadLanguage(this.props.language);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.language !== this.props.language) {\n      this._loadLanguage(this.props.language);\n    }\n  }\n\n  _loadCatalog = (language: string): Promise<Catalogs> => {\n    if (this.state.catalogs[language]) {\n      return Promise.resolve(this.state.catalogs);\n    }\n\n    return import(/* webpackMode: \"lazy\", webpackChunkName: \"locales-[request]\" */\n    `../../locales/${language}/messages`).then(\n      catalog => {\n        return { ...this.state.catalogs, [language]: catalog };\n      },\n      (error: Error) => {\n        console.error('Error while loading language=' + language, error);\n        return this.state.catalogs;\n      }\n    );\n  };\n\n  _loadLanguage(language: string) {\n    this._loadCatalog(language).then(catalogs => {\n      this.setState(\n        {\n          language,\n          catalogs,\n          i18n: setupI18n({\n            language: language,\n            catalogs,\n          }),\n        },\n        () => {\n          const { i18n } = this.state;\n          gd.getTranslation = getTranslationFunction(i18n);\n          console.info(`Loaded \"${language}\" language`);\n        }\n      );\n    });\n  }\n\n  render() {\n    // Use language from the state, as it is synchronized with the catalogs,\n    // while the language from props is the \"target language\", and sometime\n    // can be a language for which the catalog is not loaded yet (which would\n    // create warning and a \"flash\" effect when changing language).\n    const { i18n, catalogs, language } = this.state;\n    const { children } = this.props;\n\n    if (!i18n) return null; // Skip rendering when catalog isn't loaded.\n\n    return (\n      <I18nProvider i18n={i18n} language={language} catalogs={catalogs}>\n        {children}\n      </I18nProvider>\n    );\n  }\n}\n","var map = {\n\t\"./af_ZA/messages\": [\n\t\t1903,\n\t\t5\n\t],\n\t\"./ar_SA/messages\": [\n\t\t1904,\n\t\t6\n\t],\n\t\"./az_AZ/messages\": [\n\t\t1905,\n\t\t7\n\t],\n\t\"./bg_BG/messages\": [\n\t\t1906,\n\t\t8\n\t],\n\t\"./ca_ES/messages\": [\n\t\t1907,\n\t\t9\n\t],\n\t\"./cs_CZ/messages\": [\n\t\t1908,\n\t\t10\n\t],\n\t\"./da_DK/messages\": [\n\t\t1909,\n\t\t11\n\t],\n\t\"./de_DE/messages\": [\n\t\t1910,\n\t\t12\n\t],\n\t\"./el_GR/messages\": [\n\t\t1911,\n\t\t13\n\t],\n\t\"./en/messages\": [\n\t\t1912,\n\t\t14\n\t],\n\t\"./eo_UY/messages\": [\n\t\t1913,\n\t\t15\n\t],\n\t\"./es_ES/messages\": [\n\t\t1914,\n\t\t16\n\t],\n\t\"./fa_IR/messages\": [\n\t\t1915,\n\t\t17\n\t],\n\t\"./fi_FI/messages\": [\n\t\t1916,\n\t\t18\n\t],\n\t\"./fil_PH/messages\": [\n\t\t1917,\n\t\t19\n\t],\n\t\"./fr_FR/messages\": [\n\t\t1918,\n\t\t20\n\t],\n\t\"./ha_HG/messages\": [\n\t\t1919,\n\t\t21\n\t],\n\t\"./he_IL/messages\": [\n\t\t1920,\n\t\t22\n\t],\n\t\"./hu_HU/messages\": [\n\t\t1921,\n\t\t23\n\t],\n\t\"./id_ID/messages\": [\n\t\t1922,\n\t\t24\n\t],\n\t\"./it_IT/messages\": [\n\t\t1923,\n\t\t25\n\t],\n\t\"./ja_JP/messages\": [\n\t\t1924,\n\t\t26\n\t],\n\t\"./ko_KR/messages\": [\n\t\t1925,\n\t\t27\n\t],\n\t\"./lt_LT/messages\": [\n\t\t1926,\n\t\t28\n\t],\n\t\"./mr_IN/messages\": [\n\t\t1927,\n\t\t29\n\t],\n\t\"./ms_MY/messages\": [\n\t\t1928,\n\t\t30\n\t],\n\t\"./my_MM/messages\": [\n\t\t1929,\n\t\t31\n\t],\n\t\"./nl_NL/messages\": [\n\t\t1930,\n\t\t32\n\t],\n\t\"./no_NO/messages\": [\n\t\t1931,\n\t\t33\n\t],\n\t\"./pl_PL/messages\": [\n\t\t1932,\n\t\t34\n\t],\n\t\"./pseudo_LOCALE/messages\": [\n\t\t1933,\n\t\t35\n\t],\n\t\"./pt_BR/messages\": [\n\t\t1934,\n\t\t36\n\t],\n\t\"./pt_PT/messages\": [\n\t\t1935,\n\t\t37\n\t],\n\t\"./ro_RO/messages\": [\n\t\t1936,\n\t\t38\n\t],\n\t\"./ru_RU/messages\": [\n\t\t1937,\n\t\t39\n\t],\n\t\"./sk_SK/messages\": [\n\t\t1938,\n\t\t40\n\t],\n\t\"./sr_CS/messages\": [\n\t\t1939,\n\t\t41\n\t],\n\t\"./sr_SP/messages\": [\n\t\t1940,\n\t\t42\n\t],\n\t\"./sv_SE/messages\": [\n\t\t1941,\n\t\t43\n\t],\n\t\"./th_TH/messages\": [\n\t\t1942,\n\t\t44\n\t],\n\t\"./tr_TR/messages\": [\n\t\t1943,\n\t\t45\n\t],\n\t\"./uk_UA/messages\": [\n\t\t1944,\n\t\t46\n\t],\n\t\"./ur_PK/messages\": [\n\t\t1945,\n\t\t47\n\t],\n\t\"./yo_NG/messages\": [\n\t\t1946,\n\t\t48\n\t],\n\t\"./zh_CN/messages\": [\n\t\t1947,\n\t\t49\n\t],\n\t\"./zh_TW/messages\": [\n\t\t1948,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 1723;\nmodule.exports = webpackAsyncContext;","import { Component } from 'react';\nimport { NativeTypes } from 'react-dnd-html5-backend';\nimport { DropTarget } from 'react-dnd';\n\nclass SimpleDropTarget extends Component {\n  render() {\n    const { connectDropTarget } = this.props;\n    return connectDropTarget(this.props.children);\n  }\n}\n\nfunction collect(connect, monitor) {\n  return {\n    // Call this function inside render()\n    // to let React DnD handle the drag events:\n    connectDropTarget: connect.dropTarget(),\n    // You can ask the monitor about the current drag state:\n    isOver: monitor.isOver(),\n    isOverCurrent: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n    itemType: monitor.getItemType(),\n  };\n}\nconst spec = {\n  drop(props, monitor, component) {\n    if (monitor.didDrop()) {\n      // If you want, you can check whether some nested\n      // target already handled drop\n      return;\n    }\n\n    const item = monitor.getItem();\n    return { item };\n  },\n};\n\nexport default DropTarget(NativeTypes.TEXT, spec, collect)(SimpleDropTarget);\n","import LayerRenderer from './LayerRenderer';\nimport PIXI from 'pixi.js';\n\nexport default class InstancesRenderer {\n  constructor({\n    project,\n    layout,\n    instances,\n    viewPosition,\n    onInstanceClicked,\n    onOverInstance,\n    onOutInstance,\n    onMoveInstance,\n    onMoveInstanceEnd,\n    onDownInstance,\n  }) {\n    this.project = project;\n    this.instances = instances;\n    this.layout = layout;\n    this.viewPosition = viewPosition;\n    this.onInstanceClicked = onInstanceClicked;\n    this.onOverInstance = onOverInstance;\n    this.onOutInstance = onOutInstance;\n    this.onMoveInstance = onMoveInstance;\n    this.onMoveInstanceEnd = onMoveInstanceEnd;\n    this.onDownInstance = onDownInstance;\n\n    this.layersRenderers = {};\n\n    this.pixiContainer = new PIXI.Container();\n    this.instanceMeasurer = {\n      getInstanceLeft: instance => {\n        const layerName = instance.getLayer();\n        const layerRenderer = this.layersRenderers[layerName];\n        if (!layerRenderer) return instance.getX();\n\n        return layerRenderer.getInstanceLeft(instance);\n      },\n      getInstanceTop: instance => {\n        const layerName = instance.getLayer();\n        const layerRenderer = this.layersRenderers[layerName];\n        if (!layerRenderer) return instance.getY();\n\n        return layerRenderer.getInstanceTop(instance);\n      },\n      getInstanceWidth: instance => {\n        if (instance.hasCustomSize()) return instance.getCustomWidth();\n\n        const layerName = instance.getLayer();\n        const layerRenderer = this.layersRenderers[layerName];\n        if (!layerRenderer) return 0;\n\n        return layerRenderer.getInstanceWidth(instance);\n      },\n\n      getInstanceHeight: instance => {\n        if (instance.hasCustomSize()) return instance.getCustomHeight();\n\n        const layerName = instance.getLayer();\n        const layerRenderer = this.layersRenderers[layerName];\n        if (!layerRenderer) return 0;\n\n        return layerRenderer.getInstanceHeight(instance);\n      },\n      getInstanceRect: instance => {\n        return {\n          x: this.instanceMeasurer.getInstanceLeft(instance),\n          y: this.instanceMeasurer.getInstanceTop(instance),\n          width: this.instanceMeasurer.getInstanceWidth(instance),\n          height: this.instanceMeasurer.getInstanceHeight(instance),\n        };\n      },\n    };\n  }\n\n  getPixiContainer() {\n    return this.pixiContainer;\n  }\n\n  getInstanceMeasurer() {\n    return this.instanceMeasurer;\n  }\n\n  render() {\n    for (let i = 0; i < this.layout.getLayersCount(); i++) {\n      const layer = this.layout.getLayerAt(i);\n      const layerName = layer.getName();\n\n      let layerRenderer = this.layersRenderers[layerName];\n      if (!layerRenderer) {\n        this.layersRenderers[layerName] = layerRenderer = new LayerRenderer({\n          project: this.project,\n          layout: this.layout,\n          instances: this.instances,\n          viewPosition: this.viewPosition,\n          layer: layer,\n          onInstanceClicked: this.onInstanceClicked,\n          onOverInstance: this.onOverInstance,\n          onOutInstance: this.onOutInstance,\n          onMoveInstance: this.onMoveInstance,\n          onMoveInstanceEnd: this.onMoveInstanceEnd,\n          onDownInstance: this.onDownInstance,\n        });\n        this.pixiContainer.addChild(layerRenderer.getPixiContainer());\n      }\n\n      // /!\\ Objects representing layers can be deleted at any moment and replaced\n      // by new one, for example when two layers are swapped.\n      // We update the layer object of the renderer so that the renderer always has\n      // a valid layer object that can be used.\n      layerRenderer.layer = layer;\n      layerRenderer.wasUsed = true;\n      layerRenderer.getPixiContainer().zOrder = i;\n      layerRenderer.render();\n    }\n\n    this._updatePixiObjectsZOrder();\n    this._cleanRenderers();\n  }\n\n  _updatePixiObjectsZOrder() {\n    this.pixiContainer.children.sort((a, b) => {\n      a.zOrder = a.zOrder || 0;\n      b.zOrder = b.zOrder || 0;\n      return a.zOrder - b.zOrder;\n    });\n  }\n\n  /**\n   * Delete instance renderers of the specified objects, which will then be recreated during\n   * the next render.\n   * @param {string} objectName The name of the object for which instance must be re-rendered.\n   */\n  resetRenderersFor(objectName) {\n    for (let i in this.layersRenderers) {\n      if (this.layersRenderers.hasOwnProperty(i)) {\n        const layerRenderer = this.layersRenderers[i];\n        layerRenderer.resetRenderersFor(objectName);\n      }\n    }\n  }\n\n  /**\n   * Clean up rendered layers that are not existing anymore\n   */\n  _cleanRenderers() {\n    for (let i in this.layersRenderers) {\n      if (this.layersRenderers.hasOwnProperty(i)) {\n        const layerRenderer = this.layersRenderers[i];\n        if (!layerRenderer.wasUsed) {\n          this.pixiContainer.removeChild(layerRenderer.getPixiContainer());\n          layerRenderer.delete();\n          delete this.layersRenderers[i];\n        } else layerRenderer.wasUsed = false;\n      }\n    }\n  }\n\n  delete() {\n    for (let i in this.layersRenderers) {\n      if (this.layersRenderers.hasOwnProperty(i)) {\n        this.layersRenderers[i].delete();\n      }\n    }\n  }\n}\n","export default function transformRect(transformPoint, { x, y, width, height }) {\n  const startPos = transformPoint(x, y);\n  const endPos = transformPoint(x + width, y + height);\n  return {\n    x: startPos[0],\n    y: startPos[1],\n    width: endPos[0] - startPos[0],\n    height: endPos[1] - startPos[1],\n  };\n}\n","import gesture from 'pixi-simple-gesture';\nimport transformRect from '../Utils/TransformRect';\nimport PIXI from 'pixi.js';\n\nconst buttonSize = 10;\nconst smallButtonSize = 8;\nconst buttonPadding = 5;\n\nconst RECTANGLE_BUTTON_SHAPE = 0;\nconst CIRCLE_BUTTON_SHAPE = 1;\n\nexport default class InstancesSelection {\n  constructor({\n    instancesSelection,\n    instanceMeasurer,\n    onResize,\n    onResizeEnd,\n    onRotate,\n    onRotateEnd,\n    toCanvasCoordinates,\n  }) {\n    this.instanceMeasurer = instanceMeasurer;\n    this.onResize = onResize;\n    this.onResizeEnd = onResizeEnd;\n    this.onRotate = onRotate;\n    this.onRotateEnd = onRotateEnd;\n    this.toCanvasCoordinates = toCanvasCoordinates;\n    this.instancesSelection = instancesSelection;\n\n    this.pixiContainer = new PIXI.Container();\n    this.rectanglesContainer = new PIXI.Container();\n    this.selectedRectangles = [];\n    this.pixiContainer.addChild(this.rectanglesContainer);\n\n    this.resizeButton = new PIXI.Graphics();\n    this.resizeIcon = new PIXI.Sprite.fromImage('res/actions/direction.png');\n    this.rightResizeButton = new PIXI.Graphics();\n    this.bottomResizeButton = new PIXI.Graphics();\n    this.rotateButton = new PIXI.Graphics();\n    this._makeButton(\n      this.resizeButton,\n      event => {\n        this.onResize(event.deltaX, event.deltaY);\n      },\n      () => {\n        this.onResizeEnd();\n      },\n      'nwse-resize'\n    );\n    this._makeButton(\n      this.rightResizeButton,\n      event => {\n        this.onResize(event.deltaX, 0);\n      },\n      () => {\n        this.onResizeEnd();\n      },\n      'ew-resize'\n    );\n    this._makeButton(\n      this.bottomResizeButton,\n      event => {\n        this.onResize(0, event.deltaY);\n      },\n      () => {\n        this.onResizeEnd();\n      },\n      'ns-resize'\n    );\n    this._makeButton(\n      this.rotateButton,\n      event => {\n        this.onRotate(event.deltaX, event.deltaY);\n      },\n      () => {\n        this.onRotateEnd();\n      },\n      'url(\"res/actions/rotate24.png\"),auto'\n    );\n  }\n\n  _makeButton(objectButton, onMove, onEnd, cursor) {\n    objectButton.interactive = true;\n    objectButton.buttonMode = true;\n    objectButton.defaultCursor = cursor;\n    gesture.panable(objectButton);\n    objectButton.on('panmove', onMove);\n    objectButton.on('panend', onEnd);\n    this.pixiContainer.addChild(objectButton);\n  }\n\n  getPixiContainer() {\n    return this.pixiContainer;\n  }\n\n  _renderButton(\n    show,\n    buttonObject,\n    canvasPosition,\n    size,\n    shape = RECTANGLE_BUTTON_SHAPE\n  ) {\n    buttonObject.clear();\n    if (!show) {\n      buttonObject.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n      return;\n    }\n\n    buttonObject.beginFill(0xffffff);\n    buttonObject.lineStyle(1, 0x6868e8, 1);\n    buttonObject.fillAlpha = 0.9;\n    if (shape === RECTANGLE_BUTTON_SHAPE) {\n      buttonObject.drawRect(canvasPosition[0], canvasPosition[1], size, size);\n    } else if (shape === CIRCLE_BUTTON_SHAPE) {\n      buttonObject.drawCircle(\n        canvasPosition[0] + size / 2,\n        canvasPosition[1] + size / 2,\n        size / 2\n      );\n    }\n\n    buttonObject.endFill();\n    buttonObject.hitArea = new PIXI.Rectangle(\n      canvasPosition[0],\n      canvasPosition[1],\n      size,\n      size\n    );\n  }\n\n  render() {\n    const selection = this.instancesSelection.getSelectedInstances();\n    let x1;\n    let y1;\n    let x2;\n    let y2;\n\n    //Update the selection rectangle of each instance\n    for (var i = 0; i < selection.length; i++) {\n      if (this.selectedRectangles.length === i) {\n        const newRectangle = new PIXI.Graphics();\n        newRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n        this.selectedRectangles.push(newRectangle);\n        this.rectanglesContainer.addChild(newRectangle);\n      }\n\n      const instance = selection[i];\n      const instanceRect = this.instanceMeasurer.getInstanceRect(instance);\n      const selectionRectangle = transformRect(\n        this.toCanvasCoordinates,\n        instanceRect\n      );\n\n      this.selectedRectangles[i].clear();\n      this.selectedRectangles[i].beginFill(0x6868e8);\n      this.selectedRectangles[i].lineStyle(1, 0x6868e8, 1);\n      this.selectedRectangles[i].fillAlpha = 0.3;\n      this.selectedRectangles[i].alpha = 0.8;\n      this.selectedRectangles[i].drawRect(\n        selectionRectangle.x,\n        selectionRectangle.y,\n        selectionRectangle.width,\n        selectionRectangle.height\n      );\n      this.selectedRectangles[i].endFill();\n\n      if (x1 === undefined || instanceRect.x < x1) x1 = instanceRect.x;\n      if (y1 === undefined || instanceRect.y < y1) y1 = instanceRect.y;\n      if (x2 === undefined || instanceRect.x + instanceRect.width > x2)\n        x2 = instanceRect.x + instanceRect.width;\n      if (y2 === undefined || instanceRect.y + instanceRect.height > y2)\n        y2 = instanceRect.y + instanceRect.height;\n    }\n\n    while (this.selectedRectangles.length > selection.length) {\n      this.rectanglesContainer.removeChild(this.selectedRectangles.pop());\n    }\n\n    //Position the resize button.\n    const show = selection.length !== 0;\n    const resizeButtonPos = this.toCanvasCoordinates(x2, y2);\n    resizeButtonPos[0] += buttonPadding;\n    resizeButtonPos[1] += buttonPadding;\n\n    const rightResizeButtonPos = this.toCanvasCoordinates(\n      x2,\n      y1 + (y2 - y1) / 2\n    );\n    rightResizeButtonPos[0] += buttonPadding;\n    rightResizeButtonPos[1] -= -smallButtonSize / 2;\n\n    const bottomResizeButtonPos = this.toCanvasCoordinates(\n      x1 + (x2 - x1) / 2,\n      y2\n    );\n    bottomResizeButtonPos[0] -= -smallButtonSize / 2;\n    bottomResizeButtonPos[1] += buttonPadding;\n\n    const rotateButtonPos = this.toCanvasCoordinates(x1 + (x2 - x1) / 2, y1);\n    rotateButtonPos[0] -= -smallButtonSize / 2;\n    rotateButtonPos[1] -= buttonPadding * 4;\n\n    this._renderButton(show, this.resizeButton, resizeButtonPos, buttonSize);\n    this._renderButton(\n      show,\n      this.rightResizeButton,\n      rightResizeButtonPos,\n      smallButtonSize\n    );\n    this._renderButton(\n      show,\n      this.bottomResizeButton,\n      bottomResizeButtonPos,\n      smallButtonSize\n    );\n    this._renderButton(\n      show,\n      this.rotateButton,\n      rotateButtonPos,\n      smallButtonSize,\n      CIRCLE_BUTTON_SHAPE\n    );\n  }\n}\n","import transformRect from '../Utils/TransformRect';\nimport PIXI from 'pixi.js';\n\nexport default class InstancesSelection {\n  constructor({ instanceMeasurer, toCanvasCoordinates }) {\n    this.instanceMeasurer = instanceMeasurer;\n    this.toCanvasCoordinates = toCanvasCoordinates;\n\n    this.highlightedInstance = null;\n    this.highlightRectangle = new PIXI.Graphics();\n    this.highlightRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n  }\n\n  setInstance(instance) {\n    this.highlightedInstance = instance;\n  }\n\n  getInstance() {\n    return this.highlightedInstance;\n  }\n\n  getPixiObject(instance) {\n    return this.highlightRectangle;\n  }\n\n  render() {\n    if (this.highlightedInstance === null) {\n      this.highlightRectangle.visible = false;\n      return;\n    }\n\n    const highlightRectangle = transformRect(\n      this.toCanvasCoordinates,\n      this.instanceMeasurer.getInstanceRect(this.highlightedInstance)\n    );\n\n    this.highlightRectangle.visible = true;\n    this.highlightRectangle.clear();\n    this.highlightRectangle.beginFill(0xeeeeff);\n    this.highlightRectangle.fillAlpha = 0.1;\n    this.highlightRectangle.alpha = 0.8;\n    this.highlightRectangle.lineStyle(1, 0x000000, 1);\n    this.highlightRectangle.drawRect(\n      highlightRectangle.x,\n      highlightRectangle.y,\n      highlightRectangle.width,\n      highlightRectangle.height\n    );\n    this.highlightRectangle.endFill();\n  }\n}\n","export default class InstancesResizer {\n  constructor({ instanceMeasurer, options }) {\n    this.instanceMeasurer = instanceMeasurer;\n    this.options = options;\n    this.instanceSizes = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  _roundWidth(width) {\n    if (!this.options.snap || !this.options.grid || this.options.gridWidth <= 0)\n      return Math.max(Math.round(width), 1);\n\n    return Math.max(\n      Math.round(width / this.options.gridWidth) * this.options.gridWidth,\n      1\n    );\n  }\n\n  _roundHeight(height) {\n    if (\n      !this.options.snap ||\n      !this.options.grid ||\n      this.options.gridHeight <= 0\n    )\n      return Math.max(Math.round(height), 1);\n\n    return Math.max(\n      Math.round(height / this.options.gridHeight) * this.options.gridHeight,\n      1\n    );\n  }\n\n  _getSizeDeltaX(proportional, initialSize) {\n    if (proportional && Math.abs(this.totalDeltaX) < Math.abs(this.totalDeltaY))\n      return (initialSize.width / initialSize.height) * this.totalDeltaY;\n\n    return this.totalDeltaX;\n  }\n\n  _getSizeDeltaY(proportional, initialSize) {\n    if (proportional && Math.abs(this.totalDeltaY) < Math.abs(this.totalDeltaX))\n      return (initialSize.height / initialSize.width) * this.totalDeltaX;\n\n    return this.totalDeltaY;\n  }\n\n  resizeBy(instances, deltaX, deltaY, proportional) {\n    this.totalDeltaX += deltaX;\n    this.totalDeltaY += deltaY;\n\n    for (let i = 0; i < instances.length; i++) {\n      const selectedInstance = instances[i];\n\n      if (!selectedInstance.hasCustomSize()) {\n        selectedInstance.setCustomWidth(\n          this.instanceMeasurer.getInstanceWidth(selectedInstance)\n        );\n        selectedInstance.setCustomHeight(\n          this.instanceMeasurer.getInstanceHeight(selectedInstance)\n        );\n      }\n\n      let initialSize = this.instanceSizes[selectedInstance.ptr];\n      if (!initialSize) {\n        initialSize = this.instanceSizes[selectedInstance.ptr] = {\n          width: selectedInstance.getCustomWidth(),\n          height: selectedInstance.getCustomHeight(),\n        };\n      }\n\n      selectedInstance.setHasCustomSize(true);\n      selectedInstance.setCustomWidth(\n        this._roundWidth(\n          initialSize.width + this._getSizeDeltaX(proportional, initialSize)\n        )\n      );\n      selectedInstance.setCustomHeight(\n        this._roundHeight(\n          initialSize.height + this._getSizeDeltaY(proportional, initialSize)\n        )\n      );\n    }\n  }\n\n  endResize() {\n    this.instanceSizes = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n}\n","export default class InstancesRotator {\n  constructor() {\n    this.instanceAngles = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n\n  _getNewAngle(proportional: boolean, initialAngle: number) {\n    const angle =\n      (Math.atan2(this.totalDeltaY, this.totalDeltaX) * 180) / Math.PI +\n      initialAngle;\n    return proportional ? Math.round(angle / 15) * 15 : angle;\n  }\n\n  rotateBy(instances, deltaX, deltaY, proportional) {\n    this.totalDeltaX += deltaX;\n    this.totalDeltaY += deltaY;\n\n    for (let i = 0; i < instances.length; i++) {\n      const selectedInstance = instances[i];\n      let initialAngle = this.instanceAngles[selectedInstance.ptr];\n      if (initialAngle === undefined) {\n        initialAngle = this.instanceAngles[\n          selectedInstance.ptr\n        ] = selectedInstance.getAngle();\n      }\n      selectedInstance.setAngle(this._getNewAngle(proportional, initialAngle));\n    }\n  }\n\n  endRotate() {\n    this.instanceAngles = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n}\n","import { roundPosition } from '../Utils/GridHelpers';\n\nexport default class InstancesMover {\n  constructor({ instanceMeasurer, options }) {\n    this.instanceMeasurer = instanceMeasurer;\n    this.options = options;\n    this.instancePositions = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  _roundXPosition(x, noGridSnap) {\n    if (!this.options.snap || !this.options.grid || noGridSnap)\n      return Math.round(x);\n\n    return roundPosition(x, this.options.gridWidth, this.options.gridOffsetX);\n  }\n\n  _roundYPosition(y, noGridSnap) {\n    if (!this.options.snap || !this.options.grid || noGridSnap)\n      return Math.round(y);\n\n    return roundPosition(y, this.options.gridHeight, this.options.gridOffsetY);\n  }\n\n  _getMoveDeltaX(followAxis) {\n    if (followAxis && Math.abs(this.totalDeltaX) < Math.abs(this.totalDeltaY))\n      return 0;\n\n    return this.totalDeltaX;\n  }\n\n  _getMoveDeltaY(followAxis) {\n    if (followAxis && Math.abs(this.totalDeltaY) < Math.abs(this.totalDeltaX))\n      return 0;\n\n    return this.totalDeltaY;\n  }\n\n  moveBy(instances, deltaX, deltaY, followAxis, noGridSnap) {\n    this.totalDeltaX += deltaX;\n    this.totalDeltaY += deltaY;\n\n    for (var i = 0; i < instances.length; i++) {\n      const selectedInstance = instances[i];\n\n      let initialPosition = this.instancePositions[selectedInstance.ptr];\n      if (!initialPosition) {\n        initialPosition = this.instancePositions[selectedInstance.ptr] = {\n          x: selectedInstance.getX(),\n          y: selectedInstance.getY(),\n        };\n      }\n\n      selectedInstance.setX(\n        this._roundXPosition(\n          initialPosition.x + this._getMoveDeltaX(followAxis),\n          noGridSnap\n        )\n      );\n      selectedInstance.setY(\n        this._roundYPosition(\n          initialPosition.y + this._getMoveDeltaY(followAxis),\n          noGridSnap\n        )\n      );\n    }\n  }\n\n  endMove() {\n    this.instancePositions = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n}\n","import PIXI from 'pixi.js';\n\nexport default class SelectionRectangle {\n  constructor({ viewPosition, options }) {\n    this.viewPosition = viewPosition;\n    this.options = options;\n\n    this.pixiGrid = new PIXI.Graphics();\n    this.pixiGrid.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  getPixiObject() {\n    return this.pixiGrid;\n  }\n\n  render() {\n    const options = this.options;\n\n    if (!options.grid) {\n      this.pixiGrid.visible = false;\n      return;\n    }\n\n    this.pixiGrid.visible = true;\n    this.pixiGrid.clear();\n    this.pixiGrid.beginFill(0x6868e8);\n    this.pixiGrid.lineStyle(1, 0x6868e8, 1);\n    this.pixiGrid.fillAlpha = 0.1;\n    this.pixiGrid.alpha = 0.8;\n\n    const sceneStartPoint = this.viewPosition.toSceneCoordinates(0, 0);\n    const sceneEndPoint = this.viewPosition.toSceneCoordinates(\n      this.viewPosition.getWidth(),\n      this.viewPosition.getHeight()\n    );\n\n    const startXPos =\n      Math.floor(sceneStartPoint[0] / options.gridWidth) * options.gridWidth;\n    const startYPos =\n      Math.floor(sceneStartPoint[1] / options.gridHeight) * options.gridHeight;\n\n    const endXPos =\n      Math.ceil(sceneEndPoint[0] / options.gridWidth) * options.gridWidth;\n    const endYPos =\n      Math.ceil(sceneEndPoint[1] / options.gridHeight) * options.gridHeight;\n\n    for (\n      let Xpos = startXPos + options.gridOffsetX;\n      Xpos < endXPos;\n      Xpos += options.gridWidth\n    ) {\n      const start = this.viewPosition.toCanvasCoordinates(Xpos, startYPos);\n      const end = this.viewPosition.toCanvasCoordinates(Xpos, endYPos);\n\n      this.pixiGrid.moveTo(start[0], start[1]);\n      this.pixiGrid.lineTo(end[0], end[1]);\n    }\n\n    for (\n      let Ypos = startYPos + options.gridOffsetY;\n      Ypos < endYPos;\n      Ypos += options.gridHeight\n    ) {\n      const start = this.viewPosition.toCanvasCoordinates(startXPos, Ypos);\n      const end = this.viewPosition.toCanvasCoordinates(endXPos, Ypos);\n\n      this.pixiGrid.moveTo(start[0], start[1]);\n      this.pixiGrid.lineTo(end[0], end[1]);\n    }\n\n    this.pixiGrid.endFill();\n  }\n}\n","import PIXI from 'pixi.js';\nimport transformRect from '../Utils/TransformRect';\nimport { rgbToHexNumber } from '../Utils/ColorTransformer';\n\nexport default class WindowBorder {\n  constructor({ project, layout, toCanvasCoordinates }) {\n    this.project = project;\n    this.layout = layout;\n    this.toCanvasCoordinates = toCanvasCoordinates;\n\n    this.pixiRectangle = new PIXI.Graphics();\n    this.pixiRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n    this.windowRectangle = {\n      x: 0,\n      y: 0,\n      width: this.project.getMainWindowDefaultWidth(),\n      height: this.project.getMainWindowDefaultHeight(),\n    };\n  }\n\n  getPixiObject() {\n    return this.pixiRectangle;\n  }\n\n  render() {\n    const displayedRectangle = transformRect(\n      this.toCanvasCoordinates,\n      this.windowRectangle\n    );\n\n    this.pixiRectangle.clear();\n    this.pixiRectangle.beginFill(0x000000);\n    this.pixiRectangle.lineStyle(\n      1,\n      rgbToHexNumber(\n        128 + (this.layout.getBackgroundColorRed() % 256),\n        128 + (this.layout.getBackgroundColorBlue() % 256),\n        128 + (this.layout.getBackgroundColorGreen() % 256)\n      ),\n      1\n    );\n    this.pixiRectangle.alpha = 1;\n    this.pixiRectangle.fillAlpha = 0;\n    this.pixiRectangle.drawRect(\n      displayedRectangle.x,\n      displayedRectangle.y,\n      displayedRectangle.width,\n      displayedRectangle.height\n    );\n    this.pixiRectangle.endFill();\n  }\n}\n","import PIXI from 'pixi.js';\nimport transformRect from '../Utils/TransformRect';\n\nexport default class WindowBorder {\n  constructor({ project, viewPosition, options }) {\n    this.project = project;\n    this.viewPosition = viewPosition;\n    this.options = options;\n\n    this.pixiRectangle = new PIXI.Graphics();\n    this.pixiRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n    this.windowRectangle = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n    };\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  getPixiObject() {\n    return this.pixiRectangle;\n  }\n\n  render() {\n    const options = this.options;\n\n    if (!options.windowMask) {\n      this.pixiRectangle.visible = false;\n      return;\n    }\n\n    const width = this.project.getMainWindowDefaultWidth();\n    const height = this.project.getMainWindowDefaultHeight();\n    this.windowRectangle.x = this.viewPosition.getViewX() - width / 2;\n    this.windowRectangle.y = this.viewPosition.getViewY() - height / 2;\n    this.windowRectangle.width = width;\n    this.windowRectangle.height = height;\n\n    const displayedRectangle = transformRect(\n      this.viewPosition.toCanvasCoordinates,\n      this.windowRectangle\n    );\n\n    this.pixiRectangle.visible = true;\n    this.pixiRectangle.clear();\n    this.pixiRectangle.beginFill(0x000000);\n    this.pixiRectangle.lineStyle(1, 0x000000, 1);\n    this.pixiRectangle.alpha = 1;\n    this.pixiRectangle.fillAlpha = 0;\n    this.pixiRectangle.drawRect(\n      displayedRectangle.x,\n      displayedRectangle.y,\n      displayedRectangle.width,\n      displayedRectangle.height\n    );\n    this.pixiRectangle.endFill();\n  }\n}\n","export default class DropHandler {\n  constructor({ canvas, onDrop }) {\n    canvas.ondragover = canvas.ondrop = ev => {\n      ev.dataTransfer.dropEffect = 'copy';\n      ev.preventDefault();\n    };\n\n    canvas.ondrop = ev => {\n      const canvasRect = canvas.getBoundingClientRect();\n      const name = ev.dataTransfer.getData('text');\n      if (name)\n        onDrop(ev.clientX - canvasRect.left, ev.clientY - canvasRect.top, name);\n\n      ev.preventDefault();\n    };\n  }\n}\n","import { rgbToHex } from '../Utils/ColorTransformer';\n\nexport default class BackgroundColor {\n  constructor({ layout, pixiRenderer }) {\n    this.layout = layout;\n    this.pixiRenderer = pixiRenderer;\n  }\n\n  render() {\n    this.pixiRenderer.backgroundColor = parseInt(\n      parseInt(\n        rgbToHex(\n          this.layout.getBackgroundColorRed(),\n          this.layout.getBackgroundColorGreen(),\n          this.layout.getBackgroundColorBlue()\n        ),\n        16\n      ),\n      10\n    );\n  }\n}\n","// @flow\n\n/**\n * Provide a method shouldUpdate that can be called in a game loop or in\n * a method used in renderAnimationFrame, and which indicate if the rendering/update\n * of the scene should be done according to the desired framerate.\n */\nexport default class FpsLimiter {\n  _lastFrameTime: number;\n  _interval: number;\n  _forceUpdate: boolean;\n\n  constructor(maxFps: number) {\n    this._lastFrameTime = Date.now();\n    this._interval = 1000 / maxFps;\n    this._forceUpdate = false;\n  }\n\n  shouldUpdate() {\n    const now = Date.now();\n    const delta = now - this._lastFrameTime;\n\n    if (delta > this._interval || this._forceUpdate) {\n      this._lastFrameTime = now - (delta % this._interval);\n      this._forceUpdate = false;\n      return true;\n    }\n\n    return false;\n  }\n\n  forceNextUpdate() {\n    this._forceUpdate = true;\n  }\n}\n","import PIXI from 'pixi.js';\n\n// PIXI has a ticker that is used by PIXI InteractionManager, and which\n// frequently check if interaction happened. We may want to disable it\n// when it's useless to do these interaction checks to save CPU usage.\n\n/**\n *  Stop the PIXI Ticker used to monitor interactions\n */\nexport const stopPIXITicker = () => {\n  const ticker = PIXI.ticker && PIXI.ticker.shared;\n  if (ticker) ticker.stop();\n};\n\n/**\n * Start the PIXI Ticker used to monitor interactions\n */\nexport const startPIXITicker = () => {\n  // Timeout ensure that the ticker is started even if other components\n  // call stopPIXITicker during the same tick (for example, when switching\n  // between SceneEditor tabs).\n  setTimeout(() => {\n    const ticker = PIXI.ticker && PIXI.ticker.shared;\n    if (ticker) ticker.start();\n  }, 50);\n};\n","import React, { Component } from 'react';\nimport gesture from 'pixi-simple-gesture';\nimport KeyboardShortcuts from '../UI/KeyboardShortcuts';\nimport SimpleDropTarget from '../Utils/DragDropHelpers/SimpleDropTarget';\nimport InstancesRenderer from './InstancesRenderer';\nimport ViewPosition from './ViewPosition';\nimport SelectedInstances from './SelectedInstances';\nimport HighlightedInstance from './HighlightedInstance';\nimport SelectionRectangle from './SelectionRectangle';\nimport InstancesResizer from './InstancesResizer';\nimport InstancesRotator from './InstancesRotator';\nimport InstancesMover from './InstancesMover';\nimport Grid from './Grid';\nimport WindowBorder from './WindowBorder';\nimport WindowMask from './WindowMask';\nimport DropHandler from './DropHandler';\nimport BackgroundColor from './BackgroundColor';\nimport PIXI from 'pixi.js';\nimport FpsLimiter from './FpsLimiter';\nimport { startPIXITicker, stopPIXITicker } from '../Utils/PIXITicker';\n\nconst styles = {\n  canvasArea: { flex: 1, position: 'absolute', overflow: 'hidden' },\n  dropCursor: { cursor: 'copy' },\n};\n\nexport default class InstancesEditorContainer extends Component {\n  constructor() {\n    super();\n\n    this.lastContextMenuX = 0;\n    this.lastContextMenuY = 0;\n    this.lastCursorX = 0;\n    this.lastCursorY = 0;\n\n    this.fpsLimiter = new FpsLimiter(28);\n  }\n\n  componentDidMount() {\n    this.pixiRenderer = PIXI.autoDetectRenderer(\n      this.props.width,\n      this.props.height\n    );\n    this.canvasArea.appendChild(this.pixiRenderer.view);\n    this.pixiRenderer.view.addEventListener('contextmenu', e => {\n      e.preventDefault();\n\n      this.lastContextMenuX = e.offsetX;\n      this.lastContextMenuY = e.offsetY;\n      if (this.props.onContextMenu)\n        this.props.onContextMenu(e.clientX, e.clientY);\n\n      return false;\n    });\n    this.pixiRenderer.view.addEventListener('pointerup', event => {\n      this.props.onPointerUp();\n    });\n    this.pixiRenderer.view.addEventListener('pointerover', event => {\n      this.props.onPointerOver();\n    });\n    this.pixiRenderer.view.addEventListener('pointerout', event => {\n      this.props.onPointerOut();\n    });\n    this.pixiRenderer.view.onmousewheel = event => {\n      if (this.keyboardShortcuts.shouldZoom()) {\n        this.zoomBy(event.wheelDelta / 5000);\n      } else if (this.keyboardShortcuts.shouldScrollHorizontally()) {\n        this.viewPosition.scrollBy(-event.wheelDelta / 10, 0);\n      } else {\n        this.viewPosition.scrollBy(event.deltaX / 10, event.deltaY / 10);\n      }\n\n      if (this.props.onViewPositionChanged) {\n        this.props.onViewPositionChanged(this.viewPosition);\n      }\n      event.preventDefault();\n    };\n    this.pixiRenderer.view.setAttribute('tabIndex', -1);\n    this.pixiRenderer.view.addEventListener('focus', e => {\n      this.keyboardShortcuts.focus();\n    });\n    this.pixiRenderer.view.addEventListener('blur', e => {\n      this.keyboardShortcuts.blur();\n    });\n    this.pixiRenderer.view.addEventListener('mouseover', e => {\n      this.keyboardShortcuts.focus();\n    });\n    this.pixiRenderer.view.addEventListener('mouseout', e => {\n      this.keyboardShortcuts.blur();\n    });\n\n    this.pixiContainer = new PIXI.Container();\n\n    this.backgroundArea = new PIXI.Container();\n    this.backgroundArea.hitArea = new PIXI.Rectangle(\n      0,\n      0,\n      this.props.width,\n      this.props.height\n    );\n    gesture.panable(this.backgroundArea);\n    this.backgroundArea.on('mousedown', event =>\n      this._onBackgroundClicked(event.data.global.x, event.data.global.y)\n    );\n    this.backgroundArea.on('touchstart', event =>\n      this._onBackgroundClicked(event.data.global.x, event.data.global.y)\n    );\n    this.backgroundArea.on('mousemove', event =>\n      this._onMouseMove(event.data.global.x, event.data.global.y)\n    );\n    this.backgroundArea.on('panmove', event =>\n      this._onPanMove(\n        event.deltaX,\n        event.deltaY,\n        event.data.global.x,\n        event.data.global.y\n      )\n    );\n    this.backgroundArea.on('panend', event => this._onEndSelectionRectangle());\n    this.pixiContainer.addChild(this.backgroundArea);\n\n    this.viewPosition = new ViewPosition({\n      width: this.props.width,\n      height: this.props.height,\n      options: this.props.options,\n    });\n    this.pixiContainer.addChild(this.viewPosition.getPixiContainer());\n\n    this.grid = new Grid({\n      viewPosition: this.viewPosition,\n      options: this.props.options,\n    });\n    this.pixiContainer.addChild(this.grid.getPixiObject());\n\n    this.keyboardShortcuts = new KeyboardShortcuts({\n      onDelete: this.props.onDeleteSelection,\n      onMove: this.moveSelection,\n      onCopy: this.props.onCopy,\n      onCut: this.props.onCut,\n      onPaste: this.props.onPaste,\n      onUndo: this.props.onUndo,\n      onRedo: this.props.onRedo,\n      onZoomOut: this.props.onZoomOut,\n      onZoomIn: this.props.onZoomIn,\n    });\n\n    this.dropHandler = new DropHandler({\n      canvas: this.canvasArea,\n      onDrop: this._onDrop,\n    });\n\n    this._mountEditorComponents(this.props);\n    this._renderScene();\n  }\n\n  /**\n   * Force the internal InstancesRenderer to be destroyed and recreated\n   * (as well as other components holding references to instances). Call\n   * this when the initial instances were recreated to ensure that there\n   * is not mismatch between renderers and the instances that were updated.\n   */\n  forceRemount() {\n    this._mountEditorComponents(this.props);\n  }\n\n  _mountEditorComponents(props) {\n    //Remove and delete any existing editor component\n    if (this.highlightedInstance) {\n      this.pixiContainer.removeChild(this.highlightedInstance.getPixiObject());\n    }\n    if (this.selectedInstances) {\n      this.pixiContainer.removeChild(this.selectedInstances.getPixiContainer());\n    }\n    if (this.instancesRenderer) {\n      this.viewPosition\n        .getPixiContainer()\n        .removeChild(this.instancesRenderer.getPixiContainer());\n      this.instancesRenderer.delete();\n    }\n    if (this.selectionRectangle) {\n      this.pixiContainer.removeChild(this.selectionRectangle.getPixiObject());\n      this.selectionRectangle.delete();\n    }\n    if (this.windowBorder) {\n      this.pixiContainer.removeChild(this.windowBorder.getPixiObject());\n    }\n    if (this.windowMask) {\n      this.pixiContainer.removeChild(this.windowMask.getPixiObject());\n    }\n\n    this.backgroundColor = new BackgroundColor({\n      layout: props.layout,\n      pixiRenderer: this.pixiRenderer,\n    });\n    this.instancesRenderer = new InstancesRenderer({\n      project: props.project,\n      layout: props.layout,\n      instances: props.initialInstances,\n      viewPosition: this.viewPosition,\n      onOverInstance: this._onOverInstance,\n      onMoveInstance: this._onMoveInstance,\n      onMoveInstanceEnd: this._onMoveInstanceEnd,\n      onDownInstance: this._onDownInstance,\n      onOutInstance: this._onOutInstance,\n      onInstanceClicked: this._onInstanceClicked,\n    });\n    this.selectionRectangle = new SelectionRectangle({\n      instances: props.initialInstances,\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      toSceneCoordinates: this.viewPosition.toSceneCoordinates,\n    });\n    this.selectedInstances = new SelectedInstances({\n      instancesSelection: this.props.instancesSelection,\n      onResize: this._onResize,\n      onResizeEnd: this._onResizeEnd,\n      onRotate: this._onRotate,\n      onRotateEnd: this._onRotateEnd,\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      toCanvasCoordinates: this.viewPosition.toCanvasCoordinates,\n    });\n    this.highlightedInstance = new HighlightedInstance({\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      toCanvasCoordinates: this.viewPosition.toCanvasCoordinates,\n    });\n    this.instancesResizer = new InstancesResizer({\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      options: this.props.options,\n    });\n    this.instancesRotator = new InstancesRotator();\n    this.instancesMover = new InstancesMover({\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      options: this.props.options,\n    });\n    this.windowBorder = new WindowBorder({\n      project: props.project,\n      layout: props.layout,\n      toCanvasCoordinates: this.viewPosition.toCanvasCoordinates,\n    });\n    this.windowMask = new WindowMask({\n      project: props.project,\n      viewPosition: this.viewPosition,\n      options: this.props.options,\n    });\n\n    this.pixiContainer.addChild(this.selectionRectangle.getPixiObject());\n    this.viewPosition\n      .getPixiContainer()\n      .addChild(this.instancesRenderer.getPixiContainer());\n    this.pixiContainer.addChild(this.windowBorder.getPixiObject());\n    this.pixiContainer.addChild(this.windowMask.getPixiObject());\n    this.pixiContainer.addChild(this.selectedInstances.getPixiContainer());\n    this.pixiContainer.addChild(this.highlightedInstance.getPixiObject());\n  }\n\n  componentWillUnmount() {\n    // This is an antipattern and is theorically not needed, but help\n    // to protect against renders after the component is unmounted.\n    this._unmounted = true;\n\n    this.keyboardShortcuts.unmount();\n    this.selectionRectangle.delete();\n    this.instancesRenderer.delete();\n    if (this.nextFrame) cancelAnimationFrame(this.nextFrame);\n    stopPIXITicker();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (\n      nextProps.width !== this.props.width ||\n      nextProps.height !== this.props.height\n    ) {\n      this.pixiRenderer.resize(nextProps.width, nextProps.height);\n      this.viewPosition.resize(nextProps.width, nextProps.height);\n      this.backgroundArea.hitArea = new PIXI.Rectangle(\n        0,\n        0,\n        nextProps.width,\n        nextProps.height\n      );\n\n      // Avoid flickering that could happen while waiting for next animation frame.\n      this.fpsLimiter.forceNextUpdate();\n      this._renderScene();\n    }\n\n    if (nextProps.options !== this.props.options) {\n      this.grid.setOptions(nextProps.options);\n      this.instancesMover.setOptions(nextProps.options);\n      this.instancesResizer.setOptions(nextProps.options);\n      this.windowMask.setOptions(nextProps.options);\n      this.viewPosition.setOptions(nextProps.options);\n    }\n\n    if (\n      this.props.layout !== nextProps.layout ||\n      this.props.initialInstances !== nextProps.initialInstances ||\n      this.props.project !== nextProps.project\n    ) {\n      this._mountEditorComponents(nextProps);\n    }\n\n    // For avoiding useless renderings, which is costly for CPU/GPU, when the editor\n    // is not displayed, `pauseRendering` prop can be set to true.\n    if (nextProps.pauseRendering && !this.props.pauseRendering)\n      this.pauseSceneRendering();\n\n    if (!nextProps.pauseRendering && this.props.pauseRendering)\n      this.restartSceneRendering();\n  }\n\n  /**\n   * Delete instance renderers of the specified objects, which will then be recreated during\n   * the next render. Call this when an object resources may have changed (for example, a modified image),\n   * and you want the instances of objects to reflect the changes.\n   * See also ResourcesLoader and PixiResourcesLoader.\n   * @param {string} objectName The name of the object for which instance must be re-rendered.\n   */\n  resetRenderersFor(objectName) {\n    if (this.instancesRenderer)\n      this.instancesRenderer.resetRenderersFor(objectName);\n  }\n\n  zoomBy(value) {\n    this.setZoomFactor(this.getZoomFactor() + value);\n  }\n\n  getZoomFactor() {\n    return this.props.options.zoomFactor;\n  }\n\n  setZoomFactor(zoomFactor) {\n    this.props.onChangeOptions({\n      zoomFactor: Math.max(Math.min(zoomFactor, 10), 0.01),\n    });\n  }\n\n  _onMouseMove = (x, y) => {\n    this.lastCursorX = x;\n    this.lastCursorY = y;\n  };\n\n  _onBackgroundClicked = (x, y) => {\n    this.lastCursorX = x;\n    this.lastCursorY = y;\n    this.pixiRenderer.view.focus();\n\n    if (!this.keyboardShortcuts.shouldMultiSelect()) {\n      this.props.instancesSelection.clearSelection();\n      this.props.onInstancesSelected([]);\n    }\n  };\n\n  _onPanMove = (deltaX, deltaY, x, y) => {\n    if (this.keyboardShortcuts.shouldMoveView()) {\n      const sceneDeltaX = deltaX / this.getZoomFactor();\n      const sceneDeltaY = deltaY / this.getZoomFactor();\n\n      this.viewPosition.scrollBy(-sceneDeltaX, -sceneDeltaY);\n\n      if (this.props.onViewPositionChanged) {\n        this.props.onViewPositionChanged(this.viewPosition);\n      }\n    } else {\n      this.selectionRectangle.makeSelectionRectangle(x, y);\n    }\n  };\n\n  _getLayersVisibility = () => {\n    const { layout } = this.props;\n    const layersVisibility = {};\n    for (let i = 0; i < layout.getLayersCount(); i++) {\n      layersVisibility[layout.getLayerAt(i).getName()] = layout\n        .getLayerAt(i)\n        .getVisibility();\n    }\n    return layersVisibility;\n  };\n\n  _onEndSelectionRectangle = () => {\n    let instancesSelected = this.selectionRectangle.endSelectionRectangle();\n\n    this.props.instancesSelection.selectInstances(\n      instancesSelected,\n      this.keyboardShortcuts.shouldMultiSelect(),\n      this._getLayersVisibility()\n    );\n    instancesSelected = this.props.instancesSelection.getSelectedInstances();\n    this.props.onInstancesSelected(instancesSelected);\n  };\n\n  _onInstanceClicked = instance => {\n    this.pixiRenderer.view.focus();\n  };\n\n  _onOverInstance = instance => {\n    this.highlightedInstance.setInstance(instance);\n  };\n\n  _onDownInstance = instance => {\n    if (this.keyboardShortcuts.shouldCloneInstances()) {\n      const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n      for (var i = 0; i < selectedInstances.length; i++) {\n        const instance = selectedInstances[i];\n        this.props.initialInstances.insertInitialInstance(instance);\n      }\n    } else {\n      this.props.instancesSelection.selectInstance(\n        instance,\n        this.keyboardShortcuts.shouldMultiSelect(),\n        this._getLayersVisibility()\n      );\n\n      if (this.props.onInstancesSelected) {\n        this.props.onInstancesSelected(\n          this.props.instancesSelection.getSelectedInstances()\n        );\n      }\n    }\n  };\n\n  _onOutInstance = instance => {\n    if (instance === this.highlightedInstance.getInstance())\n      this.highlightedInstance.setInstance(null);\n  };\n\n  _onMoveInstance = (instance, deltaX, deltaY) => {\n    const sceneDeltaX = deltaX / this.getZoomFactor();\n    const sceneDeltaY = deltaY / this.getZoomFactor();\n\n    if (this.keyboardShortcuts.shouldMoveView()) {\n      this.viewPosition.scrollBy(-sceneDeltaX, -sceneDeltaY);\n\n      if (this.props.onViewPositionChanged) {\n        this.props.onViewPositionChanged(this.viewPosition);\n      }\n      return;\n    }\n\n    if (!this.props.instancesSelection.isInstanceSelected(instance)) {\n      this._onInstanceClicked(instance);\n    }\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.instancesMover.moveBy(\n      selectedInstances,\n      sceneDeltaX,\n      sceneDeltaY,\n      this.keyboardShortcuts.shouldFollowAxis(),\n      this.keyboardShortcuts.shouldNotSnapToGrid()\n    );\n  };\n\n  _onMoveInstanceEnd = () => {\n    this.instancesMover.endMove();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.props.onInstancesMoved(selectedInstances);\n  };\n\n  _onResize = (deltaX, deltaY) => {\n    const sceneDeltaX = deltaX / this.getZoomFactor();\n    const sceneDeltaY = deltaY / this.getZoomFactor();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.instancesResizer.resizeBy(\n      selectedInstances,\n      sceneDeltaX,\n      sceneDeltaY,\n      this.keyboardShortcuts.shouldResizeProportionally()\n    );\n  };\n\n  _onResizeEnd = () => {\n    this.instancesResizer.endResize();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.props.onInstancesResized(selectedInstances);\n  };\n\n  _onRotate = (deltaX, deltaY) => {\n    const sceneDeltaX = deltaX / this.getZoomFactor();\n    const sceneDeltaY = deltaY / this.getZoomFactor();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.instancesRotator.rotateBy(\n      selectedInstances,\n      sceneDeltaX,\n      sceneDeltaY,\n      this.keyboardShortcuts.shouldResizeProportionally()\n    );\n  };\n\n  _onRotateEnd = () => {\n    this.instancesRotator.endRotate();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.props.onInstancesRotated(selectedInstances);\n  };\n\n  _onDrop = (x, y, objectName) => {\n    const newPos = this.viewPosition.toSceneCoordinates(x, y);\n    if (this.props.onAddInstance) {\n      this.props.onAddInstance(newPos[0], newPos[1], objectName);\n    }\n  };\n\n  clearHighlightedInstance = () => {\n    this.highlightedInstance.setInstance(null);\n  };\n\n  moveSelection = (x, y) => {\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    selectedInstances.forEach(instance => {\n      instance.setX(instance.getX() + x);\n      instance.setY(instance.getY() + y);\n    });\n    this.props.onInstancesMoved(selectedInstances);\n  };\n\n  scrollTo(x, y) {\n    this.viewPosition.scrollTo(x, y);\n  }\n\n  centerViewOn(instances) {\n    if (!instances.length) return;\n\n    this.viewPosition.scrollToInstance(instances[instances.length - 1]);\n    if (this.props.onViewPositionChanged) {\n      this.props.onViewPositionChanged(this.viewPosition);\n    }\n  }\n\n  getLastContextMenuPosition = () => {\n    return this.viewPosition.toSceneCoordinates(\n      this.lastContextMenuX,\n      this.lastContextMenuY\n    );\n  };\n\n  getLastCursorPosition = () => {\n    return this.viewPosition.toSceneCoordinates(\n      this.lastCursorX,\n      this.lastCursorY\n    );\n  };\n\n  getViewPosition = () => {\n    return this.viewPosition;\n  };\n\n  _renderScene = () => {\n    // Protect against rendering scheduled after the component is unmounted.\n    if (this._unmounted) return;\n    if (this._renderingPaused) return;\n\n    // Avoid killing the CPU by limiting the rendering calls.\n    if (this.fpsLimiter.shouldUpdate()) {\n      this.backgroundColor.render();\n      this.viewPosition.render();\n      this.grid.render();\n      this.instancesRenderer.render();\n      this.highlightedInstance.render();\n      this.selectedInstances.render();\n      this.selectionRectangle.render();\n      this.windowBorder.render();\n      this.windowMask.render();\n      this.pixiRenderer.render(this.pixiContainer);\n    }\n    this.nextFrame = requestAnimationFrame(this._renderScene);\n  };\n\n  pauseSceneRendering = () => {\n    if (this.nextFrame) cancelAnimationFrame(this.nextFrame);\n    this._renderingPaused = true;\n\n    stopPIXITicker();\n  };\n\n  restartSceneRendering = () => {\n    this._renderingPaused = false;\n    this._renderScene();\n\n    startPIXITicker();\n  };\n\n  render() {\n    if (!this.props.project) return null;\n\n    return (\n      <SimpleDropTarget>\n        <div\n          ref={canvasArea => (this.canvasArea = canvasArea)}\n          style={{\n            ...styles.canvasArea,\n            ...(this.props.showDropCursor ? styles.dropCursor : undefined),\n          }}\n        />\n      </SimpleDropTarget>\n    );\n  }\n}\n","// @flow\nimport React from 'react';\nimport HelpOutline from 'material-ui/svg-icons/action/help-outline';\nimport IconButton from 'material-ui/IconButton';\nimport { getHelpLink } from '../../Utils/HelpLink';\nimport Window from '../../Utils/Window';\n\ntype PropsType = {\n  helpPagePath: ?string,\n};\n\n/**\n * The icon that can be used in any dialog to open a help page\n */\nexport default (props: PropsType) => {\n  const { helpPagePath } = props;\n  if (!helpPagePath) return null;\n\n  return (\n    <IconButton\n      onClick={() => Window.openExternalURL(getHelpLink(helpPagePath))}\n    >\n      <HelpOutline />\n    </IconButton>\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport Subheader from 'material-ui/Subheader';\nimport Avatar from 'material-ui/Avatar';\nimport { List, ListItem } from 'material-ui/List';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\nimport { mapFor } from '../Utils/MapFor';\nimport flatten from 'lodash/flatten';\nimport { Line } from '../UI/Grid';\nimport { showMessageBox } from '../UI/Messages/MessageBox';\nimport { getDeprecatedBehaviorsInformation } from '../Hints';\n\nconst styles = {\n  icon: { borderRadius: 0 },\n};\n\ntype EnumeratedBehaviorMetadata = {|\n  extension: gdPlatformExtension,\n  behaviorMetadata: gdBehaviorMetadata,\n  type: string,\n  defaultName: string,\n  fullName: string,\n  description: string,\n  iconFilename: string,\n|};\n\nconst BehaviorListItem = ({\n  behaviorMetadata,\n  onClick,\n}: {|\n  behaviorMetadata: EnumeratedBehaviorMetadata,\n  onClick: () => void,\n|}) => (\n  <ListItem\n    leftAvatar={\n      <Avatar src={behaviorMetadata.iconFilename} style={styles.icon} />\n    }\n    key={behaviorMetadata.type}\n    primaryText={behaviorMetadata.fullName}\n    secondaryText={<p>{behaviorMetadata.description}</p>}\n    secondaryTextLines={2}\n    onClick={onClick}\n  />\n);\n\ntype Props = {|\n  project: gdProject,\n  open: boolean,\n  onClose: () => void,\n  onChoose: (type: string, defaultName: string) => void,\n|};\ntype State = {|\n  behaviorMetadata: Array<EnumeratedBehaviorMetadata>,\n  showDeprecated: boolean,\n|};\n\nexport default class NewBehaviorDialog extends Component<Props, State> {\n  state = { ...this._loadFrom(this.props.project), showDeprecated: false };\n\n  _loadFrom(\n    project: gdProject\n  ): {| behaviorMetadata: Array<EnumeratedBehaviorMetadata> |} {\n    if (!project || !project.getCurrentPlatform()) {\n      return { behaviorMetadata: [] };\n    }\n\n    const platform = project.getCurrentPlatform();\n    const extensionsList = platform.getAllPlatformExtensions();\n\n    return {\n      behaviorMetadata: flatten(\n        mapFor(0, extensionsList.size(), i => {\n          const extension = extensionsList.at(i);\n\n          return extension\n            .getBehaviorsTypes()\n            .toJSArray()\n            .map(behaviorType => ({\n              behaviorType,\n              behaviorMetadata: extension.getBehaviorMetadata(behaviorType),\n            }))\n            .map(({ behaviorType, behaviorMetadata }) => ({\n              extension,\n              behaviorMetadata,\n              type: behaviorType,\n              defaultName: behaviorMetadata.getDefaultName(),\n              fullName: behaviorMetadata.getFullName(),\n              description: behaviorMetadata.getDescription(),\n              iconFilename: behaviorMetadata.getIconFilename(),\n            }));\n        })\n      ),\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.project !== newProps.project)\n    ) {\n      this.setState(this._loadFrom(newProps.project));\n    }\n  }\n\n  _showDeprecated = (showDeprecated: boolean = true) => {\n    this.setState({\n      showDeprecated,\n    });\n  };\n\n  render() {\n    const { project, open, onClose } = this.props;\n    const { showDeprecated, behaviorMetadata } = this.state;\n    if (!open || !project) return null;\n\n    const actions = [\n      <FlatButton\n        key=\"close\"\n        label={<Trans>Close</Trans>}\n        primary={false}\n        onClick={onClose}\n      />,\n    ];\n\n    const deprecatedBehaviorsInformation = getDeprecatedBehaviorsInformation();\n\n    const behaviors = behaviorMetadata.filter(\n      ({ type }) => !deprecatedBehaviorsInformation[type]\n    );\n    const deprecatedBehaviors = behaviorMetadata.filter(\n      ({ type }) => !!deprecatedBehaviorsInformation[type]\n    );\n\n    const chooseBehavior = (\n      i18n: I18nType,\n      { type, defaultName }: EnumeratedBehaviorMetadata\n    ) => {\n      if (deprecatedBehaviorsInformation[type]) {\n        showMessageBox(i18n._(deprecatedBehaviorsInformation[type].warning));\n      }\n\n      return this.props.onChoose(type, defaultName);\n    };\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Dialog\n            title={<Trans>Add a new behavior to the object</Trans>}\n            actions={actions}\n            secondaryActions={<HelpButton helpPagePath=\"/behaviors\" />}\n            open={open}\n            noMargin\n            autoScrollBodyContent\n          >\n            <List>\n              {behaviors.map((behaviorMetadata, index) => (\n                <BehaviorListItem\n                  key={index}\n                  behaviorMetadata={behaviorMetadata}\n                  onClick={() => chooseBehavior(i18n, behaviorMetadata)}\n                />\n              ))}\n              {showDeprecated && (\n                <Subheader>\n                  Deprecated (old, prefer not to use anymore)\n                </Subheader>\n              )}\n              {showDeprecated &&\n                deprecatedBehaviors.map((behaviorMetadata, index) => (\n                  <BehaviorListItem\n                    key={index}\n                    behaviorMetadata={behaviorMetadata}\n                    onClick={() => chooseBehavior(i18n, behaviorMetadata)}\n                  />\n                ))}\n            </List>\n            <Line justifyContent=\"center\" alignItems=\"center\">\n              {!showDeprecated ? (\n                <FlatButton\n                  key=\"toggle-experimental\"\n                  icon={<Visibility />}\n                  primary={false}\n                  onClick={() => this._showDeprecated(true)}\n                  label={<Trans>Show deprecated (old) behaviors</Trans>}\n                />\n              ) : (\n                <FlatButton\n                  key=\"toggle-experimental\"\n                  icon={<VisibilityOff />}\n                  primary={false}\n                  onClick={() => this._showDeprecated(false)}\n                  label={<Trans>Show deprecated (old) behaviors</Trans>}\n                />\n              )}\n            </Line>\n          </Dialog>\n        )}\n      </I18n>\n    );\n  }\n}\n","/**\n * Return the help page for the given behavior\n * @param {*} behavior\n */\nexport const getBehaviorHelpPagePath = behavior => {\n  if (!behavior) return null;\n\n  switch (behavior.getTypeName()) {\n    case 'DraggableBehavior::Draggable':\n      return '/behaviors/draggable';\n    case 'PlatformBehavior::PlatformerObjectBehavior':\n      return '/behaviors/platformer';\n    case 'PlatformBehavior::PlatformBehavior':\n      return '/behaviors/platformer';\n    default:\n      return '';\n  }\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport PropertiesEditor from '../../PropertiesEditor';\nimport propertiesMapToSchema from '../../PropertiesEditor/PropertiesMapToSchema';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { Column } from '../../UI/Grid';\nimport { type BehaviorEditorProps } from './BehaviorEditorProps.flow';\n\ntype Props = BehaviorEditorProps;\n\nexport default class BehaviorPropertiesEditor extends React.Component<Props> {\n  render() {\n    const { behavior, project } = this.props;\n    const properties = behavior.getProperties(project);\n\n    const propertiesSchema = propertiesMapToSchema(\n      properties,\n      behavior => behavior.getProperties(project),\n      (behavior, name, value) => behavior.updateProperty(name, value, project)\n    );\n\n    return (\n      <Column>\n        {propertiesSchema.length ? (\n          <PropertiesEditor schema={propertiesSchema} instances={[behavior]} />\n        ) : (\n          <EmptyMessage>\n            <Trans>\n              There is nothing to configure for this behavior. You can still use\n              events to interact with the object and this behavior.\n            </Trans>\n          </EmptyMessage>\n        )}\n      </Column>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { type Vertex } from './PolygonEditor';\n\ntype Props = {|\n  shape: string,\n  dimensionA: number,\n  dimensionB: number,\n  offsetX: number,\n  offsetY: number,\n  polygonOrigin: string,\n  vertices: Array<Vertex>,\n  width: number,\n  height: number,\n  onMoveVertex: (index: number, newX: number, newY: number) => void,\n|};\n\ntype State = {|\n  draggedVertex: ?Vertex,\n  draggedIndex: number,\n|};\n\nexport default class ShapePreview extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { draggedVertex: null, draggedIndex: -1 };\n  }\n\n  _svg: any;\n\n  _onVertexDown = (vertex: Vertex, index: number) => {\n    if (this.state.draggedVertex) return;\n    this.setState({ draggedVertex: vertex, draggedIndex: index });\n  };\n\n  _onMouseUp = () => {\n    const draggingWasDone = !!this.state.draggedVertex;\n    const { draggedVertex, draggedIndex } = this.state;\n    this.setState(\n      {\n        draggedVertex: null,\n      },\n      () => {\n        if (draggingWasDone)\n          this.props.onMoveVertex(\n            draggedIndex,\n            Math.round(draggedVertex ? draggedVertex.x : 0),\n            Math.round(draggedVertex ? draggedVertex.y : 0)\n          );\n      }\n    );\n  };\n\n  _onMouseMove = (event: any) => {\n    const { offsetX, offsetY, polygonOrigin, width, height } = this.props;\n    const { draggedVertex } = this.state;\n    if (!draggedVertex) return;\n\n    const pointOnScreen = this._svg.createSVGPoint();\n    pointOnScreen.x = event.clientX;\n    pointOnScreen.y = event.clientY;\n    const screenToSvgMatrix = this._svg.getScreenCTM().inverse();\n    const pointOnSvg = pointOnScreen.matrixTransform(screenToSvgMatrix);\n\n    draggedVertex.x =\n      pointOnSvg.x - offsetX - (polygonOrigin === 'Center' ? width / 2 : 0);\n    draggedVertex.y =\n      pointOnSvg.y - offsetY - (polygonOrigin === 'Center' ? height / 2 : 0);\n\n    this.forceUpdate();\n  };\n\n  renderBox() {\n    const {\n      dimensionA,\n      dimensionB,\n      width,\n      height,\n      offsetX,\n      offsetY,\n    } = this.props;\n    const fixedWidth = dimensionA > 0 ? dimensionA : width > 0 ? width : 1;\n    const fixedHeight = dimensionB > 0 ? dimensionB : height > 0 ? height : 1;\n\n    return (\n      <rect\n        key={'boxShape'}\n        fill=\"rgba(255,0,0,0.75)\"\n        strokeWidth={1}\n        x={offsetX + width / 2 - fixedWidth / 2}\n        y={offsetY + height / 2 - fixedHeight / 2}\n        width={fixedWidth}\n        height={fixedHeight}\n      />\n    );\n  }\n\n  renderCircle() {\n    const { dimensionA, width, height, offsetX, offsetY } = this.props;\n\n    return (\n      <circle\n        key={'circleShape'}\n        fill=\"rgba(255,0,0,0.75)\"\n        strokeWidth={1}\n        cx={offsetX + width / 2}\n        cy={offsetY + height / 2}\n        r={\n          dimensionA > 0\n            ? dimensionA\n            : width + height > 0\n            ? (width + height) / 4\n            : 1\n        }\n      />\n    );\n  }\n\n  renderEdge() {\n    const {\n      dimensionA,\n      dimensionB,\n      width,\n      height,\n      offsetX,\n      offsetY,\n    } = this.props;\n    const halfLength =\n      (dimensionA > 0 ? dimensionA : width > 0 ? width : 1) / 2;\n    const cos = Math.cos((dimensionB * Math.PI) / 180);\n    const sin = Math.sin((dimensionB * Math.PI) / 180);\n\n    return (\n      <line\n        key={'edgeShape'}\n        stroke=\"rgba(255,0,0,0.75)\"\n        strokeWidth={2}\n        x1={offsetX + width / 2 - halfLength * cos}\n        y1={offsetY + height / 2 - halfLength * sin}\n        x2={offsetX + width / 2 + halfLength * cos}\n        y2={offsetY + height / 2 + halfLength * sin}\n      />\n    );\n  }\n\n  renderPolygon() {\n    const {\n      vertices,\n      polygonOrigin,\n      width,\n      height,\n      offsetX,\n      offsetY,\n    } = this.props;\n\n    return (\n      <React.Fragment>\n        <polygon\n          key={'polygonShape'}\n          fill=\"rgba(255,0,0,0.75)\"\n          strokeWidth={1}\n          filerule=\"evenodd\"\n          points={vertices\n            .map(\n              vertex =>\n                `${vertex.x +\n                  offsetX +\n                  (polygonOrigin === 'Center' ? width / 2 : 0)},${vertex.y +\n                  offsetY +\n                  (polygonOrigin === 'Center' ? height / 2 : 0)}`\n            )\n            .join(' ')}\n        />\n        {vertices.map((vertex, index) => (\n          <circle\n            onPointerDown={event => this._onVertexDown(vertex, index)}\n            key={`vertex-${index}`}\n            fill=\"rgba(150,0,0,0.75)\"\n            strokeWidth={1}\n            cx={\n              vertex.x + offsetX + (polygonOrigin === 'Center' ? width / 2 : 0)\n            }\n            cy={\n              vertex.y + offsetY + (polygonOrigin === 'Center' ? height / 2 : 0)\n            }\n            r={5}\n          />\n        ))}\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    const { shape } = this.props;\n\n    return (\n      <svg\n        onPointerMove={this._onMouseMove}\n        onPointerUp={this._onMouseUp}\n        ref={svg => (this._svg = svg)}\n      >\n        {shape === 'Box' && this.renderBox()}\n        {shape === 'Circle' && this.renderCircle()}\n        {shape === 'Edge' && this.renderEdge()}\n        {shape === 'Polygon' && this.renderPolygon()}\n      </svg>\n    );\n  }\n}\n","// @flow\r\nimport * as React from 'react';\r\nimport {\r\n  Table,\r\n  TableRow,\r\n  TableRowColumn,\r\n  TableBody,\r\n  TableHeader,\r\n  TableHeaderColumn,\r\n} from 'material-ui/Table';\r\nimport SemiControlledTextField from '../../../UI/SemiControlledTextField';\r\nimport Warning from 'material-ui/svg-icons/alert/warning';\r\nimport IconButton from 'material-ui/IconButton';\r\nimport AddCircle from 'material-ui/svg-icons/content/add-circle';\r\nimport Delete from 'material-ui/svg-icons/action/delete';\r\n\r\nexport type Vertex = {|\r\n  x: number,\r\n  y: number,\r\n|};\r\n\r\ntype Props = {|\r\n  vertices: Array<Vertex>,\r\n  onChangeVertexX: (newValue: number, index: number) => void,\r\n  onChangeVertexY: (newValue: number, index: number) => void,\r\n  onAdd: () => void,\r\n  onRemove: (index: number) => void,\r\n|};\r\n\r\nexport default class PolygonEditor extends React.Component<Props> {\r\n  _isPolygonConvex(vertices: Array<Vertex>) {\r\n    // Get edges\r\n    let edges = [];\r\n    let v1 = null;\r\n    let v2 = null;\r\n    for (let i = 0; i < vertices.length; i++) {\r\n      v1 = vertices[i];\r\n      if (i + 1 >= vertices.length) v2 = vertices[0];\r\n      else v2 = vertices[i + 1];\r\n      edges.push({ x: v2.x - v1.x, y: v2.y - v1.y });\r\n    }\r\n\r\n    // Check convexity\r\n    if (edges.length < 3) return false;\r\n\r\n    const zProductIsPositive =\r\n      edges[0].x * edges[0 + 1].y - edges[0].y * edges[0 + 1].x > 0;\r\n\r\n    for (let i = 1; i < edges.length - 1; ++i) {\r\n      let zCrossProduct =\r\n        edges[i].x * edges[i + 1].y - edges[i].y * edges[i + 1].x;\r\n      let zCrossProductIsPositive = zCrossProduct > 0;\r\n      if (zCrossProductIsPositive !== zProductIsPositive) return false;\r\n    }\r\n\r\n    let lastZCrossProduct =\r\n      edges[edges.length - 1].x * edges[0].y -\r\n      edges[edges.length - 1].y * edges[0].x;\r\n    let lastZCrossProductIsPositive = lastZCrossProduct > 0;\r\n    if (lastZCrossProductIsPositive !== zProductIsPositive) return false;\r\n\r\n    // Check for repeated vertices (would crash Box2D during the game)\r\n    for (let i = 0; i < vertices.length - 1; ++i) {\r\n      for (let j = i + 1; j < vertices.length; ++j) {\r\n        if (vertices[i].x === vertices[j].x && vertices[i].y === vertices[j].y)\r\n          return false;\r\n      }\r\n    }\r\n\r\n    // Check if all vertices are aligned (would crash Box2D during the game)\r\n    let alignedX = true;\r\n    let alignedY = true;\r\n    for (let i = 0; i < vertices.length - 1; ++i) {\r\n      if (vertices[i].x !== vertices[i + 1].x) alignedX = false;\r\n      if (vertices[i].y !== vertices[i + 1].y) alignedY = false;\r\n    }\r\n    if (alignedX || alignedY) return false;\r\n\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      vertices,\r\n      onChangeVertexX,\r\n      onChangeVertexY,\r\n      onAdd,\r\n      onRemove,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Table>\r\n        <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\r\n          <TableRow>\r\n            <TableHeaderColumn />\r\n            <TableHeaderColumn>X</TableHeaderColumn>\r\n            <TableHeaderColumn>Y</TableHeaderColumn>\r\n            <TableRowColumn />\r\n          </TableRow>\r\n        </TableHeader>\r\n        <TableBody\r\n          displayRowCheckbox={false}\r\n          deselectOnClickaway={true}\r\n          showRowHover={false}\r\n        >\r\n          {vertices.map((value, index) => {\r\n            return (\r\n              <TableRow key={`vertexRow${index}`}>\r\n                <TableRowColumn>\r\n                  {!this._isPolygonConvex(vertices) && <Warning />}\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <SemiControlledTextField\r\n                    value={value.x.toString(10)}\r\n                    onChange={newValue =>\r\n                      onChangeVertexX(parseFloat(newValue) || 0, index)\r\n                    }\r\n                    type=\"number\"\r\n                  />\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <SemiControlledTextField\r\n                    value={value.y.toString(10)}\r\n                    onChange={newValue =>\r\n                      onChangeVertexY(parseFloat(newValue) || 0, index)\r\n                    }\r\n                    type=\"number\"\r\n                  />\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <IconButton onClick={() => onRemove(index)}>\r\n                    <Delete />\r\n                  </IconButton>\r\n                </TableRowColumn>\r\n              </TableRow>\r\n            );\r\n          })}\r\n          <TableRow>\r\n            <TableRowColumn />\r\n            <TableRowColumn />\r\n            <TableRowColumn />\r\n            <TableRowColumn>\r\n              <IconButton onClick={onAdd}>\r\n                <AddCircle />\r\n              </IconButton>\r\n            </TableRowColumn>\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n","// @flow\r\nimport { Trans } from '@lingui/macro';\r\n\r\nimport * as React from 'react';\r\nimport { Line, Column } from '../../../UI/Grid';\r\nimport Checkbox from 'material-ui/Checkbox';\r\nimport SelectField from 'material-ui/SelectField';\r\nimport MenuItem from 'material-ui/MenuItem';\r\nimport SemiControlledTextField from '../../../UI/SemiControlledTextField';\r\nimport ImagePreview from '../../../ResourcesList/ResourcePreview/ImagePreview';\r\nimport ResourceSelector from '../../../ResourcesList/ResourceSelector';\r\nimport ResourcesLoader from '../../../ResourcesLoader';\r\nimport ShapePreview from './ShapePreview.js';\r\nimport PolygonEditor from './PolygonEditor.js';\r\nimport { type BehaviorEditorProps } from '../BehaviorEditorProps.flow';\r\n\r\ntype Props = BehaviorEditorProps;\r\n\r\ntype State = {|\r\n  image: string,\r\n  imageWidth: number,\r\n  imageHeight: number,\r\n|};\r\n\r\nfunction NumericProperty(props: {|\r\n  properties: gdMapStringPropertyDescriptor,\r\n  propertyName: string,\r\n  step: number,\r\n  onUpdate: (newValue: string) => void,\r\n|}) {\r\n  const { properties, propertyName, step, onUpdate } = props;\r\n\r\n  return (\r\n    <SemiControlledTextField\r\n      value={properties.get(propertyName).getValue()}\r\n      key={propertyName}\r\n      floatingLabelText={properties.get(propertyName).getLabel()}\r\n      floatingLabelFixed\r\n      step={step}\r\n      onChange={onUpdate}\r\n      type=\"number\"\r\n    />\r\n  );\r\n}\r\n\r\nfunction BitProperty(props: {|\r\n  enabled: boolean,\r\n  propertyName: string,\r\n  pos: number,\r\n  spacing: boolean,\r\n  onUpdate: (enabled: boolean) => void,\r\n|}) {\r\n  const { enabled, propertyName, pos, spacing, onUpdate } = props;\r\n\r\n  return (\r\n    <div style={{ width: spacing ? '7.5%' : '5%' }}>\r\n      {\r\n        <Checkbox\r\n          checked={enabled}\r\n          onCheck={(e, checked) => onUpdate(checked)}\r\n        />\r\n      }\r\n      {spacing && (\r\n        <div\r\n          style={{ width: '33%' }}\r\n          key={propertyName + '-space' + pos.toString(10)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default class Physics2Editor extends React.Component<Props, State> {\r\n  resourcesLoader = ResourcesLoader;\r\n\r\n  state = {\r\n    image: '',\r\n    imageWidth: 0,\r\n    imageHeight: 0,\r\n  };\r\n\r\n  _setImageSize = (width: number, height: number) => {\r\n    this.setState({\r\n      imageWidth: width,\r\n      imageHeight: height,\r\n    });\r\n  };\r\n\r\n  _isBitEnabled(bitsValue: number, pos: number) {\r\n    return !!(bitsValue & (1 << pos));\r\n  }\r\n\r\n  _enableBit(bitsValue: number, pos: number, enable: boolean) {\r\n    if (enable) bitsValue |= 1 << pos;\r\n    else bitsValue &= ~(1 << pos);\r\n    return bitsValue;\r\n  }\r\n\r\n  render() {\r\n    const { behavior, project } = this.props;\r\n\r\n    const properties = behavior.getProperties(project);\r\n    const bits = Array(16).fill(null);\r\n    const shape = properties.get('shape').getValue();\r\n    const layersValues = parseInt(properties.get('layers').getValue(), 10);\r\n    const masksValues = parseInt(properties.get('masks').getValue(), 10);\r\n\r\n    return (\r\n      <Column>\r\n        <Line>\r\n          <SelectField\r\n            key={'type'}\r\n            floatingLabelText={properties.get('type').getLabel()}\r\n            floatingLabelFixed\r\n            value={properties.get('type').getValue()}\r\n            onChange={(e, index, newValue) => {\r\n              behavior.updateProperty('type', newValue, project);\r\n              this.forceUpdate();\r\n            }}\r\n          >\r\n            {[\r\n              <MenuItem\r\n                key={'dynamic'}\r\n                value={'Dynamic'}\r\n                primaryText={<Trans>Dynamic</Trans>}\r\n              />,\r\n              <MenuItem\r\n                key={'static'}\r\n                value={'Static'}\r\n                primaryText={<Trans>Static</Trans>}\r\n              />,\r\n              <MenuItem\r\n                key={'kinematic'}\r\n                value={'Kinematic'}\r\n                primaryText={<Trans>Kinematic</Trans>}\r\n              />,\r\n            ]}\r\n          </SelectField>\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <Checkbox\r\n              label={properties.get('bullet').getLabel()}\r\n              checked={properties.get('bullet').getValue() === 'true'}\r\n              onCheck={(e, checked) => {\r\n                behavior.updateProperty('bullet', checked ? '1' : '0', project);\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <Checkbox\r\n              label={properties.get('fixedRotation').getLabel()}\r\n              checked={properties.get('fixedRotation').getValue() === 'true'}\r\n              onCheck={(e, checked) => {\r\n                behavior.updateProperty(\r\n                  'fixedRotation',\r\n                  checked ? '1' : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <Checkbox\r\n              label={properties.get('canSleep').getLabel()}\r\n              checked={properties.get('canSleep').getValue() === 'true'}\r\n              onCheck={(e, checked) => {\r\n                behavior.updateProperty(\r\n                  'canSleep',\r\n                  checked ? '1' : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n        </Line>\r\n        <Line>\r\n          <SelectField\r\n            floatingLabelText={properties.get('shape').getLabel()}\r\n            floatingLabelFixed\r\n            value={properties.get('shape').getValue()}\r\n            onChange={(e, index, newValue) => {\r\n              behavior.updateProperty('shape', newValue, project);\r\n              this.forceUpdate();\r\n            }}\r\n          >\r\n            <MenuItem\r\n              key={'box'}\r\n              value={'Box'}\r\n              primaryText={<Trans>Box</Trans>}\r\n            />\r\n            <MenuItem\r\n              key={'circle'}\r\n              value={'Circle'}\r\n              primaryText={<Trans>Circle</Trans>}\r\n            />\r\n            <MenuItem\r\n              key={'edge'}\r\n              value={'Edge'}\r\n              primaryText={<Trans>Edge</Trans>}\r\n            />\r\n            <MenuItem\r\n              key={'polygon'}\r\n              value={'Polygon'}\r\n              primaryText={<Trans>Polygon</Trans>}\r\n            />\r\n          </SelectField>\r\n        </Line>\r\n        <Line>\r\n          {shape !== 'Polygon' && (\r\n            <SemiControlledTextField\r\n              value={properties\r\n                .get(shape === 'Polygon' ? 'PolygonOriginX' : 'shapeDimensionA')\r\n                .getValue()}\r\n              key={'shapeDimensionA'}\r\n              floatingLabelText={\r\n                shape === 'Circle'\r\n                  ? 'Radius'\r\n                  : shape === 'Edge'\r\n                  ? 'Length'\r\n                  : 'Width'\r\n              }\r\n              floatingLabelFixed\r\n              min={0}\r\n              onChange={newValue => {\r\n                behavior.updateProperty(\r\n                  shape === 'Polygon' ? 'PolygonOriginX' : 'shapeDimensionA',\r\n                  newValue,\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              type=\"number\"\r\n            />\r\n          )}\r\n          {shape !== 'Polygon' && shape !== 'Circle' && (\r\n            <SemiControlledTextField\r\n              value={properties\r\n                .get(shape === 'Polygon' ? 'PolygonOriginY' : 'shapeDimensionB')\r\n                .getValue()}\r\n              key={'shapeDimensionB'}\r\n              floatingLabelText={shape === 'Edge' ? 'Angle' : 'Height'}\r\n              floatingLabelFixed\r\n              min={shape === 'Edge' ? undefined : 0}\r\n              onChange={newValue => {\r\n                behavior.updateProperty(\r\n                  shape === 'Polygon' ? 'PolygonOriginY' : 'shapeDimensionB',\r\n                  newValue,\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              type=\"number\"\r\n            />\r\n          )}\r\n          {shape === 'Polygon' && (\r\n            <SelectField\r\n              floatingLabelText={properties.get('polygonOrigin').getLabel()}\r\n              floatingLabelFixed\r\n              value={properties.get('polygonOrigin').getValue()}\r\n              onChange={(e, index, newValue) => {\r\n                behavior.updateProperty('polygonOrigin', newValue, project);\r\n                this.forceUpdate();\r\n              }}\r\n            >\r\n              {[\r\n                <MenuItem\r\n                  key={'center'}\r\n                  value={'Center'}\r\n                  primaryText={<Trans>Center</Trans>}\r\n                />,\r\n                <MenuItem\r\n                  key={'origin'}\r\n                  value={'Origin'}\r\n                  primaryText={<Trans>Origin</Trans>}\r\n                />,\r\n                <MenuItem\r\n                  key={'topLeft'}\r\n                  value={'TopLeft'}\r\n                  primaryText={<Trans>Top-Left</Trans>}\r\n                />,\r\n              ]}\r\n            </SelectField>\r\n          )}\r\n          <NumericProperty\r\n            properties={properties}\r\n            propertyName={'shapeOffsetX'}\r\n            step={1}\r\n            onUpdate={newValue => {\r\n              behavior.updateProperty('shapeOffsetX', newValue, project);\r\n              this.forceUpdate();\r\n            }}\r\n          />\r\n          <NumericProperty\r\n            properties={properties}\r\n            propertyName={'shapeOffsetY'}\r\n            step={1}\r\n            onUpdate={newValue => {\r\n              this.props.behavior.updateProperty(\r\n                'shapeOffsetY',\r\n                newValue,\r\n                this.props.project\r\n              );\r\n              this.forceUpdate();\r\n            }}\r\n          />\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <Line>\r\n              <ImagePreview\r\n                resourceName={this.state.image}\r\n                project={this.props.project}\r\n                resourcesLoader={this.resourcesLoader}\r\n                onSize={this._setImageSize}\r\n              >\r\n                <ShapePreview\r\n                  shape={properties.get('shape').getValue()}\r\n                  dimensionA={parseFloat(\r\n                    properties.get('shapeDimensionA').getValue()\r\n                  )}\r\n                  dimensionB={parseFloat(\r\n                    properties.get('shapeDimensionB').getValue()\r\n                  )}\r\n                  offsetX={parseFloat(\r\n                    properties.get('shapeOffsetX').getValue()\r\n                  )}\r\n                  offsetY={parseFloat(\r\n                    properties.get('shapeOffsetY').getValue()\r\n                  )}\r\n                  polygonOrigin={properties.get('polygonOrigin').getValue()}\r\n                  vertices={JSON.parse(properties.get('vertices').getValue())}\r\n                  width={this.state.imageWidth}\r\n                  height={this.state.imageHeight}\r\n                  onMoveVertex={(index, newX, newY) => {\r\n                    let vertices = JSON.parse(\r\n                      properties.get('vertices').getValue()\r\n                    );\r\n                    vertices[index].x = newX;\r\n                    vertices[index].y = newY;\r\n                    behavior.updateProperty(\r\n                      'vertices',\r\n                      JSON.stringify(vertices),\r\n                      project\r\n                    );\r\n                    this.forceUpdate();\r\n                  }}\r\n                />\r\n              </ImagePreview>\r\n            </Line>\r\n            <Line>\r\n              <ResourceSelector\r\n                project={this.props.project}\r\n                resourceSources={this.props.resourceSources}\r\n                onChooseResource={this.props.onChooseResource}\r\n                resourceExternalEditors={this.props.resourceExternalEditors}\r\n                resourcesLoader={this.resourcesLoader}\r\n                resourceKind={'image'}\r\n                initialResourceName={''}\r\n                fullWidth={false}\r\n                onChange={resourceName => {\r\n                  this.setState({ image: resourceName });\r\n                  this.forceUpdate();\r\n                }}\r\n              />\r\n            </Line>\r\n          </Column>\r\n          {shape === 'Polygon' && (\r\n            <PolygonEditor\r\n              vertices={JSON.parse(properties.get('vertices').getValue())}\r\n              onChangeVertexX={(newValue, index) => {\r\n                let vertices = JSON.parse(\r\n                  properties.get('vertices').getValue()\r\n                );\r\n                vertices[index].x = newValue;\r\n                behavior.updateProperty(\r\n                  'vertices',\r\n                  JSON.stringify(vertices),\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              onChangeVertexY={(newValue, index) => {\r\n                let vertices = JSON.parse(\r\n                  properties.get('vertices').getValue()\r\n                );\r\n                vertices[index].y = newValue;\r\n                behavior.updateProperty(\r\n                  'vertices',\r\n                  JSON.stringify(vertices),\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              onAdd={() => {\r\n                let vertices = JSON.parse(\r\n                  properties.get('vertices').getValue()\r\n                );\r\n                if (vertices.length >= 8) return;\r\n                vertices.push({ x: 0, y: 0 });\r\n                behavior.updateProperty(\r\n                  'vertices',\r\n                  JSON.stringify(vertices),\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              onRemove={index => {\r\n                let vertices = JSON.parse(\r\n                  properties.get('vertices').getValue()\r\n                );\r\n                vertices.splice(index, 1);\r\n                behavior.updateProperty(\r\n                  'vertices',\r\n                  JSON.stringify(vertices),\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          )}\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'density'}\r\n              step={0.1}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  'density',\r\n                  parseFloat(newValue) > 0 ? newValue : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'gravityScale'}\r\n              step={0.1}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty('gravityScale', newValue, project);\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'friction'}\r\n              step={0.1}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  'friction',\r\n                  parseFloat(newValue) > 0 ? newValue : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'restitution'}\r\n              step={0.1}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  'restitution',\r\n                  parseFloat(newValue) > 0 ? newValue : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'linearDamping'}\r\n              step={0.05}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty('linearDamping', newValue, project);\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'angularDamping'}\r\n              step={0.05}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty('angularDamping', newValue, project);\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n        </Line>\r\n        <Line>\r\n          <label style={{ width: '10%' }}>\r\n            {properties.get('layers').getLabel()}\r\n          </label>\r\n          {bits.map((value, index) => {\r\n            return (\r\n              <BitProperty\r\n                enabled={this._isBitEnabled(layersValues, index)}\r\n                propertyName={'layers'}\r\n                pos={index}\r\n                spacing={index === 7}\r\n                onUpdate={enabled => {\r\n                  const newValue = this._enableBit(\r\n                    layersValues,\r\n                    index,\r\n                    enabled\r\n                  );\r\n                  this.props.behavior.updateProperty(\r\n                    'layers',\r\n                    newValue.toString(10),\r\n                    this.props.project\r\n                  );\r\n                  this.forceUpdate();\r\n                }}\r\n                key={`layer${index}`}\r\n              />\r\n            );\r\n          })}\r\n        </Line>\r\n        <Line>\r\n          <label style={{ width: '10%' }}>\r\n            {properties.get('masks').getLabel()}\r\n          </label>\r\n          {bits.map((value, index) => {\r\n            return (\r\n              <BitProperty\r\n                enabled={this._isBitEnabled(masksValues, index)}\r\n                propertyName={'masks'}\r\n                pos={index}\r\n                spacing={index === 7}\r\n                onUpdate={enabled => {\r\n                  const newValue = this._enableBit(masksValues, index, enabled);\r\n                  this.props.behavior.updateProperty(\r\n                    'masks',\r\n                    newValue.toString(10),\r\n                    this.props.project\r\n                  );\r\n                  this.forceUpdate();\r\n                }}\r\n                key={`mask${index}`}\r\n              />\r\n            );\r\n          })}\r\n        </Line>\r\n      </Column>\r\n    );\r\n  }\r\n}\r\n","// @flow\nimport BehaviorPropertiesEditor from './Editors/BehaviorPropertiesEditor';\nimport Physics2Editor from './Editors/Physics2Editor';\n\n/**\n * A service returning editor components for each behavior type.\n */\nexport default {\n  getEditor(behaviorType: string) {\n    if (!this.components[behaviorType]) {\n      return BehaviorPropertiesEditor; // Default properties editor\n    }\n    return this.components[behaviorType].component; // Custom  behavior editor\n  },\n  components: {\n    'Physics2::Physics2Behavior': {\n      component: Physics2Editor,\n    },\n  },\n};\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport TextField from 'material-ui/TextField';\nimport Add from 'material-ui/svg-icons/content/add';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport IconButton from 'material-ui/IconButton';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport MiniToolbar from '../UI/MiniToolbar';\nimport HelpIcon from '../UI/HelpIcon';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport NewBehaviorDialog from './NewBehaviorDialog';\nimport { getBehaviorHelpPagePath } from './BehaviorsHelpPagePaths';\nimport BehaviorsEditorService from './BehaviorsEditorService';\n\nconst styles = {\n  addBehaviorLine: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  addBehaviorText: {\n    justifyContent: 'flex-end',\n  },\n  behaviorTitle: {\n    flex: 1,\n  },\n  behaviorTools: {\n    flexShrink: 0,\n  },\n};\nconst AddBehaviorLine = ({ onAdd }) => (\n  <div style={styles.addBehaviorLine}>\n    <EmptyMessage style={styles.addBehaviorText}>\n      Click to add a behavior to the object:\n    </EmptyMessage>\n    <IconButton onClick={onAdd}>\n      <Add />\n    </IconButton>\n  </div>\n);\n\nexport default class BehaviorsEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { newBehaviorDialogOpen: false };\n  }\n\n  componentWillMount() {\n    this._loadFrom(this.props.object);\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (this.props.object !== newProps.object) {\n      this._loadFrom(newProps.object);\n    }\n  }\n\n  _loadFrom(object) {\n    if (!object) return;\n  }\n\n  chooseNewBehavior = () => {\n    this.setState({\n      newBehaviorDialogOpen: true,\n    });\n  };\n\n  _hasBehaviorWithType = type => {\n    const { object } = this.props;\n    const allBehaviorNames = object.getAllBehaviorNames().toJSArray();\n\n    return allBehaviorNames\n      .map(behaviorName => object.getBehavior(behaviorName))\n      .map(behavior => behavior.getTypeName())\n      .filter(behaviorType => behaviorType === type).length;\n  };\n\n  addBehavior = (type, defaultName) => {\n    const { object, project } = this.props;\n\n    this.setState(\n      {\n        newBehaviorDialogOpen: false,\n      },\n      () => {\n        if (this._hasBehaviorWithType(type)) {\n          //eslint-disable-next-line\n          const answer = confirm(\n            \"There is already a behavior of this type attached to the object. It's possible to add again this behavior but it's unusual and may not be always supported properly. Are you sure you want to add again this behavior?\"\n          );\n\n          if (!answer) return;\n        }\n\n        const name = newNameGenerator(defaultName, name =>\n          object.hasBehaviorNamed(name)\n        );\n        object.addNewBehavior(project, type, name);\n\n        this.forceUpdate();\n        if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n      }\n    );\n  };\n\n  _onChangeBehaviorName = (behavior, newName) => {\n    // TODO: This is disabled for now as there is no proper refactoring\n    // of events after a behavior renaming. Once refactoring is available,\n    // the text field can be enabled again and refactoring calls added here\n    // (or in a parent).\n    // Renaming a behavior is something that is really rare anyway! :)\n\n    const { object } = this.props;\n    if (object.hasBehaviorNamed(newName)) return;\n\n    object.renameBehavior(behavior.getName(), newName);\n    behavior.setName(newName);\n    this.forceUpdate();\n  };\n\n  _onRemoveBehavior = behaviorName => {\n    const { object } = this.props;\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this behavior? This can't be undone.\"\n    );\n\n    if (answer) {\n      object.removeBehavior(behaviorName);\n      this.forceUpdate();\n      if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n    }\n  };\n\n  render() {\n    const { object, project } = this.props;\n    const allBehaviorNames = object.getAllBehaviorNames().toJSArray();\n\n    return (\n      <div>\n        {allBehaviorNames\n          .map((behaviorName, index) => {\n            const behavior = object.getBehavior(behaviorName);\n            const BehaviorComponent = BehaviorsEditorService.getEditor(\n              behavior.getTypeName()\n            );\n\n            return (\n              <div key={index}>\n                <MiniToolbar>\n                  <span style={styles.behaviorTitle}>\n                    Behavior{' '}\n                    <TextField\n                      value={behaviorName}\n                      hintText={<Trans>Behavior name</Trans>}\n                      disabled\n                      onChange={(e, text) =>\n                        this._onChangeBehaviorName(behavior, text)\n                      }\n                    />\n                  </span>\n                  <span style={styles.behaviorTools}>\n                    <IconButton\n                      onClick={() => this._onRemoveBehavior(behaviorName)}\n                    >\n                      <Delete />\n                    </IconButton>\n                    <HelpIcon\n                      helpPagePath={getBehaviorHelpPagePath(behavior)}\n                    />\n                  </span>\n                </MiniToolbar>\n                <BehaviorComponent\n                  behavior={behavior}\n                  project={project}\n                  resourceSources={this.props.resourceSources}\n                  onChooseResource={this.props.onChooseResource}\n                  resourceExternalEditors={this.props.resourceExternalEditors}\n                />\n              </div>\n            );\n          })\n          .concat(\n            <AddBehaviorLine\n              key=\"add-behavior-line\"\n              onAdd={this.chooseNewBehavior}\n            />\n          )}\n        {this.state.newBehaviorDialogOpen && (\n          <NewBehaviorDialog\n            open={this.state.newBehaviorDialogOpen}\n            onClose={() => this.setState({ newBehaviorDialogOpen: false })}\n            onChoose={this.addBehavior}\n            project={project}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow weak\nimport { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport ObjectsEditorService from './ObjectsEditorService';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\nimport BehaviorsEditor from '../BehaviorsEditor';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport { withSerializableObject } from '../Utils/SerializableObjectEditorContainer';\n\nimport { Column, Line } from '../UI/Grid';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\n\nconst styles = {\n  titleContainer: {\n    padding: 0,\n  },\n};\n\ntype StateType = {|\n  currentTab: string,\n  newObjectName: string,\n|};\n\nexport class ObjectEditorDialog extends Component<*, StateType> {\n  state = {\n    currentTab: 'properties',\n    newObjectName: this.props.objectName,\n  };\n\n  _onChangeTab = (value: string) => {\n    this.setState({\n      currentTab: value,\n    });\n  };\n\n  render() {\n    const actions = [\n      <FlatButton\n        key=\"cancel\"\n        label={<Trans>Cancel</Trans>}\n        onClick={this.props.onCancel}\n      />,\n      <FlatButton\n        key=\"apply\"\n        label={<Trans>Apply</Trans>}\n        primary\n        keyboardFocused\n        onClick={() => {\n          this.props.onRename(this.state.newObjectName);\n          this.props.onApply();\n        }}\n      />,\n    ];\n\n    const EditorComponent = this.props.editorComponent;\n    const { currentTab } = this.state;\n\n    return (\n      <Dialog\n        key={this.props.object && this.props.object.ptr}\n        secondaryActions={<HelpButton helpPagePath={this.props.helpPagePath} />}\n        actions={actions}\n        autoScrollBodyContent\n        noMargin\n        modal\n        onRequestClose={this.props.onCancel}\n        open={this.props.open}\n        title={\n          <div>\n            <Tabs value={currentTab} onChange={this._onChangeTab}>\n              <Tab\n                label={<Trans>Properties</Trans>}\n                value={'properties'}\n                key={'properties'}\n              />\n              <Tab\n                label={<Trans>Behaviors</Trans>}\n                value={'behaviors'}\n                key={'behaviors'}\n              />\n            </Tabs>\n          </div>\n        }\n        titleStyle={styles.titleContainer}\n      >\n        <Line alignItems=\"baseline\">\n          <Column>Object Name:</Column>\n          <Column expand>\n            <SemiControlledTextField\n              fullWidth\n              commitOnBlur\n              value={this.state.newObjectName}\n              hintText={<Trans>Object Name</Trans>}\n              onChange={text => {\n                if (this.props.canRenameObject(text)) {\n                  this.setState({ newObjectName: text });\n                }\n              }}\n            />\n          </Column>\n        </Line>\n        {currentTab === 'properties' && EditorComponent && (\n          <EditorComponent\n            object={this.props.object}\n            project={this.props.project}\n            resourceSources={this.props.resourceSources}\n            onChooseResource={this.props.onChooseResource}\n            resourceExternalEditors={this.props.resourceExternalEditors}\n            onSizeUpdated={\n              () =>\n                this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n            }\n            objectName={this.props.objectName}\n          />\n        )}\n        {currentTab === 'behaviors' && (\n          <BehaviorsEditor\n            object={this.props.object}\n            project={this.props.project}\n            resourceSources={this.props.resourceSources}\n            onChooseResource={this.props.onChooseResource}\n            resourceExternalEditors={this.props.resourceExternalEditors}\n            onSizeUpdated={\n              () =>\n                this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n            }\n          />\n        )}\n      </Dialog>\n    );\n  }\n}\n\ntype ContainerStateType = {|\n  dialogComponent: ?Class<*>,\n  editorComponent: ?Class<*>,\n  castToObjectType: ?Function,\n  helpPagePath: ?string,\n  objectName: string,\n|};\n\nexport default class ObjectEditorDialogContainer extends Component<*, *> {\n  state: ContainerStateType = {\n    dialogComponent: null,\n    editorComponent: null,\n    castToObjectType: null,\n    helpPagePath: null,\n    objectName: '',\n  };\n\n  componentWillMount() {\n    this._loadFrom(this.props.object);\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.object !== newProps.object)\n    ) {\n      this._loadFrom(newProps.object);\n    }\n  }\n\n  _loadFrom(object) {\n    if (!object) return;\n\n    const editorConfiguration = ObjectsEditorService.getEditorConfiguration(\n      object.getType()\n    );\n    if (!editorConfiguration) {\n      return this.setState({\n        dialogComponent: null,\n        editorComponent: null,\n        castToObjectType: null,\n      });\n    }\n\n    this.setState({\n      dialogComponent: withSerializableObject(ObjectEditorDialog, {\n        propName: 'object',\n        newObjectCreator: () => editorConfiguration.createNewObject(object),\n        useProjectToUnserialize: true,\n      }),\n      editorComponent: editorConfiguration.component,\n      helpPagePath: editorConfiguration.helpPagePath,\n      castToObjectType: editorConfiguration.castToObjectType,\n      objectName: object.getName(),\n    });\n  }\n\n  render() {\n    if (\n      !this.props.object ||\n      !this.state.dialogComponent ||\n      !this.state.castToObjectType\n    )\n      return null;\n\n    const EditorDialog: Class<*> = this.state.dialogComponent;\n    const { editorComponent, castToObjectType, helpPagePath } = this.state;\n\n    return (\n      <EditorDialog\n        editorComponent={editorComponent}\n        key={this.props.object && this.props.object.ptr}\n        helpPagePath={helpPagePath}\n        {...this.props}\n        object={castToObjectType(this.props.object)}\n        objectName={this.state.objectName}\n      />\n    );\n  }\n}\n","// @flow\nimport md5 from 'blueimp-md5';\n\nexport const getGravatarUrl = (\n  email: string,\n  { size }: { size: number } = { size: 40 }\n): string => {\n  const hash = md5(email.trim().toLowerCase());\n  return `https://www.gravatar.com/avatar/${hash}?s=${size}&d=retro`;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Avatar from 'material-ui/Avatar';\nimport { Column, Line } from '../UI/Grid';\nimport { type Profile } from '../Utils/GDevelopServices/Authentification';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport { getGravatarUrl } from '../UI/GravatarUrl';\n\nconst styles = {\n  title: {\n    fontSize: 25,\n    lineHeight: '40px',\n    marginLeft: 10,\n  },\n};\n\ntype Props = {\n  profile: ?Profile,\n};\n\nexport default ({ profile }: Props) =>\n  profile ? (\n    <Column>\n      <Line alignItems=\"center\">\n        <Avatar src={getGravatarUrl(profile.email || '', { size: 40 })} />\n        <span style={styles.title}>You are connected as {profile.email}</span>\n      </Line>\n      <Line>\n        <p>\n          <Trans>\n            An account allows you to access GDevelop services online.\n          </Trans>\n        </p>\n      </Line>\n    </Column>\n  ) : (\n    <PlaceholderLoader />\n  );\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { type Usages } from '../Utils/GDevelopServices/Usage';\nimport { Column, Line } from '../UI/Grid';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport format from 'date-fns/format';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\n\ntype Props = { usages: ?Usages };\n\nexport default ({ usages }: Props) => (\n  <Column noMargin>\n    <Line>\n      {!usages ? (\n        <PlaceholderLoader />\n      ) : usages.length === 0 ? (\n        <EmptyMessage>\n          <Trans>You don't have any usage of the online services for now</Trans>\n        </EmptyMessage>\n      ) : (\n        <Table selectable={false}>\n          <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n            <TableRow>\n              <TableHeaderColumn>Date</TableHeaderColumn>\n              <TableHeaderColumn>Type</TableHeaderColumn>\n            </TableRow>\n          </TableHeader>\n          <TableBody displayRowCheckbox={false}>\n            {usages.map(usage => (\n              <TableRow key={usage.id}>\n                <TableRowColumn>\n                  {format(usage.createdAt, 'YYYY-MM-DD HH:mm:ss')}\n                </TableRowColumn>\n                <TableRowColumn>{usage.type}</TableRowColumn>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      )}\n    </Line>\n  </Column>\n);\n","// @flow\nimport * as React from 'react';\nimport { Column, Line } from '../UI/Grid';\nimport { type Subscription } from '../Utils/GDevelopServices/Usage';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Trans } from '@lingui/macro';\n\ntype Props = {\n  subscription: ?Subscription,\n  onChangeSubscription: Function,\n};\n\nexport default ({ subscription, onChangeSubscription }: Props) =>\n  subscription && subscription.planId ? (\n    <Column>\n      <Line>\n        <p>\n          <Trans>\n            You are subscribed to {subscription.planId}. Congratulations! You\n            have access to more online services, including building your game\n            for Android, Windows, macOS and Linux in one click!\n          </Trans>\n        </p>\n      </Line>\n      <Line justifyContent=\"center\">\n        <RaisedButton\n          label={<Trans>Upgrade/change</Trans>}\n          primary\n          onClick={onChangeSubscription}\n        />\n      </Line>\n    </Column>\n  ) : subscription && !subscription.planId ? (\n    <Column>\n      <Line>\n        <p>\n          <Trans>\n            If you don't have a subscription, consider getting one now. Accounts\n            allow you to access all of the online services. With just one click,\n            you can build your game for Android, Windows, macOS and Linux!\n          </Trans>\n        </p>\n      </Line>\n      <Line justifyContent=\"center\">\n        <RaisedButton\n          label={<Trans>Choose a subscription</Trans>}\n          primary\n          onClick={onChangeSubscription}\n        />\n      </Line>\n    </Column>\n  ) : (\n    <PlaceholderLoader />\n  );\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport Dialog from '../UI/Dialog';\nimport { Column } from '../UI/Grid';\nimport CreateProfile from './CreateProfile';\nimport ProfileDetails from './ProfileDetails';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport HelpButton from '../UI/HelpButton';\nimport UsagesDetails from './UsagesDetails';\nimport SubscriptionDetails from './SubscriptionDetails';\nimport UserProfileContext, { type UserProfile } from './UserProfileContext';\n\ntype Props = {|\n  open: boolean,\n  onClose: Function,\n  onChangeSubscription: Function,\n|};\n\ntype State = {|\n  currentTab: string,\n|};\n\nexport default class ProfileDialog extends Component<Props, State> {\n  state = {\n    currentTab: 'profile',\n  };\n\n  _onChangeTab = (newTab: string) =>\n    this.setState({\n      currentTab: newTab,\n    });\n\n  render() {\n    const { open, onClose } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        key=\"close\"\n        primary={false}\n        onClick={onClose}\n      />,\n    ];\n\n    return (\n      <UserProfileContext.Consumer>\n        {(userProfile: UserProfile) => (\n          <Dialog\n            actions={actions}\n            secondaryActions={[\n              <HelpButton key=\"help\" helpPagePath=\"/interface/profile\" />,\n              userProfile.authenticated && userProfile.profile && (\n                <FlatButton\n                  label={<Trans>Logout</Trans>}\n                  key=\"logout\"\n                  onClick={userProfile.onLogout}\n                />\n              ),\n            ]}\n            onRequestClose={onClose}\n            open={open}\n            noMargin\n            autoScrollBodyContent\n          >\n            <Tabs value={this.state.currentTab} onChange={this._onChangeTab}>\n              <Tab label={<Trans>My Profile</Trans>} value=\"profile\">\n                {userProfile.authenticated ? (\n                  <Column noMargin>\n                    <ProfileDetails profile={userProfile.profile} />\n                    <SubscriptionDetails\n                      subscription={userProfile.subscription}\n                      onChangeSubscription={this.props.onChangeSubscription}\n                    />\n                  </Column>\n                ) : (\n                  <Column>\n                    <CreateProfile onLogin={userProfile.onLogin} />\n                  </Column>\n                )}\n              </Tab>\n              <Tab label={<Trans>Online services usage</Trans>} value=\"usage\">\n                {userProfile.authenticated ? (\n                  <Column noMargin>\n                    <UsagesDetails usages={userProfile.usages} />\n                  </Column>\n                ) : (\n                  <EmptyMessage>\n                    <Trans>\n                      Register to see the usage that you've made of the online\n                      services\n                    </Trans>\n                  </EmptyMessage>\n                )}\n              </Tab>\n            </Tabs>\n          </Dialog>\n        )}\n      </UserProfileContext.Consumer>\n    );\n  }\n}\n","export const CLIPBOARD_KIND = 'Object';\n","import React from 'react';\nimport { ListItem } from 'material-ui/List';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport ListIcon from '../UI/ListIcon';\nimport IconButton from 'material-ui/IconButton';\nimport TextField from 'material-ui/TextField';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport Clipboard from '../Utils/Clipboard';\nimport { CLIPBOARD_KIND } from './ClipboardKind';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst LEFT_MOUSE_BUTTON = 0;\n\nconst styles = {\n  objectName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  textField: {\n    top: -16,\n  },\n};\n\nclass ThemableObjectRow extends React.Component {\n  _renderObjectMenu(object) {\n    return (\n      <IconMenu\n        ref={iconMenu => (this._iconMenu = iconMenu)}\n        iconButtonElement={\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        }\n        buildMenuTemplate={() => [\n          {\n            label: 'Edit object',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onEdit(object),\n          },\n          {\n            label: 'Edit object variables',\n            enabled: !!this.props.onEditVariables,\n            click: () => this.props.onEditVariables(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Rename',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onEditName(),\n          },\n          {\n            label: 'Set as a global object',\n            enabled: !!this.props.onSetAsGlobalObject,\n            click: () => this.props.onSetAsGlobalObject(),\n          },\n          {\n            label: 'Delete',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onDelete(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Add a new object...',\n            click: () => this.props.onAddNewObject(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Copy',\n            click: () => this.props.onCopyObject(),\n          },\n          {\n            label: 'Cut',\n            click: () => this.props.onCutObject(),\n          },\n          {\n            label: 'Paste',\n            enabled: Clipboard.has(CLIPBOARD_KIND),\n            click: () => this.props.onPasteObject(),\n          },\n          {\n            label: 'Duplicate',\n            click: () => this.props.onDuplicateObject(),\n          },\n        ]}\n      />\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editingName && this.props.editingName) {\n      setTimeout(() => {\n        if (this.textField) this.textField.focus();\n      }, 100);\n    }\n  }\n\n  _onContextMenu = event => {\n    if (this._iconMenu) this._iconMenu.open(event);\n  };\n\n  render() {\n    const {\n      project,\n      object,\n      selected,\n      isGlobalObject,\n      style,\n      muiTheme,\n    } = this.props;\n\n    const objectName = object.getName();\n    const label = this.props.editingName ? (\n      <TextField\n        id=\"rename-object-field\"\n        ref={textField => (this.textField = textField)}\n        defaultValue={objectName}\n        onBlur={e => this.props.onRename(e.target.value)}\n        onKeyPress={event => {\n          if (event.charCode === 13) {\n            // enter key pressed\n            this.textField.blur();\n          }\n        }}\n        fullWidth\n        style={styles.textField}\n      />\n    ) : (\n      <div\n        style={{\n          ...styles.objectName,\n          color: selected ? muiTheme.listItem.selectedTextColor : undefined,\n          fontStyle: isGlobalObject ? 'italic' : undefined,\n        }}\n      >\n        {objectName}\n      </div>\n    );\n\n    const itemStyle = {\n      borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n      backgroundColor: selected\n        ? muiTheme.listItem.selectedBackgroundColor\n        : undefined,\n    };\n\n    return (\n      <ListItem\n        style={{ ...itemStyle, ...style }}\n        onContextMenu={this._onContextMenu}\n        primaryText={label}\n        leftIcon={\n          <ListIcon\n            iconSize={32}\n            src={this.props.getThumbnail(project, object)}\n          />\n        }\n        rightIconButton={this._renderObjectMenu(object)}\n        onClick={() => {\n          if (!this.props.onObjectSelected) return;\n          if (this.props.editingName) return;\n          this.props.onObjectSelected(selected ? '' : objectName);\n        }}\n        onDoubleClick={event => {\n          if (event.button !== LEFT_MOUSE_BUTTON) return;\n          if (!this.props.onEdit) return;\n          if (this.props.editingName) return;\n\n          this.props.onObjectSelected('');\n          this.props.onEdit(object);\n        }}\n      />\n    );\n  }\n}\n\nconst ObjectRow = muiThemeable()(ThemableObjectRow);\nexport default ObjectRow;\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport Avatar from 'material-ui/Avatar';\nimport { List, ListItem } from 'material-ui/List';\nimport { enumerateObjectTypes } from './EnumerateObjects';\nimport HelpButton from '../UI/HelpButton';\n\nconst styles = {\n  icon: { borderRadius: 0 },\n};\n\nexport default class NewObjectDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...this._loadFrom(props.project) };\n  }\n\n  _loadFrom(project) {\n    if (!project || !project.getCurrentPlatform()) {\n      return { objectMetadata: [] };\n    }\n\n    return {\n      objectMetadata: enumerateObjectTypes(project),\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.project !== newProps.project)\n    ) {\n      this.setState(this._loadFrom(newProps.layout));\n    }\n  }\n\n  render() {\n    const { project, open, onClose } = this.props;\n    if (!open || !project) return null;\n\n    return (\n      <Dialog\n        title={<Trans>Add a new object</Trans>}\n        secondaryActions={<HelpButton helpPagePath=\"/objects\" />}\n        actions={\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            primary={false}\n            onClick={onClose}\n          />\n        }\n        onRequestClose={onClose}\n        open={open}\n        noMargin\n        autoScrollBodyContent\n      >\n        <List>\n          {this.state.objectMetadata.map(objectMetadata => {\n            if (objectMetadata.name === '') {\n              // Base object is an \"abstract\" object\n              return null;\n            }\n\n            return (\n              <ListItem\n                leftAvatar={\n                  <Avatar\n                    src={objectMetadata.iconFilename}\n                    style={styles.icon}\n                  />\n                }\n                key={objectMetadata.name}\n                primaryText={objectMetadata.fullName}\n                secondaryText={<p>{objectMetadata.description}</p>}\n                secondaryTextLines={2}\n                onClick={() => this.props.onChoose(objectMetadata.name)}\n              />\n            );\n          })}\n        </List>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { AutoSizer, List } from 'react-virtualized';\nimport { ListItem } from 'material-ui/List';\nimport Background from '../UI/Background';\nimport SearchBar from 'material-ui-search-bar';\nimport ObjectRow from './ObjectRow';\nimport NewObjectDialog from './NewObjectDialog';\nimport VariablesEditorDialog from '../VariablesList/VariablesEditorDialog';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { makeAddItem } from '../UI/ListAddItem';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { enumerateObjects, filterObjectsList } from './EnumerateObjects';\nimport type {\n  ObjectWithContextList,\n  ObjectWithContext,\n} from '../ObjectsList/EnumerateObjects';\nimport { CLIPBOARD_KIND } from './ClipboardKind';\n\nconst listItemHeight = 48;\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\nconst AddObjectRow = makeAddItem(ListItem);\n\nconst SortableObjectRow = SortableElement(props => {\n  const { style, ...otherProps } = props;\n  return (\n    <div style={style}>\n      <ObjectRow {...otherProps} />\n    </div>\n  );\n});\n\nconst SortableAddObjectRow = SortableElement(props => {\n  return <AddObjectRow {...props} />;\n});\n\nclass ObjectsList extends Component<*, *> {\n  list: any;\n\n  forceUpdateGrid() {\n    if (this.list) this.list.forceUpdateGrid();\n  }\n\n  render() {\n    let { height, width, fullList, project, selectedObjectNames } = this.props;\n\n    return (\n      <List\n        ref={list => (this.list = list)}\n        height={height}\n        rowCount={fullList.length}\n        rowHeight={listItemHeight}\n        rowRenderer={({ index, key, style }) => {\n          const objectWithContext = fullList[index];\n          if (objectWithContext.key === 'add-objects-row') {\n            return (\n              <SortableAddObjectRow\n                index={fullList.length}\n                key={key}\n                style={style}\n                disabled\n                onClick={this.props.onAddNewObject}\n                primaryText={<Trans>Click to add an object</Trans>}\n              />\n            );\n          }\n\n          const nameBeingEdited =\n            this.props.renamedObjectWithScope &&\n            this.props.renamedObjectWithScope.object ===\n              objectWithContext.object &&\n            this.props.renamedObjectWithScope.global ===\n              objectWithContext.global;\n\n          return (\n            <SortableObjectRow\n              index={index}\n              key={objectWithContext.object.ptr}\n              project={project}\n              object={objectWithContext.object}\n              isGlobalObject={objectWithContext.global}\n              style={style}\n              onEdit={\n                this.props.onEditObject\n                  ? () => this.props.onEditObject(objectWithContext.object)\n                  : undefined\n              }\n              onEditVariables={() =>\n                this.props.onEditVariables(objectWithContext.object)\n              }\n              onEditName={() => this.props.onEditName(objectWithContext)}\n              onDelete={() => this.props.onDelete(objectWithContext)}\n              onCopyObject={() => this.props.onCopyObject(objectWithContext)}\n              onCutObject={() => this.props.onCutObject(objectWithContext)}\n              onDuplicateObject={() =>\n                this.props.onDuplicateObject(objectWithContext)\n              }\n              onPasteObject={() => this.props.onPasteObject(objectWithContext)}\n              onRename={newName =>\n                this.props.onRename(objectWithContext, newName)\n              }\n              onSetAsGlobalObject={\n                objectWithContext.global\n                  ? undefined\n                  : () => this.props.onSetAsGlobalObject(objectWithContext)\n              }\n              onAddNewObject={this.props.onAddNewObject}\n              editingName={nameBeingEdited}\n              getThumbnail={this.props.getThumbnail}\n              onObjectSelected={this.props.onObjectSelected}\n              selected={\n                selectedObjectNames.indexOf(\n                  objectWithContext.object.getName()\n                ) !== -1\n              }\n            />\n          );\n        }}\n        width={width}\n      />\n    );\n  }\n}\n\nconst SortableObjectsList = SortableContainer(ObjectsList, { withRef: true });\n\ntype StateType = {|\n  newObjectDialogOpen: boolean,\n  renamedObjectWithScope: ?ObjectWithContext,\n  variablesEditedObject: any,\n  searchText: string,\n|};\n\nexport default class ObjectsListContainer extends React.Component<\n  *,\n  StateType\n> {\n  static defaultProps = {\n    onDeleteObject: (objectWithContext: ObjectWithContext, cb: Function) =>\n      cb(true),\n    onRenameObject: (\n      objectWithContext: ObjectWithContext,\n      newName: string,\n      cb: Function\n    ) => cb(true),\n  };\n\n  sortableList: any;\n  containerObjectsList: ObjectWithContextList = [];\n  projectObjectsList: ObjectWithContextList = [];\n  state: StateType = {\n    newObjectDialogOpen: false,\n    renamedObjectWithScope: null,\n    variablesEditedObject: null,\n    searchText: '',\n  };\n\n  shouldComponentUpdate(nextProps: *, nextState: StateType) {\n    // The component is costly to render, so avoid any re-rendering as much\n    // as possible.\n    // We make the assumption that no changes to objects list is made outside\n    // from the component.\n    // If a change is made, the component won't notice it: you have to manually\n    // call forceUpdate.\n\n    if (\n      this.state.newObjectDialogOpen !== nextState.newObjectDialogOpen ||\n      this.state.renamedObjectWithScope !== nextState.renamedObjectWithScope ||\n      this.state.variablesEditedObject !== nextState.variablesEditedObject ||\n      this.state.searchText !== nextState.searchText\n    )\n      return true;\n\n    if (this.props.selectedObjectNames !== nextProps.selectedObjectNames)\n      return true;\n\n    if (\n      this.props.project !== nextProps.project ||\n      this.props.objectsContainer !== nextProps.objectsContainer\n    )\n      return true;\n\n    return false;\n  }\n\n  addObject = (objectType: string) => {\n    const { project, objectsContainer } = this.props;\n\n    const name = newNameGenerator(\n      'NewObject',\n      name =>\n        objectsContainer.hasObjectNamed(name) || project.hasObjectNamed(name)\n    );\n\n    const object = objectsContainer.insertNewObject(\n      project,\n      objectType,\n      name,\n      objectsContainer.getObjectsCount()\n    );\n\n    this.setState(\n      {\n        newObjectDialogOpen: false,\n      },\n      () => {\n        if (this.props.onEditObject) {\n          this.props.onEditObject(object);\n        }\n      }\n    );\n  };\n\n  _deleteObject = (objectWithContext: ObjectWithContext) => {\n    const { object, global } = objectWithContext;\n    const { project, objectsContainer } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this object? This can't be undone.\"\n    );\n    if (!answer) return;\n\n    this.props.onDeleteObject(objectWithContext, doRemove => {\n      if (!doRemove) return;\n\n      if (global) {\n        project.removeObject(object.getName());\n      } else {\n        objectsContainer.removeObject(object.getName());\n      }\n\n      this.forceUpdate();\n    });\n  };\n\n  _copyObject = (objectWithContext: ObjectWithContext) => {\n    const { object } = objectWithContext;\n    Clipboard.set(CLIPBOARD_KIND, {\n      type: object.getType(),\n      name: object.getName(),\n      object: serializeToJSObject(object),\n    });\n  };\n\n  _cutObject = (objectWithContext: ObjectWithContext) => {\n    this._copyObject(objectWithContext);\n    this._deleteObject(objectWithContext);\n  };\n\n  _duplicateObject = (objectWithContext: ObjectWithContext) => {\n    this._copyObject(objectWithContext);\n    this._pasteAndRename(objectWithContext);\n  };\n\n  _pasteAndRename = (objectWithContext: ObjectWithContext) => {\n    this._editName(this._paste(objectWithContext));\n  };\n\n  _paste = (objectWithContext: ObjectWithContext): ?ObjectWithContext => {\n    if (!Clipboard.has(CLIPBOARD_KIND)) return null;\n\n    const { object: pasteObject, global } = objectWithContext;\n    const { object: copiedObject, type, name } = Clipboard.get(CLIPBOARD_KIND);\n    const { project, objectsContainer, onObjectPasted } = this.props;\n\n    const newName = newNameGenerator(\n      name,\n      name =>\n        objectsContainer.hasObjectNamed(name) || project.hasObjectNamed(name),\n      'CopyOf'\n    );\n\n    const newObject = global\n      ? project.insertNewObject(\n          project,\n          type,\n          newName,\n          project.getObjectPosition(pasteObject.getName())\n        )\n      : objectsContainer.insertNewObject(\n          project,\n          type,\n          newName,\n          objectsContainer.getObjectPosition(pasteObject.getName())\n        );\n\n    unserializeFromJSObject(\n      newObject,\n      copiedObject,\n      'unserializeFrom',\n      project\n    );\n\n    this.forceUpdate();\n    if (onObjectPasted) onObjectPasted(newObject);\n\n    return { object: newObject, global };\n  };\n\n  _editName = (objectWithContext: ?ObjectWithContext) => {\n    this.setState(\n      {\n        renamedObjectWithScope: objectWithContext,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _editVariables = (object: any) => {\n    this.setState({\n      variablesEditedObject: object,\n    });\n  };\n\n  _rename = (objectWithContext: ObjectWithContext, newName: string) => {\n    const { object } = objectWithContext;\n\n    this.setState({\n      renamedObjectWithScope: null,\n    });\n\n    if (this.props.canRenameObject(objectWithContext, newName)) {\n      this.props.onRenameObject(objectWithContext, newName, doRename => {\n        if (!doRename) return;\n\n        object.setName(newName);\n        this.forceUpdate();\n      });\n    }\n  };\n\n  _move = (oldIndex: number, newIndex: number) => {\n    if (!this.props.canMoveObjects) return;\n\n    const { project, objectsContainer } = this.props;\n\n    const isInContainerObjectsList =\n      oldIndex < this.containerObjectsList.length;\n    if (isInContainerObjectsList) {\n      objectsContainer.moveObject(\n        oldIndex,\n        Math.min(newIndex, this.containerObjectsList.length - 1)\n      );\n    } else {\n      const projectOldIndex = oldIndex - this.containerObjectsList.length;\n      const projectNewIndex = newIndex - this.containerObjectsList.length;\n\n      project.moveObject(\n        projectOldIndex,\n        Math.min(projectNewIndex, this.projectObjectsList.length - 1)\n      );\n    }\n\n    this.forceUpdateList();\n  };\n\n  _onStartDraggingObject = ({ index }: { index: number }) => {\n    const { project, objectsContainer } = this.props;\n\n    const isInContainerObjectsList = index < this.containerObjectsList.length;\n    if (isInContainerObjectsList) {\n      this.props.onStartDraggingObject(objectsContainer.getObjectAt(index));\n    } else {\n      const projectIndex = index - this.containerObjectsList.length;\n\n      this.props.onStartDraggingObject(project.getObjectAt(projectIndex));\n    }\n  };\n\n  _setAsGlobalObject = (objectWithContext: ObjectWithContext) => {\n    const { object } = objectWithContext;\n    const { project, objectsContainer } = this.props;\n\n    const objectName = object.getName();\n    if (!objectsContainer.hasObjectNamed(objectName)) return;\n\n    if (project.hasObjectNamed(objectName)) {\n      showWarningBox(\n        'A global object with this name already exists. Please change the object name before setting it as a global object'\n      );\n      return;\n    }\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"This object will be loaded and available in all the scenes. This is only recommended for objects that you reuse a lot and can't be undone. Make this object global?\"\n    );\n    if (!answer) return;\n\n    project.insertObject(\n      objectsContainer.getObject(objectName),\n      project.getObjectsCount()\n    );\n    objectsContainer.removeObject(objectName);\n\n    this.forceUpdateList();\n  };\n\n  forceUpdateList = () => {\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  render() {\n    const { project, objectsContainer } = this.props;\n    const { searchText } = this.state;\n\n    const lists = enumerateObjects(project, objectsContainer);\n    this.containerObjectsList = filterObjectsList(\n      lists.containerObjectsList,\n      searchText\n    );\n    this.projectObjectsList = filterObjectsList(\n      lists.projectObjectsList,\n      searchText\n    );\n    const allObjectsList = filterObjectsList(lists.allObjectsList, searchText);\n    const fullList = allObjectsList.concat({\n      key: 'add-objects-row',\n      object: null,\n    });\n\n    // Force List component to be mounted again if project or objectsContainer\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = project.ptr + ';' + objectsContainer.ptr;\n\n    return (\n      <Background>\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableObjectsList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={fullList}\n                project={project}\n                width={width}\n                height={height}\n                renamedObjectWithScope={this.state.renamedObjectWithScope}\n                getThumbnail={this.props.getThumbnail}\n                selectedObjectNames={this.props.selectedObjectNames}\n                onObjectSelected={this.props.onObjectSelected}\n                onEditObject={this.props.onEditObject}\n                onCopyObject={this._copyObject}\n                onCutObject={this._cutObject}\n                onDuplicateObject={this._duplicateObject}\n                onSetAsGlobalObject={this._setAsGlobalObject}\n                onPasteObject={this._pasteAndRename}\n                onAddNewObject={() =>\n                  this.setState({ newObjectDialogOpen: true })\n                }\n                onEditName={this._editName}\n                onEditVariables={this._editVariables}\n                onDelete={this._deleteObject}\n                onRename={this._rename}\n                onSortStart={this._onStartDraggingObject}\n                onSortEnd={({ oldIndex, newIndex }) => {\n                  this.props.onEndDraggingObject();\n                  this._move(oldIndex, newIndex);\n                }}\n                helperClass=\"sortable-helper\"\n                distance={20}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n        {this.state.newObjectDialogOpen && (\n          <NewObjectDialog\n            open={this.state.newObjectDialogOpen}\n            onClose={() => this.setState({ newObjectDialogOpen: false })}\n            onChoose={this.addObject}\n            project={project}\n          />\n        )}\n        {this.state.variablesEditedObject && (\n          <VariablesEditorDialog\n            open={!!this.state.variablesEditedObject}\n            variablesContainer={\n              this.state.variablesEditedObject &&\n              this.state.variablesEditedObject.getVariables()\n            }\n            onCancel={() => this._editVariables(null)}\n            onApply={() => this._editVariables(null)}\n            title=\"Object Variables\"\n            emptyExplanationMessage=\"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it.\"\n            emptyExplanationSecondMessage=\"For example, you can have a variable called Life representing the health of the object.\"\n          />\n        )}\n      </Background>\n    );\n  }\n}\n","//TODO: Factor with styles.js from PointsEditor.\nexport default {\n  handleColumn: {\n    width: 24,\n    paddingLeft: 8,\n    paddingRight: 0,\n  },\n  visibleColumn: {\n    width: 48,\n  },\n  toolColumn: {\n    width: 48,\n  },\n};\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport Checkbox from 'material-ui/Checkbox';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport TextField from 'material-ui/TextField';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport DragHandle from '../UI/DragHandle';\nimport styles from './styles';\n\nconst ThemableLayerRow = ({\n  layerName,\n  nameError,\n  onBlur,\n  onRemove,\n  isVisible,\n  onChangeVisibility,\n  muiTheme,\n}) => (\n  <TableRow\n    style={{\n      backgroundColor: muiTheme.list.itemsBackgroundColor,\n    }}\n  >\n    <TableRowColumn style={styles.handleColumn}>\n      <DragHandle />\n    </TableRowColumn>\n    <TableRowColumn>\n      <TextField\n        defaultValue={layerName || 'Base layer'}\n        id={layerName}\n        errorText={nameError ? 'This name is already taken' : undefined}\n        disabled={!layerName}\n        onBlur={onBlur}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.visibleColumn}>\n      <Checkbox\n        checked={isVisible}\n        checkedIcon={<Visibility />}\n        uncheckedIcon={<VisibilityOff />}\n        onCheck={onChangeVisibility}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onRemove}>\n        <Delete />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nconst LayerRow = muiThemeable()(ThemableLayerRow);\nexport default LayerRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport Add from 'material-ui/svg-icons/content/add';\nimport IconButton from 'material-ui/IconButton';\nimport styles from './styles';\n\nconst AddLayerRow = ({ onAdd }) => (\n  <TableRow key=\"add-row\">\n    <TableRowColumn style={styles.handleColumn} />\n    <TableRowColumn />\n    <TableRowColumn style={styles.visibleColumn} />\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nexport default AddLayerRow;\n","import React, { Component } from 'react';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport { mapReverseFor } from '../Utils/MapFor';\nimport styles from './styles';\nimport LayerRow from './LayerRow';\nimport AddLayerRow from './AddLayerRow';\n\nconst SortableAddLayerRow = SortableElement(AddLayerRow);\nconst SortableLayerRow = SortableElement(LayerRow);\n\nclass LayersListBody extends Component {\n  constructor() {\n    super();\n    this.state = {\n      nameErrors: {},\n    };\n  }\n\n  render() {\n    const { layersContainer } = this.props;\n\n    const layersCount = layersContainer.getLayersCount();\n    const containerLayersList = mapReverseFor(0, layersCount, i => {\n      const layer = layersContainer.getLayerAt(i);\n      const layerName = layer.getName();\n\n      return (\n        <SortableLayerRow\n          index={layersCount - 1 - i}\n          key={'layer-' + layerName}\n          layer={layer}\n          layerName={layerName}\n          nameError={this.state.nameErrors[layerName]}\n          onBlur={event => {\n            const newName = event.target.value;\n            if (layerName === newName) return;\n\n            let success = true;\n            if (layersContainer.hasLayerNamed(newName)) {\n              success = false;\n            } else {\n              this.props.onRenameLayer(layerName, newName, doRename => {\n                if (doRename)\n                  layersContainer.getLayer(layerName).setName(newName);\n              });\n            }\n\n            this.setState({\n              nameErrors: {\n                ...this.state.nameErrors,\n                [layerName]: !success,\n              },\n            });\n          }}\n          onRemove={() => {\n            this.props.onRemoveLayer(layerName, doRemove => {\n              if (!doRemove) return;\n\n              layersContainer.removeLayer(layerName);\n              this.forceUpdate();\n            });\n          }}\n          isVisible={layer.getVisibility()}\n          onChangeVisibility={(e, visible) => {\n            layer.setVisibility(visible);\n            this.forceUpdate();\n          }}\n        />\n      );\n    });\n\n    const addRow = (\n      <SortableAddLayerRow\n        index={layersContainer.getLayersCount()}\n        key={'add-layer-row'}\n        disabled\n        onAdd={() => {\n          const name = newNameGenerator('Layer', name =>\n            layersContainer.hasLayerNamed(name)\n          );\n          layersContainer.insertNewLayer(\n            name,\n            layersContainer.getLayersCount()\n          );\n          this.forceUpdate();\n        }}\n      />\n    );\n\n    return (\n      <TableBody\n        displayRowCheckbox={false}\n        deselectOnClickaway={true}\n        showRowHover={true}\n      >\n        {containerLayersList.concat(addRow)}\n      </TableBody>\n    );\n  }\n}\n\nconst SortableLayersListBody = SortableContainer(LayersListBody);\nSortableLayersListBody.muiName = 'TableBody';\n\nexport default class LayersList extends Component {\n  shouldComponentUpdate(nextProps) {\n    // Rendering the component can be costly as it iterates over\n    // every layers, so the prop freezeUpdate allow to ask the component to stop\n    // updating, for example when hidden.\n    return !nextProps.freezeUpdate;\n  }\n\n  render() {\n    // Force the list to be mounted again if layersContainer\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = this.props.layersContainer.ptr;\n\n    return (\n      <Table selectable={false}>\n        <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n          <TableRow>\n            <TableHeaderColumn style={styles.handleColumn} />\n            <TableHeaderColumn>Layer name</TableHeaderColumn>\n            <TableHeaderColumn style={styles.visibleColumn}>\n              Visible\n            </TableHeaderColumn>\n            <TableRowColumn style={styles.toolColumn} />\n          </TableRow>\n        </TableHeader>\n        <SortableLayersListBody\n          key={listKey}\n          layersContainer={this.props.layersContainer}\n          onRemoveLayer={this.props.onRemoveLayer}\n          onRenameLayer={this.props.onRenameLayer}\n          onSortEnd={({ oldIndex, newIndex }) => {\n            const layersCount = this.props.layersContainer.getLayersCount();\n            this.props.layersContainer.moveLayer(\n              layersCount - 1 - oldIndex,\n              layersCount - 1 - newIndex\n            );\n            this.forceUpdate();\n          }}\n          helperClass=\"sortable-helper\"\n          useDragHandle\n          lockToContainerEdges\n        />\n      </Table>\n    );\n  }\n}\n\nLayersList.defaultProps = {\n  onRemoveLayer: (layerName, cb) => cb(true),\n  onRenameLayer: (oldName, newName, cb) => cb(true),\n};\n","// @flow\nimport * as React from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst styles = {\n  logo: {\n    width: '100%',\n  },\n};\n\nconst ThemableGDevelopLogo = ({ muiTheme }) => (\n  <img src={muiTheme.logo.src} alt=\"\" style={styles.logo} />\n);\n\nconst GDevelopLogo = muiThemeable()(ThemableGDevelopLogo);\nexport default GDevelopLogo;\n","// @flow\nimport * as React from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst styles = {\n  scrollContainer: {\n    flex: 1,\n    display: 'flex',\n    overflowY: 'scroll',\n  },\n};\n\nconst ThemableScrollBackground = ({ muiTheme, children }) => (\n  <div\n    style={{\n      ...styles.scrollContainer,\n      backgroundColor: muiTheme.palette.canvasColor,\n    }}\n  >\n    {children}\n  </div>\n);\n\nconst ScrollBackground = muiThemeable()(ThemableScrollBackground);\nexport default ScrollBackground;\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\n\nimport React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Paper from 'material-ui/Paper';\nimport IconButton from 'material-ui/IconButton';\nimport Language from 'material-ui/svg-icons/action/language';\nimport BaseEditor from '../BaseEditor';\nimport Window from '../../../Utils/Window';\nimport { Line } from '../../../UI/Grid';\nimport GDevelopLogo from './GDevelopLogo';\nimport ScrollBackground from './ScrollBackground';\nimport RaisedButton from 'material-ui/RaisedButton';\n\nconst styles = {\n  innerContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    minHeight: 350,\n  },\n  centerContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    maxWidth: 400,\n  },\n  logoPaper: {\n    margin: 10,\n    padding: 5,\n    width: '100%',\n    textAlign: 'center',\n  },\n  buttonsPaper: {\n    width: '100%',\n  },\n};\n\nclass StartPage extends BaseEditor {\n  constructor() {\n    super();\n\n    this.state = {\n      aboutDialogOpen: false,\n    };\n  }\n\n  getProject() {\n    return undefined;\n  }\n\n  updateToolbar() {\n    if (this.props.setToolbar) this.props.setToolbar(null);\n  }\n\n  render() {\n    const {\n      project,\n      canOpen,\n      onOpen,\n      onCreate,\n      onOpenProjectManager,\n      onCloseProject,\n      onOpenAboutDialog,\n      onOpenHelpFinder,\n      onOpenLanguageDialog,\n    } = this.props;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <ScrollBackground>\n            <div style={styles.innerContainer}>\n              <Line expand justifyContent=\"center\">\n                <div style={styles.centerContainer}>\n                  <Paper\n                    zDepth={1}\n                    style={{\n                      ...styles.logoPaper,\n                    }}\n                  >\n                    <GDevelopLogo />\n                    <p>\n                      <Trans>\n                        GDevelop is an easy-to-use game creator with no\n                        programming language to learn.\n                      </Trans>\n                    </p>\n                  </Paper>\n                  {!project && canOpen && (\n                    <RaisedButton\n                      label={<Trans>Open a project</Trans>}\n                      fullWidth\n                      onClick={onOpen}\n                      primary\n                    />\n                  )}\n                  {!project && (\n                    <RaisedButton\n                      label={<Trans>Create a new project</Trans>}\n                      fullWidth\n                      onClick={onCreate}\n                      primary\n                    />\n                  )}\n                  {!!project && (\n                    <RaisedButton\n                      label={<Trans>Open Project Manager</Trans>}\n                      fullWidth\n                      onClick={onOpenProjectManager}\n                      primary\n                    />\n                  )}\n                  {!!project && (\n                    <FlatButton\n                      label={<Trans>Close project</Trans>}\n                      fullWidth\n                      onClick={onCloseProject}\n                    />\n                  )}\n                  {\n                    <FlatButton\n                      label={<Trans>Search the documentation</Trans>}\n                      fullWidth\n                      onClick={onOpenHelpFinder}\n                    />\n                  }\n                </div>\n              </Line>\n              <Line alignItems=\"center\" justifyContent=\"space-between\">\n                <Line>\n                  <FlatButton\n                    label={<Trans>About GDevelop</Trans>}\n                    onClick={onOpenAboutDialog}\n                  />\n                  <FlatButton\n                    label={<Trans>GDevelop Forums</Trans>}\n                    onClick={() =>\n                      Window.openExternalURL('https://forum.gdevelop-app.com')\n                    }\n                  />\n                  <FlatButton\n                    label={<Trans>Help and tutorials</Trans>}\n                    onClick={() =>\n                      Window.openExternalURL(\n                        'http://wiki.compilgames.net/doku.php/gdevelop5/start'\n                      )\n                    }\n                  />\n                </Line>\n                <Line alignItems=\"center\">\n                  <FlatButton\n                    label={i18n.language}\n                    onClick={onOpenLanguageDialog}\n                    icon={<Language />}\n                  />\n                  <IconButton\n                    iconClassName=\"icon-facebook\"\n                    onClick={() =>\n                      Window.openExternalURL(\n                        'https://www.facebook.com/GDevelopApp'\n                      )\n                    }\n                  />\n                  <IconButton\n                    iconClassName=\"icon-twitter\"\n                    onClick={() =>\n                      Window.openExternalURL('https://twitter.com/GDevelopApp')\n                    }\n                  />\n                </Line>\n              </Line>\n            </div>\n          </ScrollBackground>\n        )}\n      </I18n>\n    );\n  }\n}\n\nexport default StartPage;\n","// @flow\nimport React, { Component } from 'react';\nimport InstructionOrExpressionSelector from './index';\nimport { createTree, type InstructionOrExpressionTreeNode } from './CreateTree';\nimport { enumerateInstructions } from './EnumerateInstructions';\nimport { type InstructionOrExpressionInformation } from './InstructionOrExpressionInformation.flow.js';\n\ntype Props = {\n  isCondition: boolean,\n  // And props from InstructionOrExpressionSelector\n};\n\nexport default class InstructionSelector extends Component<Props, {||}> {\n  instructionsInfo: Array<InstructionOrExpressionInformation> = [];\n  instructionsInfoTree: ?InstructionOrExpressionTreeNode = null;\n\n  componentWillMount() {\n    const allInstructions = enumerateInstructions(this.props.isCondition);\n    this.instructionsInfo = allInstructions;\n    this.instructionsInfoTree = createTree(allInstructions);\n  }\n\n  render() {\n    return (\n      <InstructionOrExpressionSelector\n        instructionsInfo={this.instructionsInfo}\n        instructionsInfoTree={this.instructionsInfoTree}\n        iconSize={24}\n        {...this.props}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\nimport InstructionSelector from './InstructionOrExpressionSelector/InstructionSelector.js';\nimport InstructionParametersEditor from './InstructionParametersEditor.js';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../ResourcesList/ResourceExternalEditor.flow';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n  },\n  typeSelector: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n  parametersEditor: {\n    flex: 2,\n    display: 'flex',\n    paddingLeft: 16,\n    paddingRight: 16,\n    zIndex: 1, // Put the Paper shadow on the type selector\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  layout: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  instruction: gdInstruction,\n  isCondition: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  style?: Object,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n|};\ntype State = {||};\n\nexport default class InstructionEditor extends React.Component<Props, State> {\n  _instructionParametersEditor: ?InstructionParametersEditor;\n\n  chooseType = (type: string) => {\n    const { instruction } = this.props;\n    instruction.setType(type);\n    this.forceUpdate(() => {\n      if (this._instructionParametersEditor) {\n        this._instructionParametersEditor.focus();\n      }\n    });\n  };\n\n  render() {\n    const {\n      instruction,\n      isCondition,\n      project,\n      layout,\n      globalObjectsContainer,\n      objectsContainer,\n    } = this.props;\n\n    return (\n      <div style={styles.container}>\n        <InstructionSelector\n          style={styles.typeSelector}\n          isCondition={isCondition}\n          selectedType={instruction.getType()}\n          onChoose={this.chooseType}\n          focusOnMount={!instruction.getType()}\n        />\n        <Paper style={styles.parametersEditor} rounded={false} zDepth={2}>\n          <InstructionParametersEditor\n            project={project}\n            layout={layout}\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            isCondition={isCondition}\n            instruction={instruction}\n            resourceSources={this.props.resourceSources}\n            onChooseResource={this.props.onChooseResource}\n            resourceExternalEditors={this.props.resourceExternalEditors}\n            openInstructionOrExpression={this.props.openInstructionOrExpression}\n            ref={instructionParametersEditor =>\n              (this._instructionParametersEditor = instructionParametersEditor)\n            }\n            focusOnMount={instruction.getType()}\n          />\n        </Paper>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport InstructionEditor from './index.js';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../ResourcesList/ResourceExternalEditor.flow';\n\nconst styles = {\n  dialogContent: {\n    width: '100%',\n    maxWidth: 'none',\n  },\n  dialogBody: {\n    padding: 0,\n    display: 'flex',\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  layout: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  instruction: gdInstruction,\n  isCondition: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  style?: Object,\n  isNewInstruction: boolean,\n  onCancel: () => void,\n  onSubmit: () => void,\n  open: boolean,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n|};\ntype State = {||};\n\nexport default class InstructionEditorDialog extends React.Component<\n  Props,\n  State\n> {\n  _getTitle() {\n    if (this.props.isCondition) {\n      return this.props.isNewInstruction\n        ? 'Add a new condition'\n        : 'Edit condition';\n    } else {\n      return this.props.isNewInstruction ? 'Add a new action' : 'Edit action';\n    }\n  }\n\n  render() {\n    const {\n      isNewInstruction,\n      onCancel,\n      onSubmit,\n      open,\n      ...otherProps\n    } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={onCancel}\n      />,\n      <FlatButton\n        label={<Trans>Ok</Trans>}\n        primary={true}\n        keyboardFocused={false}\n        onClick={onSubmit}\n      />,\n    ];\n\n    return (\n      <Dialog\n        actions={actions}\n        open={open}\n        onRequestClose={onCancel}\n        contentStyle={styles.dialogContent}\n        bodyStyle={styles.dialogBody}\n      >\n        <InstructionEditor {...otherProps} />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport PreferencesContext, {\n  type AlertMessageIdentifier,\n} from '../MainFrame/Preferences/PreferencesContext';\nimport AlertMessage from './AlertMessage';\n\ntype Props = {|\n  kind: 'info' | 'warning',\n  children: React.Node,\n  identifier: AlertMessageIdentifier,\n|};\n\n/**\n * Show an alert that can be permanently hidden. Hidden messages\n * will be stored in preferences.\n */\nconst DismissableAlertMessage = ({ identifier, kind, children }: Props) => (\n  <PreferencesContext.Consumer>\n    {({ values, showAlertMessage }) =>\n      !values.hiddenAlertMessages[identifier] && (\n        <AlertMessage\n          kind={kind}\n          children={children}\n          onHide={() => {\n            //eslint-disable-next-line\n            const answer = confirm(\n              \"Are you sure you want to hide this hint? You won't see it again, unless you re-activate it from the preferences.\"\n            );\n\n            if (!answer) return;\n\n            showAlertMessage(identifier, false);\n          }}\n        />\n      )\n    }\n  </PreferencesContext.Consumer>\n);\n\nexport default DismissableAlertMessage;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Checkbox from 'material-ui/Checkbox';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport Dialog from '../UI/Dialog';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport SubscriptionChecker from '../Profile/SubscriptionChecker';\nimport { getErrors, displayProjectErrorsBox } from './ProjectErrorsChecker';\nimport DismissableAlertMessage from '../UI/DismissableAlertMessage';\n\ntype Props = {|\n  project: gdProject,\n  open: boolean,\n  onClose: Function,\n  onApply: Function,\n  onChangeSubscription: () => void,\n|};\n\ntype State = {|\n  windowDefaultWidth: number,\n  windowDefaultHeight: number,\n  name: string,\n  author: string,\n  version: string,\n  packageName: string,\n  orientation: string,\n  adMobAppId: string,\n  scaleMode: 'linear' | 'nearest',\n  sizeOnStartupMode: string,\n  showGDevelopSplash: boolean,\n|};\n\nclass ProjectPropertiesDialog extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = this._loadFrom(props.project);\n  }\n\n  _subscriptionChecker: ?SubscriptionChecker = null;\n\n  _loadFrom(project: gdProject): State {\n    return {\n      windowDefaultWidth: project.getMainWindowDefaultWidth(),\n      windowDefaultHeight: project.getMainWindowDefaultHeight(),\n      name: project.getName(),\n      author: project.getAuthor(),\n      version: project.getVersion(),\n      packageName: project.getPackageName(),\n      orientation: project.getOrientation(),\n      adMobAppId: project.getAdMobAppId(),\n      scaleMode: project.getScaleMode(),\n      sizeOnStartupMode: project.getSizeOnStartupMode(),\n      showGDevelopSplash: project.getLoadingScreen().isGDevelopSplashShown(),\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.project !== newProps.project)\n    ) {\n      this.setState(this._loadFrom(newProps.project));\n    }\n  }\n\n  _onApply = () => {\n    const t = str => str; //TODO\n    const { project } = this.props;\n    const {\n      windowDefaultWidth,\n      windowDefaultHeight,\n      name,\n      author,\n      version,\n      packageName,\n      orientation,\n      adMobAppId,\n      scaleMode,\n      sizeOnStartupMode,\n      showGDevelopSplash,\n    } = this.state;\n    project.setDefaultWidth(windowDefaultWidth);\n    project.setDefaultHeight(windowDefaultHeight);\n    project.setName(name);\n    project.setAuthor(author);\n    project.setVersion(version);\n    project.setPackageName(packageName);\n    project.setOrientation(orientation);\n    project.setAdMobAppId(adMobAppId);\n    project.setScaleMode(scaleMode);\n    project.setSizeOnStartupMode(sizeOnStartupMode);\n    project.getLoadingScreen().showGDevelopSplash(showGDevelopSplash);\n\n    if (!displayProjectErrorsBox(t, getErrors(t, project))) return;\n\n    this.props.onApply();\n  };\n\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={this.props.onClose}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={this._onApply}\n      />,\n    ];\n    const {\n      name,\n      windowDefaultWidth,\n      windowDefaultHeight,\n      author,\n      version,\n      packageName,\n      orientation,\n      adMobAppId,\n      scaleMode,\n      sizeOnStartupMode,\n      showGDevelopSplash,\n    } = this.state;\n\n    const defaultPackageName = 'com.example.mygame';\n    const admobHint = 'ca-app-pub-XXXXXXXXXXXXXXXX/YYYYYYYYYY';\n    const defaultVersion = '1.0.0';\n\n    return (\n      <React.Fragment>\n        <Dialog\n          actions={actions}\n          open={this.props.open}\n          onRequestClose={this.props.onClose}\n          autoScrollBodyContent={true}\n        >\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Game name</Trans>}\n            fullWidth\n            type=\"text\"\n            value={name}\n            onChange={value => this.setState({ name: value })}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Game's window width</Trans>}\n            fullWidth\n            type=\"number\"\n            value={'' + windowDefaultWidth}\n            onChange={value =>\n              this.setState({\n                windowDefaultWidth: Math.max(0, parseInt(value, 10)),\n              })\n            }\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Game's window height</Trans>}\n            fullWidth\n            type=\"number\"\n            value={'' + windowDefaultHeight}\n            onChange={value =>\n              this.setState({\n                windowDefaultHeight: Math.max(0, parseInt(value, 10)),\n              })\n            }\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Author name</Trans>}\n            fullWidth\n            hintText={<Trans>Your name</Trans>}\n            type=\"text\"\n            value={author}\n            onChange={value => this.setState({ author: value })}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Version number (X.Y.Z)</Trans>}\n            fullWidth\n            hintText={defaultVersion}\n            type=\"text\"\n            value={version}\n            onChange={value => this.setState({ version: value })}\n          />\n          <SemiControlledTextField\n            floatingLabelText={\n              <Trans>Package name (for iOS and Android)</Trans>\n            }\n            fullWidth\n            hintText={defaultPackageName}\n            type=\"text\"\n            value={packageName}\n            onChange={value => this.setState({ packageName: value })}\n          />\n          <SelectField\n            fullWidth\n            floatingLabelText={\n              <Trans>Device orientation (for iOS and Android)</Trans>\n            }\n            value={orientation}\n            onChange={(e, i, value) => this.setState({ orientation: value })}\n          >\n            <MenuItem\n              value=\"default\"\n              primaryText={<Trans>Platform default</Trans>}\n            />\n            <MenuItem\n              value=\"landscape\"\n              primaryText={<Trans>Landscape</Trans>}\n            />\n            <MenuItem value=\"portrait\" primaryText={<Trans>Portrait</Trans>} />\n          </SelectField>\n          <SelectField\n            fullWidth\n            floatingLabelText={\n              <Trans>Scale mode (also called \"Sampling\")</Trans>\n            }\n            floatingLabelFixed\n            value={scaleMode}\n            onChange={(e, i, value) => this.setState({ scaleMode: value })}\n          >\n            <MenuItem\n              value=\"linear\"\n              primaryText={\n                <Trans>\n                  Linear (antialiased rendering, good for most games)\n                </Trans>\n              }\n            />\n            <MenuItem\n              value=\"nearest\"\n              primaryText={\n                <Trans>\n                  Nearest (no antialiasing, good for pixel perfect games)\n                </Trans>\n              }\n            />\n          </SelectField>\n          {scaleMode === 'nearest' && (\n            <DismissableAlertMessage\n              identifier=\"use-non-smoothed-textures\"\n              kind=\"info\"\n            >\n              To obtain the best pixel-perfect effect possible, go in the\n              resources editor and disable the Smoothing for all images of your\n              game.\n            </DismissableAlertMessage>\n          )}\n          <SelectField\n            fullWidth\n            floatingLabelText={<Trans>Fullscreen/game size mode</Trans>}\n            floatingLabelFixed\n            value={sizeOnStartupMode}\n            onChange={(e, i, value) =>\n              this.setState({ sizeOnStartupMode: value })\n            }\n          >\n            <MenuItem\n              value=\"\"\n              primaryText={<Trans>No changes to the game size</Trans>}\n            />\n            <MenuItem\n              value=\"adaptWidth\"\n              primaryText={<Trans>Change width to fit the screen</Trans>}\n            />\n            <MenuItem\n              value=\"adaptHeight\"\n              primaryText={<Trans>Change height to fit the screen</Trans>}\n            />\n          </SelectField>\n          <SemiControlledTextField\n            floatingLabelText={\n              <Trans>AdMob application ID (for iOS and Android)</Trans>\n            }\n            fullWidth\n            hintText={admobHint}\n            type=\"text\"\n            value={adMobAppId}\n            onChange={value => this.setState({ adMobAppId: value })}\n          />\n          <Checkbox\n            label={\n              <Trans>\n                Display GDevelop splash at startup (in exported game)\n              </Trans>\n            }\n            checked={showGDevelopSplash}\n            onCheck={(e, checked) => {\n              if (!checked) {\n                if (\n                  this._subscriptionChecker &&\n                  !this._subscriptionChecker.checkHasSubscription()\n                )\n                  return;\n              }\n\n              this.setState({\n                showGDevelopSplash: checked,\n              });\n            }}\n          />\n        </Dialog>\n        <SubscriptionChecker\n          ref={subscriptionChecker =>\n            (this._subscriptionChecker = subscriptionChecker)\n          }\n          onChangeSubscription={() => {\n            this.props.onClose();\n            this.props.onChangeSubscription();\n          }}\n          mode=\"mandatory\"\n          id=\"Disable GDevelop splash at startup\"\n          title={<Trans>Disable GDevelop splash at startup</Trans>}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ProjectPropertiesDialog;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport TextField from 'material-ui/TextField';\nimport SearchBar from 'material-ui-search-bar';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport RefreshIcon from 'material-ui/svg-icons/navigation/refresh';\nimport WarningIcon from 'material-ui/svg-icons/alert/warning';\nimport IconButton from 'material-ui/IconButton';\nimport ListIcon from '../UI/ListIcon';\nimport { makeAddItem } from '../UI/ListAddItem';\nimport Window from '../Utils/Window';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport VariablesEditorDialog from '../VariablesList/VariablesEditorDialog';\nimport ProjectPropertiesDialog from './ProjectPropertiesDialog';\nimport {\n  enumerateLayouts,\n  enumerateExternalEvents,\n  enumerateExternalLayouts,\n  enumerateEventsFunctionsExtensions,\n  filterProjectItemsList,\n} from './EnumerateProjectItems';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport ThemeConsumer from '../UI/Theme/ThemeConsumer';\n\nconst LAYOUT_CLIPBOARD_KIND = 'Layout';\nconst EXTERNAL_LAYOUT_CLIPBOARD_KIND = 'External layout';\nconst EXTERNAL_EVENTS_CLIPBOARD_KIND = 'External events';\nconst EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND = 'Events Functions Extension';\n\nconst styles = {\n  container: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  list: {\n    flex: 1,\n    overflowY: 'scroll',\n    padding: 0,\n  },\n  projectStructureItemNestedList: {\n    padding: 0,\n  },\n  itemName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  itemTextField: {\n    top: -16,\n  },\n};\n\ntype ProjectStructureItemProps = {|\n  autoGenerateNestedIndicator: boolean,\n  initiallyOpen: boolean,\n  leftIcon: React$Element<any>,\n  nestedItems: Array<React$Element<any>>,\n  primaryText: React.Node,\n  primaryTogglesNestedList: boolean,\n  error?: ?Error,\n  onRefresh?: () => void,\n  open?: boolean,\n|};\n\nconst ProjectStructureItem = ({\n  onRefresh,\n  ...props\n}: ProjectStructureItemProps) => (\n  <ThemeConsumer>\n    {muiTheme => (\n      <ListItem\n        style={{\n          backgroundColor: muiTheme.listItem.groupBackgroundColor,\n          borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n        }}\n        nestedListStyle={styles.projectStructureItemNestedList}\n        {...props}\n        leftIcon={props.error ? <WarningIcon /> : props.leftIcon}\n        rightIconButton={\n          props.error ? (\n            <IconButton\n              tooltip={`An error has occured in functions. Click to reload them.`}\n              tooltipPosition=\"bottom-left\"\n              onClick={onRefresh}\n            >\n              <RefreshIcon />\n            </IconButton>\n          ) : (\n            undefined\n          )\n        }\n      />\n    )}\n  </ThemeConsumer>\n);\n\ntype ItemProps = {|\n  primaryText: string,\n  editingName: boolean,\n  onEdit: () => void,\n  onDelete: () => void,\n  onRename: string => void,\n  onEditName: () => void,\n  onCopy: () => void,\n  onCut: () => void,\n  onPaste: () => void,\n  canPaste: () => boolean,\n  canMoveUp: boolean,\n  onMoveUp: () => void,\n  canMoveDown: boolean,\n  onMoveDown: () => void,\n  rightIconButton?: ?React.Node,\n  style?: ?Object,\n|};\n\nclass Item extends React.Component<ItemProps, {||}> {\n  textField: ?Object;\n  _iconMenu: ?Object;\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editingName && this.props.editingName) {\n      setTimeout(() => {\n        if (this.textField) this.textField.focus();\n      }, 100);\n    }\n  }\n\n  _onContextMenu = event => {\n    if (this._iconMenu) this._iconMenu.open(event);\n  };\n\n  render() {\n    const rightIconButton = this.props.rightIconButton || (\n      <IconMenu\n        ref={iconMenu => (this._iconMenu = iconMenu)}\n        iconButtonElement={\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        }\n        buildMenuTemplate={() => [\n          {\n            label: 'Edit',\n            click: () => this.props.onEdit(),\n          },\n          {\n            label: 'Rename',\n            click: () => this.props.onEditName(),\n          },\n          {\n            label: 'Delete',\n            click: () => this.props.onDelete(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Copy',\n            click: () => this.props.onCopy(),\n          },\n          {\n            label: 'Cut',\n            click: () => this.props.onCut(),\n          },\n          {\n            label: 'Paste',\n            enabled: this.props.canPaste(),\n            click: () => this.props.onPaste(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Move up',\n            enabled: this.props.canMoveUp,\n            click: () => this.props.onMoveUp(),\n          },\n          {\n            label: 'Move down',\n            enabled: this.props.canMoveDown,\n            click: () => this.props.onMoveDown(),\n          },\n        ]}\n      />\n    );\n    const label = this.props.editingName ? (\n      <TextField\n        id=\"rename-item-field\"\n        ref={textField => (this.textField = textField)}\n        defaultValue={this.props.primaryText}\n        onBlur={e => this.props.onRename(e.target.value)}\n        onKeyPress={event => {\n          if (event.charCode === 13) {\n            // enter key pressed\n            if (this.textField) this.textField.blur();\n          }\n        }}\n        fullWidth\n        style={styles.itemTextField}\n      />\n    ) : (\n      <div style={styles.itemName}>{this.props.primaryText}</div>\n    );\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <ListItem\n            style={{\n              borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n              ...this.props.style,\n            }}\n            onContextMenu={this._onContextMenu}\n            primaryText={label}\n            rightIconButton={rightIconButton}\n            onClick={() => {\n              // It's essential to discard clicks when editing the name,\n              // to avoid weird opening of an editor (accompanied with a\n              // closing of the project manager) when clicking on the text\n              // field.\n              if (!this.props.editingName) this.props.onEdit();\n            }}\n          />\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n\nconst AddItem = makeAddItem(ListItem);\n\ntype Props = {|\n  project: gdProject,\n  onDeleteLayout: gdLayout => void,\n  onDeleteExternalEvents: gdExternalEvents => void,\n  onDeleteExternalLayout: gdExternalLayout => void,\n  onDeleteEventsFunctionsExtension: gdEventsFunctionsExtension => void,\n  onRenameLayout: (string, string) => void,\n  onRenameExternalEvents: (string, string) => void,\n  onRenameExternalLayout: (string, string) => void,\n  onRenameEventsFunctionsExtension: (string, string) => void,\n  onOpenLayout: string => void,\n  onOpenExternalEvents: string => void,\n  onOpenExternalLayout: string => void,\n  onOpenEventsFunctionsExtension: string => void,\n  onSaveProject: () => void,\n  onCloseProject: () => void,\n  onExportProject: () => void,\n  onOpenPreferences: () => void,\n  onOpenResources: () => void,\n  onAddLayout: () => void,\n  onAddExternalEvents: () => void,\n  onAddExternalLayout: () => void,\n  onAddEventsFunctionsExtension: () => void,\n  onOpenPlatformSpecificAssets: () => void,\n  onChangeSubscription: () => void,\n  eventsFunctionsExtensionsError: ?Error,\n  onReloadEventsFunctionsExtensions: () => void,\n  freezeUpdate: boolean,\n|};\n\ntype State = {|\n  renamedItemKind: ?string,\n  renamedItemName: string,\n  searchText: string,\n  projectPropertiesDialogOpen: boolean,\n  variablesEditorOpen: boolean,\n|};\n\nexport default class ProjectManager extends React.Component<Props, State> {\n  _searchBar: ?SearchBar;\n\n  state = {\n    renamedItemKind: null,\n    renamedItemName: '',\n    searchText: '',\n    projectPropertiesDialogOpen: false,\n    variablesEditorOpen: false,\n  };\n\n  shouldComponentUpdate(nextProps: Props) {\n    // Rendering the component is (super) costly (~20ms) as it iterates over\n    // every project layouts/external layouts/external events,\n    // so the prop freezeUpdate allow to ask the component to stop\n    // updating, for example when hidden.\n    return !nextProps.freezeUpdate;\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    // Typical usage (don't forget to compare props):\n    if (!this.props.freezeUpdate && prevProps.freezeUpdate) {\n      if (this._searchBar) this._searchBar.focus();\n    }\n  }\n\n  _onEditName = (kind: ?string, name: string) => {\n    this.setState({\n      renamedItemKind: kind,\n      renamedItemName: name,\n    });\n  };\n\n  _copyLayout = (layout: gdLayout) => {\n    Clipboard.set(LAYOUT_CLIPBOARD_KIND, {\n      layout: serializeToJSObject(layout),\n      name: layout.getName(),\n    });\n  };\n\n  _cutLayout = (layout: gdLayout) => {\n    this._copyLayout(layout);\n    this.props.onDeleteLayout(layout);\n  };\n\n  _pasteLayout = (index: number) => {\n    if (!Clipboard.has(LAYOUT_CLIPBOARD_KIND)) return;\n\n    const { layout: copiedLayout, name } = Clipboard.get(LAYOUT_CLIPBOARD_KIND);\n    const { project } = this.props;\n\n    const newName = newNameGenerator('CopyOf' + name, name =>\n      project.hasLayoutNamed(name)\n    );\n\n    const newLayout = project.insertNewLayout(newName, index);\n\n    unserializeFromJSObject(\n      newLayout,\n      copiedLayout,\n      'unserializeFrom',\n      project\n    );\n    newLayout.setName(newName);\n    newLayout.updateBehaviorsSharedData(project);\n\n    this.forceUpdate();\n  };\n\n  _moveUpLayout = (index: number) => {\n    const { project } = this.props;\n    if (index <= 0) return;\n\n    project.swapLayouts(index, index - 1);\n    this.forceUpdate();\n  };\n\n  _moveDownLayout = (index: number) => {\n    const { project } = this.props;\n    if (index >= project.getLayoutsCount() - 1) return;\n\n    project.swapLayouts(index, index + 1);\n    this.forceUpdate();\n  };\n\n  _copyExternalEvents = (externalEvents: gdExternalEvents) => {\n    Clipboard.set(EXTERNAL_EVENTS_CLIPBOARD_KIND, {\n      externalEvents: serializeToJSObject(externalEvents),\n      name: externalEvents.getName(),\n    });\n  };\n\n  _cutExternalEvents = (externalEvents: gdExternalEvents) => {\n    this._copyExternalEvents(externalEvents);\n    this.props.onDeleteExternalEvents(externalEvents);\n  };\n\n  _pasteExternalEvents = (index: number) => {\n    if (!Clipboard.has(EXTERNAL_EVENTS_CLIPBOARD_KIND)) return;\n\n    const { externalEvents: copiedExternalEvents, name } = Clipboard.get(\n      EXTERNAL_EVENTS_CLIPBOARD_KIND\n    );\n    const { project } = this.props;\n\n    const newName = newNameGenerator('CopyOf' + name, name =>\n      project.hasExternalEventsNamed(name)\n    );\n\n    const newExternalEvents = project.insertNewExternalEvents(newName, index);\n\n    unserializeFromJSObject(\n      newExternalEvents,\n      copiedExternalEvents,\n      'unserializeFrom',\n      project\n    );\n    newExternalEvents.setName(newName);\n\n    this.forceUpdate();\n  };\n\n  _moveUpExternalEvents = (index: number) => {\n    const { project } = this.props;\n    if (index <= 0) return;\n\n    project.swapExternalEvents(index, index - 1);\n    this.forceUpdate();\n  };\n\n  _moveDownExternalEvents = (index: number) => {\n    const { project } = this.props;\n    if (index >= project.getExternalEventsCount() - 1) return;\n\n    project.swapExternalEvents(index, index + 1);\n    this.forceUpdate();\n  };\n\n  _copyExternalLayout = (externalLayout: gdExternalLayout) => {\n    Clipboard.set(EXTERNAL_LAYOUT_CLIPBOARD_KIND, {\n      externalLayout: serializeToJSObject(externalLayout),\n      name: externalLayout.getName(),\n    });\n  };\n\n  _cutExternalLayout = (externalLayout: gdExternalLayout) => {\n    this._copyExternalLayout(externalLayout);\n    this.props.onDeleteExternalLayout(externalLayout);\n  };\n\n  _pasteExternalLayout = (index: number) => {\n    if (!Clipboard.has(EXTERNAL_LAYOUT_CLIPBOARD_KIND)) return;\n\n    const { externalLayout: copiedExternalLayout, name } = Clipboard.get(\n      EXTERNAL_LAYOUT_CLIPBOARD_KIND\n    );\n    const { project } = this.props;\n\n    const newName = newNameGenerator('CopyOf' + name, name =>\n      project.hasExternalLayoutNamed(name)\n    );\n\n    const newExternalLayout = project.insertNewExternalLayout(newName, index);\n\n    unserializeFromJSObject(newExternalLayout, copiedExternalLayout);\n    newExternalLayout.setName(newName);\n\n    this.forceUpdate();\n  };\n\n  _moveUpExternalLayout = (index: number) => {\n    const { project } = this.props;\n    if (index <= 0) return;\n\n    project.swapExternalLayouts(index, index - 1);\n    this.forceUpdate();\n  };\n\n  _moveDownExternalLayout = (index: number) => {\n    const { project } = this.props;\n    if (index >= project.getExternalLayoutsCount() - 1) return;\n\n    project.swapExternalLayouts(index, index + 1);\n    this.forceUpdate();\n  };\n\n  _copyEventsFunctionsExtension = (\n    externalLayout: gdEventsFunctionsExtension\n  ) => {\n    Clipboard.set(EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND, {\n      externalLayout: serializeToJSObject(externalLayout),\n      name: externalLayout.getName(),\n    });\n  };\n\n  _cutEventsFunctionsExtension = (\n    externalLayout: gdEventsFunctionsExtension\n  ) => {\n    this._copyEventsFunctionsExtension(externalLayout);\n    this.props.onDeleteEventsFunctionsExtension(externalLayout);\n  };\n\n  _pasteEventsFunctionsExtension = (index: number) => {\n    if (!Clipboard.has(EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND)) return;\n\n    const {\n      externalLayout: copiedEventsFunctionsExtension,\n      name,\n    } = Clipboard.get(EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND);\n    const { project } = this.props;\n\n    const newName = newNameGenerator('CopyOf' + name, name =>\n      project.hasEventsFunctionsExtensionNamed(name)\n    );\n\n    const newEventsFunctionsExtension = project.insertNewEventsFunctionsExtension(\n      newName,\n      index\n    );\n\n    unserializeFromJSObject(\n      newEventsFunctionsExtension,\n      copiedEventsFunctionsExtension\n    );\n    newEventsFunctionsExtension.setName(newName);\n\n    this.forceUpdate();\n  };\n\n  _moveUpEventsFunctionsExtension = (index: number) => {\n    const { project } = this.props;\n    if (index <= 0) return;\n\n    project.swapEventsFunctionsExtensions(index, index - 1);\n    this.forceUpdate();\n  };\n\n  _moveDownEventsFunctionsExtension = (index: number) => {\n    const { project } = this.props;\n    if (index >= project.getEventsFunctionsExtensionsCount() - 1) return;\n\n    project.swapEventsFunctionsExtensions(index, index + 1);\n    this.forceUpdate();\n  };\n\n  _renderMenu() {\n    // If there is already a main menu (as the native one made with\n    // Electron), don't show it in the Project Manager.\n    if (Window.hasMainMenu()) return null;\n\n    return (\n      <ProjectStructureItem\n        primaryText={<Trans>Menu</Trans>}\n        leftIcon={\n          <ListIcon\n            iconSize={32}\n            isGDevelopIcon\n            src=\"res/ribbon_default/new32.png\"\n          />\n        }\n        initiallyOpen={true}\n        primaryTogglesNestedList={true}\n        autoGenerateNestedIndicator={true}\n        nestedItems={[\n          <ListItem\n            key=\"save\"\n            primaryText={<Trans>Save</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/save32.png\"\n              />\n            }\n            onClick={() => this.props.onSaveProject()}\n          />,\n          <ListItem\n            key=\"close\"\n            primaryText={<Trans>Close</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/close32.png\"\n              />\n            }\n            onClick={() => this.props.onCloseProject()}\n          />,\n          <ListItem\n            key=\"export\"\n            primaryText={<Trans>Export</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/export32.png\"\n              />\n            }\n            onClick={() => this.props.onExportProject()}\n          />,\n          <ListItem\n            key=\"preferences\"\n            primaryText={<Trans>Preferences</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/pref32.png\"\n              />\n            }\n            onClick={() => this.props.onOpenPreferences()}\n          />,\n        ]}\n      />\n    );\n  }\n\n  render() {\n    const {\n      project,\n      eventsFunctionsExtensionsError,\n      onReloadEventsFunctionsExtensions,\n    } = this.props;\n    const { renamedItemKind, renamedItemName, searchText } = this.state;\n\n    const forceOpen = searchText !== '' ? true : undefined;\n\n    return (\n      <div style={styles.container}>\n        <List style={styles.list}>\n          {this._renderMenu()}\n          <ProjectStructureItem\n            primaryText={<Trans>Game settings</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/projectManager32.png\"\n              />\n            }\n            initiallyOpen={false}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={true}\n            nestedItems={[\n              <ListItem\n                key=\"properties\"\n                primaryText={<Trans>Properties</Trans>}\n                leftIcon={\n                  <ListIcon\n                    iconSize={32}\n                    isGDevelopIcon\n                    src=\"res/ribbon_default/editprop32.png\"\n                  />\n                }\n                onClick={() =>\n                  this.setState({ projectPropertiesDialogOpen: true })\n                }\n              />,\n              <ListItem\n                key=\"global-variables\"\n                primaryText={<Trans>Global variables</Trans>}\n                leftIcon={\n                  <ListIcon\n                    iconSize={32}\n                    isGDevelopIcon\n                    src=\"res/ribbon_default/editname32.png\"\n                  />\n                }\n                onClick={() => this.setState({ variablesEditorOpen: true })}\n              />,\n              <ListItem\n                key=\"icons\"\n                primaryText={<Trans>Icons</Trans>}\n                leftIcon={\n                  <ListIcon\n                    iconSize={32}\n                    isGDevelopIcon\n                    src=\"res/ribbon_default/image32.png\"\n                  />\n                }\n                onClick={() => this.props.onOpenPlatformSpecificAssets()}\n              />,\n              <ListItem\n                key=\"resources\"\n                primaryText={<Trans>Resources</Trans>}\n                leftIcon={\n                  <ListIcon\n                    iconSize={32}\n                    isGDevelopIcon\n                    src=\"res/ribbon_default/image32.png\"\n                  />\n                }\n                onClick={() => {\n                  this.props.onOpenResources();\n                }}\n              />,\n            ]}\n          />\n          <ProjectStructureItem\n            primaryText={<Trans>Scenes</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/sceneadd32.png\"\n              />\n            }\n            initiallyOpen={true}\n            open={forceOpen}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={!forceOpen}\n            nestedItems={filterProjectItemsList(\n              enumerateLayouts(project),\n              searchText\n            )\n              .map((layout: gdLayout, i: number) => {\n                const name = layout.getName();\n                return (\n                  <Item\n                    key={i}\n                    primaryText={name}\n                    editingName={\n                      renamedItemKind === 'layout' && renamedItemName === name\n                    }\n                    onEdit={() => this.props.onOpenLayout(name)}\n                    onDelete={() => this.props.onDeleteLayout(layout)}\n                    onRename={newName => {\n                      this.props.onRenameLayout(name, newName);\n                      this._onEditName(null, '');\n                    }}\n                    onEditName={() => this._onEditName('layout', name)}\n                    onCopy={() => this._copyLayout(layout)}\n                    onCut={() => this._cutLayout(layout)}\n                    onPaste={() => this._pasteLayout(i)}\n                    canPaste={() => Clipboard.has(LAYOUT_CLIPBOARD_KIND)}\n                    canMoveUp={i !== 0}\n                    onMoveUp={() => this._moveUpLayout(i)}\n                    canMoveDown={i !== project.getLayoutsCount() - 1}\n                    onMoveDown={() => this._moveDownLayout(i)}\n                  />\n                );\n              })\n              .concat(\n                <AddItem\n                  key={'add-scene'}\n                  onClick={this.props.onAddLayout}\n                  primaryText={<Trans>Click to add a scene</Trans>}\n                />\n              )}\n          />\n          <ProjectStructureItem\n            primaryText={<Trans>External events</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/externalevents32.png\"\n              />\n            }\n            initiallyOpen={false}\n            open={forceOpen}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={!forceOpen}\n            nestedItems={filterProjectItemsList(\n              enumerateExternalEvents(project),\n              searchText\n            )\n              .map((externalEvents, i) => {\n                const name = externalEvents.getName();\n                return (\n                  <Item\n                    key={i}\n                    primaryText={name}\n                    editingName={\n                      renamedItemKind === 'external-events' &&\n                      renamedItemName === name\n                    }\n                    onEdit={() => this.props.onOpenExternalEvents(name)}\n                    onDelete={() =>\n                      this.props.onDeleteExternalEvents(externalEvents)\n                    }\n                    onRename={newName => {\n                      this.props.onRenameExternalEvents(name, newName);\n                      this._onEditName(null, '');\n                    }}\n                    onEditName={() => this._onEditName('external-events', name)}\n                    onCopy={() => this._copyExternalEvents(externalEvents)}\n                    onCut={() => this._cutExternalEvents(externalEvents)}\n                    onPaste={() => this._pasteExternalEvents(i)}\n                    canPaste={() =>\n                      Clipboard.has(EXTERNAL_EVENTS_CLIPBOARD_KIND)\n                    }\n                    canMoveUp={i !== 0}\n                    onMoveUp={() => this._moveUpExternalEvents(i)}\n                    canMoveDown={i !== project.getExternalEventsCount() - 1}\n                    onMoveDown={() => this._moveDownExternalEvents(i)}\n                  />\n                );\n              })\n              .concat(\n                <AddItem\n                  key={'add-external-events'}\n                  primaryText={<Trans>Click to add external events</Trans>}\n                  onClick={this.props.onAddExternalEvents}\n                />\n              )}\n          />\n          <ProjectStructureItem\n            primaryText={<Trans>External layouts</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/externallayout32.png\"\n              />\n            }\n            initiallyOpen={false}\n            open={forceOpen}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={!forceOpen}\n            nestedItems={filterProjectItemsList(\n              enumerateExternalLayouts(project),\n              searchText\n            )\n              .map((externalLayout, i) => {\n                const name = externalLayout.getName();\n                return (\n                  <Item\n                    key={i}\n                    primaryText={name}\n                    editingName={\n                      renamedItemKind === 'external-layout' &&\n                      renamedItemName === name\n                    }\n                    onEdit={() => this.props.onOpenExternalLayout(name)}\n                    onDelete={() =>\n                      this.props.onDeleteExternalLayout(externalLayout)\n                    }\n                    onRename={newName => {\n                      this.props.onRenameExternalLayout(name, newName);\n                      this._onEditName(null, '');\n                    }}\n                    onEditName={() => this._onEditName('external-layout', name)}\n                    onCopy={() => this._copyExternalLayout(externalLayout)}\n                    onCut={() => this._cutExternalLayout(externalLayout)}\n                    onPaste={() => this._pasteExternalLayout(i)}\n                    canPaste={() =>\n                      Clipboard.has(EXTERNAL_LAYOUT_CLIPBOARD_KIND)\n                    }\n                    canMoveUp={i !== 0}\n                    onMoveUp={() => this._moveUpExternalLayout(i)}\n                    canMoveDown={i !== project.getExternalLayoutsCount() - 1}\n                    onMoveDown={() => this._moveDownExternalLayout(i)}\n                  />\n                );\n              })\n              .concat(\n                <AddItem\n                  key={'add-external-layout'}\n                  primaryText={<Trans>Click to add an external layout</Trans>}\n                  onClick={this.props.onAddExternalLayout}\n                />\n              )}\n          />\n          <ProjectStructureItem\n            primaryText={<Trans>Functions/Extensions</Trans>}\n            error={eventsFunctionsExtensionsError}\n            onRefresh={onReloadEventsFunctionsExtensions}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/function32.png\"\n              />\n            }\n            initiallyOpen={false}\n            open={forceOpen}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={\n              !forceOpen && !eventsFunctionsExtensionsError\n            }\n            nestedItems={filterProjectItemsList(\n              enumerateEventsFunctionsExtensions(project),\n              searchText\n            )\n              .map((eventsFunctionsExtension, i) => {\n                const name = eventsFunctionsExtension.getName();\n                return (\n                  <Item\n                    key={i}\n                    primaryText={name}\n                    editingName={\n                      renamedItemKind === 'events-functions-extension' &&\n                      renamedItemName === name\n                    }\n                    onEdit={() =>\n                      this.props.onOpenEventsFunctionsExtension(name)\n                    }\n                    onDelete={() =>\n                      this.props.onDeleteEventsFunctionsExtension(\n                        eventsFunctionsExtension\n                      )\n                    }\n                    onRename={newName => {\n                      this.props.onRenameEventsFunctionsExtension(\n                        name,\n                        newName\n                      );\n                      this._onEditName(null, '');\n                    }}\n                    onEditName={() =>\n                      this._onEditName('events-functions-extension', name)\n                    }\n                    onCopy={() =>\n                      this._copyEventsFunctionsExtension(\n                        eventsFunctionsExtension\n                      )\n                    }\n                    onCut={() =>\n                      this._cutEventsFunctionsExtension(\n                        eventsFunctionsExtension\n                      )\n                    }\n                    onPaste={() => this._pasteEventsFunctionsExtension(i)}\n                    canPaste={() =>\n                      Clipboard.has(EXTERNAL_LAYOUT_CLIPBOARD_KIND)\n                    }\n                    canMoveUp={i !== 0}\n                    onMoveUp={() => this._moveUpEventsFunctionsExtension(i)}\n                    canMoveDown={\n                      i !== project.getEventsFunctionsExtensionsCount() - 1\n                    }\n                    onMoveDown={() => this._moveDownEventsFunctionsExtension(i)}\n                  />\n                );\n              })\n              .concat(\n                <AddItem\n                  key={'add-events-functions-extension'}\n                  primaryText={<Trans>Click to add functions</Trans>}\n                  onClick={this.props.onAddEventsFunctionsExtension}\n                />\n              )}\n          />\n        </List>\n        <SearchBar\n          ref={searchBar => (this._searchBar = searchBar)}\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n        {this.state.variablesEditorOpen && (\n          <VariablesEditorDialog\n            open={this.state.variablesEditorOpen}\n            variablesContainer={project.getVariables()}\n            onCancel={() => this.setState({ variablesEditorOpen: false })}\n            onApply={() => this.setState({ variablesEditorOpen: false })}\n            emptyExplanationMessage=\"Global variables are variables that are shared amongst all the scenes of the game.\"\n            emptyExplanationSecondMessage=\"For example, you can have a variable called UnlockedLevelsCount representing the number of levels unlocked by the player.\"\n          />\n        )}\n        {this.state.projectPropertiesDialogOpen && (\n          <ProjectPropertiesDialog\n            open={this.state.projectPropertiesDialogOpen}\n            project={project}\n            onClose={() =>\n              this.setState({ projectPropertiesDialogOpen: false })\n            }\n            onApply={() =>\n              this.setState({ projectPropertiesDialogOpen: false })\n            }\n            onChangeSubscription={this.props.onChangeSubscription}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { AutoSizer } from 'react-virtualized';\nimport SortableVirtualizedItemList from '../UI/SortableVirtualizedItemList';\nimport SearchBar from 'material-ui-search-bar';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport Background from '../UI/Background';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport {\n  enumerateEventsFunctions,\n  filterEventFunctionsList,\n} from './EnumerateEventsFunctions';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Line } from '../UI/Grid';\nimport Divider from 'material-ui/Divider';\n\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\ntype State = {|\n  renamedEventsFunction: ?gdEventsFunction,\n  searchText: string,\n|};\n\ntype Props = {|\n  project: gdProject,\n  eventsFunctionsContainer: gdEventsFunctionsExtension,\n  selectedEventsFunction: ?gdEventsFunction,\n  onSelectEventsFunction: (eventsFunction: ?gdEventsFunction) => void,\n  onDeleteEventsFunction: (\n    eventsFunction: gdEventsFunction,\n    cb: (boolean) => void\n  ) => void,\n  onRenameEventsFunction: (\n    eventsFunction: gdEventsFunction,\n    newName: string,\n    cb: (boolean) => void\n  ) => void,\n  onEditOptions: () => void,\n|};\n\nexport default class EventsFunctionsList extends React.Component<Props, State> {\n  static defaultProps = {\n    onDeleteEventsFunction: (\n      eventsFunction: gdEventsFunction,\n      cb: boolean => void\n    ) => cb(true),\n    onRenameEventsFunction: (\n      eventsFunction: gdEventsFunction,\n      newName: string,\n      cb: boolean => void\n    ) => cb(true),\n  };\n\n  sortableList: any;\n  state: State = {\n    renamedEventsFunction: null,\n    searchText: '',\n  };\n\n  _deleteEventsFunction = (eventsFunction: gdEventsFunction) => {\n    const { eventsFunctionsContainer } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this function? This can't be undone.\"\n    );\n    if (!answer) return;\n\n    this.props.onDeleteEventsFunction(eventsFunction, doRemove => {\n      if (!doRemove) return;\n\n      eventsFunctionsContainer.removeEventsFunction(eventsFunction.getName());\n      this.forceUpdate();\n    });\n  };\n\n  _editName = (resource: ?gdEventsFunction) => {\n    this.setState(\n      {\n        renamedEventsFunction: resource,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _rename = (eventsFunction: gdEventsFunction, newName: string) => {\n    const { eventsFunctionsContainer } = this.props;\n    this.setState({\n      renamedEventsFunction: null,\n    });\n\n    if (eventsFunction.getName() === newName) return;\n\n    if (eventsFunctionsContainer.hasEventsFunctionNamed(newName)) {\n      showWarningBox('Another function with this name already exists.');\n      return;\n    }\n\n    this.props.onRenameEventsFunction(eventsFunction, newName, doRename => {\n      if (!doRename) return;\n      eventsFunction.setName(newName);\n      this.forceUpdate();\n    });\n  };\n\n  _move = (oldIndex: number, newIndex: number) => {\n    const { eventsFunctionsContainer } = this.props;\n    eventsFunctionsContainer.moveEventsFunction(oldIndex, newIndex);\n\n    this.forceUpdateList();\n  };\n\n  forceUpdateList = () => {\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  _renderEventsFunctionMenuTemplate = (resource: gdEventsFunction) => {\n    return [\n      {\n        label: 'Rename',\n        click: () => this._editName(resource),\n      },\n      {\n        label: 'Remove',\n        click: () => this._deleteEventsFunction(resource),\n      },\n    ];\n  };\n\n  _addNewEventsFunction = () => {\n    const { eventsFunctionsContainer } = this.props;\n\n    const name = newNameGenerator('Function', name =>\n      eventsFunctionsContainer.hasEventsFunctionNamed(name)\n    );\n    eventsFunctionsContainer.insertNewEventsFunction(\n      name,\n      eventsFunctionsContainer.getEventsFunctionsCount()\n    );\n    this.forceUpdate();\n  };\n\n  render() {\n    const {\n      project,\n      eventsFunctionsContainer,\n      selectedEventsFunction,\n      onSelectEventsFunction,\n    } = this.props;\n    const { searchText } = this.state;\n\n    const list = [\n      ...filterEventFunctionsList(\n        enumerateEventsFunctions(eventsFunctionsContainer),\n        searchText\n      ),\n      {\n        key: 'add-item-row',\n      },\n    ];\n\n    // Force List component to be mounted again if project or objectsContainer\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = project.ptr + ';' + eventsFunctionsContainer.ptr;\n\n    return (\n      <Background>\n        <Line justifyContent=\"center\">\n          <FlatButton\n            label={<Trans>Edit extension options</Trans>}\n            primary\n            onClick={() => this.props.onEditOptions()}\n          />\n        </Line>\n        <Divider />\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableVirtualizedItemList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={list}\n                width={width}\n                height={height}\n                onAddNewItem={this._addNewEventsFunction}\n                addNewItemLabel={<Trans>Add a new function</Trans>}\n                selectedItem={selectedEventsFunction}\n                onItemSelected={onSelectEventsFunction}\n                renamedItem={this.state.renamedEventsFunction}\n                onRename={this._rename}\n                onSortEnd={({ oldIndex, newIndex }) =>\n                  this._move(oldIndex, newIndex)\n                }\n                buildMenuTemplate={this._renderEventsFunctionMenuTemplate}\n                helperClass=\"sortable-helper\"\n                distance={20}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n      </Background>\n    );\n  }\n}\n","//@flow\nimport { mapFor } from '../Utils/MapFor';\n\nexport const enumerateEventsFunctions = (\n  eventsFunctionsContainer: gdEventsFunctionsExtension\n): Array<gdEventsFunction> =>\n  mapFor(0, eventsFunctionsContainer.getEventsFunctionsCount(), i =>\n    eventsFunctionsContainer.getEventsFunctionAt(i)\n  );\n\nexport const filterEventFunctionsList = (\n  list: Array<gdEventsFunction>,\n  searchText: string\n): Array<gdEventsFunction> => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter(\n    (item: any) =>\n      item\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n  );\n};\n","import React from 'react';\nimport { ListItem } from 'material-ui/List';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport IconButton from 'material-ui/IconButton';\nimport TextField from 'material-ui/TextField';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst styles = {\n  groupName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  textField: {\n    top: -16,\n  },\n};\n\nclass ThemableGroupRow extends React.Component {\n  _renderGroupMenu(group) {\n    return (\n      <IconMenu\n        ref={iconMenu => (this._iconMenu = iconMenu)}\n        iconButtonElement={\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        }\n        buildMenuTemplate={() => [\n          {\n            label: 'Edit group',\n            click: () => this.props.onEdit(group),\n          },\n          {\n            label: 'Rename',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onEditName(),\n          },\n          {\n            label: 'Delete',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onDelete(),\n          },\n        ]}\n      />\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editingName && this.props.editingName) {\n      setTimeout(() => {\n        if (this.textField) this.textField.focus();\n      }, 100);\n    }\n  }\n\n  _onContextMenu = event => {\n    if (this._iconMenu) this._iconMenu.open(event);\n  };\n\n  render() {\n    const { group, style, muiTheme, isGlobalGroup } = this.props;\n\n    const groupName = group.getName();\n    const label = this.props.editingName ? (\n      <TextField\n        id=\"rename-object-field\"\n        ref={textField => (this.textField = textField)}\n        defaultValue={groupName}\n        onBlur={e => this.props.onRename(e.target.value)}\n        onKeyPress={event => {\n          if (event.charCode === 13) {\n            // enter key pressed\n            this.textField.blur();\n          }\n        }}\n        fullWidth\n        style={styles.textField}\n      />\n    ) : (\n      <div\n        style={{\n          ...styles.groupName,\n          fontStyle: isGlobalGroup ? 'italic' : undefined,\n        }}\n      >\n        {groupName}\n      </div>\n    );\n\n    const itemStyle = {\n      borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n    };\n\n    return (\n      <ListItem\n        style={{ ...itemStyle, ...style }}\n        onContextMenu={this._onContextMenu}\n        primaryText={label}\n        rightIconButton={this._renderGroupMenu(group)}\n        onClick={() => {\n          this.props.onEdit(group);\n        }}\n      />\n    );\n  }\n}\n\nconst GroupRow = muiThemeable()(ThemableGroupRow);\nexport default GroupRow;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { AutoSizer, List } from 'react-virtualized';\nimport Background from '../UI/Background';\nimport SearchBar from 'material-ui-search-bar';\nimport GroupRow from './GroupRow';\nimport { ListItem } from 'material-ui/List';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { makeAddItem } from '../UI/ListAddItem';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport {\n  enumerateObjectsAndGroups,\n  filterGroupsList,\n} from '../ObjectsList/EnumerateObjects';\nimport type {\n  GroupWithContextList,\n  GroupWithContext,\n} from '../ObjectsList/EnumerateObjects';\n\nconst listItemHeight = 48;\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\nconst AddGroupRow = makeAddItem(ListItem);\n\nconst SortableGroupRow = SortableElement(props => {\n  const { style, ...otherProps } = props;\n  return (\n    <div style={style}>\n      <GroupRow {...otherProps} />\n    </div>\n  );\n});\n\nconst SortableAddGroupRow = SortableElement(props => {\n  return <AddGroupRow {...props} />;\n});\n\nclass GroupsList extends Component<*, *> {\n  list: any;\n\n  forceUpdateGrid() {\n    if (this.list) this.list.forceUpdateGrid();\n  }\n\n  render() {\n    let { height, width, fullList, project } = this.props;\n\n    return (\n      <List\n        ref={list => (this.list = list)}\n        height={height}\n        rowCount={fullList.length}\n        rowHeight={listItemHeight}\n        rowRenderer={({ index, key, style }) => {\n          const groupWithContext = fullList[index];\n          if (groupWithContext.key === 'add-groups-row') {\n            return (\n              <SortableAddGroupRow\n                index={fullList.length}\n                key={key}\n                style={style}\n                disabled\n                onClick={this.props.onAddGroup}\n                primaryText={<Trans>Click to add a group</Trans>}\n              />\n            );\n          }\n\n          const nameBeingEdited =\n            this.props.renamedGroupWithScope &&\n            this.props.renamedGroupWithScope.group === groupWithContext.group &&\n            this.props.renamedGroupWithScope.global === groupWithContext.global;\n\n          return (\n            <SortableGroupRow\n              index={index}\n              key={groupWithContext.group.ptr}\n              project={project}\n              group={groupWithContext.group}\n              style={style}\n              onEdit={\n                this.props.onEditGroup\n                  ? () => this.props.onEditGroup(groupWithContext.group)\n                  : undefined\n              }\n              onEditName={() => this.props.onEditName(groupWithContext)}\n              onDelete={() => this.props.onDelete(groupWithContext)}\n              onRename={newName =>\n                this.props.onRename(groupWithContext, newName)\n              }\n              editingName={nameBeingEdited}\n              isGlobalGroup={groupWithContext.global}\n            />\n          );\n        }}\n        width={width}\n      />\n    );\n  }\n}\n\nconst SortableGroupsList = SortableContainer(GroupsList, { withRef: true });\n\ntype StateType = {|\n  renamedGroupWithScope: ?GroupWithContext,\n  searchText: string,\n|};\n\nexport default class GroupsListContainer extends React.Component<*, StateType> {\n  static defaultProps = {\n    onDeleteGroup: (groupWithContext: GroupWithContext, cb: Function) =>\n      cb(true),\n    onRenameGroup: (\n      groupWithContext: GroupWithContext,\n      newName: string,\n      cb: Function\n    ) => cb(true),\n  };\n\n  sortableList: any;\n  containerGroupsList: GroupWithContextList = [];\n  projectGroupsList: GroupWithContextList = [];\n  state: StateType = {\n    renamedGroupWithScope: null,\n    searchText: '',\n  };\n\n  shouldComponentUpdate(nextProps: *, nextState: StateType) {\n    // The component is costly to render, so avoid any re-rendering as much\n    // as possible.\n    // We make the assumption that no changes to groups list is made outside\n    // from the component.\n    // If a change is made, the component won't notice it: you have to manually\n    // call forceUpdate.\n\n    if (\n      this.state.renamedGroupWithScope !== nextState.renamedGroupWithScope ||\n      this.state.searchText !== nextState.searchText\n    )\n      return true;\n\n    if (\n      this.props.project !== nextProps.project ||\n      this.props.groups !== nextProps.groups\n    )\n      return true;\n\n    return false;\n  }\n\n  addGroup = () => {\n    const { project, objectsContainer } = this.props;\n\n    const objectsContainerGroups = objectsContainer.getObjectGroups();\n    const name = newNameGenerator(\n      'Group',\n      name =>\n        objectsContainerGroups.has(name) || project.getObjectGroups().has(name)\n    );\n\n    objectsContainerGroups.insertNew(name, objectsContainerGroups.count());\n    this.forceUpdate();\n  };\n\n  _onDelete = (groupWithContext: GroupWithContext) => {\n    const { group, global } = groupWithContext;\n    const { project, objectsContainer } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this group? This can't be undone.\"\n    );\n    if (!answer) return;\n\n    this.props.onDeleteGroup(groupWithContext, doRemove => {\n      if (!doRemove) return;\n\n      if (global) {\n        project.getObjectGroups().remove(group.getName());\n      } else {\n        objectsContainer.getObjectGroups().remove(group.getName());\n      }\n\n      this.forceUpdate();\n    });\n  };\n\n  _onEditName = (groupWithContext: GroupWithContext) => {\n    this.setState(\n      {\n        renamedGroupWithScope: groupWithContext,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _onRename = (groupWithContext: GroupWithContext, newName: string) => {\n    const { group } = groupWithContext;\n    const { project, objectsContainer } = this.props;\n\n    this.setState({\n      renamedGroupWithScope: null,\n    });\n\n    if (group.getName() === newName) return;\n\n    if (\n      objectsContainer.getObjectGroups().has(newName) ||\n      project.getObjectGroups().has(newName)\n    ) {\n      showWarningBox('Another object with this name already exists');\n      return;\n    }\n\n    this.props.onRenameGroup(groupWithContext, newName, doRename => {\n      if (!doRename) return;\n\n      group.setName(newName);\n      this.forceUpdate();\n    });\n  };\n\n  _onMove = (oldIndex: number, newIndex: number) => {\n    const { project, objectsContainer } = this.props;\n\n    const isInGroupsList = oldIndex < this.containerGroupsList.length;\n    if (isInGroupsList) {\n      objectsContainer\n        .getObjectGroups()\n        .move(\n          oldIndex,\n          Math.min(newIndex, this.containerGroupsList.length - 1)\n        );\n    } else {\n      const projectOldIndex = oldIndex - this.containerGroupsList.length;\n      const projectNewIndex = newIndex - this.containerGroupsList.length;\n\n      project\n        .getObjectGroups()\n        .move(\n          projectOldIndex,\n          Math.min(projectNewIndex, this.projectGroupsList.length - 1)\n        );\n    }\n\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  render() {\n    const { project, objectsContainer } = this.props;\n    const { searchText } = this.state;\n\n    const lists = enumerateObjectsAndGroups(project, objectsContainer);\n    this.containerGroupsList = filterGroupsList(\n      lists.containerGroupsList,\n      searchText\n    );\n    this.projectGroupsList = filterGroupsList(\n      lists.projectGroupsList,\n      searchText\n    );\n    const allGroupsList = filterGroupsList(lists.allGroupsList, searchText);\n    const fullList = allGroupsList.concat({\n      key: 'add-groups-row',\n      object: null,\n    });\n\n    // Force List component to be mounted again if project or groups\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = project.ptr + ';' + objectsContainer.ptr;\n\n    return (\n      <Background>\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableGroupsList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={fullList}\n                project={project}\n                width={width}\n                height={height}\n                renamedGroupWithScope={this.state.renamedGroupWithScope}\n                onEditGroup={this.props.onEditGroup}\n                onAddGroup={this.addGroup}\n                onEditName={this._onEditName}\n                onDelete={this._onDelete}\n                onRename={this._onRename}\n                onSortEnd={({ oldIndex, newIndex }) =>\n                  this._onMove(oldIndex, newIndex)\n                }\n                helperClass=\"sortable-helper\"\n                distance={20}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n      </Background>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport Changelog from '.';\n\ntype Props = {|\n  open: boolean,\n  onClose: () => void,\n|};\n\ntype State = {||};\n\nexport default class ChangelogDialog extends React.Component<Props, State> {\n  render() {\n    const { open, onClose } = this.props;\n    if (!open) {\n      // Don't render anything, to avoid in particular sending useless requests.\n      return null;\n    }\n\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        primary={true}\n        onClick={onClose}\n      />,\n    ];\n\n    return (\n      <Dialog\n        title={<Trans>What's new in GDevelop?</Trans>}\n        actions={actions}\n        open={open}\n        onRequestClose={onClose}\n        autoScrollBodyContent\n        modal\n      >\n        <p>\n          <Trans>\n            GDevelop was upgraded to a new version! Check out the changes.\n          </Trans>\n        </p>\n        <Changelog\n          onUpdated={() => {\n            this.forceUpdate(); /*Force update to ensure dialog is properly positionned*/\n          }}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ChangelogDialog from './ChangelogDialog';\nimport PreferencesContext from '../Preferences/PreferencesContext';\n\ntype ContainerProps = {|\n  defaultOpen: boolean,\n|};\n\ntype ContainerState = {|\n  open: boolean,\n|};\n\nclass ChangelogDialogContainer extends React.Component<\n  ContainerProps,\n  ContainerState\n> {\n  state = {\n    open: this.props.defaultOpen,\n  };\n\n  render() {\n    const { open } = this.state;\n    return (\n      <ChangelogDialog\n        open={open}\n        onClose={() =>\n          this.setState({\n            open: false,\n          })\n        }\n      />\n    );\n  }\n}\n\n/**\n * The container showing the ChangelogDialog only if a a new version\n * of GDevelop is detected.\n */\nexport default (props: {||}) => (\n  <PreferencesContext.Consumer>\n    {({ values, verifyIfIsNewVersion }) => (\n      <ChangelogDialogContainer\n        defaultOpen={verifyIfIsNewVersion() && values.autoDisplayChangelog}\n      />\n    )}\n  </PreferencesContext.Consumer>\n);\n","// @flow\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { largeSelectedArea, largeSelectableArea } from '../ClassNames';\nimport { type EventRendererProps } from './EventRenderer.flow';\n\nexport default class UnknownEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  render() {\n    return (\n      <p\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n        })}\n      >\n        {'Unknown event of type ' + this.props.event.getType()}\n      </p>\n    );\n  }\n}\n","import UnknownEvent from './Renderers/UnknownEvent';\nimport StandardEvent from './Renderers/StandardEvent';\nimport GroupEvent from './Renderers/GroupEvent';\nimport CommentEvent from './Renderers/CommentEvent';\nimport ForEachEvent from './Renderers/ForEachEvent';\nimport RepeatEvent from './Renderers/RepeatEvent';\nimport WhileEvent from './Renderers/WhileEvent';\nimport LinkEvent from './Renderers/LinkEvent';\nimport JsCodeEvent from './Renderers/JsCodeEvent';\n\nexport default {\n  components: {\n    unknownEvent: UnknownEvent,\n    'BuiltinCommonInstructions::Standard': StandardEvent,\n    'BuiltinCommonInstructions::Group': GroupEvent,\n    'BuiltinCommonInstructions::Comment': CommentEvent,\n    'BuiltinCommonInstructions::ForEach': ForEachEvent,\n    'BuiltinCommonInstructions::Repeat': RepeatEvent,\n    'BuiltinCommonInstructions::While': WhileEvent,\n    'BuiltinCommonInstructions::Link': LinkEvent,\n    'BuiltinCommonInstructions::JsCode': JsCodeEvent,\n  },\n  getEventComponent: function(event) {\n    if (this.components.hasOwnProperty(event.getType()))\n      return this.components[event.getType()];\n    else return this.components.unknownEvent;\n  },\n  registerEvent: function(eventType, renderFunction) {\n    if (!this.components.hasOwnProperty(eventType)) {\n      console.warn(\n        'Tried to register renderer for events \"' +\n          eventType +\n          '\", but a renderer already exists.'\n      );\n      return;\n    }\n\n    this.components[eventType] = renderFunction;\n  },\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\nimport FlatButton from 'material-ui/FlatButton';\nimport Window from '../Utils/Window';\nimport { List, ListItem } from 'material-ui/List';\nimport { Column } from '../UI/Grid';\nimport algoliasearch from 'algoliasearch/lite';\nimport debounce from 'lodash/debounce';\n\nconst styles = {\n  dropdownMenuContainer: {\n    maxHeight: 300,\n    overflowY: 'scroll',\n  },\n  poweredByText: {\n    textAlign: 'right',\n    opacity: 0.8,\n  },\n};\n\ntype Props = {|\n  onChange: string => void,\n  value: string,\n|};\n\ntype AlgoliaResult = {|\n  content: string,\n  url: string,\n  hierarchy: {|\n    lvl0: ?string,\n    lvl1: ?string,\n    lvl2: ?string,\n    lvl3: ?string,\n    lvl4: ?string,\n    lvl5: ?string,\n    lvl6: ?string,\n  |},\n  objectID: string,\n|};\n\ntype State = {|\n  results: ?Array<AlgoliaResult>,\n|};\n\nconst indexName = 'gdevelop';\nconst appId = 'BH4D9OD16A';\nconst apiKey = '69c73fc1a710bb79543d4b91f6b81c08';\nconst algoliaOptions = { hitsPerPage: 5 };\n\nexport default class DocSearchArea extends React.Component<Props, State> {\n  // $FlowFixMe\n  client = algoliasearch(appId, apiKey, algoliaOptions);\n  state = {\n    results: null,\n  };\n\n  _handleSearchTextChange = (searchText: string) => {\n    this.props.onChange(searchText);\n  };\n\n  _launchSearchRequest = debounce(() => {\n    if (this.props.value) {\n      this.client\n        // $FlowFixMe\n        .search([\n          {\n            indexName: indexName,\n            query: this.props.value,\n            params: algoliaOptions,\n          },\n        ])\n        .then(data => {\n          let hits = data.results[0].hits;\n          console.log(hits);\n\n          this.setState({\n            results: hits,\n          });\n        });\n    }\n  }, 200);\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.value !== this.props.value && this.props.value) {\n      this._launchSearchRequest();\n    }\n  }\n\n  _renderResult = (result: AlgoliaResult) => {\n    const primaryText =\n      result.hierarchy.lvl0 ||\n      result.hierarchy.lvl1 ||\n      result.hierarchy.lvl2 ||\n      result.hierarchy.lvl3 ||\n      result.hierarchy.lvl4 ||\n      result.hierarchy.lvl5 ||\n      result.hierarchy.lvl6;\n\n    const secondaryText = [\n      result.hierarchy.lvl0,\n      result.hierarchy.lvl1,\n      result.hierarchy.lvl2,\n      result.hierarchy.lvl3,\n      result.hierarchy.lvl4,\n      result.hierarchy.lvl5,\n      result.hierarchy.lvl6,\n    ]\n      .filter(text => !!text)\n      .filter(text => text !== primaryText)\n      .join(' - ')\n      .replace(/&quot;/g, '\"');\n\n    return (\n      <ListItem\n        key={result.objectID}\n        primaryText={primaryText}\n        secondaryText={result.content || secondaryText}\n        secondaryTextLines={2}\n        onClick={() => {\n          Window.openExternalURL(result.url);\n        }}\n      />\n    );\n  };\n\n  render() {\n    return (\n      <div>\n        <TextField\n          id={'help-finder-search-bar'}\n          fullWidth\n          hintText={<Trans>Enter what you want to build.</Trans>}\n          value={this.props.value}\n          onChange={(e, text) => this.props.onChange(text)}\n        />\n        <div\n          id=\"help-finder-dropdown-menu-container\"\n          className=\"algolia-autocomplete\"\n          style={{\n            ...styles.dropdownMenuContainer,\n            visibility: !this.props.value ? 'hidden' : undefined,\n          }}\n        />\n        {this.state.results ? (\n          <List>\n            {this.state.results.map(result => this._renderResult(result))}\n          </List>\n        ) : (\n          <React.Fragment>\n            <p>\n              <Trans>Examples:</Trans>\n            </p>\n            <Column expand>\n              <p>\n                Coins in platformer\n                <br />\n                Export on Android\n                <br />\n                Add a score\n                <br />\n                Move enemies\n                <br />\n                ...\n                <br />\n              </p>\n            </Column>\n          </React.Fragment>\n        )}\n        <p style={styles.poweredByText}>\n          This search is powered by{' '}\n          <FlatButton\n            onClick={() => Window.openExternalURL('http://algolia.com/')}\n            label={'Algolia'}\n          />\n        </p>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport Window from '../Utils/Window';\nimport DocSearchArea from './DocSearchArea';\nimport debounce from 'lodash/debounce';\nimport {\n  sendHelpFinderOpened,\n  sendHelpSearch,\n} from '../Utils/Analytics/EventSender';\n\ntype Props = {|\n  open: boolean,\n  onClose: () => void,\n|};\n\ntype State = {|\n  searchText: string,\n|};\n\nexport default class HelpFinder extends React.PureComponent<Props, State> {\n  state = {\n    searchText: '',\n  };\n\n  componentWillReceiveProps(newProps: Props) {\n    if (newProps.open && !this.props.open) {\n      sendHelpFinderOpened();\n    }\n  }\n\n  _handleSearchTextChange = (searchText: string) => {\n    this.setState({\n      searchText,\n    });\n    this._sendHelpSearch();\n  };\n\n  _sendHelpSearch = debounce(() => {\n    if (this.state.searchText) sendHelpSearch(this.state.searchText.trim());\n  }, 2900);\n\n  render() {\n    const { open, onClose } = this.props;\n\n    return (\n      <Dialog\n        title={<Trans>Help!</Trans>}\n        onRequestClose={onClose}\n        actions={[\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            key=\"close\"\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        secondaryActions={[\n          <FlatButton\n            key=\"forum\"\n            primary={false}\n            onClick={() => {\n              Window.openExternalURL('https://forum.gdevelop-app.com');\n            }}\n            label={<Trans>Community forum</Trans>}\n          />,\n          <FlatButton\n            key=\"wiki\"\n            primary={false}\n            onClick={() => {\n              Window.openExternalURL(\n                'http://wiki.compilgames.net/doku.php/gdevelop5/start'\n              );\n            }}\n            label={<Trans>Wiki</Trans>}\n          />,\n        ]}\n        open={open}\n      >\n        <DocSearchArea\n          value={this.state.searchText}\n          onChange={this._handleSearchTextChange}\n        />\n      </Dialog>\n    );\n  }\n}\n","//@flow\nimport { findGDJS } from '../Export/LocalExporters/LocalGDJSFinder';\nimport optionalRequire from '../Utils/OptionalRequire';\nconst fs = optionalRequire('fs');\nconst path = optionalRequire('path');\n\nexport const setupAutocompletions = (monaco: any) => {\n  const importAllJsFilesFromFolder = (folderPath: string) =>\n    fs.readdir(folderPath, (error: ?Error, filenames: Array<string>) => {\n      if (error) {\n        console.error(\n          'Unable to read GDJS files for setting up autocompletions:',\n          error\n        );\n        return;\n      }\n\n      filenames.forEach(filename => {\n        if (filename.endsWith('.js')) {\n          const fullPath = path.join(folderPath, filename);\n          fs.readFile(fullPath, 'utf8', (fileError, content) => {\n            if (fileError) {\n              console.error(\n                `Unable to read ${fullPath} for setting up autocompletions:`,\n                fileError\n              );\n              return;\n            }\n\n            monaco.languages.typescript.javascriptDefaults.addExtraLib(\n              content,\n              fullPath\n            );\n          });\n        }\n      });\n    });\n\n  findGDJS(gdjsRoot => {\n    const runtimePath = path.join(gdjsRoot, 'Runtime');\n    const extensionsPath = path.join(runtimePath, 'Extensions');\n    const eventToolsPath = path.join(runtimePath, 'events-tools');\n\n    importAllJsFilesFromFolder(runtimePath);\n    importAllJsFilesFromFolder(eventToolsPath);\n    fs.readdir(extensionsPath, (error: ?Error, folderNames: Array<string>) => {\n      if (error) {\n        console.error(\n          'Unable to read Extensions folders for setting up autocompletions:',\n          error\n        );\n        return;\n      }\n\n      folderNames\n        .filter(\n          folderName =>\n            !folderName.endsWith('.txt') &&\n            !folderName.endsWith('.md') &&\n            !folderName.endsWith('.gitignore')\n        )\n        .forEach(folderName =>\n          importAllJsFilesFromFolder(path.join(extensionsPath, folderName))\n        );\n    });\n\n    monaco.languages.typescript.javascriptDefaults.addExtraLib(\n      `\n/** Represents the scene being played. */\nvar runtimeScene = new gdjs.RuntimeScene();\n\n/** The objects that are passed to your JavaScript function.\n * @type {gdjs.RuntimeObject[]}\n */\nvar objects = new gdjs.RuntimeScene();\n`,\n      'this-mock-the-context-of-events.js'\n    );\n  });\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { setupAutocompletions } from './LocalCodeEditorAutocompletions';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport PreferencesContext from '../MainFrame/Preferences/PreferencesContext';\nimport { getAllThemes } from './Theme';\n\nexport type State = {|\n  MonacoEditor: ?any,\n  error: ?Error,\n|};\nexport type Props = {|\n  value: string,\n  onChange: string => void,\n  width: number,\n  onEditorMounted?: () => void,\n|};\n\nconst monacoEditorOptions = {\n  scrollBeyondLastLine: false,\n  minimap: {\n    enabled: false,\n  },\n};\n\n// There is only a single instance of monaco living, keep track\n// of if its initialized or not.\nlet monacoCompletionsInitialized = false;\nlet monacoThemesInitialized = false;\n\nexport class CodeEditor extends React.Component<Props, State> {\n  state = {\n    MonacoEditor: null,\n    error: null,\n  };\n\n  setupEditorThemes = (monaco: any) => {\n    if (!monacoThemesInitialized) {\n      monacoThemesInitialized = true;\n\n      getAllThemes().forEach(codeEditorTheme => {\n        // Builtin themes don't have themeData, don't redefine them.\n        if (codeEditorTheme.themeData) {\n          monaco.editor.defineTheme(\n            codeEditorTheme.themeName,\n            codeEditorTheme.themeData\n          );\n        }\n      });\n    }\n  };\n\n  setupEditorCompletions = (editor: any, monaco: any) => {\n    if (!monacoCompletionsInitialized) {\n      monacoCompletionsInitialized = true;\n\n      monaco.languages.typescript.javascriptDefaults.setCompilerOptions({\n        // noLib: true,\n        target: monaco.languages.typescript.ScriptTarget.ES6,\n        allowNonTsExtensions: true,\n        allowJs: true,\n        checkJs: true,\n      });\n      setupAutocompletions(monaco);\n    }\n\n    if (this.props.onEditorMounted) this.props.onEditorMounted();\n  };\n\n  componentDidMount() {\n    this.loadMonacoEditor();\n  }\n\n  handleLoadError(error: Error) {\n    this.setState({\n      error,\n    });\n  }\n\n  loadMonacoEditor() {\n    this.setState({\n      error: null,\n    });\n    import(/* webpackChunkName: \"react-monaco-editor\" */ 'react-monaco-editor')\n      .then(module =>\n        this.setState({\n          MonacoEditor: module.default,\n        })\n      )\n      .catch(this.handleLoadError);\n  }\n\n  _handleContextMenu = (event: SyntheticEvent<>) => {\n    // Prevent right click to bubble up and trigger the context menu\n    // of the event.\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  render() {\n    const { MonacoEditor, error } = this.state;\n    if (error) {\n      return (\n        <React.Fragment>\n          <p>\n            <Trans>Unable to load the code editor</Trans>\n          </p>\n          <RaisedButton\n            label={<Trans>Retry</Trans>}\n            onClick={this.loadMonacoEditor}\n          />\n        </React.Fragment>\n      );\n    }\n\n    if (!MonacoEditor) {\n      return <PlaceholderLoader />;\n    }\n\n    return (\n      <div onContextMenu={this._handleContextMenu}>\n        <PreferencesContext.Consumer>\n          {({ values }) => (\n            <MonacoEditor\n              width={this.props.width || 600}\n              height=\"400\"\n              language=\"javascript\"\n              theme={values.codeEditorThemeName}\n              value={this.props.value}\n              onChange={this.props.onChange}\n              editorWillMount={this.setupEditorThemes}\n              editorDidMount={this.setupEditorCompletions}\n              options={monacoEditorOptions}\n            />\n          )}\n        </PreferencesContext.Consumer>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { mapFor } from '../../../Utils/MapFor';\nimport EmptyMessage from '../../../UI/EmptyMessage';\n\nexport type ParameterValues = Array<string>;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1,\n  },\n};\n\ntype Props = {|\n  project?: gdProject,\n  layout?: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  expressionMetadata: gdExpressionMetadata,\n  parameterValues: ParameterValues,\n  onChangeParameter: (index: number, value: string) => void,\n  parameterRenderingService?: {\n    components: any,\n    getParameterComponent: (type: string) => any,\n  },\n|};\ntype State = {||};\n\nexport default class ExpressionParametersEditor extends React.Component<\n  Props,\n  State\n> {\n  static getNonCodeOnlyParametersCount(\n    expressionMetadata: gdExpressionMetadata\n  ) {\n    return mapFor(0, expressionMetadata.getParametersCount(), i => {\n      const parameterMetadata = expressionMetadata.getParameter(i);\n      return !parameterMetadata.isCodeOnly();\n    }).filter(isVisible => isVisible).length;\n  }\n\n  render() {\n    const {\n      expressionMetadata,\n      parameterValues,\n      project,\n      layout,\n      globalObjectsContainer,\n      objectsContainer,\n      parameterRenderingService,\n    } = this.props;\n\n    if (!parameterRenderingService) {\n      console.error(\n        'Missing parameterRenderingService for ExpressionParametersEditor'\n      );\n      return null;\n    }\n\n    // Create an object mimicking Instruction interface so that it can be used by\n    // ParameterFields components.\n    const parametersCount = expressionMetadata.getParametersCount();\n    const expression = {\n      getParametersCount: () => parametersCount,\n      getParameter: index => {\n        return parameterValues[index] || '';\n      },\n    };\n\n    return (\n      <div style={styles.container}>\n        {mapFor(0, expressionMetadata.getParametersCount(), i => {\n          const parameterMetadata = expressionMetadata.getParameter(i);\n          const ParameterComponent = parameterRenderingService.getParameterComponent(\n            parameterMetadata.getType()\n          );\n\n          if (parameterMetadata.isCodeOnly()) return null;\n          return (\n            <ParameterComponent\n              parameterMetadata={parameterMetadata}\n              project={project}\n              layout={layout}\n              globalObjectsContainer={globalObjectsContainer}\n              objectsContainer={objectsContainer}\n              value={parameterValues[i]}\n              instructionOrExpression={expression}\n              key={i}\n              onChange={value => this.props.onChangeParameter(i, value)}\n              parameterRenderingService={parameterRenderingService}\n            />\n          );\n        })}\n        {ExpressionParametersEditor.getNonCodeOnlyParametersCount(\n          expressionMetadata\n        ) === 0 && (\n          <EmptyMessage>\n            <Trans>There is nothing to configure.</Trans>\n          </EmptyMessage>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport ExpressionParametersEditor from './ExpressionParametersEditor';\nimport Dialog from '../../../UI/Dialog';\n\nexport type ParameterValues = Array<string>;\n\ntype Props = {\n  project?: gdProject,\n  layout?: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  expressionMetadata: Object,\n  onDone: ParameterValues => void,\n  onRequestClose: () => void,\n  open: boolean,\n  parameterRenderingService?: {\n    components: any,\n    getParameterComponent: (type: string) => any,\n  },\n};\n\ntype State = {\n  parameterValues: ParameterValues,\n};\n\nexport default class ExpressionParametersEditorDialog extends Component<\n  Props,\n  State\n> {\n  state = {\n    parameterValues: [],\n  };\n\n  componentWillMount() {\n    this.setState({\n      parameterValues: Array(\n        this.props.expressionMetadata.getParametersCount()\n      ).fill(''),\n    });\n  }\n\n  render() {\n    const {\n      project,\n      layout,\n      globalObjectsContainer,\n      objectsContainer,\n      expressionMetadata,\n      parameterRenderingService,\n    } = this.props;\n\n    return (\n      <Dialog\n        open={this.props.open}\n        actions={\n          <FlatButton\n            key=\"apply\"\n            label={<Trans>Apply</Trans>}\n            primary\n            onClick={() => this.props.onDone(this.state.parameterValues)}\n          />\n        }\n        modal\n        onRequestClose={this.props.onRequestClose}\n        autoScrollBodyContent\n      >\n        <ExpressionParametersEditor\n          project={project}\n          layout={layout}\n          globalObjectsContainer={globalObjectsContainer}\n          objectsContainer={objectsContainer}\n          expressionMetadata={expressionMetadata}\n          parameterValues={this.state.parameterValues}\n          onChangeParameter={(editedIndex, value) => {\n            this.setState({\n              parameterValues: this.state.parameterValues.map(\n                (oldValue, index) => (index === editedIndex ? value : oldValue)\n              ),\n            });\n          }}\n          parameterRenderingService={parameterRenderingService}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { Line } from '../../../../UI/Grid';\nimport ImagePreview from '../../../../ResourcesList/ResourcePreview/ImagePreview';\nimport Replay from 'material-ui/svg-icons/av/replay';\nimport PlayArrow from 'material-ui/svg-icons/av/play-arrow';\nimport Pause from 'material-ui/svg-icons/av/pause';\nimport Timer from 'material-ui/svg-icons/image/timer';\nimport TextField from 'material-ui/TextField';\nimport { FlatButton } from 'material-ui';\n\ntype Props = {|\n  spritesContainer: Object,\n  resourcesLoader: Object,\n  project: Object,\n  timeBetweenFrames: number,\n  onChangeTimeBetweenFrames: number => void,\n|};\n\ntype State = {|\n  currentFrameIndex: number,\n  currentFrameElapsedTime: number,\n  paused: boolean,\n  fps: number,\n|};\n\nconst styles = {\n  timeField: {\n    width: 75,\n  },\n  timeIcon: {\n    paddingLeft: 6,\n    paddingRight: 8,\n  },\n};\n\nexport default class AnimationPreview extends Component<Props, State> {\n  state = {\n    currentFrameIndex: 0,\n    currentFrameElapsedTime: 0,\n    paused: false,\n    fps: Math.round(1 / this.props.timeBetweenFrames),\n  };\n\n  nextUpdate = null;\n\n  componentDidMount() {\n    this.nextUpdate = requestAnimationFrame(this._updateAnimation);\n  }\n\n  componentWillUnmount() {\n    if (this.nextUpdate) cancelAnimationFrame(this.nextUpdate);\n  }\n\n  replay = () =>\n    this.setState({\n      currentFrameIndex: 0,\n      currentFrameElapsedTime: 0,\n      paused: false,\n    });\n\n  play = () =>\n    this.setState({\n      paused: false,\n    });\n\n  pause = () =>\n    this.setState({\n      paused: true,\n    });\n\n  _updateAnimation = () => {\n    const animationSpeedScale = 1;\n\n    const { spritesContainer, timeBetweenFrames } = this.props;\n    const { currentFrameIndex, currentFrameElapsedTime, paused } = this.state;\n\n    const elapsedTime = 1 / 60;\n    let newFrameIndex = currentFrameIndex;\n    let newFrameElapsedTime = currentFrameElapsedTime;\n    newFrameElapsedTime += paused ? 0 : elapsedTime * animationSpeedScale;\n\n    if (newFrameElapsedTime > timeBetweenFrames) {\n      const count = Math.floor(newFrameElapsedTime / timeBetweenFrames);\n      newFrameIndex += count;\n      newFrameElapsedTime = newFrameElapsedTime - count * timeBetweenFrames;\n      if (newFrameElapsedTime < 0) newFrameElapsedTime = 0;\n    }\n\n    if (newFrameIndex >= spritesContainer.getSpritesCount()) {\n      newFrameIndex = spritesContainer.isLooping()\n        ? newFrameIndex % spritesContainer.getSpritesCount()\n        : spritesContainer.getSpritesCount() - 1;\n    }\n    if (newFrameIndex < 0) newFrameIndex = 0; //May happen if there is no frame.\n\n    this.setState({\n      currentFrameIndex: newFrameIndex,\n      currentFrameElapsedTime: newFrameElapsedTime,\n    });\n    this.nextUpdate = requestAnimationFrame(this._updateAnimation);\n  };\n\n  render() {\n    const {\n      spritesContainer,\n      resourcesLoader,\n      project,\n      timeBetweenFrames,\n      onChangeTimeBetweenFrames,\n    } = this.props;\n    const { currentFrameIndex, paused, fps } = this.state;\n\n    const hasValidSprite =\n      currentFrameIndex < spritesContainer.getSpritesCount();\n    const sprite = hasValidSprite\n      ? spritesContainer.getSprite(currentFrameIndex)\n      : null;\n\n    return (\n      <div>\n        <ImagePreview\n          resourceName={sprite ? sprite.getImageName() : ''}\n          resourcesLoader={resourcesLoader}\n          project={project}\n        />\n        <Line noMargin alignItems=\"center\">\n          <span style={styles.timeIcon}>FPS:</span>\n          <TextField\n            value={fps}\n            onChange={(e, text) => {\n              const fps = parseFloat(text);\n              if (fps > 0) {\n                this.setState({ fps });\n                onChangeTimeBetweenFrames(parseFloat((1 / fps).toFixed(4)));\n                this.replay();\n              }\n            }}\n            id=\"direction-time-between-frames\"\n            type=\"number\"\n            step={1}\n            min={1}\n            max={100}\n            style={styles.timeField}\n            autoFocus={true}\n          />\n          <Timer style={styles.timeIcon} />\n          <TextField\n            value={timeBetweenFrames}\n            onChange={(e, text) => {\n              const time = parseFloat(text);\n              if (time > 0) {\n                this.setState({ fps: Math.round(1 / time) });\n                onChangeTimeBetweenFrames(time);\n                this.replay();\n              }\n            }}\n            id=\"direction-time-between-frames\"\n            type=\"number\"\n            step={0.005}\n            precision={2}\n            min={0.01}\n            max={5}\n            style={styles.timeField}\n          />\n          <FlatButton\n            icon={<Replay />}\n            label={<Trans>Replay</Trans>}\n            onClick={this.replay}\n          />\n          <FlatButton\n            icon={paused ? <PlayArrow /> : <Pause />}\n            label={paused ? 'Play' : 'Pause'}\n            onClick={paused ? this.play : this.pause}\n          />\n        </Line>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport Timer from 'material-ui/svg-icons/image/timer';\nimport FlatButton from 'material-ui/FlatButton';\nimport Checkbox from 'material-ui/Checkbox';\nimport Repeat from 'material-ui/svg-icons/av/repeat';\nimport Brush from 'material-ui/svg-icons/image/brush';\nimport PlayArrow from 'material-ui/svg-icons/av/play-arrow';\nimport TextField from 'material-ui/TextField';\nimport Dialog from '../../../UI/Dialog';\nimport AnimationPreview from './AnimationPreview';\nimport ResourcesLoader from '../../../ResourcesLoader';\nimport { type ResourceExternalEditor } from '../../../ResourcesList/ResourceExternalEditor.flow';\n\nconst styles = {\n  container: {\n    paddingLeft: 12,\n    paddingRight: 12,\n    display: 'flex',\n    alignItems: 'center',\n  },\n  timeField: {\n    width: 75,\n  },\n  timeIcon: {\n    paddingLeft: 6,\n    paddingRight: 6,\n  },\n  repeatContainer: {\n    width: 130,\n  },\n  repeatLabel: {\n    whiteSpace: 'nowrap',\n  },\n  spacer: {\n    width: 16,\n  },\n};\n\nconst formatTime = time => Number(time.toFixed(6));\n\ntype Props = {|\n  direction: gdDirection,\n  resourcesLoader: typeof ResourcesLoader,\n  project: gdProject,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  onEditWith: ResourceExternalEditor => void,\n|};\n\ntype State = {|\n  timeBetweenFrames: number,\n  timeError: boolean,\n  previewOpen: boolean,\n|};\n\nexport default class DirectionTools extends Component<Props, State> {\n  state = {\n    timeBetweenFrames: formatTime(this.props.direction.getTimeBetweenFrames()),\n    timeError: false,\n    previewOpen: false,\n  };\n\n  componentWillReceiveProps(newProps: Props) {\n    this.setState({\n      timeBetweenFrames: formatTime(\n        this.props.direction.getTimeBetweenFrames()\n      ),\n      timeError: false,\n    });\n  }\n\n  saveTimeBetweenFrames = () => {\n    const { direction } = this.props;\n\n    const newTime = Math.max(parseFloat(this.state.timeBetweenFrames), 0.00001);\n    const newTimeIsValid = !isNaN(newTime);\n\n    if (newTimeIsValid) direction.setTimeBetweenFrames(newTime);\n    this.setState({\n      timeBetweenFrames: formatTime(\n        this.props.direction.getTimeBetweenFrames()\n      ),\n      timeError: newTimeIsValid,\n    });\n  };\n\n  setLooping = (check: boolean) => {\n    const { direction } = this.props;\n\n    direction.setLoop(!!check);\n    this.forceUpdate();\n  };\n\n  openPreview = (open: boolean) => {\n    this.setState({\n      previewOpen: open,\n    });\n    if (!open) {\n      this.saveTimeBetweenFrames();\n    }\n  };\n\n  render() {\n    const {\n      direction,\n      resourcesLoader,\n      project,\n      resourceExternalEditors,\n      onEditWith,\n    } = this.props;\n\n    return (\n      <div style={styles.container}>\n        {!!resourceExternalEditors.length && (\n          <FlatButton\n            label={resourceExternalEditors[0].displayName}\n            icon={<Brush />}\n            onClick={() => onEditWith(resourceExternalEditors[0])}\n          />\n        )}\n        <FlatButton\n          label={<Trans>Preview</Trans>}\n          icon={<PlayArrow />}\n          onClick={() => this.openPreview(true)}\n        />\n        <Timer style={styles.timeIcon} />\n        <TextField\n          value={this.state.timeBetweenFrames}\n          onChange={(e, text) => this.setState({ timeBetweenFrames: text })}\n          onBlur={() => this.saveTimeBetweenFrames()}\n          id=\"direction-time-between-frames\"\n          style={styles.timeField}\n          type=\"number\"\n          step={0.005}\n          precision={2}\n          min={0.01}\n          max={5}\n        />\n        <span style={styles.spacer} />\n        <div style={styles.repeatContainer}>\n          <Checkbox\n            checkedIcon={<Repeat />}\n            uncheckedIcon={<Repeat />}\n            checked={direction.isLooping()}\n            label={direction.isLooping() ? 'Loop' : \"Don't loop\"}\n            onCheck={(e, check) => this.setLooping(check)}\n            labelStyle={styles.repeatLabel}\n          />\n        </div>\n        {this.state.previewOpen && (\n          <Dialog\n            actions={\n              <FlatButton\n                label={<Trans>OK</Trans>}\n                primary\n                onClick={() => this.openPreview(false)}\n              />\n            }\n            autoScrollBodyContent\n            noMargin\n            modal\n            onRequestClose={() => this.openPreview(false)}\n            open={this.state.previewOpen}\n          >\n            <AnimationPreview\n              spritesContainer={direction}\n              resourcesLoader={resourcesLoader}\n              project={project}\n              timeBetweenFrames={this.state.timeBetweenFrames}\n              onChangeTimeBetweenFrames={text =>\n                this.setState({ timeBetweenFrames: text })\n              }\n            />\n          </Dialog>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nconst marginsSize = 4;\n\nexport const Line = props => (\n  <div\n    style={{\n      display: 'flex',\n      marginTop: props.noMargin ? 0 : marginsSize,\n      marginBottom: props.noMargin ? 0 : marginsSize,\n      alignItems: props.alignItems,\n      justifyContent: props.justifyContent,\n      flex: props.expand ? 1 : undefined,\n    }}\n  >\n    {props.children}\n  </div>\n);\n\nexport const Column = props => (\n  <div\n    style={{\n      display: 'flex',\n      marginLeft: props.noMargin ? 0 : marginsSize * 2,\n      marginRight: props.noMargin ? 0 : marginsSize * 2,\n      flexDirection: 'column',\n      alignItems: props.alignItems || 'stretch',\n      flex: props.expand ? 1 : undefined,\n    }}\n  >\n    {props.children}\n  </div>\n);\n\nexport const Spacer = props => (\n  <span\n    style={{\n      width: props.expand ? '100%' : marginsSize,\n      height: marginsSize,\n    }}\n  />\n);\n","import React from 'react';\nimport Dialog from 'material-ui/Dialog';\n\nconst styles = {\n  defaultBody: {\n    overflowX: 'hidden',\n  },\n  noMarginBody: {\n    padding: 0,\n    overflowX: 'hidden',\n  },\n  actionsContainer: {},\n  actionsContainerWithSecondaryActions: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n};\n\n/**\n * A enhanced material-ui Dialog that can have optional secondary actions\n * and no margins if required.\n */\nexport default props => {\n  const { secondaryActions, actions, noMargin, title, ...otherProps } = props;\n  const dialogActions = secondaryActions\n    ? [\n        <div key=\"secondary-actions\">{secondaryActions}</div>,\n        <div key=\"actions\">{actions}</div>,\n      ]\n    : actions;\n\n  return (\n    <Dialog\n      bodyStyle={noMargin ? styles.noMarginBody : styles.defaultBody}\n      actionsContainerStyle={\n        secondaryActions\n          ? styles.actionsContainerWithSecondaryActions\n          : styles.actionsContainer\n      }\n      actions={dialogActions}\n      title={title ? <h3>{title}</h3> : null} // Explictly pass a h3 like done in default implementation https://github.com/mui-org/material-ui/blob/v0.x/src/Dialog/Dialog.js#L315\n      // This is done to support passing translated strings (<Trans>) as title\n      {...otherProps}\n    />\n  );\n};\n","// @flow\n// Note: this file does not use export/imports and use Flow comments to allow its usage from Node.js\n\nconst mapFor = /*:: <T>*/ (\n  start /*: number */,\n  end /*: number */,\n  func /*: (number) => T */\n) /*:Array<T> */ => {\n  const result = [];\n  for (let i = start; i < end; i++) {\n    result.push(func(i));\n  }\n  return result;\n};\n\nconst mapReverseFor = /*:: <T>*/ (\n  start /*: number */,\n  end /*: number */,\n  func /*: (number) => T */\n) /*:Array<T> */ => {\n  const result = [];\n  for (let i = end - 1; i >= start; i--) {\n    result.push(func(i));\n  }\n  return result;\n};\n\n/*flow-include\ntype CppVector<T> = {\n  size: () => number,\n  at: (number) => T,\n}\n*/\n\nconst mapVector = /*:: <T, U>*/ (\n  cppVector /*: CppVector<T> */,\n  func /*: (T, number) => U */\n) /*:Array<U> */ => {\n  return mapFor(0, cppVector.size(), i => func(cppVector.at(i), i));\n};\n\nmodule.exports = {\n  mapFor,\n  mapReverseFor,\n  mapVector,\n};\n","// @flow\nimport * as React from 'react';\nimport ThemeConsumer from './Theme/ThemeConsumer';\nimport BackgroundText from './BackgroundText';\n// No i18n in this file\n\nconst styles = {\n  containerStyle: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flex: 1,\n    padding: 10,\n  },\n};\n\ntype Props = {|\n  style?: Object,\n  messageStyle?: Object,\n  children: ?React.Node,\n|};\n\nconst EmptyMessage = (props: Props) => (\n  <ThemeConsumer>\n    {muiTheme => (\n      <div style={{ ...styles.containerStyle, ...props.style }}>\n        <BackgroundText style={props.messageStyle}>\n          {props.children}\n        </BackgroundText>\n      </div>\n    )}\n  </ThemeConsumer>\n);\n\nexport default EmptyMessage;\n","// @flow\nimport optionalRequire from '../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\nconst path = optionalRequire('path');\n\nclass UrlsCache {\n  projectCache = {};\n\n  _getProjectCache(project: gdProject) {\n    const cache = this.projectCache[project.ptr];\n    if (!cache) {\n      return (this.projectCache[project.ptr] = {});\n    }\n\n    return cache;\n  }\n\n  getCachedUrl(project: gdProject, filename: string) {\n    const cache = this._getProjectCache(project);\n    return cache[filename];\n  }\n\n  cacheUrl(project: gdProject, url: string) {\n    const cache = this._getProjectCache(project);\n    return (cache[url] = url);\n  }\n\n  burstUrl(project: gdProject, url: string) {\n    const cache = this._getProjectCache(project);\n    delete cache[url];\n  }\n\n  cacheLocalFileUrl(\n    project: gdProject,\n    filename: string,\n    systemFilename: string\n  ) {\n    const cache = this._getProjectCache(project);\n\n    // The URL is cached with an extra \"cache-bursting\" parameter.\n    // If the cache is emptied or changed, local files will have another\n    // value for this parameter, forcing the browser to reload the images.\n    return (cache[filename] = `${systemFilename}?cache=${Date.now()}`);\n  }\n}\n\n/**\n * A class globally used in the whole IDE to get URLs to resources of games\n * (notably images).\n */\nexport default class ResourcesLoader {\n  static _cache = new UrlsCache();\n\n  static isLocalFile(filename: string): boolean {\n    return (\n      filename.indexOf('data:') !== 0 &&\n      filename.indexOf('http://') !== 0 &&\n      filename.indexOf('https://') !== 0 &&\n      filename.indexOf('ftp://') !== 0\n    );\n  }\n\n  /**\n   * Remove the specified resources resolved URLs from the cache. Useful if the\n   * file represented by these resources has changed. This force these local files to be loaded again.\n   */\n  static burstUrlsCacheForResources(\n    project: gdProject,\n    resourcesNames: Array<string>\n  ) {\n    const resourcesManager = project.getResourcesManager();\n    resourcesNames.forEach(resourceName => {\n      if (resourcesManager.hasResource(resourceName)) {\n        ResourcesLoader._cache.burstUrl(\n          project,\n          resourcesManager.getResource(resourceName).getFile()\n        );\n      }\n    });\n  }\n\n  /**\n   * Re-create a new cache for URLs. Call this to force local\n   * file to be loaded again.\n   */\n  static burstAllUrlsCache() {\n    ResourcesLoader._cache = new UrlsCache();\n  }\n\n  /**\n   * Get the fully qualified URL/filename for a filename relative to the project.\n   */\n  static getFullUrl(project: gdProject, filename: string) {\n    const cachedUrl = ResourcesLoader._cache.getCachedUrl(project, filename);\n    if (cachedUrl) return cachedUrl;\n\n    if (electron && ResourcesLoader.isLocalFile(filename)) {\n      // Support local filesystem with Electron\n      const file = project.getProjectFile();\n      const projectPath = path.dirname(file);\n      const resourceAbsolutePath = path\n        .resolve(projectPath, filename)\n        .replace(/\\\\/g, '/');\n\n      console.info('Caching resolved local filename:', resourceAbsolutePath);\n      return this._cache.cacheLocalFileUrl(\n        project,\n        filename,\n        'file://' + resourceAbsolutePath\n      );\n    }\n\n    // URLs to non local files are unchanged\n    return this._cache.cacheUrl(project, filename);\n  }\n\n  /**\n   * Get the fully qualified URL/filename associated with the given resource.\n   */\n  static getResourceFullUrl(project: gdProject, resourceName: string) {\n    if (project.getResourcesManager().hasResource(resourceName)) {\n      const resourceRelativePath = project\n        .getResourcesManager()\n        .getResource(resourceName)\n        .getFile();\n      return ResourcesLoader.getFullUrl(project, resourceRelativePath);\n    }\n\n    return resourceName;\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport HelpOutline from 'material-ui/svg-icons/action/help-outline';\nimport Window from '../../Utils/Window';\nimport { getHelpLink } from '../../Utils/HelpLink';\nimport { Trans } from '@lingui/macro';\n\ntype PropsType = {\n  helpPagePath: ?string,\n  label?: React.Node,\n};\n\n/**\n * The button that can be used in any dialog to open a help page\n */\nconst HelpButton = (props: PropsType) => {\n  if (!props.helpPagePath) return null;\n\n  return (\n    <FlatButton\n      onClick={() => {\n        if (props.helpPagePath) {\n          Window.openExternalURL(getHelpLink(props.helpPagePath));\n        }\n      }}\n      target=\"_blank\"\n      label={props.label || <Trans>Help</Trans>}\n      icon={<HelpOutline />}\n    />\n  );\n};\n\nexport default HelpButton;\n","// @flow\n\nconst gd = global.gd;\n\n/**\n * Tool function to save a serializable object to a JS object.\n * Most gd.* objects are \"serializable\", meaning they have a serializeTo\n * and unserializeFrom method.\n *\n * @param {*} serializable\n * @param {*} methodName The name of the serialization method. \"unserializeFrom\" by default\n */\nexport function serializeToJSObject(\n  serializable: gdSerializable,\n  methodName: string = 'serializeTo'\n) {\n  const serializedElement = new gd.SerializerElement();\n  serializable[methodName](serializedElement);\n  const object = JSON.parse(gd.Serializer.toJSON(serializedElement));\n  serializedElement.delete();\n\n  return object;\n}\n\n/**\n * Tool function to restore a serializable object from a JS object.\n * Most gd.* objects are \"serializable\", meaning they have a serializeTo\n * and unserializeFrom method.\n * @param {*} serializable A gd.* object to restore\n * @param {*} object The JS object to be used to restore the serializable.\n * @param {*} methodName The name of the unserialization method. \"unserializeFrom\" by default\n * @param {*} optionalProject The project to pass as argument for unserialization\n */\nexport function unserializeFromJSObject(\n  serializable: gdSerializable,\n  object: Object,\n  methodName: string = 'unserializeFrom',\n  optionalProject: ?gdProject = undefined\n) {\n  const serializedElement = gd.Serializer.fromJSObject(object);\n  if (!optionalProject) {\n    serializable[methodName](serializedElement);\n  } else {\n    // It's not uncommon for unserializeFrom methods of gd.* classes\n    // to require the project to be passed as first argument.\n    serializable[methodName](optionalProject, serializedElement);\n  }\n  serializedElement.delete();\n}\n","// @flow\nexport const selectableArea = 'selectable';\nexport const selectedArea = 'selected';\n\nexport const largeSelectableArea = 'large-selectable';\nexport const largeSelectedArea = 'large-selected';\n\nexport const executableEventContainer = 'executable-event-container';\nexport const actionsContainer = 'actions-container';\nexport const conditionsContainer = 'conditions-container';\nexport const subInstructionsContainer = 'sub-instructions-container';\nexport const instructionParameter = 'instruction-parameter';\nexport const disabledText = 'disabled-text';\n\nexport const background = 'background';\n\nexport const eventsTree = 'events-tree';\nexport const eventsTreeWithSearchResults = 'with-search-results';\n\nexport const dropIndicator = 'drop-indicator';\nexport const cantDropIndicator = 'cant-drop-indicator';\n\nexport const linkContainer = 'link-container';\n","// @flow\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\n\ntype State = {\n  focused: boolean,\n  text: ?string,\n};\n\ntype Props = {\n  onChange: string => void,\n  value: string,\n  commitOnBlur?: boolean,\n  onFocus?: ({\n    currentTarget: {\n      value: string,\n    },\n    preventDefault: () => void,\n  }) => void,\n  onBlur?: ({\n    currentTarget: {\n      value: string,\n    },\n  }) => void,\n};\n\n/**\n * This component works like a material-ui TextField, except that\n * the value passed as props is not forced into the text field when the user\n * is typing. This is useful if the parent component can do modifications on the value:\n * the user won't be interrupted or have the value changed until he blurs the field.\n */\nexport default class SemiControlledTextField extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    focused: false,\n    text: null,\n  };\n\n  _field: ?any = null;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  getInputNode() {\n    if (this._field) return this._field.getInputNode();\n  }\n\n  render() {\n    const {\n      value,\n      onChange,\n      commitOnBlur,\n      onFocus,\n      onBlur,\n      ...otherProps\n    } = this.props;\n\n    return (\n      <TextField\n        {...otherProps}\n        ref={field => (this._field = field)}\n        value={this.state.focused ? this.state.text : value}\n        onFocus={event => {\n          this.setState({\n            focused: true,\n            text: this.props.value,\n          });\n\n          if (onFocus) onFocus(event);\n        }}\n        onChange={(event, newValue) => {\n          this.setState({\n            text: newValue,\n          });\n\n          if (!commitOnBlur) onChange(newValue);\n        }}\n        onBlur={event => {\n          onChange(event.currentTarget.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n\n          if (onBlur) onBlur(event);\n        }}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nconst styles = {\n  containerStyle: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flex: 1,\n    padding: 10,\n  },\n};\n\nexport default props => (\n  <div style={{ ...styles.containerStyle, ...props.style }}>\n    <CircularProgress size={40} />\n  </div>\n);\n","export default (name, exists, prefix = '') => {\n  if (!exists(name)) return name;\n\n  let potentialName = prefix + name;\n  for (let i = 2; exists(potentialName); ++i) {\n    potentialName = prefix + name + i;\n  }\n\n  return potentialName;\n};\n","// Note: this file don't use export/imports nor Flow to allow its usage from Node.js\n\nconst optionalRequire = require('../../Utils/OptionalRequire.js');\nconst electron = optionalRequire('electron');\nconst app = electron ? electron.remote.app : null;\nconst fs = optionalRequire('fs');\nconst path = optionalRequire('path');\nconst process = optionalRequire('process');\nvar isDarwin = process && /^darwin/.test(process.platform);\n\nconst tryPath = (\n  path /*: string*/,\n  onExists /*: string => void*/,\n  onNoAccess /*: Function*/\n) =>\n  fs.access(path, fs.constants.R_OK, err => {\n    if (!err) onExists(path);\n    else onNoAccess();\n  });\n\nconst findGDJS = (cb /*: (?string) => void*/) => {\n  if (!path || !process || !fs) return '';\n\n  const appPath = app ? app.getAppPath() : process.cwd();\n\n  // The app path is [...]/*.app/Contents/Resources/app.asar on macOS\n  // and [...]/resources/app.asar on other OSes.\n  const pathToRoot = isDarwin ? '../../../../' : path.join('..', '..');\n  const rootPath = path.join(appPath, pathToRoot);\n\n  // First try to find GDJS in the parent folder (when newIDE is inside IDE)\n  tryPath(path.join(rootPath, '..', 'JsPlatform'), cb, () => {\n    // Or in the resources (for a standalone newIDE)\n    tryPath(path.join(appPath, '..', 'GDJS'), cb, () => {\n      // Or in the resources when developing with Electron\n      const devPath = path.join(\n        appPath,\n        '..',\n        '..',\n        'app',\n        'resources',\n        'GDJS'\n      );\n      tryPath(devPath, cb, () => {\n        cb(null);\n      });\n    });\n  });\n};\n\nmodule.exports = {\n  findGDJS,\n};\n","// @flow\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\n\nconst styles = {\n  container: {\n    flex: 1,\n    display: 'flex',\n    height: '100%',\n    flexDirection: 'column',\n  },\n};\n\ntype Props = {|\n  children: ?React.Node,\n|};\n\n/**\n * This is the component to be used to display the standard\n * background of editor/windows/dialogs.\n *\n * TODO: All usage of material-ui Paper in other components should be\n * removed in favor of using this component.\n */\nconst Background = (props: Props) => (\n  <Paper style={styles.container}>{props.children}</Paper>\n);\n\nexport default Background;\n","import React, { Component } from 'react';\nimport IconMenu from 'material-ui/IconMenu';\nimport ReactDOM from 'react-dom';\nimport ElectronMenuImplementation from './ElectronMenuImplementation';\nimport MaterialUIMenuImplementation from './MaterialUIMenuImplementation';\nimport optionalRequire from '../../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\nexport default class GDIconMenu extends Component {\n  constructor() {\n    super();\n    this.state = {\n      children: undefined,\n    };\n    this.menuImplementation = electron\n      ? new ElectronMenuImplementation()\n      : new MaterialUIMenuImplementation({ onClose: () => {} });\n  }\n\n  open = event => {\n    if (!this.iconMenu) return;\n\n    const node = ReactDOM.findDOMNode(this.iconMenu);\n    if (!node) return;\n\n    this.setState({\n      children: this.menuImplementation.buildFromTemplate(\n        this.props.buildMenuTemplate()\n      ),\n    });\n    this.menuImplementation.showMenu(node.getBoundingClientRect());\n\n    this.iconMenu.open('unknown', event);\n  };\n\n  _onClick = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (!this.iconMenu) return;\n\n    const node = ReactDOM.findDOMNode(this.iconMenu);\n    if (!node) return;\n\n    this.setState({\n      children: this.menuImplementation.buildFromTemplate(\n        this.props.buildMenuTemplate()\n      ),\n    });\n    this.menuImplementation.showMenu(node.getBoundingClientRect());\n  };\n\n  render() {\n    const { buildMenuTemplate, ...iconMenuProps } = this.props; //eslint-disable-line\n\n    // Use disableAutoFocus to avoid making TextField lose focus.\n    // See material-ui bug: https://github.com/callemall/material-ui/issues/4387\n    return (\n      <IconMenu\n        {...iconMenuProps}\n        onClick={this._onClick}\n        ref={iconMenu => (this.iconMenu = iconMenu)}\n        desktop\n        disableAutoFocus\n        {...this.menuImplementation.getMenuProps()}\n      >\n        {this.state.children}\n      </IconMenu>\n    );\n  }\n}\n","// @flow\nimport { fuzzyOrEmptyFilter } from '../Utils/FuzzyOrEmptyFilter';\n\n/**\n * Provides props for material-ui AutoComplete components that specify\n * sensible defaults for size and popover size/positioning.\n */\nexport const defaultAutocompleteProps = {\n  fullWidth: true,\n  textFieldStyle: {\n    minWidth: 300,\n  },\n  menuProps: {\n    maxHeight: 250,\n  },\n  popoverProps: {\n    // Ensure that the Popover menu is always visible on screen\n    canAutoPosition: true,\n  },\n  filter: fuzzyOrEmptyFilter,\n};\n","import muiThemeable from 'material-ui/styles/muiThemeable';\n\n/**\n * Expose the Material UI theme.\n * TODO: All components using muiThemeable HOC should be migrated to\n * use this component instead (will ease any future migration).\n */\nconst ThemeConsumer = props => props.children(props.muiTheme);\n\nexport default muiThemeable()(ThemeConsumer);\n","// @flow\nimport createReactContext, { type Context } from 'create-react-context';\n\nexport type AlertMessageIdentifier =\n  | 'use-non-smoothed-textures'\n  | 'use-nearest-scale-mode';\n\nexport type PreferencesValues = {|\n  language: string,\n  autoDownloadUpdates: boolean,\n  themeName: string,\n  codeEditorThemeName: string,\n  hiddenAlertMessages: { [AlertMessageIdentifier]: boolean },\n  autoDisplayChangelog: boolean,\n  lastLaunchedVersion: ?string,\n|};\n\nexport type Preferences = {|\n  values: PreferencesValues,\n  setLanguage: (language: string) => void,\n  setThemeName: (themeName: string) => void,\n  setCodeEditorThemeName: (codeEditorThemeName: string) => void,\n  setAutoDownloadUpdates: (enabled: boolean) => void,\n  checkUpdates: (forceDownload?: boolean) => void,\n  setAutoDisplayChangelog: (enabled: boolean) => void,\n  showAlertMessage: (identifier: AlertMessageIdentifier, show: boolean) => void,\n  verifyIfIsNewVersion: () => boolean,\n|};\n\nexport const initialPreferences = {\n  values: {\n    language: 'en',\n    autoDownloadUpdates: true,\n    themeName: 'GDevelop default',\n    codeEditorThemeName: 'vs-dark',\n    hiddenAlertMessages: {},\n    autoDisplayChangelog: true,\n    lastLaunchedVersion: undefined,\n  },\n  setLanguage: () => {},\n  setThemeName: () => {},\n  setCodeEditorThemeName: () => {},\n  setAutoDownloadUpdates: () => {},\n  checkUpdates: () => {},\n  setAutoDisplayChangelog: () => {},\n  showAlertMessage: (identifier: AlertMessageIdentifier, show: boolean) => {},\n  verifyIfIsNewVersion: () => false,\n};\n\nconst PreferencesContext: Context<Preferences> = createReactContext(\n  initialPreferences\n);\n\nexport default PreferencesContext;\n","// @flow\nimport * as React from 'react';\nimport { serializeToJSObject } from '../../Utils/Serializer';\nimport { rgbToHexNumber } from '../../Utils/ColorTransformer';\n\n//TODO: try BaseEditor<Props,State>\nexport default class BaseEditor extends React.Component<*, *> {\n  static defaultProps = {\n    setToolbar: () => {},\n  };\n\n  getProject(): ?gdProject {\n    return this.props.project;\n  }\n\n  getLayout(): ?gdLayout {\n    return null;\n  }\n\n  saveUiSettings = () => {\n    // Implement in the editor, if needed.\n  };\n\n  shouldComponentUpdate(nextProps: *) {\n    // Prevent any update to the editor if the editor is not active,\n    // and so not visible to the user. For editors that do special work when isActive\n    // is set to false (for example to disable PIXI rendering), shouldComponentUpdate\n    // should be overriden with a proper implementation.\n    if (!nextProps.isActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  updateToolbar() {\n    console.warn('No toolbar defined for this editor');\n\n    if (this.props.setToolbar) this.props.setToolbar(null);\n  }\n\n  getSerializedElements() {\n    throw new Error(\n      'The editor has not implemented getSerializedElements to return what should be serialized'\n    );\n  }\n\n  static getLayoutSerializedElements(layout: ?gdLayout) {\n    if (!layout) return {};\n\n    return {\n      windowTitle: layout.getWindowDefaultTitle(),\n      layers: serializeToJSObject(layout, 'serializeLayersTo'),\n      backgroundColor:\n        '' +\n        rgbToHexNumber(\n          layout.getBackgroundColorRed(),\n          layout.getBackgroundColorGreen(),\n          layout.getBackgroundColorBlue()\n        ),\n    };\n  }\n}\n","/**\n * RenderedInstance is the base class used for creating renderers of instances,\n * which display on the scene editor, using Pixi.js, the instance of an object (see InstancesEditor).\n *\n * @class RenderedInstance\n * @constructor\n */\nfunction RenderedInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  this._pixiObject = null;\n  this._instance = instance;\n  this._associatedObject = associatedObject;\n  this._pixiContainer = pixiContainer;\n  this._project = project;\n  this._layout = layout;\n  this._pixiResourcesLoader = pixiResourcesLoader;\n  this.wasUsed = true; //Used by InstancesRenderer to track rendered instance that are not used anymore.\n}\n\n/**\n * Convert an angle from degrees to radians.\n */\nRenderedInstance.toRad = function(angleInDegrees) {\n  return (angleInDegrees / 180) * 3.14159;\n};\n\n/**\n * Called when the scene editor is rendered.\n */\nRenderedInstance.prototype.update = function() {\n  //Nothing to do.\n};\n\nRenderedInstance.prototype.getPixiObject = function() {\n  return this._pixiObject;\n};\n\nRenderedInstance.prototype.getInstance = function() {\n  return this._instance;\n};\n\n/**\n * Called to notify the instance renderer that its associated instance was removed from\n * the scene. The PIXI object should probably be removed from the container: This is what\n * the default implementation of the method does.\n */\nRenderedInstance.prototype.instanceRemovedFromScene = function() {\n  if (\n    this._pixiObject !== null &&\n    this._pixiContainer.children.indexOf(this._pixiObject) !== -1\n  )\n    this._pixiContainer.removeChild(this._pixiObject);\n};\n\nRenderedInstance.prototype.getOriginX = function() {\n  return 0;\n};\n\nRenderedInstance.prototype.getOriginY = function() {\n  return 0;\n};\n\n/**\n * Return the width of the instance when the instance doesn't have a custom size.\n */\nRenderedInstance.prototype.getDefaultWidth = function() {\n  return 32;\n};\n\n/**\n * Return the height of the instance when the instance doesn't have a custom size.\n */\nRenderedInstance.prototype.getDefaultHeight = function() {\n  return 32;\n};\n\nexport default RenderedInstance;\n","// TODO: add flow\nimport createReactContext, { type Context } from 'create-react-context';\n\nexport type UserProfile = {|\n  authenticated: boolean,\n  profile: ?Profile,\n  limits: ?Limits,\n  usages: ?Usages,\n  subscription: ?Subscription,\n  onLogout: () => void,\n  onLogin: () => void,\n  onRefreshUserProfile: () => void,\n|};\n\nexport const initialUserProfile = {\n  authenticated: false,\n  profile: null,\n  subscription: null,\n  usages: null,\n  limits: null,\n  onLogout: () => {},\n  onLogin: () => {},\n  onRefreshUserProfile: () => {},\n};\n\nconst UserProfileContext: Context<UserProfile> = createReactContext(\n  initialUserProfile\n);\n\nexport default UserProfileContext;\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport { withSerializableObject } from '../Utils/SerializableObjectEditorContainer';\nimport VariablesList from './index';\n\nconst gd = global.gd;\n\nexport class VariablesEditorDialog extends Component {\n  render() {\n    const {\n      onCancel,\n      onApply,\n      open,\n      onEditObjectVariables,\n      title,\n      emptyExplanationMessage,\n      emptyExplanationSecondMessage,\n      variablesContainer,\n    } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        onClick={this.props.onCancel}\n        key={'Cancel'}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary\n        keyboardFocused\n        onClick={onApply}\n        key={'Apply'}\n      />,\n    ];\n    const secondaryActions = onEditObjectVariables ? (\n      <FlatButton\n        label={<Trans>Edit Object Variables</Trans>}\n        primary={false}\n        onClick={onEditObjectVariables}\n      />\n    ) : null;\n\n    return (\n      <Dialog\n        noMargin\n        actions={actions}\n        modal\n        open={open}\n        onRequestClose={onCancel}\n        autoScrollBodyContent\n        secondaryActions={secondaryActions}\n        title={title}\n      >\n        <VariablesList\n          variablesContainer={variablesContainer}\n          emptyExplanationMessage={emptyExplanationMessage}\n          emptyExplanationSecondMessage={emptyExplanationSecondMessage}\n          onSizeUpdated={\n            () =>\n              this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n          }\n        />\n      </Dialog>\n    );\n  }\n}\n\nexport default withSerializableObject(VariablesEditorDialog, {\n  newObjectCreator: () => new gd.VariablesContainer(),\n  propName: 'variablesContainer',\n});\n","// @flow\nimport optionalRequire from './OptionalRequire.js';\nconst electron = optionalRequire('electron');\nconst electronClipboard = electron ? electron.clipboard : null;\n\nexport type ClipboardKind = string;\n\nlet internalClipboard = '';\n\nexport default class Clipboard {\n  static set(kind: ClipboardKind, object: any) {\n    const text = JSON.stringify({\n      '000kind': kind, /// 000 to ensure the key is written first.\n      content: object,\n    });\n\n    if (electronClipboard) {\n      electronClipboard.writeText(text);\n    } else {\n      internalClipboard = text;\n    }\n  }\n\n  static has(kind: ClipboardKind): boolean {\n    let text = '';\n    if (electronClipboard) {\n      text = electronClipboard.readText();\n    } else {\n      text = internalClipboard;\n    }\n\n    return text.indexOf(kind) === 12; /// 12 is the position of '000kind' value\n  }\n\n  static get(kind: ClipboardKind): any {\n    if (!Clipboard.has(kind)) return null;\n\n    let text = '';\n    if (electronClipboard) {\n      text = electronClipboard.readText();\n    } else {\n      text = internalClipboard;\n    }\n\n    try {\n      const parsedText = JSON.parse(text);\n      return parsedText.content;\n    } catch (e) {\n      console.warn('The clipboard content is not valid JSON');\n      return null;\n    }\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport MenuItem from 'material-ui/MenuItem';\nimport Divider from 'material-ui/Divider';\nimport IconButton from 'material-ui/IconButton';\nimport Add from 'material-ui/svg-icons/content/add';\nimport Brush from 'material-ui/svg-icons/image/brush';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n  type ResourceKind,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport ResourcesLoader from '../ResourcesLoader';\nimport { defaultAutocompleteProps } from '../UI/AutocompleteProps';\n\ntype Props = {|\n  project: gdProject,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  resourcesLoader: typeof ResourcesLoader,\n  resourceKind: ResourceKind,\n  fullWidth?: boolean,\n  initialResourceName: string,\n  onChange: string => void,\n  floatingLabelText?: React.Node,\n  hintText?: React.Node,\n|};\n\ntype State = {|\n  notExistingError: boolean,\n  resourceName: string,\n|};\n\ntype AutoCompleteItem =\n  | {|\n      text: string,\n      value: React.Node,\n      onClick?: () => void,\n    |}\n  | string;\n\nconst styles = {\n  autoComplete: { minWidth: 300 },\n  container: { display: 'flex', flex: 1, alignItems: 'baseline' },\n};\n\nexport default class ResourceSelector extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      notExistingError: false,\n      resourceName: props.initialResourceName || '',\n    };\n\n    const { project } = props;\n    if (project) {\n      this._loadFrom(project.getResourcesManager());\n    }\n  }\n\n  allResourcesNames: Array<string>;\n  defaultItems: Array<AutoCompleteItem>;\n  autoCompleteData: ?Array<AutoCompleteItem>;\n  _autoComplete: ?AutoComplete;\n\n  focus() {\n    if (this._autoComplete) this._autoComplete.focus();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.initialResourceName !== this.props.initialResourceName) {\n      this.setState({\n        resourceName: nextProps.initialResourceName || '',\n      });\n    }\n  }\n\n  _getDefaultItems(): Array<AutoCompleteItem> {\n    const sources = this.props.resourceSources || [];\n    return [\n      ...sources\n        .filter(source => source.kind === this.props.resourceKind)\n        .map(source => ({\n          text: '',\n          value: (\n            <MenuItem primaryText={source.displayName} rightIcon={<Add />} />\n          ),\n          onClick: () => this._addFrom(source),\n        })),\n      {\n        text: '',\n        value: <Divider />,\n      },\n    ];\n  }\n\n  _loadFrom(resourcesManager: gdResourcesManager) {\n    this.allResourcesNames = resourcesManager.getAllResourceNames().toJSArray();\n    if (this.props.resourceKind) {\n      this.allResourcesNames = this.allResourcesNames.filter(resourceName => {\n        return (\n          resourcesManager.getResource(resourceName).getKind() ===\n          this.props.resourceKind\n        );\n      });\n    }\n    this.defaultItems = this._getDefaultItems();\n    this.autoCompleteData = [...this.defaultItems, ...this.allResourcesNames];\n  }\n\n  _addFrom = (source: ResourceSource) => {\n    if (!source) return;\n\n    const { project, onChooseResource } = this.props;\n    onChooseResource(source.name, false)\n      .then(resources => {\n        if (!resources.length) return;\n        const resource = resources[0];\n\n        // addResource will check if a resource with the same name exists, and if it is\n        // the case, no new resource will be added.\n        project.getResourcesManager().addResource(resource);\n\n        this._loadFrom(project.getResourcesManager());\n        this._onUpdate(resource.getName());\n      })\n      .catch(err => {\n        // TODO: Display an error message\n        console.error('Unable to choose a resource', err);\n      });\n  };\n\n  _onUpdate = (searchText: string) => {\n    this.setState(\n      {\n        resourceName: searchText,\n        notExistingError: this.allResourcesNames.indexOf(searchText) === -1,\n      },\n      () => {\n        if (!this.state.notExistingError) {\n          if (this.props.onChange) this.props.onChange(searchText);\n        }\n\n        // Keep focusing the field after choosing something (won't do anything\n        // if we're just typing text).\n        this.focus();\n      }\n    );\n  };\n\n  _onItemChosen = (text: string, index: number) => {\n    if (index === -1 || index >= this.defaultItems.length)\n      return this._onUpdate(text);\n\n    // We're now sure that onClick is defined\n    // $FlowFixMe\n    const onClick = this.defaultItems[index].onClick;\n    if (onClick) onClick();\n  };\n\n  _editWith = (resourceExternalEditor: ResourceExternalEditor) => {\n    const { project, resourcesLoader, resourceKind } = this.props;\n    const { resourceName } = this.state;\n    const resourcesManager = project.getResourcesManager();\n    const initialResource = resourcesManager.getResource(resourceName);\n\n    let initialResourceMetadata = {};\n    const initialResourceMetadataRaw = initialResource.getMetadata();\n    if (initialResourceMetadataRaw) {\n      try {\n        initialResourceMetadata = JSON.parse(initialResourceMetadataRaw);\n      } catch (e) {\n        console.error('Malformed metadata', e);\n      }\n    }\n\n    if (resourceKind === 'image') {\n      const resourceNames = [];\n      if (resourcesManager.hasResource(resourceName)) {\n        resourceNames.push(resourceName);\n      }\n      const externalEditorOptions = {\n        project,\n        resourcesLoader,\n        singleFrame: true,\n        resourceNames,\n        extraOptions: {\n          fps: 0,\n          name: resourceName,\n          isLooping: false,\n          externalEditorData: initialResourceMetadata,\n        },\n        onChangesSaved: resources => {\n          if (!resources.length) return;\n\n          // Burst the ResourcesLoader cache to force images to be reloaded (and not cached by the browser).\n          resourcesLoader.burstUrlsCacheForResources(project, [\n            resources[0].name,\n          ]);\n          this.props.onChange(resources[0].name);\n        },\n      };\n      resourceExternalEditor.edit(externalEditorOptions);\n    } else if (resourceKind === 'audio') {\n      const externalEditorOptions = {\n        project,\n        resourcesLoader,\n        resourceNames: [resourceName],\n        extraOptions: {\n          initialResourceMetadata,\n        },\n        onChangesSaved: (newResourceData, newResourceName) => {\n          // Burst the ResourcesLoader cache to force audio to be reloaded (and not cached by the browser).\n          resourcesLoader.burstUrlsCacheForResources(project, [\n            newResourceName,\n          ]);\n          this.props.onChange(newResourceName);\n        },\n      };\n      resourceExternalEditor.edit(externalEditorOptions);\n    }\n  };\n\n  render() {\n    const errorText = this.state.notExistingError\n      ? 'This resource does not exist in the game'\n      : null;\n\n    const externalEditors = this.props.resourceExternalEditors.filter(\n      externalEditor => externalEditor.kind === this.props.resourceKind\n    );\n\n    return (\n      <div style={styles.container}>\n        <AutoComplete\n          {...defaultAutocompleteProps}\n          floatingLabelText={this.props.floatingLabelText}\n          hintText={this.props.hintText}\n          openOnFocus\n          dataSource={this.autoCompleteData || []}\n          onUpdateInput={this._onUpdate}\n          onNewRequest={this._onItemChosen}\n          errorText={errorText}\n          searchText={this.state.resourceName}\n          fullWidth={this.props.fullWidth}\n          style={styles.autoComplete}\n          ref={autoComplete => (this._autoComplete = autoComplete)}\n        />\n        {!!externalEditors.length && (\n          <IconMenu\n            iconButtonElement={\n              <IconButton>\n                <Brush />\n              </IconButton>\n            }\n            buildMenuTemplate={() =>\n              externalEditors.map(externalEditor => ({\n                label: externalEditor.displayName,\n                click: () => this._editWith(externalEditor),\n              }))\n            }\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\n\nexport const getHelpLink = (path: string): string =>\n  `http://wiki.compilgames.net/doku.php/gdevelop5${path}?utm_source=gdevelop&utm_medium=help-link`;\n","// @flow\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\n\ntype Props = {|\n  children: React.Node,\n|};\n\nexport default (props: Props) => {\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      <Paper\n        zDepth={3}\n        style={{\n          padding: 10,\n          margin: 5,\n        }}\n      >\n        {props.children}\n      </Paper>\n    </div>\n  );\n};\n","import React, { Component } from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport ThemeConsumer from './Theme/ThemeConsumer';\n\n/**\n * An icon that can be used in a ToolbarGroup of material-ui Toolbar.\n * See also ListIcon.\n */\nexport default class ToolbarIcon extends Component {\n  render() {\n    const { src, tooltip, disabled, ...otherProps } = this.props;\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <IconButton\n            {...otherProps}\n            iconStyle={{\n              //Properly align icons with the rest of the toolbar\n              marginLeft: -4,\n              marginTop: -4,\n              filter: disabled\n                ? 'grayscale(100%)'\n                : muiTheme.gdevelopIconsCSSFilter,\n            }}\n          >\n            <img\n              title={tooltip}\n              alt={tooltip}\n              src={src}\n              width={32}\n              height={32}\n            />\n          </IconButton>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","import React from 'react';\nimport { ToolbarSeparator } from 'material-ui/Toolbar';\n\nexport default props => {\n  return (\n    <ToolbarSeparator\n      style={{\n        marginLeft: 0,\n      }}\n      {...props}\n    />\n  );\n};\n","// @flow\nimport React, { PureComponent } from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport ThemeConsumer from './Theme/ThemeConsumer';\n// No i18n in this file\n\ntype Props = {\n  src: string,\n  tooltip?: string,\n  disabled?: boolean,\n  isGDevelopIcon?: boolean,\n  iconSize: number,\n};\n\n/**\n * An icon that can be used as the leftIcon of a material-ui ListItem.\n * See also ToolbarIcon.\n */\nexport default class ListIcon extends PureComponent<Props> {\n  render() {\n    const {\n      src,\n      tooltip,\n      disabled,\n      isGDevelopIcon,\n      iconSize,\n      ...otherProps\n    } = this.props;\n\n    const margin = -iconSize / 2;\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <IconButton\n            {...otherProps}\n            iconStyle={{\n              //Properly align icons with the rest of the list\n              marginLeft: margin,\n              marginTop: margin,\n              maxWidth: iconSize,\n              maxHeight: iconSize,\n              filter: !isGDevelopIcon\n                ? undefined\n                : disabled\n                ? 'grayscale(100%)'\n                : muiTheme.gdevelopIconsCSSFilter,\n            }}\n          >\n            <img\n              title={tooltip}\n              alt={tooltip}\n              src={src}\n              crossOrigin=\"anonymous\"\n            />\n          </IconButton>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","// @flow\nimport { showErrorBox } from '../UI/Messages/MessageBox';\nimport values from 'lodash/values';\n\nexport type ProjectError = {\n  type: 'error' | 'warning',\n  message: string,\n  extraExplanation: string,\n};\n\nexport type ProjectErrors = {\n  [string]: Array<ProjectError>,\n};\n\ntype TFunction = string => string; //TODO\n\nexport const getErrors = (t: TFunction, project: gdProject): ProjectErrors => {\n  const errors: ProjectErrors = {};\n\n  const addError = (\n    propertyName: string,\n    type: 'error' | 'warning',\n    message: string,\n    extraExplanation: string = ''\n  ) => {\n    if (!errors[propertyName]) errors[propertyName] = [];\n\n    errors[propertyName].push({\n      type,\n      message,\n      extraExplanation,\n    });\n  };\n\n  if (!project.getPackageName()) {\n    addError(\n      'packageName',\n      'error',\n      t('The package name is empty.'),\n      t('Choose and enter a package name in the game properties.')\n    );\n  } else if (project.getPackageName().length >= 255) {\n    addError(\n      'packageName',\n      'error',\n      t('The package name is too long.'),\n      t('Change the package name in the game properties.')\n    );\n  }\n\n  if (!project.getName()) {\n    addError(\n      'name',\n      'error',\n      t('The name of your game is too long.'),\n      t('Change the name in the game properties.')\n    );\n  }\n\n  if (!project.getVersion() || project.getVersion().split('.').length < 3) {\n    addError(\n      'packageName',\n      'error',\n      t(\"The version that you've set for the game is invalid.\"),\n      t('Enter a version in the game properties.')\n    );\n  }\n\n  return errors;\n};\n\nexport const displayProjectErrorsBox = (\n  t: TFunction,\n  errors: ProjectErrors\n): boolean => {\n  if (!Object.keys(errors).length) return true;\n\n  showErrorBox(\n    t(\n      'Your game has some invalid elements, please fix these before continuing:'\n    ) +\n      '\\n\\n' +\n      values(errors)\n        .map(errors =>\n          errors.map((error: ProjectError) => `- ${error.message}`).join('\\n')\n        )\n        .join('\\n')\n  );\n\n  return false;\n};\n","// @flow\nimport * as React from 'react';\nimport Instruction, { reactDndInstructionType } from './Instruction';\nimport { mapFor } from '../../Utils/MapFor';\nimport {\n  isInstructionSelected,\n  type InstructionsListContext,\n  type InstructionContext,\n  type ParameterContext,\n} from '../SelectionHandler';\nimport { actionsContainer, conditionsContainer } from './ClassNames';\nimport {\n  DropTarget,\n  type DropTargetMonitor,\n  type DropTargetConnector,\n  type ConnectDropTarget,\n} from 'react-dnd';\nimport DropIndicator from './DropIndicator';\nimport { Trans } from '@lingui/macro';\n\nconst styles = {\n  addButton: {\n    cursor: 'pointer',\n  },\n};\n\ntype DropTargetProps = {|\n  connectDropTarget: ConnectDropTarget,\n  isOver: boolean,\n  canDrop: boolean,\n|};\n\ntype Props = {\n  instrsList: gdInstructionsList,\n  areConditions: boolean,\n  onAddNewInstruction: InstructionsListContext => void,\n  onMoveToInstruction: (destinationContext: InstructionContext) => void,\n  onMoveToInstructionsList: (\n    destinationContext: InstructionsListContext\n  ) => void,\n  onInstructionClick: InstructionContext => void,\n  onInstructionDoubleClick: InstructionContext => void,\n  onInstructionContextMenu: (x: number, y: number, InstructionContext) => void,\n  onInstructionsListContextMenu: (\n    x: number,\n    y: number,\n    InstructionsListContext\n  ) => void,\n  onParameterClick: ParameterContext => void,\n  selection: any,\n  addButtonLabel?: React.Node,\n  extraClassName?: string,\n  style?: Object,\n  disabled: boolean,\n  ...DropTargetProps,\n};\n\nclass InstructionsList extends React.Component<Props, *> {\n  onAddNewInstruction = () => {\n    if (this.props.onAddNewInstruction)\n      this.props.onAddNewInstruction({\n        instrsList: this.props.instrsList,\n        isCondition: this.props.areConditions,\n      });\n  };\n\n  render() {\n    const {\n      addButtonLabel,\n      areConditions,\n      extraClassName,\n      instrsList,\n      onAddNewInstruction,\n      onMoveToInstruction,\n      onMoveToInstructionsList,\n      onInstructionClick,\n      onInstructionContextMenu,\n      onInstructionDoubleClick,\n      onInstructionsListContextMenu,\n      onParameterClick,\n      selection,\n      style,\n      disabled,\n    } = this.props;\n\n    const { connectDropTarget, isOver, canDrop } = this.props;\n\n    const instructions = mapFor(0, instrsList.size(), i => {\n      const instruction = instrsList.get(i);\n      const instructionContext = {\n        isCondition: areConditions,\n        instrsList: instrsList,\n        instruction,\n        indexInList: i,\n      };\n\n      return (\n        // $FlowFixMe - Flow don't see that DropTarget hoc is being used in instructions?\n        <Instruction\n          instruction={instruction}\n          isCondition={areConditions}\n          key={instruction.ptr}\n          selected={isInstructionSelected(selection, instruction)}\n          onMoveToInstruction={() => onMoveToInstruction(instructionContext)}\n          onClick={() => onInstructionClick(instructionContext)}\n          onDoubleClick={() => onInstructionDoubleClick(instructionContext)}\n          onContextMenu={(x, y) =>\n            onInstructionContextMenu(x, y, instructionContext)\n          }\n          onParameterClick={(domEvent, parameterIndex) =>\n            onParameterClick({\n              isCondition: instructionContext.isCondition,\n              instrsList: instructionContext.instrsList,\n              instruction: instructionContext.instruction,\n              indexInList: instructionContext.indexInList,\n              parameterIndex,\n              domEvent,\n            })\n          }\n          selection={selection}\n          onAddNewSubInstruction={onAddNewInstruction}\n          onMoveToSubInstruction={onMoveToInstruction}\n          onMoveToSubInstructionsList={onMoveToInstructionsList}\n          onSubInstructionClick={onInstructionClick}\n          onSubInstructionDoubleClick={onInstructionDoubleClick}\n          onSubInstructionContextMenu={onInstructionContextMenu}\n          onSubInstructionsListContextMenu={onInstructionsListContextMenu}\n          onSubParameterClick={onParameterClick}\n          disabled={disabled}\n        />\n      );\n    });\n\n    const instructionsListContext = {\n      isCondition: areConditions,\n      instrsList: instrsList,\n    };\n    const addButtonDefaultLabel = areConditions ? (\n      <Trans>Add condition</Trans>\n    ) : (\n      <Trans>Add action</Trans>\n    );\n    const instructionsList = connectDropTarget(\n      <div\n        className={`${\n          areConditions ? conditionsContainer : actionsContainer\n        } ${extraClassName || ''}`}\n        style={style}\n      >\n        {instructions}\n        {isOver && <DropIndicator canDrop={canDrop} />}\n        <button\n          style={styles.addButton}\n          className=\"add-link\"\n          onClick={this.onAddNewInstruction}\n          onContextMenu={e => {\n            e.stopPropagation();\n            onInstructionsListContextMenu(\n              e.clientX,\n              e.clientY,\n              instructionsListContext\n            );\n          }}\n        >\n          {addButtonLabel || addButtonDefaultLabel}\n        </button>\n      </div>\n    );\n\n    return instructionsList || null;\n  }\n}\n\n// Drag'n'drop support:\n\nconst instructionsListTarget = {\n  canDrop(props: Props, monitor: DropTargetMonitor) {\n    return (\n      monitor.getItem() && monitor.getItem().isCondition === props.areConditions\n    );\n  },\n  drop(props: Props, monitor: DropTargetMonitor) {\n    if (monitor.didDrop()) {\n      return; // Drop already handled by an instruction\n    }\n    props.onMoveToInstructionsList({\n      isCondition: props.areConditions,\n      instrsList: props.instrsList,\n    });\n  },\n};\n\nfunction targetCollect(\n  connect: DropTargetConnector,\n  monitor: DropTargetMonitor\n): DropTargetProps {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n  };\n}\n\n// $FlowFixMe - Typing of DragSource/DropTarget is a pain to get correctly\nexport default DropTarget(\n  reactDndInstructionType,\n  instructionsListTarget,\n  targetCollect\n)(InstructionsList);\n","// @flow\nimport { mapFor } from '../Utils/MapFor';\nimport flatten from 'lodash/flatten';\nconst gd = global.gd;\n\nexport type EnumeratedObjectMetadata = {|\n  extension: gdPlatformExtension,\n  objectMetadata: gdObjectMetadata,\n  name: string,\n  fullName: string,\n  description: string,\n  iconFilename: string,\n|};\n\nexport type ObjectWithContext = {|\n  object: gdObject,\n  global: boolean,\n|};\n\nexport type GroupWithContext = {|\n  group: gdObjectGroup,\n  global: boolean,\n|};\n\nexport type ObjectWithContextList = Array<ObjectWithContext>;\nexport type GroupWithContextList = Array<GroupWithContext>;\n\nexport const enumerateObjects = (\n  project: gdProject,\n  objectsContainer: gdObjectsContainer,\n  type: ?string = undefined\n) => {\n  const filterObject = (object: gdObject): boolean => {\n    return (\n      !type ||\n      gd.getTypeOfObject(project, objectsContainer, object.getName(), false) ===\n        type\n    );\n  };\n\n  const containerObjectsList: ObjectWithContextList = mapFor(\n    0,\n    objectsContainer.getObjectsCount(),\n    i => objectsContainer.getObjectAt(i)\n  )\n    .filter(filterObject)\n    .map((object: gdObject): ObjectWithContext => ({ object, global: false }));\n\n  const projectObjectsList: ObjectWithContextList =\n    project === objectsContainer\n      ? []\n      : mapFor(0, project.getObjectsCount(), i => project.getObjectAt(i))\n          .filter(filterObject)\n          .map(\n            (object: gdObject): ObjectWithContext => ({\n              object,\n              global: true,\n            })\n          );\n\n  const allObjectsList: ObjectWithContextList = containerObjectsList.concat(\n    projectObjectsList\n  );\n\n  return {\n    containerObjectsList,\n    projectObjectsList,\n    allObjectsList,\n  };\n};\n\nexport const enumerateObjectTypes = (\n  project: gdProject\n): Array<EnumeratedObjectMetadata> => {\n  const platform = project.getCurrentPlatform();\n  const extensionsList = platform.getAllPlatformExtensions();\n\n  return flatten(\n    mapFor(0, extensionsList.size(), i => {\n      const extension = extensionsList.at(i);\n\n      return extension\n        .getExtensionObjectsTypes()\n        .toJSArray()\n        .map(objectType => extension.getObjectMetadata(objectType))\n        .map(objectMetadata => ({\n          extension,\n          objectMetadata,\n          name: objectMetadata.getName(),\n          fullName: objectMetadata.getFullName(),\n          description: objectMetadata.getDescription(),\n          iconFilename: objectMetadata.getIconFilename(),\n        }));\n    })\n  );\n};\n\nexport const filterObjectsList = (\n  list: ObjectWithContextList,\n  searchText: string\n): ObjectWithContextList => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter((objectWithContext: ObjectWithContext) => {\n    return (\n      objectWithContext.object\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n    );\n  });\n};\n\nexport const filterGroupsList = (\n  list: GroupWithContextList,\n  searchText: string\n): GroupWithContextList => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter((groupWithContext: GroupWithContext) => {\n    return (\n      groupWithContext.group\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n    );\n  });\n};\n\nexport const enumerateObjectsAndGroups = (\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  type: ?string = undefined\n) => {\n  const filterObject = (object: gdObject): boolean => {\n    return (\n      !type ||\n      gd.getTypeOfObject(\n        globalObjectsContainer,\n        objectsContainer,\n        object.getName(),\n        false\n      ) === type\n    );\n  };\n  const filterGroup = (group: gdObjectGroup): boolean => {\n    return (\n      !type ||\n      gd.getTypeOfObject(\n        globalObjectsContainer,\n        objectsContainer,\n        group.getName(),\n        true\n      ) === type\n    );\n  };\n\n  const containerObjectsList: ObjectWithContextList = mapFor(\n    0,\n    objectsContainer.getObjectsCount(),\n    i => objectsContainer.getObjectAt(i)\n  )\n    .filter(filterObject)\n    .map(object => ({ object, global: false }));\n\n  const containerGroups = objectsContainer.getObjectGroups();\n  const containerGroupsList: GroupWithContextList = mapFor(\n    0,\n    containerGroups.count(),\n    i => {\n      return containerGroups.getAt(i);\n    }\n  )\n    .filter(filterGroup)\n    .map(group => ({ group, global: false }));\n\n  const projectObjectsList: ObjectWithContextList =\n    globalObjectsContainer === objectsContainer\n      ? []\n      : mapFor(0, globalObjectsContainer.getObjectsCount(), i =>\n          globalObjectsContainer.getObjectAt(i)\n        )\n          .filter(filterObject)\n          .map(object => ({ object, global: true }));\n\n  const projectGroups = globalObjectsContainer.getObjectGroups();\n  const projectGroupsList: GroupWithContextList =\n    globalObjectsContainer === objectsContainer\n      ? []\n      : mapFor(0, projectGroups.count(), i => {\n          return projectGroups.getAt(i);\n        })\n          .filter(filterGroup)\n          .map(group => ({ group, global: true }));\n\n  const allObjectsList: ObjectWithContextList = containerObjectsList.concat(\n    projectObjectsList\n  );\n  const allGroupsList: GroupWithContextList = containerGroupsList.concat(\n    projectGroupsList\n  );\n\n  return {\n    containerObjectsList,\n    projectObjectsList,\n    allObjectsList,\n    containerGroupsList,\n    projectGroupsList,\n    allGroupsList,\n  };\n};\n","// @flow\n\n/**\n * Convert a rgb color value to a string hex value.\n * @note No \"#\" or \"0x\" are added.\n */\nexport const rgbToHex = (r: number, g: number, b: number) =>\n  '' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n/**\n * Convert a rgb color value to a hex value.\n */\nexport const rgbToHexNumber = (r: number, g: number, b: number) =>\n  (r << 16) + (g << 8) + b;\n","import React, { Component } from 'react';\nimport Popover from 'material-ui/Popover';\n\nconst styles = {\n  popover: {\n    paddingBottom: 10,\n    paddingLeft: 5,\n    paddingRight: 5,\n    maxWidth: 600,\n    height: 80,\n    overflowY: 'hidden',\n  },\n  contentContainer: {\n    overflow: 'hidden',\n  },\n};\n\nexport default class InlinePopover extends Component {\n  render() {\n    return (\n      <Popover\n        open={this.props.open}\n        anchorEl={this.props.anchorEl}\n        style={styles.popover}\n        anchorOrigin={{ horizontal: 'middle', vertical: 'bottom' }}\n        targetOrigin={{ horizontal: 'middle', vertical: 'top' }}\n        onRequestClose={this.props.onRequestClose}\n      >\n        <div style={styles.contentContainer}>{this.props.children}</div>\n      </Popover>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst style = {\n  display: 'flex',\n  alignItems: 'center',\n  paddingLeft: 16,\n  paddingRight: 16,\n};\n\nclass ThemableMiniToolbar extends Component {\n  render() {\n    const { muiTheme, justifyContent, smallest } = this.props;\n\n    return (\n      <div\n        style={{\n          ...style,\n          height: smallest ? 34 : 48,\n          backgroundColor: muiTheme.toolbar.backgroundColor,\n          justifyContent,\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nconst toolbarTextStyle = {\n  marginRight: 5,\n};\n\nexport const MiniToolbarText = ({ children }) => (\n  <p style={toolbarTextStyle}>{children}</p>\n);\n\nexport default muiThemeable()(ThemableMiniToolbar);\n","import RenderedUnknownInstance from './Renderers/RenderedUnknownInstance';\nimport RenderedSpriteInstance from './Renderers/RenderedSpriteInstance';\nimport RenderedTiledSpriteInstance from './Renderers/RenderedTiledSpriteInstance';\nimport RenderedPanelSpriteInstance from './Renderers/RenderedPanelSpriteInstance';\nimport RenderedTextInstance from './Renderers/RenderedTextInstance';\nimport RenderedShapePainterInstance from './Renderers/RenderedShapePainterInstance';\nimport RenderedTextEntryInstance from './Renderers/RenderedTextEntryInstance';\nimport RenderedParticleEmitterInstance from './Renderers/RenderedParticleEmitterInstance';\nimport PixiResourcesLoader from './PixiResourcesLoader';\nimport ResourcesLoader from '../ResourcesLoader';\nimport RenderedInstance from './Renderers/RenderedInstance';\nimport PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * A service containing functions that are called to render instances\n * of objects in a PIXI.Container.\n */\nexport default {\n  renderers: {\n    unknownObjectType: RenderedUnknownInstance,\n    Sprite: RenderedSpriteInstance,\n    'TiledSpriteObject::TiledSprite': RenderedTiledSpriteInstance,\n    'PanelSpriteObject::PanelSprite': RenderedPanelSpriteInstance,\n    'TextObject::Text': RenderedTextInstance,\n    'PrimitiveDrawing::Drawer': RenderedShapePainterInstance,\n    'TextEntryObject::TextEntry': RenderedTextEntryInstance,\n    'ParticleSystem::ParticleEmitter': RenderedParticleEmitterInstance,\n  },\n  getThumbnail: function(project, object) {\n    var objectType = object.getType();\n    if (this.renderers.hasOwnProperty(objectType))\n      return this.renderers[objectType].getThumbnail(\n        project,\n        ResourcesLoader,\n        object\n      );\n    else\n      return this.renderers['unknownObjectType'].getThumbnail(\n        project,\n        ResourcesLoader,\n        object\n      );\n  },\n  createNewInstanceRenderer: function(\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer\n  ) {\n    var objectType = associatedObject.getType();\n    if (this.renderers.hasOwnProperty(objectType))\n      return new this.renderers[objectType](\n        project,\n        layout,\n        instance,\n        associatedObject,\n        pixiContainer,\n        PixiResourcesLoader\n      );\n    else {\n      console.warn(\n        `Object with type ${objectType} has no instance renderer registered. Please use registerInstanceRenderer to register your renderer.`\n      );\n      return new this.renderers['unknownObjectType'](\n        project,\n        layout,\n        instance,\n        associatedObject,\n        pixiContainer,\n        PixiResourcesLoader\n      );\n    }\n  },\n  registerInstanceRenderer: function(objectType, renderer) {\n    if (!renderer.getThumbnail) {\n      console.warn(\n        `Tried to register renderer for object \"${objectType}\", but getThumbnail is not defined.`\n      );\n      return;\n    }\n\n    if (this.renderers.hasOwnProperty(objectType)) {\n      console.warn(\n        `Tried to register renderer for object \"${objectType}\", but a renderer already exists.`\n      );\n      return;\n    }\n\n    console.info(`Properly registered renderer for object \"${objectType}\".`);\n    this.renderers[objectType] = renderer;\n  },\n  gd, // Expose gd so that it can be used by renderers\n  PIXI, // Expose PIXI so that it can be used by renderers\n  RenderedInstance, // Expose the base class for renderers so that it can be used by renderers\n};\n","// @flow\nimport * as React from 'react';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport InlineCheckbox from '../UI/InlineCheckbox';\nimport ResourceSelector from '../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../ResourcesLoader';\nimport Subheader from 'material-ui/Subheader';\nimport FlatButton from 'material-ui/FlatButton';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport Edit from 'material-ui/svg-icons/image/edit';\nimport IconButton from 'material-ui/IconButton';\nimport {\n  type ResourceKind,\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\n\n// An \"instance\" here is the objects for which properties are shown\nexport type Instance = Object; // This could be improved using generics.\nexport type Instances = Array<Instance>;\n\n// \"Value\" fields are fields displayed in the properties.\nexport type ValueFieldCommonProperties = {|\n  name: string,\n  getLabel?: Instance => string,\n  disabled?: boolean,\n  onEditButtonClick?: Instance => void,\n  onClick?: Instance => void,\n|};\n\n// \"Primitive\" value fields are \"simple\" fields.\nexport type PrimitiveValueField =\n  | {|\n      valueType: 'number',\n      getValue: Instance => number,\n      setValue: (instance: Instance, newValue: number) => void,\n      ...ValueFieldCommonProperties,\n    |}\n  | {|\n      valueType: 'string',\n      getValue: Instance => string,\n      setValue: (instance: Instance, newValue: string) => void,\n      getChoices?: ?() => Array<{| value: string, label: string |}>,\n      ...ValueFieldCommonProperties,\n    |}\n  | {|\n      valueType: 'boolean',\n      getValue: Instance => boolean,\n      setValue: (instance: Instance, newValue: boolean) => void,\n      ...ValueFieldCommonProperties,\n    |};\n\n// \"Resource\" fields are showing a resource selector.\ntype ResourceField = {|\n  valueType: 'resource',\n  resourceKind: ResourceKind,\n  getValue: Instance => string,\n  setValue: (instance: Instance, newValue: string) => void,\n  ...ValueFieldCommonProperties,\n|};\n\n// A value field is a primitive or a resource.\nexport type ValueField = PrimitiveValueField | ResourceField;\n\n// A field can be a primitive, a resource or a list of fields\nexport type Field =\n  | PrimitiveValueField\n  | ResourceField\n  | {|\n      name: string,\n      type: 'row' | 'column',\n      children: Array<Object>,\n    |};\n\n// The schema is the tree of all fields.\nexport type Schema = Array<Field>;\n\n// Mandatory props in any case when using the component\ntype MandatoryProps = {|\n  onInstancesModified?: Instances => void,\n  instances: Instances,\n  schema: Schema,\n  mode?: 'column' | 'row',\n|};\n\ntype Props =\n  // Mandatory props in all cases:\n  | MandatoryProps\n  // Props to be used when you want to display resources:\n  | {|\n      ...MandatoryProps,\n      project: gdProject,\n      resourceSources: Array<ResourceSource>,\n      onChooseResource: ChooseResourceFunction,\n      resourceExternalEditors: Array<ResourceExternalEditor>,\n    |};\n\nconst styles = {\n  columnContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  rowContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'baseline',\n  },\n  fieldContainer: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'baseline',\n  },\n  field: {\n    flex: 1,\n    width: 'auto',\n  },\n  subPropertiesEditorContainer: {\n    marginLeft: 15,\n  },\n  subHeader: {\n    paddingLeft: 0,\n  },\n};\n\nconst getFieldValue = (\n  instances: Instances,\n  field: ValueField,\n  defaultValue?: any\n): any => {\n  if (!instances[0]) {\n    console.log(\n      'getFieldValue was called with an empty list of instances (or containing undefined). This is a bug that should be fixed'\n    );\n    return defaultValue;\n  }\n\n  let value = field.getValue(instances[0]);\n  for (var i = 1; i < instances.length; ++i) {\n    if (value !== field.getValue(instances[i])) {\n      if (typeof defaultValue !== 'undefined') value = defaultValue;\n      break;\n    }\n  }\n\n  return value;\n};\n\nconst getFieldLabel = (instances: Instances, field: ValueField): any => {\n  if (!instances[0]) {\n    console.log(\n      'PropertiesEditor._getFieldLabel was called with an empty list of instances (or containing undefined). This is a bug that should be fixed'\n    );\n    return field.name;\n  }\n\n  if (field.getLabel) return field.getLabel(instances[0]);\n\n  return field.name;\n};\n\nexport default class PropertiesEditor extends React.Component<Props, {||}> {\n  _onInstancesModified = (instances: Instances) => {\n    // This properties editor is dealing with fields that are\n    // responsible to update their state (see field.setValue).\n\n    if (this.props.onInstancesModified)\n      this.props.onInstancesModified(instances);\n    else this.forceUpdate();\n  };\n\n  _renderInputField = (field: ValueField) => {\n    if (field.name === 'PLEASE_ALSO_SHOW_EDIT_BUTTON_THANKS') return null; // This special property was used in GDevelop 4 IDE to ask for a Edit button to be shown, ignore it.\n\n    if (field.valueType === 'boolean') {\n      return (\n        <InlineCheckbox\n          label={getFieldLabel(this.props.instances, field)}\n          key={field.name}\n          checked={getFieldValue(this.props.instances, field)}\n          onCheck={(event, newValue) => {\n            this.props.instances.forEach(i => field.setValue(i, !!newValue));\n            this._onInstancesModified(this.props.instances);\n          }}\n          disabled={field.disabled}\n        />\n      );\n    } else if (field.valueType === 'number') {\n      const { setValue } = field;\n      return (\n        <SemiControlledTextField\n          value={getFieldValue(this.props.instances, field)}\n          key={field.name}\n          id={field.name}\n          floatingLabelText={getFieldLabel(this.props.instances, field)}\n          floatingLabelFixed\n          onChange={newValue => {\n            this.props.instances.forEach(i =>\n              setValue(i, parseFloat(newValue) || 0)\n            );\n            this._onInstancesModified(this.props.instances);\n          }}\n          type=\"number\"\n          style={styles.field}\n          disabled={field.disabled}\n        />\n      );\n    } else {\n      const { onEditButtonClick, setValue } = field;\n      return (\n        <div style={styles.fieldContainer} key={field.name}>\n          <SemiControlledTextField\n            value={getFieldValue(\n              this.props.instances,\n              field,\n              '(Multiple values)'\n            )}\n            id={field.name}\n            floatingLabelText={getFieldLabel(this.props.instances, field)}\n            floatingLabelFixed\n            onChange={newValue => {\n              this.props.instances.forEach(i => setValue(i, newValue || ''));\n              this._onInstancesModified(this.props.instances);\n            }}\n            style={styles.field}\n            disabled={field.disabled}\n          />\n          {onEditButtonClick && (\n            <IconButton\n              disabled={this.props.instances.length !== 1}\n              onClick={() => onEditButtonClick(this.props.instances[0])}\n            >\n              <Edit />\n            </IconButton>\n          )}\n        </div>\n      );\n    }\n  };\n\n  _renderSelectField = (field: ValueField) => {\n    if (!field.getChoices || !field.getValue) return;\n\n    const children = field\n      .getChoices()\n      .map(({ value, label }) => (\n        <MenuItem key={value} value={value} primaryText={label} />\n      ));\n\n    if (field.valueType === 'number') {\n      const { setValue } = field;\n      return (\n        <SelectField\n          value={getFieldValue(this.props.instances, field)}\n          key={field.name}\n          floatingLabelText={getFieldLabel(this.props.instances, field)}\n          floatingLabelFixed\n          onChange={(event, index, newValue) => {\n            this.props.instances.forEach(i =>\n              setValue(i, parseFloat(newValue) || 0)\n            );\n            this._onInstancesModified(this.props.instances);\n          }}\n          style={styles.field}\n          disabled={field.disabled}\n        >\n          {children}\n        </SelectField>\n      );\n    } else {\n      return (\n        <SelectField\n          value={getFieldValue(\n            this.props.instances,\n            field,\n            '(Multiple values)'\n          )}\n          key={field.name}\n          floatingLabelText={getFieldLabel(this.props.instances, field)}\n          floatingLabelFixed\n          onChange={(event, index, newValue) => {\n            this.props.instances.forEach(i =>\n              field.setValue(i, newValue || '')\n            );\n            this._onInstancesModified(this.props.instances);\n          }}\n          style={styles.field}\n          disabled={field.disabled}\n        >\n          {children}\n        </SelectField>\n      );\n    }\n  };\n\n  _renderButton = (field: ValueField) => {\n    //TODO: multi selection handling\n    return (\n      <FlatButton\n        key={field.name}\n        fullWidth\n        primary\n        label={getFieldLabel(this.props.instances, field)}\n        onClick={() => {\n          if (field.onClick) field.onClick(this.props.instances[0]);\n        }}\n      />\n    );\n  };\n\n  _renderResourceField = (field: ResourceField) => {\n    if (!this.props.project) {\n      console.error(\n        'You tried to display a resource field in a PropertiesEditor that does not support display resources. If you need to display resources, pass additional props (project, resourceSources, etc...)'\n      );\n      return;\n    }\n\n    const { setValue } = field;\n    return (\n      <ResourceSelector\n        key={field.name}\n        project={this.props.project}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        resourcesLoader={ResourcesLoader}\n        resourceKind={field.resourceKind}\n        fullWidth\n        initialResourceName={getFieldValue(\n          this.props.instances,\n          field,\n          '(Multiple values)' //TODO\n        )}\n        onChange={newValue => {\n          this.props.instances.forEach(i => setValue(i, newValue));\n          this._onInstancesModified(this.props.instances);\n        }}\n        floatingLabelText={getFieldLabel(this.props.instances, field)}\n      />\n    );\n  };\n\n  render() {\n    const { mode } = this.props;\n\n    return (\n      <div\n        style={mode === 'row' ? styles.rowContainer : styles.columnContainer}\n      >\n        {this.props.schema.map(field => {\n          if (field.children) {\n            if (field.type === 'row') {\n              return (\n                <PropertiesEditor\n                  key={field.name}\n                  schema={field.children}\n                  instances={this.props.instances}\n                  mode=\"row\"\n                />\n              );\n            }\n\n            return (\n              <div key={field.name}>\n                <Subheader style={styles.subHeader}>{field.name}</Subheader>\n                <div style={styles.subPropertiesEditorContainer}>\n                  <PropertiesEditor\n                    schema={field.children}\n                    instances={this.props.instances}\n                    mode=\"column\"\n                  />\n                </div>\n              </div>\n            );\n          } else if (field.valueType === 'resource') {\n            return this._renderResourceField(field);\n          } else {\n            if (field.getChoices && field.getValue)\n              return this._renderSelectField(field);\n            if (field.getValue) return this._renderInputField(field);\n            if (field.onClick) return this._renderButton(field);\n          }\n\n          return null;\n        })}\n      </div>\n    );\n  }\n}\n","// @flow\nimport { mapFor } from '../Utils/MapFor';\nimport { type Schema, type Instance } from '.';\n\n/**\n * Transform a MapStringPropertyDescriptor to a schema that can be used in PropertiesEditor.\n *\n * @param {gdMapStringPropertyDescriptor} properties The properties to use\n * @param {*} getProperties The function called to read again the properties\n * @param {*} onUpdateProperty The function called to update a property of an object\n */\nexport default (\n  properties: gdMapStringPropertyDescriptor,\n  getProperties: (instance: Instance) => any,\n  onUpdateProperty: (\n    instance: Instance,\n    propertyName: string,\n    newValue: string\n  ) => void\n): Schema => {\n  const propertyNames = properties.keys();\n  const propertyFields = mapFor(0, propertyNames.size(), i => {\n    const name = propertyNames.at(i);\n    const property = properties.get(name);\n    const valueType = property.getType().toLowerCase();\n    const getLabel = (instance: Instance) => {\n      const propertyName = getProperties(instance)\n        .get(name)\n        .getLabel();\n      if (propertyName) return propertyName;\n      return (\n        name.charAt(0).toUpperCase() +\n        name\n          .slice(1)\n          .split(/(?=[A-Z])/)\n          .join(' ')\n      );\n    };\n\n    if (valueType === 'number') {\n      return {\n        name,\n        valueType,\n        getValue: (instance: Instance): number => {\n          return parseFloat(\n            getProperties(instance)\n              .get(name)\n              .getValue()\n          );\n        },\n        setValue: (instance: Instance, newValue: number) => {\n          onUpdateProperty(instance, name, '' + newValue);\n        },\n        getLabel,\n      };\n    } else if (valueType === 'string' || valueType === '') {\n      return {\n        name,\n        valueType: 'string',\n        getValue: (instance: Instance): string => {\n          return getProperties(instance)\n            .get(name)\n            .getValue();\n        },\n        setValue: (instance: Instance, newValue: string) => {\n          onUpdateProperty(instance, name, newValue);\n        },\n        getLabel,\n      };\n    } else if (valueType === 'boolean') {\n      return {\n        name,\n        valueType,\n        getValue: (instance: Instance): boolean => {\n          return (\n            getProperties(instance)\n              .get(name)\n              .getValue() === 'true'\n          );\n        },\n        setValue: (instance: Instance, newValue: boolean) => {\n          onUpdateProperty(instance, name, newValue ? '1' : '0');\n        },\n        getLabel,\n      };\n    } else if (valueType === 'choice') {\n      // Choice is a \"string\" (with a selector for the user in the UI)\n      const choices = property\n        .getExtraInfo()\n        .toJSArray()\n        .map(value => ({ value, label: value }));\n      return {\n        name,\n        valueType: 'string',\n        getChoices: () => choices,\n        getValue: (instance: Instance): string => {\n          return getProperties(instance)\n            .get(name)\n            .getValue();\n        },\n        setValue: (instance: Instance, newValue: string) => {\n          onUpdateProperty(instance, name, newValue);\n        },\n        getLabel,\n      };\n    } else if (valueType === 'resource') {\n      // Resource is a \"string\" (with a selector in the UI)\n      const kind = property.getExtraInfo().toJSArray()[0] || '';\n      return {\n        name,\n        valueType: 'resource',\n        resourceKind: kind,\n        getValue: (instance: Instance): string => {\n          return getProperties(instance)\n            .get(name)\n            .getValue();\n        },\n        setValue: (instance: Instance, newValue: string) => {\n          onUpdateProperty(instance, name, newValue);\n        },\n        getLabel,\n      };\n    } else {\n      console.error(\n        `A property with type=${valueType} could not be mapped to a field. Ensure that this type is correct and understood by the IDE.`\n      );\n      return null;\n    }\n  }).filter(Boolean);\n\n  return propertyFields;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ResourcesLoader from '../../ResourcesLoader';\n\nconst MARGIN = 50;\n\nconst styles = {\n  imagePreviewContainer: {\n    position: 'relative',\n    display: 'inline-block',\n    width: '100%',\n    textAlign: 'center',\n    border: '#AAAAAA 1px solid',\n    overflow: 'scroll',\n    height: 200,\n    background: 'url(\"res/transparentback.png\") repeat',\n  },\n  spriteThumbnailImage: {\n    pointerEvents: 'none',\n    margin: MARGIN,\n  },\n  overlayContainer: {\n    textAlign: 'initial',\n    position: 'absolute',\n    top: MARGIN,\n    left: '50%',\n    transform: 'translate(-50%, 0)',\n  },\n  box: {\n    border: '1px solid black',\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  resourceName: string,\n  resourcePath?: string,\n  resourcesLoader: typeof ResourcesLoader,\n  children?: any,\n  style?: Object,\n  onSize?: (number, number) => void,\n|};\n\ntype State = {|\n  errored: boolean,\n  imageWidth: ?number,\n  imageHeight: ?number,\n  imageSource: ?string,\n|};\n\n/**\n * Display the preview for a resource of a project with kind \"image\".\n */\nexport default class ImagePreview extends React.Component<Props, State> {\n  _container: ?HTMLDivElement = null;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = this._loadFrom(props);\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      newProps.resourceName !== this.props.resourceName ||\n      newProps.project !== this.props.project ||\n      newProps.resourcesLoader !== this.props.resourcesLoader ||\n      newProps.resourcePath !== this.props.resourcePath\n    ) {\n      this.setState(this._loadFrom(newProps));\n    }\n  }\n\n  _loadFrom(props: Props): State {\n    const { project, resourceName, resourcesLoader } = props;\n    return {\n      errored: false,\n      imageWidth: null,\n      imageHeight: null,\n      imageSource: resourcesLoader.getResourceFullUrl(project, resourceName),\n    };\n  }\n\n  componentDidMount() {\n    if (this._container) {\n      this._container.scrollTop = MARGIN;\n      this._container.scrollLeft = MARGIN;\n    }\n  }\n\n  _handleError = () => {\n    this.setState({\n      errored: true,\n    });\n  };\n\n  _handleImageLoaded = (e: any) => {\n    const imgElement = e.target;\n\n    const imageWidth = imgElement ? imgElement.clientWidth : 0;\n    const imageHeight = imgElement ? imgElement.clientHeight : 0;\n    this.setState({\n      imageWidth,\n      imageHeight,\n    });\n    if (this.props.onSize) this.props.onSize(imageWidth, imageHeight);\n  };\n\n  render() {\n    const { resourceName, style, children } = this.props;\n\n    const { imageHeight, imageWidth, imageSource } = this.state;\n\n    const overlayStyle = {\n      ...styles.overlayContainer,\n      width: this.state.imageWidth,\n      height: this.state.imageHeight,\n    };\n    const canDisplayOverlays = !!imageWidth && !!imageHeight;\n\n    return (\n      <div\n        style={{ ...styles.imagePreviewContainer, ...style }}\n        ref={container => (this._container = container)}\n      >\n        {!!this.state.errored && (\n          <p>\n            <Trans>Unable to load the image</Trans>\n          </p>\n        )}\n        {!this.state.errored && (\n          <img\n            style={styles.spriteThumbnailImage}\n            alt={resourceName}\n            src={imageSource}\n            onError={this._handleError}\n            onLoad={this._handleImageLoaded}\n            crossOrigin=\"anonymous\"\n          />\n        )}\n        {canDisplayOverlays && children && (\n          <div style={{ ...overlayStyle, ...styles.box }} />\n        )}\n        {canDisplayOverlays && children && (\n          <div style={overlayStyle}>\n            {React.cloneElement(children, {\n              imageWidth,\n              imageHeight,\n            })}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import { mapVector, mapFor } from '../../../../Utils/MapFor';\nimport every from 'lodash/every';\nconst gd = global.gd;\n\n/**\n * Return the specified animation, direction and sprite for a SpriteObject.\n * Returns null for these elements if the specified choice is not valid.\n * @param {*} object\n * @param {*} animationIndex\n * @param {*} directionIndex\n * @param {*} spriteIndex\n */\nexport const getCurrentElements = (\n  object,\n  animationIndex,\n  directionIndex,\n  spriteIndex\n) => {\n  const hasValidAnimation = animationIndex < object.getAnimationsCount();\n  const animation = hasValidAnimation\n    ? object.getAnimation(animationIndex)\n    : null;\n  const hasValidDirection =\n    !!animation && directionIndex < animation.getDirectionsCount();\n  const direction = hasValidDirection\n    ? animation.getDirection(directionIndex)\n    : null;\n  const hasValidSprite =\n    !!direction && spriteIndex < direction.getSpritesCount();\n  const sprite = hasValidSprite ? direction.getSprite(spriteIndex) : null;\n\n  return {\n    hasValidAnimation,\n    animation,\n    hasValidDirection,\n    direction,\n    hasValidSprite,\n    sprite,\n  };\n};\n\nexport const copyPoint = (originalPoint, destinationPoint) => {\n  destinationPoint.setX(originalPoint.getX());\n  destinationPoint.setY(originalPoint.getY());\n  destinationPoint.setName(originalPoint.getName());\n};\n\nexport const copySpritePoints = (originalSprite, destinationSprite) => {\n  if (originalSprite.ptr === destinationSprite.ptr) return;\n\n  copyPoint(originalSprite.getCenter(), destinationSprite.getCenter());\n  copyPoint(originalSprite.getOrigin(), destinationSprite.getOrigin());\n  destinationSprite.setDefaultCenterPoint(\n    originalSprite.isDefaultCenterPoint()\n  );\n\n  destinationSprite.getAllNonDefaultPoints().clear();\n  mapVector(originalSprite.getAllNonDefaultPoints(), originalPoint => {\n    destinationSprite.addPoint(originalPoint);\n  });\n};\n\nexport const copyAnimationsSpritePoints = (originalSprite, animation) => {\n  mapFor(0, animation.getDirectionsCount(), i => {\n    const direction = animation.getDirection(i);\n\n    mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n      copySpritePoints(originalSprite, sprite);\n    });\n  });\n};\n\nexport const isSamePoint = (point1, point2) => {\n  return (\n    point1.getX() === point2.getX() &&\n    point1.getY() === point2.getY() &&\n    point1.getName() === point2.getName()\n  );\n};\n\nexport const haveSamePoints = (sprite1, sprite2) => {\n  if (!isSamePoint(sprite1.getCenter(), sprite2.getCenter())) return false;\n  if (!isSamePoint(sprite1.getOrigin(), sprite2.getOrigin())) return false;\n  if (sprite1.isDefaultCenterPoint() !== sprite2.isDefaultCenterPoint())\n    return false;\n\n  if (\n    sprite1.getAllNonDefaultPoints().size() !==\n    sprite2.getAllNonDefaultPoints().size()\n  )\n    return false;\n\n  return every(\n    mapVector(sprite1.getAllNonDefaultPoints(), sprite1Point => {\n      if (!sprite2.hasPoint(sprite1Point.getName())) return false;\n\n      return isSamePoint(\n        sprite1Point,\n        sprite2.getPoint(sprite1Point.getName())\n      );\n    })\n  );\n};\n\nexport const allDirectionSpritesHaveSamePointsAs = (\n  originalSprite,\n  direction\n) => {\n  return every(\n    mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n      return haveSamePoints(sprite, originalSprite);\n    })\n  );\n};\n\nexport const allSpritesHaveSamePointsAs = (originalSprite, animation) => {\n  return every(\n    mapFor(0, animation.getDirectionsCount(), i => {\n      const direction = animation.getDirection(i);\n      return allDirectionSpritesHaveSamePointsAs(originalSprite, direction);\n    })\n  );\n};\n\nexport const copySpritePolygons = (originalSprite, destinationSprite) => {\n  if (originalSprite.ptr === destinationSprite.ptr) return;\n\n  destinationSprite.setCollisionMaskAutomatic(\n    originalSprite.isCollisionMaskAutomatic()\n  );\n\n  destinationSprite.getCustomCollisionMask().clear();\n  mapVector(originalSprite.getCustomCollisionMask(), originalPolygon => {\n    destinationSprite.getCustomCollisionMask().push_back(originalPolygon);\n  });\n};\n\nexport const copyAnimationsSpriteCollisionMasks = (\n  originalSprite,\n  animation\n) => {\n  mapFor(0, animation.getDirectionsCount(), i => {\n    const direction = animation.getDirection(i);\n\n    mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n      copySpritePolygons(originalSprite, sprite);\n    });\n  });\n};\n\nexport const isSamePolygon = (polygon1, polygon2) => {\n  const polygon1Vertices = polygon1.getVertices();\n  const polygon2Vertices = polygon2.getVertices();\n\n  if (polygon1Vertices.size() !== polygon2Vertices.size()) return false;\n\n  return every(\n    mapVector(polygon1Vertices, (point1, index) => {\n      const point2 = polygon2Vertices.at(index);\n      return (\n        point1.get_x() === point2.get_x() && point1.get_y() === point2.get_y()\n      );\n    })\n  );\n};\n\nexport const haveSameCollisionMasks = (sprite1, sprite2) => {\n  if (sprite1.isCollisionMaskAutomatic() !== sprite2.isCollisionMaskAutomatic())\n    return false;\n\n  if (sprite1.isCollisionMaskAutomatic() && sprite2.isCollisionMaskAutomatic())\n    return true;\n\n  const sprite1CollisionMask = sprite1.getCustomCollisionMask();\n  const sprite2CollisionMask = sprite2.getCustomCollisionMask();\n\n  if (sprite1CollisionMask.size() !== sprite2CollisionMask.size()) return false;\n\n  return every(\n    mapVector(sprite1CollisionMask, (sprite1Polygon, index) => {\n      return isSamePolygon(sprite1Polygon, sprite2CollisionMask.at(index));\n    })\n  );\n};\n\nexport const allDirectionSpritesHaveSameCollisionMasksAs = (\n  originalSprite,\n  direction\n) => {\n  return every(\n    mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n      return haveSameCollisionMasks(sprite, originalSprite);\n    })\n  );\n};\n\nexport const allSpritesHaveSameCollisionMasksAs = (\n  originalSprite,\n  animation\n) => {\n  return every(\n    mapFor(0, animation.getDirectionsCount(), i => {\n      const direction = animation.getDirection(i);\n      return allDirectionSpritesHaveSameCollisionMasksAs(\n        originalSprite,\n        direction\n      );\n    })\n  );\n};\n\nexport const deleteSpritesFromAnimation = (animation, spritePtrs) => {\n  mapFor(0, animation.getDirectionsCount(), i => {\n    const direction = animation.getDirection(i);\n\n    const spritesToDelete = mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n\n      return !!spritePtrs[sprite.ptr];\n    });\n\n    // Iterate from the end to the beginning to avoid invalidating indexes.\n    for (\n      let spriteIndex = direction.getSpritesCount() - 1;\n      spriteIndex >= 0;\n      spriteIndex--\n    ) {\n      if (spritesToDelete[spriteIndex]) direction.removeSprite(spriteIndex);\n    }\n  });\n};\n\nexport const duplicateSpritesInAnimation = (animation, spritePtrs) => {\n  mapFor(0, animation.getDirectionsCount(), i => {\n    const direction = animation.getDirection(i);\n\n    const spritesToDuplicate = mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n\n      return !!spritePtrs[sprite.ptr];\n    });\n\n    // Iterate from the end to the beginning to avoid invalidating indexes.\n    for (\n      let spriteIndex = direction.getSpritesCount() - 1;\n      spriteIndex >= 0;\n      spriteIndex--\n    ) {\n      if (spritesToDuplicate[spriteIndex]) {\n        const spriteToDuplicate = direction.getSprite(spriteIndex);\n        const newSprite = new gd.Sprite();\n        newSprite.setImageName(spriteToDuplicate.getImageName());\n        copySpritePoints(spriteToDuplicate, newSprite);\n        copySpritePolygons(spriteToDuplicate, newSprite);\n\n        direction.addSprite(newSprite);\n        direction.moveSprite(direction.getSpritesCount() - 1, spriteIndex);\n      }\n    }\n  });\n};\n","//TODO: Factor with styles.js from LayersList.\nexport default {\n  handleColumn: {\n    width: 24,\n    paddingLeft: 8,\n    paddingRight: 0,\n  },\n  coordinateColumn: {\n    width: 48,\n  },\n  toolColumn: {\n    width: 48,\n  },\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\nimport Info from 'material-ui/svg-icons/action/info';\nimport Warning from 'material-ui/svg-icons/alert/warning';\nimport { Line } from './Grid';\nimport { FlatButton } from 'material-ui';\n\nconst styles = {\n  icon: { width: 28, height: 28, marginRight: 10, marginLeft: 10 },\n  content: { flex: 1 },\n};\n\ntype Props = {|\n  kind: 'info' | 'warning',\n  children: React.Node,\n  onHide?: () => void,\n|};\n\n/**\n * Show an hint, warning or other message. If you want to allow the user\n * to permanently hide the hint/alert/message, see DismissableAlertMessage.\n */\nconst AlertMessage = ({ kind, children, onHide }: Props) => (\n  <Paper>\n    <Line noMargin alignItems=\"center\">\n      {kind === 'info' && <Info style={styles.icon} />}\n      {kind === 'warning' && <Warning style={styles.icon} />}\n      <p style={styles.content}>{children}</p>\n      {onHide && (\n        <FlatButton label={<Trans>Hide</Trans>} onClick={() => onHide()} />\n      )}\n    </Line>\n  </Paper>\n);\n\nexport default AlertMessage;\n","import React from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport Add from 'material-ui/svg-icons/content/add';\nimport EmptyMessage from '../UI/EmptyMessage';\n// No i18n in this file\n\nconst styles = {\n  item: { height: 48 },\n  message: { padding: 0 },\n};\n\n/**\n * An Higher-order component that create an item that must be put at the\n * end of a list to allow the user to add a new item.\n * @param Item The component to wrap. Should act as a material-ui ListItem.\n */\nexport const makeAddItem = Item => ({\n  onClick,\n  primaryText,\n  style,\n  ...rest\n}) => {\n  return (\n    <Item\n      primaryText={\n        <EmptyMessage style={styles.message}>{primaryText}</EmptyMessage>\n      }\n      style={{ ...styles.item, ...style }}\n      rightIconButton={\n        <IconButton>\n          <Add\n            onClick={event => {\n              event.stopPropagation();\n              onClick();\n            }}\n          />\n        </IconButton>\n      }\n      onClick={onClick}\n      {...rest}\n    />\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport Popover from 'material-ui/Popover';\nimport Functions from 'material-ui/svg-icons/editor/functions';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport SemiControlledTextField from '../../../UI/SemiControlledTextField';\nimport { mapVector } from '../../../Utils/MapFor';\nimport ExpressionSelector from '../../InstructionEditor/InstructionOrExpressionSelector/ExpressionSelector';\nimport ExpressionParametersEditorDialog, {\n  type ParameterValues,\n} from './ExpressionParametersEditorDialog';\nimport { formatExpressionCall } from './FormatExpressionCall';\nimport { type InstructionOrExpressionInformation } from '../../InstructionEditor/InstructionOrExpressionSelector/InstructionOrExpressionInformation.flow.js';\nimport { type ParameterFieldProps } from '../ParameterFieldProps.flow';\nimport BackgroundHighlighting, {\n  type Highlight,\n} from './BackgroundHighlighting';\nimport debounce from 'lodash/debounce';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    alignItems: 'flex-start',\n  },\n  textFieldContainer: {\n    flex: 1,\n    minWidth: 300,\n  },\n  textFieldAndHightlightContainer: {\n    position: 'relative',\n  },\n  expressionSelector: {\n    maxHeight: 350,\n    overflowY: 'scroll',\n  },\n  input: {\n    fontFamily: '\"Lucida Console\", Monaco, monospace',\n    lineHeight: 1.4,\n  },\n  backgroundHighlighting: {\n    marginTop: 12, //Properly align with the text field\n  },\n  backgroundHighlightingWithDescription: {\n    marginTop: 38, //Properly align with the text field\n  },\n  functionsButton: {\n    marginTop: 7, //Properly align with the text field\n    marginLeft: 10,\n  },\n  functionsButtonWithDescription: {\n    marginTop: 33, //Properly align with the text field\n    marginLeft: 10,\n  },\n};\n\ntype State = {|\n  popoverOpen: boolean,\n  parametersDialogOpen: boolean,\n  selectedExpressionInfo: ?InstructionOrExpressionInformation,\n  validatedValue: string,\n  errorText: ?string,\n  errorHighlights: Array<Highlight>,\n|};\n\ntype Props = {|\n  expressionType: 'number' | 'string',\n  renderExtraButton?: ({|\n    style: Object,\n  |}) => React.Node,\n  ...ParameterFieldProps,\n|};\n\nexport default class ExpressionField extends React.Component<Props, State> {\n  _field: ?any = null;\n  _fieldElement: ?any = null;\n  _inputElement = null;\n\n  state = {\n    popoverOpen: false,\n    parametersDialogOpen: false,\n    selectedExpressionInfo: null,\n\n    validatedValue: '',\n    errorText: null,\n    errorHighlights: [],\n  };\n\n  componentDidMount() {\n    if (this._field) {\n      this._fieldElement = ReactDOM.findDOMNode(this._field);\n      this._inputElement = this._field ? this._field.getInputNode() : null;\n    }\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  _openExpressionPopover = () => {\n    this.setState({\n      popoverOpen: true,\n    });\n  };\n\n  _handleFocus = (event: { preventDefault: () => void }) => {\n    // This prevents ghost click.\n    event.preventDefault();\n  };\n\n  _handleRequestClose = () => {\n    this.setState({\n      popoverOpen: false,\n    });\n  };\n\n  _handleChange = (value: string) => {\n    this.setState(\n      {\n        validatedValue: value,\n      },\n      () => this._enqueueValidation()\n    );\n  };\n\n  _handleBlur = (event: { currentTarget: { value: string } }) => {\n    const value = event.currentTarget.value;\n    if (this.props.onChange) this.props.onChange(value);\n    this.setState(\n      {\n        validatedValue: value,\n      },\n      () => {\n        this._enqueueValidation.cancel();\n        this._doValidation();\n      }\n    );\n  };\n\n  _handleMenuMouseDown = (event: any) => {\n    // Keep the TextField focused\n    event.preventDefault();\n  };\n\n  _handleExpressionChosen = (\n    expressionInfo: InstructionOrExpressionInformation\n  ) => {\n    this.setState({\n      popoverOpen: false,\n      parametersDialogOpen: true,\n      selectedExpressionInfo: expressionInfo,\n    });\n  };\n\n  insertExpression = (\n    expressionInfo: InstructionOrExpressionInformation,\n    parameterValues: ParameterValues\n  ) => {\n    if (!this._inputElement) return;\n    const cursorPosition = this._inputElement.selectionStart;\n\n    const functionCall = formatExpressionCall(expressionInfo, parameterValues);\n\n    const { value } = this.props;\n    const newValue =\n      value.substr(0, cursorPosition) +\n      functionCall +\n      value.substr(cursorPosition);\n\n    if (this.props.onChange) this.props.onChange(newValue);\n    setTimeout(() => {\n      if (this._field) this._field.focus();\n\n      setTimeout(() => {\n        if (this._inputElement)\n          this._inputElement.setSelectionRange(\n            cursorPosition,\n            cursorPosition + functionCall.length\n          );\n      }, 5);\n    }, 5);\n  };\n\n  _enqueueValidation = debounce(() => {\n    this._doValidation();\n  }, 500);\n\n  _doValidation = () => {\n    const {\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      expressionType,\n    } = this.props;\n    if (!project) return null;\n\n    const parser = new gd.ExpressionParser2(\n      gd.JsPlatform.get(),\n      globalObjectsContainer,\n      objectsContainer\n    );\n    const expression = this.state.validatedValue;\n    const expressionNode = parser\n      .parseExpression(expressionType, expression)\n      .get();\n\n    const expressionValidator = new gd.ExpressionValidator();\n    expressionNode.visit(expressionValidator);\n    const errors = expressionValidator.getErrors();\n\n    const errorHighlights: Array<Highlight> = mapVector(errors, error => ({\n      begin: error.getStartPosition(),\n      end: error.getEndPosition() + 1,\n      message: error.getMessage(),\n      type: 'error',\n    }));\n    const hasMultipleErrors = errorHighlights.length > 1;\n    const errorText = errorHighlights\n      .map(\n        (highlight, i) =>\n          (hasMultipleErrors ? `[${i + 1}] ` : '') + highlight.message\n      )\n      .join(' ');\n\n    expressionValidator.delete();\n    parser.delete();\n\n    this.setState({ errorText, errorHighlights });\n  };\n\n  render() {\n    const {\n      value,\n      expressionType,\n      parameterMetadata,\n      project,\n      layout,\n      globalObjectsContainer,\n      objectsContainer,\n      parameterRenderingService,\n    } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    const popoverStyle = {\n      width: this._fieldElement ? this._fieldElement.clientWidth : 'auto',\n    };\n\n    const backgroundHighlightingStyle = description\n      ? styles.backgroundHighlightingWithDescription\n      : styles.backgroundHighlighting;\n\n    return (\n      <div style={styles.container}>\n        <div style={styles.textFieldContainer}>\n          <div style={styles.textFieldAndHightlightContainer}>\n            <BackgroundHighlighting\n              value={this.state.validatedValue}\n              style={{ ...styles.input, ...backgroundHighlightingStyle }}\n              highlights={this.state.errorHighlights}\n            />\n            <SemiControlledTextField\n              value={value}\n              floatingLabelText={description}\n              hintText={expressionType === 'string' ? '\"\"' : undefined}\n              inputStyle={styles.input}\n              onChange={this._handleChange}\n              onBlur={this._handleBlur}\n              ref={field => (this._field = field)}\n              onFocus={this._handleFocus}\n              errorText={this.state.errorText}\n              multiLine\n              fullWidth\n            />\n          </div>\n          {this._fieldElement && (\n            <Popover\n              style={popoverStyle}\n              open={this.state.popoverOpen}\n              canAutoPosition={false}\n              anchorEl={this._fieldElement}\n              useLayerForClickAway={false}\n              anchorOrigin={{ horizontal: 'left', vertical: 'bottom' }}\n              targetOrigin={{ horizontal: 'left', vertical: 'top' }}\n              onRequestClose={this._handleRequestClose}\n            >\n              <ExpressionSelector\n                style={styles.expressionSelector}\n                selectedType=\"\"\n                onChoose={(type, expression) => {\n                  this._handleExpressionChosen(expression);\n                }}\n                expressionType={expressionType}\n                focusOnMount\n              />\n            </Popover>\n          )}\n        </div>\n        {!this.props.isInline &&\n          this.props.renderExtraButton &&\n          this.props.renderExtraButton({\n            style: description\n              ? styles.functionsButtonWithDescription\n              : styles.functionsButton,\n          })}\n        {!this.props.isInline && (\n          <RaisedButton\n            icon={<Functions />}\n            label={\n              expressionType === 'string'\n                ? '\"ABC\"'\n                : expressionType === 'number'\n                ? '123'\n                : ''\n            }\n            primary\n            style={\n              description\n                ? styles.functionsButtonWithDescription\n                : styles.functionsButton\n            }\n            onClick={this._openExpressionPopover}\n          />\n        )}\n        {this.state.parametersDialogOpen && this.state.selectedExpressionInfo && (\n          <ExpressionParametersEditorDialog\n            open={true}\n            project={project}\n            layout={layout}\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            expressionMetadata={this.state.selectedExpressionInfo.metadata}\n            onDone={parameterValues => {\n              if (!this.state.selectedExpressionInfo) return;\n\n              this.insertExpression(\n                this.state.selectedExpressionInfo,\n                parameterValues\n              );\n              this.setState({\n                parametersDialogOpen: false,\n                selectedExpressionInfo: null,\n              });\n            }}\n            onRequestClose={() => {\n              this.setState({\n                parametersDialogOpen: false,\n                selectedExpressionInfo: null,\n              });\n            }}\n            parameterRenderingService={parameterRenderingService}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import TextEditor from './Editors/TextEditor';\nimport TiledSpriteEditor from './Editors/TiledSpriteEditor';\nimport PanelSpriteEditor from './Editors/PanelSpriteEditor';\nimport SpriteEditor from './Editors/SpriteEditor';\nimport EmptyEditor from './Editors/EmptyEditor';\nimport ShapePainterEditor from './Editors/ShapePainterEditor';\nimport ParticleEmitterEditor from './Editors/ParticleEmitterEditor';\nimport ObjectPropertiesEditor from './Editors/ObjectPropertiesEditor';\nconst gd = global.gd;\n\n/**\n * A service returning editor components for each object type.\n */\nexport default {\n  getEditorConfiguration(objectType: string) {\n    if (!this.editorConfigurations[objectType]) {\n      console.warn(\n        `Object with type ${objectType} has no editor configuration registered. Please use registerEditorConfiguration to register your editor.`\n      );\n    }\n\n    return this.editorConfigurations[objectType];\n  },\n  registerEditorConfiguration: function(objectType, editorConfiguration) {\n    if (!editorConfiguration.component) {\n      console.warn(\n        `Tried to register editor configuration for object \"${objectType}\", but \"component\" property is not defined.`\n      );\n      return;\n    }\n    if (!editorConfiguration.createNewObject) {\n      console.warn(\n        `Tried to register editor configuration for object \"${objectType}\", but \"createNewObject\" property is not defined.`\n      );\n      return;\n    }\n    if (!editorConfiguration.castToObjectType) {\n      console.warn(\n        `Tried to register editor configuration for object \"${objectType}\", but \"castToObjectType\" property is not defined.`\n      );\n      return;\n    }\n\n    if (this.editorConfigurations.hasOwnProperty(objectType)) {\n      console.warn(\n        `Tried to register editor configuration for object \"${objectType}\", but an editor configuration already exists.`\n      );\n      return;\n    }\n\n    console.info(\n      `Properly registered editor configuration for object \"${objectType}\".`\n    );\n    this.editorConfigurations[objectType] = editorConfiguration;\n  },\n  getDefaultObjectJsImplementationPropertiesEditor() {\n    return {\n      component: ObjectPropertiesEditor,\n      createNewObject: object =>\n        gd\n          .asObjectJsImplementation(object)\n          .clone()\n          .release(),\n      castToObjectType: object => gd.asObjectJsImplementation(object),\n    };\n  },\n  editorConfigurations: {\n    Sprite: {\n      component: SpriteEditor,\n      createNewObject: () => new gd.SpriteObject(''),\n      castToObjectType: object => gd.asSpriteObject(object),\n      helpPagePath: '/objects/sprite',\n    },\n    'TiledSpriteObject::TiledSprite': {\n      component: TiledSpriteEditor,\n      createNewObject: () => new gd.TiledSpriteObject(''),\n      castToObjectType: object => gd.asTiledSpriteObject(object),\n      helpPagePath: '/objects/tiled_sprite',\n    },\n    'PanelSpriteObject::PanelSprite': {\n      component: PanelSpriteEditor,\n      createNewObject: () => new gd.PanelSpriteObject(''),\n      castToObjectType: object => gd.asPanelSpriteObject(object),\n      helpPagePath: '/objects/panel_sprite',\n    },\n    'TextObject::Text': {\n      component: TextEditor,\n      createNewObject: () => new gd.TextObject(''),\n      castToObjectType: object => gd.asTextObject(object),\n      helpPagePath: '/objects/text',\n    },\n    'PrimitiveDrawing::Drawer': {\n      component: ShapePainterEditor,\n      createNewObject: () => new gd.ShapePainterObject(''),\n      castToObjectType: object => gd.asShapePainterObject(object),\n      helpPagePath: '/objects/shape_painter',\n    },\n    'TextEntryObject::TextEntry': {\n      component: EmptyEditor,\n      createNewObject: () => new gd.TextEntryObject(''),\n      castToObjectType: object => gd.asTextEntryObject(object),\n      helpPagePath: '/objects/text_entry',\n    },\n    'ParticleSystem::ParticleEmitter': {\n      component: ParticleEmitterEditor,\n      createNewObject: () => new gd.ParticleEmitterObject(''),\n      castToObjectType: object => gd.asParticleEmitterObject(object),\n      helpPagePath: '/objects/particles_emitter',\n    },\n  },\n};\n","// @flow\nimport axios from 'axios';\nimport { GDevelopBuildApi } from './ApiConfigs';\n\nexport const getUrl = (key: string) =>\n  `https://s3-eu-west-1.amazonaws.com/gd-build/${key}`;\n\nexport type TargetName = 'winExe' | 'winZip' | 'macZip' | 'linuxAppImage';\n\nexport type Build = {\n  id: string,\n  userId: string,\n  bucket?: string,\n  logsKey?: string,\n  apkKey?: string,\n  windowsExeKey?: string,\n  windowsZipKey?: string,\n  macosZipKey?: string,\n  linuxAppImageKey?: string,\n  status: 'pending' | 'complete' | 'error',\n  type: 'cordova-build' | 'electron-build',\n  targets?: Array<TargetName>,\n  createdAt: number,\n  updatedAt: number,\n};\n\nexport const buildElectron = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string,\n  key: string,\n  targets: Array<TargetName>\n): Promise<Build> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.post(\n        `${GDevelopBuildApi.baseUrl}/build?userId=${encodeURIComponent(\n          userId\n        )}&key=${encodeURIComponent(\n          key\n        )}&type=electron-build&targets=${encodeURIComponent(\n          targets.join(',')\n        )}`,\n        null,\n        {\n          params: {},\n          headers: {\n            Authorization: authorizationHeader,\n          },\n        }\n      )\n    )\n    .then(response => response.data);\n};\n\nexport const buildCordovaAndroid = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string,\n  key: string\n): Promise<Build> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.post(\n        `${GDevelopBuildApi.baseUrl}/build?userId=${encodeURIComponent(\n          userId\n        )}&key=${encodeURIComponent(key)}&type=cordova-build`,\n        null,\n        {\n          params: {},\n          headers: {\n            Authorization: authorizationHeader,\n          },\n        }\n      )\n    )\n    .then(response => response.data);\n};\n\nexport const getBuild = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string,\n  buildId: string\n): Promise<Build> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopBuildApi.baseUrl}/build/${buildId}`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data);\n};\n\nexport const getBuilds = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string\n): Promise<Array<Build>> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopBuildApi.baseUrl}/build`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data);\n};\n","// @flow\nimport * as React from 'react';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ResourceKind } from '../ResourceSource.flow';\nimport ImageThumbnail from './ImageThumbnail';\n\ntype Props = {|\n  project: gdProject,\n  resourceName: string,\n  resourcesLoader: typeof ResourcesLoader,\n  children?: any,\n  style?: Object,\n  onSize?: (number, number) => void,\n  selectable?: boolean,\n  selected?: boolean,\n  onSelect?: boolean => void,\n  onContextMenu?: (number, number) => void,\n|};\n\ntype State = {|\n  resourceKind: ?ResourceKind,\n|};\n\n/**\n * Display the right thumbnail for any given resource of a project\n */\nexport default class ResourceThumbnail extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = this._loadFrom(props);\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      newProps.resourceName !== this.props.resourceName ||\n      newProps.project !== this.props.project\n    ) {\n      this.setState(this._loadFrom(newProps));\n    }\n  }\n\n  _loadFrom(props: Props): State {\n    const { project, resourceName } = props;\n    const resourcesManager = project.getResourcesManager();\n    const resourceKind = resourcesManager.hasResource(resourceName)\n      ? resourcesManager.getResource(resourceName).getKind()\n      : null;\n\n    return {\n      resourceKind,\n    };\n  }\n\n  render() {\n    const { resourceKind } = this.state;\n\n    switch (resourceKind) {\n      case 'image':\n        return (\n          <ImageThumbnail\n            project={this.props.project}\n            resourceName={this.props.resourceName}\n            resourcesLoader={this.props.resourcesLoader}\n            children={this.props.children}\n            style={this.props.style}\n            onSize={this.props.onSize}\n            selectable={this.props.selectable}\n            selected={this.props.selected}\n            onSelect={this.props.onSelect}\n            onContextMenu={this.props.onContextMenu}\n          />\n        );\n      default:\n        return null;\n    }\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ResourcesLoader from '../ResourcesLoader';\nimport ResourceSelector from '../ResourcesList/ResourceSelector';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n  type ResourceKind,\n} from '../ResourcesList/ResourceSource.flow';\nimport ResourceThumbnail from './ResourceThumbnail';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\n\ntype Props = {|\n  project: gdProject,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  resourceKind: ResourceKind,\n  resourceName: string,\n  onChange: string => void,\n  floatingLabelText?: React.Node,\n  hintText?: React.Node,\n|};\n\nconst ResourceSelectorWithThumbnail = ({\n  project,\n  resourceSources,\n  onChooseResource,\n  resourceExternalEditors,\n  resourceKind,\n  resourceName,\n  onChange,\n  floatingLabelText,\n  hintText,\n}: Props) => {\n  return (\n    <div style={{ flex: 1, display: 'flex', alignItems: 'flex-end' }}>\n      <div style={{ flex: 1 }}>\n        <ResourceSelector\n          project={project}\n          resourceSources={resourceSources}\n          onChooseResource={onChooseResource}\n          resourceExternalEditors={resourceExternalEditors}\n          resourcesLoader={ResourcesLoader}\n          resourceKind={resourceKind}\n          fullWidth\n          initialResourceName={resourceName}\n          onChange={onChange}\n          floatingLabelText={floatingLabelText}\n          hintText={hintText}\n        />\n      </div>\n      <ResourceThumbnail\n        resourceName={resourceName}\n        resourcesLoader={ResourcesLoader}\n        project={project}\n        style={{ marginLeft: 10 }}\n      />\n    </div>\n  );\n};\n\nexport default ResourceSelectorWithThumbnail;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from 'material-ui/IconButton';\nimport Close from 'material-ui/svg-icons/navigation/close';\n\nconst styles = {\n  container: {\n    padding: 0,\n    width: 32,\n    height: 32,\n  },\n};\n\nexport default class CloseButton extends Component {\n  static contextTypes = {\n    mosaicActions: PropTypes.object,\n    mosaicWindowActions: PropTypes.object,\n  };\n\n  render() {\n    const { mosaicActions, mosaicWindowActions } = this.context;\n    return (\n      <IconButton\n        onClick={() => {\n          mosaicActions.remove(mosaicWindowActions.getPath());\n        }}\n        style={styles.container}\n      >\n        <Close color=\"white\" />\n      </IconButton>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport {\n  MosaicWindow as RMMosaicWindow,\n  MosaicWithoutDragDropContext as RMMosaicWithoutDragDropContext,\n  getLeaves,\n} from 'react-mosaic-component';\nimport CloseButton from './CloseButton';\n\n// EditorMosaic default styling:\nimport 'react-mosaic-component/react-mosaic-component.css';\nimport './style.css';\n\nconst addRightNode = (\n  currentNode,\n  newNode,\n  splitPercentage,\n  direction = 'row'\n) => {\n  if (currentNode.second && typeof currentNode.second !== 'string') {\n    return {\n      ...currentNode,\n      second: addRightNode(currentNode.second, newNode, splitPercentage),\n    };\n  }\n\n  return {\n    direction,\n    first: currentNode,\n    second: newNode,\n    splitPercentage,\n  };\n};\n\nconst ThemableMosaicWithoutDragDropContext = props => (\n  <RMMosaicWithoutDragDropContext\n    className={`${\n      props.muiTheme.mosaicRootClassName\n    } mosaic-blueprint-theme mosaic-gd-theme`}\n    {...props}\n  />\n);\n\nconst MosaicWithoutDragDropContext = muiThemeable()(\n  ThemableMosaicWithoutDragDropContext\n);\n\n/**\n * @class EditorMosaic\n *\n * Can be used to create a mosaic of resizable editors.\n * Must be used inside a component wrapped in a DragDropContext.\n */\nexport default class ThemableEditorMosaic extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      mosaicNode: props.initialNodes,\n    };\n  }\n\n  openEditor = editorName => {\n    if (getLeaves(this.state.mosaicNode).indexOf(editorName) !== -1) {\n      return false;\n    }\n\n    this.setState({\n      mosaicNode: addRightNode(this.state.mosaicNode, editorName, 75),\n    });\n    return true;\n  };\n\n  _onChange = mosaicNode => this.setState({ mosaicNode });\n\n  render() {\n    const { editors } = this.props;\n    return (\n      <MosaicWithoutDragDropContext\n        renderTile={(editorName, path) =>\n          React.cloneElement(editors[editorName], { path })\n        }\n        value={this.state.mosaicNode}\n        onChange={this._onChange}\n      />\n    );\n  }\n}\n\nconst defaultToolbarControls = [<CloseButton key=\"close\" />];\n\n/**\n * @class EditorWindow\n *\n * A window that can be used in a EditorMosaic\n */\nexport const MosaicWindow = props => {\n  // It's important to always use the same object (in the sense of ===) for toolbarControls,\n  // to avoid confusing MosaicWindow.shouldComponentUpdate: It makes a nasty infinite loop\n  // while it tries to compare React elements.\n  const toolbarControls = props.toolbarControls || defaultToolbarControls;\n\n  return <RMMosaicWindow {...props} toolbarControls={toolbarControls} />;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport './MainFrame.css';\nimport IconButton from 'material-ui/IconButton';\nimport Drawer from 'material-ui/Drawer';\nimport Snackbar from 'material-ui/Snackbar';\nimport NavigationClose from 'material-ui/svg-icons/navigation/close';\nimport Toolbar from './Toolbar';\nimport ProjectTitlebar from './ProjectTitlebar';\nimport PreferencesDialog from './Preferences/PreferencesDialog';\nimport AboutDialog from './AboutDialog';\nimport ProjectManager from '../ProjectManager';\nimport PlatformSpecificAssetsDialog from '../PlatformSpecificAssetsEditor/PlatformSpecificAssetsDialog';\nimport LoaderModal from '../UI/LoaderModal';\nimport EditorBar from '../UI/EditorBar';\nimport CloseConfirmDialog from '../UI/CloseConfirmDialog';\nimport ProfileDialog from '../Profile/ProfileDialog';\nimport Window from '../Utils/Window';\nimport { showErrorBox } from '../UI/Messages/MessageBox';\nimport { Tabs, Tab } from '../UI/Tabs';\nimport {\n  getEditorTabsInitialState,\n  openEditorTab,\n  closeEditorTab,\n  changeCurrentTab,\n  getEditors,\n  getCurrentTabIndex,\n  getCurrentTab,\n  closeProjectTabs,\n  closeLayoutTabs,\n  closeExternalLayoutTabs,\n  closeExternalEventsTabs,\n  closeEventsFunctionsExtensionTabs,\n  saveUiSettings,\n  type EditorTabsState,\n  type EditorTab,\n  getEventsFunctionsExtensionEditor,\n} from './EditorTabsHandler';\nimport { watchPromiseInState } from '../Utils/WatchPromiseInState';\nimport { timeFunction } from '../Utils/TimeFunction';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport HelpFinder from '../HelpFinder';\n\n// Editors:\nimport DebuggerEditor from './Editors/DebuggerEditor';\nimport EventsEditor from './Editors/EventsEditor';\nimport ExternalEventsEditor from './Editors/ExternalEventsEditor';\nimport SceneEditor from './Editors/SceneEditor';\nimport ExternalLayoutEditor from './Editors/ExternalLayoutEditor';\nimport EventsFunctionsExtensionEditor from './Editors/EventsFunctionsExtensionEditor';\nimport StartPage from './Editors/StartPage';\nimport ResourcesEditor from './Editors/ResourcesEditor';\nimport ErrorBoundary from '../UI/ErrorBoundary';\nimport SubscriptionDialog from '../Profile/SubscriptionDialog';\nimport ResourcesLoader from '../ResourcesLoader/index';\nimport Authentification from '../Utils/GDevelopServices/Authentification';\nimport {\n  type PreviewLauncher,\n  type PreviewOptions,\n} from '../Export/PreviewLauncher.flow';\nimport { type ResourceSource } from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport { type JsExtensionsLoader } from '../JsExtensionsLoader';\nimport {\n  type EventsFunctionWriter,\n  loadProjectEventsFunctionsExtensions,\n  unloadProjectEventsFunctionsExtensions,\n  getFunctionNameFromType,\n} from '../EventsFunctionsExtensionsLoader';\nimport {\n  getUpdateNotificationTitle,\n  getUpdateNotificationBody,\n  type UpdateStatus,\n} from './UpdaterTools';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport ChangelogDialogContainer from './Changelog/ChangelogDialogContainer';\nimport { getNotNullTranslationFunction } from '../Utils/i18n/getTranslationFunction';\nimport { type I18n } from '@lingui/core';\nimport { t } from '@lingui/macro';\nimport LanguageDialog from './Preferences/LanguageDialog';\n\nconst gd = global.gd;\n\nconst styles = {\n  drawerContent: {\n    overflowX: 'hidden',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n};\n\ntype State = {|\n  createDialogOpen: boolean,\n  exportDialogOpen: boolean,\n  introDialogOpen: boolean,\n  saveDialogOpen: boolean,\n  genericDialogOpen: boolean,\n  loadingProject: boolean,\n  previewLoading: boolean,\n  currentProject: ?gdProject,\n  projectManagerOpen: boolean,\n  editorTabs: EditorTabsState,\n  genericDialog: null,\n  snackMessage: string,\n  snackMessageOpen: boolean,\n  preferencesDialogOpen: boolean,\n  languageDialogOpen: boolean,\n  profileDialogOpen: boolean,\n  subscriptionDialogOpen: boolean,\n  updateStatus: UpdateStatus,\n  aboutDialogOpen: boolean,\n  platformSpecificAssetsDialogOpen: boolean,\n  helpFinderDialogOpen: boolean,\n  eventsFunctionsExtensionsError: ?Error,\n|};\n\ntype Props = {\n  integratedEditor?: boolean,\n  introDialog?: React.Element<*>,\n  onReadFromPathOrURL: (url: string) => Promise<any>,\n  previewLauncher?: React.Element<PreviewLauncher>,\n  onEditObject?: gdObject => void,\n  resourceSources: Array<ResourceSource>,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  onChooseProject?: () => Promise<string>,\n  saveDialog?: React.Element<*>,\n  onSaveProject?: gdProject => Promise<any>,\n  loading?: boolean,\n  requestUpdate?: () => void,\n  exportDialog?: React.Element<*>,\n  createDialog?: React.Element<*>,\n  authentification: Authentification,\n  extensionsLoader?: JsExtensionsLoader,\n  initialPathsOrURLsToOpen: ?Array<string>,\n  eventsFunctionWriter?: EventsFunctionWriter,\n  i18n: I18n,\n};\n\nclass MainFrame extends React.Component<Props, State> {\n  state = {\n    createDialogOpen: false,\n    exportDialogOpen: false,\n    introDialogOpen: false,\n    saveDialogOpen: false,\n    genericDialogOpen: false,\n    loadingProject: false,\n    previewLoading: false,\n    currentProject: null,\n    projectManagerOpen: false,\n    editorTabs: getEditorTabsInitialState(),\n    genericDialog: null,\n    snackMessage: '',\n    snackMessageOpen: false,\n    preferencesDialogOpen: false,\n    languageDialogOpen: false,\n    profileDialogOpen: false,\n    subscriptionDialogOpen: false,\n    updateStatus: { message: '', status: 'unknown' },\n    aboutDialogOpen: false,\n    platformSpecificAssetsDialogOpen: false,\n    helpFinderDialogOpen: false,\n    eventsFunctionsExtensionsError: null,\n  };\n  toolbar = null;\n  _resourceSourceDialogs = {};\n  _previewLauncher: ?PreviewLauncher = null;\n  _providers = null;\n\n  componentWillMount() {\n    if (!this.props.integratedEditor) this.openStartPage();\n  }\n\n  componentDidMount() {\n    const { initialPathsOrURLsToOpen } = this.props;\n\n    this._loadExtensions();\n    if (initialPathsOrURLsToOpen && initialPathsOrURLsToOpen[0]) {\n      this.openFromPathOrURL(initialPathsOrURLsToOpen[0], () =>\n        this.openSceneOrProjectManager()\n      );\n    } else if (this.props.introDialog && !Window.isDev())\n      this._openIntroDialog(true);\n  }\n\n  _languageDidChange() {\n    // A change in the language will automatically be applied\n    // on all React components, as it's handled by GDI18nProvider.\n    // We still have this method that will be called when the language\n    // dialog is closed after a language change. We then reload GDevelop\n    // extensions so that they declare all objects/actions/condition/etc...\n    // using the new language.\n    gd.JsPlatform.get().reloadBuiltinExtensions();\n    this._loadExtensions();\n  }\n\n  _loadExtensions = () => {\n    const { extensionsLoader, i18n } = this.props;\n    if (!extensionsLoader) {\n      console.info(\n        'No extensions loader specified, skipping extensions loading.'\n      );\n      return;\n    }\n\n    extensionsLoader\n      .loadAllExtensions(getNotNullTranslationFunction(i18n))\n      .then(loadingResults => {\n        const successLoadingResults = loadingResults.filter(\n          loadingResult => !loadingResult.result.error\n        );\n        const failLoadingResults = loadingResults.filter(\n          loadingResult =>\n            loadingResult.result.error && !loadingResult.result.dangerous\n        );\n        const dangerousLoadingResults = loadingResults.filter(\n          loadingResult =>\n            loadingResult.result.error && loadingResult.result.dangerous\n        );\n        console.info(`Loaded ${successLoadingResults.length} JS extensions.`);\n        if (failLoadingResults.length) {\n          console.error(\n            `⚠️ Unable to load ${\n              failLoadingResults.length\n            } JS extensions. Please check these errors:`,\n            failLoadingResults\n          );\n        }\n        if (dangerousLoadingResults.length) {\n          console.error(\n            `💣 Dangerous exceptions while loading ${\n              dangerousLoadingResults.length\n            } JS extensions. 🔥 Please check these errors as they will CRASH GDevelop:`,\n            dangerousLoadingResults\n          );\n        }\n      });\n  };\n\n  loadFromSerializedProject = (\n    serializedProject: gdSerializerElement,\n    cb: Function\n  ) => {\n    timeFunction(\n      () => {\n        const newProject = gd.ProjectHelper.createNewGDJSProject();\n        newProject.unserializeFrom(serializedProject);\n\n        this.closeProject(() => this.loadFromProject(newProject, cb));\n      },\n      time => console.info(`Unserialization took ${time} ms`)\n    );\n  };\n\n  loadFromProject = (project: gdProject, cb: Function) => {\n    this.closeProject(() => {\n      // Make sure that the ResourcesLoader cache is emptied, so that\n      // the URL to a resource with a name in the old project is not re-used\n      // for another resource with the same name in the new project.\n      ResourcesLoader.burstAllUrlsCache();\n      // TODO: Pixi cache should also be burst\n\n      this.setState(\n        {\n          currentProject: project,\n        },\n        () => {\n          // Load all the EventsFunctionsExtension when the game is loaded. If they are modified,\n          // their editor will take care of reloading them.\n          this._loadProjectEventsFunctionsExtensions();\n          cb();\n        }\n      );\n    });\n  };\n\n  _loadProjectEventsFunctionsExtensions = () => {\n    const { i18n } = this.props;\n    if (this.props.eventsFunctionWriter && this.state.currentProject) {\n      loadProjectEventsFunctionsExtensions(\n        this.state.currentProject,\n        this.props.eventsFunctionWriter\n      )\n        .then(() =>\n          this.setState({\n            eventsFunctionsExtensionsError: null,\n          })\n        )\n        .catch((eventsFunctionsExtensionsError: Error) => {\n          this.setState({\n            eventsFunctionsExtensionsError,\n          });\n          showErrorBox(\n            i18n._(\n              t`An error has occured during functions generation. If GDevelop is installed, verify that nothing is preventing GDevelop from writing on disk. If you're running GDevelop online, verify your internet connection and refresh functions from the Project Manager.`\n            ),\n            eventsFunctionsExtensionsError\n          );\n        });\n    }\n  };\n\n  openFromPathOrURL = (url: string, cb: Function) => {\n    const { i18n } = this.props;\n    this.props.onReadFromPathOrURL(url).then(\n      projectObject => {\n        this.setState({ loadingProject: true }, () =>\n          setTimeout(() => {\n            const serializedProject = gd.Serializer.fromJSObject(projectObject);\n\n            this.loadFromSerializedProject(serializedProject, () => {\n              serializedProject.delete();\n\n              if (this.state.currentProject)\n                this.state.currentProject.setProjectFile(url);\n\n              this.setState(\n                {\n                  loadingProject: false,\n                },\n                cb\n              );\n            });\n          })\n        );\n      },\n      err => {\n        showErrorBox(\n          i18n._(\n            t`Unable to open this project. Check that the path/URL is correct, that you selected a file that is a game file created with GDevelop and that is was not removed.`\n          ),\n          err\n        );\n        return;\n      }\n    );\n  };\n\n  closeProject = (cb: Function) => {\n    const { currentProject } = this.state;\n    if (!currentProject) return cb();\n\n    this.openProjectManager(false);\n    this.setState(\n      {\n        editorTabs: closeProjectTabs(this.state.editorTabs, currentProject),\n      },\n      () => {\n        unloadProjectEventsFunctionsExtensions(currentProject);\n        currentProject.delete();\n        this.setState(\n          {\n            currentProject: null,\n          },\n          () => {\n            this.updateToolbar();\n            cb();\n          }\n        );\n      }\n    );\n  };\n\n  getSerializedElements = () => {\n    const editorTab = getCurrentTab(this.state.editorTabs);\n    if (!editorTab || !editorTab.editorRef) {\n      console.warn('No active editor or reference to the editor');\n      return {};\n    }\n\n    return editorTab.editorRef.getSerializedElements();\n  };\n\n  toggleProjectManager = () => {\n    if (!this.refs.toolbar)\n      this.setState({\n        projectManagerOpen: !this.state.projectManagerOpen,\n      });\n  };\n\n  openProjectManager = (open: boolean = true) => {\n    this.setState({\n      projectManagerOpen: open,\n    });\n  };\n\n  setEditorToolbar = (editorToolbar: any) => {\n    if (!this.toolbar) return;\n\n    this.toolbar.setEditorToolbar(editorToolbar);\n  };\n\n  addLayout = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const name = newNameGenerator('NewScene', name =>\n      currentProject.hasLayoutNamed(name)\n    );\n    const newLayout = currentProject.insertNewLayout(\n      name,\n      currentProject.getLayoutsCount()\n    );\n    newLayout.updateBehaviorsSharedData(currentProject);\n    this.forceUpdate();\n  };\n\n  addExternalLayout = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const name = newNameGenerator('NewExternalLayout', name =>\n      currentProject.hasExternalLayoutNamed(name)\n    );\n    currentProject.insertNewExternalLayout(\n      name,\n      currentProject.getExternalLayoutsCount()\n    );\n    this.forceUpdate();\n  };\n\n  addExternalEvents = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const name = newNameGenerator('NewExternalEvents', name =>\n      currentProject.hasExternalEventsNamed(name)\n    );\n    currentProject.insertNewExternalEvents(\n      name,\n      currentProject.getExternalEventsCount()\n    );\n    this.forceUpdate();\n  };\n\n  addEventsFunctionsExtension = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const name = newNameGenerator('NewEventsFunctionsExtension', name =>\n      currentProject.hasEventsFunctionsExtensionNamed(name)\n    );\n    currentProject.insertNewEventsFunctionsExtension(\n      name,\n      currentProject.getEventsFunctionsExtensionsCount()\n    );\n    this.forceUpdate();\n  };\n\n  deleteLayout = (layout: gdLayout) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Are you sure you want to remove this scene? This can't be undone.`\n      )\n    );\n    if (!answer) return;\n\n    this.setState(\n      {\n        editorTabs: closeLayoutTabs(this.state.editorTabs, layout),\n      },\n      () => {\n        currentProject.removeLayout(layout.getName());\n        this.forceUpdate();\n      }\n    );\n  };\n\n  deleteExternalLayout = (externalLayout: gdExternalLayout) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Are you sure you want to remove this external layout? This can't be undone.`\n      )\n    );\n    if (!answer) return;\n\n    this.setState(\n      {\n        editorTabs: closeExternalLayoutTabs(\n          this.state.editorTabs,\n          externalLayout\n        ),\n      },\n      () => {\n        currentProject.removeExternalLayout(externalLayout.getName());\n        this.forceUpdate();\n      }\n    );\n  };\n\n  deleteExternalEvents = (externalEvents: gdExternalEvents) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Are you sure you want to remove these external events? This can't be undone.`\n      )\n    );\n    if (!answer) return;\n\n    this.setState(\n      {\n        editorTabs: closeExternalEventsTabs(\n          this.state.editorTabs,\n          externalEvents\n        ),\n      },\n      () => {\n        currentProject.removeExternalEvents(externalEvents.getName());\n        this.forceUpdate();\n      }\n    );\n  };\n\n  deleteEventsFunctionsExtension = (\n    externalLayout: gdEventsFunctionsExtension\n  ) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Are you sure you want to remove this extension? This can't be undone.`\n      )\n    );\n    if (!answer) return;\n\n    this.setState(\n      {\n        editorTabs: closeEventsFunctionsExtensionTabs(\n          this.state.editorTabs,\n          externalLayout\n        ),\n      },\n      () => {\n        currentProject.removeEventsFunctionsExtension(externalLayout.getName());\n        this.forceUpdate();\n      }\n    );\n  };\n\n  renameLayout = (oldName: string, newName: string) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    if (!currentProject.hasLayoutNamed(oldName) || newName === oldName) return;\n\n    if (currentProject.hasLayoutNamed(newName)) {\n      showWarningBox(i18n._(t`Another scene with this name already exists.`));\n      return;\n    }\n\n    const layout = currentProject.getLayout(oldName);\n    this.setState(\n      {\n        editorTabs: closeLayoutTabs(this.state.editorTabs, layout),\n      },\n      () => {\n        layout.setName(newName);\n        this.forceUpdate();\n      }\n    );\n  };\n\n  renameExternalLayout = (oldName: string, newName: string) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    if (!currentProject.hasExternalLayoutNamed(oldName) || newName === oldName)\n      return;\n\n    if (currentProject.hasExternalLayoutNamed(newName)) {\n      showWarningBox(\n        i18n._(t`Another external layout with this name already exists.`)\n      );\n      return;\n    }\n\n    const externalLayout = currentProject.getExternalLayout(oldName);\n    this.setState(\n      {\n        editorTabs: closeExternalLayoutTabs(\n          this.state.editorTabs,\n          externalLayout\n        ),\n      },\n      () => {\n        externalLayout.setName(newName);\n        this.forceUpdate();\n      }\n    );\n  };\n\n  renameExternalEvents = (oldName: string, newName: string) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    if (!currentProject.hasExternalEventsNamed(oldName) || newName === oldName)\n      return;\n\n    if (currentProject.hasExternalEventsNamed(newName)) {\n      showWarningBox(\n        i18n._(t`Other external events with this name already exist.`)\n      );\n      return;\n    }\n\n    const externalEvents = currentProject.getExternalEvents(oldName);\n    this.setState(\n      {\n        editorTabs: closeExternalEventsTabs(\n          this.state.editorTabs,\n          externalEvents\n        ),\n      },\n      () => {\n        externalEvents.setName(newName);\n        this.forceUpdate();\n      }\n    );\n  };\n\n  renameEventsFunctionsExtension = (oldName: string, newName: string) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    const { eventsFunctionWriter } = this.props;\n    if (!currentProject) return;\n\n    if (\n      !currentProject.hasEventsFunctionsExtensionNamed(oldName) ||\n      newName === oldName\n    )\n      return;\n\n    if (currentProject.hasEventsFunctionsExtensionNamed(newName)) {\n      showWarningBox(\n        i18n._(t`Another extension with this name already exists.`)\n      );\n      return;\n    }\n\n    if (!gd.Project.validateObjectName(newName)) {\n      showWarningBox(\n        i18n._(\n          t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your extension name.`\n        )\n      );\n      return;\n    }\n\n    const eventsFunctionsExtension = currentProject.getEventsFunctionsExtension(\n      oldName\n    );\n    this.setState(\n      {\n        editorTabs: closeEventsFunctionsExtensionTabs(\n          this.state.editorTabs,\n          eventsFunctionsExtension\n        ),\n      },\n      () => {\n        // Refactor the project to update the instructions (and later expressions)\n        // of this extension:\n        gd.WholeProjectRefactorer.renameEventsFunctionsExtension(\n          currentProject,\n          eventsFunctionsExtension,\n          oldName,\n          newName\n        );\n        eventsFunctionsExtension.setName(newName);\n        if (eventsFunctionWriter) {\n          unloadProjectEventsFunctionsExtensions(currentProject);\n          this._loadProjectEventsFunctionsExtensions();\n        }\n\n        this.forceUpdate();\n      }\n    );\n  };\n\n  _launchLayoutPreview = (\n    project: gdProject,\n    layout: gdLayout,\n    options: PreviewOptions\n  ) =>\n    watchPromiseInState(this, 'previewLoading', () =>\n      this._handlePreviewResult(\n        this._previewLauncher &&\n          this._previewLauncher.launchLayoutPreview(project, layout, options)\n      )\n    );\n\n  _launchExternalLayoutPreview = (\n    project: gdProject,\n    layout: gdLayout,\n    externalLayout: gdExternalLayout,\n    options: PreviewOptions\n  ) =>\n    watchPromiseInState(this, 'previewLoading', () =>\n      this._handlePreviewResult(\n        this._previewLauncher &&\n          this._previewLauncher.launchExternalLayoutPreview(\n            project,\n            layout,\n            externalLayout,\n            options\n          )\n      )\n    );\n\n  _handlePreviewResult = (previewPromise: ?Promise<any>): Promise<void> => {\n    if (!previewPromise) return Promise.reject();\n    const { i18n } = this.props;\n\n    return previewPromise.then(\n      (result: any) => {},\n      (err: any) => {\n        showErrorBox(i18n._(t`Unable to launch the preview!`), err);\n      }\n    );\n  };\n\n  openLayout = (\n    name: string,\n    {\n      openEventsEditor = true,\n      openSceneEditor = true,\n    }: { openEventsEditor: boolean, openSceneEditor: boolean } = {}\n  ) => {\n    const { i18n } = this.props;\n    const sceneEditorOptions = {\n      name,\n      renderEditor: ({ isActive, editorRef }) => (\n        <SceneEditor\n          project={this.state.currentProject}\n          layoutName={name}\n          setToolbar={this.setEditorToolbar}\n          onPreview={this._launchLayoutPreview}\n          showPreviewButton={!!this.props.previewLauncher}\n          showNetworkPreviewButton={\n            this._previewLauncher && this._previewLauncher.canDoNetworkPreview()\n          }\n          onOpenDebugger={this.openDebugger}\n          onEditObject={this.props.onEditObject}\n          showObjectsList={!this.props.integratedEditor}\n          resourceSources={this.props.resourceSources}\n          onChooseResource={this._onChooseResource}\n          resourceExternalEditors={this.props.resourceExternalEditors}\n          isActive={isActive}\n          ref={editorRef}\n        />\n      ),\n      key: 'layout ' + name,\n    };\n    const eventsEditorOptions = {\n      name: name + ' ' + i18n._(t`(Events)`),\n      renderEditor: ({ isActive, editorRef }) => (\n        <EventsEditor\n          project={this.state.currentProject}\n          layoutName={name}\n          setToolbar={this.setEditorToolbar}\n          onPreview={this._launchLayoutPreview}\n          showPreviewButton={!!this.props.previewLauncher}\n          showNetworkPreviewButton={\n            this._previewLauncher && this._previewLauncher.canDoNetworkPreview()\n          }\n          onOpenDebugger={this.openDebugger}\n          onOpenExternalEvents={this.openExternalEvents}\n          onOpenLayout={name =>\n            this.openLayout(name, {\n              openEventsEditor: true,\n              openSceneEditor: false,\n            })\n          }\n          resourceSources={this.props.resourceSources}\n          onChooseResource={this._onChooseResource}\n          resourceExternalEditors={this.props.resourceExternalEditors}\n          openInstructionOrExpression={this._openInstructionOrExpression}\n          isActive={isActive}\n          ref={editorRef}\n        />\n      ),\n      key: 'layout events ' + name,\n      dontFocusTab: openSceneEditor,\n    };\n\n    const tabsWithSceneEditor = openSceneEditor\n      ? openEditorTab(this.state.editorTabs, sceneEditorOptions)\n      : this.state.editorTabs;\n    const tabsWithSceneAndEventsEditors = openEventsEditor\n      ? openEditorTab(tabsWithSceneEditor, eventsEditorOptions)\n      : tabsWithSceneEditor;\n\n    this.setState({ editorTabs: tabsWithSceneAndEventsEditors }, () =>\n      this.updateToolbar()\n    );\n    this.openProjectManager(false);\n  };\n\n  openExternalEvents = (name: string) => {\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name,\n          renderEditor: ({ isActive, editorRef }) => (\n            <ExternalEventsEditor\n              project={this.state.currentProject}\n              externalEventsName={name}\n              setToolbar={this.setEditorToolbar}\n              onOpenExternalEvents={this.openExternalEvents}\n              onOpenLayout={name =>\n                this.openLayout(name, {\n                  openEventsEditor: true,\n                  openSceneEditor: false,\n                })\n              }\n              resourceSources={this.props.resourceSources}\n              onChooseResource={this._onChooseResource}\n              resourceExternalEditors={this.props.resourceExternalEditors}\n              openInstructionOrExpression={this._openInstructionOrExpression}\n              isActive={isActive}\n              ref={editorRef}\n            />\n          ),\n          key: 'external events ' + name,\n        }),\n      },\n      () => this.updateToolbar()\n    );\n    this.openProjectManager(false);\n  };\n\n  openExternalLayout = (name: string) => {\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name,\n          renderEditor: ({ isActive, editorRef }) => (\n            <ExternalLayoutEditor\n              project={this.state.currentProject}\n              externalLayoutName={name}\n              setToolbar={this.setEditorToolbar}\n              onPreview={this._launchExternalLayoutPreview}\n              showPreviewButton={!!this.props.previewLauncher}\n              showNetworkPreviewButton={\n                this._previewLauncher &&\n                this._previewLauncher.canDoNetworkPreview()\n              }\n              onOpenDebugger={this.openDebugger}\n              onEditObject={this.props.onEditObject}\n              showObjectsList={!this.props.integratedEditor}\n              resourceSources={this.props.resourceSources}\n              onChooseResource={this._onChooseResource}\n              resourceExternalEditors={this.props.resourceExternalEditors}\n              isActive={isActive}\n              ref={editorRef}\n            />\n          ),\n          key: 'external layout ' + name,\n        }),\n      },\n      () => this.updateToolbar()\n    );\n    this.openProjectManager(false);\n  };\n\n  openEventsFunctionsExtension = (\n    name: string,\n    initiallyFocusedFunctionName?: string\n  ) => {\n    if (!this.props.eventsFunctionWriter) return;\n\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name,\n          renderEditor: ({ isActive, editorRef }) => (\n            <EventsFunctionsExtensionEditor\n              project={this.state.currentProject}\n              eventsFunctionsExtensionName={name}\n              setToolbar={this.setEditorToolbar}\n              resourceSources={this.props.resourceSources}\n              onChooseResource={this._onChooseResource}\n              resourceExternalEditors={this.props.resourceExternalEditors}\n              isActive={isActive}\n              onReloadEventsFunctionsExtensions={\n                this._loadProjectEventsFunctionsExtensions\n              }\n              initiallyFocusedFunctionName={initiallyFocusedFunctionName}\n              openInstructionOrExpression={this._openInstructionOrExpression}\n              ref={editorRef}\n            />\n          ),\n          key: 'events functions extension ' + name,\n        }),\n      },\n      () => this.updateToolbar()\n    );\n    this.openProjectManager(false);\n  };\n\n  openResources = () => {\n    const { i18n } = this.props;\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name: i18n._(t`Resources`),\n          renderEditor: ({ isActive, editorRef }) => (\n            <ResourcesEditor\n              project={this.state.currentProject}\n              setToolbar={this.setEditorToolbar}\n              onDeleteResource={(resource: gdResource, cb: boolean => void) => {\n                // TODO: Project wide refactoring of objects/events using the resource\n                cb(true);\n              }}\n              onRenameResource={(\n                resource: gdResource,\n                newName: string,\n                cb: boolean => void\n              ) => {\n                // TODO: Project wide refactoring of objects/events using the resource\n                cb(true);\n              }}\n              isActive={isActive}\n              ref={editorRef}\n              onChooseResource={this._onChooseResource}\n              resourceSources={this.props.resourceSources}\n            />\n          ),\n          key: 'resources',\n        }),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openStartPage = () => {\n    const { i18n } = this.props;\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name: i18n._(t`Start Page`),\n          renderEditor: ({ isActive, editorRef }) => (\n            <StartPage\n              project={this.state.currentProject}\n              setToolbar={this.setEditorToolbar}\n              canOpen={!!this.props.onChooseProject}\n              onOpen={this.chooseProject}\n              onCreate={() => this.openCreateDialog()}\n              onOpenProjectManager={() => this.openProjectManager()}\n              onCloseProject={() => this.askToCloseProject()}\n              onOpenAboutDialog={() => this.openAboutDialog()}\n              onOpenHelpFinder={() => this.openHelpFinderDialog()}\n              onOpenLanguageDialog={() => this.openLanguage()}\n              isActive={isActive}\n              ref={editorRef}\n            />\n          ),\n          key: 'start page',\n          closable: false,\n        }),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openDebugger = () => {\n    const { i18n } = this.props;\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name: i18n._(t`Debugger`),\n          renderEditor: ({ isActive, editorRef }) => (\n            <DebuggerEditor\n              project={this.state.currentProject}\n              setToolbar={this.setEditorToolbar}\n              isActive={isActive}\n              ref={editorRef}\n              onChangeSubscription={() => this.openSubscription(true)}\n            />\n          ),\n          key: 'debugger',\n        }),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  _openInstructionOrExpression = (\n    extension: gdPlatformExtension,\n    type: string\n  ) => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const extensionName = extension.getName();\n    if (currentProject.hasEventsFunctionsExtensionNamed(extensionName)) {\n      // It's an events functions extension, open the editor for it.\n      const eventsFunctionsExtension = currentProject.getEventsFunctionsExtension(\n        extensionName\n      );\n      const functionName = getFunctionNameFromType(type);\n\n      const foundTab = getEventsFunctionsExtensionEditor(\n        this.state.editorTabs,\n        eventsFunctionsExtension\n      );\n      if (foundTab) {\n        // Open the given function and focus the tab\n        foundTab.editor.selectEventsFunctionByName(functionName);\n        this.setState(state => ({\n          editorTabs: changeCurrentTab(state.editorTabs, foundTab.tabIndex),\n        }));\n      } else {\n        // Open a new editor for the extension and the given function\n        this.openEventsFunctionsExtension(extensionName, functionName);\n      }\n    } else {\n      // It's not an events functions extension, we should not be here.\n      console.warn(\n        `Extension with name=${extensionName} can not be opened (no editor for this)`\n      );\n    }\n  };\n\n  openCreateDialog = (open: boolean = true) => {\n    this.setState({\n      createDialogOpen: open,\n    });\n  };\n\n  chooseProject = () => {\n    if (!this.props.onChooseProject) return;\n\n    this.props\n      .onChooseProject()\n      .then(filepath => {\n        if (!filepath) return;\n\n        this.openFromPathOrURL(filepath, () =>\n          this.openSceneOrProjectManager()\n        );\n      })\n      .catch(() => {});\n  };\n\n  save = () => {\n    saveUiSettings(this.state.editorTabs);\n    if (!this.state.currentProject) return;\n    const { i18n } = this.props;\n\n    if (this.props.saveDialog) {\n      this._openSaveDialog();\n    } else if (this.props.onSaveProject) {\n      this.props.onSaveProject(this.state.currentProject).then(\n        () => {\n          this._showSnackMessage(i18n._(t`Project properly saved`));\n        },\n        err => {\n          showErrorBox(\n            i18n._(\n              t`Unable to save the project! Please try again by choosing another location.`\n            ),\n            err\n          );\n        }\n      );\n    }\n  };\n\n  askToCloseProject = (cb: ?Function) => {\n    if (!this.state.currentProject) return;\n    const { i18n } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Close the project? Any changes that have not been saved will be lost.`\n      )\n    );\n    if (!answer) return;\n\n    const noop = () => {};\n    this.closeProject(cb || noop);\n  };\n\n  openSceneOrProjectManager = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    if (currentProject.getLayoutsCount() === 1) {\n      this.openLayout(currentProject.getLayoutAt(0).getName(), {\n        openSceneEditor: true,\n        openEventsEditor: true,\n      });\n    } else {\n      this.openProjectManager();\n    }\n  };\n\n  openExportDialog = (open: boolean = true) => {\n    this.setState({\n      exportDialogOpen: open,\n    });\n  };\n\n  _openIntroDialog = (open: boolean = true) => {\n    this.setState({\n      introDialogOpen: open,\n    });\n  };\n\n  _openSaveDialog = (open: boolean = true) => {\n    this.setState({\n      saveDialogOpen: open,\n    });\n  };\n\n  _openGenericDialog = (open: boolean = true) => {\n    this.setState({\n      genericDialogOpen: open,\n      genericDialog: null,\n    });\n  };\n\n  openPreferences = (open: boolean = true) => {\n    this.setState({\n      preferencesDialogOpen: open,\n    });\n  };\n\n  openLanguage = (open: boolean = true) => {\n    this.setState({\n      languageDialogOpen: open,\n    });\n  };\n\n  openProfile = (open: boolean = true) => {\n    this.setState({\n      profileDialogOpen: open,\n    });\n  };\n\n  openSubscription = (open: boolean = true) => {\n    this.setState({\n      subscriptionDialogOpen: open,\n    });\n  };\n\n  _onChangeEditorTab = (value: number) => {\n    this.setState(\n      {\n        editorTabs: changeCurrentTab(this.state.editorTabs, value),\n      },\n      () => this._onEditorTabActive(getCurrentTab(this.state.editorTabs))\n    );\n  };\n\n  _onEditorTabActive = (editorTab: EditorTab) => {\n    this.updateToolbar();\n  };\n\n  _onCloseEditorTab = (editorTab: EditorTab) => {\n    saveUiSettings(this.state.editorTabs);\n    this.setState(\n      {\n        editorTabs: closeEditorTab(this.state.editorTabs, editorTab),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  _onChooseResource = (\n    sourceName: string,\n    multiSelection: boolean = true\n  ): Promise<Array<any>> => {\n    const { currentProject } = this.state;\n    const resourceSourceDialog = this._resourceSourceDialogs[sourceName];\n    if (!resourceSourceDialog) return Promise.resolve([]);\n\n    return resourceSourceDialog.chooseResources(currentProject, multiSelection);\n  };\n\n  updateToolbar() {\n    const editorTab = getCurrentTab(this.state.editorTabs);\n    if (!editorTab || !editorTab.editorRef) {\n      this.setEditorToolbar(null);\n      return;\n    }\n\n    editorTab.editorRef.updateToolbar();\n  }\n\n  openAboutDialog = (open: boolean = true) => {\n    this.setState({\n      aboutDialogOpen: open,\n    });\n  };\n\n  openPlatformSpecificAssets = (open: boolean = true) => {\n    this.setState({\n      platformSpecificAssetsDialogOpen: open,\n    });\n  };\n\n  openHelpFinderDialog = (open: boolean = true) => {\n    this.setState({\n      helpFinderDialogOpen: open,\n    });\n  };\n\n  setUpdateStatus = (updateStatus: UpdateStatus) => {\n    this.setState({\n      updateStatus,\n    });\n\n    const notificationTitle = getUpdateNotificationTitle(updateStatus);\n    const notificationBody = getUpdateNotificationBody(updateStatus);\n    if (notificationTitle) {\n      const notification = new window.Notification(notificationTitle, {\n        body: notificationBody,\n      });\n      notification.onclick = () => this.openAboutDialog(true);\n    }\n  };\n\n  simulateUpdateDownloaded = () =>\n    this.setUpdateStatus({\n      status: 'update-downloaded',\n      message: 'update-downloaded',\n      info: {\n        releaseName: 'Fake update',\n      },\n    });\n\n  simulateUpdateAvailable = () =>\n    this.setUpdateStatus({\n      status: 'update-available',\n      message: 'Update available',\n    });\n\n  _showSnackMessage = (snackMessage: string) =>\n    this.setState({\n      snackMessage,\n      snackMessageOpen: true,\n    });\n\n  _closeSnackMessage = () =>\n    this.setState({\n      snackMessageOpen: false,\n    });\n\n  render() {\n    const {\n      currentProject,\n      genericDialog,\n      projectManagerOpen,\n      profileDialogOpen,\n      subscriptionDialogOpen,\n      updateStatus,\n      aboutDialogOpen,\n      helpFinderDialogOpen,\n      eventsFunctionsExtensionsError,\n    } = this.state;\n    const {\n      exportDialog,\n      createDialog,\n      introDialog,\n      saveDialog,\n      resourceSources,\n      authentification,\n      previewLauncher,\n      resourceExternalEditors,\n    } = this.props;\n    const showLoader =\n      this.state.loadingProject ||\n      this.state.previewLoading ||\n      this.props.loading;\n\n    return (\n      <div className=\"main-frame\">\n        <ProjectTitlebar project={currentProject} />\n        <Drawer\n          open={projectManagerOpen}\n          containerStyle={styles.drawerContent}\n          width={320}\n        >\n          <EditorBar\n            title={currentProject ? currentProject.getName() : 'No project'}\n            showMenuIconButton={false}\n            iconElementRight={\n              <IconButton onClick={this.toggleProjectManager}>\n                <NavigationClose />\n              </IconButton>\n            }\n          />\n          {currentProject && (\n            <ProjectManager\n              project={currentProject}\n              onOpenExternalEvents={this.openExternalEvents}\n              onOpenLayout={this.openLayout}\n              onOpenExternalLayout={this.openExternalLayout}\n              onOpenEventsFunctionsExtension={this.openEventsFunctionsExtension}\n              onAddLayout={this.addLayout}\n              onAddExternalLayout={this.addExternalLayout}\n              onAddEventsFunctionsExtension={this.addEventsFunctionsExtension}\n              onAddExternalEvents={this.addExternalEvents}\n              onDeleteLayout={this.deleteLayout}\n              onDeleteExternalLayout={this.deleteExternalLayout}\n              onDeleteEventsFunctionsExtension={\n                this.deleteEventsFunctionsExtension\n              }\n              onDeleteExternalEvents={this.deleteExternalEvents}\n              onRenameLayout={this.renameLayout}\n              onRenameExternalLayout={this.renameExternalLayout}\n              onRenameEventsFunctionsExtension={\n                this.renameEventsFunctionsExtension\n              }\n              onRenameExternalEvents={this.renameExternalEvents}\n              onSaveProject={this.save}\n              onCloseProject={this.askToCloseProject}\n              onExportProject={this.openExportDialog}\n              onOpenPreferences={() => this.openPreferences(true)}\n              onOpenResources={() => {\n                this.openResources();\n                this.openProjectManager(false);\n              }}\n              onOpenPlatformSpecificAssets={() =>\n                this.openPlatformSpecificAssets()\n              }\n              onChangeSubscription={() => this.openSubscription(true)}\n              eventsFunctionsExtensionsError={eventsFunctionsExtensionsError}\n              onReloadEventsFunctionsExtensions={\n                this._loadProjectEventsFunctionsExtensions\n              }\n              freezeUpdate={!projectManagerOpen}\n            />\n          )}\n          {!currentProject && (\n            <EmptyMessage>\n              <Trans>To begin, open or create a new project.</Trans>\n            </EmptyMessage>\n          )}\n        </Drawer>\n        <Toolbar\n          ref={toolbar => (this.toolbar = toolbar)}\n          showProjectIcons={!this.props.integratedEditor}\n          hasProject={!!this.state.currentProject}\n          toggleProjectManager={this.toggleProjectManager}\n          exportProject={() => this.openExportDialog(true)}\n          requestUpdate={this.props.requestUpdate}\n          simulateUpdateDownloaded={this.simulateUpdateDownloaded}\n          simulateUpdateAvailable={this.simulateUpdateAvailable}\n        />\n        <Tabs\n          value={getCurrentTabIndex(this.state.editorTabs)}\n          onChange={this._onChangeEditorTab}\n          hideLabels={!!this.props.integratedEditor}\n        >\n          {getEditors(this.state.editorTabs).map((editorTab, id) => {\n            const isCurrentTab =\n              getCurrentTabIndex(this.state.editorTabs) === id;\n            return (\n              <Tab\n                label={editorTab.name}\n                value={id}\n                key={editorTab.key}\n                onActive={() => this._onEditorTabActive(editorTab)}\n                onClose={() => this._onCloseEditorTab(editorTab)}\n                closable={editorTab.closable}\n              >\n                <div style={{ display: 'flex', flex: 1, height: '100%' }}>\n                  <ErrorBoundary>\n                    {editorTab.render(isCurrentTab)}\n                  </ErrorBoundary>\n                </div>\n              </Tab>\n            );\n          })}\n        </Tabs>\n        <LoaderModal show={showLoader} />\n        <HelpFinder\n          open={helpFinderDialogOpen}\n          onClose={() => this.openHelpFinderDialog(false)}\n        />\n        <Snackbar\n          open={this.state.snackMessageOpen}\n          message={this.state.snackMessage}\n          autoHideDuration={3000}\n          onRequestClose={this._closeSnackMessage}\n        />\n        {!!exportDialog &&\n          React.cloneElement(exportDialog, {\n            open: this.state.exportDialogOpen,\n            onClose: () => this.openExportDialog(false),\n            onChangeSubscription: () => {\n              this.openExportDialog(false);\n              this.openSubscription(true);\n            },\n            project: this.state.currentProject,\n            authentification,\n          })}\n        {!!createDialog &&\n          React.cloneElement(createDialog, {\n            open: this.state.createDialogOpen,\n            onClose: () => this.openCreateDialog(false),\n            onOpen: filepath => {\n              this.openCreateDialog(false);\n              this.openFromPathOrURL(filepath, () =>\n                this.openSceneOrProjectManager()\n              );\n            },\n            onCreate: project => {\n              this.openCreateDialog(false);\n              this.loadFromProject(project, () =>\n                this.openSceneOrProjectManager()\n              );\n            },\n          })}\n        {!!introDialog &&\n          React.cloneElement(introDialog, {\n            open: this.state.introDialogOpen,\n            onClose: () => this._openIntroDialog(false),\n          })}\n        {!!saveDialog &&\n          React.cloneElement(saveDialog, {\n            project: this.state.currentProject,\n            open: this.state.saveDialogOpen,\n            onClose: () => this._openSaveDialog(false),\n          })}\n        {!!this.state.currentProject && (\n          <PlatformSpecificAssetsDialog\n            project={this.state.currentProject}\n            open={this.state.platformSpecificAssetsDialogOpen}\n            onApply={() => this.openPlatformSpecificAssets(false)}\n            onClose={() => this.openPlatformSpecificAssets(false)}\n            resourceSources={resourceSources}\n            onChooseResource={this._onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n          />\n        )}\n        {!!genericDialog &&\n          React.cloneElement(genericDialog, {\n            open: this.state.genericDialogOpen,\n            onClose: () => this._openGenericDialog(false),\n          })}\n        {!!previewLauncher &&\n          React.cloneElement(previewLauncher, {\n            ref: (previewLauncher: ?PreviewLauncher) =>\n              (this._previewLauncher = previewLauncher),\n            onExport: () => this.openExportDialog(true),\n            onChangeSubscription: () => this.openSubscription(true),\n          })}\n        {resourceSources.map((resourceSource, index) => {\n          // $FlowFixMe\n          const Component = resourceSource.component;\n          return (\n            // $FlowFixMe\n            <Component\n              key={resourceSource.name}\n              ref={dialog =>\n                (this._resourceSourceDialogs[resourceSource.name] = dialog)\n              }\n            />\n          );\n        })}\n        <ProfileDialog\n          open={profileDialogOpen}\n          onClose={() => this.openProfile(false)}\n          onChangeSubscription={() => this.openSubscription(true)}\n        />\n        <SubscriptionDialog\n          onClose={() => {\n            this.openSubscription(false);\n          }}\n          open={subscriptionDialogOpen}\n        />\n        <PreferencesDialog\n          open={this.state.preferencesDialogOpen}\n          onClose={() => this.openPreferences(false)}\n        />\n        <LanguageDialog\n          open={this.state.languageDialogOpen}\n          onClose={languageChanged => {\n            this.openLanguage(false);\n            if (languageChanged) {\n              this._languageDidChange();\n            }\n          }}\n        />\n        <AboutDialog\n          open={aboutDialogOpen}\n          onClose={() => this.openAboutDialog(false)}\n          updateStatus={updateStatus}\n        />\n        <CloseConfirmDialog shouldPrompt={!!this.state.currentProject} />\n        <ChangelogDialogContainer />\n      </div>\n    );\n  }\n}\n\nexport default MainFrame;\n","// @flow\nimport optionalRequire from '../Utils/OptionalRequire';\nconst electron = optionalRequire('electron');\nconst app = electron ? electron.remote.app : null;\nconst gd = global.gd;\n\nconst gdCoreVersionString: string = gd\n  ? gd.VersionWrapper.fullString()\n  : 'Unknown';\nconst ideVersionString: string = app ? app.getVersion() : '5';\n\nexport const getIDEVersion = () => ideVersionString;\nexport const getGDCoreVersion = () => gdCoreVersionString;\n","import React, { Component } from 'react';\nconst gd = global.gd;\n\n/**\n * Wrap the specified component so that it is able to modify a\n * copy of the serializable object passed as its props (with the prop name\n * being the one specified by propName) and then apply the changes (in which\n * case the original serializable object is modified) or cancel the changes\n * (in which case the original serializable object remains intact).\n */\nexport const withSerializableObject = (\n  WrappedComponent,\n  { newObjectCreator, propName, useProjectToUnserialize } //TODO: Refactor\n) => {\n  return class extends Component {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        serializableObject: newObjectCreator(),\n      };\n      this._loadFrom(props[propName]);\n    }\n\n    componentWillUnmount() {\n      this.state.serializableObject.delete();\n    }\n\n    componentWillReceiveProps(newProps) {\n      if (\n        (!this.props.open && newProps.open) ||\n        (newProps.open && this.props[propName] !== newProps[propName])\n      ) {\n        this._loadFrom(newProps[propName]);\n      }\n    }\n\n    _loadFrom(serializableObject) {\n      if (!serializableObject) return;\n\n      const serializedElement = new gd.SerializerElement();\n      serializableObject.serializeTo(serializedElement);\n      if (!useProjectToUnserialize) {\n        this.state.serializableObject.unserializeFrom(serializedElement);\n      } else {\n        this.state.serializableObject.unserializeFrom(\n          this.props.project,\n          serializedElement\n        );\n      }\n      serializedElement.delete();\n    }\n\n    _apply = () => {\n      if (!this.props[propName]) return;\n\n      const serializedElement = new gd.SerializerElement();\n      this.state.serializableObject.serializeTo(serializedElement);\n      if (!useProjectToUnserialize) {\n        this.props[propName].unserializeFrom(serializedElement);\n      } else {\n        this.props[propName].unserializeFrom(\n          this.props.project,\n          serializedElement\n        );\n      }\n      serializedElement.delete();\n\n      if (this.props.onApply) this.props.onApply();\n    };\n\n    _cancel = () => {\n      if (this.props.onCancel) this.props.onCancel();\n    };\n\n    render() {\n      const props = this.props;\n\n      return React.createElement(WrappedComponent, {\n        ...props,\n        [propName]: this.state.serializableObject,\n        onCancel: this._cancel,\n        onApply: this._apply,\n      });\n    }\n  };\n};\n","import React from 'react';\nimport DragHandleIcon from 'material-ui/svg-icons/editor/drag-handle';\nimport { SortableHandle } from 'react-sortable-hoc';\n\nconst styles = {\n  handle: {\n    cursor: 'move',\n    marginRight: 4,\n  },\n  handleColor: '#DDD',\n};\n\nconst DragHandle = SortableHandle(() => (\n  <span style={styles.handle}>\n    <DragHandleIcon color={styles.handleColor} />\n  </span>\n));\nexport default DragHandle;\n","export default {\n  toolColumnHeader: {\n    textAlign: 'left',\n    paddingRight: 4,\n  },\n  toolColumn: {\n    minWidth: 48,\n    flex: 0,\n    justifyContent: 'flex-end',\n  },\n  tableChildIndentation: 24,\n  indent: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n  },\n  indentIconColor: '#DDD', //TODO: Use theme color instead\n  addVariableMessage: {\n    justifyContent: 'flex-end',\n  },\n  emptyExplanation: {\n    justifyContent: 'flex-start',\n  },\n  emptyExplanationMessage: {\n    textAlign: 'left',\n  },\n  fadedButton: {\n    opacity: 0.7,\n  },\n};\n","// @flow\n\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport Star from 'material-ui/svg-icons/toggle/star';\nimport Favorite from 'material-ui/svg-icons/action/favorite';\nimport UserProfileContext, { type UserProfile } from './UserProfileContext';\nimport { Column, Line } from '../UI/Grid';\nimport {\n  sendSubscriptionCheckDialogShown,\n  sendSubscriptionCheckDismiss,\n} from '../Utils/Analytics/EventSender';\nimport { Trans } from '@lingui/macro';\n\ntype Props = {|\n  title: React.Node,\n  id: string,\n  onChangeSubscription?: () => void,\n  mode: 'try' | 'mandatory',\n|};\n\ntype DialogProps = {|\n  userProfile: UserProfile,\n  ...$Exact<Props>,\n|};\n\ntype DialogState = {|\n  open: boolean,\n|};\n\nconst styles = {\n  icon: { width: 40, height: 40, marginRight: 20 },\n  iconText: { flex: 1 },\n  thanksText: { textAlign: 'right', marginRight: 20, marginBottom: 0 },\n};\n\nexport class SubscriptionCheckDialog extends React.Component<\n  DialogProps,\n  DialogState\n> {\n  state = { open: false };\n\n  checkHasSubscription() {\n    const { userProfile, mode, id } = this.props;\n    if (userProfile.subscription) {\n      const hasPlan = !!userProfile.subscription.planId;\n      if (hasPlan) {\n        this.setState({\n          open: false,\n        });\n        return true;\n      }\n    }\n\n    this.setState({\n      open: true,\n    });\n    sendSubscriptionCheckDialogShown({ mode, id });\n\n    return false;\n  }\n\n  _closeDialog = () => {\n    sendSubscriptionCheckDismiss();\n    this.setState({ open: false });\n  };\n\n  render() {\n    const { open } = this.state;\n    const { onChangeSubscription, mode } = this.props;\n    if (!open) return null;\n\n    return (\n      <Dialog\n        actions={[\n          onChangeSubscription && (\n            <RaisedButton\n              label={<Trans>Get a subscription or login</Trans>}\n              key=\"subscribe\"\n              primary\n              onClick={() => {\n                this.setState({ open: false });\n                onChangeSubscription();\n              }}\n            />\n          ),\n        ]}\n        secondaryActions={[\n          <FlatButton\n            label={\n              mode === 'try' ? (\n                <Trans>Continue anyway</Trans>\n              ) : (\n                <Trans>Not now, thanks!</Trans>\n              )\n            }\n            key=\"close\"\n            primary={false}\n            onClick={this._closeDialog}\n          />,\n        ]}\n        onRequestClose={this._closeDialog}\n        open={open}\n        autoScrollBodyContent\n        title={this.props.title}\n      >\n        <Column noMargin>\n          <Line noMargin alignItems=\"center\">\n            {mode === 'try' ? (\n              <p>\n                <Trans>\n                  You can try this feature, but if you're using it regularly, we\n                  ask you to get a subscription to GDevelop.\n                </Trans>\n              </p>\n            ) : (\n              <p>\n                <Trans>\n                  To use this feature, we ask you to get a subscription to\n                  GDevelop.\n                </Trans>\n              </p>\n            )}\n          </Line>\n          <Line noMargin alignItems=\"center\">\n            <Star style={styles.icon} />\n            <p style={styles.iconText}>\n              <Trans>\n                Having a subscription allows you to use the one-click export for\n                Android, Windows, macOS and Linux, launch live previews over\n                wifi, disable the GDevelop splashscreen during loading and more!\n              </Trans>\n            </p>\n          </Line>\n          <Line noMargin alignItems=\"center\">\n            <Favorite style={styles.icon} />\n            <p style={styles.iconText}>\n              <Trans>\n                You're also supporting the development of GDevelop, an\n                open-source software! In the future, more online services will\n                be available for users with a subscription.\n              </Trans>\n            </p>\n          </Line>\n          <p style={styles.thanksText}>\n            <b>\n              <Trans>Thanks!</Trans>\n            </b>\n          </p>\n        </Column>\n      </Dialog>\n    );\n  }\n}\n\nclass SubscriptionChecker extends React.Component<Props, {}> {\n  _dialog: ?SubscriptionCheckDialog = null;\n\n  checkHasSubscription() {\n    if (this._dialog) {\n      return this._dialog.checkHasSubscription();\n    }\n\n    return false;\n  }\n\n  render() {\n    return (\n      <UserProfileContext.Consumer>\n        {(userProfile: UserProfile) => (\n          <SubscriptionCheckDialog\n            userProfile={userProfile}\n            ref={dialog => (this._dialog = dialog)}\n            onChangeSubscription={this.props.onChangeSubscription}\n            id={this.props.id}\n            title={this.props.title}\n            mode={this.props.mode}\n          />\n        )}\n      </UserProfileContext.Consumer>\n    );\n  }\n}\n\nexport default SubscriptionChecker;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Column, Line } from '../UI/Grid';\n\nconst styles = {\n  orDivider: {\n    marginLeft: 15,\n    marginTop: 2,\n  },\n};\n\ntype Props = {\n  message?: string,\n  onLogin: Function,\n};\n\nexport default ({ message, onLogin }: Props) => (\n  <Column noMargin>\n    <Line>\n      <p>\n        {message ||\n          'You are not connected. Create an account and connect to access to GDevelop online services, like building your game for Android in one click!'}\n      </p>\n    </Line>\n    <Line justifyContent=\"center\" alignItems=\"center\">\n      <RaisedButton\n        label={<Trans>Create my account</Trans>}\n        onClick={onLogin}\n        primary\n      />\n      <span style={styles.orDivider}>or</span>\n      <FlatButton label={<Trans>Login</Trans>} onClick={onLogin} />\n    </Line>\n  </Column>\n);\n","// @flow\nimport * as React from 'react';\nimport EventsTree from './EventsTree';\nimport InstructionEditorDialog from './InstructionEditor/InstructionEditorDialog';\nimport Toolbar from './Toolbar';\nimport KeyboardShortcuts from '../UI/KeyboardShortcuts';\nimport InlineParameterEditor from './InlineParameterEditor';\nimport ContextMenu from '../UI/Menu/ContextMenu';\nimport Clipboard from '../Utils/Clipboard';\nimport { type PreviewOptions } from '../Export/PreviewLauncher.flow';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport {\n  type HistoryState,\n  undo,\n  redo,\n  canUndo,\n  canRedo,\n  getHistoryInitialState,\n  saveToHistory,\n} from '../Utils/History';\nimport {\n  type SelectionState,\n  type EventContext,\n  type InstructionsListContext,\n  type InstructionContext,\n  type ParameterContext,\n  getInitialSelection,\n  selectEvent,\n  selectInstruction,\n  hasSomethingSelected,\n  hasEventSelected,\n  hasInstructionSelected,\n  hasSelectedAtLeastOneCondition,\n  hasInstructionsListSelected,\n  getSelectedEvents,\n  getSelectedInstructions,\n  clearSelection,\n  getSelectedEventContexts,\n  getSelectedInstructionsContexts,\n  getSelectedInstructionsListsContexts,\n  selectInstructionsList,\n} from './SelectionHandler';\nimport EmptyEventsPlaceholder from './EmptyEventsPlaceholder';\nimport { ensureSingleOnceInstructions } from './OnceInstructionSanitizer';\nimport EventsContextAnalyzerDialog from './EventsContextAnalyzerDialog';\nimport SearchPanel from './SearchPanel';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport EventsSearcher, {\n  type ReplaceInEventsInputs,\n  type SearchInEventsInputs,\n} from './EventsSearcher';\nimport { containsSubInstructions } from './ContainsSubInstruction';\nimport {\n  enumerateEventsMetadata,\n  type EventMetadata,\n} from './EnumerateEventsMetadata';\nconst gd = global.gd;\n\nconst CLIPBOARD_KIND = 'EventsAndInstructions';\n\ntype Props = {|\n  project: gdProject,\n  layout: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  events: gdEventsList,\n  setToolbar: (?React.Node) => void,\n  showPreviewButton: boolean,\n  showNetworkPreviewButton: boolean,\n  onPreview: (options: PreviewOptions) => void,\n  onOpenDebugger: () => void,\n  onOpenSettings?: ?() => void,\n  onOpenExternalEvents: string => void,\n  onOpenLayout: string => void,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n|};\ntype State = {|\n  history: HistoryState,\n\n  editedInstruction: {\n    //TODO: This could be adapted to be a InstructionContext\n    isCondition: boolean,\n    instruction: ?gdInstruction,\n    instrsList: ?gdInstructionsList,\n    indexInList: number,\n  },\n  editedParameter: {\n    // TODO: This could be adapted to be a ParameterContext\n    isCondition: boolean,\n    instruction: ?gdInstruction,\n    instrsList: ?gdInstructionsList,\n    parameterIndex: number,\n  },\n\n  selection: SelectionState,\n\n  inlineEditing: boolean,\n  inlineEditingAnchorEl: ?any,\n  inlineEditingChangesMade: boolean,\n\n  eventsContextAnalyzerOpen: boolean,\n  analyzedEventsContextObjectsNames: ?Array<string>,\n  analyzedEventsContextObjectOrGroupNames: ?Array<string>,\n\n  showSearchPanel: boolean,\n  searchResults: ?Array<gdBaseEvent>,\n  searchFocusOffset: ?number,\n\n  allEventsMetadata: Array<EventMetadata>,\n|};\n\nconst styles = {\n  container: {\n    display: 'flex',\n    width: '100%',\n    flexDirection: 'column',\n  },\n};\n\nexport default class EventsSheet extends React.Component<Props, State> {\n  _keyboardShortcuts: KeyboardShortcuts;\n  _eventsTree: ?EventsTree;\n  _eventSearcher: ?EventsSearcher;\n  _searchPanel: ?SearchPanel;\n  eventContextMenu: ContextMenu;\n  instructionContextMenu: ContextMenu;\n  instructionsListContextMenu: ContextMenu;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      history: getHistoryInitialState(props.events, { historyMaxSize: 50 }),\n\n      editedInstruction: {\n        isCondition: true,\n        instruction: null,\n        instrsList: null,\n        indexInList: 0,\n      },\n      editedParameter: {\n        isCondition: true,\n        instruction: null,\n        instrsList: null,\n        parameterIndex: 0,\n      },\n\n      selection: getInitialSelection(),\n\n      inlineEditing: false,\n      inlineEditingAnchorEl: null,\n      inlineEditingChangesMade: false,\n\n      eventsContextAnalyzerOpen: false,\n      analyzedEventsContextObjectsNames: null,\n      analyzedEventsContextObjectOrGroupNames: null,\n\n      showSearchPanel: false,\n      searchResults: null,\n      searchFocusOffset: null,\n\n      allEventsMetadata: [],\n    };\n\n    this._keyboardShortcuts = new KeyboardShortcuts({\n      onDelete: () => {\n        if (\n          this.state.inlineEditing ||\n          this.state.editedInstruction.instruction\n        )\n          return;\n\n        this.deleteSelection();\n      },\n      onCopy: this.copySelection,\n      onCut: this.cutSelection,\n      onPaste: this.pasteEventsOrInstructions,\n      onSearch: this._toggleSearchPanel,\n      onUndo: this.undo,\n      onRedo: this.redo,\n    });\n  }\n\n  componentDidMount() {\n    this.setState({ allEventsMetadata: enumerateEventsMetadata() });\n  }\n\n  componentWillUnmount() {\n    this._keyboardShortcuts.unmount();\n  }\n\n  updateToolbar() {\n    if (!this.props.setToolbar) return;\n\n    this.props.setToolbar(\n      <Toolbar\n        allEventsMetadata={this.state.allEventsMetadata}\n        onAddStandardEvent={() =>\n          this.addNewEvent('BuiltinCommonInstructions::Standard')\n        }\n        onAddSubEvent={this.addSubEvents}\n        canAddSubEvent={hasEventSelected(this.state.selection)}\n        onAddCommentEvent={() =>\n          this.addNewEvent('BuiltinCommonInstructions::Comment')\n        }\n        onAddEvent={this.addNewEvent}\n        canRemove={hasSomethingSelected(this.state.selection)}\n        onRemove={this.deleteSelection}\n        showPreviewButton={this.props.showPreviewButton}\n        showNetworkPreviewButton={this.props.showNetworkPreviewButton}\n        onPreview={() => this.props.onPreview({})}\n        onNetworkPreview={() => this.props.onPreview({ networkPreview: true })}\n        onOpenDebugger={() => {\n          this.props.onOpenDebugger();\n          this.props.onPreview({});\n        }}\n        canUndo={canUndo(this.state.history)}\n        canRedo={canRedo(this.state.history)}\n        undo={this.undo}\n        redo={this.redo}\n        onOpenSettings={this.props.onOpenSettings}\n        onToggleSearchPanel={this._toggleSearchPanel}\n      />\n    );\n  }\n\n  _toggleSearchPanel = () => {\n    this.setState(\n      state => {\n        const show = !state.showSearchPanel;\n        if (!show) {\n          if (this._eventSearcher) this._eventSearcher.reset();\n        }\n\n        return {\n          showSearchPanel: show,\n        };\n      },\n      () => {\n        if (this.state.showSearchPanel && this._searchPanel) {\n          this._searchPanel.focus();\n        }\n      }\n    );\n  };\n\n  addSubEvents = () => {\n    const { project } = this.props;\n\n    getSelectedEvents(this.state.selection).forEach(event => {\n      if (event.canHaveSubEvents()) {\n        event\n          .getSubEvents()\n          .insertNewEvent(\n            project,\n            'BuiltinCommonInstructions::Standard',\n            event.getSubEvents().getEventsCount()\n          );\n      }\n    });\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  addNewEvent = (type: string, context: ?EventContext) => {\n    const { project } = this.props;\n    const hasEventsSelected = hasEventSelected(this.state.selection);\n\n    let insertions: Array<{\n      eventsList: gdEventsList,\n      indexInList: number,\n    }> = [];\n    if (context) {\n      insertions = [context];\n    } else if (hasEventsSelected) {\n      insertions = getSelectedEventContexts(this.state.selection).map(\n        selectedEvent => ({\n          eventsList: selectedEvent.eventsList,\n          indexInList: selectedEvent.indexInList,\n        })\n      );\n    } else {\n      insertions = [\n        {\n          eventsList: this.props.events,\n          indexInList: this.props.events.getEventsCount(),\n        },\n      ];\n    }\n\n    const newEvents = insertions.map(\n      (context: { eventsList: gdEventsList, indexInList: number }) => {\n        return context.eventsList.insertNewEvent(\n          project,\n          type,\n          context.indexInList + 1\n        );\n      }\n    );\n\n    this._saveChangesToHistory(() => {\n      const eventsTree = this._eventsTree;\n      if (!eventsTree) return;\n\n      eventsTree.forceEventsUpdate(() => {\n        if (!context && !hasEventsSelected) {\n          eventsTree.scrollToEvent(newEvents[0]);\n        }\n      });\n    });\n  };\n\n  openInstructionEditor = (instructionContext: InstructionContext) => {\n    if (this.state.editedInstruction.instruction) {\n      this.state.editedInstruction.instruction.delete();\n    }\n\n    this.setState({\n      editedInstruction: {\n        instrsList: instructionContext.instrsList,\n        isCondition: instructionContext.isCondition,\n        instruction: instructionContext.instruction\n          ? instructionContext.instruction.clone()\n          : new gd.Instruction(),\n        indexInList: instructionContext.indexInList,\n      },\n    });\n  };\n\n  closeInstructionEditor(saveChanges: boolean = false) {\n    if (this.state.editedInstruction.instruction) {\n      this.state.editedInstruction.instruction.delete();\n    }\n\n    this.setState(\n      {\n        editedInstruction: {\n          isCondition: true,\n          instruction: null,\n          instrsList: null,\n          indexInList: 0,\n        },\n      },\n      () => {\n        if (saveChanges) {\n          this._saveChangesToHistory();\n        }\n      }\n    );\n  }\n\n  moveSelectionToInstruction = (destinationContext: InstructionContext) => {\n    this.moveSelectionToInstructionsList(\n      {\n        instrsList: destinationContext.instrsList,\n        isCondition: destinationContext.isCondition,\n      },\n      destinationContext.indexInList\n    );\n  };\n\n  moveSelectionToInstructionsList = (\n    destinationContext: InstructionsListContext,\n    indexInList: ?number = undefined\n  ) => {\n    const selectedInstructions = getSelectedInstructions(this.state.selection);\n    const destinationIndex =\n      indexInList === undefined\n        ? destinationContext.instrsList.size()\n        : indexInList;\n\n    const isTryingToDragAnInstructionIntoItsOwnNestedInstructions = !!selectedInstructions.filter(\n      instruction =>\n        containsSubInstructions(instruction, destinationContext.instrsList)\n    ).length;\n\n    if (isTryingToDragAnInstructionIntoItsOwnNestedInstructions) return;\n\n    selectedInstructions.forEach(instruction =>\n      destinationContext.instrsList.insert(instruction, destinationIndex)\n    );\n\n    if (!this._keyboardShortcuts.shouldCloneInstances()) {\n      this.deleteSelection(/*deleteOnlyInstructions=*/ true);\n    } else {\n      this._saveChangesToHistory();\n    }\n  };\n\n  selectEvent = (eventContext: EventContext) => {\n    const multiSelect = this._keyboardShortcuts.shouldMultiSelect();\n    this.setState(\n      {\n        selection: selectEvent(this.state.selection, eventContext, multiSelect),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openEventContextMenu = (x: number, y: number, eventContext: EventContext) => {\n    const multiSelect = this._keyboardShortcuts.shouldMultiSelect();\n    this.setState(\n      {\n        selection: selectEvent(this.state.selection, eventContext, multiSelect),\n      },\n      () => {\n        this.updateToolbar();\n        this.eventContextMenu.open(x, y);\n      }\n    );\n  };\n\n  openInstructionContextMenu = (\n    x: number,\n    y: number,\n    instructionContext: InstructionContext\n  ) => {\n    const multiSelect = this._keyboardShortcuts.shouldMultiSelect();\n    this.setState(\n      {\n        selection: selectInstruction(\n          this.state.selection,\n          instructionContext,\n          multiSelect\n        ),\n      },\n      () => {\n        this.updateToolbar();\n        this.instructionContextMenu.open(x, y);\n      }\n    );\n  };\n\n  openInstructionsListContextMenu = (\n    x: number,\n    y: number,\n    instructionsListContext: InstructionsListContext\n  ) => {\n    this.setState(\n      {\n        selection: selectInstructionsList(\n          this.state.selection,\n          instructionsListContext,\n          false\n        ),\n      },\n      () => {\n        this.updateToolbar();\n        this.instructionsListContextMenu.open(x, y);\n      }\n    );\n  };\n\n  selectInstruction = (instructionContext: InstructionContext) => {\n    const multiSelect = this._keyboardShortcuts.shouldMultiSelect();\n    this.setState(\n      {\n        selection: selectInstruction(\n          this.state.selection,\n          instructionContext,\n          multiSelect\n        ),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openParameterEditor = (parameterContext: ParameterContext) => {\n    // $FlowFixMe\n    this.setState({\n      editedParameter: parameterContext,\n      inlineEditing: true,\n      inlineEditingAnchorEl: parameterContext.domEvent\n        ? parameterContext.domEvent.currentTarget\n        : null,\n      inlineEditingChangesMade: false,\n    });\n  };\n\n  closeParameterEditor = () => {\n    if (this.state.inlineEditingChangesMade) {\n      this._saveChangesToHistory();\n    }\n\n    this.setState({\n      inlineEditing: false,\n      inlineEditingAnchorEl: null,\n      inlineEditingChangesMade: false,\n    });\n  };\n\n  toggleDisabled = () => {\n    getSelectedEvents(this.state.selection).forEach(event =>\n      event.setDisabled(!event.isDisabled())\n    );\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  deleteSelection = (deleteOnlyInstructions: boolean = false) => {\n    const { events } = this.props;\n    const eventsRemover = new gd.EventsRemover();\n    if (!deleteOnlyInstructions) {\n      getSelectedEvents(this.state.selection).forEach(event =>\n        eventsRemover.addEventToRemove(event)\n      );\n    }\n    getSelectedInstructions(this.state.selection).forEach(instruction =>\n      eventsRemover.addInstructionToRemove(instruction)\n    );\n\n    eventsRemover.launch(events);\n\n    // /!\\ Events were changed, so any reference to an existing event can now\n    // be invalid. Make sure to immediately trigger a forced update before\n    // any re-render that could use a deleted/invalid event.\n    if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n\n    this.setState(\n      {\n        selection: clearSelection(),\n        inlineEditing: false,\n        inlineEditingAnchorEl: null,\n      },\n      () => this._saveChangesToHistory()\n    );\n  };\n\n  copySelection = () => {\n    const eventsList = new gd.EventsList();\n    const instructionsList = new gd.InstructionsList();\n\n    getSelectedEvents(this.state.selection).forEach(event =>\n      eventsList.insertEvent(event, eventsList.getEventsCount())\n    );\n    getSelectedInstructions(this.state.selection).forEach(instruction =>\n      instructionsList.insert(instruction, instructionsList.size())\n    );\n\n    Clipboard.set(CLIPBOARD_KIND, {\n      eventsList: serializeToJSObject(eventsList),\n      instructionsList: serializeToJSObject(instructionsList),\n    });\n\n    eventsList.delete();\n    instructionsList.delete();\n  };\n\n  cutSelection = () => {\n    this.copySelection();\n    this.deleteSelection();\n  };\n\n  pasteEvents = () => {\n    if (\n      !hasEventSelected(this.state.selection) ||\n      !Clipboard.has(CLIPBOARD_KIND)\n    )\n      return;\n\n    const eventsList = new gd.EventsList();\n    unserializeFromJSObject(\n      eventsList,\n      Clipboard.get(CLIPBOARD_KIND).eventsList,\n      'unserializeFrom',\n      this.props.project\n    );\n    getSelectedEventContexts(this.state.selection).forEach(eventContext => {\n      eventContext.eventsList.insertEvents(\n        eventsList,\n        0,\n        eventsList.getEventsCount(),\n        eventContext.indexInList\n      );\n    });\n    eventsList.delete();\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  pasteInstructions = () => {\n    if (\n      (!hasInstructionSelected(this.state.selection) &&\n        !hasInstructionsListSelected(this.state.selection)) ||\n      !Clipboard.has(CLIPBOARD_KIND)\n    )\n      return;\n\n    const instructionsList = new gd.InstructionsList();\n    unserializeFromJSObject(\n      instructionsList,\n      Clipboard.get(CLIPBOARD_KIND).instructionsList,\n      'unserializeFrom',\n      this.props.project\n    );\n    getSelectedInstructionsContexts(this.state.selection).forEach(\n      instructionContext => {\n        instructionContext.instrsList.insertInstructions(\n          instructionsList,\n          0,\n          instructionsList.size(),\n          instructionContext.indexInList\n        );\n      }\n    );\n    getSelectedInstructionsListsContexts(this.state.selection).forEach(\n      instructionsListContext => {\n        instructionsListContext.instrsList.insertInstructions(\n          instructionsList,\n          0,\n          instructionsList.size(),\n          instructionsListContext.instrsList.size()\n        );\n      }\n    );\n    instructionsList.delete();\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  pasteEventsOrInstructions = () => {\n    if (hasEventSelected(this.state.selection)) this.pasteEvents();\n    else if (hasInstructionSelected(this.state.selection))\n      this.pasteInstructions();\n    else if (hasInstructionsListSelected(this.state.selection))\n      this.pasteInstructions();\n  };\n\n  _invertSelectedConditions = () => {\n    getSelectedInstructionsContexts(this.state.selection).forEach(\n      instructionContext => {\n        if (instructionContext.isCondition) {\n          instructionContext.instruction.setInverted(\n            !instructionContext.instruction.isInverted()\n          );\n        }\n      }\n    );\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  _saveChangesToHistory = (cb: ?Function) => {\n    this.setState(\n      {\n        history: saveToHistory(this.state.history, this.props.events),\n      },\n      () => {\n        this.updateToolbar();\n        if (cb) cb();\n      }\n    );\n  };\n\n  undo = () => {\n    if (!canUndo(this.state.history)) return;\n\n    const { events, project } = this.props;\n    const newHistory = undo(this.state.history, events, project);\n\n    // /!\\ Events were changed, so any reference to an existing event can now\n    // be invalid. Make sure to immediately trigger a forced update before\n    // any re-render that could use a deleted/invalid event.\n    if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n\n    this.setState({ history: newHistory }, () => this.updateToolbar());\n  };\n\n  redo = () => {\n    if (!canRedo(this.state.history)) return;\n\n    const { events, project } = this.props;\n    const newHistory = redo(this.state.history, events, project);\n\n    // /!\\ Events were changed, so any reference to an existing event can now\n    // be invalid. Make sure to immediately trigger a forced update before\n    // any re-render that could use a deleted/invalid event.\n    if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n\n    this.setState({ history: newHistory }, () => this.updateToolbar());\n  };\n\n  _openEventsContextAnalyzer = () => {\n    const { globalObjectsContainer, objectsContainer } = this.props;\n    const eventsContextAnalyzer = new gd.EventsContextAnalyzer(\n      gd.JsPlatform.get(),\n      globalObjectsContainer,\n      objectsContainer\n    );\n\n    const eventsList = new gd.EventsList();\n    getSelectedEvents(this.state.selection).forEach(event =>\n      eventsList.insertEvent(event, eventsList.getEventsCount())\n    );\n\n    eventsContextAnalyzer.launch(eventsList);\n    eventsList.delete();\n\n    const eventsContext = eventsContextAnalyzer.getEventsContext();\n    this.setState({\n      eventsContextAnalyzerOpen: true,\n      analyzedEventsContextObjectsNames: eventsContext\n        .getObjectNames()\n        .toNewVectorString()\n        .toJSArray(),\n      analyzedEventsContextObjectOrGroupNames: eventsContext\n        .getObjectOrGroupNames()\n        .toNewVectorString()\n        .toJSArray(),\n    });\n  };\n\n  _closeEventsContextAnalyzer = () => {\n    this.setState({\n      eventsContextAnalyzerOpen: false,\n    });\n  };\n\n  _ensureEventUnfolded = (cb: () => ?gdBaseEvent) => {\n    const event = cb();\n    if (event && this._eventsTree) {\n      this._eventsTree.unfoldForEvent(event);\n    }\n  };\n\n  _replaceInEvents = (\n    doReplaceInEvents: (inputs: ReplaceInEventsInputs) => void,\n    inputs: ReplaceInEventsInputs\n  ) => {\n    doReplaceInEvents(inputs);\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  _searchInEvents = (\n    doSearchInEvents: (inputs: SearchInEventsInputs, cb: () => void) => void,\n    inputs: SearchInEventsInputs\n  ) => {\n    doSearchInEvents(inputs, () => {\n      this.forceUpdate(() => {\n        if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n      });\n    });\n  };\n\n  _onEventMoved = () => {\n    // Move of the event in the list is handled by EventsTree.\n    // This could be refactored and put here if the drag'n'drop of events\n    // is reworked at some point.\n    this._saveChangesToHistory();\n  };\n\n  render() {\n    const {\n      project,\n      layout,\n      events,\n      onOpenExternalEvents,\n      onOpenLayout,\n      globalObjectsContainer,\n      objectsContainer,\n    } = this.props;\n    if (!project) return null;\n\n    return (\n      <EventsSearcher\n        key={events.ptr}\n        ref={eventSearcher => (this._eventSearcher = eventSearcher)}\n        events={events}\n        globalObjectsContainer={globalObjectsContainer}\n        objectsContainer={objectsContainer}\n        selection={this.state.selection}\n      >\n        {({\n          eventsSearchResultEvents,\n          searchFocusOffset,\n          searchInEvents,\n          replaceInEvents,\n          goToPreviousSearchResult,\n          goToNextSearchResult,\n        }) => (\n          <div\n            className=\"gd-events-sheet\"\n            style={styles.container}\n            onFocus={() => this._keyboardShortcuts.focus()}\n            onBlur={() => this._keyboardShortcuts.blur()}\n            tabIndex={1}\n          >\n            <EventsTree\n              ref={eventsTree => (this._eventsTree = eventsTree)}\n              key={events.ptr}\n              events={events}\n              project={project}\n              layout={layout}\n              globalObjectsContainer={globalObjectsContainer}\n              objectsContainer={objectsContainer}\n              selection={this.state.selection}\n              onInstructionClick={this.selectInstruction}\n              onInstructionDoubleClick={this.openInstructionEditor}\n              onInstructionContextMenu={this.openInstructionContextMenu}\n              onInstructionsListContextMenu={\n                this.openInstructionsListContextMenu\n              }\n              onAddNewInstruction={this.openInstructionEditor}\n              onMoveToInstruction={this.moveSelectionToInstruction}\n              onMoveToInstructionsList={this.moveSelectionToInstructionsList}\n              onParameterClick={this.openParameterEditor}\n              onEventClick={this.selectEvent}\n              onEventContextMenu={this.openEventContextMenu}\n              onAddNewEvent={context =>\n                this.addNewEvent('BuiltinCommonInstructions::Standard', context)\n              }\n              onOpenExternalEvents={onOpenExternalEvents}\n              onOpenLayout={onOpenLayout}\n              searchResults={eventsSearchResultEvents}\n              searchFocusOffset={searchFocusOffset}\n              onEventMoved={this._onEventMoved}\n            />\n            {this.state.showSearchPanel && (\n              <SearchPanel\n                ref={searchPanel => (this._searchPanel = searchPanel)}\n                onSearchInEvents={inputs =>\n                  this._searchInEvents(searchInEvents, inputs)\n                }\n                onReplaceInEvents={inputs =>\n                  this._replaceInEvents(replaceInEvents, inputs)\n                }\n                resultsCount={\n                  eventsSearchResultEvents\n                    ? eventsSearchResultEvents.length\n                    : null\n                }\n                hasEventSelected={hasEventSelected(this.state.selection)}\n                onGoToPreviousSearchResult={() =>\n                  this._ensureEventUnfolded(goToPreviousSearchResult)\n                }\n                onGoToNextSearchResult={() =>\n                  this._ensureEventUnfolded(goToNextSearchResult)\n                }\n              />\n            )}\n            {events && events.getEventsCount() === 0 && (\n              <EmptyEventsPlaceholder />\n            )}\n            <InlineParameterEditor\n              open={this.state.inlineEditing}\n              anchorEl={this.state.inlineEditingAnchorEl}\n              onRequestClose={this.closeParameterEditor}\n              project={project}\n              layout={layout}\n              globalObjectsContainer={globalObjectsContainer}\n              objectsContainer={objectsContainer}\n              isCondition={this.state.editedParameter.isCondition}\n              instruction={this.state.editedParameter.instruction}\n              parameterIndex={this.state.editedParameter.parameterIndex}\n              onChange={value => {\n                const {\n                  instruction,\n                  parameterIndex,\n                } = this.state.editedParameter;\n                if (!instruction) return;\n                instruction.setParameter(parameterIndex, value);\n                this.setState({\n                  inlineEditingChangesMade: true,\n                });\n              }}\n              resourceSources={this.props.resourceSources}\n              onChooseResource={this.props.onChooseResource}\n              resourceExternalEditors={this.props.resourceExternalEditors}\n            />\n            <ContextMenu\n              ref={eventContextMenu =>\n                (this.eventContextMenu = eventContextMenu)\n              }\n              buildMenuTemplate={() => [\n                {\n                  label: 'Copy',\n                  click: () => this.copySelection(),\n                  accelerator: 'CmdOrCtrl+C',\n                },\n                {\n                  label: 'Cut',\n                  click: () => this.cutSelection(),\n                  accelerator: 'CmdOrCtrl+X',\n                },\n                {\n                  label: 'Paste',\n                  click: () => this.pasteEvents(),\n                  enabled: Clipboard.has(CLIPBOARD_KIND),\n                  accelerator: 'CmdOrCtrl+V',\n                },\n                {\n                  label: 'Delete',\n                  click: () => this.deleteSelection(),\n                  accelerator: 'Delete',\n                },\n                {\n                  label: 'Toggle disabled',\n                  click: () => this.toggleDisabled(),\n                },\n                { type: 'separator' },\n                {\n                  label: 'Add New Event Below',\n                  click: () =>\n                    this.addNewEvent('BuiltinCommonInstructions::Standard'),\n                },\n                {\n                  label: 'Add Sub Event',\n                  click: () => this.addSubEvents(),\n                },\n                {\n                  label: 'Add Other',\n                  submenu: this.state.allEventsMetadata.map(metadata => {\n                    return {\n                      label: metadata.fullName,\n                      click: () => this.addNewEvent(metadata.type),\n                    };\n                  }),\n                },\n                { type: 'separator' },\n                {\n                  label: 'Undo',\n                  click: this.undo,\n                  enabled: canUndo(this.state.history),\n                  accelerator: 'CmdOrCtrl+Z',\n                },\n                {\n                  label: 'Redo',\n                  click: this.redo,\n                  enabled: canRedo(this.state.history),\n                  accelerator: 'CmdOrCtrl+Shift+Z',\n                },\n                { type: 'separator' },\n                {\n                  label: 'Analyze objects used in this event',\n                  click: this._openEventsContextAnalyzer,\n                },\n              ]}\n            />\n            <ContextMenu\n              ref={instructionContextMenu =>\n                (this.instructionContextMenu = instructionContextMenu)\n              }\n              buildMenuTemplate={() => [\n                {\n                  label: 'Copy',\n                  click: () => this.copySelection(),\n                  accelerator: 'CmdOrCtrl+C',\n                },\n                {\n                  label: 'Cut',\n                  click: () => this.cutSelection(),\n                  accelerator: 'CmdOrCtrl+X',\n                },\n                {\n                  label: 'Paste',\n                  click: () => this.pasteInstructions(),\n                  enabled: Clipboard.has(CLIPBOARD_KIND),\n                  accelerator: 'CmdOrCtrl+V',\n                },\n                { type: 'separator' },\n                {\n                  label: 'Delete',\n                  click: () => this.deleteSelection(),\n                  accelerator: 'Delete',\n                },\n                { type: 'separator' },\n                {\n                  label: 'Undo',\n                  click: this.undo,\n                  enabled: canUndo(this.state.history),\n                  accelerator: 'CmdOrCtrl+Z',\n                },\n                {\n                  label: 'Redo',\n                  click: this.redo,\n                  enabled: canRedo(this.state.history),\n                  accelerator: 'CmdOrCtrl+Shift+Z',\n                },\n                {\n                  label: 'Invert Condition',\n                  click: () => this._invertSelectedConditions(),\n                  visible: hasSelectedAtLeastOneCondition(this.state.selection),\n                },\n              ]}\n            />\n            <ContextMenu\n              ref={instructionsListContextMenu =>\n                (this.instructionsListContextMenu = instructionsListContextMenu)\n              }\n              buildMenuTemplate={() => [\n                {\n                  label: 'Paste',\n                  click: () => this.pasteInstructions(),\n                  enabled: Clipboard.has(CLIPBOARD_KIND),\n                  accelerator: 'CmdOrCtrl+V',\n                },\n                { type: 'separator' },\n                {\n                  label: 'Undo',\n                  click: this.undo,\n                  enabled: canUndo(this.state.history),\n                  accelerator: 'CmdOrCtrl+Z',\n                },\n                {\n                  label: 'Redo',\n                  click: this.redo,\n                  enabled: canRedo(this.state.history),\n                  accelerator: 'CmdOrCtrl+Shift+Z',\n                },\n              ]}\n            />\n            {this.state.editedInstruction.instruction && (\n              <InstructionEditorDialog\n                project={project}\n                layout={layout}\n                globalObjectsContainer={globalObjectsContainer}\n                objectsContainer={objectsContainer}\n                instruction={this.state.editedInstruction.instruction}\n                isCondition={this.state.editedInstruction.isCondition}\n                isNewInstruction={\n                  this.state.editedInstruction.indexInList === undefined\n                }\n                open={true}\n                onCancel={() => this.closeInstructionEditor()}\n                onSubmit={() => {\n                  const {\n                    instrsList,\n                    instruction,\n                    indexInList,\n                  } = this.state.editedInstruction;\n                  if (!instrsList) return;\n\n                  if (indexInList !== undefined) {\n                    // Replace an existing instruction\n                    instrsList.set(indexInList, instruction);\n                  } else {\n                    // Add a new instruction\n                    instrsList.insert(instruction, instrsList.size());\n                  }\n\n                  this.closeInstructionEditor(true);\n                  ensureSingleOnceInstructions(instrsList);\n                  if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n                }}\n                resourceSources={this.props.resourceSources}\n                onChooseResource={this.props.onChooseResource}\n                resourceExternalEditors={this.props.resourceExternalEditors}\n                openInstructionOrExpression={(extension, type) => {\n                  this.closeInstructionEditor();\n                  this.props.openInstructionOrExpression(extension, type);\n                }}\n              />\n            )}\n            {this.state.eventsContextAnalyzerOpen &&\n              this.state.analyzedEventsContextObjectsNames &&\n              this.state.analyzedEventsContextObjectOrGroupNames && (\n                <EventsContextAnalyzerDialog\n                  open={this.state.eventsContextAnalyzerOpen}\n                  onClose={this._closeEventsContextAnalyzer}\n                  objectsNames={this.state.analyzedEventsContextObjectsNames}\n                  objectOrGroupNames={\n                    this.state.analyzedEventsContextObjectOrGroupNames\n                  }\n                />\n              )}\n          </div>\n        )}\n      </EventsSearcher>\n    );\n  }\n}\n","// @flow\n\nimport values from 'lodash/values';\n\nexport type InstructionsListContext = {|\n  isCondition: boolean,\n  instrsList: gdInstructionsList,\n|};\n\nexport type InstructionContext = {|\n  isCondition: boolean,\n  instrsList: gdInstructionsList,\n  instruction: gdInstruction,\n  indexInList: number,\n|};\n\nexport type ParameterContext = {|\n  isCondition: boolean,\n  instrsList: gdInstructionsList,\n  instruction: gdInstruction,\n  indexInList: number,\n  parameterIndex: number,\n  domEvent?: any,\n|};\n\nexport type EventContext = {|\n  isCondition: boolean,\n  eventsList: gdEventsList,\n  event: gdBaseEvent,\n  indexInList: number,\n|};\n\nexport type SelectionState = {\n  selectedInstructions: { [number]: InstructionContext },\n  selectedInstructionsLists: { [number]: InstructionsListContext },\n  selectedEvents: { [number]: EventContext },\n};\n\nexport const getInitialSelection = () => {\n  return {\n    selectedInstructions: {},\n    selectedEvents: {},\n    selectedInstructionsLists: {},\n  };\n};\n\nexport const getSelectedEvents = (selection: SelectionState): Array<Object> => {\n  return values(selection.selectedEvents).map(\n    (eventContext: EventContext) => eventContext.event\n  );\n};\n\nexport const getSelectedEventContexts = (\n  selection: SelectionState\n): Array<EventContext> => {\n  return values(selection.selectedEvents);\n};\n\nexport const getSelectedInstructions = (\n  selection: SelectionState\n): Array<gdInstruction> => {\n  return values(selection.selectedInstructions).map(\n    (instructionContext: InstructionContext) => instructionContext.instruction\n  );\n};\n\nexport const getSelectedInstructionsContexts = (\n  selection: SelectionState\n): Array<InstructionContext> => {\n  return values(selection.selectedInstructions);\n};\n\nexport const getSelectedInstructionsListsContexts = (\n  selection: SelectionState\n): Array<InstructionContext> => {\n  return values(selection.selectedInstructionsLists);\n};\n\nexport const isEventSelected = (\n  selection: SelectionState,\n  event: Object\n): boolean => {\n  return !!selection.selectedEvents[event.ptr];\n};\n\nexport const isInstructionSelected = (\n  selection: SelectionState,\n  instruction: gdInstruction\n): boolean => {\n  return !!selection.selectedInstructions[instruction.ptr];\n};\n\nexport const isInstructionsListSelected = (\n  selection: SelectionState,\n  instructionsList: gdInstructionsList\n): boolean => {\n  return !!selection.selectedInstructionsLists[instructionsList.ptr];\n};\n\nexport const hasEventSelected = (selection: SelectionState): boolean => {\n  return !!Object.keys(selection.selectedEvents).length;\n};\n\nexport const hasInstructionSelected = (selection: SelectionState): boolean => {\n  return !!Object.keys(selection.selectedInstructions).length;\n};\n\nexport const hasSelectedAtLeastOneCondition = (\n  selection: SelectionState\n): boolean => {\n  for (let instructionContext of getSelectedInstructionsContexts(selection)) {\n    if (instructionContext.isCondition) {\n      return true;\n    }\n  }\n  return false;\n};\n\nexport const hasInstructionsListSelected = (\n  selection: SelectionState\n): boolean => {\n  return !!Object.keys(selection.selectedInstructionsLists).length;\n};\n\nexport const hasSomethingSelected = (selection: SelectionState): boolean => {\n  return (\n    hasInstructionSelected(selection) ||\n    hasInstructionsListSelected(selection) ||\n    hasEventSelected(selection)\n  );\n};\n\nexport const clearSelection = (): SelectionState => {\n  return getInitialSelection();\n};\n\nexport const selectEvent = (\n  selection: SelectionState,\n  eventContext: EventContext,\n  multiSelection: boolean = false\n): SelectionState => {\n  const event = eventContext.event;\n  if (isEventSelected(selection, event)) return selection;\n\n  const existingSelection = multiSelection ? selection : clearSelection();\n  return {\n    ...existingSelection,\n    selectedEvents: {\n      ...existingSelection.selectedEvents,\n      [event.ptr]: eventContext,\n    },\n  };\n};\n\nexport const selectInstruction = (\n  selection: SelectionState,\n  instructionContext: InstructionContext,\n  multiSelection: boolean = false\n): SelectionState => {\n  const instruction: gdInstruction = instructionContext.instruction;\n  if (isInstructionSelected(selection, instruction)) return selection;\n\n  const existingSelection = multiSelection ? selection : clearSelection();\n  return {\n    ...existingSelection,\n    selectedInstructions: {\n      ...existingSelection.selectedInstructions,\n      [instruction.ptr]: instructionContext,\n    },\n  };\n};\n\nexport const selectInstructionsList = (\n  selection: SelectionState,\n  instructionsListContext: InstructionsListContext,\n  multiSelection: boolean = false\n): SelectionState => {\n  const instructionsList: gdInstructionsList =\n    instructionsListContext.instrsList;\n  if (isInstructionsListSelected(selection, instructionsList)) return selection;\n\n  const existingSelection = multiSelection ? selection : clearSelection();\n  return {\n    ...existingSelection,\n    selectedInstructionsLists: {\n      ...existingSelection.selectedInstructionsLists,\n      [instructionsList.ptr]: instructionsListContext,\n    },\n  };\n};\n","// @flow\nimport DefaultField from './ParameterFields/DefaultField';\nimport RelationalOperatorField from './ParameterFields/RelationalOperatorField';\nimport OperatorField from './ParameterFields/OperatorField';\nimport MouseField from './ParameterFields/MouseField';\nimport KeyField from './ParameterFields/KeyField';\nimport ObjectField from './ParameterFields/ObjectField';\nimport YesNoField from './ParameterFields/YesNoField';\nimport TrueFalseField from './ParameterFields/TrueFalseField';\nimport ExpressionField from './ParameterFields/ExpressionField';\nimport StringField from './ParameterFields/StringField';\nimport StringWithSelectorField from './ParameterFields/StringWithSelectorField';\nimport BehaviorField from './ParameterFields/BehaviorField';\nimport SceneVariableField from './ParameterFields/SceneVariableField';\nimport GlobalVariableField from './ParameterFields/GlobalVariableField';\nimport ObjectVariableField from './ParameterFields/ObjectVariableField';\nimport LayerField from './ParameterFields/LayerField';\nimport AudioResourceField from './ParameterFields/AudioResourceField';\nimport VideoResourceField from './ParameterFields/VideoResourceField';\nimport ColorExpressionField from './ParameterFields/ColorExpressionField';\nimport ForceMultiplierField, {\n  renderForceMultiplierString,\n} from './ParameterFields/ForceMultiplierField';\nconst gd = global.gd;\n\nconst components = {\n  default: DefaultField,\n  mouse: MouseField,\n  object: ObjectField,\n  relationalOperator: RelationalOperatorField,\n  operator: OperatorField,\n  yesorno: YesNoField,\n  trueorfalse: TrueFalseField,\n  expression: ExpressionField,\n  string: StringField,\n  stringWithSelector: StringWithSelectorField,\n  behavior: BehaviorField,\n  scenevar: SceneVariableField,\n  globalvar: GlobalVariableField,\n  objectvar: ObjectVariableField,\n  layer: LayerField,\n  key: KeyField,\n  file: DefaultField, //TODO\n  musicfile: AudioResourceField,\n  soundfile: AudioResourceField,\n  videoResource: VideoResourceField,\n  color: ColorExpressionField,\n  police: DefaultField, //TODO\n  joyaxis: DefaultField, //TODO\n  forceMultiplier: ForceMultiplierField,\n};\n\nconst stringRenderers = {\n  forceMultiplier: renderForceMultiplierString,\n};\n\nexport default {\n  components,\n  getParameterComponent: (type: string) => {\n    const fieldType = gd.ParameterMetadata.isObject(type) ? 'object' : type;\n\n    if (components.hasOwnProperty(fieldType)) return components[fieldType];\n    else return components.default;\n  },\n  renderParameterString: (type: string, value: string) => {\n    return stringRenderers[type] ? stringRenderers[type](value) : value;\n  },\n};\n","// @flow\nimport * as React from 'react';\nimport ObjectSelector from '../../ObjectsList/ObjectSelector';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\ntype State = {|\n  errorText: ?string,\n|};\n\nexport default class ObjectField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  _description: ?string;\n  _allowedObjectType: ?string;\n  _field: ?ObjectSelector;\n\n  constructor(props: ParameterFieldProps) {\n    super(props);\n    this.state = { errorText: null };\n\n    const { parameterMetadata } = this.props;\n\n    this._description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    this._allowedObjectType = parameterMetadata\n      ? parameterMetadata.getExtraInfo()\n      : undefined;\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  componentDidMount() {\n    if (this.props.value) this._doValidation();\n  }\n\n  _getError = () => {\n    if (this._field && !this._field.hasAValidObject())\n      return \"The object does not exist or can't be used here\";\n\n    return null;\n  };\n\n  _doValidation = () => {\n    this.setState({ errorText: this._getError() });\n  };\n\n  _onChange = (value: string) => {\n    this.setState({ errorText: null });\n    this.props.onChange(value);\n  };\n\n  render() {\n    return (\n      <ObjectSelector\n        value={this.props.value}\n        onChange={this._onChange}\n        onChoose={this._onChange}\n        allowedObjectType={this._allowedObjectType}\n        globalObjectsContainer={this.props.globalObjectsContainer}\n        objectsContainer={this.props.objectsContainer}\n        floatingLabelText={this._description}\n        fullWidth\n        errorText={this.state.errorText}\n        onBlur={this._doValidation}\n        openOnFocus={\n          !this.props\n            .value /* Only force showing the list if no object is entered, see https://github.com/4ian/GDevelop/issues/859 */\n        }\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\r\n// Inspired by https://github.com/LoicMahieu/material-ui-color-picker\r\n\r\nimport * as React from 'react';\r\nimport { SketchPicker } from 'react-color';\r\n\r\ntype RGBColor = {|\r\n  r: number,\r\n  g: number,\r\n  b: number,\r\n  a?: number,\r\n|};\r\n\r\ntype ColorResult = {\r\n  rgb: RGBColor,\r\n};\r\n\r\ntype ColorChangeHandler = (color: ColorResult) => void;\r\n\r\ntype Props = {|\r\n  color: ?RGBColor,\r\n  style?: Object,\r\n  onChange?: ColorChangeHandler,\r\n  onChangeComplete?: ColorChangeHandler,\r\n  disableAlpha?: boolean,\r\n|};\r\n\r\ntype State = {|\r\n  displayColorPicker: boolean,\r\n|};\r\n\r\nconst styles = {\r\n  color: {\r\n    width: '36px',\r\n    height: '14px',\r\n    borderRadius: '2px',\r\n    textAlign: 'center',\r\n    fontSize: '10px',\r\n  },\r\n  swatch: {\r\n    padding: '5px',\r\n    background: '#fff',\r\n    borderRadius: '1px',\r\n    boxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n    display: 'inline-block',\r\n    cursor: 'pointer',\r\n  },\r\n  popover: {\r\n    position: 'fixed',\r\n    zIndex: '2',\r\n    transform: 'translateX(-174px)',\r\n  },\r\n  cover: {\r\n    position: 'fixed',\r\n    top: '0px',\r\n    right: '0px',\r\n    bottom: '0px',\r\n    left: '0px',\r\n  },\r\n};\r\n\r\nclass ColorPicker extends React.Component<Props, State> {\r\n  state = {\r\n    displayColorPicker: false,\r\n  };\r\n\r\n  open = () => {\r\n    this.setState({ displayColorPicker: true });\r\n  };\r\n\r\n  handleClick = () => {\r\n    this.setState({ displayColorPicker: !this.state.displayColorPicker });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ displayColorPicker: false });\r\n  };\r\n\r\n  render() {\r\n    const { style, color, ...otherProps } = this.props;\r\n\r\n    const displayedColor = color\r\n      ? color\r\n      : {\r\n          r: 200,\r\n          g: 200,\r\n          b: 200,\r\n          a: 1,\r\n        };\r\n\r\n    return (\r\n      <div style={style}>\r\n        <div style={styles.swatch} onClick={this.handleClick}>\r\n          <div\r\n            style={{\r\n              ...styles.color,\r\n              background: `rgba(${displayedColor.r}, ${displayedColor.g}, ${\r\n                displayedColor.b\r\n              }, ${displayedColor.a || 1})`,\r\n            }}\r\n          >\r\n            {color ? null : '?'}\r\n          </div>\r\n        </div>\r\n        {this.state.displayColorPicker ? (\r\n          <div style={styles.popover}>\r\n            <div style={styles.cover} onClick={this.handleClose} />\r\n            <SketchPicker color={displayedColor} {...otherProps} />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ColorPicker;\r\n","import React from 'react';\nimport Menu from 'material-ui/Menu';\nimport Popover from 'material-ui/Popover';\nimport ElectronMenuImplementation from './ElectronMenuImplementation';\nimport MaterialUIMenuImplementation from './MaterialUIMenuImplementation';\nimport optionalRequire from '../../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\nclass MaterialUIContextMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n    };\n    this.menuImplementation = new MaterialUIMenuImplementation({\n      onClose: this._onClose,\n    });\n  }\n\n  open = (x, y) => {\n    this.setState(\n      {\n        anchorX: x,\n        anchorY: y,\n      },\n      () => {\n        this.setState({\n          open: true,\n        });\n      }\n    );\n  };\n\n  _onClose = () => {\n    this.setState({\n      open: false,\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <div\n          ref={element => (this.anchorEl = element)}\n          style={{\n            position: 'fixed',\n            pointerEvents: 'none',\n            left: this.state.anchorX,\n            top: this.state.anchorY,\n          }}\n        />\n        <Popover\n          open={this.state.open}\n          anchorEl={this.anchorEl}\n          onRequestClose={this._onClose}\n          {...this.menuImplementation.getMenuProps()}\n        >\n          <Menu desktop width={256}>\n            {this.menuImplementation.buildFromTemplate(\n              this.props.buildMenuTemplate()\n            )}\n          </Menu>\n        </Popover>\n      </div>\n    );\n  }\n}\n\nclass ElectronContextMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.menuImplementation = new ElectronMenuImplementation();\n  }\n\n  open = (x, y) => {\n    this.menuImplementation.buildFromTemplate(this.props.buildMenuTemplate());\n    this.menuImplementation.showMenu({\n      left: x || 0,\n      top: y || 0,\n      width: 0,\n      height: 0,\n    });\n  };\n\n  render() {\n    return null;\n  }\n}\n\nexport default (electron ? ElectronContextMenu : MaterialUIContextMenu);\n","// @flow\n\nexport default function getObjectByName(\n  project: gdProject,\n  layout: gdLayout,\n  associatedObjectName: string\n): ?gdObject {\n  let associatedObject = null;\n  if (layout.hasObjectNamed(associatedObjectName))\n    associatedObject = layout.getObject(associatedObjectName);\n  else if (project.hasObjectNamed(associatedObjectName))\n    associatedObject = project.getObject(associatedObjectName);\n  return associatedObject;\n}\n","//TODO: Factor with styles.js from LayersList.\nexport default {\n  handleColumn: {\n    width: 24,\n    paddingLeft: 8,\n    paddingRight: 0,\n  },\n  coordinateColumn: {\n    width: 48,\n  },\n  toolColumn: {\n    width: 48,\n  },\n};\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport TextField from 'material-ui/TextField';\nimport ColorPicker from './ColorPicker';\n\nconst styles = {\n  container: {\n    position: 'relative',\n    display: 'inline-block',\n  },\n  picker: {\n    position: 'absolute',\n    right: '8px',\n    bottom: '12px',\n  },\n};\n\nexport default class ColorField extends Component {\n  onClick = () => {\n    if (this.textField) this.textField.blur();\n    if (this.picker) this.picker.open();\n  };\n\n  render() {\n    return (\n      <div\n        style={{\n          ...styles.container,\n          width: this.props.fullWidth ? '100%' : undefined,\n        }}\n      >\n        <TextField\n          fullWidth\n          floatingLabelText={this.props.floatingLabelText}\n          floatingLabelFixed\n          type=\"text\"\n          hintText={<Trans>Click to choose</Trans>}\n          onClick={this.onClick}\n          onFocus={this.onClick}\n          value=\"\"\n          ref={textField => (this.textField = textField)}\n        />\n        <div style={styles.picker}>\n          <ColorPicker {...this.props} ref={picker => (this.picker = picker)} />\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\nimport ResourcesLoader from '../ResourcesLoader';\nimport optionalRequire from '../Utils/OptionalRequire.js';\nconst fs = optionalRequire('fs');\n\nexport const RESOURCE_EXTENSIONS = {\n  image: 'png,jpg,jpeg,PNG,JPG,JPEG',\n  audio: 'wav,mp3,ogg,WAV,MP3,OGG',\n  font: 'ttf,ttc,otf,TTF,TTC,OTF',\n  video: 'mp4,MP4',\n};\n\nexport const createOrUpdateResource = (\n  project: gdProject,\n  resource: gdResource,\n  resourceName: string\n) => {\n  const resourcesManager = project.getResourcesManager();\n  if (resourcesManager.hasResource(resourceName)) {\n    resourcesManager.removeResource(resourceName);\n  }\n  resource.setFile(resourceName);\n  resource.setName(resourceName);\n  resourcesManager.addResource(resource);\n  resource.delete();\n};\n\nexport const getLocalResourceFullPath = (\n  project: gdProject,\n  resourceName: string\n) => {\n  let resourcePath = ResourcesLoader.getResourceFullUrl(project, resourceName);\n  resourcePath = resourcePath.substring(7, resourcePath.lastIndexOf('?cache='));\n  return resourcePath;\n};\n\nexport const resourceHasValidPath = (\n  project: gdProject,\n  resourceName: string\n) => {\n  const resourcePath = getLocalResourceFullPath(project, resourceName);\n  return fs.existsSync(resourcePath);\n};\n","// @flow\n\nexport const timeFunction = (fn: Function, onResult: number => void) => {\n  var t0 = performance.now();\n  fn();\n  var t1 = performance.now();\n  onResult(t1 - t0);\n};\n","// @flow\n\nexport const makeTimestampedId = () =>\n  '' + Date.now() + '-' + Math.floor(Math.random() * 1000000);\n","//@flow\nexport const delay = (ms: number): Promise<void> =>\n  new Promise(res => setTimeout(res, ms));\n","// @flow\nimport { type Build, getBuild } from '../../Utils/GDevelopServices/Build';\nimport { delay } from '../../Utils/Delay';\nimport { type UserProfile } from '../../Profile/UserProfileContext';\n\nconst waitTime = 1500;\nconst bulkWaitTime = 5000;\n\nexport default class BuildsWatcher {\n  runningWatchers: { [string]: boolean } = {};\n  nextWatcherId = 0;\n  onBuildUpdated: ?(build: Build) => void;\n  userProfile: ?UserProfile;\n\n  start({\n    userProfile,\n    builds,\n    onBuildUpdated,\n  }: {\n    userProfile: UserProfile,\n    builds: Array<Build>,\n    onBuildUpdated: (build: Build) => void,\n  }) {\n    this.stop();\n    this.userProfile = userProfile;\n    this.onBuildUpdated = onBuildUpdated;\n\n    builds.forEach(build => {\n      if (build.status === 'pending') {\n        this._pollBuild(build.id, builds.length > 1 ? bulkWaitTime : waitTime);\n      }\n    });\n  }\n\n  stop() {\n    this.runningWatchers = {};\n  }\n\n  _pollBuild = async (buildId: string, waitTime: number) => {\n    const watcherId = this.nextWatcherId.toString();\n    this.nextWatcherId++;\n\n    this.runningWatchers[watcherId] = true;\n\n    let build = null;\n    do {\n      if (!this.userProfile) return;\n      const { getAuthorizationHeader, profile } = this.userProfile;\n      try {\n        console.info(`Checking progress of build ${buildId}...`);\n        build = await getBuild(getAuthorizationHeader, profile.uid, buildId);\n        if (this.onBuildUpdated) this.onBuildUpdated(build);\n      } catch (e) {\n        console.warn('Error while watching build progress:', e);\n      }\n\n      await delay(waitTime);\n      if (!this.runningWatchers[watcherId]) {\n        console.info(`Stopping watch of build ${buildId}.`);\n        return;\n      }\n    } while (build && build.status === 'pending');\n\n    console.info(`Watch of build ${buildId} finished.`);\n  };\n}\n","// @flow\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\n\nimport React, { Component } from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { enumerateVariables } from './EnumerateVariables';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nimport { defaultAutocompleteProps } from '../../UI/AutocompleteProps';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    alignItems: 'baseline',\n  },\n  moreButton: {\n    marginLeft: 10,\n  },\n};\n\ntype Props = {\n  ...ParameterFieldProps,\n  variablesContainer: ?gdVariablesContainer,\n  onOpenDialog: ?() => void,\n};\n\ntype State = {|\n  focused: boolean,\n  text: ?string,\n|};\n\nexport default class VariableField extends Component<Props, State> {\n  state = { focused: false, text: null };\n\n  _description: ?string;\n  _field: ?AutoComplete;\n  _variableNames: Array<string> = [];\n\n  constructor(props: Props) {\n    super(props);\n\n    const { parameterMetadata } = this.props;\n    this._description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    this._loadNamesFrom(props);\n  }\n\n  forceUpdateVariables() {\n    this._loadNamesFrom(this.props);\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (newProps.variablesContainer !== this.props.variablesContainer) {\n      this._loadNamesFrom(newProps);\n    }\n  }\n\n  _loadNamesFrom(props: Props) {\n    this._variableNames = enumerateVariables(props.variablesContainer);\n  }\n\n  render() {\n    return (\n      <div style={styles.container}>\n        <AutoComplete\n          {...defaultAutocompleteProps}\n          floatingLabelText={this._description}\n          searchText={this.state.focused ? this.state.text : this.props.value}\n          onFocus={() => {\n            this.setState({\n              focused: true,\n              text: this.props.value,\n            });\n          }}\n          onUpdateInput={value => {\n            this.setState({\n              focused: true,\n              text: value,\n            });\n          }}\n          onBlur={event => {\n            this.props.onChange(event.target.value);\n            this.setState({\n              focused: false,\n              text: null,\n            });\n          }}\n          onNewRequest={data => {\n            // Note that data may be a string or a {text, value} object.\n            if (typeof data === 'string') {\n              this.props.onChange(data);\n            } else if (typeof data.value === 'string') {\n              this.props.onChange(data.value);\n            }\n            this.focus(); // Keep the focus after choosing an item\n          }}\n          dataSource={this._variableNames.map(variableName => ({\n            text: variableName,\n            value: variableName,\n          }))}\n          openOnFocus={!this.props.isInline}\n          ref={field => (this._field = field)}\n        />\n        {this.props.onOpenDialog && !this.props.isInline && (\n          <RaisedButton\n            icon={<OpenInNew />}\n            disabled={!this.props.variablesContainer}\n            primary\n            style={styles.moreButton}\n            onClick={this.props.onOpenDialog}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport flatten from 'lodash/flatten';\nimport { mapFor } from '../../Utils/MapFor';\n\nexport const enumerateVariables = (\n  variablesContainer: ?gdVariablesContainer\n): Array<string> => {\n  if (!variablesContainer) {\n    return [];\n  }\n\n  const enumerateVariableAndChildrenNames = (\n    fullName: string,\n    variable: gdVariable\n  ): Array<string> => {\n    const names = [fullName];\n    if (!variable.isStructure()) return names;\n\n    variable\n      .getAllChildrenNames()\n      .toJSArray()\n      .forEach(childName => {\n        enumerateVariableAndChildrenNames(\n          `${fullName}.${childName}`,\n          variable.getChild(childName)\n        ).forEach(name => {\n          names.push(name);\n        });\n      });\n\n    return names;\n  };\n\n  return flatten(\n    mapFor(0, variablesContainer.count(), i => {\n      if (!variablesContainer) return [];\n\n      return enumerateVariableAndChildrenNames(\n        variablesContainer.getNameAt(i),\n        variablesContainer.getAt(i)\n      );\n    })\n  );\n};\n","import optionalRequire from '../../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\n/**\n * Wraps an Electron Menu\n */\nexport default class ElectronMenuImplementation {\n  buildFromTemplate(template) {\n    this.menuTemplate = template;\n    return undefined;\n  }\n\n  showMenu(dimensions) {\n    if (!electron) return;\n\n    const { Menu } = electron.remote;\n    const browserWindow = electron.remote.getCurrentWindow();\n    this.menu = Menu.buildFromTemplate(this.menuTemplate);\n    this.menu.popup({\n      window: browserWindow,\n      x: Math.round(dimensions.left),\n      y: Math.round(dimensions.top + dimensions.height),\n      async: true, // Ensure the UI is not blocked on macOS.\n    });\n  }\n\n  getMenuProps() {\n    return {\n      open: false,\n    };\n  }\n}\n","import React from 'react';\nimport MenuItem from 'material-ui/MenuItem';\nimport Divider from 'material-ui/Divider';\nimport { adaptAcceleratorString } from '../AcceleratorString';\nimport ArrowDropRight from 'material-ui/svg-icons/navigation-arrow-drop-right';\n\n/**\n * Construct items for material-ui's Menu, using a template which\n * is partially supporting the Electron Menu API (https://github.com/electron/electron/blob/master/docs/api/menu-item.md).\n *\n * Supported options are:\n *  - click\n *  - visible\n *  - type ('separator' and 'checkbox')\n *  - label\n *  - accelerator\n *  - enabled\n *  - checked (when `type` is 'checkbox')\n *  - submenu\n */\nexport default class MaterialUIMenuImplementation {\n  constructor({ onClose }) {\n    this._onClose = onClose;\n  }\n\n  buildFromTemplate(template) {\n    return template\n      .map((item, id) => {\n        if (item.visible === false) return null;\n\n        if (item.type === 'separator') {\n          return <Divider key={'separator' + id} />;\n        } else if (item.type === 'checkbox') {\n          return (\n            <MenuItem\n              key={item.label}\n              primaryText={item.label}\n              secondaryText={\n                item.accelerator\n                  ? adaptAcceleratorString(item.accelerator)\n                  : undefined\n              }\n              checked={item.checked}\n              insetChildren={!item.checked}\n              disabled={item.enabled === false}\n              onClick={() => {\n                if (item.click) {\n                  item.click();\n                  this._onClose();\n                }\n              }}\n              rightIcon={item.submenu ? <ArrowDropRight /> : undefined}\n              menuItems={\n                item.submenu ? this.buildFromTemplate(item.submenu) : undefined\n              }\n            />\n          );\n        } else {\n          return (\n            <MenuItem\n              key={item.label}\n              primaryText={item.label}\n              secondaryText={\n                item.accelerator\n                  ? adaptAcceleratorString(item.accelerator)\n                  : undefined\n              }\n              disabled={item.enabled === false}\n              onClick={() => {\n                if (item.click) {\n                  item.click();\n                  this._onClose();\n                }\n              }}\n              rightIcon={item.submenu ? <ArrowDropRight /> : undefined}\n              menuItems={\n                item.submenu ? this.buildFromTemplate(item.submenu) : undefined\n              }\n            />\n          );\n        }\n      })\n      .filter(Boolean);\n  }\n\n  showMenu() {\n    // Automatically done by IconMenu\n  }\n\n  getMenuProps() {\n    return {\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'left',\n      },\n    };\n  }\n}\n","// @flow\nimport { isMacLike, isMobile } from '../Utils/Platform';\n\nexport const adaptAcceleratorString = (accelerator: string): string => {\n  if (isMobile()) {\n    return ''; // Do not display accelerators on mobile devices\n  } else if (isMacLike()) {\n    return accelerator\n      .replace(/CmdOrCtrl\\+/, '⌘')\n      .replace(/CommandOrControl\\+/, '⌘')\n      .replace(/Super\\+/, '⌘')\n      .replace(/Shift\\+/, '⇧')\n      .replace(/Alt\\+/, '⌥')\n      .replace(/Option\\+/, '⌥')\n      .replace(/Delete/, '⌦')\n      .replace(/Backspace/, '⌫');\n  } else {\n    return accelerator\n      .replace(/CmdOrCtrl\\+/, 'Ctrl+')\n      .replace(/CommandOrControl\\+/, 'Ctrl+')\n      .replace(/Super\\+/, 'Win+')\n      .replace(/Option\\+/, 'Alt+')\n      .replace(/Delete/, 'DEL');\n  }\n};\n","import * as React from 'react';\nimport ThemeConsumer from './Theme/ThemeConsumer';\n// No i18n in this file\n\nconst styles = {\n  messageStyle: {\n    opacity: 0.4,\n    textAlign: 'center',\n    fontSize: '13px',\n  },\n};\n\ntype Props = {|\n  tooltipText?: string,\n  style?: Object,\n  children: React.Node,\n|};\n\nconst BackgroundText = (props: Props) => (\n  <ThemeConsumer>\n    {muiTheme => (\n      <span\n        style={{\n          ...styles.messageStyle,\n          textShadow: `1px 1px 0px ${muiTheme.emptyMessage.shadowColor}`,\n          ...props.style,\n        }}\n        title={props.tooltipText}\n      >\n        {props.children}\n      </span>\n    )}\n  </ThemeConsumer>\n);\n\nexport default BackgroundText;\n","// @flow\n// See ElectronEventsBridge, AboutDialog and electron-app/main.js for handling the updates.\n\nexport type UpdateStatus = {\n  message: string,\n  status:\n    | 'checking-for-update'\n    | 'update-available'\n    | 'update-not-available'\n    | 'error'\n    | 'download-progress'\n    | 'update-downloaded'\n    | 'unknown',\n};\n\nexport const getUpdateNotificationTitle = (updateStatus: UpdateStatus) => {\n  if (updateStatus.status === 'update-available')\n    return 'A new update is available!';\n\n  return '';\n};\n\nexport const getUpdateNotificationBody = (updateStatus: UpdateStatus) => {\n  if (updateStatus.status === 'update-available')\n    return 'It will be downloaded and installed automatically (unless you deactivated this in preferences)';\n\n  return '';\n};\n\nexport const getUpdateStatusLabel = (status: string) => {\n  if (status === 'checking-for-update') return 'Checking for update...';\n  if (status === 'update-available') return 'A new update is available!';\n  if (status === 'update-not-available')\n    return \"No update available. You're using the latest version!\";\n  if (status === 'error') return 'Error while checking update';\n  if (status === 'download-progress')\n    return 'A new update is being downloaded...';\n  if (status === 'update-downloaded')\n    return 'A new update will be installed after you quit and relaunch GDevelop';\n  return '';\n};\n\nexport const getUpdateButtonLabel = (status: string) => {\n  if (status === 'update-available') return 'Update GDevelop to latest version';\n  return 'Check again for new updates';\n};\n\nexport const canDownloadUpdate = (status: string) => {\n  return status === 'update-available';\n};\n","// @flow\nimport * as React from 'react';\nimport {\n  Table,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n} from 'material-ui/Table';\nimport flatten from 'lodash/flatten';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { mapFor } from '../Utils/MapFor';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport VariableRow from './VariableRow';\nimport EditVariableRow from './EditVariableRow';\nimport styles from './styles';\nimport {\n  getInitialSelection,\n  hasSelection,\n  addToSelection,\n  getSelection,\n} from '../Utils/SelectionHandler';\nimport { CLIPBOARD_KIND } from './ClipboardKind';\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport { type VariableOrigin } from './VariablesList.flow';\n\nconst gd = global.gd;\n\nconst SortableVariableRow = SortableElement(VariableRow);\nconst SortableAddVariableRow = SortableElement(EditVariableRow);\n\nclass VariablesListBody extends React.Component<*, *> {\n  render() {\n    return <div>{this.props.children}</div>;\n  }\n}\n\nconst SortableVariablesListBody = SortableContainer(VariablesListBody);\nSortableVariablesListBody.muiName = 'TableBody';\n\ntype VariableAndName = {| name: string, ptr: number, variable: gdVariable |};\n\ntype Props = {|\n  variablesContainer: gdVariablesContainer,\n  inheritedVariablesContainer?: ?gdVariablesContainer,\n  emptyExplanationMessage?: string,\n  emptyExplanationSecondMessage?: string,\n  onSizeUpdated?: () => void,\n|};\ntype State = {|\n  nameErrors: { [string]: string },\n  selectedVariables: { [number]: ?VariableAndName },\n  mode: 'select' | 'move',\n|};\n\nexport default class VariablesList extends React.Component<Props, State> {\n  state = {\n    nameErrors: {},\n    selectedVariables: getInitialSelection(),\n    mode: 'select',\n  };\n\n  _selectVariable = (variableAndName: VariableAndName, select: boolean) => {\n    this.setState({\n      selectedVariables: addToSelection(\n        this.state.selectedVariables,\n        variableAndName,\n        select\n      ),\n    });\n  };\n\n  copySelection = () => {\n    Clipboard.set(\n      CLIPBOARD_KIND,\n      getSelection(this.state.selectedVariables).map(({ name, variable }) => ({\n        name,\n        serializedVariable: serializeToJSObject(variable),\n      }))\n    );\n  };\n\n  paste = () => {\n    const { variablesContainer, inheritedVariablesContainer } = this.props;\n    if (!Clipboard.has(CLIPBOARD_KIND)) return;\n\n    const variables = Clipboard.get(CLIPBOARD_KIND);\n    variables.forEach(({ name, serializedVariable }) => {\n      const newName = newNameGenerator(\n        name,\n        name =>\n          inheritedVariablesContainer\n            ? inheritedVariablesContainer.has(name) ||\n              variablesContainer.has(name)\n            : variablesContainer.has(name),\n        'CopyOf'\n      );\n      const newVariable = new gd.Variable();\n      unserializeFromJSObject(newVariable, serializedVariable);\n      variablesContainer.insert(\n        newName,\n        newVariable,\n        variablesContainer.count()\n      );\n      newVariable.delete();\n    });\n    this.forceUpdate();\n  };\n\n  deleteSelection = () => {\n    const { variablesContainer } = this.props;\n    const selection: Array<VariableAndName> = getSelection(\n      this.state.selectedVariables\n    );\n\n    // Only delete ancestor variables, as selection can be composed of variables\n    // that are contained inside others.\n    const ancestorOnlyVariables = selection.filter(variableAndName => {\n      // Make sure that the variable has no ancestor containing it\n      return !selection.find(\n        otherVariableAndName =>\n          variableAndName !== otherVariableAndName &&\n          otherVariableAndName.variable.contains(\n            variableAndName.variable,\n            /*recursive=*/ true\n          )\n      );\n    });\n\n    // We don't want to ever manipulate/access to variables that have been deleted (by removeRecursively):\n    // that's why it's important to only delete ancestor variables.\n    ancestorOnlyVariables.forEach(({ variable }: VariableAndName) =>\n      variablesContainer.removeRecursively(variable)\n    );\n    this.clearSelection();\n  };\n\n  clearSelection = () => {\n    this.setState({\n      selectedVariables: getInitialSelection(),\n    });\n  };\n\n  _updateOrDefineVariable = (\n    name: string,\n    variable: gdVariable,\n    newValue: string,\n    index: number,\n    origin: ?VariableOrigin\n  ) => {\n    const { variablesContainer, inheritedVariablesContainer } = this.props;\n\n    if (inheritedVariablesContainer && origin === 'parent') {\n      const serializedVariable = serializeToJSObject(\n        inheritedVariablesContainer.get(name)\n      );\n      const newVariable = new gd.Variable();\n      unserializeFromJSObject(newVariable, serializedVariable);\n      variablesContainer.insert(name, newVariable, index);\n      newVariable.delete();\n\n      variablesContainer.get(name).setString(newValue);\n    } else {\n      variable.setString(newValue);\n    }\n  };\n\n  _renderVariableChildren(\n    name: string,\n    parentVariable: gdVariable,\n    depth: number,\n    origin: VariableOrigin\n  ): Array<React.Node> {\n    const names = parentVariable.getAllChildrenNames().toJSArray();\n\n    return flatten(\n      names.map((name, index) => {\n        const variable = parentVariable.getChild(name);\n        return this._renderVariableAndChildrenRows(\n          name,\n          variable,\n          depth + 1,\n          index,\n          parentVariable,\n          origin\n        );\n      })\n    );\n  }\n\n  _getVariableOrigin = (name: string) => {\n    const { variablesContainer, inheritedVariablesContainer } = this.props;\n\n    if (!inheritedVariablesContainer || !inheritedVariablesContainer.has(name))\n      return '';\n    return variablesContainer.has(name) ? 'inherited' : 'parent';\n  };\n\n  _renderVariableAndChildrenRows(\n    name: string,\n    variable: gdVariable,\n    depth: number,\n    index: number,\n    parentVariable: ?gdVariable,\n    parentOrigin: ?VariableOrigin = null\n  ) {\n    const { variablesContainer } = this.props;\n    const isStructure = variable.isStructure();\n\n    const origin = parentOrigin ? parentOrigin : this._getVariableOrigin(name);\n\n    return (\n      <SortableVariableRow\n        name={name}\n        index={index}\n        key={'variable-' + name}\n        variable={variable}\n        disabled={depth !== 0}\n        depth={depth}\n        origin={origin}\n        errorText={\n          this.state.nameErrors[variable.ptr]\n            ? 'This name is already taken'\n            : undefined\n        }\n        onChangeValue={text => {\n          this._updateOrDefineVariable(name, variable, text, index, origin);\n\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        onResetToDefaultValue={() => {\n          variablesContainer.removeRecursively(variable);\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        onBlur={event => {\n          const text = event.target.value;\n          if (name === text) return;\n\n          let success = true;\n          if (!parentVariable) {\n            success = variablesContainer.rename(name, text);\n          } else {\n            success = parentVariable.renameChild(name, text);\n          }\n\n          this.setState({\n            nameErrors: {\n              ...this.state.nameErrors,\n              [variable.ptr]: !success,\n            },\n          });\n        }}\n        onRemove={() => {\n          if (!parentVariable) {\n            variablesContainer.remove(name);\n          } else {\n            parentVariable.removeChild(name);\n          }\n\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        onAddChild={() => {\n          const name = newNameGenerator('ChildVariable', name =>\n            variable.hasChild(name)\n          );\n          variable.getChild(name).setString('');\n\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        children={\n          isStructure\n            ? this._renderVariableChildren(name, variable, depth, origin)\n            : null\n        }\n        showHandle={this.state.mode === 'move'}\n        showSelectionCheckbox={this.state.mode === 'select'}\n        isSelected={!!this.state.selectedVariables[variable.ptr]}\n        onSelect={select =>\n          this._selectVariable({ name, ptr: variable.ptr, variable }, select)\n        }\n      />\n    );\n  }\n\n  _renderEmpty() {\n    return (\n      !!this.props.emptyExplanationMessage && (\n        <div>\n          <EmptyMessage\n            style={styles.emptyExplanation}\n            messageStyle={styles.emptyExplanationMessage}\n          >\n            {this.props.emptyExplanationMessage}\n          </EmptyMessage>\n          <EmptyMessage\n            style={styles.emptyExplanation}\n            messageStyle={styles.emptyExplanationMessage}\n          >\n            {this.props.emptyExplanationSecondMessage}\n          </EmptyMessage>\n        </div>\n      )\n    );\n  }\n\n  render() {\n    const { variablesContainer, inheritedVariablesContainer } = this.props;\n    if (!variablesContainer) return null;\n\n    // Display inherited variables, if any\n    const containerInheritedVariablesTree = inheritedVariablesContainer\n      ? mapFor(0, inheritedVariablesContainer.count(), index => {\n          const name = inheritedVariablesContainer.getNameAt(index);\n          if (!variablesContainer.has(name)) {\n            // Show only variables from parent container that are not redefined\n            const variable = inheritedVariablesContainer.getAt(index);\n            return this._renderVariableAndChildrenRows(\n              name,\n              variable,\n              0,\n              index,\n              undefined,\n              'parent'\n            );\n          }\n        })\n      : [];\n\n    const containerVariablesTree = mapFor(\n      0,\n      variablesContainer.count(),\n      index => {\n        const variable = variablesContainer.getAt(index);\n        const name = variablesContainer.getNameAt(index);\n\n        return this._renderVariableAndChildrenRows(\n          name,\n          variable,\n          0,\n          index,\n          undefined\n        );\n      }\n    );\n\n    const editRow = (\n      <SortableAddVariableRow\n        index={0}\n        key={'add-variable-row'}\n        disabled\n        onAdd={() => {\n          const variable = new gd.Variable();\n          variable.setString('');\n          const name = newNameGenerator('Variable', name =>\n            inheritedVariablesContainer\n              ? inheritedVariablesContainer.has(name) ||\n                variablesContainer.has(name)\n              : variablesContainer.has(name)\n          );\n          variablesContainer.insert(name, variable, variablesContainer.count());\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        onCopy={this.copySelection}\n        onPaste={this.paste}\n        onDeleteSelection={this.deleteSelection}\n        hasSelection={hasSelection(this.state.selectedVariables)}\n        hasClipboard={Clipboard.has(CLIPBOARD_KIND)}\n      />\n    );\n\n    return (\n      <div>\n        <Table selectable={false}>\n          <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n            <TableRow>\n              <TableHeaderColumn>Name</TableHeaderColumn>\n              <TableHeaderColumn>Value</TableHeaderColumn>\n              <TableHeaderColumn style={styles.toolColumnHeader} />\n            </TableRow>\n          </TableHeader>\n        </Table>\n        <SortableVariablesListBody\n          variablesContainer={this.props.variablesContainer}\n          onSortEnd={({ oldIndex, newIndex }) => {\n            this.props.variablesContainer.move(oldIndex, newIndex);\n            this.forceUpdate();\n          }}\n          helperClass=\"sortable-helper\"\n          useDragHandle\n          lockToContainerEdges\n        >\n          {!!containerInheritedVariablesTree.length &&\n            containerInheritedVariablesTree}\n          {!containerVariablesTree.length && this._renderEmpty()}\n          {!!containerVariablesTree.length && containerVariablesTree}\n          {editRow}\n        </SortableVariablesListBody>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nconst styles = {\n  row: {\n    display: 'flex',\n  },\n  cell: {\n    display: 'flex',\n    flex: 1,\n    alignItems: 'center',\n    paddingLeft: 8,\n    paddingRight: 8,\n  },\n};\n\nexport const TreeTable = props => <div>{props.children}</div>;\n\nexport const TreeTableRow = props => (\n  <div style={{ ...styles.row, ...props.style }}>{props.children}</div>\n);\n\nexport const TreeTableCell = props => (\n  <div style={{ ...styles.cell, ...props.style }}>{props.children}</div>\n);\n","// @flow\nimport { mapFor } from '../Utils/MapFor';\n\nexport const enumerateLayouts = (project: gdProject): Array<gdLayout> =>\n  mapFor(0, project.getLayoutsCount(), i => project.getLayoutAt(i));\n\nexport const enumerateExternalEvents = (\n  project: gdProject\n): Array<gdExternalEvents> =>\n  mapFor(0, project.getExternalEventsCount(), i =>\n    project.getExternalEventsAt(i)\n  );\n\nexport const enumerateExternalLayouts = (\n  project: gdProject\n): Array<gdExternalLayout> =>\n  mapFor(0, project.getExternalLayoutsCount(), i =>\n    project.getExternalLayoutAt(i)\n  );\n\nexport const enumerateEventsFunctionsExtensions = (\n  project: gdProject\n): Array<gdEventsFunction> =>\n  mapFor(0, project.getEventsFunctionsExtensionsCount(), i =>\n    project.getEventsFunctionsExtensionAt(i)\n  );\n\nexport const filterProjectItemsList = <T>(\n  list: Array<T>,\n  searchText: string\n): Array<T> => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter(\n    (item: any) =>\n      item\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n  );\n};\n","// @flow\nimport AutoComplete from 'material-ui/AutoComplete';\n\n/**\n * A filter that can be used with Material-UI Autocomplete to have a fuzzy\n * filter that still return the items with an empty key.\n * @param {*} searchText\n * @param {*} key\n */\nexport const fuzzyOrEmptyFilter = (searchText: string, key: string) => {\n  return !key || AutoComplete.fuzzyFilter(searchText, key);\n};\n","import React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst SPRITE_SIZE = 100;\nexport const thumbnailContainerStyle = {\n  position: 'relative',\n  display: 'inline-block',\n  width: SPRITE_SIZE,\n  height: SPRITE_SIZE,\n  justifyContent: 'center',\n  alignItems: 'center',\n  lineHeight: SPRITE_SIZE + 'px',\n  textAlign: 'center',\n  border: '#AAAAAA 1px solid',\n  borderColor: '#AAAAAA',\n};\n\nconst styles = {\n  spriteThumbnail: {\n    ...thumbnailContainerStyle,\n    background: 'url(\"res/transparentback.png\") repeat',\n  },\n  spriteThumbnailImage: {\n    maxWidth: SPRITE_SIZE,\n    maxHeight: SPRITE_SIZE,\n    verticalAlign: 'middle',\n    pointerEvents: 'none',\n  },\n  checkboxContainer: {\n    textAlign: 'initial',\n    position: 'absolute',\n    width: 24, // Used to position the checkbox near the right border with a proper margin\n    bottom: 0,\n    right: 0,\n  },\n};\n\nconst ThemableImageThumbnail = ({\n  project,\n  resourceName,\n  resourcesLoader,\n  style,\n  selectable,\n  selected,\n  onSelect,\n  onContextMenu,\n  muiTheme,\n}) => {\n  return (\n    <div\n      style={{\n        ...styles.spriteThumbnail,\n        borderColor: selected\n          ? muiTheme.imageThumbnail.selectedBorderColor\n          : undefined,\n        ...style,\n      }}\n      onContextMenu={e => {\n        e.stopPropagation();\n        if (onContextMenu) onContextMenu(e.clientX, e.clientY);\n      }}\n    >\n      <img\n        style={styles.spriteThumbnailImage}\n        alt={resourceName}\n        src={resourcesLoader.getResourceFullUrl(project, resourceName)}\n        crossOrigin=\"anonymous\"\n      />\n      {selectable && (\n        <div style={styles.checkboxContainer}>\n          <Checkbox\n            checked={selected}\n            onCheck={(e, check) => onSelect(check)}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst ImageThumbnail = muiThemeable()(ThemableImageThumbnail);\nexport default ImageThumbnail;\n","import React from 'react';\nimport AppBar from 'material-ui/AppBar';\n\nexport default props => {\n  return (\n    <AppBar\n      style={{\n        paddingLeft: 8,\n        paddingRight: 8,\n        flexShrink: 0,\n      }}\n      titleStyle={{\n        height: 32,\n        fontSize: '15px',\n        lineHeight: '31px',\n      }}\n      iconStyleLeft={{\n        marginTop: -8,\n        marginBottom: -16,\n        marginRight: 4,\n        marginLeft: -16,\n      }}\n      iconStyleRight={{\n        marginTop: -8,\n        marginBottom: -16,\n      }}\n      {...props}\n    />\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport EventsSheet from '../../EventsSheet';\nimport { serializeToJSObject } from '../../Utils/Serializer';\nimport BaseEditor from './BaseEditor';\n\nexport default class EventsEditor extends BaseEditor {\n  editor: ?EventsSheet;\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  getSerializedElements() {\n    const layout = this.getLayout();\n    if (!layout) return {};\n\n    return {\n      ...BaseEditor.getLayoutSerializedElements(layout),\n      events: serializeToJSObject(layout.getEvents()),\n    };\n  }\n\n  getLayout(): ?gdLayout {\n    const { project, layoutName } = this.props;\n    if (!project || !project.hasLayoutNamed(layoutName)) return null;\n\n    return project.getLayout(layoutName);\n  }\n\n  render() {\n    const { project, layoutName } = this.props;\n    const layout = this.getLayout();\n    if (!layout) {\n      //TODO: Error component\n      return <div>No layout called {layoutName} found!</div>;\n    }\n\n    return (\n      <EventsSheet\n        {...this.props}\n        ref={editor => (this.editor = editor)}\n        project={project}\n        layout={layout}\n        globalObjectsContainer={project}\n        objectsContainer={layout}\n        events={layout.getEvents()}\n        onPreview={options => this.props.onPreview(project, layout, options)}\n        onOpenExternalEvents={this.props.onOpenExternalEvents}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        openInstructionOrExpression={this.props.openInstructionOrExpression}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { dropIndicator, cantDropIndicator } from './ClassNames';\n\nexport default function DropIndicator({ canDrop }: {| canDrop: boolean |}) {\n  return <div className={canDrop ? dropIndicator : cantDropIndicator} />;\n}\n","// @flow\nimport * as React from 'react';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\nexport default class DefaultField extends React.Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?any = null;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <SemiControlledTextField\n        commitOnBlur\n        value={this.props.value}\n        floatingLabelText={description}\n        onChange={(text: string) => this.props.onChange(text)}\n        ref={field => (this._field = field)}\n        fullWidth\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport Divider from 'material-ui/Divider';\nimport { enumerateObjectsAndGroups } from './EnumerateObjects';\nimport { defaultAutocompleteProps } from '../UI/AutocompleteProps';\n\ntype Props = {|\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  allowedObjectType?: ?string,\n  noGroups?: boolean,\n  onChoose: string => void,\n  onChange: string => void,\n  value: string,\n  onBlur?: (event: any) => void,\n\n  fullWidth?: boolean,\n  floatingLabelText?: ?string,\n  errorText?: ?string,\n  openOnFocus?: boolean,\n  hintText?: ?React.Node,\n  autoCompleteStyle?: Object,\n|};\n\ntype State = {|\n  focused: boolean,\n  text: ?string,\n|};\n\nexport default class ObjectSelector extends React.Component<Props, State> {\n  state = {\n    focused: false,\n    text: null,\n  };\n\n  _field: ?AutoComplete;\n  fullList: Array<{ text: string, value: React.Node }>;\n\n  constructor(props: Props) {\n    super(props);\n\n    const { globalObjectsContainer, objectsContainer } = this.props;\n    const list = enumerateObjectsAndGroups(\n      globalObjectsContainer,\n      objectsContainer,\n      this.props.allowedObjectType || undefined\n    );\n    const objects = list.allObjectsList.map(({ object }) => {\n      return {\n        text: object.getName(),\n        value: object.getName(),\n      };\n    });\n    const groups = props.noGroups\n      ? []\n      : list.allGroupsList.map(({ group }) => {\n          return {\n            text: group.getName(),\n            value: group.getName(),\n          };\n        });\n\n    this.fullList = [...objects, { text: '', value: <Divider /> }, ...groups];\n  }\n\n  componentWillUnmount() {\n    if (this.state.focused) {\n      this.props.onChange(this.state.text || '');\n    }\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  hasAValidObject = () => {\n    return (\n      this.fullList.filter(choice => this.props.value === choice.text)\n        .length !== 0\n    );\n  };\n\n  render() {\n    const {\n      value,\n      onChange,\n      onChoose,\n      globalObjectsContainer,\n      objectsContainer,\n      allowedObjectType,\n      noGroups,\n      onBlur,\n      ...rest\n    } = this.props;\n\n    return (\n      <AutoComplete\n        {...defaultAutocompleteProps}\n        hintText={<Trans>Choose an object</Trans>}\n        searchText={this.state.focused ? this.state.text : value}\n        onFocus={() => {\n          this.setState({\n            focused: true,\n            text: value,\n          });\n        }}\n        onUpdateInput={value => {\n          this.setState({\n            text: value,\n          });\n        }}\n        onBlur={event => {\n          onChange(event.target.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n\n          if (onBlur) onBlur(event);\n        }}\n        onNewRequest={data => {\n          // Note that data may be a string or a {text, value} object.\n          if (typeof data === 'string') {\n            onChoose(data);\n          } else if (typeof data.value === 'string') {\n            onChoose(data.value);\n          }\n          this.focus(); // Keep the focus after choosing an item\n        }}\n        dataSource={this.fullList}\n        ref={field => (this._field = field)}\n        {...rest}\n      />\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport { List, ListItem, makeSelectable } from 'material-ui/List';\nimport ListIcon from '../../../UI/ListIcon';\nimport SearchBar from 'material-ui-search-bar';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport { type InstructionOrExpressionInformation } from './InstructionOrExpressionInformation.flow.js';\nimport { type InstructionOrExpressionTreeNode } from './CreateTree';\n\nconst SelectableList = makeSelectable(List);\n\nconst styles = {\n  searchBar: {\n    margin: '0 auto',\n    backgroundColor: 'transparent',\n  },\n  groupListItemNestedList: {\n    padding: 0,\n  },\n};\n\ntype Props = {|\n  muiTheme: any,\n  focusOnMount?: boolean,\n  instructionsInfo: Array<InstructionOrExpressionInformation>,\n  instructionsInfoTree: InstructionOrExpressionTreeNode,\n  selectedType: string,\n  onChoose: (type: string, InstructionOrExpressionInformation) => void,\n  iconSize: number,\n  style?: Object,\n|};\ntype State = {|\n  search: string,\n  searchResults: Array<InstructionOrExpressionInformation>,\n|};\n\nclass ThemableInstructionOrExpressionSelector extends Component<Props, State> {\n  state = {\n    search: '',\n    searchResults: [],\n  };\n  _searchBar: ?SearchBar;\n\n  componentDidMount() {\n    if (this.props.focusOnMount && this._searchBar) {\n      this._searchBar.focus();\n    }\n  }\n\n  focus = () => {\n    if (this._searchBar) this._searchBar.focus();\n  };\n\n  _matchCritera(\n    instructionInfo: InstructionOrExpressionInformation,\n    lowercaseSearch: string\n  ) {\n    const { displayedName, fullGroupName } = instructionInfo;\n    return (\n      displayedName.toLowerCase().indexOf(lowercaseSearch) !== -1 ||\n      fullGroupName.toLowerCase().indexOf(lowercaseSearch) !== -1\n    );\n  }\n\n  _computeSearchResults = (search: string) => {\n    const lowercaseSearch = this.state.search.toLowerCase();\n    return this.props.instructionsInfo.filter(instructionInfo =>\n      this._matchCritera(instructionInfo, lowercaseSearch)\n    );\n  };\n\n  _onSubmitSearch = () => {\n    const { searchResults } = this.state;\n    if (!searchResults.length) return;\n\n    this.props.onChoose(searchResults[0].type, searchResults[0]);\n  };\n\n  _renderTree(instructionInfoTree: InstructionOrExpressionTreeNode) {\n    const { muiTheme } = this.props;\n\n    return Object.keys(instructionInfoTree).map(key => {\n      // $FlowFixMe - in theory, we should have a way to distinguish\n      // between instruction (leaf nodes) and group (nodes). We use\n      // the \"type\" properties, but this will fail if a group is called \"type\"\n      // (hence the flow errors, which are valid warnings)\n      const instructionOrGroup = instructionInfoTree[key];\n      if (!instructionOrGroup) return null;\n\n      if (typeof instructionOrGroup.type === 'string') {\n        // $FlowFixMe - see above\n        const instructionInformation: InstructionOrExpressionInformation = instructionOrGroup;\n        return (\n          <ListItem\n            key={key}\n            primaryText={key}\n            value={instructionOrGroup.type}\n            leftIcon={\n              <ListIcon\n                iconSize={this.props.iconSize}\n                src={instructionInformation.iconFilename}\n              />\n            }\n            onClick={() => {\n              this.props.onChoose(\n                instructionInformation.type,\n                instructionInformation\n              );\n            }}\n          />\n        );\n      } else {\n        // $FlowFixMe - see above\n        const groupOfInstructionInformation = (instructionOrGroup: InstructionOrExpressionTreeNode);\n        const isDeprecated = key.indexOf('(deprecated)') !== -1;\n        return (\n          <ListItem\n            key={key}\n            style={{\n              borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n            }}\n            nestedListStyle={styles.groupListItemNestedList}\n            primaryText={\n              <div\n                style={{\n                  color: isDeprecated\n                    ? muiTheme.listItem.deprecatedGroupTextColor\n                    : muiTheme.listItem.groupTextColor,\n                }}\n              >\n                {key}\n              </div>\n            }\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={true}\n            nestedItems={this._renderTree(groupOfInstructionInformation)}\n          />\n        );\n      }\n    });\n  }\n\n  _renderSearchResults = () => {\n    return this.state.searchResults.map(instructionInfo => {\n      return (\n        <ListItem\n          key={instructionInfo.type}\n          primaryText={instructionInfo.displayedName}\n          secondaryText={instructionInfo.fullGroupName}\n          value={instructionInfo.type}\n          onClick={() => {\n            this.props.onChoose(instructionInfo.type, instructionInfo);\n          }}\n        />\n      );\n    });\n  };\n\n  render() {\n    const { muiTheme, selectedType, instructionsInfoTree, style } = this.props;\n\n    return (\n      <div\n        style={{\n          backgroundColor: muiTheme.list.itemsBackgroundColor,\n          ...style,\n        }}\n      >\n        <SearchBar\n          onChange={text =>\n            this.setState({\n              search: text,\n              searchResults: this._computeSearchResults(text),\n            })\n          }\n          onRequestSearch={this._onSubmitSearch}\n          style={styles.searchBar}\n          ref={searchBar => (this._searchBar = searchBar)}\n        />\n        <SelectableList value={selectedType}>\n          {this.state.search\n            ? this._renderSearchResults()\n            : this._renderTree(instructionsInfoTree)}\n        </SelectableList>\n      </div>\n    );\n  }\n}\n\nconst InstructionOrExpressionSelector = muiThemeable()(\n  ThemableInstructionOrExpressionSelector\n);\nexport default InstructionOrExpressionSelector;\n","// @flow\nimport update from 'lodash/update';\nimport compact from 'lodash/compact';\nimport { type InstructionOrExpressionInformation } from './InstructionOrExpressionInformation.flow.js';\n\nconst GROUP_DELIMITER = '/';\n\nexport type InstructionOrExpressionTreeNode =\n  | InstructionOrExpressionInformation\n  | {\n      [string]: InstructionOrExpressionTreeNode,\n    };\n\nexport const createTree = (\n  allExpressions: Array<InstructionOrExpressionInformation>\n): InstructionOrExpressionTreeNode => {\n  const tree = {};\n  allExpressions.forEach(\n    (expressionInfo: InstructionOrExpressionInformation) => {\n      update(\n        tree,\n        compact(expressionInfo.fullGroupName.split(GROUP_DELIMITER)),\n        groupInfo => {\n          const existingGroupInfo = groupInfo || {};\n          return {\n            ...existingGroupInfo,\n            [expressionInfo.displayedName]: expressionInfo,\n          };\n        }\n      );\n    }\n  );\n\n  return tree;\n};\n","// @flow\n\nexport const shortenString = (str: string, maxLength: number) => {\n  return str.length > maxLength ? str.substring(0, maxLength) + '...' : str;\n};\n\nexport const makeNonBreakable = (str: string) => {\n  return str.replace(/\\s/g, '\\xa0'); // Non-breakable space is char 0xa0 (160 dec)\n};\n","// @flow\nimport { t } from '@lingui/macro';\n\nexport const getDeprecatedBehaviorsInformation = (): {\n  [string]: {| warning: string |},\n} => ({\n  'PhysicsBehavior::PhysicsBehavior': {\n    warning: t`A new physics engine (Physics Engine 2.0) is now available. You should prefer using it for new game. For existing games, note that the two behaviors are not compatible, so you should only use one of them with your objects.`,\n  },\n});\n\nexport const getExtraInstructionInformation = (\n  type: string\n): ?{| warning: string |} => {\n  if (type.indexOf('PhysicsBehavior::') === 0) {\n    return {\n      warning: t`This action is deprecated and should not be used anymore. Instead,\n  use for all your objects the behavior called \"Physics2\" and the\n  associated actions (in this case, all objects must be set up to use\n  Physics2, you can't mix the behaviors).`,\n    };\n  }\n  if (type === 'TextObject::Size') {\n    return {\n      warning: t`This action will create a new texture and re-render the text each time it is called, which is expensive and can reduce performances. Prefer to avoid changing a lot the character size of a text.`,\n    };\n  }\n\n  return null;\n};\n","// @flow\nimport { mapVector, mapFor } from '../Utils/MapFor';\nimport slugs from 'slugs';\n\nconst gd = global.gd;\n\nexport type EventsFunctionWriter = {|\n  getIncludeFileFor: (functionName: string) => string,\n  writeFunctionCode: (functionName: string, code: string) => Promise<void>,\n|};\n\nconst mangleName = (name: string) => {\n  return slugs(name, '_', []);\n};\n\n/**\n * Load all events functions of a project in extensions\n */\nexport const loadProjectEventsFunctionsExtensions = (\n  project: gdProject,\n  eventsFunctionWriter: EventsFunctionWriter\n): Promise<Array<void>> => {\n  return Promise.all(\n    // First pass: generate extensions from the events functions extensions,\n    // without writing code for the functions. This is useful as events in functions\n    // could be using other functions, which would not yet be available as\n    // extensions.\n    mapFor(0, project.getEventsFunctionsExtensionsCount(), i => {\n      return loadProjectEventsFunctionsExtension(\n        project,\n        project.getEventsFunctionsExtensionAt(i),\n        eventsFunctionWriter,\n        { skipCodeGeneration: true }\n      );\n    })\n  ).then(() =>\n    Promise.all(\n      // Second pass: generate extensions, including code.\n      mapFor(0, project.getEventsFunctionsExtensionsCount(), i => {\n        return loadProjectEventsFunctionsExtension(\n          project,\n          project.getEventsFunctionsExtensionAt(i),\n          eventsFunctionWriter\n        );\n      })\n    )\n  );\n};\n\nconst loadProjectEventsFunctionsExtension = (\n  project: gdProject,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  eventsFunctionWriter: EventsFunctionWriter,\n  options: { skipCodeGeneration?: boolean } = {}\n): Promise<void> => {\n  return generateEventsFunctionExtension(\n    project,\n    eventsFunctionsExtension,\n    eventsFunctionWriter,\n    options\n  ).then(extension => {\n    gd.JsPlatform.get().addNewExtension(extension);\n    extension.delete();\n  });\n};\n\n/**\n * Generate the code for the given events functions\n */\nconst generateEventsFunctionExtension = (\n  project: gdProject,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  eventsFunctionWriter: EventsFunctionWriter,\n  { skipCodeGeneration }: { skipCodeGeneration?: boolean } = {}\n): Promise<gdEventsFunctionsExtension> => {\n  const extension = new gd.PlatformExtension();\n\n  extension.setExtensionInformation(\n    eventsFunctionsExtension.getName(),\n    eventsFunctionsExtension.getFullName() ||\n      eventsFunctionsExtension.getName(),\n    eventsFunctionsExtension.getDescription(),\n    '',\n    ''\n  );\n\n  return Promise.all(\n    mapFor(0, eventsFunctionsExtension.getEventsFunctionsCount(), i => {\n      const eventsFunction = eventsFunctionsExtension.getEventsFunctionAt(i);\n      const instructionOrExpression = generateInstructionOrExpression(\n        extension,\n        eventsFunction,\n        eventsFunctionsExtension\n      );\n      addEventsFunctionParameters(eventsFunction, instructionOrExpression);\n\n      const codeNamespace =\n        'gdjs.eventsFunction__' +\n        mangleName(eventsFunctionsExtension.getName()) +\n        '__' +\n        mangleName(eventsFunction.getName());\n      const functionName = codeNamespace + '.func';\n\n      const codeExtraInformation = instructionOrExpression.getCodeExtraInformation();\n      codeExtraInformation\n        .setIncludeFile(eventsFunctionWriter.getIncludeFileFor(functionName))\n        .setFunctionName(functionName);\n\n      if (!skipCodeGeneration) {\n        const includeFiles = new gd.SetString();\n        const code = gd.EventsCodeGenerator.generateEventsFunctionCode(\n          project,\n          eventsFunction,\n          codeNamespace,\n          includeFiles,\n          // For now, always generate functions for runtime (this disables\n          // generation of profiling for groups (see EventsCodeGenerator))\n          // as extensions generated can be used either for preview or export.\n          true\n        );\n\n        // Add any include file required by the function to the list\n        // of include files for this function (so that when used, the \"dependencies\"\n        // are transitively included).\n        includeFiles\n          .toNewVectorString()\n          .toJSArray()\n          .forEach((includeFile: string) => {\n            codeExtraInformation.addIncludeFile(includeFile);\n          });\n\n        includeFiles.delete();\n\n        return eventsFunctionWriter.writeFunctionCode(functionName, code);\n      } else {\n        // Skip code generation if no events function writer is provided.\n        // This is the case during the \"first pass\", where all events functions extensions\n        // are loaded as extensions but not code generated, as events in functions could\n        // themselves be using functions that are not yet available in extensions.\n      }\n    })\n  ).then(() => extension);\n};\n\n/**\n * Unload all extensions providing events functions of a project\n */\nexport const unloadProjectEventsFunctionsExtensions = (\n  project: gdProject\n): Promise<Array<void>> => {\n  return Promise.all(\n    mapFor(0, project.getEventsFunctionsExtensionsCount(), i => {\n      gd.JsPlatform.get().removeExtension(\n        project.getEventsFunctionsExtensionAt(i).getName()\n      );\n    })\n  );\n};\n\n/**\n * Declare the instruction (action/condition) or expression for the given\n * events function.\n */\nconst generateInstructionOrExpression = (\n  extension: gdPlatformExtension,\n  eventsFunction: gdEventsFunction,\n  eventsFunctionsExtension: gdEventsFunctionsExtension\n): gdInstructionMetadata | gdExpressionMetadata => {\n  const functionType = eventsFunction.getFunctionType();\n  if (functionType === gd.EventsFunction.Expression) {\n    return extension.addExpression(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription(),\n      eventsFunctionsExtension.getFullName() ||\n        eventsFunctionsExtension.getName(),\n      'res/function.png'\n    );\n  } else if (functionType === gd.EventsFunction.StringExpression) {\n    return extension.addStrExpression(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription(),\n      eventsFunctionsExtension.getFullName() ||\n        eventsFunctionsExtension.getName(),\n      'res/function.png'\n    );\n  } else if (functionType === gd.EventsFunction.Condition) {\n    return extension.addCondition(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription(),\n      eventsFunction.getSentence(),\n      eventsFunctionsExtension.getFullName() ||\n        eventsFunctionsExtension.getName(),\n      'res/function.png',\n      'res/function24.png'\n    );\n  } else {\n    return extension.addAction(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription(),\n      eventsFunction.getSentence(),\n      eventsFunctionsExtension.getFullName() ||\n        eventsFunctionsExtension.getName(),\n      'res/function.png',\n      'res/function24.png'\n    );\n  }\n};\n\n/**\n * Add to the instruction (action/condition) or expression the parameters\n * expected by the events function.\n */\nconst addEventsFunctionParameters = (\n  eventsFunction: gdEventsFunction,\n  instructionOrExpression: gdInstructionMetadata | gdExpressionMetadata\n) => {\n  // By convention, first parameter is always the Runtime Scene.\n  instructionOrExpression.addCodeOnlyParameter('currentScene', '');\n\n  mapVector(\n    eventsFunction.getParameters(),\n    (parameter: gdParameterMetadata) => {\n      if (!parameter.isCodeOnly()) {\n        instructionOrExpression.addParameter(\n          parameter.getType(),\n          parameter.getDescription(),\n          '', // See below for adding the extra information\n          parameter.isOptional()\n        );\n      } else {\n        instructionOrExpression.addCodeOnlyParameter(\n          parameter.getType(),\n          '' // See below for adding the extra information\n        );\n      }\n      // Manually add the \"extra info\" without relying on addParameter (or addCodeOnlyParameter)\n      // as these methods are prefixing the value passed with the extension namespace (this\n      // was done to ease extension declarations when dealing with object).\n      instructionOrExpression\n        .getParameter(instructionOrExpression.getParametersCount() - 1)\n        .setExtraInfo(parameter.getExtraInfo());\n    }\n  );\n\n  // By convention, latest parameter is always the eventsFunctionContext of the calling function\n  // (if any).\n  instructionOrExpression.addCodeOnlyParameter('eventsFunctionContext', '');\n};\n\n/**\n * Given metadata about an instruction or an expression, tells if this was created\n * from an event function.\n */\nexport const isAnEventFunctionMetadata = (\n  instructionOrExpression: gdInstructionMetadata | gdExpressionMetadata\n) => {\n  const parametersCount = instructionOrExpression.getParametersCount();\n  if (parametersCount <= 0) return false;\n\n  return (\n    instructionOrExpression.getParameter(parametersCount - 1).getType() ===\n    'eventsFunctionContext'\n  );\n};\n\n/**\n * Get back the name a function from its type\n */\nexport const getFunctionNameFromType = (type: string) => {\n  const parts = type.split('::');\n  if (!parts.length) return '';\n\n  return parts[parts.length - 1];\n};\n","import { isMacLike } from '../../Utils/Platform';\n\nconst CTRL_KEY = 17;\nconst SHIFT_KEY = 16;\nconst LEFT_KEY = 37;\nconst UP_KEY = 38;\nconst RIGHT_KEY = 39;\nconst DOWN_KEY = 40;\nconst BACKSPACE_KEY = 8;\nconst SPACE_KEY = 32;\nconst DELETE_KEY = 46;\nconst EQUAL_KEY = 187;\nconst MINUS_KEY = 189;\nconst NUMPAD_ADD = 107;\nconst NUMPAD_SUBSTRACT = 109;\nconst C_KEY = 67;\nconst F_KEY = 70;\nconst V_KEY = 86;\nconst X_KEY = 88;\nconst Y_KEY = 89;\nconst Z_KEY = 90;\nconst MID_MOUSE_BUTTON = 1;\n\nexport default class KeyboardShortcuts {\n  constructor({\n    onDelete,\n    onMove,\n    onCopy,\n    onCut,\n    onPaste,\n    onUndo,\n    onRedo,\n    onSearch,\n    onZoomOut,\n    onZoomIn,\n  }) {\n    this.onDelete = onDelete || this._noop;\n    this.onMove = onMove || this._noop;\n    this.onCopy = onCopy || this._noop;\n    this.onCut = onCut || this._noop;\n    this.onPaste = onPaste || this._noop;\n    this.onUndo = onUndo || this._noop;\n    this.onRedo = onRedo || this._noop;\n    this.onZoomOut = onZoomOut || this._noop;\n    this.onZoomIn = onZoomIn || this._noop;\n    this.onSearch = onSearch || this._noop;\n    this.isFocused = false;\n    this.shiftPressed = false;\n    this.rawCtrlPressed = false;\n    this.metaPressed = false;\n    this.spacePressed = false;\n    this.mouseMidButtonPressed = false;\n    this.mount();\n  }\n\n  shouldCloneInstances() {\n    return this._isControlPressed();\n  }\n\n  shouldMultiSelect() {\n    return this.shiftPressed;\n  }\n\n  shouldFollowAxis() {\n    return this.shiftPressed;\n  }\n\n  shouldNotSnapToGrid() {\n    return this.altPressed;\n  }\n\n  shouldResizeProportionally() {\n    return this.shiftPressed;\n  }\n\n  shouldScrollHorizontally() {\n    return this.altPressed;\n  }\n\n  shouldZoom() {\n    if (isMacLike()) {\n      return this._isControlPressed();\n    } else {\n      if (!this._isControlPressed() && !this.altPressed && !this.shiftPressed) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }\n\n  shouldMoveView() {\n    return this.spacePressed || this.mouseMidButtonPressed;\n  }\n\n  _isControlPressed = () => {\n    // On macOS, meta key (Apple/Command key) acts as Control key on Windows/Linux.\n    return this.metaPressed || this.rawCtrlPressed;\n  };\n\n  _onKeyDown = evt => {\n    if (!this.isFocused) return;\n    if (evt.metaKey) this.metaPressed = true;\n    if (evt.altKey) this.altPressed = true;\n    if (evt.which === CTRL_KEY) this.rawCtrlPressed = true;\n    if (evt.which === SHIFT_KEY) this.shiftPressed = true;\n    if (evt.which === SPACE_KEY) this.spacePressed = true;\n\n    const textEditorSelectors = 'textarea, input, [contenteditable=\"true\"]';\n    if (evt.target && evt.target.closest(textEditorSelectors)) {\n      return; // Something else is currently being edited.\n    }\n\n    if (this.onMove) {\n      if (evt.which === UP_KEY) {\n        this.onMove(0, -1);\n      } else if (evt.which === DOWN_KEY) {\n        this.onMove(0, 1);\n      } else if (evt.which === LEFT_KEY) {\n        this.onMove(-1, 0);\n      } else if (evt.which === RIGHT_KEY) {\n        this.onMove(1, 0);\n      }\n    }\n    if (evt.which === BACKSPACE_KEY || evt.which === DELETE_KEY) {\n      this.onDelete();\n    }\n    if (this._isControlPressed() && evt.which === C_KEY) {\n      this.onCopy();\n    }\n    if (this._isControlPressed() && evt.which === X_KEY) {\n      this.onCut();\n    }\n    if (this._isControlPressed() && evt.which === V_KEY) {\n      this.onPaste();\n    }\n    if (this._isControlPressed() && evt.which === Z_KEY) {\n      this.onUndo();\n    }\n    if (this._isControlPressed() && this.shiftPressed && evt.which === Z_KEY) {\n      this.onRedo();\n    }\n    if (this._isControlPressed() && evt.which === Y_KEY) {\n      this.onRedo();\n    }\n    if (this._isControlPressed() && evt.which === F_KEY) {\n      this.onSearch();\n    }\n\n    if (isMacLike()) {\n      //Mac specific shortcuts -- zooming done differently on windows and linux\n      if (this._isControlPressed() && evt.which === MINUS_KEY) {\n        this.onZoomOut();\n      }\n      if (this._isControlPressed() && evt.which === EQUAL_KEY) {\n        this.onZoomIn();\n      }\n      if (evt.which === NUMPAD_SUBSTRACT) {\n        this.onZoomOut();\n      }\n      if (evt.which === NUMPAD_ADD) {\n        this.onZoomIn();\n      }\n    }\n  };\n\n  _onKeyUp = evt => {\n    // Always handle key up event, even if we don't have the focus,\n    // for modifier keys to ensure we don't lose track of their pressed/unpressed status.\n\n    if (!evt.metaKey) this.metaPressed = false;\n    if (!evt.altKey) this.altPressed = false;\n    if (evt.which === CTRL_KEY) this.rawCtrlPressed = false;\n    if (evt.which === SHIFT_KEY) this.shiftPressed = false;\n    if (evt.which === SPACE_KEY) this.spacePressed = false;\n  };\n\n  _onMouseDown = evt => {\n    if (!this.isFocused) return;\n\n    if (!isMacLike()) {\n      if (evt.button === MID_MOUSE_BUTTON) {\n        this.mouseMidButtonPressed = true;\n      } else {\n        this.mouseMidButtonPressed = false;\n      }\n    }\n  };\n\n  _onMouseUp = evt => {\n    if (!this.isFocused) return;\n\n    if (!isMacLike() && evt.button === MID_MOUSE_BUTTON) {\n      this.mouseMidButtonPressed = false;\n    }\n  };\n\n  _onKeyPress = evt => {};\n\n  _noop = () => {};\n\n  focus() {\n    this.isFocused = true;\n  }\n\n  blur() {\n    this.isFocused = false;\n  }\n\n  mount() {\n    if (typeof document === 'undefined') return;\n\n    document.addEventListener('keydown', this._onKeyDown, true);\n    document.addEventListener('keyup', this._onKeyUp, true);\n    document.addEventListener('keypress', this._onKeyPress, true);\n    document.addEventListener('mousedown', this._onMouseDown, true);\n    document.addEventListener('mouseup', this._onMouseUp, true);\n  }\n\n  unmount() {\n    if (typeof document === 'undefined') return;\n\n    document.removeEventListener('keydown', this._onKeyDown, true);\n    document.removeEventListener('keyup', this._onKeyUp, true);\n    document.removeEventListener('keypress', this._onKeyPress, true);\n    document.removeEventListener('mousedown', this._onMouseDown, true);\n    document.removeEventListener('mouseup', this._onMouseUp, true);\n  }\n}\n","// @flow\nimport { serializeToJSObject, unserializeFromJSObject } from './Serializer';\n\n// Tools function to keep track of the history of changes made\n// on a serializable object from libGD.js\n\nexport type HistoryState = {|\n  undoHistory: Array<Object>,\n  current: Object,\n  redoHistory: Array<Object>,\n  maxSize: number,\n|};\n\n/**\n * Return the initial state of the history\n * @param {*} serializableObject\n */\nexport const getHistoryInitialState = (\n  serializableObject: gdSerializable,\n  { historyMaxSize }: { historyMaxSize: number }\n): HistoryState => {\n  return {\n    undoHistory: [],\n    current: serializeToJSObject(serializableObject),\n    redoHistory: [],\n    maxSize: historyMaxSize,\n  };\n};\n\n/**\n * Return true if redo can be applied for the given history\n * @param {*} history\n */\nexport const canRedo = (history: HistoryState): boolean => {\n  return !!history.redoHistory.length;\n};\n\n/**\n * Return true if undo can be applied for the given history\n * @param {*} history\n */\nexport const canUndo = (history: HistoryState): boolean => {\n  return !!history.undoHistory.length;\n};\n\n/**\n * Save a new state of the given serializableObject to the history\n * @param {*} history\n * @param {*} serializableObject\n */\nexport const saveToHistory = (\n  history: HistoryState,\n  serializableObject: gdSerializable\n): HistoryState => {\n  const newUndoHistory = [...history.undoHistory, history.current];\n  if (newUndoHistory.length > history.maxSize) {\n    newUndoHistory.splice(0, newUndoHistory.length - history.maxSize);\n  }\n\n  return {\n    undoHistory: newUndoHistory,\n    current: serializeToJSObject(serializableObject),\n    redoHistory: [],\n    maxSize: history.maxSize,\n  };\n};\n\n/**\n * Update the serializableObject to undo the last changes.\n * /!\\ This mutates the serializableObject and there could be objects owned by it\n * deleted or becoming invalid. Be sure to drop/refresh any reference to them.\n *\n * @param {*} history\n * @param {*} serializableObject\n */\nexport const undo = (\n  history: HistoryState,\n  serializableObject: gdSerializable,\n  project: ?gdProject = undefined\n): HistoryState => {\n  if (!history.undoHistory.length) {\n    return history;\n  }\n\n  const newCurrent = history.undoHistory[history.undoHistory.length - 1];\n  unserializeFromJSObject(\n    serializableObject,\n    newCurrent,\n    'unserializeFrom',\n    project\n  );\n\n  return {\n    undoHistory: history.undoHistory.slice(0, -1),\n    current: newCurrent,\n    redoHistory: [...history.redoHistory, history.current],\n    maxSize: history.maxSize,\n  };\n};\n\n/**\n * Update the serializableObject to undo the last changes.\n * /!\\ This mutates the serializableObject and there could be objects owned by it\n * deleted or becoming invalid. Be sure to drop/refresh any reference to them.\n *\n * @param {*} history\n * @param {*} serializableObject\n */\nexport const redo = (\n  history: HistoryState,\n  serializableObject: gdSerializable,\n  project: ?gdProject = undefined\n): HistoryState => {\n  if (!history.redoHistory.length) {\n    return history;\n  }\n\n  const newCurrent = history.redoHistory[history.redoHistory.length - 1];\n  unserializeFromJSObject(\n    serializableObject,\n    newCurrent,\n    'unserializeFrom',\n    project\n  );\n\n  return {\n    undoHistory: [...history.undoHistory, history.current],\n    current: newCurrent,\n    redoHistory: history.redoHistory.slice(0, -1),\n    maxSize: history.maxSize,\n  };\n};\n","import React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\n\nconst styles = {\n  root: {\n    width: 'auto',\n    marginRight: 16,\n  },\n  label: {\n    width: 'auto',\n  },\n};\n\n/**\n * A checkbox based on Material-UI Checkbox, but that can be displayed\n * without having it taking the full width of its container.\n */\nexport default props => (\n  <Checkbox style={styles.root} labelStyle={styles.label} {...props} />\n);\n","// @flow\nimport * as React from 'react';\nimport EventsFunctionsExtensionEditor from '../../EventsFunctionsExtensionEditor';\nimport BaseEditor from './BaseEditor';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n  },\n};\n\nexport default class EventsFunctionsExtensionEditorWrapper extends BaseEditor {\n  editor: ?EventsFunctionsExtensionEditor;\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  shouldComponentUpdate(nextProps: *) {\n    // This optimization is a bit more cautious than the one is BaseEditor,\n    // to still be notified when isActive goes from true to false.\n    if (!this.props.isActive && !nextProps.isActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  componentDidUpdate(prevProps: *) {\n    if (prevProps.isActive && !this.props.isActive) {\n      this.props.onReloadEventsFunctionsExtensions();\n    }\n  }\n\n  getEventsFunctionsExtension(): ?gdEventsFunctionsExtension {\n    const { project, eventsFunctionsExtensionName } = this.props;\n    if (\n      !project.hasEventsFunctionsExtensionNamed(eventsFunctionsExtensionName)\n    ) {\n      return null;\n    }\n    return project.getEventsFunctionsExtension(eventsFunctionsExtensionName);\n  }\n\n  selectEventsFunctionByName(eventsFunctionName: string) {\n    if (this.editor) this.editor.selectEventsFunctionByName(eventsFunctionName);\n  }\n\n  render() {\n    const { project, eventsFunctionsExtensionName } = this.props;\n    const eventsFunctionsExtension = this.getEventsFunctionsExtension();\n\n    if (!eventsFunctionsExtension) {\n      //TODO: Error component\n      return (\n        <div>No extension called {eventsFunctionsExtensionName} found!</div>\n      );\n    }\n\n    return (\n      <div style={styles.container}>\n        <EventsFunctionsExtensionEditor\n          key={eventsFunctionsExtension.ptr}\n          project={project}\n          eventsFunctionsExtension={eventsFunctionsExtension}\n          setToolbar={this.props.setToolbar}\n          resourceSources={this.props.resourceSources}\n          onChooseResource={this.props.onChooseResource}\n          resourceExternalEditors={this.props.resourceExternalEditors}\n          openInstructionOrExpression={this.props.openInstructionOrExpression}\n          initiallyFocusedFunctionName={this.props.initiallyFocusedFunctionName}\n          ref={editor => (this.editor = editor)}\n        />\n      </div>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React from 'react';\nimport EventsSheet from '../../EventsSheet';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { serializeToJSObject } from '../../Utils/Serializer';\nimport PlaceholderMessage from '../../UI/PlaceholderMessage';\nimport BaseEditor from './BaseEditor';\nimport LayoutChooserDialog from './LayoutChooserDialog';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n  },\n};\n\nexport default class ExternalEventsEditor extends BaseEditor {\n  constructor(props) {\n    super(props);\n    this.state = {\n      layoutChooserOpen: false,\n    };\n  }\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  getSerializedElements() {\n    const externalEvents = this.getExternalEvents();\n    const layout = this.getLayout();\n\n    return {\n      ...BaseEditor.getLayoutSerializedElements(layout),\n      events: serializeToJSObject(externalEvents),\n      uiSettings: this.editor.getUiSettings(),\n    };\n  }\n\n  getExternalEvents() {\n    const { project, externalEventsName } = this.props;\n    if (!project.hasExternalEventsNamed(externalEventsName)) {\n      return null;\n    }\n    return project.getExternalEvents(externalEventsName);\n  }\n\n  getLayout() {\n    const { project } = this.props;\n\n    const externalEvents = this.getExternalEvents();\n    if (!externalEvents) return null;\n\n    const layoutName = externalEvents.getAssociatedLayout();\n    if (!project.hasLayoutNamed(layoutName)) {\n      return null;\n    }\n    return project.getLayout(layoutName);\n  }\n\n  setAssociatedLayout = layoutName => {\n    const externalEvents = this.getExternalEvents();\n    if (!externalEvents) return;\n\n    externalEvents.setAssociatedLayout(layoutName);\n    this.setState(\n      {\n        layoutChooserOpen: false,\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openLayoutChooser = () => {\n    this.setState({\n      layoutChooserOpen: true,\n    });\n  };\n\n  render() {\n    const { project, externalEventsName } = this.props;\n    const externalEvents = this.getExternalEvents();\n    const layout = this.getLayout();\n\n    if (!externalEvents) {\n      //TODO: Error component\n      return <div>No external events called {externalEventsName} found!</div>;\n    }\n\n    return (\n      <div style={styles.container}>\n        {layout && (\n          <EventsSheet\n            {...this.props}\n            ref={editor => (this.editor = editor)}\n            project={project}\n            layout={layout}\n            globalObjectsContainer={project}\n            objectsContainer={layout}\n            events={externalEvents.getEvents()}\n            onPreview={() => this.props.onPreview(project, layout)}\n            onOpenSettings={this.openLayoutChooser}\n            onOpenExternalEvents={this.props.onOpenExternalEvents}\n            resourceSources={this.props.resourceSources}\n            onChooseResource={this.props.onChooseResource}\n            resourceExternalEditors={this.props.resourceExternalEditors}\n            openInstructionOrExpression={this.props.openInstructionOrExpression}\n          />\n        )}\n        {!layout && (\n          <PlaceholderMessage>\n            To edit the external events, choose the scene in which it will be\n            included:\n            <RaisedButton\n              label={<Trans>Choose the scene</Trans>}\n              primary\n              onClick={this.openLayoutChooser}\n            />\n          </PlaceholderMessage>\n        )}\n        <LayoutChooserDialog\n          title={<Trans>Choose the associated scene</Trans>}\n          helpText=\"You still need to add a Link event in the scene to import the external events\"\n          open={this.state.layoutChooserOpen}\n          project={project}\n          onChoose={this.setAssociatedLayout}\n          onClose={() => this.setState({ layoutChooserOpen: false })}\n        />\n      </div>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport { RadioButton, RadioButtonGroup } from 'material-ui/RadioButton';\nimport Dialog from '../../UI/Dialog';\nimport { mapFor } from '../../Utils/MapFor';\n\nexport default class LayoutChooserDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedLayoutName: props.layoutName,\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.layoutName !== this.props.layoutName) {\n      this.setState({\n        selectedLayoutName: newProps.layoutName,\n      });\n    }\n  }\n\n  chooseLayout(layoutName) {\n    this.setState({\n      selectedLayoutName: layoutName,\n    });\n  }\n\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={this.props.onClose}\n      />,\n      <FlatButton\n        label={<Trans>Choose</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={() => this.props.onChoose(this.state.selectedLayoutName)}\n        disabled={!this.state.selectedLayoutName}\n      />,\n    ];\n\n    const { project } = this.props;\n    const { selectedLayoutName } = this.state;\n    const layoutNames = mapFor(0, project.getLayoutsCount(), i => {\n      return project.getLayoutAt(i).getName();\n    });\n\n    return (\n      <Dialog\n        actions={actions}\n        open={this.props.open}\n        title={this.props.title}\n        onRequestClose={this.props.onClose}\n        autoScrollBodyContent={true}\n        contentStyle={{ width: '350px' }}\n      >\n        {this.props.helpText && <p>{this.props.helpText}</p>}\n        <RadioButtonGroup\n          name=\"associated-layout\"\n          valueSelected={selectedLayoutName}\n          onChange={(e, layoutName) => this.chooseLayout(layoutName)}\n        >\n          {layoutNames.map(name => (\n            <RadioButton value={name} label={name} key={name} />\n          ))}\n        </RadioButtonGroup>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport SceneEditor from '../../SceneEditor';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../../Utils/Serializer';\nimport PlaceholderMessage from '../../UI/PlaceholderMessage';\nimport BaseEditor from './BaseEditor';\nimport LayoutChooserDialog from './LayoutChooserDialog';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n  },\n};\n\nexport default class ExternalLayoutEditor extends BaseEditor {\n  editor: ?SceneEditor;\n  state = {\n    layoutChooserOpen: false,\n  };\n\n  shouldComponentUpdate(nextProps: *) {\n    // This optimization is a bit more cautious than the one is BaseEditor, to still allow\n    // children, and in particular SceneEditor and InstancesEditor, to be notified when isActive\n    // goes from true to false (in which case PIXI rendering is halted). If isActive was false\n    // and remains false, it's safe to stop update here (PIXI rendering is already halted).\n    if (!this.props.isActive && !nextProps.isActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  getSerializedElements() {\n    const externalLayout = this.getExternalLayout();\n    const layout = this.getLayout();\n    if (!externalLayout || !layout) return {};\n\n    return {\n      ...BaseEditor.getLayoutSerializedElements(layout),\n      instances: serializeToJSObject(externalLayout.getInitialInstances()),\n      uiSettings: this.editor ? this.editor.getUiSettings() : {},\n    };\n  }\n\n  getExternalLayout(): ?gdExternalLayout {\n    const { project, externalLayoutName } = this.props;\n    if (!project.hasExternalLayoutNamed(externalLayoutName)) {\n      return null;\n    }\n    return project.getExternalLayout(externalLayoutName);\n  }\n\n  getLayout(): ?gdLayout {\n    const { project } = this.props;\n\n    const externalLayout = this.getExternalLayout();\n    if (!externalLayout) return null;\n\n    const layoutName = externalLayout.getAssociatedLayout();\n    if (!project.hasLayoutNamed(layoutName)) {\n      return null;\n    }\n    return project.getLayout(layoutName);\n  }\n\n  setAssociatedLayout = (layoutName: string) => {\n    const externalLayout = this.getExternalLayout();\n    if (!externalLayout) return;\n\n    externalLayout.setAssociatedLayout(layoutName);\n    this.setState(\n      {\n        layoutChooserOpen: false,\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openLayoutChooser = () => {\n    this.setState({\n      layoutChooserOpen: true,\n    });\n  };\n\n  saveUiSettings = () => {\n    const layout = this.getExternalLayout();\n    const editor = this.editor;\n\n    if (editor && layout) {\n      unserializeFromJSObject(\n        layout.getAssociatedSettings(),\n        editor.getUiSettings()\n      );\n    }\n  };\n\n  render() {\n    const { project, externalLayoutName, isActive } = this.props;\n    const externalLayout = this.getExternalLayout();\n    const layout = this.getLayout();\n\n    if (!externalLayout) {\n      //TODO: Error component\n      return <div>No external layout called {externalLayoutName} found!</div>;\n    }\n\n    return (\n      <div style={styles.container}>\n        {layout && (\n          <SceneEditor\n            {...this.props}\n            ref={editor => (this.editor = editor)}\n            project={project}\n            layout={layout}\n            initialInstances={externalLayout.getInitialInstances()}\n            initialUiSettings={serializeToJSObject(\n              externalLayout.getAssociatedSettings()\n            )}\n            onPreview={options =>\n              this.props.onPreview(project, layout, externalLayout, options)\n            }\n            onOpenDebugger={this.props.onOpenDebugger}\n            onOpenMoreSettings={this.openLayoutChooser}\n            isActive={isActive}\n          />\n        )}\n        {!layout && (\n          <PlaceholderMessage>\n            To edit the external layout, choose the scene in which it will be\n            included:\n            <RaisedButton\n              label={<Trans>Choose the scene</Trans>}\n              primary\n              onClick={this.openLayoutChooser}\n            />\n          </PlaceholderMessage>\n        )}\n        <LayoutChooserDialog\n          title={<Trans>Choose the associated scene</Trans>}\n          open={this.state.layoutChooserOpen}\n          project={project}\n          onChoose={this.setAssociatedLayout}\n          onClose={() => this.setState({ layoutChooserOpen: false })}\n        />\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport uniq from 'lodash/uniq';\nimport ObjectsList from '../ObjectsList';\nimport ObjectGroupsList from '../ObjectGroupsList';\nimport ObjectsRenderingService from '../ObjectsRendering/ObjectsRenderingService';\nimport InstancesEditor from '../InstancesEditor';\nimport InstancePropertiesEditor from '../InstancesEditor/InstancePropertiesEditor';\nimport InstancesList from '../InstancesEditor/InstancesList';\nimport LayersList from '../LayersList';\nimport LayerRemoveDialog from '../LayersList/LayerRemoveDialog';\nimport VariablesEditorDialog from '../VariablesList/VariablesEditorDialog';\nimport ObjectEditorDialog from '../ObjectEditor/ObjectEditorDialog';\nimport ObjectGroupEditorDialog from '../ObjectGroupEditor/ObjectGroupEditorDialog';\nimport InstancesSelection from './InstancesSelection';\nimport SetupGridDialog from './SetupGridDialog';\nimport ScenePropertiesDialog from './ScenePropertiesDialog';\nimport Toolbar from './Toolbar';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport Clipboard from '../Utils/Clipboard';\nimport { passFullSize } from '../UI/FullSizeMeasurer';\nimport { addScrollbars } from '../InstancesEditor/ScrollbarContainer';\nimport { type PreviewOptions } from '../Export/PreviewLauncher.flow';\nimport Drawer from 'material-ui/Drawer';\nimport IconButton from 'material-ui/IconButton';\nimport NavigationClose from 'material-ui/svg-icons/navigation/close';\nimport EditorMosaic, { MosaicWindow } from '../UI/EditorMosaic';\nimport EditorBar from '../UI/EditorBar';\nimport InfoBar from '../UI/Messages/InfoBar';\nimport ContextMenu from '../UI/Menu/ContextMenu';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { shortenString } from '../Utils/StringHelpers';\nimport { roundPosition } from '../Utils/GridHelpers';\nimport getObjectByName from '../Utils/GetObjectByName';\n\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport {\n  type HistoryState,\n  undo,\n  redo,\n  canUndo,\n  canRedo,\n  getHistoryInitialState,\n  saveToHistory,\n} from '../Utils/History';\nimport PixiResourcesLoader from '../ObjectsRendering/PixiResourcesLoader';\nimport {\n  type ObjectWithContext,\n  type GroupWithContext,\n} from '../ObjectsList/EnumerateObjects';\nconst gd = global.gd;\n\nconst INSTANCES_CLIPBOARD_KIND = 'Instances';\n\nconst FullSizeInstancesEditor = passFullSize(addScrollbars(InstancesEditor), {\n  useFlex: true,\n});\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n};\n\ntype Props = {|\n  initialInstances: gdInitialInstancesContainer,\n  initialUiSettings: Object,\n  layout: gdLayout,\n  onEditObject: (object: gdObject) => void,\n  onOpenDebugger: () => void,\n  onOpenMoreSettings: () => void,\n  onPreview: (options: PreviewOptions) => void,\n  project: gdProject,\n  setToolbar: (?React.Node) => void,\n  showNetworkPreviewButton: boolean,\n  showObjectsList: boolean,\n  showPreviewButton: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  isActive: boolean,\n|};\n\ntype State = {|\n  objectsListOpen: boolean,\n  instancesListOpen: boolean,\n  setupGridOpen: boolean,\n  scenePropertiesDialogOpen: boolean,\n  layersListOpen: boolean,\n  layerRemoveDialogOpen: boolean,\n  onCloseLayerRemoveDialog: ?(doRemove: boolean, newLayer: string) => void,\n  layerRemoved: ?string,\n  editedObjectWithContext: ?ObjectWithContext,\n  variablesEditedInstance: ?gdInitialInstance,\n  variablesEditedObject: ?gdObject,\n  selectedObjectNames: Array<string>,\n\n  editedGroup: ?gdObjectGroup,\n\n  // State for \"drag'n'dropping\" from the objects list to the instances editor:\n  objectDraggedFromList: ?gdObject,\n  canDropDraggedObject: boolean,\n\n  uiSettings: Object,\n  history: HistoryState,\n\n  showObjectsListInfoBar: boolean,\n  layoutVariablesDialogOpen: boolean,\n  showPropertiesInfoBar: boolean,\n|};\n\ntype CopyCutPasteOptions = { useLastCursorPosition?: boolean };\n\nexport default class SceneEditor extends React.Component<Props, State> {\n  static defaultProps = {\n    showObjectsList: true,\n    setToolbar: () => {},\n  };\n\n  zOrderFinder: ?gd.HighestZOrderFinder;\n  instancesSelection: InstancesSelection;\n  editor: ?InstancesEditor;\n  contextMenu: ?ContextMenu;\n  editorMosaic: ?EditorMosaic;\n  _objectsList: ?ObjectsList;\n  _propertiesEditor: ?InstancePropertiesEditor;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.instancesSelection = new InstancesSelection();\n    this.state = {\n      objectsListOpen: false,\n      instancesListOpen: false,\n      setupGridOpen: false,\n      scenePropertiesDialogOpen: false,\n      layersListOpen: false,\n      layerRemoveDialogOpen: false,\n      onCloseLayerRemoveDialog: null,\n      layerRemoved: null,\n      editedObjectWithContext: null,\n      variablesEditedInstance: null,\n      variablesEditedObject: null,\n      selectedObjectNames: [],\n\n      editedGroup: null,\n\n      // State for \"drag'n'dropping\" from the objects list to the instances editor:\n      objectDraggedFromList: null,\n      canDropDraggedObject: false,\n\n      uiSettings: props.initialUiSettings,\n      history: getHistoryInitialState(props.initialInstances, {\n        historyMaxSize: 50,\n      }),\n\n      showObjectsListInfoBar: false,\n      layoutVariablesDialogOpen: false,\n      showPropertiesInfoBar: false,\n    };\n  }\n\n  componentWillMount() {\n    this.zOrderFinder = new gd.HighestZOrderFinder();\n  }\n\n  getUiSettings() {\n    return this.state.uiSettings;\n  }\n\n  updateToolbar() {\n    this.props.setToolbar(\n      <Toolbar\n        showPreviewButton={this.props.showPreviewButton}\n        onPreview={() => this.props.onPreview({})}\n        showNetworkPreviewButton={this.props.showNetworkPreviewButton}\n        onNetworkPreview={() => this.props.onPreview({ networkPreview: true })}\n        onOpenDebugger={() => {\n          this.props.onOpenDebugger();\n          this.props.onPreview({});\n        }}\n        showObjectsList={this.props.showObjectsList}\n        instancesSelection={this.instancesSelection}\n        openObjectsList={this.openObjectsList}\n        openObjectGroupsList={this.openObjectGroupsList}\n        openProperties={this.openProperties}\n        deleteSelection={this.deleteSelection}\n        toggleInstancesList={this.toggleInstancesList}\n        toggleLayersList={this.toggleLayersList}\n        toggleWindowMask={this.toggleWindowMask}\n        toggleGrid={this.toggleGrid}\n        isGridShown={() => !!this.state.uiSettings.grid}\n        isWindowMaskShown={() => !!this.state.uiSettings.windowMask}\n        openSetupGrid={this.openSetupGrid}\n        setZoomFactor={this.setZoomFactor}\n        canUndo={canUndo(this.state.history)}\n        canRedo={canRedo(this.state.history)}\n        undo={this.undo}\n        redo={this.redo}\n        zoomIn={this.zoomIn}\n        zoomOut={this.zoomOut}\n        onOpenSettings={this.openSceneProperties}\n      />\n    );\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (\n      this.props.layout !== nextProps.layout ||\n      this.props.initialInstances !== nextProps.initialInstances ||\n      this.props.project !== nextProps.project\n    ) {\n      this.instancesSelection.clearSelection();\n      this.openSetupGrid(false);\n      this.editInstanceVariables(null);\n      this.openSceneProperties(false);\n    }\n  }\n\n  openObjectsList = () => {\n    if (!this.editorMosaic) return;\n    if (!this.editorMosaic.openEditor('objects-list')) {\n      this.setState({\n        showObjectsListInfoBar: true,\n      });\n    }\n  };\n\n  openProperties = () => {\n    if (!this.editorMosaic) return;\n    if (!this.editorMosaic.openEditor('properties')) {\n      this.setState({\n        showPropertiesInfoBar: true,\n      });\n    }\n  };\n\n  openObjectGroupsList = () => {\n    if (!this.editorMosaic) return;\n    this.editorMosaic.openEditor('object-groups-list');\n  };\n\n  toggleInstancesList = () => {\n    this.setState({ instancesListOpen: !this.state.instancesListOpen });\n  };\n\n  toggleLayersList = () => {\n    this.setState({ layersListOpen: !this.state.layersListOpen });\n  };\n\n  toggleWindowMask = () => {\n    this.setState({\n      uiSettings: {\n        ...this.state.uiSettings,\n        windowMask: !this.state.uiSettings.windowMask,\n      },\n    });\n  };\n\n  toggleGrid = () => {\n    this.setState({\n      uiSettings: {\n        ...this.state.uiSettings,\n        grid: !this.state.uiSettings.grid,\n        snap: !this.state.uiSettings.grid,\n      },\n    });\n  };\n\n  openSetupGrid = (open: boolean = true) => {\n    this.setState({ setupGridOpen: open });\n  };\n\n  openSceneProperties = (open: boolean = true) => {\n    this.setState({ scenePropertiesDialogOpen: open });\n  };\n\n  openObjectEditor = () => {\n    if (!this.instancesSelection.hasSelectedInstances()) {\n      return;\n    }\n    const selectedInstanceObjectName = this.instancesSelection\n      .getSelectedInstances()[0]\n      .getObjectName();\n    this.editObjectByName(selectedInstanceObjectName);\n  };\n\n  editInstanceVariables = (instance: ?gdInitialInstance) => {\n    this.setState({ variablesEditedInstance: instance });\n  };\n\n  editObjectVariables = (object: ?gdObject) => {\n    this.setState({ variablesEditedObject: object });\n  };\n\n  editLayoutVariables = (open: boolean = true) => {\n    this.setState({ layoutVariablesDialogOpen: open });\n  };\n\n  editObject = (editedObject: ?gdObject) => {\n    const { project } = this.props;\n    if (editedObject) {\n      this.setState({\n        editedObjectWithContext: {\n          object: editedObject,\n          global: project.hasObjectNamed(editedObject.getName()),\n        },\n      });\n    } else {\n      this.setState({\n        editedObjectWithContext: null,\n      });\n    }\n  };\n\n  editObjectByName = (objectName: string) => {\n    const { project, layout } = this.props;\n    if (layout.hasObjectNamed(objectName))\n      this.editObject(layout.getObject(objectName));\n    else if (project.hasObjectNamed(objectName))\n      this.editObject(project.getObject(objectName));\n  };\n\n  /**\n   * Called when an object is started to be dragged from the object list.\n   * See `_onPointerOverInstancesEditor`, `_onPointerOutInstancesEditor` and\n   * `_onPointerUpInstancesEditor` for the drag'n'drop workflow.\n   */\n  _onStartDraggingObjectFromList = (object: gdObject) => {\n    // \"Hijack\" the name of the object that is dragged in the objects list.\n    // We'll then listen to \"pointer over\" events to see if the object\n    // is the dragged on the instances editor.\n    this.setState({\n      objectDraggedFromList: object,\n    });\n  };\n\n  _onEndDraggingObjectFromList = () => {\n    // If the dragged object is not being dropped on the instances editor,\n    // clear the dragged object so that we don't keep it the state (otherwise\n    // we could think later that a dragging is still occuring when cursor\n    // is over the instances editor).\n    if (!this.state.canDropDraggedObject) {\n      this.setState({\n        objectDraggedFromList: null,\n      });\n    }\n  };\n\n  _onPointerOverInstancesEditor = () => {\n    // If an object is dragged, and cursor is over the instances editor,\n    // mark in the state that we can drop an instance of this object.\n    if (this.state.objectDraggedFromList && !this.state.canDropDraggedObject) {\n      this.setState({\n        canDropDraggedObject: true,\n      });\n    }\n  };\n\n  _onPointerOutInstancesEditor = () => {\n    // If cursor is going out of the instances editor,\n    // mark in the state that we cannot drop an instance anymore.\n    if (this.state.canDropDraggedObject) {\n      this.setState({\n        canDropDraggedObject: false,\n      });\n    }\n  };\n\n  _onPointerUpInstancesEditor = () => {\n    if (this.state.canDropDraggedObject) {\n      if (this.editor) {\n        const cursorPosition = this.editor.getLastCursorPosition();\n\n        if (this.state.objectDraggedFromList)\n          this._addInstance(\n            cursorPosition[0],\n            cursorPosition[1],\n            this.state.objectDraggedFromList.getName()\n          );\n      }\n      // Wait 30ms after dropping the object before reseting the canDropDraggedObject state boolean\n      // to ensure ObjectsList will be prevented to actually move object in the list.\n      setTimeout(\n        () =>\n          this.setState({\n            canDropDraggedObject: false,\n            objectDraggedFromList: null,\n          }),\n        30 // This value is very conservative, and timeout may not be needed at all\n      );\n    }\n  };\n\n  editGroup = (group: ?gdObjectGroup) => {\n    this.setState({ editedGroup: group });\n  };\n\n  setUiSettings = (uiSettings: Object) => {\n    this.setState({\n      uiSettings: {\n        ...this.state.uiSettings,\n        ...uiSettings,\n      },\n    });\n  };\n\n  undo = () => {\n    this.instancesSelection.clearSelection();\n    this.setState(\n      {\n        history: undo(this.state.history, this.props.initialInstances),\n      },\n      () => {\n        // /!\\ Force the instances editor to destroy and mount again the\n        // renderers to avoid keeping any references to existing instances\n        if (this.editor) this.editor.forceRemount();\n        this.updateToolbar();\n      }\n    );\n  };\n\n  redo = () => {\n    this.instancesSelection.clearSelection();\n    this.setState(\n      {\n        history: redo(this.state.history, this.props.initialInstances),\n      },\n      () => {\n        // /!\\ Force the instances editor to destroy and mount again the\n        // renderers to avoid keeping any references to existing instances\n        if (this.editor) this.editor.forceRemount();\n        this.updateToolbar();\n      }\n    );\n  };\n\n  _onObjectSelected = (selectedObjectName: string) => {\n    if (!selectedObjectName) {\n      this.setState({\n        selectedObjectNames: [],\n      });\n    } else {\n      this.setState({\n        selectedObjectNames: [selectedObjectName],\n      });\n    }\n  };\n\n  _onAddInstanceUnderCursor = () => {\n    if (!this.state.selectedObjectNames.length || !this.editor) {\n      return;\n    }\n\n    const objectSelected = this.state.selectedObjectNames[0];\n    const cursorPosition = this.editor.getLastCursorPosition();\n    this._addInstance(cursorPosition[0], cursorPosition[1], objectSelected);\n    this.setState({\n      selectedObjectNames: [objectSelected],\n    });\n  };\n\n  _addInstance = (x: number, y: number, objectName: string) => {\n    if (!objectName) return;\n\n    const instance = this.props.initialInstances.insertNewInitialInstance();\n    instance.setObjectName(objectName);\n    if (this.state.uiSettings.grid) {\n      x = roundPosition(\n        x,\n        this.state.uiSettings.gridWidth,\n        this.state.uiSettings.gridOffsetX\n      );\n      y = roundPosition(\n        y,\n        this.state.uiSettings.gridHeight,\n        this.state.uiSettings.gridOffsetY\n      );\n    }\n    instance.setX(x);\n    instance.setY(y);\n    this.props.initialInstances.iterateOverInstances(this.zOrderFinder);\n    if (this.zOrderFinder) {\n      instance.setZOrder(this.zOrderFinder.getHighestZOrder() + 1);\n    }\n    this.setState(\n      {\n        selectedObjectNames: [],\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  _onInstancesSelected = (instances: Array<gdInitialInstance>) => {\n    this.setState({\n      selectedObjectNames: uniq(\n        instances.map(instance => instance.getObjectName())\n      ),\n    });\n    this.forceUpdatePropertiesEditor();\n    this.updateToolbar();\n  };\n\n  _onInstancesMoved = (instances: Array<gdInitialInstance>) => {\n    this.setState(\n      {\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => this.forceUpdatePropertiesEditor()\n    );\n  };\n\n  _onInstancesResized = (instances: Array<gdInitialInstance>) => {\n    this.setState(\n      {\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => this.forceUpdatePropertiesEditor()\n    );\n  };\n\n  _onInstancesRotated = (instances: Array<gdInitialInstance>) => {\n    this.setState(\n      {\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => this.forceUpdatePropertiesEditor()\n    );\n  };\n\n  _onInstancesModified = (instances: Array<gdInitialInstance>) => {\n    this.forceUpdate();\n    //TODO: Save for redo with debounce (and cancel on unmount)\n  };\n\n  _onSelectInstances = (\n    instances: Array<gdInitialInstance>,\n    centerView: boolean = true\n  ) => {\n    this.instancesSelection.selectInstances(instances, false);\n\n    if (centerView) {\n      if (this.editor) this.editor.centerViewOn(instances);\n    }\n    this.forceUpdatePropertiesEditor();\n    this.updateToolbar();\n  };\n\n  _onRemoveLayer = (layerName: string, done: boolean => void) => {\n    this.setState({\n      layerRemoveDialogOpen: true,\n      layerRemoved: layerName,\n      onCloseLayerRemoveDialog: (doRemove, newLayer) => {\n        this.setState(\n          {\n            layerRemoveDialogOpen: false,\n          },\n          () => {\n            if (doRemove) {\n              if (newLayer === null) {\n                this.props.initialInstances.removeAllInstancesOnLayer(\n                  layerName\n                );\n              } else {\n                this.props.initialInstances.moveInstancesToLayer(\n                  layerName,\n                  newLayer\n                );\n              }\n            }\n\n            done(doRemove);\n            // /!\\ Force the instances editor to destroy and mount again the\n            // renderers to avoid keeping any references to existing instances\n            if (this.editor) this.editor.forceRemount();\n            this.updateToolbar();\n          }\n        );\n      },\n    });\n  };\n\n  _onRenameLayer = (\n    oldName: string,\n    newName: string,\n    done: boolean => void\n  ) => {\n    this.props.initialInstances.moveInstancesToLayer(oldName, newName);\n    done(true);\n  };\n\n  _onDeleteObject = (\n    objectWithContext: ObjectWithContext,\n    done: boolean => void\n  ) => {\n    const { object, global } = objectWithContext;\n    const { project, layout } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      'Do you want to remove all references to this object in groups and events (actions and conditions using the object)?'\n    );\n\n    if (global) {\n      gd.WholeProjectRefactorer.globalObjectRemoved(\n        project,\n        object.getName(),\n        !!answer\n      );\n    } else {\n      gd.WholeProjectRefactorer.objectRemovedInLayout(\n        project,\n        layout,\n        object.getName(),\n        !!answer\n      );\n    }\n    done(true);\n  };\n\n  _canObjectUseNewName = (\n    objectWithContext: ObjectWithContext,\n    newName: string\n  ) => {\n    const { project, layout } = this.props;\n    const { object } = objectWithContext;\n\n    if (object.getName() === newName) {\n      return true;\n    } else if (\n      layout.hasObjectNamed(newName) ||\n      project.hasObjectNamed(newName)\n    ) {\n      showWarningBox('Another object with this name already exists.');\n      return false;\n    } else if (!gd.Project.validateObjectName(newName)) {\n      showWarningBox(\n        'This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your object name.'\n      );\n      return false;\n    }\n\n    return true;\n  };\n\n  _onRenameEditedObject = (newName: string) => {\n    const { editedObjectWithContext } = this.state;\n\n    if (editedObjectWithContext) {\n      this._onRenameObject(editedObjectWithContext, newName, () => {});\n    }\n  };\n\n  _onRenameObject = (\n    objectWithContext: ObjectWithContext,\n    newName: string,\n    done: boolean => void\n  ) => {\n    const { object, global } = objectWithContext;\n    const { project, layout } = this.props;\n\n    if (!gd.Project.validateObjectName(newName)) {\n      done(false);\n      return;\n    }\n\n    // Avoid triggering renaming refactoring if name has not really changed\n    if (object.getName() !== newName) {\n      if (global) {\n        gd.WholeProjectRefactorer.globalObjectRenamed(\n          project,\n          object.getName(),\n          newName\n        );\n      } else {\n        gd.WholeProjectRefactorer.objectRenamedInLayout(\n          project,\n          layout,\n          object.getName(),\n          newName\n        );\n      }\n    }\n\n    object.setName(newName);\n    done(true);\n  };\n\n  _onDeleteGroup = (\n    groupWithScope: GroupWithContext,\n    done: boolean => void\n  ) => {\n    //TODO: implement and launch refactoring (using gd.WholeProjectRefactorer)\n    done(true);\n  };\n\n  _onRenameGroup = (\n    groupWithScope: GroupWithContext,\n    newName: string,\n    done: boolean => void\n  ) => {\n    //TODO: implement and launch refactoring (using gd.WholeProjectRefactorer)\n    done(true);\n  };\n\n  deleteSelection = () => {\n    const selectedInstances = this.instancesSelection.getSelectedInstances();\n    selectedInstances.map(instance =>\n      this.props.initialInstances.removeInstance(instance)\n    );\n\n    this.instancesSelection.clearSelection();\n    if (this.editor) this.editor.clearHighlightedInstance();\n\n    this.setState(\n      {\n        selectedObjectNames: [],\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => {\n        this.updateToolbar();\n        this.forceUpdatePropertiesEditor();\n      }\n    );\n  };\n\n  setZoomFactor = (zoomFactor: number) => {\n    if (this.editor) this.editor.setZoomFactor(zoomFactor);\n  };\n\n  zoomIn = () => {\n    if (this.editor) this.editor.zoomBy(0.1);\n  };\n\n  zoomOut = () => {\n    if (this.editor) this.editor.zoomBy(-0.1);\n  };\n\n  _onContextMenu = (x: number, y: number) => {\n    if (this.contextMenu) this.contextMenu.open(x, y);\n  };\n\n  copySelection = ({ useLastCursorPosition }: CopyCutPasteOptions = {}) => {\n    const serializedSelection = this.instancesSelection\n      .getSelectedInstances()\n      .map(instance => serializeToJSObject(instance));\n\n    if (this.editor) {\n      const position = useLastCursorPosition\n        ? this.editor.getLastCursorPosition()\n        : this.editor.getLastContextMenuPosition();\n      Clipboard.set(INSTANCES_CLIPBOARD_KIND, {\n        x: position[0],\n        y: position[1],\n        instances: serializedSelection,\n      });\n    }\n  };\n\n  cutSelection = (options: CopyCutPasteOptions = {}) => {\n    this.copySelection(options);\n    this.deleteSelection();\n  };\n\n  paste = ({ useLastCursorPosition }: CopyCutPasteOptions = {}) => {\n    const clipboardContent = Clipboard.get(INSTANCES_CLIPBOARD_KIND);\n    if (!clipboardContent || !this.editor) return;\n\n    const position = useLastCursorPosition\n      ? this.editor.getLastCursorPosition()\n      : this.editor.getLastContextMenuPosition();\n    const { x, y } = clipboardContent;\n    clipboardContent.instances\n      .map(serializedInstance => {\n        const instance = new gd.InitialInstance();\n        unserializeFromJSObject(instance, serializedInstance);\n        return instance;\n      })\n      .forEach(instance => {\n        instance.setX(instance.getX() - x + position[0]);\n        instance.setY(instance.getY() - y + position[1]);\n        this.props.initialInstances.insertInitialInstance(instance);\n        instance.delete();\n      });\n  };\n\n  updateBehaviorsSharedData = () => {\n    const { layout, project } = this.props;\n    layout.updateBehaviorsSharedData(project);\n  };\n\n  forceUpdateObjectsList = () => {\n    if (this._objectsList) this._objectsList.forceUpdateList();\n  };\n\n  forceUpdatePropertiesEditor = () => {\n    if (this._propertiesEditor) this._propertiesEditor.forceUpdate();\n  };\n\n  reloadResourcesFor = (object: gdObject) => {\n    const { project } = this.props;\n\n    const resourcesInUse = new gd.ResourcesInUseHelper();\n    object.exposeResources(resourcesInUse);\n    const objectResourceNames = resourcesInUse\n      .getAllImages()\n      .toNewVectorString()\n      .toJSArray();\n\n    PixiResourcesLoader.loadTextures(\n      project,\n      objectResourceNames,\n      () => {},\n      () => {\n        if (this.editor) this.editor.resetRenderersFor(object.getName());\n      }\n    );\n  };\n\n  render() {\n    const {\n      project,\n      layout,\n      initialInstances,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n      isActive,\n    } = this.props;\n    const selectedInstances = this.instancesSelection.getSelectedInstances();\n\n    const editors = {\n      properties: (\n        <MosaicWindow title={<Trans>Properties</Trans>}>\n          <InstancePropertiesEditor\n            project={project}\n            layout={layout}\n            instances={selectedInstances}\n            editInstanceVariables={this.editInstanceVariables}\n            editObjectVariables={this.editObjectVariables}\n            onEditObjectByName={this.editObjectByName}\n            ref={propertiesEditor =>\n              (this._propertiesEditor = propertiesEditor)\n            }\n          />\n        </MosaicWindow>\n      ),\n      'instances-editor': (\n        <FullSizeInstancesEditor\n          project={project}\n          layout={layout}\n          initialInstances={initialInstances}\n          onAddInstance={this._addInstance}\n          options={this.state.uiSettings}\n          onChangeOptions={this.setUiSettings}\n          instancesSelection={this.instancesSelection}\n          onDeleteSelection={this.deleteSelection}\n          onInstancesSelected={this._onInstancesSelected}\n          onInstancesMoved={this._onInstancesMoved}\n          onInstancesResized={this._onInstancesResized}\n          onInstancesRotated={this._onInstancesRotated}\n          onPointerUp={this._onPointerUpInstancesEditor}\n          onPointerOver={this._onPointerOverInstancesEditor}\n          onPointerOut={this._onPointerOutInstancesEditor}\n          onContextMenu={this._onContextMenu}\n          onCopy={() => this.copySelection({ useLastCursorPosition: true })}\n          onCut={() => this.cutSelection({ useLastCursorPosition: true })}\n          onPaste={() => this.paste({ useLastCursorPosition: true })}\n          onUndo={this.undo}\n          onRedo={this.redo}\n          onZoomOut={this.zoomOut}\n          onZoomIn={this.zoomIn}\n          showDropCursor={this.state.canDropDraggedObject}\n          wrappedEditorRef={editor => (this.editor = editor)}\n          pauseRendering={!isActive}\n        />\n      ),\n      'objects-list': (\n        <MosaicWindow\n          title={<Trans>Objects</Trans>}\n          selectedObjectNames={\n            this.state\n              .selectedObjectNames /*Ensure MosaicWindow content is updated when selectedObjectNames changes*/\n          }\n          canDropDraggedObject={\n            this.state\n              .canDropDraggedObject /*Ensure MosaicWindow content is updated when canDropDraggedObject changes*/\n          }\n        >\n          <ObjectsList\n            getThumbnail={ObjectsRenderingService.getThumbnail.bind(\n              ObjectsRenderingService\n            )}\n            project={project}\n            objectsContainer={layout}\n            selectedObjectNames={this.state.selectedObjectNames}\n            onEditObject={this.props.onEditObject || this.editObject}\n            onDeleteObject={this._onDeleteObject}\n            canRenameObject={(\n              objectWithContext: ObjectWithContext,\n              newName: string\n            ) => {\n              return this._canObjectUseNewName(objectWithContext, newName);\n            }}\n            onObjectSelected={this._onObjectSelected}\n            onRenameObject={this._onRenameObject}\n            onObjectPasted={() => this.updateBehaviorsSharedData()}\n            onStartDraggingObject={this._onStartDraggingObjectFromList}\n            onEndDraggingObject={this._onEndDraggingObjectFromList}\n            canMoveObjects={!this.state.canDropDraggedObject}\n            ref={objectsList => (this._objectsList = objectsList)}\n          />\n        </MosaicWindow>\n      ),\n      'object-groups-list': (\n        <MosaicWindow title={<Trans>Object Groups</Trans>}>\n          <ObjectGroupsList\n            project={project}\n            objectsContainer={layout}\n            onEditGroup={this.editGroup}\n            onDeleteGroup={this._onDeleteGroup}\n            onRenameGroup={this._onRenameGroup}\n          />\n        </MosaicWindow>\n      ),\n    };\n    return (\n      <div style={styles.container}>\n        <EditorMosaic\n          editors={editors}\n          ref={editorMosaic => (this.editorMosaic = editorMosaic)}\n          initialNodes={{\n            direction: 'row',\n            first: 'properties',\n            splitPercentage: 23,\n            second: {\n              direction: 'row',\n              first: 'instances-editor',\n              second: this.props.showObjectsList ? 'objects-list' : null,\n              splitPercentage: 77,\n            },\n          }}\n        />\n        {this.state.editedObjectWithContext && (\n          <ObjectEditorDialog\n            open\n            object={this.state.editedObjectWithContext.object}\n            project={project}\n            resourceSources={resourceSources}\n            resourceExternalEditors={resourceExternalEditors}\n            onChooseResource={onChooseResource}\n            onCancel={() => {\n              if (this.state.editedObjectWithContext) {\n                this.reloadResourcesFor(\n                  this.state.editedObjectWithContext.object\n                );\n              }\n              this.editObject(null);\n            }}\n            canRenameObject={tryName => {\n              return (\n                this.state.editedObjectWithContext &&\n                this._canObjectUseNewName(\n                  this.state.editedObjectWithContext,\n                  tryName\n                )\n              );\n            }}\n            onRename={newName => {\n              this._onRenameEditedObject(newName);\n            }}\n            onApply={() => {\n              if (this.state.editedObjectWithContext) {\n                this.reloadResourcesFor(\n                  this.state.editedObjectWithContext.object\n                );\n              }\n              this.editObject(null);\n              this.updateBehaviorsSharedData();\n              this.forceUpdateObjectsList();\n            }}\n          />\n        )}\n        <ObjectGroupEditorDialog\n          open={!!this.state.editedGroup}\n          group={this.state.editedGroup}\n          layout={layout}\n          project={project}\n          onCancel={() => this.editGroup(null)}\n          onApply={() => this.editGroup(null)}\n        />\n        <Drawer\n          open={this.state.instancesListOpen}\n          width={500}\n          openSecondary={true}\n          containerStyle={{ overflow: 'hidden' }}\n        >\n          <EditorBar\n            title={<Trans>Instances</Trans>}\n            iconElementLeft={\n              <IconButton onClick={this.toggleInstancesList}>\n                <NavigationClose />\n              </IconButton>\n            }\n          />\n          <InstancesList\n            freezeUpdate={!this.state.instancesListOpen}\n            instances={initialInstances}\n            selectedInstances={selectedInstances}\n            onSelectInstances={this._onSelectInstances}\n          />\n        </Drawer>\n        <Drawer\n          open={this.state.layersListOpen}\n          width={400}\n          openSecondary={true}\n        >\n          <EditorBar\n            title={<Trans>Layers</Trans>}\n            iconElementLeft={\n              <IconButton onClick={this.toggleLayersList}>\n                <NavigationClose />\n              </IconButton>\n            }\n          />\n          <LayersList\n            freezeUpdate={!this.state.layersListOpen}\n            onRemoveLayer={this._onRemoveLayer}\n            onRenameLayer={this._onRenameLayer}\n            layersContainer={layout}\n          />\n        </Drawer>\n        <InfoBar\n          message={\n            <Trans>\n              Drag and Drop the object to the scene or use the right click menu\n              to add an instance of it.\n            </Trans>\n          }\n          show={!!this.state.selectedObjectNames.length}\n        />\n        <InfoBar\n          message={\n            <Trans>\n              Objects panel is already opened: use it to add and edit objects.\n            </Trans>\n          }\n          show={!!this.state.showObjectsListInfoBar}\n        />\n        <InfoBar\n          message={<Trans>Properties panel is already opened.</Trans>}\n          show={!!this.state.showPropertiesInfoBar}\n        />\n        <SetupGridDialog\n          open={this.state.setupGridOpen}\n          gridOptions={this.state.uiSettings}\n          onCancel={() => this.openSetupGrid(false)}\n          onApply={gridOptions => {\n            this.setUiSettings(gridOptions);\n            this.openSetupGrid(false);\n          }}\n        />\n        <VariablesEditorDialog\n          open={!!this.state.variablesEditedInstance}\n          variablesContainer={\n            this.state.variablesEditedInstance &&\n            this.state.variablesEditedInstance.getVariables()\n          }\n          onCancel={() => this.editInstanceVariables(null)}\n          onApply={() => this.editInstanceVariables(null)}\n          emptyExplanationMessage=\"Instance variables will override the default values of the variables of the object.\"\n          title=\"Instance Variables\"\n          onEditObjectVariables={() => {\n            if (!this.instancesSelection.hasSelectedInstances()) {\n              return;\n            }\n            const associatedObjectName = this.instancesSelection\n              .getSelectedInstances()[0]\n              .getObjectName();\n            const object = getObjectByName(\n              project,\n              layout,\n              associatedObjectName\n            );\n            if (object) {\n              this.editObjectVariables(object);\n              this.editInstanceVariables(null);\n            }\n          }}\n        />\n        <VariablesEditorDialog\n          open={!!this.state.variablesEditedObject}\n          variablesContainer={\n            this.state.variablesEditedObject &&\n            this.state.variablesEditedObject.getVariables()\n          }\n          onCancel={() => this.editObjectVariables(null)}\n          onApply={() => this.editObjectVariables(null)}\n          emptyExplanationMessage=\"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it.\"\n          title=\"Object Variables\"\n        />\n        <LayerRemoveDialog\n          open={!!this.state.layerRemoveDialogOpen}\n          layersContainer={layout}\n          layerRemoved={this.state.layerRemoved}\n          onClose={this.state.onCloseLayerRemoveDialog}\n        />\n        <ScenePropertiesDialog\n          open={!!this.state.scenePropertiesDialogOpen}\n          project={project}\n          layout={layout}\n          onClose={() => this.openSceneProperties(false)}\n          onApply={() => this.openSceneProperties(false)}\n          onEditVariables={() => this.editLayoutVariables(true)}\n          onOpenMoreSettings={this.props.onOpenMoreSettings}\n        />\n        <VariablesEditorDialog\n          open={!!this.state.layoutVariablesDialogOpen}\n          variablesContainer={layout.getVariables()}\n          onCancel={() => this.editLayoutVariables(false)}\n          onApply={() => this.editLayoutVariables(false)}\n          title=\"Scene variables\"\n          emptyExplanationMessage=\"Scene variables can be used to store any value or text during the game.\"\n          emptyExplanationSecondMessage=\"For example, you can have a variable called Score representing the current score of the player.\"\n        />\n        <ContextMenu\n          ref={contextMenu => (this.contextMenu = contextMenu)}\n          buildMenuTemplate={() => [\n            {\n              label: this.state.selectedObjectNames.length\n                ? 'Add an Instance of ' +\n                  shortenString(this.state.selectedObjectNames[0], 7)\n                : '',\n              click: () => this._onAddInstanceUnderCursor(),\n              visible: this.state.selectedObjectNames.length > 0,\n            },\n            {\n              label: this.state.selectedObjectNames.length\n                ? 'Edit Object ' +\n                  shortenString(this.state.selectedObjectNames[0], 14)\n                : '',\n              click: () =>\n                this.editObjectByName(this.state.selectedObjectNames[0]),\n              visible: this.state.selectedObjectNames.length > 0,\n            },\n            {\n              label: 'Scene properties',\n              click: () => this.openSceneProperties(true),\n            },\n            { type: 'separator' },\n            {\n              label: 'Copy',\n              click: () => this.copySelection(),\n              enabled: this.instancesSelection.hasSelectedInstances(),\n              accelerator: 'CmdOrCtrl+C',\n            },\n            {\n              label: 'Cut',\n              click: () => this.cutSelection(),\n              enabled: this.instancesSelection.hasSelectedInstances(),\n              accelerator: 'CmdOrCtrl+X',\n            },\n            {\n              label: 'Paste',\n              click: () => this.paste(),\n              enabled: Clipboard.has(INSTANCES_CLIPBOARD_KIND),\n              accelerator: 'CmdOrCtrl+V',\n            },\n            { type: 'separator' },\n            {\n              label: 'Undo',\n              click: this.undo,\n              enabled: canUndo(this.state.history),\n              accelerator: 'CmdOrCtrl+Z',\n            },\n            {\n              label: 'Redo',\n              click: this.redo,\n              enabled: canRedo(this.state.history),\n              accelerator: 'CmdOrCtrl+Shift+Z',\n            },\n            {\n              label: 'Delete',\n              click: () => this.deleteSelection(),\n              enabled: this.instancesSelection.hasSelectedInstances(),\n            },\n          ]}\n        />\n      </div>\n    );\n  }\n}\n","import RenderedInstance from './RenderedInstance';\nimport PIXI from 'pixi.js';\n\n/**\n * Create a renderer for an type of object displayed as an icon\n *\n * @extends RenderedInstance\n * @class RenderedIconInstance\n * @constructor\n */\nexport default function makeRenderer(iconPath) {\n  class RenderedIconInstance extends RenderedInstance {\n    constructor(\n      project,\n      layout,\n      instance,\n      associatedObject,\n      pixiContainer,\n      pixiResourcesLoader\n    ) {\n      super(\n        project,\n        layout,\n        instance,\n        associatedObject,\n        pixiContainer,\n        pixiResourcesLoader\n      );\n\n      this._pixiObject = new PIXI.Sprite(PIXI.Texture.fromImage(iconPath));\n      this._pixiContainer.addChild(this._pixiObject);\n    }\n\n    update() {\n      this._pixiObject.position.x = this._instance.getX();\n      this._pixiObject.position.y = this._instance.getY();\n      this._pixiObject.rotation = (this._instance.getAngle() * Math.PI) / 180.0;\n    }\n\n    static getThumbnail(project, resourcesLoader, object) {\n      return iconPath;\n    }\n  }\n\n  return RenderedIconInstance;\n}\n","// @flow\nimport slugs from 'slugs';\nimport PIXI from 'pixi.js';\nimport ResourcesLoader from '../ResourcesLoader';\nimport { loadFontFace } from '../Utils/FontFaceLoader';\nconst gd = global.gd;\n\nconst loadedFontFamilies = {};\nconst loadedTextures = {};\nconst invalidTexture = PIXI.Texture.fromImage('res/error48.png');\n\n/**\n * Expose functions to load PIXI textures or fonts, given the names of\n * resources and a gd.Project.\n *\n * This internally uses ResourcesLoader to get the URL of the resources.\n */\nexport default class PixiResourcesLoader {\n  static _initializeTexture(resource: gdResource, texture: any) {\n    if (resource.getKind() !== 'image') return;\n\n    const imageResource = gd.asImageResource(resource);\n    if (!imageResource.isSmooth()) {\n      texture.baseTexture.scaleMode = PIXI.SCALE_MODES.NEAREST;\n    }\n  }\n\n  /**\n   * (Re)load the PIXI texture represented by the given resources.\n   */\n  static loadTextures(\n    project: gdProject,\n    resourceNames: Array<string>,\n    onProgress: (number, number) => void,\n    onComplete: () => void\n  ) {\n    const resourcesManager = project.getResourcesManager();\n    const loader = PIXI.loader;\n    loader.reset();\n    loader.removeAllListeners();\n\n    const allResources = {};\n    resourceNames.forEach(resourceName => {\n      const resource = resourcesManager.getResource(resourceName);\n      const filename = ResourcesLoader.getResourceFullUrl(\n        project,\n        resourceName\n      );\n      loader.add(resourceName, filename);\n      allResources[resourceName] = resource;\n    });\n\n    const totalCount = resourceNames.length;\n    if (!totalCount) {\n      onComplete();\n      return;\n    }\n\n    let loadingCount = 0;\n    loader.once('complete', function(loader, loadedResources) {\n      //Store the loaded textures so that they are ready to use.\n      for (const resourceName in loadedResources) {\n        if (loadedResources.hasOwnProperty(resourceName)) {\n          const resource = resourcesManager.getResource(resourceName);\n          if (resource.getKind() !== 'image') continue;\n\n          loadedTextures[resourceName] = loadedResources[resourceName].texture;\n          PixiResourcesLoader._initializeTexture(\n            resource,\n            loadedTextures[resourceName]\n          );\n        }\n      }\n\n      onComplete();\n    });\n    loader.on('progress', function() {\n      loadingCount++;\n      onProgress(loadingCount, totalCount);\n    });\n\n    loader.load();\n  }\n\n  /**\n   * Return the PIXI texture represented by the given resource.\n   * If not loaded, it will load it.\n   * @returns The PIXI.Texture to be used. It can be loading, so you\n   * should listen to PIXI.Texture `update` event, and refresh your object\n   * if this event is triggered.\n   */\n  static getPIXITexture(project: gdProject, resourceName: string) {\n    if (loadedTextures[resourceName]) {\n      return loadedTextures[resourceName];\n    }\n\n    if (!project.getResourcesManager().hasResource(resourceName))\n      return invalidTexture;\n\n    const resource = project.getResourcesManager().getResource(resourceName);\n    if (resource.getKind() !== 'image') return invalidTexture;\n\n    loadedTextures[resourceName] = PIXI.Texture.fromImage(\n      ResourcesLoader.getResourceFullUrl(project, resourceName),\n      true /* Treats request as cross-origin */\n    );\n\n    PixiResourcesLoader._initializeTexture(\n      resource,\n      loadedTextures[resourceName]\n    );\n    return loadedTextures[resourceName];\n  }\n\n  /**\n   * Load the given font from its url/filename.\n   * @returns a Promise that resolves with the font-family to be used\n   * to render a text with the font.\n   */\n  static loadFontFamily(\n    project: gdProject,\n    resourceName: string\n  ): Promise<string> {\n    // Avoid reloading a font if it's already cached\n    if (loadedFontFamilies[resourceName]) {\n      return Promise.resolve(loadedFontFamilies[resourceName]);\n    }\n\n    const fontFamily = slugs(resourceName);\n    let fullFilename = null;\n    if (project.getResourcesManager().hasResource(resourceName)) {\n      const resource = project.getResourcesManager().getResource(resourceName);\n      if (resource.getKind() === 'font') {\n        fullFilename = ResourcesLoader.getResourceFullUrl(\n          project,\n          resourceName\n        );\n      }\n    } else {\n      // Compatibility with GD <= 5.0-beta56\n      // Assume resourceName is just the filename to the font\n      fullFilename = ResourcesLoader.getFullUrl(project, resourceName);\n      // end of compatibility code\n    }\n\n    if (!fullFilename) {\n      // If no resource is found/resource is not a font, default to Arial,\n      // as done by the game engine too.\n      return Promise.resolve('Arial');\n    }\n\n    return loadFontFace(fontFamily, `url(\"${fullFilename}\")`, {}).then(\n      loadedFace => {\n        loadedFontFamilies[resourceName] = fontFamily;\n\n        return fontFamily;\n      }\n    );\n  }\n\n  /**\n   * Get the font family name for the given font resource.\n   * The font won't be loaded.\n   * @returns The font-family to be used to render a text with the font.\n   */\n  static getFontFamily(project: gdProject, resourceName: string) {\n    if (loadedFontFamilies[resourceName]) {\n      return loadedFontFamilies[resourceName];\n    }\n\n    const fontFamily = slugs(resourceName);\n    return fontFamily;\n  }\n\n  static getInvalidPIXITexture() {\n    return invalidTexture;\n  }\n}\n","import PIXI from 'pixi.js';\n\nexport default class ViewPosition {\n  constructor({ width, height, options }) {\n    this.viewX = width / 2;\n    this.viewY = height / 2;\n    this.options = options;\n    this._pixiContainer = new PIXI.Container();\n    this.resize(width, height);\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  resize(width, height) {\n    this._width = width;\n    this._height = height;\n  }\n\n  getWidth() {\n    return this._width;\n  }\n\n  getHeight() {\n    return this._height;\n  }\n\n  /**\n   * Convert a point from the canvas coordinates (for example, the mouse position) to the\n   * \"world\" coordinates.\n   */\n  toSceneCoordinates = (x, y) => {\n    x -= this._width / 2;\n    y -= this._height / 2;\n    x /= Math.abs(this._pixiContainer.scale.x);\n    y /= Math.abs(this._pixiContainer.scale.y);\n\n    var viewRotation = 0;\n    var tmp = x;\n    x =\n      Math.cos((viewRotation / 180) * Math.PI) * x -\n      Math.sin((viewRotation / 180) * Math.PI) * y;\n    y =\n      Math.sin((viewRotation / 180) * Math.PI) * tmp +\n      Math.cos((viewRotation / 180) * Math.PI) * y;\n\n    return [x + this.viewX, y + this.viewY];\n  };\n\n  /**\n   * Convert a point from the \"world\" coordinates (for example, an object position) to the\n   * canvas coordinates.\n   */\n  toCanvasCoordinates = (x, y) => {\n    x -= this.viewX;\n    y -= this.viewY;\n\n    var viewRotation = -0;\n    var tmp = x;\n    x =\n      Math.cos((viewRotation / 180) * Math.PI) * x -\n      Math.sin((viewRotation / 180) * Math.PI) * y;\n    y =\n      Math.sin((viewRotation / 180) * Math.PI) * tmp +\n      Math.cos((viewRotation / 180) * Math.PI) * y;\n\n    x *= Math.abs(this._pixiContainer.scale.x);\n    y *= Math.abs(this._pixiContainer.scale.y);\n\n    return [x + this._width / 2, y + this._height / 2];\n  };\n\n  scrollBy(x, y) {\n    this.viewX += x;\n    this.viewY += y;\n  }\n\n  scrollTo(x, y) {\n    this.viewX = x;\n    this.viewY = y;\n  }\n\n  scrollToInstance(instance) {\n    this.viewX = instance.getX();\n    this.viewY = instance.getY();\n  }\n\n  getViewX() {\n    return this.viewX;\n  }\n\n  getViewY() {\n    return this.viewY;\n  }\n\n  getPixiContainer() {\n    return this._pixiContainer;\n  }\n\n  render() {\n    this._pixiContainer.position.x = -this.viewX * this.options.zoomFactor;\n    this._pixiContainer.position.y = -this.viewY * this.options.zoomFactor;\n    this._pixiContainer.position.x += this._width / 2;\n    this._pixiContainer.position.y += this._height / 2;\n    this._pixiContainer.scale.x = this.options.zoomFactor;\n    this._pixiContainer.scale.y = this.options.zoomFactor;\n  }\n}\n","// @flow\n\nexport const roundPosition = (\n  pos: number,\n  gridSize: number,\n  gridOffset: number\n) => {\n  if (gridSize <= 0) {\n    return Math.round(pos);\n  }\n  return Math.floor((pos - gridOffset) / gridSize) * gridSize + gridOffset;\n};\n","import { mapFor } from '../Utils/MapFor';\n\nexport default layersContainer =>\n  mapFor(0, layersContainer.getLayersCount(), i => {\n    return {\n      value: layersContainer.getLayerAt(i).getName(),\n      label: layersContainer.getLayerAt(i).getName() || 'Base layer',\n    };\n  });\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nimport Toggle from 'material-ui/Toggle';\nimport { Line } from '../../../../UI/Grid';\nimport { mapFor } from '../../../../Utils/MapFor';\nimport { getCurrentElements } from './SpriteObjectHelper';\n\ntype Props = {|\n  spriteObject: gdSpriteObject,\n\n  animationIndex: number,\n  directionIndex: number,\n  spriteIndex: number,\n\n  chooseAnimation: number => void,\n  chooseDirection: number => void,\n  chooseSprite: number => void,\n\n  sameForAllAnimations: boolean,\n  sameForAllSprites: boolean,\n\n  setSameForAllAnimations: boolean => void,\n  setSameForAllSprites: number => void,\n\n  setSameForAllAnimationsLabel: string,\n  setSameForAllSpritesLabel: string,\n|};\n\n/**\n * A component that displays selector to browse the animations/directions/sprite\n * of a Sprite object. Also have toggles so that the user can choose if the edited property\n * (typically, the points or the collision masks of the sprite) should be shared between\n * all sprites of an animation, or between all sprites of all animations of the object.\n */\nexport default class SpriteSelector extends React.Component<Props, void> {\n  render() {\n    const {\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex,\n      sameForAllAnimations,\n      sameForAllSprites,\n      chooseAnimation,\n      chooseDirection,\n      chooseSprite,\n      setSameForAllAnimations,\n      setSameForAllSprites,\n      setSameForAllAnimationsLabel,\n      setSameForAllSpritesLabel,\n    } = this.props;\n\n    const {\n      hasValidAnimation,\n      animation,\n      hasValidDirection,\n      direction,\n    } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    return (\n      <React.Fragment>\n        <Line>\n          <SelectField\n            floatingLabelText={<Trans>Animation</Trans>}\n            value={this.props.animationIndex}\n            onChange={(e, i, value) => chooseAnimation(value)}\n          >\n            {mapFor(0, spriteObject.getAnimationsCount(), i => {\n              const animation = spriteObject.getAnimation(i);\n              return (\n                <MenuItem\n                  key={i}\n                  value={i}\n                  primaryText={`Animation #${i} ${animation.getName()}`}\n                />\n              );\n            })}\n          </SelectField>\n          {hasValidAnimation && animation.getDirectionsCount() > 1 && (\n            <SelectField\n              floatingLabelText={<Trans>Direction</Trans>}\n              value={this.props.directionIndex}\n              onChange={(e, i, value) => chooseDirection(value)}\n            >\n              {mapFor(0, animation.getDirectionsCount(), i => {\n                return (\n                  <MenuItem value={i} key={i} primaryText={`Direction #${i}`} />\n                );\n              })}\n            </SelectField>\n          )}\n          {hasValidDirection && (\n            <SelectField\n              floatingLabelText={<Trans>Frame</Trans>}\n              value={this.props.spriteIndex}\n              onChange={(e, i, value) => chooseSprite(value)}\n            >\n              {mapFor(0, direction.getSpritesCount(), i => {\n                return (\n                  <MenuItem value={i} key={i} primaryText={`Frame #${i}`} />\n                );\n              })}\n            </SelectField>\n          )}\n        </Line>\n        <Toggle\n          label={setSameForAllAnimationsLabel}\n          labelPosition=\"right\"\n          toggled={sameForAllAnimations}\n          onToggle={(e, checked) => setSameForAllAnimations(checked)}\n        />\n        <Toggle\n          label={setSameForAllSpritesLabel}\n          labelPosition=\"right\"\n          toggled={sameForAllSprites}\n          onToggle={(e, checked) => setSameForAllSprites(checked)}\n        />\n      </React.Fragment>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport Snackbar from 'material-ui/Snackbar';\n\nexport default class InfoBar extends Component {\n  constructor() {\n    super();\n    this.state = {\n      dismissed: false,\n    };\n  }\n\n  handleGotIt = () => {\n    if (this.props.messageId) {\n      localStorage.setItem(\n        `gdevelop.hiddenMessages.${this.props.messageId}`,\n        true\n      );\n    }\n    this.setState({ dismissed: true });\n  };\n\n  componentWillReceiveProps(newProps) {\n    if (this.props.message !== newProps.message) {\n      this.setState({ dismissed: false });\n    }\n  }\n\n  render() {\n    const hidden =\n      this.props.messageId &&\n      localStorage.getItem(`gdevelop.hiddenMessages.${this.props.messageId}`);\n\n    return (\n      <Snackbar\n        open={this.props.show && !hidden && !this.state.dismissed}\n        message={this.props.message}\n        onRequestClose={() => this.setState({ dismissed: true })}\n        action={<Trans>Got it</Trans>}\n        onActionClick={this.handleGotIt}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport SceneEditor from '../../SceneEditor';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../../Utils/Serializer';\nimport BaseEditor from './BaseEditor';\nimport { type PreviewOptions } from '../../Export/PreviewLauncher.flow';\n\nexport default class SceneEditorContainer extends BaseEditor {\n  editor: ?SceneEditor;\n\n  shouldComponentUpdate(nextProps: *) {\n    // This optimization is a bit more cautious than the one is BaseEditor, to still allow\n    // children, and in particular SceneEditor and InstancesEditor, to be notified when isActive\n    // goes from true to false (in which case PIXI rendering is halted). If isActive was false\n    // and remains false, it's safe to stop update here (PIXI rendering is already halted).\n    if (!this.props.isActive && !nextProps.isActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  getSerializedElements() {\n    const layout = this.getLayout();\n    if (!layout) return {};\n\n    return {\n      ...BaseEditor.getLayoutSerializedElements(layout),\n      instances: serializeToJSObject(layout.getInitialInstances()),\n      uiSettings: this.editor ? this.editor.getUiSettings() : {},\n    };\n  }\n\n  getLayout(): ?gdLayout {\n    const { project, layoutName } = this.props;\n    if (!project || !project.hasLayoutNamed(layoutName)) return null;\n\n    return project.getLayout(layoutName);\n  }\n\n  saveUiSettings = () => {\n    const layout = this.getLayout();\n    const editor = this.editor;\n\n    if (editor && layout) {\n      unserializeFromJSObject(\n        layout.getAssociatedSettings(),\n        editor.getUiSettings()\n      );\n    }\n  };\n\n  render() {\n    const { project, layoutName, isActive } = this.props;\n    const layout = this.getLayout();\n    if (!layout) {\n      //TODO: Error component\n      return <div>No layout called {layoutName} found!</div>;\n    }\n\n    return (\n      <SceneEditor\n        {...this.props}\n        ref={editor => (this.editor = editor)}\n        project={project}\n        layout={layout}\n        initialInstances={layout.getInitialInstances()}\n        initialUiSettings={serializeToJSObject(layout.getAssociatedSettings())}\n        onPreview={(options: PreviewOptions) =>\n          this.props.onPreview(project, layout, options)\n        }\n        onOpenDebugger={this.props.onOpenDebugger}\n        isActive={isActive}\n      />\n    );\n  }\n}\n","// @flow\nimport React from 'react';\n\nexport const watchPromiseInState = (\n  component: React.Component<*, *>,\n  stateField: string,\n  fn: () => Promise<any>\n) => {\n  component.setState({\n    [stateField]: true,\n  });\n  return fn()\n    .then(value => {\n      component.setState({\n        [stateField]: false,\n      });\n      return value;\n    })\n    .catch(err => {\n      component.setState({\n        [stateField]: false,\n      });\n      throw err;\n    });\n};\n","// @flow\nimport axios from 'axios';\nimport { GDevelopUsageApi } from './ApiConfigs';\n\nexport type Usage = {\n  id: string,\n  userId: string,\n  type: string,\n  createdAt: number,\n};\nexport type Usages = Array<Usage>;\n\nexport type Subscription = {|\n  userId: string,\n  planId: string | null,\n  createdAt: number,\n  updatedAt: number,\n  stripeSubscriptionId?: string,\n  stripeCustomerId?: string,\n|};\n\nexport type Limit = {|\n  limitReached: boolean,\n  current: number,\n  max: number,\n|};\n\nexport type Limits = {\n  [string]: Limit,\n};\n\nexport type PlanDetails = {\n  planId: string | null,\n  name: string,\n  monthlyPriceInEuros: number,\n  smallDescription: string,\n  descriptionBullets: Array<string>,\n  extraDescription?: string,\n};\n\nexport const getSubscriptionPlans = (): Array<PlanDetails> => [\n  {\n    planId: 'gdevelop_pro',\n    name: 'GDevelop Pro',\n    monthlyPriceInEuros: 7,\n    smallDescription: 'Ideal for advanced game makers',\n    descriptionBullets: [\n      'Package your game for Android up to 70 times a day.',\n      'One-click packaging for Windows, macOS and Linux up to 70 times a day.',\n      'Use Live Preview over Wifi to quickly test your game on mobiles and tablets.',\n      'Use the Debugger to find and solve issues in your games.',\n      'Immerse your players by removing GDevelop logo when the game loads.',\n    ],\n    extraDescription:\n      \"You'll also have access to online packaging for iOS or other services when they are released.\",\n  },\n  {\n    planId: 'gdevelop_indie',\n    name: 'GDevelop Indie',\n    monthlyPriceInEuros: 2,\n    smallDescription: 'Ideal for beginners',\n    descriptionBullets: [\n      'Package your game for Android up to 10 times a day.',\n      'One-click packaging for Windows, macOS and Linux up to 10 times a day.',\n      'Use Live Preview over Wifi to quickly test your game on mobiles and tablets',\n      'Use the Debugger to find and solve issues in your games.',\n      'Immerse your players by removing GDevelop logo when the game loads',\n    ],\n    extraDescription:\n      \"You'll also have access to online packaging for iOS or other services when they are released.\",\n  },\n  {\n    planId: null,\n    name: 'No subscription',\n    monthlyPriceInEuros: 0,\n    smallDescription: '',\n    descriptionBullets: [\n      'You can use GDevelop for free! Online packaging for Android, Windows, macOS and Linux is limited to twice a day to avoid overloading the services.',\n    ],\n  },\n];\n\nexport const getUserUsages = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string\n): Promise<Usages> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopUsageApi.baseUrl}/usage`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data);\n};\n\nexport const getUserLimits = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string\n): Promise<Limits> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopUsageApi.baseUrl}/limits`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data.limits);\n};\n\nexport const getUserSubscription = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string\n): Promise<Subscription> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopUsageApi.baseUrl}/subscription`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data);\n};\n\nexport const changeUserSubscription = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string,\n  newSubscriptionDetails: { planId: string | null, stripeToken?: any }\n): Promise<Subscription> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.post(\n        `${GDevelopUsageApi.baseUrl}/subscription`,\n        newSubscriptionDetails,\n        {\n          params: {\n            userId,\n          },\n          headers: {\n            Authorization: authorizationHeader,\n          },\n        }\n      )\n    )\n    .then(response => response.data);\n};\n","// @flow\nimport * as React from 'react';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nexport default ({\n  children,\n  isLoading,\n}: {\n  children: React.Node,\n  isLoading: ?boolean,\n}) => (\n  <div style={{ display: 'flex', alignItems: 'center' }}>\n    {isLoading && <CircularProgress size={20} style={{ marginRight: 5 }} />}\n    {children}\n  </div>\n);\n","// @flow\nimport { type I18n } from '@lingui/core';\n\ntype TranslationFunction = (string => string) | null;\ntype NotNullTranslationFunction = string => string;\n\n/**\n * Given the i18n object, return the function that can be used\n * to translate strings. Useful for wiring i18n to extensions\n * and libGD.js, where translations is done with a simple string\n * to string function.\n */\nexport const getTranslationFunction = (i18n: ?I18n): TranslationFunction => {\n  const i18nModule = i18n; // Make flow happy, ensure i18nModule is const.\n  if (i18nModule) {\n    return (str: string) => i18nModule._(str);\n  }\n\n  return null;\n};\n\n/**\n * Given the i18n object, return the function that can be used\n * to translate strings. Useful for wiring i18n to extensions\n * and libGD.js, where translations is done with a simple string\n * to string function.\n */\nexport const getNotNullTranslationFunction = (\n  i18n: ?I18n\n): NotNullTranslationFunction => {\n  const i18nModule = i18n; // Make flow happy, ensure i18nModule is const.\n  if (i18nModule) {\n    return (str: string) => i18nModule._(str);\n  }\n\n  return (str: string) => str;\n};\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Spacer, Line } from '../../UI/Grid';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport difference_in_seconds from 'date-fns/difference_in_seconds';\nimport LinearProgress from 'material-ui/LinearProgress';\n\nconst buildTypesConfig = {\n  'cordova-build': {\n    estimatedTimeInSeconds: () => 180,\n    completeDescription:\n      'You can download it on your Android phone and install it.',\n  },\n  'electron-build': {\n    estimatedTimeInSeconds: (build: Build) =>\n      150 * (build.targets ? build.targets.length : 0),\n    completeDescription: '',\n  },\n};\n\ntype Props = {|\n  build: Build,\n  onDownload: (key: string) => void,\n|};\n\n/**\n * Show an estimate of the progress of a build or the button\n * to download the artifacts.\n */\nexport default ({ build, onDownload }: Props) => {\n  const buttons = [\n    {\n      displayName: 'Download',\n      key: 'apkKey',\n    },\n    {\n      displayName: 'Windows (zip)',\n      key: 'windowsZipKey',\n    },\n    {\n      displayName: 'Windows (exe)',\n      key: 'windowsExeKey',\n    },\n    {\n      displayName: 'macOS (zip)',\n      key: 'macosZipKey',\n    },\n    {\n      displayName: 'Linux (AppImage)',\n      key: 'linuxAppImageKey',\n    },\n  ];\n\n  const config = buildTypesConfig[build.type];\n  const secondsSinceLastUpdate = Math.abs(\n    difference_in_seconds(build.updatedAt, Date.now())\n  );\n  const estimatedRemainingTime = Math.max(\n    config ? config.estimatedTimeInSeconds(build) - secondsSinceLastUpdate : 0,\n    0\n  );\n\n  return build.status === 'error' ? (\n    <React.Fragment>\n      <Line alignItems=\"center\">\n        <p>\n          <Trans>Something wrong happened :(</Trans>\n        </p>\n        <Spacer />\n        <RaisedButton\n          label={<Trans>See logs</Trans>}\n          onClick={() => onDownload('logsKey')}\n        />\n      </Line>\n      <Line alignItems=\"center\">\n        <EmptyMessage>\n          <Trans>\n            Check the logs to see if there is an explanation about what went\n            wrong, or try again later.\n          </Trans>\n        </EmptyMessage>\n      </Line>\n    </React.Fragment>\n  ) : build.status === 'pending' ? (\n    <Line alignItems=\"center\" expand>\n      <LinearProgress\n        style={{ flex: 1 }}\n        max={config.estimatedTimeInSeconds(build)}\n        value={config.estimatedTimeInSeconds(build) - estimatedRemainingTime}\n        mode={estimatedRemainingTime > 0 ? 'determinate' : 'indeterminate'}\n      />\n      <Spacer />\n      {estimatedRemainingTime > 0 ? (\n        <p>\n          <Trans>~{Math.round(estimatedRemainingTime / 60)} minutes.</Trans>\n        </p>\n      ) : (\n        <p>\n          <Trans>Should finish soon.</Trans>\n        </p>\n      )}\n    </Line>\n  ) : build.status === 'complete' ? (\n    <React.Fragment>\n      <Line expand>\n        {buttons\n          .filter(button => !!build[button.key])\n          .map((button, index) => (\n            <React.Fragment key={button.key}>\n              {index !== 0 && <Spacer />}\n              <RaisedButton\n                label={button.displayName}\n                primary\n                onClick={() => onDownload(button.key)}\n              />\n            </React.Fragment>\n          ))}\n        <FlatButton\n          label={<Trans>See logs</Trans>}\n          onClick={() => onDownload('logsKey')}\n        />\n      </Line>\n      <Line expand>{config && config.completeDescription}</Line>\n    </React.Fragment>\n  ) : (\n    <Line>\n      <Trans>Unknown status</Trans>\n    </Line>\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Column, Line } from '../UI/Grid';\nimport { List, ListItem } from 'material-ui/List';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport ExamplesSearchbar from './ExamplesSearchbar';\nimport ExamplesInformation from './ExamplesInformation';\nimport Window from '../Utils/Window';\nimport { fuzzyOrEmptyFilter } from '../Utils/FuzzyOrEmptyFilter';\nimport optionalRequire from '../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\ntype ExtensionUsage = Array<{\n  fullName: string,\n  name: string,\n}>;\n\ntype ExampleInformation = {|\n  description: string,\n  usedExtensions: ExtensionUsage,\n|};\n\ntype SearchEnhancedExampleInformation = {|\n  ...ExampleInformation,\n  searchableDescription: string,\n|};\n\ntype Props = {|\n  exampleNames: Array<string>,\n  onCreateFromExample: string => void,\n|};\n\ntype State = {|\n  searchText: string,\n  chosenExtensionName: string,\n|};\n\nconst searchableExamplesInformation: {\n  [string]: SearchEnhancedExampleInformation,\n} = {};\nObject.keys(ExamplesInformation).forEach(exampleName => {\n  const exampleInformation = ExamplesInformation[exampleName];\n  searchableExamplesInformation[exampleName] = {\n    ...exampleInformation,\n    searchableDescription: exampleInformation.description\n      .replace(/ /g, '')\n      .toLowerCase(),\n  };\n});\n\nconst formatExampleName = (name: string) => {\n  if (!name.length) return '';\n\n  return name[0].toUpperCase() + name.substr(1).replace(/-/g, ' ');\n};\n\nconst getExampleInformation = (\n  name: string\n): SearchEnhancedExampleInformation => {\n  return (\n    searchableExamplesInformation[name] || {\n      description: '',\n      searchableDescription: '',\n      usedExtensions: [],\n    }\n  );\n};\n\nconst isUsingExtension = (\n  extensionUsage: ?ExtensionUsage,\n  extensionName: string\n) => {\n  return (\n    !extensionName ||\n    (extensionUsage &&\n      !!extensionUsage.find(usage => usage.name === extensionName))\n  );\n};\n\nexport default class LocalExamples extends React.Component<Props, State> {\n  state = {\n    searchText: '',\n    chosenExtensionName: '',\n  };\n\n  changeSearchText = (searchText: string) => {\n    this.setState({\n      searchText,\n      chosenExtensionName: '',\n    });\n  };\n\n  chooseExtensionName = (chosenExtensionName: string) => {\n    this.setState({\n      searchText: '',\n      chosenExtensionName,\n    });\n  };\n\n  _submitExample() {\n    const body = `Hi!\n  \n  I'd like to submit a new example to be added to GDevelop.\n  Here is the link to download it: **INSERT the link to your game here, or add it as an attachment**.\n  \n  I confirm that any assets can be used freely by anybody, including for commercial usage.\n  `;\n    Window.openExternalURL(\n      `https://github.com/4ian/GDevelop/issues/new?body=${encodeURIComponent(\n        body\n      )}&title=New%20example`\n    );\n  }\n\n  render() {\n    const { searchText, chosenExtensionName } = this.state;\n    const lowercaseSearchText = searchText.toLowerCase();\n\n    return (\n      <Column noMargin>\n        <Line noMargin>\n          <Column expand>\n            <ExamplesSearchbar\n              value={searchText}\n              onChange={this.changeSearchText}\n              chosenExtensionName={chosenExtensionName}\n              onExtensionNameChosen={this.chooseExtensionName}\n            />\n          </Column>\n        </Line>\n        <Line noMargin>\n          <Column expand noMargin>\n            <List>\n              {this.props.exampleNames &&\n                this.props.exampleNames.map(exampleName => {\n                  const exampleFullName = formatExampleName(exampleName);\n                  const exampleInformation = getExampleInformation(exampleName);\n                  if (\n                    (searchText &&\n                      (!fuzzyOrEmptyFilter(searchText, exampleFullName) &&\n                        exampleInformation.searchableDescription.indexOf(\n                          lowercaseSearchText\n                        ) === -1)) ||\n                    !isUsingExtension(\n                      exampleInformation.usedExtensions,\n                      chosenExtensionName\n                    )\n                  ) {\n                    return null;\n                  }\n\n                  return (\n                    <ListItem\n                      key={exampleName}\n                      primaryText={exampleFullName}\n                      secondaryText={exampleInformation.description}\n                      secondaryTextLines={2}\n                      onClick={() =>\n                        this.props.onCreateFromExample(exampleName)\n                      }\n                    />\n                  );\n                })}\n              {!this.props.exampleNames && <PlaceholderLoader />}\n            </List>\n            {!!electron && (\n              <Column expand>\n                <p>\n                  <Trans>Want to contribute to the examples?</Trans>\n                </p>\n                <Line alignItems=\"center\" justifyContent=\"center\">\n                  <RaisedButton\n                    label={<Trans>Submit your example</Trans>}\n                    onClick={this._submitExample}\n                  />\n                </Line>\n              </Column>\n            )}\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props}>\n    <path d=\"M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M18,5H15.5A3.5,3.5 0 0,0 12,8.5V11H10V14H12V21H15V14H18V11H15V9A1,1 0 0,1 16,8H18V5Z\" />\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props}>\n    <path d=\"M20.18,21.55H16.94L17.17,18.82H15.58L15.35,21.55H8.65L8.42,18.82H6.83L7.06,21.55H3.82L2,9.73L6.55,2.45H17.45L22,9.73L20.18,21.55M16.55,6.09H13.62L13.82,7.45H10.18L10.38,6.09H7.45L5.64,9.73L6.55,17H17.45L18.36,9.73L16.55,6.09M14.95,14.59C14.7,14.59 14.5,13.83 14.5,12.9C14.5,11.96 14.7,11.2 14.95,11.2C15.21,11.2 15.41,11.96 15.41,12.9C15.41,13.83 15.21,14.59 14.95,14.59M9.22,14.73C8.96,14.73 8.76,13.97 8.76,13.04C8.76,12.1 8.96,11.35 9.22,11.35C9.47,11.35 9.67,12.1 9.67,13.04C9.67,13.97 9.47,14.73 9.22,14.73Z\" />\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props}>\n    <path d=\"M12,20L15.46,14H15.45C15.79,13.4 16,12.73 16,12C16,10.8 15.46,9.73 14.62,9H19.41C19.79,9.93 20,10.94 20,12A8,8 0 0,1 12,20M4,12C4,10.54 4.39,9.18 5.07,8L8.54,14H8.55C9.24,15.19 10.5,16 12,16C12.45,16 12.88,15.91 13.29,15.77L10.89,19.91C7,19.37 4,16.04 4,12M15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9A3,3 0 0,1 15,12M12,4C14.96,4 17.54,5.61 18.92,8H12C10.06,8 8.45,9.38 8.08,11.21L5.7,7.08C7.16,5.21 9.44,4 12,4M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\" />\n  </SvgIcon>\n);\n","// @flow\n// Note: this file does not use export/imports and use Flow comments to allow its usage from Node.js\n\nconst some = require('lodash/some');\n/*flow-include \nexport type TranslationFunction = (string) => string;\n\nexport type JsExtensionModule = {\n  createExtension(_: TranslationFunction, gd: any): gdPlatformExtension,\n  runExtensionSanityTests(gd: any, extension: gdPlatformExtension): Array<string>,\n};\n\nexport type ExtensionLoadingResult = {\n  error: boolean,\n  message: string,\n  dangerous?: boolean,\n  rawError?: any,\n};\n\nexport interface JsExtensionsLoader {\n  loadAllExtensions(_: TranslationFunction): Promise<\n    Array<{ extensionModulePath: string, result: ExtensionLoadingResult }>\n  >,\n}\n*/\n\n/**\n * Run extensions tests and check for any non-empty results.\n */\nconst runExtensionSanityTests = (\n  gd /*: any */,\n  extension /*: gdPlatformExtension*/,\n  jsExtensionModule /*: JsExtensionModule*/\n) /*: ExtensionLoadingResult*/ => {\n  if (!jsExtensionModule.runExtensionSanityTests) {\n    return {\n      error: true,\n      message:\n        'Missing runExtensionSanityTests in the extension module exports',\n    };\n  }\n\n  const testResults = jsExtensionModule.runExtensionSanityTests(gd, extension);\n  if (some(testResults)) {\n    return {\n      error: true,\n      message: 'One or more tests are failing for the extension (see rawError)',\n      rawError: testResults,\n    };\n  }\n\n  return {\n    error: false,\n    message: 'Tests passed successfully',\n  };\n};\n\n/**\n * Load an extension from the specified JavaScript module, which is supposed\n * to contain a \"createExtension\" function returning a gd.PlatformExtension.\n */\nconst loadExtension = (\n  _ /*: TranslationFunction */,\n  gd /*: any */,\n  platform /*: gdPlatform*/,\n  jsExtensionModule /*: JsExtensionModule*/\n) /*: ExtensionLoadingResult*/ => {\n  if (!jsExtensionModule.createExtension) {\n    return {\n      message:\n        'Extension module found, but no createExtension method is exported',\n      error: true,\n    };\n  }\n\n  let extension = null;\n  try {\n    extension = jsExtensionModule.createExtension(_, gd);\n    if (!extension) {\n      return {\n        message: `createExtension did not return any extension. Did you forget to return the extension created?`,\n        error: true,\n      };\n    }\n  } catch (ex) {\n    return {\n      message: `🚨 Exception caught while running createExtension. 💣 Please fix this error as this will make GDevelop crash at some point.`,\n      error: true,\n      dangerous: true,\n      rawError: ex,\n    };\n  }\n\n  try {\n    const testsResult = runExtensionSanityTests(\n      gd,\n      extension,\n      jsExtensionModule\n    );\n    if (testsResult.error) {\n      extension.delete();\n      return testsResult;\n    }\n  } catch (ex) {\n    return {\n      message: `🚨 Exception caught while running runExtensionSanityTests. 💣 Please fix this error as this will make GDevelop crash at some point.`,\n      error: true,\n      dangerous: true,\n      rawError: ex,\n    };\n  }\n\n  platform.addNewExtension(extension);\n  extension.delete(); // Release the extension as it was copied inside gd.JsPlatform\n\n  return {\n    message: '✅ Successfully loaded the extension.',\n    error: false,\n  };\n};\n\nmodule.exports = {\n  runExtensionSanityTests,\n  loadExtension,\n};\n","// @flow\nimport * as React from 'react';\nimport { ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\nimport { I18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\ntype Props = {|\n  onPlay: () => void,\n  canPlay: boolean,\n  onPause: () => void,\n  canPause: boolean,\n  onOpenProfiler: () => void,\n|};\n\nexport class Toolbar extends React.PureComponent<Props> {\n  render() {\n    const { onPlay, onPause, canPlay, canPause, onOpenProfiler } = this.props;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <ToolbarGroup lastChild>\n            <ToolbarIcon\n              onClick={onPlay}\n              src=\"res/ribbon_default/preview32.png\"\n              disabled={!canPlay}\n              tooltip={i18n._(t`Play the game`)}\n            />\n            <ToolbarIcon\n              onClick={onPause}\n              src=\"res/ribbon_default/pause32.png\"\n              disabled={!canPause}\n              tooltip={i18n._(t`Pause the game`)}\n            />\n            <ToolbarSeparator />\n            <ToolbarIcon\n              onClick={onOpenProfiler}\n              src=\"res/ribbon_default/profiler32.png\"\n              tooltip={i18n._(t`Open the performance profiler`)}\n            />\n          </ToolbarGroup>\n        )}\n      </I18n>\n    );\n  }\n}\n\nexport default Toolbar;\n","// @flow\nimport * as React from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport get from 'lodash/get';\nimport {\n  type InspectorDescription,\n  type InspectorDescriptionsGetter,\n  type GameData,\n} from './GDJSInspectorDescriptions';\n\ntype Props = {|\n  gameData: GameData,\n  getInspectorDescriptions: InspectorDescriptionsGetter,\n  onChooseInspector: (\n    InspectorDescription,\n    fullInspectorPath: Array<string>\n  ) => void,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    display: 'flex',\n  },\n  list: {\n    overflowY: 'scroll',\n    flex: 1,\n  },\n};\n\n/**\n * Generate a visual list of inspectors, using gameData and getInspectorDescriptions\n */\nexport default class InspectorsList extends React.Component<Props, void> {\n  _renderInspectorList(\n    gameData: GameData,\n    getInspectorDescriptions: InspectorDescriptionsGetter,\n    path: Array<string>\n  ): Array<React.Node> {\n    return getInspectorDescriptions(gameData).map(inspectorDescription => {\n      if (!inspectorDescription) return null;\n      const fullInspectorPath = path.concat(inspectorDescription.key);\n\n      const getSubInspectors = inspectorDescription.getSubInspectors;\n      const nestedItems = getSubInspectors\n        ? this._renderInspectorList(\n            get(gameData, inspectorDescription.key, null),\n            getSubInspectors,\n            fullInspectorPath\n          )\n        : undefined;\n\n      return (\n        <ListItem\n          key={fullInspectorPath.join('.')}\n          primaryText={inspectorDescription.label}\n          initiallyOpen={!!inspectorDescription.initiallyOpen}\n          onClick={() =>\n            this.props.onChooseInspector(\n              inspectorDescription,\n              fullInspectorPath\n            )\n          }\n          nestedItems={nestedItems}\n          primaryTogglesNestedList\n        />\n      );\n    });\n  }\n\n  render() {\n    return this.props.gameData ? (\n      <List style={styles.list}>\n        {this._renderInspectorList(\n          this.props.gameData,\n          this.props.getInspectorDescriptions,\n          []\n        )}\n      </List>\n    ) : null;\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ReactJsonView from 'react-json-view';\nimport {\n  type GameData,\n  type EditFunction,\n  type CallFunction,\n} from '../GDJSInspectorDescriptions';\nimport mapValues from 'lodash/mapValues';\n\ntype Props = {|\n  variablesContainer: GameData,\n  onCall: CallFunction,\n  onEdit: EditFunction,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n};\n\nconst transformVariable = variable => {\n  if (!variable) return null;\n\n  if (!variable._isStructure) {\n    return variable._stringDirty ? variable._value : variable._str;\n  } else {\n    if (!variable._children) return null;\n\n    return mapValues(variable._children, transformVariable);\n  }\n};\n\nconst transform = variablesContainer => {\n  if (\n    !variablesContainer ||\n    !variablesContainer._variables ||\n    !variablesContainer._variables.items\n  )\n    return null;\n\n  return mapValues(variablesContainer._variables.items, transformVariable);\n};\n\nconst handleEdit = (edit, { onCall, onEdit }: Props) => {\n  // Reconstruct the path to the variable to edit\n  const path = ['_variables', 'items'];\n  edit.namespace.forEach(variableName => {\n    path.push(variableName);\n    path.push('_children');\n  });\n  path.push(edit.name);\n\n  // Guess the type of the new value (number or string)\n  if (parseFloat(edit.new_value).toString() === edit.new_value) {\n    path.push('setNumber');\n    onCall(path, [parseFloat(edit.new_value)]);\n  } else {\n    path.push('setString');\n    onCall(path, ['' + edit.new_value]);\n  }\n\n  return true;\n};\n\nexport default (props: Props) => (\n  <div style={styles.container}>\n    <ReactJsonView\n      collapsed={false}\n      name={false}\n      src={\n        props.variablesContainer ? transform(props.variablesContainer) : null\n      }\n      enableClipboard={false}\n      displayDataTypes={false}\n      displayObjectSize={false}\n      onEdit={edit => handleEdit(edit, props)}\n      groupArraysAfterLength={50}\n      theme=\"monokai\"\n    />\n  </div>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ReactJsonView from 'react-json-view';\nimport {\n  type GameData,\n  type EditFunction,\n  type CallFunction,\n} from '../GDJSInspectorDescriptions';\nimport VariablesContainerInspector from './VariablesContainerInspector';\n\ntype Props = {|\n  runtimeObject: GameData,\n  onCall: CallFunction,\n  onEdit: EditFunction,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n};\n\nconst transform = runtimeObject => {\n  if (!runtimeObject) return null;\n  return {\n    'X position': runtimeObject.x,\n    'Y position': runtimeObject.y,\n    Angle: runtimeObject.angle,\n    Layer: runtimeObject.layer,\n    'Z order': runtimeObject.zOrder,\n    'Is hidden?': runtimeObject.hidden,\n  };\n};\n\nconst handleEdit = (edit, { onCall, onEdit }: Props) => {\n  if (edit.name === 'X position') {\n    onCall(['setX'], [parseFloat(edit.new_value)]);\n  } else if (edit.name === 'Y position') {\n    onCall(['setY'], [parseFloat(edit.new_value)]);\n  } else if (edit.name === 'Angle') {\n    onCall(['setAngle'], [parseFloat(edit.new_value)]);\n  } else if (edit.name === 'Layer') {\n    onCall(['setLayer'], [edit.new_value]);\n  } else if (edit.name === 'Z order') {\n    onCall(['setZOrder'], [parseFloat(edit.new_value)]);\n  } else if (edit.name === 'Is hidden?') {\n    onCall(['hide'], [!!edit.new_value]);\n  } else return false;\n\n  return true;\n};\n\nexport default (props: Props) => (\n  <div style={styles.container}>\n    <p>\n      <Trans>General:</Trans>\n    </p>\n    <ReactJsonView\n      collapsed={false}\n      name={false}\n      src={transform(props.runtimeObject)}\n      enableClipboard={false}\n      displayDataTypes={false}\n      displayObjectSize={false}\n      onEdit={edit => handleEdit(edit, props)}\n      groupArraysAfterLength={50}\n      theme=\"monokai\"\n    />\n    <p>\n      <Trans>Instance variables:</Trans>\n    </p>\n    <VariablesContainerInspector\n      variablesContainer={\n        props.runtimeObject ? props.runtimeObject._variables : null\n      }\n      // TODO: onEdit and onCall could benefit from a \"forward\" utility function\n      // (can also be applied in DebuggerContent.js)\n      onEdit={(path, newValue) =>\n        props.onEdit(['_variables'].concat(path), newValue)\n      }\n      onCall={(path, args) => props.onCall(['_variables'].concat(path), args)}\n    />\n  </div>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ReactJsonView from 'react-json-view';\nimport {\n  type GameData,\n  type EditFunction,\n  type CallFunction,\n} from '../GDJSInspectorDescriptions';\nimport { Line } from '../../UI/Grid';\nimport mapValues from 'lodash/mapValues';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { defaultAutocompleteProps } from '../../UI/AutocompleteProps';\n\ntype Props = {|\n  runtimeScene: GameData,\n  onCall: CallFunction,\n  onEdit: EditFunction,\n|};\n\ntype State = {|\n  newObjectName: string,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n};\n\nconst transformLayer = layer => {\n  if (!layer) return null;\n  return {\n    'Camera rotation (in deg)': layer._cameraRotation,\n    'Camera zoom': layer._zoomFactor,\n    'Layer is hidden': !!layer._hidden,\n    'Camera X position': layer._cameraX,\n    'Camera Y position': layer._cameraY,\n    'Time scale': layer._timeScale,\n  };\n};\n\nconst transform = runtimeScene => {\n  if (!runtimeScene) return null;\n\n  return {\n    'Time scale': runtimeScene._timeManager\n      ? runtimeScene._timeManager._timeScale\n      : null,\n    Layers:\n      runtimeScene._layers && runtimeScene._layers.items\n        ? mapValues(runtimeScene._layers.items, transformLayer)\n        : null,\n  };\n};\n\nconst handleEdit = (edit, { onCall, onEdit }: Props) => {\n  if (edit.namespace.length === 0 && edit.name === 'Time scale') {\n    onCall(['_timeManager', 'setTimeScale'], [parseFloat(edit.new_value)]);\n  } else if (edit.namespace.length >= 2) {\n    if (edit.namespace[0] === 'Layers') {\n      if (edit.name === 'Camera rotation (in deg)') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setCameraRotation'],\n          [parseFloat(edit.new_value)]\n        );\n      } else if (edit.name === 'Camera zoom') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setCameraZoom'],\n          [parseFloat(edit.new_value)]\n        );\n      } else if (edit.name === 'Layer is hidden') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'show'],\n          [!edit.new_value]\n        );\n      } else if (edit.name === 'Camera X position') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setCameraX'],\n          [parseFloat(edit.new_value)]\n        );\n      } else if (edit.name === 'Camera Y position') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setCameraY'],\n          [parseFloat(edit.new_value)]\n        );\n      } else if (edit.name === 'Time scale') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setTimeScale'],\n          [parseFloat(edit.new_value)]\n        );\n      }\n    }\n  } else return false;\n\n  return true;\n};\n\nexport default class RuntimeSceneInspector extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    newObjectName: '',\n  };\n\n  render() {\n    const { runtimeScene, onCall } = this.props;\n    if (!runtimeScene) return null;\n\n    return (\n      <div style={styles.container}>\n        <p>\n          <Trans>Layers:</Trans>\n        </p>\n        <ReactJsonView\n          collapsed={false}\n          name={false}\n          src={transform(runtimeScene)}\n          enableClipboard={false}\n          displayDataTypes={false}\n          displayObjectSize={false}\n          onEdit={edit => handleEdit(edit, this.props)}\n          groupArraysAfterLength={50}\n          theme=\"monokai\"\n        />\n        <p>\n          <Trans>\n            Create a new instance on the scene (will be at position 0;0):\n          </Trans>\n        </p>\n        {runtimeScene._objects && runtimeScene._objects.items && (\n          <Line noMargin alignItems=\"baseline\">\n            <AutoComplete\n              {...defaultAutocompleteProps}\n              hintText={<Trans>Enter the name of the object</Trans>}\n              searchText={this.state.newObjectName}\n              onUpdateInput={value => {\n                this.setState({\n                  newObjectName: value,\n                });\n              }}\n              onNewRequest={data => {\n                // Note that data may be a string or a {text, value} object.\n                if (typeof data === 'string') {\n                  this.setState({\n                    newObjectName: data,\n                  });\n                } else if (typeof data.value === 'string') {\n                  this.setState({\n                    newObjectName: data.value,\n                  });\n                }\n              }}\n              dataSource={Object.keys(runtimeScene._objects.items).map(\n                objectName => ({\n                  text: objectName,\n                  value: objectName,\n                })\n              )}\n            />\n            <RaisedButton\n              label={<Trans>Create</Trans>}\n              primary\n              onClick={() =>\n                onCall(['createObject'], [this.state.newObjectName])\n              }\n            />\n          </Line>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport RuntimeObjectInspector from './Inspectors/RuntimeObjectInspector';\nimport VariablesContainerInspector from './Inspectors/VariablesContainerInspector';\nimport RuntimeSceneInspector from './Inspectors/RuntimeSceneInspector';\n\nexport type GameData = any;\nexport type EditFunction = (path: Array<string>, newValue: any) => boolean;\nexport type CallFunction = (path: Array<string>, args: Array<any>) => boolean;\n\nexport type InspectorDescriptionsGetter = (\n  gameData: GameData\n) => Array<InspectorDescription>; //eslint-disable-line\n\nexport type InspectorDescription = {|\n  label: string,\n  key: string | Array<string>,\n  renderInspector: (\n    gameData: GameData,\n    {\n      onCall: CallFunction,\n      onEdit: EditFunction,\n    }\n  ) => React.Node,\n  getSubInspectors?: InspectorDescriptionsGetter,\n  initiallyOpen?: boolean,\n|};\n\n/**\n * Returns the list of inspectors, given the data coming from a GDJS RuntimeGame.\n * @param {*} gdjsRuntimeGame\n */\nexport const getInspectorDescriptions = (\n  gdjsRuntimeGame: GameData\n): Array<InspectorDescription> => {\n  return [\n    {\n      label: 'Global variables',\n      key: '_variables',\n      renderInspector: (gameData, { onCall, onEdit }) => (\n        <VariablesContainerInspector\n          variablesContainer={gameData}\n          onCall={onCall}\n          onEdit={onEdit}\n        />\n      ),\n    },\n    {\n      label: 'Scenes',\n      key: ['_sceneStack', '_stack'],\n      renderInspector: () => null,\n      initiallyOpen: true,\n      getSubInspectors: gdjsStack => {\n        if (!gdjsStack) return [];\n\n        return gdjsStack.map((runtimeScene, index) => ({\n          label: runtimeScene._name,\n          key: index,\n          renderInspector: (gameData, { onCall, onEdit }) => (\n            <RuntimeSceneInspector\n              runtimeScene={gameData}\n              onCall={onCall}\n              onEdit={onEdit}\n            />\n          ),\n          initiallyOpen: true,\n          getSubInspectors: runtimeScene => [\n            {\n              label: 'Scene variables',\n              key: `_variables`,\n              renderInspector: (gameData, { onCall, onEdit }) => (\n                <VariablesContainerInspector\n                  variablesContainer={gameData}\n                  onCall={onCall}\n                  onEdit={onEdit}\n                />\n              ),\n            },\n            {\n              label: 'Instances',\n              key: `_instances`,\n              renderInspector: () => null,\n              initiallyOpen: true,\n              getSubInspectors: instances => {\n                if (!instances || !instances.items) return [];\n\n                return Object.keys(instances.items).map(objectName => {\n                  if (\n                    !instances.items[objectName] ||\n                    typeof instances.items[objectName].length === undefined\n                  )\n                    return null;\n\n                  return {\n                    label: `${objectName} (${\n                      instances.items[objectName].length\n                    })`,\n                    key: ['items', objectName],\n                    renderInspector: () => null,\n                    getSubInspectors: instancesList =>\n                      instancesList\n                        ? instancesList\n                            .filter(runtimeObject => !!runtimeObject)\n                            .map((runtimeObject, index) => {\n                              return {\n                                label: `#${runtimeObject.id}`,\n                                key: index,\n                                renderInspector: (\n                                  gameData,\n                                  { onCall, onEdit }\n                                ) => (\n                                  <RuntimeObjectInspector\n                                    runtimeObject={gameData}\n                                    onCall={onCall}\n                                    onEdit={onEdit}\n                                  />\n                                ),\n                              };\n                            })\n                        : [],\n                  };\n                });\n              },\n            },\n          ],\n        }));\n      },\n    },\n  ];\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ReactJsonView from 'react-json-view';\nimport { type GameData } from '../GDJSInspectorDescriptions';\nimport EmptyMessage from '../../UI/EmptyMessage';\n\ntype Props = {|\n  gameData: GameData,\n  onEdit: (path: Array<string>, newValue: any) => boolean,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n};\n\n/**\n * A very simple inspector that display the raw information given by the gameData\n * object.\n */\nexport default ({ gameData, onEdit }: Props) => (\n  <div style={styles.container}>\n    <EmptyMessage>\n      <Trans>\n        You are in raw mode. You can edit the fields, but be aware that this can\n        lead to unexpected results or even crash the debugged game!\n      </Trans>\n    </EmptyMessage>\n    <ReactJsonView\n      collapsed={1}\n      name={false}\n      src={gameData}\n      onEdit={edit => {\n        return onEdit(edit.namespace.concat(edit.name), edit.new_value);\n      }}\n      groupArraysAfterLength={50}\n      theme=\"monokai\"\n    />\n  </div>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { AutoSizer, Table, Column } from 'react-virtualized';\nimport ThemeConsumer from '../../UI/Theme/ThemeConsumer';\nimport flatMap from 'lodash/flatMap';\nimport { type ProfilerMeasuresSection } from '..';\nimport IconButton from 'material-ui/IconButton';\nimport ExpandMore from 'material-ui/svg-icons/navigation/expand-more';\nimport ChevronRight from 'material-ui/svg-icons/navigation/chevron-right';\n\nconst styles = {\n  indent: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n};\n\ntype Props = {|\n  profilerMeasures: ?ProfilerMeasuresSection,\n|};\n\ntype ProfilerRowData = {|\n  name: string,\n  time: string,\n  parentPercent: string,\n  totalPercent: string,\n  depth: number,\n  hasSubsections: boolean,\n  path: string,\n  isCollapsed: boolean,\n|};\n\ntype State = {|\n  collapsedPaths: { [string]: boolean },\n|};\n\nexport default class MeasuresTable extends React.Component<Props, State> {\n  state = {\n    collapsedPaths: {},\n  };\n\n  _convertToDataRows = (\n    name: string,\n    parentSection: ?ProfilerMeasuresSection,\n    section: ProfilerMeasuresSection,\n    depth: number = 0,\n    path: string = ''\n  ): Array<ProfilerRowData> => {\n    const { profilerMeasures } = this.props;\n\n    const parentPercent =\n      parentSection && section.time && parentSection.time !== 0\n        ? (section.time / parentSection.time) * 100\n        : 100;\n    const totalPercent =\n      profilerMeasures && section.time && profilerMeasures.time !== 0\n        ? (section.time / profilerMeasures.time) * 100\n        : 100;\n    const isCollapsed = this._isSectionCollapsed(path);\n\n    return [\n      {\n        name,\n        time: section.time ? `${section.time.toFixed(2)}ms` : '?',\n        parentPercent: `${parentPercent.toFixed(2)}%`,\n        totalPercent: `${totalPercent.toFixed(2)}%`,\n        depth,\n        hasSubsections: !!Object.keys(section.subsections).length,\n        path,\n        isCollapsed,\n      },\n      ...(isCollapsed\n        ? []\n        : flatMap(section.subsections, (subsection, subsectionName) =>\n            this._convertToDataRows(\n              subsectionName,\n              section,\n              subsection,\n              depth + 1,\n              `${path}>${depth}.${subsectionName}`\n            )\n          )),\n    ];\n  };\n\n  _isSectionCollapsed = (path: string) => {\n    return this.state.collapsedPaths[path];\n  };\n\n  _toggleSection = (path: string) => {\n    this.setState(state => ({\n      collapsedPaths: {\n        ...state.collapsedPaths,\n        [path]: !state.collapsedPaths[path],\n      },\n    }));\n  };\n\n  _rowClassName = ({ index }: { index: number }) => {\n    if (index < 0) {\n      return 'tableHeaderRow';\n    } else {\n      return index % 2 === 0 ? 'tableEvenRow' : 'tableOddRow';\n    }\n  };\n\n  _renderSectionNameCell = ({ rowData }: { rowData: ProfilerRowData }) => {\n    return (\n      <div style={styles.indent}>\n        <div style={{ width: rowData.depth * 8 }} />\n        {rowData.hasSubsections ? (\n          <IconButton onClick={() => this._toggleSection(rowData.path)}>\n            {rowData.isCollapsed ? <ChevronRight /> : <ExpandMore />}\n          </IconButton>\n        ) : (\n          <div style={{ width: 24 }} />\n        )}\n        {rowData.name}\n      </div>\n    );\n  };\n\n  render() {\n    const { profilerMeasures } = this.props;\n    if (!profilerMeasures) return null;\n\n    const dataRows = this._convertToDataRows('All', null, profilerMeasures);\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <AutoSizer>\n            {({ height, width }) => (\n              <Table\n                headerHeight={30}\n                height={height}\n                className={muiTheme.tableRootClassName}\n                headerClassName={'tableHeaderColumn'}\n                rowCount={dataRows.length}\n                rowGetter={({ index }) => dataRows[index]}\n                rowHeight={35}\n                onRowClick={() => {}}\n                rowClassName={this._rowClassName}\n                width={width}\n              >\n                <Column\n                  label={<Trans>Section name</Trans>}\n                  dataKey=\"name\"\n                  width={width * 0.4}\n                  className={'tableColumn'}\n                  cellRenderer={this._renderSectionNameCell}\n                />\n                <Column\n                  label={<Trans>Time (ms)</Trans>}\n                  dataKey=\"time\"\n                  width={width * 0.2}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>% of parent</Trans>}\n                  dataKey=\"parentPercent\"\n                  width={width * 0.2}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>% of total</Trans>}\n                  dataKey=\"totalPercent\"\n                  width={width * 0.2}\n                  className={'tableColumn'}\n                />\n              </Table>\n            )}\n          </AutoSizer>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport MeasuresTable from './MeasuresTable';\nimport { type ProfilerOutput } from '..';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { Line } from '../../UI/Grid';\nimport Background from '../../UI/Background';\nimport LinearProgress from 'material-ui/LinearProgress';\n\nconst styles = {\n  tableContainer: {\n    flex: 1,\n  },\n};\n\ntype Props = {|\n  onStart: () => void,\n  onStop: () => void,\n  profilerOutput: ?ProfilerOutput,\n  profilingInProgress: boolean,\n|};\n\nexport default class Profiler extends React.Component<Props, void> {\n  render() {\n    const { onStart, onStop, profilerOutput, profilingInProgress } = this.props;\n\n    return (\n      <Background>\n        <Line alignItems=\"center\" justifyContent=\"center\">\n          {!profilingInProgress && profilerOutput && (\n            <p>\n              <Trans>\n                Last run collected on {profilerOutput.stats.framesCount} frames.\n              </Trans>\n            </p>\n          )}\n          {!profilingInProgress && profilerOutput && (\n            <RaisedButton label={<Trans>Restart</Trans>} onClick={onStart} />\n          )}\n          {!profilingInProgress && !profilerOutput && (\n            <RaisedButton\n              label={<Trans>Start profiling</Trans>}\n              onClick={onStart}\n            />\n          )}\n          {profilingInProgress && (\n            <RaisedButton\n              label={<Trans>Stop profiling</Trans>}\n              onClick={onStop}\n            />\n          )}\n        </Line>\n        {profilingInProgress && (\n          <Line alignItems=\"center\">\n            <LinearProgress style={{ flex: 1 }} mode={'indeterminate'} />\n          </Line>\n        )}\n        <div style={styles.tableContainer}>\n          {profilerOutput && (\n            <MeasuresTable\n              profilerMeasures={profilerOutput.framesAverageMeasures}\n            />\n          )}\n          {!profilerOutput && (\n            <EmptyMessage>\n              <Trans>\n                Start profiling and then stop it after a few seconds to see the\n                results.\n              </Trans>\n            </EmptyMessage>\n          )}\n        </div>\n      </Background>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport EditorMosaic, { MosaicWindow } from '../UI/EditorMosaic';\nimport Background from '../UI/Background';\nimport get from 'lodash/get';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Column, Line } from '../UI/Grid';\nimport InspectorsList from './InspectorsList';\nimport {\n  getInspectorDescriptions,\n  type InspectorDescription,\n  type EditFunction,\n  type CallFunction,\n} from './GDJSInspectorDescriptions';\nimport RawContentInspector from './Inspectors/RawContentInspector';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport Checkbox from 'material-ui/Checkbox';\nimport Flash from 'material-ui/svg-icons/image/flash-on';\nimport FlashOff from 'material-ui/svg-icons/image/flash-off';\nimport HelpButton from '../UI/HelpButton';\nimport Profiler from './Profiler';\nimport { type ProfilerOutput } from '.';\n\ntype Props = {|\n  gameData: ?any,\n  onEdit: EditFunction,\n  onCall: CallFunction,\n  onPlay: () => void,\n  onPause: () => void,\n  onRefresh: () => void,\n  onStartProfiler: () => void,\n  onStopProfiler: () => void,\n  profilerOutput: ?ProfilerOutput,\n  profilingInProgress: boolean,\n|};\n\ntype State = {|\n  selectedInspector: ?InspectorDescription,\n  selectedInspectorFullPath: Array<string>,\n  rawMode: boolean,\n|};\n\n/**\n * The debugger interface: show the list of inspectors for a game, along with the\n * currently selected inspector.\n */\nexport default class DebuggerContent extends React.Component<Props, State> {\n  state = {\n    selectedInspector: null,\n    selectedInspectorFullPath: [],\n    rawMode: false,\n  };\n\n  _editors: ?EditorMosaic = null;\n\n  openProfiler = () => {\n    if (this._editors) this._editors.openEditor('profiler', 'bottom');\n  };\n\n  render() {\n    const {\n      gameData,\n      onRefresh,\n      onCall,\n      onEdit,\n      onStartProfiler,\n      onStopProfiler,\n      profilerOutput,\n      profilingInProgress,\n    } = this.props;\n    const {\n      selectedInspector,\n      selectedInspectorFullPath,\n      rawMode,\n    } = this.state;\n\n    return (\n      <EditorMosaic\n        ref={editors => (this._editors = editors)}\n        editors={{\n          inspectors: (\n            <MosaicWindow\n              title={<Trans>Inspectors</Trans>}\n              toolbarControls={[]}\n              gameData={gameData}\n            >\n              <Background>\n                <Column expand noMargin>\n                  <Line justifyContent=\"center\">\n                    <RaisedButton\n                      label={<Trans>Refresh</Trans>}\n                      onClick={onRefresh}\n                      primary\n                    />\n                  </Line>\n                  <Line expand noMargin>\n                    <InspectorsList\n                      gameData={gameData}\n                      getInspectorDescriptions={getInspectorDescriptions}\n                      onChooseInspector={(\n                        selectedInspector,\n                        selectedInspectorFullPath\n                      ) =>\n                        this.setState({\n                          selectedInspector,\n                          selectedInspectorFullPath,\n                        })\n                      }\n                    />\n                  </Line>\n                </Column>\n              </Background>\n            </MosaicWindow>\n          ),\n          'selected-inspector': (\n            <Column expand noMargin>\n              {' '}\n              {selectedInspector ? (\n                rawMode ? (\n                  <RawContentInspector\n                    gameData={get(gameData, selectedInspectorFullPath, null)}\n                    onEdit={(path, newValue) =>\n                      onEdit(selectedInspectorFullPath.concat(path), newValue)\n                    }\n                  />\n                ) : (\n                  selectedInspector.renderInspector(\n                    get(gameData, selectedInspectorFullPath, null),\n                    {\n                      onCall: (path, args) =>\n                        onCall(selectedInspectorFullPath.concat(path), args),\n                      onEdit: (path, newValue) =>\n                        onEdit(\n                          selectedInspectorFullPath.concat(path),\n                          newValue\n                        ),\n                    }\n                  ) || (\n                    <EmptyMessage>\n                      <Trans>\n                        No inspector, choose another element in the list or\n                        toggle the raw data view.\n                      </Trans>\n                    </EmptyMessage>\n                  )\n                )\n              ) : (\n                <EmptyMessage>\n                  {gameData\n                    ? 'Choose an element to inspect in the list'\n                    : 'Pause the game (from the toolbar) or hit refresh (on the left) to inspect the game'}\n                </EmptyMessage>\n              )}\n              <Column>\n                <Line justifyContent=\"space-between\" alignItems=\"center\">\n                  <HelpButton helpPagePath=\"/interface/debugger\" />\n                  <div>\n                    <Checkbox\n                      checkedIcon={<Flash />}\n                      uncheckedIcon={<FlashOff />}\n                      checked={rawMode}\n                      onCheck={(e, enabled) =>\n                        this.setState({\n                          rawMode: enabled,\n                        })\n                      }\n                    />\n                  </div>\n                </Line>\n              </Column>\n            </Column>\n          ),\n          profiler: (\n            <MosaicWindow\n              title={<Trans>Profiler</Trans>}\n              // Pass profilerOutput to force MosaicWindow update when profilerOutput is changed\n              profilerOutput={profilerOutput}\n              profilingInProgress={profilingInProgress}\n            >\n              <Profiler\n                onStart={onStartProfiler}\n                onStop={onStopProfiler}\n                profilerOutput={profilerOutput}\n                profilingInProgress={profilingInProgress}\n              />\n            </MosaicWindow>\n          ),\n        }}\n        initialNodes={{\n          direction: 'column',\n          first: {\n            direction: 'row',\n            first: 'inspectors',\n            second: 'selected-inspector',\n            splitPercentage: 25,\n          },\n          second: 'profiler',\n          splitPercentage: 65,\n        }}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { Column } from '../UI/Grid';\nimport { type DebuggerId } from '.';\n\ntype Props = {|\n  selectedId: DebuggerId,\n  debuggerIds: Array<DebuggerId>,\n  onChooseDebugger: DebuggerId => void,\n|};\n\nexport default class DebuggerSelector extends React.Component<Props, void> {\n  render() {\n    const hasDebuggers = !!this.props.debuggerIds.length;\n    return (\n      <Column>\n        <SelectField\n          fullWidth\n          value={hasDebuggers ? this.props.selectedId : 0}\n          onChange={(e, i, value) => this.props.onChooseDebugger(value)}\n          disabled={!hasDebuggers}\n        >\n          {this.props.debuggerIds.map(id => (\n            <MenuItem value={id} key={id} primaryText={'Game preview #' + id} />\n          ))}\n          {!hasDebuggers && (\n            <MenuItem\n              value={0}\n              primaryText={\n                'No preview running. Run a preview and you will be able to inspect it with the debugger'\n              }\n            />\n          )}\n        </SelectField>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Toolbar from './Toolbar';\nimport DebuggerContent from './DebuggerContent';\nimport DebuggerSelector from './DebuggerSelector';\nimport { Column } from '../UI/Grid';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport PlaceholderMessage from '../UI/PlaceholderMessage';\nimport Background from '../UI/Background';\nimport optionalRequire from '../Utils/OptionalRequire';\nimport EmptyMessage from '../UI/EmptyMessage';\nconst electron = optionalRequire('electron');\nconst ipcRenderer = electron ? electron.ipcRenderer : null;\n\n//Each game connected to the debugger server is identified by a unique number\nexport type DebuggerId = number;\n\nexport type ProfilerMeasuresSection = {|\n  time: number,\n  subsections: { [string]: ProfilerMeasuresSection },\n|};\n\nexport type ProfilerOutput = {|\n  framesAverageMeasures: ProfilerMeasuresSection,\n  stats: {\n    framesCount: number,\n  },\n|};\n\ntype Props = {|\n  project: gdProject,\n  setToolbar: React.Node => void,\n  isActive: boolean,\n|};\n\ntype State = {|\n  debuggerServerStarted: boolean,\n  debuggerServerError: ?any,\n\n  debuggerIds: Array<DebuggerId>,\n  debuggerGameData: { [DebuggerId]: any },\n  profilerOutputs: { [DebuggerId]: ProfilerOutput },\n  profilingInProgress: { [DebuggerId]: boolean },\n  selectedId: DebuggerId,\n|};\n\n/**\n * Start the debugger server, listen to commands received and issue commands to it.\n * This is only supported on Electron runtime for now.\n */\nexport default class Debugger extends React.Component<Props, State> {\n  state = {\n    debuggerServerStarted: false,\n    debuggerServerError: null,\n    debuggerIds: [],\n    debuggerGameData: {},\n    profilerOutputs: {},\n    profilingInProgress: {},\n    selectedId: 0,\n  };\n\n  _debuggerContents: { [DebuggerId]: ?DebuggerContent } = {};\n\n  updateToolbar() {\n    if (!this.props.isActive) return;\n\n    this.props.setToolbar(\n      <Toolbar\n        onPlay={() => this._play(this.state.selectedId)}\n        onPause={() => this._pause(this.state.selectedId)}\n        canPlay={this._hasSelectedDebugger()}\n        canPause={this._hasSelectedDebugger()}\n        onOpenProfiler={() => {\n          if (this._debuggerContents[this.state.selectedId])\n            this._debuggerContents[this.state.selectedId].openProfiler();\n        }}\n      />\n    );\n  }\n\n  componentDidMount() {\n    if (this.props.isActive) {\n      this._startServer();\n    }\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.isActive && !this.props.isActive) {\n      this._startServer();\n    }\n  }\n\n  componentWillUnmount() {\n    this._removeServerListeners();\n  }\n\n  _removeServerListeners = () => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.removeAllListeners('debugger-send-message-done');\n    ipcRenderer.removeAllListeners('debugger-error-received');\n    ipcRenderer.removeAllListeners('debugger-connection-closed');\n    ipcRenderer.removeAllListeners('debugger-connection-opened');\n    ipcRenderer.removeAllListeners('debugger-start-server-done');\n    ipcRenderer.removeAllListeners('debugger-message-received');\n  };\n\n  _startServer = () => {\n    if (!ipcRenderer) return;\n\n    this.setState({\n      debuggerServerStarted: false,\n    });\n    this._removeServerListeners();\n\n    ipcRenderer.on('debugger-error-received', (event, err) => {\n      this.setState(\n        {\n          debuggerServerError: err,\n        },\n        () => this.updateToolbar()\n      );\n    });\n\n    ipcRenderer.on('debugger-connection-closed', (event, { id }) => {\n      const { debuggerIds, selectedId } = this.state;\n      const remainingDebuggerIds = debuggerIds.filter(\n        debuggerId => debuggerId !== id\n      );\n      this.setState(\n        {\n          debuggerIds: remainingDebuggerIds,\n          selectedId:\n            selectedId !== id\n              ? selectedId\n              : remainingDebuggerIds.length\n              ? remainingDebuggerIds[remainingDebuggerIds.length - 1]\n              : selectedId,\n        },\n        () => this.updateToolbar()\n      );\n    });\n\n    ipcRenderer.on('debugger-connection-opened', (event, { id }) => {\n      this.setState(\n        {\n          debuggerIds: [...this.state.debuggerIds, id],\n          selectedId: id,\n        },\n        () => this.updateToolbar()\n      );\n    });\n\n    ipcRenderer.on('debugger-start-server-done', event => {\n      this.setState(\n        {\n          debuggerServerStarted: true,\n        },\n        () => this.updateToolbar()\n      );\n    });\n\n    ipcRenderer.on('debugger-message-received', (event, { id, message }) => {\n      console.log('Processing message received for debugger');\n      try {\n        const data = JSON.parse(message);\n        this._handleMessage(id, data);\n      } catch (e) {\n        console.warn(\n          'Error while parsing message received from debugger client:',\n          e\n        );\n      }\n    });\n    ipcRenderer.send('debugger-start-server');\n  };\n\n  _handleMessage = (id: DebuggerId, data: any) => {\n    if (data.command === 'dump') {\n      this.setState({\n        debuggerGameData: {\n          ...this.state.debuggerGameData,\n          [id]: data.payload,\n        },\n      });\n    } else if (data.command === 'profiler.output') {\n      this.setState({\n        profilerOutputs: {\n          ...this.state.profilerOutputs,\n          [id]: data.payload,\n        },\n      });\n    } else if (data.command === 'profiler.started') {\n      this.setState(state => ({\n        profilingInProgress: { ...state.profilingInProgress, [id]: true },\n      }));\n    } else if (data.command === 'profiler.stopped') {\n      this.setState(state => ({\n        profilingInProgress: { ...state.profilingInProgress, [id]: false },\n      }));\n    } else {\n      console.warn(\n        'Unknown command received from debugger client:',\n        data.command\n      );\n    }\n  };\n\n  _play = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"play\"}',\n    });\n  };\n\n  _pause = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"pause\"}',\n    });\n  };\n\n  _refresh = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"refresh\"}',\n    });\n  };\n\n  _edit = (id: DebuggerId, path: Array<string>, newValue: any) => {\n    if (!ipcRenderer) return false;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: JSON.stringify({\n        command: 'set',\n        path,\n        newValue,\n      }),\n    });\n\n    setTimeout(() => this._refresh(id), 100);\n    return true;\n  };\n\n  _call = (id: DebuggerId, path: Array<string>, args: Array<any>) => {\n    if (!ipcRenderer) return false;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: JSON.stringify({\n        command: 'call',\n        path,\n        args,\n      }),\n    });\n\n    setTimeout(() => this._refresh(id), 100);\n    return true;\n  };\n\n  _startProfiler = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"profiler.start\"}',\n    });\n  };\n\n  _stopProfiler = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"profiler.stop\"}',\n    });\n  };\n\n  _hasSelectedDebugger = () => {\n    const { selectedId, debuggerIds } = this.state;\n    return debuggerIds.indexOf(selectedId) !== -1;\n  };\n\n  render() {\n    const {\n      debuggerServerError,\n      debuggerServerStarted,\n      selectedId,\n      debuggerIds,\n      debuggerGameData,\n      profilerOutputs,\n      profilingInProgress,\n    } = this.state;\n\n    return (\n      <Background>\n        {!debuggerServerStarted && !debuggerServerError && (\n          <PlaceholderMessage>\n            <PlaceholderLoader />\n            <p>\n              <Trans>Debugger is starting...</Trans>\n            </p>\n          </PlaceholderMessage>\n        )}\n        {!debuggerServerStarted && debuggerServerError && (\n          <PlaceholderMessage>\n            <p>\n              <Trans>\n                Unable to start the debugger server! Make sure that you are\n                authorized to run servers on this computer.\n              </Trans>\n            </p>\n          </PlaceholderMessage>\n        )}\n        {debuggerServerStarted && (\n          <Column expand noMargin>\n            <DebuggerSelector\n              selectedId={selectedId}\n              debuggerIds={debuggerIds}\n              onChooseDebugger={id =>\n                this.setState({\n                  selectedId: id,\n                })\n              }\n            />\n            {this._hasSelectedDebugger() && (\n              <DebuggerContent\n                ref={debuggerContent =>\n                  (this._debuggerContents[selectedId] = debuggerContent)\n                }\n                gameData={debuggerGameData[selectedId]}\n                onPlay={() => this._play(selectedId)}\n                onPause={() => this._pause(selectedId)}\n                onRefresh={() => this._refresh(selectedId)}\n                onEdit={(path, args) => this._edit(selectedId, path, args)}\n                onCall={(path, args) => this._call(selectedId, path, args)}\n                onStartProfiler={() => this._startProfiler(selectedId)}\n                onStopProfiler={() => this._stopProfiler(selectedId)}\n                profilerOutput={profilerOutputs[selectedId]}\n                profilingInProgress={profilingInProgress[selectedId]}\n              />\n            )}\n            {!this._hasSelectedDebugger() && (\n              <EmptyMessage>\n                <Trans>\n                  Run a preview and you will be able to inspect it with the\n                  debugger.\n                </Trans>\n              </EmptyMessage>\n            )}\n          </Column>\n        )}\n      </Background>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Debugger from '../../Debugger';\nimport BaseEditor from './BaseEditor';\nimport SubscriptionChecker from '../../Profile/SubscriptionChecker';\n\nexport default class DebuggerEditor extends BaseEditor {\n  editor: ?Debugger;\n  _subscriptionChecker: ?SubscriptionChecker;\n  state = {\n    subscriptionChecked: false,\n  };\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  componentWillReceiveProps() {\n    this._checkHasSubscription();\n  }\n\n  componentDidMount() {\n    this._checkHasSubscription();\n  }\n\n  _checkHasSubscription() {\n    if (\n      this._subscriptionChecker &&\n      this.props.isActive &&\n      !this.state.subscriptionChecked\n    ) {\n      this._subscriptionChecker.checkHasSubscription();\n      this.setState({\n        subscriptionChecked: true,\n      });\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Debugger {...this.props} ref={editor => (this.editor = editor)} />\n        <SubscriptionChecker\n          ref={subscriptionChecker =>\n            (this._subscriptionChecker = subscriptionChecker)\n          }\n          onChangeSubscription={() => {\n            if (this.props.onChangeSubscription)\n              this.props.onChangeSubscription();\n          }}\n          id=\"Debugger\"\n          title={<Trans>Debugger</Trans>}\n          mode=\"try\"\n        />\n      </React.Fragment>\n    );\n  }\n}\n","const themeData = {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    {\n      foreground: '969896',\n      token: 'comment',\n    },\n    {\n      foreground: 'ced1cf',\n      token: 'keyword.operator.class',\n    },\n    {\n      foreground: 'ced1cf',\n      token: 'constant.other',\n    },\n    {\n      foreground: 'ced1cf',\n      token: 'source.php.embedded.line',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'variable',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'support.other.variable',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'string.other.link',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'meta.tag',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'declaration.tag',\n    },\n    {\n      foreground: 'de935f',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: 'de935f',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'de935f',\n      token: 'support.constant',\n    },\n    {\n      foreground: 'de935f',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'de935f',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: 'de935f',\n      token: 'punctuation.section.embedded',\n    },\n    {\n      foreground: 'de935f',\n      token: 'keyword.other.unit',\n    },\n    {\n      foreground: 'f0c674',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: 'f0c674',\n      token: 'entity.name.type.class',\n    },\n    {\n      foreground: 'f0c674',\n      token: 'support.type',\n    },\n    {\n      foreground: 'f0c674',\n      token: 'support.class',\n    },\n    {\n      foreground: 'b5bd68',\n      token: 'string',\n    },\n    {\n      foreground: 'b5bd68',\n      token: 'constant.other.symbol',\n    },\n    {\n      foreground: 'b5bd68',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: 'b5bd68',\n      token: 'markup.heading',\n    },\n    {\n      foreground: '8abeb7',\n      token: 'keyword.operator',\n    },\n    {\n      foreground: '8abeb7',\n      token: 'constant.other.color',\n    },\n    {\n      foreground: '81a2be',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '81a2be',\n      token: 'meta.function-call',\n    },\n    {\n      foreground: '81a2be',\n      token: 'support.function',\n    },\n    {\n      foreground: '81a2be',\n      token: 'keyword.other.special-method',\n    },\n    {\n      foreground: '81a2be',\n      token: 'meta.block-level',\n    },\n    {\n      foreground: 'b294bb',\n      token: 'keyword',\n    },\n    {\n      foreground: 'b294bb',\n      token: 'storage',\n    },\n    {\n      foreground: 'b294bb',\n      token: 'storage.type',\n    },\n    {\n      foreground: 'b294bb',\n      token: 'entity.name.tag.css',\n    },\n    {\n      foreground: 'ced2cf',\n      background: 'df5f5f',\n      token: 'invalid',\n    },\n    {\n      foreground: 'ced2cf',\n      background: '82a3bf',\n      token: 'meta.separator',\n    },\n    {\n      foreground: 'ced2cf',\n      background: 'b798bf',\n      token: 'invalid.deprecated',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#C5C8C6',\n    'editor.background': '#1D1F21',\n    'editor.selectionBackground': '#373B41',\n    'editor.lineHighlightBackground': '#282A2E',\n    'editorCursor.foreground': '#AEAFAD',\n    'editorWhitespace.foreground': '#4B4E55',\n  },\n};\n\nexport default {\n  name: 'Tomorrow-Night',\n  themeName: 'tomorrow-night',\n  themeData,\n};\n","const themeData = {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    {\n      foreground: '75715e',\n      token: 'comment',\n    },\n    {\n      foreground: 'e6db74',\n      token: 'string',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.other',\n    },\n    {\n      foreground: 'f92672',\n      token: 'keyword',\n    },\n    {\n      foreground: 'f92672',\n      token: 'storage',\n    },\n    {\n      foreground: '66d9ef',\n      fontStyle: 'italic',\n      token: 'storage.type',\n    },\n    {\n      foreground: 'a6e22e',\n      fontStyle: 'underline',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: 'a6e22e',\n      fontStyle: 'italic underline',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: 'a6e22e',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: 'fd971f',\n      fontStyle: 'italic',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: 'f92672',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: 'a6e22e',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: '66d9ef',\n      token: 'support.function',\n    },\n    {\n      foreground: '66d9ef',\n      token: 'support.constant',\n    },\n    {\n      foreground: '66d9ef',\n      fontStyle: 'italic',\n      token: 'support.type',\n    },\n    {\n      foreground: '66d9ef',\n      fontStyle: 'italic',\n      token: 'support.class',\n    },\n    {\n      foreground: 'f8f8f0',\n      background: 'f92672',\n      token: 'invalid',\n    },\n    {\n      foreground: 'f8f8f0',\n      background: 'ae81ff',\n      token: 'invalid.deprecated',\n    },\n    {\n      foreground: 'cfcfc2',\n      token: 'meta.structure.dictionary.json string.quoted.double.json',\n    },\n    {\n      foreground: '75715e',\n      token: 'meta.diff',\n    },\n    {\n      foreground: '75715e',\n      token: 'meta.diff.header',\n    },\n    {\n      foreground: 'f92672',\n      token: 'markup.deleted',\n    },\n    {\n      foreground: 'a6e22e',\n      token: 'markup.inserted',\n    },\n    {\n      foreground: 'e6db74',\n      token: 'markup.changed',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.numeric.line-number.find-in-files - match',\n    },\n    {\n      foreground: 'e6db74',\n      token: 'entity.name.filename.find-in-files',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#F8F8F2',\n    'editor.background': '#272822',\n    'editor.selectionBackground': '#49483E',\n    'editor.lineHighlightBackground': '#3E3D32',\n    'editorCursor.foreground': '#F8F8F0',\n    'editorWhitespace.foreground': '#3B3A32',\n    'editorIndentGuide.activeBackground': '#9D550F',\n    'editor.selectionHighlightBorder': '#222218',\n  },\n};\n\nexport default {\n  name: 'Monokai',\n  themeName: 'monokai',\n  themeData,\n};\n","const themeData = {\n  base: 'vs',\n  inherit: true,\n  rules: [\n    {\n      foreground: '8e908c',\n      token: 'comment',\n    },\n    {\n      foreground: '666969',\n      token: 'keyword.operator.class',\n    },\n    {\n      foreground: '666969',\n      token: 'constant.other',\n    },\n    {\n      foreground: '666969',\n      token: 'source.php.embedded.line',\n    },\n    {\n      foreground: 'c82829',\n      token: 'variable',\n    },\n    {\n      foreground: 'c82829',\n      token: 'support.other.variable',\n    },\n    {\n      foreground: 'c82829',\n      token: 'string.other.link',\n    },\n    {\n      foreground: 'c82829',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'c82829',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: 'c82829',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: 'c82829',\n      token: 'meta.tag',\n    },\n    {\n      foreground: 'c82829',\n      token: 'declaration.tag',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'support.constant',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'punctuation.section.embedded',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'keyword.other.unit',\n    },\n    {\n      foreground: 'c99e00',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: 'c99e00',\n      token: 'entity.name.type.class',\n    },\n    {\n      foreground: 'c99e00',\n      token: 'support.type',\n    },\n    {\n      foreground: 'c99e00',\n      token: 'support.class',\n    },\n    {\n      foreground: '718c00',\n      token: 'string',\n    },\n    {\n      foreground: '718c00',\n      token: 'constant.other.symbol',\n    },\n    {\n      foreground: '718c00',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: '718c00',\n      token: 'markup.heading',\n    },\n    {\n      foreground: '3e999f',\n      token: 'keyword.operator',\n    },\n    {\n      foreground: '3e999f',\n      token: 'constant.other.color',\n    },\n    {\n      foreground: '4271ae',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '4271ae',\n      token: 'meta.function-call',\n    },\n    {\n      foreground: '4271ae',\n      token: 'support.function',\n    },\n    {\n      foreground: '4271ae',\n      token: 'keyword.other.special-method',\n    },\n    {\n      foreground: '4271ae',\n      token: 'meta.block-level',\n    },\n    {\n      foreground: '8959a8',\n      token: 'keyword',\n    },\n    {\n      foreground: '8959a8',\n      token: 'storage',\n    },\n    {\n      foreground: '8959a8',\n      token: 'storage.type',\n    },\n    {\n      foreground: 'ffffff',\n      background: 'c82829',\n      token: 'invalid',\n    },\n    {\n      foreground: 'ffffff',\n      background: '4271ae',\n      token: 'meta.separator',\n    },\n    {\n      foreground: 'ffffff',\n      background: '8959a8',\n      token: 'invalid.deprecated',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#4D4D4C',\n    'editor.background': '#FFFFFF',\n    'editor.selectionBackground': '#D6D6D6',\n    'editor.lineHighlightBackground': '#EFEFEF',\n    'editorCursor.foreground': '#AEAFAD',\n    'editorWhitespace.foreground': '#D1D1D1',\n  },\n};\n\nexport default {\n  name: 'Tomorrow',\n  themeName: 'tomorrow',\n  themeData,\n};\n","const themeData = {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    {\n      foreground: '657b83',\n      fontStyle: 'italic',\n      token: 'comment',\n    },\n    {\n      foreground: '2aa198',\n      token: 'string',\n    },\n    {\n      foreground: 'd30102',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'd33682',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: '268bd2',\n      token: 'variable.language',\n    },\n    {\n      foreground: '268bd2',\n      token: 'variable.other',\n    },\n    {\n      foreground: '859900',\n      token: 'keyword',\n    },\n    {\n      foreground: '93a1a1',\n      fontStyle: 'bold',\n      token: 'storage',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'entity.name.type.class',\n    },\n    {\n      foreground: '268bd2',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '859900',\n      token: 'punctuation.definition.variable',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.section.embedded.begin',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.section.embedded.end',\n    },\n    {\n      foreground: 'b58900',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'b58900',\n      token: 'meta.preprocessor',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'support.function.construct',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'keyword.other.new',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'constant.other',\n    },\n    {\n      foreground: '6c71c4',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: '268bd2',\n      fontStyle: 'bold',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: '657b83',\n      token: 'punctuation.definition.tag',\n    },\n    {\n      foreground: '93a1a1',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: '268bd2',\n      token: 'support.function',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.separator.continuation',\n    },\n    {\n      foreground: '859900',\n      token: 'support.type',\n    },\n    {\n      foreground: '859900',\n      token: 'support.class',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'support.type.exception',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#93A1A1',\n    'editor.background': '#002B36',\n    'editor.selectionBackground': '#073642',\n    'editor.lineHighlightBackground': '#073642',\n    'editorCursor.foreground': '#D30102',\n    'editorWhitespace.foreground': '#93A1A1',\n  },\n};\n\nexport default {\n  name: 'Solarized-Dark',\n  themeName: 'solarized-dark',\n  themeData,\n};\n","const themeData = {\n  base: 'vs',\n  inherit: true,\n  rules: [\n    {\n      foreground: '93a1a1',\n      token: 'comment',\n    },\n    {\n      foreground: '2aa198',\n      token: 'string',\n    },\n    {\n      foreground: 'd30102',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'd33682',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: '268bd2',\n      token: 'variable.language',\n    },\n    {\n      foreground: '268bd2',\n      token: 'variable.other',\n    },\n    {\n      foreground: '859900',\n      token: 'keyword',\n    },\n    {\n      foreground: '073642',\n      fontStyle: 'bold',\n      token: 'storage',\n    },\n    {\n      foreground: '268bd2',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: '268bd2',\n      token: 'entity.name.type.class',\n    },\n    {\n      foreground: '268bd2',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '859900',\n      token: 'punctuation.definition.variable',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.section.embedded.begin',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.section.embedded.end',\n    },\n    {\n      foreground: 'b58900',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'b58900',\n      token: 'meta.preprocessor',\n    },\n    {\n      foreground: 'd30102',\n      token: 'support.function.construct',\n    },\n    {\n      foreground: 'd30102',\n      token: 'keyword.other.new',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'constant.other',\n    },\n    {\n      foreground: '268bd2',\n      fontStyle: 'bold',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: '93a1a1',\n      token: 'punctuation.definition.tag.begin',\n    },\n    {\n      foreground: '93a1a1',\n      token: 'punctuation.definition.tag.end',\n    },\n    {\n      foreground: '93a1a1',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: '268bd2',\n      token: 'support.function',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.separator.continuation',\n    },\n    {\n      foreground: '859900',\n      token: 'support.type',\n    },\n    {\n      foreground: '859900',\n      token: 'support.class',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'support.type.exception',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#586E75',\n    'editor.background': '#FDF6E3',\n    'editor.selectionBackground': '#073642',\n    'editor.lineHighlightBackground': '#EEE8D5',\n    'editorCursor.foreground': '#000000',\n    'editorWhitespace.foreground': '#93A1A1',\n  },\n};\n\nexport default {\n  name: 'Solarized-Light',\n  themeName: 'solarized-light',\n  themeData,\n};\n","const themeData = {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    {\n      foreground: 'ffffff',\n      background: '0f0f0f',\n      token: 'text',\n    },\n    {\n      background: '000000',\n      token: 'source.ruby.rails.embedded.html',\n    },\n    {\n      foreground: 'ffffff',\n      background: '101010',\n      token: 'text.html.ruby',\n    },\n    {\n      foreground: 'ccff33',\n      background: '000000',\n      token: 'invalid',\n    },\n    {\n      foreground: 'ccff33',\n      background: '000000',\n      token: 'invalid.deprecated',\n    },\n    {\n      foreground: '99cc99',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: 'ffffff',\n      background: '000000',\n      token: 'source',\n    },\n    {\n      foreground: '9933cc',\n      token: 'comment',\n    },\n    {\n      foreground: '339999',\n      token: 'constant',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'keyword',\n    },\n    {\n      foreground: 'edf8f9',\n      token: 'keyword.preprocessor',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'keyword.preprocessor directive',\n    },\n    {\n      foreground: 'ffcc00',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: 'ffcc00',\n      token: 'storage.type.function.js',\n    },\n    {\n      fontStyle: 'italic',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: '772cb7',\n      background: '070707',\n      token: 'source comment.block',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'variable.other',\n    },\n    {\n      foreground: 'ffcc00',\n      token: 'support.function',\n    },\n    {\n      foreground: '66ff00',\n      token: 'string',\n    },\n    {\n      foreground: 'aaaaaa',\n      token: 'string constant.character.escape',\n    },\n    {\n      foreground: '000000',\n      background: 'cccc33',\n      token: 'string.interpolated',\n    },\n    {\n      foreground: '44b4cc',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'cccc33',\n      token: 'string.literal',\n    },\n    {\n      foreground: '555555',\n      token: 'string.interpolated constant.character.escape',\n    },\n    {\n      fontStyle: 'underline',\n      token: 'entity.name.class',\n    },\n    {\n      fontStyle: 'underline',\n      token: 'support.class.js',\n    },\n    {\n      fontStyle: 'italic underline',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'meta.tag.inline.any.html',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'meta.tag.block.any.html',\n    },\n    {\n      foreground: '99cc99',\n      fontStyle: 'italic',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: 'dde93d',\n      token: 'keyword.other',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'meta.selector.css',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'entity.other.attribute-name.pseudo-class.css',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'entity.name.tag.wildcard.css',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'entity.other.attribute-name.id.css',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'entity.other.attribute-name.class.css',\n    },\n    {\n      foreground: '999966',\n      token: 'support.type.property-name.css',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'keyword.other.unit.css',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'constant.other.rgb-value.css',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'constant.numeric.css',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'support.function.event-handler.js',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'keyword.operator.js',\n    },\n    {\n      foreground: 'cccc66',\n      token: 'keyword.control.js',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'support.class.prototype.js',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'object.property.function.prototype.js',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#FFFFFF',\n    'editor.background': '#0F0F0F',\n    'editor.selectionBackground': '#6699CC',\n    'editor.lineHighlightBackground': '#333333',\n    'editorCursor.foreground': '#FFFFFF',\n    'editorWhitespace.foreground': '#404040',\n  },\n};\n\nexport default {\n  name: 'Vibrant Ink',\n  themeName: 'vibrant-ink',\n  themeData,\n};\n","const themeData = {\n  base: 'vs',\n  inherit: true,\n  rules: [\n    {\n      foreground: '999988',\n      fontStyle: 'italic',\n      token: 'comment',\n    },\n    {\n      foreground: '999999',\n      fontStyle: 'bold',\n      token: 'comment.block.preprocessor',\n    },\n    {\n      foreground: '999999',\n      fontStyle: 'bold italic',\n      token: 'comment.documentation',\n    },\n    {\n      foreground: '999999',\n      fontStyle: 'bold italic',\n      token: 'comment.block.documentation',\n    },\n    {\n      foreground: 'a61717',\n      background: 'e3d2d2',\n      token: 'invalid.illegal',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'keyword',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'storage',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'keyword.operator',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'constant.language',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'support.constant',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'storage.type',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'support.type',\n    },\n    {\n      foreground: '008080',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: '0086b3',\n      token: 'variable.other',\n    },\n    {\n      foreground: '999999',\n      token: 'variable.language',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'entity.name.type',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'support.class',\n    },\n    {\n      foreground: '008080',\n      token: 'variable.other.constant',\n    },\n    {\n      foreground: '800080',\n      token: 'constant.character.entity',\n    },\n    {\n      foreground: '990000',\n      token: 'entity.name.exception',\n    },\n    {\n      foreground: '990000',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '990000',\n      token: 'support.function',\n    },\n    {\n      foreground: '990000',\n      token: 'keyword.other.name-of-parameter',\n    },\n    {\n      foreground: '555555',\n      token: 'entity.name.section',\n    },\n    {\n      foreground: '000080',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: '008080',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: '008080',\n      token: 'support.variable',\n    },\n    {\n      foreground: '009999',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: '009999',\n      token: 'constant.other',\n    },\n    {\n      foreground: 'dd1144',\n      token: 'string - string source',\n    },\n    {\n      foreground: 'dd1144',\n      token: 'constant.character',\n    },\n    {\n      foreground: '009926',\n      token: 'string.regexp',\n    },\n    {\n      foreground: '990073',\n      token: 'constant.other.symbol',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'punctuation',\n    },\n    {\n      foreground: '000000',\n      background: 'ffdddd',\n      token: 'markup.deleted',\n    },\n    {\n      fontStyle: 'italic',\n      token: 'markup.italic',\n    },\n    {\n      foreground: 'aa0000',\n      token: 'markup.error',\n    },\n    {\n      foreground: '999999',\n      token: 'markup.heading.1',\n    },\n    {\n      foreground: '000000',\n      background: 'ddffdd',\n      token: 'markup.inserted',\n    },\n    {\n      foreground: '888888',\n      token: 'markup.output',\n    },\n    {\n      foreground: '888888',\n      token: 'markup.raw',\n    },\n    {\n      foreground: '555555',\n      token: 'markup.prompt',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'markup.bold',\n    },\n    {\n      foreground: 'aaaaaa',\n      token: 'markup.heading',\n    },\n    {\n      foreground: 'aa0000',\n      token: 'markup.traceback',\n    },\n    {\n      fontStyle: 'underline',\n      token: 'markup.underline',\n    },\n    {\n      foreground: '999999',\n      background: 'eaf2f5',\n      token: 'meta.diff.range',\n    },\n    {\n      foreground: '999999',\n      background: 'eaf2f5',\n      token: 'meta.diff.index',\n    },\n    {\n      foreground: '999999',\n      background: 'eaf2f5',\n      token: 'meta.separator',\n    },\n    {\n      foreground: '999999',\n      background: 'ffdddd',\n      token: 'meta.diff.header.from-file',\n    },\n    {\n      foreground: '999999',\n      background: 'ddffdd',\n      token: 'meta.diff.header.to-file',\n    },\n    {\n      foreground: '4183c4',\n      token: 'meta.link',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#000000',\n    'editor.background': '#F8F8FF',\n    'editor.selectionBackground': '#B4D5FE',\n    'editor.lineHighlightBackground': '#FFFEEB',\n    'editorCursor.foreground': '#666666',\n    'editorWhitespace.foreground': '#BBBBBB',\n  },\n};\n\nexport default {\n  name: 'GitHub',\n  themeName: 'github',\n  themeData,\n};\n","// @flow\nimport TomorrowNight from './TomorrowNight';\nimport Monokai from './Monokai';\nimport Tomorrow from './Tomorrow';\nimport SolarizedDark from './SolarizedDark';\nimport SolarizedLight from './SolarizedLight';\nimport VibrantInk from './VibrantInk';\nimport GitHub from './GitHub';\n\ntype CodeEditorTheme = {|\n  name: string,\n  themeName: string,\n  themeData?: any,\n|};\n\n// Want to add a new theme? Grab a theme made for Visual Studio Code (Monaco Editor)\n// (for example on https://bitwiser.in/monaco-themes/). Copy an existing file (like Monokai.js),\n// replace themeData, update the name, and finally add it to this list\n// (+import it at the top of the file):\nconst themes: Array<CodeEditorTheme> = [\n  // Built-in Monaco editor themes\n  {\n    name: 'Visual Studio',\n    themeName: 'vs',\n  },\n  {\n    name: 'Visual Studio Dark',\n    themeName: 'vs-dark',\n  },\n  // Third parties themes\n  GitHub,\n  Monokai,\n  SolarizedDark,\n  SolarizedLight,\n  Tomorrow,\n  TomorrowNight,\n  VibrantInk,\n];\n\nexport const getAllThemes = () => themes;\n","// @flow\nimport * as React from 'react';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport Audiotrack from 'material-ui/svg-icons/image/audiotrack';\n\nconst styles = {\n  previewContainer: {\n    display: 'flex',\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 200,\n    border: '#AAAAAA 1px solid',\n    background: 'url(\"res/transparentback.png\") repeat',\n  },\n  icon: { width: 60, height: 60 },\n};\n\ntype Props = {|\n  project: gdProject,\n  resourceName: string,\n  resourcesLoader: typeof ResourcesLoader,\n  children?: any,\n  style?: Object,\n  resourcePath?: string,\n|};\n\n/**\n * Display the preview for a resource of a project with kind \"audio\".\n */\nexport default class AudioPreview extends React.Component<Props, void> {\n  render() {\n    return (\n      <div style={styles.previewContainer}>\n        <Audiotrack style={styles.icon} />\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ResourceKind } from '../ResourceSource.flow';\nimport ImagePreview from './ImagePreview';\nimport AudioPreview from './AudioPreview';\n\ntype Props = {|\n  project: gdProject,\n  resourceName: string,\n  resourcePath?: string,\n  resourcesLoader: typeof ResourcesLoader,\n  children?: any,\n  style?: Object,\n  onSize?: (number, number) => void,\n|};\n\ntype State = {|\n  resourceKind: ?ResourceKind,\n|};\n\n/**\n * Display the right preview for any given resource of a project\n */\nexport default class ResourcePreview extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = this._loadFrom(props);\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      newProps.resourceName !== this.props.resourceName ||\n      newProps.project !== this.props.project ||\n      newProps.resourcePath !== this.props.resourcePath\n    ) {\n      this.setState(this._loadFrom(newProps));\n    }\n  }\n\n  _loadFrom(props: Props): State {\n    const { project, resourceName } = props;\n    const resourcesManager = project.getResourcesManager();\n    const resourceKind = resourcesManager.hasResource(resourceName)\n      ? resourcesManager.getResource(resourceName).getKind()\n      : null;\n\n    return {\n      resourceKind,\n    };\n  }\n\n  render() {\n    const { resourceKind } = this.state;\n\n    switch (resourceKind) {\n      case 'image':\n        return (\n          <ImagePreview\n            project={this.props.project}\n            resourceName={this.props.resourceName}\n            resourcesLoader={this.props.resourcesLoader}\n            children={this.props.children}\n            style={this.props.style}\n            onSize={this.props.onSize}\n            resourcePath={this.props.resourcePath}\n          />\n        );\n      case 'audio':\n        return (\n          <AudioPreview\n            project={this.props.project}\n            resourceName={this.props.resourceName}\n            resourcesLoader={this.props.resourcesLoader}\n            children={this.props.children}\n            style={this.props.style}\n            resourcePath={this.props.resourcePath}\n          />\n        );\n      default:\n        return null;\n    }\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Background from '../../UI/Background';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport PropertiesEditor from '../../PropertiesEditor';\nimport ResourcePreview from '../../ResourcesList/ResourcePreview';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport propertiesMapToSchema from '../../PropertiesEditor/PropertiesMapToSchema';\nimport { type Schema } from '../../PropertiesEditor';\n\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\n\nconst styles = {\n  imagePreview: { flex: 1 },\n  propertiesContainer: {\n    padding: 10,\n    overflowY: 'scroll',\n    overflowX: 'hidden',\n    flex: 2,\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  resourcesLoader: typeof ResourcesLoader,\n  resources: Array<gdResource>,\n  onResourcePathUpdated: () => void,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n|};\n\nexport default class ResourcePropertiesEditor extends React.Component<\n  Props,\n  {}\n> {\n  schema: Schema = [\n    {\n      name: 'Resource name',\n      valueType: 'string',\n      disabled: true,\n      getValue: (resource: gdResource) => resource.getName(),\n      setValue: (resource: gdResource, newValue: string) =>\n        resource.setName(newValue),\n    },\n    {\n      name: 'File',\n      valueType: 'string',\n      getValue: (resource: gdResource) => resource.getFile(),\n      setValue: (resource: gdResource, newValue: string) =>\n        resource.setFile(newValue),\n      onEditButtonClick: () => this._chooseResourcePath(),\n    },\n  ];\n\n  _renderEmpty() {\n    return (\n      <EmptyMessage>\n        <Trans>\n          Resources are automatically added to your project whenever you add an\n          image to an object. Choose a resource to display its properties.\n        </Trans>\n      </EmptyMessage>\n    );\n  }\n\n  _chooseResourcePath = () => {\n    const {\n      resources,\n      onResourcePathUpdated,\n      onChooseResource,\n      resourceSources,\n    } = this.props;\n    const resource = resources[0];\n    const sources = resourceSources.filter(\n      source => source.kind === resource.getKind()\n    );\n    if (!sources.length) return;\n    onChooseResource(sources[0].name).then(resources => {\n      if (!resources.length) return; // No path was chosen by the user.\n      resource.setFile(resources[0].getFile());\n      resources.forEach(resource => resource.delete()); // Important, we are responsible for deleting the resources that were given to us. Otherwise we have a memory leak.\n\n      onResourcePathUpdated();\n      this.forceUpdate();\n    });\n  };\n\n  _renderResourcesProperties() {\n    const { resources, project } = this.props;\n    //TODO: Multiple resources support\n    const properties = resources[0].getProperties(project);\n    const resourceSchema = propertiesMapToSchema(\n      properties,\n      resource => resource.getProperties(project),\n      (resource, name, value) => resource.updateProperty(name, value, project)\n    );\n\n    return (\n      <div\n        style={styles.propertiesContainer}\n        key={resources.map(resource => '' + resource.ptr).join(';')}\n      >\n        <PropertiesEditor\n          schema={this.schema.concat(resourceSchema)}\n          instances={resources}\n        />\n      </div>\n    );\n  }\n\n  _renderPreview() {\n    const { resources, project, resourcesLoader } = this.props;\n    if (!resources || !resources.length) return;\n\n    return (\n      <ResourcePreview\n        style={styles.imagePreview}\n        resourceName={resources[0].getName()}\n        resourcePath={resources[0].getFile()}\n        resourcesLoader={resourcesLoader}\n        project={project}\n      />\n    );\n  }\n\n  render() {\n    const { resources } = this.props;\n\n    return (\n      <Background>\n        {this._renderPreview()}\n        {!resources || !resources.length\n          ? this._renderEmpty()\n          : this._renderResourcesProperties()}\n      </Background>\n    );\n  }\n}\n","// @flow\nimport React, { PureComponent } from 'react';\nimport { ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\n\ntype Props = {|\n  onOpenProjectFolder: () => void,\n  onDeleteSelection: () => void,\n  canDelete: boolean,\n  onOpenProperties: () => void,\n|};\n\ntype State = {||};\n\nexport class Toolbar extends PureComponent<Props, State> {\n  render() {\n    const t = str => str; //TODO\n    const { canDelete } = this.props;\n\n    return (\n      <ToolbarGroup lastChild>\n        <ToolbarIcon\n          onClick={this.props.onOpenProjectFolder}\n          src=\"res/ribbon_default/open32.png\"\n          tooltip={t('Open the project folder')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.onOpenProperties}\n          src=\"res/ribbon_default/editprop32.png\"\n          tooltip={t('Open the properties panel')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.onDeleteSelection}\n          src=\"res/ribbon_default/deleteselected32.png\"\n          disabled={!canDelete}\n          tooltip={t('Delete the selected resource')}\n        />\n      </ToolbarGroup>\n    );\n  }\n}\n\nexport default Toolbar;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ResourcesList from '../ResourcesList';\nimport ResourcePropertiesEditor from './ResourcePropertiesEditor';\nimport Toolbar from './Toolbar';\nimport EditorMosaic, { MosaicWindow } from '../UI/EditorMosaic';\nimport InfoBar from '../UI/Messages/InfoBar';\nimport ResourcesLoader from '../ResourcesLoader';\nimport optionalRequire from '../Utils/OptionalRequire';\n\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\n\nconst electron = optionalRequire('electron');\nconst shell = electron ? electron.shell : null;\nconst path = optionalRequire('path');\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n};\n\ntype State = {\n  showPropertiesInfoBar: boolean,\n  selectedResource: ?gdResource,\n};\n\ntype Props = {\n  setToolbar: React.Node => void,\n  project: gdProject,\n  onDeleteResource: (resource: gdResource, cb: (boolean) => void) => void,\n  onRenameResource: (\n    resource: gdResource,\n    newName: string,\n    cb: (boolean) => void\n  ) => void,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n};\n\nexport default class ResourcesEditor extends React.Component<Props, State> {\n  static defaultProps = {\n    setToolbar: () => {},\n  };\n\n  editorMosaic: ?EditorMosaic = null;\n  _propertiesEditor: ?ResourcePropertiesEditor = null;\n  _resourcesList: ?ResourcesList = null;\n  resourcesLoader = ResourcesLoader;\n  state = {\n    showPropertiesInfoBar: false,\n    selectedResource: null,\n  };\n\n  updateToolbar() {\n    this.props.setToolbar(\n      <Toolbar\n        onOpenProjectFolder={this.openProjectFolder}\n        onOpenProperties={this.openProperties}\n        canDelete={!!this.state.selectedResource}\n        onDeleteSelection={() =>\n          this.deleteResource(this.state.selectedResource)\n        }\n      />\n    );\n  }\n\n  deleteResource = (resource: ?gdResource) => {\n    const { project, onDeleteResource } = this.props;\n    if (!resource) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this resource? This can't be undone.\"\n    );\n    if (!answer) return;\n\n    onDeleteResource(resource, doRemove => {\n      if (!doRemove || !resource) return;\n\n      project.getResourcesManager().removeResource(resource.getName());\n      this.setState(\n        {\n          selectedResource: null,\n        },\n        () => {\n          if (this._resourcesList) this._resourcesList.forceUpdateList();\n          this.updateToolbar();\n        }\n      );\n    });\n  };\n\n  openProjectFolder = () => {\n    const project = this.props.project;\n    if (shell) shell.openItem(path.dirname(project.getProjectFile()));\n  };\n\n  openProperties = () => {\n    if (!this.editorMosaic) return;\n    if (!this.editorMosaic.openEditor('properties')) {\n      this.setState({\n        showPropertiesInfoBar: true,\n      });\n    }\n  };\n\n  _onResourceSelected = (selectedResource: ?gdResource) => {\n    this.setState(\n      {\n        selectedResource,\n      },\n      () => {\n        if (this._propertiesEditor) this._propertiesEditor.forceUpdate();\n        this.updateToolbar();\n      }\n    );\n  };\n\n  render() {\n    const {\n      project,\n      onRenameResource,\n      onChooseResource,\n      resourceSources,\n    } = this.props;\n    const { selectedResource } = this.state;\n\n    const editors = {\n      properties: (\n        <MosaicWindow\n          title={<Trans>Properties</Trans>}\n          // Pass resources to force MosaicWindow update when selectedResource is changed\n          resources={selectedResource ? [selectedResource] : []}\n        >\n          <ResourcePropertiesEditor\n            key={selectedResource ? selectedResource.ptr : undefined}\n            resources={selectedResource ? [selectedResource] : []}\n            project={project}\n            resourcesLoader={this.resourcesLoader}\n            ref={propertiesEditor =>\n              (this._propertiesEditor = propertiesEditor)\n            }\n            onResourcePathUpdated={() => {\n              if (this._resourcesList) {\n                this._resourcesList.checkMissingPaths();\n              }\n            }}\n            onChooseResource={onChooseResource}\n            resourceSources={resourceSources}\n          />\n        </MosaicWindow>\n      ),\n      'resources-list': (\n        <ResourcesList\n          project={project}\n          onDeleteResource={this.deleteResource}\n          onRenameResource={onRenameResource}\n          onSelectResource={this._onResourceSelected}\n          selectedResource={selectedResource}\n          ref={resourcesList => (this._resourcesList = resourcesList)}\n        />\n      ),\n    };\n\n    return (\n      <div style={styles.container}>\n        <EditorMosaic\n          editors={editors}\n          ref={editorMosaic => (this.editorMosaic = editorMosaic)}\n          initialNodes={{\n            direction: 'row',\n            first: 'properties',\n            second: 'resources-list',\n            splitPercentage: 75,\n          }}\n        />\n        <InfoBar\n          message={<Trans>Properties panel is already opened</Trans>}\n          show={!!this.state.showPropertiesInfoBar}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport BaseEditor from './BaseEditor';\nimport ResourcesFullEditor from '../../ResourcesEditor';\n\nexport default class ResourcesEditor extends BaseEditor {\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  render() {\n    const { project } = this.props;\n\n    return (\n      <ResourcesFullEditor\n        {...this.props}\n        ref={editor => (this.editor = editor)}\n        project={project}\n      />\n    );\n  }\n}\n","import { Component } from 'react';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport { DragDropContext } from 'react-dnd';\n\nclass DragDropContextProvider extends Component {\n  render() {\n    return this.props.children;\n  }\n}\n\nexport default DragDropContext(HTML5Backend)(DragDropContextProvider);\n","// @flow\nimport * as React from 'react';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nexport default ({\n  children,\n  isLoading,\n}: {\n  children: React.Node,\n  isLoading: ?boolean,\n}) => (\n  <div style={{ display: 'flex', alignItems: 'center' }}>\n    {children}\n    {isLoading && <CircularProgress size={20} style={{ marginLeft: 5 }} />}\n  </div>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Dialog from '../UI/Dialog';\nimport { Column, Line, Spacer } from '../UI/Grid';\nimport TextField from 'material-ui/TextField/TextField';\nimport {\n  type LoginForm,\n  type LoginError,\n} from '../Utils/GDevelopServices/Authentification';\nimport RightLoader from '../UI/RightLoader';\nimport LeftLoader from '../UI/LeftLoader';\n\ntype Props = {|\n  open: boolean,\n  onClose: Function,\n  onLogin: (form: LoginForm) => void,\n  onCreateAccount: (form: LoginForm) => void,\n  onForgotPassword: (form: LoginForm) => void,\n  loginInProgress: boolean,\n  createAccountInProgress: boolean,\n  error: ?LoginError,\n  resetPasswordDialogOpen: boolean,\n  onCloseResetPasswordDialog: Function,\n  forgotPasswordInProgress: boolean,\n|};\n\ntype State = {|\n  form: LoginForm,\n|};\n\nconst getEmailErrorText = (error: ?LoginError) => {\n  if (!error) return undefined;\n\n  if (error.code === 'auth/invalid-email') return 'This email is invalid';\n  if (error.code === 'auth/user-disabled') return 'The user was disabled';\n  if (error.code === 'auth/user-not-found')\n    return 'This user was not found: have you created your account?';\n  if (error.code === 'auth/email-already-in-use')\n    return 'This email was already used for another account';\n  if (error.code === 'auth/operation-not-allowed')\n    return 'Service seems to be unavailable, please try again later';\n  return undefined;\n};\n\nconst getPasswordErrorText = (error: ?LoginError) => {\n  if (!error) return undefined;\n\n  if (error.code === 'auth/wrong-password') return 'The password is invalid';\n  if (error.code === 'auth/weak-password')\n    return 'This password is too weak: please use more letters and digits';\n  return undefined;\n};\n\nexport default class LoginDialog extends Component<Props, State> {\n  state = {\n    form: {\n      email: '',\n      password: '',\n    },\n  };\n\n  _onLogin = () => {\n    const { form } = this.state;\n    this.props.onLogin(form);\n  };\n\n  _onCreateAccount = () => {\n    const { form } = this.state;\n    this.props.onCreateAccount(form);\n  };\n\n  _onForgotPassword = () => {\n    const { form } = this.state;\n    this.props.onForgotPassword(form);\n  };\n\n  render() {\n    const {\n      open,\n      onClose,\n      createAccountInProgress,\n      loginInProgress,\n      error,\n      resetPasswordDialogOpen,\n      onCloseResetPasswordDialog,\n      forgotPasswordInProgress,\n    } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        key=\"close\"\n        primary={false}\n        onClick={onClose}\n      />,\n    ];\n\n    return (\n      <Dialog\n        title={<Trans>Login or create a GDevelop account</Trans>}\n        actions={actions}\n        secondaryActions={[\n          <RightLoader\n            isLoading={forgotPasswordInProgress}\n            key=\"forgot-password\"\n          >\n            <FlatButton\n              label={<Trans>I forgot my password</Trans>}\n              primary={false}\n              disabled={\n                loginInProgress ||\n                createAccountInProgress ||\n                forgotPasswordInProgress\n              }\n              onClick={this._onForgotPassword}\n            />\n          </RightLoader>,\n        ]}\n        onRequestClose={onClose}\n        open={open}\n        autoScrollBodyContent\n      >\n        <Column noMargin>\n          <TextField\n            value={this.state.form.email}\n            floatingLabelText={<Trans>Email</Trans>}\n            errorText={getEmailErrorText(error)}\n            fullWidth\n            onChange={(e, value) => {\n              this.setState({\n                form: {\n                  ...this.state.form,\n                  email: value,\n                },\n              });\n            }}\n          />\n          <TextField\n            value={this.state.form.password}\n            floatingLabelText={<Trans>Password</Trans>}\n            errorText={getPasswordErrorText(error)}\n            type=\"password\"\n            fullWidth\n            onChange={(e, value) => {\n              this.setState({\n                form: {\n                  ...this.state.form,\n                  password: value,\n                },\n              });\n            }}\n          />\n          <Spacer />\n          <Line expand justifyContent=\"space-between\">\n            <RightLoader isLoading={createAccountInProgress}>\n              <RaisedButton\n                label={<Trans>Create my account</Trans>}\n                disabled={\n                  loginInProgress ||\n                  createAccountInProgress ||\n                  forgotPasswordInProgress\n                }\n                onClick={this._onCreateAccount}\n              />\n            </RightLoader>\n\n            <LeftLoader isLoading={loginInProgress}>\n              <FlatButton\n                label={<Trans>Login</Trans>}\n                onClick={this._onLogin}\n                disabled={\n                  loginInProgress ||\n                  createAccountInProgress ||\n                  forgotPasswordInProgress\n                }\n              />\n            </LeftLoader>\n          </Line>\n        </Column>\n        <Dialog\n          open={resetPasswordDialogOpen}\n          title={<Trans>Reset your password</Trans>}\n          actions={[\n            <FlatButton\n              label={<Trans>Close</Trans>}\n              key=\"close\"\n              onClick={onCloseResetPasswordDialog}\n            />,\n          ]}\n        >\n          <Column noMargin>\n            <p>\n              <Trans>\n                You should have received an email containing instructions to\n                reset and set a new password. Once it's done, you can use your\n                new password in GDevelop.\n              </Trans>\n            </p>\n          </Column>\n        </Dialog>\n      </Dialog>\n    );\n  }\n}\n","// @flow\n\nimport * as React from 'react';\nimport {\n  getUserUsages,\n  getUserSubscription,\n  getUserLimits,\n} from '../Utils/GDevelopServices/Usage';\nimport Authentification, {\n  type Profile,\n  type LoginForm,\n  type LoginError,\n} from '../Utils/GDevelopServices/Authentification';\nimport LoginDialog from './LoginDialog';\nimport { watchPromiseInState } from '../Utils/WatchPromiseInState';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { sendSignupDone } from '../Utils/Analytics/EventSender';\nimport UserProfileContext, {\n  initialUserProfile,\n  type UserProfile,\n} from './UserProfileContext';\n\ntype Props = {\n  authentification: Authentification,\n  children: React.Node,\n};\n\ntype State = {|\n  userProfile: UserProfile,\n  loginDialogOpen: boolean,\n  loginInProgress: boolean,\n  createAccountInProgress: boolean,\n  loginError: ?LoginError,\n  resetPasswordDialogOpen: boolean,\n  forgotPasswordInProgress: boolean,\n|};\n\nexport default class UserProfileProvider extends React.Component<Props, State> {\n  state = {\n    userProfile: initialUserProfile,\n    loginDialogOpen: false,\n    loginInProgress: false,\n    createAccountInProgress: false,\n    loginError: null,\n    resetPasswordDialogOpen: false,\n    forgotPasswordInProgress: false,\n  };\n\n  componentDidMount() {\n    this._resetUserProfile();\n    this.props.authentification.onUserChange(this._fetchUserProfile);\n  }\n\n  _resetUserProfile() {\n    this.setState({\n      userProfile: {\n        ...initialUserProfile,\n        onLogout: this._doLogout,\n        onLogin: () => this.openLogin(true),\n        onRefreshUserProfile: this._fetchUserProfile,\n        getAuthorizationHeader: () =>\n          this.props.authentification.getAuthorizationHeader(),\n      },\n    });\n  }\n\n  _fetchUserProfile = () => {\n    const { authentification } = this.props;\n\n    authentification.getUserProfile((err, profile: ?Profile) => {\n      if (err && err.unauthenticated) {\n        return this.setState({\n          userProfile: {\n            ...this.state.userProfile,\n            authenticated: false,\n            profile: null,\n            usages: null,\n            limits: null,\n            subscription: null,\n          },\n        });\n      } else if (err || !profile) {\n        console.log('Unable to fetch user profile', err);\n        return;\n      }\n\n      this.setState(\n        {\n          userProfile: {\n            ...this.state.userProfile,\n            authenticated: true,\n            profile,\n          },\n        },\n        () => {\n          if (!profile) return;\n\n          getUserUsages(\n            authentification.getAuthorizationHeader,\n            profile.uid\n          ).then(usages =>\n            this.setState({\n              userProfile: {\n                ...this.state.userProfile,\n                usages,\n              },\n            })\n          );\n          getUserSubscription(\n            authentification.getAuthorizationHeader,\n            profile.uid\n          ).then(subscription =>\n            this.setState({\n              userProfile: {\n                ...this.state.userProfile,\n                subscription,\n              },\n            })\n          );\n          getUserLimits(\n            authentification.getAuthorizationHeader,\n            profile.uid\n          ).then(limits =>\n            this.setState({\n              userProfile: {\n                ...this.state.userProfile,\n                limits,\n              },\n            })\n          );\n        }\n      );\n    });\n  };\n\n  _doLogout = () => {\n    if (this.props.authentification) this.props.authentification.logout();\n    this._resetUserProfile();\n  };\n\n  _doLogin = (form: LoginForm) => {\n    const { authentification } = this.props;\n    if (!authentification) return;\n\n    watchPromiseInState(this, 'loginInProgress', () =>\n      authentification.login(form).then(\n        () => {\n          this._fetchUserProfile();\n          this.openLogin(false);\n        },\n        (loginError: LoginError) => {\n          this.setState({\n            loginError,\n          });\n          throw loginError;\n        }\n      )\n    );\n  };\n\n  _doCreateAccount = (form: LoginForm) => {\n    const { authentification } = this.props;\n    if (!authentification) return;\n\n    watchPromiseInState(this, 'createAccountInProgress', () =>\n      authentification.createAccount(form).then(\n        () => {\n          this._fetchUserProfile();\n          this.openLogin(false);\n          sendSignupDone(form.email);\n        },\n        (loginError: LoginError) => {\n          this.setState({\n            loginError,\n          });\n          throw loginError;\n        }\n      )\n    );\n  };\n\n  _doForgotPassword = (form: LoginForm) => {\n    const { authentification } = this.props;\n    if (!authentification) return;\n\n    watchPromiseInState(this, 'forgotPasswordInProgress', () =>\n      authentification.forgotPassword(form).then(\n        () => {\n          this.openResetPassword(true);\n        },\n        (loginError: LoginError) => {\n          this.setState({\n            loginError,\n          });\n          showWarningBox(\n            \"Unable to send you an email to reset your password. Please double-check that the email address that you've entered is valid.\"\n          );\n          throw loginError;\n        }\n      )\n    );\n  };\n\n  openResetPassword = (open: boolean = true) => {\n    this.setState({\n      resetPasswordDialogOpen: open,\n    });\n  };\n\n  openLogin = (open: boolean = true) => {\n    this.setState({\n      loginDialogOpen: open,\n    });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <UserProfileContext.Provider value={this.state.userProfile}>\n          {this.props.children}\n        </UserProfileContext.Provider>\n        {this.state.loginDialogOpen && (\n          <LoginDialog\n            open={this.state.loginDialogOpen}\n            onClose={() => this.openLogin(false)}\n            onLogin={this._doLogin}\n            onCreateAccount={this._doCreateAccount}\n            loginInProgress={this.state.loginInProgress}\n            createAccountInProgress={this.state.createAccountInProgress}\n            error={this.state.loginError}\n            onForgotPassword={this._doForgotPassword}\n            resetPasswordDialogOpen={this.state.resetPasswordDialogOpen}\n            onCloseResetPasswordDialog={() => this.openResetPassword(false)}\n            forgotPasswordInProgress={this.state.forgotPasswordInProgress}\n          />\n        )}\n      </React.Fragment>\n    );\n  }\n}\n","// @flow\n\nimport * as React from 'react';\nimport PreferencesContext, {\n  initialPreferences,\n  type Preferences,\n  type PreferencesValues,\n  type AlertMessageIdentifier,\n} from './PreferencesContext';\nimport optionalRequire from '../../Utils/OptionalRequire';\nimport { getIDEVersion } from '../../Version';\nconst electron = optionalRequire('electron');\nconst ipcRenderer = electron ? electron.ipcRenderer : null;\n\ntype Props = {|\n  children: React.Node,\n  disableCheckForUpdates: boolean,\n|};\n\ntype State = Preferences;\n\nconst LocalStorageItem = 'gd-preferences';\n\nexport default class PreferencesProvider extends React.Component<Props, State> {\n  state = {\n    values: this._loadValuesFromLocalStorage() || initialPreferences.values,\n    setLanguage: this._setLanguage.bind(this),\n    setThemeName: this._setThemeName.bind(this),\n    setCodeEditorThemeName: this._setCodeEditorThemeName.bind(this),\n    setAutoDownloadUpdates: this._setAutoDownloadUpdates.bind(this),\n    checkUpdates: this._checkUpdates.bind(this),\n    setAutoDisplayChangelog: this._setAutoDisplayChangelog.bind(this),\n    showAlertMessage: this._showAlertMessage.bind(this),\n    verifyIfIsNewVersion: this._verifyIfIsNewVersion.bind(this),\n  };\n\n  componentDidMount() {\n    setTimeout(() => this._checkUpdates(), 10000);\n  }\n\n  _setLanguage(language: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          language,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setThemeName(themeName: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          themeName,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setCodeEditorThemeName(codeEditorThemeName: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          codeEditorThemeName,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutoDownloadUpdates(autoDownloadUpdates: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autoDownloadUpdates,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutoDisplayChangelog(autoDisplayChangelog: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autoDisplayChangelog,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _checkUpdates(forceDownload?: boolean) {\n    // Checking for updates is only done on Electron.\n    // Note: This could be abstracted away later if other updates mechanisms\n    // should be supported.\n    const { disableCheckForUpdates } = this.props;\n    if (!ipcRenderer || disableCheckForUpdates) return;\n\n    if (!!forceDownload || this.state.values.autoDownloadUpdates) {\n      ipcRenderer.send('updates-check-and-download');\n    } else {\n      ipcRenderer.send('updates-check');\n    }\n  }\n\n  _verifyIfIsNewVersion() {\n    const currentVersion = getIDEVersion();\n    const { lastLaunchedVersion } = this.state.values;\n    if (lastLaunchedVersion === currentVersion) {\n      // This is not a new version\n      return false;\n    }\n\n    // This is a new version: store the version number\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          lastLaunchedVersion: currentVersion,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n\n    if (lastLaunchedVersion === undefined) {\n      // This is the first time GDevelop is launched, don't\n      // warn about this version being new.\n      return false;\n    }\n\n    return true;\n  }\n\n  _showAlertMessage(identifier: AlertMessageIdentifier, show: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          hiddenAlertMessages: {\n            ...state.values.hiddenAlertMessages,\n            [identifier]: !show,\n          },\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _loadValuesFromLocalStorage(): ?PreferencesValues {\n    try {\n      const persistedState = localStorage.getItem(LocalStorageItem);\n      if (!persistedState) return null;\n\n      const values = JSON.parse(persistedState);\n\n      // \"Migrate\" non existing properties to their default values\n      // (useful when upgrading the preferences to a new version where\n      // a new preference was added).\n      for (const key in initialPreferences.values) {\n        if (\n          initialPreferences.values.hasOwnProperty(key) &&\n          typeof values[key] === 'undefined'\n        ) {\n          values[key] = initialPreferences.values[key];\n        }\n      }\n\n      return values;\n    } catch (e) {\n      return null;\n    }\n  }\n\n  _persistValuesToLocalStorage(preferences: Preferences) {\n    try {\n      localStorage.setItem(\n        LocalStorageItem,\n        JSON.stringify(preferences.values)\n      );\n    } catch (e) {\n      console.warn('Unable to persist preferences', e);\n    }\n\n    return preferences;\n  }\n\n  render() {\n    return (\n      <PreferencesContext.Provider value={this.state}>\n        {this.props.children}\n      </PreferencesContext.Provider>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport DragDropContextProvider from '../Utils/DragDropHelpers/DragDropContextProvider';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport { getTheme } from '../UI/Theme';\nimport UserProfileProvider from '../Profile/UserProfileProvider';\nimport Authentification from '../Utils/GDevelopServices/Authentification';\nimport PreferencesProvider from './Preferences/PreferencesProvider';\nimport PreferencesContext from './Preferences/PreferencesContext';\nimport GDI18nProvider from '../Utils/i18n/GDI18nProvider';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\ntype Props = {|\n  authentification: Authentification,\n  children: ({ i18n: I18nType }) => React.Node,\n  disableCheckForUpdates: boolean,\n|};\n\n/**\n * Wrap the children with Drag and Drop, Material UI theme and i18n React providers,\n * so that these modules can be used in the children.\n */\nexport default class Providers extends React.Component<Props, {||}> {\n  render() {\n    const { disableCheckForUpdates, authentification, children } = this.props;\n    return (\n      <DragDropContextProvider>\n        <PreferencesProvider disableCheckForUpdates={disableCheckForUpdates}>\n          <PreferencesContext.Consumer>\n            {({ values }) => (\n              <GDI18nProvider language={values.language}>\n                <MuiThemeProvider muiTheme={getTheme(values.themeName)}>\n                  <UserProfileProvider authentification={authentification}>\n                    <I18n update>{({ i18n }) => children({ i18n })}</I18n>\n                  </UserProfileProvider>\n                </MuiThemeProvider>\n              </GDI18nProvider>\n            )}\n          </PreferencesContext.Consumer>\n        </PreferencesProvider>\n      </DragDropContextProvider>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\nimport { type Build } from '../../Utils/GDevelopServices/Build';\nimport { Column, Line } from '../../UI/Grid';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport PlaceholderLoader from '../../UI/PlaceholderLoader';\nimport BuildProgress from './BuildProgress';\nimport format from 'date-fns/format';\nimport difference_in_calendar_days from 'date-fns/difference_in_calendar_days';\n\ntype Props = {|\n  builds: ?Array<Build>,\n  onDownload: (build: Build, key: string) => void,\n|};\n\nconst styles = {\n  buildContainer: {\n    padding: 10,\n  },\n};\n\nexport default ({ builds, onDownload }: Props) => {\n  return (\n    <Column noMargin expand>\n      <Line>\n        <Column>\n          <EmptyMessage>\n            <Trans>\n              This is the list of builds that you've done. Note that you can\n              download games generated during to 7 days, after which they are\n              removed.\n            </Trans>\n          </EmptyMessage>\n        </Column>\n      </Line>\n      <Line>\n        {!builds ? (\n          <PlaceholderLoader />\n        ) : builds.length === 0 ? (\n          <EmptyMessage>\n            <Trans>\n              You don't have any builds on the online services for now\n            </Trans>\n          </EmptyMessage>\n        ) : (\n          <Column noMargin expand>\n            {builds.map((build: Build) => {\n              const isOld =\n                build &&\n                difference_in_calendar_days(Date.now(), build.updatedAt) > 6;\n\n              return (\n                <Paper style={styles.buildContainer} key={build.id}>\n                  <p>\n                    {build.type} - Last updated on{' '}\n                    {format(build.updatedAt, 'YYYY-MM-DD HH:mm:ss')}\n                  </p>\n                  {!isOld && (\n                    <BuildProgress\n                      build={build}\n                      onDownload={key => onDownload(build, key)}\n                    />\n                  )}\n                  {isOld && (\n                    <EmptyMessage>\n                      <Trans>\n                        This build is old and the generated games can't be\n                        downloaded anymore.\n                      </Trans>\n                    </EmptyMessage>\n                  )}\n                </Paper>\n              );\n            })}\n          </Column>\n        )}\n      </Line>\n    </Column>\n  );\n};\n","// @flow\nimport React, { Component } from 'react';\nimport UserProfileContext, {\n  type UserProfile,\n} from '../../Profile/UserProfileContext';\nimport BuildsList from './BuildsList';\nimport {\n  getBuilds,\n  type Build,\n  getUrl,\n} from '../../Utils/GDevelopServices/Build';\nimport Window from '../../Utils/Window';\nimport BuildsWatcher from './BuildsWatcher';\n\ntype ContainerProps = {|\n  onBuildsUpdated: ?() => void,\n|};\ntype Props = {|\n  onBuildsUpdated: ?() => void,\n  userProfile: UserProfile,\n|};\ntype State = {|\n  builds: ?Array<Build>,\n|};\n\nexport class Builds extends Component<Props, State> {\n  state = {\n    builds: null,\n  };\n  buildsWatcher = new BuildsWatcher();\n\n  componentDidMount() {\n    this._refreshBuilds();\n  }\n\n  componentWillUnmount() {\n    this.buildsWatcher.stop();\n  }\n\n  _startBuildsWatcher = () => {\n    if (!this.state.builds) return;\n\n    this.buildsWatcher.start({\n      userProfile: this.props.userProfile,\n      builds: this.state.builds,\n      onBuildUpdated: (newBuild: Build) => {\n        if (!this.state.builds) return;\n\n        this.setState({\n          builds: this.state.builds.map((oldBuild: Build) => {\n            if (newBuild.id === oldBuild.id) return newBuild;\n\n            return oldBuild;\n          }),\n        });\n      },\n    });\n  };\n\n  _refreshBuilds = () => {\n    const { getAuthorizationHeader, profile } = this.props.userProfile;\n    if (!profile) return;\n\n    getBuilds(getAuthorizationHeader, profile.uid).then(\n      builds => {\n        this.setState(\n          {\n            builds,\n          },\n          () => {\n            this._startBuildsWatcher();\n            if (this.props.onBuildsUpdated) this.props.onBuildsUpdated();\n          }\n        );\n      },\n      () => {\n        //TODO: Handle error\n      }\n    );\n  };\n\n  _download = (build: Build, key: string) => {\n    if (!build || !build[key]) return;\n\n    Window.openExternalURL(getUrl(build[key]));\n  };\n\n  render() {\n    return (\n      <BuildsList builds={this.state.builds} onDownload={this._download} />\n    );\n  }\n}\n\nconst BuildsContainer = (props: ContainerProps) => (\n  <UserProfileContext.Consumer>\n    {(userProfile: UserProfile) => (\n      <Builds\n        userProfile={userProfile}\n        onBuildsUpdated={props.onBuildsUpdated}\n      />\n    )}\n  </UserProfileContext.Consumer>\n);\n\nexport default BuildsContainer;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport Dialog from '../../UI/Dialog';\nimport HelpButton from '../../UI/HelpButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport Builds from '.';\n\ntype Props = {|\n  open: boolean,\n  onClose: () => void,\n|};\ntype State = {||};\n\nexport default class BuildsDialog extends Component<Props, State> {\n  _onBuildsUpdated = () => {\n    // Force the Dialog repositioning\n    this.forceUpdate();\n  };\n\n  render() {\n    const { open, onClose } = this.props;\n    if (!open) return null;\n\n    return (\n      <Dialog\n        title={<Trans>All your builds</Trans>}\n        onRequestClose={onClose}\n        actions={[\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            key=\"close\"\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        secondaryActions={[\n          <HelpButton key=\"help\" helpPagePath={'/publishing'} />,\n        ]}\n        open={open}\n        noMargin\n        autoScrollBodyContent\n      >\n        <Builds onBuildsUpdated={this._onBuildsUpdated} />\n      </Dialog>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport Subheader from 'material-ui/Subheader';\nimport { List, ListItem } from 'material-ui/List';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\nimport BuildsDialog from './Builds/BuildsDialog';\nimport { Line } from '../UI/Grid';\n\nconst styles = {\n  icon: { width: 40, height: 40 },\n  disabledItem: { opacity: 0.6 },\n  content: { padding: 24 },\n};\n\nexport default class ExportDialog extends Component {\n  state = {\n    chosenExporterKey: '',\n    showExperimental: false,\n    buildsDialogOpen: false,\n  };\n\n  chooseExporter = key => {\n    this.setState({\n      chosenExporterKey: key,\n    });\n  };\n\n  _showExperimental = (show = true) => {\n    this.setState({\n      showExperimental: show,\n    });\n  };\n\n  _openBuildsDialog = (open = true) => {\n    this.setState({\n      buildsDialogOpen: open,\n    });\n  };\n\n  _renderExporterListItem = (exporter, index) => {\n    return (\n      <ListItem\n        key={exporter.key}\n        disabled={exporter.disabled}\n        style={exporter.disabled ? styles.disabledItem : undefined}\n        leftAvatar={exporter.renderIcon({ style: styles.icon })}\n        primaryText={exporter.name}\n        secondaryText={<p>{exporter.description}</p>}\n        secondaryTextLines={2}\n        onClick={() => this.chooseExporter(exporter.key)}\n      />\n    );\n  };\n\n  render() {\n    const {\n      project,\n      open,\n      onClose,\n      authentification, //Still exist?\n      onChangeSubscription,\n      exporters,\n    } = this.props;\n    const { showExperimental, chosenExporterKey } = this.state;\n    if (!open || !project) return null;\n\n    const exporter = exporters.find(\n      exporter => exporter.key === chosenExporterKey\n    );\n\n    return (\n      <Dialog\n        title={<Trans>Export project to a standalone game</Trans>}\n        onRequestClose={onClose}\n        actions={[\n          chosenExporterKey && (\n            <FlatButton\n              label={<Trans>Back</Trans>}\n              key=\"back\"\n              primary={false}\n              onClick={() => this.chooseExporter('')}\n            />\n          ),\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            key=\"close\"\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        secondaryActions={[\n          <HelpButton\n            key=\"help\"\n            helpPagePath={(exporter && exporter.helpPage) || '/publishing'}\n          />,\n          <FlatButton\n            key=\"builds\"\n            label={<Trans>See all my builds</Trans>}\n            onClick={() => this._openBuildsDialog(true)}\n          />,\n        ]}\n        open={open}\n        noMargin\n        autoScrollBodyContent\n      >\n        {!exporter && (\n          <React.Fragment>\n            <List>\n              {exporters\n                .filter(\n                  exporter => !exporter.advanced && !exporter.experimental\n                )\n                .map((exporter, index) =>\n                  this._renderExporterListItem(exporter, index)\n                )}\n\n              <Subheader>Advanced</Subheader>\n              {exporters\n                .filter(exporter => exporter.advanced)\n                .map((exporter, index) =>\n                  this._renderExporterListItem(exporter, index)\n                )}\n\n              {showExperimental && <Subheader>Experimental</Subheader>}\n              {showExperimental &&\n                exporters\n                  .filter(exporter => exporter.experimental)\n                  .map((exporter, index) =>\n                    this._renderExporterListItem(exporter, index)\n                  )}\n            </List>\n            <Line justifyContent=\"center\" alignItems=\"center\">\n              {!showExperimental ? (\n                <FlatButton\n                  key=\"toggle-experimental\"\n                  icon={<Visibility />}\n                  primary={false}\n                  onClick={() => this._showExperimental(true)}\n                  label={<Trans>Show experimental exports</Trans>}\n                />\n              ) : (\n                <FlatButton\n                  key=\"toggle-experimental\"\n                  icon={<VisibilityOff />}\n                  primary={false}\n                  onClick={() => this._showExperimental(false)}\n                  label={<Trans>Hide experimental exports</Trans>}\n                />\n              )}\n            </Line>\n          </React.Fragment>\n        )}\n        {exporter && (\n          <div style={styles.content}>\n            <exporter.ExportComponent\n              project={project}\n              authentification={authentification} //Still exist?\n              onChangeSubscription={onChangeSubscription}\n              onOpenBuildsDialog={this._openBuildsDialog}\n            />\n          </div>\n        )}\n        <BuildsDialog\n          open={this.state.buildsDialogOpen}\n          onClose={() => this._openBuildsDialog(false)}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { type Theme } from '../DefaultTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport './Mosaic.css';\nimport './EventsSheet.css';\nimport 'react-virtualized/styles.css'; // Styles for react-virtualized Table\nimport './Table.css';\nimport './Markdown.css';\n\nconst almostWhite = '#EEE';\nconst lightWhite = '#DDD';\nconst notSoWhite = '#CCC';\nconst gdevelopDarkBlue = '#3c4698';\nconst blue = '#2C5FD2';\n\nconst systemSelectionColor = '#4c92ff'; //OS X selection\n\nconst backgroundColor = '#252525';\nconst canvasColor = '#303030';\n\nconst theme: Theme = {\n  fontFamily: '-apple-system, BlinkMacSystemFont, sans-serif', //OS X font\n  palette: {\n    primary1Color: blue,\n    primary2Color: blue,\n    accent1Color: almostWhite,\n    canvasColor,\n    textColor: lightWhite,\n    secondaryTextColor: notSoWhite,\n    alternateTextColor: '#444',\n    borderColor: '#444444',\n    disabledColor: '#888888',\n    pickerHeaderColor: '#444444',\n    clockCircleColor: '#444444',\n  },\n  avatar: {\n    backgroundColor: 'transparent',\n  },\n  tabs: {\n    backgroundColor: gdevelopDarkBlue,\n    textColor: lightWhite,\n    selectedTextColor: almostWhite,\n  },\n  toolbar: {\n    backgroundColor: backgroundColor,\n    separatorColor: '#303030',\n    menuHoverColor: systemSelectionColor,\n    hoverColor: systemSelectionColor,\n  },\n  menuItem: {\n    dataHeight: 24,\n    height: 32,\n    hoverColor: systemSelectionColor,\n    selectedTextColor: systemSelectionColor,\n    padding: 8,\n  },\n  appBar: {\n    color: gdevelopDarkBlue,\n    textColor: almostWhite,\n  },\n  button: {\n    height: 32,\n    iconButtonSize: 24,\n  },\n  snackbar: {\n    actionColor: blue,\n  },\n  stepper: {\n    textColor: lightWhite,\n  },\n  raisedButton: {\n    primaryTextColor: notSoWhite,\n  },\n\n  // GDevelop specific variables:\n  closableTabs: {\n    backgroundColor: backgroundColor,\n    textColor: '#878787',\n    selectedBackgroundColor: gdevelopDarkBlue,\n    selectedTextColor: almostWhite,\n    width: 200,\n    height: 32,\n    closeButtonWidth: 24,\n  },\n  imageThumbnail: {\n    selectedBorderColor: systemSelectionColor,\n  },\n  list: {\n    itemsBackgroundColor: '#494949',\n  },\n  listItem: {\n    groupBackgroundColor: backgroundColor,\n    groupTextColor: '#AAA',\n    deprecatedGroupTextColor: '#888',\n    separatorColor: '#303030',\n    selectedBackgroundColor: systemSelectionColor,\n    selectedTextColor: almostWhite,\n    errorTextColor: '#ff2e16',\n    selectedErrorBackgroundColor: '#ff2e16',\n  },\n  emptyMessage: {\n    shadowColor: '#000',\n  },\n  logo: {\n    src: 'res/GD-logo.png',\n  },\n  mosaicRootClassName: 'mosaic-gd-dark-theme', // See Mosaic.css\n  eventsSheetRootClassName: 'gd-events-sheet-dark-theme', // See EventsSheet.css\n  tableRootClassName: 'gd-table-dark-theme', // See Table.css\n  markdownRootClassName: 'gd-markdown-dark-theme', // See Markdown.css\n  gdevelopIconsCSSFilter: '',\n};\n\nexport default getMuiTheme(theme);\n","// @flow\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport './Mosaic.css';\nimport './EventsSheet.css';\nimport 'react-virtualized/styles.css'; // Styles for react-virtualized Table\nimport './Table.css';\nimport './Markdown.css';\n\nconst gdevelopPurple = '#9100ce';\nconst gdevelopLightBlue = '#4ab0e4';\nconst gdevelopDarkBlue = '#3c4698';\n\nconst systemSelectionColor = '#4c92ff'; //OS X selection\n\nconst backgroundColor = '#f7f7f7';\nconst canvasColor = '#f0f0f0';\n\nconst theme = {\n  fontFamily: '-apple-system, BlinkMacSystemFont, sans-serif', //OS X font\n  palette: {\n    primary1Color: gdevelopLightBlue,\n    primary2Color: gdevelopDarkBlue,\n    accent1Color: gdevelopPurple,\n    canvasColor,\n  },\n  avatar: {\n    backgroundColor: 'transparent',\n  },\n  tabs: {\n    backgroundColor: gdevelopLightBlue,\n  },\n  toolbar: {\n    backgroundColor: backgroundColor,\n    separatorColor: '#cecece',\n    menuHoverColor: systemSelectionColor,\n    hoverColor: systemSelectionColor,\n  },\n  menuItem: {\n    dataHeight: 24,\n    height: 32,\n    hoverColor: systemSelectionColor,\n    selectedTextColor: systemSelectionColor,\n    padding: 8,\n  },\n  appBar: {\n    color: gdevelopPurple,\n  },\n  button: {\n    height: 32,\n    iconButtonSize: 24,\n  },\n  snackbar: {\n    actionColor: gdevelopLightBlue,\n  },\n  stepper: {},\n  raisedButton: {\n    primaryTextColor: '#ffffff',\n  },\n\n  // GDevelop specific variables:\n  closableTabs: {\n    backgroundColor: backgroundColor,\n    textColor: '#878787',\n    selectedBackgroundColor: gdevelopLightBlue,\n    selectedTextColor: '#ffffff',\n    width: 200,\n    height: 32,\n    closeButtonWidth: 24,\n  },\n  imageThumbnail: {\n    selectedBorderColor: systemSelectionColor,\n  },\n  list: {\n    itemsBackgroundColor: '#FFFFFF',\n  },\n  listItem: {\n    groupBackgroundColor: backgroundColor,\n    groupTextColor: 'rgba(0,0,0,0.54)',\n    deprecatedGroupTextColor: 'rgba(0,0,0,0.30)',\n    separatorColor: '#e0e0e0',\n    selectedBackgroundColor: systemSelectionColor,\n    selectedTextColor: '#ffffff',\n    errorTextColor: '#ff2e16',\n    selectedErrorBackgroundColor: '#ff2e16',\n  },\n  emptyMessage: {\n    shadowColor: '#FFFFFF',\n  },\n  logo: {\n    src: 'res/GD-logo-big.png',\n  },\n  mosaicRootClassName: 'mosaic-gd-default-theme', // See Mosaic.css\n  eventsSheetRootClassName: 'gd-events-sheet-default-theme', // See EventsSheet.css\n  tableRootClassName: 'gd-table-default-theme', // See Table.css\n  markdownRootClassName: 'gd-markdown-default-theme', // See Markdown.css\n  gdevelopIconsCSSFilter: '',\n};\n\nexport type Theme = $Exact<typeof theme>;\nexport default getMuiTheme(theme);\n","import DarkTheme from './DarkTheme';\nimport DefaultTheme from './DefaultTheme';\n\n// To add a new theme:\n// * copy the folder of an existing one (DefaultTheme for example),\n// * import it at the top of the file\n// * add it below:\nexport const themes = {\n  'GDevelop default': DefaultTheme,\n  Dark: DarkTheme,\n};\n\nexport const getTheme = themeName =>\n  themes[themeName] || themes['GDevelop default'];\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport {\n  type Release,\n  findRelease,\n} from '../../Utils/GDevelopServices/Release';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport PlaceholderLoader from '../../UI/PlaceholderLoader';\nimport ReactMarkdown from 'react-markdown';\nimport { Column, Line } from '../../UI/Grid';\nimport { FlatButton, RaisedButton } from 'material-ui';\nimport Window from '../../Utils/Window';\nimport { hasBreakingChange } from '../../Utils/GDevelopServices/Release';\nimport AlertMessage from '../../UI/AlertMessage';\nimport ThemeConsumer from '../../UI/Theme/ThemeConsumer';\n\ntype Props = {|\n  releases: ?Array<Release>,\n  error: ?Error,\n  currentReleaseName: string,\n|};\n\n/**\n * Display information about latest releases.\n */\nconst ChangelogRenderer = ({ releases, error, currentReleaseName }: Props) => {\n  const openReleaseNote = () =>\n    Window.openExternalURL('https://github.com/4ian/GDevelop/releases');\n\n  if (error) {\n    return (\n      <Column>\n        <Line>\n          <AlertMessage kind=\"warning\">\n            Please double check online the changes to make sure that you are\n            aware of anything new in this version that would require you to\n            adapt your project.\n          </AlertMessage>\n        </Line>\n        <Line>\n          <EmptyMessage>\n            <Trans>\n              Unable to load the information about the latest GDevelop releases.\n              Verify your internet connection or retry later.\n            </Trans>\n          </EmptyMessage>\n        </Line>\n        <Line justifyContent=\"center\">\n          <RaisedButton\n            label={<Trans>See the releases notes online</Trans>}\n            onClick={openReleaseNote}\n          />\n        </Line>\n      </Column>\n    );\n  }\n\n  if (!releases) {\n    return <PlaceholderLoader />;\n  }\n\n  const currentRelease = findRelease(releases, currentReleaseName);\n  const currentVersionHasBreakingChange =\n    !!currentRelease && hasBreakingChange(currentRelease);\n\n  return (\n    <ThemeConsumer>\n      {muiTheme => (\n        <Column>\n          {currentVersionHasBreakingChange && (\n            <AlertMessage kind=\"warning\">\n              This version of GDevelop has a breaking change. Please make sure\n              to read the changes below to understand if any change or\n              adaptation must be made to your project.\n            </AlertMessage>\n          )}\n          {releases.map(release =>\n            release.name ? (\n              <ReactMarkdown\n                key={release.name}\n                escapeHtml\n                source={\n                  '# Version ' +\n                  release.name +\n                  '\\n---\\n' +\n                  (release.description ||\n                    'Changes and new features description will be available soon.')\n                }\n                className={muiTheme.markdownRootClassName}\n              />\n            ) : null\n          )}\n          <Line justifyContent=\"center\">\n            <FlatButton\n              label={<Trans>See all the releases notes</Trans>}\n              onClick={openReleaseNote}\n            />\n          </Line>\n        </Column>\n      )}\n    </ThemeConsumer>\n  );\n};\n\nexport default ChangelogRenderer;\n","// @flow\nimport axios from 'axios';\nimport { GDevelopReleaseApi } from './ApiConfigs';\n\nexport type Release = {\n  name: ?string,\n  publishedAt: ?string,\n  description: ?string,\n};\n\nexport const getReleases = (): Promise<Array<Release>> => {\n  return axios\n    .get(`${GDevelopReleaseApi.baseUrl}/release`, {\n      params: {\n        last: 4,\n      },\n    })\n    .then(response => response.data);\n};\n\nexport const hasBreakingChange = (release: Release): boolean => {\n  return (\n    (release.description || '').toLowerCase().indexOf('breaking change') !== -1\n  );\n};\n\nexport const findRelease = (\n  releases: Array<Release>,\n  name: string\n): ?Release => {\n  return releases.find(release => release.name === name);\n};\n","// @flow\nimport * as React from 'react';\nimport {\n  getReleases,\n  type Release,\n} from '../../Utils/GDevelopServices/Release';\nimport ChangelogRenderer from './ChangelogRenderer';\nimport { getIDEVersion } from '../../Version';\n\ntype State = {|\n  releases: ?Array<Release>,\n  error: ?Error,\n|};\n\ntype Props = {|\n  onUpdated?: () => void,\n|};\n\n/**\n * Load information about latest releases and display them.\n */\nexport default class Changelog extends React.Component<Props, State> {\n  state = {\n    releases: null,\n    error: null,\n  };\n\n  _onUpdated = () => {\n    if (this.props.onUpdated) this.props.onUpdated();\n  };\n\n  componentDidMount() {\n    getReleases()\n      .then(releases =>\n        this.setState(\n          {\n            releases,\n            error: null,\n          },\n          this._onUpdated\n        )\n      )\n      .catch((error: ?Error) =>\n        this.setState(\n          {\n            error,\n          },\n          this._onUpdated\n        )\n      );\n  }\n\n  render() {\n    const { releases, error } = this.state;\n    return (\n      <ChangelogRenderer\n        releases={releases}\n        error={error}\n        currentReleaseName={getIDEVersion()}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport { ListItem } from 'material-ui/List';\nimport IconMenu from '../Menu/IconMenu';\nimport ListIcon from '../ListIcon';\nimport IconButton from 'material-ui/IconButton';\nimport TextField from 'material-ui/TextField';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport { type Item } from '.';\n\nconst styles = {\n  itemName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  textField: {\n    top: -16,\n  },\n};\n\ntype Props = {\n  index: number,\n  item: Item,\n  onRename: string => void,\n  editingName: boolean,\n  getThumbnail?: () => string,\n  selected: true,\n  onItemSelected: () => void,\n  buildMenuTemplate: Item => any,\n  hasErrors: boolean,\n};\n\nclass ThemableItemRow extends React.Component<Props, *> {\n  _renderItemMenu(item) {\n    return (\n      <IconMenu\n        ref={iconMenu => (this._iconMenu = iconMenu)}\n        iconButtonElement={\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        }\n        buildMenuTemplate={() => this.props.buildMenuTemplate(item)}\n      />\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editingName && this.props.editingName) {\n      setTimeout(() => {\n        if (this.textField) this.textField.focus();\n      }, 100);\n    }\n  }\n\n  _onContextMenu = event => {\n    if (this._iconMenu) this._iconMenu.open(event);\n  };\n\n  render() {\n    const {\n      item,\n      selected,\n      style,\n      getThumbnail,\n      hasErrors,\n      muiTheme,\n    } = this.props;\n\n    const itemName = item.getName();\n    const label = this.props.editingName ? (\n      <TextField\n        id=\"rename-item-field\"\n        ref={textField => (this.textField = textField)}\n        defaultValue={itemName}\n        onBlur={e => this.props.onRename(e.target.value)}\n        onKeyPress={event => {\n          if (event.charCode === 13) {\n            // enter key pressed\n            this.textField.blur();\n          }\n        }}\n        fullWidth\n        style={styles.textField}\n      />\n    ) : (\n      <div\n        style={{\n          ...styles.itemName,\n          color: selected ? muiTheme.listItem.selectedTextColor : undefined,\n        }}\n      >\n        {itemName}\n      </div>\n    );\n\n    const itemStyle = {\n      borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n      backgroundColor: selected\n        ? hasErrors\n          ? muiTheme.listItem.selectedErrorBackgroundColor\n          : muiTheme.listItem.selectedBackgroundColor\n        : undefined,\n      color: hasErrors ? muiTheme.listItem.errorTextColor : undefined,\n    };\n\n    return (\n      <ListItem\n        style={{ ...itemStyle, ...style }}\n        onContextMenu={this._onContextMenu}\n        primaryText={label}\n        leftIcon={\n          getThumbnail && <ListIcon iconSize={32} src={getThumbnail()} />\n        }\n        rightIconButton={this._renderItemMenu(item)}\n        onClick={() => {\n          if (!this.props.onItemSelected) return;\n          if (this.props.editingName) return;\n\n          this.props.onItemSelected(selected ? null : item);\n        }}\n      />\n    );\n  }\n}\n\nconst ItemRow = muiThemeable()(ThemableItemRow);\nexport default ItemRow;\n","// @flow\nimport * as React from 'react';\nimport { List } from 'react-virtualized';\nimport { ListItem } from 'material-ui/List';\nimport ItemRow from './ItemRow';\nimport { makeAddItem } from '../ListAddItem';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\n\nconst listItemHeight = 48; // TODO: Move this into theme?\n\nconst AddItemRow = makeAddItem(ListItem);\n\nconst SortableItemRow = SortableElement(props => {\n  const { style, ...otherProps } = props;\n  return (\n    <div style={style}>\n      <ItemRow {...otherProps} />\n    </div>\n  );\n});\n\nconst SortableAddItemRow = SortableElement(props => {\n  return <AddItemRow {...props} />;\n});\n\nexport type Item = {\n  key: string | number,\n  getName: () => string,\n};\n\ntype ItemsListProps = {\n  height: number,\n  width: number,\n  fullList: Array<Item>,\n  selectedItem: ?Item,\n  onAddNewItem?: () => void,\n  onRename: (Item, string) => void,\n  getThumbnail?: Item => string,\n  onItemSelected: (?Item) => void,\n  renamedItem: ?Item,\n  addNewItemLabel: React.Node | string,\n  buildMenuTemplate: Item => any,\n  erroredItems?: { [string]: boolean },\n};\n\nclass ItemsList extends React.Component<ItemsListProps, *> {\n  list: any;\n\n  forceUpdateGrid() {\n    if (this.list) this.list.forceUpdateGrid();\n  }\n\n  render() {\n    const {\n      height,\n      width,\n      fullList,\n      selectedItem,\n      addNewItemLabel,\n      renamedItem,\n      getThumbnail,\n      erroredItems,\n    } = this.props;\n\n    return (\n      <List\n        ref={list => (this.list = list)}\n        height={height}\n        rowCount={fullList.length}\n        rowHeight={listItemHeight}\n        rowRenderer={({ index, key, style }) => {\n          const item = fullList[index];\n          if (item.key === 'add-item-row') {\n            return (\n              <SortableAddItemRow\n                index={fullList.length}\n                key={key}\n                style={style}\n                disabled\n                onClick={this.props.onAddNewItem}\n                primaryText={addNewItemLabel}\n              />\n            );\n          }\n\n          const nameBeingEdited = renamedItem === item;\n\n          return (\n            <SortableItemRow\n              index={index}\n              key={key}\n              item={item}\n              style={style}\n              onRename={newName => this.props.onRename(item, newName)}\n              editingName={nameBeingEdited}\n              getThumbnail={getThumbnail ? () => getThumbnail(item) : undefined}\n              selected={item === selectedItem}\n              onItemSelected={this.props.onItemSelected}\n              buildMenuTemplate={this.props.buildMenuTemplate}\n              hasErrors={erroredItems ? !!erroredItems[item.getName()] : false}\n            />\n          );\n        }}\n        width={width}\n      />\n    );\n  }\n}\n\nconst SortableItemsList = SortableContainer(ItemsList, { withRef: true });\nexport default SortableItemsList;\n","import React, { PureComponent } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Column, Line } from '../UI/Grid';\nimport { sendTutorialOpened } from '../Utils/Analytics/EventSender';\nimport Window from '../Utils/Window';\nimport { getHelpLink } from '../Utils/HelpLink';\nimport { Trans } from '@lingui/macro';\n\nexport default class Tutorials extends PureComponent {\n  render() {\n    return (\n      <Column noMargin>\n        <Line>\n          <Column>\n            <p>\n              <Trans>\n                Tutorials are available on GDevelop wiki. Choose a tutorial to\n                read:\n              </Trans>\n            </p>\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <FlatButton\n              label={<Trans>Make a platform game from scratch</Trans>}\n              fullWidth\n              primary\n              onClick={() => {\n                sendTutorialOpened('Platformer');\n                Window.openExternalURL(\n                  getHelpLink('/tutorials/platform-game/start')\n                );\n              }}\n            />\n            <FlatButton\n              label={\n                <Trans>Make a simple tank shooter game from scratch</Trans>\n              }\n              fullWidth\n              primary\n              onClick={() => {\n                sendTutorialOpened('Tank Shooter');\n                Window.openExternalURL(getHelpLink('/tutorials/tank-shooter'));\n              }}\n            />\n            <FlatButton\n              label={<Trans>Other tutorials coming soon!</Trans>}\n              fullWidth\n              primary\n              disabled\n            />\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport Tutorials from './Tutorials';\n\ntype State = {|\n  currentTab: 'starters' | 'examples' | 'tutorials',\n|};\n\ntype Props = {|\n  startersComponent: any,\n  examplesComponent: any,\n  open?: boolean,\n  onClose?: () => void,\n  onOpen?: (path: string) => void,\n  onCreate?: (project: gdProject) => void,\n|};\n\nexport default class CreateProjectDialog extends React.Component<Props, State> {\n  state = {\n    currentTab: 'starters',\n  };\n\n  _onChangeTab = (newTab: 'starters' | 'examples' | 'tutorials') => {\n    this.setState({\n      currentTab: newTab,\n    });\n  };\n\n  _showExamples = () => this._onChangeTab('examples');\n\n  _onExamplesLoaded = () => {\n    // Force an update to ensure dialog is properly positioned.\n    this.forceUpdate();\n  };\n\n  render() {\n    const { open, onClose, onOpen, onCreate } = this.props;\n    if (!open) return null;\n\n    const ExamplesComponent = this.props.examplesComponent;\n    const StartersComponent = this.props.startersComponent;\n\n    return (\n      <Dialog\n        title={<Trans>Create a new game</Trans>}\n        actions={[\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        onRequestClose={onClose}\n        open={open}\n        noMargin\n        autoScrollBodyContent\n      >\n        <Tabs value={this.state.currentTab} onChange={this._onChangeTab}>\n          <Tab label={<Trans>Starters</Trans>} value=\"starters\">\n            <StartersComponent\n              onOpen={onOpen}\n              onCreate={onCreate}\n              onShowExamples={this._showExamples}\n            />\n          </Tab>\n          <Tab label={<Trans>Examples</Trans>} value=\"examples\">\n            <ExamplesComponent\n              onOpen={onOpen}\n              onCreate={onCreate}\n              onExamplesLoaded={this._onExamplesLoaded}\n            />\n          </Tab>\n          <Tab label={<Trans>Tutorials</Trans>} value=\"tutorials\">\n            <Tutorials />\n          </Tab>\n        </Tabs>\n      </Dialog>\n    );\n  }\n}\n"],"sourceRoot":""}