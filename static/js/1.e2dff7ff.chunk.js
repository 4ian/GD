(this["webpackJsonpgdevelop-ide"]=this["webpackJsonpgdevelop-ide"]||[]).push([[1],{102:function(e,t,n){"use strict";n.d(t,"c",(function(){return M})),n.d(t,"d",(function(){return F})),n.d(t,"b",(function(){return L})),n.d(t,"a",(function(){return D}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(83),c=n(98),l=n(2),u=n(2363),d=n(2360),m=n(2366),p=n(2367),f=n(2379),h=n(627),g=n.n(h),b=n(355),v=n.n(b),E=n(2350),y=n(1093),j=n.n(y),O=n(305),C=n.n(O),x=n(306),T=n.n(x),S=n(1094),k=n.n(S),w=n(146),N=n(2355),_=n(149),P=n.n(_),I=n(626),R=n.n(I),B=n(304),M=32,F=29,A={listItemText:{margin:"1px 0"}},L=l.forwardRef((function(e,t){var n=l.useState(!!e.initiallyOpen),a=Object(c.a)(n,2),r=a[0],o=a[1],i=l.useRef(null),h=l.useCallback((function(){i.current&&i.current.open()}),[i]),b=Object(B.a)(h),y=function(){return e.displayReloadButton?l.createElement(f.a,null,l.createElement(N.a,{title:e.reloadButtonTooltip},l.createElement(E.a,{size:"small",edge:"end","aria-label":"reload",onClick:e.onReload},l.createElement(j.a,null)))):e.buildMenuTemplate?e.displayMenuButton?l.createElement(f.a,null,l.createElement(w.a,{ref:i,element:l.createElement(E.a,{size:"small",edge:"end","aria-label":"menu"},l.createElement(C.a,{style:{color:e.rightIconColor}})),buildMenuTemplate:e.buildMenuTemplate})):l.createElement(w.a,{ref:i,element:l.createElement("div",null),buildMenuTemplate:e.buildMenuTemplate}):e.displayLinkButton?l.createElement(f.a,null,l.createElement(E.a,{size:"small",edge:"end","aria-label":"open link",onClick:e.onOpenLink},l.createElement(T.a,{style:{color:e.rightIconColor}}))):e.displayRemoveButton?l.createElement(f.a,null,l.createElement(E.a,{size:"small",edge:"end","aria-label":"remove",onClick:e.onRemove},l.createElement(k.a,{style:{color:e.rightIconColor}}))):null},O=e.renderNestedItems;if(O){var x=void 0===e.open?r:e.open;return l.createElement(l.Fragment,null,l.createElement(d.a,{button:!0,dense:!0,disableRipple:!0,onClick:function(){o(!x),e.onClick&&e.onClick()},disabled:e.disabled,style:e.style,ref:t},e.leftIcon&&l.createElement(m.a,null,e.leftIcon),l.createElement(p.a,{style:A.listItemText,primary:e.primaryText,secondary:e.secondaryText}),e.autoGenerateNestedIndicator?x?l.createElement(g.a,null):l.createElement(v.a,null):null,y()),x&&l.createElement(u.a,{component:"div",disablePadding:!0,style:Object(s.a)({paddingLeft:16},e.nestedListStyle),dense:!0},O()))}return l.createElement(d.a,Object.assign({button:!0,dense:!0,disableRipple:!0,ContainerComponent:"div",onClick:e.onClick,onDoubleClick:e.onDoubleClick,disabled:e.disabled,selected:e.selected,style:e.style,onContextMenu:e.buildMenuTemplate?h:void 0},b,{alignItems:2===e.secondaryTextLines?"flex-start":void 0,ref:t}),e.leftIcon&&l.createElement(m.a,null,e.leftIcon),l.createElement(p.a,{style:A.listItemText,primary:e.primaryText,secondary:e.secondaryText}),y(),e.displayAddIcon&&l.createElement(P.a,{style:{color:e.rightIconColor}}),e.displaySearchIcon&&l.createElement(R.a,{style:{color:e.rightIconColor}}))})),D=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return l.createElement(u.a,{style:this.props.style,dense:!0},this.props.children)}}]),n}(l.Component)},103:function(e,t,n){"use strict";var a=n(137),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n(2350),u=n(2355),d=n(77),m=n(28);n.d(t,"a",(function(){return p}));var p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.tooltip,n=e.acceleratorString,r=Object(a.a)(e,["tooltip","acceleratorString"]),o=c.createElement(l.a,r);return t&&!this.props.disabled?c.createElement(d.I18n,null,(function(e){var a,r=e.i18n;return c.createElement(u.a,{title:r._(t)+(n?" "+(a=n,Object(m.f)()?"":Object(m.e)()?a.replace(/CmdOrCtrl\+/,"\u2318").replace(/CommandOrControl\+/,"\u2318").replace(/Super\+/,"\u2318").replace(/Shift\+/,"\u21e7").replace(/Alt\+/,"\u2325").replace(/Option\+/,"\u2325").replace(/Delete/,"\u2326").replace(/Backspace/,"\u232b"):a.replace(/CmdOrCtrl\+/,"Ctrl+").replace(/CommandOrControl\+/,"Ctrl+").replace(/Super\+/,"Win+").replace(/Option\+/,"Alt+").replace(/Delete/,"DEL")):""),placement:"bottom",enterDelay:300},o)})):o}}]),n}(c.Component)},104:function(e,t,n){"use strict";var a=n(2),r=n(221);t.a=function(e){return a.createElement(r.a.Consumer,null,(function(t){return e.children(t)}))}},1076:function(e,t,n){},1077:function(e,t,n){},1078:function(e,t,n){},1079:function(e,t,n){},1080:function(e,t,n){},1081:function(e,t,n){},1082:function(e,t,n){},1083:function(e,t,n){},1084:function(e,t,n){},1085:function(e,t,n){},1086:function(e,t,n){},1087:function(e,t,n){},1088:function(e,t,n){},109:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(137),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n(99),u=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={focused:!1,text:null},e._field=null,e}return Object(o.a)(n,[{key:"forceSetValue",value:function(e){this.setState({text:e})}},{key:"forceSetSelection",value:function(e,t){var n=this.getInputNode();n&&(n.selectionStart=e,n.selectionEnd=t)}},{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"getInputNode",value:function(){if(this._field)return this._field.getInputNode()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onChange,o=t.commitOnBlur,i=t.onFocus,s=t.onBlur,u=t.type,d=Object(a.a)(t,["value","onChange","commitOnBlur","onFocus","onBlur","type"]);return c.createElement(l.b,Object.assign({},d,{type:u||"text",ref:function(t){return e._field=t},value:this.state.focused?this.state.text:n,onFocus:function(t){e.setState({focused:!0,text:e.props.value}),i&&i(t)},onChange:function(t,n){e.setState({text:n}),o||r(n)},onBlur:function(t){r(t.currentTarget.value),e.setState({focused:!1,text:null}),s&&s(t)}}))}}]),n}(c.Component)},1092:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(102),d=n(90),m=n(87),p=n(157),f=n(79),h=n(3),g=n(85),b=n(113),v=n(628),E=n(911),y=n(10),j={logo:{width:"100%"}},O=[{name:"Victor Levasseur",description:"Numerous contributions to GDevelop core and various extensions"},{name:"Lizard-13",description:"Numerous contributions to GDevelop (particle engine, bugfixes, new conditions, examples, tutorials...)"},{name:"Christina 'Castpixel' Antoinette Neofotistou",description:"Art and assets for the 8-bit Space Shooter example.",link:"https://www.patreon.com/castpixel"},{name:"ale26reg",description:"Contributions to GDevelop"},{name:"dos1",description:"Contributions to GDevelop"},{name:"Aur\xe9lien Vivet",description:"Numerous contributions to GDevelop (Video extension, advanced shapes, bugfixes, new conditions, examples...)",link:"https://www.witly.fr"},{name:"Todor Imreorov",description:"Numerous contributions to GDevelop, added Piskel sprite editor and jfxr"},{name:"brylie",description:"Contributions to GDevelop"},{name:"Nnarol",description:"Contributions to GDevelop"},{name:"wild-master",description:"Contributions to GDevelop"},{name:"RandomShaper",description:"Contributions to GDevelop"},{name:"RyanNerd",description:"Contributions to GDevelop"},{name:"greater",description:"Contributions to GDevelop"},{name:"triptych",description:"Contributions to GDevelop"},{name:"Wend1go",description:"Contributions to GDevelop, Tutorials, Examples"},{name:"mattiascibien",description:"Contributions to GDevelop"},{name:"araujo921",description:"Contributions to GDevelop"},{name:"ronnystandtke",description:"Contributions to GDevelop"},{name:"Thomas Flecy",description:"Contributions to GDevelop (original sound object extension)"},{name:"Arthur Pacaud (arthuro555)",description:"Contributions to GDevelop and Moderation on the Forum",link:"https://forum.gdevelop-app.com/u/arthuro555/summary"},{name:"The Gem Dev",description:"Contributions to GDevelop and tutorials on Youtube",link:"https://www.youtube.com/channel/UCsZ4Ue8c94YLJDbGRafCI5Q"},{name:"ddabrahim",description:"Lots of examples bundled with GDevelop",link:"https://gametemplates.itch.io/"},{name:"Gametemplates",description:"Examples bundled with GDevelop",link:"https://gametemplates.itch.io/"},{name:"Mats",description:"Tutorials, Examples"},{name:"erdo",description:"Tutorials, Examples"},{name:"Jubileuksen3",description:"Tutorials, Examples"},{name:"LucaTexas",description:"Tutorials, Examples"},{name:"Kink",description:"Forum moderator, tutorials, Examples"},{name:"RicoTrooper",description:"Tutorials"},{name:"kalel",description:"Tutorials"},{name:"mtarzaim",description:"Tutorials"},{name:"Darkhog",description:"Examples"},{name:"Ricardo Graca",description:"Tutorials, Examples"},{name:"Diego Schiavon",description:"Indiegogo Ubuntu contributor"},{name:"conceptgame",description:"Indiegogo super contributor"},{name:"Jose David Cuartas Correa",description:"Author of Digitopolis (a book on how to make games with GDevelop4)"},{name:"Fran\xe7ois Dumortier",description:"GDevelop logo design",link:"http://www.fdumortier.com"},{name:"Constantine Shvetsov",description:"Design of all the awesome icons"},{name:"MillionthVector",description:"Assets of various examples"}],C=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={currentTab:"about"},e._openContributePage=function(){h.b.openExternalURL("https://gdevelop-app.com/contribute/")},e._openLink=function(e){e&&h.b.openExternalURL(e)},e._changeTab=function(t){e.setState({currentTab:t})},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.open,a=t.onClose,r=t.updateStatus,o=this.state.currentTab;if(!n)return null;var i=Object(v.e)(r.status),c=Object(v.b)(r.status);return l.a.createElement(d.a,{actions:[l.a.createElement(m.a,{key:"website",label:l.a.createElement(s.Trans,{id:"GDevelop Website"}),primary:!1,onClick:function(){return h.b.openExternalURL("http://gdevelop-app.com")}}),l.a.createElement(m.a,{key:"close",label:l.a.createElement(s.Trans,{id:"Close"}),primary:!1,onClick:a})],onRequestClose:a,cannotBeDismissed:!1,open:n,maxWidth:"sm",noMargin:!0},l.a.createElement(b.b.Consumer,null,(function(t){t.values;var n=t.checkUpdates;return l.a.createElement(f.a,{noMargin:!0},l.a.createElement("img",{src:"res/GD-logo.png",alt:"GDevelop logo",style:j.logo}),l.a.createElement(p.b,{value:o,onChange:e._changeTab},l.a.createElement(p.a,{label:l.a.createElement(s.Trans,{id:"About GDevelop"}),value:"about"}),l.a.createElement(p.a,{label:l.a.createElement(s.Trans,{id:"What's new?"}),value:"changelog"}),l.a.createElement(p.a,{label:l.a.createElement(s.Trans,{id:"Contributors"}),value:"contributors"})),"about"===o&&l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,null,l.a.createElement(f.b,null,l.a.createElement(g.a,null,l.a.createElement(s.Trans,{id:"GDevelop {0} based on GDevelop.js {1}",values:{0:Object(y.b)(),1:Object(y.a)()}}))),l.a.createElement(f.b,null,l.a.createElement(g.a,null,i)),l.a.createElement(f.b,{justifyContent:"center"},!!i&&l.a.createElement(m.a,{label:c,onClick:function(){return n(Object(v.a)(r.status))}})))),"changelog"===o&&l.a.createElement(f.a,null,l.a.createElement(E.a,null)),"contributors"===o&&l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,null,l.a.createElement(g.a,null,l.a.createElement(s.Trans,{id:'GDevelop was created by Florian "4ian" Rival.'})),l.a.createElement(g.a,null,l.a.createElement(s.Trans,{id:"Contributors, in no particular order:"}))),l.a.createElement(u.a,null,O.map((function(t){return l.a.createElement(u.b,{key:t.name,primaryText:t.name,secondaryText:t.description,secondaryTextLines:t.description.length<30?1:2,displayLinkButton:!!t.link,onOpenLink:function(){return e._openLink(t.link||"")}})}))),l.a.createElement(f.a,{expand:!0},l.a.createElement(g.a,null,l.a.createElement(s.Trans,{id:"Thanks to all users of GDevelop! There must be missing tons of people, please send your name if you've contributed and you're not listed."})),l.a.createElement(f.b,{alignItems:"center",justifyContent:"center"},l.a.createElement(m.a,{label:l.a.createElement(s.Trans,{id:"Contribute to GDevelop"}),onClick:e._openContributePage})))))})))}}]),n}(c.PureComponent)},110:function(e,t,n){"use strict";var a=n(77),r=n(2),o=n(87),i=n(635),s=n.n(i),c=n(3),l=n(228);t.a=function(e){return e.helpPagePath?r.createElement(o.a,{onClick:function(){e.helpPagePath&&c.b.openExternalURL(Object(l.a)(e.helpPagePath))},target:"_blank",label:e.label||r.createElement(a.Trans,{id:"Help"}),icon:r.createElement(s.a,null)}):null}},1116:function(e,t,n){"use strict";var a=n(83),r=n(2),o=n(467),i=n(356),s=n(109),c=n(159),l=n(468),u=n.n(l),d=n(1118),m=n.n(d),p=n(99),f=n(103),h=n(642),g=n.n(h),b=n(641),v=n(85),E=function(e){var t=e.width;return r.createElement("div",{style:Object(a.a)(Object(a.a)({},b.a.indent),{},{width:t})},r.createElement(m.a,{htmlColor:b.a.indentIconColor}))};t.a=function(e){var t=e.name,n=e.variable,a=e.depth,l=e.errorText,d=e.onBlur,m=e.commitVariableValueOnBlur,h=(e.onRemove,e.onAddChild),y=e.onChangeValue,j=e.onResetToDefaultValue,O=e.children,C=e.showHandle,x=e.showSelectionCheckbox,T=e.isSelected,S=e.onSelect,k=e.origin,w=n.isStructure(),N=""+a+t,_="parent"===k||"inherited"===k,P=[r.createElement(o.a,{key:"name",expand:!0},a>0&&r.createElement(E,{width:(a+1)*b.a.tableChildIndentation}),0===a&&C&&r.createElement(i.a,null),x&&!_&&r.createElement(c.a,{checked:T,onCheck:function(e,t){return S(t)}}),r.createElement(p.b,{margin:"none",style:{fontStyle:"inherited"!==k?"normal":"italic"},fullWidth:!0,name:N+"name",defaultValue:t,errorText:l,onBlur:d,disabled:"parent"===k}))];return w?P.push(r.createElement(o.a,{expand:!0,key:"value",style:_?b.a.fadedButton:void 0},r.createElement(v.a,{noMargin:!0},"(Structure)"))):P.push(r.createElement(o.a,{key:"value",expand:!0},r.createElement(s.a,{margin:"none",commitOnBlur:m,fullWidth:!0,name:N+"value",value:n.getString(),onChange:function(e){n.getString()!==e&&y(e)},multiline:!0,disabled:"parent"===k&&0!==a}))),P.push(r.createElement(o.a,{key:"tools",style:b.a.toolColumn},"inherited"===k&&0===a&&r.createElement(f.a,{size:"small",onClick:j,style:w?void 0:b.a.fadedButton,tooltip:{id:"Reset"}},r.createElement(g.a,null)),!("inherited"===k&&0===a)&&"parent"!==k&&r.createElement(f.a,{size:"small",onClick:h,style:w?void 0:b.a.fadedButton,tooltip:{id:"Add child variable"}},r.createElement(u.a,null)))),r.createElement("div",null,r.createElement(o.b,null,P),O)}},1119:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l}));var a=n(83),r=n(357),o=n.n(r),i=function(){return{}},s=function(e){return o()(e).filter((function(e){return!!e}))},c=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return console.log(t,n),Object(a.a)(Object(a.a)({},e),{},{[t.ptr]:n?t:null})},l=function(e){return!!o()(e).filter((function(e){return!!e})).length}},1129:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="Variables"},113:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c}));var a=n(77),r=n(2),o=n(4),i=n.n(o)()("electron"),s=[{key:"use-non-smoothed-textures",label:r.createElement(a.Trans,{id:"Using non smoothed textures"})},{key:"use-nearest-scale-mode",label:r.createElement(a.Trans,{id:"Using Nearest Scale Mode"})},{key:"maximum-fps-too-low",label:r.createElement(a.Trans,{id:"Maximum Fps is too low"})},{key:"minimum-fps-too-low",label:r.createElement(a.Trans,{id:"Minimum Fps is too low"})},{key:"function-extractor-explanation",label:r.createElement(a.Trans,{id:"Using function extractor"})},{key:"events-based-behavior-explanation",label:r.createElement(a.Trans,{id:"Using events based behavior"})},{key:"empty-events-based-behavior-explanation",label:r.createElement(a.Trans,{id:"Using empty events based behavior"})},{key:"too-much-effects",label:r.createElement(a.Trans,{id:"Using too much effects"})},{key:"effects-usage",label:r.createElement(a.Trans,{id:"Using effects"})},{key:"lighting-layer-usage",label:r.createElement(a.Trans,{id:"Using lighting layer"})},{key:"automatic-lighting-layer",label:r.createElement(a.Trans,{id:"Automatic creation of lighting layer"})},{key:"object-moved-in-lighting-layer",label:r.createElement(a.Trans,{id:"Light object automatically put in lighting layer"})},{key:"resource-properties-panel-explanation",label:r.createElement(a.Trans,{id:"Using the resource properties panel"})},{key:"instance-drag-n-drop-explanation",label:r.createElement(a.Trans,{id:"Using instance drag'n'drop"})},{key:"objects-panel-explanation",label:r.createElement(a.Trans,{id:"Using the objects panel"})},{key:"instance-properties-panel-explanation",label:r.createElement(a.Trans,{id:"Using the instance properties panel"})},{key:"layers-panel-explanation",label:r.createElement(a.Trans,{id:"Using the layers panel"})},{key:"instances-panel-explanation",label:r.createElement(a.Trans,{id:"Using the instances panel"})},{key:"physics2-shape-collisions",label:r.createElement(a.Trans,{id:"Collisions handling with the Physics engine"})},{key:"edit-instruction-explanation",label:r.createElement(a.Trans,{id:"How to edit instructions"})},{key:"lifecycle-events-function-included-only-if-extension-used",label:r.createElement(a.Trans,{id:"Lifecycle functions only included when extension used"})},{key:"p2p-broker-recommendation",label:r.createElement(a.Trans,{id:"Peer to peer broker server recommendation"})},{key:"command-palette-shortcut",label:r.createElement(a.Trans,{id:"Command palette keyboard shortcut"})},{key:"asset-installed-explanation",label:r.createElement(a.Trans,{id:"Explanation after an object is installed from the store"})}],c={values:{language:"en",autoDownloadUpdates:!0,themeName:i&&i.remote.nativeTheme.shouldUseDarkColors?"Nord":"GDevelop default",codeEditorThemeName:"vs-dark",hiddenAlertMessages:{},hiddenTutorialHints:{},autoDisplayChangelog:!0,lastLaunchedVersion:void 0,eventsSheetShowObjectThumbnails:!0,autosaveOnPreview:!0,useNewInstructionEditorDialog:!0,useGDJSDevelopmentWatcher:!0,eventsSheetUseAssignmentOperators:!1,showEffectParameterNames:!1,projectLastUsedPaths:{},defaultEditorMosaicNodes:{},recentProjectFiles:[],autoOpenMostRecentProject:!0,hasProjectOpened:!1,userShortcutMap:{},newObjectDialogDefaultTab:i?"new-object":"asset-store"},setLanguage:function(){},setThemeName:function(){},setCodeEditorThemeName:function(){},setAutoDownloadUpdates:function(){},checkUpdates:function(){},setAutoDisplayChangelog:function(){},showAlertMessage:function(e,t){},showTutorialHint:function(e,t){},verifyIfIsNewVersion:function(){return!1},setEventsSheetShowObjectThumbnails:function(){},setAutosaveOnPreview:function(){},setUseNewInstructionEditorDialog:function(e){},setUseGDJSDevelopmentWatcher:function(e){},setEventsSheetUseAssignmentOperators:function(e){},setShowEffectParameterNames:function(e){},getLastUsedPath:function(e,t){return""},setLastUsedPath:function(e,t,n){},getDefaultEditorMosaicNode:function(e){return null},setDefaultEditorMosaicNode:function(e,t){},getRecentProjectFiles:function(){return[]},insertRecentProjectFile:function(e){},removeRecentProjectFile:function(e){},getAutoOpenMostRecentProject:function(){return!0},setAutoOpenMostRecentProject:function(){},hadProjectOpenedDuringLastSession:function(){return!1},setHasProjectOpened:function(){},resetShortcutsToDefault:function(){},setShortcutForCommand:function(e,t){},getNewObjectDialogDefaultTab:function(){return"asset-store"},setNewObjectDialogDefaultTab:function(){}},l=r.createContext(c);t.b=l},114:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(6),r=n(12),o=n(4),i=n.n(o),s=i()("electron"),c=i()("path"),l=function(){function e(){Object(a.a)(this,e),this.projectCache={}}return Object(r.a)(e,[{key:"_getProjectCache",value:function(e){var t=this.projectCache[e.ptr];return t||(this.projectCache[e.ptr]={})}},{key:"getCachedUrl",value:function(e,t){return this._getProjectCache(e)[t]}},{key:"cacheUrl",value:function(e,t){return this._getProjectCache(e)[t]=t}},{key:"burstUrl",value:function(e,t){delete this._getProjectCache(e)[t]}},{key:"cacheLocalFileUrl",value:function(e,t,n,a){var r=this._getProjectCache(e);return r[t]=a?n:"".concat(n,"?cache=").concat(Date.now())}}]),e}(),u=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"burstUrlsCacheForResources",value:function(t,n){var a=t.getResourcesManager();n.forEach((function(n){a.hasResource(n)&&e._cache.burstUrl(t,a.getResource(n).getFile())}))}},{key:"burstAllUrlsCache",value:function(){e._cache=new l}},{key:"getFullUrl",value:function(t,n,a){var r=a.isResourceForPixi,o=a.disableCacheBurst;if(s&&function(e){return 0!==e.indexOf("data:")&&0!==e.indexOf("http://")&&0!==e.indexOf("https://")&&0!==e.indexOf("ftp://")}(n)){var i=e._cache.getCachedUrl(t,n);if(i)return i;var l=t.getProjectFile(),u=c.dirname(l),d=c.resolve(u,n).replace(/\\/g,"/");return console.info("Caching resolved local filename:",d),this._cache.cacheLocalFileUrl(t,n,"file://"+d,!!o)}var m=n;r&&(m=function(e,t,n){var a=-1===e.indexOf("?")?"?":"&";return e+a+t+"="+n}(m,"gdUsage","pixi"));var p=e._cache.getCachedUrl(t,m);return p||(console.info("Caching resolved url:",m),this._cache.cacheUrl(t,m))}},{key:"getResourceFullUrl",value:function(t,n,a){if(t.getResourcesManager().hasResource(n)){var r=t.getResourcesManager().getResource(n).getFile();return e.getFullUrl(t,r,a)}return n}}]),e}();u._cache=new l},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(77),l=n(2454),u=n(99),d=n(226),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._input=s.createRef(),e}return Object(r.a)(n,[{key:"focus",value:function(){this._input.current&&this._input.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.onChange||void 0,a=!0,r=s.Children.map(t.children,(function(e){return null!==e&&e.props?e.props.value:null}));r?a=0!==r.filter((function(e){return e===t.value})).length:console.error("SelectField has been passed no or invalid children. Only SelectOption and null are supported.");var o=a?t.value:"",i=t.helperMarkdownText?s.createElement(d.a,{source:t.helperMarkdownText}):null;return s.createElement(c.I18n,null,(function(r){var c=r.i18n;return s.createElement(l.a,Object.assign({select:!0},Object(u.a)(t),{disabled:t.disabled,fullWidth:t.fullWidth,label:t.floatingLabelText,helperText:i,value:o,onChange:n?function(e){n(e,-1,e.target.value)}:void 0,InputLabelProps:{shrink:!0},SelectProps:{native:!0},style:t.style,inputRef:e._input}),a?null:s.createElement("option",{value:"",disabled:!0},t.hintText?c._(t.hintText):c._({id:"Choose an option"})),t.children)}))}}]),n}(s.Component)},118:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(77),l=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return s.createElement(c.I18n,null,(function(t){var n=t.i18n;return s.createElement("option",{value:e.props.value,disabled:e.props.disabled},n._(e.props.primaryText))}))}}]),n}(s.Component)},123:function(e,t,n){"use strict";var a=n(83),r=n(2),o=n(2362),i={container:{display:"flex",flexDirection:"column"},maxWidth:{maxWidth:"100%"}};t.a=function(e){return r.createElement(o.a,{square:!0,style:Object(a.a)(Object(a.a)({},i.container),{},{height:e.noFullHeight?void 0:"100%",width:e.width?e.width:void 0,flex:e.noExpand?void 0:1},e.maxWidth?i.maxWidth:void 0)},e.children)}},126:function(e,t,n){"use strict";var a=n(83),r=n(77),o=n(2),i=n(2362),s=n(1089),c=n.n(s),l=n(303),u=n.n(l),d=n(1090),m=n.n(d),p=n(79),f=n(87),h=n(85),g=n(221),b=n(96),v={icon:{width:28,height:28,marginRight:10,marginLeft:10},content:{flex:1}};t.a=function(e){var t=e.kind,n=e.children,s=e.onHide,l=e.renderRightButton,d=e.renderLeftIcon,E=o.useContext(g.a);return o.createElement(i.a,{elevation:10,square:!0},o.createElement(p.a,{expand:!0},o.createElement(b.b,{alignItems:"center",justifyContent:"space-between",noMargin:!0},o.createElement(p.b,{noMargin:!0,alignItems:"center"},d?o.createElement(o.Fragment,null,d(),o.createElement(p.c,null),o.createElement(p.c,null)):o.createElement(o.Fragment,null,"info"===t&&o.createElement(c.a,{style:v.icon}),"warning"===t&&o.createElement(u.a,{style:Object(a.a)(Object(a.a)({},v.icon),{},{color:E.message.warning})}),"error"===t&&o.createElement(m.a,{style:Object(a.a)(Object(a.a)({},v.icon),{},{color:E.message.error})})),o.createElement(h.a,{style:v.content},n)),o.createElement(b.b,{noMargin:!0,alignItems:"center"},l&&l(),s&&o.createElement(f.a,{label:o.createElement(r.Trans,{id:"Hide"}),onClick:function(){return s()}})))))}},128:function(e,t,n){"use strict";var a=n(83),r=n(2),o=n.n(r),i=n(2380),s={display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:10};t.a=function(e){return o.a.createElement("div",{style:Object(a.a)(Object(a.a)({},s),e.style)},o.a.createElement(i.a,{size:40}))}},129:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s}));var a=function(e){return"Escape"===e.key},r=function(e){return"Enter"===e.key},o=function(e){return"Enter"===e.key||" "===e.key},i=function(e){return"Tab"===e.key&&!e.shiftKey},s=function(e){return"Tab"===e.key&&e.shiftKey}},130:function(e,t,n){"use strict";t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!t(e))return e;for(var a=n+e,r=2;t(a);++r)a=n+e+r;return a}},131:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));var a=e.gd;function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"serializeTo",n=new a.SerializerElement;e[t](n);var r=JSON.parse(a.Serializer.toJSON(n));return n.delete(),r}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"serializeTo",n=new a.SerializerElement;e[t](n);var r=a.Serializer.toJSON(n);return n.delete(),r}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unserializeFrom",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=a.Serializer.fromJSObject(t);r?e[n](r,o):e[n](o),o.delete()}}).call(this,n(1))},132:function(e,t,n){"use strict";n.d(t,"q",(function(){return a})),n.d(t,"r",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"m",(function(){return i})),n.d(t,"n",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"t",(function(){return d})),n.d(t,"s",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return v})),n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return y})),n.d(t,"o",(function(){return j})),n.d(t,"p",(function(){return O}));var a="selectable",r="selected",o="icon",i="large-selectable",s="large-selected",c="executable-event-container",l="actions-container",u="conditions-container",d="sub-instructions-container",m="small-width-container",p="instruction-parameter",f="instruction-invalid-parameter",h="instruction-missing-parameter",g="disabled-text",b="events-tree",v="with-search-results",E="drop-indicator",y="cant-drop-indicator",j="link-container",O="name-and-icon-container"},139:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(229),i=n(221);var s=r.a.memo((function(e){var t=r.a.useContext(i.a),n=e.src,a=e.tooltip,s=e.disabled,c=e.isGDevelopIcon,l=e.cssAnimation,u=e.useExactIconSize,d=void 0!==e.iconWidth?e.iconWidth:e.iconSize,m=void 0!==e.iconHeight?e.iconHeight:e.iconSize,p=d>40?16:0,f={maxWidth:u?void 0:d,maxHeight:u?void 0:m,width:u?d:void 0,height:u?m:void 0,verticalAlign:"middle",animation:l,filter:c?s?"grayscale(100%)":t.gdevelopIconsCSSFilter:void 0};return r.a.createElement("div",{style:{width:d,height:m,lineHeight:"".concat(m,"px"),textAlign:"center",paddingRight:p}},c?r.a.createElement("img",{title:a,alt:a,src:n,style:f}):r.a.createElement(o.a,{title:a,alt:a,src:n,style:f}))}));t.a=s},146:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(83),r=n(137),o=n(6),i=n(12),s=n(27),c=n(23),l=n(22),u=n(2),d=n(25),m=n.n(d),p=n(334),f=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).open=function(){var t=Object(s.a)(e)._contextMenu;if(t){var n=m.a.findDOMNode(e._wrappedElement);if(n instanceof HTMLElement){var a=n.getBoundingClientRect();t.open(Math.round(a.left+a.width/2),Math.round(a.top+a.height))}}},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.element,o=t.buildMenuTemplate,i=t.openMenuWithSecondaryClick,s=t.passExtraProps,c=Object(r.a)(t,["element","buildMenuTemplate","openMenuWithSecondaryClick","passExtraProps"]);return u.createElement(u.Fragment,null,u.cloneElement(n,Object(a.a)(Object(a.a)({onContextMenu:this.open},i?{}:{onClick:this.open}),{},{ref:function(t){return e._wrappedElement=t}},s?c:{})),u.createElement(p.a,{ref:function(t){return e._contextMenu=t},buildMenuTemplate:o}))}}]),n}(u.Component)},1465:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var a=n(100),r=n(6),o=n(12),i=n(23),s=n(22),c=n(77),l=n(2),u=n(87),d=n(89),m=n(90),p=n(79),f=n(114),h=n(427),g=n(1466),b=n(24),v=n(4),E=n.n(v),y=n(85),j=n(96),O=E()("path"),C=e.gd,x=[512],T=[192,144,96,72,48,36],S=[180,167,152,144,120,114,100,80,76,72,60,58,57,50,40,29],k=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e))._generateFromFile=function(){var e=o.props,t=e.project,n=e.resourceSources,r=e.onChooseResource,i=n.filter((function(e){return"image"===e.kind}));i.length&&r(i[0].name,!1).then((function(e){if(e.length&&O){var n=t.getResourcesManager(),r=O.dirname(t.getProjectFile()),i=O.resolve(r,e[0].getFile());e.forEach((function(e){return e.delete()})),Promise.all([].concat(Object(a.a)(x.map((function(e){return Object(g.b)(i,O.join(r,"desktop-icon-".concat(e,".png")),{width:e,height:e})}))),Object(a.a)(T.map((function(e){return Object(g.b)(i,O.join(r,"android-icon-".concat(e,".png")),{width:e,height:e})}))),Object(a.a)(S.map((function(e){return Object(g.b)(i,O.join(r,"ios-icon-".concat(e,".png")),{width:e,height:e})}))))).then((function(e){if(-1===e.indexOf(!1)){var r=[].concat(Object(a.a)(x.map((function(e){return"desktop-icon-".concat(e,".png")}))),Object(a.a)(T.map((function(e){return"android-icon-".concat(e,".png")}))),Object(a.a)(S.map((function(e){return"ios-icon-".concat(e,".png")}))));r.forEach((function(e){if(n.hasResource(e))n.getResource(e).setFile(e);else{var t=new C.ImageResource;t.setFile(e),t.setName(e),n.addResource(t),t.delete()}})),f.a.burstUrlsCacheForResources(t,r),setTimeout((function(){o.setState({desktopIconResourceNames:x.map((function(e){return"desktop-icon-".concat(e,".png")})),androidIconResourceNames:T.map((function(e){return"android-icon-".concat(e,".png")})),iosIconResourceNames:S.map((function(e){return"ios-icon-".concat(e,".png")}))})}),200)}else Object(b.a)({message:"Some icons could not be generated!",rawError:void 0,errorId:"icon-generation-error",doNotReport:!0})}))}}))},o._onApply=function(){var e=o.props.project,t=o.state,n=t.desktopIconResourceNames,a=t.androidIconResourceNames,r=t.iosIconResourceNames;x.forEach((function(t,a){e.getPlatformSpecificAssets().set("desktop","icon-".concat(t),n[a])})),T.forEach((function(t,n){e.getPlatformSpecificAssets().set("android","icon-".concat(t),a[n])})),S.forEach((function(t,n){e.getPlatformSpecificAssets().set("ios","icon-".concat(t),r[n])})),o.props.onApply()},o.state=o._loadFrom(e.project),o}return Object(o.a)(n,[{key:"_loadFrom",value:function(e){return{desktopIconResourceNames:x.map((function(t){return e.getPlatformSpecificAssets().get("desktop","icon-".concat(t))})),androidIconResourceNames:T.map((function(t){return e.getPlatformSpecificAssets().get("android","icon-".concat(t))})),iosIconResourceNames:S.map((function(t){return e.getPlatformSpecificAssets().get("ios","icon-".concat(t))}))}}},{key:"componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.project!==e.project)&&this.setState(this._loadFrom(e.project))}},{key:"render",value:function(){var e=this,t=[l.createElement(u.a,{key:"cancel",label:l.createElement(c.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onClose}),l.createElement(u.a,{key:"apply",label:l.createElement(c.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:this._onApply})],n=this.props,r=n.project,o=n.resourceSources,i=n.onChooseResource,s=n.resourceExternalEditors,f=this.state,b=f.desktopIconResourceNames,v=f.androidIconResourceNames,E=f.iosIconResourceNames;return l.createElement(m.a,{title:l.createElement(c.Trans,{id:"Project icons"}),actions:t,open:this.props.open,cannotBeDismissed:!0,onRequestClose:this.props.onClose},l.createElement(j.a,{noMargin:!0},l.createElement(p.b,{justifyContent:"center"},Object(g.a)()?l.createElement(d.a,{primary:!0,label:l.createElement(c.Trans,{id:"Generate icons from a file"}),onClick:this._generateFromFile}):l.createElement(y.a,null,l.createElement(c.Trans,{id:"Download GDevelop desktop version to generate the Android and iOS icons of your game."}))),l.createElement(y.a,null,l.createElement(c.Trans,{id:"Desktop (Windows, macOS and Linux) icon:"})),x.map((function(t,n){return l.createElement(h.a,{key:t,floatingLabelText:"Desktop icon (".concat(t,"x").concat(t," px)"),project:r,resourceSources:o,onChooseResource:i,resourceExternalEditors:s,resourceKind:"image",resourceName:b[n],onChange:function(t){var r=Object(a.a)(b);r[n]=t,e.setState({desktopIconResourceNames:r})}})})),l.createElement(y.a,null,l.createElement(c.Trans,{id:"Android icons:"})),T.map((function(t,n){return l.createElement(h.a,{key:t,floatingLabelText:"Android icon (".concat(t,"x").concat(t," px)"),project:r,resourceSources:o,onChooseResource:i,resourceExternalEditors:s,resourceKind:"image",resourceName:v[n],onChange:function(t){var r=Object(a.a)(v);r[n]=t,e.setState({androidIconResourceNames:r})}})})),l.createElement(y.a,null,l.createElement(c.Trans,{id:"iOS (iPhone and iPad) icons:"})),S.map((function(t,n){return l.createElement(h.a,{key:t,floatingLabelText:"iOS icon (".concat(t,"x").concat(t," px)"),project:r,resourceSources:o,onChooseResource:i,resourceKind:"image",resourceName:E[n],resourceExternalEditors:s,onChange:function(t){var r=Object(a.a)(E);r[n]=t,e.setState({iosIconResourceNames:r})}})}))))}}]),n}(l.Component)}).call(this,n(1))},1466:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(516),r=Object(a.a)("jimp"),o=function(){return!!r()},i=function(e,t,n){var a=n.width,o=n.height,i=r();return i?i.read(e).then((function(e){return e.contain(a,o).write(t)})).then((function(){return!0})).catch((function(e){return console.error(e),!1})):Promise.resolve(!1)}},1467:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(2380),i=n(2373),s=n(2376),c={dialogContent:{padding:10,overflowX:"hidden",display:"flex",flexDirection:"row"}},l={enter:0,exit:150};t.a=function(e){return r.a.createElement(i.a,{open:e.show,transitionDuration:l},r.a.createElement(s.a,{style:c.dialogContent},r.a.createElement(o.a,{style:c.circularProgress,size:50,disableShrink:!0})))}},1468:function(e,t,n){"use strict";var a=n(2),r=n(2388),o=n(2389),i=n(2350),s=n(2368),c=n(307),l=n.n(c),u={appBar:{height:32,minHeight:32},toolbar:{height:32,minHeight:32,paddingLeft:15,paddingRight:15},title:{fontSize:"15px",flexGrow:1}};t.a=function(e){return a.createElement(r.a,{position:"static",style:u.appBar,className:"safe-area-aware-top-margin",color:"primary"},a.createElement(o.a,{style:u.toolbar},e.displayLeftCloseButton&&a.createElement(i.a,{onClick:e.onClose,edge:"start",color:"inherit"},a.createElement(l.a,null)),a.createElement(s.a,{variant:"h6",style:u.title},e.title),e.displayRightCloseButton&&a.createElement(i.a,{onClick:e.onClose,edge:"end",color:"inherit"},a.createElement(l.a,null))))}},1469:function(e,t,n){"use strict";var a=n(2),r=n(4),o=n.n(r),i=n(3),s=o()("electron");t.a=a.memo((function(e){var t=e.shouldPrompt,n=e.i18n,r=e.language,o=e.hasUnsavedChanges,c=a.useRef(!0);return a.useEffect((function(){if(!i.b.isDev()){var e=[n._({id:"Are you sure you want to quit GDevelop?"}),o?n._({id:"Any unsaved changes in the project will be lost."}):""].filter(Boolean).join("\n");s?window.onbeforeunload=function(n){if(c.current&&t)return setTimeout((function(){i.b.showConfirmDialog(e)&&(c.current=!1,s.remote.getCurrentWindow().close())}),10),n.returnValue=!0,!1}:window&&(window.onbeforeunload=t?function(){return e}:null)}}),[t,n,r,o]),null}))},1471:function(e,t,n){"use strict";n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return j}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n.n(c),u=n(307),d=n.n(u),m=n(2458),p=n(104),f=n(334),h=n(304),g={width:"100%",position:"relative",textAlign:"initial",height:"100%",display:"flex",flex:1},b={maxWidth:400,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginTop:6,marginBottom:6,marginLeft:10,marginRight:10,fontSize:"15px"},v={marginTop:7,marginBottom:7,marginRight:5,marginLeft:5},E=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.active||e.active}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.active;return l.a.createElement("div",{style:Object(a.a)(Object(a.a)({},g),n?void 0:{display:"none"})},t)}}]),n}(c.Component),y=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.hideLabels,n=e.children;return l.a.createElement(p.a,null,(function(e){var a={maxWidth:"100%",flexShrink:0,display:t?"none":"flex",flexWrap:"nowrap",overflowX:"auto",backgroundColor:e.closableTabs.containerBackgroundColor};return l.a.createElement("div",{style:a},n)}))}}]),n}(c.Component);function j(e){var t=e.active,n=e.onClose,r=e.onCloseOthers,o=e.onCloseAll,i=e.label,s=e.closable,u=e.onClick,g=e.onActivated;Object(c.useEffect)((function(){t&&g()}),[t,g]);var E=Object(c.useRef)(null),y=function(e){e.stopPropagation(),E.current&&E.current.open(e.clientX,e.clientY)},j=Object(h.a)(l.a.useCallback((function(e){E.current&&E.current.open(e.clientX,e.clientY)}),[E]));return l.a.createElement(p.a,null,(function(e){var c=t?e.closableTabs.selectedTextColor:e.closableTabs.textColor;return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{style:{flexShrink:0,position:"relative",display:"inline-block",marginRight:1,backgroundColor:t?e.closableTabs.selectedBackgroundColor:e.closableTabs.backgroundColor}},l.a.createElement(m.a,Object.assign({onClick:u,onContextMenu:y},j,{focusRipple:!0}),l.a.createElement("span",{style:Object(a.a)(Object(a.a)({},b),{},{color:c,fontFamily:e.closableTabs.fontFamily})},i)),s&&l.a.createElement(m.a,Object.assign({onClick:n,onContextMenu:y},j,{focusRipple:!0}),l.a.createElement(d.a,{style:Object(a.a)(Object(a.a)({},v),{},{width:e.closableTabs.height/2,height:e.closableTabs.height/2}),htmlColor:c}))),l.a.createElement(f.a,{ref:E,buildMenuTemplate:function(e){return[{label:e._({id:"Close"}),click:n,enabled:s},{label:e._({id:"Close others"}),click:r},{label:e._({id:"Close all"}),click:o}]}}))}))}},1472:function(e,t,n){"use strict";n.d(t,"l",(function(){return m})),n.d(t,"p",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"h",(function(){return v})),n.d(t,"m",(function(){return E})),n.d(t,"k",(function(){return y})),n.d(t,"j",(function(){return j})),n.d(t,"i",(function(){return O})),n.d(t,"q",(function(){return C})),n.d(t,"o",(function(){return x})),n.d(t,"g",(function(){return T})),n.d(t,"f",(function(){return S})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return w})),n.d(t,"n",(function(){return N}));var a=n(100),r=n(83),o=(n(2),n(728)),i=n.n(o),s=n(730),c=(n(904),n(833)),l=n(851),u=n(854),d=(n(863),n(864)),m=function(){return{editors:[],currentTab:0}},p=function(e,t){var n=t.label,o=t.projectItemName,s=t.renderEditorContainer,c=t.key,l=t.extraEditorProps,u=t.dontFocusTab,d=t.closable,m=i()(e.editors,(function(e){return e.key===c}));if(-1!==m)return Object(r.a)(Object(r.a)({},e),{},{currentTab:u?e.currentTab:m});var p={label:n,projectItemName:o,renderEditorContainer:s,key:c,extraEditorProps:l,editorRef:null,closable:"undefined"===typeof d||!!d};return Object(r.a)(Object(r.a)({},e),{},{editors:[].concat(Object(a.a)(e.editors),[p]),currentTab:u?e.currentTab:e.editors.length})},f=function(e,t){return Object(r.a)(Object(r.a)({},e),{},{currentTab:Math.max(0,Math.min(t,e.editors.length-1))})},h=function(e,t){var n=j(e),a=e.editors.filter(t);return f(Object(r.a)(Object(r.a)({},e),{},{editors:a}),a.indexOf(n)||0)},g=function(e){return h(e,(function(e){return!e.closable}))},b=function(e,t){return h(e,(function(e){return e!==t}))},v=function(e,t){return h(e,(function(e){return!e.closable||e===t}))},E=function(e){return e.editors},y=function(e){return e.currentTab},j=function(e){return e.editors[e.currentTab]},O=function(e,t){return h(e,(function(e){var n=e.editorRef&&e.editorRef.getProject();return!n||n!==t}))},C=function(e){e.editors.forEach((function(e){e.editorRef&&(e.editorRef instanceof d.a||e.editorRef instanceof u.a)&&e.editorRef.saveUiSettings()}))},x=function(e){e.editors.forEach((function(e){var t=e.editorRef;t instanceof c.a&&t.previewWillStart()}))},T=function(e,t){return h(e,(function(e){var n=e.editorRef;if(n instanceof s.a||n instanceof l.a||n instanceof u.a||n instanceof d.a){var a=n.getLayout();return!a||a!==t}return!0}))},S=function(e,t){return h(e,(function(e){var n=e.editorRef;return!(n instanceof u.a)||(!n.getExternalLayout()||n.getExternalLayout()!==t)}))},k=function(e,t){return h(e,(function(e){var n=e.editorRef;return!(n instanceof l.a)||(!n.getExternalEvents()||n.getExternalEvents()!==t)}))},w=function(e,t){return h(e,(function(e){var n=e.editorRef;return!(n instanceof c.a)||(!n.getEventsFunctionsExtension()||n.getEventsFunctionsExtension()!==t)}))},N=function(e,t){for(var n=0;n<e.editors.length;++n){var a=e.editors[n].editorRef;if(a instanceof c.a&&a.getEventsFunctionsExtension()===t)return{editor:a,tabIndex:n}}return null}},1475:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return A}));var a=n(100),r=n(83),o=n(27),i=n(137),s=n(6),c=n(12),l=n(23),u=n(22),d=n(2),m=n.n(d),p=n(728),f=n.n(p),h=n(2260),g=n(92),b=n(391),v=n(2287),E=n(1617),y=n(147),j=n.n(y),O=n(132),C=n(398),x=n(187),T=(n(1618),n(1619),n(104)),S=n(1620),k=n(1621),w=n(229),N=e.gd,_=x.a.getThumbnail.bind(x.a),P={container:{flex:1},defaultEventContainer:{marginRight:10},smallEventContainer:{marginRight:0}},I=function(e){return"small"===e?11:22},R=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._onEventUpdated=function(){e.forceUpdate()},e._onEventContextMenu=function(t){t.preventDefault(),e.props.onEventContextMenu(t.clientX,t.clientY)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this._container?this._container.offsetHeight:0;this.props.eventsHeightsCache.setEventHeight(this.props.event,e)}},{key:"componentDidUpdate",value:function(){var e=this._container?this._container.offsetHeight:0;this.props.eventsHeightsCache.setEventHeight(this.props.event,e)}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.event,r=n.project,o=n.scope,i=n.disabled,s=v.a.getEventComponent(a);return m.a.createElement("div",{ref:function(e){return t._container=e},onClick:this.props.onEventClick,onContextMenu:this._onEventContextMenu,style:(e=this.props.windowWidth,"small"===e?P.smallEventContainer:P.defaultEventContainer)},s&&m.a.createElement(s,{project:r,scope:o,event:a,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,selected:Object(b.m)(this.props.selection,a),selection:this.props.selection,leftIndentWidth:this.props.leftIndentWidth,onUpdate:this._onEventUpdated,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,onOpenExternalEvents:this.props.onOpenExternalEvents,onOpenLayout:this.props.onOpenLayout,disabled:i,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth,eventsSheetHeight:this.props.eventsSheetHeight}))}}]),n}(d.Component),B=function(e){return e.treeIndex},M=function(e){var t=e.className,n=Object(i.a)(e,["className"]);return m.a.createElement(T.a,null,(function(e){return m.a.createElement(h.a,Object.assign({className:"".concat(O.f," ").concat(e.eventsSheetRootClassName," ").concat(t)},n))}))},F=function(){},A=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e))._eventsToTreeData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Object(g.mapFor)(0,e.getEventsCount(),(function(o){var i=e.getEventAt(o);t.push(i);var s=r||i.isDisabled();return{title:a._renderEvent,event:i,eventsList:e,indexInList:o,expanded:!i.isFolded(),disabled:s,depth:n,key:i.ptr,children:a._eventsToTreeData(i.getSubEvents(),i.isFolded()?[]:t,n+1,s).treeData}})),i=[0===n?{title:function(){return m.a.createElement(S.a,{onAddEvent:function(e){return a.props.onAddNewEvent(e,a.props.events)}})},event:null,indexInList:e.getEventsCount(),disabled:!1,depth:0,fixedHeight:40,children:[]}:null,0===n&&0===e.getEventsCount()?{title:function(){return m.a.createElement(k.a,null)},event:null,indexInList:e.getEventsCount()+1,disabled:!1,depth:0,fixedHeight:300,children:[]}:null].filter(Boolean);return{treeData:i.length?o.concat(i):o,flatData:t}},a._onMoveNode=function(e){var t=e.treeData,n=e.path,r=e.node,o=r.event,i=r.eventsList;if(o){var s=n.slice(0,-1),c=Object(h.b)({getNodeKey:B,treeData:t,path:s}).node,l=c&&c.event?c.event.getSubEvents():a.props.events,u=c&&c.children?c.children.indexOf(r):0;i.moveEventToAnotherEventsList(o,l,u),a.forceEventsUpdate(),a.props.onEventMoved()}},a._canDrag=function(e){var t=e.node;return!!t&&!!t.event},a._canDrop=function(e){var t=e.nextParent;return!t||!t.event||t.event.canHaveSubEvents()},a._canNodeHaveChildren=function(e){return!(!e||!e.event)&&e.event.canHaveSubEvents()},a._onVisibilityToggle=function(e){var t=e.node.event;t&&(t.setFolded(!t.isFolded()),a.forceEventsUpdate())},a._renderObjectThumbnail=function(e){var t=a.props,n=t.project,r=t.scope;if(!t.showObjectThumbnails)return null;var o=Object(C.a)(n,r.layout,e);return o?m.a.createElement(w.a,{className:j()({[O.i]:!0}),alt:"",src:_(n,o)}):null},a._renderEvent=function(e){var t=e.node,n=t.event,r=t.depth,o=t.disabled;return n?m.a.createElement(R,{project:a.props.project,scope:a.props.scope,globalObjectsContainer:a.props.globalObjectsContainer,objectsContainer:a.props.objectsContainer,event:n,key:n.ptr,eventsHeightsCache:a.eventsHeightsCache,selection:a.props.selection,leftIndentWidth:r*I(a.props.windowWidth),onAddNewInstruction:a.props.onAddNewInstruction,onPasteInstructions:a.props.onPasteInstructions,onMoveToInstruction:a.props.onMoveToInstruction,onMoveToInstructionsList:a.props.onMoveToInstructionsList,onInstructionClick:a.props.onInstructionClick,onInstructionDoubleClick:a.props.onInstructionDoubleClick,onParameterClick:a.props.onParameterClick,onEventClick:function(){return a.props.onEventClick({eventsList:t.eventsList,event:n,indexInList:t.indexInList})},onEventContextMenu:function(e,r){return a.props.onEventContextMenu(e,r,{eventsList:t.eventsList,event:n,indexInList:t.indexInList})},onInstructionContextMenu:a.props.onInstructionContextMenu,onAddInstructionContextMenu:a.props.onAddInstructionContextMenu,onOpenExternalEvents:a.props.onOpenExternalEvents,onOpenLayout:a.props.onOpenLayout,disabled:o,renderObjectThumbnail:a._renderObjectThumbnail,screenType:a.props.screenType,windowWidth:a.props.windowWidth,eventsSheetHeight:a.props.eventsSheetHeight}):null},a._isNodeHighlighted=function(e){var t=e.node,n=e.searchQuery;if(!n)return!1;var a=t.event;return!!a&&n.find((function(e){return N.compare(e,a)}))},a.eventsHeightsCache=new E.a(Object(o.a)(a)),a.state=Object(r.a)({},a._eventsToTreeData(e.events)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.onHeightsChanged()}},{key:"onHeightsChanged",value:function(e){var t=this;this.forceUpdate((function(){t._list&&t._list.wrappedInstance.current&&t._list.wrappedInstance.current.recomputeRowHeights(),e&&e()}))}},{key:"forceEventsUpdate",value:function(e){var t=this;this.setState(this._eventsToTreeData(this.props.events),(function(){t._list&&t._list.wrappedInstance.current&&t._list.wrappedInstance.current.recomputeRowHeights(),e&&e()}))}},{key:"scrollToEvent",value:function(e){var t=this._getEventRow(e);-1!==t&&this._list&&this._list.wrappedInstance.current&&this._list.wrappedInstance.current.scrollToRow(t)}},{key:"unfoldForEvent",value:function(e){N.EventsListUnfolder.unfoldWhenContaining(this.props.events,e),this.forceEventsUpdate()}},{key:"_getEventRow",value:function(e){return f()(this.state.flatData,(function(t){return t.ptr===e.ptr}))}},{key:"render",value:function(){var e=this,t=this.state.treeData?Object(a.a)(this.state.treeData):null;return m.a.createElement("div",{style:P.container},m.a.createElement(M,{treeData:t,scaffoldBlockPxWidth:I(this.props.windowWidth),onChange:F,onVisibilityToggle:this._onVisibilityToggle,onMoveNode:this._onMoveNode,canDrag:this._canDrag,canDrop:this._canDrop,canNodeHaveChildren:this._canNodeHaveChildren,rowHeight:function(t){var n=t.node;return n.event?e.eventsHeightsCache.getEventHeight(n.event):n.fixedHeight||0},searchMethod:this._isNodeHighlighted,searchQuery:this.props.searchResults,searchFocusOffset:this.props.searchFocusOffset,className:this.props.searchResults?O.g:"",reactVirtualizedListProps:{ref:function(t){return e._list=t},onScroll:this.props.onScroll}}))}}]),n}(d.Component);A.defaultProps={selection:Object(b.b)()}}).call(this,n(1))},150:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return x}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n(103),u=n(99),d=n(2362),m=n(307),p=n.n(m),f=n(626),h=n.n(f),g=n(636),b=n.n(g),v=n(146),E=n(104),y=n(634),j=n(210),O=n(129),C=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={focus:!1,value:e.props.value,active:!1},e._textField=c.createRef(),e.focus=function(){e._textField.current&&e._textField.current.focus()},e.blur=function(){e._textField.current&&e._textField.current.blur()},e.handleFocus=function(){e.setState({focus:!0})},e.handleBlur=function(){e.setState({focus:!1}),0===e.state.value.trim().length&&e.setState({value:""})},e.handleInput=function(t){e.setState({value:t.target.value}),e.props.onChange&&e.props.onChange(t.target.value)},e.handleCancel=function(){e.setState({active:!1,value:""}),e.props.onChange&&e.props.onChange("")},e.handleKeyPressed=function(t){Object(O.e)(t)&&e.props.onRequestSearch(e.state.value)},e}return Object(o.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.props.value!==e.value&&this.setState(Object(a.a)(Object(a.a)({},this.state),{},{value:e.value}))}},{key:"render",value:function(){var e=this,t=function(e,t){var n=e.disabled,a=t.value.length>0;return{root:{height:30,display:"flex",justifyContent:"space-between"},iconButtonClose:{style:{opacity:n?.38:.54,transform:a?"scale(1, 1)":"scale(0, 0)",transition:"transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"},iconStyle:{opacity:a?1:0,transition:"opacity 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"}},iconButtonSearch:{style:{opacity:n?.38:.54,transform:a?"scale(0, 0)":"scale(1, 1)",transition:"transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1)",marginRight:-30},iconStyle:{opacity:a?0:1,transition:"opacity 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"}},iconButtonFilter:{style:{opacity:n?.38:.54}},iconButtonHelp:{style:{opacity:n?.38:.54}},input:{width:"100%"},searchContainer:{top:-1,position:"relative",margin:"auto 8px",width:"100%"}}}(this.props,this.state),n=this.state.value,r=this.props,o=r.disabled,i=r.style,s=r.buildTagsMenuTemplate,m=r.helpPagePath;return c.createElement(E.a,null,(function(r){return c.createElement(d.a,{style:Object(a.a)(Object(a.a)({backgroundColor:r.searchBar.backgroundColor},t.root),i),square:!0,elevation:1},c.createElement("div",{style:t.searchContainer},c.createElement(u.b,{margin:"none",hintText:e.props.placeholder||{id:"Search"},onBlur:e.handleBlur,value:n,onChange:e.handleInput,onKeyUp:e.handleKeyPressed,onFocus:e.handleFocus,fullWidth:!0,style:t.input,underlineShow:!1,disabled:o,ref:e._textField})),s&&c.createElement(v.a,{element:c.createElement(l.a,{style:t.iconButtonFilter.style,disabled:o,size:"small"},c.createElement(b.a,null)),buildMenuTemplate:s}),m&&c.createElement(y.a,{disabled:o,helpPagePath:m,style:t.iconButtonHelp.style,size:"small"}),c.createElement(l.a,{style:t.iconButtonSearch.style,disabled:o,size:"small"},c.createElement(h.a,{style:t.iconButtonSearch.iconStyle})),c.createElement(l.a,{onClick:e.handleCancel,style:t.iconButtonClose.style,disabled:o,size:"small"},c.createElement(p.a,{style:t.iconButtonClose.iconStyle})))}))}}]),n}(c.PureComponent),x=function(){return!("touch"===Object(j.b)())}},1552:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n(321),u=n(147),d=n.n(u),m=n(132),p=n(397),f=e.gd,h={flex:1},g=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=f.asStandardEvent(this.props.event);return c.createElement(p.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,className:d()({[m.m]:!0,[m.n]:this.props.selected,[m.h]:!0}),renderConditionsList:function(n){var a=n.style,r=n.className;return c.createElement(l.a,{instrsList:t.getConditions(),style:a,className:r,selection:e.props.selection,areConditions:!0,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})},renderActionsList:function(n){var r=n.className;return c.createElement(l.a,{instrsList:t.getActions(),style:Object(a.a)({},h),className:r,selection:e.props.selection,areConditions:!1,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})}})}}]),n}(c.Component)}).call(this,n(1))},1553:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return j}));var a=n(77),r=n(2),o=n(92),i=n(147),s=n.n(i),c=n(132),l=n(321),u=n(756),d=n(521),m=n(1606),p=n(1607),f=n(771),h=n(210),g=n(113),b=n(304),v=n(129),E=e.gd,y={container:{whiteSpace:"normal",wordWrap:"break-word",cursor:"pointer",marginBottom:1}},j="GD_DRAGGED_INSTRUCTION",O=Object(f.a)(j);t.a=function(e){var t=e.instruction,n=e.isCondition,i=e.onClick,f=e.onMoveToInstruction,j=e.onContextMenu,C=r.useMemo((function(){return E.InstructionSentenceFormatter.get()}),[]),x=r.useContext(g.b).values.eventsSheetUseAssignmentOperators,T=n?E.MetadataProvider.getConditionMetadata(E.JsPlatform.get(),t.getType()):E.MetadataProvider.getActionMetadata(E.JsPlatform.get(),t.getType()),S="touch"!==Object(h.b)(),k=Object(b.a)(r.useCallback((function(e){j(e.clientX,e.clientY)}),[j]));return r.createElement(O,{beginDrag:function(){return i(),{isCondition:n}},canDrag:function(){return S},canDrop:function(e){return e.isCondition===n},drop:function(){f()}},(function(n){var i=n.connectDragSource,f=n.connectDropTarget,h=n.isOver,g=n.canDrop,b=i(r.createElement("div",Object.assign({style:y.container,className:s()({[c.q]:!0,[c.r]:e.selected}),onClick:function(t){t.stopPropagation(),"touch"===e.screenType&&e.selected?e.onDoubleClick():e.onClick()},onDoubleClick:function(t){t.stopPropagation(),e.onDoubleClick()},onContextMenu:function(e){e.stopPropagation(),j(e.clientX,e.clientY)}},k,{onKeyPress:function(t){Object(v.e)(t)?(e.onDoubleClick(),t.stopPropagation(),t.preventDefault()):Object(v.a)(t)&&(e.onClick(),t.stopPropagation(),t.preventDefault())},tabIndex:0}),t.isInverted()&&r.createElement("img",{className:s()({[c.i]:!0}),src:"res/contraire.png",alt:"Condition is negated"}),r.createElement("img",{className:s()({[c.i]:!0}),src:T.getSmallIconFilename(),alt:""}),function(t){var n=e.instruction,a=e.disabled,i=e.renderObjectThumbnail,l=C.getAsFormattedText(n,t),u=t.getParametersCount();return r.createElement("span",{className:s()({[c.d]:a})},Object(o.mapFor)(0,l.size(),(function(n){var a,o=l.getTextFormatting(n).getUserData();if(!(o>=0&&o<u))return r.createElement("span",{key:n},0===n?(a=l.getString(n))?a[0].toUpperCase()+a.substr(1):"":l.getString(n));var f=t.getParameter(o),h=f.getType();return r.createElement("span",{key:n,className:s()({[c.q]:!0,[c.l]:!0,[h]:!0}),onClick:function(t){e.onParameterClick(t,o),"touch"===e.screenType&&t.stopPropagation()},onKeyPress:function(t){Object(v.a)(t)&&(e.onParameterClick(t,o),t.stopPropagation(),t.preventDefault())},tabIndex:0},d.a.renderInlineParameter({value:l.getString(n),parameterMetadata:f,renderObjectThumbnail:i,InvalidParameterValue:m.a,MissingParameterValue:p.a,useAssignmentOperators:x}))})))}(T))),E=b?f(b):null;return r.createElement(r.Fragment,null,h&&r.createElement(u.a,{canDrop:g}),E,T.canHaveSubInstructions()&&r.createElement(l.a,{style:{},className:c.t,instrsList:t.getSubInstructions(),areConditions:e.isCondition,selection:e.selection,onAddNewInstruction:e.onAddNewSubInstruction,onPasteInstructions:e.onPasteSubInstructions,onMoveToInstruction:e.onMoveToSubInstruction,onMoveToInstructionsList:e.onMoveToSubInstructionsList,onInstructionClick:e.onSubInstructionClick,onInstructionDoubleClick:e.onSubInstructionDoubleClick,onInstructionContextMenu:e.onSubInstructionContextMenu,onAddInstructionContextMenu:e.onAddSubInstructionContextMenu,onParameterClick:e.onSubParameterClick,addButtonLabel:r.createElement(a.Trans,{id:"Add a sub-condition"}),disabled:e.disabled,renderObjectThumbnail:e.renderObjectThumbnail,screenType:e.screenType,windowWidth:e.windowWidth}))}))}}).call(this,n(1))},1554:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(117),d=n(118),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.parameterMetadata,n=t?t.getDescription():void 0;return l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:n,helperMarkdownText:t?t.getLongDescription():void 0,value:this.props.value,onChange:function(t,n,a){return e.props.onChange(a)},ref:function(t){return e._field=t},hintText:{id:"Choose an operator"}},l.a.createElement(d.a,{value:"=",primaryText:{id:"= (equal to)"}}),l.a.createElement(d.a,{value:"<",primaryText:{id:"< (less than)"}}),l.a.createElement(d.a,{value:">",primaryText:{id:"> (greater than)"}}),l.a.createElement(d.a,{value:"<=",primaryText:{id:"\u2264 (less or equal to)"}}),l.a.createElement(d.a,{value:">=",primaryText:{id:"\u2265 (greater or equal to)"}}),l.a.createElement(d.a,{value:"!=",primaryText:{id:"\u2260 (not equal to)"}}))}}]),n}(c.Component),p=function(e){var t=e.value,n=e.InvalidParameterValue;return t?"="!==t&&"<"!==t&&">"!==t&&"<="!==t&&">="!==t&&"!="!==t?l.a.createElement(n,null,t):"<="===t?"\u2264":">="===t?"\u2265":"!="===t?"\u2260":t:l.a.createElement(n,{isEmpty:!0},l.a.createElement(s.Trans,{id:"Choose an operator"}))}},1555:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(117),d=n(118),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.parameterMetadata,n=t?t.getDescription():void 0;return l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:n,helperMarkdownText:t?t.getLongDescription():void 0,value:this.props.value,onChange:function(t,n,a){return e.props.onChange(a)},ref:function(t){return e._field=t},hintText:{id:"Choose an operator"}},l.a.createElement(d.a,{value:"=",primaryText:{id:"= (set to)"}}),l.a.createElement(d.a,{value:"+",primaryText:{id:"+ (add)"}}),l.a.createElement(d.a,{value:"-",primaryText:{id:"- (subtract)"}}),l.a.createElement(d.a,{value:"*",primaryText:{id:"* (multiply by)"}}),l.a.createElement(d.a,{value:"/",primaryText:{id:"/ (divide by)"}}))}}]),n}(c.Component),p=function(e){var t=e.value,n=e.InvalidParameterValue,a=e.useAssignmentOperators;if(!t)return l.a.createElement(n,{isEmpty:!0},l.a.createElement(s.Trans,{id:"Choose an operator"}));if(a){if("="===t)return"=";if("+"===t)return"+=";if("-"===t)return"-=";if("/"===t)return"/=";if("*"===t)return"*="}else{if("="===t)return l.a.createElement(s.Trans,{id:"set to"});if("+"===t)return l.a.createElement(s.Trans,{id:"add"});if("-"===t)return l.a.createElement(s.Trans,{id:"subtract"});if("/"===t)return l.a.createElement(s.Trans,{id:"divide by"});if("*"===t)return l.a.createElement(s.Trans,{id:"multiply by"})}return l.a.createElement(n,null,t)}},1556:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(117),d=n(118),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"focus",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.parameterMetadata,a=t.value,r=n?n.getDescription():void 0;return l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:r,helperMarkdownText:n?n.getLongDescription():void 0,value:a,ref:function(t){return e._field=t},onChange:function(t,n,a){return e.props.onChange(a)},errorText:a?void 0:l.a.createElement(s.Trans,{id:"You must select a button"})},l.a.createElement(d.a,{value:"Left",primaryText:{id:"Left (primary)"}}),l.a.createElement(d.a,{value:"Right",primaryText:{id:"Right (secondary)"}}),l.a.createElement(d.a,{value:"Middle",primaryText:{id:"Middle (Auxiliary button, usually the wheel button)"}}))}}]),n}(c.Component),p=function(e){var t=e.value,n=e.InvalidParameterValue;return t||l.a.createElement(n,{isEmpty:!0},l.a.createElement(s.Trans,{id:"Choose a mouse button"}))}},1557:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(180),d=["Num0","Num1","Num2","Num3","Num4","Num5","Num6","Num7","Num8","Num9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","LBracket","RBracket","SemiColon","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","Escape","Space","Return","Back","Tab","PageUp","PageDown","End","Home","Insert","Delete","Add","Subtract","Multiply","Divide","NumpadAdd","NumpadSubtract","NumpadMultiply","NumpadDivide","Left","Right","Up","Down","NumpadLeft","NumpadRight","NumpadUp","NumpadDown","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Pause","RControl","LControl","RAlt","LAlt","RShift","LShift"],m=function(e){return-1!==d.indexOf(e)},p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,r=t.isInline,o=t.parameterMetadata,i=t.onRequestClose;return l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:o?o.getDescription():void 0,helperMarkdownText:o?o.getLongDescription():void 0,fullWidth:!0,value:n,onChange:a,dataSource:d.map((function(e){return{text:e,value:e}})),openOnFocus:!r,onRequestClose:i,ref:function(t){return e._field=t},errorText:n?m(n)?void 0:l.a.createElement(s.Trans,{id:'You must select a valid key. "{value}" is not valid.',values:{value:n}}):l.a.createElement(s.Trans,{id:"You must select a key."})})}}]),n}(c.Component),f=function(e){var t=e.value,n=e.InvalidParameterValue;return t?m(t)?t:l.a.createElement(n,null,t):l.a.createElement(n,{isEmpty:!0},l.a.createElement(s.Trans,{id:"Choose a key"}))}},1558:function(e,t,n){"use strict";var a=n(215),r=n(107);function o(e,t,n,o,i,s){a.a.call(this,e,t,n,o,i,s),this._pixiObject=new r.Graphics,this._pixiContainer.addChild(this._pixiObject);var c=n.hasCustomSize()?n.getCustomWidth():32,l=n.hasCustomSize()?n.getCustomHeight():32;this._pixiObject.beginFill(13311),this._pixiObject.lineStyle(1,16767232,1),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(c,0),this._pixiObject.lineTo(c,l),this._pixiObject.lineTo(0,l),this._pixiObject.endFill()}o.prototype=Object.create(a.a.prototype),o.getThumbnail=function(e,t,n){return"res/unknown32.png"},o.prototype.update=function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this._pixiObject.rotation=this._instance.getAngle()*Math.PI/180},t.a=o},1567:function(e,t,n){"use strict";(function(e){var a=n(215),r=n(107),o=e.gd;function i(e,t,n,o,i,s){a.a.call(this,e,t,n,o,i,s),this._renderedAnimation=0,this._renderedDirection=0,this._centerX=0,this._centerY=0,this._originX=0,this._originY=0,this._pixiObject=new r.Sprite(this._pixiResourcesLoader.getInvalidPIXITexture()),this._pixiContainer.addChild(this._pixiObject),this.updatePIXITexture(),this.updatePIXISprite()}i.prototype=Object.create(a.a.prototype),i.getThumbnail=function(e,t,n){var a=o.asSpriteObject(n);if(a.getAnimationsCount()>0&&a.getAnimation(0).getDirectionsCount()>0&&a.getAnimation(0).getDirection(0).getSpritesCount()>0){var r=a.getAnimation(0).getDirection(0).getSprite(0).getImageName();return t.getResourceFullUrl(e,r,{})}return"res/unknown32.png"},i.prototype.updatePIXISprite=function(){this._pixiObject.anchor.x=this._centerX/this._pixiObject.texture.frame.width,this._pixiObject.anchor.y=this._centerY/this._pixiObject.texture.frame.height,this._pixiObject.rotation=this._shouldNotRotate?0:a.a.toRad(this._instance.getAngle()),this._instance.hasCustomSize()?(this._pixiObject.scale.x=this._instance.getCustomWidth()/this._pixiObject.texture.frame.width,this._pixiObject.scale.y=this._instance.getCustomHeight()/this._pixiObject.texture.frame.height):(this._pixiObject.scale.x=1,this._pixiObject.scale.y=1),this._pixiObject.position.x=this._instance.getX()+(this._centerX-this._originX)*Math.abs(this._pixiObject.scale.x),this._pixiObject.position.y=this._instance.getY()+(this._centerY-this._originY)*Math.abs(this._pixiObject.scale.y)},i.prototype.updateSprite=function(){this._sprite=null,this._shouldNotRotate=!1;var e=o.asSpriteObject(this._associatedObject);if(e.hasNoAnimations())return!1;this._renderedAnimation=this._instance.getRawFloatProperty("animation"),this._renderedAnimation>=e.getAnimationsCount()&&(this._renderedAnimation=0);var t=e.getAnimation(this._renderedAnimation);if(t.hasNoDirections())return!1;if(this._renderedDirection=0,t.useMultipleDirections()){var n=Math.floor(this._instance.getAngle())%360;n<0&&(n+=360),this._renderedDirection=Math.round(n/45)%8}this._renderedDirection>=t.getDirectionsCount()&&(this._renderedDirection=0);var a=t.getDirection(this._renderedDirection);return 0!==a.getSpritesCount()&&(this._shouldNotRotate=t.useMultipleDirections(),this._sprite=a.getSprite(0),!0)},i.prototype.updatePIXITexture=function(){if(this.updateSprite(),this._sprite){this._pixiObject.texture=this._pixiResourcesLoader.getPIXITexture(this._project,this._sprite.getImageName());var e=this._sprite.getOrigin();if(this._originX=e.getX(),this._originY=e.getY(),this._sprite.isDefaultCenterPoint())if(this._pixiObject.texture.baseTexture.valid)this._centerX=this._pixiObject.texture.width/2,this._centerY=this._pixiObject.texture.height/2;else{var t=this;this._pixiObject.texture.on("update",(function(){t._centerX=t._pixiObject.texture.width/2,t._centerY=t._pixiObject.texture.height/2,t._pixiObject.texture.off("update",this)}))}else{var n=this._sprite.getCenter();this._centerX=n.getX(),this._centerY=n.getY()}}},i.prototype.update=function(){var e=this._instance.getRawFloatProperty("animation");this._renderedAnimation!==e&&this.updatePIXITexture(),this.updatePIXISprite()},i.prototype.getOriginX=function(){return this._sprite&&this._pixiObject?this._sprite.getOrigin().getX()*this._pixiObject.scale.x:0},i.prototype.getOriginY=function(){return this._sprite&&this._pixiObject?this._sprite.getOrigin().getY()*this._pixiObject.scale.y:0},i.prototype.getDefaultWidth=function(){return Math.abs(this._pixiObject.width)},i.prototype.getDefaultHeight=function(){return Math.abs(this._pixiObject.height)},t.a=i}).call(this,n(1))},1568:function(e,t,n){"use strict";(function(e){var a=n(215),r=n(107),o=e.gd;function i(e,t,n,i,s,c){a.a.call(this,e,t,n,i,s,c);var l=o.asTiledSpriteObject(i);this._texture=l.getTexture(),this._pixiObject=new r.TilingSprite(this._pixiResourcesLoader.getPIXITexture(e,l.getTexture()),l.getWidth(),l.getHeight()),this._pixiObject.anchor.x=.5,this._pixiObject.anchor.y=.5,this._pixiContainer.addChild(this._pixiObject)}i.prototype=Object.create(a.a.prototype),i.getThumbnail=function(e,t,n){var a=o.asTiledSpriteObject(n);return t.getResourceFullUrl(e,a.getTexture(),{})},i.prototype.update=function(){var e=o.asTiledSpriteObject(this._associatedObject);this._instance.hasCustomSize()?(this._pixiObject.width=this._instance.getCustomWidth(),this._pixiObject.height=this._instance.getCustomHeight()):(this._pixiObject.width=e.getWidth(),this._pixiObject.height=e.getHeight()),this._texture!==e.getTexture()&&(this._texture=e.getTexture(),this._pixiObject.texture=this._pixiResourcesLoader.getPIXITexture(this._project,e.getTexture())),this._pixiObject.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.y=this._instance.getY()+this._pixiObject.height/2,this._pixiObject.rotation=a.a.toRad(this._instance.getAngle())},i.prototype.getDefaultWidth=function(){return o.asTiledSpriteObject(this._associatedObject).getWidth()},i.prototype.getDefaultHeight=function(){return o.asTiledSpriteObject(this._associatedObject).getHeight()},t.a=i}).call(this,n(1))},1569:function(e,t,n){"use strict";(function(e){var a=n(215),r=n(107),o=e.gd;function i(e,t,n,r,o,i){a.a.call(this,e,t,n,r,o,i),this.makeObjects(),this.updateTexture()}i.prototype=Object.create(a.a.prototype),i.prototype.update=function(){var e=o.asPanelSpriteObject(this._associatedObject);e.isTiled()!==this._tiled&&this.makeObjects(),e.getTexture()!==this._textureName&&this.updateTexture(),this.updateAngle(),this.updatePosition();var t=this._width,n=this._height;if(this._instance.hasCustomSize())this._width=this._instance.getCustomWidth(),this._height=this._instance.getCustomHeight();else{var a=o.asPanelSpriteObject(this._associatedObject);this._width=a.getWidth(),this._height=a.getHeight()}this._width===t&&this._height===n||this.updateWidthHeight()},i.prototype.makeObjects=function(){var e=o.asPanelSpriteObject(this._associatedObject);this._textureName=e.getTexture();var t=this._pixiResourcesLoader.getPIXITexture(this._project,this._textureName);this._tiled=e.isTiled();var n=this._tiled?r.TilingSprite:r.Sprite;this._pixiObject||(this._pixiObject=new r.Container,this._pixiContainer.addChild(this._pixiObject)),this._centerSprite=new n(new r.Texture(t)),this._borderSprites=[new n(new r.Texture(t)),new r.Sprite(t),new n(new r.Texture(t)),new r.Sprite(t),new n(new r.Texture(t)),new r.Sprite(t),new n(new r.Texture(t)),new r.Sprite(t)],this._pixiObject.removeChildren(),this._pixiObject.addChild(this._centerSprite);for(var a=0;a<this._borderSprites.length;++a)this._pixiObject.addChild(this._borderSprites[a])},i.prototype.updateAngle=function(){this._pixiObject.rotation=a.a.toRad(this._instance.getAngle())},i.prototype.updatePosition=function(){this._pixiObject.x=this._instance.getX()+this._width/2,this._pixiObject.y=this._instance.getY()+this._height/2},i.prototype._updateLocalPositions=function(){var e=o.asPanelSpriteObject(this._associatedObject);this._centerSprite.position.x=e.getLeftMargin(),this._centerSprite.position.y=e.getTopMargin(),this._borderSprites[0].position.x=this._width-e.getRightMargin(),this._borderSprites[0].position.y=e.getTopMargin(),this._borderSprites[1].position.x=this._width-this._borderSprites[1].width,this._borderSprites[1].position.y=0,this._borderSprites[2].position.x=e.getLeftMargin(),this._borderSprites[2].position.y=0,this._borderSprites[3].position.x=0,this._borderSprites[3].position.y=0,this._borderSprites[4].position.x=0,this._borderSprites[4].position.y=e.getTopMargin(),this._borderSprites[5].position.x=0,this._borderSprites[5].position.y=this._height-this._borderSprites[5].height,this._borderSprites[6].position.x=e.getLeftMargin(),this._borderSprites[6].position.y=this._height-e.getBottomMargin(),this._borderSprites[7].position.x=this._width-this._borderSprites[7].width,this._borderSprites[7].position.y=this._height-this._borderSprites[7].height},i.prototype._updateSpritesAndTexturesSize=function(){var e=o.asPanelSpriteObject(this._associatedObject);this._centerSprite.width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._centerSprite.height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[0].width=e.getRightMargin(),this._borderSprites[0].height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[2].height=e.getTopMargin(),this._borderSprites[2].width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._borderSprites[4].width=e.getLeftMargin(),this._borderSprites[4].height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[6].height=e.getBottomMargin(),this._borderSprites[6].width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._wasRendered=!0,this._pixiObject.cacheAsBitmap=!1},i.prototype.updateTexture=function(){var e=o.asPanelSpriteObject(this._associatedObject);this._textureName=e.getTexture();var t=this._pixiResourcesLoader.getPIXITexture(this._project,this._textureName);if(t.baseTexture.valid)console.log("Updating PanelSprite instance texture"),this._centerSprite.texture=new r.Texture(t,a(new r.Rectangle(e.getLeftMargin(),e.getTopMargin(),t.width-e.getLeftMargin()-e.getRightMargin(),t.height-e.getTopMargin()-e.getBottomMargin()))),this._borderSprites[0].texture=new r.Texture(t,a(new r.Rectangle(t.width-e.getRightMargin(),e.getTopMargin(),e.getRightMargin(),t.height-e.getTopMargin()-e.getBottomMargin()))),this._borderSprites[1].texture=new r.Texture(t,a(new r.Rectangle(t.width-e.getRightMargin(),0,e.getRightMargin(),e.getTopMargin()))),this._borderSprites[2].texture=new r.Texture(t,a(new r.Rectangle(e.getLeftMargin(),0,t.width-e.getLeftMargin()-e.getRightMargin(),e.getTopMargin()))),this._borderSprites[3].texture=new r.Texture(t,a(new r.Rectangle(0,0,e.getLeftMargin(),e.getTopMargin()))),this._borderSprites[4].texture=new r.Texture(t,a(new r.Rectangle(0,e.getTopMargin(),e.getLeftMargin(),t.height-e.getTopMargin()-e.getBottomMargin()))),this._borderSprites[5].texture=new r.Texture(t,a(new r.Rectangle(0,t.height-e.getBottomMargin(),e.getLeftMargin(),e.getBottomMargin()))),this._borderSprites[6].texture=new r.Texture(t,a(new r.Rectangle(e.getLeftMargin(),t.height-e.getBottomMargin(),t.width-e.getLeftMargin()-e.getRightMargin(),e.getBottomMargin()))),this._borderSprites[7].texture=new r.Texture(t,a(new r.Rectangle(t.width-e.getRightMargin(),t.height-e.getBottomMargin(),e.getRightMargin(),e.getBottomMargin()))),this._updateSpritesAndTexturesSize(),this._updateLocalPositions(),this.updatePosition();else{var n=this;t.on("update",(function(){n.updateTexture(),t.off("update",this)}))}function a(e){return e.width<0&&(e.width=0),e.height<0&&(e.height=0),e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x>t.width&&(e.x=t.width),e.y>t.height&&(e.y=t.height),e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),e}},i.prototype.updateWidthHeight=function(){this._pixiObject.pivot.x=this._width/2,this._pixiObject.pivot.y=this._height/2,this._updateSpritesAndTexturesSize(),this._updateLocalPositions(),this.updatePosition()},i.prototype.getDefaultWidth=function(){return o.asPanelSpriteObject(this._associatedObject).getWidth()},i.prototype.getDefaultHeight=function(){return o.asPanelSpriteObject(this._associatedObject).getHeight()},i.getThumbnail=function(e,t,n){var a=o.asPanelSpriteObject(n);return t.getResourceFullUrl(e,a.getTexture(),{})},t.a=i}).call(this,n(1))},157:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(2457),l=n(2378),u=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return s.createElement(c.a,{variant:"fullWidth",textColor:"primary",value:this.props.value,onChange:function(t,n){return e.props.onChange(n)}},this.props.children)}}]),n}(s.Component),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return s.createElement(l.a,this.props)}}]),n}(s.Component)},1570:function(e,t,n){"use strict";(function(e){var a=n(215),r=n(107),o=e.gd;function i(e,t,n,i,s,c){a.a.call(this,e,t,n,i,s,c);var l=o.asTextObject(this._associatedObject);this._pixiObject=new r.Text(" ",{align:"left"}),this._pixiObject.anchor.x=.5,this._pixiObject.anchor.y=.5,this._pixiContainer.addChild(this._pixiObject),this._styleFontDirty=!0,this._fontFamily=this._pixiResourcesLoader.getFontFamily(this._project,l.getFontName()),this.update()}i.prototype=Object.create(a.a.prototype),i.getThumbnail=function(e,t,n){return"CppPlatform/Extensions/texticon24.png"},i.prototype.update=function(){var e=this,t=o.asTextObject(this._associatedObject);this._pixiObject.text=t.getString(),(t.isItalic()!==this._isItalic||t.isBold()!==this._isBold||t.getCharacterSize()!==this._characterSize||this._instance.hasCustomSize()!==this._wrapping||this._instance.getCustomWidth()!==this._wrappingWidth&&this._wrapping)&&(this._isItalic=t.isItalic(),this._isBold=t.isBold(),this._characterSize=t.getCharacterSize(),this._wrapping=this._instance.hasCustomSize(),this._wrappingWidth=this._instance.getCustomWidth(),this._styleFontDirty=!0),this._fontName!==t.getFontName()&&(this._fontName=t.getFontName(),this._pixiResourcesLoader.loadFontFamily(this._project,t.getFontName()).then((function(t){e._fontFamily=t,e._styleFontDirty=!0})).catch((function(e){console.warn("Unable to load font family for RenderedTextInstance",e)}))),this._styleFontDirty&&(this._pixiObject.style.fontFamily=this._fontFamily||"Arial",this._pixiObject.style.fontSize=Math.max(1,this._characterSize)+"px",this._pixiObject.style.fontStyle=this._isItalic?"italic":"normal",this._pixiObject.style.fontWeight=this._isBold?"bold":"normal",this._pixiObject.style.wordWrap=this._wrapping,this._pixiObject.style.wordWrapWidth=this._wrappingWidth<=1?1:this._wrappingWidth,this._pixiObject.style.breakWords=!0,this._pixiObject.dirty=!0,this._styleFontDirty=!1),t.getColorR()===this._colorR&&t.getColorG()===this._colorG&&t.getColorB()===this._colorB||(this._colorR=t.getColorR(),this._colorG=t.getColorG(),this._colorB=t.getColorB(),this._pixiObject.style.fill="rgb("+this._colorR+","+this._colorG+","+this._colorB+")",this._pixiObject.dirty=!0),this._pixiObject.position.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.position.y=this._instance.getY()+this._pixiObject.height/2,this._pixiObject.rotation=a.a.toRad(this._instance.getAngle())},i.prototype.getDefaultWidth=function(){return this._pixiObject.width},i.prototype.getDefaultHeight=function(){return this._pixiObject.height},t.a=i}).call(this,n(1))},1571:function(e,t,n){"use strict";var a=n(524);t.a=Object(a.a)("CppPlatform/Extensions/primitivedrawingicon.png")},1572:function(e,t,n){"use strict";var a=n(524);t.a=Object(a.a)("CppPlatform/Extensions/textentry.png")},1573:function(e,t,n){"use strict";(function(e){var a=n(215),r=n(107),o=n(262),i=e.gd;function s(e,t,n,o,i,s){a.a.call(this,e,t,n,o,i,s),this._pixiObject=new r.Graphics,this._pixiContainer.addChild(this._pixiObject),this.updateGraphics()}s.prototype=Object.create(a.a.prototype),s.getThumbnail=function(e,t,n){return"CppPlatform/Extensions/particleSystemicon.png"},s.prototype.update=function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this.updateGraphics()},s.prototype.updateGraphics=function(){var e=i.asParticleEmitterObject(this._associatedObject);this._pixiObject.clear();var t=this._instance.getAngle()/180*3.14159,n=e.getConeSprayAngle(),a=t-n/2/180*3.14159,r=t+n/2/180*3.14159;this._pixiObject.beginFill(0,0),this._pixiObject.lineStyle(3,Object(o.d)(e.getParticleRed2(),e.getParticleGreen2(),e.getParticleBlue2()),1),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(64*Math.cos(a),64*Math.sin(a)),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(64*Math.cos(r),64*Math.sin(r)),this._pixiObject.endFill(),this._pixiObject.lineStyle(0,0,1),this._pixiObject.beginFill(Object(o.d)(e.getParticleRed1(),e.getParticleGreen1(),e.getParticleBlue1())),this._pixiObject.drawCircle(0,0,8),this._pixiObject.endFill()},s.prototype.getDefaultWidth=function(){return 128},s.prototype.getDefaultHeight=function(){return 128},s.prototype.getOriginX=function(){return 64},s.prototype.getOriginY=function(){return 64},t.a=s}).call(this,n(1))},1574:function(e,t,n){"use strict";var a=n(524);t.a=Object(a.a)("JsPlatform/Extensions/skeletonicon24.png")},1575:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1576),r=n.n(a),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("undefined"!==typeof FontFace){var a=new FontFace(e,t,n);return document.fonts.add(a),a.load()}var o=document.createElement("style");return o.appendChild(document.createTextNode("@font-face {\n          font-family: ".concat(e,";\n          src: ").concat(t,";\n        }"))),document.head.appendChild(o),new r.a(e,n).load().catch((function(t){throw console.warn("Error while loading font ".concat(e),t),t}))}},1577:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(89),d=n(79),m=n(764),p=n(525),f=n(85),h={button:{margin:5},description:{display:"inline-block",marginRight:5}},g=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._yesButton=l.a.createRef(),e}return Object(r.a)(n,[{key:"focus",value:function(){Object(p.a)(this._yesButton)}},{key:"render",value:function(){var e=this,t=this.props,n=t.parameterMetadata,a=t.value,r=n?n.getDescription():void 0,o=Object(m.a)(a,n);return l.a.createElement(d.b,null,l.a.createElement(f.a,{style:h.description},r),l.a.createElement(d.a,{noMargin:!0},l.a.createElement(u.a,{style:h.button,label:l.a.createElement(s.Trans,{id:"Yes"}),primary:"yes"===o,onClick:function(){return e.props.onChange("yes")},ref:this._yesButton})),l.a.createElement(d.a,{noMargin:!0},l.a.createElement(u.a,{style:h.button,label:l.a.createElement(s.Trans,{id:"No"}),primary:"yes"!==o,onClick:function(){return e.props.onChange("no")}})))}}]),n}(c.Component),b=function(e){var t=e.value,n=e.parameterMetadata;return"yes"===Object(m.a)(t,n)?l.a.createElement(s.Trans,{id:"yes"}):l.a.createElement(s.Trans,{id:"no"})}},1578:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(89),d=n(79),m=n(764),p=n(525),f=n(85),h={button:{margin:5},description:{display:"inline-block",marginRight:5}},g=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._trueButton=l.a.createRef(),e}return Object(r.a)(n,[{key:"focus",value:function(){Object(p.a)(this._trueButton)}},{key:"render",value:function(){var e=this,t=this.props,n=t.parameterMetadata,a=t.value,r=n?n.getDescription():void 0,o=Object(m.a)(a,n);return l.a.createElement(d.b,null,l.a.createElement(f.a,{style:h.description},r),l.a.createElement(d.a,{noMargin:!0},l.a.createElement(u.a,{style:h.button,label:l.a.createElement(s.Trans,{id:"True"}),primary:"True"===o,onClick:function(){return e.props.onChange("True")},ref:this._trueButton})),l.a.createElement(d.a,{noMargin:!0},l.a.createElement(u.a,{style:h.button,label:l.a.createElement(s.Trans,{id:"False"}),primary:"True"!==o,onClick:function(){return e.props.onChange("False")}})))}}]),n}(c.Component),b=function(e){var t=e.value,n=e.parameterMetadata;return"True"===Object(m.a)(t,n)?l.a.createElement(s.Trans,{id:"true"}):l.a.createElement(s.Trans,{id:"false"})}},1579:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(394),u=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return c.a.createElement(l.a,Object.assign({expressionType:"number",ref:function(t){return e._field=t}},this.props))}}]),n}(s.Component)},1580:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(137),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n.n(c),u=n(765),d=n(395),m=n(322),p=n(396),f={flex:1,display:"flex",flexDirection:"column"},h=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).instructionsInfo=Object(p.a)(Object(u.a)(e.props.expressionType),e.props.scope),e.instructionsInfoTree=Object(m.a)(e.instructionsInfo),e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.expressionType,e.scope,Object(a.a)(e,["expressionType","scope"]));return l.a.createElement(d.a,Object.assign({style:f,instructionsInfo:this.instructionsInfo,instructionsInfoTree:this.instructionsInfoTree,iconSize:16,helpPagePath:"/all-features/expressions-reference"},t))}}]),n}(c.Component)},1587:function(e,t,n){"use strict";var a=n(83),r=n(2),o={width:"100%",position:"absolute",whiteSpace:"pre-wrap",wordWrap:"break-word",color:"transparent"},i={backgroundColor:"rgba(244, 67, 54, 0.15)",borderSizing:"border-box",borderBottom:"3px solid rgba(244, 67, 54, 0.7)"};t.a=function(e){var t=e.value,n=e.style,s=e.highlights.slice().sort((function(e,t){return e.begin-t.begin})),c=[],l=0;return s.forEach((function(e,n){var a=Math.max(e.begin,l);a!==l&&c.push(r.createElement("span",{key:"defaultText-".concat(n)},t.substring(l,a))),l<e.end&&(c.push(r.createElement("span",{key:"highlightedText-".concat(n),style:i},t.substring(a,e.end))),l=e.end)})),l<t.length&&c.push(r.createElement("span",{key:"defaultText-end"},t.substring(l))),r.createElement("div",{style:Object(a.a)(Object(a.a)({},o),n)},c)}},1589:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n(100),r=n(92),o=n(186),i=n(169),s=n.n(i),c=n(765),l=n(396),u=n(527),d=function(e,t,n){return e.filter((function(e){return!n||e.type===t})).map((function(e){return e.name&&e.parameters?{kind:"Expression",completion:e.name,enumeratedExpressionMetadata:e,addParenthesis:!0,addClosingParenthesis:0===Object(u.b)(e).length,isExact:n}:null})).filter(Boolean)},m=function(e,t){var n=e.gd;return s()(Object(r.mapVector)(t,(function(t){var r=t.getCompletionKind();if(r===n.ExpressionCompletionDescription.Expression){var i=t.getObjectName();return t.getBehaviorName()?function(e,t){var n=t.getPrefix(),a=t.getType(),r=t.getBehaviorName(),o=t.isExact(),i=e.gd,s=e.globalObjectsContainer,u=e.objectsContainer,m=i.getTypeOfBehavior(s,u,r,!0),p=Object(c.b)(a,m),f=Object(l.a)(Object(c.e)(p,n),e.scope);return d(f,n,o)}(e,t):i?function(e,t){var n=t.getPrefix(),a=t.getType(),r=t.getObjectName(),o=t.isExact(),i=e.gd,s=e.globalObjectsContainer,u=e.objectsContainer,m=i.getTypeOfObject(s,u,r,!0),p=Object(c.d)(a,m),f=Object(l.a)(Object(c.e)(p,n),e.scope);return d(f,n,o)}(e,t):function(e,t){var n=t.getPrefix(),a=t.getType(),r=t.isExact(),o=Object(c.c)(a),i=Object(l.a)(Object(c.e)(o,n),e.scope);return d(i,n,r)}(e,t)}return r===n.ExpressionCompletionDescription.Object?function(e,t){var n=t.getPrefix(),r=t.getType(),i=e.gd,s=e.globalObjectsContainer,c=e.objectsContainer,l=Object(o.d)(s,c),u=l.allObjectsList,d=l.allGroupsList,m=Object(o.f)(u,{searchText:n,selectedTags:[]}),p=Object(o.e)(d,n),f=!i.ParameterMetadata.isObject(r);return[].concat(Object(a.a)(m.map((function(e){var t=e.object;return{kind:"Object",completion:t.getName(),object:t,addDot:f}}))),Object(a.a)(p.map((function(e){return{kind:"Object",completion:e.group.getName(),addDot:f}}))))}(e,t):r===n.ExpressionCompletionDescription.Behavior?function(e,t){var n=t.getPrefix(),a=t.isExact(),r=t.getObjectName(),o=e.gd,i=e.globalObjectsContainer,s=e.objectsContainer;return o.getBehaviorsOfObject(i,s,r,!0).toJSArray().filter((function(e){return-1!==e.indexOf(n)})).map((function(e){return{kind:"Behavior",completion:e,addNamespaceSeparator:!0,isExact:a}}))}(e,t):[]})))},p=function(e,t){var n=e.expression,a=e.caretLocation,r=function(e){var n=t.addDot?".":t.addNamespaceSeparator?"::":t.addParenthesis?t.addClosingParenthesis?"()":"(":"",a=!e||!n||e[0]!==n[0];return t.completion+(a?n:"")};if(a>n.length&&(a=n.length),0===a||!n){var o=r(void 0)+n;return{caretLocation:o.length,expression:o}}var i=a-1,s=function(e){return-1!==" .:+-/*=()<>[]@!?|\\^%#".indexOf(e)},c=i;if(s(n[c]))c++;else for(;c>0&&!s(n[c-1]);)c--;for(var l=i;l<n.length&&!s(n[l+1]);)l++;var u=n[l+1],d=n.substring(0,c),m=r(u),p=n.substring(l+1);return{caretLocation:d.length+m.length,expression:d+m+p}}},159:function(e,t,n){"use strict";var a=n(2),r=n(2371),o=n(2463);t.a=function(e){var t=e.onCheck,n=a.createElement(o.a,{disabled:e.disabled,checked:e.checked,onChange:t?function(e){return t(e,e.target.checked)}:void 0,icon:e.uncheckedIcon,checkedIcon:e.checkedIcon,color:"primary",style:e.label?void 0:e.style});return e.label?a.createElement(r.a,{control:n,label:e.label,style:e.style}):n}},1590:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l}));var a=n(83),r=n(129),o=function(){return{autocompletions:[],selectedCompletionIndex:0}},i=function(e){return Math.max(0,e.autocompletions.length-25)},s=function(e){return 0===i(e)?e.autocompletions:e.autocompletions.slice(0,25)},c=function(e,t){return{autocompletions:t,selectedCompletionIndex:e.autocompletions.length!==t.length?0:e.selectedCompletionIndex}},l=function(e,t){var n=t.event,i=t.onUpdateAutocompletions,s=t.onInsertAutocompletion;if("ArrowDown"!==n.key&&"ArrowUp"!==n.key&&"ArrowLeft"!==n.key&&"ArrowRight"!==n.key||i(),!e.autocompletions.length)return e;var c=Math.min(25,e.autocompletions.length);if("ArrowDown"===n.key)return n.preventDefault(),Object(a.a)(Object(a.a)({},e),{},{selectedCompletionIndex:(e.selectedCompletionIndex+1)%c});if("ArrowUp"===n.key)return n.preventDefault(),Object(a.a)(Object(a.a)({},e),{},{selectedCompletionIndex:(c+e.selectedCompletionIndex-1)%c});if(Object(r.b)(n))return n.preventDefault(),n.stopPropagation(),o();if(Object(r.e)(n)||Object(r.c)(n)){var l=e.autocompletions[e.selectedCompletionIndex];l&&s(l),n.preventDefault()}return e}},1591:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(77),r=n(2),o=n(2356),i=n(2362),s=n(360),c=n.n(s),l=n(2458),u=n(85),d=n(204),m=n(527),p=n(79),f=n(187),h={overflow:"hidden",overflowWrap:"break-word"},g=r.memo((function(e){var t=e.src;return r.createElement("img",{alt:"",src:t,style:{maxWidth:16,maxHeight:16}})})),b=function(e,t,n){return Object(m.b)(n).map((function(n){var a=e.getUserFriendlyTypeName(n);return a?t._(a):n})).join(", ")},v=r.forwardRef((function(e,t){var n=e.expressionAutocompletion,a=e.isSelected,o=e.onClick,i=e.i18n,s=e.parameterRenderingService;if(!n.enumeratedExpressionMetadata)return null;var c=a?r.createElement("b",null,n.completion):n.completion;return r.createElement(l.a,{style:O.button,onPointerDown:function(){o()},ref:t},r.createElement(g,{src:n.enumeratedExpressionMetadata.iconFilename}),r.createElement(p.c,null),r.createElement(u.a,{style:h,noMargin:!0,align:"left"},c,"(",r.createElement("i",null,b(s,i,n.enumeratedExpressionMetadata)),")"))})),E=function(e){var t=e.expressionAutocompletion,n=e.i18n,a=e.parameterRenderingService;return t.enumeratedExpressionMetadata?r.createElement(p.a,null,r.createElement(p.b,{noMargin:!0,expand:!0,alignItems:"center"},r.createElement(g,{src:t.enumeratedExpressionMetadata.iconFilename}),r.createElement(p.c,null),r.createElement(u.a,{style:h,noMargin:!0,align:"left"},r.createElement("b",null,t.completion),"(",r.createElement("i",null,b(a,n,t.enumeratedExpressionMetadata)),")")),r.createElement(u.a,{style:h,noMargin:!0,size:"body2"},t.enumeratedExpressionMetadata.metadata.getDescription())):null},y=r.forwardRef((function(e,t){var n=e.project,a=e.expressionAutocompletion,o=e.isSelected,i=e.onClick,s=n&&a.object?f.a.getThumbnail(n,a.object):"res/types/object.png",c=o?r.createElement("b",null,a.completion):a.completion;return r.createElement(l.a,{style:O.button,onPointerDown:function(){i()},ref:t},r.createElement(g,{src:s}),r.createElement(p.c,null),r.createElement(u.a,{style:h,noMargin:!0,align:"left"},c))})),j=r.forwardRef((function(e,t){var n=e.expressionAutocompletion,a=e.isSelected,o=e.onClick,i=a?r.createElement("b",null,n.completion):n.completion;return r.createElement(l.a,{style:O.button,onPointerDown:function(){o()},ref:t},r.createElement(g,{src:"res/types/behavior.png"}),r.createElement(p.c,null),r.createElement(u.a,{style:h,noMargin:!0,align:"left"},i))})),O={container:{width:370,maxHeight:150,display:"flex",overflowX:"hidden"},button:{width:"100%",paddingLeft:8,paddingRight:8,justifyContent:"flex-start"},tooManyTextContainer:{width:"100%"},popperStyle:{zIndex:c.a.tooltip+100}};function C(e){var t=e.project,n=e.expressionAutocompletions,s=e.remainingCount,c=e.selectedCompletionIndex,l=e.anchorEl,m=e.onChoose,f=e.parameterRenderingService,h=r.useRef(null),g=r.useRef(null);return r.useEffect((function(){h.current&&g.current&&h.current.scrollTo(g.current)}),[h,g,c]),0===n.length?null:r.createElement(a.I18n,null,(function(e){var a=e.i18n;return r.createElement(o.a,{style:O.popperStyle,open:!0,anchorEl:l,placement:"bottom-start",disablePortal:!1},r.createElement(i.a,{variant:"outlined",square:!0,style:O.container},r.createElement(d.a,{autoHideScrollbar:!0,ref:h},n.map((function(e,n){var o=c===n,i=o?g:void 0;return"Expression"===e.kind?e.isExact?r.createElement(E,{key:n,expressionAutocompletion:e,i18n:a,parameterRenderingService:f}):r.createElement(v,{key:n,expressionAutocompletion:e,onClick:function(){return m(e)},isSelected:o,i18n:a,parameterRenderingService:f,ref:i}):"Object"===e.kind?r.createElement(y,{key:n,project:t,expressionAutocompletion:e,onClick:function(){return m(e)},isSelected:o,ref:i}):"Behavior"===e.kind?r.createElement(j,{key:n,expressionAutocompletion:e,onClick:function(){return m(e)},isSelected:o,ref:i}):null})),s>0&&r.createElement(p.a,{justifyContent:"flex-start"},r.createElement(u.a,null,"And ",s," others...")))))}))}},1593:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(394),u=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return c.a.createElement(l.a,Object.assign({expressionType:"string",ref:function(t){return e._field=t}},this.props))}}]),n}(s.Component)},1594:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(180),u=function(e){if(!e)return[];try{return JSON.parse(e.getExtraInfo())}catch(t){console.error("The parameter seems misconfigured, as an array of choices could not be extracted - verify that your properly wrote a list of choices in JSON format. Full exception is:",t)}return[]},d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,r=t.isInline,o=t.parameterMetadata;return c.a.createElement(l.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:o?o.getDescription():void 0,helperMarkdownText:o?o.getLongDescription():void 0,fullWidth:!0,value:n,onChange:a,dataSource:u(o).map((function(e){return{text:'"'+e+'"',value:'"'+e+'"'}})),openOnFocus:!r,ref:function(t){return e._field=t}})}}]),n}(s.Component)},1595:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(528),u=n(180),d=e.gd,m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e)).state={errorText:null},r._behaviorNames=[],r._getError=function(e){return e||r.props.value?0!==r._behaviorNames.filter((function(e){return r.props.value===e})).length?null:"This behavior is not attached to the object":null},r._doValidation=function(e){r.setState({errorText:r._getError(e)})},r._forceChooseBehavior=function(){1===r._behaviorNames.length&&r.props.value!==r._behaviorNames[0]&&r.props.onChange(r._behaviorNames[0])};var o=r.props.parameterMetadata;return r._description=o?o.getDescription():void 0,r._longDescription=o?o.getLongDescription():void 0,r._behaviorTypeAllowed=o?o.getExtraInfo():void 0,r}return Object(r.a)(n,[{key:"_updateBehaviorsList",value:function(){var e=this,t=this.props,n=t.instructionMetadata,a=t.instruction,r=t.expressionMetadata,o=t.expression,i=t.parameterIndex,s=Object(l.b)({instructionMetadata:n,instruction:a,expressionMetadata:r,expression:o,parameterIndex:i});s&&(this._behaviorNames=d.getBehaviorsOfObject(this.props.globalObjectsContainer,this.props.objectsContainer,s,!0).toJSArray().filter((function(t){return!e._behaviorTypeAllowed||d.getTypeOfBehavior(e.props.globalObjectsContainer,e.props.objectsContainer,t,!1)===e._behaviorTypeAllowed})))}},{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"componentDidUpdate",value:function(){this._forceChooseBehavior()}},{key:"componentDidMount",value:function(){this._forceChooseBehavior()}},{key:"render",value:function(){var e=this;this._updateBehaviorsList();var t=""!==this._behaviorTypeAllowed?c.createElement(s.Trans,{id:"The behavior is not attached to this object. Please select another object or add this behavior."}):c.createElement(s.Trans,{id:"This object has no behaviors: please add this behavior to the object first."});return c.createElement(u.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:this._description,helperMarkdownText:this._longDescription,fullWidth:!0,errorText:this._behaviorNames.length?this.state.errorText:t,value:this.props.value,onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,onBlur:function(t){e._doValidation(t.currentTarget.value)},dataSource:this._behaviorNames.map((function(e){return{text:e,value:e}})),openOnFocus:!this.props.isInline,disabled:this._behaviorNames.length<=1,ref:function(t){return e._field=t}})}}]),n}(c.Component)}).call(this,n(1))},1596:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(573),u=n(230),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editorOpen:!1},e}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.scope,n=t.layout;return c.createElement(c.Fragment,null,c.createElement(l.a,{variablesContainer:n?n.getVariables():null,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,onRequestClose:this.props.onRequestClose,ref:function(t){return e._field=t},onOpenDialog:function(){return e.setState({editorOpen:!0})},globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:t}),this.state.editorOpen&&n&&c.createElement(u.a,{title:c.createElement(s.Trans,{id:"Scene Variables"}),open:!0,variablesContainer:n.getVariables(),onCancel:function(){return e.setState({editorOpen:!1})},onApply:function(){e.setState({editorOpen:!1})},emptyExplanationMessage:c.createElement(s.Trans,{id:"Scene variables can be used to store any value or text during the game."}),emptyExplanationSecondMessage:c.createElement(s.Trans,{id:"For example, you can have a variable called Score representing the current score of the player."})}))}}]),n}(c.Component),m=function(e){return Object(l.b)(e,"res/types/scenevar.png","scene variable")}},1597:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(573),u=n(230),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editorOpen:!1},e}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.scope;return c.createElement(c.Fragment,null,c.createElement(l.a,{variablesContainer:n?n.getVariables():null,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,onRequestClose:this.props.onRequestClose,ref:function(t){return e._field=t},onOpenDialog:function(){return e.setState({editorOpen:!0})},globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:a}),this.state.editorOpen&&n&&c.createElement(u.a,{title:c.createElement(s.Trans,{id:"Global Variables"}),open:this.state.editorOpen,variablesContainer:n.getVariables(),onCancel:function(){return e.setState({editorOpen:!1})},onApply:function(){e.setState({editorOpen:!1})},emptyExplanationMessage:c.createElement(s.Trans,{id:"Global variables are variables that are persisted across the scenes during the game."})}))}}]),n}(c.Component),m=function(e){return Object(l.b)(e,"res/types/globalvar.png","global variable")}},1598:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(573),u=n(230),d=n(528),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editorOpen:!1},e}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.scope,r=t.instructionMetadata,o=t.instruction,i=t.expressionMetadata,m=t.expression,p=t.parameterIndex,f=Object(d.b)({instructionMetadata:r,instruction:o,expressionMetadata:i,expression:m,parameterIndex:p}),h=null;if(f){var g=a.layout;g&&g.hasObjectNamed(f)?h=g.getObject(f).getVariables():n&&n.hasObjectNamed(f)&&(h=n.getObject(f).getVariables())}return c.createElement(c.Fragment,null,c.createElement(l.a,{variablesContainer:h,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,onRequestClose:this.props.onRequestClose,ref:function(t){return e._field=t},onOpenDialog:function(){return e.setState({editorOpen:!0})},globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:a}),this.state.editorOpen&&h&&c.createElement(u.a,{title:c.createElement(s.Trans,{id:"Object Variables"}),open:this.state.editorOpen,variablesContainer:h,onCancel:function(){return e.setState({editorOpen:!1})},onApply:function(){e.setState({editorOpen:!1})}}))}}]),n}(c.Component),p=function(e){return Object(l.b)(e,"res/types/objectvar.png","object variable")}},1599:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(92),u=n(180),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,r=t.isInline,o=t.scope,i=t.parameterMetadata,s=o.layout,d=s?Object(l.mapFor)(0,s.getLayersCount(),(function(e){return s.getLayerAt(e).getName()})):[];return c.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:i?i.getDescription():void 0,helperMarkdownText:i?i.getLongDescription():void 0,fullWidth:!0,value:n,onChange:a,onRequestClose:this.props.onRequestClose,openOnFocus:r,dataSource:d.map((function(e){return{text:e?'"'.concat(e,'"'):'"" (Base layer)',value:'"'.concat(e,'"')}})),hintText:'""',ref:function(t){return e._field=t}})}}]),n}(s.Component)},160:function(e,t,n){"use strict";var a=n(2),r=n(2368),o={paddingLeft:8};t.a=function(e){var t=e.children;return t?a.createElement(r.a,{variant:"overline",style:o},t):null}},1600:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(247),d=n(114),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:d.a,resourceKind:"audio",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:l.a.createElement(s.Trans,{id:"Choose the audio file to use"}),onRequestClose:this.props.onRequestClose,ref:function(t){return e._field=t}}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for AudioResourceField"),null)}}]),n}(c.Component)},1601:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(247),d=n(114),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:d.a,resourceKind:"video",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:l.a.createElement(s.Trans,{id:"Choose the video file to use"}),onRequestClose:this.props.onRequestClose,ref:function(t){return e._field=t}}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for VideoResourceField"),null)}}]),n}(c.Component)},1602:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(247),d=n(114),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:d.a,resourceKind:"json",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:l.a.createElement(s.Trans,{id:"Choose the json file to use"}),onRequestClose:this.props.onRequestClose,ref:function(t){return e._field=t}}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for JsonResourceField"),null)}}]),n}(c.Component)},1603:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(394),u=n(313),d=function(e){var t=e.replace(/"/g,"").split(";");if(3!==t.length)return null;var n=parseInt(t[0],10),a=parseInt(t[1],10),r=parseInt(t[2],10);return n!==n||a!==a||r!==r?null:{r:n,g:a,b:r,a:255}},m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return c.a.createElement(l.a,Object.assign({expressionType:"string",ref:function(t){return e._field=t},renderExtraButton:function(t){var n=t.style;return c.a.createElement(u.a,{style:n,disableAlpha:!0,color:d(e.props.value),onChangeComplete:function(t){e.props.onChange('"'+t.rgb.r+";"+t.rgb.g+";"+t.rgb.b+'"')}})}},this.props))}}]),n}(s.Component)},1604:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(89),d=n(79),m=n(770),p=n(394),f=n(198),h=n(525),g=n(85),b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._instantButton=l.a.createRef(),e.state={showDeprecatedNumericValue:""!==e.props.value&&"1"!==e.props.value&&"0"!==e.props.value},e}return Object(r.a)(n,[{key:"focus",value:function(){Object(h.a)(this._instantButton)}},{key:"render",value:function(){var e=this,t=this.state.showDeprecatedNumericValue;return l.a.createElement(d.a,{expand:!0,noMargin:!0},l.a.createElement(d.b,{expand:!0,alignItems:"center"},l.a.createElement(d.a,null,l.a.createElement(u.a,{label:Object(m.a)("Instant"),primary:""===this.props.value||"0"===this.props.value,onClick:function(){return e.props.onChange("0")},ref:this._instantButton})),l.a.createElement(d.a,null,l.a.createElement(g.a,null,l.a.createElement(s.Trans,{id:"The force will only push the object during the time of one frame. Typically used in an event with no conditions or with conditions that stay valid for a certain amount of time."})))),l.a.createElement(d.b,{expand:!0,alignItems:"center"},l.a.createElement(d.a,null,l.a.createElement(u.a,{label:l.a.createElement(s.Trans,{id:"Permanent"}),primary:"1"===this.props.value,onClick:function(){return e.props.onChange("1")}})),l.a.createElement(d.a,null,l.a.createElement(g.a,null,l.a.createElement(s.Trans,{id:'The force will push the object forever, unless you use the action "Stop the object". Typically used in an event with conditions that are only true once, or with a "Trigger Once" condition.'})))),t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,null,l.a.createElement(s.Trans,{id:"or"})),l.a.createElement(d.b,{expand:!0},l.a.createElement(d.a,{expand:!0},l.a.createElement(p.a,Object.assign({expressionType:"number"},this.props)))),l.a.createElement(f.a,null,l.a.createElement(s.Trans,{id:'The usage of a number or expression is deprecated. Please now use only "Permanent" or "Instant" for configuring forces.'}))))}}]),n}(c.Component),v=function(e){var t=e.value;return"1"===t?"a permanent":"0"===t||""===t?"an instant":"a (multiplier: "+t+")"}},1605:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(180),u=n(318),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,r=t.isInline,o=t.project,i=t.parameterMetadata,s=o?Object(u.d)(o).map((function(e){return e.getName()})):[];return c.a.createElement(l.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:i?i.getDescription():void 0,helperMarkdownText:i?i.getLongDescription():void 0,fullWidth:!0,value:n,onChange:a,openOnFocus:r,dataSource:s.map((function(e){return{text:'"'.concat(e,'"'),value:'"'.concat(e,'"')}})),hintText:'""',ref:function(t){return e._field=t}})}}]),n}(s.Component)},1606:function(e,t,n){"use strict";var a=n(2),r=n(132);t.a=function(e){var t=e.children;return e.isEmpty?a.createElement("span",{className:r.j},"< ",t," >"):a.createElement("span",{className:r.j},t)}},1607:function(e,t,n){"use strict";var a=n(2),r=n(132);t.a=function(){return a.createElement("span",{className:r.k})}},1608:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n(147),u=n.n(l),d=n(99),m=n(132),p=n(129),f=e.gd,h={container:{height:40,display:"flex",alignItems:"center",padding:5,overflow:"hidden"},title:{fontSize:18,width:"100%"}},g=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editing:!1},e._textField=null,e.edit=function(){e.setState({editing:!0},(function(){e._textField&&e._textField.focus()}))},e.endEditing=function(){e.setState({editing:!1})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=f.asGroupEvent(this.props.event),n=t.getBackgroundColorR(),r=t.getBackgroundColorG(),o=t.getBackgroundColorB(),i=(n+r+o)/3>200?"black":"white";return c.createElement("div",{className:u()({[m.m]:!0,[m.n]:this.props.selected}),style:Object(a.a)(Object(a.a)({},h.container),{},{backgroundColor:"rgb(".concat(n,", ").concat(r,", ").concat(o,")")}),onClick:this.edit,onKeyPress:function(t){Object(p.a)(t)&&e.edit()},tabIndex:0},this.state.editing?c.createElement(d.b,{ref:function(t){return e._textField=t},value:t.getName(),hintText:{id:"<Enter group name>"},onBlur:this.endEditing,onChange:function(n,a){t.setName(a),e.forceUpdate()},style:h.title,inputStyle:{color:i,WebkitTextFillColor:i},underlineFocusStyle:{borderColor:i},fullWidth:!0,id:"group-title",onKeyUp:function(t){Object(p.b)(t)&&e.endEditing()},onKeyPress:function(t){Object(p.e)(t)&&e.endEditing()}}):c.createElement("span",{className:u()({[m.q]:!0,[m.d]:this.props.disabled}),style:Object(a.a)(Object(a.a)({},h.title),{},{color:i})},t.getName()||"<Enter group name>"))}}]),n}(c.Component)}).call(this,n(1))},1609:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(83),c=n(2),l=n(147),u=n.n(l),d=n(99),m=n(262),p=n(132),f=n(129),h=e.gd,g={width:"100%",fontSize:14},b={container:{display:"flex",flexWrap:"wrap",padding:5,overflow:"hidden",minHeight:35},commentTextField:g,commentSpan:Object(s.a)(Object(s.a)({},g),{},{boxSizing:"border-box",alignItems:"center",height:"100%",whiteSpace:"pre-wrap",lineHeight:1.5,border:1})},v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editing:!1},e.edit=function(){e.setState({editing:!0},(function(){e._textField&&e._textField.focus()}))},e.onEvent=function(t,n){h.asCommentEvent(e.props.event).setComment(n),e.props.onUpdate(),e.forceUpdate()},e.endEditing=function(){e._textField&&e.setState({editing:!1},(function(){return e.props.onUpdate()}))},e._getCommentHTML=function(){return h.asCommentEvent(e.props.event).getComment().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=h.asCommentEvent(this.props.event),n=Object(m.c)(t.getBackgroundColorRed(),t.getBackgroundColorGreen(),t.getBackgroundColorBlue()),a=Object(m.c)(t.getTextColorRed(),t.getTextColorGreen(),t.getTextColorBlue());return c.createElement("div",{className:u()({[p.m]:!0,[p.n]:this.props.selected}),style:Object(s.a)(Object(s.a)({},b.container),{},{backgroundColor:"#".concat(n)}),onClick:this.edit,onKeyPress:function(t){Object(f.a)(t)&&e.edit()},tabIndex:0},this.state.editing?c.createElement(d.b,{multiline:!0,margin:"none",ref:function(t){return e._textField=t},value:t.getComment(),hintText:{id:"<Enter comment>"},onBlur:this.endEditing,onChange:this.onEvent,style:b.commentTextField,inputStyle:{color:"#".concat(a),padding:0,lineHeight:1.5},underlineFocusStyle:{borderColor:"#".concat(a)},fullWidth:!0,id:"comment-title",onKeyUp:function(t){Object(f.b)(t)&&e.endEditing()}}):c.createElement("span",{ref:function(t){return e._selectable=t},className:u()({[p.q]:!0,[p.d]:this.props.disabled}),style:Object(s.a)(Object(s.a)({},b.commentSpan),{},{color:"#".concat(a)}),dangerouslySetInnerHTML:{__html:this._getCommentHTML()}}))}}]),n}(c.Component)}).call(this,n(1))},161:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return v}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(2382),l=n(2383),u=n(2385),d=n(2384),m=n(2386),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return s.createElement(c.a,Object.assign({size:"small"},this.props))}}]),n}(s.Component),f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return s.createElement(l.a,this.props)}}]),n}(s.Component),h=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return s.createElement(d.a,this.props)}}]),n}(s.Component),g=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return s.createElement(u.a,this.props)}}]),n}(s.Component),b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return s.createElement(m.a,this.props)}}]),n}(s.Component),v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return s.createElement(u.a,this.props)}}]),n}(s.Component)},1610:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n(321),u=n(147),d=n.n(u),m=n(132),p=n(323),f=n(522),h=n(397),g=n(129),b=e.gd,v={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}},E=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._objectField=null,e.state={editing:!1,anchorEl:null},e.edit=function(t){var n=t.currentTarget;setTimeout((function(){return e.setState({editing:!0,anchorEl:n},(function(){setTimeout((function(){e._objectField&&e._objectField.focus()}),10)}))}),10)},e.endEditing=function(){var t=e.state.anchorEl;t&&t.focus(),e.setState({editing:!1,anchorEl:null})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=b.asForEachEvent(this.props.event),n=t.getObjectToPick();return c.createElement("div",{style:v.container,className:d()({[m.m]:!0,[m.n]:this.props.selected,[m.h]:!0})},c.createElement("div",null,c.createElement("span",{className:d()({[m.q]:!0,[m.d]:this.props.disabled}),onClick:this.edit,onKeyPress:function(t){Object(g.a)(t)&&e.edit(t)},tabIndex:0},n?"Repeat for each instance of ".concat(n,":"):c.createElement("i",null,"Click to choose for which objects this event will be repeated"))),c.createElement(h.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(n){var a=n.style,r=n.className;return c.createElement(l.a,{instrsList:t.getConditions(),style:a,className:r,selection:e.props.selection,areConditions:!0,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})},renderActionsList:function(n){var r=n.className;return c.createElement(l.a,{instrsList:t.getActions(),style:Object(a.a)({},v.actionsList),className:r,selection:e.props.selection,areConditions:!1,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})}}),c.createElement(p.a,{open:this.state.editing,anchorEl:this.state.anchorEl,onRequestClose:this.endEditing},c.createElement(f.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:n,onChange:function(n){t.setObjectToPick(n),e.props.onUpdate()},isInline:!0,onRequestClose:this.endEditing,ref:function(t){return e._objectField=t}})))}}]),n}(c.Component)}).call(this,n(1))},1611:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n(321),u=n(147),d=n.n(u),m=n(132),p=n(323),f=n(757),h=n(397),g=n(129),b=e.gd,v={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}},E=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._field=null,e.state={editing:!1,anchorEl:null},e.edit=function(t){var n=t.currentTarget;setTimeout((function(){return e.setState({editing:!0,anchorEl:n},(function(){setTimeout((function(){e._field&&e._field.focus()}),10)}))}),10)},e.endEditing=function(){var t=e.state.anchorEl;t&&t.focus(),e.setState({editing:!1,anchorEl:null})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=b.asRepeatEvent(this.props.event),n=t.getRepeatExpression();return c.createElement("div",{style:v.container,className:d()({[m.m]:!0,[m.n]:this.props.selected,[m.h]:!0})},c.createElement("div",null,c.createElement("span",{className:d()({[m.q]:!0,[m.d]:this.props.disabled}),onClick:this.edit,onKeyPress:function(t){Object(g.a)(t)&&e.edit(t)},tabIndex:0},n?"Repeat ".concat(n," times:"):c.createElement("i",null,"Click to choose how many times will be repeated"))),c.createElement(h.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(n){var a=n.style,r=n.className;return c.createElement(l.a,{instrsList:t.getConditions(),style:a,className:r,selection:e.props.selection,areConditions:!0,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})},renderActionsList:function(n){var r=n.className;return c.createElement(l.a,{instrsList:t.getActions(),style:Object(a.a)({},v.actionsList),className:r,selection:e.props.selection,areConditions:!1,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})}}),c.createElement(p.a,{open:this.state.editing,anchorEl:this.state.anchorEl,onRequestClose:this.endEditing},c.createElement(f.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:n,onChange:function(n){t.setRepeatExpression(n),e.props.onUpdate()},isInline:!0,ref:function(t){return e._field=t}})))}}]),n}(c.Component)}).call(this,n(1))},1612:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n(321),u=n(147),d=n.n(u),m=n(132),p=n(397),f=e.gd,h={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}},g=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=f.asWhileEvent(this.props.event);return c.createElement("div",{style:h.container,className:d()({[m.m]:!0,[m.n]:this.props.selected,[m.h]:!0})},c.createElement("div",{className:d()({[m.d]:this.props.disabled})},"While these conditions are true:"),c.createElement(l.a,{instrsList:t.getWhileConditions(),style:{},className:m.c,selection:this.props.selection,areConditions:!0,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth}),c.createElement("div",{className:d()({[m.d]:this.props.disabled})},"Repeat these:"),c.createElement(p.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(n){var a=n.style,r=n.className;return c.createElement(l.a,{instrsList:t.getConditions(),style:a,className:r,selection:e.props.selection,areConditions:!0,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})},renderActionsList:function(n){var r=n.className;return c.createElement(l.a,{instrsList:t.getActions(),style:Object(a.a)({},h.actionsList),className:r,selection:e.props.selection,areConditions:!1,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})}}))}}]),n}(c.Component)}).call(this,n(1))},1613:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(306),u=n.n(l),d=n(103),m=n(147),p=n.n(m),f=n(132),h=n(323),g=n(1614),b=n(24),v=n(129),E=e.gd,y={container:{height:60,display:"flex",alignItems:"center",padding:5},title:{fontSize:16,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._externalEventsField=null,e.state={editing:!1,anchorEl:null},e.edit=function(t){var n=t.currentTarget;setTimeout((function(){return e.setState({editing:!0,anchorEl:n},(function(){setTimeout((function(){e._externalEventsField&&e._externalEventsField.focus()}),10)}))}),10)},e.openTarget=function(t){var n=e.props,a=n.project,r=n.event,o=n.onOpenLayout,i=n.onOpenExternalEvents,s=E.asLinkEvent(r).getTarget();a.hasExternalEventsNamed(s)?i(s):a.hasLayoutNamed(s)?o(s):Object(b.c)(t._({id:"The specified external events do not exist in the game. Be sure that the name is correctly spelled or create them using the project manager."}))},e.endEditing=function(){var t=e.state.anchorEl;t&&t.focus(),e.setState({editing:!1,anchorEl:null})},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=E.asLinkEvent(this.props.event),n=t.getTarget();return c.createElement(s.I18n,null,(function(a){var r=a.i18n;return c.createElement("div",{className:p()({[f.m]:!0,[f.n]:e.props.selected,[f.o]:!0}),style:y.container},c.createElement("span",{style:y.title,className:p()({[f.d]:e.props.disabled})},c.createElement(s.Trans,{id:"Include events from"})," ",c.createElement("i",{className:p()({[f.q]:!0}),onClick:e.edit,onKeyPress:function(t){Object(v.a)(t)&&e.edit(t)},tabIndex:0},n||c.createElement(s.Trans,{id:"< Enter the name of external events >"}))),c.createElement(d.a,{onClick:function(){return e.openTarget(r)},disabled:!n},c.createElement(u.a,null)),c.createElement(h.a,{open:e.state.editing,anchorEl:e.state.anchorEl,onRequestClose:e.endEditing},c.createElement(g.a,{project:e.props.project,scope:e.props.scope,globalObjectsContainer:e.props.globalObjectsContainer,objectsContainer:e.props.objectsContainer,value:n,onChange:function(n){t.setTarget(n),e.props.onUpdate()},isInline:!0,onRequestClose:e.endEditing,ref:function(t){return e._externalEventsField=t}})))}))}}]),n}(c.Component)}).call(this,n(1))},1614:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(100),c=n(2),l=n(318),u=n(180),d=function(e){if(!e)return[];var t=Object(l.b)(e).map((function(e){return{text:e.getName(),value:e.getName()}})),n=Object(l.d)(e).map((function(e){return{text:e.getName(),value:e.getName()}}));return[].concat(Object(s.a)(t),[{type:"separator"}],Object(s.a)(n))},m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,r=t.onRequestClose,o=t.isInline,i=t.project,s=t.parameterMetadata;return c.createElement(u.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:s?s.getDescription():void 0,helperMarkdownText:s?s.getLongDescription():void 0,fullWidth:!0,id:"external-events-field",value:n,onChange:a,onRequestClose:r,dataSource:d(i),openOnFocus:!o,ref:function(t){return e._field=t}})}}]),n}(c.Component)},1615:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(25),l=n.n(c),u=n(147),d=n.n(u),m=n(355),p=n.n(m),f=n(627),h=n.n(f),g=n(2370),b=n(323),v=n(522),E=n(132),y=n(228),j=n(529),O=n(2291),C=n(129),x=e.gd,T={container:{minHeight:30,display:"flex",flexDirection:"column",backgroundColor:"#1e1e1e"},wrappingText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:"12px",paddingLeft:5,paddingRight:5,paddingTop:2,paddingBottom:2,margin:0,backgroundColor:"#1e1e1e",color:"#d4d4d4",overflowX:"hidden",maxWidth:"100%"},comment:{color:"#777"},commentLink:{cursor:"pointer",color:"#777",textDecoration:"underline"},expandIcon:{color:"#d4d4d4"}},S=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._objectField=null,e.state={editing:!1,editingObject:!1,anchorEl:null},e.edit=function(){e.setState({editing:!0},(function(){var t=l.a.findDOMNode(e._input);t&&(t.focus(),t.value=x.asJsCodeEvent(e.props.event).getInlineCode())}))},e.endEditing=function(){var t=x.asJsCodeEvent(e.props.event),n=l.a.findDOMNode(e._input);n&&t.setInlineCode(n.value),e.setState({editing:!1},(function(){return e.props.onUpdate()}))},e.onChange=function(t){x.asJsCodeEvent(e.props.event).setInlineCode(t)},e.editObject=function(t){var n=t.currentTarget;setTimeout((function(){return e.setState({editingObject:!0,anchorEl:n},(function(){setTimeout((function(){e._objectField&&e._objectField.focus()}),10)}))}),10)},e.endObjectEditing=function(){var t=e.state.anchorEl;t&&t.focus(),e.setState({editingObject:!1,anchorEl:null})},e.toggleExpanded=function(){var t=x.asJsCodeEvent(e.props.event);t.setEventsSheetExpanded(!t.isEventsSheetExpanded())},e._getCodeEditorHeight=function(){if(!x.asJsCodeEvent(e.props.event).isEventsSheetExpanded())return 200;var t=e.props.eventsSheetHeight-100;return Math.max(200,t)},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=x.asJsCodeEvent(this.props.event),n=t.getParameterObjects(),a=this.props.disabled?T.comment:void 0,r=s.createElement("span",{className:d()({[E.q]:!0}),onClick:this.editObject,onKeyPress:function(t){Object(C.a)(t)&&e.editObject(t)},tabIndex:0,style:a},n?", objects /*".concat(n,"*/"):" /* Click here to choose objects to pass to JavaScript */"),o=this.props.scope.eventsFunction?s.createElement("span",{style:a},", eventsFunctionContext"):null,i=s.createElement("p",{style:T.wrappingText},s.createElement("span",{style:a},this.props.disabled?"/*":"","(function(runtimeScene"),r,o,s.createElement("span",{style:a},") {")),c=s.createElement("p",{style:T.wrappingText},s.createElement("span",{style:a},"})(runtimeScene"),r,o,s.createElement("span",{style:a},");",this.props.disabled?"*/":""),s.createElement("span",{style:T.comment}," // ",s.createElement("a",{href:Object(y.a)("/events/js-code"),target:"_blank",rel:"noopener noreferrer",style:T.commentLink},"Read the documentation and help"))),l=s.createElement("div",{style:T.expandIcon},t.isEventsSheetExpanded()?s.createElement(h.a,{fontSize:"small",color:"inherit"}):s.createElement(p.a,{fontSize:"small",color:"inherit"}));return s.createElement(j.a,{bounds:!0},(function(a){var r=a.measureRef,o=a.contentRect;return s.createElement("div",{style:T.container,className:d()({[E.m]:!0,[E.n]:e.props.selected}),ref:r},i,s.createElement(O.a,{value:t.getInlineCode(),onChange:e.onChange,width:o.bounds.width-5,height:e._getCodeEditorHeight(),onEditorMounted:function(){return e.props.onUpdate()}}),c,s.createElement(g.a,{onClick:e.toggleExpanded,fullWidth:!0,size:"small"},l),s.createElement(b.a,{open:e.state.editingObject,anchorEl:e.state.anchorEl,onRequestClose:e.endObjectEditing},s.createElement(v.a,{project:e.props.project,scope:e.props.scope,globalObjectsContainer:e.props.globalObjectsContainer,objectsContainer:e.props.objectsContainer,value:n,onChange:function(n){t.setParameterObjects(n),e.props.onUpdate()},isInline:!0,onRequestClose:e.endObjectEditing,ref:function(t){return e._objectField=t}})))}))}}]),n}(s.Component)}).call(this,n(1))},1617:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(6),r=n(12),o=function(){function e(t){Object(a.a)(this,e),this.eventHeights={},this.updateTimeoutId=null,this.component=null,this.component=t}return Object(r.a)(e,[{key:"_notifyComponent",value:function(){var e=this;this.updateTimeoutId||(this.updateTimeoutId=setTimeout((function(){e.component?e.component.onHeightsChanged((function(){return e.updateTimeoutId=null})):e.updateTimeoutId=null}),0))}},{key:"setEventHeight",value:function(e,t){var n=this.eventHeights[e.ptr];void 0!==n&&n===t||this._notifyComponent(),this.eventHeights[e.ptr]=t}},{key:"getEventHeight",value:function(e){return this.eventHeights[e.ptr]||60}}]),e}()},1619:function(e,t,n){},1620:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(77),r=n(2),o=n(79),i=n(146),s=n(774),c={addButton:{cursor:"pointer"}},l=function(e){return function(){return Object(s.a)().map((function(t){return{label:t.fullName,click:function(){return e(t.type)}}}))}};function u(e){var t=e.onAddEvent;return r.createElement(o.a,null,r.createElement(o.b,{justifyContent:"space-between"},r.createElement(i.a,{openMenuWithSecondaryClick:!0,element:r.createElement("button",{style:c.addButton,className:"add-link",onClick:function(){return t("BuiltinCommonInstructions::Standard")}},r.createElement(a.Trans,{id:"Add a new event"})),buildMenuTemplate:l(t)}),r.createElement(i.a,{element:r.createElement("button",{style:c.addButton,className:"add-link"},r.createElement(a.Trans,{id:"Add..."})),buildMenuTemplate:l(t)})))}},1621:function(e,t,n){"use strict";var a=n(77),r=n(2),o=n(110),i=n(85),s=n(2362),c=n(79);t.a=function(){return r.createElement(c.a,{alignItems:"center"},r.createElement(s.a,{variant:"outlined",style:{maxWidth:"450px",whiteSpace:"normal"}},r.createElement(c.a,null,r.createElement(i.a,null,r.createElement(a.Trans,{id:"There are no events here."})),r.createElement(i.a,null,r.createElement(a.Trans,{id:"Events are composed of conditions (on the left of an event) and actions (on the right). When conditions are fulfilled, the actions are executed."})),r.createElement(i.a,null,r.createElement(a.Trans,{id:'Add your first event using the button "Add a new event".'})),r.createElement(c.b,{expand:!0,justifyContent:"flex-end"},r.createElement(o.a,{helpPagePath:"/events"})))))}},1622:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(98),r=n(77),o=n(2),i=n(90),s=n(87),c=n(775),l=n(912),u=n(79),d=n(395),m=n(110),p=n(123),f=n(778),h=n(163),g=n(530),b=n(176),v={fullHeightSelector:{flex:1,display:"flex",flexDirection:"column"}};function E(e){var t=e.project,n=e.globalObjectsContainer,E=e.objectsContainer,y=e.onCancel,j=e.open,O=e.instruction,C=e.isCondition,x=e.isNewInstruction,T=e.scope,S=e.onSubmit,k=e.resourceSources,w=e.onChooseResource,N=e.resourceExternalEditors,_=e.openInstructionOrExpression,P=Object(b.a)(),I=Object(g.b)({instruction:O,isCondition:C,project:t,isNewInstruction:x,scope:T,globalObjectsContainer:n,objectsContainer:E}),R=Object(a.a)(I,2),B=R[0],M=R[1],F=B.chosenObjectName,A=B.chosenObjectInstructionsInfo,L=B.chosenObjectInstructionsInfoTree,D=M.chooseFreeInstruction,U=M.chooseObject,V=M.chooseObjectInstruction,W=!!A&&!!L,G=o.useState((function(){return function(e){return e?"object-or-free-instructions":"parameters"}(x)})),z=Object(a.a)(G,2),H=z[0],K=z[1],Y=o.useState((function(){return function(e,t){return e||t?"objects":"free-instructions"}(x,W)})),X=Object(a.a)(Y,2),J=X[0],q=X[1],Z=O.getType(),Q=o.useRef(null);o.useEffect((function(){"parameters"===H&&Q.current&&Q.current.focus()}),[H]);var $=Object(g.a)({instructionType:Z,isCondition:C,project:t}),ee=$?$.getHelpPath():void 0,te=function(){return o.createElement(p.a,{noFullHeight:!0,key:"instruction-or-object-selector"},o.createElement(l.a,{style:v.fullHeightSelector,project:t,currentTab:J,onChangeTab:q,globalObjectsContainer:n,objectsContainer:E,isCondition:C,chosenInstructionType:F?void 0:Z,onChooseInstruction:function(e){D(e),K("parameters")},chosenObjectName:F,onChooseObject:function(e){U(e),K("object-instructions")},focusOnMount:!Z,onSearchStartOrReset:P}))},ne=function(){return o.createElement(u.a,{expand:!0,justifyContent:"center",key:"parameters"},o.createElement(c.a,{project:t,scope:T,globalObjectsContainer:n,objectsContainer:E,objectName:F,isCondition:C,instruction:O,resourceSources:k,onChooseResource:w,resourceExternalEditors:N,openInstructionOrExpression:_,ref:Q,focusOnMount:!!Z,noHelpButton:!0}))},ae=function(){return L&&A?o.createElement(d.a,{key:"object-instruction-selector",style:v.fullHeightSelector,instructionsInfo:A,instructionsInfoTree:L,iconSize:24,onChoose:function(e){V(e),K("parameters")},selectedType:Z,useSubheaders:!0,focusOnMount:!Z,searchPlaceholderObjectName:F,searchPlaceholderIsCondition:C}):null};return o.createElement(h.a,null,(function(e){return o.createElement(i.a,{actions:[o.createElement(s.a,{label:o.createElement(r.Trans,{id:"Cancel"}),primary:!1,onClick:y,key:"cancel"}),o.createElement(s.a,{label:o.createElement(r.Trans,{id:"Ok"}),primary:!0,keyboardFocused:!1,disabled:!Z,onClick:S,key:"ok"})],secondaryActions:["large"!==e&&"object-or-free-instructions"!==H?o.createElement(s.a,{label:o.createElement(r.Trans,{id:"Back"}),primary:!1,onClick:function(){return function(e,t){K("parameters"===e&&F?"medium"===t?"object-or-free-instructions":"object-instructions":"object-or-free-instructions")}(H,e)},key:"back"}):null,o.createElement(m.a,{key:"help",helpPagePath:ee||"/events",label:ee&&"small"!==e&&"object-or-free-instructions"!==H?C?o.createElement(r.Trans,{id:"Help for this condition"}):o.createElement(r.Trans,{id:"Help for this action"}):o.createElement(r.Trans,{id:"Help"})})],open:j,onRequestClose:y,cannotBeDismissed:!0,maxWidth:!1,noMargin:!0,flexRowBody:!0},o.createElement(f.a,{columnsRenderer:{"instruction-or-object-selector":te,"object-instruction-selector":ae,parameters:ne},getColumns:function(){return"large"===e?F?["instruction-or-object-selector","object-instruction-selector","parameters"]:["instruction-or-object-selector","parameters"]:"medium"===e?"object-or-free-instructions"===H?["instruction-or-object-selector"]:F?["object-instruction-selector","parameters"]:["parameters"]:"object-or-free-instructions"===H?["instruction-or-object-selector"]:"object-instructions"===H?["object-instruction-selector"]:["parameters"]}}))}))}},1625:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t,n){var a=[".","=","-"],r="-";return"undefined"!=typeof n&&(a=n),"undefined"!=typeof t&&(r=t),e.replace(/\xfc/g,"ue").replace(/\xe4/g,"ae").replace(/\xf6/g,"oe").replace(/\xdf/g,"ss").replace(new RegExp("["+a.join("")+"]","g")," ").replace(/-{2,}/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"").replace(/[^\w ]/gi,"").replace(/[ ]/gi,r)}},1626:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(92),r=function(e){return Object(a.mapVector)(e,(function(e){return{name:e.getName(),type:e.getType(),description:e.getDescription(),label:e.getLabel(),value:e.getValue(),extraInfo:e.getExtraInfo().toJSArray(),isHidden:e.isHidden()}}))},o=function(e,t){return t.setType(e.type).setDescription(e.description).setLabel(e.label).setValue(e.value).setHidden(e.isHidden),e.extraInfo.forEach((function(e){t.addExtraInfo(e)})),t}},1627:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(98),r=n(77),o=n(2361),i=n(2),s=n(530),c=n(912),l=n(395),u=n(778),d=n(176),m=n(776),p=n(87),f=n(643),h=n(79),g={fullHeightSelector:{flex:1,display:"flex",flexDirection:"column",height:"400px",width:"400px"}};function b(e){var t=e.project,n=e.globalObjectsContainer,b=e.objectsContainer,v=e.onCancel,E=e.open,y=e.instruction,j=e.isCondition,O=e.isNewInstruction,C=e.anchorEl,x=e.scope,T=e.onSubmit,S=e.canPasteInstructions,k=e.onPasteInstructions,w=Object(d.a)(),N=Object(s.b)({instruction:y,isCondition:j,project:t,isNewInstruction:O,scope:x,globalObjectsContainer:n,objectsContainer:b}),_=Object(a.a)(N,2),P=_[0],I=_[1],R=P.chosenObjectName,B=P.chosenObjectInstructionsInfo,M=P.chosenObjectInstructionsInfoTree,F=I.chooseFreeInstruction,A=I.chooseObject,L=I.chooseObjectInstruction,D=i.useState("object-or-free-instructions"),U=Object(a.a)(D,2),V=U[0],W=U[1],G=i.useState("objects"),z=Object(a.a)(G,2),H=z[0],K=z[1],Y=y.getType(),X=function(e){var a=e.instruction,r=e.chosenObjectName,o=Object(s.a)({instructionType:a.getType(),isCondition:j,project:t});o&&Object(m.a)(n,b,a,o,r),T()};return i.createElement(o.a,{open:E,onClose:v,anchorEl:C,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},i.createElement(u.a,{columnsRenderer:{"instruction-or-object-selector":function(){return i.createElement(c.a,{key:"instruction-or-object-selector",style:g.fullHeightSelector,project:t,currentTab:H,onChangeTab:K,globalObjectsContainer:n,objectsContainer:b,isCondition:j,chosenInstructionType:R?void 0:Y,onChooseInstruction:function(e){var t=F(e),n=t.instruction,a=t.chosenObjectName;X({instruction:n,chosenObjectName:a})},chosenObjectName:R,onChooseObject:function(e){A(e),W("object-instructions")},focusOnMount:!Y,onSearchStartOrReset:w})},"object-instruction-selector":function(){return M&&B?i.createElement(l.a,{key:"object-instruction-selector",style:g.fullHeightSelector,instructionsInfo:B,instructionsInfoTree:M,iconSize:24,onChoose:function(e){var t=L(e),n=t.instruction,a=t.chosenObjectName;X({instruction:n,chosenObjectName:a})},selectedType:Y,useSubheaders:!0,focusOnMount:!Y,searchPlaceholderObjectName:R,searchPlaceholderIsCondition:j}):null}},getColumns:function(){return"object-or-free-instructions"===V?["instruction-or-object-selector"]:["object-instruction-selector"]}}),i.createElement(h.b,{noMargin:!0,justifyContent:"flex-end"},i.createElement(p.a,{label:j?i.createElement(r.Trans,{id:"Paste condition(s)"}):i.createElement(r.Trans,{id:"Paste action(s)"}),icon:i.createElement(f.a,null),disabled:!S,onClick:function(){return k()}})))}},1628:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return y}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(90),u=n(87),d=n(79),m=n(313),p=n(188),f=n(109),h=e.gd,g={sizeTextField:{width:90}},b={r:255,g:255,b:255},v={r:0,g:0,b:0},E=function(e){return e.filter((function(e){return["BuiltinCommonInstructions::Group","BuiltinCommonInstructions::Comment"].includes(e.getType())}))},y=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._applyChangesOnEvent=function(){var t=e.props.event,n=e.state,a=n.textValue,r=n.textColor,o=n.backgroundColor,i=t.getType();if("BuiltinCommonInstructions::Comment"===i)h.asCommentEvent(t).setComment(a),h.asCommentEvent(t).setTextColor(r.r,r.g,r.b),h.asCommentEvent(t).setBackgroundColor(o.r,o.g,o.b);else if("BuiltinCommonInstructions::Group"===i)return h.asGroupEvent(t).setName(a),void h.asGroupEvent(t).setBackgroundColor(o.r,o.g,o.b)},e._getInitialStateFromEvent=function(){var t=e.props.event,n=t.getType(),a="",r=v,o=v;if("BuiltinCommonInstructions::Comment"===n){var i=h.asCommentEvent(t);r={r:i.getTextColorRed(),g:i.getTextColorGreen(),b:i.getTextColorBlue()},o={r:i.getBackgroundColorRed(),g:i.getBackgroundColorGreen(),b:i.getBackgroundColorBlue()},a=h.asCommentEvent(t).getComment()}else if("BuiltinCommonInstructions::Group"===n){var s=h.asGroupEvent(t);r=(s.getBackgroundColorR()+s.getBackgroundColorG()+s.getBackgroundColorB())/3>200?v:b,o={r:s.getBackgroundColorR(),g:s.getBackgroundColorG(),b:s.getBackgroundColorB()},a=h.asGroupEvent(t).getName()}else console.error("Dialog was opened for an unsupported event type: "+n);return{textValue:a,textColor:r,backgroundColor:o}},e.state=e._getInitialStateFromEvent(),e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.event,a=t.onApply,r=t.onClose,o=this.state,i=o.textValue,h=o.textColor,b=o.backgroundColor,v=n.getType();return c.createElement(l.a,{title:c.createElement(s.Trans,{id:"Edit the event text"}),onRequestClose:r,cannotBeDismissed:!0,open:!0,noMargin:!0,actions:[c.createElement(u.a,{key:"close",label:c.createElement(s.Trans,{id:"Cancel"}),primary:!1,onClick:r}),c.createElement(u.a,{key:"Apply",label:c.createElement(s.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:function(){e._applyChangesOnEvent(),a()}})]},c.createElement(d.a,{noMargin:!0},c.createElement(p.b,null,c.createElement(p.a,null,c.createElement(s.Trans,{id:"Background color:"})),c.createElement(m.a,{style:g.sizeTextField,disableAlpha:!0,color:b,onChangeComplete:function(t){e.setState({backgroundColor:t.rgb})}}),"BuiltinCommonInstructions::Comment"===v&&c.createElement(c.Fragment,null,c.createElement(p.a,null,c.createElement(s.Trans,{id:"Text color:"})),c.createElement(m.a,{style:g.sizeTextField,disableAlpha:!0,color:h,onChangeComplete:function(t){e.setState({textColor:t.rgb})}}))),c.createElement(d.b,{noMargin:!0},c.createElement(d.a,{expand:!0},c.createElement(d.b,null,c.createElement(f.a,{commitOnBlur:!0,hintText:{id:"Enter the text to be displayed"},fullWidth:!0,multiline:!0,rows:8,rowsMax:30,value:i,onChange:function(t){e.setState({textValue:t})}}))))))}}]),n}(c.Component)}).call(this,n(1))},1629:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(6),r=n(12),o=function(){function e(t){var n=this,r=t.isActive,o=t.shortcutCallbacks;Object(a.a)(this,e),this._shiftPressed=!1,this._ctrlPressed=!1,this._altPressed=!1,this._metaPressed=!1,this._updateModifiersFromEvent=function(e){n._metaPressed=e.metaKey,n._altPressed=e.altKey,n._ctrlPressed=e.ctrlKey,n._shiftPressed=e.shiftKey},this._isControlOrCmdPressed=function(){return n._metaPressed||n._ctrlPressed},this.onDragOver=function(e){n._updateModifiersFromEvent(e)},this.onKeyUp=function(e){n._updateModifiersFromEvent(e)},this.onKeyDown=function(e){if(n._updateModifiersFromEvent(e),!n._isActive||n._isActive()){if(!e.target||!e.target.closest('textarea, input, [contenteditable="true"]')){var t=n._shortcutCallbacks,a=t.onDelete,r=t.onMove,o=t.onCopy,i=t.onCut,s=t.onPaste,c=t.onUndo,l=t.onRedo,u=t.onSearch,d=t.onZoomOut,m=t.onZoomIn,p=t.onEscape;r&&(38===e.which?r(0,-1):40===e.which?r(0,1):37===e.which?r(-1,0):39===e.which&&r(1,0)),!a||8!==e.which&&46!==e.which||a(),o&&n._isControlOrCmdPressed()&&67===e.which&&o(),i&&n._isControlOrCmdPressed()&&88===e.which&&i(),s&&n._isControlOrCmdPressed()&&86===e.which&&s(),c&&n._isControlOrCmdPressed()&&90===e.which&&c(),l&&n._isControlOrCmdPressed()&&e.shiftKey&&90===e.which&&l(),l&&n._isControlOrCmdPressed()&&89===e.which&&l(),u&&n._isControlOrCmdPressed()&&70===e.which&&u(),p&&27===e.which&&p(),d&&n._isControlOrCmdPressed()&&189===e.which&&d(),d&&109===e.which&&d(),m&&n._isControlOrCmdPressed()&&187===e.which&&m(),m&&107===e.which&&m()}}},this._shortcutCallbacks=o,this._isActive=r}return Object(r.a)(e,[{key:"shouldCloneInstances",value:function(){return this._isControlOrCmdPressed()}},{key:"shouldMultiSelect",value:function(){return this._shiftPressed}}]),e}()},163:function(e,t,n){"use strict";var a,r=n(2),o=n.n(r),i=n(176),s=new Set,c=function(){return s.forEach((function(e){return e()}))};window.addEventListener("resize",(function(){clearTimeout(a),a=setTimeout(c,200)}));n.d(t,"a",(function(){return l}));var l=function(e){var t,n=e.children;return t=Object(i.a)(),o.a.useEffect((function(){return s.add(t),function(){s.delete(t)}}),[t]),"undefined"===typeof window?n("medium"):n(window.innerWidth<750||window.innerHeight<350?"small":window.innerWidth<1150?"medium":"large")}},1630:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(323),l=n(521),u=e.gd,d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={parameterMetadata:null,instructionMetadata:null,ParameterComponent:null},e}return Object(r.a)(n,[{key:"componentWillReceiveProps",value:function(e){(e.open&&!this.props.open||e.instruction!==this.props.instruction)&&this._loadComponentFromInstruction(e)}},{key:"_unload",value:function(){this.setState({ParameterComponent:null,parameterMetadata:null,instructionMetadata:null})}},{key:"_loadComponentFromInstruction",value:function(e){var t=this,n=e.project,a=e.isCondition,r=e.instruction,o=e.parameterIndex;if(!r)return this._unload();var i=r.getType(),s=a?u.MetadataProvider.getConditionMetadata(n.getCurrentPlatform(),i):u.MetadataProvider.getActionMetadata(n.getCurrentPlatform(),i);if(o>=s.getParametersCount())return this._unload();var c=s.getParameter(o),d=l.a.getParameterComponent(c.getType());this.setState({ParameterComponent:d,parameterMetadata:c,instructionMetadata:s},(function(){setTimeout((function(){t._field&&t._field.focus&&t._field.focus()}),10)}))}},{key:"render",value:function(){var e=this;if(!this.state.ParameterComponent||!this.props.open)return null;var t=this.props.instruction;if(!t)return null;var n=this.state.ParameterComponent;return s.createElement(c.a,{open:this.props.open,anchorEl:this.props.anchorEl,onRequestClose:this.props.onRequestClose},s.createElement(n,{instruction:t,instructionMetadata:this.state.instructionMetadata,parameterMetadata:this.state.parameterMetadata,parameterIndex:this.props.parameterIndex,value:t.getParameter(this.props.parameterIndex),onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,key:t.ptr,ref:function(t){return e._field=t},parameterRenderingService:l.a,isInline:!0,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors}))}}]),n}(s.Component)}).call(this,n(1))},1631:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=e.gd,r=function(e){for(var t=!1,n=!1,r=e.size()-1;r>=0;--r){var o=e.get(r);r===e.size()-1?"BuiltinCommonInstructions::Once"===o.getType()&&(t=!0):"BuiltinCommonInstructions::Once"===o.getType()&&(e.removeAt(r),n=!0)}if(n&&!t){var i=new a.Instruction;i.setType("BuiltinCommonInstructions::Once"),e.insert(i,e.size()),i.delete()}return n}}).call(this,n(1))},1632:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(90),u=n(87),d=n(85),m=function(e){var t=e.getObjectNames().toNewVectorString().toJSArray(),n=e.getReferencedObjectOrGroupNames().toNewVectorString().toJSArray(),a={};return n.forEach((function(t){var n=e.getBehaviorNamesOfObjectOrGroup(t).toNewVectorString().toJSArray();n.length&&(a[t]=n)})),{objectsNames:t,objectOrGroupNames:n,objectOrGroupBehaviorNames:a}},p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.eventsContextResult,a=[c.createElement(u.a,{key:"close",label:c.createElement(s.Trans,{id:"Close"}),primary:!0,onClick:this.props.onClose})];return c.createElement(l.a,{actions:a,cannotBeDismissed:!1,open:!0,onRequestClose:t},c.createElement(d.a,null,c.createElement(s.Trans,{id:"Objects or groups being directly referenced in the events: {0}",values:{0:n.objectOrGroupNames.join(", ")}})),c.createElement(d.a,null,c.createElement(s.Trans,{id:"All objects potentially used in events: {0}",values:{0:n.objectsNames.join(", ")}})),c.createElement(d.a,null,c.createElement(s.Trans,{id:"All behaviors being directly referenced in the events:"})," ",Object.keys(n.objectOrGroupBehaviorNames).map((function(e){return c.createElement(s.Trans,{key:e,id:"Behaviors of {objectOrGroupName}: {0} ;",values:{0:n.objectOrGroupBehaviorNames[e].join(", "),objectOrGroupName:e}})}))))}}]),n}(c.Component)},1633:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(123),d=n(99),m=n(79),p=n(1634),f=n.n(p),h=n(401),g=n.n(h),b=n(103),v=n(87),E=n(257),y=n(85),j=n(89),O=n(96),C=n(129),x=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={searchText:"",replaceText:"",matchCase:!1,searchInActions:!0,searchInConditions:!0,searchInEventStrings:!0,searchInSelection:!1,searchResultsDirty:!1},e.focus=function(){e.searchTextField&&e.searchTextField.focus()},e.markSearchResultsDirty=function(){e.setState({searchResultsDirty:!0})},e.launchSearch=function(){var t=e.state,n=t.searchText,a=t.searchInSelection,r=t.matchCase,o=t.searchInActions,i=t.searchInConditions,s=t.searchInEventStrings;e.props.onSearchInEvents({searchInSelection:a,searchText:n,matchCase:r,searchInActions:o,searchInConditions:i,searchInEventStrings:s})},e.launchReplace=function(){var t=e.state,n=t.searchText,a=t.replaceText,r=t.searchInSelection,o=t.matchCase,i=t.searchInActions,s=t.searchInConditions,c=t.searchInEventStrings;e.launchSearch(),e.props.onReplaceInEvents({searchInSelection:r,searchText:n,replaceText:a,matchCase:o,searchInActions:i,searchInConditions:s,searchInEventStrings:c})},e.launchSearchIfResultsDirty=function(){e.state.searchResultsDirty&&(e.launchSearch(),e.setState({searchResultsDirty:!1}))},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.resultsCount,a=t.hasEventSelected,r=t.onGoToPreviousSearchResult,o=t.onGoToNextSearchResult,i=t.onCloseSearchPanel,c=this.state,p=c.searchText,h=c.replaceText,x=c.searchInSelection;return l.a.createElement(u.a,{noFullHeight:!0,noExpand:!0},l.a.createElement(O.a,null,l.a.createElement(m.b,{alignItems:"baseline",noMargin:!0},l.a.createElement(d.b,{margin:"dense",ref:function(t){return e.searchTextField=t},hintText:{id:"Text to search in parameters"},onChange:function(t,n){e.setState({searchText:n,searchResultsDirty:!0})},onKeyPress:function(t){Object(C.e)(t)&&e.launchSearchIfResultsDirty()},onKeyUp:function(e){Object(C.b)(e)&&i()},value:p,fullWidth:!0}),l.a.createElement(m.c,null),l.a.createElement(j.a,{disabled:!p,primary:!0,label:l.a.createElement(s.Trans,{id:"Search"}),onClick:function(){e.state.searchResultsDirty?e.launchSearchIfResultsDirty():o()}})),l.a.createElement(m.b,{alignItems:"baseline",noMargin:!0},l.a.createElement(d.b,{margin:"dense",hintText:{id:"Text to replace in parameters"},onChange:function(t,n){return e.setState({replaceText:n})},onKeyPress:function(t){Object(C.e)(t)&&e.launchReplace()},onKeyUp:function(e){Object(C.b)(e)&&i()},value:h,fullWidth:!0}),l.a.createElement(m.c,null),l.a.createElement(j.a,{disabled:!h||!p||!a&&x,label:l.a.createElement(s.Trans,{id:"Replace"}),onClick:this.launchReplace})),l.a.createElement(m.b,{noMargin:!0,alignItems:"center",justifyContent:"space-between"},l.a.createElement(m.b,{noMargin:!0,alignItems:"center"},l.a.createElement(E.a,{label:l.a.createElement(s.Trans,{id:"Case insensitive"}),checked:!this.state.matchCase,onCheck:function(t,n){return e.setState({matchCase:!n,searchResultsDirty:!0})}}),l.a.createElement(y.a,null,l.a.createElement(s.Trans,{id:"Search in:"})),l.a.createElement(m.c,null),l.a.createElement(E.a,{label:l.a.createElement(s.Trans,{id:"Conditions"}),checked:this.state.searchInConditions,onCheck:function(t,n){return e.setState({searchInConditions:n,searchResultsDirty:!0})}}),l.a.createElement(E.a,{label:l.a.createElement(s.Trans,{id:"Actions"}),checked:this.state.searchInActions,onCheck:function(t,n){return e.setState({searchInActions:n,searchResultsDirty:!0})}}),l.a.createElement(E.a,{label:l.a.createElement(s.Trans,{id:"Texts"}),checked:this.state.searchInEventStrings,onCheck:function(t,n){return e.setState({searchInEventStrings:n,searchResultsDirty:!0})}})),l.a.createElement(m.b,{noMargin:!0,alignItems:"center"},l.a.createElement(y.a,null,null===n||void 0===n?"":0!==n?"".concat(n," results"):"No results"),l.a.createElement(b.a,{disabled:!n,onClick:function(){r()}},l.a.createElement(f.a,null)),l.a.createElement(b.a,{disabled:!n,onClick:function(){o()}},l.a.createElement(g.a,null)),l.a.createElement(v.a,{key:"close",label:l.a.createElement(s.Trans,{id:"Close"}),primary:!1,onClick:function(){i()}})))))}}]),n}(c.PureComponent)},1635:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(92),l=n(706),u=n.n(l),d=e.gd,m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={eventsSearchResults:null,searchFocusOffset:null},e._resultEvents=null,e._doReplaceInEvents=function(t){var n=t.searchInSelection,a=t.searchText,r=t.replaceText,o=t.matchCase,i=t.searchInConditions,s=t.searchInActions,c=(t.searchInEventStrings,e.props),l=c.globalObjectsContainer,u=c.objectsContainer,m=c.events;n&&console.error("Replace in selection is not implemented yet"),r&&d.EventsRefactorer.replaceStringInEvents(l,u,m,a,r,o,i,s)},e._doSearchInEvents=function(t,n){var a=t.searchInSelection,r=t.searchText,o=t.matchCase,i=t.searchInConditions,s=t.searchInActions,c=t.searchInEventStrings,l=e.props,u=l.globalObjectsContainer,m=l.objectsContainer,p=l.events;a&&console.error("Search in selection is not implemented yet");var f=d.EventsRefactorer.searchInEvents(u,m,p,r,o,i,s,c);e.state.eventsSearchResults&&e.state.eventsSearchResults.delete(),e.setState({eventsSearchResults:f.clone(),searchFocusOffset:null},(function(){e._updateListOfResultEvents(),n()}))},e._updateListOfResultEvents=function(){var t=e.state.eventsSearchResults;if(t){var n=Object(c.mapFor)(0,t.size(),(function(e){var n=t.at(e);return n.isEventValid()?n.getEvent():null})).filter(Boolean);e._resultEvents=u()(n,(function(e){return e.ptr}))}else e._resultEvents=null},e._goToSearchResults=function(t){if(e._updateListOfResultEvents(),!e._resultEvents||0===e._resultEvents.length)return e.setState({searchFocusOffset:null}),null;var n=null===e.state.searchFocusOffset?0:((e.state.searchFocusOffset||0)+t)%e._resultEvents.length;n<0&&(n+=e._resultEvents.length);var a=e._resultEvents[n];return setTimeout((function(){return e.setState({searchFocusOffset:n})}),0),a},e._goToPreviousSearchResult=function(){return e._goToSearchResults(-1)},e._goToNextSearchResult=function(){return e._goToSearchResults(1)},e}return Object(r.a)(n,[{key:"componentWillUnmount",value:function(){this.state.eventsSearchResults&&this.state.eventsSearchResults.delete()}},{key:"reset",value:function(){this.state.eventsSearchResults&&this.state.eventsSearchResults.delete(),this._resultEvents=null,this.setState({eventsSearchResults:null,searchFocusOffset:null})}},{key:"render",value:function(){return this.props.children({eventsSearchResultEvents:this._resultEvents,searchFocusOffset:this.state.searchFocusOffset,searchInEvents:this._doSearchInEvents,replaceInEvents:this._doReplaceInEvents,goToNextSearchResult:this._goToNextSearchResult,goToPreviousSearchResult:this._goToPreviousSearchResult})}}]),n}(s.Component)}).call(this,n(1))},1636:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=e.gd,r=function e(t,n){var r=t.getSubInstructions();if(a.compare(r,n))return!0;for(var o=0;o<r.size();++o){if(e(r.get(o),n))return!0}return!1}}).call(this,n(1))},1637:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(90),u=n(87),d=n(318),m=n(79),p=n(109),f=n(117),h=n(118),g=n(780),b=n(126),v=n(177),E=n(781),y=n(784),j=n(110),O=n(96),C=e.gd,x=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={eventsFunction:null,extensionName:"",createNewExtension:!1},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.project,n=e.globalObjectsContainer,a=e.objectsContainer,r=e.serializedEvents,o=new C.EventsFunction;Object(g.d)({project:t,globalObjectsContainer:n,objectsContainer:a,serializedEvents:r,eventsFunction:o}),this.setState({eventsFunction:o}),0===Object(d.a)(t).length&&this.setState({createNewExtension:!0})}},{key:"componentWillUnmount",value:function(){var e=this.state.eventsFunction;e&&e.delete()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.onClose,r=t.onCreate,o=this.state,i=o.eventsFunction,C=o.extensionName,x=o.createNewExtension;if(!i)return null;var T=Object(d.a)(n),S=Object(g.c)(i);return c.createElement(l.a,{title:c.createElement(s.Trans,{id:"Extract the events in a function"}),secondaryActions:c.createElement(j.a,{helpPagePath:"/events/functions/extract-events"}),actions:[c.createElement(u.a,{key:"cancel",label:c.createElement(s.Trans,{id:"Cancel"}),onClick:a}),c.createElement(u.a,{key:"create",label:c.createElement(s.Trans,{id:"Create"}),primary:!0,disabled:!Object(g.a)(n,C,i),onClick:function(){return r(C,i)}})],cannotBeDismissed:!0,open:!0,onRequestClose:a,noMargin:!0},c.createElement(m.a,{noMargin:!0},c.createElement(m.a,null,c.createElement(v.a,{identifier:"function-extractor-explanation",kind:"info"},"After creating a function, it will be usable in the events sheet. Functions are grouped by extensions. Choose, or enter the name of a new extension, and a function name, then configure the function and its parameters."),c.createElement(O.b,{noMargin:!0,expand:!0},c.createElement(f.a,{floatingLabelText:c.createElement(s.Trans,{id:"Extension (storing the function)"}),value:x?"<create a new extension>":C,onChange:function(t,n,a){"<create a new extension>"===a?e.setState({createNewExtension:!0,extensionName:""}):e.setState({createNewExtension:!1,extensionName:a})},fullWidth:!0},T.map((function(e){return c.createElement(h.a,{key:e.getName(),value:e.getName(),primaryText:e.getFullName()||e.getName()})})),c.createElement(h.a,{value:"<create a new extension>",primaryText:{id:"<Create a New Extension>"}})),x?c.createElement(p.a,{commitOnBlur:!0,value:C,floatingLabelText:c.createElement(s.Trans,{id:"New extension name"}),onChange:function(t){return e.setState({extensionName:t})},fullWidth:!0,errorText:Object(g.h)(n,C)?Object(g.g)(C)?void 0:c.createElement(s.Trans,{id:"This name is not valid. Only use alphanumeric characters (0-9, a-z) and underscores."}):c.createElement(s.Trans,{id:"This name is already taken by another extension."})}):null),c.createElement(m.b,null,c.createElement(p.a,{commitOnBlur:!0,value:i.getName(),floatingLabelText:c.createElement(s.Trans,{id:"Function name"}),onChange:function(t){i.setName(t),e.forceUpdate()},fullWidth:!0,errorText:Object(g.f)(n,C,i)?Object(g.e)(i.getName())?void 0:c.createElement(s.Trans,{id:"This name is not valid. Only use alphanumeric characters (0-9, a-z) and underscores."}):c.createElement(s.Trans,{id:"This name is already taken by another function. Choose another name."})})),S?c.createElement(m.b,null,c.createElement(b.a,{kind:"warning"},c.createElement(s.Trans,{id:"This function will have a lot of parameters. Consider creating groups or functions for a smaller set of objects so that the function is easier to reuse."}))):null),c.createElement(y.a,{eventsFunction:i,eventsBasedBehavior:null,onConfigurationUpdated:function(){e.forceUpdate()},freezeEventsFunctionType:!0}),c.createElement(m.c,null),c.createElement(E.a,{project:n,eventsFunction:i,eventsBasedBehavior:null,onParametersUpdated:function(){e.forceUpdate()},freezeParameters:!0})))}}]),n}(c.Component)}).call(this,n(1))},1638:function(e,t,n){"use strict";function a(e,t,n){return t.getObjectGroups().has(n)?t.getObjectGroups().get(n):e.getObjectGroups().has(n)?e.getObjectGroups().get(n):null}n.d(t,"a",(function(){return a}))},1639:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(117),u=n(118),d=n(783),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={behaviorMetadata:Object(d.a)(e.props.project.getCurrentPlatform(),e.props.project)},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.objectType,a=e.value,r=e.onChange,o=this.state.behaviorMetadata,i=!!o.find((function(e){return e.type===a}));return c.createElement(l.a,{floatingLabelText:c.createElement(s.Trans,{id:"Behavior type"}),value:a,onChange:function(e,t,n){r(n)},disabled:t,fullWidth:!0},o.map((function(e){return c.createElement(u.a,{key:e.type,value:e.type,primaryText:e.fullName,disabled:""!==e.objectType&&e.objectType!==n})})),!i&&a&&c.createElement(u.a,{value:a,primaryText:a}))}}]),n}(c.Component)},171:function(e,t,n){var a=n(4),r=a("electron"),o=r?r.remote.app:null,i=a("fs"),s=a("path"),c=a("process"),l=c&&/^darwin/.test(c.platform),u=function(e,t,n){return i.access(e,i.constants.R_OK,(function(a){a?n():t(e)}))};e.exports={findGDJS:function(){if(!s||!c||!i)return Promise.reject(new Error("Unsupported"));var e=o?o.getAppPath():c.cwd(),t=l?"../../../../":s.join("..",".."),n=s.join(e,t);return new Promise((function(t,a){var r=function(e){return t({gdjsRoot:e})},o=function(){return a(new Error("Could not find GDJS"))};u(s.join(n,"..","JsPlatform"),r,(function(){u(s.join(e,"..","GDJS"),r,(function(){var t=s.join(e,"..","..","app","resources","GDJS");u(t,r,o)}))}))}))}}},176:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(98),r=n(2);function o(){var e=r.useState(),t=Object(a.a)(e,2)[1];return r.useCallback((function(){return t({})}),[])}},177:function(e,t,n){"use strict";var a=n(2),r=n(113),o=n(126),i=n(3);t.a=function(e){var t=e.identifier,n=e.kind,s=e.children;return a.createElement(r.b.Consumer,null,(function(e){var r=e.values,c=e.showAlertMessage;return!r.hiddenAlertMessages[t]&&a.createElement(o.a,{kind:n,children:s,onHide:function(){i.b.showConfirmDialog("Are you sure you want to hide this hint? You won't see it again, unless you re-activate it from the preferences.")&&c(t,!1)}})}))}},1778:function(e,t,n){},180:function(e,t,n){"use strict";var a=n(98),r=n(83),o=n(137),i=n(2),s=n(77),c=n(2454),l=(n(139),n(2366)),u=n(226),d=n(2461),m=n(2360),p=n(99),f=n(2381),h=n(360),g=n.n(h),b=n(129),v={container:{position:"relative",width:"100%"},listItem:{padding:0,margin:0,display:"inline-block",whiteSpace:"nowrap",width:"calc(100%)",overflow:"hidden",textOverflow:"ellipsis"}},E=Object(f.a)({option:{cursor:"default"},listbox:{padding:0,margin:0},input:{width:"auto",flexGrow:1},inputRoot:{flexWrap:"wrap"},popper:{zIndex:g.a.tooltip+100}}),y=function(e,t){return e.type&&"separator"===e.type?i.createElement(m.a,{divider:!0,disableGutters:!0,component:"div",style:v.listItem}):i.createElement(m.a,{component:"div",style:v.listItem},e.renderIcon&&i.createElement(l.a,null,e.renderIcon()),e.value)},j=function(e){return"separator"===e.type};t.a=i.forwardRef((function(e,t){var n=i.useRef(null),l=Object(i.useState)(null),m=Object(a.a)(l,2),f=m[0],h=m[1],g=Object(i.useState)(!1),O=Object(a.a)(g,2),C=O[0],x=O[1],T=E();i.useImperativeHandle(t,(function(){return{focus:function(){n.current&&n.current.focus()},forceInputValueTo:function(e){null!==f&&h(e)}}}));var S=null!==f?f:e.value,k=e.helperMarkdownText?i.createElement(u.a,{source:e.helperMarkdownText}):null,w=function(e,t,n){h(t),C||x(!0)};return i.createElement(s.I18n,null,(function(t){var a=t.i18n;return i.createElement(d.a,{freeSolo:!0,classes:T,onChange:function(t,a){null!==a&&n.current&&(!function(e,t,n){"separator"!==t.type&&(t.onClick?t.onClick():(e.value=t.value,n.onChoose?n.onChoose(t.value):n.onChange(t.value),n.onRequestClose&&n.onRequestClose()))}(n.current,a,e),x(!1))},open:C,style:Object(r.a)(Object(r.a)({},e.style),v.container),inputValue:S,value:S,onInputChange:w,options:e.dataSource,renderOption:y,getOptionDisabled:j,getOptionLabel:function(e){return function(e,t){return e.value?e.value:t}(e,S)},filterOptions:function(e,t){return function(e,t,n){var a=n.toLowerCase(),r=e.filter((function(e){return"separator"===e.type||(!e.text||-1!==e.text.toLowerCase().indexOf(a))}));if(!r.filter((function(e){return"separator"!==e.type&&e.value})).length)return[];for(;void 0!==r[r.length-1]&&void 0!==r[r.length-1].type;)r.pop();for(;void 0!==r[0]&&void 0!==r[0].type;)r.shift();return r}(e,0,S)},renderInput:function(t){var s=function(e,t,n){var a=e.InputProps,i=e.inputProps,s=(e.InputLabelProps,Object(o.a)(e,["InputProps","inputProps","InputLabelProps"]));return Object(r.a)(Object(r.a)({},s),{},{InputProps:Object(r.a)(Object(r.a)({},a),{},{className:null,endAdornment:null}),inputProps:Object(r.a)(Object(r.a)({},i),{},{className:null,disabled:n.disabled,onKeyDown:function(e){Object(b.b)(e)&&n.onRequestClose&&n.onRequestClose()}})})}(t,0,e),l=s.InputProps,u=s.inputProps,d=Object(o.a)(s,["InputProps","inputProps"]);return i.createElement(c.a,Object.assign({InputProps:Object(r.a)(Object(r.a)({},l),{},{placeholder:"string"===typeof e.hintText?e.hintText:a._(e.hintText)}),inputProps:Object(r.a)(Object(r.a)({},u),{},{onFocus:function(e){x(!0),n.current&&(n.current.selectionStart=n.current.value.length)},onBlur:function(t){h(null),x(!1),e.onChange(t.currentTarget.value),e.onBlur&&e.onBlur(t)},onMouseDown:function(e){n.current&&!n.current.value.length&&x(!C)}})},d,Object(p.a)(e),{style:e.textFieldStyle,label:e.floatingLabelText,inputRef:n,disabled:e.disabled,error:!!e.errorText,helperText:k||e.errorText,fullWidth:e.fullWidth}))}})}))}))},1802:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return M}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(517),u=n(403),d=n(97),m=n(1803),p=n(2279),f=n(2280),h=n(123),g=n(2281),b=n(24),v=n(1816),E=n(1819),y=n(1820),j=n(400),O=n(87),C=n(79),x=n(2365),T=n(163),S=n(1821),k=n(1823),w=n(1825),N=n.n(w),_=n(1824),P=n.n(_),I=n(113),R=e.gd,B={direction:"row",first:{direction:"column",first:"free-functions-list",second:"behaviors-list",splitPercentage:50},second:{direction:"column",first:"parameters",second:"events-sheet",splitPercentage:25},splitPercentage:25},M=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={selectedEventsFunction:null,selectedEventsBasedBehavior:null,editedEventsBasedBehavior:null,editOptionsDialogOpen:!1,behaviorMethodSelectorDialogOpen:!1,extensionFunctionSelectorDialogOpen:!1,onAddEventsFunctionCb:null},e._loadEventsFunctionFrom=function(t,n){e._globalObjectsContainer||(e._globalObjectsContainer=new R.ObjectsContainer),e._objectsContainer||(e._objectsContainer=new R.ObjectsContainer),R.EventsFunctionTools.eventsFunctionToObjectsContainer(t,n,e._globalObjectsContainer,e._objectsContainer)},e.updateToolbar=function(){e.editor?e.editor.updateToolbar():e.props.setToolbar(c.createElement("div",null))},e.selectEventsFunctionByName=function(t,n){var a=e.props.eventsFunctionsExtension;if(n){var r=a.getEventsBasedBehaviors();if(r.has(n)){var o=r.get(n),i=o.getEventsFunctions();i.hasEventsFunctionNamed(t)&&e._selectEventsFunction(i.getEventsFunction(t),o)}}else a.hasEventsFunctionNamed(t)&&e._selectEventsFunction(a.getEventsFunction(t),null)},e._selectEventsFunction=function(t,n){t?(e._loadEventsFunctionFrom(e.props.project,t),e.setState({selectedEventsFunction:t,selectedEventsBasedBehavior:n},(function(){e.updateToolbar(),e._editorNavigator&&(t&&!t.getEvents().getEventsCount()?e._editorNavigator.openEditor("parameters"):e._editorNavigator.openEditor("events-sheet"))}))):e.setState({selectedEventsFunction:null,selectedEventsBasedBehavior:n},(function(){return e.updateToolbar()}))},e._makeRenameFreeEventsFunction=function(t){return function(n,a,r){if(R.Project.validateName(a)){if(Object(j.h)(a))return Object(b.c)(t._({id:"This name is reserved for a lifecycle function of the extension. Choose another name for your function."}),{delayToNextTick:!0}),r(!1);var o=e.props,i=o.project,s=o.eventsFunctionsExtension;R.WholeProjectRefactorer.renameEventsFunction(i,s,n.getName(),a),r(!0)}else Object(b.c)(t._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0})}},e._makeRenameBehaviorEventsFunction=function(t){return function(n,a,r,o){if(!R.Project.validateName(r))return Object(b.c)(t._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),o(!1);if(Object(j.g)(r))return Object(b.c)(t._({id:"This name is reserved for a lifecycle method of the behavior. Choose another name for your custom function."}),{delayToNextTick:!0}),o(!1);var i=e.props,s=i.project,c=i.eventsFunctionsExtension;R.WholeProjectRefactorer.renameBehaviorEventsFunction(s,c,n,a.getName(),r),o(!0)}},e._onDeleteEventsFunction=function(t,n){e.state.selectedEventsFunction&&R.compare(t,e.state.selectedEventsFunction)&&e._selectEventsFunction(null,e.state.selectedEventsBasedBehavior),n(!0)},e._selectEventsBasedBehavior=function(t){e.setState({selectedEventsBasedBehavior:t,selectedEventsFunction:null},(function(){e.updateToolbar(),t&&(e._editorMosaic&&e._editorMosaic.openEditor("behavior-functions-list","end",75,"column"),e._editorNavigator&&e._editorNavigator.openEditor("behavior-functions-list"))}))},e._makeRenameEventsBasedBehavior=function(t){return function(n,a,r){if(R.Project.validateName(a)){var o=e.props,i=o.project,s=o.eventsFunctionsExtension;R.WholeProjectRefactorer.renameEventsBasedBehavior(i,s,n.getName(),a),r(!0)}else Object(b.c)(t._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0})}},e._onEventsBasedBehaviorRenamed=function(){e.props.onBehaviorEdited&&e.props.onBehaviorEdited(),e.state.selectedEventsFunction&&e._loadEventsFunctionFrom(e.props.project,e.state.selectedEventsFunction)},e._onDeleteEventsBasedBehavior=function(t,n){e.state.selectedEventsBasedBehavior&&R.compare(t,e.state.selectedEventsBasedBehavior)&&e._selectEventsBasedBehavior(null),n(!0)},e._onAddFreeEventsFunction=function(t){e.setState({extensionFunctionSelectorDialogOpen:!0,onAddEventsFunctionCb:t})},e._onCloseExtensionFunctionSelectorDialog=function(t){var n=e.state.onAddEventsFunctionCb;e.setState({extensionFunctionSelectorDialogOpen:!1,onAddEventsFunctionCb:null},(function(){n&&n(t)}))},e._onAddBehaviorEventsFunction=function(t){e.setState({behaviorMethodSelectorDialogOpen:!0,onAddEventsFunctionCb:t})},e._onCloseBehaviorMethodSelectorDialog=function(t){var n=e.state.onAddEventsFunctionCb;e.setState({behaviorMethodSelectorDialogOpen:!1,onAddEventsFunctionCb:null},(function(){n&&n(t)}))},e._onBehaviorEventsFunctionAdded=function(t,n){R.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(e.props.eventsFunctionsExtension,t)},e._onBehaviorPropertyRenamed=function(t,n,a){var r=e.props,o=r.project,i=r.eventsFunctionsExtension;R.WholeProjectRefactorer.renameBehaviorProperty(o,i,t,n,a)},e._editOptions=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({editOptionsDialogOpen:t})},e._editBehavior=function(t){e.setState((function(n){return n.editedEventsBasedBehavior&&!t&&R.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(e.props.eventsFunctionsExtension,n.editedEventsBasedBehavior),{editedEventsBasedBehavior:t}}),(function(){t||(e.props.onBehaviorEdited&&e.props.onBehaviorEdited(),e.state.selectedEventsFunction&&e._loadEventsFunctionFrom(e.props.project,e.state.selectedEventsFunction))}))},e._openFreeFunctionsListEditor=function(){e._editorNavigator&&e._editorNavigator.openEditor("free-functions-list")},e._openBehaviorsListEditor=function(){e._editorNavigator&&e._editorNavigator.openEditor("behaviors-list")},e._onEditorNavigatorEditorChanged=function(t){e.updateToolbar(),"behaviors-list"===t?e._selectEventsBasedBehavior(null):"free-functions-list"!==t&&"behavior-functions-list"!==t||e._selectEventsFunction(null,e.state.selectedEventsBasedBehavior)},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.initiallyFocusedFunctionName&&this.selectEventsFunctionByName(this.props.initiallyFocusedFunctionName,this.props.initiallyFocusedBehaviorName)}},{key:"componentWillUnmount",value:function(){this._globalObjectsContainer&&this._globalObjectsContainer.delete(),this._objectsContainer&&this._objectsContainer.delete()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.eventsFunctionsExtension,r=this.state,o=r.selectedEventsFunction,i=r.selectedEventsBasedBehavior,b=r.editOptionsDialogOpen,w=r.behaviorMethodSelectorDialogOpen,_=r.extensionFunctionSelectorDialogOpen,R=r.editedEventsBasedBehavior,M={"choose-editor":{type:"primary",noTitleBar:!0,renderEditor:function(){return c.createElement(k.a,{eventsFunctionsExtension:a,onEditFreeFunctions:e._openFreeFunctionsListEditor,onEditBehaviors:e._openBehaviorsListEditor,onEditExtensionOptions:e._editOptions})}},parameters:{type:"primary",title:{id:"Function Configuration"},toolbarControls:[],renderEditor:function(){return c.createElement(h.a,null,o&&e._globalObjectsContainer&&e._objectsContainer?c.createElement(m.a,{project:n,eventsFunction:o,eventsBasedBehavior:i,globalObjectsContainer:e._globalObjectsContainer,objectsContainer:e._objectsContainer,helpPagePath:i?"/behaviors/events-based-behaviors":"/events/functions",onParametersOrGroupsUpdated:function(){e._loadEventsFunctionFrom(n,o),e.forceUpdate()},unsavedChanges:e.props.unsavedChanges}):c.createElement(d.a,null,c.createElement(s.Trans,{id:"Choose a function, or a function of a behavior, to set the parameters that it accepts."})))}},"events-sheet":{type:"primary",noTitleBar:!0,renderEditor:function(){return o&&e._globalObjectsContainer&&e._objectsContainer?c.createElement(h.a,null,c.createElement(l.a,{key:o.ptr,ref:function(t){return e.editor=t},project:n,scope:{layout:null,eventsFunctionsExtension:a,eventsBasedBehavior:i,eventsFunction:o},globalObjectsContainer:e._globalObjectsContainer,objectsContainer:e._objectsContainer,events:o.getEvents(),onOpenExternalEvents:function(){},onOpenLayout:function(){},resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors,openInstructionOrExpression:e.props.openInstructionOrExpression,setToolbar:e.props.setToolbar,onCreateEventsFunction:e.props.onCreateEventsFunction,onOpenSettings:e._editOptions,unsavedChanges:e.props.unsavedChanges})):c.createElement(h.a,null,c.createElement(d.a,null,c.createElement(s.Trans,{id:"Choose a function, or a function of a behavior, to edit its events."})))}},"free-functions-list":{type:"primary",title:{id:"Functions"},toolbarControls:[],renderEditor:function(){return c.createElement(s.I18n,null,(function(t){var r=t.i18n;return c.createElement(p.a,{project:n,eventsFunctionsContainer:a,selectedEventsFunction:o,onSelectEventsFunction:function(t){return e._selectEventsFunction(t,null)},onDeleteEventsFunction:e._onDeleteEventsFunction,canRename:function(e){return!Object(j.h)(e.getName())},onRenameEventsFunction:e._makeRenameFreeEventsFunction(r),onAddEventsFunction:e._onAddFreeEventsFunction,onEventsFunctionAdded:function(){},renderHeader:function(){return c.createElement(c.Fragment,null,c.createElement(C.b,{justifyContent:"center"},c.createElement(O.a,{label:c.createElement(s.Trans,{id:"Edit extension options"}),primary:!0,onClick:function(){return e._editOptions()}})),c.createElement(x.a,null))},unsavedChanges:e.props.unsavedChanges})}))}},"behavior-functions-list":{type:"primary",title:{id:"Behavior functions"},renderEditor:function(){return i?c.createElement(s.I18n,null,(function(t){var a=t.i18n;return c.createElement(p.a,{project:n,eventsFunctionsContainer:i.getEventsFunctions(),selectedEventsFunction:o,onSelectEventsFunction:function(t){return e._selectEventsFunction(t,i)},onDeleteEventsFunction:e._onDeleteEventsFunction,canRename:function(e){return!Object(j.g)(e.getName())},onRenameEventsFunction:function(t,n,r){return e._makeRenameBehaviorEventsFunction(a)(i,t,n,r)},onAddEventsFunction:e._onAddBehaviorEventsFunction,onEventsFunctionAdded:function(t){return e._onBehaviorEventsFunctionAdded(i,t)},renderHeader:function(){return c.createElement(c.Fragment,null,c.createElement(C.b,{justifyContent:"center"},c.createElement(O.a,{label:c.createElement(s.Trans,{id:"Edit behavior properties"}),primary:!0,onClick:function(){return e._editBehavior(i)}})),c.createElement(x.a,null))},unsavedChanges:e.props.unsavedChanges})})):c.createElement(h.a,null,c.createElement(d.a,null,c.createElement(s.Trans,{id:"Select a behavior to display the functions inside this behavior."})))}},"behaviors-list":{type:"secondary",title:{id:"Behaviors"},toolbarControls:[],renderEditor:function(){return c.createElement(s.I18n,null,(function(t){var r=t.i18n;return c.createElement(f.a,{project:n,eventsBasedBehaviorsList:a.getEventsBasedBehaviors(),selectedEventsBasedBehavior:i,onSelectEventsBasedBehavior:e._selectEventsBasedBehavior,onDeleteEventsBasedBehavior:e._onDeleteEventsBasedBehavior,onRenameEventsBasedBehavior:e._makeRenameEventsBasedBehavior(r),onEventsBasedBehaviorRenamed:e._onEventsBasedBehaviorRenamed,onEditProperties:e._editBehavior,unsavedChanges:e.props.unsavedChanges})}))}}};return c.createElement(c.Fragment,null,c.createElement(T.a,null,(function(t){return"small"===t?c.createElement(S.a,{ref:function(t){return e._editorNavigator=t},editors:M,initialEditorName:"choose-editor",transitions:{"behaviors-list":{previousEditor:"choose-editor"},"behavior-functions-list":{previousEditor:"behaviors-list"},"free-functions-list":{previousEditor:"choose-editor"},"events-sheet":{nextIcon:c.createElement(P.a,null),nextLabel:c.createElement(s.Trans,{id:"Parameters"}),nextEditor:"parameters",previousEditor:function(){return i?"behavior-functions-list":"free-functions-list"}},parameters:{nextIcon:c.createElement(N.a,null),nextLabel:c.createElement(s.Trans,{id:"Validate these parameters"}),nextEditor:"events-sheet"}},onEditorChanged:e._onEditorNavigatorEditorChanged}):c.createElement(I.b.Consumer,null,(function(t){var n=t.getDefaultEditorMosaicNode,a=t.setDefaultEditorMosaicNode;return c.createElement(u.a,{ref:function(t){return e._editorMosaic=t},editors:M,onPersistNodes:function(e){return a("events-functions-extension-editor",e)},initialNodes:n("events-functions-extension-editor")||B})}))})),b&&c.createElement(g.a,{eventsFunctionsExtension:a,open:!0,onClose:function(){return e._editOptions(!1)}}),w&&i&&c.createElement(E.a,{eventsBasedBehavior:i,onCancel:function(){return e._onCloseBehaviorMethodSelectorDialog(null)},onChoose:function(t){return e._onCloseBehaviorMethodSelectorDialog(t)}}),_&&a&&c.createElement(y.a,{eventsFunctionsExtension:a,onCancel:function(){return e._onCloseExtensionFunctionSelectorDialog(null)},onChoose:function(t){return e._onCloseExtensionFunctionSelectorDialog(t)}}),R&&c.createElement(v.a,{project:n,eventsFunctionsExtension:a,eventsBasedBehavior:R,onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e._editBehavior(null)},onRenameProperty:function(t,n){return e._onBehaviorPropertyRenamed(R,t,n)}}))}}]),n}(c.Component)}).call(this,n(1))},1803:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(1804),u=n(157),d=n(781),m=n(784),p=n(204),f=n(79),h=n(24),g=n(3),b=e.gd,v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={currentTab:"config"},e._canObjectOrGroupUseNewName=function(t){var n=e.props,a=n.objectsContainer,r=n.globalObjectsContainer;return a.hasObjectNamed(t)||r.hasObjectNamed(t)||a.getObjectGroups().has(t)||r.getObjectGroups().has(t)?(Object(h.c)("Another object or group with this name already exists in this function.",{delayToNextTick:!0}),!1):!!b.Project.validateName(t)||(Object(h.c)("This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character.",{delayToNextTick:!0}),!1)},e._onDeleteGroup=function(t,n){var a=t.group,r=e.props,o=r.project,i=r.eventsFunction,s=r.globalObjectsContainer,c=r.objectsContainer,l=g.b.showConfirmDialog("Do you want to remove all references to this group in events (actions and conditions using the group)?");b.WholeProjectRefactorer.objectOrGroupRemovedInEventsFunction(o,i,s,c,a.getName(),!0,!!l),n(!0)},e._onRenameGroup=function(t,n,a){var r=t.group,o=e.props,i=o.project,s=o.eventsFunction,c=o.globalObjectsContainer,l=o.objectsContainer;r.getName()!==n&&b.WholeProjectRefactorer.objectOrGroupRenamedInEventsFunction(i,s,c,l,r.getName(),n,!0),a(!0)},e._chooseTab=function(t){return e.setState({currentTab:t})},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.project,n=e.globalObjectsContainer,a=e.objectsContainer,r=e.eventsFunction,o=e.eventsBasedBehavior,i=e.freezeEventsFunctionType,h=e.onConfigurationUpdated,g=e.onParametersOrGroupsUpdated,b=e.freezeParameters,v=e.helpPagePath,E=e.renderConfigurationHeader;return c.createElement(f.a,{expand:!0,noMargin:!0,useFullHeight:!0},c.createElement(u.b,{value:this.state.currentTab,onChange:this._chooseTab},c.createElement(u.a,{label:c.createElement(s.Trans,{id:"Configuration"}),value:"config"}),c.createElement(u.a,{label:c.createElement(s.Trans,{id:"Parameters"}),value:"parameters"}),c.createElement(u.a,{label:c.createElement(s.Trans,{id:"Object groups"}),value:"groups"})),"config"===this.state.currentTab?c.createElement(p.a,null,c.createElement(f.b,null,c.createElement(m.a,{eventsFunction:r,eventsBasedBehavior:o,helpPagePath:v,onConfigurationUpdated:h,renderConfigurationHeader:E,freezeEventsFunctionType:i}))):null,"parameters"===this.state.currentTab?c.createElement(p.a,null,c.createElement(f.b,null,c.createElement(d.a,{project:t,eventsFunction:r,eventsBasedBehavior:o,onParametersUpdated:g,helpPagePath:v,freezeParameters:b}))):null,"groups"===this.state.currentTab?c.createElement(l.a,{project:t,globalObjectsContainer:n,objectsContainer:a,globalObjectGroups:n.getObjectGroups(),objectGroups:r.getObjectGroups(),canRenameGroup:this._canObjectOrGroupUseNewName,onRenameGroup:this._onRenameGroup,onDeleteGroup:this._onDeleteGroup,onGroupsUpdated:g,canSetAsGlobalGroup:!1,unsavedChanges:this.props.unsavedChanges}):null)}}]),n}(c.Component)}).call(this,n(1))},1804:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(916),l=n(834),u=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editedGroup:null},e.editGroup=function(t){return e.setState({editedGroup:t})},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.objectsContainer,r=t.globalObjectsContainer,o=t.objectGroups,i=t.globalObjectGroups;return s.createElement(s.Fragment,null,s.createElement(c.a,{globalObjectGroups:i,objectGroups:o,onEditGroup:this.editGroup,onDeleteGroup:this.props.onDeleteGroup,onRenameGroup:this.props.onRenameGroup,canRenameGroup:this.props.canRenameGroup,onGroupAdded:this.props.onGroupsUpdated,onGroupRemoved:this.props.onGroupsUpdated,onGroupRenamed:this.props.onGroupsUpdated,canSetAsGlobalGroup:this.props.canSetAsGlobalGroup,unsavedChanges:this.props.unsavedChanges}),this.state.editedGroup&&s.createElement(l.a,{project:n,key:r.ptr+";"+a.ptr,group:this.state.editedGroup,globalObjectsContainer:r,objectsContainer:a,onCancel:function(){return e.editGroup(null)},onApply:function(){e.props.onGroupsUpdated&&e.props.onGroupsUpdated(),e.editGroup(null)}}))}}]),n}(s.Component)},1805:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(102),l=n(758),u=n(97),d=n(79),m=e.gd,p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={newObjectName:""},e.removeObject=function(t){var n=e.props,a=n.group,r=n.onSizeUpdated;a.removeObject(t),e.forceUpdate(),r&&r()},e.addObject=function(t){var n=e.props,a=n.group,r=n.onSizeUpdated;a.addObject(t),e.setState({newObjectName:""}),r&&r()},e}return Object(r.a)(n,[{key:"_renderExplanation",value:function(){var e=this.props,t=e.group,n=e.globalObjectsContainer,a=e.objectsContainer,r=void 0;t.getAllObjectsNames().toJSArray().forEach((function(e){var t=m.getTypeOfObject(n,a,e,!1);r=void 0===r||t===r?t:""}));var o="";return o=void 0===r?"This group is empty":""===r?"This group contains objects of different kinds. You'll only be able to use actions and conditions common to all objects with this group.":"This group contains objects of the same kind (".concat(r,"). You can use actions and conditions related to this kind of objects in events with this group."),s.createElement(u.a,null,o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.group,r=t.globalObjectsContainer,o=t.objectsContainer;return s.createElement("div",null,this._renderExplanation(),s.createElement(c.a,null,a.getAllObjectsNames().toJSArray().map((function(t){return s.createElement(c.b,{key:t,primaryText:t,displayRemoveButton:!0,onRemove:function(){return e.removeObject(t)}})}))),s.createElement(d.a,null,s.createElement(l.a,{project:n,globalObjectsContainer:r,objectsContainer:o,value:this.state.newObjectName,onChange:function(t){return e.setState({newObjectName:t})},onChoose:this.addObject,openOnFocus:!0,noGroups:!0,hintText:{id:"Choose an object to add to the group"},fullWidth:!0})))}}]),n}(s.Component)}).call(this,n(1))},1816:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(87),u=n(90),d=n(1817),m=n(110),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onApply,a=t.eventsBasedBehavior,r=t.eventsFunctionsExtension,o=t.project;return c.createElement(u.a,{noMargin:!0,secondaryActions:[c.createElement(m.a,{key:"help",helpPagePath:"/behaviors/events-based-behaviors"})],actions:[c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:n,key:"Apply"})],cannotBeDismissed:!0,open:!0,onRequestClose:n,title:c.createElement(s.Trans,{id:"Edit the behavior"})},c.createElement(d.a,{project:o,eventsFunctionsExtension:r,eventsBasedBehavior:a,onTabChanged:function(){return e.forceUpdate()},onPropertiesUpdated:function(){return e.forceUpdate()},onRenameProperty:this.props.onRenameProperty}))}}]),n}(c.Component)},1817:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(99),u=n(109),d=n(782),m=n(157),p=n(177),f=n(126),h=n(1818),g=n(96),b=e.gd,v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={currentTab:"configuration"},e._allObjectTypes=b.WholeProjectRefactorer.getAllObjectTypesUsingEventsBasedBehavior(e.props.project,e.props.eventsFunctionsExtension,e.props.eventsBasedBehavior).toNewVectorString().toJSArray(),e._changeTab=function(t){return e.setState({currentTab:t},(function(){return e.props.onTabChanged()}))},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.state.currentTab,n=this.props,a=n.eventsBasedBehavior,r=n.project;return c.createElement(c.Fragment,null,c.createElement(m.b,{value:t,onChange:this._changeTab},c.createElement(m.a,{label:c.createElement(s.Trans,{id:"Configuration"}),value:"configuration"}),c.createElement(m.a,{label:c.createElement(s.Trans,{id:"Properties"}),value:"properties"})),"configuration"===t&&c.createElement(g.a,{expand:!0},c.createElement(p.a,{identifier:"events-based-behavior-explanation",kind:"info"},c.createElement(s.Trans,{id:"This is the configuration of your behavior. Make sure to choose a proper internal name as it's hard to change it later. Enter a description explaining what the behavior is doing to the object."})),c.createElement(l.b,{floatingLabelText:c.createElement(s.Trans,{id:"Internal Name"}),value:a.getName(),disabled:!0,fullWidth:!0}),c.createElement(u.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Name displayed in editor"}),value:a.getFullName(),onChange:function(t){a.setFullName(t),e.forceUpdate()},fullWidth:!0}),c.createElement(u.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Description"}),floatingLabelFixed:!0,hintText:{id:"The description of the behavior should explain what the behavior is doing to the object, and, briefly, how to use it."},value:a.getDescription(),onChange:function(t){a.setDescription(t),e.forceUpdate()},multiline:!0,fullWidth:!0,rows:3}),c.createElement(d.a,{floatingLabelText:c.createElement(s.Trans,{id:"Object on which this behavior can be used"}),project:r,value:a.getObjectType(),onChange:function(t){a.setObjectType(t),e.forceUpdate()},allowedObjectTypes:0===this._allObjectTypes.length?void 0:1===this._allObjectTypes.length?["",this._allObjectTypes[0]]:[""]}),this._allObjectTypes.length>1&&c.createElement(f.a,{kind:"info"},c.createElement(s.Trans,{id:"This behavior is being used by multiple types of objects. Thus, you can't restrict its usage to any particular object type. All the object types using this behavior are listed here: {0}",values:{0:this._allObjectTypes.join(", ")}})),0===a.getEventsFunctions().getEventsFunctionsCount()&&c.createElement(p.a,{identifier:"empty-events-based-behavior-explanation",kind:"info"},c.createElement(s.Trans,{id:"Once you're done, close this dialog and start adding some functions to the behavior. Then, test the behavior by adding it to an object in a scene."}))),"properties"===t&&c.createElement(h.a,{project:r,eventsBasedBehavior:a,onPropertiesUpdated:this.props.onPropertiesUpdated,onRenameProperty:this.props.onRenameProperty}))}}]),n}(c.Component)}).call(this,n(1))},1818:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return R}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(79),u=n(117),d=n(118),m=n(92),p=n(89),f=n(103),h=n(97),g=n(146),b=n(305),v=n.n(b),E=n(109),y=n(188),j=n(24),O=n(130),C=n(257),x=n(276),T=n.n(x),S=n(277),k=n.n(S),w=n(149),N=n.n(w),_=n(96),P=e.gd,I={propertiesContainer:{flex:1}},R=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._addProperty=function(){var t=e.props.eventsBasedBehavior.getPropertyDescriptors(),n=Object(O.a)("Property",(function(e){return t.has(e)}));t.insertNew(n,t.getCount()).setType("Number"),e.forceUpdate(),e.props.onPropertiesUpdated()},e._removeProperty=function(t){e.props.eventsBasedBehavior.getPropertyDescriptors().remove(t),e.forceUpdate(),e.props.onPropertiesUpdated()},e._moveProperty=function(t,n){e.props.eventsBasedBehavior.getPropertyDescriptors().move(t,n),e.forceUpdate(),e.props.onPropertiesUpdated()},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props.eventsBasedBehavior.getPropertyDescriptors();return c.createElement(s.I18n,null,(function(n){var a=n.i18n;return c.createElement(l.a,{noMargin:!0},c.createElement(l.b,{noMargin:!0},c.createElement("div",{style:I.propertiesContainer},Object(m.mapVector)(t,(function(n,r){return c.createElement(c.Fragment,{key:r},c.createElement(y.b,null,c.createElement(l.a,{expand:!0,noMargin:!0},c.createElement(E.a,{margin:"none",commitOnBlur:!0,hintText:{id:"Enter the property name"},value:n.getName(),onChange:function(r){r!==n.getName()&&function(e,t,n){return n?"name"===n||"type"===n?(Object(j.c)(e._({id:'The name of a property cannot be "name" or "type", as they are used by GDevelop internally.'}),{delayToNextTick:!0}),!1):t.has(n)?(Object(j.c)(e._({id:"This name is already used by another property. Choose a unique name for each property."}),{delayToNextTick:!0}),!1):!!P.Project.validateName(n)||(Object(j.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),!1):(Object(j.c)(e._({id:"The name of a property cannot be empty."}),{delayToNextTick:!0}),!1)}(a,t,r)&&(e.props.onRenameProperty(n.getName(),r),n.setName(r),e.forceUpdate(),e.props.onPropertiesUpdated())},fullWidth:!0})),c.createElement(C.a,{label:n.isHidden()?c.createElement(s.Trans,{id:"Hidden"}):c.createElement(s.Trans,{id:"Visible in editor"}),checked:!n.isHidden(),onCheck:function(t,a){n.setHidden(!a),e.forceUpdate(),e.props.onPropertiesUpdated()},checkedIcon:c.createElement(T.a,null),uncheckedIcon:c.createElement(k.a,null)}),c.createElement(g.a,{element:c.createElement(f.a,null,c.createElement(v.a,null)),buildMenuTemplate:function(a){return[{label:a._({id:"Delete"}),click:function(){return e._removeProperty(n.getName())}},{type:"separator"},{label:a._({id:"Move up"}),click:function(){return e._moveProperty(r,r-1)},enabled:r-1>=0},{label:a._({id:"Move down"}),click:function(){return e._moveProperty(r,r+1)},enabled:r+1<t.getCount()}]}})),c.createElement(l.b,null,c.createElement(_.a,{expand:!0},c.createElement(_.b,{noMargin:!0},c.createElement(u.a,{floatingLabelText:c.createElement(s.Trans,{id:"Type"}),value:n.getType(),onChange:function(t,a,r){n.setType(r),e.forceUpdate(),e.props.onPropertiesUpdated()},fullWidth:!0},c.createElement(d.a,{value:"Number",primaryText:{id:"Number"}}),c.createElement(d.a,{value:"String",primaryText:{id:"String"}}),c.createElement(d.a,{value:"Boolean",primaryText:{id:"Boolean (checkbox)"}})),("String"===n.getType()||"Number"===n.getType())&&c.createElement(E.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Default value"}),hintText:"Number"===n.getType()?"123":"ABC",value:n.getValue(),onChange:function(t){n.setValue(t),e.forceUpdate(),e.props.onPropertiesUpdated()},fullWidth:!0}),"Boolean"===n.getType()&&c.createElement(u.a,{floatingLabelText:c.createElement(s.Trans,{id:"Default value"}),value:"true"===n.getValue()?"true":"false",onChange:function(t,a,r){n.setValue(r),e.forceUpdate(),e.props.onPropertiesUpdated()},fullWidth:!0},c.createElement(d.a,{value:"true",primaryText:{id:"True (checked)"}}),c.createElement(d.a,{value:"false",primaryText:{id:"False (not checked)"}}))),c.createElement(E.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Label, shown in the editor"}),hintText:{id:"This should make the purpose of the property easy to understand"},floatingLabelFixed:!0,value:n.getLabel(),onChange:function(t){n.setLabel(t),e.forceUpdate()},fullWidth:!0}))))})),0===t.getCount()?c.createElement(h.a,null,c.createElement(s.Trans,{id:"No properties for this behavior. Add one to store data inside this behavior (for example: health, ammo, speed, etc...)"})):null,c.createElement(l.a,null,c.createElement(l.b,{justifyContent:"flex-end",expand:!0},c.createElement(p.a,{primary:!0,label:c.createElement(s.Trans,{id:"Add a property"}),onClick:e._addProperty,icon:c.createElement(N.a,null)}))))))}))}}]),n}(c.Component)}).call(this,n(1))},1819:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(87),u=n(160),d=n(102),m=n(90),p=n(110),f=n(845),h=n(846),g=n(847),b=n(848),v=n(849),E=n(850),y=e.gd,j={icon:{width:40,height:40},disabledItem:{opacity:.6}},O=function(e){var t=e.icon,n=e.disabled,a=e.onChoose,r=e.name,o=e.description;return c.createElement(d.b,{leftIcon:t,primaryText:r,secondaryText:o,secondaryTextLines:2,onClick:function(){return a({functionType:y.EventsFunction.Action,name:r})},style:n?j.disabledItem:void 0,disabled:n})},C=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=[c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:function(){return e.props.onCancel()},key:"close"})],n=this.props,a=n.eventsBasedBehavior,r=n.onChoose,o=a.getEventsFunctions();return c.createElement(m.a,{secondaryActions:[c.createElement(p.a,{key:"help",helpPagePath:"/behaviors/events-based-behaviors"})],actions:t,cannotBeDismissed:!1,open:!0,noMargin:!0,title:c.createElement(s.Trans,{id:'Choose a new behavior function ("method")'}),onRequestClose:this.props.onCancel},c.createElement(d.a,null,c.createElement(u.a,null,c.createElement(s.Trans,{id:"Main lifecycle methods"})),c.createElement(O,{icon:c.createElement(f.a,{style:j.icon}),name:"onCreated",disabled:o.hasEventsFunctionNamed("onCreated"),onChoose:r,description:c.createElement(s.Trans,{id:"Events that will be run once, when an object is created with this behavior being attached to it."})}),c.createElement(O,{icon:c.createElement(h.a,{style:j.icon}),name:"doStepPreEvents",disabled:o.hasEventsFunctionNamed("doStepPreEvents"),onChoose:r,description:c.createElement(s.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), for every object that has the behavior attached, before the events from the events sheet are launched."})}),c.createElement(O,{icon:c.createElement(g.a,{style:j.icon}),name:"onDestroy",disabled:o.hasEventsFunctionNamed("onOwnerRemovedFromScene")||o.hasEventsFunctionNamed("onDestroy"),onChoose:r,description:c.createElement(s.Trans,{id:"Events that will be run once, after the object is removed from the scene and before it is entirely removed from memory."})}),c.createElement(u.a,null,c.createElement(s.Trans,{id:"Other lifecycle methods"})),c.createElement(O,{icon:c.createElement(E.a,{style:j.icon}),name:"onDeActivate",disabled:o.hasEventsFunctionNamed("onDeActivate"),onChoose:r,description:c.createElement(s.Trans,{id:"Events that will be run once when the behavior is deactivated on an object (step events won't be run until the behavior is activated again)."})}),c.createElement(O,{icon:c.createElement(v.a,{style:j.icon}),name:"onActivate",disabled:o.hasEventsFunctionNamed("onActivate"),onChoose:r,description:c.createElement(s.Trans,{id:"Events that will be run once when the behavior is re-activated on an object (after it was previously deactivated)."})}),c.createElement(O,{icon:c.createElement(h.a,{style:j.icon}),name:"doStepPostEvents",disabled:o.hasEventsFunctionNamed("doStepPostEvents"),onChoose:r,description:c.createElement(s.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), for every object that has the behavior attached, after the events from the events sheet."})}),c.createElement(u.a,null,c.createElement(s.Trans,{id:"Custom"})),c.createElement(d.b,{leftIcon:c.createElement(b.a,{style:j.icon}),primaryText:c.createElement(s.Trans,{id:"Custom (action, condition or expression)"}),secondaryText:c.createElement(s.Trans,{id:"An action, condition or expression that can be used on objects that have the behavior attached to them. Use it from the events sheet as any other action/condition/expression."}),secondaryTextLines:2,onClick:function(){return r({functionType:y.EventsFunction.Action,name:null})}})))}}]),n}(c.Component)}).call(this,n(1))},1820:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var a=n(98),r=n(77),o=n(2),i=n(87),s=n(160),c=n(102),l=n(90),u=n(110),d=n(845),m=n(846),p=n(847),f=n(848),h=n(849),g=n(850),b=n(276),v=n.n(b),E=n(277),y=n.n(E),j=n(79),O=e.gd,C={icon:{width:40,height:40},disabledItem:{opacity:.6}},x=function(e){var t=e.icon,n=e.disabled,a=e.onChoose,r=e.name,i=e.description;return o.createElement(c.b,{leftIcon:t,primaryText:r,secondaryText:i,secondaryTextLines:2,onClick:a,style:n?C.disabledItem:void 0,disabled:n})};function T(e){var t=e.eventsFunctionsExtension,n=e.onChoose,b=e.onCancel,E=o.useState(!1),T=Object(a.a)(E,2),S=T[0],k=T[1];return o.createElement(l.a,{secondaryActions:[o.createElement(u.a,{key:"help",helpPagePath:"/events/functions"})],actions:[o.createElement(i.a,{label:o.createElement(r.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:b,key:"close"})],cannotBeDismissed:!1,open:!0,noMargin:!0,title:o.createElement(r.Trans,{id:"Choose a new extension function"}),onRequestClose:b},o.createElement(c.a,null,o.createElement(x,{icon:o.createElement(f.a,{style:C.icon}),name:o.createElement(r.Trans,{id:"Action"}),onChoose:function(){return n({functionType:O.EventsFunction.Action,name:null})},description:o.createElement(r.Trans,{id:"An action that can be used in other events sheet. You can define the action parameters: objects, texts, numbers, layers, etc..."})}),o.createElement(x,{icon:o.createElement(f.a,{style:C.icon}),name:o.createElement(r.Trans,{id:"Condition"}),onChoose:function(){return n({functionType:O.EventsFunction.Condition,name:null})},description:o.createElement(r.Trans,{id:"A condition that can be used in other events sheet. You can define the conditions parameters: objects, texts, numbers, layers, etc..."})}),o.createElement(x,{icon:o.createElement(f.a,{style:C.icon}),name:o.createElement(r.Trans,{id:"Expression"}),onChoose:function(){return n({functionType:O.EventsFunction.Expression,name:null})},description:o.createElement(r.Trans,{id:"An expression that can be used in formulas. Can either return a number or a string, and take some parameters."})}),S&&o.createElement(o.Fragment,null,o.createElement(s.a,null,o.createElement(r.Trans,{id:"Lifecycle functions (advanced)"})),o.createElement(x,{icon:o.createElement(d.a,{style:C.icon}),name:"onFirstSceneLoaded",disabled:t.hasEventsFunctionNamed("onFirstSceneLoaded"),onChoose:function(){return n({functionType:O.EventsFunction.Action,name:"onFirstSceneLoaded"})},description:o.createElement(r.Trans,{id:"Events that will be run once when the first scene of the game is loaded, before any other events."})}),o.createElement(x,{icon:o.createElement(d.a,{style:C.icon}),name:"onSceneLoaded",disabled:t.hasEventsFunctionNamed("onSceneLoaded"),onChoose:function(){return n({functionType:O.EventsFunction.Action,name:"onSceneLoaded"})},description:o.createElement(r.Trans,{id:"Events that will be run once when a scene of the game is loaded, before the scene events."})}),o.createElement(x,{icon:o.createElement(m.a,{style:C.icon}),name:"onScenePreEvents",disabled:t.hasEventsFunctionNamed("onScenePreEvents"),onChoose:function(){return n({functionType:O.EventsFunction.Action,name:"onScenePreEvents"})},description:o.createElement(r.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), before the events from the events sheet of the scene."})}),o.createElement(x,{icon:o.createElement(m.a,{style:C.icon}),name:"onScenePostEvents",disabled:t.hasEventsFunctionNamed("onScenePostEvents"),onChoose:function(){return n({functionType:O.EventsFunction.Action,name:"onScenePostEvents"})},description:o.createElement(r.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), after the events from the events sheet of the scene."})}),o.createElement(x,{icon:o.createElement(g.a,{style:C.icon}),name:"onScenePaused",disabled:t.hasEventsFunctionNamed("onScenePaused"),onChoose:function(){return n({functionType:O.EventsFunction.Action,name:"onScenePaused"})},description:o.createElement(r.Trans,{id:"Events that will be run once when a scene is paused (another scene is run on top of it)."})}),o.createElement(x,{icon:o.createElement(h.a,{style:C.icon}),name:"onSceneResumed",disabled:t.hasEventsFunctionNamed("onSceneResumed"),onChoose:function(){return n({functionType:O.EventsFunction.Action,name:"onSceneResumed"})},description:o.createElement(r.Trans,{id:"Events that will be run once when a scene is resumed (after it was previously paused)."})}),o.createElement(x,{icon:o.createElement(p.a,{style:C.icon}),name:"onSceneUnloading",disabled:t.hasEventsFunctionNamed("onSceneUnloading"),onChoose:function(){return n({functionType:O.EventsFunction.Action,name:"onSceneUnloading"})},description:o.createElement(r.Trans,{id:"Events that will be run once when a scene is about to be unloaded from memory. The previous scene that was paused will be resumed after this."})}))),o.createElement(j.b,{justifyContent:"center",alignItems:"center"},S?o.createElement(i.a,{icon:o.createElement(y.a,null),primary:!1,onClick:function(){return k(!1)},label:o.createElement(r.Trans,{id:"Hide lifecycle functions (advanced)"})}):o.createElement(i.a,{icon:o.createElement(v.a,null),primary:!1,onClick:function(){return k(!0)},label:o.createElement(r.Trans,{id:"Show lifecycle functions (advanced)"})})))}}).call(this,n(1))},1821:function(e,t,n){"use strict";var a=n(98),r=n(77),o=n(2),i=n(79),s=n(87),c=n(1822),l=n.n(c),u=n(123);t.a=o.forwardRef((function(e,t){var n=e.initialEditorName,c=e.editors,d=e.transitions,m=e.onEditorChanged,p=o.useState(n),f=Object(a.a)(p,2),h=f[0],g=f[1];o.useImperativeHandle(t,(function(){return{openEditor:function(e){g(e)}}})),o.useEffect((function(){m(h)}),[h,m]);var b=d[h],v="space-between";return b&&(b.previousEditor&&!b.nextEditor&&(v="flex-start"),!b.previousEditor&&b.nextEditor&&(v="flex-end")),o.createElement(i.a,{noMargin:!0,expand:!0},b&&o.createElement(u.a,{maxWidth:!0,noExpand:!0,noFullHeight:!0},o.createElement(i.a,null,o.createElement(i.b,{justifyContent:v},b.previousEditor&&o.createElement(s.a,{label:o.createElement(r.Trans,{id:"Back"}),onClick:function(){b.previousEditor&&g(b.previousEditor)},icon:o.createElement(l.a,null)}),b.nextLabel&&b.nextEditor&&o.createElement(s.a,{label:b.nextLabel,onClick:function(){b.nextEditor&&g(b.nextEditor)},icon:b.nextIcon})))),c[h]?c[h].renderEditor():null)}))},1823:function(e,t,n){"use strict";var a=n(77),r=n(2),o=n(123),i=n(79),s=n(85),c=n(89),l=n(87);t.a=function(e){var t=e.eventsFunctionsExtension.getEventsFunctionsCount(),n=e.eventsFunctionsExtension.getEventsBasedBehaviors().getCount();return r.createElement(a.I18n,null,(function(u){var d=u.i18n;return r.createElement(o.a,null,r.createElement(i.a,null,r.createElement(s.a,null,r.createElement(a.Trans,{id:"Extensions can provide functions (which can be actions, conditions or expressions) or new behaviors."})),r.createElement(c.a,{label:d._({id:"Edit functions (not attached to behaviors) ({eventsFunctionsCount})",values:{eventsFunctionsCount:t}}),onClick:e.onEditFreeFunctions,primary:!0}),r.createElement(i.c,null),r.createElement(c.a,{label:d._({id:"Edit behaviors ({eventsBasedBehaviorsCount})",values:{eventsBasedBehaviorsCount:n}}),onClick:e.onEditBehaviors,primary:!0}),r.createElement(i.c,null),r.createElement(l.a,{label:r.createElement(a.Trans,{id:"Edit extension options"}),onClick:e.onEditExtensionOptions})))}))}},1829:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a=n(6),r=n(12),o=n(561),i=n.n(o),s=n(187),c=n(398),l=n(107),u=n(856),d=n(1830),m=e.gd,p=function(){function e(t){var n=this,r=t.project,o=t.layout,p=t.layer,f=t.viewPosition,h=t.instances,g=t.onInstanceClicked,b=t.onInstanceDoubleClicked,v=t.onOverInstance,E=t.onOutInstance,y=t.onMoveInstance,j=t.onMoveInstanceEnd,O=t.onDownInstance;Object(a.a)(this,e),this.getInstanceLeft=function(e){return e.getX()-(n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getOriginX():0)},this.getInstanceTop=function(e){return e.getY()-(n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getOriginY():0)},this.getInstanceWidth=function(e){return e.hasCustomSize()?e.getCustomWidth():n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getDefaultWidth():0},this.getInstanceHeight=function(e){return e.hasCustomSize()?e.getCustomHeight():n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getDefaultHeight():0},this.getRendererOfInstance=function(e){var t=n.renderedInstances[e.ptr];if(void 0===t){var a=e.getObjectName(),r=Object(c.a)(n.project,n.layout,a);if(!r)return;(t=n.renderedInstances[e.ptr]=s.a.createNewInstanceRenderer(n.project,n.layout,e,r,n.pixiContainer))._pixiObject.interactive=!0,i.a.panable(t._pixiObject),Object(d.a)(t._pixiObject),t._pixiObject.on("click",(function(){n.onInstanceClicked(e)})),t._pixiObject.on("doubleclick",(function(){n.onInstanceDoubleClicked(e)})),t._pixiObject.on("mouseover",(function(){n.onOverInstance(e)})),t._pixiObject.on("mousedown",(function(){n.onDownInstance(e)})),t._pixiObject.on("touchstart",(function(t){Object(u.b)(t.data&&t.data.originalEvent)||n.onDownInstance(e)})),t._pixiObject.on("mouseout",(function(){n.onOutInstance(e)})),t._pixiObject.on("panmove",(function(t){Object(u.b)(t.data&&t.data.originalEvent)||n.onMoveInstance(e,t.deltaX,t.deltaY)})),t._pixiObject.on("panend",(function(e){n.onMoveInstanceEnd()}))}return t},this.project=r,this.instances=h,this.layout=o,this.layer=p,this.viewPosition=f,this.onInstanceClicked=g,this.onInstanceDoubleClicked=b,this.onOverInstance=v,this.onOutInstance=E,this.onMoveInstance=y,this.onMoveInstanceEnd=j,this.onDownInstance=O,this.viewTopLeft=[0,0],this.viewBottomRight=[0,0],this.renderedInstances={},this.pixiContainer=new l.Container,this.instancesRenderer=new m.InitialInstanceJSFunctor,this.instancesRenderer.invoke=function(e){var t=m.wrapPointer(e,m.InitialInstance),a=n.getRendererOfInstance(t);if(a){var r=a.getPixiObject();r&&(r.zOrder=t.getZOrder()),r&&(r.interactive=!t.isLocked());var o=n._isInstanceVisible(t);r&&(r.visible=o),o&&a.update(),a.wasUsed=!0}}}return Object(r.a)(e,[{key:"getPixiContainer",value:function(){return this.pixiContainer}},{key:"_isInstanceVisible",value:function(e){var t=this.getInstanceLeft(e),n=this.getInstanceTop(e);return!(t+this.getInstanceWidth(e)<this.viewTopLeft[0]||n+this.getInstanceHeight(e)<this.viewTopLeft[1]||t>this.viewBottomRight[0]||n>this.viewBottomRight[1])}},{key:"_computeViewBounds",value:function(){this.viewTopLeft=this.viewPosition.toSceneCoordinates(-100,-100),this.viewBottomRight=this.viewPosition.toSceneCoordinates(this.viewPosition.getWidth()+100,this.viewPosition.getHeight()+100)}},{key:"render",value:function(){this._computeViewBounds(),this.instances.iterateOverInstancesWithZOrdering(this.instancesRenderer,this.layer.getName()),this._updatePixiObjectsZOrder(),this._updateVisibility(),this._cleanRenderers()}},{key:"_updatePixiObjectsZOrder",value:function(){this.pixiContainer.children.sort((function(e,t){return e.zOrder=e.zOrder||0,t.zOrder=t.zOrder||0,e.zOrder-t.zOrder}))}},{key:"_updateVisibility",value:function(){this.pixiContainer.visible=this.layer.getVisibility()}},{key:"resetRenderersFor",value:function(e){for(var t in this.renderedInstances)if(this.renderedInstances.hasOwnProperty(t)){var n=this.renderedInstances[t];n.getInstance().getObjectName()===e&&(n.instanceRemovedFromScene(),delete this.renderedInstances[t])}}},{key:"_cleanRenderers",value:function(){for(var e in this.renderedInstances)if(this.renderedInstances.hasOwnProperty(e)){var t=this.renderedInstances[e];t.wasUsed?t.wasUsed=!1:(t.instanceRemovedFromScene(),delete this.renderedInstances[e])}}},{key:"delete",value:function(){this.instancesRenderer.delete()}}]),e}()}).call(this,n(1))},1830:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(107);var a=function(e){var t=0,n=0,a=0,r=function(r){var o=r.data.global,i=o.x,s=o.y,c=Date.now();c-t<500&&Math.abs(i-n)<=10&&Math.abs(s-a)<=10&&setTimeout((function(){e.emit("doubleclick",r)})),t=c,n=i,a=s};e.interactive=!0,e.on("click",r),e.on("touchend",r)}},1831:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(6),r=n(12),o=n(107),i=e.gd,s=function(){function e(t){var n=this,r=t.instances,s=t.instanceMeasurer,c=t.toSceneCoordinates;t.toCanvasCoordinates;Object(a.a)(this,e),this.startSelectionRectangle=function(e,t){n.selectionRectangleStart={x:e,y:t},n.selectionRectangleEnd={x:e,y:t}},this.updateSelectionRectangle=function(e,t){n.selectionRectangleStart||(n.selectionRectangleStart={x:e,y:t}),n.selectionRectangleEnd={x:e,y:t}},this.endSelectionRectangle=function(){if(!n.selectionRectangleStart)return[];if(n._instancesInSelectionRectangle.length=0,n.selectionRectangleStart.x>n.selectionRectangleEnd.x){var e=n.selectionRectangleStart.x;n.selectionRectangleStart.x=n.selectionRectangleEnd.x,n.selectionRectangleEnd.x=e}if(n.selectionRectangleStart.y>n.selectionRectangleEnd.y){var t=n.selectionRectangleStart.y;n.selectionRectangleStart.y=n.selectionRectangleEnd.y,n.selectionRectangleEnd.y=t}return n.instances.iterateOverInstances(n.selector),n.selectionRectangleStart=null,n._instancesInSelectionRectangle},this.instances=r,this.instanceMeasurer=s,this.toSceneCoordinates=c,this.pixiRectangle=new o.Graphics,this.pixiRectangle.hitArea=new o.Rectangle(0,0,0,0),this.selectionRectangleStart=null,this.selectionRectangleEnd=null,this._instancesInSelectionRectangle=[],this.selector=new i.InitialInstanceJSFunctor,this.selector.invoke=function(e){var t=i.wrapPointer(e,i.InitialInstance),a=n.instanceMeasurer.getInstanceLeft(t),r=n.instanceMeasurer.getInstanceTop(t),o=n.instanceMeasurer.getInstanceHeight(t),s=n.instanceMeasurer.getInstanceWidth(t);if(n.selectionRectangleStart&&n.selectionRectangleEnd){var l=c(n.selectionRectangleStart.x,n.selectionRectangleStart.y),u=c(n.selectionRectangleEnd.x,n.selectionRectangleEnd.y);l[0]<=a&&a+s<=u[0]&&l[1]<=r&&r+o<=u[1]&&n._instancesInSelectionRectangle.push(t)}}}return Object(r.a)(e,[{key:"hasStartedSelectionRectangle",value:function(){return this.selectionRectangleStart}},{key:"getPixiObject",value:function(){return this.pixiRectangle}},{key:"render",value:function(){if(this.selectionRectangleStart){var e=this.selectionRectangleStart.x,t=this.selectionRectangleStart.y,n=this.selectionRectangleEnd.x,a=this.selectionRectangleEnd.y;this.pixiRectangle.visible=!0,this.pixiRectangle.clear(),this.pixiRectangle.beginFill(6842600),this.pixiRectangle.lineStyle(1,6842600,1),this.pixiRectangle.fill.alpha=.1,this.pixiRectangle.alpha=.8,this.pixiRectangle.drawRect(Math.min(e,n),Math.min(t,a),Math.abs(n-e),Math.abs(a-t)),this.pixiRectangle.endFill()}else this.pixiRectangle.visible=!1}},{key:"delete",value:function(){this.selector.delete()}}]),e}()}).call(this,n(1))},1832:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a=n(6),r=n(12),o=n(857),i=e.gd,s=function(e,t){var n=e;return t.grid&&t.snap?(n[0]=Object(o.a)(n[0],t.gridWidth,t.gridOffsetX),n[1]=Object(o.a)(n[1],t.gridHeight,t.gridOffsetY)):(n[0]=Math.round(n[0]),n[1]=Math.round(n[1])),n},c=function(){function e(t){var n=this,r=t.instances,o=t.options;Object(a.a)(this,e),this._zOrderFinder=new i.HighestZOrderFinder,this.addInstances=function(e,t){n._instances.iterateOverInstances(n._zOrderFinder);var a=n._zOrderFinder.getHighestZOrder()+1,r=s(e,n._options);return t.map((function(e){var t=n._instances.insertNewInitialInstance();return t.setObjectName(e),t.setX(r[0]),t.setY(r[1]),t.setZOrder(a),t}))},this.createOrUpdateTemporaryInstancesFromObjectNames=function(e,t){t.length&&(n._temporaryInstances.length?n.updateTemporaryInstancePositions(e):n._createTemporaryInstancesFromObjectNames(e,t))},this._createTemporaryInstancesFromObjectNames=function(e,t){n.deleteTemporaryInstances(),n._instances.iterateOverInstances(n._zOrderFinder);var a=n._zOrderFinder.getHighestZOrder()+1,r=s(e,n._options);n._temporaryInstances=t.map((function(e){var t=n._instances.insertNewInitialInstance();return t.setObjectName(e),t.setX(r[0]),t.setY(r[1]),t.setZOrder(a),t}))},this.updateTemporaryInstancePositions=function(e){var t=s(e,n._options);return n._temporaryInstances.forEach((function(e){e.setX(Math.round(t[0])),e.setY(Math.round(t[1]))})),n._temporaryInstances},this._instances=r,this._options=o,this._temporaryInstances=[]}return Object(r.a)(e,[{key:"setOptions",value:function(e){this._options=e}},{key:"deleteTemporaryInstances",value:function(){var e=this;this._temporaryInstances.forEach((function(t){e._instances.removeInstance(t)})),this._temporaryInstances=[]}},{key:"commitTemporaryInstances",value:function(){this._temporaryInstances=[]}},{key:"unmount",value:function(){this._zOrderFinder.delete()}}]),e}()}).call(this,n(1))},1833:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(123),u=n(858),d=n(97),m=n(232),p=n(263),f=n(637),h=n(398),g=n(103),b=n(79),v=n(306),E=n.n(v),y=n(85),j=n(204),O=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._instanceVariablesList=c.createRef(),e.schema=[{name:e.props.i18n._({id:"Object name"}),valueType:"string",disabled:!0,getValue:function(e){return e.getObjectName()},setValue:function(e,t){return e.setObjectName(t)},onEditButtonClick:function(t){return e.props.onEditObjectByName(t.getObjectName())}},{name:e.props.i18n._({id:"Position"}),type:"row",children:[{name:e.props.i18n._({id:"X"}),valueType:"number",getValue:function(e){return e.getX()},setValue:function(e,t){return e.setX(t)}},{name:e.props.i18n._({id:"Y"}),valueType:"number",getValue:function(e){return e.getY()},setValue:function(e,t){return e.setY(t)}}]},{name:e.props.i18n._({id:"Angle"}),valueType:"number",getValue:function(e){return e.getAngle()},setValue:function(e,t){return e.setAngle(t)}},{name:e.props.i18n._({id:"Lock position/angle in the editor"}),valueType:"boolean",getValue:function(e){return e.isLocked()},setValue:function(e,t){return e.setLocked(t)}},{name:e.props.i18n._({id:"Z Order"}),valueType:"number",getValue:function(e){return e.getZOrder()},setValue:function(e,t){return e.setZOrder(t)}},{name:e.props.i18n._({id:"Layer"}),valueType:"string",getChoices:function(){return Object(u.a)(e.props.layout)},getValue:function(e){return e.getLayer()},setValue:function(e,t){return e.setLayer(t)}},{name:e.props.i18n._({id:"Custom size?"}),valueType:"boolean",getValue:function(e){return e.hasCustomSize()},setValue:function(e,t){return e.setHasCustomSize(t)}},{name:e.props.i18n._({id:"Custom size"}),type:"row",children:[{name:e.props.i18n._({id:"Width"}),valueType:"number",getValue:function(e){return e.getCustomWidth()},setValue:function(e,t){return e.setCustomWidth(t)}},{name:e.props.i18n._({id:"Height"}),valueType:"number",getValue:function(e){return e.getCustomHeight()},setValue:function(e,t){return e.setCustomHeight(t)}}]}],e}return Object(r.a)(n,[{key:"_renderEmpty",value:function(){return c.createElement(d.a,null,c.createElement(s.Trans,{id:"Click on an instance in the scene to display its properties"}))}},{key:"_renderInstancesProperties",value:function(){var e=this,t=this.props,n=t.project,a=t.layout,r=t.instances,o=r[0],i=o.getObjectName(),l=Object(h.a)(n,a,i),u=o.getCustomProperties(n,a),d=Object(p.a)(u,(function(e){return e.getCustomProperties(n,a)}),(function(e,t,r){return e.updateCustomProperty(t,r,n,a)}));return c.createElement(j.a,{autoHideScrollbar:!0,key:r.map((function(e){return""+e.ptr})).join(";")},c.createElement(b.b,null,c.createElement(b.a,{expand:!0,noMargin:!0},c.createElement(b.a,null,c.createElement(m.a,{unsavedChanges:this.props.unsavedChanges,schema:this.schema.concat(d),instances:r}),c.createElement(b.b,{alignItems:"center",justifyContent:"space-between"},c.createElement(y.a,null,c.createElement(s.Trans,{id:"Instance Variables"})),c.createElement(g.a,{onClick:function(){e.props.editInstanceVariables(o)}},c.createElement(E.a,null)))),c.createElement(f.a,{inheritedVariablesContainer:l?l.getVariables():null,variablesContainer:o.getVariables(),ref:this._instanceVariablesList}))))}},{key:"render",value:function(){var e=this.props.instances;return c.createElement(l.a,null,e&&e.length?this._renderInstancesProperties():this._renderEmpty())}}]),n}(c.Component)},1834:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(207),d=n(104),m=n(150),p=e.gd,f={container:{flex:1,display:"flex",flexDirection:"column",alignItems:"stretch"}},h=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={searchText:""},e.renderedRows=[],e._searchBar=l.a.createRef(),e._onRowClick=function(t){var n=t.index;e.renderedRows[n]&&e.props.onSelectInstances([e.renderedRows[n].instance])},e._rowGetter=function(t){var n=t.index;return e.renderedRows[n]},e._rowClassName=function(t){var n=t.index;if(n<0)return"tableHeaderRow";var a=e.renderedRows[n];return a&&-1!==e.props.selectedInstances.indexOf(a.instance)?"tableSelectedRow":n%2===0?"tableEvenRow":"tableOddRow"},e._selectFirstInstance=function(){e.renderedRows.length&&e.props.onSelectInstances([e.renderedRows[0].instance])},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){Object(m.b)()&&this._searchBar.current&&this._searchBar.current.focus()}},{key:"componentWillMount",value:function(){var e=this;this.instanceRowRenderer=new p.InitialInstanceJSFunctor,this.instanceRowRenderer.invoke=function(t){var n=e.state.searchText,a=p.wrapPointer(t,p.InitialInstance),r=a.getObjectName();n&&-1===r.toLowerCase().indexOf(n.toLowerCase())||e.renderedRows.push({instance:a,name:r,locked:a.isLocked()?"\ud83d\udd12":"",x:a.getX().toFixed(2),y:a.getY().toFixed(2),angle:a.getAngle().toFixed(2),layer:a.getLayer(),zOrder:a.getZOrder()})}}},{key:"componentWillUnmount",value:function(){this.instanceRowRenderer&&this.instanceRowRenderer.delete()}},{key:"render",value:function(){var e=this,t=this.state.searchText,n=this.props.instances;if(!this.instanceRowRenderer)return null;this.renderedRows.length=0,n.iterateOverInstances(this.instanceRowRenderer);var a=n.ptr;return l.a.createElement(d.a,null,(function(n){return l.a.createElement("div",{style:f.container},l.a.createElement("div",{style:{flex:1}},l.a.createElement(u.a,null,(function(t){var r=t.height,o=t.width;return l.a.createElement(u.e,{ref:function(t){return e.table=t},key:a,headerHeight:30,height:r,className:n.tableRootClassName,headerClassName:"tableHeaderColumn",rowCount:e.renderedRows.length,rowGetter:e._rowGetter,rowHeight:32,onRowClick:e._onRowClick,rowClassName:e._rowClassName,width:o},l.a.createElement(u.b,{label:l.a.createElement(s.Trans,{id:"Object name"}),dataKey:"name",width:.35*o,className:"tableColumn"}),l.a.createElement(u.b,{label:"",dataKey:"locked",width:.05*o,className:"tableColumn"}),l.a.createElement(u.b,{label:l.a.createElement(s.Trans,{id:"X"}),dataKey:"x",width:.1*o,className:"tableColumn"}),l.a.createElement(u.b,{label:l.a.createElement(s.Trans,{id:"Y"}),dataKey:"y",width:.1*o,className:"tableColumn"}),l.a.createElement(u.b,{label:l.a.createElement(s.Trans,{id:"Angle"}),dataKey:"angle",width:.1*o,className:"tableColumn"}),l.a.createElement(u.b,{label:l.a.createElement(s.Trans,{id:"Layer"}),dataKey:"layer",width:.2*o,className:"tableColumn"}),l.a.createElement(u.b,{label:l.a.createElement(s.Trans,{id:"Z Order"}),dataKey:"zOrder",width:.1*o,className:"tableColumn"}))}))),l.a.createElement(m.a,{value:t,onChange:function(t){return e.setState({searchText:t})},onRequestSearch:e._selectFirstInstance,ref:e._searchBar}))}))}}]),n}(c.Component)}).call(this,n(1))},1838:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(87),d=n(90),m=n(117),p=n(118),f=n(85),h=n(858),g=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={selectedLayer:""},r}return Object(r.a)(n,[{key:"componentWillReceiveProps",value:function(e){!this.props.open&&e.open&&this.setState({selectedLayer:""})}},{key:"render",value:function(){var e=this;if(!this.props.layersContainer||!this.props.open)return null;var t=[l.a.createElement(u.a,{key:"cancel",label:l.a.createElement(s.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:function(){return e.props.onClose(!1)}}),l.a.createElement(u.a,{key:"remove",label:l.a.createElement(s.Trans,{id:"Remove objects"}),onClick:function(){return e.props.onClose(!0,null)}}),l.a.createElement(u.a,{key:"move",label:l.a.createElement(s.Trans,{id:"Move objects"}),primary:!0,onClick:function(){return e.props.onClose(!0,e.state.selectedLayer)}})],n=Object(h.a)(this.props.layersContainer).filter((function(t){return t.value!==e.props.layerRemoved})).map((function(e){var t=e.value,n=e.label;return l.a.createElement(p.a,{key:t,value:t,primaryText:n})}));return l.a.createElement(d.a,{title:l.a.createElement(s.Trans,{id:"Objects on {0}",values:{0:this.props.layerRemoved}}),actions:t,cannotBeDismissed:!1,open:this.props.open,onRequestClose:this.props.onCancel},l.a.createElement(f.a,null,l.a.createElement(s.Trans,{id:"Move objects on layer {0} to:",values:{0:this.props.layerRemoved}})),l.a.createElement(m.a,{value:this.state.selectedLayer,onChange:function(t,n,a){e.setState({selectedLayer:a})}},n))}}]),n}(c.Component)},1839:function(e,t,n){"use strict";(function(e){var a=n(98),r=n(77),o=n(2),i=n.n(o),s=n(87),c=n(90),l=n(258),u=n(96),d=n(257),m=n(308),p=n(177),f=n(85),h=n(176),g=n(471),b=n(110),v=n(157),E=n(2288),y=n(79),j=e.gd;t.a=function(e){var t=e.initialTab,n=e.layer,o=e.initialInstances,O=e.onClose,C=e.hotReloadPreviewButtonProps,x=Object(h.a)(),T=Object(m.a)({serializableObject:n,onCancel:O}),S=i.a.useState(t),k=Object(a.a)(S,2),w=k[0],N=k[1],_=i.a.useMemo((function(){var e=new j.HighestZOrderFinder;e.restrictSearchToLayer(n.getName()),o.iterateOverInstances(e);var t=e.getInstancesCount(),a=e.getHighestZOrder();return e.delete(),{instancesCount:t,highestZOrder:a}}),[n,o]),P=_.instancesCount,I=_.highestZOrder;return i.a.createElement(c.a,{noMargin:!0,open:!0,title:i.a.createElement(r.Trans,{id:"Edit Layer Properties"}),secondaryActions:[i.a.createElement(b.a,{key:"help",helpPagePath:"/interface/scene-editor/layer-effects"}),i.a.createElement(g.a,Object.assign({key:"hot-reload-preview-button"},C))],actions:[i.a.createElement(s.a,{label:i.a.createElement(r.Trans,{id:"Cancel"}),onClick:T,key:"Cancel"}),i.a.createElement(s.a,{label:i.a.createElement(r.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:O,key:"Apply"})],onRequestClose:T},i.a.createElement(v.b,{value:w,onChange:N},i.a.createElement(v.a,{label:i.a.createElement(r.Trans,{id:"Properties"}),value:"properties"}),i.a.createElement(v.a,{label:i.a.createElement(r.Trans,{id:"Effects"}),value:"effects"})),"properties"===w&&i.a.createElement(u.a,null,n.isLightingLayer()?i.a.createElement(p.a,{kind:"info",identifier:"lighting-layer-usage"},i.a.createElement(r.Trans,{id:"The lighting layer renders an ambient light on the scene. All lights should be placed on this layer so that shadows are properly rendered. By default, the layer follows the base layer camera. Uncheck this if you want to manually move the camera using events."})):null,i.a.createElement(f.a,null,"There are ",P," instances of objects on this layer."),!e.project.getUseDeprecatedZeroAsDefaultZOrder()&&i.a.createElement(f.a,null,'Objects created using events on this layer will be given a "Z order" of ',I+1,", so that they appear in front of all objects of this layer. You can change this using the action to change an object Z order, after using an action to create it."),i.a.createElement(d.a,{label:i.a.createElement(r.Trans,{id:"Layer visible"}),checked:n.getVisibility(),onCheck:function(e,t){n.setVisibility(t),x()}}),n.isLightingLayer()?i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{size:"title"},i.a.createElement(r.Trans,{id:"Lighting settings"})),i.a.createElement(d.a,{label:i.a.createElement(r.Trans,{id:"Automatically follow the base layer."}),checked:n.isFollowingBaseLayerCamera(),onCheck:function(e,t){n.setFollowBaseLayerCamera(t),x()}}),i.a.createElement(l.a,{fullWidth:!0,floatingLabelText:i.a.createElement(r.Trans,{id:"Ambient light color"}),disableAlpha:!0,color:{r:n.getAmbientLightColorRed(),g:n.getAmbientLightColorGreen(),b:n.getAmbientLightColorBlue()},onChange:function(e){n.setAmbientLightColor(e.rgb.r,e.rgb.g,e.rgb.b),x()}})):i.a.createElement(i.a.Fragment,null,i.a.createElement(y.c,null),i.a.createElement(y.c,null))),"effects"===w&&i.a.createElement(E.a,{project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,effectsContainer:n,onEffectsUpdated:x}))}}).call(this,n(1))},1840:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(98),c=n(77),l=n(2),u=n.n(l),d=n(87),m=n(419),p=n(90),f=n(110),h=n(1868),g=n(157),b=n(308),v=n(109),E=n(79),y=n(176),j=n(471),O=function(e){var t=u.a.useState("properties"),n=Object(s.a)(t,2),a=n[0],r=n[1],o=u.a.useState(e.objectName),i=Object(s.a)(o,2),l=i[0],m=i[1],O=Object(y.a)(),C=Object(b.a)({serializableObject:e.object,useProjectToUnserialize:e.project,onCancel:e.onCancel}),x=e.editorComponent;return u.a.createElement(p.a,{key:e.object&&e.object.ptr,secondaryActions:[u.a.createElement(f.a,{key:"help-button",helpPagePath:e.helpPagePath}),u.a.createElement(j.a,Object.assign({key:"hot-reload-preview-button"},e.hotReloadPreviewButtonProps))],actions:[u.a.createElement(d.a,{key:"cancel",label:u.a.createElement(c.Trans,{id:"Cancel"}),onClick:C}),u.a.createElement(d.a,{key:"apply",label:u.a.createElement(c.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:function(){e.onApply(),e.onRename(l)}})],noMargin:!0,onRequestClose:C,cannotBeDismissed:!0,open:e.open,noTitleMargin:!0,title:u.a.createElement("div",null,u.a.createElement(g.b,{value:a,onChange:r},u.a.createElement(g.a,{label:u.a.createElement(c.Trans,{id:"Properties"}),value:"properties",key:"properties"}),u.a.createElement(g.a,{label:u.a.createElement(c.Trans,{id:"Behaviors"}),value:"behaviors",key:"behaviors"})))},u.a.createElement(E.b,null,u.a.createElement(E.a,{expand:!0},u.a.createElement(v.a,{fullWidth:!0,commitOnBlur:!0,floatingLabelText:u.a.createElement(c.Trans,{id:"Object name"}),floatingLabelFixed:!0,value:l,hintText:{id:"Object Name"},onChange:function(t){t!==l&&e.canRenameObject(t)&&m(t)}}))),"properties"===a&&x&&u.a.createElement(x,{object:e.object,project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,onSizeUpdated:O,objectName:e.objectName}),"behaviors"===a&&u.a.createElement(h.a,{object:e.object,project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,onSizeUpdated:O,onUpdateBehaviorsSharedData:e.onUpdateBehaviorsSharedData}))},C=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editorComponent:null,castToObjectType:null,helpPagePath:null,objectName:""},e}return Object(r.a)(n,[{key:"componentWillMount",value:function(){this._loadFrom(this.props.object)}},{key:"componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.object!==e.object)&&this._loadFrom(e.object)}},{key:"_loadFrom",value:function(e){if(e){var t=m.a.getEditorConfiguration(e.getType());if(!t)return this.setState({editorComponent:null,castToObjectType:null});this.setState({editorComponent:t.component,helpPagePath:t.helpPagePath,castToObjectType:t.castToObjectType,objectName:e.getName()})}}},{key:"render",value:function(){var e=this.props.object,t=this.state,n=t.editorComponent,a=t.castToObjectType,r=t.helpPagePath;return e&&a?u.a.createElement(O,Object.assign({},this.props,{editorComponent:n,key:this.props.object&&this.props.object.ptr,helpPagePath:r,object:a(e),objectName:this.state.objectName})):null}}]),n}(l.Component)},1841:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(83),c=n(77),l=n(2),u=n(159),d=n(79),m=n(313),p=n(188),f=n(247),h=n(114),g=n(109),b=e.gd,v={marginRight:10},E={sizeTextField:Object(s.a)({width:90},v),resourcesSelector:{alignSelf:"center"},toolbarItem:v,checkbox:v},y=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.project,r=t.resourceSources,o=t.onChooseResource,i=t.resourceExternalEditors,s=b.asTextObject(n);return l.createElement(d.a,{noMargin:!0},l.createElement(p.b,null,l.createElement(p.a,null,l.createElement(c.Trans,{id:"Size:"})),l.createElement(g.a,{commitOnBlur:!0,type:"number",margin:"none",style:E.sizeTextField,value:s.getCharacterSize(),onChange:function(t){s.setCharacterSize(parseInt(t,10)||0),e.forceUpdate()}}),l.createElement(p.a,null,l.createElement(c.Trans,{id:"Color:"})),l.createElement(m.a,{style:E.toolbarItem,disableAlpha:!0,color:{r:s.getColorR(),g:s.getColorG(),b:s.getColorB(),a:255},onChangeComplete:function(t){s.setColor(t.rgb.r,t.rgb.g,t.rgb.b),e.forceUpdate()}}),l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Bold"}),checked:s.isBold(),onCheck:function(t,n){s.setBold(n),e.forceUpdate()},style:E.checkbox}),l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Italic"}),checked:s.isItalic(),onCheck:function(t,n){s.setItalic(n),e.forceUpdate()},style:E.checkbox}),l.createElement(p.a,null,l.createElement(c.Trans,{id:"Font:"})),l.createElement(f.a,{margin:"none",project:a,resourceSources:r,onChooseResource:o,resourceExternalEditors:i,resourcesLoader:h.a,resourceKind:"font",fullWidth:!0,canBeReset:!0,initialResourceName:s.getFontName(),onChange:function(t){s.setFontName(t),e.forceUpdate()},hintText:l.createElement(c.Trans,{id:"Choose a font"}),style:E.resourcesSelector})),l.createElement(d.b,{noMargin:!0},l.createElement(d.a,{expand:!0},l.createElement(d.b,null,l.createElement(g.a,{floatingLabelText:l.createElement(c.Trans,{id:"Initial text to display"}),floatingLabelFixed:!0,commitOnBlur:!0,hintText:{id:"Enter the text to be displayed by the object"},fullWidth:!0,multiline:!0,rows:8,rowsMax:8,value:s.getString(),onChange:function(t){s.setString(t),e.forceUpdate(),e.props.onSizeUpdated()}})))))}}]),n}(l.Component)}).call(this,n(1))},1842:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(109),u=n(427),d=n(96),m=e.gd,p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.project,r=t.resourceSources,o=t.onChooseResource,i=t.resourceExternalEditors,p=m.asTiledSpriteObject(n);return c.createElement(d.a,null,c.createElement(u.a,{project:a,resourceSources:r,onChooseResource:o,resourceKind:"image",resourceName:p.getTexture(),resourceExternalEditors:i,onChange:function(t){p.setTexture(t),e.forceUpdate()},floatingLabelText:c.createElement(s.Trans,{id:"Select an image"})}),c.createElement(d.b,{noMargin:!0},c.createElement(l.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Default width (in pixels)"}),fullWidth:!0,type:"number",value:p.getWidth(),onChange:function(t){p.setWidth(parseInt(t,10)||0),e.forceUpdate()}}),c.createElement(l.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Default height (in pixels)"}),fullWidth:!0,type:"number",value:p.getHeight(),onChange:function(t){p.setHeight(parseInt(t,10)||0),e.forceUpdate()}})))}}]),n}(c.Component)}).call(this,n(1))},1843:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(159),u=n(427),d=n(109),m=n(96),p=e.gd,f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.project,r=t.resourceSources,o=t.onChooseResource,i=t.resourceExternalEditors,f=p.asPanelSpriteObject(n);return c.createElement(m.a,null,c.createElement(u.a,{project:a,resourceSources:r,onChooseResource:o,resourceExternalEditors:i,resourceKind:"image",resourceName:f.getTexture(),onChange:function(t){f.setTexture(t),e.forceUpdate()},floatingLabelText:c.createElement(s.Trans,{id:"Select an image"})}),c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Repeat borders and center textures (instead of stretching them)"}),checked:f.isTiled(),onCheck:function(t,n){f.setTiled(n),e.forceUpdate()}}),c.createElement(m.b,{noMargin:!0},c.createElement(d.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Top margin"}),fullWidth:!0,type:"number",value:f.getTopMargin(),onChange:function(t){f.setTopMargin(parseInt(t,10)||0),e.forceUpdate()}}),c.createElement(d.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Bottom margin"}),fullWidth:!0,type:"number",value:f.getBottomMargin(),onChange:function(t){f.setBottomMargin(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(m.b,{noMargin:!0},c.createElement(d.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Left margin"}),fullWidth:!0,type:"number",value:f.getLeftMargin(),onChange:function(t){f.setLeftMargin(parseInt(t,10)||0),e.forceUpdate()}}),c.createElement(d.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Right margin"}),fullWidth:!0,type:"number",value:f.getRightMargin(),onChange:function(t){f.setRightMargin(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(m.b,{noMargin:!0},c.createElement(d.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Default width (in pixels)"}),fullWidth:!0,type:"number",value:f.getWidth(),onChange:function(t){f.setWidth(parseInt(t,10)||0),e.forceUpdate()}}),c.createElement(d.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Default height (in pixels)"}),fullWidth:!0,type:"number",value:f.getHeight(),onChange:function(t){f.setHeight(parseInt(t,10)||0),e.forceUpdate()}})))}}]),n}(c.Component)}).call(this,n(1))},1844:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return G}));var a=n(83),r=n(100),o=n(6),i=n(12),s=n(23),c=n(22),l=n(77),u=n(2),d=n(211),m=n(1845),p=n(149),f=n.n(p),h=n(199),g=n.n(h),b=n(103),v=n(87),E=n(89),y=n(92),j=n(109),O=n(90),C=n(110),x=n(97),T=n(188),S=n(356),k=n(334),w=n(24),N=n(114),_=n(1852),P=n(1857),I=n(3),R=n(330),B=n(79),M=n(96),F=e.gd,A={gridList:{overflowY:"auto"},animationTitle:{flex:1},animationTools:{flexShrink:0}},L=function(e){var t=e.onAdd,n=e.extraTools;return u.createElement(B.a,{expand:!0},u.createElement(B.b,{justifyContent:"space-between"},n,u.createElement(E.a,{label:u.createElement(l.Trans,{id:"Add an animation"}),primary:!0,onClick:t,icon:u.createElement(f.a,null)})))},D=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.animation,n=e.id,a=e.project,r=e.resourceSources,o=e.onRemove,i=e.onChooseResource,s=e.resourceExternalEditors,c=e.resourcesLoader,l=e.onSpriteContextMenu,d=e.selectedSprites,p=e.onSelectSprite,f=e.onReplaceDirection,h=e.objectName,v=e.onChangeName,E=t.getName();return u.createElement("div",null,u.createElement(T.b,null,u.createElement(S.a,null),u.createElement(T.a,null,"Animation #",n," "),u.createElement(B.a,{expand:!0,margin:!0},u.createElement(j.a,{commitOnBlur:!0,margin:"none",value:t.getName(),hintText:{id:"Optional animation name"},onChange:function(e){return v(e)},fullWidth:!0})),u.createElement(b.a,{onClick:o},u.createElement(g.a,null))),Object(y.mapFor)(0,t.getDirectionsCount(),(function(e){var n=t.getDirection(e);return u.createElement(m.a,{direction:n,key:e,project:a,resourcesLoader:c,resourceSources:r,onChooseResource:i,resourceExternalEditors:s,onSpriteContextMenu:l,selectedSprites:d,onSelectSprite:p,onReplaceByDirection:function(t){return f(e,t)},objectName:h,animationName:E,onChangeName:v})})))}}]),n}(u.Component),U=Object(d.SortableElement)(D),V=Object(d.SortableContainer)((function(e){var t=e.spriteObject,n=e.objectName,a=e.onAddAnimation,o=e.onRemoveAnimation,i=e.onChangeAnimationName,s=e.project,c=e.resourcesLoader,l=e.resourceSources,d=e.onChooseResource,m=e.resourceExternalEditors,p=e.extraBottomTools,f=e.onSpriteContextMenu,h=e.selectedSprites,g=e.onSelectSprite,b=e.onReplaceDirection;return u.createElement("div",{style:A.gridList},[].concat(Object(r.a)(Object(y.mapFor)(0,t.getAnimationsCount(),(function(e){var a=t.getAnimation(e);return u.createElement(U,{key:e,index:e,id:e,animation:a,project:s,resourcesLoader:c,resourceSources:l,onChooseResource:d,resourceExternalEditors:m,onRemove:function(){return o(e)},onChangeName:function(t){return i(e,t)},onSpriteContextMenu:f,selectedSprites:h,onSelectSprite:g,onReplaceDirection:function(t,n){return b(e,t,n)},objectName:n})}))),[u.createElement(L,{onAdd:a,key:"add-animation-line",disabled:!0,index:t.getAnimationsCount(),extraTools:p})]))})),W=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={selectedSprites:{}},e.onSortEnd=function(t){var n=t.oldIndex,a=t.newIndex;e.props.spriteObject.moveAnimation(n,a),e.forceUpdate()},e.addAnimation=function(){var t=new F.Animation;t.setDirectionsCount(1),e.props.spriteObject.addAnimation(t),e.forceUpdate(),e.props.onSizeUpdated()},e.removeAnimation=function(t){I.b.showConfirmDialog("Are you sure you want to remove this animation?")&&(e.props.spriteObject.removeAnimation(t),e.forceUpdate(),e.props.onSizeUpdated())},e.changeAnimationName=function(t,n){var a=e.props.spriteObject,r=Object(y.mapFor)(0,a.getAnimationsCount(),(function(e){return e===t?void 0:a.getAnimation(e).getName()}));""!==n&&r.filter((function(e){return e===n})).length?Object(w.c)("Another animation with this name already exists. Please use another name.",{delayToNextTick:!0}):(a.getAnimation(t).setName(n),e.forceUpdate())},e.deleteSelection=function(){var t=e.props.spriteObject;Object(y.mapFor)(0,t.getAnimationsCount(),(function(n){var a=t.getAnimation(n);Object(R.i)(a,e.state.selectedSprites)})),e.setState({selectedSprites:{}})},e.duplicateSelection=function(){var t=e.props.spriteObject;Object(y.mapFor)(0,t.getAnimationsCount(),(function(n){var a=t.getAnimation(n);Object(R.j)(a,e.state.selectedSprites)})),e.setState({selectedSprites:{}})},e.openSpriteContextMenu=function(t,n,a,r){e.selectSprite(a,!0),e.spriteContextMenu&&e.spriteContextMenu.open(t,n)},e.selectSprite=function(t,n){e.setState({selectedSprites:Object(a.a)(Object(a.a)({},e.state.selectedSprites),{},{[t.ptr]:n})})},e.replaceDirection=function(t,n,a){e.props.spriteObject.getAnimation(t).setDirection(a,n),e.forceUpdate()},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return u.createElement("div",null,0===this.props.spriteObject.getAnimationsCount()&&u.createElement(x.a,null,u.createElement(l.Trans,{id:"This object has no animations containing images. Start by adding an animation."})),u.createElement(V,{spriteObject:this.props.spriteObject,objectName:this.props.objectName,helperClass:"sortable-helper",project:this.props.project,onSortEnd:this.onSortEnd,onAddAnimation:this.addAnimation,onChangeAnimationName:this.changeAnimationName,onRemoveAnimation:this.removeAnimation,onReplaceDirection:this.replaceDirection,onSpriteContextMenu:this.openSpriteContextMenu,selectedSprites:this.state.selectedSprites,onSelectSprite:this.selectSprite,resourcesLoader:this.props.resourcesLoader,resourceSources:this.props.resourceSources,resourceExternalEditors:this.props.resourceExternalEditors,onChooseResource:this.props.onChooseResource,extraBottomTools:this.props.extraBottomTools,useDragHandle:!0,lockAxis:"y",axis:"y"}),u.createElement(k.a,{ref:function(t){return e.spriteContextMenu=t},buildMenuTemplate:function(t){return[{label:t._({id:"Delete selection"}),click:function(){return e.deleteSelection()}},{label:t._({id:"Duplicate selection"}),click:function(){return e.duplicateSelection()}}]}}))}}]),n}(u.Component),G=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={pointsEditorOpen:!1,collisionMasksEditorOpen:!1},a.openPointsEditor=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a.setState({pointsEditorOpen:e})},a.openCollisionMasksEditor=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a.setState({collisionMasksEditorOpen:e})},a.resourcesLoader=N.a,a}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.project,r=t.resourceSources,o=t.onChooseResource,i=t.resourceExternalEditors,s=t.onSizeUpdated,c=t.objectName,d=F.asSpriteObject(n);return u.createElement("div",null,u.createElement(W,{spriteObject:d,resourcesLoader:this.resourcesLoader,resourceSources:r,onChooseResource:o,resourceExternalEditors:i,project:a,objectName:c,onSizeUpdated:s,extraBottomTools:u.createElement(M.b,{noMargin:!0},u.createElement(E.a,{label:u.createElement(l.Trans,{id:"Edit hitboxes"}),primary:!1,onClick:function(){return e.openCollisionMasksEditor(!0)},disabled:0===d.getAnimationsCount()}),u.createElement(E.a,{label:u.createElement(l.Trans,{id:"Edit points"}),primary:!1,onClick:function(){return e.openPointsEditor(!0)},disabled:0===d.getAnimationsCount()}))}),this.state.pointsEditorOpen&&u.createElement(O.a,{actions:u.createElement(v.a,{label:u.createElement(l.Trans,{id:"Close"}),primary:!0,onClick:function(){return e.openPointsEditor(!1)}}),secondaryActions:[u.createElement(C.a,{helpPagePath:"/objects/sprite/edit-points",key:"help"})],cannotBeDismissed:!0,noMargin:!0,onRequestClose:function(){return e.openPointsEditor(!1)},open:this.state.pointsEditorOpen},u.createElement(_.a,{object:d,resourcesLoader:this.resourcesLoader,project:a,onPointsUpdated:function(){return e.forceUpdate()}})),this.state.collisionMasksEditorOpen&&u.createElement(O.a,{actions:u.createElement(v.a,{label:u.createElement(l.Trans,{id:"Close"}),primary:!0,onClick:function(){return e.openCollisionMasksEditor(!1)}}),secondaryActions:[u.createElement(C.a,{helpPagePath:"/objects/sprite/collision-mask",key:"help"})],noMargin:!0,cannotBeDismissed:!0,onRequestClose:function(){return e.openCollisionMasksEditor(!1)},open:this.state.collisionMasksEditorOpen},u.createElement(P.a,{object:d,resourcesLoader:this.resourcesLoader,project:a,onCollisionMasksUpdated:function(){return e.forceUpdate()}})))}}]),n}(u.Component)}).call(this,n(1))},1845:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(100),c=n(83),l=n(77),u=n(2),d=n.n(u),m=n(211),p=n(92),f=n(149),h=n.n(f),g=n(2282),b=n(188),v=n(727),E=n(330),y=(n(114),n(213)),j=n(87),O=n(104),C=e.gd,x=n(227),T={spritesList:{whiteSpace:"nowrap",overflowY:"hidden"},thumbnailExtraStyle:{marginRight:10},spriteThumbnailImage:{maxWidth:100,maxHeight:100,verticalAlign:"middle"}},S=Object(m.SortableElement)((function(e){e.displayHint;var t=e.onAdd;return d.a.createElement(O.a,null,(function(e){return d.a.createElement("div",{style:Object(c.a)(Object(c.a)({},v.b),{},{backgroundColor:e.list.itemsBackgroundColor})},d.a.createElement(j.a,{onClick:t,label:d.a.createElement(l.Trans,{id:"Add"}),icon:d.a.createElement(h.a,null)}))}))})),k=Object(m.SortableElement)((function(e){var t=e.sprite,n=e.project,a=e.resourcesLoader,r=e.selected,o=e.onSelect,i=e.onContextMenu;return d.a.createElement(v.a,{selectable:!0,selected:r,onSelect:o,onContextMenu:i,resourceName:t.getImageName(),resourcesLoader:a,project:n,style:T.thumbnailExtraStyle})})),w=Object(m.SortableContainer)((function(e){var t=e.direction,n=e.project,a=e.resourcesLoader,r=e.onAddSprite,o=e.selectedSprites,i=e.onSelectSprite,c=e.onSpriteContextMenu,l=t.getSpritesCount();return d.a.createElement("div",{style:T.spritesList},[].concat(Object(s.a)(Object(p.mapFor)(0,l,(function(e){var r=t.getSprite(e);return d.a.createElement(k,{sprite:r,key:r.ptr,index:e,selected:!!o[r.ptr],onContextMenu:function(e,t){return c(e,t,r)},onSelect:function(e){return i(r,e)},resourcesLoader:a,project:n})}))),[d.a.createElement(S,{displayHint:!t.getSpritesCount(),key:"add-sprite-button",disabled:!0,index:l,onAdd:r})]))})),N=function(e){var t=!1,n=!1;return 0!==e.getSpritesCount()&&(t=Object(E.b)(e.getSprite(0),e),n=Object(E.a)(e.getSprite(0),e)),{allDirectionSpritesHaveSamePoints:t,allDirectionSpritesHaveSameCollisionMasks:n}},_=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onSortEnd=function(t){var n=t.oldIndex,a=t.newIndex;e.props.direction.moveSprite(n,a),e.forceUpdate()},e.onAddSprite=function(){var t=e.props,n=t.resourceSources,a=t.onChooseResource,r=t.project,o=t.direction;if(n){var i=n.filter((function(e){return"image"===e.kind}));if(i.length){var s=N(o),c=s.allDirectionSpritesHaveSameCollisionMasks,l=s.allDirectionSpritesHaveSamePoints;a(i[0].name).then((function(t){t.forEach((function(e){Object(y.b)(r,e),r.getResourcesManager().addResource(e);var t=new C.Sprite;t.setImageName(e.getName()),l&&Object(E.g)(o.getSprite(0),t),c&&Object(E.h)(o.getSprite(0),t),o.addSprite(t)})),t.forEach((function(e){return e.delete()})),e.forceUpdate()}))}}},e.editWith=function(t){var n=e.props,a=n.project,r=n.direction,o=n.resourcesLoader,i=n.onReplaceByDirection,s=n.onChangeName,c=n.objectName,l=n.animationName,u=Object(p.mapFor)(0,r.getSpritesCount(),(function(e){return r.getSprite(e).getImageName()})),d=N(r),m=d.allDirectionSpritesHaveSameCollisionMasks,f=d.allDirectionSpritesHaveSamePoints,h={},g=r.getMetadata();if(g)try{h=JSON.parse(g)}catch(b){console.error("Malformed metadata",b)}t.edit({project:a,resourcesLoader:o,singleFrame:!1,resourceNames:u,extraOptions:{fps:r.getTimeBetweenFrames()>0?1/r.getTimeBetweenFrames():1,name:l||(u.length>0?x.basename(u[0],x.extname(u[0])):c),isLooping:r.isLooping(),externalEditorData:h},onChangesSaved:function(e){var t=new C.Direction;t.setTimeBetweenFrames(r.getTimeBetweenFrames()),t.setLoop(r.isLooping()),e.forEach((function(e){var n=new C.Sprite;if(n.setImageName(e.name),void 0!==e.originalIndex&&null!==e.originalIndex){var a=r.getSprite(e.originalIndex);Object(E.g)(a,n),Object(E.h)(a,n)}else f&&Object(E.g)(r.getSprite(0),n),m&&Object(E.h)(r.getSprite(0),n);t.addSprite(n),n.delete()})),e[0].metadata&&t.setMetadata(JSON.stringify(e[0].metadata)),o.burstUrlsCacheForResources(a,u),i(t),e[0].newAnimationName&&s(e[0].newAnimationName),t.delete()}})},e}return Object(r.a)(n,[{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(b.b,{justifyContent:"flex-end",smallest:!0},d.a.createElement(g.a,{direction:this.props.direction,resourcesLoader:this.props.resourcesLoader,project:this.props.project,resourceExternalEditors:this.props.resourceExternalEditors,onEditWith:this.editWith})),d.a.createElement(w,{resourcesLoader:this.props.resourcesLoader,direction:this.props.direction,project:this.props.project,onSortEnd:this.onSortEnd,onAddSprite:this.onAddSprite,selectedSprites:this.props.selectedSprites,onSelectSprite:this.props.onSelectSprite,onSpriteContextMenu:this.props.onSpriteContextMenu,helperClass:"sortable-helper",lockAxis:"x",axis:"x"}))}}]),n}(u.Component)}).call(this,n(1))},1852:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(97),d=n(79),m=n(92),p=n(1853),f=n(1856),h=n(329),g=n(330),b=n(862),v=n(3),E=n(563),y=n.n(E),j=e.gd,O=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={animationIndex:0,directionIndex:0,spriteIndex:0,samePointsForAnimations:!0,samePointsForSprites:!0},e._updatePoints=function(){var t=e.props.object,n=e.state,a=n.animationIndex,r=n.directionIndex,o=n.spriteIndex,i=j.asSpriteObject(t),s=Object(g.k)(i,a,r,o),c=s.animation,l=s.sprite;c&&l&&(e.state.samePointsForAnimations?Object(m.mapFor)(0,i.getAnimationsCount(),(function(e){var t=i.getAnimation(e);Object(g.f)(l,t)})):e.state.samePointsForSprites&&Object(g.f)(l,c)),e.forceUpdate(),e.props.onPointsUpdated&&e.props.onPointsUpdated()},e.chooseAnimation=function(t){e.setState({animationIndex:t,directionIndex:0,spriteIndex:0},(function(){return e._updateSamePointsToggles()}))},e.chooseDirection=function(t){e.setState({directionIndex:t,spriteIndex:0})},e.chooseSprite=function(t){e.setState({spriteIndex:t})},e._updateSamePointsToggles=function(){var t=e.props.object,n=e.state,a=n.animationIndex,r=n.directionIndex,o=n.spriteIndex,i=j.asSpriteObject(t),s=Object(g.k)(i,a,r,o),c=s.animation,l=s.sprite;c&&l&&e.setState({samePointsForAnimations:y()(Object(m.mapFor)(0,i.getAnimationsCount(),(function(e){var t=i.getAnimation(e);return Object(g.d)(l,t)}))),samePointsForSprites:Object(g.d)(l,c)})},e._setSamePointsForAllAnimations=function(t){if(t&&!v.b.showConfirmDialog("Having the same points for all animations will erase and reset all the other animations points. This can't be undone. Are you sure you want to share these points amongst all the animations of the object?"))return;e.setState({samePointsForAnimations:t,samePointsForSprites:!!t||e.state.samePointsForSprites},(function(){e._updatePoints()}))},e._setSamePointsForAllSprites=function(t){if(t&&!v.b.showConfirmDialog("Having the same points for all frames will erase and reset all the other frames points. This can't be undone. Are you sure you want to share these points amongst all the frames of the animation?"))return;e.setState({samePointsForAnimations:!!t&&e.state.samePointsForAnimations,samePointsForSprites:t},(function(){e._updatePoints()}))},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this._updateSamePointsToggles()}},{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.resourcesLoader,r=t.project,o=this.state,i=o.samePointsForAnimations,c=o.samePointsForSprites,m=o.animationIndex,v=o.directionIndex,E=o.spriteIndex,y=j.asSpriteObject(n);if(!n.getAnimationsCount())return null;var O=Object(g.k)(y,m,v,E),C=O.hasValidSprite,x=O.sprite;return l.a.createElement("div",null,l.a.createElement(h.a,{resourceName:C?x.getImageName():"",resourcesLoader:a,project:r,renderOverlay:function(t){var n=t.imageWidth,a=t.imageHeight,r=t.imageZoomFactor;return C&&l.a.createElement(f.a,{imageWidth:n,imageHeight:a,imageZoomFactor:r,pointsContainer:x,onPointsUpdated:e._updatePoints})}}),l.a.createElement(d.b,null,l.a.createElement(d.a,{expand:!0},l.a.createElement(b.a,{spriteObject:y,animationIndex:m,directionIndex:v,spriteIndex:E,chooseAnimation:this.chooseAnimation,chooseDirection:this.chooseDirection,chooseSprite:this.chooseSprite,sameForAllAnimations:i,sameForAllSprites:c,setSameForAllAnimations:this._setSamePointsForAllAnimations,setSameForAllSprites:this._setSamePointsForAllSprites,setSameForAllAnimationsLabel:l.a.createElement(s.Trans,{id:"Share same points for all animations"}),setSameForAllSpritesLabel:l.a.createElement(s.Trans,{id:"Share same points for all sprites of this animation"})}))),!!x&&l.a.createElement(p.a,{pointsContainer:x,onPointsUpdated:this._updatePoints}),!x&&l.a.createElement(u.a,null,l.a.createElement(s.Trans,{id:"Choose an animation and frame to edit the points"})))}}]),n}(c.Component)}).call(this,n(1))},1853:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a=n(100),r=n(83),o=n(6),i=n(12),s=n(23),c=n(22),l=n(2),u=n.n(l),d=n(161),m=n(211),p=n(130),f=n(92),h=n(3),g=n(564),b=n(1854),v=n(1855),E=e.gd,y=Object(m.SortableElement)(v.a),j=Object(m.SortableElement)(b.a),O=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={nameErrors:{}},e.updateOriginPointX=function(t){e.props.pointsContainer.getOrigin().setX(t),e._onPointsUpdated()},e.updateOriginPointY=function(t){e.props.pointsContainer.getOrigin().setY(t),e._onPointsUpdated()},e.updateCenterPointX=function(t){e.props.pointsContainer.getCenter().setX(t),e._onPointsUpdated()},e.updateCenterPointY=function(t){e.props.pointsContainer.getCenter().setY(t),e._onPointsUpdated()},e.updatePointX=function(t,n){t.setX(n),e._onPointsUpdated()},e.updatePointY=function(t,n){t.setY(n),e._onPointsUpdated()},e}return Object(i.a)(n,[{key:"_onPointsUpdated",value:function(){this.forceUpdate(),this.props.onPointsUpdated()}},{key:"render",value:function(){var e=this,t=this.props.pointsContainer,n=t.getAllNonDefaultPoints(),o=Object(f.mapVector)(n,(function(n,a){var o=n.getName();return u.a.createElement(j,{index:a,disabled:!0,key:"point-"+o,pointX:n.getX(),pointY:n.getY(),onChangePointX:function(t){return e.updatePointX(n,t)},onChangePointY:function(t){return e.updatePointY(n,t)},pointName:o,nameError:e.state.nameErrors[o],onBlur:function(a){var i=a.target.value;if(o!==i){var s=!0;t.hasPoint(i)?s=!1:n.setName(i),e.setState({nameErrors:Object(r.a)(Object(r.a)({},e.state.nameErrors),{},{[o]:!s})})}},onRemove:function(){h.b.showConfirmDialog("Are you sure you want to remove this point? This can't be undone.")&&(t.delPoint(o),e._onPointsUpdated())}})})),i=t.getOrigin(),s=t.getCenter(),c=u.a.createElement(j,{index:0,key:"origin-point-row",pointName:"Origin",pointX:i.getX(),pointY:i.getY(),onChangePointX:this.updateOriginPointX,onChangePointY:this.updateOriginPointY,disabled:!0}),l=u.a.createElement(j,{index:1,key:"center-point-row",pointName:"Center",isAutomatic:t.isDefaultCenterPoint(),pointX:s.getX(),pointY:s.getY(),onChangePointX:this.updateCenterPointX,onChangePointY:this.updateCenterPointY,disabled:!0,onEdit:t.isDefaultCenterPoint()?function(){t.setDefaultCenterPoint(!1),e._onPointsUpdated()}:null,onRemove:t.isDefaultCenterPoint()?null:function(){t.setDefaultCenterPoint(!0),e._onPointsUpdated()}}),m=u.a.createElement(y,{index:0,key:"add-point-row",disabled:!0,onAdd:function(){var n=Object(p.a)("Point",(function(e){return t.hasPoint(e)})),a=new E.Point(n);t.addPoint(a),a.delete(),e._onPointsUpdated()}});return u.a.createElement(d.b,null,[c,l].concat(Object(a.a)(o),[m]))}}]),n}(l.Component),C=Object(m.SortableContainer)(O);C.muiName="TableBody";var x=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return u.a.createElement(d.a,null,u.a.createElement(d.c,null,u.a.createElement(d.e,null,u.a.createElement(d.d,{style:g.a.handleColumn}),u.a.createElement(d.d,null,"Point name"),u.a.createElement(d.d,{style:g.a.coordinateColumn},"X"),u.a.createElement(d.d,{style:g.a.coordinateColumn},"Y"),u.a.createElement(d.f,{style:g.a.toolColumn}))),u.a.createElement(C,{pointsContainer:this.props.pointsContainer,onPointsUpdated:this.props.onPointsUpdated,onSortEnd:function(e){e.oldIndex,e.newIndex},helperClass:"sortable-helper",useDragHandle:!0,lockToContainerEdges:!0}))}}]),n}(l.Component)}).call(this,n(1))},1854:function(e,t,n){"use strict";var a=n(77),r=n(2),o=n.n(r),i=n(161),s=n(103),c=n(199),l=n.n(c),u=n(495),d=n.n(u),m=n(99),p=n(564),f=n(104),h=n(85);t.a=function(e){var t=e.pointName,n=e.nameError,r=e.onBlur,c=e.onRemove,u=e.pointX,g=e.pointY,b=e.onChangePointX,v=e.onChangePointY,E=e.onEdit,y=e.isAutomatic;return o.a.createElement(f.a,null,(function(e){return o.a.createElement(i.e,{style:{backgroundColor:e.list.itemsBackgroundColor}},o.a.createElement(i.f,{style:p.a.handleColumn}),o.a.createElement(i.f,null,o.a.createElement(m.b,{margin:"none",defaultValue:t||"Base layer",id:t,fullWidth:!0,errorText:n?"This name is already taken":void 0,disabled:!r,onBlur:r})),o.a.createElement(i.f,{style:p.a.coordinateColumn},y?o.a.createElement(h.a,{noMargin:!0},o.a.createElement(a.Trans,{id:"(auto)"})):o.a.createElement(m.b,{margin:"none",value:u,type:"number",id:"point-x",onChange:function(e,t){return b(parseFloat(t||0,10))}})),o.a.createElement(i.f,{style:p.a.coordinateColumn},y?o.a.createElement(h.a,{noMargin:!0},o.a.createElement(a.Trans,{id:"(auto)"})):o.a.createElement(m.b,{margin:"none",value:g,type:"number",id:"point-y",onChange:function(e,t){return v(parseFloat(t||0,10))}})),o.a.createElement(i.f,{style:p.a.toolColumn},!!c&&o.a.createElement(s.a,{size:"small",onClick:c},o.a.createElement(l.a,null)),!!E&&o.a.createElement(s.a,{size:"small",onClick:E},o.a.createElement(d.a,null))))}))}},1855:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(161),i=n(149),s=n.n(i),c=n(103),l=n(564);t.a=function(e){var t=e.onAdd;return r.a.createElement(o.e,null,r.a.createElement(o.f,{style:l.a.handleColumn}),r.a.createElement(o.f,null),r.a.createElement(o.f,{style:l.a.coordinateColumn}),r.a.createElement(o.f,{style:l.a.coordinateColumn}),r.a.createElement(o.f,{style:l.a.toolColumn},r.a.createElement(c.a,{size:"small",onClick:t},r.a.createElement(s.a,null))))}},1856:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(92),u={container:{position:"relative",width:"100%",height:"100%"}},d=1,m=2,p=3,f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={draggedPoint:null,draggedPointKind:null},e._onStartDragPoint=function(t,n){e.state.draggedPoint||e.setState({draggedPoint:t,draggedPointKind:n})},e._onEndDragPoint=function(){var t=!!e.state.draggedPoint;e.setState({draggedPoint:null,draggedPointKind:null},(function(){t&&e.props.onPointsUpdated()}))},e._onMouseMove=function(t){var n=e.state,a=n.draggedPoint,r=n.draggedPointKind;if(a&&e._container){var o=e._container.getBoundingClientRect(),i=t.clientX-o.left,s=t.clientY-o.top;r===p&&e.props.pointsContainer.setDefaultCenterPoint(!1),a.setX(i/e.props.imageZoomFactor),a.setY(s/e.props.imageZoomFactor),e.forceUpdate()}},e._renderPoint=function(t,n,a,r,o){var i=r===m?"res/originPoint.png":r===p?"res/centerPoint.png":"res/point.png";return c.a.createElement("img",{src:i,style:{position:"absolute",left:n,top:a,transform:"translate(-6px, -5px)",cursor:"move"},alt:"",key:t,onPointerDown:function(){e._onStartDragPoint(o,r)}})},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.pointsContainer,a=t.imageWidth,r=t.imageHeight,o=t.imageZoomFactor,i=n.getAllNonDefaultPoints(),s=Object(l.mapVector)(i,(function(t,n){return e._renderPoint(t.getName(),t.getX()*o,t.getY()*o,d,t)})),f=n.getOrigin(),h=n.getCenter(),g=n.isDefaultCenterPoint();return c.a.createElement("div",{style:u.container,onPointerMove:this._onMouseMove,onPointerUp:this._onEndDragPoint,ref:function(t){return e._container=t}},s,this._renderPoint("Origin",f.getX()*o,f.getY()*o,m,f),this._renderPoint("Center",(g?a/2:h.getX())*o,(g?r/2:h.getY())*o,p,h))}}]),n}(c.a.Component)},1857:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(87),d=n(97),m=n(79),p=n(92),f=n(1858),h=n(1863),g=n(329),b=n(330),v=n(862),E=n(3),y=n(563),j=n.n(y),O=e.gd,C=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={animationIndex:0,directionIndex:0,spriteIndex:0,sameCollisionMasksForAnimations:!0,sameCollisionMasksForSprites:!0,spriteWidth:0,spriteHeight:0},e._updateCollisionMasks=function(){var t=e.props.object,n=e.state,a=n.animationIndex,r=n.directionIndex,o=n.spriteIndex,i=O.asSpriteObject(t),s=Object(b.k)(i,a,r,o),c=s.animation,l=s.sprite;c&&l&&(e.state.sameCollisionMasksForAnimations?Object(p.mapFor)(0,i.getAnimationsCount(),(function(e){var t=i.getAnimation(e);Object(b.e)(l,t)})):e.state.sameCollisionMasksForSprites&&Object(b.e)(l,c)),e.forceUpdate(),e.props.onCollisionMasksUpdated&&e.props.onCollisionMasksUpdated()},e.chooseAnimation=function(t){e.setState({animationIndex:t,directionIndex:0,spriteIndex:0},(function(){return e._updateSameCollisionMasksToggles()}))},e.chooseDirection=function(t){e.setState({directionIndex:t,spriteIndex:0})},e.chooseSprite=function(t){e.setState({spriteIndex:t})},e._updateSameCollisionMasksToggles=function(){var t=e.props.object,n=e.state,a=n.animationIndex,r=n.directionIndex,o=n.spriteIndex,i=O.asSpriteObject(t),s=Object(b.k)(i,a,r,o),c=s.animation,l=s.sprite;c&&l&&e.setState({sameCollisionMasksForAnimations:j()(Object(p.mapFor)(0,i.getAnimationsCount(),(function(e){var t=i.getAnimation(e);return Object(b.c)(l,t)}))),sameCollisionMasksForSprites:Object(b.c)(l,c)})},e._onSetCollisionMaskAutomatic=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=e.props.object,a=e.state,r=a.animationIndex,o=a.directionIndex,i=a.spriteIndex,s=O.asSpriteObject(n),c=Object(b.k)(s,r,o,i),l=c.sprite;l&&(l.setCollisionMaskAutomatic(t),e._updateCollisionMasks())},e._setSameCollisionMasksForAllAnimations=function(t){if(t&&!E.b.showConfirmDialog("Having the same collision masks for all animations will erase and reset all the other animations collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the animations of the object?"))return;e.setState({sameCollisionMasksForAnimations:t,sameCollisionMasksForSprites:!!t||e.state.sameCollisionMasksForSprites},(function(){e._updateCollisionMasks()}))},e._setSameCollisionMasksForAllSprites=function(t){if(t&&!E.b.showConfirmDialog("Having the same collision masks for all frames will erase and reset all the other frames collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the frames of the animation?"))return;e.setState({sameCollisionMasksForAnimations:!!t&&e.state.sameCollisionMasksForAnimations,sameCollisionMasksForSprites:t},(function(){e._updateCollisionMasks()}))},e._setCurrentSpriteSize=function(t,n){e.setState({spriteWidth:t,spriteHeight:n})},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this._updateSameCollisionMasksToggles()}},{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.resourcesLoader,r=t.project,o=this.state,i=o.sameCollisionMasksForAnimations,c=o.sameCollisionMasksForSprites,p=o.animationIndex,E=o.directionIndex,y=o.spriteIndex,j=o.spriteWidth,C=o.spriteHeight,x=O.asSpriteObject(n);if(!n.getAnimationsCount())return null;var T=Object(b.k)(x,p,E,y),S=T.hasValidSprite,k=T.sprite;return l.a.createElement("div",null,l.a.createElement(g.a,{resourceName:S?k.getImageName():"",resourcesLoader:a,project:r,onSize:this._setCurrentSpriteSize,renderOverlay:function(t){var n=t.imageWidth,a=t.imageHeight,r=t.imageZoomFactor;return S&&l.a.createElement(h.a,{imageWidth:n,imageHeight:a,imageZoomFactor:r,isDefaultBoundingBox:k.isCollisionMaskAutomatic(),polygons:k.getCustomCollisionMask(),onPolygonsUpdated:e._updateCollisionMasks})}}),l.a.createElement(m.b,null,l.a.createElement(m.a,{expand:!0},l.a.createElement(v.a,{spriteObject:x,animationIndex:p,directionIndex:E,spriteIndex:y,chooseAnimation:this.chooseAnimation,chooseDirection:this.chooseDirection,chooseSprite:this.chooseSprite,sameForAllAnimations:i,sameForAllSprites:c,setSameForAllAnimations:this._setSameCollisionMasksForAllAnimations,setSameForAllSprites:this._setSameCollisionMasksForAllSprites,setSameForAllAnimationsLabel:l.a.createElement(s.Trans,{id:"Share same collision masks for all animations"}),setSameForAllSpritesLabel:l.a.createElement(s.Trans,{id:"Share same collision masks for all sprites of this animation"})}))),!!k&&!k.isCollisionMaskAutomatic()&&l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{polygons:k.getCustomCollisionMask(),onPolygonsUpdated:this._updateCollisionMasks,spriteWidth:j,spriteHeight:C}),l.a.createElement(m.b,{justifyContent:"center"},l.a.createElement(u.a,{label:l.a.createElement(s.Trans,{id:"Restore the default collision mask"}),primary:!1,onClick:function(){return e._onSetCollisionMaskAutomatic(!0)}}))),!!k&&k.isCollisionMaskAutomatic()&&l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,null,l.a.createElement(s.Trans,{id:"This sprite uses the default collision mask, a rectangle that is as large as the sprite."})),l.a.createElement(m.b,{justifyContent:"center"},l.a.createElement(u.a,{label:l.a.createElement(s.Trans,{id:"Use a custom collision mask"}),primary:!1,onClick:function(){return e._onSetCollisionMaskAutomatic(!1)}}))),!k&&l.a.createElement(d.a,null,l.a.createElement(s.Trans,{id:"Choose an animation and frame to edit the collision masks"})))}}]),n}(c.Component)}).call(this,n(1))},1858:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var a=n(100),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n.n(c),u=n(169),d=n.n(u),m=n(161),p=n(211),f=n(92),h=n(331),g=n(1859),b=n(1860),v=n(1861),E=n(1862),y=e.gd,j=Object(p.SortableElement)(E.a),O=Object(p.SortableElement)(v.a),C=Object(p.SortableElement)(g.a),x=Object(p.SortableElement)(b.a),T=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).updateVerticeX=function(t,n){t.set_x(Math.min(e.props.spriteWidth,Math.max(n,0))),e._onPolygonUpdated()},e.updateVerticeY=function(t,n){t.set_y(Math.min(e.props.spriteHeight,Math.max(n,0))),e._onPolygonUpdated()},e}return Object(o.a)(n,[{key:"_onPolygonUpdated",value:function(){this.forceUpdate(),this.props.onPolygonsUpdated()}},{key:"render",value:function(){var e=this,t=this.props.polygons,n=d()(Object(f.mapVector)(t,(function(n,a){var r=n.getVertices(),o=n.isConvex();return[l.a.createElement(x,{index:a,disabled:!0,key:"polygon-"+a,polygon:n,onRemove:function(){y.removeFromVectorPolygon2d(t,a),e._onPolygonUpdated()},isConvex:o,verticesCount:r.size()}),Object(f.mapVector)(r,(function(t,i){return l.a.createElement(C,{index:a,disabled:!0,key:"polygon-".concat(a,"-vertice-").concat(i),verticeX:t.get_x(),verticeY:t.get_y(),onChangeVerticeX:function(n){return e.updateVerticeX(t,n)},onChangeVerticeY:function(n){return e.updateVerticeY(t,n)},onRemove:function(){y.removeFromVectorVector2f(n.getVertices(),i),e._onPolygonUpdated()},canRemove:r.size()>3,hasWarning:!o})})),l.a.createElement(O,{index:0,key:"polygon-".concat(a,"-add-vertice-row"),disabled:!0,onAdd:function(){var t=new y.Vector2f;n.getVertices().push_back(t),t.delete(),e._onPolygonUpdated()}})]}))),r=l.a.createElement(j,{index:0,key:"add-polygon-row",disabled:!0,onAdd:function(){var n=y.Polygon2d.createRectangle(32,32);n.move(e.props.spriteWidth/2,e.props.spriteHeight/2),t.push_back(n),e._onPolygonUpdated()}});return l.a.createElement(m.b,null,[].concat(Object(a.a)(n),[r]))}}]),n}(c.Component),S=Object(p.SortableContainer)(T);S.muiName="TableBody";var k=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement(m.c,null,l.a.createElement(m.e,null,l.a.createElement(m.d,{style:h.a.handleColumn}),l.a.createElement(m.d,null,"Polygon"),l.a.createElement(m.d,{style:h.a.coordinateColumn},"X"),l.a.createElement(m.d,{style:h.a.coordinateColumn},"Y"),l.a.createElement(m.f,{style:h.a.toolColumn}))),l.a.createElement(S,{polygons:this.props.polygons,onPolygonsUpdated:this.props.onPolygonsUpdated,spriteWidth:this.props.spriteWidth,spriteHeight:this.props.spriteHeight,onSortEnd:function(e){e.oldIndex,e.newIndex},helperClass:"sortable-helper",useDragHandle:!0,lockToContainerEdges:!0}))}}]),n}(c.Component)}).call(this,n(1))},1859:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(161),i=n(103),s=n(199),c=n.n(s),l=n(99),u=n(303),d=n.n(u),m=n(331),p=n(104);t.a=function(e){var t=e.hasWarning,n=e.canRemove,a=e.onRemove,s=e.verticeX,u=e.verticeY,f=e.onChangeVerticeX,h=e.onChangeVerticeY;return r.a.createElement(p.a,null,(function(e){return r.a.createElement(o.e,{style:{backgroundColor:e.list.itemsBackgroundColor}},r.a.createElement(o.f,{style:m.a.handleColumn}),r.a.createElement(o.f,null,t&&r.a.createElement(d.a,null)),r.a.createElement(o.f,{style:m.a.coordinateColumn},r.a.createElement(l.b,{margin:"none",value:s,type:"number",id:"vertice-x",onChange:function(e,t){return f(parseFloat(t||0,10))}})),r.a.createElement(o.f,{style:m.a.coordinateColumn},r.a.createElement(l.b,{margin:"none",value:u,type:"number",id:"vertice-y",onChange:function(e,t){return h(parseFloat(t||0,10))}})),r.a.createElement(o.f,{style:m.a.toolColumn},!!a&&r.a.createElement(i.a,{size:"small",onClick:a,disabled:!n},r.a.createElement(c.a,null))))}))}},186:function(e,t,n){"use strict";(function(e){n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return f}));var a=n(92),r=n(169),o=n.n(r),i=n(269),s=e.gd,c=function(e){return function(t){return e&&t&&e.global===t.global&&e.object===t.object}},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=function(a){return!n||s.getTypeOfObject(e,t,a.getName(),!1)===n},o=Object(a.mapFor)(0,t.getObjectsCount(),(function(e){return t.getObjectAt(e)})).filter(r).map((function(e){return{object:e,global:!1}})),i=e===t?[]:Object(a.mapFor)(0,e.getObjectsCount(),(function(t){return e.getObjectAt(t)})).filter(r).map((function(e){return{object:e,global:!0}})),c=o.concat(i);return{containerObjectsList:o,projectObjectsList:i,allObjectsList:c}},u=function(e){var t=e.getCurrentPlatform().getAllPlatformExtensions();return o()(Object(a.mapFor)(0,t.size(),(function(e){var n=t.at(e);return n.getExtensionObjectsTypes().toJSArray().map((function(e){return n.getObjectMetadata(e)})).map((function(e){return{extension:n,objectMetadata:e,name:e.getName(),fullName:e.getFullName(),description:e.getDescription(),iconFilename:e.getIconFilename()}}))})))},d=function(e,t){var n=t.searchText,a=t.selectedTags;if(!n&&!a.length)return e;var r=n.toLowerCase();return e.filter((function(e){if(!a.length)return!0;var t=e.object.getTags();return Object(i.d)(t,a)})).filter((function(e){return-1!==e.object.getName().toLowerCase().indexOf(r)}))},m=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.group.getName().toLowerCase().indexOf(n)}))},p=function(e){return Object(a.mapFor)(0,e.count(),(function(t){return e.getAt(t)}))},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=function(a){return!n||s.getTypeOfObject(e,t,a.getName(),!1)===n},o=function(a){return!n||s.getTypeOfObject(e,t,a.getName(),!0)===n},i=Object(a.mapFor)(0,t.getObjectsCount(),(function(e){return t.getObjectAt(e)})).filter(r).map((function(e){return{object:e,global:!1}})),c=t.getObjectGroups(),l=p(c).filter(o).map((function(e){return{group:e,global:!1}})),u=e===t?[]:Object(a.mapFor)(0,e.getObjectsCount(),(function(t){return e.getObjectAt(t)})).filter(r).map((function(e){return{object:e,global:!0}})),d=e.getObjectGroups(),m=e===t?[]:p(d).filter(o).map((function(e){return{group:e,global:!0}})),f=i.concat(u),h=l.concat(m);return{containerObjectsList:i,projectObjectsList:u,allObjectsList:f,containerGroupsList:l,projectGroupsList:m,allGroupsList:h}}}).call(this,n(1))},1860:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(161),i=n(103),s=n(199),c=n.n(s),l=n(331),u=n(104);t.a=function(e){var t=e.onRemove,n=e.isConvex,a=e.verticesCount;return r.a.createElement(u.a,null,(function(e){return r.a.createElement(o.e,{style:{backgroundColor:e.list.itemsBackgroundColor}},r.a.createElement(o.f,{style:l.a.handleColumn}),n&&r.a.createElement(o.f,null,3===a&&"Triangle",4===a&&"Quadrilateral",a>=5&&"Polygon with ".concat(a," vertices")),!n&&r.a.createElement(o.f,null,"Polygon is not convex!"),r.a.createElement(o.f,{style:l.a.coordinateColumn}),r.a.createElement(o.f,{style:l.a.coordinateColumn}),r.a.createElement(o.f,{style:l.a.toolColumn},!!t&&r.a.createElement(i.a,{size:"small",onClick:t},r.a.createElement(c.a,null))))}))}},1861:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(161),i=n(468),s=n.n(i),c=n(103),l=n(331);t.a=function(e){var t=e.onAdd;return r.a.createElement(o.e,null,r.a.createElement(o.f,{style:l.a.handleColumn}),r.a.createElement(o.f,null),r.a.createElement(o.f,{style:l.a.coordinateColumn}),r.a.createElement(o.f,{style:l.a.coordinateColumn}),r.a.createElement(o.f,{style:l.a.toolColumn},r.a.createElement(c.a,{size:"small",onClick:t},r.a.createElement(s.a,null))))}},1862:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(161),i=n(149),s=n.n(i),c=n(103),l=n(331);t.a=function(e){var t=e.onAdd;return r.a.createElement(o.e,null,r.a.createElement(o.f,{style:l.a.handleColumn}),r.a.createElement(o.f,null),r.a.createElement(o.f,{style:l.a.coordinateColumn}),r.a.createElement(o.f,{style:l.a.coordinateColumn}),r.a.createElement(o.f,{style:l.a.toolColumn},r.a.createElement(c.a,{size:"small",onClick:t},r.a.createElement(s.a,null))))}},1863:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(92),l={container:{position:"relative"},svg:{width:"100%",height:"100%"},vertexCircle:{cursor:"move"}},u=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={draggedVertex:null},e._onStartDragVertex=function(t){e.state.draggedVertex||e.setState({draggedVertex:t})},e._onEndDragVertex=function(){var t=!!e.state.draggedVertex;e.setState({draggedVertex:null},(function(){t&&e.props.onPolygonsUpdated()}))},e._onPointerMove=function(t){var n=e.state.draggedVertex;if(n){var a=e._svg.createSVGPoint();a.x=t.clientX,a.y=t.clientY;var r=e._svg.getScreenCTM().inverse(),o=a.matrixTransform(r);n.set_x(o.x/e.props.imageZoomFactor),n.set_y(o.y/e.props.imageZoomFactor),e.forceUpdate()}},e}return Object(r.a)(n,[{key:"_renderBoundingBox",value:function(){var e=this.props,t=e.imageWidth,n=e.imageHeight,a=e.imageZoomFactor;return s.createElement("polygon",{fill:"rgba(255,0,0,0.2)",stroke:"rgba(255,0,0,0.5)",strokeWidth:1,fileRule:"evenodd",points:"0,0 ".concat(t*a,",0 ").concat(t*a,",").concat(n*a," 0,").concat(n*a)})}},{key:"_renderPolygons",value:function(){var e=this,t=this.props,n=t.polygons,a=t.imageZoomFactor;return s.createElement(s.Fragment,null,Object(c.mapVector)(n,(function(e,t){var n=e.getVertices();return s.createElement("polygon",{key:"polygon-".concat(t),fill:"rgba(255,0,0,0.2)",stroke:"rgba(255,0,0,0.5)",strokeWidth:1,fileRule:"evenodd",points:Object(c.mapVector)(n,(function(e,t){return"".concat(e.get_x()*a,",").concat(e.get_y()*a)})).join(" ")})})),Object(c.mapVector)(n,(function(t,n){var r=t.getVertices();return Object(c.mapVector)(r,(function(t,r){return s.createElement("circle",{onPointerDown:function(n){return e._onStartDragVertex(t)},key:"polygon-".concat(n,"-vertex-").concat(r),fill:"rgba(255,0,0,0.75)",strokeWidth:1,cx:t.get_x()*a,cy:t.get_y()*a,r:5,style:l.vertexCircle})}))})))}},{key:"render",value:function(){var e=this,t=this.props.isDefaultBoundingBox;return s.createElement("svg",{onPointerMove:this._onPointerMove,onPointerUp:this._onEndDragVertex,width:this.props.imageWidth*this.props.imageZoomFactor,height:this.props.imageHeight*this.props.imageZoomFactor,style:l.svg,ref:function(t){return e._svg=t}},t&&this._renderBoundingBox(),!t&&this._renderPolygons())}}]),n}(s.Component)},1864:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(79),u=n(97),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return c.createElement(l.a,null,c.createElement(l.b,null,c.createElement(u.a,null,c.createElement(s.Trans,{id:"This object does not have any specific configuration. Add it on the scene and use events to interact with it."}))))}}]),n}(c.Component)},1865:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(159),u=n(258),d=n(109),m=n(96),p=e.gd,f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props.object,n=p.asShapePainterObject(t);return c.createElement(m.a,null,c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Draw the shapes relative to the object position on the scene"}),checked:!n.areCoordinatesAbsolute(),onCheck:function(t,a){a?n.setCoordinatesRelative():n.setCoordinatesAbsolute(),e.forceUpdate()}}),c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Clear the rendered image between each frame"}),checked:n.isClearedBetweenFrames(),onCheck:function(t,a){n.setClearBetweenFrames(a),e.forceUpdate()}}),c.createElement(m.b,{noMargin:!0},c.createElement(u.a,{floatingLabelText:c.createElement(s.Trans,{id:"Outline color"}),disableAlpha:!0,fullWidth:!0,color:{r:n.getOutlineColorR(),g:n.getOutlineColorG(),b:n.getOutlineColorB(),a:255},onChangeComplete:function(t){n.setOutlineColor(t.rgb.r,t.rgb.g,t.rgb.b),e.forceUpdate()}}),c.createElement(d.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Outline opacity (0-255)"}),fullWidth:!0,type:"number",value:n.getOutlineOpacity(),onChange:function(t){n.setOutlineOpacity(parseInt(t,10)||0),e.forceUpdate()}}),c.createElement(d.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Outline size (in pixels)"}),fullWidth:!0,type:"number",value:n.getOutlineSize(),onChange:function(t){n.setOutlineSize(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(m.b,{noMargin:!0},c.createElement(u.a,{floatingLabelText:c.createElement(s.Trans,{id:"Fill color"}),disableAlpha:!0,fullWidth:!0,color:{r:n.getFillColorR(),g:n.getFillColorG(),b:n.getFillColorB(),a:255},onChangeComplete:function(t){n.setFillColor(t.rgb.r,t.rgb.g,t.rgb.b),e.forceUpdate()}}),c.createElement(d.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Fill opacity (0-255)"}),fullWidth:!0,type:"number",value:n.getFillOpacity(),onChange:function(t){n.setFillOpacity(parseInt(t,10)||0),e.forceUpdate()}})))}}]),n}(c.Component)}).call(this,n(1))},1866:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(159),u=n(117),d=n(118),m=n(258),p=n(109),f=n(427),h=n(96),g=n(399),b=n(209),v=e.gd,E=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.project,r=t.resourceSources,o=t.onChooseResource,i=t.resourceExternalEditors,E=v.asParticleEmitterObject(n),y=Object(b.h)(n.getType());return c.createElement(h.a,null,y.map((function(e){return c.createElement(g.a,{key:e.identifier,tutorialHint:e})})),c.createElement(u.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particles kind"}),value:E.getRendererType(),onChange:function(t,n,a){var r=parseInt(a,10)||0;E.setRendererType(r),r!==v.ParticleEmitterObject.Quad&&E.setParticleTexture(""),e.forceUpdate()}},c.createElement(d.a,{value:v.ParticleEmitterObject.Point,primaryText:{id:"Point"}}),c.createElement(d.a,{value:v.ParticleEmitterObject.Line,primaryText:{id:"Line"}}),c.createElement(d.a,{value:v.ParticleEmitterObject.Quad,primaryText:{id:"Textured"}})),E.getRendererType()===v.ParticleEmitterObject.Point&&c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Size"}),fullWidth:!0,type:"number",value:E.getRendererParam1(),onChange:function(t){E.setRendererParam1(parseFloat(t)),e.forceUpdate()}}),E.getRendererType()===v.ParticleEmitterObject.Line&&c.createElement(h.b,{noMargin:!0},c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Lines length"}),fullWidth:!0,type:"number",value:E.getRendererParam1(),onChange:function(t){E.setRendererParam1(parseFloat(t)),e.forceUpdate()}}),c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Lines thickness"}),fullWidth:!0,type:"number",value:E.getRendererParam2(),onChange:function(t){E.setRendererParam2(parseFloat(t)),e.forceUpdate()}})),E.getRendererType()===v.ParticleEmitterObject.Quad&&c.createElement(f.a,{project:a,resourceSources:r,onChooseResource:o,resourceKind:"image",resourceName:E.getParticleTexture(),resourceExternalEditors:i,onChange:function(t){E.setParticleTexture(t),e.forceUpdate()},floatingLabelText:c.createElement(s.Trans,{id:"Select an image"})}),E.getRendererType()===v.ParticleEmitterObject.Quad&&c.createElement(h.b,{noMargin:!0},c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particles start width"}),fullWidth:!0,type:"number",value:E.getRendererParam1(),onChange:function(t){E.setRendererParam1(Math.max(0,parseFloat(t))),e.forceUpdate()}}),c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particles start height"}),fullWidth:!0,type:"number",value:E.getRendererParam2(),onChange:function(t){E.setRendererParam2(Math.max(0,parseFloat(t))),e.forceUpdate()}})),c.createElement(h.b,{noMargin:!0},c.createElement(m.a,{floatingLabelText:c.createElement(s.Trans,{id:"Particles start color"}),disableAlpha:!0,fullWidth:!0,color:{r:E.getParticleRed1(),g:E.getParticleGreen1(),b:E.getParticleBlue1(),a:255},onChangeComplete:function(t){E.setParticleRed1(t.rgb.r),E.setParticleGreen1(t.rgb.g),E.setParticleBlue1(t.rgb.b),e.forceUpdate()}}),c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Start opacity (0-255)"}),fullWidth:!0,type:"number",value:E.getParticleAlpha1(),onChange:function(t){E.setParticleAlpha1(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(h.b,{noMargin:!0},c.createElement(m.a,{floatingLabelText:c.createElement(s.Trans,{id:"Particles end color"}),disableAlpha:!0,fullWidth:!0,color:{r:E.getParticleRed2(),g:E.getParticleGreen2(),b:E.getParticleBlue2(),a:255},onChangeComplete:function(t){E.setParticleRed2(t.rgb.r),E.setParticleGreen2(t.rgb.g),E.setParticleBlue2(t.rgb.b),e.forceUpdate()}}),c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"End opacity (0-255)"}),fullWidth:!0,type:"number",value:E.getParticleAlpha2(),onChange:function(t){E.setParticleAlpha2(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Additive rendering"}),checked:E.isRenderingAdditive(),onCheck:function(t,n){n?E.setRenderingAdditive():E.setRenderingAlpha(),e.forceUpdate()}}),c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Delete when out of particles"}),checked:E.getDestroyWhenNoParticles(),onCheck:function(t,n){E.setDestroyWhenNoParticles(n),e.forceUpdate()}}),c.createElement(h.b,{noMargin:!0},c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Maximum number of particles displayed"}),fullWidth:!0,type:"number",value:E.getMaxParticleNb(),onChange:function(t){E.setMaxParticleNb(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(h.b,{noMargin:!0},c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Number of particles in tank (-1 for infinite)"}),fullWidth:!0,type:"number",value:E.getTank(),onChange:function(t){E.setTank(parseInt(t,10)||0),e.forceUpdate()}}),c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Flow of particles (particles/seconds)"}),fullWidth:!0,type:"number",value:E.getFlow(),onChange:function(t){E.setFlow(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(h.b,{noMargin:!0},c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Minimum emitter force applied on particles"}),fullWidth:!0,type:"number",value:E.getEmitterForceMin(),onChange:function(t){E.setEmitterForceMin(parseInt(t,10)||0),e.forceUpdate()}}),c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Maximum emitter force applied on particles"}),fullWidth:!0,type:"number",value:E.getEmitterForceMax(),onChange:function(t){E.setEmitterForceMax(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(h.b,{noMargin:!0},c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Spray cone angle (in degrees)"}),fullWidth:!0,type:"number",value:E.getConeSprayAngle(),onChange:function(t){E.setConeSprayAngle(parseInt(t,10)||0),e.forceUpdate()}}),c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Radius of the emitter"}),fullWidth:!0,type:"number",value:E.getZoneRadius(),onChange:function(t){E.setZoneRadius(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(h.b,{noMargin:!0},c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Gravity on particles on X axis"}),fullWidth:!0,type:"number",value:E.getParticleGravityX(),onChange:function(t){E.setParticleGravityX(parseFloat(t)),e.forceUpdate()}}),c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Gravity on particles on Y axis"}),fullWidth:!0,type:"number",value:E.getParticleGravityY(),onChange:function(t){E.setParticleGravityY(parseFloat(t)),e.forceUpdate()}})),c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Friction on particles"}),fullWidth:!0,type:"number",value:E.getFriction(),onChange:function(t){E.setFriction(parseFloat(t)),e.forceUpdate()}}),c.createElement(h.b,{noMargin:!0},c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particle minimum lifetime (in seconds)"}),fullWidth:!0,type:"number",value:E.getParticleLifeTimeMin(),onChange:function(t){E.setParticleLifeTimeMin(parseFloat(t)),e.forceUpdate()}}),c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particle maximum lifetime (in seconds)"}),fullWidth:!0,type:"number",value:E.getParticleLifeTimeMax(),onChange:function(t){E.setParticleLifeTimeMax(parseFloat(t)),e.forceUpdate()}})),c.createElement(h.b,{noMargin:!0},c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particle start size (in percents)"}),fullWidth:!0,type:"number",value:E.getParticleSize1(),onChange:function(t){E.setParticleSize1(parseFloat(t)),e.forceUpdate()}}),c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particle end size (in percents)"}),fullWidth:!0,type:"number",value:E.getParticleSize2(),onChange:function(t){E.setParticleSize2(parseFloat(t)),e.forceUpdate()}})),c.createElement(h.b,{noMargin:!0},c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particle minimum rotation speed (degrees/second)"}),fullWidth:!0,type:"number",value:E.getParticleAngle1(),onChange:function(t){E.setParticleAngle1(parseFloat(t)),e.forceUpdate()}}),c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particle maximum rotation speed (degrees/second)"}),fullWidth:!0,type:"number",value:E.getParticleAngle2(),onChange:function(t){E.setParticleAngle2(parseFloat(t)),e.forceUpdate()}})))}}]),n}(c.Component)}).call(this,n(1))},1867:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(232),u=n(263),d=n(97),m=n(79),p=n(209),f=n(126),h=n(96),g=n(399),b=e.gd,v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.project,r=t.resourceSources,o=t.onChooseResource,i=t.resourceExternalEditors,v=b.castObject(n,b.gdObject),E=v.getProperties(),y=Object(u.a)(E,(function(e){return e.getProperties()}),(function(e,t,n){return e.updateProperty(t,n)})),j=Object(p.f)()[v.getType()],O=Object(p.h)(v.getType());return c.createElement(s.I18n,null,(function(t){var n=t.i18n;return c.createElement(h.a,null,O.map((function(e){return c.createElement(g.a,{key:e.identifier,tutorialHint:e})})),y.length?c.createElement(c.Fragment,null,j?c.createElement(m.b,null,c.createElement(m.a,{noMargin:!0},j.map((function(e,t){var a=e.kind,r=e.message;return c.createElement(f.a,{kind:a,key:t},n._(r))})))):null,c.createElement(l.a,{unsavedChanges:e.props.unsavedChanges,schema:y,instances:[v],project:a,resourceSources:r,onChooseResource:o,resourceExternalEditors:i})):c.createElement(d.a,null,c.createElement(s.Trans,{id:"There is nothing to configure for this object. You can still use events to interact with the object."})))}))}}]),n}(c.Component)}).call(this,n(1))},1868:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(99),d=n(149),m=n.n(d),p=n(199),f=n.n(p),h=n(103),g=n(97),b=n(188),v=n(634),E=n(130),y=n(1869),j=n(1871),O=n(2265),C=n(506),x=n(3),T=n(79),S=n(89),k=n(209),w=n(399),N=n(96),_=e.gd,P=function(e){var t=e.onAdd;return l.a.createElement(T.a,null,l.a.createElement(T.b,{justifyContent:"flex-end",expand:!0},l.a.createElement(S.a,{label:l.a.createElement(s.Trans,{id:"Add a behavior to the object"}),primary:!0,onClick:t,icon:l.a.createElement(m.a,null)})))},I=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={newBehaviorDialogOpen:!1},e.chooseNewBehavior=function(){e.setState({newBehaviorDialogOpen:!0})},e._hasBehaviorWithType=function(t){var n=e.props.object;return n.getAllBehaviorNames().toJSArray().map((function(e){return n.getBehavior(e)})).map((function(e){return e.getTypeName()})).filter((function(e){return e===t})).length},e.addBehavior=function(t,n){var a=e.props,r=a.object,o=a.project;e.setState({newBehaviorDialogOpen:!1},(function(){if(e._hasBehaviorWithType(t)&&!x.b.showConfirmDialog("There is already a behavior of this type attached to the object. It's possible to add again this behavior but it's unusual and may not be always supported properly. Are you sure you want to add again this behavior?"))return;var a=Object(E.a)(n,(function(e){return r.hasBehaviorNamed(e)}));r.addNewBehavior(o,t,a),e.forceUpdate(),e.props.onSizeUpdated&&e.props.onSizeUpdated(),e.props.onUpdateBehaviorsSharedData()}))},e._onChangeBehaviorName=function(t,n){var a=e.props.object;a.hasBehaviorNamed(n)||(a.renameBehavior(t.getName(),n),e.forceUpdate())},e._onRemoveBehavior=function(t){var n=e.props.object;x.b.showConfirmDialog("Are you sure you want to remove this behavior? This can't be undone.")&&(n.removeBehavior(t),e.forceUpdate(),e.props.onSizeUpdated&&e.props.onSizeUpdated())},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,a=t.project,r=n.getAllBehaviorNames().toJSArray();return l.a.createElement("div",null,r.map((function(t,r){var o=n.getBehavior(t),i=o.getTypeName(),c=_.JsPlatform.get().getBehavior(i);if(Object(C.a)(_,c))return l.a.createElement("div",{key:r},l.a.createElement(b.b,null,l.a.createElement(b.a,null,l.a.createElement(s.Trans,{id:"Unknown behavior"})," "),l.a.createElement(T.a,{noMargin:!0,expand:!0},l.a.createElement(u.b,{margin:"none",value:t,disabled:!0})),l.a.createElement(h.a,{onClick:function(){return e._onRemoveBehavior(t)}},l.a.createElement(f.a,null))),l.a.createElement(g.a,null,l.a.createElement(s.Trans,{id:"This behavior is unknown. It might be a behavior that was defined in an extension and that was later removed. You should delete it."})));var d=O.a.getEditor(i),m=Object(k.b)(i);return l.a.createElement("div",{key:r},l.a.createElement(b.b,null,l.a.createElement(b.a,null,l.a.createElement(s.Trans,{id:"Behavior"})," "),l.a.createElement(T.a,{noMargin:!0,expand:!0},l.a.createElement(u.b,{value:t,hintText:{id:"Behavior name"},margin:"none",fullWidth:!0,disabled:!0,onChange:function(t,n){return e._onChangeBehaviorName(o,n)}})),l.a.createElement(h.a,{onClick:function(){return e._onRemoveBehavior(t)}},l.a.createElement(f.a,null)),l.a.createElement(v.a,{helpPagePath:Object(j.a)(c)})),m.length?l.a.createElement(T.b,null,l.a.createElement(N.a,{expand:!0},m.map((function(e){return l.a.createElement(w.a,{key:e.identifier,tutorialHint:e})})))):null,l.a.createElement(T.b,null,l.a.createElement(d,{behavior:c,behaviorContent:o,project:a,resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors})))})).concat(l.a.createElement(P,{key:"add-behavior-line",onAdd:this.chooseNewBehavior})),this.state.newBehaviorDialogOpen&&l.a.createElement(y.a,{open:this.state.newBehaviorDialogOpen,objectType:n.getType(),onClose:function(){return e.setState({newBehaviorDialogOpen:!1})},onChoose:this.addBehavior,project:a}))}}]),n}(c.Component)}).call(this,n(1))},1869:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(77),l=n(2),u=n.n(l),d=n(90),m=n(110),p=n(87),f=n(160),h=n(139),g=n(157),b=n(102),v=n(276),E=n.n(v),y=n(277),j=n.n(y),O=n(1870),C=n.n(O),x=n(79),T=n(24),S=n(209),k=n(228),w=n(783),N=n(150),_=n(97),P=n(915),I=n(3),R={disabledItem:{opacity:.6}},B=function(e){var t=e.behaviorMetadata,n=e.onClick,a=e.disabled;return u.a.createElement(b.b,{leftIcon:u.a.createElement(h.a,{src:t.iconFilename,iconSize:40,isGDevelopIcon:!0}),key:t.type,primaryText:t.fullName,secondaryText:t.description,secondaryTextLines:2,onClick:n,style:a?R.disabledItem:void 0,disabled:a})},M=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state=Object(a.a)(Object(a.a)({},e._loadFrom(e.props.project)),{},{showDeprecated:!1,searchText:"",currentTab:"installed"}),e._searchBar=u.a.createRef(),e._showDeprecated=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({showDeprecated:t})},e._onNewExtensionInstalled=function(){e.setState(e._loadFrom(e.props.project),(function(){e._changeTab("installed")}))},e._changeTab=function(t){return e.setState({currentTab:t})},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){Object(N.b)()&&e._searchBar.current&&e._searchBar.current.focus()}),20)}},{key:"_loadFrom",value:function(e){var t=e.getCurrentPlatform();return{behaviorMetadata:e&&t?Object(w.a)(t,e):[]}}},{key:"componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.project!==e.project)&&this.setState(this._loadFrom(e.project))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.open,r=t.onClose,o=t.objectType,i=this.state,s=i.showDeprecated,l=i.behaviorMetadata,h=i.searchText,v=i.currentTab;if(!a||!n)return null;var y=Object(S.c)(),O=Object(w.b)(l,h),R=O.filter((function(e){var t=e.type;return!y[t]})),M=O.filter((function(e){var t=e.type;return!!y[t]})),F=function(t,n){var a=n.type,r=n.defaultName;return y[a]&&Object(T.b)(t._(y[a].warning)),e.props.onChoose(a,r)},A=function(e){return""===e.objectType||e.objectType===o},L=!!h&&!R.length&&!M.length;return u.a.createElement(c.I18n,null,(function(t){var o=t.i18n;return u.a.createElement(d.a,{title:u.a.createElement(c.Trans,{id:"Add a new behavior to the object"}),actions:[u.a.createElement(p.a,{key:"close",label:u.a.createElement(c.Trans,{id:"Close"}),primary:!1,onClick:r})],secondaryActions:u.a.createElement(m.a,{helpPagePath:"/behaviors"}),open:a,cannotBeDismissed:!1,noMargin:!0},u.a.createElement(g.b,{value:v,onChange:e._changeTab},u.a.createElement(g.a,{label:u.a.createElement(c.Trans,{id:"Installed Behaviors"}),value:"installed"}),u.a.createElement(g.a,{label:u.a.createElement(c.Trans,{id:"Search New Behaviors"}),value:"search"})),"installed"===v&&u.a.createElement(u.a.Fragment,null,u.a.createElement(N.a,{value:h,onRequestSearch:function(){R.length?F(o,R[0]):s&&M.length&&F(o,M[0])},onChange:function(t){return e.setState({searchText:t})},ref:e._searchBar}),L&&u.a.createElement(_.a,null,u.a.createElement(c.Trans,{id:"No behavior found for your search. Try another search, or search for new behaviors to install."})),u.a.createElement(b.a,null,R.map((function(e,t){return u.a.createElement(B,{key:t,behaviorMetadata:e,onClick:function(){return F(o,e)},disabled:!A(e)})})),s&&!!M.length&&u.a.createElement(f.a,null,"Deprecated (old, prefer not to use anymore)"),s&&M.map((function(e,t){return u.a.createElement(B,{key:t,behaviorMetadata:e,onClick:function(){return F(o,e)},disabled:!A(e)})}))),u.a.createElement(x.b,{justifyContent:"center",alignItems:"center"},s?u.a.createElement(p.a,{key:"toggle-experimental",icon:u.a.createElement(j.a,null),primary:!1,onClick:function(){return e._showDeprecated(!1)},label:u.a.createElement(c.Trans,{id:"Show deprecated (old) behaviors"})}):u.a.createElement(p.a,{key:"toggle-experimental",icon:u.a.createElement(E.a,null),primary:!1,onClick:function(){return e._showDeprecated(!0)},label:u.a.createElement(c.Trans,{id:"Show deprecated (old) behaviors"})})),u.a.createElement(x.b,{justifyContent:"center",alignItems:"center"},u.a.createElement(p.a,{icon:u.a.createElement(C.a,null),primary:!1,onClick:function(){return I.b.openExternalURL(Object(k.a)("/behaviors/events-based-behaviors"))},label:u.a.createElement(c.Trans,{id:"Create your own behavior"})}))),"search"===v&&u.a.createElement(P.a,{project:n,onNewExtensionInstalled:e._onNewExtensionInstalled,showOnlyWithBehaviors:!0}))}))}}]),n}(l.Component)},187:function(e,t,n){"use strict";(function(e){var a=n(1558),r=n(1567),o=n(1568),i=n(1569),s=n(1570),c=n(1571),l=n(1572),u=n(1573),d=n(1574),m=n(763),p=n(114),f=n(215),h=n(107),g=n(4),b=n.n(g),v=b()("path"),E=b()("electron"),y=e.gd,j={};t.a={renderers:{unknownObjectType:a.a,Sprite:r.a,"TiledSpriteObject::TiledSprite":o.a,"PanelSpriteObject::PanelSprite":i.a,"TextObject::Text":s.a,"PrimitiveDrawing::Drawer":c.a,"TextEntryObject::TextEntry":l.a,"ParticleSystem::ParticleEmitter":u.a,"SkeletonObject::Skeleton":d.a},getThumbnail:function(e,t){var n=t.getType();return this.renderers.hasOwnProperty(n)?this.renderers[n].getThumbnail(e,p.a,t):this.renderers.unknownObjectType.getThumbnail(e,p.a,t)},createNewInstanceRenderer:function(e,t,n,a,r){var o=a.getType();return this.renderers.hasOwnProperty(o)?new this.renderers[o](e,t,n,a,r,m.a):(console.warn("Object with type ".concat(o," has no instance renderer registered. Please use registerInstanceRenderer to register your renderer.")),new this.renderers.unknownObjectType(e,t,n,a,r,m.a))},registerInstanceRenderer:function(e,t){t.getThumbnail?this.renderers.hasOwnProperty(e)?console.warn('Tried to register renderer for object "'.concat(e,'", but a renderer already exists.')):(console.info('Properly registered renderer for object "'.concat(e,'".')),this.renderers[e]=t):console.warn('Tried to register renderer for object "'.concat(e,'", but getThumbnail is not defined.'))},registerModule:function(e,t){j[e]=t},requireModule:function(t,n){if(E&&v){var a=v.join(t,n),r=b()("module");if(!r._load)throw new Error('module._load does not exist. This is possibly a change in Node.js that is breaking the custom loader, in ObjectsRenderingService.requireModule, that is injected to expose Pixi.js to extensions using "require".');var o=r._load,i={"pixi.js-legacy":h,"pixi.js":h,"@pixi/core":h,"@pixi/display":h,"@pixi/constants":h,"@pixi/sprite":h,"@pixi/math":h,"@pixi/utils":h,"@pixi/graphics":h};r._load=function(e,t,n){var r=i[e];return r||(0===e.indexOf("./")||e===a?o(e,t,n):(console.error('A module ("'.concat(e,'") was required from ').concat(a,' but is not an allowed module or a relative file path starting with "./". null will be returned instead.')),console.warn("Allowed modules are: ",Object.keys(i)),console.warn("Please use only allowed modules or a reference a local file."),null))};var s=null;try{s=e.require(a)}catch(c){console.error('Unable to load module "'.concat(n,'". Only files located in ').concat(t," are supported. Exception was:"),c),s=null}return r._load=o,s}return j[n]?j[n]:(console.error('Unable to load module "'.concat(n,'". Are you sure you registered it using ObjectsRenderingService.registerModule? This is mandatory for the web-app to have the file bundled.')),null)},gd:y,PIXI:h,RenderedInstance:f.a}}).call(this,n(1))},1871:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){if(!e)return null;switch(e.getTypeName()){case"DraggableBehavior::Draggable":return"/behaviors/draggable";case"PlatformBehavior::PlatformerObjectBehavior":case"PlatformBehavior::PlatformBehavior":return"/behaviors/platformer";default:return""}}},1872:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(77),l=n(2),u=n.n(l),d=n(87),m=n(99),p=n(96),f=n(90),h=n(258),g=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e))._onApply=function(){o.props.onApply({gridWidth:o.state.gridWidth,gridHeight:o.state.gridHeight,gridOffsetX:o.state.gridOffsetX,gridOffsetY:o.state.gridOffsetY,gridColor:o.state.gridColor})},o.state=Object(a.a)({},e.gridOptions),o}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=[u.a.createElement(d.a,{key:"cancel",label:u.a.createElement(c.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onCancel}),u.a.createElement(d.a,{key:"apply",label:u.a.createElement(c.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:this._onApply})];return u.a.createElement(f.a,{title:u.a.createElement(c.Trans,{id:"Edit Grid Options"}),actions:t,cannotBeDismissed:!0,open:this.props.open,onRequestClose:this.props.onCancel,maxWidth:"sm",noMargin:!0},u.a.createElement(p.a,null,u.a.createElement(p.b,{noMargin:!0,expand:!0},u.a.createElement(h.a,{floatingLabelText:u.a.createElement(c.Trans,{id:"Line color"}),fullWidth:!0,color:this.state.gridColor,onChangeComplete:function(t){e.setState({gridColor:t.rgb})}})),u.a.createElement(p.b,{noMargin:!0,expand:!0},u.a.createElement(m.b,{floatingLabelText:u.a.createElement(c.Trans,{id:"Cell width (in pixels)"}),fullWidth:!0,type:"number",value:this.state.gridWidth,onChange:function(t,n){return e.setState({gridWidth:parseInt(n,10)})}}),u.a.createElement(m.b,{floatingLabelText:u.a.createElement(c.Trans,{id:"Cell height (in pixels)"}),fullWidth:!0,type:"number",value:this.state.gridHeight,onChange:function(t,n){return e.setState({gridHeight:parseInt(n,10)})}})),u.a.createElement(p.b,{noMargin:!0,expand:!0},u.a.createElement(m.b,{floatingLabelText:u.a.createElement(c.Trans,{id:"X offset (in pixels)"}),fullWidth:!0,type:"number",value:this.state.gridOffsetX,onChange:function(t,n){return e.setState({gridOffsetX:parseInt(n,10)})}}),u.a.createElement(m.b,{floatingLabelText:u.a.createElement(c.Trans,{id:"Y offset (in pixels)"}),fullWidth:!0,type:"number",value:this.state.gridOffsetY,onChange:function(t,n){return e.setState({gridOffsetY:parseInt(n,10)})}}))))}}]),n}(l.Component)},1873:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(137),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n.n(c),u=n(2474),d=(n(562),n(1874)),m=n.n(d),p=n(903),f=n(210),h=n(859),g={container:{overflow:"hidden"},xScrollbar:{position:"absolute",top:-13,left:0,right:0},yScrollbar:{position:"absolute",top:0,bottom:0,left:-13,transform:"rotate(180deg)"}},b=function(){},v=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._editor=null,e.state={xValue:0,yValue:0,xMin:-5e3,xMax:5e3,yMin:-5e3,yMax:5e3},e._handleXChange=function(t,n){var a=e.state,r=a.xMin,o=r+(a.xMax-r)*n/100;e.setState({xValue:o},(function(){e._editor&&e._editor.scrollTo(e.state.xValue,e.state.yValue)}))},e._handleYChange=function(t,n){var a=e.state,r=a.yMin,o=r+(a.yMax-r)*(100-n)/100;e.setState({yValue:o},(function(){e._editor&&e._editor.scrollTo(e.state.xValue,e.state.yValue)}))},e._setAndAdjust=function(t){var n=t.xValue,a=t.yValue,r=Math.max(Math.abs(n)+100,e.state.xMax),o=Math.max(Math.abs(a)+100,e.state.yMax);e.setState({xMax:r,yMax:o,xMin:-r,yMin:-o,xValue:n,yValue:a})},e._handleViewPositionChange=m()((function(t){t&&e._setAndAdjust({xValue:t.getViewX(),yValue:t.getViewY()})}),500,{leading:!1,trailing:!0}),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this._editor&&this._handleViewPositionChange(this._editor.getViewPosition())}},{key:"render",value:function(){var e=this,t=this.props,n=t.wrappedEditorRef,r=Object(a.a)(t,["wrappedEditorRef"]);return l.a.createElement(f.a,null,(function(t){return l.a.createElement(h.a,null,(function(a){var o=a.width,i=a.height;return l.a.createElement("div",{style:g.container},l.a.createElement(p.a,Object.assign({onViewPositionChanged:"touch"!==t?e._handleViewPositionChange:b,ref:function(t){n&&n(t),e._editor=t},width:o,height:i,screenType:t},r)),"touch"!==t&&l.a.createElement(u.a,{value:(e.state.xValue-e.state.xMin)/(e.state.xMax-e.state.xMin)*100,onChange:e._handleXChange,style:g.xScrollbar,orientation:"horizontal"}),"touch"!==t&&l.a.createElement(u.a,{value:(e.state.yValue-e.state.yMin)/(e.state.yMax-e.state.yMin)*100,onChange:e._handleYChange,style:g.yScrollbar,orientation:"vertical"}))}))}))}}]),n}(c.Component)},1875:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(103),u=n(636),d=n.n(u),m=n(146),p={container:{padding:0,width:32,height:32},icon:{width:16,height:16}},f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return c.a.createElement(m.a,{element:c.a.createElement(l.a,{style:p.container},c.a.createElement(d.a,{htmlColor:"white",style:p.icon})),buildMenuTemplate:this.props.buildMenuTemplate})}}]),n}(s.Component)},1876:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=n(130),r=function(e,t,n){var a=s[e.getType()];return a?(a.onObjectAdded(e,t,n),a.getInfoBarDetails("onObjectAdded")):null},o=function(e,t,n){var a=s[t.getObject(e.getObjectName()).getType()];return a?(a.onInstanceAdded(e,t,n),a.getInfoBarDetails("onInstanceAdded")):null},i=function(e){for(var t=0;t<e.getLayersCount();t++){var n=e.getLayerAt(t);if(n.isLightingLayer())return n}return null},s={"Lighting::LightObject":{onObjectAdded:function(e,t,n){if(null===i(t)){var r=Object(a.a)("Lighting",(function(e){return t.hasLayerNamed(e)}));t.insertNewLayer(r,t.getLayersCount());var o=t.getLayer("Lighting");o.setLightingLayer(!0),o.setFollowBaseLayerCamera(!0),o.setAmbientLightColor(128,128,128)}},onInstanceAdded:function(e,t,n){var a=i(t);a&&e.setLayer(a.getName())},getInfoBarDetails:function(e){return"onObjectAdded"===e?{identifier:"automatic-lighting-layer",message:{id:"A lighting layer was created. Lights will be placed on it automatically. You can change the ambient light color in the properties of this layer"},touchScreenMessage:{id:"A lighting layer was created. Lights will be placed on it automatically. You can change the ambient light color in the properties of this layer"}}:"onInstanceAdded"===e?{identifier:"object-moved-in-lighting-layer",message:{id:"The light object was automatically placed on the Lighting layer."},touchScreenMessage:{id:"The light object was automatically placed on the Lighting layer."}}:null}}}},1877:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(1878),u=n(2271),d=n(1881),m=n(403),p=n(402),f=n(114),h=n(4),g=n.n(h),b=n(3),v=n(113),E=n(213),y=e.gd,j=g()("electron"),O=j?j.shell:null,C=g()("path"),x={container:{display:"flex",flex:1,position:"relative",overflow:"hidden"}},T={direction:"row",first:"properties",second:"resources-list",splitPercentage:66},S=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).editorMosaic=null,e._propertiesEditor=null,e._resourcesList=null,e.resourcesLoader=f.a,e.state={showPropertiesInfoBar:!1,selectedResource:null},e.deleteResource=function(t){var n=e.props,a=n.project,r=n.onDeleteResource;t&&(b.b.showConfirmDialog("Are you sure you want to remove this resource? This can't be undone.")&&r(t,(function(n){n&&t&&(a.getResourcesManager().removeResource(t.getName()),e.setState({selectedResource:null},(function(){e._resourcesList&&e._resourcesList.forceUpdateList(),e.updateToolbar()})))})))},e._removeUnusedResources=function(t){var n=e.props.project,a=e.state.selectedResource?e.state.selectedResource.getName():null,r=y.ProjectResourcesAdder.getAllUseless(n,t).toJSArray();console.info("Removing ".concat(r.length," unused ").concat(t," resource(s):"),r),y.ProjectResourcesAdder.removeAllUseless(n,t),r.includes(a)&&e._onResourceSelected(null),e._resourcesList&&e._resourcesList.forceUpdateList()},e._removeAllResourcesWithInvalidPath=function(){var t=e.props.project,n=e.state.selectedResource?e.state.selectedResource.getName():null,a=t.getResourcesManager(),r=a.getAllResourceNames().toJSArray().filter((function(e){return"error"===Object(E.f)(t,e)}));r.forEach((function(e){a.removeResource(e),console.info("Removed due to invalid path: "+e)})),r.includes(n)&&e._onResourceSelected(null),e._resourcesList&&e._resourcesList.forceUpdateList()},e.openProjectFolder=function(){var t=e.props.project;O&&O.openItem(C.dirname(t.getProjectFile()))},e.openProperties=function(){e.editorMosaic&&(e.editorMosaic.openEditor("properties","start",66,"column")||e.setState({showPropertiesInfoBar:!0}))},e._onResourceSelected=function(t){e.setState({selectedResource:t},(function(){e._propertiesEditor&&e._propertiesEditor.forceUpdate(),e.updateToolbar()}))},e}return Object(r.a)(n,[{key:"updateToolbar",value:function(){var e=this;this.props.setToolbar(c.createElement(d.a,{onOpenProjectFolder:this.openProjectFolder,onOpenProperties:this.openProperties,canDelete:!!this.state.selectedResource,onDeleteSelection:function(){return e.deleteResource(e.state.selectedResource)}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.onRenameResource,r=t.onChooseResource,o=t.resourceSources,i=this.state.selectedResource,d={properties:{type:"secondary",title:{id:"Properties"},renderEditor:function(){return c.createElement(u.a,{key:i?i.ptr:void 0,resources:i?[i]:[],project:n,resourcesLoader:e.resourcesLoader,ref:function(t){return e._propertiesEditor=t},onResourcePathUpdated:function(){e._resourcesList&&e._resourcesList.checkMissingPaths()},onChooseResource:r,resourceSources:o})}},"resources-list":{type:"primary",noTitleBar:!0,renderEditor:function(){return c.createElement(l.a,{project:n,onDeleteResource:e.deleteResource,onRenameResource:a,onSelectResource:e._onResourceSelected,selectedResource:i,ref:function(t){return e._resourcesList=t},onRemoveUnusedResources:e._removeUnusedResources,onRemoveAllResourcesWithInvalidPath:e._removeAllResourcesWithInvalidPath})}}};return c.createElement("div",{style:x.container},c.createElement(v.b.Consumer,null,(function(t){var n=t.getDefaultEditorMosaicNode,a=t.setDefaultEditorMosaicNode;return c.createElement(m.a,{editors:d,ref:function(t){return e.editorMosaic=t},initialNodes:n("resources-editor")||T,onPersistNodes:function(e){return a("resources-editor",e)}})})),c.createElement(p.a,{message:c.createElement(s.Trans,{id:"Properties panel is already opened. After selecting a resource, inspect and change its properties from this panel."}),show:!!this.state.showPropertiesInfoBar,identifier:"resource-properties-panel-explanation"}))}}]),n}(c.Component);S.defaultProps={setToolbar:function(){}}}).call(this,n(1))},1878:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(207),u=n(426),d=n(123),m=n(150),p=n(24),f=n(1879),h=n(4),g=n.n(h),b=n(3),v=n(213),E=n(516),y=Object(E.a)("glob"),j=g()("path"),O=g()("electron"),C=!!O,x=e.gd,T={listContainer:{flex:1}},S=function(e){return e.getName()},k=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={renamedResource:null,searchText:"",resourcesWithErrors:{}},e._deleteResource=function(t){e.props.onDeleteResource(t)},e._locateResourceFile=function(t){var n=j.dirname(Object(v.e)(e.props.project,t.getName()));O.shell.openItem(n)},e._openResourceFile=function(t){var n=Object(v.e)(e.props.project,t.getName());O.shell.openItem(n)},e._copyResourceFilePath=function(t){var n=Object(v.e)(e.props.project,t.getName());O.clipboard.writeText(n)},e._scanForNewResources=function(t,n){var a=y();if(a){var r=e.props.project,o=r.getResourcesManager(),i=j.dirname(r.getProjectFile());a(i+"/**/*.{"+t+"}",(function(t,a){t?console.error("Error loading ",t):a.forEach((function(e){var t=j.relative(i,e);o.hasResource(t)||(Object(v.d)(r,n(),t),console.info("".concat(t," added to project.")))})),e.forceUpdate()}))}},e._editName=function(t){e.setState({renamedResource:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._rename=function(t,n){var a=e.props.project;(e.setState({renamedResource:null}),t.getName()!==n)&&(a.getResourcesManager().hasResource(n)?Object(p.c)("Another resource with this name already exists",{delayToNextTick:!0}):b.b.showConfirmDialog("Are you sure you want to rename this resource? \nGame objects using the old name will no longer be able to find it!")&&e.props.onRenameResource(t,n,(function(a){a&&(t.setName(n),e.forceUpdate())})))},e._moveSelectionTo=function(t){var n=e.props,a=n.project,r=n.selectedResource;if(r){var o=a.getResourcesManager();o.moveResource(o.getResourcePosition(r.getName()),o.getResourcePosition(t.getName())),e.forceUpdateList()}},e.forceUpdateList=function(){e.forceUpdate(),e.sortableList&&e.sortableList.forceUpdateGrid()},e._renderResourceMenuTemplate=function(t){return function(n,a){return[{label:t._({id:"Rename"}),click:function(){return e._editName(n)}},{label:t._({id:"Remove"}),click:function(){return e._deleteResource(n)}},{type:"separator"},{label:t._({id:"Open File"}),click:function(){return e._openResourceFile(n)},enabled:C},{label:t._({id:"Locate File"}),click:function(){return e._locateResourceFile(n)},enabled:C},{label:t._({id:"Copy File Path"}),click:function(){return e._copyResourceFilePath(n)},enabled:C},{type:"separator"},{label:t._({id:"Scan for Images"}),click:function(){e._scanForNewResources(v.a.image,(function(){return new x.ImageResource}))},enabled:C},{label:t._({id:"Scan for Audio"}),click:function(){e._scanForNewResources(v.a.audio,(function(){return new x.AudioResource}))},enabled:C},{label:t._({id:"Scan for Fonts"}),click:function(){e._scanForNewResources(v.a.font,(function(){return new x.FontResource}))},enabled:C},{label:t._({id:"Scan for Videos"}),click:function(){e._scanForNewResources(v.a.video,(function(){return new x.VideoResource}))},enabled:C},{type:"separator"},{label:t._({id:"Remove Unused Images"}),click:function(){e.props.onRemoveUnusedResources("image")}},{label:t._({id:"Remove Unused Audio"}),click:function(){e.props.onRemoveUnusedResources("audio")}},{label:t._({id:"Remove Unused Fonts"}),click:function(){e.props.onRemoveUnusedResources("font")}},{label:t._({id:"Remove Resources with Invalid Path"}),click:function(){e.props.onRemoveAllResourcesWithInvalidPath()},enabled:C}]}},e.checkMissingPaths=function(){var t=e.props.project,n=t.getResourcesManager().getAllResourceNames().toJSArray(),a={};n.forEach((function(e){a[e]=Object(v.f)(t,e)})),e.setState({resourcesWithErrors:a}),e.forceUpdateList()},e}return Object(r.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.renamedResource!==t.renamedResource||this.state.searchText!==t.searchText||(this.props.project!==e.project||this.props.selectedResource!==e.selectedResource)}},{key:"componentDidMount",value:function(){this.checkMissingPaths()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.selectedResource,r=t.onSelectResource,o=this.state.searchText,i=n.getResourcesManager(),p=i.getAllResourceNames().toJSArray().map((function(e){return i.getResource(e)})),h=Object(f.a)(p,o),g=n.ptr;return c.createElement(d.a,null,c.createElement("div",{style:T.listContainer},c.createElement(l.a,null,(function(t){var n=t.height,o=t.width;return c.createElement(s.I18n,null,(function(t){var i=t.i18n;return c.createElement(u.a,{key:g,ref:function(t){return e.sortableList=t},fullList:h,width:o,height:n,getItemName:S,selectedItems:a?[a]:[],onItemSelected:r,renamedItem:e.state.renamedResource,onRename:e._rename,onMoveSelectionToItem:e._moveSelectionTo,buildMenuTemplate:e._renderResourceMenuTemplate(i),erroredItems:e.state.resourcesWithErrors,reactDndType:"GD_RESOURCE"})}))}))),c.createElement(m.a,{value:o,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})}}))}}]),n}(c.Component)}).call(this,n(1))},1879:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}},188:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n.n(c),u=n(104),d=n(85),m={display:"flex",alignItems:"center",paddingLeft:8,paddingRight:8},p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.justifyContent;return l.a.createElement(u.a,null,(function(n){return l.a.createElement("div",{style:Object(a.a)(Object(a.a)({},m),{},{height:32,backgroundColor:n.toolbar.backgroundColor,justifyContent:t})},e.props.children)}))}}]),n}(c.Component),f={marginRight:5},h=function(e){var t=e.children;return l.a.createElement(d.a,{noShrink:!0,style:f},t)};t.b=p},1881:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(292),u=n(253),d=n(299),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.canDelete;return c.a.createElement(l.b,{lastChild:!0},c.a.createElement(u.a,{onClick:this.props.onOpenProjectFolder,src:"res/ribbon_default/open32.png",tooltip:{id:"Open the project folder"}}),c.a.createElement(d.a,null),c.a.createElement(u.a,{onClick:this.props.onOpenProperties,src:"res/ribbon_default/editprop32.png",tooltip:{id:"Open the properties panel"}}),c.a.createElement(d.a,null),c.a.createElement(u.a,{onClick:this.props.onDeleteSelection,src:"res/ribbon_default/deleteselected32.png",disabled:!e,tooltip:{id:"Delete the selected resource"}}))}}]),n}(s.PureComponent);t.a=m},1904:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(117),u=n(87),d=n(118),m=n(90),p=n(79),f=n(3),h=n(113),g=n(126),b=n(1905),v=n.n(b),E=n(77),y=function(e){return"en"!==e.languageCode&&("pseudo_LOCALE"!==e.languageCode||f.b.isDev())},j=function(e){var t=e.translationRatio||0,n=(100*e.translationRatio).toFixed(0),a=t>0;return c.a.createElement(d.a,{value:e.languageCode,primaryText:e.languageNativeName+" ("+e.languageName+")"+(a?" - ~".concat(n,"%"):""),disabled:!a,key:e.languageCode})},O=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={languageDidChange:!1},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.open,a=t.onClose;if(!n)return null;var r=v.a.filter(y),o=r.filter((function(e){return e.translationRatio>.5})),i=r.filter((function(e){return e.translationRatio<.5}));return c.a.createElement(E.I18n,null,(function(t){var r=t.i18n;return c.a.createElement(h.b.Consumer,null,(function(t){var s=t.values,h=t.setLanguage,b=r.language!==s.language;return c.a.createElement(m.a,{actions:[c.a.createElement(u.a,{label:b?c.a.createElement(E.Trans,{id:"Loading..."}):c.a.createElement(E.Trans,{id:"Close"}),primary:!1,onClick:function(){a(e.state.languageDidChange)},disabled:b,key:"close"})],secondaryActions:[c.a.createElement(u.a,{label:c.a.createElement(E.Trans,{id:"Report a wrong translation"}),key:"report-wrong-translation",primary:!1,onClick:function(){return f.b.openExternalURL("https://github.com/4ian/GDevelop/issues/969")}})],onRequestClose:function(){return a(e.state.languageDidChange)},cannotBeDismissed:!1,open:n,title:c.a.createElement(E.Trans,{id:"Language"})},c.a.createElement(p.a,{noMargin:!0},c.a.createElement(p.b,null,c.a.createElement(g.a,{kind:"info"},c.a.createElement(E.Trans,{id:"Support for translations is still new and in beta. GDevelop needs your help to be translated in your language!"}))),c.a.createElement(p.b,{expand:!0},c.a.createElement(l.a,{floatingLabelText:c.a.createElement(E.Trans,{id:"Choose GDevelop language"}),value:s.language,onChange:function(t,n,a){h(a),e.setState({languageDidChange:!0})},fullWidth:!0},c.a.createElement(d.a,{value:"en",primaryText:"English (default)"}),o.map((function(e){return j(e)})),i.map((function(e){return j(e)})))),c.a.createElement(p.b,{expand:!0},c.a.createElement(u.a,{primary:!0,label:c.a.createElement(E.Trans,{id:"Help to translate GD in your language"}),onClick:function(){return f.b.openExternalURL("https://crowdin.com/project/gdevelop")},fullWidth:!0}))))}))}))}}]),n}(s.Component)},1905:function(e,t){e.exports=[{languageCode:"af_ZA",languageName:"Afrikaans",languageNativeName:"Afrikaans",translationRatio:.008405043025815462},{languageCode:"ar_SA",languageName:"Arabic",languageNativeName:"\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629",translationRatio:.28737242345407243},{languageCode:"az_AZ",languageName:"Azerbaijani",languageNativeName:"az\u0259rbaycan dili",translationRatio:.02061236742045225},{languageCode:"bg_BG",languageName:"Bulgarian",languageNativeName:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",translationRatio:.06223734240544332},{languageCode:"bn_BD",languageName:"Bengali",languageNativeName:"\u09ac\u09be\u0982\u09b2\u09be",translationRatio:.07444466680008},{languageCode:"ca_ES",languageName:"Catalan",languageNativeName:"Catal\xe0",translationRatio:.08985391234740847},{languageCode:"cs_CZ",languageName:"Czech",languageNativeName:"\u010de\u0161tina",translationRatio:.15009005403241948},{languageCode:"da_DK",languageName:"Danish",languageNativeName:"dansk",translationRatio:.029417650590354172},{languageCode:"de_DE",languageName:"German",languageNativeName:"Deutsch",translationRatio:.8403041825095057},{languageCode:"el_GR",languageName:"Greek",languageNativeName:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",translationRatio:.21372823694216525},{languageCode:"en",languageName:"English",languageNativeName:"English",translationRatio:.03513281919451583},{languageCode:"eo_UY",languageName:"Esperanto",languageNativeName:"Esperanto",translationRatio:.018411046627976768},{languageCode:"es_ES",languageName:"Spanish",languageNativeName:"Espa\xf1ol",translationRatio:.9469681809085452},{languageCode:"fa_IR",languageName:"Persian",languageNativeName:"\u0641\u0627\u0631\u0633\u06cc",translationRatio:.22573544126475886},{languageCode:"fi_FI",languageName:"Finnish",languageNativeName:"suomi",translationRatio:.3075845507304382},{languageCode:"fil_PH",languageName:"Filipino",languageNativeName:"Mga Filipino",translationRatio:.5737442465479288},{languageCode:"fr_FR",languageName:"French",languageNativeName:"Fran\xe7ais",translationRatio:.9519711827096258},{languageCode:"ha_HG",languageName:"Hausa",languageNativeName:"\u0647\u064e\u0648\u064f\u0633\u064e",translationRatio:.016209725835501287},{languageCode:"he_IL",languageName:"Hebrew",languageNativeName:"\u05e2\u05d1\u05e8\u05d9\u05ea",translationRatio:.021212727636581996},{languageCode:"hi_IN",languageName:"Hindi",languageNativeName:"\u0939\u093f\u0928\u094d\u0926\u0940",translationRatio:.3660196117670602},{languageCode:"hu_HU",languageName:"Hungarian",languageNativeName:"magyar",translationRatio:.22393436061636984},{languageCode:"id_ID",languageName:"Indonesian",languageNativeName:"Bahasa Indonesia",translationRatio:.4938963378026816},{languageCode:"it_IT",languageName:"Italian",languageNativeName:"Italiano",translationRatio:.9549729837902742},{languageCode:"ja_JP",languageName:"Japanese",languageNativeName:"\u65e5\u672c\u8a9e",translationRatio:.6355813488092856},{languageCode:"ko_KR",languageName:"Korean",languageNativeName:"\ud55c\uad6d\uc5b4",translationRatio:.2523514108465079},{languageCode:"lt_LT",languageName:"Lithuanian",languageNativeName:"lietuvi\u0173 kalba",translationRatio:.03582149289573744},{languageCode:"lv_LV",languageName:"Latvian",languageNativeName:"latvie\u0161u valoda",translationRatio:.008204922953772287},{languageCode:"mr_IN",languageName:"Marathi",languageNativeName:"\u092e\u0930\u093e\u0920\u0940",translationRatio:.008805283169901923},{languageCode:"ms_MY",languageName:"Malay",languageNativeName:"Bahasa Malaysia",translationRatio:.05223133880328201},{languageCode:"my_MM",languageName:"Burmese",languageNativeName:"\u1017\u1019\u102c\u1005\u102c",translationRatio:.009205523313988384},{languageCode:"nl_NL",languageName:"Dutch",languageNativeName:"Nederlands",translationRatio:.39483690214128475},{languageCode:"no_NO",languageName:"Norwegian",languageNativeName:"Norsk",translationRatio:.185111066639984},{languageCode:"pl_PL",languageName:"Polish",languageNativeName:"j\u0119zyk polski",translationRatio:.6770062037222333},{languageCode:"pseudo_LOCALE",languageName:"for development only",languageNativeName:"Pseudolocalization",translationRatio:.9965724078834619},{languageCode:"pt_BR",languageName:"Brazilian Portuguese",languageNativeName:"Portugu\xeas brasileiro",translationRatio:.9479687812687613},{languageCode:"pt_PT",languageName:"Portuguese",languageNativeName:"Portugu\xeas",translationRatio:.594356613968381},{languageCode:"ro_RO",languageName:"Romanian",languageNativeName:"Rom\xe2n\u0103",translationRatio:.06223734240544332},{languageCode:"ru_RU",languageName:"Russian",languageNativeName:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",translationRatio:.9469681809085452},{languageCode:"sk_SK",languageName:"Slovak",languageNativeName:"sloven\u010dina",translationRatio:.02461476886131675},{languageCode:"sl_SI",languageName:"Slovene",languageNativeName:"slovenski jezik",translationRatio:.9319591755053032},{languageCode:"sr_CS",languageName:"Serbian (Latin)",languageNativeName:"srpski",translationRatio:.3221933159895938},{languageCode:"sr_SP",languageName:"Serbian",languageNativeName:"\u0441\u0440\u043f\u0441\u043a\u0438 \u0458\u0435\u0437\u0438\u043a",translationRatio:.6744046427856714},{languageCode:"sv_SE",languageName:"Swedish",languageNativeName:"svenska",translationRatio:.18170902541524914},{languageCode:"th_TH",languageName:"Thai",languageNativeName:"\u0e44\u0e17\u0e22",translationRatio:.0482289373624174},{languageCode:"tr_TR",languageName:"Turkish",languageNativeName:"T\xfcrk\xe7e",translationRatio:.7738643185911547},{languageCode:"uk_UA",languageName:"Ukrainian",languageNativeName:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",translationRatio:.8811286772063238},{languageCode:"ur_PK",languageName:"Urdu",languageNativeName:"\u0627\u0631\u062f\u0648",translationRatio:.018010806483890307},{languageCode:"uz_UZ",languageName:"Uzbek",languageNativeName:"\u040e\u0437\u0431\u0435\u043a",translationRatio:.00980588353011802},{languageCode:"yo_NG",languageName:"Yoruba",languageNativeName:"Yor\xf9b\xe1",translationRatio:.6361817090254153},{languageCode:"zh_CN",languageName:"Chinese Simplified",languageNativeName:"\u7b80\u5316\u5b57",translationRatio:.6768060836501901},{languageCode:"zh_TW",languageName:"Chinese Traditional",languageNativeName:"\u6b63\u9ad4\u5b57",translationRatio:.19671803081849104}]},1906:function(e,t,n){"use strict";var a=n(77),r=n(2),o=n(90),i=n(87),s=n(102),c=n(89),l=n(4),u=n.n(l),d=n(198),m=n(79),p=u()("electron");t.a=function(e){var t=e.onClose,n=e.storageProviders,l=e.onChooseProvider,u=e.onCreateNewProject;return r.createElement(a.I18n,null,(function(e){var f=e.i18n;return r.createElement(o.a,{title:r.createElement(a.Trans,{id:"Choose where to load the project from"}),onRequestClose:t,actions:[r.createElement(i.a,{label:r.createElement(a.Trans,{id:"Cancel"}),key:"close",primary:!1,onClick:t})],secondaryActions:[r.createElement(c.a,{label:r.createElement(a.Trans,{id:"Create a new project"}),key:"create-new-project",primary:!0,onClick:u})],cannotBeDismissed:!1,open:!0,noMargin:!0,maxWidth:"sm"},r.createElement(s.a,null,n.filter((function(e){return!e.hiddenInOpenDialog})).map((function(e){return r.createElement(s.b,{key:e.internalName,disabled:!!e.disabled,primaryText:f._(e.name),leftIcon:e.renderIcon?e.renderIcon():void 0,onClick:function(){return l(e)}})}))),!p&&r.createElement(m.b,null,r.createElement(m.a,null,r.createElement(d.a,null,r.createElement(a.Trans,{id:"If you have a popup blocker interrupting the opening, allow the popups and try a second time to open the project."})))))}))}},1907:function(e,t,n){"use strict";var a=n(77),r=n(2),o=n(90),i=n(87),s=n(102);t.a=function(e){var t=e.onClose,n=e.storageProviders,c=e.onChooseProvider;return r.createElement(a.I18n,null,(function(e){var l=e.i18n;return r.createElement(o.a,{title:r.createElement(a.Trans,{id:"Choose where to save the project to"}),onRequestClose:t,actions:[r.createElement(i.a,{label:r.createElement(a.Trans,{id:"Cancel"}),key:"close",primary:!1,onClick:t})],cannotBeDismissed:!0,open:!0,noMargin:!0,maxWidth:"sm"},r.createElement(s.a,null,n.filter((function(e){return!e.hiddenInSaveDialog})).map((function(e){return r.createElement(s.b,{key:e.internalName,disabled:!!e.disabled,primaryText:l._(e.name),leftIcon:e.renderIcon?e.renderIcon():void 0,onClick:function(){return c(e)}})}))))}))}},1908:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(98),r=n(77),o=n(2),i=n(90),s=n(87),c=n(89),l=n(198),u=n(79),d=n(85),m=function(e){var t=e.onClose,n=e.onConfirm;return o.createElement(i.a,{title:o.createElement(r.Trans,{id:"Confirm the opening"}),actions:[o.createElement(s.a,{label:o.createElement(r.Trans,{id:"Cancel"}),key:"close",primary:!1,onClick:t}),o.createElement(c.a,{label:o.createElement(r.Trans,{id:"Open the project"}),key:"open-project",primary:!0,onClick:n})],cannotBeDismissed:!0,open:!0,maxWidth:"sm"},o.createElement(u.b,null,o.createElement(u.a,null,o.createElement(d.a,null,o.createElement(r.Trans,{id:'You\'re about to open (or re-open) a project. Click on "Open the Project" to continue.'})))),o.createElement(u.b,null,o.createElement(u.a,null,o.createElement(l.a,null,o.createElement(r.Trans,{id:"If you have a popup blocker interrupting the opening, allow the popups and try a second time to open the project."})))))},p=function(){var e=o.useRef(!1),t=o.useRef(null),n=o.useState(!1),r=Object(a.a)(n,2),i=r[0],s=r[1];return{ensureInteractionHappened:function(n){return new Promise((function(a){!e.current&&n.doesInitialOpenRequireUserInteraction?(console.info("Displaying confirmation dialog to ensure an interaction is made before continuing."),t.current=a,s(!0)):a(!0)}))},renderOpenConfirmDialog:function(){if(!i)return null;var n=function(n){e.current=!0,s(!1);var a=t.current;a&&(a(n),t.current=null)};return o.createElement(m,{onClose:function(){return n(!1)},onConfirm:function(){return n(!0)}})}}}},1909:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(24);function r(e,t){return!t.gdVersion&&t.eventsFunctions?(Object(a.a)({message:[e._({id:"Unable to open this file."}),e._({id:"This file is an extension file for GDevelop 5. You should instead import it, using the window to add a new extension to your project."})].join("\n"),rawError:void 0,errorId:"extension-opened-as-project-error",doNotReport:!0}),!1):!(!t.gdVersion&&!t.eventsFunctions)||(Object(a.a)({message:[e._({id:"Unable to open this file."}),e._({id:"This file is not recognized as a GDevelop 5 project. Be sure to open a file that was saved using GDevelop."})].join("\n"),rawError:void 0,errorId:"malformed-project-error",doNotReport:!0}),!1)}},1910:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(98),r=n(2),o=n.n(r);function i(e){var t=o.a.useState(e),n=Object(a.a)(t,2),r=n[0],i=n[1],s=o.a.useRef(null),c=o.a.useCallback((function(e){return new Promise((function(t){s.current=t,i(e)}))}),[i]);return o.a.useEffect((function(){null!==s.current&&(s.current(r),s.current=null)}),[r]),[r,c]}},1911:function(e,t,n){"use strict";var a=n(2),r=n(203),o=n(318),i=function(e,t,n){return e?t(e).map((function(e){return{text:e.getName(),handler:function(){return n(e.getName())}}})):[]};t.a=function(e){Object(r.a)("QUIT_APP",!0,{handler:e.onCloseApp}),Object(r.a)("OPEN_PROFILE",!!e.project,{handler:e.onOpenProfile}),Object(r.a)("OPEN_GAMES_DASHBOARD",!!e.project,{handler:e.onOpenGamesDashboard}),Object(r.a)("OPEN_PROJECT_MANAGER",!!e.project,{handler:e.onOpenProjectManager}),Object(r.a)("LAUNCH_NEW_PREVIEW",e.previewEnabled,{handler:e.onLaunchPreview}),Object(r.a)("HOT_RELOAD_PREVIEW",e.hasPreviewsRunning,{handler:e.onHotReloadPreview}),Object(r.a)("LAUNCH_DEBUG_PREVIEW",e.previewEnabled&&e.allowNetworkPreview,{handler:e.onLaunchDebugPreview}),Object(r.a)("LAUNCH_NETWORK_PREVIEW",e.previewEnabled&&e.allowNetworkPreview,{handler:e.onLaunchNetworkPreview}),Object(r.a)("OPEN_START_PAGE",!0,{handler:e.onOpenStartPage}),Object(r.a)("CREATE_NEW_PROJECT",!0,{handler:e.onCreateProject}),Object(r.a)("OPEN_PROJECT",!0,{handler:e.onOpenProject}),Object(r.a)("SAVE_PROJECT",!!e.project,{handler:e.onSaveProject}),Object(r.a)("SAVE_PROJECT_AS",!!e.project,{handler:e.onSaveProjectAs}),Object(r.a)("CLOSE_PROJECT",!!e.project,{handler:e.onCloseProject}),Object(r.a)("EXPORT_GAME",!!e.project,{handler:e.onExportGame}),Object(r.a)("OPEN_COMMAND_PALETTE",!0,{handler:e.onOpenCommandPalette}),Object(r.b)("OPEN_LAYOUT",!!e.project,{generateOptions:a.useCallback((function(){return i(e.project,o.d,e.onOpenLayout)}),[e.project,e.onOpenLayout])}),Object(r.b)("OPEN_EXTERNAL_EVENTS",!!e.project,{generateOptions:a.useCallback((function(){return i(e.project,o.b,e.onOpenExternalEvents)}),[e.project,e.onOpenExternalEvents])}),Object(r.b)("OPEN_EXTERNAL_LAYOUT",!!e.project,{generateOptions:a.useCallback((function(){return i(e.project,o.c,e.onOpenExternalLayout)}),[e.project,e.onOpenExternalLayout])}),Object(r.b)("OPEN_EXTENSION",!!e.project,{generateOptions:a.useCallback((function(){return i(e.project,o.a,e.onOpenEventsFunctionsExtension)}),[e.project,e.onOpenEventsFunctionsExtension])})}},1912:function(e,t,n){"use strict";var a=n(83),r=n(6),o=n(2),i=(n(725),n(386)),s=n(726),c=function e(t){var n=this;Object(r.a)(this,e),this.setActive=function(e){n._isActive=e},this.registerCommand=function(e,t){n._commands[e]=t,n._isActive&&n._centralManager.registerCommand(e,t)},this.deregisterCommand=function(e){delete n._commands[e],n._isActive&&n._centralManager.deregisterCommand(e)},this.registerAllCommandsToCentralManager=function(){Object.keys(n._commands).forEach((function(e){n._centralManager.registerCommand(e,n._commands[e])}))},this.deregisterAllCommandsFromCentralManager=function(){Object.keys(n._commands).forEach((function(e){n._centralManager.deregisterCommand(e)}))},this.getAllNamedCommands=function(){return Object.keys(n._commands).map((function(e){var t=n._commands[e];return Object(a.a)(Object(a.a)({},t),{},{name:e})}))},this.getNamedCommand=function(e){var t=n._commands[e];return t?Object(a.a)({name:e},t):n._centralManager.getNamedCommand(e)},this._commands={},this._isActive=!1,this._centralManager=t};t.a=function(e){var t=o.useContext(i.b),n=Object(s.a)((function(){return new c(t)}));return o.useEffect((function(){if(e.active)return n.setActive(!0),n.registerAllCommandsToCentralManager(),function(){n.setActive(!1),n.deregisterAllCommandsFromCentralManager()}}),[e.active,n]),o.createElement(i.b.Provider,{value:n},e.children)}},1913:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(100),r=n(98),o=n(2),i=function(e){var t=o.useState([]),n=Object(r.a)(t,2),i=n[0],s=n[1],c=o.useState([]),l=Object(r.a)(c,2),u=l[0],d=l[1];return o.useEffect((function(){if(e){var t=e.registerCallbacks({onErrorReceived:function(e){},onConnectionClosed:function(e){e.id;var t=e.debuggerIds;s(Object(a.a)(t))},onConnectionOpened:function(e){e.id;var t=e.debuggerIds;s(Object(a.a)(t))},onServerStateChanged:function(){},onHandleParsedMessage:function(e){e.id;var t=e.parsedMessage;"hotReloader.logs"===t.command&&d(t.payload)}});return function(){t()}}s([])}),[e]),{previewDebuggerIds:i,hotReloadLogs:u,clearHotReloadLogs:o.useCallback((function(){return d([])}),[d])}}},1914:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(77),r=n(2),o=n(90),i=n(110),s=n(87),c=n(89),l=n(96),u=n(85),d=n(649),m=n.n(d);function p(e){var t=e.onClose,n=e.onLaunchNewPreview;return function(e){return e.filter((function(e){return"error"===e.kind||"fatal"===e.kind})).length>0}(e.logs)?r.createElement(o.a,{title:r.createElement(a.Trans,{id:"Restarting the preview from scratch is required"}),onRequestClose:t,actions:[r.createElement(s.a,{label:r.createElement(a.Trans,{id:"Close"}),key:"close",primary:!1,onClick:t}),r.createElement(c.a,{icon:r.createElement(m.a,null),label:r.createElement(a.Trans,{id:"Close and launch a new preview"}),key:"new-preview",primary:!0,onClick:n})],secondaryActions:[r.createElement(i.a,{key:"help",helpPagePath:"/interface/preview"})],open:!0,cannotBeDismissed:!0},r.createElement(l.a,{noMargin:!0},r.createElement(u.a,null,r.createElement(a.Trans,{id:"Your latest changes could not be applied to the preview(s) being run. You should start a new preview instead to make sure that all your changes are reflected in the game."})))):null}},1915:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(98),r=n(2),o=n(4),i=n.n(o)()("electron"),s=i?i.ipcRenderer:null,c=Date.now(),l=function(e){if(null!==s){var t={details:e?"Working on:":"Not working on",state:e?e.getName():"any game",startTimestamp:c,largeImageKey:"gdicon",largeImageText:"GDevelop"};s.send("update-discord-rich-presence",t)}},u=function(e){var t=Object(r.useState)(0),n=Object(a.a)(t,2),o=n[0],i=n[1];Object(r.useEffect)((function(){return l(e)})),Object(r.useEffect)((function(){performance.now()-o>6e4&&(i(performance.now()),l(e))}),[e,o])}},1916:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(92),u=(n(99),n(705)),d=e.gd,m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e))._chips=[];var o=d.JsPlatform.get().getAllPlatformExtensions();return r._chips=Object(l.mapVector)(o,(function(e){return e.isBuiltin()||-1!==e.getFullName().indexOf("(deprecated)")?null:{text:e.getFullName(),value:e.getName()}})).filter(Boolean),r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.chosenExtensionName,n=e.onExtensionNameChosen,a=e.value,r=e.onChange;return c.a.createElement(u.a,{value:a,onChange:r,chips:this._chips,chosenChip:t,onChooseChip:n,onRequestSearch:function(){}})}}]),n}(s.Component)}).call(this,n(1))},1954:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n(77),u=n(597),d=n(869),m=e.gd,p=function(e){Object(i.a)(p,e);var t=Object(s.a)(p);function p(){var e;Object(r.a)(this,p);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={language:"en",catalogs:{},i18n:null},e._loadCatalog=function(t){return e.state.catalogs[t]?Promise.resolve(e.state.catalogs):n(1955)("./".concat(t,"/messages")).then((function(n){return Object(a.a)(Object(a.a)({},e.state.catalogs),{},{[t]:n})}),(function(n){return console.error("Error while loading language="+t,n),e.state.catalogs}))},e}return Object(o.a)(p,[{key:"componentDidMount",value:function(){this._loadLanguage(this.props.language)}},{key:"componentDidUpdate",value:function(e){e.language!==this.props.language&&this._loadLanguage(this.props.language)}},{key:"_loadLanguage",value:function(e){var t=this;this._loadCatalog(e).then((function(n){t.setState({language:e,catalogs:n,i18n:Object(u.setupI18n)({language:e,catalogs:n})},(function(){var n=t.state.i18n;m.getTranslation=Object(d.b)(n),console.info('Loaded "'.concat(e,'" language'))}))}))}},{key:"render",value:function(){var e=this.state,t=e.i18n,n=e.catalogs,a=e.language,r=this.props.children;return t?c.createElement(l.I18nProvider,{i18n:t,language:a,catalogs:n},r):null}}]),p}(c.Component)}).call(this,n(1))},1955:function(e,t,n){var a={"./af_ZA/messages":[2209,5],"./ar_SA/messages":[2210,6],"./az_AZ/messages":[2211,7],"./bg_BG/messages":[2212,8],"./bn_BD/messages":[2213,9],"./ca_ES/messages":[2214,10],"./cs_CZ/messages":[2215,11],"./da_DK/messages":[2216,12],"./de_DE/messages":[2217,13],"./el_GR/messages":[2218,14],"./en/messages":[2219,15],"./eo_UY/messages":[2220,16],"./es_ES/messages":[2221,17],"./fa_IR/messages":[2222,18],"./fi_FI/messages":[2223,19],"./fil_PH/messages":[2224,20],"./fr_FR/messages":[2225,21],"./ha_HG/messages":[2226,22],"./he_IL/messages":[2227,23],"./hi_IN/messages":[2228,24],"./hu_HU/messages":[2229,25],"./id_ID/messages":[2230,26],"./it_IT/messages":[2231,27],"./ja_JP/messages":[2232,28],"./ko_KR/messages":[2233,29],"./lt_LT/messages":[2234,30],"./lv_LV/messages":[2235,31],"./mr_IN/messages":[2236,32],"./ms_MY/messages":[2237,33],"./my_MM/messages":[2238,34],"./nl_NL/messages":[2239,35],"./no_NO/messages":[2240,36],"./pl_PL/messages":[2241,37],"./pseudo_LOCALE/messages":[2242,38],"./pt_BR/messages":[2243,39],"./pt_PT/messages":[2244,40],"./ro_RO/messages":[2245,41],"./ru_RU/messages":[2246,42],"./sk_SK/messages":[2247,43],"./sl_SI/messages":[2248,44],"./sr_CS/messages":[2249,45],"./sr_SP/messages":[2250,46],"./sv_SE/messages":[2251,47],"./th_TH/messages":[2252,48],"./tr_TR/messages":[2253,49],"./uk_UA/messages":[2254,50],"./ur_PK/messages":[2255,51],"./uz_UZ/messages":[2256,52],"./yo_NG/messages":[2257,53],"./zh_CN/messages":[2258,54],"./zh_TW/messages":[2259,55]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,7)}))}r.keys=function(){return Object.keys(a)},r.id=1955,e.exports=r},198:function(e,t,n){"use strict";var a=n(83),r=n(2),o=n(104),i=n(2368);t.a=function(e){return r.createElement(o.a,null,(function(t){return r.createElement(i.a,{variant:"body2",align:"center",style:Object(a.a)({opacity:.6,textShadow:"1px 1px 0px ".concat(t.emptyMessage.shadowColor)},e.style),title:e.tooltipText},e.children)}))}},203:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(2),r=n(386),o=function(e,t,n){var o=a.useContext(r.b),i=n.handler;a.useEffect((function(){if(t)return o.registerCommand(e,{handler:i}),function(){return o.deregisterCommand(e)}}),[o,e,t,i])},i=function(e,t,n){var o=a.useContext(r.b),i=n.generateOptions;a.useEffect((function(){if(t)return o.registerCommand(e,{generateOptions:i}),function(){return o.deregisterCommand(e)}}),[o,e,t,i])}},204:function(e,t,n){"use strict";var a=n(83),r=n(2),o=n(25),i=n.n(o),s={flex:1};t.a=r.forwardRef((function(e,t){var n=e.children,o=e.autoHideScrollbar,c=e.style,l=r.useRef(null);return r.useImperativeHandle(t,(function(){return{scrollTo:function(e){var t=i.a.findDOMNode(e);if(t instanceof HTMLElement){var n=t.getBoundingClientRect().top,a=l.current;if(a){var r=a.getBoundingClientRect().top;a.scrollTop+=n-r}}else console.error("Tried to scroll to something that is not a HTMLElement")}}})),r.createElement("div",{style:Object(a.a)(Object(a.a)({},s),{},{overflowY:o?"auto":"scroll"},c),ref:l},n)}))},205:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return f}));var a=n(178),r=n.n(a),o=n(565),i=n(26),s=n(424),c=function(e,t){return e&&e[t]?"s3Key"===t?"https://games.gdevelop-app.com/".concat(e[t],"/index.html"):"https://builds.gdevelop-app.com/".concat(e[t]):null},l=function(){var e="game-archive-"+Object(o.a)(),t=e+"/game-archive.zip";return Object(s.c)({uploadType:"build",key:t,contentType:"application/zip"}).then((function(e){return{signedUrl:e.signedUrl,contentType:"application/zip",key:t}}))},u=function(e,t,n,a){return e().then((function(e){return r.a.post("".concat(i.c.baseUrl,"/build?userId=").concat(encodeURIComponent(t),"&key=").concat(encodeURIComponent(n),"&type=electron-build&targets=").concat(encodeURIComponent(a.join(","))),null,{params:{},headers:{Authorization:e}})})).then((function(e){return e.data}))},d=function(e,t,n){return e().then((function(e){return r.a.post("".concat(i.c.baseUrl,"/build?userId=").concat(encodeURIComponent(t),"&key=").concat(encodeURIComponent(n),"&type=web-build&targets=s3"),null,{params:{},headers:{Authorization:e}})})).then((function(e){return e.data}))},m=function(e,t,n){return e().then((function(e){return r.a.post("".concat(i.c.baseUrl,"/build?userId=").concat(encodeURIComponent(t),"&key=").concat(encodeURIComponent(n),"&type=cordova-build"),null,{params:{},headers:{Authorization:e}})})).then((function(e){return e.data}))},p=function(e,t,n){return e().then((function(e){return r.a.get("".concat(i.c.baseUrl,"/build/").concat(n),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},f=function(e,t){return e().then((function(e){return r.a.get("".concat(i.c.baseUrl,"/build"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))}},209:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"h",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return m}));var a=function(){return{"PhysicsBehavior::PhysicsBehavior":{warning:{id:"A new physics engine (Physics Engine 2.0) is now available. You should prefer using it for new game. For existing games, note that the two behaviors are not compatible, so you should only use one of them with your objects."}}}},r=function(){return{"Video::VideoObject":!0,"SkeletonObject::Skeleton":!0}},o=function(){return{"Video::VideoObject":[{kind:"warning",message:{id:"Most browsers will require the user to have interacted with your game before allowing any video to play. Make sure that the player click/touch the screen at the beginning of the game before starting any video."}},{kind:"warning",message:{id:"For a given video resource, only one video will be played in memory and displayed. If you put this object multiple times on the scene, all the instances will be displaying the exact same video (with the same timing and paused/played/stopped state)."}},{kind:"info",message:{id:"Video format supported can vary according to devices and browsers. For maximum compatibility, use H.264/mp4 file format (and AAC for audio)."}}],"SkeletonObject::Skeleton":[{kind:"warning",message:{id:"This object is experimental and not actively maintained. It might have bugs or incomplete support in GDevelop. A maintainer is searched to improve the object implementation and solve any issue. Your help is welcome!"}},{kind:"info",message:{id:"Only use this object if you can contribute back to the source code or are able to remove/replace it from your game in a future version."}}]}},i=function(e){return 0===e.indexOf("PhysicsBehavior::")?{kind:"warning",message:{id:'This action is deprecated and should not be used anymore. Instead, use for all your objects the behavior called "Physics2" and the associated actions (in this case, all objects must be set up to use Physics2, you can\'t mix the behaviors).'}}:"TextObject::Size"===e?{kind:"warning",message:{id:"This action will create a new texture and re-render the text each time it is called, which is expensive and can reduce performances. Prefer to avoid changing a lot the character size of a text."}}:"PlayMusicCanal"===e||"PlayMusic"===e?{kind:"warning",message:{id:"Musics will only be played if the user has interacted with the game before (by clicking/touching it or pressing a key on the keyboard). This is due to browser limitations. Make sure to have the user interact with the game before using this action."}}:"P2P::OnEvent"===e?{kind:"info",message:{id:"Read the wiki page for more info about the dataloss mode."}}:0===e.indexOf("P2P::")?{kind:"warning",message:{id:"It is recommended to use your own custom broker server. Read the wiki page for more info."},identifier:"p2p-broker-recommendation"}:"SystemInfo::IsMobile"===e?{kind:"warning",message:{id:'Note that the distinction between what is a mobile device and what is not is becoming blurry (with devices like iPad pro and other "desktop-class" tablets). If you use this for mobile controls, prefer to check if the device has touchscreen support.'}}:"AdvancedWindow::SetClosable"===e||"AdvancedWindow::EnableWindow"===e||"AdvancedWindow::Show"===e||"AdvancedWindow::SetFocusable"===e||"AdvancedWindow::Focus"===e?{kind:"warning",message:{id:"Be careful with this action, you may have problems exiting the preview if you don't add a way to toggle it back."}}:"GetArgumentAsBoolean"===e?{kind:"info",message:{id:'If the parameter is a string or a number, you probably want to use the expressions "GetArgumentAsString" or "GetArgumentAsNumber", along with the conditions "Compare two strings" or "Compare two numbers".'}}:null},s={"screen-shake-timer-variables":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/screen-shake-timer-variables.jpg",name:"Screen Shake Effect with Timers and Variables",message:{id:"Learn how to add a screen shake effect when the player falls from a very high platform in a platformer."},link:"https://www.youtube.com/watch?v=0w0NGuj4OFQ",identifier:"screen-shake-timer-variables"},"ghost-enemy-following-player":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/ghost-enemy-following-player.jpg",name:"Ghost Enemy Following the Player",message:{id:"Make a ghost like enemy floating toward the player."},link:"https://www.youtube.com/watch?v=SLUlnhKuuqE",identifier:"ghost-enemy-following-player"},"melee-sword-attack":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/melee-sword-attack.jpg",name:"Melee/Sword Attack",message:{id:"Learn how to make a melee/sword attack with a randomly triggered animation each time a key is pressed."},link:"https://www.youtube.com/watch?v=3XT40kDRp8g",identifier:"melee-sword-attack"},"physics-engine-platformer-game":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/physics-engine-platformer-game.jpg",name:"Platformer with the physics engine",message:{id:"Learn how to make a platformer game using the physics engine."},link:"https://www.youtube.com/watch?v=96gNCmnQwaE",identifier:"physics-engine-platformer-game"},"tween-behavior":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/tween-behavior.jpg",name:"Tween Behavior",message:{id:"Learn how to use the Tween Behavior and how it can be used to add more life and animation to you projects."},link:"https://www.youtube.com/watch?v=SLqnwC9D5Q4",identifier:"tween-behavior"},"responsive-ui":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/responsive-ui.jpg",name:"Reponsive UI",message:{id:"Learn how to add responsive UI using anchors."},link:"https://www.youtube.com/watch?v=VgrEhg0esCg",identifier:"responsive-ui"},"smooth-camera-movement":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/smooth-camera-movement.jpg",name:"Smooth Camera Movement",message:{id:"Learn how to make the camera follow the player in a smooth movement."},link:"https://www.youtube.com/watch?v=yUNisggNh7s",identifier:"smooth-camera-movement"},"pause-menu":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/pause-menu.jpg",name:"Pause Menu",message:{id:"Learn how to stop the time and make a pause menu."},link:"https://www.youtube.com/watch?v=k2J784esdkc",identifier:"pause-menu"},"character-selection-feature":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/character-selection-feature.jpg",name:"Character Selection",message:{id:"Learn how to add a selector to choose a character (or anything else) in your game."},link:"https://www.youtube.com/watch?v=8DpsjXHd4ro",identifier:"character-selection-feature"},"push-objects":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/push-objects.jpg",name:"Push Objects",message:{id:"Learn how to push objects, like a box, in a platform game."},link:"https://www.youtube.com/watch?v=11tjJ0JgYuk",identifier:"push-objects"},"save-and-load":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/save-and-load.jpg",name:"Save and Load",message:{id:"Learn how to save the player progress, and other information, and to load them again later."},link:"https://www.youtube.com/watch?v=bXUGJqHhuCo",identifier:"save-and-load"},"particle-effects":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/particle-effects.jpg",name:"Particle Effects",message:{id:"Learn how to use particle emitters in GDevelop to create effects like fire, explosion, magic beam, etc..."},link:"https://www.youtube.com/watch?v=7sqMmTntvKs",identifier:"particle-effects"},"opening-chest":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/opening-chest.jpg",name:"Open a Loot Chest",message:{id:"How to open a loot chest with a key that the player can find in the level"},link:"https://www.youtube.com/watch?v=1qsCgwFtYfg",identifier:"opening-chest"},"health-bar-and-health-potion":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/health-bar-and-health-potion.jpg",name:"Create a Health Bar and Health Potion",message:{id:"How to show a health bar on screen and a potion to give back health to the player."},link:"https://www.youtube.com/watch?v=P-scQW7PeVg",identifier:"health-bar-and-health-potion"},"touch-360-joystick-controller":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/touch-360-joystick-controller.jpg",name:"Create a Touch 360 Joystick Controller",message:{id:"How to create a joystick displayed on screen, useful to control the player in mobile games."},link:"https://www.youtube.com/watch?v=-k-bVU3QrfA",identifier:"touch-360-joystick-controller"},"flickering-dynamic-light-effect":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/flickering-dynamic-light-effect.jpg",name:"Create a Flickering Dynamic Light Effect",message:{id:"Learn how to create a dynamic light following the player, with a flickering effect."},link:"https://www.youtube.com/watch?v=HolCWx4E0TU",identifier:"flickering-dynamic-light-effect"},"2d-platformer-shooter":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/2d-platformer-shooter.jpg",name:"Create a 2D Platformer Shooter",message:{id:"Create a 2D platform game where the player can shoot at enemies chasing him."},link:"https://www.youtube.com/watch?v=OOw3Sh6rga8",identifier:"2d-platformer-shooter"},"animated-buttons":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/animated-buttons.jpg",name:"Create Animated Buttons",message:{id:"Create animated buttons that can be shown in your game menus (main menu, selection screen, etc...)."},link:"https://www.youtube.com/watch?v=7_oLY_x4vEk",identifier:"animated-buttons"},"simple-trampoline-platformer":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/simple-trampoline-platformer.jpg",name:"Make a Simple Trampoline/Jump Pad",message:{id:"Create a trampoline in your platformer game, making the player jump very high when stepped on."},link:"https://www.youtube.com/watch?v=p42i4omA7j8",identifier:"simple-trampoline-platformer"},"2d-car-physics-movement":{kind:"video-tutorial",iconSrc:"res/tutorial_icons/2d-car-physics-movement.jpg",name:"How to Make a 2D Car or Bike Movement With Physics Engine",message:{id:"Learn how to create a physics based car movement."},link:"https://www.youtube.com/watch?v=_-fX755cctU",identifier:"2d-car-physics-movement"}},c=Object.keys(s).map((function(e){return s[e]})),l=function(e){return"ParticleSystem::ParticleEmitter"===e?[s["particle-effects"]]:"Lighting::LightObject"===e?[s["flickering-dynamic-light-effect"]]:[]},u=function(e){return"Tween::TweenBehavior"===e?[s["tween-behavior"]]:"AnchorBehavior::AnchorBehavior"===e?[s["responsive-ui"]]:"Physics2::Physics2Behavior"===e?[s["physics-engine-platformer-game"],s["2d-car-physics-movement"]]:[]},d=function(e){return["CameraX","CameraY","RotateCamera","ZoomCamera","FixCamera","CentreCamera"].includes(e)?[s["smooth-camera-movement"]]:"ChangeTimeScale"===e?[s["pause-menu"]]:["EcrireFichierExp","EcrireFichierTxt","LireFichierExp","LireFichierTxt"].includes(e)?[s["save-and-load"]]:"PlatformBehavior::SimulateJumpKey"===e?[s["simple-trampoline-platformer"]]:[]},m=function(){return c}},210:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));n(2);var a=!1;"undefined"!==typeof window&&window.addEventListener("touchstart",(function e(){console.info("Touch detected, considering the screen as touch enabled."),a=!0,window.removeEventListener("touchstart",e,!1)}),!1);var r=function(e){var t=e.children;return"undefined"===typeof window?t("normal"):t(a?"touch":"normal")},o=function(){return a?"touch":"normal"}},212:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a=n(2),r={authenticated:!1,profile:null,subscription:null,usages:null,limits:null,onLogout:function(){},onLogin:function(){},onCreateAccount:function(){},onRefreshUserProfile:function(){},getAuthorizationHeader:function(){return Promise.reject(new Error("Unimplemented"))}},o=a.createContext(r);t.a=o},213:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return h}));var a=n(114),r=n(4),o=n.n(r),i=o()("fs"),s=o()("path"),c=e.gd,l={image:"png,jpg,jpeg,PNG,JPG,JPEG",audio:"wav,mp3,ogg,WAV,MP3,OGG",font:"ttf,ttc,otf,TTF,TTC,OTF",video:"mp4,MP4"},u=function(e,t,n){var a=e.getResourcesManager();a.hasResource(n)&&a.removeResource(n),t.setFile(n),t.setName(n),h(e,t),a.addResource(t),t.delete()},d=function(e,t){var n=a.a.getResourceFullUrl(e,t,{}).substring(7);return-1!==n.indexOf("?cache=")&&(n=n.substring(0,n.lastIndexOf("?cache="))),n},m=function(e,t){var n=s.dirname(e.getProjectFile());return t.includes(n)},p=function(e,t){if(!i||!s)return Promise.resolve(t);var n=s.dirname(e.getProjectFile());return Promise.all(t.map((function(t){if(m(e,t))return t;var a=s.basename(t),r=s.join(n,a);return new Promise((function(e){i.copyFile(t,r,(function(n){return e(n?t:r)}))}))})))},f=function(e,t){if(!i)return"";var n=s.normalize(d(e,t));return i.existsSync(n)?m(e,n)?"":"warning":"error"},h=function(e,t){t instanceof c.ImageResource&&t.setSmooth("nearest"!==e.getScaleMode())}}).call(this,n(1))},215:function(e,t,n){"use strict";function a(e,t,n,a,r,o){this._pixiObject=null,this._instance=n,this._associatedObject=a,this._pixiContainer=r,this._project=e,this._layout=t,this._pixiResourcesLoader=o,this.wasUsed=!0}a.toRad=function(e){return e/180*3.14159},a.prototype.update=function(){},a.prototype.getPixiObject=function(){return this._pixiObject},a.prototype.getInstance=function(){return this._instance},a.prototype.instanceRemovedFromScene=function(){null!==this._pixiObject&&-1!==this._pixiContainer.children.indexOf(this._pixiObject)&&this._pixiContainer.removeChild(this._pixiObject)},a.prototype.getOriginX=function(){return 0},a.prototype.getOriginY=function(){return 0},a.prototype.getDefaultWidth=function(){return 32},a.prototype.getDefaultHeight=function(){return 32},t.a=a},221:function(e,t,n){"use strict";var a=n(2),r=n(605),o=a.createContext(r.a.gdevelopTheme);t.a=o},226:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(2),r=n(997),o=n.n(r),i=n(221),s=n(147),c=n.n(s),l=function(e){var t=a.useContext(i.a),n=a.useMemo((function(){return t=e.isStandaloneText||!1,{root:function(e){return t?a.createElement("div",e):a.createElement("span",e)},link:function(e){return a.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.children)},paragraph:function(e){return t?a.createElement("p",null,e.children):e.children}};var t}),[e.isStandaloneText]);return a.createElement(o.a,{escapeHtml:!0,source:e.source,className:c()({[t.markdownRootClassName]:!0,"standalone-text-container":e.isStandaloneText}),renderers:n})}},2262:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(87),d=n(157),m=n(90),p=n(79),f=n(497),h=n(2472),g=n(128),b=n(1470),v=n.n(b),E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:40},n=t.size,a=v()(e.trim().toLowerCase());return"https://www.gravatar.com/avatar/".concat(a,"?s=").concat(n,"&d=retro")},y=n(85),j=function(e){var t=e.profile;return t?c.createElement(p.a,null,c.createElement(p.b,{alignItems:"center"},c.createElement(h.a,{src:E(t.email||"",{size:40})}),c.createElement(p.c,null),c.createElement(y.a,{size:"title"},"You are connected as ",t.email)),c.createElement(p.b,null,c.createElement(y.a,null,c.createElement(s.Trans,{id:"An account allows you to access GDevelop services online."})))):c.createElement(g.a,null)},O=n(97),C=n(110),x=n(161),T=n(902),S=function(e){var t=e.usages;return c.createElement(p.a,{noMargin:!0},c.createElement(p.b,null,t?0===t.length?c.createElement(O.a,null,c.createElement(s.Trans,{id:"You don't have any usage of the online services for now"})):c.createElement(x.a,null,c.createElement(x.c,null,c.createElement(x.e,null,c.createElement(x.d,null,"Date"),c.createElement(x.d,null,"Type"))),c.createElement(x.b,null,t.map((function(e){return c.createElement(x.e,{key:e.id},c.createElement(x.f,null,Object(T.a)(e.createdAt,"yyyy-MM-dd HH:mm:ss")),c.createElement(x.f,null,e.type))})))):c.createElement(g.a,null)))},k=n(89),w=function(e){var t=e.subscription,n=e.onChangeSubscription;return t&&t.planId?c.createElement(p.a,null,c.createElement(p.b,null,c.createElement(y.a,null,c.createElement(s.Trans,{id:"You are subscribed to {0}. Congratulations! You have access to more online services, including building your game for Android, Windows, macOS and Linux in one click!",values:{0:t.planId}}))),c.createElement(p.b,{justifyContent:"center"},c.createElement(k.a,{label:c.createElement(s.Trans,{id:"Upgrade/change"}),primary:!0,onClick:n}))):t&&!t.planId?c.createElement(p.a,null,c.createElement(p.b,null,c.createElement(y.a,null,c.createElement(s.Trans,{id:"If you don't have a subscription, consider getting one now. Accounts allow you to access all of the online services. With just one click, you can build your game for Android, Windows, macOS and Linux!"}))),c.createElement(p.b,{justifyContent:"center"},c.createElement(k.a,{label:c.createElement(s.Trans,{id:"Choose a subscription"}),primary:!0,onClick:n}))):c.createElement(g.a,null)},N=n(212),_=n(100),P=n(120),I=n.n(P),R=n(133),B=n(98),M=n(236),F=n(498),A=n(2390),L=n(2391),D=n(2471),U=n(2392),V=n(501),W=n.n(V),G=n(500),z=n.n(G),H=function(e){var t=e.game,n=e.isCurrentGame,a=e.onOpenDetails,r=e.onOpenAnalytics,o=e.onOpenMonetization;return c.createElement(A.a,{key:t.id},c.createElement(L.a,{title:t.gameName,subheader:c.createElement(p.b,{alignItems:"center",noMargin:!0},c.createElement(s.Trans,{id:"Registered on {0}",values:{0:Object(T.a)(1e3*t.createdAt,"yyyy-MM-dd")}}),n&&c.createElement(c.Fragment,null,c.createElement(p.c,null),c.createElement(D.a,{size:"small",label:c.createElement(s.Trans,{id:"Game currently edited"})})))}),c.createElement(U.a,null,c.createElement(p.b,{expand:!0,noMargin:!0,justifyContent:"flex-end"},c.createElement(u.a,{label:c.createElement(s.Trans,{id:"See details"}),onClick:a}),c.createElement(k.a,{primary:!0,icon:c.createElement(W.a,null),label:c.createElement(s.Trans,{id:"Analytics"}),onClick:r}),c.createElement(p.c,null),c.createElement(k.a,{primary:!0,icon:c.createElement(z.a,null),label:c.createElement(s.Trans,{id:"Monetization"}),onClick:o}))))},K=n(96),Y=n(496),X=n(914),J=function(e){var t=c.useState(null),n=Object(B.a)(t,2),a=n[0],r=n[1],o=c.useState(null),i=Object(B.a)(o,2),l=i[0],u=i[1],d=c.useContext(N.a),m=d.authenticated,p=d.profile,f=d.getAuthorizationHeader,h=c.useState(null),b=Object(B.a)(h,2),v=b[0],E=b[1],y=c.useState("details"),j=Object(B.a)(y,2),O=j[0],C=j[1],x=c.useCallback(Object(R.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&p){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,r(null),e.next=6,Object(F.c)(f,p.uid);case 6:t=e.sent,u(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Error while loading user games.",e.t0),r(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])}))),[m,p,f]);if(c.useEffect((function(){x()}),[x]),!m)return null;if(!l&&a)return c.createElement(M.a,{onRetry:function(){x()}},c.createElement(s.Trans,{id:"Can't load the games. Verify your internet connection or retry later."}));if(!l)return c.createElement(g.a,null);var T=e.project?e.project.getProjectUuid():null,S=l.find((function(e){return!!T&&e.id===T})),k=[S].concat(Object(_.a)(l.filter((function(e){return e!==S})))).filter(Boolean);return c.createElement(K.a,{noMargin:!0},c.createElement(Y.a,{project:e.project,hideIfRegistered:!0,hideLoader:!0,onGameRegistered:function(){x()}}),k.map((function(e){return c.createElement(H,{key:e.id,isCurrentGame:!!T&&e.id===T,game:e,onOpenAnalytics:function(){C("analytics"),E(e)},onOpenDetails:function(){C("details"),E(e)},onOpenMonetization:function(){C("monetization"),E(e)}})})),v&&c.createElement(X.a,{game:v,project:T&&v.id===T?e.project:null,initialTab:O,onClose:function(){E(null)},onGameUpdated:function(e){u(l.map((function(t){return t===v?e:t}))),E(e)},onGameDeleted:function(){E(null),x()}}))};n.d(t,"a",(function(){return q}));var q=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={currentTab:e.props.initialTab},e._onChangeTab=function(t){return e.setState({currentTab:t})},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.open,a=t.onClose,r=[l.a.createElement(u.a,{label:l.a.createElement(s.Trans,{id:"Close"}),key:"close",primary:!1,onClick:a})];return l.a.createElement(N.a.Consumer,null,(function(t){return l.a.createElement(m.a,{actions:r,secondaryActions:[l.a.createElement(C.a,{key:"help",helpPagePath:"games-dashboard"===e.state.currentTab?"/interface/games-dashboard":"/interface/profile"}),t.authenticated&&l.a.createElement(u.a,{label:l.a.createElement(s.Trans,{id:"Refresh"}),key:"refresh",onClick:t.onRefreshUserProfile}),t.authenticated&&t.profile&&l.a.createElement(u.a,{label:l.a.createElement(s.Trans,{id:"Logout"}),key:"logout",onClick:t.onLogout})],onRequestClose:a,cannotBeDismissed:!1,open:n,noMargin:!0},l.a.createElement(d.b,{value:e.state.currentTab,onChange:e._onChangeTab},l.a.createElement(d.a,{label:l.a.createElement(s.Trans,{id:"My Profile"}),value:"profile"}),l.a.createElement(d.a,{label:l.a.createElement(s.Trans,{id:"Games Dashboard"}),value:"games-dashboard"}),l.a.createElement(d.a,{label:l.a.createElement(s.Trans,{id:"Services Usage"}),value:"usage"})),"profile"===e.state.currentTab&&(t.authenticated?l.a.createElement(p.a,{noMargin:!0},l.a.createElement(j,{profile:t.profile}),l.a.createElement(w,{subscription:t.subscription,onChangeSubscription:e.props.onChangeSubscription})):l.a.createElement(p.a,null,l.a.createElement(f.a,{onLogin:t.onLogin,onCreateAccount:t.onCreateAccount}))),"games-dashboard"===e.state.currentTab&&(t.authenticated?l.a.createElement(p.b,null,l.a.createElement(K.a,{expand:!0},l.a.createElement(J,{project:e.props.currentProject}))):l.a.createElement(p.a,null,l.a.createElement(f.a,{onLogin:t.onLogin,onCreateAccount:t.onCreateAccount,message:l.a.createElement(s.Trans,{id:"Create an account to register your games and to get access to metrics collected anonymously, like the number of daily players and retention of the players after a few days."})}))),"usage"===e.state.currentTab&&(t.authenticated?l.a.createElement(p.a,{noMargin:!0},l.a.createElement(S,{usages:t.usages})):l.a.createElement(O.a,null,l.a.createElement(s.Trans,{id:"Register to see the usage that you've made of the online services"}))))}))}}]),n}(c.Component)},2263:function(e,t,n){"use strict";var a=n(100),r=n(83),o=n(6),i=n(12),s=n(23),c=n(22),l=n(137),u=n(77),d=n(2),m=n.n(d),p=n(102),f=n(99),h=n(150),g=n(303),b=n.n(g),v=n(139),E=n(465),y=n(3),j=n(230),O=n(98),C=n(87),x=n(159),T=n(117),S=n(118),k=n(90),w=n(109),N=n(472),_=n(650),P=n(177),I=n(110),R=n(96),B=n(85),M=n(232),F=n(263),A=n(2363);var L=function(e){for(var t=e.project,n=t.getCurrentPlatform().getAllPlatformExtensions(),a=[],r=function(e){var r=n.at(e),o=t.getExtensionProperties().getAllExtensionProperties(r.getName(),t);if(0===o.keys().size())return"continue";var i=Object(F.a)(o,(function(e){return t.getExtensionProperties().getAllExtensionProperties(r.getName(),t)}),(function(e,n,a){"boolean"===t.getExtensionProperties().getAllExtensionProperties(r.getName(),t).get(n).getType()?t.getExtensionProperties().setValue(r.getName(),n,"1"===a?"true":"false"):t.getExtensionProperties().setValue(r.getName(),n,a)}));a.push(d.createElement(R.a,{key:r.getName(),noMargin:!0},d.createElement(B.a,{size:"title"},r.getFullName()),d.createElement(M.a,{schema:i,instances:[r.getAllProperties()]})))},o=0;o<n.size();o++)r(o);return a.length?d.createElement(A.a,null,a):null},D=n(308),U=n(89),V=n(126),W=n(496);var G=function(e){var t=e.project,n=d.useRef(null),a=d.useMemo((function(){return function(e){return{gameResolutionWidth:e.getGameResolutionWidth(),gameResolutionHeight:e.getGameResolutionHeight(),adaptGameResolutionAtRuntime:e.getAdaptGameResolutionAtRuntime(),name:e.getName(),author:e.getAuthor(),version:e.getVersion(),packageName:e.getPackageName(),orientation:e.getOrientation(),scaleMode:e.getScaleMode(),sizeOnStartupMode:e.getSizeOnStartupMode(),showGDevelopSplash:e.getLoadingScreen().isGDevelopSplashShown(),minFPS:e.getMinimumFPS(),maxFPS:e.getMaximumFPS(),isFolderProject:e.isFolderProject(),useDeprecatedZeroAsDefaultZOrder:e.getUseDeprecatedZeroAsDefaultZOrder()}}(t)}),[t]),r=d.useState(a.name),o=Object(O.a)(r,2),i=o[0],s=o[1],c=d.useState(a.gameResolutionWidth),l=Object(O.a)(c,2),m=l[0],p=l[1],f=d.useState(a.gameResolutionHeight),h=Object(O.a)(f,2),g=h[0],b=h[1],v=d.useState(a.adaptGameResolutionAtRuntime),E=Object(O.a)(v,2),j=E[0],M=E[1],F=d.useState(a.author),A=Object(O.a)(F,2),G=A[0],z=A[1],H=d.useState(a.version),K=Object(O.a)(H,2),Y=K[0],X=K[1],J=d.useState(a.packageName),q=Object(O.a)(J,2),Z=q[0],Q=q[1],$=d.useState(a.orientation),ee=Object(O.a)($,2),te=ee[0],ne=ee[1],ae=d.useState(a.scaleMode),re=Object(O.a)(ae,2),oe=re[0],ie=re[1],se=d.useState(a.sizeOnStartupMode),ce=Object(O.a)(se,2),le=ce[0],ue=ce[1],de=d.useState(a.showGDevelopSplash),me=Object(O.a)(de,2),pe=me[0],fe=me[1],he=d.useState(a.minFPS),ge=Object(O.a)(he,2),be=ge[0],ve=ge[1],Ee=d.useState(a.maxFPS),ye=Object(O.a)(Ee,2),je=ye[0],Oe=ye[1],Ce=d.useState(a.isFolderProject),xe=Object(O.a)(Ce,2),Te=xe[0],Se=xe[1],ke=d.useState(a.useDeprecatedZeroAsDefaultZOrder),we=Object(O.a)(ke,2),Ne=we[0],_e=we[1],Pe=Object(D.a)({serializableObject:t.getExtensionProperties(),onCancel:e.onClose});return d.createElement(d.Fragment,null,d.createElement(k.a,{actions:[d.createElement(C.a,{label:d.createElement(u.Trans,{id:"Cancel"}),primary:!1,onClick:Pe,key:"cancel"}),d.createElement(C.a,{label:d.createElement(u.Trans,{id:"Apply"}),primary:!0,onClick:function(){(function(e,t){var n=function(e){return e},a=t.gameResolutionWidth,r=t.gameResolutionHeight,o=t.adaptGameResolutionAtRuntime,i=t.name,s=t.author,c=t.version,l=t.packageName,u=t.orientation,d=t.scaleMode,m=t.sizeOnStartupMode,p=t.showGDevelopSplash,f=t.minFPS,h=t.maxFPS,g=t.isFolderProject,b=t.useDeprecatedZeroAsDefaultZOrder;return e.setGameResolutionSize(a,r),e.setAdaptGameResolutionAtRuntime(o),e.setName(i),e.setAuthor(s),e.setVersion(c),e.setPackageName(l),e.setOrientation(u),e.setScaleMode(d),e.setSizeOnStartupMode(m),e.setMinimumFPS(f),e.setMaximumFPS(h),e.getLoadingScreen().showGDevelopSplash(p),e.setFolderProject(g),e.setUseDeprecatedZeroAsDefaultZOrder(b),Object(_.a)(n,Object(_.b)(n,e))})(t,{gameResolutionWidth:m,gameResolutionHeight:g,adaptGameResolutionAtRuntime:j,name:i,author:G,version:Y,packageName:Z,orientation:te,scaleMode:oe,sizeOnStartupMode:le,showGDevelopSplash:pe,minFPS:be,maxFPS:je,isFolderProject:Te,useDeprecatedZeroAsDefaultZOrder:Ne})&&e.onApply()},key:"apply"})],secondaryActions:[d.createElement(I.a,{helpPagePath:"/interface/project-manager/properties",key:"help"})],title:d.createElement(u.Trans,{id:"Project properties"}),cannotBeDismissed:!0,open:e.open,onRequestClose:Pe},d.createElement(R.a,{noMargin:!0},d.createElement(w.a,{floatingLabelText:d.createElement(u.Trans,{id:"Game name"}),fullWidth:!0,type:"text",value:i,onChange:s,autoFocus:!0}),d.createElement(x.a,{label:d.createElement(u.Trans,{id:"Display GDevelop splash at startup (in exported game)"}),checked:pe,onCheck:function(e,t){(t||!n.current||n.current.checkHasSubscription())&&fe(t)}}),d.createElement(w.a,{floatingLabelText:d.createElement(u.Trans,{id:"Version number (X.Y.Z)"}),fullWidth:!0,hintText:"1.0.0",type:"text",value:Y,onChange:X}),d.createElement(w.a,{floatingLabelText:d.createElement(u.Trans,{id:"Package name (for iOS and Android)"}),fullWidth:!0,hintText:"com.example.mygame",type:"text",value:Z,onChange:Q,errorText:Object(_.c)(Z)?void 0:d.createElement(u.Trans,{id:'The package name is containing invalid characters or not following the convention "xxx.yyy.zzz" (numbers allowed after a letter only).'})}),d.createElement(w.a,{floatingLabelText:d.createElement(u.Trans,{id:"Author name"}),fullWidth:!0,hintText:{id:"Your name"},type:"text",value:G,onChange:z}),Ne?d.createElement(d.Fragment,null,d.createElement(B.a,{size:"title"},d.createElement(u.Trans,{id:"Z Order of objects created from events"})),d.createElement(V.a,{kind:"info"},d.createElement(u.Trans,{id:"When you create an object using an action, GDevelop now sets the Z order of the object to the maximum value that was found when starting the scene for each layer. This allow to make sure that objects that you create are in front of others. This game was created before this change, so GDevelop maintains the old behavior: newly created objects Z order is set to 0. It's recommended that you switch to the new behavior by clicking the following button."})),d.createElement(u.I18n,null,(function(e){var t=e.i18n;return d.createElement(U.a,{onClick:function(){y.b.showConfirmDialog(t._({id:"Make sure to verify all your events creating objects, and optionally add an action to set the Z order back to 0 if it's important for your game. Do you want to continue (recommened)?"}))&&_e(!1)},label:d.createElement(u.Trans,{id:"Switch to create objects with the highest Z order of the layer"})})}))):null,d.createElement(B.a,{size:"title"},d.createElement(u.Trans,{id:"Analytics"})),d.createElement(W.a,{project:t}),d.createElement(B.a,{size:"title"},d.createElement(u.Trans,{id:"Resolution and rendering"})),d.createElement(R.b,{noMargin:!0},d.createElement(w.a,{floatingLabelText:d.createElement(u.Trans,{id:"Game resolution width"}),fullWidth:!0,type:"number",value:""+m,onChange:function(e){return p(Math.max(1,parseInt(e,10)))}}),d.createElement(w.a,{floatingLabelText:d.createElement(u.Trans,{id:"Game resolution height"}),fullWidth:!0,type:"number",value:""+g,onChange:function(e){return b(Math.max(1,parseInt(e,10)))}})),d.createElement(T.a,{fullWidth:!0,floatingLabelText:d.createElement(u.Trans,{id:"Game resolution resize mode (fullscreen or window)"}),value:le,onChange:function(e,t,n){return ue(n)}},d.createElement(S.a,{value:"",primaryText:{id:"No changes to the game size"}}),d.createElement(S.a,{value:"adaptWidth",primaryText:{id:"Change width to fit the screen or window size"}}),d.createElement(S.a,{value:"adaptHeight",primaryText:{id:"Change height to fit the screen or window size"}})),d.createElement(x.a,{label:d.createElement(u.Trans,{id:"Update resolution during the game to fit the screen or window size"}),disabled:""===le,checked:j,onCheck:function(e,t){return M(t)}}),d.createElement(R.b,{noMargin:!0},d.createElement(w.a,{floatingLabelText:d.createElement(u.Trans,{id:"Minimum FPS"}),fullWidth:!0,type:"number",value:""+be,onChange:function(e){return ve(Math.max(0,parseInt(e,10)))}}),d.createElement(w.a,{floatingLabelText:d.createElement(u.Trans,{id:"Maximum FPS (0 to disable)"}),fullWidth:!0,type:"number",value:""+je,onChange:function(e){return Oe(Math.max(0,parseInt(e,10)))}})),je>0&&je<60&&d.createElement(P.a,{identifier:"maximum-fps-too-low",kind:"warning"},d.createElement(u.Trans,{id:"Most monitors have a refresh rate of 60 FPS. Setting a maximum number of FPS under 60 will force the game to skip frames, and the real number of FPS will be way below 60, making the game laggy and impacting the gameplay negatively. Consider putting 60 or more for the maximum number or FPS, or disable it by setting 0."})),be<20&&d.createElement(P.a,{identifier:"minimum-fps-too-low",kind:"warning"},d.createElement(u.Trans,{id:"Setting the minimum number of FPS below 20 will increase a lot the time that is allowed between the simulation of two frames of the game. If case of a sudden slowdown, or on slow computers, this can create buggy behaviors like objects passing beyond a wall. Consider setting 20 as the minimum FPS."})),d.createElement(T.a,{fullWidth:!0,floatingLabelText:d.createElement(u.Trans,{id:"Device orientation (for iOS and Android)"}),value:te,onChange:function(e,t,n){return ne(n)}},d.createElement(S.a,{value:"default",primaryText:{id:"Platform default"}}),d.createElement(S.a,{value:"landscape",primaryText:{id:"Landscape"}}),d.createElement(S.a,{value:"portrait",primaryText:{id:"Portrait"}})),d.createElement(T.a,{fullWidth:!0,floatingLabelText:d.createElement(u.Trans,{id:'Scale mode (also called "Sampling")'}),value:oe,onChange:function(e,t,n){return ie(n)}},d.createElement(S.a,{value:"linear",primaryText:{id:"Linear (antialiased rendering, good for most games)"}}),d.createElement(S.a,{value:"nearest",primaryText:{id:"Nearest (no antialiasing, good for pixel perfect games)"}})),"nearest"===oe&&d.createElement(P.a,{identifier:"use-non-smoothed-textures",kind:"info"},d.createElement(u.Trans,{id:"To obtain the best pixel-perfect effect possible, go in the resources editor and disable the Smoothing for all images of your game. It will be done automatically for new images added from now."})),d.createElement(B.a,{size:"title"},d.createElement(u.Trans,{id:"Project files"})),d.createElement(T.a,{fullWidth:!0,floatingLabelText:d.createElement(u.Trans,{id:"Project file type"}),value:Te?"folder-project":"single-file",onChange:function(e,t,n){return Se("folder-project"===n)}},d.createElement(S.a,{value:"single-file",primaryText:{id:"Single file (default)"}}),d.createElement(S.a,{value:"folder-project",primaryText:{id:"Multiple files, saved in folder next to the main file"}}))),d.createElement(L,{project:t})),d.createElement(N.a,{ref:n,onChangeSubscription:function(){Pe(),e.onChangeSubscription()},mode:"mandatory",id:"Disable GDevelop splash at startup",title:d.createElement(u.Trans,{id:"Disable GDevelop splash at startup"})}))},z=n(318),H=n(130),K=n(231),Y=n(131),X=n(104),J=n(1452),q=n.n(J),Z=n(915),Q=n(266),$=n(24),ee=n(505),te=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.onClose;return m.a.createElement(u.I18n,null,(function(t){var r=t.i18n;return m.a.createElement(Q.a.Consumer,null,(function(t){var o=t.getEventsFunctionsExtensionOpener();return m.a.createElement(k.a,{title:m.a.createElement(u.Trans,{id:"Search for New Extensions"}),actions:[m.a.createElement(C.a,{key:"close",label:m.a.createElement(u.Trans,{id:"Close"}),primary:!0,onClick:a})],secondaryActions:[m.a.createElement(I.a,{key:"help",helpPagePath:"/extensions/search"}),o?m.a.createElement(C.a,{icon:m.a.createElement(q.a,null),key:"import",label:m.a.createElement(u.Trans,{id:"Import extension"}),onClick:function(){!function(e,t,n){var a=t.getEventsFunctionsExtensionOpener();if(a)a.chooseEventsFunctionExtensionFile().then((function(r){if(r)return a.readEventsFunctionExtensionFile(r).then((function(a){if(n.hasEventsFunctionsExtensionNamed(a.name)&&!y.b.showConfirmDialog(e._({id:"An extension with this name already exists in the project. Importing this extension will replace it: are you sure you want to continue?"})))return;return Object(ee.a)(t,n,[a])}))})).catch((function(t){Object($.a)({message:e._({id:"An error happened while loading this extension. Please check that it is a proper extension file and compatible with this version of GDevelop"}),rawError:t,errorId:"extension-loading-error"})}))}(r,t,n)}}):null],cannotBeDismissed:!0,open:!0,noMargin:!0,onRequestClose:a},m.a.createElement(Z.a,{project:n,onNewExtensionInstalled:function(){},onRegistryLoaded:function(){e.forceUpdate()},showOnlyWithBehaviors:!1}))}))}))}}]),n}(d.Component),ne=n(307),ae=n.n(ne),re=n(1462),oe=n.n(re),ie=n(1463),se=n.n(ie),ce=n(1460),le=n.n(ce),ue=n(1457),de=n.n(ue),me=n(617),pe=m.a.memo((function(e){return m.a.createElement(me.a,e,m.a.createElement("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}))})),fe=n(1464),he=n.n(fe),ge=n(1459),be=n.n(ge),ve=n(1458),Ee=n.n(ve),ye=n(1461),je=n.n(ye),Oe=n(501),Ce=n.n(Oe),xe=n(720),Te=n(723),Se=n(724),ke=n(203),we=function(e){return Object(ke.a)("OPEN_PROJECT_PROPERTIES",!!e.project,{handler:e.onOpenProjectProperties}),Object(ke.a)("OPEN_PROJECT_VARIABLES",!!e.project,{handler:e.onOpenProjectVariables}),Object(ke.a)("OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG",!!e.project,{handler:e.onOpenPlatformSpecificAssetsDialog}),Object(ke.a)("OPEN_PROJECT_RESOURCES",!!e.project,{handler:e.onOpenResourcesDialog}),null},Ne=n(129);n.d(t,"a",(function(){return Re}));var _e={container:{flex:1,display:"flex",flexDirection:"column",overflowY:"hidden"},list:{flex:1,overflowY:"scroll",padding:0},noIndentNestedList:{padding:0},itemName:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},itemTextField:{top:f.c}},Pe=function(e){return d.createElement(X.a,null,(function(t){var n=e.error,a=e.leftIcon,r=e.onRefresh,o=e.indentNestedItems,i=Object(l.a)(e,["error","leftIcon","onRefresh","indentNestedItems"]);return d.createElement(p.b,Object.assign({style:{backgroundColor:t.listItem.groupBackgroundColor,borderBottom:"1px solid ".concat(t.listItem.separatorColor)},nestedListStyle:o?void 0:_e.noIndentNestedList},i,{leftIcon:n?d.createElement(b.a,null):a,displayReloadButton:!!n,onReload:r,reloadButtonTooltip:"An error has occured in functions. Click to reload them."}))}))},Ie=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this;!e.editingName&&this.props.editingName&&setTimeout((function(){t.textField&&t.textField.focus()}),100)}},{key:"render",value:function(){var e=this,t=this.props.editingName?d.createElement(f.b,{id:"rename-item-field",margin:"none",ref:function(t){return e.textField=t},defaultValue:this.props.primaryText,onBlur:function(t){return e.props.onRename(t.currentTarget.value)},onKeyPress:function(t){Object(Ne.e)(t)&&e.textField&&e.textField.blur()},fullWidth:!0,style:_e.itemTextField}):d.createElement("div",{style:_e.itemName},this.props.primaryText);return d.createElement(X.a,null,(function(n){return d.createElement(u.I18n,null,(function(o){o.i18n;return d.createElement(p.b,{style:Object(r.a)({borderBottom:"1px solid ".concat(n.listItem.separatorColor)},e.props.style),primaryText:t,displayMenuButton:!0,buildMenuTemplate:function(t){return[{label:t._({id:"Edit"}),click:function(){return e.props.onEdit()}}].concat(Object(a.a)(e.props.buildExtraMenuTemplate?e.props.buildExtraMenuTemplate(t):[]),[{type:"separator"},{label:t._({id:"Rename"}),click:function(){return e.props.onEditName()}},{label:t._({id:"Delete"}),click:function(){return e.props.onDelete()}},{label:e.props.addLabel,visible:!!e.props.onAdd,click:function(){return e.props.onAdd()}},{type:"separator"},{label:t._({id:"Copy"}),click:function(){return e.props.onCopy()}},{label:t._({id:"Cut"}),click:function(){return e.props.onCut()}},{label:t._({id:"Paste"}),enabled:e.props.canPaste(),click:function(){return e.props.onPaste()}},{label:t._({id:"Duplicate"}),click:function(){return e.props.onDuplicate()}},{type:"separator"},{label:t._({id:"Move up"}),enabled:e.props.canMoveUp,click:function(){return e.props.onMoveUp()}},{label:t._({id:"Move down"}),enabled:e.props.canMoveDown,click:function(){return e.props.onMoveDown()}}])},onClick:function(){e.props.editingName||e.props.onEdit()}})}))}))}}]),n}(d.Component),Re=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={editedPropertiesLayout:null,editedVariablesLayout:null,renamedItemKind:null,renamedItemName:"",searchText:"",projectPropertiesDialogOpen:!1,projectVariablesEditorOpen:!1,extensionsSearchDialogOpen:!1,layoutPropertiesDialogOpen:!1,layoutVariablesDialogOpen:!1},e._openProjectProperties=function(){e.setState({projectPropertiesDialogOpen:!0})},e._openProjectVariables=function(){e.setState({projectVariablesEditorOpen:!0})},e._onEditName=function(t,n){e.setState({renamedItemKind:t,renamedItemName:n})},e._copyLayout=function(e){K.a.set("Layout",{layout:Object(Y.b)(e),name:e.getName()})},e._cutLayout=function(t){e._copyLayout(t),e.props.onDeleteLayout(t)},e._pasteLayout=function(t){if(K.a.has("Layout")){var n=K.a.get("Layout"),a=n.layout,r=n.name,o=e.props.project,i=Object(H.a)(r,(function(e){return o.hasLayoutNamed(e)})),s=o.insertNewLayout(i,t);Object(Y.c)(s,a,"unserializeFrom",o),s.setName(i),s.updateBehaviorsSharedData(o),e._onProjectItemModified()}},e._duplicateLayout=function(t,n){e._copyLayout(t),e._pasteLayout(n)},e._addLayout=function(t){var n=e.props.project,a=Object(H.a)("New scene",(function(e){return n.hasLayoutNamed(e)})),r=n.insertNewLayout(a,t+1);r.setName(a),r.updateBehaviorsSharedData(n),e._onProjectItemModified()},e._onOpenLayoutProperties=function(t){e.setState({editedPropertiesLayout:t})},e._onOpenLayoutVariables=function(t){e.setState({editedVariablesLayout:t})},e._addExternalEvents=function(t){var n=e.props.project,a=Object(H.a)("NewExternalEvents",(function(e){return n.hasExternalEventsNamed(e)}));n.insertNewExternalEvents(a,t+1),e._onProjectItemModified()},e._addExternalLayout=function(t){var n=e.props.project,a=Object(H.a)("NewExternalLayout",(function(e){return n.hasExternalLayoutNamed(e)}));n.insertNewExternalLayout(a,t+1),e._onProjectItemModified()},e._addEventsFunctionsExtension=function(t){var n=e.props.project,a=Object(H.a)("NewExtension",(function(e){return Object(Se.a)(e,n)}));n.insertNewEventsFunctionsExtension(a,t+1),e._onProjectItemModified()},e._moveUpLayout=function(t){var n=e.props.project;t<=0||(n.swapLayouts(t,t-1),e._onProjectItemModified())},e._moveDownLayout=function(t){var n=e.props.project;t>=n.getLayoutsCount()-1||(n.swapLayouts(t,t+1),e._onProjectItemModified())},e._copyExternalEvents=function(e){K.a.set("External events",{externalEvents:Object(Y.b)(e),name:e.getName()})},e._cutExternalEvents=function(t){e._copyExternalEvents(t),e.props.onDeleteExternalEvents(t)},e._pasteExternalEvents=function(t){if(K.a.has("External events")){var n=K.a.get("External events"),a=n.externalEvents,r=n.name,o=e.props.project,i=Object(H.a)(r,(function(e){return o.hasExternalEventsNamed(e)})),s=o.insertNewExternalEvents(i,t);Object(Y.c)(s,a,"unserializeFrom",o),s.setName(i),e._onProjectItemModified()}},e._duplicateExternalEvents=function(t,n){e._copyExternalEvents(t),e._pasteExternalEvents(n)},e._moveUpExternalEvents=function(t){var n=e.props.project;t<=0||(n.swapExternalEvents(t,t-1),e._onProjectItemModified())},e._moveDownExternalEvents=function(t){var n=e.props.project;t>=n.getExternalEventsCount()-1||(n.swapExternalEvents(t,t+1),e._onProjectItemModified())},e._copyExternalLayout=function(e){K.a.set("External layout",{externalLayout:Object(Y.b)(e),name:e.getName()})},e._cutExternalLayout=function(t){e._copyExternalLayout(t),e.props.onDeleteExternalLayout(t)},e._pasteExternalLayout=function(t){if(K.a.has("External layout")){var n=K.a.get("External layout"),a=n.externalLayout,r=n.name,o=e.props.project,i=Object(H.a)(r,(function(e){return o.hasExternalLayoutNamed(e)})),s=o.insertNewExternalLayout(i,t);Object(Y.c)(s,a),s.setName(i),e._onProjectItemModified()}},e._duplicateExternalLayout=function(t,n){e._copyExternalLayout(t),e._pasteExternalLayout(n)},e._moveUpExternalLayout=function(t){var n=e.props.project;t<=0||(n.swapExternalLayouts(t,t-1),e._onProjectItemModified())},e._moveDownExternalLayout=function(t){var n=e.props.project;t>=n.getExternalLayoutsCount()-1||(n.swapExternalLayouts(t,t+1),e._onProjectItemModified())},e._copyEventsFunctionsExtension=function(e){K.a.set("Events Functions Extension",{eventsFunctionsExtension:Object(Y.b)(e),name:e.getName()})},e._cutEventsFunctionsExtension=function(t){e._copyEventsFunctionsExtension(t),e.props.onDeleteEventsFunctionsExtension(t)},e._duplicateEventsFunctionsExtension=function(t,n){e._copyEventsFunctionsExtension(t),e._pasteEventsFunctionsExtension(n)},e._pasteEventsFunctionsExtension=function(t){if(K.a.has("Events Functions Extension")){var n=K.a.get("Events Functions Extension"),a=n.eventsFunctionsExtension,r=n.name,o=e.props.project,i=Object(H.a)(r,(function(e){return Object(Se.a)(e,o)})),s=o.insertNewEventsFunctionsExtension(i,t);Object(Y.c)(s,a,"unserializeFrom",o),s.setName(i),e._onProjectItemModified(),e.props.onReloadEventsFunctionsExtensions()}},e._moveUpEventsFunctionsExtension=function(t){var n=e.props.project;t<=0||(n.swapEventsFunctionsExtensions(t,t-1),e._onProjectItemModified())},e._moveDownEventsFunctionsExtension=function(t){var n=e.props.project;t>=n.getEventsFunctionsExtensionsCount()-1||(n.swapEventsFunctionsExtensions(t,t+1),e._onProjectItemModified())},e._onSearchChange=function(t){return e.setState({searchText:t})},e._onRequestSearch=function(){},e._onProjectItemModified=function(){e.forceUpdate(),e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges()},e}return Object(i.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return t.projectPropertiesDialogOpen!==this.state.projectPropertiesDialogOpen||(t.projectVariablesEditorOpen!==this.state.projectVariablesEditorOpen||!e.freezeUpdate)}},{key:"componentDidUpdate",value:function(e){!this.props.freezeUpdate&&e.freezeUpdate&&Object(h.b)()&&this._searchBar&&this._searchBar.focus()}},{key:"_renderMenu",value:function(){var e=this;return y.b.hasMainMenu()?null:d.createElement(d.Fragment,null,d.createElement(p.b,{key:"save",primaryText:d.createElement(u.Trans,{id:"Save"}),leftIcon:d.createElement(de.a,null),onClick:function(){return e.props.onSaveProject()}}),d.createElement(p.b,{key:"save-as",primaryText:d.createElement(u.Trans,{id:"Save as..."}),leftIcon:d.createElement(Ee.a,null),onClick:function(){return e.props.onSaveProjectAs()}}),d.createElement(p.b,{key:"export",primaryText:d.createElement(u.Trans,{id:"Export"}),leftIcon:d.createElement(be.a,null),onClick:function(){return e.props.onExportProject()}}),d.createElement(p.b,{key:"close",primaryText:d.createElement(u.Trans,{id:"Close"}),leftIcon:d.createElement(ae.a,null),onClick:function(){return e.props.onCloseProject()}}),d.createElement(p.b,{key:"preferences",primaryText:d.createElement(u.Trans,{id:"Preferences"}),leftIcon:d.createElement(le.a,null),onClick:function(){return e.props.onOpenPreferences()}}),d.createElement(p.b,{key:"profile",primaryText:d.createElement(u.Trans,{id:"My profile"}),leftIcon:d.createElement(je.a,null),onClick:function(){return e.props.onOpenProfile()}}),d.createElement(p.b,{key:"games-dashboard",primaryText:d.createElement(u.Trans,{id:"Published Games Dashboard"}),leftIcon:d.createElement(Ce.a,null),onClick:function(){return e.props.onOpenGamesDashboard()}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.eventsFunctionsExtensionsError,r=t.onReloadEventsFunctionsExtensions,o=this.state,i=o.renamedItemKind,s=o.renamedItemName,c=o.searchText,l=""!==c||void 0;return d.createElement("div",{style:_e.container},d.createElement(we,{project:this.props.project,onOpenProjectProperties:this._openProjectProperties,onOpenProjectVariables:this._openProjectVariables,onOpenResourcesDialog:this.props.onOpenResources,onOpenPlatformSpecificAssetsDialog:this.props.onOpenPlatformSpecificAssets}),d.createElement(p.a,{style:_e.list},this._renderMenu(),d.createElement(Pe,{primaryText:d.createElement(u.Trans,{id:"Game settings"}),leftIcon:d.createElement(v.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/projectManager32.png"}),initiallyOpen:!1,autoGenerateNestedIndicator:!0,indentNestedItems:!0,renderNestedItems:function(){return[d.createElement(p.b,{key:"properties",primaryText:d.createElement(u.Trans,{id:"Properties"}),leftIcon:d.createElement(oe.a,null),onClick:e._openProjectProperties}),d.createElement(p.b,{key:"global-variables",primaryText:d.createElement(u.Trans,{id:"Global variables"}),leftIcon:d.createElement(pe,null),onClick:e._openProjectVariables}),d.createElement(p.b,{key:"icons",primaryText:d.createElement(u.Trans,{id:"Icons"}),leftIcon:d.createElement(se.a,null),onClick:function(){return e.props.onOpenPlatformSpecificAssets()}}),d.createElement(p.b,{key:"resources",primaryText:d.createElement(u.Trans,{id:"Resources"}),leftIcon:d.createElement(he.a,null),onClick:function(){e.props.onOpenResources()}})]}}),d.createElement(Pe,{primaryText:d.createElement(u.Trans,{id:"Scenes"}),leftIcon:d.createElement(v.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/sceneadd32.png"}),initiallyOpen:!0,open:l,autoGenerateNestedIndicator:!l,renderNestedItems:function(){return Object(z.e)(Object(z.d)(n),c).map((function(t,a){var r=t.getName();return d.createElement(Ie,{key:a,primaryText:r,editingName:"layout"===i&&s===r,onEdit:function(){return e.props.onOpenLayout(r)},onDelete:function(){return e.props.onDeleteLayout(t)},addLabel:"Add a New Scene",onAdd:function(){return e._addLayout(a)},onRename:function(t){e.props.onRenameLayout(r,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("layout",r)},onCopy:function(){return e._copyLayout(t)},onCut:function(){return e._cutLayout(t)},onPaste:function(){return e._pasteLayout(a)},onDuplicate:function(){return e._duplicateLayout(t,a)},canPaste:function(){return K.a.has("Layout")},canMoveUp:0!==a,onMoveUp:function(){return e._moveUpLayout(a)},canMoveDown:a!==n.getLayoutsCount()-1,onMoveDown:function(){return e._moveDownLayout(a)},buildExtraMenuTemplate:function(n){return[{label:n._({id:"Edit Scene Properties"}),enabled:!0,click:function(){return e._onOpenLayoutProperties(t)}},{label:n._({id:"Edit Scene Variables"}),enabled:!0,click:function(){return e._onOpenLayoutVariables(t)}}]}})})).concat(d.createElement(E.a,{key:"add-scene",onClick:e.props.onAddLayout,primaryText:d.createElement(u.Trans,{id:"Click to add a scene"})}))}}),d.createElement(Pe,{primaryText:d.createElement(u.Trans,{id:"External events"}),leftIcon:d.createElement(v.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/externalevents32.png"}),initiallyOpen:!1,open:l,autoGenerateNestedIndicator:!l,renderNestedItems:function(){return Object(z.e)(Object(z.b)(n),c).map((function(t,a){var r=t.getName();return d.createElement(Ie,{key:a,primaryText:r,editingName:"external-events"===i&&s===r,onEdit:function(){return e.props.onOpenExternalEvents(r)},onDelete:function(){return e.props.onDeleteExternalEvents(t)},addLabel:"Add New External Events",onAdd:function(){return e._addExternalEvents(a)},onRename:function(t){e.props.onRenameExternalEvents(r,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("external-events",r)},onCopy:function(){return e._copyExternalEvents(t)},onCut:function(){return e._cutExternalEvents(t)},onPaste:function(){return e._pasteExternalEvents(a)},onDuplicate:function(){return e._duplicateExternalEvents(t,a)},canPaste:function(){return K.a.has("External events")},canMoveUp:0!==a,onMoveUp:function(){return e._moveUpExternalEvents(a)},canMoveDown:a!==n.getExternalEventsCount()-1,onMoveDown:function(){return e._moveDownExternalEvents(a)}})})).concat(d.createElement(E.a,{key:"add-external-events",primaryText:d.createElement(u.Trans,{id:"Click to add external events"}),onClick:e.props.onAddExternalEvents}))}}),d.createElement(Pe,{primaryText:d.createElement(u.Trans,{id:"External layouts"}),leftIcon:d.createElement(v.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/externallayout32.png"}),initiallyOpen:!1,open:l,autoGenerateNestedIndicator:!l,renderNestedItems:function(){return Object(z.e)(Object(z.c)(n),c).map((function(t,a){var r=t.getName();return d.createElement(Ie,{key:a,primaryText:r,editingName:"external-layout"===i&&s===r,onEdit:function(){return e.props.onOpenExternalLayout(r)},onDelete:function(){return e.props.onDeleteExternalLayout(t)},addLabel:"Add a New External Layout",onAdd:function(){return e._addExternalLayout(a)},onRename:function(t){e.props.onRenameExternalLayout(r,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("external-layout",r)},onCopy:function(){return e._copyExternalLayout(t)},onCut:function(){return e._cutExternalLayout(t)},onPaste:function(){return e._pasteExternalLayout(a)},onDuplicate:function(){return e._duplicateExternalLayout(t,a)},canPaste:function(){return K.a.has("External layout")},canMoveUp:0!==a,onMoveUp:function(){return e._moveUpExternalLayout(a)},canMoveDown:a!==n.getExternalLayoutsCount()-1,onMoveDown:function(){return e._moveDownExternalLayout(a)}})})).concat(d.createElement(E.a,{key:"add-external-layout",primaryText:d.createElement(u.Trans,{id:"Click to add an external layout"}),onClick:e.props.onAddExternalLayout}))}}),d.createElement(Pe,{primaryText:d.createElement(u.Trans,{id:"Functions/Behaviors"}),error:a,onRefresh:r,leftIcon:d.createElement(v.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/function32.png"}),initiallyOpen:!1,open:l,autoGenerateNestedIndicator:!l&&!a,renderNestedItems:function(){return Object(z.e)(Object(z.a)(n),c).map((function(t,a){var r=t.getName();return d.createElement(Ie,{key:a,primaryText:r,editingName:"events-functions-extension"===i&&s===r,onEdit:function(){return e.props.onOpenEventsFunctionsExtension(r)},onDelete:function(){return e.props.onDeleteEventsFunctionsExtension(t)},addLabel:"Add a New Extension",onAdd:function(){return e._addEventsFunctionsExtension(a)},onRename:function(t){e.props.onRenameEventsFunctionsExtension(r,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("events-functions-extension",r)},onCopy:function(){return e._copyEventsFunctionsExtension(t)},onCut:function(){return e._cutEventsFunctionsExtension(t)},onPaste:function(){return e._pasteEventsFunctionsExtension(a)},onDuplicate:function(){return e._duplicateEventsFunctionsExtension(t,a)},canPaste:function(){return K.a.has("Events Functions Extension")},canMoveUp:0!==a,onMoveUp:function(){return e._moveUpEventsFunctionsExtension(a)},canMoveDown:a!==n.getEventsFunctionsExtensionsCount()-1,onMoveDown:function(){return e._moveDownEventsFunctionsExtension(a)}})})).concat(d.createElement(E.a,{key:"add-events-functions-extension",primaryText:d.createElement(u.Trans,{id:"Click to add functions and behaviors"}),onClick:e.props.onAddEventsFunctionsExtension})).concat(d.createElement(E.b,{key:"extensions-search",primaryText:d.createElement(u.Trans,{id:"Search for new extensions"}),onClick:function(){return e.setState({extensionsSearchDialogOpen:!0})}}))}})),d.createElement(h.a,{ref:function(t){return e._searchBar=t},value:c,onRequestSearch:this._onRequestSearch,onChange:this._onSearchChange}),this.state.projectVariablesEditorOpen&&d.createElement(j.a,{title:d.createElement(u.Trans,{id:"Global Variables"}),open:!0,variablesContainer:n.getVariables(),onCancel:function(){return e.setState({projectVariablesEditorOpen:!1})},onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.setState({projectVariablesEditorOpen:!1})},emptyExplanationMessage:d.createElement(u.Trans,{id:"Global variables are variables that are shared amongst all the scenes of the game."}),emptyExplanationSecondMessage:d.createElement(u.Trans,{id:"For example, you can have a variable called UnlockedLevelsCount representing the number of levels unlocked by the player."}),hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),this.state.projectPropertiesDialogOpen&&d.createElement(G,{open:this.state.projectPropertiesDialogOpen,project:n,onClose:function(){return e.setState({projectPropertiesDialogOpen:!1})},onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.setState({projectPropertiesDialogOpen:!1})},onChangeSubscription:this.props.onChangeSubscription}),!!this.state.editedPropertiesLayout&&d.createElement(xe.a,{open:!0,layout:this.state.editedPropertiesLayout,project:this.props.project,onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e._onOpenLayoutProperties(null)},onClose:function(){return e._onOpenLayoutProperties(null)},onEditVariables:function(){e._onOpenLayoutVariables(e.state.editedPropertiesLayout),e._onOpenLayoutProperties(null)}}),!!this.state.editedVariablesLayout&&d.createElement(Te.a,{open:!0,layout:this.state.editedVariablesLayout,onClose:function(){return e._onOpenLayoutVariables(null)},onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e._onOpenLayoutVariables(null)},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),this.state.extensionsSearchDialogOpen&&d.createElement(te,{project:n,onClose:function(){return e.setState({extensionsSearchDialogOpen:!1})}}))}}]),n}(d.Component)},2264:function(e,t,n){"use strict";var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(77),l=n(2),u=n.n(l),d=n(211),m=n(130),p=n(92),f=n(467),h=n(257),g=n(276),b=n.n(g),v=n(277),E=n.n(v),y=n(1835),j=n.n(y),O=n(103),C=n(199),x=n.n(C),T=n(99),S=n(356),k=n(146),w=n(305),N=n.n(w),_=n(1836),P=n.n(_),I=n(495),R=n.n(I),B=n(2399);function M(e){return l.createElement(B.a,e)}var F=n(313),A=function(e){var t=e.layout,n=e.onBackgroundColorChanged;return u.a.createElement(c.I18n,null,(function(e){var a=e.i18n;return u.a.createElement(f.b,null,u.a.createElement(f.a,null,u.a.createElement(S.a,{disabled:!0})),u.a.createElement(f.a,{expand:!0},u.a.createElement(T.b,{fullWidth:!0,value:a._({id:"Background color"}),margin:"none",disabled:!0})),u.a.createElement(f.a,null,u.a.createElement(F.a,{disableAlpha:!0,color:{r:t.getBackgroundColorRed(),g:t.getBackgroundColorGreen(),b:t.getBackgroundColorBlue(),a:255},onChangeComplete:function(e){t.setBackgroundColor(e.rgb.r,e.rgb.g,e.rgb.b),n()}})))}))},L=n(79),D=n(149),U=n.n(D),V=n(204),W=n(859),G=n(123),z=n(2400),H=n(2370),K=n(1837),Y=n.n(K),X=function(){throw new Error("This RaisedButtonWithSplitMenu onClick should never be called")},J=function(e){var t=e.buildMenuTemplate,n=e.onClick,a=e.label,r=e.primary,o=e.icon,i=e.disabled;return l.createElement(z.a,{variant:"contained",color:r?"primary":"default",disabled:i,size:"small"},l.createElement(H.a,{focusRipple:!0,onClick:n},o,o&&l.createElement(L.c,null),a),l.createElement(k.a,{passExtraProps:!0,element:l.createElement(H.a,{onClick:X,focusRipple:!0},l.createElement(Y.a,null)),buildMenuTemplate:t}))};n.d(t,"a",(function(){return $}));var q=Object(d.SortableElement)((function(e){var t=e.layerName,n=e.nameError,a=e.onBlur,r=e.onRemove,o=e.isVisible,i=e.effectsCount,s=e.onEditEffects,l=e.onChangeVisibility,d=e.width,m=e.isLightingLayer,p=e.onEdit;return u.a.createElement(c.I18n,null,(function(e){var g=e.i18n;return u.a.createElement(f.b,null,u.a.createElement(f.a,null,u.a.createElement(S.a,null)),u.a.createElement(f.a,{expand:!0},u.a.createElement(T.b,{margin:"none",defaultValue:t||g._({id:"Base layer"}),id:t,errorText:n?u.a.createElement(c.Trans,{id:"This name is already taken"}):void 0,disabled:!t,onBlur:a,fullWidth:!0})),u.a.createElement(f.a,null,d<350?u.a.createElement(k.a,{element:u.a.createElement(O.a,{size:"small"},u.a.createElement(N.a,null)),buildMenuTemplate:function(e){return[{label:m?e._({id:"Edit lighting properties"}):e._({id:"Edit properties"}),click:p},{label:e._({id:"Edit effects ({effectsCount})",values:{effectsCount:i}}),click:s},{type:"checkbox",label:e._({id:"Visible"}),checked:o,click:function(){return l(!o)}},{type:"separator"},{label:e._({id:"Delete"}),enabled:!!t,click:r}]}}):u.a.createElement(u.a.Fragment,null,u.a.createElement(h.a,{checked:o,checkedIcon:u.a.createElement(b.a,null),uncheckedIcon:u.a.createElement(E.a,null),onCheck:function(e,t){return l(t)}}),u.a.createElement(O.a,{size:"small",onClick:s,tooltip:{id:"Edit effects ({effectsCount})",values:{effectsCount:i}}},u.a.createElement(M,{badgeContent:i,color:"primary"},u.a.createElement(j.a,null))),u.a.createElement(O.a,{size:"small",onClick:p,tooltip:m?{id:"Edit lighting properties"}:{id:"Edit properties"}},m?u.a.createElement(P.a,null):u.a.createElement(R.a,null)),u.a.createElement(O.a,{size:"small",onClick:r,disabled:!t,tooltip:{id:"Delete the layer"}},u.a.createElement(x.a,null)))))}))})),Z=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={nameErrors:{}},e._onLayerModified=function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.forceUpdate()},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.layersContainer,r=t.onEditEffects,o=t.onEdit,i=t.width,s=n.getLayersCount(),c=Object(p.mapReverseFor)(0,s,(function(t){var c=n.getLayerAt(t),l=c.getName(),d=c.isLightingLayer();return u.a.createElement(q,{index:s-1-t,key:"layer-"+l,layer:c,layerName:l,isLightingLayer:d,nameError:e.state.nameErrors[l],effectsCount:c.getEffectsCount(),onEditEffects:function(){return r(c)},onEdit:function(){return o(c)},onBlur:function(t){var r=t.target.value;if(l!==r){var o=!0;n.hasLayerNamed(r)?o=!1:e.props.onRenameLayer(l,r,(function(e){e&&n.getLayer(l).setName(r)})),e.setState({nameErrors:Object(a.a)(Object(a.a)({},e.state.nameErrors),{},{[l]:!o})})}},onRemove:function(){e.props.onRemoveLayer(l,(function(t){t&&(n.removeLayer(l),e._onLayerModified())}))},isVisible:c.getVisibility(),onChangeVisibility:function(t){c.setVisibility(t),e._onLayerModified()},width:i})}));return u.a.createElement(L.a,{noMargin:!0,expand:!0},c,u.a.createElement(A,{layout:n,onBackgroundColorChanged:function(){return e._onLayerModified()}}))}}]),n}(l.Component),Q=Object(d.SortableContainer)(Z),$=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._addLayer=function(){var t=e.props.layersContainer,n=Object(m.a)("Layer",(function(e){return t.hasLayerNamed(e)}));t.insertNewLayer(n,t.getLayersCount()),e._onLayerModified()},e._addLightingLayer=function(){var t=e.props.layersContainer,n=Object(m.a)("Lighting",(function(e){return t.hasLayerNamed(e)}));t.insertNewLayer(n,t.getLayersCount());var a=t.getLayer(n);a.setLightingLayer(!0),a.setFollowBaseLayerCamera(!0),a.setAmbientLightColor(200,200,200),e._onLayerModified()},e._onLayerModified=function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.forceUpdate()},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.layersContainer.ptr,n=function(e){var t=e.getLayersCount();return Object(p.mapReverseFor)(0,t,(function(t){return e.getLayerAt(t).isLightingLayer()})).filter(Boolean).length>0}(this.props.layersContainer);return u.a.createElement(G.a,null,u.a.createElement(V.a,{autoHideScrollbar:!0},u.a.createElement(W.a,null,(function(n){var a=n.width;return u.a.createElement(Q,{key:t,layersContainer:e.props.layersContainer,onEditEffects:e.props.onEditLayerEffects,onEdit:e.props.onEditLayer,onRemoveLayer:e.props.onRemoveLayer,onRenameLayer:e.props.onRenameLayer,onSortEnd:function(t){var n=t.oldIndex,a=t.newIndex,r=e.props.layersContainer.getLayersCount();e.props.layersContainer.moveLayer(r-1-n,r-1-a),e._onLayerModified()},helperClass:"sortable-helper",useDragHandle:!0,unsavedChanges:e.props.unsavedChanges,width:a})})),u.a.createElement(L.a,null,u.a.createElement(L.b,{justifyContent:"flex-end",expand:!0},u.a.createElement(J,{label:u.a.createElement(c.Trans,{id:"Add a layer"}),primary:!0,onClick:this._addLayer,icon:u.a.createElement(U.a,null),buildMenuTemplate:function(t){return[{label:t._({id:"Add lighting layer"}),enabled:!n,click:e._addLightingLayer}]}})))))}}]),n}(l.Component)},2265:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(232),u=n(263),d=n(97),m=n(79),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.behavior,n=e.behaviorContent,a=t.getProperties(n.getContent()),r=Object(u.a)(a,(function(e){return t.getProperties(e.getContent())}),(function(e,n,a){t.updateProperty(e.getContent(),n,a)}));return c.createElement(m.a,{expand:!0},r.length?c.createElement(l.a,{schema:r,instances:[n]}):c.createElement(d.a,null,c.createElement(s.Trans,{id:"There is nothing to configure for this behavior. You can still use events to interact with the object and this behavior."})))}}]),n}(c.Component),f=n(159),h=n(117),g=n(118),b=n(109),v=n(329),E=n(247),y=n(114),j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={draggedVertex:null,draggedIndex:-1},e._onVertexDown=function(t,n){e.state.draggedVertex||e.setState({draggedVertex:t,draggedIndex:n})},e._onMouseUp=function(){var t=!!e.state.draggedVertex,n=e.state,a=n.draggedVertex,r=n.draggedIndex;e.setState({draggedVertex:null},(function(){t&&e.props.onMoveVertex(r,Math.round(a?a.x:0),Math.round(a?a.y:0))}))},e._onMouseMove=function(t){var n=e.props,a=n.offsetX,r=n.offsetY,o=n.polygonOrigin,i=n.width,s=n.height,c=n.zoomFactor,l=e.state.draggedVertex;if(l){var u=e._svg.createSVGPoint();u.x=t.clientX,u.y=t.clientY;var d=e._svg.getScreenCTM().inverse(),m=u.matrixTransform(d);l.x=m.x/c-a-("Center"===o?i/2:0),l.y=m.y/c-r-("Center"===o?s/2:0),e.forceUpdate()}},e}return Object(r.a)(n,[{key:"_renderBox",value:function(){var e=this.props,t=e.dimensionA,n=e.dimensionB,a=e.width,r=e.height,o=e.offsetX,i=e.offsetY,s=e.zoomFactor,l=t>0?t:a>0?a:1,u=n>0?n:r>0?r:1;return c.createElement("rect",{key:"boxShape",fill:"rgba(255,0,0,0.75)",strokeWidth:1,x:(o+a/2-l/2)*s,y:(i+r/2-u/2)*s,width:l*s,height:u*s})}},{key:"_renderCircle",value:function(){var e=this.props,t=e.dimensionA,n=e.width,a=e.height,r=e.offsetX,o=e.offsetY,i=e.zoomFactor;return c.createElement("circle",{key:"circleShape",fill:"rgba(255,0,0,0.75)",strokeWidth:1,cx:(r+n/2)*i,cy:(o+a/2)*i,r:(t>0?t:n+a>0?(n+a)/4:1)*i})}},{key:"_renderEdge",value:function(){var e=this.props,t=e.dimensionA,n=e.dimensionB,a=e.width,r=e.height,o=e.offsetX,i=e.offsetY,s=e.zoomFactor,l=(t>0?t:a>0?a:1)/2,u=Math.cos(n*Math.PI/180),d=Math.sin(n*Math.PI/180);return c.createElement("line",{key:"edgeShape",stroke:"rgba(255,0,0,0.75)",strokeWidth:2,x1:(o+a/2-l*u)*s,y1:(i+r/2-l*d)*s,x2:(o+a/2+l*u)*s,y2:(i+r/2+l*d)*s})}},{key:"_renderPolygon",value:function(){var e=this,t=this.props,n=t.vertices,a=t.polygonOrigin,r=t.width,o=t.height,i=t.offsetX,s=t.offsetY,l=t.zoomFactor;return c.createElement(c.Fragment,null,c.createElement("polygon",{key:"polygonShape",fill:"rgba(255,0,0,0.75)",strokeWidth:1,filerule:"evenodd",points:n.map((function(e){return"".concat((e.x+i+("Center"===a?r/2:0))*l,",").concat((e.y+s+("Center"===a?o/2:0))*l)})).join(" ")}),n.map((function(t,n){return c.createElement("circle",{onPointerDown:function(a){return e._onVertexDown(t,n)},key:"vertex-".concat(n),fill:"rgba(150,0,0,0.75)",strokeWidth:1,style:{cursor:"move"},cx:(t.x+i+("Center"===a?r/2:0))*l,cy:(t.y+s+("Center"===a?o/2:0))*l,r:5})})))}},{key:"render",value:function(){var e=this,t=this.props.shape;return c.createElement("svg",{onPointerMove:this._onMouseMove,onPointerUp:this._onMouseUp,ref:function(t){return e._svg=t},width:"100%",height:"100%"},"Box"===t&&this._renderBox(),"Circle"===t&&this._renderCircle(),"Edge"===t&&this._renderEdge(),"Polygon"===t&&this._renderPolygon())}}]),n}(c.Component),O=n(161),C=n(303),x=n.n(C),T=n(103),S=n(104),k=n(468),w=n.n(k),N=n(199),_=n.n(N),P=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"_isPolygonConvex",value:function(e){for(var t=[],n=null,a=null,r=0;r<e.length;r++)n=e[r],a=r+1>=e.length?e[0]:e[r+1],t.push({x:a.x-n.x,y:a.y-n.y});if(t.length<3)return!1;for(var o=t[0].x*t[1].y-t[0].y*t[1].x>0,i=1;i<t.length-1;++i){if(t[i].x*t[i+1].y-t[i].y*t[i+1].x>0!==o)return!1}if(t[t.length-1].x*t[0].y-t[t.length-1].y*t[0].x>0!==o)return!1;for(var s=0;s<e.length-1;++s)for(var c=s+1;c<e.length;++c)if(e[s].x===e[c].x&&e[s].y===e[c].y)return!1;for(var l=!0,u=!0,d=0;d<e.length-1;++d)e[d].x!==e[d+1].x&&(l=!1),e[d].y!==e[d+1].y&&(u=!1);return!l&&!u}},{key:"render",value:function(){var e=this,t=this.props,n=t.vertices,a=t.onChangeVertexX,r=t.onChangeVertexY,o=t.onAdd,i=t.onRemove;return c.createElement(S.a,null,(function(t){return c.createElement(O.a,null,c.createElement(O.c,null,c.createElement(O.e,null,c.createElement(O.d,null),c.createElement(O.d,null,"X"),c.createElement(O.d,null,"Y"),c.createElement(O.f,null))),c.createElement(O.b,null,n.map((function(o,s){return c.createElement(O.e,{key:"vertexRow".concat(s),style:{backgroundColor:t.list.itemsBackgroundColor}},c.createElement(O.f,null,!e._isPolygonConvex(n)&&c.createElement(x.a,null)),c.createElement(O.f,null,c.createElement(b.a,{margin:"none",fullWidth:!0,value:o.x.toString(10),onChange:function(e){return a(parseFloat(e)||0,s)},type:"number"})),c.createElement(O.f,null,c.createElement(b.a,{margin:"none",fullWidth:!0,value:o.y.toString(10),onChange:function(e){return r(parseFloat(e)||0,s)},type:"number"})),c.createElement(O.f,null,c.createElement(T.a,{size:"small",onClick:function(){return i(s)}},c.createElement(_.a,null))))})),c.createElement(O.e,null,c.createElement(O.f,null),c.createElement(O.f,null),c.createElement(O.f,null),c.createElement(O.f,null,c.createElement(T.a,{onClick:o},c.createElement(w.a,null))))))}))}}]),n}(c.Component),I=n(85),R=n(177),B=n(96);function M(e){var t=e.properties,n=e.propertyName,a=e.step,r=e.onUpdate;return c.createElement(b.a,{fullWidth:!0,value:t.get(n).getValue(),key:n,floatingLabelText:t.get(n).getLabel(),step:a,onChange:r,type:"number"})}function F(e){var t=e.enabled,n=e.propertyName,a=e.pos,r=e.spacing,o=e.onUpdate;return c.createElement("div",{style:{width:r?"7.5%":"5%"}},c.createElement(f.a,{checked:t,onCheck:function(e,t){return o(t)}}),r&&c.createElement("div",{style:{width:"33%"},key:n+"-space"+a.toString(10)}))}var A=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).resourcesLoader=y.a,e.state={image:""},e}return Object(r.a)(n,[{key:"_isBitEnabled",value:function(e,t){return!!(e&1<<t)}},{key:"_enableBit",value:function(e,t,n){return n?e|=1<<t:e&=~(1<<t),e}},{key:"render",value:function(){var e=this,t=this.props,n=t.behavior,a=t.behaviorContent,r=n.getProperties(a.getContent()),o=Array(16).fill(null),i=r.get("shape").getValue(),l=parseInt(r.get("layers").getValue(),10),u=parseInt(r.get("masks").getValue(),10);return c.createElement(m.a,{expand:!0},c.createElement(m.b,null,c.createElement(h.a,{key:"bodyType",fullWidth:!0,floatingLabelText:r.get("bodyType").getLabel(),value:r.get("bodyType").getValue(),onChange:function(t,r,o){n.updateProperty(a.getContent(),"bodyType",o),e.forceUpdate()}},[c.createElement(g.a,{key:"dynamic",value:"Dynamic",primaryText:{id:"Dynamic"}}),c.createElement(g.a,{key:"static",value:"Static",primaryText:{id:"Static"}}),c.createElement(g.a,{key:"kinematic",value:"Kinematic",primaryText:{id:"Kinematic"}})])),c.createElement(B.b,null,c.createElement(f.a,{label:r.get("bullet").getLabel(),checked:"true"===r.get("bullet").getValue(),onCheck:function(t,r){n.updateProperty(a.getContent(),"bullet",r?"1":"0"),e.forceUpdate()}}),c.createElement(f.a,{label:r.get("fixedRotation").getLabel(),checked:"true"===r.get("fixedRotation").getValue(),onCheck:function(t,r){n.updateProperty(a.getContent(),"fixedRotation",r?"1":"0"),e.forceUpdate()}}),c.createElement(f.a,{label:r.get("canSleep").getLabel(),checked:"true"===r.get("canSleep").getValue(),onCheck:function(t,r){n.updateProperty(a.getContent(),"canSleep",r?"1":"0"),e.forceUpdate()}})),c.createElement(m.b,null,c.createElement(R.a,{identifier:"physics2-shape-collisions",kind:"info"},c.createElement(s.Trans,{id:'The shape used in the Physics behavior is independent from the collision mask of the object. Be sure to use the "Collision" condition provided by the Physics behavior in the events. The usual "Collision" condition won\'t take into account the shape that you\'ve set up here.'}))),c.createElement(m.b,null,c.createElement(h.a,{fullWidth:!0,floatingLabelText:r.get("shape").getLabel(),value:r.get("shape").getValue(),onChange:function(t,r,o){n.updateProperty(a.getContent(),"shape",o),e.forceUpdate()}},c.createElement(g.a,{key:"box",value:"Box",primaryText:{id:"Box"}}),c.createElement(g.a,{key:"circle",value:"Circle",primaryText:{id:"Circle"}}),c.createElement(g.a,{key:"edge",value:"Edge",primaryText:{id:"Edge"}}),c.createElement(g.a,{key:"polygon",value:"Polygon",primaryText:{id:"Polygon"}}))),c.createElement(B.b,null,"Polygon"!==i&&c.createElement(b.a,{fullWidth:!0,value:r.get("Polygon"===i?"PolygonOriginX":"shapeDimensionA").getValue(),key:"shapeDimensionA",floatingLabelText:"Circle"===i?"Radius":"Edge"===i?"Length":"Width",min:0,onChange:function(t){n.updateProperty(a.getContent(),"Polygon"===i?"PolygonOriginX":"shapeDimensionA",t),e.forceUpdate()},type:"number"}),"Polygon"!==i&&"Circle"!==i&&c.createElement(b.a,{fullWidth:!0,value:r.get("Polygon"===i?"PolygonOriginY":"shapeDimensionB").getValue(),key:"shapeDimensionB",floatingLabelText:"Edge"===i?"Angle":"Height",min:"Edge"===i?void 0:0,onChange:function(t){n.updateProperty(a.getContent(),"Polygon"===i?"PolygonOriginY":"shapeDimensionB",t),e.forceUpdate()},type:"number"}),"Polygon"===i&&c.createElement(h.a,{fullWidth:!0,floatingLabelText:r.get("polygonOrigin").getLabel(),value:r.get("polygonOrigin").getValue(),onChange:function(t,r,o){n.updateProperty(a.getContent(),"polygonOrigin",o),e.forceUpdate()}},[c.createElement(g.a,{key:"center",value:"Center",primaryText:{id:"Center"}}),c.createElement(g.a,{key:"origin",value:"Origin",primaryText:{id:"Origin"}}),c.createElement(g.a,{key:"topLeft",value:"TopLeft",primaryText:{id:"Top-Left"}})]),c.createElement(M,{properties:r,propertyName:"shapeOffsetX",step:1,onUpdate:function(t){n.updateProperty(a.getContent(),"shapeOffsetX",t),e.forceUpdate()}}),c.createElement(M,{properties:r,propertyName:"shapeOffsetY",step:1,onUpdate:function(t){e.props.behavior.updateProperty(a.getContent(),"shapeOffsetY",t),e.forceUpdate()}})),c.createElement(m.b,null,c.createElement(E.a,{floatingLabelText:c.createElement(s.Trans,{id:"A temporary image to help you visualize the shape/polygon"}),project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:this.resourcesLoader,resourceKind:"image",initialResourceName:"",fullWidth:!0,onChange:function(t){e.setState({image:t}),e.forceUpdate()}})),!this.state.image&&c.createElement(m.b,null,c.createElement(d.a,null,c.createElement(s.Trans,{id:"To preview the shape that the Physics engine will use for this object, choose first a temporary image to use for the preview."}))),this.state.image&&c.createElement(m.b,null,c.createElement("div",{style:{width:"100%"}},c.createElement(v.a,{resourceName:this.state.image,project:this.props.project,resourcesLoader:this.resourcesLoader,renderOverlay:function(t){var o=t.imageWidth,i=t.imageHeight,s=t.imageZoomFactor;return c.createElement(j,{shape:r.get("shape").getValue(),dimensionA:parseFloat(r.get("shapeDimensionA").getValue()),dimensionB:parseFloat(r.get("shapeDimensionB").getValue()),offsetX:parseFloat(r.get("shapeOffsetX").getValue()),offsetY:parseFloat(r.get("shapeOffsetY").getValue()),polygonOrigin:r.get("polygonOrigin").getValue(),vertices:JSON.parse(r.get("vertices").getValue()),width:o,height:i,zoomFactor:s,onMoveVertex:function(t,o,i){var s=JSON.parse(r.get("vertices").getValue());s[t].x=o,s[t].y=i,n.updateProperty(a.getContent(),"vertices",JSON.stringify(s)),e.forceUpdate()}})}}))),"Polygon"===i&&c.createElement(m.b,null,c.createElement(P,{vertices:JSON.parse(r.get("vertices").getValue()),onChangeVertexX:function(t,o){var i=JSON.parse(r.get("vertices").getValue());i[o].x=t,n.updateProperty(a.getContent(),"vertices",JSON.stringify(i)),e.forceUpdate()},onChangeVertexY:function(t,o){var i=JSON.parse(r.get("vertices").getValue());i[o].y=t,n.updateProperty(a.getContent(),"vertices",JSON.stringify(i)),e.forceUpdate()},onAdd:function(){var t=JSON.parse(r.get("vertices").getValue());t.length>=8||(t.push({x:0,y:0}),n.updateProperty(a.getContent(),"vertices",JSON.stringify(t)),e.forceUpdate())},onRemove:function(t){var o=JSON.parse(r.get("vertices").getValue());o.splice(t,1),n.updateProperty(a.getContent(),"vertices",JSON.stringify(o)),e.forceUpdate()}})),c.createElement(B.b,null,c.createElement(M,{properties:r,propertyName:"density",step:.1,onUpdate:function(t){n.updateProperty(a.getContent(),"density",parseFloat(t)>0?t:"0"),e.forceUpdate()}}),c.createElement(M,{properties:r,propertyName:"gravityScale",step:.1,onUpdate:function(t){n.updateProperty(a.getContent(),"gravityScale",t),e.forceUpdate()}})),c.createElement(B.b,null,c.createElement(M,{properties:r,propertyName:"friction",step:.1,onUpdate:function(t){n.updateProperty(a.getContent(),"friction",parseFloat(t)>0?t:"0"),e.forceUpdate()}}),c.createElement(M,{properties:r,propertyName:"restitution",step:.1,onUpdate:function(t){n.updateProperty(a.getContent(),"restitution",parseFloat(t)>0?t:"0"),e.forceUpdate()}})),c.createElement(B.b,null,c.createElement(M,{properties:r,propertyName:"linearDamping",step:.05,onUpdate:function(t){n.updateProperty(a.getContent(),"linearDamping",t),e.forceUpdate()}}),c.createElement(M,{properties:r,propertyName:"angularDamping",step:.05,onUpdate:function(t){n.updateProperty(a.getContent(),"angularDamping",t),e.forceUpdate()}})),c.createElement(m.b,null,c.createElement(I.a,null,r.get("layers").getLabel()),o.map((function(t,n){return c.createElement(F,{enabled:e._isBitEnabled(l,n),propertyName:"layers",pos:n,spacing:7===n,onUpdate:function(t){var r=e._enableBit(l,n,t);e.props.behavior.updateProperty(a.getContent(),"layers",r.toString(10)),e.forceUpdate()},key:"layer".concat(n)})}))),c.createElement(m.b,null,c.createElement(I.a,null,r.get("masks").getLabel()),o.map((function(t,n){return c.createElement(F,{enabled:e._isBitEnabled(u,n),propertyName:"masks",pos:n,spacing:7===n,onUpdate:function(t){var r=e._enableBit(u,n,t);e.props.behavior.updateProperty(a.getContent(),"masks",r.toString(10)),e.forceUpdate()},key:"mask".concat(n)})}))))}}]),n}(c.Component);t.a={getEditor(e){return this.components[e]?this.components[e].component:p},components:{"Physics2::Physics2Behavior":{component:A}}}},2266:function(e,t,n){"use strict";var a=n(98),r=n(77),o=n(2),i=n.n(o),s=n(117),c=n(87),l=n(118),u=n(301),d=n(90),m=n(79),p=n(909),f=n(907),h=n(3),g=n(113),b=n(85),v=n(96),E=n(157),y=n(209),j=n(89),O=n(2363),C=n(2368),x=n(2362),T=n(246),S={shortcutBox:{padding:15,textAlign:"center"}},k=function(e){var t=o.useState(""),n=Object(a.a)(t,2),i=n[0],s=n[1],l=o.useState(!1),u=Object(a.a)(l,2),m=u[0],p=u[1];return o.useEffect((function(){var e=function(e){e.preventDefault();var t=Object(T.c)(e);"keyup"!==e.type&&(p(t.isValid),s(t.shortcutString))};return document.addEventListener("keyup",e),document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",e)}}),[]),o.createElement(d.a,{open:!0,title:o.createElement(r.Trans,{id:"Set shortcut"}),onRequestClose:e.onClose,cannotBeDismissed:!1,maxWidth:"xs",actions:[o.createElement(c.a,{key:"Cancel",label:o.createElement(r.Trans,{id:"Cancel"}),onClick:e.onClose}),o.createElement(c.a,{label:o.createElement(r.Trans,{id:"Set shortcut"}),primary:!0,key:"Set",onClick:function(){i&&e.onSet(i),e.onClose()},disabled:!m})],secondaryActions:[o.createElement(c.a,{key:"Remove",label:o.createElement(r.Trans,{id:"Remove shortcut"}),onClick:function(){e.onSet(""),e.onClose()}})]},o.createElement(C.a,null,e.commandText),o.createElement(x.a,{variant:"outlined",style:S.shortcutBox},o.createElement(C.a,null,i?Object(T.b)(i):o.createElement(r.Trans,{id:"Press a shortcut combination..."}))))},w=n(177),N=n(463),_=n(2360),P=n(2367),I=n(2379),R=n(2471),B=n(103),M=n(1091),F=n.n(M),A=n(303),L=n.n(A),D=n(302),U={shortcutChip:{borderRadius:3}},V=function(e){return o.createElement(_.a,null,o.createElement(P.a,{primary:e.i18n._(D.b[e.commandName].displayText)}),o.createElement(I.a,null,e.isClashing&&o.createElement(B.a,{tooltip:{id:"This shortcut clashes with another action."}},o.createElement(L.a,null)),o.createElement(R.a,{style:U.shortcutChip,label:e.shortcutString||o.createElement(r.Trans,{id:"No shortcut"}),onClick:e.onEditShortcut,title:e.i18n._({id:"Edit shortcut"}),color:e.shortcutString?"secondary":"default"}),!e.isDefault&&o.createElement(B.a,{onClick:e.onResetShortcut,tooltip:{id:"Reset to default"}},o.createElement(F.a,null))))},W=function(e){var t=o.useState(null),n=Object(a.a)(t,2),i=n[0],s=n[1],c=function(e){var t={},n={};return Object.keys(D.b).filter((function(e){return!D.b[e].noShortcut})).forEach((function(a){var r=D.b[a].area;t[r]||(t[r]=[]),t[r].push(a);var o=e[a],i=N.a[a]||"",s=o||i;""!==s&&(n[s]=(n[s]||[]).concat(a))})),[t,n]}(e.userShortcutMap),l=Object(a.a)(c,2),u=l[0],d=l[1],p=Object(T.b)(e.userShortcutMap.OPEN_COMMAND_PALETTE||N.a.OPEN_COMMAND_PALETTE);return o.createElement(o.Fragment,null,o.createElement(m.b,null,o.createElement(w.a,{kind:"info",identifier:"command-palette-shortcut"},o.createElement(r.Trans,{id:"You can open the command palette by pressing"})," ",p)),o.createElement(m.b,null,o.createElement(j.a,{label:o.createElement(r.Trans,{id:"Reset all shortcuts to default"}),onClick:function(){h.b.showConfirmDialog(e.i18n._({id:"Are you sure you want to reset all shortcuts to their default values?"}),"question")&&e.onReset()}})),o.createElement(O.a,null,Object.keys(u).map((function(t){return o.createElement(o.Fragment,{key:t},o.createElement(b.a,{size:"title"},e.i18n._(D.a[t])),u[t].map((function(t){var n=e.userShortcutMap[t],a=N.a[t]||"",r=n||a,i=Object(T.b)(r),c=d[r],l=c&&c.length>1;return o.createElement(V,{i18n:e.i18n,key:t,shortcutString:i,commandName:t,isDefault:!n,isClashing:l,onEditShortcut:function(){return s(t)},onResetShortcut:function(){return function(t){e.onEdit(t,N.a[t])}(t)}})})))}))),i&&o.createElement(k,{commandText:e.i18n._(D.b[i].displayText),onClose:function(){return s(null)},onSet:function(t){e.onEdit(i,t)}}))};t.a=function(e){var t=e.i18n,n=e.onClose,o=i.a.useState("preferences"),O=Object(a.a)(o,2),C=O[0],x=O[1],T=i.a.useContext(g.b),S=T.values,k=T.setThemeName,w=T.setCodeEditorThemeName,N=T.setAutoDownloadUpdates,_=T.showAlertMessage,P=T.showTutorialHint,I=T.setAutoDisplayChangelog,R=T.setEventsSheetShowObjectThumbnails,B=T.setAutosaveOnPreview,M=T.setUseNewInstructionEditorDialog,F=T.setUseGDJSDevelopmentWatcher,A=T.setEventsSheetUseAssignmentOperators,L=T.getDefaultEditorMosaicNode,D=T.setDefaultEditorMosaicNode,U=T.setAutoOpenMostRecentProject,V=T.resetShortcutsToDefault,G=T.setShortcutForCommand;return i.a.createElement(d.a,{actions:[i.a.createElement(c.a,{key:"close",label:i.a.createElement(r.Trans,{id:"Close"}),primary:!1,onClick:n})],onRequestClose:n,cannotBeDismissed:!0,open:!0,title:i.a.createElement(r.Trans,{id:"GDevelop Preferences"}),maxWidth:"sm",noMargin:!0},i.a.createElement(E.b,{value:C,onChange:x},i.a.createElement(E.a,{label:i.a.createElement(r.Trans,{id:"Preferences"}),value:"preferences"}),i.a.createElement(E.a,{label:i.a.createElement(r.Trans,{id:"Hints & explanations"}),value:"hints"}),i.a.createElement(E.a,{label:i.a.createElement(r.Trans,{id:"Keyboard Shortcuts"}),value:"shortcuts"})),"preferences"===C&&i.a.createElement(m.a,null,i.a.createElement(b.a,{size:"title"},i.a.createElement(r.Trans,{id:"Appearance"})),i.a.createElement(v.b,{noMargin:!0},i.a.createElement(s.a,{floatingLabelText:i.a.createElement(r.Trans,{id:"UI Theme"}),value:S.themeName,onChange:function(e,t,n){return k(n)},fullWidth:!0},Object.keys(p.b).map((function(e){return i.a.createElement(l.a,{value:e,primaryText:e,key:e})}))),i.a.createElement(s.a,{floatingLabelText:i.a.createElement(r.Trans,{id:"Code editor Theme"}),value:S.codeEditorThemeName,onChange:function(e,t,n){return w(n)},fullWidth:!0},Object(f.a)().map((function(e){return i.a.createElement(l.a,{value:e.themeName,primaryText:e.name,key:e.themeName})})))),i.a.createElement(m.b,{noMargin:!0},i.a.createElement(b.a,null,i.a.createElement(r.Trans,{id:"You can contribute and create your own themes:"})),i.a.createElement(c.a,{label:i.a.createElement(r.Trans,{id:"Learn more"}),onClick:function(){h.b.openExternalURL("https://github.com/4ian/GDevelop/tree/master/newIDE#theming")}})),i.a.createElement(b.a,{size:"title"},i.a.createElement(r.Trans,{id:"Layouts"})),i.a.createElement(m.b,null,i.a.createElement(m.a,null,i.a.createElement(j.a,{label:i.a.createElement(r.Trans,{id:"Reset Scene Editor layout"}),onClick:function(){return D("scene-editor",null)},disabled:!L("scene-editor")}),i.a.createElement(m.c,null),i.a.createElement(j.a,{label:i.a.createElement(r.Trans,{id:"Reset Scene Editor (small window) layout"}),onClick:function(){return D("scene-editor-small",null)},disabled:!L("scene-editor-small")}),i.a.createElement(m.c,null),i.a.createElement(j.a,{label:i.a.createElement(r.Trans,{id:"Reset Debugger layout"}),onClick:function(){return D("debugger",null)},disabled:!L("debugger")}),i.a.createElement(m.c,null),i.a.createElement(j.a,{label:i.a.createElement(r.Trans,{id:"Reset Resource Editor layout"}),onClick:function(){return D("resources-editor",null)},disabled:!L("resources-editor")}),i.a.createElement(m.c,null),i.a.createElement(j.a,{label:i.a.createElement(r.Trans,{id:"Reset Extension Editor layout"}),onClick:function(){return D("events-functions-extension-editor",null)},disabled:!L("events-functions-extension-editor")}))),i.a.createElement(b.a,{size:"title"},i.a.createElement(r.Trans,{id:"Updates"})),i.a.createElement(m.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return N(t)},toggled:S.autoDownloadUpdates,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Auto download and install updates (recommended)"})})),i.a.createElement(m.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return I(t)},toggled:S.autoDisplayChangelog,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Display What's New when a new version is launched (recommended)"})})),i.a.createElement(b.a,{size:"title"},i.a.createElement(r.Trans,{id:"Events Sheet"})),i.a.createElement(m.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return R(t)},toggled:S.eventsSheetShowObjectThumbnails,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Display object thumbnails in Events Sheets"})})),i.a.createElement(m.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return A(t)},toggled:S.eventsSheetUseAssignmentOperators,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Display assignment operators in Events Sheets"})})),i.a.createElement(m.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return M(t)},toggled:S.useNewInstructionEditorDialog,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Use the new action/condition editor"})})),i.a.createElement(b.a,{size:"title"},i.a.createElement(r.Trans,{id:"Advanced"})),i.a.createElement(m.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return B(t)},toggled:S.autosaveOnPreview,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Auto-save project on Preview"})})),i.a.createElement(m.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return U(t)},toggled:S.autoOpenMostRecentProject,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Automatically re-open the project edited during last session"})})),h.b.isDev()&&i.a.createElement(m.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return F(t)},toggled:S.useGDJSDevelopmentWatcher,labelPosition:"right",label:i.a.createElement(r.Trans,{id:"Watch changes in game engine (GDJS) sources and auto import them (dev only)"})}))),"hints"===C&&i.a.createElement(m.a,null,i.a.createElement(m.b,null,i.a.createElement(m.a,{noMargin:!0},i.a.createElement(b.a,null,i.a.createElement(r.Trans,{id:"Warn/show explanation about:"})),g.a.map((function(e){var t=e.key,n=e.label;return i.a.createElement(m.b,{key:t},i.a.createElement(u.a,{onToggle:function(e,n){return _(t,n)},toggled:!S.hiddenAlertMessages[t],labelPosition:"right",label:n}))})),i.a.createElement(b.a,null,i.a.createElement(r.Trans,{id:"Show link to tutorials:"})),Object(y.a)().map((function(e){var t=e.identifier,n=e.name;return i.a.createElement(m.b,{key:t},i.a.createElement(u.a,{onToggle:function(e,n){return P(t,n)},toggled:!S.hiddenTutorialHints[t],labelPosition:"right",label:n}))}))))),"shortcuts"===C&&i.a.createElement(m.a,null,i.a.createElement(W,{i18n:t,userShortcutMap:S.userShortcutMap,onEdit:G,onReset:V})))}},2267:function(e,t,n){"use strict";var a=n(203),r=n(2),o=n(186),i=n(187),s=function(e,t,n){return Object(o.c)(e,t).containerObjectsList.map((function(t){return{text:t.object.getName(),handler:function(){return n(t.object)},iconSrc:i.a.getThumbnail.bind(i.a)(e,t.object)}}))},c=function(e){var t=e.project,n=e.layout,o=e.onEditObject,i=e.onEditObjectVariables;Object(a.b)("EDIT_OBJECT",!0,{generateOptions:r.useCallback((function(){return s(t,n,o)}),[t,n,o])}),Object(a.b)("EDIT_OBJECT_VARIABLES",!0,{generateOptions:r.useCallback((function(){return s(t,n,i)}),[t,n,i])})},l=n(100),u=function(e){var t=e.project,n=e.layout,i=e.onEditObjectGroup;Object(a.b)("EDIT_OBJECT_GROUP",!0,{generateOptions:r.useCallback((function(){return[].concat(Object(l.a)(Object(o.a)(n.getObjectGroups())),Object(l.a)(Object(o.a)(t.getObjectGroups()))).map((function(e){return{text:e.getName(),handler:function(){return i(e)}}}))}),[i,t,n])})},d=n(92),m=function(e){var t=e.layout,n=e.onEditLayerEffects,o=e.onEditLayer;Object(a.b)("EDIT_LAYER_EFFECTS",!0,{generateOptions:r.useCallback((function(){var e=t.getLayersCount();return Object(d.mapReverseFor)(0,e,(function(e){var a=t.getLayerAt(e);return{text:a.getName()||"Base layer",handler:function(){return n(a)}}}))}),[t,n])}),Object(a.b)("EDIT_LAYER",!0,{generateOptions:r.useCallback((function(){var e=t.getLayersCount();return Object(d.mapReverseFor)(0,e,(function(e){var n=t.getLayerAt(e);return{text:n.getName()||"Base layer",handler:function(){return o(n)}}}))}),[t,o])})};t.a=function(e){var t=e.project,n=e.layout,r=e.onEditObject,o=e.onEditObjectVariables,i=e.onOpenSceneProperties,s=e.onOpenSceneVariables,l=e.onEditObjectGroup,d=e.onEditLayerEffects,p=e.onEditLayer;return Object(a.a)("OPEN_SCENE_PROPERTIES",!0,{handler:i}),Object(a.a)("OPEN_SCENE_VARIABLES",!0,{handler:s}),c({project:t,layout:n,onEditObject:r,onEditObjectVariables:o}),u({project:t,layout:n,onEditObjectGroup:l}),m({layout:n,onEditLayerEffects:d,onEditLayer:p}),null}},2268:function(e,t,n){"use strict";var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(77),l=n(2),u=n(87),d=n(2362),m=n(103),p=n(1901),f=n.n(p),h=n(3),g=n(79),b=n(104),v={logo:{width:"100%"}},E=function(){return l.createElement(b.a,null,(function(e){return l.createElement("img",{src:e.logo.src,alt:"",style:v.logo})}))},y={flex:1,display:"flex",overflowY:"scroll"},j=function(e){var t=e.children;return l.createElement(b.a,null,(function(e){return l.createElement("div",{style:Object(a.a)(Object(a.a)({},y),{},{backgroundColor:e.palette.canvasColor})},t)}))},O=n(89),C=n(85);n.d(t,"a",(function(){return S}));var x={innerContainer:{display:"flex",flexDirection:"column",width:"100%",minHeight:350},centerContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",maxWidth:400},logoPaper:{marginBottom:10,width:"100%",textAlign:"center"}},T=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={aboutDialogOpen:!1},e}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.isActive}},{key:"getProject",value:function(){}},{key:"updateToolbar",value:function(){this.props.setToolbar&&this.props.setToolbar(null)}},{key:"forceUpdateEditor",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.project,n=e.canOpen,r=e.onOpen,o=e.onCreate,i=e.onOpenProjectManager,s=e.onCloseProject,p=e.onOpenAboutDialog,b=e.onOpenHelpFinder,v=e.onOpenLanguageDialog;return l.createElement(c.I18n,null,(function(e){var y=e.i18n;return l.createElement(j,null,l.createElement("div",{style:x.innerContainer},l.createElement(g.b,{expand:!0,justifyContent:"center"},l.createElement("div",{style:x.centerContainer},l.createElement(d.a,{elevation:2,style:Object(a.a)({},x.logoPaper)},l.createElement(E,null),l.createElement(C.a,null,l.createElement(c.Trans,{id:"GDevelop is an easy-to-use game creator with no programming language to learn."}))),!t&&n&&l.createElement(l.Fragment,null,l.createElement(O.a,{label:l.createElement(c.Trans,{id:"Open a project"}),fullWidth:!0,onClick:r,primary:!0}),l.createElement(g.c,null)),!t&&l.createElement(l.Fragment,null,l.createElement(O.a,{label:l.createElement(c.Trans,{id:"Create a new project"}),fullWidth:!0,onClick:o,primary:!0}),l.createElement(g.c,null)),!!t&&l.createElement(l.Fragment,null,l.createElement(O.a,{label:l.createElement(c.Trans,{id:"Open Project Manager"}),fullWidth:!0,onClick:i,primary:!0}),l.createElement(g.c,null)),!!t&&l.createElement(l.Fragment,null,l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Close project"}),fullWidth:!0,onClick:function(){s()}}),l.createElement(g.c,null)),l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Search the documentation"}),fullWidth:!0,onClick:b}))),l.createElement(g.b,{alignItems:"center",justifyContent:"space-between"},l.createElement(g.b,null,l.createElement(u.a,{label:l.createElement(c.Trans,{id:"About GDevelop"}),onClick:p}),l.createElement(u.a,{label:l.createElement(c.Trans,{id:"GDevelop Forums"}),onClick:function(){return h.b.openExternalURL("https://forum.gdevelop-app.com")}}),l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Help and tutorials"}),onClick:function(){return h.b.openExternalURL("http://wiki.compilgames.net/doku.php/gdevelop5/start")}})),l.createElement(g.b,{alignItems:"center"},l.createElement(u.a,{label:y.language,onClick:v,icon:l.createElement(f.a,null)}),l.createElement(m.a,{className:"icon-facebook",onClick:function(){return h.b.openExternalURL("https://www.facebook.com/GDevelopApp")},tooltip:{id:"GDevelop on Facebook"}}),l.createElement(m.a,{className:"icon-twitter",onClick:function(){return h.b.openExternalURL("https://twitter.com/GDevelopApp")},tooltip:{id:"GDevelop on Twitter"}}),l.createElement(m.a,{className:"icon-discord",onClick:function(){return h.b.openExternalURL("https://discord.gg/rjdYHvj")},tooltip:{id:"GDevelop on Discord"}}),l.createElement(m.a,{className:"icon-reddit",onClick:function(){return h.b.openExternalURL("https://www.reddit.com/r/gdevelop")},tooltip:{id:"GDevelop on Reddit"}})))))}))}}]),n}(l.Component),S=function(e){return l.createElement(T,{ref:e.ref,project:e.project,isActive:e.isActive,projectItemName:e.projectItemName,setToolbar:e.setToolbar,canOpen:e.canOpen,onOpen:e.onOpen,onCreate:e.onCreate,onOpenProjectManager:e.onOpenProjectManager,onCloseProject:e.onCloseProject,onOpenAboutDialog:e.onOpenAboutDialog,onOpenHelpFinder:e.onOpenHelpFinder,onOpenLanguageDialog:e.onOpenLanguageDialog})}},2269:function(e,t,n){"use strict";var a=n(98),r=n(2),o=n.n(r),i=n(77),s=n(2373),c=n(2381),l=n(386),u=n(139),d=n(246),m=n(2360),p=n(2366),f=n(2367),h=n(2379),g=n(2471),b=n(2454),v=n(401),E=n.n(v),y=n(2461),j=n(870),O=function(e,t){var n=t.inputValue.toLowerCase();if(""===n)return e;var a=[],r=[];return e.forEach((function(e){var o=t.getOptionLabel(e).toLowerCase();return o.includes(n)?a.push(e):Object(j.a)(n,o)?r.push(e):void 0})),[].concat(a,r)},C=n(302),x=Object(c.a)({shortcutChip:{borderRadius:3},listItemContainer:{width:"100%"}}),T=function(e){var t=r.useState(!0),n=Object(a.a)(t,2),o=n[0],i=n[1],s=Object(d.e)(),c=x(),l=function(t){if(t.text)return t.text;if(t.name){var n=C.b[t.name],a=n.area,r=n.displayText,o=C.a[a];return e.i18n._(o)+" \u3009"+e.i18n._(r)}};return r.createElement(y.a,{open:o,onClose:function(t,n){"select-option"!==n&&e.onClose()},onOpen:function(){return i(!0)},options:e.items,getOptionLabel:l,onChange:function(t,n){e.onSelect(n)},openOnFocus:!0,autoHighlight:!0,filterOptions:O,renderInput:function(t){return r.createElement(b.a,Object.assign({},t,{placeholder:e.i18n._(e.placeholder),variant:"outlined",autoFocus:!0}))},renderOption:function(e){return r.createElement(m.a,{dense:!0,component:"div",ContainerComponent:"div",classes:{container:c.listItemContainer}},r.createElement(p.a,null,function(e){return e.text&&e.iconSrc?r.createElement(u.a,{iconSize:20,src:e.iconSrc}):r.createElement(E.a,null)}(e)),r.createElement(f.a,{primary:l(e)}),function(e){if(e.text)return null;if(e.name){var t=s[e.name];if(!t)return null;var n=Object(d.b)(t);return r.createElement(h.a,null,r.createElement(g.a,{className:c.shortcutChip,label:n}))}}(e))}})},S=Object(c.a)({scrollPaper:{alignItems:"flex-start"}}),k=o.a.forwardRef((function(e,t){var n=S(),r=o.a.useContext(l.b),c=o.a.useState("closed"),u=Object(a.a)(c,2),d=u[0],m=u[1],p=o.a.useState(null),f=Object(a.a)(p,2),h=f[0],g=f[1],b=o.a.useCallback((function(e){e.handler?(e.handler(),"OPEN_COMMAND_PALETTE"!==e.name&&m("closed")):(g(e),m("option"))}),[g,m]),v=function(e){e.handler(),m("closed")},E=o.a.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];m(e?"command":"closed")}),[]),y=o.a.useCallback((function(e){var t=r.getNamedCommand(e);t&&b(t)}),[b,r]);return o.a.useImperativeHandle(t,(function(){return{open:E,launchCommand:y}})),o.a.createElement(i.I18n,null,(function(e){var t=e.i18n;return o.a.createElement(s.a,{onClose:function(){return m("closed")},"aria-label":"command-palette",open:"closed"!==d,fullWidth:!0,hideBackdrop:!0,maxWidth:"sm",classes:n,transitionDuration:0},"command"===d&&o.a.createElement(T,{i18n:t,items:r.getAllNamedCommands().filter((function(e){return!C.b[e.name].ghost})),placeholder:{id:"Start typing a command..."},onClose:function(){return m("closed")},onSelect:b}),"option"===d&&h&&o.a.createElement(T,{i18n:t,items:h.generateOptions(),placeholder:C.b[h.name],onClose:function(){return m("closed")},onSelect:v}))}))}));t.a=k},2270:function(e,t,n){"use strict";var a=n(137),r=n(6),o=n(12),i=n(23),s=n(22),c=n(77),l=n(2),u=n.n(l),d=n(90),m=n(87),p=n(2362),f=n(395),h=n(322),g=n(270),b=n(396),v={flex:1,display:"flex",flexDirection:"column"},E=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).instructionsInfo=Object(b.a)(Object(g.a)(e.props.isCondition),e.props.scope),e.instructionsInfoTree=Object(h.a)(e.instructionsInfo),e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.isCondition,e.scope,Object(a.a)(e,["isCondition","scope"]));return u.a.createElement(f.a,Object.assign({style:v,instructionsInfo:this.instructionsInfo,instructionsInfoTree:this.instructionsInfoTree,iconSize:24},t))}}]),n}(l.Component),y=n(775),j={container:{display:"flex",flex:1},parametersEditor:{flex:2,display:"flex",paddingLeft:16,paddingRight:16,zIndex:1}},O=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).chooseType=function(t){e.props.instruction.setType(t),e.forceUpdate((function(){e._instructionParametersEditor&&e._instructionParametersEditor.focus()}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.instruction,a=t.isCondition,r=t.project,o=t.globalObjectsContainer,i=t.objectsContainer,s=t.scope;return l.createElement("div",{style:j.container},l.createElement(E,{isCondition:a,selectedType:n.getType(),onChoose:this.chooseType,focusOnMount:!n.getType(),scope:s}),l.createElement(p.a,{style:j.parametersEditor,square:!0,elevation:2},l.createElement(y.a,{project:r,scope:s,globalObjectsContainer:o,objectsContainer:i,isCondition:a,instruction:n,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,ref:function(t){return e._instructionParametersEditor=t},focusOnMount:!!n.getType()})))}}]),n}(l.Component);n.d(t,"a",(function(){return C}));var C=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.isNewInstruction,e.onCancel),n=e.onSubmit,r=e.open,o=(e.canPasteInstructions,e.onPasteInstructions,Object(a.a)(e,["isNewInstruction","onCancel","onSubmit","open","canPasteInstructions","onPasteInstructions"])),i=[l.createElement(m.a,{key:"cancel",label:l.createElement(c.Trans,{id:"Cancel"}),primary:!1,onClick:t}),l.createElement(m.a,{key:"ok",label:l.createElement(c.Trans,{id:"Ok"}),primary:!0,keyboardFocused:!1,onClick:n})];return l.createElement(d.a,{actions:i,open:r,cannotBeDismissed:!0,onRequestClose:t,maxWidth:!1,flexBody:!0,noMargin:!0},l.createElement(O,o))}}]),n}(l.Component)},2271:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(123),u=n(97),d=n(232),m=(n(114),n(329)),p={previewContainer:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",height:200,border:"#AAAAAA 1px solid",background:'url("res/transparentback.png") repeat'},icon:{width:60,height:60}},f=function(e){var t=e.renderIcon;return c.createElement("div",{style:p.previewContainer},t({style:p.icon}))},h=n(1880),g=n.n(h),b=n(842),v=n.n(b),E=n(843),y=n.n(E),j=n(844),O=n.n(j),C=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state=e._loadFrom(e.props),e}return Object(r.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.resourceName===this.props.resourceName&&e.project===this.props.project&&e.resourcePath===this.props.resourcePath||this.setState(this._loadFrom(e))}},{key:"_loadFrom",value:function(e){var t=e.project,n=e.resourceName,a=t.getResourcesManager();return{resourceKind:a.hasResource(n)?a.getResource(n).getKind():null}}},{key:"render",value:function(){switch(this.state.resourceKind){case"image":return c.createElement(m.a,{project:this.props.project,resourceName:this.props.resourceName,resourcesLoader:this.props.resourcesLoader,onSize:this.props.onSize,resourcePath:this.props.resourcePath});case"audio":return c.createElement(f,{renderIcon:function(e){return c.createElement(g.a,e)}});case"json":return c.createElement(f,{renderIcon:function(e){return c.createElement(v.a,e)}});case"video":return c.createElement(f,{renderIcon:function(e){return c.createElement(y.a,e)}});case"font":return c.createElement(f,{renderIcon:function(e){return c.createElement(O.a,e)}});default:return null}}}]),n}(c.PureComponent),x=n(263);n.d(t,"a",(function(){return S}));var T={propertiesContainer:{padding:8,overflowY:"scroll",overflowX:"hidden",flex:2}},S=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).schema=[{name:"Resource name",valueType:"string",disabled:!0,getValue:function(e){return e.getName()},setValue:function(e,t){return e.setName(t)}},{name:"File",valueType:"string",getValue:function(e){return e.getFile()},setValue:function(e,t){return e.setFile(t)},onEditButtonClick:function(){return e._chooseResourcePath()}}],e._chooseResourcePath=function(){var t=e.props,n=t.resources,a=t.onResourcePathUpdated,r=t.onChooseResource,o=t.resourceSources,i=n[0],s=o.filter((function(e){return e.kind===i.getKind()}));s.length&&r(s[0].name).then((function(t){t.length&&(i.setFile(t[0].getFile()),t.forEach((function(e){return e.delete()})),a(),e.forceUpdate())}))},e}return Object(r.a)(n,[{key:"_renderEmpty",value:function(){return c.createElement(u.a,null,c.createElement(s.Trans,{id:"Resources are automatically added to your project whenever you add an image, a font or a video to an object or when you choose an audio file in events. Choose a resource to display its properties."}))}},{key:"_renderResourcesProperties",value:function(){var e=this.props.resources,t=e[0].getProperties(),n=Object(x.a)(t,(function(e){return e.getProperties()}),(function(e,t,n){return e.updateProperty(t,n)}));return c.createElement("div",{style:T.propertiesContainer,key:e.map((function(e){return""+e.ptr})).join(";")},c.createElement(d.a,{schema:this.schema.concat(n),instances:e}))}},{key:"_renderPreview",value:function(){var e=this.props,t=e.resources,n=e.project,a=e.resourcesLoader;if(t&&t.length)return c.createElement(C,{resourceName:t[0].getName(),resourcePath:t[0].getFile(),resourcesLoader:a,project:n})}},{key:"render",value:function(){var e=this.props.resources;return c.createElement(l.a,{maxWidth:!0},this._renderPreview(),e&&e.length?this._renderResourcesProperties():this._renderEmpty())}}]),n}(c.Component)},2272:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(292),u=n(253),d=n(299),m=n(146),p=n(3),f=n(100);function h(e){var t=e.onPreviewWithoutHotReload,n=e.onNetworkPreview,a=e.onOpenDebugger,r=e.onHotReloadPreview,o=e.showNetworkPreviewButton,i=e.isPreviewEnabled,c=e.hasPreviewsRunning,l=e.previewState,d=e.setPreviewOverride,p=s.createElement(u.a,{onClick:r,disabled:!i,src:c?"res/ribbon_default/hotReload64.png":l.isPreviewOverriden?"res/ribbon_default/previewOverride32.png":"res/ribbon_default/preview64.png",tooltip:c?{id:"Apply changes to the running preview, right click for more"}:l.isPreviewOverriden?{id:"Preview is overridden, right click for more"}:l.previewExternalLayoutName?{id:"Launch a preview of the external layout inside the scene, right click for more"}:{id:"Launch a preview of the scene, right click for more"}});return s.createElement(s.Fragment,null,s.createElement(m.a,{element:p,openMenuWithSecondaryClick:!0,buildMenuTemplate:function(e){return[{label:e._({id:"Launch another preview in a new window"}),click:t,enabled:i&&c},{type:"separator"}].concat(Object(f.a)(l.overridenPreviewLayoutName?[{type:"checkbox",label:l.overridenPreviewExternalLayoutName?e._({id:"Start all previews from external layout {0}",values:{0:l.overridenPreviewExternalLayoutName}}):e._({id:"Start all previews from scene {0}",values:{0:l.overridenPreviewLayoutName}}),checked:l.isPreviewOverriden,click:function(){return d({isPreviewOverriden:!l.isPreviewOverriden,overridenPreviewLayoutName:l.overridenPreviewLayoutName,overridenPreviewExternalLayoutName:l.overridenPreviewExternalLayoutName})}},{type:"separator"}]:[]),[{label:l.previewExternalLayoutName?e._({id:"Use this external layout inside this scene to start all previews"}):e._({id:"Use this scene to start all previews"}),click:function(){return d({isPreviewOverriden:!0,overridenPreviewLayoutName:l.previewLayoutName,overridenPreviewExternalLayoutName:l.previewExternalLayoutName})},enabled:l.previewLayoutName!==l.overridenPreviewLayoutName||l.previewExternalLayoutName!==l.overridenPreviewExternalLayoutName}])}}),o&&s.createElement(m.a,{element:s.createElement(u.a,{disabled:!i,src:"res/ribbon_default/bug32.png",tooltip:{id:"Advanced preview options (debugger, network preview...)"}}),buildMenuTemplate:function(e){return[{label:e._({id:"Start Network Preview (Preview over WiFi/LAN)"}),click:function(){return n()}},{type:"separator"},{label:e._({id:"Start Preview with Debugger and Performance Profiler"}),click:function(){return a()}}]}}))}var g=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editorToolbar:null},e.isDev=p.b.isDev(),e}return Object(r.a)(n,[{key:"setEditorToolbar",value:function(e){this.setState({editorToolbar:e})}},{key:"render",value:function(){var e=this;return c.a.createElement(l.a,null,c.a.createElement(l.b,{firstChild:!0},this.props.showProjectIcons&&c.a.createElement(u.a,{onClick:this.props.toggleProjectManager,src:"res/ribbon_default/projectManager32.png",disabled:!this.props.hasProject,tooltip:{id:"Project manager"}}),this.props.showProjectIcons&&c.a.createElement(u.a,{onClick:this.props.exportProject,src:"res/ribbon_default/export32.png",disabled:!this.props.hasProject,tooltip:{id:"Export the game (Web, Android, iOS...)"}}),this.isDev&&c.a.createElement(m.a,{element:c.a.createElement(u.a,{src:"res/ribbon_default/bug32.png"}),buildMenuTemplate:function(){return[{label:"Request update from external editor",disabled:!e.props.requestUpdate,click:function(){e.props.requestUpdate&&e.props.requestUpdate()}},{label:"Simulate update downloaded",disabled:!e.props.simulateUpdateDownloaded,click:function(){e.props.simulateUpdateDownloaded&&e.props.simulateUpdateDownloaded()}},{label:"Simulate update available",disabled:!e.props.simulateUpdateAvailable,click:function(){e.props.simulateUpdateAvailable&&e.props.simulateUpdateAvailable()}}]}}),c.a.createElement(d.a,null),c.a.createElement(h,{onPreviewWithoutHotReload:this.props.onPreviewWithoutHotReload,onOpenDebugger:this.props.onOpenDebugger,onNetworkPreview:this.props.onNetworkPreview,onHotReloadPreview:this.props.onHotReloadPreview,setPreviewOverride:this.props.setPreviewOverride,showNetworkPreviewButton:this.props.showNetworkPreviewButton,isPreviewEnabled:this.props.isPreviewEnabled,previewState:this.props.previewState,hasPreviewsRunning:this.props.hasPreviewsRunning})),this.state.editorToolbar||c.a.createElement(l.b,null))}}]),n}(s.PureComponent);t.a=g},2273:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(90),u=n(87),d=n(3),m=n(83),p=n(99),f=n(102),h=n(79),g=n(1882),b=n.n(g),v=n(272),E=n.n(v),y=n(85),j={maxHeight:300,overflowY:"scroll"},O=function(e){return e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x27;/g,"'")},C="69c73fc1a710bb79543d4b91f6b81c08",x={hitsPerPage:5},T=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).client=b()("BH4D9OD16A",C,x),e.state={results:null,error:null},e._handleSearchTextChange=function(t){e.props.onChange(t)},e._launchSearchRequest=E()((function(){e.props.value&&e.client.search([{indexName:"gdevelop",query:e.props.value,params:x}]).then((function(t){var n=t.results[0].hits;console.log(n),e.setState({results:n,error:null})}),(function(t){e.setState({error:t})}))}),200),e._renderResult=function(e){var t=e.hierarchy.lvl0||e.hierarchy.lvl1||e.hierarchy.lvl2||e.hierarchy.lvl3||e.hierarchy.lvl4||e.hierarchy.lvl5||e.hierarchy.lvl6||"",n=[e.hierarchy.lvl0,e.hierarchy.lvl1,e.hierarchy.lvl2,e.hierarchy.lvl3,e.hierarchy.lvl4,e.hierarchy.lvl5,e.hierarchy.lvl6].filter((function(e){return!!e})).filter((function(e){return e!==t})).join(" - ");return c.createElement(f.b,{key:e.objectID,primaryText:O(t),secondaryText:O(e.content||n),secondaryTextLines:2,onClick:function(){d.b.openExternalURL(e.url)}})},e}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&this.props.value&&this._launchSearchRequest()}},{key:"render",value:function(){var e=this;return c.createElement("div",null,c.createElement(p.b,{id:"help-finder-search-bar",fullWidth:!0,hintText:{id:"Enter what you want to build."},value:this.props.value,onChange:function(t,n){return e.props.onChange(n)}}),c.createElement("div",{id:"help-finder-dropdown-menu-container",className:"algolia-autocomplete",style:Object(m.a)(Object(m.a)({},j),{},{visibility:this.props.value?void 0:"hidden"})}),this.state.error?c.createElement(y.a,null,c.createElement(s.Trans,{id:"Unable to search in the documentation. Are you sure you are online and have a proper internet connection?"})):this.state.results?c.createElement(f.a,null,this.state.results.map((function(t){return e._renderResult(t)}))):c.createElement(c.Fragment,null,c.createElement(y.a,null,c.createElement(s.Trans,{id:"Examples:"})),c.createElement(h.a,{expand:!0},c.createElement(y.a,null,"Coins in platformer",c.createElement("br",null),"Export on Android",c.createElement("br",null),"Add a score",c.createElement("br",null),"Move enemies",c.createElement("br",null),"...",c.createElement("br",null)))),c.createElement(y.a,{align:"right"},"This search is powered by"," ",c.createElement(u.a,{onClick:function(){return d.b.openExternalURL("http://algolia.com/")},label:"Algolia"})))}}]),n}(c.Component),S=n(9);n.d(t,"a",(function(){return k}));var k=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={searchText:""},e._handleSearchTextChange=function(t){e.setState({searchText:t}),e._sendHelpSearch()},e._sendHelpSearch=E()((function(){e.state.searchText&&Object(S.i)(e.state.searchText.trim())}),2900),e}return Object(r.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.open&&!this.props.open&&Object(S.h)()}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.onClose;return c.createElement(l.a,{title:c.createElement(s.Trans,{id:"Help!"}),onRequestClose:n,actions:[c.createElement(u.a,{label:c.createElement(s.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n})],secondaryActions:[c.createElement(u.a,{key:"forum",primary:!1,onClick:function(){d.b.openExternalURL("https://forum.gdevelop-app.com")},label:c.createElement(s.Trans,{id:"Community forum"})}),c.createElement(u.a,{key:"wiki",primary:!1,onClick:function(){d.b.openExternalURL("http://wiki.compilgames.net/doku.php/gdevelop5/start")},label:c.createElement(s.Trans,{id:"Wiki"})})],cannotBeDismissed:!1,open:t},c.createElement(T,{value:this.state.searchText,onChange:this._handleSearchTextChange}))}}]),n}(c.PureComponent)},2274:function(e,t,n){"use strict";var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(77),l=n(2),u=n.n(l),d=n(2390),m=n(2391),p=n(2401),f=n(2392),h=n(87),g=n(90),b=n(212),v=n(79),E=n(424),y=n(89),j=n(1903),O=n.n(j),C=n(97),x=n(24),T=n(265),S=n(275),k=n(9),w=n(2380),N=n(198),_=n(1902),P=n.n(_),I=n(85);function R(e){var t=e.onClose,n=e.userProfile,a=!!n&&!!n.subscription&&!!n.subscription.planId;return function(e,t){var n=Object(l.useRef)();Object(l.useEffect)((function(){n.current=e})),Object(l.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current&&n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){return n.onRefreshUserProfile()}),a?null:3900),u.a.createElement(g.a,{actions:[a?u.a.createElement(y.a,{label:u.a.createElement(c.Trans,{id:"Done!"}),key:"close",primary:!0,onClick:t}):u.a.createElement(h.a,{label:u.a.createElement(c.Trans,{id:"Cancel and close"}),key:"close",primary:!1,onClick:t})],title:void 0,maxWidth:"sm",cannotBeDismissed:!0,open:!0,noMargin:!0},!a&&u.a.createElement(v.a,null,u.a.createElement(v.b,null,u.a.createElement(I.a,null,u.a.createElement(c.Trans,{id:"Thanks for getting a subscription and supporting GDevelop!"})," ","\u2764\ufe0f",u.a.createElement("b",null,u.a.createElement(c.Trans,{id:"Your browser will now open to enter your payment details (handled securely by Stripe.com)."})))),u.a.createElement(v.b,{justifyContent:"center",alignItems:"center"},u.a.createElement(w.a,{size:20}),u.a.createElement(v.c,null),u.a.createElement(I.a,null,"Waiting for the subscription confirmation...")),u.a.createElement(v.c,null),u.a.createElement(v.b,{justifyContent:"center"},u.a.createElement(N.a,null,u.a.createElement(c.Trans,{id:"Once you're done, come back to GDevelop and your account will be upgraded automatically, unlocking the extra exports and online services."})))),a&&u.a.createElement(v.a,null,u.a.createElement(v.b,null,u.a.createElement(I.a,null,u.a.createElement(c.Trans,{id:"Thanks for getting a subscription and supporting GDevelop!"})," ","\u2764\ufe0f")),u.a.createElement(v.b,{justifyContent:"center",alignItems:"center"},u.a.createElement(P.a,null),u.a.createElement(v.c,null),u.a.createElement(I.a,null,u.a.createElement("b",null,u.a.createElement(c.Trans,{id:"Your new plan is now activated"})))),u.a.createElement(v.c,null),u.a.createElement(v.b,{justifyContent:"center"},u.a.createElement(N.a,null,u.a.createElement(c.Trans,{id:"Your account is upgraded, with the extra exports and online services. If you wish to change later, come back to your profile and choose another plan."})))))}var B=n(3),M=n(104);n.d(t,"a",(function(){return A}));var F={descriptionText:{marginLeft:16,marginRight:16},card:{margin:16},actions:{textAlign:"right",display:"flex",justifyContent:"flex-end"},bulletIcon:{width:20,height:20,marginLeft:5,marginRight:10},bulletText:{flex:1}},A=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isLoading:!1,subscriptionPendingDialogOpen:!1},e.choosePlan=function(t,n,a){var r=n.getAuthorizationHeader,o=n.subscription,i=n.profile;if(i&&o)if(Object(k.d)(a.planId),o.stripeSubscriptionId){if(!B.b.showConfirmDialog(a.planId?t._({id:"Are you sure you want to subscribe to this new plan?"}):t._({id:"Are you sure you want to cancel your subscription?"})))return;e.setState({isLoading:!0}),Object(E.a)(r,i.uid,{planId:a.planId}).then((function(){return e.handleUpdatedSubscriptionSuccess(t,n,a)}),(function(n){return e.handleUpdatedSubscriptionFailure(t,n)}))}else e.setState({subscriptionPendingDialogOpen:!0}),B.b.openExternalURL(Object(E.b)(a.planId||"",i.uid,i.email||""))},e.handleUpdatedSubscriptionSuccess=function(t,n,a){n.onRefreshUserProfile(),e.setState({isLoading:!1}),a.planId?Object(x.b)(t._({id:"Congratulations, your new subscription is now active!\\n\\nYou can now use the services unlocked with this plan."})):Object(x.b)(t._({id:"Your subscription was properly cancelled. Sorry to see you go!"}))},e.handleUpdatedSubscriptionFailure=function(t,n){e.setState({isLoading:!1}),Object(x.a)({message:t._({id:"Your subscription could not be updated. Please try again later!"}),rawError:n,errorId:"subscription-update-error"})},e._isLoading=function(t){return!t.subscription||!t.profile||e.state.isLoading},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.open&&Object(k.p)()}},{key:"componentWillReceiveProps",value:function(e){!this.props.open&&e.open&&Object(k.p)()}},{key:"_renderPrice",value:function(e){return e.monthlyPriceInEuros?l.createElement(c.Trans,{id:"{0}\u20ac/month",values:{0:e.monthlyPriceInEuros}}):l.createElement(c.Trans,{id:"Free"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.open,r=t.onClose,o=this.state.subscriptionPendingDialogOpen;return l.createElement(c.I18n,null,(function(t){var i=t.i18n;return l.createElement(b.a.Consumer,null,(function(t){return l.createElement(M.a,null,(function(s){return l.createElement(g.a,{actions:[l.createElement(h.a,{label:l.createElement(c.Trans,{id:"Close"}),key:"close",primary:!1,onClick:r})],onRequestClose:r,cannotBeDismissed:!0,open:n,noMargin:!0},l.createElement(v.a,null,l.createElement(v.b,null,l.createElement(I.a,null,l.createElement(c.Trans,{id:"Get a subscription to package your games for Android, Windows, macOS and Linux, use live preview over wifi and more. With a subscription, you're also supporting the development of GDevelop, which is an open-source software."})))),Object(E.d)().map((function(n){return l.createElement(d.a,{key:n.planId||"",style:F.card},l.createElement(m.a,{title:l.createElement("span",null,l.createElement("b",null,n.name)," - ",e._renderPrice(n)),subheader:n.smallDescription?i._(n.smallDescription):""}),l.createElement(p.a,null,n.descriptionBullets.map((function(e,r){return l.createElement(v.a,{key:r,expand:!0},l.createElement(v.b,{noMargin:!0,alignItems:"center"},t.subscription&&t.subscription.planId===n.planId?l.createElement(O.a,{style:Object(a.a)(Object(a.a)({},F.bulletIcon),{},{color:s.message.valid})}):l.createElement(O.a,{style:F.bulletIcon}),l.createElement(I.a,{style:F.bulletText},i._(e.message)," ",e.isLocalAppOnly&&l.createElement(c.Trans,{id:"(on the desktop app only)"}))))})),l.createElement(I.a,{style:F.descriptionText},n.extraDescription?i._(n.extraDescription):"")),l.createElement(f.a,{style:F.actions},t.subscription&&t.subscription.planId===n.planId?l.createElement(h.a,{disabled:!0,label:l.createElement(c.Trans,{id:"This is your current plan"}),onClick:function(){return e.choosePlan(i,t,n)}}):n.planId?l.createElement(T.a,{isLoading:e._isLoading(t)},l.createElement(y.a,{primary:!0,disabled:e._isLoading(t),label:l.createElement(c.Trans,{id:"Choose this plan"}),onClick:function(){return e.choosePlan(i,t,n)}})):l.createElement(T.a,{isLoading:e._isLoading(t)},l.createElement(h.a,{disabled:e._isLoading(t),label:l.createElement(c.Trans,{id:"Cancel your subscription"}),onClick:function(){return e.choosePlan(i,t,n)}}))))})),l.createElement(v.a,null,l.createElement(v.b,null,l.createElement(C.a,null,l.createElement(c.Trans,{id:"Subscriptions can be stopped at any time. GDevelop uses Stripe.com for secure payment. No credit card data is stored by GDevelop: everything is managed by Stripe secure infrastructure."})))),!t.authenticated&&l.createElement(S.a,null,l.createElement(I.a,null,l.createElement(c.Trans,{id:"Create a GDevelop account to continue. It's free and you'll be able to access to online services like one-click build for Android:"})),l.createElement(y.a,{label:l.createElement(c.Trans,{id:"Create my account"}),primary:!0,onClick:t.onLogin}),l.createElement(h.a,{label:l.createElement(c.Trans,{id:"Not now, thanks"}),onClick:r})),o&&l.createElement(R,{userProfile:t,onClose:function(){e.setState({subscriptionPendingDialogOpen:!1},(function(){return t.onRefreshUserProfile()}))}}))}))}))}))}}]),n}(l.Component)},2275:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(77),l=n(90),u=n(87),d=n(911),m=n(85),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.open,a=t.onClose;if(!n)return null;var r=[s.createElement(u.a,{key:"close",label:s.createElement(c.Trans,{id:"Close"}),primary:!0,onClick:a})];return s.createElement(l.a,{title:s.createElement(c.Trans,{id:"What's new in GDevelop?"}),actions:r,open:n,onRequestClose:a,cannotBeDismissed:!1},s.createElement(m.a,null,s.createElement(c.Trans,{id:"GDevelop was upgraded to a new version! Check out the changes."})),s.createElement(d.a,{onUpdated:function(){e.forceUpdate()}}))}}]),n}(s.Component),f=n(113),h=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={open:e.props.defaultOpen},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.state.open;return s.createElement(p,{open:t,onClose:function(){return e.setState({open:!1})}})}}]),n}(s.Component);t.a=function(e){return s.createElement(f.b.Consumer,null,(function(e){var t=e.values,n=e.verifyIfIsNewVersion;return s.createElement(h,{defaultOpen:n()&&t.autoDisplayChangelog})}))}},2278:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(292),u=n(299),d=n(253),m=n(146),p=n(203),f=function(e){var t=e.onAddEvent;return Object(p.a)("ADD_STANDARD_EVENT",!0,{handler:e.onAddStandardEvent}),Object(p.a)("ADD_SUBEVENT",e.canAddSubEvent,{handler:e.onAddSubEvent}),Object(p.a)("ADD_COMMENT_EVENT",!0,{handler:e.onAddCommentEvent}),Object(p.b)("CHOOSE_AND_ADD_EVENT",!0,{generateOptions:s.useCallback((function(){return e.allEventsMetadata.map((function(e){return{text:e.fullName,handler:function(){t(e.type)}}}))}),[e.allEventsMetadata,t])}),Object(p.a)("DELETE_SELECTION",e.canRemove,{handler:e.onRemove}),Object(p.a)("EVENTS_EDITOR_UNDO",e.canUndo,{handler:e.undo}),Object(p.a)("EVENTS_EDITOR_REDO",e.canRedo,{handler:e.redo}),Object(p.a)("SEARCH_EVENTS",!0,{handler:e.onToggleSearchPanel}),Object(p.a)("OPEN_EXTENSION_SETTINGS",!!e.onOpenSettings,{handler:e.onOpenSettings||function(){}}),null},h=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(f,this.props),c.a.createElement(l.b,{lastChild:!0},c.a.createElement(d.a,{onClick:this.props.onAddStandardEvent,src:"res/ribbon_default/eventadd32.png",tooltip:{id:"Add a new empty event"}}),c.a.createElement(d.a,{onClick:this.props.onAddSubEvent,src:"res/ribbon_default/subeventadd32.png",disabled:!this.props.canAddSubEvent,tooltip:{id:"Add a sub-event to the selected event"}}),c.a.createElement(d.a,{onClick:this.props.onAddCommentEvent,src:"res/ribbon_default/commentaireadd32.png",tooltip:{id:"Add a comment"}}),c.a.createElement(m.a,{element:c.a.createElement(d.a,{src:"res/ribbon_default/add32.png",tooltip:{id:"Choose and add an event"}}),buildMenuTemplate:function(){return e.props.allEventsMetadata.map((function(t){return{label:t.fullName,click:function(){e.props.onAddEvent(t.type)}}}))}}),c.a.createElement(u.a,null),c.a.createElement(d.a,{onClick:this.props.onRemove,src:"res/ribbon_default/deleteselected32.png",disabled:!this.props.canRemove,tooltip:{id:"Delete the selected event(s)"}}),c.a.createElement(d.a,{onClick:this.props.undo,src:"res/ribbon_default/undo32.png",disabled:!this.props.canUndo,tooltip:{id:"Undo the last changes"}}),c.a.createElement(d.a,{onClick:this.props.redo,src:"res/ribbon_default/redo32.png",disabled:!this.props.canRedo,tooltip:{id:"Redo the last changes"}}),c.a.createElement(u.a,null),c.a.createElement(d.a,{onClick:function(){return e.props.onToggleSearchPanel()},src:"res/ribbon_default/search32.png",tooltip:{id:"Search in events"},acceleratorString:"CmdOrCtrl+F"}),this.props.onOpenSettings&&c.a.createElement(u.a,null),this.props.onOpenSettings&&c.a.createElement(d.a,{onClick:this.props.onOpenSettings,src:"res/ribbon_default/pref32.png",tooltip:{id:"Open settings"}})))}}]),n}(s.PureComponent);t.a=h},2279:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(207),u=n(426),d=n(150),m=n(24),p=n(123),f=n(130),h=n(92),g=n(231),b=n(3),v=n(131);n.d(t,"a",(function(){return j}));var E={listContainer:{flex:1}},y=function(e){return e.getName()},j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={renamedEventsFunction:null,searchText:""},e._deleteEventsFunction=function(t,n){var a=n.askForConfirmation,r=e.props.eventsFunctionsContainer;if(a&&!b.b.showConfirmDialog("Are you sure you want to remove this function? This can't be undone."))return;e.props.onDeleteEventsFunction(t,(function(n){n&&(r.removeEventsFunction(t.getName()),e._onEventsFunctionModified())}))},e._editName=function(t){e.setState({renamedEventsFunction:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._rename=function(t,n){var a=e.props.eventsFunctionsContainer;e.setState({renamedEventsFunction:null}),t.getName()!==n&&(a.hasEventsFunctionNamed(n)?Object(m.c)("Another function with this name already exists.",{delayToNextTick:!0}):e.props.onRenameEventsFunction(t,n,(function(a){a&&(t.setName(n),e._onEventsFunctionModified())})))},e._moveSelectionTo=function(t){var n=e.props,a=n.eventsFunctionsContainer,r=n.selectedEventsFunction;r&&(a.moveEventsFunction(a.getEventsFunctionPosition(r),a.getEventsFunctionPosition(t)),e.forceUpdateList())},e.forceUpdateList=function(){e._onEventsFunctionModified(),e.sortableList&&e.sortableList.forceUpdateGrid()},e._copyEventsFunction=function(e){g.a.set("Events Function",{eventsFunction:Object(v.b)(e),name:e.getName()})},e._cutEventsFunction=function(t){e._copyEventsFunction(t),e._deleteEventsFunction(t,{askForConfirmation:!1})},e._pasteEventsFunction=function(t){if(g.a.has("Events Function")){var n=g.a.get("Events Function"),a=n.eventsFunction,r=n.name,o=e.props,i=o.project,s=o.eventsFunctionsContainer,c=Object(f.a)(r,(function(e){return s.hasEventsFunctionNamed(e)})),l=s.insertNewEventsFunction(c,t);Object(v.c)(l,a,"unserializeFrom",i),l.setName(c),e.props.onEventsFunctionAdded(l),e._onEventsFunctionModified()}},e._renderEventsFunctionMenuTemplate=function(t){return function(n,a){return[{label:t._({id:"Rename"}),click:function(){return e._editName(n)},enabled:e.props.canRename(n)},{label:t._({id:"Remove"}),click:function(){return e._deleteEventsFunction(n,{askForConfirmation:!0})}},{type:"separator"},{label:t._({id:"Copy"}),click:function(){return e._copyEventsFunction(n)}},{label:t._({id:"Cut"}),click:function(){return e._cutEventsFunction(n)}},{label:t._({id:"Paste"}),enabled:g.a.has("Events Function"),click:function(){return e._pasteEventsFunction(a)}}]}},e._addNewEventsFunction=function(){var t=e.props.eventsFunctionsContainer;e.props.onAddEventsFunction((function(n){if(n){var a=n.name||Object(f.a)("Function",(function(e){return t.hasEventsFunctionNamed(e)})),r=t.insertNewEventsFunction(a,t.getEventsFunctionsCount());r.setFunctionType(n.functionType),e.props.onEventsFunctionAdded(r),e._onEventsFunctionModified()}}))},e}return Object(r.a)(n,[{key:"_onEventsFunctionModified",value:function(){this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.eventsFunctionsContainer,r=t.selectedEventsFunction,o=t.onSelectEventsFunction,i=t.renderHeader,m=this.state.searchText,f=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}(function(e){return Object(h.mapFor)(0,e.getEventsFunctionsCount(),(function(t){return e.getEventsFunctionAt(t)}))}(a),m),g=n.ptr+";"+a.ptr;return c.createElement(p.a,null,i?i():null,c.createElement("div",{style:E.listContainer},c.createElement(l.a,null,(function(t){var n=t.height,a=t.width;return c.createElement(s.I18n,null,(function(t){var i=t.i18n;return c.createElement(u.a,{key:g,ref:function(t){return e.sortableList=t},fullList:f,width:a,height:n,onAddNewItem:e._addNewEventsFunction,addNewItemLabel:c.createElement(s.Trans,{id:"Add a new function"}),getItemName:y,selectedItems:r?[r]:[],onItemSelected:o,renamedItem:e.state.renamedEventsFunction,onRename:e._rename,onMoveSelectionToItem:e._moveSelectionTo,buildMenuTemplate:e._renderEventsFunctionMenuTemplate(i),reactDndType:"GD_EVENTS_FUNCTION"})}))}))),c.createElement(d.a,{value:m,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})}}))}}]),n}(c.Component);j.defaultProps={onDeleteEventsFunction:function(e,t){return t(!0)},onRenameEventsFunction:function(e,t,n){return n(!0)}}},228:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return"http://wiki.compilgames.net/doku.php/gdevelop5".concat(e,"?utm_source=gdevelop&utm_medium=help-link")}},2280:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(207),u=n(426),d=n(150),m=n(24),p=n(123),f=n(130),h=n(92),g=n(231),b=n(3),v=n(131);n.d(t,"a",(function(){return j}));var E={listContainer:{flex:1}},y=function(e){return e.getName()},j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={renamedEventsBasedBehavior:null,searchText:""},e._deleteEventsBasedBehavior=function(t,n){var a=n.askForConfirmation,r=e.props.eventsBasedBehaviorsList;if(a&&!b.b.showConfirmDialog("Are you sure you want to remove this behavior? This can't be undone."))return;e.props.onDeleteEventsBasedBehavior(t,(function(n){n&&(r.remove(t.getName()),e._onEventsBasedBehaviorModified())}))},e._editName=function(t){e.setState({renamedEventsBasedBehavior:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._rename=function(t,n){var a=e.props.eventsBasedBehaviorsList;e.setState({renamedEventsBasedBehavior:null}),t.getName()!==n&&(a.has(n)?Object(m.c)("Another behavior with this name already exists.",{delayToNextTick:!0}):e.props.onRenameEventsBasedBehavior(t,n,(function(a){a&&(t.setName(n),e._onEventsBasedBehaviorModified(),e.props.onEventsBasedBehaviorRenamed(t))})))},e._moveSelectionTo=function(t){var n=e.props,a=n.eventsBasedBehaviorsList,r=n.selectedEventsBasedBehavior;r&&(a.move(a.getPosition(r),a.getPosition(t)),e.forceUpdateList())},e.forceUpdateList=function(){e._onEventsBasedBehaviorModified(),e.sortableList&&e.sortableList.forceUpdateGrid()},e._copyEventsBasedBehavior=function(e){g.a.set("Events Based Behavior",{eventsBasedBehavior:Object(v.b)(e),name:e.getName()})},e._cutEventsBasedBehavior=function(t){e._copyEventsBasedBehavior(t),e._deleteEventsBasedBehavior(t,{askForConfirmation:!1})},e._pasteEventsBasedBehavior=function(t){if(g.a.has("Events Based Behavior")){var n=g.a.get("Events Based Behavior"),a=n.eventsBasedBehavior,r=n.name,o=e.props,i=o.project,s=o.eventsBasedBehaviorsList,c=Object(f.a)(r,(function(e){return s.has(e)})),l=s.insertNew(c,t);Object(v.c)(l,a,"unserializeFrom",i),l.setName(c),e._onEventsBasedBehaviorModified()}},e._renderEventsBasedBehaviorMenuTemplate=function(t){return function(n,a){return[{label:t._({id:"Properties"}),click:function(){return e.props.onEditProperties(n)}},{type:"separator"},{label:t._({id:"Rename"}),click:function(){return e._editName(n)}},{label:t._({id:"Remove"}),click:function(){return e._deleteEventsBasedBehavior(n,{askForConfirmation:!0})}},{type:"separator"},{label:t._({id:"Copy"}),click:function(){return e._copyEventsBasedBehavior(n)}},{label:t._({id:"Cut"}),click:function(){return e._cutEventsBasedBehavior(n)}},{label:t._({id:"Paste"}),enabled:g.a.has("Events Based Behavior"),click:function(){return e._pasteEventsBasedBehavior(a)}}]}},e._addNewEventsBasedBehavior=function(){var t=e.props.eventsBasedBehaviorsList,n=Object(f.a)("MyBehavior",(function(e){return t.has(e)}));t.insertNew(n,t.getCount()),e._onEventsBasedBehaviorModified()},e}return Object(r.a)(n,[{key:"_onEventsBasedBehaviorModified",value:function(){this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.project,r=n.eventsBasedBehaviorsList,o=n.selectedEventsBasedBehavior,i=n.onSelectEventsBasedBehavior,m=this.state.searchText,f=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}((e=r,Object(h.mapVector)(e,(function(e){return e}))),m),g=a.ptr+";"+r.ptr;return c.createElement(p.a,null,c.createElement("div",{style:E.listContainer},c.createElement(l.a,null,(function(e){var n=e.height,a=e.width;return c.createElement(s.I18n,null,(function(e){var r=e.i18n;return c.createElement(u.a,{key:g,ref:function(e){return t.sortableList=e},fullList:f,width:a,height:n,onAddNewItem:t._addNewEventsBasedBehavior,addNewItemLabel:c.createElement(s.Trans,{id:"Add a new behavior"}),getItemName:y,selectedItems:o?[o]:[],onItemSelected:i,renamedItem:t.state.renamedEventsBasedBehavior,onRename:t._rename,onMoveSelectionToItem:t._moveSelectionTo,buildMenuTemplate:t._renderEventsBasedBehaviorMenuTemplate(r),reactDndType:"GD_EVENTS_BASED_BEHAVIOR"})}))}))),c.createElement(d.a,{value:m,onRequestSearch:function(){},onChange:function(e){return t.setState({searchText:e})}}))}}]),n}(c.Component);j.defaultProps={onDeleteEventsBasedBehavior:function(e,t){return t(!0)},onRenameEventsBasedBehavior:function(e,t,n){return n(!0)}}},2281:function(e,t,n){"use strict";var a=n(98),r=n(120),o=n.n(r),i=n(133),s=n(77),c=n(2),l=n(87),u=n(99),d=n(1815),m=n.n(d),p=n(79),f=n(90),h=n(110),g=n(266),b=n(89),v=n(3),E=n(85),y=n(109),j=n(913),O=n(96),C=n(178),x=n.n(C),T=n(176),S=n(24);n.d(t,"a",(function(){return N}));var k=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get(t,{responseType:"arraybuffer"});case 3:if(n=e.sent,!((a=btoa(new Uint8Array(n.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""))).length>102400)){e.next=7;break}throw new Error("Icon is too big (size after base64 conversion: ".concat(a.length,")"));case 7:if("image/svg+xml"===(r=n.headers?n.headers["content-type"].toLowerCase():"")){e.next=10;break}throw new Error('Wrong content type. Got: "'.concat(r,'", expected "image/svg+xml"'));case 10:return e.abrupt("return","data:".concat(r,";base64,").concat(a));case 13:throw e.prev=13,e.t0=e.catch(0),console.error("Unable to import the icon.",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){v.b.openExternalURL("https://github.com/4ian/GDevelop-extensions/issues/new?body=".concat(encodeURIComponent('\n**\u26a0\ufe0f Please edit and complete this before submitting your extension:**\n\n## Describe the extension\nA clear and concise description of what the extension is, how useful it is.\n\n## Checklist\n\n- [ ] Extension has a proper name and description.\n- [ ] Extension has tags (for example: "platform, brick, breakable").\n- [ ] All behaviors have a description.\n- [ ] All functions (actions, conditions, expressions) have descriptions.\n- [ ] I confirm that this extension can be intergrated to this GitHub repository, distributed and MIT licensed.\n\n## Extension file\n\nFinally, attach the .json file of your extension here.\n\nYou also may have to create an account on GitHub before posting.\nIf your extension is high quality and useful, it will be added to the list of GDevelop community extensions.\nWhen you\'re ready, remove this last paragraph and click on "Submit new issue". Thanks \ud83d\ude4c'),"&title=New%20extension"))};function N(e){var t=e.eventsFunctionsExtension,n=e.onClose,r=e.open,o=c.useState(!1),i=Object(a.a)(o,2),d=i[0],v=i[1],C=c.useState(!1),x=Object(a.a)(C,2),N=x[0],_=x[1],P=c.useState(!1),I=Object(a.a)(P,2),R=I[0],B=I[1],M=Object(T.a)(),F=function(){var e=c.useRef(!1);return c.useEffect((function(){return e.current=!0,function(){e.current=!1}}),[]),e}(),A=c.useContext(g.a),L=A.getEventsFunctionsExtensionWriter();return c.createElement(s.I18n,null,(function(e){var a=e.i18n;return c.createElement(f.a,{secondaryActions:[c.createElement(h.a,{key:"help",helpPagePath:"/extensions/create"}),L?c.createElement(l.a,{icon:c.createElement(m.a,null),key:"export",label:c.createElement(s.Trans,{id:"Export extension"}),onClick:function(){v(!0)},disabled:R}):null],actions:[c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Close"}),primary:!0,keyboardFocused:!0,onClick:function(){return n()},disabled:R,key:"close"})],cannotBeDismissed:!0,open:r,title:c.createElement(s.Trans,{id:"Edit Extension Options"}),onRequestClose:R?function(){}:n},c.createElement(O.a,{noMargin:!0},c.createElement(u.b,{floatingLabelText:c.createElement(s.Trans,{id:"Name"}),value:t.getName(),disabled:!0,fullWidth:!0}),c.createElement(O.c,{renderButton:function(e){return c.createElement(b.a,{onClick:function(){_(!0)},primary:!0,label:c.createElement(s.Trans,{id:"Choose"}),disabled:R,style:e})},renderTextField:function(){return c.createElement(y.a,{floatingLabelText:c.createElement(s.Trans,{id:"Icon URL"}),value:t.getPreviewIconUrl(),onChange:function(e){t.setPreviewIconUrl(e)},disabled:!0,fullWidth:!0})}}),c.createElement(u.b,{floatingLabelText:c.createElement(s.Trans,{id:"Name displayed in editor"}),value:t.getFullName(),onChange:function(e,n){t.setFullName(n),M()},fullWidth:!0}),c.createElement(u.b,{floatingLabelText:c.createElement(s.Trans,{id:"Short description"}),value:t.getShortDescription(),onChange:function(e,n){t.setShortDescription(n),M()},multiline:!0,fullWidth:!0,rows:2,rowsMax:2}),c.createElement(u.b,{floatingLabelText:c.createElement(s.Trans,{id:"Description (markdown supported)"}),value:t.getDescription(),onChange:function(e,n){t.setDescription(n),M()},multiline:!0,fullWidth:!0,rows:5,rowsMax:5}),c.createElement(u.b,{floatingLabelText:c.createElement(s.Trans,{id:"Version"}),value:t.getVersion(),onChange:function(e,n){t.setVersion(n),M()},fullWidth:!0}),c.createElement(u.b,{floatingLabelText:c.createElement(s.Trans,{id:"Tags (comma separated)"}),value:t.getTags(),onChange:function(e,n){t.setTags(n),M()},fullWidth:!0}),c.createElement(u.b,{floatingLabelText:c.createElement(s.Trans,{id:"Author (Name, email or GitHub handle)"}),value:t.getAuthor(),onChange:function(e,n){t.setAuthor(n),M()},fullWidth:!0})),d&&c.createElement(f.a,{secondaryActions:[c.createElement(h.a,{key:"help",helpPagePath:"/extensions/share"})],actions:[c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Close"}),keyboardFocused:!0,onClick:function(){v(!1)},key:"close"})],open:!0,cannotBeDismissed:!1,onRequestClose:function(){v(!1)}},c.createElement(p.a,{expand:!0},c.createElement(p.b,null,c.createElement(E.a,null,c.createElement(s.Trans,{id:"You can export the extension to a file to easily import it in another project. If your extension is providing useful and reusable functions or behaviors, consider sharing it with the GDevelop community!"}))),c.createElement(p.b,null,c.createElement(b.a,{icon:c.createElement(m.a,null),primary:!0,label:c.createElement(s.Trans,{id:"Export to a file"}),onClick:function(){!function(e,t){var n=e.getEventsFunctionsExtensionWriter();n?n.chooseEventsFunctionExtensionFile().then((function(e){e&&n.writeEventsFunctionsExtension(t,e).then()})):Promise.reject(new Error("Not supported"))}(A,t)}}),c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Submit extension to the community"}),onClick:w})))),N&&c.createElement(f.a,{title:c.createElement(s.Trans,{id:"Choose an icon for the extension"}),actions:[c.createElement(l.a,{key:"cancel",label:c.createElement(s.Trans,{id:"Cancel"}),primary:!1,onClick:function(){_(!1)}})],cannotBeDismissed:!1,open:!0,noMargin:!0},c.createElement(j.a,{onChoose:function(e){_(!1),B(!0),k(e.url).then((function(n){F.current&&(t.setPreviewIconUrl(e.url),t.setIconUrl(n))}),(function(e){F.current&&Object(S.a)({message:a._({id:"Unable to download the icon. Verify your internet connection or try again later."}),rawError:e,errorId:"icon-download-error"})})).then((function(){F.current&&B(!1)}))},resourceKind:"svg"})))}))}},2282:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(860),d=n.n(u),m=n(87),p=n(159),f=n(651),h=n.n(f),g=n(861),b=n.n(g),v=n(99),E=n(90),y=n(79),j=n(329),O=n(642),C=n.n(O),x=n(1849),T=n.n(x),S=n(85),k={timeField:{width:75},timeIcon:{paddingLeft:6,paddingRight:8}},w=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={currentFrameIndex:0,currentFrameElapsedTime:0,paused:!1,fps:Math.round(1/e.props.timeBetweenFrames)},e.nextUpdate=null,e.replay=function(){return e.setState({currentFrameIndex:0,currentFrameElapsedTime:0,paused:!1})},e.play=function(){return e.setState({paused:!1})},e.pause=function(){return e.setState({paused:!0})},e._updateAnimation=function(){var t=e.props,n=t.spritesContainer,a=t.timeBetweenFrames,r=e.state,o=r.currentFrameIndex,i=r.currentFrameElapsedTime;if((i+=r.paused?0:1/60*1)>a){var s=Math.floor(i/a);o+=s,(i-=s*a)<0&&(i=0)}o>=n.getSpritesCount()&&(o=n.isLooping()?o%n.getSpritesCount():n.getSpritesCount()-1),o<0&&(o=0),e.setState({currentFrameIndex:o,currentFrameElapsedTime:i}),e.nextUpdate=requestAnimationFrame(e._updateAnimation)},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.nextUpdate=requestAnimationFrame(this._updateAnimation)}},{key:"componentWillUnmount",value:function(){this.nextUpdate&&cancelAnimationFrame(this.nextUpdate)}},{key:"render",value:function(){var e=this,t=this.props,n=t.spritesContainer,a=t.resourcesLoader,r=t.project,o=t.timeBetweenFrames,i=t.onChangeTimeBetweenFrames,c=this.state,u=c.currentFrameIndex,p=c.paused,f=c.fps,h=u<n.getSpritesCount()?n.getSprite(u):null;return l.a.createElement("div",null,l.a.createElement(j.a,{resourceName:h?h.getImageName():"",resourcesLoader:a,project:r}),l.a.createElement(y.b,{noMargin:!0,alignItems:"center"},l.a.createElement(S.a,null,l.a.createElement(s.Trans,{id:"FPS:"})),l.a.createElement(y.c,null),l.a.createElement(v.b,{margin:"none",value:f,onChange:function(t,n){var a=parseFloat(n);a>0&&(e.setState({fps:a}),i(parseFloat((1/a).toFixed(4))),e.replay())},id:"direction-time-between-frames",type:"number",step:1,min:1,max:100,style:k.timeField,autoFocus:!0}),l.a.createElement(d.a,{style:k.timeIcon}),l.a.createElement(v.b,{margin:"none",value:o,onChange:function(t,n){var a=parseFloat(n);a>0&&(e.setState({fps:Math.round(1/a)}),i(a),e.replay())},id:"direction-time-between-frames",type:"number",step:.005,precision:2,min:.01,max:5,style:k.timeField}),l.a.createElement(m.a,{icon:l.a.createElement(C.a,null),label:l.a.createElement(s.Trans,{id:"Replay"}),onClick:this.replay}),l.a.createElement(m.a,{icon:p?l.a.createElement(b.a,null):l.a.createElement(T.a,null),label:p?"Play":"Pause",onClick:p?this.play:this.pause})))}}]),n}(c.Component),N=(n(114),n(163));n.d(t,"a",(function(){return I}));var _={container:{paddingLeft:12,paddingRight:12,display:"flex",alignItems:"center"},timeField:{width:75},timeIcon:{paddingLeft:6,paddingRight:6},spacer:{width:16}},P=function(e){return Number(e.toFixed(6))},I=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={timeBetweenFrames:P(e.props.direction.getTimeBetweenFrames()),timeError:!1,previewOpen:!1},e.saveTimeBetweenFrames=function(){var t=e.props.direction,n=Math.max(parseFloat(e.state.timeBetweenFrames),1e-5),a=!isNaN(n);a&&t.setTimeBetweenFrames(n),e.setState({timeBetweenFrames:P(e.props.direction.getTimeBetweenFrames()),timeError:a})},e.setLooping=function(t){e.props.direction.setLoop(!!t),e.forceUpdate()},e.openPreview=function(t){e.setState({previewOpen:t}),t||e.saveTimeBetweenFrames()},e}return Object(r.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({timeBetweenFrames:P(this.props.direction.getTimeBetweenFrames()),timeError:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.direction,a=t.resourcesLoader,r=t.project,o=t.resourceExternalEditors,i=t.onEditWith,c=o.filter((function(e){return"image"===e.kind}));return l.a.createElement("div",{style:_.container},l.a.createElement(N.a,null,(function(e){return"small"!==e&&!!c.length&&l.a.createElement(m.a,{label:c[0].displayName,icon:l.a.createElement(h.a,null),onClick:function(){return i(c[0])}})})),l.a.createElement(m.a,{label:l.a.createElement(s.Trans,{id:"Preview"}),icon:l.a.createElement(b.a,null),onClick:function(){return e.openPreview(!0)}}),l.a.createElement(d.a,{style:_.timeIcon}),l.a.createElement(v.b,{value:this.state.timeBetweenFrames,onChange:function(t,n){return e.setState({timeBetweenFrames:parseFloat(n)||0})},onBlur:function(){return e.saveTimeBetweenFrames()},id:"direction-time-between-frames",margin:"none",style:_.timeField,type:"number",step:.005,precision:2,min:.01,max:5}),l.a.createElement("span",{style:_.spacer}),l.a.createElement(p.a,{checked:n.isLooping(),label:l.a.createElement(s.Trans,{id:"Loop"}),onCheck:function(t,n){return e.setLooping(n)}}),this.state.previewOpen&&l.a.createElement(E.a,{actions:l.a.createElement(m.a,{label:l.a.createElement(s.Trans,{id:"OK"}),primary:!0,onClick:function(){return e.openPreview(!1)},key:"ok"}),noMargin:!0,cannotBeDismissed:!1,onRequestClose:function(){return e.openPreview(!1)},open:this.state.previewOpen},l.a.createElement(w,{spritesContainer:n,resourcesLoader:a,project:r,timeBetweenFrames:this.state.timeBetweenFrames,onChangeTimeBetweenFrames:function(t){return e.setState({timeBetweenFrames:t})}})))}}]),n}(c.Component)},2283:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(292),u=n(299),d=n(253),m=n(146),p=n(203),f=function(e){return Object(p.a)("OPEN_OBJECTS_PANEL",!0,{handler:e.openObjectsList}),Object(p.a)("OPEN_OBJECT_GROUPS_PANEL",!0,{handler:e.openObjectGroupsList}),Object(p.a)("OPEN_PROPERTIES_PANEL",!0,{handler:e.openPropertiesPanel}),Object(p.a)("TOGGLE_INSTANCES_PANEL",!0,{handler:e.toggleInstancesList}),Object(p.a)("TOGGLE_LAYERS_PANEL",!0,{handler:e.toggleLayersList}),Object(p.a)("SCENE_EDITOR_UNDO",e.canUndo,{handler:e.undo}),Object(p.a)("SCENE_EDITOR_REDO",e.canRedo,{handler:e.redo}),Object(p.a)("DELETE_INSTANCES",e.canDeleteSelection,{handler:e.deleteSelection}),Object(p.a)("TOGGLE_WINDOW_MASK",!0,{handler:e.toggleWindowMask}),Object(p.a)("TOGGLE_GRID",!0,{handler:e.toggleGrid}),Object(p.a)("OPEN_SETUP_GRID",!0,{handler:e.setupGrid}),null},h=(n(418),function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(f,{openObjectsList:this.props.openObjectsList,openObjectGroupsList:this.props.openObjectGroupsList,openPropertiesPanel:this.props.openProperties,toggleInstancesList:this.props.toggleInstancesList,toggleLayersList:this.props.toggleLayersList,undo:this.props.undo,canUndo:this.props.canUndo,redo:this.props.redo,canRedo:this.props.canRedo,deleteSelection:this.props.deleteSelection,toggleWindowMask:this.props.toggleWindowMask,toggleGrid:this.props.toggleGrid,setupGrid:this.props.openSetupGrid,canDeleteSelection:0!==this.props.instancesSelection.getSelectedInstances().length}),c.a.createElement(l.b,{lastChild:!0},c.a.createElement(d.a,{onClick:this.props.openObjectsList,src:"res/ribbon_default/objects64.png",tooltip:{id:"Open the objects editor"}}),c.a.createElement(d.a,{onClick:this.props.openObjectGroupsList,src:"res/ribbon_default/objectsgroups64.png",tooltip:{id:"Open the objects groups editor"}}),c.a.createElement(d.a,{onClick:this.props.openProperties,src:"res/ribbon_default/editprop32.png",tooltip:{id:"Open the properties panel"}}),c.a.createElement(d.a,{onClick:this.props.toggleInstancesList,src:"res/ribbon_default/ObjectsPositionsList32.png",tooltip:{id:"Open the list of instances"}}),c.a.createElement(d.a,{onClick:this.props.toggleLayersList,src:"res/ribbon_default/layers32.png",tooltip:{id:"Open the layers editor"}}),c.a.createElement(u.a,null),c.a.createElement(d.a,{onClick:this.props.undo,src:"res/ribbon_default/undo32.png",disabled:!this.props.canUndo,tooltip:{id:"Undo the last changes"}}),c.a.createElement(d.a,{onClick:this.props.redo,src:"res/ribbon_default/redo32.png",disabled:!this.props.canRedo,tooltip:{id:"Redo the last changes"}}),c.a.createElement(u.a,null),c.a.createElement(d.a,{onClick:this.props.deleteSelection,src:"res/ribbon_default/deleteselected32.png",disabled:!this.props.instancesSelection.getSelectedInstances().length,tooltip:{id:"Delete the selected instances from the scene"}}),c.a.createElement(u.a,null),c.a.createElement(m.a,{element:c.a.createElement(d.a,{src:"res/ribbon_default/grid32.png",tooltip:{id:"Toggle/edit grid"}}),buildMenuTemplate:function(t){return[{type:"checkbox",label:t._({id:"Show Mask"}),checked:e.props.isWindowMaskShown(),click:function(){return e.props.toggleWindowMask()}},{type:"checkbox",label:t._({id:"Show grid"}),checked:e.props.isGridShown(),click:function(){return e.props.toggleGrid()}},{type:"separator"},{label:t._({id:"Setup grid"}),click:function(){return e.props.openSetupGrid()}}]}}),c.a.createElement(m.a,{element:c.a.createElement(d.a,{src:"res/ribbon_default/zoom32.png",tooltip:{id:"Change editor zoom"}}),buildMenuTemplate:function(t){return[{label:t._({id:"Zoom in"}),click:e.props.zoomIn,accelerator:"CmdOrCtrl+numadd"},{label:t._({id:"Zoom out"}),click:e.props.zoomOut,accelerator:"CmdOrCtrl+numsub"},{label:t._({id:"Center View"}),click:function(){return e.props.centerView()}},{type:"separator"},{label:"5%",click:function(){return e.props.setZoomFactor(.05)}},{label:"10%",click:function(){return e.props.setZoomFactor(.1)}},{label:"25%",click:function(){return e.props.setZoomFactor(.25)}},{label:"50%",click:function(){return e.props.setZoomFactor(.5)}},{label:"100%",click:function(){return e.props.setZoomFactor(1)}},{label:"150%",click:function(){return e.props.setZoomFactor(1.5)}},{label:"200%",click:function(){return e.props.setZoomFactor(2)}},{label:"400%",click:function(){return e.props.setZoomFactor(4)}}]}})))}}]),n}(s.PureComponent));t.a=h},2285:function(e,t,n){"use strict";var a=n(77),r=n(2),o=n.n(r),i=n(149),s=n.n(i),c=n(103),l=n(617),u=o.a.memo((function(e){return o.a.createElement(l.a,e,o.a.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}))})),d=n(643),m=n(199),p=n.n(m),f=n(79),h=n(89);t.a=function(e){var t=e.onAdd,n=e.onCopy,r=e.hasSelection,i=e.onPaste,l=e.hasClipboard,m=e.onDeleteSelection;return o.a.createElement(f.b,{justifyContent:"space-between",alignItems:"center"},o.a.createElement(f.a,null,o.a.createElement(f.b,{noMargin:!0},o.a.createElement(c.a,{size:"small",onClick:n,disabled:!r},o.a.createElement(u,null)),o.a.createElement(c.a,{size:"small",onClick:i,disabled:!l},o.a.createElement(d.a,null)),o.a.createElement(c.a,{size:"small",onClick:m,disabled:!r},o.a.createElement(p.a,null)))),o.a.createElement(f.a,null,o.a.createElement(h.a,{primary:!0,label:o.a.createElement(a.Trans,{id:"Add"}),onClick:t,icon:o.a.createElement(s.a,null)})))}},2287:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(147),l=n.n(c),u=n(132),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return s.createElement("p",{className:l()({[u.m]:!0,[u.n]:this.props.selected})},"Unknown event of type "+this.props.event.getType())}}]),n}(s.Component),m=n(1552),p=n(1608),f=n(1609),h=n(1610),g=n(1611),b=n(1612),v=n(1613),E=n(1615);t.a={components:{unknownEvent:d,"BuiltinCommonInstructions::Standard":m.a,"BuiltinCommonInstructions::Group":p.a,"BuiltinCommonInstructions::Comment":f.a,"BuiltinCommonInstructions::ForEach":h.a,"BuiltinCommonInstructions::Repeat":g.a,"BuiltinCommonInstructions::While":b.a,"BuiltinCommonInstructions::Link":v.a,"BuiltinCommonInstructions::JsCode":E.a},getEventComponent:function(e){return this.components.hasOwnProperty(e.getType())?this.components[e.getType()]:this.components.unknownEvent},registerEvent:function(e,t){this.components.hasOwnProperty(e)?this.components[e]=t:console.warn('Tried to register renderer for events "'+e+'", but a renderer already exists.')}}},2288:function(e,t,n){"use strict";var a=n(77),r=n(2),o=n(79),i=n(117),s=n(118),c=n(92),l=n(89),u=n(103),d=n(97),m=n(146),p=n(305),f=n.n(p),h=n(109),g=n(188),b=n(130),v=n(149),E=n.n(v),y=n(232),j=n(177),O=n(198),C=n(226),x=n(176),T=n(113),S=n(169),k=n.n(S);n.d(t,"a",(function(){return N}));var w=function(e,t){return e.find((function(e){return e.type===t}))};function N(e){var t=e.effectsContainer,n=e.onEffectsUpdated,p=r.useContext(T.b),v=p.values.showEffectParameterNames,S=p.setShowEffectParameterNames,N=r.useMemo((function(){return function(e){var t=e.getCurrentPlatform().getAllPlatformExtensions();return k()(Object(c.mapFor)(0,t.size(),(function(e){var n=t.at(e);return n.getExtensionEffectTypes().toJSArray().map((function(e){return n.getEffectMetadata(e)})).map((function(e){var t=e.getType(),a=e.getProperties(),r=a.keys().toJSArray().map((function(e){var n=a.get(e),r=n.getType().toLowerCase(),o=n.getLabel(),i=n.getDescription(),s=function(){return o},c=function(){return i},l=function(){return e};if("number"===r)return{name:e,valueType:"number",getValue:function(t){return t.getDoubleParameter(e)},setValue:function(t,n){return t.setDoubleParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:l};if("boolean"===r)return{name:e,valueType:"boolean",getValue:function(t){return t.getBooleanParameter(e)},setValue:function(t,n){return t.setBooleanParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:l};if("resource"===r){var u=n.getExtraInfo().toJSArray()[0]||"";return{name:e,valueType:"resource",resourceKind:u,getValue:function(t){return t.getStringParameter(e)},setValue:function(t,n){return t.setStringParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:l}}return"color"===r?{name:e,valueType:"color",getValue:function(t){return t.getStringParameter(e)},setValue:function(t,n){return t.setStringParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:l}:(console.error("A property with type=".concat(r," could not be mapped to a field for effect ").concat(t,". Ensure that this type is correct.")),null)})).filter(Boolean);return{extension:n,type:t,effectMetadata:e,fullName:e.getFullName(),description:e.getDescription(),parametersSchema:r}}))})))}(e.project)}),[e.project]),_=Object(x.a)(),P=function(){var e=Object(b.a)("Effect",(function(e){return t.hasEffectNamed(e)}));t.insertNewEffect(e,t.getEffectsCount()),_(),n()},I=function(e,t){e.setEffectType(t);var a=w(N,t);a&&function(e,t){e.clearParameters();var n=t.getProperties();n.keys().toJSArray().forEach((function(t){var a=n.get(t),r=a.getType().toLowerCase();"number"===r?e.setDoubleParameter(t,parseFloat(a.getValue())||0):"boolean"===r?e.setBooleanParameter(t,"true"===a.getValue()):e.setStringParameter(t,a.getValue())}))}(e,a.effectMetadata),_(),n()};return r.createElement(a.I18n,null,(function(p){var b=p.i18n;return r.createElement(o.a,{noMargin:!0,expand:!0},r.createElement(o.b,null,r.createElement(o.a,null,r.createElement(j.a,{identifier:"effects-usage",kind:"info"},r.createElement(a.Trans,{id:"Effects can change how the layer is rendered on screen. After adding an effect, set up its parameters. Launch a preview to see the result. Using the events and the name of the effect, you can change the parameters during the game."})))),t.getEffectsCount()>3&&r.createElement(o.b,null,r.createElement(o.a,null,r.createElement(j.a,{identifier:"too-much-effects",kind:"warning"},r.createElement(a.Trans,{id:"Using a lot of effects can have a severe negative impact on the rendering performance, especially on low-end or mobile devices. Consider using less effects if possible. You can also disable and re-enable effects as needed using events."})))),Object(c.mapFor)(0,t.getEffectsCount(),(function(c){var l=t.getEffectAt(c),d=l.getEffectType(),p=w(N,d);return r.createElement(r.Fragment,{key:c},r.createElement(g.b,null,r.createElement(g.a,null,r.createElement(a.Trans,{id:"Effect name:"})),r.createElement(h.a,{margin:"none",commitOnBlur:!0,hintText:{id:"Enter the effect name"},value:l.getName(),onChange:function(e){e!==l.getName()&&(l.setName(e),_(),n())},fullWidth:!0}),r.createElement(g.a,null,r.createElement(a.Trans,{id:"Type:"})),r.createElement(i.a,{margin:"none",value:d,onChange:function(e,t,n){return I(l,n)},fullWidth:!0,hintText:{id:"Choose the effect to apply"}},N.map((function(e){return r.createElement(s.a,{key:e.type,value:e.type,primaryText:e.fullName})}))),r.createElement(m.a,{element:r.createElement(u.a,null,r.createElement(f.a,null)),buildMenuTemplate:function(e){return[{label:e._({id:"Delete"}),click:function(){return e=l.getName(),t.removeEffect(e),_(),void n();var e}},{type:"separator"},{type:"checkbox",label:e._({id:"Show Parameter Names"}),checked:v,click:function(){return S(!v)}}]}})),r.createElement(o.b,{expand:!0,noMargin:!0},r.createElement(o.a,{expand:!0},d&&p?r.createElement(r.Fragment,null,r.createElement(o.b,null,r.createElement(O.a,null,r.createElement(C.a,{source:p.description}))),r.createElement(y.a,{instances:[l],schema:p.parametersSchema,project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,renderExtraDescriptionText:v?function(e){return b._({id:"Parameter name in events: `{parameterName}`",values:{parameterName:e}})}:void 0})):null)))})),0===t.getEffectsCount()?r.createElement(d.a,null,r.createElement(a.Trans,{id:"No effects applied."})):null,r.createElement(o.a,null,r.createElement(o.b,{justifyContent:"flex-end",alignItems:"center",expand:!0},r.createElement(l.a,{primary:!0,label:r.createElement(a.Trans,{id:"Add an effect"}),onClick:P,icon:r.createElement(E.a,null)}))))}))}},229:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=function(e,t,n){if(e.startsWith("data:"))return e;var a=-1===e.indexOf("?")?"?":"&";return e+a+t+"="+n},o=function(e){return a.createElement("img",Object.assign({},e,{src:e.src?r(e.src,"gdUsage","img"):void 0}))}},2291:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(171),u=n(4),d=n.n(u),m=d()("fs"),p=d()("path"),f=function(e){var t=function(t){return m.readdir(t,(function(n,a){n?console.error("Unable to read GDJS files for setting up autocompletions:",n):a.forEach((function(n){if(n.endsWith(".js")||n.endsWith(".ts")){var a=p.join(t,n);m.readFile(a,"utf8",(function(t,n){t?console.error("Unable to read ".concat(a," for setting up autocompletions:"),t):e.languages.typescript.javascriptDefaults.addExtraLib(n,a)}))}}))}))};Object(l.findGDJS)().then((function(n){var a=n.gdjsRoot,r=p.join(a,"Runtime"),o=p.join(a,"Runtime","types"),i=p.join(a,"Runtime","libs"),s=p.join(a,"Runtime","pixi-renderers"),c=p.join(a,"Runtime","cocos-renderers"),l=p.join(a,"Runtime","howler-sound-manager"),u=p.join(a,"Runtime","cocos-sound-manager"),d=p.join(a,"Runtime","fontfaceobserver-font-manager"),f=p.join(r,"Extensions"),h=p.join(r,"events-tools");t(r),t(o),t(i),t(s),t(c),t(l),t(u),t(d),t(h),m.readdir(f,(function(e,n){e?console.error("Unable to read Extensions folders for setting up autocompletions:",e):n.filter((function(e){return!e.endsWith(".txt")&&!e.endsWith(".md")&&!e.endsWith(".gitignore")})).forEach((function(e){return t(p.join(f,e))}))})),e.languages.typescript.javascriptDefaults.addExtraLib("\n/** Represents the scene being played. */\nvar runtimeScene = new gdjs.RuntimeScene();\n\n/**\n * The instances of objects that are passed to your JavaScript function.\n * @type {gdjs.RuntimeObject[]}\n */\nvar objects = [];\n\n/**\n * @type {EventsFunctionContext}\n */\nvar eventsFunctionContext = {};\n","this-mock-the-context-of-events.js")}))},h=n(128),g=n(89),b=n(85),v=n(113),E=n(907);n.d(t,"a",(function(){return C}));var y={scrollBeyondLastLine:!1,minimap:{enabled:!1}},j=!1,O=!1,C=function(e){Object(o.a)(l,e);var t=Object(i.a)(l);function l(){var e;Object(a.a)(this,l);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={MonacoEditor:null,error:null},e.setupEditorThemes=function(e){O||(O=!0,Object(E.a)().forEach((function(t){t.themeData&&e.editor.defineTheme(t.themeName,t.themeData)})))},e.setupEditorCompletions=function(t,n){j||(j=!0,n.languages.typescript.javascriptDefaults.setCompilerOptions({target:n.languages.typescript.ScriptTarget.ES6,allowNonTsExtensions:!0,allowJs:!0,checkJs:!0}),f(n)),e.props.onEditorMounted&&e.props.onEditorMounted()},e._handleContextMenu=function(e){e.preventDefault(),e.stopPropagation()},e}return Object(r.a)(l,[{key:"componentDidMount",value:function(){this.loadMonacoEditor()}},{key:"handleLoadError",value:function(e){this.setState({error:e})}},{key:"loadMonacoEditor",value:function(){var e=this;this.setState({error:null}),window.MonacoEnvironment={getWorkerUrl:function(e,t){return"external/monaco-editor-min/vs/base/worker/workerMain.js"}},n.e(58).then(n.t.bind(null,2405,7)).then((function(t){return e.setState({MonacoEditor:t.default})})).catch(this.handleLoadError)}},{key:"render",value:function(){var e=this,t=this.state,n=t.MonacoEditor;return t.error?c.createElement(c.Fragment,null,c.createElement(b.a,null,c.createElement(s.Trans,{id:"Unable to load the code editor"})),c.createElement(g.a,{label:c.createElement(s.Trans,{id:"Retry"}),onClick:this.loadMonacoEditor})):n?c.createElement("div",{onContextMenu:this._handleContextMenu},c.createElement(v.b.Consumer,null,(function(t){var a=t.values;return c.createElement(n,{width:e.props.width||600,height:e.props.height||200,language:"javascript",theme:a.codeEditorThemeName,value:e.props.value,onChange:e.props.onChange,editorWillMount:e.setupEditorThemes,editorDidMount:e.setupEditorCompletions,options:y})}))):c.createElement(h.a,null)}}]),l}(c.Component)},2292:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(87),d=n(92),m=n(97),p={container:{display:"flex",flexDirection:"column",flex:1}},f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,a=t.expressionMetadata,r=t.parameterValues,o=t.project,i=t.scope,l=t.globalObjectsContainer,u=t.objectsContainer,f=t.parameterRenderingService;if(!f)return console.error("Missing parameterRenderingService for ExpressionParametersEditor"),null;var h=a.getParametersCount(),g={getParametersCount:function(){return h},getParameter:function(e){return r[e]||""}};return c.createElement("div",{style:p.container},Object(d.mapFor)(0,a.getParametersCount(),(function(t){var n=a.getParameter(t),s=f.getParameterComponent(n.getType());return n.isCodeOnly()?null:c.createElement(s,{expressionMetadata:a,expression:g,parameterMetadata:n,parameterIndex:t,value:r[t],onChange:function(n){return e.props.onChangeParameter(t,n)},project:o,scope:i,globalObjectsContainer:l,objectsContainer:u,key:t,parameterRenderingService:f})})),0===n.getNonCodeOnlyParametersCount(a)&&c.createElement(m.a,null,c.createElement(s.Trans,{id:"There is nothing to configure."})))}}],[{key:"getNonCodeOnlyParametersCount",value:function(e){return Object(d.mapFor)(0,e.getParametersCount(),(function(t){return!e.getParameter(t).isCodeOnly()})).filter((function(e){return e})).length}}]),n}(c.Component),h=n(90),g=n(85),b=n(79);n.d(t,"a",(function(){return E}));var v={minHeightContainer:{minHeight:300,flex:1,flexDirection:"column"}},E=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={parameterValues:Array(e.props.expressionMetadata.getParametersCount()).fill("")},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.scope,r=t.globalObjectsContainer,o=t.objectsContainer,i=t.expressionMetadata,c=t.parameterRenderingService;return l.a.createElement(h.a,{title:l.a.createElement(s.Trans,{id:"Enter the expression parameters"}),cannotBeDismissed:!0,open:!0,actions:l.a.createElement(u.a,{key:"apply",label:l.a.createElement(s.Trans,{id:"Apply"}),primary:!0,onClick:function(){return e.props.onDone(e.state.parameterValues)}}),noMargin:!0,onRequestClose:this.props.onRequestClose},l.a.createElement(b.a,null,l.a.createElement("div",{style:v.minHeightContainer},l.a.createElement(g.a,null,i.getDescription()),l.a.createElement(f,{project:n,scope:a,globalObjectsContainer:r,objectsContainer:o,expressionMetadata:i,parameterValues:this.state.parameterValues,onChangeParameter:function(t,n){e.setState({parameterValues:e.state.parameterValues.map((function(e,a){return a===t?n:e}))})},parameterRenderingService:c}))))}}]),n}(c.Component)},230:function(e,t,n){"use strict";var a=n(77),r=n(2),o=n(87),i=n(90),s=n(308),c=n(637),l=n(176),u=n(471);t.a=function(e){var t=e.onCancel,n=e.onApply,d=e.open,m=e.onEditObjectVariables,p=e.title,f=e.emptyExplanationMessage,h=e.emptyExplanationSecondMessage,g=e.variablesContainer,b=e.hotReloadPreviewButtonProps,v=Object(l.a)(),E=Object(s.a)({serializableObject:g,onCancel:t});return r.createElement(i.a,{noMargin:!0,actions:[r.createElement(o.a,{label:r.createElement(a.Trans,{id:"Cancel"}),onClick:E,key:"Cancel"}),r.createElement(o.a,{label:r.createElement(a.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:n,key:"Apply"})],open:d,cannotBeDismissed:!0,onRequestClose:E,secondaryActions:[m?r.createElement(o.a,{key:"edit-object-variables",label:r.createElement(a.Trans,{id:"Edit Object Variables"}),primary:!1,onClick:m}):null,b?r.createElement(u.a,Object.assign({key:"hot-reload-preview-button"},b)):null],title:p},r.createElement(c.a,{commitVariableValueOnBlur:!0,variablesContainer:g,emptyExplanationMessage:f,emptyExplanationSecondMessage:h,onSizeUpdated:v}))}},231:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(6),r=n(12),o=n(4),i=n.n(o)()("electron"),s=i?i.clipboard:null,c="",l=function(e){return"GDEVELOP_"+e+"_CLIPBOARD_KIND-jsBdHbLy912y8Rc"},u=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"set",value:function(e,t){var n=JSON.stringify({"000kind":l(e),content:t});s?s.writeText(n):c=n}},{key:"has",value:function(e){return 12===(s?s.readText():c).indexOf(l(e))}},{key:"get",value:function(t){if(!e.has(t))return null;var n="";n=s?s.readText():c;try{return JSON.parse(n).content}catch(a){return console.warn("The clipboard content is not valid JSON"),null}}}]),e}()},232:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(109),u=n(257),d=n(247),m=n(114),p=n(160),f=n(87),h=n(117),g=n(118),b=n(495),v=n.n(b),E=n(258),y=n(226),j=n(262),O=n(2369),C=n(96),x=n(89),T=n(352),S={columnContainer:{display:"flex",flexDirection:"column"},fieldContainer:{flex:1,display:"flex",flexDirection:"row",alignItems:"baseline"},field:{flex:1,width:"auto"},subPropertiesEditorContainer:{marginLeft:15},subHeader:{paddingLeft:0}},k=function(e,t,n){if(!e[0])return console.log("getFieldValue was called with an empty list of instances (or containing undefined). This is a bug that should be fixed"),n;for(var a=t.getValue(e[0]),r=1;r<e.length;++r)if(a!==t.getValue(e[r])){"undefined"!==typeof n&&(a=n);break}return a},w=function(e,t){return e[0]?t.getLabel?t.getLabel(e[0]):t.name:(console.log("PropertiesEditor._getFieldLabel was called with an empty list of instances (or containing undefined). This is a bug that should be fixed"),t.name)},N=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._onInstancesModified=function(t){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.props.onInstancesModified?e.props.onInstancesModified(t):e.forceUpdate()},e._getFieldDescription=function(t,n){var a=e.props.renderExtraDescriptionText;if(t[0]){var r=[];return n.getDescription&&r.push(n.getDescription(t[0])),a&&n.getExtraDescription&&r.push(a(n.getExtraDescription(t[0]))),r.join("\n")||void 0}console.log("PropertiesEditor._getFieldDescription was called with an empty list of instances (or containing undefined). This is a bug that should be fixed")},e._renderInputField=function(t){if("PLEASE_ALSO_SHOW_EDIT_BUTTON_THANKS"===t.name)return null;if("boolean"===t.valueType){var n=t.setValue,a=e._getFieldDescription(e.props.instances,t);return c.createElement(u.a,{label:a?c.createElement(c.Fragment,null,w(e.props.instances,t)," ",c.createElement(O.a,{style:{display:"inline"}},c.createElement(y.a,{source:a}))):w(e.props.instances,t),key:t.name,checked:k(e.props.instances,t),onCheck:function(t,a){e.props.instances.forEach((function(e){return n(e,!!a)})),e._onInstancesModified(e.props.instances)},disabled:t.disabled})}if("number"===t.valueType){var r=t.setValue;return c.createElement(l.a,{value:k(e.props.instances,t),key:t.name,id:t.name,floatingLabelText:w(e.props.instances,t),floatingLabelFixed:!0,helperMarkdownText:e._getFieldDescription(e.props.instances,t),onChange:function(t){e.props.instances.forEach((function(e){return r(e,parseFloat(t)||0)})),e._onInstancesModified(e.props.instances)},type:"number",style:S.field,disabled:t.disabled})}if("color"===t.valueType){var o=t.setValue;return c.createElement(E.a,{key:t.name,id:t.name,floatingLabelText:w(e.props.instances,t),helperMarkdownText:e._getFieldDescription(e.props.instances,t),disableAlpha:!0,fullWidth:!0,color:Object(j.a)(k(e.props.instances,t)),onChangeComplete:function(t){e.props.instances.forEach((function(e){return o(e,t.hex||"#000000")})),e._onInstancesModified(e.props.instances)}})}if("textarea"===t.valueType){var i=t.setValue;return c.createElement(l.a,{key:t.name,id:t.name,onChange:function(t){e.props.instances.forEach((function(e){return i(e,t||"")})),e._onInstancesModified(e.props.instances)},value:k(e.props.instances,t),floatingLabelText:w(e.props.instances,t),floatingLabelFixed:!0,helperMarkdownText:e._getFieldDescription(e.props.instances,t),multiline:!0,style:S.field})}var d=t.onEditButtonClick,m=t.setValue;return c.createElement(C.c,{key:t.name,renderTextField:function(){return c.createElement(l.a,{value:k(e.props.instances,t,"(Multiple values)"),id:t.name,floatingLabelText:w(e.props.instances,t),floatingLabelFixed:!0,helperMarkdownText:e._getFieldDescription(e.props.instances,t),onChange:function(t){e.props.instances.forEach((function(e){return m(e,t||"")})),e._onInstancesModified(e.props.instances)},style:S.field,disabled:t.disabled})},renderButton:function(t){return d?c.createElement(x.a,{style:t,primary:!0,disabled:1!==e.props.instances.length,icon:c.createElement(v.a,null),label:c.createElement(s.Trans,{id:"Edit"}),onClick:function(){return d(e.props.instances[0])}}):null}})},e._renderSelectField=function(t){if(t.getChoices&&t.getValue){var n=t.getChoices().map((function(e){var t=e.value,n=e.label;return c.createElement(g.a,{key:t,value:t,primaryText:n})}));if("number"===t.valueType){var a=t.setValue;return c.createElement(h.a,{value:k(e.props.instances,t),key:t.name,floatingLabelText:w(e.props.instances,t),helperMarkdownText:e._getFieldDescription(e.props.instances,t),onChange:function(t,n,r){e.props.instances.forEach((function(e){return a(e,parseFloat(r)||0)})),e._onInstancesModified(e.props.instances)},style:S.field,disabled:t.disabled},n)}if("string"===t.valueType){var r=t.setValue;return c.createElement(h.a,{value:k(e.props.instances,t,"(Multiple values)"),key:t.name,floatingLabelText:w(e.props.instances,t),helperMarkdownText:e._getFieldDescription(e.props.instances,t),onChange:function(t,n,a){e.props.instances.forEach((function(e){return r(e,a||"")})),e._onInstancesModified(e.props.instances)},style:S.field,disabled:t.disabled},n)}}},e._renderButton=function(t){return c.createElement(f.a,{key:t.name,fullWidth:!0,primary:!0,label:w(e.props.instances,t),onClick:function(){t.onClick&&t.onClick(e.props.instances[0])}})},e._renderResourceField=function(t){if(e.props.project){var n=t.setValue;return c.createElement(d.a,{key:t.name,project:e.props.project,resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors,resourcesLoader:m.a,resourceKind:t.resourceKind,fullWidth:!0,initialResourceName:k(e.props.instances,t,"(Multiple values)"),onChange:function(t){e.props.instances.forEach((function(e){return n(e,t)})),e._onInstancesModified(e.props.instances)},floatingLabelText:w(e.props.instances,t),helperMarkdownText:e._getFieldDescription(e.props.instances,t)})}console.error("You tried to display a resource field in a PropertiesEditor that does not support display resources. If you need to display resources, pass additional props (project, resourceSources, etc...)")},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return("row"===this.props.mode?function(e){return c.createElement(C.b,{noMargin:!0},e)}:function(e){return c.createElement(C.a,{noMargin:!0},e)})(this.props.schema.map((function(t){return t.children?"row"===t.type?c.createElement(T.b.Consumer,{key:t.name},(function(a){return c.createElement(n,{schema:t.children,instances:e.props.instances,mode:"row",unsavedChanges:a})})):c.createElement("div",{key:t.name},c.createElement(p.a,null,t.name),c.createElement("div",{style:S.subPropertiesEditorContainer},c.createElement(n,{schema:t.children,instances:e.props.instances,mode:"column"}))):"resource"===t.valueType?e._renderResourceField(t):t.getChoices&&t.getValue?e._renderSelectField(t):t.getValue?e._renderInputField(t):t.onClick?e._renderButton(t):null})))}}]),n}(c.Component)},236:function(e,t,n){"use strict";var a=n(77),r=n(2),o=n(79),i=n(89),s=n(97);t.a=function(e){var t=e.onRetry,n=e.children;return r.createElement(o.a,{expand:!0,alignItems:"center"},r.createElement(s.a,null,n),r.createElement(o.b,null,t&&r.createElement(i.a,{primary:!0,label:r.createElement(a.Trans,{id:"Retry"}),onClick:function(){return t()}})))}},246:function(e,t,n){"use strict";var a=n(83),r=n(2),o=function(){var e=document.body,t=document.activeElement,n=document.querySelector("div.main-frame"),a=n&&n.contains(t);return!(t===e)&&!a},i=n(28),s=["CmdOrCtrl+KeyZ","CmdOrCtrl+KeyY","CmdOrCtrl+Shift+KeyZ","CmdOrCtrl+KeyX","CmdOrCtrl+KeyC","CmdOrCtrl+KeyV","CmdOrCtrl+Shift+KeyV","CmdOrCtrl+KeyA","Delete","CmdOrCtrl+Shift+KeyI","F11","NumpadAdd","CmdOrCtrl+Equal","NumpadSubtract","CmdOrCtrl+Minus","CmdOrCtrl+KeyF"],c=n(113),l=n(302),u=function(){var e=document.activeElement;if(!e)return!1;return!!e.closest('textarea, input, [contenteditable="true"]')},d=n(463),m=n(4),p=n.n(m);n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return y}));var f=p()("electron"),h=function(e){return e?0===e.indexOf("Key")?"alphabet":0===e.indexOf("Digit")?"number":0===e.indexOf("F")?"fn-row":"NumpadAdd"===e||"NumpadSubtract"===e?"numpad-arith":"Equal"===e||"Minus"===e?"numrow-arith":"Tab"===e||"Space"===e?"other":null:null},g=function(e){var t=function(e){var t="";(e.ctrlKey||e.metaKey)&&(t+="CmdOrCtrl+"),e.shiftKey&&(t+="Shift+"),e.altKey&&(t+="Alt+");var n=e.code||"";return h(n)&&(t+=n),t}(e),n=function(e){var t=e.code||"",n=h(t);if(!n)return!1;var a=e.ctrlKey||e.metaKey,r=e.altKey;return!("other"===n&&!a&&!r)}(e),a=s.includes(t);return{shortcutString:t,isValid:n&&!a}},b=function(){var e=r.useContext(c.b).values.userShortcutMap;return Object(a.a)(Object(a.a)({},d.a),e)},v=function(e){var t=b();r.useEffect((function(){var n=function(n){var a=g(n);if(a.isValid){var r=Object.keys(t).find((function(e){return t[e]===a.shortcutString}));r&&(f&&l.b[r].handledByElectron||u()||(n.preventDefault(),o()||e(r)))}};return document.addEventListener("keydown",n),function(){return document.removeEventListener("keydown",n)}}),[e,t])},E=function(e){return e.split("+").map((function(e){return"CmdOrCtrl"===e?Object(i.e)()?"Cmd":"Ctrl":"Shift"===e||"Alt"===e?e:function(e){var t=h(e);return"alphabet"===t?e.slice(3):"number"===t?e.slice(5):"fn-row"===t?e:"numpad-arith"===t?"NumpadAdd"===e?"Num+":"Num-":"numrow-arith"===t?"Minus"===e?"-":"=":e}(e)})).join(" + ")},y=function(e){return e.split("+").map((function(e){return"CmdOrCtrl"===e?"CmdOrCtrl":"Shift"===e||"Alt"===e?e:function(e){var t=h(e);return"alphabet"===t?e.slice(3):"number"===t?e.slice(5):"fn-row"===t?e:"numpad-arith"===t?"NumpadAdd"===e?"numadd":"numsub":"numrow-arith"===t?"Minus"===e?"-":"=":e}(e)})).join("+")}},247:function(e,t,n){"use strict";var a=n(100),r=n(6),o=n(12),i=n(23),s=n(22),c=n(77),l=n(2),u=n(180),d=n(1133),m=n.n(d),p=n(149),f=n.n(p),h=n(651),g=n.n(h),b=(n(114),n(213)),v=n(137),E=n(89),y=n(146),j=function(){throw new Error("This RaisedButtonWithMenu onClick should never be called")},O=function(e){var t=e.buildMenuTemplate,n=Object(v.a)(e,["buildMenuTemplate"]);return l.createElement(y.a,{element:l.createElement(E.a,Object.assign({},n,{onClick:j})),buildMenuTemplate:t})},C=n(96),x=n(103);n.d(t,"a",(function(){return T}));var T=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var a;Object(r.a)(this,n),(a=t.call(this,e))._addFrom=function(e){if(e){var t=a.props,n=t.project;(0,t.onChooseResource)(e.name,!1).then((function(e){if(e.length){var t=e[0];Object(b.b)(n,t),n.getResourcesManager().addResource(t),a._loadFrom(n.getResourcesManager());var r=t.getName();a._onChangeResourceName(r),a._autoComplete&&a._autoComplete.forceInputValueTo(r),e.forEach((function(e){return e.delete()}))}})).catch((function(e){console.error("Unable to choose a resource",e)}))}},a._onResetResourceName=function(){a.setState({resourceName:"",notExistingError:!1},(function(){a.props.onChange&&a.props.onChange(a.state.resourceName)}))},a._onChangeResourceName=function(e){""!==e?a.setState({resourceName:e,notExistingError:-1===a.allResourcesNames.indexOf(e)},(function(){a.state.notExistingError||a.props.onChange&&a.props.onChange(e)})):a._onResetResourceName()},a._editWith=function(e){var t=a.props,n=t.project,r=t.resourcesLoader,o=t.resourceKind,i=a.state.resourceName,s=n.getResourcesManager(),c={},l=s.getResource(i).getMetadata();if(l)try{c=JSON.parse(l)}catch(f){console.error("Malformed metadata",f)}if("image"===o){var u=[];s.hasResource(i)&&u.push(i);var d={project:n,resourcesLoader:r,singleFrame:!0,resourceNames:u,extraOptions:{fps:0,name:i,isLooping:!1,externalEditorData:c},onChangesSaved:function(e){e.length&&(r.burstUrlsCacheForResources(n,[e[0].name]),a.props.onChange(e[0].name))}};e.edit(d)}else if("audio"===o){var m={project:n,resourcesLoader:r,resourceNames:[i],extraOptions:{externalEditorData:c},onChangesSaved:function(e){r.burstUrlsCacheForResources(n,[e[0].name]),a.props.onChange(e[0].name)}};e.edit(m)}else if("json"===o){var p={project:n,resourcesLoader:r,resourceNames:[i],extraOptions:{initialResourceMetadata:c},onChangesSaved:function(e){a.props.onChange(e[0].name)}};e.edit(p)}},a.state={notExistingError:!1,resourceName:e.initialResourceName||""};var o=e.project;return o&&a._loadFrom(o.getResourcesManager()),a}return Object(o.a)(n,[{key:"focus",value:function(){this._autoComplete&&this._autoComplete.focus()}},{key:"componentWillReceiveProps",value:function(e){e.initialResourceName!==this.props.initialResourceName&&this.setState({resourceName:e.initialResourceName||""})}},{key:"_getResourceSourceItems",value:function(){var e=this,t=this.props.resourceSources||[];return[].concat(Object(a.a)(t.filter((function(t){return t.kind===e.props.resourceKind})).map((function(t){return{text:"",value:t.displayName,renderIcon:function(){return l.createElement(f.a,null)},onClick:function(){return e._addFrom(t)}}}))),[{type:"separator"}])}},{key:"_loadFrom",value:function(e){var t=this;this.allResourcesNames=e.getAllResourceNames().toJSArray(),this.props.resourceKind&&(this.allResourcesNames=this.allResourcesNames.filter((function(n){return e.getResource(n).getKind()===t.props.resourceKind})));var n=this._getResourceSourceItems(),r=this.allResourcesNames.map((function(e){return{text:e,value:e}}));this.autoCompleteData=[].concat(Object(a.a)(n),Object(a.a)(r))}},{key:"render",value:function(){var e=this,t=this.state.notExistingError?"This resource does not exist in the game":null,n=this.props.resourceExternalEditors.filter((function(t){return t.kind===e.props.resourceKind}));return l.createElement(C.c,{noFloatingLabelText:!this.props.floatingLabelText,margin:this.props.margin,renderTextField:function(){return l.createElement(u.a,{style:e.props.style,floatingLabelText:e.props.floatingLabelText,helperMarkdownText:e.props.helperMarkdownText,hintText:e.props.hintText,openOnFocus:!0,dataSource:e.autoCompleteData||[],value:e.state.resourceName,onChange:e._onChangeResourceName,errorText:t,fullWidth:e.props.fullWidth,margin:e.props.margin,onRequestClose:e.props.onRequestClose,ref:function(t){return e._autoComplete=t}})},renderButton:function(t){return l.createElement(l.Fragment,null,e.props.canBeReset&&l.createElement(x.a,{size:"small",onClick:function(){e._onResetResourceName()}},l.createElement(m.a,null)),n.length?l.createElement(O,{style:t,icon:l.createElement(g.a,null),label:e.state.resourceName?l.createElement(c.Trans,{id:"Edit"}):l.createElement(c.Trans,{id:"Create"}),primary:!0,buildMenuTemplate:function(){return n.map((function(t){return{label:t.displayName,click:function(){return e._editWith(t)}}}))}}):null)}})}}]),n}(l.Component)},253:function(e,t,n){"use strict";var a=n(2),r=n(103),o=n(104),i=a.forwardRef((function(e,t){var n=e.src,i=e.tooltip,s=e.acceleratorString,c=e.disabled,l=e.onClick,u=e.onContextMenu;return a.createElement(o.a,null,(function(e){return a.createElement(r.a,{onClick:l,onContextMenu:u,size:"small",disabled:c,tooltip:i,acceleratorString:s,ref:t},a.createElement("img",{alt:i,src:n,width:32,height:32,style:{filter:c?"grayscale(100%)":e.gdevelopIconsCSSFilter}}))}))}));t.a=i},257:function(e,t,n){"use strict";var a=n(2),r=n(2371),o=n(2463);t.a=function(e){var t=e.onCheck,n=a.createElement(o.a,{disabled:e.disabled,checked:e.checked,onChange:t?function(e){return t(e,e.target.checked)}:void 0,icon:e.uncheckedIcon,checkedIcon:e.checkedIcon,color:"primary"});return e.label?a.createElement(r.a,{control:n,label:e.label}):n}},258:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n.n(c),u=n(99),d=n(313),m={container:{position:"relative",display:"inline-block"},picker:{position:"absolute",right:"8px",top:"19px"}},p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onClick=function(){e.textField&&e.textField.blur(),e.picker&&e.picker.open()},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{style:Object(a.a)(Object(a.a)({},m.container),{},{width:this.props.fullWidth?"100%":void 0})},l.a.createElement(u.b,{fullWidth:!0,floatingLabelText:this.props.floatingLabelText,floatingLabelFixed:!0,helperMarkdownText:this.props.helperMarkdownText,type:"text",hintText:{id:"Click to choose"},onClick:this.onClick,onFocus:this.onClick,value:"",ref:function(t){return e.textField=t}}),l.a.createElement("div",{style:m.picker},l.a.createElement(d.a,Object.assign({},this.props,{ref:function(t){return e.picker=t}}))))}}]),n}(c.Component)},262:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i}));var a=function(e){var t=e.r,n=e.g,a=e.b;return o(t,n,a)},r=function(e,t,n){return""+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},o=function(e,t,n){return(e<<16)+(t<<8)+n},i=function(e){var t=parseInt(e.replace("#",""),16);return{r:t>>16&255,g:t>>8&255,b:255&t,a:255}}},263:function(e,t,n){"use strict";var a=n(92);t.a=function(e,t,n){var r=e.keys();return Object(a.mapFor)(0,r.size(),(function(a){var o=r.at(a),i=e.get(o),s=i.getDescription(),c=i.getType().toLowerCase(),l=function(e){var n=t(e).get(o).getLabel();return n||o.charAt(0).toUpperCase()+o.slice(1).split(/(?=[A-Z])/).join(" ")},u=function(){return s};if(i.isHidden())return null;if("number"===c)return{name:o,valueType:c,getValue:function(e){return parseFloat(t(e).get(o).getValue())||0},setValue:function(e,t){n(e,o,""+t)},getLabel:l,getDescription:u};if("string"===c||""===c)return{name:o,valueType:"string",getValue:function(e){return t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t)},getLabel:l,getDescription:u};if("boolean"===c)return{name:o,valueType:c,getValue:function(e){return"true"===t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t?"1":"0")},getLabel:l,getDescription:u};if("choice"===c){var d=i.getExtraInfo().toJSArray().map((function(e){return{value:e,label:e}}));return{name:o,valueType:"string",getChoices:function(){return d},getValue:function(e){return t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t)},getLabel:l,getDescription:u}}if("resource"===c){var m=i.getExtraInfo().toJSArray()[0]||"";return{name:o,valueType:"resource",resourceKind:m,getValue:function(e){return t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t)},getLabel:l,getDescription:u}}return"color"===c?{name:o,valueType:"color",getValue:function(e){return t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t)},getLabel:l,getDescription:u}:"textarea"===c?{name:o,valueType:"textarea",getValue:function(e){return t(e).get(o).getValue()},setValue:function(e,t){n(e,o,t)},getLabel:l,getDescription:u}:(console.error("A property with type=".concat(c," could not be mapped to a field. Ensure that this type is correct and understood by the IDE.")),null)})).filter(Boolean)}},265:function(e,t,n){"use strict";var a=n(2),r=n(2380),o={progress:{marginRight:8,verticalAlign:"middle"}};t.a=function(e){var t=e.children,n=e.isLoading;return a.createElement("span",null,n&&a.createElement(r.a,{size:20,style:o.progress}),t)}},266:function(e,t,n){"use strict";var a=n(2),r={eventsFunctionsExtensionsError:null,loadProjectEventsFunctionsExtensions:function(){return Promise.reject(new Error("Use a provider"))},unloadProjectEventsFunctionsExtensions:function(){},reloadProjectEventsFunctionsExtensions:function(){return Promise.reject(new Error("Use a provider"))},unloadProjectEventsFunctionsExtension:function(){},getEventsFunctionsExtensionWriter:function(){return null},getEventsFunctionsExtensionOpener:function(){return null},ensureLoadFinished:function(){return Promise.reject(new Error("Use a provider"))},getIncludeFileHashs:function(){return{}}},o=a.createContext(r);t.a=o},269:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l}));var a=n(392),r=n(100),o=function(e,t){return e.filter((function(e){return e!==t}))},i=function(e){var t=e.noTagLabel,n=e.getAllTags,a=e.selectedTags,i=e.onChange,s=e.onEditTags,c=e.editTagsLabel,l=n(),u=s&&c?[{type:"separator"},{label:c,click:s}]:[];return l.length?l.map((function(e){return{type:"checkbox",label:e,checked:a.includes(e),click:function(){var t,n;a.includes(e)?i(o(a,e)):i((t=a,n=[e],Array.from(new Set([].concat(Object(r.a)(t),Object(r.a)(n))))))}}})).concat(u):[{label:t,enabled:!1}].concat(u)},s=function(e){return""===e.trim()?[]:e.split(",").map((function(e){return e.trim()}))},c=function(e){return e.join(", ")},l=function(e,t){var n,r=Object(a.a)(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(-1===e.indexOf(o))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}},270:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return E}));var a=n(100),r=e.gd,o={BuiltinObject:{"":["AjoutHasard","Create","AjoutObjConcern"]}},i={BuiltinObject:{"":["AjoutHasard","AjoutObjConcern","CollisionNP","NbObjet","PickNearest","Distance","SeDirige","EstTourne","SourisSurObjet"]}},s={},c={Physics2:{"Physics2::Physics2Behavior":["Physics2::Collision"]}},l={BuiltinObject:Object(a.a)(i.BuiltinObject[""]),Physics2:Object(a.a)(c.Physics2["Physics2::Physics2Behavior"])},u=function(e,t){var n=t;return n?e.filter((function(e){return-1===n.indexOf(e.type)})):e},d=function(e,t,n,a,r){var o=t.getName(),i=e?c[o]:s[o];if(!i)return[];var l=i[n];if(!l)return[];var u=e?t.getAllConditions():t.getAllActions();return l.map((function(e){return p(a,e,u.get(e),r)}))},m=function(e,t,n,a,r){var s=t.getName(),c=e?i[s]:o[s];if(!c)return[];var l=c[n];if(!l)return[];var u=e?t.getAllConditions():t.getAllActions();return l.map((function(e){return p(a,e,u.get(e),r)}))},p=function(e,t,n,a){var r=n.getFullName(),o=n.getGroup(),i=n.getIconFilename();return{type:t,metadata:n,iconFilename:i,displayedName:r,fullGroupName:e+o,scope:a,isPrivate:n.isPrivate()}},f=function(e,t,n){for(var a=t.keys(),r=[],o=0;o<a.size();++o){var i=a.at(o),s=t.get(i);s.isHidden()||r.push(p(e,i,s,n))}return r},h=function(e){for(var t=[],n=r.asPlatform(r.JsPlatform.get()).getAllPlatformExtensions(),o=0;o<n.size();++o){var i=n.at(o),s=i.getName(),c=i.getExtensionObjectsTypes(),p=i.getBehaviorsTypes(),h="";(c.size()>0||p.size()>0)&&(h="BuiltinObject"===s?"Common "+(e?"conditions":"actions")+" for all objects":i.getFullName(),h+="/");var g=f(h,e?i.getAllConditions():i.getAllActions(),{objectMetadata:void 0,behaviorMetadata:void 0});t=[].concat(Object(a.a)(t),Object(a.a)(u(g,l[s])));for(var b=0;b<c.size();++b){var v=c.at(b),E={objectMetadata:i.getObjectMetadata(v)};t=[].concat(Object(a.a)(t),Object(a.a)(f(h,e?i.getAllConditionsForObject(v):i.getAllActionsForObject(v),E)),Object(a.a)(m(e,i,v,h,E)))}for(var y=0;y<p.size();++y){var j=p.at(y),O={behaviorMetadata:i.getBehaviorMetadata(j)};t=[].concat(Object(a.a)(t),Object(a.a)(f(h,e?i.getAllConditionsForBehavior(j):i.getAllActionsForBehavior(j),O)),Object(a.a)(d(e,i,j,h,O)))}}return t},g=function(e,t,n,o){for(var i=[],s=r.getTypeOfObject(t,n,o,!0),c=r.getBehaviorsOfObject(t,n,o,!0).toJSArray(),l=new Set(c.map((function(e){return r.getTypeOfBehavior(t,n,e,!1)}))),u=r.asPlatform(r.JsPlatform.get()).getAllPlatformExtensions(),p=function(t){var n=u.at(t),r=-1!==n.getExtensionObjectsTypes().toJSArray().indexOf(s),o=-1!==n.getExtensionObjectsTypes().toJSArray().indexOf(""),c=n.getBehaviorsTypes().toJSArray().filter((function(e){return l.has(e)}));if(!r&&!o&&0===c.length)return"continue";if(""!==s&&r){var p={objectMetadata:n.getObjectMetadata(s)};i=[].concat(Object(a.a)(i),Object(a.a)(f("",e?n.getAllConditionsForObject(s):n.getAllActionsForObject(s),p)),Object(a.a)(m(e,n,"","",p)))}if(o){var h={objectMetadata:n.getObjectMetadata("")};i=[].concat(Object(a.a)(i),Object(a.a)(f("",e?n.getAllConditionsForObject(""):n.getAllActionsForObject(""),h)),Object(a.a)(m(e,n,"","",h)))}c.forEach((function(t){var r={behaviorMetadata:n.getBehaviorMetadata(t)};i=[].concat(Object(a.a)(f("",e?n.getAllConditionsForBehavior(t):n.getAllActionsForBehavior(t),r)),Object(a.a)(d(e,n,t,"",r)),Object(a.a)(i))}))},h=0;h<u.size();++h)p(h);return function(e){var t=e.filter((function(e){return 0===e.fullGroupName.length})),n=e.filter((function(e){return 0!==e.fullGroupName.length}));return[].concat(Object(a.a)(t),Object(a.a)(n))}(i)},b=function(e){for(var t=[],n=r.asPlatform(r.JsPlatform.get()).getAllPlatformExtensions(),o=0;o<n.size();++o){var i=n.at(o),s=i.getName(),c=i.getExtensionObjectsTypes(),d=i.getBehaviorsTypes(),m="";(c.size()>0||d.size()>0)&&(m="BuiltinObject"===s?"":i.getFullName(),m+="/");var p=f(m,e?i.getAllConditions():i.getAllActions(),{objectMetadata:void 0,behaviorMetadata:void 0});t=[].concat(Object(a.a)(t),Object(a.a)(u(p,l[s])))}return t},v=function(e,t){var n=t.searchText;if(""===!n)return e;var a=n.toLowerCase();return function(e){if(!n)return e;for(var t=0;t<e.length;++t)if(e[t].displayedName.toLowerCase()===a){var r=e[t];e.splice(t,1),e.unshift(r)}return e}(e.filter((function(e){var t=e.displayedName,n=e.fullGroupName;return-1!==t.toLowerCase().indexOf(a)||-1!==n.toLowerCase().indexOf(a)})))},E=function(e){var t=e.getParametersCount();if(t>=1){var n=e.getParameter(0).getType();if("object"===n)return 0;if(r.ParameterMetadata.isObject(n))return 0;if(("objectsContext"===n||"currentScene"===n)&&t>=2){var a=e.getParameter(1).getType();if(r.ParameterMetadata.isObject(a))return 1}}return-1}}).call(this,n(1))},271:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return c}));var a=function(e){return"object-group-key-".concat(e.group.getName(),"-").concat(e.global?"-global":"")},r=function(e){return"object-key-".concat(e.object.getName(),"-").concat(e.global?"-global":"")},o=function(e){return"object-or-object-group-value-".concat(e)},i=function(e){return"instruction-key-".concat(e.fullGroupName,"-").concat(e.type)},s=function(e){return"instruction-value-".concat(e)},c=function(e){return"subheader-key-".concat(e)}},273:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return v}));var a=n(92),r=n(1625),o=n(400),i=e.gd,s=function(e){return Object(r.a)(e,"_",[])},c=function(e,t){return t+"__"+s(e.getName())},l=function(e,t,n){return Promise.all(Object(a.mapFor)(0,e.getEventsFunctionsExtensionsCount(),(function(a){return u(e,e.getEventsFunctionsExtensionAt(a),{skipCodeGeneration:!0,eventsFunctionCodeWriter:t,i18n:n})}))).then((function(){return Promise.all(Object(a.mapFor)(0,e.getEventsFunctionsExtensionsCount(),(function(a){return u(e,e.getEventsFunctionsExtensionAt(a),{skipCodeGeneration:!1,eventsFunctionCodeWriter:t,i18n:n})})))}))},u=function(e,t,n){return d(e,t,n).then((function(e){i.JsPlatform.get().addNewExtension(e),e.delete()}))},d=function(e,t,n){var r=new i.PlatformExtension;Object(o.e)(r,t);var l="gdjs.evtsExt__"+s(t.getName()),u={codeNamespacePrefix:l,extensionIncludeFiles:function(e,t,n,r){return Object(a.mapFor)(0,t.getEventsFunctionsCount(),(function(e){var a=t.getEventsFunctionAt(e);if(Object(o.h)(a.getName())){var i=c(a,r)+".func";return n.eventsFunctionCodeWriter.getIncludeFileFor(i)}return null})).filter(Boolean)}(0,t,n,l)};return Promise.all(Object(a.mapVector)(t.getEventsBasedBehaviors(),(function(c){return function(e,t,n,r,c,l){var u=Object(o.b)(t,r),d=r.getEventsFunctions(),m=function(e,t){return t+"__"+s(e.getName())}(r,l.codeNamespacePrefix),p=c.eventsFunctionCodeWriter.getIncludeFileFor(m);return u.setIncludeFile(p),l.extensionIncludeFiles.forEach((function(e){u.addIncludeFile(e)})),Promise.resolve().then((function(){var l=new i.MapStringString;if(Object(o.c)(c.i18n,t,u,r),Object(a.mapFor)(0,d.getEventsFunctionsCount(),(function(e){var n=d.getEventsFunctionAt(e),a=s(n.getName());l.set(n.getName(),a);var i=Object(o.a)(t,u,r,n);Object(o.d)(n,i),Object(o.g)(n.getName())&&i.setHidden(),i.getCodeExtraInformation().setIncludeFile(p).setFunctionName(a)})),c.skipCodeGeneration)return l.delete(),Promise.resolve();var f=new i.SetString,h=new i.BehaviorCodeGenerator(e),g=h.generateRuntimeBehaviorCompleteCode(n.getName(),r,m,l,f,!0);return h.delete(),l.delete(),f.toNewVectorString().toJSArray().forEach((function(e){u.addIncludeFile(e)})),f.delete(),c.eventsFunctionCodeWriter.writeBehaviorCode(m,g)}))}(e,r,t,c,n,u)}))).then((function(){return Promise.all(Object(a.mapFor)(0,t.getEventsFunctionsCount(),(function(a){var o=t.getEventsFunctionAt(a);return m(e,r,t,o,n,u)})))})).then((function(){return r}))},m=function(e,t,n,a,r,s){var l=Object(o.f)(t,n,a);l.addCodeOnlyParameter("currentScene",""),Object(o.d)(a,l),Object(o.h)(a.getName())&&l.setHidden();var u=c(a,s.codeNamespacePrefix),d=u+".func",m=l.getCodeExtraInformation();if(m.setIncludeFile(r.eventsFunctionCodeWriter.getIncludeFileFor(d)).setFunctionName(d),s.extensionIncludeFiles.forEach((function(e){m.addIncludeFile(e)})),r.skipCodeGeneration)return Promise.resolve();var p=new i.SetString,f=new i.EventsFunctionsExtensionCodeGenerator(e).generateFreeEventsFunctionCompleteCode(a,u,p,!0);return p.toNewVectorString().toJSArray().forEach((function(e){m.addIncludeFile(e)})),p.delete(),r.eventsFunctionCodeWriter.writeFunctionCode(d,f)};var p=function(e){return Promise.all(Object(a.mapFor)(0,e.getEventsFunctionsExtensionsCount(),(function(t){i.JsPlatform.get().removeExtension(e.getEventsFunctionsExtensionAt(t).getName())})))},f=function(e,t){i.JsPlatform.get().removeExtension(t)},h=function(e){var t=e.getParametersCount();return!(t<=0)&&"eventsFunctionContext"===e.getParameter(t-1).getType()},g=function(e){var t=e.split("::");return t.length?{name:t[t.length-1],behaviorName:t.length>2?t[1]:void 0,extensionName:t[0]}:{name:"",behaviorName:"",extensionName:""}},b=function(e,t){return e+"::"+t.getName()},v=function(e){return e?0:1}}).call(this,n(1))},275:function(e,t,n){"use strict";var a=n(2),r=n(2362);t.a=function(e){return a.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement(r.a,{elevation:3,style:{padding:10,margin:5}},e.children))}},292:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(2),r=n(104),o=a.memo((function(e){var t=e.children;return a.createElement(r.a,null,(function(e){return a.createElement("div",{style:{backgroundColor:e.toolbar.backgroundColor,padding:3,flexShrink:0,display:"flex",justifyContent:"space-between",overflowX:"auto",overflowY:"hidden"}},t)}))})),i={display:"flex",alignItems:"center"},s=a.memo((function(e){var t=e.children;return a.createElement("span",{style:i},t)}))},299:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(104);t.a=function(e){return r.a.createElement(o.a,null,(function(e){return r.a.createElement("span",{style:{height:32,marginLeft:3,marginRight:3,borderLeftStyle:"solid",borderLeftWidth:1,borderColor:e.toolbar.separatorColor}})}))}},301:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(2371),l=n(2372),u=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return s.createElement(c.a,{control:s.createElement(l.a,{checked:this.props.toggled,onChange:function(t){return e.props.onToggle(t,t.target.checked)},color:"primary"}),label:this.props.label,disabled:this.props.disabled,style:this.props.style})}}]),n}(s.Component)},302:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={GENERAL:{id:"General"},IDE:{id:"IDE"},PROJECT:{id:"Project"},SCENE:{id:"Scene"},EVENTS:{id:"Events"}};t.b={QUIT_APP:{area:"GENERAL",displayText:{id:"Close GDevelop"},handledByElectron:!0},OPEN_PROJECT_MANAGER:{area:"IDE",displayText:{id:"Open project manager"},handledByElectron:!0},OPEN_PROFILE:{area:"IDE",displayText:{id:"Open My Profile"}},OPEN_GAMES_DASHBOARD:{area:"IDE",displayText:{id:"Open My Games Dashboard"}},LAUNCH_NEW_PREVIEW:{area:"PROJECT",displayText:{id:"Launch new preview"}},LAUNCH_DEBUG_PREVIEW:{area:"PROJECT",displayText:{id:"Launch preview with debugger and profiler"}},LAUNCH_NETWORK_PREVIEW:{area:"PROJECT",displayText:{id:"Launch network preview over WiFi/LAN"}},HOT_RELOAD_PREVIEW:{area:"PROJECT",displayText:{id:"Apply changes to the running preview"}},OPEN_START_PAGE:{area:"IDE",displayText:{id:"Open start page"}},CREATE_NEW_PROJECT:{area:"GENERAL",displayText:{id:"Create a new project"},handledByElectron:!0},OPEN_PROJECT:{area:"GENERAL",displayText:{id:"Open project"},handledByElectron:!0},SAVE_PROJECT:{area:"GENERAL",displayText:{id:"Save project"},handledByElectron:!0},SAVE_PROJECT_AS:{area:"GENERAL",displayText:{id:"Save project as..."},handledByElectron:!0},CLOSE_PROJECT:{area:"GENERAL",displayText:{id:"Close project"},handledByElectron:!0},EXPORT_GAME:{area:"PROJECT",displayText:{id:"Export game"},handledByElectron:!0},OPEN_RECENT_PROJECT:{area:"GENERAL",displayText:{id:"Open recent project..."}},OPEN_COMMAND_PALETTE:{area:"IDE",displayText:{id:"Open command palette"},ghost:!0},OPEN_PROJECT_PROPERTIES:{area:"PROJECT",displayText:{id:"Open project properties"}},OPEN_PROJECT_VARIABLES:{area:"PROJECT",displayText:{id:"Edit global variables"}},OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG:{area:"PROJECT",displayText:{id:"Open project icons"}},OPEN_PROJECT_RESOURCES:{area:"PROJECT",displayText:{id:"Open project resources"}},OPEN_LAYOUT:{area:"IDE",displayText:{id:"Open scene..."}},OPEN_EXTERNAL_EVENTS:{area:"IDE",displayText:{id:"Open external events..."}},OPEN_EXTERNAL_LAYOUT:{area:"IDE",displayText:{id:"Open external layout..."}},OPEN_EXTENSION:{area:"IDE",displayText:{id:"Open extension..."}},OPEN_SCENE_PROPERTIES:{area:"SCENE",displayText:{id:"Open scene properties"}},OPEN_SCENE_VARIABLES:{area:"SCENE",displayText:{id:"Open scene variables"}},OPEN_OBJECTS_PANEL:{area:"SCENE",displayText:{id:"Open the objects editor"}},OPEN_OBJECT_GROUPS_PANEL:{area:"SCENE",displayText:{id:"Open the object groups editor"}},OPEN_PROPERTIES_PANEL:{area:"SCENE",displayText:{id:"Open the properties panel"}},TOGGLE_INSTANCES_PANEL:{area:"SCENE",displayText:{id:"Open the list of instances"}},TOGGLE_LAYERS_PANEL:{area:"SCENE",displayText:{id:"Open the layers editor"}},SCENE_EDITOR_UNDO:{area:"SCENE",displayText:{id:"Undo the last changes"},noShortcut:!0},SCENE_EDITOR_REDO:{area:"SCENE",displayText:{id:"Redo the last changes"},noShortcut:!0},DELETE_INSTANCES:{area:"SCENE",displayText:{id:"Delete the selected instances from the scene"},noShortcut:!0},TOGGLE_WINDOW_MASK:{area:"SCENE",displayText:{id:"Toggle mask"}},TOGGLE_GRID:{area:"SCENE",displayText:{id:"Toggle grid"}},OPEN_SETUP_GRID:{area:"SCENE",displayText:{id:"Setup grid"}},EDIT_LAYER_EFFECTS:{area:"SCENE",displayText:{id:"Edit layer effects..."}},EDIT_LAYER:{area:"SCENE",displayText:{id:"Edit layer..."}},EDIT_OBJECT:{area:"SCENE",displayText:{id:"Edit object..."}},EDIT_OBJECT_VARIABLES:{area:"SCENE",displayText:{id:"Edit object variables..."}},EDIT_OBJECT_GROUP:{area:"SCENE",displayText:{id:"Edit object group..."}},ADD_STANDARD_EVENT:{area:"EVENTS",displayText:{id:"Add a new empty event"}},ADD_SUBEVENT:{area:"EVENTS",displayText:{id:"Add a sub-event to the selected event"}},ADD_COMMENT_EVENT:{area:"EVENTS",displayText:{id:"Add a comment"}},CHOOSE_AND_ADD_EVENT:{area:"EVENTS",displayText:{id:"Choose and add an event..."}},EVENTS_EDITOR_UNDO:{area:"EVENTS",displayText:{id:"Undo the last changes"},noShortcut:!0},EVENTS_EDITOR_REDO:{area:"EVENTS",displayText:{id:"Redo the last changes"},noShortcut:!0},DELETE_SELECTION:{area:"EVENTS",displayText:{id:"Delete the selected event(s)"},noShortcut:!0},SEARCH_EVENTS:{area:"EVENTS",displayText:{id:"Search in events"},noShortcut:!0},OPEN_EXTENSION_SETTINGS:{area:"EVENTS",displayText:{id:"Open extension settings"}}}},304:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2),r=function(e){var t=a.useRef(null),n=a.useRef({clientX:0,clientY:0}),r=a.useCallback((function(){t.current&&clearTimeout(t.current)}),[]);return a.useEffect((function(){return document.addEventListener("scroll",r,{capture:!0}),function(){r(),document.removeEventListener("scroll",r,{capture:!0})}}),[r]),{onTouchStart:a.useCallback((function(a){t.current&&clearTimeout(t.current),n.current=function(e){return e.touches&&e.touches.length>0?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:0,clientY:0}}(a),t.current=setTimeout((function(){e(n.current)}),600)}),[e]),onTouchMove:a.useCallback((function(e){if(1===e.touches.length){var t=e.touches[0],a=n.current,o=a.clientX,i=a.clientY;(Math.abs(t.clientX-o)>10||Math.abs(t.clientY-i)>10)&&r()}else r()}),[n,r]),onTouchEnd:r}}},308:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(2),r=e.gd,o=function(e){var t=e.serializableObject,n=e.useProjectToUnserialize,o=e.onCancel,i=a.useRef(null);return a.useEffect((function(){return i.current&&(i.current.delete(),i.current=null),i.current=new r.SerializerElement,t.serializeTo(i.current),function(){i.current&&(i.current.delete(),i.current=null)}}),[t]),a.useCallback((function(){var e=i.current;e&&(n?t.unserializeFrom(n,e):t.unserializeFrom(e),o())}),[t,n,o])}}).call(this,n(1))},313:function(e,t,n){"use strict";var a=n(83),r=n(137),o=n(6),i=n(12),s=n(23),c=n(22),l=n(2),u=n(1134),d=n(2361),m=n(360),p={color:{width:"36px",height:"14px",borderRadius:"2px",textAlign:"center",fontSize:"10px"},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{zIndex:n.n(m).a.tooltip+100}},f=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r)))._swatch=l.createRef(),e.state={displayColorPicker:!1},e.open=function(){e.setState({displayColorPicker:!0})},e.handleClick=function(){e.setState({displayColorPicker:!e.state.displayColorPicker})},e.handleClose=function(){e.setState({displayColorPicker:!1})},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.color,o=Object(r.a)(e,["style","color"]),i=n||{r:200,g:200,b:200,a:1};return l.createElement("div",{style:t},l.createElement("div",{style:p.swatch,onClick:this.handleClick,ref:this._swatch},l.createElement("div",{style:Object(a.a)(Object(a.a)({},p.color),{},{background:"rgba(".concat(i.r,", ").concat(i.g,", ").concat(i.b,", ").concat(i.a||1,")")})},n?null:"?")),this.state.displayColorPicker&&this._swatch.current?l.createElement(d.a,{open:!0,onClose:this.handleClose,anchorEl:this._swatch.current,style:p.popover},l.createElement(u.SketchPicker,Object.assign({color:i},o))):null)}}]),n}(l.Component);t.a=f},318:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c}));var a=n(92),r=function(e){return Object(a.mapFor)(0,e.getLayoutsCount(),(function(t){return e.getLayoutAt(t)}))},o=function(e){return Object(a.mapFor)(0,e.getExternalEventsCount(),(function(t){return e.getExternalEventsAt(t)}))},i=function(e){return Object(a.mapFor)(0,e.getExternalLayoutsCount(),(function(t){return e.getExternalLayoutAt(t)}))},s=function(e){return Object(a.mapFor)(0,e.getEventsFunctionsExtensionsCount(),(function(t){return e.getEventsFunctionsExtensionAt(t)}))},c=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}},321:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(98),r=n(77),o=n(2),i=n(1553),s=n(92),c=n(391),l=n(756),u=n(772),d=n(773),m=n(304),p={addButton:{cursor:"pointer"}},f=Object(d.a)(i.b);function h(e){var t=e.addButtonLabel,n=e.areConditions,d=e.className,h=e.instrsList,g=e.onAddNewInstruction,b=e.onPasteInstructions,v=e.onMoveToInstruction,E=e.onMoveToInstructionsList,y=e.onInstructionClick,j=e.onInstructionContextMenu,O=e.onInstructionDoubleClick,C=e.onAddInstructionContextMenu,x=e.onParameterClick,T=e.selection,S=e.style,k=e.disabled,w=e.renderObjectThumbnail,N=e.screenType,_=e.windowWidth,P=o.useState(!1),I=Object(a.a)(P,2),R=I[0],B=I[1],M=o.useCallback((function(){g&&g({instrsList:h,isCondition:n})}),[g,h,n]),F=o.useCallback((function(){b({instrsList:h,isCondition:n})}),[b,h,n]),A=Object(s.mapFor)(0,h.size(),(function(e){var t=h.get(e),a={isCondition:n,instrsList:h,instruction:t,indexInList:e};return o.createElement(i.a,{instruction:t,isCondition:n,key:t.ptr,selected:Object(c.n)(T,t),onMoveToInstruction:function(){return v(a)},onClick:function(){return y(a)},onDoubleClick:function(){return O(a)},onContextMenu:function(e,t){return j(e,t,a)},onParameterClick:function(e,t){return x({isCondition:a.isCondition,instrsList:a.instrsList,instruction:a.instruction,indexInList:a.indexInList,parameterIndex:t,domEvent:e})},selection:T,onAddNewSubInstruction:g,onPasteSubInstructions:b,onMoveToSubInstruction:v,onMoveToSubInstructionsList:E,onSubInstructionClick:y,onSubInstructionDoubleClick:O,onSubInstructionContextMenu:j,onAddSubInstructionContextMenu:C,onSubParameterClick:x,disabled:k,renderObjectThumbnail:w,screenType:N,windowWidth:_})})),L={instrsList:h,isCondition:n},D=o.useRef(null),U=n?o.createElement(r.Trans,{id:"Add condition"}):o.createElement(r.Trans,{id:"Add action"}),V=Object(m.a)(o.useCallback((function(e){D.current&&C(D.current,L)}),[C,L,D]));return o.createElement(f,{canDrop:function(e){return e.isCondition===n},drop:function(){E({isCondition:n,instrsList:h})}},(function(e){var a=e.connectDropTarget,i=e.isOver,s=e.canDrop;return a(o.createElement("div",{className:d,style:S},A,i&&o.createElement(l.a,{canDrop:s}),o.createElement("span",{onPointerEnter:function(){B(n&&Object(u.c)()||!n&&Object(u.b)())},onPointerLeave:function(){B(!1)}},o.createElement("button",Object.assign({style:p.addButton,className:"add-link",onClick:M,onContextMenu:function(e){e.stopPropagation(),C(e.currentTarget,L)}},V,{ref:D}),t||U),R&&o.createElement("span",null,o.createElement("button",{style:p.addButton,className:"add-link",onClick:F},n?o.createElement(r.Trans,{id:"(or paste conditions)"}):o.createElement(r.Trans,{id:"(or paste actions)"}))))))}))}},322:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(100),r=n(83),o=n(1581),i=n.n(o),s=n(1585),c=n.n(s),l=function(e){var t={};return e.forEach((function(e){var n=c()(e.fullGroupName.split("/"));n.length||(n=[""]),i()(t,n,(function(t){var n=t||{};return Object(r.a)(Object(r.a)({},n),{},{[e.displayedName]:e})}))})),t},u=function e(t,n){if(!n)return null;for(var r=Object.keys(t),o=0;o<r.length;++o){var i=r[o],s=t[i];if(!s)return null;if("string"===typeof s.type){if(s.type===n)return[]}else{var c=e(s,n);if(c)return[i].concat(Object(a.a)(c))}}return null}},323:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),r=n(2356),o=n(123),i=n(2393),s=n(79),c=n(129),l={popover:{paddingBottom:10,overflowY:"auto",overflowX:"hidden",minHeight:30,maxHeight:400,maxWidth:600,minWidth:300,zIndex:5}};function u(e){var t=a.useRef(null),n=a.useRef(null);return a.createElement(i.a,{onClickAway:function(t){t instanceof MouseEvent?e.onRequestClose():setTimeout((function(){e.onRequestClose()}),50)}},a.createElement(r.a,{open:e.open,anchorEl:e.anchorEl,style:l.popover,placement:"bottom-start",onKeyDown:function(a){Object(c.b)(a)&&e.onRequestClose(),Object(c.c)(a)?a.target&&a.target===n.current&&(a.stopPropagation(),a.preventDefault(),t.current&&t.current.focus()):Object(c.d)(a)&&a.target&&a.target===t.current&&(a.stopPropagation(),a.preventDefault(),n.current&&n.current.focus())}},a.createElement(o.a,null,a.createElement("div",{tabIndex:0,ref:t}),a.createElement(s.a,{expand:!0},a.createElement(s.b,null,e.children)),a.createElement("div",{tabIndex:0,ref:n}))))}},329:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(77),l=n(103),u=n(529),d=n(2),m=(n(114),n(79)),p=n(188),f=n(1846),h=n.n(f),g=n(1847),b=n.n(g),v=n(1848),E=n.n(v),y=n(275),j=n(85),O=n(229),C={imagePreviewContainer:{position:"relative",display:"inline-block",width:"100%",border:"#AAAAAA 1px solid",overflow:"scroll",height:200,background:'url("res/transparentback.png") repeat',touchAction:"none"},spriteThumbnailImage:{position:"relative",pointerEvents:"none",margin:50},box:{border:"1px solid black"}},x=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state=Object(a.a)({errored:!1,imageWidth:null,imageHeight:null,imageZoomFactor:1},e._loadFrom(e.props)),e._handleImageError=function(){e.setState({errored:!0})},e._handleImageLoaded=function(t){var n=t.target,a=n?n.naturalWidth||n.clientWidth:0,r=n?n.naturalHeight||n.clientHeight:0;e.setState({imageWidth:a,imageHeight:r}),e.props.onSize&&e.props.onSize(a,r)},e._zoomBy=function(t){e._zoomTo(e.state.imageZoomFactor+t)},e._zoomTo=function(t){e.setState((function(e){return{imageZoomFactor:Math.min(10,Math.max(.1,t))}}))},e}return Object(o.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.resourceName===this.props.resourceName&&e.project===this.props.project&&e.resourcesLoader===this.props.resourcesLoader&&e.resourcePath===this.props.resourcePath||this.setState(this._loadFrom(e))}},{key:"_loadFrom",value:function(e){var t=e.project,n=e.resourceName;return{errored:!1,imageSource:e.resourcesLoader.getResourceFullUrl(t,n,{})}}},{key:"render",value:function(){var e=this;return d.createElement(u.a,{bounds:!0},(function(t){var n=t.contentRect,r=t.measureRef,o=n.bounds.width,i=e.props,s=i.resourceName,u=i.renderOverlay,f=e.state,g=f.imageHeight,v=f.imageWidth,x=f.imageSource,T=f.imageZoomFactor,S=!!v&&!!g&&!e.state.errored,k=Math.max(0,o/2-(v||0)*T/2-50),w=Object(a.a)(Object(a.a)({},C.spriteThumbnailImage),{},{top:0,left:k,width:v?v*T:void 0,height:g?g*T:void 0,visibility:S?void 0:"hidden"}),N={position:"absolute",top:50,left:k+50,width:v?v*T:void 0,height:g?g*T:void 0,visibility:S?void 0:"hidden"};return d.createElement(m.a,{expand:!0,noMargin:!0},d.createElement(p.b,null,d.createElement(l.a,{onClick:function(){return e._zoomBy(.2)},tooltip:{id:"Zoom in (you can also use Ctrl + Mouse wheel)"}},d.createElement(h.a,null)),d.createElement(l.a,{onClick:function(){return e._zoomBy(-.2)},tooltip:{id:"Zoom out (you can also use Ctrl + Mouse wheel)"}},d.createElement(b.a,null)),d.createElement(l.a,{onClick:function(){return e._zoomTo(1)},tooltip:{id:"Restore original size"}},d.createElement(E.a,null))),d.createElement("div",{dir:"ltr",style:C.imagePreviewContainer,ref:r,onWheel:function(t){var n=t.deltaY;(t.metaKey||t.ctrlKey)&&(e._zoomBy(-n/500),t.preventDefault(),t.stopPropagation())}},!!e.state.errored&&d.createElement(y.a,null,d.createElement(j.a,null,d.createElement(c.Trans,{id:"Unable to load the image"}))),!e.state.errored&&d.createElement(O.a,{style:w,alt:s,src:x,onError:e._handleImageError,onLoad:e._handleImageLoaded}),S&&u&&d.createElement("div",{style:Object(a.a)(Object(a.a)({},N),C.box)}),S&&u&&d.createElement("div",{style:N},u({imageWidth:v||0,imageHeight:g||0,imageZoomFactor:T}))))}))}}]),n}(d.Component)},330:function(e,t,n){"use strict";(function(e){n.d(t,"k",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"i",(function(){return E})),n.d(t,"j",(function(){return y}));var a=n(92),r=n(563),o=n.n(r),i=e.gd,s=function(e,t,n,a){var r=t<e.getAnimationsCount(),o=r?e.getAnimation(t):null,i=!!o&&n<o.getDirectionsCount(),s=i?o.getDirection(n):null,c=!!s&&a<s.getSpritesCount(),l=c?s.getSprite(a):null;return{hasValidAnimation:r,animation:o,hasValidDirection:i,direction:s,hasValidSprite:c,sprite:l}},c=function(e,t){t.setX(e.getX()),t.setY(e.getY()),t.setName(e.getName())},l=function(e,t){e.ptr!==t.ptr&&(c(e.getCenter(),t.getCenter()),c(e.getOrigin(),t.getOrigin()),t.setDefaultCenterPoint(e.isDefaultCenterPoint()),t.getAllNonDefaultPoints().clear(),Object(a.mapVector)(e.getAllNonDefaultPoints(),(function(e){t.addPoint(e)})))},u=function(e,t){Object(a.mapFor)(0,t.getDirectionsCount(),(function(n){var r=t.getDirection(n);Object(a.mapFor)(0,r.getSpritesCount(),(function(t){var n=r.getSprite(t);l(e,n)}))}))},d=function(e,t){return e.getX()===t.getX()&&e.getY()===t.getY()&&e.getName()===t.getName()},m=function(e,t){return o()(Object(a.mapFor)(0,t.getSpritesCount(),(function(n){var r,i,s=t.getSprite(n);return i=e,!!d((r=s).getCenter(),i.getCenter())&&!!d(r.getOrigin(),i.getOrigin())&&r.isDefaultCenterPoint()===i.isDefaultCenterPoint()&&r.getAllNonDefaultPoints().size()===i.getAllNonDefaultPoints().size()&&o()(Object(a.mapVector)(r.getAllNonDefaultPoints(),(function(e){return!!i.hasPoint(e.getName())&&d(e,i.getPoint(e.getName()))})))})))},p=function(e,t){return o()(Object(a.mapFor)(0,t.getDirectionsCount(),(function(n){var a=t.getDirection(n);return m(e,a)})))},f=function(e,t){e.ptr!==t.ptr&&(t.setCollisionMaskAutomatic(e.isCollisionMaskAutomatic()),t.getCustomCollisionMask().clear(),Object(a.mapVector)(e.getCustomCollisionMask(),(function(e){t.getCustomCollisionMask().push_back(e)})))},h=function(e,t){Object(a.mapFor)(0,t.getDirectionsCount(),(function(n){var r=t.getDirection(n);Object(a.mapFor)(0,r.getSpritesCount(),(function(t){var n=r.getSprite(t);f(e,n)}))}))},g=function(e,t){if(e.isCollisionMaskAutomatic()!==t.isCollisionMaskAutomatic())return!1;if(e.isCollisionMaskAutomatic()&&t.isCollisionMaskAutomatic())return!0;var n=e.getCustomCollisionMask(),r=t.getCustomCollisionMask();return n.size()===r.size()&&o()(Object(a.mapVector)(n,(function(e,t){return function(e,t){var n=e.getVertices(),r=t.getVertices();return n.size()===r.size()&&o()(Object(a.mapVector)(n,(function(e,t){var n=r.at(t);return e.get_x()===n.get_x()&&e.get_y()===n.get_y()})))}(e,r.at(t))})))},b=function(e,t){return o()(Object(a.mapFor)(0,t.getSpritesCount(),(function(n){var a=t.getSprite(n);return g(a,e)})))},v=function(e,t){return o()(Object(a.mapFor)(0,t.getDirectionsCount(),(function(n){var a=t.getDirection(n);return b(e,a)})))},E=function(e,t){Object(a.mapFor)(0,e.getDirectionsCount(),(function(n){for(var r=e.getDirection(n),o=Object(a.mapFor)(0,r.getSpritesCount(),(function(e){var n=r.getSprite(e);return!!t[n.ptr]})),i=r.getSpritesCount()-1;i>=0;i--)o[i]&&r.removeSprite(i)}))},y=function(e,t){Object(a.mapFor)(0,e.getDirectionsCount(),(function(n){for(var r=e.getDirection(n),o=Object(a.mapFor)(0,r.getSpritesCount(),(function(e){var n=r.getSprite(e);return!!t[n.ptr]})),s=r.getSpritesCount()-1;s>=0;s--)if(o[s]){var c=r.getSprite(s),u=new i.Sprite;u.setImageName(c.getImageName()),l(c,u),f(c,u),r.addSprite(u),r.moveSprite(r.getSpritesCount()-1,s)}}))}}).call(this,n(1))},331:function(e,t,n){"use strict";t.a={handleColumn:{width:24,paddingLeft:8,paddingRight:0},coordinateColumn:{width:48},toolColumn:{width:48}}},334:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(77),u=n(2284),d=n(2364),m=n(4),p=n.n(m),f=p()("electron"),h=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"buildFromTemplate",value:function(e){this.menuTemplate=e}},{key:"showMenu",value:function(e){if(f){var t=f.remote.Menu,n=f.remote.getCurrentWindow();this.menu=t.buildFromTemplate(this.menuTemplate),this.menu.popup({window:n,x:Math.round(e.left),y:Math.round(e.top+e.height),async:!0})}}},{key:"getMenuProps",value:function(){return{open:!1}}}]),e}(),g=n(98),b=n(2359),v=n(993),E=n.n(v),y=n(994),j=n.n(y),O=n(995),C=n.n(O),x=n(2366),T=n(2367),S=n(2365),k=function(e){var t=e.item,n=e.buildFromTemplate,a=Object(s.useState)(!1),r=Object(g.a)(a,2),o=r[0],i=r[1],l=Object(s.useRef)(null),m=Object(s.useCallback)((function(e){l.current=e}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{dense:!0,key:t.label,disabled:!1===t.enabled,onClick:function(e){!1!==t.enabled&&(l.current||m(e.currentTarget),i(!o))}},t.label,c.a.createElement(E.a,null)),c.a.createElement(u.a,{open:o,anchorEl:l.current,onClose:function(){return i(!1)},TransitionComponent:d.a},n(t.submenu)))},w=function(){function e(t){var n=t.onClose;Object(a.a)(this,e),this._onClose=n}return Object(r.a)(e,[{key:"buildFromTemplate",value:function(e){var t=this;return e.map((function(e,n){return!1===e.visible?null:"separator"===e.type?c.a.createElement(S.a,{key:"separator"+n}):"checkbox"===e.type?c.a.createElement(b.a,{dense:!0,key:"checkbox"+e.label,checked:e.checked,disabled:!1===e.enabled,onClick:function(){!1!==e.enabled&&(e.click&&e.click(),t._onClose())}},c.a.createElement(x.a,null,e.checked?c.a.createElement(j.a,null):c.a.createElement(C.a,null)),c.a.createElement(T.a,{primary:e.label})):e.submenu?c.a.createElement(k,{key:"submenu"+e.label,item:e,buildFromTemplate:function(e){return t.buildFromTemplate(e)}}):c.a.createElement(b.a,{dense:!0,key:"item"+e.label,disabled:!1===e.enabled,onClick:function(){!1!==e.enabled&&e.click&&(e.click(),t._onClose())}},e.label)})).filter(Boolean)}},{key:"showMenu",value:function(){}},{key:"getMenuProps",value:function(){return{}}}]),e}(),N=p()("electron"),_=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).open=function(e,t){r.setState({anchorX:e,anchorY:t},(function(){r.setState({open:!0})}))},r._onClose=function(){r.setState({open:!1})},r.state={open:!1,anchorX:0,anchorY:0},r.menuImplementation=new w({onClose:r._onClose}),r}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return this.state.open?c.a.createElement(l.I18n,null,(function(t){var n=t.i18n;return c.a.createElement(u.a,Object.assign({open:e.state.open,anchorPosition:{left:e.state.anchorX,top:e.state.anchorY},anchorReference:"anchorPosition",onClose:e._onClose,TransitionComponent:d.a},e.menuImplementation.getMenuProps()),e.menuImplementation.buildFromTemplate(e.props.buildMenuTemplate(n)))})):null}}]),n}(c.a.Component),P=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).open=function(e,t){r.menuImplementation.buildFromTemplate(r.props.buildMenuTemplate(r.props.i18n)),r.menuImplementation.showMenu({left:e||0,top:t||0,width:0,height:0})},r.menuImplementation=new h,r}return Object(r.a)(n,[{key:"render",value:function(){return null}}]),n}(c.a.Component),I=c.a.forwardRef((function(e,t){var n=c.a.useRef(null);return c.a.useImperativeHandle(t,(function(){return{open:function(e,t){n.current&&n.current.open(e,t)}}})),c.a.createElement(l.I18n,null,(function(t){var a=t.i18n;return c.a.createElement(P,Object.assign({},e,{i18n:a,ref:n}))}))}));t.a=N?I:_},352:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=c.createContext({hasUnsavedChanges:!1,sealUnsavedChanges:function(){},triggerUnsavedChanges:function(){}});t.b=l;var u=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={hasUnsavedChanges:!1},e.triggerUnsavedChanges=function(){e.state.hasUnsavedChanges||e.setState({hasUnsavedChanges:!0})},e.sealUnsavedChanges=function(){e.state.hasUnsavedChanges&&e.setState({hasUnsavedChanges:!1})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=Object(a.a)(Object(a.a)({},this.state),{},{triggerUnsavedChanges:this.triggerUnsavedChanges,sealUnsavedChanges:this.sealUnsavedChanges});return c.createElement(l.Provider,{value:e},this.props.children)}}]),n}(c.Component)},356:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(1117),i=n.n(o),s=n(211),c={handle:{cursor:"move"},disabledHandle:{opacity:.4},handleColor:"#DDD"},l=Object(s.SortableHandle)((function(e){return r.a.createElement("span",{style:e.disabled?c.disabledHandle:c.handle},r.a.createElement(i.a,{htmlColor:c.handleColor}))}));t.a=l},378:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d}));var a=n(98),r=n(178),o=n.n(r),i=n(26),s=(n(702),function(){return o.a.get("".concat(i.b.baseUrl,"/asset")).then((function(e){return e.data})).then((function(e){var t=e.assetShortHeadersUrl,n=e.filtersUrl;if(!t||!n)throw new Error("Unexpected response from the resource endpoint.");return Promise.all([o.a.get(t).then((function(e){return e.data})),o.a.get(n).then((function(e){return e.data}))]).then((function(e){var t=Object(a.a)(e,2);return{assetShortHeaders:t[0],filters:t[1]}}))}))}),c=function(e){return o.a.get("".concat(i.b.baseUrl,"/asset/").concat(e.id)).then((function(e){return e.data})).then((function(e){var t=e.assetUrl;if(!t)throw new Error("Unexpected response from the asset endpoint.");return o.a.get(t)})).then((function(e){return e.data}))},l=function(){return o.a.get("".concat(i.b.baseUrl,"/resource")).then((function(e){return e.data})).then((function(e){var t=e.resourcesUrl,n=e.filtersUrl;if(!t||!n)throw new Error("Unexpected response from the resource endpoint.");return Promise.all([o.a.get(t).then((function(e){return e.data})),o.a.get(n).then((function(e){return e.data}))]).then((function(e){var t=Object(a.a)(e,2);return{resources:t[0],filters:t[1]}}))}))},u=function(){return o.a.get("".concat(i.b.baseUrl,"/author")).then((function(e){return e.data})).then((function(e){var t=e.authorsUrl;if(!t)throw new Error("Unexpected response from author endpoint.");return o.a.get(t)})).then((function(e){return e.data}))},d=function(){return o.a.get("".concat(i.b.baseUrl,"/license")).then((function(e){return e.data})).then((function(e){var t=e.licensesUrl;if(!t)throw new Error("Unexpected response from license endpoint.");return o.a.get(t)})).then((function(e){return e.data}))}},386:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),r=n(725),o=n(726),i=a.createContext(new r.a),s=function(e){var t=Object(o.a)((function(){return new r.a}));return a.createElement(i.Provider,{value:t},e.children)};t.b=i},391:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"m",(function(){return p})),n.d(t,"n",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"l",(function(){return E})),n.d(t,"a",(function(){return y})),n.d(t,"o",(function(){return j})),n.d(t,"p",(function(){return O}));var a=n(83),r=n(392),o=n(357),i=n.n(o),s=function(){return{selectedInstructions:{},selectedEvents:{},selectedInstructionsLists:{}}},c=function(e){return i()(e.selectedEvents).map((function(e){return e.event}))},l=function(e){return i()(e.selectedEvents)},u=function(e){return i()(e.selectedInstructions).map((function(e){return e.instruction}))},d=function(e){return i()(e.selectedInstructions)},m=function(e){return i()(e.selectedInstructionsLists)},p=function(e,t){return!!e.selectedEvents[t.ptr]},f=function(e,t){return!!e.selectedInstructions[t.ptr]},h=function(e){return!!Object.keys(e.selectedEvents).length},g=function(e){return!!Object.keys(e.selectedInstructions).length},b=function(e){var t,n=Object(r.a)(d(e));try{for(n.s();!(t=n.n()).done;){if(t.value.isCondition)return!0}}catch(a){n.e(a)}finally{n.f()}return!1},v=function(e){return!!Object.keys(e.selectedInstructionsLists).length},E=function(e){return g(e)||v(e)||h(e)},y=function(){return s()},j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.event;if(p(e,r))return e;var o=n?e:y();return Object(a.a)(Object(a.a)({},o),{},{selectedEvents:Object(a.a)(Object(a.a)({},o.selectedEvents),{},{[r.ptr]:t})})},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.instruction;if(f(e,r))return e;var o=n?e:y();return Object(a.a)(Object(a.a)({},o),{},{selectedInstructions:Object(a.a)(Object(a.a)({},o.selectedInstructions),{},{[r.ptr]:t})})}},394:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return F}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n(25),u=n.n(l),d=n(2356),m=n(360),p=n.n(m),f=n(1592),h=n.n(f),g=n(89),b=n(109),v=n(92),E=n(1580),y=n(2292),j=n(527),O=n(1587),C=n(272),x=n.n(C),T=n(2393),S=n(2362),k=n(96),w=n(1589),N=n(1590),_=n(1591),P=n(163),I=n(129),R=e.gd,B={container:{display:"flex",alignItems:"flex-start"},textFieldContainer:{flex:1,minWidth:300},textFieldAndHightlightContainer:{position:"relative"},expressionSelectorPopoverContentSmall:{display:"flex",maxHeight:250},expressionSelectorPopoverContent:{display:"flex",maxHeight:350},input:{fontFamily:'"Lucida Console", Monaco, monospace',lineHeight:1.4},backgroundHighlightingWithFloatingLabel:{marginTop:22,paddingLeft:12,paddingRight:12},backgroundHighlightingInline:{marginTop:0,paddingLeft:0,paddingRight:0},backgroundHighlightingInlineWithFloatingLabel:{marginTop:22,paddingLeft:0,paddingRight:0}},M=function(e){var t=new R.ExpressionValidator;e.visit(t);var n=t.getErrors(),a=Object(v.mapVector)(n,(function(e){return{begin:e.getStartPosition(),end:e.getEndPosition()+1,message:e.getMessage(),type:"error"}})),r=Math.max(0,a.length-10),o=a.length>1,i=(r>0?a.slice(0,10):a).map((function(e,t){return(o?"[".concat(t+1,"] "):"")+e.message})).join(" ");return t.delete(),{errorText:i,errorHighlights:a}},F=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._field=null,e._fieldElement=null,e._inputElement=null,e.state={popoverOpen:!1,parametersDialogOpen:!1,selectedExpressionInfo:null,validatedValue:e.props.value,errorText:null,errorHighlights:[],autocompletions:Object(N.a)()},e.focus=function(){e._field&&(e._field.focus(),e._enqueueValidation())},e._openExpressionPopover=function(){e.setState({popoverOpen:!0})},e._handleFocus=function(e){e.preventDefault()},e._handleRequestClose=function(){e.setState({popoverOpen:!1})},e._handleChange=function(t){e.setState({validatedValue:t},(function(){return e._enqueueValidation()}))},e._handleBlur=function(t){var n=t.currentTarget.value;e.props.onChange&&e.props.onChange(n),e.setState({validatedValue:n},(function(){e._enqueueValidation.cancel(),e._doValidation(),e.setState({autocompletions:Object(N.a)()})}))},e._handleExpressionChosen=function(t){e.setState({popoverOpen:!1,parametersDialogOpen:!0,selectedExpressionInfo:t})},e.insertExpression=function(t,n){if(e._inputElement){var a=e._inputElement.selectionStart,r=Object(j.a)(t,n),o=e.props.value,i=o.substr(0,a)+r+o.substr(a);e.props.onChange&&e.props.onChange(i),e.setState({validatedValue:i},(function(){return e._enqueueValidation()})),setTimeout((function(){e._field&&e._field.focus(),setTimeout((function(){e._inputElement&&e._inputElement.setSelectionRange(a,a+r.length)}),5)}),5)}},e._insertAutocompletion=function(t){if(!t.isExact){var n=e._inputElement?e._inputElement.selectionStart:0,a=e.state.validatedValue,r=Object(w.b)({expression:a,caretLocation:n},{completion:t.completion,addParenthesis:t.addParenthesis,addDot:t.addDot,addNamespaceSeparator:t.addNamespaceSeparator,addClosingParenthesis:t.addClosingParenthesis}),o=r.expression,i=r.caretLocation;e._field&&e._field.forceSetValue(o),e.props.onChange&&e.props.onChange(o),e.setState({validatedValue:o},(function(){e._enqueueValidation(),e._field&&e._field.forceSetSelection(i,i)}))}},e._enqueueValidation=x()((function(){e._doValidation()}),250),e._doValidation=function(){var t=e.props,n=t.project,a=t.globalObjectsContainer,r=t.objectsContainer,o=t.expressionType,i=t.scope;if(!n)return null;var s=new R.ExpressionParser2(R.JsPlatform.get(),a,r),c=e.state.validatedValue,l=s.parseExpression(o,c).get(),u=M(l),d=u.errorText,m=u.errorHighlights,p=e._inputElement?e._inputElement.selectionStart:0,f=R.ExpressionCompletionFinder.getCompletionDescriptionsFor(l,p-1),h=Object(w.a)({gd:R,globalObjectsContainer:a,objectsContainer:r,scope:i},f);s.delete(),e.setState((function(e){return{errorText:d,errorHighlights:m,autocompletions:Object(N.e)(e.autocompletions,h)}}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){if(this._field){var e=u.a.findDOMNode(this._field);e instanceof Element&&(this._fieldElement=e),this._inputElement=this._field?this._field.getInputNode():null}}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.expressionType,o=t.parameterMetadata,i=t.project,s=t.scope,l=t.globalObjectsContainer,u=t.objectsContainer,m=t.parameterRenderingService,f=o?o.getDescription():this.props.isInline?void 0:"-",v=o?o.getLongDescription():void 0,j={width:this._fieldElement?this._fieldElement.clientWidth:"auto",marginLeft:-5,zIndex:p.a.tooltip+100},C=this.props.isInline?f?B.backgroundHighlightingInlineWithFloatingLabel:B.backgroundHighlightingInline:B.backgroundHighlightingWithFloatingLabel;return c.createElement(c.Fragment,null,c.createElement(k.c,{margin:this.props.isInline?"none":"dense",renderTextField:function(){return c.createElement("div",{style:B.textFieldContainer},c.createElement("div",{style:B.textFieldAndHightlightContainer},c.createElement(O.a,{value:e.state.validatedValue,style:Object(a.a)(Object(a.a)({},B.input),C),highlights:e.state.errorHighlights}),c.createElement(b.a,{margin:e.props.isInline?"none":"dense",value:n,floatingLabelText:f,helperMarkdownText:v,hintText:"string"===r?'""':void 0,inputStyle:B.input,onChange:e._handleChange,onBlur:e._handleBlur,ref:function(t){return e._field=t},onFocus:e._handleFocus,errorText:e.state.errorText,onClick:function(){return e._enqueueValidation()},onKeyDown:function(t){var n=Object(N.d)(e.state.autocompletions,{event:t,onUpdateAutocompletions:e._enqueueValidation,onInsertAutocompletion:e._insertAutocompletion});if(e.setState({autocompletions:n}),Object(I.b)(t)){var a=t.currentTarget.value;e.props.onChange&&e.props.onChange(a)}},multiline:!0,fullWidth:!0})),e._inputElement&&e.state.popoverOpen&&c.createElement(T.a,{onClickAway:e._handleRequestClose},c.createElement(d.a,{style:j,open:e.state.popoverOpen,anchorEl:e._inputElement,placement:"bottom",disablePortal:!0},c.createElement(P.a,null,(function(t){return c.createElement(S.a,{style:"small"===t?B.expressionSelectorPopoverContentSmall:B.expressionSelectorPopoverContent},c.createElement(E.a,{selectedType:"",onChoose:function(t,n){e._handleExpressionChosen(n)},expressionType:r,focusOnMount:!0,scope:s}))})))),e._inputElement&&!e.state.popoverOpen&&m&&c.createElement(_.a,{project:i,anchorEl:e._inputElement,expressionAutocompletions:Object(N.c)(e.state.autocompletions),remainingCount:Object(N.b)(e.state.autocompletions),selectedCompletionIndex:e.state.autocompletions.selectedCompletionIndex,onChoose:function(t){e._insertAutocompletion(t),setTimeout(e.focus,50)},parameterRenderingService:m}))},renderButton:function(t){return c.createElement(c.Fragment,null,!e.props.isInline&&e.props.renderExtraButton&&e.props.renderExtraButton({style:t}),!e.props.isInline&&c.createElement(g.a,{icon:c.createElement(h.a,null),label:"string"===r?'"ABC"':"number"===r?"123":"",primary:!0,style:t,onClick:e._openExpressionPopover}))}}),this.state.parametersDialogOpen&&this.state.selectedExpressionInfo&&c.createElement(y.a,{project:i,scope:s,globalObjectsContainer:l,objectsContainer:u,expressionMetadata:this.state.selectedExpressionInfo.metadata,onDone:function(t){e.state.selectedExpressionInfo&&(e.insertExpression(e.state.selectedExpressionInfo,t),e.setState({parametersDialogOpen:!1,selectedExpressionInfo:null}))},onRequestClose:function(){e.setState({parametersDialogOpen:!1,selectedExpressionInfo:null})},parameterRenderingService:m}))}}]),n}(c.Component)}).call(this,n(1))},395:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(77),l=n(2),u=n(102),d=n(150),m=n(322),p=n(270),f=n(104),h=n(768),g=n(769),b=n(97),v=n(204),E=n(79),y=n(271),j={searchBar:{backgroundColor:"transparent",flexShrink:0,zIndex:1}},O=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={searchText:"",searchResults:[]},e._scrollView=l.createRef(),e._selectedItem=l.createRef(),e.initialInstructionTypePath=Object(m.b)(e.props.instructionsInfoTree,e.props.selectedType),e.focus=function(){e._searchBar&&e._searchBar.focus()},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&Object(d.b)()&&this._searchBar&&this._searchBar.focus(),this._selectedItem.current&&this._scrollView.current&&this._scrollView.current.scrollTo(this._selectedItem.current)}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedType,r=t.iconSize,o=t.instructionsInfoTree,i=t.onChoose,s=t.searchPlaceholderObjectName,m=t.searchPlaceholderIsCondition,O=t.useSubheaders,C=t.helpPagePath,x=t.style,T=this.state.searchText,S=T?Object(p.d)(this.props.instructionsInfo,{searchText:T}):[],k=!T||!!S.length,w=function(){S.length&&i(S[0].type,S[0])};return l.createElement(f.a,null,(function(t){return l.createElement("div",{style:Object(a.a)({backgroundColor:t.list.itemsBackgroundColor},x)},l.createElement(d.a,{value:T,onChange:function(t){return e.setState({searchText:t})},onRequestSearch:w,style:j.searchBar,placeholder:s?m?{id:"Search {searchPlaceholderObjectName} conditions",values:{searchPlaceholderObjectName:s}}:{id:"Search {searchPlaceholderObjectName} actions",values:{searchPlaceholderObjectName:s}}:void 0,helpPagePath:C,ref:function(t){return e._searchBar=t}}),l.createElement(v.a,{ref:e._scrollView},k&&l.createElement(u.a,null,T?S.map((function(e){return Object(h.a)({instructionOrExpressionMetadata:e,iconSize:r,onClick:function(){return i(e.type,e)},selectedValue:Object(y.b)(n)})})):Object(g.a)({instructionTreeNode:o,iconSize:r,onChoose:i,useSubheaders:O,selectedValue:Object(y.b)(n),initiallyOpenedPath:e.initialInstructionTypePath,selectedItemRef:e._selectedItem})),!k&&l.createElement(E.b,null,l.createElement(b.a,null,l.createElement(c.Trans,{id:"Nothing corresponding to your search. Try browsing the list instead."})))))}))}}]),n}(l.PureComponent)},396:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=e.gd,r=function(e,t){var n=a.PlatformExtension.getNamespaceSeparator();return e.filter((function(e){if(!e.isPrivate)return!0;var a,r,o=e.scope.behaviorMetadata,i=t.eventsBasedBehavior,s=t.eventsFunctionsExtension;return!!(o&&i&&s&&(a=s.getName(),r=i.getName(),a+n+r===o.getName()))}))}}).call(this,n(1))},397:function(e,t,n){"use strict";var a=n(2),r=n(132),o={oneColumnContainer:{display:"flex",flexDirection:"column"},twoColumnsContainer:{display:"flex"}};t.a=function(e){return"small"===e.windowWidth?a.createElement("div",{style:o.oneColumnContainer,className:e.className},e.renderConditionsList({style:{},className:"".concat(r.c," ").concat(r.s)}),e.renderActionsList({style:{},className:"".concat(r.a," ").concat(r.s)})):a.createElement("div",{style:o.twoColumnsContainer,className:e.className},e.renderConditionsList({style:{width:"calc(35vw - ".concat(e.leftIndentWidth,"px)")},className:r.c}),e.renderActionsList({className:r.a}))}},398:function(e,t,n){"use strict";function a(e,t,n){var a=null;return t&&t.hasObjectNamed(n)?a=t.getObject(n):e.hasObjectNamed(n)&&(a=e.getObject(n)),a}n.d(t,"a",(function(){return a}))},399:function(e,t,n){"use strict";var a=n(77),r=n(2),o=n(113),i=n(126),s=n(3),c=n(89),l=n(1623),u=n.n(l),d=n(1624),m=n.n(d);t.a=function(e){var t=e.tutorialHint,n=r.useContext(o.b),l=n.values,d=n.showTutorialHint;return l.hiddenTutorialHints[t.identifier]?null:r.createElement(a.I18n,null,(function(e){var n=e.i18n;return r.createElement(i.a,{kind:"info",children:n._(t.message),renderLeftIcon:function(){return r.createElement("img",{alt:"",style:{maxWidth:128,maxHeight:128},src:t.iconSrc})},renderRightButton:function(){return r.createElement(c.a,{icon:"video-tutorial"===t.kind?r.createElement(u.a,null):r.createElement(m.a,null),label:"video-tutorial"===t.kind?r.createElement(a.Trans,{id:"Watch the tutorial"}):r.createElement(a.Trans,{id:"Read the tutorial"}),onClick:function(){s.b.openExternalURL(t.link)}})},onHide:function(){d(t.identifier,!1)}})}))}},400:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f}));var a=n(92),r=n(1626),o=e.gd,i=function(e,t){e.setExtensionInformation(t.getName(),t.getFullName()||t.getName(),t.getDescription(),t.getAuthor(),"").setIconUrl(t.getIconUrl())},s=function(e){return e.getIconUrl()||"res/function24.png"},c=function(e,t){var n=new o.BehaviorJsImplementation,a=Object(r.a)(t.getPropertyDescriptors());return n.updateProperty=function(e,t,n){var r=a.find((function(e){return e.name===t}));if(!r)return!1;var o=e.addChild(t),i=r.type;return"String"===i||"Choice"===i?o.setStringValue(n):"Number"===i?o.setDoubleValue(parseFloat(n)):"Boolean"===i&&o.setBoolValue("1"===n),!0},n.getProperties=function(e){var t=new o.MapStringPropertyDescriptor;return a.forEach((function(n){var a=n.name,o=n.type,i=Object(r.b)(n,t.getOrCreate(a));e.hasChild(a)&&("String"===o||"Choice"===o?i.setValue(e.getChild(a).getStringValue()):"Number"===o?i.setValue(""+e.getChild(a).getDoubleValue()):"Boolean"===o&&i.setValue(e.getChild(a).getBoolValue()?"true":"false"))})),t},n.initializeContent=function(e){a.forEach((function(t){var n=e.addChild(t.name),a=t.type;"String"===a||"Choice"===a?n.setStringValue(t.value):"Number"===a?n.setDoubleValue(parseFloat(t.value)||0):"Boolean"===a&&n.setBoolValue("true"===t.value)}))},e.addBehavior(t.getName(),t.getFullName()||t.getName(),t.getName(),t.getDescription(),"",s(e),t.getName(),n,new o.BehaviorsSharedData).setObjectType(t.getObjectType())},l=function(e){return-1!==["onCreated","onActivate","onDeActivate","doStepPreEvents","doStepPostEvents","onDestroy","onOwnerRemovedFromScene"].indexOf(e)},u=function(e){return o.EventsFunctionsExtension.isExtensionLifecycleEventsFunction(e)},d=function(e,t,n){var a=n.getFunctionType();return a===o.EventsFunction.Expression?e.addExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),t.getFullName()||t.getName(),s(e)):a===o.EventsFunction.StringExpression?e.addStrExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),t.getFullName()||t.getName(),s(e)):a===o.EventsFunction.Condition?e.addCondition(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),t.getFullName()||t.getName(),s(e),s(e)):e.addAction(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),t.getFullName()||t.getName(),s(e),s(e))},m=function(e,t,n,a){var r=a.getFunctionType();return r===o.EventsFunction.Expression?t.addExpression(a.getName(),a.getFullName()||a.getName(),a.getDescription()||a.getFullName(),n.getFullName()||n.getName(),s(e)):r===o.EventsFunction.StringExpression?t.addStrExpression(a.getName(),a.getFullName()||a.getName(),a.getDescription()||a.getFullName(),n.getFullName()||n.getName(),s(e)):r===o.EventsFunction.Condition?t.addScopedCondition(a.getName(),a.getFullName()||a.getName(),a.getDescription()||a.getFullName(),a.getSentence(),n.getFullName()||n.getName(),s(e),s(e)):t.addScopedAction(a.getName(),a.getFullName()||a.getName(),a.getDescription()||a.getFullName(),a.getSentence(),n.getFullName()||n.getName(),s(e),s(e))},p=function(e,t,n,r){var i=function(e){return e.addParameter("object","Object","",!1),e.getParameter(e.getParametersCount()-1).setExtraInfo(r.getObjectType()),e.addParameter("behavior","Behavior",r.getName(),!1),e.setPrivate(),e};Object(a.mapVector)(r.getPropertyDescriptors(),(function(a){var c=a.getType(),l=a.getName(),u=o.BehaviorCodeGenerator.getBehaviorPropertyGetterName(l),d=o.BehaviorCodeGenerator.getBehaviorPropertySetterName(l),m=a.getLabel()||e._({id:"{propertyName} property",values:{propertyName:l}});"String"===c||"Choice"===c?(i(n.addStrExpression(o.EventsBasedBehavior.getPropertyExpressionName(l),m,m,r.getFullName()||r.getName(),s(t))).getCodeExtraInformation().setFunctionName(u),i(n.addScopedCondition(o.EventsBasedBehavior.getPropertyConditionName(l),m,e._({id:"Compare the content of {propertyLabel}",values:{propertyLabel:m}}),e._({id:"the property {propertyName}",values:{propertyName:l}}),r.getFullName()||r.getName(),s(t),s(t))).useStandardRelationalOperatorParameters("string").getCodeExtraInformation().setFunctionName(u),i(n.addScopedAction(o.EventsBasedBehavior.getPropertyActionName(l),m,e._({id:"Change the content of {propertyLabel}",values:{propertyLabel:m}}),e._({id:"the property {propertyName}",values:{propertyName:l}}),r.getFullName()||r.getName(),s(t),s(t))).useStandardOperatorParameters("string").getCodeExtraInformation().setFunctionName(d).setManipulatedType("string").setGetter(u)):"Number"===c?(i(n.addExpression(o.EventsBasedBehavior.getPropertyExpressionName(l),m,m,r.getFullName()||r.getName(),s(t))).getCodeExtraInformation().setFunctionName(u),i(n.addScopedCondition(o.EventsBasedBehavior.getPropertyConditionName(l),m,e._({id:"Compare the value of {propertyLabel}",values:{propertyLabel:m}}),e._({id:"the property {propertyName}",values:{propertyName:l}}),r.getFullName()||r.getName(),s(t),s(t))).useStandardRelationalOperatorParameters("number").getCodeExtraInformation().setFunctionName(u),i(n.addScopedAction(o.EventsBasedBehavior.getPropertyActionName(l),m,e._({id:"Change the value of {propertyLabel}",values:{propertyLabel:m}}),e._({id:"the property {propertyName}",values:{propertyName:l}}),r.getFullName()||r.getName(),s(t),s(t))).useStandardOperatorParameters("number").getCodeExtraInformation().setFunctionName(d).setGetter(u)):"Boolean"===c&&(i(n.addScopedCondition(o.EventsBasedBehavior.getPropertyConditionName(l),m,e._({id:"Check the value of {propertyLabel}",values:{propertyLabel:m}}),e._({id:"Property {propertyName} of _PARAM0_ is true",values:{propertyName:l}}),r.getFullName()||r.getName(),s(t),s(t))).getCodeExtraInformation().setFunctionName(u),i(n.addScopedAction(o.EventsBasedBehavior.getPropertyActionName(l),m,e._({id:"Update the value of {propertyLabel}",values:{propertyLabel:m}}),e._({id:"Set property {propertyName} of _PARAM0_ to _PARAM2_",values:{propertyName:l}}),r.getFullName()||r.getName(),s(t),s(t))).addParameter("yesorno",e._({id:"New value to set"}),"",!1).getCodeExtraInformation().setFunctionName(d))}))},f=function(e,t){Object(a.mapVector)(e.getParameters(),(function(e){e.isCodeOnly()?t.addCodeOnlyParameter(e.getType(),""):(t.addParameter(e.getType(),e.getDescription(),"",e.isOptional()),t.setParameterLongDescription(e.getLongDescription())),t.getParameter(t.getParametersCount()-1).setExtraInfo(e.getExtraInfo())})),t.addCodeOnlyParameter("eventsFunctionContext","")}}).call(this,n(1))},402:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(2468),u=n(2370),d=n(113),m=n(210),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props.identifier;return c.createElement(m.a,null,(function(n){return c.createElement(d.b.Consumer,null,(function(a){var r=a.values,o=a.showAlertMessage;return c.createElement(l.a,{open:e.props.show&&!r.hiddenAlertMessages[t],message:"touch"===n&&e.props.touchScreenMessage?e.props.touchScreenMessage:e.props.message,action:c.createElement(u.a,{key:"undo",color:"primary",size:"small",onClick:function(){o(t,!1)}},c.createElement(s.Trans,{id:"Got it"}))})}))}))}}]),n}(c.PureComponent)},403:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(83),c=n(77),l=n(2),u=n(785),d=n(825),m=n(104),p=n(272),f=n.n(p),h=(n(1777),n(1778),function e(t,n,a,r,o){if(!t)return n;if("string"!==typeof t){if("end"===a&&t.second&&"string"!==typeof t.second)return Object(s.a)(Object(s.a)({},t),{},{second:e(t.second,n,a,r,o)});if("start"===a&&t.first&&"string"!==typeof t.first)return Object(s.a)(Object(s.a)({},t),{},{first:e(t.first,n,a,r,o)})}return{direction:"row"===o?"column":"row",first:"end"===a?t:n,second:"end"===a?n:t,splitPercentage:r}}),g=function e(t,n,a){return t?"string"===typeof t?t===n?a:t:t===n?a:Object(s.a)(Object(s.a)({},t),{},{first:e(t.first,n,a),second:e(t.second,n,a)}):t},b=[l.createElement(d.a,{key:"close"})],v=function(e){return l.createElement("div",{className:"mosaic-preview"},l.createElement("div",{className:"mosaic-window-toolbar"},l.createElement("div",{className:"mosaic-window-title"},e.title)),l.createElement("div",{className:"mosaic-window-body"}))},E=function(e){return l.createElement(u.MosaicWindow,Object.assign({},e,{toolbarControls:e.toolbarControls||b,renderPreview:v}))},y=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={mosaicNode:e.props.initialNodes},e.openEditor=function(t,n,a,r){var o=e.props,i=o.editors,s=o.limitToOneSecondaryEditor,c=e.props.editors[t];if(!c)return!1;var l=Object(u.getLeaves)(e.state.mosaicNode);if(-1!==l.indexOf(t))return!1;if(s&&"secondary"===c.type){var d=l.find((function(e){return"secondary"===i[e].type}));if(d)return e.setState({mosaicNode:g(e.state.mosaicNode,d,t)}),e._persistNodes(),!0}return e.setState({mosaicNode:h(e.state.mosaicNode,t,n,a,r)}),e._persistNodes(),!0},e._onChange=function(t){e.setState({mosaicNode:t}),e._persistNodes()},e._persistNodes=f()((function(){e.props.onPersistNodes&&e.state.mosaicNode&&e.props.onPersistNodes(e.state.mosaicNode)}),2e3),e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props.editors;return l.createElement(m.a,null,(function(n){return l.createElement(u.MosaicWithoutDragDropContext,{className:"".concat(n.mosaicRootClassName," mosaic-blueprint-theme mosaic-gd-theme"),renderTile:function(e,n){var a=t[e];return a?a.noTitleBar?a.renderEditor():l.createElement(c.I18n,null,(function(e){var t=e.i18n;return l.createElement(E,{path:n,title:t._(a.title),toolbarControls:a.toolbarControls},a.renderEditor())})):(console.error("Trying to render un unknown editor: "+e),null)},value:e.state.mosaicNode,onChange:e._onChange})}))}}]),n}(l.Component)},417:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return C}));var a=n(100),r=n(392),o=n(98),i=n(77),s=n(2),c=n(2397),l=n(2395),u=n(355),d=n.n(u),m=n(401),p=n.n(m),f=n(160),h=n(257),g=n(96),b=n(128),v=n(97),E=function(){var e=s.useState(null),t=Object(o.a)(e,2),n=t[0],a=t[1],i=s.useState((function(){return new Set})),c=Object(o.a)(i,2),l=c[0],u=c[1];return{chosenCategory:n,setChosenCategory:s.useCallback((function(e){if(e){var t,n=new Set,o=Object(r.a)(l.keys());try{for(o.s();!(t=o.n()).done;){var i=t.value;e.node.allChildrenTags.includes(i)&&n.add(i)}}catch(s){o.e(s)}finally{o.f()}u(n),a(e)}else a(null)}),[l]),chosenFilters:l,addFilter:function(e){var t=new Set(l);t.add(e),u(t)},removeFilter:function(e){var t=new Set(l);t.delete(e),u(t)}}},y=function(e){return e.map((function(e){return e.name})).join(";-/>")},j=function e(t){var n=t.tagsTreeNodes,r=t.onChoose,o=t.parentNodes;return n.length?n.map((function(t){var n=[].concat(Object(a.a)(o),[t]);return s.createElement(l.a,{nodeId:y(n),label:t.name,key:t.name,onLabelClick:function(){return r({node:t,parentNodes:o})},collapseIcon:t.children.length?s.createElement(d.a,null):null,expandIcon:t.children.length?s.createElement(p.a,null):null},s.createElement(e,{tagsTreeNodes:t.children,parentNodes:n,onChoose:r}))})):null},O=s.memo((function(e){var t=e.chosenCategory,n=e.setChosenCategory,r=e.allFilters;return s.createElement(c.a,{selected:t?y([].concat(Object(a.a)(t.parentNodes),[t.node])):"",onNodeSelect:function(){}},s.createElement(l.a,{nodeId:"",label:s.createElement(i.Trans,{id:"All assets"}),onLabelClick:function(){return n(null)}}),s.createElement(j,{tagsTreeNodes:r.tagsTree,onChoose:n,parentNodes:[]}))})),C=function(e){var t=e.filtersState,n=e.allFilters,a=e.error;if(!n)return s.createElement(b.a,null);if(a)return null;var r=t.chosenCategory?t.chosenCategory.node.allChildrenTags:n.defaultTags;return s.createElement(s.Fragment,null,s.createElement(f.a,null,"Categories"),s.createElement(O,{chosenCategory:t.chosenCategory,setChosenCategory:t.setChosenCategory,allFilters:n}),s.createElement(f.a,null,"Filters"),s.createElement(g.a,null,r?r.length?r.map((function(e){return s.createElement(h.a,{key:e,label:(n=e,n?n[0].toUpperCase()+n.substr(1):""),checked:t.chosenFilters.has(e),onCheck:function(){t.chosenFilters.has(e)?t.removeFilter(e):t.addFilter(e)}});var n})):s.createElement(v.a,null,s.createElement(i.Trans,{id:"No filters in this category."})):s.createElement(v.a,null,s.createElement(i.Trans,{id:"Choose a category to display filters"}))))}},418:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(6),r=n(12),o=e.gd,i=function(){function e(){Object(a.a)(this,e),this.selection=[]}return Object(r.a)(e,[{key:"hasSelectedInstances",value:function(){return!!this.getSelectedInstances().length}},{key:"getSelectedInstances",value:function(){return this.selection}},{key:"isInstanceSelected",value:function(e){for(var t=0;t<this.selection.length;t++)if(o.compare(this.selection[t],e))return!0;return!1}},{key:"clearSelection",value:function(){this.selection.length=0}},{key:"selectInstance",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.isInstanceSelected(e)?t&&this.unselectInstance(e):(t||this.clearSelection(),n&&!n[e.getLayer()]||this.selection.push(e))}},{key:"selectInstances",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t||this.clearSelection(),e.forEach((function(e){return n.selectInstance(e,!0,a)}))}},{key:"unselectInstance",value:function(e){if(this.isInstanceSelected(e)){for(var t=this.selection.length-1;t>=-1&&this.selection[t].ptr!==e.ptr;)--t;this.selection.splice(t,1)}}}]),e}()}).call(this,n(1))},419:function(e,t,n){"use strict";(function(e){var a=n(1841),r=n(1842),o=n(1843),i=n(1844),s=n(1864),c=n(1865),l=n(1866),u=n(1867),d=e.gd;t.a={getEditorConfiguration(e){return this.editorConfigurations[e]||console.warn("Object with type ".concat(e," has no editor configuration registered. Please use registerEditorConfiguration to register your editor.")),this.editorConfigurations[e]},registerEditorConfiguration:function(e,t){t.component?t.createNewObject?t.castToObjectType?this.editorConfigurations.hasOwnProperty(e)?console.warn('Tried to register editor configuration for object "'.concat(e,'", but an editor configuration already exists.')):(console.info('Properly registered editor configuration for object "'.concat(e,'".')),this.editorConfigurations[e]=t):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "castToObjectType" property is not defined.')):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "createNewObject" property is not defined.')):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "component" property is not defined.'))},getDefaultObjectJsImplementationPropertiesEditor:e=>({component:u.a,createNewObject:function(e){return d.asObjectJsImplementation(e).clone().release()},castToObjectType:function(e){return d.asObjectJsImplementation(e)},helpPagePath:e.helpPagePath}),editorConfigurations:{Sprite:{component:i.a,createNewObject:function(){return new d.SpriteObject("")},castToObjectType:function(e){return d.asSpriteObject(e)},helpPagePath:"/objects/sprite"},"TiledSpriteObject::TiledSprite":{component:r.a,createNewObject:function(){return new d.TiledSpriteObject("")},castToObjectType:function(e){return d.asTiledSpriteObject(e)},helpPagePath:"/objects/tiled_sprite"},"PanelSpriteObject::PanelSprite":{component:o.a,createNewObject:function(){return new d.PanelSpriteObject("")},castToObjectType:function(e){return d.asPanelSpriteObject(e)},helpPagePath:"/objects/panel_sprite"},"TextObject::Text":{component:a.a,createNewObject:function(){return new d.TextObject("")},castToObjectType:function(e){return d.asTextObject(e)},helpPagePath:"/objects/text"},"PrimitiveDrawing::Drawer":{component:c.a,createNewObject:function(){return new d.ShapePainterObject("")},castToObjectType:function(e){return d.asShapePainterObject(e)},helpPagePath:"/objects/shape_painter"},"TextEntryObject::TextEntry":{component:s.a,createNewObject:function(){return new d.TextEntryObject("")},castToObjectType:function(e){return d.asTextEntryObject(e)},helpPagePath:"/objects/text_entry"},"ParticleSystem::ParticleEmitter":{component:l.a,createNewObject:function(){return new d.ParticleEmitterObject("")},castToObjectType:function(e){return d.asParticleEmitterObject(e)},helpPagePath:"/objects/particles_emitter"},"SkeletonObject::Skeleton":{component:u.a,createNewObject:function(){return new d.SkeletonObject("")},castToObjectType:function(e){return d.castObject(e,d.SkeletonObject)},helpPagePath:"/objects/skeleton"}}}}).call(this,n(1))},424:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(178),r=n.n(a),o=n(26),i=function(){return[{planId:"gdevelop_pro",name:"GDevelop Pro",monthlyPriceInEuros:7,smallDescription:{id:"Ideal for advanced game makers"},descriptionBullets:[{message:{id:"Package your game for Android up to 70 times a day (every 24 hours)."}},{message:{id:"One-click packaging for Windows, macOS and Linux up to 70 times a day (every 24 hours)."}},{message:{id:"Use Live Preview over Wifi to quickly test your game on mobiles and tablets."},isLocalAppOnly:!0},{message:{id:"Use the Debugger to find and solve issues in your games."},isLocalAppOnly:!0},{message:{id:"Immerse your players by removing GDevelop logo when the game loads."}}],extraDescription:{id:"You'll also have access to online packaging for iOS or other services when they are released."}},{planId:"gdevelop_indie",name:"GDevelop Indie",monthlyPriceInEuros:2,smallDescription:{id:"Ideal for beginners"},descriptionBullets:[{message:{id:"Package your game for Android up to 10 times a day (every 24 hours)."}},{message:{id:"One-click packaging for Windows, macOS and Linux up to 10 times a day (every 24 hours)."}},{message:{id:"Use Live Preview over Wifi to quickly test your game on mobiles and tablets."},isLocalAppOnly:!0},{message:{id:"Use the Debugger to find and solve issues in your games."},isLocalAppOnly:!0},{message:{id:"Immerse your players by removing GDevelop logo when the game loads"}}],extraDescription:{id:"You'll also have access to online packaging for iOS or other services when they are released."}},{planId:null,name:"No subscription",monthlyPriceInEuros:0,descriptionBullets:[{message:{id:"You can use GDevelop for free! Online packaging for Android, Windows, macOS and Linux is limited to twice a day (every 24 hours) to avoid overloading the services."}}]}]},s=function(e,t){return e().then((function(e){return r.a.get("".concat(o.i.baseUrl,"/usage"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},c=function(e,t){return e().then((function(e){return r.a.get("".concat(o.i.baseUrl,"/limits"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data.limits}))},l=function(e,t){return e().then((function(e){return r.a.get("".concat(o.i.baseUrl,"/subscription-v2"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},u=function(e,t,n){return e().then((function(e){return r.a.post("".concat(o.i.baseUrl,"/subscription-v2"),n,{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},d=function(e){return r.a.post("".concat(o.i.baseUrl,"/upload-options/signed-url"),e).then((function(e){return e.data}))},m=function(e,t,n){return"".concat(o.i.baseUrl,"/subscription-v2/redirect-to-checkout?planId=").concat(encodeURIComponent(e),"&clientReferenceId=").concat(encodeURIComponent(t),"&customerEmail=").concat(encodeURIComponent(n))}},426:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(207),l=n(83),u=n(102),d=n(139),m=n(99),p=n(104),f=n(129),h={itemName:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},textField:{top:m.c}},g=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this;!e.editingName&&this.props.editingName&&setTimeout((function(){t.textField&&t.textField.focus()}),100)}},{key:"render",value:function(){var e=this,t=this.props,n=t.item,a=t.itemName,r=t.isBold,o=t.selected,i=t.getThumbnail,c=t.errorStatus,g=t.onEdit,b=t.onItemSelected,v=t.hideMenuButton,E=t.scaleUpItemIconWhenSelected,y=t.connectIconDragSource;return s.createElement(p.a,null,(function(t){var p=e.props.editingName?s.createElement(m.b,{id:"rename-item-field",margin:"none",ref:function(t){return e.textField=t},defaultValue:a,onBlur:function(t){return e.props.onRename(t.currentTarget.value)},onKeyPress:function(t){Object(f.e)(t)&&e.textField&&e.textField.blur()},fullWidth:!0,style:h.textField}):s.createElement("div",{style:Object(l.a)(Object(l.a)({},h.itemName),{},{color:o?t.listItem.selectedTextColor:void 0,fontStyle:r?"italic":void 0,fontWeight:r?"bold":"normal"})},a),j={borderBottom:"1px solid ".concat(t.listItem.separatorColor),backgroundColor:o?""===c?t.listItem.selectedBackgroundColor:"error"===c?t.listItem.selectedErrorBackgroundColor:t.listItem.selectedWarningBackgroundColor:void 0,color:""===c?void 0:"error"===c?t.listItem.errorTextColor:t.listItem.warningTextColor},O=i?s.createElement(d.a,{iconSize:24,src:i(),cssAnimation:E&&o?"scale-and-jiggle 0.8s forwards":""}):null;return s.createElement(u.b,{style:Object(l.a)({},j),primaryText:p,leftIcon:y&&O?y(s.createElement("div",null,O)):O,displayMenuButton:!v,rightIconColor:o?t.listItem.selectedRightIconColor:t.listItem.rightIconColor,buildMenuTemplate:e.props.buildMenuTemplate,onClick:function(){b&&(e.props.editingName||b(o?null:n))},onDoubleClick:function(t){0===t.button&&g&&(e.props.editingName||(b(null),g(n)))}})}))}}]),n}(s.Component),b=n(465),v=n(771),E={borderTop:"2px solid #18dcf2",height:0,marginTop:"-1px",marginBottom:"-1px",width:"100%",boxSizing:"border-box"};function y(e){var t=e.canDrop;return s.createElement(p.a,null,(function(e){return s.createElement("div",{style:Object(l.a)(Object(l.a)({},E),{},{borderColor:t?e.listItem.selectedBackgroundColor:e.listItem.selectedErrorBackgroundColor})})}))}var j=n(163),O=n(210);n.d(t,"a",(function(){return C}));var C=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).DragSourceAndDropTarget=Object(v.a)(e.props.reactDndType),e}return Object(r.a)(n,[{key:"forceUpdateGrid",value:function(){this._list&&this._list.forceUpdateGrid()}},{key:"_renderItemRow",value:function(e,t,n,a){var r=this,o=this.props,i=o.selectedItems,c=o.getItemThumbnail,l=o.erroredItems,u=o.isItemBold,d=o.onEditItem,m=o.renamedItem,p=o.getItemName,f=o.scaleUpItemIconWhenSelected,h=m===e,b=p(e);return s.createElement(g,{item:e,itemName:b,isBold:!!u&&u(e),onRename:function(t){return r.props.onRename(e,t)},editingName:h,getThumbnail:c?function(){return c(e)}:void 0,selected:-1!==i.indexOf(e),onItemSelected:this.props.onItemSelected,errorStatus:l&&l[b]||"",buildMenuTemplate:function(){return r.props.buildMenuTemplate(e,t)},onEdit:d,hideMenuButton:"small"===n,scaleUpItemIconWhenSelected:f,connectIconDragSource:a||null})}},{key:"render",value:function(){var e=this,t=this.props,n=t.height,a=t.width,r=t.fullList,o=t.addNewItemLabel,i=t.renamedItem,l=t.getItemThumbnail,d=t.onAddNewItem,m=t.onMoveSelectionToItem,p=t.canMoveSelectionToItem,f=t.selectedItems,h=this.DragSourceAndDropTarget;return s.createElement(j.a,null,(function(t){return s.createElement(O.a,null,(function(g){return s.createElement(c.d,{ref:function(t){return e._list=t},height:n,rowCount:r.length+(d?1:0),rowHeight:l?u.c:u.d,rowRenderer:function(n){var a=n.index,c=n.key,l=n.style;if(a>=r.length)return s.createElement("div",{style:l,key:c},s.createElement(b.a,{disabled:!0,onClick:d,primaryText:o}));var u=r[a],v=i===u,E=-1!==f.indexOf(u);return s.createElement("div",{style:l,key:c},s.createElement(h,{beginDrag:function(){return e.props.onItemSelected(u),{}},canDrag:function(){return!v},canDrop:function(){return!p||p(u)},drop:function(){m(u)}},(function(n){var r=n.connectDragSource,o=n.connectDropTarget,i=n.isOver,c=n.canDrop,l="touch"===g&&!E,d=o(s.createElement("div",null,i&&s.createElement(y,{canDrop:c}),e._renderItemRow(u,a,t,l?r:null)));return d?l?d:r(d):null})))},width:a})}))}))}}]),n}(s.Component)},427:function(e,t,n){"use strict";var a=n(2),r=n(114),o=n(247),i=n(6),s=n(12),c=n(23),l=n(22),u=n(727),d=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state=a._loadFrom(e),a}return Object(s.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.resourceName===this.props.resourceName&&e.project===this.props.project||this.setState(this._loadFrom(e))}},{key:"_loadFrom",value:function(e){var t=e.project,n=e.resourceName,a=t.getResourcesManager();return{resourceKind:a.hasResource(n)?a.getResource(n).getKind():null}}},{key:"render",value:function(){switch(this.state.resourceKind){case"image":return a.createElement(u.a,{project:this.props.project,resourceName:this.props.resourceName,resourcesLoader:this.props.resourcesLoader,children:this.props.children,style:this.props.style,onSize:this.props.onSize,selectable:this.props.selectable,selected:this.props.selected,onSelect:this.props.onSelect,onContextMenu:this.props.onContextMenu});default:return null}}}]),n}(a.Component),m={container:{flex:1,display:"flex",alignItems:"flex-end"},selectorContainer:{flex:1},resourceThumbnail:{marginLeft:10,marginBottom:4}};t.a=function(e){var t=e.project,n=e.resourceSources,i=e.onChooseResource,s=e.resourceExternalEditors,c=e.resourceKind,l=e.resourceName,u=e.onChange,p=e.floatingLabelText,f=e.hintText;return a.createElement("div",{style:m.container},a.createElement("div",{style:m.selectorContainer},a.createElement(o.a,{project:t,resourceSources:n,onChooseResource:i,resourceExternalEditors:s,resourcesLoader:r.a,resourceKind:c,fullWidth:!0,initialResourceName:l,onChange:u,floatingLabelText:p,hintText:f})),a.createElement(d,{resourceName:l,resourcesLoader:r.a,project:t,style:m.resourceThumbnail}))}},463:function(e,t,n){"use strict";t.a={QUIT_APP:"CmdOrCtrl+Shift+KeyQ",OPEN_PROJECT_MANAGER:"CmdOrCtrl+Alt+KeyE",LAUNCH_NEW_PREVIEW:"F4",LAUNCH_DEBUG_PREVIEW:"F6",HOT_RELOAD_PREVIEW:"F5",LAUNCH_NETWORK_PREVIEW:"F8",OPEN_START_PAGE:"",CREATE_NEW_PROJECT:"CmdOrCtrl+Alt+KeyN",OPEN_PROJECT:"CmdOrCtrl+KeyO",SAVE_PROJECT:"CmdOrCtrl+KeyS",SAVE_PROJECT_AS:"CmdOrCtrl+Shift+KeyS",CLOSE_PROJECT:"CmdOrCtrl+KeyQ",EXPORT_GAME:"CmdOrCtrl+Shift+KeyE",OPEN_RECENT_PROJECT:"",OPEN_COMMAND_PALETTE:"CmdOrCtrl+KeyP",OPEN_PROJECT_PROPERTIES:"",OPEN_PROJECT_VARIABLES:"",OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG:"",OPEN_PROJECT_RESOURCES:"",OPEN_LAYOUT:"Alt+KeyS",OPEN_EXTERNAL_EVENTS:"Alt+KeyV",OPEN_EXTERNAL_LAYOUT:"Alt+KeyW",OPEN_EXTENSION:"Alt+KeyE",OPEN_SCENE_PROPERTIES:"KeyS",OPEN_SCENE_VARIABLES:"KeyV",OPEN_OBJECTS_PANEL:"KeyO",OPEN_OBJECT_GROUPS_PANEL:"KeyG",OPEN_PROPERTIES_PANEL:"KeyP",TOGGLE_INSTANCES_PANEL:"KeyI",TOGGLE_LAYERS_PANEL:"KeyL",TOGGLE_WINDOW_MASK:"KeyM",TOGGLE_GRID:"Alt+KeyG",OPEN_SETUP_GRID:"CmdOrCtrl+Shift+KeyG",EDIT_LAYER_EFFECTS:"KeyE",EDIT_LAYER:"KeyT",EDIT_OBJECT:"Shift+KeyE",EDIT_OBJECT_VARIABLES:"Shift+KeyV",EDIT_OBJECT_GROUP:"Shift+KeyG",ADD_STANDARD_EVENT:"Shift+KeyA",ADD_SUBEVENT:"Shift+KeyD",ADD_COMMENT_EVENT:"",CHOOSE_AND_ADD_EVENT:"Shift+KeyW",OPEN_EXTENSION_SETTINGS:""}},465:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var a=n(2),r=n.n(a),o=n(102),i=n(198),s=function(e){return r.a.createElement(o.b,{onClick:e.onClick,primaryText:r.a.createElement(i.a,null,e.primaryText),displayAddIcon:!0})},c=function(e){return r.a.createElement(o.b,{onClick:e.onClick,primaryText:r.a.createElement(i.a,null,e.primaryText),displaySearchIcon:!0})}},467:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var a=n(83),r=n(2),o=n(221),i={display:"flex"},s={display:"flex",alignItems:"center",paddingLeft:4,paddingRight:4},c=function(e){var t=r.useContext(o.a);return r.createElement("div",{style:Object(a.a)(Object(a.a)({},i),{},{backgroundColor:t.list.itemsBackgroundColor})},e.children)},l=function(e){return r.createElement("div",{style:Object(a.a)(Object(a.a)({},s),{},{flex:e.expand?1:void 0},e.style)},e.children)}},471:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(77),r=n(2),o=n(87),i=n(649),s=n.n(i),c=n(1130),l=n.n(c);function u(e){var t=e.launchProjectDataOnlyPreview,n=e.hasPreviewsRunning;return r.createElement(o.a,{icon:n?r.createElement(l.a,null):r.createElement(s.a,null),label:n?r.createElement(a.Trans,{id:"Apply changes to preview"}):r.createElement(a.Trans,{id:"Run a preview"}),onClick:function(){return t()}})}},472:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(89),u=n(87),d=n(90),m=n(1131),p=n.n(m),f=n(1132),h=n.n(f),g=n(212),b=n(79),v=n(9),E=n(85),y={icon:{width:40,height:40,marginRight:20},iconText:{flex:1}},j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={open:!1},e._closeDialog=function(){Object(v.o)(),e.setState({open:!1})},e}return Object(r.a)(n,[{key:"checkHasSubscription",value:function(){var e=this.props,t=e.userProfile,n=e.mode,a=e.id;if(t.subscription&&!!t.subscription.planId)return this.setState({open:!1}),!0;return this.setState({open:!0}),Object(v.n)({mode:n,id:a}),!1}},{key:"render",value:function(){var e=this,t=this.state.open,n=this.props,a=n.onChangeSubscription,r=n.mode;return t?c.createElement(d.a,{actions:[a&&c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Get a subscription or login"}),key:"subscribe",primary:!0,onClick:function(){e.setState({open:!1}),a()}})],secondaryActions:[c.createElement(u.a,{label:"try"===r?c.createElement(s.Trans,{id:"Continue anyway"}):c.createElement(s.Trans,{id:"Not now, thanks!"}),key:"close",primary:!1,onClick:this._closeDialog})],cannotBeDismissed:!1,onRequestClose:this._closeDialog,open:t,title:this.props.title},c.createElement(b.a,{noMargin:!0},c.createElement(b.b,{noMargin:!0,alignItems:"center"},"try"===r?c.createElement(E.a,null,c.createElement(s.Trans,{id:"You can try this feature, but if you're using it regularly, we ask you to get a subscription to GDevelop."})):c.createElement(E.a,null,c.createElement(s.Trans,{id:"To use this feature, we ask you to get a subscription to GDevelop."}))),c.createElement(b.b,{noMargin:!0,alignItems:"center"},c.createElement(p.a,{style:y.icon}),c.createElement(E.a,{style:y.iconText},c.createElement(s.Trans,{id:"Having a subscription allows you to use the one-click export for Android, Windows, macOS and Linux, launch live previews over wifi, disable the GDevelop splashscreen during loading and more!"}))),c.createElement(b.b,{noMargin:!0,alignItems:"center"},c.createElement(h.a,{style:y.icon}),c.createElement(E.a,{style:y.iconText},c.createElement(s.Trans,{id:"You're also supporting the development of GDevelop, an open-source software! In the future, more online services will be available for users with a subscription."}))),c.createElement(b.c,null),c.createElement(b.c,null),c.createElement(b.c,null),c.createElement(b.c,null),c.createElement(E.a,{align:"right"},c.createElement("b",null,c.createElement(s.Trans,{id:"Thanks!"}))))):null}}]),n}(c.Component),O=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._dialog=null,e}return Object(r.a)(n,[{key:"checkHasSubscription",value:function(){return!!this._dialog&&this._dialog.checkHasSubscription()}},{key:"render",value:function(){var e=this;return c.createElement(g.a.Consumer,null,(function(t){return c.createElement(j,{userProfile:t,ref:function(t){return e._dialog=t},onChangeSubscription:e.props.onChangeSubscription,id:e.props.id,title:e.props.title,mode:e.props.mode})}))}}]),n}(c.Component);t.a=O},496:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var a=n(120),r=n.n(a),o=n(133),i=n(98),s=n(77),c=n(2),l=n(497),u=n(212),d=n(126),m=n(79),p=n(96),f=n(24),h=n(236),g=n(128),b=n(89),v=n(85),E=n(498),y=n(501),j=n.n(y),O=n(500),C=n.n(O),x=n(914),T=function(e){var t=e.project,n=e.hideIfRegistered,a=e.hideLoader,y=e.onGameRegistered,O=c.useContext(u.a),T=O.authenticated,S=O.onLogin,k=O.onCreateAccount,w=O.getAuthorizationHeader,N=O.profile,_=c.useState(null),P=Object(i.a)(_,2),I=P[0],R=P[1],B=c.useState(null),M=Object(i.a)(B,2),F=M[0],A=M[1],L=c.useState(null),D=Object(i.a)(L,2),U=D[0],V=D[1],W=c.useState(!1),G=Object(i.a)(W,2),z=G[0],H=G[1],K=c.useState(!1),Y=Object(i.a)(K,2),X=Y[0],J=Y[1],q=c.useState("details"),Z=Object(i.a)(q,2),Q=Z[0],$=Z[1],ee=c.useCallback(Object(o.a)(r.a.mark((function e(){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N&&t){e.next=2;break}return e.abrupt("return");case 2:return n=N.uid,R(null),A(null),e.prev=5,e.next=8,Object(E.b)(w,n,t.getProjectUuid());case 8:a=e.sent,V(a),e.next=25;break;case 12:if(e.prev=12,e.t0=e.catch(5),console.log(e.t0),!e.t0.response){e.next=24;break}if(403!==e.t0.response.status){e.next=21;break}return A("unauthorized"),e.abrupt("return");case 21:if(404!==e.t0.response.status){e.next=24;break}return A("not-existing"),e.abrupt("return");case 24:R(e.t0);case 25:case"end":return e.stop()}}),e,null,[[5,12]])}))),[t,w,N]),te=c.useCallback(Object(o.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N&&t){e.next=2;break}return e.abrupt("return");case 2:return n=N.uid,H(!0),e.prev=4,e.next=7,Object(E.d)(w,n,{gameId:t.getProjectUuid(),authorName:t.getAuthor()||"Unspecified author",gameName:t.getName()||"Untitled game"});case 7:ee(),y&&y(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Unable to register the game",e.t0),Object(f.a)({rawError:e.t0,errorId:"register-game-error",message:"Unable to register the game.  Verify your internet connection or try again later."});case 15:H(!1);case 16:case"end":return e.stop()}}),e,null,[[4,11]])}))),[w,N,t,ee,y]);return c.useEffect((function(){ee()}),[ee]),T?t?U?n?null:c.createElement(p.a,{noMargin:!0},c.createElement(v.a,null,c.createElement(s.Trans,{id:"Your project is registered online. This allows you to get access to metrics collected anonymously, like the number of daily players and retention of the players after a few days."})),c.createElement(m.b,{justifyContent:"center"},c.createElement(b.a,{primary:!0,icon:c.createElement(j.a,null),label:c.createElement(s.Trans,{id:"Analytics"}),onClick:function(){$("analytics"),J(!0)}}),c.createElement(m.c,null),c.createElement(b.a,{primary:!0,icon:c.createElement(C.a,null),label:c.createElement(s.Trans,{id:"Monetization"}),onClick:function(){$("monetization"),J(!0)}})),X&&c.createElement(x.a,{game:U,project:t,initialTab:Q,onClose:function(){J(!1)},onGameUpdated:function(e){V(e)},onGameDeleted:function(){J(!1),ee()}})):"unauthorized"===F?c.createElement(d.a,{kind:"error"},c.createElement(s.Trans,{id:"This project is registered online but you don't have access to it. Ask the original owner of the game to share it with you to get access to the game metrics."})):"not-existing"===F?c.createElement(d.a,{kind:"info",renderRightButton:function(){return c.createElement(b.a,{label:c.createElement(s.Trans,{id:"Register the project"}),disabled:z,primary:!0,onClick:function(){te()}})}},c.createElement(s.Trans,{id:"This project is not registered online. Register it now to get access to metrics collected anonymously, like the number of daily players and retention of the players after a few days."})):I?c.createElement(h.a,{onRetry:function(){ee()}},c.createElement(s.Trans,{id:"Can't check if the game is registered online."})," ",c.createElement(s.Trans,{id:"Verify your internet connection or try again later."})):a?null:c.createElement(g.a,null):null:c.createElement(l.a,{onLogin:S,onCreateAccount:k})}},497:function(e,t,n){"use strict";var a=n(77),r=n(2),o=n(87),i=n(89),s=n(79),c=n(85),l=n(198);t.a=function(e){var t=e.message,n=e.onLogin,u=e.onCreateAccount;return r.createElement(s.a,{noMargin:!0},r.createElement(s.b,null,r.createElement(c.a,null,t||r.createElement(a.Trans,{id:"You are not connected. Create an account to build your game for Android, Windows, macOS and Linux in one click, and get access to metrics for your game."}))),r.createElement(s.b,{justifyContent:"center",alignItems:"baseline"},r.createElement(i.a,{label:r.createElement(a.Trans,{id:"Create my account"}),onClick:u,primary:!0}),r.createElement(s.c,null),r.createElement(s.c,null),r.createElement(l.a,null,"or"),r.createElement(s.c,null),r.createElement(o.a,{label:r.createElement(a.Trans,{id:"Login"}),onClick:n})))}},498:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u}));var a=n(178),r=n.n(a),o=n(26),i=function(e,t,n){var a=n.gameId,i=n.gameName,s=n.authorName;return e().then((function(e){return r.a.post("".concat(o.f.baseUrl,"/game/").concat(a),{gameName:i,authorName:s},{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},s=function(e,t,n){var a=n.gameId,i=n.gameName,s=n.authorName;return e().then((function(e){return r.a.patch("".concat(o.f.baseUrl,"/game/").concat(a),{gameName:i,authorName:s},{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},c=function(e,t,n){return e().then((function(e){return r.a.get("".concat(o.f.baseUrl,"/game/").concat(n),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},l=function(e,t,n){return e().then((function(e){return r.a.delete("".concat(o.f.baseUrl,"/game/").concat(n),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},u=function(e,t){return e().then((function(e){return r.a.get("".concat(o.f.baseUrl,"/game"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))}},502:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}));var a=n(178),r=n.n(a),o=n(26),i=n(702),s=n.n(i),c=function(e,t){return!t.gdevelopVersion||s()(e,t.gdevelopVersion,{includePrerelease:!0})},l=function(e){var t=e.trim();return 0===t.indexOf("https://")?t:"".concat(o.d.baseUrl,"/").concat(t)},u=function(){return r.a.get("".concat(o.d.baseUrl,"/extensions-registry.json")).then((function(e){return e.data}))},d=function(e){return r.a.get(l(e.headerUrl)).then((function(e){return e.data}))},m=function(e){return r.a.get(l(e.url)).then((function(e){return e.data}))}},505:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return _}));var a=n(100),r=n(120),o=n.n(r),i=n(133),s=n(378),c=n(130),l=n(506),u=n(131),d=n(169),m=n.n(d),p=n(706),f=n.n(p),h=n(719),g=n.n(h),b=n(502),v=n(92),E=e.gd,y=function(e){var t=new E.MapStringString;for(var n in e)t.set(n,e[n]);return t},j=function(e){var t=e.trim();if(!t)return"UnnamedObject";var n,a=(n=t)?n.replace(/^[^A-Za-z0-9]*|[^A-Za-z0-9]*$/g,"$").replace(/[^A-Za-z0-9]+/g,"$").replace(/([a-z])([A-Z])/g,(function(e,t,n){return t+"$"+n})).toLowerCase().replace(/(\$)(\w?)/g,(function(e,t,n){return n.toUpperCase()})):"";return a[0]>="0"&&a[0]<="9"&&(a="_"+a),a},O=function(e,t,n){var a=t.name;if(!n[a]){var r=t.file,o=t.origin?t.origin.name:"",i=t.origin?t.origin.identifier:"",s=o&&i?e.getResourceNameWithOrigin(o,i):"",l=e.getResourceNameWithFile(r);if(s)n[a]=s;else if(l)n[a]=l;else{var d=null;if("image"!==t.kind)throw new Error('Resource of kind "'.concat(t.kind,'" is not supported.'));d=new E.ImageResource,Object(u.c)(d,t);var m=Object(c.a)(a,(function(t){return e.hasResource(t)}));d.setName(m),d.setOrigin(o,i),e.addResource(d),d.delete(),n[a]=m}}},C=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,a,r,i,s,d,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.asset,a=t.project,r=t.events,i=t.objectsContainer,s={},d={},m=[],n.objectAssets.forEach((function(e){e.resources.forEach((function(e){}))})),n.objectAssets.forEach((function(e){var t=e.object.type;if(!t)throw new Error("An object has no type specified");var n=j(e.object.name),r=Object(c.a)(n,(function(e){return i.hasObjectNamed(e)})),o=i.insertNewObject(a,t,r,i.getObjectsCount());s[n]=r,Object(u.c)(o,e.object,"unserializeFrom",a),o.setName(r),e.resources.forEach((function(e){O(a.getResourcesManager(),e,d)}));var p=y(d),f=new E.ResourcesRenamer(p);p.delete(),o.exposeResources(f),f.delete(),e.customization.forEach((function(e){if(e.behaviorName){var t=e.behaviorName,n=e.behaviorType,r=E.JsPlatform.get().getBehavior(n);if(Object(l.a)(E,r))throw new Error("Behavior with type "+n+" could not be found.");var i=o.addNewBehavior(a,n,t);e.properties.forEach((function(e){r.updateProperty(i.getContent(),e.name,e.defaultValue)}))}})),m.push(o)})),n.objectAssets.forEach((function(e){var t=e.object.name,n=s[t];e.customization.forEach((function(e){if(e.events){var t=new E.GroupEvent;for(var o in t.setName(n),Object(u.c)(t.getSubEvents(),e.events,"unserializeFrom",a),e.parameters.forEach((function(e){E.EventsRefactorer.replaceStringInEvents(a,i,t.getSubEvents(),e.name,e.defaultValue,!0,!0,!0)})),s){var c=s[o];o!==c&&E.EventsRefactorer.renameObjectInEvents(a.getCurrentPlatform(),a,i,t.getSubEvents(),o,c)}r.insertEvent(t,r.getEventsCount())}}))})),e.abrupt("return",{createdObjects:m});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){return f()(m()(e.objectAssets.map((function(e){return e.customization.map((function(e){return e.behaviorName?{behaviorType:e.behaviorType,extensionName:e.extensionName,extensionVersion:e.extensionVersion}:null})).filter(Boolean)}))),(function(e){return e.behaviorType}))},T=function(e,t){var n=Object(v.mapVector)(e.asPlatform(e.JsPlatform.get()).getAllPlatformExtensions(),(function(e){return e.getName()}));return t.filter((function(e){var t=e.extensionName;return!n.includes(t)}))},S=function(e){return f()(m()(e.objectAssets.map((function(e){return m()(e.customization.map((function(e){return e.events?e.extensions:null})).filter(Boolean))}))),(function(e){return e.extensionName}))},k=function(e,t){return t.filter((function(t){var n=t.behaviorType,a=e.JsPlatform.get().getBehavior(n);return Object(l.a)(e,a)}))},w=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return",Promise.resolve([]));case 2:return e.next=4,Object(b.c)();case 4:return n=e.sent,e.next=7,Promise.all(g()(t).map((function(e){var t=n.extensionShortHeaders.find((function(t){return t.name===e}));if(!t)throw new Error("Unable to find extension "+e+" in the registry.");return Object(b.a)(t)})));case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e,t,n){return n.forEach((function(e){var n=e.name;if(!n)return Promise.reject(new Error("Malformed extension (missing name)."));var a=t.hasEventsFunctionsExtensionNamed(n)?t.getEventsFunctionsExtension(n):t.insertNewEventsFunctionsExtension(n,0);Object(u.c)(a,e,"unserializeFrom",t)})),e.loadProjectEventsFunctionsExtensions(t)},_=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,r,i,c,l,u,d,m,p,f,h,g;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.assetShortHeader,r=t.eventsFunctionsExtensionsState,i=t.project,c=t.events,l=t.objectsContainer,e.next=3,Object(s.a)(n);case 3:return u=e.sent,d=x(u),m=S(u),p=k(E,d),f=T(E,m),e.next=10,w([].concat(Object(a.a)(p.map((function(e){return e.extensionName}))),Object(a.a)(f.map((function(e){return e.extensionName})))));case 10:return h=e.sent,e.next=13,N(r,i,h);case 13:if(!k(E,d).length){e.next=16;break}throw new Error("These behaviors could not be installed: "+p.map((function(e){var t=e.extensionName,n=e.behaviorType;return"".concat(n," (").concat(t,")")})).join(", "));case 16:if(!T(E,m).length){e.next=19;break}throw new Error("These extensions could not be installed: "+f.map((function(e){return e.extensionName})).join(", "));case 19:return e.next=21,C({project:i,asset:u,events:c,objectsContainer:l});case 21:return g=e.sent,e.abrupt("return",g);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}).call(this,n(1))},506:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){return 0===e.getPointer(t)}},516:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(4),r=n.n(a);function o(e){var t=!1,n=void 0;return function(){return t||(console.info("Lazy loading ".concat(e,"...")),n=r()(e),t=!0),n}}},517:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return F}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(1475),u=n(1622),d=n(2270),m=n(1627),p=n(1628),f=n(2278),h=n(1629),g=n(1630),b=n(334),v=n(131),E=n(779),y=n(391),j=n(1631),O=n(1632),C=n(1633),x=n(1635),T=n(1636),S=n(774),k=n(113),w=n(1637),N=n(780),_=n(772),P=n(402),I=n(210),R=n(163),B=e.gd,M={container:{display:"flex",width:"100%",flexDirection:"column",flex:1,position:"relative"}},F=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._containerDiv=c.createRef(),e._keyboardShortcuts=new h.a({isActive:function(){return!e.state.inlineEditing&&!e.state.editedInstruction.instruction&&!e.state.analyzedEventsContextResult&&!e.state.serializedEventsToExtract},shortcutCallbacks:{onDelete:function(){return e.deleteSelection()},onCopy:function(){return e.copySelection()},onCut:function(){return e.cutSelection()},onPaste:function(){return e.pasteEventsOrInstructions()},onSearch:function(){return e._toggleSearchPanel()},onEscape:function(){return e._closeSearchPanel()},onUndo:function(){return e.undo()},onRedo:function(){return e.redo()}}}),e.state={history:Object(E.c)(e.props.events,{historyMaxSize:50}),editedInstruction:{isCondition:!0,instruction:null,instrsList:null,indexInList:0},editedParameter:{isCondition:!0,instruction:null,instrsList:null,parameterIndex:0},selection:Object(y.b)(),inlineEditing:!1,inlineEditingAnchorEl:null,inlineInstructionEditorAnchorEl:null,inlineEditingChangesMade:!1,analyzedEventsContextResult:null,serializedEventsToExtract:null,showSearchPanel:!1,searchResults:null,searchFocusOffset:null,allEventsMetadata:[],textEditedEvent:null},e._addStandardEvent=function(){e.addNewEvent("BuiltinCommonInstructions::Standard")},e._addCommentEvent=function(){e.addNewEvent("BuiltinCommonInstructions::Comment")},e._toggleSearchPanel=function(){e.setState((function(t){var n=!t.showSearchPanel;return n||e._eventSearcher&&e._eventSearcher.reset(),{showSearchPanel:n}}),(function(){e.state.showSearchPanel&&e._searchPanel&&e._searchPanel.focus()}))},e._closeSearchPanel=function(){e.setState({showSearchPanel:!1})},e.addSubEvents=function(){var t=e.props.project;Object(y.d)(e.state.selection).forEach((function(e){e.canHaveSubEvents()&&e.getSubEvents().insertNewEvent(t,"BuiltinCommonInstructions::Standard",e.getSubEvents().getEventsCount())})),e._saveChangesToHistory((function(){e._eventsTree&&e._eventsTree.forceEventsUpdate()}))},e._selectionCanHaveSubEvents=function(){return Object(y.d)(e.state.selection).some((function(e){return e.canHaveSubEvents()}))},e._selectionCanToggleDisabled=function(){return Object(y.d)(e.state.selection).some((function(e){return e.isExecutable()}))},e.addNewEvent=function(t,n){var a=e.props.project,r=Object(y.h)(e.state.selection),o=!1,i=[];n?i=[n]:r?("BuiltinCommonInstructions::Comment"!==t&&"BuiltinCommonInstructions::Group"!==t||(o=!0),i=Object(y.c)(e.state.selection).map((function(e){return{eventsList:e.eventsList,indexInList:o?e.indexInList-1:e.indexInList}}))):i=[{eventsList:e.props.events,indexInList:e.props.events.getEventsCount()}];var s=i.map((function(e){return e.eventsList.insertNewEvent(a,t,e.indexInList+1)}));return e._saveChangesToHistory((function(){var t=e._eventsTree;t&&t.forceEventsUpdate((function(){n||r||t.scrollToEvent(s[0])}))})),s},e.openEventTextDialog=function(){var t=Object(p.b)(Object(y.d)(e.state.selection));if(t.length){var n=t[t.length-1];e.setState({textEditedEvent:n})}},e.closeEventTextDialog=function(){e.setState({textEditedEvent:null})},e.openAddInstructionContextMenu=function(t,n){e.openInstructionEditor(n,t)},e.openInstructionEditor=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.state.editedInstruction.instruction&&(e.state.editedInstruction.instruction.delete(),console.warn("state.editedInstruction.instruction was containing an instruction - deleting it. Verify the logic handling the state in EventsSheet because that should not happen.")),e.setState({inlineInstructionEditorAnchorEl:n,editedInstruction:{instrsList:t.instrsList,isCondition:t.isCondition,instruction:t.instruction?t.instruction.clone():new B.Instruction,indexInList:void 0!==t.indexInList?t.indexInList:void 0}})},e.moveSelectionToInstruction=function(t){e.moveSelectionToInstructionsList({instrsList:t.instrsList,isCondition:t.isCondition},t.indexInList)},e.moveSelectionToInstructionsList=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=Object(y.e)(e.state.selection),r=void 0===n||null===n?t.instrsList.size():n,o=!!a.filter((function(e){return Object(T.a)(e,t.instrsList)})).length;o||(a.forEach((function(e){return t.instrsList.insert(e,r)})),e._keyboardShortcuts.shouldCloneInstances()?e._saveChangesToHistory():e.deleteSelection({deleteEvents:!1}))},e.selectEvent=function(t){var n=e._keyboardShortcuts.shouldMultiSelect();e.setState({selection:Object(y.o)(e.state.selection,t,n)},(function(){return e.updateToolbar()}))},e.openEventContextMenu=function(t,n,a){var r=e._keyboardShortcuts.shouldMultiSelect();e.setState({selection:Object(y.o)(e.state.selection,a,r)},(function(){e.updateToolbar(),e.eventContextMenu.open(t,n)}))},e.openInstructionContextMenu=function(t,n,a){var r=e._keyboardShortcuts.shouldMultiSelect();e.setState({selection:Object(y.p)(e.state.selection,a,r)},(function(){e.updateToolbar(),e.instructionContextMenu.open(t,n)}))},e.selectInstruction=function(t){var n=e._keyboardShortcuts.shouldMultiSelect();e.setState({selection:Object(y.p)(e.state.selection,t,n)},(function(){return e.updateToolbar()}))},e.openParameterEditor=function(t){e.setState({editedParameter:t,inlineEditing:!0,inlineEditingAnchorEl:t.domEvent?t.domEvent.currentTarget:null,inlineEditingChangesMade:!1})},e.closeParameterEditor=function(){e.state.inlineEditingChangesMade&&e._saveChangesToHistory(),e.state.inlineEditingAnchorEl&&e.state.inlineEditingAnchorEl.focus(),e.setState({inlineEditing:!1,inlineEditingAnchorEl:null,inlineEditingChangesMade:!1})},e.toggleDisabled=function(){Object(y.d)(e.state.selection).forEach((function(e){return e.setDisabled(!e.isDisabled())})),e._saveChangesToHistory((function(){e._eventsTree&&e._eventsTree.forceEventsUpdate()}))},e.deleteSelection=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.deleteInstructions,a=void 0===n||n,r=t.deleteEvents,o=void 0===r||r,i=e.props.events,s=new B.EventsRemover;o&&Object(y.d)(e.state.selection).forEach((function(e){return s.addEventToRemove(e)})),a&&Object(y.e)(e.state.selection).forEach((function(e){return s.addInstructionToRemove(e)})),s.launch(i),e._eventsTree&&e._eventsTree.forceEventsUpdate(),e.setState({selection:Object(y.a)(),inlineEditing:!1,inlineEditingAnchorEl:null},(function(){e._saveChangesToHistory(),e._ensureFocused()}))},e.copySelection=function(){Object(_.a)(e.state.selection)},e.cutSelection=function(){e.copySelection(),e.deleteSelection()},e.pasteEvents=function(){Object(_.e)(e.props.project,e.state.selection)&&e._saveChangesToHistory((function(){e._eventsTree&&e._eventsTree.forceEventsUpdate()}))},e.pasteInstructions=function(){Object(_.g)(e.props.project,e.state.selection)&&e._saveChangesToHistory((function(){e._eventsTree&&e._eventsTree.forceEventsUpdate()}))},e.pasteEventsOrInstructions=function(){Object(y.h)(e.state.selection)?e.pasteEvents():(Object(y.i)(e.state.selection)||Object(y.j)(e.state.selection))&&e.pasteInstructions()},e.pasteInstructionsInInstructionsList=function(t){Object(_.f)(e.props.project,t)&&e._saveChangesToHistory((function(){e._eventsTree&&e._eventsTree.forceEventsUpdate()}))},e._invertSelectedConditions=function(){Object(y.f)(e.state.selection).forEach((function(e){e.isCondition&&e.instruction.setInverted(!e.instruction.isInverted())})),e._saveChangesToHistory((function(){e._eventsTree&&e._eventsTree.forceEventsUpdate()}))},e._saveChangesToHistory=function(t){e.setState({history:Object(E.e)(e.state.history,e.props.events)},(function(){e.updateToolbar(),t&&t()})),e._searchPanel&&e._searchPanel.markSearchResultsDirty()},e.undo=function(){if(Object(E.b)(e.state.history)){var t=e.props,n=t.events,a=t.project,r=Object(E.f)(e.state.history,n,a);e._eventsTree&&e._eventsTree.forceEventsUpdate(),e.setState({history:r,selection:Object(y.a)()},(function(){return e.updateToolbar()}))}},e.redo=function(){if(Object(E.a)(e.state.history)){var t=e.props,n=t.events,a=t.project,r=Object(E.d)(e.state.history,n,a);e._eventsTree&&e._eventsTree.forceEventsUpdate(),e.setState({history:r,selection:Object(y.a)()},(function(){return e.updateToolbar()}))}},e._openEventsContextAnalyzer=function(){var t=e.props,n=t.globalObjectsContainer,a=t.objectsContainer,r=new B.EventsContextAnalyzer(B.JsPlatform.get(),n,a),o=new B.EventsList;Object(y.d)(e.state.selection).forEach((function(e){return o.insertEvent(e,o.getEventsCount())})),r.launch(o),o.delete(),e.setState({analyzedEventsContextResult:Object(O.b)(r.getEventsContext())}),r.delete()},e._closeEventsContextAnalyzer=function(){e.setState({analyzedEventsContextResult:null})},e.extractEventsToFunction=function(){var t=new B.EventsList;Object(y.d)(e.state.selection).forEach((function(e){return t.insertEvent(e,t.getEventsCount())})),e.setState({serializedEventsToExtract:Object(v.b)(t)}),t.delete()},e.moveEventsIntoNewGroup=function(){var t=new B.EventsList;Object(y.d)(e.state.selection).forEach((function(e){return t.insertEvent(e,t.getEventsCount())})),e._replaceSelectionByGroupOfEvents(t),t.delete()},e._replaceSelectionByEventsFunction=function(t,n){var a=Object(y.c)(e.state.selection);if(a.length){var r=e.addNewEvent("BuiltinCommonInstructions::Standard",{eventsList:a[0].eventsList,indexInList:a[0].indexInList});if(r.length){var o=Object(N.b)(t,n);B.asStandardEvent(r[0]).getActions().push_back(o),o.delete(),e.deleteSelection({deleteInstructions:!1})}else console.error("A new event should have been created")}},e._replaceSelectionByGroupOfEvents=function(t){var n=Object(y.c)(e.state.selection);if(n.length){var a=e.addNewEvent("BuiltinCommonInstructions::Group",{eventsList:n[0].eventsList,indexInList:n[0].indexInList});if(a.length){var r=B.asGroupEvent(a[0]);r.setName("Grouped events"),r.setFolded(!0),r.getSubEvents().insertEvents(t,0,t.getEventsCount(),0),e.deleteSelection({deleteInstructions:!1})}else console.error("A new event should have been created")}},e._ensureEventUnfolded=function(t){var n=t();n&&e._eventsTree&&e._eventsTree.unfoldForEvent(n)},e._replaceInEvents=function(t,n){t(n),e._saveChangesToHistory((function(){e._eventsTree&&e._eventsTree.forceEventsUpdate()}))},e._searchInEvents=function(t,n){t(n,(function(){e.forceUpdate((function(){e._eventsTree&&e._eventsTree.forceEventsUpdate()}))}))},e._onEventMoved=function(){e._saveChangesToHistory()},e._renderInstructionEditorDialog=function(t){var n=e.props,a=n.project,r=n.scope,o=n.globalObjectsContainer,i=n.objectsContainer,s=e.state.inlineInstructionEditorAnchorEl?m.a:t?u.a:d.a;return e.state.editedInstruction.instruction?c.createElement(s,{project:a,scope:r,globalObjectsContainer:o,objectsContainer:i,instruction:e.state.editedInstruction.instruction,isCondition:e.state.editedInstruction.isCondition,isNewInstruction:void 0===e.state.editedInstruction.indexInList,anchorEl:e.state.inlineInstructionEditorAnchorEl,open:!0,onCancel:function(){return e.closeInstructionEditor()},onSubmit:function(){var t=e.state.editedInstruction,n=t.instrsList,a=t.instruction,r=t.indexInList;n&&a&&(void 0!==r&&null!==r?n.set(r,a):n.insert(a,n.size()),e.closeInstructionEditor(!0),Object(j.a)(n),e._eventsTree&&e._eventsTree.forceEventsUpdate())},resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors,openInstructionOrExpression:function(t,n){e.closeInstructionEditor(),e.props.openInstructionOrExpression(t,n)},canPasteInstructions:e.state.editedInstruction.isCondition?Object(_.c)():Object(_.b)(),onPasteInstructions:function(){var t=e.state.editedInstruction,n=t.instrsList,a=t.isCondition;n&&e.pasteInstructionsInInstructionsList({instrsList:n,isCondition:a})}}):void 0},e._ensureFocused=function(){if(e._containerDiv&&document){var t=e._containerDiv.current;if(document.activeElement!==t&&t){if(document.activeElement!==document.body&&t.contains(document.activeElement))return;t.focus()}}},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.setState({allEventsMetadata:Object(S.a)()})}},{key:"componentDidUpdate",value:function(e,t){this.state.history!==t.history&&this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges()}},{key:"updateToolbar",value:function(){this.props.setToolbar&&this.props.setToolbar(c.createElement(f.a,{allEventsMetadata:this.state.allEventsMetadata,onAddStandardEvent:this._addStandardEvent,onAddSubEvent:this.addSubEvents,canAddSubEvent:Object(y.h)(this.state.selection),onAddCommentEvent:this._addCommentEvent,onAddEvent:this.addNewEvent,canRemove:Object(y.l)(this.state.selection),onRemove:this.deleteSelection,canUndo:Object(E.b)(this.state.history),canRedo:Object(E.a)(this.state.history),undo:this.undo,redo:this.redo,onOpenSettings:this.props.onOpenSettings,onToggleSearchPanel:this._toggleSearchPanel}))}},{key:"closeInstructionEditor",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.state.editedInstruction.instruction;this.setState({editedInstruction:{isCondition:!0,instruction:null,instrsList:null,indexInList:0}},(function(){n&&n.delete(),t&&e._saveChangesToHistory()}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.scope,r=t.events,o=t.onOpenExternalEvents,i=t.onOpenLayout,u=t.globalObjectsContainer,d=t.objectsContainer;return n?c.createElement(I.a,null,(function(t){return c.createElement(R.a,null,(function(m){return c.createElement(k.b.Consumer,null,(function(f){var h=f.values;return c.createElement(x.a,{key:r.ptr,ref:function(t){return e._eventSearcher=t},events:r,globalObjectsContainer:u,objectsContainer:d,selection:e.state.selection},(function(f){var v=f.eventsSearchResultEvents,j=f.searchFocusOffset,x=f.searchInEvents,T=f.replaceInEvents,S=f.goToPreviousSearchResult,k=f.goToNextSearchResult;return c.createElement("div",{className:"gd-events-sheet",style:M.container,onKeyDown:e._keyboardShortcuts.onKeyDown,onKeyUp:e._keyboardShortcuts.onKeyUp,onDragOver:e._keyboardShortcuts.onDragOver,ref:e._containerDiv,tabIndex:0},c.createElement(l.a,{ref:function(t){return e._eventsTree=t},key:r.ptr,onScroll:e._ensureFocused,events:r,project:n,scope:a,globalObjectsContainer:u,objectsContainer:d,selection:e.state.selection,onInstructionClick:e.selectInstruction,onInstructionDoubleClick:e.openInstructionEditor,onInstructionContextMenu:e.openInstructionContextMenu,onAddInstructionContextMenu:e.openAddInstructionContextMenu,onAddNewInstruction:e.openInstructionEditor,onPasteInstructions:e.pasteInstructionsInInstructionsList,onMoveToInstruction:e.moveSelectionToInstruction,onMoveToInstructionsList:e.moveSelectionToInstructionsList,onParameterClick:e.openParameterEditor,onEventClick:e.selectEvent,onEventContextMenu:e.openEventContextMenu,onAddNewEvent:function(t,n){e.addNewEvent(t,{eventsList:n,indexInList:n.getEventsCount()})},onOpenExternalEvents:o,onOpenLayout:i,searchResults:v,searchFocusOffset:j,onEventMoved:e._onEventMoved,showObjectThumbnails:h.eventsSheetShowObjectThumbnails,screenType:t,windowWidth:m,eventsSheetHeight:e._containerDiv.current?e._containerDiv.current.clientHeight:0}),e.state.showSearchPanel&&c.createElement(C.a,{ref:function(t){return e._searchPanel=t},onSearchInEvents:function(t){return e._searchInEvents(x,t)},onReplaceInEvents:function(t){return e._replaceInEvents(T,t)},resultsCount:v?v.length:null,hasEventSelected:Object(y.h)(e.state.selection),onGoToPreviousSearchResult:function(){return e._ensureEventUnfolded(S)},onCloseSearchPanel:e._closeSearchPanel,onGoToNextSearchResult:function(){return e._ensureEventUnfolded(k)}}),c.createElement(g.a,{open:e.state.inlineEditing,anchorEl:e.state.inlineEditingAnchorEl,onRequestClose:e.closeParameterEditor,project:n,scope:a,globalObjectsContainer:u,objectsContainer:d,isCondition:e.state.editedParameter.isCondition,instruction:e.state.editedParameter.instruction,parameterIndex:e.state.editedParameter.parameterIndex,onChange:function(t){var n=e.state.editedParameter,a=n.instruction,r=n.parameterIndex;a&&(a.setParameter(r,t),e.setState({inlineEditingChangesMade:!0}),e._searchPanel&&e._searchPanel.markSearchResultsDirty())},resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors}),c.createElement(b.a,{ref:function(t){return e.eventContextMenu=t},buildMenuTemplate:function(t){return[{label:t._({id:"Edit"}),click:function(){return e.openEventTextDialog()},visible:Object(p.b)(Object(y.d)(e.state.selection)).length>0},{label:t._({id:"Copy"}),click:function(){return e.copySelection()},accelerator:"CmdOrCtrl+C"},{label:t._({id:"Cut"}),click:function(){return e.cutSelection()},accelerator:"CmdOrCtrl+X"},{label:t._({id:"Paste"}),click:function(){return e.pasteEvents()},enabled:Object(_.d)(),accelerator:"CmdOrCtrl+V"},{label:t._({id:"Delete"}),click:function(){return e.deleteSelection()},accelerator:"Delete"},{label:t._({id:"Toggle disabled"}),click:function(){return e.toggleDisabled()},enabled:e._selectionCanToggleDisabled()},{type:"separator"},{label:t._({id:"Add New Event Below"}),click:function(){return e.addNewEvent("BuiltinCommonInstructions::Standard")}},{label:t._({id:"Add Sub Event"}),click:function(){return e.addSubEvents()},enabled:e._selectionCanHaveSubEvents()},{label:t._({id:"Add Other"}),submenu:e.state.allEventsMetadata.map((function(t){return{label:t.fullName,click:function(){return e.addNewEvent(t.type)}}}))},{type:"separator"},{label:t._({id:"Undo"}),click:e.undo,enabled:Object(E.b)(e.state.history),accelerator:"CmdOrCtrl+Z"},{label:t._({id:"Redo"}),click:e.redo,enabled:Object(E.a)(e.state.history),accelerator:"CmdOrCtrl+Shift+Z"},{type:"separator"},{label:t._({id:"Extract Events to a Function"}),click:function(){return e.extractEventsToFunction()}},{label:t._({id:"Move Events into a Group"}),click:function(){return e.moveEventsIntoNewGroup()}},{label:t._({id:"Analyze Objects Used in this Event"}),click:e._openEventsContextAnalyzer}]}}),c.createElement(b.a,{ref:function(t){return e.instructionContextMenu=t},buildMenuTemplate:function(t){return[{label:t._({id:"Copy"}),click:function(){return e.copySelection()},accelerator:"CmdOrCtrl+C"},{label:t._({id:"Cut"}),click:function(){return e.cutSelection()},accelerator:"CmdOrCtrl+X"},{label:t._({id:"Paste"}),click:function(){return e.pasteInstructions()},enabled:Object(_.c)()||Object(_.b)(),accelerator:"CmdOrCtrl+V"},{type:"separator"},{label:t._({id:"Delete"}),click:function(){return e.deleteSelection()},accelerator:"Delete"},{type:"separator"},{label:t._({id:"Undo"}),click:e.undo,enabled:Object(E.b)(e.state.history),accelerator:"CmdOrCtrl+Z"},{label:t._({id:"Redo"}),click:e.redo,enabled:Object(E.a)(e.state.history),accelerator:"CmdOrCtrl+Shift+Z"},{label:t._({id:"Invert Condition"}),click:function(){return e._invertSelectedConditions()},visible:Object(y.k)(e.state.selection)}]}}),e._renderInstructionEditorDialog(h.useNewInstructionEditorDialog||"touch"===t),e.state.analyzedEventsContextResult&&c.createElement(O.a,{onClose:e._closeEventsContextAnalyzer,eventsContextResult:e.state.analyzedEventsContextResult}),e.state.serializedEventsToExtract&&c.createElement(w.a,{project:n,globalObjectsContainer:u,objectsContainer:d,onClose:function(){return e.setState({serializedEventsToExtract:null})},serializedEvents:e.state.serializedEventsToExtract,onCreate:function(t,n){e.props.onCreateEventsFunction(t,n),e._replaceSelectionByEventsFunction(t,n),e.setState({serializedEventsToExtract:null})}}),e.state.textEditedEvent&&c.createElement(p.a,{event:e.state.textEditedEvent,onApply:function(){e.closeEventTextDialog(),e._saveChangesToHistory()},onClose:e.closeEventTextDialog}),c.createElement(P.a,{identifier:"edit-instruction-explanation",message:c.createElement(s.Trans,{id:"Double click on a condition or action to edit it."}),touchScreenMessage:c.createElement(s.Trans,{id:"Double tap a condition or action to edit it. Long press to show more options."}),show:Object(y.i)(e.state.selection)}))}))}))}))})):null}}]),n}(c.Component)}).call(this,n(1))},521:function(e,t,n){"use strict";(function(e){n(2);var a=n(757),r=n(1554),o=n(1555),i=n(1556),s=n(1557),c=n(522),l=n(1577),u=n(1578),d=n(1579),m=n(1593),p=n(1594),f=n(1595),h=n(1596),g=n(1597),b=n(1598),v=n(1599),E=n(1600),y=n(1601),j=n(1602),O=n(1603),C=n(1604),x=n(1605),T=e.gd,S={default:a.a,mouse:i.a,object:c.a,relationalOperator:r.a,operator:o.a,yesorno:l.a,trueorfalse:u.a,expression:d.a,string:m.a,stringWithSelector:p.a,behavior:f.a,scenevar:h.a,globalvar:g.a,objectvar:b.a,layer:v.a,key:s.a,file:a.a,musicfile:E.a,soundfile:E.a,videoResource:y.a,jsonResource:j.a,color:O.a,police:a.a,joyaxis:a.a,forceMultiplier:C.a,sceneName:x.a},k={default:a.b,forceMultiplier:C.b,globalvar:g.b,scenevar:h.b,objectvar:b.b,key:s.b,mouse:i.b,object:c.b,yesorno:l.b,trueorfalse:u.b,operator:o.b,relationalOperator:r.b},w={mouse:{id:"Mouse button"},object:{id:"Object"},relationalOperator:{id:"Relational operator"},operator:{id:"Operator"},yesorno:{id:"Yes or No"},trueorfalse:{id:"True or False"},expression:{id:"Number"},string:{id:"String"},stringWithSelector:{id:"String"},behavior:{id:"Behavior"},scenevar:{id:"Scene variable"},globalvar:{id:"Global variable"},objectvar:{id:"Object variable"},layer:{id:"Layer"},key:{id:"Keyboard key"},musicfile:{id:"Audio resource"},soundfile:{id:"Audio resource"},videoResource:{id:"Video resource"},jsonResource:{id:"JSON resource"},color:{id:"Color"},forceMultiplier:{id:"Instant or permanent force"},sceneName:{id:"Scene name"}};t.a={components:S,getParameterComponent:function(e){var t=T.ParameterMetadata.isObject(e)?"object":e;return S.hasOwnProperty(t)?S[t]:S.default},renderInlineParameter:function(e){var t=e.parameterMetadata.getType(),n=T.ParameterMetadata.isObject(t)?"object":t;return(k[n]||k.default)(e)},getUserFriendlyTypeName:function(e){var t=T.ParameterMetadata.isObject(e)?"object":e;return w[t]||null}}}).call(this,n(1))},522:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(147),u=n.n(l),d=n(758),m=n(132),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var r;Object(a.a)(this,n);var o=(r=t.call(this,e)).props.parameterMetadata;return r._description=o?o.getDescription():void 0,r._longDescription=o?o.getLongDescription():void 0,r._allowedObjectType=o?o.getExtraInfo():void 0,r}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return c.createElement(d.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,value:this.props.value,onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,allowedObjectType:this._allowedObjectType,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,floatingLabelText:this._description,helperMarkdownText:this._longDescription,fullWidth:!0,errorTextIfInvalid:this._allowedObjectType?c.createElement(s.Trans,{id:"The object does not exist or can't be used here."}):c.createElement(s.Trans,{id:"Enter the name of an object."}),openOnFocus:!this.props.value,ref:function(t){return e._field=t}})}}]),n}(c.Component),f=function(e){var t=e.value,n=e.parameterMetadata,a=e.renderObjectThumbnail,r=e.MissingParameterValue;return t||n.isOptional()?c.createElement("span",{title:t,className:u()({[m.p]:!0})},a(t),t):c.createElement(r,null)}},524:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(215),c=n(107);function l(e){return function(t){Object(o.a)(s,t);var n=Object(i.a)(s);function s(t,r,o,i,l,u){var d;return Object(a.a)(this,s),(d=n.call(this,t,r,o,i,l,u))._pixiObject=new c.Sprite(c.Texture.from(e)),d._pixiContainer.addChild(d._pixiObject),d}return Object(r.a)(s,[{key:"update",value:function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this._pixiObject.rotation=this._instance.getAngle()*Math.PI/180}}],[{key:"getThumbnail",value:function(t,n,a){return e}}]),s}(s.a)}},525:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(25),r=n.n(a),o=(n(89),function(e){if(e&&e.current){var t=r.a.findDOMNode(e.current);if(t instanceof HTMLButtonElement)t.focus();else if(t instanceof HTMLElement){var n=t.getElementsByTagName("button");n&&n.length&&n[0]instanceof HTMLButtonElement&&n[0].focus()}}})},527:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(92),r=function(e,t,n){var a=t.getParametersCount();return e.filter((function(e,r){return!(r<n)&&(r<a&&!t.getParameter(r).isCodeOnly())}))},o=function(e,t,n){var a=-1,r=-1,o=e.map((function(e,n){var o=t.getParameter(n);return o.isOptional()||(a=n),e.length>0?(r=n,e):o.getDefaultValue()})),i=Math.max(a,r,0);return o.filter((function(e,a){return n<=a&&a<=i&&!t.getParameter(a).isCodeOnly()}))},i=function(e){var t=Object(a.mapVector)(e.metadata.getParameters(),(function(e){return e.getType()}));return e.scope.objectMetadata?r(t,e.metadata,1):e.scope.behaviorMetadata?r(t,e.metadata,2):r(t,e.metadata,0)},s=function(e,t){var n=e.name||"";if(e.scope.objectMetadata){var a=t[0],r=o(t,e.metadata,1).join(", ");return"".concat(a,".").concat(n,"(").concat(r,")")}if(e.scope.behaviorMetadata){var i=t[0],s=t[1],c=o(t,e.metadata,2).join(", ");return"".concat(i,".").concat(s,"::").concat(n,"(").concat(c,")")}var l=o(t,e.metadata,0).join(", ");return"".concat(n,"(").concat(l,")")}},528:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=e.gd,r=function(e){var t=e.instructionMetadata,n=e.instruction,r=e.expressionMetadata,o=e.expression,i=e.parameterIndex;if(void 0===i||null==i)return null;var s=null;if(t&&n){var c=a.ParameterMetadataTools.getObjectParameterIndexFor(t.getParameters(),i);c>=0&&c<n.getParametersCount()&&(s=n.getParameter(c))}else if(r&&o){var l=a.ParameterMetadataTools.getObjectParameterIndexFor(r.getParameters(),i);l>=0&&l<o.getParametersCount()&&(s=o.getParameter(l))}return s},o=function(e,t){var n=a.ParameterMetadataTools.getObjectParameterIndexFor(e,t);return n<0||n>=e.size()?"":e.at(n).getExtraInfo()}}).call(this,n(1))},530:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(83),r=n(98),o=n(2),i=n(270),s=n(322),c=n(396),l=e.gd,u=function(e){var t=e.instructionType,n=e.isCondition,a=e.project;return t?n?l.MetadataProvider.getConditionMetadata(a.getCurrentPlatform(),t):l.MetadataProvider.getActionMetadata(a.getCurrentPlatform(),t):null},d=function(e,t){return e.find((function(e){return e.type===t}))},m=function(e){var t=e.instruction,n=e.isCondition,l=(e.project,e.isNewInstruction),u=e.scope,m=e.globalObjectsContainer,p=e.objectsContainer,f=function(e,a){var r=Object(c.a)(Object(i.c)(n,m,p,e),u);t.getType()&&a&&(d(r,t.getType())||t.setType(""));return{chosenObjectName:e,chosenObjectInstructionsInfo:r,chosenObjectInstructionsInfoTree:Object(s.a)(r)}},h=o.useState((function(){if(!l){var e=Object(i.a)(n),a=t.getType(),r=d(e,a);if(r&&(r.scope.objectMetadata||r.scope.behaviorMetadata)){var o=Object(i.e)(r.metadata);if(-1!==o)return f(t.getParameter(o),!1)}}return{chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null}})),g=Object(r.a)(h,2),b=g[0],v=g[1];return[b,{chooseFreeInstruction:function(e){t.setType(e);return v({chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null}),Object(a.a)({instruction:t},{chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null})},chooseObject:function(e){var n=f(e,!0);return v(n),Object(a.a)({instruction:t},n)},chooseObjectInstruction:function(e){if(t.setType(e),b.chosenObjectName){var n=f(b.chosenObjectName,!0);return v(n),Object(a.a)({instruction:t},n)}return Object(a.a)({instruction:t},b)}}]}}).call(this,n(1))},559:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var a=n(120),r=n.n(a),o=n(133),i=n(98),s=n(2),c=n(417),l=n(378),u=n(837),d=s.createContext({filters:null,authors:null,licenses:null,searchResults:null,fetchAssetsAndFilters:function(){},error:null,searchText:"",setSearchText:function(){},filtersState:{chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},chosenCategory:null,setChosenCategory:function(){}}}),m=function(e){return e.name+"\n"+e.shortDescription+"\n"+e.tags.join(", ")},p=function(e){var t=e.children,n=s.useState(null),a=Object(i.a)(n,2),p=a[0],f=a[1],h=s.useState(null),g=Object(i.a)(h,2),b=g[0],v=g[1],E=s.useState(null),y=Object(i.a)(E,2),j=y[0],O=y[1],C=s.useState(null),x=Object(i.a)(C,2),T=x[0],S=x[1],k=s.useState(null),w=Object(i.a)(k,2),N=w[0],_=w[1],P=s.useRef(!1),I=s.useState(""),R=Object(i.a)(I,2),B=R[0],M=R[1],F=Object(c.b)(),A=s.useCallback((function(){p||P.current||Object(o.a)(r.a.mark((function e(){var t,n,a,o,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(null),P.current=!0,e.prev=2,e.next=5,Object(l.b)();case 5:return t=e.sent,n=t.assetShortHeaders,a=t.filters,e.next=10,Object(l.c)();case 10:return o=e.sent,e.next=13,Object(l.d)();case 13:i=e.sent,s={},n.forEach((function(e){s[e.id]=e})),console.info("Loaded ".concat(n.length," assets from the asset store.")),f(s),v(a),O(o),S(i),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),console.error("Unable to load the assets from the asset store:",e.t0),_(e.t0);case 27:P.current=!1;case 28:case"end":return e.stop()}}),e,null,[[2,23]])})))()}),[p,P]);s.useEffect((function(){if(!p&&!P.current){var e=setTimeout((function(){console.info("Pre-fetching assets from asset store..."),A()}),6e3);return function(){return clearTimeout(e)}}}),[A,p,P]);var L=F.chosenCategory,D=F.chosenFilters,U=Object(u.a)(p,m,B,L,D),V=s.useMemo((function(){return{searchResults:U,fetchAssetsAndFilters:A,filters:b,authors:j,licenses:T,error:N,searchText:B,setSearchText:M,filtersState:F}}),[U,N,b,j,T,B,F,A]);return s.createElement(d.Provider,{value:V},t)}},560:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return E}));var a=n(120),r=n.n(a),o=n(133),i=n(98),s=n(77),c=n(2),l=n(90),u=n(87),d=n(79),m=n(85),p=n(2394),f=n(161),h=n(89),g=n(96),b=c.createContext(null),v=function(e){var t=e.progress,n=e.fetchedResources,a=e.onAbandon,r=e.onRetry,o=n&&n.erroredResources.length>0;return c.createElement(l.a,{actions:[r?c.createElement(h.a,{label:c.createElement(s.Trans,{id:"Retry"}),primary:!0,onClick:r,key:"retry"}):null,c.createElement(u.a,{label:a?c.createElement(s.Trans,{id:"Abandon"}):c.createElement(s.Trans,{id:"Please wait..."}),disabled:!a,onClick:a,key:"close"})],cannotBeDismissed:!0,noMargin:!0,open:!0,maxWidth:"sm"},c.createElement(d.b,null,c.createElement(g.a,{expand:!0},c.createElement(m.a,null,o?c.createElement(s.Trans,{id:"There were errors when fetching resources for the project."}):c.createElement(s.Trans,{id:"Resources needed for the project are downloaded..."})),c.createElement(p.a,{variant:"determinate",value:t}),o&&n?c.createElement(f.a,null,c.createElement(f.c,null,c.createElement(f.e,null,c.createElement(f.d,null,"Resource name"),c.createElement(f.d,null,"Error"))),c.createElement(f.b,null,n.erroredResources.map((function(e){var t=e.resourceName,n=e.error;return c.createElement(f.e,{key:t},c.createElement(f.f,null,t),c.createElement(f.f,null,n.toString()))})))):null)))},E=function(){var e=c.useContext(b),t=c.useState(0),n=Object(i.a)(t,2),a=n[0],s=n[1],l=c.useState(!1),u=Object(i.a)(l,2),d=u[0],m=u[1],p=c.useState(null),f=Object(i.a)(p,2),h=f[0],g=f[1],E=c.useState(null),y=Object(i.a)(E,2),j=y[0],O=y[1],C=c.useState(null),x=Object(i.a)(C,2),T=x[0],S=x[1],k=c.useCallback(function(){var t=Object(o.a)(r.a.mark((function t(n){var a,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw new Error("No resourceFetcher was defined");case 2:if(0!==(a=e.getResourcesToFetch(n)).length){t.next=5;break}return t.abrupt("return",{someResourcesWereFetched:!1});case 5:return s(0),O(null),S(null),g(null),m(!0),t.next=12,e.fetchResources({project:n,resourceNames:a,onProgress:function(e,t){s(e/t*100)}});case 12:if(o=t.sent,s(100),0!==o.erroredResources.length){t.next=18;break}return m(!1),g(null),t.abrupt("return",{someResourcesWereFetched:!0});case 18:return t.abrupt("return",new Promise((function(e){O((function(){return function(){e(k(n))}})),S((function(){return function(){m(!1),g(null),e({someResourcesWereFetched:!0})}})),g(o),m(!1)})));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]);return{ensureResourcesAreFetched:k,renderResourceFetcherDialog:function(){var e=h&&h.erroredResources.length>=0;return d||e?c.createElement(v,{progress:a,fetchedResources:h,onAbandon:T,onRetry:j}):null}}}},562:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(6),r=n(12),o=n(107),i=function(){function e(t){var n=this,r=t.initialViewX,i=t.initialViewY,s=t.width,c=t.height,l=t.options;Object(a.a)(this,e),this.viewX=0,this.viewY=0,this._pixiContainer=new o.Container,this.toSceneCoordinates=function(e,t){e-=n._width/2,t-=n._height/2,e/=Math.abs(n._pixiContainer.scale.x),t/=Math.abs(n._pixiContainer.scale.y);var a=e;return e=Math.cos(0*Math.PI)*e-Math.sin(0*Math.PI)*t,t=Math.sin(0*Math.PI)*a+Math.cos(0*Math.PI)*t,[e+n.viewX,t+n.viewY]},this.toCanvasCoordinates=function(e,t){e-=n.viewX,t-=n.viewY;var a=e;return e=Math.cos(-0*Math.PI)*e-Math.sin(-0*Math.PI)*t,t=Math.sin(-0*Math.PI)*a+Math.cos(-0*Math.PI)*t,e*=Math.abs(n._pixiContainer.scale.x),t*=Math.abs(n._pixiContainer.scale.y),[e+n._width/2,t+n._height/2]},this.viewX=r,this.viewY=i,this.options=l,this.resize(s,c)}return Object(r.a)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"resize",value:function(e,t){this._width=e,this._height=t}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"scrollBy",value:function(e,t){this.viewX+=e,this.viewY+=t}},{key:"scrollTo",value:function(e,t){this.viewX=e,this.viewY=t}},{key:"scrollToInstance",value:function(e){this.viewX=e.getX(),this.viewY=e.getY()}},{key:"getViewX",value:function(){return this.viewX}},{key:"getViewY",value:function(){return this.viewY}},{key:"getPixiContainer",value:function(){return this._pixiContainer}},{key:"render",value:function(){this._pixiContainer.position.x=-this.viewX*this.options.zoomFactor,this._pixiContainer.position.y=-this.viewY*this.options.zoomFactor,this._pixiContainer.position.x+=this._width/2,this._pixiContainer.position.y+=this._height/2,this._pixiContainer.scale.x=this.options.zoomFactor,this._pixiContainer.scale.y=this.options.zoomFactor}}]),e}()},564:function(e,t,n){"use strict";t.a={handleColumn:{width:24,paddingLeft:8,paddingRight:0},coordinateColumn:{width:48},toolColumn:{width:48}}},565:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(){return Date.now()+"-"+Math.floor(1e6*Math.random())}},573:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(306),c=n.n(s),l=n(2),u=n.n(l),d=n(89),m=n(169),p=n.n(m),f=n(92),h=function(e){if(!e)return[];return p()(Object(f.mapFor)(0,e.count(),(function(t){return e?function e(t,n){var a=[t];return n.isStructure()?(n.getAllChildrenNames().toJSArray().forEach((function(r){e("".concat(t,".").concat(r),n.getChild(r)).forEach((function(e){a.push(e)}))})),a):a}(e.getNameAt(t),e.getAt(t)):[]})))},g=n(147),b=n.n(g),v=n(132),E=n(180),y=n(96);n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return O}));var j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,r=t.isInline,o=t.onOpenDialog,i=t.parameterMetadata,s=t.variablesContainer,l=t.onRequestClose,m=i?i.getDescription():void 0;return u.a.createElement(y.c,{renderTextField:function(){return u.a.createElement(E.a,{margin:e.props.isInline?"none":"dense",floatingLabelText:m,helperMarkdownText:i?i.getLongDescription():void 0,fullWidth:!0,value:n,onChange:a,onRequestClose:l,dataSource:h(s).map((function(e){return{text:e,value:e}})),openOnFocus:!r,ref:function(t){return e._field=t}})},renderButton:function(t){return o&&!r?u.a.createElement(d.a,{icon:u.a.createElement(c.a,null),disabled:!e.props.variablesContainer,primary:!0,style:t,onClick:o}):null}})}}]),n}(l.Component),O=function(e,t,n){var a=e.value,r=e.parameterMetadata,o=e.MissingParameterValue;return a||r.isOptional()?u.a.createElement("span",{title:n,className:b()({[v.p]:!0})},u.a.createElement("img",{className:b()({[v.i]:!0}),src:t,alt:""}),a):u.a.createElement(o,null)}},583:function(e,t,n){"use strict";(function(e){var a=n(120),r=n.n(a),o=n(133),i=n(83),s=n(98),c=n(77),l=n(2),u=(n(984),n(2469)),d=n(2468),m=n(2272),p=n(996),f=n(2266),h=n(1092),g=n(2263),b=n(1465),v=n(1467),E=n(1468),y=n(1469),j=n(2262),O=n(3),C=n(24),x=n(1471),T=n(1472),S=n(865),k=n(130),w=n(2273),N=n(904),_=n(730),P=n(851),I=n(864),R=n(854),B=n(833),M=n(2268),F=n(863),A=n(840),L=n(2274),D=n(114),U=n(266),V=n(628),W=n(97),G=n(2275),z=n(869),H=n(1904),K=n(113),Y=n(273),X=n(36),J=n(1906),q=n(1907),Z=n(1908),Q=n(1909),$=n(352),ee=n(176),te=n(1910),ne=n(246),ae=n(1911),re=n(2269),oe=n(1912),ie=n(724),se=n(1913),ce=n(1914),le=n(1915),ue=n(560),de=n(871),me=e.GD_STARTUP_TIMES||[],pe=e.gd,fe={drawerContent:{width:320,overflowX:"hidden",display:"flex",flexDirection:"column"}},he=function(e,t,n){var a=n.storageProviderName,r=t.filter((function(e){return e.internalName===a}))[0];if(r)return r;var o=n.storageProviderName;Object(C.a)({message:e._({id:"Unable to open the project because this provider is unknown: {storageProviderName}. Try to open the project again from another location.",values:{storageProviderName:a}}),rawError:new Error("Can't find storage provider called \"".concat(o,'"')),errorId:"unknown-storage-provider"})},ge={previewLayoutName:null,previewExternalLayoutName:null,isPreviewOverriden:!1,overridenPreviewLayoutName:null,overridenPreviewExternalLayoutName:null};t.a=function(e){var t=Object(te.a)({createDialogOpen:!1,currentProject:null,currentFileMetadata:null,editorTabs:Object(T.l)(),snackMessage:"",snackMessageOpen:!1,updateStatus:{message:"",status:"unknown"},openFromStorageProviderDialogOpen:!1,saveToStorageProviderDialogOpen:!1,eventsFunctionsExtensionsError:null,gdjsDevelopmentWatcherEnabled:!1}),n=Object(s.a)(t,2),a=n[0],be=n[1],ve=l.useRef(null),Ee=l.useRef({}),ye=l.useRef(null),je=Object(ee.a)(),Oe=l.useState(!1),Ce=Object(s.a)(Oe,2),xe=Ce[0],Te=Ce[1],Se=l.useState(!1),ke=Object(s.a)(Se,2),we=ke[0],Ne=ke[1],_e=l.useState(!1),Pe=Object(s.a)(_e,2),Ie=Pe[0],Re=Pe[1],Be=l.useState(!1),Me=Object(s.a)(Be,2),Fe=Me[0],Ae=Me[1],Le=l.useState(!1),De=Object(s.a)(Le,2),Ue=De[0],Ve=De[1],We=l.useState(!1),Ge=Object(s.a)(We,2),ze=Ge[0],He=Ge[1],Ke=l.useState(!1),Ye=Object(s.a)(Ke,2),Xe=Ye[0],Je=Ye[1],qe=l.useState(!1),Ze=Object(s.a)(qe,2),Qe=Ze[0],$e=Ze[1],et=l.useState("profile"),tt=Object(s.a)(et,2),nt=tt[0],at=tt[1],rt=l.useState(!1),ot=Object(s.a)(rt,2),it=ot[0],st=ot[1],ct=l.useState(!1),lt=Object(s.a)(ct,2),ut=lt[0],dt=lt[1],mt=l.useState(!1),pt=Object(s.a)(mt,2),ft=pt[0],ht=pt[1],gt=l.useState(!1),bt=Object(s.a)(gt,2),vt=bt[0],Et=bt[1],yt=l.useContext(K.b),jt=l.useState(!1),Ot=Object(s.a)(jt,2),Ct=Ot[0],xt=Ot[1],Tt=l.useState(ge),St=Object(s.a)(Tt,2),kt=St[0],wt=St[1],Nt=l.useRef(null),_t=l.useContext(U.a),Pt=ye.current&&ye.current.getPreviewDebuggerServer(),It=Object(se.a)(Pt),Rt=It.previewDebuggerIds,Bt=It.hotReloadLogs,Mt=It.clearHotReloadLogs,Ft=!!Rt.length,At=Object(Z.a)(),Lt=At.ensureInteractionHappened,Dt=At.renderOpenConfirmDialog,Ut=Object(ue.b)(),Vt=Ut.ensureResourcesAreFetched,Wt=Ut.renderResourceFetcherDialog,Gt=l.useContext(U.a),zt=l.useContext($.b),Ht=a.currentProject,Kt=a.currentFileMetadata,Yt=a.updateStatus,Xt=a.eventsFunctionsExtensionsError,Jt=e.renderExportDialog,qt=e.renderCreateDialog,Zt=e.resourceSources,Qt=e.renderPreviewLauncher,$t=e.resourceExternalEditors,en=e.getStorageProviderOperations,tn=e.getStorageProvider,nn=e.integratedEditor,an=e.initialFileMetadataToOpen,rn=e.introDialog,on=e.i18n,sn=e.renderGDJSDevelopmentWatcher,cn=e.renderMainMenu;l.useEffect((function(){nn||Rn(),me.push(["MainFrameComponentDidMount",performance.now()]),fn().then((function(){return be((function(e){return Object(i.a)(Object(i.a)({},e),{},{gdjsDevelopmentWatcherEnabled:!0})}))})).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a,o,i,s,c,l,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(me.push(["MainFrameComponentDidMountFinished",performance.now()]),console.info("Startup times:",Object(X.a)()),a=yt.getAutoOpenMostRecentProject,o=yt.getRecentProjectFiles,i=yt.hadProjectOpenedDuringLastSession,!an){t.next=13;break}return t.next=6,en();case 6:return s=t.sent,t.next=9,Lt(s);case 9:t.sent&&mn(),t.next=28;break;case 13:if(!(a()&&i()&&o()[0])){t.next=27;break}if(c=o()[0],l=he(on,e.storageProviders,c)){t.next=18;break}return t.abrupt("return");case 18:return t.next=20,en(l);case 20:return u=t.sent,t.next=23,Lt(u);case 23:t.sent&&zn(c),t.next=28;break;case 27:rn&&!O.b.isDev()&&Ae(!0);case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){}))}),[]);var ln=function(e){at(e),st(!0)},un=l.useCallback((function(e){be((function(t){return Object(i.a)(Object(i.a)({},t),{},{snackMessage:e,snackMessageOpen:!0})}))}),[be]),dn=l.useCallback((function(){be((function(e){return Object(i.a)(Object(i.a)({},e),{},{snackMessageOpen:!1})}))}),[be]),mn=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(an){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,vn(an);case 4:(t=e.sent)&&Vn({currentProject:t.currentProject,editorTabs:t.editorTabs});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pn=l.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.editorTabs,t=Object(T.j)(e);t&&t.editorRef?t.editorRef.updateToolbar():jn(null)}),[a.editorTabs]);l.useEffect((function(){pn()}),[pn]);var fn=function(){var t=e.extensionsLoader,n=e.i18n;return t?t.loadAllExtensions(Object(z.a)(n)).then((function(e){var t=e.filter((function(e){return!e.result.error})),n=e.filter((function(e){return e.result.error&&!e.result.dangerous})),a=e.filter((function(e){return e.result.error&&e.result.dangerous}));console.info("Loaded ".concat(t.length," JS extensions.")),n.length&&console.error("\u26a0\ufe0f Unable to load ".concat(n.length," JS extensions. Please check these errors:"),n),a.length&&console.error("\ud83d\udca3 Dangerous exceptions while loading ".concat(a.length," JS extensions. \ud83d\udd25 Please check these errors as they will CRASH GDevelop:"),a)})):(console.info("No extensions loader specified, skipping extensions loading."),Promise.reject(new Error("No extension loader specified.")))};Object(le.a)(Ht);var hn=l.useCallback((function(){return yt.setHasProjectOpened(!1),wt(ge),be((function(e){return Ht?(Ht&&(Gt.unloadProjectEventsFunctionsExtensions(Ht),Ht.delete()),Object(i.a)(Object(i.a)({},e),{},{currentProject:null,currentFileMetadata:null,editorTabs:Object(T.i)(e.editorTabs,Ht)})):Object(i.a)({},e)})).then((function(){}))}),[Ht,Gt,yt,be]),gn=l.useCallback(function(){var e=Object(o.a)(r.a.mark((function e(t,n){var a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&yt.insertRecentProjectFile({fileMetadata:n,storageProviderName:tn().internalName}),e.next=3,hn();case 3:return D.a.burstAllUrlsCache(),yt.setHasProjectOpened(!0),e.next=7,be((function(e){return Object(i.a)(Object(i.a)({},e),{},{currentProject:t,currentFileMetadata:n,createDialogOpen:!1})}));case 7:return a=e.sent,Gt.loadProjectEventsFunctionsExtensions(t),n&&t.setProjectFile(n.fileIdentifier),e.next=12,Vt(t);case 12:return o=e.sent,o.someResourcesWereFetched&&zt&&zt.triggerUnsavedChanges(),e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[zt,be,hn,yt,Gt,tn,Vt]),bn=l.useCallback((function(e,t){return Object(S.b)((function(){var n=pe.ProjectHelper.createNewGDJSProject();return n.unserializeFrom(e),gn(n,t)}),(function(e){return console.info("Unserialization took ".concat(e," ms"))}))}),[gn]),vn=l.useCallback((function(e){return en().then((function(t){var n=t.hasAutoSave,a=t.onGetAutoSave,r=t.onOpen,o=t.getOpenErrorMessage;if(!r)return console.error("Tried to open a file for a storage without onOpen support:",e,t),Promise.resolve();return Te(!0),Object(de.a)(150).then((function(){return n&&a?n(e,!0).then((function(t){return t&&O.b.showConfirmDialog(on._({id:"An autosave file (backup made automatically by GDevelop) that is newer than the project file exists. Would you like to load it instead?"}))?a(e):e})):Promise.resolve(e)})).then((function(e){return r(e)})).catch((function(t){return(n&&a?n(e,!1).then((function(t){return t&&O.b.showConfirmDialog(on._({id:"The project file appears to be malformed, but an autosave file exists (backup made automatically by GDevelop). Would you like to try to load it instead?"}))?a(e):null})):Promise.resolve(null)).then((function(e){if(e)return r(e);throw t}))})).then((function(t){var n=t.content;if(Object(Q.a)(on,n)){var a=pe.Serializer.fromJSObject(n);return bn(a,e).then((function(e){return a.delete(),Promise.resolve(e)}),(function(e){throw a.delete(),e}))}Te(!1)})).catch((function(e){var t=o?o(e):{id:"Check that the path/URL is correct, that you selected a file that is a game file created with GDevelop and that is was not removed."};return Object(C.a)({message:[on._({id:"Unable to open the project."}),on._(t)].join("\n"),errorId:"project-open-error",rawError:e}),Te(!1),Promise.reject(e)}))}))}),[on,en,bn]),En=l.useCallback((function(){return O.b.quit()}),[]),yn=l.useCallback((function(){ve.current&&Re((function(e){return!e}))}),[Re]),jn=function(e){ve.current&&ve.current.setEditorToolbar(e)},On=function(e,t){wt((function(n){return Object(i.a)(Object(i.a)({},n),{},{previewLayoutName:e,previewExternalLayoutName:t})}))},Cn=l.useCallback((function(){Ht&&en().then((function(e){yt.values.autosaveOnPreview&&e.onAutoSaveProject&&Kt&&e.onAutoSaveProject(Ht,Kt).catch((function(e){console.error("Error while auto-saving the project: ",e),un(on._({id:"There was an error while making an auto-save of the project. Verify that you have permissions to write in the project folder."}))}))}))}),[on,un,Ht,Kt,en,yt.values.autosaveOnPreview]),xn=l.useCallback((function(e){var t=e.networkPreview,n=e.hotReload,r=e.projectDataOnlyExport;if(Ht&&0!==Ht.getLayoutsCount()){var o=ye.current;if(o){xt(!0),Object(T.o)(a.editorTabs);var i=kt.isPreviewOverriden?kt.overridenPreviewLayoutName:kt.previewLayoutName,s=kt.isPreviewOverriden?kt.overridenPreviewExternalLayoutName:kt.previewExternalLayoutName,c=i&&Ht.hasLayoutNamed(i)?Ht.getLayout(i):Ht.getLayoutAt(0),l=s&&Ht.hasExternalLayoutNamed(s)?Ht.getExternalLayout(s):null;Cn(),Gt.ensureLoadFinished().then((function(){return o.launchPreview({project:Ht,layout:c,externalLayout:l,networkPreview:!!t,hotReload:!!n,projectDataOnlyExport:!!r})})).catch((function(e){console.error("Error caught while launching preview, this should never happen.",e)})).then((function(){xt(!1)}))}}}),[Cn,Ht,Gt,kt,a.editorTabs]),Tn=l.useCallback((function(){return xn({networkPreview:!1})}),[xn]),Sn=l.useCallback((function(){return xn({networkPreview:!1,hotReload:!0})}),[xn]),kn=l.useCallback((function(){return xn({networkPreview:!0,hotReload:!1})}),[xn]),wn=l.useMemo((function(){return{hasPreviewsRunning:Ft,launchProjectDataOnlyPreview:function(){return xn({hotReload:!0,projectDataOnlyExport:!0})}}}),[Ft,xn]),Nn=l.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.openEventsEditor,r=void 0===n||n,o=t.openSceneEditor,s=void 0===o||o,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.editorTabs,l={label:e,projectItemName:e,renderEditorContainer:I.b,key:"layout "+e},u={label:e+" "+on._({id:"(Events)"}),projectItemName:e,renderEditorContainer:_.b,key:"layout events "+e,dontFocusTab:s},d=s?Object(T.p)(c,l):c,m=r?Object(T.p)(d,u):d;be((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:m})})),Te(!1),Re(!1)}),[on,be,a.editorTabs]),_n=l.useCallback((function(e){be((function(t){return Object(i.a)(Object(i.a)({},t),{},{editorTabs:Object(T.p)(t.editorTabs,{label:e,projectItemName:e,renderEditorContainer:P.b,key:"external events "+e})})})),Re(!1)}),[be]),Pn=l.useCallback((function(e){be((function(t){return Object(i.a)(Object(i.a)({},t),{},{editorTabs:Object(T.p)(t.editorTabs,{label:e,projectItemName:e,renderEditorContainer:R.b,key:"external layout "+e})})})),Re(!1)}),[be,Re]),In=l.useCallback((function(e,t,n){be((function(a){return Object(i.a)(Object(i.a)({},a),{},{editorTabs:Object(T.p)(a.editorTabs,{label:e+" "+on._({id:"(Extension)"}),projectItemName:e,extraEditorProps:{initiallyFocusedFunctionName:t,initiallyFocusedBehaviorName:n},renderEditorContainer:B.b,key:"events functions extension "+e})})})),Re(!1)}),[be,Re,on]),Rn=l.useCallback((function(){be((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.p)(e.editorTabs,{label:on._({id:"Start Page"}),projectItemName:null,renderEditorContainer:M.a,key:"start page",closable:!1})})}))}),[on,be]),Bn=l.useCallback((function(){be((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.p)(e.editorTabs,{label:on._({id:"Debugger"}),projectItemName:null,renderEditorContainer:N.a,key:"debugger"})})}))}),[on,be]),Mn=l.useCallback((function(){Bn(),Sn()}),[Bn,Sn]),Fn=function(e,t){var n=a.currentProject,r=a.editorTabs;if(n){var o=e.getName();if(n.hasEventsFunctionsExtensionNamed(o)){var s=n.getEventsFunctionsExtension(o),c=Object(Y.b)(t),l=Object(T.n)(r,s);l?(l.editor.selectEventsFunctionByName(c.name,c.behaviorName),be((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.a)(r,l.tabIndex)})}))):In(o,c.name,c.behaviorName)}else console.warn("Extension with name=".concat(o," can not be opened (no editor for this)"))}},An=function(){zt&&zt.triggerUnsavedChanges(),je()},Ln=function(e,t){var n=a.currentProject;if(n){var r=!n.hasEventsFunctionsExtensionNamed(e),o=r?n.insertNewEventsFunctionsExtension(e,0):n.getEventsFunctionsExtension(e);r&&(o.setFullName(e),o.setDescription("Originally automatically extracted from events of the project")),o.insertEventsFunction(t,0),Gt.loadProjectEventsFunctionsExtensions(n)}},Dn=l.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];be((function(t){return Object(i.a)(Object(i.a)({},t),{},{createDialogOpen:e})}))}),[be]),Un=l.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];be((function(t){return Object(i.a)(Object(i.a)({},t),{},{openFromStorageProviderDialogOpen:e})}))}),[be]),Vn=l.useCallback((function(e){var t=e.currentProject,n=e.editorTabs;t&&(1===t.getLayoutsCount()?Nn(t.getLayoutAt(0).getName(),{openSceneEditor:!0,openEventsEditor:!0},n):be((function(e){return Object(i.a)(Object(i.a)({},e),{},{currentProject:t,editorTabs:n})})).then((function(){Te(!1),Re(!0)})))}),[Nn,be]),Wn=l.useCallback((function(){en().then((function(e){if(e.onOpenWithPicker)return e.onOpenWithPicker().then((function(e){if(e)return vn(e).then((function(e){e&&Vn({currentProject:e.currentProject,editorTabs:e.editorTabs})}))})).catch((function(t){var n=e.getOpenErrorMessage?e.getOpenErrorMessage(t):{id:"Verify that you have the authorizations for reading the file you're trying to access."};Object(C.a)({message:[on._({id:"Unable to open the project."}),on._(n)].join("\n"),errorId:"project-open-with-picker-error",rawError:t})}))}))}),[on,en,vn,Vn]),Gn=l.useCallback((function(){e.storageProviders.filter((function(e){return!e.hiddenInOpenDialog})).length>1?Un():Wn()}),[e.storageProviders,Un,Wn]),zn=l.useCallback((function(t){var n=t.fileMetadata,a=he(on,e.storageProviders,t);a&&en(a).then((function(){vn(n).then((function(e){e&&Vn({currentProject:e.currentProject,editorTabs:e.editorTabs})})).catch((function(e){}))}))}),[on,vn,Vn,e.storageProviders,en]),Hn=l.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&Re(!1),be((function(t){return Object(i.a)(Object(i.a)({},t),{},{saveToStorageProviderDialogOpen:e})}))}),[be]),Kn=l.useCallback((function(){Ht&&(Object(T.q)(a.editorTabs),en().then((function(e){var t=e.onSaveProjectAs;t&&(we?console.info("Project is already being saved, not triggering save."):(Ne(!0),t(Ht,Kt).then((function(e){var t=e.wasSaved,n=e.fileMetadata;t&&(zt&&zt.sealUnsavedChanges(),un(on._({id:"Project properly saved"})),n&&be((function(e){return Object(i.a)(Object(i.a)({},e),{},{currentFileMetadata:n})})))}),(function(e){Object(C.a)({message:on._({id:"Unable to save as the project! Please try again by choosing another location."}),rawError:e,errorId:"project-save-as-error"})})).catch((function(){})).then((function(){return Ne(!1)}))))})))}),[on,we,Ht,Kt,en,zt,be,a.editorTabs,un]),Yn=l.useCallback((function(){Ht&&en().then((function(t){e.storageProviders.filter((function(e){return!e.hiddenInSaveDialog})).length>1||!t.onSaveProjectAs?Hn():Kn()}))}),[Ht,en,Hn,e.storageProviders,Kn]),Xn=l.useCallback((function(){if(Ht)return Kt?void en().then((function(e){var t=e.onSaveProject;if(!t)return Yn();Object(T.q)(a.editorTabs),un(on._({id:"Saving..."})),we?console.info("Project is already being saved, not triggering save."):(Ne(!0),t(Ht,Kt).then((function(e){e.wasSaved&&(zt&&zt.sealUnsavedChanges(),un(on._({id:"Project properly saved"})))}),(function(e){Object(C.a)({message:on._({id:"Unable to save as the project! Please try again by choosing another location."}),rawError:e,errorId:"project-save-error"})})).catch((function(){})).then((function(){return Ne(!1)})))})):Yn()}),[we,Ht,Kt,en,un,on,zt,Yn,a.editorTabs]),Jn=l.useCallback((function(){if(zt&&zt.hasUnsavedChanges){if(!Ht)return Promise.resolve();if(!O.b.showConfirmDialog(on._({id:"Close the project? Any changes that have not been saved will be lost."})))return Promise.resolve()}return hn()}),[Ht,zt,on,hn]),qn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;pn(t.editorTabs),e.editorRef&&e.editorRef.forceUpdateEditor()},Zn=function(){Object(T.q)(a.editorTabs),be((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.b)(e.editorTabs)})}))},Qn=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=a.currentProject,r=Ee.current[e];return r?r.chooseResources(n,t):Promise.resolve([])},$n=function(e){be((function(t){return Object(i.a)(Object(i.a)({},t),{},{updateStatus:e})}));var t=Object(V.d)(e),n=Object(V.c)(e);t&&(new window.Notification(t,{body:n}).onclick=function(){return $e(!0)})};Object(ne.d)(Nt.current?Nt.current.launchCommand:function(){}),Object(ae.a)({i18n:on,project:a.currentProject,previewEnabled:!!a.currentProject&&a.currentProject.getLayoutsCount()>0,onOpenProjectManager:yn,hasPreviewsRunning:Ft,allowNetworkPreview:!!ye.current&&ye.current.canDoNetworkPreview(),onLaunchPreview:Tn,onHotReloadPreview:Sn,onLaunchDebugPreview:Mn,onLaunchNetworkPreview:kn,onOpenStartPage:Rn,onCreateProject:Dn,onOpenProject:Gn,onSaveProject:Xn,onSaveProjectAs:Yn,onCloseApp:En,onCloseProject:Jn,onExportGame:l.useCallback((function(){return Et(!0)}),[]),onOpenLayout:Nn,onOpenExternalEvents:_n,onOpenExternalLayout:Pn,onOpenEventsFunctionsExtension:In,onOpenCommandPalette:Nt.current?Nt.current.open:function(){},onOpenProfile:l.useCallback((function(){return ln("profile")}),[]),onOpenGamesDashboard:l.useCallback((function(){return ln("games-dashboard")}),[])});var ea=xe||Ct;return l.createElement("div",{className:"main-frame"},!!cn&&cn({i18n:on,project:a.currentProject,onChooseProject:Gn,onOpenRecentFile:zn,onSaveProject:Xn,onSaveProjectAs:Yn,onCloseProject:Jn,onCloseApp:En,onExportProject:function(){return Et(!0)},onCreateProject:Dn,onOpenProjectManager:function(){return Re(!0)},onOpenStartPage:Rn,onOpenDebugger:Bn,onOpenAbout:function(){return $e(!0)},onOpenPreferences:function(){return dt(!0)},onOpenLanguage:function(){return Ve(!0)},onOpenProfile:function(){return ln("profile")},onOpenGamesDashboard:function(){return ln("games-dashboard")},setUpdateStatus:$n,recentProjectFiles:yt.getRecentProjectFiles()}),l.createElement(p.a,{fileMetadata:Kt}),l.createElement(u.a,{open:Ie,PaperProps:{style:fe.drawerContent,className:"safe-area-aware-left-container"},ModalProps:{keepMounted:!0},onClose:yn},l.createElement(E.a,{title:a.currentProject?a.currentProject.getName():"No project",displayRightCloseButton:!0,onClose:yn}),Ht&&l.createElement(g.a,{project:Ht,onOpenExternalEvents:_n,onOpenLayout:Nn,onOpenExternalLayout:Pn,onOpenEventsFunctionsExtension:In,onAddLayout:function(){var e=a.currentProject;if(e){var t=Object(k.a)("New scene",(function(t){return e.hasLayoutNamed(t)}));e.insertNewLayout(t,e.getLayoutsCount()).updateBehaviorsSharedData(e),An()}},onAddExternalLayout:function(){var e=a.currentProject;if(e){var t=Object(k.a)("NewExternalLayout",(function(t){return e.hasExternalLayoutNamed(t)}));e.insertNewExternalLayout(t,e.getExternalLayoutsCount()),An()}},onAddEventsFunctionsExtension:function(){var e=a.currentProject;if(e){var t=Object(k.a)("NewExtension",(function(t){return e.hasEventsFunctionsExtensionNamed(t)}));e.insertNewEventsFunctionsExtension(t,e.getEventsFunctionsExtensionsCount()),An()}},onAddExternalEvents:function(){var e=a.currentProject;if(e){var t=Object(k.a)("NewExternalEvents",(function(t){return e.hasExternalEventsNamed(t)}));e.insertNewExternalEvents(t,e.getExternalEventsCount()),An()}},onDeleteLayout:function(t){var n=e.i18n;a.currentProject&&(O.b.showConfirmDialog(n._({id:"Are you sure you want to remove this scene? This can't be undone."}))&&be((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.g)(e.editorTabs,t)})})).then((function(e){e.currentProject&&e.currentProject.removeLayout(t.getName()),An()})))},onDeleteExternalLayout:function(t){var n=a.currentProject,r=e.i18n;n&&(O.b.showConfirmDialog(r._({id:"Are you sure you want to remove this external layout? This can't be undone."}))&&be((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.f)(e.editorTabs,t)})})).then((function(e){e.currentProject&&e.currentProject.removeExternalLayout(t.getName()),An()})))},onDeleteEventsFunctionsExtension:function(t){var n=a.currentProject,r=e.i18n;n&&(O.b.showConfirmDialog(r._({id:"Are you sure you want to remove this extension? This can't be undone."}))&&be((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.d)(e.editorTabs,t)})})).then((function(e){var a=t.getName();Gt.unloadProjectEventsFunctionsExtension(n,a),n.removeEventsFunctionsExtension(a),An(),Gt.reloadProjectEventsFunctionsExtensions(n)})))},onDeleteExternalEvents:function(t){var n=e.i18n;a.currentProject&&(O.b.showConfirmDialog(n._({id:"Are you sure you want to remove these external events? This can't be undone."}))&&be((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.e)(e.editorTabs,t)})})).then((function(e){e.currentProject&&e.currentProject.removeExternalEvents(t.getName()),An()})))},onRenameLayout:function(t,n){var r=a.currentProject,o=e.i18n;if(r&&r.hasLayoutNamed(t)&&n!==t)if(""!==n)if(r.hasLayoutNamed(n))Object(C.c)(o._({id:"Another scene with this name already exists."}),{delayToNextTick:!0});else{var s=r.getLayout(t);be((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.g)(e.editorTabs,s)})})).then((function(e){s.setName(n),An()}))}else Object(C.c)(o._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0})},onRenameExternalLayout:function(t,n){var r=a.currentProject,o=e.i18n;if(r&&r.hasExternalLayoutNamed(t)&&n!==t)if(""!==n)if(r.hasExternalLayoutNamed(n))Object(C.c)(o._({id:"Another external layout with this name already exists."}),{delayToNextTick:!0});else{var s=r.getExternalLayout(t);be((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.f)(e.editorTabs,s)})})).then((function(e){s.setName(n),An()}))}else Object(C.c)(o._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0})},onRenameEventsFunctionsExtension:function(t,n){var r=a.currentProject,o=e.i18n;if(r&&r.hasEventsFunctionsExtensionNamed(t)&&n!==t)if(""!==n)if(Object(ie.a)(n,r))Object(C.c)(o._({id:"Another extension with this name already exists (or you used a reserved extension name). Please choose another name."}),{delayToNextTick:!0});else if(pe.Project.validateName(n)){var s=r.getEventsFunctionsExtension(t);be((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.d)(e.editorTabs,s)})})).then((function(e){pe.WholeProjectRefactorer.renameEventsFunctionsExtension(r,s,t,n),s.setName(n),Gt.reloadProjectEventsFunctionsExtensions(r),An()}))}else Object(C.c)(o._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0});else Object(C.c)(o._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0})},onRenameExternalEvents:function(t,n){var r=a.currentProject,o=e.i18n;if(r&&r.hasExternalEventsNamed(t)&&n!==t)if(""!==n)if(r.hasExternalEventsNamed(n))Object(C.c)(o._({id:"Other external events with this name already exist."}),{delayToNextTick:!0});else{var s=r.getExternalEvents(t);be((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.e)(e.editorTabs,s)})})).then((function(e){s.setName(n),An()}))}else Object(C.c)(o._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0})},onSaveProject:Xn,onSaveProjectAs:Yn,onCloseProject:function(){Jn()},onExportProject:function(){return Et(!0)},onOpenPreferences:function(){return dt(!0)},onOpenProfile:function(){return ln("profile")},onOpenGamesDashboard:function(){return ln("games-dashboard")},onOpenResources:function(){!function(){var t=e.i18n;be((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(T.p)(e.editorTabs,{label:t._({id:"Resources"}),projectItemName:null,renderEditorContainer:F.a,key:"resources"})})}))}(),Re(!1)},onOpenPlatformSpecificAssets:function(){return Je(!0)},onChangeSubscription:function(){return ht(!0)},eventsFunctionsExtensionsError:Xt,onReloadEventsFunctionsExtensions:function(){Gt.reloadProjectEventsFunctionsExtensions(Ht)},freezeUpdate:!Ie,unsavedChanges:zt,hotReloadPreviewButtonProps:wn}),!a.currentProject&&l.createElement(W.a,null,l.createElement(c.Trans,{id:"To begin, open or create a new project."}))),l.createElement(m.a,{ref:ve,showProjectIcons:!e.integratedEditor,hasProject:!!Ht,toggleProjectManager:yn,exportProject:function(){return Et(!0)},requestUpdate:e.requestUpdate,simulateUpdateDownloaded:function(){return $n({status:"update-downloaded",message:"update-downloaded",info:{releaseName:"Fake update"}})},simulateUpdateAvailable:function(){return $n({status:"update-available",message:"Update available"})},onOpenDebugger:Mn,hasPreviewsRunning:Ft,onPreviewWithoutHotReload:Tn,onNetworkPreview:kn,onHotReloadPreview:Sn,showNetworkPreviewButton:!!ye.current&&ye.current.canDoNetworkPreview(),setPreviewOverride:function(e){var t=e.isPreviewOverriden,n=e.overridenPreviewLayoutName,a=e.overridenPreviewExternalLayoutName;wt((function(e){return Object(i.a)(Object(i.a)({},e),{},{isPreviewOverriden:t,overridenPreviewLayoutName:n,overridenPreviewExternalLayoutName:a})}))},isPreviewEnabled:!!Ht&&Ht.getLayoutsCount()>0,previewState:kt}),l.createElement(x.b,{hideLabels:!!e.integratedEditor},Object(T.m)(a.editorTabs).map((function(e,t){var n=Object(T.k)(a.editorTabs)===t;return l.createElement(x.a,{label:e.label,key:e.key,active:n,onClick:function(){return e=t,void be((function(t){return Object(i.a)(Object(i.a)({},t),{},{editorTabs:Object(T.a)(t.editorTabs,e)})})).then((function(e){return qn(Object(T.j)(e.editorTabs),e)}));var e},onClose:function(){return function(e){Object(T.q)(a.editorTabs),be((function(t){return Object(i.a)(Object(i.a)({},t),{},{editorTabs:Object(T.c)(t.editorTabs,e)})}))}(e)},onCloseOthers:function(){return function(e){Object(T.q)(a.editorTabs),be((function(t){return Object(i.a)(Object(i.a)({},t),{},{editorTabs:Object(T.h)(t.editorTabs,e)})}))}(e)},onCloseAll:Zn,onActivated:function(){return qn(e)},closable:e.closable})}))),Object(T.m)(a.editorTabs).map((function(t,n){var r=Object(T.k)(a.editorTabs)===n;return l.createElement(x.c,{key:t.key,active:r},l.createElement(oe.a,{active:r},l.createElement(A.a,null,t.renderEditorContainer({isActive:r,extraEditorProps:t.extraEditorProps,project:Ht,ref:function(e){return t.editorRef=e},setToolbar:jn,onChangeSubscription:function(){return ht(!0)},projectItemName:t.projectItemName,setPreviewedLayout:On,onOpenExternalEvents:_n,previewDebuggerServer:Pt,hotReloadPreviewButtonProps:wn,onOpenLayout:function(e){return Nn(e,{openEventsEditor:!0,openSceneEditor:!1})},resourceSources:e.resourceSources,onChooseResource:Qn,resourceExternalEditors:$t,onCreateEventsFunction:Ln,openInstructionOrExpression:Fn,unsavedChanges:zt,canOpen:!!e.storageProviders.filter((function(e){return!e.hiddenInOpenDialog})).length,onOpen:function(){return Gn()},onCreate:function(){return Dn()},onOpenProjectManager:function(){return Re(!0)},onCloseProject:function(){return Jn()},onOpenAboutDialog:function(){return $e(!0)},onOpenHelpFinder:function(){return He(!0)},onOpenLanguageDialog:function(){return Ve(!0)},onLoadEventsFunctionsExtensions:function(){Gt.loadProjectEventsFunctionsExtensions(Ht)},onDeleteResource:function(e,t){t(!0)},onRenameResource:function(e,t,n){n(!0)}}))))})),l.createElement(re.a,{ref:Nt}),l.createElement(v.a,{show:ea}),l.createElement(w.a,{open:ze,onClose:function(){return He(!1)}}),l.createElement(d.a,{open:a.snackMessageOpen,autoHideDuration:3e3,onClose:dn,ContentProps:{"aria-describedby":"snackbar-message"},message:l.createElement("span",{id:"snackbar-message"},a.snackMessage)}),!!Jt&&vt&&Jt({onClose:function(){return Et(!1)},onChangeSubscription:function(){Et(!1),ht(!0)},project:a.currentProject}),!!qt&&a.createDialogOpen&&qt({open:a.createDialogOpen,onClose:function(){return Dn(!1)},onOpen:function(){var e=Object(o.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be((function(e){return Object(i.a)(Object(i.a)({},e),{},{createDialogOpen:!1})}));case 2:return e.next=4,en(t);case 4:return e.next=6,vn(n);case 6:(a=e.sent)&&(a.currentProject&&a.currentProject.resetProjectUuid(),Vn({currentProject:a.currentProject,editorTabs:a.editorTabs}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onCreate:function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be((function(e){return Object(i.a)(Object(i.a)({},e),{},{createDialogOpen:!1})}));case 2:return e.next=4,en(n);case 4:return e.next=6,gn(t,a);case 6:(o=e.sent).currentProject&&o.currentProject.resetProjectUuid(),Vn({currentProject:o.currentProject,editorTabs:o.editorTabs});case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()}),!!rn&&Fe&&l.cloneElement(rn,{open:!0,onClose:function(){return Ae(!1)}}),!!Ht&&Xe&&l.createElement(b.a,{project:Ht,open:!0,onApply:function(){return Je(!1)},onClose:function(){return Je(!1)},resourceSources:Zt,onChooseResource:Qn,resourceExternalEditors:$t}),!!Qt&&Qt({getIncludeFileHashs:_t.getIncludeFileHashs,onExport:function(){return Et(!0)},onChangeSubscription:function(){return ht(!0)}},(function(e){ye.current=e})),Zt.map((function(e,t){var n=e.component;return l.createElement(n,{key:e.name,ref:function(t){return Ee.current[e.name]=t},i18n:on,getLastUsedPath:yt.getLastUsedPath,setLastUsedPath:yt.setLastUsedPath})})),it&&l.createElement(j.a,{currentProject:Ht,initialTab:nt,open:!0,onClose:function(){return st(!1)},onChangeSubscription:function(){return ht(!0)}}),ft&&l.createElement(L.a,{onClose:function(){ht(!1)},open:!0}),ut&&l.createElement(f.a,{i18n:e.i18n,onClose:function(){return dt(!1)}}),Ue&&l.createElement(H.a,{open:!0,onClose:function(e){Ve(!1),e&&(pe.JsPlatform.get().reloadBuiltinExtensions(),fn().catch((function(){})))}}),Qe&&l.createElement(h.a,{open:!0,onClose:function(){return $e(!1)},updateStatus:Yt}),a.openFromStorageProviderDialogOpen&&l.createElement(J.a,{onClose:function(){return Un(!1)},storageProviders:e.storageProviders,onChooseProvider:function(t){Un(!1),e.getStorageProviderOperations(t).then((function(){Wn()}))},onCreateNewProject:function(){Un(!1),Dn(!0)}}),a.saveToStorageProviderDialogOpen&&l.createElement(q.a,{onClose:function(){return Hn(!1)},storageProviders:e.storageProviders,onChooseProvider:function(t){Hn(!1),e.getStorageProviderOperations(t).then((function(){Kn()}))}}),Dt(),Wt(),l.createElement(y.a,{shouldPrompt:!!a.currentProject,i18n:e.i18n,language:e.i18n.language,hasUnsavedChanges:!!zt&&zt.hasUnsavedChanges}),l.createElement(G.a,null),a.gdjsDevelopmentWatcherEnabled&&sn&&sn(),!!Bt.length&&l.createElement(ce.a,{logs:Bt,onClose:Mt,onLaunchNewPreview:function(){Mt(),Tn()}}))}}).call(this,n(1))},605:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var a=n(138),r=(n(985),n(986),n(347),n(987),n(988),"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, 'Helvetica Neue', Helvetica, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"),o={gdevelopTheme:{palette:{canvasColor:"#f0f0f0"},message:{warning:"#ffa500",error:"#f00",valid:"#00aa00"},toolbar:{backgroundColor:"#f7f7f7",separatorColor:"#cecece"},closableTabs:{fontFamily:r,containerBackgroundColor:"#f7f7f7",backgroundColor:"#f0f0f0",textColor:"#878787",selectedBackgroundColor:"#4ab0e4",selectedTextColor:"#ffffff",height:32,closeButtonWidth:24},imageThumbnail:{selectedBorderColor:"#4c92ff"},list:{itemsBackgroundColor:"#ffffff"},searchBar:{backgroundColor:"#ffffff"},listItem:{groupBackgroundColor:"#f7f7f7",groupTextColor:"rgba(0,0,0,0.54)",deprecatedGroupTextColor:"rgba(0,0,0,0.30)",separatorColor:"#e0e0e0",selectedBackgroundColor:"#4c92ff",selectedTextColor:"#ffffff",rightIconColor:"#111",selectedRightIconColor:"#111",errorTextColor:"#ff2e16",warningTextColor:"#ffb032",selectedErrorBackgroundColor:"#ff2e16",selectedWarningBackgroundColor:"#ffb032"},emptyMessage:{shadowColor:"#FFFFFF"},logo:{src:"res/GD-logo-big.png"},mosaicRootClassName:"mosaic-gd-default-theme",eventsSheetRootClassName:"gd-events-sheet-default-theme",tableRootClassName:"gd-table-default-theme",markdownRootClassName:"gd-markdown-default-theme",gdevelopIconsCSSFilter:""},muiThemeOptions:{typography:{fontFamily:r},palette:{type:"light",common:{black:"rgba(110, 42, 42, 1)",white:"#fff"},background:{paper:"#f0f0f0",default:"#f7f7f7"},primary:{light:Object(a.e)("#4ab0e4",.05),main:"#4ab0e4",dark:Object(a.a)("#4ab0e4",.05),contrastText:"#fff"},secondary:{light:Object(a.e)("#9100ce",.05),main:"#9100ce",dark:Object(a.a)("#9100ce",.05),contrastText:"#fff"}},overrides:{MuiTypography:{h6:{fontWeight:400}},MuiInput:{input:{padding:0,paddingBottom:3},underline:{"&:before":{borderBottom:"1px solid #BBBBBB"}}},MuiAppBar:{colorPrimary:{backgroundColor:"#9100ce"}},MuiIconButton:{root:{color:"#111"}},MuiListItemIcon:{root:{color:"#111"}},MuiListItem:{secondaryAction:{paddingRight:40},gutters:{paddingRight:8}},MuiListItemSecondaryAction:{root:{right:8}},MuiTabs:{root:{backgroundColor:"#4ab0e4",minHeight:32}},MuiTab:{textColorPrimary:{color:"#fff !important"},root:{paddingTop:0,paddingBottom:0,minHeight:32}},MuiButtonBase:{root:{cursor:"default"}},MuiTableCell:{sizeSmall:{paddingTop:0,paddingBottom:0}},MuiDialogTitle:{root:{padding:8}},MuiDialogContent:{root:{padding:8}},MuiFormControl:{marginDense:{marginTop:0,marginBottom:0}},MuiCheckbox:{root:{marginTop:-9,marginBottom:-9}},MuiButton:{root:{borderRadius:0,fontWeight:400}}}}},i="GDevelop default";t.a=o},628:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=function(e){return"update-available"===e.status?"A new update is available!":""},r=function(e){return"update-available"===e.status?"It will be downloaded and installed automatically (unless you deactivated this in preferences)":""},o=function(e){return"checking-for-update"===e?"Checking for update...":"update-available"===e?"A new update is available!":"update-not-available"===e?"No update available. You're using the latest version!":"error"===e?"Error while checking update":"download-progress"===e?"A new update is being downloaded...":"update-downloaded"===e?"A new update will be installed after you quit and relaunch GDevelop":""},i=function(e){return"update-available"===e?"Update GDevelop to latest version":"Check again for new updates"},s=function(e){return"update-available"===e}},634:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(635),i=n.n(o),s=n(103),c=n(228),l=n(3);t.a=function(e){var t=e.helpPagePath;return t?r.a.createElement(s.a,{onClick:function(){return l.b.openExternalURL(Object(c.a)(t))},disabled:e.disabled,style:e.style,size:e.size},r.a.createElement(i.a,null)):null}},637:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var a=n(100),r=n(83),o=n(6),i=n(12),s=n(23),c=n(22),l=n(2),u=n(169),d=n.n(u),m=n(211),p=n(92),f=n(97),h=n(130),g=n(1116),b=n(2285),v=n(641),E=n(1119),y=n(1129),j=n(231),O=n(131),C=e.gd,x=Object(m.SortableElement)(g.a),T=Object(m.SortableElement)(b.a),S=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return l.createElement("div",null,this.props.children)}}]),n}(l.Component),k=Object(m.SortableContainer)(S);k.muiName="TableBody";var w=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={nameErrors:{},selectedVariables:Object(E.b)(),mode:"select"},e._selectVariable=function(t,n){e.setState({selectedVariables:Object(E.a)(e.state.selectedVariables,t,n)})},e.copySelection=function(){j.a.set(y.a,Object(E.c)(e.state.selectedVariables).map((function(e){var t=e.name,n=e.variable;return{name:t,serializedVariable:Object(O.b)(n)}})))},e.paste=function(){var t=e.props,n=t.variablesContainer,a=t.inheritedVariablesContainer;j.a.has(y.a)&&(j.a.get(y.a).forEach((function(e){var t=e.name,r=e.serializedVariable,o=Object(h.a)(t,(function(e){return a&&a.has(e)||n.has(e)}),"CopyOf"),i=new C.Variable;Object(O.c)(i,r),n.insert(o,i,n.count()),i.delete()})),e.forceUpdate())},e.deleteSelection=function(){var t=e.props.variablesContainer,n=Object(E.c)(e.state.selectedVariables);n.filter((function(e){return!n.find((function(t){return e!==t&&t.variable.contains(e.variable,!0)}))})).forEach((function(e){var n=e.variable;return t.removeRecursively(n)})),e.clearSelection()},e.clearSelection=function(){e.setState({selectedVariables:Object(E.b)()})},e._updateOrDefineVariable=function(t,n,a,r,o){var i=e.props,s=i.variablesContainer,c=i.inheritedVariablesContainer;if(c&&"parent"===o){var l=Object(O.b)(c.get(t)),u=new C.Variable;Object(O.c)(u,l),s.insert(t,u,r),u.delete(),s.get(t).setString(a)}else n.setString(a)},e._getVariableOrigin=function(t){var n=e.props,a=n.variablesContainer,r=n.inheritedVariablesContainer;return r&&r.has(t)?a.has(t)?"inherited":"parent":""},e}return Object(i.a)(n,[{key:"_renderVariableChildren",value:function(e,t,n,a){var r=this,o=t.getAllChildrenNames().toJSArray();return d()(o.map((function(e,o){var i=t.getChild(e);return r._renderVariableAndChildrenRows(e,i,n+1,o,t,a)})))}},{key:"_renderVariableAndChildrenRows",value:function(e,t,n,a,o){var i=this,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=this.props,u=c.variablesContainer,d=c.commitVariableValueOnBlur,m=t.isStructure(),p=s||this._getVariableOrigin(e);return l.createElement(x,{name:e,index:a,key:"variable-"+e,variable:t,disabled:0!==n,depth:n,origin:p,commitVariableValueOnBlur:d,errorText:this.state.nameErrors[t.ptr.toString()]?"This name is already taken":void 0,onChangeValue:function(n){i._updateOrDefineVariable(e,t,n,a,p),i.forceUpdate(),i.props.onSizeUpdated&&i.props.onSizeUpdated()},onResetToDefaultValue:function(){u.removeRecursively(t),i.forceUpdate(),i.props.onSizeUpdated&&i.props.onSizeUpdated()},onBlur:function(n){var a=n.target.value;if(e!==a){var s=!0;s=o?o.renameChild(e,a):u.rename(e,a),i.setState({nameErrors:Object(r.a)(Object(r.a)({},i.state.nameErrors),{},{[t.ptr]:!s})})}},onRemove:function(){o?o.removeChild(e):u.remove(e),i.forceUpdate(),i.props.onSizeUpdated&&i.props.onSizeUpdated()},onAddChild:function(){var e=Object(h.a)("ChildVariable",(function(e){return t.hasChild(e)}));t.getChild(e).setString(""),i.forceUpdate(),i.props.onSizeUpdated&&i.props.onSizeUpdated()},children:m?this._renderVariableChildren(e,t,n,p):null,showHandle:"move"===this.state.mode,showSelectionCheckbox:"select"===this.state.mode,isSelected:!!this.state.selectedVariables[t.ptr],onSelect:function(n){return i._selectVariable({name:e,ptr:t.ptr,variable:t},n)}})}},{key:"_renderEmpty",value:function(){return!!this.props.emptyExplanationMessage&&l.createElement("div",null,l.createElement(f.a,{style:v.a.emptyExplanation,messageStyle:v.a.emptyExplanationMessage},this.props.emptyExplanationMessage),l.createElement(f.a,{style:v.a.emptyExplanation,messageStyle:v.a.emptyExplanationMessage},this.props.emptyExplanationSecondMessage))}},{key:"render",value:function(){var e=this,t=this.props,n=t.variablesContainer,r=t.inheritedVariablesContainer;if(!n)return null;var o=r?Object(p.mapFor)(0,r.count(),(function(t){var a=r.getNameAt(t);if(!n.has(a)){var o=r.getAt(t);return e._renderVariableAndChildrenRows(a,o,0,t,void 0,"parent")}})):[],i=Object(p.mapFor)(0,n.count(),(function(t){var a=n.getAt(t),r=n.getNameAt(t);return e._renderVariableAndChildrenRows(r,a,0,t,void 0)})),s=l.createElement(T,{index:0,key:"add-variable-row",disabled:!0,onAdd:function(){var t=new C.Variable;t.setString("");var a=Object(h.a)("Variable",(function(e){return r&&r.has(e)||n.has(e)}));n.insert(a,t,n.count()),e.forceUpdate(),e.props.onSizeUpdated&&e.props.onSizeUpdated()},onCopy:this.copySelection,onPaste:this.paste,onDeleteSelection:this.deleteSelection,hasSelection:Object(E.d)(this.state.selectedVariables),hasClipboard:j.a.has(y.a)}),c=[].concat(Object(a.a)(o),Object(a.a)(i));return l.createElement(k,{variablesContainer:this.props.variablesContainer,onSortEnd:function(t){var n=t.oldIndex,a=t.newIndex;e.props.variablesContainer.move(n,a),e.forceUpdate()},helperClass:"sortable-helper",useDragHandle:!0,lockToContainerEdges:!0},c,!c.length&&this._renderEmpty(),s)}}]),n}(l.Component)}).call(this,n(1))},641:function(e,t,n){"use strict";t.a={toolColumnHeader:{textAlign:"left",paddingRight:4},toolColumn:{minWidth:48,flex:0,justifyContent:"flex-end"},tableChildIndentation:24,indent:{display:"flex",alignItems:"center",justifyContent:"flex-end"},indentIconColor:"#DDD",emptyExplanation:{justifyContent:"flex-start"},emptyExplanationMessage:{textAlign:"left"},fadedButton:{opacity:.7}}},643:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(617);t.a=r.a.memo((function(e){return r.a.createElement(o.a,e,r.a.createElement("path",{d:"M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"}))}))},650:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var a=n(24),r=n(357),o=n.n(r),i=function(e){return/^([A-Za-z]{1}[A-Za-z\d_]*\.)+[A-Za-z][A-Za-z\d_]*$/i.test(e)},s=function(e,t){var n={},a=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";n[e]||(n[e]=[]),n[e].push({type:t,message:a,extraExplanation:r})};return t.getPackageName()?t.getPackageName().length>=255?a("packageName","error",e("The package name is too long."),e("Change the package name in the game properties.")):i(t.getPackageName())||a("packageName","error",e('The package name is containing invalid characters or not following the convention "xxx.yyy.zzz" (numbers allowed after a letter only).'),e("Change the package name in the game properties.")):a("packageName","error",e("The package name is empty."),e("Choose and enter a package name in the game properties.")),t.getName()||a("name","error",e("The name of your game is too long."),e("Change the name in the game properties.")),(!t.getVersion()||t.getVersion().split(".").length<3)&&a("packageName","error",e("The version that you've set for the game is invalid."),e("Enter a version in the game properties.")),n},c=function(e,t){return!Object.keys(t).length||(Object(a.a)({message:e("Your game has some invalid elements, please fix these before continuing:")+"\n\n"+o()(t).map((function(e){return e.map((function(e){return"- ".concat(e.message)})).join("\n")})).join("\n"),rawError:void 0,errorId:"project-invalid-settings-error",doNotReport:!0}),!1)}},705:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n.n(c),u=n(2471),d=n(79),m=n(1387),p=n.n(m),f=n(150),h={chip:{margin:2},chipsList:{marginTop:4,display:"flex",flexWrap:"wrap"}},g=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){Object(f.b)()&&this._searchBar&&this._searchBar.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.chosenChip,r=t.onChooseChip,o=t.value,i=t.onChange,s=t.onRequestSearch,c=t.chips;return l.a.createElement(d.a,{noMargin:!0},l.a.createElement(f.a,{value:o,onRequestSearch:s,onChange:function(e){i(e)},ref:function(t){return e._searchBar=t}}),l.a.createElement(d.b,null,l.a.createElement(d.a,null,l.a.createElement("div",{style:h.chipsList},c&&c.map((function(e){var t,o=e.text,i=e.value;return l.a.createElement(u.a,{size:"small",key:i,style:Object(a.a)(Object(a.a)({},h.chip),{},{backgroundColor:n&&n!==i?void 0:(t=i,p()({seed:t,luminosity:"light"})),color:n&&n!==i?void 0:"black"}),onClick:function(){return r(n===i?"":i)},label:o})}))))))}}]),n}(c.Component)},720:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(87),d=n(99),m=n(89),p=n(90),f=n(258),h=n(97),g=n(232),b=n(263),v=n(721),E=n.n(v),y=n(159),j=n(506),O=n(96),C=e.gd,x=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e))._onApply=function(){r.props.layout.setWindowDefaultTitle(r.state.windowTitle),r.props.layout.setStopSoundsOnStartup(r.state.shouldStopSoundsOnStartup),r.props.layout.setBackgroundColor(r.state.backgroundColor.r,r.state.backgroundColor.g,r.state.backgroundColor.b),r.props.onApply()},r.state=r._loadFrom(e.layout),r}return Object(r.a)(n,[{key:"_loadFrom",value:function(e){return{windowTitle:e.getWindowDefaultTitle(),shouldStopSoundsOnStartup:e.stopSoundsOnStartup(),backgroundColor:{r:e.getBackgroundColorRed(),g:e.getBackgroundColorGreen(),b:e.getBackgroundColorBlue(),a:1}}}},{key:"componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.layout!==e.layout)&&this.setState(this._loadFrom(e.layout))}},{key:"render",value:function(){var e=this,t=this.props.layout,n=[l.a.createElement(u.a,{label:l.a.createElement(s.Trans,{id:"Ok"}),key:"ok",primary:!0,keyboardFocused:!0,onClick:this._onApply})],a=t.getAllBehaviorSharedDataNames().toJSArray().map((function(e){var n=t.getBehaviorSharedData(e),a=n.getTypeName(),r=C.JsPlatform.get().getBehaviorSharedDatas(a);if(Object(j.a)(C,r))return null;var o=r.getProperties(n.getContent()),i=Object(b.a)(o,(function(e){return r.getProperties(e.getContent())}),(function(e,t,n){r.updateProperty(e.getContent(),t,n)}));return!!i.length&&l.a.createElement(g.a,{key:e,schema:i,instances:[n]})})).filter(Boolean);return l.a.createElement(p.a,{title:l.a.createElement(s.Trans,{id:"Scene properties"}),actions:n,secondaryActions:l.a.createElement(m.a,{label:l.a.createElement(s.Trans,{id:"Edit scene variables"}),fullWidth:!0,onClick:function(){e.props.onEditVariables(),e.props.onClose()}}),open:this.props.open,cannotBeDismissed:!0,onRequestClose:this.props.onClose,maxWidth:"sm"},l.a.createElement(O.a,{expand:!0,noMargin:!0},l.a.createElement(d.b,{floatingLabelText:l.a.createElement(s.Trans,{id:"Window title"}),fullWidth:!0,type:"text",value:this.state.windowTitle,onChange:function(t,n){return e.setState({windowTitle:n})}}),l.a.createElement(y.a,{checked:this.state.shouldStopSoundsOnStartup,label:l.a.createElement(s.Trans,{id:"Stop music and sounds on startup"}),onCheck:function(t,n){return e.setState({shouldStopSoundsOnStartup:n})}}),l.a.createElement(f.a,{floatingLabelText:l.a.createElement(s.Trans,{id:"Scene background color"}),fullWidth:!0,disableAlpha:!0,color:this.state.backgroundColor,onChangeComplete:function(t){return e.setState({backgroundColor:t.rgb})}}),!E()(a)&&l.a.createElement(h.a,null,l.a.createElement(s.Trans,{id:"Any additional properties will appear here if you add behaviors to objects, like Physics behavior."})),a,this.props.onOpenMoreSettings&&l.a.createElement(m.a,{label:l.a.createElement(s.Trans,{id:"Open advanced settings"}),fullWidth:!0,onClick:function(){e.props.onOpenMoreSettings&&e.props.onOpenMoreSettings(),e.props.onClose()}})))}}]),n}(c.Component)}).call(this,n(1))},723:function(e,t,n){"use strict";var a=n(77),r=n(2),o=n(230);t.a=function(e){return r.createElement(o.a,{open:e.open,variablesContainer:e.layout.getVariables(),onCancel:e.onClose,onApply:e.onApply,title:r.createElement(a.Trans,{id:"Scene Variables"}),emptyExplanationMessage:r.createElement(a.Trans,{id:"Scene variables can be used to store any value or text during the game."}),emptyExplanationSecondMessage:r.createElement(a.Trans,{id:"For example, you can have a variable called Score representing the current score of the player."}),hotReloadPreviewButtonProps:e.hotReloadPreviewButtonProps})}},724:function(e,t,n){"use strict";function a(e,t){for(var n=t.getCurrentPlatform().getAllPlatformExtensions(),a=0;a<n.size();a++)if(n.at(a).getName()===e)return!0;return t.hasEventsFunctionsExtensionNamed(e)}n.d(t,"a",(function(){return a}))},725:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(83),r=n(6),o=function e(){var t=this;Object(r.a)(this,e),this.registerCommand=function(e,n){if(t._commands[e])return console.warn("Tried to register command ".concat(e,", but it is already registered."));t._commands[e]=n},this.deregisterCommand=function(e){if(!t._commands[e])return console.warn("Tried to deregister command ".concat(e,", but it is not registered."));delete t._commands[e]},this.getNamedCommand=function(e){var n=t._commands[e];return n?Object(a.a)({name:e},n):null},this.getAllNamedCommands=function(){return Object.keys(t._commands).map((function(e){var n=t._commands[e];return Object(a.a)(Object(a.a)({},n),{},{name:e})}))},this._commands={}}},726:function(e,t,n){"use strict";var a=n(2);t.a=function(e){var t=Object(a.useRef)(null),n=t.current;if(null!==n)return n;var r=e();return t.current=r,r}},727:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var a=n(83),r=n(2),o=n.n(r),i=n(159),s=n(229),c=n(104),l=n(304),u={position:"relative",display:"inline-block",width:100,height:100,justifyContent:"center",alignItems:"center",lineHeight:"100px",textAlign:"center",border:"#AAAAAA 1px solid",borderColor:"#AAAAAA"},d={spriteThumbnail:Object(a.a)(Object(a.a)({},u),{},{background:'url("res/transparentback.png") repeat'}),spriteThumbnailImage:{maxWidth:100,maxHeight:100,verticalAlign:"middle",pointerEvents:"none"},checkboxContainer:{textAlign:"initial",position:"absolute",width:34,height:64,bottom:0,right:0}};t.a=function(e){var t=e.project,n=e.resourceName,r=e.resourcesLoader,u=e.style,m=e.selectable,p=e.selected,f=e.onSelect,h=e.onContextMenu,g=(e.muiTheme,Object(l.a)(o.a.useCallback((function(e){h&&h(e.clientX,e.clientY)}),[h])));return o.a.createElement(c.a,null,(function(e){return o.a.createElement("div",Object.assign({title:n,style:Object(a.a)(Object(a.a)({},d.spriteThumbnail),{},{borderColor:p?e.imageThumbnail.selectedBorderColor:void 0},u),onContextMenu:function(e){e.stopPropagation(),h&&h(e.clientX,e.clientY)}},g),o.a.createElement(s.a,{style:d.spriteThumbnailImage,alt:n,src:r.getResourceFullUrl(t,n,{})}),m&&o.a.createElement("div",{style:d.checkboxContainer},o.a.createElement(i.a,{checked:p,onCheck:function(e,t){return f(t)}})))}))}},730:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(517),l=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.isActive}},{key:"componentDidMount",value:function(){if(this.props.isActive){var e=this.getLayout();this.props.setPreviewedLayout(e?e.getName():null)}}},{key:"componentDidUpdate",value:function(e){if(!e.isActive&&this.props.isActive){var t=this.getLayout();this.props.setPreviewedLayout(t?t.getName():null)}}},{key:"getProject",value:function(){return this.props.project}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"getLayout",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasLayoutNamed(n)?t.getLayout(n):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.projectItemName,r=this.getLayout();return r&&n?s.createElement(c.a,{ref:function(t){return e.editor=t},setToolbar:this.props.setToolbar,onOpenLayout:this.props.onOpenLayout,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.props.onCreateEventsFunction,unsavedChanges:this.props.unsavedChanges,project:n,scope:{layout:r},globalObjectsContainer:n,objectsContainer:r,events:r.getEvents(),onOpenExternalEvents:this.props.onOpenExternalEvents}):s.createElement("div",null,"No layout called ",a," found!")}}]),n}(s.Component),u=function(e){return s.createElement(l,e)}},756:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n(132);function o(e){var t=e.canDrop;return a.createElement("div",{className:t?r.e:r.b})}},757:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(109),l=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._field=null,e}return Object(r.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.parameterMetadata,n=t?t.getDescription():void 0;return s.createElement(c.a,{margin:this.props.isInline?"none":"dense",commitOnBlur:!0,value:this.props.value,floatingLabelText:n,helperMarkdownText:t?t.getLongDescription():void 0,onChange:function(t){return e.props.onChange(t)},ref:function(t){return e._field=t},fullWidth:!0})}}]),n}(s.Component),u=function(e){var t=e.value,n=e.parameterMetadata,a=e.MissingParameterValue;return t||n.isOptional()?t:s.createElement(a,null)}},758:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(137),r=n(6),o=n(12),i=n(23),s=n(22),c=n(100),l=n(2),u=n(186),d=n(180),m=n(139),p=n(187),f=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onChange,o=t.onChoose,i=t.project,s=t.globalObjectsContainer,f=t.objectsContainer,h=t.allowedObjectType,g=t.noGroups,b=t.errorTextIfInvalid,v=t.margin,E=t.onRequestClose,y=Object(a.a)(t,["value","onChange","onChoose","project","globalObjectsContainer","objectsContainer","allowedObjectType","noGroups","errorTextIfInvalid","margin","onRequestClose"]),j=function(e){var t=e.project,n=e.globalObjectsContainer,a=e.objectsContainer,r=e.noGroups,o=e.allowedObjectType,i=Object(u.d)(n,a,o||void 0),s=i.allObjectsList.map((function(e){var n=e.object;return{text:n.getName(),value:n.getName(),renderIcon:t?function(){return l.createElement(m.a,{iconSize:24,src:p.a.getThumbnail(t,n)})}:void 0}})),d=r?[]:i.allGroupsList.map((function(e){var t=e.group;return{text:t.getName(),value:t.getName()}}));return[].concat(Object(c.a)(s),[{type:"separator"}],Object(c.a)(d))}({project:i,globalObjectsContainer:s,objectsContainer:f,noGroups:g,allowedObjectType:h}),O=0!==j.filter((function(e){return void 0!==e.text&&n===e.text})).length;return l.createElement(d.a,Object.assign({margin:v,hintText:{id:"Choose an object"},value:n,onChange:r,onChoose:o,onRequestClose:E,dataSource:j,errorText:O?void 0:b,ref:function(t){return e._field=t}},y))}}]),n}(l.Component)},763:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var a=n(6),r=n(12),o=n(393),i=n.n(o),s=n(107),c=n(114),l=n(1575),u=e.gd,d={},m={},p=s.Texture.from("res/error48.png"),f=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"_initializeTexture",value:function(e,t){"image"===e.getKind()&&(u.asImageResource(e).isSmooth()||(t.baseTexture.scaleMode=s.SCALE_MODES.NEAREST))}},{key:"loadTextures",value:function(t,n,a,r){var o=t.getResourcesManager(),i=s.Loader.shared;i.reset();var l={};n.forEach((function(e){if(o.hasResource(e)){var n=o.getResource(e),a=c.a.getResourceFullUrl(t,e,{isResourceForPixi:!0});i.add(e,a),l[e]=n}}));var u=Object.keys(l).length;if(u){var d=0,p=i.onProgress.add((function(){d++,a(d,u)}));i.load((function(t,n){for(var a in t.onProgress.detach(p),n)if(n.hasOwnProperty(a)){var i=o.getResource(a);if("image"!==i.getKind())continue;m[a]=n[a].texture,e._initializeTexture(i,m[a])}r()}))}else r()}},{key:"getPIXITexture",value:function(t,n){if(m[n])return m[n];if(!t.getResourcesManager().hasResource(n))return p;var a=t.getResourcesManager().getResource(n);return"image"!==a.getKind()?p:(m[n]=s.Texture.from(c.a.getResourceFullUrl(t,n,{isResourceForPixi:!0})),e._initializeTexture(a,m[n]),m[n])}},{key:"getPIXIVideoTexture",value:function(e,t){return m[t]?m[t]:e.getResourcesManager().hasResource(t)?"video"!==e.getResourcesManager().getResource(t).getKind()?p:(m[t]=s.Texture.from(c.a.getResourceFullUrl(e,t,{disableCacheBurst:!0,isResourceForPixi:!0}),{scaleMode:s.SCALE_MODES.LINEAR,resourceOptions:{autoPlay:!1}}),m[t]):p}},{key:"loadFontFamily",value:function(e,t){if(d[t])return Promise.resolve(d[t]);var n=i()(t),a=null;e.getResourcesManager().hasResource(t)?"font"===e.getResourcesManager().getResource(t).getKind()&&(a=c.a.getResourceFullUrl(e,t,{isResourceForPixi:!0})):a=c.a.getFullUrl(e,t,{isResourceForPixi:!0});return a?Object(l.a)(n,'url("'.concat(a,'")'),{}).then((function(e){return d[t]=n,n})):Promise.resolve("Arial")}},{key:"getFontFamily",value:function(e,t){return d[t]?d[t]:i()(t)}},{key:"getInvalidPIXITexture",value:function(){return p}}]),e}()}).call(this,n(1))},764:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){return e||(t&&t.isOptional()?t.getDefaultValue():"")}},765:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return f}));var a=n(100),r=n(92),o=n(169),i=n.n(o),s=e.gd,c=function(e){var t=e.getExtensionObjectsTypes(),n=e.getBehaviorsTypes();return t.size()>0||n.size()>0?("BuiltinObject"===e.getName()?"Common expressions for all objects":e.getFullName())+"/":""},l=function(e,t,n){return Object(r.mapVector)(t.keys(),(function(a){var r=t.get(a);if(!r.isShown())return null;for(var o=[],i=0;i<r.getParametersCount();i++)n.objectMetadata&&0===i||n.behaviorMetadata&&i<=1||r.getParameter(i).isCodeOnly()||o.push(r.getParameter(i));return{type:a,name:a,displayedName:r.getFullName(),fullGroupName:e+r.getGroup(),iconFilename:r.getSmallIconFilename(),metadata:r,parameters:o,scope:n,isPrivate:r.isPrivate()}})).filter(Boolean)},u=function(e){var t=s.asPlatform(s.JsPlatform.get()).getAllPlatformExtensions();return i()(Object(r.mapVector)(t,(function(t){var n=c(t);return l(n,"string"===e?t.getAllStrExpressions():t.getAllExpressions(),{objectMetadata:void 0,behaviorMetadata:void 0})})))},d=function(e,t){var n=s.MetadataProvider.getExtensionAndObjectMetadata(s.JsPlatform.get(),t),r=n.getExtension(),o={objectMetadata:n.getMetadata()},i=l("","string"===e?r.getAllStrExpressionsForObject(t):r.getAllExpressionsForObject(t),o);if(""!==t){var c=s.MetadataProvider.getExtensionAndObjectMetadata(s.JsPlatform.get(),"").getExtension();i=[].concat(Object(a.a)(i),Object(a.a)(l("","string"===e?c.getAllStrExpressionsForObject(""):c.getAllExpressionsForObject(""),o)))}return i},m=function(e,t){var n=s.MetadataProvider.getExtensionAndBehaviorMetadata(s.JsPlatform.get(),t),a=n.getExtension(),r={behaviorMetadata:n.getMetadata()};return l("","string"===e?a.getAllStrExpressionsForBehavior(t):a.getAllExpressionsForBehavior(t),r)},p=function(e){var t=u(e),n=[],o=[],i=s.asPlatform(s.JsPlatform.get()).getAllPlatformExtensions();return Object(r.mapVector)(i,(function(t){var a=c(t);Object(r.mapVector)(t.getExtensionObjectsTypes(),(function(r){var o=t.getObjectMetadata(r);n.push.apply(n,l(a,"string"===e?t.getAllStrExpressionsForObject(r):t.getAllExpressionsForObject(r),{objectMetadata:o}))})),Object(r.mapVector)(t.getBehaviorsTypes(),(function(n){var r=t.getBehaviorMetadata(n);o.push.apply(o,l(a,"string"===e?t.getAllStrExpressionsForBehavior(n):t.getAllExpressionsForBehavior(n),{behaviorMetadata:r}))}))})),[].concat(Object(a.a)(t),n,o)},f=function(e,t){if(!t)return e;var n=t.toLowerCase();return function(e){if(!t)return e;for(var a=0;a<e.length;++a)if(e[a].type.toLowerCase()===n){var r=e[a];e.splice(a,1),e.unshift(r)}return e}(e.filter((function(e){return-1!==e.type.toLowerCase().indexOf(n)})))}}).call(this,n(1))},768:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),r=n(102),o=n(139),i=n(271),s=function(e){var t=e.instructionOrExpressionMetadata,n=e.iconSize,s=e.onClick,c=e.selectedValue;return a.createElement(r.b,{key:Object(i.a)(t),selected:c===Object(i.b)(t.type),primaryText:t.displayedName,secondaryText:t.fullGroupName,leftIcon:a.createElement(o.a,{iconSize:n,src:t.iconFilename}),onClick:s})}},769:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1586),r=n(2),o=n(102),i=n(139),s=n(160),c=n(169),l=n.n(c),u=n(271),d=function e(t){var n=t.instructionTreeNode,c=t.onChoose,d=t.iconSize,m=t.useSubheaders,p=t.selectedValue,f=t.selectedItemRef,h=t.initiallyOpenedPath||[],g=Object(a.a)(h),b=g[0],v=g.slice(1);return l()(Object.keys(n).map((function(t){var a=n[t];if(!a)return null;if("string"===typeof a.type){var l=a,h=Object(u.b)(a.type),g=p===h;return r.createElement(o.b,{key:h,primaryText:t,selected:g,leftIcon:r.createElement(i.a,{iconSize:d,src:l.iconFilename}),onClick:function(){c(l.type,l)},ref:g?f:void 0})}var E=a;if(m)return[r.createElement(s.a,{key:Object(u.f)(t)},t)].concat(e({instructionTreeNode:E,onChoose:c,iconSize:d,useSubheaders:!1,selectedValue:p,selectedItemRef:f,initiallyOpenedPath:v}));var y=b===t;return r.createElement(o.b,{key:t,primaryText:t,autoGenerateNestedIndicator:!0,initiallyOpen:y,renderNestedItems:function(){return e({instructionTreeNode:E,onChoose:c,iconSize:d,selectedValue:p,selectedItemRef:f,initiallyOpenedPath:y?v:void 0})}})})))}},770:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e,t){return e.length>t?e.substring(0,t)+"...":e},r=function(e){return e.replace(/\s/g,"\xa0")}},771:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n(185),o=function(e){var t={canDrag(e,t){var n=t.getItem(),a=e.canDrag||null;return!a||a(n)},beginDrag:e=>e.beginDrag()};var n={canDrop(e,t){var n=t.getItem();return n&&e.canDrop(n)},drop(e,t){t.didDrop()||e.drop()}};var o=Object(r.DragSource)(e,t,(function(e,t){return{connectDragSource:e.dragSource()}}))(Object(r.DropTarget)(e,n,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop()}}))((function(e){return(0,e.children)({connectDragSource:e.connectDragSource,connectDropTarget:e.connectDropTarget,isOver:e.isOver,canDrop:e.canDrop})})));return function(e){return a.createElement(o,e)}}},772:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return f}));var a=n(231),r=n(391),o=n(131),i=e.gd,s="EventsAndInstructions",c=function(){return a.a.has(s)&&a.a.get(s).eventsCount>0},l=function(){return a.a.has(s)&&a.a.get(s).conditionsCount>0},u=function(){return a.a.has(s)&&a.a.get(s).actionsCount>0},d=function(e){var t=new i.EventsList,n=new i.InstructionsList,c=new i.InstructionsList;Object(r.d)(e).forEach((function(e){return t.insertEvent(e,t.getEventsCount())})),Object(r.f)(e).forEach((function(e){e.isCondition?c.insert(e.instruction,c.size()):n.insert(e.instruction,n.size())})),a.a.set(s,{eventsList:Object(o.b)(t),eventsCount:t.getEventsCount(),actionsList:Object(o.b)(n),actionsCount:n.size(),conditionsList:Object(o.b)(c),conditionsCount:c.size()}),t.delete(),n.delete(),c.delete()},m=function(e,t){if(!Object(r.h)(t)||!c())return!1;var n=new i.EventsList;return Object(o.c)(n,a.a.get(s).eventsList,"unserializeFrom",e),Object(r.c)(t).forEach((function(e){e.eventsList.insertEvents(n,0,n.getEventsCount(),e.indexInList)})),n.delete(),!0},p=function(e,t){if(!Object(r.i)(t)&&!Object(r.j)(t)||!l()&&!u())return!1;var n=a.a.get(s),c=new i.InstructionsList,d=new i.InstructionsList;return Object(o.c)(c,n.actionsList,"unserializeFrom",e),Object(o.c)(d,n.conditionsList,"unserializeFrom",e),Object(r.f)(t).forEach((function(e){e.isCondition?e.instrsList.insertInstructions(d,0,d.size(),e.indexInList):e.instrsList.insertInstructions(c,0,c.size(),e.indexInList)})),Object(r.g)(t).forEach((function(e){e.isCondition?e.instrsList.insertInstructions(d,0,d.size(),e.instrsList.size()):e.instrsList.insertInstructions(c,0,c.size(),e.instrsList.size())})),d.delete(),c.delete(),!0},f=function(e,t){if(!l()&&!u())return!1;var n=a.a.get(s),r=new i.InstructionsList,c=new i.InstructionsList;return Object(o.c)(r,n.actionsList,"unserializeFrom",e),Object(o.c)(c,n.conditionsList,"unserializeFrom",e),t.isCondition?t.instrsList.insertInstructions(c,0,c.size(),t.instrsList.size()):t.instrsList.insertInstructions(r,0,r.size(),t.instrsList.size()),c.delete(),r.delete(),!0}}).call(this,n(1))},773:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n(185),o=function(e){var t={canDrop(e,t){var n=t.getItem();return n&&e.canDrop(n)},hover(e,t){e.hover&&e.hover(t)},drop(e,t){t.didDrop()||e.drop(t)}};var n=Object(r.DropTarget)(e,t,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop()}}))((function(e){return(0,e.children)({connectDropTarget:e.connectDropTarget,isOver:e.isOver,canDrop:e.canDrop})}));return function(e){return a.createElement(n,e)}}},774:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(169),r=n.n(a),o=n(92),i=e.gd,s=function(){var e=i.asPlatform(i.JsPlatform.get()).getAllPlatformExtensions();return r()(Object(o.mapFor)(0,e.size(),(function(t){var n=e.at(t).getAllEvents();return n.keys().toJSArray().map((function(e){var t=n.get(e);return{type:e,fullName:t.getFullName(),description:t.getDescription()}}))})))}}).call(this,n(1))},775:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return R}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(77),l=n(2),u=n(301),d=n(92),m=n(97),p=n(521),f=n(110),h=n(79),g=n(126),b=n(177),v=n(3),E=n(209),y=n(399),j=n(273),O=n(306),C=n.n(O),x=n(103),T=n(270),S=n(85),k=n(530),w=n(96),N=n(776),_=e.gd,P={container:{display:"flex",flexDirection:"column",flex:1},emptyContainer:{display:"flex",alignItems:"center",justifyContent:"center"},parametersContainer:{flex:1,overflowY:"auto"},icon:{width:24,height:24,marginRight:8,flexShrink:0},invertToggle:{marginTop:8}},I=function(e,t,n){return!e.isCodeOnly()&&t!==n},R=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._firstVisibleField={},e.state={isDirty:!1},e._openExtension=function(t){if(e.state.isDirty&&!v.b.showConfirmDialog(t._({id:"You've made some changes here. Are you sure you want to discard them and open the function?"})))return;var n=e.props,a=n.instruction,r=n.isCondition,o=n.project,i=a.getType();if(!i)return null;var s=r?_.MetadataProvider.getExtensionAndConditionMetadata(o.getCurrentPlatform(),i).getExtension():_.MetadataProvider.getExtensionAndActionMetadata(o.getCurrentPlatform(),i).getExtension();e.props.openInstructionOrExpression(s,i)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.focusOnMount&&setTimeout((function(){e.focus()}),300)}},{key:"focus",value:function(){var e=this.props,t=e.instruction,n=e.isCondition,a=e.project;0!==this._getVisibleParametersCount(Object(k.a)({instructionType:t.getType(),isCondition:n,project:a}),this.props.objectName)&&this._firstVisibleField&&this._firstVisibleField.focus&&this._firstVisibleField.focus()}},{key:"_getVisibleParametersCount",value:function(e,t){if(!e)return 0;var n=t?Object(T.e)(e):-1;return Object(d.mapFor)(0,e.getParametersCount(),(function(t){if(!e)return!1;var a=e.getParameter(t);return I(a,t,n)})).filter((function(e){return e})).length}},{key:"_renderEmpty",value:function(){return l.createElement("div",{style:Object(a.a)(Object(a.a)({},P.emptyContainer),this.props.style)},l.createElement(m.a,null,this.props.isCondition?l.createElement(c.Trans,{id:"Choose a condition (or an object then a condition) on the left"}):l.createElement(c.Trans,{id:"Choose an action (or an object then an action) on the left"})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.instruction,a=t.project,r=t.globalObjectsContainer,o=t.objectsContainer,i=t.noHelpButton,s=t.objectName,v=t.isCondition,O=t.scope,_=n.getType(),R=Object(k.a)({instructionType:_,isCondition:v,project:a});if(!R)return this._renderEmpty();var B=R.getHelpPath(),M=Object(E.e)(_),F=Object(E.g)(_),A=s?Object(T.e)(R):-1;Object(N.a)(r,o,n,R,s);var L=0;return l.createElement(c.I18n,null,(function(t){var v=t.i18n;return l.createElement("div",{style:P.container},l.createElement(h.b,{alignItems:"center"},l.createElement("img",{src:R.getIconFilename(),alt:"",style:P.icon}),l.createElement(S.a,null,R.getDescription()),Object(j.d)(R)&&l.createElement(x.a,{onClick:function(){e._openExtension(v)}},l.createElement(C.a,null))),M&&l.createElement(h.b,null,void 0===M.identifier?l.createElement(g.a,{kind:M.kind},v._(M.message)):l.createElement(b.a,{kind:M.kind,identifier:M.identifier},v._(M.message))),F.length?l.createElement(h.b,null,l.createElement(w.a,{expand:!0},F.map((function(e){return l.createElement(y.a,{key:e.identifier,tutorialHint:e})})))):null,l.createElement(h.c,null),l.createElement("div",{key:_,style:P.parametersContainer},l.createElement(w.a,{noMargin:!0},Object(d.mapFor)(0,R.getParametersCount(),(function(t){var i=R.getParameter(t);if(!I(i,t,A))return null;var s=i.getType(),c=p.a.getParameterComponent(s),u=0===L;return L++,l.createElement(c,{instructionMetadata:R,instruction:n,parameterMetadata:i,parameterIndex:t,value:n.getParameter(t),onChange:function(a){n.getParameter(t)!==a&&(n.setParameter(t,a),e.setState({isDirty:!0}))},project:a,scope:O,globalObjectsContainer:r,objectsContainer:o,key:t,parameterRenderingService:p.a,resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors,ref:function(t){u&&(e._firstVisibleField=t)}})}))),0===e._getVisibleParametersCount(R,s)&&l.createElement(m.a,null,l.createElement(c.Trans,{id:"There is nothing to configure."})),e.props.isCondition&&l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Invert condition"}),labelPosition:"right",toggled:n.isInverted(),style:P.invertToggle,onToggle:function(t,a){n.setInverted(a),e.forceUpdate()}})),l.createElement(h.b,null,!i&&B&&l.createElement(f.a,{helpPagePath:R.getHelpPath(),label:e.props.isCondition?l.createElement(c.Trans,{id:"Help for this condition"}):l.createElement(c.Trans,{id:"Help for this action"})})))}))}}]),n}(l.Component)}).call(this,n(1))},776:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(270),r=e.gd,o=function(e,t,n,o,i){if(n.setParametersCount(o.getParametersCount()),i){var s=Object(a.e)(o);if(-1!==s){n.setParameter(s,i);var c=s+1;if(c<o.getParametersCount()){var l=o.getParameter(c);if(!r.ParameterMetadata.isBehavior(l.getType()))return;var u=l.getExtraInfo(),d=r.getBehaviorsOfObject(e,t,i,!0).toJSArray().filter((function(n){return!u||r.getTypeOfBehavior(e,t,n,!1)===u}));d.length>0&&n.setParameter(c,d[0])}}else console.error('Instruction "'.concat(o.getFullName(),'" is used for an object, but does not have an object as first parameter'))}}}).call(this,n(1))},777:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(269),i=n(2471),s={chipContainer:{display:"flex",overflowX:"auto",margin:4},chip:{marginLeft:2,marginRight:2}};t.a=function(e){var t=e.tags,n=e.onChange;return t.length?r.a.createElement("div",{style:s.chipContainer},t.map((function(e){return r.a.createElement(i.a,{key:e,size:"small",style:s.chip,onDelete:function(){return n(Object(o.e)(t,e))},label:e})}))):null}},778:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n(79),o=function(e){var t=e.getColumns();return a.createElement(r.b,{noMargin:!0,expand:!0},t.map((function(t){return e.columnsRenderer[t]?e.columnsRenderer[t]():null})))}},779:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return u}));var a=n(100),r=n(131),o=function(e,t){var n=t.historyMaxSize;return{undoHistory:[],current:Object(r.b)(e),redoHistory:[],maxSize:n}},i=function(e){return!!e.redoHistory.length},s=function(e){return!!e.undoHistory.length},c=function(e,t){var n=[].concat(Object(a.a)(e.undoHistory),[e.current]);return n.length>e.maxSize&&n.splice(0,n.length-e.maxSize),{undoHistory:n,current:Object(r.b)(t),redoHistory:[],maxSize:e.maxSize}},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!e.undoHistory.length)return e;var o=e.undoHistory[e.undoHistory.length-1];return Object(r.c)(t,o,"unserializeFrom",n),{undoHistory:e.undoHistory.slice(0,-1),current:o,redoHistory:[].concat(Object(a.a)(e.redoHistory),[e.current]),maxSize:e.maxSize}},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!e.redoHistory.length)return e;var o=e.redoHistory[e.redoHistory.length-1];return Object(r.c)(t,o,"unserializeFrom",n),{undoHistory:[].concat(Object(a.a)(e.undoHistory),[e.current]),current:o,redoHistory:e.redoHistory.slice(0,-1),maxSize:e.maxSize}}},780:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return g}));var a=n(100),r=n(131),o=n(92),i=n(273),s=n(1638),c=e.gd,l=function(e){var t=e.globalObjectsContainer,n=e.objectsContainer,o=e.serializedEvents,i=e.project,l=e.eventsFunction;l.setName("MyFunction"),l.setFunctionType(c.EventsFunction.Action),Object(r.c)(l.getEvents(),o,"unserializeFrom",i);var u=new c.EventsContextAnalyzer(c.JsPlatform.get(),t,n);u.launch(l.getEvents());var d=u.getEventsContext(),m=d.getReferencedObjectOrGroupNames().toNewVectorString().toJSArray(),p=d.getObjectNames().toNewVectorString().toJSArray(),f=m.filter((function(e){return-1===p.indexOf(e)})).map((function(e){return Object(s.a)(t,n,e)})).filter(Boolean),h=f.filter((function(e){return!m.some((function(t){return e.find(t)}))})),g=h.map((function(e){return e.getName()})),b=p.filter((function(e){return!h.some((function(t){return t.find(e)}))})),v=l.getParameters();v.clear(),[].concat(Object(a.a)(g),Object(a.a)(b)).forEach((function(e){var a=new c.ParameterMetadata;a.setType("objectList"),a.setName(e),a.setExtraInfo(c.getTypeOfObject(t,n,e,!0)),v.push_back(a),d.getBehaviorNamesOfObjectOrGroup(e).toNewVectorString().toJSArray().forEach((function(e){var a=new c.ParameterMetadata;a.setType("behavior"),a.setName(e),a.setExtraInfo(c.getTypeOfBehavior(t,n,e,!1)),v.push_back(a)}))})),f.filter((function(e){return!g.includes(e.getName())})).forEach((function(e){e&&l.getObjectGroups().insert(e,0)})),u.delete()},u=function(e,t){var n=new c.Instruction;return n.setType(Object(i.a)(e,t)),n.setParametersCount(t.getParameters().size()+1+1),Object(o.mapVector)(t.getParameters(),(function(e,t){n.setParameter(1+t,e.getName())})),n},d=function(e){return c.Project.validateName(e)},m=function(e){return c.Project.validateName(e)},p=function(e,t){return!e.hasEventsFunctionsExtensionNamed(t)},f=function(e,t,n){return!e.hasEventsFunctionsExtensionNamed(t)||!e.getEventsFunctionsExtension(t).hasEventsFunctionNamed(n.getName())},h=function(e,t,n){return""!==t&&m(t)&&""!==n.getName()&&d(n.getName())&&f(e,t,n)&&""!==n.getFullName()&&""!==n.getSentence()},g=function(e){return e.getParameters().size()>7}}).call(this,n(1))},781:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return L}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(77),l=n(2),u=n(79),d=n(117),m=n(118),p=n(92),f=n(89),h=n(103),g=n(97),b=n(146),v=n(305),E=n.n(v),y=n(110),j=n(109),O=n(188),C=n(24),x=n(782),T=n(1639),S=n(400),k=n(273),w=n(149),N=n.n(w),_=n(199),P=n.n(_),I=n(177),R=n(96),B=n(528),M=e.gd,F={parametersContainer:{flex:1}},A=function(e){var t=e.extraInfo,n=e.setExtraInfo,a=[];try{""!==t&&(a=JSON.parse(t)),Array.isArray(a)||(a=[])}catch(o){console.error("Cannot parse parameter extraInfo: ",o)}var r=function(){return n(JSON.stringify(a))};return l.createElement(R.b,null,l.createElement(u.a,{justifyContent:"flex-end",expand:!0},a.map((function(e,t){return l.createElement(u.b,{key:t,justifyContent:"flex-end",expand:!0,marginSize:"5px"},l.createElement(j.a,{commitOnBlur:!0,value:e,onChange:function(e){a[t]=e,r()},fullWidth:!0}),l.createElement(h.a,{tooltip:{id:"Delete option"},onClick:function(){a.splice(t,1),r()}},l.createElement(P.a,null)))})),l.createElement(u.b,{justifyContent:"flex-end",expand:!0},l.createElement(f.a,{primary:!0,onClick:function(){a.push("New Option"),r()},label:l.createElement(c.Trans,{id:"Add a new option"}),icon:l.createElement(N.a,null)}))))},L=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={longDescriptionShownIndexes:{}},e._addParameter=function(){var t=e.props.eventsFunction.getParameters(),n=new M.ParameterMetadata;n.setType("objectList"),t.push_back(n),n.delete(),e.forceUpdate(),e.props.onParametersUpdated()},e._removeParameter=function(t){var n=e.props.eventsFunction.getParameters();M.removeFromVectorParameterMetadata(n,t),e.forceUpdate(),e.props.onParametersUpdated()},e._addLongDescription=function(t){e.setState((function(e){return{longDescriptionShownIndexes:Object(a.a)(Object(a.a)({},e.longDescriptionShownIndexes),{},{[t]:!0})}}))},e._removeLongDescription=function(t){e.props.eventsFunction.getParameters().at(t).setLongDescription(""),e.setState((function(e){return{longDescriptionShownIndexes:Object(a.a)(Object(a.a)({},e.longDescriptionShownIndexes),{},{[t]:!1})}}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.eventsFunction,r=t.eventsBasedBehavior,o=t.freezeParameters,i=t.helpPagePath,s=a.getParameters();if(!!r&&Object(S.g)(a.getName()))return l.createElement(g.a,null,l.createElement(c.Trans,{id:'This is a "lifecycle method". It will be called automatically by the game engine and has two parameters: "Object" (the object the behavior is acting on) and "Behavior" (the behavior itself).'}));if(!r&&Object(S.h)(a.getName()))return l.createElement(u.a,null,l.createElement(I.a,{kind:"info",identifier:"lifecycle-events-function-included-only-if-extension-used"},l.createElement(c.Trans,{id:"For the lifecycle functions to be executed, you need the extension to be used in the game, either by having at least one action, condition or expression used, or a behavior of the extension added to an object. Otherwise, the extension won't be included in the game."})),l.createElement(g.a,null,l.createElement(c.Trans,{id:'This is a "lifecycle function". It will be called automatically by the game engine. It has no parameters. Only global objects can be used as the events will be run for all scenes in your game.'})));var v=function(e){return!!o||!!r&&e<2},w=function(e){return!r||e>=2},_=function(t,n){return!!w(n)&&(!!t.getLongDescription()||!!e.state.longDescriptionShownIndexes[n])},P=Object(k.c)(!!r);return l.createElement(c.I18n,null,(function(t){var a=t.i18n;return l.createElement(u.a,{noMargin:!0,expand:!0},l.createElement(u.b,{noMargin:!0},l.createElement("div",{style:F.parametersContainer},Object(p.mapVector)(s,(function(t,r){return l.createElement(l.Fragment,{key:r},l.createElement(O.b,null,l.createElement(O.a,null,l.createElement(c.Trans,{id:"Parameter #{0}:",values:{0:r+P}})),l.createElement(u.a,{expand:!0,noMargin:!0},l.createElement(j.a,{commitOnBlur:!0,margin:"none",hintText:{id:"Enter the parameter name (mandatory)"},value:t.getName(),onChange:function(n){(function(e,t){return t?!!M.Project.validateName(t)||(Object(C.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),!1):(Object(C.c)(e._({id:"The name of a parameter can not be empty. Enter a name for the parameter or you won't be able to use it."}),{delayToNextTick:!0}),!1)})(a,n)&&(t.setName(n),e.forceUpdate(),e.props.onParametersUpdated())},disabled:v(r),fullWidth:!0})),l.createElement(b.a,{element:l.createElement(h.a,null,l.createElement(E.a,null)),buildMenuTemplate:function(n){return[{label:n._({id:"Delete"}),enabled:!v(r),click:function(){return e._removeParameter(r)}},{type:"separator"},{label:n._({id:"Add a Long Description"}),enabled:!v(r),visible:!_(t,r),click:function(){return e._addLongDescription(r)}},{label:n._({id:"Remove the Long Description"}),enabled:!v(r),visible:_(t,r),click:function(){return e._removeLongDescription(r)}}]}})),l.createElement(u.b,null,l.createElement(R.a,{expand:!0},l.createElement(R.b,{noMargin:!0},w(r)&&l.createElement(d.a,{floatingLabelText:l.createElement(c.Trans,{id:"Type"}),value:t.getType(),onChange:function(n,a,r){t.setType(r),e.forceUpdate(),e.props.onParametersUpdated()},disabled:v(r),fullWidth:!0},l.createElement(m.a,{value:"objectList",primaryText:{id:"Objects"}}),l.createElement(m.a,{value:"behavior",primaryText:{id:"Behavior (for the previous object)"}}),l.createElement(m.a,{value:"expression",primaryText:{id:"Number"}}),l.createElement(m.a,{value:"string",primaryText:{id:"String (text)"}}),l.createElement(m.a,{value:"stringWithSelector",primaryText:{id:"String from a list of options (text)"}}),l.createElement(m.a,{value:"key",primaryText:{id:"Keyboard Key (text)"}}),l.createElement(m.a,{value:"mouse",primaryText:{id:"Mouse button (text)"}}),l.createElement(m.a,{value:"color",primaryText:{id:"Color (text)"}}),l.createElement(m.a,{value:"layer",primaryText:{id:"Layer (text)"}}),l.createElement(m.a,{value:"sceneName",primaryText:{id:"Scene name (text)"}}),l.createElement(m.a,{value:"yesorno",primaryText:{id:"Yes or no (boolean)"}}),l.createElement(m.a,{value:"trueorfalse",primaryText:{id:"True or false (boolean)"}})),M.ParameterMetadata.isObject(t.getType())&&l.createElement(x.a,{project:n,value:t.getExtraInfo(),onChange:function(n){t.setExtraInfo(n),e.forceUpdate(),e.props.onParametersUpdated()},disabled:v(r)}),"behavior"===t.getType()&&l.createElement(T.a,{project:n,objectType:Object(B.a)(s,r),value:t.getExtraInfo(),onChange:function(n){t.setExtraInfo(n),e.forceUpdate(),e.props.onParametersUpdated()},disabled:v(r)})),"stringWithSelector"===t.getType()&&l.createElement(A,{extraInfo:t.getExtraInfo(),setExtraInfo:function(n){t.setExtraInfo(n),e.forceUpdate()}}),w(r)&&l.createElement(j.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Label"}),floatingLabelFixed:!0,value:t.getDescription(),onChange:function(n){t.setDescription(n),e.forceUpdate()},fullWidth:!0,disabled:!1}),_(t,r)&&l.createElement(j.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Long description"}),floatingLabelFixed:!0,value:t.getLongDescription(),onChange:function(n){t.setLongDescription(n),e.forceUpdate()},multiline:!0,fullWidth:!0,disabled:!1}))))})),0===s.size()?l.createElement(g.a,null,l.createElement(c.Trans,{id:"No parameters for this function."})):null,l.createElement(u.a,null,l.createElement(u.b,{justifyContent:"flex-end",expand:!0},!o&&l.createElement(f.a,{primary:!0,label:l.createElement(c.Trans,{id:"Add a parameter"}),onClick:e._addParameter,icon:l.createElement(N.a,null)}))))),i?l.createElement(u.b,null,l.createElement(y.a,{helpPagePath:i})):l.createElement(u.c,null))}))}}]),n}(l.Component)}).call(this,n(1))},782:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(117),u=n(118),d=n(186),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={objectMetadata:Object(d.b)(e.props.project)},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.value,a=e.onChange,r=e.floatingLabelText,o=e.allowedObjectTypes,i=this.state.objectMetadata,d=function(e){return!!o&&-1===o.indexOf(e)};return c.createElement(l.a,{floatingLabelText:r||c.createElement(s.Trans,{id:"Object type"}),value:n,onChange:function(e,t,n){a(n)},disabled:t,fullWidth:!0},c.createElement(u.a,{value:"",primaryText:{id:"Any object"},disabled:d("")}),i.map((function(e){return""===e.name?null:c.createElement(u.a,{key:e.name,value:e.name,primaryText:e.fullName,disabled:d(e.name)})})))}}]),n}(c.Component)},783:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(92),r=n(169),o=n.n(r),i=function(e,t){var n=e.getAllPlatformExtensions();return o()(Object(a.mapFor)(0,n.size(),(function(e){var t=n.at(e);return t.getBehaviorsTypes().toJSArray().map((function(e){return{behaviorType:e,behaviorMetadata:t.getBehaviorMetadata(e)}})).map((function(e){var n=e.behaviorType,a=e.behaviorMetadata;return{extension:t,behaviorMetadata:a,type:n,defaultName:a.getDefaultName(),fullName:a.getFullName(),description:a.getDescription(),iconFilename:a.getIconFilename(),objectType:a.getObjectType()}}))})))},s=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.fullName.toLowerCase().indexOf(n)||-1!==e.description.toLowerCase().indexOf(n)}))}},784:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(79),u=n(117),d=n(118),m=n(92),p=n(110),f=n(109),h=n(400),g=n(97),b=n(273),v=n(96),E=n(177),y=e.gd,j={icon:{height:32,marginRight:8,flexSrink:0}},O=function(e,t,n){var a=n.getSentence();if(!a)return e._({id:"Enter the sentence that will be displayed in the events sheet"});var r=Object(b.c)(!!t),o=Object(m.mapVector)(n.getParameters(),(function(e,t){if(y.ParameterMetadata.isBehavior(e.getType()))return null;var n="_PARAM".concat(t+r,"_");return-1===a.indexOf(n)?n:null})).filter(Boolean);return o.length?e._({id:"The sentence is probably missing this/these parameter(s):"})+o.join(", "):void 0},C=function(e){return e===y.EventsFunction.Condition?{id:"Example: Is flashing?"}:e===y.EventsFunction.Expression?{id:"Example: Life remaining"}:e===y.EventsFunction.StringExpression?{id:"Example: Equipped shield name"}:{id:"Example: Flash the object"}},x=function(e){return e===y.EventsFunction.Condition?{id:"Example: Check if the object is flashing."}:e===y.EventsFunction.Expression?{id:"Example: Life remaining for the player."}:e===y.EventsFunction.StringExpression?{id:"Example: Name of the shield equipped by the player."}:{id:"Example: Make the object flash for 5 seconds."}},T=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.eventsFunction,a=t.freezeEventsFunctionType,r=t.onConfigurationUpdated,o=t.helpPagePath,i=t.renderConfigurationHeader,m=t.eventsBasedBehavior,b=n.getFunctionType();return!!m&&Object(h.g)(n.getName())?c.createElement(g.a,null,c.createElement(s.Trans,{id:'This is a "lifecycle method". It will be called automatically by the game engine for each instance living on the scene having the behavior.'})):!m&&Object(h.h)(n.getName())?c.createElement(l.a,null,c.createElement(E.a,{kind:"info",identifier:"lifecycle-events-function-included-only-if-extension-used"},c.createElement(s.Trans,{id:"For the lifecycle functions to be executed, you need the extension to be used in the game, either by having at least one action, condition or expression used, or a behavior of the extension added to an object. Otherwise, the extension won't be included in the game."})),c.createElement(g.a,null,c.createElement(s.Trans,{id:'This is a "lifecycle function". It will be called automatically by the game engine. It has no parameters. Only global objects can be used as the events will be run for all scenes in your game.'}))):c.createElement(s.I18n,null,(function(t){var h=t.i18n;return c.createElement(v.a,{expand:!0},i?i():null,c.createElement(v.b,{alignItems:"center",noMargin:!0},c.createElement(l.b,{alignItems:"center",noMargin:!0},c.createElement("img",{src:"res/function32.png",alt:"",style:j.icon}),c.createElement(u.a,{value:b,floatingLabelText:c.createElement(s.Trans,{id:"Function type"}),fullWidth:!0,disabled:!!a,onChange:function(t,a,o){n.setFunctionType(o),r&&r(),e.forceUpdate()}},c.createElement(d.a,{value:y.EventsFunction.Action,primaryText:{id:"Action"}}),c.createElement(d.a,{value:y.EventsFunction.Condition,primaryText:{id:"Condition"}}),c.createElement(d.a,{value:y.EventsFunction.Expression,primaryText:{id:"Expression"}}),c.createElement(d.a,{value:y.EventsFunction.StringExpression,primaryText:{id:"String Expression"}}))),c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Full name displayed in editor"}),hintText:C(b),value:n.getFullName(),onChange:function(t){n.setFullName(t),r&&r(),e.forceUpdate()},fullWidth:!0})),c.createElement(l.b,{noMargin:!0},c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Description, displayed in editor"}),hintText:x(b),fullWidth:!0,multiline:!0,value:n.getDescription(),onChange:function(t){n.setDescription(t),r&&r(),e.forceUpdate()}})),c.createElement(l.b,{noMargin:!0},b===y.EventsFunction.Action||b===y.EventsFunction.Condition?c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Sentence in Events Sheet"}),hintText:{id:"Note: write _PARAMx_ for parameters, e.g: Flash _PARAM1_ for 5 seconds"},fullWidth:!0,value:n.getSentence(),onChange:function(t){n.setSentence(t),r&&r(),e.forceUpdate()},errorText:O(h,m,n)}):null),o?c.createElement(l.b,{noMargin:!0},c.createElement(p.a,{helpPagePath:o})):c.createElement(l.c,null))}))}}]),n}(c.Component)}).call(this,n(1))},79:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));var a=n(2),r=n.n(a),o=function(e){return r.a.createElement("div",{style:{display:"flex",marginTop:e.noMargin?0:4,marginBottom:e.noMargin?0:4,alignItems:e.alignItems,justifyContent:e.justifyContent,flex:e.expand?1:void 0,overflow:e.overflow}},e.children)},i=function(e){return r.a.createElement("div",{style:{display:"flex",marginLeft:e.noMargin?0:8,marginRight:e.noMargin?0:8,flexDirection:"column",alignItems:e.alignItems||"stretch",justifyContent:e.justifyContent,flex:e.expand?1:void 0,minHeight:e.useFullHeight?"0":void 0}},e.children)},s=function(e){return r.a.createElement("span",{style:{width:4,height:4,flexShrink:0}})}},825:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(103),u=n(307),d=n.n(u),m=n(785),p={container:{padding:0,width:32,height:32},icon:{width:16,height:16}},f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return c.a.createElement(m.MosaicContext.Consumer,null,(function(e){var t=e.mosaicActions;return c.a.createElement(m.MosaicWindowContext.Consumer,null,(function(e){var n=e.mosaicWindowActions;return c.a.createElement(l.a,{onClick:function(){t.remove(n.getPath())},style:p.container},c.a.createElement(d.a,{htmlColor:"white",style:p.icon}))}))}))}}]),n}(s.Component)},833:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(1802),l={container:{display:"flex",flex:1}},u=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._onBehaviorEdited=function(){e.props.onLoadEventsFunctionsExtensions()},e.previewWillStart=function(){e.props.isActive&&e.props.onLoadEventsFunctionsExtensions()},e}return Object(r.a)(n,[{key:"getProject",value:function(){return this.props.project}},{key:"getLayout",value:function(){return null}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"shouldComponentUpdate",value:function(e){return!(!this.props.isActive&&!e.isActive)}},{key:"componentDidUpdate",value:function(e){e.isActive&&!this.props.isActive&&this.props.onLoadEventsFunctionsExtensions()}},{key:"componentWillUnmount",value:function(){this.props.isActive&&this.props.onLoadEventsFunctionsExtensions()}},{key:"getEventsFunctionsExtension",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasEventsFunctionsExtensionNamed(n)?t.getEventsFunctionsExtension(n):null}},{key:"selectEventsFunctionByName",value:function(e,t){this.editor&&this.editor.selectEventsFunctionByName(e,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.projectItemName,r=this.getEventsFunctionsExtension();if(!r||!n)return s.createElement("div",null,"No extension called ",a," found!");var o=this.props.extraEditorProps||{},i=o.initiallyFocusedFunctionName,u=o.initiallyFocusedBehaviorName;return s.createElement("div",{style:l.container},s.createElement(c.a,{key:r.ptr,project:n,eventsFunctionsExtension:r,setToolbar:this.props.setToolbar,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.props.onCreateEventsFunction,initiallyFocusedFunctionName:i,initiallyFocusedBehaviorName:u,onBehaviorEdited:this._onBehaviorEdited,ref:function(t){return e.editor=t},unsavedChanges:this.props.unsavedChanges}))}}]),n}(s.Component),d=function(e){return s.createElement(u,e)}},834:function(e,t,n){"use strict";var a=n(77),r=n(2),o=n.n(r),i=n(87),s=n(1805),c=n(90),l=n(308),u=n(176);t.a=function(e){var t=e.project,n=e.group,r=e.onApply,d=e.onCancel,m=e.globalObjectsContainer,p=e.objectsContainer,f=Object(u.a)(),h=Object(l.a)({serializableObject:n,onCancel:d});return o.a.createElement(c.a,{key:n.ptr,actions:[o.a.createElement(i.a,{key:"cancel",label:o.a.createElement(a.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:h}),o.a.createElement(i.a,{key:"apply",label:o.a.createElement(a.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:r})],noMargin:!0,cannotBeDismissed:!0,onRequestClose:h,open:!0,title:"Edit ".concat(n.getName()," group")},o.a.createElement(s.a,{project:t,group:n,globalObjectsContainer:m,objectsContainer:p,onSizeUpdated:f}))}},836:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var a=n(120),r=n.n(a),o=n(133),i=n(98),s=n(2),c=n(417),l=n(378),u=n(837),d=s.createContext({filters:null,authors:null,licenses:null,searchResults:null,fetchResourcesAndFilters:function(){},error:null,searchText:"",setSearchText:function(){},filtersState:{chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},chosenCategory:null,setChosenCategory:function(){}}}),m=function(e){return e.name+"\n"+e.tags.join(", ")},p=function(e){var t=e.children,n=s.useState(null),a=Object(i.a)(n,2),p=a[0],f=a[1],h=s.useState(null),g=Object(i.a)(h,2),b=g[0],v=g[1],E=s.useState(null),y=Object(i.a)(E,2),j=y[0],O=y[1],C=s.useState(null),x=Object(i.a)(C,2),T=x[0],S=x[1],k=s.useState(null),w=Object(i.a)(k,2),N=w[0],_=w[1],P=s.useRef(!1),I=s.useState(""),R=Object(i.a)(I,2),B=R[0],M=R[1],F=Object(c.b)(),A=s.useCallback((function(){p||P.current||Object(o.a)(r.a.mark((function e(){var t,n,a,o,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(null),P.current=!0,e.prev=2,e.next=5,Object(l.e)();case 5:return t=e.sent,n=t.resources,a=t.filters,e.next=10,Object(l.c)();case 10:return o=e.sent,e.next=13,Object(l.d)();case 13:i=e.sent,s={},n.forEach((function(e){s[e.url]=e})),console.info("Loaded ".concat(n.length," resources from the asset store.")),f(s),v(a),O(o),S(i),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),console.error("Unable to load the assets from the asset store:",e.t0),_(e.t0);case 27:P.current=!1;case 28:case"end":return e.stop()}}),e,null,[[2,23]])})))()}),[p,P]);s.useEffect((function(){if(!p&&!P.current){var e=setTimeout((function(){console.info("Pre-fetching resources from asset store..."),A()}),6e3);return function(){return clearTimeout(e)}}}),[A,p,P]);var L=F.chosenCategory,D=F.chosenFilters,U=Object(u.a)(p,m,B,L,D),V=s.useMemo((function(){return{searchResults:U,fetchResourcesAndFilters:A,filters:b,authors:j,licenses:T,error:N,searchText:B,setSearchText:M,filtersState:F}}),[U,N,b,j,T,B,F,A]);return s.createElement(d.Provider,{value:V},t)}},837:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(98),r=n(392),o=n(2),i=n(1806),s=n.n(i),c=n(1811),l=n.n(c),u=function(e,t,n){if(!e)return null;var a=performance.now(),o=e.filter((function(e){var n=e.tags;if(!t)return!0;if(!n.some((function(e){return e===t.node.name})))return!1;var a,o=Object(r.a)(t.parentNodes);try{var i=function(){var e=a.value;if(!n.some((function(t){return t===e.name})))return{v:!1}};for(o.s();!(a=o.n()).done;){var s=i();if("object"===typeof s)return s.v}}catch(c){o.e(c)}finally{o.f()}return!0})).filter((function(e){var t=e.tags;return 0===n.size||t.some((function(e){return n.has(e)}))})),i=performance.now()-a;return console.info("Filtered items by category/filters in ".concat(i.toFixed(3),"ms.")),o},d=function(e,t,n,r,i){var c=o.useRef(null),d=o.useState(null),m=Object(a.a)(d,2),p=m[0],f=m[1],h=o.useMemo((function(){return e?s()(Object.keys(e).map((function(t){return e[t]}))):null}),[e]);o.useEffect((function(){if(e){var n=performance.now();c.current&&(c.current.terminate(),c.current=null);try{var a=new l.a,r=Object.keys(e);r.forEach((function(n){var r=e[n];a.indexDocument(n,t(r))}));var o=performance.now()-n;console.info("Indexed ".concat(r.length," items in ").concat(o.toFixed(3),"ms.")),c.current=a}catch(i){console.error("Error while indexing items: ",i)}}}),[e,t]);var g=c.current;return o.useEffect((function(){var t=!1;if(n){if(!e||!g)return void console.info("Search for items skipped because items are not ready - will be retried when ready");var a=performance.now();g.search(n).then((function(n){if(t)console.info("Discarding search results as a new search was launched.");else{var o=n.map((function(t){return e[t]})).filter(Boolean),s=performance.now()-a;console.info("Found ".concat(o.length," items in ").concat(s.toFixed(3),"ms.")),f(u(o,r,i))}}))}else f(u(h,r,i));return function(){t=!0}}),[h,e,n,r,i,g]),p}},839:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(77),r=n(2),o=n(128),i=n(236),s=n(840),c=n(207),l=n(97),u={container:{flex:1},grid:{overflowX:"hidden"}},d=function(e){var t=e.searchItems,n=e.renderSearchItem,d=e.error,m=e.onRetry;return t?0===t.length?r.createElement(l.a,null,r.createElement(a.Trans,{id:"No results returned for your search. Try something else, browse the categories or create your object from scratch!"})):r.createElement(s.a,null,r.createElement("div",{style:u.container},r.createElement(c.a,null,(function(e){var a=e.width,o=e.height;if(!a||!o)return null;var i=Math.max(Math.floor((a-5)/128),1),s=Math.max(Math.floor(a/i),30),l=Math.max(1,Math.ceil(t.length/i));return r.createElement(c.c,{width:a,height:o,columnCount:i,columnWidth:s,rowHeight:s,rowCount:l,cellRenderer:function(e){var a=e.columnIndex,o=e.key,c=e.rowIndex,l=e.style,u=c*i+a,d=u<t.length?t[u]:null;return r.createElement("div",{key:o,style:l},d?n(d,s):null)},style:u.grid})})))):d?r.createElement(i.a,{onRetry:m},r.createElement(a.Trans,{id:"Can't load the results. Verify your internet connection or retry later."})):r.createElement(o.a,null)}},840:function(e,t,n){"use strict";var a=n(77),r=n(2),o=n(1812),i=n.n(o),s=n(1814),c=n.n(s),l=n(275),u=n(2365),d=n(89),m=n(9),p=n(3),f=n(85),h=n(79),g=n(10),b=n(28),v=function(e,t){console.error("Error catched by Boundary:",e,t),Object(m.e)("Error catched by error boundary","error-boundary",{error:e,componentStack:t},"error-boundary-error")},E=function(e){var t=e.componentStack,n=e.error;return r.createElement(l.a,null,r.createElement(h.b,null,r.createElement(c.a,{fontSize:"large"}),r.createElement(h.c,null),r.createElement(f.a,{size:"title"},"This editor encountered a problem.")),r.createElement(u.a,null),r.createElement(f.a,null,"Something wrong happened :(",r.createElement("br",null),"Please ",r.createElement("b",null,"backup your game file")," and save your game to ensure that you don't lose anything."),r.createElement(f.a,null,"The error was automatically reported.",r.createElement("br",null),"To make sure it's fixed, you may report it on GitHub, the platform where GDevelop is developed:"),r.createElement(d.a,{label:r.createElement(a.Trans,{id:"Report the issue on GitHub"}),onClick:function(){var e="\n=> Please write here a short description of when the error occured and how to reproduce it.\nYou also may have to create an account on GitHub before posting.\n\nWhen you're ready, click on \"Submit new issue\". Don't change the rest of the message. Thanks!\n\n## Error stack (don't write anything here)\n```\n".concat(n?n.stack:"No error found","\n```\n\n## Component stack (don't write anything here)\n```\n").concat(t||"No component stack found","\n```\n\n## Other details\n* IDE version: ").concat(Object(g.c)(),"\n* Arch: ").concat(Object(b.a)(),",\n* Platform Name: ").concat(Object(b.b)(),",\n* System Version: ").concat(Object(b.c)(),",\n* User Agent: ").concat(Object(b.d)(),",\n        ");p.b.openExternalURL("https://github.com/4ian/GDevelop/issues/new?body=".concat(encodeURIComponent(e),"&title=Crash%20while%20using%20an%20editor"))}}))};t.a=function(e){return r.createElement(i.a,{FallbackComponent:E,onError:v},e.children)}},845:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(617);t.a=function(e){return r.a.createElement(o.a,Object.assign({},e,{viewBox:"0 -3 24 24"}),r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Create",fillRule:"nonzero"},r.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"24 8 18 2 18 6 14 6 14 10 18 10 18 14"}),r.a.createElement("g",{id:"Group-2",fill:"#27AAE1"},r.a.createElement("rect",{id:"Rectangle-path",transform:"translate(2.999518, 3.574897) rotate(-45.000000) translate(-2.999518, -3.574897) ",x:"1.58553176",y:"0.746924118",width:"2.82797288",height:"5.65594576"}),r.a.createElement("rect",{id:"Rectangle-path",transform:"translate(10.999518, 11.574897) rotate(-45.000000) translate(-10.999518, -11.574897) ",x:"9.58553176",y:"8.74692412",width:"2.82797288",height:"5.65594576"}),r.a.createElement("rect",{id:"Rectangle-path",transform:"translate(2.999518, 11.574897) rotate(-135.000000) translate(-2.999518, -11.574897) ",x:"1.58553176",y:"8.74692412",width:"2.82797288",height:"5.65594576"}),r.a.createElement("rect",{id:"Rectangle-path",transform:"translate(10.999518, 3.574897) rotate(-135.000000) translate(-10.999518, -3.574897) ",x:"9.58553176",y:"0.746924118",width:"2.82797288",height:"5.65594576"})))))}},846:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(617);t.a=function(e){return r.a.createElement(o.a,Object.assign({},e,{viewBox:"0 -6 24 24"}),r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Step",fillRule:"nonzero"},r.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"7.5 4.5 3 0 3 3 0 3 0 6 3 6 3 9"}),r.a.createElement("circle",{id:"Oval",fill:"#27AAE1",cx:"12",cy:"4.5",r:"3"}),r.a.createElement("circle",{id:"Oval",fill:"#FFFFFF",cx:"12",cy:"4.5",r:"1.5"}),r.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"24 4.5 19.5 0 19.5 3 16.5 3 16.5 6 19.5 6 19.5 9"}))))}},847:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(617);t.a=function(e){return r.a.createElement(o.a,Object.assign({},e,{viewBox:"0 -3 24 24"}),r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Destroy",transform:"translate(0.000000, -1.000000)",fillRule:"nonzero"},r.a.createElement("g",{id:"Group",transform:"translate(0.000000, 1.000000)"},r.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"9.92307692 7.07692308 4.38461538 1.53846154 4.38461538 5.23076923 0.692307692 5.23076923 0.692307692 8.92307692 4.38461538 8.92307692 4.38461538 12.6153846"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(10.845138, 3.385446) rotate(-45.000000) translate(-10.845138, -3.385446) ",x:"9.53992021",y:"0.77500965",width:"2.6104365",height:"5.22087301"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(18.229754, 10.770062) rotate(-45.000000) translate(-18.229754, -10.770062) ",x:"16.9245356",y:"8.15962503",width:"2.6104365",height:"5.22087301"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(10.846985, 10.770246) rotate(-135.000000) translate(-10.846985, -10.770246) ",x:"9.54176636",y:"8.15980965",width:"2.6104365",height:"5.22087301"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(18.231600, 3.385631) rotate(-135.000000) translate(-18.231600, -3.385631) ",x:"16.9263817",y:"0.775194265",width:"2.6104365",height:"5.22087301"})),r.a.createElement("g",{id:"Group",opacity:"0.1",transform:"translate(2.538462, 0.692308)"},r.a.createElement("rect",{id:"Rectangle-path",fill:"#000000",transform:"translate(7.616400, 11.768538) rotate(135.000000) translate(-7.616400, -11.768538) ",x:"5.98441565",y:"10.4633202",width:"3.2639687",height:"2.6104365"}),r.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"7.38461538 7.38461538 1.83645766 1.87268753 1.83645766 3.7132995 6.46153846 8.30769231"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(8.308523, 3.693323) rotate(-135.000000) translate(-8.308523, -3.693323) ",x:"5.69808657",y:"2.38810482",width:"5.22087301",height:"2.6104365"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(15.693138, 11.077938) rotate(-135.000000) translate(-15.693138, -11.077938) ",x:"13.082702",y:"9.77272021",width:"5.22087301",height:"2.6104365"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(9.460009, 9.922714) rotate(45.000000) translate(-9.460009, -9.922714) ",x:"8.15479058",y:"8.94333902",width:"2.6104365",height:"1.95875045"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(15.693138, 3.693323) rotate(-135.000000) translate(-15.693138, -3.693323) ",x:"14.3879202",y:"1.08288657",width:"2.6104365",height:"5.22087301"})))))}},848:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(617);t.a=function(e){return r.a.createElement(o.a,e,r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Function",fillRule:"nonzero"},r.a.createElement("path",{d:"M24,14.5714286 L24,9.42857143 L21.948,9.42857143 C21.7045714,8.48742857 21.336,7.59942857 20.8525714,6.78342857 L22.3028571,5.33314286 L18.6668571,1.69542857 L17.2165714,3.14571429 C16.4005714,2.664 15.5125714,2.29371429 14.5714286,2.05028571 L14.5714286,0 L9.42857143,0 L9.42857143,2.052 C8.48742857,2.29542857 7.59942857,2.664 6.78342857,3.14742857 L5.33314286,1.69714286 L1.69714286,5.33314286 L3.14742857,6.78342857 C2.66571429,7.59942857 2.29542857,8.48742857 2.052,9.42857143 L0,9.42857143 L0,14.5714286 L2.052,14.5714286 C2.29542857,15.5125714 2.664,16.4005714 3.14742857,17.2165714 L1.69714286,18.6668571 L5.33314286,22.3045714 L6.78342857,20.8542857 C7.59942857,21.336 8.48742857,21.7062857 9.42857143,21.9497143 L9.42857143,24 L14.5714286,24 L14.5714286,21.948 C15.5125714,21.7045714 16.4005714,21.336 17.2165714,20.8525714 L18.6668571,22.3028571 L22.3028571,18.6651429 L20.8525714,17.2148571 C21.3342857,16.3988571 21.7045714,15.5108571 21.948,14.5697143 L24,14.5697143 L24,14.5714286 Z",id:"Shape",fill:"#27AAE1"}),r.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"17.1428571 7.71428571 10.2857143 11.1428571 10.2857143 12 12 12.8571429 15.4285714 11.1428571 15.4285714 13.7142857 12 15.456 8.57142857 13.7142857 8.57142857 10.2857143 12 8.57142857 15.4285714 6.85714286 12 5.14285714 5.14285714 8.57142857 5.14285714 15.4285714 12 18.8571429 17.5714286 16.0714286 18.8571429 15.4285714 18.8571429 15 18.8571429 8.57142857"}),r.a.createElement("g",{id:"Group",opacity:"0.1"},r.a.createElement("path",{d:"M3.14571429,6.78342857 C2.664,7.59942857 2.29371429,8.48742857 2.05028571,9.42857143 L0,9.42857143 L0,14.5714286 L2.052,14.5714286 C2.29542857,15.5125714 2.664,16.4005714 3.14742857,17.2165714 L1.69714286,18.6668571 L5.33314286,22.3045714 L6.78342857,20.8542857 C7.59942857,21.336 8.48742857,21.7062857 9.42857143,21.9497143 L9.42857143,24 L14.5714286,24 L14.5714286,21.948 C15.5125714,21.7045714 16.4005714,21.336 17.2165714,20.8525714 L18.6668571,22.3028571 L20.4857143,20.484 L3.51428571,3.51428571 L1.69714286,5.33314286 L3.14571429,6.78342857 Z",id:"Shape",fill:"#000000"}),r.a.createElement("path",{d:"M22.3028571,18.6668571 L20.8525714,17.2165714 C21.3342857,16.4005714 21.7045714,15.5125714 21.948,14.5714286 L24,14.5714286 L24,9.42857143 L21.948,9.42857143 C21.7045714,8.48742857 21.336,7.59942857 20.8525714,6.78342857 L22.3028571,5.33314286 L18.6668571,1.69542857 L17.2165714,3.14571429 C16.4005714,2.664 15.5125714,2.29371429 14.5714286,2.05028571 L14.5714286,0 L9.42857143,0 L9.42857143,2.052 C8.48742857,2.29542857 7.59942857,2.664 6.78342857,3.14742857 L5.33314286,1.69714286 L3.51428571,3.51428571 L20.484,20.484 L22.3028571,18.6668571 Z",id:"Shape",fill:"#FFFFFF"})))))}},849:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(617);t.a=function(e){return r.a.createElement(o.a,Object.assign({},e,{viewBox:"0 -6 24 24"}),r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Activate",fillRule:"nonzero"},r.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",x:"0",y:"0",width:"24",height:"10.2857143"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#2B3990",x:"1.71428571",y:"1.71428571",width:"10.2857143",height:"6.85714286"}),r.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"20.5710245 1.71428571 18.8571429 3.42897546 17.1432612 5.14285714 15.4285714 6.85673883 17.1432612 8.57142857 18.8571429 6.85673883 20.5710245 5.14285714 22.2857143 3.42897546"}),r.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"18.8567388 3.42857143 17.1428571 5.14326117 15.4289755 3.42857143 13.7142857 5.14326117 15.4289755 6.85714286 18.8567388 6.85714286 20.5714286 5.14326117"}))))}},85:function(e,t,n){"use strict";var a=n(83),r=n(2),o=n(2368);t.a=function(e){var t=e.children,n=e.style,i=e.size,s=e.align,c=e.noShrink,l=e.noMargin;return r.createElement(o.a,{variant:"title"===i?"h6":"body2"===i?"body2":"body1",style:Object(a.a)(Object(a.a)({},n),{},{flexShrink:c?0:void 0,marginTop:l?0:6,marginBottom:l?0:6}),align:s||"inherit"},t)}},850:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(617);t.a=function(e){return r.a.createElement(o.a,Object.assign({},e,{viewBox:"0 -6 24 24"}),r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Deactivate",fillRule:"nonzero"},r.a.createElement("rect",{id:"Rectangle-path",fill:"#2B3990",x:"0",y:"0",width:"24",height:"10.2857143"}),r.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"6.85673883 1.71428571 5.14285714 3.42897546 3.42897546 1.71428571 1.71428571 3.42897546 3.42897546 5.14285714 1.71428571 6.85673883 3.42897546 8.57142857 5.14285714 6.85673883 6.85673883 8.57142857 8.57142857 6.85673883 6.85673883 5.14285714 8.57142857 3.42897546"}),r.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",x:"12",y:"1.71428571",width:"10.2857143",height:"6.85714286"}))))}},851:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(517),d=n(89),m=n(275),p=n(852),f=n(85),h=n(79),g={container:{display:"flex",flex:1}},b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={layoutChooserOpen:!1},e.setAssociatedLayout=function(t){var n=e.getExternalEvents();n&&(n.setAssociatedLayout(t),e.setState({layoutChooserOpen:!1},(function(){return e.updateToolbar()})))},e.openLayoutChooser=function(){e.setState({layoutChooserOpen:!0})},e}return Object(r.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.isActive}},{key:"getProject",value:function(){return this.props.project}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"getExternalEvents",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasExternalEventsNamed(n)?t.getExternalEvents(n):null}},{key:"getLayout",value:function(){var e=this.props.project;if(!e)return null;var t=this.getExternalEvents();if(!t)return null;var n=t.getAssociatedLayout();return e.hasLayoutNamed(n)?e.getLayout(n):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.projectItemName,r=this.getExternalEvents(),o=this.getLayout();return r&&n?l.a.createElement("div",{style:g.container},o&&l.a.createElement(u.a,{ref:function(t){return e.editor=t},setToolbar:this.props.setToolbar,onOpenLayout:this.props.onOpenLayout,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.props.onCreateEventsFunction,unsavedChanges:this.props.unsavedChanges,project:n,scope:{layout:o},globalObjectsContainer:n,objectsContainer:o,events:r.getEvents(),onOpenSettings:this.openLayoutChooser,onOpenExternalEvents:this.props.onOpenExternalEvents}),!o&&l.a.createElement(m.a,null,l.a.createElement(f.a,null,l.a.createElement(s.Trans,{id:"To edit the external events, choose the scene in which it will be included:"})),l.a.createElement(h.b,{justifyContent:"center"},l.a.createElement(d.a,{label:l.a.createElement(s.Trans,{id:"Choose the scene"}),primary:!0,onClick:this.openLayoutChooser}))),l.a.createElement(p.a,{title:l.a.createElement(s.Trans,{id:"Choose the associated scene"}),helpText:"You still need to add a Link event in the scene to import the external events",open:this.state.layoutChooserOpen,project:n,onChoose:this.setAssociatedLayout,onClose:function(){return e.setState({layoutChooserOpen:!1})}})):l.a.createElement("div",null,"No external events called ",a," found!")}}]),n}(l.a.Component),v=function(e){return l.a.createElement(b,e)}},852:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(87),d=n(2371),m=n(2462),p=n(2473),f=n(90),h=n(92),g=n(85),b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={selectedLayoutName:e.layoutName},r}return Object(r.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.layoutName!==this.props.layoutName&&this.setState({selectedLayoutName:e.layoutName})}},{key:"chooseLayout",value:function(e){this.setState({selectedLayoutName:e})}},{key:"render",value:function(){var e=this,t=[l.a.createElement(u.a,{key:"cancel",label:l.a.createElement(s.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onClose}),l.a.createElement(u.a,{key:"choose",label:l.a.createElement(s.Trans,{id:"Choose"}),primary:!0,keyboardFocused:!0,onClick:function(){return e.props.onChoose(e.state.selectedLayoutName)},disabled:!this.state.selectedLayoutName})],n=this.props.project,a=this.state.selectedLayoutName,r=Object(h.mapFor)(0,n.getLayoutsCount(),(function(e){return n.getLayoutAt(e).getName()}));return l.a.createElement(f.a,{actions:t,open:this.props.open,title:this.props.title,onRequestClose:this.props.onClose,cannotBeDismissed:!1,fullWidth:!0,maxWidth:"sm"},this.props.helpText&&l.a.createElement(g.a,null,this.props.helpText),l.a.createElement(p.a,{"aria-label":"Associated scene",name:"associated-layout",value:a,onChange:function(t){return e.chooseLayout(t.target.value)}},r.map((function(e){return l.a.createElement(d.a,{key:e,value:e,control:l.a.createElement(m.a,{color:"primary"}),label:e})}))))}}]),n}(c.Component)},854:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(89),u=n(855),d=n(131),m=n(275),p=n(852),f=n(79),h=n(85),g={container:{display:"flex",flex:1}},b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={layoutChooserOpen:!1},e.setAssociatedLayout=function(t){var n=e.getExternalLayout();n&&(n.setAssociatedLayout(t),e.setState({layoutChooserOpen:!1},(function(){return e.updateToolbar()})))},e.openLayoutChooser=function(){e.setState({layoutChooserOpen:!0})},e.saveUiSettings=function(){var t=e.getExternalLayout(),n=e.editor;n&&t&&Object(d.c)(t.getAssociatedSettings(),n.getUiSettings())},e}return Object(r.a)(n,[{key:"getProject",value:function(){return this.props.project}},{key:"shouldComponentUpdate",value:function(e){return!(!this.props.isActive&&!e.isActive)}},{key:"componentDidMount",value:function(){if(this.props.isActive){var e=this.props.projectItemName,t=this.getLayout();this.props.setPreviewedLayout(t?t.getName():null,e)}}},{key:"componentDidUpdate",value:function(e){if(!e.isActive&&this.props.isActive){var t=this.props.projectItemName,n=this.getLayout();this.props.setPreviewedLayout(n?n.getName():null,t)}}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"getExternalLayout",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasExternalLayoutNamed(n)?t.getExternalLayout(n):null}},{key:"getLayout",value:function(){var e=this.props.project;if(!e)return null;var t=this.getExternalLayout();if(!t)return null;var n=t.getAssociatedLayout();return e.hasLayoutNamed(n)?e.getLayout(n):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.projectItemName,r=t.isActive,o=this.getExternalLayout(),i=this.getLayout();return o&&n?c.createElement("div",{style:g.container},i&&c.createElement(u.a,{setToolbar:this.props.setToolbar,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,unsavedChanges:this.props.unsavedChanges,hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps,ref:function(t){return e.editor=t},project:n,layout:i,initialInstances:o.getInitialInstances(),initialUiSettings:Object(d.b)(o.getAssociatedSettings()),onOpenMoreSettings:this.openLayoutChooser,isActive:r}),!i&&c.createElement(m.a,null,c.createElement(h.a,null,c.createElement(s.Trans,{id:"To edit the external layout, choose the scene in which it will be included:"})),c.createElement(f.b,{justifyContent:"center"},c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Choose the scene"}),primary:!0,onClick:this.openLayoutChooser}))),c.createElement(p.a,{title:c.createElement(s.Trans,{id:"Choose the associated scene"}),open:this.state.layoutChooserOpen,project:n,onChoose:this.setAssociatedLayout,onClose:function(){return e.setState({layoutChooserOpen:!1})}})):c.createElement("div",null,"No external layout called ",a," found!")}}]),n}(c.Component),v=function(e){return c.createElement(b,e)}},855:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Q}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(77),l=n(2),u=n(719),d=n.n(u),m=n(908),p=n(916),f=n(187),h=(n(903),n(1833)),g=n(1834),b=n(2264),v=n(1838),E=n(1839),y=n(230),j=n(1840),O=n(834),C=n(418),x=n(1872),T=n(720),S=n(2283),k=n(131),w=n(231),N=n(3),_=n(1873),P=n(403),I=n(402),R=n(334),B=n(24),M=n(770),F=n(398),A=n(2267),L=n(779),D=n(763),U=n(186),V=n(1875),W=n(825),G=n(269),z=n(163),H=n(723),K=n(113),Y=n(1876),X=e.gd,J={container:{display:"flex",flex:1,position:"relative",overflow:"hidden"}},q={direction:"row",first:"properties",splitPercentage:23,second:{direction:"row",first:"instances-editor",second:"objects-list",splitPercentage:77}},Z={direction:"row",first:"instances-editor",second:"objects-list",splitPercentage:70},Q=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e)).openObjectsList=function(){o.editorMosaic&&(o.editorMosaic.openEditor("objects-list","end",75,"column")||o.setState({showObjectsListInfoBar:!0}))},o.openProperties=function(){o.editorMosaic&&(o.editorMosaic.openEditor("properties","start",25,"column")||o.setState({showPropertiesInfoBar:!0}))},o.openObjectGroupsList=function(){o.editorMosaic&&o.editorMosaic.openEditor("object-groups-list","end",75,"column")},o.toggleInstancesList=function(){o.editorMosaic&&(o.editorMosaic.openEditor("instances-list","end",75,"row")||o.setState({showInstancesInfoBar:!0}))},o.toggleLayersList=function(){o.editorMosaic&&(o.editorMosaic.openEditor("layers-list","end",75,"row")||o.setState({showLayersInfoBar:!0}))},o.toggleWindowMask=function(){o.setState({uiSettings:Object(a.a)(Object(a.a)({},o.state.uiSettings),{},{windowMask:!o.state.uiSettings.windowMask})})},o.toggleGrid=function(){o.setState({uiSettings:Object(a.a)(Object(a.a)({},o.state.uiSettings),{},{grid:!o.state.uiSettings.grid,snap:!o.state.uiSettings.grid})})},o.openSetupGrid=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o.setState({setupGridOpen:e})},o.openSceneProperties=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o.setState({scenePropertiesDialogOpen:e})},o.openObjectEditor=function(){if(o.instancesSelection.hasSelectedInstances()){var e=o.instancesSelection.getSelectedInstances()[0].getObjectName();o.editObjectByName(e)}},o.editLayerEffects=function(e){o.setState({editedLayer:e,editedLayerInitialTab:"effects"})},o.editLayer=function(e){o.setState({editedLayer:e,editedLayerInitialTab:"properties"})},o.editInstanceVariables=function(e){o.setState({variablesEditedInstance:e})},o.editObjectVariables=function(e){o.setState({variablesEditedObject:e})},o.editLayoutVariables=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o.setState({layoutVariablesDialogOpen:e})},o.editObject=function(e){var t=o.props.project;e?o.setState({editedObjectWithContext:{object:e,global:t.hasObjectNamed(e.getName())}}):o.setState({editedObjectWithContext:null})},o.editObjectByName=function(e){var t=o.props,n=t.project,a=t.layout;a.hasObjectNamed(e)?o.editObject(a.getObject(e)):n.hasObjectNamed(e)&&o.editObject(n.getObject(e))},o.editGroup=function(e){o.setState({editedGroup:e})},o.setUiSettings=function(e){o.setState({uiSettings:Object(a.a)(Object(a.a)({},o.state.uiSettings),e)})},o.undo=function(){o.instancesSelection.clearSelection(),o.setState({history:Object(L.f)(o.state.history,o.props.initialInstances)},(function(){o.editor&&o.editor.forceRemount(),o.updateToolbar()}))},o.redo=function(){o.instancesSelection.clearSelection(),o.setState({history:Object(L.d)(o.state.history,o.props.initialInstances)},(function(){o.editor&&o.editor.forceRemount(),o.updateToolbar()}))},o._onObjectSelected=function(e){e?o.setState({selectedObjectNames:[e]}):o.setState({selectedObjectNames:[]})},o._createNewObjectAndInstanceUnderCursor=function(){o.editor&&(o.setState({newObjectInstanceSceneCoordinates:o.editor.getLastCursorSceneCoordinates()}),o._objectsList&&o._objectsList.setState({newObjectDialogOpen:!0}))},o._onAddInstanceUnderCursor=function(){if(o.state.selectedObjectNames.length&&o.editor){var e=o.state.selectedObjectNames[0],t=o.editor.getLastCursorSceneCoordinates();o._addInstance(t,e),o.setState({selectedObjectNames:[e]})}},o._addInstance=function(e,t){if(t&&o.editor){var n=o.editor.addInstances(e,[t]);o._onInstancesAdded(n)}},o._onInstancesAdded=function(e){e.forEach((function(e){var t=Object(Y.a)(e,o.props.layout,o.props.project);t&&o.setState({additionalWorkInfoBar:t,showAdditionalWorkInfoBar:!0})})),o.setState({history:Object(L.e)(o.state.history,o.props.initialInstances)},(function(){return o.updateToolbar()}))},o._onInstancesSelected=function(e){o.setState({selectedObjectNames:d()(e.map((function(e){return e.getObjectName()})))}),o.forceUpdatePropertiesEditor(),o.updateToolbar()},o._onInstanceDoubleClicked=function(e){o.editObjectByName(e.getObjectName())},o._onInstancesMoved=function(e){o.setState({history:Object(L.e)(o.state.history,o.props.initialInstances)},(function(){return o.forceUpdatePropertiesEditor()}))},o._onInstancesResized=function(e){o.setState({history:Object(L.e)(o.state.history,o.props.initialInstances)},(function(){return o.forceUpdatePropertiesEditor()}))},o._onInstancesRotated=function(e){o.setState({history:Object(L.e)(o.state.history,o.props.initialInstances)},(function(){return o.forceUpdatePropertiesEditor()}))},o._onInstancesModified=function(e){o.forceUpdate()},o._onSelectInstances=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];o.instancesSelection.selectInstances(e,!1),t&&o.editor&&o.editor.centerViewOn(e),o.forceUpdatePropertiesEditor(),o.updateToolbar()},o._addInstanceForNewObject=function(e){var t=o.state.newObjectInstanceSceneCoordinates;t&&(o._addInstance(t,e),o.setState({newObjectInstanceSceneCoordinates:null}))},o._onObjectCreated=function(e){var t=Object(Y.b)(e,o.props.layout,o.props.project);t&&o.setState({additionalWorkInfoBar:t,showAdditionalWorkInfoBar:!0}),o._addInstanceForNewObject(e.getName())},o._onRemoveLayer=function(e,t){o.setState({layerRemoveDialogOpen:!0,layerRemoved:e,onCloseLayerRemoveDialog:function(n,a){o.setState({layerRemoveDialogOpen:!1},(function(){n&&(null===a?o.props.initialInstances.removeAllInstancesOnLayer(e):o.props.initialInstances.moveInstancesToLayer(e,a)),t(n),o.editor&&o.editor.forceRemount(),o.forceUpdateLayersList(),o.updateToolbar()}))}})},o._onRenameLayer=function(e,t,n){o.props.initialInstances.moveInstancesToLayer(e,t),n(!0)},o._onDeleteObject=function(e,t){var n=e.object,a=e.global,r=o.props,i=r.project,s=r.layout,c=N.b.showConfirmDialog("Do you want to remove all references to this object in groups and events (actions and conditions using the object)?");a?X.WholeProjectRefactorer.globalObjectOrGroupRemoved(i,n.getName(),!1,!!c):X.WholeProjectRefactorer.objectOrGroupRemovedInLayout(i,s,n.getName(),!1,!!c),t(!0)},o._canObjectOrGroupUseNewName=function(e){var t=o.props,n=t.project,a=t.layout;return a.hasObjectNamed(e)||n.hasObjectNamed(e)||a.getObjectGroups().has(e)||n.getObjectGroups().has(e)?(Object(B.c)("Another object or group with this name already exists.",{delayToNextTick:!0}),!1):!!X.Project.validateName(e)||(Object(B.c)("This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character.",{delayToNextTick:!0}),!1)},o._onRenameEditedObject=function(e){var t=o.state.editedObjectWithContext;t&&o._onRenameObject(t,e,(function(){}))},o._onRenameObject=function(e,t,n){var a=e.object,r=e.global,i=o.props,s=i.project,c=i.layout;a.getName()!==t&&(r?X.WholeProjectRefactorer.globalObjectOrGroupRenamed(s,a.getName(),t,!1):X.WholeProjectRefactorer.objectOrGroupRenamedInLayout(s,c,a.getName(),t,!1)),a.setName(t),n(!0)},o._onDeleteGroup=function(e,t){var n=e.group,a=e.global,r=o.props,i=r.project,s=r.layout,c=N.b.showConfirmDialog("Do you want to remove all references to this group in events (actions and conditions using the group)?");a?X.WholeProjectRefactorer.globalObjectOrGroupRemoved(i,n.getName(),!0,!!c):X.WholeProjectRefactorer.objectOrGroupRemovedInLayout(i,s,n.getName(),!0,!!c),t(!0)},o._onRenameGroup=function(e,t,n){var a=e.group,r=e.global,i=o.props,s=i.project,c=i.layout;a.getName()!==t&&(r?X.WholeProjectRefactorer.globalObjectOrGroupRenamed(s,a.getName(),t,!0):X.WholeProjectRefactorer.objectOrGroupRenamedInLayout(s,c,a.getName(),t,!0)),n(!0)},o.deleteSelection=function(){o.instancesSelection.getSelectedInstances().map((function(e){return o.props.initialInstances.removeInstance(e)})),o.instancesSelection.clearSelection(),o.editor&&o.editor.clearHighlightedInstance(),o.setState({selectedObjectNames:[],history:Object(L.e)(o.state.history,o.props.initialInstances)},(function(){o.updateToolbar(),o.forceUpdatePropertiesEditor()}))},o.centerView=function(){o.editor&&o.editor.centerView()},o.setZoomFactor=function(e){o.editor&&o.editor.setZoomFactor(e)},o.zoomIn=function(){o.editor&&o.editor.zoomBy(.1)},o.zoomOut=function(){o.editor&&o.editor.zoomBy(-.1)},o._onContextMenu=function(e,t){o.contextMenu&&o.contextMenu.open(e,t)},o.copySelection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useLastCursorPosition,n=o.instancesSelection.getSelectedInstances().map((function(e){return Object(k.b)(e)}));if(o.editor){var a=t?o.editor.getLastCursorSceneCoordinates():o.editor.getLastContextMenuSceneCoordinates();w.a.set("Instances",{x:a[0],y:a[1],instances:n})}},o.cutSelection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.copySelection(e),o.deleteSelection()},o.paste=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useLastCursorPosition,n=w.a.get("Instances");if(n&&o.editor){var a=t?o.editor.getLastCursorSceneCoordinates():o.editor.getLastContextMenuSceneCoordinates(),r=n.x,i=n.y;n.instances.map((function(e){var t=new X.InitialInstance;return Object(k.c)(t,e),t})).forEach((function(e){e.setX(e.getX()-r+a[0]),e.setY(e.getY()-i+a[1]),o.props.initialInstances.insertInitialInstance(e).resetPersistentUuid(),e.delete()}))}},o.updateBehaviorsSharedData=function(){var e=o.props,t=e.layout,n=e.project;t.updateBehaviorsSharedData(n)},o.forceUpdateObjectsList=function(){o._objectsList&&o._objectsList.forceUpdateList()},o.forceUpdateLayersList=function(){o._layersList&&o._layersList.forceUpdate()},o.forceUpdatePropertiesEditor=function(){o._propertiesEditor&&o._propertiesEditor.forceUpdate()},o.reloadResourcesFor=function(e){var t=o.props.project,n=new X.ResourcesInUseHelper;e.exposeResources(n);var a=n.getAllImages().toNewVectorString().toJSArray();n.delete(),D.a.loadTextures(t,a,(function(){}),(function(){o.editor&&o.editor.resetRenderersFor(e.getName())}))},o._getAllObjectTags=function(){var e=o.props,t=e.project,n=e.layout,a=new Set;return Object(U.c)(t,n).allObjectsList.forEach((function(e){var t=e.object;Object(G.c)(t.getTags()).forEach((function(e){return a.add(e)}))})),Array.from(a)},o._buildObjectTagsMenuTemplate=function(e){var t=o.state.selectedObjectTags;return Object(G.a)({noTagLabel:e._({id:"No tags - add a tag to an object first"}),getAllTags:o._getAllObjectTags,selectedTags:t,onChange:function(e){o.setState({selectedObjectTags:e})}})},o.instancesSelection=new C.a,o.state={setupGridOpen:!1,scenePropertiesDialogOpen:!1,layersListOpen:!1,layerRemoveDialogOpen:!1,onCloseLayerRemoveDialog:null,layerRemoved:null,editedLayer:null,editedLayerInitialTab:"properties",editedObjectWithContext:null,variablesEditedInstance:null,variablesEditedObject:null,selectedObjectNames:[],newObjectInstanceSceneCoordinates:null,editedGroup:null,uiSettings:e.initialUiSettings,history:Object(L.c)(e.initialInstances,{historyMaxSize:50}),showObjectsListInfoBar:!1,layoutVariablesDialogOpen:!1,showPropertiesInfoBar:!1,showLayersInfoBar:!1,showInstancesInfoBar:!1,showAdditionalWorkInfoBar:!1,additionalWorkInfoBar:{identifier:"default-additional-work",message:"",touchScreenMessage:""},selectedObjectTags:[]},o}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e,t){this.state.history!==t.history&&this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges()}},{key:"getUiSettings",value:function(){return this.state.uiSettings}},{key:"updateToolbar",value:function(){var e=this;this.props.setToolbar(l.createElement(S.a,{instancesSelection:this.instancesSelection,openObjectsList:this.openObjectsList,openObjectGroupsList:this.openObjectGroupsList,openProperties:this.openProperties,deleteSelection:this.deleteSelection,toggleInstancesList:this.toggleInstancesList,toggleLayersList:this.toggleLayersList,toggleWindowMask:this.toggleWindowMask,toggleGrid:this.toggleGrid,isGridShown:function(){return!!e.state.uiSettings.grid},isWindowMaskShown:function(){return!!e.state.uiSettings.windowMask},openSetupGrid:this.openSetupGrid,setZoomFactor:this.setZoomFactor,centerView:this.centerView,canUndo:Object(L.b)(this.state.history),canRedo:Object(L.a)(this.state.history),undo:this.undo,redo:this.redo,zoomIn:this.zoomIn,zoomOut:this.zoomOut,onOpenSettings:this.openSceneProperties}))}},{key:"componentWillReceiveProps",value:function(e){this.props.layout===e.layout&&this.props.initialInstances===e.initialInstances&&this.props.project===e.project||(this.instancesSelection.clearSelection(),this.openSetupGrid(!1),this.editInstanceVariables(null),this.openSceneProperties(!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.layout,r=t.initialInstances,o=t.resourceSources,i=t.onChooseResource,s=t.resourceExternalEditors,u=t.isActive,d=this.instancesSelection.getSelectedInstances(),C={properties:{type:"secondary",title:{id:"Properties"},renderEditor:function(){return l.createElement(c.I18n,null,(function(t){var r=t.i18n;return l.createElement(h.a,{i18n:r,project:n,layout:a,instances:d,editInstanceVariables:e.editInstanceVariables,editObjectVariables:e.editObjectVariables,onEditObjectByName:e.editObjectByName,ref:function(t){return e._propertiesEditor=t},unsavedChanges:e.props.unsavedChanges})}))}},"layers-list":{type:"secondary",title:{id:"Layers"},renderEditor:function(){return l.createElement(b.a,{project:n,resourceSources:o,resourceExternalEditors:s,onChooseResource:i,onEditLayerEffects:e.editLayerEffects,onEditLayer:e.editLayer,onRemoveLayer:e._onRemoveLayer,onRenameLayer:e._onRenameLayer,layersContainer:a,unsavedChanges:e.props.unsavedChanges,ref:function(t){return e._layersList=t},hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps})}},"instances-list":{type:"secondary",title:{id:"Instances list"},renderEditor:function(){return l.createElement(g.a,{instances:r,selectedInstances:d,onSelectInstances:e._onSelectInstances})}},"instances-editor":{type:"primary",noTitleBar:!0,renderEditor:function(){return l.createElement(_.a,{project:n,layout:a,initialInstances:r,options:e.state.uiSettings,onChangeOptions:e.setUiSettings,instancesSelection:e.instancesSelection,onDeleteSelection:e.deleteSelection,onInstancesAdded:e._onInstancesAdded,onInstancesSelected:e._onInstancesSelected,onInstanceDoubleClicked:e._onInstanceDoubleClicked,onInstancesMoved:e._onInstancesMoved,onInstancesResized:e._onInstancesResized,onInstancesRotated:e._onInstancesRotated,selectedObjectNames:e.state.selectedObjectNames,onContextMenu:e._onContextMenu,onCopy:function(){return e.copySelection({useLastCursorPosition:!0})},onCut:function(){return e.cutSelection({useLastCursorPosition:!0})},onPaste:function(){return e.paste({useLastCursorPosition:!0})},onUndo:e.undo,onRedo:e.redo,onZoomOut:e.zoomOut,onZoomIn:e.zoomIn,wrappedEditorRef:function(t){e.editor=t},pauseRendering:!u})}},"objects-list":{type:"secondary",title:{id:"Objects"},toolbarControls:[l.createElement(c.I18n,{key:"tags"},(function(t){t.i18n;return l.createElement(V.a,{buildMenuTemplate:function(t){return e._buildObjectTagsMenuTemplate(t)}})})),l.createElement(W.a,{key:"close"})],renderEditor:function(){return l.createElement(m.a,{getThumbnail:f.a.getThumbnail.bind(f.a),project:n,objectsContainer:a,layout:a,events:a.getEvents(),resourceSources:o,resourceExternalEditors:s,onChooseResource:i,selectedObjectNames:e.state.selectedObjectNames,onEditObject:e.props.onEditObject||e.editObject,onDeleteObject:e._onDeleteObject,canRenameObject:e._canObjectOrGroupUseNewName,onObjectCreated:e._onObjectCreated,onObjectSelected:e._onObjectSelected,onRenameObject:e._onRenameObject,onObjectPasted:function(){return e.updateBehaviorsSharedData()},selectedObjectTags:e.state.selectedObjectTags,onChangeSelectedObjectTags:function(t){return e.setState({selectedObjectTags:t})},getAllObjectTags:e._getAllObjectTags,ref:function(t){return e._objectsList=t},unsavedChanges:e.props.unsavedChanges,hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps})}},"object-groups-list":{type:"secondary",title:{id:"Object Groups"},renderEditor:function(){return l.createElement(p.a,{globalObjectGroups:n.getObjectGroups(),objectGroups:a.getObjectGroups(),onEditGroup:e.editGroup,onDeleteGroup:e._onDeleteGroup,onRenameGroup:e._onRenameGroup,canRenameGroup:e._canObjectOrGroupUseNewName,unsavedChanges:e.props.unsavedChanges})}}};return l.createElement("div",{style:J.container},l.createElement(A.a,{project:n,layout:a,onEditObject:this.props.onEditObject||this.editObject,onEditObjectVariables:this.editObjectVariables,onOpenSceneProperties:this.openSceneProperties,onOpenSceneVariables:this.editLayoutVariables,onEditObjectGroup:this.editGroup,onEditLayerEffects:this.editLayerEffects,onEditLayer:this.editLayer}),l.createElement(z.a,null,(function(t){return l.createElement(K.b.Consumer,null,(function(n){var a=n.getDefaultEditorMosaicNode,r=n.setDefaultEditorMosaicNode;return l.createElement(P.a,{editors:C,limitToOneSecondaryEditor:"small"===t,initialNodes:"small"===t?a("scene-editor-small")||Z:a("scene-editor")||q,onPersistNodes:function(e){return r("small"===t?"scene-editor-small":"scene-editor",e)},ref:function(t){return e.editorMosaic=t}})}))})),this.state.editedObjectWithContext&&l.createElement(j.a,{open:!0,object:this.state.editedObjectWithContext.object,project:n,resourceSources:o,resourceExternalEditors:s,onChooseResource:i,onCancel:function(){e.state.editedObjectWithContext&&e.reloadResourcesFor(e.state.editedObjectWithContext.object),e.editObject(null)},canRenameObject:this._canObjectOrGroupUseNewName,onRename:function(t){e._onRenameEditedObject(t)},onApply:function(){e.state.editedObjectWithContext&&e.reloadResourcesFor(e.state.editedObjectWithContext.object),e.editObject(null),e.updateBehaviorsSharedData(),e.forceUpdateObjectsList(),e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges()},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps,onUpdateBehaviorsSharedData:function(){return e.updateBehaviorsSharedData()}}),!!this.state.editedGroup&&l.createElement(O.a,{project:n,group:this.state.editedGroup,objectsContainer:a,globalObjectsContainer:n,onCancel:function(){return e.editGroup(null)},onApply:function(){return e.editGroup(null)}}),l.createElement(I.a,{identifier:"instance-drag-n-drop-explanation",message:l.createElement(c.Trans,{id:"Drag and Drop the object to the scene or use the right click menu to add an instance of it."}),touchScreenMessage:l.createElement(c.Trans,{id:"Drag and Drop the object icon to the scene or long press to show options to edit the object."}),show:!!this.state.selectedObjectNames.length}),l.createElement(I.a,{identifier:"objects-panel-explanation",message:l.createElement(c.Trans,{id:"Objects panel is already opened: use it to add and edit objects."}),show:!!this.state.showObjectsListInfoBar}),l.createElement(I.a,{identifier:"instance-properties-panel-explanation",message:l.createElement(c.Trans,{id:"Properties panel is already opened. After selecting an instance on the scene, inspect and change its properties from this panel."}),show:!!this.state.showPropertiesInfoBar}),l.createElement(I.a,{identifier:"layers-panel-explanation",message:l.createElement(c.Trans,{id:"Layers panel is already opened. You can add new layers and apply effects on them from this panel."}),show:!!this.state.showLayersInfoBar}),l.createElement(I.a,{identifier:"instances-panel-explanation",message:l.createElement(c.Trans,{id:"Instances panel is already opened. You can search instances in the scene and click one to move the view to it."}),show:!!this.state.showInstancesInfoBar}),this.state.setupGridOpen&&l.createElement(x.a,{open:!0,gridOptions:this.state.uiSettings,onCancel:function(){return e.openSetupGrid(!1)},onApply:function(t){e.setUiSettings(t),e.openSetupGrid(!1)}}),!!this.state.variablesEditedInstance&&l.createElement(y.a,{open:!0,variablesContainer:this.state.variablesEditedInstance&&this.state.variablesEditedInstance.getVariables(),onCancel:function(){return e.editInstanceVariables(null)},onApply:function(){return e.editInstanceVariables(null)},emptyExplanationMessage:l.createElement(c.Trans,{id:"Instance variables will override the default values of the variables of the object."}),title:l.createElement(c.Trans,{id:"Instance Variables"}),onEditObjectVariables:function(){if(e.instancesSelection.hasSelectedInstances()){var t=e.instancesSelection.getSelectedInstances()[0].getObjectName(),r=Object(F.a)(n,a,t);r&&(e.editObjectVariables(r),e.editInstanceVariables(null))}},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),!!this.state.variablesEditedObject&&l.createElement(y.a,{open:!0,variablesContainer:this.state.variablesEditedObject&&this.state.variablesEditedObject.getVariables(),onCancel:function(){return e.editObjectVariables(null)},onApply:function(){return e.editObjectVariables(null)},emptyExplanationMessage:l.createElement(c.Trans,{id:"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it."}),title:l.createElement(c.Trans,{id:"Object Variables"}),hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),!!this.state.layerRemoveDialogOpen&&l.createElement(v.a,{open:!0,layersContainer:a,layerRemoved:this.state.layerRemoved,onClose:this.state.onCloseLayerRemoveDialog}),!!this.state.editedLayer&&l.createElement(E.a,{project:n,resourceSources:o,onChooseResource:i,resourceExternalEditors:s,layer:this.state.editedLayer,initialInstances:r,initialTab:this.state.editedLayerInitialTab,onClose:function(){return e.setState({editedLayer:null})},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),this.state.scenePropertiesDialogOpen&&l.createElement(T.a,{open:!0,project:n,layout:a,onClose:function(){return e.openSceneProperties(!1)},onApply:function(){return e.openSceneProperties(!1)},onEditVariables:function(){return e.editLayoutVariables(!0)},onOpenMoreSettings:this.props.onOpenMoreSettings}),!!this.state.layoutVariablesDialogOpen&&l.createElement(H.a,{open:!0,layout:a,onApply:function(){return e.editLayoutVariables(!1)},onClose:function(){return e.editLayoutVariables(!1)},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),l.createElement(c.I18n,null,(function(t){var n=t.i18n;return l.createElement(l.Fragment,null,l.createElement(I.a,{show:e.state.showAdditionalWorkInfoBar,identifier:e.state.additionalWorkInfoBar.identifier,message:n._(e.state.additionalWorkInfoBar.message),touchScreenMessage:n._(e.state.additionalWorkInfoBar.touchScreenMessage)}),l.createElement(R.a,{ref:function(t){return e.contextMenu=t},buildMenuTemplate:function(t){return[{label:e.state.selectedObjectNames.length?t._({id:"Add an Instance of {0}",values:{0:Object(M.b)(e.state.selectedObjectNames[0],7)}}):"",click:function(){return e._onAddInstanceUnderCursor()},visible:e.state.selectedObjectNames.length>0},{label:t._({id:"Insert a New Object"}),click:function(){return e._createNewObjectAndInstanceUnderCursor()},visible:0===e.state.selectedObjectNames.length},{label:e.state.selectedObjectNames.length?t._({id:"Edit Object {0}",values:{0:Object(M.b)(e.state.selectedObjectNames[0],14)}}):"",click:function(){return e.editObjectByName(e.state.selectedObjectNames[0])},visible:e.state.selectedObjectNames.length>0},{label:t._({id:"Scene properties"}),click:function(){return e.openSceneProperties(!0)}},{type:"separator"},{label:t._({id:"Copy"}),click:function(){return e.copySelection()},enabled:e.instancesSelection.hasSelectedInstances(),accelerator:"CmdOrCtrl+C"},{label:t._({id:"Cut"}),click:function(){return e.cutSelection()},enabled:e.instancesSelection.hasSelectedInstances(),accelerator:"CmdOrCtrl+X"},{label:t._({id:"Paste"}),click:function(){return e.paste()},enabled:w.a.has("Instances"),accelerator:"CmdOrCtrl+V"},{type:"separator"},{label:t._({id:"Undo"}),click:e.undo,enabled:Object(L.b)(e.state.history),accelerator:"CmdOrCtrl+Z"},{label:t._({id:"Redo"}),click:e.redo,enabled:Object(L.a)(e.state.history),accelerator:"CmdOrCtrl+Shift+Z"},{label:t._({id:"Delete"}),click:function(){return e.deleteSelection()},enabled:e.instancesSelection.hasSelectedInstances()}]}}))})))}}]),n}(l.Component);Q.defaultProps={setToolbar:function(){}}}).call(this,n(1))},856:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=n(6),r=(n(562),function(e){if(!e)return!1;var t=e.targetTouches;return t&&t.length>=2}),o=function e(t){var n=this,o=t.canvas,i=t.setZoomFactor,s=t.getZoomFactor,c=t.viewPosition;Object(a.a)(this,e),this._lastPinchCenterX=null,this._lastPinchCenterY=null,this._startPinch=function(){},this._onPinchMove=function(e,t,a){if(null===n._lastPinchCenterX||null===n._lastPinchCenterY)return n._lastPinchCenterX=e,void(n._lastPinchCenterY=t);var r=e-n._lastPinchCenterX,o=t-n._lastPinchCenterY,i=r/n._getZoomFactor(),s=o/n._getZoomFactor();n._viewPosition.scrollBy(-i,-s),n._lastPinchCenterX=e,n._lastPinchCenterY=t,n._setZoomFactor(n._getZoomFactor()*a)},this._endPinch=function(){n._lastPinchCenterX=null,n._lastPinchCenterY=null},this.unmount=function(){n._unregisterCanvasPinchDetector()},this._setZoomFactor=i,this._getZoomFactor=s,this._viewPosition=c,this._unregisterCanvasPinchDetector=function(e){var t=e.canvas,n=e.onPinchStart,a=e.onPinchMove,o=e.onPinchEnd,i=null;function s(){t.addEventListener("touchmove",c)}function c(e){if(r(e)){var t=e.targetTouches,o=t[0].clientX-t[1].clientX,s=t[0].clientY-t[1].clientY,c=Math.sqrt(o*o+s*s);if(!i)return i={p:{distance:c,date:new Date}},void n();var l=new Date;if(!(l-i.p.date<12)){var u={x:(t[0].clientX+t[1].clientX)/2,y:(t[0].clientY+t[1].clientY)/2},d=c/i.p.distance;a(u.x,u.y,d),i.p={distance:c,date:l}}}}function l(e){t.removeEventListener("touchmove",c),i&&(o(),i=null)}return t.addEventListener("touchstart",s),t.addEventListener("touchend",l),function(){t.removeEventListener("touchstart",s),t.removeEventListener("touchmove",c),t.removeEventListener("touchend",l)}}({canvas:o,onPinchStart:this._startPinch,onPinchMove:this._onPinchMove,onPinchEnd:this._endPinch})}},857:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t,n){return t<=0?Math.round(e):Math.floor((e-n)/t)*t+n}},858:function(e,t,n){"use strict";var a=n(92);t.a=function(e){return Object(a.mapFor)(0,e.getLayersCount(),(function(t){return{value:e.getLayerAt(t).getName(),label:e.getLayerAt(t).getName()||"Base layer"}}))}},859:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n(529),o={flexContainer:{display:"flex",flex:1,position:"relative"}},i=function(e){var t=e.children;return a.createElement(r.a,{bounds:!0},(function(e){var n=e.contentRect,r=e.measureRef;return a.createElement("div",{style:o.flexContainer,ref:r},!!n&&!!n.bounds&&t({width:n.bounds.width,height:n.bounds.height}))}))}},862:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(117),u=n(118),d=n(301),m=n(92),p=n(330),f=n(96),h=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.spriteObject,n=e.animationIndex,a=e.directionIndex,r=e.spriteIndex,o=e.sameForAllAnimations,i=e.sameForAllSprites,h=e.chooseAnimation,g=e.chooseDirection,b=e.chooseSprite,v=e.setSameForAllAnimations,E=e.setSameForAllSprites,y=e.setSameForAllAnimationsLabel,j=e.setSameForAllSpritesLabel,O=Object(p.k)(t,n,a,r),C=O.hasValidAnimation,x=O.animation,T=O.hasValidDirection,S=O.direction;return c.createElement(c.Fragment,null,c.createElement(f.b,null,c.createElement(l.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:"Animation"}),value:this.props.animationIndex,onChange:function(e,t,n){return h(parseInt(n,10)||0)}},Object(m.mapFor)(0,t.getAnimationsCount(),(function(e){var n=t.getAnimation(e);return c.createElement(u.a,{key:e,value:e,primaryText:{id:"Animation #{i} {0}",values:{0:n.getName(),i:e}}})}))),C&&x.getDirectionsCount()>1&&c.createElement(l.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:"Direction"}),value:this.props.directionIndex,onChange:function(e,t,n){return g(parseInt(n,10)||0)}},Object(m.mapFor)(0,x.getDirectionsCount(),(function(e){return c.createElement(u.a,{value:e,key:e,primaryText:{id:"Direction #{i}",values:{i:e}}})}))),T&&c.createElement(l.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:"Frame"}),value:this.props.spriteIndex,onChange:function(e,t,n){return b(parseInt(n,10)||0)}},Object(m.mapFor)(0,S.getSpritesCount(),(function(e){return c.createElement(u.a,{value:e,key:e,primaryText:{id:"Frame #{i}",values:{i:e}}})})))),c.createElement(d.a,{label:y,labelPosition:"right",toggled:o,onToggle:function(e,t){return v(t)}}),c.createElement(d.a,{label:j,labelPosition:"right",toggled:i,onToggle:function(e,t){return E(t)}}))}}]),n}(c.Component)},863:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(1877),u=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.isActive}},{key:"getProject",value:function(){return this.props.project}},{key:"getLayout",value:function(){return null}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.project;return t?c.a.createElement(l.a,{setToolbar:this.props.setToolbar,onDeleteResource:this.props.onDeleteResource,onRenameResource:this.props.onRenameResource,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,ref:function(t){return e.editor=t},project:t}):null}}]),n}(c.a.Component),d=function(e){return c.a.createElement(u,e)}},864:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(855),l=n(131),u=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).saveUiSettings=function(){var t=e.getLayout(),n=e.editor;n&&t&&Object(l.c)(t.getAssociatedSettings(),n.getUiSettings())},e}return Object(r.a)(n,[{key:"getProject",value:function(){return this.props.project}},{key:"shouldComponentUpdate",value:function(e){return!(!this.props.isActive&&!e.isActive)}},{key:"componentDidMount",value:function(){if(this.props.isActive){var e=this.props.projectItemName;this.props.setPreviewedLayout(e)}}},{key:"componentDidUpdate",value:function(e){if(!e.isActive&&this.props.isActive){var t=this.props.projectItemName;this.props.setPreviewedLayout(t)}}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){this.editor&&this.editor.forceUpdateObjectsList()}},{key:"getLayout",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasLayoutNamed(n)?t.getLayout(n):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.projectItemName,r=t.isActive,o=this.getLayout();return o&&n?s.createElement(c.a,{setToolbar:this.props.setToolbar,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,unsavedChanges:this.props.unsavedChanges,ref:function(t){return e.editor=t},project:n,layout:o,initialInstances:o.getInitialInstances(),initialUiSettings:Object(l.b)(o.getAssociatedSettings()),isActive:r,hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}):s.createElement("div",null,"No layout called ",a," found!")}}]),n}(s.Component),d=function(e){return s.createElement(u,e)}},865:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(e,t){var n=performance.now();e(),t(performance.now()-n)},r=function(e,t){var n=performance.now();return e().then((function(e){var a=performance.now();return t(a-n),e}))}},869:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){var t=e;return t?function(e){return t._(e)}:null},r=function(e){var t=e;return t?function(e){return t._(e)}:function(e){return e}}},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(137),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n(2370),u=n(79),d=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.primary,r=e.icon,o=e.keyboardFocused,i=Object(a.a)(e,["label","primary","icon","keyboardFocused"]);return c.createElement(l.a,Object.assign({size:"small",color:n?"primary":"default",autoFocus:o,focusRipple:!0},i),r,r&&c.createElement(u.c,null),t)}}]),n}(c.Component)},870:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){return!t||function(e,t){var n=t.toLowerCase();e=e.toLowerCase();for(var a=0,r=0;r<t.length;r++)n[r]===e[a]&&(a+=1);return a===e.length}(e,t)}},871:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},874:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(6),r=n(12),o=n(23),i=n(22),s=n(83),c=n(77),l=n(2),u=n(89),d=n(79),m=n(102),p=n(85),f=n(128),h=n(1916),g=n(875),b=n.n(g),v=n(3),E=n(870),y=n(4),j=n.n(y)()("electron"),O={};Object.keys(b.a).forEach((function(e){var t=b.a[e];O[e]=Object(s.a)(Object(s.a)({},t),{},{searchableDescription:t.description.replace(/ /g,"").toLowerCase()})}));var C=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={searchText:"",chosenExtensionName:""},e.changeSearchText=function(t){e.setState({searchText:t,chosenExtensionName:""})},e.chooseExtensionName=function(t){e.setState({searchText:"",chosenExtensionName:t})},e}return Object(r.a)(n,[{key:"_submitExample",value:function(){v.b.openExternalURL("https://github.com/4ian/GDevelop/issues/new?body=".concat(encodeURIComponent("Hi!\n\n  I'd like to submit a new example to be added to GDevelop.\n  Here is the link to download it: **INSERT the link to your game here, or add it as an attachment**.\n\n  I confirm that any assets can be used freely by anybody, including for commercial usage.\n  "),"&title=New%20example"))}},{key:"render",value:function(){var e=this,t=this.state,n=t.searchText,a=t.chosenExtensionName,r=n.toLowerCase();return l.createElement(d.a,{noMargin:!0},l.createElement(d.b,{noMargin:!0},l.createElement(h.a,{value:n,onChange:this.changeSearchText,chosenExtensionName:a,onExtensionNameChosen:this.chooseExtensionName})),l.createElement(d.b,{noMargin:!0},l.createElement(d.a,{expand:!0,noMargin:!0},l.createElement(m.a,null,this.props.exampleNames&&this.props.exampleNames.map((function(t){var o,i,s,c=(o=t).length?o[0].toUpperCase()+o.substr(1).replace(/-/g," "):"",u=function(e){return O[e]||{description:"",searchableDescription:"",usedExtensions:[]}}(t);return(!n||Object(E.a)(n,c)||-1!==u.searchableDescription.indexOf(r))&&(i=u.usedExtensions,!(s=a)||i&&i.find((function(e){return e.name===s})))?l.createElement(m.b,{key:t,primaryText:c,secondaryText:u.description,secondaryTextLines:2,onClick:function(){return e.props.onCreateFromExample(t)}}):null})),!this.props.exampleNames&&l.createElement(f.a,null)),!!j&&l.createElement(d.a,{expand:!0},l.createElement(p.a,null,l.createElement(c.Trans,{id:"Want to contribute to the examples?"})),l.createElement(d.b,{alignItems:"center",justifyContent:"center"},l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Submit your example"}),onClick:this._submitExample}))))))}}]),n}(l.Component)},875:function(e,t){e.exports={admob:{description:"Demonstrate how to show ads from AdMob in your game: banners, interstitial screen or reward videos. Also useful to test that your AdMob account is working properly.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"AdMob",name:"AdMob"}]},"advanced-shape-based-painter":{description:"Show how to use Shape Painter objects to create a simple drawing app.",usedExtensions:[{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"animation-speed-scale":{description:"Change the speed of the animation of an object according to its movement speed.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"}]},asteroids:{description:"An adptation of the classic arcade game Asteroids with GDevelop.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Sprite",name:"Sprite"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},"basic-ai-with-pathfinding":{description:"Show how to use pathfinding to make enemies chase the player.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Pathfinding behavior",name:"PathfindingBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Time",name:"BuiltinTime"}]},"basic-artificial-intelligence":{description:"Show how to create enemies looking at the player and chasing him when spotted.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Time",name:"BuiltinTime"}]},"basic-topdown-car-driving":{description:"Show how to create a car that can be controlled by the player.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"}]},"bbtext-object-demo":{description:"This shows how to change the bbcode text of a BBText object displayed on the screen.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"BBCode Text Object",name:"BBText"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"betabox-basics-learning-experience":{description:"Example level for teaching basic programming skills with extra features and assets.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Text object",name:"TextObject"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Mouse features",name:"BuiltinMouse"}]},"board-walk-with-raycast":{description:"Example showing how to walk on a tile-based arbitrary board using the Raycast condition.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Linked objects",name:"LinkedObjects"}]},"bomb-the-crate":{description:"A basic bomberman like game, where the player can move on the map, drop bombs and destroy crates on the map.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"bouncing-ball-and-rope":{description:"Simulate a bouncing ball with ropes that can be created to move the ball around anchors.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Linked objects",name:"LinkedObjects"}]},breakout:{description:"The classic Breakout arcade game adapted in GDevelop. Read the tutorial about it to learn how to make a game like this.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Sprite",name:"Sprite"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"",name:""},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"External layouts",name:"BuiltinExternalLayouts"},{fullName:"Physics Engine 2.0",name:"Physics2"}]},buttons:{description:"Learn how to make buttons for the menus in your game.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"}]},"cannon-ball-with-physics":{description:"An example showing how to launch a ball from a cannon when using the Physics engine.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Storage",name:"BuiltinFile"}]},"car-physics":{description:"A fun, physics based driving game",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"center-object-within-another":{description:"How to put an object on the center of another",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"change-position-of-object":{description:"Show how to move an object by changing its X and Y position.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"change-scale-of-sprites":{description:"Show how to change the scale of a sprite (to make a zoom effect for example).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"change-sprite-animation":{description:"Learn how to change the animation of a Sprite object (useful for animating almost all objects in your game: characters, enemies, items...)",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"change-sprite-color":{description:"Learn how to change the color of a Sprite object - useful to achieve effects like invincibility with a blue tint or taking damage with a red effect. ",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"character-selection":{description:"Example showing how to remember the character selected by the player and use it in other scenes.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"System information",name:"SystemInfo"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"count-down-timer":{description:"Show how to use a variable as a timer and display it on screen like a bomb count down timer.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"}]},"create-object-with-mouseclick":{description:"Show how to create an object at the position of the click.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"create-random-object":{description:"Show how to create a object randomly picked in a list.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"custom-font":{description:"Example showing a text with a custom font applied on it.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"}]},"custom-mouse-pointer":{description:"Learn how to replace the mouse cursor by a custom image.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"customize-keys-with-lastpressedkey":{description:"This explains how to remember the last key that was pressed and customize the inputs of your game.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},"device-orientation-ballgame":{description:"Example showing how to use the device sensors to move a ball in a maze.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Device sensors",name:"DeviceSensors"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"device-orientation-compass":{description:"This shows how to use the device sensors to create a compass like app.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Device sensors",name:"DeviceSensors"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"device-vibration":{description:"Show how to make the device vibrate.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Device vibration",name:"DeviceVibration"}]},"dialogue-tree-with-yarn":{description:"A platformer showing a simple interactive story with dialogues like in RPG games, using the Yarn dialogue tree extension.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"BBCode Text Object",name:"BBText"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Dialogue Tree (Experimental)",name:"DialogueTree"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"System information",name:"SystemInfo"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},"downhill-bike-physics-demo":{description:"A fun demo, using the Physics Engine to build an advanced simulation of a bike, with a person pedaling on it. Try to cross the finish line without falling and as fast as possible!",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Advanced control features",name:"BuiltinAdvanced"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Window features",name:"BuiltinWindow"},{fullName:"Device vibration",name:"DeviceVibration"},{fullName:"Time",name:"BuiltinTime"}]},"drag-camera-with-mouse":{description:"This shows how to allow the user to move on a map with the mouse.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"drop-collect-items-from-storage":{description:"Show how to make the player collect objects from boxes on the map.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"}]},"endless-up-runner":{description:"A game where the player have to jump on platforms and avoid falling down as the screen goes up. With special objects (spring, rocks), score and Game Over handling!",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Mouse features",name:"BuiltinMouse"}]},"exit-app":{description:"Simple example showing how to close your game.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"}]},"facebook-instant-game":{description:"Learn how to use the various Facebook Instant Games APIs to get information about the player, share their scores and have a leaderboard!",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Facebook Instant Games",name:"FacebookInstantGames"}]},"filesystem-create-directory":{description:"Show how to ask the user for a folder name and create it on the disk.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Text entry object",name:"TextEntryObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Filesystem",name:"FileSystem"}]},"find-diagonals":{description:"Show how to delete objects that are located at the diagonals of the click of the player in a board game.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"}]},"flappy-bird":{description:"A clone of the challenging and popular Flappy Bird game, where you control a bird which has to avoid pipes.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"",name:""},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"System information",name:"SystemInfo"},{fullName:"Time",name:"BuiltinTime"}]},"game-feel-demo":{description:'A demo showing how to enhance the "game feel" of your project: VFX, shot trail, ambient sounds and SFX, screenshake, wobble...\n',usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Time",name:"BuiltinTime"}]},geodash:{description:"A fast paced game where you must jump and avoid obstacles.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"}]},"geometry-monster":{description:"A hyper casual endless game where you have to collect shapes and avoid bombs, with a progressively increasing difficulty.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"",name:""},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Text object",name:"TextObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Variable features",name:"BuiltinVariables"}]},"health-bar":{description:"The platform example game adapted to add a health bar to the player, that is decreased when the player touches an enemy.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"}]},"infinite-scrolling-background":{description:"Learn how to create a background that is scolling infinitely.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"inventory-system":{description:"Learn how to display an inventory, with object that can be addded or removed, and how to persist it in storage.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Inventory",name:"Inventory"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Storage",name:"BuiltinFile"}]},"isometric-game":{description:"Example of making an isometric 2D game.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Top-down movement",name:"TopDownMovementBehavior"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"javascript-blocks-in-platformer":{description:"This shows how to reproduce the Platformer example using JavaScript code instead of events.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},"keyboard-practice":{description:"A simple game where the player must press the right keys on the keyboard as fast as possible.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"}]},"layer-effects":{description:"An example showing all the layer effects available in GDevelop.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Storage",name:"BuiltinFile"}]},"level-editor":{description:"Example showing a basic level editor, where you can save and load positions of objects put on the scene during the game. Also shows how to use simple functions.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"",name:""}]},"level-selection-unlock":{description:"Show how to save user progress and progressively unlock levels.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},lights:{description:"Example showing the usage of multiple light objects, setting other objects as light obstacles and using a slight blur effect to soften shadows.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Lights",name:"Lighting"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"",name:""}]},"load-image-from-url":{description:"Advanced example showing how to use JavaScript to load an image from an external URL.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},magnet:{description:"Show how to move a ball like if it's attracted by a magnet.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Linked objects",name:"LinkedObjects"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"manipulate-text-object":{description:"This shows how to change the text of a Text object displayed on the screen.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"menu-with-functions-and-text-effects":{description:"How to implement the same menu across multiple scenes using functions and text effects for hover/active states.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"",name:""}]},"move-camera-to-position":{description:"This shows how to move the camera to the position of an object on a map.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Variable features",name:"BuiltinVariables"}]},"move-object-back-and-forth":{description:"Use events to move objects back and forth vertically or horizontally.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"}]},"move-object-in-circle":{description:"This shows how to make an object move in circle around some point.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"move-object-toward-position":{description:"This shows how to have an object move to a given position on the screen.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"move-object-with-mouse-joint":{description:"Show how to use physics engine to move an object around with the mouse and realistic movements.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"move-object-with-physics":{description:"This shows how to use the forces built in GDevelop to move an object.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"multi-language-menu":{description:"Show how to translate a menu (titles, buttons) in multiple languages and add an option for the player to choose the language.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"}]},"multiplayer-platformer-with-gamepads":{description:"Example showing how to use the Gamepads extension to read the state of gamepads (or controllers), for 2 players.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"",name:""}]},multitouch:{description:"This show how to create multiple markers when the player touches the screen.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"object-gravity":{description:"Use the physics engine to simulate an object moving on a small planet.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"}]},"object-selection":{description:"Simple example showing how the engine of GDevelop select objects to be used in conditions and actions.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"objects-timers":{description:"Example showing various usage of objects timers (timers that are stored into instances of objects on the scene, as opposed to scene timers which are stored by the scene).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"}]},"open-url-in-browser":{description:"This shows how to open a website on the system default browser.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Storage",name:"BuiltinFile"}]},"p2p-networking":{description:"A showcase of some multiplayer/networking possibilities using the P2P extension.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Text entry object",name:"TextEntryObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Peer-to-Peer communication (experimental)",name:"P2P"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"",name:""},{fullName:"Variable features",name:"BuiltinVariables"}]},pairs:{description:"Find all matching pairs of cards in this relaxing game. Use tweens to create smooth, natural animations with a few events.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Tween animation",name:"Tween"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},parallax:{description:"Shows how to have multiple layers with a parallax effect (where the background layers move slower than the foreground).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"parallax-scrolling":{description:"Another example showing how to have multiple layers with a parallax effect (where the background layers move slower than the foreground).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"parse-json-from-api":{description:"Advanced example where JSON content is fetched from a website and information extracted from it.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Basic internet features",name:"BuiltinNetwork"}]},"parse-json-string":{description:"Advanced example showing how to extract information from a JSON formatted string.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Basic internet features",name:"BuiltinNetwork"}]},"particle-effects-demo":{description:"A demo of various high quality particle effects (fire, magic, snow, rune spell...) that you can try and use in your game.\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Tween animation",name:"Tween"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Storage",name:"BuiltinFile"}]},"particles-explosions":{description:"Create explosion effects with the particles engine.",usedExtensions:[{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"particles-various-effects":{description:"Create various effects with the particles engine.",usedExtensions:[{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Features for all objects",name:"BuiltinObject"}]},pathfinding:{description:"This show how to have an object moving from its position to another automatically avoiding obstacles.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Pathfinding behavior",name:"PathfindingBehavior"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"pathfinding-basics":{description:"Simpler example showing how to get started with Pathfinding, to have an object automatically find its way around obstacles.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Pathfinding behavior",name:"PathfindingBehavior"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},physics:{description:"Example showing various capabilities of the physics engine integrated to GDevelop.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"physics-joints-demo":{description:"A demo of all the joints that can be created using the Physics engine.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"}]},"physics-joints-settings-demo":{description:"A demo of all the joints, and the way they can be customized, using the Physics engine.",usedExtensions:[{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"",name:""},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"}]},"pin-object-to-another":{description:'Example showing how to have objects "pinned" to another, meaning that they will move/rotate and follow the object they are pinned too.',usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"pin-object-to-another-multiple-parents":{description:'Example showing how to have objects "pinned" to multiple other objects, meaning that they will move/rotate and follow the object they are pinned too.',usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Linked objects",name:"LinkedObjects"}]},"pixel-perfect-platform-game":{description:"Very simple example showing the settings to have a pixel-perfect platform game (also applicable to other kind of games).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"}]},"plane-and-clouds":{description:"Show how to randomly generate clouds to create an infinite sky.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},platformer:{description:"An example of a basic platformer (Mario-like) game made with GDevelop.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"",name:""},{fullName:"Tween animation",name:"Tween"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"}]},"platformer-double-jump":{description:"The Platformer example modified to allow the player to do a double jump.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Anchor",name:"AnchorBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"System information",name:"SystemInfo"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"}]},"play-music-on-mobile":{description:"This show how to properly launch a music on a game on mobile.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Audio",name:"BuiltinAudio"}]},"play-stop-sprite-animation":{description:"This shows how to pause the animation of a Sprite object.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"racing-game":{description:"A top-down racing game made using the Physics engine.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Variable features",name:"BuiltinVariables"}]},ragdoll:{description:"Example of creating a ragdoll with physics joints.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Particle system",name:"ParticleSystem"},{fullName:"Physics Engine 2.0",name:"Physics2"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Advanced control features",name:"BuiltinAdvanced"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},rain:{description:"Show how to simulate a rain effect by creating several objects.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Window features",name:"BuiltinWindow"}]},"random-color-picker":{description:"This shows how to create a grid with random color, and let the player choose one.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"rotate-toward-mouse":{description:"Show how to rotate an object so that it looks toward the player cursor.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"rotate-toward-position":{description:"Show how to rotate an object so that it looks toward a specified position on the scene.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"rotate-with-keypress":{description:"Basic example showing how to rotate an object.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"save-load":{description:"Advanced example showing how to persist data and then reload them from storage (useful to store game progress, or save the state of some objects in a game).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Storage",name:"BuiltinFile"}]},"screen-shake":{description:"Make the screen shake when some event occurs.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Platform Behavior",name:"PlatformBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},"shoot-bullet-in-parabola":{description:"Show how to use various mathematical expressions to move an object following a parabola shape",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Scene management features",name:"BuiltinScene"}]},"shoot-bullets":{description:"Basic example showing how to shoot bullets from an object.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"shooting-bullets-explanation":{description:"Basic example showing how to shoot bullets from one or multiple objects at the same time.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"simple-space-shooter":{description:"An older, simple space shooter demo, made without any behaviors from extensions. Prefer taking a look at the Space Shooter starter to learn about useful behaviors and patterns for making your games.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Top-down movement",name:"TopDownMovementBehavior"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Audio",name:"BuiltinAudio"}]},"snap-object-to-grid":{description:"Example showing how to create a grid and have objects snapped to the grid.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Text object",name:"TextObject"},{fullName:"Draggable Behavior",name:"DraggableBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Window features",name:"BuiltinWindow"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"space-invaders":{description:"A Space Invaders-like game, where you have a turret and shoot on enemies coming from the sky.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"System information",name:"SystemInfo"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Cameras and layers features",name:"BuiltinCamera"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Window features",name:"BuiltinWindow"}]},"space-shooter":{description:"A beautiful, retro side-scrolling shooter where you must defeat incoming enemies with your mecha transforming spaceship. Huge boss included!\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Panel Sprite (9-patch) Object",name:"PanelSpriteObject"},{fullName:"",name:""},{fullName:"Top-down movement",name:"TopDownMovementBehavior"},{fullName:"Destroy Outside Screen Behavior",name:"DestroyOutsideBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"splash-screen":{description:"Show how to create a splashscreen at the beginning of your game.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"sprite-fade-in-out":{description:"This shows how to make a sprite fade in and out on the screen.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"}]},"tabbed-menu-with-layers":{description:"Example showing how to create a menu with multiple tabs.\n",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Tiled Sprite Object",name:"TiledSpriteObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Tween animation",name:"Tween"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Audio",name:"BuiltinAudio"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]},"take-screenshot":{description:"Show how to save a screenshot of the game on the disk (on Windows/macOS/Linux only).",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Screenshot",name:"Screenshot"},{fullName:"Audio",name:"BuiltinAudio"}]},"text-entry-object":{description:"This shows how to use the Text Entry object to capture what is written on the keyboard.",usedExtensions:[{fullName:"Text entry object",name:"TextEntryObject"},{fullName:"Text object",name:"TextObject"}]},"text-fade-in-out":{description:"This shows how to make a text fade in and out on the screen.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"}]},"text-to-speech":{description:"Advanced example showing how to use JavaScript and HTML5 api to make a text read by your computer.",usedExtensions:[{fullName:"Text entry object",name:"TextEntryObject"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Variable features",name:"BuiltinVariables"}]},"toggle-music-play-sound":{description:"Example showing how to play a music and add controls on the screen to pause it, change the volume or mute the sounds totally.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Audio",name:"BuiltinAudio"}]},"tween-animations":{description:"Examples of how to use a variety of tween animations, including object position, color, opacity, angle, and scale.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Tween animation",name:"Tween"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"tween-test":{description:"An example project that tests all Tween extension functionality.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Sprite",name:"Sprite"},{fullName:"Tween animation",name:"Tween"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Advanced control features",name:"BuiltinAdvanced"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Standard events",name:"BuiltinCommonInstructions"}]},"type-on-text-effect":{description:"This show how to create an effect where a text is progressively typed on the screen.",usedExtensions:[{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Audio",name:"BuiltinAudio"}]},"unlock-items":{description:"Show how to save the items unlocked by the user and load them later (when the game is launched again for example, or when starting a saved game).\n",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Storage",name:"BuiltinFile"},{fullName:"Variable features",name:"BuiltinVariables"}]},"video-player":{description:"An example of a complete video player with controls to play/pause, change the volume, jump to a position in the video...",usedExtensions:[{fullName:"Video",name:"Video"},{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Tween animation",name:"Tween"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Advanced control features",name:"BuiltinAdvanced"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"",name:""},{fullName:"Window features",name:"BuiltinWindow"}]},"z-depth":{description:"Example where the player can move a character on a map, and the character is displayed behind or in front of other objects according to its position.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Text object",name:"TextObject"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Standard events",name:"BuiltinCommonInstructions"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Keyboard features",name:"BuiltinKeyboard"},{fullName:"Features for all objects",name:"BuiltinObject"}]},"zombie-laser":{description:"Simple game where the player must use his laser powered gun to destroy zombies running at him.",usedExtensions:[{fullName:"Sprite",name:"Sprite"},{fullName:"Primitive drawing",name:"PrimitiveDrawing"},{fullName:"Text object",name:"TextObject"},{fullName:"Pathfinding behavior",name:"PathfindingBehavior"},{fullName:"Scene management features",name:"BuiltinScene"},{fullName:"Variable features",name:"BuiltinVariables"},{fullName:"Mouse features",name:"BuiltinMouse"},{fullName:"Features for all objects",name:"BuiltinObject"},{fullName:"Time",name:"BuiltinTime"},{fullName:"Cameras and layers features",name:"BuiltinCamera"}]}}},877:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var a=n(77),r=n(2),o=n(85),i=n(79),s=function(){return r.createElement(o.a,null,r.createElement(a.Trans,{id:"This will export your game as a Cordova project. Cordova is a technology that enables HTML5 games to be packaged for iOS and Android."}))},c=function(e){var t=e.renderGameButton;return r.createElement(i.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"You can now compile the game by yourself using Cordova command-line tool to iOS (XCode is required) or Android (Android SDK is required)."})),r.createElement(i.b,{justifyContent:"center"},t()))}},878:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var a=n(77),r=n(2),o=n(85),i=n(79),s=function(){return r.createElement(o.a,null,r.createElement(a.Trans,{id:"This will export your game so that you can package it for Windows, macOS or Linux. You will need to install third-party tools (Node.js, Electron Builder) to package your game."}))},c=function(e){var t=e.renderGameButton;return r.createElement(i.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"The game was properly exported. You can now use Electron Builder (you need Node.js installed and to use the command-line on your computer to run it) to create an executable."})),r.createElement(i.b,{justifyContent:"center"},t()))}},879:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}));var a=n(77),r=n(2),o=n(85),i=n(228),s=n(3),c=n(87),l=n(79),u=n(126),d=function(){return r.createElement(o.a,null,r.createElement(a.Trans,{id:"This will export your game to a folder."}),r.createElement(a.Trans,{id:"You can then upload it on a website/game hosting service and share it on marketplaces and gaming portals like Kongregate, Game Jolt, itch.io, Poki..."}))},m=function(e){var t=e.renderGameButton;return r.createElement(l.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"You can now upload the game to a web hosting to play to the game."})),r.createElement(u.a,{kind:"warning"},r.createElement(a.Trans,{id:"Your game won't work if you open index.html on your computer. You must upload it to a web hosting (Kongregate, Itch.io, etc...) or a web server to run it."})),r.createElement(l.c,null),t(),r.createElement(l.c,null),r.createElement(c.a,{fullWidth:!0,primary:!0,onClick:function(){return s.b.openExternalURL(Object(i.a)("/publishing/publishing-to-gamejolt-store"))},label:r.createElement(a.Trans,{id:"Publish your game on Game Jolt"})}),r.createElement(c.a,{fullWidth:!0,primary:!0,onClick:function(){return s.b.openExternalURL(Object(i.a)("/publishing/publishing-to-kongregate-store"))},label:r.createElement(a.Trans,{id:"Publish your game on Kongregate"})}),r.createElement(c.a,{fullWidth:!0,primary:!0,onClick:function(){return s.b.openExternalURL(Object(i.a)("/publishing/publishing-to-itch-io"))},label:r.createElement(a.Trans,{id:"Publish your game on Itch.io"})}),r.createElement(c.a,{fullWidth:!0,primary:!0,onClick:function(){return s.b.openExternalURL("https://gdevelop-app.com/poki")},label:r.createElement(a.Trans,{id:"Publish your game on Poki.com"})}),r.createElement(c.a,{fullWidth:!0,onClick:function(){return s.b.openExternalURL(Object(i.a)("/publishing"))},label:r.createElement(a.Trans,{id:"Learn more about publishing"})}))}},880:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var a=n(77),r=n(2),o=n(85),i=n(79),s=n(126),c=function(){return r.createElement(i.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"This will export your game using Cocos2d-JS game engine. The game can be compiled for Android or iOS if you install Cocos2d-JS developer tools."})),r.createElement(i.c,null),r.createElement(s.a,{kind:"info"},r.createElement(a.Trans,{id:"This export is experimental and not all features are supported by Cocos2D-JS. It's recommended that you thoroughly test your game and be ready to contribute to the game engine if you need to implement missing features."})))},l=function(e){var t=e.renderGameButton;return r.createElement(i.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"You can now upload the game to a web hosting or use Cocos2d-JS command line tools to export it to other platforms like iOS (XCode is required) or Android (Android SDK is required)."})),r.createElement(i.b,{justifyContent:"center"},t()))}},881:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(77),r=n(2),o=n(85),i=n(79),s=n(87),c=n(228),l=n(3),u=function(){return r.createElement(o.a,null,r.createElement(a.Trans,{id:"Prepare your game for Facebook Instant Games so that it can be play on Facebook Messenger. GDevelop will create a compressed file that you can upload on your Facebook Developer account."}))},d=function(e){var t=e.renderGameButton;return r.createElement(i.a,{noMargin:!0},r.createElement(o.a,null,r.createElement(a.Trans,{id:"You can now create a game on Facebook Instant Games, if not already done, and upload the generated archive."})),r.createElement(i.b,{justifyContent:"center"},t(),r.createElement(s.a,{label:r.createElement(a.Trans,{id:"Learn more about Instant Games publication"}),primary:!0,onClick:function(){l.b.openExternalURL(Object(c.a)("/publishing/publishing-to-facebook-instant-games"))}})))}},882:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(77),r=n(2),o=n(85),i=function(){return r.createElement(o.a,null,r.createElement(a.Trans,{id:"Packaging your game for Android will create an APK file that can be installed on Android phones or published to the Play Store."}))}},883:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(100),r=n(83),o=n(77),i=n(2),s=n(85),c=n(159),l=n(79),u=function(e){var t=e.exportState,n=e.updateExportState,u=function(e,t){n((function(n){return t&&-1===n.targets.indexOf(e)?Object(r.a)(Object(r.a)({},n),{},{targets:[].concat(Object(a.a)(n.targets),[e])}):t||-1===n.targets.indexOf(e)?n:Object(r.a)(Object(r.a)({},n),{},{targets:n.targets.filter((function(t){return t!==e}))})}))};return i.createElement(i.Fragment,null,i.createElement(l.a,{noMargin:!0},i.createElement(l.b,null,i.createElement(s.a,null,i.createElement(o.Trans,{id:"Your game will be exported and packaged online as a stand-alone game for Windows, Linux and/or macOS."}))),i.createElement(c.a,{label:i.createElement(o.Trans,{id:"Windows (zip file)"}),checked:-1!==t.targets.indexOf("winZip"),onCheck:function(e,t){return u("winZip",t)}}),i.createElement(c.a,{label:i.createElement(o.Trans,{id:"Windows (auto-installer file)"}),checked:-1!==t.targets.indexOf("winExe"),onCheck:function(e,t){return u("winExe",t)}}),i.createElement(c.a,{label:i.createElement(o.Trans,{id:"macOS (zip file)"}),checked:-1!==t.targets.indexOf("macZip"),onCheck:function(e,t){return u("macZip",t)}}),i.createElement(c.a,{label:i.createElement(o.Trans,{id:"Linux (AppImage)"}),checked:-1!==t.targets.indexOf("linuxAppImage"),onCheck:function(e,t){return u("linuxAppImage",t)}})))}},884:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(77),r=n(2),o=n(85),i=function(){return r.createElement(o.a,null,r.createElement(a.Trans,{id:"This will export your game and upload it on GDevelop games hosting. The game will be freely accessible from the link, available for a few days and playable from any computer browser or mobile phone (iOS, Android 5+)."}))}},885:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(617);t.a=r.a.memo((function(e){return r.a.createElement(o.a,e,r.a.createElement("path",{d:"M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M18,5H15.5A3.5,3.5 0 0,0 12,8.5V11H10V14H12V21H15V14H18V11H15V9A1,1 0 0,1 16,8H18V5Z"}))}))},886:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(617);t.a=r.a.memo((function(e){return r.a.createElement(o.a,e,r.a.createElement("path",{d:"M20.18,21.55H16.94L17.17,18.82H15.58L15.35,21.55H8.65L8.42,18.82H6.83L7.06,21.55H3.82L2,9.73L6.55,2.45H17.45L22,9.73L20.18,21.55M16.55,6.09H13.62L13.82,7.45H10.18L10.38,6.09H7.45L5.64,9.73L6.55,17H17.45L18.36,9.73L16.55,6.09M14.95,14.59C14.7,14.59 14.5,13.83 14.5,12.9C14.5,11.96 14.7,11.2 14.95,11.2C15.21,11.2 15.41,11.96 15.41,12.9C15.41,13.83 15.21,14.59 14.95,14.59M9.22,14.73C8.96,14.73 8.76,13.97 8.76,13.04C8.76,12.1 8.96,11.35 9.22,11.35C9.47,11.35 9.67,12.1 9.67,13.04C9.67,13.97 9.47,14.73 9.22,14.73Z"}))}))},887:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(617);t.a=r.a.memo((function(e){return r.a.createElement(o.a,e,r.a.createElement("path",{d:"M12,20L15.46,14H15.45C15.79,13.4 16,12.73 16,12C16,10.8 15.46,9.73 14.62,9H19.41C19.79,9.93 20,10.94 20,12A8,8 0 0,1 12,20M4,12C4,10.54 4.39,9.18 5.07,8L8.54,14H8.55C9.24,15.19 10.5,16 12,16C12.45,16 12.88,15.91 13.29,15.77L10.89,19.91C7,19.37 4,16.04 4,12M15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9A3,3 0 0,1 15,12M12,4C14.96,4 17.54,5.61 18.92,8H12C10.06,8 8.45,9.38 8.08,11.21L5.7,7.08C7.16,5.21 9.44,4 12,4M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}))}))},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(137),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n(2370),u=n(79),d=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.primary,r=e.icon,o=Object(a.a)(e,["label","primary","icon"]);return c.createElement(l.a,Object.assign({variant:"contained",size:"small",color:n?"primary":"default",focusRipple:!0},o),r,r&&c.createElement(u.c,null),t)}}]),n}(c.Component)},891:function(e,t,n){var a=n(721),r=function(e,t,n){if(!n.runExtensionSanityTests)return{error:!0,message:"Missing runExtensionSanityTests in the extension module exports"};var r=n.runExtensionSanityTests(e,t);return a(r)?{error:!0,message:"One or more tests are failing for the extension (see rawError)",rawError:r}:{error:!1,message:"Tests passed successfully"}};e.exports={runExtensionSanityTests:r,loadExtension:function(e,t,n,a){if(!a.createExtension)return{message:"Extension module found, but no createExtension method is exported",error:!0};var o=null;try{if(!(o=a.createExtension(e,t)))return{message:"createExtension did not return any extension. Did you forget to return the extension created?",error:!0}}catch(s){return{message:"\ud83d\udea8 Exception caught while running createExtension. \ud83d\udca3 Please fix this error as this will make GDevelop crash at some point.",error:!0,dangerous:!0,rawError:s}}try{var i=r(t,o,a);if(i.error)return o.delete(),i}catch(s){return{message:"\ud83d\udea8 Exception caught while running runExtensionSanityTests. \ud83d\udca3 Please fix this error as this will make GDevelop crash at some point.",error:!0,dangerous:!0,rawError:s}}return n.addNewExtension(o),o.delete(),{message:"\u2705 Successfully loaded the extension.",error:!1}}}},894:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l={internalName:"Empty",name:"No storage",createOperations:function(){return{onOpenWithPicker:function(){return Promise.reject("No storage provider set up")},onOpen:function(){return Promise.reject("No storage provider set up")},hasAutoSave:function(){return Promise.resolve(!1)},onSaveProject:function(e){return Promise.reject("No storage provider set up")},onSaveProjectAs:function(e){return Promise.reject("No storage provider set up")},onAutoSaveProject:function(e){return Promise.resolve()}}}},u=function(e,t,n){var a=t.map((function(e){return{currentStorageProvider:e,initialFileMetadataToOpen:e.getFileMetadataFromAppArguments?e.getFileMetadataFromAppArguments(n):null}})).filter((function(e){return!!e.initialFileMetadataToOpen}));return 0===a.length?{currentStorageProvider:e,initialFileMetadataToOpen:null}:(a.length>1&&console.warn("More than one storage provider can understand the app arguments. Selecting the first one."),a[0])},d=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state=Object(a.a)(Object(a.a)({},u(e.props.defaultStorageProvider,e.props.storageProviders,e.props.appArguments)),{},{storageProviderOperations:null,renderDialog:null}),e._setDialog=function(t){e.setState({renderDialog:t})},e._closeDialog=function(){e.setState({renderDialog:null})},e._getStorageProviderOperations=function(t){if((!t||t===e.state.currentStorageProvider)&&e.state.storageProviderOperations)return Promise.resolve(e.state.storageProviderOperations);var n=t||e.state.currentStorageProvider||l,a=n.createOperations({setDialog:e._setDialog,closeDialog:e._closeDialog});return new Promise((function(t){e.setState({currentStorageProvider:n,storageProviderOperations:a},(function(){t(a)}))}))},e._getStorageProvider=function(){return e.state.currentStorageProvider||l},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.storageProviders,a=this.state,r=a.renderDialog,o=a.initialFileMetadataToOpen;return c.createElement(c.Fragment,null,t({storageProviders:n,getStorageProviderOperations:this._getStorageProviderOperations,initialFileMetadataToOpen:o,getStorageProvider:this._getStorageProvider}),r&&r())}}]),n}(c.Component)},90:function(e,t,n){"use strict";var a=n(83),r=n(2),o=n(2373),i=n(2377),s=n(2376),c=n(2375),l=n(163),u={defaultBody:{overflowX:"hidden"},noMarginBody:{padding:0,overflowX:"hidden"},flexRowBody:{display:"flex",flexDirection:"row"},flexBody:{display:"flex"},actionsContainerWithSecondaryActions:{display:"flex",justifyContent:"space-between"},noTitleMargin:{padding:0}};t.a=function(e){var t=e.secondaryActions,n=e.actions,d=e.open,m=e.onRequestClose,p=e.maxWidth,f=e.noMargin,h=e.title,g=e.children,b=e.flexRowBody,v=e.flexBody,E=e.noTitleMargin,y=t?r.createElement(r.Fragment,null,r.createElement("div",{key:"secondary-actions"},t),r.createElement("div",{key:"actions"},n)):n,j=Object(a.a)(Object(a.a)(Object(a.a)({},f?u.noMarginBody:u.defaultBody),b?u.flexRowBody:{}),v?u.flexBody:{});return r.createElement(l.a,null,(function(e){return r.createElement(o.a,{open:d,onClose:m,fullWidth:!0,fullScreen:"small"===e,className:"small"===e?"safe-area-aware-container":void 0,maxWidth:void 0!==p?p:"md",disableBackdropClick:!1,disableEscapeKeyDown:!1},h&&r.createElement(c.a,{style:E?u.noTitleMargin:void 0},h),r.createElement(s.a,{style:j},g),r.createElement(i.a,{style:t?u.actionsContainerWithSecondaryActions:void 0},y))}))}},903:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n.n(s),l=n(561),u=n.n(l),d=n(28),m=function(){function e(t){var n=this,r=t.onDelete,o=t.onMove,i=t.onCopy,s=t.onCut,c=t.onPaste,l=t.onUndo,u=t.onRedo,m=t.onSearch,p=t.onZoomOut,f=t.onZoomIn;Object(a.a)(this,e),this._isControlPressed=function(){return n.metaPressed||n.rawCtrlPressed},this._onKeyDown=function(e){if(n.isFocused){var t=!1;e.metaKey&&(n.metaPressed=!0),e.altKey&&(n.altPressed=!0),17===e.which&&(n.rawCtrlPressed=!0),16===e.which&&(n.shiftPressed=!0),32===e.which&&(n.spacePressed=!0);if(!e.target||!e.target.closest('textarea, input, [contenteditable="true"]'))return n.onMove&&(38===e.which?n.onMove(0,-1):40===e.which?n.onMove(0,1):37===e.which?n.onMove(-1,0):39===e.which&&n.onMove(1,0)),8!==e.which&&46!==e.which||(n.onDelete(),t=!0),n._isControlPressed()&&67===e.which&&n.onCopy(),n._isControlPressed()&&88===e.which&&n.onCut(),n._isControlPressed()&&86===e.which&&n.onPaste(),n._isControlPressed()&&90===e.which&&n.onUndo(),n._isControlPressed()&&n.shiftPressed&&90===e.which&&n.onRedo(),n._isControlPressed()&&89===e.which&&n.onRedo(),n._isControlPressed()&&70===e.which&&n.onSearch(),n._isControlPressed()&&189===e.which&&n.onZoomOut(),109===e.which&&n.onZoomOut(),n._isControlPressed()&&187===e.which&&n.onZoomIn(),107===e.which&&n.onZoomIn(),t?(e.preventDefault&&e.preventDefault(),!1):void 0}},this._onKeyUp=function(e){e.metaKey||(n.metaPressed=!1),e.altKey||(n.altPressed=!1),17===e.which&&(n.rawCtrlPressed=!1),16===e.which&&(n.shiftPressed=!1),32===e.which&&(n.spacePressed=!1);var t=!1;if(8!==e.which&&46!==e.which||(t=!0),t)return e.preventDefault&&e.preventDefault(),!1},this._onMouseDown=function(e){n.isFocused&&(Object(d.e)()||(1===e.button?n.mouseMidButtonPressed=!0:n.mouseMidButtonPressed=!1))},this._onMouseUp=function(e){n.isFocused&&(Object(d.e)()||1!==e.button||(n.mouseMidButtonPressed=!1))},this._onKeyPress=function(e){},this._noop=function(){},this.onDelete=r||this._noop,this.onMove=o||this._noop,this.onCopy=i||this._noop,this.onCut=s||this._noop,this.onPaste=c||this._noop,this.onUndo=l||this._noop,this.onRedo=u||this._noop,this.onZoomOut=p||this._noop,this.onZoomIn=f||this._noop,this.onSearch=m||this._noop,this.isFocused=!1,this.shiftPressed=!1,this.rawCtrlPressed=!1,this.metaPressed=!1,this.spacePressed=!1,this.mouseMidButtonPressed=!1,this.mount()}return Object(r.a)(e,[{key:"shouldCloneInstances",value:function(){return this._isControlPressed()}},{key:"shouldMultiSelect",value:function(){return this.shiftPressed}},{key:"shouldFollowAxis",value:function(){return this.shiftPressed}},{key:"shouldNotSnapToGrid",value:function(){return this.altPressed}},{key:"shouldResizeProportionally",value:function(){return this.shiftPressed}},{key:"shouldScrollHorizontally",value:function(){return this.altPressed}},{key:"shouldZoom",value:function(){return Object(d.e)()?this._isControlPressed():!(this._isControlPressed()||this.altPressed||this.shiftPressed)}},{key:"shouldMoveView",value:function(){return this.spacePressed||this.mouseMidButtonPressed}},{key:"focus",value:function(){this.isFocused=!0}},{key:"blur",value:function(){this.isFocused=!1,this.metaPressed=!1,this.altPressed=!1}},{key:"mount",value:function(){"undefined"!==typeof document&&(document.addEventListener("keydown",this._onKeyDown,!0),document.addEventListener("keyup",this._onKeyUp,!0),document.addEventListener("keypress",this._onKeyPress,!0),document.addEventListener("mousedown",this._onMouseDown,!0),document.addEventListener("mouseup",this._onMouseUp,!0))}},{key:"unmount",value:function(){"undefined"!==typeof document&&(document.removeEventListener("keydown",this._onKeyDown,!0),document.removeEventListener("keyup",this._onKeyUp,!0),document.removeEventListener("keypress",this._onKeyPress,!0),document.removeEventListener("mousedown",this._onMouseDown,!0),document.removeEventListener("mouseup",this._onMouseUp,!0))}}]),e}(),p=n(1829),f=n(107),h=function(){function e(t){var n=this,r=t.project,o=t.layout,i=t.instances,s=t.viewPosition,c=t.onInstanceClicked,l=t.onInstanceDoubleClicked,u=t.onOverInstance,d=t.onOutInstance,m=t.onMoveInstance,p=t.onMoveInstanceEnd,h=t.onDownInstance;Object(a.a)(this,e),this.project=r,this.instances=i,this.layout=o,this.viewPosition=s,this.onInstanceClicked=c,this.onInstanceDoubleClicked=l,this.onOverInstance=u,this.onOutInstance=d,this.onMoveInstance=m,this.onMoveInstanceEnd=p,this.onDownInstance=h,this.layersRenderers={},this.pixiContainer=new f.Container,this.instanceMeasurer={getInstanceLeft:function(e){var t=e.getLayer(),a=n.layersRenderers[t];return a?a.getInstanceLeft(e):e.getX()},getInstanceTop:function(e){var t=e.getLayer(),a=n.layersRenderers[t];return a?a.getInstanceTop(e):e.getY()},getInstanceWidth:function(e){if(e.hasCustomSize())return e.getCustomWidth();var t=e.getLayer(),a=n.layersRenderers[t];return a?a.getInstanceWidth(e):0},getInstanceHeight:function(e){if(e.hasCustomSize())return e.getCustomHeight();var t=e.getLayer(),a=n.layersRenderers[t];return a?a.getInstanceHeight(e):0},getInstanceRect:function(e){return{x:n.instanceMeasurer.getInstanceLeft(e),y:n.instanceMeasurer.getInstanceTop(e),width:n.instanceMeasurer.getInstanceWidth(e),height:n.instanceMeasurer.getInstanceHeight(e)}}}}return Object(r.a)(e,[{key:"getPixiContainer",value:function(){return this.pixiContainer}},{key:"getInstanceMeasurer",value:function(){return this.instanceMeasurer}},{key:"render",value:function(){for(var e=0;e<this.layout.getLayersCount();e++){var t=this.layout.getLayerAt(e),n=t.getName(),a=this.layersRenderers[n];a||(this.layersRenderers[n]=a=new p.a({project:this.project,layout:this.layout,instances:this.instances,viewPosition:this.viewPosition,layer:t,onInstanceClicked:this.onInstanceClicked,onInstanceDoubleClicked:this.onInstanceDoubleClicked,onOverInstance:this.onOverInstance,onOutInstance:this.onOutInstance,onMoveInstance:this.onMoveInstance,onMoveInstanceEnd:this.onMoveInstanceEnd,onDownInstance:this.onDownInstance}),this.pixiContainer.addChild(a.getPixiContainer())),a.layer=t,a.wasUsed=!0,a.getPixiContainer().zOrder=e,a.render()}this._updatePixiObjectsZOrder(),this._cleanRenderers()}},{key:"_updatePixiObjectsZOrder",value:function(){this.pixiContainer.children.sort((function(e,t){return e.zOrder=e.zOrder||0,t.zOrder=t.zOrder||0,e.zOrder-t.zOrder}))}},{key:"resetRenderersFor",value:function(e){for(var t in this.layersRenderers){if(this.layersRenderers.hasOwnProperty(t))this.layersRenderers[t].resetRenderersFor(e)}}},{key:"_cleanRenderers",value:function(){for(var e in this.layersRenderers)if(this.layersRenderers.hasOwnProperty(e)){var t=this.layersRenderers[e];t.wasUsed?t.wasUsed=!1:(this.pixiContainer.removeChild(t.getPixiContainer()),t.delete(),delete this.layersRenderers[e])}}},{key:"delete",value:function(){for(var e in this.layersRenderers)this.layersRenderers.hasOwnProperty(e)&&this.layersRenderers[e].delete()}}]),e}(),g=n(562);function b(e,t){var n=t.x,a=t.y,r=t.width,o=t.height,i=e(n,a),s=e(n+r,a+o);return{x:i[0],y:i[1],width:s[0]-i[0],height:s[1]-i[1]}}n(418);var v=function(){function e(t){var n=this,r=t.instancesSelection,o=t.instanceMeasurer,i=t.onResize,s=t.onResizeEnd,c=t.onRotate,l=t.onRotateEnd,u=t.toCanvasCoordinates,d=t.screenType;Object(a.a)(this,e),this.pixiContainer=new f.Container,this.rectanglesContainer=new f.Container,this.selectedRectangles=[],this.resizeButton=new f.Graphics,this.resizeIcon=new f.Sprite.from("res/actions/direction.png"),this.rightResizeButton=new f.Graphics,this.bottomResizeButton=new f.Graphics,this.rotateButton=new f.Graphics,this.instanceMeasurer=o,this.onResize=i,this.onResizeEnd=s,this.onRotate=c,this.onRotateEnd=l,this.toCanvasCoordinates=u,this.instancesSelection=r,this._screenType=d,this.pixiContainer.addChild(this.rectanglesContainer),this._makeButton(this.resizeButton,(function(e){n.onResize(e.deltaX,e.deltaY)}),(function(){n.onResizeEnd()}),"nwse-resize"),this._makeButton(this.rightResizeButton,(function(e){n.onResize(e.deltaX,null)}),(function(){n.onResizeEnd()}),"ew-resize"),this._makeButton(this.bottomResizeButton,(function(e){n.onResize(null,e.deltaY)}),(function(){n.onResizeEnd()}),"ns-resize"),this._makeButton(this.rotateButton,(function(e){n.onRotate(e.deltaX,e.deltaY)}),(function(){n.onRotateEnd()}),'url("res/actions/rotate24.png"),auto')}return Object(r.a)(e,[{key:"setScreenType",value:function(e){this._screenType=e}},{key:"_makeButton",value:function(e,t,n,a){e.interactive=!0,e.buttonMode=!0,e.cursor=a,u.a.panable(e),e.on("panmove",t),e.on("panend",n),this.pixiContainer.addChild(e)}},{key:"getPixiContainer",value:function(){return this.pixiContainer}},{key:"_renderButton",value:function(e,t,n,a,r,o){t.clear(),e?(t.beginFill(16777215),t.lineStyle(1,6842600,1),t.fill.alpha=.9,0===r?t.drawRect(n[0],n[1],a,a):1===r&&t.drawCircle(n[0]+a/2,n[1]+a/2,a/2),t.endFill(),t.hitArea=new f.Rectangle(n[0]-o,n[1]-o,a+2*o,a+2*o)):t.hitArea=new f.Rectangle(0,0,0,0)}},{key:"render",value:function(){for(var e="touch"===this._screenType?{buttonSize:14,smallButtonSize:12,buttonPadding:5,hitAreaPadding:12}:{buttonSize:10,smallButtonSize:8,buttonPadding:5,hitAreaPadding:5},t=e.buttonSize,n=e.smallButtonSize,a=e.buttonPadding,r=e.hitAreaPadding,o=this.instancesSelection.getSelectedInstances(),i=0,s=0,c=0,l=0,u=0;u<o.length;u++){if(this.selectedRectangles.length===u){var d=new f.Graphics;d.hitArea=new f.Rectangle(0,0,0,0),this.selectedRectangles.push(d),this.rectanglesContainer.addChild(d)}var m=o[u],p=this.instanceMeasurer.getInstanceRect(m),h=b(this.toCanvasCoordinates,p);this.selectedRectangles[u].clear(),this.selectedRectangles[u].beginFill(6842600),this.selectedRectangles[u].lineStyle(1,6842600,1),this.selectedRectangles[u].fill.alpha=.3,this.selectedRectangles[u].alpha=.8,this.selectedRectangles[u].drawRect(h.x,h.y,h.width,h.height),this.selectedRectangles[u].endFill(),0===u?(i=p.x,s=p.y,c=p.x+p.width,l=p.y+p.height):(p.x<i&&(i=p.x),p.y<s&&(s=p.y),p.x+p.width>c&&(c=p.x+p.width),p.y+p.height>l&&(l=p.y+p.height))}for(;this.selectedRectangles.length>o.length;)this.rectanglesContainer.removeChild(this.selectedRectangles.pop());var g=0!==o.length,v=this.toCanvasCoordinates(c,l);v[0]+=a,v[1]+=a;var E=this.toCanvasCoordinates(c,s+(l-s)/2);E[0]+=a,E[1]-=n/2;var y=this.toCanvasCoordinates(i+(c-i)/2,l);y[0]-=n/2,y[1]+=a;var j=this.toCanvasCoordinates(i+(c-i)/2,s);j[0]-=n/2,j[1]-=4*a,this._renderButton(g,this.resizeButton,v,t,0,r),this._renderButton(g,this.rightResizeButton,E,n,0,r),this._renderButton(g,this.bottomResizeButton,y,n,0,r),this._renderButton(g,this.rotateButton,j,n,1,r)}}]),e}(),E=function(){function e(t){var n=t.instanceMeasurer,r=t.toCanvasCoordinates;Object(a.a)(this,e),this.instanceMeasurer=n,this.toCanvasCoordinates=r,this.highlightedInstance=null,this.highlightRectangle=new f.Graphics,this.highlightRectangle.hitArea=new f.Rectangle(0,0,0,0),this.tooltipBackground=new f.Graphics,this.tooltipText=new f.Text("",{fontSize:15,fill:16777215,align:"center"}),this.highlightRectangle.addChild(this.tooltipBackground),this.highlightRectangle.addChild(this.tooltipText)}return Object(r.a)(e,[{key:"setInstance",value:function(e){this.highlightedInstance=e}},{key:"getInstance",value:function(){return this.highlightedInstance}},{key:"getPixiObject",value:function(e){return this.highlightRectangle}},{key:"render",value:function(){if(null!==this.highlightedInstance){var e=b(this.toCanvasCoordinates,this.instanceMeasurer.getInstanceRect(this.highlightedInstance));this.highlightRectangle.visible=!0,this.highlightRectangle.clear(),this.highlightRectangle.beginFill(15658751),this.highlightRectangle.fill.alpha=.1,this.highlightRectangle.alpha=.8,this.highlightRectangle.lineStyle(1,0,1),this.highlightRectangle.drawRect(e.x,e.y,e.width,e.height),this.highlightRectangle.endFill();var t=this.highlightedInstance.getObjectName()+"\nX: "+parseInt(this.highlightedInstance.getX())+"  Y: "+parseInt(this.highlightedInstance.getY())+"\nLayer: "+this.highlightedInstance.getLayer()+"  Z: "+this.highlightedInstance.getZOrder()+"\n";this.tooltipText.text=t,this.tooltipText.x=Math.round(e.x-this.tooltipText.width/2+e.width/2),this.tooltipText.y=Math.round(e.y-this.tooltipText.height);this.tooltipBackground.clear(),this.tooltipBackground.beginFill(0,.8),this.tooltipBackground.drawRoundedRect(this.tooltipText.x-5,this.tooltipText.y-5,this.tooltipText.width+10,this.tooltipText.height-5,4),this.tooltipBackground.endFill()}else this.highlightRectangle.visible=!1}}]),e}(),y=n(1831),j=function(){function e(t){var n=t.instanceMeasurer,r=t.options;Object(a.a)(this,e),this.instanceMeasurer=n,this.options=r,this.instanceSizes={},this.totalDeltaX=0,this.totalDeltaY=0}return Object(r.a)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"_roundWidth",value:function(e){return!this.options.snap||!this.options.grid||this.options.gridWidth<=0?Math.max(Math.round(e),1):Math.max(Math.round(e/this.options.gridWidth)*this.options.gridWidth,1)}},{key:"_roundHeight",value:function(e){return!this.options.snap||!this.options.grid||this.options.gridHeight<=0?Math.max(Math.round(e),1):Math.max(Math.round(e/this.options.gridHeight)*this.options.gridHeight,1)}},{key:"_getSizeDeltaX",value:function(e,t){return e&&Math.abs(this.totalDeltaX)<Math.abs(this.totalDeltaY)?t.width/t.height*this.totalDeltaY:this.totalDeltaX}},{key:"_getSizeDeltaY",value:function(e,t){return e&&Math.abs(this.totalDeltaY)<Math.abs(this.totalDeltaX)?t.height/t.width*this.totalDeltaX:this.totalDeltaY}},{key:"resizeBy",value:function(e,t,n,a){this.totalDeltaX+=t,this.totalDeltaY+=n;for(var r=0;r<e.length;r++){var o=e[r];o.hasCustomSize()||(o.setCustomWidth(this.instanceMeasurer.getInstanceWidth(o)),o.setCustomHeight(this.instanceMeasurer.getInstanceHeight(o)));var i=this.instanceSizes[o.ptr];i||(i=this.instanceSizes[o.ptr]={width:o.getCustomWidth(),height:o.getCustomHeight()}),o.setHasCustomSize(!0),o.setCustomWidth(this._roundWidth(i.width+this._getSizeDeltaX(a,i))),o.setCustomHeight(this._roundHeight(i.height+this._getSizeDeltaY(a,i)))}}},{key:"endResize",value:function(){this.instanceSizes={},this.totalDeltaX=0,this.totalDeltaY=0}}]),e}(),O=function(){function e(){Object(a.a)(this,e),this.instanceAngles={},this.totalDeltaX=0,this.totalDeltaY=0}return Object(r.a)(e,[{key:"_getNewAngle",value:function(e,t){var n=180*Math.atan2(this.totalDeltaY,this.totalDeltaX)/Math.PI+t;return e?15*Math.round(n/15):n}},{key:"rotateBy",value:function(e,t,n,a){this.totalDeltaX+=t,this.totalDeltaY+=n;for(var r=0;r<e.length;r++){var o=e[r],i=this.instanceAngles[o.ptr];void 0===i&&(i=this.instanceAngles[o.ptr]=o.getAngle()),o.setAngle(this._getNewAngle(a,i))}}},{key:"endRotate",value:function(){this.instanceAngles={},this.totalDeltaX=0,this.totalDeltaY=0}}]),e}(),C=n(857),x=function(){function e(t){var n=t.instanceMeasurer,r=t.options;Object(a.a)(this,e),this.instanceMeasurer=n,this.options=r,this.instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0}return Object(r.a)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"_roundXPosition",value:function(e,t){return this.options.snap&&this.options.grid&&!t?Object(C.a)(e,this.options.gridWidth,this.options.gridOffsetX):Math.round(e)}},{key:"_roundYPosition",value:function(e,t){return this.options.snap&&this.options.grid&&!t?Object(C.a)(e,this.options.gridHeight,this.options.gridOffsetY):Math.round(e)}},{key:"_getMoveDeltaX",value:function(e){return e&&Math.abs(this.totalDeltaX)<Math.abs(this.totalDeltaY)?0:this.totalDeltaX}},{key:"_getMoveDeltaY",value:function(e){return e&&Math.abs(this.totalDeltaY)<Math.abs(this.totalDeltaX)?0:this.totalDeltaY}},{key:"moveBy",value:function(e,t,n,a,r){this.totalDeltaX+=t,this.totalDeltaY+=n;for(var o=0;o<e.length;o++){var i=e[o],s=this.instancePositions[i.ptr];s||(s=this.instancePositions[i.ptr]={x:i.getX(),y:i.getY()}),i.setX(this._roundXPosition(s.x+this._getMoveDeltaX(a),r)),i.setY(this._roundYPosition(s.y+this._getMoveDeltaY(a),r))}}},{key:"endMove",value:function(){this.instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0}}]),e}(),T=n(262),S={r:104,g:104,b:232},k=function(){function e(t){var n=t.viewPosition,r=t.options;Object(a.a)(this,e),this.viewPosition=n,this.options=r,this.pixiGrid=new f.Graphics,this.pixiGrid.hitArea=new f.Rectangle(0,0,0,0)}return Object(r.a)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"getPixiObject",value:function(){return this.pixiGrid}},{key:"render",value:function(){var e=this.options;if(e.grid){var t=e.gridColor||S,n=Object(T.b)(t),a=t.a||1;this.pixiGrid.visible=!0,this.pixiGrid.clear(),this.pixiGrid.beginFill(n),this.pixiGrid.lineStyle(1,n,a),this.pixiGrid.fill.alpha=.1,this.pixiGrid.alpha=.8;for(var r=this.viewPosition.toSceneCoordinates(0,0),o=this.viewPosition.toSceneCoordinates(this.viewPosition.getWidth(),this.viewPosition.getHeight()),i=Math.floor(r[0]/e.gridWidth)*e.gridWidth,s=Math.floor(r[1]/e.gridHeight)*e.gridHeight,c=Math.ceil(o[0]/e.gridWidth)*e.gridWidth,l=Math.ceil(o[1]/e.gridHeight)*e.gridHeight,u=i+e.gridOffsetX;u<c;u+=e.gridWidth){var d=this.viewPosition.toCanvasCoordinates(u,s),m=this.viewPosition.toCanvasCoordinates(u,l);this.pixiGrid.moveTo(d[0],d[1]),this.pixiGrid.lineTo(m[0],m[1])}for(var p=s+e.gridOffsetY;p<l;p+=e.gridHeight){var f=this.viewPosition.toCanvasCoordinates(i,p),h=this.viewPosition.toCanvasCoordinates(c,p);this.pixiGrid.moveTo(f[0],f[1]),this.pixiGrid.lineTo(h[0],h[1])}this.pixiGrid.endFill()}else this.pixiGrid.visible=!1}}]),e}(),w=function(){function e(t){var n=t.project,r=t.layout,o=t.toCanvasCoordinates;Object(a.a)(this,e),this.project=n,this.layout=r,this.toCanvasCoordinates=o,this.pixiRectangle=new f.Graphics,this.pixiRectangle.hitArea=new f.Rectangle(0,0,0,0),this.windowRectangle={x:0,y:0,width:this.project.getGameResolutionWidth(),height:this.project.getGameResolutionHeight()}}return Object(r.a)(e,[{key:"getPixiObject",value:function(){return this.pixiRectangle}},{key:"render",value:function(){this.windowRectangle.width=this.project.getGameResolutionWidth(),this.windowRectangle.height=this.project.getGameResolutionHeight();var e=b(this.toCanvasCoordinates,this.windowRectangle);this.pixiRectangle.clear(),this.pixiRectangle.beginFill(0),this.pixiRectangle.lineStyle(1,Object(T.d)(128+this.layout.getBackgroundColorRed()%256,128+this.layout.getBackgroundColorBlue()%256,128+this.layout.getBackgroundColorGreen()%256),1),this.pixiRectangle.alpha=1,this.pixiRectangle.fill.alpha=0,this.pixiRectangle.drawRect(e.x,e.y,e.width,e.height),this.pixiRectangle.endFill()}}]),e}(),N=function(){function e(t){var n=t.project,r=t.viewPosition,o=t.options;Object(a.a)(this,e),this.project=n,this.viewPosition=r,this.options=o,this.pixiRectangle=new f.Graphics,this.pixiRectangle.hitArea=new f.Rectangle(0,0,0,0),this.windowRectangle={x:0,y:0,width:0,height:0}}return Object(r.a)(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"getPixiObject",value:function(){return this.pixiRectangle}},{key:"render",value:function(){if(this.options.windowMask){var e=this.project.getGameResolutionWidth(),t=this.project.getGameResolutionHeight();this.windowRectangle.x=this.viewPosition.getViewX()-e/2,this.windowRectangle.y=this.viewPosition.getViewY()-t/2,this.windowRectangle.width=e,this.windowRectangle.height=t;var n=b(this.viewPosition.toCanvasCoordinates,this.windowRectangle);this.pixiRectangle.visible=!0,this.pixiRectangle.clear(),this.pixiRectangle.beginFill(0),this.pixiRectangle.lineStyle(1,0,1),this.pixiRectangle.alpha=1,this.pixiRectangle.fill.alpha=0,this.pixiRectangle.drawRect(n.x,n.y,n.width,n.height),this.pixiRectangle.endFill()}else this.pixiRectangle.visible=!1}}]),e}(),_=function(){function e(t){var n=t.layout,r=t.pixiRenderer;Object(a.a)(this,e),this.layout=n,this.pixiRenderer=r}return Object(r.a)(e,[{key:"render",value:function(){this.pixiRenderer.backgroundColor=parseInt(parseInt(Object(T.c)(this.layout.getBackgroundColorRed(),this.layout.getBackgroundColorGreen(),this.layout.getBackgroundColorBlue()),16),10)}}]),e}(),P=function(){function e(t){Object(a.a)(this,e),this._lastFrameTime=Date.now(),this._interval=1e3/t,this._forceUpdate=!1}return Object(r.a)(e,[{key:"shouldUpdate",value:function(){var e=Date.now(),t=e-this._lastFrameTime;return!!(t>this._interval||this._forceUpdate)&&(this._lastFrameTime=e-t%this._interval,this._forceUpdate=!1,!0)}},{key:"forceNextUpdate",value:function(){this._forceUpdate=!0}}]),e}(),I=function(){var e=f.Ticker&&f.Ticker.shared;e&&e.stop()},R=function(){setTimeout((function(){var e=f.Ticker&&f.Ticker.shared;e&&e.start()}),50)},B=n(98),M=function(){function e(t){var n=t.getLastCursorSceneCoordinates,r=t.width,o=t.height;Object(a.a)(this,e),this._getLastCursorSceneCoordinates=n,this._statusBarContainer=new f.Container,this._statusBarContainer.alpha=.8,this._statusBarContainer.hitArea=new f.Rectangle(0,0,0,0),this._statusBarBackground=new f.Graphics,this._statusBarText=new f.Text("",{fontSize:15,fill:16777215,align:"left"}),this._statusBarContainer.addChild(this._statusBarBackground),this._statusBarContainer.addChild(this._statusBarText),this.resize(r,o)}return Object(r.a)(e,[{key:"resize",value:function(e,t){this._width=e,this._height=t}},{key:"getPixiObject",value:function(){return this._statusBarContainer}},{key:"render",value:function(){var e=this._getLastCursorSceneCoordinates(),t=Object(B.a)(e,2),n=t[0],a=t[1];this._statusBarText.text="".concat(n.toFixed(0),";").concat(a.toFixed(0)),this._statusBarText.position.x=5,this._statusBarText.position.y=Math.round(this._height-5-this._statusBarText.height),this._statusBarBackground.clear(),this._statusBarBackground.beginFill(0,.8),this._statusBarBackground.drawRoundedRect(-4,this._height-10-this._statusBarText.height,this._statusBarText.width+10+4,this._statusBarText.height+10+4,4),this._statusBarBackground.endFill()}}]),e}(),F=function(){function e(t){var n=t.canvas,r=t.shouldMoveView;Object(a.a)(this,e),this.canvas=n,this.shouldMoveView=r}return Object(r.a)(e,[{key:"render",value:function(){if(this.shouldMoveView())return this.canvas.style.cursor="grab",void("grab"!==this.canvas.style.cursor&&(this.canvas.style.cursor="-webkit-grab"));this.canvas.style.cursor="default"}}]),e}(),A=n(1832),L=n(773),D=n(908),U=n(856),V=function e(t){var n=this,r=t.canvas,o=t.onLongTouch;Object(a.a)(this,e),this._lastTouchX=0,this._lastTouchY=0,this._onTouchStart=function(e){if(1===e.touches.length){var t=e.touches[0];n._lastTouchX=t.clientX,n._lastTouchY=t.clientY,n._clear(),n._longTouchTimeoutID=setTimeout((function(){n._onLongTouch&&n._onLongTouch({clientX:n._lastTouchX,clientY:n._lastTouchY})}),600)}},this._onTouchMove=function(e){if(1===e.touches.length){var t=e.touches[0];(Math.abs(t.clientX-n._lastTouchX)>10||Math.abs(t.clientY-n._lastTouchY)>10)&&n._clear()}else n._clear()},this._clear=function(){clearTimeout(n._longTouchTimeoutID)},this.unmount=function(){n._canvas.removeEventListener("touchstart",n._onTouchStart),n._canvas.removeEventListener("touchmove",n._onTouchMove),n._canvas.removeEventListener("touchend",n._clear)},this._canvas=r,this._onLongTouch=o,r.addEventListener("touchstart",this._onTouchStart),r.addEventListener("touchmove",this._onTouchMove),r.addEventListener("touchend",this._clear)};n.d(t,"a",(function(){return z}));var W={canvasArea:{flex:1,position:"absolute",overflow:"hidden"},dropCursor:{cursor:"copy"}},G=Object(L.a)(D.b),z=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastContextMenuX=0,e.lastContextMenuY=0,e.lastCursorX=0,e.lastCursorY=0,e.fpsLimiter=new P(28),e._unmounted=!1,e._renderingPaused=!1,e.getZoomFactor=function(){return e.props.options.zoomFactor},e.setZoomFactor=function(t){e.props.onChangeOptions({zoomFactor:Math.max(Math.min(t,10),.01)})},e.addInstances=function(t,n){return e._instancesAdder.addInstances(t,n)},e._onMouseMove=function(t,n){e.lastCursorX=t,e.lastCursorY=n},e._onBackgroundClicked=function(t,n){e.lastCursorX=t,e.lastCursorY=n,e.pixiRenderer.view.focus(),e.keyboardShortcuts.shouldMoveView()||e.selectionRectangle.startSelectionRectangle(t,n),e.keyboardShortcuts.shouldMultiSelect()||e.keyboardShortcuts.shouldMoveView()||(e.props.instancesSelection.clearSelection(),e.props.onInstancesSelected([]))},e._onPanMove=function(t,n,a,r){if(e.keyboardShortcuts.shouldMoveView()){var o=t/e.getZoomFactor(),i=n/e.getZoomFactor();e.viewPosition.scrollBy(-o,-i),e.props.onViewPositionChanged&&e.props.onViewPositionChanged(e.viewPosition)}else e.selectionRectangle.updateSelectionRectangle(a,r)},e._getLayersVisibility=function(){for(var t=e.props.layout,n={},a=0;a<t.getLayersCount();a++)n[t.getLayerAt(a).getName()]=t.getLayerAt(a).getVisibility();return n},e._onPanEnd=function(){if(e.selectionRectangle.hasStartedSelectionRectangle()){var t=e.selectionRectangle.endSelectionRectangle();e.props.instancesSelection.selectInstances(t,e.keyboardShortcuts.shouldMultiSelect(),e._getLayersVisibility()),t=e.props.instancesSelection.getSelectedInstances(),e.props.onInstancesSelected(t)}},e._onInstanceClicked=function(t){e.pixiRenderer.view.focus()},e._onInstanceDoubleClicked=function(t){e.props.onInstanceDoubleClicked(t)},e._onOverInstance=function(t){e.highlightedInstance.setInstance(t)},e._onDownInstance=function(t){if(!e.keyboardShortcuts.shouldMoveView())if(e.keyboardShortcuts.shouldCloneInstances())for(var n=e.props.instancesSelection.getSelectedInstances(),a=0;a<n.length;a++){var r=n[a];e.props.initialInstances.insertInitialInstance(r).resetPersistentUuid()}else e.props.instancesSelection.selectInstance(t,e.keyboardShortcuts.shouldMultiSelect(),e._getLayersVisibility()),e.props.onInstancesSelected&&e.props.onInstancesSelected(e.props.instancesSelection.getSelectedInstances())},e._onOutInstance=function(t){t===e.highlightedInstance.getInstance()&&e.highlightedInstance.setInstance(null)},e._onMoveInstance=function(t,n,a){var r=n/e.getZoomFactor(),o=a/e.getZoomFactor();if(e.keyboardShortcuts.shouldMoveView())return e.viewPosition.scrollBy(-r,-o),void(e.props.onViewPositionChanged&&e.props.onViewPositionChanged(e.viewPosition));e.props.instancesSelection.isInstanceSelected(t)||e._onInstanceClicked(t);var i=e.props.instancesSelection.getSelectedInstances();e.instancesMover.moveBy(i,r,o,e.keyboardShortcuts.shouldFollowAxis(),e.keyboardShortcuts.shouldNotSnapToGrid())},e._onMoveInstanceEnd=function(){e.instancesMover.endMove();var t=e.props.instancesSelection.getSelectedInstances();e.props.onInstancesMoved(t)},e._onResize=function(t,n){var a=null!==t?t/e.getZoomFactor():0,r=null!==n?n/e.getZoomFactor():0,o=e.props.instancesSelection.getSelectedInstances(),i="touch"===e.props.screenType&&null!==t&&null!==n||e.keyboardShortcuts.shouldResizeProportionally();e.instancesResizer.resizeBy(o,a,r,i)},e._onResizeEnd=function(){e.instancesResizer.endResize();var t=e.props.instancesSelection.getSelectedInstances();e.props.onInstancesResized(t)},e._onRotate=function(t,n){var a=t/e.getZoomFactor(),r=n/e.getZoomFactor(),o=e.props.instancesSelection.getSelectedInstances();e.instancesRotator.rotateBy(o,a,r,e.keyboardShortcuts.shouldResizeProportionally())},e._onRotateEnd=function(){e.instancesRotator.endRotate();var t=e.props.instancesSelection.getSelectedInstances();e.props.onInstancesRotated(t)},e.clearHighlightedInstance=function(){e.highlightedInstance.setInstance(null)},e.moveSelection=function(t,n){var a=e.props.instancesSelection.getSelectedInstances();a.forEach((function(e){e.setX(e.getX()+t),e.setY(e.getY()+n)})),e.props.onInstancesMoved(a)},e.getLastContextMenuSceneCoordinates=function(){return e.viewPosition.toSceneCoordinates(e.lastContextMenuX,e.lastContextMenuY)},e.getLastCursorSceneCoordinates=function(){return e.viewPosition.toSceneCoordinates(e.lastCursorX,e.lastCursorY)},e.getViewPosition=function(){return e.viewPosition},e._renderScene=function(){e._unmounted||e._renderingPaused||(e.fpsLimiter.shouldUpdate()&&(e.backgroundColor.render(),e.viewPosition.render(),e.canvasCursor.render(),e.grid.render(),e.instancesRenderer.render(),e.highlightedInstance.render(),e.selectedInstances.render(),e.selectionRectangle.render(),e.windowBorder.render(),e.windowMask.render(),e.statusBar.render(),e.pixiRenderer.render(e.pixiContainer)),e.nextFrame=requestAnimationFrame(e._renderScene))},e.pauseSceneRendering=function(){e.nextFrame&&cancelAnimationFrame(e.nextFrame),e._renderingPaused=!0,I()},e.restartSceneRendering=function(){e._renderingPaused=!1,e._renderScene(),R()},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.canvasArea&&!this.pixiRenderer&&this._initializeCanvasAndRenderer()}},{key:"componentDidUpdate",value:function(){this.canvasArea&&!this.pixiRenderer&&this._initializeCanvasAndRenderer()}},{key:"_initializeCanvasAndRenderer",value:function(){var e=this,t=this.canvasArea;if(t){var n=this.props.project;this.pixiRenderer=f.autoDetectRenderer({width:this.props.width,height:this.props.height,preserveDrawingBuffer:!0,antialias:!1}),t.appendChild(this.pixiRenderer.view),this.longTouchHandler=new V({canvas:this.pixiRenderer.view,onLongTouch:function(t){return e.props.onContextMenu(t.clientX,t.clientY)}}),this.pixiRenderer.view.addEventListener("contextmenu",(function(t){return t.preventDefault(),e.lastContextMenuX=t.offsetX,e.lastContextMenuY=t.offsetY,e.props.onContextMenu&&e.props.onContextMenu(t.clientX,t.clientY),!1})),this.pixiRenderer.view.onmousewheel=function(t){e.keyboardShortcuts.shouldZoom()?e.zoomBy(t.wheelDelta/5e3):e.keyboardShortcuts.shouldScrollHorizontally()?e.viewPosition.scrollBy(-t.wheelDelta/10,0):e.viewPosition.scrollBy(t.deltaX/10,t.deltaY/10),e.props.onViewPositionChanged&&e.props.onViewPositionChanged(e.viewPosition),t.preventDefault()},this.pixiRenderer.view.setAttribute("tabIndex",-1),this.pixiRenderer.view.addEventListener("focus",(function(t){e.keyboardShortcuts.focus()})),this.pixiRenderer.view.addEventListener("blur",(function(t){e.keyboardShortcuts.blur()})),this.pixiRenderer.view.addEventListener("mouseover",(function(t){e.keyboardShortcuts.focus()})),this.pixiRenderer.view.addEventListener("mouseout",(function(t){e.keyboardShortcuts.blur()})),this.pixiContainer=new f.Container,this.backgroundArea=new f.Container,this.backgroundArea.hitArea=new f.Rectangle(0,0,this.props.width,this.props.height),u.a.panable(this.backgroundArea),this.backgroundArea.on("mousedown",(function(t){return e._onBackgroundClicked(t.data.global.x,t.data.global.y)})),this.backgroundArea.on("touchstart",(function(t){Object(U.b)(t.data&&t.data.originalEvent)||e._onBackgroundClicked(t.data.global.x,t.data.global.y)})),this.backgroundArea.on("mousemove",(function(t){return e._onMouseMove(t.data.global.x,t.data.global.y)})),this.backgroundArea.on("panmove",(function(t){return e._onPanMove(t.deltaX,t.deltaY,t.data.global.x,t.data.global.y)})),this.backgroundArea.on("panend",(function(t){return e._onPanEnd()})),this.pixiContainer.addChild(this.backgroundArea),this.viewPosition=new g.a({initialViewX:n?n.getGameResolutionWidth()/2:0,initialViewY:n?n.getGameResolutionHeight()/2:0,width:this.props.width,height:this.props.height,options:this.props.options}),this.pixiContainer.addChild(this.viewPosition.getPixiContainer()),this.grid=new k({viewPosition:this.viewPosition,options:this.props.options}),this.pixiContainer.addChild(this.grid.getPixiObject()),this.keyboardShortcuts=new m({onDelete:this.props.onDeleteSelection,onMove:this.moveSelection,onCopy:this.props.onCopy,onCut:this.props.onCut,onPaste:this.props.onPaste,onUndo:this.props.onUndo,onRedo:this.props.onRedo,onZoomOut:this.props.onZoomOut,onZoomIn:this.props.onZoomIn}),this.pinchHandler=new U.a({canvas:this.pixiRenderer.view,setZoomFactor:this.setZoomFactor,getZoomFactor:this.getZoomFactor,viewPosition:this.viewPosition}),this.canvasCursor=new F({canvas:t,shouldMoveView:function(){return e.keyboardShortcuts.shouldMoveView()}}),this._instancesAdder=new A.a({instances:this.props.initialInstances,options:this.props.options}),this._mountEditorComponents(this.props),this._renderScene()}}},{key:"forceRemount",value:function(){this._mountEditorComponents(this.props)}},{key:"_mountEditorComponents",value:function(e){this.highlightedInstance&&this.pixiContainer.removeChild(this.highlightedInstance.getPixiObject()),this.selectedInstances&&this.pixiContainer.removeChild(this.selectedInstances.getPixiContainer()),this.instancesRenderer&&(this.viewPosition.getPixiContainer().removeChild(this.instancesRenderer.getPixiContainer()),this.instancesRenderer.delete()),this.selectionRectangle&&(this.pixiContainer.removeChild(this.selectionRectangle.getPixiObject()),this.selectionRectangle.delete()),this.windowBorder&&this.pixiContainer.removeChild(this.windowBorder.getPixiObject()),this.windowMask&&this.pixiContainer.removeChild(this.windowMask.getPixiObject()),this.statusBar&&this.pixiContainer.removeChild(this.statusBar.getPixiObject()),this.backgroundColor=new _({layout:e.layout,pixiRenderer:this.pixiRenderer}),this.instancesRenderer=new h({project:e.project,layout:e.layout,instances:e.initialInstances,viewPosition:this.viewPosition,onOverInstance:this._onOverInstance,onMoveInstance:this._onMoveInstance,onMoveInstanceEnd:this._onMoveInstanceEnd,onDownInstance:this._onDownInstance,onOutInstance:this._onOutInstance,onInstanceClicked:this._onInstanceClicked,onInstanceDoubleClicked:this._onInstanceDoubleClicked}),this.selectionRectangle=new y.a({instances:e.initialInstances,instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toSceneCoordinates:this.viewPosition.toSceneCoordinates}),this.selectedInstances=new v({instancesSelection:this.props.instancesSelection,onResize:this._onResize,onResizeEnd:this._onResizeEnd,onRotate:this._onRotate,onRotateEnd:this._onRotateEnd,instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toCanvasCoordinates:this.viewPosition.toCanvasCoordinates,screenType:this.props.screenType}),this.highlightedInstance=new E({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toCanvasCoordinates:this.viewPosition.toCanvasCoordinates}),this.instancesResizer=new j({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),options:this.props.options}),this.instancesRotator=new O,this.instancesMover=new x({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),options:this.props.options}),this.windowBorder=new w({project:e.project,layout:e.layout,toCanvasCoordinates:this.viewPosition.toCanvasCoordinates}),this.windowMask=new N({project:e.project,viewPosition:this.viewPosition,options:this.props.options}),this.statusBar=new M({width:this.props.width,height:this.props.height,getLastCursorSceneCoordinates:this.getLastCursorSceneCoordinates}),this.pixiContainer.addChild(this.selectionRectangle.getPixiObject()),this.viewPosition.getPixiContainer().addChild(this.instancesRenderer.getPixiContainer()),this.pixiContainer.addChild(this.windowBorder.getPixiObject()),this.pixiContainer.addChild(this.windowMask.getPixiObject()),this.pixiContainer.addChild(this.selectedInstances.getPixiContainer()),this.pixiContainer.addChild(this.highlightedInstance.getPixiObject()),this.pixiContainer.addChild(this.statusBar.getPixiObject())}},{key:"componentWillUnmount",value:function(){this._unmounted=!0,this.keyboardShortcuts.unmount(),this.selectionRectangle.delete(),this.instancesRenderer.delete(),this._instancesAdder.unmount(),this.pinchHandler.unmount(),this.longTouchHandler.unmount(),this.nextFrame&&cancelAnimationFrame(this.nextFrame),I()}},{key:"componentWillReceiveProps",value:function(e){e.width===this.props.width&&e.height===this.props.height||(this.pixiRenderer.resize(e.width,e.height),this.viewPosition.resize(e.width,e.height),this.statusBar.resize(e.width,e.height),this.backgroundArea.hitArea=new f.Rectangle(0,0,e.width,e.height),this.fpsLimiter.forceNextUpdate(),this._renderScene()),e.options!==this.props.options&&(this.grid.setOptions(e.options),this.instancesMover.setOptions(e.options),this.instancesResizer.setOptions(e.options),this.windowMask.setOptions(e.options),this.viewPosition.setOptions(e.options),this._instancesAdder.setOptions(e.options)),e.screenType!==this.props.screenType&&this.selectedInstances.setScreenType(this.props.screenType),this.props.layout===e.layout&&this.props.initialInstances===e.initialInstances&&this.props.project===e.project||this._mountEditorComponents(e),e.pauseRendering&&!this.props.pauseRendering&&this.pauseSceneRendering(),!e.pauseRendering&&this.props.pauseRendering&&this.restartSceneRendering()}},{key:"resetRenderersFor",value:function(e){this.instancesRenderer&&this.instancesRenderer.resetRenderersFor(e)}},{key:"zoomBy",value:function(e){this.setZoomFactor(this.getZoomFactor()+e)}},{key:"scrollTo",value:function(e,t){this.viewPosition.scrollTo(e,t)}},{key:"centerView",value:function(){var e=this.props.project.getGameResolutionWidth()/2,t=this.props.project.getGameResolutionHeight()/2;this.viewPosition.scrollTo(e,t)}},{key:"centerViewOn",value:function(e){e.length&&(this.viewPosition.scrollToInstance(e[e.length-1]),this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition))}},{key:"render",value:function(){var e=this;return this.props.project?c.a.createElement(G,{canDrop:function(){return!0},hover:function(t){var n=e._instancesAdder,a=e.viewPosition,r=e.canvasArea;if(n&&r&&a){var o=t.getClientOffset(),i=o.x,s=o.y,c=r.getBoundingClientRect(),l=a.toSceneCoordinates(i-c.left,s-c.top);n.createOrUpdateTemporaryInstancesFromObjectNames(l,e.props.selectedObjectNames)}},drop:function(t){var n=e._instancesAdder,a=e.viewPosition,r=e.canvasArea;if(n&&r&&a)if(t.didDrop())n.deleteTemporaryInstances();else{var o=t.getClientOffset(),i=o.x,s=o.y,c=r.getBoundingClientRect(),l=a.toSceneCoordinates(i-c.left,s-c.top),u=n.updateTemporaryInstancePositions(l);n.commitTemporaryInstances(),e.props.onInstancesAdded(u)}}},(function(t){var n=t.connectDropTarget,a=t.isOver;return e._instancesAdder&&!a&&e._instancesAdder.deleteTemporaryInstances(),n(c.a.createElement("div",{ref:function(t){return e.canvasArea=t},style:W.canvasArea}))})):null}}]),n}(s.Component)},904:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n(83),u=n(292),d=n(253),m=n(299),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onPlay,n=e.onPause,a=e.canPlay,r=e.canPause,o=e.onOpenProfiler,i=e.canOpenProfiler;return c.createElement(u.b,{lastChild:!0},c.createElement(d.a,{onClick:t,src:"res/ribbon_default/preview64.png",disabled:!a,tooltip:{id:"Play the game"}}),c.createElement(d.a,{onClick:n,src:"res/ribbon_default/pause64.png",disabled:!r,tooltip:{id:"Pause the game"}}),c.createElement(m.a,null),c.createElement(d.a,{onClick:o,src:"res/ribbon_default/profiler32.png",disabled:!i,tooltip:{id:"Open the performance profiler"}}))}}]),n}(c.PureComponent),f=n(403),h=n(123),g=n(510),b=n.n(g),v=n(89),E=n(79),y=n(102),j={container:{flex:1,display:"flex"},list:{overflowY:"scroll",flex:1}},O=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"_renderInspectorList",value:function(e,t,n){var a=this;return t(e).map((function(t){if(!t)return null;var r=n.concat(t.key),o=t.getSubInspectors;return c.createElement(y.b,{key:r.join("."),primaryText:t.label,initiallyOpen:!!t.initiallyOpen,onClick:function(){return a.props.onChooseInspector(t,r)},renderNestedItems:o?function(){return a._renderInspectorList(b()(e,t.key,null),o,r)}:void 0})}))}},{key:"render",value:function(){return this.props.gameData?c.createElement(y.a,{style:j.list},this._renderInspectorList(this.props.gameData,this.props.getInspectorDescriptions,[])):null}}]),n}(c.Component),C=n(416),x=n.n(C),T=n(826),S=n.n(T),k=function e(t){return t?t._isStructure?t._children?S()(t._children,e):null:t._stringDirty?t._value:t._str:null},w=function(e){return c.createElement(x.a,{collapsed:!1,name:!1,src:e.variablesContainer?(t=e.variablesContainer,t&&t._variables&&t._variables.items?S()(t._variables.items,k):null):null,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:function(t){return function(e,t){var n=t.onCall,a=(t.onEdit,["_variables","items"]);return e.namespace.forEach((function(e){a.push(e),a.push("_children")})),a.push(e.name),parseFloat(e.new_value).toString()===e.new_value?(a.push("setNumber"),n(a,[parseFloat(e.new_value)])):(a.push("setString"),n(a,[""+e.new_value])),!0}(t,e)},groupArraysAfterLength:50,theme:"monokai"});var t},N=n(85),_=function(e){return c.createElement(c.Fragment,null,c.createElement(N.a,null,c.createElement(s.Trans,{id:"General:"})),c.createElement(x.a,{collapsed:!1,name:!1,src:(t=e.runtimeObject,t?{"X position":t.x,"Y position":t.y,Angle:t.angle,Layer:t.layer,"Z order":t.zOrder,"Is hidden?":t.hidden}:null),enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:function(t){return function(e,t){var n=t.onCall;t.onEdit;if("X position"===e.name)n(["setX"],[parseFloat(e.new_value)]);else if("Y position"===e.name)n(["setY"],[parseFloat(e.new_value)]);else if("Angle"===e.name)n(["setAngle"],[parseFloat(e.new_value)]);else if("Layer"===e.name)n(["setLayer"],[e.new_value]);else if("Z order"===e.name)n(["setZOrder"],[parseFloat(e.new_value)]);else{if("Is hidden?"!==e.name)return!1;n(["hide"],[!!e.new_value])}return!0}(t,e)},groupArraysAfterLength:50,theme:"monokai"}),c.createElement(N.a,null,c.createElement(s.Trans,{id:"Instance variables:"})),c.createElement(w,{variablesContainer:e.runtimeObject?e.runtimeObject._variables:null,onEdit:function(t,n){return e.onEdit(["_variables"].concat(t),n)},onCall:function(t,n){return e.onCall(["_variables"].concat(t),n)}}));var t},P=n(96),I=n(180),R=function(e){return e?{"Camera rotation (in deg)":e._cameraRotation,"Camera zoom":e._zoomFactor,"Layer is hidden":!!e._hidden,"Camera X position":e._cameraX,"Camera Y position":e._cameraY,"Time scale":e._timeScale}:null},B=function(e){return e?{"Time scale":e._timeManager?e._timeManager._timeScale:null,Layers:e._layers&&e._layers.items?S()(e._layers.items,R):null}:null},M=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={newObjectName:""},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.runtimeScene,a=t.onCall;return n?c.createElement(c.Fragment,null,c.createElement(N.a,null,c.createElement(s.Trans,{id:"Layers:"})),c.createElement(x.a,{collapsed:!1,name:!1,src:B(n),enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:function(t){return function(e,t){var n=t.onCall;t.onEdit;if(0===e.namespace.length&&"Time scale"===e.name)n(["_timeManager","setTimeScale"],[parseFloat(e.new_value)]);else{if(!(e.namespace.length>=2))return!1;"Layers"===e.namespace[0]&&("Camera rotation (in deg)"===e.name?n(["_layers","items",e.namespace[1],"setCameraRotation"],[parseFloat(e.new_value)]):"Camera zoom"===e.name?n(["_layers","items",e.namespace[1],"setCameraZoom"],[parseFloat(e.new_value)]):"Layer is hidden"===e.name?n(["_layers","items",e.namespace[1],"show"],[!e.new_value]):"Camera X position"===e.name?n(["_layers","items",e.namespace[1],"setCameraX"],[parseFloat(e.new_value)]):"Camera Y position"===e.name?n(["_layers","items",e.namespace[1],"setCameraY"],[parseFloat(e.new_value)]):"Time scale"===e.name&&n(["_layers","items",e.namespace[1],"setTimeScale"],[parseFloat(e.new_value)]))}return!0}(t,e.props)},groupArraysAfterLength:50,theme:"monokai"}),c.createElement(N.a,null,c.createElement(s.Trans,{id:"Create a new instance on the scene (will be at position 0;0):"})),n._objects&&n._objects.items&&c.createElement(P.c,{noFloatingLabelText:!0,renderTextField:function(){return c.createElement(I.a,{hintText:{id:"Enter the name of the object"},value:e.state.newObjectName,onChange:function(t){e.setState({newObjectName:t})},dataSource:Object.keys(n._objects.items).map((function(e){return{text:e,value:e}})),openOnFocus:!0,fullWidth:!0})},renderButton:function(t){return c.createElement(v.a,{style:t,label:c.createElement(s.Trans,{id:"Create"}),primary:!0,onClick:function(){a(["createObject"],[e.state.newObjectName])}})}})):null}}]),n}(c.Component),F=function(e){return[{label:"Global variables",key:"_variables",renderInspector:function(e,t){var n=t.onCall,a=t.onEdit;return c.createElement(w,{variablesContainer:e,onCall:n,onEdit:a})}},{label:"Scenes",key:["_sceneStack","_stack"],renderInspector:function(){return null},initiallyOpen:!0,getSubInspectors:function(e){return e?e.map((function(e,t){return{label:e._name,key:t,renderInspector:function(e,t){var n=t.onCall,a=t.onEdit;return c.createElement(M,{runtimeScene:e,onCall:n,onEdit:a})},initiallyOpen:!0,getSubInspectors:function(e){return[{label:"Scene variables",key:"_variables",renderInspector:function(e,t){var n=t.onCall,a=t.onEdit;return c.createElement(w,{variablesContainer:e,onCall:n,onEdit:a})}},{label:"Instances",key:"_instances",renderInspector:function(){return null},initiallyOpen:!0,getSubInspectors:function(e){return e&&e.items?Object.keys(e.items).map((function(t){return e.items[t]&&void 0!==typeof e.items[t].length?{label:"".concat(t," (").concat(e.items[t].length,")"),key:["items",t],renderInspector:function(){return null},getSubInspectors:function(e){return e?e.filter((function(e){return!!e})).map((function(e,t){return{label:"#".concat(e.id),key:t,renderInspector:function(e,t){var n=t.onCall,a=t.onEdit;return c.createElement(_,{runtimeObject:e,onCall:n,onEdit:a})}}})):[]}}:null})):[]}}]}}})):[]}}]},A=n(97),L=function(e){var t=e.gameData,n=e.onEdit;return c.createElement(c.Fragment,null,c.createElement(A.a,null,c.createElement(s.Trans,{id:"You are in raw mode. You can edit the fields, but be aware that this can lead to unexpected results or even crash the debugged game!"})),c.createElement(x.a,{collapsed:1,name:!1,src:t,onEdit:function(e){return n(e.namespace.concat(e.name),e.new_value)},groupArraysAfterLength:50,theme:"monokai"}))},D=n(159),U=n(1800),V=n.n(U),W=n(1801),G=n.n(W),z=n(110),H=n(100),K=n(207),Y=n(104),X=n(1797),J=n.n(X),q=n(103),Z=n(355),Q=n.n(Z),$=n(401),ee=n.n($),te={indent:{display:"flex",alignItems:"center"}},ne=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={collapsedPaths:{}},e._convertToDataRows=function(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=e.props.profilerMeasures,s=n&&a.time&&0!==n.time?a.time/n.time*100:100,c=i&&a.time&&0!==i.time?a.time/i.time*100:100,l=e._isSectionCollapsed(o);return[{name:t,time:a.time?"".concat(a.time.toFixed(2),"ms"):"?",parentPercent:"".concat(s.toFixed(2),"%"),totalPercent:"".concat(c.toFixed(2),"%"),depth:r,hasSubsections:!!Object.keys(a.subsections).length,path:o,isCollapsed:l}].concat(Object(H.a)(l?[]:J()(a.subsections,(function(t,n){return e._convertToDataRows(n,a,t,r+1,"".concat(o,">").concat(r,".").concat(n))}))))},e._isSectionCollapsed=function(t){return e.state.collapsedPaths[t]},e._toggleSection=function(t){e.setState((function(e){return{collapsedPaths:Object(l.a)(Object(l.a)({},e.collapsedPaths),{},{[t]:!e.collapsedPaths[t]})}}))},e._rowClassName=function(e){var t=e.index;return t<0?"tableHeaderRow":t%2===0?"tableEvenRow":"tableOddRow"},e._renderSectionNameCell=function(t){var n=t.rowData;return c.createElement("div",{style:te.indent},c.createElement("div",{style:{width:8*n.depth}}),n.hasSubsections?c.createElement(q.a,{onClick:function(){return e._toggleSection(n.path)}},n.isCollapsed?c.createElement(ee.a,null):c.createElement(Q.a,null)):c.createElement("div",{style:{width:24}}),n.name)},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props.profilerMeasures;if(!t)return null;var n=this._convertToDataRows("All",null,t);return c.createElement(Y.a,null,(function(t){return c.createElement(K.a,null,(function(a){var r=a.height,o=a.width;return c.createElement(K.e,{headerHeight:30,height:r,className:t.tableRootClassName,headerClassName:"tableHeaderColumn",rowCount:n.length,rowGetter:function(e){var t=e.index;return n[t]},rowHeight:35,onRowClick:function(){},rowClassName:e._rowClassName,width:o},c.createElement(K.b,{label:c.createElement(s.Trans,{id:"Section name"}),dataKey:"name",width:.4*o,className:"tableColumn",cellRenderer:e._renderSectionNameCell}),c.createElement(K.b,{label:c.createElement(s.Trans,{id:"Time (ms)"}),dataKey:"time",width:.2*o,className:"tableColumn"}),c.createElement(K.b,{label:c.createElement(s.Trans,{id:"% of parent"}),dataKey:"parentPercent",width:.2*o,className:"tableColumn"}),c.createElement(K.b,{label:c.createElement(s.Trans,{id:"% of total"}),dataKey:"totalPercent",width:.2*o,className:"tableColumn"}))}))}))}}]),n}(c.Component),ae=n(2394),re={tableContainer:{flex:1}},oe=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onStart,n=e.onStop,a=e.profilerOutput,r=e.profilingInProgress;return c.createElement(h.a,null,c.createElement(E.b,{alignItems:"center",justifyContent:"center"},!r&&a&&c.createElement(N.a,null,c.createElement(s.Trans,{id:"Last run collected on {0} frames.",values:{0:a.stats.framesCount}})),!r&&a&&c.createElement(v.a,{label:c.createElement(s.Trans,{id:"Restart"}),onClick:t}),!r&&!a&&c.createElement(v.a,{label:c.createElement(s.Trans,{id:"Start profiling"}),onClick:t}),r&&c.createElement(v.a,{label:c.createElement(s.Trans,{id:"Stop profiling"}),onClick:n})),r&&c.createElement(E.b,{alignItems:"center"},c.createElement(ae.a,{style:{flex:1},variant:"indeterminate"})),c.createElement("div",{style:re.tableContainer},a&&c.createElement(ne,{profilerMeasures:a.framesAverageMeasures}),!a&&c.createElement(A.a,null,c.createElement(s.Trans,{id:"Start profiling and then stop it after a few seconds to see the results."}))))}}]),n}(c.Component),ie=n(113),se=n(188),ce=n(204),le={direction:"column",first:{direction:"row",first:"inspectors",second:"selected-inspector",splitPercentage:25},second:"profiler",splitPercentage:65},ue=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={selectedInspector:null,selectedInspectorFullPath:[],rawMode:!1},e._editors=null,e.openProfiler=function(){e._editors&&e._editors.openEditor("profiler","end",75,"row")},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.gameData,a=t.onRefresh,r=t.onCall,o=t.onEdit,i=t.onStartProfiler,l=t.onStopProfiler,u=t.profilerOutput,d=t.profilingInProgress,m=this.state,p=m.selectedInspector,g=m.selectedInspectorFullPath,y=m.rawMode,j={inspectors:{type:"primary",title:{id:"Inspectors"},toolbarControls:[],renderEditor:function(){return c.createElement(h.a,null,c.createElement(E.a,{expand:!0,noMargin:!0,useFullHeight:!0},c.createElement(E.b,{justifyContent:"center"},c.createElement(v.a,{label:c.createElement(s.Trans,{id:"Refresh"}),onClick:a,primary:!0})),c.createElement(O,{gameData:n,getInspectorDescriptions:F,onChooseInspector:function(t,n){return e.setState({selectedInspector:t,selectedInspectorFullPath:n})}})))}},"selected-inspector":{type:"primary",noTitleBar:!0,renderEditor:function(){return c.createElement(h.a,null,c.createElement(ce.a,null,c.createElement(E.a,null,p?y?c.createElement(L,{gameData:b()(n,g,null),onEdit:function(e,t){return o(g.concat(e),t)}}):p.renderInspector(b()(n,g,null),{onCall:function(e,t){return r(g.concat(e),t)},onEdit:function(e,t){return o(g.concat(e),t)}})||c.createElement(A.a,null,c.createElement(s.Trans,{id:"No inspector, choose another element in the list or toggle the raw data view."})):c.createElement(A.a,null,n?c.createElement(s.Trans,{id:"Choose an element to inspect in the list"}):c.createElement(s.Trans,{id:"Pause the game (from the toolbar) or hit refresh (on the left) to inspect the game"})))),c.createElement(se.b,null,c.createElement(E.b,{justifyContent:"space-between",alignItems:"center",noMargin:!0},c.createElement(z.a,{helpPagePath:"/interface/debugger"}),c.createElement("div",null,c.createElement(D.a,{checkedIcon:c.createElement(V.a,null),uncheckedIcon:c.createElement(G.a,null),checked:y,onCheck:function(t,n){return e.setState({rawMode:n})}})))))}},profiler:{type:"secondary",title:{id:"Profiler"},renderEditor:function(){return c.createElement(oe,{onStart:i,onStop:l,profilerOutput:u,profilingInProgress:d})}}};return c.createElement(ie.b.Consumer,null,(function(t){var n=t.getDefaultEditorMosaicNode,a=t.setDefaultEditorMosaicNode;return c.createElement(f.a,{ref:function(t){return e._editors=t},editors:j,initialNodes:n("debugger")||le,onPersistNodes:function(e){return a("debugger",e)}})}))}}]),n}(c.Component),de=n(117),me=n(118),pe=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=!!this.props.debuggerIds.length;return c.createElement(de.a,{fullWidth:!0,value:t?this.props.selectedId:0,onChange:function(t,n,a){return e.props.onChooseDebugger(parseInt(a,10)||0)},disabled:!t},this.props.debuggerIds.map((function(e){return c.createElement(me.a,{value:e,key:e,primaryText:{id:"Game preview #{id}",values:{id:e}}})})),!t&&c.createElement(me.a,{value:0,primaryText:{id:"No preview running. Run a preview and you will be able to inspect it with the debugger"}}))}}]),n}(c.Component),fe=n(128),he=n(275),ge=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={debuggerServerState:e.props.previewDebuggerServer.getServerState(),debuggerServerError:null,debuggerIds:e.props.previewDebuggerServer.getExistingDebuggerIds(),unregisterDebuggerServerCallbacks:null,debuggerGameData:{},profilerOutputs:{},profilingInProgress:{},selectedId:0},e._debuggerContents={},e._startServer=function(){var t=e.props.previewDebuggerServer,n=e.state.unregisterDebuggerServerCallbacks;if(!n||"started"!==t.getServerState()){n&&n();var a=t.registerCallbacks({onErrorReceived:function(t){e.setState({debuggerServerError:t},(function(){return e.updateToolbar()}))},onConnectionClosed:function(t){var n=t.id,a=t.debuggerIds;e.setState((function(e){var t=e.selectedId;return{debuggerIds:a,selectedId:t!==n?t:a.length?a[a.length-1]:t}}),(function(){return e.updateToolbar()}))},onConnectionOpened:function(t){var n=t.id,a=t.debuggerIds;e.setState({debuggerIds:a,selectedId:n},(function(){return e.updateToolbar()}))},onServerStateChanged:function(){e.setState({debuggerServerState:t.getServerState()},(function(){return e.updateToolbar()}))},onHandleParsedMessage:function(t){var n=t.id,a=t.parsedMessage;e._handleMessage(n,a)}});t.startServer(),e.setState({unregisterDebuggerServerCallbacks:a})}},e._handleMessage=function(t,n){"dump"===n.command?e.setState({debuggerGameData:Object(l.a)(Object(l.a)({},e.state.debuggerGameData),{},{[t]:n.payload})}):"profiler.output"===n.command?e.setState({profilerOutputs:Object(l.a)(Object(l.a)({},e.state.profilerOutputs),{},{[t]:n.payload})}):"profiler.started"===n.command?e.setState((function(e){return{profilingInProgress:Object(l.a)(Object(l.a)({},e.profilingInProgress),{},{[t]:!0})}})):"profiler.stopped"===n.command?e.setState((function(e){return{profilingInProgress:Object(l.a)(Object(l.a)({},e.profilingInProgress),{},{[t]:!1})}})):"hotReloader.logs"===n.command||console.warn("Unknown command received from debugger client:",n.command)},e._play=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"play"})},e._pause=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"pause"})},e._refresh=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"refresh"})},e._edit=function(t,n,a){return e.props.previewDebuggerServer.sendMessage(t,{command:"set",path:n,newValue:a}),setTimeout((function(){return e._refresh(t)}),100),!0},e._call=function(t,n,a){return e.props.previewDebuggerServer.sendMessage(t,{command:"call",path:n,args:a}),setTimeout((function(){return e._refresh(t)}),100),!0},e._startProfiler=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"profiler.start"})},e._stopProfiler=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"profiler.stop"})},e._hasSelectedDebugger=function(){var t=e.state,n=t.selectedId;return-1!==t.debuggerIds.indexOf(n)},e}return Object(r.a)(n,[{key:"updateToolbar",value:function(){var e=this;this.props.isActive&&this.props.setToolbar(c.createElement(p,{onPlay:function(){return e._play(e.state.selectedId)},onPause:function(){return e._pause(e.state.selectedId)},canPlay:this._hasSelectedDebugger(),canPause:this._hasSelectedDebugger(),canOpenProfiler:this._hasSelectedDebugger(),onOpenProfiler:function(){e._debuggerContents[e.state.selectedId]&&e._debuggerContents[e.state.selectedId].openProfiler()}}))}},{key:"componentDidMount",value:function(){this.props.isActive&&this._startServer()}},{key:"componentWillReceiveProps",value:function(e){e.isActive&&!this.props.isActive&&this._startServer()}},{key:"componentWillUnmount",value:function(){this.state.unregisterDebuggerServerCallbacks&&this.state.unregisterDebuggerServerCallbacks()}},{key:"render",value:function(){var e=this,t=this.state,n=t.debuggerServerError,a=t.debuggerServerState,r=t.selectedId,o=t.debuggerIds,i=t.debuggerGameData,l=t.profilerOutputs,u=t.profilingInProgress;return c.createElement(h.a,null,"stopped"===a&&!n&&c.createElement(he.a,null,c.createElement(fe.a,null),c.createElement(N.a,null,c.createElement(s.Trans,{id:"Debugger is starting..."}))),"stopped"===a&&n&&c.createElement(he.a,null,c.createElement(N.a,null,c.createElement(s.Trans,{id:"Unable to start the debugger server! Make sure that you are authorized to run servers on this computer."}))),"started"===a&&c.createElement(E.a,{expand:!0,noMargin:!0},c.createElement(pe,{selectedId:r,debuggerIds:o,onChooseDebugger:function(t){return e.setState({selectedId:t},(function(){return e.updateToolbar()}))}}),this._hasSelectedDebugger()&&c.createElement(ue,{ref:function(t){return e._debuggerContents[r]=t},gameData:i[r],onPlay:function(){return e._play(r)},onPause:function(){return e._pause(r)},onRefresh:function(){return e._refresh(r)},onEdit:function(t,n){return e._edit(r,t,n)},onCall:function(t,n){return e._call(r,t,n)},onStartProfiler:function(){return e._startProfiler(r)},onStopProfiler:function(){return e._stopProfiler(r)},profilerOutput:l[r],profilingInProgress:u[r]}),!this._hasSelectedDebugger()&&c.createElement(A.a,null,c.createElement(s.Trans,{id:"Run a preview and you will be able to inspect it with the debugger."}))))}}]),n}(c.Component),be=n(472);n.d(t,"a",(function(){return Ee}));var ve=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={subscriptionChecked:!1},e}return Object(r.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.isActive}},{key:"getProject",value:function(){return this.props.project}},{key:"getLayout",value:function(){return null}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"componentWillReceiveProps",value:function(){this._checkHasSubscription()}},{key:"componentDidMount",value:function(){this._checkHasSubscription()}},{key:"_checkHasSubscription",value:function(){this._subscriptionChecker&&this.props.isActive&&!this.state.subscriptionChecked&&(this._subscriptionChecker.checkHasSubscription(),this.setState({subscriptionChecked:!0}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.previewDebuggerServer;return n&&a?c.createElement(c.Fragment,null,c.createElement(ge,{project:n,setToolbar:this.props.setToolbar,isActive:this.props.isActive,previewDebuggerServer:a,ref:function(t){return e.editor=t}}),c.createElement(be.a,{ref:function(t){return e._subscriptionChecker=t},onChangeSubscription:function(){e.props.onChangeSubscription&&e.props.onChangeSubscription()},id:"Debugger",title:c.createElement(s.Trans,{id:"Debugger"}),mode:"try"})):null}}]),n}(c.Component),Ee=function(e){return c.createElement(ve,e)}},905:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(90),d=n(110),m=n(87),p=n(160),f=n(102),h=n(276),g=n.n(h),b=n(277),v=n.n(b),E=n(2362),y=n(79),j=n(97),O=n(128),C=n(89),x=n(2289),T=n(2394),S=n(85),k={"cordova-build":{estimatedTimeInSeconds:function(e){return 300},completeDescription:"You can download it on your Android phone and install it."},"electron-build":{estimatedTimeInSeconds:function(e){return 90+130*(e.targets?e.targets.length:0)},completeDescription:""},"web-build":{estimatedTimeInSeconds:function(e){return 5},completeDescription:""}},w=[{displayName:{id:"Download"},key:"apkKey"},{displayName:{id:"Windows (zip)"},key:"windowsZipKey"},{displayName:{id:"Windows (exe)"},key:"windowsExeKey"},{displayName:{id:"macOS (zip)"},key:"macosZipKey"},{displayName:{id:"Linux (AppImage)"},key:"linuxAppImageKey"},{displayName:{id:"Open"},key:"s3Key"}],N=function(e){var t=e.build,n=e.onDownload,a=k[t.type],r=Math.abs(Object(x.a)(t.updatedAt,Date.now())),o=Math.max(a?a.estimatedTimeInSeconds(t)-r:0,0);return c.createElement(s.I18n,null,(function(e){var r=e.i18n;return"error"===t.status?c.createElement(c.Fragment,null,c.createElement(y.b,{alignItems:"center"},c.createElement(S.a,null,c.createElement(s.Trans,{id:"Something wrong happened :("})),c.createElement(y.c,null),c.createElement(C.a,{label:c.createElement(s.Trans,{id:"See logs"}),onClick:function(){return n("logsKey")}})),c.createElement(y.b,{alignItems:"center"},c.createElement(j.a,null,c.createElement(s.Trans,{id:"Check the logs to see if there is an explanation about what went wrong, or try again later."})))):"pending"===t.status?c.createElement(y.b,{alignItems:"center",expand:!0},c.createElement(T.a,{style:{flex:1},value:a.estimatedTimeInSeconds(t)>0?(a.estimatedTimeInSeconds(t)-o)/a.estimatedTimeInSeconds(t)*100:0,variant:o>0?"determinate":"indeterminate"}),c.createElement(y.c,null),o>0?c.createElement(S.a,null,c.createElement(s.Trans,{id:"~{0} minutes.",values:{0:Math.round(o/60)}})):c.createElement(S.a,null,c.createElement(s.Trans,{id:"Should finish soon."}))):"complete"===t.status?c.createElement(c.Fragment,null,c.createElement(y.b,{expand:!0},w.filter((function(e){return!!t[e.key]})).map((function(e,t){return c.createElement(c.Fragment,{key:e.key},0!==t&&c.createElement(y.c,null),c.createElement(C.a,{label:r._(e.displayName),primary:!0,onClick:function(){return n(e.key)}}))})),c.createElement(m.a,{label:c.createElement(s.Trans,{id:"See logs"}),onClick:function(){return n("logsKey")}})),c.createElement(y.b,{expand:!0},a&&c.createElement(S.a,null,a.completeDescription))):c.createElement(y.b,null,c.createElement(s.Trans,{id:"Unknown status"}))}))},_=n(902),P=n(2290),I={buildContainer:{padding:10}},R=function(e){var t=e.builds,n=e.userProfile,a=e.onDownload;return c.createElement(y.a,{noMargin:!0,expand:!0},c.createElement(y.b,null,c.createElement(y.a,null,c.createElement(j.a,null,c.createElement(s.Trans,{id:"This is the list of builds that you've done. Note that you can download games generated during the last 7 days, after which they are removed."})))),c.createElement(y.b,null,n.authenticated?t?0===t.length?c.createElement(j.a,null,c.createElement(s.Trans,{id:"You don't have any builds on the online services for now."})):c.createElement(y.a,{noMargin:!0,expand:!0},t.map((function(e){var t=e&&Object(P.a)(Date.now(),e.updatedAt)>6;return c.createElement(E.a,{style:I.buildContainer,key:e.id},c.createElement(S.a,null,function(e){switch(e){case"cordova-build":return c.createElement(s.Trans,{id:"Android Build"});case"electron-build":return c.createElement(s.Trans,{id:"Windows/macOS/Linux Build"});case"web-build":return c.createElement(s.Trans,{id:"Web (upload online) Build"});default:return e}}(e.type)," -"," ",c.createElement(s.Trans,{id:"Last updated on"})," ",Object(_.a)(e.updatedAt,"yyyy-MM-dd HH:mm:ss")),!t&&c.createElement(N,{build:e,onDownload:function(t){return a(e,t)}}),t&&c.createElement(j.a,null,c.createElement(s.Trans,{id:"This build is old and the generated games can't be downloaded anymore."})))}))):c.createElement(O.a,null):c.createElement(j.a,null,c.createElement(s.Trans,{id:"You need to login first to see your builds."}))))},B=n(205),M=n(3),F=n(120),A=n.n(F),L=n(133),D=n(871),U=function(){function e(){var t=this;Object(a.a)(this,e),this.runningWatchers={},this.nextWatcherId=0,this._pollBuild=function(){var e=Object(L.a)(A.a.mark((function e(n,a){var r,o,i,s,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.nextWatcherId.toString(),t.nextWatcherId++,t.runningWatchers[r]=!0,o=null;case 4:if(t.userProfile){e.next=6;break}return e.abrupt("return");case 6:if(i=t.userProfile,s=i.getAuthorizationHeader,c=i.profile){e.next=9;break}return e.abrupt("return");case 9:return e.prev=9,console.info("Checking progress of build ".concat(n,"...")),e.next=13,Object(B.d)(s,c.uid,n);case 13:o=e.sent,t.onBuildUpdated&&t.onBuildUpdated(o),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.warn("Error while watching build progress:",e.t0);case 20:return e.next=22,Object(D.a)(a);case 22:if(t.runningWatchers[r]){e.next=25;break}return console.info("Stopping watch of build ".concat(n,".")),e.abrupt("return");case 25:if(o&&"pending"===o.status){e.next=4;break}case 26:console.info("Watch of build ".concat(n," finished."));case 27:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t,n){return e.apply(this,arguments)}}()}return Object(r.a)(e,[{key:"start",value:function(e){var t=this,n=e.userProfile,a=e.builds,r=e.onBuildUpdated;this.stop(),this.userProfile=n,this.onBuildUpdated=r,a.forEach((function(e){"pending"===e.status&&((!e.createdAt||e.createdAt<Date.now()-432e5)&&(!e.updatedAt||e.updatedAt<Date.now()-432e5)?console.info("Ignoring a build for polling as it's too old and still pending",e):t._pollBuild(e.id,a.length>1?5e3:1500))}))}},{key:"stop",value:function(){this.runningWatchers={}}}]),e}(),V=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={builds:null},e.buildsWatcher=new U,e._startBuildsWatcher=function(){e.state.builds&&e.buildsWatcher.start({userProfile:e.props.userProfile,builds:e.state.builds,onBuildUpdated:function(t){e.state.builds&&e.setState({builds:e.state.builds.map((function(e){return t.id===e.id?t:e}))})}})},e._refreshBuilds=function(){var t=e.props.userProfile,n=t.getAuthorizationHeader,a=t.profile;a&&Object(B.g)(n,a.uid).then((function(t){e.setState({builds:t},(function(){e._startBuildsWatcher(),e.props.onBuildsUpdated&&e.props.onBuildsUpdated()}))}),(function(){}))},e._download=function(e,t){var n=Object(B.e)(e,t);n&&M.b.openExternalURL(n)},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this._refreshBuilds()}},{key:"componentWillUnmount",value:function(){this.buildsWatcher.stop()}},{key:"render",value:function(){return l.a.createElement(R,{builds:this.state.builds,userProfile:this.props.userProfile,onDownload:this._download})}}]),n}(c.Component),W=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._onBuildsUpdated=function(){e.forceUpdate()},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.open,n=e.onClose,a=e.userProfile;return t?l.a.createElement(u.a,{title:l.a.createElement(s.Trans,{id:"All your builds"}),onRequestClose:n,actions:[l.a.createElement(m.a,{label:l.a.createElement(s.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n})],secondaryActions:[l.a.createElement(d.a,{key:"help",helpPagePath:"/publishing"})],cannotBeDismissed:!1,open:t,noMargin:!0},l.a.createElement(V,{onBuildsUpdated:this._onBuildsUpdated,userProfile:a})):null}}]),n}(c.Component),G=n(212),z=n(83),H=n(9),K=n(24),Y=n(497),X=function(e){var t=e.subscription,n=e.limit,a=e.onChangeSubscription;if(!n)return c.createElement(O.a,null);var r=t&&!!t.planId,o=t&&!t.planId;return c.createElement(y.a,{noMargin:!0},c.createElement(S.a,null,c.createElement(s.Trans,{id:"You have {0} remaining builds for today (out of {1}).",values:{0:Math.max(n.max-n.current,0),1:n.max}})),r&&n.limitReached&&c.createElement(S.a,null,c.createElement(s.Trans,{id:"Need more power? You can upgrade to a new plan to increase the limit!"})),r&&n.limitReached&&c.createElement(y.b,{justifyContent:"center",alignItems:"center"},c.createElement(C.a,{label:c.createElement(s.Trans,{id:"Upgrade my account"}),onClick:a,primary:!0})),o&&c.createElement(S.a,null,c.createElement(s.Trans,{id:"You don't have a subscription. Get one to increase the limits!"})),o&&c.createElement(y.b,{justifyContent:"center",alignItems:"center"},c.createElement(C.a,{label:c.createElement(s.Trans,{id:"Get a subscription"}),onClick:a,primary:!0})))},J=n(650),q=n(2475),Z=n(2402),Q=n(2464),$=n(2403),ee=n(2380),te=n(126),ne={stepper:{flex:1},linearProgress:{flex:1}},ae=function(e){var t=e.exportStep,n=e.onDownload,a=e.build,r=e.stepMaxProgress,o=e.stepCurrentProgress,i=e.errored,l=e.hasBuildStep,u=e.showSeeAllMyBuildsExplanation;return c.createElement(q.a,{activeStep:"export"===t||"resources-download"===t?0:"compress"===t||"upload"===t?1:"waiting-for-build"===t||"build"===t?2:"done"===t?l?2:1:-1,orientation:"vertical",style:ne.stepper},c.createElement(Z.a,null,c.createElement(Q.a,null,c.createElement(s.Trans,{id:"Game export"})),c.createElement($.a,null,i?c.createElement(te.a,{kind:"error"},c.createElement(s.Trans,{id:"Can't properly export the game."})," ",c.createElement(s.Trans,{id:"Please check your internet connection or try again later."})):"resources-download"===t?c.createElement(y.a,{expand:!0,noMargin:!0},c.createElement(S.a,null,c.createElement(s.Trans,{id:"Downloading game resources..."})),c.createElement(y.b,{expand:!0},c.createElement(T.a,{style:ne.linearProgress,value:r>0?o/r*100:0,variant:"determinate"}))):c.createElement(y.a,{expand:!0,noMargin:!0},c.createElement(S.a,null,c.createElement(s.Trans,{id:"Export in progress..."})),c.createElement(y.b,{expand:!0},c.createElement(T.a,{style:ne.linearProgress}))))),l&&c.createElement(Z.a,null,c.createElement(Q.a,null,c.createElement(s.Trans,{id:"Upload to build service"})),c.createElement($.a,null,i?c.createElement(te.a,{kind:"error"},c.createElement(s.Trans,{id:"Can't upload your game to the build service."})," ",c.createElement(s.Trans,{id:"Please check your internet connection or try again later."})):"compress"===t?c.createElement(y.b,{alignItems:"center"},c.createElement(ee.a,{size:20}),c.createElement(y.c,null),c.createElement(S.a,null,c.createElement(s.Trans,{id:"Compressing before upload..."}))):c.createElement(y.b,{alignItems:"center",expand:!0},c.createElement(T.a,{style:ne.linearProgress,value:r>0?o/r*100:0,variant:"determinate"})))),l&&c.createElement(Z.a,null,c.createElement(Q.a,null,c.createElement(s.Trans,{id:"Build and download"})),c.createElement($.a,null,i&&c.createElement(te.a,{kind:"error"},c.createElement(s.Trans,{id:"Build could not start or errored. Please check your internet connection or try again later."})),!a&&!i&&c.createElement(S.a,null,c.createElement(s.Trans,{id:"Build is starting..."})),a&&c.createElement(N,{build:a,onDownload:n}),u&&c.createElement(j.a,null,c.createElement(s.Trans,{id:"If you close this window while the build is being done, you can see its progress and download the game later by clicking on See All My Builds below."})))),!l&&c.createElement(Z.a,null,c.createElement(Q.a,null,c.createElement(s.Trans,{id:"Done"})),c.createElement($.a,null)))},re=n(496),oe=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={exportStep:"",build:null,compressionOutput:null,stepCurrentProgress:0,stepMaxProgress:0,doneFooterOpen:!1,errored:!1,exportState:e.props.exportPipeline.getInitialExportState(e.props.project)},e.buildsWatcher=new U,e._updateStepProgress=function(t,n){return e.setState({stepCurrentProgress:t,stepMaxProgress:n})},e._startBuildWatch=function(t){e.state.build&&e.buildsWatcher.start({userProfile:t,builds:[e.state.build],onBuildUpdated:function(t){return e.setState({build:t})}})},e.launchWholeExport=function(t){var n=function(e){return e},a=e.props,r=a.project,o=a.exportPipeline;if(Object(H.f)(o.name),Object(J.a)(n,Object(J.b)(n,r))){var i=function(t){return function(n){throw e.state.errored||(e.setState({errored:!0}),Object(K.a)({message:t+(n.message?"\n\nDetails of the error: ".concat(n.message):""),rawError:{exportStep:e.state.exportStep,rawError:n},errorId:"export-error"})),n}},s={project:r,updateStepProgress:e._updateStepProgress,exportState:e.state.exportState};e.setState({exportStep:"export",stepCurrentProgress:0,stepMaxProgress:0,errored:!1,build:null}),o.prepareExporter(s).then((function(e){return o.launchExport(s,e)}),i("Error while preparing the exporter.")).then((function(t){return e.setState({exportStep:"resources-download"}),o.launchResourcesDownload(s,t)}),i("Error while exporting the game.")).then((function(t){return e.setState({exportStep:"compress"}),o.launchCompression(s,t)}),i("Error while downloading the game resources. Check your internet connection and that all resources of the game are valid in the Resources editor.")).then((function(n){var a=o.launchUpload,r=o.launchOnlineBuild;return a&&r?(e.setState({exportStep:"upload"}),a(s,n).then((function(n){return e.setState({exportStep:"waiting-for-build"}),r(e.state.exportState,t,n)}),i("Error while uploading the game. Check your internet connection or try again later.")).then((function(a){return e.setState({build:a,exportStep:"build"},(function(){e._startBuildWatch(t)})),{compressionOutput:n}}),i("Error while lauching the build of the game."))):{compressionOutput:n}}),i("Error while compressing the game.")).then((function(t){var n=t.compressionOutput;e.setState({compressionOutput:n,doneFooterOpen:!0,exportStep:"done"})})).catch((function(e){console.error("An error happened during export:",e)}))}},e._downloadBuild=function(t){var n=Object(B.e)(e.state.build,t);n&&M.b.openExternalURL(n)},e._closeDoneFooter=function(){return e.setState({doneFooterOpen:!1})},e._updateExportState=function(t){e.setState((function(e){return Object(z.a)(Object(z.a)({},e),{},{exportState:t(e.exportState)})}))},e}return Object(r.a)(n,[{key:"componentWillUnmount",value:function(){this.buildsWatcher.stop()}},{key:"render",value:function(){var e=this,t=this.state,n=t.exportStep,a=t.compressionOutput,r=t.build,o=t.stepMaxProgress,i=t.stepCurrentProgress,s=t.errored,c=t.doneFooterOpen,u=t.exportState,d=this.props,m=d.project,p=d.userProfile,f=d.exportPipeline;if(!m)return null;var h=function(e){return e.limits&&f.onlineBuildType?e.limits[f.onlineBuildType]:null};return l.a.createElement(y.a,{noMargin:!0},l.a.createElement(y.b,null,f.renderHeader({project:m,exportState:u,updateExportState:this._updateExportState})),(!f.onlineBuildType||p.authenticated)&&l.a.createElement(y.b,{justifyContent:"center"},l.a.createElement(C.a,{label:f.renderLaunchButtonLabel(),primary:!0,onClick:function(){return e.launchWholeExport(p)},disabled:!function(e){if(!s&&""!==n&&"done"!==n)return!1;var t=h(e);return(!t||!t.limitReached)&&f.canLaunchBuild(u)}(p)})),!!f.onlineBuildType&&p.authenticated&&l.a.createElement(X,{subscription:p.subscription,limit:h(p),onChangeSubscription:this.props.onChangeSubscription}),!!f.onlineBuildType&&!p.authenticated&&l.a.createElement(Y.a,{onLogin:p.onLogin,onCreateAccount:p.onCreateAccount}),l.a.createElement(y.b,{expand:!0},l.a.createElement(ae,{exportStep:n,hasBuildStep:!!f.onlineBuildType,build:r,onDownload:this._downloadBuild,stepMaxProgress:o,stepCurrentProgress:i,errored:s})),c&&f.renderDoneFooter&&f.renderDoneFooter({compressionOutput:a,exportState:u,onClose:this._closeDoneFooter}),c&&l.a.createElement(y.b,null,l.a.createElement(re.a,{project:m})))}}]),n}(c.Component),ie=n(98);var se=function(){var e=c.useState("undefined"===typeof navigator||"boolean"!==typeof navigator.onLine||navigator.onLine),t=Object(ie.a)(e,2),n=t[0],a=t[1],r=function(){return a(!0)},o=function(){return a(!1)};return c.useEffect((function(){return window.addEventListener("online",r),window.addEventListener("offline",o),function(){window.removeEventListener("online",r),window.removeEventListener("offline",o)}}),[]),n},ce=function(e){return(0,e.children)(se())};n.d(t,"a",(function(){return ue}));var le={icon:{width:40,height:40},disabledItem:{opacity:.6},content:{padding:8}},ue=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={chosenExporterKey:"",showExperimental:!1,buildsDialogOpen:!1},e.chooseExporter=function(t){e.setState({chosenExporterKey:t})},e._showExperimental=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({showExperimental:t})},e._openBuildsDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({buildsDialogOpen:t})},e._renderExporterListItem=function(t,n,a){return c.createElement(f.b,{key:t.key,disabled:a||t.disabled,style:a||t.disabled?le.disabledItem:void 0,leftIcon:t.renderIcon({style:le.icon}),primaryText:t.name,secondaryText:t.description,secondaryTextLines:2,onClick:function(){return e.chooseExporter(t.key)}})},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.onClose,r=t.allExportersRequireOnline,o=t.onChangeSubscription,i=t.exporters,l=this.state,h=l.showExperimental,b=l.chosenExporterKey;if(!n)return null;var E=i.find((function(e){return e.key===b}));return c.createElement(G.a.Consumer,null,(function(t){return c.createElement(ce,null,(function(l){var j=!!r&&!l;return c.createElement(u.a,{title:c.createElement(s.Trans,{id:"Export project to a standalone game"}),onRequestClose:a,cannotBeDismissed:!1,actions:[b&&c.createElement(m.a,{label:c.createElement(s.Trans,{id:"Back"}),key:"back",primary:!1,onClick:function(){return e.chooseExporter("")}}),c.createElement(m.a,{label:c.createElement(s.Trans,{id:"Close"}),key:"close",primary:!1,onClick:a})],secondaryActions:[c.createElement(d.a,{key:"help",helpPagePath:E&&E.helpPage||"/publishing"}),c.createElement(m.a,{key:"builds",label:c.createElement(s.Trans,{id:"See all my builds"}),onClick:function(){return e._openBuildsDialog(!0)}})],open:!0,noMargin:!0},j&&c.createElement(te.a,{kind:"error"},c.createElement(s.Trans,{id:"You must be online and have a proper internet connection to export your game."})),!E&&c.createElement(c.Fragment,null,c.createElement(f.a,null,i.filter((function(e){return!e.advanced&&!e.experimental})).map((function(t,n){return e._renderExporterListItem(t,n,j)})),c.createElement(p.a,null,"Advanced"),i.filter((function(e){return e.advanced})).map((function(t,n){return e._renderExporterListItem(t,n,j)})),h&&c.createElement(p.a,null,"Experimental"),h&&i.filter((function(e){return e.experimental})).map((function(t,n){return e._renderExporterListItem(t,n,j)}))),c.createElement(y.b,{justifyContent:"center",alignItems:"center"},h?c.createElement(m.a,{key:"toggle-experimental",icon:c.createElement(v.a,null),primary:!1,onClick:function(){return e._showExperimental(!1)},label:c.createElement(s.Trans,{id:"Hide experimental exports"})}):c.createElement(m.a,{key:"toggle-experimental",icon:c.createElement(g.a,null),primary:!1,onClick:function(){return e._showExperimental(!0)},label:c.createElement(s.Trans,{id:"Show experimental exports"})}))),E&&E.exportPipeline&&c.createElement("div",{style:le.content},c.createElement(oe,{exportPipeline:E.exportPipeline,project:n,onChangeSubscription:o,userProfile:t})),c.createElement(W,{open:e.state.buildsDialogOpen,onClose:function(){return e._openBuildsDialog(!1)},userProfile:t}))}))}))}}]),n}(c.Component)},906:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(100),c=n(2),l=n.n(c),u=n(806),d=n.n(u),m=n(808),p=n.n(m),f=n(185),h=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(c.Component),g=Object(f.DragDropContext)(d()(p.a))(h),b=n(2404),v=n(2455),E=n(2470),y=n(909),j=n(83),O=n(27),C=n(424),x=(n(15),n(77)),T=n(87),S=n(89),k=n(90),w=n(79),N=n(99),_=n(2380),P={progress:{marginLeft:8,verticalAlign:"middle"}},I=function(e){var t=e.children,n=e.isLoading;return c.createElement("span",null,t,n&&c.createElement(_.a,{size:20,style:P.progress}))},R=n(265),B=n(85),M=n(198),F=n(96),A=function(e){if(e)return"auth/invalid-email"===e.code?"This email is invalid":"auth/user-disabled"===e.code?"The user was disabled":"auth/user-not-found"===e.code?"This user was not found: have you created your account?":"auth/email-already-in-use"===e.code?"This email was already used for another account":"auth/operation-not-allowed"===e.code?"Service seems to be unavailable, please try again later":void 0},L=function(e){if(e)return"auth/wrong-password"===e.code?"The password is invalid":"auth/weak-password"===e.code?"This password is too weak: please use more letters and digits":void 0},D=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={form:{email:"",password:""}},e._onCreateAccount=function(){var t=e.state.form;e.props.onCreateAccount(t)},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,a=t.createAccountInProgress,r=t.onGoToLogin,o=t.error;return l.a.createElement(k.a,{title:l.a.createElement(x.Trans,{id:"Create a new GDevelop account"}),actions:[l.a.createElement(T.a,{label:l.a.createElement(x.Trans,{id:"Back"}),disabled:a,key:"close",primary:!1,onClick:n}),l.a.createElement(R.a,{isLoading:a,key:"create-account"},l.a.createElement(S.a,{label:l.a.createElement(x.Trans,{id:"Create my account"}),primary:!0,disabled:a,onClick:this._onCreateAccount}))],secondaryActions:[l.a.createElement(T.a,{label:l.a.createElement(x.Trans,{id:"Already have an account?"}),primary:!1,key:"already-have-account",onClick:r})],onRequestClose:function(){a||n()},maxWidth:"sm",cannotBeDismissed:!0,open:!0},l.a.createElement(F.a,{noMargin:!0},l.a.createElement(M.a,null,l.a.createElement(x.Trans,{id:"By creating an account and using GDevelop, you agree to the Terms and Conditions. Having an account allows to export your game on Android, as a desktop app and unlock other services for your project!"})),l.a.createElement(N.b,{autoFocus:!0,value:this.state.form.email,floatingLabelText:l.a.createElement(x.Trans,{id:"Email"}),errorText:A(o),fullWidth:!0,onChange:function(t,n){e.setState({form:Object(j.a)(Object(j.a)({},e.state.form),{},{email:n})})}}),l.a.createElement(N.b,{value:this.state.form.password,floatingLabelText:l.a.createElement(x.Trans,{id:"Password"}),errorText:L(o),type:"password",fullWidth:!0,onChange:function(t,n){e.setState({form:Object(j.a)(Object(j.a)({},e.state.form),{},{password:n})})}})))}}]),n}(c.Component),U=n(126),V=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={form:{email:"",password:""}},e._onLogin=function(){var t=e.state.form;e.props.onLogin(t)},e._onForgotPassword=function(){var t=e.state.form;e.props.onForgotPassword(t)},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,a=t.onGoToCreateAccount,r=t.loginInProgress,o=t.error,i=t.resetPasswordDialogOpen,s=t.onCloseResetPasswordDialog,c=t.forgotPasswordInProgress,u=[l.a.createElement(T.a,{label:l.a.createElement(x.Trans,{id:"Back"}),disabled:r||c,key:"back",primary:!1,onClick:n}),l.a.createElement(R.a,{isLoading:r,key:"login"},l.a.createElement(S.a,{label:l.a.createElement(x.Trans,{id:"Login"}),primary:!0,onClick:this._onLogin,disabled:r||c}))];return l.a.createElement(k.a,{title:l.a.createElement(x.Trans,{id:"Login to your GDevelop account"}),actions:u,secondaryActions:[l.a.createElement(I,{isLoading:c,key:"forgot-password"},l.a.createElement(T.a,{label:l.a.createElement(x.Trans,{id:"I forgot my password"}),primary:!1,disabled:r||c,onClick:this._onForgotPassword}))],onRequestClose:function(){r||c||n()},maxWidth:"sm",cannotBeDismissed:!0,open:!0},l.a.createElement(F.a,{noMargin:!0},l.a.createElement(U.a,{kind:"info",renderRightButton:function(){return l.a.createElement(T.a,{label:l.a.createElement(x.Trans,{id:"Create my account"}),disabled:r||c,primary:!0,onClick:a})}},l.a.createElement(x.Trans,{id:"Don't have an account yet?"})),l.a.createElement(N.b,{autoFocus:!0,value:this.state.form.email,floatingLabelText:l.a.createElement(x.Trans,{id:"Email"}),errorText:A(o),fullWidth:!0,onChange:function(t,n){e.setState({form:Object(j.a)(Object(j.a)({},e.state.form),{},{email:n})})}}),l.a.createElement(N.b,{value:this.state.form.password,floatingLabelText:l.a.createElement(x.Trans,{id:"Password"}),errorText:L(o),type:"password",fullWidth:!0,onChange:function(t,n){e.setState({form:Object(j.a)(Object(j.a)({},e.state.form),{},{password:n})})}})),l.a.createElement(k.a,{cannotBeDismissed:!0,open:i,title:l.a.createElement(x.Trans,{id:"Reset your password"}),actions:[l.a.createElement(T.a,{label:l.a.createElement(x.Trans,{id:"Close"}),key:"close",onClick:s})]},l.a.createElement(w.a,{noMargin:!0},l.a.createElement(B.a,null,l.a.createElement(x.Trans,{id:"You should have received an email containing instructions to reset and set a new password. Once it's done, you can use your new password in GDevelop."})))))}}]),n}(c.Component),W=function(e,t,n){return e.setState({[t]:!0}),n().then((function(n){return e.setState({[t]:!1}),n})).catch((function(n){throw e.setState({[t]:!1}),n}))},G=n(24),z=n(9),H=n(212),K=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={userProfile:H.b,loginDialogOpen:!1,createAccountDialogOpen:!1,loginInProgress:!1,createAccountInProgress:!1,loginError:null,resetPasswordDialogOpen:!1,forgotPasswordInProgress:!1},e._fetchUserProfile=function(){var t=e.props.authentification;t.getUserProfile((function(n,a){if(n&&n.unauthenticated)return e.setState({userProfile:Object(j.a)(Object(j.a)({},e.state.userProfile),{},{authenticated:!1,profile:null,usages:null,limits:null,subscription:null})});!n&&a?e.setState({userProfile:Object(j.a)(Object(j.a)({},e.state.userProfile),{},{authenticated:!0,profile:a})},(function(){a&&(Object(C.g)(t.getAuthorizationHeader,a.uid).then((function(t){return e.setState({userProfile:Object(j.a)(Object(j.a)({},e.state.userProfile),{},{usages:t})})})),Object(C.f)(t.getAuthorizationHeader,a.uid).then((function(t){return e.setState({userProfile:Object(j.a)(Object(j.a)({},e.state.userProfile),{},{subscription:t})})})),Object(C.e)(t.getAuthorizationHeader,a.uid).then((function(t){return e.setState({userProfile:Object(j.a)(Object(j.a)({},e.state.userProfile),{},{limits:t})})})))})):console.log("Unable to fetch user profile",n)}))},e._doLogout=function(){e.props.authentification&&e.props.authentification.logout(),e._resetUserProfile()},e._doLogin=function(t){var n=e.props.authentification;n&&W(Object(O.a)(e),"loginInProgress",(function(){return n.login(t).then((function(){e._fetchUserProfile(),e.openLoginDialog(!1)}),(function(t){e.setState({loginError:t})}))}))},e._doCreateAccount=function(t){var n=e.props.authentification;n&&W(Object(O.a)(e),"createAccountInProgress",(function(){return n.createAccount(t).then((function(){e._fetchUserProfile(),e.openLoginDialog(!1),Object(z.m)(t.email)}),(function(t){e.setState({loginError:t})}))}))},e._doForgotPassword=function(t){var n=e.props.authentification;n&&W(Object(O.a)(e),"forgotPasswordInProgress",(function(){return n.forgotPassword(t).then((function(){e.openResetPassword(!0)}),(function(t){e.setState({loginError:t}),Object(G.c)("Unable to send you an email to reset your password. Please double-check that the email address that you've entered is valid.")}))}))},e.openResetPassword=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({resetPasswordDialogOpen:t})},e.openLoginDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({loginDialogOpen:t,createAccountDialogOpen:!1})},e.openCreateAccountDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({loginDialogOpen:!1,createAccountDialogOpen:t})},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this._resetUserProfile(),this.props.authentification.onUserChange(this._fetchUserProfile)}},{key:"_resetUserProfile",value:function(){var e=this;this.setState({userProfile:Object(j.a)(Object(j.a)({},H.b),{},{onLogout:this._doLogout,onLogin:function(){return e.openLoginDialog(!0)},onCreateAccount:function(){return e.openCreateAccountDialog(!0)},onRefreshUserProfile:this._fetchUserProfile,getAuthorizationHeader:function(){return e.props.authentification.getAuthorizationHeader()}})})}},{key:"render",value:function(){var e=this;return c.createElement(c.Fragment,null,c.createElement(H.a.Provider,{value:this.state.userProfile},this.props.children),this.state.loginDialogOpen&&c.createElement(V,{onClose:function(){return e.openLoginDialog(!1)},onGoToCreateAccount:function(){return e.openCreateAccountDialog(!0)},onLogin:this._doLogin,loginInProgress:this.state.loginInProgress,error:this.state.loginError,onForgotPassword:this._doForgotPassword,resetPasswordDialogOpen:this.state.resetPasswordDialogOpen,onCloseResetPasswordDialog:function(){return e.openResetPassword(!1)},forgotPasswordInProgress:this.state.forgotPasswordInProgress}),this.state.createAccountDialogOpen&&c.createElement(D,{onClose:function(){return e.openCreateAccountDialog(!1)},onGoToLogin:function(){return e.openLoginDialog(!0)},onCreateAccount:this._doCreateAccount,createAccountInProgress:this.state.createAccountInProgress,error:this.state.loginError}))}}]),n}(c.Component),Y=n(113),X=n(4),J=n.n(X),q=n(10),Z=n(463),Q=J()("electron"),$=Q?Q.ipcRenderer:null,ee=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={values:e._loadValuesFromLocalStorage()||Y.c.values,setLanguage:e._setLanguage.bind(Object(O.a)(e)),setThemeName:e._setThemeName.bind(Object(O.a)(e)),setCodeEditorThemeName:e._setCodeEditorThemeName.bind(Object(O.a)(e)),setAutoDownloadUpdates:e._setAutoDownloadUpdates.bind(Object(O.a)(e)),checkUpdates:e._checkUpdates.bind(Object(O.a)(e)),setAutoDisplayChangelog:e._setAutoDisplayChangelog.bind(Object(O.a)(e)),showAlertMessage:e._showAlertMessage.bind(Object(O.a)(e)),showTutorialHint:e._showTutorialHint.bind(Object(O.a)(e)),verifyIfIsNewVersion:e._verifyIfIsNewVersion.bind(Object(O.a)(e)),setEventsSheetShowObjectThumbnails:e._setEventsSheetShowObjectThumbnails.bind(Object(O.a)(e)),setAutosaveOnPreview:e._setAutosaveOnPreview.bind(Object(O.a)(e)),setUseNewInstructionEditorDialog:e._setUseNewInstructionEditorDialog.bind(Object(O.a)(e)),setUseGDJSDevelopmentWatcher:e._setUseGDJSDevelopmentWatcher.bind(Object(O.a)(e)),setEventsSheetUseAssignmentOperators:e._setEventsSheetUseAssignmentOperators.bind(Object(O.a)(e)),setShowEffectParameterNames:e._setShowEffectParameterNames.bind(Object(O.a)(e)),getLastUsedPath:e._getLastUsedPath.bind(Object(O.a)(e)),setLastUsedPath:e._setLastUsedPath.bind(Object(O.a)(e)),getDefaultEditorMosaicNode:e._getDefaultEditorMosaicNode.bind(Object(O.a)(e)),setDefaultEditorMosaicNode:e._setDefaultEditorMosaicNode.bind(Object(O.a)(e)),getRecentProjectFiles:e._getRecentProjectFiles.bind(Object(O.a)(e)),insertRecentProjectFile:e._insertRecentProjectFile.bind(Object(O.a)(e)),removeRecentProjectFile:e._removeRecentProjectFile.bind(Object(O.a)(e)),getAutoOpenMostRecentProject:e._getAutoOpenMostRecentProject.bind(Object(O.a)(e)),setAutoOpenMostRecentProject:e._setAutoOpenMostRecentProject.bind(Object(O.a)(e)),hadProjectOpenedDuringLastSession:e._hadProjectOpenedDuringLastSession.bind(Object(O.a)(e)),setHasProjectOpened:e._setHasProjectOpened.bind(Object(O.a)(e)),setShortcutForCommand:e._setShortcutForCommand.bind(Object(O.a)(e)),resetShortcutsToDefault:e._resetShortcutsToDefault.bind(Object(O.a)(e)),getNewObjectDialogDefaultTab:e._getNewObjectDialogDefaultTab.bind(Object(O.a)(e)),setNewObjectDialogDefaultTab:e._setNewObjectDialogDefaultTab.bind(Object(O.a)(e))},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){return e._checkUpdates()}),1e4)}},{key:"_setLanguage",value:function(e){var t=this;this.setState((function(t){return{values:Object(j.a)(Object(j.a)({},t.values),{},{language:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setEventsSheetShowObjectThumbnails",value:function(e){var t=this;this.setState((function(t){return{values:Object(j.a)(Object(j.a)({},t.values),{},{eventsSheetShowObjectThumbnails:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setAutosaveOnPreview",value:function(e){var t=this;this.setState((function(t){return{values:Object(j.a)(Object(j.a)({},t.values),{},{autosaveOnPreview:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setUseNewInstructionEditorDialog",value:function(e){var t=this;this.setState((function(t){return{values:Object(j.a)(Object(j.a)({},t.values),{},{useNewInstructionEditorDialog:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setUseGDJSDevelopmentWatcher",value:function(e){var t=this;this.setState((function(t){return{values:Object(j.a)(Object(j.a)({},t.values),{},{useGDJSDevelopmentWatcher:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setEventsSheetUseAssignmentOperators",value:function(e){var t=this;this.setState((function(t){return{values:Object(j.a)(Object(j.a)({},t.values),{},{eventsSheetUseAssignmentOperators:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setShowEffectParameterNames",value:function(e){var t=this;this.setState((function(t){return{values:Object(j.a)(Object(j.a)({},t.values),{},{showEffectParameterNames:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setThemeName",value:function(e){var t=this;this.setState((function(t){return{values:Object(j.a)(Object(j.a)({},t.values),{},{themeName:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setCodeEditorThemeName",value:function(e){var t=this;this.setState((function(t){return{values:Object(j.a)(Object(j.a)({},t.values),{},{codeEditorThemeName:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setAutoDownloadUpdates",value:function(e){var t=this;this.setState((function(t){return{values:Object(j.a)(Object(j.a)({},t.values),{},{autoDownloadUpdates:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setAutoDisplayChangelog",value:function(e){var t=this;this.setState((function(t){return{values:Object(j.a)(Object(j.a)({},t.values),{},{autoDisplayChangelog:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_checkUpdates",value:function(e){var t=this.props.disableCheckForUpdates;$&&!t&&(e||this.state.values.autoDownloadUpdates?$.send("updates-check-and-download"):$.send("updates-check"))}},{key:"_verifyIfIsNewVersion",value:function(){var e=this,t=Object(q.b)(),n=this.state.values.lastLaunchedVersion;return n!==t&&(this.setState((function(e){return{values:Object(j.a)(Object(j.a)({},e.values),{},{lastLaunchedVersion:t})}}),(function(){return e._persistValuesToLocalStorage(e.state)})),void 0!==n)}},{key:"_showAlertMessage",value:function(e,t){var n=this;this.setState((function(n){return{values:Object(j.a)(Object(j.a)({},n.values),{},{hiddenAlertMessages:Object(j.a)(Object(j.a)({},n.values.hiddenAlertMessages),{},{[e]:!t})})}}),(function(){return n._persistValuesToLocalStorage(n.state)}))}},{key:"_showTutorialHint",value:function(e,t){var n=this;this.setState((function(n){return{values:Object(j.a)(Object(j.a)({},n.values),{},{hiddenTutorialHints:Object(j.a)(Object(j.a)({},n.values.hiddenTutorialHints),{},{[e]:!t})})}}),(function(){return n._persistValuesToLocalStorage(n.state)}))}},{key:"_loadValuesFromLocalStorage",value:function(){try{var e=localStorage.getItem("gd-preferences");if(!e)return null;var t=JSON.parse(e);for(var n in Y.c.values)Y.c.values.hasOwnProperty(n)&&"undefined"===typeof t[n]&&(t[n]=Y.c.values[n]);return t}catch(a){return null}}},{key:"_persistValuesToLocalStorage",value:function(e){try{localStorage.setItem("gd-preferences",JSON.stringify(e.values))}catch(t){console.warn("Unable to persist preferences",t)}return e}},{key:"_getLastUsedPath",value:function(e,t){var n=e.getProjectFile(),a=this.state.values.projectLastUsedPaths[n];return a&&a[t]?a[t]:n?void 0:null}},{key:"_setLastUsedPath",value:function(e,t,n){var a=this,r=e.getProjectFile(),o=this.state.values,i=o.projectLastUsedPaths[r]||{};i[t]=n,this.setState({values:Object(j.a)(Object(j.a)({},o),{},{projectLastUsedPaths:Object(j.a)(Object(j.a)({},o.projectLastUsedPaths),{},{[r]:i})})},(function(){return a._persistValuesToLocalStorage(a.state)}))}},{key:"_getDefaultEditorMosaicNode",value:function(e){return this.state.values.defaultEditorMosaicNodes[e]||null}},{key:"_setDefaultEditorMosaicNode",value:function(e,t){var n=this;this.setState((function(n){return{values:Object(j.a)(Object(j.a)({},n.values),{},{defaultEditorMosaicNodes:Object(j.a)(Object(j.a)({},n.values.defaultEditorMosaicNodes),{},{[e]:t})})}}),(function(){return n._persistValuesToLocalStorage(n.state)}))}},{key:"_getRecentProjectFiles",value:function(){return this.state.values.recentProjectFiles}},{key:"_setRecentProjectFiles",value:function(e){var t=this;this.setState((function(t){return{values:Object(j.a)(Object(j.a)({},t.values),{},{recentProjectFiles:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_insertRecentProjectFile",value:function(e){var t=this._getRecentProjectFiles();this._setRecentProjectFiles([e].concat(Object(s.a)(t.filter((function(t){return JSON.stringify(t)!==JSON.stringify(e)})))).slice(0,5))}},{key:"_removeRecentProjectFile",value:function(e){this._setRecentProjectFiles(Object(s.a)(this._getRecentProjectFiles().filter((function(t){return JSON.stringify(t)!==JSON.stringify(e)}))).slice(0,5))}},{key:"_getAutoOpenMostRecentProject",value:function(){return this.state.values.autoOpenMostRecentProject}},{key:"_setAutoOpenMostRecentProject",value:function(e){var t=this;this.setState((function(t){return{values:Object(j.a)(Object(j.a)({},t.values),{},{autoOpenMostRecentProject:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_hadProjectOpenedDuringLastSession",value:function(){return this.state.values.hasProjectOpened}},{key:"_setHasProjectOpened",value:function(e){var t=this;this.setState((function(t){return{values:Object(j.a)(Object(j.a)({},t.values),{},{hasProjectOpened:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_resetShortcutsToDefault",value:function(){var e=this;this.setState((function(e){return{values:Object(j.a)(Object(j.a)({},e.values),{},{userShortcutMap:{}})}}),(function(){return e._persistValuesToLocalStorage(e.state)}))}},{key:"_setShortcutForCommand",value:function(e,t){var n=this,a=(Z.a[e]||"")===t,r=Object(j.a)({},this.state.values.userShortcutMap);a?delete r[e]:r[e]=t,this.setState((function(e){return{values:Object(j.a)(Object(j.a)({},e.values),{},{userShortcutMap:r})}}),(function(){return n._persistValuesToLocalStorage(n.state)}))}},{key:"_getNewObjectDialogDefaultTab",value:function(){return this.state.values.newObjectDialogDefaultTab}},{key:"_setNewObjectDialogDefaultTab",value:function(e){var t=this;this.setState((function(t){return{values:Object(j.a)(Object(j.a)({},t.values),{},{newObjectDialogDefaultTab:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"render",value:function(){return c.createElement(Y.b.Provider,{value:this.state},this.props.children)}}]),n}(c.Component),te=n(1954),ne=n(266),ae=n(273),re=n(1956),oe=n.n(re),ie=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._eventsFunctionCodeWriter=e.props.makeEventsFunctionCodeWriter({onWriteFile:e._onWriteFile.bind(Object(O.a)(e))}),e._includeFileHashs={},e._lastLoadPromise=null,e.state={eventsFunctionsExtensionsError:null,loadProjectEventsFunctionsExtensions:e._loadProjectEventsFunctionsExtensions.bind(Object(O.a)(e)),unloadProjectEventsFunctionsExtensions:e._unloadProjectEventsFunctionsExtensions.bind(Object(O.a)(e)),unloadProjectEventsFunctionsExtension:e._unloadProjectEventsFunctionsExtension.bind(Object(O.a)(e)),reloadProjectEventsFunctionsExtensions:e._reloadProjectEventsFunctionsExtensions.bind(Object(O.a)(e)),ensureLoadFinished:e._ensureLoadFinished.bind(Object(O.a)(e)),getEventsFunctionsExtensionWriter:function(){return e.props.eventsFunctionsExtensionWriter},getEventsFunctionsExtensionOpener:function(){return e.props.eventsFunctionsExtensionOpener},getIncludeFileHashs:function(){return e._includeFileHashs}},e}return Object(r.a)(n,[{key:"_onWriteFile",value:function(e){var t=e.includeFile,n=e.content;this._includeFileHashs[t]=oe.a.h32(n,43981).toNumber()}},{key:"_ensureLoadFinished",value:function(){return this._lastLoadPromise?console.info("Waiting on the events functions extensions to finish loading..."):console.info("Events functions extensions are ready."),this._lastLoadPromise?this._lastLoadPromise.then((function(){console.info("Events functions extensions finished loading.")})):Promise.resolve()}},{key:"_loadProjectEventsFunctionsExtensions",value:function(e){var t=this,n=this.props.i18n,a=this._eventsFunctionCodeWriter;if(!e||!a)return Promise.resolve();var r=this._lastLoadPromise||Promise.resolve();return this._lastLoadPromise=r.then((function(){return Object(ae.e)(e,a,n)})).then((function(){return t.setState({eventsFunctionsExtensionsError:null})})).catch((function(e){t.setState({eventsFunctionsExtensionsError:e}),Object(G.a)({message:n._({id:"An error has occured during functions generation. If GDevelop is installed, verify that nothing is preventing GDevelop from writing on disk. If you're running GDevelop online, verify your internet connection and refresh functions from the Project Manager."}),rawError:e,errorId:"events-functions-extensions-load-error"})})).then((function(){t._lastLoadPromise=null})),this._lastLoadPromise}},{key:"_unloadProjectEventsFunctionsExtensions",value:function(e){Object(ae.g)(e)}},{key:"_unloadProjectEventsFunctionsExtension",value:function(e,t){Object(ae.f)(e,t)}},{key:"_reloadProjectEventsFunctionsExtensions",value:function(e){return e&&this._unloadProjectEventsFunctionsExtensions(e),this._loadProjectEventsFunctionsExtensions(e)}},{key:"render",value:function(){return c.createElement(ne.a.Provider,{value:this.state},this.props.children)}}]),n}(c.Component),se=n(221),ce=n(352),le=n(386),ue=n(223),de=n(1964),me=n.n(de),pe=n(559),fe=n(836),he=n(560);n.d(t,"a",(function(){return be}));var ge=Object(ue.b)({plugins:[].concat(Object(s.a)(Object(v.a)().plugins),[me()()])}),be=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disableCheckForUpdates,n=e.authentification,a=e.children,r=e.makeEventsFunctionCodeWriter,o=e.eventsFunctionsExtensionWriter,i=e.eventsFunctionsExtensionOpener,s=e.resourceFetcher;return c.createElement(g,null,c.createElement(ce.a,null,c.createElement(ee,{disableCheckForUpdates:t},c.createElement(Y.b.Consumer,null,(function(e){var t=e.values,l=Object(y.a)({themeName:t.themeName,language:t.language});return c.createElement(te.a,{language:t.language},c.createElement(se.a.Provider,{value:l.gdevelopTheme},c.createElement(E.b,{jss:ge},c.createElement(b.a,{theme:l.muiTheme},c.createElement(K,{authentification:n},c.createElement(x.I18n,{update:!0},(function(e){var t=e.i18n;return c.createElement(ie,{i18n:t,makeEventsFunctionCodeWriter:r,eventsFunctionsExtensionWriter:o,eventsFunctionsExtensionOpener:i},c.createElement(le.a,null,c.createElement(pe.b,null,c.createElement(fe.b,null,c.createElement(he.a.Provider,{value:s},a({i18n:t}))))))})))))))})))))}}]),n}(c.Component)},907:function(e,t,n){"use strict";var a={name:"Tomorrow-Night",themeName:"tomorrow-night",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"969896",token:"comment"},{foreground:"ced1cf",token:"keyword.operator.class"},{foreground:"ced1cf",token:"constant.other"},{foreground:"ced1cf",token:"source.php.embedded.line"},{foreground:"cc6666",token:"variable"},{foreground:"cc6666",token:"support.other.variable"},{foreground:"cc6666",token:"string.other.link"},{foreground:"cc6666",token:"string.regexp"},{foreground:"cc6666",token:"entity.name.tag"},{foreground:"cc6666",token:"entity.other.attribute-name"},{foreground:"cc6666",token:"meta.tag"},{foreground:"cc6666",token:"declaration.tag"},{foreground:"de935f",token:"constant.numeric"},{foreground:"de935f",token:"constant.language"},{foreground:"de935f",token:"support.constant"},{foreground:"de935f",token:"constant.character"},{foreground:"de935f",token:"variable.parameter"},{foreground:"de935f",token:"punctuation.section.embedded"},{foreground:"de935f",token:"keyword.other.unit"},{foreground:"f0c674",token:"entity.name.class"},{foreground:"f0c674",token:"entity.name.type.class"},{foreground:"f0c674",token:"support.type"},{foreground:"f0c674",token:"support.class"},{foreground:"b5bd68",token:"string"},{foreground:"b5bd68",token:"constant.other.symbol"},{foreground:"b5bd68",token:"entity.other.inherited-class"},{foreground:"b5bd68",token:"markup.heading"},{foreground:"8abeb7",token:"keyword.operator"},{foreground:"8abeb7",token:"constant.other.color"},{foreground:"81a2be",token:"entity.name.function"},{foreground:"81a2be",token:"meta.function-call"},{foreground:"81a2be",token:"support.function"},{foreground:"81a2be",token:"keyword.other.special-method"},{foreground:"81a2be",token:"meta.block-level"},{foreground:"b294bb",token:"keyword"},{foreground:"b294bb",token:"storage"},{foreground:"b294bb",token:"storage.type"},{foreground:"b294bb",token:"entity.name.tag.css"},{foreground:"ced2cf",background:"df5f5f",token:"invalid"},{foreground:"ced2cf",background:"82a3bf",token:"meta.separator"},{foreground:"ced2cf",background:"b798bf",token:"invalid.deprecated"}],colors:{"editor.foreground":"#C5C8C6","editor.background":"#1D1F21","editor.selectionBackground":"#373B41","editor.lineHighlightBackground":"#282A2E","editorCursor.foreground":"#AEAFAD","editorWhitespace.foreground":"#4B4E55"}}},r={name:"Monokai",themeName:"monokai",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"75715e",token:"comment"},{foreground:"e6db74",token:"string"},{foreground:"ae81ff",token:"constant.numeric"},{foreground:"ae81ff",token:"constant.language"},{foreground:"ae81ff",token:"constant.character"},{foreground:"ae81ff",token:"constant.other"},{foreground:"f92672",token:"keyword"},{foreground:"f92672",token:"storage"},{foreground:"66d9ef",fontStyle:"italic",token:"storage.type"},{foreground:"a6e22e",fontStyle:"underline",token:"entity.name.class"},{foreground:"a6e22e",fontStyle:"italic underline",token:"entity.other.inherited-class"},{foreground:"a6e22e",token:"entity.name.function"},{foreground:"fd971f",fontStyle:"italic",token:"variable.parameter"},{foreground:"f92672",token:"entity.name.tag"},{foreground:"a6e22e",token:"entity.other.attribute-name"},{foreground:"66d9ef",token:"support.function"},{foreground:"66d9ef",token:"support.constant"},{foreground:"66d9ef",fontStyle:"italic",token:"support.type"},{foreground:"66d9ef",fontStyle:"italic",token:"support.class"},{foreground:"f8f8f0",background:"f92672",token:"invalid"},{foreground:"f8f8f0",background:"ae81ff",token:"invalid.deprecated"},{foreground:"cfcfc2",token:"meta.structure.dictionary.json string.quoted.double.json"},{foreground:"75715e",token:"meta.diff"},{foreground:"75715e",token:"meta.diff.header"},{foreground:"f92672",token:"markup.deleted"},{foreground:"a6e22e",token:"markup.inserted"},{foreground:"e6db74",token:"markup.changed"},{foreground:"ae81ff",token:"constant.numeric.line-number.find-in-files - match"},{foreground:"e6db74",token:"entity.name.filename.find-in-files"}],colors:{"editor.foreground":"#F8F8F2","editor.background":"#272822","editor.selectionBackground":"#49483E","editor.lineHighlightBackground":"#3E3D32","editorCursor.foreground":"#F8F8F0","editorWhitespace.foreground":"#3B3A32","editorIndentGuide.activeBackground":"#9D550F","editor.selectionHighlightBorder":"#222218"}}},o={name:"Tomorrow",themeName:"tomorrow",themeData:{base:"vs",inherit:!0,rules:[{foreground:"8e908c",token:"comment"},{foreground:"666969",token:"keyword.operator.class"},{foreground:"666969",token:"constant.other"},{foreground:"666969",token:"source.php.embedded.line"},{foreground:"c82829",token:"variable"},{foreground:"c82829",token:"support.other.variable"},{foreground:"c82829",token:"string.other.link"},{foreground:"c82829",token:"string.regexp"},{foreground:"c82829",token:"entity.name.tag"},{foreground:"c82829",token:"entity.other.attribute-name"},{foreground:"c82829",token:"meta.tag"},{foreground:"c82829",token:"declaration.tag"},{foreground:"f5871f",token:"constant.numeric"},{foreground:"f5871f",token:"constant.language"},{foreground:"f5871f",token:"support.constant"},{foreground:"f5871f",token:"constant.character"},{foreground:"f5871f",token:"variable.parameter"},{foreground:"f5871f",token:"punctuation.section.embedded"},{foreground:"f5871f",token:"keyword.other.unit"},{foreground:"c99e00",token:"entity.name.class"},{foreground:"c99e00",token:"entity.name.type.class"},{foreground:"c99e00",token:"support.type"},{foreground:"c99e00",token:"support.class"},{foreground:"718c00",token:"string"},{foreground:"718c00",token:"constant.other.symbol"},{foreground:"718c00",token:"entity.other.inherited-class"},{foreground:"718c00",token:"markup.heading"},{foreground:"3e999f",token:"keyword.operator"},{foreground:"3e999f",token:"constant.other.color"},{foreground:"4271ae",token:"entity.name.function"},{foreground:"4271ae",token:"meta.function-call"},{foreground:"4271ae",token:"support.function"},{foreground:"4271ae",token:"keyword.other.special-method"},{foreground:"4271ae",token:"meta.block-level"},{foreground:"8959a8",token:"keyword"},{foreground:"8959a8",token:"storage"},{foreground:"8959a8",token:"storage.type"},{foreground:"ffffff",background:"c82829",token:"invalid"},{foreground:"ffffff",background:"4271ae",token:"meta.separator"},{foreground:"ffffff",background:"8959a8",token:"invalid.deprecated"}],colors:{"editor.foreground":"#4D4D4C","editor.background":"#FFFFFF","editor.selectionBackground":"#D6D6D6","editor.lineHighlightBackground":"#EFEFEF","editorCursor.foreground":"#AEAFAD","editorWhitespace.foreground":"#D1D1D1"}}},i={name:"Solarized-Dark",themeName:"solarized-dark",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"657b83",fontStyle:"italic",token:"comment"},{foreground:"2aa198",token:"string"},{foreground:"d30102",token:"string.regexp"},{foreground:"d33682",token:"constant.numeric"},{foreground:"268bd2",token:"variable.language"},{foreground:"268bd2",token:"variable.other"},{foreground:"859900",token:"keyword"},{foreground:"93a1a1",fontStyle:"bold",token:"storage"},{foreground:"cb4b16",token:"entity.name.class"},{foreground:"cb4b16",token:"entity.name.type.class"},{foreground:"268bd2",token:"entity.name.function"},{foreground:"859900",token:"punctuation.definition.variable"},{foreground:"d30102",token:"punctuation.section.embedded.begin"},{foreground:"d30102",token:"punctuation.section.embedded.end"},{foreground:"b58900",token:"constant.language"},{foreground:"b58900",token:"meta.preprocessor"},{foreground:"cb4b16",token:"support.function.construct"},{foreground:"cb4b16",token:"keyword.other.new"},{foreground:"cb4b16",token:"constant.character"},{foreground:"cb4b16",token:"constant.other"},{foreground:"6c71c4",token:"entity.other.inherited-class"},{foreground:"268bd2",fontStyle:"bold",token:"entity.name.tag"},{foreground:"657b83",token:"punctuation.definition.tag"},{foreground:"93a1a1",token:"entity.other.attribute-name"},{foreground:"268bd2",token:"support.function"},{foreground:"d30102",token:"punctuation.separator.continuation"},{foreground:"859900",token:"support.type"},{foreground:"859900",token:"support.class"},{foreground:"cb4b16",token:"support.type.exception"}],colors:{"editor.foreground":"#93A1A1","editor.background":"#002B36","editor.selectionBackground":"#073642","editor.lineHighlightBackground":"#073642","editorCursor.foreground":"#D30102","editorWhitespace.foreground":"#93A1A1"}}},s={name:"Solarized-Light",themeName:"solarized-light",themeData:{base:"vs",inherit:!0,rules:[{foreground:"93a1a1",token:"comment"},{foreground:"2aa198",token:"string"},{foreground:"d30102",token:"string.regexp"},{foreground:"d33682",token:"constant.numeric"},{foreground:"268bd2",token:"variable.language"},{foreground:"268bd2",token:"variable.other"},{foreground:"859900",token:"keyword"},{foreground:"073642",fontStyle:"bold",token:"storage"},{foreground:"268bd2",token:"entity.name.class"},{foreground:"268bd2",token:"entity.name.type.class"},{foreground:"268bd2",token:"entity.name.function"},{foreground:"859900",token:"punctuation.definition.variable"},{foreground:"d30102",token:"punctuation.section.embedded.begin"},{foreground:"d30102",token:"punctuation.section.embedded.end"},{foreground:"b58900",token:"constant.language"},{foreground:"b58900",token:"meta.preprocessor"},{foreground:"d30102",token:"support.function.construct"},{foreground:"d30102",token:"keyword.other.new"},{foreground:"cb4b16",token:"constant.character"},{foreground:"cb4b16",token:"constant.other"},{foreground:"268bd2",fontStyle:"bold",token:"entity.name.tag"},{foreground:"93a1a1",token:"punctuation.definition.tag.begin"},{foreground:"93a1a1",token:"punctuation.definition.tag.end"},{foreground:"93a1a1",token:"entity.other.attribute-name"},{foreground:"268bd2",token:"support.function"},{foreground:"d30102",token:"punctuation.separator.continuation"},{foreground:"859900",token:"support.type"},{foreground:"859900",token:"support.class"},{foreground:"cb4b16",token:"support.type.exception"}],colors:{"editor.foreground":"#586E75","editor.background":"#FDF6E3","editor.selectionBackground":"#073642","editor.lineHighlightBackground":"#EEE8D5","editorCursor.foreground":"#000000","editorWhitespace.foreground":"#93A1A1"}}},c={name:"Vibrant Ink",themeName:"vibrant-ink",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"ffffff",background:"0f0f0f",token:"text"},{background:"000000",token:"source.ruby.rails.embedded.html"},{foreground:"ffffff",background:"101010",token:"text.html.ruby"},{foreground:"ccff33",background:"000000",token:"invalid"},{foreground:"ccff33",background:"000000",token:"invalid.deprecated"},{foreground:"99cc99",token:"constant.numeric"},{foreground:"ffffff",background:"000000",token:"source"},{foreground:"9933cc",token:"comment"},{foreground:"339999",token:"constant"},{foreground:"ff6600",token:"keyword"},{foreground:"edf8f9",token:"keyword.preprocessor"},{foreground:"ffffff",token:"keyword.preprocessor directive"},{foreground:"ffcc00",token:"entity.name.function"},{foreground:"ffcc00",token:"storage.type.function.js"},{fontStyle:"italic",token:"variable.parameter"},{foreground:"772cb7",background:"070707",token:"source comment.block"},{foreground:"ffffff",token:"variable.other"},{foreground:"ffcc00",token:"support.function"},{foreground:"66ff00",token:"string"},{foreground:"aaaaaa",token:"string constant.character.escape"},{foreground:"000000",background:"cccc33",token:"string.interpolated"},{foreground:"44b4cc",token:"string.regexp"},{foreground:"cccc33",token:"string.literal"},{foreground:"555555",token:"string.interpolated constant.character.escape"},{fontStyle:"underline",token:"entity.name.class"},{fontStyle:"underline",token:"support.class.js"},{fontStyle:"italic underline",token:"entity.other.inherited-class"},{foreground:"ff6600",token:"meta.tag.inline.any.html"},{foreground:"ff6600",token:"meta.tag.block.any.html"},{foreground:"99cc99",fontStyle:"italic",token:"entity.other.attribute-name"},{foreground:"dde93d",token:"keyword.other"},{foreground:"ff6600",token:"meta.selector.css"},{foreground:"ff6600",token:"entity.other.attribute-name.pseudo-class.css"},{foreground:"ff6600",token:"entity.name.tag.wildcard.css"},{foreground:"ff6600",token:"entity.other.attribute-name.id.css"},{foreground:"ff6600",token:"entity.other.attribute-name.class.css"},{foreground:"999966",token:"support.type.property-name.css"},{foreground:"ffffff",token:"keyword.other.unit.css"},{foreground:"ffffff",token:"constant.other.rgb-value.css"},{foreground:"ffffff",token:"constant.numeric.css"},{foreground:"ffffff",token:"support.function.event-handler.js"},{foreground:"ffffff",token:"keyword.operator.js"},{foreground:"cccc66",token:"keyword.control.js"},{foreground:"ffffff",token:"support.class.prototype.js"},{foreground:"ff6600",token:"object.property.function.prototype.js"}],colors:{"editor.foreground":"#FFFFFF","editor.background":"#0F0F0F","editor.selectionBackground":"#6699CC","editor.lineHighlightBackground":"#333333","editorCursor.foreground":"#FFFFFF","editorWhitespace.foreground":"#404040"}}},l={name:"GitHub",themeName:"github",themeData:{base:"vs",inherit:!0,rules:[{foreground:"999988",fontStyle:"italic",token:"comment"},{foreground:"999999",fontStyle:"bold",token:"comment.block.preprocessor"},{foreground:"999999",fontStyle:"bold italic",token:"comment.documentation"},{foreground:"999999",fontStyle:"bold italic",token:"comment.block.documentation"},{foreground:"a61717",background:"e3d2d2",token:"invalid.illegal"},{fontStyle:"bold",token:"keyword"},{fontStyle:"bold",token:"storage"},{fontStyle:"bold",token:"keyword.operator"},{fontStyle:"bold",token:"constant.language"},{fontStyle:"bold",token:"support.constant"},{foreground:"445588",fontStyle:"bold",token:"storage.type"},{foreground:"445588",fontStyle:"bold",token:"support.type"},{foreground:"008080",token:"entity.other.attribute-name"},{foreground:"0086b3",token:"variable.other"},{foreground:"999999",token:"variable.language"},{foreground:"445588",fontStyle:"bold",token:"entity.name.type"},{foreground:"445588",fontStyle:"bold",token:"entity.other.inherited-class"},{foreground:"445588",fontStyle:"bold",token:"support.class"},{foreground:"008080",token:"variable.other.constant"},{foreground:"800080",token:"constant.character.entity"},{foreground:"990000",token:"entity.name.exception"},{foreground:"990000",token:"entity.name.function"},{foreground:"990000",token:"support.function"},{foreground:"990000",token:"keyword.other.name-of-parameter"},{foreground:"555555",token:"entity.name.section"},{foreground:"000080",token:"entity.name.tag"},{foreground:"008080",token:"variable.parameter"},{foreground:"008080",token:"support.variable"},{foreground:"009999",token:"constant.numeric"},{foreground:"009999",token:"constant.other"},{foreground:"dd1144",token:"string - string source"},{foreground:"dd1144",token:"constant.character"},{foreground:"009926",token:"string.regexp"},{foreground:"990073",token:"constant.other.symbol"},{fontStyle:"bold",token:"punctuation"},{foreground:"000000",background:"ffdddd",token:"markup.deleted"},{fontStyle:"italic",token:"markup.italic"},{foreground:"aa0000",token:"markup.error"},{foreground:"999999",token:"markup.heading.1"},{foreground:"000000",background:"ddffdd",token:"markup.inserted"},{foreground:"888888",token:"markup.output"},{foreground:"888888",token:"markup.raw"},{foreground:"555555",token:"markup.prompt"},{fontStyle:"bold",token:"markup.bold"},{foreground:"aaaaaa",token:"markup.heading"},{foreground:"aa0000",token:"markup.traceback"},{fontStyle:"underline",token:"markup.underline"},{foreground:"999999",background:"eaf2f5",token:"meta.diff.range"},{foreground:"999999",background:"eaf2f5",token:"meta.diff.index"},{foreground:"999999",background:"eaf2f5",token:"meta.separator"},{foreground:"999999",background:"ffdddd",token:"meta.diff.header.from-file"},{foreground:"999999",background:"ddffdd",token:"meta.diff.header.to-file"},{foreground:"4183c4",token:"meta.link"}],colors:{"editor.foreground":"#000000","editor.background":"#F8F8FF","editor.selectionBackground":"#B4D5FE","editor.lineHighlightBackground":"#FFFEEB","editorCursor.foreground":"#666666","editorWhitespace.foreground":"#BBBBBB"}}},u={name:"Nord-Dark",themeName:"nord-dark",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"616e88",token:"comment"},{foreground:"616e88",fontStyle:"bold",token:"comment.block.preprocessor"},{foreground:"81a1c1",token:"comment.block.documentation"},{foreground:"d8dee9",background:"bf616a",token:"invalid.illegal"},{foreground:"81a1c1",token:"keyword"},{foreground:"81a1c1",token:"storage"},{foreground:"81a1c1",token:"keyword.operator"},{foreground:"81a1c1",token:"constant.language"},{foreground:"81a1c1",token:"support.constant"},{foreground:"8fbcbb",token:"storage.type"},{foreground:"8fBcbb",token:"entity.other.attribute-name"},{foreground:"d8dee9",token:"variable.other"},{foreground:"d8dee9",token:"variable.language"},{foreground:"8fbcbb",token:"entity.name.type"},{foreground:"8fbcbb",fontStyle:"bold",token:"entity.other.inherited-class"},{foreground:"8fbcbb",token:"support.class"},{foreground:"8fbcbb",token:"variable.other.constant"},{foreground:"88c0d0",token:"entity.name.function"},{foreground:"88c0d0",token:"support.function"},{foreground:"88c0d0",token:"entity.name.section"},{foreground:"5e81ac",token:"entity.name.tag"},{foreground:"d8dee9",token:"variable.parameter"},{foreground:"d8dee9",token:"support.variable"},{foreground:"b48ead",token:"constant.numeric"},{foreground:"b48ead",token:"constant.other"},{foreground:"a3be8c",token:"string - string source"},{foreground:"ebcb8b",token:"constant.character"},{foreground:"ebcb8b",token:"string.regexp"},{foreground:"d8dee9",fontStyle:"bold",token:"constant.other.symbol"},{fontground:"eceff4",token:"punctuation"},{foreground:"bf616a",token:"markup.deleted"},{fontStyle:"italic",token:"markup.italic"},{foreground:"88c0d0",token:"markup.heading"},{foreground:"a3be8c",token:"markup.inserted"},{fontStyle:"bold",token:"markup.bold"},{fontStyle:"underline",token:"markup.underline"},{foreground:"8fbcbb",token:"meta.diff.range"},{foreground:"8fbcbb",token:"meta.diff.header.from-file"}],colors:{"editorActiveLineNumber.foreground":"#d8dee9","editorCursor.foreground":"#d8dee9","editorHint.border":"#ebcb8b","editorHint.foreground":"#ebcb8b","editorIndentGuide.background":"#434c5e","editorIndentGuide.activeBackground":"#4c566a","editorLineNumber.foreground":"#4c566a","editorLineNumber.activeForeground":"#d8dee9","editorWhitespace.foreground":"#4c566a","editorWidget.background":"#2e3440","editorWidget.border":"#3b4252","editor.background":"#2e3440","editor.foreground":"#d8dee9","editor.hoverHighlightBackground":"#3b4252","editor.findMatchBackground":"#88c0d0","editor.findMatchHighlightBackground":"#88c0d0","editor.findRangeHighlightBackground":"#88c0d0","editor.lineHighlightBackground":"#3b4252","editor.lineHighlightBorder":"#3b4252","editor.inactiveSelectionBackground":"#434c5e","editor.selectionBackground":"#434c5e","editor.selectionHighlightBackground":"#434c5e","editor.rangeHighlightBackground":"#434c5e","editor.wordHighlightBackground":"#81a1c1","editor.wordHighlightStrongBackground":"#81a1c1","editorError.foreground":"#bf616a","editorError.border":"#bf616a","editorWarning.foreground":"#ebcb8b","editorWarning.border":"#ebcb8b","editorBracketMatch.background":"#2e3440","editorBracketMatch.border":"#88c0d0","editorCodeLens.foreground":"#4c566a","editorGroup.background":"#2e3440","editorGroup.border":"#3b4252","editorGroup.dropBackground":"#3b4252","editorGroupHeader.noTabsBackground":"#2e3440","editorGroupHeader.tabsBackground":"#2e3440","editorGroupHeader.tabsBorder":"#3b4252","editorGutter.background":"#2e3440","editorGutter.modifiedBackground":"#ebcb8b","editorGutter.addedBackground":"#a3be8c","editorGutter.deletedBackground":"#bf616a","editorHoverWidget.background":"#3b4252","editorHoverWidget.border":"#3b4252","editorLink.activeForeground":"#88c0d0","editorMarkerNavigation.background":"#5e81ac","editorMarkerNavigationError.background":"#bf616a","editorMarkerNavigationWarning.background":"#ebcb8b","editorOverviewRuler.border":"#3b4252","editorOverviewRuler.currentContentForeground":"#3b4252","editorOverviewRuler.incomingContentForeground":"#3b4252","editorOverviewRuler.findMatchForeground":"#88c0d0","editorOverviewRuler.rangeHighlightForeground":"#88c0d0","editorOverviewRuler.selectionHighlightForeground":"#88c0d0","editorOverviewRuler.wordHighlightForeground":"#88c0d0","editorOverviewRuler.wordHighlightStrongForeground":"#88c0d0","editorOverviewRuler.modifiedForeground":"#ebcb8b","editorOverviewRuler.addedForeground":"#a3be8c","editorOverviewRuler.deletedForeground":"#bf616a","editorOverviewRuler.errorForeground":"#bf616a","editorOverviewRuler.warningForeground":"#ebcb8b","editorOverviewRuler.infoForeground":"#81a1c1","editorRuler.foreground":"#434c5e","editorSuggestWidget.background":"#2e3440","editorSuggestWidget.border":"#3b4252","editorSuggestWidget.foreground":"#d8dee9","editorSuggestWidget.highlightForeground":"#88c0d0","editorSuggestWidget.selectedBackground":"#434c5e"}}};n.d(t,"a",(function(){return m}));var d=[{name:"Visual Studio",themeName:"vs"},{name:"Visual Studio Dark",themeName:"vs-dark"},l,r,i,s,o,a,c,u],m=function(){return d}},908:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(207),d=n(426),m=n(123),p=n(150),f=n(120),h=n.n(f),g=n(133),b=n(98),v=n(90),E=n(87),y=n(139),j=n(160),O=n(102),C=n(276),x=n.n(C),T=n(277),S=n.n(T),k=n(186),w=n(110),N=n(209),_=n(79),P=n(402),I=n(157),R=n(204),B=n(839),M=n(417),F=n(559),A=n(83),L=n(2458),D=n(85),U=n(229),V={previewBackground:{background:'url("res/transparentback.png") repeat',display:"flex",justifyContent:"center",alignItems:"center"},previewImage:{objectFit:"contain",verticalAlign:"middle",pointerEvents:"none"},icon:{color:"#fff"},cardContainer:{overflow:"hidden",position:"relative"},titleContainer:{position:"absolute",bottom:0,left:0,right:0,height:48,color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"rgb(0,0,0,0.5)"},title:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},W=function(e){var t=e.assetShortHeader,n=e.onOpenDetails,a=e.size;return c.createElement(L.a,{onClick:n,focusRipple:!0},c.createElement("div",{style:Object(A.a)(Object(A.a)({},V.cardContainer),{},{width:a,height:a})},c.createElement("div",{style:Object(A.a)(Object(A.a)({},V.previewBackground),{},{width:a,height:a})},c.createElement(U.a,{key:t.previewImageUrls[0],style:Object(A.a)(Object(A.a)({},V.previewImage),{},{maxWidth:108,maxHeight:108}),src:t.previewImageUrls[0],alt:t.name})),c.createElement("div",{style:V.titleContainer},c.createElement(D.a,{noMargin:!0,style:V.title},t.name),c.createElement(D.a,{noMargin:!0,style:V.title,size:"body2"},t.shortDescription))))},G=n(163),z={searchBar:{flexShrink:0}},H=function(e){e.project,e.objectsContainer,e.events;var t=e.onOpenDetails,n=c.useContext(F.a),a=n.filters,r=n.searchResults,o=n.error,i=n.fetchAssetsAndFilters,s=n.filtersState,l=n.searchText,u=n.setSearchText;return c.useEffect((function(){i()}),[i]),c.createElement(G.a,null,(function(e){return c.createElement(_.a,{expand:!0,noMargin:!0,useFullHeight:!0},c.createElement(p.a,{value:l,onChange:u,onRequestSearch:function(){},style:z.searchBar}),c.createElement(_.b,{expand:!0,overflow:"hidden"},c.createElement(m.a,{noFullHeight:!0,noExpand:!0,width:"small"===e?150:250},c.createElement(R.a,null,c.createElement(M.a,{allFilters:a,filtersState:s,error:o}))),c.createElement(B.a,{onRetry:i,error:o,searchItems:r,renderSearchItem:function(e,n){return c.createElement(W,{size:n,onOpenDetails:function(){return t(e)},assetShortHeader:e})}})))}))},K=n(266),Y=n(505),X=n(2471),J=n(89),q=n(378),Z=n(265),Q=n(128),$=n(236),ee=n(149),te=n.n(ee),ne=n(96),ae=n(2398),re=n(3),oe={previewBackground:{background:'url("res/transparentback.png") repeat',display:"flex",justifyContent:"center",alignItems:"center",padding:10},verticalPreviewBackground:{width:250},horizontalPreviewBackground:{height:170},chip:{marginBottom:2,marginRight:2},inlineText:{display:"inline-block"},previewImage:{maxWidth:"100%",maxHeight:"100%",verticalAlign:"middle",pointerEvents:"none",objectFit:"contain"}},ie=function(e){e.project,e.layout,e.objectsContainer,e.resourceSources,e.onChooseResource,e.resourceExternalEditors;var t=e.assetShortHeader,n=e.onAdd,a=e.onClose,r=e.canInstall,o=e.isBeingInstalled,i=c.useContext(F.a),l=i.authors,u=i.licenses,d=c.useState(null),m=Object(b.a)(d,2),p=m[0],f=m[1],y=c.useState(null),j=Object(b.a)(y,2),O=j[0],C=j[1],x=c.useCallback((function(){Object(g.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(q.a)(t);case 3:n=e.sent,f(n),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error while loading asset:",e.t0),C(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[t]);c.useEffect((function(){x()}),[x]);var T=p&&l?p.authors.map((function(e){return l.find((function(t){return t.name===e}))})).filter(Boolean):[],S=p&&u?u.find((function(e){return e.name===p.license})):null;return c.createElement(v.a,{open:!0,title:c.createElement(s.Trans,{id:"Add an object from the store"}),onRequestClose:a,actions:[c.createElement(E.a,{key:"back",label:c.createElement(s.Trans,{id:"Back"}),onClick:a}),c.createElement(Z.a,{isLoading:o||!p&&!O,key:"install"},c.createElement(J.a,{primary:!0,icon:c.createElement(te.a,null),label:c.createElement(s.Trans,{id:"Add to the game"}),onClick:n,disabled:!r||o||!p}))]},c.createElement(_.a,{expand:!0,noMargin:!0},c.createElement(ne.b,{noMargin:!0},c.createElement(G.a,null,(function(e){return c.createElement("div",{style:Object(A.a)(Object(A.a)({},oe.previewBackground),"small"===e?oe.horizontalPreviewBackground:oe.verticalPreviewBackground)},c.createElement(U.a,{style:oe.previewImage,src:t.previewImageUrls[0],alt:t.name}))})),c.createElement(_.a,{expand:!0},c.createElement("div",null,c.createElement(D.a,{size:"title",style:oe.inlineText},t.name)," ",t.shortDescription&&c.createElement(c.Fragment,null,"-"," ",c.createElement(D.a,{size:"body",style:oe.inlineText},t.shortDescription))),c.createElement("span",null,t.tags.map((function(e){return c.createElement(X.a,{size:"small",style:oe.chip,label:e,key:e})}))),p?c.createElement(c.Fragment,null,c.createElement(D.a,{size:"body"},c.createElement(s.Trans,{id:"By:"})," ",!!T&&T.map((function(e){return c.createElement(ae.a,{key:e.name,component:"button",onClick:function(){re.b.openExternalURL(e.website)}},e.name)}))),c.createElement(D.a,{size:"body"},!!S&&c.createElement(s.Trans,{id:"License: <0>{0}</0>",values:{0:S.name},components:[c.createElement(ae.a,{component:"button",onClick:function(){re.b.openExternalURL(S.website)}})]})),c.createElement(D.a,{size:"body"},p.description)):O?c.createElement($.a,{onRetry:x},c.createElement(s.Trans,{id:"Error while loading the asset. Verify your internet connection or try again later."})):c.createElement(Q.a,null)))))},se=n(9),ce=n(4),le=n.n(ce),ue=n(24),de=n(210),me=n(560),pe=n(113),fe=le()("electron"),he=function(e){var t=e.objectMetadata,n=e.onClick;return""===t.name?null:c.createElement(O.b,{leftIcon:c.createElement(y.a,{src:t.iconFilename,iconSize:40,isGDevelopIcon:!0}),key:t.name,primaryText:t.fullName,secondaryText:t.description,secondaryTextLines:2,onClick:n})};function ge(e){var t=e.project,n=e.layout,a=e.objectsContainer,r=e.resourceSources,o=e.onChooseResource,i=e.resourceExternalEditors,l=e.events,u=e.onClose,d=e.onCreateNewObject,m=e.onObjectAddedFromAsset,p=c.useContext(pe.b),f=p.setNewObjectDialogDefaultTab,y=p.getNewObjectDialogDefaultTab,C=c.useState(!1),T=Object(b.a)(C,2),R=T[0],B=T[1],M=c.useState(null),F=Object(b.a)(M,2),A=F[0],L=F[1],D=c.useState(y()),U=Object(b.a)(D,2),V=U[0],W=U[1],G=c.useState(!1),z=Object(b.a)(G,2),X=z[0],q=z[1],Z=c.useMemo((function(){return Object(k.b)(t)}),[t]),Q=Object(N.d)(),$=Object(de.b)(),ee=Object(me.b)();c.useEffect((function(){return f(V)}),[f,V]);var te=Z.filter((function(e){var t=e.name;return!Q[t]})),ne=Z.filter((function(e){var t=e.name;return!!Q[t]})),ae=c.useState(null),oe=Object(b.a)(ae,2),ce=oe[0],le=oe[1],ge=c.useContext(K.a),be=c.useCallback((function(e){le(e),Object(g.a)(h.a.mark((function n(){var r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Y.b)({assetShortHeader:e,eventsFunctionsExtensionsState:ge,project:t,objectsContainer:a,events:l});case 3:return r=n.sent,Object(se.b)({id:e.id,name:e.name}),console.log("Asset successfully installed."),r.createdObjects.forEach((function(e){m(e)})),n.next=9,ee.ensureResourcesAreFetched(t);case 9:L(null),B(!0),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(0),console.error("Error while installing the asset:",n.t0),Object(ue.a)({message:'There was an error while installing the asset "'.concat(e.name,'". Verify your internet connection or try again later.'),rawError:n.t0,errorId:"install-asset-error"});case 17:le(null);case 18:case"end":return n.stop()}}),n,null,[[0,13]])})))()}),[ee,ge,t,a,l,m]);return c.createElement(v.a,{title:c.createElement(s.Trans,{id:"Add a new object"}),secondaryActions:[c.createElement(w.a,{helpPagePath:"/objects",key:"help"}),fe||"touch"===$?null:c.createElement(E.a,{key:"download-gdevelop",label:c.createElement(s.Trans,{id:"Download GDevelop to import your images"}),onClick:function(){return re.b.openExternalURL("https://gdevelop-app.com/download")}})],actions:[c.createElement(E.a,{key:"close",label:c.createElement(s.Trans,{id:"Close"}),primary:!1,onClick:u})],onRequestClose:u,cannotBeDismissed:!1,open:!0,flexBody:!0,noMargin:!0},c.createElement(_.a,{noMargin:!0,expand:!0},c.createElement(I.b,{value:V,onChange:W},c.createElement(I.a,{label:c.createElement(s.Trans,{id:"Search Asset Store"}),value:"asset-store"}),c.createElement(I.a,{label:c.createElement(s.Trans,{id:"New object from scratch"}),value:"new-object"})),"asset-store"===V&&c.createElement(H,{project:t,objectsContainer:a,events:l,onOpenDetails:function(e){L(e),Object(se.c)({id:e.id,name:e.name})}}),"new-object"===V&&c.createElement(c.Fragment,null,c.createElement(O.a,null,te.map((function(e){return c.createElement(he,{key:e.name,objectMetadata:e,onClick:function(){Object(se.k)(e.name),d(e.name)}})})),X&&c.createElement(j.a,null,"Experimental (make sure to read the documentation page)"),X&&ne.map((function(e){return c.createElement(he,{key:e.name,objectMetadata:e,onClick:function(){Object(se.k)(e.name),d(e.name)}})}))),c.createElement(_.b,{justifyContent:"center",alignItems:"center"},X?c.createElement(E.a,{key:"toggle-experimental",icon:c.createElement(S.a,null),primary:!1,onClick:function(){return q(!1)},label:c.createElement(s.Trans,{id:"Hide experimental objects"})}):c.createElement(E.a,{key:"toggle-experimental",icon:c.createElement(x.a,null),primary:!1,onClick:function(){return q(!0)},label:c.createElement(s.Trans,{id:"Show experimental objects"})})),c.createElement(_.b,{justifyContent:"center",alignItems:"center"},c.createElement(J.a,{label:c.createElement(s.Trans,{id:"Browse ready made objects in the Asset Store"}),primary:!0,onClick:function(){W("asset-store")}})))),null!==A?c.createElement(ie,{project:t,layout:n,objectsContainer:a,resourceSources:r,onChooseResource:o,resourceExternalEditors:i,assetShortHeader:A,onAdd:function(){return be(A)},onClose:function(){return L(null)},canInstall:!ce,isBeingInstalled:!!ce&&ce.id===A.id}):null,ee.renderResourceFetcherDialog(),c.createElement(P.a,{identifier:"asset-installed-explanation",message:c.createElement(s.Trans,{id:"The object was added to the list of objects. You can now use it on the scene, in events, and customize it."}),show:R}))}var be=n(230),ve=n(130),Ee=n(231),ye=n(131),je=n(777),Oe=n(99),Ce=n(269),xe=n(129),Te=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={tagsString:e.props.tagsString},e._tagsField=c.createRef(),e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e._tagsField&&e._tagsField.current&&e._tagsField.current.focus()}),10)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onCancel,a=t.onEdit,r=this.state.tagsString,o=Object(Ce.c)(r);return c.createElement(v.a,{actions:[c.createElement(E.a,{key:"close",label:c.createElement(s.Trans,{id:"Cancel"}),primary:!1,onClick:n}),c.createElement(E.a,{key:"add",label:this.props.tagsString&&!o.length?c.createElement(s.Trans,{id:"Remove all tags"}):c.createElement(s.Trans,{id:"Add/update {0} tag(s)",values:{0:o.length}}),primary:!0,onClick:function(){return a(o)},disabled:!this.props.tagsString&&!o.length})],cannotBeDismissed:!1,open:!0,onRequestClose:n},c.createElement(Oe.b,{fullWidth:!0,value:r,onChange:function(t,n){return e.setState({tagsString:n})},floatingLabelText:"Tag(s) (comma-separated)",hintText:{id:"For example: player, spaceship, inventory..."},onKeyPress:function(e){Object(xe.e)(e)&&a(o)},ref:this._tagsField}))}}]),n}(c.Component);n.d(t,"b",(function(){return ke})),n.d(t,"a",(function(){return Pe}));var Se={listContainer:{flex:1}},ke="GD_OBJECT_WITH_CONTEXT",we=function(e){return e.object.getName()},Ne=function(e){return e.global},_e=function(e){var t="";if(Ee.a.has("Object")){var n=Ee.a.get("Object");n&&(t=n.name)}return e?"Paste "+t+" as a Global Object":"Paste "+t},Pe=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._displayedObjectWithContextsList=[],e.state={newObjectDialogOpen:!1,renamedObjectWithContext:null,variablesEditedObject:null,searchText:"",tagEditedObject:null},e.addObject=function(t){var n=e.props,a=n.project,r=n.objectsContainer,o=n.onEditObject,i=n.onObjectCreated,s=n.onObjectSelected,c=Object(ve.a)("NewObject",(function(e){return r.hasObjectNamed(e)||a.hasObjectNamed(e)})),l=r.insertNewObject(a,t,c,r.getObjectsCount());l.setTags(Object(Ce.b)(e.props.selectedObjectTags)),e.setState({newObjectDialogOpen:!1},(function(){o&&(o(l),i(l),s(c))}))},e._onObjectAddedFromAsset=function(t){var n=e.props.onObjectCreated;t.setTags(Object(Ce.b)(e.props.selectedObjectTags)),n(t)},e.onAddNewObject=function(){e.setState({newObjectDialogOpen:!0})},e._deleteObject=function(t){var n=t.object,a=t.global,r=e.props,o=r.project,i=r.objectsContainer;re.b.showConfirmDialog("Are you sure you want to remove this object? This can't be undone.")&&e.props.onDeleteObject(t,(function(t){t&&(a?o.removeObject(n.getName()):i.removeObject(n.getName()),e._onObjectModified(!1))}))},e._copyObject=function(e){var t=e.object;Ee.a.set("Object",{type:t.getType(),name:t.getName(),object:Object(ye.b)(t)})},e._cutObject=function(t){e._copyObject(t),e._deleteObject(t)},e._duplicateObject=function(t){e._copyObject(t),e._pasteAndRename(t)},e._pasteAndRename=function(t){e._editName(e._paste(t))},e._paste=function(t){if(!Ee.a.has("Object"))return null;var n=t.object,a=t.global,r=Ee.a.get("Object"),o=r.object,i=r.type,s=r.name,c=e.props,l=c.project,u=c.objectsContainer,d=c.onObjectPasted,m=Object(ve.a)(s,(function(e){return u.hasObjectNamed(e)||l.hasObjectNamed(e)}),""),p=a?l.insertNewObject(l,i,m,l.getObjectPosition(n.getName())):u.insertNewObject(l,i,m,u.getObjectPosition(n.getName()));return Object(ye.c)(p,o,"unserializeFrom",l),p.setName(m),e._onObjectModified(!1),d&&d(p),{object:p,global:a}},e._editName=function(t){e.setState({renamedObjectWithContext:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._editVariables=function(t){e.setState({variablesEditedObject:t})},e._rename=function(t,n){var a=t.object;e.setState({renamedObjectWithContext:null}),we(t)!==n&&e.props.canRenameObject(n)&&e.props.onRenameObject(t,n,(function(t){t&&(a.setName(n),e._onObjectModified(!1))}))},e._canMoveSelectionTo=function(t){return e._displayedObjectWithContextsList.filter((function(t){return-1!==e.props.selectedObjectNames.indexOf(t.object.getName())})).filter((function(e){return e.global===t.global})).length>0},e._moveSelectionTo=function(t){var n=e.props,a=n.project,r=n.objectsContainer,o=t.global?a:r;e._displayedObjectWithContextsList.filter((function(t){return-1!==e.props.selectedObjectNames.indexOf(t.object.getName())})).forEach((function(e){e.global===t.global&&o.moveObject(o.getObjectPosition(e.object.getName()),o.getObjectPosition(t.object.getName()))})),e._onObjectModified(!0)},e._setAsGlobalObject=function(t){var n=t.object,a=e.props,r=a.project,o=a.objectsContainer,i=n.getName();o.hasObjectNamed(i)&&(r.hasObjectNamed(i)?Object(ue.c)("A global object with this name already exists. Please change the object name before setting it as a global object",{delayToNextTick:!0}):re.b.showConfirmDialog("This object will be loaded and available in all the scenes. This is only recommended for objects that you reuse a lot and can't be undone. Make this object global?")&&(o.moveObjectToAnotherContainer(i,r,r.getObjectsCount()),e._onObjectModified(!0)))},e.forceUpdateList=function(){e.forceUpdate(),e.sortableList&&e.sortableList.forceUpdateGrid()},e._openEditTagDialog=function(t){e.setState({tagEditedObject:t})},e._changeObjectTags=function(t,n){t.setTags(Object(Ce.b)(n)),e._onObjectModified(!0)},e._selectObject=function(t){e.props.onObjectSelected(t?t.object.getName():"")},e._getObjectThumbnail=function(t){return e.props.getThumbnail(e.props.project,t.object)},e._renderObjectMenuTemplate=function(t){return function(n,a){var r=n.object;return[{label:t._({id:"Edit object"}),click:function(){return e.props.onEditObject(r)}},{label:t._({id:"Edit object variables"}),click:function(){return e._editVariables(r)}},{type:"separator"},{label:t._({id:"Tags"}),submenu:Object(Ce.a)({noTagLabel:"No tags",getAllTags:e.props.getAllObjectTags,selectedTags:Object(Ce.c)(r.getTags()),onChange:function(t){e._changeObjectTags(r,t)},editTagsLabel:"Add/edit tags...",onEditTags:function(){return e._openEditTagDialog(r)}})},{label:t._({id:"Rename"}),click:function(){return e._editName(n)}},{label:t._({id:"Set as a global object"}),click:function(){return e._setAsGlobalObject(n)}},{label:t._({id:"Delete"}),click:function(){return e._deleteObject(n)}},{type:"separator"},{label:t._({id:"Add a new object..."}),click:function(){return e.onAddNewObject()}},{type:"separator"},{label:t._({id:"Copy"}),click:function(){return e._copyObject(n)}},{label:t._({id:"Cut"}),click:function(){return e._cutObject(n)}},{label:_e(n.global),enabled:Ee.a.has("Object"),click:function(){return e._paste(n)}},{label:t._({id:"Duplicate"}),click:function(){return e._duplicateObject(n)}}]}},e._onObjectModified=function(t){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),t?e.forceUpdateList():e.forceUpdate()},e}return Object(r.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.newObjectDialogOpen!==t.newObjectDialogOpen||this.state.renamedObjectWithContext!==t.renamedObjectWithContext||this.state.variablesEditedObject!==t.variablesEditedObject||this.state.searchText!==t.searchText||this.state.tagEditedObject!==t.tagEditedObject||(this.props.selectedObjectNames!==e.selectedObjectNames||this.props.selectedObjectTags!==e.selectedObjectTags||(this.props.project!==e.project||this.props.objectsContainer!==e.objectsContainer))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.layout,r=t.objectsContainer,o=t.resourceSources,i=t.onChooseResource,c=t.resourceExternalEditors,f=t.selectedObjectTags,h=t.events,g=this.state,b=g.searchText,v=g.tagEditedObject,E=Object(k.c)(n,r);this._displayedObjectWithContextsList=Object(k.f)(E.allObjectsList,{searchText:b,selectedTags:f});var y=this._displayedObjectWithContextsList.filter((function(t){return-1!==e.props.selectedObjectNames.indexOf(t.object.getName())})),j=this._displayedObjectWithContextsList.find(Object(k.g)(this.state.renamedObjectWithContext)),O=n.ptr+";"+r.ptr;return l.a.createElement(m.a,{maxWidth:!0},l.a.createElement(je.a,{tags:this.props.selectedObjectTags,onChange:this.props.onChangeSelectedObjectTags}),l.a.createElement("div",{style:Se.listContainer},l.a.createElement(u.a,null,(function(t){var n=t.height,a=t.width;return l.a.createElement(s.I18n,null,(function(t){var r=t.i18n;return l.a.createElement(d.a,{key:O,ref:function(t){return e.sortableList=t},fullList:e._displayedObjectWithContextsList,width:a,height:n,getItemName:we,getItemThumbnail:e._getObjectThumbnail,isItemBold:Ne,onEditItem:function(t){return e.props.onEditObject(t.object)},onAddNewItem:e.onAddNewObject,addNewItemLabel:l.a.createElement(s.Trans,{id:"Add a new object"}),selectedItems:y,onItemSelected:e._selectObject,renamedItem:j,onRename:e._rename,buildMenuTemplate:e._renderObjectMenuTemplate(r),onMoveSelectionToItem:e._moveSelectionTo,canMoveSelectionToItem:e._canMoveSelectionTo,scaleUpItemIconWhenSelected:"touch"===Object(de.b)(),reactDndType:ke})}))}))),l.a.createElement(p.a,{value:b,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})}}),this.state.newObjectDialogOpen&&l.a.createElement(ge,{onClose:function(){return e.setState({newObjectDialogOpen:!1})},onCreateNewObject:this.addObject,onObjectAddedFromAsset:this._onObjectAddedFromAsset,project:n,layout:a,objectsContainer:r,events:h,resourceSources:o,onChooseResource:i,resourceExternalEditors:c}),this.state.variablesEditedObject&&l.a.createElement(be.a,{open:!0,variablesContainer:this.state.variablesEditedObject&&this.state.variablesEditedObject.getVariables(),onCancel:function(){return e._editVariables(null)},onApply:function(){return e._editVariables(null)},title:l.a.createElement(s.Trans,{id:"Object Variables"}),emptyExplanationMessage:l.a.createElement(s.Trans,{id:"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it."}),emptyExplanationSecondMessage:l.a.createElement(s.Trans,{id:"For example, you can have a variable called Life representing the health of the object."}),hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),v&&l.a.createElement(Te,{tagsString:v.getTags(),onEdit:function(t){e._changeObjectTags(v,t),e._openEditTagDialog(null)},onCancel:function(){return e._openEditTagDialog(null)}}))}}]),n}(l.a.Component)},909:function(e,t,n){"use strict";var a=n(2261),r=new Set(["he_IL","ar_SA","az_AZ","ms_MY","fa_IR","ur_PK"]);var o=function(e){var t=new Map,n=new WeakMap;return function(a){var r=function(e){return"object"===typeof e?n:t}(a),o=r.get(a);if(o)return o;var i=e(a);return r.set(a,i),i}},i=n(605),s=n(138),c=(n(1076),n(1077),n(347),n(1078),n(1079),"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, 'Helvetica Neue', Helvetica, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"),l={gdevelopTheme:{palette:{canvasColor:"#303030"},message:{warning:"#ffa500",error:"#f00",valid:"#00db00"},toolbar:{backgroundColor:"#252525",separatorColor:"#4d4d4d"},closableTabs:{fontFamily:c,containerBackgroundColor:"#252525",backgroundColor:"#303030",textColor:"#878787",selectedBackgroundColor:"#3c4698",selectedTextColor:"#EEE",width:200,height:32,closeButtonWidth:24},imageThumbnail:{selectedBorderColor:"#4c92ff"},list:{itemsBackgroundColor:"#494949"},searchBar:{backgroundColor:"#494949"},listItem:{groupBackgroundColor:"#252525",groupTextColor:"#AAA",deprecatedGroupTextColor:"#888",separatorColor:"#4d4d4d",selectedBackgroundColor:"#4c92ff",selectedTextColor:"#EEE",rightIconColor:"#fff",selectedRightIconColor:"#fff",errorTextColor:"#ff2e16",warningTextColor:"#ffb032",selectedErrorBackgroundColor:"#ff2e16",selectedWarningBackgroundColor:"#ffb032"},emptyMessage:{shadowColor:"#000"},logo:{src:"res/GD-logo.png"},mosaicRootClassName:"mosaic-gd-dark-theme",eventsSheetRootClassName:"gd-events-sheet-dark-theme",tableRootClassName:"gd-table-dark-theme",markdownRootClassName:"gd-markdown-dark-theme",gdevelopIconsCSSFilter:""},muiThemeOptions:{typography:{fontFamily:c},palette:{type:"dark",common:{black:"rgba(110, 42, 42, 1)",white:"#fff"},background:{paper:"#303030",default:"#252525"},primary:{light:Object(s.e)("#2c6bf5",.05),main:"#2c6bf5",dark:Object(s.a)("#2c6bf5",.05),contrastText:"#fff"},secondary:{light:Object(s.e)("#EEE",.05),main:"#EEE",dark:Object(s.a)("#EEE",.05),contrastText:"#000"},text:{primary:"#DDD",secondary:"#CCC",disabled:"#888888",hint:"#CCC"}},overrides:{MuiTypography:{h6:{fontWeight:400}},MuiInput:{input:{padding:0,paddingBottom:3},underline:{"&:before":{borderBottom:"1px solid #444444"}}},MuiAppBar:{colorPrimary:{backgroundColor:"#3c4698"}},MuiIconButton:{root:{color:"#fff"}},MuiListItemIcon:{root:{color:"#fff"}},MuiListItem:{secondaryAction:{paddingRight:40},gutters:{paddingRight:8}},MuiListItemSecondaryAction:{root:{right:8}},MuiTabs:{root:{backgroundColor:"#3c4698",minHeight:32}},MuiTab:{textColorPrimary:{color:"#fff !important"},root:{paddingTop:0,paddingBottom:0,minHeight:32}},MuiButtonBase:{root:{cursor:"default"}},MuiTableCell:{sizeSmall:{paddingTop:0,paddingBottom:0}},MuiDialogTitle:{root:{padding:8}},MuiDialogContent:{root:{padding:8}},MuiFormControl:{marginDense:{marginTop:0,marginBottom:0}},MuiCheckbox:{root:{marginTop:-9,marginBottom:-9}},MuiButton:{root:{borderRadius:0,fontWeight:400}}}}},u=(n(1080),n(1081),n(1082),n(1083),"#ECEFF4"),d="#88C0D0",m="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, 'Helvetica Neue', Helvetica, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'",p={gdevelopTheme:{palette:{canvasColor:"#3B4252"},message:{warning:"#D08770",error:"#BF616A",valid:"#A3BE8C"},toolbar:{backgroundColor:"#2E3440",separatorColor:"#D8DEE9"},closableTabs:{fontFamily:m,containerBackgroundColor:"#2E3440",backgroundColor:"#3B4252",textColor:u,selectedBackgroundColor:d,selectedTextColor:"#2E3440",height:32,closeButtonWidth:24},imageThumbnail:{selectedBorderColor:d},list:{itemsBackgroundColor:"#4C566A"},searchBar:{backgroundColor:"#4C566A"},listItem:{groupBackgroundColor:"#2E3440",groupTextColor:u,deprecatedGroupTextColor:"#D8DEE9",separatorColor:"#4C566A",selectedBackgroundColor:d,selectedTextColor:"#2E3440",rightIconColor:"#D8DEE9",selectedRightIconColor:"#2E3440",errorTextColor:"#BF616A",warningTextColor:"#EBCB8B",selectedErrorBackgroundColor:"#BF616A",selectedWarningBackgroundColor:"#EBCB8B"},emptyMessage:{shadowColor:"#000"},logo:{src:"res/GD-logo-big.png"},mosaicRootClassName:"mosaic-gd-nord-theme",eventsSheetRootClassName:"gd-events-sheet-nord-theme",tableRootClassName:"gd-table-nord-theme",markdownRootClassName:"gd-markdown-nord-theme",gdevelopIconsCSSFilter:"hue-rotate(-15deg) saturate(57%) brightness(120%)"},muiThemeOptions:{typography:{fontFamily:m},palette:{type:"dark",common:{black:"rgba(110, 42, 42, 1)",white:"#fff"},background:{paper:"#3B4252",default:"#2E3440"},primary:{light:Object(s.e)(d,.05),main:d,dark:Object(s.a)(d,.05),contrastText:"#2E3440"},secondary:{light:Object(s.e)(u,.05),main:u,dark:Object(s.a)(u,.05),contrastText:"#3B4252"},text:{primary:u,secondary:"#E5E9F0",disabled:"#D8DEE9",hint:"#E5E9F0"}},overrides:{MuiTypography:{h6:{fontWeight:400}},MuiListItem:{secondaryAction:{paddingRight:40},gutters:{paddingRight:8}},MuiListItemSecondaryAction:{root:{right:8}},MuiInput:{input:{padding:0,paddingBottom:3},underline:{"&:before":{borderBottom:"1px solid ##D8DEE9"}}},MuiAppBar:{colorPrimary:{backgroundColor:d}},MuiIconButton:{root:{color:"#D8DEE9"}},MuiListItemIcon:{root:{color:"#D8DEE9"}},MuiTabs:{root:{backgroundColor:"#81A1C1",minHeight:32}},MuiTab:{textColorPrimary:{color:"#ECEFF4 !important"},root:{paddingTop:0,paddingBottom:0,minHeight:32}},MuiButtonBase:{root:{cursor:"default"}},MuiTableCell:{sizeSmall:{paddingTop:0,paddingBottom:0}},MuiDialogTitle:{root:{padding:8}},MuiDialogContent:{root:{padding:8}},MuiFormControl:{marginDense:{marginTop:0,marginBottom:0}},MuiCheckbox:{root:{marginTop:-9,marginBottom:-9}},MuiButton:{root:{borderRadius:0,fontWeight:400}}}}},f=(n(1084),n(1085),n(1086),n(1087),"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, 'Helvetica Neue', Helvetica, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"),h={gdevelopTheme:{palette:{canvasColor:"#002B36"},message:{warning:"#ffa500",error:"#f00",valid:"#00db00"},toolbar:{backgroundColor:"#00212B",separatorColor:"#003847"},closableTabs:{fontFamily:f,containerBackgroundColor:"#00212B",backgroundColor:"#002B36",textColor:"#878787",selectedBackgroundColor:"#047AA6",selectedTextColor:"#EEE",width:400,height:32,closeButtonWidth:24},imageThumbnail:{selectedBorderColor:"#047AA6"},list:{itemsBackgroundColor:"#003847"},searchBar:{backgroundColor:"#003847"},listItem:{groupBackgroundColor:"#00212B",groupTextColor:"#AAA",deprecatedGroupTextColor:"#888",separatorColor:"#003847",selectedBackgroundColor:"#047AA6",selectedTextColor:"#EEE",rightIconColor:"#fff",selectedRightIconColor:"#fff",errorTextColor:"#ff2e16",warningTextColor:"#ffb032",selectedErrorBackgroundColor:"#ff2e16",selectedWarningBackgroundColor:"#ffb032"},emptyMessage:{shadowColor:"#000"},logo:{src:"res/GD-logo-big.png"},mosaicRootClassName:"mosaic-gd-solarized-dark-theme",eventsSheetRootClassName:"gd-events-sheet-solarized-dark-theme",tableRootClassName:"gd-table-solarized-dark-theme",markdownRootClassName:"gd-markdown-solarized-dark-theme",gdevelopIconsCSSFilter:"hue-rotate(-15deg) saturate(70%) brightness(90%)"},muiThemeOptions:{typography:{fontFamily:f},palette:{type:"dark",common:{black:"rgba(110, 42, 42, 1)",white:"#fff"},background:{paper:"#002B36",default:"#00212B"},primary:{light:Object(s.e)("#047AA6",.05),main:"#047AA6",dark:Object(s.a)("#047AA6",.05),contrastText:"#fff"},secondary:{light:Object(s.e)("#EEE",.05),main:"#EEE",dark:Object(s.a)("#EEE",.05),contrastText:"#000"},text:{primary:"#DDD",secondary:"#CCC",disabled:"#888888",hint:"#CCC"}},overrides:{MuiTypography:{h6:{fontWeight:400}},MuiInput:{input:{padding:0,paddingBottom:3},underline:{"&:before":{borderBottom:"1px solid #444444"}}},MuiAppBar:{colorPrimary:{backgroundColor:"#047AA6"}},MuiIconButton:{root:{color:"#fff"}},MuiListItemIcon:{root:{color:"#fff"}},MuiListItem:{secondaryAction:{paddingRight:40},gutters:{paddingRight:8}},MuiListItemSecondaryAction:{root:{right:8}},MuiTabs:{root:{backgroundColor:"#047AA6",minHeight:32}},MuiTab:{textColorPrimary:{color:"#fff !important"},root:{paddingTop:0,paddingBottom:0,minHeight:32}},MuiButtonBase:{root:{cursor:"default"}},MuiTableCell:{sizeSmall:{paddingTop:0,paddingBottom:0}},MuiDialogTitle:{root:{padding:8}},MuiDialogContent:{root:{padding:8}},MuiFormControl:{marginDense:{marginTop:0,marginBottom:0}},MuiCheckbox:{root:{marginTop:-9,marginBottom:-9}},MuiButton:{root:{borderRadius:0,fontWeight:400}}}}};n(1088);n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b}));var g={[i.b]:i.a,Dark:l,Nord:p,"Solarized Dark":h};function b(e){var t=e.themeName,n=e.language,a=g[t];a||(console.warn("Theme '".concat(t,"' is unavailable; '").concat(i.b,"' is used")),a=g[i.b]);var o,s=(o=n,!r.has(o)),c=a,l=c.gdevelopTheme,u=c.muiThemeOptions;return{gdevelopTheme:l,muiTheme:s?v(u):E(u)}}var v=o((function(e){return Object(a.a)(e)})),E=o((function(e){return Object(a.a)(e,{overrides:j})})),y={direction:"rtl"},j={MuiTypography:{root:y},MuiInput:{root:y},MuiTab:{root:y},MuiButton:{label:y},MuiSvgIcon:{root:{order:100}},MuiFormControlLabel:{root:y},MuiTextField:{root:y}};i.a.gdevelopTheme,v(i.a.muiThemeOptions)},910:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(90),d=n(87),m=n(157),p=n(79),f=n(9),h=n(3),g=n(228),b=n(102),v=n(85),E=n(160),y=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return l.a.createElement(p.a,{noMargin:!0},l.a.createElement(p.b,null,l.a.createElement(p.a,null,l.a.createElement(v.a,null,l.a.createElement(s.Trans,{id:"Tutorials are available on GDevelop wiki. Choose a tutorial to read:"})))),l.a.createElement(p.b,null,l.a.createElement(p.a,{expand:!0,noMargin:!0},l.a.createElement(b.a,null,l.a.createElement(b.b,{primaryText:l.a.createElement(s.Trans,{id:"Geometry Monster Tutorial"}),secondaryText:l.a.createElement(s.Trans,{id:"Make a hyper-casual mobile game where the player must grab shapes and avoid bombs."}),onClick:function(){Object(f.q)("Geometry Monster"),h.b.openExternalURL(Object(g.a)("/tutorials/geometry-monster"))}}),l.a.createElement(b.b,{primaryText:l.a.createElement(s.Trans,{id:"Platformer Tutorial"}),secondaryText:l.a.createElement(s.Trans,{id:"Make a platform game from scratch."}),onClick:function(){Object(f.q)("Platformer"),h.b.openExternalURL(Object(g.a)("/tutorials/platform-game/start"))}}),l.a.createElement(b.b,{primaryText:l.a.createElement(s.Trans,{id:"Tank Shooter Tutorial"}),secondaryText:l.a.createElement(s.Trans,{id:"Make a simple tank shooter game from scratch."}),onClick:function(){Object(f.q)("Tank Shooter"),h.b.openExternalURL(Object(g.a)("/tutorials/tank-shooter"))}}),l.a.createElement(E.a,null,l.a.createElement(s.Trans,{id:"Community Tutorials"})),l.a.createElement(b.b,{primaryText:l.a.createElement(s.Trans,{id:"Endless Runner Tutorial"}),secondaryText:l.a.createElement(s.Trans,{id:"Make a simple game where the player must jump on platforms for as long as possible."}),secondaryTextLines:2,onClick:function(){Object(f.q)("Endless Runner"),h.b.openExternalURL(Object(g.a)("/tutorials/endless-runner"))}}),l.a.createElement(b.b,{primaryText:l.a.createElement(s.Trans,{id:"Endless Car Game Tutorial"}),secondaryText:l.a.createElement(s.Trans,{id:"Create a simple game where you must dodge the cars on the road."}),secondaryTextLines:2,onClick:function(){Object(f.q)("Endless Car Game"),h.b.openExternalURL(Object(g.a)("/tutorials/roadrider"))}}),l.a.createElement(b.b,{primaryText:l.a.createElement(s.Trans,{id:"Breakout Tutorial"}),secondaryText:l.a.createElement(s.Trans,{id:"Create a simple breakout game where you must destroy all the bricks on the screen."}),secondaryTextLines:2,onClick:function(){Object(f.q)("Breakout"),h.b.openExternalURL(Object(g.a)("/tutorials/breakout"))}})))))}}]),n}(c.PureComponent),j=n(209),O=n(139),C=function(){return l.a.createElement(s.I18n,null,(function(e){var t=e.i18n;return l.a.createElement(p.a,{noMargin:!0},l.a.createElement(p.b,null,l.a.createElement(p.a,null,l.a.createElement(v.a,null,l.a.createElement(s.Trans,{id:"Explore video tutorials to learn how to make specific features in your game:"})))),l.a.createElement(p.b,null,l.a.createElement(p.a,{expand:!0,noMargin:!0},l.a.createElement(b.a,null,Object(j.a)().map((function(e){return l.a.createElement(b.b,{key:e.identifier,leftIcon:l.a.createElement(O.a,{iconWidth:120,iconHeight:60,src:e.iconSrc}),primaryText:e.name,secondaryText:t._(e.message),onClick:function(){Object(f.q)(e.identifier),h.b.openExternalURL(e.link)}})}))))))}))};n.d(t,"a",(function(){return x}));var x=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={currentTab:"starters",outputPath:""},e._onChangeTab=function(t){e.setState({currentTab:t})},e._showExamples=function(){return e._onChangeTab("examples")},e._onExamplesLoaded=function(){e.forceUpdate()},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.open,a=t.onClose,r=t.onOpen,o=t.onCreate;if(!n)return null;var i=this.props.examplesComponent,l=this.props.startersComponent;return c.createElement(u.a,{title:c.createElement(s.Trans,{id:"Create a new game"}),actions:[c.createElement(d.a,{key:"close",label:c.createElement(s.Trans,{id:"Close"}),primary:!1,onClick:a})],cannotBeDismissed:!1,onRequestClose:a,open:n,noMargin:!0},c.createElement(p.a,{noMargin:!0},c.createElement(m.b,{value:this.state.currentTab,onChange:this._onChangeTab},c.createElement(m.a,{label:c.createElement(s.Trans,{id:"Starters"}),value:"starters"}),c.createElement(m.a,{label:c.createElement(s.Trans,{id:"Examples"}),value:"examples"}),c.createElement(m.a,{label:c.createElement(s.Trans,{id:"Tutorials"}),value:"tutorials"}),c.createElement(m.a,{label:c.createElement(s.Trans,{id:"Videos"}),value:"video-tutorials"})),"starters"===this.state.currentTab&&c.createElement(l,{onOpen:r,onCreate:o,onChangeOutputPath:function(t){return e.setState({outputPath:t})},onShowExamples:this._showExamples,outputPath:this.state.outputPath}),"examples"===this.state.currentTab&&c.createElement(i,{onOpen:r,onCreate:o,onChangeOutputPath:function(t){return e.setState({outputPath:t})},onExamplesLoaded:this._onExamplesLoaded,outputPath:this.state.outputPath}),"tutorials"===this.state.currentTab&&c.createElement(y,null),"video-tutorials"===this.state.currentTab&&c.createElement(C,null)))}}]),n}(c.Component)},911:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(2),c=n(178),l=n.n(c),u=n(26),d=n(77),m=n(97),p=n(128),f=n(226),h=n(79),g=n(3),b=n(126),v=n(87),E=n(89),y=function(e){var t=e.releases,n=e.error,a=e.currentReleaseName,r=function(){return g.b.openExternalURL("https://github.com/4ian/GDevelop/releases")};if(n)return s.createElement(h.a,null,s.createElement(h.b,null,s.createElement(b.a,{kind:"warning"},s.createElement(d.Trans,{id:"Please double check online the changes to make sure that you are aware of anything new in this version that would require you to adapt your project."}))),s.createElement(h.b,null,s.createElement(m.a,null,s.createElement(d.Trans,{id:"Unable to load the information about the latest GDevelop releases. Verify your internet connection or retry later."}))),s.createElement(h.b,{justifyContent:"center"},s.createElement(E.a,{label:s.createElement(d.Trans,{id:"See the releases notes online"}),onClick:r})));if(!t)return s.createElement(p.a,null);var o=function(e,t){return e.find((function(e){return e.name===t}))}(t,a),i=!!o&&-1!==(o.description||"").toLowerCase().indexOf("breaking change");return s.createElement(h.a,null,i&&s.createElement(b.a,{kind:"warning"},"This version of GDevelop has a breaking change. Please make sure to read the changes below to understand if any change or adaptation must be made to your project."),t.map((function(e){return e.name?s.createElement(f.a,{key:e.name,source:"# Version "+e.name+"\n---\n"+(e.description||"Changes and new features description will be available soon."),isStandaloneText:!0}):null})),s.createElement(h.b,{justifyContent:"center"},s.createElement(v.a,{label:s.createElement(d.Trans,{id:"See all the releases notes"}),onClick:r})))},j=n(10);n.d(t,"a",(function(){return O}));var O=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={releases:null,error:null},e._onUpdated=function(){e.props.onUpdated&&e.props.onUpdated()},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;l.a.get("".concat(u.h.baseUrl,"/release"),{params:{last:4}}).then((function(e){return e.data})).then((function(t){return e.setState({releases:t,error:null},e._onUpdated)})).catch((function(t){return e.setState({error:t},e._onUpdated)}))}},{key:"render",value:function(){var e=this.state,t=e.releases,n=e.error;return s.createElement(y,{releases:t,error:n,currentReleaseName:Object(j.b)()})}}]),n}(s.Component)},912:function(e,t,n){"use strict";var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(77),l=n(2),u=n(322),d=n(270),m=n(102),p=n(150),f=n(104),h=n(204),g=n(157),b=n(160),v=n(186),E=n(777),y=n(139),j=n(271),O=n(187),C=n(768),x=n(769),T=n(97),S=n(269);n.d(t,"a",(function(){return w}));var k={searchBar:{flexShrink:0}},w=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={searchText:"",selectedObjectTags:[]},e._searchBar=l.createRef(),e._scrollView=l.createRef(),e._selectedItem=l.createRef(),e.instructionsInfo=Object(d.b)(e.props.isCondition),e.instructionsInfoTree=Object(u.a)(e.instructionsInfo),e.initialInstructionTypePath=Object(u.b)(e.instructionsInfoTree,e.props.chosenInstructionType),e._getAllObjectTags=function(){var t=e.props,n=t.globalObjectsContainer,a=t.objectsContainer,r=new Set;return Object(v.c)(n,a).allObjectsList.forEach((function(e){var t=e.object;Object(S.c)(t.getTags()).forEach((function(e){return r.add(e)}))})),Array.from(r)},e._buildObjectTagsMenuTemplate=function(t){var n=e.state.selectedObjectTags;return Object(S.a)({noTagLabel:t._({id:"No tags - add a tag to an object first"}),getAllTags:e._getAllObjectTags,selectedTags:n,onChange:function(t){e.setState({selectedObjectTags:t})}})},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&Object(p.b)()&&this._searchBar.current&&this._searchBar.current.focus(),this._selectedItem.current&&this._scrollView.current&&this._scrollView.current.scrollTo(this._selectedItem.current)}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.globalObjectsContainer,o=t.objectsContainer,i=t.project,s=t.chosenInstructionType,u=t.onChooseInstruction,S=t.chosenObjectName,w=t.onChooseObject,N=t.isCondition,_=t.currentTab,P=t.onChangeTab,I=t.onSearchStartOrReset,R=this.state,B=R.searchText,M=R.selectedObjectTags,F=r!==i,A=Object(v.d)(r,o),L=A.allObjectsList,D=A.allGroupsList,U=Object(v.f)(L,{searchText:B,selectedTags:M}),V=M.length?[]:Object(v.e)(D,B),W=Object(d.d)(this.instructionsInfo,{searchText:B}),G=!!B,z=!G||!!U.length||!!V.length||!!W.length,H=function(){G&&(U.length>0?w(U[0].object.getName()):V.length>0?w(V[0].group.getName()):W.length>0&&u(W[0].type,W[0]))};return l.createElement(c.I18n,{key:"tags"},(function(t){var r=t.i18n;return l.createElement(f.a,null,(function(t){return l.createElement("div",{style:Object(a.a)({backgroundColor:t.list.itemsBackgroundColor,minHeight:400},n)},l.createElement(p.a,{value:B,onChange:function(t){var n=e.state.searchText;e.setState({searchText:t}),(!n&&t||n&&!t)&&I&&I()},onRequestSearch:H,buildTagsMenuTemplate:function(){return e._buildObjectTagsMenuTemplate(r)},style:k.searchBar,ref:e._searchBar}),!G&&l.createElement(g.b,{value:_,onChange:P},l.createElement(g.a,{label:l.createElement(c.Trans,{id:"Objects"}),value:"objects"}),l.createElement(g.a,{label:N?l.createElement(c.Trans,{id:"Other conditions"}):l.createElement(c.Trans,{id:"Other actions"}),value:"free-instructions"})),l.createElement(h.a,{ref:e._scrollView},!G&&"objects"===_&&l.createElement(E.a,{tags:M,onChange:function(t){return e.setState({selectedObjectTags:t})}}),z&&l.createElement(m.a,null,(G||"objects"===_)&&U.map((function(e){return function(e){var t=e.project,n=e.objectWithContext,a=e.iconSize,r=e.onClick,o=e.selectedValue,i=n.object.getName();return l.createElement(m.b,{key:Object(j.d)(n),selected:o===Object(j.e)(i),primaryText:i,leftIcon:l.createElement(y.a,{iconSize:a,src:O.a.getThumbnail(t,n.object)}),onClick:r})}({project:i,objectWithContext:e,iconSize:24,onClick:function(){return w(e.object.getName())},selectedValue:S?Object(j.e)(S):void 0})})),(G||"objects"===_)&&V.length>0&&l.createElement(b.a,null,l.createElement(c.Trans,{id:"Object groups"})),(G||"objects"===_)&&V.map((function(e){return function(e){var t=e.groupWithContext,n=e.iconSize,a=e.onClick,r=e.selectedValue,o=t.group.getName();return l.createElement(m.b,{key:Object(j.c)(t),selected:r===Object(j.e)(o),primaryText:o,leftIcon:l.createElement(y.a,{iconSize:n,src:"res/ribbon_default/objectsgroups64.png"}),onClick:a})}({groupWithContext:e,iconSize:24,onClick:function(){return w(e.group.getName())},selectedValue:S?Object(j.e)(S):void 0})})),G&&W.length>0&&l.createElement(b.a,null,N?l.createElement(c.Trans,{id:"Non-objects and other conditions"}):l.createElement(c.Trans,{id:"Non-objects and other actions"})),G&&W.map((function(e){return Object(C.a)({instructionOrExpressionMetadata:e,iconSize:24,onClick:function(){return u(e.type,e)},selectedValue:s?Object(j.b)(s):void 0})})),!G&&"free-instructions"===_&&Object(x.a)({instructionTreeNode:e.instructionsInfoTree,onChoose:u,iconSize:24,selectedValue:s?Object(j.b)(s):void 0,initiallyOpenedPath:e.initialInstructionTypePath,selectedItemRef:e._selectedItem})),!G&&"objects"===_&&!L.length&&l.createElement(T.a,null,F?l.createElement(c.Trans,{id:"There are no objects. Objects will appear if you add some as parameters."}):l.createElement(c.Trans,{id:"There is no object in your game or in this scene. Start by adding an new object in the scene editor, using the objects list."})),!z&&l.createElement(T.a,null,l.createElement(c.Trans,{id:"Nothing corresponding to your search. Choose an object first or browse the list of actions/conditions."}))))}))}))}}]),n}(l.PureComponent)},913:function(e,t,n){"use strict";var a=n(2),r=n(150),o=n(79),i=n(123),s=n(204),c=n(417),l=n(836),u=n(839),d=n(83),m=n(77),p=n(2458),f=n(85),h=n(842),g=n.n(h),b=n(843),v=n.n(b),E=n(844),y=n.n(E),j=n(89),O=n(229),C={previewBackground:{background:'url("res/transparentback.png") repeat',display:"flex",justifyContent:"center",alignItems:"center"},previewImage:{objectFit:"contain",verticalAlign:"middle",pointerEvents:"none"},previewIcon:{width:40,height:40},cardContainer:{overflow:"hidden",position:"relative"},titleContainer:{position:"absolute",bottom:0,left:0,right:0,height:48,color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"rgb(0,0,0,0.5)"},title:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},icon:{width:32,height:32},audioElement:{width:128,height:40}},x=function(e){var t=e.resource,n=e.onChoose,r=e.size,o=e.imageStyle;return a.createElement(p.a,{onClick:n,focusRipple:!0},a.createElement("div",{style:Object(d.a)(Object(d.a)({},C.cardContainer),{},{width:r,height:r})},a.createElement("div",{style:Object(d.a)(Object(d.a)({},C.previewBackground),{},{width:r,height:r})},a.createElement(O.a,{key:t.url,style:Object(d.a)(Object(d.a)({},C.previewImage),{},{maxWidth:108,maxHeight:108},o),src:t.url,alt:t.name})),a.createElement("div",{style:C.titleContainer},a.createElement(f.a,{noMargin:!0,style:C.title},t.name),a.createElement(f.a,{noMargin:!0,style:C.title,size:"body2"},t.license))))},T=function(e){var t=e.resource,n=(e.onChoose,e.size),r=e.children;return a.createElement("div",{style:Object(d.a)(Object(d.a)({},C.cardContainer),{},{width:n,height:n})},a.createElement(o.a,null,r),a.createElement("div",{style:C.titleContainer},a.createElement(f.a,{noMargin:!0,style:C.title},t.name),a.createElement(f.a,{noMargin:!0,style:C.title,size:"body2"},t.license)))},S=function(e){var t=e.resource,n=e.onChoose,r=e.size;switch(t.type){case"image":return a.createElement(x,{resource:t,onChoose:n,size:r});case"svg":return a.createElement(x,{resource:t,onChoose:n,size:r,imageStyle:C.previewIcon});case"audio":return a.createElement(T,{onChoose:n,resource:t,size:r},a.createElement(o.b,{justifyContent:"center"},a.createElement("audio",{controls:!0,src:t.url,style:C.audioElement},"Audio preview is unsupported.")),a.createElement(o.b,{justifyContent:"center"},a.createElement(j.a,{onClick:n,label:a.createElement(m.Trans,{id:"Choose"})})));case"json":return a.createElement(T,{onChoose:n,resource:t,size:r},a.createElement(o.b,{justifyContent:"center"},a.createElement(g.a,{style:C.icon})),a.createElement(o.b,{justifyContent:"center"},a.createElement(j.a,{onClick:n,label:a.createElement(m.Trans,{id:"Choose"})})));case"video":return a.createElement(T,{onChoose:n,resource:t,size:r},a.createElement(o.b,{justifyContent:"center"},a.createElement(v.a,{style:C.icon})),a.createElement(o.b,{justifyContent:"center"},a.createElement(j.a,{onClick:n,label:a.createElement(m.Trans,{id:"Choose"})})));case"font":return a.createElement(T,{onChoose:n,resource:t,size:r},a.createElement(o.b,{justifyContent:"center"},a.createElement(y.a,{style:C.icon})),a.createElement(o.b,{justifyContent:"center"},a.createElement(j.a,{onClick:n,label:a.createElement(m.Trans,{id:"Choose"})})));default:return null}};n.d(t,"a",(function(){return w}));var k={searchBar:{flexShrink:0}},w=function(e){var t=e.onChoose,n=e.resourceKind,d=a.useContext(l.a),m=d.filters,p=d.searchResults,f=d.error,h=d.fetchResourcesAndFilters,g=d.filtersState,b=d.searchText,v=d.setSearchText;a.useEffect((function(){h()}),[h]);var E=p?p.filter((function(e){return e.type===n})):null;return a.createElement(o.a,{expand:!0,noMargin:!0,useFullHeight:!0},a.createElement(r.a,{value:b,onChange:v,onRequestSearch:function(){},style:k.searchBar}),a.createElement(o.b,{overflow:"hidden"},a.createElement(i.a,{noFullHeight:!0,noExpand:!0,width:250},a.createElement(s.a,null,a.createElement(c.a,{allFilters:m,filtersState:g,error:f}))),a.createElement(u.a,{onRetry:h,error:f,searchItems:E,renderSearchItem:function(e,n){return a.createElement(S,{size:n,resource:e,onChoose:function(){return t(e)}})}})))}},914:function(e,t,n){"use strict";var a=n(120),r=n.n(a),o=n(133),i=n(98),s=n(77),c=n(2),l=n(2387),u=n(902),d=n(87),m=n(79),p=n(498),f=n(500),h=n.n(f),g=n(90),b=n(157),v=n(109),E=n(96),y=n(97),j=n(85),O=n(178),C=n.n(O),x=n(26),T=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o){var i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return i=e.sent,e.next=5,C.a.get("".concat(x.a.baseUrl,"/game-metrics"),{params:{userId:n,gameId:a,dayIsoDate:o},headers:{Authorization:i},validateStatus:function(e){return e>=200&&e<300||404===e}});case 5:if(404!==(s=e.sent).status){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),S=n(212),k=n(236),w=n(117),N=n(118),_=n(2380),P=n(161),I=n(126),R=n(2286),B=n(89),M=n(3),F=n(110);n.d(t,"a",(function(){return L}));var A={bigIcon:{width:48,height:48,marginTop:8}},L=function(e){var t=e.game,n=e.project,a=e.initialTab,f=e.onClose,O=e.onGameUpdated,C=e.onGameDeleted,x=c.useContext(S.a),L=x.getAuthorizationHeader,D=x.profile,U=c.useState(a),V=Object(i.a)(U,2),W=V[0],G=V[1],z=c.useState(null),H=Object(i.a)(z,2),K=H[0],Y=H[1],X=c.useState(null),J=Object(i.a)(X,2),q=J[0],Z=J[1],Q=c.useState(!1),$=Object(i.a)(Q,2),ee=$[0],te=$[1],ne=Object(l.a)(Object(R.a)(new Date,1),{representation:"date"}),ae=c.useState(ne),re=Object(i.a)(ae,2),oe=re[0],ie=re[1],se=c.useCallback(Object(o.a)(r.a.mark((function e(){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return");case 2:return n=D.uid,te(!0),Z(null),e.prev=5,e.next=8,T(L,n,t.id,oe);case 8:a=e.sent,Y(a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Unable to load game rolling metrics:",e.t0),Z(e.t0);case 16:te(!1);case 17:case"end":return e.stop()}}),e,null,[[5,12]])}))),[L,D,t,oe]);c.useEffect((function(){se()}),[se]);var ce=function(){var e=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(D){e.next=4;break}return e.abrupt("return");case 4:return t=D.uid,e.prev=5,e.next=8,Object(p.e)(L,t,{authorName:n.getAuthor(),gameId:n.getProjectUuid(),gameName:n.getName()});case 8:a=e.sent,O(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Unable to update the game:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(o.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return");case 2:return n=D.uid,e.prev=3,e.next=6,Object(p.a)(L,n,t.id);case 6:C(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error("Unable to delete the game:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}();return c.createElement(g.a,{title:c.createElement("span",null,t.gameName," - ",c.createElement(s.Trans,{id:"Dashboard"})),open:!0,noMargin:!0,onRequestClose:f,maxWidth:"md",actions:[c.createElement(d.a,{label:c.createElement(s.Trans,{id:"Close"}),onClick:f,key:"close"})],secondaryActions:[c.createElement(F.a,{key:"help",helpPagePath:"/interface/games-dashboard"})]},c.createElement(b.b,{value:W,onChange:G},c.createElement(b.a,{label:c.createElement(s.Trans,{id:"Details"}),value:"details"}),c.createElement(b.a,{label:c.createElement(s.Trans,{id:"Analytics"}),value:"analytics"}),c.createElement(b.a,{label:c.createElement(s.Trans,{id:"Monetization"}),value:"monetization"})),c.createElement(m.b,null,"details"===W?c.createElement(E.a,{expand:!0},c.createElement(j.a,null,c.createElement(s.Trans,{id:"Registered on {0}.",values:{0:Object(u.a)(1e3*t.createdAt,"yyyy-MM-dd")}})),c.createElement(v.a,{fullWidth:!0,disabled:!0,value:t.gameName,onChange:function(){},floatingLabelText:c.createElement(s.Trans,{id:"Game name"})}),c.createElement(v.a,{fullWidth:!0,disabled:!0,value:t.authorName,onChange:function(){},floatingLabelText:c.createElement(s.Trans,{id:"Author name"})}),c.createElement(m.b,{noMargin:!0,justifyContent:"space-between"},c.createElement(d.a,{onClick:function(){M.b.showConfirmDialog("Are you sure you want to unregister this game? You won't get access to analytics and metrics, unless you register it again.")&&le()},label:c.createElement(s.Trans,{id:"Unregister this game"})}),function(e,t){return!!e&&(e.getAuthor()!==t.authorName||e.getName()!==t.gameName)}(n,t)?c.createElement(B.a,{primary:!0,onClick:function(){ce()},label:c.createElement(s.Trans,{id:"Update the game details from the project"})}):null)):null,"analytics"===W?q?c.createElement(k.a,{onRetry:function(){se()}},c.createElement(s.Trans,{id:"There was an issue getting the game analytics."})," ",c.createElement(s.Trans,{id:"Verify your internet connection or try again later."})):c.createElement(E.a,{expand:!0},c.createElement(m.b,{noMargin:!0},c.createElement(w.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:"Day"}),value:oe,onChange:function(e,t,n){ie(n)}},Array(5).fill("").map((function(e,t){var n=Object(l.a)(Object(R.a)(new Date,t+2),{representation:"date"});return c.createElement(N.a,{key:n,value:n,primaryText:n})})).reverse(),c.createElement(N.a,{value:ne,primaryText:{id:"Yesterday"}}),c.createElement(N.a,{value:Object(l.a)(new Date,{representation:"date"}),primaryText:{id:"Today (so far, in real time)"}}))),ee||K?null:c.createElement(I.a,{kind:"warning"},c.createElement(s.Trans,{id:"There were no players or stored metrics for this day. Be sure to publish your game and get players to try it to see the collected anonymous analytics."})),c.createElement(m.b,{noMargin:!0,alignItems:"center"},c.createElement(j.a,{size:"title"},c.createElement(s.Trans,{id:"Main metrics"})),c.createElement(m.c,null),ee&&c.createElement(_.a,{size:20})),c.createElement(P.a,null,c.createElement(P.b,null,c.createElement(P.e,null,c.createElement(P.f,null,c.createElement(s.Trans,{id:"Players count"})),c.createElement(P.f,null,K&&K.players?K.players.d0Players:"-")),c.createElement(P.e,null,c.createElement(P.f,null,c.createElement(s.Trans,{id:"Sessions count"})),c.createElement(P.f,null,K&&K.sessions?K.sessions.d0Sessions:"-")),c.createElement(P.e,null,c.createElement(P.f,null,c.createElement(s.Trans,{id:"New players count"})),c.createElement(P.f,null,K&&K.players?K.players.d0NewPlayers:"-")))),!K||K.retention&&K.players?null:c.createElement(I.a,{kind:"info"},"Upgrade your account with a subscription to unlock all the metrics for your game."),c.createElement(m.b,{noMargin:!0,alignItems:"center"},c.createElement(j.a,{size:"title"},c.createElement(s.Trans,{id:"Retention of players"})),c.createElement(m.c,null),ee&&c.createElement(_.a,{size:20})),c.createElement(P.a,null,c.createElement(P.b,null,[1,2,3,4,5,6,7].map((function(e){return c.createElement(P.e,{key:e},c.createElement(P.f,null,c.createElement(s.Trans,{id:"Day {dayIndex} retained players",values:{dayIndex:e}})),c.createElement(P.f,null,K&&K.retention&&null!=K.retention["d".concat(e,"RetainedPlayers")]?K.retention["d".concat(e,"RetainedPlayers")]:"-"))}))))):null,"monetization"===W?c.createElement(E.a,{expand:!0},c.createElement(m.b,{noMargin:!0,justifyContent:"center"},c.createElement(h.a,{color:"disabled",style:A.bigIcon})),c.createElement(y.a,null,"Services to help monetization of your game will be added later in this panel.")):null))}},915:function(e,t,n){"use strict";var a=n(6),r=n(12),o=n(23),i=n(22),s=n(77),c=n(2),l=n.n(c),u=n(502),d=n(102),m=n(128),p=n(90),f=n(87),h=n(265),g=n(236),b=n(226),v=n(85),E=n(126),y=n(10),j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={extensionHeader:null,error:null},e._loadExtensionheader=function(){e.setState({error:null}),Object(u.b)(e.props.extensionShortHeader).then((function(t){e.setState({extensionHeader:t})}),(function(t){e.setState({error:t})}))},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this._loadExtensionheader()}},{key:"render",value:function(){var e=this.props,t=e.isInstalling,n=e.extensionShortHeader,a=e.onClose,r=e.onInstall,o=e.alreadyInstalled,i=this.state,c=i.extensionHeader,d=i.error,j=Object(u.d)(Object(y.b)(),n);return l.a.createElement(p.a,{title:c?c.fullName:n.fullName,actions:[l.a.createElement(f.a,{key:"close",label:l.a.createElement(s.Trans,{id:"Back"}),primary:!1,onClick:a,disabled:t}),l.a.createElement(h.a,{isLoading:t,key:"install"},l.a.createElement(f.a,{label:j?o?l.a.createElement(s.Trans,{id:"Re-install/update"}):l.a.createElement(s.Trans,{id:"Install in project"}):l.a.createElement(s.Trans,{id:"Not compatible"}),primary:!0,onClick:r,disabled:t||!j}))],cannotBeDismissed:!1,open:!0,onRequestClose:a},!j&&l.a.createElement(E.a,{kind:"error"},l.a.createElement(s.Trans,{id:"Unfortunately, this extension requires a newer version of GDevelop to work. Upgrade GDevelop to be able to use this extension in your project."})),c?l.a.createElement(b.a,{source:c.description,isStandaloneText:!0}):l.a.createElement(v.a,null,n.shortDescription),!c&&!d&&l.a.createElement(m.a,null),!c&&d&&l.a.createElement(g.a,{onRetry:this._loadExtensionheader},l.a.createElement(s.Trans,{id:"Can't load the extension registry. Verify your internet connection or try again later."})))}}]),n}(c.Component),O=n(24),C=n(266),x=n(97),T=n(705),S=n(139),k=n(505);n.d(t,"a",(function(){return w}));var w=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isInstalling:!1,extensionsRegistry:null,selectedExtensionShortHeader:null,searchText:"",error:null,chosenTag:""},e._loadExtensionsRegistry=function(){e.setState({error:null}),Object(u.c)().then((function(t){e.setState({extensionsRegistry:t},(function(){e.props.onRegistryLoaded&&e.props.onRegistryLoaded()}))}),(function(t){e.setState({error:t})}))},e._install=function(t,n,a){var r=e.props.project;e.setState({isInstalling:!0}),Object(u.a)(a).then((function(t){return Object(k.a)(n,r,[t]).then((function(){e.setState({selectedExtensionShortHeader:null},(function(){return e.props.onNewExtensionInstalled()}))}))}),(function(e){Object(O.a)({message:t._({id:"Unable to download and install the extension. Verify that your internet connection is working or try again later."}),rawError:e,errorId:"download-extension-error"})})).then((function(){e.setState({isInstalling:!1})}))},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this._loadExtensionsRegistry()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.showOnlyWithBehaviors,r=this.state,o=r.selectedExtensionShortHeader,i=r.extensionsRegistry,c=r.searchText,u=r.isInstalling,p=r.error,f=r.chosenTag,h=i?function(e,t){var n=t.searchText,a=t.chosenTag,r=t.showOnlyWithBehaviors,o=e.filter((function(e){var t=e.eventsBasedBehaviorsCount;return!r||t>0}));if(!n&&!a)return o;var i=n.toLowerCase();return o.filter((function(e){var t=e.tags;return!a||-1!==t.indexOf(a)})).filter((function(e){var t=e.name,a=e.shortDescription;return!n||-1!==t.toLowerCase().indexOf(i)||-1!==a.toLowerCase().indexOf(i)}))}(i.extensionShortHeaders,{searchText:c,chosenTag:f,showOnlyWithBehaviors:a}):[];return l.a.createElement(s.I18n,null,(function(t){var a=t.i18n;return l.a.createElement(C.a.Consumer,null,(function(t){return l.a.createElement(l.a.Fragment,null,l.a.createElement(T.a,{value:c,onRequestSearch:function(){h.length&&e.setState({selectedExtensionShortHeader:h[0]})},onChange:function(t){return e.setState({searchText:t})},chips:i?i.allTags.map((function(e){return{text:e,value:e}})):null,chosenChip:f,onChooseChip:function(t){return e.setState({chosenTag:t})}}),l.a.createElement(d.a,null,!i&&!p&&l.a.createElement(m.a,null),!!i&&h.slice(0,40).map((function(t){var a=n.hasEventsFunctionsExtensionNamed(t.name);return l.a.createElement(d.b,{leftIcon:l.a.createElement(S.a,{useExactIconSize:!0,iconSize:40,src:t.previewIconUrl}),key:t.name,primaryText:l.a.createElement("span",null,t.fullName," ",a&&l.a.createElement(s.Trans,{id:"(already installed)"})),secondaryText:t.shortDescription,secondaryTextLines:2,onClick:function(){return e.setState({selectedExtensionShortHeader:t})}})})),!!i&&h.length>40&&l.a.createElement(x.a,null,l.a.createElement(s.Trans,{id:"There are other results not displayed. Enter more precise search criteria to find other extensions."})),!i&&p&&l.a.createElement(g.a,{onRetry:e._loadExtensionsRegistry},l.a.createElement(s.Trans,{id:"Can't load the extension registry. Verify your internet connection or try again later."}))),!!o&&l.a.createElement(j,{isInstalling:u,extensionShortHeader:o,alreadyInstalled:n.hasEventsFunctionsExtensionNamed(o.name),onInstall:function(){return e._install(a,t,o)},onClose:function(){return e.setState({selectedExtensionShortHeader:null})}}))}))}))}}]),n}(c.Component)},916:function(e,t,n){"use strict";var a=n(100),r=n(6),o=n(12),i=n(23),s=n(22),c=n(137),l=n(77),u=n(2),d=n.n(u),m=n(207),p=n(123),f=n(150),h=n(83),g=n(102),b=n(99),v=n(104),E=n(129),y={groupName:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},textField:{top:b.c}},j=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this;!e.editingName&&this.props.editingName&&setTimeout((function(){t.textField&&t.textField.focus()}),100)}},{key:"render",value:function(){var e=this,t=this.props,n=t.group,a=t.style,r=t.isGlobalGroup,o=n.getName(),i=this.props.editingName?d.a.createElement(b.b,{id:"rename-object-field",margin:"none",ref:function(t){return e.textField=t},defaultValue:o,onBlur:function(t){return e.props.onRename(t.target.value)},onKeyPress:function(t){Object(E.e)(t)&&e.textField.blur()},fullWidth:!0,style:y.textField}):d.a.createElement("div",{style:Object(h.a)(Object(h.a)({},y.groupName),{},{fontStyle:r?"italic":void 0,fontWeight:r?"bold":"normal"})},o);return d.a.createElement(v.a,null,(function(t){return d.a.createElement(l.I18n,null,(function(r){r.i18n;return d.a.createElement(g.b,{style:Object(h.a)({borderBottom:"1px solid ".concat(t.listItem.separatorColor)},a),primaryText:i,displayMenuButton:!0,buildMenuTemplate:function(t){return[{label:t._({id:"Edit group"}),click:function(){return e.props.onEdit(n)}},{label:t._({id:"Set as Global group"}),enabled:!e.props.isGlobalGroup,click:function(){return e.props.onSetAsGlobalGroup()},visible:!1!==e.props.canSetAsGlobalGroup},{label:t._({id:"Rename"}),enabled:!!e.props.onEdit,click:function(){return e.props.onEditName()}},{label:t._({id:"Delete"}),enabled:!!e.props.onEdit,click:function(){return e.props.onDelete()}}]},onClick:function(){e.props.editingName||e.props.onEdit(n)}})}))}))}}]),n}(d.a.Component),O=n(130),C=n(24),x=n(465),T=n(211),S=n(186),k=n(3);n.d(t,"a",(function(){return R}));var w={listContainer:{flex:1}},N=Object(T.SortableElement)((function(e){var t=e.style,n=Object(c.a)(e,["style"]);return d.a.createElement("div",{style:t},d.a.createElement(j,n))})),_=Object(T.SortableElement)((function(e){var t=e.style,n=Object(c.a)(e,["style"]);return d.a.createElement("div",{style:t},d.a.createElement(x.a,n))})),P=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"forceUpdateGrid",value:function(){this.list&&this.list.forceUpdateGrid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.height,a=t.width,r=t.fullList;return d.a.createElement(m.d,{ref:function(t){return e.list=t},height:n,rowCount:r.length,rowHeight:g.d,rowRenderer:function(t){var n=t.index,a=t.key,o=t.style,i=r[n];if("add-groups-row"===i.key)return d.a.createElement(_,{index:r.length,key:a,style:o,disabled:!0,onClick:e.props.onAddGroup,primaryText:d.a.createElement(l.Trans,{id:"Click to add a group"})});var s=e.props.renamedGroupWithScope&&e.props.renamedGroupWithScope.group===i.group&&e.props.renamedGroupWithScope.global===i.global;return d.a.createElement(N,{index:n,key:i.group.ptr,group:i.group,style:o,onEdit:e.props.onEditGroup?function(){return e.props.onEditGroup(i.group)}:void 0,onEditName:function(){return e.props.onEditName(i)},onDelete:function(){return e.props.onDelete(i)},onRename:function(t){return e.props.onRename(i,t)},editingName:s,isGlobalGroup:i.global,canSetAsGlobalGroup:e.props.canSetAsGlobalGroup,onSetAsGlobalGroup:i.global?void 0:function(){return e.props.onSetAsGlobalGroup(i)}})},width:a})}}]),n}(u.Component),I=Object(T.SortableContainer)(P,{withRef:!0}),R=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).objectGroupsList=[],e.globalObjectGroupsList=[],e.state={renamedGroupWithScope:null,searchText:""},e.addGroup=function(){var t=e.props,n=t.globalObjectGroups,a=t.objectGroups,r=Object(O.a)("Group",(function(e){return a.has(e)||n.has(e)}));a.insertNew(r,a.count()),e._onObjectGroupModified(),e.props.onGroupAdded&&e.props.onGroupAdded()},e._onDelete=function(t){var n=t.group,a=t.global,r=e.props,o=r.globalObjectGroups,i=r.objectGroups;k.b.showConfirmDialog("Are you sure you want to remove this group? This can't be undone.")&&e.props.onDeleteGroup(t,(function(t){t&&(a?o.remove(n.getName()):i.remove(n.getName()),e._onObjectGroupModified(),e.props.onGroupRemoved&&e.props.onGroupRemoved())}))},e._onEditName=function(t){e.setState({renamedGroupWithScope:t},(function(){return e.sortableList.getWrappedInstance().forceUpdateGrid()}))},e._onRename=function(t,n){var a=t.group,r=e.props,o=r.globalObjectGroups,i=r.objectGroups;e.setState({renamedGroupWithScope:null}),a.getName()!==n&&(i.has(n)||o.has(n)?Object(C.c)("Another object with this name already exists",{delayToNextTick:!0}):e.props.canRenameGroup(n)&&e.props.onRenameGroup(t,n,(function(t){t&&(a.setName(n),e._onObjectGroupModified(),e.props.onGroupRenamed&&e.props.onGroupRenamed())})))},e._onMove=function(t,n){var a=e.props,r=a.globalObjectGroups,o=a.objectGroups;if(t<e.objectGroupsList.length)o.move(t,Math.min(n,e.objectGroupsList.length-1));else{var i=t-e.objectGroupsList.length,s=n-e.objectGroupsList.length;r.move(i,Math.min(s,e.globalObjectGroupsList.length-1))}e._onObjectGroupModified(),e.sortableList.getWrappedInstance().forceUpdateGrid()},e._setAsGlobalGroup=function(t){var n=t.group,a=e.props,r=a.globalObjectGroups,o=a.objectGroups,i=n.getName();r.has(i)?Object(C.c)("A global object with this name already exists. Please change the object name before setting it as a global object",{delayToNextTick:!0}):k.b.showConfirmDialog("This group will be loaded and available in all the scenes. This is only recommended for groups that you reuse a lot and can't be undone. Make this group global?")&&(r.insert(n,r.count()),o.remove(i),e._onObjectGroupModified())},e._onObjectGroupModified=function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.forceUpdate()},e}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.renamedGroupWithScope!==t.renamedGroupWithScope||this.state.searchText!==t.searchText||(this.props.globalObjectGroups!==e.globalObjectGroups||this.props.objectGroups!==e.objectGroups)}},{key:"render",value:function(){var e=this,t=this.props,n=t.globalObjectGroups,r=t.objectGroups,o=this.state.searchText,i=Object(S.a)(r).map((function(e){return{group:e,global:!1}})),s=Object(S.a)(n).map((function(e){return{group:e,global:!0}}));this.objectGroupsList=Object(S.e)(i,o),this.globalObjectGroupsList=Object(S.e)(s,o);var c=Object(S.e)([].concat(Object(a.a)(i),Object(a.a)(s)),o).concat({key:"add-groups-row",object:null}),l=r.ptr+";"+n.ptr;return d.a.createElement(p.a,null,d.a.createElement("div",{style:w.listContainer},d.a.createElement(m.a,null,(function(t){var n=t.height,a=t.width;return d.a.createElement(I,{key:l,ref:function(t){return e.sortableList=t},fullList:c,width:a,height:n,renamedGroupWithScope:e.state.renamedGroupWithScope,onEditGroup:e.props.onEditGroup,onAddGroup:e.addGroup,onEditName:e._onEditName,onDelete:e._onDelete,onRename:e._onRename,canSetAsGlobalGroup:e.props.canSetAsGlobalGroup,onSetAsGlobalGroup:e._setAsGlobalGroup,onSortEnd:function(t){var n=t.oldIndex,a=t.newIndex;return e._onMove(n,a)},helperClass:"sortable-helper",distance:20})}))),d.a.createElement(f.a,{value:o,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})}}))}}]),n}(d.a.Component);R.defaultProps={onDeleteGroup:function(e,t){return t(!0)},onRenameGroup:function(e,t,n){return n(!0)}}},92:function(e,t){var n=function(e,t,n){for(var a=[],r=e;r<t;r++)a.push(n(r));return a};e.exports={mapFor:n,mapReverseFor:function(e,t,n){for(var a=[],r=t-1;r>=e;r--)a.push(n(r));return a},mapVector:function(e,t){return n(0,e.size(),(function(n){return t(e.at(n),n)}))}}},96:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(83),r=n(2),o=n(79),i=n(163),s={flexShrink:0},c={container:{flex:1,display:"flex",alignItems:"flex-start"},filledTextFieldWithLabelRightButtonMargins:Object(a.a)(Object(a.a)({},s),{},{marginTop:15,marginLeft:8}),filledTextFieldWithoutLabelRightButtonMargins:Object(a.a)(Object(a.a)({},s),{},{marginTop:6,marginLeft:8}),standardTextFieldWithLabelRightButtonMargins:Object(a.a)(Object(a.a)({},s),{},{marginTop:17,marginLeft:8}),standardTextFieldWithoutLabelRightButtonMargins:Object(a.a)(Object(a.a)({},s),{},{marginTop:0,marginLeft:8})},l=function(e){var t=e.margin,n=e.noFloatingLabelText,a=e.renderTextField,o=e.renderButton;return r.createElement("div",{style:c.container},a(),o("none"===t?n?c.standardTextFieldWithoutLabelRightButtonMargins:c.standardTextFieldWithLabelRightButtonMargins:n?c.filledTextFieldWithoutLabelRightButtonMargins:c.filledTextFieldWithLabelRightButtonMargins))},u=function(e){var t=e.alignItems,n=e.justifyContent,a=e.expand,s=e.noMargin,c=e.children,l=!0;return r.createElement(i.a,null,(function(e){return"small"===e?r.createElement(d,{noMargin:s,expand:!0},c):r.createElement(o.b,{alignItems:t,justifyContent:n,expand:a,noMargin:s},r.Children.map(c,(function(e,t){if(!e)return null;var n=!l;return l=!1,r.createElement(r.Fragment,null,n&&r.createElement(o.c,null),e)})))}))},d=function(e){var t=e.alignItems,n=e.justifyContent,a=e.expand,i=e.noMargin,s=e.children,c=!0;return r.createElement(o.a,{alignItems:t,justifyContent:n,expand:a,noMargin:i},r.Children.map(s,(function(e,t){if(!e)return null;var n=!c;return c=!1,r.createElement(r.Fragment,null,n&&r.createElement(o.c,null),e)})))}},97:function(e,t,n){"use strict";var a=n(83),r=n(2),o=n(104),i=n(198),s={display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:10};t.a=function(e){return r.createElement(o.a,null,(function(t){return r.createElement("div",{style:Object(a.a)(Object(a.a)({},s),e.style)},r.createElement(i.a,{style:e.messageStyle},e.children))}))}},984:function(e,t,n){},985:function(e,t,n){},986:function(e,t,n){},987:function(e,t,n){},988:function(e,t,n){},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f}));var a=n(83),r=n(6),o=n(12),i=n(23),s=n(22),c=n(2),l=n(77),u=n(2454),d=n(226),m=function(e){return{variant:"none"===e.margin?"standard":"filled",margin:"none"===e.margin?"none":"dense",hiddenLabel:"none"!==e.margin&&!e.floatingLabelText}},p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._input=c.createRef(),e}return Object(o.a)(n,[{key:"focus",value:function(){this._input.current&&this._input.current.focus()}},{key:"blur",value:function(){this._input.current&&this._input.current.blur()}},{key:"getInputNode",value:function(){return this._input.current?this._input.current:null}},{key:"render",value:function(){var e=this,t=this.props,n=t.onChange||void 0,r=t.helperMarkdownText?c.createElement(d.a,{source:t.helperMarkdownText}):null;return c.createElement(l.I18n,null,(function(o){var i=o.i18n;return c.createElement(u.a,Object.assign({type:void 0!==t.type?t.type:void 0,value:void 0!==t.value?t.value:void 0,defaultValue:void 0!==t.defaultValue?t.defaultValue:void 0,onChange:n?function(e){return n(e,e.target.value)}:void 0,error:!!t.errorText,helperText:t.errorText||r,disabled:t.disabled,InputLabelProps:{shrink:!!t.floatingLabelFixed||void 0},label:t.floatingLabelText,name:t.name,placeholder:t.hintText?i._(t.hintText):void 0,id:t.id,autoFocus:t.autoFocus,multiline:t.multiline,rows:t.rows,rowsMax:t.rowsMax},m(t),{fullWidth:t.fullWidth,InputProps:{disableUnderline:void 0!==t.underlineShow&&!t.underlineShow,style:Object(a.a)({fontSize:t.style?t.style.fontSize:void 0,fontStyle:t.style?t.style.fontStyle:void 0},t.inputStyle),inputProps:{onKeyPress:t.onKeyPress,onKeyUp:t.onKeyUp,onKeyDown:t.onKeyDown,onClick:t.onClick,max:t.max,min:t.min,step:t.step}},style:t.style?{width:t.style.width||void 0,flex:t.style.flex||void 0,top:t.style.top||void 0}:void 0,onFocus:t.onFocus,onBlur:t.onBlur,inputRef:e._input,spellCheck:"false"}))}))}}]),n}(c.Component),f=0},996:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),r=n(221),o=n(3),i=n(352);function s(e){var t=e.fileMetadata,n=a.useContext(r.a),s=a.useContext(i.b).hasUnsavedChanges;return a.useEffect((function(){var e=["GDevelop 5",t?t.fileIdentifier+(s?" *":""):""].filter(Boolean).join(" - ");o.b.setTitle(e),o.b.setTitleBarColor(n.toolbar.backgroundColor)}),[t,s,n.toolbar.backgroundColor]),null}}}]);
//# sourceMappingURL=1.e2dff7ff.chunk.js.map