{"version":3,"sources":["Utils/Analytics/UserUUID.js","Utils/Analytics/LocalStats.js","Utils/Analytics/EventSender.js","Utils/Analytics/Fullstory.js","index.js","Utils/Analytics/Raven.js","registerServiceWorker.js","Utils/GDevelopServices/Authentification.js","UI/Messages/MessageBox.js","Utils/OptionalRequire.js","Utils/GDevelopServices/ApiConfigs.js","Utils/Platform.js","Utils/Window.js"],"names":["__webpack_require__","d","__webpack_exports__","getUserUUID","existingUserUUID","localStorage","getItem","e","console","warn","newUserUUID","generateUUID","a","Math","random","toString","replace","setItem","getProgramOpeningCount","count","concat","parseInt","EventSender_installAnalyticsEvents","EventSender_sendProgramOpening","sendExportLaunched","sendNewGameCreated","sendTutorialOpened","sendHelpFinderOpened","sendHelpSearch","sendErrorMessage","sendSignupDone","sendSubscriptionCheckDialogShown","sendSubscriptionCheckDismiss","sendSubscriptionDialogShown","sendChoosePlanClicked","sendExternalEditorOpened","isDev","Window","client","installAnalyticsEvents","authentification","info","sessionCookie","Keen","utils","cookie","sessionTimer","timer","start","projectId","writeKey","extendEvents","userProfile","getUserProfileSync","user","uuid","uid","undefined","providerId","email","emailVerified","localStats","programOpeningCount","page","title","document","url","location","href","referrer","tech","browser","helpers","getBrowserProfile","ip","ua","time","getDatetimeIndex","visitor","id","get","time_on_page","value","keen","timestamp","Date","toISOString","addons","name","input","output","ua_string","page_url","referrer_url","sendProgramOpening","incrementProgramOpeningCount","recordEvent","exportKind","platform","templateName","tutorialName","searchText","log","errorMessage","type","rawError","message","_ref","mode","planId","editorName","electron","optionalRequire","Bootstrapper","state","App","Authentification","_this2","this","Raven","config","install","setUserContext","m","n","t","l","o","g","y","window","b","q","push","_api","createElement","async","src","_fs_host","getElementsByTagName","parentNode","insertBefore","identify","i","v","setUserVars","identifyAccount","acctId","clearUserCookie","c","match","domain","toUTCString","indexOf","slice","FS","installFullstory","Promise","all","then","bind","module","setState","create","catch","handleLoadError","err","showErrorBox","Component","rootElement","getElementById","ReactDOM","render","react_default","src_Bootstrapper","error","navigator","serviceWorker","ready","registration","unregister","_this","Object","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_onUserChangeCb","onUserChange","cb","createAccount","form","firebase","createUserWithEmailAndPassword","password","userCredentials","login","signInWithEmailAndPassword","forgotPassword","sendPasswordResetEmail","getUserProfile","isAuthenticated","unauthenticated","logout","signOut","getAuthorizationHeader","getIdToken","token","reject","Error","GDevelopFirebaseConfig","onAuthStateChanged","showMessageBox","showWarningBox","_Utils_Window__WEBPACK_IMPORTED_MODULE_0__","_Utils_Analytics_EventSender__WEBPACK_IMPORTED_MODULE_1__","global","nodeRequire","require","exports","moduleName","arguments","length","rethrowException","ex","GDevelopHostingApi","GDevelopGamesPreview","GDevelopUsageApi","GDevelopBuildApi","GDevelopReleaseApi","GDevelopExtensionApi","awsS3","deployEndpoint","gamesHost","gdevelopGamesPreviewOptions","destinationBucket","accessKeyId","process","secretAccessKey","region","destinationBucketBaseUrl","options","awsS3Client","correctClockSkew","apiKey","authDomain","databaseURL","storageBucket","messagingSenderId","baseUrl","isWindows","isMacLike","isMobile","_OptionalRequire_js__WEBPACK_IMPORTED_MODULE_0__","_isWindows","remote","windows","_isMacLike","_isMobile","test","userAgent","shell","dialog","getCurrentWindow","setTitle","x","width","height","scaleFactor","rect","screen","getDisplayMatching","browserWindow","setBounds","round","show","showInactive","setAlwaysOnTop","forceHide","isFocused","hide","on","getGlobal","argumentsObject","URLSearchParams","search","forEach","_","project","buttons","alert","buildEditorContextMenu","addEventListener","target","closest","menu","setTimeout","popup","preventDefault","openExternal","open","dev"],"mappings":"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","file":"static/js/main.6e153cce.chunk.js","sourcesContent":["// See https://gist.github.com/jed/982883\nconst generateUUID = a => {\n  return a\n    ? // eslint-disable-next-line\n      (a ^ ((Math.random() * 16) >> (a / 4))).toString(16)\n    : ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, generateUUID);\n};\n\nconst localStorageKey = 'gd-user-uuid';\n\nexport const getUserUUID = () => {\n  try {\n    const existingUserUUID = localStorage.getItem(localStorageKey);\n    if (existingUserUUID) return existingUserUUID;\n  } catch (e) {\n    console.warn('Unable to load stored user UUID', e);\n  }\n\n  const newUserUUID = generateUUID();\n  try {\n    localStorage.setItem(localStorageKey, newUserUUID);\n  } catch (e) {\n    console.warn('Unable to save user UUID', e);\n  }\n  return newUserUUID;\n};\n","// @flow\nconst localStoragePrefix = 'gd-local-stats';\n\nexport const getProgramOpeningCount = (): number => {\n  try {\n    const count = localStorage.getItem(`${localStoragePrefix}-program-opening`);\n    if (count !== null) return parseInt(count, 10);\n  } catch (e) {\n    console.warn('Unable to load stored program opening count', e);\n  }\n\n  return 0;\n};\n\nexport const incrementProgramOpeningCount = () => {\n  const count = getProgramOpeningCount() + 1;\n\n  try {\n    localStorage.setItem(`${localStoragePrefix}-program-opening`, '' + count);\n  } catch (e) {\n    console.warn('Unable to store program opening count', e);\n  }\n};\n","// @flow\nimport Keen from 'keen-tracking';\nimport Window from '../Window';\nimport { getUserUUID } from './UserUUID';\nimport Authentification from '../GDevelopServices/Authentification';\nimport {\n  getProgramOpeningCount,\n  incrementProgramOpeningCount,\n} from './LocalStats';\n\nconst isDev = Window.isDev();\nlet client = null;\n\nexport const installAnalyticsEvents = (authentification: Authentification) => {\n  if (isDev) {\n    console.info('Development build - Analytics disabled');\n    return;\n  }\n\n  const sessionCookie = Keen.utils.cookie('visitor-stats');\n  const sessionTimer = Keen.utils.timer();\n  sessionTimer.start();\n\n  client = new Keen({\n    projectId: '593d9f0595cfc907a1f8126a',\n    writeKey:\n      'B917F1DB50EE4C8949DBB374D2962845A22838B425AA43322A37138691A5270EB0358AEE45A4F61AFA7713B9765B4980517A1E276D4973A2E546EA851BF7757523706367ED430C041D2728A63BF61B5D1B2079C75E455DDDFAAC4324128AC2DB',\n  });\n\n  client.extendEvents(function() {\n    const userProfile = authentification.getUserProfileSync();\n\n    return {\n      user: {\n        uuid: getUserUUID(),\n        uid: userProfile ? userProfile.uid : undefined,\n        providerId: userProfile ? userProfile.providerId : undefined,\n        email: userProfile ? userProfile.email : undefined,\n        emailVerified: userProfile ? userProfile.emailVerified : undefined,\n      },\n      localStats: {\n        programOpeningCount: getProgramOpeningCount(),\n      },\n      page: {\n        title: document.title,\n        url: document.location.href,\n        // info: {} (add-on)\n      },\n      referrer: {\n        url: document.referrer,\n        // info: {} (add-on)\n      },\n      tech: {\n        browser: Keen.helpers.getBrowserProfile(),\n        // info: {} (add-on)\n        ip: '${keen.ip}', // eslint-disable-line\n        ua: '${keen.user_agent}', // eslint-disable-line\n      },\n      time: Keen.helpers.getDatetimeIndex(),\n      visitor: {\n        id: sessionCookie.get('user_id'),\n        time_on_page: sessionTimer.value(),\n      },\n      // geo: {} (add-on)\n      keen: {\n        timestamp: new Date().toISOString(),\n        addons: [\n          {\n            name: 'keen:ip_to_geo',\n            input: {\n              ip: 'tech.ip',\n            },\n            output: 'geo',\n          },\n          {\n            name: 'keen:ua_parser',\n            input: {\n              ua_string: 'tech.ua',\n            },\n            output: 'tech.info',\n          },\n          {\n            name: 'keen:url_parser',\n            input: {\n              url: 'page.url',\n            },\n            output: 'page.info',\n          },\n          {\n            name: 'keen:referrer_parser',\n            input: {\n              page_url: 'page.url',\n              referrer_url: 'referrer.url',\n            },\n            output: 'referrer.info',\n          },\n        ],\n      },\n    };\n  });\n};\n\nexport const sendProgramOpening = () => {\n  if (isDev || !client) return;\n\n  incrementProgramOpeningCount();\n  client.recordEvent('program_opening');\n};\n\nexport const sendExportLaunched = (exportKind: string) => {\n  if (isDev || !client) return;\n\n  client.recordEvent('export_launched', {\n    platform: 'GDevelop JS Platform', // Hardcoded here for now\n    exportKind,\n  });\n};\n\nexport const sendNewGameCreated = (templateName: string) => {\n  if (isDev || !client) return;\n\n  client.recordEvent('new_game_creation', {\n    platform: 'GDevelop JS Platform', // Hardcoded here for now\n    templateName,\n  });\n};\n\nexport const sendTutorialOpened = (tutorialName: string) => {\n  if (isDev || !client) return;\n\n  client.recordEvent('tutorial_opened', {\n    tutorialName,\n  });\n};\n\nexport const sendHelpFinderOpened = () => {\n  if (isDev || !client) return;\n\n  client.recordEvent('help_finder_opened', {});\n};\n\nexport const sendHelpSearch = (searchText: string) => {\n  console.log('sendHelpSearch', searchText);\n  if (isDev || !client) return;\n\n  client.recordEvent('help_search', {\n    searchText,\n  });\n};\n\nexport const sendErrorMessage = (\n  errorMessage: string,\n  type: string,\n  rawError: any\n) => {\n  if (isDev || !client) return;\n\n  client.recordEvent('error_message', {\n    message: errorMessage,\n    type,\n    rawError,\n  });\n};\n\nexport const sendSignupDone = (email: string) => {\n  if (isDev || !client) return;\n\n  client.recordEvent('signup', {\n    email,\n  });\n};\n\nexport const sendSubscriptionCheckDialogShown = ({\n  mode,\n  id,\n}: {|\n  mode: string,\n  id: string,\n|}) => {\n  if (isDev || !client) return;\n\n  client.recordEvent('subscription-check-dialog-shown', {\n    mode,\n    title: id,\n  });\n};\n\nexport const sendSubscriptionCheckDismiss = () => {\n  if (isDev || !client) return;\n\n  client.recordEvent('subscription-check-dialog-dismiss');\n};\n\nexport const sendSubscriptionDialogShown = () => {\n  if (isDev || !client) return;\n\n  client.recordEvent('subscription-dialog-shown', {});\n};\n\nexport const sendChoosePlanClicked = (planId: string | null) => {\n  if (isDev || !client) return;\n\n  client.recordEvent('choose-plan-click', { planId });\n};\n\nexport const sendExternalEditorOpened = (editorName: string) => {\n  if (isDev || !client) return;\n\n  client.recordEvent('open_external_editor', { editorName });\n};\n","import { getUserUUID } from './UserUUID';\nimport optionalRequire from '../OptionalRequire';\nimport Window from '../Window';\nconst electron = optionalRequire('electron');\n\nexport const installFullstory = () => {\n  // prettier-ignore\n  if (!electron && !Window.isDev()) {\n    window['_fs_debug'] = false;\n    window['_fs_host'] = 'fullstory.com';\n    window['_fs_org'] = '8DWZ1';\n    window['_fs_namespace'] = 'FS';\n    (function(m,n,e,t,l,o,g,y){\n        if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window[\"_fs_namespace\"].');} return;}\n        g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];\n        o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js'; //eslint-disable-line\n        y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);\n        g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};\n        g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};\n        g.clearUserCookie=function(c,d,i){if(!c || document.cookie.match('fs_uid=[`;`]*`[`;`]*`[`;`]*`')){\n        d=n.domain;while(1){n.cookie='fs_uid=;domain='+d+\n        ';path=/;expires='+new Date(0).toUTCString();i=d.indexOf('.');if(i<0)break;d=d.slice(i+1)}}};\n    })(window,document,window['_fs_namespace'],'script','user');\n  } else {\n    console.info(\"Electron or development build - Fullstory disabled\");\n  }\n\n  if (window.FS) {\n    window.FS.identify(getUserUUID(), {\n      // displayName: 'Daniel Falko',\n      // email: 'danielfalko@example.com',\n    });\n  }\n};\n","// @flow\nimport 'element-closest';\nimport React, { Component, type Element } from 'react';\nimport ReactDOM from 'react-dom';\nimport Authentification from './Utils/GDevelopServices/Authentification';\nimport {\n  sendProgramOpening,\n  installAnalyticsEvents,\n} from './Utils/Analytics/EventSender';\nimport { installRaven } from './Utils/Analytics/Raven';\nimport { installFullstory } from './Utils/Analytics/Fullstory';\nimport { unregister } from './registerServiceWorker';\nimport './UI/iconmoon-font.css'; // Styles for Iconmoon font.\nimport optionalRequire from './Utils/OptionalRequire.js';\nimport { showErrorBox } from './UI/Messages/MessageBox';\n\n// No i18n in this file\n\nconst electron = optionalRequire('electron');\n\ntype State = {|\n  App: ?Element<*>,\n|};\n\nclass Bootstrapper extends Component<{}, State> {\n  state = {\n    App: null,\n  };\n  authentification = new Authentification();\n\n  componentDidMount() {\n    installAnalyticsEvents(this.authentification);\n    installRaven();\n    installFullstory();\n\n    if (electron) {\n      import(/* webpackChunkName: \"local-app\" */ './LocalApp')\n        .then(module =>\n          this.setState({\n            App: module.create(this.authentification),\n          })\n        )\n        .catch(this.handleLoadError);\n    } else {\n      import(/* webpackChunkName: \"browser-app\" */ './BrowserApp')\n        .then(module =>\n          this.setState({\n            App: module.create(this.authentification),\n          })\n        )\n        .catch(this.handleLoadError);\n    }\n  }\n\n  handleLoadError(err) {\n    const message = !electron\n      ? 'Please reload the page and check your internet connectivity.'\n      : 'Please restart the application or reinstall the latest version if the problem persists.';\n    showErrorBox(`Unable to load GDevelop. ${message}`, err);\n  }\n\n  render() {\n    const { App } = this.state;\n\n    if (App) return App;\n    return null;\n  }\n}\n\nconst rootElement = document.getElementById('root');\nif (rootElement) ReactDOM.render(<Bootstrapper />, rootElement);\nelse console.error('No root element defined in index.html');\n\n// registerServiceWorker();\nunregister();\nsendProgramOpening();\n","import Raven from 'raven-js';\nimport { getUserUUID } from './UserUUID';\nconst isDev = process.env.NODE_ENV === 'development';\n\nexport const installRaven = () => {\n  if (isDev) return;\n\n  Raven.config('https://e10c176ee68f432199cd292ba181e03b@sentry.io/233519', {})\n    .install()\n    .setUserContext({\n      id: getUserUUID(),\n    });\n};\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n      navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n          registration.onupdatefound = () => {\n            const installingWorker = registration.installing;\n            installingWorker.onstatechange = () => {\n              if (installingWorker.state === 'installed') {\n                if (navigator.serviceWorker.controller) {\n                  // At this point, the old content will have been purged and\n                  // the fresh content will have been added to the cache.\n                  // It's the perfect time to display a \"New content is\n                  // available; please refresh.\" message in your web app.\n                  console.log('New content is available; please refresh.');\n                } else {\n                  // At this point, everything has been precached.\n                  // It's the perfect time to display a\n                  // \"Content is cached for offline use.\" message.\n                  console.log('Content is cached for offline use.');\n                }\n              }\n            };\n          };\n        })\n        .catch(error => {\n          console.error('Error during service worker registration:', error);\n        });\n    });\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","// @flow\nimport * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { GDevelopFirebaseConfig } from './ApiConfigs';\n\nexport type Profile = {\n  uid: string, // This represents the userId\n  providerId: string,\n  email: ?string,\n  emailVerified: boolean,\n};\n\nexport type LoginForm = {\n  email: string,\n  password: string,\n};\n\nexport type LoginError = {\n  code:\n    | 'auth/invalid-email'\n    | 'auth/user-disabled'\n    | 'auth/user-not-found'\n    | 'auth/wrong-password'\n    | 'auth/email-already-in-use'\n    | 'auth/operation-not-allowed'\n    | 'auth/weak-password',\n};\n\nexport default class Authentification {\n  user: ?$npm$firebase$auth$User = null;\n  _onUserChangeCb: ?() => void = null;\n\n  constructor() {\n    firebase.initializeApp(GDevelopFirebaseConfig);\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.user = user;\n      } else {\n        this.user = null;\n      }\n\n      if (this._onUserChangeCb) this._onUserChangeCb();\n    });\n  }\n\n  onUserChange = (cb: () => void) => {\n    this._onUserChangeCb = cb;\n  };\n\n  createAccount = (form: LoginForm): Promise<void> => {\n    return firebase\n      .auth()\n      .createUserWithEmailAndPassword(form.email, form.password)\n      .then(userCredentials => {\n        this.user = userCredentials.user;\n      })\n      .catch(error => {\n        console.error('Error while creating account:', error);\n        throw error;\n      });\n  };\n\n  login = (form: LoginForm): Promise<void> => {\n    return firebase\n      .auth()\n      .signInWithEmailAndPassword(form.email, form.password)\n      .then(userCredentials => {\n        this.user = userCredentials.user;\n      })\n      .catch(error => {\n        console.error('Error while login:', error);\n        throw error;\n      });\n  };\n\n  forgotPassword = (form: LoginForm): Promise<void> => {\n    return firebase.auth().sendPasswordResetEmail(form.email);\n  };\n\n  getUserProfile = (cb: (any, ?Profile) => void) => {\n    if (!this.isAuthenticated()) return cb({ unauthenticated: true });\n\n    cb(null, this.user);\n  };\n\n  getUserProfileSync = (): ?Profile => {\n    return this.user;\n  };\n\n  logout = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        console.log('Logout successful');\n      })\n      .catch(error => {\n        console.log('An error happened during logout', error);\n      });\n  };\n\n  getAuthorizationHeader = (): Promise<string> => {\n    if (!this.user)\n      return Promise.reject(new Error('User is not authenticated'));\n\n    return this.user.getIdToken().then(token => `Bearer ${token}`);\n  };\n\n  isAuthenticated = (): boolean => {\n    return !!this.user;\n  };\n}\n","// @flow\n\nimport Window from '../../Utils/Window';\nimport { sendErrorMessage } from '../../Utils/Analytics/EventSender';\n\nexport const showMessageBox = (message: string) => {\n  Window.showMessageBox(message, 'info');\n};\n\nexport const showErrorBox = (message: string, rawError: any) => {\n  Window.showMessageBox(message, 'error');\n  sendErrorMessage(message, 'error', rawError);\n  console.error(message, 'raw error:', rawError);\n};\n\nexport const showWarningBox = (message: string, rawError: any) => {\n  Window.showMessageBox(message, 'warning');\n  console.warn(message, 'raw error:', rawError);\n};\n","// Note: this file don't use export/imports to allow its usage from Node.js\nconst nodeRequire = require('node-require-function')(); //TODO\n\n/**\n * Allow to require a Node.js/npm module without having it bundled by webpack.\n * This means that this module will only be available when running on Electron or Node.js.\n * When running without Electron or Node.js, `null` will be returned.\n *\n * @param {string} moduleName The name of the module. For example: `fs`.\n */\nconst optionalRequire = (\n  moduleName,\n  config = {\n    rethrowException: false,\n  }\n) => {\n  try {\n    if (global.require) {\n      // Electron will expose require on global object. Use it, with an\n      // expression to avoid webpack to try to bundle the call to require.\n      return global['require'](moduleName);\n    } else if (nodeRequire) {\n      //Node.js\n      // nodeRequire is Node.js' require function that is properly extracted\n      // by node-require-function when running on Node.js\n      return nodeRequire(moduleName);\n    }\n\n    // We don't have Electron require nor Node.js require (we must be in a browser)\n    return null;\n  } catch (ex) {\n    if (config.rethrowException) throw ex;\n\n    console.error(\n      'Exception while requiring module (from optionalRequire):',\n      ex\n    );\n    return null;\n  }\n};\n\nmodule.exports = optionalRequire;\n","// @flow\nconst awsS3 = require('aws-sdk/clients/s3');\nconst isDev = process.env.NODE_ENV === 'development';\n\nexport const GDevelopHostingApi = {\n  deployEndpoint:\n    'https://nik50aqlp6.execute-api.eu-west-1.amazonaws.com/Production/deploy',\n  gamesHost: 'http://gd-games.s3-website-eu-west-1.amazonaws.com',\n};\n\nconst gdevelopGamesPreviewRegion = 'eu-west-1';\nconst gdevelopGamesPreviewBucket = 'gd-games-preview';\n\nconst gdevelopGamesPreviewOptions = {\n  destinationBucket: gdevelopGamesPreviewBucket,\n  accessKeyId: process.env.REACT_APP_PREVIEW_S3_ACCESS_KEY_ID,\n  secretAccessKey: process.env.REACT_APP_PREVIEW_S3_SECRET_ACCESS_KEY,\n  region: gdevelopGamesPreviewRegion,\n  destinationBucketBaseUrl: `https://s3-${gdevelopGamesPreviewRegion}.amazonaws.com/${gdevelopGamesPreviewBucket}/`,\n};\n\nexport const GDevelopGamesPreview = {\n  options: gdevelopGamesPreviewOptions,\n  awsS3Client: new awsS3({\n    accessKeyId: gdevelopGamesPreviewOptions.accessKeyId,\n    secretAccessKey: gdevelopGamesPreviewOptions.secretAccessKey,\n    region: gdevelopGamesPreviewOptions.region,\n    correctClockSkew: true,\n  }),\n};\n\nif (\n  !gdevelopGamesPreviewOptions.accessKeyId ||\n  !gdevelopGamesPreviewOptions.secretAccessKey\n) {\n  console.warn(\n    \"Either REACT_APP_PREVIEW_S3_ACCESS_KEY_ID or REACT_APP_PREVIEW_S3_SECRET_ACCESS_KEY are not defined. Preview in browsers won't be working\"\n  );\n  console.info(\n    'Copy .env.dist file to .env and fill the values to fix this warning.'\n  );\n}\n\nexport const GDevelopFirebaseConfig = {\n  apiKey: 'AIzaSyAnX9QMacrIl3yo4zkVFEVhDppGVDDewBc',\n  authDomain: 'gdevelop-services.firebaseapp.com',\n  databaseURL: 'https://gdevelop-services.firebaseio.com',\n  projectId: 'gdevelop-services',\n  storageBucket: 'gdevelop-services.appspot.com',\n  messagingSenderId: '44882707384',\n};\n\nexport const GDevelopUsageApi = {\n  baseUrl: isDev\n    ? 'https://dwjjhr5k76.execute-api.us-east-1.amazonaws.com/dev'\n    : 'https://api.gdevelop-app.com/usage',\n};\n\nexport const GDevelopBuildApi = {\n  baseUrl: isDev\n    ? 'https://ppvvhs48j1.execute-api.us-east-1.amazonaws.com/dev'\n    : 'https://api.gdevelop-app.com/build',\n};\n\nexport const GDevelopReleaseApi = {\n  baseUrl: isDev\n    ? 'https://c8cldf4iqh.execute-api.us-east-1.amazonaws.com/dev'\n    : 'https://api.gdevelop-app.com/release',\n};\n\nexport const GDevelopExtensionApi = {\n  baseUrl: isDev\n    ? 'https://raw.githubusercontent.com/4ian/GDevelop-extensions/master'\n    : 'https://raw.githubusercontent.com/4ian/GDevelop-extensions/master',\n};\n","import optionalRequire from './OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\nlet _isWindows = false;\nif (electron) {\n  _isWindows = electron.remote.require('electron-is').windows();\n}\nconst _isMacLike = navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)\n  ? true\n  : false;\n\nconst _isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n  navigator.userAgent\n);\n\nexport const isWindows = () => _isWindows;\nexport const isMacLike = () => _isMacLike;\nexport const isMobile = () => _isMobile;\n","// @flow\n\nimport optionalRequire from './OptionalRequire.js';\nimport URLSearchParams from 'url-search-params';\nimport { isWindows } from './Platform';\nconst electron = optionalRequire('electron');\nconst shell = electron ? electron.shell : null;\nconst dialog = electron ? electron.remote.dialog : null;\n\nexport default class Window {\n  static setTitle(title: string) {\n    if (electron) {\n      try {\n        const browserWindow = electron.remote.getCurrentWindow();\n        browserWindow.setTitle(title);\n      } catch (err) {\n        // This rarely, but sometimes happen that setTitle throw.\n        // Catch the error in the hope that things will continue to work.\n        console.error(\n          'Caught an error while calling browserWindow.setTitle',\n          err\n        );\n      }\n    } else {\n      document.title = title;\n    }\n  }\n\n  static setBounds(x: number, y: number, width: number, height: number) {\n    if (!electron) return;\n\n    let scaleFactor = 1;\n    if (isWindows()) {\n      // setBounds need to be called with the scale factor of the screen\n      // on Windows.\n      const rect = { x, y, width, height };\n      const display = electron.remote.screen.getDisplayMatching(rect);\n      scaleFactor = display.scaleFactor;\n    }\n\n    const browserWindow = electron.remote.getCurrentWindow();\n    try {\n      browserWindow.setBounds({\n        x: Math.round(x / scaleFactor),\n        y: Math.round(y / scaleFactor),\n        width: Math.round(width / scaleFactor),\n        height: Math.round(height / scaleFactor),\n      });\n    } catch (err) {\n      console.warn('Unable to change window bounds', err);\n    }\n    this.show();\n  }\n\n  static show() {\n    if (!electron) return;\n\n    const browserWindow = electron.remote.getCurrentWindow();\n    browserWindow.showInactive();\n    browserWindow.setAlwaysOnTop(true);\n  }\n\n  static hide(forceHide: boolean = false) {\n    if (!electron) return;\n\n    const browserWindow = electron.remote.getCurrentWindow();\n    if (!browserWindow.isFocused() || forceHide) {\n      browserWindow.setAlwaysOnTop(false);\n      browserWindow.hide();\n    }\n  }\n\n  static onFocus(cb: () => void) {\n    if (!electron) return;\n\n    return electron.remote.getCurrentWindow().on('focus', cb);\n  }\n\n  static onBlur(cb: () => void) {\n    if (!electron) return;\n\n    return electron.remote.getCurrentWindow().on('blur', cb);\n  }\n\n  static onClose(cb: () => void) {\n    if (!electron) return;\n\n    return electron.remote.getCurrentWindow().on('close', cb);\n  }\n\n  /**\n   * Return the arguments passed to the IDE, either from Electron\n   * or from the web-app URL. The resulting object will have a key \"_\"\n   * containing an array of string, representing all the arguments that\n   * didn't have an option associated with them (see https://github.com/substack/minimist).\n   * (On the web-app, this is emulated using the \"project\" argument).\n   */\n  static getArguments(): { [string]: any } {\n    if (electron) {\n      return electron.remote.getGlobal('args');\n    }\n\n    const argumentsObject = {};\n    const params = new URLSearchParams(window.location.search);\n    params.forEach((value, name) => (argumentsObject[name] = value));\n\n    // Emulate the minimist behavior of putting the arguments without option\n    // in \"_\".\n    argumentsObject._ = argumentsObject.project\n      ? [argumentsObject.project]\n      : [];\n\n    return argumentsObject;\n  }\n\n  static showMessageBox(\n    message: string,\n    type?: 'none' | 'info' | 'error' | 'question' | 'warning'\n  ) {\n    if (!dialog || !electron) {\n      alert(message);\n      return;\n    }\n\n    const browserWindow = electron.remote.getCurrentWindow();\n    dialog.showMessageBox(browserWindow, {\n      message,\n      type,\n      buttons: ['OK'],\n    });\n  }\n\n  static setUpContextMenu() {\n    const textEditorSelectors = 'textarea, input, [contenteditable=\"true\"]';\n\n    if (electron) {\n      // `remote.require` since `Menu` is a main-process module.\n      var buildEditorContextMenu = electron.remote.require(\n        'electron-editor-context-menu'\n      );\n\n      window.addEventListener('contextmenu', function(e) {\n        // Only show the context menu in text editors.\n        if (!e.target.closest(textEditorSelectors)) return;\n\n        var menu = buildEditorContextMenu();\n\n        // The 'contextmenu' event is emitted after 'selectionchange' has fired but possibly before the\n        // visible selection has changed. Try to wait to show the menu until after that, otherwise the\n        // visible selection will update after the menu dismisses and look weird.\n        setTimeout(function() {\n          menu.popup({ window: electron.remote.getCurrentWindow() });\n        }, 30);\n      });\n    } else if (document) {\n      document.addEventListener('contextmenu', function(e: any) {\n        // Only show the context menu in text editors.\n        if (!e.target.closest(textEditorSelectors)) {\n          e.preventDefault();\n          return false;\n        }\n\n        return true;\n      });\n    }\n  }\n\n  static openExternalURL(url: string) {\n    if (electron) {\n      if (shell) shell.openExternal(url);\n      return;\n    }\n\n    window.open(url, '_blank');\n  }\n\n  static hasMainMenu() {\n    return !!electron;\n  }\n\n  static isDev() {\n    if (!electron)\n      return !process.env.NODE_ENV || process.env.NODE_ENV === 'development';\n\n    try {\n      const isDev = electron.remote.require('electron-is').dev();\n      return isDev;\n    } catch (err) {\n      // This rarely, but sometimes happen that require throw (\"missing remote object\").\n      // Catch the error in the hope that things will continue to work.\n      console.error(\n        \"Caught an error while calling electron.remote.require('electron-is').dev\",\n        err\n      );\n      return false; // Assume we're not in development mode. Might be incorrect but better not consider production as development.\n    }\n  }\n}\n"],"sourceRoot":""}