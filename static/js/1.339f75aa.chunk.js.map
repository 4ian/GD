{"version":3,"sources":["MainFrame/ProjectTitlebar.js","MainFrame/Preferences/PreferencesDialog.js","MainFrame/AboutDialog.js","VariablesList/VariableRow.js","VariablesList/EditVariableRow.js","Utils/SelectionHandler.js","VariablesList/ClipboardKind.js","PlatformSpecificAssetsEditor/PlatformSpecificAssetsDialog.js","PlatformSpecificAssetsEditor/ImageResizer.js","UI/LoaderModal.js","UI/CloseConfirmDialog.js","UI/Tabs.js","MainFrame/EditorTabsHandler.js","EventsSheet/EventsTree/index.js","EventsSheet/EventsTree/Renderers/StandardEvent.js","EventsSheet/EventsTree/Instruction.js","EventsSheet/ParameterFields/RelationalOperatorField.js","EventsSheet/ParameterFields/OperatorField.js","EventsSheet/ParameterFields/MouseField.js","EventsSheet/ParameterFields/KeyField.js","EventsSheet/ParameterFields/YesNoField.js","EventsSheet/ParameterFields/TrueFalseField.js","EventsSheet/ParameterFields/ExpressionField.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/ExpressionSelector.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/EnumerateExpressions.js","EventsSheet/ParameterFields/GenericExpressionField/FormatExpressionCall.js","EventsSheet/ParameterFields/GenericExpressionField/BackgroundHighlighting.js","EventsSheet/ParameterFields/StringField.js","EventsSheet/ParameterFields/StringWithSelectorField.js","EventsSheet/ParameterFields/BehaviorField.js","EventsSheet/ParameterFields/SceneVariableField.js","EventsSheet/ParameterFields/GlobalVariableField.js","EventsSheet/ParameterFields/ObjectVariableField.js","EventsSheet/ParameterFields/LayerField.js","EventsSheet/ParameterFields/AudioResourceField.js","EventsSheet/ParameterFields/VideoResourceField.js","EventsSheet/ParameterFields/ColorExpressionField.js","EventsSheet/ParameterFields/ForceMultiplierField.js","EventsSheet/EventsTree/Renderers/GroupEvent.js","EventsSheet/EventsTree/Renderers/CommentEvent.js","EventsSheet/EventsTree/Renderers/ForEachEvent.js","EventsSheet/EventsTree/Renderers/RepeatEvent.js","EventsSheet/EventsTree/Renderers/WhileEvent.js","EventsSheet/EventsTree/Renderers/LinkEvent.js","EventsSheet/ParameterFields/ExternalEventsField.js","EventsSheet/EventsTree/Renderers/JsCodeEvent.js","EventsSheet/EventsTree/EventHeightsCache.js","ObjectsRendering/Renderers/RenderedUnknownInstance.js","ObjectsRendering/Renderers/RenderedSpriteInstance.js","ObjectsRendering/Renderers/RenderedTiledSpriteInstance.js","ObjectsRendering/Renderers/RenderedPanelSpriteInstance.js","ObjectsRendering/Renderers/RenderedTextInstance.js","ObjectsRendering/Renderers/RenderedShapePainterInstance.js","ObjectsRendering/Renderers/RenderedTextEntryInstance.js","ObjectsRendering/Renderers/RenderedParticleEmitterInstance.js","Utils/FontFaceLoader.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/EnumerateInstructions.js","EventsSheet/InstructionEditor/InstructionParametersEditor.js","EventsSheet/Toolbar.js","EventsSheet/InlineParameterEditor.js","EventsSheet/EmptyEventsPlaceholder.js","EventsSheet/OnceInstructionSanitizer.js","EventsSheet/EventsContextAnalyzerDialog.js","EventsSheet/SearchPanel.js","EventsSheet/EventsSearcher.js","EventsSheet/ContainsSubInstruction.js","EventsSheet/EnumerateEventsMetadata.js","EventsSheet/EventsFunctionExtractor/EventsFunctionExtractorDialog.js","Utils/GetObjectGroupByName.js","EventsFunctionsExtensionEditor/index.js","ObjectGroupEditor/index.js","EventsFunctionsExtensionEditor/OptionsEditorDialog.js","InstancesEditor/InstancesRenderer/LayerRenderer.js","InstancesEditor/SelectionRectangle.js","InstancesEditor/InstancePropertiesEditor/index.js","InstancesEditor/InstancesList/index.js","LayersList/LayerRemoveDialog.js","ObjectEditor/Editors/TextEditor.js","ObjectEditor/Editors/TiledSpriteEditor.js","ObjectEditor/Editors/PanelSpriteEditor.js","ObjectEditor/Editors/SpriteEditor/index.js","ObjectEditor/Editors/SpriteEditor/SpritesList.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/index.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/PointsList.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/PointRow.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/AddPointRow.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/PointsPreview.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/index.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/PolygonsList.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/VerticeRow.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/PolygonRow.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/AddVerticeRow.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/AddPolygonRow.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/CollisionMasksPreview.js","ObjectEditor/Editors/EmptyEditor.js","ObjectEditor/Editors/ShapePainterEditor.js","ObjectEditor/Editors/ParticleEmitterEditor.js","ObjectEditor/Editors/ObjectPropertiesEditor.js","SceneEditor/InstancesSelection.js","SceneEditor/SetupGridDialog.js","SceneEditor/ScenePropertiesDialog.js","SceneEditor/Toolbar.js","UI/FullSizeMeasurer.js","InstancesEditor/ScrollbarContainer.js","ResourcesList/index.js","ResourcesList/EnumerateResources.js","UI/ErrorBoundary.js","Profile/SubscriptionDialog.js","MainFrame/Preferences/LanguageDialog.js","locales/LocalesMetadata.js","ProjectCreation/ExamplesSearchbar.js","ProjectCreation/ExamplesInformation.js","Utils/i18n/GDI18nProvider.js","locales lazy /^/.//.*//messages$/ groupOptions: {} namespace object","Utils/DragDropHelpers/SimpleDropTarget.js","InstancesEditor/InstancesRenderer/index.js","Utils/TransformRect.js","InstancesEditor/SelectedInstances.js","InstancesEditor/HighlightedInstance.js","InstancesEditor/InstancesResizer.js","InstancesEditor/InstancesRotator.js","InstancesEditor/InstancesMover.js","InstancesEditor/Grid.js","InstancesEditor/WindowBorder.js","InstancesEditor/WindowMask.js","InstancesEditor/DropHandler.js","InstancesEditor/BackgroundColor.js","InstancesEditor/FpsLimiter.js","Utils/PIXITicker.js","InstancesEditor/index.js","UI/HelpIcon/index.js","BehaviorsEditor/NewBehaviorDialog.js","BehaviorsEditor/BehaviorsHelpPagePaths.js","BehaviorsEditor/Editors/BehaviorPropertiesEditor.js","BehaviorsEditor/Editors/Physics2Editor/ShapePreview.js","BehaviorsEditor/Editors/Physics2Editor/PolygonEditor.js","BehaviorsEditor/Editors/Physics2Editor/index.js","BehaviorsEditor/BehaviorsEditorService.js","BehaviorsEditor/index.js","ObjectEditor/ObjectEditorDialog.js","UI/GravatarUrl.js","Profile/ProfileDetails.js","Profile/UsagesDetails.js","Profile/SubscriptionDetails.js","Profile/ProfileDialog.js","LayersList/styles.js","LayersList/LayerRow.js","LayersList/AddLayerRow.js","LayersList/index.js","ObjectsList/ClipboardKind.js","ObjectsList/ObjectRow.js","ObjectsList/NewObjectDialog.js","ObjectsList/index.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/InstructionSelector.js","EventsSheet/InstructionEditor/index.js","EventsSheet/InstructionEditor/InstructionEditorDialog.js","ObjectGroupsList/ObjectGroupsListWithObjectGroupEditor.js","UI/ScrollView.js","EventsFunctionsExtensionEditor/EventsFunctionConfigurationEditor/index.js","MainFrame/Editors/StartPage/GDevelopLogo.js","MainFrame/Editors/StartPage/ScrollBackground.js","MainFrame/Editors/StartPage/index.js","EventsSheet/EventsTree/Renderers/UnknownEvent.js","EventsSheet/EventsTree/EventsRenderingService.js","HelpFinder/DocSearchArea.js","HelpFinder/index.js","MainFrame/Changelog/ChangelogDialog.js","MainFrame/Changelog/ChangelogDialogContainer.js","ObjectEditor/Editors/SpriteEditor/AnimationPreview/index.js","ObjectEditor/Editors/SpriteEditor/DirectionTools.js","CodeEditor/LocalCodeEditorAutocompletions.js","CodeEditor/index.js","ProjectManager/ProjectPropertiesDialog.js","ProjectManager/index.js","EventsSheet/ParameterFields/GenericExpressionField/ExpressionParametersEditor.js","EventsSheet/ParameterFields/GenericExpressionField/ExpressionParametersEditorDialog.js","EventsFunctionsList/index.js","EventsFunctionsList/EnumerateEventsFunctions.js","UI/Grid.js","UI/Dialog/index.js","Utils/MapFor.js","UI/EmptyMessage.js","ResourcesLoader/index.js","UI/HelpButton/index.js","UI/SemiControlledTextField.js","Utils/Serializer.js","EventsSheet/EventsTree/ClassNames.js","Utils/NewNameGenerator.js","MainFrame/Preferences/PreferencesContext.js","UI/PlaceholderLoader.js","Export/LocalExporters/LocalGDJSFinder.js","UI/Background.js","UI/Theme/ThemeConsumer.js","UI/Menu/IconMenu.js","UI/AutocompleteProps.js","ObjectsRendering/Renderers/RenderedInstance.js","MainFrame/Editors/BaseEditor.js","Profile/UserProfileContext.js","UI/AlertMessage.js","VariablesList/VariablesEditorDialog.js","Utils/Clipboard.js","ResourcesList/ResourceSelector.js","Utils/HelpLink.js","ObjectsRendering/ObjectsRenderingService.js","UI/PlaceholderMessage.js","UI/ToolbarIcon.js","UI/ToolbarSeparator.js","UI/ListIcon.js","ProjectManager/ProjectErrorsChecker.js","EventsSheet/EventsTree/InstructionsList.js","ObjectsList/EnumerateObjects.js","Utils/ColorTransformer.js","EventsSheet/InlinePopover.js","UI/MiniToolbar.js","PropertiesEditor/index.js","PropertiesEditor/PropertiesMapToSchema.js","ResourcesList/ResourcePreview/ImagePreview.js","ObjectEditor/Editors/SpriteEditor/Utils/SpriteObjectHelper.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/styles.js","UI/ListAddItem.js","EventsSheet/ParameterFields/GenericExpressionField/index.js","Utils/GetObjectByName.js","Hints/index.js","ObjectEditor/ObjectsEditorService.js","Utils/GDevelopServices/Build.js","ResourcesList/ResourceThumbnail/index.js","ResourcesList/ResourceSelectorWithThumbnail.js","UI/EditorMosaic/CloseButton.js","UI/EditorMosaic/index.js","MainFrame/index.js","Version/index.js","Utils/SerializableObjectEditorContainer.js","UI/DragHandle.js","VariablesList/styles.js","Profile/SubscriptionChecker.js","ProjectManager/EnumerateProjectItems.js","Profile/CreateProfile.js","EventsSheet/index.js","EventsSheet/SelectionHandler.js","EventsSheet/ParameterRenderingService.js","EventsSheet/ParameterFields/ObjectField.js","UI/ColorField/ColorPicker.js","EventsFunctionsExtensionsLoader/index.js","UI/Menu/ContextMenu.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/styles.js","UI/ColorField/index.js","ResourcesList/ResourceUtils.js","Utils/TimeFunction.js","Utils/TimestampedId.js","Utils/Delay.js","Export/Builds/BuildsWatcher.js","EventsSheet/ParameterFields/VariableField.js","EventsSheet/ParameterFields/EnumerateVariables.js","UI/Menu/ElectronMenuImplementation.js","UI/Menu/MaterialUIMenuImplementation.js","UI/AcceleratorString.js","UI/BackgroundText.js","MainFrame/UpdaterTools.js","VariablesList/index.js","UI/TreeTable/index.js","UI/DismissableAlertMessage.js","Utils/FuzzyOrEmptyFilter.js","ResourcesList/ResourceThumbnail/ImageThumbnail.js","UI/EditorBar.js","MainFrame/Editors/EventsEditor.js","EventsSheet/EventsTree/DropIndicator.js","EventsSheet/ParameterFields/DefaultField.js","ObjectsList/ObjectSelector.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/index.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/CreateTree.js","EventsSheet/ParameterFields/ParameterMetadataTools.js","Utils/StringHelpers.js","ObjectsRendering/Renderers/RenderedIconInstance.js","ObjectsRendering/PixiResourcesLoader.js","UI/KeyboardShortcuts/index.js","Utils/History.js","UI/InlineCheckbox.js","EventsSheet/EventsFunctionExtractor/index.js","EventsFunctionsExtensionEditor/EventsFunctionConfigurationEditor/EventsFunctionParametersEditor.js","BehaviorsEditor/EnumerateBehaviorsMetadata.js","EventsFunctionsExtensionEditor/EventsFunctionConfigurationEditor/EventsFunctionPropertiesEditor.js","MainFrame/Editors/EventsFunctionsExtensionEditor.js","ObjectGroupEditor/ObjectGroupEditorDialog.js","MainFrame/Editors/ExternalEventsEditor.js","MainFrame/Editors/LayoutChooserDialog.js","MainFrame/Editors/ExternalLayoutEditor.js","SceneEditor/index.js","InstancesEditor/ViewPosition.js","Utils/GridHelpers.js","LayersList/EnumerateLayers.js","ObjectEditor/Editors/SpriteEditor/Utils/SpriteSelector.js","UI/Messages/InfoBar.js","MainFrame/Editors/SceneEditor.js","Utils/WatchPromiseInState.js","Utils/GDevelopServices/Usage.js","UI/LeftLoader.js","Utils/i18n/getTranslationFunction.js","Export/Builds/BuildProgress.js","ProjectCreation/ExamplesList.js","UI/CustomSvgIcons/Facebook.js","UI/CustomSvgIcons/Cordova.js","UI/CustomSvgIcons/Chrome.js","JsExtensionsLoader/index.js","Debugger/Toolbar.js","Debugger/InspectorsList.js","Debugger/Inspectors/VariablesContainerInspector.js","Debugger/Inspectors/RuntimeObjectInspector.js","Debugger/Inspectors/RuntimeSceneInspector.js","Debugger/GDJSInspectorDescriptions.js","Debugger/Inspectors/RawContentInspector.js","Debugger/Profiler/MeasuresTable.js","Debugger/Profiler/index.js","Debugger/DebuggerContent.js","Debugger/DebuggerSelector.js","Debugger/index.js","MainFrame/Editors/DebuggerEditor.js","CodeEditor/Theme/TomorrowNight.js","CodeEditor/Theme/Monokai.js","CodeEditor/Theme/Tomorrow.js","CodeEditor/Theme/SolarizedDark.js","CodeEditor/Theme/SolarizedLight.js","CodeEditor/Theme/VibrantInk.js","CodeEditor/Theme/GitHub.js","CodeEditor/Theme/index.js","Utils/DragDropHelpers/DragDropContextProvider.js","UI/RightLoader.js","Profile/LoginDialog.js","Profile/UserProfileProvider.js","MainFrame/Preferences/PreferencesProvider.js","MainFrame/Providers.js","ResourcesList/ResourcePreview/AudioPreview.js","ResourcesList/ResourcePreview/index.js","ResourcesEditor/ResourcePropertiesEditor/index.js","ResourcesEditor/Toolbar.js","ResourcesEditor/index.js","MainFrame/Editors/ResourcesEditor.js","Export/Builds/BuildsList.js","Export/Builds/index.js","Export/Builds/BuildsDialog.js","Export/ExportDialog.js","MainFrame/Changelog/ChangelogRenderer.js","Utils/GDevelopServices/Release.js","MainFrame/Changelog/index.js","UI/Theme/DarkTheme/index.js","UI/Theme/DefaultTheme/index.js","UI/Theme/index.js","UI/SortableVirtualizedItemList/ItemRow.js","UI/SortableVirtualizedItemList/index.js","ObjectGroupsList/GroupRow.js","ObjectGroupsList/index.js","ProjectCreation/Tutorials.js","ProjectCreation/CreateProjectDialog.js","MainFrame/Toolbar.js"],"names":["ProjectTitlebar","project","this","props","titleElements","push","getProjectFile","getName","Window","setTitle","join","Component","PreferencesDialog","openExternalURL","_this","_this$props","open","onClose","actions","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_8___default","label","_lingui_react__WEBPACK_IMPORTED_MODULE_5__","id","primary","onClick","_UI_Dialog__WEBPACK_IMPORTED_MODULE_11__","onRequestClose","title","_PreferencesContext__WEBPACK_IMPORTED_MODULE_17__","Consumer","_ref","identifiers","values","setThemeName","setCodeEditorThemeName","setAutoDownloadUpdates","showAlertMessage","setAutoDisplayChangelog","setEventsSheetShowObjectThumbnails","setAutosaveOnPreview","dismissedAlertMessages","hiddenAlertMessages","Object","keys","map","identifier","filter","Boolean","_UI_Grid__WEBPACK_IMPORTED_MODULE_13__","noMargin","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_7___default","floatingLabelText","value","themeName","onChange","e","i","themes","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_9___default","primaryText","key","codeEditorThemeName","getAllThemes","codeEditorTheme","name","createTheme","material_ui_Toggle__WEBPACK_IMPORTED_MODULE_10___default","onToggle","check","toggled","autoDownloadUpdates","labelPosition","autoDisplayChangelog","eventsSheetShowObjectThumbnails","autosaveOnPreview","length","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_12__","contributors","description","link","AboutDialog","_openContributePage","_openLink","_this2","updateStatus","updateStatusString","getUpdateStatusLabel","status","updateButtonLabel","getUpdateButtonLabel","_UI_Dialog__WEBPACK_IMPORTED_MODULE_8__","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_9___default","contentStyle","maxWidth","autoScrollBodyContent","_Preferences_PreferencesContext__WEBPACK_IMPORTED_MODULE_15__","checkUpdates","_UI_Grid__WEBPACK_IMPORTED_MODULE_11__","src","alt","width","height","material_ui_Tabs__WEBPACK_IMPORTED_MODULE_10__","forceUpdate","0","getIDEVersion","1","getGDCoreVersion","justifyContent","canDownloadUpdate","_Changelog__WEBPACK_IMPORTED_MODULE_17__","material_ui_List__WEBPACK_IMPORTED_MODULE_7__","contributor","secondaryText","secondaryTextLines","rightIconButton","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_13___default","material_ui_svg_icons_action_open_in_new__WEBPACK_IMPORTED_MODULE_14___default","expand","alignItems","PureComponent","Indent","react__WEBPACK_IMPORTED_MODULE_2__","style","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","styles","indent","material_ui_svg_icons_navigation_subdirectory_arrow_right__WEBPACK_IMPORTED_MODULE_8___default","color","indentIconColor","InlineCheckbox","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_6___default","assign","VariableRow","muiThemeable","_ref2","variable","depth","errorText","onBlur","onAddChild","onRemove","onChangeValue","onResetToDefaultValue","children","muiTheme","showHandle","showSelectionCheckbox","isSelected","onSelect","origin","isStructure","limitEditing","columns","_UI_TreeTable__WEBPACK_IMPORTED_MODULE_3__","tableChildIndentation","_UI_DragHandle__WEBPACK_IMPORTED_MODULE_4__","checked","onCheck","material_ui_TextField__WEBPACK_IMPORTED_MODULE_9___default","fontStyle","fullWidth","defaultValue","disabled","fadedButton","undefined","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_5__","commitOnBlur","getString","text","multiLine","toolColumn","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_10___default","tooltip","_lingui_react__WEBPACK_IMPORTED_MODULE_1__","material_ui_svg_icons_av_replay__WEBPACK_IMPORTED_MODULE_11___default","tooltipPosition","material_ui_svg_icons_content_add_circle__WEBPACK_IMPORTED_MODULE_7___default","backgroundColor","list","itemsBackgroundColor","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_UI_TreeTable__WEBPACK_IMPORTED_MODULE_1__","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_2__","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_2___default","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_3__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_3___default","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_4__","material_ui_svg_icons_content_content_copy__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_content_content_copy__WEBPACK_IMPORTED_MODULE_5___default","material_ui_svg_icons_content_content_paste__WEBPACK_IMPORTED_MODULE_6__","material_ui_svg_icons_content_content_paste__WEBPACK_IMPORTED_MODULE_6___default","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_7__","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_7___default","_styles__WEBPACK_IMPORTED_MODULE_8__","EditVariableRow","onAdd","onCopy","hasSelection","onPaste","hasClipboard","onDeleteSelection","toolColumnHeader","addVariableMessage","getInitialSelection","getSelection","selection","addToSelection","object","select","arguments","console","log","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","ptr","d","__webpack_exports__","CLIPBOARD_KIND","path","optionalRequire","gd","global","desktopSizes","androidSizes","iosSizes","PlatformSpecificAssetsDialog","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","_generateFromFile","resourceSources","onChooseResource","sources","source","kind","then","resources","resourcesManager","getResourcesManager","projectPath","dirname","fullPath","resolve","getFile","Promise","all","concat","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","size","resizeImage","results","indexOf","allResourcesNames","forEach","resourceName","hasResource","getResource","setFile","imageResource","ImageResource","setName","addResource","delete","ResourcesLoader","burstUrlsCacheForResources","setTimeout","setState","desktopIconResourceNames","androidIconResourceNames","iosIconResourceNames","showErrorBox","_onApply","_this$state","state","index","getPlatformSpecificAssets","set","onApply","_loadFrom","get","newProps","react__WEBPACK_IMPORTED_MODULE_7__","_lingui_react__WEBPACK_IMPORTED_MODULE_6__","keyboardFocused","_this$props2","resourceExternalEditors","_this$state2","_UI_Dialog__WEBPACK_IMPORTED_MODULE_10__","isResizeSupported","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_9___default","_ResourcesList_ResourceSelectorWithThumbnail__WEBPACK_IMPORTED_MODULE_13__","resourceKind","newIcons","React","_Utils_OptionalRequire__WEBPACK_IMPORTED_MODULE_0__","Jimp","inputFile","outputFile","read","jimpImage","contain","write","catch","err","error","material_ui_RefreshIndicator__WEBPACK_IMPORTED_MODULE_1__","material_ui_RefreshIndicator__WEBPACK_IMPORTED_MODULE_1___default","position","top","left","right","bottom","zIndex","pointerEvents","show","display","marginTop","marginLeft","electron","CloseConfirmDialog","_delayElectronClose","_setup","shouldPrompt","isDev","message","window","onbeforeunload","confirm","remote","getCurrentWindow","close","returnValue","tabsContainerStyle","flex","flexDirection","tabTemplateStyle","textAlign","TabTemplate","nextProps","selected","templateStyle","react__WEBPACK_IMPORTED_MODULE_7___default","ThemableTabs","_Component2","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","apply","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","hideLabels","tabsProps","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","tabItemContainerStyle","flexShrink","overflowX","closableTabs","contentContainerStyle","overflowY","material_ui_Tabs__WEBPACK_IMPORTED_MODULE_8__","tabTemplate","inkBarStyle","Tabs","muiName","ThemableTab","_this$props3","closable","tabProps","truncatedLabel","closeButtonWidth","marginRight","overflow","textOverflow","buttonStyle","selectedBackgroundColor","selectedTextColor","textColor","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10___default","hoverColor","borderRadius","minWidth","icon","material_ui_svg_icons_navigation_close__WEBPACK_IMPORTED_MODULE_9___default","Tab","getEditorTabsInitialState","editors","currentTab","openEditorTab","renderEditor","dontFocusTab","existingEditorId","findIndex","editor","editorTab","render","isCurrentTab","isActive","editorRef","changeCurrentTab","newTabId","Math","max","min","closeEditorTab","getEditors","getCurrentTabIndex","getCurrentTab","closeProjectTabs","editorProject","getProject","saveUiSettings","closeLayoutTabs","layout","editorLayout","getLayout","closeExternalLayoutTabs","externalLayout","ExternalLayoutEditor","getExternalLayout","closeExternalEventsTabs","externalEvents","ExternalEventsEditor","getExternalEvents","closeEventsFunctionsExtensionTabs","eventsFunctionsExtension","EventsFunctionsExtensionEditorWrapper","getEventsFunctionsExtension","getEventsFunctionsExtensionEditor","tabIndex","getThumbnail","ObjectsRenderingService","bind","indentWidth","container","EventContainer","_onEventUpdated","_onEventContextMenu","domEvent","preventDefault","onEventContextMenu","clientX","clientY","_container","offsetHeight","eventsHeightsCache","setEventHeight","event","EventComponent","EventsRenderingService","getEventComponent","react__WEBPACK_IMPORTED_MODULE_9___default","ref","onEventClick","onContextMenu","globalObjectsContainer","objectsContainer","isEventSelected","leftIndentWidth","onUpdate","onAddNewInstruction","onMoveToInstruction","onMoveToInstructionsList","onInstructionClick","onInstructionDoubleClick","onInstructionContextMenu","onInstructionsListContextMenu","onParameterClick","onOpenExternalEvents","onOpenLayout","renderObjectThumbnail","getNodeKey","treeIndex","SortableTree","className","otherProps","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__","react_sortable_tree__WEBPACK_IMPORTED_MODULE_12__","eventsTree","eventsSheetRootClassName","noop","ThemableEventsTree","_this3","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__","_eventsToTreeData","eventsList","flatData","parentDisabled","treeData","mapFor","getEventsCount","getEventAt","isDisabled","_renderEvent","indexInList","expanded","isFolded","getSubEvents","_onMoveNode","_ref3","node","targetPath","slice","targetNode","getNodeAtPath","targetEventsList","events","targetPosition","newEvent","clone","removeEvent","insertEvent","forceEventsUpdate","onEventMoved","_canDrop","_ref4","nextParent","canHaveSubEvents","_onVisibilityToggle","_ref5","setFolded","_renderObjectThumbnail","objectName","_this3$props","showObjectThumbnails","getObjectByName","classNames","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","_ref6","isCondition","x","y","_treeSearchMethod","_ref7","searchResults","searchQuery","find","highlightedEvent","compare","EventHeightsCache","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__","onHeightsChanged","cb","_this4","_list","wrappedInstance","recomputeRowHeights","_this5","row","_getEventRow","scrollToRow","EventsListUnfolder","unfoldWhenContaining","searchedEvent","_this6","scaffoldBlockPxWidth","onVisibilityToggle","onMoveNode","canDrop","rowHeight","_ref8","getEventHeight","searchMethod","searchFocusOffset","eventsTreeWithSearchResults","reactVirtualizedListProps","defaultProps","actionsList","StandardEvent","_classNames","standardEvent","asStandardEvent","conditionsListSyle","react__WEBPACK_IMPORTED_MODULE_6__","largeSelectableArea","largeSelectedArea","executableEventContainer","_InstructionsList__WEBPACK_IMPORTED_MODULE_7__","instrsList","getConditions","areConditions","getActions","instrFormatter","InstructionSentenceFormatter","loadTypesFormattingFromConfig","whiteSpace","wordWrap","cursor","marginBottom","Instruction","_renderInstructionText","metadata","instruction","formattedTexts","getAsFormattedText","parametersCount","getParametersCount","disabledText","_classNames2","parameterIndex","getTextFormatting","getUserData","parameterType","getParameter","getType","selectableArea","instructionParameter","ParameterRenderingService","renderParameterString","_classNames3","connectDragSource","connectDropTarget","isOver","MetadataProvider","getConditionMetadata","JsPlatform","getActionMetadata","instructionDiv","selectedArea","stopPropagation","onDoubleClick","isInverted","getSmallIconFilename","canHaveSubInstructions","_InstructionsList__WEBPACK_IMPORTED_MODULE_11__","extraClassName","subInstructionsContainer","getSubInstructions","onAddNewSubInstruction","onMoveToSubInstruction","onMoveToSubInstructionsList","onSubInstructionClick","onSubInstructionDoubleClick","onSubInstructionContextMenu","onSubInstructionsListContextMenu","onSubParameterClick","addButtonLabel","_DropIndicator__WEBPACK_IMPORTED_MODULE_13__","reactDndInstructionType","DragSource","beginDrag","connect","monitor","dragSource","DropTarget","getItem","drop","didDrop","dropTarget","shallow","RelationalOperatorField","_field","focus","parameterMetadata","getDescription","field","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_8___default","OperatorField","KeyField","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","focused","_keyNames","_description","react__WEBPACK_IMPORTED_MODULE_5___default","material_ui_AutoComplete__WEBPACK_IMPORTED_MODULE_6___default","defaultAutocompleteProps","searchText","onFocus","onUpdateInput","target","onNewRequest","data","dataSource","keyName","openOnFocus","isInline","button","margin","YesNoField","_UI_Grid__WEBPACK_IMPORTED_MODULE_8__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_7___default","TrueFalseField","ExpressionField","_GenericExpressionField__WEBPACK_IMPORTED_MODULE_6__","expressionType","ExpressionSelector","instructionsInfo","instructionsInfoTree","allExpressions","enumerateExpressions","createTree","_index__WEBPACK_IMPORTED_MODULE_7__","iconSize","enumerateExtensionExpressions","prefix","expressions","objectMetadata","behaviorMetadata","expressionsTypes","j","exprMetadata","isShown","parameters","isCodeOnly","displayedName","getFullName","groupName","getGroup","iconFilename","fullGroupName","type","freeExpressions","objectsExpressions","behaviorsExpressions","allExtensions","asPlatform","getAllPlatformExtensions","extension","allObjectsTypes","getExtensionObjectsTypes","allBehaviorsTypes","getBehaviorsTypes","allFreeExpressionsGetter","getAllExpressions","allObjectExpressionsGetter","getAllExpressionsForObject","allBehaviorExpressionsGetter","getAllExpressionsForBehavior","getAllStrExpressions","getAllStrExpressionsForObject","getAllStrExpressionsForBehavior","objMetadata","getObjectMetadata","k","autoMetadata","getBehaviorMetadata","filterOutCodeOnlyParameters","array","expressionMetadata","parameter","formatExpressionCall","expressionInfo","parameterValues","functionName","_parameterValues","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_toArray__WEBPACK_IMPORTED_MODULE_0__","otherParameters","functionArgs","_parameterValues2","behaviorName","defaultStyle","highlightedText","borderSizing","borderBottom","sortedHighlights","highlights","sort","highlight1","highlight2","begin","elements","lastPos","highlight","startPos","react__WEBPACK_IMPORTED_MODULE_1__","substring","end","StringField","StringWithSelectorField","_choices","JSON","parse","getExtraInfo","exception","choice","BehaviorField","_behaviorNames","_getError","_doValidation","_behaviorTypeAllowed","instructionMetadata","expression","getLastObjectParameterValue","getBehaviorsOfObject","toJSArray","getTypeOfBehavior","_updateBehaviorsList","noBehaviorErrorText","react__WEBPACK_IMPORTED_MODULE_5__","SceneVariableField","editorOpen","_VariableField__WEBPACK_IMPORTED_MODULE_6__","variablesContainer","getVariables","onOpenDialog","_VariablesList_VariablesEditorDialog__WEBPACK_IMPORTED_MODULE_7__","onCancel","forceUpdateVariables","emptyExplanationMessage","emptyExplanationSecondMessage","renderSceneVariable","renderVariableWithIcon","GlobalVariableField","renderGlobalVariable","ObjectVariableField","hasObjectNamed","getObject","renderObjectVariable","LayerField","_layersNames","_loadNamesFrom","getLayersCount","getLayerAt","layerName","AudioResourceField","_ResourcesList_ResourceSelector__WEBPACK_IMPORTED_MODULE_7__","resourcesLoader","initialResourceName","VideoResourceField","parseColor","rgbColor","colors","replace","split","r","parseInt","g","b","ParameterColorField","renderExtraButton","_UI_ColorField_ColorPicker__WEBPACK_IMPORTED_MODULE_7__","disableAlpha","onChangeComplete","rgb","ForceMultiplierField","showDeprecatedNumericValue","makeNonBreakable","Fragment","_UI_BackgroundText__WEBPACK_IMPORTED_MODULE_11__","_GenericExpressionField__WEBPACK_IMPORTED_MODULE_10__","renderForceMultiplierString","padding","fontSize","GroupEvent","editing","_textField","edit","endEditing","groupEvent","asGroupEvent","getBackgroundColorR","getBackgroundColorG","getBackgroundColorB","react__WEBPACK_IMPORTED_MODULE_8__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_10___default","textField","hintText","_lingui_react__WEBPACK_IMPORTED_MODULE_7__","inputStyle","WebkitTextFillColor","underlineFocusStyle","borderColor","minHeight","boxSizing","CommentEvent","input","ReactDOM","findDOMNode","_input","asCommentEvent","getComment","commentEvent","setComment","_getCommentHTML","rgbToHex","getBackgroundColorRed","getBackgroundColorGreen","getBackgroundColorBlue","getTextColorRed","getTextColorGreen","getTextColorBlue","dangerouslySetInnerHTML","__html","instructionsContainer","ForEachEvent","anchorEl","currentTarget","forEachEvent","asForEachEvent","getObjectToPick","_InstructionsList_js__WEBPACK_IMPORTED_MODULE_7__","_InlinePopover__WEBPACK_IMPORTED_MODULE_10__","_ParameterFields_ObjectField__WEBPACK_IMPORTED_MODULE_11__","setObjectToPick","RepeatEvent","repeatEvent","asRepeatEvent","getRepeatExpression","_ParameterFields_DefaultField__WEBPACK_IMPORTED_MODULE_11__","setRepeatExpression","whileEvent","asWhileEvent","getWhileConditions","LinkEvent","_externalEventsField","openTarget","i18n","asLinkEvent","getTarget","hasExternalEventsNamed","hasLayoutNamed","showWarningBox","_","linkEvent","linkContainer","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_9___default","material_ui_svg_icons_action_open_in_new__WEBPACK_IMPORTED_MODULE_8___default","_InlinePopover__WEBPACK_IMPORTED_MODULE_12__","_ParameterFields_ExternalEventsField__WEBPACK_IMPORTED_MODULE_13__","setTarget","externalEventsField","ExternalEventsField","_fullList","enumerateExternalEvents","layouts","enumerateLayouts","material_ui_Divider__WEBPACK_IMPORTED_MODULE_8___default","material_ui_AutoComplete__WEBPACK_IMPORTED_MODULE_7___default","wrappingText","fontFamily","paddingLeft","paddingRight","comment","commentLink","textDecoration","JsCodeEvent","editingObject","asJsCodeEvent","getInlineCode","jsCodeEvent","setInlineCode","newValue","editObject","endObjectEditing","parameterObjects","getParameterObjects","objects","functionStart","functionEnd","href","getHelpLink","rel","react_measure__WEBPACK_IMPORTED_MODULE_13___default","onMeasure","_CodeEditor__WEBPACK_IMPORTED_MODULE_14__","onEditorMounted","_InlinePopover__WEBPACK_IMPORTED_MODULE_9__","_ParameterFields_ObjectField__WEBPACK_IMPORTED_MODULE_10__","setParameterObjects","component","eventHeights","updateTimeoutId","cachedHeight","_notifyComponent","_RenderedInstance__WEBPACK_IMPORTED_MODULE_0__","pixi_js__WEBPACK_IMPORTED_MODULE_1__","RenderedUnknownInstance","instance","associatedObject","pixiContainer","pixiResourcesLoader","RenderedInstance","_pixiObject","PIXI","_pixiContainer","addChild","hasCustomSize","getCustomWidth","getCustomHeight","beginFill","lineStyle","moveTo","lineTo","endFill","prototype","create","update","_instance","getX","getY","rotation","getAngle","PI","RenderedSpriteInstance","_renderedAnimation","_renderedDirection","_centerX","_centerY","_originX","_originY","_pixiResourcesLoader","getInvalidPIXITexture","updatePIXITexture","updatePIXISprite","spriteObject","asSpriteObject","getAnimationsCount","getAnimation","getDirectionsCount","getDirection","getSpritesCount","imageName","getSprite","getImageName","getResourceFullUrl","anchor","texture","frame","_shouldNotRotate","toRad","scale","abs","updateSprite","_sprite","_associatedObject","hasNoAnimations","getRawFloatProperty","animation","hasNoDirections","useMultipleDirections","normalizedAngle","floor","round","direction","getPIXITexture","_project","getOrigin","isDefaultCenterPoint","noFrame","that","on","off","center","getCenter","getOriginX","getOriginY","getDefaultWidth","getDefaultHeight","RenderedTiledSpriteInstance","tiledSprite","asTiledSpriteObject","_texture","getTexture","TilingSprite","getWidth","getHeight","RenderedPanelSpriteInstance","makeObjects","updateTexture","panelSprite","asPanelSpriteObject","isTiled","_tiled","_textureName","updateAngle","updatePosition","oldWidth","_width","oldHeight","_height","updateWidthHeight","StretchedSprite","_centerSprite","_borderSprites","removeChildren","_updateLocalPositions","extraPixels","getLeftMargin","getTopMargin","getRightMargin","getBottomMargin","_updateSpritesAndTexturesSize","_wasRendered","cacheAsBitmap","renderer","makeInsideTexture","rect","pivot","RenderedTextInstance","textObject","asTextObject","align","_styleFontDirty","_fontFamily","getFontFamily","getFontName","isItalic","_isItalic","isBold","_isBold","getCharacterSize","_characterSize","_wrapping","_wrappingWidth","_fontName","loadFontFamily","warn","fontWeight","wordWrapWidth","breakWords","dirty","getColorR","_colorR","getColorG","_colorG","getColorB","_colorB","fill","_RenderedIconInstance__WEBPACK_IMPORTED_MODULE_0__","makeRenderer","_Utils_ColorTransformer__WEBPACK_IMPORTED_MODULE_2__","RenderedParticleEmitterInstance","updateGraphics","particleEmitterObject","asParticleEmitterObject","clear","emitterAngle","sprayConeAngle","getConeSprayAngle","line1Angle","line2Angle","rgbToHexNumber","getParticleRed2","getParticleGreen2","getParticleBlue2","cos","sin","getParticleRed1","getParticleGreen1","getParticleBlue1","drawCircle","loadFontFace","fontfaceobserver__WEBPACK_IMPORTED_MODULE_0__","fontfaceobserver__WEBPACK_IMPORTED_MODULE_0___default","descriptors","FontFace","fontFace","document","fonts","add","load","newStyle","appendChild","createTextNode","head","FontFaceObserver","enumerateExtensionInstructions","groupPrefix","extensionInstructions","instructionsTypes","allInstructions","instrMetadata","isHidden","getIconFilename","enumerateInstructions","getAllConditions","getAllActions","getAllConditionsForObject","getAllActionsForObject","getAllConditionsForBehavior","getAllActionsForBehavior","emptyContainer","parametersContainer","invertToggle","InstructionParametersEditor","_firstVisibleField","isDirty","_getInstructionMetadata","getCurrentPlatform","_openExtension","getExtensionAndConditionMetadata","getExtension","getExtensionAndActionMetadata","openInstructionOrExpression","focusOnMount","_getNonCodeOnlyParametersCount","isVisible","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_11__","_renderEmpty","helpPage","getHelpPath","instructionExtraInformation","getExtraInstructionInformation","setParametersCount","parameterFieldIndex","_UI_Grid__WEBPACK_IMPORTED_MODULE_14__","isAnEventFunctionMetadata","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_19___default","material_ui_svg_icons_action_open_in_new__WEBPACK_IMPORTED_MODULE_18___default","_UI_AlertMessage__WEBPACK_IMPORTED_MODULE_15__","parameterMetadataType","ParameterComponent","getParameterComponent","isFirstVisibleParameterField","setParameter","parameterRenderingService","material_ui_Toggle__WEBPACK_IMPORTED_MODULE_9___default","enabled","setInverted","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_13__","helpPagePath","Toolbar","_PureComponent","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","t","str","material_ui_Toolbar__WEBPACK_IMPORTED_MODULE_6__","lastChild","showPreviewButton","_UI_ToolbarIcon__WEBPACK_IMPORTED_MODULE_8__","onPreview","showNetworkPreviewButton","_UI_Menu_IconMenu__WEBPACK_IMPORTED_MODULE_9__","iconButtonElement","buildMenuTemplate","click","onNetworkPreview","onOpenDebugger","_UI_ToolbarSeparator__WEBPACK_IMPORTED_MODULE_7__","onAddStandardEvent","onAddSubEvent","canAddSubEvent","onAddCommentEvent","allEventsMetadata","fullName","onAddEvent","canRemove","undo","canUndo","redo","canRedo","onToggleSearchPanel","adaptAcceleratorString","onOpenSettings","InlineParameterEditor","_loadComponentFromInstruction","_unload","_InlinePopover__WEBPACK_IMPORTED_MODULE_6__","EmptyEventsPlaceholder","_UI_PlaceholderMessage__WEBPACK_IMPORTED_MODULE_2__","_lingui_react__WEBPACK_IMPORTED_MODULE_0__","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_3__","ensureSingleOnceInstructions","instructionsList","hasEndingOnceInstruction","hasInvalidOnce","removeAt","onceInstruction","setType","insert","toEventsContextResult","eventsContext","objectsNames","getObjectNames","toNewVectorString","objectOrGroupNames","getReferencedObjectOrGroupNames","objectOrGroupBehaviorNames","objectOrGroupName","behaviorNames","getBehaviorNamesOfObjectOrGroup","EventsContextAnalyzerDialog","eventsContextResult","_UI_Dialog__WEBPACK_IMPORTED_MODULE_7__","SearchPanel","replaceText","matchCase","searchInActions","searchInConditions","searchInSelection","searchTextField","launchSearch","onSearchInEvents","launchReplace","onReplaceInEvents","resultsCount","hasEventSelected","onGoToPreviousSearchResult","onGoToNextSearchResult","_this$state3","material_ui_Paper__WEBPACK_IMPORTED_MODULE_7___default","_UI_Grid__WEBPACK_IMPORTED_MODULE_9__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_8___default","_searchTextField","_UI_InlineCheckbox__WEBPACK_IMPORTED_MODULE_14__","material_ui_svg_icons_navigation_chevron_left__WEBPACK_IMPORTED_MODULE_11___default","material_ui_svg_icons_navigation_chevron_right__WEBPACK_IMPORTED_MODULE_12___default","EventsSearcher","eventsSearchResults","_resultEvents","_doReplaceInEvents","EventsRefactorer","replaceStringInEvents","_doSearchInEvents","newEventsSearchResults","searchInEvents","_updateListOfResultEvents","resultEventsWithDuplicates","eventsSearchResult","at","isEventValid","getEvent","uniqBy","_goToSearchResults","step","newSearchFocusOffset","_goToPreviousSearchResult","_goToNextSearchResult","eventsSearchResultEvents","replaceInEvents","goToNextSearchResult","goToPreviousSearchResult","containsSubInstructions","subInstructionsList","enumerateEventsMetadata","lodash_flatten__WEBPACK_IMPORTED_MODULE_0__","lodash_flatten__WEBPACK_IMPORTED_MODULE_0___default","_Utils_MapFor__WEBPACK_IMPORTED_MODULE_1__","flatten","extensionEvents","getAllEvents","EventsFunctionExtractorDialog","eventsFunction","extensionName","createNewExtension","serializedEvents","EventsFunction","setupFunctionFromEvents","enumerateEventsFunctionsExtensions","onCreate","eventsFunctionsExtensions","hasLotsOfParameters","functionHasLotsOfParameters","secondaryActions","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_20__","canCreateEventsFunction","_UI_Grid__WEBPACK_IMPORTED_MODULE_10__","_UI_DismissableAlertMessage__WEBPACK_IMPORTED_MODULE_17__","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_12___default","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_13___default","material_ui_Divider__WEBPACK_IMPORTED_MODULE_14___default","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_11__","validateExtensionNameUniqueness","validateExtensionName","validateEventsFunctionNameUniqueness","validateEventsFunctionName","_UI_AlertMessage__WEBPACK_IMPORTED_MODULE_16__","_EventsFunctionsExtensionEditor_EventsFunctionConfigurationEditor_EventsFunctionPropertiesEditor__WEBPACK_IMPORTED_MODULE_19__","onConfigurationUpdated","freezeEventsFunctionType","_EventsFunctionsExtensionEditor_EventsFunctionConfigurationEditor_EventsFunctionParametersEditor__WEBPACK_IMPORTED_MODULE_18__","onParametersUpdated","freezeParameters","getObjectGroupByName","objectGroupName","getObjectGroups","has","EventsFunctionsExtensionEditor","selectedEventsFunction","editOptionsDialogOpen","_loadEventsFunctionFrom","_globalObjectsContainer","ObjectsContainer","_objectsContainer","EventsFunctionTools","eventsFunctionToObjectsContainer","selectEventsFunctionByName","hasEventsFunctionNamed","_selectEventsFunction","getEventsFunction","updateToolbar","_makeRenameEventsFunction","newName","done","Project","validateObjectName","WholeProjectRefactorer","renameEventsFunction","_onDeleteEventsFunction","_editOptions","initiallyFocusedFunctionName","setToolbar","_UI_EditorMosaic__WEBPACK_IMPORTED_MODULE_8__","_editors","toolbarControls","_UI_Background__WEBPACK_IMPORTED_MODULE_12__","_EventsFunctionConfigurationEditor__WEBPACK_IMPORTED_MODULE_10__","onParametersOrGroupsUpdated","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_9__","events-sheet","_EventsSheet__WEBPACK_IMPORTED_MODULE_7__","getEvents","options","onCreateEventsFunction","functions-list","_EventsFunctionsList__WEBPACK_IMPORTED_MODULE_11__","eventsFunctionsContainer","onSelectEventsFunction","onDeleteEventsFunction","onRenameEventsFunction","onEditOptions","initialNodes","first","second","splitPercentage","_OptionsEditorDialog__WEBPACK_IMPORTED_MODULE_13__","ObjectGroupEditor","newObjectName","removeObject","group","onSizeUpdated","addObject","getAllObjectsNames","objectType","getTypeOfObject","_this$props4","_renderExplanation","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_8___default","material_ui_svg_icons_content_remove__WEBPACK_IMPORTED_MODULE_9___default","_UI_Grid__WEBPACK_IMPORTED_MODULE_12__","_ObjectsList_ObjectSelector__WEBPACK_IMPORTED_MODULE_10__","onChoose","noGroups","OptionsEditorDialog","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_7___default","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_11__","setFullName","setDescription","getVersion","setVersion","LayerRenderer","layer","viewPosition","instances","onInstanceClicked","onOverInstance","onOutInstance","onMoveInstance","onMoveInstanceEnd","onDownInstance","getInstanceLeft","renderedInstances","getInstanceTop","getInstanceWidth","getInstanceHeight","getRendererOfInstance","renderedInstance","associatedObjectName","getObjectName","createNewInstanceRenderer","interactive","gesture","panable","deltaX","deltaY","viewTopLeft","viewBottomRight","instancesRenderer","InitialInstanceJSFunctor","invoke","instancePtr","wrapPointer","InitialInstance","pixiObject","getPixiObject","zOrder","getZOrder","isLocked","_isInstanceVisible","visible","wasUsed","toSceneCoordinates","_computeViewBounds","iterateOverInstancesWithZOrdering","_updatePixiObjectsZOrder","_updateVisibility","_cleanRenderers","getVisibility","hasOwnProperty","getInstance","instanceRemovedFromScene","SelectionRectangle","instanceMeasurer","toCanvasCoordinates","makeSelectionRectangle","lastX","lastY","selectionRectangleStart","selectionRectangleEnd","endSelectionRectangle","_instancesInSelectionRectangle","tmp","iterateOverInstances","selector","pixiRectangle","hitArea","instanceHeight","instanceWidth","selectionSceneStart","selectionSceneEnd","x1","y1","x2","y2","fillAlpha","alpha","drawRect","InstancePropertiesEditor","_instanceVariablesList","schema","valueType","getValue","setValue","setObjectName","onEditButtonClick","onEditObjectByName","setX","setY","setAngle","setLocked","setZOrder","getChoices","enumerateLayers","getLayer","setLayer","setCustomWidth","setCustomHeight","setHasCustomSize","properties","getCustomProperties","instanceSchema","propertiesMapToSchema","updateCustomProperty","_UI_Grid__WEBPACK_IMPORTED_MODULE_15__","_PropertiesEditor__WEBPACK_IMPORTED_MODULE_10__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_14___default","editInstanceVariables","material_ui_svg_icons_action_open_in_new__WEBPACK_IMPORTED_MODULE_16___default","_VariablesList__WEBPACK_IMPORTED_MODULE_12__","inheritedVariablesContainer","_UI_Background__WEBPACK_IMPORTED_MODULE_7__","_renderInstancesProperties","InstancesList","_onRowClick","renderedRows","onSelectInstances","_rowGetter","_rowClassName","selectedInstances","freezeUpdate","table","forceUpdateGrid","instanceRowRenderer","locked","toFixed","angle","tableKey","_UI_Theme_ThemeConsumer__WEBPACK_IMPORTED_MODULE_8__","react_virtualized__WEBPACK_IMPORTED_MODULE_7__","headerHeight","tableRootClassName","headerClassName","rowCount","rowGetter","onRowClick","rowClassName","dataKey","VariablesEditorDialog","selectedLayer","layersContainer","secondary","choices","layerRemoved","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_10___default","modal","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_9___default","toolbarItemStyle","sizeTextField","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","toolbarItem","checkbox","TextEditor","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_12__","setCharacterSize","_UI_ColorField_ColorPicker__WEBPACK_IMPORTED_MODULE_11__","setColor","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_8___default","setBold","setItalic","_ResourcesList_ResourceSelector__WEBPACK_IMPORTED_MODULE_13__","setFontName","rows","rowsMax","setString","TiledSpriteEditor","tiledSpriteObject","_ResourcesList_ResourceSelectorWithThumbnail__WEBPACK_IMPORTED_MODULE_9__","setTexture","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_7__","setWidth","setHeight","PanelSpriteEditor","panelSpriteObject","_ResourcesList_ResourceSelectorWithThumbnail__WEBPACK_IMPORTED_MODULE_10__","setTiled","material_ui_TextField__WEBPACK_IMPORTED_MODULE_7___default","setTopMargin","setBottomMargin","setLeftMargin","setRightMargin","gridList","animationTitle","animationTools","lastLine","addAnimation","addAnimationText","AddAnimationLine","extraTools","react__WEBPACK_IMPORTED_MODULE_9__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_21__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_15___default","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_13___default","Animation","onSpriteContextMenu","selectedSprites","onSelectSprite","onReplaceDirection","onChangeName","animationName","material_ui_GridList__WEBPACK_IMPORTED_MODULE_10__","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_22__","smallest","_UI_DragHandle__WEBPACK_IMPORTED_MODULE_23__","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_19__","_lingui_react__WEBPACK_IMPORTED_MODULE_8__","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_14___default","_SpritesList__WEBPACK_IMPORTED_MODULE_12__","onReplaceByDirection","newDirection","SortableAnimation","SortableElement","SortableAnimationsList","SortableContainer","onAddAnimation","onRemoveAnimation","onChangeAnimationName","extraBottomTools","cellHeight","cols","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","directionId","AnimationsListContainer","onSortEnd","oldIndex","newIndex","moveAnimation","emptyAnimation","setDirectionsCount","removeAnimation","changeAnimationName","otherNames","deleteSelection","deleteSpritesFromAnimation","duplicateSelection","duplicateSpritesInAnimation","openSpriteContextMenu","sprite","selectSprite","spriteContextMenu","replaceDirection","animationId","setDirection","helperClass","useDragHandle","lockAxis","axis","_UI_Menu_ContextMenu__WEBPACK_IMPORTED_MODULE_24__","SpriteEditor","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","pointsEditorOpen","collisionMasksEditorOpen","openPointsEditor","openCollisionMasksEditor","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_17___default","_UI_Dialog__WEBPACK_IMPORTED_MODULE_20__","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_16___default","_PointsEditor__WEBPACK_IMPORTED_MODULE_27__","onPointsUpdated","_CollisionMasksEditor__WEBPACK_IMPORTED_MODULE_28__","onCollisionMasksUpdated","require","spritesList","thumbnailExtraStyle","addSpriteButton","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_6__","thumbnailContainerStyle","background","spriteThumbnailImage","maxHeight","verticalAlign","AddSpriteButton","displayHint","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_11___default","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_10___default","SortableSpriteThumbnail","_ResourcesList_ResourceThumbnail_ImageThumbnail__WEBPACK_IMPORTED_MODULE_14__","selectable","SortableList","onAddSprite","spritesCount","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__","checkDirectionPointsAndCollisionsMasks","allDirectionSpritesHaveSamePoints","allDirectionSpritesHaveSameCollisionMasks","allDirectionSpritesHaveSamePointsAs","allDirectionSpritesHaveSameCollisionMasksAs","SpritesList","moveSprite","_checkDirectionPoints","resource","Sprite","setImageName","copySpritePoints","copySpritePolygons","addSprite","editWith","externalEditor","resourceNames","_checkDirectionPoints2","externalEditorData","metadataRaw","getMetadata","singleFrame","extraOptions","fps","getTimeBetweenFrames","basename","extname","isLooping","onChangesSaved","newAnimationName","Direction","setTimeBetweenFrames","setLoop","originalIndex","originalSprite","setMetadata","stringify","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_13__","_DirectionTools__WEBPACK_IMPORTED_MODULE_12__","onEditWith","PointsEditor","animationIndex","directionIndex","spriteIndex","samePointsForAnimations","samePointsForSprites","_updatePoints","_getCurrentElements","getCurrentElements","otherAnimation","copyAnimationsSpritePoints","chooseAnimation","_updateSamePointsToggles","chooseDirection","chooseSprite","_getCurrentElements2","every","allSpritesHaveSamePointsAs","_setSamePointsForAllAnimations","enable","_setSamePointsForAllSprites","_getCurrentElements3","hasValidSprite","_ResourcesList_ResourcePreview_ImagePreview__WEBPACK_IMPORTED_MODULE_12__","_PointsPreview__WEBPACK_IMPORTED_MODULE_11__","pointsContainer","_Utils_SpriteSelector__WEBPACK_IMPORTED_MODULE_14__","sameForAllAnimations","sameForAllSprites","setSameForAllAnimations","setSameForAllSprites","setSameForAllAnimationsLabel","setSameForAllSpritesLabel","_PointsList__WEBPACK_IMPORTED_MODULE_10__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_7__","SortableAddPointRow","AddPointRow","SortablePointRow","PointRow","PointsListBody","nameErrors","updateOriginPointX","_onPointsUpdated","updateOriginPointY","updateCenterPointX","updateCenterPointY","updatePointX","point","updatePointY","nonDefaultPoints","getAllNonDefaultPoints","pointsRows","mapVector","pointName","react__WEBPACK_IMPORTED_MODULE_8___default","pointX","pointY","onChangePointX","onChangePointY","nameError","success","hasPoint","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","delPoint","originPoint","centerPoint","originRow","centerRow","isAutomatic","onEdit","setDefaultCenterPoint","addRow","newNameGenerator","Point","addPoint","material_ui_Table__WEBPACK_IMPORTED_MODULE_9__","displayRowCheckbox","deselectOnClickaway","showRowHover","SortablePointsListBody","PointsList","displaySelectAll","adjustForCheckbox","handleColumn","coordinateColumn","lockToContainerEdges","react__WEBPACK_IMPORTED_MODULE_1___default","material_ui_Table__WEBPACK_IMPORTED_MODULE_2__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_6___default","parseFloat","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_4___default","material_ui_svg_icons_editor_mode_edit__WEBPACK_IMPORTED_MODULE_5___default","material_ui_Table__WEBPACK_IMPORTED_MODULE_1__","_styles__WEBPACK_IMPORTED_MODULE_4__","pointKindIdentifiers","NORMAL","ORIGIN","CENTER","PointsPreview","draggedPoint","draggedPointKind","_onStartDragPoint","_onEndDragPoint","draggingWasDone","_onMouseMove","containerBoundingRect","getBoundingClientRect","xOnContainer","yOnContainer","_renderPoint","imageSrc","transform","onPointerDown","imageWidth","imageHeight","points","automaticCenterPosition","onPointerMove","onPointerUp","CollisionMasksEditor","sameCollisionMasksForAnimations","sameCollisionMasksForSprites","spriteWidth","spriteHeight","_updateCollisionMasks","copyAnimationsSpriteCollisionMasks","_updateSameCollisionMasksToggles","allSpritesHaveSameCollisionMasksAs","_onSetCollisionMaskAutomatic","automatic","setCollisionMaskAutomatic","_setSameCollisionMasksForAllAnimations","_setSameCollisionMasksForAllSprites","_setCurrentSpriteSize","_this$state4","_getCurrentElements4","_ResourcesList_ResourcePreview_ImagePreview__WEBPACK_IMPORTED_MODULE_13__","onSize","_CollisionMasksPreview__WEBPACK_IMPORTED_MODULE_12__","isDefaultBoundingBox","isCollisionMaskAutomatic","polygons","getCustomCollisionMask","onPolygonsUpdated","_Utils_SpriteSelector__WEBPACK_IMPORTED_MODULE_15__","_PolygonsList__WEBPACK_IMPORTED_MODULE_11__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_8__","SortableAddPolygonRow","AddPolygonRow","SortableAddVerticeRow","AddVerticeRow","SortableVerticeRow","VerticeRow","SortablePolygonRow","PolygonRow","PolygonsListBody","updateVerticeX","vertice","set_x","_onPolygonUpdated","updateVerticeY","set_y","polygonRows","polygon","vertices","getVertices","isConvex","removeFromVectorPolygon2d","verticesCount","verticeX","get_x","verticeY","get_y","onChangeVerticeX","onChangeVerticeY","removeFromVectorVector2f","hasWarning","newVertice","Vector2f","push_back","newPolygon","Polygon2d","createRectangle","move","material_ui_Table__WEBPACK_IMPORTED_MODULE_8__","SortablePolygonsListBody","PolygonsList","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_2__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_2___default","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_3__","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_3___default","material_ui_TextField__WEBPACK_IMPORTED_MODULE_4__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_4___default","material_ui_svg_icons_alert_warning__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_alert_warning__WEBPACK_IMPORTED_MODULE_5___default","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_6__","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_6___default","_styles__WEBPACK_IMPORTED_MODULE_7__","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_4__","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_4___default","_styles__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_content_add_circle__WEBPACK_IMPORTED_MODULE_2__","material_ui_svg_icons_content_add_circle__WEBPACK_IMPORTED_MODULE_2___default","svg","vertexCircle","CollisionMasksPreview","draggedVertex","_onStartDragVertex","_onEndDragVertex","_onPointerMove","pointOnScreen","_svg","createSVGPoint","screenToSvgMatrix","getScreenCTM","inverse","pointOnSvg","matrixTransform","stroke","strokeWidth","fileRule","vertex","cx","cy","_renderBoundingBox","_renderPolygons","EmptyEditor","_UI_Grid__WEBPACK_IMPORTED_MODULE_7__","shapePainterObject","asShapePainterObject","areCoordinatesAbsolute","setCoordinatesRelative","setCoordinatesAbsolute","_UI_ColorField__WEBPACK_IMPORTED_MODULE_10__","getOutlineColorR","getOutlineColorG","getOutlineColorB","setOutlineColor","getOutlineOpacity","setOutlineOpacity","getOutlineSize","setOutlineSize","getFillColorR","getFillColorG","getFillColorB","setFillColor","getFillOpacity","setFillOpacity","ParticleEmitterEditor","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_8___default","getRendererType","setRendererType","ParticleEmitterObject","Quad","setParticleTexture","Line","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_12__","getRendererParam1","setRendererParam1","getRendererParam2","setRendererParam2","getParticleTexture","_UI_ColorField__WEBPACK_IMPORTED_MODULE_11__","setParticleRed1","setParticleGreen1","setParticleBlue1","getParticleAlpha1","setParticleAlpha1","setParticleRed2","setParticleGreen2","setParticleBlue2","getParticleAlpha2","setParticleAlpha2","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_7___default","isRenderingAdditive","setRenderingAdditive","setRenderingAlpha","getDestroyWhenNoParticles","setDestroyWhenNoParticles","getMaxParticleNb","setMaxParticleNb","getTank","setTank","getFlow","setFlow","getEmitterForceMin","setEmitterForceMin","getEmitterForceMax","setEmitterForceMax","setConeSprayAngle","getZoneRadius","setZoneRadius","getParticleGravityX","setParticleGravityX","getParticleGravityY","setParticleGravityY","getFriction","setFriction","getParticleLifeTimeMin","setParticleLifeTimeMin","getParticleLifeTimeMax","setParticleLifeTimeMax","getParticleSize1","setParticleSize1","getParticleSize2","setParticleSize2","getParticleAngle1","setParticleAngle1","getParticleAngle2","setParticleAngle2","ObjectPropertiesEditor","getProperties","propertiesSchema","updateProperty","extraInformation","getExtraObjectsInformation","_UI_AlertMessage__WEBPACK_IMPORTED_MODULE_12__","_PropertiesEditor__WEBPACK_IMPORTED_MODULE_7__","InstancesSelection","getSelectedInstances","multiselect","layersVisibility","isInstanceSelected","unselectInstance","clearSelection","selectInstance","splice","SetupGridDialog","gridWidth","gridHeight","gridOffsetX","gridOffsetY","gridOptions","ScenePropertiesDialog","setWindowDefaultTitle","windowTitle","setStopSoundsOnStartup","shouldStopSoundsOnStartup","setBackgroundColor","getWindowDefaultTitle","stopSoundsOnStartup","propertiesEditors","getAllBehaviorSharedDataNames","sharedData","getBehaviorSharedData","_PropertiesEditor__WEBPACK_IMPORTED_MODULE_13__","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_16___default","onEditVariables","some","onOpenMoreSettings","showObjectsList","openObjectsList","openObjectGroupsList","openProperties","instancesSelection","toggleInstancesList","toggleLayersList","isWindowMaskShown","toggleWindowMask","isGridShown","toggleGrid","openSetupGrid","zoomIn","accelerator","zoomOut","setZoomFactor","flexContainer","absoluteContainer","passFullSize","WrappedComponent","useFlex","_Component","FullSizeMeasurer","_getPrototypeOf2","_len","args","Array","_key","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","wrappedComponentRef","react_measure__WEBPACK_IMPORTED_MODULE_7___default","xScrollbar","xSliderStyle","yScrollbar","ySliderStyle","addScrollbars","ScrollbarContainer","_editor","xValue","yValue","xMin","xMax","yMin","yMax","_handleXChange","scrollTo","_handleYChange","_setAndAdjust","_handleViewPositionChange","throttle","getViewX","getViewY","leading","trailing","getViewPosition","wrappedEditorRef","onViewPositionChanged","material_ui_Slider__WEBPACK_IMPORTED_MODULE_7___default","sliderStyle","glob","hasElectron","listContainer","ResourcesList","renamedResource","resourcesWithMissingPath","_deleteResource","onDeleteResource","_locateResourceFile","resourceFolderPath","getLocalResourceFullPath","shell","openItem","_openResourceFile","resourceFilePath","_copyResourceFilePath","clipboard","writeText","_scanForNewResources","extensions","createResource","res","pathFound","fileName","relative","createOrUpdateResource","info","_removeUnusedResources","resourceType","ProjectResourcesAdder","getAllUseless","removeAllUseless","_removeAllResourcesWithInvalidPath","getAllResourceNames","resourceHasValidPath","removeResource","_editName","sortableList","getWrappedInstance","_rename","onRenameResource","doRename","_move","moveResource","forceUpdateList","_renderResourceMenuTemplate","RESOURCE_EXTENSIONS","image","audio","AudioResource","font","FontResource","video","VideoResource","checkMissingPaths","nextState","selectedResource","onSelectResource","allResourcesList","filteredList","filterResourcesList","listKey","_UI_Background__WEBPACK_IMPORTED_MODULE_8__","react_virtualized__WEBPACK_IMPORTED_MODULE_6__","_UI_SortableVirtualizedItemList__WEBPACK_IMPORTED_MODULE_7__","fullList","selectedItem","onItemSelected","renamedItem","onRename","distance","erroredItems","material_ui_search_bar__WEBPACK_IMPORTED_MODULE_9___default","onRequestSearch","lowercaseSearchText","toLowerCase","errorHandler","componentStack","sendErrorMessage","ErrorFallbackComponent","_PlaceholderMessage__WEBPACK_IMPORTED_MODULE_4__","material_ui_svg_icons_action_bug_report__WEBPACK_IMPORTED_MODULE_3___default","material_ui_Divider__WEBPACK_IMPORTED_MODULE_5___default","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_6___default","body","stack","encodeURIComponent","ErrorBoundary","react_error_boundary__WEBPACK_IMPORTED_MODULE_2___default","FallbackComponent","onError","descriptionText","card","bulletIcon","bulletText","SubscriptionDialog","isLoading","choosePlan","userProfile","plan","getAuthorizationHeader","subscription","profile","sendChoosePlanClicked","planId","stripeCustomerId","changeUserSubscription","uid","handleNewSubscriptionSuccess","handleNewSubscriptionFailure","stripeCheckout","StripeCheckout","stripeCheckoutHandler","configure","StripeCheckoutConfig","locale","token","stripeToken","currency","email","amount","monthlyPriceInEuros","onRefreshUserProfile","showMessageBox","_isLoading","sendSubscriptionDialogShown","_UserProfileContext__WEBPACK_IMPORTED_MODULE_10__","_UI_Dialog__WEBPACK_IMPORTED_MODULE_9__","getSubscriptionPlans","material_ui_Card__WEBPACK_IMPORTED_MODULE_7__","_renderPrice","subtitle","smallDescription","descriptionBullets","material_ui_svg_icons_action_check_circle__WEBPACK_IMPORTED_MODULE_15___default","extraDescription","_UI_LeftLoader__WEBPACK_IMPORTED_MODULE_18__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_14___default","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_16__","authenticated","_UI_PlaceholderMessage__WEBPACK_IMPORTED_MODULE_19__","onLogin","displayLocaleMetadata","localeMetadata","languageCode","renderLanguageMenuItem","translationRatio","percent","isStarted","languageNativeName","languageName","LanguageDialog","languageDidChange","localesToDisplay","LocalesMetadata","goodProgressLocales","startedLocales","_lingui_react__WEBPACK_IMPORTED_MODULE_15__","_PreferencesContext__WEBPACK_IMPORTED_MODULE_12__","setLanguage","isLoadingLanguage","language","_UI_AlertMessage__WEBPACK_IMPORTED_MODULE_13__","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_6___default","material_ui_Divider__WEBPACK_IMPORTED_MODULE_16___default","module","exports","chip","chipsList","flexWrap","ExamplesSearchbar","_chips","isBuiltin","chosenExtensionName","onExtensionNameChosen","material_ui_Chip__WEBPACK_IMPORTED_MODULE_8___default","labelColor","randomColor","seed","luminosity","admob","usedExtensions","advanced-shape-based-painter","animation-speed-scale","asteroids","basic-ai-with-pathfinding","basic-artificial-intelligence","basic-topdown-car-driving","betabox-basics-learning-experience","bomb-the-crate","bouncing-ball-and-rope","breakout","buttons","car-physics","center-object-within-another","change-position-of-object","change-scale-of-sprites","change-sprite-animation","change-sprite-color","character-selection","controller-input","create-object-with-mouseclick","custom-font","custom-mouse-pointer","customize-keys-with-lastpressedkey","device-orientation-ballgame","device-orientation-compass","device-vibration","downhill-bike-physics-demo","drag-camera-with-mouse","drop-collect-items-from-storage","endless-up-runner","exit-app","facebook-instant-game","find-diagonals","geodash","health-bar","infinite-scrolling-background","inventory-system","isometric-game","javascript-blocks-in-platformer","keyboard-practice","level-editor","load-image-from-url","magnet","manipulate-text-object","move-camera-to-position","move-object-back-and-forth","move-object-in-circle","move-object-toward-position","move-object-with-mouse-joint","move-object-with-physics","multitouch","object-gravity","object-selection","objects-timers","open-url-in-browser","pairs","parallax","parallax-scrolling","parse-json-from-api","parse-json-string","particles-explosions","particles-various-effects","pathfinding","pathfinding-basics","physics","physics-joints-demo","physics-joints-settings-demo","pin-object-to-another","pin-object-to-another-multiple-parents","pixel-perfect-platform-game","plane-and-clouds","platformer","platformer-double-jump","play-music-on-mobile","play-stop-sprite-animation","racing-game","ragdoll","rain","random-color-picker","rotate-toward-mouse","rotate-toward-position","rotate-with-keypress","save-load","screen-shake","shoot-bullet-in-parabola","shoot-bullets","shooting-bullets-explanation","snap-object-to-grid","space-invaders","space-shooter","space-shooter-with-functions","splash-screen","sprite-fade-in-out","take-screenshot","text-entry-object","text-fade-in-out","text-to-speech","toggle-music-play-sound","type-on-text-effect","video-player","z-depth","zombie-laser","GDI18nProvider","catalogs","_loadCatalog","catalog","_loadLanguage","prevProps","setupI18n","getTranslation","getTranslationFunction","./af_ZA/messages","./ar_SA/messages","./az_AZ/messages","./bg_BG/messages","./bn_BD/messages","./ca_ES/messages","./cs_CZ/messages","./da_DK/messages","./de_DE/messages","./el_GR/messages","./en/messages","./eo_UY/messages","./es_ES/messages","./fa_IR/messages","./fi_FI/messages","./fil_PH/messages","./fr_FR/messages","./ha_HG/messages","./he_IL/messages","./hu_HU/messages","./id_ID/messages","./it_IT/messages","./ja_JP/messages","./ko_KR/messages","./lt_LT/messages","./mr_IN/messages","./ms_MY/messages","./my_MM/messages","./nl_NL/messages","./no_NO/messages","./pl_PL/messages","./pseudo_LOCALE/messages","./pt_BR/messages","./pt_PT/messages","./ro_RO/messages","./ru_RU/messages","./sk_SK/messages","./sr_CS/messages","./sr_SP/messages","./sv_SE/messages","./th_TH/messages","./tr_TR/messages","./uk_UA/messages","./ur_PK/messages","./yo_NG/messages","./zh_CN/messages","./zh_TW/messages","webpackAsyncContext","req","ids","Error","code","SimpleDropTarget","NativeTypes","TEXT","item","isOverCurrent","itemType","getItemType","InstancesRenderer","classCallCheck","layersRenderers","layerRenderer","getInstanceRect","getPixiContainer","resetRenderersFor","removeChild","transformRect","transformPoint","endPos","onResize","onResizeEnd","onRotate","onRotateEnd","rectanglesContainer","selectedRectangles","resizeButton","resizeIcon","fromImage","rightResizeButton","bottomResizeButton","rotateButton","_makeButton","objectButton","onMove","onEnd","buttonMode","buttonObject","canvasPosition","shape","newRectangle","instanceRect","selectionRectangle","pop","resizeButtonPos","rightResizeButtonPos","bottomResizeButtonPos","rotateButtonPos","buttonPadding","_renderButton","highlightedInstance","highlightRectangle","tooltipBackground","tooltipText","tooltipInfo","drawRoundedRect","InstancesResizer","instanceSizes","totalDeltaX","totalDeltaY","snap","grid","proportional","initialSize","selectedInstance","_roundWidth","_getSizeDeltaX","_roundHeight","_getSizeDeltaY","InstancesRotator","instanceAngles","initialAngle","atan2","_getNewAngle","InstancesMover","instancePositions","noGridSnap","roundPosition","followAxis","initialPosition","_roundXPosition","_getMoveDeltaX","_roundYPosition","_getMoveDeltaY","pixiGrid","sceneStartPoint","sceneEndPoint","startXPos","startYPos","endXPos","ceil","endYPos","Xpos","start","Ypos","WindowBorder","windowRectangle","getMainWindowDefaultWidth","getMainWindowDefaultHeight","displayedRectangle","windowMask","DropHandler","canvas","onDrop","ondragover","ondrop","ev","dataTransfer","dropEffect","canvasRect","getData","BackgroundColor","pixiRenderer","FpsLimiter","maxFps","_lastFrameTime","Date","now","_interval","_forceUpdate","delta","stopPIXITicker","ticker","shared","stop","startPIXITicker","canvasArea","dropCursor","InstancesEditorContainer","possibleConstructorReturn","getPrototypeOf","lastCursorX","lastCursorY","_onBackgroundClicked","view","keyboardShortcuts","shouldMultiSelect","onInstancesSelected","_onPanMove","shouldMoveView","sceneDeltaX","getZoomFactor","sceneDeltaY","scrollBy","_getLayersVisibility","_onEndSelectionRectangle","instancesSelected","selectInstances","_onInstanceClicked","_onOverInstance","setInstance","_onDownInstance","shouldCloneInstances","initialInstances","insertInitialInstance","_onOutInstance","_onMoveInstance","instancesMover","moveBy","shouldFollowAxis","shouldNotSnapToGrid","_onMoveInstanceEnd","endMove","onInstancesMoved","_onResize","instancesResizer","resizeBy","shouldResizeProportionally","_onResizeEnd","endResize","onInstancesResized","_onRotate","instancesRotator","rotateBy","_onRotateEnd","endRotate","onInstancesRotated","_onDrop","newPos","onAddInstance","clearHighlightedInstance","moveSelection","getLastContextMenuPosition","lastContextMenuX","lastContextMenuY","getLastCursorPosition","_renderScene","_unmounted","_renderingPaused","fpsLimiter","shouldUpdate","windowBorder","nextFrame","requestAnimationFrame","pauseSceneRendering","cancelAnimationFrame","restartSceneRendering","_initializeCanvasAndRenderer","antialias","addEventListener","offsetX","offsetY","onPointerOver","onPointerOut","onmousewheel","shouldZoom","zoomBy","wheelDelta","shouldScrollHorizontally","setAttribute","blur","backgroundArea","ViewPosition","Grid","KeyboardShortcuts","onDelete","onCut","onUndo","onRedo","onZoomOut","onZoomIn","dropHandler","_mountEditorComponents","getInstanceMeasurer","SelectedInstances","HighlightedInstance","WindowMask","unmount","resize","forceNextUpdate","setOptions","pauseRendering","zoomFactor","onChangeOptions","scrollToInstance","react_default","DragDropHelpers_SimpleDropTarget","objectSpread","showDropCursor","HelpIcon","node_modules_react_default","IconButton_default","help_outline_default","BehaviorListItem","List","leftAvatar","Avatar_default","NewBehaviorDialog","showDeprecated","_showDeprecated","platform","enumerateBehaviorsMetadata","FlatButton_default","react","deprecatedBehaviorsInformation","getDeprecatedBehaviorsInformation","behaviors","deprecatedBehaviors","chooseBehavior","defaultName","warning","Dialog","HelpButton","NewBehaviorDialog_BehaviorListItem","Subheader_default","visibility_off_default","visibility_default","getBehaviorHelpPagePath","behavior","getTypeName","BehaviorPropertiesEditor","node_modules_react","PropertiesEditor","EmptyMessage","ShapePreview","_onVertexDown","draggedIndex","_onMouseUp","onMoveVertex","polygonOrigin","dimensionA","dimensionB","fixedWidth","fixedHeight","halfLength","_this$props5","filerule","renderBox","renderCircle","renderEdge","renderPolygon","PolygonEditor","edges","v1","v2","zProductIsPositive","alignedX","alignedY","onChangeVertexX","onChangeVertexY","Table","_isPolygonConvex","warning_default","SemiControlledTextField","toString","delete_default","add_circle_default","NumericProperty","propertyName","getLabel","floatingLabelFixed","BitProperty","pos","spacing","Checkbox_default","BehaviorsEditorService","getEditor","behaviorType","components","Physics2::Physics2Behavior","_setImageSize","bitsValue","bits","layersValues","masksValues","SelectField_default","MenuItem_default","ImagePreview","ShapePreview_ShapePreview","newX","newY","ResourceSelector","PolygonEditor_PolygonEditor","_isBitEnabled","_enableBit","addBehaviorLine","addBehaviorText","behaviorTitle","behaviorTools","AddBehaviorLine","add_default","BehaviorsEditor","chooseNewBehavior","newBehaviorDialogOpen","_hasBehaviorWithType","getAllBehaviorNames","getBehavior","addBehavior","hasBehaviorNamed","addNewBehavior","_onChangeBehaviorName","renameBehavior","_onRemoveBehavior","removeBehavior","allBehaviorNames","BehaviorComponent","MiniToolbar","TextField_default","BehaviorsEditor_AddBehaviorLine","NewBehaviorDialog_NewBehaviorDialog","titleContainer","ObjectEditorDialog","_onChangeTab","inherits","createClass","EditorComponent","editorComponent","titleStyle","canRenameObject","BehaviorsEditor_BehaviorsEditor","ObjectEditorDialogContainer","dialogComponent","castToObjectType","editorConfiguration","ObjectsEditorService","getEditorConfiguration","withSerializableObject","propName","newObjectCreator","createNewObject","useProjectToUnserialize","EditorDialog","getGravatarUrl","hash","md5","trim","lineHeight","ProfileDetails","PlaceholderLoader","UsagesDetails","usages","usage","format","createdAt","SubscriptionDetails","onChangeSubscription","RaisedButton_default","ProfileDialog","newTab","UserProfileContext","onLogout","CreateProfile","visibleColumn","LayerRow","onChangeVisibility","DragHandle","checkedIcon","uncheckedIcon","AddLayerRow","SortableAddLayerRow","SortableLayerRow","LayersListBody","layersCount","containerLayersList","mapReverseFor","hasLayerNamed","onRenameLayer","defineProperty","onRemoveLayer","doRemove","removeLayer","setVisibility","insertNewLayer","SortableLayersListBody","LayersList","moveLayer","oldName","getPasteLabel","isGlobalObject","clipboardObjectName","Clipboard","clipboardContent","ThemableObjectRow","_onContextMenu","_iconMenu","IconMenu","iconMenu","more_vert_default","onEditName","onSetAsGlobalObject","onAddNewObject","onCopyObject","onCutObject","onPasteObject","onDuplicateObject","editingName","onKeyPress","charCode","listItem","itemStyle","separatorColor","leftIcon","ListIcon","_renderObjectMenu","onObjectSelected","ObjectRow","ObjectListItem","NewObjectDialog","showExperimental","_showExperimental","enumerateObjectTypes","experimentalObjectsInformation","getExperimentalObjects","experimentalObjects","NewObjectDialog_ObjectListItem","AddObjectRow","makeAddItem","ListItem","SortableObjectRow","objectWithoutProperties","ObjectsList_ObjectRow","SortableAddObjectRow","ObjectsList","selectedObjectNames","es","rowRenderer","objectWithContext","nameBeingEdited","renamedObjectWithScope","onEditObject","SortableObjectsList","withRef","ObjectsListContainer","containerObjectsList","projectObjectsList","newObjectDialogOpen","variablesEditedObject","_this2$props","insertNewObject","getObjectsCount","_deleteObject","_this2$props2","onDeleteObject","_copyObject","serializeToJSObject","_cutObject","_duplicateObject","_pasteAndRename","_paste","pasteObject","_Clipboard$get","copiedObject","_this2$props3","onObjectPasted","newObject","getObjectPosition","unserializeFromJSObject","_editVariables","onRenameObject","canMoveObjects","_this2$props4","moveObject","projectOldIndex","projectNewIndex","_onStartDraggingObject","_this2$props5","onStartDraggingObject","getObjectAt","projectIndex","_setAsGlobalObject","_this2$props6","insertObject","lists","enumerateObjects","filterObjectsList","allObjectsList","Background","onSortStart","onEndDraggingObject","lib_default","NewObjectDialog_NewObjectDialog","InstructionSelector","InstructionOrExpressionSelector","typeSelector","parametersEditor","InstructionEditor","chooseType","_instructionParametersEditor","InstructionSelector_InstructionSelector","selectedType","Paper_default","rounded","zDepth","instructionParametersEditor","dialogContent","dialogBody","InstructionEditorDialog","isNewInstruction","onSubmit","bodyStyle","InstructionEditor_InstructionEditor","ObjectGroupsListWithObjectGroupEditor","editedGroup","_onDeleteGroup","groupWithScope","_onRenameGroup","editGroup","objectGroups","globalObjectGroups","ObjectGroupsList","onEditGroup","onDeleteGroup","onRenameGroup","onGroupAdded","onGroupsUpdated","onGroupRemoved","onGroupRenamed","ObjectGroupEditorDialog","ScrollView","EventsFunctionConfigurationEditor","_chooseTab","renderConfigurationHeader","EventsFunctionPropertiesEditor","EventsFunctionParametersEditor","ObjectGroupsListWithObjectGroupEditor_ObjectGroupsListWithObjectGroupEditor","logo","GDevelopLogo","ScrollBackground","palette","canvasColor","innerContainer","centerContainer","logoPaper","buttonsPaper","StartPage","aboutDialogOpen","canOpen","onOpen","onOpenProjectManager","onCloseProject","onOpenAboutDialog","onOpenHelpFinder","onOpenLanguageDialog","StartPage_ScrollBackground","StartPage_GDevelopLogo","language_default","iconClassName","BaseEditor","UnknownEvent","unknownEvent","BuiltinCommonInstructions::Standard","BuiltinCommonInstructions::Group","BuiltinCommonInstructions::Comment","BuiltinCommonInstructions::ForEach","BuiltinCommonInstructions::Repeat","BuiltinCommonInstructions::While","WhileEvent","BuiltinCommonInstructions::Link","BuiltinCommonInstructions::JsCode","registerEvent","eventType","renderFunction","dropdownMenuContainer","poweredByText","opacity","indexName","appId","apiKey","algoliaOptions","hitsPerPage","DocSearchArea","client","algoliasearch","_handleSearchTextChange","_launchSearchRequest","debounce","search","query","params","hits","_renderResult","result","hierarchy","lvl0","lvl1","lvl2","lvl3","lvl4","lvl5","lvl6","objectID","content","url","visibility","HelpFinder","_sendHelpSearch","sendHelpSearch","sendHelpFinderOpened","DocSearchArea_DocSearchArea","ChangelogDialog","_lingui_react","Changelog","onUpdated","ChangelogDialogContainer","defaultOpen","ChangelogDialog_ChangelogDialog","PreferencesContext","verifyIfIsNewVersion","ChangelogDialogContainer_ChangelogDialogContainer","timeField","timeIcon","AnimationPreview","currentFrameIndex","currentFrameElapsedTime","paused","timeBetweenFrames","nextUpdate","replay","play","pause","_updateAnimation","spritesContainer","newFrameIndex","newFrameElapsedTime","count","onChangeTimeBetweenFrames","autoFocus","timer_default","time","precision","index_es","replay_default","play_arrow_default","pause_default","repeatContainer","repeatLabel","spacer","formatTime","Number","DirectionTools","timeError","previewOpen","saveTimeBetweenFrames","newTime","newTimeIsValid","isNaN","setLooping","openPreview","displayName","brush_default","repeat_default","labelStyle","AnimationPreview_AnimationPreview","fs","setupAutocompletions","monaco","importAllJsFilesFromFolder","folderPath","readdir","filenames","filename","endsWith","readFile","fileError","languages","typescript","javascriptDefaults","addExtraLib","findGDJS","gdjsRoot","runtimePath","extensionsPath","eventToolsPath","folderNames","folderName","monacoEditorOptions","scrollBeyondLastLine","minimap","monacoCompletionsInitialized","monacoThemesInitialized","CodeEditor","_React$Component","MonacoEditor","setupEditorThemes","themeData","defineTheme","setupEditorCompletions","setCompilerOptions","ScriptTarget","ES6","allowNonTsExtensions","allowJs","checkJs","_handleContextMenu","loadMonacoEditor","default","handleLoadError","theme","editorWillMount","editorDidMount","ProjectPropertiesDialog","_subscriptionChecker","windowDefaultWidth","windowDefaultHeight","author","version","packageName","orientation","adMobAppId","scaleMode","sizeOnStartupMode","showGDevelopSplash","minFPS","maxFPS","isFolderProject","setDefaultWidth","setDefaultHeight","setAuthor","setPackageName","setOrientation","setAdMobAppId","setScaleMode","setSizeOnStartupMode","setMinimumFPS","setMaximumFPS","getLoadingScreen","setFolderProject","displayProjectErrorsBox","getErrors","getAuthor","getPackageName","getOrientation","getAdMobAppId","getScaleMode","getSizeOnStartupMode","isGDevelopSplashShown","getMinimumFPS","getMaximumFPS","DismissableAlertMessage","checkHasSubscription","SubscriptionChecker","subscriptionChecker","mode","LAYOUT_CLIPBOARD_KIND","EXTERNAL_LAYOUT_CLIPBOARD_KIND","EXTERNAL_EVENTS_CLIPBOARD_KIND","EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND","projectStructureItemNestedList","itemName","itemTextField","ProjectStructureItem","onRefresh","ThemeConsumer","groupBackgroundColor","nestedListStyle","refresh_default","Item","canPaste","canMoveUp","onMoveUp","canMoveDown","onMoveDown","AddItem","ProjectManager","renamedItemKind","renamedItemName","projectPropertiesDialogOpen","variablesEditorOpen","_onEditName","_copyLayout","_cutLayout","onDeleteLayout","_pasteLayout","copiedLayout","newLayout","insertNewLayout","updateBehaviorsSharedData","_moveUpLayout","swapLayouts","_moveDownLayout","getLayoutsCount","_copyExternalEvents","_cutExternalEvents","onDeleteExternalEvents","_pasteExternalEvents","_Clipboard$get2","copiedExternalEvents","newExternalEvents","insertNewExternalEvents","_moveUpExternalEvents","swapExternalEvents","_moveDownExternalEvents","getExternalEventsCount","_copyExternalLayout","_cutExternalLayout","onDeleteExternalLayout","_pasteExternalLayout","_Clipboard$get3","copiedExternalLayout","hasExternalLayoutNamed","newExternalLayout","insertNewExternalLayout","_moveUpExternalLayout","swapExternalLayouts","_moveDownExternalLayout","getExternalLayoutsCount","_copyEventsFunctionsExtension","_cutEventsFunctionsExtension","onDeleteEventsFunctionsExtension","_pasteEventsFunctionsExtension","_Clipboard$get4","copiedEventsFunctionsExtension","hasEventsFunctionsExtensionNamed","newEventsFunctionsExtension","insertNewEventsFunctionsExtension","_moveUpEventsFunctionsExtension","swapEventsFunctionsExtensions","_moveDownEventsFunctionsExtension","getEventsFunctionsExtensionsCount","_searchBar","hasMainMenu","ProjectManager_ProjectStructureItem","isGDevelopIcon","initiallyOpen","primaryTogglesNestedList","autoGenerateNestedIndicator","nestedItems","onSaveProject","onExportProject","onOpenPreferences","eventsFunctionsExtensionsError","onReloadEventsFunctionsExtensions","forceOpen","_renderMenu","onOpenPlatformSpecificAssets","onOpenResources","filterProjectItemsList","ProjectManager_Item","onRenameLayout","onAddLayout","onRenameExternalEvents","onAddExternalEvents","enumerateExternalLayouts","onOpenExternalLayout","onRenameExternalLayout","onAddExternalLayout","onOpenEventsFunctionsExtension","onRenameEventsFunctionsExtension","onAddEventsFunctionsExtension","searchBar","ProjectManager_ProjectPropertiesDialog","ExpressionParametersEditor","expressionMetdata","onChangeParameter","getNonCodeOnlyParametersCount","ExpressionParametersEditorDialog","onDone","ExpressionParametersEditor_ExpressionParametersEditor","editedIndex","oldValue","EventsFunctionsList","renamedEventsFunction","_deleteEventsFunction","removeEventsFunction","moveEventsFunction","_renderEventsFunctionMenuTemplate","_addNewEventsFunction","insertNewEventsFunction","getEventsFunctionsCount","toConsumableArray","filterEventFunctionsList","getEventsFunctionAt","enumerateEventsFunctions","Divider_default","SortableVirtualizedItemList","onAddNewItem","addNewItemLabel","Column","Spacer","marginsSize","defaultBody","noMarginBody","actionsContainer","actionsContainerWithSecondaryActions","dialogActions","material_ui_Dialog__WEBPACK_IMPORTED_MODULE_2___default","actionsContainerStyle","func","cppVector","_Theme_ThemeConsumer__WEBPACK_IMPORTED_MODULE_2__","_BackgroundText__WEBPACK_IMPORTED_MODULE_3__","messageStyle","UrlsCache","projectCache","cache","_getProjectCache","systemFilename","disableCacheBurst","resourcesNames","_cache","burstUrl","cachedUrl","getCachedUrl","isLocalFile","file","resourceAbsolutePath","cacheLocalFileUrl","cacheUrl","resourceRelativePath","getFullUrl","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_2___default","material_ui_svg_icons_action_help_outline__WEBPACK_IMPORTED_MODULE_3___default","getInputNode","serializable","methodName","serializedElement","SerializerElement","Serializer","toJSON","optionalProject","fromJSObject","conditionsContainer","dropIndicator","cantDropIndicator","exists","potentialName","initialPreferences","create_react_context__WEBPACK_IMPORTED_MODULE_0__","lastLaunchedVersion","createReactContext","material_ui_CircularProgress__WEBPACK_IMPORTED_MODULE_2___default","app","process","isDarwin","test","tryPath","onExists","onNoAccess","access","constants","R_OK","appPath","getAppPath","cwd","pathToRoot","rootPath","devPath","material_ui_Paper__WEBPACK_IMPORTED_MODULE_1__","material_ui_Paper__WEBPACK_IMPORTED_MODULE_1___default","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_0__","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_0___default","GDIconMenu","menuImplementation","buildFromTemplate","showMenu","_onClick","ElectronMenuImplementation","MaterialUIMenuImplementation","iconMenuProps","material_ui_IconMenu__WEBPACK_IMPORTED_MODULE_7___default","desktop","disableAutoFocus","getMenuProps","textFieldStyle","menuProps","popoverProps","canAutoPosition","fuzzyOrEmptyFilter","_layout","angleInDegrees","layers","initialUserProfile","limits","AlertMessage","onHide","material_ui_Paper__WEBPACK_IMPORTED_MODULE_2___default","_Grid__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_action_info__WEBPACK_IMPORTED_MODULE_3___default","material_ui_svg_icons_alert_warning__WEBPACK_IMPORTED_MODULE_4___default","material_ui__WEBPACK_IMPORTED_MODULE_6__","onEditObjectVariables","_index__WEBPACK_IMPORTED_MODULE_10__","VariablesContainer","electronClipboard","internalClipboard","mangleClipboardKind","000kind","readText","autoComplete","_addFrom","_onUpdate","notExistingError","_onItemChosen","defaultItems","_editWith","resourceExternalEditor","initialResourceMetadata","initialResourceMetadataRaw","externalEditorOptions","newResourceData","newResourceName","_autoComplete","rightIcon","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_11___default","material_ui_Divider__WEBPACK_IMPORTED_MODULE_9___default","getKind","_getDefaultItems","autoCompleteData","externalEditors","_UI_Menu_IconMenu__WEBPACK_IMPORTED_MODULE_13__","material_ui_svg_icons_image_brush__WEBPACK_IMPORTED_MODULE_12___default","_Renderers_RenderedUnknownInstance__WEBPACK_IMPORTED_MODULE_0__","_Renderers_RenderedSpriteInstance__WEBPACK_IMPORTED_MODULE_1__","_Renderers_RenderedTiledSpriteInstance__WEBPACK_IMPORTED_MODULE_2__","_Renderers_RenderedPanelSpriteInstance__WEBPACK_IMPORTED_MODULE_3__","_Renderers_RenderedTextInstance__WEBPACK_IMPORTED_MODULE_4__","_Renderers_RenderedShapePainterInstance__WEBPACK_IMPORTED_MODULE_5__","_Renderers_RenderedTextEntryInstance__WEBPACK_IMPORTED_MODULE_6__","_Renderers_RenderedParticleEmitterInstance__WEBPACK_IMPORTED_MODULE_7__","_PixiResourcesLoader__WEBPACK_IMPORTED_MODULE_8__","_ResourcesLoader__WEBPACK_IMPORTED_MODULE_9__","_Renderers_RenderedInstance__WEBPACK_IMPORTED_MODULE_10__","pixi_js__WEBPACK_IMPORTED_MODULE_11__","renderers","unknownObjectType","TiledSpriteObject::TiledSprite","PanelSpriteObject::PanelSprite","TextObject::Text","PrimitiveDrawing::Drawer","RenderedShapePainterInstance","TextEntryObject::TextEntry","RenderedTextEntryInstance","ParticleSystem::ParticleEmitter","PixiResourcesLoader","registerInstanceRenderer","ToolbarIcon","_Theme_ThemeConsumer__WEBPACK_IMPORTED_MODULE_8__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_7___default","iconStyle","gdevelopIconsCSSFilter","material_ui_Toolbar__WEBPACK_IMPORTED_MODULE_1__","crossOrigin","_UI_Messages_MessageBox__WEBPACK_IMPORTED_MODULE_0__","lodash_values__WEBPACK_IMPORTED_MODULE_1__","lodash_values__WEBPACK_IMPORTED_MODULE_1___default","errors","addError","extraExplanation","addButton","InstructionsList","instructions","instructionContext","_Instruction__WEBPACK_IMPORTED_MODULE_7__","isInstructionSelected","instructionsListContext","addButtonDefaultLabel","_DropIndicator__WEBPACK_IMPORTED_MODULE_12__","filterGroupsList","enumerateGroups","enumerateObjectsAndGroups","_Utils_MapFor__WEBPACK_IMPORTED_MODULE_0__","lodash_flatten__WEBPACK_IMPORTED_MODULE_1__","lodash_flatten__WEBPACK_IMPORTED_MODULE_1___default","filterObject","extensionsList","groupWithContext","getAt","filterGroup","containerGroups","containerGroupsList","projectGroups","projectGroupsList","allGroupsList","popover","paddingBottom","contentContainer","InlinePopover","material_ui_Popover__WEBPACK_IMPORTED_MODULE_6___default","anchorOrigin","horizontal","vertical","targetOrigin","ThemableMiniToolbar","toolbar","toolbarTextStyle","MiniToolbarText","columnContainer","rowContainer","fieldContainer","subPropertiesEditorContainer","subHeader","getFieldValue","getFieldLabel","_onInstancesModified","onInstancesModified","_renderInputField","_UI_InlineCheckbox__WEBPACK_IMPORTED_MODULE_7__","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_6__","material_ui_svg_icons_image_edit__WEBPACK_IMPORTED_MODULE_14___default","_renderSelectField","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_11___default","_renderResourceField","_ResourcesList_ResourceSelector__WEBPACK_IMPORTED_MODULE_8__","material_ui_Subheader__WEBPACK_IMPORTED_MODULE_10___default","onUpdateProperty","propertyNames","property","charAt","toUpperCase","imagePreviewContainer","border","overlayContainer","box","_handleError","errored","_handleImageLoaded","imgElement","clientWidth","clientHeight","resourcePath","imageSource","scrollTop","scrollLeft","overlayStyle","canDisplayOverlays","onLoad","lodash_every__WEBPACK_IMPORTED_MODULE_1__","lodash_every__WEBPACK_IMPORTED_MODULE_1___default","hasValidAnimation","hasValidDirection","copyPoint","originalPoint","destinationPoint","destinationSprite","isSamePoint","point1","point2","sprite1","sprite2","sprite1Point","getPoint","originalPolygon","haveSameCollisionMasks","sprite1CollisionMask","sprite2CollisionMask","sprite1Polygon","polygon1","polygon2","polygon1Vertices","polygon2Vertices","isSamePolygon","spritePtrs","spritesToDelete","removeSprite","spritesToDuplicate","spriteToDuplicate","newSprite","rest","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2___default","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_4___default","textFieldContainer","textFieldAndHightlightContainer","expressionSelector","backgroundHighlighting","backgroundHighlightingWithDescription","functionsButton","functionsButtonWithDescription","_fieldElement","_inputElement","popoverOpen","parametersDialogOpen","selectedExpressionInfo","validatedValue","errorHighlights","_openExpressionPopover","_handleFocus","_handleRequestClose","_handleChange","_enqueueValidation","_handleBlur","cancel","_handleMenuMouseDown","_handleExpressionChosen","insertExpression","cursorPosition","selectionStart","functionCall","substr","setSelectionRange","parser","ExpressionParser2","expressionNode","parseExpression","expressionValidator","ExpressionValidator","visit","getStartPosition","getEndPosition","getMessage","hasMultipleErrors","popoverStyle","backgroundHighlightingStyle","_BackgroundHighlighting__WEBPACK_IMPORTED_MODULE_16__","material_ui_Popover__WEBPACK_IMPORTED_MODULE_8___default","useLayerForClickAway","_InstructionEditor_InstructionOrExpressionSelector_ExpressionSelector__WEBPACK_IMPORTED_MODULE_13__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_10___default","material_ui_svg_icons_editor_functions__WEBPACK_IMPORTED_MODULE_9___default","_ExpressionParametersEditorDialog__WEBPACK_IMPORTED_MODULE_14__","PhysicsBehavior::PhysicsBehavior","Video::VideoObject","_Editors_TextEditor__WEBPACK_IMPORTED_MODULE_0__","_Editors_TiledSpriteEditor__WEBPACK_IMPORTED_MODULE_1__","_Editors_PanelSpriteEditor__WEBPACK_IMPORTED_MODULE_2__","_Editors_SpriteEditor__WEBPACK_IMPORTED_MODULE_3__","_Editors_EmptyEditor__WEBPACK_IMPORTED_MODULE_4__","_Editors_ShapePainterEditor__WEBPACK_IMPORTED_MODULE_5__","_Editors_ParticleEmitterEditor__WEBPACK_IMPORTED_MODULE_6__","_Editors_ObjectPropertiesEditor__WEBPACK_IMPORTED_MODULE_7__","editorConfigurations","registerEditorConfiguration","getDefaultObjectJsImplementationPropertiesEditor","asObjectJsImplementation","release","SpriteObject","TiledSpriteObject","PanelSpriteObject","TextObject","ShapePainterEditor","ShapePainterObject","TextEntryObject","asTextEntryObject","getUrl","buildElectron","buildCordovaAndroid","getBuild","getBuilds","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","_ApiConfigs__WEBPACK_IMPORTED_MODULE_1__","userId","targets","authorizationHeader","axios","post","GDevelopBuildApi","baseUrl","headers","Authorization","response","buildId","ResourceThumbnail","ImageThumbnail","ResourceSelectorWithThumbnail","ResourceThumbnail_ResourceThumbnail","CloseButton","_this$context","context","mosaicActions","mosaicWindowActions","remove","getPath","close_default","contextTypes","PropTypes","addRightNode","currentNode","newNode","MosaicWithoutDragDropContext","lib","mosaicRootClassName","ThemableEditorMosaic","openEditor","editorName","getLeaves","mosaicNode","_onChange","renderTile","cloneElement","defaultToolbarControls","CloseButton_CloseButton","MosaicWindow","drawerContent","MainFrame","createDialogOpen","exportDialogOpen","introDialogOpen","saveDialogOpen","genericDialogOpen","loadingProject","previewLoading","currentProject","projectManagerOpen","editorTabs","genericDialog","snackMessage","snackMessageOpen","preferencesDialogOpen","languageDialogOpen","profileDialogOpen","subscriptionDialogOpen","platformSpecificAssetsDialogOpen","helpFinderDialogOpen","_resourceSourceDialogs","_previewLauncher","_providers","_loadExtensions","extensionsLoader","loadAllExtensions","getNotNullTranslationFunction","loadingResults","successLoadingResults","loadingResult","failLoadingResults","dangerous","dangerousLoadingResults","loadFromSerializedProject","serializedProject","timeFunction","newProject","ProjectHelper","createNewGDJSProject","unserializeFrom","closeProject","loadFromProject","burstAllUrlsCache","_loadProjectEventsFunctionsExtensions","eventsFunctionWriter","loadProjectEventsFunctionsExtensions","openFromPathOrURL","shouldOpenAutosave","projectFilePath","autoSavePath","onReadFromPathOrURL","projectObject","setProjectFile","openSceneOrProjectManager","openProjectManager","unloadProjectEventsFunctionsExtensions","getSerializedElements","toggleProjectManager","refs","setEditorToolbar","editorToolbar","addLayout","addExternalLayout","addExternalEvents","addEventsFunctionsExtension","deleteLayout","removeLayout","deleteExternalLayout","removeExternalLayout","deleteExternalEvents","removeExternalEvents","deleteEventsFunctionsExtension","removeEventsFunctionsExtension","renameLayout","renameExternalLayout","renameExternalEvents","renameEventsFunctionsExtension","_launchLayoutPreview","watchPromiseInState","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","_handlePreviewResult","launchLayoutPreview","_launchExternalLayoutPreview","launchExternalLayoutPreview","previewPromise","reject","openLayout","_ref$openEventsEditor","openEventsEditor","_ref$openSceneEditor","openSceneEditor","onAutoSaveProject","sceneEditorOptions","_Preferences_PreferencesContext__WEBPACK_IMPORTED_MODULE_49__","_Editors_SceneEditor__WEBPACK_IMPORTED_MODULE_34__","layoutName","previewLauncher","canDoNetworkPreview","openDebugger","integratedEditor","_onChooseResource","eventsEditorOptions","_Editors_EventsEditor__WEBPACK_IMPORTED_MODULE_32__","openExternalEvents","_openInstructionOrExpression","_onCreateEventsFunction","tabsWithSceneEditor","tabsWithSceneAndEventsEditors","_Editors_ExternalEventsEditor__WEBPACK_IMPORTED_MODULE_33__","externalEventsName","openExternalLayout","_Editors_ExternalLayoutEditor__WEBPACK_IMPORTED_MODULE_35__","externalLayoutName","openEventsFunctionsExtension","_ref9","_Editors_EventsFunctionsExtensionEditor__WEBPACK_IMPORTED_MODULE_36__","eventsFunctionsExtensionName","openResources","_ref10","_Editors_ResourcesEditor__WEBPACK_IMPORTED_MODULE_38__","openStartPage","_ref11","_Editors_StartPage__WEBPACK_IMPORTED_MODULE_37__","onChooseProject","chooseProject","openCreateDialog","askToCloseProject","openAboutDialog","openHelpFinderDialog","openLanguage","_ref12","_Editors_DebuggerEditor__WEBPACK_IMPORTED_MODULE_31__","openSubscription","getFunctionNameFromType","foundTab","insertEventsFunction","filepath","save","saveDialog","_openSaveDialog","_showSnackMessage","getLayoutAt","openExportDialog","_openIntroDialog","_openGenericDialog","openPreferences","openProfile","_onChangeEditorTab","_onEditorTabActive","_onCloseEditorTab","sourceName","multiSelection","resourceSourceDialog","chooseResources","openPlatformSpecificAssets","setUpdateStatus","notificationTitle","getUpdateNotificationTitle","notificationBody","getUpdateNotificationBody","Notification","onclick","simulateUpdateDownloaded","releaseName","simulateUpdateAvailable","_closeSnackMessage","initialPathsOrURLsToOpen","introDialog","reloadBuiltinExtensions","exportDialog","createDialog","authentification","showLoader","loading","_ProjectTitlebar__WEBPACK_IMPORTED_MODULE_14__","material_ui_Drawer__WEBPACK_IMPORTED_MODULE_10___default","containerStyle","_UI_EditorBar__WEBPACK_IMPORTED_MODULE_20__","showMenuIconButton","iconElementRight","material_ui_svg_icons_navigation_close__WEBPACK_IMPORTED_MODULE_12___default","_ProjectManager__WEBPACK_IMPORTED_MODULE_17__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_45__","_Toolbar__WEBPACK_IMPORTED_MODULE_13__","showProjectIcons","hasProject","exportProject","requestUpdate","_UI_Tabs__WEBPACK_IMPORTED_MODULE_25__","onActive","_UI_ErrorBoundary__WEBPACK_IMPORTED_MODULE_39__","_UI_LoaderModal__WEBPACK_IMPORTED_MODULE_19__","_HelpFinder__WEBPACK_IMPORTED_MODULE_30__","material_ui_Snackbar__WEBPACK_IMPORTED_MODULE_11___default","autoHideDuration","_PlatformSpecificAssetsEditor_PlatformSpecificAssetsDialog__WEBPACK_IMPORTED_MODULE_18__","onExport","resourceSource","dialog","_Profile_ProfileDialog__WEBPACK_IMPORTED_MODULE_22__","_Profile_SubscriptionDialog__WEBPACK_IMPORTED_MODULE_40__","_Preferences_PreferencesDialog__WEBPACK_IMPORTED_MODULE_15__","_Preferences_LanguageDialog__WEBPACK_IMPORTED_MODULE_48__","languageChanged","_languageDidChange","_AboutDialog__WEBPACK_IMPORTED_MODULE_16__","_UI_CloseConfirmDialog__WEBPACK_IMPORTED_MODULE_21__","_Changelog_ChangelogDialogContainer__WEBPACK_IMPORTED_MODULE_46__","gdCoreVersionString","VersionWrapper","fullString","ideVersionString","_temp","_apply","serializableObject","serializeTo","_cancel","_objectSpread2","material_ui_svg_icons_editor_drag_handle__WEBPACK_IMPORTED_MODULE_1__","material_ui_svg_icons_editor_drag_handle__WEBPACK_IMPORTED_MODULE_1___default","react_sortable_hoc__WEBPACK_IMPORTED_MODULE_2__","handle","handleColor","SortableHandle","emptyExplanation","iconText","thanksText","SubscriptionCheckDialog","_closeDialog","sendSubscriptionCheckDismiss","sendSubscriptionCheckDialogShown","material_ui_svg_icons_toggle_star__WEBPACK_IMPORTED_MODULE_10___default","material_ui_svg_icons_action_favorite__WEBPACK_IMPORTED_MODULE_11___default","_dialog","_UserProfileContext__WEBPACK_IMPORTED_MODULE_12__","getExternalEventsAt","getExternalLayoutAt","getEventsFunctionsExtensionAt","orDivider","_UI_Grid__WEBPACK_IMPORTED_MODULE_4__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_3___default","EventsSheet","_keyboardShortcuts","inlineEditing","editedInstruction","copySelection","cutSelection","pasteEventsOrInstructions","onSearch","_toggleSearchPanel","history","getHistoryInitialState","historyMaxSize","editedParameter","inlineEditingAnchorEl","inlineEditingChangesMade","analyzedEventsContextResult","serializedEventsToExtract","showSearchPanel","_eventSearcher","reset","_searchPanel","addSubEvents","getSelectedEvents","insertNewEvent","_saveChangesToHistory","_eventsTree","_selectionCanHaveSubEvents","_selectionCanToggleDisabled","isExecutable","addNewEvent","hasEventsSelected","newEvents","getSelectedEventContexts","selectedEvent","scrollToEvent","openInstructionEditor","moveSelectionToInstruction","destinationContext","moveSelectionToInstructionsList","selectedInstructions","getSelectedInstructions","destinationIndex","deleteEvents","selectEvent","eventContext","multiSelect","openEventContextMenu","eventContextMenu","openInstructionContextMenu","selectInstruction","instructionContextMenu","openInstructionsListContextMenu","selectInstructionsList","instructionsListContextMenu","openParameterEditor","parameterContext","closeParameterEditor","toggleDisabled","setDisabled","_ref$deleteInstructio","deleteInstructions","_ref$deleteEvents","eventsRemover","EventsRemover","addEventToRemove","addInstructionToRemove","launch","EventsList","pasteEvents","insertEvents","pasteInstructions","hasInstructionSelected","hasInstructionsListSelected","getSelectedInstructionsContexts","insertInstructions","getSelectedInstructionsListsContexts","_invertSelectedConditions","saveToHistory","newHistory","_openEventsContextAnalyzer","eventsContextAnalyzer","EventsContextAnalyzer","getEventsContext","_closeEventsContextAnalyzer","extractEventsToFunction","_replaceSelectionByEventsFunction","contexts","action","createNewInstructionForEventsFunction","_ensureEventUnfolded","unfoldForEvent","_replaceInEvents","doReplaceInEvents","inputs","_searchInEvents","doSearchInEvents","_onEventMoved","_Toolbar__WEBPACK_IMPORTED_MODULE_8__","hasSomethingSelected","networkPreview","saveChanges","_MainFrame_Preferences_PreferencesContext__WEBPACK_IMPORTED_MODULE_23__","_EventsSearcher__WEBPACK_IMPORTED_MODULE_20__","eventSearcher","_EventsTree__WEBPACK_IMPORTED_MODULE_6__","onAddNewEvent","_SearchPanel__WEBPACK_IMPORTED_MODULE_19__","searchPanel","_EmptyEventsPlaceholder__WEBPACK_IMPORTED_MODULE_16__","_InlineParameterEditor__WEBPACK_IMPORTED_MODULE_10__","_this4$state$editedPa","_UI_Menu_ContextMenu__WEBPACK_IMPORTED_MODULE_11__","submenu","hasSelectedAtLeastOneCondition","_InstructionEditor_InstructionEditorDialog__WEBPACK_IMPORTED_MODULE_7__","closeInstructionEditor","_this4$state$editedIn","_EventsContextAnalyzerDialog__WEBPACK_IMPORTED_MODULE_18__","_EventsFunctionExtractor_EventsFunctionExtractorDialog__WEBPACK_IMPORTED_MODULE_24__","selectedEvents","selectedInstructionsLists","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","return","existingSelection","isInstructionsListSelected","_ParameterFields_DefaultField__WEBPACK_IMPORTED_MODULE_1__","_ParameterFields_RelationalOperatorField__WEBPACK_IMPORTED_MODULE_2__","_ParameterFields_OperatorField__WEBPACK_IMPORTED_MODULE_3__","_ParameterFields_MouseField__WEBPACK_IMPORTED_MODULE_4__","_ParameterFields_KeyField__WEBPACK_IMPORTED_MODULE_5__","_ParameterFields_ObjectField__WEBPACK_IMPORTED_MODULE_6__","_ParameterFields_YesNoField__WEBPACK_IMPORTED_MODULE_7__","_ParameterFields_TrueFalseField__WEBPACK_IMPORTED_MODULE_8__","_ParameterFields_ExpressionField__WEBPACK_IMPORTED_MODULE_9__","_ParameterFields_StringField__WEBPACK_IMPORTED_MODULE_10__","_ParameterFields_StringWithSelectorField__WEBPACK_IMPORTED_MODULE_11__","_ParameterFields_BehaviorField__WEBPACK_IMPORTED_MODULE_12__","_ParameterFields_SceneVariableField__WEBPACK_IMPORTED_MODULE_13__","_ParameterFields_GlobalVariableField__WEBPACK_IMPORTED_MODULE_14__","_ParameterFields_ObjectVariableField__WEBPACK_IMPORTED_MODULE_15__","_ParameterFields_LayerField__WEBPACK_IMPORTED_MODULE_16__","_ParameterFields_AudioResourceField__WEBPACK_IMPORTED_MODULE_17__","_ParameterFields_VideoResourceField__WEBPACK_IMPORTED_MODULE_18__","_ParameterFields_ColorExpressionField__WEBPACK_IMPORTED_MODULE_19__","_ParameterFields_ForceMultiplierField__WEBPACK_IMPORTED_MODULE_20__","DefaultField","mouse","MouseField","ObjectField","relationalOperator","operator","yesorno","trueorfalse","string","stringWithSelector","scenevar","globalvar","objectvar","musicfile","soundfile","videoResource","ColorExpressionField","police","joyaxis","forceMultiplier","stringRenderers","renderObjectWithThumbnail","fieldType","ParameterMetadata","isObject","renderObjectThumnail","hasAValidObject","_allowedObjectType","_ObjectsList_ObjectSelector__WEBPACK_IMPORTED_MODULE_6__","allowedObjectType","swatch","boxShadow","cover","ColorPicker","displayColorPicker","handleClick","handleClose","displayedColor","react_color__WEBPACK_IMPORTED_MODULE_8__","getEventsFunctionType","slugs__WEBPACK_IMPORTED_MODULE_1__","slugs__WEBPACK_IMPORTED_MODULE_1___default","mangleName","slugs","loadProjectEventsFunctionsExtension","skipCodeGeneration","generateEventsFunctionExtension","addNewExtension","PlatformExtension","setExtensionInformation","instructionOrExpression","generateInstructionOrExpression","addEventsFunctionParameters","codeNamespace","codeExtraInformation","getCodeExtraInformation","setIncludeFile","getIncludeFileFor","setFunctionName","includeFiles","SetString","EventsCodeGenerator","generateEventsFunctionCode","includeFile","addIncludeFile","writeFunctionCode","removeExtension","functionType","getFunctionType","Expression","addExpression","StringExpression","addStrExpression","Condition","addCondition","getSentence","addAction","addCodeOnlyParameter","getParameters","addParameter","isOptional","setExtraInfo","parts","MaterialUIContextMenu","anchorX","anchorY","_onClose","element","material_ui_Popover__WEBPACK_IMPORTED_MODULE_7___default","material_ui_Menu__WEBPACK_IMPORTED_MODULE_6___default","ElectronContextMenu","picker","ColorField","_ColorPicker__WEBPACK_IMPORTED_MODULE_9__","_ResourcesLoader__WEBPACK_IMPORTED_MODULE_0__","_Utils_OptionalRequire_js__WEBPACK_IMPORTED_MODULE_1__","lastIndexOf","existsSync","fn","onResult","t0","performance","makeTimestampedId","random","delay","ms","BuildsWatcher","runningWatchers","nextWatcherId","_pollBuild","_callee","waitTime","watcherId","build","_this$userProfile","regenerator_default","wrap","_context","prev","abrupt","sent","onBuildUpdated","builds","moreButton","VariableField","_variableNames","enumerateVariableAndChildrenNames","names","getAllChildrenNames","childName","getChild","getNameAt","enumerateVariables","AutoComplete_default","variableName","open_in_new_default","iconPath","template","menuTemplate","dimensions","Menu","browserWindow","menu","popup","async","material_ui_Divider__WEBPACK_IMPORTED_MODULE_4___default","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_3___default","insetChildren","material_ui_svg_icons_navigation_arrow_drop_right__WEBPACK_IMPORTED_MODULE_6___default","menuItems","_Utils_Platform__WEBPACK_IMPORTED_MODULE_0__","isMobile","isMacLike","BackgroundText","textShadow","emptyMessage","shadowColor","SortableVariableRow","SortableAddVariableRow","VariablesListBody","SortableVariablesListBody","VariablesList","selectedVariables","_selectVariable","variableAndName","serializedVariable","paste","newVariable","Variable","otherVariableAndName","contains","removeRecursively","_updateOrDefineVariable","_getVariableOrigin","parentVariable","_renderVariableAndChildrenRows","parentOrigin","renameChild","rename","hasChild","_renderVariableChildren","containerInheritedVariablesTree","containerVariablesTree","editRow","TreeTableRow","TreeTableCell","_MainFrame_Preferences_PreferencesContext__WEBPACK_IMPORTED_MODULE_1__","_AlertMessage__WEBPACK_IMPORTED_MODULE_2__","material_ui_AutoComplete__WEBPACK_IMPORTED_MODULE_0__","material_ui_AutoComplete__WEBPACK_IMPORTED_MODULE_0___default","AutoComplete","fuzzyFilter","SPRITE_SIZE","spriteThumbnail","checkboxContainer","imageThumbnail","selectedBorderColor","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_2___default","material_ui_AppBar__WEBPACK_IMPORTED_MODULE_1__","material_ui_AppBar__WEBPACK_IMPORTED_MODULE_1___default","iconStyleLeft","iconStyleRight","EventsEditor","getLayoutSerializedElements","DropIndicator","_ClassNames__WEBPACK_IMPORTED_MODULE_1__","ObjectSelector","groups","_Users_florianrival_Projects_F_GD_newIDE_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","material_ui_Divider__WEBPACK_IMPORTED_MODULE_10___default","material_ui_AutoComplete__WEBPACK_IMPORTED_MODULE_9___default","SelectableList","makeSelectable","groupListItemNestedList","ThemableInstructionOrExpressionSelector","_computeSearchResults","lowercaseSearch","instructionInfo","_matchCritera","_onSubmitSearch","_renderSearchResults","instructionInfoTree","instructionOrGroup","instructionInformation","_UI_ListIcon__WEBPACK_IMPORTED_MODULE_8__","groupOfInstructionInformation","isDeprecated","deprecatedGroupTextColor","groupTextColor","_renderTree","tree","compact","groupInfo","existingGroupInfo","objectParameterIndex","ParameterMetadataTools","getObjectParameterIndexFor","shortenString","maxLength","_RenderedInstance","RenderedIconInstance","loadedFontFamilies","loadedTextures","invalidTexture","asImageResource","isSmooth","baseTexture","NEAREST","onProgress","onComplete","loader","removeAllListeners","allResources","totalCount","loadingCount","once","loadedResources","_initializeTexture","fromVideo","LINEAR","fullFilename","loadedFace","CTRL_KEY","SHIFT_KEY","LEFT_KEY","UP_KEY","RIGHT_KEY","DOWN_KEY","BACKSPACE_KEY","SPACE_KEY","DELETE_KEY","EQUAL_KEY","MINUS_KEY","NUMPAD_ADD","NUMPAD_SUBSTRACT","C_KEY","F_KEY","V_KEY","X_KEY","Y_KEY","Z_KEY","MID_MOUSE_BUTTON","_isControlPressed","metaPressed","rawCtrlPressed","_onKeyDown","evt","isFocused","metaKey","altKey","altPressed","which","shiftPressed","spacePressed","closest","_onKeyUp","_onMouseDown","mouseMidButtonPressed","_onKeyPress","_noop","mount","removeEventListener","undoHistory","current","redoHistory","maxSize","newUndoHistory","newCurrent","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_1__","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_1___default","root","setFunctionType","Action","objectNames","parameterGroups","referencedObjectOrGroupName","parameterGroupNames","parameterObjectNames","newParameter","includes","_addParameter","_removeParameter","removeFromVectorParameterMetadata","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_19__","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_18__","validateParameterName","_UI_Menu_IconMenu__WEBPACK_IMPORTED_MODULE_14__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_12___default","material_ui_svg_icons_navigation_more_vert__WEBPACK_IMPORTED_MODULE_15___default","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_13__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_11___default","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_17__","getDefaultName","getSentenceErrorText","sentence","missingParameters","isBehavior","expectedString","setSentence","eventsFunctionName","_EventsFunctionsExtensionEditor__WEBPACK_IMPORTED_MODULE_6__","___WEBPACK_IMPORTED_MODULE_8__","ObjectGroup","setAssociatedLayout","layoutChooserOpen","openLayoutChooser","uiSettings","getUiSettings","getAssociatedLayout","_EventsSheet__WEBPACK_IMPORTED_MODULE_8__","_UI_PlaceholderMessage__WEBPACK_IMPORTED_MODULE_11__","_LayoutChooserDialog__WEBPACK_IMPORTED_MODULE_13__","helpText","LayoutChooserDialog","selectedLayoutName","layoutNames","material_ui_RadioButton__WEBPACK_IMPORTED_MODULE_8__","valueSelected","chooseLayout","getAssociatedSettings","getInitialInstances","_SceneEditor__WEBPACK_IMPORTED_MODULE_9__","initialUiSettings","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_8___default","INSTANCES_CLIPBOARD_KIND","FullSizeInstancesEditor","InstancesEditor","SceneEditor","editorMosaic","showObjectsListInfoBar","showPropertiesInfoBar","instancesListOpen","layersListOpen","setupGridOpen","openSceneProperties","scenePropertiesDialogOpen","openObjectEditor","hasSelectedInstances","selectedInstanceObjectName","editObjectByName","variablesEditedInstance","editObjectVariables","editLayoutVariables","layoutVariablesDialogOpen","editedObject","editedObjectWithContext","_onStartDraggingObjectFromList","objectDraggedFromList","_onEndDraggingObjectFromList","canDropDraggedObject","_onPointerOverInstancesEditor","_onPointerOutInstancesEditor","_onPointerUpInstancesEditor","_addInstance","setUiSettings","forceRemount","_onObjectSelected","selectedObjectName","_onAddInstanceUnderCursor","objectSelected","insertNewInitialInstance","zOrderFinder","getHighestZOrder","_onInstancesSelected","uniq","forceUpdatePropertiesEditor","_onInstancesMoved","_onInstancesResized","_onInstancesRotated","_onSelectInstances","centerView","centerViewOn","_onRemoveLayer","layerRemoveDialogOpen","onCloseLayerRemoveDialog","newLayer","removeAllInstancesOnLayer","moveInstancesToLayer","_onRenameLayer","_onDeleteObject","answer","globalObjectRemoved","objectRemovedInLayout","_canObjectUseNewName","_onRenameEditedObject","_onRenameObject","globalObjectRenamed","objectRenamedInLayout","removeInstance","contextMenu","useLastCursorPosition","serializedSelection","serializedInstance","forceUpdateObjectsList","_objectsList","_propertiesEditor","reloadResourcesFor","resourcesInUse","ResourcesInUseHelper","exposeResources","objectResourceNames","getAllImages","loadTextures","objectsListOpen","HighestZOrderFinder","_Toolbar__WEBPACK_IMPORTED_MODULE_23__","_this$props6","_UI_EditorMosaic__WEBPACK_IMPORTED_MODULE_31__","_InstancesEditor_InstancePropertiesEditor__WEBPACK_IMPORTED_MODULE_13__","propertiesEditor","instances-editor","objects-list","_ObjectsList__WEBPACK_IMPORTED_MODULE_9__","objectsList","object-groups-list","_ObjectGroupsList__WEBPACK_IMPORTED_MODULE_10__","_ObjectEditor_ObjectEditorDialog__WEBPACK_IMPORTED_MODULE_18__","tryName","_ObjectGroupEditor_ObjectGroupEditorDialog__WEBPACK_IMPORTED_MODULE_19__","material_ui_Drawer__WEBPACK_IMPORTED_MODULE_28___default","openSecondary","_UI_EditorBar__WEBPACK_IMPORTED_MODULE_32__","iconElementLeft","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_29___default","material_ui_svg_icons_navigation_close__WEBPACK_IMPORTED_MODULE_30___default","_InstancesEditor_InstancesList__WEBPACK_IMPORTED_MODULE_14__","_LayersList__WEBPACK_IMPORTED_MODULE_15__","_UI_Messages_InfoBar__WEBPACK_IMPORTED_MODULE_33__","_SetupGridDialog__WEBPACK_IMPORTED_MODULE_21__","_VariablesList_VariablesEditorDialog__WEBPACK_IMPORTED_MODULE_17__","_LayersList_LayerRemoveDialog__WEBPACK_IMPORTED_MODULE_16__","_ScenePropertiesDialog__WEBPACK_IMPORTED_MODULE_22__","_UI_Menu_ContextMenu__WEBPACK_IMPORTED_MODULE_34__","viewRotation","viewX","viewY","gridSize","gridOffset","SpriteSelector","InfoBar","handleGotIt","messageId","localStorage","setItem","dismissed","hidden","material_ui_Snackbar__WEBPACK_IMPORTED_MODULE_7___default","onActionClick","SceneEditorContainer","_SceneEditor__WEBPACK_IMPORTED_MODULE_7__","stateField","getUserUsages","getUserLimits","getUserSubscription","GDevelopUsageApi","newSubscriptionDetails","material_ui_CircularProgress__WEBPACK_IMPORTED_MODULE_1__","material_ui_CircularProgress__WEBPACK_IMPORTED_MODULE_1___default","i18nModule","buildTypesConfig","cordova-build","estimatedTimeInSeconds","completeDescription","electron-build","onDownload","config","secondsSinceLastUpdate","difference_in_seconds","updatedAt","estimatedRemainingTime","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_2___default","material_ui_LinearProgress__WEBPACK_IMPORTED_MODULE_7___default","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_3___default","searchableExamplesInformation","ExamplesInformation","exampleName","exampleInformation","searchableDescription","LocalExamples","changeSearchText","chooseExtensionName","_ExamplesSearchbar__WEBPACK_IMPORTED_MODULE_12__","material_ui_List__WEBPACK_IMPORTED_MODULE_10__","exampleNames","extensionUsage","exampleFullName","getExampleInformation","onCreateFromExample","_UI_PlaceholderLoader__WEBPACK_IMPORTED_MODULE_11__","_submitExample","material_ui_SvgIcon__WEBPACK_IMPORTED_MODULE_1__","material_ui_SvgIcon__WEBPACK_IMPORTED_MODULE_1___default","runExtensionSanityTests","jsExtensionModule","testResults","rawError","loadExtension","createExtension","ex","testsResult","_React$PureComponent","onPlay","onPause","canPlay","canPause","onOpenProfiler","material_ui_Toolbar","ToolbarSeparator","InspectorsList","gameData","getInspectorDescriptions","inspectorDescription","fullInspectorPath","getSubInspectors","_renderInspectorList","onChooseInspector","transformVariable","_isStructure","_children","mapValues","_stringDirty","_value","_str","VariablesContainerInspector","main_default","collapsed","_variables","items","enableClipboard","displayDataTypes","displayObjectSize","onCall","namespace","new_value","handleEdit","groupArraysAfterLength","RuntimeObjectInspector","runtimeObject","X position","Y position","Angle","Layer","Z order","Is hidden?","transformLayer","Camera rotation (in deg)","_cameraRotation","Camera zoom","_zoomFactor","Layer is hidden","_hidden","Camera X position","_cameraX","Camera Y position","_cameraY","Time scale","_timeScale","runtimeScene","_timeManager","Layers","_layers","RuntimeSceneInspector","_objects","gdjsRuntimeGame","renderInspector","gdjsStack","_name","RuntimeSceneInspector_RuntimeSceneInspector","instancesList","RawContentInspector","MeasuresTable","collapsedPaths","_convertToDataRows","parentSection","section","profilerMeasures","parentPercent","totalPercent","isCollapsed","_isSectionCollapsed","hasSubsections","subsections","flatMap","subsection","subsectionName","_toggleSection","_renderSectionNameCell","rowData","chevron_right_default","expand_more_default","dataRows","cellRenderer","tableContainer","Profiler","onStart","onStop","profilerOutput","profilingInProgress","stats","framesCount","RaisedButton_RaisedButton_default","LinearProgress_default","MeasuresTable_MeasuresTable","framesAverageMeasures","DebuggerContent","selectedInspector","selectedInspectorFullPath","rawMode","openProfiler","onStartProfiler","onStopProfiler","EditorMosaic","inspectors","InspectorsList_InspectorsList","selected-inspector","flash_on_default","flash_off_default","profiler","Profiler_Profiler","DebuggerSelector","hasDebuggers","debuggerIds","selectedId","onChooseDebugger","ipcRenderer","Debugger","debuggerServerStarted","debuggerServerError","debuggerGameData","profilerOutputs","_debuggerContents","_removeServerListeners","_startServer","remainingDebuggerIds","debuggerId","_handleMessage","send","command","payload","_play","_pause","_refresh","_edit","_call","_startProfiler","_stopProfiler","_hasSelectedDebugger","Debugger_Toolbar","PlaceholderMessage","DebuggerSelector_DebuggerSelector","DebuggerContent_DebuggerContent","debuggerContent","DebuggerEditor","subscriptionChecked","_checkHasSubscription","Debugger_Debugger","TomorrowNight","base","inherit","rules","foreground","editor.foreground","editor.background","editor.selectionBackground","editor.lineHighlightBackground","editorCursor.foreground","editorWhitespace.foreground","Monokai","editorIndentGuide.activeBackground","editor.selectionHighlightBorder","Tomorrow","SolarizedDark","SolarizedLight","VibrantInk","GitHub","DragDropContextProvider","DragDropContext","HTML5Backend","RightLoader","CircularProgress_default","getEmailErrorText","getPasswordErrorText","LoginDialog","form","password","_onLogin","_onCreateAccount","onCreateAccount","_onForgotPassword","onForgotPassword","createAccountInProgress","loginInProgress","resetPasswordDialogOpen","onCloseResetPasswordDialog","forgotPasswordInProgress","LeftLoader","UserProfileProvider","loginDialogOpen","loginError","_fetchUserProfile","getUserProfile","unauthenticated","_doLogout","logout","_resetUserProfile","_doLogin","assertThisInitialized","login","openLogin","_doCreateAccount","createAccount","sendSignupDone","_doForgotPassword","forgotPassword","openResetPassword","onUserChange","Provider","LoginDialog_LoginDialog","PreferencesProvider","_loadValuesFromLocalStorage","_setLanguage","_setThemeName","_setCodeEditorThemeName","_setAutoDownloadUpdates","_checkUpdates","_setAutoDisplayChangelog","_showAlertMessage","_verifyIfIsNewVersion","_setEventsSheetShowObjectThumbnails","_setAutosaveOnPreview","_persistValuesToLocalStorage","_this7","_this8","_this9","forceDownload","disableCheckForUpdates","_this10","currentVersion","_this11","persistedState","preferences","Providers","DragDropHelpers_DragDropContextProvider","PreferencesProvider_PreferencesProvider","MuiThemeProvider_default","getTheme","UserProfileProvider_UserProfileProvider","previewContainer","AudioPreview","audiotrack_default","ResourcePreview","AudioPreview_AudioPreview","imagePreview","propertiesContainer","ResourcePropertiesEditor","_chooseResourcePath","onResourcePathUpdated","resourceSchema","ResourcePreview_ResourcePreview","_renderPreview","_renderResourcesProperties","canDelete","onOpenProjectFolder","onOpenProperties","ResourcesEditor","_resourcesList","deleteResource","openProjectFolder","_onResourceSelected","ResourcesEditor_Toolbar","ResourcePropertiesEditor_ResourcePropertiesEditor","resources-list","resourcesList","ResourcesEditor_ResourcesEditor","buildContainer","BuildsList","isOld","difference_in_calendar_days","BuildProgress","Builds","buildsWatcher","_startBuildsWatcher","newBuild","oldBuild","_refreshBuilds","_this$props$userProfi","onBuildsUpdated","_download","BuildsContainer","Builds_Builds","BuildsDialog","_onBuildsUpdated","Export_Builds","disabledItem","ExportDialog","chosenExporterKey","buildsDialogOpen","chooseExporter","_openBuildsDialog","_renderExporterListItem","exporter","renderIcon","exporters","advanced","experimental","ExportComponent","onOpenBuildsDialog","BuildsDialog_BuildsDialog","ChangelogRenderer","releases","currentReleaseName","openReleaseNote","currentRelease","findRelease","currentVersionHasBreakingChange","react_markdown_default","escapeHtml","markdownRootClassName","_onUpdated","GDevelopReleaseApi","last","Changelog_ChangelogRenderer","primary1Color","primary2Color","accent1Color","secondaryTextColor","alternateTextColor","disabledColor","pickerHeaderColor","clockCircleColor","avatar","tabs","menuHoverColor","menuItem","dataHeight","appBar","iconButtonSize","snackbar","actionColor","stepper","raisedButton","primaryTextColor","errorTextColor","selectedErrorBackgroundColor","getMuiTheme","GDevelop default","DefaultTheme","Dark","DarkTheme","ThemableItemRow","hasErrors","_renderItemMenu","ItemRow","AddItemRow","SortableItemRow","SortableVirtualizedItemList_ItemRow","SortableAddItemRow","ItemsList","SortableItemsList","ThemableGroupRow","isGlobalGroup","_renderGroupMenu","AddGroupRow","SortableGroupRow","GroupRow_ThemableGroupRow","SortableAddGroupRow","GroupsList","onAddGroup","renamedGroupWithScope","SortableGroupsList","GroupsListContainer","objectGroupsList","globalObjectGroupsList","addGroup","insertNew","_onDelete","_onRename","_onMove","globalObjectGroupsOldIndex","globalObjectGroupsNewIndex","Tutorials","sendTutorialOpened","CreateProjectDialog","_showExamples","_onExamplesLoaded","ExamplesComponent","examplesComponent","StartersComponent","startersComponent","onShowExamples","onExamplesLoaded","Tutorials_Tutorials","MainFrameToolbar","_lingui_react__WEBPACK_IMPORTED_MODULE_11__","firstChild","_UI_ToolbarIcon__WEBPACK_IMPORTED_MODULE_7__","_UI_ToolbarSeparator__WEBPACK_IMPORTED_MODULE_8__"],"mappings":"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","file":"static/js/1.339f75aa.chunk.js","sourcesContent":["import { Component } from 'react';\nimport Window from '../Utils/Window';\n\nexport default class ProjectTitlebar extends Component {\n  render() {\n    const { project } = this.props;\n    const titleElements = ['GDevelop 5'];\n    if (project)\n      titleElements.push(project.getProjectFile() || project.getName());\n\n    Window.setTitle(titleElements.join(' - '));\n    return null;\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport FlatButton from 'material-ui/FlatButton';\nimport MenuItem from 'material-ui/MenuItem';\nimport Toggle from 'material-ui/Toggle';\nimport Dialog from '../../UI/Dialog';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { Column, Line } from '../../UI/Grid';\nimport { themes } from '../../UI/Theme';\nimport { getAllThemes } from '../../CodeEditor/Theme';\nimport Window from '../../Utils/Window';\nimport PreferencesContext, {\n  type AlertMessageIdentifier,\n} from './PreferencesContext';\n\ntype Props = {|\n  open: boolean,\n  onClose: Function,\n|};\n\ntype State = {||};\n\nconst getDismissedAlertMessages = (identifiers: {\n  [AlertMessageIdentifier]: boolean,\n}): Array<AlertMessageIdentifier> => {\n  return Object.keys(identifiers)\n    .map(identifier => {\n      return identifiers[identifier] ? identifier : null;\n    })\n    .filter(Boolean);\n};\n\nexport default class PreferencesDialog extends Component<Props, State> {\n  createTheme() {\n    Window.openExternalURL(\n      'https://github.com/4ian/GDevelop/tree/master/newIDE#theming'\n    );\n  }\n\n  render() {\n    const { open, onClose } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        primary={false}\n        onClick={onClose}\n      />,\n    ];\n\n    return (\n      <Dialog\n        actions={actions}\n        onRequestClose={onClose}\n        open={open}\n        title={<Trans>GDevelop preferences</Trans>}\n      >\n        <PreferencesContext.Consumer>\n          {({\n            values,\n            setThemeName,\n            setCodeEditorThemeName,\n            setAutoDownloadUpdates,\n            showAlertMessage,\n            setAutoDisplayChangelog,\n            setEventsSheetShowObjectThumbnails,\n            setAutosaveOnPreview,\n          }) => {\n            const dismissedAlertMessages = getDismissedAlertMessages(\n              values.hiddenAlertMessages\n            );\n\n            return (\n              <Column noMargin>\n                <Line noMargin>\n                  <SelectField\n                    floatingLabelText={<Trans>UI Theme</Trans>}\n                    value={values.themeName}\n                    onChange={(e, i, value) => setThemeName(value)}\n                  >\n                    {Object.keys(themes).map(themeName => (\n                      <MenuItem\n                        value={themeName}\n                        primaryText={themeName}\n                        key={themeName}\n                      />\n                    ))}\n                  </SelectField>\n                  <SelectField\n                    floatingLabelText={<Trans>Code editor Theme</Trans>}\n                    value={values.codeEditorThemeName}\n                    onChange={(e, i, value) => setCodeEditorThemeName(value)}\n                  >\n                    {getAllThemes().map(codeEditorTheme => (\n                      <MenuItem\n                        value={codeEditorTheme.themeName}\n                        primaryText={codeEditorTheme.name}\n                        key={codeEditorTheme.themeName}\n                      />\n                    ))}\n                  </SelectField>\n                </Line>\n                <Line noMargin>\n                  <p>\n                    You can contribute and create your own themes:{' '}\n                    <FlatButton\n                      label={<Trans>Learn more</Trans>}\n                      onClick={this.createTheme}\n                    />{' '}\n                  </p>\n                </Line>\n                <Line>\n                  <Toggle\n                    onToggle={(e, check) => setAutoDownloadUpdates(check)}\n                    toggled={values.autoDownloadUpdates}\n                    labelPosition=\"right\"\n                    label={\n                      <Trans>\n                        Auto download and install updates (recommended)\n                      </Trans>\n                    }\n                  />\n                </Line>\n                <Line>\n                  <Toggle\n                    onToggle={(e, check) => setAutoDisplayChangelog(check)}\n                    toggled={values.autoDisplayChangelog}\n                    labelPosition=\"right\"\n                    label={\n                      <Trans>\n                        Display What's New when a new version is launched\n                        (recommended)\n                      </Trans>\n                    }\n                  />\n                </Line>\n                <Line>\n                  <Toggle\n                    onToggle={(e, check) =>\n                      setEventsSheetShowObjectThumbnails(check)\n                    }\n                    toggled={values.eventsSheetShowObjectThumbnails}\n                    labelPosition=\"right\"\n                    label={\n                      <Trans>Display object thumbnails in Events Sheets</Trans>\n                    }\n                  />\n                </Line>\n                <Line>\n                  <Toggle\n                    onToggle={(e, check) => setAutosaveOnPreview(check)}\n                    toggled={values.autosaveOnPreview}\n                    labelPosition=\"right\"\n                    label={<Trans>Auto-save project on Preview</Trans>}\n                  />\n                </Line>\n                <Line>\n                  {dismissedAlertMessages.length ? (\n                    <Column noMargin>\n                      <p>\n                        <Trans>\n                          You have dismissed some hints. Click to enable them\n                          again:\n                        </Trans>\n                      </p>\n                      {dismissedAlertMessages.map(name => (\n                        <FlatButton\n                          label={name}\n                          onClick={() => showAlertMessage(name, true)}\n                        />\n                      ))}\n                    </Column>\n                  ) : (\n                    <EmptyMessage>\n                      <Trans>\n                        If you dismiss some hints, they will be shown here in\n                        case you want to enable them again.\n                      </Trans>\n                    </EmptyMessage>\n                  )}\n                </Line>\n              </Column>\n            );\n          }}\n        </PreferencesContext.Consumer>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { PureComponent } from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport { Column, Line } from '../UI/Grid';\nimport Window from '../Utils/Window';\nimport IconButton from 'material-ui/IconButton';\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\nimport PreferencesContext from './Preferences/PreferencesContext';\nimport {\n  getUpdateStatusLabel,\n  getUpdateButtonLabel,\n  canDownloadUpdate,\n  type UpdateStatus,\n} from './UpdaterTools';\nimport Changelog from './Changelog';\nimport { getIDEVersion, getGDCoreVersion } from '../Version';\n\ntype Props = {\n  open: boolean,\n  onClose: Function,\n  updateStatus: UpdateStatus,\n};\n\n// There must be missing tons of people.\n// If you contributed to GDevelop but you're not in the list, please\n// send a Pull Request on GitHub or open an issue ;)\nconst contributors = [\n  // GitHub contributors\n  {\n    name: 'Victor Levasseur',\n    description:\n      'Numerous contributions to GDevelop core and various extensions',\n  },\n  {\n    name: 'Lizard-13',\n    description:\n      'Numerous contributions to GDevelop (particle engine, bugfixes, new conditions, examples, tutorials...)',\n  },\n  { name: 'ale26reg', description: 'Contributions to GDevelop' },\n  { name: 'dos1', description: 'Contributions to GDevelop' },\n  { name: 'Bouh', description: 'Contributions to GDevelop' },\n  {\n    name: 'Todor Imreorov',\n    description: 'Contributions to GDevelop: added Piskel sprite editor',\n  },\n  { name: 'brylie', description: 'Contributions to GDevelop' },\n  { name: 'Nnarol', description: 'Contributions to GDevelop' },\n  { name: 'wild-master', description: 'Contributions to GDevelop' },\n  { name: 'RandomShaper', description: 'Contributions to GDevelop' },\n  { name: 'RyanNerd', description: 'Contributions to GDevelop' },\n  { name: 'greater', description: 'Contributions to GDevelop' },\n  { name: 'triptych', description: 'Contributions to GDevelop' },\n  {\n    name: 'Wend1go',\n    description: 'Contributions to GDevelop, Tutorials, Examples',\n  },\n  { name: 'mattiascibien', description: 'Contributions to GDevelop' },\n  { name: 'araujo921', description: 'Contributions to GDevelop' },\n  { name: 'ronnystandtke', description: 'Contributions to GDevelop' },\n  {\n    name: 'Thomas Flecy',\n    description: 'Contributions to GDevelop (original sound object extension)',\n  },\n\n  // Community members:\n  {\n    name: 'ddabrahim',\n    description: 'Lots of examples bundled with GDevelop',\n    link: 'https://gametemplates.itch.io/',\n  },\n  {\n    name: 'Gametemplates',\n    description: 'Examples bundled with GDevelop',\n    link: 'https://gametemplates.itch.io/',\n  },\n  { name: 'Mats', description: 'Tutorials, Examples' },\n  { name: 'erdo', description: 'Tutorials, Examples' },\n  { name: 'Jubileuksen3', description: 'Tutorials, Examples' },\n  { name: 'LucaTexas', description: 'Tutorials, Examples' },\n  { name: 'Kink', description: 'Forum moderator, tutorials, Examples' },\n  { name: 'RicoTrooper', description: 'Tutorials' },\n  { name: 'kalel', description: 'Tutorials' },\n  { name: 'mtarzaim', description: 'Tutorials' },\n  { name: 'Darkhog', description: 'Examples' },\n  { name: 'Ricardo Graca', description: 'Tutorials, Examples' },\n  { name: 'Diego Schiavon', description: 'Indiegogo Ubuntu contributor' },\n  { name: 'conceptgame', description: 'Indiegogo super contributor' },\n  {\n    name: 'Jose David Coartas Correa',\n    description:\n      'Author of Digitopolis (a book on how to make games with GDevelop4)',\n  },\n\n  {\n    name: 'François Dumortier',\n    description: 'GDevelop logo design',\n    link: 'http://www.fdumortier.com',\n  },\n  {\n    name: 'Constantine Shvetsov',\n    description: 'Design of all the awesome icons',\n  },\n  {\n    name: 'MillionthVector',\n    description: 'Assets of various examples',\n  },\n];\n\nexport default class AboutDialog extends PureComponent<Props, *> {\n  _openContributePage = () => {\n    Window.openExternalURL('https://gdevelop-app.com/contribute/');\n  };\n\n  _openLink = (link: string) => {\n    if (!link) return;\n\n    Window.openExternalURL(link);\n  };\n\n  render() {\n    const { open, onClose, updateStatus } = this.props;\n    if (!open) return null;\n\n    const updateStatusString = getUpdateStatusLabel(updateStatus.status);\n    const updateButtonLabel = getUpdateButtonLabel(updateStatus.status);\n\n    return (\n      <Dialog\n        actions={[\n          <FlatButton\n            label={<Trans>GDevelop Website</Trans>}\n            primary={false}\n            onClick={() => Window.openExternalURL('http://gdevelop-app.com')}\n          />,\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        onRequestClose={onClose}\n        open={open}\n        contentStyle={{\n          maxWidth: 535,\n        }}\n        noMargin\n        autoScrollBodyContent\n      >\n        <PreferencesContext.Consumer>\n          {({ values, checkUpdates }) => (\n            <Column noMargin>\n              <img\n                src=\"res/GD-logo.png\"\n                alt=\"GDevelop logo\"\n                width=\"535\"\n                height=\"283\"\n              />\n              <Tabs onChange={() => this.forceUpdate()}>\n                <Tab label={<Trans>About GDevelop</Trans>} value=\"about\">\n                  <Column>\n                    <Line>\n                      <Trans>\n                        GDevelop {getIDEVersion()} based on GDevelop.js{' '}\n                        {getGDCoreVersion()}\n                      </Trans>\n                    </Line>\n                    <Line>{updateStatusString}</Line>\n                    <Line justifyContent=\"center\">\n                      {!!updateStatusString && (\n                        <FlatButton\n                          label={updateButtonLabel}\n                          onClick={() =>\n                            checkUpdates(canDownloadUpdate(updateStatus.status))\n                          }\n                        />\n                      )}\n                    </Line>\n                  </Column>\n                </Tab>\n                <Tab label={<Trans>What's new?</Trans>} value=\"changelog\">\n                  <Column>\n                    <Changelog />\n                  </Column>\n                </Tab>\n                <Tab label={<Trans>Contributors</Trans>} value=\"contributors\">\n                  <Column>\n                    <p>\n                      <Trans>\n                        GDevelop was created by Florian \"4ian\" Rival.\n                      </Trans>\n                    </p>\n                    <p>\n                      <Trans>Contributors, in no particular order:</Trans>\n                    </p>\n                  </Column>\n                  <List>\n                    {contributors.map(contributor => (\n                      <ListItem\n                        key={contributor.name}\n                        primaryText={contributor.name}\n                        secondaryText={<p>{contributor.description}</p>}\n                        secondaryTextLines={\n                          contributor.description.length < 30 ? 1 : 2\n                        }\n                        rightIconButton={\n                          contributor.link ? (\n                            <IconButton\n                              onClick={() =>\n                                this._openLink(contributor.link || '')\n                              }\n                            >\n                              <OpenInNew />\n                            </IconButton>\n                          ) : null\n                        }\n                      />\n                    ))}\n                  </List>\n                  <Column expand>\n                    <p>\n                      <Trans>\n                        Thanks to all users of GDevelop! There must be missing\n                        tons of people, please send your name if you've\n                        contributed and you're not listed.\n                      </Trans>\n                    </p>\n                    <Line alignItems=\"center\" justifyContent=\"center\">\n                      <FlatButton\n                        label={<Trans>Contribute to GDevelop</Trans>}\n                        onClick={this._openContributePage}\n                      />\n                    </Line>\n                  </Column>\n                </Tab>\n              </Tabs>\n            </Column>\n          )}\n        </PreferencesContext.Consumer>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { TreeTableRow, TreeTableCell } from '../UI/TreeTable';\nimport DragHandle from '../UI/DragHandle';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport Checkbox from 'material-ui/Checkbox';\nimport AddCircle from 'material-ui/svg-icons/content/add-circle';\nimport SubdirectoryArrowRight from 'material-ui/svg-icons/navigation/subdirectory-arrow-right';\nimport TextField from 'material-ui/TextField';\nimport IconButton from 'material-ui/IconButton';\nimport Reset from 'material-ui/svg-icons/av/replay';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport styles from './styles';\nimport { type VariableOrigin } from './VariablesList.flow';\n\n//TODO: Refactor into TreeTable?\nconst Indent = ({ width }) => (\n  <div style={{ ...styles.indent, width }}>\n    <SubdirectoryArrowRight color={styles.indentIconColor} />\n  </div>\n);\n\nconst InlineCheckbox = props => <Checkbox {...props} style={{ width: 32 }} />;\n\ntype Props = {|\n  name: string,\n  variable: gdVariable,\n  depth: number,\n  errorText?: ?string,\n  onBlur: () => void,\n  onRemove: () => void,\n  onAddChild: () => void,\n  onChangeValue: string => void,\n  onResetToDefaultValue: () => void,\n  children?: React.Node,\n  muiTheme: Object,\n  showHandle: boolean,\n  showSelectionCheckbox: boolean,\n  isSelected: boolean,\n  onSelect: boolean => void,\n  origin: VariableOrigin,\n|};\n\nconst ThemableVariableRow = ({\n  name,\n  variable,\n  depth,\n  errorText,\n  onBlur,\n  onRemove,\n  onAddChild,\n  onChangeValue,\n  onResetToDefaultValue,\n  children,\n  muiTheme,\n  showHandle,\n  showSelectionCheckbox,\n  isSelected,\n  onSelect,\n  origin,\n}: Props) => {\n  const isStructure = variable.isStructure();\n  const key = '' + depth + name;\n\n  const limitEditing = origin === 'parent' || origin === 'inherited';\n\n  const columns = [\n    <TreeTableCell key=\"name\">\n      {depth > 0 && (\n        <Indent width={(depth + 1) * styles.tableChildIndentation} />\n      )}\n      {depth === 0 && showHandle && <DragHandle />}\n      {showSelectionCheckbox && !limitEditing && (\n        <InlineCheckbox\n          checked={isSelected}\n          onCheck={(e, checked) => onSelect(checked)}\n        />\n      )}\n      <TextField\n        style={{\n          fontStyle: origin !== 'inherited' ? 'normal' : 'italic',\n        }}\n        fullWidth\n        name={key + 'name'}\n        defaultValue={name}\n        errorText={errorText}\n        onBlur={onBlur}\n        disabled={origin === 'parent'}\n      />\n    </TreeTableCell>,\n  ];\n  if (!isStructure) {\n    columns.push(\n      <TreeTableCell key=\"value\">\n        <SemiControlledTextField\n          commitOnBlur\n          fullWidth\n          name={key + 'value'}\n          value={variable.getString()}\n          onChange={text => {\n            if (variable.getString() !== text) {\n              onChangeValue(text);\n            }\n          }}\n          multiLine\n          disabled={origin === 'parent' && depth !== 0}\n        />\n      </TreeTableCell>\n    );\n  } else {\n    columns.push(\n      <TreeTableCell\n        key=\"value\"\n        style={limitEditing ? styles.fadedButton : undefined}\n      >\n        (Structure)\n      </TreeTableCell>\n    );\n  }\n  columns.push(\n    <TreeTableCell key=\"tools\" style={styles.toolColumn}>\n      {origin === 'inherited' && depth === 0 && (\n        <IconButton\n          onClick={onResetToDefaultValue}\n          style={isStructure ? undefined : styles.fadedButton}\n          tooltip={<Trans>Reset</Trans>}\n        >\n          <Reset />\n        </IconButton>\n      )}\n      {!(origin === 'inherited' && depth === 0) && origin !== 'parent' && (\n        <IconButton\n          onClick={onAddChild}\n          style={isStructure ? undefined : styles.fadedButton}\n          tooltip={<Trans>Add child variable</Trans>}\n          tooltipPosition=\"bottom-left\"\n        >\n          <AddCircle />\n        </IconButton>\n      )}\n    </TreeTableCell>\n  );\n\n  return (\n    <div>\n      <TreeTableRow\n        style={{ backgroundColor: muiTheme.list.itemsBackgroundColor }}\n      >\n        {columns}\n      </TreeTableRow>\n      {children}\n    </div>\n  );\n};\n\nconst VariableRow = muiThemeable()(ThemableVariableRow);\nexport default VariableRow;\n","import React from 'react';\nimport { TreeTableRow, TreeTableCell } from '../UI/TreeTable';\nimport Add from 'material-ui/svg-icons/content/add';\nimport IconButton from 'material-ui/IconButton';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport ContentCopy from 'material-ui/svg-icons/content/content-copy';\nimport ContentPaste from 'material-ui/svg-icons/content/content-paste';\nimport Delete from 'material-ui/svg-icons/action/delete';\n\nimport styles from './styles';\n\nconst EditVariableRow = ({\n  onAdd,\n  onCopy,\n  hasSelection,\n  onPaste,\n  hasClipboard,\n  onDeleteSelection,\n}) => (\n  <TreeTableRow>\n    <TreeTableCell style={styles.toolColumnHeader}>\n      <IconButton onClick={onCopy} disabled={!hasSelection}>\n        <ContentCopy />\n      </IconButton>\n      <IconButton onClick={onPaste} disabled={!hasClipboard}>\n        <ContentPaste />\n      </IconButton>\n      <IconButton onClick={onDeleteSelection} disabled={!hasSelection}>\n        <Delete />\n      </IconButton>\n    </TreeTableCell>\n\n    <TreeTableCell>\n      <EmptyMessage style={styles.addVariableMessage} />\n    </TreeTableCell>\n\n    <TreeTableCell style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </TreeTableCell>\n  </TreeTableRow>\n);\n\nexport default EditVariableRow;\n","// @flow\n/**\n * Export functions to manipulate a selection of objects.\n */\n\nimport values from 'lodash/values';\n\ntype ObjectType = { ptr: number };\n\ntype SelectionState<T> = {\n  [number]: ?T,\n};\n\nexport const getInitialSelection = () => ({});\n\nexport const clearSelection = () => getInitialSelection();\n\nexport const getSelection = <T: ObjectType>(\n  selection: SelectionState<T>\n): Array<T> => values(selection).filter(value => !!value);\n\nexport const addToSelection = <T: ObjectType>(\n  selection: SelectionState<T>,\n  object: T,\n  select: boolean = true\n): SelectionState<T> => {\n  console.log(object, select);\n  return {\n    ...selection,\n    [object.ptr]: select ? object : null,\n  };\n};\n\nexport const isSelected = <T: ObjectType>(\n  selection: SelectionState<T>,\n  object: T\n): boolean => !!selection[object.ptr];\n\nexport const hasSelection = <T: ObjectType>(\n  selection: SelectionState<T>\n): boolean => {\n  return !!values(selection).filter(value => !!value).length;\n};\n","export const CLIPBOARD_KIND = 'Variables';\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Dialog from '../UI/Dialog';\nimport { Line } from '../UI/Grid';\nimport ResourcesLoader from '../ResourcesLoader';\nimport ResourceSelectorWithThumbnail from '../ResourcesList/ResourceSelectorWithThumbnail';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport { resizeImage, isResizeSupported } from './ImageResizer';\nimport { showErrorBox } from '../UI/Messages/MessageBox';\nimport optionalRequire from '../Utils/OptionalRequire';\nconst path = optionalRequire('path');\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  open: boolean,\n  onClose: Function,\n  onApply: Function,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n|};\n\ntype State = {|\n  desktopIconResourceNames: Array<string>,\n  androidIconResourceNames: Array<string>,\n  iosIconResourceNames: Array<string>,\n|};\n\nconst desktopSizes = [512];\nconst androidSizes = [192, 144, 96, 72, 48, 36];\nconst iosSizes = [\n  180,\n  167,\n  152,\n  144,\n  120,\n  114,\n  100,\n  80,\n  76,\n  72,\n  60,\n  58,\n  57,\n  50,\n  40,\n  29,\n];\n\nexport default class PlatformSpecificAssetsDialog extends React.Component<\n  Props,\n  State\n> {\n  constructor(props: Props) {\n    super(props);\n    this.state = this._loadFrom(props.project);\n  }\n\n  _loadFrom(project: gdProject): State {\n    return {\n      desktopIconResourceNames: desktopSizes.map(size =>\n        project.getPlatformSpecificAssets().get('desktop', `icon-${size}`)\n      ),\n      androidIconResourceNames: androidSizes.map(size =>\n        project.getPlatformSpecificAssets().get('android', `icon-${size}`)\n      ),\n      iosIconResourceNames: iosSizes.map(size =>\n        project.getPlatformSpecificAssets().get('ios', `icon-${size}`)\n      ),\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.project !== newProps.project)\n    ) {\n      this.setState(this._loadFrom(newProps.project));\n    }\n  }\n\n  _generateFromFile = () => {\n    const { project, resourceSources, onChooseResource } = this.props;\n\n    const sources = resourceSources.filter(source => source.kind === 'image');\n    if (!sources.length) return;\n\n    onChooseResource(sources[0].name, false).then(resources => {\n      if (!resources.length || !path) {\n        return;\n      }\n\n      const resourcesManager = project.getResourcesManager();\n      const projectPath = path.dirname(project.getProjectFile());\n      const fullPath = path.resolve(projectPath, resources[0].getFile());\n\n      Promise.all([\n        ...desktopSizes.map(size =>\n          resizeImage(\n            fullPath,\n            path.join(projectPath, `desktop-icon-${size}.png`),\n            {\n              width: size,\n              height: size,\n            }\n          )\n        ),\n        ...androidSizes.map(size =>\n          resizeImage(\n            fullPath,\n            path.join(projectPath, `android-icon-${size}.png`),\n            {\n              width: size,\n              height: size,\n            }\n          )\n        ),\n        ...iosSizes.map(size =>\n          resizeImage(\n            fullPath,\n            path.join(projectPath, `ios-icon-${size}.png`),\n            {\n              width: size,\n              height: size,\n            }\n          )\n        ),\n      ]).then(results => {\n        if (results.indexOf(false) !== -1) {\n          showErrorBox('Some icons could not be generated!');\n          return;\n        }\n\n        // Add resources to the game\n        const allResourcesNames = [\n          ...desktopSizes.map(size => `desktop-icon-${size}.png`),\n          ...androidSizes.map(size => `android-icon-${size}.png`),\n          ...iosSizes.map(size => `ios-icon-${size}.png`),\n        ];\n        allResourcesNames.forEach(resourceName => {\n          if (!resourcesManager.hasResource(resourceName)) {\n            const imageResource = new gd.ImageResource();\n            imageResource.setFile(resourceName);\n            imageResource.setName(resourceName);\n\n            resourcesManager.addResource(imageResource);\n            imageResource.delete();\n          } else {\n            resourcesManager.getResource(resourceName).setFile(resourceName);\n          }\n        });\n\n        // Make sure the resources are (re)loaded.\n        ResourcesLoader.burstUrlsCacheForResources(project, allResourcesNames);\n        setTimeout(() => {\n          this.setState({\n            desktopIconResourceNames: desktopSizes.map(\n              size => `desktop-icon-${size}.png`\n            ),\n            androidIconResourceNames: androidSizes.map(\n              size => `android-icon-${size}.png`\n            ),\n            iosIconResourceNames: iosSizes.map(size => `ios-icon-${size}.png`),\n          });\n        }, 200 /* Let a bit of time so that image files can be found */);\n      });\n    });\n  };\n\n  _onApply = () => {\n    const { project } = this.props;\n    const {\n      desktopIconResourceNames,\n      androidIconResourceNames,\n      iosIconResourceNames,\n    } = this.state;\n\n    desktopSizes.forEach((size, index) => {\n      project\n        .getPlatformSpecificAssets()\n        .set('desktop', `icon-${size}`, desktopIconResourceNames[index]);\n    });\n    androidSizes.forEach((size, index) => {\n      project\n        .getPlatformSpecificAssets()\n        .set('android', `icon-${size}`, androidIconResourceNames[index]);\n    });\n    iosSizes.forEach((size, index) => {\n      project\n        .getPlatformSpecificAssets()\n        .set('ios', `icon-${size}`, iosIconResourceNames[index]);\n    });\n\n    this.props.onApply();\n  };\n\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={this.props.onClose}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={this._onApply}\n      />,\n    ];\n    const {\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const {\n      desktopIconResourceNames,\n      androidIconResourceNames,\n      iosIconResourceNames,\n    } = this.state;\n\n    return (\n      <Dialog\n        actions={actions}\n        open={this.props.open}\n        onRequestClose={this.props.onClose}\n        autoScrollBodyContent\n      >\n        <Line justifyContent=\"center\">\n          {isResizeSupported() ? (\n            <RaisedButton\n              primary\n              label={<Trans>Generate icons from a file</Trans>}\n              onClick={this._generateFromFile}\n            />\n          ) : (\n            <p>\n              <Trans>\n                Download GDevelop desktop version to generate the Android and\n                iOS icons of your game.\n              </Trans>\n            </p>\n          )}\n        </Line>\n        <p>\n          <Trans>Desktop (Windows, macOS and Linux) icon:</Trans>\n        </p>\n        {desktopSizes.map((size, index) => (\n          <ResourceSelectorWithThumbnail\n            key={size}\n            floatingLabelText={`Desktop icon (${size}x${size} px)`}\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n            resourceKind=\"image\"\n            resourceName={desktopIconResourceNames[index]}\n            onChange={resourceName => {\n              const newIcons = [...desktopIconResourceNames];\n              newIcons[index] = resourceName;\n              this.setState({\n                desktopIconResourceNames: newIcons,\n              });\n            }}\n          />\n        ))}\n        <p>\n          <Trans>Android icons:</Trans>\n        </p>\n        {androidSizes.map((size, index) => (\n          <ResourceSelectorWithThumbnail\n            key={size}\n            floatingLabelText={`Android icon (${size}x${size} px)`}\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n            resourceKind=\"image\"\n            resourceName={androidIconResourceNames[index]}\n            onChange={resourceName => {\n              const newIcons = [...androidIconResourceNames];\n              newIcons[index] = resourceName;\n              this.setState({\n                androidIconResourceNames: newIcons,\n              });\n            }}\n          />\n        ))}\n        <p>\n          <Trans>iOS (iPhone and iPad) icons:</Trans>\n        </p>\n        {iosSizes.map((size, index) => (\n          <ResourceSelectorWithThumbnail\n            key={size}\n            floatingLabelText={`iOS icon (${size}x${size} px)`}\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceKind=\"image\"\n            resourceName={iosIconResourceNames[index]}\n            resourceExternalEditors={resourceExternalEditors}\n            onChange={resourceName => {\n              const newIcons = [...iosIconResourceNames];\n              newIcons[index] = resourceName;\n              this.setState({\n                iosIconResourceNames: newIcons,\n              });\n            }}\n          />\n        ))}\n      </Dialog>\n    );\n  }\n}\n","//@flow\nimport optionalRequire from '../Utils/OptionalRequire';\nconst Jimp = optionalRequire('jimp');\n\nexport const isResizeSupported = () => !!Jimp;\n\nexport const resizeImage = (\n  inputFile: string,\n  outputFile: string,\n  { width, height }: { width: number, height: number }\n): Promise<any> => {\n  if (!Jimp) return Promise.resolve(false);\n\n  return Jimp.read(inputFile)\n    .then(function(jimpImage) {\n      return jimpImage.contain(width, height).write(outputFile);\n    })\n    .then(() => {\n      return true;\n    })\n    .catch(function(err) {\n      console.error(err);\n      return false;\n    });\n};\n","import React from 'react';\nimport RefreshIndicator from 'material-ui/RefreshIndicator';\n\nconst loaderSize = 50;\n\nexport default props => {\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        zIndex: 1000,\n        pointerEvents: props.show ? 'cursor' : 'none',\n        display: props.show ? 'block' : 'none',\n      }}\n    >\n      <div\n        style={{\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          marginTop: -loaderSize / 2,\n          marginLeft: -loaderSize / 2,\n          width: loaderSize,\n          height: loaderSize,\n        }}\n      >\n        {props.show /* Don't render RefreshIndicator to avoid it to use a timeout that would wake regularly the CPU  */ && (\n          <RefreshIndicator\n            size={loaderSize}\n            left={0}\n            top={0}\n            status={'loading'}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport optionalRequire from '../Utils/OptionalRequire';\nimport Window from '../Utils/Window';\nconst electron = optionalRequire('electron');\n\ntype Props = {|\n  shouldPrompt: boolean,\n|};\n\nexport default class CloseConfirmDialog extends React.Component<Props, *> {\n  _delayElectronClose = true;\n\n  componentDidMount() {\n    this._setup(this.props);\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (newProps.shouldPrompt !== this.props.shouldPrompt)\n      this._setup(newProps);\n  }\n\n  _setup(props: Props) {\n    if (Window.isDev()) return; // Don't prevent live-reload in development\n\n    const { shouldPrompt } = props;\n    const message =\n      'Are you sure you want to quit GDevelop? Any unsaved changes will be lost.';\n\n    if (electron) {\n      window.onbeforeunload = e => {\n        if (this._delayElectronClose && shouldPrompt) {\n          // Use setTimeout to avoiding blocking the thread with the \"confirm\" dialog,\n          // which would make Electron to close the window for some weird reason.\n          // See https://github.com/electron/electron/issues/7977\n          setTimeout(() => {\n            //eslint-disable-next-line\n            const answer = confirm(message);\n            if (answer) {\n              // If answer is positive, re-trigger the close\n              this._delayElectronClose = false;\n              electron.remote.getCurrentWindow().close();\n            }\n          }, 10);\n\n          // Prevents closing the window immediately. See https://github.com/electron/electron/blob/master/docs/api/browser-window.md#event-close\n          e.returnValue = true; //\"It is recommended to always set the event.returnValue explicitly, instead of only returning a value, as the former works more consistently within Electron.\"\"\n          return false; //\"In Electron, returning any value other than undefined would cancel the close\"\n        } else {\n          // Returning undefined will let the window close\n        }\n      };\n    } else if (window) {\n      if (shouldPrompt) {\n        window.onbeforeunload = () => message;\n      } else {\n        window.onbeforeunload = null;\n      }\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n","import React, { Component } from 'react';\nimport { Tabs as MaterialUITabs, Tab as MaterialUITab } from 'material-ui/Tabs';\nimport Close from 'material-ui/svg-icons/navigation/close';\nimport FlatButton from 'material-ui/FlatButton';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst styles = {\n  tabsContainerStyle: {\n    maxWidth: '100%',\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  tabTemplateStyle: {\n    width: '100%',\n    position: 'relative',\n    textAlign: 'initial',\n    height: '100%',\n  },\n};\n\n/**\n * This is to override the default material-ui tab template used to wrap the content of each tab element.\n * 2 changes (**please port them to your new implementation if you change the tabs**):\n *\n * 1) Instead of setting the \"height\" of hidden tabs to \"0\", we set \"display\" to \"none\" to avoid\n * messing with components (in particular components where you can scroll: when collapsed because of height=0,\n * they will lose they scrolling position).\n *\n * 2) shouldComponentUpdate is used to avoid updating the content of a tab that is not selected.\n *\n * Rest of the implementation is the same.\n */\nclass TabTemplate extends Component {\n  shouldComponentUpdate(nextProps) {\n    return this.props.selected || nextProps.selected;\n  }\n\n  render() {\n    const { children, selected, style } = this.props;\n    const templateStyle = { ...styles.tabTemplateStyle, ...style };\n    if (!selected) {\n      templateStyle.display = 'none';\n    }\n\n    return <div style={templateStyle}>{children}</div>;\n  }\n}\n\nexport class ThemableTabs extends Component {\n  render() {\n    const { muiTheme, hideLabels, ...tabsProps } = this.props;\n    const tabItemContainerStyle = {\n      maxWidth: '100%', // Tabs should take all width\n      flexShrink: 0, // Tabs height should never be reduced\n      overflowX: 'auto',\n      display: hideLabels ? 'none' : 'block',\n      backgroundColor: muiTheme.closableTabs.backgroundColor,\n    };\n\n    const contentContainerStyle = {\n      overflowY: 'hidden',\n      height: hideLabels\n        ? '100%'\n        : `calc(100% - ${muiTheme.closableTabs.height}px)`,\n    };\n\n    return (\n      <MaterialUITabs\n        style={styles.tabsContainerStyle}\n        tabTemplate={TabTemplate}\n        contentContainerStyle={contentContainerStyle}\n        tabItemContainerStyle={tabItemContainerStyle}\n        inkBarStyle={{ display: 'none' }}\n        {...tabsProps}\n      />\n    );\n  }\n}\n\nexport const Tabs = muiThemeable()(ThemableTabs);\nTabs.muiName = 'Tabs';\n\nclass ThemableTab extends Component {\n  static muiName = 'Tab';\n\n  render() {\n    const {\n      muiTheme,\n      selected,\n      onClose,\n      label,\n      closable,\n      ...tabProps\n    } = this.props;\n\n    const truncatedLabel = (\n      <span\n        style={{\n          width:\n            muiTheme.closableTabs.width -\n            muiTheme.closableTabs.closeButtonWidth * 1.5,\n          marginRight: muiTheme.closableTabs.closeButtonWidth,\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n        }}\n      >\n        {label}\n      </span>\n    );\n\n    return (\n      <span\n        style={{\n          position: 'relative',\n          width: muiTheme.closableTabs.width,\n          display: 'inline-block',\n        }}\n      >\n        <MaterialUITab\n          {...tabProps}\n          label={truncatedLabel}\n          selected={selected}\n          buttonStyle={{\n            height: muiTheme.closableTabs.height,\n            backgroundColor: selected\n              ? muiTheme.closableTabs.selectedBackgroundColor\n              : muiTheme.closableTabs.backgroundColor,\n            color: selected\n              ? muiTheme.closableTabs.selectedTextColor\n              : muiTheme.closableTabs.textColor,\n          }}\n          style={{\n            height: '100%',\n            width: '100%',\n          }}\n        />\n        {closable && (\n          <FlatButton\n            backgroundColor=\"transparent\"\n            hoverColor={muiTheme.selectedBackgroundColor}\n            onClick={onClose}\n            style={{\n              position: 'absolute',\n              right: 0,\n              top: 0,\n              bottom: 0,\n              borderRadius: 0,\n              width: muiTheme.closableTabs.closeButtonWidth,\n              minWidth: muiTheme.closableTabs.closeButtonWidth,\n            }}\n            icon={\n              <Close\n                color={\n                  selected\n                    ? muiTheme.closableTabs.selectedTextColor\n                    : muiTheme.closableTabs.textColor\n                }\n                style={{\n                  width: muiTheme.closableTabs.height / 2,\n                  height: muiTheme.closableTabs.height / 2,\n                }}\n              />\n            }\n          />\n        )}\n      </span>\n    );\n  }\n}\n\nexport const Tab = muiThemeable()(ThemableTab);\nTab.muiName = 'Tab';\n","// @flow\nimport findIndex from 'lodash/findIndex';\nimport EventsEditor from './Editors/EventsEditor';\nimport DebuggerEditor from './Editors/DebuggerEditor';\nimport EventsFunctionsExtensionEditorWrapper from './Editors/EventsFunctionsExtensionEditor';\nimport ExternalEventsEditor from './Editors/ExternalEventsEditor';\nimport ExternalLayoutEditor from './Editors/ExternalLayoutEditor';\nimport ResourcesEditor from './Editors/ResourcesEditor';\nimport SceneEditor from './Editors/SceneEditor';\n\n// Supported editors\ntype EditorRef =\n  | DebuggerEditor\n  | EventsEditor\n  | EventsFunctionsExtensionEditorWrapper\n  | ExternalEventsEditor\n  | ExternalLayoutEditor\n  | ResourcesEditor\n  | SceneEditor;\n\nexport type EditorTab = {|\n  render: (isCurrentTab: boolean) => React$Element<*>,\n  editorRef: ?EditorRef,\n  name: string,\n  key: string,\n  closable: boolean,\n|};\n\nexport type EditorTabsState = {\n  editors: Array<EditorTab>,\n  currentTab: number,\n};\n\nexport const getEditorTabsInitialState = (): EditorTabsState => {\n  return {\n    editors: [],\n    currentTab: 0,\n  };\n};\n\ntype renderEditorProps = {|\n  isActive: boolean,\n  editorRef: Function,\n|};\n\nexport const openEditorTab = (\n  state: EditorTabsState,\n  {\n    name,\n    renderEditor,\n    key,\n    dontFocusTab,\n    closable,\n  }: {\n    name: string,\n    renderEditor: (props: renderEditorProps) => React$Element<*>,\n    key: string,\n    dontFocusTab?: boolean,\n    closable?: boolean,\n  }\n): EditorTabsState => {\n  const existingEditorId = findIndex(\n    state.editors,\n    editor => editor.key === key\n  );\n  if (existingEditorId !== -1) {\n    return {\n      ...state,\n      currentTab: dontFocusTab ? state.currentTab : existingEditorId,\n    };\n  }\n\n  const editorTab: EditorTab = {\n    render: (isCurrentTab: boolean) =>\n      renderEditor({\n        isActive: isCurrentTab,\n        editorRef: editorRef => (editorTab.editorRef = editorRef),\n      }),\n    editorRef: null,\n    name,\n    key,\n    closable: typeof closable === 'undefined' ? true : !!closable,\n  };\n\n  return {\n    ...state,\n    editors: [...state.editors, editorTab],\n    currentTab: dontFocusTab ? state.currentTab : state.editors.length,\n  };\n};\n\nexport const changeCurrentTab = (\n  state: EditorTabsState,\n  newTabId: number\n): EditorTabsState => {\n  return {\n    ...state,\n    currentTab: Math.max(0, Math.min(newTabId, state.editors.length - 1)),\n  };\n};\n\nexport const closeAll = (): EditorTabsState => {\n  return getEditorTabsInitialState();\n};\n\nexport const closeEditorTab = (\n  state: EditorTabsState,\n  editorTab: EditorTab\n): EditorTabsState => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(e => e !== editorTab),\n    },\n    state.currentTab\n  );\n};\n\nexport const getEditors = (state: EditorTabsState): Array<EditorTab> => {\n  return state.editors;\n};\n\nexport const getCurrentTabIndex = (state: EditorTabsState): number => {\n  return state.currentTab;\n};\n\nexport const getCurrentTab = (state: EditorTabsState): EditorTab => {\n  return state.editors[state.currentTab];\n};\n\nexport const closeProjectTabs = (\n  state: EditorTabsState,\n  project: ?gdProject\n) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editorProject =\n          editorTab.editorRef && editorTab.editorRef.getProject();\n        return !editorProject || editorProject !== project;\n      }),\n    },\n    state.currentTab\n  );\n};\n\n/*\n * Ask the editors to persist their UI settings\n * to the project.\n */\nexport const saveUiSettings = (state: EditorTabsState) => {\n  state.editors.forEach(editorTab => {\n    if (editorTab.editorRef && editorTab.editorRef.saveUiSettings) {\n      editorTab.editorRef.saveUiSettings();\n    }\n  });\n};\n\nexport const closeLayoutTabs = (state: EditorTabsState, layout: gdLayout) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editorLayout =\n          editorTab.editorRef && editorTab.editorRef.getLayout();\n        return !editorLayout || editorLayout !== layout;\n      }),\n    },\n    state.currentTab\n  );\n};\n\nexport const closeExternalLayoutTabs = (\n  state: EditorTabsState,\n  externalLayout: gdExternalLayout\n) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editor = editorTab.editorRef;\n\n        if (editor instanceof ExternalLayoutEditor) {\n          return (\n            !editor.getExternalLayout() ||\n            editor.getExternalLayout() !== externalLayout\n          );\n        }\n\n        return true;\n      }),\n    },\n    state.currentTab\n  );\n};\n\nexport const closeExternalEventsTabs = (\n  state: EditorTabsState,\n  externalEvents: gdExternalEvents\n) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editor = editorTab.editorRef;\n        if (editor instanceof ExternalEventsEditor) {\n          return (\n            !editor.getExternalEvents() ||\n            editor.getExternalEvents() !== externalEvents\n          );\n        }\n\n        return true;\n      }),\n    },\n    state.currentTab\n  );\n};\n\nexport const closeEventsFunctionsExtensionTabs = (\n  state: EditorTabsState,\n  eventsFunctionsExtension: gdEventsFunctionsExtension\n) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editor = editorTab.editorRef;\n        if (editor instanceof EventsFunctionsExtensionEditorWrapper) {\n          return (\n            !editor.getEventsFunctionsExtension() ||\n            editor.getEventsFunctionsExtension() !== eventsFunctionsExtension\n          );\n        }\n\n        return true;\n      }),\n    },\n    state.currentTab\n  );\n};\n\nexport const getEventsFunctionsExtensionEditor = (\n  state: EditorTabsState,\n  eventsFunctionsExtension: gdEventsFunctionsExtension\n): ?{| editor: EventsFunctionsExtensionEditorWrapper, tabIndex: number |} => {\n  for (let tabIndex = 0; tabIndex < state.editors.length; ++tabIndex) {\n    const editor = state.editors[tabIndex].editorRef;\n    if (\n      editor instanceof EventsFunctionsExtensionEditorWrapper &&\n      editor.getEventsFunctionsExtension() === eventsFunctionsExtension\n    ) {\n      return { editor, tabIndex };\n    }\n  }\n\n  return null;\n};\n","// @flow\nimport React, { Component, type Node } from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport findIndex from 'lodash/findIndex';\nimport {\n  SortableTreeWithoutDndContext,\n  getNodeAtPath,\n} from 'react-sortable-tree';\nimport { mapFor } from '../../Utils/MapFor';\nimport { getInitialSelection, isEventSelected } from '../SelectionHandler';\nimport EventsRenderingService from './EventsRenderingService';\nimport EventHeightsCache from './EventHeightsCache';\nimport classNames from 'classnames';\nimport { eventsTree, eventsTreeWithSearchResults, icon } from './ClassNames';\nimport './style.css';\nimport {\n  type SelectionState,\n  type EventContext,\n  type InstructionsListContext,\n  type InstructionContext,\n  type ParameterContext,\n} from '../SelectionHandler';\nimport getObjectByName from '../../Utils/GetObjectByName';\nimport ObjectsRenderingService from '../../ObjectsRendering/ObjectsRenderingService';\nconst getThumbnail = ObjectsRenderingService.getThumbnail.bind(\n  ObjectsRenderingService\n);\n\nconst gd = global.gd;\n\nconst indentWidth = 22;\n\nconst styles = {\n  container: { flex: 1 },\n};\n\ntype EventsContainerProps = {|\n  eventsHeightsCache: EventHeightsCache,\n  event: gdBaseEvent,\n  leftIndentWidth: number,\n  disabled: boolean,\n  project: gdProject,\n  layout?: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  selection: SelectionState,\n  onAddNewInstruction: Function,\n  onMoveToInstruction: (destinationContext: InstructionContext) => void,\n  onMoveToInstructionsList: (\n    destinationContext: InstructionsListContext\n  ) => void,\n  onInstructionClick: InstructionContext => void,\n  onInstructionDoubleClick: InstructionContext => void,\n  onInstructionContextMenu: (x: number, y: number, InstructionContext) => void,\n  onInstructionsListContextMenu: (\n    x: number,\n    y: number,\n    InstructionsListContext\n  ) => void,\n  onParameterClick: ParameterContext => void,\n\n  onEventClick: (eventContext: EventContext) => void,\n  onEventContextMenu: (x: number, y: number) => void,\n  onOpenExternalEvents: string => void,\n  onOpenLayout: string => void,\n  renderObjectThumbnail: string => Node,\n|};\n\n/**\n * The component containing an event.\n * It will report the rendered event height so that the EventsTree can\n * update accordingly.\n */\nclass EventContainer extends Component<EventsContainerProps, {||}> {\n  _container: ?any;\n  componentDidMount() {\n    const height = this._container ? this._container.offsetHeight : 0;\n    this.props.eventsHeightsCache.setEventHeight(this.props.event, height);\n  }\n\n  componentDidUpdate() {\n    const height = this._container ? this._container.offsetHeight : 0;\n    this.props.eventsHeightsCache.setEventHeight(this.props.event, height);\n  }\n\n  _onEventUpdated = () => {\n    this.forceUpdate();\n  };\n\n  _onEventContextMenu = (domEvent: any) => {\n    domEvent.preventDefault();\n    this.props.onEventContextMenu(domEvent.clientX, domEvent.clientY);\n  };\n\n  render() {\n    const { event, project, layout, disabled } = this.props;\n    const EventComponent = EventsRenderingService.getEventComponent(event);\n\n    return (\n      <div\n        ref={container => (this._container = container)}\n        onClick={this.props.onEventClick}\n        onContextMenu={this._onEventContextMenu}\n      >\n        {EventComponent && (\n          <EventComponent\n            project={project}\n            layout={layout}\n            event={event}\n            globalObjectsContainer={this.props.globalObjectsContainer}\n            objectsContainer={this.props.objectsContainer}\n            selected={isEventSelected(this.props.selection, event)}\n            selection={this.props.selection}\n            leftIndentWidth={this.props.leftIndentWidth}\n            onUpdate={this._onEventUpdated}\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            onOpenExternalEvents={this.props.onOpenExternalEvents}\n            onOpenLayout={this.props.onOpenLayout}\n            disabled={\n              disabled /* Use disabled (not event.disabled) as it is true if a parent event is disabled*/\n            }\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nconst getNodeKey = ({ treeIndex }) => treeIndex;\n\nconst ThemableSortableTree = ({ muiTheme, className, ...otherProps }) => (\n  <SortableTreeWithoutDndContext\n    className={`${eventsTree} ${\n      muiTheme.eventsSheetRootClassName\n    } ${className}`}\n    {...otherProps}\n  />\n);\nconst SortableTree = muiThemeable()(ThemableSortableTree);\n\nconst noop = () => {};\n\ntype EventsTreeProps = {|\n  events: gdEventsList,\n  project: gdProject,\n  layout?: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  selection: SelectionState,\n  onAddNewInstruction: Function,\n  onMoveToInstruction: (destinationContext: InstructionContext) => void,\n  onMoveToInstructionsList: (\n    destinationContext: InstructionsListContext\n  ) => void,\n  onInstructionClick: InstructionContext => void,\n  onInstructionDoubleClick: InstructionContext => void,\n  onInstructionContextMenu: (x: number, y: number, InstructionContext) => void,\n  onInstructionsListContextMenu: (\n    x: number,\n    y: number,\n    InstructionsListContext\n  ) => void,\n  onParameterClick: ParameterContext => void,\n\n  onEventClick: (eventContext: EventContext) => void,\n  onEventContextMenu: (\n    x: number,\n    y: number,\n    eventContext: EventContext\n  ) => void,\n  onAddNewEvent: (eventContext: EventContext) => void,\n  onOpenExternalEvents: string => void,\n  onOpenLayout: string => void,\n  showObjectThumbnails: boolean,\n\n  searchResults: ?Array<gdBaseEvent>,\n  searchFocusOffset: ?number,\n\n  onEventMoved: () => void,\n|};\n\ntype SortableTreeNode = {\n  eventsList: gdEventsList,\n  event: gdBaseEvent,\n  depth: number,\n  disabled: boolean,\n  isCondition: boolean,\n  indexInList: number,\n};\n\n/**\n * Display a tree of event. Builtin on react-sortable-tree so that event\n * can be drag'n'dropped and events rows are virtualized.\n */\nexport default class ThemableEventsTree extends Component<EventsTreeProps, *> {\n  static defaultProps = {\n    selection: getInitialSelection(),\n  };\n  _list: ?any;\n  eventsHeightsCache: EventHeightsCache;\n\n  constructor(props: EventsTreeProps) {\n    super(props);\n\n    this.eventsHeightsCache = new EventHeightsCache(this);\n    this.state = {\n      ...this._eventsToTreeData(props.events),\n    };\n  }\n\n  componentDidMount() {\n    this.onHeightsChanged();\n  }\n\n  /**\n   * Should be called whenever an event height has changed\n   */\n  onHeightsChanged(cb: ?() => void) {\n    this.forceUpdate(() => {\n      // Help the developer updating react-sortable-tree\n      if (this._list && !this._list.wrappedInstance.recomputeRowHeights) {\n        console.error(\n          'recomputeRowHeights not on wrappedInstance, this must be fixed after updating react-virtualized/react-sortable-tree'\n        );\n      }\n\n      if (this._list) this._list.wrappedInstance.recomputeRowHeights();\n      if (cb) cb();\n    });\n  }\n\n  /**\n   * Should be called whenever events changed (new event...)\n   * from outside this component.\n   */\n  forceEventsUpdate(cb: ?() => void) {\n    this.setState(this._eventsToTreeData(this.props.events), () => {\n      // Help the developer updating react-sortable-tree\n      if (this._list && !this._list.wrappedInstance.recomputeRowHeights) {\n        console.error(\n          'recomputeRowHeights not on wrappedInstance, this must be fixed after updating react-virtualized/react-sortable-tree'\n        );\n      }\n\n      if (this._list) this._list.wrappedInstance.recomputeRowHeights();\n      if (cb) cb();\n    });\n  }\n\n  scrollToEvent(event: gdBaseEvent) {\n    const row = this._getEventRow(event);\n    if (row !== -1 && this._list) this._list.wrappedInstance.scrollToRow(row);\n  }\n\n  /**\n   * Unfold events so that the given one is visible\n   */\n  unfoldForEvent(event: gdBaseEvent) {\n    gd.EventsListUnfolder.unfoldWhenContaining(this.props.events, event);\n    this.forceEventsUpdate();\n  }\n\n  _getEventRow(searchedEvent: gdBaseEvent) {\n    return findIndex(\n      this.state.flatData,\n      event => event.ptr === searchedEvent.ptr\n    );\n  }\n\n  _eventsToTreeData = (\n    eventsList: gdEventsList,\n    flatData: Array<gdBaseEvent> = [],\n    depth: number = 0,\n    parentDisabled: boolean = false\n  ) => {\n    const treeData = mapFor<any>(0, eventsList.getEventsCount(), i => {\n      const event = eventsList.getEventAt(i);\n      flatData.push(event);\n\n      const disabled = parentDisabled || event.isDisabled();\n\n      return {\n        title: this._renderEvent,\n        event,\n        eventsList,\n        indexInList: i,\n        expanded: !event.isFolded(),\n        disabled,\n        depth,\n        key: event.ptr, //TODO: useless?\n        children: this._eventsToTreeData(\n          event.getSubEvents(),\n          // flatData is a flat representation of events, one for each line.\n          // Hence it should not contain the folded events.\n          !event.isFolded() ? flatData : [],\n          depth + 1,\n          disabled\n        ).treeData,\n      };\n    });\n\n    return {\n      treeData,\n      flatData,\n    };\n  };\n\n  _onMoveNode = ({\n    treeData,\n    path,\n    node,\n  }: {\n    treeData: any,\n    path: Array<any>,\n    node: SortableTreeNode,\n  }) => {\n    // Get the event list where the event should be moved to.\n    const targetPath = path.slice(0, -1);\n    const target = getNodeAtPath({\n      getNodeKey,\n      treeData: treeData,\n      path: targetPath,\n    });\n    const targetNode = target.node;\n    const targetEventsList =\n      targetNode && targetNode.event\n        ? targetNode.event.getSubEvents()\n        : this.props.events;\n    const targetPosition =\n      targetNode && targetNode.children ? targetNode.children.indexOf(node) : 0;\n\n    // Get the moved event and its list from the moved node.\n    const { event, eventsList } = node;\n\n    // Do the move\n    const newEvent = event.clone();\n    eventsList.removeEvent(event);\n    targetEventsList.insertEvent(newEvent, targetPosition);\n    newEvent.delete();\n\n    this.forceEventsUpdate();\n    this.props.onEventMoved();\n  };\n\n  _canDrop = ({ nextParent }: { nextParent: ?SortableTreeNode }) => {\n    if (nextParent && nextParent.event)\n      return nextParent.event.canHaveSubEvents();\n\n    return true;\n  };\n\n  _onVisibilityToggle = ({ node }: { node: SortableTreeNode }) => {\n    const { event } = node;\n\n    event.setFolded(!event.isFolded());\n    this.forceEventsUpdate();\n  };\n\n  _renderObjectThumbnail = (objectName: string) => {\n    const { project, layout, showObjectThumbnails } = this.props;\n    if (!showObjectThumbnails) return null;\n\n    const object = getObjectByName(project, layout, objectName);\n    if (!object) return null;\n\n    return (\n      <img\n        className={classNames({\n          [icon]: true,\n        })}\n        alt=\"\"\n        src={getThumbnail(project, object)}\n      />\n    );\n  };\n\n  _renderEvent = ({ node }: { node: SortableTreeNode }) => {\n    const { event, depth, disabled } = node;\n\n    return (\n      <EventContainer\n        project={this.props.project}\n        layout={this.props.layout}\n        globalObjectsContainer={this.props.globalObjectsContainer}\n        objectsContainer={this.props.objectsContainer}\n        event={event}\n        key={event.ptr}\n        eventsHeightsCache={this.eventsHeightsCache}\n        selection={this.props.selection}\n        leftIndentWidth={depth * indentWidth}\n        onAddNewInstruction={this.props.onAddNewInstruction}\n        onMoveToInstruction={this.props.onMoveToInstruction}\n        onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n        onInstructionClick={this.props.onInstructionClick}\n        onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n        onParameterClick={this.props.onParameterClick}\n        onEventClick={() =>\n          this.props.onEventClick({\n            eventsList: node.eventsList,\n            event: node.event,\n            indexInList: node.indexInList,\n            isCondition: node.isCondition,\n          })\n        }\n        onEventContextMenu={(x, y) =>\n          this.props.onEventContextMenu(x, y, {\n            eventsList: node.eventsList,\n            event: node.event,\n            indexInList: node.indexInList,\n            isCondition: node.isCondition,\n          })\n        }\n        onInstructionContextMenu={this.props.onInstructionContextMenu}\n        onInstructionsListContextMenu={this.props.onInstructionsListContextMenu}\n        onOpenExternalEvents={this.props.onOpenExternalEvents}\n        onOpenLayout={this.props.onOpenLayout}\n        disabled={\n          disabled /* Use node.disabled (not event.disabled) as it is true if a parent event is disabled*/\n        }\n        renderObjectThumbnail={this._renderObjectThumbnail}\n      />\n    );\n  };\n\n  _treeSearchMethod = ({\n    node,\n    searchQuery,\n  }: {\n    node: SortableTreeNode,\n    searchQuery: ?Array<gdBaseEvent>,\n  }) => {\n    const searchResults = searchQuery;\n    if (!searchResults) return false;\n    const { event } = node;\n\n    return searchResults.find(highlightedEvent =>\n      gd.compare(highlightedEvent, event)\n    );\n  };\n\n  render() {\n    return (\n      <div style={styles.container}>\n        <SortableTree\n          treeData={this.state.treeData}\n          scaffoldBlockPxWidth={indentWidth}\n          onChange={noop}\n          onVisibilityToggle={this._onVisibilityToggle}\n          onMoveNode={this._onMoveNode}\n          canDrop={this._canDrop}\n          rowHeight={({ index }) => {\n            const event = this.state.flatData[index];\n            if (!event) return 0;\n\n            return this.eventsHeightsCache.getEventHeight(event);\n          }}\n          searchMethod={this._treeSearchMethod}\n          searchQuery={this.props.searchResults}\n          searchFocusOffset={this.props.searchFocusOffset}\n          className={\n            this.props.searchResults ? eventsTreeWithSearchResults : ''\n          }\n          reactVirtualizedListProps={{\n            ref: list => (this._list = list),\n          }}\n        />\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport InstructionsList from '../InstructionsList';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  executableEventContainer,\n} from '../ClassNames';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n  },\n  actionsList: {\n    flex: 1,\n  },\n};\n\nexport default class StandardEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  render() {\n    var standardEvent = gd.asStandardEvent(this.props.event);\n\n    const conditionsListSyle = {\n      width: `calc(35vw - ${this.props.leftIndentWidth}px)`,\n    };\n\n    return (\n      <div\n        style={styles.container}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n          [executableEventContainer]: true,\n        })}\n      >\n        <InstructionsList\n          instrsList={standardEvent.getConditions()}\n          style={conditionsListSyle}\n          selection={this.props.selection}\n          areConditions\n          onAddNewInstruction={this.props.onAddNewInstruction}\n          onMoveToInstruction={this.props.onMoveToInstruction}\n          onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n          onInstructionClick={this.props.onInstructionClick}\n          onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n          onInstructionContextMenu={this.props.onInstructionContextMenu}\n          onInstructionsListContextMenu={\n            this.props.onInstructionsListContextMenu\n          }\n          onParameterClick={this.props.onParameterClick}\n          disabled={this.props.disabled}\n          renderObjectThumbnail={this.props.renderObjectThumbnail}\n        />\n        <InstructionsList\n          instrsList={standardEvent.getActions()}\n          style={styles.actionsList}\n          selection={this.props.selection}\n          areConditions={false}\n          onAddNewInstruction={this.props.onAddNewInstruction}\n          onMoveToInstruction={this.props.onMoveToInstruction}\n          onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n          onInstructionClick={this.props.onInstructionClick}\n          onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n          onInstructionContextMenu={this.props.onInstructionContextMenu}\n          onInstructionsListContextMenu={\n            this.props.onInstructionsListContextMenu\n          }\n          onParameterClick={this.props.onParameterClick}\n          disabled={this.props.disabled}\n          renderObjectThumbnail={this.props.renderObjectThumbnail}\n        />\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { mapFor } from '../../Utils/MapFor';\nimport classNames from 'classnames';\nimport {\n  selectedArea,\n  selectableArea,\n  subInstructionsContainer,\n  instructionParameter,\n  disabledText,\n  icon,\n} from './ClassNames';\nimport {\n  type InstructionsListContext,\n  type InstructionContext,\n} from '../SelectionHandler';\nimport InstructionsList from './InstructionsList';\nimport {\n  DragSource,\n  type DragSourceMonitor,\n  type DragSourceConnector,\n  type ConnectDragSource,\n  DropTarget,\n  type DropTargetMonitor,\n  type DropTargetConnector,\n  type ConnectDropTarget,\n} from 'react-dnd';\nimport DropIndicator from './DropIndicator';\nimport ParameterRenderingService from '../ParameterRenderingService';\nconst gd = global.gd;\nconst instrFormatter = gd.InstructionSentenceFormatter.get();\ninstrFormatter.loadTypesFormattingFromConfig();\n\nconst styles = {\n  container: {\n    whiteSpace: 'normal',\n    wordWrap: 'break-word',\n    cursor: 'pointer',\n    marginBottom: 1,\n  },\n};\n\ntype DragSourceProps = {|\n  connectDragSource: ConnectDragSource,\n|};\n\ntype DropTargetProps = {|\n  connectDropTarget: ConnectDropTarget,\n  isOver: boolean,\n  canDrop: boolean,\n|};\n\ntype Props = {|\n  instruction: gdInstruction,\n  isCondition: boolean,\n  onClick: Function,\n  selected: boolean,\n  disabled: boolean,\n  onDoubleClick: () => void,\n  onContextMenu: (x: number, y: number) => void,\n  onMoveToInstruction: () => void,\n\n  ...DragSourceProps,\n  ...DropTargetProps,\n\n  // For potential sub-instructions list:\n  selection: Object,\n  onAddNewSubInstruction: Function,\n  onMoveToSubInstruction: (destinationContext: InstructionContext) => void,\n  onMoveToSubInstructionsList: (\n    destinationContext: InstructionsListContext\n  ) => void,\n  onSubInstructionClick: Function,\n  onSubInstructionDoubleClick: Function,\n  onSubInstructionsListContextMenu: (\n    x: number,\n    y: number,\n    instructionsListContext: InstructionsListContext\n  ) => void,\n  onSubParameterClick: Function,\n  onSubInstructionContextMenu: (\n    x: number,\n    y: number,\n    instructionContext: InstructionContext\n  ) => void,\n  onParameterClick: (event: any, parameterIndex: number) => void,\n  renderObjectThumbnail: string => React.Node,\n|};\n\nclass Instruction extends React.Component<Props, *> {\n  /**\n   * Render the different parts of the text of the instruction.\n   * Parameter can have formatting, be hovered and clicked. The rest\n   * has not particular styling.\n   */\n  _renderInstructionText = (metadata: gdInstructionMetadata) => {\n    const { instruction, disabled } = this.props;\n    const formattedTexts = instrFormatter.getAsFormattedText(\n      instruction,\n      metadata\n    );\n    const parametersCount = metadata.getParametersCount();\n\n    return (\n      <span\n        className={classNames({\n          [disabledText]: disabled,\n        })}\n      >\n        {mapFor(0, formattedTexts.size(), i => {\n          const formatting = formattedTexts.getTextFormatting(i);\n          const parameterIndex = formatting.getUserData();\n          const isParameter =\n            parameterIndex >= 0 && parameterIndex < parametersCount;\n\n          if (!isParameter)\n            return <span key={i}>{formattedTexts.getString(i)}</span>;\n\n          const parameterType = metadata.getParameter(parameterIndex).getType();\n          return (\n            <span\n              key={i}\n              className={classNames({\n                [selectableArea]: true,\n                [instructionParameter]: true,\n                [parameterType]: true,\n              })}\n              onClick={domEvent =>\n                this.props.onParameterClick(domEvent, parameterIndex)\n              }\n            >\n              {ParameterRenderingService.renderParameterString(\n                parameterType,\n                formattedTexts.getString(i),\n                this.props.renderObjectThumbnail\n              )}\n            </span>\n          );\n        })}\n      </span>\n    );\n  };\n\n  render() {\n    const { instruction, isCondition } = this.props;\n    const {\n      connectDragSource,\n      connectDropTarget,\n      isOver,\n      canDrop,\n    } = this.props;\n\n    //TODO: Metadata could be cached for performance boost.\n    const metadata = isCondition\n      ? gd.MetadataProvider.getConditionMetadata(\n          gd.JsPlatform.get(),\n          instruction.getType()\n        )\n      : gd.MetadataProvider.getActionMetadata(\n          gd.JsPlatform.get(),\n          instruction.getType()\n        );\n\n    const instructionDiv = connectDropTarget(\n      // $FlowFixMe\n      connectDragSource(\n        <div\n          style={styles.container}\n          className={classNames({\n            [selectableArea]: true,\n            [selectedArea]: this.props.selected,\n          })}\n          onClick={e => {\n            e.stopPropagation();\n            this.props.onClick();\n          }}\n          onDoubleClick={e => {\n            e.stopPropagation();\n            this.props.onDoubleClick();\n          }}\n          onContextMenu={e => {\n            e.stopPropagation();\n            this.props.onContextMenu(e.clientX, e.clientY);\n          }}\n        >\n          {instruction.isInverted() && (\n            <img\n              className={classNames({\n                [icon]: true,\n              })}\n              src=\"res/contraire.png\"\n              alt=\"Condition is negated\"\n            />\n          )}\n          <img\n            className={classNames({\n              [icon]: true,\n            })}\n            src={metadata.getSmallIconFilename()}\n            alt=\"\"\n          />\n          {this._renderInstructionText(metadata)}\n          {metadata.canHaveSubInstructions() && (\n            <InstructionsList\n              extraClassName={subInstructionsContainer}\n              instrsList={instruction.getSubInstructions()}\n              areConditions={this.props.isCondition}\n              selection={this.props.selection}\n              onAddNewInstruction={this.props.onAddNewSubInstruction}\n              onMoveToInstruction={this.props.onMoveToSubInstruction}\n              onMoveToInstructionsList={this.props.onMoveToSubInstructionsList}\n              onInstructionClick={this.props.onSubInstructionClick}\n              onInstructionDoubleClick={this.props.onSubInstructionDoubleClick}\n              onInstructionContextMenu={this.props.onSubInstructionContextMenu}\n              onInstructionsListContextMenu={\n                this.props.onSubInstructionsListContextMenu\n              }\n              onParameterClick={this.props.onSubParameterClick}\n              addButtonLabel={<Trans>Add a sub-condition</Trans>}\n              disabled={this.props.disabled}\n              renderObjectThumbnail={this.props.renderObjectThumbnail}\n            />\n          )}\n        </div>\n      )\n    );\n\n    return isOver ? (\n      <React.Fragment>\n        <DropIndicator canDrop={canDrop} />\n        {instructionDiv}\n      </React.Fragment>\n    ) : (\n      instructionDiv || null\n    );\n  }\n}\n\n// Drag'n'drop support:\n\nexport const reactDndInstructionType = 'GD_DRAGGED_INSTRUCTION';\n\ntype InstructionSourceProps = {\n  onClick: () => void,\n  isCondition: boolean,\n};\n\nconst instructionSource = {\n  beginDrag(props: InstructionSourceProps) {\n    props.onClick(); // Select the dragged instruction\n    return {\n      // No need to save here what is being dragged,\n      // as its the entire selection that is considered to be dragged.\n      isCondition: props.isCondition,\n    };\n  },\n};\n\nfunction sourceCollect(\n  connect: DragSourceConnector,\n  monitor: DragSourceMonitor\n): DragSourceProps {\n  return {\n    connectDragSource: connect.dragSource(),\n  };\n}\n\nconst instructionTarget = {\n  canDrop(props: Props, monitor: DropTargetMonitor) {\n    return (\n      monitor.getItem() && monitor.getItem().isCondition === props.isCondition\n    );\n  },\n  drop(props: Props, monitor: DropTargetMonitor) {\n    if (monitor.didDrop()) {\n      return; // Drop already handled by a subinstruction\n    }\n    props.onMoveToInstruction();\n  },\n};\n\nfunction targetCollect(\n  connect: DropTargetConnector,\n  monitor: DropTargetMonitor\n): DropTargetProps {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n  };\n}\n\n// $FlowFixMe - Typing of DragSource/DropTarget is a pain to get correctly\nexport default DragSource(\n  reactDndInstructionType,\n  instructionSource,\n  sourceCollect\n)(\n  DropTarget(reactDndInstructionType, instructionTarget, targetCollect)(\n    Instruction\n  )\n);\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nexport default class RelationalOperatorField extends Component {\n  focus() {\n    if (this._field && this._field.focus) this._field.focus();\n  }\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <SelectField\n        fullWidth\n        floatingLabelText={description}\n        value={this.props.value}\n        onChange={(e, i, value) => this.props.onChange(value)}\n        ref={field => (this._field = field)}\n      >\n        <MenuItem value=\"=\" primaryText={<Trans>= (equal to)</Trans>} />\n        <MenuItem value=\"<\" primaryText={<Trans>&lt; (less than)</Trans>} />\n        <MenuItem value=\">\" primaryText={<Trans>&gt; (greater than)</Trans>} />\n        <MenuItem\n          value=\"<=\"\n          primaryText={<Trans>&lt;= (less or equal to)</Trans>}\n        />\n        <MenuItem\n          value=\">=\"\n          primaryText={<Trans>&gt;= (greater or equal to)</Trans>}\n        />\n        <MenuItem value=\"!=\" primaryText={<Trans>!= (different than)</Trans>} />\n      </SelectField>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nexport default class OperatorField extends Component {\n  focus() {\n    if (this._field && this._field.focus) this._field.focus();\n  }\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <SelectField\n        fullWidth\n        floatingLabelText={description}\n        value={this.props.value}\n        onChange={(e, i, value) => this.props.onChange(value)}\n        ref={field => (this._field = field)}\n      >\n        <MenuItem value=\"=\" primaryText={<Trans>= (set to)</Trans>} />\n        <MenuItem value=\"+\" primaryText={<Trans>+ (add)</Trans>} />\n        <MenuItem value=\"-\" primaryText={<Trans>- (subtract)</Trans>} />\n        <MenuItem value=\"*\" primaryText={<Trans>* (multiply by)</Trans>} />\n        <MenuItem value=\"/\" primaryText={<Trans>/ (divide by)</Trans>} />\n      </SelectField>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nexport default class RelationalOperatorField extends Component {\n  focus() {}\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <SelectField\n        fullWidth\n        floatingLabelText={description}\n        value={this.props.value}\n        ref={field => (this._field = field)}\n        onChange={(e, i, value) => this.props.onChange(value)}\n      >\n        <MenuItem value=\"Left\" primaryText={<Trans>Left (primary)</Trans>} />\n        <MenuItem\n          value=\"Right\"\n          primaryText={<Trans>Right (secondary)</Trans>}\n        />\n        <MenuItem\n          value=\"Middle\"\n          primaryText={\n            <Trans>Middle (Auxiliary button, usually the wheel button)</Trans>\n          }\n        />\n        {/* TODO: Add support for these buttons in the game engine\n         <MenuItem\n          value=\"XButton1\"\n          primaryText={<Trans>Special button #1</Trans>}\n        />\n        <MenuItem\n          value=\"XButton2\"\n          primaryText={<Trans>Special button #2</Trans>}\n        /> */}\n      </SelectField>\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nimport { defaultAutocompleteProps } from '../../UI/AutocompleteProps';\n\ntype State = {|\n  focused: boolean,\n  text: ?string,\n|};\n\nexport default class KeyField extends Component<ParameterFieldProps, State> {\n  state = { focused: false, text: null };\n\n  _description: ?string;\n  _field: ?any;\n  _keyNames: Array<string> = [];\n\n  constructor(props: ParameterFieldProps) {\n    super(props);\n\n    const { parameterMetadata } = this.props;\n    this._description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    this._keyNames = [\n      'Num0',\n      'Num1',\n      'Num2',\n      'Num3',\n      'Num4',\n      'Num5',\n      'Num6',\n      'Num7',\n      'Num8',\n      'Num9',\n      'a',\n      'b',\n      'c',\n      'd',\n      'e',\n      'f',\n      'g',\n      'h',\n      'i',\n      'j',\n      'k',\n      'l',\n      'm',\n      'n',\n      'o',\n      'p',\n      'q',\n      'r',\n      's',\n      't',\n      'u',\n      'v',\n      'w',\n      'x',\n      'y',\n      'z',\n      'LBracket',\n      'RBracket',\n      'SemiColon',\n      'Numpad0',\n      'Numpad1',\n      'Numpad2',\n      'Numpad3',\n      'Numpad4',\n      'Numpad5',\n      'Numpad6',\n      'Numpad7',\n      'Numpad8',\n      'Numpad9',\n      'Escape',\n      'Space',\n      'Return',\n      'Back',\n      'Tab',\n      'PageUp',\n      'PageDown',\n      'End',\n      'Home',\n      'Insert',\n      'Delete',\n      'Add',\n      'Subtract',\n      'Multiply',\n      'Divide',\n      'Left',\n      'Right',\n      'Up',\n      'Down',\n      'F1',\n      'F2',\n      'F3',\n      'F4',\n      'F5',\n      'F6',\n      'F7',\n      'F8',\n      'F9',\n      'F10',\n      'F11',\n      'F12',\n      'Pause',\n      'RControl',\n      'LControl',\n      'RAlt',\n      'LAlt',\n      'RShift',\n      'LShift',\n    ];\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <AutoComplete\n        {...defaultAutocompleteProps}\n        floatingLabelText={this._description}\n        searchText={this.state.focused ? this.state.text : this.props.value}\n        onFocus={() => {\n          this.setState({\n            focused: true,\n            text: this.props.value,\n          });\n        }}\n        onUpdateInput={value => {\n          this.setState({\n            focused: true,\n            text: value,\n          });\n        }}\n        onBlur={event => {\n          this.props.onChange(event.target.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n        }}\n        onNewRequest={data => {\n          // Note that data may be a string or a {text, value} object.\n          if (typeof data === 'string') {\n            this.props.onChange(data);\n          } else if (typeof data.value === 'string') {\n            this.props.onChange(data.value);\n          }\n          this.focus(); // Keep the focus after choosing an item\n        }}\n        dataSource={this._keyNames.map(keyName => ({\n          text: keyName,\n          value: keyName,\n        }))}\n        openOnFocus={!this.props.isInline}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Line, Column } from '../../UI/Grid';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\nconst styles = {\n  button: {\n    margin: 5,\n  },\n  description: {\n    display: 'inline-block',\n    marginRight: 5,\n  },\n};\n\nexport default class YesNoField extends Component<ParameterFieldProps, void> {\n  focus() {}\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <Line>\n        <p style={styles.description}>{description}</p>\n        <Column noMargin>\n          <RaisedButton\n            style={styles.button}\n            label={<Trans>Yes</Trans>}\n            primary={this.props.value === 'yes'}\n            onClick={() => this.props.onChange('yes')}\n          />\n        </Column>\n        <Column noMargin>\n          <RaisedButton\n            style={styles.button}\n            label={<Trans>No</Trans>}\n            primary={this.props.value === 'no'}\n            onClick={() => this.props.onChange('no')}\n          />\n        </Column>\n      </Line>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Line, Column } from '../../UI/Grid';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\nconst styles = {\n  button: {\n    margin: 5,\n  },\n  description: {\n    display: 'inline-block',\n    marginRight: 5,\n  },\n};\n\nexport default class TrueFalseField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  focus() {}\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <Line>\n        <p style={styles.description}>{description}</p>\n        <Column noMargin>\n          <RaisedButton\n            style={styles.button}\n            label={<Trans>True</Trans>}\n            primary={this.props.value === 'True'}\n            onClick={() => this.props.onChange('True')}\n          />\n        </Column>\n        <Column noMargin>\n          <RaisedButton\n            style={styles.button}\n            label={<Trans>False</Trans>}\n            primary={this.props.value !== 'True'}\n            onClick={() => this.props.onChange('False')}\n          />\n        </Column>\n      </Line>\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport GenericExpressionField from './GenericExpressionField';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\nexport default class ExpressionField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?GenericExpressionField;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <GenericExpressionField\n        expressionType=\"number\"\n        ref={field => (this._field = field)}\n        {...this.props}\n      />\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport { enumerateExpressions } from './EnumerateExpressions';\nimport InstructionOrExpressionSelector from './index';\nimport { createTree, type InstructionOrExpressionTreeNode } from './CreateTree';\nimport { type InstructionOrExpressionInformation } from './InstructionOrExpressionInformation.flow.js';\n\nexport default class ExpressionSelector extends Component<*, {||}> {\n  instructionsInfo: Array<InstructionOrExpressionInformation> = [];\n  instructionsInfoTree: ?InstructionOrExpressionTreeNode = null;\n\n  static defaultProps = {\n    expressionType: 'number',\n  };\n\n  componentWillMount() {\n    const { allExpressions } = enumerateExpressions(this.props.expressionType);\n    this.instructionsInfo = allExpressions;\n    this.instructionsInfoTree = createTree(allExpressions);\n  }\n\n  render() {\n    return (\n      <InstructionOrExpressionSelector\n        instructionsInfo={this.instructionsInfo}\n        instructionsInfoTree={this.instructionsInfoTree}\n        iconSize={16}\n        {...this.props}\n      />\n    );\n  }\n}\n","// @flow\nimport { type InstructionOrExpressionInformation } from './InstructionOrExpressionInformation.flow.js';\nconst gd = global.gd;\n\nconst GROUP_DELIMITER = '/';\n\nconst enumerateExtensionExpressions = (\n  prefix,\n  expressions,\n  objectMetadata,\n  behaviorMetadata\n): Array<InstructionOrExpressionInformation> => {\n  const allExpressions = [];\n\n  //Get the map containing the metadata of the expression provided by the extension...\n  var expressionsTypes = expressions.keys();\n\n  //... and add each instruction\n  for (var j = 0; j < expressionsTypes.size(); ++j) {\n    var exprMetadata = expressions.get(expressionsTypes.get(j));\n    if (!exprMetadata.isShown()) {\n      //Skip hidden expressions\n      continue;\n    }\n\n    var parameters = [];\n    for (var i = 0; i < exprMetadata.getParametersCount(); i++) {\n      if (objectMetadata && i === 0) continue;\n      if (behaviorMetadata && i <= 1) continue; //Skip object and behavior parameters\n      if (exprMetadata.getParameter(i).isCodeOnly()) continue;\n\n      parameters.push(exprMetadata.getParameter(i));\n    }\n\n    const displayedName = exprMetadata.getFullName();\n    const groupName = exprMetadata.getGroup();\n    const iconFilename = exprMetadata.getSmallIconFilename();\n    const fullGroupName = prefix + groupName;\n\n    allExpressions.push({\n      type: expressionsTypes.get(j),\n      name: expressionsTypes.get(j),\n      displayedName,\n      fullGroupName,\n      iconFilename,\n      metadata: exprMetadata,\n      parameters: parameters,\n      objectMetadata: objectMetadata,\n      behaviorMetadata: behaviorMetadata,\n    });\n  }\n\n  return allExpressions;\n};\n\nexport const enumerateExpressions = (type: string) => {\n  const freeExpressions = [];\n  const objectsExpressions = [];\n  const behaviorsExpressions = [];\n\n  const allExtensions = gd\n    .asPlatform(gd.JsPlatform.get())\n    .getAllPlatformExtensions();\n  for (var i = 0; i < allExtensions.size(); ++i) {\n    var extension = allExtensions.get(i);\n    var allObjectsTypes = extension.getExtensionObjectsTypes();\n    var allBehaviorsTypes = extension.getBehaviorsTypes();\n\n    let prefix = '';\n    if (allObjectsTypes.size() > 0 || allBehaviorsTypes.size() > 0) {\n      prefix =\n        extension.getName() === 'BuiltinObject'\n          ? 'Common expressions for all objects'\n          : extension.getFullName();\n      prefix += GROUP_DELIMITER;\n    }\n\n    //Check which type of expression we want to autocomplete.\n    var allFreeExpressionsGetter = extension.getAllExpressions;\n    var allObjectExpressionsGetter = extension.getAllExpressionsForObject;\n    var allBehaviorExpressionsGetter = extension.getAllExpressionsForBehavior;\n    if (type === 'string') {\n      allFreeExpressionsGetter = extension.getAllStrExpressions;\n      allObjectExpressionsGetter = extension.getAllStrExpressionsForObject;\n      allBehaviorExpressionsGetter = extension.getAllStrExpressionsForBehavior;\n    }\n\n    //Free expressions\n    freeExpressions.push.apply(\n      freeExpressions,\n      enumerateExtensionExpressions(\n        prefix,\n        allFreeExpressionsGetter.call(extension)\n      )\n    );\n\n    //Objects expressions:\n    for (var j = 0; j < allObjectsTypes.size(); ++j) {\n      var objMetadata = extension.getObjectMetadata(allObjectsTypes.get(j));\n      objectsExpressions.push.apply(\n        objectsExpressions,\n        enumerateExtensionExpressions(\n          prefix,\n          allObjectExpressionsGetter.call(extension, allObjectsTypes.get(j)),\n          objMetadata\n        )\n      );\n    }\n\n    //Behaviors expressions:\n    for (var k = 0; k < allBehaviorsTypes.size(); ++k) {\n      var autoMetadata = extension.getBehaviorMetadata(\n        allBehaviorsTypes.get(k)\n      );\n      behaviorsExpressions.push.apply(\n        behaviorsExpressions,\n        enumerateExtensionExpressions(\n          prefix,\n          allBehaviorExpressionsGetter.call(\n            extension,\n            allBehaviorsTypes.get(k)\n          ),\n          undefined,\n          autoMetadata\n        )\n      );\n    }\n  }\n\n  return {\n    allExpressions: [\n      ...freeExpressions,\n      ...objectsExpressions,\n      ...behaviorsExpressions,\n    ],\n    freeExpressions,\n    objectsExpressions,\n    behaviorsExpressions,\n  };\n};\n\nexport const filterExpressions = (\n  list: Array<InstructionOrExpressionInformation>,\n  searchText: string\n): Array<InstructionOrExpressionInformation> => {\n  if (!searchText) return list;\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter(enumeratedExpression => {\n    return (\n      enumeratedExpression.type.toLowerCase().indexOf(lowercaseSearchText) !==\n      -1\n    );\n  });\n};\n","//@flow\nimport { type InstructionOrExpressionInformation } from '../../InstructionEditor/InstructionOrExpressionSelector/InstructionOrExpressionInformation.flow.js';\nimport { type ParameterValues } from './ExpressionParametersEditorDialog';\n\nconst filterOutCodeOnlyParameters = (\n  array: Array<string>,\n  expressionMetadata: Object\n) => {\n  const parametersCount = expressionMetadata.getParametersCount();\n\n  return array.filter((parameter, index) => {\n    return (\n      index < parametersCount &&\n      !expressionMetadata.getParameter(index).isCodeOnly()\n    );\n  });\n};\n\nexport const formatExpressionCall = (\n  expressionInfo: InstructionOrExpressionInformation,\n  parameterValues: ParameterValues\n): string => {\n  const functionName = expressionInfo.name || '';\n\n  if (expressionInfo.objectMetadata) {\n    const [objectName, ...otherParameters] = parameterValues;\n\n    const functionArgs = filterOutCodeOnlyParameters(\n      otherParameters,\n      expressionInfo.metadata\n    ).join(', ');\n    return `${objectName}.${functionName}(${functionArgs})`;\n  } else if (expressionInfo.behaviorMetadata) {\n    const [objectName, behaviorName, ...otherParameters] = parameterValues;\n\n    const functionArgs = filterOutCodeOnlyParameters(\n      otherParameters,\n      expressionInfo.metadata\n    ).join(', ');\n    return `${objectName}.${behaviorName}::${functionName}(${functionArgs})`;\n  } else {\n    const functionArgs = filterOutCodeOnlyParameters(\n      parameterValues,\n      expressionInfo.metadata\n    ).join(', ');\n    return `${functionName}(${functionArgs})`;\n  }\n};\n","// @flow\nimport * as React from 'react';\n\nexport type Highlight = {|\n  begin: number,\n  end: number,\n  type?: 'error',\n  message: string,\n|};\n\ntype Props = {|\n  value: string,\n  style: Object,\n  highlights: Array<Highlight>,\n|};\n\nconst defaultStyle = {\n  width: '100%',\n  position: 'absolute',\n  whiteSpace: 'pre-wrap',\n  wordWrap: 'break-word',\n  color: 'transparent',\n};\n\nconst highlightedText = {\n  backgroundColor: 'rgba(244, 67, 54, 0.15)',\n  borderSizing: 'border-box',\n  borderBottom: '3px solid rgba(244, 67, 54, 0.7)',\n};\n\nexport default ({ value, style, highlights }: Props) => {\n  const sortedHighlights = highlights\n    .slice()\n    .sort((highlight1, highlight2) => highlight1.begin - highlight2.begin);\n\n  const elements = [];\n  let lastPos = 0;\n\n  sortedHighlights.forEach((highlight, i) => {\n    const startPos = Math.max(highlight.begin, lastPos);\n    if (startPos !== lastPos) {\n      elements.push(\n        <span key={`defaultText-${i}`}>\n          {value.substring(lastPos, startPos)}\n        </span>\n      );\n    }\n\n    if (lastPos < highlight.end) {\n      elements.push(\n        <span key={`highlightedText-${i}`} style={highlightedText}>\n          {value.substring(startPos, highlight.end)}\n        </span>\n      );\n      lastPos = highlight.end;\n    }\n  });\n  if (lastPos < value.length) {\n    elements.push(\n      <span key={`defaultText-end`}>{value.substring(lastPos)}</span>\n    );\n  }\n\n  return <div style={{ ...defaultStyle, ...style }}>{elements}</div>;\n};\n","// @flow\nimport React, { Component } from 'react';\nimport GenericExpressionField from './GenericExpressionField';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\nexport default class StringField extends Component<ParameterFieldProps, void> {\n  _field: ?GenericExpressionField;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <GenericExpressionField\n        expressionType=\"string\"\n        ref={field => (this._field = field)}\n        {...this.props}\n      />\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nimport { defaultAutocompleteProps } from '../../UI/AutocompleteProps';\n\ntype State = {|\n  focused: boolean,\n  text: ?string,\n|};\n\nexport default class StringWithSelectorField extends Component<\n  ParameterFieldProps,\n  State\n> {\n  state = { focused: false, text: null };\n\n  _description: ?string;\n  _field: ?any;\n  _choices: Array<string> = [];\n\n  constructor(props: ParameterFieldProps) {\n    super(props);\n\n    const { parameterMetadata } = this.props;\n    this._choices = [];\n\n    if (!parameterMetadata) {\n      return;\n    }\n\n    try {\n      this._description = parameterMetadata.getDescription();\n      this._choices = JSON.parse(parameterMetadata.getExtraInfo());\n    } catch (exception) {\n      console.error(\n        'The parameter seems misconfigured, as an array of choices could not be extracted - verify that your properly wrote a list of choices in JSON format. Full exception is:',\n        exception\n      );\n    }\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <AutoComplete\n        {...defaultAutocompleteProps}\n        floatingLabelText={this._description}\n        searchText={this.state.focused ? this.state.text : this.props.value}\n        onFocus={() => {\n          this.setState({\n            focused: true,\n            text: this.props.value,\n          });\n        }}\n        onUpdateInput={value => {\n          this.setState({\n            focused: true,\n            text: value,\n          });\n        }}\n        onBlur={event => {\n          this.props.onChange(event.target.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n        }}\n        onNewRequest={data => {\n          // Note that data may be a string or a {text, value} object.\n          if (typeof data === 'string') {\n            this.props.onChange(data);\n          } else if (typeof data.value === 'string') {\n            this.props.onChange(data.value);\n          }\n          this.focus(); // Keep the focus after choosing an item\n        }}\n        dataSource={this._choices.map(choice => ({\n          text: choice,\n          value: '\"' + choice + '\"',\n        }))}\n        openOnFocus={!this.props.isInline}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport { defaultAutocompleteProps } from '../../UI/AutocompleteProps';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nimport { getLastObjectParameterValue } from './ParameterMetadataTools';\nconst gd = global.gd;\n\ntype State = {|\n  errorText: ?string,\n  focused: boolean,\n  text: ?string,\n|};\n\nexport default class BehaviorField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  state = { errorText: null, focused: false, text: null };\n  _description: ?string;\n  _behaviorTypeAllowed: ?string;\n  _behaviorNames: Array<string> = [];\n  _field: ?AutoComplete;\n\n  constructor(props: ParameterFieldProps) {\n    super(props);\n\n    const { parameterMetadata } = this.props;\n    this._description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    this._behaviorTypeAllowed = parameterMetadata\n      ? parameterMetadata.getExtraInfo()\n      : undefined;\n  }\n\n  _updateBehaviorsList() {\n    const {\n      instructionMetadata,\n      instruction,\n      expressionMetadata,\n      expression,\n      parameterIndex,\n    } = this.props;\n\n    const objectName = getLastObjectParameterValue({\n      instructionMetadata,\n      instruction,\n      expressionMetadata,\n      expression,\n      parameterIndex,\n    });\n    if (!objectName) return;\n\n    this._behaviorNames = gd\n      .getBehaviorsOfObject(\n        this.props.globalObjectsContainer,\n        this.props.objectsContainer,\n        objectName,\n        true\n      )\n      .toJSArray()\n      .filter(behaviorName => {\n        return (\n          !this._behaviorTypeAllowed ||\n          gd.getTypeOfBehavior(\n            this.props.globalObjectsContainer,\n            this.props.objectsContainer,\n            behaviorName\n          ) === this._behaviorTypeAllowed\n        );\n      });\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  _getError = (value?: string) => {\n    if (!value && !this.props.value) return null;\n\n    const isValidChoice =\n      this._behaviorNames.filter(choice => this.props.value === choice)\n        .length !== 0;\n\n    if (!isValidChoice) return 'This behavior is not attached to the object';\n\n    return null;\n  };\n\n  _doValidation = (value?: string) => {\n    this.setState({ errorText: this._getError(value) });\n  };\n\n  componentDidUpdate() {\n    // This is a bit hacky:\n    // force the behavior selection if there is only one selectable behavior\n    if (this._behaviorNames.length === 1) {\n      if (this.props.value !== this._behaviorNames[0]) {\n        this.props.onChange(this._behaviorNames[0]);\n      }\n    }\n  }\n\n  render() {\n    this._updateBehaviorsList();\n\n    const noBehaviorErrorText =\n      this._behaviorTypeAllowed !== ''\n        ? 'The behavior is not attached to this object. Please select another object or add the behavior'\n        : 'This object has no behaviors: please add a behavior to the object first';\n\n    return (\n      <AutoComplete\n        {...defaultAutocompleteProps}\n        floatingLabelText={this._description}\n        errorText={\n          !this._behaviorNames.length\n            ? noBehaviorErrorText\n            : this.state.errorText\n        }\n        searchText={this.state.focused ? this.state.text : this.props.value}\n        onFocus={() => {\n          this.setState({\n            focused: true,\n            text: this.props.value,\n          });\n        }}\n        onUpdateInput={value => {\n          this.setState({\n            focused: true,\n            text: value,\n          });\n        }}\n        onBlur={event => {\n          this.props.onChange(event.target.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n          this._doValidation(event.target.value);\n        }}\n        onNewRequest={data => {\n          // Note that data may be a string or a {text, value} object.\n          if (typeof data === 'string') {\n            this.props.onChange(data);\n          } else if (typeof data.value === 'string') {\n            this.props.onChange(data.value);\n          }\n          this.focus(); // Keep the focus after choosing an item\n        }}\n        dataSource={this._behaviorNames.map(behaviorName => ({\n          text: behaviorName,\n          value: behaviorName,\n        }))}\n        openOnFocus={!this.props.isInline}\n        disabled={this._behaviorNames.length <= 1}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport VariableField, { renderVariableWithIcon } from './VariableField';\nimport VariablesEditorDialog from '../../VariablesList/VariablesEditorDialog';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\ntype State = {|\n  editorOpen: boolean,\n|};\n\nexport default class SceneVariableField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  _field: ?VariableField;\n  state = {\n    editorOpen: false,\n  };\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { layout } = this.props;\n\n    return (\n      <React.Fragment>\n        <VariableField\n          variablesContainer={layout ? layout.getVariables() : null}\n          parameterMetadata={this.props.parameterMetadata}\n          value={this.props.value}\n          onChange={this.props.onChange}\n          isInline={this.props.isInline}\n          ref={field => (this._field = field)}\n          onOpenDialog={() => this.setState({ editorOpen: true })}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n        />\n        {this.state.editorOpen && layout && (\n          <VariablesEditorDialog\n            open={this.state.editorOpen}\n            variablesContainer={layout.getVariables()}\n            onCancel={() => this.setState({ editorOpen: false })}\n            onApply={() => {\n              this.setState({ editorOpen: false });\n              if (this._field) this._field.forceUpdateVariables();\n            }}\n            emptyExplanationMessage=\"Scene variables can be used to store any value or text during the game.\"\n            emptyExplanationSecondMessage=\"For example, you can have a variable called Score representing the current score of the player.\"\n          />\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport const renderSceneVariable = (value: string) => {\n  return renderVariableWithIcon(\n    value,\n    'res/types/scenevar.png',\n    'scene variable'\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport VariableField, { renderVariableWithIcon } from './VariableField';\nimport VariablesEditorDialog from '../../VariablesList/VariablesEditorDialog';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\ntype State = {|\n  editorOpen: boolean,\n|};\n\nexport default class GlobalVariableField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  _field: ?VariableField;\n  state = {\n    editorOpen: false,\n  };\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { project } = this.props;\n\n    return (\n      <div>\n        <VariableField\n          variablesContainer={project ? project.getVariables() : null}\n          parameterMetadata={this.props.parameterMetadata}\n          value={this.props.value}\n          onChange={this.props.onChange}\n          isInline={this.props.isInline}\n          ref={field => (this._field = field)}\n          onOpenDialog={() => this.setState({ editorOpen: true })}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n        />\n        {this.state.editorOpen && project && (\n          <VariablesEditorDialog\n            open={this.state.editorOpen}\n            variablesContainer={project.getVariables()}\n            onCancel={() => this.setState({ editorOpen: false })}\n            onApply={() => {\n              this.setState({ editorOpen: false });\n              if (this._field) this._field.forceUpdateVariables();\n            }}\n            emptyExplanationMessage=\"Global variables are variables that are persisted across the scenes during the game.\"\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport const renderGlobalVariable = (value: string) => {\n  return renderVariableWithIcon(\n    value,\n    'res/types/globalvar.png',\n    'global variable'\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport VariableField, { renderVariableWithIcon } from './VariableField';\nimport VariablesEditorDialog from '../../VariablesList/VariablesEditorDialog';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nimport { getLastObjectParameterValue } from './ParameterMetadataTools';\n\ntype State = {|\n  editorOpen: boolean,\n|};\n\nexport default class ObjectVariableField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  _field: ?VariableField;\n  state = {\n    editorOpen: false,\n  };\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const {\n      project,\n      layout,\n      instructionMetadata,\n      instruction,\n      expressionMetadata,\n      expression,\n      parameterIndex,\n    } = this.props;\n\n    const objectName = getLastObjectParameterValue({\n      instructionMetadata,\n      instruction,\n      expressionMetadata,\n      expression,\n      parameterIndex,\n    });\n\n    let variablesContainer = null;\n    if (objectName) {\n      if (layout && layout.hasObjectNamed(objectName)) {\n        variablesContainer = layout.getObject(objectName).getVariables();\n      } else if (project && project.hasObjectNamed(objectName)) {\n        variablesContainer = project.getObject(objectName).getVariables();\n      }\n    }\n\n    return (\n      <div>\n        <VariableField\n          variablesContainer={variablesContainer}\n          parameterMetadata={this.props.parameterMetadata}\n          value={this.props.value}\n          onChange={this.props.onChange}\n          isInline={this.props.isInline}\n          ref={field => (this._field = field)}\n          onOpenDialog={() => this.setState({ editorOpen: true })}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n        />\n        {this.state.editorOpen && variablesContainer && (\n          <VariablesEditorDialog\n            open={this.state.editorOpen}\n            variablesContainer={variablesContainer}\n            onCancel={() => this.setState({ editorOpen: false })}\n            onApply={() => {\n              this.setState({ editorOpen: false });\n              if (this._field) this._field.forceUpdateVariables();\n            }}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport const renderObjectVariable = (value: string) => {\n  return renderVariableWithIcon(\n    value,\n    'res/types/objectvar.png',\n    'object variable'\n  );\n};\n","// @flow\nimport React, { Component } from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport { mapFor } from '../../Utils/MapFor';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nimport { defaultAutocompleteProps } from '../../UI/AutocompleteProps';\n\ntype State = {|\n  focused: boolean,\n  text: ?string,\n|};\n\nexport default class LayerField extends Component<ParameterFieldProps, State> {\n  state = { focused: false, text: null };\n\n  _description: ?string;\n  _field: ?any;\n  _layersNames: Array<string> = [];\n\n  constructor(props: ParameterFieldProps) {\n    super(props);\n\n    const { parameterMetadata } = this.props;\n    this._description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    this._loadNamesFrom(props);\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  componentWillReceiveProps(newProps: ParameterFieldProps) {\n    if (newProps.layout !== this.props.layout) {\n      this._loadNamesFrom(newProps);\n    }\n  }\n\n  _loadNamesFrom(props: ParameterFieldProps) {\n    const layout = props.layout;\n    if (!layout) {\n      this._layersNames = [];\n      return;\n    }\n\n    this._layersNames = mapFor(0, layout.getLayersCount(), i => {\n      const layer = layout.getLayerAt(i);\n      return layer.getName();\n    });\n  }\n\n  render() {\n    return (\n      <AutoComplete\n        {...defaultAutocompleteProps}\n        floatingLabelText={this._description}\n        searchText={this.state.focused ? this.state.text : this.props.value}\n        onFocus={() => {\n          this.setState({\n            focused: true,\n            text: this.props.value,\n          });\n        }}\n        onUpdateInput={value => {\n          this.setState({\n            focused: true,\n            text: value,\n          });\n        }}\n        onBlur={event => {\n          this.props.onChange(event.target.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n        }}\n        onNewRequest={data => {\n          // Note that data may be a string or a {text, value} object.\n          if (typeof data === 'string') {\n            this.props.onChange(data);\n          } else if (typeof data.value === 'string') {\n            this.props.onChange(data.value);\n          }\n          this.focus(); // Keep the focus after choosing an item\n        }}\n        dataSource={this._layersNames.map(layerName => ({\n          text: layerName || '(Base layer)',\n          value: `\"${layerName}\"`,\n        }))}\n        openOnFocus={!this.props.isInline}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport ResourceSelector from '../../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\nexport default class AudioResourceField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?ResourceSelector;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    if (\n      !this.props.resourceSources ||\n      !this.props.onChooseResource ||\n      !this.props.resourceExternalEditors ||\n      !this.props.project\n    ) {\n      console.error(\n        'Missing project, resourceSources, onChooseResource or resourceExternalEditors for AudioResourceField'\n      );\n      return null;\n    }\n\n    return (\n      <ResourceSelector\n        project={this.props.project}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        resourcesLoader={ResourcesLoader}\n        resourceKind=\"audio\"\n        fullWidth\n        initialResourceName={this.props.value}\n        onChange={this.props.onChange}\n        floatingLabelText={<Trans>Choose the audio file to use</Trans>}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport ResourceSelector from '../../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\nexport default class VideoResourceField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?ResourceSelector;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    if (\n      !this.props.resourceSources ||\n      !this.props.onChooseResource ||\n      !this.props.resourceExternalEditors ||\n      !this.props.project\n    ) {\n      console.error(\n        'Missing project, resourceSources, onChooseResource or resourceExternalEditors for VideoResourceField'\n      );\n      return null;\n    }\n\n    return (\n      <ResourceSelector\n        project={this.props.project}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        resourcesLoader={ResourcesLoader}\n        resourceKind=\"video\"\n        fullWidth\n        initialResourceName={this.props.value}\n        onChange={this.props.onChange}\n        floatingLabelText={<Trans>Choose the video file to use</Trans>}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nimport GenericExpressionField from './GenericExpressionField';\nimport ColorPicker from '../../UI/ColorField/ColorPicker';\n\nconst parseColor = (rgbColor: string) => {\n  const colors = rgbColor.replace(/\"/g, '').split(';');\n  if (colors.length !== 3) {\n    return null;\n  }\n\n  const r = parseInt(colors[0], 10);\n  const g = parseInt(colors[1], 10);\n  const b = parseInt(colors[2], 10);\n\n  // Check if parsing of number was done properly (if not,\n  // we receive NaN which is not equal to itself).\n  // eslint-disable-next-line\n  if (r !== r || g !== g || b !== b) return null;\n\n  return {\n    r,\n    g,\n    b,\n    a: 255,\n  };\n};\n\nexport default class ParameterColorField extends Component<ParameterFieldProps> {\n  _field: ?GenericExpressionField;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <GenericExpressionField\n        expressionType=\"string\"\n        ref={field => (this._field = field)}\n        renderExtraButton={({ style }) => (\n          <ColorPicker\n            style={style}\n            disableAlpha\n            color={parseColor(this.props.value)}\n            onChangeComplete={color => {\n              this.props.onChange(\n                '\"' + color.rgb.r + ';' + color.rgb.g + ';' + color.rgb.b + '\"'\n              );\n            }}\n          />\n        )}\n        {...this.props}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Line, Column } from '../../UI/Grid';\nimport { makeNonBreakable } from '../../Utils/StringHelpers';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nimport GenericExpressionField from './GenericExpressionField';\nimport BackgroundText from '../../UI/BackgroundText';\n\ntype State = {|\n  showDeprecatedNumericValue: boolean,\n|};\n\nexport default class ForceMultiplierField extends Component<\n  ParameterFieldProps,\n  State\n> {\n  state = {\n    showDeprecatedNumericValue:\n      this.props.value !== '' &&\n      this.props.value !== '1' &&\n      this.props.value !== '0',\n  };\n\n  focus() {}\n\n  render() {\n    const { showDeprecatedNumericValue } = this.state;\n    return (\n      <Column expand noMargin>\n        <Line expand alignItems=\"center\">\n          <Column>\n            <RaisedButton\n              label={makeNonBreakable('Instant')}\n              primary={this.props.value === '' || this.props.value === '0'}\n              onClick={() => this.props.onChange('0')}\n            />\n          </Column>\n          <Column>\n            <p>\n              <Trans>\n                The force will only push the object during the time of one\n                frame. Typically used in an event with no conditions or with\n                conditions that stay valid for a certain amount of time.\n              </Trans>\n            </p>\n          </Column>\n        </Line>\n        <Line expand alignItems=\"center\">\n          <Column>\n            <RaisedButton\n              label={<Trans>Permanent</Trans>}\n              primary={this.props.value === '1'}\n              onClick={() => this.props.onChange('1')}\n            />\n          </Column>\n          <Column>\n            <p>\n              <Trans>\n                The force will push the object forever, unless you use the\n                action \"Stop the object\". Typically used in an event with\n                conditions that are only true once, or with a \"Trigger Once\"\n                condition.\n              </Trans>\n            </p>\n          </Column>\n        </Line>\n        {showDeprecatedNumericValue && (\n          <React.Fragment>\n            <BackgroundText>\n              <Trans>or</Trans>\n            </BackgroundText>\n            <Line expand>\n              <Column expand>\n                <GenericExpressionField\n                  expressionType=\"number\"\n                  {...this.props}\n                />\n              </Column>\n            </Line>\n            <BackgroundText>\n              <Trans>\n                The usage of a number or expression is deprecated. Please now\n                use only \"Permanent\" or \"Instant\" for configuring forces.\n              </Trans>\n            </BackgroundText>\n          </React.Fragment>\n        )}\n      </Column>\n    );\n  }\n}\n\nexport const renderForceMultiplierString = (value: string) => {\n  if (value === '1') return 'a permanent';\n  else if (value === '0' || value === '') return 'an instant';\n\n  return 'a (multiplier: ' + value + ')';\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport TextField from 'material-ui/TextField';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n  disabledText,\n} from '../ClassNames';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    height: 40,\n    display: 'flex',\n    alignItems: 'center',\n    padding: 5,\n    overflow: 'hidden',\n  },\n  title: {\n    fontSize: 18,\n  },\n};\n\nexport default class GroupEvent extends React.Component<EventRendererProps, *> {\n  state = {\n    editing: false,\n  };\n  _textField: ?TextField = null;\n\n  edit = () => {\n    this.setState(\n      {\n        editing: true,\n      },\n      () => {\n        if (this._textField) this._textField.focus();\n      }\n    );\n  };\n\n  endEditing = () => {\n    this.setState({\n      editing: false,\n    });\n  };\n\n  render() {\n    var groupEvent = gd.asGroupEvent(this.props.event);\n\n    const r = groupEvent.getBackgroundColorR(),\n      g = groupEvent.getBackgroundColorG(),\n      b = groupEvent.getBackgroundColorB();\n\n    const textColor = (r + g + b) / 3 > 200 ? 'black' : 'white';\n\n    return (\n      <div\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n        })}\n        style={{\n          ...styles.container,\n          backgroundColor: `rgb(${r}, ${g}, ${b})`,\n        }}\n        onClick={this.edit}\n      >\n        {this.state.editing ? (\n          <TextField\n            ref={textField => (this._textField = textField)}\n            value={groupEvent.getName()}\n            hintText={<Trans>&lt;Enter group name&gt;</Trans>}\n            onBlur={this.endEditing}\n            onChange={(e, text) => {\n              groupEvent.setName(text);\n              this.forceUpdate();\n            }}\n            style={styles.title}\n            inputStyle={{\n              color: textColor,\n              WebkitTextFillColor: textColor,\n            }}\n            underlineFocusStyle={{\n              borderColor: textColor,\n            }}\n            fullWidth\n            id=\"group-title\"\n          />\n        ) : (\n          <span\n            className={classNames({\n              [selectableArea]: true,\n              [disabledText]: this.props.disabled,\n            })}\n            style={{ ...styles.title, color: textColor }}\n          >\n            {groupEvent.getName() || '<Enter group name>'}\n          </span>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\nimport { type EventRendererProps } from './EventRenderer.flow';\nimport { rgbToHex } from '../../../Utils/ColorTransformer';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n} from '../ClassNames';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    minHeight: 30,\n    display: 'flex',\n    backgroundColor: '#fbf3d9',\n  },\n  text: {\n    flex: 1,\n    whiteSpace: 'pre-line',\n    margin: 0,\n    padding: 5,\n  },\n  textArea: {\n    padding: 5,\n    flex: 1,\n    boxSizing: 'border-box',\n    width: '100%',\n    fontSize: 14,\n  },\n};\n\ntype State = {|\n  editing: boolean,\n  height: number,\n|};\n\nexport default class CommentEvent extends React.Component<\n  EventRendererProps,\n  State\n> {\n  state = {\n    editing: false,\n    height: 0,\n  };\n\n  _container: ?any;\n  _input: ?any;\n\n  edit = () => {\n    if (!this._container) return;\n\n    this.setState(\n      {\n        editing: true,\n        height: this._container.offsetHeight,\n      },\n      () => {\n        // $FlowFixMe\n        const input: ?HTMLInputElement = ReactDOM.findDOMNode(this._input);\n        if (input) {\n          input.focus();\n          input.value = gd.asCommentEvent(this.props.event).getComment();\n        }\n      }\n    );\n  };\n\n  endEditing = () => {\n    const commentEvent = gd.asCommentEvent(this.props.event);\n\n    // $FlowFixMe\n    const input: ?HTMLInputElement = ReactDOM.findDOMNode(this._input);\n    if (input) commentEvent.setComment(input.value);\n\n    this.setState(\n      {\n        editing: false,\n      },\n      () => this.props.onUpdate()\n    );\n  };\n\n  _getCommentHTML = () => {\n    const commentEvent = gd.asCommentEvent(this.props.event);\n    return commentEvent\n      .getComment()\n      .replace(/&/g, '&amp;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;')\n      .replace(/\\n/g, '<br>');\n  };\n\n  render() {\n    const commentEvent = gd.asCommentEvent(this.props.event);\n    const color = rgbToHex(\n      commentEvent.getBackgroundColorRed(),\n      commentEvent.getBackgroundColorGreen(),\n      commentEvent.getBackgroundColorBlue()\n    );\n    const textColor = rgbToHex(\n      commentEvent.getTextColorRed(),\n      commentEvent.getTextColorGreen(),\n      commentEvent.getTextColorBlue()\n    );\n\n    return (\n      <div\n        style={{ ...styles.container, backgroundColor: `#${color}` }}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n        })}\n        ref={container => (this._container = container)}\n      >\n        {!this.state.editing ? (\n          <p\n            className={classNames({\n              [selectableArea]: true,\n            })}\n            onClick={this.edit}\n            key=\"p\"\n            style={{ ...styles.text, color: `#${textColor}` }}\n            dangerouslySetInnerHTML={{\n              __html: this._getCommentHTML(),\n            }}\n          />\n        ) : (\n          <textarea\n            key=\"textarea\"\n            type=\"text\"\n            style={{ ...styles.textArea, height: this.state.height }}\n            onBlur={this.endEditing}\n            ref={input => (this._input = input)}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport InstructionsList from '../InstructionsList.js';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n  executableEventContainer,\n  disabledText,\n} from '../ClassNames';\nimport InlinePopover from '../../InlinePopover';\nimport ObjectField from '../../ParameterFields/ObjectField';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  instructionsContainer: {\n    display: 'flex',\n  },\n  actionsList: {\n    flex: 1,\n  },\n};\n\nexport default class ForEachEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  state = {\n    editing: false,\n    anchorEl: null,\n  };\n\n  edit = (domEvent: any) => {\n    this.setState({\n      editing: true,\n      anchorEl: domEvent.currentTarget,\n    });\n  };\n\n  endEditing = () => {\n    this.setState({\n      editing: false,\n      anchorEl: null,\n    });\n  };\n\n  render() {\n    var forEachEvent = gd.asForEachEvent(this.props.event);\n\n    const conditionsListSyle = {\n      width: `calc(35vw - ${this.props.leftIndentWidth}px)`,\n    };\n\n    const objectName = forEachEvent.getObjectToPick();\n    return (\n      <div\n        style={styles.container}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n          [executableEventContainer]: true,\n        })}\n      >\n        <div\n          className={classNames({\n            [selectableArea]: true,\n            [disabledText]: this.props.disabled,\n          })}\n          onClick={this.edit}\n        >\n          {objectName ? (\n            `Repeat for each ${objectName} object:`\n          ) : (\n            <i>Click to choose for which objects this event will be repeated</i>\n          )}\n        </div>\n        <div style={styles.instructionsContainer}>\n          <InstructionsList\n            instrsList={forEachEvent.getConditions()}\n            style={conditionsListSyle}\n            selection={this.props.selection}\n            areConditions\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n          <InstructionsList\n            instrsList={forEachEvent.getActions()}\n            style={styles.actionsList}\n            selection={this.props.selection}\n            areConditions={false}\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n        </div>\n        <InlinePopover\n          open={this.state.editing}\n          anchorEl={this.state.anchorEl}\n          onRequestClose={this.endEditing}\n        >\n          <ObjectField\n            project={this.props.project}\n            layout={this.props.layout}\n            globalObjectsContainer={this.props.globalObjectsContainer}\n            objectsContainer={this.props.objectsContainer}\n            value={objectName}\n            onChange={text => {\n              forEachEvent.setObjectToPick(text);\n              this.props.onUpdate();\n            }}\n            isInline\n          />\n        </InlinePopover>\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport InstructionsList from '../InstructionsList.js';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n  executableEventContainer,\n  disabledText,\n} from '../ClassNames';\nimport InlinePopover from '../../InlinePopover';\nimport DefaultField from '../../ParameterFields/DefaultField';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  instructionsContainer: {\n    display: 'flex',\n  },\n  actionsList: {\n    flex: 1,\n  },\n};\n\nexport default class RepeatEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  state = {\n    editing: false,\n    anchorEl: null,\n  };\n\n  edit = (domEvent: any) => {\n    this.setState({\n      editing: true,\n      anchorEl: domEvent.currentTarget,\n    });\n  };\n\n  endEditing = () => {\n    this.setState({\n      editing: false,\n      anchorEl: null,\n    });\n  };\n\n  render() {\n    var repeatEvent = gd.asRepeatEvent(this.props.event);\n\n    const conditionsListSyle = {\n      width: `calc(35vw - ${this.props.leftIndentWidth}px)`,\n    };\n\n    const expression = repeatEvent.getRepeatExpression();\n    return (\n      <div\n        style={styles.container}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n          [executableEventContainer]: true,\n        })}\n      >\n        <div\n          className={classNames({\n            [selectableArea]: true,\n            [disabledText]: this.props.disabled,\n          })}\n          onClick={this.edit}\n        >\n          {expression ? (\n            `Repeat ${expression} times:`\n          ) : (\n            <i>Click to choose how many times will be repeated</i>\n          )}\n        </div>\n        <div style={styles.instructionsContainer}>\n          <InstructionsList\n            instrsList={repeatEvent.getConditions()}\n            style={conditionsListSyle}\n            selection={this.props.selection}\n            areConditions\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n          <InstructionsList\n            instrsList={repeatEvent.getActions()}\n            style={styles.actionsList}\n            selection={this.props.selection}\n            areConditions={false}\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n        </div>\n        <InlinePopover\n          open={this.state.editing}\n          anchorEl={this.state.anchorEl}\n          onRequestClose={this.endEditing}\n        >\n          <DefaultField\n            project={this.props.project}\n            globalObjectsContainer={this.props.globalObjectsContainer}\n            objectsContainer={this.props.objectsContainer}\n            layout={this.props.layout}\n            value={expression}\n            onChange={text => {\n              repeatEvent.setRepeatExpression(text);\n              this.props.onUpdate();\n            }}\n            isInline\n          />\n        </InlinePopover>\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport InstructionsList from '../InstructionsList';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  executableEventContainer,\n  disabledText,\n} from '../ClassNames';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  instructionsContainer: {\n    display: 'flex',\n  },\n  actionsList: {\n    flex: 1,\n  },\n};\n\nexport default class ForEachEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  render() {\n    var whileEvent = gd.asWhileEvent(this.props.event);\n\n    const conditionsListSyle = {\n      width: `calc(35vw - ${this.props.leftIndentWidth}px)`,\n    };\n\n    return (\n      <div\n        style={styles.container}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n          [executableEventContainer]: true,\n        })}\n      >\n        <div\n          className={classNames({\n            [disabledText]: this.props.disabled,\n          })}\n        >\n          While these conditions are true:\n        </div>\n        <InstructionsList\n          instrsList={whileEvent.getWhileConditions()}\n          selection={this.props.selection}\n          areConditions\n          onAddNewInstruction={this.props.onAddNewInstruction}\n          onMoveToInstruction={this.props.onMoveToInstruction}\n          onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n          onInstructionClick={this.props.onInstructionClick}\n          onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n          onInstructionContextMenu={this.props.onInstructionContextMenu}\n          onInstructionsListContextMenu={\n            this.props.onInstructionsListContextMenu\n          }\n          onParameterClick={this.props.onParameterClick}\n          disabled={this.props.disabled}\n          renderObjectThumbnail={this.props.renderObjectThumbnail}\n        />\n        <div\n          className={classNames({\n            [disabledText]: this.props.disabled,\n          })}\n        >\n          Repeat these:\n        </div>\n        <div style={styles.instructionsContainer}>\n          <InstructionsList\n            instrsList={whileEvent.getConditions()}\n            style={conditionsListSyle}\n            selection={this.props.selection}\n            areConditions\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n          <InstructionsList\n            instrsList={whileEvent.getActions()}\n            style={styles.actionsList}\n            selection={this.props.selection}\n            areConditions={false}\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\nimport IconButton from 'material-ui/IconButton';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n  linkContainer,\n  disabledText,\n} from '../ClassNames';\nimport InlinePopover from '../../InlinePopover';\nimport ExternalEventsField from '../../ParameterFields/ExternalEventsField';\nimport { showWarningBox } from '../../../UI/Messages/MessageBox';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    height: 60,\n    display: 'flex',\n    alignItems: 'center',\n    padding: 5,\n  },\n  title: {\n    fontSize: 18,\n  },\n};\n\nexport default class LinkEvent extends React.Component<EventRendererProps, *> {\n  _externalEventsField = null;\n\n  state = {\n    editing: false,\n    anchorEl: null,\n  };\n\n  edit = (domEvent: any) => {\n    this.setState(\n      {\n        editing: true,\n        anchorEl: domEvent.currentTarget,\n      },\n      () => {\n        if (this._externalEventsField) this._externalEventsField.focus();\n      }\n    );\n  };\n\n  openTarget = (i18n: I18nType) => {\n    const { project, event, onOpenLayout, onOpenExternalEvents } = this.props;\n    const linkEvent = gd.asLinkEvent(event);\n    const target = linkEvent.getTarget();\n\n    if (project.hasExternalEventsNamed(target)) {\n      onOpenExternalEvents(target);\n    } else if (project.hasLayoutNamed(target)) {\n      onOpenLayout(target);\n    } else {\n      showWarningBox(\n        i18n._(\n          t`The specified external events do not exist in the game. Be sure that the name is correctly spelled or create them using the project manager.`\n        )\n      );\n    }\n  };\n\n  endEditing = () => {\n    this.setState({\n      editing: false,\n      anchorEl: null,\n    });\n  };\n\n  render() {\n    const linkEvent = gd.asLinkEvent(this.props.event);\n    const target = linkEvent.getTarget();\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <div\n            className={classNames({\n              [largeSelectableArea]: true,\n              [largeSelectedArea]: this.props.selected,\n              [linkContainer]: true,\n            })}\n            style={styles.container}\n          >\n            <span\n              style={styles.title}\n              className={classNames({\n                [disabledText]: this.props.disabled,\n              })}\n            >\n              <Trans>Include events from</Trans>{' '}\n              <i\n                className={classNames({\n                  [selectableArea]: true,\n                })}\n                onClick={this.edit}\n              >\n                {target || (\n                  <Trans>&lt; Enter the name of external events &gt;</Trans>\n                )}\n              </i>\n            </span>\n            <IconButton\n              onClick={() => this.openTarget(i18n)}\n              disabled={!target}\n            >\n              <OpenInNew />\n            </IconButton>\n            <InlinePopover\n              open={this.state.editing}\n              anchorEl={this.state.anchorEl}\n              onRequestClose={this.endEditing}\n            >\n              <ExternalEventsField\n                project={this.props.project}\n                globalObjectsContainer={this.props.globalObjectsContainer}\n                objectsContainer={this.props.objectsContainer}\n                value={target}\n                onChange={text => {\n                  linkEvent.setTarget(text);\n                  this.props.onUpdate();\n                }}\n                isInline\n                ref={externalEventsField =>\n                  (this._externalEventsField = externalEventsField)\n                }\n              />\n            </InlinePopover>\n          </div>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport Divider from 'material-ui/Divider';\nimport {\n  enumerateLayouts,\n  enumerateExternalEvents,\n} from '../../ProjectManager/EnumerateProjectItems';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nimport { defaultAutocompleteProps } from '../../UI/AutocompleteProps';\n\ntype State = {|\n  focused: boolean,\n  text: ?string,\n|};\n\nexport default class ExternalEventsField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  state = { focused: false, text: null };\n\n  _description: ?string = undefined;\n  _fullList: Array<{ text: string, value: React.Node }> = [];\n  _field: ?any;\n\n  constructor(props: ParameterFieldProps) {\n    super(props);\n\n    const { parameterMetadata } = this.props;\n    this._description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    this._loadNamesFrom(props);\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  componentWillReceiveProps(newProps: ParameterFieldProps) {\n    if (newProps.project !== this.props.project) {\n      this._loadNamesFrom(newProps);\n    }\n  }\n\n  _loadNamesFrom(props: ParameterFieldProps) {\n    const { project } = props;\n    if (!project) {\n      return;\n    }\n\n    const externalEvents = enumerateExternalEvents(project).map(\n      externalEvents => ({\n        text: externalEvents.getName(),\n        value: externalEvents.getName(),\n      })\n    );\n    const layouts = enumerateLayouts(project).map(layout => ({\n      text: layout.getName(),\n      value: layout.getName(),\n    }));\n    this._fullList = [\n      ...externalEvents,\n      { text: '', value: <Divider /> },\n      ...layouts,\n    ];\n  }\n\n  render() {\n    return (\n      <AutoComplete\n        {...defaultAutocompleteProps}\n        floatingLabelText={this._description}\n        id=\"external-events-field\"\n        searchText={this.state.focused ? this.state.text : this.props.value}\n        onFocus={() => {\n          this.setState({\n            focused: true,\n            text: this.props.value,\n          });\n        }}\n        onUpdateInput={value => {\n          this.setState({\n            focused: true,\n            text: value,\n          });\n        }}\n        onBlur={event => {\n          this.props.onChange(event.target.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n        }}\n        onNewRequest={data => {\n          // Note that data may be a string or a {text, value} object.\n          if (typeof data === 'string') {\n            this.props.onChange(data);\n          } else if (typeof data.value === 'string') {\n            this.props.onChange(data.value);\n          }\n          this.focus(); // Keep the focus after choosing an item\n        }}\n        dataSource={this._fullList}\n        openOnFocus={!this.props.isInline}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\nimport InlinePopover from '../../InlinePopover';\nimport ObjectField from '../../ParameterFields/ObjectField';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n} from '../ClassNames';\nimport { getHelpLink } from '../../../Utils/HelpLink';\nimport { type EventRendererProps } from './EventRenderer.flow';\nimport Measure from 'react-measure';\nimport { CodeEditor } from '../../../CodeEditor';\nconst gd = global.gd;\n\nconst fontFamily = '\"Lucida Console\", Monaco, monospace';\n\nconst styles = {\n  container: {\n    minHeight: 30,\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: '#1e1e1e',\n  },\n  wrappingText: {\n    fontFamily,\n    fontSize: '12px',\n    paddingLeft: 5,\n    paddingRight: 5,\n    margin: 0,\n    backgroundColor: '#1e1e1e',\n    color: '#d4d4d4',\n    overflowX: 'hidden',\n    maxWidth: '100%',\n  },\n  comment: {\n    color: '#777',\n  },\n  commentLink: {\n    cursor: 'pointer',\n    color: '#777',\n    textDecoration: 'underline',\n  },\n};\n\nexport default class JsCodeEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  state = {\n    width: 0,\n    editing: false,\n    editingObject: false,\n    anchorEl: null,\n  };\n\n  _input: ?any;\n  _container: ?any;\n\n  edit = () => {\n    if (!this._container) return;\n\n    this.setState(\n      {\n        editing: true,\n        height: this._container.offsetHeight,\n      },\n      () => {\n        // $FlowFixMe\n        const input: ?HTMLInputElement = ReactDOM.findDOMNode(this._input);\n        if (input) {\n          input.focus();\n          input.value = gd.asJsCodeEvent(this.props.event).getInlineCode();\n        }\n      }\n    );\n  };\n\n  endEditing = () => {\n    const jsCodeEvent = gd.asJsCodeEvent(this.props.event);\n\n    // $FlowFixMe\n    const input: ?HTMLInputElement = ReactDOM.findDOMNode(this._input);\n    if (input) jsCodeEvent.setInlineCode(input.value);\n\n    this.setState(\n      {\n        editing: false,\n      },\n      () => this.props.onUpdate()\n    );\n  };\n\n  onChange = (newValue: string) => {\n    const jsCodeEvent = gd.asJsCodeEvent(this.props.event);\n    jsCodeEvent.setInlineCode(newValue);\n  };\n\n  editObject = (domEvent: any) => {\n    this.setState({\n      editingObject: true,\n      anchorEl: domEvent.currentTarget,\n    });\n  };\n\n  endObjectEditing = () => {\n    this.setState({\n      editingObject: false,\n      anchorEl: null,\n    });\n  };\n\n  render() {\n    const jsCodeEvent = gd.asJsCodeEvent(this.props.event);\n    const parameterObjects = jsCodeEvent.getParameterObjects();\n    const objects = (\n      <span\n        className={classNames({\n          [selectableArea]: true,\n        })}\n        onClick={this.editObject}\n      >\n        {parameterObjects\n          ? `, objects /*${parameterObjects}*/`\n          : ' /* Click here to choose objects to pass to JavaScript */'}\n      </span>\n    );\n    const functionStart = (\n      <p style={styles.wrappingText}>\n        <span>{'(function(runtimeScene'}</span>\n        {objects}\n        <span>{') {'}</span>\n      </p>\n    );\n    const functionEnd = (\n      <p style={styles.wrappingText}>\n        <span>{'})(runtimeScene'}</span>\n        {objects}\n        <span>{');'}</span>\n        <span style={styles.comment}>\n          {' // '}\n          <a\n            href={getHelpLink('/events/js-code')}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            style={styles.commentLink}\n          >\n            Read the documentation and help\n          </a>\n        </span>\n      </p>\n    );\n\n    return (\n      <Measure onMeasure={({ width }) => this.setState({ width })}>\n        <div\n          style={styles.container}\n          className={classNames({\n            [largeSelectableArea]: true,\n            [largeSelectedArea]: this.props.selected,\n          })}\n          ref={container => (this._container = container)}\n        >\n          {functionStart}\n          <CodeEditor\n            value={jsCodeEvent.getInlineCode()}\n            onChange={this.onChange}\n            width={this.state.width}\n            onEditorMounted={() => this.props.onUpdate()}\n          />\n          {functionEnd}\n          <InlinePopover\n            open={this.state.editingObject}\n            anchorEl={this.state.anchorEl}\n            onRequestClose={this.endObjectEditing}\n          >\n            <ObjectField\n              project={this.props.project}\n              layout={this.props.layout}\n              globalObjectsContainer={this.props.globalObjectsContainer}\n              objectsContainer={this.props.objectsContainer}\n              value={parameterObjects}\n              onChange={text => {\n                jsCodeEvent.setParameterObjects(text);\n                this.props.onUpdate();\n              }}\n              isInline\n            />\n          </InlinePopover>\n        </div>\n      </Measure>\n    );\n  }\n}\n","// @flow\n\ntype WatchedComponent = {\n  +onHeightsChanged: Function => void,\n};\n\n/**\n * Store the height of events and notify a component whenever\n * heights have changed.\n * Needed for EventsTree as we need to tell it when heights have changed\n * so it can recompute the internal row heights of the react-virtualized List.\n */\nexport default class EventHeightsCache {\n  eventHeights = {};\n  updateTimeoutId: ?TimeoutID = null;\n  component: ?WatchedComponent = null;\n\n  constructor(component: WatchedComponent) {\n    this.component = component;\n  }\n\n  _notifyComponent() {\n    if (this.updateTimeoutId) {\n      return; // An update is already scheduled.\n    }\n\n    // Notify the component, on the next tick, that heights have changed\n    this.updateTimeoutId = setTimeout(() => {\n      if (this.component) {\n        this.component.onHeightsChanged(() => (this.updateTimeoutId = null));\n      } else {\n        this.updateTimeoutId = null;\n      }\n    }, 0);\n  }\n\n  setEventHeight(event: gdBaseEvent, height: number) {\n    const cachedHeight = this.eventHeights[event.ptr];\n    if (cachedHeight === undefined || cachedHeight !== height) {\n      // console.log(event.ptr, 'has a new height', height, 'old:', cachedHeight);\n      this._notifyComponent();\n    }\n\n    this.eventHeights[event.ptr] = height;\n  }\n\n  getEventHeight(event: gdBaseEvent): number {\n    return this.eventHeights[event.ptr] || 60;\n  }\n}\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\n\n/**\n * Objects with an unknown type are rendered with a placeholder rectangle.\n *\n * @extends RenderedInstance\n * @class RenderedUnknownInstance\n * @constructor\n */\nfunction RenderedUnknownInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  //This renderer show a placeholder for the object:\n  this._pixiObject = new PIXI.Graphics();\n  this._pixiContainer.addChild(this._pixiObject);\n\n  var width = instance.hasCustomSize() ? instance.getCustomWidth() : 32;\n  var height = instance.hasCustomSize() ? instance.getCustomHeight() : 32;\n\n  this._pixiObject.beginFill(0x0033ff);\n  this._pixiObject.lineStyle(1, 0xffd900, 1);\n  this._pixiObject.moveTo(0, 0);\n  this._pixiObject.lineTo(width, 0);\n  this._pixiObject.lineTo(width, height);\n  this._pixiObject.lineTo(0, height);\n  this._pixiObject.endFill();\n}\nRenderedUnknownInstance.prototype = Object.create(RenderedInstance.prototype);\nRenderedUnknownInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  return 'res/unknown32.png';\n};\n\nRenderedUnknownInstance.prototype.update = function() {\n  this._pixiObject.position.x = this._instance.getX();\n  this._pixiObject.position.y = this._instance.getY();\n  this._pixiObject.rotation = (this._instance.getAngle() * Math.PI) / 180.0;\n};\n\nexport default RenderedUnknownInstance;\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * Renderer for gd.SpriteObject\n *\n * @extends RenderedInstance\n * @class RenderedSpriteInstance\n * @constructor\n */\nfunction RenderedSpriteInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  this._renderedAnimation = 0;\n  this._renderedDirection = 0;\n  this._centerX = 0;\n  this._centerY = 0;\n  this._originX = 0;\n  this._originY = 0;\n\n  //Setup the PIXI object:\n  this._pixiObject = new PIXI.Sprite(\n    this._pixiResourcesLoader.getInvalidPIXITexture()\n  );\n  this._pixiContainer.addChild(this._pixiObject);\n  this.updatePIXITexture();\n  this.updatePIXISprite();\n}\nRenderedSpriteInstance.prototype = Object.create(RenderedInstance.prototype);\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedSpriteInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  const spriteObject = gd.asSpriteObject(object);\n\n  if (\n    spriteObject.getAnimationsCount() > 0 &&\n    spriteObject.getAnimation(0).getDirectionsCount() > 0 &&\n    spriteObject\n      .getAnimation(0)\n      .getDirection(0)\n      .getSpritesCount() > 0\n  ) {\n    const imageName = spriteObject\n      .getAnimation(0)\n      .getDirection(0)\n      .getSprite(0)\n      .getImageName();\n    return resourcesLoader.getResourceFullUrl(project, imageName);\n  }\n\n  return 'res/unknown32.png';\n};\n\nRenderedSpriteInstance.prototype.updatePIXISprite = function() {\n  this._pixiObject.anchor.x =\n    this._centerX / this._pixiObject.texture.frame.width;\n  this._pixiObject.anchor.y =\n    this._centerY / this._pixiObject.texture.frame.height;\n  this._pixiObject.rotation = this._shouldNotRotate\n    ? 0\n    : RenderedInstance.toRad(this._instance.getAngle());\n  if (this._instance.hasCustomSize()) {\n    this._pixiObject.scale.x =\n      this._instance.getCustomWidth() / this._pixiObject.texture.frame.width;\n    this._pixiObject.scale.y =\n      this._instance.getCustomHeight() / this._pixiObject.texture.frame.height;\n  } else {\n    this._pixiObject.scale.x = 1;\n    this._pixiObject.scale.y = 1;\n  }\n  this._pixiObject.position.x =\n    this._instance.getX() +\n    (this._centerX - this._originX) * Math.abs(this._pixiObject.scale.x);\n  this._pixiObject.position.y =\n    this._instance.getY() +\n    (this._centerY - this._originY) * Math.abs(this._pixiObject.scale.y);\n};\n\nRenderedSpriteInstance.prototype.updateSprite = function() {\n  this._sprite = null;\n  this._shouldNotRotate = false;\n\n  const spriteObject = gd.asSpriteObject(this._associatedObject);\n  if (spriteObject.hasNoAnimations()) return false;\n\n  this._renderedAnimation = this._instance.getRawFloatProperty('animation');\n  if (this._renderedAnimation >= spriteObject.getAnimationsCount())\n    this._renderedAnimation = 0;\n\n  const animation = spriteObject.getAnimation(this._renderedAnimation);\n  if (animation.hasNoDirections()) return false;\n\n  this._renderedDirection = 0;\n  if (animation.useMultipleDirections()) {\n    let normalizedAngle = Math.floor(this._instance.getAngle()) % 360;\n    if (normalizedAngle < 0) normalizedAngle += 360;\n\n    this._renderedDirection = Math.round(normalizedAngle / 45) % 8;\n  }\n\n  if (this._renderedDirection >= animation.getDirectionsCount())\n    this._renderedDirection = 0;\n\n  const direction = animation.getDirection(this._renderedDirection);\n\n  if (direction.getSpritesCount() === 0) return false;\n\n  this._shouldNotRotate = animation.useMultipleDirections();\n  this._sprite = direction.getSprite(0);\n  return true;\n};\n\nRenderedSpriteInstance.prototype.updatePIXITexture = function() {\n  this.updateSprite();\n  if (!this._sprite) return;\n\n  this._pixiObject.texture = this._pixiResourcesLoader.getPIXITexture(\n    this._project,\n    this._sprite.getImageName()\n  );\n\n  const origin = this._sprite.getOrigin();\n  this._originX = origin.getX();\n  this._originY = origin.getY();\n\n  if (this._sprite.isDefaultCenterPoint()) {\n    if (this._pixiObject.texture.noFrame) {\n      var that = this;\n      // We might have to wait for the texture to load\n      this._pixiObject.texture.on('update', function() {\n        that._centerX = that._pixiObject.texture.width / 2;\n        that._centerY = that._pixiObject.texture.height / 2;\n        that._pixiObject.texture.off('update', this);\n      });\n    } else {\n      this._centerX = this._pixiObject.texture.width / 2;\n      this._centerY = this._pixiObject.texture.height / 2;\n    }\n  } else {\n    const center = this._sprite.getCenter();\n    this._centerX = center.getX();\n    this._centerY = center.getY();\n  }\n};\n\nRenderedSpriteInstance.prototype.update = function() {\n  const animation = this._instance.getRawFloatProperty('animation');\n  if (this._renderedAnimation !== animation) this.updatePIXITexture();\n\n  this.updatePIXISprite();\n};\n\nRenderedSpriteInstance.prototype.getOriginX = function() {\n  if (!this._sprite || !this._pixiObject) return 0;\n\n  return this._sprite.getOrigin().getX() * this._pixiObject.scale.x;\n};\n\nRenderedSpriteInstance.prototype.getOriginY = function() {\n  if (!this._sprite || !this._pixiObject) return 0;\n\n  return this._sprite.getOrigin().getY() * this._pixiObject.scale.y;\n};\n\nRenderedSpriteInstance.prototype.getDefaultWidth = function() {\n  return Math.abs(this._pixiObject.width);\n};\n\nRenderedSpriteInstance.prototype.getDefaultHeight = function() {\n  return Math.abs(this._pixiObject.height);\n};\n\nexport default RenderedSpriteInstance;\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * Renderer for gd.TiledSpriteObject\n *\n * @extends RenderedInstance\n * @class RenderedTiledSpriteInstance\n * @constructor\n */\nfunction RenderedTiledSpriteInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  //Setup the PIXI object:\n  var tiledSprite = gd.asTiledSpriteObject(associatedObject);\n  this._texture = tiledSprite.getTexture();\n  this._pixiObject = new PIXI.extras.TilingSprite(\n    this._pixiResourcesLoader.getPIXITexture(project, tiledSprite.getTexture()),\n    tiledSprite.getWidth(),\n    tiledSprite.getHeight()\n  );\n  this._pixiObject.anchor.x = 0.5;\n  this._pixiObject.anchor.y = 0.5;\n  this._pixiContainer.addChild(this._pixiObject);\n}\nRenderedTiledSpriteInstance.prototype = Object.create(\n  RenderedInstance.prototype\n);\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedTiledSpriteInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  var tiledSprite = gd.asTiledSpriteObject(object);\n\n  return resourcesLoader.getResourceFullUrl(project, tiledSprite.getTexture());\n};\n\nRenderedTiledSpriteInstance.prototype.update = function() {\n  var tiledSprite = gd.asTiledSpriteObject(this._associatedObject);\n  if (this._instance.hasCustomSize()) {\n    this._pixiObject.width = this._instance.getCustomWidth();\n    this._pixiObject.height = this._instance.getCustomHeight();\n  } else {\n    this._pixiObject.width = tiledSprite.getWidth();\n    this._pixiObject.height = tiledSprite.getHeight();\n  }\n\n  if (this._texture !== tiledSprite.getTexture()) {\n    this._texture = tiledSprite.getTexture();\n    this._pixiObject.texture = this._pixiResourcesLoader.getPIXITexture(\n      this._project,\n      tiledSprite.getTexture()\n    );\n  }\n\n  this._pixiObject.x = this._instance.getX() + this._pixiObject.width / 2;\n  this._pixiObject.y = this._instance.getY() + this._pixiObject.height / 2;\n  this._pixiObject.rotation = RenderedInstance.toRad(this._instance.getAngle());\n};\n\nRenderedTiledSpriteInstance.prototype.getDefaultWidth = function() {\n  var tiledSprite = gd.asTiledSpriteObject(this._associatedObject);\n  return tiledSprite.getWidth();\n};\n\nRenderedTiledSpriteInstance.prototype.getDefaultHeight = function() {\n  var tiledSprite = gd.asTiledSpriteObject(this._associatedObject);\n  return tiledSprite.getHeight();\n};\n\nexport default RenderedTiledSpriteInstance;\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * Renderer for gd.PanelSpriteObject\n *\n * Heavily inspired from the GDJS PIXI renderer for PanelSprite objects.\n * TODO: Find a way to factor GDJS objects and IDE instances renderers.\n *\n * @extends RenderedInstance\n * @class RenderedPanelSpriteInstance\n * @constructor\n */\nfunction RenderedPanelSpriteInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  this.makeObjects();\n  this.updateTexture();\n}\nRenderedPanelSpriteInstance.prototype = Object.create(\n  RenderedInstance.prototype\n);\n\nRenderedPanelSpriteInstance.prototype.update = function() {\n  //TODO\n  // if (this._pixiObject.visible && this._wasRendered) {\n  //   this._pixiObject.cacheAsBitmap = true;\n  // }\n  // this._wasRendered = true;\n\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  if (panelSprite.isTiled() !== this._tiled) {\n    this.makeObjects();\n  }\n  if (panelSprite.getTexture() !== this._textureName) {\n    this.updateTexture();\n  }\n\n  this.updateAngle();\n  this.updatePosition();\n\n  const oldWidth = this._width;\n  const oldHeight = this._height;\n  if (this._instance.hasCustomSize()) {\n    this._width = this._instance.getCustomWidth();\n    this._height = this._instance.getCustomHeight();\n  } else {\n    var tiledSprite = gd.asPanelSpriteObject(this._associatedObject);\n    this._width = tiledSprite.getWidth();\n    this._height = tiledSprite.getHeight();\n  }\n\n  if (this._width !== oldWidth || this._height !== oldHeight) {\n    this.updateWidthHeight();\n  }\n};\n\nRenderedPanelSpriteInstance.prototype.makeObjects = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  this._textureName = panelSprite.getTexture();\n  const texture = this._pixiResourcesLoader.getPIXITexture(\n    this._project,\n    this._textureName\n  );\n\n  this._tiled = panelSprite.isTiled();\n  var StretchedSprite = !this._tiled ? PIXI.Sprite : PIXI.extras.TilingSprite;\n\n  if (!this._pixiObject) {\n    this._pixiObject = new PIXI.Container();\n    this._pixiContainer.addChild(this._pixiObject);\n  }\n  this._centerSprite = new StretchedSprite(new PIXI.Texture(texture));\n  this._borderSprites = [\n    new StretchedSprite(new PIXI.Texture(texture)), //Right\n    new PIXI.Sprite(texture), //Top-Right\n    new StretchedSprite(new PIXI.Texture(texture)), //Top\n    new PIXI.Sprite(texture), //Top-Left\n    new StretchedSprite(new PIXI.Texture(texture)), //Left\n    new PIXI.Sprite(texture), //Bottom-Left\n    new StretchedSprite(new PIXI.Texture(texture)), //Bottom\n    new PIXI.Sprite(texture), //Bottom-Right\n  ];\n\n  this._pixiObject.removeChildren();\n  this._pixiObject.addChild(this._centerSprite);\n  for (var i = 0; i < this._borderSprites.length; ++i) {\n    this._pixiObject.addChild(this._borderSprites[i]);\n  }\n};\n\nRenderedPanelSpriteInstance.prototype.updateAngle = function() {\n  this._pixiObject.rotation = RenderedInstance.toRad(this._instance.getAngle());\n};\n\nRenderedPanelSpriteInstance.prototype.updatePosition = function() {\n  this._pixiObject.x = this._instance.getX() + this._width / 2;\n  this._pixiObject.y = this._instance.getY() + this._height / 2;\n};\n\nRenderedPanelSpriteInstance.prototype._updateLocalPositions = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  var extraPixels = panelSprite.isTiled() ? 1 : 0;\n\n  this._centerSprite.position.x = panelSprite.getLeftMargin();\n  this._centerSprite.position.y = panelSprite.getTopMargin();\n  this._borderSprites[0].position.x =\n    this._width - panelSprite.getRightMargin() - extraPixels * 2;\n  this._borderSprites[0].position.y = panelSprite.getTopMargin();\n\n  this._borderSprites[1].position.x =\n    this._width - this._borderSprites[1].width - extraPixels * 2;\n  this._borderSprites[1].position.y = 0;\n\n  this._borderSprites[2].position.x = panelSprite.getLeftMargin();\n  this._borderSprites[2].position.y = 0;\n\n  this._borderSprites[3].position.x = 0;\n  this._borderSprites[3].position.y = 0;\n\n  this._borderSprites[4].position.x = 0;\n  this._borderSprites[4].position.y = panelSprite.getTopMargin();\n\n  this._borderSprites[5].position.x = 0;\n  this._borderSprites[5].position.y =\n    this._height - this._borderSprites[5].height - extraPixels * 2;\n\n  this._borderSprites[6].position.x = panelSprite.getLeftMargin();\n  this._borderSprites[6].position.y =\n    this._height - panelSprite.getBottomMargin() - extraPixels * 3; //FIXME: 1 more extra pixel is somewhat needed for pixel perfect alignment\n\n  this._borderSprites[7].position.x =\n    this._width - this._borderSprites[7].width - extraPixels * 2;\n  this._borderSprites[7].position.y =\n    this._height - this._borderSprites[7].height - extraPixels * 2;\n};\n\nRenderedPanelSpriteInstance.prototype._updateSpritesAndTexturesSize = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  this._centerSprite.width = Math.max(\n    this._width - panelSprite.getRightMargin() - panelSprite.getLeftMargin(),\n    0\n  );\n  this._centerSprite.height = Math.max(\n    this._height - panelSprite.getTopMargin() - panelSprite.getBottomMargin(),\n    0\n  );\n\n  //Top, Bottom, Right, Left borders:\n  this._borderSprites[0].width = panelSprite.getRightMargin();\n  this._borderSprites[0].height = Math.max(\n    this._height - panelSprite.getTopMargin() - panelSprite.getBottomMargin(),\n    0\n  );\n\n  this._borderSprites[2].height = panelSprite.getTopMargin();\n  this._borderSprites[2].width = Math.max(\n    this._width - panelSprite.getRightMargin() - panelSprite.getLeftMargin(),\n    0\n  );\n\n  this._borderSprites[4].width = panelSprite.getLeftMargin();\n  this._borderSprites[4].height = Math.max(\n    this._height - panelSprite.getTopMargin() - panelSprite.getBottomMargin(),\n    0\n  );\n\n  this._borderSprites[6].height = panelSprite.getBottomMargin();\n  this._borderSprites[6].width = Math.max(\n    this._width - panelSprite.getRightMargin() - panelSprite.getLeftMargin(),\n    0\n  );\n\n  this._wasRendered = true;\n  this._pixiObject.cacheAsBitmap = false;\n};\n\nRenderedPanelSpriteInstance.prototype.updateTexture = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  this._textureName = panelSprite.getTexture();\n  const texture = this._pixiResourcesLoader.getPIXITexture(\n    this._project,\n    this._textureName\n  );\n\n  if (texture.noFrame) {\n    //Post pone texture update if texture is not loaded\n    const renderer = this;\n    texture.on('update', function() {\n      renderer.updateTexture();\n      texture.off('update', this);\n    });\n\n    return;\n  }\n\n  console.log('Updating PanelSprite instance texture');\n  function makeInsideTexture(rect) {\n    if (rect.width < 0) rect.width = 0;\n    if (rect.height < 0) rect.height = 0;\n    if (rect.x < 0) rect.x = 0;\n    if (rect.y < 0) rect.y = 0;\n    if (rect.x > texture.width) rect.x = texture.width;\n    if (rect.y > texture.height) rect.y = texture.height;\n    if (rect.x + rect.width > texture.width)\n      rect.width = texture.width - rect.x;\n    if (rect.y + rect.height > texture.height)\n      rect.height = texture.height - rect.y;\n\n    return rect;\n  }\n\n  this._centerSprite.texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        panelSprite.getLeftMargin(),\n        panelSprite.getTopMargin(),\n        texture.width -\n          panelSprite.getLeftMargin() -\n          panelSprite.getRightMargin(),\n        texture.height -\n          panelSprite.getTopMargin() -\n          panelSprite.getBottomMargin()\n      )\n    )\n  );\n\n  //Top, Bottom, Right, Left borders:\n  this._borderSprites[0].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        texture.width - panelSprite.getRightMargin() - 1,\n        panelSprite.getTopMargin(),\n        panelSprite.getRightMargin() + 1,\n        texture.height -\n          panelSprite.getTopMargin() -\n          panelSprite.getBottomMargin()\n      )\n    )\n  );\n  this._borderSprites[2].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        panelSprite.getLeftMargin(),\n        0,\n        texture.width -\n          panelSprite.getLeftMargin() -\n          panelSprite.getRightMargin(),\n        panelSprite.getTopMargin() + 1\n      )\n    )\n  );\n  this._borderSprites[4].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        0,\n        panelSprite.getTopMargin(),\n        panelSprite.getLeftMargin() + 1,\n        texture.height -\n          panelSprite.getTopMargin() -\n          panelSprite.getBottomMargin()\n      )\n    )\n  );\n  this._borderSprites[6].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        panelSprite.getLeftMargin(),\n        texture.height - panelSprite.getBottomMargin() - 1,\n        texture.width -\n          panelSprite.getLeftMargin() -\n          panelSprite.getRightMargin(),\n        panelSprite.getBottomMargin() + 1\n      )\n    )\n  );\n\n  this._borderSprites[1].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        this._borderSprites[1].width - panelSprite.getRightMargin(),\n        0,\n        panelSprite.getRightMargin(),\n        panelSprite.getTopMargin()\n      )\n    )\n  );\n  this._borderSprites[3].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        0,\n        0,\n        panelSprite.getLeftMargin(),\n        panelSprite.getTopMargin()\n      )\n    )\n  );\n  this._borderSprites[5].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        0,\n        this._borderSprites[5].height - panelSprite.getBottomMargin(),\n        panelSprite.getLeftMargin(),\n        panelSprite.getBottomMargin()\n      )\n    )\n  );\n  this._borderSprites[7].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        this._borderSprites[7].width - panelSprite.getRightMargin(),\n        this._borderSprites[7].height - panelSprite.getBottomMargin(),\n        panelSprite.getRightMargin(),\n        panelSprite.getBottomMargin()\n      )\n    )\n  );\n\n  this._updateSpritesAndTexturesSize();\n  this._updateLocalPositions();\n  this.updatePosition();\n};\n\nRenderedPanelSpriteInstance.prototype.updateWidthHeight = function() {\n  this._pixiObject.pivot.x = this._width / 2;\n  this._pixiObject.pivot.y = this._height / 2;\n  this._updateSpritesAndTexturesSize();\n  this._updateLocalPositions();\n  this.updatePosition();\n};\n\nRenderedPanelSpriteInstance.prototype.getDefaultWidth = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  return panelSprite.getWidth();\n};\n\nRenderedPanelSpriteInstance.prototype.getDefaultHeight = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  return panelSprite.getHeight();\n};\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedPanelSpriteInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  const panelSprite = gd.asPanelSpriteObject(object);\n\n  return resourcesLoader.getResourceFullUrl(project, panelSprite.getTexture());\n};\n\nexport default RenderedPanelSpriteInstance;\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * Renderer for a Text object.\n *\n * @extends RenderedInstance\n * @class RenderedTextInstance\n * @constructor\n */\nfunction RenderedTextInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  //Setup the PIXI object:\n  const textObject = gd.asTextObject(this._associatedObject);\n  this._pixiObject = new PIXI.Text(' ', { align: 'left' });\n  this._pixiObject.anchor.x = 0.5;\n  this._pixiObject.anchor.y = 0.5;\n  this._pixiContainer.addChild(this._pixiObject);\n  this._styleFontDirty = true;\n  this._fontFamily = this._pixiResourcesLoader.getFontFamily(\n    this._project,\n    textObject.getFontName()\n  );\n  this.update();\n}\nRenderedTextInstance.prototype = Object.create(RenderedInstance.prototype);\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedTextInstance.getThumbnail = function(project, resourcesLoader, object) {\n  return 'CppPlatform/Extensions/texticon24.png';\n};\n\nRenderedTextInstance.prototype.update = function() {\n  const textObject = gd.asTextObject(this._associatedObject);\n  this._pixiObject.text = textObject.getString();\n\n  //Update style, only if needed to avoid destroying text rendering performances\n  if (\n    textObject.isItalic() !== this._isItalic ||\n    textObject.isBold() !== this._isBold ||\n    textObject.getCharacterSize() !== this._characterSize ||\n    this._instance.hasCustomSize() !== this._wrapping ||\n    (this._instance.getCustomWidth() !== this._wrappingWidth && this._wrapping)\n  ) {\n    this._isItalic = textObject.isItalic();\n    this._isBold = textObject.isBold();\n    this._characterSize = textObject.getCharacterSize();\n    this._wrapping = this._instance.hasCustomSize();\n    this._wrappingWidth = this._instance.getCustomWidth();\n    this._styleFontDirty = true;\n  }\n\n  if (this._fontName !== textObject.getFontName()) {\n    //Avoid calling loadFontFamily if the font didn't changed.\n    this._fontName = textObject.getFontName();\n    this._pixiResourcesLoader\n      .loadFontFamily(this._project, textObject.getFontName())\n      .then(fontFamily => {\n        // Once the font is loaded, we can use the given fontFamily.\n        this._fontFamily = fontFamily;\n        this._styleFontDirty = true;\n      })\n      .catch(err => {\n        // Ignore errors\n        console.warn('Unable to load font family', err);\n      });\n  }\n\n  if (this._styleFontDirty) {\n    this._pixiObject.style.fontFamily = this._fontFamily || 'Arial';\n    this._pixiObject.style.fontSize = this._characterSize + 'px';\n    this._pixiObject.style.fontStyle = this._isItalic ? 'italic' : 'normal';\n    this._pixiObject.style.fontWeight = this._isBold ? 'bold' : 'normal';\n    this._pixiObject.style.wordWrap = this._wrapping;\n    this._pixiObject.style.wordWrapWidth =\n      this._wrappingWidth <= 1 ? 1 : this._wrappingWidth;\n    this._pixiObject.style.breakWords = true;\n\n    // Manually ask the PIXI object to re-render as we changed a style property\n    // see http://www.html5gamedevs.com/topic/16924-change-text-style-post-render/\n    this._pixiObject.dirty = true;\n    this._styleFontDirty = false;\n  }\n\n  if (\n    textObject.getColorR() !== this._colorR ||\n    textObject.getColorG() !== this._colorG ||\n    textObject.getColorB() !== this._colorB\n  ) {\n    this._colorR = textObject.getColorR();\n    this._colorG = textObject.getColorG();\n    this._colorB = textObject.getColorB();\n    this._pixiObject.style.fill =\n      'rgb(' + this._colorR + ',' + this._colorG + ',' + this._colorB + ')';\n\n    // Manually ask the PIXI object to re-render as we changed a style property\n    // see http://www.html5gamedevs.com/topic/16924-change-text-style-post-render/\n    this._pixiObject.dirty = true;\n  }\n\n  this._pixiObject.position.x =\n    this._instance.getX() + this._pixiObject.width / 2;\n  this._pixiObject.position.y =\n    this._instance.getY() + this._pixiObject.height / 2;\n  this._pixiObject.rotation = RenderedInstance.toRad(this._instance.getAngle());\n};\n\nRenderedTextInstance.prototype.getDefaultWidth = function() {\n  return this._pixiObject.width;\n};\n\nRenderedTextInstance.prototype.getDefaultHeight = function() {\n  return this._pixiObject.height;\n};\n\nexport default RenderedTextInstance;\n","import makeRenderer from './RenderedIconInstance';\nexport default makeRenderer('CppPlatform/Extensions/primitivedrawingicon.png');\n","import makeRenderer from './RenderedIconInstance';\nexport default makeRenderer('CppPlatform/Extensions/textentry.png');\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\nimport { rgbToHexNumber } from '../../Utils/ColorTransformer';\nconst gd = global.gd;\n\n/**\n * Renderer for an ParticleEmitter object.\n *\n * @extends RenderedInstance\n * @class RenderedParticleEmitterInstance\n * @constructor\n */\nfunction RenderedParticleEmitterInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  this._pixiObject = new PIXI.Graphics();\n  this._pixiContainer.addChild(this._pixiObject);\n  this.updateGraphics();\n}\nRenderedParticleEmitterInstance.prototype = Object.create(\n  RenderedInstance.prototype\n);\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedParticleEmitterInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  return 'CppPlatform/Extensions/particleSystemicon.png';\n};\n\nRenderedParticleEmitterInstance.prototype.update = function() {\n  this._pixiObject.position.x = this._instance.getX();\n  this._pixiObject.position.y = this._instance.getY();\n  this.updateGraphics();\n};\n\n/**\n * Render the preview of the particle emitter according to the setup of the object\n */\nRenderedParticleEmitterInstance.prototype.updateGraphics = function() {\n  const particleEmitterObject = gd.asParticleEmitterObject(\n    this._associatedObject\n  );\n\n  this._pixiObject.clear();\n\n  const emitterAngle = (this._instance.getAngle() / 180) * 3.14159;\n  const sprayConeAngle = particleEmitterObject.getConeSprayAngle();\n  const line1Angle = emitterAngle - (sprayConeAngle / 2.0 / 180.0) * 3.14159;\n  const line2Angle = emitterAngle + (sprayConeAngle / 2.0 / 180.0) * 3.14159;\n  const length = 64;\n\n  this._pixiObject.beginFill(0, 0);\n  this._pixiObject.lineStyle(\n    3,\n    rgbToHexNumber(\n      particleEmitterObject.getParticleRed2(),\n      particleEmitterObject.getParticleGreen2(),\n      particleEmitterObject.getParticleBlue2()\n    ),\n    1\n  );\n  this._pixiObject.moveTo(0, 0);\n  this._pixiObject.lineTo(\n    Math.cos(line1Angle) * length,\n    Math.sin(line1Angle) * length\n  );\n  this._pixiObject.moveTo(0, 0);\n  this._pixiObject.lineTo(\n    Math.cos(line2Angle) * length,\n    Math.sin(line2Angle) * length\n  );\n  this._pixiObject.endFill();\n\n  this._pixiObject.lineStyle(0, 0x000000, 1);\n  this._pixiObject.beginFill(\n    rgbToHexNumber(\n      particleEmitterObject.getParticleRed1(),\n      particleEmitterObject.getParticleGreen1(),\n      particleEmitterObject.getParticleBlue1()\n    )\n  );\n  this._pixiObject.drawCircle(0, 0, 8);\n  this._pixiObject.endFill();\n};\n\nRenderedParticleEmitterInstance.prototype.getDefaultWidth = function() {\n  return 128;\n};\n\nRenderedParticleEmitterInstance.prototype.getDefaultHeight = function() {\n  return 128;\n};\n\nRenderedParticleEmitterInstance.prototype.getOriginX = function() {\n  return 64;\n};\n\nRenderedParticleEmitterInstance.prototype.getOriginY = function() {\n  return 64;\n};\n\nexport default RenderedParticleEmitterInstance;\n","import FontFaceObserver from 'fontfaceobserver';\n\n/**\n * A simple wrapper around FontFace (if supported) or @font-face + FontFaceObserver\n * to load a font from an url and be notified when loading is done (or failed).\n * @param {*} fontFamily\n * @param {*} src\n * @param {*} descriptors\n */\nexport const loadFontFace = (fontFamily, src, descriptors = {}) => {\n  if (typeof FontFace !== 'undefined') {\n    // Load the given font using CSS Font Loading API.\n    const fontFace = new FontFace(fontFamily, src, descriptors);\n    document.fonts.add(fontFace);\n    return fontFace.load();\n  } else {\n    // Add @font-face and use FontFaceObserver to be notified when the\n    // font is ready.\n    const newStyle = document.createElement('style');\n    newStyle.appendChild(\n      document.createTextNode(\n        `@font-face {\n          font-family: ${fontFamily};\n          src: ${src};\n        }`\n      )\n    );\n\n    document.head.appendChild(newStyle);\n    return new FontFaceObserver(fontFamily, descriptors).load().catch(err => {\n      console.warn(`Error while loading font ${fontFamily}`, err);\n\n      throw err;\n    });\n  }\n};\n","// @flow\nimport { type InstructionOrExpressionInformation } from './InstructionOrExpressionInformation.flow.js';\nconst gd = global.gd;\n\nconst GROUP_DELIMITER = '/';\n\nconst enumerateExtensionInstructions = (\n  groupPrefix: string,\n  extensionInstructions\n): Array<InstructionOrExpressionInformation> => {\n  //Get the map containing the metadata of the instructions provided by the extension...\n  var instructionsTypes = extensionInstructions.keys();\n  const allInstructions = [];\n\n  //... and add each instruction\n  for (let j = 0; j < instructionsTypes.size(); ++j) {\n    const instrMetadata = extensionInstructions.get(instructionsTypes.get(j));\n    if (instrMetadata.isHidden()) continue;\n\n    const displayedName = instrMetadata.getFullName();\n    const groupName = instrMetadata.getGroup();\n    const iconFilename = instrMetadata.getIconFilename();\n    const fullGroupName = groupPrefix + groupName;\n\n    allInstructions.push({\n      type: instructionsTypes.get(j),\n      metadata: instrMetadata,\n      iconFilename,\n      displayedName,\n      fullGroupName,\n    });\n  }\n\n  return allInstructions;\n};\n\nexport const enumerateInstructions = (\n  isCondition: boolean\n): Array<InstructionOrExpressionInformation> => {\n  let allInstructions = [];\n\n  const allExtensions = gd\n    .asPlatform(gd.JsPlatform.get())\n    .getAllPlatformExtensions();\n  for (let i = 0; i < allExtensions.size(); ++i) {\n    const extension = allExtensions.get(i);\n    const allObjectsTypes = extension.getExtensionObjectsTypes();\n    const allBehaviorsTypes = extension.getBehaviorsTypes();\n\n    let prefix = '';\n    if (allObjectsTypes.size() > 0 || allBehaviorsTypes.size() > 0) {\n      prefix =\n        extension.getName() === 'BuiltinObject'\n          ? 'Common ' +\n            (isCondition ? 'conditions' : 'actions') +\n            ' for all objects'\n          : extension.getFullName();\n      prefix += GROUP_DELIMITER;\n    }\n\n    //Free instructions\n    allInstructions = [\n      ...allInstructions,\n      ...enumerateExtensionInstructions(\n        prefix,\n        isCondition ? extension.getAllConditions() : extension.getAllActions()\n      ),\n    ];\n\n    //Objects instructions:\n    for (let j = 0; j < allObjectsTypes.size(); ++j) {\n      allInstructions = [\n        ...allInstructions,\n        ...enumerateExtensionInstructions(\n          prefix,\n          isCondition\n            ? extension.getAllConditionsForObject(allObjectsTypes.get(j))\n            : extension.getAllActionsForObject(allObjectsTypes.get(j))\n        ),\n      ];\n    }\n\n    //Behaviors instructions:\n    for (let j = 0; j < allBehaviorsTypes.size(); ++j) {\n      allInstructions = [\n        ...allInstructions,\n        ...enumerateExtensionInstructions(\n          prefix,\n          isCondition\n            ? extension.getAllConditionsForBehavior(allBehaviorsTypes.get(j))\n            : extension.getAllActionsForBehavior(allBehaviorsTypes.get(j))\n        ),\n      ];\n    }\n  }\n\n  return allInstructions;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport Divider from 'material-ui/Divider';\nimport Toggle from 'material-ui/Toggle';\nimport { mapFor } from '../../Utils/MapFor';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport ParameterRenderingService from '../ParameterRenderingService';\nimport HelpButton from '../../UI/HelpButton';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../ResourcesList/ResourceExternalEditor.flow';\nimport { Line } from '../../UI/Grid';\nimport AlertMessage from '../../UI/AlertMessage';\nimport { getExtraInstructionInformation } from '../../Hints';\nimport { isAnEventFunctionMetadata } from '../../EventsFunctionsExtensionsLoader';\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\nimport IconButton from 'material-ui/IconButton';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1,\n  },\n  emptyContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  parametersContainer: {\n    flex: 1,\n    overflowY: 'auto',\n  },\n  icon: {\n    width: 24,\n    height: 24,\n    marginRight: 8,\n    flexShrink: 0,\n  },\n  invertToggle: {\n    marginTop: 8,\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  layout: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  instruction: gdInstruction,\n  isCondition: boolean,\n  focusOnMount?: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  style?: Object,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n|};\ntype State = {|\n  isDirty: boolean,\n|};\n\nexport default class InstructionParametersEditor extends React.Component<\n  Props,\n  State\n> {\n  _firstVisibleField: ?any = {};\n  state = {\n    isDirty: false,\n  };\n\n  componentDidMount() {\n    if (this.props.focusOnMount) {\n      setTimeout(() => {\n        this.focus();\n      }, 300); // Let the time to the dialog that is potentially containing the InstructionParametersEditor to finish its transition.\n    }\n  }\n\n  focus() {\n    // Verify that there is a field to focus.\n    if (\n      this._getNonCodeOnlyParametersCount(this._getInstructionMetadata()) !== 0\n    ) {\n      if (this._firstVisibleField && this._firstVisibleField.focus) {\n        this._firstVisibleField.focus();\n      }\n    }\n  }\n\n  _getNonCodeOnlyParametersCount(instructionMetadata: ?gdInstructionMetadata) {\n    if (!instructionMetadata) return 0;\n\n    return mapFor(0, instructionMetadata.getParametersCount(), i => {\n      if (!instructionMetadata) return false;\n\n      const parameterMetadata = instructionMetadata.getParameter(i);\n      return !parameterMetadata.isCodeOnly();\n    }).filter(isVisible => isVisible).length;\n  }\n\n  _getInstructionMetadata = (): ?gdInstructionMetadata => {\n    const { instruction, isCondition, project } = this.props;\n    const type = instruction.getType();\n    if (!type) return null;\n\n    return isCondition\n      ? gd.MetadataProvider.getConditionMetadata(\n          project.getCurrentPlatform(),\n          type\n        )\n      : gd.MetadataProvider.getActionMetadata(\n          project.getCurrentPlatform(),\n          type\n        );\n  };\n\n  _openExtension = (i18n: I18nType) => {\n    if (this.state.isDirty) {\n      //eslint-disable-next-line\n      const answer = confirm(\n        i18n._(\n          t`You've made some changes here. Are you sure you want to discard them and open the function?`\n        )\n      );\n      if (!answer) return;\n    }\n\n    const { instruction, isCondition, project } = this.props;\n    const type = instruction.getType();\n    if (!type) return null;\n\n    const extension = isCondition\n      ? gd.MetadataProvider.getExtensionAndConditionMetadata(\n          project.getCurrentPlatform(),\n          type\n        ).getExtension()\n      : gd.MetadataProvider.getExtensionAndActionMetadata(\n          project.getCurrentPlatform(),\n          type\n        ).getExtension();\n\n    this.props.openInstructionOrExpression(extension, type);\n  };\n\n  _renderEmpty() {\n    return (\n      <div style={{ ...styles.emptyContainer, ...this.props.style }}>\n        <EmptyMessage>\n          {this.props.isCondition\n            ? 'Choose a condition on the left'\n            : 'Choose an action on the left'}\n        </EmptyMessage>\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      instruction,\n      project,\n      layout,\n      globalObjectsContainer,\n      objectsContainer,\n    } = this.props;\n\n    const type = instruction.getType();\n    const instructionMetadata = this._getInstructionMetadata();\n    if (!instructionMetadata) return this._renderEmpty();\n\n    const helpPage = instructionMetadata.getHelpPath();\n\n    const instructionExtraInformation = getExtraInstructionInformation(type);\n\n    //TODO?\n    instruction.setParametersCount(instructionMetadata.getParametersCount());\n\n    let parameterFieldIndex = 0;\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <div style={styles.container}>\n            <Line alignItems=\"center\">\n              <img\n                src={instructionMetadata.getIconFilename()}\n                alt=\"\"\n                style={styles.icon}\n              />\n              <p>{instructionMetadata.getDescription()}</p>\n              {isAnEventFunctionMetadata(instructionMetadata) && (\n                <IconButton onClick={() => this._openExtension(i18n)}>\n                  <OpenInNew />\n                </IconButton>\n              )}\n            </Line>\n            {instructionExtraInformation && (\n              <Line>\n                <AlertMessage kind={instructionExtraInformation.kind}>\n                  {i18n._(instructionExtraInformation.message)}\n                </AlertMessage>\n              </Line>\n            )}\n            <Divider />\n            <div key={type} style={styles.parametersContainer}>\n              {mapFor(0, instructionMetadata.getParametersCount(), i => {\n                const parameterMetadata = instructionMetadata.getParameter(i);\n                const parameterMetadataType = parameterMetadata.getType();\n                const ParameterComponent = ParameterRenderingService.getParameterComponent(\n                  parameterMetadataType\n                );\n\n                if (parameterMetadata.isCodeOnly()) return null;\n                if (!ParameterComponent) {\n                  console.warn(\n                    'Missing parameter component for',\n                    parameterMetadataType\n                  );\n                  return null;\n                }\n\n                // Track the field count on screen, to affect the ref to the\n                // first visible field.\n                const isFirstVisibleParameterField = parameterFieldIndex === 0;\n                parameterFieldIndex++;\n\n                return (\n                  <ParameterComponent\n                    instructionMetadata={instructionMetadata}\n                    instruction={instruction}\n                    parameterMetadata={parameterMetadata}\n                    parameterIndex={i}\n                    value={instruction.getParameter(i)}\n                    onChange={value => {\n                      if (instruction.getParameter(i) !== value) {\n                        instruction.setParameter(i, value);\n                        this.setState({\n                          isDirty: true,\n                        });\n                      }\n                    }}\n                    project={project}\n                    layout={layout}\n                    globalObjectsContainer={globalObjectsContainer}\n                    objectsContainer={objectsContainer}\n                    key={i}\n                    parameterRenderingService={ParameterRenderingService}\n                    resourceSources={this.props.resourceSources}\n                    onChooseResource={this.props.onChooseResource}\n                    resourceExternalEditors={this.props.resourceExternalEditors}\n                    ref={field => {\n                      if (isFirstVisibleParameterField) {\n                        this._firstVisibleField = field;\n                      }\n                    }}\n                  />\n                );\n              })}\n              {this._getNonCodeOnlyParametersCount(instructionMetadata) ===\n                0 && (\n                <EmptyMessage>\n                  <Trans>There is nothing to configure.</Trans>\n                </EmptyMessage>\n              )}\n              {this.props.isCondition && (\n                <Toggle\n                  label={<Trans>Invert condition</Trans>}\n                  labelPosition=\"right\"\n                  toggled={instruction.isInverted()}\n                  style={styles.invertToggle}\n                  onToggle={(e, enabled) => {\n                    instruction.setInverted(enabled);\n                    this.forceUpdate();\n                  }}\n                />\n              )}\n            </div>\n            <Line>\n              {helpPage && (\n                <HelpButton\n                  helpPagePath={instructionMetadata.getHelpPath()}\n                  label={\n                    this.props.isCondition ? (\n                      <Trans>Help for this condition</Trans>\n                    ) : (\n                      <Trans>Help for this action</Trans>\n                    )\n                  }\n                />\n              )}\n            </Line>\n          </div>\n        )}\n      </I18n>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport { adaptAcceleratorString } from '../UI/AcceleratorString';\n\nexport class Toolbar extends PureComponent {\n  render() {\n    const t = str => str; //TODO\n\n    return (\n      <ToolbarGroup lastChild>\n        {this.props.showPreviewButton && (\n          <ToolbarIcon\n            onClick={this.props.onPreview}\n            src=\"res/ribbon_default/preview32.png\"\n            tooltip={t('Launch a preview of the scene')}\n          />\n        )}\n        {this.props.showNetworkPreviewButton && (\n          <IconMenu\n            iconButtonElement={\n              <ToolbarIcon\n                src=\"res/ribbon_default/bug32.png\"\n                tooltip={t(\n                  'Advanced preview options (debugger, network preview...)'\n                )}\n              />\n            }\n            buildMenuTemplate={() => [\n              {\n                label: 'Network preview (Preview over WiFi/LAN)',\n                click: () => this.props.onNetworkPreview(),\n              },\n              { type: 'separator' },\n              {\n                label: 'Preview with debugger and performance profiler',\n                click: () => this.props.onOpenDebugger(),\n              },\n            ]}\n          />\n        )}\n        {this.props.showPreviewButton && <ToolbarSeparator />}\n        <ToolbarIcon\n          onClick={this.props.onAddStandardEvent}\n          src=\"res/ribbon_default/eventadd32.png\"\n          tooltip={t('Add a new empty event')}\n        />\n        <ToolbarIcon\n          onClick={this.props.onAddSubEvent}\n          src=\"res/ribbon_default/subeventadd32.png\"\n          disabled={!this.props.canAddSubEvent}\n          tooltip={t('Add a sub-event to the selected event')}\n        />\n        <ToolbarIcon\n          onClick={this.props.onAddCommentEvent}\n          src=\"res/ribbon_default/commentaireadd32.png\"\n          tooltip={t('Add a comment')}\n        />\n        <IconMenu\n          iconButtonElement={\n            <ToolbarIcon\n              src=\"res/ribbon_default/add32.png\"\n              tooltip={t('Choose and add an event')}\n            />\n          }\n          buildMenuTemplate={() =>\n            this.props.allEventsMetadata.map(metadata => {\n              return {\n                label: metadata.fullName,\n                click: () => this.props.onAddEvent(metadata.type),\n              };\n            })\n          }\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.onRemove}\n          src=\"res/ribbon_default/deleteselected32.png\"\n          disabled={!this.props.canRemove}\n          tooltip={t('Delete the selected event(s)')}\n        />\n        <ToolbarIcon\n          onClick={this.props.undo}\n          src=\"res/ribbon_default/undo32.png\"\n          disabled={!this.props.canUndo}\n          tooltip={t('Undo the last changes')}\n        />\n        <ToolbarIcon\n          onClick={this.props.redo}\n          src=\"res/ribbon_default/redo32.png\"\n          disabled={!this.props.canRedo}\n          tooltip={t('Redo the last changes')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={() => this.props.onToggleSearchPanel()}\n          src=\"res/ribbon_default/search32.png\"\n          tooltip={`${t('Search in events')} ${adaptAcceleratorString(\n            'CmdOrCtrl+F'\n          )}`}\n        />\n        {this.props.onOpenSettings && <ToolbarSeparator />}\n        {this.props.onOpenSettings && (\n          <ToolbarIcon\n            onClick={this.props.onOpenSettings}\n            src=\"res/ribbon_default/pref32.png\"\n            tooltip={t('Open settings')}\n          />\n        )}\n      </ToolbarGroup>\n    );\n  }\n}\n\nexport default Toolbar;\n","// @flow\nimport * as React from 'react';\nimport InlinePopover from './InlinePopover';\nimport ParameterRenderingService from './ParameterRenderingService';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  layout: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n\n  open: boolean,\n  onRequestClose: () => void,\n  onChange: string => void,\n\n  instruction: ?gdInstruction,\n  isCondition: boolean,\n  parameterIndex: number,\n\n  anchorEl: ?any,\n\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n|};\n\ntype State = {|\n  parameterMetadata: ?gdParameterMetadata,\n  instructionMetadata: ?gdInstructionMetadata,\n  ParameterComponent: ?any,\n|};\n\nexport default class InlineParameterEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    parameterMetadata: null,\n    instructionMetadata: null,\n    ParameterComponent: null,\n  };\n\n  _field: ?any;\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (newProps.open && !this.props.open) ||\n      newProps.instruction !== this.props.instruction\n    ) {\n      this._loadComponentFromInstruction(newProps);\n    }\n  }\n\n  _unload() {\n    this.setState({\n      ParameterComponent: null,\n      parameterMetadata: null,\n      instructionMetadata: null,\n    });\n  }\n\n  _loadComponentFromInstruction(props: Props) {\n    const { project, isCondition, instruction, parameterIndex } = props;\n    if (!instruction) return this._unload();\n\n    const type = instruction.getType();\n    const instructionMetadata = isCondition\n      ? gd.MetadataProvider.getConditionMetadata(\n          project.getCurrentPlatform(),\n          type\n        )\n      : gd.MetadataProvider.getActionMetadata(\n          project.getCurrentPlatform(),\n          type\n        );\n\n    if (parameterIndex >= instructionMetadata.getParametersCount())\n      return this._unload();\n\n    const parameterMetadata = instructionMetadata.getParameter(parameterIndex);\n    const ParameterComponent = ParameterRenderingService.getParameterComponent(\n      parameterMetadata.getType()\n    );\n    this.setState(\n      {\n        ParameterComponent,\n        parameterMetadata,\n        instructionMetadata,\n      },\n      () => {\n        if (this._field && this._field.focus) this._field.focus();\n      }\n    );\n  }\n\n  render() {\n    if (!this.state.ParameterComponent || !this.props.open) return null;\n    const instruction = this.props.instruction;\n    if (!instruction) return null;\n\n    const { ParameterComponent } = this.state;\n\n    return (\n      <InlinePopover\n        open={this.props.open}\n        anchorEl={this.props.anchorEl}\n        onRequestClose={this.props.onRequestClose}\n      >\n        <ParameterComponent\n          instruction={instruction}\n          instructionMetadata={this.state.instructionMetadata}\n          parameterMetadata={this.state.parameterMetadata}\n          parameterIndex={this.props.parameterIndex}\n          value={instruction.getParameter(this.props.parameterIndex)}\n          onChange={this.props.onChange}\n          project={this.props.project}\n          layout={this.props.layout}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n          key={instruction.ptr}\n          ref={field => (this._field = field)}\n          parameterRenderingService={ParameterRenderingService}\n          isInline\n          resourceSources={this.props.resourceSources}\n          onChooseResource={this.props.onChooseResource}\n          resourceExternalEditors={this.props.resourceExternalEditors}\n        />\n      </InlinePopover>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport PlaceholderMessage from '../UI/PlaceholderMessage';\nimport HelpButton from '../UI/HelpButton';\n\nconst EmptyEventsPlaceholder = () => (\n  <PlaceholderMessage>\n    <p>\n      <Trans>\n        There are no events here. Events are composed of conditions and actions.\n      </Trans>\n    </p>\n    <p>\n      <Trans>\n        Add your first event using the first buttons of the toolbar.\n      </Trans>\n    </p>\n    <HelpButton helpPagePath=\"/events\" />\n  </PlaceholderMessage>\n);\n\nexport default EmptyEventsPlaceholder;\n","//@flow\nconst gd = global.gd;\n\nexport const ensureSingleOnceInstructions = (\n  instructionsList: gdInstructionsList\n) => {\n  let hasEndingOnceInstruction = false;\n  let hasInvalidOnce = false;\n  for (let i = instructionsList.size() - 1; i >= 0; --i) {\n    const instruction = instructionsList.get(i);\n    if (i === instructionsList.size() - 1) {\n      if (instruction.getType() === 'BuiltinCommonInstructions::Once') {\n        hasEndingOnceInstruction = true;\n      }\n    } else {\n      if (instruction.getType() === 'BuiltinCommonInstructions::Once') {\n        instructionsList.removeAt(i);\n        hasInvalidOnce = true;\n      }\n    }\n  }\n\n  if (hasInvalidOnce && !hasEndingOnceInstruction) {\n    const onceInstruction = new gd.Instruction();\n    onceInstruction.setType('BuiltinCommonInstructions::Once');\n    instructionsList.insert(onceInstruction, instructionsList.size());\n    onceInstruction.delete();\n  }\n\n  return hasInvalidOnce;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\n\nexport type EventsContextResult = {|\n  objectsNames: Array<string>,\n  objectOrGroupNames: Array<string>,\n  objectOrGroupBehaviorNames: {\n    [string]: Array<string>,\n  },\n|};\n\n// Store in a EventsContextResult the content of a gd.EventsContext.\n// In theory not necessary, but easier than storing,\n// passing around, and properly delete a gd.EventsContext.\nexport const toEventsContextResult = (\n  eventsContext: gdEventsContext\n): EventsContextResult => {\n  const objectsNames = eventsContext\n    .getObjectNames()\n    .toNewVectorString()\n    .toJSArray();\n  const objectOrGroupNames = eventsContext\n    .getReferencedObjectOrGroupNames()\n    .toNewVectorString()\n    .toJSArray();\n\n  const objectOrGroupBehaviorNames = {};\n  objectOrGroupNames.forEach(objectOrGroupName => {\n    const behaviorNames = eventsContext\n      .getBehaviorNamesOfObjectOrGroup(objectOrGroupName)\n      .toNewVectorString()\n      .toJSArray();\n\n    if (behaviorNames.length) {\n      objectOrGroupBehaviorNames[objectOrGroupName] = behaviorNames;\n    }\n  });\n\n  return {\n    objectsNames,\n    objectOrGroupNames,\n    objectOrGroupBehaviorNames,\n  };\n};\n\ntype Props = {|\n  onClose: () => void,\n  eventsContextResult: EventsContextResult,\n|};\n\nexport default class EventsContextAnalyzerDialog extends React.Component<\n  Props,\n  {}\n> {\n  render() {\n    const { onClose, eventsContextResult } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        primary={true}\n        onClick={this.props.onClose}\n      />,\n    ];\n\n    return (\n      <Dialog actions={actions} open onRequestClose={onClose}>\n        <p>\n          <Trans>\n            Objects or groups being directly referenced in the events:{' '}\n            {eventsContextResult.objectOrGroupNames.join(', ')}\n          </Trans>\n        </p>\n        <p>\n          <Trans>\n            All objects potentially used in events:{' '}\n            {eventsContextResult.objectsNames.join(', ')}\n          </Trans>\n        </p>\n        <p>\n          <Trans>All behaviors being directly referenced in the events:</Trans>{' '}\n          {Object.keys(eventsContextResult.objectOrGroupBehaviorNames).map(\n            objectOrGroupName => {\n              return (\n                <Trans key={objectOrGroupName}>\n                  Behaviors of {objectOrGroupName}:{' '}\n                  {eventsContextResult.objectOrGroupBehaviorNames[\n                    objectOrGroupName\n                  ].join(', ')}\n                  ;{' '}\n                </Trans>\n              );\n            }\n          )}\n        </p>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { PureComponent } from 'react';\nimport Paper from 'material-ui/Paper';\nimport TextField from 'material-ui/TextField';\nimport { Line, Column } from '../UI/Grid';\nimport FlatButton from 'material-ui/FlatButton';\nimport ChevronLeft from 'material-ui/svg-icons/navigation/chevron-left';\nimport ChevronRight from 'material-ui/svg-icons/navigation/chevron-right';\nimport IconButton from 'material-ui/IconButton';\nimport InlineCheckbox from '../UI/InlineCheckbox';\nimport {\n  type SearchInEventsInputs,\n  type ReplaceInEventsInputs,\n} from './EventsSearcher';\n\ntype Props = {|\n  onSearchInEvents: SearchInEventsInputs => void,\n  onReplaceInEvents: ReplaceInEventsInputs => void,\n  resultsCount: ?number,\n  hasEventSelected: boolean,\n  onGoToPreviousSearchResult: () => ?gdBaseEvent,\n  onGoToNextSearchResult: () => ?gdBaseEvent,\n|};\ntype State = {|\n  searchText: string,\n  replaceText: string,\n  matchCase: boolean,\n  searchInActions: boolean,\n  searchInConditions: boolean,\n  searchInSelection: boolean,\n|};\n\nexport default class SearchPanel extends PureComponent<Props, State> {\n  searchTextField: ?TextField;\n  state = {\n    searchText: '',\n    replaceText: '',\n    matchCase: false,\n    searchInActions: true,\n    searchInConditions: true,\n    searchInSelection: false,\n  };\n\n  focus = () => {\n    if (this.searchTextField) {\n      this.searchTextField.focus();\n    }\n  };\n\n  launchSearch = () => {\n    const {\n      searchText,\n      searchInSelection,\n      matchCase,\n      searchInActions,\n      searchInConditions,\n    } = this.state;\n    this.props.onSearchInEvents({\n      searchInSelection,\n      searchText,\n      matchCase,\n      searchInActions,\n      searchInConditions,\n    });\n  };\n\n  launchReplace = () => {\n    const {\n      searchText,\n      replaceText,\n      searchInSelection,\n      matchCase,\n      searchInActions,\n      searchInConditions,\n    } = this.state;\n\n    this.launchSearch();\n\n    this.props.onReplaceInEvents({\n      searchInSelection,\n      searchText,\n      replaceText,\n      matchCase,\n      searchInActions,\n      searchInConditions,\n    });\n  };\n\n  render() {\n    const {\n      resultsCount,\n      hasEventSelected,\n      onGoToPreviousSearchResult,\n      onGoToNextSearchResult,\n    } = this.props;\n    const { searchText, replaceText, searchInSelection } = this.state;\n\n    return (\n      <Paper>\n        <Column>\n          <Line alignItems=\"baseline\">\n            <TextField\n              ref={_searchTextField =>\n                (this.searchTextField = _searchTextField)\n              }\n              hintText={<Trans>Text to search</Trans>}\n              onChange={(e, searchText) => this.setState({ searchText })}\n              value={searchText}\n              fullWidth\n            />\n            <FlatButton\n              disabled={!searchText}\n              primary\n              label={<Trans>Search</Trans>}\n              onClick={this.launchSearch}\n            />\n          </Line>\n          <Line alignItems=\"baseline\">\n            <TextField\n              hintText={<Trans>Text to replace</Trans>}\n              onChange={(e, replaceText) => this.setState({ replaceText })}\n              value={replaceText}\n              fullWidth\n            />\n            <FlatButton\n              disabled={\n                !replaceText ||\n                !searchText ||\n                (!hasEventSelected && searchInSelection)\n              }\n              label={<Trans>Replace</Trans>}\n              onClick={this.launchReplace}\n            />\n          </Line>\n          <Line noMargin alignItems=\"center\" justifyContent=\"space-between\">\n            <Line noMargin alignItems=\"center\">\n              <InlineCheckbox\n                label={<Trans>Case insensitive</Trans>}\n                checked={!this.state.matchCase}\n                onCheck={(e, checked) => this.setState({ matchCase: !checked })}\n              />\n              <p>\n                <Trans>Filter by</Trans>\n              </p>\n              <InlineCheckbox\n                label={<Trans>Conditions</Trans>}\n                checked={this.state.searchInConditions}\n                onCheck={(e, checked) =>\n                  this.setState({ searchInConditions: checked })\n                }\n              />\n              <InlineCheckbox\n                label={<Trans>Actions</Trans>}\n                checked={this.state.searchInActions}\n                onCheck={(e, checked) =>\n                  this.setState({ searchInActions: checked })\n                }\n              />\n              {/* <InlineCheckbox //TODO: Implement search/replace in selection\n                label={<Trans>Replace in selection</Trans>}\n                checked={this.state.searchInSelection}\n                onCheck={(e, checked) =>\n                  this.setState({ searchInSelection: checked })}\n              /> */}\n            </Line>\n            <Line noMargin alignItems=\"center\">\n              <p>\n                {resultsCount === null || resultsCount === undefined\n                  ? ''\n                  : resultsCount !== 0\n                  ? `${resultsCount} results`\n                  : `No results`}\n              </p>\n              <IconButton\n                disabled={!resultsCount}\n                onClick={() => onGoToPreviousSearchResult()}\n              >\n                <ChevronLeft />\n              </IconButton>\n              <IconButton\n                disabled={!resultsCount}\n                onClick={() => onGoToNextSearchResult()}\n              >\n                <ChevronRight />\n              </IconButton>\n            </Line>\n          </Line>\n        </Column>\n      </Paper>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { type SelectionState } from './SelectionHandler';\nimport { mapFor } from '../Utils/MapFor';\nimport uniqBy from 'lodash/uniqBy';\nconst gd = global.gd;\n\nexport type SearchInEventsInputs = {|\n  searchInSelection: boolean,\n  searchText: string,\n  matchCase: boolean,\n  searchInConditions: boolean,\n  searchInActions: boolean,\n|};\n\nexport type ReplaceInEventsInputs = {|\n  searchInSelection: boolean,\n  searchText: string,\n  replaceText: ?string,\n  matchCase: boolean,\n  searchInConditions: boolean,\n  searchInActions: boolean,\n|};\n\ntype State = {|\n  eventsSearchResults: ?gdVectorEventsSearchResult,\n  searchFocusOffset: ?number,\n|};\n\ntype Props = {|\n  globalObjectsContainer: gdProject,\n  objectsContainer: gdLayout,\n  events: gdEventsList,\n  selection: SelectionState,\n  children: (props: {|\n    eventsSearchResultEvents: ?Array<gdBaseEvent>,\n    searchFocusOffset: ?number,\n    searchInEvents: (SearchInEventsInputs, cb: () => void) => void,\n    replaceInEvents: ReplaceInEventsInputs => void,\n    goToNextSearchResult: () => ?gdBaseEvent,\n    goToPreviousSearchResult: () => ?gdBaseEvent,\n  |}) => React.Node,\n|};\n\n/**\n * Component allowing to do search in events and pass the results\n * to its children components, as well as methods to browse the results.\n */\nexport default class EventsSearcher extends React.Component<Props, State> {\n  state = {\n    eventsSearchResults: null, // The list of results\n    searchFocusOffset: null,\n  };\n\n  // The list containing the raw events results. Should be derived from this.state.eventsSearchResults using\n  // this._updateListOfResultEvents before being used.\n  _resultEvents: ?Array<gdBaseEvent> = null;\n\n  componentWillUnmount() {\n    if (this.state.eventsSearchResults) this.state.eventsSearchResults.delete();\n  }\n\n  reset() {\n    if (this.state.eventsSearchResults) this.state.eventsSearchResults.delete();\n\n    this._resultEvents = null;\n    this.setState({\n      eventsSearchResults: null,\n      searchFocusOffset: null,\n    });\n  }\n\n  _doReplaceInEvents = ({\n    searchInSelection,\n    searchText,\n    replaceText,\n    matchCase,\n    searchInConditions,\n    searchInActions,\n  }: ReplaceInEventsInputs) => {\n    const { globalObjectsContainer, objectsContainer, events } = this.props;\n\n    if (searchInSelection) {\n      // Replace in selection is a bit tricky to implement as it requires to have a list\n      // of events (gd.EventsList) pointing to the same events. Need some workaround/helper\n      // function to be done in C++.\n      console.error('Replace in selection is not implemented yet');\n    }\n\n    gd.EventsRefactorer.replaceStringInEvents(\n      globalObjectsContainer,\n      objectsContainer,\n      events,\n      searchText,\n      replaceText,\n      matchCase,\n      searchInConditions,\n      searchInActions\n    );\n  };\n\n  _doSearchInEvents = (\n    {\n      searchInSelection,\n      searchText,\n      matchCase,\n      searchInConditions,\n      searchInActions,\n    }: SearchInEventsInputs,\n    cb: () => void\n  ) => {\n    const { globalObjectsContainer, objectsContainer, events } = this.props;\n\n    if (searchInSelection) {\n      // Search in selection is a bit tricky to implement as it requires to have a list\n      // of events (gd.EventsList) pointing to the same events. Need some workaround/helper\n      // function to be done in C++.\n      console.error('Search in selection is not implemented yet');\n    }\n\n    const newEventsSearchResults = gd.EventsRefactorer.searchInEvents(\n      globalObjectsContainer,\n      objectsContainer,\n      events,\n      searchText,\n      matchCase,\n      searchInConditions,\n      searchInActions\n    );\n\n    if (this.state.eventsSearchResults) {\n      this.state.eventsSearchResults.delete();\n    }\n    this.setState(\n      {\n        eventsSearchResults: newEventsSearchResults.clone(),\n        searchFocusOffset: null,\n      },\n      () => {\n        this._updateListOfResultEvents();\n        cb();\n      }\n    );\n  };\n\n  _updateListOfResultEvents = () => {\n    const { eventsSearchResults } = this.state;\n    if (!eventsSearchResults) {\n      this._resultEvents = null;\n      return;\n    }\n\n    const resultEventsWithDuplicates = mapFor(\n      0,\n      eventsSearchResults.size(),\n      i => {\n        const eventsSearchResult = eventsSearchResults.at(i);\n        return eventsSearchResult.isEventValid()\n          ? eventsSearchResult.getEvent()\n          : null;\n      }\n    ).filter(Boolean);\n\n    // Store a list of unique events, because browsing for results in the events\n    // tree is made event by event.\n    this._resultEvents = uniqBy(resultEventsWithDuplicates, event => event.ptr);\n  };\n\n  _goToSearchResults = (step: number): ?gdBaseEvent => {\n    this._updateListOfResultEvents();\n    if (!this._resultEvents || this._resultEvents.length === 0) {\n      this.setState({ searchFocusOffset: null });\n      return null;\n    }\n\n    let newSearchFocusOffset =\n      this.state.searchFocusOffset === null\n        ? 0\n        : ((this.state.searchFocusOffset || 0) + step) %\n          this._resultEvents.length;\n    if (newSearchFocusOffset < 0)\n      newSearchFocusOffset += this._resultEvents.length;\n\n    const event = this._resultEvents[newSearchFocusOffset];\n    setTimeout(\n      // Change the offset on next tick to give a chance to children to unfold events before focusing it.\n      () => this.setState({ searchFocusOffset: newSearchFocusOffset }),\n      0\n    );\n    return event;\n  };\n\n  _goToPreviousSearchResult = (): ?gdBaseEvent => {\n    return this._goToSearchResults(-1);\n  };\n\n  _goToNextSearchResult = (): ?gdBaseEvent => {\n    return this._goToSearchResults(+1);\n  };\n\n  render() {\n    return this.props.children({\n      eventsSearchResultEvents: this._resultEvents,\n      searchFocusOffset: this.state.searchFocusOffset,\n      searchInEvents: this._doSearchInEvents,\n      replaceInEvents: this._doReplaceInEvents,\n      goToNextSearchResult: this._goToNextSearchResult,\n      goToPreviousSearchResult: this._goToPreviousSearchResult,\n    });\n  }\n}\n","const gd = global.gd;\n\nexport const containsSubInstructions = (\n  instruction: gdInstruction,\n  instructionsList: gdInstructionsList\n) => {\n  const subInstructionsList = instruction.getSubInstructions();\n  if (gd.compare(subInstructionsList, instructionsList)) return true;\n\n  for (let i = 0; i < subInstructionsList.size(); ++i) {\n    const subInstruction = subInstructionsList.get(i);\n    if (containsSubInstructions(subInstruction, instructionsList)) return true;\n  }\n\n  return false;\n};\n","// @flow\n\nimport flatten from 'lodash/flatten';\nimport { mapFor } from '../Utils/MapFor';\nconst gd = global.gd;\n\nexport type EventMetadata = {|\n  type: string,\n  fullName: string,\n  description: string,\n|};\n\nexport const enumerateEventsMetadata = (): Array<EventMetadata> => {\n  const allExtensions = gd\n    .asPlatform(gd.JsPlatform.get())\n    .getAllPlatformExtensions();\n\n  return flatten(\n    mapFor(0, allExtensions.size(), i => {\n      const extension = allExtensions.get(i);\n      const extensionEvents = extension.getAllEvents();\n\n      return extensionEvents\n        .keys()\n        .toJSArray()\n        .map(type => {\n          const metadata = extensionEvents.get(type);\n          return {\n            type,\n            fullName: metadata.getFullName(),\n            description: metadata.getDescription(),\n          };\n        });\n    })\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport { enumerateEventsFunctionsExtensions } from '../../ProjectManager/EnumerateProjectItems';\nimport { Line, Column, Spacer } from '../../UI/Grid';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport Divider from 'material-ui/Divider';\nimport {\n  setupFunctionFromEvents,\n  canCreateEventsFunction,\n  functionHasLotsOfParameters,\n  validateExtensionNameUniqueness,\n  validateExtensionName,\n  validateEventsFunctionNameUniqueness,\n  validateEventsFunctionName,\n} from '.';\nimport AlertMessage from '../../UI/AlertMessage';\nimport DismissableAlertMessage from '../../UI/DismissableAlertMessage';\nimport EventsFunctionParametersEditor from '../../EventsFunctionsExtensionEditor/EventsFunctionConfigurationEditor/EventsFunctionParametersEditor';\nimport EventsFunctionPropertiesEditor from '../../EventsFunctionsExtensionEditor/EventsFunctionConfigurationEditor/EventsFunctionPropertiesEditor';\nimport HelpButton from '../../UI/HelpButton';\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  serializedEvents: Object,\n  onClose: () => void,\n  onCreate: (extensionName: string, eventsFunction: gdEventsFunction) => void,\n|};\n\ntype State = {|\n  eventsFunction: ?gdEventsFunction,\n  extensionName: string,\n  createNewExtension: boolean,\n|};\n\nconst CREATE_NEW_EXTENSION_PLACEHOLDER = '<create a new extension>';\n\nexport default class EventsFunctionExtractorDialog extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    eventsFunction: null,\n    extensionName: '',\n    createNewExtension: false,\n  };\n\n  componentDidMount() {\n    const {\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      serializedEvents,\n    } = this.props;\n\n    // Set up the function\n    const eventsFunction = new gd.EventsFunction();\n    setupFunctionFromEvents({\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      serializedEvents,\n      eventsFunction,\n    });\n    this.setState({\n      eventsFunction,\n    });\n\n    // Prepopulate the form\n    const eventsFunctionsExtensions = enumerateEventsFunctionsExtensions(\n      project\n    );\n    if (eventsFunctionsExtensions.length === 0) {\n      this.setState({\n        createNewExtension: true,\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    const { eventsFunction } = this.state;\n    if (eventsFunction) eventsFunction.delete();\n  }\n\n  render() {\n    const { project, onClose, onCreate } = this.props;\n    const { eventsFunction, extensionName, createNewExtension } = this.state;\n    if (!eventsFunction) return null;\n\n    const eventsFunctionsExtensions = enumerateEventsFunctionsExtensions(\n      project\n    );\n    const hasLotsOfParameters = functionHasLotsOfParameters(eventsFunction);\n\n    return (\n      <Dialog\n        title={<Trans>Extract the events in a function</Trans>}\n        secondaryActions={\n          <HelpButton helpPagePath=\"/events/functions/extract-events\" />\n        }\n        actions={[\n          <FlatButton\n            key=\"cancel\"\n            label={<Trans>Cancel</Trans>}\n            onClick={onClose}\n          />,\n          <FlatButton\n            key=\"create\"\n            label={<Trans>Create</Trans>}\n            primary\n            disabled={\n              !canCreateEventsFunction(project, extensionName, eventsFunction)\n            }\n            onClick={() => onCreate(extensionName, eventsFunction)}\n          />,\n        ]}\n        open\n        onRequestClose={onClose}\n        autoScrollBodyContent\n        noMargin\n      >\n        <Column noMargin>\n          <Column>\n            <DismissableAlertMessage\n              identifier=\"function-extractor-explanation\"\n              kind=\"info\"\n            >\n              After creating a function, it will be usable in the events sheet.\n              Functions are grouped by extensions. Choose, or enter the name of\n              a new extension, and a function name, then configure the function\n              and its parameters.\n            </DismissableAlertMessage>\n            <Line noMargin>\n              <Column noMargin expand>\n                <SelectField\n                  floatingLabelText={\n                    <Trans>Extension (storing the function)</Trans>\n                  }\n                  value={\n                    createNewExtension\n                      ? CREATE_NEW_EXTENSION_PLACEHOLDER\n                      : extensionName\n                  }\n                  onChange={(e, index, extensionName) => {\n                    if (extensionName === CREATE_NEW_EXTENSION_PLACEHOLDER) {\n                      this.setState({\n                        createNewExtension: true,\n                        extensionName: '',\n                      });\n                    } else {\n                      this.setState({\n                        createNewExtension: false,\n                        extensionName,\n                      });\n                    }\n                  }}\n                  fullWidth\n                >\n                  {eventsFunctionsExtensions.map(eventsFunctionsExtension => (\n                    <MenuItem\n                      key={eventsFunctionsExtension.getName()}\n                      value={eventsFunctionsExtension.getName()}\n                      primaryText={eventsFunctionsExtension.getFullName()}\n                    />\n                  ))}\n                  <Divider />\n                  <MenuItem\n                    value={CREATE_NEW_EXTENSION_PLACEHOLDER}\n                    primaryText={<Trans>&lt;Create a New Extension&gt;</Trans>}\n                  />\n                </SelectField>\n              </Column>\n              {createNewExtension ? (\n                <Column noMargin expand>\n                  <SemiControlledTextField\n                    commitOnBlur\n                    value={extensionName}\n                    floatingLabelText={<Trans>New extension name</Trans>}\n                    onChange={(extensionName: string) =>\n                      this.setState({ extensionName })\n                    }\n                    fullWidth\n                    errorText={\n                      !validateExtensionNameUniqueness(\n                        project,\n                        extensionName\n                      ) ? (\n                        <Trans>\n                          This name is already taken by another extension.\n                        </Trans>\n                      ) : !validateExtensionName(extensionName) ? (\n                        <Trans>\n                          This name is not valid. Only use alphanumeric\n                          characters (0-9, a-z) and underscores.\n                        </Trans>\n                      ) : (\n                        undefined\n                      )\n                    }\n                  />\n                </Column>\n              ) : null}\n            </Line>\n            <Line>\n              <SemiControlledTextField\n                commitOnBlur\n                value={eventsFunction.getName()}\n                floatingLabelText={<Trans>Function name</Trans>}\n                onChange={(functionName: string) => {\n                  eventsFunction.setName(functionName);\n                  this.forceUpdate();\n                }}\n                fullWidth\n                errorText={\n                  !validateEventsFunctionNameUniqueness(\n                    project,\n                    extensionName,\n                    eventsFunction\n                  ) ? (\n                    <Trans>\n                      This name is already taken by another function. Choose\n                      another name.\n                    </Trans>\n                  ) : !validateEventsFunctionName(eventsFunction.getName()) ? (\n                    <Trans>\n                      This name is not valid. Only use alphanumeric characters\n                      (0-9, a-z) and underscores.\n                    </Trans>\n                  ) : (\n                    undefined\n                  )\n                }\n              />\n            </Line>\n            {hasLotsOfParameters ? (\n              <Line>\n                <AlertMessage kind=\"warning\">\n                  <Trans>\n                    This function will have a lot of parameters. Consider\n                    creating groups or functions for a smaller set of objects so\n                    that the function is easier to reuse.\n                  </Trans>\n                </AlertMessage>\n              </Line>\n            ) : null}\n          </Column>\n          <EventsFunctionPropertiesEditor\n            eventsFunction={eventsFunction}\n            onConfigurationUpdated={() => {\n              // Force re-running logic to see if Create button is disabled.\n              this.forceUpdate();\n            }}\n            freezeEventsFunctionType\n          />\n          <Spacer />\n          <EventsFunctionParametersEditor\n            project={project}\n            eventsFunction={eventsFunction}\n            onParametersUpdated={() => {\n              // Force the dialog to adapt its size\n              this.forceUpdate();\n            }}\n            freezeParameters\n          />\n        </Column>\n      </Dialog>\n    );\n  }\n}\n","// @flow\n\nexport default function getObjectGroupByName(\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  objectGroupName: string\n): ?gdObjectGroup {\n  if (objectsContainer.getObjectGroups().has(objectGroupName)) {\n    return objectsContainer.getObjectGroups().get(objectGroupName);\n  } else if (globalObjectsContainer.getObjectGroups().has(objectGroupName)) {\n    return globalObjectsContainer.getObjectGroups().get(objectGroupName);\n  }\n\n  return null;\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport EventsSheet from '../EventsSheet';\nimport EditorMosaic, { MosaicWindow } from '../UI/EditorMosaic';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport EventsFunctionConfigurationEditor from './EventsFunctionConfigurationEditor';\nimport EventsFunctionsList from '../EventsFunctionsList';\nimport Background from '../UI/Background';\nimport OptionsEditorDialog from './OptionsEditorDialog';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  setToolbar: (?React.Node) => void,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n  onCreateEventsFunction: (\n    extensionName: string,\n    eventsFunction: gdEventsFunction\n  ) => void,\n  initiallyFocusedFunctionName: ?string,\n|};\n\ntype State = {|\n  selectedEventsFunction: ?gdEventsFunction,\n  editOptionsDialogOpen: boolean,\n|};\n\nexport default class EventsFunctionsExtensionEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    selectedEventsFunction: null,\n    editOptionsDialogOpen: false,\n  };\n  editor: ?EventsSheet;\n  _editors: ?EditorMosaic;\n  _globalObjectsContainer: ?gdObjectsContainer;\n  _objectsContainer: ?gdObjectsContainer;\n\n  componentDidMount() {\n    if (this.props.initiallyFocusedFunctionName) {\n      this.selectEventsFunctionByName(this.props.initiallyFocusedFunctionName);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._globalObjectsContainer) this._globalObjectsContainer.delete();\n    if (this._objectsContainer) this._objectsContainer.delete();\n  }\n\n  _loadEventsFunctionFrom = (\n    project: gdProject,\n    eventsFunction: gdEventsFunction\n  ) => {\n    // Create an empty \"context\" of objects.\n    // Avoid recreating containers if they were already created, so that\n    // we keep the same objects in memory and avoid remounting components\n    // (like ObjectGroupsList) because objects \"ptr\" changed.\n    if (!this._globalObjectsContainer) {\n      this._globalObjectsContainer = new gd.ObjectsContainer();\n    }\n\n    if (!this._objectsContainer) {\n      this._objectsContainer = new gd.ObjectsContainer();\n    }\n\n    // Initialize this \"context\" of objects with the function\n    // (as done during code generation).\n    gd.EventsFunctionTools.eventsFunctionToObjectsContainer(\n      project,\n      eventsFunction,\n      this._objectsContainer\n    );\n  };\n\n  updateToolbar() {\n    if (this.editor) {\n      this.editor.updateToolbar();\n    } else {\n      this.props.setToolbar(<div />);\n    }\n  }\n\n  selectEventsFunctionByName = (name: string) => {\n    const { eventsFunctionsExtension } = this.props;\n    if (eventsFunctionsExtension.hasEventsFunctionNamed(name)) {\n      this._selectEventsFunction(\n        eventsFunctionsExtension.getEventsFunction(name)\n      );\n    }\n  };\n\n  _selectEventsFunction = (selectedEventsFunction: ?gdEventsFunction) => {\n    if (!selectedEventsFunction) {\n      this.setState(\n        {\n          selectedEventsFunction: null,\n        },\n        () => this.updateToolbar()\n      );\n      return;\n    }\n\n    this._loadEventsFunctionFrom(this.props.project, selectedEventsFunction);\n    this.setState(\n      {\n        selectedEventsFunction,\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  _makeRenameEventsFunction = (i18n: I18nType) => (\n    eventsFunction: gdEventsFunction,\n    newName: string,\n    done: boolean => void\n  ) => {\n    if (!gd.Project.validateObjectName(newName)) {\n      showWarningBox(\n        i18n._(\n          t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your function name.`\n        )\n      );\n      return;\n    }\n\n    const { project, eventsFunctionsExtension } = this.props;\n    gd.WholeProjectRefactorer.renameEventsFunction(\n      project,\n      eventsFunctionsExtension,\n      eventsFunction.getName(),\n      newName\n    );\n\n    done(true);\n  };\n\n  _onDeleteEventsFunction = (\n    eventsFunction: gdEventsFunction,\n    cb: boolean => void\n  ) => {\n    if (\n      this.state.selectedEventsFunction &&\n      gd.compare(eventsFunction, this.state.selectedEventsFunction)\n    ) {\n      this._selectEventsFunction(null);\n    }\n\n    cb(true);\n  };\n\n  _editOptions = (open: boolean = true) => {\n    this.setState({\n      editOptionsDialogOpen: open,\n    });\n  };\n\n  render() {\n    const { project, eventsFunctionsExtension } = this.props;\n    const { selectedEventsFunction, editOptionsDialogOpen } = this.state;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <React.Fragment>\n            <EditorMosaic\n              ref={editors => (this._editors = editors)}\n              editors={{\n                parameters: (\n                  <MosaicWindow\n                    title={<Trans>Function Configuration</Trans>}\n                    toolbarControls={[]}\n                    // /!\\ Force re-rendering if selectedEventsFunction, globalObjectsContainer\n                    // or objectsContainer change,\n                    // otherwise we risk using deleted objects (because of the shouldComponentUpdate\n                    // optimization in MosaicWindow).\n                    selectedEventsFunction={selectedEventsFunction}\n                    globalObjectsContainer={this._globalObjectsContainer}\n                    objectsContainer={this._objectsContainer}\n                  >\n                    <Background>\n                      {selectedEventsFunction &&\n                      this._globalObjectsContainer &&\n                      this._objectsContainer ? (\n                        <EventsFunctionConfigurationEditor\n                          project={project}\n                          eventsFunction={selectedEventsFunction}\n                          globalObjectsContainer={this._globalObjectsContainer}\n                          objectsContainer={this._objectsContainer}\n                          helpPagePath=\"/events/functions\"\n                          onParametersOrGroupsUpdated={() => {\n                            this._loadEventsFunctionFrom(\n                              project,\n                              selectedEventsFunction\n                            );\n                            this.forceUpdate();\n                          }}\n                        />\n                      ) : (\n                        <EmptyMessage>\n                          <Trans>\n                            Choose a function to set the parameters that it\n                            accepts.\n                          </Trans>\n                        </EmptyMessage>\n                      )}\n                    </Background>\n                  </MosaicWindow>\n                ),\n                'events-sheet':\n                  selectedEventsFunction &&\n                  this._globalObjectsContainer &&\n                  this._objectsContainer ? (\n                    <EventsSheet\n                      key={selectedEventsFunction.ptr}\n                      ref={editor => (this.editor = editor)}\n                      project={project}\n                      layout={null}\n                      globalObjectsContainer={this._globalObjectsContainer}\n                      objectsContainer={this._objectsContainer}\n                      events={selectedEventsFunction.getEvents()}\n                      showPreviewButton={false}\n                      onPreview={options => {}}\n                      showNetworkPreviewButton={false}\n                      onOpenExternalEvents={() => {}}\n                      onOpenLayout={() => {}}\n                      resourceSources={this.props.resourceSources}\n                      onChooseResource={this.props.onChooseResource}\n                      resourceExternalEditors={\n                        this.props.resourceExternalEditors\n                      }\n                      openInstructionOrExpression={\n                        this.props.openInstructionOrExpression\n                      }\n                      setToolbar={this.props.setToolbar}\n                      onOpenDebugger={() => {}}\n                      onCreateEventsFunction={this.props.onCreateEventsFunction}\n                    />\n                  ) : (\n                    <Background>\n                      <EmptyMessage>\n                        <Trans>Choose a function to edit its events.</Trans>\n                      </EmptyMessage>\n                    </Background>\n                  ),\n                'functions-list': (\n                  <MosaicWindow\n                    title={<Trans>Functions list</Trans>}\n                    toolbarControls={[]}\n                    selectedEventsFunction={selectedEventsFunction}\n                  >\n                    <EventsFunctionsList\n                      project={project}\n                      eventsFunctionsContainer={eventsFunctionsExtension}\n                      selectedEventsFunction={selectedEventsFunction}\n                      onSelectEventsFunction={this._selectEventsFunction}\n                      onDeleteEventsFunction={this._onDeleteEventsFunction}\n                      onRenameEventsFunction={this._makeRenameEventsFunction(\n                        i18n\n                      )}\n                      onEditOptions={this._editOptions}\n                    />\n                  </MosaicWindow>\n                ),\n              }}\n              initialNodes={{\n                direction: 'row',\n                first: {\n                  direction: 'column',\n                  first: 'parameters',\n                  second: 'events-sheet',\n                  splitPercentage: 25,\n                },\n                second: 'functions-list',\n                splitPercentage: 66,\n              }}\n            />\n            {editOptionsDialogOpen && (\n              <OptionsEditorDialog\n                eventsFunctionsExtension={eventsFunctionsExtension}\n                open\n                onClose={() => this._editOptions(false)}\n              />\n            )}\n          </React.Fragment>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport IconButton from 'material-ui/IconButton';\nimport Remove from 'material-ui/svg-icons/content/remove';\nimport ObjectSelector from '../ObjectsList/ObjectSelector';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport { Column } from '../UI/Grid';\nconst gd = global.gd;\n\ntype Props = {|\n  group: gdObjectGroup,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  onSizeUpdated?: () => void,\n|};\n\ntype State = {|\n  newObjectName: string,\n|};\n\nexport default class ObjectGroupEditor extends React.Component<Props, State> {\n  state = {\n    newObjectName: '',\n  };\n\n  removeObject = (objectName: string) => {\n    const { group, onSizeUpdated } = this.props;\n\n    group.removeObject(objectName);\n\n    this.forceUpdate();\n    if (onSizeUpdated) onSizeUpdated();\n  };\n\n  addObject = (objectName: string) => {\n    const { group, onSizeUpdated } = this.props;\n\n    group.addObject(objectName);\n    this.setState({\n      newObjectName: '',\n    });\n    if (onSizeUpdated) onSizeUpdated();\n  };\n\n  _renderExplanation() {\n    const { group, globalObjectsContainer, objectsContainer } = this.props;\n\n    let type = undefined;\n    group\n      .getAllObjectsNames()\n      .toJSArray()\n      .forEach(objectName => {\n        const objectType = gd.getTypeOfObject(\n          globalObjectsContainer,\n          objectsContainer,\n          objectName,\n          false\n        );\n        if (type === undefined || objectType === type) type = objectType;\n        else type = '';\n      });\n\n    let message = '';\n    if (type === undefined) {\n      message = 'This group is empty';\n    } else if (type === '') {\n      message =\n        \"This group contains objects of different kinds. You'll only be able to use actions and conditions common to all objects with this group.\";\n    } else {\n      message = `This group contains objects of the same kind (${type}). You can use actions and conditions related to this kind of objects in events with this group.`;\n    }\n\n    return <EmptyMessage>{message}</EmptyMessage>;\n  }\n\n  render() {\n    const { group, globalObjectsContainer, objectsContainer } = this.props;\n\n    return (\n      <div>\n        {this._renderExplanation()}\n        <List>\n          {group\n            .getAllObjectsNames()\n            .toJSArray()\n            .map(objectName => {\n              return (\n                <ListItem\n                  key={objectName}\n                  primaryText={objectName}\n                  rightIconButton={\n                    <IconButton onClick={() => this.removeObject(objectName)}>\n                      <Remove />\n                    </IconButton>\n                  }\n                />\n              );\n            })}\n        </List>\n        <Column>\n          <ObjectSelector\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            value={this.state.newObjectName}\n            onChange={name => this.setState({ newObjectName: name })}\n            onChoose={this.addObject}\n            openOnFocus\n            noGroups\n            hintText={<Trans>Choose an object to add to the group</Trans>}\n            fullWidth\n          />\n        </Column>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport TextField from 'material-ui/TextField';\nimport { Column } from '../UI/Grid';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\n\ntype Props = {|\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  onClose: () => void,\n  open: boolean,\n|};\ntype State = {||};\n\nexport default class OptionsEditorDialog extends React.Component<Props, State> {\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={() => this.props.onClose()}\n      />,\n    ];\n\n    const { eventsFunctionsExtension } = this.props;\n\n    return (\n      <Dialog\n        secondaryActions={<HelpButton helpPagePath=\"/events/functions\" />}\n        actions={actions}\n        open={this.props.open}\n        title={<Trans>Edit Extension Options</Trans>}\n        onRequestClose={this.props.onClose}\n        autoScrollBodyContent={true}\n      >\n        <Column>\n          <TextField\n            floatingLabelText={<Trans>Name</Trans>}\n            value={eventsFunctionsExtension.getName()}\n            disabled\n            fullWidth\n          />\n          <TextField\n            floatingLabelText={<Trans>Name displayed in editor</Trans>}\n            value={eventsFunctionsExtension.getFullName()}\n            onChange={(e, text) => {\n              eventsFunctionsExtension.setFullName(text);\n              this.forceUpdate();\n            }}\n            fullWidth\n          />\n          <TextField\n            floatingLabelText={<Trans>Description</Trans>}\n            value={eventsFunctionsExtension.getDescription()}\n            onChange={(e, text) => {\n              eventsFunctionsExtension.setDescription(text);\n              this.forceUpdate();\n            }}\n            multiLine\n            fullWidth\n          />\n          <TextField\n            floatingLabelText={<Trans>Version</Trans>}\n            value={eventsFunctionsExtension.getVersion()}\n            onChange={(e, text) => {\n              eventsFunctionsExtension.setVersion(text);\n              this.forceUpdate();\n            }}\n            fullWidth\n          />\n        </Column>\n      </Dialog>\n    );\n  }\n}\n","import gesture from 'pixi-simple-gesture';\nimport ObjectsRenderingService from '../../ObjectsRendering/ObjectsRenderingService';\nimport getObjectByName from '../../Utils/GetObjectByName';\n\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\nexport default class LayerRenderer {\n  constructor({\n    project,\n    layout,\n    layer,\n    viewPosition,\n    instances,\n    onInstanceClicked,\n    onOverInstance,\n    onOutInstance,\n    onMoveInstance,\n    onMoveInstanceEnd,\n    onDownInstance,\n  }) {\n    this.project = project;\n    this.instances = instances;\n    this.layout = layout;\n    this.layer = layer; // /!\\ Don't store any other reference.\n    // `layer` can be changed at any moment (see InstancesRenderer).\n    this.viewPosition = viewPosition;\n    this.onInstanceClicked = onInstanceClicked;\n    this.onOverInstance = onOverInstance;\n    this.onOutInstance = onOutInstance;\n    this.onMoveInstance = onMoveInstance;\n    this.onMoveInstanceEnd = onMoveInstanceEnd;\n    this.onDownInstance = onDownInstance;\n\n    this.viewTopLeft = [0, 0]; // Used for instances culling on rendering\n    this.viewBottomRight = [0, 0]; // Used for instances culling on rendering\n\n    this.renderedInstances = {};\n    this.pixiContainer = new PIXI.Container();\n\n    // Functor used to render an instance\n    this.instancesRenderer = new gd.InitialInstanceJSFunctor();\n    this.instancesRenderer.invoke = instancePtr => {\n      const instance = gd.wrapPointer(instancePtr, gd.InitialInstance);\n\n      //Get the \"RendereredInstance\" object associated to the instance and tell it to update.\n      var renderedInstance = this.getRendererOfInstance(instance);\n      if (!renderedInstance) return;\n\n      const pixiObject = renderedInstance.getPixiObject();\n      if (pixiObject) pixiObject.zOrder = instance.getZOrder();\n      if (pixiObject) pixiObject.interactive = !instance.isLocked();\n\n      // \"Culling\" improves rendering performance of large levels\n      const isVisible = this._isInstanceVisible(instance);\n      if (pixiObject) pixiObject.visible = isVisible;\n      if (isVisible) renderedInstance.update();\n\n      renderedInstance.wasUsed = true;\n    };\n  }\n\n  getPixiContainer() {\n    return this.pixiContainer;\n  }\n\n  getInstanceLeft = instance => {\n    return (\n      instance.getX() -\n      (this.renderedInstances[instance.ptr]\n        ? this.renderedInstances[instance.ptr].getOriginX()\n        : 0)\n    );\n  };\n\n  getInstanceTop = instance => {\n    return (\n      instance.getY() -\n      (this.renderedInstances[instance.ptr]\n        ? this.renderedInstances[instance.ptr].getOriginY()\n        : 0)\n    );\n  };\n\n  getInstanceWidth = instance => {\n    if (instance.hasCustomSize()) return instance.getCustomWidth();\n\n    return this.renderedInstances[instance.ptr]\n      ? this.renderedInstances[instance.ptr].getDefaultWidth()\n      : 0;\n  };\n\n  getInstanceHeight = instance => {\n    if (instance.hasCustomSize()) return instance.getCustomHeight();\n\n    return this.renderedInstances[instance.ptr]\n      ? this.renderedInstances[instance.ptr].getDefaultHeight()\n      : 0;\n  };\n\n  getRendererOfInstance = instance => {\n    var renderedInstance = this.renderedInstances[instance.ptr];\n    if (renderedInstance === undefined) {\n      //No renderer associated yet, the instance must have been just created!...\n      const associatedObjectName = instance.getObjectName();\n      const associatedObject = getObjectByName(\n        this.project,\n        this.layout,\n        associatedObjectName\n      );\n      if (!associatedObject) return;\n\n      //...so let's create a renderer.\n      renderedInstance = this.renderedInstances[\n        instance.ptr\n      ] = ObjectsRenderingService.createNewInstanceRenderer(\n        this.project,\n        this.layout,\n        instance,\n        associatedObject,\n        this.pixiContainer\n      );\n\n      renderedInstance._pixiObject.interactive = true;\n      gesture.panable(renderedInstance._pixiObject);\n      renderedInstance._pixiObject.on('click', () => {\n        this.onInstanceClicked(instance);\n      });\n      renderedInstance._pixiObject.on('mouseover', () => {\n        this.onOverInstance(instance);\n      });\n      renderedInstance._pixiObject.on('mousedown', () => {\n        this.onDownInstance(instance);\n      });\n      renderedInstance._pixiObject.on('touchstart', () => {\n        this.onDownInstance(instance);\n      });\n      renderedInstance._pixiObject.on('mouseout', () => {\n        this.onOutInstance(instance);\n      });\n      renderedInstance._pixiObject.on('panmove', event => {\n        this.onMoveInstance(instance, event.deltaX, event.deltaY);\n      });\n      renderedInstance._pixiObject.on('panend', event => {\n        this.onMoveInstanceEnd();\n      });\n    }\n\n    return renderedInstance;\n  };\n\n  /**\n   * This returns true if an instance is visible according to the viewPosition.\n   * The approach is a naive bounding box testing but save rendering time on large\n   * levels.\n   * @param {*} instance\n   */\n  _isInstanceVisible(instance) {\n    //TODO: Properly handle rotation\n    const left = this.getInstanceLeft(instance);\n    const top = this.getInstanceTop(instance);\n    if (\n      left + this.getInstanceWidth(instance) < this.viewTopLeft[0] ||\n      top + this.getInstanceHeight(instance) < this.viewTopLeft[1] ||\n      left > this.viewBottomRight[0] ||\n      top > this.viewBottomRight[1]\n    )\n      return false;\n\n    return true;\n  }\n\n  _computeViewBounds() {\n    // Add a margin of 100 pixels around the view. Culling will hide PIXI objects,\n    // and hidden objects won't respond to events. Hence, a margin allow the cursor to go\n    // slightly out of the canvas when moving an instance, and still have the instance\n    // to follow the cursor.\n    const margin = 100;\n    this.viewTopLeft = this.viewPosition.toSceneCoordinates(-margin, -margin);\n    this.viewBottomRight = this.viewPosition.toSceneCoordinates(\n      this.viewPosition.getWidth() + margin,\n      this.viewPosition.getHeight() + margin\n    );\n  }\n\n  render() {\n    this._computeViewBounds();\n    this.instances.iterateOverInstancesWithZOrdering(\n      this.instancesRenderer,\n      this.layer.getName()\n    );\n    this._updatePixiObjectsZOrder();\n    this._updateVisibility();\n    this._cleanRenderers();\n  }\n\n  _updatePixiObjectsZOrder() {\n    this.pixiContainer.children.sort((a, b) => {\n      a.zOrder = a.zOrder || 0;\n      b.zOrder = b.zOrder || 0;\n      return a.zOrder - b.zOrder;\n    });\n  }\n\n  _updateVisibility() {\n    this.pixiContainer.visible = this.layer.getVisibility();\n  }\n\n  /**\n   * Delete instance renderers of the specified objects, which will then be recreated during\n   * the next render.\n   * @param {string} objectName The name of the object for which instance must be re-rendered.\n   */\n  resetRenderersFor(objectName) {\n    for (let i in this.renderedInstances) {\n      if (this.renderedInstances.hasOwnProperty(i)) {\n        const renderedInstance = this.renderedInstances[i];\n        if (renderedInstance.getInstance().getObjectName() === objectName) {\n          renderedInstance.instanceRemovedFromScene();\n          delete this.renderedInstances[i];\n        }\n      }\n    }\n  }\n\n  /**\n   * Clean up rendered instances that are not associated to any instance anymore\n   * (this can happen after an instance has been deleted).\n   */\n  _cleanRenderers() {\n    for (let i in this.renderedInstances) {\n      if (this.renderedInstances.hasOwnProperty(i)) {\n        const renderedInstance = this.renderedInstances[i];\n        if (!renderedInstance.wasUsed) {\n          renderedInstance.instanceRemovedFromScene();\n          delete this.renderedInstances[i];\n        } else renderedInstance.wasUsed = false;\n      }\n    }\n  }\n\n  delete() {\n    this.instancesRenderer.delete();\n  }\n}\n","import * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\nexport default class SelectionRectangle {\n  constructor({\n    instances,\n    instanceMeasurer,\n    toSceneCoordinates,\n    toCanvasCoordinates,\n  }) {\n    this.instances = instances;\n    this.instanceMeasurer = instanceMeasurer;\n    this.toSceneCoordinates = toSceneCoordinates;\n\n    this.pixiRectangle = new PIXI.Graphics();\n    this.pixiRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n    this.selectionRectangleStart = null;\n    this.selectionRectangleEnd = null;\n    this._instancesInSelectionRectangle = [];\n\n    this.selector = new gd.InitialInstanceJSFunctor();\n    this.selector.invoke = instancePtr => {\n      const instance = gd.wrapPointer(instancePtr, gd.InitialInstance);\n      const x = this.instanceMeasurer.getInstanceLeft(instance);\n      const y = this.instanceMeasurer.getInstanceTop(instance);\n      const instanceHeight = this.instanceMeasurer.getInstanceHeight(instance);\n      const instanceWidth = this.instanceMeasurer.getInstanceWidth(instance);\n\n      if (!this.selectionRectangleStart || !this.selectionRectangleEnd) return;\n\n      const selectionSceneStart = toSceneCoordinates(\n        this.selectionRectangleStart.x,\n        this.selectionRectangleStart.y\n      );\n      const selectionSceneEnd = toSceneCoordinates(\n        this.selectionRectangleEnd.x,\n        this.selectionRectangleEnd.y\n      );\n\n      if (\n        selectionSceneStart[0] <= x &&\n        x + instanceWidth <= selectionSceneEnd[0] &&\n        selectionSceneStart[1] <= y &&\n        y + instanceHeight <= selectionSceneEnd[1]\n      ) {\n        this._instancesInSelectionRectangle.push(instance);\n      }\n    };\n  }\n\n  makeSelectionRectangle = (lastX, lastY) => {\n    if (!this.selectionRectangleStart)\n      this.selectionRectangleStart = { x: lastX, y: lastY };\n\n    this.selectionRectangleEnd = { x: lastX, y: lastY };\n  };\n\n  endSelectionRectangle = () => {\n    if (!this.selectionRectangleStart) return [];\n\n    this._instancesInSelectionRectangle.length = 0;\n    if (this.selectionRectangleStart.x > this.selectionRectangleEnd.x) {\n      const tmp = this.selectionRectangleStart.x;\n      this.selectionRectangleStart.x = this.selectionRectangleEnd.x;\n      this.selectionRectangleEnd.x = tmp;\n    }\n    if (this.selectionRectangleStart.y > this.selectionRectangleEnd.y) {\n      const tmp = this.selectionRectangleStart.y;\n      this.selectionRectangleStart.y = this.selectionRectangleEnd.y;\n      this.selectionRectangleEnd.y = tmp;\n    }\n\n    this.instances.iterateOverInstances(this.selector);\n\n    this.selectionRectangleStart = null;\n    return this._instancesInSelectionRectangle;\n  };\n\n  getPixiObject() {\n    return this.pixiRectangle;\n  }\n\n  render() {\n    if (!this.selectionRectangleStart) {\n      this.pixiRectangle.visible = false;\n      return;\n    }\n\n    let x1 = this.selectionRectangleStart.x;\n    let y1 = this.selectionRectangleStart.y;\n    let x2 = this.selectionRectangleEnd.x;\n    let y2 = this.selectionRectangleEnd.y;\n\n    this.pixiRectangle.visible = true;\n    this.pixiRectangle.clear();\n    this.pixiRectangle.beginFill(0x6868e8);\n    this.pixiRectangle.lineStyle(1, 0x6868e8, 1);\n    this.pixiRectangle.fillAlpha = 0.1;\n    this.pixiRectangle.alpha = 0.8;\n    this.pixiRectangle.drawRect(\n      Math.min(x1, x2),\n      Math.min(y1, y2),\n      Math.abs(x2 - x1),\n      Math.abs(y2 - y1)\n    );\n    this.pixiRectangle.endFill();\n  }\n\n  delete() {\n    this.selector.delete();\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport Background from '../../UI/Background';\nimport enumerateLayers from '../../LayersList/EnumerateLayers';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport PropertiesEditor from '../../PropertiesEditor';\nimport propertiesMapToSchema from '../../PropertiesEditor/PropertiesMapToSchema';\nimport { type Schema } from '../../PropertiesEditor';\nimport VariablesList from '../../VariablesList';\nimport getObjectByName from '../../Utils/GetObjectByName';\nimport IconButton from 'material-ui/IconButton';\nimport { Line, Column } from '../../UI/Grid';\n\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\n\ntype Props = {|\n  project: gdProject,\n  layout: gdLayout,\n  instances: Array<gdInitialInstance>,\n  onEditObjectByName: string => void,\n  editObjectVariables: (?gdObject) => void,\n  editInstanceVariables: gdInitialInstance => void,\n|};\n\nexport default class InstancePropertiesEditor extends React.Component<Props> {\n  _instanceVariablesList: { current: null | VariablesList } = React.createRef();\n  schema: Schema = [\n    {\n      name: 'Object name',\n      valueType: 'string',\n      disabled: true,\n      getValue: (instance: gdInitialInstance) => instance.getObjectName(),\n      setValue: (instance: gdInitialInstance, newValue: string) =>\n        instance.setObjectName(newValue),\n      onEditButtonClick: (instance: gdInitialInstance) =>\n        this.props.onEditObjectByName(instance.getObjectName()),\n    },\n    {\n      name: 'Position',\n      type: 'row',\n      children: [\n        {\n          name: 'X',\n          valueType: 'number',\n          getValue: (instance: gdInitialInstance) => instance.getX(),\n          setValue: (instance: gdInitialInstance, newValue: number) =>\n            instance.setX(newValue),\n        },\n        {\n          name: 'Y',\n          valueType: 'number',\n          getValue: (instance: gdInitialInstance) => instance.getY(),\n          setValue: (instance: gdInitialInstance, newValue: number) =>\n            instance.setY(newValue),\n        },\n      ],\n    },\n    {\n      name: 'Angle',\n      valueType: 'number',\n      getValue: (instance: gdInitialInstance) => instance.getAngle(),\n      setValue: (instance: gdInitialInstance, newValue: number) =>\n        instance.setAngle(newValue),\n    },\n    {\n      name: 'Lock position/angle in the editor',\n      valueType: 'boolean',\n      getValue: (instance: gdInitialInstance) => instance.isLocked(),\n      setValue: (instance: gdInitialInstance, newValue: boolean) =>\n        instance.setLocked(newValue),\n    },\n    {\n      name: 'Z Order',\n      valueType: 'number',\n      getValue: (instance: gdInitialInstance) => instance.getZOrder(),\n      setValue: (instance: gdInitialInstance, newValue: number) =>\n        instance.setZOrder(newValue),\n    },\n    {\n      name: 'Layer',\n      valueType: 'string',\n      getChoices: () => enumerateLayers(this.props.layout),\n      getValue: (instance: gdInitialInstance) => instance.getLayer(),\n      setValue: (instance: gdInitialInstance, newValue: string) =>\n        instance.setLayer(newValue),\n    },\n    {\n      name: 'Custom size',\n      type: 'row',\n      children: [\n        {\n          name: 'Width',\n          valueType: 'number',\n          getValue: (instance: gdInitialInstance) => instance.getCustomWidth(),\n          setValue: (instance: gdInitialInstance, newValue: number) =>\n            instance.setCustomWidth(newValue),\n        },\n        {\n          name: 'Height',\n          valueType: 'number',\n          getValue: (instance: gdInitialInstance) => instance.getCustomHeight(),\n          setValue: (instance: gdInitialInstance, newValue: number) =>\n            instance.setCustomHeight(newValue),\n        },\n      ],\n    },\n    {\n      name: 'Custom size?',\n      valueType: 'boolean',\n      getValue: (instance: gdInitialInstance) => instance.hasCustomSize(),\n      setValue: (instance: gdInitialInstance, newValue: boolean) =>\n        instance.setHasCustomSize(newValue),\n    },\n  ];\n\n  _renderEmpty() {\n    return (\n      <EmptyMessage>\n        <Trans>\n          Click on an instance in the scene to display its properties\n        </Trans>\n      </EmptyMessage>\n    );\n  }\n\n  _renderInstancesProperties() {\n    const { project, layout, instances } = this.props;\n    const instance = instances[0];\n    const associatedObjectName = instance.getObjectName();\n    const object = getObjectByName(project, layout, associatedObjectName);\n    //TODO: multiple instances support\n    const properties = instance.getCustomProperties(project, layout);\n    const instanceSchema = propertiesMapToSchema(\n      properties,\n      (instance: gdInitialInstance) =>\n        instance.getCustomProperties(project, layout),\n      (instance: gdInitialInstance, name, value) =>\n        instance.updateCustomProperty(name, value, project, layout)\n    );\n\n    return (\n      <div\n        style={{ overflowY: 'scroll', overflowX: 'hidden' }}\n        key={instances\n          .map((instance: gdInitialInstance) => '' + instance.ptr)\n          .join(';')}\n      >\n        <Column>\n          <PropertiesEditor\n            schema={this.schema.concat(instanceSchema)}\n            instances={instances}\n          />\n          <Line alignItems=\"center\">\n            <Trans>Instance Variables</Trans>\n            <IconButton\n              onClick={() => {\n                this.props.editInstanceVariables(instance);\n              }}\n            >\n              <OpenInNew />\n            </IconButton>\n          </Line>\n        </Column>\n        <VariablesList\n          inheritedVariablesContainer={object ? object.getVariables() : null}\n          variablesContainer={instance.getVariables()}\n          onSizeUpdated={\n            () =>\n              this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n          }\n          ref={this._instanceVariablesList}\n        />\n      </div>\n    );\n  }\n\n  render() {\n    const { instances } = this.props;\n\n    return (\n      <Background>\n        {!instances || !instances.length\n          ? this._renderEmpty()\n          : this._renderInstancesProperties()}\n      </Background>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport { AutoSizer, Table, Column } from 'react-virtualized';\nimport ThemeConsumer from '../../UI/Theme/ThemeConsumer';\nconst gd = global.gd;\n\nexport default class InstancesList extends Component {\n  shouldComponentUpdate(nextProps) {\n    // Rendering the component is costly as it iterates over\n    // every instances, so the prop freezeUpdate allows to ask the component to stop\n    // updating, for example when hidden.\n    return !nextProps.freezeUpdate;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // If the component was frozen and is now allowed to update,\n    // force the table to be refreshed to reflect changes (new instances,\n    // or selection changes).\n    if (!nextProps.freezeUpdate && this.props.freezeUpdate) {\n      if (this.table) this.table.forceUpdateGrid();\n    }\n  }\n\n  componentWillMount() {\n    this.renderedRows = [];\n\n    // Functor used to display an instance row\n    this.instanceRowRenderer = new gd.InitialInstanceJSFunctor();\n    this.instanceRowRenderer.invoke = instancePtr => {\n      const instance = gd.wrapPointer(instancePtr, gd.InitialInstance);\n\n      this.renderedRows.push({\n        instance,\n        name: instance.getObjectName(),\n        locked: instance.isLocked() ? '🔒' : '',\n        x: instance.getX().toFixed(2),\n        y: instance.getY().toFixed(2),\n        angle: instance.getAngle().toFixed(2),\n        layer: instance.getLayer(),\n        zOrder: instance.getZOrder(),\n      });\n    };\n  }\n\n  componentWillUnmount() {\n    this.instanceRowRenderer.delete();\n  }\n\n  _onRowClick = ({ index }) => {\n    if (!this.renderedRows[index]) return;\n    this.props.onSelectInstances([this.renderedRows[index].instance]);\n  };\n\n  _rowGetter = ({ index }) => {\n    return this.renderedRows[index];\n  };\n\n  _rowClassName = ({ index }) => {\n    if (index < 0) {\n      return 'tableHeaderRow';\n    } else {\n      const row = this.renderedRows[index];\n      if (row && this.props.selectedInstances.indexOf(row.instance) !== -1)\n        return 'tableSelectedRow';\n\n      return index % 2 === 0 ? 'tableEvenRow' : 'tableOddRow';\n    }\n  };\n\n  render() {\n    const { instances } = this.props;\n\n    this.renderedRows.length = 0;\n    instances.iterateOverInstances(this.instanceRowRenderer);\n\n    // Force Table component to be mounted again if instances\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const tableKey = instances.ptr;\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <AutoSizer>\n            {({ height, width }) => (\n              <Table\n                ref={table => (this.table = table)}\n                key={tableKey}\n                headerHeight={30}\n                height={height}\n                className={muiTheme.tableRootClassName}\n                headerClassName={'tableHeaderColumn'}\n                rowCount={this.renderedRows.length}\n                rowGetter={this._rowGetter}\n                rowHeight={35}\n                onRowClick={this._onRowClick}\n                rowClassName={this._rowClassName}\n                width={width}\n              >\n                <Column\n                  label={<Trans>Object name</Trans>}\n                  dataKey=\"name\"\n                  width={width * 0.35}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label=\"\"\n                  dataKey=\"locked\"\n                  width={width * 0.05}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>X</Trans>}\n                  dataKey=\"x\"\n                  width={width * 0.1}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>Y</Trans>}\n                  dataKey=\"y\"\n                  width={width * 0.1}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>Angle</Trans>}\n                  dataKey=\"angle\"\n                  width={width * 0.1}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>Layer</Trans>}\n                  dataKey=\"layer\"\n                  width={width * 0.2}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>Z Order</Trans>}\n                  dataKey=\"zOrder\"\n                  width={width * 0.1}\n                  className={'tableColumn'}\n                />\n              </Table>\n            )}\n          </AutoSizer>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport enumerateLayers from './EnumerateLayers';\n\nexport default class VariablesEditorDialog extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedLayer: '',\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (!this.props.open && newProps.open) {\n      this.setState({\n        selectedLayer: '',\n      });\n    }\n  }\n\n  render() {\n    if (!this.props.layersContainer || !this.props.open) return null;\n\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        secondary={true}\n        keyboardFocused={true}\n        onClick={() => this.props.onClose(false)}\n      />,\n      <FlatButton\n        label={<Trans>Remove objects</Trans>}\n        secondary={true}\n        onClick={() => this.props.onClose(true, null)}\n      />,\n      <FlatButton\n        label={<Trans>Move objects</Trans>}\n        primary={true}\n        onClick={() => this.props.onClose(true, this.state.selectedLayer)}\n      />,\n    ];\n\n    const layers = enumerateLayers(this.props.layersContainer);\n    const choices = layers\n      .filter(({ value }) => {\n        return value !== this.props.layerRemoved;\n      })\n      .map(({ value, label }) => (\n        <MenuItem key={value} value={value} primaryText={label} />\n      ));\n\n    return (\n      <Dialog\n        title={<Trans>Objects on {this.props.layerRemoved}</Trans>}\n        actions={actions}\n        modal={true}\n        open={this.props.open}\n        onRequestClose={this.props.onCancel}\n      >\n        <div>\n          <Trans>Move objects on layer {this.props.layerRemoved} to:</Trans>\n        </div>\n        <SelectField\n          value={this.state.selectedLayer}\n          onChange={(event, index, newValue) => {\n            this.setState({ selectedLayer: newValue });\n          }}\n        >\n          {choices}\n        </SelectField>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\nimport TextField from 'material-ui/TextField';\nimport { Line, Column } from '../../UI/Grid';\nimport ColorPicker from '../../UI/ColorField/ColorPicker';\nimport MiniToolbar, { MiniToolbarText } from '../../UI/MiniToolbar';\nimport ResourceSelector from '../../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type EditorProps } from './EditorProps.flow';\nconst gd = global.gd;\n\nconst toolbarItemStyle = {\n  marginRight: 10,\n};\n\nconst styles = {\n  sizeTextField: {\n    width: 90,\n    ...toolbarItemStyle,\n  },\n  toolbarItem: toolbarItemStyle,\n  checkbox: {\n    width: 'auto',\n    ...toolbarItemStyle,\n  },\n};\n\nexport default class TextEditor extends React.Component<EditorProps, void> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const textObject = gd.asTextObject(object);\n\n    return (\n      <Column noMargin>\n        <MiniToolbar>\n          <MiniToolbarText>\n            <Trans>Size:</Trans>\n          </MiniToolbarText>\n          <TextField\n            type=\"number\"\n            style={styles.sizeTextField}\n            value={textObject.getCharacterSize()}\n            onChange={(e, value) => {\n              textObject.setCharacterSize(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <MiniToolbarText>\n            <Trans>Color:</Trans>\n          </MiniToolbarText>\n          <ColorPicker\n            style={styles.sizeTextField}\n            disableAlpha\n            color={{\n              r: textObject.getColorR(),\n              g: textObject.getColorG(),\n              b: textObject.getColorB(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              textObject.setColor(color.rgb.r, color.rgb.g, color.rgb.b);\n              this.forceUpdate();\n            }}\n          />\n          <Checkbox\n            label={<Trans>Bold</Trans>}\n            checked={textObject.isBold()}\n            onCheck={(e, checked) => {\n              textObject.setBold(checked);\n              this.forceUpdate();\n            }}\n            style={styles.checkbox}\n          />\n          <Checkbox\n            label={<Trans>Italic</Trans>}\n            checked={textObject.isItalic()}\n            onCheck={(e, checked) => {\n              textObject.setItalic(checked);\n              this.forceUpdate();\n            }}\n            style={styles.checkbox}\n          />\n          <ResourceSelector\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n            resourcesLoader={ResourcesLoader}\n            resourceKind=\"font\"\n            fullWidth\n            initialResourceName={textObject.getFontName()}\n            onChange={resourceName => {\n              textObject.setFontName(resourceName);\n              this.forceUpdate();\n            }}\n            hintText={<Trans>Choose a font</Trans>}\n          />\n        </MiniToolbar>\n        <Line noMargin>\n          <Column expand>\n            <Line>\n              <TextField\n                hintText={\n                  <Trans>Enter the text to be displayed by the object</Trans>\n                }\n                fullWidth\n                multiLine\n                rows={8}\n                rowsMax={8}\n                value={textObject.getString()}\n                onChange={(e, value) => {\n                  textObject.setString(value);\n                  this.forceUpdate();\n                  this.props.onSizeUpdated();\n                }}\n              />\n            </Line>\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport { Line, Column } from '../../UI/Grid';\nimport ResourceSelectorWithThumbnail from '../../ResourcesList/ResourceSelectorWithThumbnail';\nimport { type EditorProps } from './EditorProps.flow';\nconst gd = global.gd;\n\nexport default class TiledSpriteEditor extends React.Component<\n  EditorProps,\n  void\n> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const tiledSpriteObject = gd.asTiledSpriteObject(object);\n\n    return (\n      <Column>\n        <Line>\n          <ResourceSelectorWithThumbnail\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceKind=\"image\"\n            resourceName={tiledSpriteObject.getTexture()}\n            resourceExternalEditors={resourceExternalEditors}\n            onChange={resourceName => {\n              tiledSpriteObject.setTexture(resourceName);\n              this.forceUpdate();\n            }}\n            floatingLabelText={<Trans>Select an image</Trans>}\n          />\n        </Line>\n        <Line>\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Default width (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={tiledSpriteObject.getWidth()}\n            onChange={value => {\n              tiledSpriteObject.setWidth(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Default height (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={tiledSpriteObject.getHeight()}\n            onChange={value => {\n              tiledSpriteObject.setHeight(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\nimport Checkbox from 'material-ui/Checkbox';\nimport { Line, Column } from '../../UI/Grid';\nimport ResourceSelectorWithThumbnail from '../../ResourcesList/ResourceSelectorWithThumbnail';\nimport { type EditorProps } from './EditorProps.flow';\nconst gd = global.gd;\n\nexport default class PanelSpriteEditor extends React.Component<\n  EditorProps,\n  void\n> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const panelSpriteObject = gd.asPanelSpriteObject(object);\n\n    return (\n      <Column>\n        <Line>\n          <ResourceSelectorWithThumbnail\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n            resourceKind=\"image\"\n            resourceName={panelSpriteObject.getTexture()}\n            onChange={resourceName => {\n              panelSpriteObject.setTexture(resourceName);\n              this.forceUpdate();\n            }}\n            floatingLabelText={<Trans>Select an image</Trans>}\n          />\n        </Line>\n        <Line>\n          <Checkbox\n            label={\n              <Trans>\n                Repeat borders and center textures (instead of stretching them)\n              </Trans>\n            }\n            checked={panelSpriteObject.isTiled()}\n            onCheck={(e, checked) => {\n              panelSpriteObject.setTiled(checked);\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <TextField\n            floatingLabelText={<Trans>Top margin</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getTopMargin()}\n            onChange={(e, value) => {\n              panelSpriteObject.setTopMargin(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Bottom margin</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getBottomMargin()}\n            onChange={(e, value) => {\n              panelSpriteObject.setBottomMargin(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <TextField\n            floatingLabelText={<Trans>Left margin</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getLeftMargin()}\n            onChange={(e, value) => {\n              panelSpriteObject.setLeftMargin(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Right margin</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getRightMargin()}\n            onChange={(e, value) => {\n              panelSpriteObject.setRightMargin(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <TextField\n            floatingLabelText={<Trans>Default width (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getWidth()}\n            onChange={(e, value) => {\n              panelSpriteObject.setWidth(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Default height (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getHeight()}\n            onChange={(e, value) => {\n              panelSpriteObject.setHeight(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { GridList, GridTile } from 'material-ui/GridList';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport SpritesList from './SpritesList';\nimport Add from 'material-ui/svg-icons/content/add';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport IconButton from 'material-ui/IconButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { mapFor } from '../../../Utils/MapFor';\nimport SemiControlledTextField from '../../../UI/SemiControlledTextField';\nimport Dialog from '../../../UI/Dialog';\nimport EmptyMessage from '../../../UI/EmptyMessage';\nimport MiniToolbar from '../../../UI/MiniToolbar';\nimport DragHandle from '../../../UI/DragHandle';\nimport ContextMenu from '../../../UI/Menu/ContextMenu';\nimport { showWarningBox } from '../../../UI/Messages/MessageBox';\nimport ResourcesLoader from '../../../ResourcesLoader';\nimport PointsEditor from './PointsEditor';\nimport CollisionMasksEditor from './CollisionMasksEditor';\nimport {\n  deleteSpritesFromAnimation,\n  duplicateSpritesInAnimation,\n} from './Utils/SpriteObjectHelper';\nimport { type EditorProps } from '../EditorProps.flow';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../../ResourcesList/ResourceExternalEditor.flow';\n\nconst gd = global.gd;\n\nconst styles = {\n  gridList: {\n    overflowY: 'auto',\n  },\n  animationTitle: {\n    flex: 1,\n  },\n  animationTools: {\n    flexShrink: 0,\n  },\n  lastLine: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  addAnimation: {\n    display: 'flex',\n  },\n  addAnimationText: {\n    justifyContent: 'flex-end',\n  },\n};\n\nconst AddAnimationLine = ({ onAdd, extraTools }) => (\n  <div style={styles.lastLine}>\n    {extraTools}\n    <div style={styles.addAnimation}>\n      <EmptyMessage style={styles.addAnimationText}>\n        Click to add an animation:\n      </EmptyMessage>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </div>\n  </div>\n);\n\ntype AnimationProps = {|\n  animation: gdAnimation,\n  id: number,\n  project: gdProject,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  onRemove: () => void,\n  resourcesLoader: typeof ResourcesLoader,\n  onSpriteContextMenu: (x: number, y: number, sprite: gdSprite) => void,\n  selectedSprites: {\n    [number]: boolean,\n  },\n  onSelectSprite: (sprite: gdSprite, selected: boolean) => void,\n  onReplaceDirection: (\n    directionIndex: number,\n    newDirection: gdDirection\n  ) => void,\n  objectName: string,\n  onChangeName: string => void,\n|};\n\nclass Animation extends React.Component<AnimationProps, void> {\n  render() {\n    const {\n      animation,\n      id,\n      project,\n      resourceSources,\n      onRemove,\n      onChooseResource,\n      resourceExternalEditors,\n      resourcesLoader,\n      onSpriteContextMenu,\n      selectedSprites,\n      onSelectSprite,\n      onReplaceDirection,\n      objectName,\n      onChangeName,\n    } = this.props;\n\n    const animationName = animation.getName();\n    return (\n      <GridTile>\n        <MiniToolbar smallest>\n          <DragHandle />\n          <span style={styles.animationTitle}>\n            Animation #{id}{' '}\n            <SemiControlledTextField\n              commitOnBlur\n              value={animation.getName()}\n              hintText={<Trans>Optional animation name</Trans>}\n              onChange={text => onChangeName(text)}\n            />\n          </span>\n          <span style={styles.animationTools}>\n            <IconButton onClick={onRemove}>\n              <Delete />\n            </IconButton>\n          </span>\n        </MiniToolbar>\n        {mapFor(0, animation.getDirectionsCount(), i => {\n          const direction = animation.getDirection(i);\n          return (\n            <SpritesList\n              direction={direction}\n              key={i}\n              project={project}\n              resourcesLoader={resourcesLoader}\n              resourceSources={resourceSources}\n              onChooseResource={onChooseResource}\n              resourceExternalEditors={resourceExternalEditors}\n              onSpriteContextMenu={onSpriteContextMenu}\n              selectedSprites={selectedSprites}\n              onSelectSprite={onSelectSprite}\n              onReplaceByDirection={newDirection =>\n                onReplaceDirection(i, newDirection)\n              }\n              objectName={objectName}\n              animationName={animationName}\n              onChangeName={onChangeName}\n            />\n          );\n        })}\n      </GridTile>\n    );\n  }\n}\n\nconst SortableAnimation = SortableElement(Animation);\n\nconst SortableAnimationsList = SortableContainer(\n  ({\n    spriteObject,\n    objectName,\n    onAddAnimation,\n    onRemoveAnimation,\n    onChangeAnimationName,\n    project,\n    resourcesLoader,\n    resourceSources,\n    onChooseResource,\n    resourceExternalEditors,\n    extraBottomTools,\n    onSpriteContextMenu,\n    selectedSprites,\n    onSelectSprite,\n    onReplaceDirection,\n  }) => {\n    return (\n      <GridList style={styles.gridList} cellHeight=\"auto\" cols={1}>\n        {[\n          ...mapFor(0, spriteObject.getAnimationsCount(), i => {\n            const animation = spriteObject.getAnimation(i);\n            return (\n              <SortableAnimation\n                key={i}\n                index={i}\n                id={i}\n                animation={animation}\n                project={project}\n                resourcesLoader={resourcesLoader}\n                resourceSources={resourceSources}\n                onChooseResource={onChooseResource}\n                resourceExternalEditors={resourceExternalEditors}\n                onRemove={() => onRemoveAnimation(i)}\n                onChangeName={newName => onChangeAnimationName(i, newName)}\n                onSpriteContextMenu={onSpriteContextMenu}\n                selectedSprites={selectedSprites}\n                onSelectSprite={onSelectSprite}\n                onReplaceDirection={(directionId, newDirection) =>\n                  onReplaceDirection(i, directionId, newDirection)\n                }\n                objectName={objectName}\n              />\n            );\n          }),\n          <AddAnimationLine\n            onAdd={onAddAnimation}\n            key=\"add-animation-line\"\n            disabled\n            index={spriteObject.getAnimationsCount()}\n            extraTools={extraBottomTools}\n          />,\n        ]}\n      </GridList>\n    );\n  }\n);\n\ntype AnimationsListContainerProps = {|\n  spriteObject: gdSpriteObject,\n  project: gdProject,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  resourcesLoader: typeof ResourcesLoader,\n  extraBottomTools: React.Node,\n  onSizeUpdated: () => void,\n  objectName: string,\n|};\n\ntype AnimationsListContainerState = {|\n  selectedSprites: {\n    [number]: boolean,\n  },\n|};\n\nclass AnimationsListContainer extends React.Component<\n  AnimationsListContainerProps,\n  AnimationsListContainerState\n> {\n  state = {\n    selectedSprites: {},\n  };\n  spriteContextMenu: ?ContextMenu;\n\n  onSortEnd = ({ oldIndex, newIndex }) => {\n    this.props.spriteObject.moveAnimation(oldIndex, newIndex);\n    this.forceUpdate();\n  };\n\n  addAnimation = () => {\n    const emptyAnimation = new gd.Animation();\n    emptyAnimation.setDirectionsCount(1);\n    this.props.spriteObject.addAnimation(emptyAnimation);\n    this.forceUpdate();\n    this.props.onSizeUpdated();\n  };\n\n  removeAnimation = i => {\n    //eslint-disable-next-line\n    const answer = confirm('Are you sure you want to remove this animation?');\n\n    if (answer) {\n      this.props.spriteObject.removeAnimation(i);\n      this.forceUpdate();\n      this.props.onSizeUpdated();\n    }\n  };\n\n  changeAnimationName = (i, newName) => {\n    const { spriteObject } = this.props;\n\n    const otherNames = mapFor(0, spriteObject.getAnimationsCount(), index => {\n      return index === i\n        ? undefined // Don't check the current animation name as we're changing it.\n        : spriteObject.getAnimation(index).getName();\n    });\n\n    if (newName !== '' && otherNames.filter(name => name === newName).length) {\n      showWarningBox(\n        'Another animation with this name already exists. Please use another name.'\n      );\n      return;\n    }\n\n    spriteObject.getAnimation(i).setName(newName);\n    this.forceUpdate();\n  };\n\n  deleteSelection = () => {\n    const { spriteObject } = this.props;\n\n    mapFor(0, spriteObject.getAnimationsCount(), index => {\n      const animation = spriteObject.getAnimation(index);\n      deleteSpritesFromAnimation(animation, this.state.selectedSprites);\n    });\n\n    this.setState({\n      selectedSprites: {},\n    });\n  };\n\n  duplicateSelection = () => {\n    const { spriteObject } = this.props;\n\n    mapFor(0, spriteObject.getAnimationsCount(), index => {\n      const animation = spriteObject.getAnimation(index);\n      duplicateSpritesInAnimation(animation, this.state.selectedSprites);\n    });\n\n    this.setState({\n      selectedSprites: {},\n    });\n  };\n\n  openSpriteContextMenu = (x, y, sprite, index) => {\n    this.selectSprite(sprite, true);\n    if (this.spriteContextMenu) this.spriteContextMenu.open(x, y);\n  };\n\n  selectSprite = (sprite, selected) => {\n    this.setState({\n      selectedSprites: {\n        ...this.state.selectedSprites,\n        [sprite.ptr]: selected,\n      },\n    });\n  };\n\n  replaceDirection = (animationId, directionId, newDirection) => {\n    this.props.spriteObject\n      .getAnimation(animationId)\n      .setDirection(newDirection, directionId);\n    this.forceUpdate();\n  };\n\n  render() {\n    return (\n      <div>\n        <SortableAnimationsList\n          spriteObject={this.props.spriteObject}\n          objectName={this.props.objectName}\n          helperClass=\"sortable-helper\"\n          project={this.props.project}\n          onSortEnd={this.onSortEnd}\n          onAddAnimation={this.addAnimation}\n          onChangeAnimationName={this.changeAnimationName}\n          onRemoveAnimation={this.removeAnimation}\n          onReplaceDirection={this.replaceDirection}\n          onSpriteContextMenu={this.openSpriteContextMenu}\n          selectedSprites={this.state.selectedSprites}\n          onSelectSprite={this.selectSprite}\n          resourcesLoader={this.props.resourcesLoader}\n          resourceSources={this.props.resourceSources}\n          resourceExternalEditors={this.props.resourceExternalEditors}\n          onChooseResource={this.props.onChooseResource}\n          extraBottomTools={this.props.extraBottomTools}\n          useDragHandle\n          lockAxis=\"y\"\n          axis=\"y\"\n        />\n        <ContextMenu\n          ref={spriteContextMenu =>\n            (this.spriteContextMenu = spriteContextMenu)\n          }\n          buildMenuTemplate={() => [\n            {\n              label: 'Delete selection',\n              click: () => this.deleteSelection(),\n            },\n            {\n              label: 'Duplicate selection',\n              click: () => this.duplicateSelection(),\n            },\n          ]}\n        />\n      </div>\n    );\n  }\n}\n\ntype State = {|\n  pointsEditorOpen: boolean,\n  collisionMasksEditorOpen: boolean,\n|};\n\nexport default class SpriteEditor extends React.Component<EditorProps, State> {\n  state = {\n    pointsEditorOpen: false,\n    collisionMasksEditorOpen: false,\n  };\n\n  resourcesLoader: typeof ResourcesLoader;\n\n  constructor(props: EditorProps) {\n    super(props);\n\n    this.resourcesLoader = ResourcesLoader;\n  }\n\n  openPointsEditor = (open: boolean = true) => {\n    this.setState({\n      pointsEditorOpen: open,\n    });\n  };\n\n  openCollisionMasksEditor = (open: boolean = true) => {\n    this.setState({\n      collisionMasksEditorOpen: open,\n    });\n  };\n\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n      onSizeUpdated,\n      objectName,\n    } = this.props;\n    const spriteObject = gd.asSpriteObject(object);\n\n    return (\n      <div>\n        <AnimationsListContainer\n          spriteObject={spriteObject}\n          resourcesLoader={this.resourcesLoader}\n          resourceSources={resourceSources}\n          onChooseResource={onChooseResource}\n          resourceExternalEditors={resourceExternalEditors}\n          project={project}\n          objectName={objectName}\n          onSizeUpdated={onSizeUpdated}\n          extraBottomTools={\n            <div>\n              <RaisedButton\n                label={<Trans>Edit hitboxes</Trans>}\n                primary={false}\n                onClick={() => this.openCollisionMasksEditor(true)}\n                disabled={spriteObject.getAnimationsCount() === 0}\n              />\n              <RaisedButton\n                label={<Trans>Edit points</Trans>}\n                primary={false}\n                onClick={() => this.openPointsEditor(true)}\n                disabled={spriteObject.getAnimationsCount() === 0}\n              />\n            </div>\n          }\n        />\n        {this.state.pointsEditorOpen && (\n          <Dialog\n            actions={\n              <FlatButton\n                label={<Trans>Close</Trans>}\n                primary\n                onClick={() => this.openPointsEditor(false)}\n              />\n            }\n            autoScrollBodyContent\n            noMargin\n            modal\n            onRequestClose={() => this.openPointsEditor(false)}\n            open={this.state.pointsEditorOpen}\n          >\n            <PointsEditor\n              object={spriteObject}\n              resourcesLoader={this.resourcesLoader}\n              project={project}\n              onPointsUpdated={\n                () =>\n                  this.forceUpdate() /*Force update to ensure dialog is properly positioned*/\n              }\n            />\n          </Dialog>\n        )}\n        {this.state.collisionMasksEditorOpen && (\n          <Dialog\n            actions={\n              <FlatButton\n                label={<Trans>Close</Trans>}\n                primary\n                onClick={() => this.openCollisionMasksEditor(false)}\n              />\n            }\n            autoScrollBodyContent\n            noMargin\n            modal\n            onRequestClose={() => this.openCollisionMasksEditor(false)}\n            open={this.state.collisionMasksEditorOpen}\n          >\n            <CollisionMasksEditor\n              object={spriteObject}\n              resourcesLoader={this.resourcesLoader}\n              project={project}\n              onCollisionMasksUpdated={\n                () =>\n                  this.forceUpdate() /*Force update to ensure dialog is properly positioned*/\n              }\n            />\n          </Dialog>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\r\nimport React, { Component } from 'react';\r\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\r\nimport { mapFor } from '../../../Utils/MapFor';\r\nimport Add from 'material-ui/svg-icons/content/add';\r\nimport IconButton from 'material-ui/IconButton';\r\nimport DirectionTools from './DirectionTools';\r\nimport MiniToolbar from '../../../UI/MiniToolbar';\r\nimport ImageThumbnail, {\r\n  thumbnailContainerStyle,\r\n} from '../../../ResourcesList/ResourceThumbnail/ImageThumbnail';\r\nimport {\r\n  copySpritePoints,\r\n  copySpritePolygons,\r\n  allDirectionSpritesHaveSamePointsAs,\r\n  allDirectionSpritesHaveSameCollisionMasksAs,\r\n} from './Utils/SpriteObjectHelper';\r\nimport ResourcesLoader from '../../../ResourcesLoader';\r\nimport {\r\n  type ResourceSource,\r\n  type ChooseResourceFunction,\r\n} from '../../../ResourcesList/ResourceSource.flow';\r\nimport { type ResourceExternalEditor } from '../../../ResourcesList/ResourceExternalEditor.flow';\r\nconst gd = global.gd;\r\nconst path = require('path');\r\n\r\nconst SPRITE_SIZE = 100; //TODO: Factor with Thumbnail\r\n\r\nconst styles = {\r\n  spritesList: {\r\n    whiteSpace: 'nowrap',\r\n    overflowY: 'hidden',\r\n  },\r\n  thumbnailExtraStyle: {\r\n    marginRight: 10,\r\n  },\r\n  addSpriteButton: {\r\n    ...thumbnailContainerStyle,\r\n    background: '#FFF',\r\n  },\r\n  spriteThumbnailImage: {\r\n    maxWidth: SPRITE_SIZE,\r\n    maxHeight: SPRITE_SIZE,\r\n    verticalAlign: 'middle',\r\n  },\r\n};\r\n\r\nconst AddSpriteButton = SortableElement(({ displayHint, onAdd }) => {\r\n  return (\r\n    <div style={styles.addSpriteButton}>\r\n      <IconButton onClick={onAdd} style={styles.spriteThumbnailImage}>\r\n        <Add />\r\n      </IconButton>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst SortableSpriteThumbnail = SortableElement(\r\n  ({ sprite, project, resourcesLoader, selected, onSelect, onContextMenu }) => {\r\n    return (\r\n      <ImageThumbnail\r\n        selectable\r\n        selected={selected}\r\n        onSelect={onSelect}\r\n        onContextMenu={onContextMenu}\r\n        resourceName={sprite.getImageName()}\r\n        resourcesLoader={resourcesLoader}\r\n        project={project}\r\n        style={styles.thumbnailExtraStyle}\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\nconst SortableList = SortableContainer(\r\n  ({\r\n    direction,\r\n    project,\r\n    resourcesLoader,\r\n    onAddSprite,\r\n    selectedSprites,\r\n    onSelectSprite,\r\n    onSpriteContextMenu,\r\n  }) => {\r\n    const spritesCount = direction.getSpritesCount();\r\n    return (\r\n      <div style={styles.spritesList}>\r\n        {[\r\n          ...mapFor(0, spritesCount, i => {\r\n            const sprite = direction.getSprite(i);\r\n            return (\r\n              <SortableSpriteThumbnail\r\n                sprite={sprite}\r\n                key={sprite.ptr}\r\n                index={i}\r\n                selected={!!selectedSprites[sprite.ptr]}\r\n                onContextMenu={(x, y) => onSpriteContextMenu(x, y, sprite)}\r\n                onSelect={selected => onSelectSprite(sprite, selected)}\r\n                resourcesLoader={resourcesLoader}\r\n                project={project}\r\n              />\r\n            );\r\n          }),\r\n          <AddSpriteButton\r\n            displayHint={!direction.getSpritesCount()}\r\n            key=\"add-sprite-button\"\r\n            disabled\r\n            index={spritesCount}\r\n            onAdd={onAddSprite}\r\n          />,\r\n        ]}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n/**\r\n * Check if all sprites of the given direction have the same points and collision masks\r\n */\r\nconst checkDirectionPointsAndCollisionsMasks = (direction: gdDirection) => {\r\n  let allDirectionSpritesHaveSamePoints = false;\r\n  let allDirectionSpritesHaveSameCollisionMasks = false;\r\n  if (direction.getSpritesCount() !== 0) {\r\n    allDirectionSpritesHaveSamePoints = allDirectionSpritesHaveSamePointsAs(\r\n      direction.getSprite(0),\r\n      direction\r\n    );\r\n    allDirectionSpritesHaveSameCollisionMasks = allDirectionSpritesHaveSameCollisionMasksAs(\r\n      direction.getSprite(0),\r\n      direction\r\n    );\r\n  }\r\n\r\n  return {\r\n    allDirectionSpritesHaveSamePoints,\r\n    allDirectionSpritesHaveSameCollisionMasks,\r\n  };\r\n};\r\n\r\ntype Props = {|\r\n  direction: gdDirection,\r\n  project: gdProject,\r\n  resourcesLoader: typeof ResourcesLoader,\r\n  resourceSources: Array<ResourceSource>,\r\n  resourceExternalEditors: Array<ResourceExternalEditor>,\r\n  onChooseResource: ChooseResourceFunction,\r\n  onSpriteContextMenu: (x: number, y: number, sprite: gdSprite) => void,\r\n  selectedSprites: {\r\n    [number]: boolean,\r\n  },\r\n  onSelectSprite: (sprite: gdSprite, selected: boolean) => void,\r\n  onReplaceByDirection: (newDirection: gdDirection) => void,\r\n  onChangeName: (newAnimationName: string) => void, // Used by piskel to set the name, if there is no name\r\n  objectName: string, // This is used for the default name of images created with Piskel.\r\n  animationName: string, // This is used for the default name of images created with Piskel.\r\n|};\r\n\r\nexport default class SpritesList extends Component<Props, void> {\r\n  onSortEnd = ({\r\n    oldIndex,\r\n    newIndex,\r\n  }: {\r\n    oldIndex: number,\r\n    newIndex: number,\r\n  }) => {\r\n    this.props.direction.moveSprite(oldIndex, newIndex);\r\n    this.forceUpdate();\r\n  };\r\n\r\n  onAddSprite = () => {\r\n    const {\r\n      resourceSources,\r\n      onChooseResource,\r\n      project,\r\n      direction,\r\n    } = this.props;\r\n    if (!resourceSources) return;\r\n    const sources = resourceSources.filter(source => source.kind === 'image');\r\n    if (!sources.length) return;\r\n\r\n    const {\r\n      allDirectionSpritesHaveSameCollisionMasks,\r\n      allDirectionSpritesHaveSamePoints,\r\n    } = checkDirectionPointsAndCollisionsMasks(direction);\r\n\r\n    onChooseResource(sources[0].name).then(resources => {\r\n      resources.forEach(resource => {\r\n        project.getResourcesManager().addResource(resource);\r\n\r\n        const sprite = new gd.Sprite();\r\n        sprite.setImageName(resource.getName());\r\n        if (allDirectionSpritesHaveSamePoints) {\r\n          copySpritePoints(direction.getSprite(0), sprite);\r\n        }\r\n        if (allDirectionSpritesHaveSameCollisionMasks) {\r\n          copySpritePolygons(direction.getSprite(0), sprite);\r\n        }\r\n        direction.addSprite(sprite);\r\n      });\r\n\r\n      this.forceUpdate();\r\n    });\r\n  };\r\n\r\n  editWith = (externalEditor: ResourceExternalEditor) => {\r\n    const {\r\n      project,\r\n      direction,\r\n      resourcesLoader,\r\n      onReplaceByDirection,\r\n      onChangeName,\r\n      objectName,\r\n      animationName,\r\n    } = this.props;\r\n    const resourceNames = mapFor(0, direction.getSpritesCount(), i => {\r\n      return direction.getSprite(i).getImageName();\r\n    });\r\n\r\n    const {\r\n      allDirectionSpritesHaveSameCollisionMasks,\r\n      allDirectionSpritesHaveSamePoints,\r\n    } = checkDirectionPointsAndCollisionsMasks(direction);\r\n\r\n    let externalEditorData = {};\r\n    const metadataRaw = direction.getMetadata();\r\n    if (metadataRaw) {\r\n      try {\r\n        externalEditorData = JSON.parse(metadataRaw);\r\n      } catch (e) {\r\n        console.error('Malformed metadata', e);\r\n      }\r\n    }\r\n\r\n    externalEditor.edit({\r\n      project,\r\n      resourcesLoader,\r\n      singleFrame: false,\r\n      resourceNames,\r\n      extraOptions: {\r\n        fps:\r\n          direction.getTimeBetweenFrames() > 0\r\n            ? 1 / direction.getTimeBetweenFrames()\r\n            : 1,\r\n        name:\r\n          animationName ||\r\n          (resourceNames.length > 0\r\n            ? path.basename(resourceNames[0], path.extname(resourceNames[0]))\r\n            : objectName),\r\n        isLooping: direction.isLooping(),\r\n        externalEditorData,\r\n      },\r\n      onChangesSaved: (resources, newAnimationName, metadata) => {\r\n        const newDirection = new gd.Direction();\r\n        newDirection.setTimeBetweenFrames(direction.getTimeBetweenFrames());\r\n        newDirection.setLoop(direction.isLooping());\r\n        resources.forEach(resource => {\r\n          const sprite = new gd.Sprite();\r\n          sprite.setImageName(resource.name);\r\n          // Restore collision masks and points\r\n          if (resource.originalIndex !== undefined) {\r\n            const originalSprite = direction.getSprite(resource.originalIndex);\r\n            copySpritePoints(originalSprite, sprite);\r\n            copySpritePolygons(originalSprite, sprite);\r\n          } else {\r\n            if (allDirectionSpritesHaveSamePoints) {\r\n              copySpritePoints(direction.getSprite(0), sprite);\r\n            }\r\n            if (allDirectionSpritesHaveSameCollisionMasks) {\r\n              copySpritePolygons(direction.getSprite(0), sprite);\r\n            }\r\n          }\r\n          newDirection.addSprite(sprite);\r\n          sprite.delete();\r\n        });\r\n\r\n        // set metadata if there is such on the direction\r\n        if (metadata) {\r\n          newDirection.setMetadata(JSON.stringify(metadata));\r\n        }\r\n\r\n        // Burst the ResourcesLoader cache to force images to be reloaded (and not cached by the browser).\r\n        resourcesLoader.burstUrlsCacheForResources(project, resourceNames);\r\n        onReplaceByDirection(newDirection);\r\n        // Set optional animation name if the user hasn't done so\r\n        if (animationName.length === 0) {\r\n          onChangeName(newAnimationName);\r\n        }\r\n        newDirection.delete();\r\n      },\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <MiniToolbar justifyContent=\"flex-end\" smallest>\r\n          <DirectionTools\r\n            direction={this.props.direction}\r\n            resourcesLoader={this.props.resourcesLoader}\r\n            project={this.props.project}\r\n            resourceExternalEditors={this.props.resourceExternalEditors}\r\n            onEditWith={this.editWith}\r\n          />\r\n        </MiniToolbar>\r\n        <SortableList\r\n          resourcesLoader={this.props.resourcesLoader}\r\n          direction={this.props.direction}\r\n          project={this.props.project}\r\n          onSortEnd={this.onSortEnd}\r\n          onAddSprite={this.onAddSprite}\r\n          selectedSprites={this.props.selectedSprites}\r\n          onSelectSprite={this.props.onSelectSprite}\r\n          onSpriteContextMenu={this.props.onSpriteContextMenu}\r\n          helperClass=\"sortable-helper\"\r\n          lockAxis=\"x\"\r\n          axis=\"x\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport EmptyMessage from '../../../../UI/EmptyMessage';\nimport { Line, Column } from '../../../../UI/Grid';\nimport { mapFor } from '../../../../Utils/MapFor';\nimport PointsList from './PointsList';\nimport PointsPreview from './PointsPreview';\nimport ImagePreview from '../../../../ResourcesList/ResourcePreview/ImagePreview';\nimport {\n  getCurrentElements,\n  allSpritesHaveSamePointsAs,\n  copyAnimationsSpritePoints,\n} from '../Utils/SpriteObjectHelper';\nimport SpriteSelector from '../Utils/SpriteSelector';\nimport every from 'lodash/every';\nconst gd = global.gd;\n\nexport default class PointsEditor extends Component {\n  state = {\n    animationIndex: 0,\n    directionIndex: 0,\n    spriteIndex: 0,\n    samePointsForAnimations: true,\n    samePointsForSprites: true,\n  };\n\n  componentDidMount() {\n    this._updateSamePointsToggles();\n  }\n\n  _updatePoints = () => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { animation, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    if (animation && sprite) {\n      if (this.state.samePointsForAnimations) {\n        mapFor(0, spriteObject.getAnimationsCount(), i => {\n          const otherAnimation = spriteObject.getAnimation(i);\n          copyAnimationsSpritePoints(sprite, otherAnimation);\n        });\n      } else if (this.state.samePointsForSprites) {\n        copyAnimationsSpritePoints(sprite, animation);\n      }\n    }\n\n    this.forceUpdate(); // Refresh the preview\n    if (this.props.onPointsUpdated) this.props.onPointsUpdated();\n  };\n\n  chooseAnimation = index => {\n    this.setState(\n      {\n        animationIndex: index,\n        directionIndex: 0,\n        spriteIndex: 0,\n      },\n      () => this._updateSamePointsToggles()\n    );\n  };\n\n  chooseDirection = index => {\n    this.setState({\n      directionIndex: index,\n      spriteIndex: 0,\n    });\n  };\n\n  chooseSprite = index => {\n    this.setState({\n      spriteIndex: index,\n    });\n  };\n\n  _updateSamePointsToggles = () => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { animation, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n    if (!animation || !sprite) return;\n\n    this.setState({\n      samePointsForAnimations: every(\n        mapFor(0, spriteObject.getAnimationsCount(), i => {\n          const otherAnimation = spriteObject.getAnimation(i);\n          return allSpritesHaveSamePointsAs(sprite, otherAnimation);\n        })\n      ),\n      samePointsForSprites: allSpritesHaveSamePointsAs(sprite, animation),\n    });\n  };\n\n  _setSamePointsForAllAnimations = enable => {\n    if (enable) {\n      // eslint-disable-next-line\n      const answer = confirm(\n        \"Having the same points for all animations will erase and reset all the other animations points. This can't be undone. Are you sure you want to share these points amongst all the animations of the object?\"\n      );\n      if (!answer) return;\n    }\n\n    this.setState(\n      {\n        samePointsForAnimations: enable,\n        samePointsForSprites: enable ? true : this.state.samePointsForSprites,\n      },\n      () => {\n        this._updatePoints();\n      }\n    );\n  };\n\n  _setSamePointsForAllSprites = enable => {\n    if (enable) {\n      // eslint-disable-next-line\n      const answer = confirm(\n        \"Having the same points for all frames will erase and reset all the other frames points. This can't be undone. Are you sure you want to share these points amongst all the frames of the animation?\"\n      );\n      if (!answer) return;\n    }\n\n    this.setState(\n      {\n        samePointsForAnimations: enable\n          ? this.state.samePointsForAnimations\n          : false,\n        samePointsForSprites: enable,\n      },\n      () => {\n        this._updatePoints();\n      }\n    );\n  };\n\n  render() {\n    const { object, resourcesLoader, project } = this.props;\n    const {\n      samePointsForAnimations,\n      samePointsForSprites,\n      animationIndex,\n      directionIndex,\n      spriteIndex,\n    } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    if (!object.getAnimationsCount()) return null;\n    const { hasValidSprite, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    return (\n      <div>\n        <ImagePreview\n          resourceName={hasValidSprite ? sprite.getImageName() : ''}\n          resourcesLoader={resourcesLoader}\n          project={project}\n        >\n          {hasValidSprite && (\n            <PointsPreview\n              pointsContainer={sprite}\n              onPointsUpdated={this._updatePoints}\n            />\n          )}\n        </ImagePreview>\n        <Line>\n          <Column expand>\n            <SpriteSelector\n              spriteObject={spriteObject}\n              animationIndex={animationIndex}\n              directionIndex={directionIndex}\n              spriteIndex={spriteIndex}\n              chooseAnimation={this.chooseAnimation}\n              chooseDirection={this.chooseDirection}\n              chooseSprite={this.chooseSprite}\n              sameForAllAnimations={samePointsForAnimations}\n              sameForAllSprites={samePointsForSprites}\n              setSameForAllAnimations={this._setSamePointsForAllAnimations}\n              setSameForAllSprites={this._setSamePointsForAllSprites}\n              setSameForAllAnimationsLabel={\n                <Trans>Share same points for all animations</Trans>\n              }\n              setSameForAllSpritesLabel={\n                <Trans>\n                  Share same points for all sprites of this animation\n                </Trans>\n              }\n            />\n          </Column>\n        </Line>\n        {!!sprite && (\n          <PointsList\n            pointsContainer={sprite}\n            onPointsUpdated={this._updatePoints}\n          />\n        )}\n        {!sprite && (\n          <EmptyMessage>\n            <Trans>Choose an animation and frame to edit the points</Trans>\n          </EmptyMessage>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport newNameGenerator from '../../../../Utils/NewNameGenerator';\nimport { mapVector } from '../../../../Utils/MapFor';\nimport styles from './styles';\nimport PointRow from './PointRow';\nimport AddPointRow from './AddPointRow';\nconst gd = global.gd;\n\nconst SortableAddPointRow = SortableElement(AddPointRow);\nconst SortablePointRow = SortableElement(PointRow);\n\nclass PointsListBody extends Component {\n  state = {\n    nameErrors: {},\n  };\n\n  _onPointsUpdated() {\n    this.forceUpdate();\n    this.props.onPointsUpdated();\n  }\n\n  updateOriginPointX = newValue => {\n    this.props.pointsContainer.getOrigin().setX(newValue);\n    this._onPointsUpdated();\n  };\n\n  updateOriginPointY = newValue => {\n    this.props.pointsContainer.getOrigin().setY(newValue);\n    this._onPointsUpdated();\n  };\n\n  updateCenterPointX = newValue => {\n    this.props.pointsContainer.getCenter().setX(newValue);\n    this._onPointsUpdated();\n  };\n\n  updateCenterPointY = newValue => {\n    this.props.pointsContainer.getCenter().setY(newValue);\n    this._onPointsUpdated();\n  };\n\n  updatePointX = (point, newValue) => {\n    point.setX(newValue);\n    this._onPointsUpdated();\n  };\n\n  updatePointY = (point, newValue) => {\n    point.setY(newValue);\n    this._onPointsUpdated();\n  };\n\n  render() {\n    const { pointsContainer } = this.props;\n\n    const nonDefaultPoints = pointsContainer.getAllNonDefaultPoints();\n    const pointsRows = mapVector(nonDefaultPoints, (point, i) => {\n      const pointName = point.getName();\n\n      return (\n        <SortablePointRow\n          index={i}\n          disabled\n          key={'point-' + pointName}\n          pointX={point.getX()}\n          pointY={point.getY()}\n          onChangePointX={newValue => this.updatePointX(point, newValue)}\n          onChangePointY={newValue => this.updatePointY(point, newValue)}\n          pointName={pointName}\n          nameError={this.state.nameErrors[pointName]}\n          onBlur={event => {\n            const newName = event.target.value;\n            if (pointName === newName) return;\n\n            let success = true;\n            if (pointsContainer.hasPoint(newName)) {\n              success = false;\n            } else {\n              point.setName(newName);\n            }\n\n            this.setState({\n              nameErrors: {\n                ...this.state.nameErrors,\n                [pointName]: !success,\n              },\n            });\n          }}\n          onRemove={() => {\n            //eslint-disable-next-line\n            const answer = confirm(\n              \"Are you sure you want to remove this point? This can't be undone.\"\n            );\n            if (!answer) return;\n\n            pointsContainer.delPoint(pointName);\n            this._onPointsUpdated();\n          }}\n        />\n      );\n    });\n\n    const originPoint = pointsContainer.getOrigin();\n    const centerPoint = pointsContainer.getCenter();\n\n    const originRow = (\n      <SortablePointRow\n        index={0}\n        key={'origin-point-row'}\n        pointName=\"Origin\"\n        pointX={originPoint.getX()}\n        pointY={originPoint.getY()}\n        onChangePointX={this.updateOriginPointX}\n        onChangePointY={this.updateOriginPointY}\n        disabled\n      />\n    );\n    const centerRow = (\n      <SortablePointRow\n        index={1}\n        key={'center-point-row'}\n        pointName=\"Center\"\n        isAutomatic={pointsContainer.isDefaultCenterPoint()}\n        pointX={centerPoint.getX()}\n        pointY={centerPoint.getY()}\n        onChangePointX={this.updateCenterPointX}\n        onChangePointY={this.updateCenterPointY}\n        disabled\n        onEdit={\n          pointsContainer.isDefaultCenterPoint()\n            ? () => {\n                pointsContainer.setDefaultCenterPoint(false);\n                this._onPointsUpdated();\n              }\n            : null\n        }\n        onRemove={\n          !pointsContainer.isDefaultCenterPoint()\n            ? () => {\n                pointsContainer.setDefaultCenterPoint(true);\n                this._onPointsUpdated();\n              }\n            : null\n        }\n      />\n    );\n\n    const addRow = (\n      <SortableAddPointRow\n        index={0}\n        key={'add-point-row'}\n        disabled\n        onAdd={() => {\n          const name = newNameGenerator('Point', name =>\n            pointsContainer.hasPoint(name)\n          );\n          const point = new gd.Point(name);\n          pointsContainer.addPoint(point);\n          point.delete();\n          this._onPointsUpdated();\n        }}\n      />\n    );\n\n    return (\n      <TableBody\n        displayRowCheckbox={false}\n        deselectOnClickaway={true}\n        showRowHover={true}\n      >\n        {[originRow, centerRow, ...pointsRows, addRow]}\n      </TableBody>\n    );\n  }\n}\n\nconst SortablePointsListBody = SortableContainer(PointsListBody);\nSortablePointsListBody.muiName = 'TableBody';\n\nexport default class PointsList extends Component {\n  render() {\n    return (\n      <Table selectable={false}>\n        <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n          <TableRow>\n            <TableHeaderColumn style={styles.handleColumn} />\n            <TableHeaderColumn>Point name</TableHeaderColumn>\n            <TableHeaderColumn style={styles.coordinateColumn}>\n              X\n            </TableHeaderColumn>\n            <TableHeaderColumn style={styles.coordinateColumn}>\n              Y\n            </TableHeaderColumn>\n            <TableRowColumn style={styles.toolColumn} />\n          </TableRow>\n        </TableHeader>\n        <SortablePointsListBody\n          pointsContainer={this.props.pointsContainer}\n          onPointsUpdated={this.props.onPointsUpdated}\n          onSortEnd={({ oldIndex, newIndex }) => {\n            // Reordering points is not supported for now\n          }}\n          helperClass=\"sortable-helper\"\n          useDragHandle\n          lockToContainerEdges\n        />\n      </Table>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport ModeEdit from 'material-ui/svg-icons/editor/mode-edit';\nimport TextField from 'material-ui/TextField';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport styles from './styles';\n\nconst ThemablePointRow = ({\n  pointName,\n  nameError,\n  onBlur,\n  onRemove,\n  pointX,\n  pointY,\n  onChangePointX,\n  onChangePointY,\n  onEdit,\n  isAutomatic,\n  muiTheme,\n}) => (\n  <TableRow\n    style={{\n      backgroundColor: muiTheme.list.itemsBackgroundColor,\n    }}\n  >\n    <TableRowColumn style={styles.handleColumn}>\n      {/* <DragHandle /> Reordering point is not supported for now */}\n    </TableRowColumn>\n    <TableRowColumn>\n      <TextField\n        defaultValue={pointName || 'Base layer'}\n        id={pointName}\n        fullWidth\n        errorText={nameError ? 'This name is already taken' : undefined}\n        disabled={!onBlur}\n        onBlur={onBlur}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.coordinateColumn}>\n      {!isAutomatic ? (\n        <TextField\n          value={pointX}\n          type=\"number\"\n          id=\"point-x\"\n          onChange={(e, value) => onChangePointX(parseFloat(value || 0, 10))}\n        />\n      ) : (\n        <p>\n          <Trans>(auto)</Trans>\n        </p>\n      )}\n    </TableRowColumn>\n    <TableRowColumn style={styles.coordinateColumn}>\n      {!isAutomatic ? (\n        <TextField\n          value={pointY}\n          type=\"number\"\n          id=\"point-y\"\n          onChange={(e, value) => onChangePointY(parseFloat(value || 0, 10))}\n        />\n      ) : (\n        <p>\n          <Trans>(auto)</Trans>\n        </p>\n      )}\n    </TableRowColumn>\n    <TableRowColumn style={styles.toolColumn}>\n      {!!onRemove && (\n        <IconButton onClick={onRemove}>\n          <Delete />\n        </IconButton>\n      )}\n      {!!onEdit && (\n        <IconButton onClick={onEdit}>\n          <ModeEdit />\n        </IconButton>\n      )}\n    </TableRowColumn>\n  </TableRow>\n);\n\nconst PointRow = muiThemeable()(ThemablePointRow);\nexport default PointRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport Add from 'material-ui/svg-icons/content/add';\nimport IconButton from 'material-ui/IconButton';\nimport styles from './styles';\n\nconst AddPointRow = ({ onAdd }) => (\n  <TableRow>\n    <TableRowColumn style={styles.handleColumn} />\n    <TableRowColumn />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nexport default AddPointRow;\n","// @flow\nimport React from 'react';\nimport { mapVector } from '../../../../Utils/MapFor';\n\nconst styles = {\n  container: {\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n  },\n};\n\nconst pointKindIdentifiers = {\n  NORMAL: 1,\n  ORIGIN: 2,\n  CENTER: 3,\n};\ntype PointKind = 1 | 2 | 3;\n\ntype Props = {|\n  pointsContainer: gdSprite, // Could potentially be generalized to other things than Sprite in the future.\n  imageWidth: number,\n  imageHeight: number,\n  onPointsUpdated: () => void,\n|};\n\ntype State = {|\n  draggedPoint: ?gdPoint,\n  draggedPointKind: ?PointKind,\n|};\n\nexport default class PointsPreview extends React.Component<Props, State> {\n  _container: ?any;\n  state = {\n    draggedPoint: null,\n    draggedPointKind: null,\n  };\n\n  _onStartDragPoint = (draggedPoint: gdPoint, draggedPointKind: PointKind) => {\n    if (this.state.draggedPoint) return;\n\n    this.setState({\n      draggedPoint,\n      draggedPointKind,\n    });\n  };\n\n  _onEndDragPoint = () => {\n    const draggingWasDone = !!this.state.draggedPoint;\n    this.setState(\n      {\n        draggedPoint: null,\n        draggedPointKind: null,\n      },\n      () => {\n        if (draggingWasDone) this.props.onPointsUpdated();\n      }\n    );\n  };\n\n  /**\n   * Move a point with the mouse. A similar dragging implementation is done in\n   * CollisionMasksPreview (but with svg elements).\n   *\n   * If custom zoom is added, this should be adapted to properly set point coordinates.\n   * TODO: This could be optimized by avoiding the forceUpdate (not sure if worth it though).\n   */\n  _onMouseMove = (event: any) => {\n    const { draggedPoint, draggedPointKind } = this.state;\n    if (!draggedPoint || !this._container) return;\n\n    const containerBoundingRect = this._container.getBoundingClientRect();\n    const xOnContainer = event.clientX - containerBoundingRect.left;\n    const yOnContainer = event.clientY - containerBoundingRect.top;\n\n    if (draggedPointKind === pointKindIdentifiers.CENTER) {\n      this.props.pointsContainer.setDefaultCenterPoint(false);\n    }\n    draggedPoint.setX(xOnContainer);\n    draggedPoint.setY(yOnContainer);\n    this.forceUpdate();\n  };\n\n  _renderPoint = (\n    name: string,\n    x: number,\n    y: number,\n    kind: PointKind,\n    point: gdPoint\n  ) => {\n    const imageSrc =\n      kind === pointKindIdentifiers.ORIGIN\n        ? 'res/originPoint.png'\n        : kind === pointKindIdentifiers.CENTER\n        ? 'res/centerPoint.png'\n        : 'res/point.png';\n    return (\n      <img\n        src={imageSrc}\n        style={{\n          position: 'absolute',\n          left: x,\n          top: y,\n          transform: 'translate(-6px, -5px)',\n          cursor: 'move',\n        }}\n        alt=\"\"\n        key={name}\n        onPointerDown={() => {\n          this._onStartDragPoint(point, kind);\n        }}\n      />\n    );\n  };\n\n  render() {\n    const { pointsContainer, imageWidth, imageHeight } = this.props;\n    const nonDefaultPoints = pointsContainer.getAllNonDefaultPoints();\n    const points = mapVector(nonDefaultPoints, (point, i) =>\n      this._renderPoint(\n        point.getName(),\n        point.getX(),\n        point.getY(),\n        pointKindIdentifiers.NORMAL,\n        point\n      )\n    );\n\n    const originPoint = pointsContainer.getOrigin();\n    const centerPoint = pointsContainer.getCenter();\n    const automaticCenterPosition = pointsContainer.isDefaultCenterPoint();\n\n    return (\n      <div\n        style={styles.container}\n        onPointerMove={this._onMouseMove}\n        onPointerUp={this._onEndDragPoint}\n        ref={container => (this._container = container)}\n      >\n        {points}\n        {this._renderPoint(\n          'Origin',\n          originPoint.getX(),\n          originPoint.getY(),\n          pointKindIdentifiers.ORIGIN,\n          originPoint\n        )}\n        {this._renderPoint(\n          'Center',\n          !automaticCenterPosition ? centerPoint.getX() : imageWidth / 2,\n          !automaticCenterPosition ? centerPoint.getY() : imageHeight / 2,\n          pointKindIdentifiers.CENTER,\n          centerPoint\n        )}\n      </div>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport EmptyMessage from '../../../../UI/EmptyMessage';\nimport { Line, Column } from '../../../../UI/Grid';\nimport { mapFor } from '../../../../Utils/MapFor';\nimport PolygonsList from './PolygonsList';\nimport CollisionMasksPreview from './CollisionMasksPreview';\nimport ImagePreview from '../../../../ResourcesList/ResourcePreview/ImagePreview';\nimport {\n  getCurrentElements,\n  allSpritesHaveSameCollisionMasksAs,\n  copyAnimationsSpriteCollisionMasks,\n} from '../Utils/SpriteObjectHelper';\nimport SpriteSelector from '../Utils/SpriteSelector';\nimport every from 'lodash/every';\nconst gd = global.gd;\n\nexport default class CollisionMasksEditor extends Component {\n  state = {\n    animationIndex: 0,\n    directionIndex: 0,\n    spriteIndex: 0,\n    sameCollisionMasksForAnimations: true,\n    sameCollisionMasksForSprites: true,\n    spriteWidth: 0,\n    spriteHeight: 0,\n  };\n\n  componentDidMount() {\n    this._updateSameCollisionMasksToggles();\n  }\n\n  _updateCollisionMasks = () => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { animation, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    if (animation && sprite) {\n      if (this.state.sameCollisionMasksForAnimations) {\n        mapFor(0, spriteObject.getAnimationsCount(), i => {\n          const otherAnimation = spriteObject.getAnimation(i);\n          copyAnimationsSpriteCollisionMasks(sprite, otherAnimation);\n        });\n      } else if (this.state.sameCollisionMasksForSprites) {\n        copyAnimationsSpriteCollisionMasks(sprite, animation);\n      }\n    }\n\n    this.forceUpdate(); // Refresh the preview and the list\n    if (this.props.onCollisionMasksUpdated)\n      this.props.onCollisionMasksUpdated();\n  };\n\n  chooseAnimation = index => {\n    this.setState(\n      {\n        animationIndex: index,\n        directionIndex: 0,\n        spriteIndex: 0,\n      },\n      () => this._updateSameCollisionMasksToggles()\n    );\n  };\n\n  chooseDirection = index => {\n    this.setState({\n      directionIndex: index,\n      spriteIndex: 0,\n    });\n  };\n\n  chooseSprite = index => {\n    this.setState({\n      spriteIndex: index,\n    });\n  };\n\n  _updateSameCollisionMasksToggles = () => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { animation, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n    if (!animation || !sprite) return;\n\n    this.setState({\n      sameCollisionMasksForAnimations: every(\n        mapFor(0, spriteObject.getAnimationsCount(), i => {\n          const otherAnimation = spriteObject.getAnimation(i);\n          return allSpritesHaveSameCollisionMasksAs(sprite, otherAnimation);\n        })\n      ),\n      sameCollisionMasksForSprites: allSpritesHaveSameCollisionMasksAs(\n        sprite,\n        animation\n      ),\n    });\n  };\n\n  _onSetCollisionMaskAutomatic = (automatic: boolean = true) => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n    if (!sprite) return;\n\n    sprite.setCollisionMaskAutomatic(automatic);\n    this._updateCollisionMasks();\n  };\n\n  _setSameCollisionMasksForAllAnimations = enable => {\n    if (enable) {\n      // eslint-disable-next-line\n      const answer = confirm(\n        \"Having the same collision masks for all animations will erase and reset all the other animations collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the animations of the object?\"\n      );\n      if (!answer) return;\n    }\n\n    this.setState(\n      {\n        sameCollisionMasksForAnimations: enable,\n        sameCollisionMasksForSprites: enable\n          ? true\n          : this.state.sameCollisionMasksForSprites,\n      },\n      () => {\n        this._updateCollisionMasks();\n      }\n    );\n  };\n\n  _setSameCollisionMasksForAllSprites = enable => {\n    if (enable) {\n      // eslint-disable-next-line\n      const answer = confirm(\n        \"Having the same collision masks for all frames will erase and reset all the other frames collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the frames of the animation?\"\n      );\n      if (!answer) return;\n    }\n\n    this.setState(\n      {\n        sameCollisionMasksForAnimations: enable\n          ? this.state.sameCollisionMasksForAnimations\n          : false,\n        sameCollisionMasksForSprites: enable,\n      },\n      () => {\n        this._updateCollisionMasks();\n      }\n    );\n  };\n\n  _setCurrentSpriteSize = (spriteWidth: number, spriteHeight: number) => {\n    this.setState({\n      spriteWidth,\n      spriteHeight,\n    });\n  };\n\n  render() {\n    const { object, resourcesLoader, project } = this.props;\n    const {\n      sameCollisionMasksForAnimations,\n      sameCollisionMasksForSprites,\n      animationIndex,\n      directionIndex,\n      spriteIndex,\n      spriteWidth,\n      spriteHeight,\n    } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    if (!object.getAnimationsCount()) return null;\n    const { hasValidSprite, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    return (\n      <div>\n        <ImagePreview\n          resourceName={hasValidSprite ? sprite.getImageName() : ''}\n          resourcesLoader={resourcesLoader}\n          project={project}\n          onSize={this._setCurrentSpriteSize}\n        >\n          {hasValidSprite && (\n            <CollisionMasksPreview\n              isDefaultBoundingBox={sprite.isCollisionMaskAutomatic()}\n              polygons={sprite.getCustomCollisionMask()}\n              onPolygonsUpdated={this._updateCollisionMasks}\n            />\n          )}\n        </ImagePreview>\n        <Line>\n          <Column expand>\n            <SpriteSelector\n              spriteObject={spriteObject}\n              animationIndex={animationIndex}\n              directionIndex={directionIndex}\n              spriteIndex={spriteIndex}\n              chooseAnimation={this.chooseAnimation}\n              chooseDirection={this.chooseDirection}\n              chooseSprite={this.chooseSprite}\n              sameForAllAnimations={sameCollisionMasksForAnimations}\n              sameForAllSprites={sameCollisionMasksForSprites}\n              setSameForAllAnimations={\n                this._setSameCollisionMasksForAllAnimations\n              }\n              setSameForAllSprites={this._setSameCollisionMasksForAllSprites}\n              setSameForAllAnimationsLabel={\n                <Trans>Share same collision masks for all animations</Trans>\n              }\n              setSameForAllSpritesLabel={\n                <Trans>\n                  Share same collision masks for all sprites of this animation\n                </Trans>\n              }\n            />\n          </Column>\n        </Line>\n        {!!sprite && !sprite.isCollisionMaskAutomatic() && (\n          <React.Fragment>\n            <PolygonsList\n              polygons={sprite.getCustomCollisionMask()}\n              onPolygonsUpdated={this._updateCollisionMasks}\n              spriteWidth={spriteWidth}\n              spriteHeight={spriteHeight}\n            />\n            <Line justifyContent=\"center\">\n              <FlatButton\n                label={<Trans>Restore the default collision mask</Trans>}\n                primary={false}\n                onClick={() => this._onSetCollisionMaskAutomatic(true)}\n              />\n            </Line>\n          </React.Fragment>\n        )}\n        {!!sprite && sprite.isCollisionMaskAutomatic() && (\n          <React.Fragment>\n            <EmptyMessage>\n              <Trans>\n                This sprite uses the default collision mask, a rectangle that is\n                as large as the sprite.\n              </Trans>\n            </EmptyMessage>\n            <Line justifyContent=\"center\">\n              <FlatButton\n                label={<Trans>Use a custom collision mask</Trans>}\n                primary={false}\n                onClick={() => this._onSetCollisionMaskAutomatic(false)}\n              />\n            </Line>\n          </React.Fragment>\n        )}\n        {!sprite && (\n          <EmptyMessage>\n            <Trans>\n              Choose an animation and frame to edit the collision masks\n            </Trans>\n          </EmptyMessage>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport flatten from 'lodash/flatten';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { mapVector } from '../../../../Utils/MapFor';\nimport styles from './styles';\nimport VerticeRow from './VerticeRow';\nimport PolygonRow from './PolygonRow';\nimport AddVerticeRow from './AddVerticeRow';\nimport AddPolygonRow from './AddPolygonRow';\nconst gd = global.gd;\n\nconst SortableAddPolygonRow = SortableElement(AddPolygonRow);\nconst SortableAddVerticeRow = SortableElement(AddVerticeRow);\nconst SortableVerticeRow = SortableElement(VerticeRow);\nconst SortablePolygonRow = SortableElement(PolygonRow);\n\ntype PolygonsListBodyProps = {|\n  polygons: gdVectorPolygon2d,\n  onPolygonsUpdated: () => void,\n\n  // Sprite size is useful to make sure polygon vertices\n  // are not put outside the sprite bounding box, which is not supported:\n  spriteWidth: number,\n  spriteHeight: number,\n|};\n\nclass PolygonsListBody extends Component<PolygonsListBodyProps, void> {\n  _onPolygonUpdated() {\n    this.forceUpdate();\n    this.props.onPolygonsUpdated();\n  }\n\n  updateVerticeX = (vertice, newValue) => {\n    // Ensure vertice stays inside the sprite bounding box.\n    vertice.set_x(Math.min(this.props.spriteWidth, Math.max(newValue, 0)));\n    this._onPolygonUpdated();\n  };\n\n  updateVerticeY = (vertice, newValue) => {\n    // Ensure vertice stays inside the sprite bounding box.\n    vertice.set_y(Math.min(this.props.spriteHeight, Math.max(newValue, 0)));\n    this._onPolygonUpdated();\n  };\n\n  render() {\n    const { polygons } = this.props;\n\n    const polygonRows = flatten(\n      mapVector(polygons, (polygon, i) => {\n        const vertices = polygon.getVertices();\n        const isConvex = polygon.isConvex();\n\n        return [\n          <SortablePolygonRow\n            index={i}\n            disabled\n            key={'polygon-' + i}\n            polygon={polygon}\n            onRemove={() => {\n              gd.removeFromVectorPolygon2d(polygons, i);\n              this._onPolygonUpdated();\n            }}\n            isConvex={isConvex}\n            verticesCount={vertices.size()}\n          />,\n          mapVector(vertices, (vertice, j) => (\n            <SortableVerticeRow\n              index={i}\n              disabled\n              key={`polygon-${i}-vertice-${j}`}\n              verticeX={vertice.get_x()}\n              verticeY={vertice.get_y()}\n              onChangeVerticeX={newValue =>\n                this.updateVerticeX(vertice, newValue)\n              }\n              onChangeVerticeY={newValue =>\n                this.updateVerticeY(vertice, newValue)\n              }\n              onRemove={() => {\n                gd.removeFromVectorVector2f(polygon.getVertices(), j);\n                this._onPolygonUpdated();\n              }}\n              canRemove={vertices.size() > 3}\n              hasWarning={!isConvex}\n            />\n          )),\n          <SortableAddVerticeRow\n            index={0}\n            key={`polygon-${i}-add-vertice-row`}\n            disabled\n            onAdd={() => {\n              const newVertice = new gd.Vector2f();\n              polygon.getVertices().push_back(newVertice);\n              newVertice.delete();\n\n              this._onPolygonUpdated();\n            }}\n          />,\n        ];\n      })\n    );\n\n    const addRow = (\n      <SortableAddPolygonRow\n        index={0}\n        key={'add-polygon-row'}\n        disabled\n        onAdd={() => {\n          const newPolygon = gd.Polygon2d.createRectangle(32, 32);\n          newPolygon.move(\n            this.props.spriteWidth / 2,\n            this.props.spriteHeight / 2\n          );\n          polygons.push_back(newPolygon);\n\n          this._onPolygonUpdated();\n        }}\n      />\n    );\n\n    return (\n      <TableBody\n        displayRowCheckbox={false}\n        deselectOnClickaway={true}\n        showRowHover={true}\n      >\n        {[...polygonRows, addRow]}\n      </TableBody>\n    );\n  }\n}\n\nconst SortablePolygonsListBody = SortableContainer(PolygonsListBody);\nSortablePolygonsListBody.muiName = 'TableBody';\n\ntype Props = {|\n  polygons: gdVectorPolygon2d,\n  onPolygonsUpdated: () => void,\n  spriteWidth: number,\n  spriteHeight: number,\n|};\n\nexport default class PolygonsList extends Component<Props, void> {\n  render() {\n    return (\n      <Table selectable={false}>\n        <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n          <TableRow>\n            <TableHeaderColumn style={styles.handleColumn} />\n            <TableHeaderColumn>Polygon</TableHeaderColumn>\n            <TableHeaderColumn style={styles.coordinateColumn}>\n              X\n            </TableHeaderColumn>\n            <TableHeaderColumn style={styles.coordinateColumn}>\n              Y\n            </TableHeaderColumn>\n            <TableRowColumn style={styles.toolColumn} />\n          </TableRow>\n        </TableHeader>\n        <SortablePolygonsListBody\n          polygons={this.props.polygons}\n          onPolygonsUpdated={this.props.onPolygonsUpdated}\n          spriteWidth={this.props.spriteWidth}\n          spriteHeight={this.props.spriteHeight}\n          onSortEnd={({ oldIndex, newIndex }) => {\n            // Reordering polygons is not supported for now\n          }}\n          helperClass=\"sortable-helper\"\n          useDragHandle\n          lockToContainerEdges\n        />\n      </Table>\n    );\n  }\n}\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport TextField from 'material-ui/TextField';\nimport Warning from 'material-ui/svg-icons/alert/warning';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport styles from './styles';\n\nconst ThemableVerticeRow = ({\n  hasWarning,\n  canRemove,\n  onRemove,\n  verticeX,\n  verticeY,\n  onChangeVerticeX,\n  onChangeVerticeY,\n  muiTheme,\n}) => (\n  <TableRow\n    style={{\n      backgroundColor: muiTheme.list.itemsBackgroundColor,\n    }}\n  >\n    <TableRowColumn style={styles.handleColumn}>\n      {/* <DragHandle /> Reordering vertices is not supported for now */}\n    </TableRowColumn>\n    <TableRowColumn>{hasWarning && <Warning />}</TableRowColumn>\n    <TableRowColumn style={styles.coordinateColumn}>\n      <TextField\n        value={verticeX}\n        type=\"number\"\n        id=\"vertice-x\"\n        onChange={(e, value) => onChangeVerticeX(parseFloat(value || 0, 10))}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.coordinateColumn}>\n      <TextField\n        value={verticeY}\n        type=\"number\"\n        id=\"vertice-y\"\n        onChange={(e, value) => onChangeVerticeY(parseFloat(value || 0, 10))}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.toolColumn}>\n      {!!onRemove && (\n        <IconButton onClick={onRemove} disabled={!canRemove}>\n          <Delete />\n        </IconButton>\n      )}\n    </TableRowColumn>\n  </TableRow>\n);\n\nconst PointRow = muiThemeable()(ThemableVerticeRow);\nexport default PointRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport styles from './styles';\n\nconst ThemablePolygonRow = ({\n  onRemove,\n  isConvex,\n  verticesCount,\n  muiTheme,\n}) => {\n  return (\n    <TableRow\n      style={{\n        backgroundColor: muiTheme.list.itemsBackgroundColor,\n      }}\n    >\n      <TableRowColumn style={styles.handleColumn}>\n        {/* <DragHandle /> Reordering polygons is not supported for now */}\n      </TableRowColumn>\n      {isConvex && (\n        <TableRowColumn>\n          {verticesCount === 3 && `Triangle`}\n          {verticesCount === 4 && `Quadrilateral`}\n          {verticesCount >= 5 && `Polygon with ${verticesCount} vertices`}\n        </TableRowColumn>\n      )}\n      {!isConvex && <TableRowColumn>Polygon is not convex!</TableRowColumn>}\n      <TableRowColumn style={styles.coordinateColumn} />\n      <TableRowColumn style={styles.coordinateColumn} />\n      <TableRowColumn style={styles.toolColumn}>\n        {!!onRemove && (\n          <IconButton onClick={onRemove}>\n            <Delete />\n          </IconButton>\n        )}\n      </TableRowColumn>\n    </TableRow>\n  );\n};\n\nconst PointRow = muiThemeable()(ThemablePolygonRow);\nexport default PointRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport AddCircle from 'material-ui/svg-icons/content/add-circle';\nimport IconButton from 'material-ui/IconButton';\nimport styles from './styles';\n\nconst AddVerticeRow = ({ onAdd }) => (\n  <TableRow>\n    <TableRowColumn style={styles.handleColumn} />\n    <TableRowColumn />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <AddCircle />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nexport default AddVerticeRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport Add from 'material-ui/svg-icons/content/add';\nimport IconButton from 'material-ui/IconButton';\nimport styles from './styles';\n\nconst AddPolygonRow = ({ onAdd }) => (\n  <TableRow>\n    <TableRowColumn style={styles.handleColumn} />\n    <TableRowColumn />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nexport default AddPolygonRow;\n","// @flow\nimport * as React from 'react';\nimport { mapVector } from '../../../../Utils/MapFor';\n\nconst styles = {\n  container: {\n    position: 'relative',\n  },\n  svg: {\n    width: '100%',\n    height: '100%',\n  },\n  vertexCircle: {\n    cursor: 'move',\n  },\n};\n\ntype Props = {|\n  polygons: gdVectorPolygon2d,\n  isDefaultBoundingBox: boolean,\n  imageWidth: number,\n  imageHeight: number,\n  onPolygonsUpdated: () => void,\n|};\n\ntype State = {|\n  draggedVertex: ?gdVector2f,\n|};\n\nexport default class CollisionMasksPreview extends React.Component<\n  Props,\n  State\n> {\n  _svg: any;\n  state = {\n    draggedVertex: null,\n  };\n\n  _onStartDragVertex = (draggedVertex: gdVector2f) => {\n    if (this.state.draggedVertex) return;\n\n    this.setState({\n      draggedVertex,\n    });\n  };\n\n  _onEndDragVertex = () => {\n    const draggingWasDone = !!this.state.draggedVertex;\n    this.setState(\n      {\n        draggedVertex: null,\n      },\n      () => {\n        if (draggingWasDone) this.props.onPolygonsUpdated();\n      }\n    );\n  };\n\n  /**\n   * Move a vertex with the mouse. A similar dragging implementation is done in\n   * PointsPreview (but with div and img elements).\n   *\n   * If custom zoom is added, this should be adapted to properly set vertex coordinates.\n   * TODO: This could be optimized by avoiding the forceUpdate (not sure if worth it though).\n   */\n  _onPointerMove = (event: any) => {\n    const { draggedVertex } = this.state;\n    if (!draggedVertex) return;\n\n    const pointOnScreen = this._svg.createSVGPoint();\n    pointOnScreen.x = event.clientX;\n    pointOnScreen.y = event.clientY;\n    const screenToSvgMatrix = this._svg.getScreenCTM().inverse();\n    const pointOnSvg = pointOnScreen.matrixTransform(screenToSvgMatrix);\n\n    draggedVertex.set_x(pointOnSvg.x);\n    draggedVertex.set_y(pointOnSvg.y);\n    this.forceUpdate();\n  };\n\n  _renderBoundingBox() {\n    const { imageWidth, imageHeight } = this.props;\n\n    return (\n      <polygon\n        fill=\"rgba(255,0,0,0.2)\"\n        stroke=\"rgba(255,0,0,0.5)\"\n        strokeWidth={1}\n        fileRule=\"evenodd\"\n        points={`0,0 ${imageWidth},0 ${imageWidth},${imageHeight} 0,${imageHeight}`}\n      />\n    );\n  }\n\n  _renderPolygons() {\n    const { polygons } = this.props;\n\n    return (\n      <React.Fragment>\n        {mapVector(polygons, (polygon, i) => {\n          const vertices = polygon.getVertices();\n          return (\n            <polygon\n              key={`polygon-${i}`}\n              fill=\"rgba(255,0,0,0.2)\"\n              stroke=\"rgba(255,0,0,0.5)\"\n              strokeWidth={1}\n              fileRule=\"evenodd\"\n              points={mapVector(\n                vertices,\n                (vertex, j) => `${vertex.get_x()},${vertex.get_y()}`\n              ).join(' ')}\n            />\n          );\n        })}\n        {mapVector(polygons, (polygon, i) => {\n          const vertices = polygon.getVertices();\n          return mapVector(vertices, (vertex, j) => (\n            <circle\n              onPointerDown={event => this._onStartDragVertex(vertex)}\n              key={`polygon-${i}-vertex-${j}`}\n              fill=\"rgba(255,0,0,0.75)\"\n              strokeWidth={1}\n              cx={vertex.get_x()}\n              cy={vertex.get_y()}\n              r={5}\n              style={styles.vertexCircle}\n            />\n          ));\n        })}\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    const { isDefaultBoundingBox } = this.props;\n\n    return (\n      <svg\n        onPointerMove={this._onPointerMove}\n        onPointerUp={this._onEndDragVertex}\n        width={this.props.imageWidth}\n        height={this.props.imageHeight}\n        style={styles.svg}\n        ref={svg => (this._svg = svg)}\n      >\n        {isDefaultBoundingBox && this._renderBoundingBox()}\n        {!isDefaultBoundingBox && this._renderPolygons()}\n      </svg>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { type EditorProps } from './EditorProps.flow';\nimport { Line, Column } from '../../UI/Grid';\nimport EmptyMessage from '../../UI/EmptyMessage';\n\nexport default class EmptyEditor extends React.Component<EditorProps, void> {\n  render() {\n    return (\n      <Column>\n        <Line>\n          <EmptyMessage>\n            <Trans>\n              This object does not have any specific configuration. Add it on\n              the scene and use events to interact with it.\n            </Trans>\n          </EmptyMessage>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\nimport Checkbox from 'material-ui/Checkbox';\nimport { Line, Column, Spacer } from '../../UI/Grid';\nimport ColorField from '../../UI/ColorField';\nimport { type EditorProps } from './EditorProps.flow';\nconst gd = global.gd;\n\nexport default class PanelSpriteEditor extends React.Component<\n  EditorProps,\n  void\n> {\n  render() {\n    const { object } = this.props;\n    const shapePainterObject = gd.asShapePainterObject(object);\n\n    return (\n      <Column>\n        <Line>\n          <Checkbox\n            label={\n              <Trans>\n                Draw the shapes relative to the object position on the scene\n              </Trans>\n            }\n            checked={!shapePainterObject.areCoordinatesAbsolute()}\n            onCheck={(e, checked) => {\n              if (!checked) shapePainterObject.setCoordinatesAbsolute();\n              else shapePainterObject.setCoordinatesRelative();\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <ColorField\n            floatingLabelText={<Trans>Outline color</Trans>}\n            disableAlpha\n            fullWidth\n            color={{\n              r: shapePainterObject.getOutlineColorR(),\n              g: shapePainterObject.getOutlineColorG(),\n              b: shapePainterObject.getOutlineColorB(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              shapePainterObject.setOutlineColor(\n                color.rgb.r,\n                color.rgb.g,\n                color.rgb.b\n              );\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Outline opacity (0-255)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={shapePainterObject.getOutlineOpacity()}\n            onChange={(e, value) => {\n              shapePainterObject.setOutlineOpacity(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Outline size (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={shapePainterObject.getOutlineSize()}\n            onChange={(e, value) => {\n              shapePainterObject.setOutlineSize(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <ColorField\n            floatingLabelText={<Trans>Fill color</Trans>}\n            disableAlpha\n            fullWidth\n            color={{\n              r: shapePainterObject.getFillColorR(),\n              g: shapePainterObject.getFillColorG(),\n              b: shapePainterObject.getFillColorB(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              shapePainterObject.setFillColor(\n                color.rgb.r,\n                color.rgb.g,\n                color.rgb.b\n              );\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Fill opacity (0-255)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={shapePainterObject.getFillOpacity()}\n            onChange={(e, value) => {\n              shapePainterObject.setFillOpacity(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <Spacer expand />\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { Line, Column } from '../../UI/Grid';\nimport ColorField from '../../UI/ColorField';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport { type EditorProps } from './EditorProps.flow';\nimport ResourceSelectorWithThumbnail from '../../ResourcesList/ResourceSelectorWithThumbnail';\nconst gd = global.gd;\n\nexport default class ParticleEmitterEditor extends React.Component<\n  EditorProps,\n  void\n> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const particleEmitterObject = gd.asParticleEmitterObject(object);\n\n    return (\n      <Column>\n        <Line>\n          <Column expand noMargin>\n            <SelectField\n              fullWidth\n              floatingLabelText={<Trans>Particles kind</Trans>}\n              value={particleEmitterObject.getRendererType()}\n              onChange={(e, i, value) => {\n                particleEmitterObject.setRendererType(value);\n                if (value !== gd.ParticleEmitterObject.Quad) {\n                  particleEmitterObject.setParticleTexture('');\n                }\n                this.forceUpdate();\n              }}\n            >\n              <MenuItem\n                value={gd.ParticleEmitterObject.Point}\n                primaryText={<Trans>Point</Trans>}\n              />\n              <MenuItem\n                value={gd.ParticleEmitterObject.Line}\n                primaryText={<Trans>Line</Trans>}\n              />\n              <MenuItem\n                value={gd.ParticleEmitterObject.Quad}\n                primaryText={<Trans>Textured</Trans>}\n              />\n            </SelectField>\n          </Column>\n        </Line>\n        {particleEmitterObject.getRendererType() ===\n          gd.ParticleEmitterObject.Point && (\n          <Line>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                floatingLabelText={<Trans>Size</Trans>}\n                fullWidth\n                type=\"number\"\n                value={particleEmitterObject.getRendererParam1()}\n                onChange={value => {\n                  particleEmitterObject.setRendererParam1(parseFloat(value));\n                  this.forceUpdate();\n                }}\n              />\n            </Column>\n          </Line>\n        )}\n        {particleEmitterObject.getRendererType() ===\n          gd.ParticleEmitterObject.Line && (\n          <Line>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                floatingLabelText={<Trans>Lines length</Trans>}\n                fullWidth\n                type=\"number\"\n                value={particleEmitterObject.getRendererParam1()}\n                onChange={value => {\n                  particleEmitterObject.setRendererParam1(parseFloat(value));\n                  this.forceUpdate();\n                }}\n              />\n            </Column>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                floatingLabelText={<Trans>Lines thickness</Trans>}\n                fullWidth\n                type=\"number\"\n                value={particleEmitterObject.getRendererParam2()}\n                onChange={value => {\n                  particleEmitterObject.setRendererParam2(parseFloat(value));\n                  this.forceUpdate();\n                }}\n              />\n            </Column>\n          </Line>\n        )}\n        {particleEmitterObject.getRendererType() ===\n          gd.ParticleEmitterObject.Quad && (\n          <React.Fragment>\n            <Line>\n              <ResourceSelectorWithThumbnail\n                project={project}\n                resourceSources={resourceSources}\n                onChooseResource={onChooseResource}\n                resourceKind=\"image\"\n                resourceName={particleEmitterObject.getParticleTexture()}\n                resourceExternalEditors={resourceExternalEditors}\n                onChange={resourceName => {\n                  particleEmitterObject.setParticleTexture(resourceName);\n                  this.forceUpdate();\n                }}\n                floatingLabelText={<Trans>Select an image</Trans>}\n              />\n            </Line>\n            <Line>\n              <Column expand noMargin>\n                <SemiControlledTextField\n                  floatingLabelText={<Trans>Particles start width</Trans>}\n                  fullWidth\n                  type=\"number\"\n                  value={particleEmitterObject.getRendererParam1()}\n                  onChange={value => {\n                    particleEmitterObject.setRendererParam1(\n                      Math.max(0, parseFloat(value))\n                    );\n                    this.forceUpdate();\n                  }}\n                />\n              </Column>\n              <Column expand noMargin>\n                <SemiControlledTextField\n                  floatingLabelText={<Trans>Particles start height</Trans>}\n                  fullWidth\n                  type=\"number\"\n                  value={particleEmitterObject.getRendererParam2()}\n                  onChange={value => {\n                    particleEmitterObject.setRendererParam2(\n                      Math.max(0, parseFloat(value))\n                    );\n                    this.forceUpdate();\n                  }}\n                />\n              </Column>\n            </Line>\n          </React.Fragment>\n        )}\n        <Line>\n          <ColorField\n            floatingLabelText={<Trans>Particles start color</Trans>}\n            disableAlpha\n            fullWidth\n            color={{\n              r: particleEmitterObject.getParticleRed1(),\n              g: particleEmitterObject.getParticleGreen1(),\n              b: particleEmitterObject.getParticleBlue1(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              particleEmitterObject.setParticleRed1(color.rgb.r);\n              particleEmitterObject.setParticleGreen1(color.rgb.g);\n              particleEmitterObject.setParticleBlue1(color.rgb.b);\n\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Start opacity (0-255)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={particleEmitterObject.getParticleAlpha1()}\n            onChange={value => {\n              particleEmitterObject.setParticleAlpha1(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <ColorField\n            floatingLabelText={<Trans>Particles end color</Trans>}\n            disableAlpha\n            fullWidth\n            color={{\n              r: particleEmitterObject.getParticleRed2(),\n              g: particleEmitterObject.getParticleGreen2(),\n              b: particleEmitterObject.getParticleBlue2(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              particleEmitterObject.setParticleRed2(color.rgb.r);\n              particleEmitterObject.setParticleGreen2(color.rgb.g);\n              particleEmitterObject.setParticleBlue2(color.rgb.b);\n\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>End opacity (0-255)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={particleEmitterObject.getParticleAlpha2()}\n            onChange={value => {\n              particleEmitterObject.setParticleAlpha2(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <Checkbox\n            label={<Trans>Additive rendering</Trans>}\n            checked={particleEmitterObject.isRenderingAdditive()}\n            onCheck={(e, checked) => {\n              if (checked) particleEmitterObject.setRenderingAdditive();\n              else particleEmitterObject.setRenderingAlpha();\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <Checkbox\n            label={<Trans>Delete when out of particles</Trans>}\n            checked={particleEmitterObject.getDestroyWhenNoParticles()}\n            onCheck={(e, checked) => {\n              particleEmitterObject.setDestroyWhenNoParticles(checked);\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Maximum number of particles displayed</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getMaxParticleNb()}\n              onChange={value => {\n                particleEmitterObject.setMaxParticleNb(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Number of particles in tank (-1 for infinite)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getTank()}\n              onChange={value => {\n                particleEmitterObject.setTank(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Flow of particles (particles/seconds)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getFlow()}\n              onChange={value => {\n                particleEmitterObject.setFlow(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Minimum emitter force applied on particles</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getEmitterForceMin()}\n              onChange={value => {\n                particleEmitterObject.setEmitterForceMin(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Maximum emitter force applied on particles</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getEmitterForceMax()}\n              onChange={value => {\n                particleEmitterObject.setEmitterForceMax(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Spray cone angle (in degrees)</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getConeSprayAngle()}\n              onChange={value => {\n                particleEmitterObject.setConeSprayAngle(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Radius of the emitter</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getZoneRadius()}\n              onChange={value => {\n                particleEmitterObject.setZoneRadius(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Gravity on particles on X axis</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleGravityX()}\n              onChange={value => {\n                particleEmitterObject.setParticleGravityX(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Gravity on particles on Y axis</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleGravityY()}\n              onChange={value => {\n                particleEmitterObject.setParticleGravityY(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Friction on particles</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getFriction()}\n              onChange={value => {\n                particleEmitterObject.setFriction(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Particle minimum lifetime (in seconds)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleLifeTimeMin()}\n              onChange={value => {\n                particleEmitterObject.setParticleLifeTimeMin(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Particle maximum lifetime (in seconds)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleLifeTimeMax()}\n              onChange={value => {\n                particleEmitterObject.setParticleLifeTimeMax(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Particle start size (in percents)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleSize1()}\n              onChange={value => {\n                particleEmitterObject.setParticleSize1(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Particle end size (in percents)</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleSize2()}\n              onChange={value => {\n                particleEmitterObject.setParticleSize2(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Particle minimum rotation speed (degrees/second)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleAngle1()}\n              onChange={value => {\n                particleEmitterObject.setParticleAngle1(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Particle maximum rotation speed (degrees/second)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleAngle2()}\n              onChange={value => {\n                particleEmitterObject.setParticleAngle2(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\n\nimport * as React from 'react';\nimport PropertiesEditor from '../../PropertiesEditor';\nimport propertiesMapToSchema from '../../PropertiesEditor/PropertiesMapToSchema';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { type EditorProps } from './EditorProps.flow';\nimport { Column, Line } from '../../UI/Grid';\nimport { getExtraObjectsInformation } from '../../Hints';\nimport AlertMessage from '../../UI/AlertMessage';\n\ntype Props = EditorProps;\n\nexport default class ObjectPropertiesEditor extends React.Component<Props> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const properties = object.getProperties(project);\n\n    const propertiesSchema = propertiesMapToSchema(\n      properties,\n      object => object.getProperties(project),\n      (object, name, value) => object.updateProperty(name, value, project)\n    );\n\n    const extraInformation = getExtraObjectsInformation()[object.getType()];\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Column>\n            {propertiesSchema.length ? (\n              <React.Fragment>\n                {extraInformation ? (\n                  <Line>\n                    <Column noMargin>\n                      {extraInformation.map(({ kind, message }, index) => (\n                        <AlertMessage kind={kind} key={index}>\n                          {i18n._(message)}\n                        </AlertMessage>\n                      ))}\n                    </Column>\n                  </Line>\n                ) : null}\n                <PropertiesEditor\n                  schema={propertiesSchema}\n                  instances={[object]}\n                  project={project}\n                  resourceSources={resourceSources}\n                  onChooseResource={onChooseResource}\n                  resourceExternalEditors={resourceExternalEditors}\n                />\n              </React.Fragment>\n            ) : (\n              <EmptyMessage>\n                <Trans>\n                  There is nothing to configure for this object. You can still\n                  use events to interact with the object.\n                </Trans>\n              </EmptyMessage>\n            )}\n          </Column>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nconst gd = global.gd;\n\nexport default class InstancesSelection {\n  selection: Array<gdInitialInstance> = [];\n\n  hasSelectedInstances() {\n    return !!this.getSelectedInstances().length;\n  }\n\n  getSelectedInstances() {\n    return this.selection;\n  }\n\n  isInstanceSelected(instance: gdInitialInstance) {\n    for (var i = 0; i < this.selection.length; i++) {\n      if (gd.compare(this.selection[i], instance)) return true;\n    }\n\n    return false;\n  }\n\n  clearSelection() {\n    this.selection.length = 0;\n  }\n\n  selectInstance(\n    instance: gdInitialInstance,\n    multiselect: boolean,\n    layersVisibility: ?{ [string]: boolean } = null\n  ) {\n    if (this.isInstanceSelected(instance)) {\n      if (multiselect) this.unselectInstance(instance);\n\n      return;\n    }\n\n    if (!multiselect) this.clearSelection();\n\n    if (!layersVisibility || layersVisibility[instance.getLayer()]) {\n      this.selection.push(instance);\n    }\n  }\n\n  selectInstances(\n    instances: Array<gdInitialInstance>,\n    multiselect: boolean,\n    layersVisibility: ?{ [string]: boolean } = null\n  ) {\n    if (!multiselect) this.clearSelection();\n\n    instances.forEach(instance =>\n      this.selectInstance(instance, true, layersVisibility)\n    );\n  }\n\n  unselectInstance(instance: gdInitialInstance) {\n    if (this.isInstanceSelected(instance)) {\n      var i = this.selection.length - 1;\n      while (i >= -1 && this.selection[i].ptr !== instance.ptr) {\n        --i;\n      }\n\n      this.selection.splice(i, 1);\n    }\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport TextField from 'material-ui/TextField';\nimport Dialog from '../UI/Dialog';\n\nexport default class SetupGridDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...props.gridOptions };\n  }\n\n  _onApply = () => {\n    this.props.onApply({\n      gridWidth: this.state.gridWidth,\n      gridHeight: this.state.gridHeight,\n      gridOffsetX: this.state.gridOffsetX,\n      gridOffsetY: this.state.gridOffsetY,\n    });\n  };\n\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={this.props.onCancel}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={this._onApply}\n      />,\n    ];\n\n    return (\n      <Dialog\n        actions={actions}\n        open={this.props.open}\n        onRequestClose={this.props.onCancel}\n        autoScrollBodyContent={true}\n      >\n        <TextField\n          floatingLabelText={<Trans>Cell width (in pixels)</Trans>}\n          type=\"number\"\n          value={this.state.gridWidth}\n          onChange={(e, value) =>\n            this.setState({ gridWidth: parseInt(value, 10) })\n          }\n        />\n        <TextField\n          floatingLabelText={<Trans>Cell height (in pixels)</Trans>}\n          type=\"number\"\n          value={this.state.gridHeight}\n          onChange={(e, value) =>\n            this.setState({ gridHeight: parseInt(value, 10) })\n          }\n        />\n        <TextField\n          floatingLabelText={<Trans>X offset (in pixels)</Trans>}\n          type=\"number\"\n          value={this.state.gridOffsetX}\n          onChange={(e, value) =>\n            this.setState({ gridOffsetX: parseInt(value, 10) })\n          }\n        />\n        <TextField\n          floatingLabelText={<Trans>Y offset (in pixels)</Trans>}\n          type=\"number\"\n          value={this.state.gridOffsetY}\n          onChange={(e, value) =>\n            this.setState({ gridOffsetY: parseInt(value, 10) })\n          }\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport TextField from 'material-ui/TextField';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Dialog from '../UI/Dialog';\nimport ColorField from '../UI/ColorField';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport PropertiesEditor from '../PropertiesEditor';\nimport propertiesMapToSchema from '../PropertiesEditor/PropertiesMapToSchema';\nimport some from 'lodash/some';\nimport Checkbox from 'material-ui/Checkbox';\n\ntype Props = {|\n  open: boolean,\n  layout: gdLayout,\n  project: gdProject,\n  onApply?: () => void,\n  onClose: () => void,\n  onOpenMoreSettings: () => void,\n  onEditVariables: () => void,\n|};\n\ntype State = {|\n  windowTitle: string,\n  shouldStopSoundsOnStartup: boolean,\n  backgroundColor: {\n    r: number,\n    g: number,\n    b: number,\n    a: number,\n  },\n|};\n\nexport default class ScenePropertiesDialog extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = this._loadFrom(props.layout);\n  }\n\n  _loadFrom(layout: gdLayout): State {\n    return {\n      windowTitle: layout.getWindowDefaultTitle(),\n      shouldStopSoundsOnStartup: layout.stopSoundsOnStartup(),\n      backgroundColor: {\n        r: layout.getBackgroundColorRed(),\n        g: layout.getBackgroundColorGreen(),\n        b: layout.getBackgroundColorBlue(),\n        a: 1,\n      },\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.layout !== newProps.layout)\n    ) {\n      this.setState(this._loadFrom(newProps.layout));\n    }\n  }\n\n  _onApply = () => {\n    this.props.layout.setWindowDefaultTitle(this.state.windowTitle);\n    this.props.layout.setStopSoundsOnStartup(\n      this.state.shouldStopSoundsOnStartup\n    );\n    this.props.layout.setBackgroundColor(\n      this.state.backgroundColor.r,\n      this.state.backgroundColor.g,\n      this.state.backgroundColor.b\n    );\n    if (this.props.onApply) this.props.onApply();\n  };\n\n  render() {\n    const { layout, project } = this.props;\n    const actions = [\n      // TODO: Add support for cancelling modifications made to BehaviorSharedData\n      // (either by enhancing a function like propertiesMapToSchema or using copies)\n      // and then re-enable cancel button.\n      // <FlatButton\n      //   label={<Trans>Cancel</Trans>}\n      //   primary={false}\n      //   onClick={this.props.onClose}\n      // />,\n      <FlatButton\n        label={<Trans>Ok</Trans>}\n        key=\"ok\"\n        primary={true}\n        keyboardFocused={true}\n        onClick={this._onApply}\n      />,\n    ];\n\n    const allBehaviorSharedDataNames = layout\n      .getAllBehaviorSharedDataNames()\n      .toJSArray();\n\n    const propertiesEditors = allBehaviorSharedDataNames.map(name => {\n      const sharedData = layout.getBehaviorSharedData(name);\n\n      const properties = sharedData.getProperties(project);\n      const propertiesSchema = propertiesMapToSchema(\n        properties,\n        sharedData => sharedData.getProperties(project),\n        (sharedData, name, value) =>\n          sharedData.updateProperty(name, value, project)\n      );\n\n      return (\n        !!propertiesSchema.length && (\n          <PropertiesEditor\n            key={name}\n            schema={propertiesSchema}\n            instances={[sharedData]}\n          />\n        )\n      );\n    });\n\n    return (\n      <Dialog\n        actions={actions}\n        open={this.props.open}\n        onRequestClose={this.props.onClose}\n        autoScrollBodyContent={true}\n        contentStyle={{ width: '350px' }}\n      >\n        <TextField\n          floatingLabelText={<Trans>Window title</Trans>}\n          fullWidth\n          type=\"text\"\n          value={this.state.windowTitle}\n          onChange={(e, value) => this.setState({ windowTitle: value })}\n        />\n        <Checkbox\n          checked={this.state.shouldStopSoundsOnStartup}\n          label={<Trans>Stop musics and sounds on startup</Trans>}\n          onCheck={(e, check) =>\n            this.setState({\n              shouldStopSoundsOnStartup: check,\n            })\n          }\n        />\n        <ColorField\n          floatingLabelText={<Trans>Scene background color</Trans>}\n          fullWidth\n          disableAlpha\n          color={this.state.backgroundColor}\n          onChangeComplete={color =>\n            this.setState({ backgroundColor: color.rgb })\n          }\n        />\n        <RaisedButton\n          label={<Trans>Edit scene variables</Trans>}\n          fullWidth\n          onClick={() => {\n            this.props.onEditVariables();\n            this.props.onClose();\n          }}\n        />\n        {!some(propertiesEditors) && (\n          <EmptyMessage>\n            <Trans>\n              Any additional properties will appear here if you add behaviors to\n              objects, like Physics behavior.\n            </Trans>\n          </EmptyMessage>\n        )}\n        {propertiesEditors}\n        {this.props.onOpenMoreSettings && (\n          <RaisedButton\n            label={<Trans>Open advanced settings</Trans>}\n            fullWidth\n            onClick={() => {\n              this.props.onOpenMoreSettings();\n              this.props.onClose();\n            }}\n          />\n        )}\n      </Dialog>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport IconMenu from '../UI/Menu/IconMenu';\n\nconst t = str => str; //TODO\n\nexport class Toolbar extends PureComponent {\n  render() {\n    return (\n      <ToolbarGroup lastChild>\n        {this.props.showPreviewButton && (\n          <ToolbarIcon\n            onClick={this.props.onPreview}\n            src=\"res/ribbon_default/preview32.png\"\n            tooltip={t('Launch a preview of the scene')}\n          />\n        )}\n        {this.props.showNetworkPreviewButton && (\n          <IconMenu\n            iconButtonElement={\n              <ToolbarIcon\n                src=\"res/ribbon_default/bug32.png\"\n                tooltip={t(\n                  'Advanced preview options (debugger, network preview...)'\n                )}\n              />\n            }\n            buildMenuTemplate={() => [\n              {\n                label: 'Network preview (Preview over WiFi/LAN)',\n                click: () => this.props.onNetworkPreview(),\n              },\n              { type: 'separator' },\n              {\n                label: 'Preview with debugger and performance profiler',\n                click: () => this.props.onOpenDebugger(),\n              },\n            ]}\n          />\n        )}\n        {this.props.showPreviewButton && <ToolbarSeparator />}\n        {this.props.showObjectsList && (\n          <ToolbarIcon\n            onClick={this.props.openObjectsList}\n            src=\"res/ribbon_default/objects64.png\"\n            tooltip={t('Open the objects editor')}\n          />\n        )}\n        {this.props.showObjectsList && (\n          <ToolbarIcon\n            onClick={this.props.openObjectGroupsList}\n            src={'res/ribbon_default/objectsgroups64.png'}\n            tooltip={t('Open the objects groups editor')}\n          />\n        )}\n        <ToolbarIcon\n          onClick={this.props.openProperties}\n          src=\"res/ribbon_default/editprop32.png\"\n          tooltip={t('Open the properties panel')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.undo}\n          src=\"res/ribbon_default/undo32.png\"\n          disabled={!this.props.canUndo}\n          tooltip={t('Undo the last changes')}\n        />\n        <ToolbarIcon\n          onClick={this.props.redo}\n          src=\"res/ribbon_default/redo32.png\"\n          disabled={!this.props.canRedo}\n          tooltip={t('Redo the last changes')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.deleteSelection}\n          src=\"res/ribbon_default/deleteselected32.png\"\n          disabled={\n            !this.props.instancesSelection.getSelectedInstances().length\n          }\n          tooltip={t('Delete the selected instances from the scene')}\n        />\n        <ToolbarIcon\n          onClick={this.props.toggleInstancesList}\n          src=\"res/ribbon_default/ObjectsPositionsList32.png\"\n          tooltip={t('Open the list of instances')}\n        />\n        <ToolbarIcon\n          onClick={this.props.toggleLayersList}\n          src=\"res/ribbon_default/layers32.png\"\n          tooltip={t('Open the layers editor')}\n        />\n        <ToolbarSeparator />\n        <IconMenu\n          iconButtonElement={\n            <ToolbarIcon\n              src=\"res/ribbon_default/grid32.png\"\n              tooltip={t('Toggle/edit grid')}\n            />\n          }\n          buildMenuTemplate={() => [\n            {\n              type: 'checkbox',\n              label: 'Show Mask',\n              checked: this.props.isWindowMaskShown(),\n              click: () => this.props.toggleWindowMask(),\n            },\n            {\n              type: 'checkbox',\n              label: 'Show grid',\n              checked: this.props.isGridShown(),\n              click: () => this.props.toggleGrid(),\n            },\n            { type: 'separator' },\n            {\n              label: 'Setup grid',\n              click: () => this.props.openSetupGrid(),\n            },\n          ]}\n        />\n        <IconMenu\n          iconButtonElement={\n            <ToolbarIcon\n              src=\"res/ribbon_default/zoom32.png\"\n              tooltip={t('Change editor zoom')}\n            />\n          }\n          buildMenuTemplate={() => [\n            {\n              label: 'Zoom in',\n              click: this.props.zoomIn,\n              accelerator: 'CmdOrCtrl++',\n            },\n            {\n              label: 'Zoom out',\n              click: this.props.zoomOut,\n              accelerator: 'CmdOrCtrl+-',\n            },\n            { type: 'separator' },\n            { label: '5%', click: () => this.props.setZoomFactor(0.05) },\n            { label: '10%', click: () => this.props.setZoomFactor(0.1) },\n            { label: '25%', click: () => this.props.setZoomFactor(0.25) },\n            { label: '50%', click: () => this.props.setZoomFactor(0.5) },\n            { label: '100%', click: () => this.props.setZoomFactor(1.0) },\n            { label: '150%', click: () => this.props.setZoomFactor(1.5) },\n            { label: '200%', click: () => this.props.setZoomFactor(2.0) },\n            { label: '400%', click: () => this.props.setZoomFactor(4.0) },\n          ]}\n        />\n      </ToolbarGroup>\n    );\n  }\n}\n\nexport default Toolbar;\n","import React, { Component } from 'react';\nimport Measure from 'react-measure';\n\nconst styles = {\n  flexContainer: { display: 'flex', flex: 1, position: 'relative' },\n  absoluteContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflowY: 'hidden',\n  },\n};\n\n/**\n * Take a component and pass the maximum size that the component can take\n * as width and height props.\n * @param {*} WrappedComponent\n * @param {*} options\n */\nexport const passFullSize = (WrappedComponent, { useFlex }) => {\n  return class FullSizeMeasurer extends Component {\n    state = {\n      width: undefined,\n      height: undefined,\n    };\n\n    render() {\n      const { wrappedComponentRef, ...otherProps } = this.props;\n\n      return (\n        <Measure\n          onMeasure={({ width, height }) => this.setState({ width, height })}\n        >\n          <div\n            style={useFlex ? styles.flexContainer : styles.absoluteContainer}\n          >\n            {this.state.width !== undefined &&\n              this.state.height !== undefined && (\n                <WrappedComponent\n                  width={this.state.width}\n                  height={this.state.height}\n                  ref={ref => wrappedComponentRef && wrappedComponentRef(ref)}\n                  {...otherProps}\n                />\n              )}\n          </div>\n        </Measure>\n      );\n    }\n  };\n};\n","// @flow\nimport React, { Component } from 'react';\nimport Slider from 'material-ui/Slider';\nimport ViewPosition from './ViewPosition';\nimport throttle from 'lodash/throttle';\n\nconst MATERIAL_UI_SLIDER_WIDTH = 18;\n\nconst styles = {\n  container: {\n    overflow: 'hidden',\n  },\n  xScrollbar: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n  },\n  xSliderStyle: {\n    marginTop: -MATERIAL_UI_SLIDER_WIDTH / 2 + 1,\n    marginBottom: 0,\n  },\n  yScrollbar: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n  },\n  ySliderStyle: {\n    marginTop: 0,\n    marginLeft: -MATERIAL_UI_SLIDER_WIDTH / 2,\n  },\n};\n\ntype ScrollableComponent = {\n  scrollTo: (number, number) => void,\n  getViewPosition: () => ?ViewPosition,\n};\n\ntype Props = {\n  wrappedEditorRef: ?(?ScrollableComponent) => void,\n};\n\ntype State = {\n  xValue: number,\n  yValue: number,\n  xMin: number,\n  xMax: number,\n  yMin: number,\n  yMax: number,\n};\n\n/**\n * Add scrollbars that track the viewPosition of the wrapped component\n * @param {*} WrappedComponent\n * @param {*} options\n */\nexport const addScrollbars = (WrappedComponent: any) => {\n  return class ScrollbarContainer extends Component<Props, State> {\n    _editor: ?ScrollableComponent = null;\n\n    state: State = {\n      xValue: 0,\n      yValue: 0,\n      xMin: -5000,\n      xMax: +5000,\n      yMin: -5000,\n      yMax: +5000,\n    };\n\n    componentDidMount() {\n      if (this._editor) {\n        this._handleViewPositionChange(this._editor.getViewPosition());\n      }\n    }\n\n    _handleXChange = (e: any, value: number) => {\n      this.setState(\n        {\n          xValue: value,\n        },\n        () => {\n          if (this._editor) {\n            this._editor.scrollTo(this.state.xValue, this.state.yValue);\n          }\n        }\n      );\n    };\n\n    _handleYChange = (e: any, value: number) => {\n      this.setState(\n        {\n          yValue: value,\n        },\n        () => {\n          if (this._editor) {\n            this._editor.scrollTo(this.state.xValue, this.state.yValue);\n          }\n        }\n      );\n    };\n\n    _setAndAdjust = ({\n      xValue,\n      yValue,\n    }: {\n      xValue: number,\n      yValue: number,\n    }) => {\n      const xMax = Math.max(Math.abs(xValue) + 100, this.state.xMax);\n      const yMax = Math.max(Math.abs(yValue) + 100, this.state.yMax);\n\n      this.setState({\n        xMax,\n        yMax,\n        xMin: -xMax,\n        yMin: -yMax,\n        xValue,\n        yValue,\n      });\n    };\n\n    _handleViewPositionChange = throttle(\n      (viewPosition: ?ViewPosition) => {\n        if (!viewPosition) return;\n\n        this._setAndAdjust({\n          xValue: viewPosition.getViewX(),\n          yValue: viewPosition.getViewY(),\n        });\n      },\n      500, // Throttle the updates after a scroll to avoid make lots of updates in a row that would kill CPU\n      { leading: false, trailing: true }\n    );\n\n    render() {\n      const { wrappedEditorRef, ...otherProps } = this.props;\n\n      return (\n        <div style={styles.container}>\n          <WrappedComponent\n            onViewPositionChanged={this._handleViewPositionChange}\n            ref={(editorRef: ?ScrollableComponent) => {\n              wrappedEditorRef && wrappedEditorRef(editorRef);\n              this._editor = editorRef;\n            }}\n            {...otherProps}\n          />\n          <Slider\n            value={this.state.xValue}\n            min={this.state.xMin}\n            max={this.state.xMax}\n            onChange={this._handleXChange}\n            style={styles.xScrollbar}\n            sliderStyle={styles.xSliderStyle}\n            axis=\"x\"\n          />\n          <Slider\n            value={this.state.yValue}\n            min={this.state.yMin}\n            max={this.state.yMax}\n            onChange={this._handleYChange}\n            style={styles.yScrollbar}\n            sliderStyle={styles.ySliderStyle}\n            axis=\"y-reverse\"\n          />\n        </div>\n      );\n    }\n  };\n};\n","// @flow\nimport * as React from 'react';\nimport { AutoSizer } from 'react-virtualized';\nimport SortableVirtualizedItemList from '../UI/SortableVirtualizedItemList';\nimport Background from '../UI/Background';\nimport SearchBar from 'material-ui-search-bar';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { filterResourcesList } from './EnumerateResources';\nimport optionalRequire from '../Utils/OptionalRequire.js';\nimport {\n  createOrUpdateResource,\n  getLocalResourceFullPath,\n  resourceHasValidPath,\n  RESOURCE_EXTENSIONS,\n} from './ResourceUtils.js';\nimport { type ResourceKind } from './ResourceSource.flow';\n\nconst path = optionalRequire('path');\nconst glob = optionalRequire('glob');\nconst electron = optionalRequire('electron');\nconst hasElectron = electron ? true : false;\n\nconst gd = global.gd;\n\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\ntype State = {|\n  renamedResource: ?gdResource,\n  searchText: string,\n  resourcesWithMissingPath: { [string]: boolean },\n|};\n\ntype Props = {|\n  project: gdProject,\n  selectedResource: ?gdResource,\n  onSelectResource: (resource: gdResource) => void,\n  onDeleteResource: (resource: gdResource) => void,\n  onRenameResource: (\n    resource: gdResource,\n    newName: string,\n    cb: (boolean) => void\n  ) => void,\n|};\n\nexport default class ResourcesList extends React.Component<Props, State> {\n  sortableList: any;\n  state: State = {\n    renamedResource: null,\n    searchText: '',\n    resourcesWithMissingPath: {},\n  };\n\n  shouldComponentUpdate(nextProps: Props, nextState: State) {\n    // The component is costly to render, so avoid any re-rendering as much\n    // as possible.\n    // We make the assumption that no changes to resources list is made outside\n    // from the component.\n    // If a change is made, the component won't notice it: you have to manually\n    // call forceUpdate.\n\n    if (\n      this.state.renamedResource !== nextState.renamedResource ||\n      this.state.searchText !== nextState.searchText\n    )\n      return true;\n\n    if (\n      this.props.project !== nextProps.project ||\n      this.props.selectedResource !== nextProps.selectedResource\n    )\n      return true;\n\n    return false;\n  }\n\n  _deleteResource = (resource: gdResource) => {\n    this.props.onDeleteResource(resource);\n  };\n\n  _locateResourceFile = (resource: gdResource) => {\n    const resourceFolderPath = path.dirname(\n      getLocalResourceFullPath(this.props.project, resource.getName())\n    );\n    electron.shell.openItem(resourceFolderPath);\n  };\n\n  _openResourceFile = (resource: gdResource) => {\n    const resourceFilePath = getLocalResourceFullPath(\n      this.props.project,\n      resource.getName()\n    );\n    electron.shell.openItem(resourceFilePath);\n  };\n\n  _copyResourceFilePath = (resource: gdResource) => {\n    const resourceFilePath = getLocalResourceFullPath(\n      this.props.project,\n      resource.getName()\n    );\n    electron.clipboard.writeText(resourceFilePath);\n  };\n\n  _scanForNewResources = (\n    extensions: string,\n    createResource: () => gdResource\n  ) => {\n    const project = this.props.project;\n    const resourcesManager = project.getResourcesManager();\n    const projectPath = path.dirname(project.getProjectFile());\n\n    const getDirectories = (src, callback) => {\n      glob(src + '/**/*.{' + extensions + '}', callback);\n    };\n    getDirectories(projectPath, (err, res) => {\n      if (err) {\n        console.error('Error loading ', err);\n      } else {\n        res.forEach(pathFound => {\n          const fileName = path.relative(projectPath, pathFound);\n          if (!resourcesManager.hasResource(fileName)) {\n            createOrUpdateResource(project, createResource(), fileName);\n            console.info(`${fileName} added to project.`);\n          }\n        });\n      }\n      this.forceUpdate();\n    });\n  };\n\n  _removeUnusedResources = (resourceType: ResourceKind) => {\n    const { project } = this.props;\n    gd.ProjectResourcesAdder.getAllUseless(project, resourceType)\n      .toJSArray()\n      .forEach(resourceName => {\n        console.info(\n          `Removing unused` + resourceType + ` resource: ${resourceName}`\n        );\n      });\n    gd.ProjectResourcesAdder.removeAllUseless(project, resourceType);\n    this.forceUpdate();\n  };\n\n  _removeAllResourcesWithInvalidPath = () => {\n    const { project } = this.props;\n    const resourcesManager = project.getResourcesManager();\n    resourcesManager\n      .getAllResourceNames()\n      .toJSArray()\n      .forEach(resourceName => {\n        if (!resourceHasValidPath(project, resourceName)) {\n          resourcesManager.removeResource(resourceName);\n          console.info('Removed due to invalid path: ' + resourceName);\n        }\n      });\n    this.forceUpdate();\n  };\n\n  _editName = (resource: ?gdResource) => {\n    this.setState(\n      {\n        renamedResource: resource,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _rename = (resource: gdResource, newName: string) => {\n    const { project } = this.props;\n    this.setState({\n      renamedResource: null,\n    });\n\n    if (resource.getName() === newName) return;\n\n    if (project.getResourcesManager().hasResource(newName)) {\n      showWarningBox('Another resource with this name already exists');\n      return;\n    }\n\n    // eslint-disable-next-line\n    const answer = confirm(\n      'Are you sure you want to rename this resource? \\nGame objects using the old name will no longer be able to find it!'\n    );\n    if (!answer) return;\n\n    this.props.onRenameResource(resource, newName, doRename => {\n      if (!doRename) return;\n      resource.setName(newName);\n      this.forceUpdate();\n    });\n  };\n\n  _move = (oldIndex: number, newIndex: number) => {\n    const { project } = this.props;\n\n    project.getResourcesManager().moveResource(oldIndex, newIndex);\n    this.forceUpdateList();\n  };\n\n  forceUpdateList = () => {\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  _renderResourceMenuTemplate = (resource: gdResource) => {\n    return [\n      {\n        label: 'Rename',\n        click: () => this._editName(resource),\n      },\n      {\n        label: 'Remove',\n        click: () => this._deleteResource(resource),\n      },\n      { type: 'separator' },\n      {\n        label: 'Open File',\n        click: () => this._openResourceFile(resource),\n        enabled: hasElectron,\n      },\n      {\n        label: 'Locate File',\n        click: () => this._locateResourceFile(resource),\n        enabled: hasElectron,\n      },\n      {\n        label: 'Copy File Path',\n        click: () => this._copyResourceFilePath(resource),\n        enabled: hasElectron,\n      },\n      { type: 'separator' },\n      {\n        label: 'Scan for Images',\n        click: () => {\n          this._scanForNewResources(\n            RESOURCE_EXTENSIONS.image,\n            () => new gd.ImageResource()\n          );\n        },\n        enabled: hasElectron,\n      },\n      {\n        label: 'Scan for Audio',\n        click: () => {\n          this._scanForNewResources(\n            RESOURCE_EXTENSIONS.audio,\n            () => new gd.AudioResource()\n          );\n        },\n        enabled: hasElectron,\n      },\n      {\n        label: 'Scan for Fonts',\n        click: () => {\n          this._scanForNewResources(\n            RESOURCE_EXTENSIONS.font,\n            () => new gd.FontResource()\n          );\n        },\n        enabled: hasElectron,\n      },\n      {\n        label: 'Scan for Videos',\n        click: () => {\n          this._scanForNewResources(\n            RESOURCE_EXTENSIONS.video,\n            () => new gd.VideoResource()\n          );\n        },\n        enabled: hasElectron,\n      },\n      { type: 'separator' },\n      {\n        label: 'Remove Unused Images',\n        click: () => {\n          this._removeUnusedResources('image');\n        },\n      },\n      {\n        label: 'Remove Unused Audio',\n        click: () => {\n          this._removeUnusedResources('audio');\n        },\n      },\n      {\n        label: 'Remove Unused Fonts',\n        click: () => {\n          this._removeUnusedResources('font');\n        },\n      },\n      {\n        label: 'Remove Resources with Invalid Path',\n        click: () => {\n          this._removeAllResourcesWithInvalidPath();\n        },\n        enabled: hasElectron,\n      },\n    ];\n  };\n\n  checkMissingPaths = () => {\n    const { project } = this.props;\n    const resourcesManager = project.getResourcesManager();\n    const resourceNames = resourcesManager.getAllResourceNames().toJSArray();\n    const resourcesWithMissingPath = {};\n    resourceNames.forEach(resourceName => {\n      resourcesWithMissingPath[resourceName] = !resourceHasValidPath(\n        project,\n        resourceName\n      );\n    });\n    this.setState({ resourcesWithMissingPath });\n    this.forceUpdateList();\n  };\n\n  componentDidMount() {\n    this.checkMissingPaths();\n  }\n\n  render() {\n    const { project, selectedResource, onSelectResource } = this.props;\n    const { searchText } = this.state;\n\n    const resourcesManager = project.getResourcesManager();\n    const allResourcesList = resourcesManager\n      .getAllResourceNames()\n      .toJSArray()\n      .map(resourceName => resourcesManager.getResource(resourceName));\n    const filteredList = filterResourcesList(allResourcesList, searchText);\n\n    // Force List component to be mounted again if project\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = project.ptr;\n\n    return (\n      <Background>\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableVirtualizedItemList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={filteredList}\n                width={width}\n                height={height}\n                selectedItem={selectedResource}\n                onItemSelected={onSelectResource}\n                renamedItem={this.state.renamedResource}\n                onRename={this._rename}\n                onSortEnd={({ oldIndex, newIndex }) =>\n                  this._move(oldIndex, newIndex)\n                }\n                buildMenuTemplate={this._renderResourceMenuTemplate}\n                helperClass=\"sortable-helper\"\n                distance={20}\n                erroredItems={this.state.resourcesWithMissingPath}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n      </Background>\n    );\n  }\n}\n","// @flow\n\nexport const filterResourcesList = (\n  list: Array<gdResource>,\n  searchText: string\n): Array<gdResource> => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter((resource: gdResource) => {\n    return (\n      resource\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n    );\n  });\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ReactErrorBoundary from 'react-error-boundary';\nimport BugReport from 'material-ui/svg-icons/action/bug-report';\nimport PlaceholderMessage from './PlaceholderMessage';\nimport Divider from 'material-ui/Divider';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { sendErrorMessage } from '../Utils/Analytics/EventSender';\nimport Window from '../Utils/Window';\n\nconst errorHandler = (error: Error, componentStack: string) => {\n  console.error('Error catched by Boundary:', error, componentStack);\n  sendErrorMessage('Error catched by error boundary', 'error-boundary', {\n    error,\n    componentStack,\n  });\n};\n\nconst styles = {\n  title: {\n    fontSize: 24,\n  },\n};\n\nexport const ErrorFallbackComponent = ({\n  componentStack,\n  error,\n}: {\n  componentStack: string,\n  error: Error,\n}) => (\n  <PlaceholderMessage>\n    <p style={styles.title}>\n      <BugReport /> This editor encountered a problem.\n    </p>\n    <Divider />\n    <p>\n      Something wrong happened :(\n      <br />\n      Please <b>backup your game file</b> and save your game to ensure that you\n      don't lose anything.\n    </p>\n    <p>\n      The error was automatically reported.\n      <br />\n      To make sure it's fixed, you may report it on GitHub, the platform where\n      GDevelop is developed:\n    </p>\n    <RaisedButton\n      label={<Trans>Report the issue on GitHub</Trans>}\n      onClick={() => {\n        const body = `\n=> Please write here a short description of when the error occured and how to reproduce it.\nYou also may have to create an account on GitHub before posting.\n\nWhen you're ready, click on \"Submit new issue\". Don't change the rest of the message. Thanks!\n\n## Error stack (don't write anything here)\n\\`\\`\\`\n${error ? error.stack : 'No error found'}\n\\`\\`\\`\n\n## Component stack (don't write anything here)\n\\`\\`\\`\n${componentStack || 'No component stack found'}\n\\`\\`\\`\n        `;\n        Window.openExternalURL(\n          `https://github.com/4ian/GDevelop/issues/new?body=${encodeURIComponent(\n            body\n          )}&title=Crash%20while%20using%20an%20editor`\n        );\n      }}\n    />\n  </PlaceholderMessage>\n);\n\ntype Props = {|\n  children: React.Node,\n|};\n\nconst ErrorBoundary = (props: Props) => (\n  <ReactErrorBoundary\n    FallbackComponent={ErrorFallbackComponent}\n    onError={errorHandler}\n  >\n    {props.children}\n  </ReactErrorBoundary>\n);\n\nexport default ErrorBoundary;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { Card, CardActions, CardHeader } from 'material-ui/Card';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport UserProfileContext, { UserProfile } from './UserProfileContext';\nimport { Column, Line } from '../UI/Grid';\nimport {\n  getSubscriptionPlans,\n  type PlanDetails,\n  changeUserSubscription,\n} from '../Utils/GDevelopServices/Usage';\nimport { StripeCheckoutConfig } from '../Utils/GDevelopServices/ApiConfigs';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport CheckCircle from 'material-ui/svg-icons/action/check-circle';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport { showMessageBox, showErrorBox } from '../UI/Messages/MessageBox';\nimport LeftLoader from '../UI/LeftLoader';\nimport PlaceholderMessage from '../UI/PlaceholderMessage';\nimport {\n  sendSubscriptionDialogShown,\n  sendChoosePlanClicked,\n} from '../Utils/Analytics/EventSender';\n\nconst styles = {\n  descriptionText: {\n    marginLeft: 16,\n    marginRight: 16,\n    marginTop: 8,\n    marginBottom: 8,\n  },\n  card: {\n    margin: 16,\n  },\n  actions: {\n    textAlign: 'right',\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  bulletIcon: { width: 20, height: 20, marginLeft: 15, marginRight: 10 },\n  bulletText: { flex: 1, marginTop: 5, marginBottom: 5 },\n};\n\ntype Props = {|\n  open: boolean,\n  onClose: Function,\n|};\n\ntype State = {|\n  isLoading: boolean,\n|};\n\nexport default class SubscriptionDialog extends Component<Props, State> {\n  state = { isLoading: false };\n  stripeCheckoutHandler: null;\n\n  componentDidMount() {\n    if (this.props.open) {\n      sendSubscriptionDialogShown();\n    }\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (!this.props.open && newProps.open) {\n      sendSubscriptionDialogShown();\n    }\n  }\n\n  choosePlan = (userProfile: UserProfile, plan: PlanDetails) => {\n    const { getAuthorizationHeader, subscription, profile } = userProfile;\n    if (!profile || !subscription) return;\n    sendChoosePlanClicked(plan.planId);\n\n    if (subscription.stripeCustomerId) {\n      //eslint-disable-next-line\n      const answer = confirm(\n        'Are you sure you want to subscribe to this new plan?'\n      );\n      if (!answer) return;\n\n      // We already have a stripe customer, change the subscription without\n      // asking for the user card.\n      this.setState({ isLoading: true });\n      changeUserSubscription(getAuthorizationHeader, profile.uid, {\n        planId: plan.planId,\n      }).then(\n        () => this.handleNewSubscriptionSuccess(userProfile, plan),\n        this.handleNewSubscriptionFailure\n      );\n    } else {\n      // No existing customer, we need to get the user card so that the API\n      // can create the customer.\n      const stripeCheckout = global.StripeCheckout;\n      if (stripeCheckout) {\n        this.stripeCheckoutHandler = stripeCheckout.configure({\n          key: StripeCheckoutConfig.key,\n          image: StripeCheckoutConfig.image,\n          locale: 'auto',\n          token: stripeToken => {\n            this.setState({ isLoading: true });\n            changeUserSubscription(getAuthorizationHeader, profile.uid, {\n              planId: plan.planId,\n              stripeToken,\n            }).then(\n              () => this.handleNewSubscriptionSuccess(userProfile, plan),\n              this.handleNewSubscriptionFailure\n            );\n          },\n        });\n\n        this.stripeCheckoutHandler.open({\n          name: plan.name,\n          description: 'Monthly subscription',\n          currency: 'eur',\n          email: profile.email,\n          amount: plan.monthlyPriceInEuros * 100,\n        });\n      }\n    }\n  };\n\n  handleNewSubscriptionSuccess = (\n    userProfile: UserProfile,\n    plan: PlanDetails\n  ) => {\n    userProfile.onRefreshUserProfile();\n    this.setState({ isLoading: false });\n    if (plan.planId) {\n      showMessageBox(\n        'Congratulations, your new subscription is now active!\\n\\nYou can now use the services unlocked with this plan.'\n      );\n    } else {\n      showMessageBox(\n        'Your subscription was properly cancelled. Sorry to see you go!'\n      );\n    }\n  };\n\n  handleNewSubscriptionFailure = (err: any) => {\n    this.setState({ isLoading: false });\n    showErrorBox(\n      'Your subscription could not be updated. Please try again later!',\n      err\n    );\n  };\n\n  _renderPrice(plan: PlanDetails) {\n    return !plan.monthlyPriceInEuros\n      ? 'Free'\n      : `${plan.monthlyPriceInEuros}€/month`;\n  }\n\n  _isLoading = (userProfile: UserProfile) =>\n    !userProfile.subscription || !userProfile.profile || this.state.isLoading;\n\n  render() {\n    const { open, onClose } = this.props;\n\n    return (\n      <UserProfileContext.Consumer>\n        {(userProfile: UserProfile) => (\n          <Dialog\n            actions={[\n              <FlatButton\n                label={<Trans>Close</Trans>}\n                key=\"close\"\n                primary={false}\n                onClick={onClose}\n              />,\n            ]}\n            onRequestClose={onClose}\n            open={open}\n            noMargin\n            autoScrollBodyContent\n          >\n            <Column>\n              <Line>\n                <p>\n                  <Trans>\n                    Get a subscription to package your games for Android,\n                    Windows, macOS and Linux, use live preview over wifi and\n                    more. With a subscription, you're also supporting the\n                    development of GDevelop, which is an open-source software.\n                  </Trans>\n                </p>\n              </Line>\n            </Column>\n            {getSubscriptionPlans().map(plan => (\n              <Card key={plan.planId || ''} style={styles.card}>\n                <CardHeader\n                  title={\n                    <span>\n                      <b>{plan.name}</b> - {this._renderPrice(plan)}\n                    </span>\n                  }\n                  subtitle={plan.smallDescription}\n                />\n                {plan.descriptionBullets.map((bulletText, index) => (\n                  <Column key={index} expand>\n                    <Line noMargin alignItems=\"center\">\n                      <CheckCircle style={styles.bulletIcon} />\n                      <p style={styles.bulletText}>{bulletText}</p>\n                    </Line>\n                  </Column>\n                ))}\n                <p style={styles.descriptionText}>\n                  {plan.extraDescription || ''}\n                </p>\n                <CardActions style={styles.actions}>\n                  {userProfile.subscription &&\n                  userProfile.subscription.planId === plan.planId ? (\n                    <FlatButton\n                      disabled\n                      label={<Trans>This is your current plan</Trans>}\n                      onClick={() => this.choosePlan(userProfile, plan)}\n                    />\n                  ) : plan.planId ? (\n                    <LeftLoader isLoading={this._isLoading(userProfile)}>\n                      <RaisedButton\n                        primary\n                        disabled={this._isLoading(userProfile)}\n                        label={<Trans>Choose this plan</Trans>}\n                        onClick={() => this.choosePlan(userProfile, plan)}\n                      />\n                    </LeftLoader>\n                  ) : (\n                    <LeftLoader isLoading={this._isLoading(userProfile)}>\n                      <FlatButton\n                        label={<Trans>Choose</Trans>}\n                        onClick={() => this.choosePlan(userProfile, plan)}\n                      />\n                    </LeftLoader>\n                  )}\n                </CardActions>\n              </Card>\n            ))}\n            <Column>\n              <Line>\n                <EmptyMessage>\n                  <Trans>\n                    Subscriptions can be stopped at any time. GDevelop uses\n                    Stripe.com for secure payment. No credit card data is stored\n                    by GDevelop: everything is managed by Stripe secure\n                    infrastructure.\n                  </Trans>\n                </EmptyMessage>\n              </Line>\n            </Column>\n            {!userProfile.authenticated && (\n              <PlaceholderMessage>\n                <p>\n                  <Trans>\n                    Create a GDevelop account to continue. It's free and you'll\n                    be able to access to online services like one-click build\n                    for Android:\n                  </Trans>\n                </p>\n                <RaisedButton\n                  label={<Trans>Create my account</Trans>}\n                  primary\n                  onClick={userProfile.onLogin}\n                />\n                <FlatButton\n                  label={<Trans>Not now, thanks</Trans>}\n                  onClick={onClose}\n                />\n              </PlaceholderMessage>\n            )}\n          </Dialog>\n        )}\n      </UserProfileContext.Consumer>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport FlatButton from 'material-ui/FlatButton';\nimport MenuItem from 'material-ui/MenuItem';\nimport Dialog from '../../UI/Dialog';\nimport { Column, Line } from '../../UI/Grid';\nimport Window from '../../Utils/Window';\nimport PreferencesContext from './PreferencesContext';\nimport AlertMessage from '../../UI/AlertMessage';\nimport LocalesMetadata from '../../locales/LocalesMetadata';\nimport { I18n } from '@lingui/react';\nimport Divider from 'material-ui/Divider';\n\ntype Props = {|\n  open: boolean,\n  onClose: (languageDidChange: boolean) => void,\n|};\n\ntype State = {|\n  languageDidChange: boolean,\n|};\n\nconst displayLocaleMetadata = localeMetadata => {\n  if (localeMetadata.languageCode === 'en') return false;\n  if (localeMetadata.languageCode === 'pseudo_LOCALE') return Window.isDev();\n\n  return true;\n};\n\nconst renderLanguageMenuItem = localeMetadata => {\n  const translationRatio = localeMetadata.translationRatio || 0;\n  const percent = (100 * localeMetadata.translationRatio).toFixed(0);\n  const isStarted = translationRatio > 0;\n\n  return (\n    <MenuItem\n      value={localeMetadata.languageCode}\n      primaryText={\n        localeMetadata.languageNativeName +\n        ' (' +\n        localeMetadata.languageName +\n        ')' +\n        (isStarted ? ` - ~${percent}%` : '')\n      }\n      disabled={!isStarted}\n      key={localeMetadata.languageCode}\n    />\n  );\n};\n\nexport default class LanguageDialog extends Component<Props, State> {\n  state = {\n    languageDidChange: false,\n  };\n\n  render() {\n    const { open, onClose } = this.props;\n    if (!open) return null;\n\n    const localesToDisplay = LocalesMetadata.filter(displayLocaleMetadata);\n    const goodProgressLocales = localesToDisplay.filter(\n      localeMetadata => localeMetadata.translationRatio > 0.5\n    );\n    const startedLocales = localesToDisplay.filter(\n      localeMetadata => localeMetadata.translationRatio < 0.5\n    );\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <PreferencesContext.Consumer>\n            {({ values, setLanguage }) => {\n              const isLoadingLanguage = i18n.language !== values.language;\n\n              return (\n                <Dialog\n                  actions={[\n                    <FlatButton\n                      label={\n                        isLoadingLanguage ? (\n                          <Trans>Loading...</Trans>\n                        ) : (\n                          <Trans>Close</Trans>\n                        )\n                      }\n                      primary={false}\n                      onClick={onClose}\n                      disabled={isLoadingLanguage}\n                    />,\n                  ]}\n                  secondaryActions={[\n                    <FlatButton\n                      label={<Trans>Report a wrong translation</Trans>}\n                      key=\"report-wrong-translation\"\n                      primary={false}\n                      onClick={() =>\n                        Window.openExternalURL(\n                          'https://github.com/4ian/GDevelop/issues/969'\n                        )\n                      }\n                    />,\n                  ]}\n                  onRequestClose={() => onClose(this.state.languageDidChange)}\n                  open={open}\n                  title={<Trans>Language</Trans>}\n                >\n                  <Column>\n                    <Line>\n                      <AlertMessage kind=\"info\">\n                        <Trans>\n                          Support for translations is still new and in beta.\n                          GDevelop needs your help to be translated in your\n                          language!\n                        </Trans>\n                      </AlertMessage>\n                    </Line>\n                    <Line expand>\n                      <SelectField\n                        floatingLabelText={\n                          <Trans>Choose GDevelop language</Trans>\n                        }\n                        value={values.language}\n                        onChange={(e, i, value) => {\n                          setLanguage(value);\n                          this.setState({\n                            languageDidChange: true,\n                          });\n                        }}\n                        fullWidth\n                      >\n                        <MenuItem value=\"en\" primaryText=\"English (default)\" />\n                        {goodProgressLocales.map(localeMetadata =>\n                          renderLanguageMenuItem(localeMetadata)\n                        )}\n                        <Divider />\n                        {startedLocales.map(localeMetadata =>\n                          renderLanguageMenuItem(localeMetadata)\n                        )}\n                      </SelectField>\n                    </Line>\n                    <Line expand>\n                      <FlatButton\n                        primary\n                        label={\n                          <Trans>Help to translate GD in your language</Trans>\n                        }\n                        onClick={() =>\n                          Window.openExternalURL(\n                            'https://crowdin.com/project/gdevelop'\n                          )\n                        }\n                        fullWidth\n                      />\n                    </Line>\n                  </Column>\n                </Dialog>\n              );\n            }}\n          </PreferencesContext.Consumer>\n        )}\n      </I18n>\n    );\n  }\n}\n","// This file is generated by compile-translations.js script\n// prettier-ignore\nmodule.exports = [\n  {\n    \"languageCode\": \"af_ZA\",\n    \"languageName\": \"Afrikaans\",\n    \"languageNativeName\": \"Afrikaans\",\n    \"translationRatio\": 0.003047232097511454\n  },\n  {\n    \"languageCode\": \"ar_SA\",\n    \"languageName\": \"Arabic\",\n    \"languageNativeName\": \"اللغة العربية\",\n    \"translationRatio\": 0.1455053326561706\n  },\n  {\n    \"languageCode\": \"az_AZ\",\n    \"languageName\": \"Azerbaijani\",\n    \"languageNativeName\": \"azərbaycan dili\",\n    \"translationRatio\": 0.020060944641950185\n  },\n  {\n    \"languageCode\": \"bg_BG\",\n    \"languageName\": \"Bulgarian\",\n    \"languageNativeName\": \"български език\",\n    \"translationRatio\": 0.02767902488572882\n  },\n  {\n    \"languageCode\": \"bn_BD\",\n    \"languageName\": \"Bengali\",\n    \"languageNativeName\": \"বাংলা\",\n    \"translationRatio\": 0.025647536820721184\n  },\n  {\n    \"languageCode\": \"ca_ES\",\n    \"languageName\": \"Catalan\",\n    \"languageNativeName\": \"català\",\n    \"translationRatio\": 0.00736414423565257\n  },\n  {\n    \"languageCode\": \"cs_CZ\",\n    \"languageName\": \"Czech\",\n    \"languageNativeName\": \"čeština\",\n    \"translationRatio\": 0.1155408836973083\n  },\n  {\n    \"languageCode\": \"da_DK\",\n    \"languageName\": \"Danish\",\n    \"languageNativeName\": \"dansk\",\n    \"translationRatio\": 0.030218384966988365\n  },\n  {\n    \"languageCode\": \"de_DE\",\n    \"languageName\": \"German\",\n    \"languageNativeName\": \"Deutsch\",\n    \"translationRatio\": 0.9065515490096496\n  },\n  {\n    \"languageCode\": \"el_GR\",\n    \"languageName\": \"Greek\",\n    \"languageNativeName\": \"ελληνικά\",\n    \"translationRatio\": 0.3049771457592687\n  },\n  {\n    \"languageCode\": \"en\",\n    \"languageName\": \"English\",\n    \"languageNativeName\": \"English\",\n    \"translationRatio\": 0.020183486238532056\n  },\n  {\n    \"languageCode\": \"eo_UY\",\n    \"languageName\": \"Esperanto\",\n    \"languageNativeName\": \"Esperanto\",\n    \"translationRatio\": 0.00736414423565257\n  },\n  {\n    \"languageCode\": \"es_ES\",\n    \"languageName\": \"Spanish\",\n    \"languageNativeName\": \"Español\",\n    \"translationRatio\": 0.9395632300660234\n  },\n  {\n    \"languageCode\": \"fa_IR\",\n    \"languageName\": \"Persian\",\n    \"languageNativeName\": \"فارسی\",\n    \"translationRatio\": 0.34306754697816155\n  },\n  {\n    \"languageCode\": \"fi_FI\",\n    \"languageName\": \"Finnish\",\n    \"languageNativeName\": \"suomi\",\n    \"translationRatio\": 0.4827323514474352\n  },\n  {\n    \"languageCode\": \"fil_PH\",\n    \"languageName\": \"Filipino\",\n    \"languageNativeName\": \"Mga Filipino\",\n    \"translationRatio\": 0.8943626206196038\n  },\n  {\n    \"languageCode\": \"fr_FR\",\n    \"languageName\": \"French\",\n    \"languageNativeName\": \"Français\",\n    \"translationRatio\": 0.7986287455561198\n  },\n  {\n    \"languageCode\": \"ha_HG\",\n    \"languageName\": \"Hausa\",\n    \"languageNativeName\": \"هَوُسَ\",\n    \"translationRatio\": 0.0027932960893854997\n  },\n  {\n    \"languageCode\": \"he_IL\",\n    \"languageName\": \"Hebrew\",\n    \"languageNativeName\": \"עברית\",\n    \"translationRatio\": 0.006602336211274706\n  },\n  {\n    \"languageCode\": \"hu_HU\",\n    \"languageName\": \"Hungarian\",\n    \"languageNativeName\": \"magyar\",\n    \"translationRatio\": 0.0771965464702895\n  },\n  {\n    \"languageCode\": \"id_ID\",\n    \"languageName\": \"Indonesian\",\n    \"languageNativeName\": \"Indonesian\",\n    \"translationRatio\": 0.5436769933976637\n  },\n  {\n    \"languageCode\": \"it_IT\",\n    \"languageName\": \"Italian\",\n    \"languageNativeName\": \"Italiano\",\n    \"translationRatio\": 0.5845606907059421\n  },\n  {\n    \"languageCode\": \"ja_JP\",\n    \"languageName\": \"Japanese\",\n    \"languageNativeName\": \"日本語\",\n    \"translationRatio\": 0.08202133062468253\n  },\n  {\n    \"languageCode\": \"ko_KR\",\n    \"languageName\": \"Korean\",\n    \"languageNativeName\": \"한국어\",\n    \"translationRatio\": 0.07516505840528187\n  },\n  {\n    \"languageCode\": \"lt_LT\",\n    \"languageName\": \"Lithuanian\",\n    \"languageNativeName\": \"lietuvių kalba\",\n    \"translationRatio\": 0.006094464195022908\n  },\n  {\n    \"languageCode\": \"mr_IN\",\n    \"languageName\": \"Marathi\",\n    \"languageNativeName\": \"मराठी\",\n    \"translationRatio\": 0.0027932960893854997\n  },\n  {\n    \"languageCode\": \"ms_MY\",\n    \"languageName\": \"Malay\",\n    \"languageNativeName\": \"هاس ملايو‎\",\n    \"translationRatio\": 0.007110208227526615\n  },\n  {\n    \"languageCode\": \"my_MM\",\n    \"languageName\": \"Burmese\",\n    \"languageNativeName\": \"ဗမာစာ\",\n    \"translationRatio\": 0.004062976130015272\n  },\n  {\n    \"languageCode\": \"nl_NL\",\n    \"languageName\": \"Dutch\",\n    \"languageNativeName\": \"Nederlands\",\n    \"translationRatio\": 0.44362620619603865\n  },\n  {\n    \"languageCode\": \"no_NO\",\n    \"languageName\": \"Norwegian\",\n    \"languageNativeName\": \"Norsk\",\n    \"translationRatio\": 0.004570848146267181\n  },\n  {\n    \"languageCode\": \"pl_PL\",\n    \"languageName\": \"Polish\",\n    \"languageNativeName\": \"język polski\",\n    \"translationRatio\": 0.5462163534789233\n  },\n  {\n    \"languageCode\": \"pseudo_LOCALE\",\n    \"languageName\": \"for development only\",\n    \"languageNativeName\": \"Pseudolocalization\",\n    \"translationRatio\": 0.9944954128440366\n  },\n  {\n    \"languageCode\": \"pt_BR\",\n    \"languageName\": \"Brazilian Portuguese\",\n    \"languageNativeName\": \"Português brasileiro\",\n    \"translationRatio\": 0.9421025901472829\n  },\n  {\n    \"languageCode\": \"pt_PT\",\n    \"languageName\": \"Portuguese\",\n    \"languageNativeName\": \"Português\",\n    \"translationRatio\": 0.5365667851701371\n  },\n  {\n    \"languageCode\": \"ro_RO\",\n    \"languageName\": \"Romanian\",\n    \"languageNativeName\": \"limba română\",\n    \"translationRatio\": 0.019045200609446367\n  },\n  {\n    \"languageCode\": \"ru_RU\",\n    \"languageName\": \"Russian\",\n    \"languageNativeName\": \"Русский\",\n    \"translationRatio\": 0.611477907567293\n  },\n  {\n    \"languageCode\": \"sk_SK\",\n    \"languageName\": \"Slovak\",\n    \"languageNativeName\": \"slovenčina\",\n    \"translationRatio\": 0.01853732859319457\n  },\n  {\n    \"languageCode\": \"sr_CS\",\n    \"languageName\": \"Serbian (Latin)\",\n    \"languageNativeName\": \"srpski\",\n    \"translationRatio\": 0.4393092940578974\n  },\n  {\n    \"languageCode\": \"sr_SP\",\n    \"languageName\": \"Serbian\",\n    \"languageNativeName\": \"српски језик\",\n    \"translationRatio\": 0.441594718131031\n  },\n  {\n    \"languageCode\": \"sv_SE\",\n    \"languageName\": \"Swedish\",\n    \"languageNativeName\": \"svenska\",\n    \"translationRatio\": 0.19705434230573893\n  },\n  {\n    \"languageCode\": \"th_TH\",\n    \"languageName\": \"Thai\",\n    \"languageNativeName\": \"ไทย\",\n    \"translationRatio\": 0.031234128999492183\n  },\n  {\n    \"languageCode\": \"tr_TR\",\n    \"languageName\": \"Turkish\",\n    \"languageNativeName\": \"Türkçe\",\n    \"translationRatio\": 0.5464702894870492\n  },\n  {\n    \"languageCode\": \"uk_UA\",\n    \"languageName\": \"Ukrainian\",\n    \"languageNativeName\": \"Українська\",\n    \"translationRatio\": 0.02209243270695782\n  },\n  {\n    \"languageCode\": \"ur_PK\",\n    \"languageName\": \"Urdu\",\n    \"languageNativeName\": \"اردو\",\n    \"translationRatio\": 0.013204672422549524\n  },\n  {\n    \"languageCode\": \"yo_NG\",\n    \"languageName\": \"Yoruba\",\n    \"languageNativeName\": \"Yorùbá\",\n    \"translationRatio\": 0.930929405789741\n  },\n  {\n    \"languageCode\": \"zh_CN\",\n    \"languageName\": \"Chinese Simplified\",\n    \"languageNativeName\": \"简化字\",\n    \"translationRatio\": 0.6363636363636364\n  },\n  {\n    \"languageCode\": \"zh_TW\",\n    \"languageName\": \"Chinese Traditional\",\n    \"languageNativeName\": \"正體字\",\n    \"translationRatio\": 0.07414931437277805\n  }\n];\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { mapVector } from '../Utils/MapFor';\nimport Chip from 'material-ui/Chip';\nimport TextField from 'material-ui/TextField';\nimport { Column } from '../UI/Grid';\nimport randomColor from 'randomcolor';\nconst gd = global.gd;\n\ntype Props = {|\n  value: string,\n  onChange: string => void,\n  chosenExtensionName: string,\n  onExtensionNameChosen: string => void,\n|};\n\nconst styles = {\n  chip: {\n    margin: 2,\n  },\n  chipsList: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n};\n\nconst getChipColor = (extensionName: string) => {\n  return randomColor({\n    seed: extensionName,\n    luminosity: 'light',\n  });\n};\n\nexport default class ExamplesSearchbar extends Component<Props> {\n  _chips: Array<{ text: string, value: string }> = [];\n  _textField: ?TextField;\n\n  constructor(props: Props) {\n    super(props);\n\n    const extensions = gd.JsPlatform.get().getAllPlatformExtensions();\n    this._chips = mapVector(extensions, extension => {\n      if (\n        extension.isBuiltin() ||\n        extension.getFullName().indexOf('(deprecated)') !== -1\n      )\n        return null;\n\n      return {\n        text: extension.getFullName(),\n        value: extension.getName(),\n      };\n    }).filter(Boolean);\n  }\n\n  componentDidMount() {\n    if (this._textField) this._textField.focus();\n  }\n\n  render() {\n    const {\n      chosenExtensionName,\n      onExtensionNameChosen,\n      value,\n      onChange,\n    } = this.props;\n    return (\n      <Column noMargin>\n        <TextField\n          fullWidth\n          hintText={<Trans>Search in examples</Trans>}\n          id=\"examples-searchbar\"\n          value={value}\n          onChange={(e, value) => {\n            onChange(value);\n          }}\n          ref={textField => (this._textField = textField)}\n        />\n        <div style={styles.chipsList}>\n          {this._chips.map(({ text, value }) => (\n            <Chip\n              key={value}\n              labelColor={\n                !chosenExtensionName || chosenExtensionName === value\n                  ? 'black'\n                  : undefined\n              }\n              backgroundColor={\n                !chosenExtensionName || chosenExtensionName === value\n                  ? getChipColor(value)\n                  : undefined\n              }\n              style={styles.chip}\n              onClick={() =>\n                onExtensionNameChosen(\n                  chosenExtensionName === value ? '' : value\n                )\n              }\n            >\n              {text}\n            </Chip>\n          ))}\n        </div>\n      </Column>\n    );\n  }\n}\n","// This file is generated by update-examples-extensions-usage-from-resources-examples.js script\n// prettier-ignore\nmodule.exports = {\n  \"admob\": {\n    \"description\": \"Demonstrate how to show ads from AdMob in your game: banners, interstitial screen or reward videos. Also useful to test that your AdMob account is working properly.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"AdMob\",\n        \"name\": \"AdMob\"\n      }\n    ]\n  },\n  \"advanced-shape-based-painter\": {\n    \"description\": \"Show how to use Shape Painter objects to create a simple drawing app.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"animation-speed-scale\": {\n    \"description\": \"Change the speed of the animation of an object according to its movement speed.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"asteroids\": {\n    \"description\": \"An adptation of the classic arcade game Asteroids with GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"basic-ai-with-pathfinding\": {\n    \"description\": \"Show how to use pathfinding to make enemies chase the player.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Pathfinding behavior\",\n        \"name\": \"PathfindingBehavior\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"basic-artificial-intelligence\": {\n    \"description\": \"Show how to create enemies looking at the player and chasing him when spotted.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"basic-topdown-car-driving\": {\n    \"description\": \"Show how to create a car that can be controlled by the player.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"betabox-basics-learning-experience\": {\n    \"description\": \"Example level for teaching basic programming skills with extra features and assets.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"bomb-the-crate\": {\n    \"description\": \"A basic bomberman like game, where the player can move on the map, drop bombs and destroy crates on the map.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"bouncing-ball-and-rope\": {\n    \"description\": \"Simulate a bouncing ball with ropes that can be created to move the ball around anchors.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Advanced control features\",\n        \"name\": \"BuiltinAdvanced\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      }\n    ]\n  },\n  \"breakout\": {\n    \"description\": \"The classic Breakout arcade game adapted in GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"External layouts\",\n        \"name\": \"BuiltinExternalLayouts\"\n      }\n    ]\n  },\n  \"buttons\": {\n    \"description\": \"Learn how to make buttons for the menus in your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      }\n    ]\n  },\n  \"car-physics\": {\n    \"description\": \"A fun, physics based driving game\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"center-object-within-another\": {\n    \"description\": \"How to put an object on the center of another\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"change-position-of-object\": {\n    \"description\": \"Show how to move an object by changing its X and Y position.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"change-scale-of-sprites\": {\n    \"description\": \"Show how to change the scale of a sprite (to make a zoom effect for example).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"change-sprite-animation\": {\n    \"description\": \"Learn how to change the animation of a Sprite object (useful for animating almost all objects in your game: characters, enemies, items...)\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"change-sprite-color\": {\n    \"description\": \"Learn how to change the color of a Sprite object - useful to achieve effects like invincibility with a blue tint or taking damage with a red effect. \",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"character-selection\": {\n    \"description\": \"Example showing how to remember the character selected by the player and use it in other scenes.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"controller-input\": {\n    \"description\": \"Use JavaScript to read the state of a gamepad and use it in your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"create-object-with-mouseclick\": {\n    \"description\": \"Show how to create an object at the position of the click.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"custom-font\": {\n    \"description\": \"Example showing a text with a custom font applied on it.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      }\n    ]\n  },\n  \"custom-mouse-pointer\": {\n    \"description\": \"Learn how to replace the mouse cursor by a custom image.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"customize-keys-with-lastpressedkey\": {\n    \"description\": \"This explains how to remember the last key that was pressed and customize the inputs of your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"device-orientation-ballgame\": {\n    \"description\": \"Example showing how to use the device sensors to move a ball in a maze.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Device sensors\",\n        \"name\": \"DeviceSensors\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"device-orientation-compass\": {\n    \"description\": \"This shows how to use the device sensors to create a compass like app.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Device sensors\",\n        \"name\": \"DeviceSensors\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"device-vibration\": {\n    \"description\": \"Show how to make the device vibrate.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Device vibration\",\n        \"name\": \"DeviceVibration\"\n      }\n    ]\n  },\n  \"downhill-bike-physics-demo\": {\n    \"description\": \"A fun demo, using the Physics Engine to build an advanced simulation of a bike, with a person pedaling on it. Try to cross the finish line without falling and as fast as possible!\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Advanced control features\",\n        \"name\": \"BuiltinAdvanced\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      },\n      {\n        \"fullName\": \"Device vibration\",\n        \"name\": \"DeviceVibration\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"drag-camera-with-mouse\": {\n    \"description\": \"This shows how to allow the user to move on a map with the mouse.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"drop-collect-items-from-storage\": {\n    \"description\": \"Show how to make the player collect objects from boxes on the map.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"endless-up-runner\": {\n    \"description\": \"A game where the player have to jump on platforms and avoid falling down as the screen goes up. With special objects (spring, rocks), score and Game Over handling!\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"exit-app\": {\n    \"description\": \"Simple example showing how to close your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      }\n    ]\n  },\n  \"facebook-instant-game\": {\n    \"description\": \"Learn how to use the various Facebook Instant Games APIs to get information about the player, share their scores and have a leaderboard!\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Facebook Instant Games\",\n        \"name\": \"FacebookInstantGames\"\n      }\n    ]\n  },\n  \"find-diagonals\": {\n    \"description\": \"Show how to delete objects that are located at the diagonals of the click of the player in a board game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"geodash\": {\n    \"description\": \"A fast paced game where you must jump and avoid obstacles.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      }\n    ]\n  },\n  \"health-bar\": {\n    \"description\": \"The platform example game adapted to add a health bar to the player, that is decreased when the player touches an enemy.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"infinite-scrolling-background\": {\n    \"description\": \"Learn how to create a background that is scolling infinitely.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"inventory-system\": {\n    \"description\": \"Learn how to display an inventory, with object that can be addded or removed, and how to persist it in storage.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Inventory\",\n        \"name\": \"Inventory\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      },\n      {\n        \"fullName\": \"Storage\",\n        \"name\": \"BuiltinFile\"\n      }\n    ]\n  },\n  \"isometric-game\": {\n    \"description\": \"Example of making an isometric 2D game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Top-down movement\",\n        \"name\": \"TopDownMovementBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"javascript-blocks-in-platformer\": {\n    \"description\": \"This shows how to reproduce the Platformer example using JavaScript code instead of events.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"keyboard-practice\": {\n    \"description\": \"A simple game where the player must press the right keys on the keyboard as fast as possible.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"level-editor\": {\n    \"description\": \"Example showing a basic level editor, where you can save and load positions of objects put on the scene during the game. Also shows how to use simple functions.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Storage\",\n        \"name\": \"BuiltinFile\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      }\n    ]\n  },\n  \"load-image-from-url\": {\n    \"description\": \"Advanced example showing how to use JavaScript to load an image from an external URL.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"magnet\": {\n    \"description\": \"Show how to move a ball like if it's attracted by a magnet.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"manipulate-text-object\": {\n    \"description\": \"This shows how to change the text of a Text object displayed on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"move-camera-to-position\": {\n    \"description\": \"This shows how to move the camera to the position of an object on a map.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"move-object-back-and-forth\": {\n    \"description\": \"Use events to move objects back and forth vertically or horizontally.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      }\n    ]\n  },\n  \"move-object-in-circle\": {\n    \"description\": \"This shows how to make an object move in circle around some point.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"move-object-toward-position\": {\n    \"description\": \"This shows how to have an object move to a given position on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"move-object-with-mouse-joint\": {\n    \"description\": \"Show how to use physics engine to move an object around with the mouse and realistic movements.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"move-object-with-physics\": {\n    \"description\": \"This shows how to use the forces built in GDevelop to move an object.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"multitouch\": {\n    \"description\": \"This show how to create multiple markers when the player touches the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"object-gravity\": {\n    \"description\": \"Use the physics engine to simulate an object moving on a small planet.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      }\n    ]\n  },\n  \"object-selection\": {\n    \"description\": \"Simple example showing how the engine of GDevelop select objects to be used in conditions and actions.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"objects-timers\": {\n    \"description\": \"Example showing various usage of objects timers (timers that are stored into instances of objects on the scene, as opposed to scene timers which are stored by the scene).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      }\n    ]\n  },\n  \"open-url-in-browser\": {\n    \"description\": \"This shows how to open a website on the system default browser.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Storage\",\n        \"name\": \"BuiltinFile\"\n      }\n    ]\n  },\n  \"pairs\": {\n    \"description\": \"Find all matching pairs of cards in this relaxing game. Use tweens to create smooth, natural animations with a few events.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Tween animation\",\n        \"name\": \"Tween\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"parallax\": {\n    \"description\": \"Shows how to have multiple layers with a parallax effect (where the background layers move slower than the foreground).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"parallax-scrolling\": {\n    \"description\": \"Another example showing how to have multiple layers with a parallax effect (where the background layers move slower than the foreground).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"parse-json-from-api\": {\n    \"description\": \"Advanced example where JSON content is fetched from a website and information extracted from it.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Basic internet features\",\n        \"name\": \"BuiltinNetwork\"\n      }\n    ]\n  },\n  \"parse-json-string\": {\n    \"description\": \"Advanced example showing how to extract information from a JSON formatted string.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Basic internet features\",\n        \"name\": \"BuiltinNetwork\"\n      }\n    ]\n  },\n  \"particles-explosions\": {\n    \"description\": \"Create explosion effects with the particles engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"particles-various-effects\": {\n    \"description\": \"Create various effects with the particles engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"pathfinding\": {\n    \"description\": \"This show how to have an object moving from its position to another automatically avoiding obstacles.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Pathfinding behavior\",\n        \"name\": \"PathfindingBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"pathfinding-basics\": {\n    \"description\": \"Simpler example showing how to get started with Pathfinding, to have an object automatically find its way around obstacles.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Pathfinding behavior\",\n        \"name\": \"PathfindingBehavior\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"physics\": {\n    \"description\": \"Example showing various capabilities of the physics engine integrated to GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"physics-joints-demo\": {\n    \"description\": \"A demo of all the joints that can be created using the Physics engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"physics-joints-settings-demo\": {\n    \"description\": \"A demo of all the joints, and the way they can be customized, using the Physics engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"pin-object-to-another\": {\n    \"description\": \"Example showing how to have objects \\\"pinned\\\" to another, meaning that they will move/rotate and follow the object they are pinned too.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"pin-object-to-another-multiple-parents\": {\n    \"description\": \"Example showing how to have objects \\\"pinned\\\" to multiple other objects, meaning that they will move/rotate and follow the object they are pinned too.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      }\n    ]\n  },\n  \"pixel-perfect-platform-game\": {\n    \"description\": \"Very simple example showing the settings to have a pixel-perfect platform game (also applicable to other kind of games).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      }\n    ]\n  },\n  \"plane-and-clouds\": {\n    \"description\": \"Show how to randomly generate clouds to create an infinite sky.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"platformer\": {\n    \"description\": \"An example of a basic platformer (Mario-like) game made with GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"platformer-double-jump\": {\n    \"description\": \"The Platformer example modified to allow the player to do a double jump.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"play-music-on-mobile\": {\n    \"description\": \"This show how to properly launch a music on a game on mobile.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"play-stop-sprite-animation\": {\n    \"description\": \"This shows how to pause the animation of a Sprite object.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"racing-game\": {\n    \"description\": \"A top-down racing game made using the Physics engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"ragdoll\": {\n    \"description\": \"Example of creating a ragdoll with physics joints.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Advanced control features\",\n        \"name\": \"BuiltinAdvanced\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"rain\": {\n    \"description\": \"Show how to simulate a rain effect by creating several objects.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      }\n    ]\n  },\n  \"random-color-picker\": {\n    \"description\": \"This shows how to create a grid with random color, and let the player choose one.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"rotate-toward-mouse\": {\n    \"description\": \"Show how to rotate an object so that it looks toward the player cursor.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"rotate-toward-position\": {\n    \"description\": \"Show how to rotate an object so that it looks toward a specified position on the scene.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"rotate-with-keypress\": {\n    \"description\": \"Basic example showing how to rotate an object.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"save-load\": {\n    \"description\": \"Advanced example showing how to persist data and then reload them from storage (useful to store game progress, or save the state of some objects in a game).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Storage\",\n        \"name\": \"BuiltinFile\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"screen-shake\": {\n    \"description\": \"Make the screen shake when some event occurs.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"shoot-bullet-in-parabola\": {\n    \"description\": \"Show how to use various mathematical expressions to move an object following a parabola shape\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      }\n    ]\n  },\n  \"shoot-bullets\": {\n    \"description\": \"Basic example showing how to shoot bullets from an object.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"shooting-bullets-explanation\": {\n    \"description\": \"Basic example showing how to shoot bullets from one or multiple objects at the same time.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"snap-object-to-grid\": {\n    \"description\": \"Example showing how to create a grid and have objects snapped to the grid.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"space-invaders\": {\n    \"description\": \"A Space Invaders-like game, where you have a turret and shoot on enemies coming from the sky.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      }\n    ]\n  },\n  \"space-shooter\": {\n    \"description\": \"A space shooter game (Shoot 'em up) made with GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Top-down movement\",\n        \"name\": \"TopDownMovementBehavior\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"space-shooter-with-functions\": {\n    \"description\": \"The space shooter example with some events rewritten to be reusable functions (custom conditions/actions or expressions).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Top-down movement\",\n        \"name\": \"TopDownMovementBehavior\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      }\n    ]\n  },\n  \"splash-screen\": {\n    \"description\": \"Show how to create a splashscreen at the beginning of your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"sprite-fade-in-out\": {\n    \"description\": \"This shows how to make a sprite fade in and out on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"take-screenshot\": {\n    \"description\": \"Show how to save a screenshot of the game on the disk (on Windows/macOS/Linux only).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Screenshot\",\n        \"name\": \"Screenshot\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"text-entry-object\": {\n    \"description\": \"This shows how to use the Text Entry object to capture what is written on the keyboard.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text entry object\",\n        \"name\": \"TextEntryObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      }\n    ]\n  },\n  \"text-fade-in-out\": {\n    \"description\": \"This shows how to make a text fade in and out on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"text-to-speech\": {\n    \"description\": \"Advanced example showing how to use JavaScript and HTML5 api to make a text read by your computer.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text entry object\",\n        \"name\": \"TextEntryObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"toggle-music-play-sound\": {\n    \"description\": \"Example showing how to play a music and add controls on the screen to pause it, change the volume or mute the sounds totally.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"type-on-text-effect\": {\n    \"description\": \"This show how to create an effect where a text is progressively typed on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"video-player\": {\n    \"description\": \"An example of a complete video player with controls to play/pause, change the volume, jump to a position in the video...\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Video\",\n        \"name\": \"Video\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Tween animation\",\n        \"name\": \"Tween\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Advanced control features\",\n        \"name\": \"BuiltinAdvanced\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      }\n    ]\n  },\n  \"z-depth\": {\n    \"description\": \"Example where the player can move a character on a map, and the character is displayed behind or in front of other objects according to its position.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"zombie-laser\": {\n    \"description\": \"Simple game where the player must use his laser powered gun to destroy zombies running at him.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Pathfinding behavior\",\n        \"name\": \"PathfindingBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  }\n};\n","// @flow\nimport * as React from 'react';\nimport { I18nProvider } from '@lingui/react';\nimport { setupI18n } from '@lingui/core';\nimport { getTranslationFunction } from './getTranslationFunction';\nimport { type I18n as I18nType } from '@lingui/core';\nconst gd = global.gd;\n\ntype Catalog = any;\ntype Catalogs = {\n  [string]: Catalog,\n};\n\ntype Props = {|\n  language: string,\n  children: React.Node,\n|};\n\ntype State = {\n  language: string,\n  i18n: ?I18nType,\n  catalogs: Catalogs,\n};\n\nexport default class GDI18nProvider extends React.Component<Props, State> {\n  state = {\n    language: 'en',\n    catalogs: {},\n    i18n: null,\n  };\n\n  componentDidMount() {\n    this._loadLanguage(this.props.language);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.language !== this.props.language) {\n      this._loadLanguage(this.props.language);\n    }\n  }\n\n  _loadCatalog = (language: string): Promise<Catalogs> => {\n    if (this.state.catalogs[language]) {\n      return Promise.resolve(this.state.catalogs);\n    }\n\n    return import(/* webpackMode: \"lazy\", webpackChunkName: \"locales-[request]\" */\n    `../../locales/${language}/messages`).then(\n      catalog => {\n        return { ...this.state.catalogs, [language]: catalog };\n      },\n      (error: Error) => {\n        console.error('Error while loading language=' + language, error);\n        return this.state.catalogs;\n      }\n    );\n  };\n\n  _loadLanguage(language: string) {\n    this._loadCatalog(language).then(catalogs => {\n      this.setState(\n        {\n          language,\n          catalogs,\n          i18n: setupI18n({\n            language: language,\n            catalogs,\n          }),\n        },\n        () => {\n          const { i18n } = this.state;\n          gd.getTranslation = getTranslationFunction(i18n);\n          console.info(`Loaded \"${language}\" language`);\n        }\n      );\n    });\n  }\n\n  render() {\n    // Use language from the state, as it is synchronized with the catalogs,\n    // while the language from props is the \"target language\", and sometime\n    // can be a language for which the catalog is not loaded yet (which would\n    // create warning and a \"flash\" effect when changing language).\n    const { i18n, catalogs, language } = this.state;\n    const { children } = this.props;\n\n    if (!i18n) return null; // Skip rendering when catalog isn't loaded.\n\n    return (\n      <I18nProvider i18n={i18n} language={language} catalogs={catalogs}>\n        {children}\n      </I18nProvider>\n    );\n  }\n}\n","var map = {\n\t\"./af_ZA/messages\": [\n\t\t1872,\n\t\t5\n\t],\n\t\"./ar_SA/messages\": [\n\t\t1873,\n\t\t6\n\t],\n\t\"./az_AZ/messages\": [\n\t\t1874,\n\t\t7\n\t],\n\t\"./bg_BG/messages\": [\n\t\t1875,\n\t\t8\n\t],\n\t\"./bn_BD/messages\": [\n\t\t1876,\n\t\t9\n\t],\n\t\"./ca_ES/messages\": [\n\t\t1877,\n\t\t10\n\t],\n\t\"./cs_CZ/messages\": [\n\t\t1878,\n\t\t11\n\t],\n\t\"./da_DK/messages\": [\n\t\t1879,\n\t\t12\n\t],\n\t\"./de_DE/messages\": [\n\t\t1880,\n\t\t13\n\t],\n\t\"./el_GR/messages\": [\n\t\t1881,\n\t\t14\n\t],\n\t\"./en/messages\": [\n\t\t1882,\n\t\t15\n\t],\n\t\"./eo_UY/messages\": [\n\t\t1883,\n\t\t16\n\t],\n\t\"./es_ES/messages\": [\n\t\t1884,\n\t\t17\n\t],\n\t\"./fa_IR/messages\": [\n\t\t1885,\n\t\t18\n\t],\n\t\"./fi_FI/messages\": [\n\t\t1886,\n\t\t19\n\t],\n\t\"./fil_PH/messages\": [\n\t\t1887,\n\t\t20\n\t],\n\t\"./fr_FR/messages\": [\n\t\t1888,\n\t\t21\n\t],\n\t\"./ha_HG/messages\": [\n\t\t1889,\n\t\t22\n\t],\n\t\"./he_IL/messages\": [\n\t\t1890,\n\t\t23\n\t],\n\t\"./hu_HU/messages\": [\n\t\t1891,\n\t\t24\n\t],\n\t\"./id_ID/messages\": [\n\t\t1892,\n\t\t25\n\t],\n\t\"./it_IT/messages\": [\n\t\t1893,\n\t\t26\n\t],\n\t\"./ja_JP/messages\": [\n\t\t1894,\n\t\t27\n\t],\n\t\"./ko_KR/messages\": [\n\t\t1895,\n\t\t28\n\t],\n\t\"./lt_LT/messages\": [\n\t\t1896,\n\t\t29\n\t],\n\t\"./mr_IN/messages\": [\n\t\t1897,\n\t\t30\n\t],\n\t\"./ms_MY/messages\": [\n\t\t1898,\n\t\t31\n\t],\n\t\"./my_MM/messages\": [\n\t\t1899,\n\t\t32\n\t],\n\t\"./nl_NL/messages\": [\n\t\t1900,\n\t\t33\n\t],\n\t\"./no_NO/messages\": [\n\t\t1901,\n\t\t34\n\t],\n\t\"./pl_PL/messages\": [\n\t\t1902,\n\t\t35\n\t],\n\t\"./pseudo_LOCALE/messages\": [\n\t\t1903,\n\t\t36\n\t],\n\t\"./pt_BR/messages\": [\n\t\t1904,\n\t\t37\n\t],\n\t\"./pt_PT/messages\": [\n\t\t1905,\n\t\t38\n\t],\n\t\"./ro_RO/messages\": [\n\t\t1906,\n\t\t39\n\t],\n\t\"./ru_RU/messages\": [\n\t\t1907,\n\t\t40\n\t],\n\t\"./sk_SK/messages\": [\n\t\t1908,\n\t\t41\n\t],\n\t\"./sr_CS/messages\": [\n\t\t1909,\n\t\t42\n\t],\n\t\"./sr_SP/messages\": [\n\t\t1910,\n\t\t43\n\t],\n\t\"./sv_SE/messages\": [\n\t\t1911,\n\t\t44\n\t],\n\t\"./th_TH/messages\": [\n\t\t1912,\n\t\t45\n\t],\n\t\"./tr_TR/messages\": [\n\t\t1913,\n\t\t46\n\t],\n\t\"./uk_UA/messages\": [\n\t\t1914,\n\t\t47\n\t],\n\t\"./ur_PK/messages\": [\n\t\t1915,\n\t\t48\n\t],\n\t\"./yo_NG/messages\": [\n\t\t1916,\n\t\t49\n\t],\n\t\"./zh_CN/messages\": [\n\t\t1917,\n\t\t50\n\t],\n\t\"./zh_TW/messages\": [\n\t\t1918,\n\t\t51\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 1688;\nmodule.exports = webpackAsyncContext;","import { Component } from 'react';\nimport { NativeTypes } from 'react-dnd-html5-backend';\nimport { DropTarget } from 'react-dnd';\n\nclass SimpleDropTarget extends Component {\n  render() {\n    const { connectDropTarget } = this.props;\n    return connectDropTarget(this.props.children);\n  }\n}\n\nfunction collect(connect, monitor) {\n  return {\n    // Call this function inside render()\n    // to let React DnD handle the drag events:\n    connectDropTarget: connect.dropTarget(),\n    // You can ask the monitor about the current drag state:\n    isOver: monitor.isOver(),\n    isOverCurrent: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n    itemType: monitor.getItemType(),\n  };\n}\nconst spec = {\n  drop(props, monitor, component) {\n    if (monitor.didDrop()) {\n      // If you want, you can check whether some nested\n      // target already handled drop\n      return;\n    }\n\n    const item = monitor.getItem();\n    return { item };\n  },\n};\n\nexport default DropTarget(NativeTypes.TEXT, spec, collect)(SimpleDropTarget);\n","import LayerRenderer from './LayerRenderer';\nimport * as PIXI from 'pixi.js';\n\nexport default class InstancesRenderer {\n  constructor({\n    project,\n    layout,\n    instances,\n    viewPosition,\n    onInstanceClicked,\n    onOverInstance,\n    onOutInstance,\n    onMoveInstance,\n    onMoveInstanceEnd,\n    onDownInstance,\n  }) {\n    this.project = project;\n    this.instances = instances;\n    this.layout = layout;\n    this.viewPosition = viewPosition;\n    this.onInstanceClicked = onInstanceClicked;\n    this.onOverInstance = onOverInstance;\n    this.onOutInstance = onOutInstance;\n    this.onMoveInstance = onMoveInstance;\n    this.onMoveInstanceEnd = onMoveInstanceEnd;\n    this.onDownInstance = onDownInstance;\n\n    this.layersRenderers = {};\n\n    this.pixiContainer = new PIXI.Container();\n    this.instanceMeasurer = {\n      getInstanceLeft: instance => {\n        const layerName = instance.getLayer();\n        const layerRenderer = this.layersRenderers[layerName];\n        if (!layerRenderer) return instance.getX();\n\n        return layerRenderer.getInstanceLeft(instance);\n      },\n      getInstanceTop: instance => {\n        const layerName = instance.getLayer();\n        const layerRenderer = this.layersRenderers[layerName];\n        if (!layerRenderer) return instance.getY();\n\n        return layerRenderer.getInstanceTop(instance);\n      },\n      getInstanceWidth: instance => {\n        if (instance.hasCustomSize()) return instance.getCustomWidth();\n\n        const layerName = instance.getLayer();\n        const layerRenderer = this.layersRenderers[layerName];\n        if (!layerRenderer) return 0;\n\n        return layerRenderer.getInstanceWidth(instance);\n      },\n\n      getInstanceHeight: instance => {\n        if (instance.hasCustomSize()) return instance.getCustomHeight();\n\n        const layerName = instance.getLayer();\n        const layerRenderer = this.layersRenderers[layerName];\n        if (!layerRenderer) return 0;\n\n        return layerRenderer.getInstanceHeight(instance);\n      },\n      getInstanceRect: instance => {\n        return {\n          x: this.instanceMeasurer.getInstanceLeft(instance),\n          y: this.instanceMeasurer.getInstanceTop(instance),\n          width: this.instanceMeasurer.getInstanceWidth(instance),\n          height: this.instanceMeasurer.getInstanceHeight(instance),\n        };\n      },\n    };\n  }\n\n  getPixiContainer() {\n    return this.pixiContainer;\n  }\n\n  getInstanceMeasurer() {\n    return this.instanceMeasurer;\n  }\n\n  render() {\n    for (let i = 0; i < this.layout.getLayersCount(); i++) {\n      const layer = this.layout.getLayerAt(i);\n      const layerName = layer.getName();\n\n      let layerRenderer = this.layersRenderers[layerName];\n      if (!layerRenderer) {\n        this.layersRenderers[layerName] = layerRenderer = new LayerRenderer({\n          project: this.project,\n          layout: this.layout,\n          instances: this.instances,\n          viewPosition: this.viewPosition,\n          layer: layer,\n          onInstanceClicked: this.onInstanceClicked,\n          onOverInstance: this.onOverInstance,\n          onOutInstance: this.onOutInstance,\n          onMoveInstance: this.onMoveInstance,\n          onMoveInstanceEnd: this.onMoveInstanceEnd,\n          onDownInstance: this.onDownInstance,\n        });\n        this.pixiContainer.addChild(layerRenderer.getPixiContainer());\n      }\n\n      // /!\\ Objects representing layers can be deleted at any moment and replaced\n      // by new one, for example when two layers are swapped.\n      // We update the layer object of the renderer so that the renderer always has\n      // a valid layer object that can be used.\n      layerRenderer.layer = layer;\n      layerRenderer.wasUsed = true;\n      layerRenderer.getPixiContainer().zOrder = i;\n      layerRenderer.render();\n    }\n\n    this._updatePixiObjectsZOrder();\n    this._cleanRenderers();\n  }\n\n  _updatePixiObjectsZOrder() {\n    this.pixiContainer.children.sort((a, b) => {\n      a.zOrder = a.zOrder || 0;\n      b.zOrder = b.zOrder || 0;\n      return a.zOrder - b.zOrder;\n    });\n  }\n\n  /**\n   * Delete instance renderers of the specified objects, which will then be recreated during\n   * the next render.\n   * @param {string} objectName The name of the object for which instance must be re-rendered.\n   */\n  resetRenderersFor(objectName) {\n    for (let i in this.layersRenderers) {\n      if (this.layersRenderers.hasOwnProperty(i)) {\n        const layerRenderer = this.layersRenderers[i];\n        layerRenderer.resetRenderersFor(objectName);\n      }\n    }\n  }\n\n  /**\n   * Clean up rendered layers that are not existing anymore\n   */\n  _cleanRenderers() {\n    for (let i in this.layersRenderers) {\n      if (this.layersRenderers.hasOwnProperty(i)) {\n        const layerRenderer = this.layersRenderers[i];\n        if (!layerRenderer.wasUsed) {\n          this.pixiContainer.removeChild(layerRenderer.getPixiContainer());\n          layerRenderer.delete();\n          delete this.layersRenderers[i];\n        } else layerRenderer.wasUsed = false;\n      }\n    }\n  }\n\n  delete() {\n    for (let i in this.layersRenderers) {\n      if (this.layersRenderers.hasOwnProperty(i)) {\n        this.layersRenderers[i].delete();\n      }\n    }\n  }\n}\n","export default function transformRect(transformPoint, { x, y, width, height }) {\n  const startPos = transformPoint(x, y);\n  const endPos = transformPoint(x + width, y + height);\n  return {\n    x: startPos[0],\n    y: startPos[1],\n    width: endPos[0] - startPos[0],\n    height: endPos[1] - startPos[1],\n  };\n}\n","import gesture from 'pixi-simple-gesture';\nimport transformRect from '../Utils/TransformRect';\nimport * as PIXI from 'pixi.js';\n\nconst buttonSize = 10;\nconst smallButtonSize = 8;\nconst buttonPadding = 5;\n\nconst RECTANGLE_BUTTON_SHAPE = 0;\nconst CIRCLE_BUTTON_SHAPE = 1;\n\nexport default class InstancesSelection {\n  constructor({\n    instancesSelection,\n    instanceMeasurer,\n    onResize,\n    onResizeEnd,\n    onRotate,\n    onRotateEnd,\n    toCanvasCoordinates,\n  }) {\n    this.instanceMeasurer = instanceMeasurer;\n    this.onResize = onResize;\n    this.onResizeEnd = onResizeEnd;\n    this.onRotate = onRotate;\n    this.onRotateEnd = onRotateEnd;\n    this.toCanvasCoordinates = toCanvasCoordinates;\n    this.instancesSelection = instancesSelection;\n\n    this.pixiContainer = new PIXI.Container();\n    this.rectanglesContainer = new PIXI.Container();\n    this.selectedRectangles = [];\n    this.pixiContainer.addChild(this.rectanglesContainer);\n\n    this.resizeButton = new PIXI.Graphics();\n    this.resizeIcon = new PIXI.Sprite.fromImage('res/actions/direction.png');\n    this.rightResizeButton = new PIXI.Graphics();\n    this.bottomResizeButton = new PIXI.Graphics();\n    this.rotateButton = new PIXI.Graphics();\n    this._makeButton(\n      this.resizeButton,\n      event => {\n        this.onResize(event.deltaX, event.deltaY);\n      },\n      () => {\n        this.onResizeEnd();\n      },\n      'nwse-resize'\n    );\n    this._makeButton(\n      this.rightResizeButton,\n      event => {\n        this.onResize(event.deltaX, 0);\n      },\n      () => {\n        this.onResizeEnd();\n      },\n      'ew-resize'\n    );\n    this._makeButton(\n      this.bottomResizeButton,\n      event => {\n        this.onResize(0, event.deltaY);\n      },\n      () => {\n        this.onResizeEnd();\n      },\n      'ns-resize'\n    );\n    this._makeButton(\n      this.rotateButton,\n      event => {\n        this.onRotate(event.deltaX, event.deltaY);\n      },\n      () => {\n        this.onRotateEnd();\n      },\n      'url(\"res/actions/rotate24.png\"),auto'\n    );\n  }\n\n  _makeButton(objectButton, onMove, onEnd, cursor) {\n    objectButton.interactive = true;\n    objectButton.buttonMode = true;\n    objectButton.cursor = cursor;\n    gesture.panable(objectButton);\n    objectButton.on('panmove', onMove);\n    objectButton.on('panend', onEnd);\n    this.pixiContainer.addChild(objectButton);\n  }\n\n  getPixiContainer() {\n    return this.pixiContainer;\n  }\n\n  _renderButton(\n    show,\n    buttonObject,\n    canvasPosition,\n    size,\n    shape = RECTANGLE_BUTTON_SHAPE\n  ) {\n    buttonObject.clear();\n    if (!show) {\n      buttonObject.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n      return;\n    }\n\n    buttonObject.beginFill(0xffffff);\n    buttonObject.lineStyle(1, 0x6868e8, 1);\n    buttonObject.fillAlpha = 0.9;\n    if (shape === RECTANGLE_BUTTON_SHAPE) {\n      buttonObject.drawRect(canvasPosition[0], canvasPosition[1], size, size);\n    } else if (shape === CIRCLE_BUTTON_SHAPE) {\n      buttonObject.drawCircle(\n        canvasPosition[0] + size / 2,\n        canvasPosition[1] + size / 2,\n        size / 2\n      );\n    }\n\n    buttonObject.endFill();\n    buttonObject.hitArea = new PIXI.Rectangle(\n      canvasPosition[0],\n      canvasPosition[1],\n      size,\n      size\n    );\n  }\n\n  render() {\n    const selection = this.instancesSelection.getSelectedInstances();\n    let x1;\n    let y1;\n    let x2;\n    let y2;\n\n    //Update the selection rectangle of each instance\n    for (var i = 0; i < selection.length; i++) {\n      if (this.selectedRectangles.length === i) {\n        const newRectangle = new PIXI.Graphics();\n        newRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n        this.selectedRectangles.push(newRectangle);\n        this.rectanglesContainer.addChild(newRectangle);\n      }\n\n      const instance = selection[i];\n      const instanceRect = this.instanceMeasurer.getInstanceRect(instance);\n      const selectionRectangle = transformRect(\n        this.toCanvasCoordinates,\n        instanceRect\n      );\n\n      this.selectedRectangles[i].clear();\n      this.selectedRectangles[i].beginFill(0x6868e8);\n      this.selectedRectangles[i].lineStyle(1, 0x6868e8, 1);\n      this.selectedRectangles[i].fillAlpha = 0.3;\n      this.selectedRectangles[i].alpha = 0.8;\n      this.selectedRectangles[i].drawRect(\n        selectionRectangle.x,\n        selectionRectangle.y,\n        selectionRectangle.width,\n        selectionRectangle.height\n      );\n      this.selectedRectangles[i].endFill();\n\n      if (x1 === undefined || instanceRect.x < x1) x1 = instanceRect.x;\n      if (y1 === undefined || instanceRect.y < y1) y1 = instanceRect.y;\n      if (x2 === undefined || instanceRect.x + instanceRect.width > x2)\n        x2 = instanceRect.x + instanceRect.width;\n      if (y2 === undefined || instanceRect.y + instanceRect.height > y2)\n        y2 = instanceRect.y + instanceRect.height;\n    }\n\n    while (this.selectedRectangles.length > selection.length) {\n      this.rectanglesContainer.removeChild(this.selectedRectangles.pop());\n    }\n\n    //Position the resize button.\n    const show = selection.length !== 0;\n    const resizeButtonPos = this.toCanvasCoordinates(x2, y2);\n    resizeButtonPos[0] += buttonPadding;\n    resizeButtonPos[1] += buttonPadding;\n\n    const rightResizeButtonPos = this.toCanvasCoordinates(\n      x2,\n      y1 + (y2 - y1) / 2\n    );\n    rightResizeButtonPos[0] += buttonPadding;\n    rightResizeButtonPos[1] -= -smallButtonSize / 2;\n\n    const bottomResizeButtonPos = this.toCanvasCoordinates(\n      x1 + (x2 - x1) / 2,\n      y2\n    );\n    bottomResizeButtonPos[0] -= -smallButtonSize / 2;\n    bottomResizeButtonPos[1] += buttonPadding;\n\n    const rotateButtonPos = this.toCanvasCoordinates(x1 + (x2 - x1) / 2, y1);\n    rotateButtonPos[0] -= -smallButtonSize / 2;\n    rotateButtonPos[1] -= buttonPadding * 4;\n\n    this._renderButton(show, this.resizeButton, resizeButtonPos, buttonSize);\n    this._renderButton(\n      show,\n      this.rightResizeButton,\n      rightResizeButtonPos,\n      smallButtonSize\n    );\n    this._renderButton(\n      show,\n      this.bottomResizeButton,\n      bottomResizeButtonPos,\n      smallButtonSize\n    );\n    this._renderButton(\n      show,\n      this.rotateButton,\n      rotateButtonPos,\n      smallButtonSize,\n      CIRCLE_BUTTON_SHAPE\n    );\n  }\n}\n","import transformRect from '../Utils/TransformRect';\nimport * as PIXI from 'pixi.js';\n\nexport default class InstancesSelection {\n  constructor({ instanceMeasurer, toCanvasCoordinates }) {\n    this.instanceMeasurer = instanceMeasurer;\n    this.toCanvasCoordinates = toCanvasCoordinates;\n\n    this.highlightedInstance = null;\n    this.highlightRectangle = new PIXI.Graphics();\n    this.highlightRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n\n    this.tooltipBackground = new PIXI.Graphics();\n    this.tooltipText = new PIXI.Text('', {\n      fontSize: 17,\n      fill: 0xffffff,\n      align: 'center',\n    });\n    this.highlightRectangle.addChild(this.tooltipBackground);\n    this.highlightRectangle.addChild(this.tooltipText);\n  }\n\n  setInstance(instance) {\n    this.highlightedInstance = instance;\n  }\n\n  getInstance() {\n    return this.highlightedInstance;\n  }\n\n  getPixiObject(instance) {\n    return this.highlightRectangle;\n  }\n\n  render() {\n    if (this.highlightedInstance === null) {\n      this.highlightRectangle.visible = false;\n      return;\n    }\n\n    const highlightRectangle = transformRect(\n      this.toCanvasCoordinates,\n      this.instanceMeasurer.getInstanceRect(this.highlightedInstance)\n    );\n\n    this.highlightRectangle.visible = true;\n    this.highlightRectangle.clear();\n    this.highlightRectangle.beginFill(0xeeeeff);\n    this.highlightRectangle.fillAlpha = 0.1;\n    this.highlightRectangle.alpha = 0.8;\n    this.highlightRectangle.lineStyle(1, 0x000000, 1);\n    this.highlightRectangle.drawRect(\n      highlightRectangle.x,\n      highlightRectangle.y,\n      highlightRectangle.width,\n      highlightRectangle.height\n    );\n    this.highlightRectangle.endFill();\n\n    const tooltipInfo =\n      this.highlightedInstance.getObjectName() +\n      '\\n' +\n      'X: ' +\n      parseInt(this.highlightedInstance.getX()) +\n      '  Y: ' +\n      parseInt(this.highlightedInstance.getY()) +\n      '\\n' +\n      'Layer: ' +\n      this.highlightedInstance.getLayer() +\n      '  Z: ' +\n      this.highlightedInstance.getZOrder() +\n      '\\n';\n    this.tooltipText.text = tooltipInfo;\n\n    this.tooltipText.x =\n      highlightRectangle.x -\n      this.tooltipText.width / 2 +\n      highlightRectangle.width / 2;\n    this.tooltipText.y = highlightRectangle.y - this.tooltipText.height;\n\n    const padding = 5;\n    this.tooltipBackground.clear();\n    this.tooltipBackground.beginFill(0x000000, 0.8);\n    this.tooltipBackground.drawRoundedRect(\n      this.tooltipText.x - padding,\n      this.tooltipText.y - padding,\n      this.tooltipText.width + padding * 2,\n      this.tooltipText.height - padding,\n      4\n    );\n    this.tooltipBackground.endFill();\n  }\n}\n","export default class InstancesResizer {\n  constructor({ instanceMeasurer, options }) {\n    this.instanceMeasurer = instanceMeasurer;\n    this.options = options;\n    this.instanceSizes = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  _roundWidth(width) {\n    if (!this.options.snap || !this.options.grid || this.options.gridWidth <= 0)\n      return Math.max(Math.round(width), 1);\n\n    return Math.max(\n      Math.round(width / this.options.gridWidth) * this.options.gridWidth,\n      1\n    );\n  }\n\n  _roundHeight(height) {\n    if (\n      !this.options.snap ||\n      !this.options.grid ||\n      this.options.gridHeight <= 0\n    )\n      return Math.max(Math.round(height), 1);\n\n    return Math.max(\n      Math.round(height / this.options.gridHeight) * this.options.gridHeight,\n      1\n    );\n  }\n\n  _getSizeDeltaX(proportional, initialSize) {\n    if (proportional && Math.abs(this.totalDeltaX) < Math.abs(this.totalDeltaY))\n      return (initialSize.width / initialSize.height) * this.totalDeltaY;\n\n    return this.totalDeltaX;\n  }\n\n  _getSizeDeltaY(proportional, initialSize) {\n    if (proportional && Math.abs(this.totalDeltaY) < Math.abs(this.totalDeltaX))\n      return (initialSize.height / initialSize.width) * this.totalDeltaX;\n\n    return this.totalDeltaY;\n  }\n\n  resizeBy(instances, deltaX, deltaY, proportional) {\n    this.totalDeltaX += deltaX;\n    this.totalDeltaY += deltaY;\n\n    for (let i = 0; i < instances.length; i++) {\n      const selectedInstance = instances[i];\n\n      if (!selectedInstance.hasCustomSize()) {\n        selectedInstance.setCustomWidth(\n          this.instanceMeasurer.getInstanceWidth(selectedInstance)\n        );\n        selectedInstance.setCustomHeight(\n          this.instanceMeasurer.getInstanceHeight(selectedInstance)\n        );\n      }\n\n      let initialSize = this.instanceSizes[selectedInstance.ptr];\n      if (!initialSize) {\n        initialSize = this.instanceSizes[selectedInstance.ptr] = {\n          width: selectedInstance.getCustomWidth(),\n          height: selectedInstance.getCustomHeight(),\n        };\n      }\n\n      selectedInstance.setHasCustomSize(true);\n      selectedInstance.setCustomWidth(\n        this._roundWidth(\n          initialSize.width + this._getSizeDeltaX(proportional, initialSize)\n        )\n      );\n      selectedInstance.setCustomHeight(\n        this._roundHeight(\n          initialSize.height + this._getSizeDeltaY(proportional, initialSize)\n        )\n      );\n    }\n  }\n\n  endResize() {\n    this.instanceSizes = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n}\n","export default class InstancesRotator {\n  constructor() {\n    this.instanceAngles = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n\n  _getNewAngle(proportional: boolean, initialAngle: number) {\n    const angle =\n      (Math.atan2(this.totalDeltaY, this.totalDeltaX) * 180) / Math.PI +\n      initialAngle;\n    return proportional ? Math.round(angle / 15) * 15 : angle;\n  }\n\n  rotateBy(instances, deltaX, deltaY, proportional) {\n    this.totalDeltaX += deltaX;\n    this.totalDeltaY += deltaY;\n\n    for (let i = 0; i < instances.length; i++) {\n      const selectedInstance = instances[i];\n      let initialAngle = this.instanceAngles[selectedInstance.ptr];\n      if (initialAngle === undefined) {\n        initialAngle = this.instanceAngles[\n          selectedInstance.ptr\n        ] = selectedInstance.getAngle();\n      }\n      selectedInstance.setAngle(this._getNewAngle(proportional, initialAngle));\n    }\n  }\n\n  endRotate() {\n    this.instanceAngles = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n}\n","import { roundPosition } from '../Utils/GridHelpers';\n\nexport default class InstancesMover {\n  constructor({ instanceMeasurer, options }) {\n    this.instanceMeasurer = instanceMeasurer;\n    this.options = options;\n    this.instancePositions = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  _roundXPosition(x, noGridSnap) {\n    if (!this.options.snap || !this.options.grid || noGridSnap)\n      return Math.round(x);\n\n    return roundPosition(x, this.options.gridWidth, this.options.gridOffsetX);\n  }\n\n  _roundYPosition(y, noGridSnap) {\n    if (!this.options.snap || !this.options.grid || noGridSnap)\n      return Math.round(y);\n\n    return roundPosition(y, this.options.gridHeight, this.options.gridOffsetY);\n  }\n\n  _getMoveDeltaX(followAxis) {\n    if (followAxis && Math.abs(this.totalDeltaX) < Math.abs(this.totalDeltaY))\n      return 0;\n\n    return this.totalDeltaX;\n  }\n\n  _getMoveDeltaY(followAxis) {\n    if (followAxis && Math.abs(this.totalDeltaY) < Math.abs(this.totalDeltaX))\n      return 0;\n\n    return this.totalDeltaY;\n  }\n\n  moveBy(instances, deltaX, deltaY, followAxis, noGridSnap) {\n    this.totalDeltaX += deltaX;\n    this.totalDeltaY += deltaY;\n\n    for (var i = 0; i < instances.length; i++) {\n      const selectedInstance = instances[i];\n\n      let initialPosition = this.instancePositions[selectedInstance.ptr];\n      if (!initialPosition) {\n        initialPosition = this.instancePositions[selectedInstance.ptr] = {\n          x: selectedInstance.getX(),\n          y: selectedInstance.getY(),\n        };\n      }\n\n      selectedInstance.setX(\n        this._roundXPosition(\n          initialPosition.x + this._getMoveDeltaX(followAxis),\n          noGridSnap\n        )\n      );\n      selectedInstance.setY(\n        this._roundYPosition(\n          initialPosition.y + this._getMoveDeltaY(followAxis),\n          noGridSnap\n        )\n      );\n    }\n  }\n\n  endMove() {\n    this.instancePositions = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n}\n","import * as PIXI from 'pixi.js';\n\nexport default class SelectionRectangle {\n  constructor({ viewPosition, options }) {\n    this.viewPosition = viewPosition;\n    this.options = options;\n\n    this.pixiGrid = new PIXI.Graphics();\n    this.pixiGrid.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  getPixiObject() {\n    return this.pixiGrid;\n  }\n\n  render() {\n    const options = this.options;\n\n    if (!options.grid) {\n      this.pixiGrid.visible = false;\n      return;\n    }\n\n    this.pixiGrid.visible = true;\n    this.pixiGrid.clear();\n    this.pixiGrid.beginFill(0x6868e8);\n    this.pixiGrid.lineStyle(1, 0x6868e8, 1);\n    this.pixiGrid.fillAlpha = 0.1;\n    this.pixiGrid.alpha = 0.8;\n\n    const sceneStartPoint = this.viewPosition.toSceneCoordinates(0, 0);\n    const sceneEndPoint = this.viewPosition.toSceneCoordinates(\n      this.viewPosition.getWidth(),\n      this.viewPosition.getHeight()\n    );\n\n    const startXPos =\n      Math.floor(sceneStartPoint[0] / options.gridWidth) * options.gridWidth;\n    const startYPos =\n      Math.floor(sceneStartPoint[1] / options.gridHeight) * options.gridHeight;\n\n    const endXPos =\n      Math.ceil(sceneEndPoint[0] / options.gridWidth) * options.gridWidth;\n    const endYPos =\n      Math.ceil(sceneEndPoint[1] / options.gridHeight) * options.gridHeight;\n\n    for (\n      let Xpos = startXPos + options.gridOffsetX;\n      Xpos < endXPos;\n      Xpos += options.gridWidth\n    ) {\n      const start = this.viewPosition.toCanvasCoordinates(Xpos, startYPos);\n      const end = this.viewPosition.toCanvasCoordinates(Xpos, endYPos);\n\n      this.pixiGrid.moveTo(start[0], start[1]);\n      this.pixiGrid.lineTo(end[0], end[1]);\n    }\n\n    for (\n      let Ypos = startYPos + options.gridOffsetY;\n      Ypos < endYPos;\n      Ypos += options.gridHeight\n    ) {\n      const start = this.viewPosition.toCanvasCoordinates(startXPos, Ypos);\n      const end = this.viewPosition.toCanvasCoordinates(endXPos, Ypos);\n\n      this.pixiGrid.moveTo(start[0], start[1]);\n      this.pixiGrid.lineTo(end[0], end[1]);\n    }\n\n    this.pixiGrid.endFill();\n  }\n}\n","import * as PIXI from 'pixi.js';\nimport transformRect from '../Utils/TransformRect';\nimport { rgbToHexNumber } from '../Utils/ColorTransformer';\n\nexport default class WindowBorder {\n  constructor({ project, layout, toCanvasCoordinates }) {\n    this.project = project;\n    this.layout = layout;\n    this.toCanvasCoordinates = toCanvasCoordinates;\n\n    this.pixiRectangle = new PIXI.Graphics();\n    this.pixiRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n    this.windowRectangle = {\n      x: 0,\n      y: 0,\n      width: this.project.getMainWindowDefaultWidth(),\n      height: this.project.getMainWindowDefaultHeight(),\n    };\n  }\n\n  getPixiObject() {\n    return this.pixiRectangle;\n  }\n\n  render() {\n    const displayedRectangle = transformRect(\n      this.toCanvasCoordinates,\n      this.windowRectangle\n    );\n\n    this.pixiRectangle.clear();\n    this.pixiRectangle.beginFill(0x000000);\n    this.pixiRectangle.lineStyle(\n      1,\n      rgbToHexNumber(\n        128 + (this.layout.getBackgroundColorRed() % 256),\n        128 + (this.layout.getBackgroundColorBlue() % 256),\n        128 + (this.layout.getBackgroundColorGreen() % 256)\n      ),\n      1\n    );\n    this.pixiRectangle.alpha = 1;\n    this.pixiRectangle.fillAlpha = 0;\n    this.pixiRectangle.drawRect(\n      displayedRectangle.x,\n      displayedRectangle.y,\n      displayedRectangle.width,\n      displayedRectangle.height\n    );\n    this.pixiRectangle.endFill();\n  }\n}\n","import * as PIXI from 'pixi.js';\nimport transformRect from '../Utils/TransformRect';\n\nexport default class WindowBorder {\n  constructor({ project, viewPosition, options }) {\n    this.project = project;\n    this.viewPosition = viewPosition;\n    this.options = options;\n\n    this.pixiRectangle = new PIXI.Graphics();\n    this.pixiRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n    this.windowRectangle = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n    };\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  getPixiObject() {\n    return this.pixiRectangle;\n  }\n\n  render() {\n    const options = this.options;\n\n    if (!options.windowMask) {\n      this.pixiRectangle.visible = false;\n      return;\n    }\n\n    const width = this.project.getMainWindowDefaultWidth();\n    const height = this.project.getMainWindowDefaultHeight();\n    this.windowRectangle.x = this.viewPosition.getViewX() - width / 2;\n    this.windowRectangle.y = this.viewPosition.getViewY() - height / 2;\n    this.windowRectangle.width = width;\n    this.windowRectangle.height = height;\n\n    const displayedRectangle = transformRect(\n      this.viewPosition.toCanvasCoordinates,\n      this.windowRectangle\n    );\n\n    this.pixiRectangle.visible = true;\n    this.pixiRectangle.clear();\n    this.pixiRectangle.beginFill(0x000000);\n    this.pixiRectangle.lineStyle(1, 0x000000, 1);\n    this.pixiRectangle.alpha = 1;\n    this.pixiRectangle.fillAlpha = 0;\n    this.pixiRectangle.drawRect(\n      displayedRectangle.x,\n      displayedRectangle.y,\n      displayedRectangle.width,\n      displayedRectangle.height\n    );\n    this.pixiRectangle.endFill();\n  }\n}\n","export default class DropHandler {\n  constructor({ canvas, onDrop }) {\n    canvas.ondragover = canvas.ondrop = ev => {\n      ev.dataTransfer.dropEffect = 'copy';\n      ev.preventDefault();\n    };\n\n    canvas.ondrop = ev => {\n      const canvasRect = canvas.getBoundingClientRect();\n      const name = ev.dataTransfer.getData('text');\n      if (name)\n        onDrop(ev.clientX - canvasRect.left, ev.clientY - canvasRect.top, name);\n\n      ev.preventDefault();\n    };\n  }\n}\n","import { rgbToHex } from '../Utils/ColorTransformer';\n\nexport default class BackgroundColor {\n  constructor({ layout, pixiRenderer }) {\n    this.layout = layout;\n    this.pixiRenderer = pixiRenderer;\n  }\n\n  render() {\n    this.pixiRenderer.backgroundColor = parseInt(\n      parseInt(\n        rgbToHex(\n          this.layout.getBackgroundColorRed(),\n          this.layout.getBackgroundColorGreen(),\n          this.layout.getBackgroundColorBlue()\n        ),\n        16\n      ),\n      10\n    );\n  }\n}\n","// @flow\n\n/**\n * Provide a method shouldUpdate that can be called in a game loop or in\n * a method used in renderAnimationFrame, and which indicate if the rendering/update\n * of the scene should be done according to the desired framerate.\n */\nexport default class FpsLimiter {\n  _lastFrameTime: number;\n  _interval: number;\n  _forceUpdate: boolean;\n\n  constructor(maxFps: number) {\n    this._lastFrameTime = Date.now();\n    this._interval = 1000 / maxFps;\n    this._forceUpdate = false;\n  }\n\n  shouldUpdate() {\n    const now = Date.now();\n    const delta = now - this._lastFrameTime;\n\n    if (delta > this._interval || this._forceUpdate) {\n      this._lastFrameTime = now - (delta % this._interval);\n      this._forceUpdate = false;\n      return true;\n    }\n\n    return false;\n  }\n\n  forceNextUpdate() {\n    this._forceUpdate = true;\n  }\n}\n","import * as PIXI from 'pixi.js';\n\n// PIXI has a ticker that is used by PIXI InteractionManager, and which\n// frequently check if interaction happened. We may want to disable it\n// when it's useless to do these interaction checks to save CPU usage.\n\n/**\n *  Stop the PIXI Ticker used to monitor interactions\n */\nexport const stopPIXITicker = () => {\n  const ticker = PIXI.ticker && PIXI.ticker.shared;\n  if (ticker) ticker.stop();\n};\n\n/**\n * Start the PIXI Ticker used to monitor interactions\n */\nexport const startPIXITicker = () => {\n  // Timeout ensure that the ticker is started even if other components\n  // call stopPIXITicker during the same tick (for example, when switching\n  // between SceneEditor tabs).\n  setTimeout(() => {\n    const ticker = PIXI.ticker && PIXI.ticker.shared;\n    if (ticker) ticker.start();\n  }, 50);\n};\n","import React, { Component } from 'react';\nimport gesture from 'pixi-simple-gesture';\nimport KeyboardShortcuts from '../UI/KeyboardShortcuts';\nimport SimpleDropTarget from '../Utils/DragDropHelpers/SimpleDropTarget';\nimport InstancesRenderer from './InstancesRenderer';\nimport ViewPosition from './ViewPosition';\nimport SelectedInstances from './SelectedInstances';\nimport HighlightedInstance from './HighlightedInstance';\nimport SelectionRectangle from './SelectionRectangle';\nimport InstancesResizer from './InstancesResizer';\nimport InstancesRotator from './InstancesRotator';\nimport InstancesMover from './InstancesMover';\nimport Grid from './Grid';\nimport WindowBorder from './WindowBorder';\nimport WindowMask from './WindowMask';\nimport DropHandler from './DropHandler';\nimport BackgroundColor from './BackgroundColor';\nimport * as PIXI from 'pixi.js';\nimport FpsLimiter from './FpsLimiter';\nimport { startPIXITicker, stopPIXITicker } from '../Utils/PIXITicker';\n\nconst styles = {\n  canvasArea: { flex: 1, position: 'absolute', overflow: 'hidden' },\n  dropCursor: { cursor: 'copy' },\n};\n\nexport default class InstancesEditorContainer extends Component {\n  constructor() {\n    super();\n\n    this.lastContextMenuX = 0;\n    this.lastContextMenuY = 0;\n    this.lastCursorX = 0;\n    this.lastCursorY = 0;\n\n    this.fpsLimiter = new FpsLimiter(28);\n  }\n\n  componentDidMount() {\n    // Initialize the PIXI renderer, if possible\n    if (this.canvasArea && !this.pixiRenderer) {\n      this._initializeCanvasAndRenderer();\n    }\n  }\n\n  componentDidUpdate() {\n    // Initialize the PIXI renderer, if not already done.\n    // This can happen if canvasArea was not rendered\n    // just after the mount (depends on react-dnd versions?).\n    if (this.canvasArea && !this.pixiRenderer) {\n      this._initializeCanvasAndRenderer();\n    }\n  }\n\n  _initializeCanvasAndRenderer() {\n    this.pixiRenderer = PIXI.autoDetectRenderer(\n      this.props.width,\n      this.props.height,\n      { antialias: true } //fixes jaggy edges\n    );\n    this.canvasArea.appendChild(this.pixiRenderer.view);\n    this.pixiRenderer.view.addEventListener('contextmenu', e => {\n      e.preventDefault();\n\n      this.lastContextMenuX = e.offsetX;\n      this.lastContextMenuY = e.offsetY;\n      if (this.props.onContextMenu)\n        this.props.onContextMenu(e.clientX, e.clientY);\n\n      return false;\n    });\n    this.pixiRenderer.view.addEventListener('pointerup', event => {\n      this.props.onPointerUp();\n    });\n    this.pixiRenderer.view.addEventListener('pointerover', event => {\n      this.props.onPointerOver();\n    });\n    this.pixiRenderer.view.addEventListener('pointerout', event => {\n      this.props.onPointerOut();\n    });\n    this.pixiRenderer.view.onmousewheel = event => {\n      if (this.keyboardShortcuts.shouldZoom()) {\n        this.zoomBy(event.wheelDelta / 5000);\n      } else if (this.keyboardShortcuts.shouldScrollHorizontally()) {\n        this.viewPosition.scrollBy(-event.wheelDelta / 10, 0);\n      } else {\n        this.viewPosition.scrollBy(event.deltaX / 10, event.deltaY / 10);\n      }\n\n      if (this.props.onViewPositionChanged) {\n        this.props.onViewPositionChanged(this.viewPosition);\n      }\n      event.preventDefault();\n    };\n    this.pixiRenderer.view.setAttribute('tabIndex', -1);\n    this.pixiRenderer.view.addEventListener('focus', e => {\n      this.keyboardShortcuts.focus();\n    });\n    this.pixiRenderer.view.addEventListener('blur', e => {\n      this.keyboardShortcuts.blur();\n    });\n    this.pixiRenderer.view.addEventListener('mouseover', e => {\n      this.keyboardShortcuts.focus();\n    });\n    this.pixiRenderer.view.addEventListener('mouseout', e => {\n      this.keyboardShortcuts.blur();\n    });\n\n    this.pixiContainer = new PIXI.Container();\n\n    this.backgroundArea = new PIXI.Container();\n    this.backgroundArea.hitArea = new PIXI.Rectangle(\n      0,\n      0,\n      this.props.width,\n      this.props.height\n    );\n    gesture.panable(this.backgroundArea);\n    this.backgroundArea.on('mousedown', event =>\n      this._onBackgroundClicked(event.data.global.x, event.data.global.y)\n    );\n    this.backgroundArea.on('touchstart', event =>\n      this._onBackgroundClicked(event.data.global.x, event.data.global.y)\n    );\n    this.backgroundArea.on('mousemove', event =>\n      this._onMouseMove(event.data.global.x, event.data.global.y)\n    );\n    this.backgroundArea.on('panmove', event =>\n      this._onPanMove(\n        event.deltaX,\n        event.deltaY,\n        event.data.global.x,\n        event.data.global.y\n      )\n    );\n    this.backgroundArea.on('panend', event => this._onEndSelectionRectangle());\n    this.pixiContainer.addChild(this.backgroundArea);\n\n    this.viewPosition = new ViewPosition({\n      width: this.props.width,\n      height: this.props.height,\n      options: this.props.options,\n    });\n    this.pixiContainer.addChild(this.viewPosition.getPixiContainer());\n\n    this.grid = new Grid({\n      viewPosition: this.viewPosition,\n      options: this.props.options,\n    });\n    this.pixiContainer.addChild(this.grid.getPixiObject());\n\n    this.keyboardShortcuts = new KeyboardShortcuts({\n      onDelete: this.props.onDeleteSelection,\n      onMove: this.moveSelection,\n      onCopy: this.props.onCopy,\n      onCut: this.props.onCut,\n      onPaste: this.props.onPaste,\n      onUndo: this.props.onUndo,\n      onRedo: this.props.onRedo,\n      onZoomOut: this.props.onZoomOut,\n      onZoomIn: this.props.onZoomIn,\n    });\n\n    this.dropHandler = new DropHandler({\n      canvas: this.canvasArea,\n      onDrop: this._onDrop,\n    });\n\n    this._mountEditorComponents(this.props);\n    this._renderScene();\n  }\n\n  /**\n   * Force the internal InstancesRenderer to be destroyed and recreated\n   * (as well as other components holding references to instances). Call\n   * this when the initial instances were recreated to ensure that there\n   * is not mismatch between renderers and the instances that were updated.\n   */\n  forceRemount() {\n    this._mountEditorComponents(this.props);\n  }\n\n  _mountEditorComponents(props) {\n    //Remove and delete any existing editor component\n    if (this.highlightedInstance) {\n      this.pixiContainer.removeChild(this.highlightedInstance.getPixiObject());\n    }\n    if (this.selectedInstances) {\n      this.pixiContainer.removeChild(this.selectedInstances.getPixiContainer());\n    }\n    if (this.instancesRenderer) {\n      this.viewPosition\n        .getPixiContainer()\n        .removeChild(this.instancesRenderer.getPixiContainer());\n      this.instancesRenderer.delete();\n    }\n    if (this.selectionRectangle) {\n      this.pixiContainer.removeChild(this.selectionRectangle.getPixiObject());\n      this.selectionRectangle.delete();\n    }\n    if (this.windowBorder) {\n      this.pixiContainer.removeChild(this.windowBorder.getPixiObject());\n    }\n    if (this.windowMask) {\n      this.pixiContainer.removeChild(this.windowMask.getPixiObject());\n    }\n\n    this.backgroundColor = new BackgroundColor({\n      layout: props.layout,\n      pixiRenderer: this.pixiRenderer,\n    });\n    this.instancesRenderer = new InstancesRenderer({\n      project: props.project,\n      layout: props.layout,\n      instances: props.initialInstances,\n      viewPosition: this.viewPosition,\n      onOverInstance: this._onOverInstance,\n      onMoveInstance: this._onMoveInstance,\n      onMoveInstanceEnd: this._onMoveInstanceEnd,\n      onDownInstance: this._onDownInstance,\n      onOutInstance: this._onOutInstance,\n      onInstanceClicked: this._onInstanceClicked,\n    });\n    this.selectionRectangle = new SelectionRectangle({\n      instances: props.initialInstances,\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      toSceneCoordinates: this.viewPosition.toSceneCoordinates,\n    });\n    this.selectedInstances = new SelectedInstances({\n      instancesSelection: this.props.instancesSelection,\n      onResize: this._onResize,\n      onResizeEnd: this._onResizeEnd,\n      onRotate: this._onRotate,\n      onRotateEnd: this._onRotateEnd,\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      toCanvasCoordinates: this.viewPosition.toCanvasCoordinates,\n    });\n    this.highlightedInstance = new HighlightedInstance({\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      toCanvasCoordinates: this.viewPosition.toCanvasCoordinates,\n    });\n    this.instancesResizer = new InstancesResizer({\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      options: this.props.options,\n    });\n    this.instancesRotator = new InstancesRotator();\n    this.instancesMover = new InstancesMover({\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      options: this.props.options,\n    });\n    this.windowBorder = new WindowBorder({\n      project: props.project,\n      layout: props.layout,\n      toCanvasCoordinates: this.viewPosition.toCanvasCoordinates,\n    });\n    this.windowMask = new WindowMask({\n      project: props.project,\n      viewPosition: this.viewPosition,\n      options: this.props.options,\n    });\n\n    this.pixiContainer.addChild(this.selectionRectangle.getPixiObject());\n    this.viewPosition\n      .getPixiContainer()\n      .addChild(this.instancesRenderer.getPixiContainer());\n    this.pixiContainer.addChild(this.windowBorder.getPixiObject());\n    this.pixiContainer.addChild(this.windowMask.getPixiObject());\n    this.pixiContainer.addChild(this.selectedInstances.getPixiContainer());\n    this.pixiContainer.addChild(this.highlightedInstance.getPixiObject());\n  }\n\n  componentWillUnmount() {\n    // This is an antipattern and is theorically not needed, but help\n    // to protect against renders after the component is unmounted.\n    this._unmounted = true;\n\n    this.keyboardShortcuts.unmount();\n    this.selectionRectangle.delete();\n    this.instancesRenderer.delete();\n    if (this.nextFrame) cancelAnimationFrame(this.nextFrame);\n    stopPIXITicker();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (\n      nextProps.width !== this.props.width ||\n      nextProps.height !== this.props.height\n    ) {\n      this.pixiRenderer.resize(nextProps.width, nextProps.height);\n      this.viewPosition.resize(nextProps.width, nextProps.height);\n      this.backgroundArea.hitArea = new PIXI.Rectangle(\n        0,\n        0,\n        nextProps.width,\n        nextProps.height\n      );\n\n      // Avoid flickering that could happen while waiting for next animation frame.\n      this.fpsLimiter.forceNextUpdate();\n      this._renderScene();\n    }\n\n    if (nextProps.options !== this.props.options) {\n      this.grid.setOptions(nextProps.options);\n      this.instancesMover.setOptions(nextProps.options);\n      this.instancesResizer.setOptions(nextProps.options);\n      this.windowMask.setOptions(nextProps.options);\n      this.viewPosition.setOptions(nextProps.options);\n    }\n\n    if (\n      this.props.layout !== nextProps.layout ||\n      this.props.initialInstances !== nextProps.initialInstances ||\n      this.props.project !== nextProps.project\n    ) {\n      this._mountEditorComponents(nextProps);\n    }\n\n    // For avoiding useless renderings, which is costly for CPU/GPU, when the editor\n    // is not displayed, `pauseRendering` prop can be set to true.\n    if (nextProps.pauseRendering && !this.props.pauseRendering)\n      this.pauseSceneRendering();\n\n    if (!nextProps.pauseRendering && this.props.pauseRendering)\n      this.restartSceneRendering();\n  }\n\n  /**\n   * Delete instance renderers of the specified objects, which will then be recreated during\n   * the next render. Call this when an object resources may have changed (for example, a modified image),\n   * and you want the instances of objects to reflect the changes.\n   * See also ResourcesLoader and PixiResourcesLoader.\n   * @param {string} objectName The name of the object for which instance must be re-rendered.\n   */\n  resetRenderersFor(objectName) {\n    if (this.instancesRenderer)\n      this.instancesRenderer.resetRenderersFor(objectName);\n  }\n\n  zoomBy(value) {\n    this.setZoomFactor(this.getZoomFactor() + value);\n  }\n\n  getZoomFactor() {\n    return this.props.options.zoomFactor;\n  }\n\n  setZoomFactor(zoomFactor) {\n    this.props.onChangeOptions({\n      zoomFactor: Math.max(Math.min(zoomFactor, 10), 0.01),\n    });\n  }\n\n  _onMouseMove = (x, y) => {\n    this.lastCursorX = x;\n    this.lastCursorY = y;\n  };\n\n  _onBackgroundClicked = (x, y) => {\n    this.lastCursorX = x;\n    this.lastCursorY = y;\n    this.pixiRenderer.view.focus();\n\n    if (!this.keyboardShortcuts.shouldMultiSelect()) {\n      this.props.instancesSelection.clearSelection();\n      this.props.onInstancesSelected([]);\n    }\n  };\n\n  _onPanMove = (deltaX, deltaY, x, y) => {\n    if (this.keyboardShortcuts.shouldMoveView()) {\n      const sceneDeltaX = deltaX / this.getZoomFactor();\n      const sceneDeltaY = deltaY / this.getZoomFactor();\n\n      this.viewPosition.scrollBy(-sceneDeltaX, -sceneDeltaY);\n\n      if (this.props.onViewPositionChanged) {\n        this.props.onViewPositionChanged(this.viewPosition);\n      }\n    } else {\n      this.selectionRectangle.makeSelectionRectangle(x, y);\n    }\n  };\n\n  _getLayersVisibility = () => {\n    const { layout } = this.props;\n    const layersVisibility = {};\n    for (let i = 0; i < layout.getLayersCount(); i++) {\n      layersVisibility[layout.getLayerAt(i).getName()] = layout\n        .getLayerAt(i)\n        .getVisibility();\n    }\n    return layersVisibility;\n  };\n\n  _onEndSelectionRectangle = () => {\n    let instancesSelected = this.selectionRectangle.endSelectionRectangle();\n\n    this.props.instancesSelection.selectInstances(\n      instancesSelected,\n      this.keyboardShortcuts.shouldMultiSelect(),\n      this._getLayersVisibility()\n    );\n    instancesSelected = this.props.instancesSelection.getSelectedInstances();\n    this.props.onInstancesSelected(instancesSelected);\n  };\n\n  _onInstanceClicked = instance => {\n    this.pixiRenderer.view.focus();\n  };\n\n  _onOverInstance = instance => {\n    this.highlightedInstance.setInstance(instance);\n  };\n\n  _onDownInstance = instance => {\n    if (this.keyboardShortcuts.shouldCloneInstances()) {\n      const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n      for (var i = 0; i < selectedInstances.length; i++) {\n        const instance = selectedInstances[i];\n        this.props.initialInstances.insertInitialInstance(instance);\n      }\n    } else {\n      this.props.instancesSelection.selectInstance(\n        instance,\n        this.keyboardShortcuts.shouldMultiSelect(),\n        this._getLayersVisibility()\n      );\n\n      if (this.props.onInstancesSelected) {\n        this.props.onInstancesSelected(\n          this.props.instancesSelection.getSelectedInstances()\n        );\n      }\n    }\n  };\n\n  _onOutInstance = instance => {\n    if (instance === this.highlightedInstance.getInstance())\n      this.highlightedInstance.setInstance(null);\n  };\n\n  _onMoveInstance = (instance, deltaX, deltaY) => {\n    const sceneDeltaX = deltaX / this.getZoomFactor();\n    const sceneDeltaY = deltaY / this.getZoomFactor();\n\n    if (this.keyboardShortcuts.shouldMoveView()) {\n      this.viewPosition.scrollBy(-sceneDeltaX, -sceneDeltaY);\n\n      if (this.props.onViewPositionChanged) {\n        this.props.onViewPositionChanged(this.viewPosition);\n      }\n      return;\n    }\n\n    if (!this.props.instancesSelection.isInstanceSelected(instance)) {\n      this._onInstanceClicked(instance);\n    }\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.instancesMover.moveBy(\n      selectedInstances,\n      sceneDeltaX,\n      sceneDeltaY,\n      this.keyboardShortcuts.shouldFollowAxis(),\n      this.keyboardShortcuts.shouldNotSnapToGrid()\n    );\n  };\n\n  _onMoveInstanceEnd = () => {\n    this.instancesMover.endMove();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.props.onInstancesMoved(selectedInstances);\n  };\n\n  _onResize = (deltaX, deltaY) => {\n    const sceneDeltaX = deltaX / this.getZoomFactor();\n    const sceneDeltaY = deltaY / this.getZoomFactor();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.instancesResizer.resizeBy(\n      selectedInstances,\n      sceneDeltaX,\n      sceneDeltaY,\n      this.keyboardShortcuts.shouldResizeProportionally()\n    );\n  };\n\n  _onResizeEnd = () => {\n    this.instancesResizer.endResize();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.props.onInstancesResized(selectedInstances);\n  };\n\n  _onRotate = (deltaX, deltaY) => {\n    const sceneDeltaX = deltaX / this.getZoomFactor();\n    const sceneDeltaY = deltaY / this.getZoomFactor();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.instancesRotator.rotateBy(\n      selectedInstances,\n      sceneDeltaX,\n      sceneDeltaY,\n      this.keyboardShortcuts.shouldResizeProportionally()\n    );\n  };\n\n  _onRotateEnd = () => {\n    this.instancesRotator.endRotate();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.props.onInstancesRotated(selectedInstances);\n  };\n\n  _onDrop = (x, y, objectName) => {\n    const newPos = this.viewPosition.toSceneCoordinates(x, y);\n    if (this.props.onAddInstance) {\n      this.props.onAddInstance(newPos[0], newPos[1], objectName);\n    }\n  };\n\n  clearHighlightedInstance = () => {\n    this.highlightedInstance.setInstance(null);\n  };\n\n  moveSelection = (x, y) => {\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    selectedInstances.forEach(instance => {\n      instance.setX(instance.getX() + x);\n      instance.setY(instance.getY() + y);\n    });\n    this.props.onInstancesMoved(selectedInstances);\n  };\n\n  scrollTo(x, y) {\n    this.viewPosition.scrollTo(x, y);\n  }\n\n  centerViewOn(instances) {\n    if (!instances.length) return;\n\n    this.viewPosition.scrollToInstance(instances[instances.length - 1]);\n    if (this.props.onViewPositionChanged) {\n      this.props.onViewPositionChanged(this.viewPosition);\n    }\n  }\n\n  getLastContextMenuPosition = () => {\n    return this.viewPosition.toSceneCoordinates(\n      this.lastContextMenuX,\n      this.lastContextMenuY\n    );\n  };\n\n  getLastCursorPosition = () => {\n    return this.viewPosition.toSceneCoordinates(\n      this.lastCursorX,\n      this.lastCursorY\n    );\n  };\n\n  getViewPosition = () /*: ?ViewPosition */ => {\n    return this.viewPosition;\n  };\n\n  _renderScene = () => {\n    // Protect against rendering scheduled after the component is unmounted.\n    if (this._unmounted) return;\n    if (this._renderingPaused) return;\n\n    // Avoid killing the CPU by limiting the rendering calls.\n    if (this.fpsLimiter.shouldUpdate()) {\n      this.backgroundColor.render();\n      this.viewPosition.render();\n      this.grid.render();\n      this.instancesRenderer.render();\n      this.highlightedInstance.render();\n      this.selectedInstances.render();\n      this.selectionRectangle.render();\n      this.windowBorder.render();\n      this.windowMask.render();\n      this.pixiRenderer.render(this.pixiContainer);\n    }\n    this.nextFrame = requestAnimationFrame(this._renderScene);\n  };\n\n  pauseSceneRendering = () => {\n    if (this.nextFrame) cancelAnimationFrame(this.nextFrame);\n    this._renderingPaused = true;\n\n    stopPIXITicker();\n  };\n\n  restartSceneRendering = () => {\n    this._renderingPaused = false;\n    this._renderScene();\n\n    startPIXITicker();\n  };\n\n  render() {\n    if (!this.props.project) return null;\n\n    return (\n      <SimpleDropTarget>\n        <div\n          ref={canvasArea => (this.canvasArea = canvasArea)}\n          style={{\n            ...styles.canvasArea,\n            ...(this.props.showDropCursor ? styles.dropCursor : undefined),\n          }}\n        />\n      </SimpleDropTarget>\n    );\n  }\n}\n","// @flow\nimport React from 'react';\nimport HelpOutline from 'material-ui/svg-icons/action/help-outline';\nimport IconButton from 'material-ui/IconButton';\nimport { getHelpLink } from '../../Utils/HelpLink';\nimport Window from '../../Utils/Window';\n\ntype PropsType = {\n  helpPagePath: ?string,\n};\n\n/**\n * The icon that can be used in any dialog to open a help page\n */\nexport default (props: PropsType) => {\n  const { helpPagePath } = props;\n  if (!helpPagePath) return null;\n\n  return (\n    <IconButton\n      onClick={() => Window.openExternalURL(getHelpLink(helpPagePath))}\n    >\n      <HelpOutline />\n    </IconButton>\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport Subheader from 'material-ui/Subheader';\nimport Avatar from 'material-ui/Avatar';\nimport { List, ListItem } from 'material-ui/List';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\nimport { Line } from '../UI/Grid';\nimport { showMessageBox } from '../UI/Messages/MessageBox';\nimport { getDeprecatedBehaviorsInformation } from '../Hints';\nimport {\n  type EnumeratedBehaviorMetadata,\n  enumerateBehaviorsMetadata,\n} from './EnumerateBehaviorsMetadata';\n\nconst styles = {\n  icon: { borderRadius: 0 },\n};\n\nconst BehaviorListItem = ({\n  behaviorMetadata,\n  onClick,\n}: {|\n  behaviorMetadata: EnumeratedBehaviorMetadata,\n  onClick: () => void,\n|}) => (\n  <ListItem\n    leftAvatar={\n      <Avatar src={behaviorMetadata.iconFilename} style={styles.icon} />\n    }\n    key={behaviorMetadata.type}\n    primaryText={behaviorMetadata.fullName}\n    secondaryText={<p>{behaviorMetadata.description}</p>}\n    secondaryTextLines={2}\n    onClick={onClick}\n  />\n);\n\ntype Props = {|\n  project: gdProject,\n  open: boolean,\n  onClose: () => void,\n  onChoose: (type: string, defaultName: string) => void,\n|};\ntype State = {|\n  behaviorMetadata: Array<EnumeratedBehaviorMetadata>,\n  showDeprecated: boolean,\n|};\n\nexport default class NewBehaviorDialog extends Component<Props, State> {\n  state = { ...this._loadFrom(this.props.project), showDeprecated: false };\n\n  _loadFrom(\n    project: gdProject\n  ): {| behaviorMetadata: Array<EnumeratedBehaviorMetadata> |} {\n    const platform = project.getCurrentPlatform();\n    return {\n      behaviorMetadata:\n        project && platform\n          ? enumerateBehaviorsMetadata(platform, project)\n          : [],\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.project !== newProps.project)\n    ) {\n      this.setState(this._loadFrom(newProps.project));\n    }\n  }\n\n  _showDeprecated = (showDeprecated: boolean = true) => {\n    this.setState({\n      showDeprecated,\n    });\n  };\n\n  render() {\n    const { project, open, onClose } = this.props;\n    const { showDeprecated, behaviorMetadata } = this.state;\n    if (!open || !project) return null;\n\n    const actions = [\n      <FlatButton\n        key=\"close\"\n        label={<Trans>Close</Trans>}\n        primary={false}\n        onClick={onClose}\n      />,\n    ];\n\n    const deprecatedBehaviorsInformation = getDeprecatedBehaviorsInformation();\n\n    const behaviors = behaviorMetadata.filter(\n      ({ type }) => !deprecatedBehaviorsInformation[type]\n    );\n    const deprecatedBehaviors = behaviorMetadata.filter(\n      ({ type }) => !!deprecatedBehaviorsInformation[type]\n    );\n\n    const chooseBehavior = (\n      i18n: I18nType,\n      { type, defaultName }: EnumeratedBehaviorMetadata\n    ) => {\n      if (deprecatedBehaviorsInformation[type]) {\n        showMessageBox(i18n._(deprecatedBehaviorsInformation[type].warning));\n      }\n\n      return this.props.onChoose(type, defaultName);\n    };\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Dialog\n            title={<Trans>Add a new behavior to the object</Trans>}\n            actions={actions}\n            secondaryActions={<HelpButton helpPagePath=\"/behaviors\" />}\n            open={open}\n            noMargin\n            autoScrollBodyContent\n          >\n            <List>\n              {behaviors.map((behaviorMetadata, index) => (\n                <BehaviorListItem\n                  key={index}\n                  behaviorMetadata={behaviorMetadata}\n                  onClick={() => chooseBehavior(i18n, behaviorMetadata)}\n                />\n              ))}\n              {showDeprecated && (\n                <Subheader>\n                  Deprecated (old, prefer not to use anymore)\n                </Subheader>\n              )}\n              {showDeprecated &&\n                deprecatedBehaviors.map((behaviorMetadata, index) => (\n                  <BehaviorListItem\n                    key={index}\n                    behaviorMetadata={behaviorMetadata}\n                    onClick={() => chooseBehavior(i18n, behaviorMetadata)}\n                  />\n                ))}\n            </List>\n            <Line justifyContent=\"center\" alignItems=\"center\">\n              {!showDeprecated ? (\n                <FlatButton\n                  key=\"toggle-experimental\"\n                  icon={<Visibility />}\n                  primary={false}\n                  onClick={() => this._showDeprecated(true)}\n                  label={<Trans>Show deprecated (old) behaviors</Trans>}\n                />\n              ) : (\n                <FlatButton\n                  key=\"toggle-experimental\"\n                  icon={<VisibilityOff />}\n                  primary={false}\n                  onClick={() => this._showDeprecated(false)}\n                  label={<Trans>Show deprecated (old) behaviors</Trans>}\n                />\n              )}\n            </Line>\n          </Dialog>\n        )}\n      </I18n>\n    );\n  }\n}\n","/**\n * Return the help page for the given behavior\n * @param {*} behavior\n */\nexport const getBehaviorHelpPagePath = behavior => {\n  if (!behavior) return null;\n\n  switch (behavior.getTypeName()) {\n    case 'DraggableBehavior::Draggable':\n      return '/behaviors/draggable';\n    case 'PlatformBehavior::PlatformerObjectBehavior':\n      return '/behaviors/platformer';\n    case 'PlatformBehavior::PlatformBehavior':\n      return '/behaviors/platformer';\n    default:\n      return '';\n  }\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport PropertiesEditor from '../../PropertiesEditor';\nimport propertiesMapToSchema from '../../PropertiesEditor/PropertiesMapToSchema';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { Column } from '../../UI/Grid';\nimport { type BehaviorEditorProps } from './BehaviorEditorProps.flow';\n\ntype Props = BehaviorEditorProps;\n\nexport default class BehaviorPropertiesEditor extends React.Component<Props> {\n  render() {\n    const { behavior, project } = this.props;\n    const properties = behavior.getProperties(project);\n\n    const propertiesSchema = propertiesMapToSchema(\n      properties,\n      behavior => behavior.getProperties(project),\n      (behavior, name, value) => behavior.updateProperty(name, value, project)\n    );\n\n    return (\n      <Column>\n        {propertiesSchema.length ? (\n          <PropertiesEditor schema={propertiesSchema} instances={[behavior]} />\n        ) : (\n          <EmptyMessage>\n            <Trans>\n              There is nothing to configure for this behavior. You can still use\n              events to interact with the object and this behavior.\n            </Trans>\n          </EmptyMessage>\n        )}\n      </Column>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { type Vertex } from './PolygonEditor';\n\ntype Props = {|\n  shape: string,\n  dimensionA: number,\n  dimensionB: number,\n  offsetX: number,\n  offsetY: number,\n  polygonOrigin: string,\n  vertices: Array<Vertex>,\n  width: number,\n  height: number,\n  onMoveVertex: (index: number, newX: number, newY: number) => void,\n|};\n\ntype State = {|\n  draggedVertex: ?Vertex,\n  draggedIndex: number,\n|};\n\nexport default class ShapePreview extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { draggedVertex: null, draggedIndex: -1 };\n  }\n\n  _svg: any;\n\n  _onVertexDown = (vertex: Vertex, index: number) => {\n    if (this.state.draggedVertex) return;\n    this.setState({ draggedVertex: vertex, draggedIndex: index });\n  };\n\n  _onMouseUp = () => {\n    const draggingWasDone = !!this.state.draggedVertex;\n    const { draggedVertex, draggedIndex } = this.state;\n    this.setState(\n      {\n        draggedVertex: null,\n      },\n      () => {\n        if (draggingWasDone)\n          this.props.onMoveVertex(\n            draggedIndex,\n            Math.round(draggedVertex ? draggedVertex.x : 0),\n            Math.round(draggedVertex ? draggedVertex.y : 0)\n          );\n      }\n    );\n  };\n\n  _onMouseMove = (event: any) => {\n    const { offsetX, offsetY, polygonOrigin, width, height } = this.props;\n    const { draggedVertex } = this.state;\n    if (!draggedVertex) return;\n\n    const pointOnScreen = this._svg.createSVGPoint();\n    pointOnScreen.x = event.clientX;\n    pointOnScreen.y = event.clientY;\n    const screenToSvgMatrix = this._svg.getScreenCTM().inverse();\n    const pointOnSvg = pointOnScreen.matrixTransform(screenToSvgMatrix);\n\n    draggedVertex.x =\n      pointOnSvg.x - offsetX - (polygonOrigin === 'Center' ? width / 2 : 0);\n    draggedVertex.y =\n      pointOnSvg.y - offsetY - (polygonOrigin === 'Center' ? height / 2 : 0);\n\n    this.forceUpdate();\n  };\n\n  renderBox() {\n    const {\n      dimensionA,\n      dimensionB,\n      width,\n      height,\n      offsetX,\n      offsetY,\n    } = this.props;\n    const fixedWidth = dimensionA > 0 ? dimensionA : width > 0 ? width : 1;\n    const fixedHeight = dimensionB > 0 ? dimensionB : height > 0 ? height : 1;\n\n    return (\n      <rect\n        key={'boxShape'}\n        fill=\"rgba(255,0,0,0.75)\"\n        strokeWidth={1}\n        x={offsetX + width / 2 - fixedWidth / 2}\n        y={offsetY + height / 2 - fixedHeight / 2}\n        width={fixedWidth}\n        height={fixedHeight}\n      />\n    );\n  }\n\n  renderCircle() {\n    const { dimensionA, width, height, offsetX, offsetY } = this.props;\n\n    return (\n      <circle\n        key={'circleShape'}\n        fill=\"rgba(255,0,0,0.75)\"\n        strokeWidth={1}\n        cx={offsetX + width / 2}\n        cy={offsetY + height / 2}\n        r={\n          dimensionA > 0\n            ? dimensionA\n            : width + height > 0\n            ? (width + height) / 4\n            : 1\n        }\n      />\n    );\n  }\n\n  renderEdge() {\n    const {\n      dimensionA,\n      dimensionB,\n      width,\n      height,\n      offsetX,\n      offsetY,\n    } = this.props;\n    const halfLength =\n      (dimensionA > 0 ? dimensionA : width > 0 ? width : 1) / 2;\n    const cos = Math.cos((dimensionB * Math.PI) / 180);\n    const sin = Math.sin((dimensionB * Math.PI) / 180);\n\n    return (\n      <line\n        key={'edgeShape'}\n        stroke=\"rgba(255,0,0,0.75)\"\n        strokeWidth={2}\n        x1={offsetX + width / 2 - halfLength * cos}\n        y1={offsetY + height / 2 - halfLength * sin}\n        x2={offsetX + width / 2 + halfLength * cos}\n        y2={offsetY + height / 2 + halfLength * sin}\n      />\n    );\n  }\n\n  renderPolygon() {\n    const {\n      vertices,\n      polygonOrigin,\n      width,\n      height,\n      offsetX,\n      offsetY,\n    } = this.props;\n\n    return (\n      <React.Fragment>\n        <polygon\n          key={'polygonShape'}\n          fill=\"rgba(255,0,0,0.75)\"\n          strokeWidth={1}\n          filerule=\"evenodd\"\n          points={vertices\n            .map(\n              vertex =>\n                `${vertex.x +\n                  offsetX +\n                  (polygonOrigin === 'Center' ? width / 2 : 0)},${vertex.y +\n                  offsetY +\n                  (polygonOrigin === 'Center' ? height / 2 : 0)}`\n            )\n            .join(' ')}\n        />\n        {vertices.map((vertex, index) => (\n          <circle\n            onPointerDown={event => this._onVertexDown(vertex, index)}\n            key={`vertex-${index}`}\n            fill=\"rgba(150,0,0,0.75)\"\n            strokeWidth={1}\n            cx={\n              vertex.x + offsetX + (polygonOrigin === 'Center' ? width / 2 : 0)\n            }\n            cy={\n              vertex.y + offsetY + (polygonOrigin === 'Center' ? height / 2 : 0)\n            }\n            r={5}\n          />\n        ))}\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    const { shape } = this.props;\n\n    return (\n      <svg\n        onPointerMove={this._onMouseMove}\n        onPointerUp={this._onMouseUp}\n        ref={svg => (this._svg = svg)}\n      >\n        {shape === 'Box' && this.renderBox()}\n        {shape === 'Circle' && this.renderCircle()}\n        {shape === 'Edge' && this.renderEdge()}\n        {shape === 'Polygon' && this.renderPolygon()}\n      </svg>\n    );\n  }\n}\n","// @flow\r\nimport * as React from 'react';\r\nimport {\r\n  Table,\r\n  TableRow,\r\n  TableRowColumn,\r\n  TableBody,\r\n  TableHeader,\r\n  TableHeaderColumn,\r\n} from 'material-ui/Table';\r\nimport SemiControlledTextField from '../../../UI/SemiControlledTextField';\r\nimport Warning from 'material-ui/svg-icons/alert/warning';\r\nimport IconButton from 'material-ui/IconButton';\r\nimport AddCircle from 'material-ui/svg-icons/content/add-circle';\r\nimport Delete from 'material-ui/svg-icons/action/delete';\r\n\r\nexport type Vertex = {|\r\n  x: number,\r\n  y: number,\r\n|};\r\n\r\ntype Props = {|\r\n  vertices: Array<Vertex>,\r\n  onChangeVertexX: (newValue: number, index: number) => void,\r\n  onChangeVertexY: (newValue: number, index: number) => void,\r\n  onAdd: () => void,\r\n  onRemove: (index: number) => void,\r\n|};\r\n\r\nexport default class PolygonEditor extends React.Component<Props> {\r\n  _isPolygonConvex(vertices: Array<Vertex>) {\r\n    // Get edges\r\n    let edges = [];\r\n    let v1 = null;\r\n    let v2 = null;\r\n    for (let i = 0; i < vertices.length; i++) {\r\n      v1 = vertices[i];\r\n      if (i + 1 >= vertices.length) v2 = vertices[0];\r\n      else v2 = vertices[i + 1];\r\n      edges.push({ x: v2.x - v1.x, y: v2.y - v1.y });\r\n    }\r\n\r\n    // Check convexity\r\n    if (edges.length < 3) return false;\r\n\r\n    const zProductIsPositive =\r\n      edges[0].x * edges[0 + 1].y - edges[0].y * edges[0 + 1].x > 0;\r\n\r\n    for (let i = 1; i < edges.length - 1; ++i) {\r\n      let zCrossProduct =\r\n        edges[i].x * edges[i + 1].y - edges[i].y * edges[i + 1].x;\r\n      let zCrossProductIsPositive = zCrossProduct > 0;\r\n      if (zCrossProductIsPositive !== zProductIsPositive) return false;\r\n    }\r\n\r\n    let lastZCrossProduct =\r\n      edges[edges.length - 1].x * edges[0].y -\r\n      edges[edges.length - 1].y * edges[0].x;\r\n    let lastZCrossProductIsPositive = lastZCrossProduct > 0;\r\n    if (lastZCrossProductIsPositive !== zProductIsPositive) return false;\r\n\r\n    // Check for repeated vertices (would crash Box2D during the game)\r\n    for (let i = 0; i < vertices.length - 1; ++i) {\r\n      for (let j = i + 1; j < vertices.length; ++j) {\r\n        if (vertices[i].x === vertices[j].x && vertices[i].y === vertices[j].y)\r\n          return false;\r\n      }\r\n    }\r\n\r\n    // Check if all vertices are aligned (would crash Box2D during the game)\r\n    let alignedX = true;\r\n    let alignedY = true;\r\n    for (let i = 0; i < vertices.length - 1; ++i) {\r\n      if (vertices[i].x !== vertices[i + 1].x) alignedX = false;\r\n      if (vertices[i].y !== vertices[i + 1].y) alignedY = false;\r\n    }\r\n    if (alignedX || alignedY) return false;\r\n\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      vertices,\r\n      onChangeVertexX,\r\n      onChangeVertexY,\r\n      onAdd,\r\n      onRemove,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Table>\r\n        <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\r\n          <TableRow>\r\n            <TableHeaderColumn />\r\n            <TableHeaderColumn>X</TableHeaderColumn>\r\n            <TableHeaderColumn>Y</TableHeaderColumn>\r\n            <TableRowColumn />\r\n          </TableRow>\r\n        </TableHeader>\r\n        <TableBody\r\n          displayRowCheckbox={false}\r\n          deselectOnClickaway={true}\r\n          showRowHover={false}\r\n        >\r\n          {vertices.map((value, index) => {\r\n            return (\r\n              <TableRow key={`vertexRow${index}`}>\r\n                <TableRowColumn>\r\n                  {!this._isPolygonConvex(vertices) && <Warning />}\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <SemiControlledTextField\r\n                    value={value.x.toString(10)}\r\n                    onChange={newValue =>\r\n                      onChangeVertexX(parseFloat(newValue) || 0, index)\r\n                    }\r\n                    type=\"number\"\r\n                  />\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <SemiControlledTextField\r\n                    value={value.y.toString(10)}\r\n                    onChange={newValue =>\r\n                      onChangeVertexY(parseFloat(newValue) || 0, index)\r\n                    }\r\n                    type=\"number\"\r\n                  />\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <IconButton onClick={() => onRemove(index)}>\r\n                    <Delete />\r\n                  </IconButton>\r\n                </TableRowColumn>\r\n              </TableRow>\r\n            );\r\n          })}\r\n          <TableRow>\r\n            <TableRowColumn />\r\n            <TableRowColumn />\r\n            <TableRowColumn />\r\n            <TableRowColumn>\r\n              <IconButton onClick={onAdd}>\r\n                <AddCircle />\r\n              </IconButton>\r\n            </TableRowColumn>\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n","// @flow\r\nimport { Trans } from '@lingui/macro';\r\n\r\nimport * as React from 'react';\r\nimport { Line, Column } from '../../../UI/Grid';\r\nimport Checkbox from 'material-ui/Checkbox';\r\nimport SelectField from 'material-ui/SelectField';\r\nimport MenuItem from 'material-ui/MenuItem';\r\nimport SemiControlledTextField from '../../../UI/SemiControlledTextField';\r\nimport ImagePreview from '../../../ResourcesList/ResourcePreview/ImagePreview';\r\nimport ResourceSelector from '../../../ResourcesList/ResourceSelector';\r\nimport ResourcesLoader from '../../../ResourcesLoader';\r\nimport ShapePreview from './ShapePreview.js';\r\nimport PolygonEditor from './PolygonEditor.js';\r\nimport { type BehaviorEditorProps } from '../BehaviorEditorProps.flow';\r\n\r\ntype Props = BehaviorEditorProps;\r\n\r\ntype State = {|\r\n  image: string,\r\n  imageWidth: number,\r\n  imageHeight: number,\r\n|};\r\n\r\nfunction NumericProperty(props: {|\r\n  properties: gdMapStringPropertyDescriptor,\r\n  propertyName: string,\r\n  step: number,\r\n  onUpdate: (newValue: string) => void,\r\n|}) {\r\n  const { properties, propertyName, step, onUpdate } = props;\r\n\r\n  return (\r\n    <SemiControlledTextField\r\n      value={properties.get(propertyName).getValue()}\r\n      key={propertyName}\r\n      floatingLabelText={properties.get(propertyName).getLabel()}\r\n      floatingLabelFixed\r\n      step={step}\r\n      onChange={onUpdate}\r\n      type=\"number\"\r\n    />\r\n  );\r\n}\r\n\r\nfunction BitProperty(props: {|\r\n  enabled: boolean,\r\n  propertyName: string,\r\n  pos: number,\r\n  spacing: boolean,\r\n  onUpdate: (enabled: boolean) => void,\r\n|}) {\r\n  const { enabled, propertyName, pos, spacing, onUpdate } = props;\r\n\r\n  return (\r\n    <div style={{ width: spacing ? '7.5%' : '5%' }}>\r\n      {\r\n        <Checkbox\r\n          checked={enabled}\r\n          onCheck={(e, checked) => onUpdate(checked)}\r\n        />\r\n      }\r\n      {spacing && (\r\n        <div\r\n          style={{ width: '33%' }}\r\n          key={propertyName + '-space' + pos.toString(10)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default class Physics2Editor extends React.Component<Props, State> {\r\n  resourcesLoader = ResourcesLoader;\r\n\r\n  state = {\r\n    image: '',\r\n    imageWidth: 0,\r\n    imageHeight: 0,\r\n  };\r\n\r\n  _setImageSize = (width: number, height: number) => {\r\n    this.setState({\r\n      imageWidth: width,\r\n      imageHeight: height,\r\n    });\r\n  };\r\n\r\n  _isBitEnabled(bitsValue: number, pos: number) {\r\n    return !!(bitsValue & (1 << pos));\r\n  }\r\n\r\n  _enableBit(bitsValue: number, pos: number, enable: boolean) {\r\n    if (enable) bitsValue |= 1 << pos;\r\n    else bitsValue &= ~(1 << pos);\r\n    return bitsValue;\r\n  }\r\n\r\n  render() {\r\n    const { behavior, project } = this.props;\r\n\r\n    const properties = behavior.getProperties(project);\r\n    const bits = Array(16).fill(null);\r\n    const shape = properties.get('shape').getValue();\r\n    const layersValues = parseInt(properties.get('layers').getValue(), 10);\r\n    const masksValues = parseInt(properties.get('masks').getValue(), 10);\r\n\r\n    return (\r\n      <Column>\r\n        <Line>\r\n          <SelectField\r\n            key={'type'}\r\n            floatingLabelText={properties.get('type').getLabel()}\r\n            floatingLabelFixed\r\n            value={properties.get('type').getValue()}\r\n            onChange={(e, index, newValue) => {\r\n              behavior.updateProperty('type', newValue, project);\r\n              this.forceUpdate();\r\n            }}\r\n          >\r\n            {[\r\n              <MenuItem\r\n                key={'dynamic'}\r\n                value={'Dynamic'}\r\n                primaryText={<Trans>Dynamic</Trans>}\r\n              />,\r\n              <MenuItem\r\n                key={'static'}\r\n                value={'Static'}\r\n                primaryText={<Trans>Static</Trans>}\r\n              />,\r\n              <MenuItem\r\n                key={'kinematic'}\r\n                value={'Kinematic'}\r\n                primaryText={<Trans>Kinematic</Trans>}\r\n              />,\r\n            ]}\r\n          </SelectField>\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <Checkbox\r\n              label={properties.get('bullet').getLabel()}\r\n              checked={properties.get('bullet').getValue() === 'true'}\r\n              onCheck={(e, checked) => {\r\n                behavior.updateProperty('bullet', checked ? '1' : '0', project);\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <Checkbox\r\n              label={properties.get('fixedRotation').getLabel()}\r\n              checked={properties.get('fixedRotation').getValue() === 'true'}\r\n              onCheck={(e, checked) => {\r\n                behavior.updateProperty(\r\n                  'fixedRotation',\r\n                  checked ? '1' : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <Checkbox\r\n              label={properties.get('canSleep').getLabel()}\r\n              checked={properties.get('canSleep').getValue() === 'true'}\r\n              onCheck={(e, checked) => {\r\n                behavior.updateProperty(\r\n                  'canSleep',\r\n                  checked ? '1' : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n        </Line>\r\n        <Line>\r\n          <SelectField\r\n            floatingLabelText={properties.get('shape').getLabel()}\r\n            floatingLabelFixed\r\n            value={properties.get('shape').getValue()}\r\n            onChange={(e, index, newValue) => {\r\n              behavior.updateProperty('shape', newValue, project);\r\n              this.forceUpdate();\r\n            }}\r\n          >\r\n            <MenuItem\r\n              key={'box'}\r\n              value={'Box'}\r\n              primaryText={<Trans>Box</Trans>}\r\n            />\r\n            <MenuItem\r\n              key={'circle'}\r\n              value={'Circle'}\r\n              primaryText={<Trans>Circle</Trans>}\r\n            />\r\n            <MenuItem\r\n              key={'edge'}\r\n              value={'Edge'}\r\n              primaryText={<Trans>Edge</Trans>}\r\n            />\r\n            <MenuItem\r\n              key={'polygon'}\r\n              value={'Polygon'}\r\n              primaryText={<Trans>Polygon</Trans>}\r\n            />\r\n          </SelectField>\r\n        </Line>\r\n        <Line>\r\n          {shape !== 'Polygon' && (\r\n            <SemiControlledTextField\r\n              value={properties\r\n                .get(shape === 'Polygon' ? 'PolygonOriginX' : 'shapeDimensionA')\r\n                .getValue()}\r\n              key={'shapeDimensionA'}\r\n              floatingLabelText={\r\n                shape === 'Circle'\r\n                  ? 'Radius'\r\n                  : shape === 'Edge'\r\n                  ? 'Length'\r\n                  : 'Width'\r\n              }\r\n              floatingLabelFixed\r\n              min={0}\r\n              onChange={newValue => {\r\n                behavior.updateProperty(\r\n                  shape === 'Polygon' ? 'PolygonOriginX' : 'shapeDimensionA',\r\n                  newValue,\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              type=\"number\"\r\n            />\r\n          )}\r\n          {shape !== 'Polygon' && shape !== 'Circle' && (\r\n            <SemiControlledTextField\r\n              value={properties\r\n                .get(shape === 'Polygon' ? 'PolygonOriginY' : 'shapeDimensionB')\r\n                .getValue()}\r\n              key={'shapeDimensionB'}\r\n              floatingLabelText={shape === 'Edge' ? 'Angle' : 'Height'}\r\n              floatingLabelFixed\r\n              min={shape === 'Edge' ? undefined : 0}\r\n              onChange={newValue => {\r\n                behavior.updateProperty(\r\n                  shape === 'Polygon' ? 'PolygonOriginY' : 'shapeDimensionB',\r\n                  newValue,\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              type=\"number\"\r\n            />\r\n          )}\r\n          {shape === 'Polygon' && (\r\n            <SelectField\r\n              floatingLabelText={properties.get('polygonOrigin').getLabel()}\r\n              floatingLabelFixed\r\n              value={properties.get('polygonOrigin').getValue()}\r\n              onChange={(e, index, newValue) => {\r\n                behavior.updateProperty('polygonOrigin', newValue, project);\r\n                this.forceUpdate();\r\n              }}\r\n            >\r\n              {[\r\n                <MenuItem\r\n                  key={'center'}\r\n                  value={'Center'}\r\n                  primaryText={<Trans>Center</Trans>}\r\n                />,\r\n                <MenuItem\r\n                  key={'origin'}\r\n                  value={'Origin'}\r\n                  primaryText={<Trans>Origin</Trans>}\r\n                />,\r\n                <MenuItem\r\n                  key={'topLeft'}\r\n                  value={'TopLeft'}\r\n                  primaryText={<Trans>Top-Left</Trans>}\r\n                />,\r\n              ]}\r\n            </SelectField>\r\n          )}\r\n          <NumericProperty\r\n            properties={properties}\r\n            propertyName={'shapeOffsetX'}\r\n            step={1}\r\n            onUpdate={newValue => {\r\n              behavior.updateProperty('shapeOffsetX', newValue, project);\r\n              this.forceUpdate();\r\n            }}\r\n          />\r\n          <NumericProperty\r\n            properties={properties}\r\n            propertyName={'shapeOffsetY'}\r\n            step={1}\r\n            onUpdate={newValue => {\r\n              this.props.behavior.updateProperty(\r\n                'shapeOffsetY',\r\n                newValue,\r\n                this.props.project\r\n              );\r\n              this.forceUpdate();\r\n            }}\r\n          />\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <Line>\r\n              <ImagePreview\r\n                resourceName={this.state.image}\r\n                project={this.props.project}\r\n                resourcesLoader={this.resourcesLoader}\r\n                onSize={this._setImageSize}\r\n              >\r\n                <ShapePreview\r\n                  shape={properties.get('shape').getValue()}\r\n                  dimensionA={parseFloat(\r\n                    properties.get('shapeDimensionA').getValue()\r\n                  )}\r\n                  dimensionB={parseFloat(\r\n                    properties.get('shapeDimensionB').getValue()\r\n                  )}\r\n                  offsetX={parseFloat(\r\n                    properties.get('shapeOffsetX').getValue()\r\n                  )}\r\n                  offsetY={parseFloat(\r\n                    properties.get('shapeOffsetY').getValue()\r\n                  )}\r\n                  polygonOrigin={properties.get('polygonOrigin').getValue()}\r\n                  vertices={JSON.parse(properties.get('vertices').getValue())}\r\n                  width={this.state.imageWidth}\r\n                  height={this.state.imageHeight}\r\n                  onMoveVertex={(index, newX, newY) => {\r\n                    let vertices = JSON.parse(\r\n                      properties.get('vertices').getValue()\r\n                    );\r\n                    vertices[index].x = newX;\r\n                    vertices[index].y = newY;\r\n                    behavior.updateProperty(\r\n                      'vertices',\r\n                      JSON.stringify(vertices),\r\n                      project\r\n                    );\r\n                    this.forceUpdate();\r\n                  }}\r\n                />\r\n              </ImagePreview>\r\n            </Line>\r\n            <Line>\r\n              <ResourceSelector\r\n                project={this.props.project}\r\n                resourceSources={this.props.resourceSources}\r\n                onChooseResource={this.props.onChooseResource}\r\n                resourceExternalEditors={this.props.resourceExternalEditors}\r\n                resourcesLoader={this.resourcesLoader}\r\n                resourceKind={'image'}\r\n                initialResourceName={''}\r\n                fullWidth={false}\r\n                onChange={resourceName => {\r\n                  this.setState({ image: resourceName });\r\n                  this.forceUpdate();\r\n                }}\r\n              />\r\n            </Line>\r\n          </Column>\r\n          {shape === 'Polygon' && (\r\n            <PolygonEditor\r\n              vertices={JSON.parse(properties.get('vertices').getValue())}\r\n              onChangeVertexX={(newValue, index) => {\r\n                let vertices = JSON.parse(\r\n                  properties.get('vertices').getValue()\r\n                );\r\n                vertices[index].x = newValue;\r\n                behavior.updateProperty(\r\n                  'vertices',\r\n                  JSON.stringify(vertices),\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              onChangeVertexY={(newValue, index) => {\r\n                let vertices = JSON.parse(\r\n                  properties.get('vertices').getValue()\r\n                );\r\n                vertices[index].y = newValue;\r\n                behavior.updateProperty(\r\n                  'vertices',\r\n                  JSON.stringify(vertices),\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              onAdd={() => {\r\n                let vertices = JSON.parse(\r\n                  properties.get('vertices').getValue()\r\n                );\r\n                if (vertices.length >= 8) return;\r\n                vertices.push({ x: 0, y: 0 });\r\n                behavior.updateProperty(\r\n                  'vertices',\r\n                  JSON.stringify(vertices),\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              onRemove={index => {\r\n                let vertices = JSON.parse(\r\n                  properties.get('vertices').getValue()\r\n                );\r\n                vertices.splice(index, 1);\r\n                behavior.updateProperty(\r\n                  'vertices',\r\n                  JSON.stringify(vertices),\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          )}\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'density'}\r\n              step={0.1}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  'density',\r\n                  parseFloat(newValue) > 0 ? newValue : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'gravityScale'}\r\n              step={0.1}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty('gravityScale', newValue, project);\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'friction'}\r\n              step={0.1}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  'friction',\r\n                  parseFloat(newValue) > 0 ? newValue : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'restitution'}\r\n              step={0.1}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  'restitution',\r\n                  parseFloat(newValue) > 0 ? newValue : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'linearDamping'}\r\n              step={0.05}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty('linearDamping', newValue, project);\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'angularDamping'}\r\n              step={0.05}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty('angularDamping', newValue, project);\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n        </Line>\r\n        <Line>\r\n          <label style={{ width: '10%' }}>\r\n            {properties.get('layers').getLabel()}\r\n          </label>\r\n          {bits.map((value, index) => {\r\n            return (\r\n              <BitProperty\r\n                enabled={this._isBitEnabled(layersValues, index)}\r\n                propertyName={'layers'}\r\n                pos={index}\r\n                spacing={index === 7}\r\n                onUpdate={enabled => {\r\n                  const newValue = this._enableBit(\r\n                    layersValues,\r\n                    index,\r\n                    enabled\r\n                  );\r\n                  this.props.behavior.updateProperty(\r\n                    'layers',\r\n                    newValue.toString(10),\r\n                    this.props.project\r\n                  );\r\n                  this.forceUpdate();\r\n                }}\r\n                key={`layer${index}`}\r\n              />\r\n            );\r\n          })}\r\n        </Line>\r\n        <Line>\r\n          <label style={{ width: '10%' }}>\r\n            {properties.get('masks').getLabel()}\r\n          </label>\r\n          {bits.map((value, index) => {\r\n            return (\r\n              <BitProperty\r\n                enabled={this._isBitEnabled(masksValues, index)}\r\n                propertyName={'masks'}\r\n                pos={index}\r\n                spacing={index === 7}\r\n                onUpdate={enabled => {\r\n                  const newValue = this._enableBit(masksValues, index, enabled);\r\n                  this.props.behavior.updateProperty(\r\n                    'masks',\r\n                    newValue.toString(10),\r\n                    this.props.project\r\n                  );\r\n                  this.forceUpdate();\r\n                }}\r\n                key={`mask${index}`}\r\n              />\r\n            );\r\n          })}\r\n        </Line>\r\n      </Column>\r\n    );\r\n  }\r\n}\r\n","// @flow\nimport BehaviorPropertiesEditor from './Editors/BehaviorPropertiesEditor';\nimport Physics2Editor from './Editors/Physics2Editor';\n\n/**\n * A service returning editor components for each behavior type.\n */\nexport default {\n  getEditor(behaviorType: string) {\n    if (!this.components[behaviorType]) {\n      return BehaviorPropertiesEditor; // Default properties editor\n    }\n    return this.components[behaviorType].component; // Custom  behavior editor\n  },\n  components: {\n    'Physics2::Physics2Behavior': {\n      component: Physics2Editor,\n    },\n  },\n};\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport TextField from 'material-ui/TextField';\nimport Add from 'material-ui/svg-icons/content/add';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport IconButton from 'material-ui/IconButton';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport MiniToolbar from '../UI/MiniToolbar';\nimport HelpIcon from '../UI/HelpIcon';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport NewBehaviorDialog from './NewBehaviorDialog';\nimport { getBehaviorHelpPagePath } from './BehaviorsHelpPagePaths';\nimport BehaviorsEditorService from './BehaviorsEditorService';\n\nconst styles = {\n  addBehaviorLine: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  addBehaviorText: {\n    justifyContent: 'flex-end',\n  },\n  behaviorTitle: {\n    flex: 1,\n  },\n  behaviorTools: {\n    flexShrink: 0,\n  },\n};\nconst AddBehaviorLine = ({ onAdd }) => (\n  <div style={styles.addBehaviorLine}>\n    <EmptyMessage style={styles.addBehaviorText}>\n      Click to add a behavior to the object:\n    </EmptyMessage>\n    <IconButton onClick={onAdd}>\n      <Add />\n    </IconButton>\n  </div>\n);\n\nexport default class BehaviorsEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { newBehaviorDialogOpen: false };\n  }\n\n  componentWillMount() {\n    this._loadFrom(this.props.object);\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (this.props.object !== newProps.object) {\n      this._loadFrom(newProps.object);\n    }\n  }\n\n  _loadFrom(object) {\n    if (!object) return;\n  }\n\n  chooseNewBehavior = () => {\n    this.setState({\n      newBehaviorDialogOpen: true,\n    });\n  };\n\n  _hasBehaviorWithType = type => {\n    const { object } = this.props;\n    const allBehaviorNames = object.getAllBehaviorNames().toJSArray();\n\n    return allBehaviorNames\n      .map(behaviorName => object.getBehavior(behaviorName))\n      .map(behavior => behavior.getTypeName())\n      .filter(behaviorType => behaviorType === type).length;\n  };\n\n  addBehavior = (type, defaultName) => {\n    const { object, project } = this.props;\n\n    this.setState(\n      {\n        newBehaviorDialogOpen: false,\n      },\n      () => {\n        if (this._hasBehaviorWithType(type)) {\n          //eslint-disable-next-line\n          const answer = confirm(\n            \"There is already a behavior of this type attached to the object. It's possible to add again this behavior but it's unusual and may not be always supported properly. Are you sure you want to add again this behavior?\"\n          );\n\n          if (!answer) return;\n        }\n\n        const name = newNameGenerator(defaultName, name =>\n          object.hasBehaviorNamed(name)\n        );\n        object.addNewBehavior(project, type, name);\n\n        this.forceUpdate();\n        if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n      }\n    );\n  };\n\n  _onChangeBehaviorName = (behavior, newName) => {\n    // TODO: This is disabled for now as there is no proper refactoring\n    // of events after a behavior renaming. Once refactoring is available,\n    // the text field can be enabled again and refactoring calls added here\n    // (or in a parent).\n    // Renaming a behavior is something that is really rare anyway! :)\n\n    const { object } = this.props;\n    if (object.hasBehaviorNamed(newName)) return;\n\n    object.renameBehavior(behavior.getName(), newName);\n    behavior.setName(newName);\n    this.forceUpdate();\n  };\n\n  _onRemoveBehavior = behaviorName => {\n    const { object } = this.props;\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this behavior? This can't be undone.\"\n    );\n\n    if (answer) {\n      object.removeBehavior(behaviorName);\n      this.forceUpdate();\n      if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n    }\n  };\n\n  render() {\n    const { object, project } = this.props;\n    const allBehaviorNames = object.getAllBehaviorNames().toJSArray();\n\n    return (\n      <div>\n        {allBehaviorNames\n          .map((behaviorName, index) => {\n            const behavior = object.getBehavior(behaviorName);\n            const BehaviorComponent = BehaviorsEditorService.getEditor(\n              behavior.getTypeName()\n            );\n\n            return (\n              <div key={index}>\n                <MiniToolbar>\n                  <span style={styles.behaviorTitle}>\n                    Behavior{' '}\n                    <TextField\n                      value={behaviorName}\n                      hintText={<Trans>Behavior name</Trans>}\n                      disabled\n                      onChange={(e, text) =>\n                        this._onChangeBehaviorName(behavior, text)\n                      }\n                    />\n                  </span>\n                  <span style={styles.behaviorTools}>\n                    <IconButton\n                      onClick={() => this._onRemoveBehavior(behaviorName)}\n                    >\n                      <Delete />\n                    </IconButton>\n                    <HelpIcon\n                      helpPagePath={getBehaviorHelpPagePath(behavior)}\n                    />\n                  </span>\n                </MiniToolbar>\n                <BehaviorComponent\n                  behavior={behavior}\n                  project={project}\n                  resourceSources={this.props.resourceSources}\n                  onChooseResource={this.props.onChooseResource}\n                  resourceExternalEditors={this.props.resourceExternalEditors}\n                />\n              </div>\n            );\n          })\n          .concat(\n            <AddBehaviorLine\n              key=\"add-behavior-line\"\n              onAdd={this.chooseNewBehavior}\n            />\n          )}\n        {this.state.newBehaviorDialogOpen && (\n          <NewBehaviorDialog\n            open={this.state.newBehaviorDialogOpen}\n            onClose={() => this.setState({ newBehaviorDialogOpen: false })}\n            onChoose={this.addBehavior}\n            project={project}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow weak\nimport { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport ObjectsEditorService from './ObjectsEditorService';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\nimport BehaviorsEditor from '../BehaviorsEditor';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport { withSerializableObject } from '../Utils/SerializableObjectEditorContainer';\n\nimport { Column, Line } from '../UI/Grid';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\n\nconst styles = {\n  titleContainer: {\n    padding: 0,\n  },\n};\n\ntype StateType = {|\n  currentTab: string,\n  newObjectName: string,\n|};\n\nexport class ObjectEditorDialog extends Component<*, StateType> {\n  state = {\n    currentTab: 'properties',\n    newObjectName: this.props.objectName,\n  };\n\n  _onChangeTab = (value: string) => {\n    this.setState({\n      currentTab: value,\n    });\n  };\n\n  render() {\n    const actions = [\n      <FlatButton\n        key=\"cancel\"\n        label={<Trans>Cancel</Trans>}\n        onClick={this.props.onCancel}\n      />,\n      <FlatButton\n        key=\"apply\"\n        label={<Trans>Apply</Trans>}\n        primary\n        keyboardFocused\n        onClick={() => {\n          this.props.onRename(this.state.newObjectName);\n          this.props.onApply();\n        }}\n      />,\n    ];\n\n    const EditorComponent = this.props.editorComponent;\n    const { currentTab } = this.state;\n\n    return (\n      <Dialog\n        key={this.props.object && this.props.object.ptr}\n        secondaryActions={<HelpButton helpPagePath={this.props.helpPagePath} />}\n        actions={actions}\n        autoScrollBodyContent\n        noMargin\n        modal\n        onRequestClose={this.props.onCancel}\n        open={this.props.open}\n        title={\n          <div>\n            <Tabs value={currentTab} onChange={this._onChangeTab}>\n              <Tab\n                label={<Trans>Properties</Trans>}\n                value={'properties'}\n                key={'properties'}\n              />\n              <Tab\n                label={<Trans>Behaviors</Trans>}\n                value={'behaviors'}\n                key={'behaviors'}\n              />\n            </Tabs>\n          </div>\n        }\n        titleStyle={styles.titleContainer}\n      >\n        <Line alignItems=\"baseline\">\n          <Column>Object Name:</Column>\n          <Column expand>\n            <SemiControlledTextField\n              fullWidth\n              commitOnBlur\n              value={this.state.newObjectName}\n              hintText={<Trans>Object Name</Trans>}\n              onChange={text => {\n                if (this.props.canRenameObject(text)) {\n                  this.setState({ newObjectName: text });\n                }\n              }}\n            />\n          </Column>\n        </Line>\n        {currentTab === 'properties' && EditorComponent && (\n          <EditorComponent\n            object={this.props.object}\n            project={this.props.project}\n            resourceSources={this.props.resourceSources}\n            onChooseResource={this.props.onChooseResource}\n            resourceExternalEditors={this.props.resourceExternalEditors}\n            onSizeUpdated={\n              () =>\n                this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n            }\n            objectName={this.props.objectName}\n          />\n        )}\n        {currentTab === 'behaviors' && (\n          <BehaviorsEditor\n            object={this.props.object}\n            project={this.props.project}\n            resourceSources={this.props.resourceSources}\n            onChooseResource={this.props.onChooseResource}\n            resourceExternalEditors={this.props.resourceExternalEditors}\n            onSizeUpdated={\n              () =>\n                this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n            }\n          />\n        )}\n      </Dialog>\n    );\n  }\n}\n\ntype ContainerStateType = {|\n  dialogComponent: ?Class<*>,\n  editorComponent: ?Class<*>,\n  castToObjectType: ?Function,\n  helpPagePath: ?string,\n  objectName: string,\n|};\n\nexport default class ObjectEditorDialogContainer extends Component<*, *> {\n  state: ContainerStateType = {\n    dialogComponent: null,\n    editorComponent: null,\n    castToObjectType: null,\n    helpPagePath: null,\n    objectName: '',\n  };\n\n  componentWillMount() {\n    this._loadFrom(this.props.object);\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.object !== newProps.object)\n    ) {\n      this._loadFrom(newProps.object);\n    }\n  }\n\n  _loadFrom(object) {\n    if (!object) return;\n\n    const editorConfiguration = ObjectsEditorService.getEditorConfiguration(\n      object.getType()\n    );\n    if (!editorConfiguration) {\n      return this.setState({\n        dialogComponent: null,\n        editorComponent: null,\n        castToObjectType: null,\n      });\n    }\n\n    this.setState({\n      dialogComponent: withSerializableObject(ObjectEditorDialog, {\n        propName: 'object',\n        newObjectCreator: () => editorConfiguration.createNewObject(object),\n        useProjectToUnserialize: true,\n      }),\n      editorComponent: editorConfiguration.component,\n      helpPagePath: editorConfiguration.helpPagePath,\n      castToObjectType: editorConfiguration.castToObjectType,\n      objectName: object.getName(),\n    });\n  }\n\n  render() {\n    if (\n      !this.props.object ||\n      !this.state.dialogComponent ||\n      !this.state.castToObjectType\n    )\n      return null;\n\n    const EditorDialog: Class<*> = this.state.dialogComponent;\n    const { editorComponent, castToObjectType, helpPagePath } = this.state;\n\n    return (\n      <EditorDialog\n        editorComponent={editorComponent}\n        key={this.props.object && this.props.object.ptr}\n        helpPagePath={helpPagePath}\n        {...this.props}\n        object={castToObjectType(this.props.object)}\n        objectName={this.state.objectName}\n      />\n    );\n  }\n}\n","// @flow\nimport md5 from 'blueimp-md5';\n\nexport const getGravatarUrl = (\n  email: string,\n  { size }: { size: number } = { size: 40 }\n): string => {\n  const hash = md5(email.trim().toLowerCase());\n  return `https://www.gravatar.com/avatar/${hash}?s=${size}&d=retro`;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Avatar from 'material-ui/Avatar';\nimport { Column, Line } from '../UI/Grid';\nimport { type Profile } from '../Utils/GDevelopServices/Authentification';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport { getGravatarUrl } from '../UI/GravatarUrl';\n\nconst styles = {\n  title: {\n    fontSize: 25,\n    lineHeight: '40px',\n    marginLeft: 10,\n  },\n};\n\ntype Props = {\n  profile: ?Profile,\n};\n\nexport default ({ profile }: Props) =>\n  profile ? (\n    <Column>\n      <Line alignItems=\"center\">\n        <Avatar src={getGravatarUrl(profile.email || '', { size: 40 })} />\n        <span style={styles.title}>You are connected as {profile.email}</span>\n      </Line>\n      <Line>\n        <p>\n          <Trans>\n            An account allows you to access GDevelop services online.\n          </Trans>\n        </p>\n      </Line>\n    </Column>\n  ) : (\n    <PlaceholderLoader />\n  );\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { type Usages } from '../Utils/GDevelopServices/Usage';\nimport { Column, Line } from '../UI/Grid';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport format from 'date-fns/format';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\n\ntype Props = { usages: ?Usages };\n\nexport default ({ usages }: Props) => (\n  <Column noMargin>\n    <Line>\n      {!usages ? (\n        <PlaceholderLoader />\n      ) : usages.length === 0 ? (\n        <EmptyMessage>\n          <Trans>You don't have any usage of the online services for now</Trans>\n        </EmptyMessage>\n      ) : (\n        <Table selectable={false}>\n          <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n            <TableRow>\n              <TableHeaderColumn>Date</TableHeaderColumn>\n              <TableHeaderColumn>Type</TableHeaderColumn>\n            </TableRow>\n          </TableHeader>\n          <TableBody displayRowCheckbox={false}>\n            {usages.map(usage => (\n              <TableRow key={usage.id}>\n                <TableRowColumn>\n                  {format(usage.createdAt, 'YYYY-MM-DD HH:mm:ss')}\n                </TableRowColumn>\n                <TableRowColumn>{usage.type}</TableRowColumn>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      )}\n    </Line>\n  </Column>\n);\n","// @flow\nimport * as React from 'react';\nimport { Column, Line } from '../UI/Grid';\nimport { type Subscription } from '../Utils/GDevelopServices/Usage';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Trans } from '@lingui/macro';\n\ntype Props = {\n  subscription: ?Subscription,\n  onChangeSubscription: Function,\n};\n\nexport default ({ subscription, onChangeSubscription }: Props) =>\n  subscription && subscription.planId ? (\n    <Column>\n      <Line>\n        <p>\n          <Trans>\n            You are subscribed to {subscription.planId}. Congratulations! You\n            have access to more online services, including building your game\n            for Android, Windows, macOS and Linux in one click!\n          </Trans>\n        </p>\n      </Line>\n      <Line justifyContent=\"center\">\n        <RaisedButton\n          label={<Trans>Upgrade/change</Trans>}\n          primary\n          onClick={onChangeSubscription}\n        />\n      </Line>\n    </Column>\n  ) : subscription && !subscription.planId ? (\n    <Column>\n      <Line>\n        <p>\n          <Trans>\n            If you don't have a subscription, consider getting one now. Accounts\n            allow you to access all of the online services. With just one click,\n            you can build your game for Android, Windows, macOS and Linux!\n          </Trans>\n        </p>\n      </Line>\n      <Line justifyContent=\"center\">\n        <RaisedButton\n          label={<Trans>Choose a subscription</Trans>}\n          primary\n          onClick={onChangeSubscription}\n        />\n      </Line>\n    </Column>\n  ) : (\n    <PlaceholderLoader />\n  );\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport Dialog from '../UI/Dialog';\nimport { Column } from '../UI/Grid';\nimport CreateProfile from './CreateProfile';\nimport ProfileDetails from './ProfileDetails';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport HelpButton from '../UI/HelpButton';\nimport UsagesDetails from './UsagesDetails';\nimport SubscriptionDetails from './SubscriptionDetails';\nimport UserProfileContext, { type UserProfile } from './UserProfileContext';\n\ntype Props = {|\n  open: boolean,\n  onClose: Function,\n  onChangeSubscription: Function,\n|};\n\ntype State = {|\n  currentTab: string,\n|};\n\nexport default class ProfileDialog extends Component<Props, State> {\n  state = {\n    currentTab: 'profile',\n  };\n\n  _onChangeTab = (newTab: string) =>\n    this.setState({\n      currentTab: newTab,\n    });\n\n  render() {\n    const { open, onClose } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        key=\"close\"\n        primary={false}\n        onClick={onClose}\n      />,\n    ];\n\n    return (\n      <UserProfileContext.Consumer>\n        {(userProfile: UserProfile) => (\n          <Dialog\n            actions={actions}\n            secondaryActions={[\n              <HelpButton key=\"help\" helpPagePath=\"/interface/profile\" />,\n              userProfile.authenticated && userProfile.profile && (\n                <FlatButton\n                  label={<Trans>Logout</Trans>}\n                  key=\"logout\"\n                  onClick={userProfile.onLogout}\n                />\n              ),\n            ]}\n            onRequestClose={onClose}\n            open={open}\n            noMargin\n            autoScrollBodyContent\n          >\n            <Tabs value={this.state.currentTab} onChange={this._onChangeTab}>\n              <Tab label={<Trans>My Profile</Trans>} value=\"profile\">\n                {userProfile.authenticated ? (\n                  <Column noMargin>\n                    <ProfileDetails profile={userProfile.profile} />\n                    <SubscriptionDetails\n                      subscription={userProfile.subscription}\n                      onChangeSubscription={this.props.onChangeSubscription}\n                    />\n                  </Column>\n                ) : (\n                  <Column>\n                    <CreateProfile onLogin={userProfile.onLogin} />\n                  </Column>\n                )}\n              </Tab>\n              <Tab label={<Trans>Online services usage</Trans>} value=\"usage\">\n                {userProfile.authenticated ? (\n                  <Column noMargin>\n                    <UsagesDetails usages={userProfile.usages} />\n                  </Column>\n                ) : (\n                  <EmptyMessage>\n                    <Trans>\n                      Register to see the usage that you've made of the online\n                      services\n                    </Trans>\n                  </EmptyMessage>\n                )}\n              </Tab>\n            </Tabs>\n          </Dialog>\n        )}\n      </UserProfileContext.Consumer>\n    );\n  }\n}\n","//TODO: Factor with styles.js from PointsEditor.\nexport default {\n  handleColumn: {\n    width: 24,\n    paddingLeft: 8,\n    paddingRight: 0,\n  },\n  visibleColumn: {\n    width: 48,\n  },\n  toolColumn: {\n    width: 48,\n  },\n};\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport Checkbox from 'material-ui/Checkbox';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport TextField from 'material-ui/TextField';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport DragHandle from '../UI/DragHandle';\nimport styles from './styles';\n\nconst ThemableLayerRow = ({\n  layerName,\n  nameError,\n  onBlur,\n  onRemove,\n  isVisible,\n  onChangeVisibility,\n  muiTheme,\n}) => (\n  <TableRow\n    style={{\n      backgroundColor: muiTheme.list.itemsBackgroundColor,\n    }}\n  >\n    <TableRowColumn style={styles.handleColumn}>\n      <DragHandle />\n    </TableRowColumn>\n    <TableRowColumn>\n      <TextField\n        defaultValue={layerName || 'Base layer'}\n        id={layerName}\n        errorText={nameError ? 'This name is already taken' : undefined}\n        disabled={!layerName}\n        onBlur={onBlur}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.visibleColumn}>\n      <Checkbox\n        checked={isVisible}\n        checkedIcon={<Visibility />}\n        uncheckedIcon={<VisibilityOff />}\n        onCheck={onChangeVisibility}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onRemove}>\n        <Delete />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nconst LayerRow = muiThemeable()(ThemableLayerRow);\nexport default LayerRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport Add from 'material-ui/svg-icons/content/add';\nimport IconButton from 'material-ui/IconButton';\nimport styles from './styles';\n\nconst AddLayerRow = ({ onAdd }) => (\n  <TableRow key=\"add-row\">\n    <TableRowColumn style={styles.handleColumn} />\n    <TableRowColumn />\n    <TableRowColumn style={styles.visibleColumn} />\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nexport default AddLayerRow;\n","import React, { Component } from 'react';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport { mapReverseFor } from '../Utils/MapFor';\nimport styles from './styles';\nimport LayerRow from './LayerRow';\nimport AddLayerRow from './AddLayerRow';\n\nconst SortableAddLayerRow = SortableElement(AddLayerRow);\nconst SortableLayerRow = SortableElement(LayerRow);\n\nclass LayersListBody extends Component {\n  constructor() {\n    super();\n    this.state = {\n      nameErrors: {},\n    };\n  }\n\n  render() {\n    const { layersContainer } = this.props;\n\n    const layersCount = layersContainer.getLayersCount();\n    const containerLayersList = mapReverseFor(0, layersCount, i => {\n      const layer = layersContainer.getLayerAt(i);\n      const layerName = layer.getName();\n\n      return (\n        <SortableLayerRow\n          index={layersCount - 1 - i}\n          key={'layer-' + layerName}\n          layer={layer}\n          layerName={layerName}\n          nameError={this.state.nameErrors[layerName]}\n          onBlur={event => {\n            const newName = event.target.value;\n            if (layerName === newName) return;\n\n            let success = true;\n            if (layersContainer.hasLayerNamed(newName)) {\n              success = false;\n            } else {\n              this.props.onRenameLayer(layerName, newName, doRename => {\n                if (doRename)\n                  layersContainer.getLayer(layerName).setName(newName);\n              });\n            }\n\n            this.setState({\n              nameErrors: {\n                ...this.state.nameErrors,\n                [layerName]: !success,\n              },\n            });\n          }}\n          onRemove={() => {\n            this.props.onRemoveLayer(layerName, doRemove => {\n              if (!doRemove) return;\n\n              layersContainer.removeLayer(layerName);\n              this.forceUpdate();\n            });\n          }}\n          isVisible={layer.getVisibility()}\n          onChangeVisibility={(e, visible) => {\n            layer.setVisibility(visible);\n            this.forceUpdate();\n          }}\n        />\n      );\n    });\n\n    const addRow = (\n      <SortableAddLayerRow\n        index={layersContainer.getLayersCount()}\n        key={'add-layer-row'}\n        disabled\n        onAdd={() => {\n          const name = newNameGenerator('Layer', name =>\n            layersContainer.hasLayerNamed(name)\n          );\n          layersContainer.insertNewLayer(\n            name,\n            layersContainer.getLayersCount()\n          );\n          this.forceUpdate();\n        }}\n      />\n    );\n\n    return (\n      <TableBody\n        displayRowCheckbox={false}\n        deselectOnClickaway={true}\n        showRowHover={true}\n      >\n        {containerLayersList.concat(addRow)}\n      </TableBody>\n    );\n  }\n}\n\nconst SortableLayersListBody = SortableContainer(LayersListBody);\nSortableLayersListBody.muiName = 'TableBody';\n\nexport default class LayersList extends Component {\n  shouldComponentUpdate(nextProps) {\n    // Rendering the component can be costly as it iterates over\n    // every layers, so the prop freezeUpdate allow to ask the component to stop\n    // updating, for example when hidden.\n    return !nextProps.freezeUpdate;\n  }\n\n  render() {\n    // Force the list to be mounted again if layersContainer\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = this.props.layersContainer.ptr;\n\n    return (\n      <Table selectable={false}>\n        <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n          <TableRow>\n            <TableHeaderColumn style={styles.handleColumn} />\n            <TableHeaderColumn>Layer name</TableHeaderColumn>\n            <TableHeaderColumn style={styles.visibleColumn}>\n              Visible\n            </TableHeaderColumn>\n            <TableRowColumn style={styles.toolColumn} />\n          </TableRow>\n        </TableHeader>\n        <SortableLayersListBody\n          key={listKey}\n          layersContainer={this.props.layersContainer}\n          onRemoveLayer={this.props.onRemoveLayer}\n          onRenameLayer={this.props.onRenameLayer}\n          onSortEnd={({ oldIndex, newIndex }) => {\n            const layersCount = this.props.layersContainer.getLayersCount();\n            this.props.layersContainer.moveLayer(\n              layersCount - 1 - oldIndex,\n              layersCount - 1 - newIndex\n            );\n            this.forceUpdate();\n          }}\n          helperClass=\"sortable-helper\"\n          useDragHandle\n          lockToContainerEdges\n        />\n      </Table>\n    );\n  }\n}\n\nLayersList.defaultProps = {\n  onRemoveLayer: (layerName, cb) => cb(true),\n  onRenameLayer: (oldName, newName, cb) => cb(true),\n};\n","export const CLIPBOARD_KIND = 'Object';\n","import React from 'react';\nimport { ListItem } from 'material-ui/List';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport ListIcon from '../UI/ListIcon';\nimport IconButton from 'material-ui/IconButton';\nimport TextField from 'material-ui/TextField';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport Clipboard from '../Utils/Clipboard';\nimport { CLIPBOARD_KIND } from './ClipboardKind';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst LEFT_MOUSE_BUTTON = 0;\n\nconst styles = {\n  objectName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  textField: {\n    top: -16,\n  },\n};\n\nconst getPasteLabel = isGlobalObject => {\n  let clipboardObjectName = '';\n  if (Clipboard.has(CLIPBOARD_KIND)) {\n    const clipboardContent = Clipboard.get(CLIPBOARD_KIND);\n    if (clipboardContent) {\n      clipboardObjectName = clipboardContent.name;\n    }\n  }\n\n  return isGlobalObject\n    ? 'Paste ' + clipboardObjectName + ' as a Global Object'\n    : 'Paste ' + clipboardObjectName;\n};\n\nclass ThemableObjectRow extends React.Component {\n  _renderObjectMenu(object) {\n    return (\n      <IconMenu\n        ref={iconMenu => (this._iconMenu = iconMenu)}\n        iconButtonElement={\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        }\n        buildMenuTemplate={() => [\n          {\n            label: 'Edit object',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onEdit(object),\n          },\n          {\n            label: 'Edit object variables',\n            enabled: !!this.props.onEditVariables,\n            click: () => this.props.onEditVariables(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Rename',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onEditName(),\n          },\n          {\n            label: 'Set as a global object',\n            enabled: !!this.props.onSetAsGlobalObject,\n            click: () => this.props.onSetAsGlobalObject(),\n          },\n          {\n            label: 'Delete',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onDelete(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Add a new object...',\n            click: () => this.props.onAddNewObject(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Copy',\n            click: () => this.props.onCopyObject(),\n          },\n          {\n            label: 'Cut',\n            click: () => this.props.onCutObject(),\n          },\n          {\n            label: getPasteLabel(this.props.isGlobalObject),\n            enabled: Clipboard.has(CLIPBOARD_KIND),\n            click: () => this.props.onPasteObject(),\n          },\n          {\n            label: 'Duplicate',\n            click: () => this.props.onDuplicateObject(),\n          },\n        ]}\n      />\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editingName && this.props.editingName) {\n      setTimeout(() => {\n        if (this.textField) this.textField.focus();\n      }, 100);\n    }\n  }\n\n  _onContextMenu = event => {\n    if (this._iconMenu) this._iconMenu.open(event);\n  };\n\n  render() {\n    const {\n      project,\n      object,\n      selected,\n      isGlobalObject,\n      style,\n      muiTheme,\n    } = this.props;\n\n    const objectName = object.getName();\n    const label = this.props.editingName ? (\n      <TextField\n        id=\"rename-object-field\"\n        ref={textField => (this.textField = textField)}\n        defaultValue={objectName}\n        onBlur={e => this.props.onRename(e.target.value)}\n        onKeyPress={event => {\n          if (event.charCode === 13) {\n            // enter key pressed\n            this.textField.blur();\n          }\n        }}\n        fullWidth\n        style={styles.textField}\n      />\n    ) : (\n      <div\n        style={{\n          ...styles.objectName,\n          color: selected ? muiTheme.listItem.selectedTextColor : undefined,\n          fontStyle: isGlobalObject ? 'italic' : undefined,\n          fontWeight: isGlobalObject ? 'bold' : 'normal',\n        }}\n      >\n        {objectName}\n      </div>\n    );\n\n    const itemStyle = {\n      borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n      backgroundColor: selected\n        ? muiTheme.listItem.selectedBackgroundColor\n        : undefined,\n    };\n\n    return (\n      <ListItem\n        style={{ ...itemStyle, ...style }}\n        onContextMenu={this._onContextMenu}\n        primaryText={label}\n        leftIcon={\n          <ListIcon\n            iconSize={32}\n            src={this.props.getThumbnail(project, object)}\n          />\n        }\n        rightIconButton={this._renderObjectMenu(object)}\n        onClick={() => {\n          if (!this.props.onObjectSelected) return;\n          if (this.props.editingName) return;\n          this.props.onObjectSelected(selected ? '' : objectName);\n        }}\n        onDoubleClick={event => {\n          if (event.button !== LEFT_MOUSE_BUTTON) return;\n          if (!this.props.onEdit) return;\n          if (this.props.editingName) return;\n\n          this.props.onObjectSelected('');\n          this.props.onEdit(object);\n        }}\n      />\n    );\n  }\n}\n\nconst ObjectRow = muiThemeable()(ThemableObjectRow);\nexport default ObjectRow;\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport Avatar from 'material-ui/Avatar';\nimport Subheader from 'material-ui/Subheader';\nimport { List, ListItem } from 'material-ui/List';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\nimport {\n  enumerateObjectTypes,\n  type EnumeratedObjectMetadata,\n} from './EnumerateObjects';\nimport HelpButton from '../UI/HelpButton';\nimport { getExperimentalObjects } from '../Hints';\nimport { Line } from '../UI/Grid';\n\nconst styles = {\n  icon: { borderRadius: 0 },\n};\n\nconst ObjectListItem = ({\n  objectMetadata,\n  onClick,\n}: {|\n  objectMetadata: EnumeratedObjectMetadata,\n  onClick: () => void,\n|}) => {\n  if (objectMetadata.name === '') {\n    // Base object is an \"abstract\" object\n    return null;\n  }\n\n  return (\n    <ListItem\n      leftAvatar={\n        <Avatar src={objectMetadata.iconFilename} style={styles.icon} />\n      }\n      key={objectMetadata.name}\n      primaryText={objectMetadata.fullName}\n      secondaryText={<p>{objectMetadata.description}</p>}\n      secondaryTextLines={2}\n      onClick={onClick}\n    />\n  );\n};\n\ntype Props = {|\n  project: gdProject,\n  open: boolean,\n  onClose: () => void,\n  onChoose: string => void,\n|};\n\ntype State = {|\n  objectMetadata: Array<EnumeratedObjectMetadata>,\n  showExperimental: boolean,\n|};\n\nexport default class NewObjectDialog extends Component<Props, State> {\n  state = { ...this._loadFrom(this.props.project), showExperimental: false };\n\n  _loadFrom(project: gdProject) {\n    if (!project || !project.getCurrentPlatform()) {\n      return { objectMetadata: [] };\n    }\n\n    return {\n      objectMetadata: enumerateObjectTypes(project),\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.project !== newProps.project)\n    ) {\n      this.setState(this._loadFrom(newProps.project));\n    }\n  }\n\n  _showExperimental = (showExperimental: boolean = true) => {\n    this.setState({\n      showExperimental,\n    });\n  };\n\n  render() {\n    const { project, open, onClose, onChoose } = this.props;\n    const { objectMetadata, showExperimental } = this.state;\n    if (!open || !project) return null;\n\n    const experimentalObjectsInformation = getExperimentalObjects();\n\n    const objects = objectMetadata.filter(\n      ({ name }) => !experimentalObjectsInformation[name]\n    );\n    const experimentalObjects = objectMetadata.filter(\n      ({ name }) => !!experimentalObjectsInformation[name]\n    );\n\n    return (\n      <Dialog\n        title={<Trans>Add a new object</Trans>}\n        secondaryActions={<HelpButton helpPagePath=\"/objects\" />}\n        actions={\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            primary={false}\n            onClick={onClose}\n          />\n        }\n        onRequestClose={onClose}\n        open={open}\n        noMargin\n        autoScrollBodyContent\n      >\n        <List>\n          {objects.map(objectMetadata => (\n            <ObjectListItem\n              key={objectMetadata.name}\n              objectMetadata={objectMetadata}\n              onClick={() => onChoose(objectMetadata.name)}\n            />\n          ))}\n          {showExperimental && (\n            <Subheader>\n              Experimental (make sure to read the documentation page)\n            </Subheader>\n          )}\n          {showExperimental &&\n            experimentalObjects.map(objectMetadata => (\n              <ObjectListItem\n                key={objectMetadata.name}\n                objectMetadata={objectMetadata}\n                onClick={() => onChoose(objectMetadata.name)}\n              />\n            ))}\n        </List>\n        <Line justifyContent=\"center\" alignItems=\"center\">\n          {!showExperimental ? (\n            <FlatButton\n              key=\"toggle-experimental\"\n              icon={<Visibility />}\n              primary={false}\n              onClick={() => this._showExperimental(true)}\n              label={<Trans>Show experimental objects</Trans>}\n            />\n          ) : (\n            <FlatButton\n              key=\"toggle-experimental\"\n              icon={<VisibilityOff />}\n              primary={false}\n              onClick={() => this._showExperimental(false)}\n              label={<Trans>Hide experimental objects</Trans>}\n            />\n          )}\n        </Line>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { AutoSizer, List } from 'react-virtualized';\nimport { ListItem } from 'material-ui/List';\nimport Background from '../UI/Background';\nimport SearchBar from 'material-ui-search-bar';\nimport ObjectRow from './ObjectRow';\nimport NewObjectDialog from './NewObjectDialog';\nimport VariablesEditorDialog from '../VariablesList/VariablesEditorDialog';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { makeAddItem } from '../UI/ListAddItem';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { enumerateObjects, filterObjectsList } from './EnumerateObjects';\nimport type {\n  ObjectWithContextList,\n  ObjectWithContext,\n} from '../ObjectsList/EnumerateObjects';\nimport { CLIPBOARD_KIND } from './ClipboardKind';\n\nconst listItemHeight = 48;\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\nconst AddObjectRow = makeAddItem(ListItem);\n\nconst SortableObjectRow = SortableElement(props => {\n  const { style, ...otherProps } = props;\n  return (\n    <div style={style}>\n      <ObjectRow {...otherProps} />\n    </div>\n  );\n});\n\nconst SortableAddObjectRow = SortableElement(props => {\n  return <AddObjectRow {...props} />;\n});\n\nclass ObjectsList extends Component<*, *> {\n  list: any;\n\n  forceUpdateGrid() {\n    if (this.list) this.list.forceUpdateGrid();\n  }\n\n  render() {\n    let { height, width, fullList, project, selectedObjectNames } = this.props;\n\n    return (\n      <List\n        ref={list => (this.list = list)}\n        height={height}\n        rowCount={fullList.length}\n        rowHeight={listItemHeight}\n        rowRenderer={({ index, key, style }) => {\n          const objectWithContext = fullList[index];\n          if (objectWithContext.key === 'add-objects-row') {\n            return (\n              <SortableAddObjectRow\n                index={fullList.length}\n                key={key}\n                style={style}\n                disabled\n                onClick={this.props.onAddNewObject}\n                primaryText={<Trans>Click to add an object</Trans>}\n              />\n            );\n          }\n\n          const nameBeingEdited =\n            this.props.renamedObjectWithScope &&\n            this.props.renamedObjectWithScope.object ===\n              objectWithContext.object &&\n            this.props.renamedObjectWithScope.global ===\n              objectWithContext.global;\n\n          return (\n            <SortableObjectRow\n              index={index}\n              key={objectWithContext.object.ptr}\n              project={project}\n              object={objectWithContext.object}\n              isGlobalObject={objectWithContext.global}\n              style={style}\n              onEdit={\n                this.props.onEditObject\n                  ? () => this.props.onEditObject(objectWithContext.object)\n                  : undefined\n              }\n              onEditVariables={() =>\n                this.props.onEditVariables(objectWithContext.object)\n              }\n              onEditName={() => this.props.onEditName(objectWithContext)}\n              onDelete={() => this.props.onDelete(objectWithContext)}\n              onCopyObject={() => this.props.onCopyObject(objectWithContext)}\n              onCutObject={() => this.props.onCutObject(objectWithContext)}\n              onDuplicateObject={() =>\n                this.props.onDuplicateObject(objectWithContext)\n              }\n              onPasteObject={() => this.props.onPasteObject(objectWithContext)}\n              onRename={newName =>\n                this.props.onRename(objectWithContext, newName)\n              }\n              onSetAsGlobalObject={\n                objectWithContext.global\n                  ? undefined\n                  : () => this.props.onSetAsGlobalObject(objectWithContext)\n              }\n              onAddNewObject={this.props.onAddNewObject}\n              editingName={nameBeingEdited}\n              getThumbnail={this.props.getThumbnail}\n              onObjectSelected={this.props.onObjectSelected}\n              selected={\n                selectedObjectNames.indexOf(\n                  objectWithContext.object.getName()\n                ) !== -1\n              }\n            />\n          );\n        }}\n        width={width}\n      />\n    );\n  }\n}\n\nconst SortableObjectsList = SortableContainer(ObjectsList, { withRef: true });\n\ntype StateType = {|\n  newObjectDialogOpen: boolean,\n  renamedObjectWithScope: ?ObjectWithContext,\n  variablesEditedObject: any,\n  searchText: string,\n|};\n\nexport default class ObjectsListContainer extends React.Component<\n  *,\n  StateType\n> {\n  static defaultProps = {\n    onDeleteObject: (objectWithContext: ObjectWithContext, cb: Function) =>\n      cb(true),\n    onRenameObject: (\n      objectWithContext: ObjectWithContext,\n      newName: string,\n      cb: Function\n    ) => cb(true),\n  };\n\n  sortableList: any;\n  containerObjectsList: ObjectWithContextList = [];\n  projectObjectsList: ObjectWithContextList = [];\n  state: StateType = {\n    newObjectDialogOpen: false,\n    renamedObjectWithScope: null,\n    variablesEditedObject: null,\n    searchText: '',\n  };\n\n  shouldComponentUpdate(nextProps: *, nextState: StateType) {\n    // The component is costly to render, so avoid any re-rendering as much\n    // as possible.\n    // We make the assumption that no changes to objects list is made outside\n    // from the component.\n    // If a change is made, the component won't notice it: you have to manually\n    // call forceUpdate.\n\n    if (\n      this.state.newObjectDialogOpen !== nextState.newObjectDialogOpen ||\n      this.state.renamedObjectWithScope !== nextState.renamedObjectWithScope ||\n      this.state.variablesEditedObject !== nextState.variablesEditedObject ||\n      this.state.searchText !== nextState.searchText\n    )\n      return true;\n\n    if (this.props.selectedObjectNames !== nextProps.selectedObjectNames)\n      return true;\n\n    if (\n      this.props.project !== nextProps.project ||\n      this.props.objectsContainer !== nextProps.objectsContainer\n    )\n      return true;\n\n    return false;\n  }\n\n  addObject = (objectType: string) => {\n    const { project, objectsContainer } = this.props;\n\n    const name = newNameGenerator(\n      'NewObject',\n      name =>\n        objectsContainer.hasObjectNamed(name) || project.hasObjectNamed(name)\n    );\n\n    const object = objectsContainer.insertNewObject(\n      project,\n      objectType,\n      name,\n      objectsContainer.getObjectsCount()\n    );\n\n    this.setState(\n      {\n        newObjectDialogOpen: false,\n      },\n      () => {\n        if (this.props.onEditObject) {\n          this.props.onEditObject(object);\n        }\n      }\n    );\n  };\n\n  _deleteObject = (objectWithContext: ObjectWithContext) => {\n    const { object, global } = objectWithContext;\n    const { project, objectsContainer } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this object? This can't be undone.\"\n    );\n    if (!answer) return;\n\n    this.props.onDeleteObject(objectWithContext, doRemove => {\n      if (!doRemove) return;\n\n      if (global) {\n        project.removeObject(object.getName());\n      } else {\n        objectsContainer.removeObject(object.getName());\n      }\n\n      this.forceUpdate();\n    });\n  };\n\n  _copyObject = (objectWithContext: ObjectWithContext) => {\n    const { object } = objectWithContext;\n    Clipboard.set(CLIPBOARD_KIND, {\n      type: object.getType(),\n      name: object.getName(),\n      object: serializeToJSObject(object),\n    });\n  };\n\n  _cutObject = (objectWithContext: ObjectWithContext) => {\n    this._copyObject(objectWithContext);\n    this._deleteObject(objectWithContext);\n  };\n\n  _duplicateObject = (objectWithContext: ObjectWithContext) => {\n    this._copyObject(objectWithContext);\n    this._pasteAndRename(objectWithContext);\n  };\n\n  _pasteAndRename = (objectWithContext: ObjectWithContext) => {\n    this._editName(this._paste(objectWithContext));\n  };\n\n  _paste = (objectWithContext: ObjectWithContext): ?ObjectWithContext => {\n    if (!Clipboard.has(CLIPBOARD_KIND)) return null;\n\n    const { object: pasteObject, global } = objectWithContext;\n    const { object: copiedObject, type, name } = Clipboard.get(CLIPBOARD_KIND);\n    const { project, objectsContainer, onObjectPasted } = this.props;\n\n    const newName = newNameGenerator(\n      name,\n      name =>\n        objectsContainer.hasObjectNamed(name) || project.hasObjectNamed(name),\n      'CopyOf'\n    );\n\n    const newObject = global\n      ? project.insertNewObject(\n          project,\n          type,\n          newName,\n          project.getObjectPosition(pasteObject.getName())\n        )\n      : objectsContainer.insertNewObject(\n          project,\n          type,\n          newName,\n          objectsContainer.getObjectPosition(pasteObject.getName())\n        );\n\n    unserializeFromJSObject(\n      newObject,\n      copiedObject,\n      'unserializeFrom',\n      project\n    );\n\n    this.forceUpdate();\n    if (onObjectPasted) onObjectPasted(newObject);\n\n    return { object: newObject, global };\n  };\n\n  _editName = (objectWithContext: ?ObjectWithContext) => {\n    this.setState(\n      {\n        renamedObjectWithScope: objectWithContext,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _editVariables = (object: any) => {\n    this.setState({\n      variablesEditedObject: object,\n    });\n  };\n\n  _rename = (objectWithContext: ObjectWithContext, newName: string) => {\n    const { object } = objectWithContext;\n\n    this.setState({\n      renamedObjectWithScope: null,\n    });\n\n    if (this.props.canRenameObject(objectWithContext, newName)) {\n      this.props.onRenameObject(objectWithContext, newName, doRename => {\n        if (!doRename) return;\n\n        object.setName(newName);\n        this.forceUpdate();\n      });\n    }\n  };\n\n  _move = (oldIndex: number, newIndex: number) => {\n    if (!this.props.canMoveObjects) return;\n\n    const { project, objectsContainer } = this.props;\n\n    const isInContainerObjectsList =\n      oldIndex < this.containerObjectsList.length;\n    if (isInContainerObjectsList) {\n      objectsContainer.moveObject(\n        oldIndex,\n        Math.min(newIndex, this.containerObjectsList.length - 1)\n      );\n    } else {\n      const projectOldIndex = oldIndex - this.containerObjectsList.length;\n      const projectNewIndex = newIndex - this.containerObjectsList.length;\n\n      project.moveObject(\n        projectOldIndex,\n        Math.min(projectNewIndex, this.projectObjectsList.length - 1)\n      );\n    }\n\n    this.forceUpdateList();\n  };\n\n  _onStartDraggingObject = ({ index }: { index: number }) => {\n    const { project, objectsContainer } = this.props;\n\n    const isInContainerObjectsList = index < this.containerObjectsList.length;\n    if (isInContainerObjectsList) {\n      this.props.onStartDraggingObject(objectsContainer.getObjectAt(index));\n    } else {\n      const projectIndex = index - this.containerObjectsList.length;\n\n      this.props.onStartDraggingObject(project.getObjectAt(projectIndex));\n    }\n  };\n\n  _setAsGlobalObject = (objectWithContext: ObjectWithContext) => {\n    const { object } = objectWithContext;\n    const { project, objectsContainer } = this.props;\n\n    const objectName = object.getName();\n    if (!objectsContainer.hasObjectNamed(objectName)) return;\n\n    if (project.hasObjectNamed(objectName)) {\n      showWarningBox(\n        'A global object with this name already exists. Please change the object name before setting it as a global object'\n      );\n      return;\n    }\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"This object will be loaded and available in all the scenes. This is only recommended for objects that you reuse a lot and can't be undone. Make this object global?\"\n    );\n    if (!answer) return;\n\n    project.insertObject(\n      objectsContainer.getObject(objectName),\n      project.getObjectsCount()\n    );\n    objectsContainer.removeObject(objectName);\n\n    this.forceUpdateList();\n  };\n\n  forceUpdateList = () => {\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  render() {\n    const { project, objectsContainer } = this.props;\n    const { searchText } = this.state;\n\n    const lists = enumerateObjects(project, objectsContainer);\n    this.containerObjectsList = filterObjectsList(\n      lists.containerObjectsList,\n      searchText\n    );\n    this.projectObjectsList = filterObjectsList(\n      lists.projectObjectsList,\n      searchText\n    );\n    const allObjectsList = filterObjectsList(lists.allObjectsList, searchText);\n    const fullList = allObjectsList.concat({\n      key: 'add-objects-row',\n      object: null,\n    });\n\n    // Force List component to be mounted again if project or objectsContainer\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = project.ptr + ';' + objectsContainer.ptr;\n\n    return (\n      <Background>\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableObjectsList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={fullList}\n                project={project}\n                width={width}\n                height={height}\n                renamedObjectWithScope={this.state.renamedObjectWithScope}\n                getThumbnail={this.props.getThumbnail}\n                selectedObjectNames={this.props.selectedObjectNames}\n                onObjectSelected={this.props.onObjectSelected}\n                onEditObject={this.props.onEditObject}\n                onCopyObject={this._copyObject}\n                onCutObject={this._cutObject}\n                onDuplicateObject={this._duplicateObject}\n                onSetAsGlobalObject={this._setAsGlobalObject}\n                onPasteObject={this._pasteAndRename}\n                onAddNewObject={() =>\n                  this.setState({ newObjectDialogOpen: true })\n                }\n                onEditName={this._editName}\n                onEditVariables={this._editVariables}\n                onDelete={this._deleteObject}\n                onRename={this._rename}\n                onSortStart={this._onStartDraggingObject}\n                onSortEnd={({ oldIndex, newIndex }) => {\n                  this.props.onEndDraggingObject();\n                  this._move(oldIndex, newIndex);\n                }}\n                helperClass=\"sortable-helper\"\n                distance={20}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n        {this.state.newObjectDialogOpen && (\n          <NewObjectDialog\n            open={this.state.newObjectDialogOpen}\n            onClose={() => this.setState({ newObjectDialogOpen: false })}\n            onChoose={this.addObject}\n            project={project}\n          />\n        )}\n        {this.state.variablesEditedObject && (\n          <VariablesEditorDialog\n            open={!!this.state.variablesEditedObject}\n            variablesContainer={\n              this.state.variablesEditedObject &&\n              this.state.variablesEditedObject.getVariables()\n            }\n            onCancel={() => this._editVariables(null)}\n            onApply={() => this._editVariables(null)}\n            title=\"Object Variables\"\n            emptyExplanationMessage=\"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it.\"\n            emptyExplanationSecondMessage=\"For example, you can have a variable called Life representing the health of the object.\"\n          />\n        )}\n      </Background>\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport InstructionOrExpressionSelector from './index';\nimport { createTree, type InstructionOrExpressionTreeNode } from './CreateTree';\nimport { enumerateInstructions } from './EnumerateInstructions';\nimport { type InstructionOrExpressionInformation } from './InstructionOrExpressionInformation.flow.js';\n\ntype Props = {\n  isCondition: boolean,\n  // And props from InstructionOrExpressionSelector\n};\n\nexport default class InstructionSelector extends Component<Props, {||}> {\n  instructionsInfo: Array<InstructionOrExpressionInformation> = [];\n  instructionsInfoTree: ?InstructionOrExpressionTreeNode = null;\n\n  componentWillMount() {\n    const allInstructions = enumerateInstructions(this.props.isCondition);\n    this.instructionsInfo = allInstructions;\n    this.instructionsInfoTree = createTree(allInstructions);\n  }\n\n  render() {\n    return (\n      <InstructionOrExpressionSelector\n        instructionsInfo={this.instructionsInfo}\n        instructionsInfoTree={this.instructionsInfoTree}\n        iconSize={24}\n        {...this.props}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\nimport InstructionSelector from './InstructionOrExpressionSelector/InstructionSelector.js';\nimport InstructionParametersEditor from './InstructionParametersEditor.js';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../ResourcesList/ResourceExternalEditor.flow';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n  },\n  typeSelector: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n  parametersEditor: {\n    flex: 2,\n    display: 'flex',\n    paddingLeft: 16,\n    paddingRight: 16,\n    zIndex: 1, // Put the Paper shadow on the type selector\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  layout: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  instruction: gdInstruction,\n  isCondition: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  style?: Object,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n|};\ntype State = {||};\n\nexport default class InstructionEditor extends React.Component<Props, State> {\n  _instructionParametersEditor: ?InstructionParametersEditor;\n\n  chooseType = (type: string) => {\n    const { instruction } = this.props;\n    instruction.setType(type);\n    this.forceUpdate(() => {\n      if (this._instructionParametersEditor) {\n        this._instructionParametersEditor.focus();\n      }\n    });\n  };\n\n  render() {\n    const {\n      instruction,\n      isCondition,\n      project,\n      layout,\n      globalObjectsContainer,\n      objectsContainer,\n    } = this.props;\n\n    return (\n      <div style={styles.container}>\n        <InstructionSelector\n          style={styles.typeSelector}\n          isCondition={isCondition}\n          selectedType={instruction.getType()}\n          onChoose={this.chooseType}\n          focusOnMount={!instruction.getType()}\n        />\n        <Paper style={styles.parametersEditor} rounded={false} zDepth={2}>\n          <InstructionParametersEditor\n            project={project}\n            layout={layout}\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            isCondition={isCondition}\n            instruction={instruction}\n            resourceSources={this.props.resourceSources}\n            onChooseResource={this.props.onChooseResource}\n            resourceExternalEditors={this.props.resourceExternalEditors}\n            openInstructionOrExpression={this.props.openInstructionOrExpression}\n            ref={instructionParametersEditor =>\n              (this._instructionParametersEditor = instructionParametersEditor)\n            }\n            focusOnMount={instruction.getType()}\n          />\n        </Paper>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport InstructionEditor from './index.js';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../ResourcesList/ResourceExternalEditor.flow';\n\nconst styles = {\n  dialogContent: {\n    width: '100%',\n    maxWidth: 'none',\n  },\n  dialogBody: {\n    padding: 0,\n    display: 'flex',\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  layout: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  instruction: gdInstruction,\n  isCondition: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  style?: Object,\n  isNewInstruction: boolean,\n  onCancel: () => void,\n  onSubmit: () => void,\n  open: boolean,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n|};\ntype State = {||};\n\nexport default class InstructionEditorDialog extends React.Component<\n  Props,\n  State\n> {\n  _getTitle() {\n    if (this.props.isCondition) {\n      return this.props.isNewInstruction\n        ? 'Add a new condition'\n        : 'Edit condition';\n    } else {\n      return this.props.isNewInstruction ? 'Add a new action' : 'Edit action';\n    }\n  }\n\n  render() {\n    const {\n      isNewInstruction,\n      onCancel,\n      onSubmit,\n      open,\n      ...otherProps\n    } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={onCancel}\n      />,\n      <FlatButton\n        label={<Trans>Ok</Trans>}\n        primary={true}\n        keyboardFocused={false}\n        onClick={onSubmit}\n      />,\n    ];\n\n    return (\n      <Dialog\n        actions={actions}\n        open={open}\n        onRequestClose={onCancel}\n        contentStyle={styles.dialogContent}\n        bodyStyle={styles.dialogBody}\n      >\n        <InstructionEditor {...otherProps} />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ObjectGroupsList from '.';\nimport { ObjectGroupEditorDialog } from '../ObjectGroupEditor/ObjectGroupEditorDialog';\nimport { type GroupWithContext } from '../ObjectsList/EnumerateObjects';\n\ntype Props = {|\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  globalObjectGroups: gdObjectGroupsContainer,\n  objectGroups: gdObjectGroupsContainer,\n  onGroupsUpdated?: () => void,\n|};\n\ntype State = {|\n  editedGroup: ?gdObjectGroup,\n|};\n\n/**\n * Helper showing the list of groups and embedding the editor to edit a group.\n */\nexport default class ObjectGroupsListWithObjectGroupEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    editedGroup: null,\n  };\n\n  _onDeleteGroup = (\n    groupWithScope: GroupWithContext,\n    done: boolean => void\n  ) => {\n    //TODO: implement and launch refactoring (using gd.WholeProjectRefactorer)\n    done(true);\n  };\n\n  _onRenameGroup = (\n    groupWithScope: GroupWithContext,\n    newName: string,\n    done: boolean => void\n  ) => {\n    //TODO: implement and launch refactoring (using gd.WholeProjectRefactorer)\n    done(true);\n  };\n\n  editGroup = (editedGroup: ?gdObjectGroup) => this.setState({ editedGroup });\n\n  render() {\n    const {\n      objectsContainer,\n      globalObjectsContainer,\n      objectGroups,\n      globalObjectGroups,\n    } = this.props;\n\n    return (\n      <React.Fragment>\n        <ObjectGroupsList\n          globalObjectGroups={globalObjectGroups}\n          objectGroups={objectGroups}\n          onEditGroup={this.editGroup}\n          onDeleteGroup={this._onDeleteGroup}\n          onRenameGroup={this._onRenameGroup}\n          onGroupAdded={this.props.onGroupsUpdated}\n          onGroupRemoved={this.props.onGroupsUpdated}\n          onGroupRenamed={this.props.onGroupsUpdated}\n        />\n        <ObjectGroupEditorDialog\n          key={globalObjectsContainer.ptr + ';' + objectsContainer.ptr}\n          open={!!this.state.editedGroup}\n          group={this.state.editedGroup}\n          globalObjectsContainer={globalObjectsContainer}\n          objectsContainer={objectsContainer}\n          onCancel={() => this.editGroup(null)}\n          onApply={() => {\n            if (this.props.onGroupsUpdated) this.props.onGroupsUpdated();\n            this.editGroup(null);\n          }}\n        />\n      </React.Fragment>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\n\nconst styles = {\n  container: {\n    overflowY: 'scroll',\n    flex: 1,\n  },\n};\n\ntype Props = {| children: React.Node |};\n\nexport default ({ children }: Props) => (\n  <div style={{ ...styles.container }}>{children}</div>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ObjectGroupsListWithObjectGroupEditor from '../../ObjectGroupsList/ObjectGroupsListWithObjectGroupEditor';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport EventsFunctionParametersEditor from './EventsFunctionParametersEditor';\nimport EventsFunctionPropertiesEditor from './EventsFunctionPropertiesEditor';\nimport ScrollView from '../../UI/ScrollView';\nimport { Column } from '../../UI/Grid';\n\ntype Props = {|\n  project: gdProject,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  eventsFunction: gdEventsFunction,\n  onParametersOrGroupsUpdated: () => void,\n  helpPagePath?: string,\n  onConfigurationUpdated?: () => void,\n  renderConfigurationHeader?: () => React.Node,\n  freezeParameters?: boolean,\n  freezeEventsFunctionType?: boolean,\n|};\n\ntype TabNames = 'config' | 'parameters' | 'groups';\n\ntype State = {|\n  currentTab: TabNames,\n|};\n\nexport default class EventsFunctionConfigurationEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    currentTab: 'config',\n  };\n\n  _chooseTab = (currentTab: TabNames) =>\n    this.setState({\n      currentTab,\n    });\n\n  render() {\n    const {\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      eventsFunction,\n      freezeEventsFunctionType,\n      onConfigurationUpdated,\n      onParametersOrGroupsUpdated,\n      freezeParameters,\n      helpPagePath,\n      renderConfigurationHeader,\n    } = this.props;\n\n    return (\n      <Column expand noMargin>\n        <Tabs value={this.state.currentTab} onChange={this._chooseTab}>\n          <Tab\n            label={<Trans>Configuration</Trans>}\n            value={('config': TabNames)}\n          />\n          <Tab\n            label={<Trans>Parameters</Trans>}\n            value={('parameters': TabNames)}\n          />\n          <Tab\n            label={<Trans>Object groups</Trans>}\n            value={('groups': TabNames)}\n          >\n            {/* Manually display tabs to support flex */}\n          </Tab>\n        </Tabs>\n        {this.state.currentTab === 'config' ? (\n          <ScrollView>\n            <EventsFunctionPropertiesEditor\n              eventsFunction={eventsFunction}\n              helpPagePath={helpPagePath}\n              onConfigurationUpdated={onConfigurationUpdated}\n              renderConfigurationHeader={renderConfigurationHeader}\n              freezeEventsFunctionType={freezeEventsFunctionType}\n            />\n          </ScrollView>\n        ) : null}\n        {this.state.currentTab === 'parameters' ? (\n          <ScrollView>\n            <EventsFunctionParametersEditor\n              project={project}\n              eventsFunction={eventsFunction}\n              onParametersUpdated={onParametersOrGroupsUpdated}\n              helpPagePath={helpPagePath}\n              freezeParameters={freezeParameters}\n            />\n          </ScrollView>\n        ) : null}\n        {this.state.currentTab === 'groups' ? (\n          <ObjectGroupsListWithObjectGroupEditor\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            globalObjectGroups={globalObjectsContainer.getObjectGroups()}\n            objectGroups={eventsFunction.getObjectGroups()}\n            onGroupsUpdated={onParametersOrGroupsUpdated}\n          />\n        ) : null}\n      </Column>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst styles = {\n  logo: {\n    width: '100%',\n  },\n};\n\nconst ThemableGDevelopLogo = ({ muiTheme }) => (\n  <img src={muiTheme.logo.src} alt=\"\" style={styles.logo} />\n);\n\nconst GDevelopLogo = muiThemeable()(ThemableGDevelopLogo);\nexport default GDevelopLogo;\n","// @flow\nimport * as React from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst styles = {\n  scrollContainer: {\n    flex: 1,\n    display: 'flex',\n    overflowY: 'scroll',\n  },\n};\n\nconst ThemableScrollBackground = ({ muiTheme, children }) => (\n  <div\n    style={{\n      ...styles.scrollContainer,\n      backgroundColor: muiTheme.palette.canvasColor,\n    }}\n  >\n    {children}\n  </div>\n);\n\nconst ScrollBackground = muiThemeable()(ThemableScrollBackground);\nexport default ScrollBackground;\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\n\nimport React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Paper from 'material-ui/Paper';\nimport IconButton from 'material-ui/IconButton';\nimport Language from 'material-ui/svg-icons/action/language';\nimport BaseEditor from '../BaseEditor';\nimport Window from '../../../Utils/Window';\nimport { Line } from '../../../UI/Grid';\nimport GDevelopLogo from './GDevelopLogo';\nimport ScrollBackground from './ScrollBackground';\nimport RaisedButton from 'material-ui/RaisedButton';\n\nconst styles = {\n  innerContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    minHeight: 350,\n  },\n  centerContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    maxWidth: 400,\n  },\n  logoPaper: {\n    margin: 10,\n    padding: 5,\n    width: '100%',\n    textAlign: 'center',\n  },\n  buttonsPaper: {\n    width: '100%',\n  },\n};\n\nclass StartPage extends BaseEditor {\n  constructor() {\n    super();\n\n    this.state = {\n      aboutDialogOpen: false,\n    };\n  }\n\n  getProject() {\n    return undefined;\n  }\n\n  updateToolbar() {\n    if (this.props.setToolbar) this.props.setToolbar(null);\n  }\n\n  render() {\n    const {\n      project,\n      canOpen,\n      onOpen,\n      onCreate,\n      onOpenProjectManager,\n      onCloseProject,\n      onOpenAboutDialog,\n      onOpenHelpFinder,\n      onOpenLanguageDialog,\n    } = this.props;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <ScrollBackground>\n            <div style={styles.innerContainer}>\n              <Line expand justifyContent=\"center\">\n                <div style={styles.centerContainer}>\n                  <Paper\n                    zDepth={1}\n                    style={{\n                      ...styles.logoPaper,\n                    }}\n                  >\n                    <GDevelopLogo />\n                    <p>\n                      <Trans>\n                        GDevelop is an easy-to-use game creator with no\n                        programming language to learn.\n                      </Trans>\n                    </p>\n                  </Paper>\n                  {!project && canOpen && (\n                    <RaisedButton\n                      label={<Trans>Open a project</Trans>}\n                      fullWidth\n                      onClick={onOpen}\n                      primary\n                    />\n                  )}\n                  {!project && (\n                    <RaisedButton\n                      label={<Trans>Create a new project</Trans>}\n                      fullWidth\n                      onClick={onCreate}\n                      primary\n                    />\n                  )}\n                  {!!project && (\n                    <RaisedButton\n                      label={<Trans>Open Project Manager</Trans>}\n                      fullWidth\n                      onClick={onOpenProjectManager}\n                      primary\n                    />\n                  )}\n                  {!!project && (\n                    <FlatButton\n                      label={<Trans>Close project</Trans>}\n                      fullWidth\n                      onClick={onCloseProject}\n                    />\n                  )}\n                  {\n                    <FlatButton\n                      label={<Trans>Search the documentation</Trans>}\n                      fullWidth\n                      onClick={onOpenHelpFinder}\n                    />\n                  }\n                </div>\n              </Line>\n              <Line alignItems=\"center\" justifyContent=\"space-between\">\n                <Line>\n                  <FlatButton\n                    label={<Trans>About GDevelop</Trans>}\n                    onClick={onOpenAboutDialog}\n                  />\n                  <FlatButton\n                    label={<Trans>GDevelop Forums</Trans>}\n                    onClick={() =>\n                      Window.openExternalURL('https://forum.gdevelop-app.com')\n                    }\n                  />\n                  <FlatButton\n                    label={<Trans>Help and tutorials</Trans>}\n                    onClick={() =>\n                      Window.openExternalURL(\n                        'http://wiki.compilgames.net/doku.php/gdevelop5/start'\n                      )\n                    }\n                  />\n                </Line>\n                <Line alignItems=\"center\">\n                  <FlatButton\n                    label={i18n.language}\n                    onClick={onOpenLanguageDialog}\n                    icon={<Language />}\n                  />\n                  <IconButton\n                    iconClassName=\"icon-facebook\"\n                    onClick={() =>\n                      Window.openExternalURL(\n                        'https://www.facebook.com/GDevelopApp'\n                      )\n                    }\n                  />\n                  <IconButton\n                    iconClassName=\"icon-twitter\"\n                    onClick={() =>\n                      Window.openExternalURL('https://twitter.com/GDevelopApp')\n                    }\n                  />\n                </Line>\n              </Line>\n            </div>\n          </ScrollBackground>\n        )}\n      </I18n>\n    );\n  }\n}\n\nexport default StartPage;\n","// @flow\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { largeSelectedArea, largeSelectableArea } from '../ClassNames';\nimport { type EventRendererProps } from './EventRenderer.flow';\n\nexport default class UnknownEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  render() {\n    return (\n      <p\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n        })}\n      >\n        {'Unknown event of type ' + this.props.event.getType()}\n      </p>\n    );\n  }\n}\n","import UnknownEvent from './Renderers/UnknownEvent';\nimport StandardEvent from './Renderers/StandardEvent';\nimport GroupEvent from './Renderers/GroupEvent';\nimport CommentEvent from './Renderers/CommentEvent';\nimport ForEachEvent from './Renderers/ForEachEvent';\nimport RepeatEvent from './Renderers/RepeatEvent';\nimport WhileEvent from './Renderers/WhileEvent';\nimport LinkEvent from './Renderers/LinkEvent';\nimport JsCodeEvent from './Renderers/JsCodeEvent';\n\nexport default {\n  components: {\n    unknownEvent: UnknownEvent,\n    'BuiltinCommonInstructions::Standard': StandardEvent,\n    'BuiltinCommonInstructions::Group': GroupEvent,\n    'BuiltinCommonInstructions::Comment': CommentEvent,\n    'BuiltinCommonInstructions::ForEach': ForEachEvent,\n    'BuiltinCommonInstructions::Repeat': RepeatEvent,\n    'BuiltinCommonInstructions::While': WhileEvent,\n    'BuiltinCommonInstructions::Link': LinkEvent,\n    'BuiltinCommonInstructions::JsCode': JsCodeEvent,\n  },\n  getEventComponent: function(event) {\n    if (this.components.hasOwnProperty(event.getType()))\n      return this.components[event.getType()];\n    else return this.components.unknownEvent;\n  },\n  registerEvent: function(eventType, renderFunction) {\n    if (!this.components.hasOwnProperty(eventType)) {\n      console.warn(\n        'Tried to register renderer for events \"' +\n          eventType +\n          '\", but a renderer already exists.'\n      );\n      return;\n    }\n\n    this.components[eventType] = renderFunction;\n  },\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\nimport FlatButton from 'material-ui/FlatButton';\nimport Window from '../Utils/Window';\nimport { List, ListItem } from 'material-ui/List';\nimport { Column } from '../UI/Grid';\nimport algoliasearch from 'algoliasearch/lite';\nimport debounce from 'lodash/debounce';\n\nconst styles = {\n  dropdownMenuContainer: {\n    maxHeight: 300,\n    overflowY: 'scroll',\n  },\n  poweredByText: {\n    textAlign: 'right',\n    opacity: 0.8,\n  },\n};\n\ntype Props = {|\n  onChange: string => void,\n  value: string,\n|};\n\ntype AlgoliaResult = {|\n  content: string,\n  url: string,\n  hierarchy: {|\n    lvl0: ?string,\n    lvl1: ?string,\n    lvl2: ?string,\n    lvl3: ?string,\n    lvl4: ?string,\n    lvl5: ?string,\n    lvl6: ?string,\n  |},\n  objectID: string,\n|};\n\ntype State = {|\n  results: ?Array<AlgoliaResult>,\n|};\n\nconst indexName = 'gdevelop';\nconst appId = 'BH4D9OD16A';\nconst apiKey = '69c73fc1a710bb79543d4b91f6b81c08';\nconst algoliaOptions = { hitsPerPage: 5 };\n\nexport default class DocSearchArea extends React.Component<Props, State> {\n  // $FlowFixMe\n  client = algoliasearch(appId, apiKey, algoliaOptions);\n  state = {\n    results: null,\n  };\n\n  _handleSearchTextChange = (searchText: string) => {\n    this.props.onChange(searchText);\n  };\n\n  _launchSearchRequest = debounce(() => {\n    if (this.props.value) {\n      this.client\n        // $FlowFixMe\n        .search([\n          {\n            indexName: indexName,\n            query: this.props.value,\n            params: algoliaOptions,\n          },\n        ])\n        .then(data => {\n          let hits = data.results[0].hits;\n          console.log(hits);\n\n          this.setState({\n            results: hits,\n          });\n        });\n    }\n  }, 200);\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.value !== this.props.value && this.props.value) {\n      this._launchSearchRequest();\n    }\n  }\n\n  _renderResult = (result: AlgoliaResult) => {\n    const primaryText =\n      result.hierarchy.lvl0 ||\n      result.hierarchy.lvl1 ||\n      result.hierarchy.lvl2 ||\n      result.hierarchy.lvl3 ||\n      result.hierarchy.lvl4 ||\n      result.hierarchy.lvl5 ||\n      result.hierarchy.lvl6;\n\n    const secondaryText = [\n      result.hierarchy.lvl0,\n      result.hierarchy.lvl1,\n      result.hierarchy.lvl2,\n      result.hierarchy.lvl3,\n      result.hierarchy.lvl4,\n      result.hierarchy.lvl5,\n      result.hierarchy.lvl6,\n    ]\n      .filter(text => !!text)\n      .filter(text => text !== primaryText)\n      .join(' - ')\n      .replace(/&quot;/g, '\"');\n\n    return (\n      <ListItem\n        key={result.objectID}\n        primaryText={primaryText}\n        secondaryText={result.content || secondaryText}\n        secondaryTextLines={2}\n        onClick={() => {\n          Window.openExternalURL(result.url);\n        }}\n      />\n    );\n  };\n\n  render() {\n    return (\n      <div>\n        <TextField\n          id={'help-finder-search-bar'}\n          fullWidth\n          hintText={<Trans>Enter what you want to build.</Trans>}\n          value={this.props.value}\n          onChange={(e, text) => this.props.onChange(text)}\n        />\n        <div\n          id=\"help-finder-dropdown-menu-container\"\n          className=\"algolia-autocomplete\"\n          style={{\n            ...styles.dropdownMenuContainer,\n            visibility: !this.props.value ? 'hidden' : undefined,\n          }}\n        />\n        {this.state.results ? (\n          <List>\n            {this.state.results.map(result => this._renderResult(result))}\n          </List>\n        ) : (\n          <React.Fragment>\n            <p>\n              <Trans>Examples:</Trans>\n            </p>\n            <Column expand>\n              <p>\n                Coins in platformer\n                <br />\n                Export on Android\n                <br />\n                Add a score\n                <br />\n                Move enemies\n                <br />\n                ...\n                <br />\n              </p>\n            </Column>\n          </React.Fragment>\n        )}\n        <p style={styles.poweredByText}>\n          This search is powered by{' '}\n          <FlatButton\n            onClick={() => Window.openExternalURL('http://algolia.com/')}\n            label={'Algolia'}\n          />\n        </p>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport Window from '../Utils/Window';\nimport DocSearchArea from './DocSearchArea';\nimport debounce from 'lodash/debounce';\nimport {\n  sendHelpFinderOpened,\n  sendHelpSearch,\n} from '../Utils/Analytics/EventSender';\n\ntype Props = {|\n  open: boolean,\n  onClose: () => void,\n|};\n\ntype State = {|\n  searchText: string,\n|};\n\nexport default class HelpFinder extends React.PureComponent<Props, State> {\n  state = {\n    searchText: '',\n  };\n\n  componentWillReceiveProps(newProps: Props) {\n    if (newProps.open && !this.props.open) {\n      sendHelpFinderOpened();\n    }\n  }\n\n  _handleSearchTextChange = (searchText: string) => {\n    this.setState({\n      searchText,\n    });\n    this._sendHelpSearch();\n  };\n\n  _sendHelpSearch = debounce(() => {\n    if (this.state.searchText) sendHelpSearch(this.state.searchText.trim());\n  }, 2900);\n\n  render() {\n    const { open, onClose } = this.props;\n\n    return (\n      <Dialog\n        title={<Trans>Help!</Trans>}\n        onRequestClose={onClose}\n        actions={[\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            key=\"close\"\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        secondaryActions={[\n          <FlatButton\n            key=\"forum\"\n            primary={false}\n            onClick={() => {\n              Window.openExternalURL('https://forum.gdevelop-app.com');\n            }}\n            label={<Trans>Community forum</Trans>}\n          />,\n          <FlatButton\n            key=\"wiki\"\n            primary={false}\n            onClick={() => {\n              Window.openExternalURL(\n                'http://wiki.compilgames.net/doku.php/gdevelop5/start'\n              );\n            }}\n            label={<Trans>Wiki</Trans>}\n          />,\n        ]}\n        open={open}\n      >\n        <DocSearchArea\n          value={this.state.searchText}\n          onChange={this._handleSearchTextChange}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport Changelog from '.';\n\ntype Props = {|\n  open: boolean,\n  onClose: () => void,\n|};\n\ntype State = {||};\n\nexport default class ChangelogDialog extends React.Component<Props, State> {\n  render() {\n    const { open, onClose } = this.props;\n    if (!open) {\n      // Don't render anything, to avoid in particular sending useless requests.\n      return null;\n    }\n\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        primary={true}\n        onClick={onClose}\n      />,\n    ];\n\n    return (\n      <Dialog\n        title={<Trans>What's new in GDevelop?</Trans>}\n        actions={actions}\n        open={open}\n        onRequestClose={onClose}\n        autoScrollBodyContent\n        modal\n      >\n        <p>\n          <Trans>\n            GDevelop was upgraded to a new version! Check out the changes.\n          </Trans>\n        </p>\n        <Changelog\n          onUpdated={() => {\n            this.forceUpdate(); /*Force update to ensure dialog is properly positionned*/\n          }}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ChangelogDialog from './ChangelogDialog';\nimport PreferencesContext from '../Preferences/PreferencesContext';\n\ntype ContainerProps = {|\n  defaultOpen: boolean,\n|};\n\ntype ContainerState = {|\n  open: boolean,\n|};\n\nclass ChangelogDialogContainer extends React.Component<\n  ContainerProps,\n  ContainerState\n> {\n  state = {\n    open: this.props.defaultOpen,\n  };\n\n  render() {\n    const { open } = this.state;\n    return (\n      <ChangelogDialog\n        open={open}\n        onClose={() =>\n          this.setState({\n            open: false,\n          })\n        }\n      />\n    );\n  }\n}\n\n/**\n * The container showing the ChangelogDialog only if a a new version\n * of GDevelop is detected.\n */\nexport default (props: {||}) => (\n  <PreferencesContext.Consumer>\n    {({ values, verifyIfIsNewVersion }) => (\n      <ChangelogDialogContainer\n        defaultOpen={verifyIfIsNewVersion() && values.autoDisplayChangelog}\n      />\n    )}\n  </PreferencesContext.Consumer>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { Line } from '../../../../UI/Grid';\nimport ImagePreview from '../../../../ResourcesList/ResourcePreview/ImagePreview';\nimport Replay from 'material-ui/svg-icons/av/replay';\nimport PlayArrow from 'material-ui/svg-icons/av/play-arrow';\nimport Pause from 'material-ui/svg-icons/av/pause';\nimport Timer from 'material-ui/svg-icons/image/timer';\nimport TextField from 'material-ui/TextField';\nimport { FlatButton } from 'material-ui';\n\ntype Props = {|\n  spritesContainer: Object,\n  resourcesLoader: Object,\n  project: Object,\n  timeBetweenFrames: number,\n  onChangeTimeBetweenFrames: number => void,\n|};\n\ntype State = {|\n  currentFrameIndex: number,\n  currentFrameElapsedTime: number,\n  paused: boolean,\n  fps: number,\n|};\n\nconst styles = {\n  timeField: {\n    width: 75,\n  },\n  timeIcon: {\n    paddingLeft: 6,\n    paddingRight: 8,\n  },\n};\n\nexport default class AnimationPreview extends Component<Props, State> {\n  state = {\n    currentFrameIndex: 0,\n    currentFrameElapsedTime: 0,\n    paused: false,\n    fps: Math.round(1 / this.props.timeBetweenFrames),\n  };\n\n  nextUpdate = null;\n\n  componentDidMount() {\n    this.nextUpdate = requestAnimationFrame(this._updateAnimation);\n  }\n\n  componentWillUnmount() {\n    if (this.nextUpdate) cancelAnimationFrame(this.nextUpdate);\n  }\n\n  replay = () =>\n    this.setState({\n      currentFrameIndex: 0,\n      currentFrameElapsedTime: 0,\n      paused: false,\n    });\n\n  play = () =>\n    this.setState({\n      paused: false,\n    });\n\n  pause = () =>\n    this.setState({\n      paused: true,\n    });\n\n  _updateAnimation = () => {\n    const animationSpeedScale = 1;\n\n    const { spritesContainer, timeBetweenFrames } = this.props;\n    const { currentFrameIndex, currentFrameElapsedTime, paused } = this.state;\n\n    const elapsedTime = 1 / 60;\n    let newFrameIndex = currentFrameIndex;\n    let newFrameElapsedTime = currentFrameElapsedTime;\n    newFrameElapsedTime += paused ? 0 : elapsedTime * animationSpeedScale;\n\n    if (newFrameElapsedTime > timeBetweenFrames) {\n      const count = Math.floor(newFrameElapsedTime / timeBetweenFrames);\n      newFrameIndex += count;\n      newFrameElapsedTime = newFrameElapsedTime - count * timeBetweenFrames;\n      if (newFrameElapsedTime < 0) newFrameElapsedTime = 0;\n    }\n\n    if (newFrameIndex >= spritesContainer.getSpritesCount()) {\n      newFrameIndex = spritesContainer.isLooping()\n        ? newFrameIndex % spritesContainer.getSpritesCount()\n        : spritesContainer.getSpritesCount() - 1;\n    }\n    if (newFrameIndex < 0) newFrameIndex = 0; //May happen if there is no frame.\n\n    this.setState({\n      currentFrameIndex: newFrameIndex,\n      currentFrameElapsedTime: newFrameElapsedTime,\n    });\n    this.nextUpdate = requestAnimationFrame(this._updateAnimation);\n  };\n\n  render() {\n    const {\n      spritesContainer,\n      resourcesLoader,\n      project,\n      timeBetweenFrames,\n      onChangeTimeBetweenFrames,\n    } = this.props;\n    const { currentFrameIndex, paused, fps } = this.state;\n\n    const hasValidSprite =\n      currentFrameIndex < spritesContainer.getSpritesCount();\n    const sprite = hasValidSprite\n      ? spritesContainer.getSprite(currentFrameIndex)\n      : null;\n\n    return (\n      <div>\n        <ImagePreview\n          resourceName={sprite ? sprite.getImageName() : ''}\n          resourcesLoader={resourcesLoader}\n          project={project}\n        />\n        <Line noMargin alignItems=\"center\">\n          <span style={styles.timeIcon}>FPS:</span>\n          <TextField\n            value={fps}\n            onChange={(e, text) => {\n              const fps = parseFloat(text);\n              if (fps > 0) {\n                this.setState({ fps });\n                onChangeTimeBetweenFrames(parseFloat((1 / fps).toFixed(4)));\n                this.replay();\n              }\n            }}\n            id=\"direction-time-between-frames\"\n            type=\"number\"\n            step={1}\n            min={1}\n            max={100}\n            style={styles.timeField}\n            autoFocus={true}\n          />\n          <Timer style={styles.timeIcon} />\n          <TextField\n            value={timeBetweenFrames}\n            onChange={(e, text) => {\n              const time = parseFloat(text);\n              if (time > 0) {\n                this.setState({ fps: Math.round(1 / time) });\n                onChangeTimeBetweenFrames(time);\n                this.replay();\n              }\n            }}\n            id=\"direction-time-between-frames\"\n            type=\"number\"\n            step={0.005}\n            precision={2}\n            min={0.01}\n            max={5}\n            style={styles.timeField}\n          />\n          <FlatButton\n            icon={<Replay />}\n            label={<Trans>Replay</Trans>}\n            onClick={this.replay}\n          />\n          <FlatButton\n            icon={paused ? <PlayArrow /> : <Pause />}\n            label={paused ? 'Play' : 'Pause'}\n            onClick={paused ? this.play : this.pause}\n          />\n        </Line>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport Timer from 'material-ui/svg-icons/image/timer';\nimport FlatButton from 'material-ui/FlatButton';\nimport Checkbox from 'material-ui/Checkbox';\nimport Repeat from 'material-ui/svg-icons/av/repeat';\nimport Brush from 'material-ui/svg-icons/image/brush';\nimport PlayArrow from 'material-ui/svg-icons/av/play-arrow';\nimport TextField from 'material-ui/TextField';\nimport Dialog from '../../../UI/Dialog';\nimport AnimationPreview from './AnimationPreview';\nimport ResourcesLoader from '../../../ResourcesLoader';\nimport { type ResourceExternalEditor } from '../../../ResourcesList/ResourceExternalEditor.flow';\n\nconst styles = {\n  container: {\n    paddingLeft: 12,\n    paddingRight: 12,\n    display: 'flex',\n    alignItems: 'center',\n  },\n  timeField: {\n    width: 75,\n  },\n  timeIcon: {\n    paddingLeft: 6,\n    paddingRight: 6,\n  },\n  repeatContainer: {\n    width: 130,\n  },\n  repeatLabel: {\n    whiteSpace: 'nowrap',\n  },\n  spacer: {\n    width: 16,\n  },\n};\n\nconst formatTime = time => Number(time.toFixed(6));\n\ntype Props = {|\n  direction: gdDirection,\n  resourcesLoader: typeof ResourcesLoader,\n  project: gdProject,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  onEditWith: ResourceExternalEditor => void,\n|};\n\ntype State = {|\n  timeBetweenFrames: number,\n  timeError: boolean,\n  previewOpen: boolean,\n|};\n\nexport default class DirectionTools extends Component<Props, State> {\n  state = {\n    timeBetweenFrames: formatTime(this.props.direction.getTimeBetweenFrames()),\n    timeError: false,\n    previewOpen: false,\n  };\n\n  componentWillReceiveProps(newProps: Props) {\n    this.setState({\n      timeBetweenFrames: formatTime(\n        this.props.direction.getTimeBetweenFrames()\n      ),\n      timeError: false,\n    });\n  }\n\n  saveTimeBetweenFrames = () => {\n    const { direction } = this.props;\n\n    const newTime = Math.max(parseFloat(this.state.timeBetweenFrames), 0.00001);\n    const newTimeIsValid = !isNaN(newTime);\n\n    if (newTimeIsValid) direction.setTimeBetweenFrames(newTime);\n    this.setState({\n      timeBetweenFrames: formatTime(\n        this.props.direction.getTimeBetweenFrames()\n      ),\n      timeError: newTimeIsValid,\n    });\n  };\n\n  setLooping = (check: boolean) => {\n    const { direction } = this.props;\n\n    direction.setLoop(!!check);\n    this.forceUpdate();\n  };\n\n  openPreview = (open: boolean) => {\n    this.setState({\n      previewOpen: open,\n    });\n    if (!open) {\n      this.saveTimeBetweenFrames();\n    }\n  };\n\n  render() {\n    const {\n      direction,\n      resourcesLoader,\n      project,\n      resourceExternalEditors,\n      onEditWith,\n    } = this.props;\n\n    return (\n      <div style={styles.container}>\n        {!!resourceExternalEditors.length && (\n          <FlatButton\n            label={resourceExternalEditors[0].displayName}\n            icon={<Brush />}\n            onClick={() => onEditWith(resourceExternalEditors[0])}\n          />\n        )}\n        <FlatButton\n          label={<Trans>Preview</Trans>}\n          icon={<PlayArrow />}\n          onClick={() => this.openPreview(true)}\n        />\n        <Timer style={styles.timeIcon} />\n        <TextField\n          value={this.state.timeBetweenFrames}\n          onChange={(e, text) => this.setState({ timeBetweenFrames: text })}\n          onBlur={() => this.saveTimeBetweenFrames()}\n          id=\"direction-time-between-frames\"\n          style={styles.timeField}\n          type=\"number\"\n          step={0.005}\n          precision={2}\n          min={0.01}\n          max={5}\n        />\n        <span style={styles.spacer} />\n        <div style={styles.repeatContainer}>\n          <Checkbox\n            checkedIcon={<Repeat />}\n            uncheckedIcon={<Repeat />}\n            checked={direction.isLooping()}\n            label={direction.isLooping() ? 'Loop' : \"Don't loop\"}\n            onCheck={(e, check) => this.setLooping(check)}\n            labelStyle={styles.repeatLabel}\n          />\n        </div>\n        {this.state.previewOpen && (\n          <Dialog\n            actions={\n              <FlatButton\n                label={<Trans>OK</Trans>}\n                primary\n                onClick={() => this.openPreview(false)}\n              />\n            }\n            autoScrollBodyContent\n            noMargin\n            modal\n            onRequestClose={() => this.openPreview(false)}\n            open={this.state.previewOpen}\n          >\n            <AnimationPreview\n              spritesContainer={direction}\n              resourcesLoader={resourcesLoader}\n              project={project}\n              timeBetweenFrames={this.state.timeBetweenFrames}\n              onChangeTimeBetweenFrames={text =>\n                this.setState({ timeBetweenFrames: text })\n              }\n            />\n          </Dialog>\n        )}\n      </div>\n    );\n  }\n}\n","//@flow\nimport { findGDJS } from '../Export/LocalExporters/LocalGDJSFinder';\nimport optionalRequire from '../Utils/OptionalRequire';\nconst fs = optionalRequire('fs');\nconst path = optionalRequire('path');\n\nexport const setupAutocompletions = (monaco: any) => {\n  const importAllJsFilesFromFolder = (folderPath: string) =>\n    fs.readdir(folderPath, (error: ?Error, filenames: Array<string>) => {\n      if (error) {\n        console.error(\n          'Unable to read GDJS files for setting up autocompletions:',\n          error\n        );\n        return;\n      }\n\n      filenames.forEach(filename => {\n        if (filename.endsWith('.js')) {\n          const fullPath = path.join(folderPath, filename);\n          fs.readFile(fullPath, 'utf8', (fileError, content) => {\n            if (fileError) {\n              console.error(\n                `Unable to read ${fullPath} for setting up autocompletions:`,\n                fileError\n              );\n              return;\n            }\n\n            monaco.languages.typescript.javascriptDefaults.addExtraLib(\n              content,\n              fullPath\n            );\n          });\n        }\n      });\n    });\n\n  findGDJS(gdjsRoot => {\n    const runtimePath = path.join(gdjsRoot, 'Runtime');\n    const extensionsPath = path.join(runtimePath, 'Extensions');\n    const eventToolsPath = path.join(runtimePath, 'events-tools');\n\n    importAllJsFilesFromFolder(runtimePath);\n    importAllJsFilesFromFolder(eventToolsPath);\n    fs.readdir(extensionsPath, (error: ?Error, folderNames: Array<string>) => {\n      if (error) {\n        console.error(\n          'Unable to read Extensions folders for setting up autocompletions:',\n          error\n        );\n        return;\n      }\n\n      folderNames\n        .filter(\n          folderName =>\n            !folderName.endsWith('.txt') &&\n            !folderName.endsWith('.md') &&\n            !folderName.endsWith('.gitignore')\n        )\n        .forEach(folderName =>\n          importAllJsFilesFromFolder(path.join(extensionsPath, folderName))\n        );\n    });\n\n    monaco.languages.typescript.javascriptDefaults.addExtraLib(\n      `\n/** Represents the scene being played. */\nvar runtimeScene = new gdjs.RuntimeScene();\n\n/** The objects that are passed to your JavaScript function.\n * @type {gdjs.RuntimeObject[]}\n */\nvar objects = new gdjs.RuntimeScene();\n`,\n      'this-mock-the-context-of-events.js'\n    );\n  });\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { setupAutocompletions } from './LocalCodeEditorAutocompletions';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport PreferencesContext from '../MainFrame/Preferences/PreferencesContext';\nimport { getAllThemes } from './Theme';\n\nexport type State = {|\n  MonacoEditor: ?any,\n  error: ?Error,\n|};\nexport type Props = {|\n  value: string,\n  onChange: string => void,\n  width: number,\n  onEditorMounted?: () => void,\n|};\n\nconst monacoEditorOptions = {\n  scrollBeyondLastLine: false,\n  minimap: {\n    enabled: false,\n  },\n};\n\n// There is only a single instance of monaco living, keep track\n// of if its initialized or not.\nlet monacoCompletionsInitialized = false;\nlet monacoThemesInitialized = false;\n\nexport class CodeEditor extends React.Component<Props, State> {\n  state = {\n    MonacoEditor: null,\n    error: null,\n  };\n\n  setupEditorThemes = (monaco: any) => {\n    if (!monacoThemesInitialized) {\n      monacoThemesInitialized = true;\n\n      getAllThemes().forEach(codeEditorTheme => {\n        // Builtin themes don't have themeData, don't redefine them.\n        if (codeEditorTheme.themeData) {\n          monaco.editor.defineTheme(\n            codeEditorTheme.themeName,\n            codeEditorTheme.themeData\n          );\n        }\n      });\n    }\n  };\n\n  setupEditorCompletions = (editor: any, monaco: any) => {\n    if (!monacoCompletionsInitialized) {\n      monacoCompletionsInitialized = true;\n\n      monaco.languages.typescript.javascriptDefaults.setCompilerOptions({\n        // noLib: true,\n        target: monaco.languages.typescript.ScriptTarget.ES6,\n        allowNonTsExtensions: true,\n        allowJs: true,\n        checkJs: true,\n      });\n      setupAutocompletions(monaco);\n    }\n\n    if (this.props.onEditorMounted) this.props.onEditorMounted();\n  };\n\n  componentDidMount() {\n    this.loadMonacoEditor();\n  }\n\n  handleLoadError(error: Error) {\n    this.setState({\n      error,\n    });\n  }\n\n  loadMonacoEditor() {\n    this.setState({\n      error: null,\n    });\n    import(/* webpackChunkName: \"react-monaco-editor\" */ 'react-monaco-editor')\n      .then(module =>\n        this.setState({\n          MonacoEditor: module.default,\n        })\n      )\n      .catch(this.handleLoadError);\n  }\n\n  _handleContextMenu = (event: SyntheticEvent<>) => {\n    // Prevent right click to bubble up and trigger the context menu\n    // of the event.\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  render() {\n    const { MonacoEditor, error } = this.state;\n    if (error) {\n      return (\n        <React.Fragment>\n          <p>\n            <Trans>Unable to load the code editor</Trans>\n          </p>\n          <RaisedButton\n            label={<Trans>Retry</Trans>}\n            onClick={this.loadMonacoEditor}\n          />\n        </React.Fragment>\n      );\n    }\n\n    if (!MonacoEditor) {\n      return <PlaceholderLoader />;\n    }\n\n    return (\n      <div onContextMenu={this._handleContextMenu}>\n        <PreferencesContext.Consumer>\n          {({ values }) => (\n            <MonacoEditor\n              width={this.props.width || 600}\n              height=\"400\"\n              language=\"javascript\"\n              theme={values.codeEditorThemeName}\n              value={this.props.value}\n              onChange={this.props.onChange}\n              editorWillMount={this.setupEditorThemes}\n              editorDidMount={this.setupEditorCompletions}\n              options={monacoEditorOptions}\n            />\n          )}\n        </PreferencesContext.Consumer>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Checkbox from 'material-ui/Checkbox';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport Dialog from '../UI/Dialog';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport SubscriptionChecker from '../Profile/SubscriptionChecker';\nimport { getErrors, displayProjectErrorsBox } from './ProjectErrorsChecker';\nimport DismissableAlertMessage from '../UI/DismissableAlertMessage';\nimport { Line, Column } from '../UI/Grid';\n\ntype Props = {|\n  project: gdProject,\n  open: boolean,\n  onClose: Function,\n  onApply: Function,\n  onChangeSubscription: () => void,\n|};\n\ntype State = {|\n  windowDefaultWidth: number,\n  windowDefaultHeight: number,\n  name: string,\n  author: string,\n  version: string,\n  packageName: string,\n  orientation: string,\n  adMobAppId: string,\n  scaleMode: 'linear' | 'nearest',\n  sizeOnStartupMode: string,\n  showGDevelopSplash: boolean,\n  minFPS: number,\n  maxFPS: number,\n  isFolderProject: boolean,\n|};\n\nclass ProjectPropertiesDialog extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = this._loadFrom(props.project);\n  }\n\n  _subscriptionChecker: ?SubscriptionChecker = null;\n\n  _loadFrom(project: gdProject): State {\n    return {\n      windowDefaultWidth: project.getMainWindowDefaultWidth(),\n      windowDefaultHeight: project.getMainWindowDefaultHeight(),\n      name: project.getName(),\n      author: project.getAuthor(),\n      version: project.getVersion(),\n      packageName: project.getPackageName(),\n      orientation: project.getOrientation(),\n      adMobAppId: project.getAdMobAppId(),\n      scaleMode: project.getScaleMode(),\n      sizeOnStartupMode: project.getSizeOnStartupMode(),\n      showGDevelopSplash: project.getLoadingScreen().isGDevelopSplashShown(),\n      minFPS: project.getMinimumFPS(),\n      maxFPS: project.getMaximumFPS(),\n      isFolderProject: project.isFolderProject(),\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.project !== newProps.project)\n    ) {\n      this.setState(this._loadFrom(newProps.project));\n    }\n  }\n\n  _onApply = () => {\n    const t = str => str; //TODO\n    const { project } = this.props;\n    const {\n      windowDefaultWidth,\n      windowDefaultHeight,\n      name,\n      author,\n      version,\n      packageName,\n      orientation,\n      adMobAppId,\n      scaleMode,\n      sizeOnStartupMode,\n      showGDevelopSplash,\n      minFPS,\n      maxFPS,\n      isFolderProject,\n    } = this.state;\n    project.setDefaultWidth(windowDefaultWidth);\n    project.setDefaultHeight(windowDefaultHeight);\n    project.setName(name);\n    project.setAuthor(author);\n    project.setVersion(version);\n    project.setPackageName(packageName);\n    project.setOrientation(orientation);\n    project.setAdMobAppId(adMobAppId);\n    project.setScaleMode(scaleMode);\n    project.setSizeOnStartupMode(sizeOnStartupMode);\n    project.setMinimumFPS(minFPS);\n    project.setMaximumFPS(maxFPS);\n    project.getLoadingScreen().showGDevelopSplash(showGDevelopSplash);\n    project.setFolderProject(isFolderProject);\n\n    if (!displayProjectErrorsBox(t, getErrors(t, project))) return;\n\n    this.props.onApply();\n  };\n\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={this.props.onClose}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={this._onApply}\n      />,\n    ];\n    const {\n      name,\n      windowDefaultWidth,\n      windowDefaultHeight,\n      author,\n      version,\n      packageName,\n      orientation,\n      adMobAppId,\n      scaleMode,\n      sizeOnStartupMode,\n      showGDevelopSplash,\n      minFPS,\n      maxFPS,\n      isFolderProject,\n    } = this.state;\n\n    const defaultPackageName = 'com.example.mygame';\n    const admobHint = 'ca-app-pub-XXXXXXXXXXXXXXXX/YYYYYYYYYY';\n    const defaultVersion = '1.0.0';\n\n    return (\n      <React.Fragment>\n        <Dialog\n          actions={actions}\n          open={this.props.open}\n          onRequestClose={this.props.onClose}\n          autoScrollBodyContent={true}\n        >\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Game name</Trans>}\n            fullWidth\n            type=\"text\"\n            value={name}\n            onChange={value => this.setState({ name: value })}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Game's window width</Trans>}\n            fullWidth\n            type=\"number\"\n            value={'' + windowDefaultWidth}\n            onChange={value =>\n              this.setState({\n                windowDefaultWidth: Math.max(0, parseInt(value, 10)),\n              })\n            }\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Game's window height</Trans>}\n            fullWidth\n            type=\"number\"\n            value={'' + windowDefaultHeight}\n            onChange={value =>\n              this.setState({\n                windowDefaultHeight: Math.max(0, parseInt(value, 10)),\n              })\n            }\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Author name</Trans>}\n            fullWidth\n            hintText={<Trans>Your name</Trans>}\n            type=\"text\"\n            value={author}\n            onChange={value => this.setState({ author: value })}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Version number (X.Y.Z)</Trans>}\n            fullWidth\n            hintText={defaultVersion}\n            type=\"text\"\n            value={version}\n            onChange={value => this.setState({ version: value })}\n          />\n          <SelectField\n            fullWidth\n            floatingLabelText={<Trans>Project file type</Trans>}\n            value={isFolderProject}\n            onChange={(e, i, value) =>\n              this.setState({ isFolderProject: value })\n            }\n          >\n            <MenuItem\n              value={false}\n              primaryText={<Trans>Single file (default)</Trans>}\n            />\n            <MenuItem\n              value={true}\n              primaryText={\n                <Trans>\n                  Multiple files, saved in folder next to the main file\n                </Trans>\n              }\n            />\n          </SelectField>\n          <Line noMargin>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                floatingLabelText={<Trans>Minimum FPS</Trans>}\n                fullWidth\n                type=\"number\"\n                value={'' + minFPS}\n                onChange={value =>\n                  this.setState({\n                    minFPS: Math.max(0, parseInt(value, 10)),\n                  })\n                }\n              />\n            </Column>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                floatingLabelText={<Trans>Maximum FPS (0 to disable)</Trans>}\n                fullWidth\n                type=\"number\"\n                value={'' + maxFPS}\n                onChange={value =>\n                  this.setState({\n                    maxFPS: Math.max(0, parseInt(value, 10)),\n                  })\n                }\n              />\n            </Column>\n          </Line>\n          {maxFPS > 0 && maxFPS < 60 && (\n            <DismissableAlertMessage\n              identifier=\"maximum-fps-too-low\"\n              kind=\"warning\"\n            >\n              <Trans>\n                Most monitors have a refresh rate of 60 FPS. Setting a maximum\n                number of FPS under 60 will force the game to skip frames, and\n                the real number of FPS will be way below 60, making the game\n                laggy and impacting the gameplay negatively. Consider putting 60\n                or more for the maximum number or FPS, or disable it by setting\n                0.\n              </Trans>\n            </DismissableAlertMessage>\n          )}\n          {minFPS < 20 && (\n            <DismissableAlertMessage\n              identifier=\"minimum-fps-too-low\"\n              kind=\"warning\"\n            >\n              <Trans>\n                Setting the minimum number of FPS below 20 will increase a lot\n                the time that is allowed between the simulation of two frames of\n                the game. If case of a sudden slowdown, or on slow computers,\n                this can create buggy behaviors like objects passing beyond a\n                wall. Consider setting 20 as the minimum FPS.\n              </Trans>\n            </DismissableAlertMessage>\n          )}\n          <SemiControlledTextField\n            floatingLabelText={\n              <Trans>Package name (for iOS and Android)</Trans>\n            }\n            fullWidth\n            hintText={defaultPackageName}\n            type=\"text\"\n            value={packageName}\n            onChange={value => this.setState({ packageName: value })}\n          />\n          <SelectField\n            fullWidth\n            floatingLabelText={\n              <Trans>Device orientation (for iOS and Android)</Trans>\n            }\n            value={orientation}\n            onChange={(e, i, value) => this.setState({ orientation: value })}\n          >\n            <MenuItem\n              value=\"default\"\n              primaryText={<Trans>Platform default</Trans>}\n            />\n            <MenuItem\n              value=\"landscape\"\n              primaryText={<Trans>Landscape</Trans>}\n            />\n            <MenuItem value=\"portrait\" primaryText={<Trans>Portrait</Trans>} />\n          </SelectField>\n          <SelectField\n            fullWidth\n            floatingLabelText={\n              <Trans>Scale mode (also called \"Sampling\")</Trans>\n            }\n            floatingLabelFixed\n            value={scaleMode}\n            onChange={(e, i, value) => this.setState({ scaleMode: value })}\n          >\n            <MenuItem\n              value=\"linear\"\n              primaryText={\n                <Trans>\n                  Linear (antialiased rendering, good for most games)\n                </Trans>\n              }\n            />\n            <MenuItem\n              value=\"nearest\"\n              primaryText={\n                <Trans>\n                  Nearest (no antialiasing, good for pixel perfect games)\n                </Trans>\n              }\n            />\n          </SelectField>\n          {scaleMode === 'nearest' && (\n            <DismissableAlertMessage\n              identifier=\"use-non-smoothed-textures\"\n              kind=\"info\"\n            >\n              <Trans>\n                To obtain the best pixel-perfect effect possible, go in the\n                resources editor and disable the Smoothing for all images of\n                your game.\n              </Trans>\n            </DismissableAlertMessage>\n          )}\n          <SelectField\n            fullWidth\n            floatingLabelText={<Trans>Fullscreen/game size mode</Trans>}\n            floatingLabelFixed\n            value={sizeOnStartupMode}\n            onChange={(e, i, value) =>\n              this.setState({ sizeOnStartupMode: value })\n            }\n          >\n            <MenuItem\n              value=\"\"\n              primaryText={<Trans>No changes to the game size</Trans>}\n            />\n            <MenuItem\n              value=\"adaptWidth\"\n              primaryText={<Trans>Change width to fit the screen</Trans>}\n            />\n            <MenuItem\n              value=\"adaptHeight\"\n              primaryText={<Trans>Change height to fit the screen</Trans>}\n            />\n          </SelectField>\n          <SemiControlledTextField\n            floatingLabelText={\n              <Trans>AdMob application ID (for iOS and Android)</Trans>\n            }\n            fullWidth\n            hintText={admobHint}\n            type=\"text\"\n            value={adMobAppId}\n            onChange={value => this.setState({ adMobAppId: value })}\n          />\n          <Checkbox\n            label={\n              <Trans>\n                Display GDevelop splash at startup (in exported game)\n              </Trans>\n            }\n            checked={showGDevelopSplash}\n            onCheck={(e, checked) => {\n              if (!checked) {\n                if (\n                  this._subscriptionChecker &&\n                  !this._subscriptionChecker.checkHasSubscription()\n                )\n                  return;\n              }\n\n              this.setState({\n                showGDevelopSplash: checked,\n              });\n            }}\n          />\n        </Dialog>\n        <SubscriptionChecker\n          ref={subscriptionChecker =>\n            (this._subscriptionChecker = subscriptionChecker)\n          }\n          onChangeSubscription={() => {\n            this.props.onClose();\n            this.props.onChangeSubscription();\n          }}\n          mode=\"mandatory\"\n          id=\"Disable GDevelop splash at startup\"\n          title={<Trans>Disable GDevelop splash at startup</Trans>}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ProjectPropertiesDialog;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport TextField from 'material-ui/TextField';\nimport SearchBar from 'material-ui-search-bar';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport RefreshIcon from 'material-ui/svg-icons/navigation/refresh';\nimport WarningIcon from 'material-ui/svg-icons/alert/warning';\nimport IconButton from 'material-ui/IconButton';\nimport ListIcon from '../UI/ListIcon';\nimport { makeAddItem } from '../UI/ListAddItem';\nimport Window from '../Utils/Window';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport VariablesEditorDialog from '../VariablesList/VariablesEditorDialog';\nimport ProjectPropertiesDialog from './ProjectPropertiesDialog';\nimport {\n  enumerateLayouts,\n  enumerateExternalEvents,\n  enumerateExternalLayouts,\n  enumerateEventsFunctionsExtensions,\n  filterProjectItemsList,\n} from './EnumerateProjectItems';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport ThemeConsumer from '../UI/Theme/ThemeConsumer';\n\nconst LAYOUT_CLIPBOARD_KIND = 'Layout';\nconst EXTERNAL_LAYOUT_CLIPBOARD_KIND = 'External layout';\nconst EXTERNAL_EVENTS_CLIPBOARD_KIND = 'External events';\nconst EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND = 'Events Functions Extension';\n\nconst styles = {\n  container: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  list: {\n    flex: 1,\n    overflowY: 'scroll',\n    padding: 0,\n  },\n  projectStructureItemNestedList: {\n    padding: 0,\n  },\n  itemName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  itemTextField: {\n    top: -16,\n  },\n};\n\ntype ProjectStructureItemProps = {|\n  autoGenerateNestedIndicator: boolean,\n  initiallyOpen: boolean,\n  leftIcon: React$Element<any>,\n  nestedItems: Array<React$Element<any>>,\n  primaryText: React.Node,\n  primaryTogglesNestedList: boolean,\n  error?: ?Error,\n  onRefresh?: () => void,\n  open?: boolean,\n|};\n\nconst ProjectStructureItem = ({\n  onRefresh,\n  ...props\n}: ProjectStructureItemProps) => (\n  <ThemeConsumer>\n    {muiTheme => (\n      <ListItem\n        style={{\n          backgroundColor: muiTheme.listItem.groupBackgroundColor,\n          borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n        }}\n        nestedListStyle={styles.projectStructureItemNestedList}\n        {...props}\n        leftIcon={props.error ? <WarningIcon /> : props.leftIcon}\n        rightIconButton={\n          props.error ? (\n            <IconButton\n              tooltip={`An error has occured in functions. Click to reload them.`}\n              tooltipPosition=\"bottom-left\"\n              onClick={onRefresh}\n            >\n              <RefreshIcon />\n            </IconButton>\n          ) : (\n            undefined\n          )\n        }\n      />\n    )}\n  </ThemeConsumer>\n);\n\ntype ItemProps = {|\n  primaryText: string,\n  editingName: boolean,\n  onEdit: () => void,\n  onDelete: () => void,\n  onRename: string => void,\n  onEditName: () => void,\n  onCopy: () => void,\n  onCut: () => void,\n  onPaste: () => void,\n  canPaste: () => boolean,\n  canMoveUp: boolean,\n  onMoveUp: () => void,\n  canMoveDown: boolean,\n  onMoveDown: () => void,\n  rightIconButton?: ?React.Node,\n  style?: ?Object,\n|};\n\nclass Item extends React.Component<ItemProps, {||}> {\n  textField: ?Object;\n  _iconMenu: ?Object;\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editingName && this.props.editingName) {\n      setTimeout(() => {\n        if (this.textField) this.textField.focus();\n      }, 100);\n    }\n  }\n\n  _onContextMenu = event => {\n    if (this._iconMenu) this._iconMenu.open(event);\n  };\n\n  render() {\n    const rightIconButton = this.props.rightIconButton || (\n      <IconMenu\n        ref={iconMenu => (this._iconMenu = iconMenu)}\n        iconButtonElement={\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        }\n        buildMenuTemplate={() => [\n          {\n            label: 'Edit',\n            click: () => this.props.onEdit(),\n          },\n          {\n            label: 'Rename',\n            click: () => this.props.onEditName(),\n          },\n          {\n            label: 'Delete',\n            click: () => this.props.onDelete(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Copy',\n            click: () => this.props.onCopy(),\n          },\n          {\n            label: 'Cut',\n            click: () => this.props.onCut(),\n          },\n          {\n            label: 'Paste',\n            enabled: this.props.canPaste(),\n            click: () => this.props.onPaste(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Move up',\n            enabled: this.props.canMoveUp,\n            click: () => this.props.onMoveUp(),\n          },\n          {\n            label: 'Move down',\n            enabled: this.props.canMoveDown,\n            click: () => this.props.onMoveDown(),\n          },\n        ]}\n      />\n    );\n    const label = this.props.editingName ? (\n      <TextField\n        id=\"rename-item-field\"\n        ref={textField => (this.textField = textField)}\n        defaultValue={this.props.primaryText}\n        onBlur={e => this.props.onRename(e.target.value)}\n        onKeyPress={event => {\n          if (event.charCode === 13) {\n            // enter key pressed\n            if (this.textField) this.textField.blur();\n          }\n        }}\n        fullWidth\n        style={styles.itemTextField}\n      />\n    ) : (\n      <div style={styles.itemName}>{this.props.primaryText}</div>\n    );\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <ListItem\n            style={{\n              borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n              ...this.props.style,\n            }}\n            onContextMenu={this._onContextMenu}\n            primaryText={label}\n            rightIconButton={rightIconButton}\n            onClick={() => {\n              // It's essential to discard clicks when editing the name,\n              // to avoid weird opening of an editor (accompanied with a\n              // closing of the project manager) when clicking on the text\n              // field.\n              if (!this.props.editingName) this.props.onEdit();\n            }}\n          />\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n\nconst AddItem = makeAddItem(ListItem);\n\ntype Props = {|\n  project: gdProject,\n  onDeleteLayout: gdLayout => void,\n  onDeleteExternalEvents: gdExternalEvents => void,\n  onDeleteExternalLayout: gdExternalLayout => void,\n  onDeleteEventsFunctionsExtension: gdEventsFunctionsExtension => void,\n  onRenameLayout: (string, string) => void,\n  onRenameExternalEvents: (string, string) => void,\n  onRenameExternalLayout: (string, string) => void,\n  onRenameEventsFunctionsExtension: (string, string) => void,\n  onOpenLayout: string => void,\n  onOpenExternalEvents: string => void,\n  onOpenExternalLayout: string => void,\n  onOpenEventsFunctionsExtension: string => void,\n  onSaveProject: () => void,\n  onCloseProject: () => void,\n  onExportProject: () => void,\n  onOpenPreferences: () => void,\n  onOpenResources: () => void,\n  onAddLayout: () => void,\n  onAddExternalEvents: () => void,\n  onAddExternalLayout: () => void,\n  onAddEventsFunctionsExtension: () => void,\n  onOpenPlatformSpecificAssets: () => void,\n  onChangeSubscription: () => void,\n  eventsFunctionsExtensionsError: ?Error,\n  onReloadEventsFunctionsExtensions: () => void,\n  freezeUpdate: boolean,\n|};\n\ntype State = {|\n  renamedItemKind: ?string,\n  renamedItemName: string,\n  searchText: string,\n  projectPropertiesDialogOpen: boolean,\n  variablesEditorOpen: boolean,\n|};\n\nexport default class ProjectManager extends React.Component<Props, State> {\n  _searchBar: ?SearchBar;\n\n  state = {\n    renamedItemKind: null,\n    renamedItemName: '',\n    searchText: '',\n    projectPropertiesDialogOpen: false,\n    variablesEditorOpen: false,\n  };\n\n  shouldComponentUpdate(nextProps: Props) {\n    // Rendering the component is (super) costly (~20ms) as it iterates over\n    // every project layouts/external layouts/external events,\n    // so the prop freezeUpdate allow to ask the component to stop\n    // updating, for example when hidden.\n    return !nextProps.freezeUpdate;\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    // Typical usage (don't forget to compare props):\n    if (!this.props.freezeUpdate && prevProps.freezeUpdate) {\n      if (this._searchBar) this._searchBar.focus();\n    }\n  }\n\n  _onEditName = (kind: ?string, name: string) => {\n    this.setState({\n      renamedItemKind: kind,\n      renamedItemName: name,\n    });\n  };\n\n  _copyLayout = (layout: gdLayout) => {\n    Clipboard.set(LAYOUT_CLIPBOARD_KIND, {\n      layout: serializeToJSObject(layout),\n      name: layout.getName(),\n    });\n  };\n\n  _cutLayout = (layout: gdLayout) => {\n    this._copyLayout(layout);\n    this.props.onDeleteLayout(layout);\n  };\n\n  _pasteLayout = (index: number) => {\n    if (!Clipboard.has(LAYOUT_CLIPBOARD_KIND)) return;\n\n    const { layout: copiedLayout, name } = Clipboard.get(LAYOUT_CLIPBOARD_KIND);\n    const { project } = this.props;\n\n    const newName = newNameGenerator('CopyOf' + name, name =>\n      project.hasLayoutNamed(name)\n    );\n\n    const newLayout = project.insertNewLayout(newName, index);\n\n    unserializeFromJSObject(\n      newLayout,\n      copiedLayout,\n      'unserializeFrom',\n      project\n    );\n    newLayout.setName(newName);\n    newLayout.updateBehaviorsSharedData(project);\n\n    this.forceUpdate();\n  };\n\n  _moveUpLayout = (index: number) => {\n    const { project } = this.props;\n    if (index <= 0) return;\n\n    project.swapLayouts(index, index - 1);\n    this.forceUpdate();\n  };\n\n  _moveDownLayout = (index: number) => {\n    const { project } = this.props;\n    if (index >= project.getLayoutsCount() - 1) return;\n\n    project.swapLayouts(index, index + 1);\n    this.forceUpdate();\n  };\n\n  _copyExternalEvents = (externalEvents: gdExternalEvents) => {\n    Clipboard.set(EXTERNAL_EVENTS_CLIPBOARD_KIND, {\n      externalEvents: serializeToJSObject(externalEvents),\n      name: externalEvents.getName(),\n    });\n  };\n\n  _cutExternalEvents = (externalEvents: gdExternalEvents) => {\n    this._copyExternalEvents(externalEvents);\n    this.props.onDeleteExternalEvents(externalEvents);\n  };\n\n  _pasteExternalEvents = (index: number) => {\n    if (!Clipboard.has(EXTERNAL_EVENTS_CLIPBOARD_KIND)) return;\n\n    const { externalEvents: copiedExternalEvents, name } = Clipboard.get(\n      EXTERNAL_EVENTS_CLIPBOARD_KIND\n    );\n    const { project } = this.props;\n\n    const newName = newNameGenerator('CopyOf' + name, name =>\n      project.hasExternalEventsNamed(name)\n    );\n\n    const newExternalEvents = project.insertNewExternalEvents(newName, index);\n\n    unserializeFromJSObject(\n      newExternalEvents,\n      copiedExternalEvents,\n      'unserializeFrom',\n      project\n    );\n    newExternalEvents.setName(newName);\n\n    this.forceUpdate();\n  };\n\n  _moveUpExternalEvents = (index: number) => {\n    const { project } = this.props;\n    if (index <= 0) return;\n\n    project.swapExternalEvents(index, index - 1);\n    this.forceUpdate();\n  };\n\n  _moveDownExternalEvents = (index: number) => {\n    const { project } = this.props;\n    if (index >= project.getExternalEventsCount() - 1) return;\n\n    project.swapExternalEvents(index, index + 1);\n    this.forceUpdate();\n  };\n\n  _copyExternalLayout = (externalLayout: gdExternalLayout) => {\n    Clipboard.set(EXTERNAL_LAYOUT_CLIPBOARD_KIND, {\n      externalLayout: serializeToJSObject(externalLayout),\n      name: externalLayout.getName(),\n    });\n  };\n\n  _cutExternalLayout = (externalLayout: gdExternalLayout) => {\n    this._copyExternalLayout(externalLayout);\n    this.props.onDeleteExternalLayout(externalLayout);\n  };\n\n  _pasteExternalLayout = (index: number) => {\n    if (!Clipboard.has(EXTERNAL_LAYOUT_CLIPBOARD_KIND)) return;\n\n    const { externalLayout: copiedExternalLayout, name } = Clipboard.get(\n      EXTERNAL_LAYOUT_CLIPBOARD_KIND\n    );\n    const { project } = this.props;\n\n    const newName = newNameGenerator('CopyOf' + name, name =>\n      project.hasExternalLayoutNamed(name)\n    );\n\n    const newExternalLayout = project.insertNewExternalLayout(newName, index);\n\n    unserializeFromJSObject(newExternalLayout, copiedExternalLayout);\n    newExternalLayout.setName(newName);\n\n    this.forceUpdate();\n  };\n\n  _moveUpExternalLayout = (index: number) => {\n    const { project } = this.props;\n    if (index <= 0) return;\n\n    project.swapExternalLayouts(index, index - 1);\n    this.forceUpdate();\n  };\n\n  _moveDownExternalLayout = (index: number) => {\n    const { project } = this.props;\n    if (index >= project.getExternalLayoutsCount() - 1) return;\n\n    project.swapExternalLayouts(index, index + 1);\n    this.forceUpdate();\n  };\n\n  _copyEventsFunctionsExtension = (\n    externalLayout: gdEventsFunctionsExtension\n  ) => {\n    Clipboard.set(EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND, {\n      externalLayout: serializeToJSObject(externalLayout),\n      name: externalLayout.getName(),\n    });\n  };\n\n  _cutEventsFunctionsExtension = (\n    externalLayout: gdEventsFunctionsExtension\n  ) => {\n    this._copyEventsFunctionsExtension(externalLayout);\n    this.props.onDeleteEventsFunctionsExtension(externalLayout);\n  };\n\n  _pasteEventsFunctionsExtension = (index: number) => {\n    if (!Clipboard.has(EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND)) return;\n\n    const {\n      externalLayout: copiedEventsFunctionsExtension,\n      name,\n    } = Clipboard.get(EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND);\n    const { project } = this.props;\n\n    const newName = newNameGenerator('CopyOf' + name, name =>\n      project.hasEventsFunctionsExtensionNamed(name)\n    );\n\n    const newEventsFunctionsExtension = project.insertNewEventsFunctionsExtension(\n      newName,\n      index\n    );\n\n    unserializeFromJSObject(\n      newEventsFunctionsExtension,\n      copiedEventsFunctionsExtension\n    );\n    newEventsFunctionsExtension.setName(newName);\n\n    this.forceUpdate();\n  };\n\n  _moveUpEventsFunctionsExtension = (index: number) => {\n    const { project } = this.props;\n    if (index <= 0) return;\n\n    project.swapEventsFunctionsExtensions(index, index - 1);\n    this.forceUpdate();\n  };\n\n  _moveDownEventsFunctionsExtension = (index: number) => {\n    const { project } = this.props;\n    if (index >= project.getEventsFunctionsExtensionsCount() - 1) return;\n\n    project.swapEventsFunctionsExtensions(index, index + 1);\n    this.forceUpdate();\n  };\n\n  _renderMenu() {\n    // If there is already a main menu (as the native one made with\n    // Electron), don't show it in the Project Manager.\n    if (Window.hasMainMenu()) return null;\n\n    return (\n      <ProjectStructureItem\n        primaryText={<Trans>Menu</Trans>}\n        leftIcon={\n          <ListIcon\n            iconSize={32}\n            isGDevelopIcon\n            src=\"res/ribbon_default/new32.png\"\n          />\n        }\n        initiallyOpen={true}\n        primaryTogglesNestedList={true}\n        autoGenerateNestedIndicator={true}\n        nestedItems={[\n          <ListItem\n            key=\"save\"\n            primaryText={<Trans>Save</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/save32.png\"\n              />\n            }\n            onClick={() => this.props.onSaveProject()}\n          />,\n          <ListItem\n            key=\"close\"\n            primaryText={<Trans>Close</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/close32.png\"\n              />\n            }\n            onClick={() => this.props.onCloseProject()}\n          />,\n          <ListItem\n            key=\"export\"\n            primaryText={<Trans>Export</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/export32.png\"\n              />\n            }\n            onClick={() => this.props.onExportProject()}\n          />,\n          <ListItem\n            key=\"preferences\"\n            primaryText={<Trans>Preferences</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/pref32.png\"\n              />\n            }\n            onClick={() => this.props.onOpenPreferences()}\n          />,\n        ]}\n      />\n    );\n  }\n\n  render() {\n    const {\n      project,\n      eventsFunctionsExtensionsError,\n      onReloadEventsFunctionsExtensions,\n    } = this.props;\n    const { renamedItemKind, renamedItemName, searchText } = this.state;\n\n    const forceOpen = searchText !== '' ? true : undefined;\n\n    return (\n      <div style={styles.container}>\n        <List style={styles.list}>\n          {this._renderMenu()}\n          <ProjectStructureItem\n            primaryText={<Trans>Game settings</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/projectManager32.png\"\n              />\n            }\n            initiallyOpen={false}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={true}\n            nestedItems={[\n              <ListItem\n                key=\"properties\"\n                primaryText={<Trans>Properties</Trans>}\n                leftIcon={\n                  <ListIcon\n                    iconSize={32}\n                    isGDevelopIcon\n                    src=\"res/ribbon_default/editprop32.png\"\n                  />\n                }\n                onClick={() =>\n                  this.setState({ projectPropertiesDialogOpen: true })\n                }\n              />,\n              <ListItem\n                key=\"global-variables\"\n                primaryText={<Trans>Global variables</Trans>}\n                leftIcon={\n                  <ListIcon\n                    iconSize={32}\n                    isGDevelopIcon\n                    src=\"res/ribbon_default/editname32.png\"\n                  />\n                }\n                onClick={() => this.setState({ variablesEditorOpen: true })}\n              />,\n              <ListItem\n                key=\"icons\"\n                primaryText={<Trans>Icons</Trans>}\n                leftIcon={\n                  <ListIcon\n                    iconSize={32}\n                    isGDevelopIcon\n                    src=\"res/ribbon_default/image32.png\"\n                  />\n                }\n                onClick={() => this.props.onOpenPlatformSpecificAssets()}\n              />,\n              <ListItem\n                key=\"resources\"\n                primaryText={<Trans>Resources</Trans>}\n                leftIcon={\n                  <ListIcon\n                    iconSize={32}\n                    isGDevelopIcon\n                    src=\"res/ribbon_default/image32.png\"\n                  />\n                }\n                onClick={() => {\n                  this.props.onOpenResources();\n                }}\n              />,\n            ]}\n          />\n          <ProjectStructureItem\n            primaryText={<Trans>Scenes</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/sceneadd32.png\"\n              />\n            }\n            initiallyOpen={true}\n            open={forceOpen}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={!forceOpen}\n            nestedItems={filterProjectItemsList(\n              enumerateLayouts(project),\n              searchText\n            )\n              .map((layout: gdLayout, i: number) => {\n                const name = layout.getName();\n                return (\n                  <Item\n                    key={i}\n                    primaryText={name}\n                    editingName={\n                      renamedItemKind === 'layout' && renamedItemName === name\n                    }\n                    onEdit={() => this.props.onOpenLayout(name)}\n                    onDelete={() => this.props.onDeleteLayout(layout)}\n                    onRename={newName => {\n                      this.props.onRenameLayout(name, newName);\n                      this._onEditName(null, '');\n                    }}\n                    onEditName={() => this._onEditName('layout', name)}\n                    onCopy={() => this._copyLayout(layout)}\n                    onCut={() => this._cutLayout(layout)}\n                    onPaste={() => this._pasteLayout(i)}\n                    canPaste={() => Clipboard.has(LAYOUT_CLIPBOARD_KIND)}\n                    canMoveUp={i !== 0}\n                    onMoveUp={() => this._moveUpLayout(i)}\n                    canMoveDown={i !== project.getLayoutsCount() - 1}\n                    onMoveDown={() => this._moveDownLayout(i)}\n                  />\n                );\n              })\n              .concat(\n                <AddItem\n                  key={'add-scene'}\n                  onClick={this.props.onAddLayout}\n                  primaryText={<Trans>Click to add a scene</Trans>}\n                />\n              )}\n          />\n          <ProjectStructureItem\n            primaryText={<Trans>External events</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/externalevents32.png\"\n              />\n            }\n            initiallyOpen={false}\n            open={forceOpen}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={!forceOpen}\n            nestedItems={filterProjectItemsList(\n              enumerateExternalEvents(project),\n              searchText\n            )\n              .map((externalEvents, i) => {\n                const name = externalEvents.getName();\n                return (\n                  <Item\n                    key={i}\n                    primaryText={name}\n                    editingName={\n                      renamedItemKind === 'external-events' &&\n                      renamedItemName === name\n                    }\n                    onEdit={() => this.props.onOpenExternalEvents(name)}\n                    onDelete={() =>\n                      this.props.onDeleteExternalEvents(externalEvents)\n                    }\n                    onRename={newName => {\n                      this.props.onRenameExternalEvents(name, newName);\n                      this._onEditName(null, '');\n                    }}\n                    onEditName={() => this._onEditName('external-events', name)}\n                    onCopy={() => this._copyExternalEvents(externalEvents)}\n                    onCut={() => this._cutExternalEvents(externalEvents)}\n                    onPaste={() => this._pasteExternalEvents(i)}\n                    canPaste={() =>\n                      Clipboard.has(EXTERNAL_EVENTS_CLIPBOARD_KIND)\n                    }\n                    canMoveUp={i !== 0}\n                    onMoveUp={() => this._moveUpExternalEvents(i)}\n                    canMoveDown={i !== project.getExternalEventsCount() - 1}\n                    onMoveDown={() => this._moveDownExternalEvents(i)}\n                  />\n                );\n              })\n              .concat(\n                <AddItem\n                  key={'add-external-events'}\n                  primaryText={<Trans>Click to add external events</Trans>}\n                  onClick={this.props.onAddExternalEvents}\n                />\n              )}\n          />\n          <ProjectStructureItem\n            primaryText={<Trans>External layouts</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/externallayout32.png\"\n              />\n            }\n            initiallyOpen={false}\n            open={forceOpen}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={!forceOpen}\n            nestedItems={filterProjectItemsList(\n              enumerateExternalLayouts(project),\n              searchText\n            )\n              .map((externalLayout, i) => {\n                const name = externalLayout.getName();\n                return (\n                  <Item\n                    key={i}\n                    primaryText={name}\n                    editingName={\n                      renamedItemKind === 'external-layout' &&\n                      renamedItemName === name\n                    }\n                    onEdit={() => this.props.onOpenExternalLayout(name)}\n                    onDelete={() =>\n                      this.props.onDeleteExternalLayout(externalLayout)\n                    }\n                    onRename={newName => {\n                      this.props.onRenameExternalLayout(name, newName);\n                      this._onEditName(null, '');\n                    }}\n                    onEditName={() => this._onEditName('external-layout', name)}\n                    onCopy={() => this._copyExternalLayout(externalLayout)}\n                    onCut={() => this._cutExternalLayout(externalLayout)}\n                    onPaste={() => this._pasteExternalLayout(i)}\n                    canPaste={() =>\n                      Clipboard.has(EXTERNAL_LAYOUT_CLIPBOARD_KIND)\n                    }\n                    canMoveUp={i !== 0}\n                    onMoveUp={() => this._moveUpExternalLayout(i)}\n                    canMoveDown={i !== project.getExternalLayoutsCount() - 1}\n                    onMoveDown={() => this._moveDownExternalLayout(i)}\n                  />\n                );\n              })\n              .concat(\n                <AddItem\n                  key={'add-external-layout'}\n                  primaryText={<Trans>Click to add an external layout</Trans>}\n                  onClick={this.props.onAddExternalLayout}\n                />\n              )}\n          />\n          <ProjectStructureItem\n            primaryText={<Trans>Functions/Extensions</Trans>}\n            error={eventsFunctionsExtensionsError}\n            onRefresh={onReloadEventsFunctionsExtensions}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/function32.png\"\n              />\n            }\n            initiallyOpen={false}\n            open={forceOpen}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={\n              !forceOpen && !eventsFunctionsExtensionsError\n            }\n            nestedItems={filterProjectItemsList(\n              enumerateEventsFunctionsExtensions(project),\n              searchText\n            )\n              .map((eventsFunctionsExtension, i) => {\n                const name = eventsFunctionsExtension.getName();\n                return (\n                  <Item\n                    key={i}\n                    primaryText={name}\n                    editingName={\n                      renamedItemKind === 'events-functions-extension' &&\n                      renamedItemName === name\n                    }\n                    onEdit={() =>\n                      this.props.onOpenEventsFunctionsExtension(name)\n                    }\n                    onDelete={() =>\n                      this.props.onDeleteEventsFunctionsExtension(\n                        eventsFunctionsExtension\n                      )\n                    }\n                    onRename={newName => {\n                      this.props.onRenameEventsFunctionsExtension(\n                        name,\n                        newName\n                      );\n                      this._onEditName(null, '');\n                    }}\n                    onEditName={() =>\n                      this._onEditName('events-functions-extension', name)\n                    }\n                    onCopy={() =>\n                      this._copyEventsFunctionsExtension(\n                        eventsFunctionsExtension\n                      )\n                    }\n                    onCut={() =>\n                      this._cutEventsFunctionsExtension(\n                        eventsFunctionsExtension\n                      )\n                    }\n                    onPaste={() => this._pasteEventsFunctionsExtension(i)}\n                    canPaste={() =>\n                      Clipboard.has(EXTERNAL_LAYOUT_CLIPBOARD_KIND)\n                    }\n                    canMoveUp={i !== 0}\n                    onMoveUp={() => this._moveUpEventsFunctionsExtension(i)}\n                    canMoveDown={\n                      i !== project.getEventsFunctionsExtensionsCount() - 1\n                    }\n                    onMoveDown={() => this._moveDownEventsFunctionsExtension(i)}\n                  />\n                );\n              })\n              .concat(\n                <AddItem\n                  key={'add-events-functions-extension'}\n                  primaryText={<Trans>Click to add functions</Trans>}\n                  onClick={this.props.onAddEventsFunctionsExtension}\n                />\n              )}\n          />\n        </List>\n        <SearchBar\n          ref={searchBar => (this._searchBar = searchBar)}\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n        {this.state.variablesEditorOpen && (\n          <VariablesEditorDialog\n            open={this.state.variablesEditorOpen}\n            variablesContainer={project.getVariables()}\n            onCancel={() => this.setState({ variablesEditorOpen: false })}\n            onApply={() => this.setState({ variablesEditorOpen: false })}\n            emptyExplanationMessage=\"Global variables are variables that are shared amongst all the scenes of the game.\"\n            emptyExplanationSecondMessage=\"For example, you can have a variable called UnlockedLevelsCount representing the number of levels unlocked by the player.\"\n          />\n        )}\n        {this.state.projectPropertiesDialogOpen && (\n          <ProjectPropertiesDialog\n            open={this.state.projectPropertiesDialogOpen}\n            project={project}\n            onClose={() =>\n              this.setState({ projectPropertiesDialogOpen: false })\n            }\n            onApply={() =>\n              this.setState({ projectPropertiesDialogOpen: false })\n            }\n            onChangeSubscription={this.props.onChangeSubscription}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { mapFor } from '../../../Utils/MapFor';\nimport EmptyMessage from '../../../UI/EmptyMessage';\n\nexport type ParameterValues = Array<string>;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1,\n  },\n};\n\ntype Props = {|\n  project?: gdProject,\n  layout?: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  expressionMetadata: gdExpressionMetadata,\n  parameterValues: ParameterValues,\n  onChangeParameter: (index: number, value: string) => void,\n  parameterRenderingService?: {\n    components: any,\n    getParameterComponent: (type: string) => any,\n  },\n|};\ntype State = {||};\n\nexport default class ExpressionParametersEditor extends React.Component<\n  Props,\n  State\n> {\n  static getNonCodeOnlyParametersCount(\n    expressionMetadata: gdExpressionMetadata\n  ) {\n    return mapFor(0, expressionMetadata.getParametersCount(), i => {\n      const parameterMetadata = expressionMetadata.getParameter(i);\n      return !parameterMetadata.isCodeOnly();\n    }).filter(isVisible => isVisible).length;\n  }\n\n  render() {\n    const {\n      expressionMetadata,\n      parameterValues,\n      project,\n      layout,\n      globalObjectsContainer,\n      objectsContainer,\n      parameterRenderingService,\n    } = this.props;\n\n    if (!parameterRenderingService) {\n      console.error(\n        'Missing parameterRenderingService for ExpressionParametersEditor'\n      );\n      return null;\n    }\n\n    // Create an object mimicking Instruction interface so that it can be used by\n    // ParameterFields components.\n    const parametersCount = expressionMetadata.getParametersCount();\n    const expression = {\n      getParametersCount: () => parametersCount,\n      getParameter: index => {\n        return parameterValues[index] || '';\n      },\n    };\n\n    return (\n      <div style={styles.container}>\n        {mapFor(0, expressionMetadata.getParametersCount(), i => {\n          const parameterMetadata = expressionMetadata.getParameter(i);\n          const ParameterComponent = parameterRenderingService.getParameterComponent(\n            parameterMetadata.getType()\n          );\n\n          if (parameterMetadata.isCodeOnly()) return null;\n          return (\n            <ParameterComponent\n              expressionMetdata={expressionMetadata}\n              expression={expression}\n              parameterMetadata={parameterMetadata}\n              parameterIndex={i}\n              value={parameterValues[i]}\n              onChange={value => this.props.onChangeParameter(i, value)}\n              project={project}\n              layout={layout}\n              globalObjectsContainer={globalObjectsContainer}\n              objectsContainer={objectsContainer}\n              key={i}\n              parameterRenderingService={parameterRenderingService}\n            />\n          );\n        })}\n        {ExpressionParametersEditor.getNonCodeOnlyParametersCount(\n          expressionMetadata\n        ) === 0 && (\n          <EmptyMessage>\n            <Trans>There is nothing to configure.</Trans>\n          </EmptyMessage>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport ExpressionParametersEditor from './ExpressionParametersEditor';\nimport Dialog from '../../../UI/Dialog';\n\nexport type ParameterValues = Array<string>;\n\ntype Props = {\n  project?: gdProject,\n  layout?: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  expressionMetadata: Object,\n  onDone: ParameterValues => void,\n  onRequestClose: () => void,\n  open: boolean,\n  parameterRenderingService?: {\n    components: any,\n    getParameterComponent: (type: string) => any,\n  },\n};\n\ntype State = {\n  parameterValues: ParameterValues,\n};\n\nexport default class ExpressionParametersEditorDialog extends Component<\n  Props,\n  State\n> {\n  state = {\n    parameterValues: [],\n  };\n\n  componentWillMount() {\n    this.setState({\n      parameterValues: Array(\n        this.props.expressionMetadata.getParametersCount()\n      ).fill(''),\n    });\n  }\n\n  render() {\n    const {\n      project,\n      layout,\n      globalObjectsContainer,\n      objectsContainer,\n      expressionMetadata,\n      parameterRenderingService,\n    } = this.props;\n\n    return (\n      <Dialog\n        open={this.props.open}\n        actions={\n          <FlatButton\n            key=\"apply\"\n            label={<Trans>Apply</Trans>}\n            primary\n            onClick={() => this.props.onDone(this.state.parameterValues)}\n          />\n        }\n        modal\n        onRequestClose={this.props.onRequestClose}\n        autoScrollBodyContent\n      >\n        <ExpressionParametersEditor\n          project={project}\n          layout={layout}\n          globalObjectsContainer={globalObjectsContainer}\n          objectsContainer={objectsContainer}\n          expressionMetadata={expressionMetadata}\n          parameterValues={this.state.parameterValues}\n          onChangeParameter={(editedIndex, value) => {\n            this.setState({\n              parameterValues: this.state.parameterValues.map(\n                (oldValue, index) => (index === editedIndex ? value : oldValue)\n              ),\n            });\n          }}\n          parameterRenderingService={parameterRenderingService}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { AutoSizer } from 'react-virtualized';\nimport SortableVirtualizedItemList from '../UI/SortableVirtualizedItemList';\nimport SearchBar from 'material-ui-search-bar';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport Background from '../UI/Background';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport {\n  enumerateEventsFunctions,\n  filterEventFunctionsList,\n} from './EnumerateEventsFunctions';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Line } from '../UI/Grid';\nimport Divider from 'material-ui/Divider';\n\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\ntype State = {|\n  renamedEventsFunction: ?gdEventsFunction,\n  searchText: string,\n|};\n\ntype Props = {|\n  project: gdProject,\n  eventsFunctionsContainer: gdEventsFunctionsExtension,\n  selectedEventsFunction: ?gdEventsFunction,\n  onSelectEventsFunction: (eventsFunction: ?gdEventsFunction) => void,\n  onDeleteEventsFunction: (\n    eventsFunction: gdEventsFunction,\n    cb: (boolean) => void\n  ) => void,\n  onRenameEventsFunction: (\n    eventsFunction: gdEventsFunction,\n    newName: string,\n    cb: (boolean) => void\n  ) => void,\n  onEditOptions: () => void,\n|};\n\nexport default class EventsFunctionsList extends React.Component<Props, State> {\n  static defaultProps = {\n    onDeleteEventsFunction: (\n      eventsFunction: gdEventsFunction,\n      cb: boolean => void\n    ) => cb(true),\n    onRenameEventsFunction: (\n      eventsFunction: gdEventsFunction,\n      newName: string,\n      cb: boolean => void\n    ) => cb(true),\n  };\n\n  sortableList: any;\n  state: State = {\n    renamedEventsFunction: null,\n    searchText: '',\n  };\n\n  _deleteEventsFunction = (eventsFunction: gdEventsFunction) => {\n    const { eventsFunctionsContainer } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this function? This can't be undone.\"\n    );\n    if (!answer) return;\n\n    this.props.onDeleteEventsFunction(eventsFunction, doRemove => {\n      if (!doRemove) return;\n\n      eventsFunctionsContainer.removeEventsFunction(eventsFunction.getName());\n      this.forceUpdate();\n    });\n  };\n\n  _editName = (resource: ?gdEventsFunction) => {\n    this.setState(\n      {\n        renamedEventsFunction: resource,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _rename = (eventsFunction: gdEventsFunction, newName: string) => {\n    const { eventsFunctionsContainer } = this.props;\n    this.setState({\n      renamedEventsFunction: null,\n    });\n\n    if (eventsFunction.getName() === newName) return;\n\n    if (eventsFunctionsContainer.hasEventsFunctionNamed(newName)) {\n      showWarningBox('Another function with this name already exists.');\n      return;\n    }\n\n    this.props.onRenameEventsFunction(eventsFunction, newName, doRename => {\n      if (!doRename) return;\n      eventsFunction.setName(newName);\n      this.forceUpdate();\n    });\n  };\n\n  _move = (oldIndex: number, newIndex: number) => {\n    const { eventsFunctionsContainer } = this.props;\n    eventsFunctionsContainer.moveEventsFunction(oldIndex, newIndex);\n\n    this.forceUpdateList();\n  };\n\n  forceUpdateList = () => {\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  _renderEventsFunctionMenuTemplate = (resource: gdEventsFunction) => {\n    return [\n      {\n        label: 'Rename',\n        click: () => this._editName(resource),\n      },\n      {\n        label: 'Remove',\n        click: () => this._deleteEventsFunction(resource),\n      },\n    ];\n  };\n\n  _addNewEventsFunction = () => {\n    const { eventsFunctionsContainer } = this.props;\n\n    const name = newNameGenerator('Function', name =>\n      eventsFunctionsContainer.hasEventsFunctionNamed(name)\n    );\n    eventsFunctionsContainer.insertNewEventsFunction(\n      name,\n      eventsFunctionsContainer.getEventsFunctionsCount()\n    );\n    this.forceUpdate();\n  };\n\n  render() {\n    const {\n      project,\n      eventsFunctionsContainer,\n      selectedEventsFunction,\n      onSelectEventsFunction,\n    } = this.props;\n    const { searchText } = this.state;\n\n    const list = [\n      ...filterEventFunctionsList(\n        enumerateEventsFunctions(eventsFunctionsContainer),\n        searchText\n      ),\n      {\n        key: 'add-item-row',\n      },\n    ];\n\n    // Force List component to be mounted again if project or objectsContainer\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = project.ptr + ';' + eventsFunctionsContainer.ptr;\n\n    return (\n      <Background>\n        <Line justifyContent=\"center\">\n          <FlatButton\n            label={<Trans>Edit extension options</Trans>}\n            primary\n            onClick={() => this.props.onEditOptions()}\n          />\n        </Line>\n        <Divider />\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableVirtualizedItemList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={list}\n                width={width}\n                height={height}\n                onAddNewItem={this._addNewEventsFunction}\n                addNewItemLabel={<Trans>Add a new function</Trans>}\n                selectedItem={selectedEventsFunction}\n                onItemSelected={onSelectEventsFunction}\n                renamedItem={this.state.renamedEventsFunction}\n                onRename={this._rename}\n                onSortEnd={({ oldIndex, newIndex }) =>\n                  this._move(oldIndex, newIndex)\n                }\n                buildMenuTemplate={this._renderEventsFunctionMenuTemplate}\n                helperClass=\"sortable-helper\"\n                distance={20}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n      </Background>\n    );\n  }\n}\n","//@flow\nimport { mapFor } from '../Utils/MapFor';\n\nexport const enumerateEventsFunctions = (\n  eventsFunctionsContainer: gdEventsFunctionsExtension\n): Array<gdEventsFunction> =>\n  mapFor(0, eventsFunctionsContainer.getEventsFunctionsCount(), i =>\n    eventsFunctionsContainer.getEventsFunctionAt(i)\n  );\n\nexport const filterEventFunctionsList = (\n  list: Array<gdEventsFunction>,\n  searchText: string\n): Array<gdEventsFunction> => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter(\n    (item: any) =>\n      item\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n  );\n};\n","import React from 'react';\nconst marginsSize = 4;\n\nexport const Line = props => (\n  <div\n    style={{\n      display: 'flex',\n      marginTop: props.noMargin ? 0 : marginsSize,\n      marginBottom: props.noMargin ? 0 : marginsSize,\n      alignItems: props.alignItems,\n      justifyContent: props.justifyContent,\n      flex: props.expand ? 1 : undefined,\n    }}\n  >\n    {props.children}\n  </div>\n);\n\nexport const Column = props => (\n  <div\n    style={{\n      display: 'flex',\n      marginLeft: props.noMargin ? 0 : marginsSize * 2,\n      marginRight: props.noMargin ? 0 : marginsSize * 2,\n      flexDirection: 'column',\n      alignItems: props.alignItems || 'stretch',\n      flex: props.expand ? 1 : undefined,\n    }}\n  >\n    {props.children}\n  </div>\n);\n\nexport const Spacer = props => (\n  <span\n    style={{\n      width: props.expand ? '100%' : marginsSize,\n      height: marginsSize,\n    }}\n  />\n);\n","import React from 'react';\nimport Dialog from 'material-ui/Dialog';\n\nconst styles = {\n  defaultBody: {\n    overflowX: 'hidden',\n  },\n  noMarginBody: {\n    padding: 0,\n    overflowX: 'hidden',\n  },\n  actionsContainer: {},\n  actionsContainerWithSecondaryActions: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n};\n\n/**\n * A enhanced material-ui Dialog that can have optional secondary actions\n * and no margins if required.\n */\nexport default props => {\n  const { secondaryActions, actions, noMargin, title, ...otherProps } = props;\n  const dialogActions = secondaryActions\n    ? [\n        <div key=\"secondary-actions\">{secondaryActions}</div>,\n        <div key=\"actions\">{actions}</div>,\n      ]\n    : actions;\n\n  return (\n    <Dialog\n      bodyStyle={noMargin ? styles.noMarginBody : styles.defaultBody}\n      actionsContainerStyle={\n        secondaryActions\n          ? styles.actionsContainerWithSecondaryActions\n          : styles.actionsContainer\n      }\n      actions={dialogActions}\n      title={title ? <h3>{title}</h3> : null} // Explictly pass a h3 like done in default implementation https://github.com/mui-org/material-ui/blob/v0.x/src/Dialog/Dialog.js#L315\n      // This is done to support passing translated strings (<Trans>) as title\n      {...otherProps}\n    />\n  );\n};\n","// @flow\n// Note: this file does not use export/imports and use Flow comments to allow its usage from Node.js\n\nconst mapFor = /*:: <T>*/ (\n  start /*: number */,\n  end /*: number */,\n  func /*: (number) => T */\n) /*:Array<T> */ => {\n  const result = [];\n  for (let i = start; i < end; i++) {\n    result.push(func(i));\n  }\n  return result;\n};\n\nconst mapReverseFor = /*:: <T>*/ (\n  start /*: number */,\n  end /*: number */,\n  func /*: (number) => T */\n) /*:Array<T> */ => {\n  const result = [];\n  for (let i = end - 1; i >= start; i--) {\n    result.push(func(i));\n  }\n  return result;\n};\n\n/*flow-include\ntype CppVector<T> = {\n  size: () => number,\n  at: (number) => T,\n}\n*/\n\nconst mapVector = /*:: <T, U>*/ (\n  cppVector /*: CppVector<T> */,\n  func /*: (T, number) => U */\n) /*:Array<U> */ => {\n  return mapFor(0, cppVector.size(), i => func(cppVector.at(i), i));\n};\n\nmodule.exports = {\n  mapFor,\n  mapReverseFor,\n  mapVector,\n};\n","// @flow\nimport * as React from 'react';\nimport ThemeConsumer from './Theme/ThemeConsumer';\nimport BackgroundText from './BackgroundText';\n// No i18n in this file\n\nconst styles = {\n  containerStyle: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flex: 1,\n    padding: 10,\n  },\n};\n\ntype Props = {|\n  style?: Object,\n  messageStyle?: Object,\n  children: ?React.Node,\n|};\n\nconst EmptyMessage = (props: Props) => (\n  <ThemeConsumer>\n    {muiTheme => (\n      <div style={{ ...styles.containerStyle, ...props.style }}>\n        <BackgroundText style={props.messageStyle}>\n          {props.children}\n        </BackgroundText>\n      </div>\n    )}\n  </ThemeConsumer>\n);\n\nexport default EmptyMessage;\n","// @flow\nimport optionalRequire from '../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\nconst path = optionalRequire('path');\n\nclass UrlsCache {\n  projectCache = {};\n\n  _getProjectCache(project: gdProject) {\n    const cache = this.projectCache[project.ptr];\n    if (!cache) {\n      return (this.projectCache[project.ptr] = {});\n    }\n\n    return cache;\n  }\n\n  getCachedUrl(project: gdProject, filename: string) {\n    const cache = this._getProjectCache(project);\n    return cache[filename];\n  }\n\n  cacheUrl(project: gdProject, url: string) {\n    const cache = this._getProjectCache(project);\n    return (cache[url] = url);\n  }\n\n  burstUrl(project: gdProject, url: string) {\n    const cache = this._getProjectCache(project);\n    delete cache[url];\n  }\n\n  cacheLocalFileUrl(\n    project: gdProject,\n    filename: string,\n    systemFilename: string,\n    disableCacheBurst: boolean\n  ) {\n    const cache = this._getProjectCache(project);\n\n    if (!disableCacheBurst) {\n      // The URL is cached with an extra \"cache-bursting\" parameter.\n      // If the cache is emptied or changed, local files will have another\n      // value for this parameter, forcing the browser to reload the images.\n      return (cache[filename] = `${systemFilename}?cache=${Date.now()}`);\n    } else {\n      return (cache[filename] = systemFilename);\n    }\n  }\n}\n\n/**\n * A class globally used in the whole IDE to get URLs to resources of games\n * (notably images).\n */\nexport default class ResourcesLoader {\n  static _cache = new UrlsCache();\n\n  static isLocalFile(filename: string): boolean {\n    return (\n      filename.indexOf('data:') !== 0 &&\n      filename.indexOf('http://') !== 0 &&\n      filename.indexOf('https://') !== 0 &&\n      filename.indexOf('ftp://') !== 0\n    );\n  }\n\n  /**\n   * Remove the specified resources resolved URLs from the cache. Useful if the\n   * file represented by these resources has changed. This force these local files to be loaded again.\n   */\n  static burstUrlsCacheForResources(\n    project: gdProject,\n    resourcesNames: Array<string>\n  ) {\n    const resourcesManager = project.getResourcesManager();\n    resourcesNames.forEach(resourceName => {\n      if (resourcesManager.hasResource(resourceName)) {\n        ResourcesLoader._cache.burstUrl(\n          project,\n          resourcesManager.getResource(resourceName).getFile()\n        );\n      }\n    });\n  }\n\n  /**\n   * Re-create a new cache for URLs. Call this to force local\n   * file to be loaded again.\n   */\n  static burstAllUrlsCache() {\n    ResourcesLoader._cache = new UrlsCache();\n  }\n\n  /**\n   * Get the fully qualified URL/filename for a filename relative to the project.\n   */\n  static getFullUrl(\n    project: gdProject,\n    filename: string,\n    disableCacheBurst: boolean = false\n  ) {\n    const cachedUrl = ResourcesLoader._cache.getCachedUrl(project, filename);\n    if (cachedUrl) return cachedUrl;\n\n    if (electron && ResourcesLoader.isLocalFile(filename)) {\n      // Support local filesystem with Electron\n      const file = project.getProjectFile();\n      const projectPath = path.dirname(file);\n      const resourceAbsolutePath = path\n        .resolve(projectPath, filename)\n        .replace(/\\\\/g, '/');\n\n      console.info('Caching resolved local filename:', resourceAbsolutePath);\n      return this._cache.cacheLocalFileUrl(\n        project,\n        filename,\n        'file://' + resourceAbsolutePath,\n        disableCacheBurst\n      );\n    }\n\n    // URLs to non local files are unchanged\n    return this._cache.cacheUrl(project, filename);\n  }\n\n  /**\n   * Get the fully qualified URL/filename associated with the given resource.\n   */\n  static getResourceFullUrl(\n    project: gdProject,\n    resourceName: string,\n    disableCacheBurst: boolean = false\n  ) {\n    if (project.getResourcesManager().hasResource(resourceName)) {\n      const resourceRelativePath = project\n        .getResourcesManager()\n        .getResource(resourceName)\n        .getFile();\n      return ResourcesLoader.getFullUrl(\n        project,\n        resourceRelativePath,\n        disableCacheBurst\n      );\n    }\n\n    return resourceName;\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport HelpOutline from 'material-ui/svg-icons/action/help-outline';\nimport Window from '../../Utils/Window';\nimport { getHelpLink } from '../../Utils/HelpLink';\nimport { Trans } from '@lingui/macro';\n\ntype PropsType = {\n  helpPagePath: ?string,\n  label?: React.Node,\n};\n\n/**\n * The button that can be used in any dialog to open a help page\n */\nconst HelpButton = (props: PropsType) => {\n  if (!props.helpPagePath) return null;\n\n  return (\n    <FlatButton\n      onClick={() => {\n        if (props.helpPagePath) {\n          Window.openExternalURL(getHelpLink(props.helpPagePath));\n        }\n      }}\n      target=\"_blank\"\n      label={props.label || <Trans>Help</Trans>}\n      icon={<HelpOutline />}\n    />\n  );\n};\n\nexport default HelpButton;\n","// @flow\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\n\ntype State = {\n  focused: boolean,\n  text: ?string,\n};\n\ntype Props = {\n  onChange: string => void,\n  value: string,\n  commitOnBlur?: boolean,\n  onFocus?: ({\n    currentTarget: {\n      value: string,\n    },\n    preventDefault: () => void,\n  }) => void,\n  onBlur?: ({\n    currentTarget: {\n      value: string,\n    },\n  }) => void,\n};\n\n/**\n * This component works like a material-ui TextField, except that\n * the value passed as props is not forced into the text field when the user\n * is typing. This is useful if the parent component can do modifications on the value:\n * the user won't be interrupted or have the value changed until he blurs the field.\n */\nexport default class SemiControlledTextField extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    focused: false,\n    text: null,\n  };\n\n  _field: ?any = null;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  getInputNode() {\n    if (this._field) return this._field.getInputNode();\n  }\n\n  render() {\n    const {\n      value,\n      onChange,\n      commitOnBlur,\n      onFocus,\n      onBlur,\n      ...otherProps\n    } = this.props;\n\n    return (\n      <TextField\n        {...otherProps}\n        ref={field => (this._field = field)}\n        value={this.state.focused ? this.state.text : value}\n        onFocus={event => {\n          this.setState({\n            focused: true,\n            text: this.props.value,\n          });\n\n          if (onFocus) onFocus(event);\n        }}\n        onChange={(event, newValue) => {\n          this.setState({\n            text: newValue,\n          });\n\n          if (!commitOnBlur) onChange(newValue);\n        }}\n        onBlur={event => {\n          onChange(event.currentTarget.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n\n          if (onBlur) onBlur(event);\n        }}\n      />\n    );\n  }\n}\n","// @flow\n\nconst gd = global.gd;\n\n/**\n * Tool function to save a serializable object to a JS object.\n * Most gd.* objects are \"serializable\", meaning they have a serializeTo\n * and unserializeFrom method.\n *\n * @param {*} serializable\n * @param {*} methodName The name of the serialization method. \"unserializeFrom\" by default\n */\nexport function serializeToJSObject(\n  serializable: gdSerializable,\n  methodName: string = 'serializeTo'\n) {\n  const serializedElement = new gd.SerializerElement();\n  serializable[methodName](serializedElement);\n  const object = JSON.parse(gd.Serializer.toJSON(serializedElement));\n  serializedElement.delete();\n\n  return object;\n}\n\n/**\n * Tool function to restore a serializable object from a JS object.\n * Most gd.* objects are \"serializable\", meaning they have a serializeTo\n * and unserializeFrom method.\n * @param {*} serializable A gd.* object to restore\n * @param {*} object The JS object to be used to restore the serializable.\n * @param {*} methodName The name of the unserialization method. \"unserializeFrom\" by default\n * @param {*} optionalProject The project to pass as argument for unserialization\n */\nexport function unserializeFromJSObject(\n  serializable: gdSerializable,\n  object: Object,\n  methodName: string = 'unserializeFrom',\n  optionalProject: ?gdProject = undefined\n) {\n  const serializedElement = gd.Serializer.fromJSObject(object);\n  if (!optionalProject) {\n    serializable[methodName](serializedElement);\n  } else {\n    // It's not uncommon for unserializeFrom methods of gd.* classes\n    // to require the project to be passed as first argument.\n    serializable[methodName](optionalProject, serializedElement);\n  }\n  serializedElement.delete();\n}\n","// @flow\nexport const selectableArea = 'selectable';\nexport const selectedArea = 'selected';\nexport const icon = 'icon';\n\nexport const largeSelectableArea = 'large-selectable';\nexport const largeSelectedArea = 'large-selected';\n\nexport const executableEventContainer = 'executable-event-container';\nexport const actionsContainer = 'actions-container';\nexport const conditionsContainer = 'conditions-container';\nexport const subInstructionsContainer = 'sub-instructions-container';\nexport const instructionParameter = 'instruction-parameter';\nexport const disabledText = 'disabled-text';\n\nexport const background = 'background';\n\nexport const eventsTree = 'events-tree';\nexport const eventsTreeWithSearchResults = 'with-search-results';\n\nexport const dropIndicator = 'drop-indicator';\nexport const cantDropIndicator = 'cant-drop-indicator';\n\nexport const linkContainer = 'link-container';\n","export default (name, exists, prefix = '') => {\n  if (!exists(name)) return name;\n\n  let potentialName = prefix + name;\n  for (let i = 2; exists(potentialName); ++i) {\n    potentialName = prefix + name + i;\n  }\n\n  return potentialName;\n};\n","// @flow\nimport createReactContext, { type Context } from 'create-react-context';\n\nexport type AlertMessageIdentifier =\n  | 'use-non-smoothed-textures'\n  | 'use-nearest-scale-mode'\n  | 'maximum-fps-too-low'\n  | 'minimum-fps-too-low'\n  | 'function-extractor-explanation';\n\nexport type PreferencesValues = {|\n  language: string,\n  autoDownloadUpdates: boolean,\n  themeName: string,\n  codeEditorThemeName: string,\n  hiddenAlertMessages: { [AlertMessageIdentifier]: boolean },\n  autoDisplayChangelog: boolean,\n  lastLaunchedVersion: ?string,\n  eventsSheetShowObjectThumbnails: boolean,\n  autosaveOnPreview: boolean,\n|};\n\nexport type Preferences = {|\n  values: PreferencesValues,\n  setLanguage: (language: string) => void,\n  setThemeName: (themeName: string) => void,\n  setCodeEditorThemeName: (codeEditorThemeName: string) => void,\n  setAutoDownloadUpdates: (enabled: boolean) => void,\n  checkUpdates: (forceDownload?: boolean) => void,\n  setAutoDisplayChangelog: (enabled: boolean) => void,\n  showAlertMessage: (identifier: AlertMessageIdentifier, show: boolean) => void,\n  verifyIfIsNewVersion: () => boolean,\n  setEventsSheetShowObjectThumbnails: (enabled: boolean) => void,\n  setAutosaveOnPreview: (enabled: boolean) => void,\n|};\n\nexport const initialPreferences = {\n  values: {\n    language: 'en',\n    autoDownloadUpdates: true,\n    themeName: 'GDevelop default',\n    codeEditorThemeName: 'vs-dark',\n    hiddenAlertMessages: {},\n    autoDisplayChangelog: true,\n    lastLaunchedVersion: undefined,\n    eventsSheetShowObjectThumbnails: true,\n    autosaveOnPreview: true,\n  },\n  setLanguage: () => {},\n  setThemeName: () => {},\n  setCodeEditorThemeName: () => {},\n  setAutoDownloadUpdates: () => {},\n  checkUpdates: () => {},\n  setAutoDisplayChangelog: () => {},\n  showAlertMessage: (identifier: AlertMessageIdentifier, show: boolean) => {},\n  verifyIfIsNewVersion: () => false,\n  setEventsSheetShowObjectThumbnails: () => {},\n  setAutosaveOnPreview: () => {},\n};\n\nconst PreferencesContext: Context<Preferences> = createReactContext(\n  initialPreferences\n);\n\nexport default PreferencesContext;\n","import React from 'react';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nconst styles = {\n  containerStyle: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flex: 1,\n    padding: 10,\n  },\n};\n\nexport default props => (\n  <div style={{ ...styles.containerStyle, ...props.style }}>\n    <CircularProgress size={40} />\n  </div>\n);\n","// Note: this file don't use export/imports nor Flow to allow its usage from Node.js\n\nconst optionalRequire = require('../../Utils/OptionalRequire.js');\nconst electron = optionalRequire('electron');\nconst app = electron ? electron.remote.app : null;\nconst fs = optionalRequire('fs');\nconst path = optionalRequire('path');\nconst process = optionalRequire('process');\nvar isDarwin = process && /^darwin/.test(process.platform);\n\nconst tryPath = (\n  path /*: string*/,\n  onExists /*: string => void*/,\n  onNoAccess /*: Function*/\n) =>\n  fs.access(path, fs.constants.R_OK, err => {\n    if (!err) onExists(path);\n    else onNoAccess();\n  });\n\nconst findGDJS = (cb /*: (?string) => void*/) => {\n  if (!path || !process || !fs) return '';\n\n  const appPath = app ? app.getAppPath() : process.cwd();\n\n  // The app path is [...]/*.app/Contents/Resources/app.asar on macOS\n  // and [...]/resources/app.asar on other OSes.\n  const pathToRoot = isDarwin ? '../../../../' : path.join('..', '..');\n  const rootPath = path.join(appPath, pathToRoot);\n\n  // First try to find GDJS in the parent folder (when newIDE is inside IDE)\n  tryPath(path.join(rootPath, '..', 'JsPlatform'), cb, () => {\n    // Or in the resources (for a standalone newIDE)\n    tryPath(path.join(appPath, '..', 'GDJS'), cb, () => {\n      // Or in the resources when developing with Electron\n      const devPath = path.join(\n        appPath,\n        '..',\n        '..',\n        'app',\n        'resources',\n        'GDJS'\n      );\n      tryPath(devPath, cb, () => {\n        cb(null);\n      });\n    });\n  });\n};\n\nmodule.exports = {\n  findGDJS,\n};\n","// @flow\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\n\nconst styles = {\n  container: {\n    flex: 1,\n    display: 'flex',\n    height: '100%',\n    flexDirection: 'column',\n  },\n};\n\ntype Props = {|\n  children: ?React.Node,\n|};\n\n/**\n * This is the component to be used to display the standard\n * background of editor/windows/dialogs.\n *\n * TODO: All usage of material-ui Paper in other components should be\n * removed in favor of using this component.\n */\nconst Background = (props: Props) => (\n  <Paper style={styles.container}>{props.children}</Paper>\n);\n\nexport default Background;\n","import muiThemeable from 'material-ui/styles/muiThemeable';\n\n/**\n * Expose the Material UI theme.\n * TODO: All components using muiThemeable HOC should be migrated to\n * use this component instead (will ease any future migration).\n */\nconst ThemeConsumer = props => props.children(props.muiTheme);\n\nexport default muiThemeable()(ThemeConsumer);\n","import React, { Component } from 'react';\nimport IconMenu from 'material-ui/IconMenu';\nimport ReactDOM from 'react-dom';\nimport ElectronMenuImplementation from './ElectronMenuImplementation';\nimport MaterialUIMenuImplementation from './MaterialUIMenuImplementation';\nimport optionalRequire from '../../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\nexport default class GDIconMenu extends Component {\n  constructor() {\n    super();\n    this.state = {\n      children: undefined,\n    };\n    this.menuImplementation = electron\n      ? new ElectronMenuImplementation()\n      : new MaterialUIMenuImplementation({ onClose: () => {} });\n  }\n\n  open = event => {\n    if (!this.iconMenu) return;\n\n    const node = ReactDOM.findDOMNode(this.iconMenu);\n    if (!node) return;\n\n    this.setState({\n      children: this.menuImplementation.buildFromTemplate(\n        this.props.buildMenuTemplate()\n      ),\n    });\n    this.menuImplementation.showMenu(node.getBoundingClientRect());\n\n    this.iconMenu.open('unknown', event);\n  };\n\n  _onClick = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (!this.iconMenu) return;\n\n    const node = ReactDOM.findDOMNode(this.iconMenu);\n    if (!node) return;\n\n    this.setState({\n      children: this.menuImplementation.buildFromTemplate(\n        this.props.buildMenuTemplate()\n      ),\n    });\n    this.menuImplementation.showMenu(node.getBoundingClientRect());\n  };\n\n  render() {\n    const { buildMenuTemplate, ...iconMenuProps } = this.props; //eslint-disable-line\n\n    // Use disableAutoFocus to avoid making TextField lose focus.\n    // See material-ui bug: https://github.com/callemall/material-ui/issues/4387\n    return (\n      <IconMenu\n        {...iconMenuProps}\n        onClick={this._onClick}\n        ref={iconMenu => (this.iconMenu = iconMenu)}\n        desktop\n        disableAutoFocus\n        {...this.menuImplementation.getMenuProps()}\n      >\n        {this.state.children}\n      </IconMenu>\n    );\n  }\n}\n","// @flow\nimport { fuzzyOrEmptyFilter } from '../Utils/FuzzyOrEmptyFilter';\n\n/**\n * Provides props for material-ui AutoComplete components that specify\n * sensible defaults for size and popover size/positioning.\n */\nexport const defaultAutocompleteProps = {\n  fullWidth: true,\n  textFieldStyle: {\n    minWidth: 300,\n  },\n  menuProps: {\n    maxHeight: 250,\n  },\n  popoverProps: {\n    // Ensure that the Popover menu is always visible on screen\n    canAutoPosition: true,\n  },\n  filter: fuzzyOrEmptyFilter,\n};\n","/**\n * RenderedInstance is the base class used for creating renderers of instances,\n * which display on the scene editor, using Pixi.js, the instance of an object (see InstancesEditor).\n *\n * @class RenderedInstance\n * @constructor\n */\nfunction RenderedInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  this._pixiObject = null;\n  this._instance = instance;\n  this._associatedObject = associatedObject;\n  this._pixiContainer = pixiContainer;\n  this._project = project;\n  this._layout = layout;\n  this._pixiResourcesLoader = pixiResourcesLoader;\n  this.wasUsed = true; //Used by InstancesRenderer to track rendered instance that are not used anymore.\n}\n\n/**\n * Convert an angle from degrees to radians.\n */\nRenderedInstance.toRad = function(angleInDegrees) {\n  return (angleInDegrees / 180) * 3.14159;\n};\n\n/**\n * Called when the scene editor is rendered.\n */\nRenderedInstance.prototype.update = function() {\n  //Nothing to do.\n};\n\nRenderedInstance.prototype.getPixiObject = function() {\n  return this._pixiObject;\n};\n\nRenderedInstance.prototype.getInstance = function() {\n  return this._instance;\n};\n\n/**\n * Called to notify the instance renderer that its associated instance was removed from\n * the scene. The PIXI object should probably be removed from the container: This is what\n * the default implementation of the method does.\n */\nRenderedInstance.prototype.instanceRemovedFromScene = function() {\n  if (\n    this._pixiObject !== null &&\n    this._pixiContainer.children.indexOf(this._pixiObject) !== -1\n  )\n    this._pixiContainer.removeChild(this._pixiObject);\n};\n\nRenderedInstance.prototype.getOriginX = function() {\n  return 0;\n};\n\nRenderedInstance.prototype.getOriginY = function() {\n  return 0;\n};\n\n/**\n * Return the width of the instance when the instance doesn't have a custom size.\n */\nRenderedInstance.prototype.getDefaultWidth = function() {\n  return 32;\n};\n\n/**\n * Return the height of the instance when the instance doesn't have a custom size.\n */\nRenderedInstance.prototype.getDefaultHeight = function() {\n  return 32;\n};\n\nexport default RenderedInstance;\n","// @flow\nimport * as React from 'react';\nimport { serializeToJSObject } from '../../Utils/Serializer';\nimport { rgbToHexNumber } from '../../Utils/ColorTransformer';\n\n//TODO: try BaseEditor<Props,State>\nexport default class BaseEditor extends React.Component<*, *> {\n  static defaultProps = {\n    setToolbar: () => {},\n  };\n\n  getProject(): ?gdProject {\n    return this.props.project;\n  }\n\n  getLayout(): ?gdLayout {\n    return null;\n  }\n\n  saveUiSettings = () => {\n    // Implement in the editor, if needed.\n  };\n\n  shouldComponentUpdate(nextProps: *) {\n    // Prevent any update to the editor if the editor is not active,\n    // and so not visible to the user. For editors that do special work when isActive\n    // is set to false (for example to disable PIXI rendering), shouldComponentUpdate\n    // should be overriden with a proper implementation.\n    if (!nextProps.isActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  updateToolbar() {\n    console.warn('No toolbar defined for this editor');\n\n    if (this.props.setToolbar) this.props.setToolbar(null);\n  }\n\n  getSerializedElements() {\n    throw new Error(\n      'The editor has not implemented getSerializedElements to return what should be serialized'\n    );\n  }\n\n  static getLayoutSerializedElements(layout: ?gdLayout) {\n    if (!layout) return {};\n\n    return {\n      windowTitle: layout.getWindowDefaultTitle(),\n      layers: serializeToJSObject(layout, 'serializeLayersTo'),\n      backgroundColor:\n        '' +\n        rgbToHexNumber(\n          layout.getBackgroundColorRed(),\n          layout.getBackgroundColorGreen(),\n          layout.getBackgroundColorBlue()\n        ),\n    };\n  }\n}\n","// TODO: add flow\nimport createReactContext, { type Context } from 'create-react-context';\n\nexport type UserProfile = {|\n  authenticated: boolean,\n  profile: ?Profile,\n  limits: ?Limits,\n  usages: ?Usages,\n  subscription: ?Subscription,\n  onLogout: () => void,\n  onLogin: () => void,\n  onRefreshUserProfile: () => void,\n|};\n\nexport const initialUserProfile = {\n  authenticated: false,\n  profile: null,\n  subscription: null,\n  usages: null,\n  limits: null,\n  onLogout: () => {},\n  onLogin: () => {},\n  onRefreshUserProfile: () => {},\n};\n\nconst UserProfileContext: Context<UserProfile> = createReactContext(\n  initialUserProfile\n);\n\nexport default UserProfileContext;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\nimport Info from 'material-ui/svg-icons/action/info';\nimport Warning from 'material-ui/svg-icons/alert/warning';\nimport { Line } from './Grid';\nimport { FlatButton } from 'material-ui';\n\nconst styles = {\n  icon: { width: 28, height: 28, marginRight: 10, marginLeft: 10 },\n  content: { flex: 1 },\n};\n\ntype Props = {|\n  kind: 'info' | 'warning',\n  children: React.Node,\n  onHide?: () => void,\n|};\n\n/**\n * Show an hint, warning or other message. If you want to allow the user\n * to permanently hide the hint/alert/message, see DismissableAlertMessage.\n */\nconst AlertMessage = ({ kind, children, onHide }: Props) => (\n  <Paper>\n    <Line noMargin alignItems=\"center\">\n      {kind === 'info' && <Info style={styles.icon} />}\n      {kind === 'warning' && <Warning style={styles.icon} />}\n      <p style={styles.content}>{children}</p>\n      {onHide && (\n        <FlatButton label={<Trans>Hide</Trans>} onClick={() => onHide()} />\n      )}\n    </Line>\n  </Paper>\n);\n\nexport default AlertMessage;\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport { withSerializableObject } from '../Utils/SerializableObjectEditorContainer';\nimport VariablesList from './index';\n\nconst gd = global.gd;\n\nexport class VariablesEditorDialog extends Component {\n  render() {\n    const {\n      onCancel,\n      onApply,\n      open,\n      onEditObjectVariables,\n      title,\n      emptyExplanationMessage,\n      emptyExplanationSecondMessage,\n      variablesContainer,\n    } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        onClick={this.props.onCancel}\n        key={'Cancel'}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary\n        keyboardFocused\n        onClick={onApply}\n        key={'Apply'}\n      />,\n    ];\n    const secondaryActions = onEditObjectVariables ? (\n      <FlatButton\n        label={<Trans>Edit Object Variables</Trans>}\n        primary={false}\n        onClick={onEditObjectVariables}\n      />\n    ) : null;\n\n    return (\n      <Dialog\n        noMargin\n        actions={actions}\n        modal\n        open={open}\n        onRequestClose={onCancel}\n        autoScrollBodyContent\n        secondaryActions={secondaryActions}\n        title={title}\n      >\n        <VariablesList\n          variablesContainer={variablesContainer}\n          emptyExplanationMessage={emptyExplanationMessage}\n          emptyExplanationSecondMessage={emptyExplanationSecondMessage}\n          onSizeUpdated={\n            () =>\n              this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n          }\n        />\n      </Dialog>\n    );\n  }\n}\n\nexport default withSerializableObject(VariablesEditorDialog, {\n  newObjectCreator: () => new gd.VariablesContainer(),\n  propName: 'variablesContainer',\n});\n","// @flow\nimport optionalRequire from './OptionalRequire.js';\nconst electron = optionalRequire('electron');\nconst electronClipboard = electron ? electron.clipboard : null;\n\nexport type ClipboardKind = string;\n\nlet internalClipboard = '';\n\nconst mangleClipboardKind = (kind: ClipboardKind): string => {\n  // Mangle the name with GDevelop specific strings and random\n  // characters so that the probability that something that is not\n  // a valid GDevelop clipboard content is recognized as valid is almost 0.\n  return 'GDEVELOP_' + kind + '_CLIPBOARD_KIND-jsBdHbLy912y8Rc';\n};\n\nexport default class Clipboard {\n  static set(kind: ClipboardKind, object: any) {\n    const text = JSON.stringify({\n      '000kind': mangleClipboardKind(kind), /// 000 to ensure the key is written first.\n      content: object,\n    });\n\n    if (electronClipboard) {\n      electronClipboard.writeText(text);\n    } else {\n      internalClipboard = text;\n    }\n  }\n\n  static has(kind: ClipboardKind): boolean {\n    let text = '';\n    if (electronClipboard) {\n      text = electronClipboard.readText();\n    } else {\n      text = internalClipboard;\n    }\n\n    return text.indexOf(mangleClipboardKind(kind)) === 12; /// 12 is the position of '000kind' value\n  }\n\n  static get(kind: ClipboardKind): any {\n    if (!Clipboard.has(kind)) return null;\n\n    let text = '';\n    if (electronClipboard) {\n      text = electronClipboard.readText();\n    } else {\n      text = internalClipboard;\n    }\n\n    try {\n      const parsedText = JSON.parse(text);\n      return parsedText.content;\n    } catch (e) {\n      console.warn('The clipboard content is not valid JSON');\n      return null;\n    }\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport MenuItem from 'material-ui/MenuItem';\nimport Divider from 'material-ui/Divider';\nimport IconButton from 'material-ui/IconButton';\nimport Add from 'material-ui/svg-icons/content/add';\nimport Brush from 'material-ui/svg-icons/image/brush';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n  type ResourceKind,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport ResourcesLoader from '../ResourcesLoader';\nimport { defaultAutocompleteProps } from '../UI/AutocompleteProps';\n\ntype Props = {|\n  project: gdProject,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  resourcesLoader: typeof ResourcesLoader,\n  resourceKind: ResourceKind,\n  fullWidth?: boolean,\n  initialResourceName: string,\n  onChange: string => void,\n  floatingLabelText?: React.Node,\n  hintText?: React.Node,\n|};\n\ntype State = {|\n  notExistingError: boolean,\n  resourceName: string,\n|};\n\ntype AutoCompleteItem =\n  | {|\n      text: string,\n      value: React.Node,\n      onClick?: () => void,\n    |}\n  | string;\n\nconst styles = {\n  autoComplete: { minWidth: 300 },\n  container: { display: 'flex', flex: 1, alignItems: 'baseline' },\n};\n\nexport default class ResourceSelector extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      notExistingError: false,\n      resourceName: props.initialResourceName || '',\n    };\n\n    const { project } = props;\n    if (project) {\n      this._loadFrom(project.getResourcesManager());\n    }\n  }\n\n  allResourcesNames: Array<string>;\n  defaultItems: Array<AutoCompleteItem>;\n  autoCompleteData: ?Array<AutoCompleteItem>;\n  _autoComplete: ?AutoComplete;\n\n  focus() {\n    if (this._autoComplete) this._autoComplete.focus();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.initialResourceName !== this.props.initialResourceName) {\n      this.setState({\n        resourceName: nextProps.initialResourceName || '',\n      });\n    }\n  }\n\n  _getDefaultItems(): Array<AutoCompleteItem> {\n    const sources = this.props.resourceSources || [];\n    return [\n      ...sources\n        .filter(source => source.kind === this.props.resourceKind)\n        .map(source => ({\n          text: '',\n          value: (\n            <MenuItem primaryText={source.displayName} rightIcon={<Add />} />\n          ),\n          onClick: () => this._addFrom(source),\n        })),\n      {\n        text: '',\n        value: <Divider />,\n      },\n    ];\n  }\n\n  _loadFrom(resourcesManager: gdResourcesManager) {\n    this.allResourcesNames = resourcesManager.getAllResourceNames().toJSArray();\n    if (this.props.resourceKind) {\n      this.allResourcesNames = this.allResourcesNames.filter(resourceName => {\n        return (\n          resourcesManager.getResource(resourceName).getKind() ===\n          this.props.resourceKind\n        );\n      });\n    }\n    this.defaultItems = this._getDefaultItems();\n    this.autoCompleteData = [...this.defaultItems, ...this.allResourcesNames];\n  }\n\n  _addFrom = (source: ResourceSource) => {\n    if (!source) return;\n\n    const { project, onChooseResource } = this.props;\n    onChooseResource(source.name, false)\n      .then(resources => {\n        if (!resources.length) return;\n        const resource = resources[0];\n\n        // addResource will check if a resource with the same name exists, and if it is\n        // the case, no new resource will be added.\n        project.getResourcesManager().addResource(resource);\n\n        this._loadFrom(project.getResourcesManager());\n        this._onUpdate(resource.getName());\n      })\n      .catch(err => {\n        // TODO: Display an error message\n        console.error('Unable to choose a resource', err);\n      });\n  };\n\n  _onUpdate = (searchText: string) => {\n    this.setState(\n      {\n        resourceName: searchText,\n        notExistingError: this.allResourcesNames.indexOf(searchText) === -1,\n      },\n      () => {\n        if (!this.state.notExistingError) {\n          if (this.props.onChange) this.props.onChange(searchText);\n        }\n\n        // Keep focusing the field after choosing something (won't do anything\n        // if we're just typing text).\n        this.focus();\n      }\n    );\n  };\n\n  _onItemChosen = (text: string, index: number) => {\n    if (index === -1 || index >= this.defaultItems.length)\n      return this._onUpdate(text);\n\n    // We're now sure that onClick is defined\n    // $FlowFixMe\n    const onClick = this.defaultItems[index].onClick;\n    if (onClick) onClick();\n  };\n\n  _editWith = (resourceExternalEditor: ResourceExternalEditor) => {\n    const { project, resourcesLoader, resourceKind } = this.props;\n    const { resourceName } = this.state;\n    const resourcesManager = project.getResourcesManager();\n    const initialResource = resourcesManager.getResource(resourceName);\n\n    let initialResourceMetadata = {};\n    const initialResourceMetadataRaw = initialResource.getMetadata();\n    if (initialResourceMetadataRaw) {\n      try {\n        initialResourceMetadata = JSON.parse(initialResourceMetadataRaw);\n      } catch (e) {\n        console.error('Malformed metadata', e);\n      }\n    }\n\n    if (resourceKind === 'image') {\n      const resourceNames = [];\n      if (resourcesManager.hasResource(resourceName)) {\n        resourceNames.push(resourceName);\n      }\n      const externalEditorOptions = {\n        project,\n        resourcesLoader,\n        singleFrame: true,\n        resourceNames,\n        extraOptions: {\n          fps: 0,\n          name: resourceName,\n          isLooping: false,\n          externalEditorData: initialResourceMetadata,\n        },\n        onChangesSaved: resources => {\n          if (!resources.length) return;\n\n          // Burst the ResourcesLoader cache to force images to be reloaded (and not cached by the browser).\n          resourcesLoader.burstUrlsCacheForResources(project, [\n            resources[0].name,\n          ]);\n          this.props.onChange(resources[0].name);\n        },\n      };\n      resourceExternalEditor.edit(externalEditorOptions);\n    } else if (resourceKind === 'audio') {\n      const externalEditorOptions = {\n        project,\n        resourcesLoader,\n        resourceNames: [resourceName],\n        extraOptions: {\n          initialResourceMetadata,\n        },\n        onChangesSaved: (newResourceData, newResourceName) => {\n          // Burst the ResourcesLoader cache to force audio to be reloaded (and not cached by the browser).\n          resourcesLoader.burstUrlsCacheForResources(project, [\n            newResourceName,\n          ]);\n          this.props.onChange(newResourceName);\n        },\n      };\n      resourceExternalEditor.edit(externalEditorOptions);\n    }\n  };\n\n  render() {\n    const errorText = this.state.notExistingError\n      ? 'This resource does not exist in the game'\n      : null;\n\n    const externalEditors = this.props.resourceExternalEditors.filter(\n      externalEditor => externalEditor.kind === this.props.resourceKind\n    );\n\n    return (\n      <div style={styles.container}>\n        <AutoComplete\n          {...defaultAutocompleteProps}\n          floatingLabelText={this.props.floatingLabelText}\n          hintText={this.props.hintText}\n          openOnFocus\n          dataSource={this.autoCompleteData || []}\n          onUpdateInput={this._onUpdate}\n          onNewRequest={this._onItemChosen}\n          errorText={errorText}\n          searchText={this.state.resourceName}\n          fullWidth={this.props.fullWidth}\n          style={styles.autoComplete}\n          ref={autoComplete => (this._autoComplete = autoComplete)}\n        />\n        {!!externalEditors.length && (\n          <IconMenu\n            iconButtonElement={\n              <IconButton>\n                <Brush />\n              </IconButton>\n            }\n            buildMenuTemplate={() =>\n              externalEditors.map(externalEditor => ({\n                label: externalEditor.displayName,\n                click: () => this._editWith(externalEditor),\n              }))\n            }\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\n\nexport const getHelpLink = (path: string): string =>\n  `http://wiki.compilgames.net/doku.php/gdevelop5${path}?utm_source=gdevelop&utm_medium=help-link`;\n","import RenderedUnknownInstance from './Renderers/RenderedUnknownInstance';\nimport RenderedSpriteInstance from './Renderers/RenderedSpriteInstance';\nimport RenderedTiledSpriteInstance from './Renderers/RenderedTiledSpriteInstance';\nimport RenderedPanelSpriteInstance from './Renderers/RenderedPanelSpriteInstance';\nimport RenderedTextInstance from './Renderers/RenderedTextInstance';\nimport RenderedShapePainterInstance from './Renderers/RenderedShapePainterInstance';\nimport RenderedTextEntryInstance from './Renderers/RenderedTextEntryInstance';\nimport RenderedParticleEmitterInstance from './Renderers/RenderedParticleEmitterInstance';\nimport PixiResourcesLoader from './PixiResourcesLoader';\nimport ResourcesLoader from '../ResourcesLoader';\nimport RenderedInstance from './Renderers/RenderedInstance';\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * A service containing functions that are called to render instances\n * of objects in a PIXI.Container.\n */\nexport default {\n  renderers: {\n    unknownObjectType: RenderedUnknownInstance,\n    Sprite: RenderedSpriteInstance,\n    'TiledSpriteObject::TiledSprite': RenderedTiledSpriteInstance,\n    'PanelSpriteObject::PanelSprite': RenderedPanelSpriteInstance,\n    'TextObject::Text': RenderedTextInstance,\n    'PrimitiveDrawing::Drawer': RenderedShapePainterInstance,\n    'TextEntryObject::TextEntry': RenderedTextEntryInstance,\n    'ParticleSystem::ParticleEmitter': RenderedParticleEmitterInstance,\n  },\n  getThumbnail: function(project, object) {\n    var objectType = object.getType();\n    if (this.renderers.hasOwnProperty(objectType))\n      return this.renderers[objectType].getThumbnail(\n        project,\n        ResourcesLoader,\n        object\n      );\n    else\n      return this.renderers['unknownObjectType'].getThumbnail(\n        project,\n        ResourcesLoader,\n        object\n      );\n  },\n  createNewInstanceRenderer: function(\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer\n  ) {\n    var objectType = associatedObject.getType();\n    if (this.renderers.hasOwnProperty(objectType))\n      return new this.renderers[objectType](\n        project,\n        layout,\n        instance,\n        associatedObject,\n        pixiContainer,\n        PixiResourcesLoader\n      );\n    else {\n      console.warn(\n        `Object with type ${objectType} has no instance renderer registered. Please use registerInstanceRenderer to register your renderer.`\n      );\n      return new this.renderers['unknownObjectType'](\n        project,\n        layout,\n        instance,\n        associatedObject,\n        pixiContainer,\n        PixiResourcesLoader\n      );\n    }\n  },\n  registerInstanceRenderer: function(objectType, renderer) {\n    if (!renderer.getThumbnail) {\n      console.warn(\n        `Tried to register renderer for object \"${objectType}\", but getThumbnail is not defined.`\n      );\n      return;\n    }\n\n    if (this.renderers.hasOwnProperty(objectType)) {\n      console.warn(\n        `Tried to register renderer for object \"${objectType}\", but a renderer already exists.`\n      );\n      return;\n    }\n\n    console.info(`Properly registered renderer for object \"${objectType}\".`);\n    this.renderers[objectType] = renderer;\n  },\n  gd, // Expose gd so that it can be used by renderers\n  PIXI, // Expose PIXI so that it can be used by renderers\n  RenderedInstance, // Expose the base class for renderers so that it can be used by renderers\n};\n","// @flow\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\n\ntype Props = {|\n  children: React.Node,\n|};\n\nexport default (props: Props) => {\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      <Paper\n        zDepth={3}\n        style={{\n          padding: 10,\n          margin: 5,\n        }}\n      >\n        {props.children}\n      </Paper>\n    </div>\n  );\n};\n","import React, { Component } from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport ThemeConsumer from './Theme/ThemeConsumer';\n\n/**\n * An icon that can be used in a ToolbarGroup of material-ui Toolbar.\n * See also ListIcon.\n */\nexport default class ToolbarIcon extends Component {\n  render() {\n    const { src, tooltip, disabled, ...otherProps } = this.props;\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <IconButton\n            {...otherProps}\n            iconStyle={{\n              //Properly align icons with the rest of the toolbar\n              marginLeft: -4,\n              marginTop: -4,\n              filter: disabled\n                ? 'grayscale(100%)'\n                : muiTheme.gdevelopIconsCSSFilter,\n            }}\n          >\n            <img\n              title={tooltip}\n              alt={tooltip}\n              src={src}\n              width={32}\n              height={32}\n            />\n          </IconButton>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","import React from 'react';\nimport { ToolbarSeparator } from 'material-ui/Toolbar';\n\nexport default props => {\n  return (\n    <ToolbarSeparator\n      style={{\n        marginLeft: 0,\n      }}\n      {...props}\n    />\n  );\n};\n","// @flow\nimport React, { PureComponent } from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport ThemeConsumer from './Theme/ThemeConsumer';\n// No i18n in this file\n\ntype Props = {\n  src: string,\n  tooltip?: string,\n  disabled?: boolean,\n  isGDevelopIcon?: boolean,\n  iconSize: number,\n};\n\n/**\n * An icon that can be used as the leftIcon of a material-ui ListItem.\n * See also ToolbarIcon.\n */\nexport default class ListIcon extends PureComponent<Props> {\n  render() {\n    const {\n      src,\n      tooltip,\n      disabled,\n      isGDevelopIcon,\n      iconSize,\n      ...otherProps\n    } = this.props;\n\n    const margin = -iconSize / 2;\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <IconButton\n            {...otherProps}\n            iconStyle={{\n              //Properly align icons with the rest of the list\n              marginLeft: margin,\n              marginTop: margin,\n              maxWidth: iconSize,\n              maxHeight: iconSize,\n              filter: !isGDevelopIcon\n                ? undefined\n                : disabled\n                ? 'grayscale(100%)'\n                : muiTheme.gdevelopIconsCSSFilter,\n            }}\n          >\n            <img\n              title={tooltip}\n              alt={tooltip}\n              src={src}\n              crossOrigin=\"anonymous\"\n            />\n          </IconButton>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","// @flow\nimport { showErrorBox } from '../UI/Messages/MessageBox';\nimport values from 'lodash/values';\n\nexport type ProjectError = {\n  type: 'error' | 'warning',\n  message: string,\n  extraExplanation: string,\n};\n\nexport type ProjectErrors = {\n  [string]: Array<ProjectError>,\n};\n\ntype TFunction = string => string; //TODO\n\nexport const getErrors = (t: TFunction, project: gdProject): ProjectErrors => {\n  const errors: ProjectErrors = {};\n\n  const addError = (\n    propertyName: string,\n    type: 'error' | 'warning',\n    message: string,\n    extraExplanation: string = ''\n  ) => {\n    if (!errors[propertyName]) errors[propertyName] = [];\n\n    errors[propertyName].push({\n      type,\n      message,\n      extraExplanation,\n    });\n  };\n\n  if (!project.getPackageName()) {\n    addError(\n      'packageName',\n      'error',\n      t('The package name is empty.'),\n      t('Choose and enter a package name in the game properties.')\n    );\n  } else if (project.getPackageName().length >= 255) {\n    addError(\n      'packageName',\n      'error',\n      t('The package name is too long.'),\n      t('Change the package name in the game properties.')\n    );\n  }\n\n  if (!project.getName()) {\n    addError(\n      'name',\n      'error',\n      t('The name of your game is too long.'),\n      t('Change the name in the game properties.')\n    );\n  }\n\n  if (!project.getVersion() || project.getVersion().split('.').length < 3) {\n    addError(\n      'packageName',\n      'error',\n      t(\"The version that you've set for the game is invalid.\"),\n      t('Enter a version in the game properties.')\n    );\n  }\n\n  return errors;\n};\n\nexport const displayProjectErrorsBox = (\n  t: TFunction,\n  errors: ProjectErrors\n): boolean => {\n  if (!Object.keys(errors).length) return true;\n\n  showErrorBox(\n    t(\n      'Your game has some invalid elements, please fix these before continuing:'\n    ) +\n      '\\n\\n' +\n      values(errors)\n        .map(errors =>\n          errors.map((error: ProjectError) => `- ${error.message}`).join('\\n')\n        )\n        .join('\\n')\n  );\n\n  return false;\n};\n","// @flow\nimport * as React from 'react';\nimport Instruction, { reactDndInstructionType } from './Instruction';\nimport { mapFor } from '../../Utils/MapFor';\nimport {\n  isInstructionSelected,\n  type InstructionsListContext,\n  type InstructionContext,\n  type ParameterContext,\n} from '../SelectionHandler';\nimport { actionsContainer, conditionsContainer } from './ClassNames';\nimport {\n  DropTarget,\n  type DropTargetMonitor,\n  type DropTargetConnector,\n  type ConnectDropTarget,\n} from 'react-dnd';\nimport DropIndicator from './DropIndicator';\nimport { Trans } from '@lingui/macro';\n\nconst styles = {\n  addButton: {\n    cursor: 'pointer',\n  },\n};\n\ntype DropTargetProps = {|\n  connectDropTarget: ConnectDropTarget,\n  isOver: boolean,\n  canDrop: boolean,\n|};\n\ntype Props = {\n  instrsList: gdInstructionsList,\n  areConditions: boolean,\n  onAddNewInstruction: InstructionsListContext => void,\n  onMoveToInstruction: (destinationContext: InstructionContext) => void,\n  onMoveToInstructionsList: (\n    destinationContext: InstructionsListContext\n  ) => void,\n  onInstructionClick: InstructionContext => void,\n  onInstructionDoubleClick: InstructionContext => void,\n  onInstructionContextMenu: (x: number, y: number, InstructionContext) => void,\n  onInstructionsListContextMenu: (\n    x: number,\n    y: number,\n    InstructionsListContext\n  ) => void,\n  onParameterClick: ParameterContext => void,\n  selection: any,\n  addButtonLabel?: React.Node,\n  extraClassName?: string,\n  style?: Object,\n  disabled: boolean,\n  renderObjectThumbnail: string => React.Node,\n  ...DropTargetProps,\n};\n\nclass InstructionsList extends React.Component<Props, *> {\n  onAddNewInstruction = () => {\n    if (this.props.onAddNewInstruction)\n      this.props.onAddNewInstruction({\n        instrsList: this.props.instrsList,\n        isCondition: this.props.areConditions,\n      });\n  };\n\n  render() {\n    const {\n      addButtonLabel,\n      areConditions,\n      extraClassName,\n      instrsList,\n      onAddNewInstruction,\n      onMoveToInstruction,\n      onMoveToInstructionsList,\n      onInstructionClick,\n      onInstructionContextMenu,\n      onInstructionDoubleClick,\n      onInstructionsListContextMenu,\n      onParameterClick,\n      selection,\n      style,\n      disabled,\n    } = this.props;\n\n    const { connectDropTarget, isOver, canDrop } = this.props;\n\n    const instructions = mapFor(0, instrsList.size(), i => {\n      const instruction = instrsList.get(i);\n      const instructionContext = {\n        isCondition: areConditions,\n        instrsList: instrsList,\n        instruction,\n        indexInList: i,\n      };\n\n      return (\n        // $FlowFixMe - Flow don't see that DropTarget hoc is being used in instructions?\n        <Instruction\n          instruction={instruction}\n          isCondition={areConditions}\n          key={instruction.ptr}\n          selected={isInstructionSelected(selection, instruction)}\n          onMoveToInstruction={() => onMoveToInstruction(instructionContext)}\n          onClick={() => onInstructionClick(instructionContext)}\n          onDoubleClick={() => onInstructionDoubleClick(instructionContext)}\n          onContextMenu={(x, y) =>\n            onInstructionContextMenu(x, y, instructionContext)\n          }\n          onParameterClick={(domEvent, parameterIndex) =>\n            onParameterClick({\n              isCondition: instructionContext.isCondition,\n              instrsList: instructionContext.instrsList,\n              instruction: instructionContext.instruction,\n              indexInList: instructionContext.indexInList,\n              parameterIndex,\n              domEvent,\n            })\n          }\n          selection={selection}\n          onAddNewSubInstruction={onAddNewInstruction}\n          onMoveToSubInstruction={onMoveToInstruction}\n          onMoveToSubInstructionsList={onMoveToInstructionsList}\n          onSubInstructionClick={onInstructionClick}\n          onSubInstructionDoubleClick={onInstructionDoubleClick}\n          onSubInstructionContextMenu={onInstructionContextMenu}\n          onSubInstructionsListContextMenu={onInstructionsListContextMenu}\n          onSubParameterClick={onParameterClick}\n          disabled={disabled}\n          renderObjectThumbnail={this.props.renderObjectThumbnail}\n        />\n      );\n    });\n\n    const instructionsListContext = {\n      isCondition: areConditions,\n      instrsList: instrsList,\n    };\n    const addButtonDefaultLabel = areConditions ? (\n      <Trans>Add condition</Trans>\n    ) : (\n      <Trans>Add action</Trans>\n    );\n    const instructionsList = connectDropTarget(\n      <div\n        className={`${\n          areConditions ? conditionsContainer : actionsContainer\n        } ${extraClassName || ''}`}\n        style={style}\n      >\n        {instructions}\n        {isOver && <DropIndicator canDrop={canDrop} />}\n        <button\n          style={styles.addButton}\n          className=\"add-link\"\n          onClick={this.onAddNewInstruction}\n          onContextMenu={e => {\n            e.stopPropagation();\n            onInstructionsListContextMenu(\n              e.clientX,\n              e.clientY,\n              instructionsListContext\n            );\n          }}\n        >\n          {addButtonLabel || addButtonDefaultLabel}\n        </button>\n      </div>\n    );\n\n    return instructionsList || null;\n  }\n}\n\n// Drag'n'drop support:\n\nconst instructionsListTarget = {\n  canDrop(props: Props, monitor: DropTargetMonitor) {\n    return (\n      monitor.getItem() && monitor.getItem().isCondition === props.areConditions\n    );\n  },\n  drop(props: Props, monitor: DropTargetMonitor) {\n    if (monitor.didDrop()) {\n      return; // Drop already handled by an instruction\n    }\n    props.onMoveToInstructionsList({\n      isCondition: props.areConditions,\n      instrsList: props.instrsList,\n    });\n  },\n};\n\nfunction targetCollect(\n  connect: DropTargetConnector,\n  monitor: DropTargetMonitor\n): DropTargetProps {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n  };\n}\n\n// $FlowFixMe - Typing of DragSource/DropTarget is a pain to get correctly\nexport default DropTarget(\n  reactDndInstructionType,\n  instructionsListTarget,\n  targetCollect\n)(InstructionsList);\n","// @flow\nimport { mapFor } from '../Utils/MapFor';\nimport flatten from 'lodash/flatten';\nconst gd = global.gd;\n\nexport type EnumeratedObjectMetadata = {|\n  extension: gdPlatformExtension,\n  objectMetadata: gdObjectMetadata,\n  name: string,\n  fullName: string,\n  description: string,\n  iconFilename: string,\n|};\n\nexport type ObjectWithContext = {|\n  object: gdObject,\n  global: boolean,\n|};\n\nexport type GroupWithContext = {|\n  group: gdObjectGroup,\n  global: boolean,\n|};\n\nexport type ObjectWithContextList = Array<ObjectWithContext>;\nexport type GroupWithContextList = Array<GroupWithContext>;\n\nexport const enumerateObjects = (\n  project: gdProject,\n  objectsContainer: gdObjectsContainer,\n  type: ?string = undefined\n) => {\n  const filterObject = (object: gdObject): boolean => {\n    return (\n      !type ||\n      gd.getTypeOfObject(project, objectsContainer, object.getName(), false) ===\n        type\n    );\n  };\n\n  const containerObjectsList: ObjectWithContextList = mapFor(\n    0,\n    objectsContainer.getObjectsCount(),\n    i => objectsContainer.getObjectAt(i)\n  )\n    .filter(filterObject)\n    .map((object: gdObject): ObjectWithContext => ({ object, global: false }));\n\n  const projectObjectsList: ObjectWithContextList =\n    project === objectsContainer\n      ? []\n      : mapFor(0, project.getObjectsCount(), i => project.getObjectAt(i))\n          .filter(filterObject)\n          .map(\n            (object: gdObject): ObjectWithContext => ({\n              object,\n              global: true,\n            })\n          );\n\n  const allObjectsList: ObjectWithContextList = containerObjectsList.concat(\n    projectObjectsList\n  );\n\n  return {\n    containerObjectsList,\n    projectObjectsList,\n    allObjectsList,\n  };\n};\n\nexport const enumerateObjectTypes = (\n  project: gdProject\n): Array<EnumeratedObjectMetadata> => {\n  const platform = project.getCurrentPlatform();\n  const extensionsList = platform.getAllPlatformExtensions();\n\n  return flatten(\n    mapFor(0, extensionsList.size(), i => {\n      const extension = extensionsList.at(i);\n\n      return extension\n        .getExtensionObjectsTypes()\n        .toJSArray()\n        .map(objectType => extension.getObjectMetadata(objectType))\n        .map(objectMetadata => ({\n          extension,\n          objectMetadata,\n          name: objectMetadata.getName(),\n          fullName: objectMetadata.getFullName(),\n          description: objectMetadata.getDescription(),\n          iconFilename: objectMetadata.getIconFilename(),\n        }));\n    })\n  );\n};\n\nexport const filterObjectsList = (\n  list: ObjectWithContextList,\n  searchText: string\n): ObjectWithContextList => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter((objectWithContext: ObjectWithContext) => {\n    return (\n      objectWithContext.object\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n    );\n  });\n};\n\nexport const filterGroupsList = (\n  list: GroupWithContextList,\n  searchText: string\n): GroupWithContextList => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter((groupWithContext: GroupWithContext) => {\n    return (\n      groupWithContext.group\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n    );\n  });\n};\n\nexport const enumerateGroups = (\n  objectGroups: gdObjectGroupsContainer\n): Array<gdObjectGroup> => {\n  return mapFor(0, objectGroups.count(), i => {\n    return objectGroups.getAt(i);\n  });\n};\n\nexport const enumerateObjectsAndGroups = (\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  type: ?string = undefined\n) => {\n  const filterObject = (object: gdObject): boolean => {\n    return (\n      !type ||\n      gd.getTypeOfObject(\n        globalObjectsContainer,\n        objectsContainer,\n        object.getName(),\n        false\n      ) === type\n    );\n  };\n  const filterGroup = (group: gdObjectGroup): boolean => {\n    return (\n      !type ||\n      gd.getTypeOfObject(\n        globalObjectsContainer,\n        objectsContainer,\n        group.getName(),\n        true\n      ) === type\n    );\n  };\n\n  const containerObjectsList: ObjectWithContextList = mapFor(\n    0,\n    objectsContainer.getObjectsCount(),\n    i => objectsContainer.getObjectAt(i)\n  )\n    .filter(filterObject)\n    .map(object => ({ object, global: false }));\n\n  const containerGroups = objectsContainer.getObjectGroups();\n  const containerGroupsList: GroupWithContextList = enumerateGroups(\n    containerGroups\n  )\n    .filter(filterGroup)\n    .map(group => ({ group, global: false }));\n\n  const projectObjectsList: ObjectWithContextList =\n    globalObjectsContainer === objectsContainer\n      ? []\n      : mapFor(0, globalObjectsContainer.getObjectsCount(), i =>\n          globalObjectsContainer.getObjectAt(i)\n        )\n          .filter(filterObject)\n          .map(object => ({ object, global: true }));\n\n  const projectGroups = globalObjectsContainer.getObjectGroups();\n  const projectGroupsList: GroupWithContextList =\n    globalObjectsContainer === objectsContainer\n      ? []\n      : enumerateGroups(projectGroups)\n          .filter(filterGroup)\n          .map(group => ({ group, global: true }));\n\n  const allObjectsList: ObjectWithContextList = containerObjectsList.concat(\n    projectObjectsList\n  );\n  const allGroupsList: GroupWithContextList = containerGroupsList.concat(\n    projectGroupsList\n  );\n\n  return {\n    containerObjectsList,\n    projectObjectsList,\n    allObjectsList,\n    containerGroupsList,\n    projectGroupsList,\n    allGroupsList,\n  };\n};\n","// @flow\n\n/**\n * Convert a rgb color value to a string hex value.\n * @note No \"#\" or \"0x\" are added.\n */\nexport const rgbToHex = (r: number, g: number, b: number) =>\n  '' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n/**\n * Convert a rgb color value to a hex value.\n */\nexport const rgbToHexNumber = (r: number, g: number, b: number) =>\n  (r << 16) + (g << 8) + b;\n","import React, { Component } from 'react';\nimport Popover from 'material-ui/Popover';\n\nconst styles = {\n  popover: {\n    paddingBottom: 10,\n    paddingLeft: 5,\n    paddingRight: 5,\n    maxWidth: 600,\n    height: 80,\n    overflowY: 'hidden',\n  },\n  contentContainer: {\n    overflow: 'hidden',\n  },\n};\n\nexport default class InlinePopover extends Component {\n  render() {\n    return (\n      <Popover\n        open={this.props.open}\n        anchorEl={this.props.anchorEl}\n        style={styles.popover}\n        anchorOrigin={{ horizontal: 'middle', vertical: 'bottom' }}\n        targetOrigin={{ horizontal: 'middle', vertical: 'top' }}\n        onRequestClose={this.props.onRequestClose}\n      >\n        <div style={styles.contentContainer}>{this.props.children}</div>\n      </Popover>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst style = {\n  display: 'flex',\n  alignItems: 'center',\n  paddingLeft: 16,\n  paddingRight: 16,\n};\n\nclass ThemableMiniToolbar extends Component {\n  render() {\n    const { muiTheme, justifyContent, smallest } = this.props;\n\n    return (\n      <div\n        style={{\n          ...style,\n          height: smallest ? 34 : 48,\n          backgroundColor: muiTheme.toolbar.backgroundColor,\n          justifyContent,\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nconst toolbarTextStyle = {\n  marginRight: 5,\n};\n\nexport const MiniToolbarText = ({ children }) => (\n  <p style={toolbarTextStyle}>{children}</p>\n);\n\nexport default muiThemeable()(ThemableMiniToolbar);\n","// @flow\nimport * as React from 'react';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport InlineCheckbox from '../UI/InlineCheckbox';\nimport ResourceSelector from '../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../ResourcesLoader';\nimport Subheader from 'material-ui/Subheader';\nimport FlatButton from 'material-ui/FlatButton';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport Edit from 'material-ui/svg-icons/image/edit';\nimport IconButton from 'material-ui/IconButton';\nimport {\n  type ResourceKind,\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\n\n// An \"instance\" here is the objects for which properties are shown\nexport type Instance = Object; // This could be improved using generics.\nexport type Instances = Array<Instance>;\n\n// \"Value\" fields are fields displayed in the properties.\nexport type ValueFieldCommonProperties = {|\n  name: string,\n  getLabel?: Instance => string,\n  disabled?: boolean,\n  onEditButtonClick?: Instance => void,\n  onClick?: Instance => void,\n|};\n\n// \"Primitive\" value fields are \"simple\" fields.\nexport type PrimitiveValueField =\n  | {|\n      valueType: 'number',\n      getValue: Instance => number,\n      setValue: (instance: Instance, newValue: number) => void,\n      ...ValueFieldCommonProperties,\n    |}\n  | {|\n      valueType: 'string',\n      getValue: Instance => string,\n      setValue: (instance: Instance, newValue: string) => void,\n      getChoices?: ?() => Array<{| value: string, label: string |}>,\n      ...ValueFieldCommonProperties,\n    |}\n  | {|\n      valueType: 'boolean',\n      getValue: Instance => boolean,\n      setValue: (instance: Instance, newValue: boolean) => void,\n      ...ValueFieldCommonProperties,\n    |};\n\n// \"Resource\" fields are showing a resource selector.\ntype ResourceField = {|\n  valueType: 'resource',\n  resourceKind: ResourceKind,\n  getValue: Instance => string,\n  setValue: (instance: Instance, newValue: string) => void,\n  ...ValueFieldCommonProperties,\n|};\n\n// A value field is a primitive or a resource.\nexport type ValueField = PrimitiveValueField | ResourceField;\n\n// A field can be a primitive, a resource or a list of fields\nexport type Field =\n  | PrimitiveValueField\n  | ResourceField\n  | {|\n      name: string,\n      type: 'row' | 'column',\n      children: Array<Object>,\n    |};\n\n// The schema is the tree of all fields.\nexport type Schema = Array<Field>;\n\n// Mandatory props in any case when using the component\ntype MandatoryProps = {|\n  onInstancesModified?: Instances => void,\n  instances: Instances,\n  schema: Schema,\n  mode?: 'column' | 'row',\n|};\n\ntype Props =\n  // Mandatory props in all cases:\n  | MandatoryProps\n  // Props to be used when you want to display resources:\n  | {|\n      ...MandatoryProps,\n      project: gdProject,\n      resourceSources: Array<ResourceSource>,\n      onChooseResource: ChooseResourceFunction,\n      resourceExternalEditors: Array<ResourceExternalEditor>,\n    |};\n\nconst styles = {\n  columnContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  rowContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'baseline',\n  },\n  fieldContainer: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'baseline',\n  },\n  field: {\n    flex: 1,\n    width: 'auto',\n  },\n  subPropertiesEditorContainer: {\n    marginLeft: 15,\n  },\n  subHeader: {\n    paddingLeft: 0,\n  },\n};\n\nconst getFieldValue = (\n  instances: Instances,\n  field: ValueField,\n  defaultValue?: any\n): any => {\n  if (!instances[0]) {\n    console.log(\n      'getFieldValue was called with an empty list of instances (or containing undefined). This is a bug that should be fixed'\n    );\n    return defaultValue;\n  }\n\n  let value = field.getValue(instances[0]);\n  for (var i = 1; i < instances.length; ++i) {\n    if (value !== field.getValue(instances[i])) {\n      if (typeof defaultValue !== 'undefined') value = defaultValue;\n      break;\n    }\n  }\n\n  return value;\n};\n\nconst getFieldLabel = (instances: Instances, field: ValueField): any => {\n  if (!instances[0]) {\n    console.log(\n      'PropertiesEditor._getFieldLabel was called with an empty list of instances (or containing undefined). This is a bug that should be fixed'\n    );\n    return field.name;\n  }\n\n  if (field.getLabel) return field.getLabel(instances[0]);\n\n  return field.name;\n};\n\nexport default class PropertiesEditor extends React.Component<Props, {||}> {\n  _onInstancesModified = (instances: Instances) => {\n    // This properties editor is dealing with fields that are\n    // responsible to update their state (see field.setValue).\n\n    if (this.props.onInstancesModified)\n      this.props.onInstancesModified(instances);\n    else this.forceUpdate();\n  };\n\n  _renderInputField = (field: ValueField) => {\n    if (field.name === 'PLEASE_ALSO_SHOW_EDIT_BUTTON_THANKS') return null; // This special property was used in GDevelop 4 IDE to ask for a Edit button to be shown, ignore it.\n\n    if (field.valueType === 'boolean') {\n      return (\n        <InlineCheckbox\n          label={getFieldLabel(this.props.instances, field)}\n          key={field.name}\n          checked={getFieldValue(this.props.instances, field)}\n          onCheck={(event, newValue) => {\n            this.props.instances.forEach(i => field.setValue(i, !!newValue));\n            this._onInstancesModified(this.props.instances);\n          }}\n          disabled={field.disabled}\n        />\n      );\n    } else if (field.valueType === 'number') {\n      const { setValue } = field;\n      return (\n        <SemiControlledTextField\n          value={getFieldValue(this.props.instances, field)}\n          key={field.name}\n          id={field.name}\n          floatingLabelText={getFieldLabel(this.props.instances, field)}\n          floatingLabelFixed\n          onChange={newValue => {\n            this.props.instances.forEach(i =>\n              setValue(i, parseFloat(newValue) || 0)\n            );\n            this._onInstancesModified(this.props.instances);\n          }}\n          type=\"number\"\n          style={styles.field}\n          disabled={field.disabled}\n        />\n      );\n    } else {\n      const { onEditButtonClick, setValue } = field;\n      return (\n        <div style={styles.fieldContainer} key={field.name}>\n          <SemiControlledTextField\n            value={getFieldValue(\n              this.props.instances,\n              field,\n              '(Multiple values)'\n            )}\n            id={field.name}\n            floatingLabelText={getFieldLabel(this.props.instances, field)}\n            floatingLabelFixed\n            onChange={newValue => {\n              this.props.instances.forEach(i => setValue(i, newValue || ''));\n              this._onInstancesModified(this.props.instances);\n            }}\n            style={styles.field}\n            disabled={field.disabled}\n          />\n          {onEditButtonClick && (\n            <IconButton\n              disabled={this.props.instances.length !== 1}\n              onClick={() => onEditButtonClick(this.props.instances[0])}\n            >\n              <Edit />\n            </IconButton>\n          )}\n        </div>\n      );\n    }\n  };\n\n  _renderSelectField = (field: ValueField) => {\n    if (!field.getChoices || !field.getValue) return;\n\n    const children = field\n      .getChoices()\n      .map(({ value, label }) => (\n        <MenuItem key={value} value={value} primaryText={label} />\n      ));\n\n    if (field.valueType === 'number') {\n      const { setValue } = field;\n      return (\n        <SelectField\n          value={getFieldValue(this.props.instances, field)}\n          key={field.name}\n          floatingLabelText={getFieldLabel(this.props.instances, field)}\n          floatingLabelFixed\n          onChange={(event, index, newValue) => {\n            this.props.instances.forEach(i =>\n              setValue(i, parseFloat(newValue) || 0)\n            );\n            this._onInstancesModified(this.props.instances);\n          }}\n          style={styles.field}\n          disabled={field.disabled}\n        >\n          {children}\n        </SelectField>\n      );\n    } else {\n      return (\n        <SelectField\n          value={getFieldValue(\n            this.props.instances,\n            field,\n            '(Multiple values)'\n          )}\n          key={field.name}\n          floatingLabelText={getFieldLabel(this.props.instances, field)}\n          floatingLabelFixed\n          onChange={(event, index, newValue) => {\n            this.props.instances.forEach(i =>\n              field.setValue(i, newValue || '')\n            );\n            this._onInstancesModified(this.props.instances);\n          }}\n          style={styles.field}\n          disabled={field.disabled}\n        >\n          {children}\n        </SelectField>\n      );\n    }\n  };\n\n  _renderButton = (field: ValueField) => {\n    //TODO: multi selection handling\n    return (\n      <FlatButton\n        key={field.name}\n        fullWidth\n        primary\n        label={getFieldLabel(this.props.instances, field)}\n        onClick={() => {\n          if (field.onClick) field.onClick(this.props.instances[0]);\n        }}\n      />\n    );\n  };\n\n  _renderResourceField = (field: ResourceField) => {\n    if (!this.props.project) {\n      console.error(\n        'You tried to display a resource field in a PropertiesEditor that does not support display resources. If you need to display resources, pass additional props (project, resourceSources, etc...)'\n      );\n      return;\n    }\n\n    const { setValue } = field;\n    return (\n      <ResourceSelector\n        key={field.name}\n        project={this.props.project}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        resourcesLoader={ResourcesLoader}\n        resourceKind={field.resourceKind}\n        fullWidth\n        initialResourceName={getFieldValue(\n          this.props.instances,\n          field,\n          '(Multiple values)' //TODO\n        )}\n        onChange={newValue => {\n          this.props.instances.forEach(i => setValue(i, newValue));\n          this._onInstancesModified(this.props.instances);\n        }}\n        floatingLabelText={getFieldLabel(this.props.instances, field)}\n      />\n    );\n  };\n\n  render() {\n    const { mode } = this.props;\n\n    return (\n      <div\n        style={mode === 'row' ? styles.rowContainer : styles.columnContainer}\n      >\n        {this.props.schema.map(field => {\n          if (field.children) {\n            if (field.type === 'row') {\n              return (\n                <PropertiesEditor\n                  key={field.name}\n                  schema={field.children}\n                  instances={this.props.instances}\n                  mode=\"row\"\n                />\n              );\n            }\n\n            return (\n              <div key={field.name}>\n                <Subheader style={styles.subHeader}>{field.name}</Subheader>\n                <div style={styles.subPropertiesEditorContainer}>\n                  <PropertiesEditor\n                    schema={field.children}\n                    instances={this.props.instances}\n                    mode=\"column\"\n                  />\n                </div>\n              </div>\n            );\n          } else if (field.valueType === 'resource') {\n            return this._renderResourceField(field);\n          } else {\n            if (field.getChoices && field.getValue)\n              return this._renderSelectField(field);\n            if (field.getValue) return this._renderInputField(field);\n            if (field.onClick) return this._renderButton(field);\n          }\n\n          return null;\n        })}\n      </div>\n    );\n  }\n}\n","// @flow\nimport { mapFor } from '../Utils/MapFor';\nimport { type Schema, type Instance } from '.';\n\n/**\n * Transform a MapStringPropertyDescriptor to a schema that can be used in PropertiesEditor.\n *\n * @param {gdMapStringPropertyDescriptor} properties The properties to use\n * @param {*} getProperties The function called to read again the properties\n * @param {*} onUpdateProperty The function called to update a property of an object\n */\nexport default (\n  properties: gdMapStringPropertyDescriptor,\n  getProperties: (instance: Instance) => any,\n  onUpdateProperty: (\n    instance: Instance,\n    propertyName: string,\n    newValue: string\n  ) => void\n): Schema => {\n  const propertyNames = properties.keys();\n  const propertyFields = mapFor(0, propertyNames.size(), i => {\n    const name = propertyNames.at(i);\n    const property = properties.get(name);\n    const valueType = property.getType().toLowerCase();\n    const getLabel = (instance: Instance) => {\n      const propertyName = getProperties(instance)\n        .get(name)\n        .getLabel();\n      if (propertyName) return propertyName;\n      return (\n        name.charAt(0).toUpperCase() +\n        name\n          .slice(1)\n          .split(/(?=[A-Z])/)\n          .join(' ')\n      );\n    };\n\n    if (valueType === 'number') {\n      return {\n        name,\n        valueType,\n        getValue: (instance: Instance): number => {\n          return parseFloat(\n            getProperties(instance)\n              .get(name)\n              .getValue()\n          );\n        },\n        setValue: (instance: Instance, newValue: number) => {\n          onUpdateProperty(instance, name, '' + newValue);\n        },\n        getLabel,\n      };\n    } else if (valueType === 'string' || valueType === '') {\n      return {\n        name,\n        valueType: 'string',\n        getValue: (instance: Instance): string => {\n          return getProperties(instance)\n            .get(name)\n            .getValue();\n        },\n        setValue: (instance: Instance, newValue: string) => {\n          onUpdateProperty(instance, name, newValue);\n        },\n        getLabel,\n      };\n    } else if (valueType === 'boolean') {\n      return {\n        name,\n        valueType,\n        getValue: (instance: Instance): boolean => {\n          return (\n            getProperties(instance)\n              .get(name)\n              .getValue() === 'true'\n          );\n        },\n        setValue: (instance: Instance, newValue: boolean) => {\n          onUpdateProperty(instance, name, newValue ? '1' : '0');\n        },\n        getLabel,\n      };\n    } else if (valueType === 'choice') {\n      // Choice is a \"string\" (with a selector for the user in the UI)\n      const choices = property\n        .getExtraInfo()\n        .toJSArray()\n        .map(value => ({ value, label: value }));\n      return {\n        name,\n        valueType: 'string',\n        getChoices: () => choices,\n        getValue: (instance: Instance): string => {\n          return getProperties(instance)\n            .get(name)\n            .getValue();\n        },\n        setValue: (instance: Instance, newValue: string) => {\n          onUpdateProperty(instance, name, newValue);\n        },\n        getLabel,\n      };\n    } else if (valueType === 'resource') {\n      // Resource is a \"string\" (with a selector in the UI)\n      const kind = property.getExtraInfo().toJSArray()[0] || '';\n      return {\n        name,\n        valueType: 'resource',\n        resourceKind: kind,\n        getValue: (instance: Instance): string => {\n          return getProperties(instance)\n            .get(name)\n            .getValue();\n        },\n        setValue: (instance: Instance, newValue: string) => {\n          onUpdateProperty(instance, name, newValue);\n        },\n        getLabel,\n      };\n    } else {\n      console.error(\n        `A property with type=${valueType} could not be mapped to a field. Ensure that this type is correct and understood by the IDE.`\n      );\n      return null;\n    }\n  }).filter(Boolean);\n\n  return propertyFields;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ResourcesLoader from '../../ResourcesLoader';\n\nconst MARGIN = 50;\n\nconst styles = {\n  imagePreviewContainer: {\n    position: 'relative',\n    display: 'inline-block',\n    width: '100%',\n    textAlign: 'center',\n    border: '#AAAAAA 1px solid',\n    overflow: 'scroll',\n    height: 200,\n    background: 'url(\"res/transparentback.png\") repeat',\n  },\n  spriteThumbnailImage: {\n    pointerEvents: 'none',\n    margin: MARGIN,\n  },\n  overlayContainer: {\n    textAlign: 'initial',\n    position: 'absolute',\n    top: MARGIN,\n    left: '50%',\n    transform: 'translate(-50%, 0)',\n  },\n  box: {\n    border: '1px solid black',\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  resourceName: string,\n  resourcePath?: string,\n  resourcesLoader: typeof ResourcesLoader,\n  children?: any,\n  style?: Object,\n  onSize?: (number, number) => void,\n|};\n\ntype State = {|\n  errored: boolean,\n  imageWidth: ?number,\n  imageHeight: ?number,\n  imageSource: ?string,\n|};\n\n/**\n * Display the preview for a resource of a project with kind \"image\".\n */\nexport default class ImagePreview extends React.Component<Props, State> {\n  _container: ?HTMLDivElement = null;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = this._loadFrom(props);\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      newProps.resourceName !== this.props.resourceName ||\n      newProps.project !== this.props.project ||\n      newProps.resourcesLoader !== this.props.resourcesLoader ||\n      newProps.resourcePath !== this.props.resourcePath\n    ) {\n      this.setState(this._loadFrom(newProps));\n    }\n  }\n\n  _loadFrom(props: Props): State {\n    const { project, resourceName, resourcesLoader } = props;\n    return {\n      errored: false,\n      imageWidth: null,\n      imageHeight: null,\n      imageSource: resourcesLoader.getResourceFullUrl(project, resourceName),\n    };\n  }\n\n  componentDidMount() {\n    if (this._container) {\n      this._container.scrollTop = MARGIN;\n      this._container.scrollLeft = MARGIN;\n    }\n  }\n\n  _handleError = () => {\n    this.setState({\n      errored: true,\n    });\n  };\n\n  _handleImageLoaded = (e: any) => {\n    const imgElement = e.target;\n\n    const imageWidth = imgElement ? imgElement.clientWidth : 0;\n    const imageHeight = imgElement ? imgElement.clientHeight : 0;\n    this.setState({\n      imageWidth,\n      imageHeight,\n    });\n    if (this.props.onSize) this.props.onSize(imageWidth, imageHeight);\n  };\n\n  render() {\n    const { resourceName, style, children } = this.props;\n\n    const { imageHeight, imageWidth, imageSource } = this.state;\n\n    const overlayStyle = {\n      ...styles.overlayContainer,\n      width: this.state.imageWidth,\n      height: this.state.imageHeight,\n    };\n    const canDisplayOverlays = !!imageWidth && !!imageHeight;\n\n    return (\n      <div\n        style={{ ...styles.imagePreviewContainer, ...style }}\n        ref={container => (this._container = container)}\n      >\n        {!!this.state.errored && (\n          <p>\n            <Trans>Unable to load the image</Trans>\n          </p>\n        )}\n        {!this.state.errored && (\n          <img\n            style={styles.spriteThumbnailImage}\n            alt={resourceName}\n            src={imageSource}\n            onError={this._handleError}\n            onLoad={this._handleImageLoaded}\n            crossOrigin=\"anonymous\"\n          />\n        )}\n        {canDisplayOverlays && children && (\n          <div style={{ ...overlayStyle, ...styles.box }} />\n        )}\n        {canDisplayOverlays && children && (\n          <div style={overlayStyle}>\n            {React.cloneElement(children, {\n              imageWidth,\n              imageHeight,\n            })}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import { mapVector, mapFor } from '../../../../Utils/MapFor';\nimport every from 'lodash/every';\nconst gd = global.gd;\n\n/**\n * Return the specified animation, direction and sprite for a SpriteObject.\n * Returns null for these elements if the specified choice is not valid.\n * @param {*} object\n * @param {*} animationIndex\n * @param {*} directionIndex\n * @param {*} spriteIndex\n */\nexport const getCurrentElements = (\n  object,\n  animationIndex,\n  directionIndex,\n  spriteIndex\n) => {\n  const hasValidAnimation = animationIndex < object.getAnimationsCount();\n  const animation = hasValidAnimation\n    ? object.getAnimation(animationIndex)\n    : null;\n  const hasValidDirection =\n    !!animation && directionIndex < animation.getDirectionsCount();\n  const direction = hasValidDirection\n    ? animation.getDirection(directionIndex)\n    : null;\n  const hasValidSprite =\n    !!direction && spriteIndex < direction.getSpritesCount();\n  const sprite = hasValidSprite ? direction.getSprite(spriteIndex) : null;\n\n  return {\n    hasValidAnimation,\n    animation,\n    hasValidDirection,\n    direction,\n    hasValidSprite,\n    sprite,\n  };\n};\n\nexport const copyPoint = (originalPoint, destinationPoint) => {\n  destinationPoint.setX(originalPoint.getX());\n  destinationPoint.setY(originalPoint.getY());\n  destinationPoint.setName(originalPoint.getName());\n};\n\nexport const copySpritePoints = (originalSprite, destinationSprite) => {\n  if (originalSprite.ptr === destinationSprite.ptr) return;\n\n  copyPoint(originalSprite.getCenter(), destinationSprite.getCenter());\n  copyPoint(originalSprite.getOrigin(), destinationSprite.getOrigin());\n  destinationSprite.setDefaultCenterPoint(\n    originalSprite.isDefaultCenterPoint()\n  );\n\n  destinationSprite.getAllNonDefaultPoints().clear();\n  mapVector(originalSprite.getAllNonDefaultPoints(), originalPoint => {\n    destinationSprite.addPoint(originalPoint);\n  });\n};\n\nexport const copyAnimationsSpritePoints = (originalSprite, animation) => {\n  mapFor(0, animation.getDirectionsCount(), i => {\n    const direction = animation.getDirection(i);\n\n    mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n      copySpritePoints(originalSprite, sprite);\n    });\n  });\n};\n\nexport const isSamePoint = (point1, point2) => {\n  return (\n    point1.getX() === point2.getX() &&\n    point1.getY() === point2.getY() &&\n    point1.getName() === point2.getName()\n  );\n};\n\nexport const haveSamePoints = (sprite1, sprite2) => {\n  if (!isSamePoint(sprite1.getCenter(), sprite2.getCenter())) return false;\n  if (!isSamePoint(sprite1.getOrigin(), sprite2.getOrigin())) return false;\n  if (sprite1.isDefaultCenterPoint() !== sprite2.isDefaultCenterPoint())\n    return false;\n\n  if (\n    sprite1.getAllNonDefaultPoints().size() !==\n    sprite2.getAllNonDefaultPoints().size()\n  )\n    return false;\n\n  return every(\n    mapVector(sprite1.getAllNonDefaultPoints(), sprite1Point => {\n      if (!sprite2.hasPoint(sprite1Point.getName())) return false;\n\n      return isSamePoint(\n        sprite1Point,\n        sprite2.getPoint(sprite1Point.getName())\n      );\n    })\n  );\n};\n\nexport const allDirectionSpritesHaveSamePointsAs = (\n  originalSprite,\n  direction\n) => {\n  return every(\n    mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n      return haveSamePoints(sprite, originalSprite);\n    })\n  );\n};\n\nexport const allSpritesHaveSamePointsAs = (originalSprite, animation) => {\n  return every(\n    mapFor(0, animation.getDirectionsCount(), i => {\n      const direction = animation.getDirection(i);\n      return allDirectionSpritesHaveSamePointsAs(originalSprite, direction);\n    })\n  );\n};\n\nexport const copySpritePolygons = (originalSprite, destinationSprite) => {\n  if (originalSprite.ptr === destinationSprite.ptr) return;\n\n  destinationSprite.setCollisionMaskAutomatic(\n    originalSprite.isCollisionMaskAutomatic()\n  );\n\n  destinationSprite.getCustomCollisionMask().clear();\n  mapVector(originalSprite.getCustomCollisionMask(), originalPolygon => {\n    destinationSprite.getCustomCollisionMask().push_back(originalPolygon);\n  });\n};\n\nexport const copyAnimationsSpriteCollisionMasks = (\n  originalSprite,\n  animation\n) => {\n  mapFor(0, animation.getDirectionsCount(), i => {\n    const direction = animation.getDirection(i);\n\n    mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n      copySpritePolygons(originalSprite, sprite);\n    });\n  });\n};\n\nexport const isSamePolygon = (polygon1, polygon2) => {\n  const polygon1Vertices = polygon1.getVertices();\n  const polygon2Vertices = polygon2.getVertices();\n\n  if (polygon1Vertices.size() !== polygon2Vertices.size()) return false;\n\n  return every(\n    mapVector(polygon1Vertices, (point1, index) => {\n      const point2 = polygon2Vertices.at(index);\n      return (\n        point1.get_x() === point2.get_x() && point1.get_y() === point2.get_y()\n      );\n    })\n  );\n};\n\nexport const haveSameCollisionMasks = (sprite1, sprite2) => {\n  if (sprite1.isCollisionMaskAutomatic() !== sprite2.isCollisionMaskAutomatic())\n    return false;\n\n  if (sprite1.isCollisionMaskAutomatic() && sprite2.isCollisionMaskAutomatic())\n    return true;\n\n  const sprite1CollisionMask = sprite1.getCustomCollisionMask();\n  const sprite2CollisionMask = sprite2.getCustomCollisionMask();\n\n  if (sprite1CollisionMask.size() !== sprite2CollisionMask.size()) return false;\n\n  return every(\n    mapVector(sprite1CollisionMask, (sprite1Polygon, index) => {\n      return isSamePolygon(sprite1Polygon, sprite2CollisionMask.at(index));\n    })\n  );\n};\n\nexport const allDirectionSpritesHaveSameCollisionMasksAs = (\n  originalSprite,\n  direction\n) => {\n  return every(\n    mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n      return haveSameCollisionMasks(sprite, originalSprite);\n    })\n  );\n};\n\nexport const allSpritesHaveSameCollisionMasksAs = (\n  originalSprite,\n  animation\n) => {\n  return every(\n    mapFor(0, animation.getDirectionsCount(), i => {\n      const direction = animation.getDirection(i);\n      return allDirectionSpritesHaveSameCollisionMasksAs(\n        originalSprite,\n        direction\n      );\n    })\n  );\n};\n\nexport const deleteSpritesFromAnimation = (animation, spritePtrs) => {\n  mapFor(0, animation.getDirectionsCount(), i => {\n    const direction = animation.getDirection(i);\n\n    const spritesToDelete = mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n\n      return !!spritePtrs[sprite.ptr];\n    });\n\n    // Iterate from the end to the beginning to avoid invalidating indexes.\n    for (\n      let spriteIndex = direction.getSpritesCount() - 1;\n      spriteIndex >= 0;\n      spriteIndex--\n    ) {\n      if (spritesToDelete[spriteIndex]) direction.removeSprite(spriteIndex);\n    }\n  });\n};\n\nexport const duplicateSpritesInAnimation = (animation, spritePtrs) => {\n  mapFor(0, animation.getDirectionsCount(), i => {\n    const direction = animation.getDirection(i);\n\n    const spritesToDuplicate = mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n\n      return !!spritePtrs[sprite.ptr];\n    });\n\n    // Iterate from the end to the beginning to avoid invalidating indexes.\n    for (\n      let spriteIndex = direction.getSpritesCount() - 1;\n      spriteIndex >= 0;\n      spriteIndex--\n    ) {\n      if (spritesToDuplicate[spriteIndex]) {\n        const spriteToDuplicate = direction.getSprite(spriteIndex);\n        const newSprite = new gd.Sprite();\n        newSprite.setImageName(spriteToDuplicate.getImageName());\n        copySpritePoints(spriteToDuplicate, newSprite);\n        copySpritePolygons(spriteToDuplicate, newSprite);\n\n        direction.addSprite(newSprite);\n        direction.moveSprite(direction.getSpritesCount() - 1, spriteIndex);\n      }\n    }\n  });\n};\n","//TODO: Factor with styles.js from LayersList.\nexport default {\n  handleColumn: {\n    width: 24,\n    paddingLeft: 8,\n    paddingRight: 0,\n  },\n  coordinateColumn: {\n    width: 48,\n  },\n  toolColumn: {\n    width: 48,\n  },\n};\n","import React from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport Add from 'material-ui/svg-icons/content/add';\nimport EmptyMessage from '../UI/EmptyMessage';\n// No i18n in this file\n\nconst styles = {\n  item: { height: 48 },\n  message: { padding: 0 },\n};\n\n/**\n * An Higher-order component that create an item that must be put at the\n * end of a list to allow the user to add a new item.\n * @param Item The component to wrap. Should act as a material-ui ListItem.\n */\nexport const makeAddItem = Item => ({\n  onClick,\n  primaryText,\n  style,\n  ...rest\n}) => {\n  return (\n    <Item\n      primaryText={\n        <EmptyMessage style={styles.message}>{primaryText}</EmptyMessage>\n      }\n      style={{ ...styles.item, ...style }}\n      rightIconButton={\n        <IconButton>\n          <Add\n            onClick={event => {\n              event.stopPropagation();\n              onClick();\n            }}\n          />\n        </IconButton>\n      }\n      onClick={onClick}\n      {...rest}\n    />\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport Popover from 'material-ui/Popover';\nimport Functions from 'material-ui/svg-icons/editor/functions';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport SemiControlledTextField from '../../../UI/SemiControlledTextField';\nimport { mapVector } from '../../../Utils/MapFor';\nimport ExpressionSelector from '../../InstructionEditor/InstructionOrExpressionSelector/ExpressionSelector';\nimport ExpressionParametersEditorDialog, {\n  type ParameterValues,\n} from './ExpressionParametersEditorDialog';\nimport { formatExpressionCall } from './FormatExpressionCall';\nimport { type InstructionOrExpressionInformation } from '../../InstructionEditor/InstructionOrExpressionSelector/InstructionOrExpressionInformation.flow.js';\nimport { type ParameterFieldProps } from '../ParameterFieldProps.flow';\nimport BackgroundHighlighting, {\n  type Highlight,\n} from './BackgroundHighlighting';\nimport debounce from 'lodash/debounce';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    alignItems: 'flex-start',\n  },\n  textFieldContainer: {\n    flex: 1,\n    minWidth: 300,\n  },\n  textFieldAndHightlightContainer: {\n    position: 'relative',\n  },\n  expressionSelector: {\n    maxHeight: 350,\n    overflowY: 'scroll',\n  },\n  input: {\n    fontFamily: '\"Lucida Console\", Monaco, monospace',\n    lineHeight: 1.4,\n  },\n  backgroundHighlighting: {\n    marginTop: 12, //Properly align with the text field\n  },\n  backgroundHighlightingWithDescription: {\n    marginTop: 38, //Properly align with the text field\n  },\n  functionsButton: {\n    marginTop: 7, //Properly align with the text field\n    marginLeft: 10,\n  },\n  functionsButtonWithDescription: {\n    marginTop: 33, //Properly align with the text field\n    marginLeft: 10,\n  },\n};\n\ntype State = {|\n  popoverOpen: boolean,\n  parametersDialogOpen: boolean,\n  selectedExpressionInfo: ?InstructionOrExpressionInformation,\n  validatedValue: string,\n  errorText: ?string,\n  errorHighlights: Array<Highlight>,\n|};\n\ntype Props = {|\n  expressionType: 'number' | 'string',\n  renderExtraButton?: ({|\n    style: Object,\n  |}) => React.Node,\n  ...ParameterFieldProps,\n|};\n\nexport default class ExpressionField extends React.Component<Props, State> {\n  _field: ?any = null;\n  _fieldElement: ?any = null;\n  _inputElement = null;\n\n  state = {\n    popoverOpen: false,\n    parametersDialogOpen: false,\n    selectedExpressionInfo: null,\n\n    validatedValue: '',\n    errorText: null,\n    errorHighlights: [],\n  };\n\n  componentDidMount() {\n    if (this._field) {\n      this._fieldElement = ReactDOM.findDOMNode(this._field);\n      this._inputElement = this._field ? this._field.getInputNode() : null;\n    }\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  _openExpressionPopover = () => {\n    this.setState({\n      popoverOpen: true,\n    });\n  };\n\n  _handleFocus = (event: { preventDefault: () => void }) => {\n    // This prevents ghost click.\n    event.preventDefault();\n  };\n\n  _handleRequestClose = () => {\n    this.setState({\n      popoverOpen: false,\n    });\n  };\n\n  _handleChange = (value: string) => {\n    this.setState(\n      {\n        validatedValue: value,\n      },\n      () => this._enqueueValidation()\n    );\n  };\n\n  _handleBlur = (event: { currentTarget: { value: string } }) => {\n    const value = event.currentTarget.value;\n    if (this.props.onChange) this.props.onChange(value);\n    this.setState(\n      {\n        validatedValue: value,\n      },\n      () => {\n        this._enqueueValidation.cancel();\n        this._doValidation();\n      }\n    );\n  };\n\n  _handleMenuMouseDown = (event: any) => {\n    // Keep the TextField focused\n    event.preventDefault();\n  };\n\n  _handleExpressionChosen = (\n    expressionInfo: InstructionOrExpressionInformation\n  ) => {\n    this.setState({\n      popoverOpen: false,\n      parametersDialogOpen: true,\n      selectedExpressionInfo: expressionInfo,\n    });\n  };\n\n  insertExpression = (\n    expressionInfo: InstructionOrExpressionInformation,\n    parameterValues: ParameterValues\n  ) => {\n    if (!this._inputElement) return;\n    const cursorPosition = this._inputElement.selectionStart;\n\n    const functionCall = formatExpressionCall(expressionInfo, parameterValues);\n\n    const { value } = this.props;\n    const newValue =\n      value.substr(0, cursorPosition) +\n      functionCall +\n      value.substr(cursorPosition);\n\n    if (this.props.onChange) this.props.onChange(newValue);\n    setTimeout(() => {\n      if (this._field) this._field.focus();\n\n      setTimeout(() => {\n        if (this._inputElement)\n          this._inputElement.setSelectionRange(\n            cursorPosition,\n            cursorPosition + functionCall.length\n          );\n      }, 5);\n    }, 5);\n  };\n\n  _enqueueValidation = debounce(() => {\n    this._doValidation();\n  }, 500);\n\n  _doValidation = () => {\n    const {\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      expressionType,\n    } = this.props;\n    if (!project) return null;\n\n    const parser = new gd.ExpressionParser2(\n      gd.JsPlatform.get(),\n      globalObjectsContainer,\n      objectsContainer\n    );\n    const expression = this.state.validatedValue;\n    const expressionNode = parser\n      .parseExpression(expressionType, expression)\n      .get();\n\n    const expressionValidator = new gd.ExpressionValidator();\n    expressionNode.visit(expressionValidator);\n    const errors = expressionValidator.getErrors();\n\n    const errorHighlights: Array<Highlight> = mapVector(errors, error => ({\n      begin: error.getStartPosition(),\n      end: error.getEndPosition() + 1,\n      message: error.getMessage(),\n      type: 'error',\n    }));\n    const hasMultipleErrors = errorHighlights.length > 1;\n    const errorText = errorHighlights\n      .map(\n        (highlight, i) =>\n          (hasMultipleErrors ? `[${i + 1}] ` : '') + highlight.message\n      )\n      .join(' ');\n\n    expressionValidator.delete();\n    parser.delete();\n\n    this.setState({ errorText, errorHighlights });\n  };\n\n  render() {\n    const {\n      value,\n      expressionType,\n      parameterMetadata,\n      project,\n      layout,\n      globalObjectsContainer,\n      objectsContainer,\n      parameterRenderingService,\n    } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    const popoverStyle = {\n      width: this._fieldElement ? this._fieldElement.clientWidth : 'auto',\n    };\n\n    const backgroundHighlightingStyle = description\n      ? styles.backgroundHighlightingWithDescription\n      : styles.backgroundHighlighting;\n\n    return (\n      <div style={styles.container}>\n        <div style={styles.textFieldContainer}>\n          <div style={styles.textFieldAndHightlightContainer}>\n            <BackgroundHighlighting\n              value={this.state.validatedValue}\n              style={{ ...styles.input, ...backgroundHighlightingStyle }}\n              highlights={this.state.errorHighlights}\n            />\n            <SemiControlledTextField\n              value={value}\n              floatingLabelText={description}\n              hintText={expressionType === 'string' ? '\"\"' : undefined}\n              inputStyle={styles.input}\n              onChange={this._handleChange}\n              onBlur={this._handleBlur}\n              ref={field => (this._field = field)}\n              onFocus={this._handleFocus}\n              errorText={this.state.errorText}\n              multiLine\n              fullWidth\n            />\n          </div>\n          {this._fieldElement && (\n            <Popover\n              style={popoverStyle}\n              open={this.state.popoverOpen}\n              canAutoPosition={false}\n              anchorEl={this._fieldElement}\n              useLayerForClickAway={false}\n              anchorOrigin={{ horizontal: 'left', vertical: 'bottom' }}\n              targetOrigin={{ horizontal: 'left', vertical: 'top' }}\n              onRequestClose={this._handleRequestClose}\n            >\n              <ExpressionSelector\n                style={styles.expressionSelector}\n                selectedType=\"\"\n                onChoose={(type, expression) => {\n                  this._handleExpressionChosen(expression);\n                }}\n                expressionType={expressionType}\n                focusOnMount\n              />\n            </Popover>\n          )}\n        </div>\n        {!this.props.isInline &&\n          this.props.renderExtraButton &&\n          this.props.renderExtraButton({\n            style: description\n              ? styles.functionsButtonWithDescription\n              : styles.functionsButton,\n          })}\n        {!this.props.isInline && (\n          <RaisedButton\n            icon={<Functions />}\n            label={\n              expressionType === 'string'\n                ? '\"ABC\"'\n                : expressionType === 'number'\n                ? '123'\n                : ''\n            }\n            primary\n            style={\n              description\n                ? styles.functionsButtonWithDescription\n                : styles.functionsButton\n            }\n            onClick={this._openExpressionPopover}\n          />\n        )}\n        {this.state.parametersDialogOpen && this.state.selectedExpressionInfo && (\n          <ExpressionParametersEditorDialog\n            open={true}\n            project={project}\n            layout={layout}\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            expressionMetadata={this.state.selectedExpressionInfo.metadata}\n            onDone={parameterValues => {\n              if (!this.state.selectedExpressionInfo) return;\n\n              this.insertExpression(\n                this.state.selectedExpressionInfo,\n                parameterValues\n              );\n              this.setState({\n                parametersDialogOpen: false,\n                selectedExpressionInfo: null,\n              });\n            }}\n            onRequestClose={() => {\n              this.setState({\n                parametersDialogOpen: false,\n                selectedExpressionInfo: null,\n              });\n            }}\n            parameterRenderingService={parameterRenderingService}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\n\nexport default function getObjectByName(\n  project: gdProject,\n  layout?: ?gdLayout,\n  associatedObjectName: string\n): ?gdObject {\n  let associatedObject = null;\n  if (layout && layout.hasObjectNamed(associatedObjectName))\n    associatedObject = layout.getObject(associatedObjectName);\n  else if (project.hasObjectNamed(associatedObjectName))\n    associatedObject = project.getObject(associatedObjectName);\n  return associatedObject;\n}\n","// @flow\nimport { t } from '@lingui/macro';\n\nexport type Hint = {| kind: 'warning' | 'info', message: string |};\n\nexport const getDeprecatedBehaviorsInformation = (): {\n  [string]: {| warning: string |},\n} => ({\n  'PhysicsBehavior::PhysicsBehavior': {\n    warning: t`A new physics engine (Physics Engine 2.0) is now available. You should prefer using it for new game. For existing games, note that the two behaviors are not compatible, so you should only use one of them with your objects.`,\n  },\n});\n\nexport const getExperimentalObjects = (): {\n  [string]: boolean,\n} => ({\n  'Video::VideoObject': true,\n});\n\nexport const getExtraObjectsInformation = (): {\n  [string]: Array<Hint>,\n} => ({\n  'Video::VideoObject': [\n    {\n      kind: 'warning',\n      message: t`Most browsers will require the user to have interacted with your game before allowing any video to play. Make sure that the player click/touch the screen at the beginning of the game before starting any video.`,\n    },\n    {\n      kind: 'warning',\n      message: t`For a given video resource, only one video will be played in memory and displayed. If you put this object multiple times on the scene, all the instances will be displaying the exact same video (with the same timing and paused/played/stopped state).`,\n    },\n    {\n      kind: 'info',\n      message: t`Video format supported can vary according to devices and browsers. For maximum compatibility, use H.264/mp4 file format (and AAC for audio).`,\n    },\n  ],\n});\n\nexport const getExtraInstructionInformation = (type: string): ?Hint => {\n  if (type.indexOf('PhysicsBehavior::') === 0) {\n    return {\n      kind: 'warning',\n      message: t`This action is deprecated and should not be used anymore. Instead,\n  use for all your objects the behavior called \"Physics2\" and the\n  associated actions (in this case, all objects must be set up to use\n  Physics2, you can't mix the behaviors).`,\n    };\n  }\n  if (type === 'TextObject::Size') {\n    return {\n      kind: 'warning',\n      message: t`This action will create a new texture and re-render the text each time it is called, which is expensive and can reduce performances. Prefer to avoid changing a lot the character size of a text.`,\n    };\n  }\n\n  return null;\n};\n","import TextEditor from './Editors/TextEditor';\nimport TiledSpriteEditor from './Editors/TiledSpriteEditor';\nimport PanelSpriteEditor from './Editors/PanelSpriteEditor';\nimport SpriteEditor from './Editors/SpriteEditor';\nimport EmptyEditor from './Editors/EmptyEditor';\nimport ShapePainterEditor from './Editors/ShapePainterEditor';\nimport ParticleEmitterEditor from './Editors/ParticleEmitterEditor';\nimport ObjectPropertiesEditor from './Editors/ObjectPropertiesEditor';\nconst gd = global.gd;\n\n/**\n * A service returning editor components for each object type.\n */\nexport default {\n  getEditorConfiguration(objectType: string) {\n    if (!this.editorConfigurations[objectType]) {\n      console.warn(\n        `Object with type ${objectType} has no editor configuration registered. Please use registerEditorConfiguration to register your editor.`\n      );\n    }\n\n    return this.editorConfigurations[objectType];\n  },\n  registerEditorConfiguration: function(objectType, editorConfiguration) {\n    if (!editorConfiguration.component) {\n      console.warn(\n        `Tried to register editor configuration for object \"${objectType}\", but \"component\" property is not defined.`\n      );\n      return;\n    }\n    if (!editorConfiguration.createNewObject) {\n      console.warn(\n        `Tried to register editor configuration for object \"${objectType}\", but \"createNewObject\" property is not defined.`\n      );\n      return;\n    }\n    if (!editorConfiguration.castToObjectType) {\n      console.warn(\n        `Tried to register editor configuration for object \"${objectType}\", but \"castToObjectType\" property is not defined.`\n      );\n      return;\n    }\n\n    if (this.editorConfigurations.hasOwnProperty(objectType)) {\n      console.warn(\n        `Tried to register editor configuration for object \"${objectType}\", but an editor configuration already exists.`\n      );\n      return;\n    }\n\n    console.info(\n      `Properly registered editor configuration for object \"${objectType}\".`\n    );\n    this.editorConfigurations[objectType] = editorConfiguration;\n  },\n  getDefaultObjectJsImplementationPropertiesEditor() {\n    return {\n      component: ObjectPropertiesEditor,\n      createNewObject: object =>\n        gd\n          .asObjectJsImplementation(object)\n          .clone()\n          .release(),\n      castToObjectType: object => gd.asObjectJsImplementation(object),\n    };\n  },\n  editorConfigurations: {\n    Sprite: {\n      component: SpriteEditor,\n      createNewObject: () => new gd.SpriteObject(''),\n      castToObjectType: object => gd.asSpriteObject(object),\n      helpPagePath: '/objects/sprite',\n    },\n    'TiledSpriteObject::TiledSprite': {\n      component: TiledSpriteEditor,\n      createNewObject: () => new gd.TiledSpriteObject(''),\n      castToObjectType: object => gd.asTiledSpriteObject(object),\n      helpPagePath: '/objects/tiled_sprite',\n    },\n    'PanelSpriteObject::PanelSprite': {\n      component: PanelSpriteEditor,\n      createNewObject: () => new gd.PanelSpriteObject(''),\n      castToObjectType: object => gd.asPanelSpriteObject(object),\n      helpPagePath: '/objects/panel_sprite',\n    },\n    'TextObject::Text': {\n      component: TextEditor,\n      createNewObject: () => new gd.TextObject(''),\n      castToObjectType: object => gd.asTextObject(object),\n      helpPagePath: '/objects/text',\n    },\n    'PrimitiveDrawing::Drawer': {\n      component: ShapePainterEditor,\n      createNewObject: () => new gd.ShapePainterObject(''),\n      castToObjectType: object => gd.asShapePainterObject(object),\n      helpPagePath: '/objects/shape_painter',\n    },\n    'TextEntryObject::TextEntry': {\n      component: EmptyEditor,\n      createNewObject: () => new gd.TextEntryObject(''),\n      castToObjectType: object => gd.asTextEntryObject(object),\n      helpPagePath: '/objects/text_entry',\n    },\n    'ParticleSystem::ParticleEmitter': {\n      component: ParticleEmitterEditor,\n      createNewObject: () => new gd.ParticleEmitterObject(''),\n      castToObjectType: object => gd.asParticleEmitterObject(object),\n      helpPagePath: '/objects/particles_emitter',\n    },\n  },\n};\n","// @flow\nimport axios from 'axios';\nimport { GDevelopBuildApi } from './ApiConfigs';\n\nexport const getUrl = (key: string) =>\n  `https://s3-eu-west-1.amazonaws.com/gd-build/${key}`;\n\nexport type TargetName = 'winExe' | 'winZip' | 'macZip' | 'linuxAppImage';\n\nexport type Build = {\n  id: string,\n  userId: string,\n  bucket?: string,\n  logsKey?: string,\n  apkKey?: string,\n  windowsExeKey?: string,\n  windowsZipKey?: string,\n  macosZipKey?: string,\n  linuxAppImageKey?: string,\n  status: 'pending' | 'complete' | 'error',\n  type: 'cordova-build' | 'electron-build',\n  targets?: Array<TargetName>,\n  createdAt: number,\n  updatedAt: number,\n};\n\nexport const buildElectron = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string,\n  key: string,\n  targets: Array<TargetName>\n): Promise<Build> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.post(\n        `${GDevelopBuildApi.baseUrl}/build?userId=${encodeURIComponent(\n          userId\n        )}&key=${encodeURIComponent(\n          key\n        )}&type=electron-build&targets=${encodeURIComponent(\n          targets.join(',')\n        )}`,\n        null,\n        {\n          params: {},\n          headers: {\n            Authorization: authorizationHeader,\n          },\n        }\n      )\n    )\n    .then(response => response.data);\n};\n\nexport const buildCordovaAndroid = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string,\n  key: string\n): Promise<Build> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.post(\n        `${GDevelopBuildApi.baseUrl}/build?userId=${encodeURIComponent(\n          userId\n        )}&key=${encodeURIComponent(key)}&type=cordova-build`,\n        null,\n        {\n          params: {},\n          headers: {\n            Authorization: authorizationHeader,\n          },\n        }\n      )\n    )\n    .then(response => response.data);\n};\n\nexport const getBuild = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string,\n  buildId: string\n): Promise<Build> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopBuildApi.baseUrl}/build/${buildId}`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data);\n};\n\nexport const getBuilds = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string\n): Promise<Array<Build>> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopBuildApi.baseUrl}/build`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data);\n};\n","// @flow\nimport * as React from 'react';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ResourceKind } from '../ResourceSource.flow';\nimport ImageThumbnail from './ImageThumbnail';\n\ntype Props = {|\n  project: gdProject,\n  resourceName: string,\n  resourcesLoader: typeof ResourcesLoader,\n  children?: any,\n  style?: Object,\n  onSize?: (number, number) => void,\n  selectable?: boolean,\n  selected?: boolean,\n  onSelect?: boolean => void,\n  onContextMenu?: (number, number) => void,\n|};\n\ntype State = {|\n  resourceKind: ?ResourceKind,\n|};\n\n/**\n * Display the right thumbnail for any given resource of a project\n */\nexport default class ResourceThumbnail extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = this._loadFrom(props);\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      newProps.resourceName !== this.props.resourceName ||\n      newProps.project !== this.props.project\n    ) {\n      this.setState(this._loadFrom(newProps));\n    }\n  }\n\n  _loadFrom(props: Props): State {\n    const { project, resourceName } = props;\n    const resourcesManager = project.getResourcesManager();\n    const resourceKind = resourcesManager.hasResource(resourceName)\n      ? resourcesManager.getResource(resourceName).getKind()\n      : null;\n\n    return {\n      resourceKind,\n    };\n  }\n\n  render() {\n    const { resourceKind } = this.state;\n\n    switch (resourceKind) {\n      case 'image':\n        return (\n          <ImageThumbnail\n            project={this.props.project}\n            resourceName={this.props.resourceName}\n            resourcesLoader={this.props.resourcesLoader}\n            children={this.props.children}\n            style={this.props.style}\n            onSize={this.props.onSize}\n            selectable={this.props.selectable}\n            selected={this.props.selected}\n            onSelect={this.props.onSelect}\n            onContextMenu={this.props.onContextMenu}\n          />\n        );\n      default:\n        return null;\n    }\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ResourcesLoader from '../ResourcesLoader';\nimport ResourceSelector from '../ResourcesList/ResourceSelector';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n  type ResourceKind,\n} from '../ResourcesList/ResourceSource.flow';\nimport ResourceThumbnail from './ResourceThumbnail';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\n\ntype Props = {|\n  project: gdProject,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  resourceKind: ResourceKind,\n  resourceName: string,\n  onChange: string => void,\n  floatingLabelText?: React.Node,\n  hintText?: React.Node,\n|};\n\nconst ResourceSelectorWithThumbnail = ({\n  project,\n  resourceSources,\n  onChooseResource,\n  resourceExternalEditors,\n  resourceKind,\n  resourceName,\n  onChange,\n  floatingLabelText,\n  hintText,\n}: Props) => {\n  return (\n    <div style={{ flex: 1, display: 'flex', alignItems: 'flex-end' }}>\n      <div style={{ flex: 1 }}>\n        <ResourceSelector\n          project={project}\n          resourceSources={resourceSources}\n          onChooseResource={onChooseResource}\n          resourceExternalEditors={resourceExternalEditors}\n          resourcesLoader={ResourcesLoader}\n          resourceKind={resourceKind}\n          fullWidth\n          initialResourceName={resourceName}\n          onChange={onChange}\n          floatingLabelText={floatingLabelText}\n          hintText={hintText}\n        />\n      </div>\n      <ResourceThumbnail\n        resourceName={resourceName}\n        resourcesLoader={ResourcesLoader}\n        project={project}\n        style={{ marginLeft: 10 }}\n      />\n    </div>\n  );\n};\n\nexport default ResourceSelectorWithThumbnail;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from 'material-ui/IconButton';\nimport Close from 'material-ui/svg-icons/navigation/close';\n\nconst styles = {\n  container: {\n    padding: 0,\n    width: 32,\n    height: 32,\n  },\n};\n\nexport default class CloseButton extends Component {\n  static contextTypes = {\n    mosaicActions: PropTypes.object,\n    mosaicWindowActions: PropTypes.object,\n  };\n\n  render() {\n    const { mosaicActions, mosaicWindowActions } = this.context;\n    return (\n      <IconButton\n        onClick={() => {\n          mosaicActions.remove(mosaicWindowActions.getPath());\n        }}\n        style={styles.container}\n      >\n        <Close color=\"white\" />\n      </IconButton>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport {\n  MosaicWindow as RMMosaicWindow,\n  MosaicWithoutDragDropContext as RMMosaicWithoutDragDropContext,\n  getLeaves,\n} from 'react-mosaic-component';\nimport CloseButton from './CloseButton';\n\n// EditorMosaic default styling:\nimport 'react-mosaic-component/react-mosaic-component.css';\nimport './style.css';\n\nconst addRightNode = (\n  currentNode,\n  newNode,\n  splitPercentage,\n  direction = 'row'\n) => {\n  if (currentNode.second && typeof currentNode.second !== 'string') {\n    return {\n      ...currentNode,\n      second: addRightNode(currentNode.second, newNode, splitPercentage),\n    };\n  }\n\n  return {\n    direction,\n    first: currentNode,\n    second: newNode,\n    splitPercentage,\n  };\n};\n\nconst ThemableMosaicWithoutDragDropContext = props => (\n  <RMMosaicWithoutDragDropContext\n    className={`${\n      props.muiTheme.mosaicRootClassName\n    } mosaic-blueprint-theme mosaic-gd-theme`}\n    {...props}\n  />\n);\n\nconst MosaicWithoutDragDropContext = muiThemeable()(\n  ThemableMosaicWithoutDragDropContext\n);\n\n/**\n * @class EditorMosaic\n *\n * Can be used to create a mosaic of resizable editors.\n * Must be used inside a component wrapped in a DragDropContext.\n */\nexport default class ThemableEditorMosaic extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      mosaicNode: props.initialNodes,\n    };\n  }\n\n  openEditor = editorName => {\n    if (getLeaves(this.state.mosaicNode).indexOf(editorName) !== -1) {\n      return false;\n    }\n\n    this.setState({\n      mosaicNode: addRightNode(this.state.mosaicNode, editorName, 75),\n    });\n    return true;\n  };\n\n  _onChange = mosaicNode => this.setState({ mosaicNode });\n\n  render() {\n    const { editors } = this.props;\n    return (\n      <MosaicWithoutDragDropContext\n        renderTile={(editorName, path) =>\n          React.cloneElement(editors[editorName], { path })\n        }\n        value={this.state.mosaicNode}\n        onChange={this._onChange}\n      />\n    );\n  }\n}\n\nconst defaultToolbarControls = [<CloseButton key=\"close\" />];\n\n/**\n * @class EditorWindow\n *\n * A window that can be used in a EditorMosaic\n */\nexport const MosaicWindow = props => {\n  // It's important to always use the same object (in the sense of ===) for toolbarControls,\n  // to avoid confusing MosaicWindow.shouldComponentUpdate: It makes a nasty infinite loop\n  // while it tries to compare React elements.\n  const toolbarControls = props.toolbarControls || defaultToolbarControls;\n\n  return <RMMosaicWindow {...props} toolbarControls={toolbarControls} />;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport './MainFrame.css';\nimport IconButton from 'material-ui/IconButton';\nimport Drawer from 'material-ui/Drawer';\nimport Snackbar from 'material-ui/Snackbar';\nimport NavigationClose from 'material-ui/svg-icons/navigation/close';\nimport Toolbar from './Toolbar';\nimport ProjectTitlebar from './ProjectTitlebar';\nimport PreferencesDialog from './Preferences/PreferencesDialog';\nimport AboutDialog from './AboutDialog';\nimport ProjectManager from '../ProjectManager';\nimport PlatformSpecificAssetsDialog from '../PlatformSpecificAssetsEditor/PlatformSpecificAssetsDialog';\nimport LoaderModal from '../UI/LoaderModal';\nimport EditorBar from '../UI/EditorBar';\nimport CloseConfirmDialog from '../UI/CloseConfirmDialog';\nimport ProfileDialog from '../Profile/ProfileDialog';\nimport Window from '../Utils/Window';\nimport { showErrorBox } from '../UI/Messages/MessageBox';\nimport { Tabs, Tab } from '../UI/Tabs';\nimport {\n  getEditorTabsInitialState,\n  openEditorTab,\n  closeEditorTab,\n  changeCurrentTab,\n  getEditors,\n  getCurrentTabIndex,\n  getCurrentTab,\n  closeProjectTabs,\n  closeLayoutTabs,\n  closeExternalLayoutTabs,\n  closeExternalEventsTabs,\n  closeEventsFunctionsExtensionTabs,\n  saveUiSettings,\n  type EditorTabsState,\n  type EditorTab,\n  getEventsFunctionsExtensionEditor,\n} from './EditorTabsHandler';\nimport { watchPromiseInState } from '../Utils/WatchPromiseInState';\nimport { timeFunction } from '../Utils/TimeFunction';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport HelpFinder from '../HelpFinder';\n\n// Editors:\nimport DebuggerEditor from './Editors/DebuggerEditor';\nimport EventsEditor from './Editors/EventsEditor';\nimport ExternalEventsEditor from './Editors/ExternalEventsEditor';\nimport SceneEditor from './Editors/SceneEditor';\nimport ExternalLayoutEditor from './Editors/ExternalLayoutEditor';\nimport EventsFunctionsExtensionEditor from './Editors/EventsFunctionsExtensionEditor';\nimport StartPage from './Editors/StartPage';\nimport ResourcesEditor from './Editors/ResourcesEditor';\nimport ErrorBoundary from '../UI/ErrorBoundary';\nimport SubscriptionDialog from '../Profile/SubscriptionDialog';\nimport ResourcesLoader from '../ResourcesLoader/index';\nimport Authentification from '../Utils/GDevelopServices/Authentification';\nimport {\n  type PreviewLauncher,\n  type PreviewOptions,\n} from '../Export/PreviewLauncher.flow';\nimport { type ResourceSource } from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport { type JsExtensionsLoader } from '../JsExtensionsLoader';\nimport {\n  type EventsFunctionWriter,\n  loadProjectEventsFunctionsExtensions,\n  unloadProjectEventsFunctionsExtensions,\n  getFunctionNameFromType,\n} from '../EventsFunctionsExtensionsLoader';\nimport {\n  getUpdateNotificationTitle,\n  getUpdateNotificationBody,\n  type UpdateStatus,\n} from './UpdaterTools';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport ChangelogDialogContainer from './Changelog/ChangelogDialogContainer';\nimport { getNotNullTranslationFunction } from '../Utils/i18n/getTranslationFunction';\nimport { type I18n } from '@lingui/core';\nimport { t } from '@lingui/macro';\nimport LanguageDialog from './Preferences/LanguageDialog';\nimport PreferencesContext from './Preferences/PreferencesContext';\n\nconst gd = global.gd;\n\nconst styles = {\n  drawerContent: {\n    overflowX: 'hidden',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n};\n\ntype State = {|\n  createDialogOpen: boolean,\n  exportDialogOpen: boolean,\n  introDialogOpen: boolean,\n  saveDialogOpen: boolean,\n  genericDialogOpen: boolean,\n  loadingProject: boolean,\n  previewLoading: boolean,\n  currentProject: ?gdProject,\n  projectManagerOpen: boolean,\n  editorTabs: EditorTabsState,\n  genericDialog: null,\n  snackMessage: string,\n  snackMessageOpen: boolean,\n  preferencesDialogOpen: boolean,\n  languageDialogOpen: boolean,\n  profileDialogOpen: boolean,\n  subscriptionDialogOpen: boolean,\n  updateStatus: UpdateStatus,\n  aboutDialogOpen: boolean,\n  platformSpecificAssetsDialogOpen: boolean,\n  helpFinderDialogOpen: boolean,\n  eventsFunctionsExtensionsError: ?Error,\n|};\n\ntype Props = {\n  integratedEditor?: boolean,\n  introDialog?: React.Element<*>,\n  onReadFromPathOrURL: (url: string) => Promise<any>,\n  previewLauncher?: React.Element<PreviewLauncher>,\n  onEditObject?: gdObject => void,\n  resourceSources: Array<ResourceSource>,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  onChooseProject?: () => Promise<?string>,\n  saveDialog?: React.Element<*>,\n  onSaveProject?: gdProject => Promise<any>,\n  onAutoSaveProject?: (project: gdProject) => void,\n  shouldOpenAutosave?: (\n    filePath: string,\n    autoSavePath: string,\n    compareLastModified: boolean\n  ) => boolean,\n  loading?: boolean,\n  requestUpdate?: () => void,\n  exportDialog?: React.Element<*>,\n  createDialog?: React.Element<*>,\n  authentification: Authentification,\n  extensionsLoader?: JsExtensionsLoader,\n  initialPathsOrURLsToOpen: ?Array<string>,\n  eventsFunctionWriter?: EventsFunctionWriter,\n  i18n: I18n,\n};\n\nclass MainFrame extends React.Component<Props, State> {\n  state = {\n    createDialogOpen: false,\n    exportDialogOpen: false,\n    introDialogOpen: false,\n    saveDialogOpen: false,\n    genericDialogOpen: false,\n    loadingProject: false,\n    previewLoading: false,\n    currentProject: null,\n    projectManagerOpen: false,\n    editorTabs: getEditorTabsInitialState(),\n    genericDialog: null,\n    snackMessage: '',\n    snackMessageOpen: false,\n    preferencesDialogOpen: false,\n    languageDialogOpen: false,\n    profileDialogOpen: false,\n    subscriptionDialogOpen: false,\n    updateStatus: { message: '', status: 'unknown' },\n    aboutDialogOpen: false,\n    platformSpecificAssetsDialogOpen: false,\n    helpFinderDialogOpen: false,\n    eventsFunctionsExtensionsError: null,\n  };\n  toolbar = null;\n  _resourceSourceDialogs = {};\n  _previewLauncher: ?PreviewLauncher = null;\n  _providers = null;\n\n  componentWillMount() {\n    if (!this.props.integratedEditor) this.openStartPage();\n  }\n\n  componentDidMount() {\n    const { initialPathsOrURLsToOpen } = this.props;\n\n    this._loadExtensions();\n    if (initialPathsOrURLsToOpen && initialPathsOrURLsToOpen[0]) {\n      this.openFromPathOrURL(initialPathsOrURLsToOpen[0], () =>\n        this.openSceneOrProjectManager()\n      );\n    } else if (this.props.introDialog && !Window.isDev())\n      this._openIntroDialog(true);\n  }\n\n  _languageDidChange() {\n    // A change in the language will automatically be applied\n    // on all React components, as it's handled by GDI18nProvider.\n    // We still have this method that will be called when the language\n    // dialog is closed after a language change. We then reload GDevelop\n    // extensions so that they declare all objects/actions/condition/etc...\n    // using the new language.\n    gd.JsPlatform.get().reloadBuiltinExtensions();\n    this._loadExtensions();\n  }\n\n  _loadExtensions = () => {\n    const { extensionsLoader, i18n } = this.props;\n    if (!extensionsLoader) {\n      console.info(\n        'No extensions loader specified, skipping extensions loading.'\n      );\n      return;\n    }\n\n    extensionsLoader\n      .loadAllExtensions(getNotNullTranslationFunction(i18n))\n      .then(loadingResults => {\n        const successLoadingResults = loadingResults.filter(\n          loadingResult => !loadingResult.result.error\n        );\n        const failLoadingResults = loadingResults.filter(\n          loadingResult =>\n            loadingResult.result.error && !loadingResult.result.dangerous\n        );\n        const dangerousLoadingResults = loadingResults.filter(\n          loadingResult =>\n            loadingResult.result.error && loadingResult.result.dangerous\n        );\n        console.info(`Loaded ${successLoadingResults.length} JS extensions.`);\n        if (failLoadingResults.length) {\n          console.error(\n            `⚠️ Unable to load ${\n              failLoadingResults.length\n            } JS extensions. Please check these errors:`,\n            failLoadingResults\n          );\n        }\n        if (dangerousLoadingResults.length) {\n          console.error(\n            `💣 Dangerous exceptions while loading ${\n              dangerousLoadingResults.length\n            } JS extensions. 🔥 Please check these errors as they will CRASH GDevelop:`,\n            dangerousLoadingResults\n          );\n        }\n      });\n  };\n\n  loadFromSerializedProject = (\n    serializedProject: gdSerializerElement,\n    cb: Function\n  ) => {\n    timeFunction(\n      () => {\n        const newProject = gd.ProjectHelper.createNewGDJSProject();\n        newProject.unserializeFrom(serializedProject);\n\n        this.closeProject(() => this.loadFromProject(newProject, cb));\n      },\n      time => console.info(`Unserialization took ${time} ms`)\n    );\n  };\n\n  loadFromProject = (project: gdProject, cb: Function) => {\n    this.closeProject(() => {\n      // Make sure that the ResourcesLoader cache is emptied, so that\n      // the URL to a resource with a name in the old project is not re-used\n      // for another resource with the same name in the new project.\n      ResourcesLoader.burstAllUrlsCache();\n      // TODO: Pixi cache should also be burst\n\n      this.setState(\n        {\n          currentProject: project,\n        },\n        () => {\n          // Load all the EventsFunctionsExtension when the game is loaded. If they are modified,\n          // their editor will take care of reloading them.\n          this._loadProjectEventsFunctionsExtensions();\n          cb();\n        }\n      );\n    });\n  };\n\n  _loadProjectEventsFunctionsExtensions = () => {\n    const { i18n } = this.props;\n    if (this.props.eventsFunctionWriter && this.state.currentProject) {\n      loadProjectEventsFunctionsExtensions(\n        this.state.currentProject,\n        this.props.eventsFunctionWriter\n      )\n        .then(() =>\n          this.setState({\n            eventsFunctionsExtensionsError: null,\n          })\n        )\n        .catch((eventsFunctionsExtensionsError: Error) => {\n          this.setState({\n            eventsFunctionsExtensionsError,\n          });\n          showErrorBox(\n            i18n._(\n              t`An error has occured during functions generation. If GDevelop is installed, verify that nothing is preventing GDevelop from writing on disk. If you're running GDevelop online, verify your internet connection and refresh functions from the Project Manager.`\n            ),\n            eventsFunctionsExtensionsError\n          );\n        });\n    }\n  };\n\n  openFromPathOrURL = (url: string, cb: Function) => {\n    const { i18n, shouldOpenAutosave } = this.props;\n\n    const projectFilePath = url;\n    const autoSavePath = url + '.autosave';\n    if (shouldOpenAutosave && shouldOpenAutosave(url, autoSavePath, true)) {\n      //eslint-disable-next-line\n      const answer = confirm(\n        i18n._(\n          t`An autosave file (backup made automatically by GDevelop) that is newer than the project file exists. Would you like to load it instead?`\n        )\n      );\n      if (answer) url = autoSavePath;\n    }\n\n    this.props.onReadFromPathOrURL(url).then(\n      projectObject => {\n        this.setState({ loadingProject: true }, () =>\n          setTimeout(() => {\n            const serializedProject = gd.Serializer.fromJSObject(projectObject);\n\n            this.loadFromSerializedProject(serializedProject, () => {\n              serializedProject.delete();\n\n              if (this.state.currentProject) {\n                this.state.currentProject.setProjectFile(projectFilePath);\n              }\n\n              this.setState(\n                {\n                  loadingProject: false,\n                },\n                cb\n              );\n            });\n          })\n        );\n      },\n      err => {\n        if (\n          shouldOpenAutosave &&\n          shouldOpenAutosave(projectFilePath, autoSavePath, false)\n        ) {\n          //eslint-disable-next-line\n          const answer = confirm(\n            i18n._(\n              t`The project file appears to be malformed, but an autosave file exists (backup made automatically by GDevelop). Would you like to try to load it instead?`\n            )\n          );\n          if (answer) {\n            this.openFromPathOrURL(autoSavePath, () =>\n              this.openSceneOrProjectManager()\n            );\n          }\n        } else {\n          showErrorBox(\n            i18n._(\n              t`Unable to open this project. Check that the path/URL is correct, that you selected a file that is a game file created with GDevelop and that is was not removed.`\n            ),\n            err\n          );\n          return;\n        }\n      }\n    );\n  };\n\n  closeProject = (cb: Function) => {\n    const { currentProject } = this.state;\n    if (!currentProject) return cb();\n\n    this.openProjectManager(false);\n    this.setState(\n      {\n        editorTabs: closeProjectTabs(this.state.editorTabs, currentProject),\n      },\n      () => {\n        unloadProjectEventsFunctionsExtensions(currentProject);\n        currentProject.delete();\n        this.setState(\n          {\n            currentProject: null,\n          },\n          () => {\n            this.updateToolbar();\n            cb();\n          }\n        );\n      }\n    );\n  };\n\n  getSerializedElements = () => {\n    const editorTab = getCurrentTab(this.state.editorTabs);\n    if (!editorTab || !editorTab.editorRef) {\n      console.warn('No active editor or reference to the editor');\n      return {};\n    }\n\n    return editorTab.editorRef.getSerializedElements();\n  };\n\n  toggleProjectManager = () => {\n    if (!this.refs.toolbar)\n      this.setState({\n        projectManagerOpen: !this.state.projectManagerOpen,\n      });\n  };\n\n  openProjectManager = (open: boolean = true) => {\n    this.setState({\n      projectManagerOpen: open,\n    });\n  };\n\n  setEditorToolbar = (editorToolbar: any) => {\n    if (!this.toolbar) return;\n\n    this.toolbar.setEditorToolbar(editorToolbar);\n  };\n\n  addLayout = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const name = newNameGenerator('NewScene', name =>\n      currentProject.hasLayoutNamed(name)\n    );\n    const newLayout = currentProject.insertNewLayout(\n      name,\n      currentProject.getLayoutsCount()\n    );\n    newLayout.updateBehaviorsSharedData(currentProject);\n    this.forceUpdate();\n  };\n\n  addExternalLayout = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const name = newNameGenerator('NewExternalLayout', name =>\n      currentProject.hasExternalLayoutNamed(name)\n    );\n    currentProject.insertNewExternalLayout(\n      name,\n      currentProject.getExternalLayoutsCount()\n    );\n    this.forceUpdate();\n  };\n\n  addExternalEvents = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const name = newNameGenerator('NewExternalEvents', name =>\n      currentProject.hasExternalEventsNamed(name)\n    );\n    currentProject.insertNewExternalEvents(\n      name,\n      currentProject.getExternalEventsCount()\n    );\n    this.forceUpdate();\n  };\n\n  addEventsFunctionsExtension = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const name = newNameGenerator('NewEventsFunctionsExtension', name =>\n      currentProject.hasEventsFunctionsExtensionNamed(name)\n    );\n    currentProject.insertNewEventsFunctionsExtension(\n      name,\n      currentProject.getEventsFunctionsExtensionsCount()\n    );\n    this.forceUpdate();\n  };\n\n  deleteLayout = (layout: gdLayout) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Are you sure you want to remove this scene? This can't be undone.`\n      )\n    );\n    if (!answer) return;\n\n    this.setState(\n      {\n        editorTabs: closeLayoutTabs(this.state.editorTabs, layout),\n      },\n      () => {\n        currentProject.removeLayout(layout.getName());\n        this.forceUpdate();\n      }\n    );\n  };\n\n  deleteExternalLayout = (externalLayout: gdExternalLayout) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Are you sure you want to remove this external layout? This can't be undone.`\n      )\n    );\n    if (!answer) return;\n\n    this.setState(\n      {\n        editorTabs: closeExternalLayoutTabs(\n          this.state.editorTabs,\n          externalLayout\n        ),\n      },\n      () => {\n        currentProject.removeExternalLayout(externalLayout.getName());\n        this.forceUpdate();\n      }\n    );\n  };\n\n  deleteExternalEvents = (externalEvents: gdExternalEvents) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Are you sure you want to remove these external events? This can't be undone.`\n      )\n    );\n    if (!answer) return;\n\n    this.setState(\n      {\n        editorTabs: closeExternalEventsTabs(\n          this.state.editorTabs,\n          externalEvents\n        ),\n      },\n      () => {\n        currentProject.removeExternalEvents(externalEvents.getName());\n        this.forceUpdate();\n      }\n    );\n  };\n\n  deleteEventsFunctionsExtension = (\n    externalLayout: gdEventsFunctionsExtension\n  ) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Are you sure you want to remove this extension? This can't be undone.`\n      )\n    );\n    if (!answer) return;\n\n    this.setState(\n      {\n        editorTabs: closeEventsFunctionsExtensionTabs(\n          this.state.editorTabs,\n          externalLayout\n        ),\n      },\n      () => {\n        currentProject.removeEventsFunctionsExtension(externalLayout.getName());\n        this.forceUpdate();\n      }\n    );\n  };\n\n  renameLayout = (oldName: string, newName: string) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    if (!currentProject.hasLayoutNamed(oldName) || newName === oldName) return;\n\n    if (currentProject.hasLayoutNamed(newName)) {\n      showWarningBox(i18n._(t`Another scene with this name already exists.`));\n      return;\n    }\n\n    const layout = currentProject.getLayout(oldName);\n    this.setState(\n      {\n        editorTabs: closeLayoutTabs(this.state.editorTabs, layout),\n      },\n      () => {\n        layout.setName(newName);\n        this.forceUpdate();\n      }\n    );\n  };\n\n  renameExternalLayout = (oldName: string, newName: string) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    if (!currentProject.hasExternalLayoutNamed(oldName) || newName === oldName)\n      return;\n\n    if (currentProject.hasExternalLayoutNamed(newName)) {\n      showWarningBox(\n        i18n._(t`Another external layout with this name already exists.`)\n      );\n      return;\n    }\n\n    const externalLayout = currentProject.getExternalLayout(oldName);\n    this.setState(\n      {\n        editorTabs: closeExternalLayoutTabs(\n          this.state.editorTabs,\n          externalLayout\n        ),\n      },\n      () => {\n        externalLayout.setName(newName);\n        this.forceUpdate();\n      }\n    );\n  };\n\n  renameExternalEvents = (oldName: string, newName: string) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    if (!currentProject.hasExternalEventsNamed(oldName) || newName === oldName)\n      return;\n\n    if (currentProject.hasExternalEventsNamed(newName)) {\n      showWarningBox(\n        i18n._(t`Other external events with this name already exist.`)\n      );\n      return;\n    }\n\n    const externalEvents = currentProject.getExternalEvents(oldName);\n    this.setState(\n      {\n        editorTabs: closeExternalEventsTabs(\n          this.state.editorTabs,\n          externalEvents\n        ),\n      },\n      () => {\n        externalEvents.setName(newName);\n        this.forceUpdate();\n      }\n    );\n  };\n\n  renameEventsFunctionsExtension = (oldName: string, newName: string) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    const { eventsFunctionWriter } = this.props;\n    if (!currentProject) return;\n\n    if (\n      !currentProject.hasEventsFunctionsExtensionNamed(oldName) ||\n      newName === oldName\n    )\n      return;\n\n    if (currentProject.hasEventsFunctionsExtensionNamed(newName)) {\n      showWarningBox(\n        i18n._(t`Another extension with this name already exists.`)\n      );\n      return;\n    }\n\n    if (!gd.Project.validateObjectName(newName)) {\n      showWarningBox(\n        i18n._(\n          t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your extension name.`\n        )\n      );\n      return;\n    }\n\n    const eventsFunctionsExtension = currentProject.getEventsFunctionsExtension(\n      oldName\n    );\n    this.setState(\n      {\n        editorTabs: closeEventsFunctionsExtensionTabs(\n          this.state.editorTabs,\n          eventsFunctionsExtension\n        ),\n      },\n      () => {\n        // Refactor the project to update the instructions (and later expressions)\n        // of this extension:\n        gd.WholeProjectRefactorer.renameEventsFunctionsExtension(\n          currentProject,\n          eventsFunctionsExtension,\n          oldName,\n          newName\n        );\n        eventsFunctionsExtension.setName(newName);\n        if (eventsFunctionWriter) {\n          unloadProjectEventsFunctionsExtensions(currentProject);\n          this._loadProjectEventsFunctionsExtensions();\n        }\n\n        this.forceUpdate();\n      }\n    );\n  };\n\n  _launchLayoutPreview = (\n    project: gdProject,\n    layout: gdLayout,\n    options: PreviewOptions\n  ) =>\n    watchPromiseInState(this, 'previewLoading', () =>\n      this._handlePreviewResult(\n        this._previewLauncher &&\n          this._previewLauncher.launchLayoutPreview(project, layout, options)\n      )\n    );\n\n  _launchExternalLayoutPreview = (\n    project: gdProject,\n    layout: gdLayout,\n    externalLayout: gdExternalLayout,\n    options: PreviewOptions\n  ) =>\n    watchPromiseInState(this, 'previewLoading', () =>\n      this._handlePreviewResult(\n        this._previewLauncher &&\n          this._previewLauncher.launchExternalLayoutPreview(\n            project,\n            layout,\n            externalLayout,\n            options\n          )\n      )\n    );\n\n  _handlePreviewResult = (previewPromise: ?Promise<any>): Promise<void> => {\n    if (!previewPromise) return Promise.reject();\n    const { i18n } = this.props;\n\n    return previewPromise.then(\n      (result: any) => {},\n      (err: any) => {\n        showErrorBox(i18n._(t`Unable to launch the preview!`), err);\n      }\n    );\n  };\n\n  openLayout = (\n    name: string,\n    {\n      openEventsEditor = true,\n      openSceneEditor = true,\n    }: { openEventsEditor: boolean, openSceneEditor: boolean } = {}\n  ) => {\n    const { i18n, onAutoSaveProject } = this.props;\n    const sceneEditorOptions = {\n      name,\n      renderEditor: ({ isActive, editorRef }) => (\n        <PreferencesContext.Consumer>\n          {({ values }) => (\n            <SceneEditor\n              project={this.state.currentProject}\n              layoutName={name}\n              setToolbar={this.setEditorToolbar}\n              onPreview={(project, layout, options) => {\n                this._launchLayoutPreview(project, layout, options);\n                if (values.autosaveOnPreview && onAutoSaveProject) {\n                  onAutoSaveProject(project);\n                }\n              }}\n              showPreviewButton={!!this.props.previewLauncher}\n              showNetworkPreviewButton={\n                this._previewLauncher &&\n                this._previewLauncher.canDoNetworkPreview()\n              }\n              onOpenDebugger={this.openDebugger}\n              onEditObject={this.props.onEditObject}\n              showObjectsList={!this.props.integratedEditor}\n              resourceSources={this.props.resourceSources}\n              onChooseResource={this._onChooseResource}\n              resourceExternalEditors={this.props.resourceExternalEditors}\n              isActive={isActive}\n              ref={editorRef}\n            />\n          )}\n        </PreferencesContext.Consumer>\n      ),\n      key: 'layout ' + name,\n    };\n    const eventsEditorOptions = {\n      name: name + ' ' + i18n._(t`(Events)`),\n      renderEditor: ({ isActive, editorRef }) => (\n        <PreferencesContext.Consumer>\n          {({ values }) => (\n            <EventsEditor\n              project={this.state.currentProject}\n              layoutName={name}\n              setToolbar={this.setEditorToolbar}\n              onPreview={(project, layout, options) => {\n                this._launchLayoutPreview(project, layout, options);\n                if (values.autosaveOnPreview && onAutoSaveProject) {\n                  onAutoSaveProject(project);\n                }\n              }}\n              showPreviewButton={!!this.props.previewLauncher}\n              showNetworkPreviewButton={\n                this._previewLauncher &&\n                this._previewLauncher.canDoNetworkPreview()\n              }\n              onOpenDebugger={this.openDebugger}\n              onOpenExternalEvents={this.openExternalEvents}\n              onOpenLayout={name =>\n                this.openLayout(name, {\n                  openEventsEditor: true,\n                  openSceneEditor: false,\n                })\n              }\n              resourceSources={this.props.resourceSources}\n              onChooseResource={this._onChooseResource}\n              resourceExternalEditors={this.props.resourceExternalEditors}\n              openInstructionOrExpression={this._openInstructionOrExpression}\n              onCreateEventsFunction={this._onCreateEventsFunction}\n              isActive={isActive}\n              ref={editorRef}\n            />\n          )}\n        </PreferencesContext.Consumer>\n      ),\n      key: 'layout events ' + name,\n      dontFocusTab: openSceneEditor,\n    };\n\n    const tabsWithSceneEditor = openSceneEditor\n      ? openEditorTab(this.state.editorTabs, sceneEditorOptions)\n      : this.state.editorTabs;\n    const tabsWithSceneAndEventsEditors = openEventsEditor\n      ? openEditorTab(tabsWithSceneEditor, eventsEditorOptions)\n      : tabsWithSceneEditor;\n\n    this.setState({ editorTabs: tabsWithSceneAndEventsEditors }, () =>\n      this.updateToolbar()\n    );\n    this.openProjectManager(false);\n  };\n\n  openExternalEvents = (name: string) => {\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name,\n          renderEditor: ({ isActive, editorRef }) => (\n            <ExternalEventsEditor\n              project={this.state.currentProject}\n              externalEventsName={name}\n              setToolbar={this.setEditorToolbar}\n              onOpenExternalEvents={this.openExternalEvents}\n              onOpenLayout={name =>\n                this.openLayout(name, {\n                  openEventsEditor: true,\n                  openSceneEditor: false,\n                })\n              }\n              resourceSources={this.props.resourceSources}\n              onChooseResource={this._onChooseResource}\n              resourceExternalEditors={this.props.resourceExternalEditors}\n              openInstructionOrExpression={this._openInstructionOrExpression}\n              onCreateEventsFunction={this._onCreateEventsFunction}\n              isActive={isActive}\n              ref={editorRef}\n            />\n          ),\n          key: 'external events ' + name,\n        }),\n      },\n      () => this.updateToolbar()\n    );\n    this.openProjectManager(false);\n  };\n\n  openExternalLayout = (name: string) => {\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name,\n          renderEditor: ({ isActive, editorRef }) => (\n            <PreferencesContext.Consumer>\n              {({ values }) => (\n                <ExternalLayoutEditor\n                  project={this.state.currentProject}\n                  externalLayoutName={name}\n                  setToolbar={this.setEditorToolbar}\n                  onPreview={(project, layout, externalLayout, options) => {\n                    this._launchExternalLayoutPreview(\n                      project,\n                      layout,\n                      externalLayout,\n                      options\n                    );\n                    if (\n                      values.autosaveOnPreview &&\n                      this.props.onAutoSaveProject\n                    ) {\n                      this.props.onAutoSaveProject(project);\n                    }\n                  }}\n                  showPreviewButton={!!this.props.previewLauncher}\n                  showNetworkPreviewButton={\n                    this._previewLauncher &&\n                    this._previewLauncher.canDoNetworkPreview()\n                  }\n                  onOpenDebugger={this.openDebugger}\n                  onEditObject={this.props.onEditObject}\n                  showObjectsList={!this.props.integratedEditor}\n                  resourceSources={this.props.resourceSources}\n                  onChooseResource={this._onChooseResource}\n                  resourceExternalEditors={this.props.resourceExternalEditors}\n                  isActive={isActive}\n                  ref={editorRef}\n                />\n              )}\n            </PreferencesContext.Consumer>\n          ),\n          key: 'external layout ' + name,\n        }),\n      },\n      () => this.updateToolbar()\n    );\n    this.openProjectManager(false);\n  };\n\n  openEventsFunctionsExtension = (\n    name: string,\n    initiallyFocusedFunctionName?: string\n  ) => {\n    if (!this.props.eventsFunctionWriter) return;\n\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name,\n          renderEditor: ({ isActive, editorRef }) => (\n            <EventsFunctionsExtensionEditor\n              project={this.state.currentProject}\n              eventsFunctionsExtensionName={name}\n              setToolbar={this.setEditorToolbar}\n              resourceSources={this.props.resourceSources}\n              onChooseResource={this._onChooseResource}\n              resourceExternalEditors={this.props.resourceExternalEditors}\n              isActive={isActive}\n              onReloadEventsFunctionsExtensions={\n                this._loadProjectEventsFunctionsExtensions\n              }\n              initiallyFocusedFunctionName={initiallyFocusedFunctionName}\n              openInstructionOrExpression={this._openInstructionOrExpression}\n              onCreateEventsFunction={this._onCreateEventsFunction}\n              ref={editorRef}\n            />\n          ),\n          key: 'events functions extension ' + name,\n        }),\n      },\n      () => this.updateToolbar()\n    );\n    this.openProjectManager(false);\n  };\n\n  openResources = () => {\n    const { i18n } = this.props;\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name: i18n._(t`Resources`),\n          renderEditor: ({ isActive, editorRef }) => (\n            <ResourcesEditor\n              project={this.state.currentProject}\n              setToolbar={this.setEditorToolbar}\n              onDeleteResource={(resource: gdResource, cb: boolean => void) => {\n                // TODO: Project wide refactoring of objects/events using the resource\n                cb(true);\n              }}\n              onRenameResource={(\n                resource: gdResource,\n                newName: string,\n                cb: boolean => void\n              ) => {\n                // TODO: Project wide refactoring of objects/events using the resource\n                cb(true);\n              }}\n              isActive={isActive}\n              ref={editorRef}\n              onChooseResource={this._onChooseResource}\n              resourceSources={this.props.resourceSources}\n            />\n          ),\n          key: 'resources',\n        }),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openStartPage = () => {\n    const { i18n } = this.props;\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name: i18n._(t`Start Page`),\n          renderEditor: ({ isActive, editorRef }) => (\n            <StartPage\n              project={this.state.currentProject}\n              setToolbar={this.setEditorToolbar}\n              canOpen={!!this.props.onChooseProject}\n              onOpen={this.chooseProject}\n              onCreate={() => this.openCreateDialog()}\n              onOpenProjectManager={() => this.openProjectManager()}\n              onCloseProject={() => this.askToCloseProject()}\n              onOpenAboutDialog={() => this.openAboutDialog()}\n              onOpenHelpFinder={() => this.openHelpFinderDialog()}\n              onOpenLanguageDialog={() => this.openLanguage()}\n              isActive={isActive}\n              ref={editorRef}\n            />\n          ),\n          key: 'start page',\n          closable: false,\n        }),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openDebugger = () => {\n    const { i18n } = this.props;\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name: i18n._(t`Debugger`),\n          renderEditor: ({ isActive, editorRef }) => (\n            <DebuggerEditor\n              project={this.state.currentProject}\n              setToolbar={this.setEditorToolbar}\n              isActive={isActive}\n              ref={editorRef}\n              onChangeSubscription={() => this.openSubscription(true)}\n            />\n          ),\n          key: 'debugger',\n        }),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  _openInstructionOrExpression = (\n    extension: gdPlatformExtension,\n    type: string\n  ) => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const extensionName = extension.getName();\n    if (currentProject.hasEventsFunctionsExtensionNamed(extensionName)) {\n      // It's an events functions extension, open the editor for it.\n      const eventsFunctionsExtension = currentProject.getEventsFunctionsExtension(\n        extensionName\n      );\n      const functionName = getFunctionNameFromType(type);\n\n      const foundTab = getEventsFunctionsExtensionEditor(\n        this.state.editorTabs,\n        eventsFunctionsExtension\n      );\n      if (foundTab) {\n        // Open the given function and focus the tab\n        foundTab.editor.selectEventsFunctionByName(functionName);\n        this.setState(state => ({\n          editorTabs: changeCurrentTab(state.editorTabs, foundTab.tabIndex),\n        }));\n      } else {\n        // Open a new editor for the extension and the given function\n        this.openEventsFunctionsExtension(extensionName, functionName);\n      }\n    } else {\n      // It's not an events functions extension, we should not be here.\n      console.warn(\n        `Extension with name=${extensionName} can not be opened (no editor for this)`\n      );\n    }\n  };\n\n  _onCreateEventsFunction = (\n    extensionName: string,\n    eventsFunction: gdEventsFunction\n  ) => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    // Names are assumed to be already validated\n    const createNewExtension = !currentProject.hasEventsFunctionsExtensionNamed(\n      extensionName\n    );\n    const extension = createNewExtension\n      ? currentProject.insertNewEventsFunctionsExtension(extensionName, 0)\n      : currentProject.getEventsFunctionsExtension(extensionName);\n\n    if (createNewExtension) {\n      extension.setFullName(extensionName);\n      extension.setDescription(\n        'Originally automatically extracted from events of the project'\n      );\n    }\n\n    extension.insertEventsFunction(eventsFunction, 0);\n    this._loadProjectEventsFunctionsExtensions();\n  };\n\n  openCreateDialog = (open: boolean = true) => {\n    this.setState({\n      createDialogOpen: open,\n    });\n  };\n\n  chooseProject = () => {\n    if (!this.props.onChooseProject) return;\n\n    this.props\n      .onChooseProject()\n      .then(filepath => {\n        if (!filepath) return;\n\n        this.openFromPathOrURL(filepath, () =>\n          this.openSceneOrProjectManager()\n        );\n      })\n      .catch(() => {});\n  };\n\n  save = () => {\n    saveUiSettings(this.state.editorTabs);\n\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n    const { i18n } = this.props;\n\n    if (this.props.saveDialog) {\n      this._openSaveDialog();\n    } else if (this.props.onSaveProject) {\n      this.props.onSaveProject(currentProject).then(\n        () => {\n          this._showSnackMessage(i18n._(t`Project properly saved`));\n        },\n        err => {\n          showErrorBox(\n            i18n._(\n              t`Unable to save the project! Please try again by choosing another location.`\n            ),\n            err\n          );\n        }\n      );\n    }\n  };\n\n  askToCloseProject = (cb: ?Function) => {\n    if (!this.state.currentProject) return;\n    const { i18n } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Close the project? Any changes that have not been saved will be lost.`\n      )\n    );\n    if (!answer) return;\n\n    const noop = () => {};\n    this.closeProject(cb || noop);\n  };\n\n  openSceneOrProjectManager = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    if (currentProject.getLayoutsCount() === 1) {\n      this.openLayout(currentProject.getLayoutAt(0).getName(), {\n        openSceneEditor: true,\n        openEventsEditor: true,\n      });\n    } else {\n      this.openProjectManager();\n    }\n  };\n\n  openExportDialog = (open: boolean = true) => {\n    this.setState({\n      exportDialogOpen: open,\n    });\n  };\n\n  _openIntroDialog = (open: boolean = true) => {\n    this.setState({\n      introDialogOpen: open,\n    });\n  };\n\n  _openSaveDialog = (open: boolean = true) => {\n    this.setState({\n      saveDialogOpen: open,\n    });\n  };\n\n  _openGenericDialog = (open: boolean = true) => {\n    this.setState({\n      genericDialogOpen: open,\n      genericDialog: null,\n    });\n  };\n\n  openPreferences = (open: boolean = true) => {\n    this.setState({\n      preferencesDialogOpen: open,\n    });\n  };\n\n  openLanguage = (open: boolean = true) => {\n    this.setState({\n      languageDialogOpen: open,\n    });\n  };\n\n  openProfile = (open: boolean = true) => {\n    this.setState({\n      profileDialogOpen: open,\n    });\n  };\n\n  openSubscription = (open: boolean = true) => {\n    this.setState({\n      subscriptionDialogOpen: open,\n    });\n  };\n\n  _onChangeEditorTab = (value: number) => {\n    this.setState(\n      {\n        editorTabs: changeCurrentTab(this.state.editorTabs, value),\n      },\n      () => this._onEditorTabActive(getCurrentTab(this.state.editorTabs))\n    );\n  };\n\n  _onEditorTabActive = (editorTab: EditorTab) => {\n    this.updateToolbar();\n  };\n\n  _onCloseEditorTab = (editorTab: EditorTab) => {\n    saveUiSettings(this.state.editorTabs);\n    this.setState(\n      {\n        editorTabs: closeEditorTab(this.state.editorTabs, editorTab),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  _onChooseResource = (\n    sourceName: string,\n    multiSelection: boolean = true\n  ): Promise<Array<any>> => {\n    const { currentProject } = this.state;\n    const resourceSourceDialog = this._resourceSourceDialogs[sourceName];\n    if (!resourceSourceDialog) return Promise.resolve([]);\n\n    return resourceSourceDialog.chooseResources(currentProject, multiSelection);\n  };\n\n  updateToolbar() {\n    const editorTab = getCurrentTab(this.state.editorTabs);\n    if (!editorTab || !editorTab.editorRef) {\n      this.setEditorToolbar(null);\n      return;\n    }\n\n    editorTab.editorRef.updateToolbar();\n  }\n\n  openAboutDialog = (open: boolean = true) => {\n    this.setState({\n      aboutDialogOpen: open,\n    });\n  };\n\n  openPlatformSpecificAssets = (open: boolean = true) => {\n    this.setState({\n      platformSpecificAssetsDialogOpen: open,\n    });\n  };\n\n  openHelpFinderDialog = (open: boolean = true) => {\n    this.setState({\n      helpFinderDialogOpen: open,\n    });\n  };\n\n  setUpdateStatus = (updateStatus: UpdateStatus) => {\n    this.setState({\n      updateStatus,\n    });\n\n    const notificationTitle = getUpdateNotificationTitle(updateStatus);\n    const notificationBody = getUpdateNotificationBody(updateStatus);\n    if (notificationTitle) {\n      const notification = new window.Notification(notificationTitle, {\n        body: notificationBody,\n      });\n      notification.onclick = () => this.openAboutDialog(true);\n    }\n  };\n\n  simulateUpdateDownloaded = () =>\n    this.setUpdateStatus({\n      status: 'update-downloaded',\n      message: 'update-downloaded',\n      info: {\n        releaseName: 'Fake update',\n      },\n    });\n\n  simulateUpdateAvailable = () =>\n    this.setUpdateStatus({\n      status: 'update-available',\n      message: 'Update available',\n    });\n\n  _showSnackMessage = (snackMessage: string) =>\n    this.setState({\n      snackMessage,\n      snackMessageOpen: true,\n    });\n\n  _closeSnackMessage = () =>\n    this.setState({\n      snackMessageOpen: false,\n    });\n\n  render() {\n    const {\n      currentProject,\n      genericDialog,\n      projectManagerOpen,\n      profileDialogOpen,\n      subscriptionDialogOpen,\n      updateStatus,\n      aboutDialogOpen,\n      helpFinderDialogOpen,\n      eventsFunctionsExtensionsError,\n    } = this.state;\n    const {\n      exportDialog,\n      createDialog,\n      introDialog,\n      saveDialog,\n      resourceSources,\n      authentification,\n      previewLauncher,\n      resourceExternalEditors,\n    } = this.props;\n    const showLoader =\n      this.state.loadingProject ||\n      this.state.previewLoading ||\n      this.props.loading;\n\n    return (\n      <div className=\"main-frame\">\n        <ProjectTitlebar project={currentProject} />\n        <Drawer\n          open={projectManagerOpen}\n          containerStyle={styles.drawerContent}\n          width={320}\n        >\n          <EditorBar\n            title={currentProject ? currentProject.getName() : 'No project'}\n            showMenuIconButton={false}\n            iconElementRight={\n              <IconButton onClick={this.toggleProjectManager}>\n                <NavigationClose />\n              </IconButton>\n            }\n          />\n          {currentProject && (\n            <ProjectManager\n              project={currentProject}\n              onOpenExternalEvents={this.openExternalEvents}\n              onOpenLayout={this.openLayout}\n              onOpenExternalLayout={this.openExternalLayout}\n              onOpenEventsFunctionsExtension={this.openEventsFunctionsExtension}\n              onAddLayout={this.addLayout}\n              onAddExternalLayout={this.addExternalLayout}\n              onAddEventsFunctionsExtension={this.addEventsFunctionsExtension}\n              onAddExternalEvents={this.addExternalEvents}\n              onDeleteLayout={this.deleteLayout}\n              onDeleteExternalLayout={this.deleteExternalLayout}\n              onDeleteEventsFunctionsExtension={\n                this.deleteEventsFunctionsExtension\n              }\n              onDeleteExternalEvents={this.deleteExternalEvents}\n              onRenameLayout={this.renameLayout}\n              onRenameExternalLayout={this.renameExternalLayout}\n              onRenameEventsFunctionsExtension={\n                this.renameEventsFunctionsExtension\n              }\n              onRenameExternalEvents={this.renameExternalEvents}\n              onSaveProject={this.save}\n              onCloseProject={this.askToCloseProject}\n              onExportProject={this.openExportDialog}\n              onOpenPreferences={() => this.openPreferences(true)}\n              onOpenResources={() => {\n                this.openResources();\n                this.openProjectManager(false);\n              }}\n              onOpenPlatformSpecificAssets={() =>\n                this.openPlatformSpecificAssets()\n              }\n              onChangeSubscription={() => this.openSubscription(true)}\n              eventsFunctionsExtensionsError={eventsFunctionsExtensionsError}\n              onReloadEventsFunctionsExtensions={\n                this._loadProjectEventsFunctionsExtensions\n              }\n              freezeUpdate={!projectManagerOpen}\n            />\n          )}\n          {!currentProject && (\n            <EmptyMessage>\n              <Trans>To begin, open or create a new project.</Trans>\n            </EmptyMessage>\n          )}\n        </Drawer>\n        <Toolbar\n          ref={toolbar => (this.toolbar = toolbar)}\n          showProjectIcons={!this.props.integratedEditor}\n          hasProject={!!this.state.currentProject}\n          toggleProjectManager={this.toggleProjectManager}\n          exportProject={() => this.openExportDialog(true)}\n          requestUpdate={this.props.requestUpdate}\n          simulateUpdateDownloaded={this.simulateUpdateDownloaded}\n          simulateUpdateAvailable={this.simulateUpdateAvailable}\n        />\n        <Tabs\n          value={getCurrentTabIndex(this.state.editorTabs)}\n          onChange={this._onChangeEditorTab}\n          hideLabels={!!this.props.integratedEditor}\n        >\n          {getEditors(this.state.editorTabs).map((editorTab, id) => {\n            const isCurrentTab =\n              getCurrentTabIndex(this.state.editorTabs) === id;\n            return (\n              <Tab\n                label={editorTab.name}\n                value={id}\n                key={editorTab.key}\n                onActive={() => this._onEditorTabActive(editorTab)}\n                onClose={() => this._onCloseEditorTab(editorTab)}\n                closable={editorTab.closable}\n              >\n                <div style={{ display: 'flex', flex: 1, height: '100%' }}>\n                  <ErrorBoundary>\n                    {editorTab.render(isCurrentTab)}\n                  </ErrorBoundary>\n                </div>\n              </Tab>\n            );\n          })}\n        </Tabs>\n        <LoaderModal show={showLoader} />\n        <HelpFinder\n          open={helpFinderDialogOpen}\n          onClose={() => this.openHelpFinderDialog(false)}\n        />\n        <Snackbar\n          open={this.state.snackMessageOpen}\n          message={this.state.snackMessage}\n          autoHideDuration={3000}\n          onRequestClose={this._closeSnackMessage}\n        />\n        {!!exportDialog &&\n          React.cloneElement(exportDialog, {\n            open: this.state.exportDialogOpen,\n            onClose: () => this.openExportDialog(false),\n            onChangeSubscription: () => {\n              this.openExportDialog(false);\n              this.openSubscription(true);\n            },\n            project: this.state.currentProject,\n            authentification,\n          })}\n        {!!createDialog &&\n          React.cloneElement(createDialog, {\n            open: this.state.createDialogOpen,\n            onClose: () => this.openCreateDialog(false),\n            onOpen: filepath => {\n              this.openCreateDialog(false);\n              this.openFromPathOrURL(filepath, () =>\n                this.openSceneOrProjectManager()\n              );\n            },\n            onCreate: project => {\n              this.openCreateDialog(false);\n              this.loadFromProject(project, () =>\n                this.openSceneOrProjectManager()\n              );\n            },\n          })}\n        {!!introDialog &&\n          React.cloneElement(introDialog, {\n            open: this.state.introDialogOpen,\n            onClose: () => this._openIntroDialog(false),\n          })}\n        {!!saveDialog &&\n          React.cloneElement(saveDialog, {\n            project: this.state.currentProject,\n            open: this.state.saveDialogOpen,\n            onClose: () => this._openSaveDialog(false),\n          })}\n        {!!this.state.currentProject && (\n          <PlatformSpecificAssetsDialog\n            project={this.state.currentProject}\n            open={this.state.platformSpecificAssetsDialogOpen}\n            onApply={() => this.openPlatformSpecificAssets(false)}\n            onClose={() => this.openPlatformSpecificAssets(false)}\n            resourceSources={resourceSources}\n            onChooseResource={this._onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n          />\n        )}\n        {!!genericDialog &&\n          React.cloneElement(genericDialog, {\n            open: this.state.genericDialogOpen,\n            onClose: () => this._openGenericDialog(false),\n          })}\n        {!!previewLauncher &&\n          React.cloneElement(previewLauncher, {\n            ref: (previewLauncher: ?PreviewLauncher) =>\n              (this._previewLauncher = previewLauncher),\n            onExport: () => this.openExportDialog(true),\n            onChangeSubscription: () => this.openSubscription(true),\n          })}\n        {resourceSources.map((resourceSource, index) => {\n          // $FlowFixMe\n          const Component = resourceSource.component;\n          return (\n            // $FlowFixMe\n            <Component\n              key={resourceSource.name}\n              ref={dialog =>\n                (this._resourceSourceDialogs[resourceSource.name] = dialog)\n              }\n            />\n          );\n        })}\n        <ProfileDialog\n          open={profileDialogOpen}\n          onClose={() => this.openProfile(false)}\n          onChangeSubscription={() => this.openSubscription(true)}\n        />\n        <SubscriptionDialog\n          onClose={() => {\n            this.openSubscription(false);\n          }}\n          open={subscriptionDialogOpen}\n        />\n        <PreferencesDialog\n          open={this.state.preferencesDialogOpen}\n          onClose={() => this.openPreferences(false)}\n        />\n        <LanguageDialog\n          open={this.state.languageDialogOpen}\n          onClose={languageChanged => {\n            this.openLanguage(false);\n            if (languageChanged) {\n              this._languageDidChange();\n            }\n          }}\n        />\n        <AboutDialog\n          open={aboutDialogOpen}\n          onClose={() => this.openAboutDialog(false)}\n          updateStatus={updateStatus}\n        />\n        <CloseConfirmDialog shouldPrompt={!!this.state.currentProject} />\n        <ChangelogDialogContainer />\n      </div>\n    );\n  }\n}\n\nexport default MainFrame;\n","// @flow\nimport optionalRequire from '../Utils/OptionalRequire';\nconst electron = optionalRequire('electron');\nconst app = electron ? electron.remote.app : null;\nconst gd = global.gd;\n\nconst gdCoreVersionString: string = gd\n  ? gd.VersionWrapper.fullString()\n  : 'Unknown';\nconst ideVersionString: string = app ? app.getVersion() : '5';\n\nexport const getIDEVersion = () => ideVersionString;\nexport const getGDCoreVersion = () => gdCoreVersionString;\n","import React, { Component } from 'react';\nconst gd = global.gd;\n\n/**\n * Wrap the specified component so that it is able to modify a\n * copy of the serializable object passed as its props (with the prop name\n * being the one specified by propName) and then apply the changes (in which\n * case the original serializable object is modified) or cancel the changes\n * (in which case the original serializable object remains intact).\n */\nexport const withSerializableObject = (\n  WrappedComponent,\n  { newObjectCreator, propName, useProjectToUnserialize } //TODO: Refactor\n) => {\n  return class extends Component {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        serializableObject: newObjectCreator(),\n      };\n      this._loadFrom(props[propName]);\n    }\n\n    componentWillUnmount() {\n      this.state.serializableObject.delete();\n    }\n\n    componentWillReceiveProps(newProps) {\n      if (\n        (!this.props.open && newProps.open) ||\n        (newProps.open && this.props[propName] !== newProps[propName])\n      ) {\n        this._loadFrom(newProps[propName]);\n      }\n    }\n\n    _loadFrom(serializableObject) {\n      if (!serializableObject) return;\n\n      const serializedElement = new gd.SerializerElement();\n      serializableObject.serializeTo(serializedElement);\n      if (!useProjectToUnserialize) {\n        this.state.serializableObject.unserializeFrom(serializedElement);\n      } else {\n        this.state.serializableObject.unserializeFrom(\n          this.props.project,\n          serializedElement\n        );\n      }\n      serializedElement.delete();\n    }\n\n    _apply = () => {\n      if (!this.props[propName]) return;\n\n      const serializedElement = new gd.SerializerElement();\n      this.state.serializableObject.serializeTo(serializedElement);\n      if (!useProjectToUnserialize) {\n        this.props[propName].unserializeFrom(serializedElement);\n      } else {\n        this.props[propName].unserializeFrom(\n          this.props.project,\n          serializedElement\n        );\n      }\n      serializedElement.delete();\n\n      if (this.props.onApply) this.props.onApply();\n    };\n\n    _cancel = () => {\n      if (this.props.onCancel) this.props.onCancel();\n    };\n\n    render() {\n      const props = this.props;\n\n      return React.createElement(WrappedComponent, {\n        ...props,\n        [propName]: this.state.serializableObject,\n        onCancel: this._cancel,\n        onApply: this._apply,\n      });\n    }\n  };\n};\n","import React from 'react';\nimport DragHandleIcon from 'material-ui/svg-icons/editor/drag-handle';\nimport { SortableHandle } from 'react-sortable-hoc';\n\nconst styles = {\n  handle: {\n    cursor: 'move',\n    marginRight: 4,\n  },\n  handleColor: '#DDD',\n};\n\nconst DragHandle = SortableHandle(() => (\n  <span style={styles.handle}>\n    <DragHandleIcon color={styles.handleColor} />\n  </span>\n));\nexport default DragHandle;\n","export default {\n  toolColumnHeader: {\n    textAlign: 'left',\n    paddingRight: 4,\n  },\n  toolColumn: {\n    minWidth: 48,\n    flex: 0,\n    justifyContent: 'flex-end',\n  },\n  tableChildIndentation: 24,\n  indent: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n  },\n  indentIconColor: '#DDD', //TODO: Use theme color instead\n  addVariableMessage: {\n    justifyContent: 'flex-end',\n  },\n  emptyExplanation: {\n    justifyContent: 'flex-start',\n  },\n  emptyExplanationMessage: {\n    textAlign: 'left',\n  },\n  fadedButton: {\n    opacity: 0.7,\n  },\n};\n","// @flow\n\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport Star from 'material-ui/svg-icons/toggle/star';\nimport Favorite from 'material-ui/svg-icons/action/favorite';\nimport UserProfileContext, { type UserProfile } from './UserProfileContext';\nimport { Column, Line } from '../UI/Grid';\nimport {\n  sendSubscriptionCheckDialogShown,\n  sendSubscriptionCheckDismiss,\n} from '../Utils/Analytics/EventSender';\nimport { Trans } from '@lingui/macro';\n\ntype Props = {|\n  title: React.Node,\n  id: string,\n  onChangeSubscription?: () => void,\n  mode: 'try' | 'mandatory',\n|};\n\ntype DialogProps = {|\n  userProfile: UserProfile,\n  ...$Exact<Props>,\n|};\n\ntype DialogState = {|\n  open: boolean,\n|};\n\nconst styles = {\n  icon: { width: 40, height: 40, marginRight: 20 },\n  iconText: { flex: 1 },\n  thanksText: { textAlign: 'right', marginRight: 20, marginBottom: 0 },\n};\n\nexport class SubscriptionCheckDialog extends React.Component<\n  DialogProps,\n  DialogState\n> {\n  state = { open: false };\n\n  checkHasSubscription() {\n    const { userProfile, mode, id } = this.props;\n    if (userProfile.subscription) {\n      const hasPlan = !!userProfile.subscription.planId;\n      if (hasPlan) {\n        this.setState({\n          open: false,\n        });\n        return true;\n      }\n    }\n\n    this.setState({\n      open: true,\n    });\n    sendSubscriptionCheckDialogShown({ mode, id });\n\n    return false;\n  }\n\n  _closeDialog = () => {\n    sendSubscriptionCheckDismiss();\n    this.setState({ open: false });\n  };\n\n  render() {\n    const { open } = this.state;\n    const { onChangeSubscription, mode } = this.props;\n    if (!open) return null;\n\n    return (\n      <Dialog\n        actions={[\n          onChangeSubscription && (\n            <RaisedButton\n              label={<Trans>Get a subscription or login</Trans>}\n              key=\"subscribe\"\n              primary\n              onClick={() => {\n                this.setState({ open: false });\n                onChangeSubscription();\n              }}\n            />\n          ),\n        ]}\n        secondaryActions={[\n          <FlatButton\n            label={\n              mode === 'try' ? (\n                <Trans>Continue anyway</Trans>\n              ) : (\n                <Trans>Not now, thanks!</Trans>\n              )\n            }\n            key=\"close\"\n            primary={false}\n            onClick={this._closeDialog}\n          />,\n        ]}\n        onRequestClose={this._closeDialog}\n        open={open}\n        autoScrollBodyContent\n        title={this.props.title}\n      >\n        <Column noMargin>\n          <Line noMargin alignItems=\"center\">\n            {mode === 'try' ? (\n              <p>\n                <Trans>\n                  You can try this feature, but if you're using it regularly, we\n                  ask you to get a subscription to GDevelop.\n                </Trans>\n              </p>\n            ) : (\n              <p>\n                <Trans>\n                  To use this feature, we ask you to get a subscription to\n                  GDevelop.\n                </Trans>\n              </p>\n            )}\n          </Line>\n          <Line noMargin alignItems=\"center\">\n            <Star style={styles.icon} />\n            <p style={styles.iconText}>\n              <Trans>\n                Having a subscription allows you to use the one-click export for\n                Android, Windows, macOS and Linux, launch live previews over\n                wifi, disable the GDevelop splashscreen during loading and more!\n              </Trans>\n            </p>\n          </Line>\n          <Line noMargin alignItems=\"center\">\n            <Favorite style={styles.icon} />\n            <p style={styles.iconText}>\n              <Trans>\n                You're also supporting the development of GDevelop, an\n                open-source software! In the future, more online services will\n                be available for users with a subscription.\n              </Trans>\n            </p>\n          </Line>\n          <p style={styles.thanksText}>\n            <b>\n              <Trans>Thanks!</Trans>\n            </b>\n          </p>\n        </Column>\n      </Dialog>\n    );\n  }\n}\n\nclass SubscriptionChecker extends React.Component<Props, {}> {\n  _dialog: ?SubscriptionCheckDialog = null;\n\n  checkHasSubscription() {\n    if (this._dialog) {\n      return this._dialog.checkHasSubscription();\n    }\n\n    return false;\n  }\n\n  render() {\n    return (\n      <UserProfileContext.Consumer>\n        {(userProfile: UserProfile) => (\n          <SubscriptionCheckDialog\n            userProfile={userProfile}\n            ref={dialog => (this._dialog = dialog)}\n            onChangeSubscription={this.props.onChangeSubscription}\n            id={this.props.id}\n            title={this.props.title}\n            mode={this.props.mode}\n          />\n        )}\n      </UserProfileContext.Consumer>\n    );\n  }\n}\n\nexport default SubscriptionChecker;\n","// @flow\nimport { mapFor } from '../Utils/MapFor';\n\nexport const enumerateLayouts = (project: gdProject): Array<gdLayout> =>\n  mapFor(0, project.getLayoutsCount(), i => project.getLayoutAt(i));\n\nexport const enumerateExternalEvents = (\n  project: gdProject\n): Array<gdExternalEvents> =>\n  mapFor(0, project.getExternalEventsCount(), i =>\n    project.getExternalEventsAt(i)\n  );\n\nexport const enumerateExternalLayouts = (\n  project: gdProject\n): Array<gdExternalLayout> =>\n  mapFor(0, project.getExternalLayoutsCount(), i =>\n    project.getExternalLayoutAt(i)\n  );\n\nexport const enumerateEventsFunctionsExtensions = (\n  project: gdProject\n): Array<gdEventsFunction> =>\n  mapFor(0, project.getEventsFunctionsExtensionsCount(), i =>\n    project.getEventsFunctionsExtensionAt(i)\n  );\n\nexport const filterProjectItemsList = <T>(\n  list: Array<T>,\n  searchText: string\n): Array<T> => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter(\n    (item: any) =>\n      item\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Column, Line } from '../UI/Grid';\n\nconst styles = {\n  orDivider: {\n    marginLeft: 15,\n    marginTop: 2,\n  },\n};\n\ntype Props = {\n  message?: string,\n  onLogin: Function,\n};\n\nexport default ({ message, onLogin }: Props) => (\n  <Column noMargin>\n    <Line>\n      <p>\n        {message ||\n          'You are not connected. Create an account and connect to access to GDevelop online services, like building your game for Android in one click!'}\n      </p>\n    </Line>\n    <Line justifyContent=\"center\" alignItems=\"center\">\n      <RaisedButton\n        label={<Trans>Create my account</Trans>}\n        onClick={onLogin}\n        primary\n      />\n      <span style={styles.orDivider}>or</span>\n      <FlatButton label={<Trans>Login</Trans>} onClick={onLogin} />\n    </Line>\n  </Column>\n);\n","// @flow\nimport * as React from 'react';\nimport EventsTree from './EventsTree';\nimport InstructionEditorDialog from './InstructionEditor/InstructionEditorDialog';\nimport Toolbar from './Toolbar';\nimport KeyboardShortcuts from '../UI/KeyboardShortcuts';\nimport InlineParameterEditor from './InlineParameterEditor';\nimport ContextMenu from '../UI/Menu/ContextMenu';\nimport Clipboard from '../Utils/Clipboard';\nimport { type PreviewOptions } from '../Export/PreviewLauncher.flow';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport {\n  type HistoryState,\n  undo,\n  redo,\n  canUndo,\n  canRedo,\n  getHistoryInitialState,\n  saveToHistory,\n} from '../Utils/History';\nimport {\n  type SelectionState,\n  type EventContext,\n  type InstructionsListContext,\n  type InstructionContext,\n  type ParameterContext,\n  getInitialSelection,\n  selectEvent,\n  selectInstruction,\n  hasSomethingSelected,\n  hasEventSelected,\n  hasInstructionSelected,\n  hasSelectedAtLeastOneCondition,\n  hasInstructionsListSelected,\n  getSelectedEvents,\n  getSelectedInstructions,\n  clearSelection,\n  getSelectedEventContexts,\n  getSelectedInstructionsContexts,\n  getSelectedInstructionsListsContexts,\n  selectInstructionsList,\n} from './SelectionHandler';\nimport EmptyEventsPlaceholder from './EmptyEventsPlaceholder';\nimport { ensureSingleOnceInstructions } from './OnceInstructionSanitizer';\nimport EventsContextAnalyzerDialog, {\n  type EventsContextResult,\n  toEventsContextResult,\n} from './EventsContextAnalyzerDialog';\nimport SearchPanel from './SearchPanel';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport EventsSearcher, {\n  type ReplaceInEventsInputs,\n  type SearchInEventsInputs,\n} from './EventsSearcher';\nimport { containsSubInstructions } from './ContainsSubInstruction';\nimport {\n  enumerateEventsMetadata,\n  type EventMetadata,\n} from './EnumerateEventsMetadata';\nimport PreferencesContext from '../MainFrame/Preferences/PreferencesContext';\nimport EventsFunctionExtractorDialog from './EventsFunctionExtractor/EventsFunctionExtractorDialog';\nimport { createNewInstructionForEventsFunction } from './EventsFunctionExtractor';\nconst gd = global.gd;\n\nconst CLIPBOARD_KIND = 'EventsAndInstructions';\n\ntype Props = {|\n  project: gdProject,\n  layout: ?gdLayout,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  events: gdEventsList,\n  setToolbar: (?React.Node) => void,\n  showPreviewButton: boolean,\n  showNetworkPreviewButton: boolean,\n  onPreview: (options: PreviewOptions) => void,\n  onOpenDebugger: () => void,\n  onOpenSettings?: ?() => void,\n  onOpenExternalEvents: string => void,\n  onOpenLayout: string => void,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n  onCreateEventsFunction: (\n    extensionName: string,\n    eventsFunction: gdEventsFunction\n  ) => void,\n|};\ntype State = {|\n  history: HistoryState,\n\n  editedInstruction: {\n    //TODO: This could be adapted to be a InstructionContext\n    isCondition: boolean,\n    instruction: ?gdInstruction,\n    instrsList: ?gdInstructionsList,\n    indexInList: number,\n  },\n  editedParameter: {\n    // TODO: This could be adapted to be a ParameterContext\n    isCondition: boolean,\n    instruction: ?gdInstruction,\n    instrsList: ?gdInstructionsList,\n    parameterIndex: number,\n  },\n\n  selection: SelectionState,\n\n  inlineEditing: boolean,\n  inlineEditingAnchorEl: ?any,\n  inlineEditingChangesMade: boolean,\n\n  analyzedEventsContextResult: ?EventsContextResult,\n\n  serializedEventsToExtract: ?Object,\n\n  showSearchPanel: boolean,\n  searchResults: ?Array<gdBaseEvent>,\n  searchFocusOffset: ?number,\n\n  allEventsMetadata: Array<EventMetadata>,\n|};\n\nconst styles = {\n  container: {\n    display: 'flex',\n    width: '100%',\n    flexDirection: 'column',\n  },\n};\n\nexport default class EventsSheet extends React.Component<Props, State> {\n  _eventsTree: ?EventsTree;\n  _eventSearcher: ?EventsSearcher;\n  _searchPanel: ?SearchPanel;\n  _keyboardShortcuts = new KeyboardShortcuts({\n    onDelete: () => {\n      if (this.state.inlineEditing || this.state.editedInstruction.instruction)\n        return;\n\n      this.deleteSelection();\n    },\n    onCopy: this.copySelection,\n    onCut: this.cutSelection,\n    onPaste: this.pasteEventsOrInstructions,\n    onSearch: this._toggleSearchPanel,\n    onUndo: this.undo,\n    onRedo: this.redo,\n  });\n\n  eventContextMenu: ContextMenu;\n  instructionContextMenu: ContextMenu;\n  instructionsListContextMenu: ContextMenu;\n\n  state = {\n    history: getHistoryInitialState(this.props.events, { historyMaxSize: 50 }),\n\n    editedInstruction: {\n      isCondition: true,\n      instruction: null,\n      instrsList: null,\n      indexInList: 0,\n    },\n    editedParameter: {\n      isCondition: true,\n      instruction: null,\n      instrsList: null,\n      parameterIndex: 0,\n    },\n\n    selection: getInitialSelection(),\n\n    inlineEditing: false,\n    inlineEditingAnchorEl: null,\n    inlineEditingChangesMade: false,\n\n    analyzedEventsContextResult: null,\n\n    serializedEventsToExtract: null,\n\n    showSearchPanel: false,\n    searchResults: null,\n    searchFocusOffset: null,\n\n    allEventsMetadata: [],\n  };\n\n  componentDidMount() {\n    this.setState({ allEventsMetadata: enumerateEventsMetadata() });\n  }\n\n  componentWillUnmount() {\n    this._keyboardShortcuts.unmount();\n  }\n\n  updateToolbar() {\n    if (!this.props.setToolbar) return;\n\n    this.props.setToolbar(\n      <Toolbar\n        allEventsMetadata={this.state.allEventsMetadata}\n        onAddStandardEvent={() =>\n          this.addNewEvent('BuiltinCommonInstructions::Standard')\n        }\n        onAddSubEvent={this.addSubEvents}\n        canAddSubEvent={hasEventSelected(this.state.selection)}\n        onAddCommentEvent={() =>\n          this.addNewEvent('BuiltinCommonInstructions::Comment')\n        }\n        onAddEvent={this.addNewEvent}\n        canRemove={hasSomethingSelected(this.state.selection)}\n        onRemove={this.deleteSelection}\n        showPreviewButton={this.props.showPreviewButton}\n        showNetworkPreviewButton={this.props.showNetworkPreviewButton}\n        onPreview={() => this.props.onPreview({})}\n        onNetworkPreview={() => this.props.onPreview({ networkPreview: true })}\n        onOpenDebugger={() => {\n          this.props.onOpenDebugger();\n          this.props.onPreview({});\n        }}\n        canUndo={canUndo(this.state.history)}\n        canRedo={canRedo(this.state.history)}\n        undo={this.undo}\n        redo={this.redo}\n        onOpenSettings={this.props.onOpenSettings}\n        onToggleSearchPanel={this._toggleSearchPanel}\n      />\n    );\n  }\n\n  _toggleSearchPanel = () => {\n    this.setState(\n      state => {\n        const show = !state.showSearchPanel;\n        if (!show) {\n          if (this._eventSearcher) this._eventSearcher.reset();\n        }\n\n        return {\n          showSearchPanel: show,\n        };\n      },\n      () => {\n        if (this.state.showSearchPanel && this._searchPanel) {\n          this._searchPanel.focus();\n        }\n      }\n    );\n  };\n\n  addSubEvents = () => {\n    const { project } = this.props;\n\n    getSelectedEvents(this.state.selection).forEach(event => {\n      if (event.canHaveSubEvents()) {\n        event\n          .getSubEvents()\n          .insertNewEvent(\n            project,\n            'BuiltinCommonInstructions::Standard',\n            event.getSubEvents().getEventsCount()\n          );\n      }\n    });\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  _selectionCanHaveSubEvents = () => {\n    return getSelectedEvents(this.state.selection).some(event => {\n      return event.canHaveSubEvents();\n    });\n  };\n\n  _selectionCanToggleDisabled = () => {\n    return getSelectedEvents(this.state.selection).some(event => {\n      return event.isExecutable();\n    });\n  };\n\n  addNewEvent = (type: string, context: ?EventContext): Array<gdBaseEvent> => {\n    const { project } = this.props;\n    const hasEventsSelected = hasEventSelected(this.state.selection);\n\n    let insertions: Array<{\n      eventsList: gdEventsList,\n      indexInList: number,\n    }> = [];\n    if (context) {\n      insertions = [context];\n    } else if (hasEventsSelected) {\n      insertions = getSelectedEventContexts(this.state.selection).map(\n        selectedEvent => ({\n          eventsList: selectedEvent.eventsList,\n          indexInList: selectedEvent.indexInList,\n        })\n      );\n    } else {\n      insertions = [\n        {\n          eventsList: this.props.events,\n          indexInList: this.props.events.getEventsCount(),\n        },\n      ];\n    }\n\n    const newEvents = insertions.map(\n      (context: { eventsList: gdEventsList, indexInList: number }) => {\n        return context.eventsList.insertNewEvent(\n          project,\n          type,\n          context.indexInList + 1\n        );\n      }\n    );\n\n    this._saveChangesToHistory(() => {\n      const eventsTree = this._eventsTree;\n      if (!eventsTree) return;\n\n      eventsTree.forceEventsUpdate(() => {\n        if (!context && !hasEventsSelected) {\n          eventsTree.scrollToEvent(newEvents[0]);\n        }\n      });\n    });\n\n    return newEvents;\n  };\n\n  openInstructionEditor = (instructionContext: InstructionContext) => {\n    if (this.state.editedInstruction.instruction) {\n      this.state.editedInstruction.instruction.delete();\n    }\n\n    this.setState({\n      editedInstruction: {\n        instrsList: instructionContext.instrsList,\n        isCondition: instructionContext.isCondition,\n        instruction: instructionContext.instruction\n          ? instructionContext.instruction.clone()\n          : new gd.Instruction(),\n        indexInList: instructionContext.indexInList,\n      },\n    });\n  };\n\n  closeInstructionEditor(saveChanges: boolean = false) {\n    if (this.state.editedInstruction.instruction) {\n      this.state.editedInstruction.instruction.delete();\n    }\n\n    this.setState(\n      {\n        editedInstruction: {\n          isCondition: true,\n          instruction: null,\n          instrsList: null,\n          indexInList: 0,\n        },\n      },\n      () => {\n        if (saveChanges) {\n          this._saveChangesToHistory();\n        }\n      }\n    );\n  }\n\n  moveSelectionToInstruction = (destinationContext: InstructionContext) => {\n    this.moveSelectionToInstructionsList(\n      {\n        instrsList: destinationContext.instrsList,\n        isCondition: destinationContext.isCondition,\n      },\n      destinationContext.indexInList\n    );\n  };\n\n  moveSelectionToInstructionsList = (\n    destinationContext: InstructionsListContext,\n    indexInList: ?number = undefined\n  ) => {\n    const selectedInstructions = getSelectedInstructions(this.state.selection);\n    const destinationIndex =\n      indexInList === undefined\n        ? destinationContext.instrsList.size()\n        : indexInList;\n\n    const isTryingToDragAnInstructionIntoItsOwnNestedInstructions = !!selectedInstructions.filter(\n      instruction =>\n        containsSubInstructions(instruction, destinationContext.instrsList)\n    ).length;\n\n    if (isTryingToDragAnInstructionIntoItsOwnNestedInstructions) return;\n\n    selectedInstructions.forEach(instruction =>\n      destinationContext.instrsList.insert(instruction, destinationIndex)\n    );\n\n    if (!this._keyboardShortcuts.shouldCloneInstances()) {\n      this.deleteSelection({ deleteEvents: false });\n    } else {\n      this._saveChangesToHistory();\n    }\n  };\n\n  selectEvent = (eventContext: EventContext) => {\n    const multiSelect = this._keyboardShortcuts.shouldMultiSelect();\n    this.setState(\n      {\n        selection: selectEvent(this.state.selection, eventContext, multiSelect),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openEventContextMenu = (x: number, y: number, eventContext: EventContext) => {\n    const multiSelect = this._keyboardShortcuts.shouldMultiSelect();\n    this.setState(\n      {\n        selection: selectEvent(this.state.selection, eventContext, multiSelect),\n      },\n      () => {\n        this.updateToolbar();\n        this.eventContextMenu.open(x, y);\n      }\n    );\n  };\n\n  openInstructionContextMenu = (\n    x: number,\n    y: number,\n    instructionContext: InstructionContext\n  ) => {\n    const multiSelect = this._keyboardShortcuts.shouldMultiSelect();\n    this.setState(\n      {\n        selection: selectInstruction(\n          this.state.selection,\n          instructionContext,\n          multiSelect\n        ),\n      },\n      () => {\n        this.updateToolbar();\n        this.instructionContextMenu.open(x, y);\n      }\n    );\n  };\n\n  openInstructionsListContextMenu = (\n    x: number,\n    y: number,\n    instructionsListContext: InstructionsListContext\n  ) => {\n    this.setState(\n      {\n        selection: selectInstructionsList(\n          this.state.selection,\n          instructionsListContext,\n          false\n        ),\n      },\n      () => {\n        this.updateToolbar();\n        this.instructionsListContextMenu.open(x, y);\n      }\n    );\n  };\n\n  selectInstruction = (instructionContext: InstructionContext) => {\n    const multiSelect = this._keyboardShortcuts.shouldMultiSelect();\n    this.setState(\n      {\n        selection: selectInstruction(\n          this.state.selection,\n          instructionContext,\n          multiSelect\n        ),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openParameterEditor = (parameterContext: ParameterContext) => {\n    // $FlowFixMe\n    this.setState({\n      editedParameter: parameterContext,\n      inlineEditing: true,\n      inlineEditingAnchorEl: parameterContext.domEvent\n        ? parameterContext.domEvent.currentTarget\n        : null,\n      inlineEditingChangesMade: false,\n    });\n  };\n\n  closeParameterEditor = () => {\n    if (this.state.inlineEditingChangesMade) {\n      this._saveChangesToHistory();\n    }\n\n    this.setState({\n      inlineEditing: false,\n      inlineEditingAnchorEl: null,\n      inlineEditingChangesMade: false,\n    });\n  };\n\n  toggleDisabled = () => {\n    getSelectedEvents(this.state.selection).forEach(event =>\n      event.setDisabled(!event.isDisabled())\n    );\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  deleteSelection = ({\n    deleteInstructions = true,\n    deleteEvents = true,\n  }: { deleteInstructions?: boolean, deleteEvents?: boolean } = {}) => {\n    const { events } = this.props;\n    const eventsRemover = new gd.EventsRemover();\n    if (deleteEvents) {\n      getSelectedEvents(this.state.selection).forEach(event =>\n        eventsRemover.addEventToRemove(event)\n      );\n    }\n    if (deleteInstructions) {\n      getSelectedInstructions(this.state.selection).forEach(instruction =>\n        eventsRemover.addInstructionToRemove(instruction)\n      );\n    }\n\n    eventsRemover.launch(events);\n\n    // /!\\ Events were changed, so any reference to an existing event can now\n    // be invalid. Make sure to immediately trigger a forced update before\n    // any re-render that could use a deleted/invalid event.\n    if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n\n    this.setState(\n      {\n        selection: clearSelection(),\n        inlineEditing: false,\n        inlineEditingAnchorEl: null,\n      },\n      () => this._saveChangesToHistory()\n    );\n  };\n\n  copySelection = () => {\n    const eventsList = new gd.EventsList();\n    const instructionsList = new gd.InstructionsList();\n\n    getSelectedEvents(this.state.selection).forEach(event =>\n      eventsList.insertEvent(event, eventsList.getEventsCount())\n    );\n    getSelectedInstructions(this.state.selection).forEach(instruction =>\n      instructionsList.insert(instruction, instructionsList.size())\n    );\n\n    Clipboard.set(CLIPBOARD_KIND, {\n      eventsList: serializeToJSObject(eventsList),\n      instructionsList: serializeToJSObject(instructionsList),\n    });\n\n    eventsList.delete();\n    instructionsList.delete();\n  };\n\n  cutSelection = () => {\n    this.copySelection();\n    this.deleteSelection();\n  };\n\n  pasteEvents = () => {\n    if (\n      !hasEventSelected(this.state.selection) ||\n      !Clipboard.has(CLIPBOARD_KIND)\n    )\n      return;\n\n    const eventsList = new gd.EventsList();\n    unserializeFromJSObject(\n      eventsList,\n      Clipboard.get(CLIPBOARD_KIND).eventsList,\n      'unserializeFrom',\n      this.props.project\n    );\n    getSelectedEventContexts(this.state.selection).forEach(eventContext => {\n      eventContext.eventsList.insertEvents(\n        eventsList,\n        0,\n        eventsList.getEventsCount(),\n        eventContext.indexInList\n      );\n    });\n    eventsList.delete();\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  pasteInstructions = () => {\n    if (\n      (!hasInstructionSelected(this.state.selection) &&\n        !hasInstructionsListSelected(this.state.selection)) ||\n      !Clipboard.has(CLIPBOARD_KIND)\n    )\n      return;\n\n    const instructionsList = new gd.InstructionsList();\n    unserializeFromJSObject(\n      instructionsList,\n      Clipboard.get(CLIPBOARD_KIND).instructionsList,\n      'unserializeFrom',\n      this.props.project\n    );\n    getSelectedInstructionsContexts(this.state.selection).forEach(\n      instructionContext => {\n        instructionContext.instrsList.insertInstructions(\n          instructionsList,\n          0,\n          instructionsList.size(),\n          instructionContext.indexInList\n        );\n      }\n    );\n    getSelectedInstructionsListsContexts(this.state.selection).forEach(\n      instructionsListContext => {\n        instructionsListContext.instrsList.insertInstructions(\n          instructionsList,\n          0,\n          instructionsList.size(),\n          instructionsListContext.instrsList.size()\n        );\n      }\n    );\n    instructionsList.delete();\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  pasteEventsOrInstructions = () => {\n    if (hasEventSelected(this.state.selection)) this.pasteEvents();\n    else if (hasInstructionSelected(this.state.selection))\n      this.pasteInstructions();\n    else if (hasInstructionsListSelected(this.state.selection))\n      this.pasteInstructions();\n  };\n\n  _invertSelectedConditions = () => {\n    getSelectedInstructionsContexts(this.state.selection).forEach(\n      instructionContext => {\n        if (instructionContext.isCondition) {\n          instructionContext.instruction.setInverted(\n            !instructionContext.instruction.isInverted()\n          );\n        }\n      }\n    );\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  _saveChangesToHistory = (cb: ?Function) => {\n    this.setState(\n      {\n        history: saveToHistory(this.state.history, this.props.events),\n      },\n      () => {\n        this.updateToolbar();\n        if (cb) cb();\n      }\n    );\n  };\n\n  undo = () => {\n    if (!canUndo(this.state.history)) return;\n\n    const { events, project } = this.props;\n    const newHistory = undo(this.state.history, events, project);\n\n    // /!\\ Events were changed, so any reference to an existing event can now\n    // be invalid. Make sure to immediately trigger a forced update before\n    // any re-render that could use a deleted/invalid event.\n    if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n\n    this.setState({ history: newHistory }, () => this.updateToolbar());\n  };\n\n  redo = () => {\n    if (!canRedo(this.state.history)) return;\n\n    const { events, project } = this.props;\n    const newHistory = redo(this.state.history, events, project);\n\n    // /!\\ Events were changed, so any reference to an existing event can now\n    // be invalid. Make sure to immediately trigger a forced update before\n    // any re-render that could use a deleted/invalid event.\n    if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n\n    this.setState({ history: newHistory }, () => this.updateToolbar());\n  };\n\n  _openEventsContextAnalyzer = () => {\n    const { globalObjectsContainer, objectsContainer } = this.props;\n    const eventsContextAnalyzer = new gd.EventsContextAnalyzer(\n      gd.JsPlatform.get(),\n      globalObjectsContainer,\n      objectsContainer\n    );\n\n    const eventsList = new gd.EventsList();\n    getSelectedEvents(this.state.selection).forEach(event =>\n      eventsList.insertEvent(event, eventsList.getEventsCount())\n    );\n\n    eventsContextAnalyzer.launch(eventsList);\n    eventsList.delete();\n\n    this.setState({\n      analyzedEventsContextResult: toEventsContextResult(\n        eventsContextAnalyzer.getEventsContext()\n      ),\n    });\n    eventsContextAnalyzer.delete();\n  };\n\n  _closeEventsContextAnalyzer = () => {\n    this.setState({\n      analyzedEventsContextResult: null,\n    });\n  };\n\n  extractEventsToFunction = () => {\n    const eventsList = new gd.EventsList();\n\n    getSelectedEvents(this.state.selection).forEach(event =>\n      eventsList.insertEvent(event, eventsList.getEventsCount())\n    );\n\n    this.setState({\n      serializedEventsToExtract: serializeToJSObject(eventsList),\n    });\n\n    eventsList.delete();\n  };\n\n  _replaceSelectionByEventsFunction = (\n    extensionName: string,\n    eventsFunction: gdEventsFunction\n  ) => {\n    const contexts = getSelectedEventContexts(this.state.selection);\n    if (!contexts.length) return;\n\n    const newEvents = this.addNewEvent(\n      'BuiltinCommonInstructions::Standard',\n      contexts[0]\n    );\n    if (!newEvents.length) {\n      console.error('A new event should have been created');\n      return;\n    }\n\n    const action = createNewInstructionForEventsFunction(\n      extensionName,\n      eventsFunction\n    );\n    const standardEvt = gd.asStandardEvent(newEvents[0]);\n    standardEvt.getActions().push_back(action);\n    action.delete();\n\n    this.deleteSelection({ deleteInstructions: false });\n  };\n\n  _ensureEventUnfolded = (cb: () => ?gdBaseEvent) => {\n    const event = cb();\n    if (event && this._eventsTree) {\n      this._eventsTree.unfoldForEvent(event);\n    }\n  };\n\n  _replaceInEvents = (\n    doReplaceInEvents: (inputs: ReplaceInEventsInputs) => void,\n    inputs: ReplaceInEventsInputs\n  ) => {\n    doReplaceInEvents(inputs);\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  _searchInEvents = (\n    doSearchInEvents: (inputs: SearchInEventsInputs, cb: () => void) => void,\n    inputs: SearchInEventsInputs\n  ) => {\n    doSearchInEvents(inputs, () => {\n      this.forceUpdate(() => {\n        if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n      });\n    });\n  };\n\n  _onEventMoved = () => {\n    // Move of the event in the list is handled by EventsTree.\n    // This could be refactored and put here if the drag'n'drop of events\n    // is reworked at some point.\n    this._saveChangesToHistory();\n  };\n\n  render() {\n    const {\n      project,\n      layout,\n      events,\n      onOpenExternalEvents,\n      onOpenLayout,\n      globalObjectsContainer,\n      objectsContainer,\n    } = this.props;\n    if (!project) return null;\n\n    return (\n      <PreferencesContext.Consumer>\n        {({ values }) => (\n          <EventsSearcher\n            key={events.ptr}\n            ref={eventSearcher => (this._eventSearcher = eventSearcher)}\n            events={events}\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            selection={this.state.selection}\n          >\n            {({\n              eventsSearchResultEvents,\n              searchFocusOffset,\n              searchInEvents,\n              replaceInEvents,\n              goToPreviousSearchResult,\n              goToNextSearchResult,\n            }) => (\n              <div\n                className=\"gd-events-sheet\"\n                style={styles.container}\n                onFocus={() => this._keyboardShortcuts.focus()}\n                onBlur={() => this._keyboardShortcuts.blur()}\n                tabIndex={1}\n              >\n                <EventsTree\n                  ref={eventsTree => (this._eventsTree = eventsTree)}\n                  key={events.ptr}\n                  events={events}\n                  project={project}\n                  layout={layout}\n                  globalObjectsContainer={globalObjectsContainer}\n                  objectsContainer={objectsContainer}\n                  selection={this.state.selection}\n                  onInstructionClick={this.selectInstruction}\n                  onInstructionDoubleClick={this.openInstructionEditor}\n                  onInstructionContextMenu={this.openInstructionContextMenu}\n                  onInstructionsListContextMenu={\n                    this.openInstructionsListContextMenu\n                  }\n                  onAddNewInstruction={this.openInstructionEditor}\n                  onMoveToInstruction={this.moveSelectionToInstruction}\n                  onMoveToInstructionsList={\n                    this.moveSelectionToInstructionsList\n                  }\n                  onParameterClick={this.openParameterEditor}\n                  onEventClick={this.selectEvent}\n                  onEventContextMenu={this.openEventContextMenu}\n                  onAddNewEvent={context => {\n                    this.addNewEvent(\n                      'BuiltinCommonInstructions::Standard',\n                      context\n                    );\n                  }}\n                  onOpenExternalEvents={onOpenExternalEvents}\n                  onOpenLayout={onOpenLayout}\n                  searchResults={eventsSearchResultEvents}\n                  searchFocusOffset={searchFocusOffset}\n                  onEventMoved={this._onEventMoved}\n                  showObjectThumbnails={values.eventsSheetShowObjectThumbnails}\n                />\n                {this.state.showSearchPanel && (\n                  <SearchPanel\n                    ref={searchPanel => (this._searchPanel = searchPanel)}\n                    onSearchInEvents={inputs =>\n                      this._searchInEvents(searchInEvents, inputs)\n                    }\n                    onReplaceInEvents={inputs =>\n                      this._replaceInEvents(replaceInEvents, inputs)\n                    }\n                    resultsCount={\n                      eventsSearchResultEvents\n                        ? eventsSearchResultEvents.length\n                        : null\n                    }\n                    hasEventSelected={hasEventSelected(this.state.selection)}\n                    onGoToPreviousSearchResult={() =>\n                      this._ensureEventUnfolded(goToPreviousSearchResult)\n                    }\n                    onGoToNextSearchResult={() =>\n                      this._ensureEventUnfolded(goToNextSearchResult)\n                    }\n                  />\n                )}\n                {events && events.getEventsCount() === 0 && (\n                  <EmptyEventsPlaceholder />\n                )}\n                <InlineParameterEditor\n                  open={this.state.inlineEditing}\n                  anchorEl={this.state.inlineEditingAnchorEl}\n                  onRequestClose={this.closeParameterEditor}\n                  project={project}\n                  layout={layout}\n                  globalObjectsContainer={globalObjectsContainer}\n                  objectsContainer={objectsContainer}\n                  isCondition={this.state.editedParameter.isCondition}\n                  instruction={this.state.editedParameter.instruction}\n                  parameterIndex={this.state.editedParameter.parameterIndex}\n                  onChange={value => {\n                    const {\n                      instruction,\n                      parameterIndex,\n                    } = this.state.editedParameter;\n                    if (!instruction) return;\n                    instruction.setParameter(parameterIndex, value);\n                    this.setState({\n                      inlineEditingChangesMade: true,\n                    });\n                  }}\n                  resourceSources={this.props.resourceSources}\n                  onChooseResource={this.props.onChooseResource}\n                  resourceExternalEditors={this.props.resourceExternalEditors}\n                />\n                <ContextMenu\n                  ref={eventContextMenu =>\n                    (this.eventContextMenu = eventContextMenu)\n                  }\n                  buildMenuTemplate={() => [\n                    {\n                      label: 'Copy',\n                      click: () => this.copySelection(),\n                      accelerator: 'CmdOrCtrl+C',\n                    },\n                    {\n                      label: 'Cut',\n                      click: () => this.cutSelection(),\n                      accelerator: 'CmdOrCtrl+X',\n                    },\n                    {\n                      label: 'Paste',\n                      click: () => this.pasteEvents(),\n                      enabled: Clipboard.has(CLIPBOARD_KIND),\n                      accelerator: 'CmdOrCtrl+V',\n                    },\n                    {\n                      label: 'Delete',\n                      click: () => this.deleteSelection(),\n                      accelerator: 'Delete',\n                    },\n                    {\n                      label: 'Toggle disabled',\n                      click: () => this.toggleDisabled(),\n                      enabled: this._selectionCanToggleDisabled(),\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Add New Event Below',\n                      click: () =>\n                        this.addNewEvent('BuiltinCommonInstructions::Standard'),\n                    },\n                    {\n                      label: 'Add Sub Event',\n                      click: () => this.addSubEvents(),\n                      enabled: this._selectionCanHaveSubEvents(),\n                    },\n                    {\n                      label: 'Add Other',\n                      submenu: this.state.allEventsMetadata.map(metadata => {\n                        return {\n                          label: metadata.fullName,\n                          click: () => this.addNewEvent(metadata.type),\n                        };\n                      }),\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Undo',\n                      click: this.undo,\n                      enabled: canUndo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Z',\n                    },\n                    {\n                      label: 'Redo',\n                      click: this.redo,\n                      enabled: canRedo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Shift+Z',\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Extract Events to a Function',\n                      click: () => this.extractEventsToFunction(),\n                    },\n                    {\n                      label: 'Analyze Objects Used in this Event',\n                      click: this._openEventsContextAnalyzer,\n                    },\n                  ]}\n                />\n                <ContextMenu\n                  ref={instructionContextMenu =>\n                    (this.instructionContextMenu = instructionContextMenu)\n                  }\n                  buildMenuTemplate={() => [\n                    {\n                      label: 'Copy',\n                      click: () => this.copySelection(),\n                      accelerator: 'CmdOrCtrl+C',\n                    },\n                    {\n                      label: 'Cut',\n                      click: () => this.cutSelection(),\n                      accelerator: 'CmdOrCtrl+X',\n                    },\n                    {\n                      label: 'Paste',\n                      click: () => this.pasteInstructions(),\n                      enabled: Clipboard.has(CLIPBOARD_KIND),\n                      accelerator: 'CmdOrCtrl+V',\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Delete',\n                      click: () => this.deleteSelection(),\n                      accelerator: 'Delete',\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Undo',\n                      click: this.undo,\n                      enabled: canUndo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Z',\n                    },\n                    {\n                      label: 'Redo',\n                      click: this.redo,\n                      enabled: canRedo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Shift+Z',\n                    },\n                    {\n                      label: 'Invert Condition',\n                      click: () => this._invertSelectedConditions(),\n                      visible: hasSelectedAtLeastOneCondition(\n                        this.state.selection\n                      ),\n                    },\n                  ]}\n                />\n                <ContextMenu\n                  ref={instructionsListContextMenu =>\n                    (this.instructionsListContextMenu = instructionsListContextMenu)\n                  }\n                  buildMenuTemplate={() => [\n                    {\n                      label: 'Paste',\n                      click: () => this.pasteInstructions(),\n                      enabled: Clipboard.has(CLIPBOARD_KIND),\n                      accelerator: 'CmdOrCtrl+V',\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Undo',\n                      click: this.undo,\n                      enabled: canUndo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Z',\n                    },\n                    {\n                      label: 'Redo',\n                      click: this.redo,\n                      enabled: canRedo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Shift+Z',\n                    },\n                  ]}\n                />\n                {this.state.editedInstruction.instruction && (\n                  <InstructionEditorDialog\n                    project={project}\n                    layout={layout}\n                    globalObjectsContainer={globalObjectsContainer}\n                    objectsContainer={objectsContainer}\n                    instruction={this.state.editedInstruction.instruction}\n                    isCondition={this.state.editedInstruction.isCondition}\n                    isNewInstruction={\n                      this.state.editedInstruction.indexInList === undefined\n                    }\n                    open={true}\n                    onCancel={() => this.closeInstructionEditor()}\n                    onSubmit={() => {\n                      const {\n                        instrsList,\n                        instruction,\n                        indexInList,\n                      } = this.state.editedInstruction;\n                      if (!instrsList) return;\n\n                      if (indexInList !== undefined) {\n                        // Replace an existing instruction\n                        instrsList.set(indexInList, instruction);\n                      } else {\n                        // Add a new instruction\n                        instrsList.insert(instruction, instrsList.size());\n                      }\n\n                      this.closeInstructionEditor(true);\n                      ensureSingleOnceInstructions(instrsList);\n                      if (this._eventsTree)\n                        this._eventsTree.forceEventsUpdate();\n                    }}\n                    resourceSources={this.props.resourceSources}\n                    onChooseResource={this.props.onChooseResource}\n                    resourceExternalEditors={this.props.resourceExternalEditors}\n                    openInstructionOrExpression={(extension, type) => {\n                      this.closeInstructionEditor();\n                      this.props.openInstructionOrExpression(extension, type);\n                    }}\n                  />\n                )}\n                {this.state.analyzedEventsContextResult && (\n                  <EventsContextAnalyzerDialog\n                    onClose={this._closeEventsContextAnalyzer}\n                    eventsContextResult={this.state.analyzedEventsContextResult}\n                  />\n                )}\n                {this.state.serializedEventsToExtract && (\n                  <EventsFunctionExtractorDialog\n                    project={project}\n                    globalObjectsContainer={globalObjectsContainer}\n                    objectsContainer={objectsContainer}\n                    onClose={() =>\n                      this.setState({\n                        serializedEventsToExtract: null,\n                      })\n                    }\n                    serializedEvents={this.state.serializedEventsToExtract}\n                    onCreate={(extensionName, eventsFunction) => {\n                      this.props.onCreateEventsFunction(\n                        extensionName,\n                        eventsFunction\n                      );\n                      this._replaceSelectionByEventsFunction(\n                        extensionName,\n                        eventsFunction\n                      );\n                      this.setState({\n                        serializedEventsToExtract: null,\n                      });\n                    }}\n                  />\n                )}\n              </div>\n            )}\n          </EventsSearcher>\n        )}\n      </PreferencesContext.Consumer>\n    );\n  }\n}\n","// @flow\n\nimport values from 'lodash/values';\n\nexport type InstructionsListContext = {|\n  isCondition: boolean,\n  instrsList: gdInstructionsList,\n|};\n\nexport type InstructionContext = {|\n  isCondition: boolean,\n  instrsList: gdInstructionsList,\n  instruction: gdInstruction,\n  indexInList: number,\n|};\n\nexport type ParameterContext = {|\n  isCondition: boolean,\n  instrsList: gdInstructionsList,\n  instruction: gdInstruction,\n  indexInList: number,\n  parameterIndex: number,\n  domEvent?: any,\n|};\n\nexport type EventContext = {|\n  isCondition: boolean,\n  eventsList: gdEventsList,\n  event: gdBaseEvent,\n  indexInList: number,\n|};\n\nexport type SelectionState = {\n  selectedInstructions: { [number]: InstructionContext },\n  selectedInstructionsLists: { [number]: InstructionsListContext },\n  selectedEvents: { [number]: EventContext },\n};\n\nexport const getInitialSelection = () => {\n  return {\n    selectedInstructions: {},\n    selectedEvents: {},\n    selectedInstructionsLists: {},\n  };\n};\n\nexport const getSelectedEvents = (selection: SelectionState): Array<Object> => {\n  return values(selection.selectedEvents).map(\n    (eventContext: EventContext) => eventContext.event\n  );\n};\n\nexport const getSelectedEventContexts = (\n  selection: SelectionState\n): Array<EventContext> => {\n  return values(selection.selectedEvents);\n};\n\nexport const getSelectedInstructions = (\n  selection: SelectionState\n): Array<gdInstruction> => {\n  return values(selection.selectedInstructions).map(\n    (instructionContext: InstructionContext) => instructionContext.instruction\n  );\n};\n\nexport const getSelectedInstructionsContexts = (\n  selection: SelectionState\n): Array<InstructionContext> => {\n  return values(selection.selectedInstructions);\n};\n\nexport const getSelectedInstructionsListsContexts = (\n  selection: SelectionState\n): Array<InstructionContext> => {\n  return values(selection.selectedInstructionsLists);\n};\n\nexport const isEventSelected = (\n  selection: SelectionState,\n  event: Object\n): boolean => {\n  return !!selection.selectedEvents[event.ptr];\n};\n\nexport const isInstructionSelected = (\n  selection: SelectionState,\n  instruction: gdInstruction\n): boolean => {\n  return !!selection.selectedInstructions[instruction.ptr];\n};\n\nexport const isInstructionsListSelected = (\n  selection: SelectionState,\n  instructionsList: gdInstructionsList\n): boolean => {\n  return !!selection.selectedInstructionsLists[instructionsList.ptr];\n};\n\nexport const hasEventSelected = (selection: SelectionState): boolean => {\n  return !!Object.keys(selection.selectedEvents).length;\n};\n\nexport const hasInstructionSelected = (selection: SelectionState): boolean => {\n  return !!Object.keys(selection.selectedInstructions).length;\n};\n\nexport const hasSelectedAtLeastOneCondition = (\n  selection: SelectionState\n): boolean => {\n  for (let instructionContext of getSelectedInstructionsContexts(selection)) {\n    if (instructionContext.isCondition) {\n      return true;\n    }\n  }\n  return false;\n};\n\nexport const hasInstructionsListSelected = (\n  selection: SelectionState\n): boolean => {\n  return !!Object.keys(selection.selectedInstructionsLists).length;\n};\n\nexport const hasSomethingSelected = (selection: SelectionState): boolean => {\n  return (\n    hasInstructionSelected(selection) ||\n    hasInstructionsListSelected(selection) ||\n    hasEventSelected(selection)\n  );\n};\n\nexport const clearSelection = (): SelectionState => {\n  return getInitialSelection();\n};\n\nexport const selectEvent = (\n  selection: SelectionState,\n  eventContext: EventContext,\n  multiSelection: boolean = false\n): SelectionState => {\n  const event = eventContext.event;\n  if (isEventSelected(selection, event)) return selection;\n\n  const existingSelection = multiSelection ? selection : clearSelection();\n  return {\n    ...existingSelection,\n    selectedEvents: {\n      ...existingSelection.selectedEvents,\n      [event.ptr]: eventContext,\n    },\n  };\n};\n\nexport const selectInstruction = (\n  selection: SelectionState,\n  instructionContext: InstructionContext,\n  multiSelection: boolean = false\n): SelectionState => {\n  const instruction: gdInstruction = instructionContext.instruction;\n  if (isInstructionSelected(selection, instruction)) return selection;\n\n  const existingSelection = multiSelection ? selection : clearSelection();\n  return {\n    ...existingSelection,\n    selectedInstructions: {\n      ...existingSelection.selectedInstructions,\n      [instruction.ptr]: instructionContext,\n    },\n  };\n};\n\nexport const selectInstructionsList = (\n  selection: SelectionState,\n  instructionsListContext: InstructionsListContext,\n  multiSelection: boolean = false\n): SelectionState => {\n  const instructionsList: gdInstructionsList =\n    instructionsListContext.instrsList;\n  if (isInstructionsListSelected(selection, instructionsList)) return selection;\n\n  const existingSelection = multiSelection ? selection : clearSelection();\n  return {\n    ...existingSelection,\n    selectedInstructionsLists: {\n      ...existingSelection.selectedInstructionsLists,\n      [instructionsList.ptr]: instructionsListContext,\n    },\n  };\n};\n","// @flow\nimport * as React from 'react';\nimport DefaultField from './ParameterFields/DefaultField';\nimport RelationalOperatorField from './ParameterFields/RelationalOperatorField';\nimport OperatorField from './ParameterFields/OperatorField';\nimport MouseField from './ParameterFields/MouseField';\nimport KeyField from './ParameterFields/KeyField';\nimport ObjectField, {\n  renderObjectWithThumbnail,\n} from './ParameterFields/ObjectField';\nimport YesNoField from './ParameterFields/YesNoField';\nimport TrueFalseField from './ParameterFields/TrueFalseField';\nimport ExpressionField from './ParameterFields/ExpressionField';\nimport StringField from './ParameterFields/StringField';\nimport StringWithSelectorField from './ParameterFields/StringWithSelectorField';\nimport BehaviorField from './ParameterFields/BehaviorField';\n\nimport SceneVariableField, {\n  renderSceneVariable,\n} from './ParameterFields/SceneVariableField';\nimport GlobalVariableField, {\n  renderGlobalVariable,\n} from './ParameterFields/GlobalVariableField';\nimport ObjectVariableField, {\n  renderObjectVariable,\n} from './ParameterFields/ObjectVariableField';\n\nimport LayerField from './ParameterFields/LayerField';\nimport AudioResourceField from './ParameterFields/AudioResourceField';\nimport VideoResourceField from './ParameterFields/VideoResourceField';\nimport ColorExpressionField from './ParameterFields/ColorExpressionField';\nimport ForceMultiplierField, {\n  renderForceMultiplierString,\n} from './ParameterFields/ForceMultiplierField';\nconst gd = global.gd;\n\nconst components = {\n  default: DefaultField,\n  mouse: MouseField,\n  object: ObjectField,\n  relationalOperator: RelationalOperatorField,\n  operator: OperatorField,\n  yesorno: YesNoField,\n  trueorfalse: TrueFalseField,\n  expression: ExpressionField,\n  string: StringField,\n  stringWithSelector: StringWithSelectorField,\n  behavior: BehaviorField,\n  scenevar: SceneVariableField,\n  globalvar: GlobalVariableField,\n  objectvar: ObjectVariableField,\n  layer: LayerField,\n  key: KeyField,\n  file: DefaultField, //TODO\n  musicfile: AudioResourceField,\n  soundfile: AudioResourceField,\n  videoResource: VideoResourceField,\n  color: ColorExpressionField,\n  police: DefaultField, //TODO\n  joyaxis: DefaultField, //TODO\n  forceMultiplier: ForceMultiplierField,\n};\n\nconst stringRenderers = {\n  forceMultiplier: renderForceMultiplierString,\n  globalvar: renderGlobalVariable,\n  scenevar: renderSceneVariable,\n  objectvar: renderObjectVariable,\n  object: renderObjectWithThumbnail,\n};\n\nexport default {\n  components,\n  getParameterComponent: (type: string) => {\n    const fieldType = gd.ParameterMetadata.isObject(type) ? 'object' : type;\n\n    if (components.hasOwnProperty(fieldType)) return components[fieldType];\n    else return components.default;\n  },\n  renderParameterString: (\n    type: string,\n    value: string,\n    renderObjectThumnail: string => React.Node\n  ) => {\n    return stringRenderers[type]\n      ? stringRenderers[type](value, renderObjectThumnail)\n      : value;\n  },\n};\n","// @flow\nimport * as React from 'react';\nimport ObjectSelector from '../../ObjectsList/ObjectSelector';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\ntype State = {|\n  errorText: ?string,\n|};\n\nexport default class ObjectField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  _description: ?string;\n  _allowedObjectType: ?string;\n  _field: ?ObjectSelector;\n\n  constructor(props: ParameterFieldProps) {\n    super(props);\n    this.state = { errorText: null };\n\n    const { parameterMetadata } = this.props;\n\n    this._description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    this._allowedObjectType = parameterMetadata\n      ? parameterMetadata.getExtraInfo()\n      : undefined;\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  componentDidMount() {\n    if (this.props.value) this._doValidation();\n  }\n\n  _getError = () => {\n    if (this._field && !this._field.hasAValidObject())\n      return \"The object does not exist or can't be used here\";\n\n    return null;\n  };\n\n  _doValidation = () => {\n    this.setState({ errorText: this._getError() });\n  };\n\n  _onChange = (value: string) => {\n    this.setState({ errorText: null });\n    this.props.onChange(value);\n  };\n\n  render() {\n    return (\n      <ObjectSelector\n        value={this.props.value}\n        onChange={this._onChange}\n        onChoose={this._onChange}\n        allowedObjectType={this._allowedObjectType}\n        globalObjectsContainer={this.props.globalObjectsContainer}\n        objectsContainer={this.props.objectsContainer}\n        floatingLabelText={this._description}\n        fullWidth\n        errorText={this.state.errorText}\n        onBlur={this._doValidation}\n        openOnFocus={\n          !this.props\n            .value /* Only force showing the list if no object is entered, see https://github.com/4ian/GDevelop/issues/859 */\n        }\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\nexport const renderObjectWithThumbnail = (\n  value: string,\n  renderObjectThumbnail: string => React.Node\n) => {\n  return (\n    <span title={value}>\n      {renderObjectThumbnail(value)}\n      {value}\n    </span>\n  );\n};\n","// @flow\r\n// Inspired by https://github.com/LoicMahieu/material-ui-color-picker\r\n\r\nimport * as React from 'react';\r\nimport { SketchPicker } from 'react-color';\r\n\r\ntype RGBColor = {|\r\n  r: number,\r\n  g: number,\r\n  b: number,\r\n  a?: number,\r\n|};\r\n\r\ntype ColorResult = {\r\n  rgb: RGBColor,\r\n};\r\n\r\ntype ColorChangeHandler = (color: ColorResult) => void;\r\n\r\ntype Props = {|\r\n  color: ?RGBColor,\r\n  style?: Object,\r\n  onChange?: ColorChangeHandler,\r\n  onChangeComplete?: ColorChangeHandler,\r\n  disableAlpha?: boolean,\r\n|};\r\n\r\ntype State = {|\r\n  displayColorPicker: boolean,\r\n|};\r\n\r\nconst styles = {\r\n  color: {\r\n    width: '36px',\r\n    height: '14px',\r\n    borderRadius: '2px',\r\n    textAlign: 'center',\r\n    fontSize: '10px',\r\n  },\r\n  swatch: {\r\n    padding: '5px',\r\n    background: '#fff',\r\n    borderRadius: '1px',\r\n    boxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n    display: 'inline-block',\r\n    cursor: 'pointer',\r\n  },\r\n  popover: {\r\n    position: 'fixed',\r\n    zIndex: '2',\r\n    transform: 'translateX(-174px)',\r\n  },\r\n  cover: {\r\n    position: 'fixed',\r\n    top: '0px',\r\n    right: '0px',\r\n    bottom: '0px',\r\n    left: '0px',\r\n  },\r\n};\r\n\r\nclass ColorPicker extends React.Component<Props, State> {\r\n  state = {\r\n    displayColorPicker: false,\r\n  };\r\n\r\n  open = () => {\r\n    this.setState({ displayColorPicker: true });\r\n  };\r\n\r\n  handleClick = () => {\r\n    this.setState({ displayColorPicker: !this.state.displayColorPicker });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ displayColorPicker: false });\r\n  };\r\n\r\n  render() {\r\n    const { style, color, ...otherProps } = this.props;\r\n\r\n    const displayedColor = color\r\n      ? color\r\n      : {\r\n          r: 200,\r\n          g: 200,\r\n          b: 200,\r\n          a: 1,\r\n        };\r\n\r\n    return (\r\n      <div style={style}>\r\n        <div style={styles.swatch} onClick={this.handleClick}>\r\n          <div\r\n            style={{\r\n              ...styles.color,\r\n              background: `rgba(${displayedColor.r}, ${displayedColor.g}, ${\r\n                displayedColor.b\r\n              }, ${displayedColor.a || 1})`,\r\n            }}\r\n          >\r\n            {color ? null : '?'}\r\n          </div>\r\n        </div>\r\n        {this.state.displayColorPicker ? (\r\n          <div style={styles.popover}>\r\n            <div style={styles.cover} onClick={this.handleClose} />\r\n            <SketchPicker color={displayedColor} {...otherProps} />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ColorPicker;\r\n","// @flow\nimport { mapVector, mapFor } from '../Utils/MapFor';\nimport slugs from 'slugs';\n\nconst gd = global.gd;\n\nexport type EventsFunctionWriter = {|\n  getIncludeFileFor: (functionName: string) => string,\n  writeFunctionCode: (functionName: string, code: string) => Promise<void>,\n|};\n\nconst mangleName = (name: string) => {\n  return slugs(name, '_', []);\n};\n\n/**\n * Load all events functions of a project in extensions\n */\nexport const loadProjectEventsFunctionsExtensions = (\n  project: gdProject,\n  eventsFunctionWriter: EventsFunctionWriter\n): Promise<Array<void>> => {\n  return Promise.all(\n    // First pass: generate extensions from the events functions extensions,\n    // without writing code for the functions. This is useful as events in functions\n    // could be using other functions, which would not yet be available as\n    // extensions.\n    mapFor(0, project.getEventsFunctionsExtensionsCount(), i => {\n      return loadProjectEventsFunctionsExtension(\n        project,\n        project.getEventsFunctionsExtensionAt(i),\n        eventsFunctionWriter,\n        { skipCodeGeneration: true }\n      );\n    })\n  ).then(() =>\n    Promise.all(\n      // Second pass: generate extensions, including code.\n      mapFor(0, project.getEventsFunctionsExtensionsCount(), i => {\n        return loadProjectEventsFunctionsExtension(\n          project,\n          project.getEventsFunctionsExtensionAt(i),\n          eventsFunctionWriter\n        );\n      })\n    )\n  );\n};\n\nconst loadProjectEventsFunctionsExtension = (\n  project: gdProject,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  eventsFunctionWriter: EventsFunctionWriter,\n  options: { skipCodeGeneration?: boolean } = {}\n): Promise<void> => {\n  return generateEventsFunctionExtension(\n    project,\n    eventsFunctionsExtension,\n    eventsFunctionWriter,\n    options\n  ).then(extension => {\n    gd.JsPlatform.get().addNewExtension(extension);\n    extension.delete();\n  });\n};\n\n/**\n * Generate the code for the given events functions\n */\nconst generateEventsFunctionExtension = (\n  project: gdProject,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  eventsFunctionWriter: EventsFunctionWriter,\n  { skipCodeGeneration }: { skipCodeGeneration?: boolean } = {}\n): Promise<gdEventsFunctionsExtension> => {\n  const extension = new gd.PlatformExtension();\n\n  extension.setExtensionInformation(\n    eventsFunctionsExtension.getName(),\n    eventsFunctionsExtension.getFullName() ||\n      eventsFunctionsExtension.getName(),\n    eventsFunctionsExtension.getDescription(),\n    '',\n    ''\n  );\n\n  return Promise.all(\n    mapFor(0, eventsFunctionsExtension.getEventsFunctionsCount(), i => {\n      const eventsFunction = eventsFunctionsExtension.getEventsFunctionAt(i);\n      const instructionOrExpression = generateInstructionOrExpression(\n        extension,\n        eventsFunction,\n        eventsFunctionsExtension\n      );\n      addEventsFunctionParameters(eventsFunction, instructionOrExpression);\n\n      const codeNamespace =\n        'gdjs.eventsFunction__' +\n        mangleName(eventsFunctionsExtension.getName()) +\n        '__' +\n        mangleName(eventsFunction.getName());\n      const functionName = codeNamespace + '.func';\n\n      const codeExtraInformation = instructionOrExpression.getCodeExtraInformation();\n      codeExtraInformation\n        .setIncludeFile(eventsFunctionWriter.getIncludeFileFor(functionName))\n        .setFunctionName(functionName);\n\n      if (!skipCodeGeneration) {\n        const includeFiles = new gd.SetString();\n        const code = gd.EventsCodeGenerator.generateEventsFunctionCode(\n          project,\n          eventsFunction,\n          codeNamespace,\n          includeFiles,\n          // For now, always generate functions for runtime (this disables\n          // generation of profiling for groups (see EventsCodeGenerator))\n          // as extensions generated can be used either for preview or export.\n          true\n        );\n\n        // Add any include file required by the function to the list\n        // of include files for this function (so that when used, the \"dependencies\"\n        // are transitively included).\n        includeFiles\n          .toNewVectorString()\n          .toJSArray()\n          .forEach((includeFile: string) => {\n            codeExtraInformation.addIncludeFile(includeFile);\n          });\n\n        includeFiles.delete();\n\n        return eventsFunctionWriter.writeFunctionCode(functionName, code);\n      } else {\n        // Skip code generation if no events function writer is provided.\n        // This is the case during the \"first pass\", where all events functions extensions\n        // are loaded as extensions but not code generated, as events in functions could\n        // themselves be using functions that are not yet available in extensions.\n      }\n    })\n  ).then(() => extension);\n};\n\n/**\n * Unload all extensions providing events functions of a project\n */\nexport const unloadProjectEventsFunctionsExtensions = (\n  project: gdProject\n): Promise<Array<void>> => {\n  return Promise.all(\n    mapFor(0, project.getEventsFunctionsExtensionsCount(), i => {\n      gd.JsPlatform.get().removeExtension(\n        project.getEventsFunctionsExtensionAt(i).getName()\n      );\n    })\n  );\n};\n\n/**\n * Declare the instruction (action/condition) or expression for the given\n * events function.\n */\nconst generateInstructionOrExpression = (\n  extension: gdPlatformExtension,\n  eventsFunction: gdEventsFunction,\n  eventsFunctionsExtension: gdEventsFunctionsExtension\n): gdInstructionMetadata | gdExpressionMetadata => {\n  const functionType = eventsFunction.getFunctionType();\n  if (functionType === gd.EventsFunction.Expression) {\n    return extension.addExpression(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription(),\n      eventsFunctionsExtension.getFullName() ||\n        eventsFunctionsExtension.getName(),\n      'res/function.png'\n    );\n  } else if (functionType === gd.EventsFunction.StringExpression) {\n    return extension.addStrExpression(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription(),\n      eventsFunctionsExtension.getFullName() ||\n        eventsFunctionsExtension.getName(),\n      'res/function.png'\n    );\n  } else if (functionType === gd.EventsFunction.Condition) {\n    return extension.addCondition(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription(),\n      eventsFunction.getSentence(),\n      eventsFunctionsExtension.getFullName() ||\n        eventsFunctionsExtension.getName(),\n      'res/function.png',\n      'res/function24.png'\n    );\n  } else {\n    return extension.addAction(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription(),\n      eventsFunction.getSentence(),\n      eventsFunctionsExtension.getFullName() ||\n        eventsFunctionsExtension.getName(),\n      'res/function.png',\n      'res/function24.png'\n    );\n  }\n};\n\n/**\n * Add to the instruction (action/condition) or expression the parameters\n * expected by the events function.\n */\nconst addEventsFunctionParameters = (\n  eventsFunction: gdEventsFunction,\n  instructionOrExpression: gdInstructionMetadata | gdExpressionMetadata\n) => {\n  // By convention, first parameter is always the Runtime Scene.\n  instructionOrExpression.addCodeOnlyParameter('currentScene', '');\n\n  mapVector(\n    eventsFunction.getParameters(),\n    (parameter: gdParameterMetadata) => {\n      if (!parameter.isCodeOnly()) {\n        instructionOrExpression.addParameter(\n          parameter.getType(),\n          parameter.getDescription(),\n          '', // See below for adding the extra information\n          parameter.isOptional()\n        );\n      } else {\n        instructionOrExpression.addCodeOnlyParameter(\n          parameter.getType(),\n          '' // See below for adding the extra information\n        );\n      }\n      // Manually add the \"extra info\" without relying on addParameter (or addCodeOnlyParameter)\n      // as these methods are prefixing the value passed with the extension namespace (this\n      // was done to ease extension declarations when dealing with object).\n      instructionOrExpression\n        .getParameter(instructionOrExpression.getParametersCount() - 1)\n        .setExtraInfo(parameter.getExtraInfo());\n    }\n  );\n\n  // By convention, latest parameter is always the eventsFunctionContext of the calling function\n  // (if any).\n  instructionOrExpression.addCodeOnlyParameter('eventsFunctionContext', '');\n};\n\n/**\n * Given metadata about an instruction or an expression, tells if this was created\n * from an event function.\n */\nexport const isAnEventFunctionMetadata = (\n  instructionOrExpression: gdInstructionMetadata | gdExpressionMetadata\n) => {\n  const parametersCount = instructionOrExpression.getParametersCount();\n  if (parametersCount <= 0) return false;\n\n  return (\n    instructionOrExpression.getParameter(parametersCount - 1).getType() ===\n    'eventsFunctionContext'\n  );\n};\n\n/**\n * Get back the name a function from its type.\n * See also getEventsFunctionType for the reverse operation.\n */\nexport const getFunctionNameFromType = (type: string) => {\n  const parts = type.split('::');\n  if (!parts.length) return '';\n\n  return parts[parts.length - 1];\n};\n\n/**\n * Get the type of a Events Function.\n * See also getFunctionNameFromType for the reverse operation.\n */\nexport const getEventsFunctionType = (\n  extensionName: string,\n  eventsFunction: gdEventsFunction\n) => {\n  return extensionName + '::' + eventsFunction.getName();\n};\n","import React from 'react';\nimport Menu from 'material-ui/Menu';\nimport Popover from 'material-ui/Popover';\nimport ElectronMenuImplementation from './ElectronMenuImplementation';\nimport MaterialUIMenuImplementation from './MaterialUIMenuImplementation';\nimport optionalRequire from '../../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\nclass MaterialUIContextMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n    };\n    this.menuImplementation = new MaterialUIMenuImplementation({\n      onClose: this._onClose,\n    });\n  }\n\n  open = (x, y) => {\n    this.setState(\n      {\n        anchorX: x,\n        anchorY: y,\n      },\n      () => {\n        this.setState({\n          open: true,\n        });\n      }\n    );\n  };\n\n  _onClose = () => {\n    this.setState({\n      open: false,\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <div\n          ref={element => (this.anchorEl = element)}\n          style={{\n            position: 'fixed',\n            pointerEvents: 'none',\n            left: this.state.anchorX,\n            top: this.state.anchorY,\n          }}\n        />\n        <Popover\n          open={this.state.open}\n          anchorEl={this.anchorEl}\n          onRequestClose={this._onClose}\n          {...this.menuImplementation.getMenuProps()}\n        >\n          <Menu desktop width={256}>\n            {this.menuImplementation.buildFromTemplate(\n              this.props.buildMenuTemplate()\n            )}\n          </Menu>\n        </Popover>\n      </div>\n    );\n  }\n}\n\nclass ElectronContextMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.menuImplementation = new ElectronMenuImplementation();\n  }\n\n  open = (x, y) => {\n    this.menuImplementation.buildFromTemplate(this.props.buildMenuTemplate());\n    this.menuImplementation.showMenu({\n      left: x || 0,\n      top: y || 0,\n      width: 0,\n      height: 0,\n    });\n  };\n\n  render() {\n    return null;\n  }\n}\n\nexport default (electron ? ElectronContextMenu : MaterialUIContextMenu);\n","//TODO: Factor with styles.js from LayersList.\nexport default {\n  handleColumn: {\n    width: 24,\n    paddingLeft: 8,\n    paddingRight: 0,\n  },\n  coordinateColumn: {\n    width: 48,\n  },\n  toolColumn: {\n    width: 48,\n  },\n};\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport TextField from 'material-ui/TextField';\nimport ColorPicker from './ColorPicker';\n\nconst styles = {\n  container: {\n    position: 'relative',\n    display: 'inline-block',\n  },\n  picker: {\n    position: 'absolute',\n    right: '8px',\n    bottom: '12px',\n  },\n};\n\nexport default class ColorField extends Component {\n  onClick = () => {\n    if (this.textField) this.textField.blur();\n    if (this.picker) this.picker.open();\n  };\n\n  render() {\n    return (\n      <div\n        style={{\n          ...styles.container,\n          width: this.props.fullWidth ? '100%' : undefined,\n        }}\n      >\n        <TextField\n          fullWidth\n          floatingLabelText={this.props.floatingLabelText}\n          floatingLabelFixed\n          type=\"text\"\n          hintText={<Trans>Click to choose</Trans>}\n          onClick={this.onClick}\n          onFocus={this.onClick}\n          value=\"\"\n          ref={textField => (this.textField = textField)}\n        />\n        <div style={styles.picker}>\n          <ColorPicker {...this.props} ref={picker => (this.picker = picker)} />\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\nimport ResourcesLoader from '../ResourcesLoader';\nimport optionalRequire from '../Utils/OptionalRequire.js';\nconst fs = optionalRequire('fs');\n\nexport const RESOURCE_EXTENSIONS = {\n  image: 'png,jpg,jpeg,PNG,JPG,JPEG',\n  audio: 'wav,mp3,ogg,WAV,MP3,OGG',\n  font: 'ttf,ttc,otf,TTF,TTC,OTF',\n  video: 'mp4,MP4',\n};\n\nexport const createOrUpdateResource = (\n  project: gdProject,\n  resource: gdResource,\n  resourceName: string\n) => {\n  const resourcesManager = project.getResourcesManager();\n  if (resourcesManager.hasResource(resourceName)) {\n    resourcesManager.removeResource(resourceName);\n  }\n  resource.setFile(resourceName);\n  resource.setName(resourceName);\n  resourcesManager.addResource(resource);\n  resource.delete();\n};\n\n/**\n * Get the local path of a resource. This works by asking the ResourcesLoader\n * for the resource URL, then stripping anything that is specific to a URL.\n */\nexport const getLocalResourceFullPath = (\n  project: gdProject,\n  resourceName: string\n) => {\n  let resourcePath = ResourcesLoader.getResourceFullUrl(\n    project,\n    resourceName\n  ).substring(7 /* Remove \"file://\" from the URL to get a local path */);\n\n  if (resourcePath.indexOf('?cache=') !== -1) {\n    // Remove, if needed, the cache bursting argument from the URL.\n    resourcePath = resourcePath.substring(\n      0,\n      resourcePath.lastIndexOf('?cache=')\n    );\n  }\n  return resourcePath;\n};\n\nexport const resourceHasValidPath = (\n  project: gdProject,\n  resourceName: string\n) => {\n  if (!fs) return true;\n\n  const resourcePath = getLocalResourceFullPath(project, resourceName);\n  return fs.existsSync(resourcePath);\n};\n","// @flow\n\nexport const timeFunction = (fn: Function, onResult: number => void) => {\n  var t0 = performance.now();\n  fn();\n  var t1 = performance.now();\n  onResult(t1 - t0);\n};\n","// @flow\n\nexport const makeTimestampedId = () =>\n  '' + Date.now() + '-' + Math.floor(Math.random() * 1000000);\n","//@flow\nexport const delay = (ms: number): Promise<void> =>\n  new Promise(res => setTimeout(res, ms));\n","// @flow\nimport { type Build, getBuild } from '../../Utils/GDevelopServices/Build';\nimport { delay } from '../../Utils/Delay';\nimport { type UserProfile } from '../../Profile/UserProfileContext';\n\nconst waitTime = 1500;\nconst bulkWaitTime = 5000;\n\nexport default class BuildsWatcher {\n  runningWatchers: { [string]: boolean } = {};\n  nextWatcherId = 0;\n  onBuildUpdated: ?(build: Build) => void;\n  userProfile: ?UserProfile;\n\n  start({\n    userProfile,\n    builds,\n    onBuildUpdated,\n  }: {\n    userProfile: UserProfile,\n    builds: Array<Build>,\n    onBuildUpdated: (build: Build) => void,\n  }) {\n    this.stop();\n    this.userProfile = userProfile;\n    this.onBuildUpdated = onBuildUpdated;\n\n    builds.forEach(build => {\n      if (build.status === 'pending') {\n        this._pollBuild(build.id, builds.length > 1 ? bulkWaitTime : waitTime);\n      }\n    });\n  }\n\n  stop() {\n    this.runningWatchers = {};\n  }\n\n  _pollBuild = async (buildId: string, waitTime: number) => {\n    const watcherId = this.nextWatcherId.toString();\n    this.nextWatcherId++;\n\n    this.runningWatchers[watcherId] = true;\n\n    let build = null;\n    do {\n      if (!this.userProfile) return;\n      const { getAuthorizationHeader, profile } = this.userProfile;\n      try {\n        console.info(`Checking progress of build ${buildId}...`);\n        build = await getBuild(getAuthorizationHeader, profile.uid, buildId);\n        if (this.onBuildUpdated) this.onBuildUpdated(build);\n      } catch (e) {\n        console.warn('Error while watching build progress:', e);\n      }\n\n      await delay(waitTime);\n      if (!this.runningWatchers[watcherId]) {\n        console.info(`Stopping watch of build ${buildId}.`);\n        return;\n      }\n    } while (build && build.status === 'pending');\n\n    console.info(`Watch of build ${buildId} finished.`);\n  };\n}\n","// @flow\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\n\nimport React, { Component } from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { enumerateVariables } from './EnumerateVariables';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\nimport { defaultAutocompleteProps } from '../../UI/AutocompleteProps';\nimport classNames from 'classnames';\nimport { icon } from '../EventsTree/ClassNames';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    alignItems: 'baseline',\n  },\n  moreButton: {\n    marginLeft: 10,\n  },\n};\n\ntype Props = {\n  ...ParameterFieldProps,\n  variablesContainer: ?gdVariablesContainer,\n  onOpenDialog: ?() => void,\n};\n\ntype State = {|\n  focused: boolean,\n  text: ?string,\n|};\n\nexport default class VariableField extends Component<Props, State> {\n  state = { focused: false, text: null };\n\n  _description: ?string;\n  _field: ?AutoComplete;\n  _variableNames: Array<string> = [];\n\n  constructor(props: Props) {\n    super(props);\n\n    const { parameterMetadata } = this.props;\n    this._description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    this._loadNamesFrom(props);\n  }\n\n  forceUpdateVariables() {\n    this._loadNamesFrom(this.props);\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (newProps.variablesContainer !== this.props.variablesContainer) {\n      this._loadNamesFrom(newProps);\n    }\n  }\n\n  _loadNamesFrom(props: Props) {\n    this._variableNames = enumerateVariables(props.variablesContainer);\n  }\n\n  render() {\n    return (\n      <div style={styles.container}>\n        <AutoComplete\n          {...defaultAutocompleteProps}\n          floatingLabelText={this._description}\n          searchText={this.state.focused ? this.state.text : this.props.value}\n          onFocus={() => {\n            this.setState({\n              focused: true,\n              text: this.props.value,\n            });\n          }}\n          onUpdateInput={value => {\n            this.setState({\n              focused: true,\n              text: value,\n            });\n          }}\n          onBlur={event => {\n            this.props.onChange(event.target.value);\n            this.setState({\n              focused: false,\n              text: null,\n            });\n          }}\n          onNewRequest={data => {\n            // Note that data may be a string or a {text, value} object.\n            if (typeof data === 'string') {\n              this.props.onChange(data);\n            } else if (typeof data.value === 'string') {\n              this.props.onChange(data.value);\n            }\n            this.focus(); // Keep the focus after choosing an item\n          }}\n          dataSource={this._variableNames.map(variableName => ({\n            text: variableName,\n            value: variableName,\n          }))}\n          openOnFocus={!this.props.isInline}\n          ref={field => (this._field = field)}\n        />\n        {this.props.onOpenDialog && !this.props.isInline && (\n          <RaisedButton\n            icon={<OpenInNew />}\n            disabled={!this.props.variablesContainer}\n            primary\n            style={styles.moreButton}\n            onClick={this.props.onOpenDialog}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport const renderVariableWithIcon = (\n  value: string,\n  iconPath: string,\n  tooltip: string = ''\n) => {\n  return (\n    <span title={tooltip}>\n      <img\n        className={classNames({\n          [icon]: true,\n        })}\n        src={iconPath}\n        alt=\"\"\n      />\n      {value}\n    </span>\n  );\n};\n","// @flow\nimport flatten from 'lodash/flatten';\nimport { mapFor } from '../../Utils/MapFor';\n\nexport const enumerateVariables = (\n  variablesContainer: ?gdVariablesContainer\n): Array<string> => {\n  if (!variablesContainer) {\n    return [];\n  }\n\n  const enumerateVariableAndChildrenNames = (\n    fullName: string,\n    variable: gdVariable\n  ): Array<string> => {\n    const names = [fullName];\n    if (!variable.isStructure()) return names;\n\n    variable\n      .getAllChildrenNames()\n      .toJSArray()\n      .forEach(childName => {\n        enumerateVariableAndChildrenNames(\n          `${fullName}.${childName}`,\n          variable.getChild(childName)\n        ).forEach(name => {\n          names.push(name);\n        });\n      });\n\n    return names;\n  };\n\n  return flatten(\n    mapFor(0, variablesContainer.count(), i => {\n      if (!variablesContainer) return [];\n\n      return enumerateVariableAndChildrenNames(\n        variablesContainer.getNameAt(i),\n        variablesContainer.getAt(i)\n      );\n    })\n  );\n};\n","import optionalRequire from '../../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\n/**\n * Wraps an Electron Menu\n */\nexport default class ElectronMenuImplementation {\n  buildFromTemplate(template) {\n    this.menuTemplate = template;\n    return undefined;\n  }\n\n  showMenu(dimensions) {\n    if (!electron) return;\n\n    const { Menu } = electron.remote;\n    const browserWindow = electron.remote.getCurrentWindow();\n    this.menu = Menu.buildFromTemplate(this.menuTemplate);\n    this.menu.popup({\n      window: browserWindow,\n      x: Math.round(dimensions.left),\n      y: Math.round(dimensions.top + dimensions.height),\n      async: true, // Ensure the UI is not blocked on macOS.\n    });\n  }\n\n  getMenuProps() {\n    return {\n      open: false,\n    };\n  }\n}\n","import React from 'react';\nimport MenuItem from 'material-ui/MenuItem';\nimport Divider from 'material-ui/Divider';\nimport { adaptAcceleratorString } from '../AcceleratorString';\nimport ArrowDropRight from 'material-ui/svg-icons/navigation-arrow-drop-right';\n\n/**\n * Construct items for material-ui's Menu, using a template which\n * is partially supporting the Electron Menu API (https://github.com/electron/electron/blob/master/docs/api/menu-item.md).\n *\n * Supported options are:\n *  - click\n *  - visible\n *  - type ('separator' and 'checkbox')\n *  - label\n *  - accelerator\n *  - enabled\n *  - checked (when `type` is 'checkbox')\n *  - submenu\n */\nexport default class MaterialUIMenuImplementation {\n  constructor({ onClose }) {\n    this._onClose = onClose;\n  }\n\n  buildFromTemplate(template) {\n    return template\n      .map((item, id) => {\n        if (item.visible === false) return null;\n\n        if (item.type === 'separator') {\n          return <Divider key={'separator' + id} />;\n        } else if (item.type === 'checkbox') {\n          return (\n            <MenuItem\n              key={item.label}\n              primaryText={item.label}\n              secondaryText={\n                item.accelerator\n                  ? adaptAcceleratorString(item.accelerator)\n                  : undefined\n              }\n              checked={item.checked}\n              insetChildren={!item.checked}\n              disabled={item.enabled === false}\n              onClick={() => {\n                if (item.click) {\n                  item.click();\n                  this._onClose();\n                }\n              }}\n              rightIcon={item.submenu ? <ArrowDropRight /> : undefined}\n              menuItems={\n                item.submenu ? this.buildFromTemplate(item.submenu) : undefined\n              }\n            />\n          );\n        } else {\n          return (\n            <MenuItem\n              key={item.label}\n              primaryText={item.label}\n              secondaryText={\n                item.accelerator\n                  ? adaptAcceleratorString(item.accelerator)\n                  : undefined\n              }\n              disabled={item.enabled === false}\n              onClick={() => {\n                if (item.click) {\n                  item.click();\n                  this._onClose();\n                }\n              }}\n              rightIcon={item.submenu ? <ArrowDropRight /> : undefined}\n              menuItems={\n                item.submenu ? this.buildFromTemplate(item.submenu) : undefined\n              }\n            />\n          );\n        }\n      })\n      .filter(Boolean);\n  }\n\n  showMenu() {\n    // Automatically done by IconMenu\n  }\n\n  getMenuProps() {\n    return {\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'left',\n      },\n    };\n  }\n}\n","// @flow\nimport { isMacLike, isMobile } from '../Utils/Platform';\n\nexport const adaptAcceleratorString = (accelerator: string): string => {\n  if (isMobile()) {\n    return ''; // Do not display accelerators on mobile devices\n  } else if (isMacLike()) {\n    return accelerator\n      .replace(/CmdOrCtrl\\+/, '⌘')\n      .replace(/CommandOrControl\\+/, '⌘')\n      .replace(/Super\\+/, '⌘')\n      .replace(/Shift\\+/, '⇧')\n      .replace(/Alt\\+/, '⌥')\n      .replace(/Option\\+/, '⌥')\n      .replace(/Delete/, '⌦')\n      .replace(/Backspace/, '⌫');\n  } else {\n    return accelerator\n      .replace(/CmdOrCtrl\\+/, 'Ctrl+')\n      .replace(/CommandOrControl\\+/, 'Ctrl+')\n      .replace(/Super\\+/, 'Win+')\n      .replace(/Option\\+/, 'Alt+')\n      .replace(/Delete/, 'DEL');\n  }\n};\n","import * as React from 'react';\nimport ThemeConsumer from './Theme/ThemeConsumer';\n// No i18n in this file\n\nconst styles = {\n  messageStyle: {\n    opacity: 0.4,\n    textAlign: 'center',\n    fontSize: '13px',\n  },\n};\n\ntype Props = {|\n  tooltipText?: string,\n  style?: Object,\n  children: React.Node,\n|};\n\nconst BackgroundText = (props: Props) => (\n  <ThemeConsumer>\n    {muiTheme => (\n      <span\n        style={{\n          ...styles.messageStyle,\n          textShadow: `1px 1px 0px ${muiTheme.emptyMessage.shadowColor}`,\n          ...props.style,\n        }}\n        title={props.tooltipText}\n      >\n        {props.children}\n      </span>\n    )}\n  </ThemeConsumer>\n);\n\nexport default BackgroundText;\n","// @flow\n// See ElectronEventsBridge, AboutDialog and electron-app/main.js for handling the updates.\n\nexport type UpdateStatus = {\n  message: string,\n  status:\n    | 'checking-for-update'\n    | 'update-available'\n    | 'update-not-available'\n    | 'error'\n    | 'download-progress'\n    | 'update-downloaded'\n    | 'unknown',\n};\n\nexport const getUpdateNotificationTitle = (updateStatus: UpdateStatus) => {\n  if (updateStatus.status === 'update-available')\n    return 'A new update is available!';\n\n  return '';\n};\n\nexport const getUpdateNotificationBody = (updateStatus: UpdateStatus) => {\n  if (updateStatus.status === 'update-available')\n    return 'It will be downloaded and installed automatically (unless you deactivated this in preferences)';\n\n  return '';\n};\n\nexport const getUpdateStatusLabel = (status: string) => {\n  if (status === 'checking-for-update') return 'Checking for update...';\n  if (status === 'update-available') return 'A new update is available!';\n  if (status === 'update-not-available')\n    return \"No update available. You're using the latest version!\";\n  if (status === 'error') return 'Error while checking update';\n  if (status === 'download-progress')\n    return 'A new update is being downloaded...';\n  if (status === 'update-downloaded')\n    return 'A new update will be installed after you quit and relaunch GDevelop';\n  return '';\n};\n\nexport const getUpdateButtonLabel = (status: string) => {\n  if (status === 'update-available') return 'Update GDevelop to latest version';\n  return 'Check again for new updates';\n};\n\nexport const canDownloadUpdate = (status: string) => {\n  return status === 'update-available';\n};\n","// @flow\nimport * as React from 'react';\nimport {\n  Table,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n} from 'material-ui/Table';\nimport flatten from 'lodash/flatten';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { mapFor } from '../Utils/MapFor';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport VariableRow from './VariableRow';\nimport EditVariableRow from './EditVariableRow';\nimport styles from './styles';\nimport {\n  getInitialSelection,\n  hasSelection,\n  addToSelection,\n  getSelection,\n} from '../Utils/SelectionHandler';\nimport { CLIPBOARD_KIND } from './ClipboardKind';\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport { type VariableOrigin } from './VariablesList.flow';\n\nconst gd = global.gd;\n\nconst SortableVariableRow = SortableElement(VariableRow);\nconst SortableAddVariableRow = SortableElement(EditVariableRow);\n\nclass VariablesListBody extends React.Component<*, *> {\n  render() {\n    return <div>{this.props.children}</div>;\n  }\n}\n\nconst SortableVariablesListBody = SortableContainer(VariablesListBody);\nSortableVariablesListBody.muiName = 'TableBody';\n\ntype VariableAndName = {| name: string, ptr: number, variable: gdVariable |};\n\ntype Props = {|\n  variablesContainer: gdVariablesContainer,\n  inheritedVariablesContainer?: ?gdVariablesContainer,\n  emptyExplanationMessage?: string,\n  emptyExplanationSecondMessage?: string,\n  onSizeUpdated?: () => void,\n|};\ntype State = {|\n  nameErrors: { [string]: string },\n  selectedVariables: { [number]: ?VariableAndName },\n  mode: 'select' | 'move',\n|};\n\nexport default class VariablesList extends React.Component<Props, State> {\n  state = {\n    nameErrors: {},\n    selectedVariables: getInitialSelection(),\n    mode: 'select',\n  };\n\n  _selectVariable = (variableAndName: VariableAndName, select: boolean) => {\n    this.setState({\n      selectedVariables: addToSelection(\n        this.state.selectedVariables,\n        variableAndName,\n        select\n      ),\n    });\n  };\n\n  copySelection = () => {\n    Clipboard.set(\n      CLIPBOARD_KIND,\n      getSelection(this.state.selectedVariables).map(({ name, variable }) => ({\n        name,\n        serializedVariable: serializeToJSObject(variable),\n      }))\n    );\n  };\n\n  paste = () => {\n    const { variablesContainer, inheritedVariablesContainer } = this.props;\n    if (!Clipboard.has(CLIPBOARD_KIND)) return;\n\n    const variables = Clipboard.get(CLIPBOARD_KIND);\n    variables.forEach(({ name, serializedVariable }) => {\n      const newName = newNameGenerator(\n        name,\n        name =>\n          inheritedVariablesContainer\n            ? inheritedVariablesContainer.has(name) ||\n              variablesContainer.has(name)\n            : variablesContainer.has(name),\n        'CopyOf'\n      );\n      const newVariable = new gd.Variable();\n      unserializeFromJSObject(newVariable, serializedVariable);\n      variablesContainer.insert(\n        newName,\n        newVariable,\n        variablesContainer.count()\n      );\n      newVariable.delete();\n    });\n    this.forceUpdate();\n  };\n\n  deleteSelection = () => {\n    const { variablesContainer } = this.props;\n    const selection: Array<VariableAndName> = getSelection(\n      this.state.selectedVariables\n    );\n\n    // Only delete ancestor variables, as selection can be composed of variables\n    // that are contained inside others.\n    const ancestorOnlyVariables = selection.filter(variableAndName => {\n      // Make sure that the variable has no ancestor containing it\n      return !selection.find(\n        otherVariableAndName =>\n          variableAndName !== otherVariableAndName &&\n          otherVariableAndName.variable.contains(\n            variableAndName.variable,\n            /*recursive=*/ true\n          )\n      );\n    });\n\n    // We don't want to ever manipulate/access to variables that have been deleted (by removeRecursively):\n    // that's why it's important to only delete ancestor variables.\n    ancestorOnlyVariables.forEach(({ variable }: VariableAndName) =>\n      variablesContainer.removeRecursively(variable)\n    );\n    this.clearSelection();\n  };\n\n  clearSelection = () => {\n    this.setState({\n      selectedVariables: getInitialSelection(),\n    });\n  };\n\n  _updateOrDefineVariable = (\n    name: string,\n    variable: gdVariable,\n    newValue: string,\n    index: number,\n    origin: ?VariableOrigin\n  ) => {\n    const { variablesContainer, inheritedVariablesContainer } = this.props;\n\n    if (inheritedVariablesContainer && origin === 'parent') {\n      const serializedVariable = serializeToJSObject(\n        inheritedVariablesContainer.get(name)\n      );\n      const newVariable = new gd.Variable();\n      unserializeFromJSObject(newVariable, serializedVariable);\n      variablesContainer.insert(name, newVariable, index);\n      newVariable.delete();\n\n      variablesContainer.get(name).setString(newValue);\n    } else {\n      variable.setString(newValue);\n    }\n  };\n\n  _renderVariableChildren(\n    name: string,\n    parentVariable: gdVariable,\n    depth: number,\n    origin: VariableOrigin\n  ): Array<React.Node> {\n    const names = parentVariable.getAllChildrenNames().toJSArray();\n\n    return flatten(\n      names.map((name, index) => {\n        const variable = parentVariable.getChild(name);\n        return this._renderVariableAndChildrenRows(\n          name,\n          variable,\n          depth + 1,\n          index,\n          parentVariable,\n          origin\n        );\n      })\n    );\n  }\n\n  _getVariableOrigin = (name: string) => {\n    const { variablesContainer, inheritedVariablesContainer } = this.props;\n\n    if (!inheritedVariablesContainer || !inheritedVariablesContainer.has(name))\n      return '';\n    return variablesContainer.has(name) ? 'inherited' : 'parent';\n  };\n\n  _renderVariableAndChildrenRows(\n    name: string,\n    variable: gdVariable,\n    depth: number,\n    index: number,\n    parentVariable: ?gdVariable,\n    parentOrigin: ?VariableOrigin = null\n  ) {\n    const { variablesContainer } = this.props;\n    const isStructure = variable.isStructure();\n\n    const origin = parentOrigin ? parentOrigin : this._getVariableOrigin(name);\n\n    return (\n      <SortableVariableRow\n        name={name}\n        index={index}\n        key={'variable-' + name}\n        variable={variable}\n        disabled={depth !== 0}\n        depth={depth}\n        origin={origin}\n        errorText={\n          this.state.nameErrors[variable.ptr]\n            ? 'This name is already taken'\n            : undefined\n        }\n        onChangeValue={text => {\n          this._updateOrDefineVariable(name, variable, text, index, origin);\n\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        onResetToDefaultValue={() => {\n          variablesContainer.removeRecursively(variable);\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        onBlur={event => {\n          const text = event.target.value;\n          if (name === text) return;\n\n          let success = true;\n          if (!parentVariable) {\n            success = variablesContainer.rename(name, text);\n          } else {\n            success = parentVariable.renameChild(name, text);\n          }\n\n          this.setState({\n            nameErrors: {\n              ...this.state.nameErrors,\n              [variable.ptr]: !success,\n            },\n          });\n        }}\n        onRemove={() => {\n          if (!parentVariable) {\n            variablesContainer.remove(name);\n          } else {\n            parentVariable.removeChild(name);\n          }\n\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        onAddChild={() => {\n          const name = newNameGenerator('ChildVariable', name =>\n            variable.hasChild(name)\n          );\n          variable.getChild(name).setString('');\n\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        children={\n          isStructure\n            ? this._renderVariableChildren(name, variable, depth, origin)\n            : null\n        }\n        showHandle={this.state.mode === 'move'}\n        showSelectionCheckbox={this.state.mode === 'select'}\n        isSelected={!!this.state.selectedVariables[variable.ptr]}\n        onSelect={select =>\n          this._selectVariable({ name, ptr: variable.ptr, variable }, select)\n        }\n      />\n    );\n  }\n\n  _renderEmpty() {\n    return (\n      !!this.props.emptyExplanationMessage && (\n        <div>\n          <EmptyMessage\n            style={styles.emptyExplanation}\n            messageStyle={styles.emptyExplanationMessage}\n          >\n            {this.props.emptyExplanationMessage}\n          </EmptyMessage>\n          <EmptyMessage\n            style={styles.emptyExplanation}\n            messageStyle={styles.emptyExplanationMessage}\n          >\n            {this.props.emptyExplanationSecondMessage}\n          </EmptyMessage>\n        </div>\n      )\n    );\n  }\n\n  render() {\n    const { variablesContainer, inheritedVariablesContainer } = this.props;\n    if (!variablesContainer) return null;\n\n    // Display inherited variables, if any\n    const containerInheritedVariablesTree = inheritedVariablesContainer\n      ? mapFor(0, inheritedVariablesContainer.count(), index => {\n          const name = inheritedVariablesContainer.getNameAt(index);\n          if (!variablesContainer.has(name)) {\n            // Show only variables from parent container that are not redefined\n            const variable = inheritedVariablesContainer.getAt(index);\n            return this._renderVariableAndChildrenRows(\n              name,\n              variable,\n              0,\n              index,\n              undefined,\n              'parent'\n            );\n          }\n        })\n      : [];\n\n    const containerVariablesTree = mapFor(\n      0,\n      variablesContainer.count(),\n      index => {\n        const variable = variablesContainer.getAt(index);\n        const name = variablesContainer.getNameAt(index);\n\n        return this._renderVariableAndChildrenRows(\n          name,\n          variable,\n          0,\n          index,\n          undefined\n        );\n      }\n    );\n\n    const editRow = (\n      <SortableAddVariableRow\n        index={0}\n        key={'add-variable-row'}\n        disabled\n        onAdd={() => {\n          const variable = new gd.Variable();\n          variable.setString('');\n          const name = newNameGenerator('Variable', name =>\n            inheritedVariablesContainer\n              ? inheritedVariablesContainer.has(name) ||\n                variablesContainer.has(name)\n              : variablesContainer.has(name)\n          );\n          variablesContainer.insert(name, variable, variablesContainer.count());\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        onCopy={this.copySelection}\n        onPaste={this.paste}\n        onDeleteSelection={this.deleteSelection}\n        hasSelection={hasSelection(this.state.selectedVariables)}\n        hasClipboard={Clipboard.has(CLIPBOARD_KIND)}\n      />\n    );\n\n    return (\n      <div>\n        <Table selectable={false}>\n          <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n            <TableRow>\n              <TableHeaderColumn>Name</TableHeaderColumn>\n              <TableHeaderColumn>Value</TableHeaderColumn>\n              <TableHeaderColumn style={styles.toolColumnHeader} />\n            </TableRow>\n          </TableHeader>\n        </Table>\n        <SortableVariablesListBody\n          variablesContainer={this.props.variablesContainer}\n          onSortEnd={({ oldIndex, newIndex }) => {\n            this.props.variablesContainer.move(oldIndex, newIndex);\n            this.forceUpdate();\n          }}\n          helperClass=\"sortable-helper\"\n          useDragHandle\n          lockToContainerEdges\n        >\n          {!!containerInheritedVariablesTree.length &&\n            containerInheritedVariablesTree}\n          {!containerVariablesTree.length && this._renderEmpty()}\n          {!!containerVariablesTree.length && containerVariablesTree}\n          {editRow}\n        </SortableVariablesListBody>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nconst styles = {\n  row: {\n    display: 'flex',\n  },\n  cell: {\n    display: 'flex',\n    flex: 1,\n    alignItems: 'center',\n    paddingLeft: 8,\n    paddingRight: 8,\n  },\n};\n\nexport const TreeTable = props => <div>{props.children}</div>;\n\nexport const TreeTableRow = props => (\n  <div style={{ ...styles.row, ...props.style }}>{props.children}</div>\n);\n\nexport const TreeTableCell = props => (\n  <div style={{ ...styles.cell, ...props.style }}>{props.children}</div>\n);\n","// @flow\nimport * as React from 'react';\nimport PreferencesContext, {\n  type AlertMessageIdentifier,\n} from '../MainFrame/Preferences/PreferencesContext';\nimport AlertMessage from './AlertMessage';\n\ntype Props = {|\n  kind: 'info' | 'warning',\n  children: React.Node,\n  identifier: AlertMessageIdentifier,\n|};\n\n/**\n * Show an alert that can be permanently hidden. Hidden messages\n * will be stored in preferences.\n */\nconst DismissableAlertMessage = ({ identifier, kind, children }: Props) => (\n  <PreferencesContext.Consumer>\n    {({ values, showAlertMessage }) =>\n      !values.hiddenAlertMessages[identifier] && (\n        <AlertMessage\n          kind={kind}\n          children={children}\n          onHide={() => {\n            //eslint-disable-next-line\n            const answer = confirm(\n              \"Are you sure you want to hide this hint? You won't see it again, unless you re-activate it from the preferences.\"\n            );\n\n            if (!answer) return;\n\n            showAlertMessage(identifier, false);\n          }}\n        />\n      )\n    }\n  </PreferencesContext.Consumer>\n);\n\nexport default DismissableAlertMessage;\n","// @flow\nimport AutoComplete from 'material-ui/AutoComplete';\n\n/**\n * A filter that can be used with Material-UI Autocomplete to have a fuzzy\n * filter that still return the items with an empty key.\n * @param {*} searchText\n * @param {*} key\n */\nexport const fuzzyOrEmptyFilter = (searchText: string, key: string) => {\n  return !key || AutoComplete.fuzzyFilter(searchText, key);\n};\n","import React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst SPRITE_SIZE = 100;\nexport const thumbnailContainerStyle = {\n  position: 'relative',\n  display: 'inline-block',\n  width: SPRITE_SIZE,\n  height: SPRITE_SIZE,\n  justifyContent: 'center',\n  alignItems: 'center',\n  lineHeight: SPRITE_SIZE + 'px',\n  textAlign: 'center',\n  border: '#AAAAAA 1px solid',\n  borderColor: '#AAAAAA',\n};\n\nconst styles = {\n  spriteThumbnail: {\n    ...thumbnailContainerStyle,\n    background: 'url(\"res/transparentback.png\") repeat',\n  },\n  spriteThumbnailImage: {\n    maxWidth: SPRITE_SIZE,\n    maxHeight: SPRITE_SIZE,\n    verticalAlign: 'middle',\n    pointerEvents: 'none',\n  },\n  checkboxContainer: {\n    textAlign: 'initial',\n    position: 'absolute',\n    width: 24, // Used to position the checkbox near the right border with a proper margin\n    bottom: 0,\n    right: 0,\n  },\n};\n\nconst ThemableImageThumbnail = ({\n  project,\n  resourceName,\n  resourcesLoader,\n  style,\n  selectable,\n  selected,\n  onSelect,\n  onContextMenu,\n  muiTheme,\n}) => {\n  return (\n    <div\n      title={resourceName}\n      style={{\n        ...styles.spriteThumbnail,\n        borderColor: selected\n          ? muiTheme.imageThumbnail.selectedBorderColor\n          : undefined,\n        ...style,\n      }}\n      onContextMenu={e => {\n        e.stopPropagation();\n        if (onContextMenu) onContextMenu(e.clientX, e.clientY);\n      }}\n    >\n      <img\n        style={styles.spriteThumbnailImage}\n        alt={resourceName}\n        src={resourcesLoader.getResourceFullUrl(project, resourceName)}\n        crossOrigin=\"anonymous\"\n      />\n      {selectable && (\n        <div style={styles.checkboxContainer}>\n          <Checkbox\n            checked={selected}\n            onCheck={(e, check) => onSelect(check)}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst ImageThumbnail = muiThemeable()(ThemableImageThumbnail);\nexport default ImageThumbnail;\n","import React from 'react';\nimport AppBar from 'material-ui/AppBar';\n\nexport default props => {\n  return (\n    <AppBar\n      style={{\n        paddingLeft: 8,\n        paddingRight: 8,\n        flexShrink: 0,\n      }}\n      titleStyle={{\n        height: 32,\n        fontSize: '15px',\n        lineHeight: '31px',\n      }}\n      iconStyleLeft={{\n        marginTop: -8,\n        marginBottom: -16,\n        marginRight: 4,\n        marginLeft: -16,\n      }}\n      iconStyleRight={{\n        marginTop: -8,\n        marginBottom: -16,\n      }}\n      {...props}\n    />\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport EventsSheet from '../../EventsSheet';\nimport { serializeToJSObject } from '../../Utils/Serializer';\nimport BaseEditor from './BaseEditor';\n\nexport default class EventsEditor extends BaseEditor {\n  editor: ?EventsSheet;\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  getSerializedElements() {\n    const layout = this.getLayout();\n    if (!layout) return {};\n\n    return {\n      ...BaseEditor.getLayoutSerializedElements(layout),\n      events: serializeToJSObject(layout.getEvents()),\n    };\n  }\n\n  getLayout(): ?gdLayout {\n    const { project, layoutName } = this.props;\n    if (!project || !project.hasLayoutNamed(layoutName)) return null;\n\n    return project.getLayout(layoutName);\n  }\n\n  render() {\n    const { project, layoutName } = this.props;\n    const layout = this.getLayout();\n    if (!layout) {\n      //TODO: Error component\n      return <div>No layout called {layoutName} found!</div>;\n    }\n\n    return (\n      <EventsSheet\n        {...this.props}\n        ref={editor => (this.editor = editor)}\n        project={project}\n        layout={layout}\n        globalObjectsContainer={project}\n        objectsContainer={layout}\n        events={layout.getEvents()}\n        onPreview={options => this.props.onPreview(project, layout, options)}\n        onOpenExternalEvents={this.props.onOpenExternalEvents}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        openInstructionOrExpression={this.props.openInstructionOrExpression}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { dropIndicator, cantDropIndicator } from './ClassNames';\n\nexport default function DropIndicator({ canDrop }: {| canDrop: boolean |}) {\n  return <div className={canDrop ? dropIndicator : cantDropIndicator} />;\n}\n","// @flow\nimport * as React from 'react';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport { type ParameterFieldProps } from './ParameterFieldProps.flow';\n\nexport default class DefaultField extends React.Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?any = null;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <SemiControlledTextField\n        commitOnBlur\n        value={this.props.value}\n        floatingLabelText={description}\n        onChange={(text: string) => this.props.onChange(text)}\n        ref={field => (this._field = field)}\n        fullWidth\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport Divider from 'material-ui/Divider';\nimport { enumerateObjectsAndGroups } from './EnumerateObjects';\nimport { defaultAutocompleteProps } from '../UI/AutocompleteProps';\n\ntype Props = {|\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  allowedObjectType?: ?string,\n  noGroups?: boolean,\n  onChoose: string => void,\n  onChange: string => void,\n  value: string,\n  onBlur?: (event: any) => void,\n\n  fullWidth?: boolean,\n  floatingLabelText?: ?string,\n  errorText?: ?string,\n  openOnFocus?: boolean,\n  hintText?: ?React.Node,\n|};\n\ntype State = {|\n  focused: boolean,\n  text: ?string,\n|};\n\nexport default class ObjectSelector extends React.Component<Props, State> {\n  state = {\n    focused: false,\n    text: null,\n  };\n\n  _field: ?AutoComplete;\n  fullList: Array<{ text: string, value: React.Node }>;\n\n  constructor(props: Props) {\n    super(props);\n\n    const { globalObjectsContainer, objectsContainer } = this.props;\n    const list = enumerateObjectsAndGroups(\n      globalObjectsContainer,\n      objectsContainer,\n      this.props.allowedObjectType || undefined\n    );\n    const objects = list.allObjectsList.map(({ object }) => {\n      return {\n        text: object.getName(),\n        value: object.getName(),\n      };\n    });\n    const groups = props.noGroups\n      ? []\n      : list.allGroupsList.map(({ group }) => {\n          return {\n            text: group.getName(),\n            value: group.getName(),\n          };\n        });\n\n    this.fullList = [...objects, { text: '', value: <Divider /> }, ...groups];\n  }\n\n  componentWillUnmount() {\n    if (this.state.focused) {\n      this.props.onChange(this.state.text || '');\n    }\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  hasAValidObject = () => {\n    return (\n      this.fullList.filter(choice => this.props.value === choice.text)\n        .length !== 0\n    );\n  };\n\n  render() {\n    const {\n      value,\n      onChange,\n      onChoose,\n      globalObjectsContainer,\n      objectsContainer,\n      allowedObjectType,\n      noGroups,\n      onBlur,\n      ...rest\n    } = this.props;\n\n    return (\n      <AutoComplete\n        {...defaultAutocompleteProps}\n        hintText={<Trans>Choose an object</Trans>}\n        searchText={this.state.focused ? this.state.text : value}\n        onFocus={() => {\n          this.setState({\n            focused: true,\n            text: value,\n          });\n        }}\n        onUpdateInput={value => {\n          this.setState({\n            text: value,\n          });\n        }}\n        onBlur={event => {\n          onChange(event.target.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n\n          if (onBlur) onBlur(event);\n        }}\n        onNewRequest={data => {\n          // Note that data may be a string or a {text, value} object.\n          if (typeof data === 'string') {\n            onChoose(data);\n          } else if (typeof data.value === 'string') {\n            onChoose(data.value);\n          }\n          this.focus(); // Keep the focus after choosing an item\n        }}\n        dataSource={this.fullList}\n        ref={field => (this._field = field)}\n        {...rest}\n      />\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport { List, ListItem, makeSelectable } from 'material-ui/List';\nimport ListIcon from '../../../UI/ListIcon';\nimport SearchBar from 'material-ui-search-bar';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport { type InstructionOrExpressionInformation } from './InstructionOrExpressionInformation.flow.js';\nimport { type InstructionOrExpressionTreeNode } from './CreateTree';\n\nconst SelectableList = makeSelectable(List);\n\nconst styles = {\n  searchBar: {\n    margin: '0 auto',\n    backgroundColor: 'transparent',\n  },\n  groupListItemNestedList: {\n    padding: 0,\n  },\n};\n\ntype Props = {|\n  muiTheme: any,\n  focusOnMount?: boolean,\n  instructionsInfo: Array<InstructionOrExpressionInformation>,\n  instructionsInfoTree: InstructionOrExpressionTreeNode,\n  selectedType: string,\n  onChoose: (type: string, InstructionOrExpressionInformation) => void,\n  iconSize: number,\n  style?: Object,\n|};\ntype State = {|\n  search: string,\n  searchResults: Array<InstructionOrExpressionInformation>,\n|};\n\nclass ThemableInstructionOrExpressionSelector extends Component<Props, State> {\n  state = {\n    search: '',\n    searchResults: [],\n  };\n  _searchBar: ?SearchBar;\n\n  componentDidMount() {\n    if (this.props.focusOnMount && this._searchBar) {\n      this._searchBar.focus();\n    }\n  }\n\n  focus = () => {\n    if (this._searchBar) this._searchBar.focus();\n  };\n\n  _matchCritera(\n    instructionInfo: InstructionOrExpressionInformation,\n    lowercaseSearch: string\n  ) {\n    const { displayedName, fullGroupName } = instructionInfo;\n    return (\n      displayedName.toLowerCase().indexOf(lowercaseSearch) !== -1 ||\n      fullGroupName.toLowerCase().indexOf(lowercaseSearch) !== -1\n    );\n  }\n\n  _computeSearchResults = (search: string) => {\n    const lowercaseSearch = this.state.search.toLowerCase();\n    return this.props.instructionsInfo.filter(instructionInfo =>\n      this._matchCritera(instructionInfo, lowercaseSearch)\n    );\n  };\n\n  _onSubmitSearch = () => {\n    const { searchResults } = this.state;\n    if (!searchResults.length) return;\n\n    this.props.onChoose(searchResults[0].type, searchResults[0]);\n  };\n\n  _renderTree(instructionInfoTree: InstructionOrExpressionTreeNode) {\n    const { muiTheme } = this.props;\n\n    return Object.keys(instructionInfoTree).map(key => {\n      // $FlowFixMe - in theory, we should have a way to distinguish\n      // between instruction (leaf nodes) and group (nodes). We use\n      // the \"type\" properties, but this will fail if a group is called \"type\"\n      // (hence the flow errors, which are valid warnings)\n      const instructionOrGroup = instructionInfoTree[key];\n      if (!instructionOrGroup) return null;\n\n      if (typeof instructionOrGroup.type === 'string') {\n        // $FlowFixMe - see above\n        const instructionInformation: InstructionOrExpressionInformation = instructionOrGroup;\n        return (\n          <ListItem\n            key={key}\n            primaryText={key}\n            value={instructionOrGroup.type}\n            leftIcon={\n              <ListIcon\n                iconSize={this.props.iconSize}\n                src={instructionInformation.iconFilename}\n              />\n            }\n            onClick={() => {\n              this.props.onChoose(\n                instructionInformation.type,\n                instructionInformation\n              );\n            }}\n          />\n        );\n      } else {\n        // $FlowFixMe - see above\n        const groupOfInstructionInformation = (instructionOrGroup: InstructionOrExpressionTreeNode);\n        const isDeprecated = key.indexOf('(deprecated)') !== -1;\n        return (\n          <ListItem\n            key={key}\n            style={{\n              borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n            }}\n            nestedListStyle={styles.groupListItemNestedList}\n            primaryText={\n              <div\n                style={{\n                  color: isDeprecated\n                    ? muiTheme.listItem.deprecatedGroupTextColor\n                    : muiTheme.listItem.groupTextColor,\n                }}\n              >\n                {key}\n              </div>\n            }\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={true}\n            nestedItems={this._renderTree(groupOfInstructionInformation)}\n          />\n        );\n      }\n    });\n  }\n\n  _renderSearchResults = () => {\n    return this.state.searchResults.map(instructionInfo => {\n      return (\n        <ListItem\n          key={instructionInfo.type}\n          primaryText={instructionInfo.displayedName}\n          secondaryText={instructionInfo.fullGroupName}\n          value={instructionInfo.type}\n          onClick={() => {\n            this.props.onChoose(instructionInfo.type, instructionInfo);\n          }}\n        />\n      );\n    });\n  };\n\n  render() {\n    const { muiTheme, selectedType, instructionsInfoTree, style } = this.props;\n\n    return (\n      <div\n        style={{\n          backgroundColor: muiTheme.list.itemsBackgroundColor,\n          ...style,\n        }}\n      >\n        <SearchBar\n          onChange={text =>\n            this.setState({\n              search: text,\n              searchResults: this._computeSearchResults(text),\n            })\n          }\n          onRequestSearch={this._onSubmitSearch}\n          style={styles.searchBar}\n          ref={searchBar => (this._searchBar = searchBar)}\n        />\n        <SelectableList value={selectedType}>\n          {this.state.search\n            ? this._renderSearchResults()\n            : this._renderTree(instructionsInfoTree)}\n        </SelectableList>\n      </div>\n    );\n  }\n}\n\nconst InstructionOrExpressionSelector = muiThemeable()(\n  ThemableInstructionOrExpressionSelector\n);\nexport default InstructionOrExpressionSelector;\n","// @flow\nimport update from 'lodash/update';\nimport compact from 'lodash/compact';\nimport { type InstructionOrExpressionInformation } from './InstructionOrExpressionInformation.flow.js';\n\nconst GROUP_DELIMITER = '/';\n\nexport type InstructionOrExpressionTreeNode =\n  | InstructionOrExpressionInformation\n  | {\n      [string]: InstructionOrExpressionTreeNode,\n    };\n\nexport const createTree = (\n  allExpressions: Array<InstructionOrExpressionInformation>\n): InstructionOrExpressionTreeNode => {\n  const tree = {};\n  allExpressions.forEach(\n    (expressionInfo: InstructionOrExpressionInformation) => {\n      update(\n        tree,\n        compact(expressionInfo.fullGroupName.split(GROUP_DELIMITER)),\n        groupInfo => {\n          const existingGroupInfo = groupInfo || {};\n          return {\n            ...existingGroupInfo,\n            [expressionInfo.displayedName]: expressionInfo,\n          };\n        }\n      );\n    }\n  );\n\n  return tree;\n};\n","// @flow\nimport { type ExpressionParameters } from './ParameterFieldProps.flow';\nconst gd = global.gd;\n\n/**\n * Given an instruction or an expression and a parameter number,\n * return the name of the object that this parameter (usually, a \"behavior\" or a \"objectvar\") should use.\n *\n * This is an extension to ParameterMetadataTools.cpp and ParameterMetadataTools.h.\n * It's only here to ease to search of the object name in fields like BehaviorField or\n * ObjectVariableField.\n */\nexport const getLastObjectParameterValue = ({\n  instructionMetadata,\n  instruction,\n  expressionMetadata,\n  expression,\n  parameterIndex,\n}: {|\n  instructionMetadata: ?gdInstructionMetadata,\n  instruction: ?gdInstruction,\n  expressionMetadata: ?gdExpressionMetadata,\n  expression: ?ExpressionParameters,\n  parameterIndex: ?number,\n|}): ?string => {\n  if (parameterIndex === undefined || parameterIndex == null) {\n    // No parameter index given: the parameter is not even in a list of parameters\n    return null;\n  }\n\n  let objectName = null;\n  if (instructionMetadata && instruction) {\n    const objectParameterIndex = gd.ParameterMetadataTools.getObjectParameterIndexFor(\n      instructionMetadata.getParameters(),\n      parameterIndex\n    );\n    if (\n      objectParameterIndex >= 0 &&\n      objectParameterIndex < instruction.getParametersCount()\n    ) {\n      objectName = instruction.getParameter(objectParameterIndex);\n    }\n  } else if (expressionMetadata && expression) {\n    const objectParameterIndex = gd.ParameterMetadataTools.getObjectParameterIndexFor(\n      expressionMetadata.getParameters(),\n      parameterIndex\n    );\n    if (\n      objectParameterIndex >= 0 &&\n      objectParameterIndex < expression.getParametersCount()\n    ) {\n      objectName = expression.getParameter(objectParameterIndex);\n    }\n  }\n\n  return objectName;\n};\n","// @flow\n\nexport const shortenString = (str: string, maxLength: number) => {\n  return str.length > maxLength ? str.substring(0, maxLength) + '...' : str;\n};\n\nexport const makeNonBreakable = (str: string) => {\n  return str.replace(/\\s/g, '\\xa0'); // Non-breakable space is char 0xa0 (160 dec)\n};\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\n\n/**\n * Create a renderer for an type of object displayed as an icon\n *\n * @extends RenderedInstance\n * @class RenderedIconInstance\n * @constructor\n */\nexport default function makeRenderer(iconPath) {\n  class RenderedIconInstance extends RenderedInstance {\n    constructor(\n      project,\n      layout,\n      instance,\n      associatedObject,\n      pixiContainer,\n      pixiResourcesLoader\n    ) {\n      super(\n        project,\n        layout,\n        instance,\n        associatedObject,\n        pixiContainer,\n        pixiResourcesLoader\n      );\n\n      this._pixiObject = new PIXI.Sprite(PIXI.Texture.fromImage(iconPath));\n      this._pixiContainer.addChild(this._pixiObject);\n    }\n\n    update() {\n      this._pixiObject.position.x = this._instance.getX();\n      this._pixiObject.position.y = this._instance.getY();\n      this._pixiObject.rotation = (this._instance.getAngle() * Math.PI) / 180.0;\n    }\n\n    static getThumbnail(project, resourcesLoader, object) {\n      return iconPath;\n    }\n  }\n\n  return RenderedIconInstance;\n}\n","// @flow\nimport slugs from 'slugs';\nimport * as PIXI from 'pixi.js';\nimport ResourcesLoader from '../ResourcesLoader';\nimport { loadFontFace } from '../Utils/FontFaceLoader';\nconst gd = global.gd;\n\nconst loadedFontFamilies = {};\nconst loadedTextures = {};\nconst invalidTexture = PIXI.Texture.fromImage('res/error48.png');\n\n/**\n * Expose functions to load PIXI textures or fonts, given the names of\n * resources and a gd.Project.\n *\n * This internally uses ResourcesLoader to get the URL of the resources.\n */\nexport default class PixiResourcesLoader {\n  static _initializeTexture(resource: gdResource, texture: any) {\n    if (resource.getKind() !== 'image') return;\n\n    const imageResource = gd.asImageResource(resource);\n    if (!imageResource.isSmooth()) {\n      texture.baseTexture.scaleMode = PIXI.SCALE_MODES.NEAREST;\n    }\n  }\n\n  /**\n   * (Re)load the PIXI texture represented by the given resources.\n   */\n  static loadTextures(\n    project: gdProject,\n    resourceNames: Array<string>,\n    onProgress: (number, number) => void,\n    onComplete: () => void\n  ) {\n    const resourcesManager = project.getResourcesManager();\n    const loader = PIXI.loader;\n    loader.reset();\n    loader.removeAllListeners();\n\n    const allResources = {};\n    resourceNames.forEach(resourceName => {\n      const resource = resourcesManager.getResource(resourceName);\n      const filename = ResourcesLoader.getResourceFullUrl(\n        project,\n        resourceName\n      );\n      loader.add(resourceName, filename);\n      allResources[resourceName] = resource;\n    });\n\n    const totalCount = resourceNames.length;\n    if (!totalCount) {\n      onComplete();\n      return;\n    }\n\n    let loadingCount = 0;\n    loader.once('complete', function(loader, loadedResources) {\n      //Store the loaded textures so that they are ready to use.\n      for (const resourceName in loadedResources) {\n        if (loadedResources.hasOwnProperty(resourceName)) {\n          const resource = resourcesManager.getResource(resourceName);\n          if (resource.getKind() !== 'image') continue;\n\n          loadedTextures[resourceName] = loadedResources[resourceName].texture;\n          PixiResourcesLoader._initializeTexture(\n            resource,\n            loadedTextures[resourceName]\n          );\n        }\n      }\n\n      onComplete();\n    });\n    loader.on('progress', function() {\n      loadingCount++;\n      onProgress(loadingCount, totalCount);\n    });\n\n    loader.load();\n  }\n\n  /**\n   * Return the PIXI texture represented by the given resource.\n   * If not loaded, it will load it.\n   * @returns The PIXI.Texture to be used. It can be loading, so you\n   * should listen to PIXI.Texture `update` event, and refresh your object\n   * if this event is triggered.\n   */\n  static getPIXITexture(project: gdProject, resourceName: string) {\n    if (loadedTextures[resourceName]) {\n      return loadedTextures[resourceName];\n    }\n\n    if (!project.getResourcesManager().hasResource(resourceName))\n      return invalidTexture;\n\n    const resource = project.getResourcesManager().getResource(resourceName);\n    if (resource.getKind() !== 'image') return invalidTexture;\n\n    loadedTextures[resourceName] = PIXI.Texture.fromImage(\n      ResourcesLoader.getResourceFullUrl(project, resourceName),\n      true /* Treats request as cross-origin */\n    );\n\n    PixiResourcesLoader._initializeTexture(\n      resource,\n      loadedTextures[resourceName]\n    );\n    return loadedTextures[resourceName];\n  }\n\n  /**\n   * Return the PIXI video texture represented by the given resource.\n   * If not loaded, it will load it.\n   * @returns The PIXI.Texture to be used. It can be loading, so you\n   * should listen to PIXI.Texture `update` event, and refresh your object\n   * if this event is triggered.\n   */\n  static getPIXIVideoTexture(project: gdProject, resourceName: string) {\n    if (loadedTextures[resourceName]) {\n      return loadedTextures[resourceName];\n    }\n\n    if (!project.getResourcesManager().hasResource(resourceName))\n      return invalidTexture;\n\n    const resource = project.getResourcesManager().getResource(resourceName);\n    if (resource.getKind() !== 'video') return invalidTexture;\n\n    loadedTextures[resourceName] = PIXI.Texture.fromVideo(\n      ResourcesLoader.getResourceFullUrl(\n        project,\n        resourceName,\n        true /* Disable cache bursting for video because it prevent the video to be recognized as such? */\n      ),\n      PIXI.SCALE_MODES.LINEAR,\n      true /* Treats request as cross-origin */,\n      false /* autoplay */\n    );\n\n    return loadedTextures[resourceName];\n  }\n\n  /**\n   * Load the given font from its url/filename.\n   * @returns a Promise that resolves with the font-family to be used\n   * to render a text with the font.\n   */\n  static loadFontFamily(\n    project: gdProject,\n    resourceName: string\n  ): Promise<string> {\n    // Avoid reloading a font if it's already cached\n    if (loadedFontFamilies[resourceName]) {\n      return Promise.resolve(loadedFontFamilies[resourceName]);\n    }\n\n    const fontFamily = slugs(resourceName);\n    let fullFilename = null;\n    if (project.getResourcesManager().hasResource(resourceName)) {\n      const resource = project.getResourcesManager().getResource(resourceName);\n      if (resource.getKind() === 'font') {\n        fullFilename = ResourcesLoader.getResourceFullUrl(\n          project,\n          resourceName\n        );\n      }\n    } else {\n      // Compatibility with GD <= 5.0-beta56\n      // Assume resourceName is just the filename to the font\n      fullFilename = ResourcesLoader.getFullUrl(project, resourceName);\n      // end of compatibility code\n    }\n\n    if (!fullFilename) {\n      // If no resource is found/resource is not a font, default to Arial,\n      // as done by the game engine too.\n      return Promise.resolve('Arial');\n    }\n\n    return loadFontFace(fontFamily, `url(\"${fullFilename}\")`, {}).then(\n      loadedFace => {\n        loadedFontFamilies[resourceName] = fontFamily;\n\n        return fontFamily;\n      }\n    );\n  }\n\n  /**\n   * Get the font family name for the given font resource.\n   * The font won't be loaded.\n   * @returns The font-family to be used to render a text with the font.\n   */\n  static getFontFamily(project: gdProject, resourceName: string) {\n    if (loadedFontFamilies[resourceName]) {\n      return loadedFontFamilies[resourceName];\n    }\n\n    const fontFamily = slugs(resourceName);\n    return fontFamily;\n  }\n\n  static getInvalidPIXITexture() {\n    return invalidTexture;\n  }\n}\n","import { isMacLike } from '../../Utils/Platform';\n\nconst CTRL_KEY = 17;\nconst SHIFT_KEY = 16;\nconst LEFT_KEY = 37;\nconst UP_KEY = 38;\nconst RIGHT_KEY = 39;\nconst DOWN_KEY = 40;\nconst BACKSPACE_KEY = 8;\nconst SPACE_KEY = 32;\nconst DELETE_KEY = 46;\nconst EQUAL_KEY = 187;\nconst MINUS_KEY = 189;\nconst NUMPAD_ADD = 107;\nconst NUMPAD_SUBSTRACT = 109;\nconst C_KEY = 67;\nconst F_KEY = 70;\nconst V_KEY = 86;\nconst X_KEY = 88;\nconst Y_KEY = 89;\nconst Z_KEY = 90;\nconst MID_MOUSE_BUTTON = 1;\n\nexport default class KeyboardShortcuts {\n  constructor({\n    onDelete,\n    onMove,\n    onCopy,\n    onCut,\n    onPaste,\n    onUndo,\n    onRedo,\n    onSearch,\n    onZoomOut,\n    onZoomIn,\n  }) {\n    this.onDelete = onDelete || this._noop;\n    this.onMove = onMove || this._noop;\n    this.onCopy = onCopy || this._noop;\n    this.onCut = onCut || this._noop;\n    this.onPaste = onPaste || this._noop;\n    this.onUndo = onUndo || this._noop;\n    this.onRedo = onRedo || this._noop;\n    this.onZoomOut = onZoomOut || this._noop;\n    this.onZoomIn = onZoomIn || this._noop;\n    this.onSearch = onSearch || this._noop;\n    this.isFocused = false;\n    this.shiftPressed = false;\n    this.rawCtrlPressed = false;\n    this.metaPressed = false;\n    this.spacePressed = false;\n    this.mouseMidButtonPressed = false;\n    this.mount();\n  }\n\n  shouldCloneInstances() {\n    return this._isControlPressed();\n  }\n\n  shouldMultiSelect() {\n    return this.shiftPressed;\n  }\n\n  shouldFollowAxis() {\n    return this.shiftPressed;\n  }\n\n  shouldNotSnapToGrid() {\n    return this.altPressed;\n  }\n\n  shouldResizeProportionally() {\n    return this.shiftPressed;\n  }\n\n  shouldScrollHorizontally() {\n    return this.altPressed;\n  }\n\n  shouldZoom() {\n    if (isMacLike()) {\n      return this._isControlPressed();\n    } else {\n      if (!this._isControlPressed() && !this.altPressed && !this.shiftPressed) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }\n\n  shouldMoveView() {\n    return this.spacePressed || this.mouseMidButtonPressed;\n  }\n\n  _isControlPressed = () => {\n    // On macOS, meta key (Apple/Command key) acts as Control key on Windows/Linux.\n    return this.metaPressed || this.rawCtrlPressed;\n  };\n\n  _onKeyDown = evt => {\n    if (!this.isFocused) return;\n    if (evt.metaKey) this.metaPressed = true;\n    if (evt.altKey) this.altPressed = true;\n    if (evt.which === CTRL_KEY) this.rawCtrlPressed = true;\n    if (evt.which === SHIFT_KEY) this.shiftPressed = true;\n    if (evt.which === SPACE_KEY) this.spacePressed = true;\n\n    const textEditorSelectors = 'textarea, input, [contenteditable=\"true\"]';\n    if (evt.target && evt.target.closest(textEditorSelectors)) {\n      return; // Something else is currently being edited.\n    }\n\n    if (this.onMove) {\n      if (evt.which === UP_KEY) {\n        this.onMove(0, -1);\n      } else if (evt.which === DOWN_KEY) {\n        this.onMove(0, 1);\n      } else if (evt.which === LEFT_KEY) {\n        this.onMove(-1, 0);\n      } else if (evt.which === RIGHT_KEY) {\n        this.onMove(1, 0);\n      }\n    }\n    if (evt.which === BACKSPACE_KEY || evt.which === DELETE_KEY) {\n      this.onDelete();\n    }\n    if (this._isControlPressed() && evt.which === C_KEY) {\n      this.onCopy();\n    }\n    if (this._isControlPressed() && evt.which === X_KEY) {\n      this.onCut();\n    }\n    if (this._isControlPressed() && evt.which === V_KEY) {\n      this.onPaste();\n    }\n    if (this._isControlPressed() && evt.which === Z_KEY) {\n      this.onUndo();\n    }\n    if (this._isControlPressed() && this.shiftPressed && evt.which === Z_KEY) {\n      this.onRedo();\n    }\n    if (this._isControlPressed() && evt.which === Y_KEY) {\n      this.onRedo();\n    }\n    if (this._isControlPressed() && evt.which === F_KEY) {\n      this.onSearch();\n    }\n\n    if (isMacLike()) {\n      //Mac specific shortcuts -- zooming done differently on windows and linux\n      if (this._isControlPressed() && evt.which === MINUS_KEY) {\n        this.onZoomOut();\n      }\n      if (this._isControlPressed() && evt.which === EQUAL_KEY) {\n        this.onZoomIn();\n      }\n      if (evt.which === NUMPAD_SUBSTRACT) {\n        this.onZoomOut();\n      }\n      if (evt.which === NUMPAD_ADD) {\n        this.onZoomIn();\n      }\n    }\n  };\n\n  _onKeyUp = evt => {\n    // Always handle key up event, even if we don't have the focus,\n    // for modifier keys to ensure we don't lose track of their pressed/unpressed status.\n\n    if (!evt.metaKey) this.metaPressed = false;\n    if (!evt.altKey) this.altPressed = false;\n    if (evt.which === CTRL_KEY) this.rawCtrlPressed = false;\n    if (evt.which === SHIFT_KEY) this.shiftPressed = false;\n    if (evt.which === SPACE_KEY) this.spacePressed = false;\n  };\n\n  _onMouseDown = evt => {\n    if (!this.isFocused) return;\n\n    if (!isMacLike()) {\n      if (evt.button === MID_MOUSE_BUTTON) {\n        this.mouseMidButtonPressed = true;\n      } else {\n        this.mouseMidButtonPressed = false;\n      }\n    }\n  };\n\n  _onMouseUp = evt => {\n    if (!this.isFocused) return;\n\n    if (!isMacLike() && evt.button === MID_MOUSE_BUTTON) {\n      this.mouseMidButtonPressed = false;\n    }\n  };\n\n  _onKeyPress = evt => {};\n\n  _noop = () => {};\n\n  focus() {\n    this.isFocused = true;\n  }\n\n  blur() {\n    this.isFocused = false;\n  }\n\n  mount() {\n    if (typeof document === 'undefined') return;\n\n    document.addEventListener('keydown', this._onKeyDown, true);\n    document.addEventListener('keyup', this._onKeyUp, true);\n    document.addEventListener('keypress', this._onKeyPress, true);\n    document.addEventListener('mousedown', this._onMouseDown, true);\n    document.addEventListener('mouseup', this._onMouseUp, true);\n  }\n\n  unmount() {\n    if (typeof document === 'undefined') return;\n\n    document.removeEventListener('keydown', this._onKeyDown, true);\n    document.removeEventListener('keyup', this._onKeyUp, true);\n    document.removeEventListener('keypress', this._onKeyPress, true);\n    document.removeEventListener('mousedown', this._onMouseDown, true);\n    document.removeEventListener('mouseup', this._onMouseUp, true);\n  }\n}\n","// @flow\nimport { serializeToJSObject, unserializeFromJSObject } from './Serializer';\n\n// Tools function to keep track of the history of changes made\n// on a serializable object from libGD.js\n\nexport type HistoryState = {|\n  undoHistory: Array<Object>,\n  current: Object,\n  redoHistory: Array<Object>,\n  maxSize: number,\n|};\n\n/**\n * Return the initial state of the history\n * @param {*} serializableObject\n */\nexport const getHistoryInitialState = (\n  serializableObject: gdSerializable,\n  { historyMaxSize }: { historyMaxSize: number }\n): HistoryState => {\n  return {\n    undoHistory: [],\n    current: serializeToJSObject(serializableObject),\n    redoHistory: [],\n    maxSize: historyMaxSize,\n  };\n};\n\n/**\n * Return true if redo can be applied for the given history\n * @param {*} history\n */\nexport const canRedo = (history: HistoryState): boolean => {\n  return !!history.redoHistory.length;\n};\n\n/**\n * Return true if undo can be applied for the given history\n * @param {*} history\n */\nexport const canUndo = (history: HistoryState): boolean => {\n  return !!history.undoHistory.length;\n};\n\n/**\n * Save a new state of the given serializableObject to the history\n * @param {*} history\n * @param {*} serializableObject\n */\nexport const saveToHistory = (\n  history: HistoryState,\n  serializableObject: gdSerializable\n): HistoryState => {\n  const newUndoHistory = [...history.undoHistory, history.current];\n  if (newUndoHistory.length > history.maxSize) {\n    newUndoHistory.splice(0, newUndoHistory.length - history.maxSize);\n  }\n\n  return {\n    undoHistory: newUndoHistory,\n    current: serializeToJSObject(serializableObject),\n    redoHistory: [],\n    maxSize: history.maxSize,\n  };\n};\n\n/**\n * Update the serializableObject to undo the last changes.\n * /!\\ This mutates the serializableObject and there could be objects owned by it\n * deleted or becoming invalid. Be sure to drop/refresh any reference to them.\n *\n * @param {*} history\n * @param {*} serializableObject\n */\nexport const undo = (\n  history: HistoryState,\n  serializableObject: gdSerializable,\n  project: ?gdProject = undefined\n): HistoryState => {\n  if (!history.undoHistory.length) {\n    return history;\n  }\n\n  const newCurrent = history.undoHistory[history.undoHistory.length - 1];\n  unserializeFromJSObject(\n    serializableObject,\n    newCurrent,\n    'unserializeFrom',\n    project\n  );\n\n  return {\n    undoHistory: history.undoHistory.slice(0, -1),\n    current: newCurrent,\n    redoHistory: [...history.redoHistory, history.current],\n    maxSize: history.maxSize,\n  };\n};\n\n/**\n * Update the serializableObject to undo the last changes.\n * /!\\ This mutates the serializableObject and there could be objects owned by it\n * deleted or becoming invalid. Be sure to drop/refresh any reference to them.\n *\n * @param {*} history\n * @param {*} serializableObject\n */\nexport const redo = (\n  history: HistoryState,\n  serializableObject: gdSerializable,\n  project: ?gdProject = undefined\n): HistoryState => {\n  if (!history.redoHistory.length) {\n    return history;\n  }\n\n  const newCurrent = history.redoHistory[history.redoHistory.length - 1];\n  unserializeFromJSObject(\n    serializableObject,\n    newCurrent,\n    'unserializeFrom',\n    project\n  );\n\n  return {\n    undoHistory: [...history.undoHistory, history.current],\n    current: newCurrent,\n    redoHistory: history.redoHistory.slice(0, -1),\n    maxSize: history.maxSize,\n  };\n};\n","import React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\n\nconst styles = {\n  root: {\n    width: 'auto',\n    marginRight: 16,\n  },\n  label: {\n    width: 'auto',\n  },\n};\n\n/**\n * A checkbox based on Material-UI Checkbox, but that can be displayed\n * without having it taking the full width of its container.\n */\nexport default props => (\n  <Checkbox style={styles.root} labelStyle={styles.label} {...props} />\n);\n","// @flow\nimport { unserializeFromJSObject } from '../../Utils/Serializer';\nimport { mapVector } from '../../Utils/MapFor';\nimport { getEventsFunctionType } from '../../EventsFunctionsExtensionsLoader';\nimport getObjectGroupByName from '../../Utils/GetObjectGroupByName';\nconst gd = global.gd;\n\n/**\n * Set up an events function with the given serialized events,\n * so that the function contains these events, expecting the objects\n * as parameters.\n */\nexport const setupFunctionFromEvents = ({\n  globalObjectsContainer,\n  objectsContainer,\n  serializedEvents,\n  project,\n  eventsFunction,\n}: {\n  project: gdProject,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  serializedEvents: Object,\n  eventsFunction: gdEventsFunction,\n}) => {\n  // Set up the function\n  eventsFunction.setName('MyFunction');\n  eventsFunction.setFunctionType(gd.EventsFunction.Action);\n  unserializeFromJSObject(\n    eventsFunction.getEvents(),\n    serializedEvents,\n    'unserializeFrom',\n    project\n  );\n\n  // Analyze events...\n  const eventsContextAnalyzer = new gd.EventsContextAnalyzer(\n    gd.JsPlatform.get(),\n    globalObjectsContainer,\n    objectsContainer\n  );\n  eventsContextAnalyzer.launch(eventsFunction.getEvents());\n  const eventsContext = eventsContextAnalyzer.getEventsContext();\n\n  // ...to extract objects and groups\n  const objectOrGroupNames: Array<string> = eventsContext\n    .getReferencedObjectOrGroupNames()\n    .toNewVectorString()\n    .toJSArray();\n  const objectNames: Array<string> = eventsContext\n    .getObjectNames()\n    .toNewVectorString()\n    .toJSArray();\n  const groups: Array<gdObjectGroup> = objectOrGroupNames\n    // Filter to only keep groups\n    .filter(\n      (objectOrGroupName: string) =>\n        objectNames.indexOf(objectOrGroupName) === -1\n    )\n    .map(groupName =>\n      getObjectGroupByName(globalObjectsContainer, objectsContainer, groupName)\n    )\n    .filter(Boolean);\n\n  // Compute what the parameters should be:\n  // 1) The groups, but only the ones that have no object directly referenced.\n  const parameterGroups: Array<gdObjectGroup> = groups.filter(group => {\n    return !objectOrGroupNames.some(referencedObjectOrGroupName =>\n      group.find(referencedObjectOrGroupName)\n    );\n  });\n  const parameterGroupNames: Array<string> = parameterGroups.map(group =>\n    group.getName()\n  );\n\n  // 2) The objects, but only the ones that are already in the groups in parameters\n  const parameterObjectNames: Array<string> = objectNames.filter(objectName => {\n    return !parameterGroups.some(group => group.find(objectName));\n  });\n\n  // Create parameters for these objects (or these groups without any object directly referenced)\n  const parameters = eventsFunction.getParameters();\n  parameters.clear();\n  [...parameterGroupNames, ...parameterObjectNames].forEach(objectName => {\n    const newParameter = new gd.ParameterMetadata();\n    newParameter.setType('objectList');\n    newParameter.setName(objectName);\n    newParameter.setExtraInfo(\n      gd.getTypeOfObject(\n        globalObjectsContainer,\n        objectsContainer,\n        objectName,\n        true\n      )\n    );\n    parameters.push_back(newParameter);\n\n    const behaviorNames: Array<string> = eventsContext\n      .getBehaviorNamesOfObjectOrGroup(objectName)\n      .toNewVectorString()\n      .toJSArray();\n\n    behaviorNames.forEach(behaviorName => {\n      const newParameter = new gd.ParameterMetadata();\n      newParameter.setType('behavior');\n      newParameter.setName(behaviorName);\n      newParameter.setExtraInfo(\n        gd.getTypeOfBehavior(\n          globalObjectsContainer,\n          objectsContainer,\n          behaviorName\n        )\n      );\n      parameters.push_back(newParameter);\n    });\n  });\n\n  // Import groups that are used in events, but are not in parameters,\n  // inside the events function groups.\n  groups\n    .filter(group => !parameterGroupNames.includes(group.getName()))\n    .forEach(group => {\n      if (group) {\n        eventsFunction.getObjectGroups().insert(group, 0);\n      }\n    });\n\n  eventsContextAnalyzer.delete();\n};\n\n/**\n * Create an instruction to call the given events function\n */\nexport const createNewInstructionForEventsFunction = (\n  extensionName: string,\n  eventsFunction: gdEventsFunction\n): gdInstruction => {\n  const action = new gd.Instruction(); //Add a simple action\n  const runtimeSceneParameterCount = 1; // By convention, first parameter is always the Runtime Scene.\n  const contextParameterCount = 1; // By convention, latest parameter is always the eventsFunctionContext of the calling function (if any).\n\n  action.setType(getEventsFunctionType(extensionName, eventsFunction));\n  action.setParametersCount(\n    eventsFunction.getParameters().size() +\n      runtimeSceneParameterCount +\n      contextParameterCount\n  );\n\n  mapVector(eventsFunction.getParameters(), (parameterMetadata, index) => {\n    action.setParameter(\n      runtimeSceneParameterCount + index,\n      parameterMetadata.getName()\n    );\n  });\n\n  return action;\n};\n\n/**\n * Validate that a function name is valid.\n */\nexport const validateEventsFunctionName = (functionName: string) => {\n  return gd.Project.validateObjectName(functionName);\n};\n\n/**\n * Validate that an events functions extension name is valid.\n */\nexport const validateExtensionName = (extensionName: string) => {\n  return gd.Project.validateObjectName(extensionName);\n};\n\n/**\n * Validate that an events functions extension name is unique in a project.\n */\nexport const validateExtensionNameUniqueness = (\n  project: gdProject,\n  extensionName: string\n) => {\n  return !project.hasEventsFunctionsExtensionNamed(extensionName);\n};\n\n/**\n * Validate that an events function name is unique in a project extension.\n */\nexport const validateEventsFunctionNameUniqueness = (\n  project: gdProject,\n  extensionName: string,\n  eventsFunction: gdEventsFunction\n) => {\n  if (project.hasEventsFunctionsExtensionNamed(extensionName)) {\n    const eventsFunctionsExtension = project.getEventsFunctionsExtension(\n      extensionName\n    );\n\n    return !eventsFunctionsExtension.hasEventsFunctionNamed(\n      eventsFunction.getName()\n    );\n  }\n\n  return true;\n};\n\n/**\n * Return true if the events function can be added to the given extension\n * without any conflict/invalid name.\n */\nexport const canCreateEventsFunction = (\n  project: gdProject,\n  extensionName: string,\n  eventsFunction: gdEventsFunction\n) => {\n  return (\n    extensionName !== '' &&\n    validateExtensionName(extensionName) &&\n    eventsFunction.getName() !== '' &&\n    validateEventsFunctionName(eventsFunction.getName()) &&\n    validateEventsFunctionNameUniqueness(\n      project,\n      extensionName,\n      eventsFunction\n    ) &&\n    eventsFunction.getFullName() !== '' &&\n    eventsFunction.getSentence() !== ''\n  );\n};\n\n/**\n * Return true if the function is considered to have more parameters than usual.\n */\nexport const functionHasLotsOfParameters = (\n  eventsFunction: gdEventsFunction\n) => {\n  return eventsFunction.getParameters().size() > 7;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport { Column, Line, Spacer } from '../../UI/Grid';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { mapVector } from '../../Utils/MapFor';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport IconButton from 'material-ui/IconButton';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport IconMenu from '../../UI/Menu/IconMenu';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport {\n  enumerateObjectTypes,\n  type EnumeratedObjectMetadata,\n} from '../../ObjectsList/EnumerateObjects';\nimport HelpButton from '../../UI/HelpButton';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport MiniToolbar, { MiniToolbarText } from '../../UI/MiniToolbar';\nimport { showWarningBox } from '../../UI/Messages/MessageBox';\nimport {\n  type EnumeratedBehaviorMetadata,\n  enumerateBehaviorsMetadata,\n} from '../../BehaviorsEditor/EnumerateBehaviorsMetadata';\n\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  eventsFunction: gdEventsFunction,\n  onParametersUpdated: () => void,\n  helpPagePath?: string,\n  freezeParameters?: boolean,\n|};\n\ntype State = {|\n  objectMetadata: Array<EnumeratedObjectMetadata>,\n  behaviorMetadata: Array<EnumeratedBehaviorMetadata>,\n|};\n\nconst styles = {\n  parametersContainer: {\n    flex: 1,\n  },\n};\n\nconst validateParameterName = (i18n: I18nType, newName: string) => {\n  if (!gd.Project.validateObjectName(newName)) {\n    showWarningBox(\n      i18n._(\n        t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your parameter name.`\n      )\n    );\n    return false;\n  }\n\n  return true;\n};\n\nexport default class EventsFunctionParametersEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    objectMetadata: enumerateObjectTypes(this.props.project),\n    behaviorMetadata: enumerateBehaviorsMetadata(\n      this.props.project.getCurrentPlatform(),\n      this.props.project\n    ),\n  };\n\n  _addParameter = () => {\n    const { eventsFunction } = this.props;\n    const parameters = eventsFunction.getParameters();\n\n    const newParameter = new gd.ParameterMetadata();\n    newParameter.setType('objectList');\n    parameters.push_back(newParameter);\n    newParameter.delete();\n    this.forceUpdate();\n    this.props.onParametersUpdated();\n  };\n\n  _removeParameter = (index: number) => {\n    const { eventsFunction } = this.props;\n    const parameters = eventsFunction.getParameters();\n\n    gd.removeFromVectorParameterMetadata(parameters, index);\n    this.forceUpdate();\n    this.props.onParametersUpdated();\n  };\n\n  render() {\n    const { objectMetadata, behaviorMetadata } = this.state;\n    const { eventsFunction, freezeParameters, helpPagePath } = this.props;\n\n    const parameters = eventsFunction.getParameters();\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Column noMargin>\n            <Line noMargin>\n              <div style={styles.parametersContainer}>\n                {mapVector(\n                  parameters,\n                  (parameter: gdParameterMetadata, i: number) => (\n                    <React.Fragment key={i}>\n                      <MiniToolbar>\n                        <MiniToolbarText>\n                          <Trans>Parameter #{i + 1}:</Trans>\n                        </MiniToolbarText>\n                        <Column expand noMargin>\n                          <SemiControlledTextField\n                            commitOnBlur\n                            hintText={<Trans>Enter the parameter name</Trans>}\n                            value={parameter.getName()}\n                            onChange={text => {\n                              if (!validateParameterName(i18n, text)) return;\n\n                              parameter.setName(text);\n                              this.forceUpdate();\n                              this.props.onParametersUpdated();\n                            }}\n                            disabled={!!freezeParameters}\n                          />\n                        </Column>\n                        <IconMenu\n                          iconButtonElement={\n                            <IconButton>\n                              <MoreVertIcon />\n                            </IconButton>\n                          }\n                          buildMenuTemplate={() => [\n                            {\n                              label: i18n._(t`Delete`),\n                              enabled: !freezeParameters,\n                              click: () => this._removeParameter(i),\n                            },\n                          ]}\n                        />\n                      </MiniToolbar>\n                      <Line expand noMargin>\n                        <Column expand>\n                          <SelectField\n                            floatingLabelText={<Trans>Type</Trans>}\n                            value={parameter.getType()}\n                            onChange={(e, i, value) => {\n                              parameter.setType(value);\n                              this.forceUpdate();\n                              this.props.onParametersUpdated();\n                            }}\n                            disabled={!!freezeParameters}\n                            fullWidth\n                          >\n                            <MenuItem\n                              value=\"objectList\"\n                              primaryText={<Trans>Objects</Trans>}\n                            />\n                            <MenuItem\n                              value=\"behavior\"\n                              primaryText={\n                                <Trans>\n                                  Behavior (for the previous object)\n                                </Trans>\n                              }\n                            />\n                            <MenuItem\n                              value=\"expression\"\n                              primaryText={<Trans>Number</Trans>}\n                            />\n                            <MenuItem\n                              value=\"string\"\n                              primaryText={<Trans>String (text)</Trans>}\n                            />\n                            <MenuItem\n                              value=\"key\"\n                              primaryText={<Trans>Keyboard Key (text)</Trans>}\n                            />\n                            <MenuItem\n                              value=\"mouse\"\n                              primaryText={<Trans>Mouse button (text)</Trans>}\n                            />\n                          </SelectField>\n                        </Column>\n                        {parameter.getType() === 'objectList' && (\n                          <Column expand>\n                            <SelectField\n                              floatingLabelText={<Trans>Object type</Trans>}\n                              floatingLabelFixed\n                              value={parameter.getExtraInfo()}\n                              onChange={(e, i, value) => {\n                                parameter.setExtraInfo(value);\n                                this.forceUpdate();\n                                this.props.onParametersUpdated();\n                              }}\n                              disabled={!!freezeParameters}\n                              fullWidth\n                            >\n                              <MenuItem\n                                value=\"\"\n                                primaryText={<Trans>Any object</Trans>}\n                              />\n                              {objectMetadata.map(\n                                (metadata: EnumeratedObjectMetadata) => {\n                                  if (metadata.name === '') {\n                                    // Base object is an \"abstract\" object\n                                    return null;\n                                  }\n\n                                  return (\n                                    <MenuItem\n                                      key={metadata.name}\n                                      value={metadata.name}\n                                      primaryText={metadata.fullName}\n                                    />\n                                  );\n                                }\n                              )}\n                            </SelectField>\n                          </Column>\n                        )}\n                        {parameter.getType() === 'behavior' && (\n                          <Column expand>\n                            <SelectField\n                              floatingLabelText={<Trans>Behavior type</Trans>}\n                              floatingLabelFixed\n                              value={parameter.getExtraInfo()}\n                              onChange={(e, i, value) => {\n                                parameter.setExtraInfo(value);\n                                this.forceUpdate();\n                                this.props.onParametersUpdated();\n                              }}\n                              disabled={!!freezeParameters}\n                              fullWidth\n                            >\n                              {behaviorMetadata.map(\n                                (metadata: EnumeratedBehaviorMetadata) => (\n                                  <MenuItem\n                                    key={metadata.type}\n                                    value={metadata.type}\n                                    primaryText={metadata.fullName}\n                                  />\n                                )\n                              )}\n                            </SelectField>\n                          </Column>\n                        )}\n                      </Line>\n                      <Line expand noMargin>\n                        <Column expand>\n                          <SemiControlledTextField\n                            commitOnBlur\n                            floatingLabelText={<Trans>Description</Trans>}\n                            floatingLabelFixed\n                            value={parameter.getDescription()}\n                            onChange={text => {\n                              parameter.setDescription(text);\n                              this.forceUpdate();\n                            }}\n                            fullWidth\n                          />\n                        </Column>\n                      </Line>\n                    </React.Fragment>\n                  )\n                )}\n                {parameters.size() === 0 ? (\n                  <EmptyMessage>\n                    <Trans>No parameters for this function.</Trans>\n                  </EmptyMessage>\n                ) : null}\n                <Line justifyContent=\"center\">\n                  {!freezeParameters && (\n                    <RaisedButton\n                      primary\n                      label={<Trans>Add a parameter</Trans>}\n                      onClick={this._addParameter}\n                    />\n                  )}\n                </Line>\n              </div>\n            </Line>\n            {helpPagePath ? (\n              <Line>\n                <HelpButton helpPagePath={helpPagePath} />\n              </Line>\n            ) : (\n              <Spacer />\n            )}\n          </Column>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport { mapFor } from '../Utils/MapFor';\nimport flatten from 'lodash/flatten';\n\nexport type EnumeratedBehaviorMetadata = {|\n  extension: gdPlatformExtension,\n  behaviorMetadata: gdBehaviorMetadata,\n  type: string,\n  defaultName: string,\n  fullName: string,\n  description: string,\n  iconFilename: string,\n|};\n\nexport const enumerateBehaviorsMetadata = (\n  platform: gdPlatform,\n  project: gdProject\n): Array<EnumeratedBehaviorMetadata> => {\n  const extensionsList = platform.getAllPlatformExtensions();\n\n  return flatten(\n    mapFor(0, extensionsList.size(), i => {\n      const extension = extensionsList.at(i);\n\n      return extension\n        .getBehaviorsTypes()\n        .toJSArray()\n        .map(behaviorType => ({\n          behaviorType,\n          behaviorMetadata: extension.getBehaviorMetadata(behaviorType),\n        }))\n        .map(({ behaviorType, behaviorMetadata }) => ({\n          extension,\n          behaviorMetadata,\n          type: behaviorType,\n          defaultName: behaviorMetadata.getDefaultName(),\n          fullName: behaviorMetadata.getFullName(),\n          description: behaviorMetadata.getDescription(),\n          iconFilename: behaviorMetadata.getIconFilename(),\n        }));\n    })\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport { Column, Line, Spacer } from '../../UI/Grid';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { mapVector } from '../../Utils/MapFor';\nimport HelpButton from '../../UI/HelpButton';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\n\nconst gd = global.gd;\n\ntype Props = {|\n  eventsFunction: gdEventsFunction,\n  helpPagePath?: string,\n  onConfigurationUpdated?: () => void,\n  renderConfigurationHeader?: () => React.Node,\n  freezeEventsFunctionType?: boolean,\n|};\n\ntype State = {||};\n\nconst styles = {\n  icon: {\n    width: 32,\n    height: 32,\n    marginRight: 8,\n  },\n};\n\nconst getSentenceErrorText = (\n  i18n: I18nType,\n  eventsFunction: gdEventsFunction\n) => {\n  const sentence = eventsFunction.getSentence();\n  if (!sentence)\n    return i18n._(\n      t`Enter the sentence that will be displayed in the events sheet`\n    );\n\n  const missingParameters = mapVector(\n    eventsFunction.getParameters(),\n    (parameter, index) => {\n      if (gd.ParameterMetadata.isBehavior(parameter.getType())) {\n        return null; // Behaviors are usually not shown in sentences.\n      }\n\n      const expectedString = `_PARAM${index + 1}_`;\n      if (sentence.indexOf(expectedString) === -1) return expectedString;\n\n      return null;\n    }\n  ).filter(Boolean);\n\n  if (missingParameters.length) {\n    return (\n      i18n._(t`The sentence is probably missing this/these parameter(s):`) +\n      missingParameters.join(', ')\n    );\n  }\n\n  return undefined;\n};\n\nexport default class EventsFunctionPropertiesEditor extends React.Component<\n  Props,\n  State\n> {\n  render() {\n    const {\n      eventsFunction,\n      freezeEventsFunctionType,\n      onConfigurationUpdated,\n      helpPagePath,\n      renderConfigurationHeader,\n    } = this.props;\n\n    const type = eventsFunction.getFunctionType();\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Column>\n            {renderConfigurationHeader ? renderConfigurationHeader() : null}\n            <Line alignItems=\"center\">\n              <img src=\"res/function32.png\" alt=\"\" style={styles.icon} />\n              <Column expand>\n                <SelectField\n                  value={type}\n                  fullWidth\n                  disabled={!!freezeEventsFunctionType}\n                  onChange={(e, i, value) => {\n                    eventsFunction.setFunctionType(value);\n                    if (onConfigurationUpdated) onConfigurationUpdated();\n                    this.forceUpdate();\n                  }}\n                >\n                  <MenuItem\n                    value={gd.EventsFunction.Action}\n                    primaryText={<Trans>Action</Trans>}\n                  />\n                  <MenuItem\n                    value={gd.EventsFunction.Condition}\n                    primaryText={<Trans>Condition</Trans>}\n                  />\n                  <MenuItem\n                    value={gd.EventsFunction.Expression}\n                    primaryText={<Trans>Expression</Trans>}\n                  />\n                  <MenuItem\n                    value={gd.EventsFunction.StringExpression}\n                    primaryText={<Trans>String Expression</Trans>}\n                  />\n                </SelectField>\n              </Column>\n              <Column expand>\n                <SemiControlledTextField\n                  commitOnBlur\n                  hintText={<Trans>Full name displayed in editor</Trans>}\n                  value={eventsFunction.getFullName()}\n                  onChange={text => {\n                    eventsFunction.setFullName(text);\n                    if (onConfigurationUpdated) onConfigurationUpdated();\n                    this.forceUpdate();\n                  }}\n                  fullWidth\n                />\n              </Column>\n            </Line>\n            <Line noMargin>\n              <SemiControlledTextField\n                commitOnBlur\n                hintText={<Trans>Description, displayed in editor</Trans>}\n                fullWidth\n                multiLine\n                value={eventsFunction.getDescription()}\n                onChange={text => {\n                  eventsFunction.setDescription(text);\n                  if (onConfigurationUpdated) onConfigurationUpdated();\n                  this.forceUpdate();\n                }}\n              />\n            </Line>\n            <Line>\n              {type === gd.EventsFunction.Action ||\n              type === gd.EventsFunction.Condition ? (\n                <SemiControlledTextField\n                  commitOnBlur\n                  hintText={\n                    <Trans>\n                      Sentence in Events Sheet (write _PARAMx_ for parameters,\n                      e.g: _PARAM1_)\n                    </Trans>\n                  }\n                  fullWidth\n                  value={eventsFunction.getSentence()}\n                  onChange={text => {\n                    eventsFunction.setSentence(text);\n                    if (onConfigurationUpdated) onConfigurationUpdated();\n                    this.forceUpdate();\n                  }}\n                  errorText={getSentenceErrorText(i18n, eventsFunction)}\n                />\n              ) : null}\n            </Line>\n            {helpPagePath ? (\n              <Line>\n                <HelpButton helpPagePath={helpPagePath} />\n              </Line>\n            ) : (\n              <Spacer />\n            )}\n          </Column>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport EventsFunctionsExtensionEditor from '../../EventsFunctionsExtensionEditor';\nimport BaseEditor from './BaseEditor';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n  },\n};\n\nexport default class EventsFunctionsExtensionEditorWrapper extends BaseEditor {\n  editor: ?EventsFunctionsExtensionEditor;\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  shouldComponentUpdate(nextProps: *) {\n    // This optimization is a bit more cautious than the one is BaseEditor,\n    // to still be notified when isActive goes from true to false.\n    if (!this.props.isActive && !nextProps.isActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  componentDidUpdate(prevProps: *) {\n    if (prevProps.isActive && !this.props.isActive) {\n      this.props.onReloadEventsFunctionsExtensions();\n    }\n  }\n\n  getEventsFunctionsExtension(): ?gdEventsFunctionsExtension {\n    const { project, eventsFunctionsExtensionName } = this.props;\n    if (\n      !project.hasEventsFunctionsExtensionNamed(eventsFunctionsExtensionName)\n    ) {\n      return null;\n    }\n    return project.getEventsFunctionsExtension(eventsFunctionsExtensionName);\n  }\n\n  selectEventsFunctionByName(eventsFunctionName: string) {\n    if (this.editor) this.editor.selectEventsFunctionByName(eventsFunctionName);\n  }\n\n  render() {\n    const { project, eventsFunctionsExtensionName } = this.props;\n    const eventsFunctionsExtension = this.getEventsFunctionsExtension();\n\n    if (!eventsFunctionsExtension) {\n      //TODO: Error component\n      return (\n        <div>No extension called {eventsFunctionsExtensionName} found!</div>\n      );\n    }\n\n    return (\n      <div style={styles.container}>\n        <EventsFunctionsExtensionEditor\n          key={eventsFunctionsExtension.ptr}\n          project={project}\n          eventsFunctionsExtension={eventsFunctionsExtension}\n          setToolbar={this.props.setToolbar}\n          resourceSources={this.props.resourceSources}\n          onChooseResource={this.props.onChooseResource}\n          resourceExternalEditors={this.props.resourceExternalEditors}\n          openInstructionOrExpression={this.props.openInstructionOrExpression}\n          onCreateEventsFunction={this.props.onCreateEventsFunction}\n          initiallyFocusedFunctionName={this.props.initiallyFocusedFunctionName}\n          ref={editor => (this.editor = editor)}\n        />\n      </div>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport ObjectGroupEditor from '.';\nimport Dialog from '../UI/Dialog';\nimport { withSerializableObject } from '../Utils/SerializableObjectEditorContainer';\nconst gd = global.gd;\n\nexport class ObjectGroupEditorDialog extends Component {\n  render() {\n    const { group } = this.props;\n    if (!group) return null;\n\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        keyboardFocused\n        onClick={this.props.onCancel}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary\n        keyboardFocused\n        onClick={this.props.onApply}\n      />,\n    ];\n\n    return (\n      <Dialog\n        key={group.ptr}\n        actions={actions}\n        autoScrollBodyContent\n        noMargin\n        modal\n        onRequestClose={this.props.onCancel}\n        open={this.props.open}\n        title={`Edit ${group.getName()} group`}\n      >\n        <ObjectGroupEditor\n          group={group}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n          onSizeUpdated={\n            () =>\n              this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n          }\n        />\n      </Dialog>\n    );\n  }\n}\n\nexport default withSerializableObject(ObjectGroupEditorDialog, {\n  newObjectCreator: () => new gd.ObjectGroup(),\n  propName: 'group',\n});\n","import { Trans } from '@lingui/macro';\nimport React from 'react';\nimport EventsSheet from '../../EventsSheet';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { serializeToJSObject } from '../../Utils/Serializer';\nimport PlaceholderMessage from '../../UI/PlaceholderMessage';\nimport BaseEditor from './BaseEditor';\nimport LayoutChooserDialog from './LayoutChooserDialog';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n  },\n};\n\nexport default class ExternalEventsEditor extends BaseEditor {\n  constructor(props) {\n    super(props);\n    this.state = {\n      layoutChooserOpen: false,\n    };\n  }\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  getSerializedElements() {\n    const externalEvents = this.getExternalEvents();\n    const layout = this.getLayout();\n\n    return {\n      ...BaseEditor.getLayoutSerializedElements(layout),\n      events: serializeToJSObject(externalEvents),\n      uiSettings: this.editor.getUiSettings(),\n    };\n  }\n\n  getExternalEvents() {\n    const { project, externalEventsName } = this.props;\n    if (!project.hasExternalEventsNamed(externalEventsName)) {\n      return null;\n    }\n    return project.getExternalEvents(externalEventsName);\n  }\n\n  getLayout() {\n    const { project } = this.props;\n\n    const externalEvents = this.getExternalEvents();\n    if (!externalEvents) return null;\n\n    const layoutName = externalEvents.getAssociatedLayout();\n    if (!project.hasLayoutNamed(layoutName)) {\n      return null;\n    }\n    return project.getLayout(layoutName);\n  }\n\n  setAssociatedLayout = layoutName => {\n    const externalEvents = this.getExternalEvents();\n    if (!externalEvents) return;\n\n    externalEvents.setAssociatedLayout(layoutName);\n    this.setState(\n      {\n        layoutChooserOpen: false,\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openLayoutChooser = () => {\n    this.setState({\n      layoutChooserOpen: true,\n    });\n  };\n\n  render() {\n    const { project, externalEventsName } = this.props;\n    const externalEvents = this.getExternalEvents();\n    const layout = this.getLayout();\n\n    if (!externalEvents) {\n      //TODO: Error component\n      return <div>No external events called {externalEventsName} found!</div>;\n    }\n\n    return (\n      <div style={styles.container}>\n        {layout && (\n          <EventsSheet\n            {...this.props}\n            ref={editor => (this.editor = editor)}\n            project={project}\n            layout={layout}\n            globalObjectsContainer={project}\n            objectsContainer={layout}\n            events={externalEvents.getEvents()}\n            onPreview={() => this.props.onPreview(project, layout)}\n            onOpenSettings={this.openLayoutChooser}\n            onOpenExternalEvents={this.props.onOpenExternalEvents}\n            resourceSources={this.props.resourceSources}\n            onChooseResource={this.props.onChooseResource}\n            resourceExternalEditors={this.props.resourceExternalEditors}\n            openInstructionOrExpression={this.props.openInstructionOrExpression}\n          />\n        )}\n        {!layout && (\n          <PlaceholderMessage>\n            To edit the external events, choose the scene in which it will be\n            included:\n            <RaisedButton\n              label={<Trans>Choose the scene</Trans>}\n              primary\n              onClick={this.openLayoutChooser}\n            />\n          </PlaceholderMessage>\n        )}\n        <LayoutChooserDialog\n          title={<Trans>Choose the associated scene</Trans>}\n          helpText=\"You still need to add a Link event in the scene to import the external events\"\n          open={this.state.layoutChooserOpen}\n          project={project}\n          onChoose={this.setAssociatedLayout}\n          onClose={() => this.setState({ layoutChooserOpen: false })}\n        />\n      </div>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport { RadioButton, RadioButtonGroup } from 'material-ui/RadioButton';\nimport Dialog from '../../UI/Dialog';\nimport { mapFor } from '../../Utils/MapFor';\n\nexport default class LayoutChooserDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedLayoutName: props.layoutName,\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.layoutName !== this.props.layoutName) {\n      this.setState({\n        selectedLayoutName: newProps.layoutName,\n      });\n    }\n  }\n\n  chooseLayout(layoutName) {\n    this.setState({\n      selectedLayoutName: layoutName,\n    });\n  }\n\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={this.props.onClose}\n      />,\n      <FlatButton\n        label={<Trans>Choose</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={() => this.props.onChoose(this.state.selectedLayoutName)}\n        disabled={!this.state.selectedLayoutName}\n      />,\n    ];\n\n    const { project } = this.props;\n    const { selectedLayoutName } = this.state;\n    const layoutNames = mapFor(0, project.getLayoutsCount(), i => {\n      return project.getLayoutAt(i).getName();\n    });\n\n    return (\n      <Dialog\n        actions={actions}\n        open={this.props.open}\n        title={this.props.title}\n        onRequestClose={this.props.onClose}\n        autoScrollBodyContent={true}\n        contentStyle={{ width: '350px' }}\n      >\n        {this.props.helpText && <p>{this.props.helpText}</p>}\n        <RadioButtonGroup\n          name=\"associated-layout\"\n          valueSelected={selectedLayoutName}\n          onChange={(e, layoutName) => this.chooseLayout(layoutName)}\n        >\n          {layoutNames.map(name => (\n            <RadioButton value={name} label={name} key={name} />\n          ))}\n        </RadioButtonGroup>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport SceneEditor from '../../SceneEditor';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../../Utils/Serializer';\nimport PlaceholderMessage from '../../UI/PlaceholderMessage';\nimport BaseEditor from './BaseEditor';\nimport LayoutChooserDialog from './LayoutChooserDialog';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n  },\n};\n\nexport default class ExternalLayoutEditor extends BaseEditor {\n  editor: ?SceneEditor;\n  state = {\n    layoutChooserOpen: false,\n  };\n\n  shouldComponentUpdate(nextProps: *) {\n    // This optimization is a bit more cautious than the one is BaseEditor, to still allow\n    // children, and in particular SceneEditor and InstancesEditor, to be notified when isActive\n    // goes from true to false (in which case PIXI rendering is halted). If isActive was false\n    // and remains false, it's safe to stop update here (PIXI rendering is already halted).\n    if (!this.props.isActive && !nextProps.isActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  getSerializedElements() {\n    const externalLayout = this.getExternalLayout();\n    const layout = this.getLayout();\n    if (!externalLayout || !layout) return {};\n\n    return {\n      ...BaseEditor.getLayoutSerializedElements(layout),\n      instances: serializeToJSObject(externalLayout.getInitialInstances()),\n      uiSettings: this.editor ? this.editor.getUiSettings() : {},\n    };\n  }\n\n  getExternalLayout(): ?gdExternalLayout {\n    const { project, externalLayoutName } = this.props;\n    if (!project.hasExternalLayoutNamed(externalLayoutName)) {\n      return null;\n    }\n    return project.getExternalLayout(externalLayoutName);\n  }\n\n  getLayout(): ?gdLayout {\n    const { project } = this.props;\n\n    const externalLayout = this.getExternalLayout();\n    if (!externalLayout) return null;\n\n    const layoutName = externalLayout.getAssociatedLayout();\n    if (!project.hasLayoutNamed(layoutName)) {\n      return null;\n    }\n    return project.getLayout(layoutName);\n  }\n\n  setAssociatedLayout = (layoutName: string) => {\n    const externalLayout = this.getExternalLayout();\n    if (!externalLayout) return;\n\n    externalLayout.setAssociatedLayout(layoutName);\n    this.setState(\n      {\n        layoutChooserOpen: false,\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openLayoutChooser = () => {\n    this.setState({\n      layoutChooserOpen: true,\n    });\n  };\n\n  saveUiSettings = () => {\n    const layout = this.getExternalLayout();\n    const editor = this.editor;\n\n    if (editor && layout) {\n      unserializeFromJSObject(\n        layout.getAssociatedSettings(),\n        editor.getUiSettings()\n      );\n    }\n  };\n\n  render() {\n    const { project, externalLayoutName, isActive } = this.props;\n    const externalLayout = this.getExternalLayout();\n    const layout = this.getLayout();\n\n    if (!externalLayout) {\n      //TODO: Error component\n      return <div>No external layout called {externalLayoutName} found!</div>;\n    }\n\n    return (\n      <div style={styles.container}>\n        {layout && (\n          <SceneEditor\n            {...this.props}\n            ref={editor => (this.editor = editor)}\n            project={project}\n            layout={layout}\n            initialInstances={externalLayout.getInitialInstances()}\n            initialUiSettings={serializeToJSObject(\n              externalLayout.getAssociatedSettings()\n            )}\n            onPreview={options =>\n              this.props.onPreview(project, layout, externalLayout, options)\n            }\n            onOpenDebugger={this.props.onOpenDebugger}\n            onOpenMoreSettings={this.openLayoutChooser}\n            isActive={isActive}\n          />\n        )}\n        {!layout && (\n          <PlaceholderMessage>\n            To edit the external layout, choose the scene in which it will be\n            included:\n            <RaisedButton\n              label={<Trans>Choose the scene</Trans>}\n              primary\n              onClick={this.openLayoutChooser}\n            />\n          </PlaceholderMessage>\n        )}\n        <LayoutChooserDialog\n          title={<Trans>Choose the associated scene</Trans>}\n          open={this.state.layoutChooserOpen}\n          project={project}\n          onChoose={this.setAssociatedLayout}\n          onClose={() => this.setState({ layoutChooserOpen: false })}\n        />\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport uniq from 'lodash/uniq';\nimport ObjectsList from '../ObjectsList';\nimport ObjectGroupsList from '../ObjectGroupsList';\nimport ObjectsRenderingService from '../ObjectsRendering/ObjectsRenderingService';\nimport InstancesEditor from '../InstancesEditor';\nimport InstancePropertiesEditor from '../InstancesEditor/InstancePropertiesEditor';\nimport InstancesList from '../InstancesEditor/InstancesList';\nimport LayersList from '../LayersList';\nimport LayerRemoveDialog from '../LayersList/LayerRemoveDialog';\nimport VariablesEditorDialog from '../VariablesList/VariablesEditorDialog';\nimport ObjectEditorDialog from '../ObjectEditor/ObjectEditorDialog';\nimport ObjectGroupEditorDialog from '../ObjectGroupEditor/ObjectGroupEditorDialog';\nimport InstancesSelection from './InstancesSelection';\nimport SetupGridDialog from './SetupGridDialog';\nimport ScenePropertiesDialog from './ScenePropertiesDialog';\nimport Toolbar from './Toolbar';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport Clipboard from '../Utils/Clipboard';\nimport { passFullSize } from '../UI/FullSizeMeasurer';\nimport { addScrollbars } from '../InstancesEditor/ScrollbarContainer';\nimport { type PreviewOptions } from '../Export/PreviewLauncher.flow';\nimport Drawer from 'material-ui/Drawer';\nimport IconButton from 'material-ui/IconButton';\nimport NavigationClose from 'material-ui/svg-icons/navigation/close';\nimport EditorMosaic, { MosaicWindow } from '../UI/EditorMosaic';\nimport EditorBar from '../UI/EditorBar';\nimport InfoBar from '../UI/Messages/InfoBar';\nimport ContextMenu from '../UI/Menu/ContextMenu';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { shortenString } from '../Utils/StringHelpers';\nimport { roundPosition } from '../Utils/GridHelpers';\nimport getObjectByName from '../Utils/GetObjectByName';\n\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport {\n  type HistoryState,\n  undo,\n  redo,\n  canUndo,\n  canRedo,\n  getHistoryInitialState,\n  saveToHistory,\n} from '../Utils/History';\nimport PixiResourcesLoader from '../ObjectsRendering/PixiResourcesLoader';\nimport {\n  type ObjectWithContext,\n  type GroupWithContext,\n} from '../ObjectsList/EnumerateObjects';\nconst gd = global.gd;\n\nconst INSTANCES_CLIPBOARD_KIND = 'Instances';\n\nconst FullSizeInstancesEditor = passFullSize(addScrollbars(InstancesEditor), {\n  useFlex: true,\n});\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n};\n\ntype Props = {|\n  initialInstances: gdInitialInstancesContainer,\n  initialUiSettings: Object,\n  layout: gdLayout,\n  onEditObject: (object: gdObject) => void,\n  onOpenDebugger: () => void,\n  onOpenMoreSettings: () => void,\n  onPreview: (options: PreviewOptions) => void,\n  project: gdProject,\n  setToolbar: (?React.Node) => void,\n  showNetworkPreviewButton: boolean,\n  showObjectsList: boolean,\n  showPreviewButton: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  isActive: boolean,\n|};\n\ntype State = {|\n  objectsListOpen: boolean,\n  instancesListOpen: boolean,\n  setupGridOpen: boolean,\n  scenePropertiesDialogOpen: boolean,\n  layersListOpen: boolean,\n  layerRemoveDialogOpen: boolean,\n  onCloseLayerRemoveDialog: ?(doRemove: boolean, newLayer: string) => void,\n  layerRemoved: ?string,\n  editedObjectWithContext: ?ObjectWithContext,\n  variablesEditedInstance: ?gdInitialInstance,\n  variablesEditedObject: ?gdObject,\n  selectedObjectNames: Array<string>,\n\n  editedGroup: ?gdObjectGroup,\n\n  // State for \"drag'n'dropping\" from the objects list to the instances editor:\n  objectDraggedFromList: ?gdObject,\n  canDropDraggedObject: boolean,\n\n  uiSettings: Object,\n  history: HistoryState,\n\n  showObjectsListInfoBar: boolean,\n  layoutVariablesDialogOpen: boolean,\n  showPropertiesInfoBar: boolean,\n|};\n\ntype CopyCutPasteOptions = { useLastCursorPosition?: boolean };\n\nexport default class SceneEditor extends React.Component<Props, State> {\n  static defaultProps = {\n    showObjectsList: true,\n    setToolbar: () => {},\n  };\n\n  zOrderFinder: ?gd.HighestZOrderFinder;\n  instancesSelection: InstancesSelection;\n  editor: ?InstancesEditor;\n  contextMenu: ?ContextMenu;\n  editorMosaic: ?EditorMosaic;\n  _objectsList: ?ObjectsList;\n  _propertiesEditor: ?InstancePropertiesEditor;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.instancesSelection = new InstancesSelection();\n    this.state = {\n      objectsListOpen: false,\n      instancesListOpen: false,\n      setupGridOpen: false,\n      scenePropertiesDialogOpen: false,\n      layersListOpen: false,\n      layerRemoveDialogOpen: false,\n      onCloseLayerRemoveDialog: null,\n      layerRemoved: null,\n      editedObjectWithContext: null,\n      variablesEditedInstance: null,\n      variablesEditedObject: null,\n      selectedObjectNames: [],\n\n      editedGroup: null,\n\n      // State for \"drag'n'dropping\" from the objects list to the instances editor:\n      objectDraggedFromList: null,\n      canDropDraggedObject: false,\n\n      uiSettings: props.initialUiSettings,\n      history: getHistoryInitialState(props.initialInstances, {\n        historyMaxSize: 50,\n      }),\n\n      showObjectsListInfoBar: false,\n      layoutVariablesDialogOpen: false,\n      showPropertiesInfoBar: false,\n    };\n  }\n\n  componentWillMount() {\n    this.zOrderFinder = new gd.HighestZOrderFinder();\n  }\n\n  getUiSettings() {\n    return this.state.uiSettings;\n  }\n\n  updateToolbar() {\n    this.props.setToolbar(\n      <Toolbar\n        showPreviewButton={this.props.showPreviewButton}\n        onPreview={() => this.props.onPreview({})}\n        showNetworkPreviewButton={this.props.showNetworkPreviewButton}\n        onNetworkPreview={() => this.props.onPreview({ networkPreview: true })}\n        onOpenDebugger={() => {\n          this.props.onOpenDebugger();\n          this.props.onPreview({});\n        }}\n        showObjectsList={this.props.showObjectsList}\n        instancesSelection={this.instancesSelection}\n        openObjectsList={this.openObjectsList}\n        openObjectGroupsList={this.openObjectGroupsList}\n        openProperties={this.openProperties}\n        deleteSelection={this.deleteSelection}\n        toggleInstancesList={this.toggleInstancesList}\n        toggleLayersList={this.toggleLayersList}\n        toggleWindowMask={this.toggleWindowMask}\n        toggleGrid={this.toggleGrid}\n        isGridShown={() => !!this.state.uiSettings.grid}\n        isWindowMaskShown={() => !!this.state.uiSettings.windowMask}\n        openSetupGrid={this.openSetupGrid}\n        setZoomFactor={this.setZoomFactor}\n        canUndo={canUndo(this.state.history)}\n        canRedo={canRedo(this.state.history)}\n        undo={this.undo}\n        redo={this.redo}\n        zoomIn={this.zoomIn}\n        zoomOut={this.zoomOut}\n        onOpenSettings={this.openSceneProperties}\n      />\n    );\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (\n      this.props.layout !== nextProps.layout ||\n      this.props.initialInstances !== nextProps.initialInstances ||\n      this.props.project !== nextProps.project\n    ) {\n      this.instancesSelection.clearSelection();\n      this.openSetupGrid(false);\n      this.editInstanceVariables(null);\n      this.openSceneProperties(false);\n    }\n  }\n\n  openObjectsList = () => {\n    if (!this.editorMosaic) return;\n    if (!this.editorMosaic.openEditor('objects-list')) {\n      this.setState({\n        showObjectsListInfoBar: true,\n      });\n    }\n  };\n\n  openProperties = () => {\n    if (!this.editorMosaic) return;\n    if (!this.editorMosaic.openEditor('properties')) {\n      this.setState({\n        showPropertiesInfoBar: true,\n      });\n    }\n  };\n\n  openObjectGroupsList = () => {\n    if (!this.editorMosaic) return;\n    this.editorMosaic.openEditor('object-groups-list');\n  };\n\n  toggleInstancesList = () => {\n    this.setState({ instancesListOpen: !this.state.instancesListOpen });\n  };\n\n  toggleLayersList = () => {\n    this.setState({ layersListOpen: !this.state.layersListOpen });\n  };\n\n  toggleWindowMask = () => {\n    this.setState({\n      uiSettings: {\n        ...this.state.uiSettings,\n        windowMask: !this.state.uiSettings.windowMask,\n      },\n    });\n  };\n\n  toggleGrid = () => {\n    this.setState({\n      uiSettings: {\n        ...this.state.uiSettings,\n        grid: !this.state.uiSettings.grid,\n        snap: !this.state.uiSettings.grid,\n      },\n    });\n  };\n\n  openSetupGrid = (open: boolean = true) => {\n    this.setState({ setupGridOpen: open });\n  };\n\n  openSceneProperties = (open: boolean = true) => {\n    this.setState({ scenePropertiesDialogOpen: open });\n  };\n\n  openObjectEditor = () => {\n    if (!this.instancesSelection.hasSelectedInstances()) {\n      return;\n    }\n    const selectedInstanceObjectName = this.instancesSelection\n      .getSelectedInstances()[0]\n      .getObjectName();\n    this.editObjectByName(selectedInstanceObjectName);\n  };\n\n  editInstanceVariables = (instance: ?gdInitialInstance) => {\n    this.setState({ variablesEditedInstance: instance });\n  };\n\n  editObjectVariables = (object: ?gdObject) => {\n    this.setState({ variablesEditedObject: object });\n  };\n\n  editLayoutVariables = (open: boolean = true) => {\n    this.setState({ layoutVariablesDialogOpen: open });\n  };\n\n  editObject = (editedObject: ?gdObject) => {\n    const { project } = this.props;\n    if (editedObject) {\n      this.setState({\n        editedObjectWithContext: {\n          object: editedObject,\n          global: project.hasObjectNamed(editedObject.getName()),\n        },\n      });\n    } else {\n      this.setState({\n        editedObjectWithContext: null,\n      });\n    }\n  };\n\n  editObjectByName = (objectName: string) => {\n    const { project, layout } = this.props;\n    if (layout.hasObjectNamed(objectName))\n      this.editObject(layout.getObject(objectName));\n    else if (project.hasObjectNamed(objectName))\n      this.editObject(project.getObject(objectName));\n  };\n\n  /**\n   * Called when an object is started to be dragged from the object list.\n   * See `_onPointerOverInstancesEditor`, `_onPointerOutInstancesEditor` and\n   * `_onPointerUpInstancesEditor` for the drag'n'drop workflow.\n   */\n  _onStartDraggingObjectFromList = (object: gdObject) => {\n    // \"Hijack\" the name of the object that is dragged in the objects list.\n    // We'll then listen to \"pointer over\" events to see if the object\n    // is the dragged on the instances editor.\n    this.setState({\n      objectDraggedFromList: object,\n    });\n  };\n\n  _onEndDraggingObjectFromList = () => {\n    // If the dragged object is not being dropped on the instances editor,\n    // clear the dragged object so that we don't keep it the state (otherwise\n    // we could think later that a dragging is still occuring when cursor\n    // is over the instances editor).\n    if (!this.state.canDropDraggedObject) {\n      this.setState({\n        objectDraggedFromList: null,\n      });\n    }\n  };\n\n  _onPointerOverInstancesEditor = () => {\n    // If an object is dragged, and cursor is over the instances editor,\n    // mark in the state that we can drop an instance of this object.\n    if (this.state.objectDraggedFromList && !this.state.canDropDraggedObject) {\n      this.setState({\n        canDropDraggedObject: true,\n      });\n    }\n  };\n\n  _onPointerOutInstancesEditor = () => {\n    // If cursor is going out of the instances editor,\n    // mark in the state that we cannot drop an instance anymore.\n    if (this.state.canDropDraggedObject) {\n      this.setState({\n        canDropDraggedObject: false,\n      });\n    }\n  };\n\n  _onPointerUpInstancesEditor = () => {\n    if (this.state.canDropDraggedObject) {\n      if (this.editor) {\n        const cursorPosition = this.editor.getLastCursorPosition();\n\n        if (this.state.objectDraggedFromList)\n          this._addInstance(\n            cursorPosition[0],\n            cursorPosition[1],\n            this.state.objectDraggedFromList.getName()\n          );\n      }\n      // Wait 30ms after dropping the object before reseting the canDropDraggedObject state boolean\n      // to ensure ObjectsList will be prevented to actually move object in the list.\n      setTimeout(\n        () =>\n          this.setState({\n            canDropDraggedObject: false,\n            objectDraggedFromList: null,\n          }),\n        30 // This value is very conservative, and timeout may not be needed at all\n      );\n    }\n  };\n\n  editGroup = (group: ?gdObjectGroup) => {\n    this.setState({ editedGroup: group });\n  };\n\n  setUiSettings = (uiSettings: Object) => {\n    this.setState({\n      uiSettings: {\n        ...this.state.uiSettings,\n        ...uiSettings,\n      },\n    });\n  };\n\n  undo = () => {\n    this.instancesSelection.clearSelection();\n    this.setState(\n      {\n        history: undo(this.state.history, this.props.initialInstances),\n      },\n      () => {\n        // /!\\ Force the instances editor to destroy and mount again the\n        // renderers to avoid keeping any references to existing instances\n        if (this.editor) this.editor.forceRemount();\n        this.updateToolbar();\n      }\n    );\n  };\n\n  redo = () => {\n    this.instancesSelection.clearSelection();\n    this.setState(\n      {\n        history: redo(this.state.history, this.props.initialInstances),\n      },\n      () => {\n        // /!\\ Force the instances editor to destroy and mount again the\n        // renderers to avoid keeping any references to existing instances\n        if (this.editor) this.editor.forceRemount();\n        this.updateToolbar();\n      }\n    );\n  };\n\n  _onObjectSelected = (selectedObjectName: string) => {\n    if (!selectedObjectName) {\n      this.setState({\n        selectedObjectNames: [],\n      });\n    } else {\n      this.setState({\n        selectedObjectNames: [selectedObjectName],\n      });\n    }\n  };\n\n  _onAddInstanceUnderCursor = () => {\n    if (!this.state.selectedObjectNames.length || !this.editor) {\n      return;\n    }\n\n    const objectSelected = this.state.selectedObjectNames[0];\n    const cursorPosition = this.editor.getLastCursorPosition();\n    this._addInstance(cursorPosition[0], cursorPosition[1], objectSelected);\n    this.setState({\n      selectedObjectNames: [objectSelected],\n    });\n  };\n\n  _addInstance = (x: number, y: number, objectName: string) => {\n    if (!objectName) return;\n\n    const instance = this.props.initialInstances.insertNewInitialInstance();\n    instance.setObjectName(objectName);\n    if (this.state.uiSettings.grid) {\n      x = roundPosition(\n        x,\n        this.state.uiSettings.gridWidth,\n        this.state.uiSettings.gridOffsetX\n      );\n      y = roundPosition(\n        y,\n        this.state.uiSettings.gridHeight,\n        this.state.uiSettings.gridOffsetY\n      );\n    }\n    instance.setX(x);\n    instance.setY(y);\n    this.props.initialInstances.iterateOverInstances(this.zOrderFinder);\n    if (this.zOrderFinder) {\n      instance.setZOrder(this.zOrderFinder.getHighestZOrder() + 1);\n    }\n    this.setState(\n      {\n        selectedObjectNames: [],\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  _onInstancesSelected = (instances: Array<gdInitialInstance>) => {\n    this.setState({\n      selectedObjectNames: uniq(\n        instances.map(instance => instance.getObjectName())\n      ),\n    });\n    this.forceUpdatePropertiesEditor();\n    this.updateToolbar();\n  };\n\n  _onInstancesMoved = (instances: Array<gdInitialInstance>) => {\n    this.setState(\n      {\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => this.forceUpdatePropertiesEditor()\n    );\n  };\n\n  _onInstancesResized = (instances: Array<gdInitialInstance>) => {\n    this.setState(\n      {\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => this.forceUpdatePropertiesEditor()\n    );\n  };\n\n  _onInstancesRotated = (instances: Array<gdInitialInstance>) => {\n    this.setState(\n      {\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => this.forceUpdatePropertiesEditor()\n    );\n  };\n\n  _onInstancesModified = (instances: Array<gdInitialInstance>) => {\n    this.forceUpdate();\n    //TODO: Save for redo with debounce (and cancel on unmount)\n  };\n\n  _onSelectInstances = (\n    instances: Array<gdInitialInstance>,\n    centerView: boolean = true\n  ) => {\n    this.instancesSelection.selectInstances(instances, false);\n\n    if (centerView) {\n      if (this.editor) this.editor.centerViewOn(instances);\n    }\n    this.forceUpdatePropertiesEditor();\n    this.updateToolbar();\n  };\n\n  _onRemoveLayer = (layerName: string, done: boolean => void) => {\n    this.setState({\n      layerRemoveDialogOpen: true,\n      layerRemoved: layerName,\n      onCloseLayerRemoveDialog: (doRemove, newLayer) => {\n        this.setState(\n          {\n            layerRemoveDialogOpen: false,\n          },\n          () => {\n            if (doRemove) {\n              if (newLayer === null) {\n                this.props.initialInstances.removeAllInstancesOnLayer(\n                  layerName\n                );\n              } else {\n                this.props.initialInstances.moveInstancesToLayer(\n                  layerName,\n                  newLayer\n                );\n              }\n            }\n\n            done(doRemove);\n            // /!\\ Force the instances editor to destroy and mount again the\n            // renderers to avoid keeping any references to existing instances\n            if (this.editor) this.editor.forceRemount();\n            this.updateToolbar();\n          }\n        );\n      },\n    });\n  };\n\n  _onRenameLayer = (\n    oldName: string,\n    newName: string,\n    done: boolean => void\n  ) => {\n    this.props.initialInstances.moveInstancesToLayer(oldName, newName);\n    done(true);\n  };\n\n  _onDeleteObject = (\n    objectWithContext: ObjectWithContext,\n    done: boolean => void\n  ) => {\n    const { object, global } = objectWithContext;\n    const { project, layout } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      'Do you want to remove all references to this object in groups and events (actions and conditions using the object)?'\n    );\n\n    if (global) {\n      gd.WholeProjectRefactorer.globalObjectRemoved(\n        project,\n        object.getName(),\n        !!answer\n      );\n    } else {\n      gd.WholeProjectRefactorer.objectRemovedInLayout(\n        project,\n        layout,\n        object.getName(),\n        !!answer\n      );\n    }\n    done(true);\n  };\n\n  _canObjectUseNewName = (\n    objectWithContext: ObjectWithContext,\n    newName: string\n  ) => {\n    const { project, layout } = this.props;\n    const { object } = objectWithContext;\n\n    if (object.getName() === newName) {\n      return true;\n    } else if (\n      layout.hasObjectNamed(newName) ||\n      project.hasObjectNamed(newName)\n    ) {\n      showWarningBox('Another object with this name already exists.');\n      return false;\n    } else if (!gd.Project.validateObjectName(newName)) {\n      showWarningBox(\n        'This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your object name.'\n      );\n      return false;\n    }\n\n    return true;\n  };\n\n  _onRenameEditedObject = (newName: string) => {\n    const { editedObjectWithContext } = this.state;\n\n    if (editedObjectWithContext) {\n      this._onRenameObject(editedObjectWithContext, newName, () => {});\n    }\n  };\n\n  _onRenameObject = (\n    objectWithContext: ObjectWithContext,\n    newName: string,\n    done: boolean => void\n  ) => {\n    const { object, global } = objectWithContext;\n    const { project, layout } = this.props;\n\n    if (!gd.Project.validateObjectName(newName)) {\n      done(false);\n      return;\n    }\n\n    // Avoid triggering renaming refactoring if name has not really changed\n    if (object.getName() !== newName) {\n      if (global) {\n        gd.WholeProjectRefactorer.globalObjectRenamed(\n          project,\n          object.getName(),\n          newName\n        );\n      } else {\n        gd.WholeProjectRefactorer.objectRenamedInLayout(\n          project,\n          layout,\n          object.getName(),\n          newName\n        );\n      }\n    }\n\n    object.setName(newName);\n    done(true);\n  };\n\n  _onDeleteGroup = (\n    groupWithScope: GroupWithContext,\n    done: boolean => void\n  ) => {\n    //TODO: implement and launch refactoring (using gd.WholeProjectRefactorer)\n    done(true);\n  };\n\n  _onRenameGroup = (\n    groupWithScope: GroupWithContext,\n    newName: string,\n    done: boolean => void\n  ) => {\n    //TODO: implement and launch refactoring (using gd.WholeProjectRefactorer)\n    done(true);\n  };\n\n  deleteSelection = () => {\n    const selectedInstances = this.instancesSelection.getSelectedInstances();\n    selectedInstances.map(instance =>\n      this.props.initialInstances.removeInstance(instance)\n    );\n\n    this.instancesSelection.clearSelection();\n    if (this.editor) this.editor.clearHighlightedInstance();\n\n    this.setState(\n      {\n        selectedObjectNames: [],\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => {\n        this.updateToolbar();\n        this.forceUpdatePropertiesEditor();\n      }\n    );\n  };\n\n  setZoomFactor = (zoomFactor: number) => {\n    if (this.editor) this.editor.setZoomFactor(zoomFactor);\n  };\n\n  zoomIn = () => {\n    if (this.editor) this.editor.zoomBy(0.1);\n  };\n\n  zoomOut = () => {\n    if (this.editor) this.editor.zoomBy(-0.1);\n  };\n\n  _onContextMenu = (x: number, y: number) => {\n    if (this.contextMenu) this.contextMenu.open(x, y);\n  };\n\n  copySelection = ({ useLastCursorPosition }: CopyCutPasteOptions = {}) => {\n    const serializedSelection = this.instancesSelection\n      .getSelectedInstances()\n      .map(instance => serializeToJSObject(instance));\n\n    if (this.editor) {\n      const position = useLastCursorPosition\n        ? this.editor.getLastCursorPosition()\n        : this.editor.getLastContextMenuPosition();\n      Clipboard.set(INSTANCES_CLIPBOARD_KIND, {\n        x: position[0],\n        y: position[1],\n        instances: serializedSelection,\n      });\n    }\n  };\n\n  cutSelection = (options: CopyCutPasteOptions = {}) => {\n    this.copySelection(options);\n    this.deleteSelection();\n  };\n\n  paste = ({ useLastCursorPosition }: CopyCutPasteOptions = {}) => {\n    const clipboardContent = Clipboard.get(INSTANCES_CLIPBOARD_KIND);\n    if (!clipboardContent || !this.editor) return;\n\n    const position = useLastCursorPosition\n      ? this.editor.getLastCursorPosition()\n      : this.editor.getLastContextMenuPosition();\n    const { x, y } = clipboardContent;\n    clipboardContent.instances\n      .map(serializedInstance => {\n        const instance = new gd.InitialInstance();\n        unserializeFromJSObject(instance, serializedInstance);\n        return instance;\n      })\n      .forEach(instance => {\n        instance.setX(instance.getX() - x + position[0]);\n        instance.setY(instance.getY() - y + position[1]);\n        this.props.initialInstances.insertInitialInstance(instance);\n        instance.delete();\n      });\n  };\n\n  updateBehaviorsSharedData = () => {\n    const { layout, project } = this.props;\n    layout.updateBehaviorsSharedData(project);\n  };\n\n  forceUpdateObjectsList = () => {\n    if (this._objectsList) this._objectsList.forceUpdateList();\n  };\n\n  forceUpdatePropertiesEditor = () => {\n    if (this._propertiesEditor) this._propertiesEditor.forceUpdate();\n  };\n\n  reloadResourcesFor = (object: gdObject) => {\n    const { project } = this.props;\n\n    const resourcesInUse = new gd.ResourcesInUseHelper();\n    object.exposeResources(resourcesInUse);\n    const objectResourceNames = resourcesInUse\n      .getAllImages()\n      .toNewVectorString()\n      .toJSArray();\n\n    PixiResourcesLoader.loadTextures(\n      project,\n      objectResourceNames,\n      () => {},\n      () => {\n        if (this.editor) this.editor.resetRenderersFor(object.getName());\n      }\n    );\n  };\n\n  render() {\n    const {\n      project,\n      layout,\n      initialInstances,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n      isActive,\n    } = this.props;\n    const selectedInstances = this.instancesSelection.getSelectedInstances();\n\n    const editors = {\n      properties: (\n        <MosaicWindow title={<Trans>Properties</Trans>}>\n          <InstancePropertiesEditor\n            project={project}\n            layout={layout}\n            instances={selectedInstances}\n            editInstanceVariables={this.editInstanceVariables}\n            editObjectVariables={this.editObjectVariables}\n            onEditObjectByName={this.editObjectByName}\n            ref={propertiesEditor =>\n              (this._propertiesEditor = propertiesEditor)\n            }\n          />\n        </MosaicWindow>\n      ),\n      'instances-editor': (\n        <FullSizeInstancesEditor\n          project={project}\n          layout={layout}\n          initialInstances={initialInstances}\n          onAddInstance={this._addInstance}\n          options={this.state.uiSettings}\n          onChangeOptions={this.setUiSettings}\n          instancesSelection={this.instancesSelection}\n          onDeleteSelection={this.deleteSelection}\n          onInstancesSelected={this._onInstancesSelected}\n          onInstancesMoved={this._onInstancesMoved}\n          onInstancesResized={this._onInstancesResized}\n          onInstancesRotated={this._onInstancesRotated}\n          onPointerUp={this._onPointerUpInstancesEditor}\n          onPointerOver={this._onPointerOverInstancesEditor}\n          onPointerOut={this._onPointerOutInstancesEditor}\n          onContextMenu={this._onContextMenu}\n          onCopy={() => this.copySelection({ useLastCursorPosition: true })}\n          onCut={() => this.cutSelection({ useLastCursorPosition: true })}\n          onPaste={() => this.paste({ useLastCursorPosition: true })}\n          onUndo={this.undo}\n          onRedo={this.redo}\n          onZoomOut={this.zoomOut}\n          onZoomIn={this.zoomIn}\n          showDropCursor={this.state.canDropDraggedObject}\n          wrappedEditorRef={editor => (this.editor = editor)}\n          pauseRendering={!isActive}\n        />\n      ),\n      'objects-list': (\n        <MosaicWindow\n          title={<Trans>Objects</Trans>}\n          selectedObjectNames={\n            this.state\n              .selectedObjectNames /*Ensure MosaicWindow content is updated when selectedObjectNames changes*/\n          }\n          canDropDraggedObject={\n            this.state\n              .canDropDraggedObject /*Ensure MosaicWindow content is updated when canDropDraggedObject changes*/\n          }\n        >\n          <ObjectsList\n            getThumbnail={ObjectsRenderingService.getThumbnail.bind(\n              ObjectsRenderingService\n            )}\n            project={project}\n            objectsContainer={layout}\n            selectedObjectNames={this.state.selectedObjectNames}\n            onEditObject={this.props.onEditObject || this.editObject}\n            onDeleteObject={this._onDeleteObject}\n            canRenameObject={(\n              objectWithContext: ObjectWithContext,\n              newName: string\n            ) => {\n              return this._canObjectUseNewName(objectWithContext, newName);\n            }}\n            onObjectSelected={this._onObjectSelected}\n            onRenameObject={this._onRenameObject}\n            onObjectPasted={() => this.updateBehaviorsSharedData()}\n            onStartDraggingObject={this._onStartDraggingObjectFromList}\n            onEndDraggingObject={this._onEndDraggingObjectFromList}\n            canMoveObjects={!this.state.canDropDraggedObject}\n            ref={objectsList => (this._objectsList = objectsList)}\n          />\n        </MosaicWindow>\n      ),\n      'object-groups-list': (\n        <MosaicWindow title={<Trans>Object Groups</Trans>}>\n          <ObjectGroupsList\n            globalObjectGroups={project.getObjectGroups()}\n            objectGroups={layout.getObjectGroups()}\n            onEditGroup={this.editGroup}\n            onDeleteGroup={this._onDeleteGroup}\n            onRenameGroup={this._onRenameGroup}\n          />\n        </MosaicWindow>\n      ),\n    };\n    return (\n      <div style={styles.container}>\n        <EditorMosaic\n          editors={editors}\n          ref={editorMosaic => (this.editorMosaic = editorMosaic)}\n          initialNodes={{\n            direction: 'row',\n            first: 'properties',\n            splitPercentage: 23,\n            second: {\n              direction: 'row',\n              first: 'instances-editor',\n              second: this.props.showObjectsList ? 'objects-list' : null,\n              splitPercentage: 77,\n            },\n          }}\n        />\n        {this.state.editedObjectWithContext && (\n          <ObjectEditorDialog\n            open\n            object={this.state.editedObjectWithContext.object}\n            project={project}\n            resourceSources={resourceSources}\n            resourceExternalEditors={resourceExternalEditors}\n            onChooseResource={onChooseResource}\n            onCancel={() => {\n              if (this.state.editedObjectWithContext) {\n                this.reloadResourcesFor(\n                  this.state.editedObjectWithContext.object\n                );\n              }\n              this.editObject(null);\n            }}\n            canRenameObject={tryName => {\n              return (\n                this.state.editedObjectWithContext &&\n                this._canObjectUseNewName(\n                  this.state.editedObjectWithContext,\n                  tryName\n                )\n              );\n            }}\n            onRename={newName => {\n              this._onRenameEditedObject(newName);\n            }}\n            onApply={() => {\n              if (this.state.editedObjectWithContext) {\n                this.reloadResourcesFor(\n                  this.state.editedObjectWithContext.object\n                );\n              }\n              this.editObject(null);\n              this.updateBehaviorsSharedData();\n              this.forceUpdateObjectsList();\n            }}\n          />\n        )}\n        <ObjectGroupEditorDialog\n          open={!!this.state.editedGroup}\n          group={this.state.editedGroup}\n          objectsContainer={layout}\n          globalObjectsContainer={project}\n          onCancel={() => this.editGroup(null)}\n          onApply={() => this.editGroup(null)}\n        />\n        <Drawer\n          open={this.state.instancesListOpen}\n          width={500}\n          openSecondary={true}\n          containerStyle={{ overflow: 'hidden' }}\n        >\n          <EditorBar\n            title={<Trans>Instances</Trans>}\n            iconElementLeft={\n              <IconButton onClick={this.toggleInstancesList}>\n                <NavigationClose />\n              </IconButton>\n            }\n          />\n          <InstancesList\n            freezeUpdate={!this.state.instancesListOpen}\n            instances={initialInstances}\n            selectedInstances={selectedInstances}\n            onSelectInstances={this._onSelectInstances}\n          />\n        </Drawer>\n        <Drawer\n          open={this.state.layersListOpen}\n          width={400}\n          openSecondary={true}\n        >\n          <EditorBar\n            title={<Trans>Layers</Trans>}\n            iconElementLeft={\n              <IconButton onClick={this.toggleLayersList}>\n                <NavigationClose />\n              </IconButton>\n            }\n          />\n          <LayersList\n            freezeUpdate={!this.state.layersListOpen}\n            onRemoveLayer={this._onRemoveLayer}\n            onRenameLayer={this._onRenameLayer}\n            layersContainer={layout}\n          />\n        </Drawer>\n        <InfoBar\n          message={\n            <Trans>\n              Drag and Drop the object to the scene or use the right click menu\n              to add an instance of it.\n            </Trans>\n          }\n          show={!!this.state.selectedObjectNames.length}\n        />\n        <InfoBar\n          message={\n            <Trans>\n              Objects panel is already opened: use it to add and edit objects.\n            </Trans>\n          }\n          show={!!this.state.showObjectsListInfoBar}\n        />\n        <InfoBar\n          message={<Trans>Properties panel is already opened.</Trans>}\n          show={!!this.state.showPropertiesInfoBar}\n        />\n        <SetupGridDialog\n          open={this.state.setupGridOpen}\n          gridOptions={this.state.uiSettings}\n          onCancel={() => this.openSetupGrid(false)}\n          onApply={gridOptions => {\n            this.setUiSettings(gridOptions);\n            this.openSetupGrid(false);\n          }}\n        />\n        <VariablesEditorDialog\n          open={!!this.state.variablesEditedInstance}\n          variablesContainer={\n            this.state.variablesEditedInstance &&\n            this.state.variablesEditedInstance.getVariables()\n          }\n          onCancel={() => this.editInstanceVariables(null)}\n          onApply={() => this.editInstanceVariables(null)}\n          emptyExplanationMessage=\"Instance variables will override the default values of the variables of the object.\"\n          title=\"Instance Variables\"\n          onEditObjectVariables={() => {\n            if (!this.instancesSelection.hasSelectedInstances()) {\n              return;\n            }\n            const associatedObjectName = this.instancesSelection\n              .getSelectedInstances()[0]\n              .getObjectName();\n            const object = getObjectByName(\n              project,\n              layout,\n              associatedObjectName\n            );\n            if (object) {\n              this.editObjectVariables(object);\n              this.editInstanceVariables(null);\n            }\n          }}\n        />\n        <VariablesEditorDialog\n          open={!!this.state.variablesEditedObject}\n          variablesContainer={\n            this.state.variablesEditedObject &&\n            this.state.variablesEditedObject.getVariables()\n          }\n          onCancel={() => this.editObjectVariables(null)}\n          onApply={() => this.editObjectVariables(null)}\n          emptyExplanationMessage=\"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it.\"\n          title=\"Object Variables\"\n        />\n        <LayerRemoveDialog\n          open={!!this.state.layerRemoveDialogOpen}\n          layersContainer={layout}\n          layerRemoved={this.state.layerRemoved}\n          onClose={this.state.onCloseLayerRemoveDialog}\n        />\n        <ScenePropertiesDialog\n          open={!!this.state.scenePropertiesDialogOpen}\n          project={project}\n          layout={layout}\n          onClose={() => this.openSceneProperties(false)}\n          onApply={() => this.openSceneProperties(false)}\n          onEditVariables={() => this.editLayoutVariables(true)}\n          onOpenMoreSettings={this.props.onOpenMoreSettings}\n        />\n        <VariablesEditorDialog\n          open={!!this.state.layoutVariablesDialogOpen}\n          variablesContainer={layout.getVariables()}\n          onCancel={() => this.editLayoutVariables(false)}\n          onApply={() => this.editLayoutVariables(false)}\n          title=\"Scene variables\"\n          emptyExplanationMessage=\"Scene variables can be used to store any value or text during the game.\"\n          emptyExplanationSecondMessage=\"For example, you can have a variable called Score representing the current score of the player.\"\n        />\n        <ContextMenu\n          ref={contextMenu => (this.contextMenu = contextMenu)}\n          buildMenuTemplate={() => [\n            {\n              label: this.state.selectedObjectNames.length\n                ? 'Add an Instance of ' +\n                  shortenString(this.state.selectedObjectNames[0], 7)\n                : '',\n              click: () => this._onAddInstanceUnderCursor(),\n              visible: this.state.selectedObjectNames.length > 0,\n            },\n            {\n              label: this.state.selectedObjectNames.length\n                ? 'Edit Object ' +\n                  shortenString(this.state.selectedObjectNames[0], 14)\n                : '',\n              click: () =>\n                this.editObjectByName(this.state.selectedObjectNames[0]),\n              visible: this.state.selectedObjectNames.length > 0,\n            },\n            {\n              label: 'Scene properties',\n              click: () => this.openSceneProperties(true),\n            },\n            { type: 'separator' },\n            {\n              label: 'Copy',\n              click: () => this.copySelection(),\n              enabled: this.instancesSelection.hasSelectedInstances(),\n              accelerator: 'CmdOrCtrl+C',\n            },\n            {\n              label: 'Cut',\n              click: () => this.cutSelection(),\n              enabled: this.instancesSelection.hasSelectedInstances(),\n              accelerator: 'CmdOrCtrl+X',\n            },\n            {\n              label: 'Paste',\n              click: () => this.paste(),\n              enabled: Clipboard.has(INSTANCES_CLIPBOARD_KIND),\n              accelerator: 'CmdOrCtrl+V',\n            },\n            { type: 'separator' },\n            {\n              label: 'Undo',\n              click: this.undo,\n              enabled: canUndo(this.state.history),\n              accelerator: 'CmdOrCtrl+Z',\n            },\n            {\n              label: 'Redo',\n              click: this.redo,\n              enabled: canRedo(this.state.history),\n              accelerator: 'CmdOrCtrl+Shift+Z',\n            },\n            {\n              label: 'Delete',\n              click: () => this.deleteSelection(),\n              enabled: this.instancesSelection.hasSelectedInstances(),\n            },\n          ]}\n        />\n      </div>\n    );\n  }\n}\n","import * as PIXI from 'pixi.js';\n\nexport default class ViewPosition {\n  constructor({ width, height, options }) {\n    this.viewX = width / 2;\n    this.viewY = height / 2;\n    this.options = options;\n    this._pixiContainer = new PIXI.Container();\n    this.resize(width, height);\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  resize(width, height) {\n    this._width = width;\n    this._height = height;\n  }\n\n  getWidth() {\n    return this._width;\n  }\n\n  getHeight() {\n    return this._height;\n  }\n\n  /**\n   * Convert a point from the canvas coordinates (for example, the mouse position) to the\n   * \"world\" coordinates.\n   */\n  toSceneCoordinates = (x, y) => {\n    x -= this._width / 2;\n    y -= this._height / 2;\n    x /= Math.abs(this._pixiContainer.scale.x);\n    y /= Math.abs(this._pixiContainer.scale.y);\n\n    var viewRotation = 0;\n    var tmp = x;\n    x =\n      Math.cos((viewRotation / 180) * Math.PI) * x -\n      Math.sin((viewRotation / 180) * Math.PI) * y;\n    y =\n      Math.sin((viewRotation / 180) * Math.PI) * tmp +\n      Math.cos((viewRotation / 180) * Math.PI) * y;\n\n    return [x + this.viewX, y + this.viewY];\n  };\n\n  /**\n   * Convert a point from the \"world\" coordinates (for example, an object position) to the\n   * canvas coordinates.\n   */\n  toCanvasCoordinates = (x, y) => {\n    x -= this.viewX;\n    y -= this.viewY;\n\n    var viewRotation = -0;\n    var tmp = x;\n    x =\n      Math.cos((viewRotation / 180) * Math.PI) * x -\n      Math.sin((viewRotation / 180) * Math.PI) * y;\n    y =\n      Math.sin((viewRotation / 180) * Math.PI) * tmp +\n      Math.cos((viewRotation / 180) * Math.PI) * y;\n\n    x *= Math.abs(this._pixiContainer.scale.x);\n    y *= Math.abs(this._pixiContainer.scale.y);\n\n    return [x + this._width / 2, y + this._height / 2];\n  };\n\n  scrollBy(x, y) {\n    this.viewX += x;\n    this.viewY += y;\n  }\n\n  scrollTo(x, y) {\n    this.viewX = x;\n    this.viewY = y;\n  }\n\n  scrollToInstance(instance) {\n    this.viewX = instance.getX();\n    this.viewY = instance.getY();\n  }\n\n  getViewX() {\n    return this.viewX;\n  }\n\n  getViewY() {\n    return this.viewY;\n  }\n\n  getPixiContainer() {\n    return this._pixiContainer;\n  }\n\n  render() {\n    this._pixiContainer.position.x = -this.viewX * this.options.zoomFactor;\n    this._pixiContainer.position.y = -this.viewY * this.options.zoomFactor;\n    this._pixiContainer.position.x += this._width / 2;\n    this._pixiContainer.position.y += this._height / 2;\n    this._pixiContainer.scale.x = this.options.zoomFactor;\n    this._pixiContainer.scale.y = this.options.zoomFactor;\n  }\n}\n","// @flow\n\nexport const roundPosition = (\n  pos: number,\n  gridSize: number,\n  gridOffset: number\n) => {\n  if (gridSize <= 0) {\n    return Math.round(pos);\n  }\n  return Math.floor((pos - gridOffset) / gridSize) * gridSize + gridOffset;\n};\n","import { mapFor } from '../Utils/MapFor';\n\nexport default layersContainer =>\n  mapFor(0, layersContainer.getLayersCount(), i => {\n    return {\n      value: layersContainer.getLayerAt(i).getName(),\n      label: layersContainer.getLayerAt(i).getName() || 'Base layer',\n    };\n  });\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nimport Toggle from 'material-ui/Toggle';\nimport { Line } from '../../../../UI/Grid';\nimport { mapFor } from '../../../../Utils/MapFor';\nimport { getCurrentElements } from './SpriteObjectHelper';\n\ntype Props = {|\n  spriteObject: gdSpriteObject,\n\n  animationIndex: number,\n  directionIndex: number,\n  spriteIndex: number,\n\n  chooseAnimation: number => void,\n  chooseDirection: number => void,\n  chooseSprite: number => void,\n\n  sameForAllAnimations: boolean,\n  sameForAllSprites: boolean,\n\n  setSameForAllAnimations: boolean => void,\n  setSameForAllSprites: number => void,\n\n  setSameForAllAnimationsLabel: string,\n  setSameForAllSpritesLabel: string,\n|};\n\n/**\n * A component that displays selector to browse the animations/directions/sprite\n * of a Sprite object. Also have toggles so that the user can choose if the edited property\n * (typically, the points or the collision masks of the sprite) should be shared between\n * all sprites of an animation, or between all sprites of all animations of the object.\n */\nexport default class SpriteSelector extends React.Component<Props, void> {\n  render() {\n    const {\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex,\n      sameForAllAnimations,\n      sameForAllSprites,\n      chooseAnimation,\n      chooseDirection,\n      chooseSprite,\n      setSameForAllAnimations,\n      setSameForAllSprites,\n      setSameForAllAnimationsLabel,\n      setSameForAllSpritesLabel,\n    } = this.props;\n\n    const {\n      hasValidAnimation,\n      animation,\n      hasValidDirection,\n      direction,\n    } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    return (\n      <React.Fragment>\n        <Line>\n          <SelectField\n            floatingLabelText={<Trans>Animation</Trans>}\n            value={this.props.animationIndex}\n            onChange={(e, i, value) => chooseAnimation(value)}\n          >\n            {mapFor(0, spriteObject.getAnimationsCount(), i => {\n              const animation = spriteObject.getAnimation(i);\n              return (\n                <MenuItem\n                  key={i}\n                  value={i}\n                  primaryText={`Animation #${i} ${animation.getName()}`}\n                />\n              );\n            })}\n          </SelectField>\n          {hasValidAnimation && animation.getDirectionsCount() > 1 && (\n            <SelectField\n              floatingLabelText={<Trans>Direction</Trans>}\n              value={this.props.directionIndex}\n              onChange={(e, i, value) => chooseDirection(value)}\n            >\n              {mapFor(0, animation.getDirectionsCount(), i => {\n                return (\n                  <MenuItem value={i} key={i} primaryText={`Direction #${i}`} />\n                );\n              })}\n            </SelectField>\n          )}\n          {hasValidDirection && (\n            <SelectField\n              floatingLabelText={<Trans>Frame</Trans>}\n              value={this.props.spriteIndex}\n              onChange={(e, i, value) => chooseSprite(value)}\n            >\n              {mapFor(0, direction.getSpritesCount(), i => {\n                return (\n                  <MenuItem value={i} key={i} primaryText={`Frame #${i}`} />\n                );\n              })}\n            </SelectField>\n          )}\n        </Line>\n        <Toggle\n          label={setSameForAllAnimationsLabel}\n          labelPosition=\"right\"\n          toggled={sameForAllAnimations}\n          onToggle={(e, checked) => setSameForAllAnimations(checked)}\n        />\n        <Toggle\n          label={setSameForAllSpritesLabel}\n          labelPosition=\"right\"\n          toggled={sameForAllSprites}\n          onToggle={(e, checked) => setSameForAllSprites(checked)}\n        />\n      </React.Fragment>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport Snackbar from 'material-ui/Snackbar';\n\nexport default class InfoBar extends Component {\n  constructor() {\n    super();\n    this.state = {\n      dismissed: false,\n    };\n  }\n\n  handleGotIt = () => {\n    if (this.props.messageId) {\n      localStorage.setItem(\n        `gdevelop.hiddenMessages.${this.props.messageId}`,\n        true\n      );\n    }\n    this.setState({ dismissed: true });\n  };\n\n  componentWillReceiveProps(newProps) {\n    if (this.props.message !== newProps.message) {\n      this.setState({ dismissed: false });\n    }\n  }\n\n  render() {\n    const hidden =\n      this.props.messageId &&\n      localStorage.getItem(`gdevelop.hiddenMessages.${this.props.messageId}`);\n\n    return (\n      <Snackbar\n        open={this.props.show && !hidden && !this.state.dismissed}\n        message={this.props.message}\n        onRequestClose={() => this.setState({ dismissed: true })}\n        action={<Trans>Got it</Trans>}\n        onActionClick={this.handleGotIt}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport SceneEditor from '../../SceneEditor';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../../Utils/Serializer';\nimport BaseEditor from './BaseEditor';\nimport { type PreviewOptions } from '../../Export/PreviewLauncher.flow';\n\nexport default class SceneEditorContainer extends BaseEditor {\n  editor: ?SceneEditor;\n\n  shouldComponentUpdate(nextProps: *) {\n    // This optimization is a bit more cautious than the one is BaseEditor, to still allow\n    // children, and in particular SceneEditor and InstancesEditor, to be notified when isActive\n    // goes from true to false (in which case PIXI rendering is halted). If isActive was false\n    // and remains false, it's safe to stop update here (PIXI rendering is already halted).\n    if (!this.props.isActive && !nextProps.isActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  getSerializedElements() {\n    const layout = this.getLayout();\n    if (!layout) return {};\n\n    return {\n      ...BaseEditor.getLayoutSerializedElements(layout),\n      instances: serializeToJSObject(layout.getInitialInstances()),\n      uiSettings: this.editor ? this.editor.getUiSettings() : {},\n    };\n  }\n\n  getLayout(): ?gdLayout {\n    const { project, layoutName } = this.props;\n    if (!project || !project.hasLayoutNamed(layoutName)) return null;\n\n    return project.getLayout(layoutName);\n  }\n\n  saveUiSettings = () => {\n    const layout = this.getLayout();\n    const editor = this.editor;\n\n    if (editor && layout) {\n      unserializeFromJSObject(\n        layout.getAssociatedSettings(),\n        editor.getUiSettings()\n      );\n    }\n  };\n\n  render() {\n    const { project, layoutName, isActive } = this.props;\n    const layout = this.getLayout();\n    if (!layout) {\n      //TODO: Error component\n      return <div>No layout called {layoutName} found!</div>;\n    }\n\n    return (\n      <SceneEditor\n        {...this.props}\n        ref={editor => (this.editor = editor)}\n        project={project}\n        layout={layout}\n        initialInstances={layout.getInitialInstances()}\n        initialUiSettings={serializeToJSObject(layout.getAssociatedSettings())}\n        onPreview={(options: PreviewOptions) =>\n          this.props.onPreview(project, layout, options)\n        }\n        onOpenDebugger={this.props.onOpenDebugger}\n        isActive={isActive}\n      />\n    );\n  }\n}\n","// @flow\nimport React from 'react';\n\nexport const watchPromiseInState = (\n  component: React.Component<*, *>,\n  stateField: string,\n  fn: () => Promise<any>\n) => {\n  component.setState({\n    [stateField]: true,\n  });\n  return fn()\n    .then(value => {\n      component.setState({\n        [stateField]: false,\n      });\n      return value;\n    })\n    .catch(err => {\n      component.setState({\n        [stateField]: false,\n      });\n      throw err;\n    });\n};\n","// @flow\nimport axios from 'axios';\nimport { GDevelopUsageApi } from './ApiConfigs';\n\nexport type Usage = {\n  id: string,\n  userId: string,\n  type: string,\n  createdAt: number,\n};\nexport type Usages = Array<Usage>;\n\nexport type Subscription = {|\n  userId: string,\n  planId: string | null,\n  createdAt: number,\n  updatedAt: number,\n  stripeSubscriptionId?: string,\n  stripeCustomerId?: string,\n|};\n\nexport type Limit = {|\n  limitReached: boolean,\n  current: number,\n  max: number,\n|};\n\nexport type Limits = {\n  [string]: Limit,\n};\n\nexport type PlanDetails = {\n  planId: string | null,\n  name: string,\n  monthlyPriceInEuros: number,\n  smallDescription: string,\n  descriptionBullets: Array<string>,\n  extraDescription?: string,\n};\n\nexport const getSubscriptionPlans = (): Array<PlanDetails> => [\n  {\n    planId: 'gdevelop_pro',\n    name: 'GDevelop Pro',\n    monthlyPriceInEuros: 7,\n    smallDescription: 'Ideal for advanced game makers',\n    descriptionBullets: [\n      'Package your game for Android up to 70 times a day.',\n      'One-click packaging for Windows, macOS and Linux up to 70 times a day.',\n      'Use Live Preview over Wifi to quickly test your game on mobiles and tablets.',\n      'Use the Debugger to find and solve issues in your games.',\n      'Immerse your players by removing GDevelop logo when the game loads.',\n    ],\n    extraDescription:\n      \"You'll also have access to online packaging for iOS or other services when they are released.\",\n  },\n  {\n    planId: 'gdevelop_indie',\n    name: 'GDevelop Indie',\n    monthlyPriceInEuros: 2,\n    smallDescription: 'Ideal for beginners',\n    descriptionBullets: [\n      'Package your game for Android up to 10 times a day.',\n      'One-click packaging for Windows, macOS and Linux up to 10 times a day.',\n      'Use Live Preview over Wifi to quickly test your game on mobiles and tablets',\n      'Use the Debugger to find and solve issues in your games.',\n      'Immerse your players by removing GDevelop logo when the game loads',\n    ],\n    extraDescription:\n      \"You'll also have access to online packaging for iOS or other services when they are released.\",\n  },\n  {\n    planId: null,\n    name: 'No subscription',\n    monthlyPriceInEuros: 0,\n    smallDescription: '',\n    descriptionBullets: [\n      'You can use GDevelop for free! Online packaging for Android, Windows, macOS and Linux is limited to twice a day to avoid overloading the services.',\n    ],\n  },\n];\n\nexport const getUserUsages = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string\n): Promise<Usages> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopUsageApi.baseUrl}/usage`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data);\n};\n\nexport const getUserLimits = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string\n): Promise<Limits> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopUsageApi.baseUrl}/limits`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data.limits);\n};\n\nexport const getUserSubscription = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string\n): Promise<Subscription> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopUsageApi.baseUrl}/subscription`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data);\n};\n\nexport const changeUserSubscription = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string,\n  newSubscriptionDetails: { planId: string | null, stripeToken?: any }\n): Promise<Subscription> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.post(\n        `${GDevelopUsageApi.baseUrl}/subscription`,\n        newSubscriptionDetails,\n        {\n          params: {\n            userId,\n          },\n          headers: {\n            Authorization: authorizationHeader,\n          },\n        }\n      )\n    )\n    .then(response => response.data);\n};\n","// @flow\nimport * as React from 'react';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nexport default ({\n  children,\n  isLoading,\n}: {\n  children: React.Node,\n  isLoading: ?boolean,\n}) => (\n  <div style={{ display: 'flex', alignItems: 'center' }}>\n    {isLoading && <CircularProgress size={20} style={{ marginRight: 5 }} />}\n    {children}\n  </div>\n);\n","// @flow\nimport { type I18n } from '@lingui/core';\n\ntype TranslationFunction = (string => string) | null;\ntype NotNullTranslationFunction = string => string;\n\n/**\n * Given the i18n object, return the function that can be used\n * to translate strings. Useful for wiring i18n to extensions\n * and libGD.js, where translations is done with a simple string\n * to string function.\n */\nexport const getTranslationFunction = (i18n: ?I18n): TranslationFunction => {\n  const i18nModule = i18n; // Make flow happy, ensure i18nModule is const.\n  if (i18nModule) {\n    return (str: string) => i18nModule._(str);\n  }\n\n  return null;\n};\n\n/**\n * Given the i18n object, return the function that can be used\n * to translate strings. Useful for wiring i18n to extensions\n * and libGD.js, where translations is done with a simple string\n * to string function.\n */\nexport const getNotNullTranslationFunction = (\n  i18n: ?I18n\n): NotNullTranslationFunction => {\n  const i18nModule = i18n; // Make flow happy, ensure i18nModule is const.\n  if (i18nModule) {\n    return (str: string) => i18nModule._(str);\n  }\n\n  return (str: string) => str;\n};\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Spacer, Line } from '../../UI/Grid';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport difference_in_seconds from 'date-fns/difference_in_seconds';\nimport LinearProgress from 'material-ui/LinearProgress';\n\nconst buildTypesConfig = {\n  'cordova-build': {\n    estimatedTimeInSeconds: () => 180,\n    completeDescription:\n      'You can download it on your Android phone and install it.',\n  },\n  'electron-build': {\n    estimatedTimeInSeconds: (build: Build) =>\n      150 * (build.targets ? build.targets.length : 0),\n    completeDescription: '',\n  },\n};\n\ntype Props = {|\n  build: Build,\n  onDownload: (key: string) => void,\n|};\n\n/**\n * Show an estimate of the progress of a build or the button\n * to download the artifacts.\n */\nexport default ({ build, onDownload }: Props) => {\n  const buttons = [\n    {\n      displayName: 'Download',\n      key: 'apkKey',\n    },\n    {\n      displayName: 'Windows (zip)',\n      key: 'windowsZipKey',\n    },\n    {\n      displayName: 'Windows (exe)',\n      key: 'windowsExeKey',\n    },\n    {\n      displayName: 'macOS (zip)',\n      key: 'macosZipKey',\n    },\n    {\n      displayName: 'Linux (AppImage)',\n      key: 'linuxAppImageKey',\n    },\n  ];\n\n  const config = buildTypesConfig[build.type];\n  const secondsSinceLastUpdate = Math.abs(\n    difference_in_seconds(build.updatedAt, Date.now())\n  );\n  const estimatedRemainingTime = Math.max(\n    config ? config.estimatedTimeInSeconds(build) - secondsSinceLastUpdate : 0,\n    0\n  );\n\n  return build.status === 'error' ? (\n    <React.Fragment>\n      <Line alignItems=\"center\">\n        <p>\n          <Trans>Something wrong happened :(</Trans>\n        </p>\n        <Spacer />\n        <RaisedButton\n          label={<Trans>See logs</Trans>}\n          onClick={() => onDownload('logsKey')}\n        />\n      </Line>\n      <Line alignItems=\"center\">\n        <EmptyMessage>\n          <Trans>\n            Check the logs to see if there is an explanation about what went\n            wrong, or try again later.\n          </Trans>\n        </EmptyMessage>\n      </Line>\n    </React.Fragment>\n  ) : build.status === 'pending' ? (\n    <Line alignItems=\"center\" expand>\n      <LinearProgress\n        style={{ flex: 1 }}\n        max={config.estimatedTimeInSeconds(build)}\n        value={config.estimatedTimeInSeconds(build) - estimatedRemainingTime}\n        mode={estimatedRemainingTime > 0 ? 'determinate' : 'indeterminate'}\n      />\n      <Spacer />\n      {estimatedRemainingTime > 0 ? (\n        <p>\n          <Trans>~{Math.round(estimatedRemainingTime / 60)} minutes.</Trans>\n        </p>\n      ) : (\n        <p>\n          <Trans>Should finish soon.</Trans>\n        </p>\n      )}\n    </Line>\n  ) : build.status === 'complete' ? (\n    <React.Fragment>\n      <Line expand>\n        {buttons\n          .filter(button => !!build[button.key])\n          .map((button, index) => (\n            <React.Fragment key={button.key}>\n              {index !== 0 && <Spacer />}\n              <RaisedButton\n                label={button.displayName}\n                primary\n                onClick={() => onDownload(button.key)}\n              />\n            </React.Fragment>\n          ))}\n        <FlatButton\n          label={<Trans>See logs</Trans>}\n          onClick={() => onDownload('logsKey')}\n        />\n      </Line>\n      <Line expand>{config && config.completeDescription}</Line>\n    </React.Fragment>\n  ) : (\n    <Line>\n      <Trans>Unknown status</Trans>\n    </Line>\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Column, Line } from '../UI/Grid';\nimport { List, ListItem } from 'material-ui/List';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport ExamplesSearchbar from './ExamplesSearchbar';\nimport ExamplesInformation from './ExamplesInformation';\nimport Window from '../Utils/Window';\nimport { fuzzyOrEmptyFilter } from '../Utils/FuzzyOrEmptyFilter';\nimport optionalRequire from '../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\ntype ExtensionUsage = Array<{\n  fullName: string,\n  name: string,\n}>;\n\ntype ExampleInformation = {|\n  description: string,\n  usedExtensions: ExtensionUsage,\n|};\n\ntype SearchEnhancedExampleInformation = {|\n  ...ExampleInformation,\n  searchableDescription: string,\n|};\n\ntype Props = {|\n  exampleNames: ?Array<string>,\n  onCreateFromExample: string => void,\n|};\n\ntype State = {|\n  searchText: string,\n  chosenExtensionName: string,\n|};\n\nconst searchableExamplesInformation: {\n  [string]: SearchEnhancedExampleInformation,\n} = {};\nObject.keys(ExamplesInformation).forEach(exampleName => {\n  const exampleInformation = ExamplesInformation[exampleName];\n  searchableExamplesInformation[exampleName] = {\n    ...exampleInformation,\n    searchableDescription: exampleInformation.description\n      .replace(/ /g, '')\n      .toLowerCase(),\n  };\n});\n\nconst formatExampleName = (name: string) => {\n  if (!name.length) return '';\n\n  return name[0].toUpperCase() + name.substr(1).replace(/-/g, ' ');\n};\n\nconst getExampleInformation = (\n  name: string\n): SearchEnhancedExampleInformation => {\n  return (\n    searchableExamplesInformation[name] || {\n      description: '',\n      searchableDescription: '',\n      usedExtensions: [],\n    }\n  );\n};\n\nconst isUsingExtension = (\n  extensionUsage: ?ExtensionUsage,\n  extensionName: string\n) => {\n  return (\n    !extensionName ||\n    (extensionUsage &&\n      !!extensionUsage.find(usage => usage.name === extensionName))\n  );\n};\n\nexport default class LocalExamples extends React.Component<Props, State> {\n  state = {\n    searchText: '',\n    chosenExtensionName: '',\n  };\n\n  changeSearchText = (searchText: string) => {\n    this.setState({\n      searchText,\n      chosenExtensionName: '',\n    });\n  };\n\n  chooseExtensionName = (chosenExtensionName: string) => {\n    this.setState({\n      searchText: '',\n      chosenExtensionName,\n    });\n  };\n\n  _submitExample() {\n    const body = `Hi!\n  \n  I'd like to submit a new example to be added to GDevelop.\n  Here is the link to download it: **INSERT the link to your game here, or add it as an attachment**.\n  \n  I confirm that any assets can be used freely by anybody, including for commercial usage.\n  `;\n    Window.openExternalURL(\n      `https://github.com/4ian/GDevelop/issues/new?body=${encodeURIComponent(\n        body\n      )}&title=New%20example`\n    );\n  }\n\n  render() {\n    const { searchText, chosenExtensionName } = this.state;\n    const lowercaseSearchText = searchText.toLowerCase();\n\n    return (\n      <Column noMargin>\n        <Line noMargin>\n          <Column expand>\n            <ExamplesSearchbar\n              value={searchText}\n              onChange={this.changeSearchText}\n              chosenExtensionName={chosenExtensionName}\n              onExtensionNameChosen={this.chooseExtensionName}\n            />\n          </Column>\n        </Line>\n        <Line noMargin>\n          <Column expand noMargin>\n            <List>\n              {this.props.exampleNames &&\n                this.props.exampleNames.map(exampleName => {\n                  const exampleFullName = formatExampleName(exampleName);\n                  const exampleInformation = getExampleInformation(exampleName);\n                  if (\n                    (searchText &&\n                      (!fuzzyOrEmptyFilter(searchText, exampleFullName) &&\n                        exampleInformation.searchableDescription.indexOf(\n                          lowercaseSearchText\n                        ) === -1)) ||\n                    !isUsingExtension(\n                      exampleInformation.usedExtensions,\n                      chosenExtensionName\n                    )\n                  ) {\n                    return null;\n                  }\n\n                  return (\n                    <ListItem\n                      key={exampleName}\n                      primaryText={exampleFullName}\n                      secondaryText={exampleInformation.description}\n                      secondaryTextLines={2}\n                      onClick={() =>\n                        this.props.onCreateFromExample(exampleName)\n                      }\n                    />\n                  );\n                })}\n              {!this.props.exampleNames && <PlaceholderLoader />}\n            </List>\n            {!!electron && (\n              <Column expand>\n                <p>\n                  <Trans>Want to contribute to the examples?</Trans>\n                </p>\n                <Line alignItems=\"center\" justifyContent=\"center\">\n                  <RaisedButton\n                    label={<Trans>Submit your example</Trans>}\n                    onClick={this._submitExample}\n                  />\n                </Line>\n              </Column>\n            )}\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props}>\n    <path d=\"M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M18,5H15.5A3.5,3.5 0 0,0 12,8.5V11H10V14H12V21H15V14H18V11H15V9A1,1 0 0,1 16,8H18V5Z\" />\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props}>\n    <path d=\"M20.18,21.55H16.94L17.17,18.82H15.58L15.35,21.55H8.65L8.42,18.82H6.83L7.06,21.55H3.82L2,9.73L6.55,2.45H17.45L22,9.73L20.18,21.55M16.55,6.09H13.62L13.82,7.45H10.18L10.38,6.09H7.45L5.64,9.73L6.55,17H17.45L18.36,9.73L16.55,6.09M14.95,14.59C14.7,14.59 14.5,13.83 14.5,12.9C14.5,11.96 14.7,11.2 14.95,11.2C15.21,11.2 15.41,11.96 15.41,12.9C15.41,13.83 15.21,14.59 14.95,14.59M9.22,14.73C8.96,14.73 8.76,13.97 8.76,13.04C8.76,12.1 8.96,11.35 9.22,11.35C9.47,11.35 9.67,12.1 9.67,13.04C9.67,13.97 9.47,14.73 9.22,14.73Z\" />\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props}>\n    <path d=\"M12,20L15.46,14H15.45C15.79,13.4 16,12.73 16,12C16,10.8 15.46,9.73 14.62,9H19.41C19.79,9.93 20,10.94 20,12A8,8 0 0,1 12,20M4,12C4,10.54 4.39,9.18 5.07,8L8.54,14H8.55C9.24,15.19 10.5,16 12,16C12.45,16 12.88,15.91 13.29,15.77L10.89,19.91C7,19.37 4,16.04 4,12M15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9A3,3 0 0,1 15,12M12,4C14.96,4 17.54,5.61 18.92,8H12C10.06,8 8.45,9.38 8.08,11.21L5.7,7.08C7.16,5.21 9.44,4 12,4M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\" />\n  </SvgIcon>\n);\n","// @flow\n// Note: this file does not use export/imports and use Flow comments to allow its usage from Node.js\n\nconst some = require('lodash/some');\n/*flow-include \nexport type TranslationFunction = (string) => string;\n\nexport type JsExtensionModule = {\n  createExtension(_: TranslationFunction, gd: any): gdPlatformExtension,\n  runExtensionSanityTests(gd: any, extension: gdPlatformExtension): Array<string>,\n};\n\nexport type ExtensionLoadingResult = {\n  error: boolean,\n  message: string,\n  dangerous?: boolean,\n  rawError?: any,\n};\n\nexport interface JsExtensionsLoader {\n  loadAllExtensions(_: TranslationFunction): Promise<\n    Array<{ extensionModulePath: string, result: ExtensionLoadingResult }>\n  >,\n}\n*/\n\n/**\n * Run extensions tests and check for any non-empty results.\n */\nconst runExtensionSanityTests = (\n  gd /*: any */,\n  extension /*: gdPlatformExtension*/,\n  jsExtensionModule /*: JsExtensionModule*/\n) /*: ExtensionLoadingResult*/ => {\n  if (!jsExtensionModule.runExtensionSanityTests) {\n    return {\n      error: true,\n      message:\n        'Missing runExtensionSanityTests in the extension module exports',\n    };\n  }\n\n  const testResults = jsExtensionModule.runExtensionSanityTests(gd, extension);\n  if (some(testResults)) {\n    return {\n      error: true,\n      message: 'One or more tests are failing for the extension (see rawError)',\n      rawError: testResults,\n    };\n  }\n\n  return {\n    error: false,\n    message: 'Tests passed successfully',\n  };\n};\n\n/**\n * Load an extension from the specified JavaScript module, which is supposed\n * to contain a \"createExtension\" function returning a gd.PlatformExtension.\n */\nconst loadExtension = (\n  _ /*: TranslationFunction */,\n  gd /*: any */,\n  platform /*: gdPlatform*/,\n  jsExtensionModule /*: JsExtensionModule*/\n) /*: ExtensionLoadingResult*/ => {\n  if (!jsExtensionModule.createExtension) {\n    return {\n      message:\n        'Extension module found, but no createExtension method is exported',\n      error: true,\n    };\n  }\n\n  let extension = null;\n  try {\n    extension = jsExtensionModule.createExtension(_, gd);\n    if (!extension) {\n      return {\n        message: `createExtension did not return any extension. Did you forget to return the extension created?`,\n        error: true,\n      };\n    }\n  } catch (ex) {\n    return {\n      message: `🚨 Exception caught while running createExtension. 💣 Please fix this error as this will make GDevelop crash at some point.`,\n      error: true,\n      dangerous: true,\n      rawError: ex,\n    };\n  }\n\n  try {\n    const testsResult = runExtensionSanityTests(\n      gd,\n      extension,\n      jsExtensionModule\n    );\n    if (testsResult.error) {\n      extension.delete();\n      return testsResult;\n    }\n  } catch (ex) {\n    return {\n      message: `🚨 Exception caught while running runExtensionSanityTests. 💣 Please fix this error as this will make GDevelop crash at some point.`,\n      error: true,\n      dangerous: true,\n      rawError: ex,\n    };\n  }\n\n  platform.addNewExtension(extension);\n  extension.delete(); // Release the extension as it was copied inside gd.JsPlatform\n\n  return {\n    message: '✅ Successfully loaded the extension.',\n    error: false,\n  };\n};\n\nmodule.exports = {\n  runExtensionSanityTests,\n  loadExtension,\n};\n","// @flow\nimport * as React from 'react';\nimport { ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\nimport { I18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\ntype Props = {|\n  onPlay: () => void,\n  canPlay: boolean,\n  onPause: () => void,\n  canPause: boolean,\n  onOpenProfiler: () => void,\n|};\n\nexport class Toolbar extends React.PureComponent<Props> {\n  render() {\n    const { onPlay, onPause, canPlay, canPause, onOpenProfiler } = this.props;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <ToolbarGroup lastChild>\n            <ToolbarIcon\n              onClick={onPlay}\n              src=\"res/ribbon_default/preview32.png\"\n              disabled={!canPlay}\n              tooltip={i18n._(t`Play the game`)}\n            />\n            <ToolbarIcon\n              onClick={onPause}\n              src=\"res/ribbon_default/pause32.png\"\n              disabled={!canPause}\n              tooltip={i18n._(t`Pause the game`)}\n            />\n            <ToolbarSeparator />\n            <ToolbarIcon\n              onClick={onOpenProfiler}\n              src=\"res/ribbon_default/profiler32.png\"\n              tooltip={i18n._(t`Open the performance profiler`)}\n            />\n          </ToolbarGroup>\n        )}\n      </I18n>\n    );\n  }\n}\n\nexport default Toolbar;\n","// @flow\nimport * as React from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport get from 'lodash/get';\nimport {\n  type InspectorDescription,\n  type InspectorDescriptionsGetter,\n  type GameData,\n} from './GDJSInspectorDescriptions';\n\ntype Props = {|\n  gameData: GameData,\n  getInspectorDescriptions: InspectorDescriptionsGetter,\n  onChooseInspector: (\n    InspectorDescription,\n    fullInspectorPath: Array<string>\n  ) => void,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    display: 'flex',\n  },\n  list: {\n    overflowY: 'scroll',\n    flex: 1,\n  },\n};\n\n/**\n * Generate a visual list of inspectors, using gameData and getInspectorDescriptions\n */\nexport default class InspectorsList extends React.Component<Props, void> {\n  _renderInspectorList(\n    gameData: GameData,\n    getInspectorDescriptions: InspectorDescriptionsGetter,\n    path: Array<string>\n  ): Array<React.Node> {\n    return getInspectorDescriptions(gameData).map(inspectorDescription => {\n      if (!inspectorDescription) return null;\n      const fullInspectorPath = path.concat(inspectorDescription.key);\n\n      const getSubInspectors = inspectorDescription.getSubInspectors;\n      const nestedItems = getSubInspectors\n        ? this._renderInspectorList(\n            get(gameData, inspectorDescription.key, null),\n            getSubInspectors,\n            fullInspectorPath\n          )\n        : undefined;\n\n      return (\n        <ListItem\n          key={fullInspectorPath.join('.')}\n          primaryText={inspectorDescription.label}\n          initiallyOpen={!!inspectorDescription.initiallyOpen}\n          onClick={() =>\n            this.props.onChooseInspector(\n              inspectorDescription,\n              fullInspectorPath\n            )\n          }\n          nestedItems={nestedItems}\n          primaryTogglesNestedList\n        />\n      );\n    });\n  }\n\n  render() {\n    return this.props.gameData ? (\n      <List style={styles.list}>\n        {this._renderInspectorList(\n          this.props.gameData,\n          this.props.getInspectorDescriptions,\n          []\n        )}\n      </List>\n    ) : null;\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ReactJsonView from 'react-json-view';\nimport {\n  type GameData,\n  type EditFunction,\n  type CallFunction,\n} from '../GDJSInspectorDescriptions';\nimport mapValues from 'lodash/mapValues';\n\ntype Props = {|\n  variablesContainer: GameData,\n  onCall: CallFunction,\n  onEdit: EditFunction,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n};\n\nconst transformVariable = variable => {\n  if (!variable) return null;\n\n  if (!variable._isStructure) {\n    return variable._stringDirty ? variable._value : variable._str;\n  } else {\n    if (!variable._children) return null;\n\n    return mapValues(variable._children, transformVariable);\n  }\n};\n\nconst transform = variablesContainer => {\n  if (\n    !variablesContainer ||\n    !variablesContainer._variables ||\n    !variablesContainer._variables.items\n  )\n    return null;\n\n  return mapValues(variablesContainer._variables.items, transformVariable);\n};\n\nconst handleEdit = (edit, { onCall, onEdit }: Props) => {\n  // Reconstruct the path to the variable to edit\n  const path = ['_variables', 'items'];\n  edit.namespace.forEach(variableName => {\n    path.push(variableName);\n    path.push('_children');\n  });\n  path.push(edit.name);\n\n  // Guess the type of the new value (number or string)\n  if (parseFloat(edit.new_value).toString() === edit.new_value) {\n    path.push('setNumber');\n    onCall(path, [parseFloat(edit.new_value)]);\n  } else {\n    path.push('setString');\n    onCall(path, ['' + edit.new_value]);\n  }\n\n  return true;\n};\n\nexport default (props: Props) => (\n  <div style={styles.container}>\n    <ReactJsonView\n      collapsed={false}\n      name={false}\n      src={\n        props.variablesContainer ? transform(props.variablesContainer) : null\n      }\n      enableClipboard={false}\n      displayDataTypes={false}\n      displayObjectSize={false}\n      onEdit={edit => handleEdit(edit, props)}\n      groupArraysAfterLength={50}\n      theme=\"monokai\"\n    />\n  </div>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ReactJsonView from 'react-json-view';\nimport {\n  type GameData,\n  type EditFunction,\n  type CallFunction,\n} from '../GDJSInspectorDescriptions';\nimport VariablesContainerInspector from './VariablesContainerInspector';\n\ntype Props = {|\n  runtimeObject: GameData,\n  onCall: CallFunction,\n  onEdit: EditFunction,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n};\n\nconst transform = runtimeObject => {\n  if (!runtimeObject) return null;\n  return {\n    'X position': runtimeObject.x,\n    'Y position': runtimeObject.y,\n    Angle: runtimeObject.angle,\n    Layer: runtimeObject.layer,\n    'Z order': runtimeObject.zOrder,\n    'Is hidden?': runtimeObject.hidden,\n  };\n};\n\nconst handleEdit = (edit, { onCall, onEdit }: Props) => {\n  if (edit.name === 'X position') {\n    onCall(['setX'], [parseFloat(edit.new_value)]);\n  } else if (edit.name === 'Y position') {\n    onCall(['setY'], [parseFloat(edit.new_value)]);\n  } else if (edit.name === 'Angle') {\n    onCall(['setAngle'], [parseFloat(edit.new_value)]);\n  } else if (edit.name === 'Layer') {\n    onCall(['setLayer'], [edit.new_value]);\n  } else if (edit.name === 'Z order') {\n    onCall(['setZOrder'], [parseFloat(edit.new_value)]);\n  } else if (edit.name === 'Is hidden?') {\n    onCall(['hide'], [!!edit.new_value]);\n  } else return false;\n\n  return true;\n};\n\nexport default (props: Props) => (\n  <div style={styles.container}>\n    <p>\n      <Trans>General:</Trans>\n    </p>\n    <ReactJsonView\n      collapsed={false}\n      name={false}\n      src={transform(props.runtimeObject)}\n      enableClipboard={false}\n      displayDataTypes={false}\n      displayObjectSize={false}\n      onEdit={edit => handleEdit(edit, props)}\n      groupArraysAfterLength={50}\n      theme=\"monokai\"\n    />\n    <p>\n      <Trans>Instance variables:</Trans>\n    </p>\n    <VariablesContainerInspector\n      variablesContainer={\n        props.runtimeObject ? props.runtimeObject._variables : null\n      }\n      // TODO: onEdit and onCall could benefit from a \"forward\" utility function\n      // (can also be applied in DebuggerContent.js)\n      onEdit={(path, newValue) =>\n        props.onEdit(['_variables'].concat(path), newValue)\n      }\n      onCall={(path, args) => props.onCall(['_variables'].concat(path), args)}\n    />\n  </div>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ReactJsonView from 'react-json-view';\nimport {\n  type GameData,\n  type EditFunction,\n  type CallFunction,\n} from '../GDJSInspectorDescriptions';\nimport { Line } from '../../UI/Grid';\nimport mapValues from 'lodash/mapValues';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { defaultAutocompleteProps } from '../../UI/AutocompleteProps';\n\ntype Props = {|\n  runtimeScene: GameData,\n  onCall: CallFunction,\n  onEdit: EditFunction,\n|};\n\ntype State = {|\n  newObjectName: string,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n};\n\nconst transformLayer = layer => {\n  if (!layer) return null;\n  return {\n    'Camera rotation (in deg)': layer._cameraRotation,\n    'Camera zoom': layer._zoomFactor,\n    'Layer is hidden': !!layer._hidden,\n    'Camera X position': layer._cameraX,\n    'Camera Y position': layer._cameraY,\n    'Time scale': layer._timeScale,\n  };\n};\n\nconst transform = runtimeScene => {\n  if (!runtimeScene) return null;\n\n  return {\n    'Time scale': runtimeScene._timeManager\n      ? runtimeScene._timeManager._timeScale\n      : null,\n    Layers:\n      runtimeScene._layers && runtimeScene._layers.items\n        ? mapValues(runtimeScene._layers.items, transformLayer)\n        : null,\n  };\n};\n\nconst handleEdit = (edit, { onCall, onEdit }: Props) => {\n  if (edit.namespace.length === 0 && edit.name === 'Time scale') {\n    onCall(['_timeManager', 'setTimeScale'], [parseFloat(edit.new_value)]);\n  } else if (edit.namespace.length >= 2) {\n    if (edit.namespace[0] === 'Layers') {\n      if (edit.name === 'Camera rotation (in deg)') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setCameraRotation'],\n          [parseFloat(edit.new_value)]\n        );\n      } else if (edit.name === 'Camera zoom') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setCameraZoom'],\n          [parseFloat(edit.new_value)]\n        );\n      } else if (edit.name === 'Layer is hidden') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'show'],\n          [!edit.new_value]\n        );\n      } else if (edit.name === 'Camera X position') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setCameraX'],\n          [parseFloat(edit.new_value)]\n        );\n      } else if (edit.name === 'Camera Y position') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setCameraY'],\n          [parseFloat(edit.new_value)]\n        );\n      } else if (edit.name === 'Time scale') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setTimeScale'],\n          [parseFloat(edit.new_value)]\n        );\n      }\n    }\n  } else return false;\n\n  return true;\n};\n\nexport default class RuntimeSceneInspector extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    newObjectName: '',\n  };\n\n  render() {\n    const { runtimeScene, onCall } = this.props;\n    if (!runtimeScene) return null;\n\n    return (\n      <div style={styles.container}>\n        <p>\n          <Trans>Layers:</Trans>\n        </p>\n        <ReactJsonView\n          collapsed={false}\n          name={false}\n          src={transform(runtimeScene)}\n          enableClipboard={false}\n          displayDataTypes={false}\n          displayObjectSize={false}\n          onEdit={edit => handleEdit(edit, this.props)}\n          groupArraysAfterLength={50}\n          theme=\"monokai\"\n        />\n        <p>\n          <Trans>\n            Create a new instance on the scene (will be at position 0;0):\n          </Trans>\n        </p>\n        {runtimeScene._objects && runtimeScene._objects.items && (\n          <Line noMargin alignItems=\"baseline\">\n            <AutoComplete\n              {...defaultAutocompleteProps}\n              hintText={<Trans>Enter the name of the object</Trans>}\n              searchText={this.state.newObjectName}\n              onUpdateInput={value => {\n                this.setState({\n                  newObjectName: value,\n                });\n              }}\n              onNewRequest={data => {\n                // Note that data may be a string or a {text, value} object.\n                if (typeof data === 'string') {\n                  this.setState({\n                    newObjectName: data,\n                  });\n                } else if (typeof data.value === 'string') {\n                  this.setState({\n                    newObjectName: data.value,\n                  });\n                }\n              }}\n              dataSource={Object.keys(runtimeScene._objects.items).map(\n                objectName => ({\n                  text: objectName,\n                  value: objectName,\n                })\n              )}\n            />\n            <RaisedButton\n              label={<Trans>Create</Trans>}\n              primary\n              onClick={() =>\n                onCall(['createObject'], [this.state.newObjectName])\n              }\n            />\n          </Line>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport RuntimeObjectInspector from './Inspectors/RuntimeObjectInspector';\nimport VariablesContainerInspector from './Inspectors/VariablesContainerInspector';\nimport RuntimeSceneInspector from './Inspectors/RuntimeSceneInspector';\n\nexport type GameData = any;\nexport type EditFunction = (path: Array<string>, newValue: any) => boolean;\nexport type CallFunction = (path: Array<string>, args: Array<any>) => boolean;\n\nexport type InspectorDescriptionsGetter = (\n  gameData: GameData\n) => Array<InspectorDescription>; //eslint-disable-line\n\nexport type InspectorDescription = {|\n  label: string,\n  key: string | Array<string>,\n  renderInspector: (\n    gameData: GameData,\n    {\n      onCall: CallFunction,\n      onEdit: EditFunction,\n    }\n  ) => React.Node,\n  getSubInspectors?: InspectorDescriptionsGetter,\n  initiallyOpen?: boolean,\n|};\n\n/**\n * Returns the list of inspectors, given the data coming from a GDJS RuntimeGame.\n * @param {*} gdjsRuntimeGame\n */\nexport const getInspectorDescriptions = (\n  gdjsRuntimeGame: GameData\n): Array<InspectorDescription> => {\n  return [\n    {\n      label: 'Global variables',\n      key: '_variables',\n      renderInspector: (gameData, { onCall, onEdit }) => (\n        <VariablesContainerInspector\n          variablesContainer={gameData}\n          onCall={onCall}\n          onEdit={onEdit}\n        />\n      ),\n    },\n    {\n      label: 'Scenes',\n      key: ['_sceneStack', '_stack'],\n      renderInspector: () => null,\n      initiallyOpen: true,\n      getSubInspectors: gdjsStack => {\n        if (!gdjsStack) return [];\n\n        return gdjsStack.map((runtimeScene, index) => ({\n          label: runtimeScene._name,\n          key: index,\n          renderInspector: (gameData, { onCall, onEdit }) => (\n            <RuntimeSceneInspector\n              runtimeScene={gameData}\n              onCall={onCall}\n              onEdit={onEdit}\n            />\n          ),\n          initiallyOpen: true,\n          getSubInspectors: runtimeScene => [\n            {\n              label: 'Scene variables',\n              key: `_variables`,\n              renderInspector: (gameData, { onCall, onEdit }) => (\n                <VariablesContainerInspector\n                  variablesContainer={gameData}\n                  onCall={onCall}\n                  onEdit={onEdit}\n                />\n              ),\n            },\n            {\n              label: 'Instances',\n              key: `_instances`,\n              renderInspector: () => null,\n              initiallyOpen: true,\n              getSubInspectors: instances => {\n                if (!instances || !instances.items) return [];\n\n                return Object.keys(instances.items).map(objectName => {\n                  if (\n                    !instances.items[objectName] ||\n                    typeof instances.items[objectName].length === undefined\n                  )\n                    return null;\n\n                  return {\n                    label: `${objectName} (${\n                      instances.items[objectName].length\n                    })`,\n                    key: ['items', objectName],\n                    renderInspector: () => null,\n                    getSubInspectors: instancesList =>\n                      instancesList\n                        ? instancesList\n                            .filter(runtimeObject => !!runtimeObject)\n                            .map((runtimeObject, index) => {\n                              return {\n                                label: `#${runtimeObject.id}`,\n                                key: index,\n                                renderInspector: (\n                                  gameData,\n                                  { onCall, onEdit }\n                                ) => (\n                                  <RuntimeObjectInspector\n                                    runtimeObject={gameData}\n                                    onCall={onCall}\n                                    onEdit={onEdit}\n                                  />\n                                ),\n                              };\n                            })\n                        : [],\n                  };\n                });\n              },\n            },\n          ],\n        }));\n      },\n    },\n  ];\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ReactJsonView from 'react-json-view';\nimport { type GameData } from '../GDJSInspectorDescriptions';\nimport EmptyMessage from '../../UI/EmptyMessage';\n\ntype Props = {|\n  gameData: GameData,\n  onEdit: (path: Array<string>, newValue: any) => boolean,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n};\n\n/**\n * A very simple inspector that display the raw information given by the gameData\n * object.\n */\nexport default ({ gameData, onEdit }: Props) => (\n  <div style={styles.container}>\n    <EmptyMessage>\n      <Trans>\n        You are in raw mode. You can edit the fields, but be aware that this can\n        lead to unexpected results or even crash the debugged game!\n      </Trans>\n    </EmptyMessage>\n    <ReactJsonView\n      collapsed={1}\n      name={false}\n      src={gameData}\n      onEdit={edit => {\n        return onEdit(edit.namespace.concat(edit.name), edit.new_value);\n      }}\n      groupArraysAfterLength={50}\n      theme=\"monokai\"\n    />\n  </div>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { AutoSizer, Table, Column } from 'react-virtualized';\nimport ThemeConsumer from '../../UI/Theme/ThemeConsumer';\nimport flatMap from 'lodash/flatMap';\nimport { type ProfilerMeasuresSection } from '..';\nimport IconButton from 'material-ui/IconButton';\nimport ExpandMore from 'material-ui/svg-icons/navigation/expand-more';\nimport ChevronRight from 'material-ui/svg-icons/navigation/chevron-right';\n\nconst styles = {\n  indent: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n};\n\ntype Props = {|\n  profilerMeasures: ?ProfilerMeasuresSection,\n|};\n\ntype ProfilerRowData = {|\n  name: string,\n  time: string,\n  parentPercent: string,\n  totalPercent: string,\n  depth: number,\n  hasSubsections: boolean,\n  path: string,\n  isCollapsed: boolean,\n|};\n\ntype State = {|\n  collapsedPaths: { [string]: boolean },\n|};\n\nexport default class MeasuresTable extends React.Component<Props, State> {\n  state = {\n    collapsedPaths: {},\n  };\n\n  _convertToDataRows = (\n    name: string,\n    parentSection: ?ProfilerMeasuresSection,\n    section: ProfilerMeasuresSection,\n    depth: number = 0,\n    path: string = ''\n  ): Array<ProfilerRowData> => {\n    const { profilerMeasures } = this.props;\n\n    const parentPercent =\n      parentSection && section.time && parentSection.time !== 0\n        ? (section.time / parentSection.time) * 100\n        : 100;\n    const totalPercent =\n      profilerMeasures && section.time && profilerMeasures.time !== 0\n        ? (section.time / profilerMeasures.time) * 100\n        : 100;\n    const isCollapsed = this._isSectionCollapsed(path);\n\n    return [\n      {\n        name,\n        time: section.time ? `${section.time.toFixed(2)}ms` : '?',\n        parentPercent: `${parentPercent.toFixed(2)}%`,\n        totalPercent: `${totalPercent.toFixed(2)}%`,\n        depth,\n        hasSubsections: !!Object.keys(section.subsections).length,\n        path,\n        isCollapsed,\n      },\n      ...(isCollapsed\n        ? []\n        : flatMap(section.subsections, (subsection, subsectionName) =>\n            this._convertToDataRows(\n              subsectionName,\n              section,\n              subsection,\n              depth + 1,\n              `${path}>${depth}.${subsectionName}`\n            )\n          )),\n    ];\n  };\n\n  _isSectionCollapsed = (path: string) => {\n    return this.state.collapsedPaths[path];\n  };\n\n  _toggleSection = (path: string) => {\n    this.setState(state => ({\n      collapsedPaths: {\n        ...state.collapsedPaths,\n        [path]: !state.collapsedPaths[path],\n      },\n    }));\n  };\n\n  _rowClassName = ({ index }: { index: number }) => {\n    if (index < 0) {\n      return 'tableHeaderRow';\n    } else {\n      return index % 2 === 0 ? 'tableEvenRow' : 'tableOddRow';\n    }\n  };\n\n  _renderSectionNameCell = ({ rowData }: { rowData: ProfilerRowData }) => {\n    return (\n      <div style={styles.indent}>\n        <div style={{ width: rowData.depth * 8 }} />\n        {rowData.hasSubsections ? (\n          <IconButton onClick={() => this._toggleSection(rowData.path)}>\n            {rowData.isCollapsed ? <ChevronRight /> : <ExpandMore />}\n          </IconButton>\n        ) : (\n          <div style={{ width: 24 }} />\n        )}\n        {rowData.name}\n      </div>\n    );\n  };\n\n  render() {\n    const { profilerMeasures } = this.props;\n    if (!profilerMeasures) return null;\n\n    const dataRows = this._convertToDataRows('All', null, profilerMeasures);\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <AutoSizer>\n            {({ height, width }) => (\n              <Table\n                headerHeight={30}\n                height={height}\n                className={muiTheme.tableRootClassName}\n                headerClassName={'tableHeaderColumn'}\n                rowCount={dataRows.length}\n                rowGetter={({ index }) => dataRows[index]}\n                rowHeight={35}\n                onRowClick={() => {}}\n                rowClassName={this._rowClassName}\n                width={width}\n              >\n                <Column\n                  label={<Trans>Section name</Trans>}\n                  dataKey=\"name\"\n                  width={width * 0.4}\n                  className={'tableColumn'}\n                  cellRenderer={this._renderSectionNameCell}\n                />\n                <Column\n                  label={<Trans>Time (ms)</Trans>}\n                  dataKey=\"time\"\n                  width={width * 0.2}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>% of parent</Trans>}\n                  dataKey=\"parentPercent\"\n                  width={width * 0.2}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>% of total</Trans>}\n                  dataKey=\"totalPercent\"\n                  width={width * 0.2}\n                  className={'tableColumn'}\n                />\n              </Table>\n            )}\n          </AutoSizer>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport MeasuresTable from './MeasuresTable';\nimport { type ProfilerOutput } from '..';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { Line } from '../../UI/Grid';\nimport Background from '../../UI/Background';\nimport LinearProgress from 'material-ui/LinearProgress';\n\nconst styles = {\n  tableContainer: {\n    flex: 1,\n  },\n};\n\ntype Props = {|\n  onStart: () => void,\n  onStop: () => void,\n  profilerOutput: ?ProfilerOutput,\n  profilingInProgress: boolean,\n|};\n\nexport default class Profiler extends React.Component<Props, void> {\n  render() {\n    const { onStart, onStop, profilerOutput, profilingInProgress } = this.props;\n\n    return (\n      <Background>\n        <Line alignItems=\"center\" justifyContent=\"center\">\n          {!profilingInProgress && profilerOutput && (\n            <p>\n              <Trans>\n                Last run collected on {profilerOutput.stats.framesCount} frames.\n              </Trans>\n            </p>\n          )}\n          {!profilingInProgress && profilerOutput && (\n            <RaisedButton label={<Trans>Restart</Trans>} onClick={onStart} />\n          )}\n          {!profilingInProgress && !profilerOutput && (\n            <RaisedButton\n              label={<Trans>Start profiling</Trans>}\n              onClick={onStart}\n            />\n          )}\n          {profilingInProgress && (\n            <RaisedButton\n              label={<Trans>Stop profiling</Trans>}\n              onClick={onStop}\n            />\n          )}\n        </Line>\n        {profilingInProgress && (\n          <Line alignItems=\"center\">\n            <LinearProgress style={{ flex: 1 }} mode={'indeterminate'} />\n          </Line>\n        )}\n        <div style={styles.tableContainer}>\n          {profilerOutput && (\n            <MeasuresTable\n              profilerMeasures={profilerOutput.framesAverageMeasures}\n            />\n          )}\n          {!profilerOutput && (\n            <EmptyMessage>\n              <Trans>\n                Start profiling and then stop it after a few seconds to see the\n                results.\n              </Trans>\n            </EmptyMessage>\n          )}\n        </div>\n      </Background>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport EditorMosaic, { MosaicWindow } from '../UI/EditorMosaic';\nimport Background from '../UI/Background';\nimport get from 'lodash/get';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Column, Line } from '../UI/Grid';\nimport InspectorsList from './InspectorsList';\nimport {\n  getInspectorDescriptions,\n  type InspectorDescription,\n  type EditFunction,\n  type CallFunction,\n} from './GDJSInspectorDescriptions';\nimport RawContentInspector from './Inspectors/RawContentInspector';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport Checkbox from 'material-ui/Checkbox';\nimport Flash from 'material-ui/svg-icons/image/flash-on';\nimport FlashOff from 'material-ui/svg-icons/image/flash-off';\nimport HelpButton from '../UI/HelpButton';\nimport Profiler from './Profiler';\nimport { type ProfilerOutput } from '.';\n\ntype Props = {|\n  gameData: ?any,\n  onEdit: EditFunction,\n  onCall: CallFunction,\n  onPlay: () => void,\n  onPause: () => void,\n  onRefresh: () => void,\n  onStartProfiler: () => void,\n  onStopProfiler: () => void,\n  profilerOutput: ?ProfilerOutput,\n  profilingInProgress: boolean,\n|};\n\ntype State = {|\n  selectedInspector: ?InspectorDescription,\n  selectedInspectorFullPath: Array<string>,\n  rawMode: boolean,\n|};\n\n/**\n * The debugger interface: show the list of inspectors for a game, along with the\n * currently selected inspector.\n */\nexport default class DebuggerContent extends React.Component<Props, State> {\n  state = {\n    selectedInspector: null,\n    selectedInspectorFullPath: [],\n    rawMode: false,\n  };\n\n  _editors: ?EditorMosaic = null;\n\n  openProfiler = () => {\n    if (this._editors) this._editors.openEditor('profiler', 'bottom');\n  };\n\n  render() {\n    const {\n      gameData,\n      onRefresh,\n      onCall,\n      onEdit,\n      onStartProfiler,\n      onStopProfiler,\n      profilerOutput,\n      profilingInProgress,\n    } = this.props;\n    const {\n      selectedInspector,\n      selectedInspectorFullPath,\n      rawMode,\n    } = this.state;\n\n    return (\n      <EditorMosaic\n        ref={editors => (this._editors = editors)}\n        editors={{\n          inspectors: (\n            <MosaicWindow\n              title={<Trans>Inspectors</Trans>}\n              toolbarControls={[]}\n              gameData={gameData}\n            >\n              <Background>\n                <Column expand noMargin>\n                  <Line justifyContent=\"center\">\n                    <RaisedButton\n                      label={<Trans>Refresh</Trans>}\n                      onClick={onRefresh}\n                      primary\n                    />\n                  </Line>\n                  <Line expand noMargin>\n                    <InspectorsList\n                      gameData={gameData}\n                      getInspectorDescriptions={getInspectorDescriptions}\n                      onChooseInspector={(\n                        selectedInspector,\n                        selectedInspectorFullPath\n                      ) =>\n                        this.setState({\n                          selectedInspector,\n                          selectedInspectorFullPath,\n                        })\n                      }\n                    />\n                  </Line>\n                </Column>\n              </Background>\n            </MosaicWindow>\n          ),\n          'selected-inspector': (\n            <Column expand noMargin>\n              {' '}\n              {selectedInspector ? (\n                rawMode ? (\n                  <RawContentInspector\n                    gameData={get(gameData, selectedInspectorFullPath, null)}\n                    onEdit={(path, newValue) =>\n                      onEdit(selectedInspectorFullPath.concat(path), newValue)\n                    }\n                  />\n                ) : (\n                  selectedInspector.renderInspector(\n                    get(gameData, selectedInspectorFullPath, null),\n                    {\n                      onCall: (path, args) =>\n                        onCall(selectedInspectorFullPath.concat(path), args),\n                      onEdit: (path, newValue) =>\n                        onEdit(\n                          selectedInspectorFullPath.concat(path),\n                          newValue\n                        ),\n                    }\n                  ) || (\n                    <EmptyMessage>\n                      <Trans>\n                        No inspector, choose another element in the list or\n                        toggle the raw data view.\n                      </Trans>\n                    </EmptyMessage>\n                  )\n                )\n              ) : (\n                <EmptyMessage>\n                  {gameData\n                    ? 'Choose an element to inspect in the list'\n                    : 'Pause the game (from the toolbar) or hit refresh (on the left) to inspect the game'}\n                </EmptyMessage>\n              )}\n              <Column>\n                <Line justifyContent=\"space-between\" alignItems=\"center\">\n                  <HelpButton helpPagePath=\"/interface/debugger\" />\n                  <div>\n                    <Checkbox\n                      checkedIcon={<Flash />}\n                      uncheckedIcon={<FlashOff />}\n                      checked={rawMode}\n                      onCheck={(e, enabled) =>\n                        this.setState({\n                          rawMode: enabled,\n                        })\n                      }\n                    />\n                  </div>\n                </Line>\n              </Column>\n            </Column>\n          ),\n          profiler: (\n            <MosaicWindow\n              title={<Trans>Profiler</Trans>}\n              // Pass profilerOutput to force MosaicWindow update when profilerOutput is changed\n              profilerOutput={profilerOutput}\n              profilingInProgress={profilingInProgress}\n            >\n              <Profiler\n                onStart={onStartProfiler}\n                onStop={onStopProfiler}\n                profilerOutput={profilerOutput}\n                profilingInProgress={profilingInProgress}\n              />\n            </MosaicWindow>\n          ),\n        }}\n        initialNodes={{\n          direction: 'column',\n          first: {\n            direction: 'row',\n            first: 'inspectors',\n            second: 'selected-inspector',\n            splitPercentage: 25,\n          },\n          second: 'profiler',\n          splitPercentage: 65,\n        }}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { Column } from '../UI/Grid';\nimport { type DebuggerId } from '.';\n\ntype Props = {|\n  selectedId: DebuggerId,\n  debuggerIds: Array<DebuggerId>,\n  onChooseDebugger: DebuggerId => void,\n|};\n\nexport default class DebuggerSelector extends React.Component<Props, void> {\n  render() {\n    const hasDebuggers = !!this.props.debuggerIds.length;\n    return (\n      <Column>\n        <SelectField\n          fullWidth\n          value={hasDebuggers ? this.props.selectedId : 0}\n          onChange={(e, i, value) => this.props.onChooseDebugger(value)}\n          disabled={!hasDebuggers}\n        >\n          {this.props.debuggerIds.map(id => (\n            <MenuItem value={id} key={id} primaryText={'Game preview #' + id} />\n          ))}\n          {!hasDebuggers && (\n            <MenuItem\n              value={0}\n              primaryText={\n                'No preview running. Run a preview and you will be able to inspect it with the debugger'\n              }\n            />\n          )}\n        </SelectField>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Toolbar from './Toolbar';\nimport DebuggerContent from './DebuggerContent';\nimport DebuggerSelector from './DebuggerSelector';\nimport { Column } from '../UI/Grid';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport PlaceholderMessage from '../UI/PlaceholderMessage';\nimport Background from '../UI/Background';\nimport optionalRequire from '../Utils/OptionalRequire';\nimport EmptyMessage from '../UI/EmptyMessage';\nconst electron = optionalRequire('electron');\nconst ipcRenderer = electron ? electron.ipcRenderer : null;\n\n//Each game connected to the debugger server is identified by a unique number\nexport type DebuggerId = number;\n\nexport type ProfilerMeasuresSection = {|\n  time: number,\n  subsections: { [string]: ProfilerMeasuresSection },\n|};\n\nexport type ProfilerOutput = {|\n  framesAverageMeasures: ProfilerMeasuresSection,\n  stats: {\n    framesCount: number,\n  },\n|};\n\ntype Props = {|\n  project: gdProject,\n  setToolbar: React.Node => void,\n  isActive: boolean,\n|};\n\ntype State = {|\n  debuggerServerStarted: boolean,\n  debuggerServerError: ?any,\n\n  debuggerIds: Array<DebuggerId>,\n  debuggerGameData: { [DebuggerId]: any },\n  profilerOutputs: { [DebuggerId]: ProfilerOutput },\n  profilingInProgress: { [DebuggerId]: boolean },\n  selectedId: DebuggerId,\n|};\n\n/**\n * Start the debugger server, listen to commands received and issue commands to it.\n * This is only supported on Electron runtime for now.\n */\nexport default class Debugger extends React.Component<Props, State> {\n  state = {\n    debuggerServerStarted: false,\n    debuggerServerError: null,\n    debuggerIds: [],\n    debuggerGameData: {},\n    profilerOutputs: {},\n    profilingInProgress: {},\n    selectedId: 0,\n  };\n\n  _debuggerContents: { [DebuggerId]: ?DebuggerContent } = {};\n\n  updateToolbar() {\n    if (!this.props.isActive) return;\n\n    this.props.setToolbar(\n      <Toolbar\n        onPlay={() => this._play(this.state.selectedId)}\n        onPause={() => this._pause(this.state.selectedId)}\n        canPlay={this._hasSelectedDebugger()}\n        canPause={this._hasSelectedDebugger()}\n        onOpenProfiler={() => {\n          if (this._debuggerContents[this.state.selectedId])\n            this._debuggerContents[this.state.selectedId].openProfiler();\n        }}\n      />\n    );\n  }\n\n  componentDidMount() {\n    if (this.props.isActive) {\n      this._startServer();\n    }\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.isActive && !this.props.isActive) {\n      this._startServer();\n    }\n  }\n\n  componentWillUnmount() {\n    this._removeServerListeners();\n  }\n\n  _removeServerListeners = () => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.removeAllListeners('debugger-send-message-done');\n    ipcRenderer.removeAllListeners('debugger-error-received');\n    ipcRenderer.removeAllListeners('debugger-connection-closed');\n    ipcRenderer.removeAllListeners('debugger-connection-opened');\n    ipcRenderer.removeAllListeners('debugger-start-server-done');\n    ipcRenderer.removeAllListeners('debugger-message-received');\n  };\n\n  _startServer = () => {\n    if (!ipcRenderer) return;\n\n    this.setState({\n      debuggerServerStarted: false,\n    });\n    this._removeServerListeners();\n\n    ipcRenderer.on('debugger-error-received', (event, err) => {\n      this.setState(\n        {\n          debuggerServerError: err,\n        },\n        () => this.updateToolbar()\n      );\n    });\n\n    ipcRenderer.on('debugger-connection-closed', (event, { id }) => {\n      const { debuggerIds, selectedId } = this.state;\n      const remainingDebuggerIds = debuggerIds.filter(\n        debuggerId => debuggerId !== id\n      );\n      this.setState(\n        {\n          debuggerIds: remainingDebuggerIds,\n          selectedId:\n            selectedId !== id\n              ? selectedId\n              : remainingDebuggerIds.length\n              ? remainingDebuggerIds[remainingDebuggerIds.length - 1]\n              : selectedId,\n        },\n        () => this.updateToolbar()\n      );\n    });\n\n    ipcRenderer.on('debugger-connection-opened', (event, { id }) => {\n      this.setState(\n        {\n          debuggerIds: [...this.state.debuggerIds, id],\n          selectedId: id,\n        },\n        () => this.updateToolbar()\n      );\n    });\n\n    ipcRenderer.on('debugger-start-server-done', event => {\n      this.setState(\n        {\n          debuggerServerStarted: true,\n        },\n        () => this.updateToolbar()\n      );\n    });\n\n    ipcRenderer.on('debugger-message-received', (event, { id, message }) => {\n      console.log('Processing message received for debugger');\n      try {\n        const data = JSON.parse(message);\n        this._handleMessage(id, data);\n      } catch (e) {\n        console.warn(\n          'Error while parsing message received from debugger client:',\n          e\n        );\n      }\n    });\n    ipcRenderer.send('debugger-start-server');\n  };\n\n  _handleMessage = (id: DebuggerId, data: any) => {\n    if (data.command === 'dump') {\n      this.setState({\n        debuggerGameData: {\n          ...this.state.debuggerGameData,\n          [id]: data.payload,\n        },\n      });\n    } else if (data.command === 'profiler.output') {\n      this.setState({\n        profilerOutputs: {\n          ...this.state.profilerOutputs,\n          [id]: data.payload,\n        },\n      });\n    } else if (data.command === 'profiler.started') {\n      this.setState(state => ({\n        profilingInProgress: { ...state.profilingInProgress, [id]: true },\n      }));\n    } else if (data.command === 'profiler.stopped') {\n      this.setState(state => ({\n        profilingInProgress: { ...state.profilingInProgress, [id]: false },\n      }));\n    } else {\n      console.warn(\n        'Unknown command received from debugger client:',\n        data.command\n      );\n    }\n  };\n\n  _play = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"play\"}',\n    });\n  };\n\n  _pause = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"pause\"}',\n    });\n  };\n\n  _refresh = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"refresh\"}',\n    });\n  };\n\n  _edit = (id: DebuggerId, path: Array<string>, newValue: any) => {\n    if (!ipcRenderer) return false;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: JSON.stringify({\n        command: 'set',\n        path,\n        newValue,\n      }),\n    });\n\n    setTimeout(() => this._refresh(id), 100);\n    return true;\n  };\n\n  _call = (id: DebuggerId, path: Array<string>, args: Array<any>) => {\n    if (!ipcRenderer) return false;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: JSON.stringify({\n        command: 'call',\n        path,\n        args,\n      }),\n    });\n\n    setTimeout(() => this._refresh(id), 100);\n    return true;\n  };\n\n  _startProfiler = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"profiler.start\"}',\n    });\n  };\n\n  _stopProfiler = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"profiler.stop\"}',\n    });\n  };\n\n  _hasSelectedDebugger = () => {\n    const { selectedId, debuggerIds } = this.state;\n    return debuggerIds.indexOf(selectedId) !== -1;\n  };\n\n  render() {\n    const {\n      debuggerServerError,\n      debuggerServerStarted,\n      selectedId,\n      debuggerIds,\n      debuggerGameData,\n      profilerOutputs,\n      profilingInProgress,\n    } = this.state;\n\n    return (\n      <Background>\n        {!debuggerServerStarted && !debuggerServerError && (\n          <PlaceholderMessage>\n            <PlaceholderLoader />\n            <p>\n              <Trans>Debugger is starting...</Trans>\n            </p>\n          </PlaceholderMessage>\n        )}\n        {!debuggerServerStarted && debuggerServerError && (\n          <PlaceholderMessage>\n            <p>\n              <Trans>\n                Unable to start the debugger server! Make sure that you are\n                authorized to run servers on this computer.\n              </Trans>\n            </p>\n          </PlaceholderMessage>\n        )}\n        {debuggerServerStarted && (\n          <Column expand noMargin>\n            <DebuggerSelector\n              selectedId={selectedId}\n              debuggerIds={debuggerIds}\n              onChooseDebugger={id =>\n                this.setState({\n                  selectedId: id,\n                })\n              }\n            />\n            {this._hasSelectedDebugger() && (\n              <DebuggerContent\n                ref={debuggerContent =>\n                  (this._debuggerContents[selectedId] = debuggerContent)\n                }\n                gameData={debuggerGameData[selectedId]}\n                onPlay={() => this._play(selectedId)}\n                onPause={() => this._pause(selectedId)}\n                onRefresh={() => this._refresh(selectedId)}\n                onEdit={(path, args) => this._edit(selectedId, path, args)}\n                onCall={(path, args) => this._call(selectedId, path, args)}\n                onStartProfiler={() => this._startProfiler(selectedId)}\n                onStopProfiler={() => this._stopProfiler(selectedId)}\n                profilerOutput={profilerOutputs[selectedId]}\n                profilingInProgress={profilingInProgress[selectedId]}\n              />\n            )}\n            {!this._hasSelectedDebugger() && (\n              <EmptyMessage>\n                <Trans>\n                  Run a preview and you will be able to inspect it with the\n                  debugger.\n                </Trans>\n              </EmptyMessage>\n            )}\n          </Column>\n        )}\n      </Background>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Debugger from '../../Debugger';\nimport BaseEditor from './BaseEditor';\nimport SubscriptionChecker from '../../Profile/SubscriptionChecker';\n\nexport default class DebuggerEditor extends BaseEditor {\n  editor: ?Debugger;\n  _subscriptionChecker: ?SubscriptionChecker;\n  state = {\n    subscriptionChecked: false,\n  };\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  componentWillReceiveProps() {\n    this._checkHasSubscription();\n  }\n\n  componentDidMount() {\n    this._checkHasSubscription();\n  }\n\n  _checkHasSubscription() {\n    if (\n      this._subscriptionChecker &&\n      this.props.isActive &&\n      !this.state.subscriptionChecked\n    ) {\n      this._subscriptionChecker.checkHasSubscription();\n      this.setState({\n        subscriptionChecked: true,\n      });\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Debugger {...this.props} ref={editor => (this.editor = editor)} />\n        <SubscriptionChecker\n          ref={subscriptionChecker =>\n            (this._subscriptionChecker = subscriptionChecker)\n          }\n          onChangeSubscription={() => {\n            if (this.props.onChangeSubscription)\n              this.props.onChangeSubscription();\n          }}\n          id=\"Debugger\"\n          title={<Trans>Debugger</Trans>}\n          mode=\"try\"\n        />\n      </React.Fragment>\n    );\n  }\n}\n","const themeData = {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    {\n      foreground: '969896',\n      token: 'comment',\n    },\n    {\n      foreground: 'ced1cf',\n      token: 'keyword.operator.class',\n    },\n    {\n      foreground: 'ced1cf',\n      token: 'constant.other',\n    },\n    {\n      foreground: 'ced1cf',\n      token: 'source.php.embedded.line',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'variable',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'support.other.variable',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'string.other.link',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'meta.tag',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'declaration.tag',\n    },\n    {\n      foreground: 'de935f',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: 'de935f',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'de935f',\n      token: 'support.constant',\n    },\n    {\n      foreground: 'de935f',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'de935f',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: 'de935f',\n      token: 'punctuation.section.embedded',\n    },\n    {\n      foreground: 'de935f',\n      token: 'keyword.other.unit',\n    },\n    {\n      foreground: 'f0c674',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: 'f0c674',\n      token: 'entity.name.type.class',\n    },\n    {\n      foreground: 'f0c674',\n      token: 'support.type',\n    },\n    {\n      foreground: 'f0c674',\n      token: 'support.class',\n    },\n    {\n      foreground: 'b5bd68',\n      token: 'string',\n    },\n    {\n      foreground: 'b5bd68',\n      token: 'constant.other.symbol',\n    },\n    {\n      foreground: 'b5bd68',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: 'b5bd68',\n      token: 'markup.heading',\n    },\n    {\n      foreground: '8abeb7',\n      token: 'keyword.operator',\n    },\n    {\n      foreground: '8abeb7',\n      token: 'constant.other.color',\n    },\n    {\n      foreground: '81a2be',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '81a2be',\n      token: 'meta.function-call',\n    },\n    {\n      foreground: '81a2be',\n      token: 'support.function',\n    },\n    {\n      foreground: '81a2be',\n      token: 'keyword.other.special-method',\n    },\n    {\n      foreground: '81a2be',\n      token: 'meta.block-level',\n    },\n    {\n      foreground: 'b294bb',\n      token: 'keyword',\n    },\n    {\n      foreground: 'b294bb',\n      token: 'storage',\n    },\n    {\n      foreground: 'b294bb',\n      token: 'storage.type',\n    },\n    {\n      foreground: 'b294bb',\n      token: 'entity.name.tag.css',\n    },\n    {\n      foreground: 'ced2cf',\n      background: 'df5f5f',\n      token: 'invalid',\n    },\n    {\n      foreground: 'ced2cf',\n      background: '82a3bf',\n      token: 'meta.separator',\n    },\n    {\n      foreground: 'ced2cf',\n      background: 'b798bf',\n      token: 'invalid.deprecated',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#C5C8C6',\n    'editor.background': '#1D1F21',\n    'editor.selectionBackground': '#373B41',\n    'editor.lineHighlightBackground': '#282A2E',\n    'editorCursor.foreground': '#AEAFAD',\n    'editorWhitespace.foreground': '#4B4E55',\n  },\n};\n\nexport default {\n  name: 'Tomorrow-Night',\n  themeName: 'tomorrow-night',\n  themeData,\n};\n","const themeData = {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    {\n      foreground: '75715e',\n      token: 'comment',\n    },\n    {\n      foreground: 'e6db74',\n      token: 'string',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.other',\n    },\n    {\n      foreground: 'f92672',\n      token: 'keyword',\n    },\n    {\n      foreground: 'f92672',\n      token: 'storage',\n    },\n    {\n      foreground: '66d9ef',\n      fontStyle: 'italic',\n      token: 'storage.type',\n    },\n    {\n      foreground: 'a6e22e',\n      fontStyle: 'underline',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: 'a6e22e',\n      fontStyle: 'italic underline',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: 'a6e22e',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: 'fd971f',\n      fontStyle: 'italic',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: 'f92672',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: 'a6e22e',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: '66d9ef',\n      token: 'support.function',\n    },\n    {\n      foreground: '66d9ef',\n      token: 'support.constant',\n    },\n    {\n      foreground: '66d9ef',\n      fontStyle: 'italic',\n      token: 'support.type',\n    },\n    {\n      foreground: '66d9ef',\n      fontStyle: 'italic',\n      token: 'support.class',\n    },\n    {\n      foreground: 'f8f8f0',\n      background: 'f92672',\n      token: 'invalid',\n    },\n    {\n      foreground: 'f8f8f0',\n      background: 'ae81ff',\n      token: 'invalid.deprecated',\n    },\n    {\n      foreground: 'cfcfc2',\n      token: 'meta.structure.dictionary.json string.quoted.double.json',\n    },\n    {\n      foreground: '75715e',\n      token: 'meta.diff',\n    },\n    {\n      foreground: '75715e',\n      token: 'meta.diff.header',\n    },\n    {\n      foreground: 'f92672',\n      token: 'markup.deleted',\n    },\n    {\n      foreground: 'a6e22e',\n      token: 'markup.inserted',\n    },\n    {\n      foreground: 'e6db74',\n      token: 'markup.changed',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.numeric.line-number.find-in-files - match',\n    },\n    {\n      foreground: 'e6db74',\n      token: 'entity.name.filename.find-in-files',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#F8F8F2',\n    'editor.background': '#272822',\n    'editor.selectionBackground': '#49483E',\n    'editor.lineHighlightBackground': '#3E3D32',\n    'editorCursor.foreground': '#F8F8F0',\n    'editorWhitespace.foreground': '#3B3A32',\n    'editorIndentGuide.activeBackground': '#9D550F',\n    'editor.selectionHighlightBorder': '#222218',\n  },\n};\n\nexport default {\n  name: 'Monokai',\n  themeName: 'monokai',\n  themeData,\n};\n","const themeData = {\n  base: 'vs',\n  inherit: true,\n  rules: [\n    {\n      foreground: '8e908c',\n      token: 'comment',\n    },\n    {\n      foreground: '666969',\n      token: 'keyword.operator.class',\n    },\n    {\n      foreground: '666969',\n      token: 'constant.other',\n    },\n    {\n      foreground: '666969',\n      token: 'source.php.embedded.line',\n    },\n    {\n      foreground: 'c82829',\n      token: 'variable',\n    },\n    {\n      foreground: 'c82829',\n      token: 'support.other.variable',\n    },\n    {\n      foreground: 'c82829',\n      token: 'string.other.link',\n    },\n    {\n      foreground: 'c82829',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'c82829',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: 'c82829',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: 'c82829',\n      token: 'meta.tag',\n    },\n    {\n      foreground: 'c82829',\n      token: 'declaration.tag',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'support.constant',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'punctuation.section.embedded',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'keyword.other.unit',\n    },\n    {\n      foreground: 'c99e00',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: 'c99e00',\n      token: 'entity.name.type.class',\n    },\n    {\n      foreground: 'c99e00',\n      token: 'support.type',\n    },\n    {\n      foreground: 'c99e00',\n      token: 'support.class',\n    },\n    {\n      foreground: '718c00',\n      token: 'string',\n    },\n    {\n      foreground: '718c00',\n      token: 'constant.other.symbol',\n    },\n    {\n      foreground: '718c00',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: '718c00',\n      token: 'markup.heading',\n    },\n    {\n      foreground: '3e999f',\n      token: 'keyword.operator',\n    },\n    {\n      foreground: '3e999f',\n      token: 'constant.other.color',\n    },\n    {\n      foreground: '4271ae',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '4271ae',\n      token: 'meta.function-call',\n    },\n    {\n      foreground: '4271ae',\n      token: 'support.function',\n    },\n    {\n      foreground: '4271ae',\n      token: 'keyword.other.special-method',\n    },\n    {\n      foreground: '4271ae',\n      token: 'meta.block-level',\n    },\n    {\n      foreground: '8959a8',\n      token: 'keyword',\n    },\n    {\n      foreground: '8959a8',\n      token: 'storage',\n    },\n    {\n      foreground: '8959a8',\n      token: 'storage.type',\n    },\n    {\n      foreground: 'ffffff',\n      background: 'c82829',\n      token: 'invalid',\n    },\n    {\n      foreground: 'ffffff',\n      background: '4271ae',\n      token: 'meta.separator',\n    },\n    {\n      foreground: 'ffffff',\n      background: '8959a8',\n      token: 'invalid.deprecated',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#4D4D4C',\n    'editor.background': '#FFFFFF',\n    'editor.selectionBackground': '#D6D6D6',\n    'editor.lineHighlightBackground': '#EFEFEF',\n    'editorCursor.foreground': '#AEAFAD',\n    'editorWhitespace.foreground': '#D1D1D1',\n  },\n};\n\nexport default {\n  name: 'Tomorrow',\n  themeName: 'tomorrow',\n  themeData,\n};\n","const themeData = {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    {\n      foreground: '657b83',\n      fontStyle: 'italic',\n      token: 'comment',\n    },\n    {\n      foreground: '2aa198',\n      token: 'string',\n    },\n    {\n      foreground: 'd30102',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'd33682',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: '268bd2',\n      token: 'variable.language',\n    },\n    {\n      foreground: '268bd2',\n      token: 'variable.other',\n    },\n    {\n      foreground: '859900',\n      token: 'keyword',\n    },\n    {\n      foreground: '93a1a1',\n      fontStyle: 'bold',\n      token: 'storage',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'entity.name.type.class',\n    },\n    {\n      foreground: '268bd2',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '859900',\n      token: 'punctuation.definition.variable',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.section.embedded.begin',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.section.embedded.end',\n    },\n    {\n      foreground: 'b58900',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'b58900',\n      token: 'meta.preprocessor',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'support.function.construct',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'keyword.other.new',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'constant.other',\n    },\n    {\n      foreground: '6c71c4',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: '268bd2',\n      fontStyle: 'bold',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: '657b83',\n      token: 'punctuation.definition.tag',\n    },\n    {\n      foreground: '93a1a1',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: '268bd2',\n      token: 'support.function',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.separator.continuation',\n    },\n    {\n      foreground: '859900',\n      token: 'support.type',\n    },\n    {\n      foreground: '859900',\n      token: 'support.class',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'support.type.exception',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#93A1A1',\n    'editor.background': '#002B36',\n    'editor.selectionBackground': '#073642',\n    'editor.lineHighlightBackground': '#073642',\n    'editorCursor.foreground': '#D30102',\n    'editorWhitespace.foreground': '#93A1A1',\n  },\n};\n\nexport default {\n  name: 'Solarized-Dark',\n  themeName: 'solarized-dark',\n  themeData,\n};\n","const themeData = {\n  base: 'vs',\n  inherit: true,\n  rules: [\n    {\n      foreground: '93a1a1',\n      token: 'comment',\n    },\n    {\n      foreground: '2aa198',\n      token: 'string',\n    },\n    {\n      foreground: 'd30102',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'd33682',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: '268bd2',\n      token: 'variable.language',\n    },\n    {\n      foreground: '268bd2',\n      token: 'variable.other',\n    },\n    {\n      foreground: '859900',\n      token: 'keyword',\n    },\n    {\n      foreground: '073642',\n      fontStyle: 'bold',\n      token: 'storage',\n    },\n    {\n      foreground: '268bd2',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: '268bd2',\n      token: 'entity.name.type.class',\n    },\n    {\n      foreground: '268bd2',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '859900',\n      token: 'punctuation.definition.variable',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.section.embedded.begin',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.section.embedded.end',\n    },\n    {\n      foreground: 'b58900',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'b58900',\n      token: 'meta.preprocessor',\n    },\n    {\n      foreground: 'd30102',\n      token: 'support.function.construct',\n    },\n    {\n      foreground: 'd30102',\n      token: 'keyword.other.new',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'constant.other',\n    },\n    {\n      foreground: '268bd2',\n      fontStyle: 'bold',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: '93a1a1',\n      token: 'punctuation.definition.tag.begin',\n    },\n    {\n      foreground: '93a1a1',\n      token: 'punctuation.definition.tag.end',\n    },\n    {\n      foreground: '93a1a1',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: '268bd2',\n      token: 'support.function',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.separator.continuation',\n    },\n    {\n      foreground: '859900',\n      token: 'support.type',\n    },\n    {\n      foreground: '859900',\n      token: 'support.class',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'support.type.exception',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#586E75',\n    'editor.background': '#FDF6E3',\n    'editor.selectionBackground': '#073642',\n    'editor.lineHighlightBackground': '#EEE8D5',\n    'editorCursor.foreground': '#000000',\n    'editorWhitespace.foreground': '#93A1A1',\n  },\n};\n\nexport default {\n  name: 'Solarized-Light',\n  themeName: 'solarized-light',\n  themeData,\n};\n","const themeData = {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    {\n      foreground: 'ffffff',\n      background: '0f0f0f',\n      token: 'text',\n    },\n    {\n      background: '000000',\n      token: 'source.ruby.rails.embedded.html',\n    },\n    {\n      foreground: 'ffffff',\n      background: '101010',\n      token: 'text.html.ruby',\n    },\n    {\n      foreground: 'ccff33',\n      background: '000000',\n      token: 'invalid',\n    },\n    {\n      foreground: 'ccff33',\n      background: '000000',\n      token: 'invalid.deprecated',\n    },\n    {\n      foreground: '99cc99',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: 'ffffff',\n      background: '000000',\n      token: 'source',\n    },\n    {\n      foreground: '9933cc',\n      token: 'comment',\n    },\n    {\n      foreground: '339999',\n      token: 'constant',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'keyword',\n    },\n    {\n      foreground: 'edf8f9',\n      token: 'keyword.preprocessor',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'keyword.preprocessor directive',\n    },\n    {\n      foreground: 'ffcc00',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: 'ffcc00',\n      token: 'storage.type.function.js',\n    },\n    {\n      fontStyle: 'italic',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: '772cb7',\n      background: '070707',\n      token: 'source comment.block',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'variable.other',\n    },\n    {\n      foreground: 'ffcc00',\n      token: 'support.function',\n    },\n    {\n      foreground: '66ff00',\n      token: 'string',\n    },\n    {\n      foreground: 'aaaaaa',\n      token: 'string constant.character.escape',\n    },\n    {\n      foreground: '000000',\n      background: 'cccc33',\n      token: 'string.interpolated',\n    },\n    {\n      foreground: '44b4cc',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'cccc33',\n      token: 'string.literal',\n    },\n    {\n      foreground: '555555',\n      token: 'string.interpolated constant.character.escape',\n    },\n    {\n      fontStyle: 'underline',\n      token: 'entity.name.class',\n    },\n    {\n      fontStyle: 'underline',\n      token: 'support.class.js',\n    },\n    {\n      fontStyle: 'italic underline',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'meta.tag.inline.any.html',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'meta.tag.block.any.html',\n    },\n    {\n      foreground: '99cc99',\n      fontStyle: 'italic',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: 'dde93d',\n      token: 'keyword.other',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'meta.selector.css',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'entity.other.attribute-name.pseudo-class.css',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'entity.name.tag.wildcard.css',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'entity.other.attribute-name.id.css',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'entity.other.attribute-name.class.css',\n    },\n    {\n      foreground: '999966',\n      token: 'support.type.property-name.css',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'keyword.other.unit.css',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'constant.other.rgb-value.css',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'constant.numeric.css',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'support.function.event-handler.js',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'keyword.operator.js',\n    },\n    {\n      foreground: 'cccc66',\n      token: 'keyword.control.js',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'support.class.prototype.js',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'object.property.function.prototype.js',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#FFFFFF',\n    'editor.background': '#0F0F0F',\n    'editor.selectionBackground': '#6699CC',\n    'editor.lineHighlightBackground': '#333333',\n    'editorCursor.foreground': '#FFFFFF',\n    'editorWhitespace.foreground': '#404040',\n  },\n};\n\nexport default {\n  name: 'Vibrant Ink',\n  themeName: 'vibrant-ink',\n  themeData,\n};\n","const themeData = {\n  base: 'vs',\n  inherit: true,\n  rules: [\n    {\n      foreground: '999988',\n      fontStyle: 'italic',\n      token: 'comment',\n    },\n    {\n      foreground: '999999',\n      fontStyle: 'bold',\n      token: 'comment.block.preprocessor',\n    },\n    {\n      foreground: '999999',\n      fontStyle: 'bold italic',\n      token: 'comment.documentation',\n    },\n    {\n      foreground: '999999',\n      fontStyle: 'bold italic',\n      token: 'comment.block.documentation',\n    },\n    {\n      foreground: 'a61717',\n      background: 'e3d2d2',\n      token: 'invalid.illegal',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'keyword',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'storage',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'keyword.operator',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'constant.language',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'support.constant',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'storage.type',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'support.type',\n    },\n    {\n      foreground: '008080',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: '0086b3',\n      token: 'variable.other',\n    },\n    {\n      foreground: '999999',\n      token: 'variable.language',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'entity.name.type',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'support.class',\n    },\n    {\n      foreground: '008080',\n      token: 'variable.other.constant',\n    },\n    {\n      foreground: '800080',\n      token: 'constant.character.entity',\n    },\n    {\n      foreground: '990000',\n      token: 'entity.name.exception',\n    },\n    {\n      foreground: '990000',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '990000',\n      token: 'support.function',\n    },\n    {\n      foreground: '990000',\n      token: 'keyword.other.name-of-parameter',\n    },\n    {\n      foreground: '555555',\n      token: 'entity.name.section',\n    },\n    {\n      foreground: '000080',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: '008080',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: '008080',\n      token: 'support.variable',\n    },\n    {\n      foreground: '009999',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: '009999',\n      token: 'constant.other',\n    },\n    {\n      foreground: 'dd1144',\n      token: 'string - string source',\n    },\n    {\n      foreground: 'dd1144',\n      token: 'constant.character',\n    },\n    {\n      foreground: '009926',\n      token: 'string.regexp',\n    },\n    {\n      foreground: '990073',\n      token: 'constant.other.symbol',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'punctuation',\n    },\n    {\n      foreground: '000000',\n      background: 'ffdddd',\n      token: 'markup.deleted',\n    },\n    {\n      fontStyle: 'italic',\n      token: 'markup.italic',\n    },\n    {\n      foreground: 'aa0000',\n      token: 'markup.error',\n    },\n    {\n      foreground: '999999',\n      token: 'markup.heading.1',\n    },\n    {\n      foreground: '000000',\n      background: 'ddffdd',\n      token: 'markup.inserted',\n    },\n    {\n      foreground: '888888',\n      token: 'markup.output',\n    },\n    {\n      foreground: '888888',\n      token: 'markup.raw',\n    },\n    {\n      foreground: '555555',\n      token: 'markup.prompt',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'markup.bold',\n    },\n    {\n      foreground: 'aaaaaa',\n      token: 'markup.heading',\n    },\n    {\n      foreground: 'aa0000',\n      token: 'markup.traceback',\n    },\n    {\n      fontStyle: 'underline',\n      token: 'markup.underline',\n    },\n    {\n      foreground: '999999',\n      background: 'eaf2f5',\n      token: 'meta.diff.range',\n    },\n    {\n      foreground: '999999',\n      background: 'eaf2f5',\n      token: 'meta.diff.index',\n    },\n    {\n      foreground: '999999',\n      background: 'eaf2f5',\n      token: 'meta.separator',\n    },\n    {\n      foreground: '999999',\n      background: 'ffdddd',\n      token: 'meta.diff.header.from-file',\n    },\n    {\n      foreground: '999999',\n      background: 'ddffdd',\n      token: 'meta.diff.header.to-file',\n    },\n    {\n      foreground: '4183c4',\n      token: 'meta.link',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#000000',\n    'editor.background': '#F8F8FF',\n    'editor.selectionBackground': '#B4D5FE',\n    'editor.lineHighlightBackground': '#FFFEEB',\n    'editorCursor.foreground': '#666666',\n    'editorWhitespace.foreground': '#BBBBBB',\n  },\n};\n\nexport default {\n  name: 'GitHub',\n  themeName: 'github',\n  themeData,\n};\n","// @flow\nimport TomorrowNight from './TomorrowNight';\nimport Monokai from './Monokai';\nimport Tomorrow from './Tomorrow';\nimport SolarizedDark from './SolarizedDark';\nimport SolarizedLight from './SolarizedLight';\nimport VibrantInk from './VibrantInk';\nimport GitHub from './GitHub';\n\ntype CodeEditorTheme = {|\n  name: string,\n  themeName: string,\n  themeData?: any,\n|};\n\n// Want to add a new theme? Grab a theme made for Visual Studio Code (Monaco Editor)\n// (for example on https://bitwiser.in/monaco-themes/). Copy an existing file (like Monokai.js),\n// replace themeData, update the name, and finally add it to this list\n// (+import it at the top of the file):\nconst themes: Array<CodeEditorTheme> = [\n  // Built-in Monaco editor themes\n  {\n    name: 'Visual Studio',\n    themeName: 'vs',\n  },\n  {\n    name: 'Visual Studio Dark',\n    themeName: 'vs-dark',\n  },\n  // Third parties themes\n  GitHub,\n  Monokai,\n  SolarizedDark,\n  SolarizedLight,\n  Tomorrow,\n  TomorrowNight,\n  VibrantInk,\n];\n\nexport const getAllThemes = () => themes;\n","import { Component } from 'react';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport { DragDropContext } from 'react-dnd';\n\nclass DragDropContextProvider extends Component {\n  render() {\n    return this.props.children;\n  }\n}\n\nexport default DragDropContext(HTML5Backend)(DragDropContextProvider);\n","// @flow\nimport * as React from 'react';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nexport default ({\n  children,\n  isLoading,\n}: {\n  children: React.Node,\n  isLoading: ?boolean,\n}) => (\n  <div style={{ display: 'flex', alignItems: 'center' }}>\n    {children}\n    {isLoading && <CircularProgress size={20} style={{ marginLeft: 5 }} />}\n  </div>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Dialog from '../UI/Dialog';\nimport { Column, Line, Spacer } from '../UI/Grid';\nimport TextField from 'material-ui/TextField/TextField';\nimport {\n  type LoginForm,\n  type LoginError,\n} from '../Utils/GDevelopServices/Authentification';\nimport RightLoader from '../UI/RightLoader';\nimport LeftLoader from '../UI/LeftLoader';\n\ntype Props = {|\n  open: boolean,\n  onClose: Function,\n  onLogin: (form: LoginForm) => void,\n  onCreateAccount: (form: LoginForm) => void,\n  onForgotPassword: (form: LoginForm) => void,\n  loginInProgress: boolean,\n  createAccountInProgress: boolean,\n  error: ?LoginError,\n  resetPasswordDialogOpen: boolean,\n  onCloseResetPasswordDialog: Function,\n  forgotPasswordInProgress: boolean,\n|};\n\ntype State = {|\n  form: LoginForm,\n|};\n\nconst getEmailErrorText = (error: ?LoginError) => {\n  if (!error) return undefined;\n\n  if (error.code === 'auth/invalid-email') return 'This email is invalid';\n  if (error.code === 'auth/user-disabled') return 'The user was disabled';\n  if (error.code === 'auth/user-not-found')\n    return 'This user was not found: have you created your account?';\n  if (error.code === 'auth/email-already-in-use')\n    return 'This email was already used for another account';\n  if (error.code === 'auth/operation-not-allowed')\n    return 'Service seems to be unavailable, please try again later';\n  return undefined;\n};\n\nconst getPasswordErrorText = (error: ?LoginError) => {\n  if (!error) return undefined;\n\n  if (error.code === 'auth/wrong-password') return 'The password is invalid';\n  if (error.code === 'auth/weak-password')\n    return 'This password is too weak: please use more letters and digits';\n  return undefined;\n};\n\nexport default class LoginDialog extends Component<Props, State> {\n  state = {\n    form: {\n      email: '',\n      password: '',\n    },\n  };\n\n  _onLogin = () => {\n    const { form } = this.state;\n    this.props.onLogin(form);\n  };\n\n  _onCreateAccount = () => {\n    const { form } = this.state;\n    this.props.onCreateAccount(form);\n  };\n\n  _onForgotPassword = () => {\n    const { form } = this.state;\n    this.props.onForgotPassword(form);\n  };\n\n  render() {\n    const {\n      open,\n      onClose,\n      createAccountInProgress,\n      loginInProgress,\n      error,\n      resetPasswordDialogOpen,\n      onCloseResetPasswordDialog,\n      forgotPasswordInProgress,\n    } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        key=\"close\"\n        primary={false}\n        onClick={onClose}\n      />,\n    ];\n\n    return (\n      <Dialog\n        title={<Trans>Login or create a GDevelop account</Trans>}\n        actions={actions}\n        secondaryActions={[\n          <RightLoader\n            isLoading={forgotPasswordInProgress}\n            key=\"forgot-password\"\n          >\n            <FlatButton\n              label={<Trans>I forgot my password</Trans>}\n              primary={false}\n              disabled={\n                loginInProgress ||\n                createAccountInProgress ||\n                forgotPasswordInProgress\n              }\n              onClick={this._onForgotPassword}\n            />\n          </RightLoader>,\n        ]}\n        onRequestClose={onClose}\n        open={open}\n        autoScrollBodyContent\n      >\n        <Column noMargin>\n          <TextField\n            value={this.state.form.email}\n            floatingLabelText={<Trans>Email</Trans>}\n            errorText={getEmailErrorText(error)}\n            fullWidth\n            onChange={(e, value) => {\n              this.setState({\n                form: {\n                  ...this.state.form,\n                  email: value,\n                },\n              });\n            }}\n          />\n          <TextField\n            value={this.state.form.password}\n            floatingLabelText={<Trans>Password</Trans>}\n            errorText={getPasswordErrorText(error)}\n            type=\"password\"\n            fullWidth\n            onChange={(e, value) => {\n              this.setState({\n                form: {\n                  ...this.state.form,\n                  password: value,\n                },\n              });\n            }}\n          />\n          <Spacer />\n          <Line expand justifyContent=\"space-between\">\n            <RightLoader isLoading={createAccountInProgress}>\n              <RaisedButton\n                label={<Trans>Create my account</Trans>}\n                disabled={\n                  loginInProgress ||\n                  createAccountInProgress ||\n                  forgotPasswordInProgress\n                }\n                onClick={this._onCreateAccount}\n              />\n            </RightLoader>\n\n            <LeftLoader isLoading={loginInProgress}>\n              <FlatButton\n                label={<Trans>Login</Trans>}\n                onClick={this._onLogin}\n                disabled={\n                  loginInProgress ||\n                  createAccountInProgress ||\n                  forgotPasswordInProgress\n                }\n              />\n            </LeftLoader>\n          </Line>\n        </Column>\n        <Dialog\n          open={resetPasswordDialogOpen}\n          title={<Trans>Reset your password</Trans>}\n          actions={[\n            <FlatButton\n              label={<Trans>Close</Trans>}\n              key=\"close\"\n              onClick={onCloseResetPasswordDialog}\n            />,\n          ]}\n        >\n          <Column noMargin>\n            <p>\n              <Trans>\n                You should have received an email containing instructions to\n                reset and set a new password. Once it's done, you can use your\n                new password in GDevelop.\n              </Trans>\n            </p>\n          </Column>\n        </Dialog>\n      </Dialog>\n    );\n  }\n}\n","// @flow\n\nimport * as React from 'react';\nimport {\n  getUserUsages,\n  getUserSubscription,\n  getUserLimits,\n} from '../Utils/GDevelopServices/Usage';\nimport Authentification, {\n  type Profile,\n  type LoginForm,\n  type LoginError,\n} from '../Utils/GDevelopServices/Authentification';\nimport LoginDialog from './LoginDialog';\nimport { watchPromiseInState } from '../Utils/WatchPromiseInState';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { sendSignupDone } from '../Utils/Analytics/EventSender';\nimport UserProfileContext, {\n  initialUserProfile,\n  type UserProfile,\n} from './UserProfileContext';\n\ntype Props = {\n  authentification: Authentification,\n  children: React.Node,\n};\n\ntype State = {|\n  userProfile: UserProfile,\n  loginDialogOpen: boolean,\n  loginInProgress: boolean,\n  createAccountInProgress: boolean,\n  loginError: ?LoginError,\n  resetPasswordDialogOpen: boolean,\n  forgotPasswordInProgress: boolean,\n|};\n\nexport default class UserProfileProvider extends React.Component<Props, State> {\n  state = {\n    userProfile: initialUserProfile,\n    loginDialogOpen: false,\n    loginInProgress: false,\n    createAccountInProgress: false,\n    loginError: null,\n    resetPasswordDialogOpen: false,\n    forgotPasswordInProgress: false,\n  };\n\n  componentDidMount() {\n    this._resetUserProfile();\n    this.props.authentification.onUserChange(this._fetchUserProfile);\n  }\n\n  _resetUserProfile() {\n    this.setState({\n      userProfile: {\n        ...initialUserProfile,\n        onLogout: this._doLogout,\n        onLogin: () => this.openLogin(true),\n        onRefreshUserProfile: this._fetchUserProfile,\n        getAuthorizationHeader: () =>\n          this.props.authentification.getAuthorizationHeader(),\n      },\n    });\n  }\n\n  _fetchUserProfile = () => {\n    const { authentification } = this.props;\n\n    authentification.getUserProfile((err, profile: ?Profile) => {\n      if (err && err.unauthenticated) {\n        return this.setState({\n          userProfile: {\n            ...this.state.userProfile,\n            authenticated: false,\n            profile: null,\n            usages: null,\n            limits: null,\n            subscription: null,\n          },\n        });\n      } else if (err || !profile) {\n        console.log('Unable to fetch user profile', err);\n        return;\n      }\n\n      this.setState(\n        {\n          userProfile: {\n            ...this.state.userProfile,\n            authenticated: true,\n            profile,\n          },\n        },\n        () => {\n          if (!profile) return;\n\n          getUserUsages(\n            authentification.getAuthorizationHeader,\n            profile.uid\n          ).then(usages =>\n            this.setState({\n              userProfile: {\n                ...this.state.userProfile,\n                usages,\n              },\n            })\n          );\n          getUserSubscription(\n            authentification.getAuthorizationHeader,\n            profile.uid\n          ).then(subscription =>\n            this.setState({\n              userProfile: {\n                ...this.state.userProfile,\n                subscription,\n              },\n            })\n          );\n          getUserLimits(\n            authentification.getAuthorizationHeader,\n            profile.uid\n          ).then(limits =>\n            this.setState({\n              userProfile: {\n                ...this.state.userProfile,\n                limits,\n              },\n            })\n          );\n        }\n      );\n    });\n  };\n\n  _doLogout = () => {\n    if (this.props.authentification) this.props.authentification.logout();\n    this._resetUserProfile();\n  };\n\n  _doLogin = (form: LoginForm) => {\n    const { authentification } = this.props;\n    if (!authentification) return;\n\n    watchPromiseInState(this, 'loginInProgress', () =>\n      authentification.login(form).then(\n        () => {\n          this._fetchUserProfile();\n          this.openLogin(false);\n        },\n        (loginError: LoginError) => {\n          this.setState({\n            loginError,\n          });\n          throw loginError;\n        }\n      )\n    );\n  };\n\n  _doCreateAccount = (form: LoginForm) => {\n    const { authentification } = this.props;\n    if (!authentification) return;\n\n    watchPromiseInState(this, 'createAccountInProgress', () =>\n      authentification.createAccount(form).then(\n        () => {\n          this._fetchUserProfile();\n          this.openLogin(false);\n          sendSignupDone(form.email);\n        },\n        (loginError: LoginError) => {\n          this.setState({\n            loginError,\n          });\n          throw loginError;\n        }\n      )\n    );\n  };\n\n  _doForgotPassword = (form: LoginForm) => {\n    const { authentification } = this.props;\n    if (!authentification) return;\n\n    watchPromiseInState(this, 'forgotPasswordInProgress', () =>\n      authentification.forgotPassword(form).then(\n        () => {\n          this.openResetPassword(true);\n        },\n        (loginError: LoginError) => {\n          this.setState({\n            loginError,\n          });\n          showWarningBox(\n            \"Unable to send you an email to reset your password. Please double-check that the email address that you've entered is valid.\"\n          );\n          throw loginError;\n        }\n      )\n    );\n  };\n\n  openResetPassword = (open: boolean = true) => {\n    this.setState({\n      resetPasswordDialogOpen: open,\n    });\n  };\n\n  openLogin = (open: boolean = true) => {\n    this.setState({\n      loginDialogOpen: open,\n    });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <UserProfileContext.Provider value={this.state.userProfile}>\n          {this.props.children}\n        </UserProfileContext.Provider>\n        {this.state.loginDialogOpen && (\n          <LoginDialog\n            open={this.state.loginDialogOpen}\n            onClose={() => this.openLogin(false)}\n            onLogin={this._doLogin}\n            onCreateAccount={this._doCreateAccount}\n            loginInProgress={this.state.loginInProgress}\n            createAccountInProgress={this.state.createAccountInProgress}\n            error={this.state.loginError}\n            onForgotPassword={this._doForgotPassword}\n            resetPasswordDialogOpen={this.state.resetPasswordDialogOpen}\n            onCloseResetPasswordDialog={() => this.openResetPassword(false)}\n            forgotPasswordInProgress={this.state.forgotPasswordInProgress}\n          />\n        )}\n      </React.Fragment>\n    );\n  }\n}\n","// @flow\n\nimport * as React from 'react';\nimport PreferencesContext, {\n  initialPreferences,\n  type Preferences,\n  type PreferencesValues,\n  type AlertMessageIdentifier,\n} from './PreferencesContext';\nimport optionalRequire from '../../Utils/OptionalRequire';\nimport { getIDEVersion } from '../../Version';\nconst electron = optionalRequire('electron');\nconst ipcRenderer = electron ? electron.ipcRenderer : null;\n\ntype Props = {|\n  children: React.Node,\n  disableCheckForUpdates: boolean,\n|};\n\ntype State = Preferences;\n\nconst LocalStorageItem = 'gd-preferences';\n\nexport default class PreferencesProvider extends React.Component<Props, State> {\n  state = {\n    values: this._loadValuesFromLocalStorage() || initialPreferences.values,\n    setLanguage: this._setLanguage.bind(this),\n    setThemeName: this._setThemeName.bind(this),\n    setCodeEditorThemeName: this._setCodeEditorThemeName.bind(this),\n    setAutoDownloadUpdates: this._setAutoDownloadUpdates.bind(this),\n    checkUpdates: this._checkUpdates.bind(this),\n    setAutoDisplayChangelog: this._setAutoDisplayChangelog.bind(this),\n    showAlertMessage: this._showAlertMessage.bind(this),\n    verifyIfIsNewVersion: this._verifyIfIsNewVersion.bind(this),\n    setEventsSheetShowObjectThumbnails: this._setEventsSheetShowObjectThumbnails.bind(\n      this\n    ),\n    setAutosaveOnPreview: this._setAutosaveOnPreview.bind(this),\n  };\n\n  componentDidMount() {\n    setTimeout(() => this._checkUpdates(), 10000);\n  }\n\n  _setLanguage(language: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          language,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setEventsSheetShowObjectThumbnails(\n    eventsSheetShowObjectThumbnails: boolean\n  ) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          eventsSheetShowObjectThumbnails,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutosaveOnPreview(autosaveOnPreview: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autosaveOnPreview,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setThemeName(themeName: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          themeName,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setCodeEditorThemeName(codeEditorThemeName: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          codeEditorThemeName,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutoDownloadUpdates(autoDownloadUpdates: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autoDownloadUpdates,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutoDisplayChangelog(autoDisplayChangelog: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autoDisplayChangelog,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _checkUpdates(forceDownload?: boolean) {\n    // Checking for updates is only done on Electron.\n    // Note: This could be abstracted away later if other updates mechanisms\n    // should be supported.\n    const { disableCheckForUpdates } = this.props;\n    if (!ipcRenderer || disableCheckForUpdates) return;\n\n    if (!!forceDownload || this.state.values.autoDownloadUpdates) {\n      ipcRenderer.send('updates-check-and-download');\n    } else {\n      ipcRenderer.send('updates-check');\n    }\n  }\n\n  _verifyIfIsNewVersion() {\n    const currentVersion = getIDEVersion();\n    const { lastLaunchedVersion } = this.state.values;\n    if (lastLaunchedVersion === currentVersion) {\n      // This is not a new version\n      return false;\n    }\n\n    // This is a new version: store the version number\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          lastLaunchedVersion: currentVersion,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n\n    if (lastLaunchedVersion === undefined) {\n      // This is the first time GDevelop is launched, don't\n      // warn about this version being new.\n      return false;\n    }\n\n    return true;\n  }\n\n  _showAlertMessage(identifier: AlertMessageIdentifier, show: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          hiddenAlertMessages: {\n            ...state.values.hiddenAlertMessages,\n            [identifier]: !show,\n          },\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _loadValuesFromLocalStorage(): ?PreferencesValues {\n    try {\n      const persistedState = localStorage.getItem(LocalStorageItem);\n      if (!persistedState) return null;\n\n      const values = JSON.parse(persistedState);\n\n      // \"Migrate\" non existing properties to their default values\n      // (useful when upgrading the preferences to a new version where\n      // a new preference was added).\n      for (const key in initialPreferences.values) {\n        if (\n          initialPreferences.values.hasOwnProperty(key) &&\n          typeof values[key] === 'undefined'\n        ) {\n          values[key] = initialPreferences.values[key];\n        }\n      }\n\n      return values;\n    } catch (e) {\n      return null;\n    }\n  }\n\n  _persistValuesToLocalStorage(preferences: Preferences) {\n    try {\n      localStorage.setItem(\n        LocalStorageItem,\n        JSON.stringify(preferences.values)\n      );\n    } catch (e) {\n      console.warn('Unable to persist preferences', e);\n    }\n\n    return preferences;\n  }\n\n  render() {\n    return (\n      <PreferencesContext.Provider value={this.state}>\n        {this.props.children}\n      </PreferencesContext.Provider>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport DragDropContextProvider from '../Utils/DragDropHelpers/DragDropContextProvider';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport { getTheme } from '../UI/Theme';\nimport UserProfileProvider from '../Profile/UserProfileProvider';\nimport Authentification from '../Utils/GDevelopServices/Authentification';\nimport PreferencesProvider from './Preferences/PreferencesProvider';\nimport PreferencesContext from './Preferences/PreferencesContext';\nimport GDI18nProvider from '../Utils/i18n/GDI18nProvider';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\ntype Props = {|\n  authentification: Authentification,\n  children: ({ i18n: I18nType }) => React.Node,\n  disableCheckForUpdates: boolean,\n|};\n\n/**\n * Wrap the children with Drag and Drop, Material UI theme and i18n React providers,\n * so that these modules can be used in the children.\n */\nexport default class Providers extends React.Component<Props, {||}> {\n  render() {\n    const { disableCheckForUpdates, authentification, children } = this.props;\n    return (\n      <DragDropContextProvider>\n        <PreferencesProvider disableCheckForUpdates={disableCheckForUpdates}>\n          <PreferencesContext.Consumer>\n            {({ values }) => (\n              <GDI18nProvider language={values.language}>\n                <MuiThemeProvider muiTheme={getTheme(values.themeName)}>\n                  <UserProfileProvider authentification={authentification}>\n                    <I18n update>{({ i18n }) => children({ i18n })}</I18n>\n                  </UserProfileProvider>\n                </MuiThemeProvider>\n              </GDI18nProvider>\n            )}\n          </PreferencesContext.Consumer>\n        </PreferencesProvider>\n      </DragDropContextProvider>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport Audiotrack from 'material-ui/svg-icons/image/audiotrack';\n\nconst styles = {\n  previewContainer: {\n    display: 'flex',\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 200,\n    border: '#AAAAAA 1px solid',\n    background: 'url(\"res/transparentback.png\") repeat',\n  },\n  icon: { width: 60, height: 60 },\n};\n\ntype Props = {|\n  project: gdProject,\n  resourceName: string,\n  resourcesLoader: typeof ResourcesLoader,\n  children?: any,\n  style?: Object,\n  resourcePath?: string,\n|};\n\n/**\n * Display the preview for a resource of a project with kind \"audio\".\n */\nexport default class AudioPreview extends React.Component<Props, void> {\n  render() {\n    return (\n      <div style={styles.previewContainer}>\n        <Audiotrack style={styles.icon} />\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ResourceKind } from '../ResourceSource.flow';\nimport ImagePreview from './ImagePreview';\nimport AudioPreview from './AudioPreview';\n\ntype Props = {|\n  project: gdProject,\n  resourceName: string,\n  resourcePath?: string,\n  resourcesLoader: typeof ResourcesLoader,\n  children?: any,\n  style?: Object,\n  onSize?: (number, number) => void,\n|};\n\ntype State = {|\n  resourceKind: ?ResourceKind,\n|};\n\n/**\n * Display the right preview for any given resource of a project\n */\nexport default class ResourcePreview extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = this._loadFrom(props);\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      newProps.resourceName !== this.props.resourceName ||\n      newProps.project !== this.props.project ||\n      newProps.resourcePath !== this.props.resourcePath\n    ) {\n      this.setState(this._loadFrom(newProps));\n    }\n  }\n\n  _loadFrom(props: Props): State {\n    const { project, resourceName } = props;\n    const resourcesManager = project.getResourcesManager();\n    const resourceKind = resourcesManager.hasResource(resourceName)\n      ? resourcesManager.getResource(resourceName).getKind()\n      : null;\n\n    return {\n      resourceKind,\n    };\n  }\n\n  render() {\n    const { resourceKind } = this.state;\n\n    switch (resourceKind) {\n      case 'image':\n        return (\n          <ImagePreview\n            project={this.props.project}\n            resourceName={this.props.resourceName}\n            resourcesLoader={this.props.resourcesLoader}\n            children={this.props.children}\n            style={this.props.style}\n            onSize={this.props.onSize}\n            resourcePath={this.props.resourcePath}\n          />\n        );\n      case 'audio':\n        return (\n          <AudioPreview\n            project={this.props.project}\n            resourceName={this.props.resourceName}\n            resourcesLoader={this.props.resourcesLoader}\n            children={this.props.children}\n            style={this.props.style}\n            resourcePath={this.props.resourcePath}\n          />\n        );\n      default:\n        return null;\n    }\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Background from '../../UI/Background';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport PropertiesEditor from '../../PropertiesEditor';\nimport ResourcePreview from '../../ResourcesList/ResourcePreview';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport propertiesMapToSchema from '../../PropertiesEditor/PropertiesMapToSchema';\nimport { type Schema } from '../../PropertiesEditor';\n\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\n\nconst styles = {\n  imagePreview: { flex: 1 },\n  propertiesContainer: {\n    padding: 10,\n    overflowY: 'scroll',\n    overflowX: 'hidden',\n    flex: 2,\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  resourcesLoader: typeof ResourcesLoader,\n  resources: Array<gdResource>,\n  onResourcePathUpdated: () => void,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n|};\n\nexport default class ResourcePropertiesEditor extends React.Component<\n  Props,\n  {}\n> {\n  schema: Schema = [\n    {\n      name: 'Resource name',\n      valueType: 'string',\n      disabled: true,\n      getValue: (resource: gdResource) => resource.getName(),\n      setValue: (resource: gdResource, newValue: string) =>\n        resource.setName(newValue),\n    },\n    {\n      name: 'File',\n      valueType: 'string',\n      getValue: (resource: gdResource) => resource.getFile(),\n      setValue: (resource: gdResource, newValue: string) =>\n        resource.setFile(newValue),\n      onEditButtonClick: () => this._chooseResourcePath(),\n    },\n  ];\n\n  _renderEmpty() {\n    return (\n      <EmptyMessage>\n        <Trans>\n          Resources are automatically added to your project whenever you add an\n          image, a font or a video to an object or when you choose an audio file\n          in events. Choose a resource to display its properties.\n        </Trans>\n      </EmptyMessage>\n    );\n  }\n\n  _chooseResourcePath = () => {\n    const {\n      resources,\n      onResourcePathUpdated,\n      onChooseResource,\n      resourceSources,\n    } = this.props;\n    const resource = resources[0];\n    const sources = resourceSources.filter(\n      source => source.kind === resource.getKind()\n    );\n    if (!sources.length) return;\n    onChooseResource(sources[0].name).then(resources => {\n      if (!resources.length) return; // No path was chosen by the user.\n      resource.setFile(resources[0].getFile());\n      resources.forEach(resource => resource.delete()); // Important, we are responsible for deleting the resources that were given to us. Otherwise we have a memory leak.\n\n      onResourcePathUpdated();\n      this.forceUpdate();\n    });\n  };\n\n  _renderResourcesProperties() {\n    const { resources, project } = this.props;\n    //TODO: Multiple resources support\n    const properties = resources[0].getProperties(project);\n    const resourceSchema = propertiesMapToSchema(\n      properties,\n      resource => resource.getProperties(project),\n      (resource, name, value) => resource.updateProperty(name, value, project)\n    );\n\n    return (\n      <div\n        style={styles.propertiesContainer}\n        key={resources.map(resource => '' + resource.ptr).join(';')}\n      >\n        <PropertiesEditor\n          schema={this.schema.concat(resourceSchema)}\n          instances={resources}\n        />\n      </div>\n    );\n  }\n\n  _renderPreview() {\n    const { resources, project, resourcesLoader } = this.props;\n    if (!resources || !resources.length) return;\n\n    return (\n      <ResourcePreview\n        style={styles.imagePreview}\n        resourceName={resources[0].getName()}\n        resourcePath={resources[0].getFile()}\n        resourcesLoader={resourcesLoader}\n        project={project}\n      />\n    );\n  }\n\n  render() {\n    const { resources } = this.props;\n\n    return (\n      <Background>\n        {this._renderPreview()}\n        {!resources || !resources.length\n          ? this._renderEmpty()\n          : this._renderResourcesProperties()}\n      </Background>\n    );\n  }\n}\n","// @flow\nimport React, { PureComponent } from 'react';\nimport { ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\n\ntype Props = {|\n  onOpenProjectFolder: () => void,\n  onDeleteSelection: () => void,\n  canDelete: boolean,\n  onOpenProperties: () => void,\n|};\n\ntype State = {||};\n\nexport class Toolbar extends PureComponent<Props, State> {\n  render() {\n    const t = str => str; //TODO\n    const { canDelete } = this.props;\n\n    return (\n      <ToolbarGroup lastChild>\n        <ToolbarIcon\n          onClick={this.props.onOpenProjectFolder}\n          src=\"res/ribbon_default/open32.png\"\n          tooltip={t('Open the project folder')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.onOpenProperties}\n          src=\"res/ribbon_default/editprop32.png\"\n          tooltip={t('Open the properties panel')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.onDeleteSelection}\n          src=\"res/ribbon_default/deleteselected32.png\"\n          disabled={!canDelete}\n          tooltip={t('Delete the selected resource')}\n        />\n      </ToolbarGroup>\n    );\n  }\n}\n\nexport default Toolbar;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ResourcesList from '../ResourcesList';\nimport ResourcePropertiesEditor from './ResourcePropertiesEditor';\nimport Toolbar from './Toolbar';\nimport EditorMosaic, { MosaicWindow } from '../UI/EditorMosaic';\nimport InfoBar from '../UI/Messages/InfoBar';\nimport ResourcesLoader from '../ResourcesLoader';\nimport optionalRequire from '../Utils/OptionalRequire';\n\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\n\nconst electron = optionalRequire('electron');\nconst shell = electron ? electron.shell : null;\nconst path = optionalRequire('path');\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n};\n\ntype State = {\n  showPropertiesInfoBar: boolean,\n  selectedResource: ?gdResource,\n};\n\ntype Props = {\n  setToolbar: React.Node => void,\n  project: gdProject,\n  onDeleteResource: (resource: gdResource, cb: (boolean) => void) => void,\n  onRenameResource: (\n    resource: gdResource,\n    newName: string,\n    cb: (boolean) => void\n  ) => void,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n};\n\nexport default class ResourcesEditor extends React.Component<Props, State> {\n  static defaultProps = {\n    setToolbar: () => {},\n  };\n\n  editorMosaic: ?EditorMosaic = null;\n  _propertiesEditor: ?ResourcePropertiesEditor = null;\n  _resourcesList: ?ResourcesList = null;\n  resourcesLoader = ResourcesLoader;\n  state = {\n    showPropertiesInfoBar: false,\n    selectedResource: null,\n  };\n\n  updateToolbar() {\n    this.props.setToolbar(\n      <Toolbar\n        onOpenProjectFolder={this.openProjectFolder}\n        onOpenProperties={this.openProperties}\n        canDelete={!!this.state.selectedResource}\n        onDeleteSelection={() =>\n          this.deleteResource(this.state.selectedResource)\n        }\n      />\n    );\n  }\n\n  deleteResource = (resource: ?gdResource) => {\n    const { project, onDeleteResource } = this.props;\n    if (!resource) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this resource? This can't be undone.\"\n    );\n    if (!answer) return;\n\n    onDeleteResource(resource, doRemove => {\n      if (!doRemove || !resource) return;\n\n      project.getResourcesManager().removeResource(resource.getName());\n      this.setState(\n        {\n          selectedResource: null,\n        },\n        () => {\n          if (this._resourcesList) this._resourcesList.forceUpdateList();\n          this.updateToolbar();\n        }\n      );\n    });\n  };\n\n  openProjectFolder = () => {\n    const project = this.props.project;\n    if (shell) shell.openItem(path.dirname(project.getProjectFile()));\n  };\n\n  openProperties = () => {\n    if (!this.editorMosaic) return;\n    if (!this.editorMosaic.openEditor('properties')) {\n      this.setState({\n        showPropertiesInfoBar: true,\n      });\n    }\n  };\n\n  _onResourceSelected = (selectedResource: ?gdResource) => {\n    this.setState(\n      {\n        selectedResource,\n      },\n      () => {\n        if (this._propertiesEditor) this._propertiesEditor.forceUpdate();\n        this.updateToolbar();\n      }\n    );\n  };\n\n  render() {\n    const {\n      project,\n      onRenameResource,\n      onChooseResource,\n      resourceSources,\n    } = this.props;\n    const { selectedResource } = this.state;\n\n    const editors = {\n      properties: (\n        <MosaicWindow\n          title={<Trans>Properties</Trans>}\n          // Pass resources to force MosaicWindow update when selectedResource is changed\n          resources={selectedResource ? [selectedResource] : []}\n        >\n          <ResourcePropertiesEditor\n            key={selectedResource ? selectedResource.ptr : undefined}\n            resources={selectedResource ? [selectedResource] : []}\n            project={project}\n            resourcesLoader={this.resourcesLoader}\n            ref={propertiesEditor =>\n              (this._propertiesEditor = propertiesEditor)\n            }\n            onResourcePathUpdated={() => {\n              if (this._resourcesList) {\n                this._resourcesList.checkMissingPaths();\n              }\n            }}\n            onChooseResource={onChooseResource}\n            resourceSources={resourceSources}\n          />\n        </MosaicWindow>\n      ),\n      'resources-list': (\n        <ResourcesList\n          project={project}\n          onDeleteResource={this.deleteResource}\n          onRenameResource={onRenameResource}\n          onSelectResource={this._onResourceSelected}\n          selectedResource={selectedResource}\n          ref={resourcesList => (this._resourcesList = resourcesList)}\n        />\n      ),\n    };\n\n    return (\n      <div style={styles.container}>\n        <EditorMosaic\n          editors={editors}\n          ref={editorMosaic => (this.editorMosaic = editorMosaic)}\n          initialNodes={{\n            direction: 'row',\n            first: 'properties',\n            second: 'resources-list',\n            splitPercentage: 75,\n          }}\n        />\n        <InfoBar\n          message={<Trans>Properties panel is already opened</Trans>}\n          show={!!this.state.showPropertiesInfoBar}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport BaseEditor from './BaseEditor';\nimport ResourcesFullEditor from '../../ResourcesEditor';\n\nexport default class ResourcesEditor extends BaseEditor {\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  render() {\n    const { project } = this.props;\n\n    return (\n      <ResourcesFullEditor\n        {...this.props}\n        ref={editor => (this.editor = editor)}\n        project={project}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\nimport { type Build } from '../../Utils/GDevelopServices/Build';\nimport { Column, Line } from '../../UI/Grid';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport PlaceholderLoader from '../../UI/PlaceholderLoader';\nimport BuildProgress from './BuildProgress';\nimport format from 'date-fns/format';\nimport difference_in_calendar_days from 'date-fns/difference_in_calendar_days';\n\ntype Props = {|\n  builds: ?Array<Build>,\n  onDownload: (build: Build, key: string) => void,\n|};\n\nconst styles = {\n  buildContainer: {\n    padding: 10,\n  },\n};\n\nexport default ({ builds, onDownload }: Props) => {\n  return (\n    <Column noMargin expand>\n      <Line>\n        <Column>\n          <EmptyMessage>\n            <Trans>\n              This is the list of builds that you've done. Note that you can\n              download games generated during to 7 days, after which they are\n              removed.\n            </Trans>\n          </EmptyMessage>\n        </Column>\n      </Line>\n      <Line>\n        {!builds ? (\n          <PlaceholderLoader />\n        ) : builds.length === 0 ? (\n          <EmptyMessage>\n            <Trans>\n              You don't have any builds on the online services for now\n            </Trans>\n          </EmptyMessage>\n        ) : (\n          <Column noMargin expand>\n            {builds.map((build: Build) => {\n              const isOld =\n                build &&\n                difference_in_calendar_days(Date.now(), build.updatedAt) > 6;\n\n              return (\n                <Paper style={styles.buildContainer} key={build.id}>\n                  <p>\n                    {build.type} - Last updated on{' '}\n                    {format(build.updatedAt, 'YYYY-MM-DD HH:mm:ss')}\n                  </p>\n                  {!isOld && (\n                    <BuildProgress\n                      build={build}\n                      onDownload={key => onDownload(build, key)}\n                    />\n                  )}\n                  {isOld && (\n                    <EmptyMessage>\n                      <Trans>\n                        This build is old and the generated games can't be\n                        downloaded anymore.\n                      </Trans>\n                    </EmptyMessage>\n                  )}\n                </Paper>\n              );\n            })}\n          </Column>\n        )}\n      </Line>\n    </Column>\n  );\n};\n","// @flow\nimport React, { Component } from 'react';\nimport UserProfileContext, {\n  type UserProfile,\n} from '../../Profile/UserProfileContext';\nimport BuildsList from './BuildsList';\nimport {\n  getBuilds,\n  type Build,\n  getUrl,\n} from '../../Utils/GDevelopServices/Build';\nimport Window from '../../Utils/Window';\nimport BuildsWatcher from './BuildsWatcher';\n\ntype ContainerProps = {|\n  onBuildsUpdated: ?() => void,\n|};\ntype Props = {|\n  onBuildsUpdated: ?() => void,\n  userProfile: UserProfile,\n|};\ntype State = {|\n  builds: ?Array<Build>,\n|};\n\nexport class Builds extends Component<Props, State> {\n  state = {\n    builds: null,\n  };\n  buildsWatcher = new BuildsWatcher();\n\n  componentDidMount() {\n    this._refreshBuilds();\n  }\n\n  componentWillUnmount() {\n    this.buildsWatcher.stop();\n  }\n\n  _startBuildsWatcher = () => {\n    if (!this.state.builds) return;\n\n    this.buildsWatcher.start({\n      userProfile: this.props.userProfile,\n      builds: this.state.builds,\n      onBuildUpdated: (newBuild: Build) => {\n        if (!this.state.builds) return;\n\n        this.setState({\n          builds: this.state.builds.map((oldBuild: Build) => {\n            if (newBuild.id === oldBuild.id) return newBuild;\n\n            return oldBuild;\n          }),\n        });\n      },\n    });\n  };\n\n  _refreshBuilds = () => {\n    const { getAuthorizationHeader, profile } = this.props.userProfile;\n    if (!profile) return;\n\n    getBuilds(getAuthorizationHeader, profile.uid).then(\n      builds => {\n        this.setState(\n          {\n            builds,\n          },\n          () => {\n            this._startBuildsWatcher();\n            if (this.props.onBuildsUpdated) this.props.onBuildsUpdated();\n          }\n        );\n      },\n      () => {\n        //TODO: Handle error\n      }\n    );\n  };\n\n  _download = (build: Build, key: string) => {\n    if (!build || !build[key]) return;\n\n    Window.openExternalURL(getUrl(build[key]));\n  };\n\n  render() {\n    return (\n      <BuildsList builds={this.state.builds} onDownload={this._download} />\n    );\n  }\n}\n\nconst BuildsContainer = (props: ContainerProps) => (\n  <UserProfileContext.Consumer>\n    {(userProfile: UserProfile) => (\n      <Builds\n        userProfile={userProfile}\n        onBuildsUpdated={props.onBuildsUpdated}\n      />\n    )}\n  </UserProfileContext.Consumer>\n);\n\nexport default BuildsContainer;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport Dialog from '../../UI/Dialog';\nimport HelpButton from '../../UI/HelpButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport Builds from '.';\n\ntype Props = {|\n  open: boolean,\n  onClose: () => void,\n|};\ntype State = {||};\n\nexport default class BuildsDialog extends Component<Props, State> {\n  _onBuildsUpdated = () => {\n    // Force the Dialog repositioning\n    this.forceUpdate();\n  };\n\n  render() {\n    const { open, onClose } = this.props;\n    if (!open) return null;\n\n    return (\n      <Dialog\n        title={<Trans>All your builds</Trans>}\n        onRequestClose={onClose}\n        actions={[\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            key=\"close\"\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        secondaryActions={[\n          <HelpButton key=\"help\" helpPagePath={'/publishing'} />,\n        ]}\n        open={open}\n        noMargin\n        autoScrollBodyContent\n      >\n        <Builds onBuildsUpdated={this._onBuildsUpdated} />\n      </Dialog>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport Subheader from 'material-ui/Subheader';\nimport { List, ListItem } from 'material-ui/List';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\nimport BuildsDialog from './Builds/BuildsDialog';\nimport { Line } from '../UI/Grid';\n\nconst styles = {\n  icon: { width: 40, height: 40 },\n  disabledItem: { opacity: 0.6 },\n  content: { padding: 24 },\n};\n\nexport default class ExportDialog extends Component {\n  state = {\n    chosenExporterKey: '',\n    showExperimental: false,\n    buildsDialogOpen: false,\n  };\n\n  chooseExporter = key => {\n    this.setState({\n      chosenExporterKey: key,\n    });\n  };\n\n  _showExperimental = (show = true) => {\n    this.setState({\n      showExperimental: show,\n    });\n  };\n\n  _openBuildsDialog = (open = true) => {\n    this.setState({\n      buildsDialogOpen: open,\n    });\n  };\n\n  _renderExporterListItem = (exporter, index) => {\n    return (\n      <ListItem\n        key={exporter.key}\n        disabled={exporter.disabled}\n        style={exporter.disabled ? styles.disabledItem : undefined}\n        leftAvatar={exporter.renderIcon({ style: styles.icon })}\n        primaryText={exporter.name}\n        secondaryText={<p>{exporter.description}</p>}\n        secondaryTextLines={2}\n        onClick={() => this.chooseExporter(exporter.key)}\n      />\n    );\n  };\n\n  render() {\n    const {\n      project,\n      open,\n      onClose,\n      authentification, //Still exist?\n      onChangeSubscription,\n      exporters,\n    } = this.props;\n    const { showExperimental, chosenExporterKey } = this.state;\n    if (!open || !project) return null;\n\n    const exporter = exporters.find(\n      exporter => exporter.key === chosenExporterKey\n    );\n\n    return (\n      <Dialog\n        title={<Trans>Export project to a standalone game</Trans>}\n        onRequestClose={onClose}\n        actions={[\n          chosenExporterKey && (\n            <FlatButton\n              label={<Trans>Back</Trans>}\n              key=\"back\"\n              primary={false}\n              onClick={() => this.chooseExporter('')}\n            />\n          ),\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            key=\"close\"\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        secondaryActions={[\n          <HelpButton\n            key=\"help\"\n            helpPagePath={(exporter && exporter.helpPage) || '/publishing'}\n          />,\n          <FlatButton\n            key=\"builds\"\n            label={<Trans>See all my builds</Trans>}\n            onClick={() => this._openBuildsDialog(true)}\n          />,\n        ]}\n        open={open}\n        noMargin\n        autoScrollBodyContent\n      >\n        {!exporter && (\n          <React.Fragment>\n            <List>\n              {exporters\n                .filter(\n                  exporter => !exporter.advanced && !exporter.experimental\n                )\n                .map((exporter, index) =>\n                  this._renderExporterListItem(exporter, index)\n                )}\n\n              <Subheader>Advanced</Subheader>\n              {exporters\n                .filter(exporter => exporter.advanced)\n                .map((exporter, index) =>\n                  this._renderExporterListItem(exporter, index)\n                )}\n\n              {showExperimental && <Subheader>Experimental</Subheader>}\n              {showExperimental &&\n                exporters\n                  .filter(exporter => exporter.experimental)\n                  .map((exporter, index) =>\n                    this._renderExporterListItem(exporter, index)\n                  )}\n            </List>\n            <Line justifyContent=\"center\" alignItems=\"center\">\n              {!showExperimental ? (\n                <FlatButton\n                  key=\"toggle-experimental\"\n                  icon={<Visibility />}\n                  primary={false}\n                  onClick={() => this._showExperimental(true)}\n                  label={<Trans>Show experimental exports</Trans>}\n                />\n              ) : (\n                <FlatButton\n                  key=\"toggle-experimental\"\n                  icon={<VisibilityOff />}\n                  primary={false}\n                  onClick={() => this._showExperimental(false)}\n                  label={<Trans>Hide experimental exports</Trans>}\n                />\n              )}\n            </Line>\n          </React.Fragment>\n        )}\n        {exporter && (\n          <div style={styles.content}>\n            <exporter.ExportComponent\n              project={project}\n              authentification={authentification} //Still exist?\n              onChangeSubscription={onChangeSubscription}\n              onOpenBuildsDialog={this._openBuildsDialog}\n            />\n          </div>\n        )}\n        <BuildsDialog\n          open={this.state.buildsDialogOpen}\n          onClose={() => this._openBuildsDialog(false)}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport {\n  type Release,\n  findRelease,\n} from '../../Utils/GDevelopServices/Release';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport PlaceholderLoader from '../../UI/PlaceholderLoader';\nimport ReactMarkdown from 'react-markdown';\nimport { Column, Line } from '../../UI/Grid';\nimport { FlatButton, RaisedButton } from 'material-ui';\nimport Window from '../../Utils/Window';\nimport { hasBreakingChange } from '../../Utils/GDevelopServices/Release';\nimport AlertMessage from '../../UI/AlertMessage';\nimport ThemeConsumer from '../../UI/Theme/ThemeConsumer';\n\ntype Props = {|\n  releases: ?Array<Release>,\n  error: ?Error,\n  currentReleaseName: string,\n|};\n\n/**\n * Display information about latest releases.\n */\nconst ChangelogRenderer = ({ releases, error, currentReleaseName }: Props) => {\n  const openReleaseNote = () =>\n    Window.openExternalURL('https://github.com/4ian/GDevelop/releases');\n\n  if (error) {\n    return (\n      <Column>\n        <Line>\n          <AlertMessage kind=\"warning\">\n            Please double check online the changes to make sure that you are\n            aware of anything new in this version that would require you to\n            adapt your project.\n          </AlertMessage>\n        </Line>\n        <Line>\n          <EmptyMessage>\n            <Trans>\n              Unable to load the information about the latest GDevelop releases.\n              Verify your internet connection or retry later.\n            </Trans>\n          </EmptyMessage>\n        </Line>\n        <Line justifyContent=\"center\">\n          <RaisedButton\n            label={<Trans>See the releases notes online</Trans>}\n            onClick={openReleaseNote}\n          />\n        </Line>\n      </Column>\n    );\n  }\n\n  if (!releases) {\n    return <PlaceholderLoader />;\n  }\n\n  const currentRelease = findRelease(releases, currentReleaseName);\n  const currentVersionHasBreakingChange =\n    !!currentRelease && hasBreakingChange(currentRelease);\n\n  return (\n    <ThemeConsumer>\n      {muiTheme => (\n        <Column>\n          {currentVersionHasBreakingChange && (\n            <AlertMessage kind=\"warning\">\n              This version of GDevelop has a breaking change. Please make sure\n              to read the changes below to understand if any change or\n              adaptation must be made to your project.\n            </AlertMessage>\n          )}\n          {releases.map(release =>\n            release.name ? (\n              <ReactMarkdown\n                key={release.name}\n                escapeHtml\n                source={\n                  '# Version ' +\n                  release.name +\n                  '\\n---\\n' +\n                  (release.description ||\n                    'Changes and new features description will be available soon.')\n                }\n                className={muiTheme.markdownRootClassName}\n              />\n            ) : null\n          )}\n          <Line justifyContent=\"center\">\n            <FlatButton\n              label={<Trans>See all the releases notes</Trans>}\n              onClick={openReleaseNote}\n            />\n          </Line>\n        </Column>\n      )}\n    </ThemeConsumer>\n  );\n};\n\nexport default ChangelogRenderer;\n","// @flow\nimport axios from 'axios';\nimport { GDevelopReleaseApi } from './ApiConfigs';\n\nexport type Release = {\n  name: ?string,\n  publishedAt: ?string,\n  description: ?string,\n};\n\nexport const getReleases = (): Promise<Array<Release>> => {\n  return axios\n    .get(`${GDevelopReleaseApi.baseUrl}/release`, {\n      params: {\n        last: 4,\n      },\n    })\n    .then(response => response.data);\n};\n\nexport const hasBreakingChange = (release: Release): boolean => {\n  return (\n    (release.description || '').toLowerCase().indexOf('breaking change') !== -1\n  );\n};\n\nexport const findRelease = (\n  releases: Array<Release>,\n  name: string\n): ?Release => {\n  return releases.find(release => release.name === name);\n};\n","// @flow\nimport * as React from 'react';\nimport {\n  getReleases,\n  type Release,\n} from '../../Utils/GDevelopServices/Release';\nimport ChangelogRenderer from './ChangelogRenderer';\nimport { getIDEVersion } from '../../Version';\n\ntype State = {|\n  releases: ?Array<Release>,\n  error: ?Error,\n|};\n\ntype Props = {|\n  onUpdated?: () => void,\n|};\n\n/**\n * Load information about latest releases and display them.\n */\nexport default class Changelog extends React.Component<Props, State> {\n  state = {\n    releases: null,\n    error: null,\n  };\n\n  _onUpdated = () => {\n    if (this.props.onUpdated) this.props.onUpdated();\n  };\n\n  componentDidMount() {\n    getReleases()\n      .then(releases =>\n        this.setState(\n          {\n            releases,\n            error: null,\n          },\n          this._onUpdated\n        )\n      )\n      .catch((error: ?Error) =>\n        this.setState(\n          {\n            error,\n          },\n          this._onUpdated\n        )\n      );\n  }\n\n  render() {\n    const { releases, error } = this.state;\n    return (\n      <ChangelogRenderer\n        releases={releases}\n        error={error}\n        currentReleaseName={getIDEVersion()}\n      />\n    );\n  }\n}\n","// @flow\nimport { type Theme } from '../DefaultTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport './Mosaic.css';\nimport './EventsSheet.css';\nimport 'react-virtualized/styles.css'; // Styles for react-virtualized Table\nimport './Table.css';\nimport './Markdown.css';\n\nconst almostWhite = '#EEE';\nconst lightWhite = '#DDD';\nconst notSoWhite = '#CCC';\nconst gdevelopDarkBlue = '#3c4698';\nconst blue = '#2C5FD2';\n\nconst systemSelectionColor = '#4c92ff'; //OS X selection\n\nconst backgroundColor = '#252525';\nconst canvasColor = '#303030';\n\nconst theme: Theme = {\n  fontFamily: '-apple-system, BlinkMacSystemFont, sans-serif', //OS X font\n  palette: {\n    primary1Color: blue,\n    primary2Color: blue,\n    accent1Color: almostWhite,\n    canvasColor,\n    textColor: lightWhite,\n    secondaryTextColor: notSoWhite,\n    alternateTextColor: '#444',\n    borderColor: '#444444',\n    disabledColor: '#888888',\n    pickerHeaderColor: '#444444',\n    clockCircleColor: '#444444',\n  },\n  avatar: {\n    backgroundColor: 'transparent',\n  },\n  tabs: {\n    backgroundColor: gdevelopDarkBlue,\n    textColor: lightWhite,\n    selectedTextColor: almostWhite,\n  },\n  toolbar: {\n    backgroundColor: backgroundColor,\n    separatorColor: '#303030',\n    menuHoverColor: systemSelectionColor,\n    hoverColor: systemSelectionColor,\n  },\n  menuItem: {\n    dataHeight: 24,\n    height: 32,\n    hoverColor: systemSelectionColor,\n    selectedTextColor: systemSelectionColor,\n    padding: 8,\n  },\n  appBar: {\n    color: gdevelopDarkBlue,\n    textColor: almostWhite,\n  },\n  button: {\n    height: 32,\n    iconButtonSize: 24,\n  },\n  snackbar: {\n    actionColor: blue,\n  },\n  stepper: {\n    textColor: lightWhite,\n  },\n  raisedButton: {\n    primaryTextColor: notSoWhite,\n  },\n\n  // GDevelop specific variables:\n  closableTabs: {\n    backgroundColor: backgroundColor,\n    textColor: '#878787',\n    selectedBackgroundColor: gdevelopDarkBlue,\n    selectedTextColor: almostWhite,\n    width: 200,\n    height: 32,\n    closeButtonWidth: 24,\n  },\n  imageThumbnail: {\n    selectedBorderColor: systemSelectionColor,\n  },\n  list: {\n    itemsBackgroundColor: '#494949',\n  },\n  listItem: {\n    groupBackgroundColor: backgroundColor,\n    groupTextColor: '#AAA',\n    deprecatedGroupTextColor: '#888',\n    separatorColor: '#303030',\n    selectedBackgroundColor: systemSelectionColor,\n    selectedTextColor: almostWhite,\n    errorTextColor: '#ff2e16',\n    selectedErrorBackgroundColor: '#ff2e16',\n  },\n  emptyMessage: {\n    shadowColor: '#000',\n  },\n  logo: {\n    src: 'res/GD-logo.png',\n  },\n  mosaicRootClassName: 'mosaic-gd-dark-theme', // See Mosaic.css\n  eventsSheetRootClassName: 'gd-events-sheet-dark-theme', // See EventsSheet.css\n  tableRootClassName: 'gd-table-dark-theme', // See Table.css\n  markdownRootClassName: 'gd-markdown-dark-theme', // See Markdown.css\n  gdevelopIconsCSSFilter: '',\n};\n\nexport default getMuiTheme(theme);\n","// @flow\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport './Mosaic.css';\nimport './EventsSheet.css';\nimport 'react-virtualized/styles.css'; // Styles for react-virtualized Table\nimport './Table.css';\nimport './Markdown.css';\n\nconst gdevelopPurple = '#9100ce';\nconst gdevelopLightBlue = '#4ab0e4';\nconst gdevelopDarkBlue = '#3c4698';\n\nconst systemSelectionColor = '#4c92ff'; //OS X selection\n\nconst backgroundColor = '#f7f7f7';\nconst canvasColor = '#f0f0f0';\n\nconst theme = {\n  fontFamily: '-apple-system, BlinkMacSystemFont, sans-serif', //OS X font\n  palette: {\n    primary1Color: gdevelopLightBlue,\n    primary2Color: gdevelopDarkBlue,\n    accent1Color: gdevelopPurple,\n    canvasColor,\n  },\n  avatar: {\n    backgroundColor: 'transparent',\n  },\n  tabs: {\n    backgroundColor: gdevelopLightBlue,\n  },\n  toolbar: {\n    backgroundColor: backgroundColor,\n    separatorColor: '#cecece',\n    menuHoverColor: systemSelectionColor,\n    hoverColor: systemSelectionColor,\n  },\n  menuItem: {\n    dataHeight: 24,\n    height: 32,\n    hoverColor: systemSelectionColor,\n    selectedTextColor: systemSelectionColor,\n    padding: 8,\n  },\n  appBar: {\n    color: gdevelopPurple,\n  },\n  button: {\n    height: 32,\n    iconButtonSize: 24,\n  },\n  snackbar: {\n    actionColor: gdevelopLightBlue,\n  },\n  stepper: {},\n  raisedButton: {\n    primaryTextColor: '#ffffff',\n  },\n\n  // GDevelop specific variables:\n  closableTabs: {\n    backgroundColor: backgroundColor,\n    textColor: '#878787',\n    selectedBackgroundColor: gdevelopLightBlue,\n    selectedTextColor: '#ffffff',\n    width: 200,\n    height: 32,\n    closeButtonWidth: 24,\n  },\n  imageThumbnail: {\n    selectedBorderColor: systemSelectionColor,\n  },\n  list: {\n    itemsBackgroundColor: '#FFFFFF',\n  },\n  listItem: {\n    groupBackgroundColor: backgroundColor,\n    groupTextColor: 'rgba(0,0,0,0.54)',\n    deprecatedGroupTextColor: 'rgba(0,0,0,0.30)',\n    separatorColor: '#e0e0e0',\n    selectedBackgroundColor: systemSelectionColor,\n    selectedTextColor: '#ffffff',\n    errorTextColor: '#ff2e16',\n    selectedErrorBackgroundColor: '#ff2e16',\n  },\n  emptyMessage: {\n    shadowColor: '#FFFFFF',\n  },\n  logo: {\n    src: 'res/GD-logo-big.png',\n  },\n  mosaicRootClassName: 'mosaic-gd-default-theme', // See Mosaic.css\n  eventsSheetRootClassName: 'gd-events-sheet-default-theme', // See EventsSheet.css\n  tableRootClassName: 'gd-table-default-theme', // See Table.css\n  markdownRootClassName: 'gd-markdown-default-theme', // See Markdown.css\n  gdevelopIconsCSSFilter: '',\n};\n\nexport type Theme = $Exact<typeof theme>;\nexport default getMuiTheme(theme);\n","import DarkTheme from './DarkTheme';\nimport DefaultTheme from './DefaultTheme';\n\n// To add a new theme:\n// * copy the folder of an existing one (DefaultTheme for example),\n// * import it at the top of the file\n// * add it below:\nexport const themes = {\n  'GDevelop default': DefaultTheme,\n  Dark: DarkTheme,\n};\n\nexport const getTheme = themeName =>\n  themes[themeName] || themes['GDevelop default'];\n","import React from 'react';\nimport { ListItem } from 'material-ui/List';\nimport IconMenu from '../Menu/IconMenu';\nimport ListIcon from '../ListIcon';\nimport IconButton from 'material-ui/IconButton';\nimport TextField from 'material-ui/TextField';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport { type Item } from '.';\n\nconst styles = {\n  itemName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  textField: {\n    top: -16,\n  },\n};\n\ntype Props = {\n  index: number,\n  item: Item,\n  onRename: string => void,\n  editingName: boolean,\n  getThumbnail?: () => string,\n  selected: true,\n  onItemSelected: () => void,\n  buildMenuTemplate: Item => any,\n  hasErrors: boolean,\n};\n\nclass ThemableItemRow extends React.Component<Props, *> {\n  _renderItemMenu(item) {\n    return (\n      <IconMenu\n        ref={iconMenu => (this._iconMenu = iconMenu)}\n        iconButtonElement={\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        }\n        buildMenuTemplate={() => this.props.buildMenuTemplate(item)}\n      />\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editingName && this.props.editingName) {\n      setTimeout(() => {\n        if (this.textField) this.textField.focus();\n      }, 100);\n    }\n  }\n\n  _onContextMenu = event => {\n    if (this._iconMenu) this._iconMenu.open(event);\n  };\n\n  render() {\n    const {\n      item,\n      selected,\n      style,\n      getThumbnail,\n      hasErrors,\n      muiTheme,\n    } = this.props;\n\n    const itemName = item.getName();\n    const label = this.props.editingName ? (\n      <TextField\n        id=\"rename-item-field\"\n        ref={textField => (this.textField = textField)}\n        defaultValue={itemName}\n        onBlur={e => this.props.onRename(e.target.value)}\n        onKeyPress={event => {\n          if (event.charCode === 13) {\n            // enter key pressed\n            this.textField.blur();\n          }\n        }}\n        fullWidth\n        style={styles.textField}\n      />\n    ) : (\n      <div\n        style={{\n          ...styles.itemName,\n          color: selected ? muiTheme.listItem.selectedTextColor : undefined,\n        }}\n      >\n        {itemName}\n      </div>\n    );\n\n    const itemStyle = {\n      borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n      backgroundColor: selected\n        ? hasErrors\n          ? muiTheme.listItem.selectedErrorBackgroundColor\n          : muiTheme.listItem.selectedBackgroundColor\n        : undefined,\n      color: hasErrors ? muiTheme.listItem.errorTextColor : undefined,\n    };\n\n    return (\n      <ListItem\n        style={{ ...itemStyle, ...style }}\n        onContextMenu={this._onContextMenu}\n        primaryText={label}\n        leftIcon={\n          getThumbnail && <ListIcon iconSize={32} src={getThumbnail()} />\n        }\n        rightIconButton={this._renderItemMenu(item)}\n        onClick={() => {\n          if (!this.props.onItemSelected) return;\n          if (this.props.editingName) return;\n\n          this.props.onItemSelected(selected ? null : item);\n        }}\n      />\n    );\n  }\n}\n\nconst ItemRow = muiThemeable()(ThemableItemRow);\nexport default ItemRow;\n","// @flow\nimport * as React from 'react';\nimport { List } from 'react-virtualized';\nimport { ListItem } from 'material-ui/List';\nimport ItemRow from './ItemRow';\nimport { makeAddItem } from '../ListAddItem';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\n\nconst listItemHeight = 48; // TODO: Move this into theme?\n\nconst AddItemRow = makeAddItem(ListItem);\n\nconst SortableItemRow = SortableElement(props => {\n  const { style, ...otherProps } = props;\n  return (\n    <div style={style}>\n      <ItemRow {...otherProps} />\n    </div>\n  );\n});\n\nconst SortableAddItemRow = SortableElement(props => {\n  return <AddItemRow {...props} />;\n});\n\nexport type Item = {\n  key: string | number,\n  getName: () => string,\n};\n\ntype ItemsListProps = {\n  height: number,\n  width: number,\n  fullList: Array<Item>,\n  selectedItem: ?Item,\n  onAddNewItem?: () => void,\n  onRename: (Item, string) => void,\n  getThumbnail?: Item => string,\n  onItemSelected: (?Item) => void,\n  renamedItem: ?Item,\n  addNewItemLabel: React.Node | string,\n  buildMenuTemplate: Item => any,\n  erroredItems?: { [string]: boolean },\n};\n\nclass ItemsList extends React.Component<ItemsListProps, *> {\n  list: any;\n\n  forceUpdateGrid() {\n    if (this.list) this.list.forceUpdateGrid();\n  }\n\n  render() {\n    const {\n      height,\n      width,\n      fullList,\n      selectedItem,\n      addNewItemLabel,\n      renamedItem,\n      getThumbnail,\n      erroredItems,\n    } = this.props;\n\n    return (\n      <List\n        ref={list => (this.list = list)}\n        height={height}\n        rowCount={fullList.length}\n        rowHeight={listItemHeight}\n        rowRenderer={({ index, key, style }) => {\n          const item = fullList[index];\n          if (item.key === 'add-item-row') {\n            return (\n              <SortableAddItemRow\n                index={fullList.length}\n                key={key}\n                style={style}\n                disabled\n                onClick={this.props.onAddNewItem}\n                primaryText={addNewItemLabel}\n              />\n            );\n          }\n\n          const nameBeingEdited = renamedItem === item;\n\n          return (\n            <SortableItemRow\n              index={index}\n              key={key}\n              item={item}\n              style={style}\n              onRename={newName => this.props.onRename(item, newName)}\n              editingName={nameBeingEdited}\n              getThumbnail={getThumbnail ? () => getThumbnail(item) : undefined}\n              selected={item === selectedItem}\n              onItemSelected={this.props.onItemSelected}\n              buildMenuTemplate={this.props.buildMenuTemplate}\n              hasErrors={erroredItems ? !!erroredItems[item.getName()] : false}\n            />\n          );\n        }}\n        width={width}\n      />\n    );\n  }\n}\n\nconst SortableItemsList = SortableContainer(ItemsList, { withRef: true });\nexport default SortableItemsList;\n","import React from 'react';\nimport { ListItem } from 'material-ui/List';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport IconButton from 'material-ui/IconButton';\nimport TextField from 'material-ui/TextField';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport ThemeConsumer from '../UI/Theme/ThemeConsumer';\n\ntype Props = {|\n  group: gdObjectGroup,\n  style: Object,\n  onEdit: ?(gdObjectGroup) => void,\n  onEditName: () => void,\n  onDelete: () => void,\n  onRename: string => void,\n  editingName: boolean,\n  isGlobalGroup: boolean,\n|};\n\nconst styles = {\n  groupName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  textField: {\n    top: -16,\n  },\n};\n\nexport default class ThemableGroupRow extends React.Component<Props, {||}> {\n  _renderGroupMenu(group) {\n    return (\n      <IconMenu\n        ref={iconMenu => (this._iconMenu = iconMenu)}\n        iconButtonElement={\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        }\n        buildMenuTemplate={() => [\n          {\n            label: 'Edit group',\n            click: () => this.props.onEdit(group),\n          },\n          {\n            label: 'Rename',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onEditName(),\n          },\n          {\n            label: 'Delete',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onDelete(),\n          },\n        ]}\n      />\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editingName && this.props.editingName) {\n      setTimeout(() => {\n        if (this.textField) this.textField.focus();\n      }, 100);\n    }\n  }\n\n  _onContextMenu = event => {\n    if (this._iconMenu) this._iconMenu.open(event);\n  };\n\n  render() {\n    const { group, style, isGlobalGroup } = this.props;\n\n    const groupName = group.getName();\n    const label = this.props.editingName ? (\n      <TextField\n        id=\"rename-object-field\"\n        ref={textField => (this.textField = textField)}\n        defaultValue={groupName}\n        onBlur={e => this.props.onRename(e.target.value)}\n        onKeyPress={event => {\n          if (event.charCode === 13) {\n            // enter key pressed\n            this.textField.blur();\n          }\n        }}\n        fullWidth\n        style={styles.textField}\n      />\n    ) : (\n      <div\n        style={{\n          ...styles.groupName,\n          fontStyle: isGlobalGroup ? 'italic' : undefined,\n        }}\n      >\n        {groupName}\n      </div>\n    );\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <ListItem\n            style={{\n              borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n              ...style,\n            }}\n            onContextMenu={this._onContextMenu}\n            primaryText={label}\n            rightIconButton={this._renderGroupMenu(group)}\n            onClick={() => {\n              this.props.onEdit(group);\n            }}\n          />\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { AutoSizer, List } from 'react-virtualized';\nimport Background from '../UI/Background';\nimport SearchBar from 'material-ui-search-bar';\nimport GroupRow from './GroupRow';\nimport { ListItem } from 'material-ui/List';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { makeAddItem } from '../UI/ListAddItem';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport {\n  filterGroupsList,\n  enumerateGroups,\n} from '../ObjectsList/EnumerateObjects';\nimport type {\n  GroupWithContextList,\n  GroupWithContext,\n} from '../ObjectsList/EnumerateObjects';\n\nconst listItemHeight = 48;\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\nconst AddGroupRow = makeAddItem(ListItem);\n\nconst SortableGroupRow = SortableElement(props => {\n  const { style, ...otherProps } = props;\n  return (\n    <div style={style}>\n      <GroupRow {...otherProps} />\n    </div>\n  );\n});\n\nconst SortableAddGroupRow = SortableElement(props => {\n  return <AddGroupRow {...props} />;\n});\n\nclass GroupsList extends Component<*, *> {\n  list: ?List;\n\n  forceUpdateGrid() {\n    if (this.list) this.list.forceUpdateGrid();\n  }\n\n  render() {\n    const { height, width, fullList } = this.props;\n\n    return (\n      <List\n        ref={list => (this.list = list)}\n        height={height}\n        rowCount={fullList.length}\n        rowHeight={listItemHeight}\n        rowRenderer={({ index, key, style }) => {\n          const groupWithContext = fullList[index];\n          if (groupWithContext.key === 'add-groups-row') {\n            return (\n              <SortableAddGroupRow\n                index={fullList.length}\n                key={key}\n                style={style}\n                disabled\n                onClick={this.props.onAddGroup}\n                primaryText={<Trans>Click to add a group</Trans>}\n              />\n            );\n          }\n\n          const nameBeingEdited =\n            this.props.renamedGroupWithScope &&\n            this.props.renamedGroupWithScope.group === groupWithContext.group &&\n            this.props.renamedGroupWithScope.global === groupWithContext.global;\n\n          return (\n            <SortableGroupRow\n              index={index}\n              key={groupWithContext.group.ptr}\n              group={groupWithContext.group}\n              style={style}\n              onEdit={\n                this.props.onEditGroup\n                  ? () => this.props.onEditGroup(groupWithContext.group)\n                  : undefined\n              }\n              onEditName={() => this.props.onEditName(groupWithContext)}\n              onDelete={() => this.props.onDelete(groupWithContext)}\n              onRename={newName =>\n                this.props.onRename(groupWithContext, newName)\n              }\n              editingName={nameBeingEdited}\n              isGlobalGroup={groupWithContext.global}\n            />\n          );\n        }}\n        width={width}\n      />\n    );\n  }\n}\n\nconst SortableGroupsList = SortableContainer(GroupsList, { withRef: true });\n\ntype State = {|\n  renamedGroupWithScope: ?GroupWithContext,\n  searchText: string,\n|};\n\ntype Props = {|\n  globalObjectGroups: gdObjectGroupsContainer,\n  objectGroups: gdObjectGroupsContainer,\n  onDeleteGroup: (groupWithContext: GroupWithContext, cb: Function) => void,\n  onEditGroup: gdObjectGroup => void,\n  onRenameGroup: (\n    groupWithContext: GroupWithContext,\n    newName: string,\n    cb: Function\n  ) => void,\n  onGroupAdded?: () => void,\n  onGroupRemoved?: () => void,\n  onGroupRenamed?: () => void,\n|};\n\nexport default class GroupsListContainer extends React.Component<Props, State> {\n  static defaultProps = {\n    onDeleteGroup: (groupWithContext: GroupWithContext, cb: Function) =>\n      cb(true),\n    onRenameGroup: (\n      groupWithContext: GroupWithContext,\n      newName: string,\n      cb: Function\n    ) => cb(true),\n  };\n\n  sortableList: any;\n  objectGroupsList: GroupWithContextList = [];\n  globalObjectGroupsList: GroupWithContextList = [];\n  state: State = {\n    renamedGroupWithScope: null,\n    searchText: '',\n  };\n\n  shouldComponentUpdate(nextProps: Props, nextState: State) {\n    // The component is costly to render, so avoid any re-rendering as much\n    // as possible.\n    // We make the assumption that no changes to groups list is made outside\n    // from the component.\n    // If a change is made, the component won't notice it: you have to manually\n    // call forceUpdate.\n\n    if (\n      this.state.renamedGroupWithScope !== nextState.renamedGroupWithScope ||\n      this.state.searchText !== nextState.searchText\n    )\n      return true;\n\n    if (\n      this.props.globalObjectGroups !== nextProps.globalObjectGroups ||\n      this.props.objectGroups !== nextProps.objectGroups\n    ) {\n      return true;\n    }\n\n    return false;\n  }\n\n  addGroup = () => {\n    const { globalObjectGroups, objectGroups } = this.props;\n\n    const name = newNameGenerator(\n      'Group',\n      name => objectGroups.has(name) || globalObjectGroups.has(name)\n    );\n\n    objectGroups.insertNew(name, objectGroups.count());\n    this.forceUpdate();\n\n    if (this.props.onGroupAdded) {\n      this.props.onGroupAdded();\n    }\n  };\n\n  _onDelete = (groupWithContext: GroupWithContext) => {\n    const { group, global } = groupWithContext;\n    const { globalObjectGroups, objectGroups } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this group? This can't be undone.\"\n    );\n    if (!answer) return;\n\n    this.props.onDeleteGroup(groupWithContext, doRemove => {\n      if (!doRemove) return;\n\n      if (global) {\n        globalObjectGroups.remove(group.getName());\n      } else {\n        objectGroups.remove(group.getName());\n      }\n\n      this.forceUpdate();\n      if (this.props.onGroupRemoved) {\n        this.props.onGroupRemoved();\n      }\n    });\n  };\n\n  _onEditName = (groupWithContext: GroupWithContext) => {\n    this.setState(\n      {\n        renamedGroupWithScope: groupWithContext,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _onRename = (groupWithContext: GroupWithContext, newName: string) => {\n    const { group } = groupWithContext;\n    const { globalObjectGroups, objectGroups } = this.props;\n\n    this.setState({\n      renamedGroupWithScope: null,\n    });\n\n    if (group.getName() === newName) return;\n\n    if (objectGroups.has(newName) || globalObjectGroups.has(newName)) {\n      showWarningBox('Another object with this name already exists');\n      return;\n    }\n\n    this.props.onRenameGroup(groupWithContext, newName, doRename => {\n      if (!doRename) return;\n\n      group.setName(newName);\n\n      this.forceUpdate();\n      if (this.props.onGroupRenamed) {\n        this.props.onGroupRenamed();\n      }\n    });\n  };\n\n  _onMove = (oldIndex: number, newIndex: number) => {\n    const { globalObjectGroups, objectGroups } = this.props;\n\n    const isInGroupsList = oldIndex < this.objectGroupsList.length;\n    if (isInGroupsList) {\n      objectGroups.move(\n        oldIndex,\n        Math.min(newIndex, this.objectGroupsList.length - 1)\n      );\n    } else {\n      const globalObjectGroupsOldIndex =\n        oldIndex - this.objectGroupsList.length;\n      const globalObjectGroupsNewIndex =\n        newIndex - this.objectGroupsList.length;\n\n      globalObjectGroups.move(\n        globalObjectGroupsOldIndex,\n        Math.min(\n          globalObjectGroupsNewIndex,\n          this.globalObjectGroupsList.length - 1\n        )\n      );\n    }\n\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  render() {\n    const { globalObjectGroups, objectGroups } = this.props;\n    const { searchText } = this.state;\n\n    const objectGroupsList: GroupWithContextList = enumerateGroups(\n      objectGroups\n    ).map(group => ({ group, global: false }));\n    const globalObjectGroupsList: GroupWithContextList = enumerateGroups(\n      globalObjectGroups\n    ).map(group => ({ group, global: true }));\n    this.objectGroupsList = filterGroupsList(objectGroupsList, searchText);\n    this.globalObjectGroupsList = filterGroupsList(\n      globalObjectGroupsList,\n      searchText\n    );\n    const allGroupsList = filterGroupsList(\n      [...objectGroupsList, ...globalObjectGroupsList],\n      searchText\n    );\n    const fullList = allGroupsList.concat({\n      key: 'add-groups-row',\n      object: null,\n    });\n\n    // Force List component to be mounted again if globalObjectGroups or objectGroups\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = objectGroups.ptr + ';' + globalObjectGroups.ptr;\n\n    return (\n      <Background>\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableGroupsList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={fullList}\n                width={width}\n                height={height}\n                renamedGroupWithScope={this.state.renamedGroupWithScope}\n                onEditGroup={this.props.onEditGroup}\n                onAddGroup={this.addGroup}\n                onEditName={this._onEditName}\n                onDelete={this._onDelete}\n                onRename={this._onRename}\n                onSortEnd={({ oldIndex, newIndex }) =>\n                  this._onMove(oldIndex, newIndex)\n                }\n                helperClass=\"sortable-helper\"\n                distance={20}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n      </Background>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Column, Line } from '../UI/Grid';\nimport { sendTutorialOpened } from '../Utils/Analytics/EventSender';\nimport Window from '../Utils/Window';\nimport { getHelpLink } from '../Utils/HelpLink';\nimport { Trans } from '@lingui/macro';\n\nexport default class Tutorials extends PureComponent {\n  render() {\n    return (\n      <Column noMargin>\n        <Line>\n          <Column>\n            <p>\n              <Trans>\n                Tutorials are available on GDevelop wiki. Choose a tutorial to\n                read:\n              </Trans>\n            </p>\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <FlatButton\n              label={<Trans>Make a platform game from scratch</Trans>}\n              fullWidth\n              primary\n              onClick={() => {\n                sendTutorialOpened('Platformer');\n                Window.openExternalURL(\n                  getHelpLink('/tutorials/platform-game/start')\n                );\n              }}\n            />\n            <FlatButton\n              label={\n                <Trans>Make a simple tank shooter game from scratch</Trans>\n              }\n              fullWidth\n              primary\n              onClick={() => {\n                sendTutorialOpened('Tank Shooter');\n                Window.openExternalURL(getHelpLink('/tutorials/tank-shooter'));\n              }}\n            />\n            <FlatButton\n              label={<Trans>Other tutorials coming soon!</Trans>}\n              fullWidth\n              primary\n              disabled\n            />\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport Tutorials from './Tutorials';\n\ntype State = {|\n  currentTab: 'starters' | 'examples' | 'tutorials',\n|};\n\ntype Props = {|\n  startersComponent: any,\n  examplesComponent: any,\n  open?: boolean,\n  onClose?: () => void,\n  onOpen?: (path: string) => void,\n  onCreate?: (project: gdProject) => void,\n|};\n\nexport default class CreateProjectDialog extends React.Component<Props, State> {\n  state = {\n    currentTab: 'starters',\n  };\n\n  _onChangeTab = (newTab: 'starters' | 'examples' | 'tutorials') => {\n    this.setState({\n      currentTab: newTab,\n    });\n  };\n\n  _showExamples = () => this._onChangeTab('examples');\n\n  _onExamplesLoaded = () => {\n    // Force an update to ensure dialog is properly positioned.\n    this.forceUpdate();\n  };\n\n  render() {\n    const { open, onClose, onOpen, onCreate } = this.props;\n    if (!open) return null;\n\n    const ExamplesComponent = this.props.examplesComponent;\n    const StartersComponent = this.props.startersComponent;\n\n    return (\n      <Dialog\n        title={<Trans>Create a new game</Trans>}\n        actions={[\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        onRequestClose={onClose}\n        open={open}\n        noMargin\n        autoScrollBodyContent\n      >\n        <Tabs value={this.state.currentTab} onChange={this._onChangeTab}>\n          <Tab label={<Trans>Starters</Trans>} value=\"starters\">\n            <StartersComponent\n              onOpen={onOpen}\n              onCreate={onCreate}\n              onShowExamples={this._showExamples}\n            />\n          </Tab>\n          <Tab label={<Trans>Examples</Trans>} value=\"examples\">\n            <ExamplesComponent\n              onOpen={onOpen}\n              onCreate={onCreate}\n              onExamplesLoaded={this._onExamplesLoaded}\n            />\n          </Tab>\n          <Tab label={<Trans>Tutorials</Trans>} value=\"tutorials\">\n            <Tutorials />\n          </Tab>\n        </Tabs>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport React, { PureComponent } from 'react';\nimport { Toolbar, ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport Window from '../Utils/Window';\nimport { I18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nconst styles = {\n  toolbar: {\n    flexShrink: 0, // Toolbar height should never be reduced\n    overflowX: 'auto',\n    overflowY: 'hidden',\n  },\n};\n\ntype Props = {\n  showProjectIcons: boolean,\n  hasProject: boolean,\n  toggleProjectManager: () => void,\n  requestUpdate: ?() => void,\n  simulateUpdateDownloaded: ?() => void,\n  simulateUpdateAvailable: ?() => void,\n  exportProject: Function,\n};\n\ntype State = {\n  editorToolbar: any,\n};\n\nexport class MainFrameToolbar extends PureComponent<Props, State> {\n  state = {\n    editorToolbar: null,\n  };\n\n  isDev = Window.isDev();\n\n  setEditorToolbar(editorToolbar: any) {\n    this.setState({\n      editorToolbar,\n    });\n  }\n\n  render() {\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Toolbar style={styles.toolbar}>\n            <ToolbarGroup firstChild={true}>\n              {this.props.showProjectIcons && (\n                <ToolbarIcon\n                  onClick={this.props.toggleProjectManager}\n                  src=\"res/ribbon_default/projectManager32.png\"\n                  disabled={!this.props.hasProject}\n                  tooltip={i18n._(t`Project manager`)}\n                />\n              )}\n              {this.props.showProjectIcons && (\n                <ToolbarIcon\n                  onClick={this.props.exportProject}\n                  src=\"res/ribbon_default/export32.png\"\n                  disabled={!this.props.hasProject}\n                  tooltip={i18n._(t`Export the game (Web, Android, iOS...)`)}\n                />\n              )}\n              {this.isDev && (\n                <IconMenu\n                  iconButtonElement={\n                    <ToolbarIcon src=\"res/ribbon_default/bug32.png\" />\n                  }\n                  buildMenuTemplate={() => [\n                    {\n                      label: i18n._(t`Request update from external editor`),\n                      disabled: !this.props.requestUpdate,\n                      click: () =>\n                        this.props.requestUpdate && this.props.requestUpdate(),\n                    },\n                    {\n                      label: i18n._(t`Simulate update downloaded`),\n                      disabled: !this.props.simulateUpdateDownloaded,\n                      click: () =>\n                        this.props.simulateUpdateDownloaded &&\n                        this.props.simulateUpdateDownloaded(),\n                    },\n                    {\n                      label: i18n._(t`Simulate update available`),\n                      disabled: !this.props.simulateUpdateAvailable,\n                      click: () =>\n                        this.props.simulateUpdateAvailable &&\n                        this.props.simulateUpdateAvailable(),\n                    },\n                  ]}\n                />\n              )}\n              <ToolbarSeparator />\n            </ToolbarGroup>\n            {this.state.editorToolbar || <ToolbarGroup />}\n          </Toolbar>\n        )}\n      </I18n>\n    );\n  }\n}\n\nexport default MainFrameToolbar;\n"],"sourceRoot":""}