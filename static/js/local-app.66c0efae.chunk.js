(this["webpackJsonpgdevelop-ide"]=this["webpackJsonpgdevelop-ide"]||[]).push([[4],{165:function(e,t,n){"use strict";(function(e){var r=n(3),o=n.n(r),a=o()("fs-extra"),i=o()("path"),s=o()("os");const l=e.gd;t.a={mkDir:function(e){try{a.mkdirsSync(e)}catch(t){return console.error("mkDir("+e+") failed: "+t),!1}return!0},dirExists:function(e){return a.existsSync(e)},clearDir:function(e){var t=this;try{a.existsSync(e)&&a.readdirSync(e).forEach((function(n){var r=e+"/"+n;if(a.lstatSync(r).isDirectory())t.clearDir(r);else try{a.unlinkSync(r)}catch(o){console.error("fs.unlinkSync("+r+") failed: "+o)}}))}catch(n){console.error("clearDir("+e+") failed: "+n)}},getTempDir:function(){return s.tmpdir()},fileNameFrom:function(e){return this._isExternalURL(e)?e:(e=this._translateURL(e),i.basename(e))},dirNameFrom:function(e){return this._isExternalURL(e)?"":(e=this._translateURL(e),i.dirname(e))},makeAbsolute:function(e,t){return this._isExternalURL(e)?e:(e=this._translateURL(e),this.isAbsolute(t)||(t=i.resolve(t)),i.resolve(t,i.normalize(e)))},makeRelative:function(e,t){return this._isExternalURL(e)?e:(e=this._translateURL(e),i.relative(t,i.normalize(e)))},isAbsolute:function(e){return!!this._isExternalURL(e)||(0===e.length||((e=this._translateURL(e)).length>0&&"/"===e.charAt(0)||e.length>1&&":"===e.charAt(1)))},copyFile:function(e,t){if(this._isExternalURL(e))return!0;e=this._translateURL(e);try{e!==t&&a.copySync(e,t)}catch(n){return console.error("copyFile("+e+", "+t+") failed: "+n),!1}return!0},writeToFile:function(e,t){try{a.outputFileSync(e,t)}catch(n){return console.error("writeToFile("+e+", ...) failed: "+n),!1}return!0},readFile:function(e){try{return a.readFileSync(e).toString()}catch(t){return console.error("readFile("+e+") failed: "+t),""}},readDir:function(e,t){t=t.toUpperCase();var n=new l.VectorString;try{a.existsSync(e)&&a.readdirSync(e).forEach((function(r){0!==t.length&&-1===r.toUpperCase().indexOf(t,r.length-t.length)||n.push_back(e+"/"+r)}))}catch(r){console.error("readDir("+e+","+t+") failed: "+r)}return n},fileExists:function(e){e=this._translateURL(e);try{return a.statSync(e).isFile()}catch(t){return!1}},_isExternalURL:function(e){return"http"===e.substr(0,4)||"ftp"===e.substr(0,4)},_translateURL:function(e){return"g/"!==e.substr(0,2)&&"g\\"!==e.substr(0,2)||(e=e.substr(2)),e}}}).call(this,n(1))},1839:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return x}));var r=n(78),o=n(119),a=n(3),i=n.n(a),s=n(816),l=n(165),c=n(115),u=n.n(c);const p=e.gd,d=i()("fs-extra"),m=i()("path"),h=i()("electron"),f=h?h.remote.dialog:null,g=(e,t)=>{if(!d)return Promise.reject(new Error("Filesystem is not supported."));try{const n=JSON.stringify(e,null,2);return""===n?Promise.reject(new Error("The content to save on disk is empty. Aborting.")):d.ensureDir(m.dirname(t)).then(()=>new Promise((e,r)=>{d.writeFile(t,n,t=>t?r(t):e())})).then(()=>((e,t)=>{const n=performance.now();return new Promise((r,o)=>{d.readFile(e,{encoding:"utf8"},(a,i)=>{if(a)return o(a);""===i&&o(new Error("Written file is empty, did the write fail?")),i!==t&&o(new Error("Written file is not containing the expected content, did the write fail?"));const s=performance.now()-n;console.info("Verified ".concat(e," content in ").concat(s.toFixed(),"ms.")),r()})})})(t,n))}catch(n){return Promise.reject(n)}},v=(e,t,n)=>{const r=Object(o.b)(e);if(e.isFolderProject()){const e=Object(s.b)(r,{pathSeparator:"/",getArrayItemReferenceName:Object(s.a)("name"),shouldSplit:Object(s.c)(new Set(["/layouts/*","/externalLayouts/*","/externalEvents/*","/layouts/*","/eventsFunctionsExtensions/*"])),isReferenceMagicPropertyName:"__REFERENCE_TO_SPLIT_OBJECT"});return Promise.all(e.map(e=>g(e.object,m.join(n,e.reference)+".json").catch(e=>{throw console.error("Unable to write a partial file:",e),e}))).then(()=>g(r,t).catch(e=>{throw console.error("Unable to write the split project:",e),e}))}return g(r,t).catch(e=>{throw console.error("Unable to write the project:",e),e})},b=(e,t)=>{const n=t.fileIdentifier;if(!n)return Promise.reject('Project file is empty, "Save as" should have been called?');const r=m.dirname(n);return v(e,n,r).then(()=>({wasSaved:!0,fileMetadata:t}))},E=(e,t)=>{const n=t?t.fileIdentifier:"",o=u()(new p.AbstractFileSystemJS,l.a),a=h.remote.getCurrentWindow(),i={defaultPath:n,filters:[{name:"GDevelop 5 project",extensions:["json"]}]};if(!f)return Promise.reject("Unsupported");const s=f.showSaveDialogSync(a,i);if(!s)return Promise.resolve({wasSaved:!1,fileMetadata:t});const c=m.dirname(s);return p.ProjectResourcesCopier.copyAllResourcesTo(e,o,c,!0,!1,!0),e.setProjectFile(s),v(e,s,c).then(()=>({wasSaved:!0,fileMetadata:Object(r.a)({},t,{fileIdentifier:s})}))},x=(e,t)=>{const n=t.fileIdentifier+".autosave";return g(Object(o.b)(e),n).catch(e=>{throw console.error("Unable to write ".concat(n,":"),e),e})}}).call(this,n(1))},1852:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var r=n(72),o=n(2),a=n.n(o),i=n(2251),s=n(84),l=n(249),c=n(83),u=n(8),p=n(74),d=n(98),m=n(813),h=n(3),f=n.n(h),g=n(123),v=n(812),b=n(518),E=n(1853);const x=f()("path"),w=f()("electron"),y=w?w.remote.app:null;var P=f()("fs-extra");const S=e.gd;class j extends o.Component{createFromExample(e,t){const n=this.props.outputPath;P&&n&&Object(m.a)(r=>{try{P.mkdirsSync(n),P.copySync(x.join(r,t),n)}catch(o){return void Object(v.b)(e,n,o)}this.props.onOpen(b.a,{fileIdentifier:x.join(n,t+".json")}),Object(u.h)(t)})}createEmptyGame(e){const t=this.props.outputPath;if(!P||!t)return;try{P.mkdirsSync(t)}catch(o){return void Object(v.b)(e,t,o)}const n=S.ProjectHelper.createNewGDJSProject(),r=x.join(t,"game.json");n.setProjectFile(r),this.props.onCreate(n,b.a,{fileIdentifier:r}),Object(u.h)("")}componentDidMount(){""===this.props.outputPath&&x&&y&&this.props.onChangeOutputPath(Object(E.a)(x.join(y.getPath("documents"),"GDevelop projects")))}render(){return a.a.createElement(r.I18n,null,({i18n:e})=>a.a.createElement(p.a,{noMargin:!0},a.a.createElement(p.b,{expand:!0},a.a.createElement(p.a,{expand:!0},a.a.createElement(l.a,{fullWidth:!0,value:this.props.outputPath,onChange:this.props.onChangeOutputPath,type:"create-game"}))),a.a.createElement(i.a,null),a.a.createElement(p.b,null,a.a.createElement(p.a,null,a.a.createElement(c.a,null,a.a.createElement(r.Trans,{id:"Choose a game to use as a starter:"})))),a.a.createElement(p.b,null,a.a.createElement(p.a,{expand:!0,noMargin:!0},a.a.createElement(d.a,null,a.a.createElement(d.b,{leftIcon:a.a.createElement(g.a,{iconSize:40,src:"res/starters_icons/platformer.png"}),primaryText:a.a.createElement(r.Trans,{id:"Platformer"}),secondaryText:a.a.createElement(r.Trans,{id:"A simple platform game, with coins to collect, moving platforms and enemies."}),secondaryTextLines:2,onClick:()=>this.createFromExample(e,"platformer")}),a.a.createElement(d.b,{leftIcon:a.a.createElement(g.a,{iconSize:40,src:"res/starters_icons/space-shooter.png"}),primaryText:a.a.createElement(r.Trans,{id:"8-bit Space Shooter"}),secondaryText:a.a.createElement(r.Trans,{id:"A beautiful, retro side-scrolling shooter where you must defeat incoming enemies with your mecha transforming spaceship. Huge boss included!"}),secondaryTextLines:2,onClick:()=>this.createFromExample(e,"space-shooter")}),a.a.createElement(d.b,{leftIcon:a.a.createElement(g.a,{iconSize:40,src:"res/starters_icons/geometry-monster.png"}),primaryText:a.a.createElement(r.Trans,{id:"Geometry Monster"}),secondaryText:a.a.createElement(r.Trans,{id:"A hyper casual endless game where you have to collect shapes and avoid bombs, with a progressively increasing difficulty."}),secondaryTextLines:2,onClick:()=>this.createFromExample(e,"geometry-monster")}),a.a.createElement(d.b,{leftIcon:a.a.createElement(g.a,{iconSize:40,src:"res/starters_icons/particle-effects-demo.png"}),primaryText:a.a.createElement(r.Trans,{id:"Particle Effects Demo"}),secondaryText:a.a.createElement(r.Trans,{id:"A demo of various high quality particle effects (fire, magic, snow, rune spell...) that you can try and use in your game."}),secondaryTextLines:2,onClick:()=>this.createFromExample(e,"particle-effects-demo")}),a.a.createElement(d.b,{leftIcon:a.a.createElement(g.a,{iconSize:40,src:"res/starters_icons/isometric-game.png"}),primaryText:a.a.createElement(r.Trans,{id:"Isometric game"}),secondaryText:a.a.createElement(r.Trans,{id:"An example of an isometric game where you can explore a map with your character."}),secondaryTextLines:2,onClick:()=>this.createFromExample(e,"isometric-game")}),a.a.createElement(d.b,{leftIcon:a.a.createElement(g.a,{iconSize:40,src:"res/starters_icons/downhill-bike-physics-demo.png"}),primaryText:"Downhill Bike Racing",secondaryText:a.a.createElement(r.Trans,{id:"An example of a 2D physics based game, where players have to reach the end as fast as possible."}),secondaryTextLines:2,onClick:()=>this.createFromExample(e,"downhill-bike-physics-demo")}),a.a.createElement(d.b,{leftIcon:a.a.createElement(g.a,{iconSize:40,src:"res/starters_icons/pairs.png"}),primaryText:"Pairs",secondaryText:a.a.createElement(r.Trans,{id:"Find all matching pairs of cards in this relaxing game. Use tweens to create smooth, natural animations with a few events."}),secondaryTextLines:2,onClick:()=>this.createFromExample(e,"pairs")}),a.a.createElement(d.b,{primaryText:a.a.createElement(r.Trans,{id:"Empty game"}),secondaryText:a.a.createElement(r.Trans,{id:"Start a new game from scratch."}),secondaryTextLines:2,onClick:()=>this.createEmptyGame(e)})),a.a.createElement(p.b,{alignItems:"center",justifyContent:"center"},a.a.createElement(s.a,{label:a.a.createElement(r.Trans,{id:"See examples"}),onClick:()=>this.props.onShowExamples()}))))))}}}).call(this,n(1))},1853:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(129),o=n(3),a=n.n(o);const i=a()("path");var s=a()("fs-extra");const l=e=>{if(!i)return e;const t=Object(r.a)("My project",t=>{try{s.accessSync(i.join(e,t))}catch(n){return!1}return!0});return i.join(e,t)}},1854:function(e,t,n){"use strict";(function(e){var r,o,a,i,s,l=n(2),c=n(187),u=n(3),p=n.n(u),d=n(5);const m=p()("electron"),h=m?m.remote.dialog:null,f=p()("path"),g=e.gd;t.a=[{name:"localAudioFileOpener",displayName:"Choose a new audio file",kind:"audio",component:(r=class extends l.Component{constructor(...e){super(...e),this.chooseResources=(e,t=!0)=>{const n=this.props,r=n.i18n,o=n.getLastUsedPath,a=n.setLastUsedPath,i={multiSelections:t,title:r._({id:"Choose an audio file"}),name:r._({id:"Audio files"}),extensions:["wav","mp3","ogg"]};return v(r,e,i,o,a,"audio").then(t=>t.map(t=>{const n=new g.AudioResource,r=f.dirname(e.getProjectFile());return n.setFile(f.relative(r,t)),n.setName(f.relative(r,t)),n}))}}render(){return null}},r)},{name:"localFileOpener",displayName:"Choose a new image",kind:"image",component:(o=class extends l.Component{constructor(...e){super(...e),this.chooseResources=(e,t=!0)=>{const n=this.props,r=n.i18n,o=n.getLastUsedPath,a=n.setLastUsedPath,i={multiSelections:t,title:r._({id:"Choose an image"}),name:r._({id:"Image files"}),extensions:["png","jpg"]};return v(r,e,i,o,a,"image").then(t=>t.map(t=>{const n=new g.ImageResource,r=f.dirname(e.getProjectFile());return n.setFile(f.relative(r,t)),n.setName(f.relative(r,t)),n}))}}render(){return null}},o)},{name:"localFontFileOpener",displayName:"Choose a new font file",kind:"font",component:(a=class extends l.Component{constructor(...e){super(...e),this.chooseResources=(e,t=!0)=>{const n=this.props,r=n.i18n,o=n.getLastUsedPath,a=n.setLastUsedPath,i={multiSelections:t,title:r._({id:"Choose a font file"}),name:r._({id:"Font files"}),extensions:["ttf","otf"]};return v(r,e,i,o,a,"font").then(t=>t.map(t=>{const n=new g.FontResource,r=f.dirname(e.getProjectFile());return n.setFile(f.relative(r,t)),n.setName(f.relative(r,t)),n}))}}render(){return null}},a)},{name:"localVideoFileOpener",displayName:"Choose a new video file",kind:"video",component:(i=class extends l.Component{constructor(...e){super(...e),this.chooseResources=(e,t=!0)=>{const n=this.props,r=n.i18n,o=n.getLastUsedPath,a=n.setLastUsedPath,i={multiSelections:t,title:r._({id:"Choose a video file"}),name:r._({id:"Video files"}),extensions:["mp4"]};return v(r,e,i,o,a,"video").then(t=>t.map(t=>{const n=new g.VideoResource,r=f.dirname(e.getProjectFile());return n.setFile(f.relative(r,t)),n.setName(f.relative(r,t)),n}))}}render(){return null}},i)},{name:"localJsonFileOpener",displayName:"Choose a new json file",kind:"json",component:(s=class extends l.Component{constructor(...e){super(...e),this.chooseResources=(e,t=!0)=>{const n=this.props,r=n.i18n,o=n.getLastUsedPath,a=n.setLastUsedPath,i={multiSelections:t,title:r._({id:"Choose a json file"}),name:r._({id:"JSON file"}),extensions:["json"]};return v(r,e,i,o,a,"json").then(t=>t.map(t=>{const n=new g.JsonResource,r=f.dirname(e.getProjectFile());return n.setFile(f.relative(r,t)),n.setName(f.relative(r,t)),n}))}}render(){return null}},s)}];const v=(e,t,n,r,o,a)=>{if(!h)return Promise.reject("Not supported");const i=["openFile"];n.multiSelections&&i.push("multiSelections");const s=f.dirname(t.getProjectFile()),l=r(t,a)||s,u=m.remote.getCurrentWindow();return h.showOpenDialog(u,{title:n.title,properties:i,filters:[{name:n.name,extensions:n.extensions}],defaultPath:l}).then(({filePaths:n})=>{if(!n||!n.length)return[];const r=f.parse(n[0]).dir;if(o(t,a,r),n.filter(e=>!Object(c.g)(t,e)).length){if(d.b.showConfirmDialog(e._({id:"This/these file(s) are outside the project folder. Would you like to make a copy of them in your project folder first (recommended)?"})))return Object(c.c)(t,n)}return n})}}).call(this,n(1))},1855:function(e,t,n){"use strict";var r=n(1856),o=n(1857),a=n(1858),i=n(8);const s=[{name:"piskel-app",displayName:"Edit with Piskel",kind:"image",edit:e=>(Object(i.e)("piskel"),Object(r.a)(e))},{name:"Jfxr",displayName:"Create/Edit a Sound effect with Jfxr (*.wav)",kind:"audio",edit:e=>(Object(i.e)("jfxr"),Object(o.a)(e))},{name:"Yarn",displayName:"Create/Edit a Dialogue Tree with Yarn (*.json)",kind:"json",edit:e=>(Object(i.e)("yarn"),Object(a.a)(e))}];t.a=s},1856:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(78),o=n(3),a=n.n(o),i=n(187);const s=a()("electron"),l=a()("path"),c=s?s.ipcRenderer:null,u=e.gd,p=({project:e,resourcesLoader:t,resourceNames:n,singleFrame:o,onChangesSaved:a,extraOptions:p})=>{if(!s||!c)return;const d=n.map((t,n)=>({resourcePath:Object(i.e)(e,t),resourceName:t,originalIndex:n})),m=l.dirname(e.getProjectFile()),h=Object(r.a)({},p,{resources:d,singleFrame:o,projectPath:m});c.removeAllListeners("piskel-changes-saved"),c.on("piskel-changes-saved",(t,n,r,o)=>{const s=o.data?{pskl:o}:null,c=e.getResourcesManager();n.forEach(t=>{t.name=l.relative(m,t.path),Object(i.d)(e,new u.ImageResource,t.name)}),n[0].metadata=s,n[0].newAnimationName=r,o.singleFrame?(s&&c.getResource(l.relative(m,n[0].path)).setMetadata(JSON.stringify(s)),a(n)):a(n)}),c.send("piskel-open-then-load-animation",h)}}).call(this,n(1))},1857:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(3),o=n.n(r),a=n(187);const i=o()("electron"),s=o()("path"),l=i?i.ipcRenderer:null,c=e.gd,u=({project:e,resourcesLoader:t,resourceNames:n,onChangesSaved:r,extraOptions:o})=>{if(!i||!l)return;const u=s.dirname(e.getProjectFile()),p={resourcePath:Object(a.e)(e,n[0]),externalEditorData:o.externalEditorData,projectPath:u};l.removeAllListeners("jfxr-changes-saved"),l.on("jfxr-changes-saved",(t,n,o)=>{const i=s.relative(u,n);Object(a.d)(e,new c.AudioResource,i);const l={jfxr:o};e.getResourcesManager().getResource(i).setMetadata(JSON.stringify(l)),r([{metadata:l,name:i}])}),l.send("jfxr-create-wav",p)}}).call(this,n(1))},1858:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(3),o=n.n(r),a=n(187);const i=o()("electron"),s=o()("path"),l=i?i.ipcRenderer:null,c=e.gd,u=({project:e,resourcesLoader:t,resourceNames:n,onChangesSaved:r,extraOptions:o})=>{if(!i||!l)return;const u=s.dirname(e.getProjectFile()),p={resourcePath:Object(a.e)(e,n[0]),externalEditorData:o.externalEditorData,projectPath:u};l.removeAllListeners("yarn-changes-saved"),l.on("yarn-changes-saved",(t,n)=>{const o=s.relative(u,n);Object(a.d)(e,new c.JsonResource,o),r([{name:o}])}),l.send("yarn-create-json",p)}}).call(this,n(1))},1859:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var r=n(72),o=n(2),a=n(165),i=n(3),s=n.n(i),l=n(803),c=n(145),u=n(1860),p=n(115),d=n.n(p),m=n(431),h=n(1861);const f=s()("electron"),g=s()("path"),v=f?f.ipcRenderer:null,b=f?f.remote.BrowserWindow:null,E=e.gd;class x extends o.Component{constructor(...e){super(...e),this.canDoNetworkPreview=()=>!0,this.canDoHotReload=()=>!0,this.state={networkPreviewDialogOpen:!1,networkPreviewHost:null,networkPreviewPort:null,networkPreviewError:null,previewGamePath:null,devToolsOpen:!1,previewBrowserWindowConfig:null,hotReloadsCount:0},this._networkPreviewSubscriptionChecker=null,this._hotReloadSubscriptionChecker=null,this._openPreviewBrowserWindow=()=>{if(!b||!this.state.previewBrowserWindowConfig||!this.state.previewGamePath)return;const e=new b(this.state.previewBrowserWindowConfig);e.loadURL("file://".concat(this.state.previewGamePath,"/index.html")),e.webContents.on("devtools-opened",()=>{this.setState({devToolsOpen:!0})}),e.webContents.on("devtools-closed",()=>{this.setState({devToolsOpen:!1})}),this.state.devToolsOpen&&e.openDevTools()},this._openPreviewWindow=(e,t,n)=>{this.setState({previewBrowserWindowConfig:{width:e.getGameResolutionWidth(),height:e.getGameResolutionHeight(),useContentSize:!0,title:"Preview of ".concat(e.getName()),backgroundColor:"#000000",webPreferences:{nodeIntegration:!0}},previewGamePath:t},()=>{if(n.networkPreview){if(!v)return;v.removeAllListeners("serve-folder-done"),v.removeAllListeners("local-network-ips"),v.on("serve-folder-done",(e,t,n)=>{t?this.setState({networkPreviewDialogOpen:!0,networkPreviewPort:null,networkPreviewHost:null,networkPreviewError:t}):this.setState({networkPreviewDialogOpen:!0,networkPreviewPort:n.port}),setTimeout(()=>this._checkSubscriptionForNetworkPreview())}),v.on("local-network-ip",(e,t)=>{this.setState({networkPreviewHost:t})}),v.send("serve-folder",{root:t}),v.send("get-local-network-ip")}else this._openPreviewBrowserWindow()})},this._prepareExporter=()=>Object(c.findGDJS)().then(({gdjsRoot:e})=>{console.info("GDJS found in ",e);const t=d()(new E.AbstractFileSystemJS,a.a);return{outputDir:g.join(t.getTempDir(),"preview"),exporter:new E.Exporter(t,e)}}),this.launchPreview=e=>{const t=e.project,n=e.layout,r=e.externalLayout;return this.getPreviewDebuggerServer().startServer().catch(e=>{console.error("Unable to start the Debugger Server for the preview:",e)}).then(()=>this._prepareExporter()).then(({outputDir:o,exporter:a})=>{Object(l.a)(()=>{const i=new E.PreviewExportOptions(t,o);i.setLayoutName(n.getName()),r&&i.setExternalLayoutName(r.getName());const s=this.getPreviewDebuggerServer().getServerAddress();s&&i.setDebuggerServerAddress(s.address,""+s.port);const l=this.props.getIncludeFileHashs();for(const e in l){const t=l[e];i.setIncludeFileHash(e,t)}const c=this.getPreviewDebuggerServer().getExistingDebuggerIds(),u=e.hotReload&&!!c.length;i.setProjectDataOnlyExport(u&&e.projectDataOnlyExport),a.exportProjectForPixiPreview(i),i.delete(),a.delete(),u?(c.forEach(e=>{this.getPreviewDebuggerServer().sendMessage(e,{command:"hotReload"})}),this.state.hotReloadsCount%16===0&&this._hotReloadSubscriptionChecker&&this._hotReloadSubscriptionChecker.checkHasSubscription(),this.setState(e=>({hotReloadsCount:e.hotReloadsCount+1}))):this._openPreviewWindow(t,o,e)},e=>console.info("Preview took ".concat(e,"ms")))})},this._checkSubscriptionForNetworkPreview=()=>!this._networkPreviewSubscriptionChecker||this._networkPreviewSubscriptionChecker.checkHasSubscription()}getPreviewDebuggerServer(){return h.a}render(){const e=this.state,t=e.networkPreviewDialogOpen,n=e.networkPreviewHost,a=e.networkPreviewPort,i=e.networkPreviewError;return o.createElement(o.Fragment,null,o.createElement(m.a,{ref:e=>this._networkPreviewSubscriptionChecker=e,onChangeSubscription:()=>{this.setState({networkPreviewDialogOpen:!1}),this.props.onChangeSubscription&&this.props.onChangeSubscription()},id:"Preview over wifi",title:o.createElement(r.Trans,{id:"Preview over wifi"}),mode:"try"}),o.createElement(m.a,{ref:e=>this._hotReloadSubscriptionChecker=e,onChangeSubscription:()=>{this.props.onChangeSubscription&&this.props.onChangeSubscription()},id:"Hot reloading",title:o.createElement(r.Trans,{id:"Live preview (apply changes to the running preview)"}),mode:"try"}),o.createElement(u.a,{open:t,url:n&&a?"".concat(n,":").concat(a):null,error:i,onClose:()=>this.setState({networkPreviewDialogOpen:!1}),onExport:this.props.onExport,onRunPreviewLocally:this._openPreviewBrowserWindow}))}}}).call(this,n(1))},1860:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(72),o=n(2),a=n(85),i=n(82),s=n(94),l=n(83),c=n(74),u=n(137);class p extends o.Component{render(){const e=this.props,t=e.url,n=e.open,p=e.error,d=e.onExport,m=e.onClose,h=e.onRunPreviewLocally;return n?o.createElement(a.a,{actions:[o.createElement(i.a,{key:"close",label:o.createElement(r.Trans,{id:"Close"}),primary:!0,onClick:m})],secondaryActions:[d&&o.createElement(i.a,{key:"export",label:o.createElement(r.Trans,{id:"Export game"}),onClick:d}),o.createElement(i.a,{key:"run-preview-locally",label:o.createElement(r.Trans,{id:"Run on this computer"}),onClick:h})],cannotBeDismissed:!0,open:n,onRequestClose:m},p&&o.createElement(c.b,null,o.createElement(l.a,null,o.createElement(r.Trans,{id:"Unable to start the server for the preview! Make sure that you are authorized to run servers on this computer. Otherwise, use classic preview to test your game."}))),!p&&!t&&o.createElement(u.a,null),!p&&t&&o.createElement("div",null,o.createElement(c.b,null,o.createElement(l.a,null,o.createElement(r.Trans,{id:"Your preview is ready! On your mobile or tablet, open your browser and enter in the address bar:"}))),o.createElement(s.b,{value:t,fullWidth:!0}),o.createElement(c.b,null,o.createElement(l.a,null,o.createElement(r.Trans,{id:"Please note that your device should be connected on the same network as this computer."}))))):null}}},1861:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3);const o=n.n(r)()("electron"),a=o?o.ipcRenderer:null;let i="stopped",s=null;const l=[],c=[],u={startServer:()=>{if(!a)return Promise.reject();if("started"===i)return Promise.resolve();const e=new Promise((e,t)=>{let n=!1;i="stopped",s=null,a&&(a.removeAllListeners("debugger-send-message-done"),a.removeAllListeners("debugger-error-received"),a.removeAllListeners("debugger-connection-closed"),a.removeAllListeners("debugger-connection-opened"),a.removeAllListeners("debugger-start-server-done"),a.removeAllListeners("debugger-message-received")),a.on("debugger-error-received",(e,r)=>{n||(t(r),n=!0),l.forEach(({onErrorReceived:e})=>e(r))}),a.on("debugger-connection-closed",(e,{id:t})=>{const n=c.indexOf(t);-1!==n&&c.splice(n,1),l.forEach(({onConnectionClosed:e})=>e({id:t,debuggerIds:c}))}),a.on("debugger-connection-opened",(e,{id:t})=>{c.push(t),l.forEach(({onConnectionOpened:e})=>e({id:t,debuggerIds:c}))}),a.on("debugger-start-server-done",(t,{address:r})=>{console.info("Local preview debugger started"),i="started",s=r,n||(e(),n=!0),l.forEach(({onServerStateChanged:e})=>e())}),a.on("debugger-message-received",(e,{id:t,message:n})=>{console.info("Processing message received for debugger");try{const e=JSON.parse(n);l.forEach(({onHandleParsedMessage:n})=>n({id:t,parsedMessage:e}))}catch(r){console.warn("Error while parsing message received from debugger client:",r)}}),a.send("debugger-start-server")}),t=new Promise((e,t)=>{setTimeout(()=>{t(new Error("Debugger server not started or errored after 5s - aborting."))},5e3)});return Promise.race([e,t])},sendMessage:(e,t)=>{a&&("stopped"!==i?a.send("debugger-send-message",{id:e,message:JSON.stringify(t)}):console.error("Cannot send message when debugger server is stopped."))},getServerState:()=>i,getServerAddress:()=>s,getExistingDebuggerIds:()=>c,registerCallbacks:e=>(l.push(e),()=>{const t=l.indexOf(e);-1!==t&&l.splice(t,1)})}},1862:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(72),o=n(2),a=n(1863),i=n(1864),s=n(1865),l=n(1866),c=n(1867),u=n(1869),p=n(1870),d=n(1871),m=n(828),h=n.n(m),f=n(830),g=n.n(f),v=n(829),b=n.n(v),E=n(825),x=n(826),w=n(827);const y=()=>[{name:o.createElement(r.Trans,{id:"Android (& iOS coming soon)"}),renderIcon:e=>o.createElement(h.a,e),helpPage:"/publishing/android_and_ios",description:o.createElement(r.Trans,{id:"Package your game for Android directly from GDevelop. iOS support is coming soon!"}),key:"localonlinecordovaexport",exportPipeline:u.a},{name:o.createElement(r.Trans,{id:"Web (upload online)"}),renderIcon:e=>o.createElement(w.a,e),helpPage:"/publishing/web",description:o.createElement(r.Trans,{id:"Upload your game online directly from GDevelop and share the link to players. Play to your game using your browser on computers and mobile phones."}),key:"localonlinewebexport",exportPipeline:d.a},{name:o.createElement(r.Trans,{id:"Local folder"}),renderIcon:e=>o.createElement(b.a,e),helpPage:"/publishing/html5_game_in_a_local_folder",description:o.createElement(r.Trans,{id:"Build the game locally as a HTML5 game. You can then publish it on website like Kongregate, Game Jolt, itch.io, Poki..."}),key:"localexport",exportPipeline:s.a,advanced:!0},{name:o.createElement(r.Trans,{id:"Facebook Instant Games"}),renderIcon:e=>o.createElement(E.a,e),helpPage:"/publishing/publishing-to-facebook-instant-games",description:o.createElement(r.Trans,{id:"Package your game as a Facebook Instant Games that can be played on Facebook Messenger."}),key:"localfacebookinstantgames",exportPipeline:c.a,advanced:!0},{name:o.createElement(r.Trans,{id:"iOS & Android (manual)"}),renderIcon:e=>o.createElement(x.a,e),helpPage:"/publishing/android_and_ios_with_cordova",description:o.createElement(r.Trans,{id:"Build the game locally as a Cordova project, and export it manually to iOS or Android with Cordova developers tools."}),key:"localcordovaexport",exportPipeline:a.a,advanced:!0},{name:o.createElement(r.Trans,{id:"Windows/macOS/Linux"}),renderIcon:e=>o.createElement(g.a,e),helpPage:"/publishing/windows-macos-linux",description:o.createElement(r.Trans,{id:"Package your game as an app for Windows, macOS or Linux directly from GDevelop."}),key:"localonlineelectronexport",exportPipeline:p.a},{name:o.createElement(r.Trans,{id:"Windows/macOS/Linux (manual)"}),renderIcon:e=>o.createElement(g.a,e),helpPage:"/publishing/windows-macos-linux-with-electron",description:o.createElement(r.Trans,{id:"Build the game locally and export it manually to Windows, macOS or Linux with third-party developer tools."}),key:"localelectronexport",exportPipeline:i.a,advanced:!0},{name:o.createElement(r.Trans,{id:"Cocos2d-JS"}),renderIcon:e=>o.createElement(h.a,e),helpPage:"/publishing/android_and_ios_with_cocos2d-js",description:o.createElement(r.Trans,{id:"Export your game using Cocos2d-JS game engine. The game can be compiled for Android or iOS if you install Cocos2d-JS developer tools."}),key:"localcocos2dexport",exportPipeline:l.a,experimental:!0}]},1863:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var r=n(72),o=n(2),a=n.n(o),i=n(84),s=n(74),l=n(145),c=n(165),u=n(249),p=n(115),d=n.n(p),m=n(3),h=n.n(m),f=n(817);const g=h()("electron"),v=g?g.shell:null,b=e.gd,E={name:"local-cordova",getInitialExportState:e=>({outputDir:e.getLastCompilationDirectory()}),canLaunchBuild:e=>!!e.outputDir,renderHeader:({project:e,exportState:t,updateExportState:n})=>a.a.createElement(s.a,{noMargin:!0},a.a.createElement(s.b,null,a.a.createElement(s.a,{noMargin:!0},a.a.createElement(f.b,null))),a.a.createElement(s.b,null,a.a.createElement(u.a,{type:"export",value:t.outputDir,defaultPath:e.getLastCompilationDirectory(),onChange:e=>{n(()=>({outputDir:e}))},fullWidth:!0}))),renderLaunchButtonLabel:()=>a.a.createElement(r.Trans,{id:"Package"}),prepareExporter:e=>Object(l.findGDJS)().then(({gdjsRoot:e})=>{console.info("GDJS found in ",e);const t=d()(new b.AbstractFileSystemJS,c.a);return{exporter:new b.Exporter(t,e)}}),launchExport:(e,{exporter:t})=>{const n=new b.MapStringBoolean;return n.set("exportForCordova",!0),t.exportWholePixiProject(e.project,e.exportState.outputDir,n),n.delete(),t.delete(),Promise.resolve(null)},launchResourcesDownload:(e,t)=>Promise.resolve(null),launchCompression:(e,t)=>Promise.resolve(null),renderDoneFooter:({exportState:e,onClose:t})=>{const n=()=>{v&&v.openItem(e.outputDir)};return a.a.createElement(f.a,{renderGameButton:()=>a.a.createElement(i.a,{key:"open",label:a.a.createElement(r.Trans,{id:"Open folder"}),primary:!0,onClick:n})})}}}).call(this,n(1))},1864:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var r=n(72),o=n(2),a=n.n(o),i=n(84),s=n(74),l=n(145),c=n(165),u=n(249),p=n(115),d=n.n(p),m=n(3),h=n.n(m),f=n(818);const g=h()("electron"),v=g?g.shell:null,b=e.gd,E={name:"local-electron",getInitialExportState:e=>({outputDir:e.getLastCompilationDirectory()}),canLaunchBuild:e=>!!e.outputDir,renderHeader:({project:e,exportState:t,updateExportState:n})=>a.a.createElement(s.a,{noMargin:!0},a.a.createElement(s.b,null,a.a.createElement(s.a,{noMargin:!0},a.a.createElement(f.b,null))),a.a.createElement(s.b,null,a.a.createElement(u.a,{type:"export",value:t.outputDir,defaultPath:e.getLastCompilationDirectory(),onChange:e=>{n(()=>({outputDir:e}))},fullWidth:!0}))),renderLaunchButtonLabel:()=>a.a.createElement(r.Trans,{id:"Package"}),prepareExporter:e=>Object(l.findGDJS)().then(({gdjsRoot:e})=>{console.info("GDJS found in ",e);const t=d()(new b.AbstractFileSystemJS,c.a);return{exporter:new b.Exporter(t,e)}}),launchExport:(e,{exporter:t})=>{const n=new b.MapStringBoolean;return n.set("exportForElectron",!0),t.exportWholePixiProject(e.project,e.exportState.outputDir,n),n.delete(),t.delete(),Promise.resolve(null)},launchResourcesDownload:(e,t)=>Promise.resolve(null),launchCompression:(e,t)=>Promise.resolve(null),renderDoneFooter:({exportState:e,onClose:t})=>{const n=()=>{v&&v.openItem(e.outputDir)};return a.a.createElement(f.a,{renderGameButton:()=>a.a.createElement(i.a,{key:"open",label:a.a.createElement(r.Trans,{id:"Open folder"}),primary:!0,onClick:n})})}}}).call(this,n(1))},1865:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var r=n(72),o=n(2),a=n.n(o),i=n(84),s=n(74),l=n(145),c=n(165),u=n(249),p=n(115),d=n.n(p),m=n(3),h=n.n(m),f=n(819);const g=h()("electron"),v=g?g.shell:null,b=e.gd,E={name:"local-html5",getInitialExportState:e=>({outputDir:e.getLastCompilationDirectory()}),canLaunchBuild:e=>!!e.outputDir,renderHeader:({project:e,exportState:t,updateExportState:n})=>a.a.createElement(s.a,{noMargin:!0},a.a.createElement(s.b,null,a.a.createElement(f.b,null)),a.a.createElement(s.b,null,a.a.createElement(u.a,{type:"export",value:t.outputDir,defaultPath:e.getLastCompilationDirectory(),onChange:e=>{n(()=>({outputDir:e}))},fullWidth:!0}))),renderLaunchButtonLabel:()=>a.a.createElement(r.Trans,{id:"Export as a HTML5 game"}),prepareExporter:e=>Object(l.findGDJS)().then(({gdjsRoot:e})=>{console.info("GDJS found in ",e);const t=d()(new b.AbstractFileSystemJS,c.a);return{exporter:new b.Exporter(t,e)}}),launchExport:(e,{exporter:t})=>{const n=new b.MapStringBoolean;return t.exportWholePixiProject(e.project,e.exportState.outputDir,n),n.delete(),t.delete(),Promise.resolve(null)},launchResourcesDownload:(e,t)=>Promise.resolve(null),launchCompression:(e,t)=>Promise.resolve(null),renderDoneFooter:({exportState:e,onClose:t})=>a.a.createElement(f.a,{renderGameButton:()=>a.a.createElement(i.a,{fullWidth:!0,primary:!0,onClick:()=>{v&&v.openItem(e.outputDir)},label:a.a.createElement(r.Trans,{id:"Open the exported game folder"})})})}}).call(this,n(1))},1866:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var r=n(78),o=n(72),a=n(2),i=n.n(a),s=n(84),l=n(74),c=n(145),u=n(165),p=n(249),d=n(115),m=n.n(d),h=n(3),f=n.n(h),g=n(268),v=n(820);const b=f()("electron"),E=b?b.shell:null,x=e.gd,w={name:"local-cocos2d",getInitialExportState:e=>({outputDir:e.getLastCompilationDirectory(),debugMode:!1}),canLaunchBuild:e=>!!e.outputDir,renderHeader:({project:e,exportState:t,updateExportState:n})=>i.a.createElement(l.a,{noMargin:!0},i.a.createElement(l.b,null,i.a.createElement(v.b,null)),i.a.createElement(l.b,null,i.a.createElement(p.a,{type:"export",value:t.outputDir,defaultPath:e.getLastCompilationDirectory(),onChange:e=>{n(t=>Object(r.a)({},t,{outputDir:e}))},fullWidth:!0})),i.a.createElement(l.b,null,i.a.createElement(g.a,{onToggle:(e,t)=>n(e=>Object(r.a)({},e,{debugMode:t})),toggled:t.debugMode,labelPosition:"right",label:i.a.createElement(o.Trans,{id:"Debug mode (show FPS counter and stats in the bottom left)"})}))),renderLaunchButtonLabel:()=>i.a.createElement(o.Trans,{id:"Package"}),prepareExporter:e=>Object(c.findGDJS)().then(({gdjsRoot:e})=>{console.info("GDJS found in ",e);const t=m()(new x.AbstractFileSystemJS,u.a);return{exporter:new x.Exporter(t,e)}}),launchExport:(e,{exporter:t})=>(t.exportWholeCocos2dProject(e.project,e.exportState.debugMode,e.exportState.outputDir),t.delete(),Promise.resolve(null)),launchResourcesDownload:(e,t)=>Promise.resolve(null),launchCompression:(e,t)=>Promise.resolve(null),renderDoneFooter:({exportState:e,onClose:t})=>{const n=()=>{E&&E.openItem(e.outputDir)};return i.a.createElement(v.a,{renderGameButton:()=>i.a.createElement(s.a,{key:"open",label:i.a.createElement(o.Trans,{id:"Open folder"}),primary:!0,onClick:n})})}}}).call(this,n(1))},1867:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r=n(72),o=n(2),a=n.n(o),i=n(84),s=n(74),l=n(145),c=n(165),u=n(115),p=n.n(u),d=n(3),m=n.n(d),h=n(1868),f=n(383),g=n(821);const v=m()("path"),b=m()("electron"),E=b?b.remote.app:null,x=b?b.shell:null,w=e.gd,y={name:"local-facebook-instant-games",getInitialExportState:e=>({archiveOutputFilename:E?v.join(E.getPath("documents"),"fb-instant-game.zip"):""}),canLaunchBuild:e=>!!e.archiveOutputFilename,renderHeader:({project:e,exportState:t,updateExportState:n})=>a.a.createElement(s.a,{noMargin:!0},a.a.createElement(s.b,null,a.a.createElement(g.b,null)),a.a.createElement(s.b,null,a.a.createElement(h.a,{title:"Facebook Instant Games export zip file",message:"Choose where to save the exported file for Facebook Instant Games",filters:[{name:"Compressed file for Facebook Instant Games",extensions:["zip"]}],value:t.archiveOutputFilename,defaultPath:E?E.getPath("documents"):"",onChange:e=>n(()=>({archiveOutputFilename:e})),fullWidth:!0}))),renderLaunchButtonLabel:()=>a.a.createElement(r.Trans,{id:"Package"}),prepareExporter:e=>Object(l.findGDJS)().then(({gdjsRoot:e})=>{console.info("GDJS found in ",e);const t=p()(new w.AbstractFileSystemJS,c.a),n=new w.Exporter(t,e),r=v.join(t.getTempDir(),"FacebookInstantGamesExport");return t.mkDir(r),t.clearDir(r),{exporter:n,temporaryOutputDir:r}}),launchExport:(e,{exporter:t,temporaryOutputDir:n})=>{const r=new w.MapStringBoolean;return r.set("exportForFacebookInstantGames",!0),t.exportWholePixiProject(e.project,n,r),r.delete(),t.delete(),Promise.resolve({temporaryOutputDir:n})},launchResourcesDownload:(e,{temporaryOutputDir:t})=>Promise.resolve({temporaryOutputDir:t}),launchCompression:(e,{temporaryOutputDir:t})=>Object(f.a)({path:t,outputFilename:e.exportState.archiveOutputFilename}),renderDoneFooter:({exportState:e,onClose:t})=>{const n=()=>{x&&v&&x.openItem(v.dirname(e.archiveOutputFilename))};return a.a.createElement(g.a,{renderGameButton:()=>a.a.createElement(i.a,{key:"open",label:a.a.createElement(r.Trans,{id:"Open folder"}),primary:!0,onClick:n})})}}}).call(this,n(1))},1868:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(78),o=n(72),a=n(2),i=n.n(a),s=n(94),l=n(3),c=n.n(l),u=n(84);const p=c()("electron"),d=p?p.remote.dialog:null,m={container:{position:"relative",display:"flex",alignItems:"baseline"},button:{marginLeft:10},textField:{flex:1}};class h extends a.PureComponent{constructor(...e){super(...e),this.onChooseFolder=()=>{if(!d||!p)return;const e=p.remote.getCurrentWindow();return d.showSaveDialog(e,{title:this.props.title,filters:this.props.filters,message:this.props.message,defaultPath:this.props.defaultPath}).then(({filePath:e})=>{this.props.onChange(e||"")})}}render(){return i.a.createElement("div",{style:Object(r.a)({},m.container,{width:this.props.fullWidth?"100%":void 0})},i.a.createElement(s.b,{margin:"dense",style:m.textField,type:"text",hintText:{id:"Choose a file"},value:this.props.value,onChange:(e,t)=>this.props.onChange(t)}),i.a.createElement(u.a,{label:i.a.createElement(o.Trans,{id:"Choose"}),style:m.button,onClick:this.onChooseFolder}))}}},1869:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(72),o=n(2),a=n(115),i=n.n(a),s=n(176),l=n(515),c=n(145),u=n(383),p=n(3),d=n.n(p),m=n(165),h=n(822);const f=d()("path"),g=d()("os"),v=e.gd,b={name:"local-online-cordova",onlineBuildType:"cordova-build",getInitialExportState:()=>null,canLaunchBuild:()=>!0,renderHeader:()=>o.createElement(h.a,null),renderLaunchButtonLabel:()=>o.createElement(r.Trans,{id:"Packaging for Android"}),prepareExporter:e=>Object(c.findGDJS)().then(({gdjsRoot:e})=>{console.info("GDJS found in ",e);const t=i()(new v.AbstractFileSystemJS,m.a),n=new v.Exporter(t,e),r=f.join(t.getTempDir(),"OnlineCordovaExport");return t.mkDir(r),t.clearDir(r),{exporter:n,temporaryOutputDir:r}}),launchExport:(e,{exporter:t,temporaryOutputDir:n})=>{const r=new v.MapStringBoolean;return r.set("exportForCordova",!0),t.exportWholePixiProject(e.project,n,r),r.delete(),t.delete(),Promise.resolve({temporaryOutputDir:n})},launchResourcesDownload:(e,{temporaryOutputDir:t})=>Promise.resolve({temporaryOutputDir:t}),launchCompression:(e,{temporaryOutputDir:t})=>{const n=g.tmpdir();return Object(u.a)({path:t,outputFilename:f.join(n,"game-archive.zip")})},launchUpload:(e,t)=>Object(s.f)().then(n=>Object(l.a)(t,n,e.updateStepProgress).then(()=>n.key)),launchOnlineBuild:(e,t,n)=>{const r=t.getAuthorizationHeader,o=t.profile;return o?Object(s.a)(r,o.uid,n):Promise.reject(new Error("User is not authenticated"))}}}).call(this,n(1))},1870:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(72),o=n(2),a=n(115),i=n.n(a),s=n(176),l=n(145),c=n(515),u=n(383),p=n(3),d=n.n(p),m=n(165),h=n(823);const f=d()("path"),g=d()("os"),v=e.gd,b={name:"local-online-electron",onlineBuildType:"electron-build",getInitialExportState:()=>({targets:["winExe"]}),canLaunchBuild:e=>!!e.targets.length,renderHeader:e=>o.createElement(h.a,e),renderLaunchButtonLabel:()=>o.createElement(r.Trans,{id:"Package"}),prepareExporter:e=>Object(l.findGDJS)().then(({gdjsRoot:e})=>{console.info("GDJS found in ",e);const t=i()(new v.AbstractFileSystemJS,m.a),n=new v.Exporter(t,e),r=f.join(t.getTempDir(),"OnlineElectronExport");return t.mkDir(r),t.clearDir(r),{exporter:n,temporaryOutputDir:r}}),launchExport:(e,{exporter:t,temporaryOutputDir:n})=>{const r=new v.MapStringBoolean;return r.set("exportForElectron",!0),t.exportWholePixiProject(e.project,n,r),r.delete(),t.delete(),Promise.resolve({temporaryOutputDir:n})},launchResourcesDownload:(e,{temporaryOutputDir:t})=>Promise.resolve({temporaryOutputDir:t}),launchCompression:(e,{temporaryOutputDir:t})=>{const n=g.tmpdir();return Object(u.a)({path:t,outputFilename:f.join(n,"game-archive.zip")})},launchUpload:(e,t)=>Object(s.f)().then(n=>Object(c.a)(t,n,e.updateStepProgress).then(()=>n.key)),launchOnlineBuild:(e,t,n)=>{const r=t.getAuthorizationHeader,o=t.profile;return o?Object(s.b)(r,o.uid,n,e.targets):Promise.reject(new Error("User is not authenticated"))}}}).call(this,n(1))},1871:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(72),o=n(2),a=n(115),i=n.n(a),s=n(176),l=n(515),c=n(145),u=n(383),p=n(3),d=n.n(p),m=n(165),h=n(824);const f=d()("path"),g=d()("os"),v=e.gd,b={name:"local-online-web",onlineBuildType:"web-build",getInitialExportState:()=>null,canLaunchBuild:()=>!0,renderHeader:()=>o.createElement(h.a,null),renderLaunchButtonLabel:()=>o.createElement(r.Trans,{id:"Publish online"}),prepareExporter:e=>Object(c.findGDJS)().then(({gdjsRoot:e})=>{console.info("GDJS found in ",e);const t=i()(new v.AbstractFileSystemJS,m.a),n=new v.Exporter(t,e),r=f.join(t.getTempDir(),"OnlineWebExport");return t.mkDir(r),t.clearDir(r),{exporter:n,temporaryOutputDir:r}}),launchExport:(e,{exporter:t,temporaryOutputDir:n})=>{const r=new v.MapStringBoolean;return t.exportWholePixiProject(e.project,n,r),r.delete(),t.delete(),Promise.resolve({temporaryOutputDir:n})},launchResourcesDownload:(e,{temporaryOutputDir:t})=>Promise.resolve({temporaryOutputDir:t}),launchCompression:(e,{temporaryOutputDir:t})=>{const n=g.tmpdir();return Object(u.a)({path:t,outputFilename:f.join(n,"game-archive.zip")})},launchUpload:(e,t)=>Object(s.f)().then(n=>Object(l.a)(t,n,e.updateStepProgress).then(()=>n.key)),launchOnlineBuild:(e,t,n)=>{const r=t.getAuthorizationHeader,o=t.profile;return o?Object(s.c)(r,o.uid,n):Promise.reject(new Error("User is not authenticated"))}}}).call(this,n(1))},1872:function(e,t,n){"use strict";var r=n(2),o=n(3),a=n.n(o),i=n(156),s=n(23);const l=a()("electron"),c=l?l.ipcRenderer:null,u={id:"Open recent project..."},p=(e,t)=>{r.useEffect(()=>{if(!c)return;const n=(e,...n)=>t(...n);return c.on(e,n),()=>c.removeListener(e,n)},[e,t])};t.a=e=>{const t=e.i18n,n=e.project,o=e.recentProjectFiles,a=e.onOpenRecentFile,l=t.language;return p("main-menu-open",e.onChooseProject),p("main-menu-open-recent",e.onOpenRecentFile),p("main-menu-save",e.onSaveProject),p("main-menu-save-as",e.onSaveProjectAs),p("main-menu-close",e.onCloseProject),p("main-menu-close-app",e.onCloseApp),p("main-menu-export",e.onExportProject),p("main-menu-create",e.onCreateProject),p("main-menu-open-project-manager",e.onOpenProjectManager),p("main-menu-open-start-page",e.onOpenStartPage),p("main-menu-open-debugger",e.onOpenDebugger),p("main-menu-open-about",e.onOpenAbout),p("main-menu-open-preferences",e.onOpenPreferences),p("main-menu-open-language",e.onOpenLanguage),p("main-menu-open-profile",e.onOpenProfile),p("update-status",e.setUpdateStatus),r.useEffect(()=>{((e,t,n)=>{const r={label:t._({id:"File"}),submenu:[{label:t._({id:"Create a New Project..."}),accelerator:"CommandOrControl+N",onClickSendEvent:"main-menu-create"},{type:"separator"},{label:t._({id:"Open..."}),accelerator:"CommandOrControl+O",onClickSendEvent:"main-menu-open"},{label:t._({id:"Open Recent"}),submenu:n.map(e=>({label:e.fileMetadata.fileIdentifier,onClickSendEvent:"main-menu-open-recent",eventArgs:e}))},{type:"separator"},{label:t._({id:"Save"}),accelerator:"CommandOrControl+S",onClickSendEvent:"main-menu-save",enabled:!!e},{label:t._({id:"Save as..."}),accelerator:"CommandOrControl+Alt+S",onClickSendEvent:"main-menu-save-as",enabled:!!e},{type:"separator"},{label:t._({id:"Export (web, iOS, Android)..."}),accelerator:"CommandOrControl+E",onClickSendEvent:"main-menu-export",enabled:!!e},{type:"separator"},{label:t._({id:"Close Project"}),accelerator:"CommandOrControl+Shift+W",onClickSendEvent:"main-menu-close",enabled:!!e}]};Object(s.e)()||r.submenu.push({type:"separator"},{label:t._({id:"My Profile"}),onClickSendEvent:"main-menu-open-profile"},{label:t._({id:"Preferences"}),onClickSendEvent:"main-menu-open-preferences"},{label:t._({id:"Language"}),onClickSendEvent:"main-menu-open-language"},{type:"separator"},{label:t._({id:"Exit GDevelop"}),accelerator:"Control+Q",onClickSendEvent:"main-menu-close-app"});const o={label:t._({id:"Edit"}),submenu:[{role:"undo"},{role:"redo"},{type:"separator"},{role:"cut"},{role:"copy"},{role:"paste"},{role:"pasteandmatchstyle"},{role:"delete"},{role:"selectall"}]},a={label:t._({id:"View"}),submenu:[{label:t._({id:"Show Project Manager"}),accelerator:"CommandOrControl+Alt+P",onClickSendEvent:"main-menu-open-project-manager",enabled:!!e},{label:t._({id:"Show Start Page"}),onClickSendEvent:"main-menu-open-start-page"},{label:t._({id:"Open Debugger"}),onClickSendEvent:"main-menu-open-debugger",enabled:!!e},{type:"separator"},{role:"toggledevtools"},{type:"separator"},{role:"togglefullscreen"}]},i={role:"window",submenu:[{role:"minimize"}]},l={role:"help",submenu:[{label:t._({id:"GDevelop website"}),onClickOpenLink:"http://gdevelop-app.com"},{type:"separator"},{label:t._({id:"Community Forums"}),onClickOpenLink:"https://forum.gdevelop-app.com"},{label:t._({id:"Community Discord Chat"}),onClickOpenLink:"https://discord.gg/rjdYHvj"},{type:"separator"},{label:t._({id:"Contribute to GDevelop"}),onClickOpenLink:"https://gdevelop-app.com/contribute/"},{label:t._({id:"Create Extensions for GDevelop"}),onClickOpenLink:"https://github.com/4ian/GDevelop/blob/master/newIDE/README-extensions.md"},{type:"separator"},{label:t._({id:"Help to Translate GDevelop"}),onClickOpenLink:"https://crowdin.com/project/gdevelop"},{label:t._({id:"Report a wrong translation"}),onClickOpenLink:"https://github.com/4ian/GDevelop/issues/969"}]};Object(s.e)()||l.submenu.push({type:"separator"},{label:t._({id:"About GDevelop"}),onClickSendEvent:"main-menu-open-about"});const u=[r,o,a,i,l];Object(s.e)()&&(u.unshift({label:t._({id:"GDevelop 5"}),submenu:[{label:t._({id:"About GDevelop"}),onClickSendEvent:"main-menu-open-about"},{type:"separator"},{label:t._({id:"My Profile"}),onClickSendEvent:"main-menu-open-profile"},{label:t._({id:"Preferences"}),onClickSendEvent:"main-menu-open-preferences"},{label:t._({id:"Language"}),onClickSendEvent:"main-menu-open-language"},{type:"separator"},{role:"services",submenu:[]},{type:"separator"},{role:"hide"},{role:"hideothers"},{role:"unhide"},{type:"separator"},{role:"quit"}]}),o.submenu.push({type:"separator"},{label:t._({id:"Speech"}),submenu:[{role:"startspeaking"},{role:"stopspeaking"}]}),i.submenu=[{role:"minimize"},{role:"zoom"},{type:"separator"},{role:"front"}]),c&&c.send("set-main-menu",u)})(n,t,o)},[t,l,n,o]),Object(i.b)("OPEN_RECENT_PROJECT",!0,{displayText:u,generateOptions:r.useCallback(()=>o.map(e=>({text:e.fileMetadata.fileIdentifier,handler:()=>a(e)})),[a,o])}),null}},1873:function(e,t,n){const r=n(831).loadExtension,o=n(3),a=n(1874).findJsExtensionModules;e.exports=function({gd:e,objectsEditorService:t,objectsRenderingService:n,filterExamples:i}){return{loadAllExtensions:s=>a({filterExamples:i}).then(a=>Promise.all(a.map(a=>{let i=null;try{i=o(a,{rethrowException:!0})}catch(l){return{extensionModulePath:a,result:{message:"Unable to import extension. Please check for any syntax error or error that would prevent it from being run.",error:!0,rawError:l}}}return i?(t&&i.registerEditorConfigurations&&i.registerEditorConfigurations(t),n&&i.registerInstanceRenderers&&i.registerInstanceRenderers(n),{extensionModulePath:a,result:r(s,e,e.JsPlatform.get(),i)}):{extensionModulePath:a,result:{error:!0,message:"Unknown error. Please check for any syntax error or error that would prevent it from being run."}}})),e=>{throw console.error("Unable to find JS extensions modules"),e})}}},1874:function(e,t,n){const r=n(145).findGDJS,o=n(3),a=o("path"),i=o("fs");e.exports={findJsExtensionModules:({filterExamples:e})=>r().then(({gdjsRoot:t})=>{const n=a.join(t,"Runtime","Extensions");return console.info("Searching for JS extensions (file called JsExtension.js) in ".concat(n,"...")),new Promise((t,r)=>{i.readdir(n,(o,s)=>{if(o)return r(o);const l=s.filter(t=>!e||-1===t.indexOf("Example"));Promise.all(l.map(e=>{return t=a.join(n,e),new Promise(e=>{const n=a.join(t,"JsExtension.js");i.stat(n,(t,r)=>e(t?null:r.isFile()?n:null))});var t})).then(e=>{t(e.filter(e=>!!e))},r)})})})}},1875:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(3),o=n.n(r),a=n(354),i=n.n(a);const s=o()("os"),l=o()("fs"),c=({onWriteFile:e})=>{const t=s.tmpdir()+"/GDGeneratedEventsFunctions";l.mkdir(t,e=>{e&&"EEXIST"!==e.code&&console.error("Unable to create the directory where to output events functions generated code: ",e)});const n=e=>"".concat(t,"/").concat(i()(e),".js");return{getIncludeFileFor:e=>n(e),writeFunctionCode:(t,r)=>new Promise((o,a)=>{const i=n(t);e({includeFile:i,content:r}),l.writeFile(i,r,e=>{if(e)return a(e);o()})}),writeBehaviorCode:(t,r)=>new Promise((o,a)=>{const i=n(t);e({includeFile:i,content:r}),l.writeFile(i,r,e=>{if(e)return a(e);o()})})}}},1886:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(119),o=n(3),a=n.n(o);const i=a()("fs-extra"),s=a()("path"),l=a()("electron"),c=l?l.remote.dialog:null;class u{}u.chooseEventsFunctionExtensionFile=()=>{if(!c)return Promise.reject("Not supported");const e=l.remote.getCurrentWindow();return c.showSaveDialog(e,{title:"Export an extension of the project",filters:[{name:'GDevelop 5 "events based" extension',extensions:["json"]}],defaultPath:"Extension.json"}).then(({filePath:e})=>e||null)},u.writeEventsFunctionsExtension=(e,t)=>((e,t)=>{if(!i)return Promise.reject(new Error("Filesystem is not supported."));try{const n=JSON.stringify(e,null,2);return i.ensureDir(s.dirname(t)).then(()=>new Promise((e,r)=>{i.writeFile(t,n,t=>t?r(t):e())}))}catch(n){return Promise.reject(n)}})(Object(r.b)(e),t).catch(e=>{throw console.error("Unable to write the events function extension:",e),e})},1887:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(3),o=n.n(r);const a=o()("fs"),i=o()("electron"),s=i?i.remote.dialog:null;class l{}l.chooseEventsFunctionExtensionFile=()=>{if(!s)return Promise.reject("Not supported");const e=i.remote.getCurrentWindow();return s.showOpenDialog(e,{title:"Import an extension in the project",properties:["openFile"],message:"Choose an extension file to import (.json file)",filters:[{name:'GDevelop 5 "events based" extension',extensions:["json"]}]}).then(({filePaths:e})=>e&&e.length?e[0]:null)},l.readEventsFunctionExtensionFile=e=>(e=>a?new Promise((t,n)=>{a.readFile(e,{encoding:"utf8"},(r,o)=>{if(r)return n(r);try{const e=JSON.parse(o);return t(e)}catch(a){return n(e+" is a corrupted/malformed file.")}})}):Promise.reject("Filesystem is not supported."))(e)},1888:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(2),o=n(3),a=n.n(o),i=n(111),s=n(241),l=n.n(s);const c=a()("electron"),u=a()("fs"),p=a()("child_process"),d=a()("process"),m=a()("path"),h=()=>{if(!c)return"";const e=d.cwd();return m.join(e,"../app")},f=()=>{if(!c||!u)return Promise.resolve({paths:[],pathsWithErrors:{}});const e={},t=m.join(h(),"../.."),n=m.join(t,"GDJS/Runtime"),r=m.join(t,"Extensions");return new Promise(t=>u.readdir(r,(n,o)=>{if(n)return e[r]=n,void t([]);t(Promise.all(o.map(t=>new Promise(n=>{const o=m.join(r,t);u.stat(o,(t,r)=>{if(t)return e[o]=t,void n(o);n(r.isDirectory()?o:null)})}))).then(e=>e.filter(Boolean)))})).then(t=>Promise.resolve([n].concat(["Cocos2d","Cordova","Electron","FacebookInstantGames","cocos-renderers","cocos-sound-manager","events-tools","fontfaceobserver-font-manager","howler-sound-manager","libs","pixi-renderers","websocket-debugger-client"].map(e=>m.join(n,e)))).then(n=>({paths:[...n,...t],pathsWithErrors:e})))},g=()=>p&&m?new Promise((e,t)=>{p.exec('node "'.concat(m.join(h(),"scripts/import-GDJS-Runtime.js"),'"'),(n,r,o)=>n?(console.error("GDJS Runtime update error: ".concat(n)),void t(n)):(console.info("GDJS Runtime update: ".concat(r)),o?(console.error("GDJS Runtime update error: ".concat(o)),void t(new Error("Error while updating GDJS Runtime"))):void e()))}):Promise.reject(new Error("Unsupported")),v=l()((e,t)=>{const n=e||"unknown-event",r=t||"unknown-file";console.info('GDJS/extensions watchers found a "'.concat(n,'" in ').concat(r,", updating GDJS Runtime...")),g().catch(()=>{})},100),b=()=>{const e=r.useContext(i.b).values.useGDJSDevelopmentWatcher;return r.useEffect(()=>{if(!e)return;let t=!1,n=[],r=performance.now();return f().then(({paths:e,pathsWithErrors:o})=>{if(t)return;if(!u)return void console.error("Unable to use 'fs' from Node.js to watch changes in GDJS.");g().catch(()=>{}),e.forEach(e=>{let t=null;try{t=u.watch(e,{},v)}catch(r){return o[e]=r,null}t&&(t.on("error",e=>{console.warn("Error in watcher for GDJS Runtime - manually call npm run `node import-GDJS-Runtime.js` in the newIDE/app/scripts folder if you make changes to GDJS.",e)}),n.push(t))}),Object.keys(o).length&&console.warn("Error while setting up watchers for some paths: ",o);const a=(performance.now()-r).toFixed(2);n.length?console.info("Watchers for GDJS Runtime/extensions installed in ".concat(a,"ms.")):console.warn("No watchers for GDJS Runtime/extensions installed (took ".concat(a,"ms)."))}),()=>{t=!0,n.length&&(n.forEach(e=>{e.close()}),console.info("Watchers for GDJS Runtime closed."))}},[e]),null}},249:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(78),o=n(72),a=n(2),i=n.n(a),s=n(94),l=n(84),c=n(3);const u=n.n(c)()("electron"),p=u?u.remote.dialog:null,d={container:{position:"relative",display:"flex",alignItems:"baseline"},button:{marginLeft:10},textField:{flex:1}};class m extends a.PureComponent{constructor(...e){super(...e),this._onChooseFolder=({title:e,message:t})=>{if(!p||!u)return;const n=u.remote.getCurrentWindow();p.showOpenDialog(n,{title:e,properties:["openDirectory","createDirectory"],message:t,defaultPath:this.props.defaultPath}).then(({filePaths:e})=>{e&&e.length&&this.props.onChange(e[0])})},this._getTitleAndMessage=e=>{const t=this.props.type;return"export"===t?{title:e._({id:"Choose an export folder"}),message:e._({id:"Choose where to export the game"})}:"create-game"===t?{title:e._({id:"Choose a folder for the new game"}),message:e._({id:"Choose where to create the game"})}:{title:void 0,message:void 0}}}render(){return i.a.createElement(o.I18n,null,({i18n:e})=>{const t=this._getTitleAndMessage(e);return i.a.createElement("div",{style:Object(r.a)({},d.container,{width:this.props.fullWidth?"100%":void 0})},i.a.createElement(s.b,{margin:"dense",style:d.textField,type:"text",hintText:t.title,value:this.props.value,onChange:(e,t)=>this.props.onChange(t)}),i.a.createElement(l.a,{label:i.a.createElement(o.Trans,{id:"Choose folder"}),primary:!1,style:d.button,onClick:()=>this._onChooseFolder(t)}))})}}},383:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(3),o=n.n(r),a=n(464);const i=o()("fs"),s=Object(a.a)("archiver"),l=({path:e,outputFilename:t})=>{const n=s();return new Promise((r,o)=>{if(!i||!n)return o(new Error("Archiver unavailable"));const a=i.createWriteStream(t),s=n("zip",{zlib:{level:9}});a.on("close",()=>{console.log("Archive written at ".concat(t,", ").concat(s.pointer()," total bytes.")),r(t)}),s.on("error",e=>{o(e)}),s.pipe(a),s.directory(e,!1),s.finalize()})}},515:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);const o=n.n(r)()("electron"),a=o?o.ipcRenderer:null,i=(e,t,n)=>a?(a.removeAllListeners("local-file-upload-progress"),a.removeAllListeners("local-file-upload-done"),new Promise((r,o)=>{a.on("local-file-upload-progress",(e,t,r)=>{n(t,r)}),a.on("local-file-upload-done",(e,t)=>{if(t)return o(t);r()}),a.send("local-file-upload",e,t)})):Promise.reject("No support for local file upload")},518:function(e,t,n){"use strict";var r=n(78),o=n(3),a=n.n(o),i=n(816);const s=a()("fs"),l=a()("path"),c=a()("electron"),u=c?c.remote.dialog:null,p=e=>s?new Promise((t,n)=>{s.readFile(e,{encoding:"utf8"},(r,o)=>{if(r)return n(r);try{const e=JSON.parse(o);return t(e)}catch(a){return n(e+" is a corrupted/malformed file.")}})}):Promise.reject("Filesystem is not supported."),d=()=>{if(!u)return Promise.reject("Not supported");const e=c.remote.getCurrentWindow();return u.showOpenDialog(e,{title:"Open a project",properties:["openFile"],message:"If you want to open your GDevelop 4 project, be sure to save it as a .json file",filters:[{name:"GDevelop 5 project",extensions:["json"]}]}).then(({filePaths:e})=>e&&e.length?{fileIdentifier:e[0]}:null)},m=e=>{const t=e.fileIdentifier,n=l.dirname(t);return p(t).then(e=>Object(i.d)(e,{getReferencePartialObject:e=>p(l.join(n,e)+".json"),isReferenceMagicPropertyName:"__REFERENCE_TO_SPLIT_OBJECT",maxUnsplitDepth:3}).then(()=>({content:e})))},h=(e,t)=>{const n=e.fileIdentifier,r=n+".autosave";if(s.existsSync(r)){if(!t)return Promise.resolve(!0);try{if(s.statSync(r).mtime.getTime()>s.statSync(n).mtime.getTime())return Promise.resolve(!0)}catch(o){return console.error("Unable to compare *.autosave to project",o),Promise.resolve(!1)}return Promise.resolve(!1)}return Promise.resolve(!1)},f=e=>Promise.resolve(Object(r.a)({},e,{fileIdentifier:e.fileIdentifier+".autosave"}));var g=n(1839),v=n(5);t.a={internalName:"LocalFile",name:{id:"Local file system"},getFileMetadataFromAppArguments:e=>e[v.a]&&e[v.a].length?{fileIdentifier:e[v.a][0]}:null,createOperations:()=>({onOpenWithPicker:d,onOpen:m,hasAutoSave:h,onSaveProject:g.b,onSaveProjectAs:g.c,onAutoSaveProject:g.a,onGetAutoSave:f,getOpenErrorMessage:e=>({id:"Check that the file exists, that this file is a proper game created with GDevelop and that you have the authorizations to open it."})})}},70:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"create",(function(){return k}));var r=n(2),o=n.n(r),a=n(535),i=n(5),s=n(840),l=n(845),c=(n(13),n(37),n(812)),u=n(1852),p=n(1854),d=n(1855),m=n(1859),h=n(1862),f=n(1872),g=n(1873),v=n.n(g),b=n(1875),E=n(377),x=n(161),w=n(841),y=n(1886),P=n(1887),S=n(834),j=n(518),C=n(1888),O=n(267);const D=e.gd,k=e=>{i.b.setUpContextMenu();const t=i.b.getArguments(),n=i.b.isDev();return o.a.createElement(w.a,{authentification:e,disableCheckForUpdates:!!t["disable-update-check"],makeEventsFunctionCodeWriter:b.a,eventsFunctionsExtensionWriter:y.a,eventsFunctionsExtensionOpener:P.a},({i18n:e,eventsFunctionsExtensionsState:r})=>o.a.createElement(S.a,{appArguments:t,storageProviders:[j.a],defaultStorageProvider:j.a},({getStorageProviderOperations:t,storageProviders:i,initialFileMetadataToOpen:g,getStorageProvider:b})=>o.a.createElement(O.b.Consumer,null,w=>o.a.createElement(a.a,{i18n:e,renderMainMenu:e=>o.a.createElement(f.a,e),eventsFunctionsExtensionsState:r,renderPreviewLauncher:(e,t)=>o.a.createElement(m.a,Object.assign({},e,{ref:t})),renderExportDialog:e=>o.a.createElement(s.a,Object.assign({},e,{exporters:Object(h.a)()})),renderCreateDialog:e=>o.a.createElement(l.a,Object.assign({},e,{examplesComponent:c.a,startersComponent:u.a})),renderGDJSDevelopmentWatcher:n?()=>o.a.createElement(C.a,null):null,storageProviders:i,getStorageProviderOperations:t,getStorageProvider:b,resourceSources:p.a,resourceExternalEditors:d.a,extensionsLoader:v()({gd:D,objectsEditorService:E.a,objectsRenderingService:x.a,filterExamples:!n}),initialFileMetadataToOpen:g,unsavedChanges:w}))))}}.call(this,n(1))},812:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return x}));var r=n(72),o=n(2),a=n.n(o),i=n(2251),s=n(249),l=n(8),c=n(74),u=n(83),p=n(813),d=n(3),m=n.n(d),h=n(814),f=n(20),g=n(518);const v=m()("path");var b=m()("fs-extra");const E=(e,t,n)=>{Object(f.c)(e._({id:"Unable to create the game in the specified folder. Check that you have permissions to write in this folder: {outputPath} or choose another folder.",values:{outputPath:t}}),n)};class x extends o.Component{constructor(...e){super(...e),this.state={exampleNames:null},this.createFromExample=(e,t)=>{const n=this.props.outputPath;b&&n&&Object(p.a)(r=>{try{b.mkdirsSync(n),b.copySync(v.join(r,t),n)}catch(o){return void E(e,n,o)}this.props.onOpen(g.a,{fileIdentifier:v.join(n,t+".json")}),Object(l.h)(t)})}}componentDidMount(){Object(p.a)(e=>{b.readdir(e,(e,t)=>{e?console.error("Unable to read examples:",e):this.setState({exampleNames:t.filter(e=>".DS_Store"!==e)},()=>this.props.onExamplesLoaded())})})}render(){return a.a.createElement(r.I18n,null,({i18n:e})=>a.a.createElement(c.a,{noMargin:!0},a.a.createElement(c.b,{expand:!0},a.a.createElement(c.a,{expand:!0},a.a.createElement(s.a,{fullWidth:!0,value:this.props.outputPath,onChange:this.props.onChangeOutputPath,type:"create-game"}))),a.a.createElement(i.a,null),a.a.createElement(c.b,null,a.a.createElement(c.a,null,a.a.createElement(u.a,null,a.a.createElement(r.Trans,{id:"Choose or search for an example to open:"})))),a.a.createElement(c.b,null,a.a.createElement(h.a,{exampleNames:this.state.exampleNames,onCreateFromExample:t=>this.createFromExample(e,t)}))))}}},813:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(3),o=n.n(r);const a=o()("electron"),i=o()("path"),s=a?a.remote.app:null,l=o()("fs"),c=o()("process"),u=(e,t,n)=>l.access(e,l.constants.R_OK,r=>{r?n():t(e)}),p=e=>{if(!c||!l)return"";const t=s?s.getAppPath():c.cwd();u(i.join(t,"..","examples"),e,()=>{u(i.join(t,"..","..","app","resources","examples"),e,()=>{e(null)})})}},816:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n(129),o=n(354),a=n.n(o);const i=(e,{pathSeparator:t,getArrayItemReferenceName:n,shouldSplit:r,isReferenceMagicPropertyName:o})=>{const a=[],i=(e,t)=>(a.push({reference:e,object:t}),{[o]:!0,referenceTo:e}),s=(e,o,a)=>{if(null!==e&&"object"===typeof e)if(Array.isArray(e))for(let l in e){const c=o+t+"*";if(r(c)){const r=e[l],o=n(r,a),u=a+t+o;e[l]=i(u,r),s(r,c,u)}else{const n=a+t+l;s(e[l],c,n)}}else for(let n in e){const l=o+t+n,c=a+t+n;if(r(l)){const t=e[n];e[n]=i(c,t),s(t,l,c)}else s(e[n],l,c)}};return s(e,"",""),a},s=(e,{isReferenceMagicPropertyName:t,getReferencePartialObject:n,maxUnsplitDepth:r})=>{const o=(e,a)=>{if(void 0!==r&&a>=r)return Promise.resolve();if(null!==e&&"object"===typeof e){const r=Object.keys(e);if(r)return Promise.all(r.map(r=>{const i=(e=>!0===e[t]?e:null)(e[r]);return i?n(i.referenceTo).then(t=>(e[r]=t,o(e[r],a+1))):o(e[r],a+1)})).then(()=>{})}return Promise.resolve()};return o(e,0)},l=e=>t=>e.has(t),c=e=>{const t={};return(n,o)=>{const i=n[e];if("string"!==typeof i)throw new Error("Property ".concat(e," is not a string"));t[o]=t[o]||{};const s=Object(r.a)(a()(i),e=>!!t[o][e]);return t[o][s]=!0,s}}}}]);
//# sourceMappingURL=local-app.66c0efae.chunk.js.map