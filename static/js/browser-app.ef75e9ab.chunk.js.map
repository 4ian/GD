{"version":3,"sources":["ProjectCreation/BrowserExamples.js","MainFrame/BrowserIntroDialog.js","ResourcesList/BrowserResourceExternalEditors.js","EventsFunctionsExtensionsLoader/CodeWriters/BrowserS3EventsFunctionCodeWriter.js","ProjectsStorage/DownloadFileStorageProvider/DownloadSaveAsDialog.js","ProjectsStorage/DownloadFileStorageProvider/index.js","UI/CustomSvgIcons/Dropbox.js","ProjectsStorage/DropboxStorageProvider/index.js","UI/CustomSvgIcons/OneDrive.js","ProjectsStorage/OneDriveStorageProvider/index.js","BrowserApp.js","ProjectCreation/BrowserStarters.js","ResourcesList/BrowserResourceSources.js","Export/BrowserExporters/BrowserS3PreviewLauncher/index.js","Export/BrowserExporters/BrowserS3PreviewLauncher/BrowserPreviewLinkDialog.js","Export/BrowserExporters/BrowserS3PreviewLauncher/BrowserPreviewErrorDialog.js","Export/BrowserExporters/BrowserS3FileSystem.js","Export/BrowserExporters/BrowserOnlineCordovaExport.js","Utils/Zip.js/index.js","Export/BrowserExporters/BrowserOnlineElectronExport.js","Export/BrowserExporters/BrowserOnlineWebExport.js","Export/BrowserExporters/BrowserHTML5Export.js","Export/BrowserExporters/BrowserCordovaExport.js","Export/BrowserExporters/BrowserElectronExport.js","Export/BrowserExporters/BrowserCocos2dExport.js","Export/BrowserExporters/BrowserFacebookInstantGamesExport.js","JsExtensionsLoader/BrowserJsExtensionsLoader.js","ProjectsStorage/GoogleDriveStorageProvider/index.js","UI/CustomSvgIcons/GoogleDrive.js","ProjectsStorage/GoogleDriveStorageProvider/GoogleDriveFileOrFolderPicker.js","ProjectsStorage/GoogleDriveStorageProvider/GoogleDriveSaveAsDialog.js","GameEngineFinder/BrowserS3GDJSFinder.js","Export/BrowserExporters/BrowserFileSystem.js","Utils/BrowserArchiver.js","Export/BrowserExporters/index.js","Utils/BlobDownloadUrlHolder.js","Utils/GDevelopServices/Preview.js","ProjectsStorage/InternalFileStorageProvider/InternalExampleFiles.js","ProjectsStorage/InternalFileStorageProvider/index.js","Utils/LoadScript.js"],"names":["exampleNames","Object","keys","ExamplesInformation","BrowserExamples","_this","this","react_default","a","createElement","Grid","noMargin","Text","_lingui_react","id","ExamplesList","onCreateFromExample","exampleName","sendNewGameCreated","props","onOpen","InternalFileStorageProvider","fileIdentifier","concat","Component","BetaIntroDialog","Window","openExternalURL","_this$props","open","onClose","ResponsiveWindowMeasurer","windowWidth","Dialog","title","actions","FlatButton","key","label","primary","onClick","_onOpenWebsite","onRequestClose","isFullscreen","justifyContent","RaisedButton","labelPosition","Fragment","requestFullscreen","setTimeout","forceUpdate","icon","Fullscreen_default","editors","name","displayName","kind","edit","sendExternalEditorOpened","showMessageBox","makeBrowserS3EventsFunctionCodeWriter","prefix","makeTimestampedId","getPathFor","codeNamespace","slugs","getIncludeFileFor","getBaseUrl","writeFunctionCode","functionCodeNamespace","code","console","log","uploadObject","Key","Body","ContentType","writeBehaviorCode","behaviorCodeNamespace","DownloadSaveAsDialog","_download","content","JSON","stringify","serializeToJSObject","project","err","showErrorBox","uri","encodeURI","downloadLink","document","href","download","body","appendChild","click","removeChild","onDone","react","maxWidth","expand","fullWidth","React","DownloadFileStorageProvider","internalName","renderIcon","SaveAlt_default","hiddenInOpenDialog","createOperations","_ref","setDialog","closeDialog","onSaveProjectAs","fileMetadata","Promise","resolve","DownloadSaveAsDialog_DownloadSaveAsDialog","wasSaved","memo","SvgIcon","d","apisLoaded","apisLoadingPromise","initializeApis","reject","Error","then","catch","error","DropboxStorageProvider","disabled","Dropbox","doesInitialOpenRequireUserInteraction","onOpenWithPicker","onSaveProject","OneDriveStorageProvider","OneDrive","__webpack_require__","__webpack_exports__","BrowserApp_create","create","authentification","setUpContextMenu","appArguments","getArguments","Providers","disableCheckForUpdates","eventsFunctionCodeWriter","eventsFunctionsExtensionWriter","eventsFunctionsExtensionOpener","i18n","eventsFunctionsExtensionsState","ProjectStorageProviders","storageProviders","GoogleDriveStorageProvider","defaultStorageProvider","_ref2","currentStorageProviderOperations","useStorageProvider","initialFileMetadataToOpen","MainFrame","renderPreviewLauncher","ref","BrowserS3PreviewLauncher","assign","renderExportDialog","ExportDialog","exporters","getBrowserExporters","allExportersRequireOnline","renderCreateDialog","CreateProjectDialog","examplesComponent","startersComponent","BrowserStarters","introDialog","BrowserIntroDialog_BetaIntroDialog","storageProviderOperations","resourceSources","browserResourceSources","resourceExternalEditors","browserResourceExternalEditors","extensionsLoader","makeExtensionsLoader","objectsEditorService","ObjectsEditorService","objectsRenderingService","ObjectsRenderingService","filterExamples","isDev","gd","global","react__WEBPACK_IMPORTED_MODULE_6___default","_UI_Grid__WEBPACK_IMPORTED_MODULE_10__","_UI_Text__WEBPACK_IMPORTED_MODULE_12__","_lingui_react__WEBPACK_IMPORTED_MODULE_5__","_UI_List__WEBPACK_IMPORTED_MODULE_7__","leftIcon","_UI_ListIcon__WEBPACK_IMPORTED_MODULE_11__","iconSize","src","primaryText","secondaryText","secondaryTextLines","ProjectHelper","createNewGDJSProject","onCreate","alignItems","_UI_RaisedButton__WEBPACK_IMPORTED_MODULE_8__","onShowExamples","styles","explanations","textAlign","margin","publicImageUrls","publicAudioUrls","publicFontUrls","publicVideoUrls","publicJsonUrls","nameFromUrl","url","urlParts","split","length","replace","GenericResourcesChooser","_Users_florian_Projects_F_GD_newIDE_app_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","resolveWithResources","chooseResources","arguments","undefined","setState","_onChoose","chosenResourceUrl","newResource","createNewResource","setFile","setName","_onClose","listItems","urls","map","_UI_List__WEBPACK_IMPORTED_MODULE_10__","urlsAreImages","_UI_ListIcon__WEBPACK_IMPORTED_MODULE_9__","_UI_FlatButton__WEBPACK_IMPORTED_MODULE_7__","_UI_Dialog__WEBPACK_IMPORTED_MODULE_8__","style","_UI_Text__WEBPACK_IMPORTED_MODULE_11__","_UI_Grid__WEBPACK_IMPORTED_MODULE_13__","_UI_RaisedButton__WEBPACK_IMPORTED_MODULE_12__","component","_temp","_React$Component","AudioResourceChooser","_getPrototypeOf2","_this2","_len","args","Array","_key","apply","_chooser","_Users_florian_Projects_F_GD_newIDE_app_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","value","_this3","AudioResource","chooser","_temp2","_React$Component2","ImageResourceChooser","_getPrototypeOf3","_this4","_len2","_key2","_this5","ImageResource","_temp3","_React$Component3","FontResourceChooser","_getPrototypeOf4","_this6","_len3","_key3","_this7","FontResource","_temp4","_React$Component4","VideoResourceChooser","_getPrototypeOf5","_this8","_len4","_key4","_this9","VideoResource","_temp5","_React$Component5","JsonResourceChooser","_getPrototypeOf6","_this10","_len5","_key5","_this11","JsonResource","canDoNetworkPreview","showPreviewLinkDialog","_openPreviewWindow","windowObjectReference","window","_prepareExporter","findGDJS","gdjsRoot","filesContent","info","outputDir","browserS3FileSystem","BrowserS3FileSystem","bucketBaseUrl","fileSystem","assignIn","AbstractFileSystemJS","exporter","Exporter","setCodeOutputDirectory","launchLayoutPreview","layout","options","exportLayoutForPixiPreview","delete","uploadPendingObjects","finalUrl","_ref3","launchExternalLayoutPreview","externalLayout","_ref4","exportExternalLayoutForPixiPreview","_ref5","_this$state","react__WEBPACK_IMPORTED_MODULE_5__","_BrowserPreviewErrorDialog__WEBPACK_IMPORTED_MODULE_7__","_BrowserPreviewLinkDialog__WEBPACK_IMPORTED_MODULE_6__","BrowserPreviewLinkDialog","_makeOnOpen","_","_UI_Dialog__WEBPACK_IMPORTED_MODULE_7__","_UI_FlatButton__WEBPACK_IMPORTED_MODULE_8__","modal","components","BrowserPreviewErrorDialog","_UI_Grid__WEBPACK_IMPORTED_MODULE_9__","_UI_Text__WEBPACK_IMPORTED_MODULE_10__","values","0","message","isURL","filename","substr","_pendingUploadObjects","_allCopiedExternalUrls","Set","all","result","mkDir","path","dirExists","clearDir","getTempDir","fileNameFrom","fullpath","basename","dirNameFrom","dirname","makeAbsolute","baseDirectory","isAbsolute","normalize","makeRelative","relative","charAt","copyFile","source","dest","add","warn","writeToFile","fullPath","contents","fileExtension","extname","push",".js",".html","readFile","file","_indexedFilesContent","text","readDir","ext","toUpperCase","output","VectorString","forEach","upperCaseUrl","indexOf","push_back","fileExists","textFileDescriptor","filePath","browserOnlineCordovaExportPipeline","onlineBuildType","getInitialExportState","canLaunchBuild","renderHeader","react__WEBPACK_IMPORTED_MODULE_1__","_GenericExporters_OnlineCordovaExport__WEBPACK_IMPORTED_MODULE_7__","renderLaunchButtonLabel","_lingui_react__WEBPACK_IMPORTED_MODULE_0__","prepareExporter","context","abstractFileSystem","BrowserFileSystem","textFiles","launchExport","exportOptions","MapStringBoolean","set","exportWholePixiProject","getAllTextFilesIn","urlFiles","getAllUrlFilesIn","launchResourcesDownload","downloadUrlsToBlobs","onProgress","updateStepProgress","blobFiles","launchCompression","archiveFiles","basePath","launchUpload","blobFile","uploadBuildFile","launchOnlineBuild","exportState","userProfile","uploadBucketKey","getAuthorizationHeader","profile","buildCordovaAndroid","uid","initializeZipJs","_LoadScript__WEBPACK_IMPORTED_MODULE_0__","zipJsLoaded","zipJsLoadingPromise","zip","loadScript","PUBLIC_URL","workerScripts","deflater","inflater","browserOnlineElectronExportPipeline","targets","_GenericExporters_OnlineElectronExport__WEBPACK_IMPORTED_MODULE_7__","buildElectron","browserOnlineWebExportPipeline","_GenericExporters_OnlineWebExport__WEBPACK_IMPORTED_MODULE_7__","buildWeb","browserHTML5ExportPipeline","_GenericExporters_HTML5Export__WEBPACK_IMPORTED_MODULE_8__","renderDoneFooter","compressionOutput","renderGameButton","_Utils_BlobDownloadUrlHolder__WEBPACK_IMPORTED_MODULE_7__","blob","blobDownloadUrl","_UI_RaisedButton__WEBPACK_IMPORTED_MODULE_6__","display","openBlobDownloadUrl","browserCordovaExportPipeline","_GenericExporters_CordovaExport__WEBPACK_IMPORTED_MODULE_8__","browserElectronExportPipeline","_GenericExporters_ElectronExport__WEBPACK_IMPORTED_MODULE_8__","browserCocos2dExportPipeline","debugMode","updateExportState","react__WEBPACK_IMPORTED_MODULE_2__","_UI_Grid__WEBPACK_IMPORTED_MODULE_11__","_GenericExporters_Cocos2dExport__WEBPACK_IMPORTED_MODULE_9__","_UI_Toggle__WEBPACK_IMPORTED_MODULE_12__","onToggle","e","check","prevState","_Users_florian_Projects_F_GD_newIDE_app_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","toggled","_lingui_react__WEBPACK_IMPORTED_MODULE_1__","exportWholeCocos2dProject","_ref6","_Utils_BlobDownloadUrlHolder__WEBPACK_IMPORTED_MODULE_8__","_UI_RaisedButton__WEBPACK_IMPORTED_MODULE_7__","browserFacebookInstantGamesExportPipeline","_GenericExporters_FacebookInstantGamesExport__WEBPACK_IMPORTED_MODULE_8__","___WEBPACK_IMPORTED_MODULE_0__","jsExtensions","extensionModule","require","objectsRenderingServiceModules","pixi-multistyle-text/dist/pixi-multistyle-text.umd","loadAllExtensions","filter","includes","registerEditorConfigurations","requirePath","registerModule","registerInstanceRenderers","extensionModulePath","loadExtension","JsPlatform","get","react__WEBPACK_IMPORTED_MODULE_0__","_Utils_Serializer__WEBPACK_IMPORTED_MODULE_1__","_UI_CustomSvgIcons_GoogleDrive__WEBPACK_IMPORTED_MODULE_2__","_GoogleDriveSaveAsDialog__WEBPACK_IMPORTED_MODULE_3__","_Utils_LoadScript__WEBPACK_IMPORTED_MODULE_4__","DEVELOPER_KEY","DISCOVERY_DOCS","SCOPE","gapi","load","callback","auth2LoadPromise","auth2","init","apiKey","clientId","discoveryDocs","scope","client","setApiKey","driveLoadPromise","onerror","isAuthenticated","authenticate","googleAuth","getAuthInstance","isSignedIn","currentUser","listen","authenticated","signIn","googleUser","getAuthResponse","patchJsonFile","fileId","fetch","method","headers","Headers","Authorization","access_token","Content-Type","res","status","showFilePicker","selectFolderEnabled","showUploadView","google","picker","pickerBuilder","PickerBuilder","addView","DocsView","setIncludeFolders","setSelectFolderEnabled","setOAuthToken","setDeveloperKey","setAppId","setCallback","data","Response","ACTION","Action","PICKED","doc","DOCUMENTS","Document","ID","NAME","parentId","PARENT_ID","TYPE","Type","LOCATION","MIME_TYPE","type","dispose","CANCEL","DocsUploadView","build","setVisible","pickerElements","getElementsByClassName","i","zIndex","getFileMetadataFromAppArguments","googleDriveState","parse","ids","response","fileContent","ex","googleDriveFileOrFolder","serializeToJSON","onShowFilePicker","onCancel","onSave","selectedFileOrFolder","newFileName","onError","drive","files","content-type","uploadType","parents","mimeType","fields","apiResponse","newFileId","getOpenErrorMessage","react__WEBPACK_IMPORTED_MODULE_0___default","n","_material_ui_core_SvgIcon__WEBPACK_IMPORTED_MODULE_1__","container","position","width","button","marginLeft","textField","flex","GoogleDriveFileOrFolderPicker","node_modules_react","objectSpread","TextField","floatingLabelText","floatingLabelFixed","hintText","onChange","onOpenPicker","_React$useState","_React$useState2","slicedToArray","setSelectedFileOrFolder","_React$useState3","_React$useState4","setNewFileName","_React$useState5","_React$useState6","saving","setSaving","_React$useState7","_React$useState8","saveError","setSaveError","_React$useState9","_React$useState10","pickerError","setPickerError","_React$useState11","_React$useState12","dialogHidden","hideDialog","canCancel","LeftLoader","isLoading","canSave","event","AlertMessage","filesToDownload","preview","web","cocos2d-js","facebook-instant-games","cordova","electron","fileSet","relativeFilePath","ok","_textFiles","_filesToDownload","pathPrefix","filePathOrURL","baseDirectoryOrURL","substring","upperCaseFilePath","normalizedFilePath","eachCallback","array","done","index","callNextCallback","_Users_florian_Projects_F_GD_newIDE_app_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_react_scripts_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","count","wrap","_context","prev","next","abrupt","downloadedBlobs","stop","_x","_callee2","zipJs","zippedFilesCount","totalFilesCount","_context2","sent","createWriter","BlobWriter","zipWriter","_ref7","BlobReader","_ref8","TextReader","close","_x2","_material_ui_icons_PhoneIphone__WEBPACK_IMPORTED_MODULE_10___default","helpPage","description","exportPipeline","_UI_CustomSvgIcons_Chrome__WEBPACK_IMPORTED_MODULE_15__","_material_ui_icons_Folder__WEBPACK_IMPORTED_MODULE_12___default","advanced","_UI_CustomSvgIcons_Facebook__WEBPACK_IMPORTED_MODULE_13__","_UI_CustomSvgIcons_Cordova__WEBPACK_IMPORTED_MODULE_14__","_material_ui_icons_LaptopMac__WEBPACK_IMPORTED_MODULE_11___default","experimental","BlobDownloadUrlHolder","children","_Users_florian_Projects_F_GD_newIDE_app_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","setBlobDownloadUrl","URL","revokeObjectURL","createObjectURL","params","GDevelopGamesPreview","awsS3Client","putObject","Bucket","destinationBucket","destinationBucketBaseUrl","InternalExampleFiles","example://admob","example://advanced-shape-based-painter","example://animation-speed-scale","example://asteroids","example://basic-ai-with-pathfinding","example://basic-artificial-intelligence","example://basic-topdown-car-driving","example://bbtext-object-demo","example://betabox-basics-learning-experience","example://bomb-the-crate","example://bouncing-ball-and-rope","example://breakout","example://buttons","example://car-physics","example://center-object-within-another","example://change-position-of-object","example://change-scale-of-sprites","example://change-sprite-animation","example://change-sprite-color","example://character-selection","example://count-down-timer","example://create-object-with-mouseclick","example://create-random-object","example://custom-font","example://custom-mouse-pointer","example://customize-keys-with-lastpressedkey","example://device-orientation-ballgame","example://device-orientation-compass","example://device-vibration","example://dialogue-tree-with-yarn","example://downhill-bike-physics-demo","example://drag-camera-with-mouse","example://drop-collect-items-from-storage","example://endless-up-runner","example://exit-app","example://facebook-instant-game","example://filesystem-create-directory","example://find-diagonals","example://geodash","example://geometry-monster","example://health-bar","example://infinite-scrolling-background","example://inventory-system","example://isometric-game","example://javascript-blocks-in-platformer","example://keyboard-practice","example://level-editor","example://level-selection-unlock","example://load-image-from-url","example://magnet","example://manipulate-text-object","example://menu-with-functions-and-text-effects","example://move-camera-to-position","example://move-object-back-and-forth","example://move-object-in-circle","example://move-object-toward-position","example://move-object-with-mouse-joint","example://move-object-with-physics","example://multi-language-menu","example://multiplayer-platformer-with-gamepads","example://multitouch","example://object-gravity","example://object-selection","example://objects-timers","example://open-url-in-browser","example://pairs","example://parallax","example://parallax-scrolling","example://parse-json-from-api","example://parse-json-string","example://particles-explosions","example://particles-various-effects","example://pathfinding","example://pathfinding-basics","example://physics","example://physics-joints-demo","example://physics-joints-settings-demo","example://pin-object-to-another","example://pin-object-to-another-multiple-parents","example://pixel-perfect-platform-game","example://plane-and-clouds","example://platformer","example://platformer-double-jump","example://play-music-on-mobile","example://play-stop-sprite-animation","example://racing-game","example://ragdoll","example://rain","example://random-color-picker","example://rotate-toward-mouse","example://rotate-toward-position","example://rotate-with-keypress","example://save-load","example://screen-shake","example://shoot-bullet-in-parabola","example://shoot-bullets","example://shooting-bullets-explanation","example://simple-space-shooter","example://snap-object-to-grid","example://space-invaders","example://space-shooter","example://splash-screen","example://sprite-fade-in-out","example://take-screenshot","example://text-entry-object","example://text-fade-in-out","example://text-to-speech","example://toggle-music-play-sound","example://type-on-text-effect","example://unlock-items","example://video-player","example://z-depth","example://zombie-laser","hiddenInSaveDialog","POSITIONAL_ARGUMENTS_KEY","internalExampleFiles","scriptElement","onload","onabort"],"mappings":"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","file":"static/js/browser-app.ef75e9ab.chunk.js","sourcesContent":["import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport { sendNewGameCreated } from '../Utils/Analytics/EventSender';\nimport { Column, Line } from '../UI/Grid';\nimport Text from '../UI/Text';\nimport ExamplesList from './ExamplesList';\nimport InternalFileStorageProvider from '../ProjectsStorage/InternalFileStorageProvider';\nimport ExamplesInformation from './ExamplesInformation';\n\n// To add a new example, add it first in resources/examples (at which point you can see it\n// in the desktop version), then run these scripts:\n// * scripts/update-examples-information-from-resources-examples.js (update metadata)\n// * scripts/update-fixtures-from-resources-examples.js (update web-app examples)\n// and upload the examples to `gdevelop-resources` s3.\nconst exampleNames: Array<string> = Object.keys(ExamplesInformation);\n\nexport default class BrowserExamples extends Component {\n  render() {\n    return (\n      <Column noMargin>\n        <Line>\n          <Column>\n            <Text>\n              <Trans>Choose or search for an example to open:</Trans>\n            </Text>\n          </Column>\n        </Line>\n        <Line>\n          <ExamplesList\n            exampleNames={exampleNames}\n            onCreateFromExample={exampleName => {\n              sendNewGameCreated(exampleName);\n              this.props.onOpen(InternalFileStorageProvider, {\n                fileIdentifier: `example://${exampleName}`,\n              });\n            }}\n          />\n        </Line>\n      </Column>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport Window from '../Utils/Window';\nimport FlatButton from '../UI/FlatButton';\nimport Text from '../UI/Text';\nimport { ResponsiveWindowMeasurer } from '../UI/Reponsive/ResponsiveWindowMeasurer';\nimport Fullscreen from '@material-ui/icons/Fullscreen';\nimport RaisedButton from '../UI/RaisedButton';\nimport { Spacer, Line } from '../UI/Grid';\n\nexport default class BetaIntroDialog extends Component {\n  _onOpenWebsite() {\n    Window.openExternalURL('http://gdevelop-app.com');\n  }\n\n  render() {\n    const { open, onClose } = this.props;\n\n    return (\n      <ResponsiveWindowMeasurer>\n        {windowWidth => (\n          <Dialog\n            title={<Trans>Welcome to GDevelop</Trans>}\n            actions={[\n              <FlatButton\n                key=\"download\"\n                label={<Trans>Download GDevelop desktop app</Trans>}\n                primary={false}\n                onClick={this._onOpenWebsite}\n              />,\n              <FlatButton\n                label={<Trans>Close</Trans>}\n                primary={false}\n                onClick={onClose}\n                key=\"close\"\n              />,\n            ]}\n            open={open}\n            onRequestClose={onClose}\n          >\n            <div>\n              <Text>\n                <Trans>\n                  This is a version of GDevelop 5 that you can try online.\n                </Trans>\n              </Text>\n              <Text>\n                Choose a <b>new project to create</b>, then edit the scene or\n                the events ruling the game. You can{' '}\n                <b>launch a preview of your game</b> at any time.\n              </Text>\n              <Text>\n                <Trans>\n                  Download the full version of GDevelop on your desktop computer\n                  to create your own game without limits!\n                </Trans>\n              </Text>\n              {windowWidth === 'small' &&\n                (!Window.isFullscreen() ? (\n                  <React.Fragment>\n                    <Spacer />\n                    <Text>\n                      <Trans>\n                        You're working on a small screen. It's recommended to\n                        activate Fullscreen Mode for using GDevelop.\n                      </Trans>\n                    </Text>\n                    <Line justifyContent=\"center\">\n                      <RaisedButton\n                        label={<Trans>Activate Fullscreen</Trans>}\n                        primary\n                        onClick={() => {\n                          Window.requestFullscreen();\n                          setTimeout(() => {\n                            this.forceUpdate();\n                          }, 250 /* Let a bit of time for the fullscreen to kick in */);\n                        }}\n                        labelPosition=\"before\"\n                        icon={<Fullscreen />}\n                      />\n                    </Line>\n                  </React.Fragment>\n                ) : (\n                  <Line justifyContent=\"center\">\n                    <RaisedButton\n                      label={<Trans>Start using GDevelop</Trans>}\n                      primary\n                      onClick={onClose}\n                      labelPosition=\"before\"\n                    />\n                  </Line>\n                ))}\n            </div>\n          </Dialog>\n        )}\n      </ResponsiveWindowMeasurer>\n    );\n  }\n}\n","// @flow\nimport Window from '../Utils/Window';\nimport { type ResourceExternalEditor } from './ResourceExternalEditor.flow';\nimport { sendExternalEditorOpened } from '../Utils/Analytics/EventSender';\n\n/**\n * This is the list of editors that can be used to edit resources\n * when running in a browser.\n */\nconst editors: Array<ResourceExternalEditor> = [\n  {\n    name: 'piskel-app',\n    displayName: 'Edit with Piskel',\n    kind: 'image',\n    edit: () => {\n      sendExternalEditorOpened('piskel');\n      Window.showMessageBox(\n        'This feature is only supported in the desktop version for now!\\nDownload it from GDevelop website.'\n      );\n    },\n  },\n  {\n    name: 'jfxr-app',\n    displayName: 'Edit with Jfxr',\n    kind: 'audio',\n    edit: () => {\n      sendExternalEditorOpened('jfxr');\n      Window.showMessageBox(\n        'This feature is only supported in the desktop version for now!\\nDownload it from GDevelop website.'\n      );\n    },\n  },\n  {\n    name: 'yarn-app',\n    displayName: 'Edit with Yarn',\n    kind: 'json',\n    edit: () => {\n      sendExternalEditorOpened('yarn');\n      Window.showMessageBox(\n        'This feature is only supported in the desktop version for now!\\nDownload it from GDevelop website.'\n      );\n    },\n  },\n];\n\nexport default editors;\n","// @flow\nimport { type EventsFunctionCodeWriter } from '..';\nimport { uploadObject, getBaseUrl } from '../../Utils/GDevelopServices/Preview';\nimport { makeTimestampedId } from '../../Utils/TimestampedId';\nimport slugs from 'slugs';\n\n/**\n * Create the EventsFunctionCodeWriter that writes generated code for events functions\n * to temporary S3 files.\n */\nexport const makeBrowserS3EventsFunctionCodeWriter = (): EventsFunctionCodeWriter => {\n  const prefix = makeTimestampedId();\n  const getPathFor = (codeNamespace: string) => {\n    return `${prefix}/${slugs(codeNamespace)}.js`;\n  };\n\n  return {\n    getIncludeFileFor: (codeNamespace: string) =>\n      getBaseUrl() + getPathFor(codeNamespace),\n    writeFunctionCode: (\n      functionCodeNamespace: string,\n      code: string\n    ): Promise<void> => {\n      const key = getPathFor(functionCodeNamespace);\n      console.log(`Uploading function generated code to ${key}...`);\n      return uploadObject({\n        Key: getPathFor(functionCodeNamespace),\n        Body: code,\n        ContentType: 'text/javascript',\n      });\n    },\n    writeBehaviorCode: (\n      behaviorCodeNamespace: string,\n      code: string\n    ): Promise<void> => {\n      const key = getPathFor(behaviorCodeNamespace);\n      console.log(`Uploading behavior generated code to ${key}...`);\n      return uploadObject({\n        Key: getPathFor(behaviorCodeNamespace),\n        Body: code,\n        ContentType: 'text/javascript',\n      });\n    },\n  };\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport Dialog from '../../UI/Dialog';\nimport FlatButton from '../../UI/FlatButton';\nimport RaisedButton from '../../UI/RaisedButton';\nimport { Column, Line } from '../../UI/Grid';\nimport Window from '../../Utils/Window';\nimport { serializeToJSObject } from '../../Utils/Serializer';\nimport { showErrorBox } from '../../UI/Messages/MessageBox';\nimport Text from '../../UI/Text';\n\ntype Props = {|\n  project: gdProject,\n  onDone: () => void,\n|};\n\nexport default class DownloadSaveAsDialog extends React.Component<Props> {\n  _download = () => {\n    let content = '';\n    try {\n      content = JSON.stringify(serializeToJSObject(this.props.project));\n    } catch (err) {\n      showErrorBox('Unable to save your project', err);\n      return;\n    }\n    var uri = encodeURI('data:application/json;charset=utf-8,' + content);\n\n    var downloadLink = document.createElement('a');\n    downloadLink.href = uri;\n    downloadLink.download = 'game.json';\n\n    const { body } = document;\n    if (!body) return;\n\n    body.appendChild(downloadLink);\n    downloadLink.click();\n    body.removeChild(downloadLink);\n  };\n\n  render() {\n    const { onDone } = this.props;\n\n    const actions = [\n      <FlatButton\n        key=\"download\"\n        label={<Trans>Download GDevelop desktop version</Trans>}\n        primary={false}\n        onClick={() => Window.openExternalURL('http://gdevelop-app.com')}\n      />,\n      <FlatButton\n        key=\"close\"\n        label={<Trans>Close</Trans>}\n        primary={false}\n        onClick={onDone}\n      />,\n    ];\n\n    return (\n      <Dialog actions={actions} open onRequestClose={onDone} maxWidth=\"sm\">\n        <Column noMargin>\n          <Line>\n            <Text>\n              <Trans>\n                You can download the file of your game to continue working on it\n                using the full GDevelop version:\n              </Trans>\n            </Text>\n          </Line>\n          <Line>\n            <Column expand>\n              <RaisedButton\n                label={<Trans>Download game file</Trans>}\n                fullWidth\n                primary\n                onClick={this._download}\n              />\n            </Column>\n          </Line>\n        </Column>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { t } from '@lingui/macro';\nimport * as React from 'react';\nimport { type StorageProvider, type FileMetadata } from '../index';\nimport DownloadSaveAsDialog from './DownloadSaveAsDialog';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\n\n/**\n * \"Storage\" allowing to download a copy of the game.\n * Used for the web-app.\n */\nexport default ({\n  internalName: 'DownloadFile',\n  name: t`Download a copy`,\n  renderIcon: () => <SaveAlt />,\n  hiddenInOpenDialog: true,\n  createOperations: ({ setDialog, closeDialog }) => ({\n    onSaveProjectAs: (project: gdProject, fileMetadata: ?FileMetadata) => {\n      return new Promise(resolve => {\n        setDialog(() => (\n          <DownloadSaveAsDialog\n            onDone={() => {\n              closeDialog();\n              resolve({ wasSaved: false, fileMetadata });\n            }}\n            project={project}\n          />\n        ));\n      });\n    },\n  }),\n}: StorageProvider);\n","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default React.memo(props => (\n  <SvgIcon {...props}>\n    <path d=\"M12,14.56L16.35,18.16L18.2,16.95V18.3L12,22L5.82,18.3V16.95L7.68,18.16L12,14.56M7.68,2.5L12,6.09L16.32,2.5L22.5,6.5L18.23,9.94L22.5,13.36L16.32,17.39L12,13.78L7.68,17.39L1.5,13.36L5.77,9.94L1.5,6.5L7.68,2.5M12,13.68L18.13,9.94L12,6.19L5.87,9.94L12,13.68Z\" />\n  </SvgIcon>\n));\n","// @flow\nimport { t } from '@lingui/macro';\nimport * as React from 'react';\nimport { type StorageProvider, type FileMetadata } from '../index';\nimport Dropbox from '../../UI/CustomSvgIcons/Dropbox';\n\nlet apisLoaded = false;\nlet apisLoadingPromise = null;\n\n/**\n * Load Dropbox APIs. Return a fulfilled promise when done.\n */\nconst initializeApis = (): Promise<void> => {\n  if (apisLoaded) {\n    return Promise.resolve();\n  }\n\n  if (apisLoadingPromise) {\n    // Only do a single initialization attempt at a given time.\n    return apisLoadingPromise;\n  }\n\n  apisLoadingPromise = new Promise((resolve, reject) => {\n    reject(new Error('Unimplemented'));\n  })\n    .then(() => {\n      apisLoaded = true;\n      apisLoadingPromise = null;\n    })\n    .catch(error => {\n      console.error('Error while loading Dropbox APIs:', error);\n      apisLoadingPromise = null;\n\n      throw error;\n    });\n\n  return apisLoadingPromise;\n};\n\ntype DropboxUser = {};\n\n/**\n * Sign in the user to Dropbox, returning the user object after a successful sign up\n * (or if the user is already signed in).\n */\nexport const authenticate = (): Promise<DropboxUser> => {\n  return initializeApis().then(() => {\n    throw new Error('Unimplemented');\n  });\n};\n\n/**\n * A storage that is using Dropbox to open and store files.\n */\nexport default ({\n  internalName: 'Dropbox',\n  name: t`Dropbox (coming soon)`,\n  disabled: true,\n  renderIcon: () => <Dropbox />,\n  createOperations: ({ setDialog, closeDialog }) => {\n    initializeApis().catch(() => {});\n\n    return {\n      doesInitialOpenRequireUserInteraction: true,\n      onOpen: (\n        fileMetadata: FileMetadata\n      ): Promise<{|\n        content: Object,\n      |}> => {\n        return Promise.reject(new Error('Unimplemented'));\n      },\n      onOpenWithPicker: (): Promise<?FileMetadata> => {\n        return Promise.reject(new Error('Unimplemented'));\n      },\n      onSaveProject: (project: gdProject, fileMetadata: FileMetadata) => {\n        return Promise.reject(new Error('Unimplemented'));\n      },\n      onSaveProjectAs: (project: gdProject, fileMetadata: ?FileMetadata) => {\n        return Promise.reject(new Error('Unimplemented'));\n      },\n    };\n  },\n}: StorageProvider);\n","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default React.memo(props => (\n  <SvgIcon {...props}>\n    <path d=\"M20.08,13.64C21.17,13.81 22,14.75 22,15.89C22,16.78 21.5,17.55 20.75,17.92L20.58,18H9.18L9.16,18V18C7.71,18 6.54,16.81 6.54,15.36C6.54,13.9 7.72,12.72 9.18,12.72L9.4,12.73L9.39,12.53A3.3,3.3 0 0,1 12.69,9.23C13.97,9.23 15.08,9.96 15.63,11C16.08,10.73 16.62,10.55 17.21,10.55A2.88,2.88 0 0,1 20.09,13.43L20.08,13.64M8.82,12.16C7.21,12.34 5.96,13.7 5.96,15.36C5.96,16.04 6.17,16.66 6.5,17.18H4.73A2.73,2.73 0 0,1 2,14.45C2,13 3.12,11.83 4.53,11.73L4.46,11.06C4.46,9.36 5.84,8 7.54,8C8.17,8 8.77,8.18 9.26,8.5C9.95,7.11 11.4,6.15 13.07,6.15C15.27,6.15 17.08,7.83 17.3,9.97H17.21C16.73,9.97 16.27,10.07 15.84,10.25C15.12,9.25 13.96,8.64 12.69,8.64C10.67,8.64 9,10.19 8.82,12.16Z\" />\n  </SvgIcon>\n));\n","// @flow\nimport { t } from '@lingui/macro';\nimport * as React from 'react';\nimport { type StorageProvider, type FileMetadata } from '../index';\nimport OneDrive from '../../UI/CustomSvgIcons/OneDrive';\n\nlet apisLoaded = false;\nlet apisLoadingPromise = null;\n\n/**\n * Load OneDrive APIs. Return a fulfilled promise when done.\n */\nconst initializeApis = (): Promise<void> => {\n  if (apisLoaded) {\n    return Promise.resolve();\n  }\n\n  if (apisLoadingPromise) {\n    // Only do a single initialization attempt at a given time.\n    return apisLoadingPromise;\n  }\n\n  apisLoadingPromise = new Promise((resolve, reject) => {\n    reject(new Error('Unimplemented'));\n  })\n    .then(() => {\n      apisLoaded = true;\n      apisLoadingPromise = null;\n    })\n    .catch(error => {\n      console.error('Error while loading OneDrive APIs:', error);\n      apisLoadingPromise = null;\n\n      throw error;\n    });\n\n  return apisLoadingPromise;\n};\n\ntype OneDriveUser = {};\n\n/**\n * Sign in the user to OneDrive, returning the user object after a successful sign up\n * (or if the user is already signed in).\n */\nexport const authenticate = (): Promise<OneDriveUser> => {\n  return initializeApis().then(() => {\n    throw new Error('Unimplemented');\n  });\n};\n\n/**\n * A storage that is using OneDrive to open and store files.\n */\nexport default ({\n  internalName: 'OneDrive',\n  name: t`OneDrive (coming soon)`,\n  disabled: true,\n  renderIcon: () => <OneDrive />,\n  createOperations: ({ setDialog, closeDialog }) => {\n    initializeApis().catch(() => {});\n\n    return {\n      doesInitialOpenRequireUserInteraction: true,\n      onOpen: (\n        fileMetadata: FileMetadata\n      ): Promise<{|\n        content: Object,\n      |}> => {\n        return Promise.reject(new Error('Unimplemented'));\n      },\n      onOpenWithPicker: (): Promise<?FileMetadata> => {\n        return Promise.reject(new Error('Unimplemented'));\n      },\n      onSaveProject: (project: gdProject, fileMetadata: FileMetadata) => {\n        return Promise.reject(new Error('Unimplemented'));\n      },\n      onSaveProjectAs: (project: gdProject, fileMetadata: ?FileMetadata) => {\n        return Promise.reject(new Error('Unimplemented'));\n      },\n    };\n  },\n}: StorageProvider);\n","// @flow\nimport * as React from 'react';\nimport MainFrame from './MainFrame';\nimport Window from './Utils/Window';\nimport ExportDialog from './Export/ExportDialog';\nimport CreateProjectDialog from './ProjectCreation/CreateProjectDialog';\nimport Authentification from './Utils/GDevelopServices/Authentification';\nimport './UI/iconmoon-font.css'; // Styles for Iconmoon font.\n\n// Import for browser only IDE\nimport BrowserExamples from './ProjectCreation/BrowserExamples';\nimport BrowserStarters from './ProjectCreation/BrowserStarters';\nimport BrowserIntroDialog from './MainFrame/BrowserIntroDialog';\nimport browserResourceSources from './ResourcesList/BrowserResourceSources';\nimport browserResourceExternalEditors from './ResourcesList/BrowserResourceExternalEditors';\nimport BrowserS3PreviewLauncher from './Export/BrowserExporters/BrowserS3PreviewLauncher';\nimport { getBrowserExporters } from './Export/BrowserExporters';\nimport makeExtensionsLoader from './JsExtensionsLoader/BrowserJsExtensionsLoader';\nimport ObjectsEditorService from './ObjectEditor/ObjectsEditorService';\nimport ObjectsRenderingService from './ObjectsRendering/ObjectsRenderingService';\nimport { makeBrowserS3EventsFunctionCodeWriter } from './EventsFunctionsExtensionsLoader/CodeWriters/BrowserS3EventsFunctionCodeWriter';\nimport Providers from './MainFrame/Providers';\nimport ProjectStorageProviders from './ProjectsStorage/ProjectStorageProviders';\nimport InternalFileStorageProvider from './ProjectsStorage/InternalFileStorageProvider';\nimport GoogleDriveStorageProvider from './ProjectsStorage/GoogleDriveStorageProvider';\nimport DownloadFileStorageProvider from './ProjectsStorage/DownloadFileStorageProvider';\nimport DropboxStorageProvider from './ProjectsStorage/DropboxStorageProvider';\nimport OneDriveStorageProvider from './ProjectsStorage/OneDriveStorageProvider';\n\nexport const create = (authentification: Authentification) => {\n  Window.setUpContextMenu();\n\n  let app = null;\n  const appArguments = Window.getArguments();\n\n  app = (\n    <Providers\n      authentification={authentification}\n      disableCheckForUpdates={!!appArguments['disable-update-check']}\n      eventsFunctionCodeWriter={makeBrowserS3EventsFunctionCodeWriter()}\n      eventsFunctionsExtensionWriter={null}\n      eventsFunctionsExtensionOpener={null}\n    >\n      {({ i18n, eventsFunctionsExtensionsState }) => (\n        <ProjectStorageProviders\n          appArguments={appArguments}\n          storageProviders={[\n            InternalFileStorageProvider,\n            GoogleDriveStorageProvider,\n            DropboxStorageProvider,\n            OneDriveStorageProvider,\n            DownloadFileStorageProvider,\n          ]}\n          defaultStorageProvider={InternalFileStorageProvider}\n        >\n          {({\n            currentStorageProviderOperations,\n            useStorageProvider,\n            storageProviders,\n            initialFileMetadataToOpen,\n          }) => (\n            <MainFrame\n              i18n={i18n}\n              eventsFunctionsExtensionsState={eventsFunctionsExtensionsState}\n              renderPreviewLauncher={(props, ref) => (\n                <BrowserS3PreviewLauncher {...props} ref={ref} />\n              )}\n              renderExportDialog={props => (\n                <ExportDialog\n                  {...props}\n                  exporters={getBrowserExporters()}\n                  allExportersRequireOnline\n                />\n              )}\n              renderCreateDialog={props => (\n                <CreateProjectDialog\n                  {...props}\n                  examplesComponent={BrowserExamples}\n                  startersComponent={BrowserStarters}\n                />\n              )}\n              introDialog={<BrowserIntroDialog />}\n              storageProviders={storageProviders}\n              useStorageProvider={useStorageProvider}\n              storageProviderOperations={currentStorageProviderOperations}\n              resourceSources={browserResourceSources}\n              resourceExternalEditors={browserResourceExternalEditors}\n              extensionsLoader={makeExtensionsLoader({\n                objectsEditorService: ObjectsEditorService,\n                objectsRenderingService: ObjectsRenderingService,\n                filterExamples: !Window.isDev(),\n              })}\n              initialFileMetadataToOpen={initialFileMetadataToOpen}\n            />\n          )}\n        </ProjectStorageProviders>\n      )}\n    </Providers>\n  );\n\n  return app;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport { List, ListItem } from '../UI/List';\nimport RaisedButton from '../UI/RaisedButton';\nimport { sendNewGameCreated } from '../Utils/Analytics/EventSender';\nimport { Column, Line } from '../UI/Grid';\nimport ListIcon from '../UI/ListIcon';\nimport Text from '../UI/Text';\nimport { type StorageProvider, type FileMetadata } from '../ProjectsStorage';\nimport InternalFileStorageProvider from '../ProjectsStorage/InternalFileStorageProvider';\nconst gd = global.gd;\n\ntype Props = {|\n  onOpen: (\n    storageProvider: StorageProvider,\n    fileMetadata: FileMetadata\n  ) => void,\n  onCreate: (\n    gdProject,\n    storageProvider: ?StorageProvider,\n    fileMetadata: ?FileMetadata\n  ) => void,\n  onShowExamples: () => void,\n|};\n\nexport default class BrowserStarters extends Component<Props> {\n  render() {\n    return (\n      <Column noMargin>\n        <Line>\n          <Column>\n            <Text>\n              <Trans>Choose a game to use as a starter:</Trans>\n            </Text>\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <List>\n              <ListItem\n                leftIcon={\n                  <ListIcon\n                    iconSize={40}\n                    src=\"res/starters_icons/platformer.png\"\n                  />\n                }\n                primaryText={<Trans>Platformer</Trans>}\n                secondaryText={\n                  <Trans>\n                    A simple platform game, with coins to collect, moving\n                    platforms and enemies.\n                  </Trans>\n                }\n                secondaryTextLines={2}\n                onClick={() => {\n                  sendNewGameCreated('platformer');\n                  this.props.onOpen(InternalFileStorageProvider, {\n                    fileIdentifier: 'example://platformer',\n                  });\n                }}\n              />\n              <ListItem\n                leftIcon={\n                  <ListIcon\n                    iconSize={40}\n                    src=\"res/starters_icons/space-shooter.png\"\n                  />\n                }\n                primaryText={<Trans>8-bit Space Shooter</Trans>}\n                secondaryText={\n                  <Trans>\n                    A beautiful, retro side-scrolling shooter where you must\n                    defeat incoming enemies with your mecha transforming\n                    spaceship. Huge boss included!\n                  </Trans>\n                }\n                secondaryTextLines={2}\n                onClick={() => {\n                  sendNewGameCreated('space-shooter');\n                  this.props.onOpen(InternalFileStorageProvider, {\n                    fileIdentifier: 'example://space-shooter',\n                  });\n                }}\n              />\n              <ListItem\n                leftIcon={\n                  <ListIcon\n                    iconSize={40}\n                    src=\"res/starters_icons/geometry-monster.png\"\n                  />\n                }\n                primaryText={<Trans>Geometry Monster</Trans>}\n                secondaryText={\n                  <Trans>\n                    A hyper casual endless game where you have to collect shapes\n                    and avoid bombs, with a progressively increasing difficulty.\n                  </Trans>\n                }\n                secondaryTextLines={2}\n                onClick={() => {\n                  sendNewGameCreated('geometry-monster');\n                  this.props.onOpen(InternalFileStorageProvider, {\n                    fileIdentifier: 'example://geometry-monster',\n                  });\n                }}\n              />\n              <ListItem\n                leftIcon={\n                  <ListIcon\n                    iconSize={40}\n                    src=\"res/starters_icons/isometric-game.png\"\n                  />\n                }\n                primaryText={<Trans>Isometric game</Trans>}\n                secondaryText={\n                  <Trans>\n                    An example of an isometric game where you can explore a map\n                    with your character.\n                  </Trans>\n                }\n                secondaryTextLines={2}\n                onClick={() => {\n                  sendNewGameCreated('isometric-game');\n                  this.props.onOpen(InternalFileStorageProvider, {\n                    fileIdentifier: 'example://isometric-game',\n                  });\n                }}\n              />\n              <ListItem\n                leftIcon={\n                  <ListIcon\n                    iconSize={40}\n                    src=\"res/starters_icons/downhill-bike-physics-demo.png\"\n                  />\n                }\n                primaryText=\"Downhill Bike Racing\"\n                secondaryText={\n                  <Trans>\n                    An example of a 2D physics based game, where players have to\n                    reach the end as fast as possible.\n                  </Trans>\n                }\n                secondaryTextLines={2}\n                onClick={() => {\n                  sendNewGameCreated('downhill-bike-physics-demo');\n                  this.props.onOpen(InternalFileStorageProvider, {\n                    fileIdentifier: 'example://downhill-bike-physics-demo',\n                  });\n                }}\n              />\n              <ListItem\n                leftIcon={\n                  <ListIcon iconSize={40} src=\"res/starters_icons/pairs.png\" />\n                }\n                primaryText=\"Pairs\"\n                secondaryText={\n                  <Trans>\n                    Find all matching pairs of cards in this relaxing game. Use\n                    tweens to create smooth, natural animations with a few\n                    events.\n                  </Trans>\n                }\n                secondaryTextLines={2}\n                onClick={() => {\n                  sendNewGameCreated('pairs');\n                  this.props.onOpen(InternalFileStorageProvider, {\n                    fileIdentifier: 'example://pairs',\n                  });\n                }}\n              />\n              <ListItem\n                primaryText={<Trans>Empty game</Trans>}\n                secondaryText={<Trans>Start a new game from scratch.</Trans>}\n                secondaryTextLines={2}\n                onClick={() => {\n                  sendNewGameCreated('');\n\n                  const project = gd.ProjectHelper.createNewGDJSProject();\n                  this.props.onCreate(project, null, null);\n                }}\n              />\n            </List>\n            <Line alignItems=\"center\" justifyContent=\"center\">\n              <RaisedButton\n                label={<Trans>See examples</Trans>}\n                onClick={() => this.props.onShowExamples()}\n              />\n            </Line>\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from '../UI/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport ListIcon from '../UI/ListIcon';\nimport { List, ListItem } from '../UI/List';\nimport Text from '../UI/Text';\nimport RaisedButton from '../UI/RaisedButton';\nimport { Line } from '../UI/Grid';\nimport Window from '../Utils/Window';\nconst gd = global.gd;\n\nconst styles = {\n  explanations: {\n    textAlign: 'center',\n    margin: 20,\n  },\n};\n\nconst publicImageUrls = [\n  // Platformer images (see platformer.json in fixtures)\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/p1_stand.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/p1_jump.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/p1_walk01.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/p1_walk02.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/p1_walk03.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/p1_walk04.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/p1_walk05.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/p1_walk06.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/p1_walk07.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/p1_walk08.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/p1_walk09.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/p1_walk10.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/p1_walk11.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/brickWall.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/bridge.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/grassHalfMid.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/castleCenter.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/bridgeLogs.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/Left.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/Right.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/ladder_mid.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/Grass.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/PlayerArea.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/slimeWalk1.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/slimeWalk2.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/slimeDead.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/flyFly1.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/flyFly2.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/flyDead.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/cloud1.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/cloud2.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/cloud3.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/bush.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/cactus.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/plant.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/coinGold.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/shadedDark06.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/shadedDark05.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/shadedDark45.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/shadedDark09.png',\n\n  // Subset of space shooter images (see space-shooter.json in fixtures)\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/player Ship/idle1.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/player Ship/idle2.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/player Ship/up1.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/player Ship/up2.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/player Ship/down1.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/player Ship/down2.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/background/space bg.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/background/corridor.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/asteroid/asteroid1.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/asteroid/asteroid2.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/asteroid/asteroid3.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/enemy2/enemy200.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/enemy2/enemy201.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/enemy2/enemy202.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/enemy2/enemy203.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/enemy2/enemy204.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/enemy2/enemy205.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/enemy2/enemy206.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/enemy2/enemy207.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/enemy2/enemy208.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/enemy2/enemy209.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/enemy2/enemy210.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/enemy2/enemy211.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/player Ship/bullet.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/powerUp/powerUp00.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/powerUp/powerUp01.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/powerUp/powerUp02.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/powerUp/powerUp03.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/powerUp/powerUp04.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/explosion/explosion00.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/explosion/explosion01.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/explosion/explosion02.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/explosion/explosion03.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/explosion/explosion04.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/explosion/explosion05.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/enemy3/enemy3.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/enemy bullet/enemyBullet00.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/enemy bullet/enemyBullet01.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/enemy bullet/enemyBullet02.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/tiles mechanical/tiles mechanical 1.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/tiles mechanical/tiles mechanical 2.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/background/boss background.png',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/gameover.png',\n];\n\nconst publicAudioUrls = [\n  // Platformer audio (see platformer.json in fixtures)\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/jump.wav',\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/coin.wav',\n\n  // Space shooter audio (see space-shooter.json in fixtures)\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/audio/sfx_shieldDown.ogg',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/audio/sfx_twoTone.ogg',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/audio/sfx_laser1.ogg',\n  'https://df5lqcdudryde.cloudfront.net/examples/space-shooter/assets/audio/Heal.wav',\n];\n\nconst publicFontUrls = [\n  // Platformer fonts (see platformer.json in fixtures)\n  'https://df5lqcdudryde.cloudfront.net/examples/platformer/Bimbo_JVE.ttf',\n];\n\nconst publicVideoUrls = [\n  // Video Player example video\n  'https://df5lqcdudryde.cloudfront.net/examples/video-player/The-Daily-Dweebs-By-Blender-Foundation-Short.mp4',\n];\n\nconst publicJsonUrls = [\n  // Yarn example - todo Upload elsewhere?\n  'https://raw.githubusercontent.com/jhayley/bondage.js/master/tests/yarn_files/assignment.json',\n];\n\nconst nameFromUrl = (url: string): string => {\n  const urlParts = url.split('/');\n  return urlParts[urlParts.length - 1]\n    .replace('.png', '')\n    .replace('.wav', '')\n    .replace('.ogg', '')\n    .replace('.json', '')\n    .replace('.mp4', '');\n};\n\nclass GenericResourcesChooser extends Component {\n  state = {\n    open: false,\n    resolveWithResources: null,\n  };\n\n  constructor(props) {\n    super(props);\n\n    // Cache rendered public images list to avoid doing this each time\n    // a rendering is done.\n    this.listItems = props.urls.map((url: string) => {\n      return (\n        <ListItem\n          key={url}\n          primaryText={nameFromUrl(url)}\n          leftIcon={\n            props.urlsAreImages ? (\n              <ListIcon iconSize={40} src={url} />\n            ) : (\n              undefined\n            )\n          }\n          onClick={() => this._onChoose(url)}\n        />\n      );\n    });\n  }\n\n  chooseResources = (project, multiSelections = true): Promise<Array<any>> => {\n    return new Promise(resolve => {\n      this.setState({\n        open: true,\n        resolveWithResources: resolve,\n      });\n    });\n  };\n\n  _onChoose = (chosenResourceUrl: string) => {\n    const { resolveWithResources } = this.state;\n    if (!resolveWithResources) return;\n\n    const newResource = this.props.createNewResource();\n    newResource.setFile(chosenResourceUrl);\n    newResource.setName(chosenResourceUrl);\n\n    resolveWithResources([newResource]);\n    this.setState({\n      open: false,\n      resolveWithResources: null,\n    });\n  };\n\n  _onClose = () => {\n    const { resolveWithResources } = this.state;\n    if (!resolveWithResources) return;\n\n    resolveWithResources([]);\n    this.setState({\n      open: false,\n      resolveWithResources: null,\n    });\n  };\n\n  _onOpenWebsite() {\n    Window.openExternalURL('http://gdevelop-app.com');\n  }\n\n  render() {\n    // Avoid rendering the dialog if it's not opened.\n    if (!this.state.open) return null;\n\n    const actions = [\n      <FlatButton\n        key=\"close\"\n        label={<Trans>Close</Trans>}\n        primary={false}\n        onClick={this._onClose}\n      />,\n    ];\n\n    return (\n      <Dialog\n        title={this.props.title}\n        actions={actions}\n        open={this.state.open}\n        noMargin\n      >\n        <div style={styles.explanations}>\n          <Text>\n            <Trans>\n              You can choose a resource from the library below. Adding resources\n              from Dropbox, Google Drive... is coming soon! Download GDevelop\n              for desktop to use your own assets.\n            </Trans>\n          </Text>\n          <Line justifyContent=\"center\">\n            <RaisedButton\n              primary\n              label={<Trans>Download GDevelop desktop app</Trans>}\n              onClick={this._onOpenWebsite}\n            />\n          </Line>\n        </div>\n        <List>{this.listItems}</List>\n      </Dialog>\n    );\n  }\n}\n\nexport default [\n  {\n    name: 'publicAudioUrlChooser',\n    displayName: 'Choose an audio file from library',\n    kind: 'audio',\n    component: class AudioResourceChooser extends React.Component {\n      chooseResources = () => {\n        if (this._chooser) return this._chooser.chooseResources();\n      };\n      render() {\n        return (\n          <GenericResourcesChooser\n            {...this.props}\n            urls={publicAudioUrls}\n            urlsAreImages={false}\n            createNewResource={() => new gd.AudioResource()}\n            title={<Trans>Choose an audio file from the library</Trans>}\n            ref={chooser => (this._chooser = chooser)}\n          />\n        );\n      }\n    },\n  },\n  {\n    name: 'publicImageUrlChooser',\n    displayName: 'Choose an image from library',\n    kind: 'image',\n    component: class ImageResourceChooser extends React.Component {\n      chooseResources = () => {\n        if (this._chooser) return this._chooser.chooseResources();\n      };\n      render() {\n        return (\n          <GenericResourcesChooser\n            {...this.props}\n            urls={publicImageUrls}\n            urlsAreImages\n            createNewResource={() => new gd.ImageResource()}\n            title={<Trans>Choose an image from the library</Trans>}\n            ref={chooser => (this._chooser = chooser)}\n          />\n        );\n      }\n    },\n  },\n  {\n    name: 'publicFontUrlChooser',\n    displayName: 'Choose a font from library',\n    kind: 'font',\n    component: class FontResourceChooser extends React.Component {\n      chooseResources = () => {\n        if (this._chooser) return this._chooser.chooseResources();\n      };\n      render() {\n        return (\n          <GenericResourcesChooser\n            {...this.props}\n            urls={publicFontUrls}\n            urlsAreImages={false}\n            createNewResource={() => new gd.FontResource()}\n            title={<Trans>Choose a font from the library</Trans>}\n            ref={chooser => (this._chooser = chooser)}\n          />\n        );\n      }\n    },\n  },\n  {\n    name: 'publicVideoUrlChooser',\n    displayName: 'Choose a video from library',\n    kind: 'video',\n    component: class VideoResourceChooser extends React.Component {\n      chooseResources = () => {\n        if (this._chooser) return this._chooser.chooseResources();\n      };\n      render() {\n        return (\n          <GenericResourcesChooser\n            {...this.props}\n            urls={publicVideoUrls}\n            urlsAreImages={false}\n            createNewResource={() => new gd.VideoResource()}\n            title={<Trans>Choose a video from the library</Trans>}\n            ref={chooser => (this._chooser = chooser)}\n          />\n        );\n      }\n    },\n  },\n  {\n    name: 'publicJsonUrlChooser',\n    displayName: 'Choose a json file from library',\n    kind: 'json',\n    component: class JsonResourceChooser extends React.Component {\n      chooseResources = () => {\n        if (this._chooser) return this._chooser.chooseResources();\n      };\n      render() {\n        return (\n          <GenericResourcesChooser\n            {...this.props}\n            urls={publicJsonUrls}\n            urlsAreImages={false}\n            createNewResource={() => new gd.JsonResource()}\n            title={<Trans>Choose a Json File from the library</Trans>}\n            ref={chooser => (this._chooser = chooser)}\n          />\n        );\n      }\n    },\n  },\n];\n","// @flow\nimport * as React from 'react';\nimport BrowserPreviewLinkDialog from './BrowserPreviewLinkDialog';\nimport BrowserPreviewErrorDialog from './BrowserPreviewErrorDialog';\nimport BrowserS3FileSystem from '../BrowserS3FileSystem';\nimport { findGDJS } from '../../../GameEngineFinder/BrowserS3GDJSFinder';\nimport assignIn from 'lodash/assignIn';\nimport { type PreviewOptions } from '../../PreviewLauncher.flow';\nimport { getBaseUrl } from '../../../Utils/GDevelopServices/Preview';\nimport { makeTimestampedId } from '../../../Utils/TimestampedId';\nconst gd = global.gd;\n\ntype State = {|\n  showPreviewLinkDialog: boolean,\n  url: ?string,\n  error: ?Error,\n|};\n\ntype Props = {|\n  onExport?: () => void,\n  onChangeSubscription?: () => void,\n|};\n\nexport default class BrowserS3PreviewLauncher extends React.Component<\n  Props,\n  State\n> {\n  canDoNetworkPreview = () => false;\n\n  state = {\n    showPreviewLinkDialog: false,\n    url: null,\n    error: null,\n  };\n\n  _openPreviewWindow = (project: gdProject, url: string): any => {\n    const windowObjectReference = window.open(url, `_blank`);\n    return {\n      url,\n      windowObjectReference,\n    };\n  };\n\n  _prepareExporter = (): Promise<any> => {\n    return findGDJS('preview').then(({ gdjsRoot, filesContent }) => {\n      console.info('GDJS found in ', gdjsRoot);\n\n      const prefix = makeTimestampedId();\n\n      const outputDir = getBaseUrl() + prefix;\n      const browserS3FileSystem = new BrowserS3FileSystem({\n        filesContent,\n        bucketBaseUrl: getBaseUrl(),\n        prefix,\n      });\n      const fileSystem = assignIn(\n        new gd.AbstractFileSystemJS(),\n        browserS3FileSystem\n      );\n      const exporter = new gd.Exporter(fileSystem, gdjsRoot);\n      exporter.setCodeOutputDirectory(getBaseUrl() + prefix);\n\n      return {\n        exporter,\n        outputDir,\n        browserS3FileSystem,\n      };\n    });\n  };\n\n  launchLayoutPreview = (\n    project: gdProject,\n    layout: gdLayout,\n    options: PreviewOptions\n  ): Promise<any> => {\n    this.setState({\n      error: null,\n    });\n\n    return this._prepareExporter()\n      .then(({ exporter, outputDir, browserS3FileSystem }) => {\n        exporter.exportLayoutForPixiPreview(project, layout, outputDir);\n        exporter.delete();\n        return browserS3FileSystem\n          .uploadPendingObjects()\n          .then(() => {\n            const finalUrl = outputDir + '/index.html';\n            return this._openPreviewWindow(project, finalUrl);\n          })\n          .then(({ url, windowObjectReference }) => {\n            if (!windowObjectReference) {\n              this.setState({\n                showPreviewLinkDialog: true,\n                url,\n              });\n            }\n          });\n      })\n      .catch((error: Error) => {\n        this.setState({\n          error,\n        });\n      });\n  };\n\n  launchExternalLayoutPreview = (\n    project: gdProject,\n    layout: gdLayout,\n    externalLayout: gdExternalLayout,\n    options: PreviewOptions\n  ): Promise<any> => {\n    this.setState({\n      error: null,\n    });\n\n    return this._prepareExporter()\n      .then(({ exporter, outputDir, browserS3FileSystem }) => {\n        exporter.exportExternalLayoutForPixiPreview(\n          project,\n          layout,\n          externalLayout,\n          outputDir\n        );\n        exporter.delete();\n        return browserS3FileSystem\n          .uploadPendingObjects()\n          .then(() => {\n            const finalUrl = outputDir + '/index.html';\n            return this._openPreviewWindow(project, finalUrl);\n          })\n          .then(({ url, windowObjectReference }) => {\n            if (!windowObjectReference) {\n              this.setState({\n                showPreviewLinkDialog: true,\n                url,\n              });\n            }\n          });\n      })\n      .catch((error: Error) => {\n        this.setState({\n          error,\n        });\n      });\n  };\n\n  render() {\n    const { showPreviewLinkDialog, url, error } = this.state;\n\n    if (error) {\n      return (\n        <BrowserPreviewErrorDialog\n          error={error}\n          onClose={() =>\n            this.setState({\n              error: null,\n            })\n          }\n        />\n      );\n    }\n\n    if (showPreviewLinkDialog) {\n      return (\n        <BrowserPreviewLinkDialog\n          url={url}\n          onClose={() =>\n            this.setState({\n              showPreviewLinkDialog: false,\n            })\n          }\n        />\n      );\n    }\n\n    return null;\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport React, { Component } from 'react';\nimport Dialog from '../../../UI/Dialog';\nimport FlatButton from '../../../UI/FlatButton';\nimport { showErrorBox } from '../../../UI/Messages/MessageBox';\nimport { Column, Line } from '../../../UI/Grid';\nimport Text from '../../../UI/Text';\n\ntype Props = {|\n  url: ?string,\n  onClose: () => void,\n|};\n\nexport default class BrowserPreviewLinkDialog extends Component<Props> {\n  _makeOnOpen = (i18n: I18nType) => () => {\n    const windowObjectReference = window.open(this.props.url, '_blank');\n    if (!windowObjectReference) {\n      showErrorBox(\n        i18n._(\n          t`Unable to open the preview! Be sure that popup are allowed for this website.`\n        ),\n        undefined\n      );\n    }\n    this.props.onClose();\n  };\n\n  render() {\n    const { url } = this.props;\n    if (!url) return null;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Dialog\n            actions={[\n              <FlatButton\n                key=\"launch-preview\"\n                label={<Trans>Launch the preview</Trans>}\n                primary\n                onClick={this._makeOnOpen(i18n)}\n              />,\n            ]}\n            modal\n            open\n          >\n            <Line>\n              <Column>\n                <Text>\n                  <Trans>\n                    Your preview is ready! Click on the button to launch the\n                    preview.\n                  </Trans>\n                </Text>\n              </Column>\n            </Line>\n            <Line>\n              <Column>\n                <Text>\n                  <Trans>\n                    To skip this dialog and{' '}\n                    <b>directly open the preview next time</b>, please allow\n                    popups to be opened for this website in your browser.\n                  </Trans>\n                </Text>\n              </Column>\n            </Line>\n          </Dialog>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport React, { Component } from 'react';\nimport Dialog from '../../../UI/Dialog';\nimport FlatButton from '../../../UI/FlatButton';\nimport { Column, Line } from '../../../UI/Grid';\nimport Text from '../../../UI/Text';\n\ntype Props = {|\n  error: Error,\n  onClose: () => void,\n|};\n\nexport default class BrowserPreviewErrorDialog extends Component<Props> {\n  render() {\n    const { error, onClose } = this.props;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Dialog\n            actions={[\n              <FlatButton\n                key=\"close\"\n                label={<Trans>Close</Trans>}\n                onClick={onClose}\n              />,\n            ]}\n            title={<Trans>Could not launch the preview</Trans>}\n            onRequestClose={onClose}\n            modal\n            open\n          >\n            <Line>\n              <Column>\n                <Text>\n                  {// $FlowFixMe - AWS returned errors can have extra fields\n                  error.code === 'NetworkingError' ? (\n                    <Trans>\n                      The preview could not be launched because you're offline.\n                    </Trans>\n                  ) : (\n                    <Trans>\n                      The preview could not be launched because an error\n                      happened: {error.message}.\n                    </Trans>\n                  )}\n                </Text>\n              </Column>\n            </Line>\n            <Line>\n              <Column>\n                <Text>\n                  <Trans>\n                    Make sure you're online, have a proper internet connection\n                    and try again. If you download and use GDevelop desktop\n                    application, you can also run previews without any internet\n                    connection.\n                  </Trans>\n                </Text>\n              </Column>\n            </Line>\n          </Dialog>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport path from 'path';\nimport { uploadObject } from '../../Utils/GDevelopServices/Preview';\nconst gd = global.gd;\n\nexport type TextFileDescriptor = {|\n  filePath: string,\n  text: string,\n|};\n\ntype PendingUploadFileDescriptor = {|\n  Key: string,\n  Body: string,\n  ContentType: 'text/javascript' | 'text/html',\n|};\n\ntype ConstructorArgs = {|\n  filesContent: Array<TextFileDescriptor>,\n  prefix: string,\n  bucketBaseUrl: string,\n|};\n\nconst isURL = (filename: string) => {\n  return (\n    filename.substr(0, 7) === 'http://' ||\n    filename.substr(0, 8) === 'https://' ||\n    filename.substr(0, 6) === 'ftp://'\n  );\n};\n\n/**\n * An in-memory \"file system\" that can be used for GDevelop previews.\n */\nexport default class BrowserS3FileSystem {\n  prefix: string;\n  bucketBaseUrl: string;\n\n  // Store the content of some files.\n  _indexedFilesContent: { [string]: TextFileDescriptor };\n\n  // Store all the objects that should be written on the S3 bucket.\n  // Call uploadPendingObjects to send them\n  _pendingUploadObjects: Array<PendingUploadFileDescriptor> = [];\n\n  // Store a set of all external URLs copied so that we can simulate\n  // readDir result.\n  _allCopiedExternalUrls = new Set<string>();\n\n  constructor({ filesContent, prefix, bucketBaseUrl }: ConstructorArgs) {\n    this.prefix = prefix;\n    this.bucketBaseUrl = bucketBaseUrl;\n\n    this._indexedFilesContent = {};\n    filesContent.forEach(textFileDescriptor => {\n      this._indexedFilesContent[\n        textFileDescriptor.filePath\n      ] = textFileDescriptor;\n    });\n  }\n\n  uploadPendingObjects = () => {\n    return Promise.all(this._pendingUploadObjects.map(uploadObject)).then(\n      result => {\n        console.log('Uploaded all objects:', result);\n        this._pendingUploadObjects = [];\n      },\n      error => {\n        console.error(\"Can't upload all objects:\", error);\n        throw error;\n      }\n    );\n  };\n\n  mkDir = (path: string) => {\n    // Assume required directories always exist.\n  };\n  dirExists = (path: string) => {\n    // Assume required directories always exist.\n    return true;\n  };\n  clearDir = (path: string) => {\n    // Assume path is cleared.\n  };\n  getTempDir = () => {\n    return '/virtual-unused-tmp-dir';\n  };\n  fileNameFrom = (fullpath: string) => {\n    if (isURL(fullpath)) return fullpath;\n\n    return path.basename(fullpath);\n  };\n  dirNameFrom = (fullpath: string) => {\n    if (isURL(fullpath)) return '';\n\n    return path.dirname(fullpath);\n  };\n  makeAbsolute = (filename: string, baseDirectory: string) => {\n    if (isURL(filename)) return filename;\n\n    if (!this.isAbsolute(baseDirectory))\n      baseDirectory = path.resolve(baseDirectory);\n\n    return path.resolve(baseDirectory, path.normalize(filename));\n  };\n  makeRelative = (filename: string, baseDirectory: string) => {\n    if (isURL(filename)) return filename;\n\n    return path.relative(baseDirectory, path.normalize(filename));\n  };\n  isAbsolute = (fullpath: string) => {\n    if (isURL(fullpath)) return true;\n\n    if (fullpath.length === 0) return true;\n    return (\n      (fullpath.length > 0 && fullpath.charAt(0) === '/') ||\n      (fullpath.length > 1 && fullpath.charAt(1) === ':')\n    );\n  };\n  copyFile = (source: string, dest: string) => {\n    //URL are not copied.\n    if (isURL(source)) {\n      this._allCopiedExternalUrls.add(source);\n      return true;\n    }\n\n    console.warn('Copy not done from', source, 'to', dest);\n    return true;\n  };\n  writeToFile = (fullPath: string, contents: string) => {\n    const key = fullPath.replace(this.bucketBaseUrl, '');\n    const mime = {\n      '.js': 'text/javascript',\n      '.html': 'text/html',\n    };\n    const fileExtension = path.extname(fullPath);\n\n    // Defer real upload until it's triggered by calling\n    // uploadPendingObjects.\n    this._pendingUploadObjects.push({\n      Key: key,\n      Body: contents,\n      ContentType: mime[fileExtension],\n    });\n    return true;\n  };\n\n  readFile = (file: string) => {\n    if (!!this._indexedFilesContent[file])\n      return this._indexedFilesContent[file].text;\n\n    console.error(`Unknown file ${file}, returning an empty string`);\n    return '';\n  };\n\n  readDir = (path: string, ext: string) => {\n    ext = ext.toUpperCase();\n    var output = new gd.VectorString();\n\n    // Simulate ReadDir by returning all external URLs\n    // with the filename matching the extension.\n    this._allCopiedExternalUrls.forEach(url => {\n      const upperCaseUrl = url.toUpperCase();\n      if (upperCaseUrl.indexOf(ext) === upperCaseUrl.length - ext.length) {\n        output.push_back(url);\n      }\n    });\n\n    return output;\n  };\n\n  fileExists = (filename: string) => {\n    if (isURL(filename)) return true;\n\n    // Assume all files asked for exists.\n    return true;\n  };\n}\n","// @flow\nimport * as React from 'react';\nimport { Trans } from '@lingui/macro';\nimport assignIn from 'lodash/assignIn';\nimport {\n  type Build,\n  buildCordovaAndroid,\n  uploadBuildFile,\n} from '../../Utils/GDevelopServices/Build';\nimport { type UserProfile } from '../../Profile/UserProfileContext';\nimport { findGDJS } from '../../GameEngineFinder/BrowserS3GDJSFinder';\nimport BrowserFileSystem from './BrowserFileSystem';\nimport {\n  type UrlFileDescriptor,\n  type TextFileDescriptor,\n  type BlobFileDescriptor,\n  downloadUrlsToBlobs,\n  archiveFiles,\n} from '../../Utils/BrowserArchiver';\nimport {\n  type ExportPipeline,\n  type ExportPipelineContext,\n} from '../ExportPipeline.flow';\nimport { ExplanationHeader } from '../GenericExporters/OnlineCordovaExport';\nconst gd = global.gd;\n\ntype ExportState = null;\n\ntype PreparedExporter = {|\n  exporter: gdjsExporter,\n  abstractFileSystem: BrowserFileSystem,\n  outputDir: string,\n|};\n\ntype ExportOutput = {|\n  textFiles: Array<TextFileDescriptor>,\n  urlFiles: Array<UrlFileDescriptor>,\n|};\n\ntype ResourcesDownloadOutput = {|\n  textFiles: Array<TextFileDescriptor>,\n  blobFiles: Array<BlobFileDescriptor>,\n|};\n\ntype CompressionOutput = Blob;\n\nexport const browserOnlineCordovaExportPipeline: ExportPipeline<\n  ExportState,\n  PreparedExporter,\n  ExportOutput,\n  ResourcesDownloadOutput,\n  CompressionOutput\n> = {\n  name: 'browser-online-cordova',\n  onlineBuildType: 'cordova-build',\n\n  getInitialExportState: () => null,\n\n  canLaunchBuild: () => true,\n\n  renderHeader: () => <ExplanationHeader />,\n\n  renderLaunchButtonLabel: () => <Trans>Packaging for Android</Trans>,\n\n  prepareExporter: (\n    context: ExportPipelineContext<ExportState>\n  ): Promise<PreparedExporter> => {\n    return findGDJS('cordova').then(({ gdjsRoot, filesContent }) => {\n      console.info('GDJS found in ', gdjsRoot);\n\n      const outputDir = '/export/';\n      const abstractFileSystem = new BrowserFileSystem({\n        textFiles: filesContent,\n      });\n      const fileSystem = assignIn(\n        new gd.AbstractFileSystemJS(),\n        abstractFileSystem\n      );\n      const exporter = new gd.Exporter(fileSystem, gdjsRoot);\n\n      return {\n        exporter,\n        outputDir,\n        abstractFileSystem,\n      };\n    });\n  },\n\n  launchExport: (\n    context: ExportPipelineContext<ExportState>,\n    { exporter, outputDir, abstractFileSystem }: PreparedExporter\n  ): Promise<ExportOutput> => {\n    const { project } = context;\n\n    const exportOptions = new gd.MapStringBoolean();\n    exportOptions.set('exportForCordova', true);\n    exporter.exportWholePixiProject(project, outputDir, exportOptions);\n    exportOptions.delete();\n    exporter.delete();\n\n    return Promise.resolve({\n      textFiles: abstractFileSystem.getAllTextFilesIn(outputDir),\n      urlFiles: abstractFileSystem.getAllUrlFilesIn(outputDir),\n    });\n  },\n\n  launchResourcesDownload: (\n    context: ExportPipelineContext<ExportState>,\n    { textFiles, urlFiles }: ExportOutput\n  ): Promise<ResourcesDownloadOutput> => {\n    return downloadUrlsToBlobs({\n      urlFiles,\n      onProgress: context.updateStepProgress,\n    }).then(blobFiles => ({\n      blobFiles,\n      textFiles,\n    }));\n  },\n\n  launchCompression: (\n    context: ExportPipelineContext<ExportState>,\n    { textFiles, blobFiles }: ResourcesDownloadOutput\n  ): Promise<Blob> => {\n    return archiveFiles({\n      blobFiles,\n      textFiles,\n      basePath: '/export/',\n      onProgress: context.updateStepProgress,\n    });\n  },\n\n  launchUpload: (\n    context: ExportPipelineContext<ExportState>,\n    blobFile: Blob\n  ): Promise<string> => {\n    return uploadBuildFile(blobFile, context.updateStepProgress);\n  },\n\n  launchOnlineBuild: (\n    exportState: ExportState,\n    userProfile: UserProfile,\n    uploadBucketKey: string\n  ): Promise<Build> => {\n    const { getAuthorizationHeader, profile } = userProfile;\n    if (!profile) return Promise.reject(new Error('User is not authenticated'));\n\n    return buildCordovaAndroid(\n      getAuthorizationHeader,\n      profile.uid,\n      uploadBucketKey\n    );\n  },\n};\n","// @flow\nimport { loadScript } from '../LoadScript';\n\nconst PUBLIC_URL: string = process.env.PUBLIC_URL || '';\nconst ZIPJS_EXTERNAL_PATH = '/external/zip.js/WebContent';\nconst ZLIBASM_EXTERNAL_PATH = '/external/zlib-asm';\n\nlet zipJsLoaded = false;\nlet zipJsLoadingPromise: ?Promise<ZipJs> = null;\n\n/**\n * Initialize Zip.js, resolving with the instance of it.\n * Promise will be rejected if there is an error while loading Zip.js\n * (call initializeZipJs again to retry).\n */\nexport const initializeZipJs = (): Promise<ZipJs> => {\n  if (zipJsLoaded) {\n    const zip: ZipJs = global.zip;\n    return Promise.resolve(zip);\n  }\n\n  if (zipJsLoadingPromise) {\n    return zipJsLoadingPromise;\n  }\n\n  zipJsLoadingPromise = loadScript(\n    PUBLIC_URL + ZIPJS_EXTERNAL_PATH + '/zip.js'\n  ).then(() => {\n    const zip: ?ZipJs = global.zip;\n    if (!zip) {\n      throw new Error(\n        'Can not find \"zip\" in the global namespace after loading zip.js. Has the zip.js script being loaded properly?'\n      );\n    }\n\n    zipJsLoadingPromise = null;\n    zipJsLoaded = true;\n\n    zip.workerScripts = {\n      deflater: [\n        PUBLIC_URL + ZIPJS_EXTERNAL_PATH + '/z-worker.js',\n        PUBLIC_URL + ZLIBASM_EXTERNAL_PATH + '/zlib.js',\n        PUBLIC_URL + ZIPJS_EXTERNAL_PATH + '/zlib-asm/codecs.js',\n      ],\n      inflater: [\n        PUBLIC_URL + ZIPJS_EXTERNAL_PATH + '/z-worker.js',\n        PUBLIC_URL + ZLIBASM_EXTERNAL_PATH + '/zlib.js',\n        PUBLIC_URL + ZIPJS_EXTERNAL_PATH + '/zlib-asm/codecs.js',\n      ],\n    };\n    return zip;\n  });\n\n  return zipJsLoadingPromise;\n};\n","// @flow\nimport * as React from 'react';\nimport { Trans } from '@lingui/macro';\nimport assignIn from 'lodash/assignIn';\nimport {\n  type Build,\n  buildElectron,\n  uploadBuildFile,\n} from '../../Utils/GDevelopServices/Build';\nimport { type UserProfile } from '../../Profile/UserProfileContext';\nimport { findGDJS } from '../../GameEngineFinder/BrowserS3GDJSFinder';\nimport BrowserFileSystem from './BrowserFileSystem';\nimport {\n  type UrlFileDescriptor,\n  type TextFileDescriptor,\n  type BlobFileDescriptor,\n  downloadUrlsToBlobs,\n  archiveFiles,\n} from '../../Utils/BrowserArchiver';\nimport {\n  type ExportPipeline,\n  type ExportPipelineContext,\n} from '../ExportPipeline.flow';\nimport {\n  type ExportState,\n  SetupExportHeader,\n} from '../GenericExporters/OnlineElectronExport';\nconst gd = global.gd;\n\ntype PreparedExporter = {|\n  exporter: gdjsExporter,\n  abstractFileSystem: BrowserFileSystem,\n  outputDir: string,\n|};\n\ntype ExportOutput = {|\n  textFiles: Array<TextFileDescriptor>,\n  urlFiles: Array<UrlFileDescriptor>,\n|};\n\ntype ResourcesDownloadOutput = {|\n  textFiles: Array<TextFileDescriptor>,\n  blobFiles: Array<BlobFileDescriptor>,\n|};\n\ntype CompressionOutput = Blob;\n\nexport const browserOnlineElectronExportPipeline: ExportPipeline<\n  ExportState,\n  PreparedExporter,\n  ExportOutput,\n  ResourcesDownloadOutput,\n  CompressionOutput\n> = {\n  name: 'browser-online-electron',\n  onlineBuildType: 'electron-build',\n\n  getInitialExportState: () => ({\n    targets: ['winExe'],\n  }),\n\n  canLaunchBuild: (exportState: ExportState) => !!exportState.targets.length,\n\n  renderHeader: props => <SetupExportHeader {...props} />,\n\n  renderLaunchButtonLabel: () => <Trans>Package</Trans>,\n\n  prepareExporter: (\n    context: ExportPipelineContext<ExportState>\n  ): Promise<PreparedExporter> => {\n    return findGDJS('electron').then(({ gdjsRoot, filesContent }) => {\n      console.info('GDJS found in ', gdjsRoot);\n\n      const outputDir = '/export/';\n      const abstractFileSystem = new BrowserFileSystem({\n        textFiles: filesContent,\n      });\n      const fileSystem = assignIn(\n        new gd.AbstractFileSystemJS(),\n        abstractFileSystem\n      );\n      const exporter = new gd.Exporter(fileSystem, gdjsRoot);\n\n      return {\n        exporter,\n        outputDir,\n        abstractFileSystem,\n      };\n    });\n  },\n\n  launchExport: (\n    context: ExportPipelineContext<ExportState>,\n    { exporter, outputDir, abstractFileSystem }: PreparedExporter\n  ): Promise<ExportOutput> => {\n    const { project } = context;\n\n    const exportOptions = new gd.MapStringBoolean();\n    exportOptions.set('exportForElectron', true);\n    exporter.exportWholePixiProject(project, outputDir, exportOptions);\n    exportOptions.delete();\n    exporter.delete();\n\n    return Promise.resolve({\n      textFiles: abstractFileSystem.getAllTextFilesIn(outputDir),\n      urlFiles: abstractFileSystem.getAllUrlFilesIn(outputDir),\n    });\n  },\n\n  launchResourcesDownload: (\n    context: ExportPipelineContext<ExportState>,\n    { textFiles, urlFiles }: ExportOutput\n  ): Promise<ResourcesDownloadOutput> => {\n    return downloadUrlsToBlobs({\n      urlFiles,\n      onProgress: context.updateStepProgress,\n    }).then(blobFiles => ({\n      blobFiles,\n      textFiles,\n    }));\n  },\n\n  launchCompression: (\n    context: ExportPipelineContext<ExportState>,\n    { textFiles, blobFiles }: ResourcesDownloadOutput\n  ): Promise<Blob> => {\n    return archiveFiles({\n      blobFiles,\n      textFiles,\n      basePath: '/export/',\n      onProgress: context.updateStepProgress,\n    });\n  },\n\n  launchUpload: (\n    context: ExportPipelineContext<ExportState>,\n    blobFile: Blob\n  ): Promise<string> => {\n    return uploadBuildFile(blobFile, context.updateStepProgress);\n  },\n\n  launchOnlineBuild: (\n    exportState: ExportState,\n    userProfile: UserProfile,\n    uploadBucketKey: string\n  ): Promise<Build> => {\n    const { getAuthorizationHeader, profile } = userProfile;\n    if (!profile) return Promise.reject(new Error('User is not authenticated'));\n\n    return buildElectron(\n      getAuthorizationHeader,\n      profile.uid,\n      uploadBucketKey,\n      exportState.targets\n    );\n  },\n};\n","// @flow\nimport * as React from 'react';\nimport { Trans } from '@lingui/macro';\nimport assignIn from 'lodash/assignIn';\nimport {\n  type Build,\n  uploadBuildFile,\n  buildWeb,\n} from '../../Utils/GDevelopServices/Build';\nimport { type UserProfile } from '../../Profile/UserProfileContext';\nimport { findGDJS } from '../../GameEngineFinder/BrowserS3GDJSFinder';\nimport BrowserFileSystem from './BrowserFileSystem';\nimport {\n  type UrlFileDescriptor,\n  type TextFileDescriptor,\n  type BlobFileDescriptor,\n  downloadUrlsToBlobs,\n  archiveFiles,\n} from '../../Utils/BrowserArchiver';\nimport {\n  type ExportPipeline,\n  type ExportPipelineContext,\n} from '../ExportPipeline.flow';\nimport { ExplanationHeader } from '../GenericExporters/OnlineWebExport';\nconst gd = global.gd;\n\ntype ExportState = null;\n\ntype PreparedExporter = {|\n  exporter: gdjsExporter,\n  abstractFileSystem: BrowserFileSystem,\n  outputDir: string,\n|};\n\ntype ExportOutput = {|\n  textFiles: Array<TextFileDescriptor>,\n  urlFiles: Array<UrlFileDescriptor>,\n|};\n\ntype ResourcesDownloadOutput = {|\n  textFiles: Array<TextFileDescriptor>,\n  blobFiles: Array<BlobFileDescriptor>,\n|};\n\ntype CompressionOutput = Blob;\n\nexport const browserOnlineWebExportPipeline: ExportPipeline<\n  ExportState,\n  PreparedExporter,\n  ExportOutput,\n  ResourcesDownloadOutput,\n  CompressionOutput\n> = {\n  name: 'browser-online-web',\n  onlineBuildType: 'web-build',\n\n  getInitialExportState: () => null,\n\n  canLaunchBuild: () => true,\n\n  renderHeader: () => <ExplanationHeader />,\n\n  renderLaunchButtonLabel: () => <Trans>Publish online</Trans>,\n\n  prepareExporter: (\n    context: ExportPipelineContext<ExportState>\n  ): Promise<PreparedExporter> => {\n    return findGDJS('web').then(({ gdjsRoot, filesContent }) => {\n      console.info('GDJS found in ', gdjsRoot);\n\n      const outputDir = '/export/';\n      const abstractFileSystem = new BrowserFileSystem({\n        textFiles: filesContent,\n      });\n      const fileSystem = assignIn(\n        new gd.AbstractFileSystemJS(),\n        abstractFileSystem\n      );\n      const exporter = new gd.Exporter(fileSystem, gdjsRoot);\n\n      return {\n        exporter,\n        outputDir,\n        abstractFileSystem,\n      };\n    });\n  },\n\n  launchExport: (\n    context: ExportPipelineContext<ExportState>,\n    { exporter, outputDir, abstractFileSystem }: PreparedExporter\n  ): Promise<ExportOutput> => {\n    const { project } = context;\n\n    const exportOptions = new gd.MapStringBoolean();\n    exporter.exportWholePixiProject(project, outputDir, exportOptions);\n    exportOptions.delete();\n    exporter.delete();\n\n    return Promise.resolve({\n      textFiles: abstractFileSystem.getAllTextFilesIn(outputDir),\n      urlFiles: abstractFileSystem.getAllUrlFilesIn(outputDir),\n    });\n  },\n\n  launchResourcesDownload: (\n    context: ExportPipelineContext<ExportState>,\n    { textFiles, urlFiles }: ExportOutput\n  ): Promise<ResourcesDownloadOutput> => {\n    return downloadUrlsToBlobs({\n      urlFiles,\n      onProgress: context.updateStepProgress,\n    }).then(blobFiles => ({\n      blobFiles,\n      textFiles,\n    }));\n  },\n\n  launchCompression: (\n    context: ExportPipelineContext<ExportState>,\n    { textFiles, blobFiles }: ResourcesDownloadOutput\n  ): Promise<Blob> => {\n    return archiveFiles({\n      blobFiles,\n      textFiles,\n      basePath: '/export/',\n      onProgress: context.updateStepProgress,\n    });\n  },\n\n  launchUpload: (\n    context: ExportPipelineContext<ExportState>,\n    blobFile: Blob\n  ): Promise<string> => {\n    return uploadBuildFile(blobFile, context.updateStepProgress);\n  },\n\n  launchOnlineBuild: (\n    exportState: ExportState,\n    userProfile: UserProfile,\n    uploadBucketKey: string\n  ): Promise<Build> => {\n    const { getAuthorizationHeader, profile } = userProfile;\n    if (!profile) return Promise.reject(new Error('User is not authenticated'));\n\n    return buildWeb(getAuthorizationHeader, profile.uid, uploadBucketKey);\n  },\n};\n","// @flow\nimport * as React from 'react';\nimport { Trans } from '@lingui/macro';\nimport assignIn from 'lodash/assignIn';\nimport { findGDJS } from '../../GameEngineFinder/BrowserS3GDJSFinder';\nimport BrowserFileSystem from './BrowserFileSystem';\nimport {\n  type UrlFileDescriptor,\n  type TextFileDescriptor,\n  type BlobFileDescriptor,\n  downloadUrlsToBlobs,\n  archiveFiles,\n} from '../../Utils/BrowserArchiver';\nimport {\n  type ExportPipeline,\n  type ExportPipelineContext,\n} from '../ExportPipeline.flow';\nimport RaisedButton from '../../UI/RaisedButton';\nimport { BlobDownloadUrlHolder } from '../../Utils/BlobDownloadUrlHolder';\nimport { ExplanationHeader, DoneFooter } from '../GenericExporters/HTML5Export';\nconst gd = global.gd;\n\ntype ExportState = null;\n\ntype PreparedExporter = {|\n  exporter: gdjsExporter,\n  abstractFileSystem: BrowserFileSystem,\n  outputDir: string,\n|};\n\ntype ExportOutput = {|\n  textFiles: Array<TextFileDescriptor>,\n  urlFiles: Array<UrlFileDescriptor>,\n|};\n\ntype ResourcesDownloadOutput = {|\n  textFiles: Array<TextFileDescriptor>,\n  blobFiles: Array<BlobFileDescriptor>,\n|};\n\ntype CompressionOutput = Blob;\n\nconst openBlobDownloadUrl = (url: string, filename: string) => {\n  const { body } = document;\n  if (!body) return;\n\n  // Not using Window.openExternalURL because blob urls are blocked\n  // by Adblock Plus (and maybe other ad blockers).\n  const a = document.createElement('a');\n  body.appendChild(a);\n  a.style.display = 'none';\n  a.href = url;\n  a.download = filename;\n  a.click();\n  body.removeChild(a);\n};\n\nexport const browserHTML5ExportPipeline: ExportPipeline<\n  ExportState,\n  PreparedExporter,\n  ExportOutput,\n  ResourcesDownloadOutput,\n  CompressionOutput\n> = {\n  name: 'browser-html5',\n\n  getInitialExportState: () => null,\n\n  canLaunchBuild: () => true,\n\n  renderHeader: () => <ExplanationHeader />,\n\n  renderLaunchButtonLabel: () => <Trans>Export as a HTML5 game</Trans>,\n\n  prepareExporter: (\n    context: ExportPipelineContext<ExportState>\n  ): Promise<PreparedExporter> => {\n    return findGDJS('web').then(({ gdjsRoot, filesContent }) => {\n      console.info('GDJS found in ', gdjsRoot);\n\n      const outputDir = '/export/';\n      const abstractFileSystem = new BrowserFileSystem({\n        textFiles: filesContent,\n      });\n      // TODO: Memory leak? Check for other exporters too.\n      const fileSystem = assignIn(\n        new gd.AbstractFileSystemJS(),\n        abstractFileSystem\n      );\n      const exporter = new gd.Exporter(fileSystem, gdjsRoot);\n\n      return {\n        exporter,\n        outputDir,\n        abstractFileSystem,\n      };\n    });\n  },\n\n  launchExport: (\n    context: ExportPipelineContext<ExportState>,\n    { exporter, outputDir, abstractFileSystem }: PreparedExporter\n  ): Promise<ExportOutput> => {\n    const { project } = context;\n\n    const exportOptions = new gd.MapStringBoolean();\n    exporter.exportWholePixiProject(project, outputDir, exportOptions);\n    exportOptions.delete();\n    exporter.delete();\n\n    return Promise.resolve({\n      textFiles: abstractFileSystem.getAllTextFilesIn(outputDir),\n      urlFiles: abstractFileSystem.getAllUrlFilesIn(outputDir),\n    });\n  },\n\n  launchResourcesDownload: (\n    context: ExportPipelineContext<ExportState>,\n    { textFiles, urlFiles }: ExportOutput\n  ): Promise<ResourcesDownloadOutput> => {\n    return downloadUrlsToBlobs({\n      urlFiles,\n      onProgress: context.updateStepProgress,\n    }).then(blobFiles => ({\n      blobFiles,\n      textFiles,\n    }));\n  },\n\n  launchCompression: (\n    context: ExportPipelineContext<ExportState>,\n    { textFiles, blobFiles }: ResourcesDownloadOutput\n  ): Promise<Blob> => {\n    return archiveFiles({\n      blobFiles,\n      textFiles,\n      basePath: '/export/',\n      onProgress: context.updateStepProgress,\n    });\n  },\n\n  renderDoneFooter: ({ compressionOutput, exportState, onClose }) => {\n    return (\n      <DoneFooter\n        renderGameButton={() => (\n          <BlobDownloadUrlHolder blob={compressionOutput}>\n            {blobDownloadUrl => (\n              <RaisedButton\n                fullWidth\n                primary\n                onClick={() => openBlobDownloadUrl(blobDownloadUrl, 'game.zip')}\n                label={<Trans>Download the exported game</Trans>}\n              />\n            )}\n          </BlobDownloadUrlHolder>\n        )}\n      />\n    );\n  },\n};\n","// @flow\nimport * as React from 'react';\nimport { Trans } from '@lingui/macro';\nimport assignIn from 'lodash/assignIn';\nimport { findGDJS } from '../../GameEngineFinder/BrowserS3GDJSFinder';\nimport BrowserFileSystem from './BrowserFileSystem';\nimport {\n  type UrlFileDescriptor,\n  type TextFileDescriptor,\n  type BlobFileDescriptor,\n  downloadUrlsToBlobs,\n  archiveFiles,\n} from '../../Utils/BrowserArchiver';\nimport {\n  type ExportPipeline,\n  type ExportPipelineContext,\n} from '../ExportPipeline.flow';\nimport RaisedButton from '../../UI/RaisedButton';\nimport { BlobDownloadUrlHolder } from '../../Utils/BlobDownloadUrlHolder';\nimport {\n  ExplanationHeader,\n  DoneFooter,\n} from '../GenericExporters/CordovaExport';\nimport { openBlobDownloadUrl } from '.';\nconst gd = global.gd;\n\ntype ExportState = null;\n\ntype PreparedExporter = {|\n  exporter: gdjsExporter,\n  abstractFileSystem: BrowserFileSystem,\n  outputDir: string,\n|};\n\ntype ExportOutput = {|\n  textFiles: Array<TextFileDescriptor>,\n  urlFiles: Array<UrlFileDescriptor>,\n|};\n\ntype ResourcesDownloadOutput = {|\n  textFiles: Array<TextFileDescriptor>,\n  blobFiles: Array<BlobFileDescriptor>,\n|};\n\ntype CompressionOutput = Blob;\n\nexport const browserCordovaExportPipeline: ExportPipeline<\n  ExportState,\n  PreparedExporter,\n  ExportOutput,\n  ResourcesDownloadOutput,\n  CompressionOutput\n> = {\n  name: 'browser-cordova',\n\n  getInitialExportState: () => null,\n\n  canLaunchBuild: () => true,\n\n  renderHeader: () => <ExplanationHeader />,\n\n  renderLaunchButtonLabel: () => <Trans>Package</Trans>,\n\n  prepareExporter: (\n    context: ExportPipelineContext<ExportState>\n  ): Promise<PreparedExporter> => {\n    return findGDJS('cordova').then(({ gdjsRoot, filesContent }) => {\n      console.info('GDJS found in ', gdjsRoot);\n\n      const outputDir = '/export/';\n      const abstractFileSystem = new BrowserFileSystem({\n        textFiles: filesContent,\n      });\n      // TODO: Memory leak? Check for other exporters too.\n      const fileSystem = assignIn(\n        new gd.AbstractFileSystemJS(),\n        abstractFileSystem\n      );\n      const exporter = new gd.Exporter(fileSystem, gdjsRoot);\n\n      return {\n        exporter,\n        outputDir,\n        abstractFileSystem,\n      };\n    });\n  },\n\n  launchExport: (\n    context: ExportPipelineContext<ExportState>,\n    { exporter, outputDir, abstractFileSystem }: PreparedExporter\n  ): Promise<ExportOutput> => {\n    const { project } = context;\n\n    const exportOptions = new gd.MapStringBoolean();\n    exportOptions.set('exportForCordova', true);\n    exporter.exportWholePixiProject(project, outputDir, exportOptions);\n    exportOptions.delete();\n    exporter.delete();\n\n    return Promise.resolve({\n      textFiles: abstractFileSystem.getAllTextFilesIn(outputDir),\n      urlFiles: abstractFileSystem.getAllUrlFilesIn(outputDir),\n    });\n  },\n\n  launchResourcesDownload: (\n    context: ExportPipelineContext<ExportState>,\n    { textFiles, urlFiles }: ExportOutput\n  ): Promise<ResourcesDownloadOutput> => {\n    return downloadUrlsToBlobs({\n      urlFiles,\n      onProgress: context.updateStepProgress,\n    }).then(blobFiles => ({\n      blobFiles,\n      textFiles,\n    }));\n  },\n\n  launchCompression: (\n    context: ExportPipelineContext<ExportState>,\n    { textFiles, blobFiles }: ResourcesDownloadOutput\n  ): Promise<Blob> => {\n    return archiveFiles({\n      blobFiles,\n      textFiles,\n      basePath: '/export/',\n      onProgress: context.updateStepProgress,\n    });\n  },\n\n  renderDoneFooter: ({ compressionOutput, exportState, onClose }) => {\n    return (\n      <DoneFooter\n        renderGameButton={() => (\n          <BlobDownloadUrlHolder blob={compressionOutput}>\n            {blobDownloadUrl => (\n              <RaisedButton\n                fullWidth\n                primary\n                onClick={() => openBlobDownloadUrl(blobDownloadUrl, 'game.zip')}\n                label={<Trans>Download the exported game</Trans>}\n              />\n            )}\n          </BlobDownloadUrlHolder>\n        )}\n      />\n    );\n  },\n};\n","// @flow\nimport * as React from 'react';\nimport { Trans } from '@lingui/macro';\nimport assignIn from 'lodash/assignIn';\nimport { findGDJS } from '../../GameEngineFinder/BrowserS3GDJSFinder';\nimport BrowserFileSystem from './BrowserFileSystem';\nimport {\n  type UrlFileDescriptor,\n  type TextFileDescriptor,\n  type BlobFileDescriptor,\n  downloadUrlsToBlobs,\n  archiveFiles,\n} from '../../Utils/BrowserArchiver';\nimport {\n  type ExportPipeline,\n  type ExportPipelineContext,\n} from '../ExportPipeline.flow';\nimport RaisedButton from '../../UI/RaisedButton';\nimport { BlobDownloadUrlHolder } from '../../Utils/BlobDownloadUrlHolder';\nimport {\n  ExplanationHeader,\n  DoneFooter,\n} from '../GenericExporters/ElectronExport';\nimport { openBlobDownloadUrl } from '.';\nconst gd = global.gd;\n\ntype ExportState = null;\n\ntype PreparedExporter = {|\n  exporter: gdjsExporter,\n  abstractFileSystem: BrowserFileSystem,\n  outputDir: string,\n|};\n\ntype ExportOutput = {|\n  textFiles: Array<TextFileDescriptor>,\n  urlFiles: Array<UrlFileDescriptor>,\n|};\n\ntype ResourcesDownloadOutput = {|\n  textFiles: Array<TextFileDescriptor>,\n  blobFiles: Array<BlobFileDescriptor>,\n|};\n\ntype CompressionOutput = Blob;\n\nexport const browserElectronExportPipeline: ExportPipeline<\n  ExportState,\n  PreparedExporter,\n  ExportOutput,\n  ResourcesDownloadOutput,\n  CompressionOutput\n> = {\n  name: 'browser-electron',\n\n  getInitialExportState: () => null,\n\n  canLaunchBuild: () => true,\n\n  renderHeader: () => <ExplanationHeader />,\n\n  renderLaunchButtonLabel: () => <Trans>Package</Trans>,\n\n  prepareExporter: (\n    context: ExportPipelineContext<ExportState>\n  ): Promise<PreparedExporter> => {\n    return findGDJS('electron').then(({ gdjsRoot, filesContent }) => {\n      console.info('GDJS found in ', gdjsRoot);\n\n      const outputDir = '/export/';\n      const abstractFileSystem = new BrowserFileSystem({\n        textFiles: filesContent,\n      });\n      // TODO: Memory leak? Check for other exporters too.\n      const fileSystem = assignIn(\n        new gd.AbstractFileSystemJS(),\n        abstractFileSystem\n      );\n      const exporter = new gd.Exporter(fileSystem, gdjsRoot);\n\n      return {\n        exporter,\n        outputDir,\n        abstractFileSystem,\n      };\n    });\n  },\n\n  launchExport: (\n    context: ExportPipelineContext<ExportState>,\n    { exporter, outputDir, abstractFileSystem }: PreparedExporter\n  ): Promise<ExportOutput> => {\n    const { project } = context;\n\n    const exportOptions = new gd.MapStringBoolean();\n    exportOptions.set('exportForElectron', true);\n    exporter.exportWholePixiProject(project, outputDir, exportOptions);\n    exportOptions.delete();\n    exporter.delete();\n\n    return Promise.resolve({\n      textFiles: abstractFileSystem.getAllTextFilesIn(outputDir),\n      urlFiles: abstractFileSystem.getAllUrlFilesIn(outputDir),\n    });\n  },\n\n  launchResourcesDownload: (\n    context: ExportPipelineContext<ExportState>,\n    { textFiles, urlFiles }: ExportOutput\n  ): Promise<ResourcesDownloadOutput> => {\n    return downloadUrlsToBlobs({\n      urlFiles,\n      onProgress: context.updateStepProgress,\n    }).then(blobFiles => ({\n      blobFiles,\n      textFiles,\n    }));\n  },\n\n  launchCompression: (\n    context: ExportPipelineContext<ExportState>,\n    { textFiles, blobFiles }: ResourcesDownloadOutput\n  ): Promise<Blob> => {\n    return archiveFiles({\n      blobFiles,\n      textFiles,\n      basePath: '/export/',\n      onProgress: context.updateStepProgress,\n    });\n  },\n\n  renderDoneFooter: ({ compressionOutput, exportState, onClose }) => {\n    return (\n      <DoneFooter\n        renderGameButton={() => (\n          <BlobDownloadUrlHolder blob={compressionOutput}>\n            {blobDownloadUrl => (\n              <RaisedButton\n                fullWidth\n                primary\n                onClick={() => openBlobDownloadUrl(blobDownloadUrl, 'game.zip')}\n                label={<Trans>Download the exported game</Trans>}\n              />\n            )}\n          </BlobDownloadUrlHolder>\n        )}\n      />\n    );\n  },\n};\n","// @flow\nimport * as React from 'react';\nimport { Trans } from '@lingui/macro';\nimport assignIn from 'lodash/assignIn';\nimport { findGDJS } from '../../GameEngineFinder/BrowserS3GDJSFinder';\nimport BrowserFileSystem from './BrowserFileSystem';\nimport {\n  type UrlFileDescriptor,\n  type TextFileDescriptor,\n  type BlobFileDescriptor,\n  downloadUrlsToBlobs,\n  archiveFiles,\n} from '../../Utils/BrowserArchiver';\nimport {\n  type ExportPipeline,\n  type ExportPipelineContext,\n} from '../ExportPipeline.flow';\nimport RaisedButton from '../../UI/RaisedButton';\nimport { BlobDownloadUrlHolder } from '../../Utils/BlobDownloadUrlHolder';\nimport {\n  ExplanationHeader,\n  DoneFooter,\n} from '../GenericExporters/Cocos2dExport';\nimport { openBlobDownloadUrl } from '.';\nimport { Column, Line } from '../../UI/Grid';\nimport Toggle from '../../UI/Toggle';\nconst gd = global.gd;\n\ntype ExportState = {\n  debugMode: boolean,\n};\n\ntype PreparedExporter = {|\n  exporter: gdjsExporter,\n  abstractFileSystem: BrowserFileSystem,\n  outputDir: string,\n|};\n\ntype ExportOutput = {|\n  textFiles: Array<TextFileDescriptor>,\n  urlFiles: Array<UrlFileDescriptor>,\n|};\n\ntype ResourcesDownloadOutput = {|\n  textFiles: Array<TextFileDescriptor>,\n  blobFiles: Array<BlobFileDescriptor>,\n|};\n\ntype CompressionOutput = Blob;\n\nexport const browserCocos2dExportPipeline: ExportPipeline<\n  ExportState,\n  PreparedExporter,\n  ExportOutput,\n  ResourcesDownloadOutput,\n  CompressionOutput\n> = {\n  name: 'browser-cocos2d',\n\n  getInitialExportState: () => ({\n    debugMode: false,\n  }),\n\n  canLaunchBuild: () => true,\n\n  renderHeader: ({ project, exportState, updateExportState }) => (\n    <Column noMargin>\n      <Line>\n        <ExplanationHeader />\n      </Line>\n      <Line>\n        <Toggle\n          onToggle={(e, check) =>\n            updateExportState(prevState => ({\n              ...prevState,\n              debugMode: check,\n            }))\n          }\n          toggled={exportState.debugMode}\n          labelPosition=\"right\"\n          label={\n            <Trans>\n              Debug mode (show FPS counter and stats in the bottom left)\n            </Trans>\n          }\n        />\n      </Line>\n    </Column>\n  ),\n\n  renderLaunchButtonLabel: () => <Trans>Package</Trans>,\n\n  prepareExporter: (\n    context: ExportPipelineContext<ExportState>\n  ): Promise<PreparedExporter> => {\n    return findGDJS('cocos2d-js').then(({ gdjsRoot, filesContent }) => {\n      console.info('GDJS found in ', gdjsRoot);\n\n      const outputDir = '/export/';\n      const abstractFileSystem = new BrowserFileSystem({\n        textFiles: filesContent,\n      });\n      // TODO: Memory leak? Check for other exporters too.\n      const fileSystem = assignIn(\n        new gd.AbstractFileSystemJS(),\n        abstractFileSystem\n      );\n      const exporter = new gd.Exporter(fileSystem, gdjsRoot);\n\n      return {\n        exporter,\n        outputDir,\n        abstractFileSystem,\n      };\n    });\n  },\n\n  launchExport: (\n    context: ExportPipelineContext<ExportState>,\n    { exporter, outputDir, abstractFileSystem }: PreparedExporter\n  ): Promise<ExportOutput> => {\n    exporter.exportWholeCocos2dProject(\n      context.project,\n      context.exportState.debugMode,\n      outputDir\n    );\n    exporter.delete();\n\n    return Promise.resolve({\n      textFiles: abstractFileSystem.getAllTextFilesIn(outputDir),\n      urlFiles: abstractFileSystem.getAllUrlFilesIn(outputDir),\n    });\n  },\n\n  launchResourcesDownload: (\n    context: ExportPipelineContext<ExportState>,\n    { textFiles, urlFiles }: ExportOutput\n  ): Promise<ResourcesDownloadOutput> => {\n    return downloadUrlsToBlobs({\n      urlFiles,\n      onProgress: context.updateStepProgress,\n    }).then(blobFiles => ({\n      blobFiles,\n      textFiles,\n    }));\n  },\n\n  launchCompression: (\n    context: ExportPipelineContext<ExportState>,\n    { textFiles, blobFiles }: ResourcesDownloadOutput\n  ): Promise<Blob> => {\n    return archiveFiles({\n      blobFiles,\n      textFiles,\n      basePath: '/export/',\n      onProgress: context.updateStepProgress,\n    });\n  },\n\n  renderDoneFooter: ({ compressionOutput, exportState, onClose }) => {\n    return (\n      <DoneFooter\n        renderGameButton={() => (\n          <BlobDownloadUrlHolder blob={compressionOutput}>\n            {blobDownloadUrl => (\n              <RaisedButton\n                fullWidth\n                primary\n                onClick={() => openBlobDownloadUrl(blobDownloadUrl, 'game.zip')}\n                label={<Trans>Download the exported game</Trans>}\n              />\n            )}\n          </BlobDownloadUrlHolder>\n        )}\n      />\n    );\n  },\n};\n","// @flow\nimport * as React from 'react';\nimport { Trans } from '@lingui/macro';\nimport assignIn from 'lodash/assignIn';\nimport { findGDJS } from '../../GameEngineFinder/BrowserS3GDJSFinder';\nimport BrowserFileSystem from './BrowserFileSystem';\nimport {\n  type UrlFileDescriptor,\n  type TextFileDescriptor,\n  type BlobFileDescriptor,\n  downloadUrlsToBlobs,\n  archiveFiles,\n} from '../../Utils/BrowserArchiver';\nimport {\n  type ExportPipeline,\n  type ExportPipelineContext,\n} from '../ExportPipeline.flow';\nimport RaisedButton from '../../UI/RaisedButton';\nimport { BlobDownloadUrlHolder } from '../../Utils/BlobDownloadUrlHolder';\nimport {\n  ExplanationHeader,\n  DoneFooter,\n} from '../GenericExporters/FacebookInstantGamesExport';\nimport { openBlobDownloadUrl } from '.';\nconst gd = global.gd;\n\ntype ExportState = null;\n\ntype PreparedExporter = {|\n  exporter: gdjsExporter,\n  abstractFileSystem: BrowserFileSystem,\n  outputDir: string,\n|};\n\ntype ExportOutput = {|\n  textFiles: Array<TextFileDescriptor>,\n  urlFiles: Array<UrlFileDescriptor>,\n|};\n\ntype ResourcesDownloadOutput = {|\n  textFiles: Array<TextFileDescriptor>,\n  blobFiles: Array<BlobFileDescriptor>,\n|};\n\ntype CompressionOutput = Blob;\n\nexport const browserFacebookInstantGamesExportPipeline: ExportPipeline<\n  ExportState,\n  PreparedExporter,\n  ExportOutput,\n  ResourcesDownloadOutput,\n  CompressionOutput\n> = {\n  name: 'browser-facebook-instant-games',\n\n  getInitialExportState: () => null,\n\n  canLaunchBuild: () => true,\n\n  renderHeader: () => <ExplanationHeader />,\n\n  renderLaunchButtonLabel: () => <Trans>Package</Trans>,\n\n  prepareExporter: (\n    context: ExportPipelineContext<ExportState>\n  ): Promise<PreparedExporter> => {\n    return findGDJS('facebook-instant-games').then(\n      ({ gdjsRoot, filesContent }) => {\n        console.info('GDJS found in ', gdjsRoot);\n\n        const outputDir = '/export/';\n        const abstractFileSystem = new BrowserFileSystem({\n          textFiles: filesContent,\n        });\n        // TODO: Memory leak? Check for other exporters too.\n        const fileSystem = assignIn(\n          new gd.AbstractFileSystemJS(),\n          abstractFileSystem\n        );\n        const exporter = new gd.Exporter(fileSystem, gdjsRoot);\n\n        return {\n          exporter,\n          outputDir,\n          abstractFileSystem,\n        };\n      }\n    );\n  },\n\n  launchExport: (\n    context: ExportPipelineContext<ExportState>,\n    { exporter, outputDir, abstractFileSystem }: PreparedExporter\n  ): Promise<ExportOutput> => {\n    const { project } = context;\n\n    const exportOptions = new gd.MapStringBoolean();\n    exportOptions.set('exportForFacebookInstantGames', true);\n    exporter.exportWholePixiProject(project, outputDir, exportOptions);\n    exportOptions.delete();\n    exporter.delete();\n\n    return Promise.resolve({\n      textFiles: abstractFileSystem.getAllTextFilesIn(outputDir),\n      urlFiles: abstractFileSystem.getAllUrlFilesIn(outputDir),\n    });\n  },\n\n  launchResourcesDownload: (\n    context: ExportPipelineContext<ExportState>,\n    { textFiles, urlFiles }: ExportOutput\n  ): Promise<ResourcesDownloadOutput> => {\n    return downloadUrlsToBlobs({\n      urlFiles,\n      onProgress: context.updateStepProgress,\n    }).then(blobFiles => ({\n      blobFiles,\n      textFiles,\n    }));\n  },\n\n  launchCompression: (\n    context: ExportPipelineContext<ExportState>,\n    { textFiles, blobFiles }: ResourcesDownloadOutput\n  ): Promise<Blob> => {\n    return archiveFiles({\n      blobFiles,\n      textFiles,\n      basePath: '/export/',\n      onProgress: context.updateStepProgress,\n    });\n  },\n\n  renderDoneFooter: ({ compressionOutput, exportState, onClose }) => {\n    return (\n      <DoneFooter\n        renderGameButton={() => (\n          <BlobDownloadUrlHolder blob={compressionOutput}>\n            {blobDownloadUrl => (\n              <RaisedButton\n                primary\n                onClick={() =>\n                  openBlobDownloadUrl(blobDownloadUrl, 'fb-instant-game.zip')\n                }\n                label={<Trans>Download the Instant Game archive</Trans>}\n              />\n            )}\n          </BlobDownloadUrlHolder>\n        )}\n      />\n    );\n  },\n};\n","// @flow\nimport {\n  type JsExtensionsLoader,\n  type ExtensionLoadingResult,\n  type TranslationFunction,\n  loadExtension,\n} from '.';\nimport ObjectsEditorService from '../ObjectEditor/ObjectsEditorService';\nimport ObjectsRenderingService from '../ObjectsRendering/ObjectsRenderingService';\nconst gd = global.gd;\n\n// The list of \"JsExtension.js\" files to be bundled in the webapp, keyed by their extension name.\nconst jsExtensions = [\n  {\n    name: 'AdMob',\n    extensionModule: require('GDJS-for-web-app-only/Runtime/Extensions/AdMob/JsExtension.js'),\n    objectsRenderingServiceModules: {},\n  },\n  {\n    name: 'FacebookInstantGames',\n    extensionModule: require('GDJS-for-web-app-only/Runtime/Extensions/FacebookInstantGames/JsExtension.js'),\n    objectsRenderingServiceModules: {},\n  },\n  {\n    name: 'DeviceSensors',\n    extensionModule: require('GDJS-for-web-app-only/Runtime/Extensions/DeviceSensors/JsExtension.js'),\n    objectsRenderingServiceModules: {},\n  },\n  {\n    name: 'DeviceVibration',\n    extensionModule: require('GDJS-for-web-app-only/Runtime/Extensions/DeviceVibration/JsExtension.js'),\n    objectsRenderingServiceModules: {},\n  },\n  {\n    name: 'Physics2',\n    extensionModule: require('GDJS-for-web-app-only/Runtime/Extensions/Physics2Behavior/JsExtension.js'),\n    objectsRenderingServiceModules: {},\n  },\n  {\n    name: 'ExampleJsExtension',\n    extensionModule: require('GDJS-for-web-app-only/Runtime/Extensions/ExampleJsExtension/JsExtension.js'),\n    objectsRenderingServiceModules: {},\n  },\n  {\n    name: 'Tween',\n    extensionModule: require('GDJS-for-web-app-only/Runtime/Extensions/TweenBehavior/JsExtension.js'),\n    objectsRenderingServiceModules: {},\n  },\n  {\n    name: 'Video',\n    extensionModule: require('GDJS-for-web-app-only/Runtime/Extensions/Video/JsExtension.js'),\n    objectsRenderingServiceModules: {},\n  },\n  {\n    name: 'FileSystem',\n    extensionModule: require('GDJS-for-web-app-only/Runtime/Extensions/FileSystem/JsExtension.js'),\n    objectsRenderingServiceModules: {},\n  },\n  {\n    name: 'DialogueTree',\n    extensionModule: require('GDJS-for-web-app-only/Runtime/Extensions/DialogueTree/JsExtension.js'),\n    objectsRenderingServiceModules: {},\n  },\n  {\n    name: 'BBText',\n    extensionModule: require('GDJS-for-web-app-only/Runtime/Extensions/BBText/JsExtension.js'),\n    objectsRenderingServiceModules: {\n      'pixi-multistyle-text/dist/pixi-multistyle-text.umd': require('GDJS-for-web-app-only/Runtime/Extensions/BBText/pixi-multistyle-text/dist/pixi-multistyle-text.umd'),\n    },\n  },\n  {\n    name: 'Effects',\n    extensionModule: require('GDJS-for-web-app-only/Runtime/Extensions/Effects/JsExtension.js'),\n    objectsRenderingServiceModules: {},\n  },\n];\n\ntype MakeExtensionsLoaderArguments = {|\n  objectsEditorService: typeof ObjectsEditorService,\n  objectsRenderingService: typeof ObjectsRenderingService,\n  filterExamples: boolean,\n|};\n\n/**\n * Loader that load all JS extensions required in this file.\n * Extensions are usually auto-discovered when declared in Extensions/xxx/JsExtension.js, but not\n * for the web-app where everything must be bundled.\n */\nexport default function makeExtensionsLoader({\n  objectsEditorService,\n  objectsRenderingService,\n  filterExamples,\n}: MakeExtensionsLoaderArguments): JsExtensionsLoader {\n  return {\n    loadAllExtensions(\n      _: TranslationFunction\n    ): Promise<\n      Array<{ extensionModulePath: string, result: ExtensionLoadingResult }>\n    > {\n      return Promise.resolve(\n        jsExtensions\n          .filter(({ name }) => !filterExamples || !name.includes('Example'))\n          .map(({ name, extensionModule, objectsRenderingServiceModules }) => {\n            // Load any editor for objects, if we have somewhere where\n            // to register them.\n            if (\n              objectsEditorService &&\n              extensionModule.registerEditorConfigurations\n            ) {\n              extensionModule.registerEditorConfigurations(\n                objectsEditorService\n              );\n            }\n\n            // Register modules for ObjectsRenderingService\n            if (objectsRenderingService && objectsRenderingServiceModules) {\n              for (let requirePath in objectsRenderingServiceModules) {\n                objectsRenderingService.registerModule(\n                  requirePath,\n                  objectsRenderingServiceModules[requirePath]\n                );\n              }\n            }\n\n            // Load any renderer for objects, if we have somewhere where\n            // to register them.\n            if (\n              objectsRenderingService &&\n              extensionModule.registerInstanceRenderers\n            ) {\n              extensionModule.registerInstanceRenderers(\n                objectsRenderingService\n              );\n            }\n\n            return {\n              extensionModulePath: 'internal-extension://' + name,\n              result: loadExtension(\n                _,\n                gd,\n                gd.JsPlatform.get(),\n                extensionModule\n              ),\n            };\n          })\n      );\n    },\n  };\n}\n","// @flow\nimport { t } from '@lingui/macro';\nimport * as React from 'react';\nimport { type StorageProvider, type FileMetadata } from '../index';\nimport { serializeToJSON } from '../../Utils/Serializer';\nimport GoogleDrive from '../../UI/CustomSvgIcons/GoogleDrive';\nimport GoogleDriveSaveAsDialog from './GoogleDriveSaveAsDialog';\nimport { type MessageDescriptor } from '../../Utils/i18n/MessageDescriptor.flow';\nimport { type AppArguments } from '../../Utils/Window';\nimport { loadScript } from '../../Utils/LoadScript';\nconst isDev = process.env.NODE_ENV === 'development';\n\nconst DEVELOPER_KEY = isDev\n  ? 'AIzaSyDH3UNpxzIpcTyd6aMCWI5oNFSptG_BhOc'\n  : 'AIzaSyDJYQmzLCfjXnNImDa1X_cDTWjl2BOrcM4';\nconst CLIENT_ID = isDev\n  ? '28563107180-bd29h9f3og4h1632m94nv6hat2igrej6.apps.googleusercontent.com'\n  : '44882707384-3t4tubr3fbht87sbtdp7u5mlo45k5uku.apps.googleusercontent.com';\nconst APP_ID = isDev ? '28563107180' : '44882707384'; // This is the first part of CLIENT_ID.\nconst DISCOVERY_DOCS = [\n  'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest',\n];\nconst SCOPE =\n  'https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/drive.install';\n\nlet apisLoaded = false;\nlet apisLoadingPromise = null;\n\n/**\n * Load Google Drive APIs. Return a fulfilled promise when done.\n */\nconst initializeApis = (): Promise<void> => {\n  if (apisLoaded) {\n    return Promise.resolve();\n  }\n\n  if (apisLoadingPromise) {\n    // Only do a single initialization attempt at a given time.\n    return apisLoadingPromise;\n  }\n\n  apisLoadingPromise = loadScript('https://apis.google.com/js/api:client.js')\n    .then(() => {\n      const gapi = global.gapi;\n      if (!gapi) {\n        throw new Error(\n          'No gapi global object found after loading Google Drive API script'\n        );\n      }\n\n      return new Promise((resolve, reject) => {\n        gapi.load('client:auth2:picker', {\n          callback: () => {\n            const auth2LoadPromise = gapi.auth2.init({\n              apiKey: DEVELOPER_KEY,\n              clientId: CLIENT_ID,\n              discoveryDocs: DISCOVERY_DOCS,\n              scope: SCOPE,\n            });\n\n            gapi.client.setApiKey(DEVELOPER_KEY);\n            const driveLoadPromise = gapi.client.load('drive', 'v3');\n\n            resolve(Promise.all([auth2LoadPromise, driveLoadPromise]));\n          },\n          onerror: () => {\n            reject(\n              new Error(\n                'Unable to load auth2 and picker APIs for Google Drive.'\n              )\n            );\n          },\n        });\n      });\n    })\n    .then(() => {\n      apisLoaded = true;\n      apisLoadingPromise = null;\n    })\n    .catch(error => {\n      console.error('Error while loading Google Drive APIs:', error);\n      apisLoadingPromise = null;\n\n      throw error;\n    });\n\n  return apisLoadingPromise;\n};\n\ntype GoogleUser = {\n  getAuthResponse: () => { access_token: string, error?: ?Error },\n};\n\nlet isAuthenticated = false;\n\n/**\n * Sign in the user to Google Drive, returning the user object after a successful sign up\n * (or if the user is already signed in).\n */\nexport const authenticate = (): Promise<GoogleUser> => {\n  return initializeApis().then(() => {\n    const gapi = global.gapi;\n    const googleAuth = gapi.auth2.getAuthInstance();\n    if (isAuthenticated && googleAuth.isSignedIn.get()) {\n      return googleAuth.currentUser.get();\n    }\n\n    isAuthenticated = false;\n    googleAuth.isSignedIn.listen(authenticated => {\n      console.info('Authenticated with Google APIs: ', authenticated);\n      isAuthenticated = authenticated;\n    });\n    return googleAuth\n      .signIn({ scope: SCOPE })\n      .then((googleUser: GoogleUser) => {\n        if (\n          !googleUser.getAuthResponse() ||\n          googleUser.getAuthResponse().error\n        ) {\n          console.error(\n            'OAuth2 error while sign in:',\n            googleUser.getAuthResponse()\n              ? googleUser.getAuthResponse().error\n              : 'No AuthResponse'\n          );\n          throw new Error('Authentication error');\n        }\n\n        isAuthenticated = true;\n        return googleUser;\n      });\n  });\n};\n\n/**\n * Update a JSON file, given its file id.\n */\nexport const patchJsonFile = (\n  fileId: string,\n  googleUser: GoogleUser,\n  content: string\n): Promise<void> => {\n  return fetch(`https://www.googleapis.com/upload/drive/v3/files/${fileId}`, {\n    method: 'PATCH',\n    headers: new Headers({\n      Authorization: `Bearer ${googleUser.getAuthResponse().access_token}`,\n      'Content-Type': 'application/json',\n    }),\n    body: content,\n  }).then(res => {\n    if (res.status !== 200) {\n      if (res.status === 401) {\n        isAuthenticated = false;\n      }\n\n      throw res;\n    }\n  });\n};\n\n/**\n * Create a new empty JSON file, returning its fileid.\n */\nexport const createNewJsonFile = (\n  parentId: string,\n  name: string\n): Promise<string> => {\n  const gapi = global.gapi;\n\n  return gapi.client.drive.files\n    .create({\n      'content-type': 'application/json',\n      uploadType: 'multipart',\n      name: name,\n      parents: [parentId],\n      mimeType: 'application/json',\n      fields: 'id, name, kind, size',\n    })\n    .then(apiResponse => {\n      return apiResponse.result.id;\n    });\n};\n\n/**\n * Information about a file or folder picked by the user.\n */\nexport type GoogleDriveFileOrFolder =\n  | {|\n      type: 'FOLDER',\n      id: string,\n      name: string,\n    |}\n  | {|\n      type: 'FILE',\n      id: string,\n      name: string,\n      parentId: string,\n    |};\n\nexport type GoogleDriveFilePickerOptions = {|\n  selectFolderEnabled: boolean,\n  showUploadView: boolean,\n|};\n\n/**\n * Display a file picker as a modal, resolving with the selected file or folder,\n * if any.\n *\n * The picker dialog is not playing nice with material-ui dialogs or overlays. They should\n * not be displayed when the picker is on screen.\n */\nconst showFilePicker = ({\n  selectFolderEnabled,\n  showUploadView,\n}: GoogleDriveFilePickerOptions): Promise<?GoogleDriveFileOrFolder> => {\n  return authenticate().then(googleUser => {\n    const google = global.google;\n\n    return new Promise(resolve => {\n      let picker = null;\n      const pickerBuilder = new google.picker.PickerBuilder()\n        .addView(\n          new google.picker.DocsView()\n            .setIncludeFolders(true)\n            .setSelectFolderEnabled(selectFolderEnabled)\n        )\n        .setOAuthToken(googleUser.getAuthResponse().access_token)\n        .setDeveloperKey(DEVELOPER_KEY)\n        .setAppId(APP_ID) // App ID is required to correctly identify files created with the app.\n        .setCallback(data => {\n          if (\n            data[google.picker.Response.ACTION] === google.picker.Action.PICKED\n          ) {\n            const doc = data[google.picker.Response.DOCUMENTS][0];\n            const id: string = doc[google.picker.Document.ID];\n            const name: string = doc[google.picker.Document.NAME];\n            const parentId: string = doc[google.picker.Document.PARENT_ID];\n            if (\n              doc[google.picker.Document.TYPE] ===\n                google.picker.Type.LOCATION ||\n              doc[google.picker.Document.MIME_TYPE] ===\n                'application/vnd.google-apps.folder'\n            ) {\n              resolve({ id, name, type: 'FOLDER' });\n            } else {\n              resolve({ id, name, type: 'FILE', parentId });\n            }\n            if (picker) picker.dispose();\n          } else if (\n            data[google.picker.Response.ACTION] === google.picker.Action.CANCEL\n          ) {\n            resolve(null);\n            if (picker) picker.dispose();\n          }\n        });\n      if (showUploadView) {\n        pickerBuilder.addView(\n          new google.picker.DocsUploadView().setIncludeFolders(true)\n        );\n      }\n\n      picker = pickerBuilder.build();\n\n      picker.setVisible(true);\n      const pickerElements = document.getElementsByClassName('picker-dialog');\n      for (var i = 0; i < pickerElements.length; ++i) {\n        pickerElements[i].style.zIndex = '5000'; // Higher than Material UI modals\n      }\n    });\n  });\n};\n\n/**\n * A storage that is using Google Drive to open and store files.\n */\nexport default ({\n  internalName: 'GoogleDrive',\n  name: t`Google Drive`,\n  renderIcon: () => <GoogleDrive />,\n  getFileMetadataFromAppArguments: (appArguments: AppArguments) => {\n    if (appArguments.state) {\n      try {\n        // See \"state\" argument passed by Google Drive API:\n        // https://developers.google.com/drive/api/v3/enable-sdk#construct\n        const googleDriveState = JSON.parse(appArguments.state);\n        if (googleDriveState.ids && googleDriveState.ids[0]) {\n          return {\n            fileIdentifier: googleDriveState.ids[0],\n          };\n        }\n      } catch (e) {\n        console.warn(\n          \"Error while trying to parse the Google Drive 'ids' in 'state' from the app arguments.\"\n        );\n      }\n    }\n\n    return null;\n  },\n  createOperations: ({ setDialog, closeDialog }) => {\n    initializeApis().catch(() => {\n      // Ignore error as we'll retry later.\n    });\n\n    return {\n      doesInitialOpenRequireUserInteraction: true, // Authentication will open a popup, requiring user interaction\n      onOpen: (\n        fileMetadata: FileMetadata\n      ): Promise<{|\n        content: Object,\n      |}> => {\n        const fileId = fileMetadata.fileIdentifier;\n\n        return authenticate()\n          .then(googleUser =>\n            fetch(\n              `https://www.googleapis.com/drive/v3/files/${fileId}?alt=media`,\n              {\n                method: 'GET',\n                headers: new Headers({\n                  Authorization: `Bearer ${\n                    googleUser.getAuthResponse().access_token\n                  }`,\n                }),\n              }\n            )\n          )\n          .then(\n            response => {\n              return response.text().then(\n                fileContent => {\n                  return new Promise((resolve, reject) => {\n                    try {\n                      const dataObject = JSON.parse(fileContent);\n                      return resolve({\n                        content: dataObject,\n                      });\n                    } catch (ex) {\n                      return reject(fileId + ' is a corrupted/malformed file.');\n                    }\n                  });\n                },\n                error => {\n                  console.error(\n                    'Error while reading the file from Google Drive API: ',\n                    error\n                  );\n                  throw error;\n                }\n              );\n            },\n            error => {\n              console.error(\n                'Error while fetching the file from Google Drive API: ',\n                error\n              );\n              throw error;\n            }\n          );\n      },\n      onOpenWithPicker: (): Promise<?FileMetadata> => {\n        return authenticate()\n          .then(googleUser =>\n            showFilePicker({ selectFolderEnabled: false, showUploadView: true })\n          )\n          .then(googleDriveFileOrFolder => {\n            if (!googleDriveFileOrFolder) {\n              return null;\n            }\n\n            return {\n              fileIdentifier: googleDriveFileOrFolder.id,\n            };\n          });\n      },\n      onSaveProject: (project: gdProject, fileMetadata: FileMetadata) => {\n        const fileId = fileMetadata.fileIdentifier;\n\n        const content = serializeToJSON(project);\n        return authenticate()\n          .then(googleUser => patchJsonFile(fileId, googleUser, content))\n          .then(() => ({\n            wasSaved: true,\n            fileMetadata,\n          }));\n      },\n      onSaveProjectAs: (project: gdProject, fileMetadata: ?FileMetadata) => {\n        return new Promise(resolve => {\n          setDialog(() => (\n            <GoogleDriveSaveAsDialog\n              onShowFilePicker={showFilePicker}\n              onCancel={() => {\n                closeDialog();\n                resolve({ wasSaved: false, fileMetadata });\n              }}\n              onSave={({ selectedFileOrFolder, newFileName, onError }) => {\n                const content = serializeToJSON(project);\n\n                if (selectedFileOrFolder.type === 'FOLDER') {\n                  return authenticate().then(googleUser =>\n                    createNewJsonFile(\n                      selectedFileOrFolder.id,\n                      newFileName\n                    ).then(newFileId =>\n                      patchJsonFile(newFileId, googleUser, content).then(() => {\n                        closeDialog();\n                        resolve({\n                          wasSaved: true,\n                          fileMetadata: {\n                            fileIdentifier: newFileId,\n                          },\n                        });\n                      })\n                    )\n                  );\n                } else {\n                  return authenticate()\n                    .then(googleUser =>\n                      patchJsonFile(\n                        selectedFileOrFolder.id,\n                        googleUser,\n                        content\n                      )\n                    )\n                    .then(() => {\n                      closeDialog();\n                      resolve({\n                        wasSaved: true,\n                        fileMetadata: {\n                          fileIdentifier: selectedFileOrFolder.id,\n                        },\n                      });\n                    });\n                }\n              }}\n            />\n          ));\n        });\n      },\n      getOpenErrorMessage: (error: Error): MessageDescriptor => {\n        if (!apisLoaded) {\n          return t`Google Drive could not be loaded. Check that your are not offline and have a proper internet connection, then try again.`;\n        }\n\n        return t`Check that you don't have any blocked popup (if so, allow them and retry) and that you have the authorizations for reading the file you're trying to access.`;\n      },\n    };\n  },\n}: StorageProvider);\n","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default React.memo(props => (\n  <SvgIcon {...props}>\n    <path d=\"M7.71,3.5L1.15,15L4.58,21L11.13,9.5M9.73,15L6.3,21H19.42L22.85,15M22.28,14L15.42,2H8.58L8.57,2L15.43,14H22.28Z\" />\n  </SvgIcon>\n));\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport * as React from 'react';\nimport RaisedButton from '../../UI/RaisedButton';\nimport TextField from '../../UI/TextField';\nimport { type GoogleDriveFileOrFolder } from '.';\n\ntype Props = {|\n  floatingLabelText: React.Node,\n  value: ?GoogleDriveFileOrFolder,\n  onOpenPicker: () => void,\n|};\n\nconst styles = {\n  container: {\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'baseline',\n    width: '100%',\n  },\n  button: {\n    marginLeft: 10,\n  },\n  textField: {\n    flex: 1,\n  },\n};\n\nexport default (props: Props) => {\n  return (\n    <div\n      style={{\n        ...styles.container,\n      }}\n    >\n      <TextField\n        style={styles.textField}\n        floatingLabelText={props.floatingLabelText}\n        floatingLabelFixed\n        type=\"text\"\n        hintText={t`Choose a file or folder`}\n        value={props.value ? props.value.name : ''}\n        onChange={() => {}}\n      />\n      <RaisedButton\n        label={<Trans>Choose...</Trans>}\n        primary\n        style={styles.button}\n        onClick={props.onOpenPicker}\n      />\n    </div>\n  );\n};\n","// @flow\nimport { t } from '@lingui/macro';\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport Dialog from '../../UI/Dialog';\nimport FlatButton from '../../UI/FlatButton';\nimport { Column, Line } from '../../UI/Grid';\nimport GoogleDriveFileOrFolderPicker from './GoogleDriveFileOrFolderPicker';\nimport {\n  type GoogleDriveFileOrFolder,\n  type GoogleDriveFilePickerOptions,\n} from '.';\nimport TextField from '../../UI/TextField';\nimport LeftLoader from '../../UI/LeftLoader';\nimport AlertMessage from '../../UI/AlertMessage';\n\ntype Props = {|\n  onCancel: () => void,\n  onSave: ({|\n    selectedFileOrFolder: GoogleDriveFileOrFolder,\n    newFileName: string,\n  |}) => Promise<void>,\n  onShowFilePicker: GoogleDriveFilePickerOptions => Promise<?GoogleDriveFileOrFolder>,\n|};\n\n/**\n * A \"Save as\" dialog for Google Drive, allowing to pick a file to overwrite or a folder\n * and a new filename where to save the game.\n */\nexport default (props: Props) => {\n  const [selectedFileOrFolder, setSelectedFileOrFolder] = React.useState(\n    (null: ?GoogleDriveFileOrFolder)\n  );\n  const [newFileName, setNewFileName] = React.useState('');\n  const [saving, setSaving] = React.useState(false);\n  const [saveError, setSaveError] = React.useState((null: ?Error));\n  const [pickerError, setPickerError] = React.useState((null: ?Error));\n  const [dialogHidden, hideDialog] = React.useState(false);\n\n  const canSave = () => {\n    if (saving) return;\n    if (!selectedFileOrFolder) return;\n\n    return selectedFileOrFolder.type === 'FOLDER' ? !!newFileName : true;\n  };\n  const save = () => {\n    if (!selectedFileOrFolder) return;\n\n    setSaveError(null);\n    setSaving(true);\n    props\n      .onSave({\n        selectedFileOrFolder,\n        newFileName,\n      })\n      .catch(error => {\n        setSaveError(error);\n        setSaving(false);\n      });\n  };\n  const canCancel = () => !saving;\n  const cancel = () => {\n    if (!canCancel()) return;\n\n    props.onCancel();\n  };\n  const openPicker = () => {\n    hideDialog(true);\n    setPickerError(null);\n    props\n      .onShowFilePicker({ selectFolderEnabled: true, showUploadView: false })\n      .then(selectedFileOrFolder => {\n        setSelectedFileOrFolder(selectedFileOrFolder);\n        hideDialog(false);\n      })\n      .catch(error => {\n        setPickerError(error);\n        hideDialog(false);\n      });\n  };\n\n  // Hide the dialog while the picker is opened, as it does not play nice with material-ui's\n  // Dialog.\n  if (dialogHidden) {\n    return null;\n  }\n\n  return (\n    <Dialog\n      title={<Trans>Save on Google Drive</Trans>}\n      actions={[\n        <FlatButton\n          key=\"cancel\"\n          label={<Trans>Cancel</Trans>}\n          primary={false}\n          disabled={!canCancel()}\n          onClick={props.onCancel}\n        />,\n        <LeftLoader key=\"save\" isLoading={saving}>\n          <FlatButton\n            label={<Trans>Save</Trans>}\n            primary\n            disabled={!canSave()}\n            onClick={save}\n          />\n        </LeftLoader>,\n      ]}\n      open\n      onRequestClose={cancel}\n      maxWidth=\"sm\"\n    >\n      <Column noMargin>\n        <Line>\n          <GoogleDriveFileOrFolderPicker\n            floatingLabelText={\n              <Trans>Google Drive folder or existing file to overwrite</Trans>\n            }\n            value={selectedFileOrFolder}\n            onOpenPicker={openPicker}\n          />\n        </Line>\n        <Line>\n          {selectedFileOrFolder && selectedFileOrFolder.type === 'FOLDER' ? (\n            <TextField\n              floatingLabelText={<Trans>New file name</Trans>}\n              floatingLabelFixed\n              type=\"text\"\n              hintText={t`YourGame.json`}\n              value={newFileName}\n              onChange={(event, newFileName) => setNewFileName(newFileName)}\n              fullWidth\n            />\n          ) : null}\n        </Line>\n        {saveError && (\n          <Line>\n            <AlertMessage kind=\"error\">\n              There was an error when saving your game. Verify that you have the\n              rights on the folder or file that you selected and try again.\n            </AlertMessage>\n          </Line>\n        )}\n        {pickerError && (\n          <Line>\n            <AlertMessage kind=\"error\">\n              There was an error when selecting a file or folder from Google\n              Drive. Try again later or verify that you are properly connected\n              to Google Drive.\n            </AlertMessage>\n          </Line>\n        )}\n      </Column>\n    </Dialog>\n  );\n};\n","// @flow\n\nconst gdjsRoot =\n  'https://s3-eu-west-1.amazonaws.com/gdevelop-resources/GDJS-5.0.0-beta86';\n\ntype FileSet =\n  | 'preview'\n  | 'cordova'\n  | 'electron'\n  | 'web'\n  | 'cocos2d-js'\n  | 'facebook-instant-games';\n\nconst filesToDownload: { [FileSet]: Array<string> } = {\n  preview: ['/Runtime/index.html'],\n  web: ['/Runtime/index.html'],\n  'cocos2d-js': [\n    '/Runtime/Cocos2d/cocos2d-js-v3.10.js',\n    '/Runtime/Cocos2d/index.html',\n    '/Runtime/Cocos2d/main.js',\n    '/Runtime/Cocos2d/project.json',\n  ],\n  'facebook-instant-games': [\n    '/Runtime/FacebookInstantGames/fbapp-config.json',\n    '/Runtime/FacebookInstantGames/index.html',\n  ],\n  cordova: [\n    '/Runtime/Cordova/www/index.html',\n    '/Runtime/Cordova/config.xml',\n    '/Runtime/Cordova/package.json',\n  ],\n  electron: [\n    '/Runtime/index.html',\n    '/Runtime/Electron/main.js',\n    '/Runtime/Electron/package.json',\n  ],\n};\n\nexport type TextFileDescriptor = {| text: string, filePath: string |};\n\nexport const findGDJS = (\n  fileSet: FileSet\n): Promise<{|\n  gdjsRoot: string,\n  filesContent: Array<TextFileDescriptor>,\n|}> => {\n  return Promise.all(\n    filesToDownload[fileSet].map(relativeFilePath => {\n      const url = gdjsRoot + relativeFilePath;\n\n      // Don't do any caching, rely on the browser cache only.\n      return fetch(url).then(response => {\n        if (!response.ok) {\n          console.error(`Error while downloading \"${url}\"`, response);\n          throw new Error(\n            `Error while downloading \"${url}\" (status: ${response.status})`\n          );\n        }\n        return response.text().then(text => ({\n          filePath: url,\n          text,\n        }));\n      });\n    })\n  ).then(filesContent => {\n    return {\n      gdjsRoot,\n      filesContent,\n    };\n  });\n};\n","// @flow\nimport path from 'path';\nconst gd = global.gd;\n\nexport type BlobFileDescriptor = {|\n  filePath: string,\n  blob: Blob,\n|};\n\nexport type TextFileDescriptor = {|\n  filePath: string,\n  text: string,\n|};\n\nexport type UrlFileDescriptor = {|\n  filePath: string,\n  url: string,\n|};\n\ntype ConstructorArgs = {|\n  textFiles: Array<TextFileDescriptor>,\n|};\n\nconst isURL = (filename: string) => {\n  return (\n    filename.substr(0, 7) === 'http://' ||\n    filename.substr(0, 8) === 'https://' ||\n    filename.substr(0, 6) === 'ftp://'\n  );\n};\n\n// TODO: Merge BrowserS3FileSystem into this?\n\n/**\n * An in-memory \"file system\" that can be used for GDevelop exports.\n */\nexport default class BrowserFileSystem {\n  // The representation of the \"file system\":\n\n  /**\n   * Store all the text files (filepath => content)\n   * @private\n   */\n  _textFiles: { [string]: string } = {};\n\n  /**\n   * Store all the files that should be downloaded (filepath => url)\n   * @private\n   */\n  _filesToDownload: { [string]: string } = {};\n\n  /**\n   * Create a new in-memory file system.\n   */\n  constructor({ textFiles }: ConstructorArgs) {\n    textFiles.forEach(textFileDescriptor => {\n      this._textFiles[textFileDescriptor.filePath] = textFileDescriptor.text;\n    });\n  }\n\n  /**\n   * Returns all the in memory text files with the specified path prefix.\n   */\n  getAllTextFilesIn = (pathPrefix: string): Array<TextFileDescriptor> => {\n    return Object.keys(this._textFiles)\n      .filter(filePath => filePath.indexOf(pathPrefix) === 0)\n      .map(filePath => ({\n        filePath,\n        text: this._textFiles[filePath],\n      }));\n  };\n\n  /**\n   * Returns all the files that should be downloaded from a URL, with the specified path prefix.\n   */\n  getAllUrlFilesIn = (pathPrefix: string): Array<UrlFileDescriptor> => {\n    return Object.keys(this._filesToDownload)\n      .filter(filePath => filePath.indexOf(pathPrefix) === 0)\n      .map(filePath => ({\n        filePath,\n        url: this._filesToDownload[filePath],\n      }));\n  };\n\n  mkDir = (path: string) => {\n    // \"Directories\" are assumed to exist.\n    return true;\n  };\n  dirExists = (path: string) => {\n    // TODO: To be changed to be EnsureDirExists.\n    // \"Directories\" are assumed to exist.\n    return true;\n  };\n  clearDir = (path: string) => {\n    // Clear the files to be written in the specified directory.\n    const filePaths = Object.keys(this._textFiles);\n    filePaths.forEach(filePath => {\n      if (filePath.indexOf(path) === 0) {\n        delete this._textFiles[filePath];\n      }\n    });\n\n    return true;\n  };\n  getTempDir = () => {\n    return '/browser-file-system-tmp-dir';\n  };\n  fileNameFrom = (fullpath: string) => {\n    return path.basename(fullpath);\n  };\n  dirNameFrom = (fullpath: string) => {\n    return path.dirname(fullpath);\n  };\n  makeAbsolute = (filePathOrURL: string, baseDirectoryOrURL: string) => {\n    // URLs are always absolute\n    if (isURL(filePathOrURL)) return filePathOrURL;\n\n    if (!this.isAbsolute(baseDirectoryOrURL))\n      baseDirectoryOrURL = path.resolve(baseDirectoryOrURL);\n\n    return path.resolve(baseDirectoryOrURL, path.normalize(filePathOrURL));\n  };\n  makeRelative = (filePathOrURL: string, baseDirectoryOrURL: string) => {\n    if (isURL(filePathOrURL)) {\n      // Cutting the start if the URL is relative to the base URL\n      if (filePathOrURL.indexOf(baseDirectoryOrURL) === 0) {\n        return filePathOrURL.substring(baseDirectoryOrURL.length);\n      }\n\n      // Keep the URL \"absolute\" if on different domains.\n      console.warn(\n        `${filePathOrURL} cannot be made relative to ${baseDirectoryOrURL}, please double check this behavior is correct.`\n      );\n      return filePathOrURL;\n    }\n\n    // Paths are treated as usual paths.\n    return path.relative(baseDirectoryOrURL, path.normalize(filePathOrURL));\n  };\n  isAbsolute = (fullpath: string) => {\n    // URLs are always absolute\n    if (isURL(fullpath)) return true;\n\n    // Paths are absolute if starting from the root\n    return fullpath.length > 0 && fullpath.charAt(0) === '/';\n  };\n\n  copyFile = (source: string, dest: string) => {\n    // URLs are not copied, but marked as to be downloaded.\n    if (isURL(source)) {\n      if (isURL(dest)) {\n        console.error(\n          `Destination can't be a URL in copyFile (from ${source} to ${dest}).`\n        );\n        return false;\n      }\n\n      this._filesToDownload[path.normalize(dest)] = source;\n      return true;\n    }\n\n    // If this is a file that we have already in memory,\n    // copy its path.\n    if (!!this._textFiles[source]) {\n      this._textFiles[path.normalize(dest)] = this._textFiles[source];\n      return true;\n    }\n\n    console.error(`File not found in copyFile (from ${source} to ${dest}).`);\n    return false;\n  };\n\n  writeToFile = (filePath: string, content: string) => {\n    this._textFiles[path.normalize(filePath)] = content;\n    return true;\n  };\n\n  readFile = (file: string): string => {\n    if (this._textFiles[file]) return this._textFiles[file];\n\n    console.error(`Unknown file ${file}, returning an empty string`);\n    return '';\n  };\n\n  readDir = (path: string, ext: string) => {\n    ext = ext.toUpperCase();\n    var output = new gd.VectorString();\n\n    // Simulate ReadDir by returning all external URLs\n    // with the filename matching the extension.\n    Object.keys(this._filesToDownload).forEach(filePath => {\n      const upperCaseFilePath = filePath.toUpperCase();\n      if (\n        upperCaseFilePath.indexOf(ext) ===\n        upperCaseFilePath.length - ext.length\n      ) {\n        output.push_back(filePath);\n      }\n    });\n\n    return output;\n  };\n\n  fileExists = (filePath: string) => {\n    if (isURL(filePath)) return true;\n\n    const normalizedFilePath = path.normalize(filePath);\n    return (\n      !!this._textFiles[normalizedFilePath] ||\n      !!this._filesToDownload[normalizedFilePath]\n    );\n  };\n}\n","// @flow\n\nimport { initializeZipJs } from './Zip.js';\nimport path from 'path';\n\nexport type BlobFileDescriptor = {|\n  filePath: string,\n  blob: Blob,\n|};\n\nexport type TextFileDescriptor = {|\n  filePath: string,\n  text: string,\n|};\n\nexport type UrlFileDescriptor = {|\n  filePath: string,\n  url: string,\n|};\n\nfunction eachCallback<T>(\n  array: Array<T>,\n  callback: (T, () => void) => void,\n  done: () => void\n) {\n  if (!array.length) {\n    done();\n    return;\n  }\n  let index = 0;\n\n  const callNextCallback = () => {\n    callback(array[index], () => {\n      index++;\n      if (index >= array.length) {\n        done();\n      } else {\n        callNextCallback();\n      }\n    });\n  };\n\n  callNextCallback();\n}\n\nexport const downloadUrlsToBlobs = async ({\n  urlFiles,\n  onProgress,\n}: {|\n  urlFiles: Array<UrlFileDescriptor>,\n  onProgress: (count: number, total: number) => void,\n|}): Promise<Array<BlobFileDescriptor>> => {\n  let count = 0;\n  return Promise.all(\n    urlFiles\n      .filter(({ url }) => url.indexOf('.h') === -1) // TODO\n      .map(({ url, filePath }) => {\n        return fetch(url)\n          .then(response => {\n            if (!response.ok) {\n              console.error(`Error while downloading \"${url}\"`, response);\n              throw new Error(\n                `Error while downloading \"${url}\" (status: ${response.status})`\n              );\n            }\n            return response.blob();\n          })\n          .then(blob => {\n            count++;\n            onProgress(count, urlFiles.length);\n            return {\n              filePath,\n              blob,\n            };\n          });\n      })\n  ).then((downloadedBlobs: Array<BlobFileDescriptor>) => {\n    console.info('All download done');\n    return downloadedBlobs;\n  });\n};\n\n/**\n * Archive the specified blobs and texts into a zip file,\n * returned as a blob.\n */\nexport const archiveFiles = async ({\n  textFiles,\n  blobFiles,\n  basePath,\n  onProgress,\n}: {|\n  textFiles: Array<TextFileDescriptor>,\n  blobFiles: Array<BlobFileDescriptor>,\n  basePath: string,\n  onProgress: (count: number, total: number) => void,\n|}): Promise<Blob> => {\n  const zipJs: ZipJs = await initializeZipJs();\n\n  let zippedFilesCount = 0;\n  let totalFilesCount = blobFiles.length + textFiles.length;\n\n  return new Promise((resolve, reject) => {\n    zipJs.createWriter(\n      new zipJs.BlobWriter('application/zip'),\n      function(zipWriter) {\n        eachCallback(\n          blobFiles,\n          ({ filePath, blob }, done) => {\n            // All files in a zip are relative\n            const relativeFilePath = path.relative(basePath, filePath);\n\n            zipWriter.add(\n              relativeFilePath,\n              new zipJs.BlobReader(blob),\n              () => {\n                zippedFilesCount++;\n                onProgress(zippedFilesCount, totalFilesCount);\n                done();\n              },\n              () => {\n                /* We don't track progress at the file level */\n              }\n            );\n          },\n          () => {\n            eachCallback(\n              textFiles,\n              ({ filePath, text }, done) => {\n                // All files in a zip are relative\n                const relativeFilePath = path.relative(basePath, filePath);\n\n                zipWriter.add(\n                  relativeFilePath,\n                  new zipJs.TextReader(text),\n                  () => {\n                    zippedFilesCount++;\n                    onProgress(zippedFilesCount, totalFilesCount);\n                    done();\n                  },\n                  () => {\n                    /* We don't track progress at the file level */\n                  }\n                );\n              },\n              () => {\n                zipWriter.close((blob: Blob) => {\n                  resolve(blob);\n                });\n              }\n            );\n          }\n        );\n      },\n      error => {\n        console.error('Error while making zip:', error);\n        reject(error);\n      }\n    );\n  });\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { type Exporter } from '../ExportDialog';\nimport { browserOnlineCordovaExportPipeline } from './BrowserOnlineCordovaExport.js';\nimport { browserOnlineElectronExportPipeline } from './BrowserOnlineElectronExport.js';\nimport { browserOnlineWebExportPipeline } from './BrowserOnlineWebExport';\nimport { browserHTML5ExportPipeline } from './BrowserHTML5Export';\nimport { browserCordovaExportPipeline } from './BrowserCordovaExport';\nimport { browserElectronExportPipeline } from './BrowserElectronExport';\nimport { browserCocos2dExportPipeline } from './BrowserCocos2dExport';\nimport { browserFacebookInstantGamesExportPipeline } from './BrowserFacebookInstantGamesExport';\nimport PhoneIphone from '@material-ui/icons/PhoneIphone';\nimport LaptopMac from '@material-ui/icons/LaptopMac';\nimport Folder from '@material-ui/icons/Folder';\nimport Facebook from '../../UI/CustomSvgIcons/Facebook';\nimport Cordova from '../../UI/CustomSvgIcons/Cordova';\nimport Chrome from '../../UI/CustomSvgIcons/Chrome';\n\nexport const getBrowserExporters = (): Array<Exporter> => [\n  {\n    name: <Trans>Android (&amp; iOS coming soon)</Trans>,\n    renderIcon: props => <PhoneIphone {...props} />,\n    helpPage: '/publishing/android_and_ios',\n    description: (\n      <Trans>\n        Package your game for Android directly from GDevelop. iOS support is\n        coming soon!\n      </Trans>\n    ),\n    key: 'browseronlinecordovaexport',\n    exportPipeline: browserOnlineCordovaExportPipeline,\n  },\n  {\n    name: <Trans>Web (upload online)</Trans>,\n    renderIcon: props => <Chrome {...props} />,\n    helpPage: '/publishing/web',\n    description: (\n      <Trans>\n        Upload your game online directly from GDevelop and share the link to\n        players. Play to your game using your browser on computers and mobile\n        phones.\n      </Trans>\n    ),\n    key: 'browsers3export',\n    exportPipeline: browserOnlineWebExportPipeline,\n  },\n  {\n    name: <Trans>HTML5 game (zip)</Trans>,\n    renderIcon: props => <Folder {...props} />,\n    helpPage: '/publishing/html5_game_in_a_local_folder',\n    description: (\n      <Trans>\n        Build the game locally as a HTML5 game. You can then publish it on\n        website like Kongregate, Game Jolt, itch.io, Poki...\n      </Trans>\n    ),\n    key: 'browserhtml5export',\n    exportPipeline: browserHTML5ExportPipeline,\n    advanced: true,\n  },\n  {\n    name: <Trans>Facebook Instant Games</Trans>,\n    renderIcon: props => <Facebook {...props} />,\n    helpPage: '/publishing/publishing-to-facebook-instant-games',\n    description: (\n      <Trans>\n        Package your game as a Facebook Instant Games that can be played on\n        Facebook Messenger.\n      </Trans>\n    ),\n    key: 'browserfacebookinstantgames',\n    exportPipeline: browserFacebookInstantGamesExportPipeline,\n    advanced: true,\n  },\n  {\n    name: <Trans>iOS &amp; Android (manual)</Trans>,\n    renderIcon: props => <Cordova {...props} />,\n    helpPage: '/publishing/android_and_ios_with_cordova',\n    description: (\n      <Trans>\n        Build the game locally as a Cordova project, and export it manually then\n        to iOS or Android with Cordova developers tools.\n      </Trans>\n    ),\n    key: 'browsercordovaexport',\n    exportPipeline: browserCordovaExportPipeline,\n    advanced: true,\n  },\n  {\n    name: <Trans>Windows/macOS/Linux</Trans>,\n    renderIcon: props => <LaptopMac {...props} />,\n    helpPage: '/publishing/windows-macos-linux',\n    description: (\n      <Trans>\n        Package your game as an app for Windows, macOS or Linux directly from\n        GDevelop.\n      </Trans>\n    ),\n    key: 'browseronlineelectronexport',\n    exportPipeline: browserOnlineElectronExportPipeline,\n  },\n  {\n    name: <Trans>Windows/macOS/Linux (manual)</Trans>,\n    renderIcon: props => <LaptopMac {...props} />,\n    helpPage: '/publishing/windows-macos-linux-with-electron',\n    description: (\n      <Trans>\n        Build the game locally and export it manually to Windows, macOS or Linux\n        with third-party developer tools.\n      </Trans>\n    ),\n    key: 'browserelectronexport',\n    exportPipeline: browserElectronExportPipeline,\n    advanced: true,\n  },\n  {\n    name: <Trans>Cocos2d-JS</Trans>,\n    renderIcon: props => <PhoneIphone {...props} />,\n    helpPage: '/publishing/android_and_ios_with_cocos2d-js',\n    description: (\n      <Trans>\n        Export your game using Cocos2d-JS game engine. The game can be compiled\n        for Android or iOS if you install Cocos2d-JS developer tools.\n      </Trans>\n    ),\n    key: 'browsercocos2dexport',\n    exportPipeline: browserCocos2dExportPipeline,\n    experimental: true,\n  },\n];\n\n/**\n * Open an URL generated from a blob, to download it with the specified filename.\n */\nexport const openBlobDownloadUrl = (url: string, filename: string) => {\n  const { body } = document;\n  if (!body) return;\n\n  // Not using Window.openExternalURL because blob urls are blocked\n  // by Adblock Plus (and maybe other ad blockers).\n  const a = document.createElement('a');\n  body.appendChild(a);\n  a.style.display = 'none';\n  a.href = url;\n  a.download = filename;\n  a.click();\n  body.removeChild(a);\n};\n","// @flow\nimport * as React from 'react';\n\ntype Props = {\n  blob: ?Blob,\n  children: (blobDownloadUrl: string) => React.Node,\n};\n\nexport const BlobDownloadUrlHolder = ({ blob, children }: Props) => {\n  const [blobDownloadUrl, setBlobDownloadUrl] = React.useState('');\n  React.useEffect(\n    () => {\n      // Release the existing blob URL, if any.\n      if (blobDownloadUrl) {\n        URL.revokeObjectURL(blobDownloadUrl);\n      }\n\n      if (blob) {\n        setBlobDownloadUrl(URL.createObjectURL(blob));\n      } else {\n        setBlobDownloadUrl('');\n      }\n\n      return () => {\n        // Release the blob URL if component is unmounted.\n        if (blobDownloadUrl) {\n          URL.revokeObjectURL(blobDownloadUrl);\n        }\n      };\n    },\n    [blob]\n  );\n\n  return children(blobDownloadUrl);\n};\n","// @flow\nimport { GDevelopGamesPreview } from './ApiConfigs';\n\nexport type UploadedObject = {|\n  Key: string,\n  Body: string,\n  ContentType: 'text/javascript' | 'text/html',\n|};\n\nexport const uploadObject = (params: UploadedObject): Promise<any> => {\n  return new Promise((resolve, reject) => {\n    GDevelopGamesPreview.awsS3Client.putObject(\n      { ...params, Bucket: GDevelopGamesPreview.options.destinationBucket },\n      (err: ?Error, data: any) => {\n        if (err) return reject(err);\n\n        resolve(data);\n      }\n    );\n  });\n};\n\nexport const getBaseUrl = () => {\n  return GDevelopGamesPreview.options.destinationBucketBaseUrl;\n};\n","// @flow\n// This file is generated by update-fixtures-from-resources-examples.js script\n\nimport exampleFile0 from '../../fixtures/admob/admob.json';\nimport exampleFile1 from '../../fixtures/advanced-shape-based-painter/advanced-shape-based-painter.json';\nimport exampleFile2 from '../../fixtures/animation-speed-scale/animation-speed-scale.json';\nimport exampleFile3 from '../../fixtures/asteroids/asteroids.json';\nimport exampleFile4 from '../../fixtures/basic-ai-with-pathfinding/basic-ai-with-pathfinding.json';\nimport exampleFile5 from '../../fixtures/basic-artificial-intelligence/basic-artificial-intelligence.json';\nimport exampleFile6 from '../../fixtures/basic-topdown-car-driving/basic-topdown-car-driving.json';\nimport exampleFile7 from '../../fixtures/bbtext-object-demo/bbtext-object-demo.json';\nimport exampleFile8 from '../../fixtures/betabox-basics-learning-experience/betabox-basics-learning-experience.json';\nimport exampleFile9 from '../../fixtures/bomb-the-crate/bomb-the-crate.json';\nimport exampleFile10 from '../../fixtures/bouncing-ball-and-rope/bouncing-ball-and-rope.json';\nimport exampleFile11 from '../../fixtures/breakout/breakout.json';\nimport exampleFile12 from '../../fixtures/buttons/buttons.json';\nimport exampleFile13 from '../../fixtures/car-physics/car-physics.json';\nimport exampleFile14 from '../../fixtures/center-object-within-another/center-object-within-another.json';\nimport exampleFile15 from '../../fixtures/change-position-of-object/change-position-of-object.json';\nimport exampleFile16 from '../../fixtures/change-scale-of-sprites/change-scale-of-sprites.json';\nimport exampleFile17 from '../../fixtures/change-sprite-animation/change-sprite-animation.json';\nimport exampleFile18 from '../../fixtures/change-sprite-color/change-sprite-color.json';\nimport exampleFile19 from '../../fixtures/character-selection/character-selection.json';\nimport exampleFile20 from '../../fixtures/count-down-timer/count-down-timer.json';\nimport exampleFile21 from '../../fixtures/create-object-with-mouseclick/create-object-with-mouseclick.json';\nimport exampleFile22 from '../../fixtures/create-random-object/create-random-object.json';\nimport exampleFile23 from '../../fixtures/custom-font/custom-font.json';\nimport exampleFile24 from '../../fixtures/custom-mouse-pointer/custom-mouse-pointer.json';\nimport exampleFile25 from '../../fixtures/customize-keys-with-lastpressedkey/customize-keys-with-lastpressedkey.json';\nimport exampleFile26 from '../../fixtures/device-orientation-ballgame/device-orientation-ballgame.json';\nimport exampleFile27 from '../../fixtures/device-orientation-compass/device-orientation-compass.json';\nimport exampleFile28 from '../../fixtures/device-vibration/device-vibration.json';\nimport exampleFile29 from '../../fixtures/dialogue-tree-with-yarn/dialogue-tree-with-yarn.json';\nimport exampleFile30 from '../../fixtures/downhill-bike-physics-demo/downhill-bike-physics-demo.json';\nimport exampleFile31 from '../../fixtures/drag-camera-with-mouse/drag-camera-with-mouse.json';\nimport exampleFile32 from '../../fixtures/drop-collect-items-from-storage/drop-collect-items-from-storage.json';\nimport exampleFile33 from '../../fixtures/endless-up-runner/endless-up-runner.json';\nimport exampleFile34 from '../../fixtures/exit-app/exit-app.json';\nimport exampleFile35 from '../../fixtures/facebook-instant-game/facebook-instant-game.json';\nimport exampleFile36 from '../../fixtures/filesystem-create-directory/filesystem-create-directory.json';\nimport exampleFile37 from '../../fixtures/find-diagonals/find-diagonals.json';\nimport exampleFile38 from '../../fixtures/geodash/geodash.json';\nimport exampleFile39 from '../../fixtures/geometry-monster/geometry-monster.json';\nimport exampleFile40 from '../../fixtures/health-bar/health-bar.json';\nimport exampleFile41 from '../../fixtures/infinite-scrolling-background/infinite-scrolling-background.json';\nimport exampleFile42 from '../../fixtures/inventory-system/inventory-system.json';\nimport exampleFile43 from '../../fixtures/isometric-game/isometric-game.json';\nimport exampleFile44 from '../../fixtures/javascript-blocks-in-platformer/javascript-blocks-in-platformer.json';\nimport exampleFile45 from '../../fixtures/keyboard-practice/keyboard-practice.json';\nimport exampleFile46 from '../../fixtures/level-editor/level-editor.json';\nimport exampleFile47 from '../../fixtures/level-selection-unlock/level-selection-unlock.json';\nimport exampleFile48 from '../../fixtures/load-image-from-url/load-image-from-url.json';\nimport exampleFile49 from '../../fixtures/magnet/magnet.json';\nimport exampleFile50 from '../../fixtures/manipulate-text-object/manipulate-text-object.json';\nimport exampleFile51 from '../../fixtures/menu-with-functions-and-text-effects/menu-with-functions-and-text-effects.json';\nimport exampleFile52 from '../../fixtures/move-camera-to-position/move-camera-to-position.json';\nimport exampleFile53 from '../../fixtures/move-object-back-and-forth/move-object-back-and-forth.json';\nimport exampleFile54 from '../../fixtures/move-object-in-circle/move-object-in-circle.json';\nimport exampleFile55 from '../../fixtures/move-object-toward-position/move-object-toward-position.json';\nimport exampleFile56 from '../../fixtures/move-object-with-mouse-joint/move-object-with-mouse-joint.json';\nimport exampleFile57 from '../../fixtures/move-object-with-physics/move-object-with-physics.json';\nimport exampleFile58 from '../../fixtures/multi-language-menu/multi-language-menu.json';\nimport exampleFile59 from '../../fixtures/multiplayer-platformer-with-gamepads/multiplayer-platformer-with-gamepads.json';\nimport exampleFile60 from '../../fixtures/multitouch/multitouch.json';\nimport exampleFile61 from '../../fixtures/object-gravity/object-gravity.json';\nimport exampleFile62 from '../../fixtures/object-selection/object-selection.json';\nimport exampleFile63 from '../../fixtures/objects-timers/objects-timers.json';\nimport exampleFile64 from '../../fixtures/open-url-in-browser/open-url-in-browser.json';\nimport exampleFile65 from '../../fixtures/pairs/pairs.json';\nimport exampleFile66 from '../../fixtures/parallax/parallax.json';\nimport exampleFile67 from '../../fixtures/parallax-scrolling/parallax-scrolling.json';\nimport exampleFile68 from '../../fixtures/parse-json-from-api/parse-json-from-api.json';\nimport exampleFile69 from '../../fixtures/parse-json-string/parse-json-string.json';\nimport exampleFile70 from '../../fixtures/particles-explosions/particles-explosions.json';\nimport exampleFile71 from '../../fixtures/particles-various-effects/particles-various-effects.json';\nimport exampleFile72 from '../../fixtures/pathfinding/pathfinding.json';\nimport exampleFile73 from '../../fixtures/pathfinding-basics/pathfinding-basics.json';\nimport exampleFile74 from '../../fixtures/physics/physics.json';\nimport exampleFile75 from '../../fixtures/physics-joints-demo/physics-joints-demo.json';\nimport exampleFile76 from '../../fixtures/physics-joints-settings-demo/physics-joints-settings-demo.json';\nimport exampleFile77 from '../../fixtures/pin-object-to-another/pin-object-to-another.json';\nimport exampleFile78 from '../../fixtures/pin-object-to-another-multiple-parents/pin-object-to-another-multiple-parents.json';\nimport exampleFile79 from '../../fixtures/pixel-perfect-platform-game/pixel-perfect-platform-game.json';\nimport exampleFile80 from '../../fixtures/plane-and-clouds/plane-and-clouds.json';\nimport exampleFile81 from '../../fixtures/platformer/platformer.json';\nimport exampleFile82 from '../../fixtures/platformer-double-jump/platformer-double-jump.json';\nimport exampleFile83 from '../../fixtures/play-music-on-mobile/play-music-on-mobile.json';\nimport exampleFile84 from '../../fixtures/play-stop-sprite-animation/play-stop-sprite-animation.json';\nimport exampleFile85 from '../../fixtures/racing-game/racing-game.json';\nimport exampleFile86 from '../../fixtures/ragdoll/ragdoll.json';\nimport exampleFile87 from '../../fixtures/rain/rain.json';\nimport exampleFile88 from '../../fixtures/random-color-picker/random-color-picker.json';\nimport exampleFile89 from '../../fixtures/rotate-toward-mouse/rotate-toward-mouse.json';\nimport exampleFile90 from '../../fixtures/rotate-toward-position/rotate-toward-position.json';\nimport exampleFile91 from '../../fixtures/rotate-with-keypress/rotate-with-keypress.json';\nimport exampleFile92 from '../../fixtures/save-load/save-load.json';\nimport exampleFile93 from '../../fixtures/screen-shake/screen-shake.json';\nimport exampleFile94 from '../../fixtures/shoot-bullet-in-parabola/shoot-bullet-in-parabola.json';\nimport exampleFile95 from '../../fixtures/shoot-bullets/shoot-bullets.json';\nimport exampleFile96 from '../../fixtures/shooting-bullets-explanation/shooting-bullets-explanation.json';\nimport exampleFile97 from '../../fixtures/simple-space-shooter/simple-space-shooter.json';\nimport exampleFile98 from '../../fixtures/snap-object-to-grid/snap-object-to-grid.json';\nimport exampleFile99 from '../../fixtures/space-invaders/space-invaders.json';\nimport exampleFile100 from '../../fixtures/space-shooter/space-shooter.json';\nimport exampleFile101 from '../../fixtures/splash-screen/splash-screen.json';\nimport exampleFile102 from '../../fixtures/sprite-fade-in-out/sprite-fade-in-out.json';\nimport exampleFile103 from '../../fixtures/take-screenshot/take-screenshot.json';\nimport exampleFile104 from '../../fixtures/text-entry-object/text-entry-object.json';\nimport exampleFile105 from '../../fixtures/text-fade-in-out/text-fade-in-out.json';\nimport exampleFile106 from '../../fixtures/text-to-speech/text-to-speech.json';\nimport exampleFile107 from '../../fixtures/toggle-music-play-sound/toggle-music-play-sound.json';\nimport exampleFile108 from '../../fixtures/type-on-text-effect/type-on-text-effect.json';\nimport exampleFile109 from '../../fixtures/unlock-items/unlock-items.json';\nimport exampleFile110 from '../../fixtures/video-player/video-player.json';\nimport exampleFile111 from '../../fixtures/z-depth/z-depth.json';\nimport exampleFile112 from '../../fixtures/zombie-laser/zombie-laser.json';\n\n// prettier-ignore\nexport default {\n  'example://admob': exampleFile0,\n  'example://advanced-shape-based-painter': exampleFile1,\n  'example://animation-speed-scale': exampleFile2,\n  'example://asteroids': exampleFile3,\n  'example://basic-ai-with-pathfinding': exampleFile4,\n  'example://basic-artificial-intelligence': exampleFile5,\n  'example://basic-topdown-car-driving': exampleFile6,\n  'example://bbtext-object-demo': exampleFile7,\n  'example://betabox-basics-learning-experience': exampleFile8,\n  'example://bomb-the-crate': exampleFile9,\n  'example://bouncing-ball-and-rope': exampleFile10,\n  'example://breakout': exampleFile11,\n  'example://buttons': exampleFile12,\n  'example://car-physics': exampleFile13,\n  'example://center-object-within-another': exampleFile14,\n  'example://change-position-of-object': exampleFile15,\n  'example://change-scale-of-sprites': exampleFile16,\n  'example://change-sprite-animation': exampleFile17,\n  'example://change-sprite-color': exampleFile18,\n  'example://character-selection': exampleFile19,\n  'example://count-down-timer': exampleFile20,\n  'example://create-object-with-mouseclick': exampleFile21,\n  'example://create-random-object': exampleFile22,\n  'example://custom-font': exampleFile23,\n  'example://custom-mouse-pointer': exampleFile24,\n  'example://customize-keys-with-lastpressedkey': exampleFile25,\n  'example://device-orientation-ballgame': exampleFile26,\n  'example://device-orientation-compass': exampleFile27,\n  'example://device-vibration': exampleFile28,\n  'example://dialogue-tree-with-yarn': exampleFile29,\n  'example://downhill-bike-physics-demo': exampleFile30,\n  'example://drag-camera-with-mouse': exampleFile31,\n  'example://drop-collect-items-from-storage': exampleFile32,\n  'example://endless-up-runner': exampleFile33,\n  'example://exit-app': exampleFile34,\n  'example://facebook-instant-game': exampleFile35,\n  'example://filesystem-create-directory': exampleFile36,\n  'example://find-diagonals': exampleFile37,\n  'example://geodash': exampleFile38,\n  'example://geometry-monster': exampleFile39,\n  'example://health-bar': exampleFile40,\n  'example://infinite-scrolling-background': exampleFile41,\n  'example://inventory-system': exampleFile42,\n  'example://isometric-game': exampleFile43,\n  'example://javascript-blocks-in-platformer': exampleFile44,\n  'example://keyboard-practice': exampleFile45,\n  'example://level-editor': exampleFile46,\n  'example://level-selection-unlock': exampleFile47,\n  'example://load-image-from-url': exampleFile48,\n  'example://magnet': exampleFile49,\n  'example://manipulate-text-object': exampleFile50,\n  'example://menu-with-functions-and-text-effects': exampleFile51,\n  'example://move-camera-to-position': exampleFile52,\n  'example://move-object-back-and-forth': exampleFile53,\n  'example://move-object-in-circle': exampleFile54,\n  'example://move-object-toward-position': exampleFile55,\n  'example://move-object-with-mouse-joint': exampleFile56,\n  'example://move-object-with-physics': exampleFile57,\n  'example://multi-language-menu': exampleFile58,\n  'example://multiplayer-platformer-with-gamepads': exampleFile59,\n  'example://multitouch': exampleFile60,\n  'example://object-gravity': exampleFile61,\n  'example://object-selection': exampleFile62,\n  'example://objects-timers': exampleFile63,\n  'example://open-url-in-browser': exampleFile64,\n  'example://pairs': exampleFile65,\n  'example://parallax': exampleFile66,\n  'example://parallax-scrolling': exampleFile67,\n  'example://parse-json-from-api': exampleFile68,\n  'example://parse-json-string': exampleFile69,\n  'example://particles-explosions': exampleFile70,\n  'example://particles-various-effects': exampleFile71,\n  'example://pathfinding': exampleFile72,\n  'example://pathfinding-basics': exampleFile73,\n  'example://physics': exampleFile74,\n  'example://physics-joints-demo': exampleFile75,\n  'example://physics-joints-settings-demo': exampleFile76,\n  'example://pin-object-to-another': exampleFile77,\n  'example://pin-object-to-another-multiple-parents': exampleFile78,\n  'example://pixel-perfect-platform-game': exampleFile79,\n  'example://plane-and-clouds': exampleFile80,\n  'example://platformer': exampleFile81,\n  'example://platformer-double-jump': exampleFile82,\n  'example://play-music-on-mobile': exampleFile83,\n  'example://play-stop-sprite-animation': exampleFile84,\n  'example://racing-game': exampleFile85,\n  'example://ragdoll': exampleFile86,\n  'example://rain': exampleFile87,\n  'example://random-color-picker': exampleFile88,\n  'example://rotate-toward-mouse': exampleFile89,\n  'example://rotate-toward-position': exampleFile90,\n  'example://rotate-with-keypress': exampleFile91,\n  'example://save-load': exampleFile92,\n  'example://screen-shake': exampleFile93,\n  'example://shoot-bullet-in-parabola': exampleFile94,\n  'example://shoot-bullets': exampleFile95,\n  'example://shooting-bullets-explanation': exampleFile96,\n  'example://simple-space-shooter': exampleFile97,\n  'example://snap-object-to-grid': exampleFile98,\n  'example://space-invaders': exampleFile99,\n  'example://space-shooter': exampleFile100,\n  'example://splash-screen': exampleFile101,\n  'example://sprite-fade-in-out': exampleFile102,\n  'example://take-screenshot': exampleFile103,\n  'example://text-entry-object': exampleFile104,\n  'example://text-fade-in-out': exampleFile105,\n  'example://text-to-speech': exampleFile106,\n  'example://toggle-music-play-sound': exampleFile107,\n  'example://type-on-text-effect': exampleFile108,\n  'example://unlock-items': exampleFile109,\n  'example://video-player': exampleFile110,\n  'example://z-depth': exampleFile111,\n  'example://zombie-laser': exampleFile112,\n};\n","// @flow\nimport { t } from '@lingui/macro';\nimport { type StorageProvider, type FileMetadata } from '../index';\nimport internalExampleFiles from './InternalExampleFiles';\nimport {\n  POSITIONAL_ARGUMENTS_KEY,\n  type AppArguments,\n} from '../../Utils/Window';\n\n/**\n * \"Internal\" storage giving access to embedded examples.\n * Used for the web-app.\n */\nexport default ({\n  internalName: 'InternalFile',\n  name: t`Internal files`,\n  hiddenInOpenDialog: true,\n  hiddenInSaveDialog: true,\n  getFileMetadataFromAppArguments: (appArguments: AppArguments) => {\n    if (!appArguments[POSITIONAL_ARGUMENTS_KEY]) return null;\n    if (!appArguments[POSITIONAL_ARGUMENTS_KEY].length) return null;\n\n    return {\n      fileIdentifier: appArguments[POSITIONAL_ARGUMENTS_KEY][0],\n    };\n  },\n  createOperations: ({ setDialog, closeDialog }) => ({\n    onOpen: (fileMetadata: FileMetadata) => {\n      const url = fileMetadata.fileIdentifier;\n      if (internalExampleFiles[url])\n        return Promise.resolve({\n          content: internalExampleFiles[url],\n        });\n\n      return Promise.reject(new Error(`Unknown built-in game with URL ${url}`));\n    },\n  }),\n}: StorageProvider);\n","// @flow\n\n/**\n * Load a script from the specified source. The returned promise\n * resolves when the script is loaded.\n * @param source The script source\n */\nexport const loadScript = (source: string): Promise<void> => {\n  return new Promise((resolve, reject) => {\n    if (typeof document === 'undefined') {\n      reject(\n        new Error('loadScript is only supported in a browser environment.')\n      );\n      return;\n    }\n\n    const { body } = document;\n    if (!body) {\n      reject(\n        new Error('loadScript is only supported in a browser environment.')\n      );\n      return;\n    }\n\n    const scriptElement = document.createElement('script');\n    scriptElement.type = 'text/javascript';\n    scriptElement.src = source;\n    scriptElement.onload = () => resolve();\n    scriptElement.onerror = error => reject(error);\n    scriptElement.onabort = error => reject(error);\n\n    body.appendChild(scriptElement);\n  });\n};\n"],"sourceRoot":""}